"use strict";var Tc=Object.defineProperty;var Pc=(r,e,t)=>e in r?Tc(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ee=(r,e,t)=>(Pc(r,typeof e!="symbol"?e+"":e,t),t);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const Be=require("obsidian"),Oc=require("electron"),xc=require("stream");function Ze(){}function ft(r,e){for(const t in e)r[t]=e[t];return r}function fo(r){return r()}function $s(){return Object.create(null)}function It(r){r.forEach(fo)}function Wt(r){return typeof r=="function"}function At(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function Sc(r){return Object.keys(r).length===0}function Cc(r,...e){if(r==null){for(const n of e)n(void 0);return Ze}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Di(r,e,t){r.$$.on_destroy.push(Cc(e,t))}function kc(r,e,t,n){if(r){const i=ho(r,e,t,n);return r[0](i)}}function ho(r,e,t,n){return r[1]&&n?ft(t.ctx.slice(),r[1](n(e))):t.ctx}function Nc(r,e,t,n){if(r[2]&&n){const i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],a=Math.max(e.dirty.length,i.length);for(let o=0;o<a;o+=1)s[o]=e.dirty[o]|i[o];return s}return e.dirty|i}return e.dirty}function Rc(r,e,t,n,i,s){if(i){const a=ho(e,t,n,s);r.p(a,i)}}function Dc(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function er(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function jc(r){return r&&Wt(r.destroy)?r.destroy:Ze}function Ne(r,e){r.appendChild(e)}function tt(r,e,t){r.insertBefore(e,t||null)}function Ge(r){r.parentNode&&r.parentNode.removeChild(r)}function We(r){return document.createElement(r)}function Rr(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Qi(r){return document.createTextNode(r)}function Lt(){return Qi(" ")}function ji(){return Qi("")}function Gt(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function Li(r){return function(e){return e.preventDefault(),r.call(this,e)}}function Ae(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Lc(r){return Array.from(r.childNodes)}function Uc(r,e){e=""+e,r.data!==e&&(r.data=e)}function zs(r,e){r.value=e??""}function Jr(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}let es;function Tr(r){es=r}const Ft=[],Bs=[];let Yt=[];const Zs=[],Mc=Promise.resolve();let Ui=!1;function $c(){Ui||(Ui=!0,Mc.then(po))}function Mi(r){Yt.push(r)}const fi=new Set;let zt=0;function po(){if(zt!==0)return;const r=es;do{try{for(;zt<Ft.length;){const e=Ft[zt];zt++,Tr(e),zc(e.$$)}}catch(e){throw Ft.length=0,zt=0,e}for(Tr(null),Ft.length=0,zt=0;Bs.length;)Bs.pop()();for(let e=0;e<Yt.length;e+=1){const t=Yt[e];fi.has(t)||(fi.add(t),t())}Yt.length=0}while(Ft.length);for(;Zs.length;)Zs.pop()();Ui=!1,fi.clear(),Tr(r)}function zc(r){if(r.fragment!==null){r.update(),It(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Mi)}}function Bc(r){const e=[],t=[];Yt.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Yt=e}const Xr=new Set;let Rt;function mo(){Rt={r:0,c:[],p:Rt}}function go(){Rt.r||It(Rt.c),Rt=Rt.p}function He(r,e){r&&r.i&&(Xr.delete(r),r.i(e))}function Ye(r,e,t,n){if(r&&r.o){if(Xr.has(r))return;Xr.add(r),Rt.c.push(()=>{Xr.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function Vs(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Zc(r,e){Ye(r,1,1,()=>{e.delete(r.key)})}function Vc(r,e,t,n,i,s,a,o,u,c,d,f){let m=r.length,b=s.length,g=m;const _={};for(;g--;)_[r[g].key]=g;const h=[],T=new Map,j=new Map,S=[];for(g=b;g--;){const C=f(i,s,g),v=t(C);let A=a.get(v);A?n&&S.push(()=>A.p(C,e)):(A=c(v,C),A.c()),T.set(v,h[g]=A),v in _&&j.set(v,Math.abs(g-_[v]))}const R=new Set,M=new Set;function O(C){He(C,1),C.m(o,d),a.set(C.key,C),d=C.first,b--}for(;m&&b;){const C=h[b-1],v=r[m-1],A=C.key,I=v.key;C===v?(d=C.first,m--,b--):T.has(I)?!a.has(A)||R.has(A)?O(C):M.has(I)?m--:j.get(A)>j.get(I)?(M.add(A),O(C)):(R.add(I),m--):(u(v,a),m--)}for(;m--;){const C=r[m];T.has(C.key)||u(C,a)}for(;b;)O(h[b-1]);return It(S),h}function ts(r,e){const t={},n={},i={$$scope:1};let s=r.length;for(;s--;){const a=r[s],o=e[s];if(o){for(const u in a)u in o||(n[u]=1);for(const u in o)i[u]||(t[u]=o[u],i[u]=1);r[s]=o}else for(const u in a)i[u]=1}for(const a in n)a in t||(t[a]=void 0);return t}function rs(r){return typeof r=="object"&&r!==null?r:{}}function wt(r){r&&r.c()}function mt(r,e,t){const{fragment:n,after_update:i}=r.$$;n&&n.m(e,t),Mi(()=>{const s=r.$$.on_mount.map(fo).filter(Wt);r.$$.on_destroy?r.$$.on_destroy.push(...s):It(s),r.$$.on_mount=[]}),i.forEach(Mi)}function gt(r,e){const t=r.$$;t.fragment!==null&&(Bc(t.after_update),It(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Fc(r,e){r.$$.dirty[0]===-1&&(Ft.push(r),$c(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function Mt(r,e,t,n,i,s,a=null,o=[-1]){const u=es;Tr(r);const c=r.$$={fragment:null,ctx:[],props:s,update:Ze,not_equal:i,bound:$s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:$s(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};a&&a(c.root);let d=!1;if(c.ctx=t?t(r,e.props||{},(f,m,...b)=>{const g=b.length?b[0]:m;return c.ctx&&i(c.ctx[f],c.ctx[f]=g)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](g),d&&Fc(r,f)),m}):[],c.update(),d=!0,It(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=Lc(e.target);c.fragment&&c.fragment.l(f),f.forEach(Ge)}else c.fragment&&c.fragment.c();e.intro&&He(r.$$.fragment),mt(r,e.target,e.anchor),po()}Tr(u)}class $t{constructor(){Ee(this,"$$");Ee(this,"$$set")}$destroy(){gt(this,1),this.$destroy=Ze}$on(e,t){if(!Wt(t))return Ze;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Sc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Kc="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Kc);function Fs(r){let e,t;return{c(){e=Rr("title"),t=Qi(r[0])},m(n,i){tt(n,e,i),Ne(e,t)},p(n,i){i&1&&Uc(t,n[0])},d(n){n&&Ge(e)}}}function qc(r){let e,t,n,i=r[0]&&Fs(r);const s=r[3].default,a=kc(s,r,r[2],null);return{c(){e=Rr("svg"),i&&i.c(),t=ji(),a&&a.c(),Ae(e,"xmlns","http://www.w3.org/2000/svg"),Ae(e,"viewBox",r[1]),Ae(e,"class","svelte-c8tyih")},m(o,u){tt(o,e,u),i&&i.m(e,null),Ne(e,t),a&&a.m(e,null),n=!0},p(o,[u]){o[0]?i?i.p(o,u):(i=Fs(o),i.c(),i.m(e,t)):i&&(i.d(1),i=null),a&&a.p&&(!n||u&4)&&Rc(a,s,o,o[2],n?Nc(s,o[2],u,null):Dc(o[2]),null),(!n||u&2)&&Ae(e,"viewBox",o[1])},i(o){n||(He(a,o),n=!0)},o(o){Ye(a,o),n=!1},d(o){o&&Ge(e),i&&i.d(),a&&a.d(o)}}}function Hc(r,e,t){let{$$slots:n={},$$scope:i}=e,{title:s=null}=e,{viewBox:a}=e;return r.$$set=o=>{"title"in o&&t(0,s=o.title),"viewBox"in o&&t(1,a=o.viewBox),"$$scope"in o&&t(2,i=o.$$scope)},[s,a,i,n]}class ns extends $t{constructor(e){super(),Mt(this,e,Hc,qc,At,{title:0,viewBox:1})}}function Wc(r){let e;return{c(){e=Rr("path"),Ae(e,"d","M2.01 21L23 12 2.01 3 2 10l15 2-15 2z")},m(t,n){tt(t,e,n)},p:Ze,d(t){t&&Ge(e)}}}function Gc(r){let e,t;const n=[{viewBox:"0 0 24 24"},r[0]];let i={$$slots:{default:[Wc]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=ft(i,n[s]);return e=new ns({props:i}),{c(){wt(e.$$.fragment)},m(s,a){mt(e,s,a),t=!0},p(s,[a]){const o=a&1?ts(n,[n[0],rs(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){t||(He(e.$$.fragment,s),t=!0)},o(s){Ye(e.$$.fragment,s),t=!1},d(s){gt(e,s)}}}function Yc(r,e,t){return r.$$set=n=>{t(0,e=ft(ft({},e),er(n)))},e=er(e),[e]}class Jc extends $t{constructor(e){super(),Mt(this,e,Yc,Gc,At,{})}}const Bt=[];function is(r,e=Ze){let t;const n=new Set;function i(o){if(At(r,o)&&(r=o,t)){const u=!Bt.length;for(const c of n)c[1](),Bt.push(c,r);if(u){for(let c=0;c<Bt.length;c+=2)Bt[c][0](Bt[c+1]);Bt.length=0}}}function s(o){i(o(r))}function a(o,u=Ze){const c=[o,u];return n.add(c),n.size===1&&(t=e(i,s)||Ze),o(r),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:a}}var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dn(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jn={exports:{}},yo={};function rt(r,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(r)),this._timeouts=r,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Xc=rt;rt.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};rt.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};rt.prototype.retry=function(r){if(this._timeout&&clearTimeout(this._timeout),!r)return!1;var e=new Date().getTime();if(r&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(r),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(r);var t=this._timeouts.shift();if(t===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),t=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},t),this._options.unref&&this._timer.unref(),!0};rt.prototype.attempt=function(r,e){this._fn=r,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var t=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){t._operationTimeoutCb()},t._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};rt.prototype.try=function(r){console.log("Using RetryOperation.try() is deprecated"),this.attempt(r)};rt.prototype.start=function(r){console.log("Using RetryOperation.start() is deprecated"),this.attempt(r)};rt.prototype.start=rt.prototype.try;rt.prototype.errors=function(){return this._errors};rt.prototype.attempts=function(){return this._attempts};rt.prototype.mainError=function(){if(this._errors.length===0)return null;for(var r={},e=null,t=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,a=(r[s]||0)+1;r[s]=a,a>=t&&(e=i,t=a)}return e};(function(r){var e=Xc;r.operation=function(t){var n=r.timeouts(t);return new e(n,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},r.timeouts=function(t){if(t instanceof Array)return[].concat(t);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in t)n[i]=t[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],a=0;a<n.retries;a++)s.push(this.createTimeout(a,n));return t&&t.forever&&!s.length&&s.push(this.createTimeout(a,n)),s.sort(function(o,u){return o-u}),s},r.createTimeout=function(t,n){var i=n.randomize?Math.random()+1:1,s=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,t));return s=Math.min(s,n.maxTimeout),s},r.wrap=function(t,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var s in t)typeof t[s]=="function"&&i.push(s)}for(var a=0;a<i.length;a++){var o=i[a],u=t[o];t[o]=(function(d){var f=r.operation(n),m=Array.prototype.slice.call(arguments,1),b=m.pop();m.push(function(g){f.retry(g)||(g&&(arguments[0]=f.mainError()),b.apply(this,arguments))}),f.attempt(function(){d.apply(t,m)})}).bind(t,u),t[o].options=n}}})(yo);var Qc=yo;const el=Qc,tl=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class bo extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const rl=(r,e,t)=>{const n=t.retries-(e-1);return r.attemptNumber=e,r.retriesLeft=n,r},nl=r=>tl.includes(r),vo=(r,e)=>new Promise((t,n)=>{e={onFailedAttempt:()=>{},retries:10,...e};const i=el.operation(e);i.attempt(async s=>{try{t(await r(s))}catch(a){if(!(a instanceof Error)){n(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof bo)i.stop(),n(a.originalError);else if(a instanceof TypeError&&!nl(a.message))i.stop(),n(a);else{rl(a,s,e);try{await e.onFailedAttempt(a)}catch(o){n(o);return}i.retry(a)||n(i.mainError())}}})});jn.exports=vo;jn.exports.default=vo;jn.exports.AbortError=bo;var il=jn.exports;const tn=Dn(il);let Zr;const sl=new Uint8Array(16);function al(){if(!Zr&&(Zr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Zr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zr(sl)}const ke=[];for(let r=0;r<256;++r)ke.push((r+256).toString(16).slice(1));function ol(r,e=0){return ke[r[e+0]]+ke[r[e+1]]+ke[r[e+2]]+ke[r[e+3]]+"-"+ke[r[e+4]]+ke[r[e+5]]+"-"+ke[r[e+6]]+ke[r[e+7]]+"-"+ke[r[e+8]]+ke[r[e+9]]+"-"+ke[r[e+10]]+ke[r[e+11]]+ke[r[e+12]]+ke[r[e+13]]+ke[r[e+14]]+ke[r[e+15]]}const ul=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ks={randomUUID:ul};function ht(r,e,t){if(Ks.randomUUID&&!e&&!r)return Ks.randomUUID();r=r||{};const n=r.random||(r.rng||al)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=n[i];return e}return ol(n)}var cl=function(r,e){if(typeof r!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,r.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()};const ll=Dn(cl);var wo={exports:{}};const dl=/[\p{Lu}]/u,fl=/[\p{Ll}]/u,qs=/^[\p{Lu}](?![\p{Lu}])/gu,_o=/([\p{Alpha}\p{N}_]|$)/u,Io=/[_.\- ]+/,hl=new RegExp("^"+Io.source),Hs=new RegExp(Io.source+_o.source,"gu"),Ws=new RegExp("\\d+"+_o.source,"gu"),pl=(r,e,t)=>{let n=!1,i=!1,s=!1;for(let a=0;a<r.length;a++){const o=r[a];n&&dl.test(o)?(r=r.slice(0,a)+"-"+r.slice(a),n=!1,s=i,i=!0,a++):i&&s&&fl.test(o)?(r=r.slice(0,a-1)+"-"+r.slice(a-1),s=i,i=!1,n=!0):(n=e(o)===o&&t(o)!==o,s=i,i=t(o)===o&&e(o)!==o)}return r},ml=(r,e)=>(qs.lastIndex=0,r.replace(qs,t=>e(t))),gl=(r,e)=>(Hs.lastIndex=0,Ws.lastIndex=0,r.replace(Hs,(t,n)=>e(n)).replace(Ws,t=>e(t))),Ao=(r,e)=>{if(!(typeof r=="string"||Array.isArray(r)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(r)?r=r.map(s=>s.trim()).filter(s=>s.length).join("-"):r=r.trim(),r.length===0)return"";const t=e.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(e.locale),n=e.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(e.locale);return r.length===1?e.pascalCase?n(r):t(r):(r!==t(r)&&(r=pl(r,t,n)),r=r.replace(hl,""),e.preserveConsecutiveUppercase?r=ml(r,t):r=t(r),e.pascalCase&&(r=n(r.charAt(0))+r.slice(1)),gl(r,n))};wo.exports=Ao;wo.exports.default=Ao;function yl(r,e){return(e==null?void 0:e[r])||ll(r)}function bl(r,e,t){const n={};for(const i in r)Object.hasOwn(r,i)&&(n[e(i,t)]=r[i]);return n}function Gs(r){return Array.isArray(r)?[...r]:{...r}}function vl(r,e){const t=Gs(r);for(const[n,i]of Object.entries(e)){const[s,...a]=n.split(".").reverse();let o=t;for(const u of a.reverse()){if(o[u]===void 0)break;o[u]=Gs(o[u]),o=o[u]}o[s]!==void 0&&(o[s]={lc:1,type:"secret",id:[i]})}return t}function Eo(r){const e=Object.getPrototypeOf(r);return typeof r.lc_name=="function"&&(typeof e.lc_name!="function"||r.lc_name()!==e.lc_name())?r.lc_name():r.name}class _t{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,Eo(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...t){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof _t||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},t={},n=Object.keys(this.lc_kwargs).reduce((i,s)=>(i[s]=s in this?this[s]:this.lc_kwargs[s],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(t,Reflect.get(i,"lc_secrets",this)),Object.assign(n,Reflect.get(i,"lc_attributes",this));return Object.keys(t).forEach(i=>{let s=this,a=n;const[o,...u]=i.split(".").reverse();for(const c of u.reverse()){if(!(c in s)||s[c]===void 0)return;(!(c in a)||a[c]===void 0)&&(typeof s[c]=="object"&&s[c]!=null?a[c]={}:Array.isArray(s[c])&&(a[c]=[])),s=s[c],a=a[c]}o in s&&s[o]!==void 0&&(a[o]=a[o]||s[o])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:bl(Object.keys(t).length?vl(n,t):n,yl,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}class wl{}class Dr extends wl{get lc_namespace(){return["langchain","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,Eo(this.constructor)]}constructor(e){var t;super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:typeof process<"u"?((t=process.env)==null?void 0:t.LANGCHAIN_CALLBACKS_BACKGROUND)!=="true":!0}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever)}copy(){return new this.constructor(this)}toJSON(){return _t.prototype.toJSON.call(this)}toJSONNotImplemented(){return _t.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class t extends Dr{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:ht()}),Object.assign(this,e)}}return new t}}var ss={exports:{}};ss.exports;(function(r){const t=(s=0)=>a=>`\x1B[${38+s};5;${a}m`,n=(s=0)=>(a,o,u)=>`\x1B[${38+s};2;${a};${o};${u}m`;function i(){const s=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[o,u]of Object.entries(a)){for(const[c,d]of Object.entries(u))a[c]={open:`\x1B[${d[0]}m`,close:`\x1B[${d[1]}m`},u[c]=a[c],s.set(d[0],d[1]);Object.defineProperty(a,o,{value:u,enumerable:!1})}return Object.defineProperty(a,"codes",{value:s,enumerable:!1}),a.color.close="\x1B[39m",a.bgColor.close="\x1B[49m",a.color.ansi256=t(),a.color.ansi16m=n(),a.bgColor.ansi256=t(10),a.bgColor.ansi16m=n(10),Object.defineProperties(a,{rgbToAnsi256:{value:(o,u,c)=>o===u&&u===c?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(u/255*5)+Math.round(c/255*5),enumerable:!1},hexToRgb:{value:o=>{const u=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!u)return[0,0,0];let{colorString:c}=u.groups;c.length===3&&(c=c.split("").map(f=>f+f).join(""));const d=Number.parseInt(c,16);return[d>>16&255,d>>8&255,d&255]},enumerable:!1},hexToAnsi256:{value:o=>a.rgbToAnsi256(...a.hexToRgb(o)),enumerable:!1}}),a}Object.defineProperty(r,"exports",{enumerable:!0,get:i})})(ss);var _l=ss.exports;const To=Dn(_l);function hi(r,e){return r&&!Array.isArray(r)&&typeof r=="object"?r:{[e]:r}}class Ln extends Dr{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}_addChildRun(e,t){e.child_runs.push(t)}async _startTrace(e){var t;if(e.parent_run_id!==void 0){const n=this.runMap.get(e.parent_run_id);n&&(this._addChildRun(n,e),n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order))}this.runMap.set(e.id,e),await((t=this.onRunCreate)==null?void 0:t.call(this,e))}async _endTrace(e){var n;const t=e.parent_run_id!==void 0&&this.runMap.get(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await((n=this.onRunUpdate)==null?void 0:n.call(this,e))}_getExecutionOrder(e){const t=e!==void 0&&this.runMap.get(e);return t?t.child_execution_order+1:1}async handleLLMStart(e,t,n,i,s,a,o,u){var b;const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...s,metadata:o}:s,m={id:n,name:u??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{prompts:t},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:a||[]};return await this._startTrace(m),await((b=this.onLLMStart)==null?void 0:b.call(this,m)),m}async handleChatModelStart(e,t,n,i,s,a,o,u){var b;const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...s,metadata:o}:s,m={id:n,name:u??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{messages:t},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:a||[]};return await this._startTrace(m),await((b=this.onLLMStart)==null?void 0:b.call(this,m)),m}async handleLLMEnd(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="llm")throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.outputs=e,n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onLLMEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleLLMError(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="llm")throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onLLMError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleChainStart(e,t,n,i,s,a,o,u){var m;const c=this._getExecutionOrder(i),d=Date.now(),f={id:n,name:u??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:t,execution_order:c,child_execution_order:c,run_type:o??"chain",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(f),await((m=this.onChainStart)==null?void 0:m.call(this,f)),f}async handleChainEnd(e,t,n,i,s){var o;const a=this.runMap.get(t);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.outputs=hi(e,"output"),a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),(s==null?void 0:s.inputs)!==void 0&&(a.inputs=hi(s.inputs,"input")),await((o=this.onChainEnd)==null?void 0:o.call(this,a)),await this._endTrace(a),a}async handleChainError(e,t,n,i,s){var o;const a=this.runMap.get(t);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.error=e.message,a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),(s==null?void 0:s.inputs)!==void 0&&(a.inputs=hi(s.inputs,"input")),await((o=this.onChainError)==null?void 0:o.call(this,a)),await this._endTrace(a),a}async handleToolStart(e,t,n,i,s,a,o){var f;const u=this._getExecutionOrder(i),c=Date.now(),d={id:n,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{input:t},execution_order:u,child_execution_order:u,run_type:"tool",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(d),await((f=this.onToolStart)==null?void 0:f.call(this,d)),d}async handleToolEnd(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="tool")throw new Error("No tool run to end");return n.end_time=Date.now(),n.outputs={output:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleToolError(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="tool")throw new Error("No tool run to end");return n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleAgentAction(e,t){var s;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="chain")return;const i=n;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((s=this.onAgentAction)==null?void 0:s.call(this,n))}async handleAgentEnd(e,t){var i;const n=this.runMap.get(t);!n||(n==null?void 0:n.run_type)!=="chain"||(n.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,n)))}async handleRetrieverStart(e,t,n,i,s,a,o){var f;const u=this._getExecutionOrder(i),c=Date.now(),d={id:n,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{query:t},execution_order:u,child_execution_order:u,run_type:"retriever",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(d),await((f=this.onRetrieverStart)==null?void 0:f.call(this,d)),d}async handleRetrieverEnd(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="retriever")throw new Error("No retriever run to end");return n.end_time=Date.now(),n.outputs={documents:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleRetrieverError(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="retriever")throw new Error("No retriever run to end");return n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleText(e,t){var i;const n=this.runMap.get(t);!n||(n==null?void 0:n.run_type)!=="chain"||(n.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,n)))}async handleLLMNewToken(e,t,n,i,s,a){var u;const o=this.runMap.get(n);if(!o||(o==null?void 0:o.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:t,chunk:a==null?void 0:a.chunk}}),await((u=this.onLLMNewToken)==null?void 0:u.call(this,o,e)),o}}function ze(r,e){return`${r.open}${e}${r.close}`}function nt(r,e){try{return JSON.stringify(r,null,2)}catch{return e}}function yt(r){if(!r.end_time)return"";const e=r.end_time-r.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:qe}=To;class Ys extends Ln{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const t=[];let n=e;for(;n.parent_run_id;){const i=this.runMap.get(n.parent_run_id);if(i)t.push(i),n=i;else break}return t}getBreadcrumbs(e){const n=[...this.getParents(e).reverse(),e].map((i,s,a)=>{const o=`${i.execution_order}:${i.run_type}:${i.name}`;return s===a.length-1?ze(To.bold,o):o}).join(" > ");return ze(qe.grey,n)}onChainStart(e){const t=this.getBreadcrumbs(e);console.log(`${ze(qe.green,"[chain/start]")} [${t}] Entering Chain run with input: ${nt(e.inputs,"[inputs]")}`)}onChainEnd(e){const t=this.getBreadcrumbs(e);console.log(`${ze(qe.cyan,"[chain/end]")} [${t}] [${yt(e)}] Exiting Chain run with output: ${nt(e.outputs,"[outputs]")}`)}onChainError(e){const t=this.getBreadcrumbs(e);console.log(`${ze(qe.red,"[chain/error]")} [${t}] [${yt(e)}] Chain run errored with error: ${nt(e.error,"[error]")}`)}onLLMStart(e){const t=this.getBreadcrumbs(e),n="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${ze(qe.green,"[llm/start]")} [${t}] Entering LLM run with input: ${nt(n,"[inputs]")}`)}onLLMEnd(e){const t=this.getBreadcrumbs(e);console.log(`${ze(qe.cyan,"[llm/end]")} [${t}] [${yt(e)}] Exiting LLM run with output: ${nt(e.outputs,"[response]")}`)}onLLMError(e){const t=this.getBreadcrumbs(e);console.log(`${ze(qe.red,"[llm/error]")} [${t}] [${yt(e)}] LLM run errored with error: ${nt(e.error,"[error]")}`)}onToolStart(e){var n;const t=this.getBreadcrumbs(e);console.log(`${ze(qe.green,"[tool/start]")} [${t}] Entering Tool run with input: "${(n=e.inputs.input)==null?void 0:n.trim()}"`)}onToolEnd(e){var n,i;const t=this.getBreadcrumbs(e);console.log(`${ze(qe.cyan,"[tool/end]")} [${t}] [${yt(e)}] Exiting Tool run with output: "${(i=(n=e.outputs)==null?void 0:n.output)==null?void 0:i.trim()}"`)}onToolError(e){const t=this.getBreadcrumbs(e);console.log(`${ze(qe.red,"[tool/error]")} [${t}] [${yt(e)}] Tool run errored with error: ${nt(e.error,"[error]")}`)}onRetrieverStart(e){const t=this.getBreadcrumbs(e);console.log(`${ze(qe.green,"[retriever/start]")} [${t}] Entering Retriever run with input: ${nt(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const t=this.getBreadcrumbs(e);console.log(`${ze(qe.cyan,"[retriever/end]")} [${t}] [${yt(e)}] Exiting Retriever run with output: ${nt(e.outputs,"[outputs]")}`)}onRetrieverError(e){const t=this.getBreadcrumbs(e);console.log(`${ze(qe.red,"[retriever/error]")} [${t}] [${yt(e)}] Retriever run errored with error: ${nt(e.error,"[error]")}`)}onAgentAction(e){const t=e,n=this.getBreadcrumbs(e);console.log(`${ze(qe.blue,"[agent/action]")} [${n}] Agent selected action: ${nt(t.actions[t.actions.length-1],"[action]")}`)}}var Po={},Oo={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var b=new i(d,f||u,m),g=t?t+c:c;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],b]:u._events[g].push(b):(u._events[g]=b,u._eventsCount++),u}function a(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=t?t+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,b=f.length,g=new Array(b);m<b;m++)g[m]=f[m].fn;return g},o.prototype.listenerCount=function(c){var d=t?t+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,m,b,g){var _=t?t+c:c;if(!this._events[_])return!1;var h=this._events[_],T=arguments.length,j,S;if(h.fn){switch(h.once&&this.removeListener(c,h.fn,void 0,!0),T){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,d),!0;case 3:return h.fn.call(h.context,d,f),!0;case 4:return h.fn.call(h.context,d,f,m),!0;case 5:return h.fn.call(h.context,d,f,m,b),!0;case 6:return h.fn.call(h.context,d,f,m,b,g),!0}for(S=1,j=new Array(T-1);S<T;S++)j[S-1]=arguments[S];h.fn.apply(h.context,j)}else{var R=h.length,M;for(S=0;S<R;S++)switch(h[S].once&&this.removeListener(c,h[S].fn,void 0,!0),T){case 1:h[S].fn.call(h[S].context);break;case 2:h[S].fn.call(h[S].context,d);break;case 3:h[S].fn.call(h[S].context,d,f);break;case 4:h[S].fn.call(h[S].context,d,f,m);break;default:if(!j)for(M=1,j=new Array(T-1);M<T;M++)j[M-1]=arguments[M];h[S].fn.apply(h[S].context,j)}}return!0},o.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,m){var b=t?t+c:c;if(!this._events[b])return this;if(!d)return a(this,b),this;var g=this._events[b];if(g.fn)g.fn===d&&(!m||g.once)&&(!f||g.context===f)&&a(this,b);else{for(var _=0,h=[],T=g.length;_<T;_++)(g[_].fn!==d||m&&!g[_].once||f&&g[_].context!==f)&&h.push(g[_]);h.length?this._events[b]=h.length===1?h[0]:h:a(this,b)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=t?t+c:c,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,r.exports=o})(Oo);var Il=Oo.exports,Un={exports:{}},Al=(r,e)=>(e=e||(()=>{}),r.then(t=>new Promise(n=>{n(e())}).then(()=>t),t=>new Promise(n=>{n(e())}).then(()=>{throw t})));const El=Al;class xo extends Error{constructor(e){super(e),this.name="TimeoutError"}}const So=(r,e,t)=>new Promise((n,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){n(r);return}const s=setTimeout(()=>{if(typeof t=="function"){try{n(t())}catch(u){i(u)}return}const a=typeof t=="string"?t:`Promise timed out after ${e} milliseconds`,o=t instanceof Error?t:new xo(a);typeof r.cancel=="function"&&r.cancel(),i(o)},e);El(r.then(n,i),()=>{clearTimeout(s)})});Un.exports=So;Un.exports.default=So;Un.exports.TimeoutError=xo;var Tl=Un.exports,as={},os={};Object.defineProperty(os,"__esModule",{value:!0});function Pl(r,e,t){let n=0,i=r.length;for(;i>0;){const s=i/2|0;let a=n+s;t(r[a],e)<=0?(n=++a,i-=s+1):i=s}return n}os.default=Pl;Object.defineProperty(as,"__esModule",{value:!0});const Ol=os;class xl{constructor(){this._queue=[]}enqueue(e,t){t=Object.assign({priority:0},t);const n={priority:t.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority){this._queue.push(n);return}const i=Ol.default(this._queue,n,(s,a)=>a.priority-s.priority);this._queue.splice(i,0,n)}dequeue(){const e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(t=>t.run)}get size(){return this._queue.length}}as.default=xl;Object.defineProperty(Po,"__esModule",{value:!0});const Sl=Il,Co=Tl,Cl=as,Vr=()=>{},kl=new Co.TimeoutError;class Nl extends Sl{constructor(e){var t,n,i,s;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Vr,this._resolveIdle=Vr,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:Cl.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(t=e.intervalCap)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Vr,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Vr,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(this._intervalId===void 0){const t=this._intervalEnd-e;if(t<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return t?(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((n,i)=>{const s=async()=>{this._pendingCount++,this._intervalCount++;try{const a=this._timeout===void 0&&t.timeout===void 0?e():Co.default(Promise.resolve(e()),t.timeout===void 0?this._timeout:t.timeout,()=>{(t.throwOnTimeout===void 0?this._throwOnTimeout:t.throwOnTimeout)&&i(kl)});n(await a)}catch(a){i(a)}this._next()};this._queue.enqueue(s,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async n=>this.add(n,t)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var pt=Po.default=Nl;const Rl=[400,401,403,404,405,406,407,408,409];let Dl=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6;const t="default"in pt?pt.default:pt;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>tn(()=>e(...t).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt(n){var s;if(n.message.startsWith("Cancel")||n.message.startsWith("TimeoutError")||n.message.startsWith("AbortError")||(n==null?void 0:n.code)==="ECONNABORTED")throw n;const i=(s=n==null?void 0:n.response)==null?void 0:s.status;if(i&&Rl.includes(+i))throw n},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...n){return e.signal?Promise.race([this.call(t,...n),new Promise((i,s)=>{var a;(a=e.signal)==null||a.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(t,...n)}fetch(...e){return this.call(()=>fetch(...e).then(t=>t.ok?t:Promise.reject(t)))}};function Js(r){return typeof(r==null?void 0:r._getType)=="function"}function Xs(r){const e={type:r._getType(),data:{content:r.content}};return r!=null&&r.additional_kwargs&&Object.keys(r.additional_kwargs).length>0&&(e.data.additional_kwargs={...r.additional_kwargs}),e}const jl=()=>typeof window<"u"&&typeof window.document<"u",Ll=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Ul=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),ko=()=>typeof Deno<"u",Ml=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!ko(),$l=()=>{let r;return jl()?r="browser":Ml()?r="node":Ll()?r="webworker":Ul()?r="jsdom":ko()?r="deno":r="other",r};let pi;async function zl(){if(pi===void 0){const r=$l(),e=Bl();pi={library:"langsmith",runtime:r,...e}}return pi}function Jt(r){var e;try{return typeof process<"u"?(e=process.env)==null?void 0:e[r]:void 0}catch{return}}let mi;function Bl(){if(mi!==void 0)return mi;const r=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const t of r){const n=Jt(t);n!==void 0&&(e[t]=n)}return mi=e,e}const Qs=r=>{const t=r.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return t==="localhost"||t==="127.0.0.1"||t==="::1"},Et=async(r,e)=>{const t=await r.text();if(!r.ok)throw new Error(`Failed to ${e}: ${r.status} ${r.statusText} ${t}`)};async function Zl(r){const e=[];for await(const t of r)e.push(t);return e}function gi(r){if(r!==void 0)return r.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}function ea(r){return Jt("LANGCHAIN_HIDE_INPUTS")==="true"?{}:r}function ta(r){return Jt("LANGCHAIN_HIDE_OUTPUTS")==="true"?{}:r}class us{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null});const t=us.getDefaultClientConfig();this.apiUrl=gi(e.apiUrl??t.apiUrl)??"",this.apiKey=gi(e.apiKey??t.apiKey),this.webUrl=gi(e.webUrl??t.webUrl),this.validateApiKeyIfHosted(),this.timeout_ms=e.timeout_ms??4e3,this.caller=new Dl(e.callerOptions??{})}static getDefaultClientConfig(){const e=Jt("LANGCHAIN_API_KEY");return{apiUrl:Jt("LANGCHAIN_ENDPOINT")??(e?"https://api.smith.langchain.com":"http://localhost:1984"),apiKey:e,webUrl:void 0}}validateApiKeyIfHosted(){if(!Qs(this.apiUrl)&&!this.apiKey)throw new Error("API key must be provided when using hosted LangSmith API")}getHostUrl(){return this.webUrl?this.webUrl:Qs(this.apiUrl)?(this.webUrl="http://localhost","http://localhost"):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com","https://dev.smith.langchain.com"):(this.webUrl="https://smith.langchain.com","https://smith.langchain.com")}get headers(){const e={};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}async _getResponse(e,t){const n=(t==null?void 0:t.toString())??"",i=`${this.apiUrl}${e}?${n}`,s=await this.caller.call(fetch,i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok)throw new Error(`Failed to fetch ${e}: ${s.status} ${s.statusText}`);return s}async _get(e,t){return(await this._getResponse(e,t)).json()}async*_getPaginated(e,t=new URLSearchParams){let n=Number(t.get("offset"))||0;const i=Number(t.get("limit"))||100;for(;;){t.set("offset",String(n)),t.set("limit",String(i));const s=`${this.apiUrl}${e}?${t}`,a=await this.caller.call(fetch,s,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!a.ok)throw new Error(`Failed to fetch ${e}: ${a.status} ${a.statusText}`);const o=await a.json();if(o.length===0||(yield o,o.length<i))break;n+=o.length}}async createRun(e){const t={...this.headers,"Content-Type":"application/json"},n=e.extra??{},i=await zl(),s=e.project_name;delete e.project_name;const a={session_name:s,...e,extra:{...e.extra,runtime:{...i,...n.runtime}}};a.inputs=ea(a.inputs),a.outputs&&(a.outputs=ta(a.outputs));const o=await this.caller.call(fetch,`${this.apiUrl}/runs`,{method:"POST",headers:t,body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms)});await Et(o,"create run")}async updateRun(e,t){t.inputs&&(t.inputs=ea(t.inputs)),t.outputs&&(t.outputs=ta(t.outputs));const n={...this.headers,"Content-Type":"application/json"},i=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:n,body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});await Et(i,"update run")}async readRun(e,{loadChildRuns:t}={loadChildRuns:!1}){let n=await this._get(`/runs/${e}`);return t&&n.child_run_ids&&(n=await this._loadChildRuns(n)),n}async getRunUrl({runId:e,run:t,projectOpts:n}){if(t!==void 0){let i;t.session_id?i=t.session_id:n!=null&&n.projectName?i=(await this.readProject({projectName:n==null?void 0:n.projectName})).id:n!=null&&n.projectId?i=n==null?void 0:n.projectId:i=(await this.readProject({projectName:Jt("LANGCHAIN_PROJECT")||"default"})).id;const s=await this._getTenantId();return`${this.getHostUrl()}/o/${s}/projects/p/${i}/r/${t.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const t=await Zl(this.listRuns({id:e.child_run_ids})),n={},i={};t.sort((s,a)=>((s==null?void 0:s.dotted_order)??"").localeCompare((a==null?void 0:a.dotted_order)??""));for(const s of t){if(s.parent_run_id===null||s.parent_run_id===void 0)throw new Error(`Child run ${s.id} has no parent`);s.parent_run_id in n||(n[s.parent_run_id]=[]),n[s.parent_run_id].push(s),i[s.id]=s}e.child_runs=n[e.id]||[];for(const s in n)s!==e.id&&(i[s].child_runs=n[s]);return e}async*listRuns({projectId:e,projectName:t,parentRunId:n,referenceExampleId:i,startTime:s,executionOrder:a,runType:o,error:u,id:c,limit:d,offset:f,query:m,filter:b}){const g=new URLSearchParams;let _=e;if(t){if(e)throw new Error("Only one of projectId or projectName may be given");_=(await this.readProject({projectName:t})).id}if(_&&g.append("session",_),n&&g.append("parent_run",n),i&&g.append("reference_example",i),s&&g.append("start_time",s.toISOString()),a&&g.append("execution_order",a.toString()),o&&g.append("run_type",o),u!==void 0&&g.append("error",u.toString()),c!==void 0)for(const h of c)g.append("id",h);d!==void 0&&g.append("limit",d.toString()),f!==void 0&&g.append("offset",f.toString()),m!==void 0&&g.append("query",m),b!==void 0&&g.append("filter",b);for await(const h of this._getPaginated("/runs",g))yield*h}async shareRun(e,{shareId:t}={}){const n={run_id:e,share_token:t||ht()},s=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms)})).json();if(s===null||!("share_token"in s))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${s.share_token}/r`}async unshareRun(e){const t=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Et(t,"unshare run")}async readRunSharedLink(e){const n=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json();if(!(n===null||!("share_token"in n)))return`${this.getHostUrl()}/public/${n.share_token}/r`}async listSharedRuns(e,{runIds:t}={}){const n=new URLSearchParams({share_token:e});if(t!==void 0)for(const a of t)n.append("id",a);return await(await this.caller.call(fetch,`${this.apiUrl}/public/${e}/runs${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json()}async readDatasetSharedSchema(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:t})).id);const i=await(await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:t})).id);const n={dataset_id:e},s=await(await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms)})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async unshareDataset(e){const t=await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Et(t,"unshare dataset")}async readSharedDataset(e){return await(await this.caller.call(fetch,`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json()}async createProject({projectName:e,projectExtra:t,upsert:n,referenceDatasetId:i}){const s=n?"?upsert=true":"",a=`${this.apiUrl}/sessions${s}`,o={name:e};t!==void 0&&(o.extra=t),i!==void 0&&(o.reference_dataset_id=i);const u=await this.caller.call(fetch,a,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms)}),c=await u.json();if(!u.ok)throw new Error(`Failed to create session ${e}: ${u.status} ${u.statusText}`);return c}async readProject({projectId:e,projectName:t}){let n="/sessions";const i=new URLSearchParams;if(e!==void 0&&t!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)n+=`/${e}`;else if(t!==void 0)i.append("name",t);else throw new Error("Must provide projectName or projectId");const s=await this._get(n,i);let a;if(Array.isArray(s)){if(s.length===0)throw new Error(`Project[id=${e}, name=${t}] not found`);a=s[0]}else a=s;return a}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const t of this._getPaginated("/sessions",e))return this._tenantId=t[0].tenant_id,t[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:t,nameContains:n,referenceDatasetId:i,referenceDatasetName:s,referenceFree:a}={}){const o=new URLSearchParams;if(e!==void 0)for(const u of e)o.append("id",u);if(t!==void 0&&o.append("name",t),n!==void 0&&o.append("name_contains",n),i!==void 0)o.append("reference_dataset",i);else if(s!==void 0){const u=await this.readDataset({datasetName:s});o.append("reference_dataset",u.id)}a!==void 0&&o.append("reference_free",a.toString());for await(const u of this._getPaginated("/sessions",o))yield*u}async deleteProject({projectId:e,projectName:t}){let n;if(e===void 0&&t===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&t!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?n=(await this.readProject({projectName:t})).id:n=e;const i=await this.caller.call(fetch,`${this.apiUrl}/sessions/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Et(i,`delete session ${n} (${t})`)}async uploadCsv({csvFile:e,fileName:t,inputKeys:n,outputKeys:i,description:s,dataType:a,name:o}){const u=`${this.apiUrl}/datasets/upload`,c=new FormData;c.append("file",e,t),n.forEach(m=>{c.append("input_keys",m)}),i.forEach(m=>{c.append("output_keys",m)}),s&&c.append("description",s),a&&c.append("data_type",a),o&&c.append("name",o);const d=await this.caller.call(fetch,u,{method:"POST",headers:this.headers,body:c,signal:AbortSignal.timeout(this.timeout_ms)});if(!d.ok){const m=await d.json();throw m.detail&&m.detail.includes("already exists")?new Error(`Dataset ${t} already exists`):new Error(`Failed to upload CSV: ${d.status} ${d.statusText}`)}return await d.json()}async createDataset(e,{description:t,dataType:n}={}){const i={name:e,description:t};n&&(i.data_type=n);const s=await this.caller.call(fetch,`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok){const o=await s.json();throw o.detail&&o.detail.includes("already exists")?new Error(`Dataset ${e} already exists`):new Error(`Failed to create dataset ${s.status} ${s.statusText}`)}return await s.json()}async readDataset({datasetId:e,datasetName:t}){let n="/datasets";const i=new URLSearchParams({limit:"1"});if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)n+=`/${e}`;else if(t!==void 0)i.append("name",t);else throw new Error("Must provide datasetName or datasetId");const s=await this._get(n,i);let a;if(Array.isArray(s)){if(s.length===0)throw new Error(`Dataset[id=${e}, name=${t}] not found`);a=s[0]}else a=s;return a}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:t}){const n="/datasets";if(e===void 0)if(t!==void 0)e=(await this.readDataset({datasetName:t})).id;else throw new Error("Must provide datasetName or datasetId");return(await(await this._getResponse(`${n}/${e}/openai_ft`)).text()).trim().split(`
`).map(o=>JSON.parse(o))}async*listDatasets({limit:e=100,offset:t=0,datasetIds:n,datasetName:i,datasetNameContains:s}={}){const a="/datasets",o=new URLSearchParams({limit:e.toString(),offset:t.toString()});if(n!==void 0)for(const u of n)o.append("id",u);i!==void 0&&o.append("name",i),s!==void 0&&o.append("name_contains",s);for await(const u of this._getPaginated(a,o))yield*u}async deleteDataset({datasetId:e,datasetName:t}){let n="/datasets",i=e;if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(t!==void 0&&(i=(await this.readDataset({datasetName:t})).id),i!==void 0)n+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");const s=await this.caller.call(fetch,this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok)throw new Error(`Failed to delete ${n}: ${s.status} ${s.statusText}`);await s.json()}async createExample(e,t,{datasetId:n,datasetName:i,createdAt:s,exampleId:a}){let o=n;if(o===void 0&&i===void 0)throw new Error("Must provide either datasetName or datasetId");if(o!==void 0&&i!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");o===void 0&&(o=(await this.readDataset({datasetName:i})).id);const c={dataset_id:o,inputs:e,outputs:t,created_at:(s||new Date).toISOString(),id:a},d=await this.caller.call(fetch,`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms)});if(!d.ok)throw new Error(`Failed to create example: ${d.status} ${d.statusText}`);return await d.json()}async createLLMExample(e,t,n){return this.createExample({input:e},{output:t},n)}async createChatExample(e,t,n){const i=e.map(a=>Js(a)?Xs(a):a),s=Js(t)?Xs(t):t;return this.createExample({input:i},{output:s},n)}async readExample(e){const t=`/examples/${e}`;return await this._get(t)}async*listExamples({datasetId:e,datasetName:t,exampleIds:n}={}){let i;if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)i=e;else if(t!==void 0)i=(await this.readDataset({datasetName:t})).id;else throw new Error("Must provide a datasetName or datasetId");const s=new URLSearchParams({dataset:i});if(n!==void 0)for(const a of n)s.append("id",a);for await(const a of this._getPaginated("/examples",s))yield*a}async deleteExample(e){const t=`/examples/${e}`,n=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to delete ${t}: ${n.status} ${n.statusText}`);await n.json()}async updateExample(e,t){const n=await this.caller.call(fetch,`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to update example ${e}: ${n.status} ${n.statusText}`);return await n.json()}async evaluateRun(e,t,{sourceInfo:n,loadChildRuns:i}={loadChildRuns:!1}){let s;if(typeof e=="string")s=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)s=e;else throw new Error(`Invalid run type: ${typeof e}`);let a;s.reference_example_id!==null&&s.reference_example_id!==void 0&&(a=await this.readExample(s.reference_example_id));const o=await t.evaluateRun(s,a);let u=n??{};return o.evaluatorInfo&&(u={...u,...o.evaluatorInfo}),await this.createFeedback(s.id,o.key,{score:o.score,value:o.value,comment:o.comment,correction:o.correction,sourceInfo:u,feedbackSourceType:"model"})}async createFeedback(e,t,{score:n,value:i,correction:s,comment:a,sourceInfo:o,feedbackSourceType:u="api",sourceRunId:c,feedbackId:d,eager:f=!1}){const m={type:u??"api",metadata:o??{}};c!==void 0&&(m==null?void 0:m.metadata)!==void 0&&!m.metadata.__run&&(m.metadata.__run={run_id:c});const b={id:d??ht(),run_id:e,key:t,score:n,value:i,correction:s,comment:a,feedback_source:m},g=`${this.apiUrl}/feedback`+(f?"/eager":""),_=await this.caller.call(fetch,g,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(b),signal:AbortSignal.timeout(this.timeout_ms)});return await Et(_,"create feedback"),b}async updateFeedback(e,{score:t,value:n,correction:i,comment:s}){const a={};t!=null&&(a.score=t),n!=null&&(a.value=n),i!=null&&(a.correction=i),s!=null&&(a.comment=s);const o=await this.caller.call(fetch,`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms)});await Et(o,"update feedback")}async readFeedback(e){const t=`/feedback/${e}`;return await this._get(t)}async deleteFeedback(e){const t=`/feedback/${e}`,n=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to delete ${t}: ${n.status} ${n.statusText}`);await n.json()}async*listFeedback({runIds:e,feedbackKeys:t,feedbackSourceTypes:n}={}){const i=new URLSearchParams;if(e&&i.append("run",e.join(",")),t)for(const s of t)i.append("key",s);if(n)for(const s of n)i.append("source",s);for await(const s of this._getPaginated("/feedback",i))yield*s}}const Vl=()=>typeof window<"u"&&typeof window.document<"u",Fl=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Kl=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),No=()=>typeof Deno<"u",ql=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!No(),Hl=()=>{let r;return Vl()?r="browser":ql()?r="node":Fl()?r="webworker":Kl()?r="jsdom":No()?r="deno":r="other",r};let yi;async function Wl(){return yi===void 0&&(yi={library:"langchain-js",runtime:Hl()}),yi}function ce(r){var e;try{return typeof process<"u"?(e=process.env)==null?void 0:e[r]:void 0}catch{return}}class Gl extends Ln{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:t,projectName:n,client:i}=e;this.projectName=n??ce("LANGCHAIN_PROJECT")??ce("LANGCHAIN_SESSION"),this.exampleId=t,this.client=i??new us({})}async _convertToCreate(e,t=void 0){return{...e,extra:{...e.extra,runtime:await Wl()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:t}}async persistRun(e){}async _persistRunSingle(e){const t=await this._convertToCreate(e,this.exampleId);await this.client.createRun(t)}async _updateRunSingle(e){const t={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs};await this.client.updateRun(e.id,t)}async onRetrieverStart(e){await this._persistRunSingle(e)}async onRetrieverEnd(e){await this._updateRunSingle(e)}async onRetrieverError(e){await this._updateRunSingle(e)}async onLLMStart(e){await this._persistRunSingle(e)}async onLLMEnd(e){await this._updateRunSingle(e)}async onLLMError(e){await this._updateRunSingle(e)}async onChainStart(e){await this._persistRunSingle(e)}async onChainEnd(e){await this._updateRunSingle(e)}async onChainError(e){await this._updateRunSingle(e)}async onToolStart(e){await this._persistRunSingle(e)}async onToolEnd(e){await this._updateRunSingle(e)}async onToolError(e){await this._updateRunSingle(e)}}function Mn(r,e="Human",t="AI"){const n=[];for(const i of r){let s;if(i._getType()==="human")s=e;else if(i._getType()==="ai")s=t;else if(i._getType()==="system")s="System";else if(i._getType()==="function")s="Function";else if(i._getType()==="generic")s=i.role;else throw new Error(`Got unsupported message type: ${i}`);const a=i.name?`${i.name}, `:"";n.push(`${s}: ${a}${i.content}`)}return n.join(`
`)}class Yl extends Ln{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:ce("LANGCHAIN_ENDPOINT")||"http://localhost:1984"}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:{"Content-Type":"application/json"}}),Object.defineProperty(this,"session",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const e=ce("LANGCHAIN_API_KEY");e&&(this.headers["x-api-key"]=e)}async newSession(e){const t={start_time:Date.now(),name:e},n=await this.persistSession(t);return this.session=n,n}async loadSession(e){const t=`${this.endpoint}/sessions?name=${e}`;return this._handleSessionResponse(t)}async loadDefaultSession(){const e=`${this.endpoint}/sessions?name=default`;return this._handleSessionResponse(e)}async convertV2RunToRun(e){var s;const t=this.session??await this.loadDefaultSession(),n=e.serialized;let i;if(e.run_type==="llm"){const a=e.inputs.prompts?e.inputs.prompts:e.inputs.messages.map(u=>Mn(u));i={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,prompts:a,response:e.outputs}}else if(e.run_type==="chain"){const a=await Promise.all(e.child_runs.map(u=>this.convertV2RunToRun(u)));i={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,inputs:e.inputs,outputs:e.outputs,child_llm_runs:a.filter(u=>u.type==="llm"),child_chain_runs:a.filter(u=>u.type==="chain"),child_tool_runs:a.filter(u=>u.type==="tool")}}else if(e.run_type==="tool"){const a=await Promise.all(e.child_runs.map(u=>this.convertV2RunToRun(u)));i={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,tool_input:e.inputs.input,output:(s=e.outputs)==null?void 0:s.output,action:JSON.stringify(n),child_llm_runs:a.filter(u=>u.type==="llm"),child_chain_runs:a.filter(u=>u.type==="chain"),child_tool_runs:a.filter(u=>u.type==="tool")}}else throw new Error(`Unknown run type: ${e.run_type}`);return i}async persistRun(e){let t,n;e.run_type!==void 0?n=await this.convertV2RunToRun(e):n=e,n.type==="llm"?t=`${this.endpoint}/llm-runs`:n.type==="chain"?t=`${this.endpoint}/chain-runs`:t=`${this.endpoint}/tool-runs`;const i=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(n)});i.ok||console.error(`Failed to persist run: ${i.status} ${i.statusText}`)}async persistSession(e){const t=`${this.endpoint}/sessions`,n=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(e)});return n.ok?{id:(await n.json()).id,...e}:(console.error(`Failed to persist session: ${n.status} ${n.statusText}, using default session.`),{id:1,...e})}async _handleSessionResponse(e){const t=await fetch(e,{method:"GET",headers:this.headers});let n;if(!t.ok)return console.error(`Failed to load session: ${t.status} ${t.statusText}`),n={id:1,start_time:Date.now()},this.session=n,n;const i=await t.json();return i.length===0?(n={id:1,start_time:Date.now()},this.session=n,n):([n]=i,this.session=n,n)}}async function Jl(r){const e=new Yl;return r?await e.loadSession(r):await e.loadDefaultSession(),e}async function Xl(){return new Gl}let bi;function Ql(){const r="default"in pt?pt.default:pt;return new r({autoStart:!0,concurrency:1})}async function Re(r,e){e===!0?await r():(typeof bi>"u"&&(bi=Ql()),bi.add(r))}function ed(r){return r?Array.isArray(r)||"name"in r?{callbacks:r}:r:{}}class td{setHandler(e){return this.setHandlers([e])}}class $n{constructor(e,t,n,i,s,a,o,u){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:u})}async handleText(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;try{await((n=t.handleText)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleText: ${i}`)}},t.awaitHandlers)))}}class rd extends $n{getChild(e){const t=new Ve(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreRetriever)try{await((n=t.handleRetrieverEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch{console.error(`Error in handler ${t.constructor.name}, handleRetriever`)}},t.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreRetriever)try{await((n=t.handleRetrieverError)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleRetrieverError: ${i}`)}},t.awaitHandlers)))}}class ra extends $n{async handleLLMNewToken(e,t,n,i,s,a){await Promise.all(this.handlers.map(o=>Re(async()=>{var u;if(!o.ignoreLLM)try{await((u=o.handleLLMNewToken)==null?void 0:u.call(o,e,t??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a))}catch(c){console.error(`Error in handler ${o.constructor.name}, handleLLMNewToken: ${c}`)}},o.awaitHandlers)))}async handleLLMError(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreLLM)try{await((n=t.handleLLMError)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleLLMError: ${i}`)}},t.awaitHandlers)))}async handleLLMEnd(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreLLM)try{await((n=t.handleLLMEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleLLMEnd: ${i}`)}},t.awaitHandlers)))}}class nd extends $n{getChild(e){const t=new Ve(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e,t,n,i,s){await Promise.all(this.handlers.map(a=>Re(async()=>{var o;if(!a.ignoreChain)try{await((o=a.handleChainError)==null?void 0:o.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleChainError: ${u}`)}},a.awaitHandlers)))}async handleChainEnd(e,t,n,i,s){await Promise.all(this.handlers.map(a=>Re(async()=>{var o;if(!a.ignoreChain)try{await((o=a.handleChainEnd)==null?void 0:o.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleChainEnd: ${u}`)}},a.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleAgentAction)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleAgentAction: ${i}`)}},t.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleAgentEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleAgentEnd: ${i}`)}},t.awaitHandlers)))}}class id extends $n{getChild(e){const t=new Ve(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleToolError)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleToolError: ${i}`)}},t.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleToolEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleToolEnd: ${i}`)}},t.awaitHandlers)))}}class Ve extends td{constructor(e){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=[],this.inheritableHandlers=[],this._parentRunId=e}async handleLLMStart(e,t,n=void 0,i=void 0,s=void 0,a=void 0,o=void 0,u=void 0){return Promise.all(t.map(async c=>{const d=ht();return await Promise.all(this.handlers.map(f=>Re(async()=>{var m;if(!f.ignoreLLM)try{await((m=f.handleLLMStart)==null?void 0:m.call(f,e,[c],d,this._parentRunId,s,this.tags,this.metadata,u))}catch(b){console.error(`Error in handler ${f.constructor.name}, handleLLMStart: ${b}`)}},f.awaitHandlers))),new ra(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,t,n=void 0,i=void 0,s=void 0,a=void 0,o=void 0,u=void 0){return Promise.all(t.map(async c=>{const d=ht();return await Promise.all(this.handlers.map(f=>Re(async()=>{var m,b;if(!f.ignoreLLM)try{if(f.handleChatModelStart)await((m=f.handleChatModelStart)==null?void 0:m.call(f,e,[c],d,this._parentRunId,s,this.tags,this.metadata,u));else if(f.handleLLMStart){const g=Mn(c);await((b=f.handleLLMStart)==null?void 0:b.call(f,e,[g],d,this._parentRunId,s,this.tags,this.metadata,u))}}catch(g){console.error(`Error in handler ${f.constructor.name}, handleLLMStart: ${g}`)}},f.awaitHandlers))),new ra(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,t,n=ht(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(u=>Re(async()=>{var c;if(!u.ignoreChain)try{await((c=u.handleChainStart)==null?void 0:c.call(u,e,t,n,this._parentRunId,this.tags,this.metadata,i,o))}catch(d){console.error(`Error in handler ${u.constructor.name}, handleChainStart: ${d}`)}},u.awaitHandlers))),new nd(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,t,n=ht(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(u=>Re(async()=>{var c;if(!u.ignoreAgent)try{await((c=u.handleToolStart)==null?void 0:c.call(u,e,t,n,this._parentRunId,this.tags,this.metadata,o))}catch(d){console.error(`Error in handler ${u.constructor.name}, handleToolStart: ${d}`)}},u.awaitHandlers))),new id(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,t,n=ht(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(u=>Re(async()=>{var c;if(!u.ignoreRetriever)try{await((c=u.handleRetrieverStart)==null?void 0:c.call(u,e,t,n,this._parentRunId,this.tags,this.metadata,o))}catch(d){console.error(`Error in handler ${u.constructor.name}, handleRetrieverStart: ${d}`)}},u.awaitHandlers))),new rd(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}addHandler(e,t=!0){this.handlers.push(e),t&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(t=>t!==e),this.inheritableHandlers=this.inheritableHandlers.filter(t=>t!==e)}setHandlers(e,t=!0){this.handlers=[],this.inheritableHandlers=[];for(const n of e)this.addHandler(n,t)}addTags(e,t=!0){this.removeTags(e),this.tags.push(...e),t&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(t=>!e.includes(t)),this.inheritableTags=this.inheritableTags.filter(t=>!e.includes(t))}addMetadata(e,t=!0){this.metadata={...this.metadata,...e},t&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const t of Object.keys(e))delete this.metadata[t],delete this.inheritableMetadata[t]}copy(e=[],t=!0){const n=new Ve(this._parentRunId);for(const i of this.handlers){const s=this.inheritableHandlers.includes(i);n.addHandler(i,s)}for(const i of this.tags){const s=this.inheritableTags.includes(i);n.addTags([i],s)}for(const i of Object.keys(this.metadata)){const s=Object.keys(this.inheritableMetadata).includes(i);n.addMetadata({[i]:this.metadata[i]},s)}for(const i of e)n.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===i.name)||n.addHandler(i,t);return n}static fromHandlers(e){class t extends Dr{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:ht()}),Object.assign(this,e)}}const n=new this;return n.addHandler(new t),n}static async configure(e,t,n,i,s,a,o){let u;(e||t)&&(Array.isArray(e)||!e?(u=new Ve,u.setHandlers((e==null?void 0:e.map(na))??[],!0)):u=e,u=u.copy(Array.isArray(t)?t.map(na):t==null?void 0:t.handlers,!1));const c=ce("LANGCHAIN_VERBOSE")||(o==null?void 0:o.verbose),d=ce("LANGCHAIN_TRACING_V2")==="true",f=d||(ce("LANGCHAIN_TRACING")??!1);if(c||f){if(u||(u=new Ve),c&&!u.handlers.some(m=>m.name===Ys.prototype.name)){const m=new Ys;u.addHandler(m,!0)}if(f&&!u.handlers.some(m=>m.name==="langchain_tracer"))if(d)u.addHandler(await Xl(),!0);else{const m=ce("LANGCHAIN_PROJECT")&&ce("LANGCHAIN_SESSION");u.addHandler(await Jl(m),!0)}}return(n||i)&&u&&(u.addTags(n??[]),u.addTags(i??[],!1)),(s||a)&&u&&(u.addMetadata(s??{}),u.addMetadata(a??{},!1)),u}}function na(r){return"name"in r?r:Dr.fromMethods(r)}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const sd=Object.prototype.hasOwnProperty;function ad(r,e){return sd.call(r,e)}function od(r){if(Array.isArray(r)){const t=new Array(r.length);for(let n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(r);let e=[];for(let t in r)ad(r,t)&&e.push(t);return e}function tr(r){switch(typeof r){case"object":return JSON.parse(JSON.stringify(r));case"undefined":return null;default:return r}}function $i(r){let e=0;const t=r.length;let n;for(;e<t;){if(n=r.charCodeAt(e),n>=48&&n<=57){e++;continue}return!1}return!0}function ud(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}function zi(r){if(r===void 0)return!0;if(r){if(Array.isArray(r)){for(let t=0,n=r.length;t<n;t++)if(zi(r[t]))return!0}else if(typeof r=="object"){const t=od(r),n=t.length;for(var e=0;e<n;e++)if(zi(r[t[e]]))return!0}}return!1}function ia(r,e){const t=[r];for(const n in e){const i=typeof e[n]=="object"?JSON.stringify(e[n],null,2):e[n];typeof i<"u"&&t.push(`${n}: ${i}`)}return t.join(`
`)}class cd extends Error{constructor(e,t,n,i,s){super(ia(e,{name:t,index:n,operation:i,tree:s})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.setPrototypeOf(this,new.target.prototype),this.message=ia(e,{name:t,index:n,operation:i,tree:s})}}const Te=cd,qt={add:function(r,e,t){return r[e]=this.value,{newDocument:t}},remove:function(r,e,t){var n=r[e];return delete r[e],{newDocument:t,removed:n}},replace:function(r,e,t){var n=r[e];return r[e]=this.value,{newDocument:t,removed:n}},move:function(r,e,t){let n=Bi(t,this.path);n&&(n=tr(n));const i=Pr(t,{op:"remove",path:this.from}).removed;return Pr(t,{op:"add",path:this.path,value:i}),{newDocument:t,removed:n}},copy:function(r,e,t){const n=Bi(t,this.from);return Pr(t,{op:"add",path:this.path,value:tr(n)}),{newDocument:t}},test:function(r,e,t){return{newDocument:t,test:rn(r[e],this.value)}},_get:function(r,e,t){return this.value=r[e],{newDocument:t}}};var ld={add:function(r,e,t){return $i(e)?r.splice(e,0,this.value):r[e]=this.value,{newDocument:t,index:e}},remove:function(r,e,t){var n=r.splice(e,1);return{newDocument:t,removed:n[0]}},replace:function(r,e,t){var n=r[e];return r[e]=this.value,{newDocument:t,removed:n}},move:qt.move,copy:qt.copy,test:qt.test,_get:qt._get};function Bi(r,e){if(e=="")return r;var t={op:"_get",path:e};return Pr(r,t),t.value}function Pr(r,e,t=!1,n=!0,i=!0,s=0){if(t&&(typeof t=="function"?t(e,0,r,e.path):Zi(e,0)),e.path===""){let a={newDocument:r};if(e.op==="add")return a.newDocument=e.value,a;if(e.op==="replace")return a.newDocument=e.value,a.removed=r,a;if(e.op==="move"||e.op==="copy")return a.newDocument=Bi(r,e.from),e.op==="move"&&(a.removed=r),a;if(e.op==="test"){if(a.test=rn(r,e.value),a.test===!1)throw new Te("Test operation failed","TEST_OPERATION_FAILED",s,e,r);return a.newDocument=r,a}else{if(e.op==="remove")return a.removed=r,a.newDocument=null,a;if(e.op==="_get")return e.value=r,a;if(t)throw new Te("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,e,r);return a}}else{n||(r=tr(r));const o=(e.path||"").split("/");let u=r,c=1,d=o.length,f,m,b;for(typeof t=="function"?b=t:b=Zi;;){if(m=o[c],m&&m.indexOf("~")!=-1&&(m=ud(m)),i&&(m=="__proto__"||m=="prototype"&&c>0&&o[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(t&&f===void 0&&(u[m]===void 0?f=o.slice(0,c).join("/"):c==d-1&&(f=e.path),f!==void 0&&b(e,0,r,f)),c++,Array.isArray(u)){if(m==="-")m=u.length;else{if(t&&!$i(m))throw new Te("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,e,r);$i(m)&&(m=~~m)}if(c>=d){if(t&&e.op==="add"&&m>u.length)throw new Te("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,e,r);const g=ld[e.op].call(e,u,m,r);if(g.test===!1)throw new Te("Test operation failed","TEST_OPERATION_FAILED",s,e,r);return g}}else if(c>=d){const g=qt[e.op].call(e,u,m,r);if(g.test===!1)throw new Te("Test operation failed","TEST_OPERATION_FAILED",s,e,r);return g}if(u=u[m],t&&c<d&&(!u||typeof u!="object"))throw new Te("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,e,r)}}}function cs(r,e,t,n=!0,i=!0){if(t&&!Array.isArray(e))throw new Te("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(r=tr(r));const s=new Array(e.length);for(let a=0,o=e.length;a<o;a++)s[a]=Pr(r,e[a],t,!0,i,a),r=s[a].newDocument;return s.newDocument=r,s}function Zi(r,e,t,n){if(typeof r!="object"||r===null||Array.isArray(r))throw new Te("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,r,t);if(qt[r.op]){if(typeof r.path!="string")throw new Te("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,r,t);if(r.path.indexOf("/")!==0&&r.path.length>0)throw new Te('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,r,t);if((r.op==="move"||r.op==="copy")&&typeof r.from!="string")throw new Te("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,r,t);if((r.op==="add"||r.op==="replace"||r.op==="test")&&r.value===void 0)throw new Te("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,r,t);if((r.op==="add"||r.op==="replace"||r.op==="test")&&zi(r.value))throw new Te("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,r,t);if(t){if(r.op=="add"){var i=r.path.split("/").length,s=n.split("/").length;if(i!==s+1&&i!==s)throw new Te("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,r,t)}else if(r.op==="replace"||r.op==="remove"||r.op==="_get"){if(r.path!==n)throw new Te("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,r,t)}else if(r.op==="move"||r.op==="copy"){var a={op:"_get",path:r.from,value:void 0},o=dd([a],t);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new Te("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,r,t)}}}else throw new Te("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,r,t)}function dd(r,e,t){try{if(!Array.isArray(r))throw new Te("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)cs(tr(e),tr(r),t||!0);else{t=t||Zi;for(var n=0;n<r.length;n++)t(r[n],n,e,void 0)}}catch(i){if(i instanceof Te)return i;throw i}}function rn(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){var t=Array.isArray(r),n=Array.isArray(e),i,s,a;if(t&&n){if(s=r.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!rn(r[i],e[i]))return!1;return!0}if(t!=n)return!1;var o=Object.keys(r);if(s=o.length,s!==Object.keys(e).length)return!1;for(i=s;i--!==0;)if(!e.hasOwnProperty(o[i]))return!1;for(i=s;i--!==0;)if(a=o[i],!rn(r[a],e[a]))return!1;return!0}return r!==r&&e!==e}class xr extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done&&this.reader.releaseLock(),e}catch(e){throw this.reader.releaseLock(),e}}async return(){this.ensureReader();const e=this.reader.cancel();return this.reader.releaseLock(),await e,{done:!0,value:void 0}}[Symbol.asyncIterator](){return this}static fromReadableStream(e){const t=e.getReader();return new xr({start(n){return i();function i(){return t.read().then(({done:s,value:a})=>{if(s){n.close();return}return n.enqueue(a),i()})}}})}static fromAsyncGenerator(e){return new xr({async pull(t){const{value:n,done:i}=await e.next();i&&t.close(),t.enqueue(n)}})}}class Ct{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops}concat(e){const t=this.ops.concat(e.ops),n=cs({},t);return new ls({ops:t,state:n[n.length-1].newDocument})}}class ls extends Ct{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const t=this.ops.concat(e.ops),n=cs(this.state,e.ops);return new ls({ops:t,state:n[n.length-1].newDocument})}}class fd extends Ln{constructor(e){super(e),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=xr.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.parent_run_id===void 0)return!1;const t=e.tags??[];let n=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(n=n||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(n=n||t.find(i=>{var s;return(s=this.includeTags)==null?void 0:s.includes(i)})!==void 0),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(n=n&&t.every(i=>{var s;return!((s=this.excludeTags)!=null&&s.includes(i))})),n}async onRunCreate(e){var i;if(e.parent_run_id===void 0&&await this.writer.write(new Ct({ops:[{op:"replace",path:"",value:{id:e.id,streamed_output:[],final_output:void 0,logs:{}}}]})),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const t=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=t===1?e.name:`${e.name}:${t}`;const n={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output_str:[],final_output:void 0,end_time:void 0};await this.writer.write(new Ct({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:n}]}))}async onRunUpdate(e){try{const t=this.keyMapByRunId[e.id];if(t===void 0)return;const n=[{op:"add",path:`/logs/${t}/final_output`,value:e.outputs}];e.end_time!==void 0&&n.push({op:"add",path:`/logs/${t}/end_time`,value:new Date(e.end_time).toISOString()});const i=new Ct({ops:n});await this.writer.write(i)}finally{if(e.parent_run_id===void 0){const t=new Ct({ops:[{op:"replace",path:"/final_output",value:e.outputs}]});await this.writer.write(t),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,t){const n=this.keyMapByRunId[e.id];if(n===void 0)return;const i=new Ct({ops:[{op:"add",path:`/logs/${n}/streamed_output_str/-`,value:t}]});await this.writer.write(i)}}async function Ut(r){return Ve.configure(r==null?void 0:r.callbacks,void 0,r==null?void 0:r.tags,void 0,r==null?void 0:r.metadata)}const hd=[400,401,402,403,404,405,406,407,408,409],pd=r=>{var t,n;if(r.message.startsWith("Cancel")||r.message.startsWith("TimeoutError")||r.name==="TimeoutError"||r.message.startsWith("AbortError")||r.name==="AbortError"||(r==null?void 0:r.code)==="ECONNABORTED")throw r;const e=((t=r==null?void 0:r.response)==null?void 0:t.status)??(r==null?void 0:r.status);if(e&&hd.includes(+e))throw r;if(((n=r==null?void 0:r.error)==null?void 0:n.code)==="insufficient_quota"){const i=new Error(r==null?void 0:r.message);throw i.name="InsufficientQuotaError",i}};class zn{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??pd;const t="default"in pt?pt.default:pt;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>tn(()=>e(...t).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...n){return e.signal?Promise.race([this.call(t,...n),new Promise((i,s)=>{var a;(a=e.signal)==null||a.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(t,...n)}fetch(...e){return this.call(()=>fetch(...e).then(t=>t.ok?t:Promise.reject(t)))}}function $e(r,e){return r&&!Array.isArray(r)&&typeof r=="object"?r:{[e]:r}}class Se extends _t{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}bind(e){return new nn({bound:this,kwargs:e,config:{}})}map(){return new ds({bound:this})}withRetry(e){return new md({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new nn({bound:this,config:e,kwargs:{}})}withFallbacks(e){return new gd({runnable:this,fallbacks:e.fallbacks})}_getOptionsList(e,t=0){if(Array.isArray(e)){if(e.length!==t)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${t} inputs`);return e}return Array.from({length:t},()=>e)}async batch(e,t,n){const i=this._getOptionsList(t??{},e.length),s=new zn({maxConcurrency:n==null?void 0:n.maxConcurrency,onFailedAttempt:o=>{throw o}}),a=e.map((o,u)=>s.call(async()=>{try{return await this.invoke(o,i[u])}catch(c){if(n!=null&&n.returnExceptions)return c;throw c}}));return Promise.all(a)}async*_streamIterator(e,t){yield this.invoke(e,t)}async stream(e,t){return xr.fromAsyncGenerator(this._streamIterator(e,t))}_separateRunnableConfigFromCallOptions(e={}){const t={callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName},n={...e};return delete n.callbacks,delete n.tags,delete n.metadata,delete n.runName,[t,n]}async _callWithConfig(e,t,n){const i=await Ut(n),s=await(i==null?void 0:i.handleChainStart(this.toJSON(),$e(t,"input"),void 0,n==null?void 0:n.runType,void 0,void 0,n==null?void 0:n.runName));let a;try{a=await e.bind(this)(t,n,s)}catch(o){throw await(s==null?void 0:s.handleChainError(o)),o}return await(s==null?void 0:s.handleChainEnd($e(a,"output"))),a}async _batchWithConfig(e,t,n,i){const s=this._getOptionsList(n??{},t.length),a=await Promise.all(s.map(Ut)),o=await Promise.all(a.map((c,d)=>c==null?void 0:c.handleChainStart(this.toJSON(),$e(t[d],"input"),void 0,s[d].runType,void 0,void 0,s[d].runName)));let u;try{u=await e(t,s,o,i)}catch(c){throw await Promise.all(o.map(d=>d==null?void 0:d.handleChainError(c))),c}return await Promise.all(o.map(c=>c==null?void 0:c.handleChainEnd($e(u,"output")))),u}async*_transformStreamWithConfig(e,t,n){let i,s=!0,a,o=!0;const u=await Ut(n);let c;const d=this.toJSON();async function*f(){for await(const b of e){if(c||(c=await(u==null?void 0:u.handleChainStart(d,{input:""},void 0,n==null?void 0:n.runType,void 0,void 0,n==null?void 0:n.runName))),s)if(i===void 0)i=b;else try{i=i.concat(b)}catch{i=void 0,s=!1}yield b}}const m=f();try{const b=t(m,c,n);for await(const g of b)if(yield g,o)if(a===void 0)a=g;else try{a=a.concat(g)}catch{a=void 0,o=!1}}catch(b){throw await(c==null?void 0:c.handleChainError(b,void 0,void 0,void 0,{inputs:$e(i,"input")})),b}await(c==null?void 0:c.handleChainEnd(a??{},void 0,void 0,void 0,{inputs:$e(i,"input")}))}_patchConfig(e={},t=void 0){const n={...e};return t!==void 0?(delete n.runName,{...n,callbacks:t}):n}pipe(e){return new Dt({first:this,last:jt(e)})}async*transform(e,t){let n;for await(const i of e)n===void 0?n=i:n=n.concat(i);yield*this._streamIterator(n,t)}async*streamLog(e,t,n){const i=new fd({...n,autoClose:!1}),s=t??{},{callbacks:a}=s;if(a===void 0)s.callbacks=[i];else if(Array.isArray(a))s.callbacks=a.concat([i]);else{const d=a.copy();d.inheritableHandlers.push(i),s.callbacks=d}const o=await this.stream(e,s);async function u(){try{for await(const d of o){const f=new Ct({ops:[{op:"add",path:"/streamed_output/-",value:d}]});await i.writer.write(f)}}finally{await i.writer.close()}}const c=u();try{for await(const d of i)yield d}finally{await c}}static isRunnable(e){return e?e.lc_runnable:!1}}class nn extends Se{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config}_mergeConfig(e){const t={...this.config};if(e)for(const n of Object.keys(e))n==="metadata"?t[n]={...t[n],...e[n]}:n==="tags"?t[n]=(t[n]??[]).concat(e[n]??[]):t[n]=e[n]??t[n];return t}bind(e){return this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,t){return this.bound.invoke(e,this._mergeConfig({...t,...this.kwargs}))}async batch(e,t,n){const i=Array.isArray(t)?t.map(s=>this._mergeConfig({...s,...this.kwargs})):this._mergeConfig({...t,...this.kwargs});return this.bound.batch(e,i,n)}async*_streamIterator(e,t){yield*this.bound._streamIterator(e,this._mergeConfig({...t,...this.kwargs}))}async stream(e,t){return this.bound.stream(e,this._mergeConfig({...t,...this.kwargs}))}async*transform(e,t){yield*this.bound.transform(e,this._mergeConfig({...t,...this.kwargs}))}static isRunnableBinding(e){return e.bound&&Se.isRunnable(e.bound)}}class ds extends Se{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new ds({bound:this.bound.bind(e)})}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}async _invoke(e,t,n){return this.bound.batch(e,this._patchConfig(t,n==null?void 0:n.getChild()))}}class md extends nn{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,t,n){const i=e>1?`retry:attempt:${e}`:void 0;return this._patchConfig(t,n==null?void 0:n.getChild(i))}async _invoke(e,t,n){return tn(i=>super.invoke(e,this._patchConfigForRetry(i,t,n)),{onFailedAttempt:this.onFailedAttempt,retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}async _batch(e,t,n,i){const s={};try{await tn(async a=>{const o=e.map((m,b)=>b).filter(m=>s[m.toString()]===void 0||s[m.toString()]instanceof Error),u=o.map(m=>e[m]),c=o.map(m=>this._patchConfigForRetry(a,t==null?void 0:t[m],n==null?void 0:n[m])),d=await super.batch(u,c,{...i,returnExceptions:!0});let f;for(let m=0;m<d.length;m+=1){const b=d[m],g=o[m];b instanceof Error&&f===void 0&&(f=b),s[g.toString()]=b}if(f)throw f;return d},{onFailedAttempt:this.onFailedAttempt,retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(a){if((i==null?void 0:i.returnExceptions)!==!0)throw a}return Object.keys(s).sort((a,o)=>parseInt(a,10)-parseInt(o,10)).map(a=>s[parseInt(a,10)])}async batch(e,t,n){return this._batchWithConfig(this._batch.bind(this),e,t,n)}}class Dt extends Se{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,t){const n=await Ut(t),i=await(n==null?void 0:n.handleChainStart(this.toJSON(),$e(e,"input"),void 0,void 0,void 0,void 0,t==null?void 0:t.runName));let s=e,a;try{const o=[this.first,...this.middle];for(let u=0;u<o.length;u+=1)s=await o[u].invoke(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${u+1}`)));a=await this.last.invoke(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${this.steps.length}`)))}catch(o){throw await(i==null?void 0:i.handleChainError(o)),o}return await(i==null?void 0:i.handleChainEnd($e(a,"output"))),a}async batch(e,t,n){const i=this._getOptionsList(t??{},e.length),s=await Promise.all(i.map(Ut)),a=await Promise.all(s.map((c,d)=>c==null?void 0:c.handleChainStart(this.toJSON(),$e(e[d],"input"),void 0,void 0,void 0,void 0,i[d].runName)));let o=e,u;try{const c=[this.first,...this.middle];for(let d=0;d<c.length;d+=1)o=await c[d].batch(o,a.map((m,b)=>this._patchConfig(i[b],m==null?void 0:m.getChild(`seq:step:${d+1}`))),n);u=await this.last.batch(o,a.map(d=>this._patchConfig(i[this.steps.length-1],d==null?void 0:d.getChild(`seq:step:${this.steps.length}`))),n)}catch(c){throw await Promise.all(a.map(d=>d==null?void 0:d.handleChainError(c))),c}return await Promise.all(a.map((c,d)=>c==null?void 0:c.handleChainEnd($e(u[d],"output")))),u}async*_streamIterator(e,t){const n=await Ut(t),i=await(n==null?void 0:n.handleChainStart(this.toJSON(),$e(e,"input"),void 0,void 0,void 0,void 0,t==null?void 0:t.runName));let s=e;const a=[this.first,...this.middle,this.last],o=Math.min(a.length-1,a.length-[...a].reverse().findIndex(d=>{var b;const f=d.transform===Se.prototype.transform,m=nn.isRunnableBinding(d)&&((b=d.bound)==null?void 0:b.transform)===Se.prototype.transform;return f||m})-1);try{const d=a.slice(0,o);for(let f=0;f<d.length;f+=1)s=await d[f].invoke(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${f+1}`)))}catch(d){throw await(i==null?void 0:i.handleChainError(d)),d}let u=!0,c;try{let d=await a[o]._streamIterator(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${o+1}`)));const f=a.slice(o+1);for(let m=0;m<f.length;m+=1)d=await f[m].transform(d,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${o+m+2}`)));for await(const m of d)if(yield m,u)if(c===void 0)c=m;else try{c=c.concat(m)}catch{c=void 0,u=!1}}catch(d){throw await(i==null?void 0:i.handleChainError(d)),d}await(i==null?void 0:i.handleChainEnd($e(c,"output")))}pipe(e){return Dt.isRunnableSequence(e)?new Dt({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last}):new Dt({first:this.first,middle:[...this.middle,this.last],last:jt(e)})}static isRunnableSequence(e){return Array.isArray(e.middle)&&Se.isRunnable(e)}static from([e,...t]){return new Dt({first:jt(e),middle:t.slice(0,-1).map(jt),last:jt(t[t.length-1])})}}class Bn extends Se{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[t,n]of Object.entries(e.steps))this.steps[t]=jt(n)}static from(e){return new Bn({steps:e})}async invoke(e,t){const n=await Ut(t),i=await(n==null?void 0:n.handleChainStart(this.toJSON(),{input:e},void 0,void 0,void 0,void 0,t==null?void 0:t.runName)),s={};try{await Promise.all(Object.entries(this.steps).map(async([a,o])=>{s[a]=await o.invoke(e,this._patchConfig(t,i==null?void 0:i.getChild(a)))}))}catch(a){throw await(i==null?void 0:i.handleChainError(a)),a}return await(i==null?void 0:i.handleChainEnd(s)),s}}class fs extends Se{static lc_name(){return"RunnableLambda"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.func=e.func}static from(e){return new fs({func:e})}async _invoke(e,t,n){let i=await this.func(e);return i&&Se.isRunnable(i)&&(i=await i.invoke(e,this._patchConfig(t,n==null?void 0:n.getChild()))),i}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}}class gd extends Se{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,t){const n=await Ve.configure(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata),i=await(n==null?void 0:n.handleChainStart(this.toJSON(),$e(e,"input"),void 0,void 0,void 0,void 0,t==null?void 0:t.runName));let s;for(const a of this.runnables())try{const o=await a.invoke(e,this._patchConfig(t,i==null?void 0:i.getChild()));return await(i==null?void 0:i.handleChainEnd($e(o,"output"))),o}catch(o){s===void 0&&(s=o)}throw s===void 0?new Error("No error stored at end of fallback."):(await(i==null?void 0:i.handleChainError(s)),s)}async batch(e,t,n){if(n!=null&&n.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(t??{},e.length),s=await Promise.all(i.map(u=>Ve.configure(u==null?void 0:u.callbacks,void 0,u==null?void 0:u.tags,void 0,u==null?void 0:u.metadata))),a=await Promise.all(s.map((u,c)=>u==null?void 0:u.handleChainStart(this.toJSON(),$e(e[c],"input"),void 0,void 0,void 0,void 0,i[c].runName)));let o;for(const u of this.runnables())try{const c=await u.batch(e,a.map((d,f)=>this._patchConfig(i[f],d==null?void 0:d.getChild())),n);return await Promise.all(a.map((d,f)=>d==null?void 0:d.handleChainEnd($e(c[f],"output")))),c}catch(c){o===void 0&&(o=c)}throw o?(await Promise.all(a.map(u=>u==null?void 0:u.handleChainError(o))),o):new Error("No error stored at end of fallbacks.")}}function jt(r){if(typeof r=="function")return new fs({func:r});if(Se.isRunnable(r))return r;if(!Array.isArray(r)&&typeof r=="object"){const e={};for(const[t,n]of Object.entries(r))e[t]=jt(n);return new Bn({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class yd extends Se{constructor(e){super(),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e}async invoke(e,t){const n=await this.mapper.invoke(e,t);return{...e,...n}}}class bd extends Se{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"RunnablePassthrough"}async invoke(e,t){return this._callWithConfig(n=>Promise.resolve(n),e,t)}static assign(e){return new yd(new Bn({steps:e}))}}const Kt="4.4.0";class vd{constructor(e,t){this.response=e,this.controller=t,this.decoder=new wd}async*iterMessages(){if(!this.response.body)throw this.controller.abort(),new Error("Attempted to iterate over a response with no body");const e=new rr,t=Id(this.response.body);for await(const n of t)for(const i of e.decode(n)){const s=this.decoder.decode(i);s&&(yield s)}for(const n of e.flush()){const i=this.decoder.decode(n);i&&(yield i)}}async*[Symbol.asyncIterator](){let e=!1;try{for await(const t of this.iterMessages())if(!e){if(t.data.startsWith("[DONE]")){e=!0;continue}if(t.event===null)try{yield JSON.parse(t.data)}catch(n){throw console.error("Could not parse message into JSON:",t.data),console.error("From chunk:",t.raw),n}}e=!0}catch(t){if(t instanceof Error&&t.name==="AbortError")return;throw t}finally{e||this.controller.abort()}}}class wd{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,i]=_d(e,":");return i.startsWith(" ")&&(i=i.substring(1)),t==="event"?this.event=i:t==="data"&&this.data.push(i),null}}class rr{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=rr.NEWLINE_CHARS.has(t[t.length-1]||"");let i=t.split(rr.NEWLINE_REGEXP);return i.length===1&&!n?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),n||(this.buffer=[i.pop()||""]),i)}decodeText(e){var t;if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Error(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return(t=this.textDecoder)!==null&&t!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Error(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Error("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}rr.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);rr.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function _d(r,e){const t=r.indexOf(e);return t!==-1?[r.substring(0,t),e,r.substring(t+e.length)]:[r,"",""]}function Id(r){if(r[Symbol.asyncIterator])return r;const e=r.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}let Je=class Vi extends Error{constructor(e,t,n,i){super(Vi.makeMessage(t,n)),this.status=e,this.headers=i;const s=t;this.error=s,this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,t){return e!=null&&e.message?typeof e.message=="string"?e.message:JSON.stringify(e.message):e?JSON.stringify(e):t||"Unknown error occurred"}static generate(e,t,n,i){if(!e)return new jr({cause:Mo(t)});const s=t==null?void 0:t.error;return e===400?new ps(e,s,n,i):e===401?new ms(e,s,n,i):e===403?new gs(e,s,n,i):e===404?new ys(e,s,n,i):e===409?new bs(e,s,n,i):e===422?new vs(e,s,n,i):e===429?new ws(e,s,n,i):e>=500?new _s(e,s,n,i):new Vi(e,s,n,i)}},sn=class extends Je{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}},jr=class extends Je{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,t&&(this.cause=t)}},hs=class extends jr{constructor(){super({message:"Request timed out."})}},ps=class extends Je{constructor(){super(...arguments),this.status=400}},ms=class extends Je{constructor(){super(...arguments),this.status=401}},gs=class extends Je{constructor(){super(...arguments),this.status=403}},ys=class extends Je{constructor(){super(...arguments),this.status=404}},bs=class extends Je{constructor(){super(...arguments),this.status=409}},vs=class extends Je{constructor(){super(...arguments),this.status=422}},ws=class extends Je{constructor(){super(...arguments),this.status=429}},_s=class extends Je{};const Ad=Object.freeze(Object.defineProperty({__proto__:null,APIConnectionError:jr,APIConnectionTimeoutError:hs,APIError:Je,APIUserAbortError:sn,AuthenticationError:ms,BadRequestError:ps,ConflictError:bs,InternalServerError:_s,NotFoundError:ys,PermissionDeniedError:gs,RateLimitError:ws,UnprocessableEntityError:vs},Symbol.toStringTag,{value:"Module"})),Ed=r=>{},Td=fetch.bind(void 0),Pd=!1,Od=FormData,sa=typeof File<"u"?File:class extends Blob{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'File' is not defined")}};async function xd(r,e){return{...e,body:new Ud(r)}}async function Sd(){throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")}function Cd(r){return!1}const Ro=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function",kd=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&Do(r),Do=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",Nd=r=>kd(r)||Ro(r)||Cd();async function jo(r,e,t={}){var n,i,s;if(r=await r,Ro(r)){const o=await r.blob();return e||(e=(n=new URL(r.url).pathname.split(/[\\/]/).pop())!==null&&n!==void 0?n:"unknown_file"),new sa([o],e,t)}const a=await Rd(r);if(e||(e=(i=jd(r))!==null&&i!==void 0?i:"unknown_file"),!t.type){const o=(s=a[0])===null||s===void 0?void 0:s.type;typeof o=="string"&&(t={...t,type:o})}return new sa(a,e,t)}async function Rd(r){var e;let t=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)t.push(r);else if(Do(r))t.push(await r.arrayBuffer());else if(Ld(r))for await(const n of r)t.push(n);else throw new Error(`Unexpected data type: ${typeof r}; constructor: ${(e=r==null?void 0:r.constructor)===null||e===void 0?void 0:e.name}; props: ${Dd(r)}`);return t}function Dd(r){return`[${Object.getOwnPropertyNames(r).map(t=>`"${t}"`).join(", ")}]`}function jd(r){var e;return vi(r.name)||vi(r.filename)||((e=vi(r.path))===null||e===void 0?void 0:e.split(/[\\/]/).pop())}const vi=r=>{if(typeof r=="string")return r;if(typeof Buffer<"u"&&r instanceof Buffer)return String(r)},Ld=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function";class Ud{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}const aa=r=>r&&typeof r=="object"&&r.body&&r[Symbol.toStringTag]==="MultipartBody",Sr=async r=>{const e=await Md(r.body);return xd(e,r)},Md=async r=>{const e=new Od;return await Promise.all(Object.entries(r||{}).map(([t,n])=>Fi(e,t,n))),e},Fi=async(r,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")r.append(e,String(t));else if(Nd(t)){const n=await jo(t);r.append(e,n)}else if(Array.isArray(t))await Promise.all(t.map(n=>Fi(r,e+"[]",n)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([n,i])=>Fi(r,`${e}[${n}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}};var $d=globalThis&&globalThis.__classPrivateFieldSet||function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},zd=globalThis&&globalThis.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Fr;const Bd=2;async function Lo(r){const{response:e}=r;if(r.options.stream)return new vd(e,r.controller);const t=e.headers.get("content-type");if(t!=null&&t.includes("application/json")){const i=await e.json();return an("response",e.status,e.url,e.headers,i),i}const n=await e.text();return an("response",e.status,e.url,e.headers,n),n}class Zn extends Promise{constructor(e,t=Lo){super(n=>{n(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Zn(this.responsePromise,async t=>e(await this.parseResponse(t)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Zd{constructor({baseURL:e,maxRetries:t,timeout:n=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=wi("maxRetries",t??Bd),this.timeout=wi("timeout",n),this.httpAgent=i,this.fetch=s??Td}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Wd(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${ef()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(i=>({method:e,path:t,...i})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}return null}buildRequest(e){var t,n,i,s,a,o;const{method:u,path:c,query:d,headers:f={}}=e,m=aa(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,b=this.calculateContentLength(m),g=this.buildURL(c,d);"timeout"in e&&wi("timeout",e.timeout);const _=(t=e.timeout)!==null&&t!==void 0?t:this.timeout,h=(i=(n=e.httpAgent)!==null&&n!==void 0?n:this.httpAgent)!==null&&i!==void 0?i:Ed(),T=_+1e3;typeof((s=h==null?void 0:h.options)===null||s===void 0?void 0:s.timeout)=="number"&&T>((a=h.options.timeout)!==null&&a!==void 0?a:0)&&(h.options.timeout=T),this.idempotencyHeader&&u!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=e.idempotencyKey);const j={...b&&{"Content-Length":b},...this.defaultHeaders(e),...f};aa(e.body)&&!Pd&&delete j["Content-Type"],Object.keys(j).forEach(R=>j[R]===null&&delete j[R]);const S={method:u,...m&&{body:m},headers:j,...h&&{agent:h},signal:(o=e.signal)!==null&&o!==void 0?o:null};return this.validateHeaders(j,f),{req:S,url:g,timeout:_}}async prepareRequest(e,{url:t,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(t=>[...t])):{...e}:{}}makeStatusError(e,t,n,i){return Je.generate(e,t,n,i)}request(e,t=null){return new Zn(this.makeRequest(e,t))}async makeRequest(e,t){var n,i,s;const a=await e;t==null&&(t=(n=a.maxRetries)!==null&&n!==void 0?n:this.maxRetries);const{req:o,url:u,timeout:c}=this.buildRequest(a);if(await this.prepareRequest(o,{url:u,options:a}),an("request",u,a,o.headers),!((i=a.signal)===null||i===void 0)&&i.aborted)throw new sn;const d=new AbortController,f=await this.fetchWithTimeout(u,o,c,d).catch(Mo);if(f instanceof Error){if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new sn;if(t)return this.retryRequest(a,t);throw f.name==="AbortError"?new hs:new jr({cause:f})}const m=Fd(f.headers);if(!f.ok){if(t&&this.shouldRetry(f))return this.retryRequest(a,t,m);const b=await f.text().catch(()=>"Unknown"),g=Gd(b),_=g?void 0:b;throw an("response",f.status,u,m,_),this.makeStatusError(f.status,g,_,m)}return{response:f,options:a,controller:d}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new Vd(this,n,e)}buildURL(e,t){const n=Jd(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return $o(i)||(t={...i,...t}),t&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter(([t,n])=>typeof n<"u").map(([t,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(t)}=`;throw new Error(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,n,i){const{signal:s,...a}=t||{};s&&s.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),n);return this.getRequestClient().fetch(e,{signal:i.signal,...a}).finally(()=>{clearTimeout(o)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,n){var i;t-=1;const s=parseInt((n==null?void 0:n["retry-after"])||""),a=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries,o=this.calculateRetryTimeoutSeconds(t,s,a)*1e3;return await Xd(o),this.makeRequest(e,t)}calculateRetryTimeoutSeconds(e,t,n){if(Number.isInteger(t)&&t<=60)return t;const a=n-e,o=Math.min(.5*Math.pow(a-1,2),2),u=Math.random()-.5;return o+u}getUserAgent(){return`${this.constructor.name}/JS ${Kt}`}}class Uo{constructor(e,t,n,i){Fr.set(this,void 0),$d(this,Fr,e,"f"),this.options=i,this.response=t,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Error("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e)t.query={...t.query,...e.params};else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[i,s]of n)e.url.searchParams.set(i,s);t.query=void 0,t.path=e.url.toString()}return await zd(this,Fr,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Fr=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class Vd extends Zn{constructor(e,t,n){super(t,async i=>new n(e,i.response,await Lo(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}const Fd=r=>new Proxy(Object.fromEntries(r.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),Kd={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0},oa=r=>typeof r=="object"&&r!==null&&!$o(r)&&Object.keys(r).every(e=>Qd(Kd,e)),qd=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kt,"X-Stainless-OS":ca(Deno.build.os),"X-Stainless-Arch":ua(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":Deno.version};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kt,"X-Stainless-OS":ca(process.platform),"X-Stainless-Arch":ua(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const r=Hd();return r?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${r.browser}`,"X-Stainless-Runtime-Version":r.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Hd(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of r){const n=t.exec(navigator.userAgent);if(n){const i=n[1]||0,s=n[2]||0,a=n[3]||0;return{browser:e,version:`${i}.${s}.${a}`}}}return null}const ua=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",ca=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let Kr;const Wd=()=>Kr??(Kr=qd()),Gd=r=>{try{return JSON.parse(r)}catch{return}},Yd=new RegExp("^(?:[a-z]+:)?//","i"),Jd=r=>Yd.test(r),Xd=r=>new Promise(e=>setTimeout(e,r)),wi=(r,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Error(`${r} must be an integer`);if(e<0)throw new Error(`${r} must be a positive integer`);return e},Mo=r=>r instanceof Error?r:new Error(r),la=r=>{var e,t,n,i;if(typeof process<"u")return(t=(e=process.env)===null||e===void 0?void 0:e[r])!==null&&t!==void 0?t:void 0;if(typeof Deno<"u")return(i=(n=Deno.env)===null||n===void 0?void 0:n.get)===null||i===void 0?void 0:i.call(n,r)};function $o(r){if(!r)return!0;for(const e in r)return!1;return!0}function Qd(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function an(r,...e){typeof process<"u"&&process.env.DEBUG==="true"&&console.log(`OpenAI:DEBUG:${r}`,...e)}const ef=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)}),tf=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class Vn extends Uo{constructor(e,t,n,i){super(e,t,n,i),this.object=n.object,this.data=n.data}getPaginatedItems(){return this.data}nextPageParams(){return null}nextPageInfo(){return null}}class Is extends Uo{constructor(e,t,n,i){super(e,t,n,i),this.data=n.data}getPaginatedItems(){return this.data}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var e,t;if(!(!((e=this.data)===null||e===void 0)&&e.length))return null;const n=(t=this.data[this.data.length-1])===null||t===void 0?void 0:t.id;return n?{params:{after:n}}:null}}class Fe{constructor(e){this.client=e,this.get=e.get.bind(e),this.post=e.post.bind(e),this.patch=e.patch.bind(e),this.put=e.put.bind(e),this.delete=e.delete.bind(e),this.getAPIList=e.getAPIList.bind(e)}}class on extends Fe{create(e,t){return this.post("/audio/transcriptions",Sr({body:e,...t}))}}on||(on={});class un extends Fe{create(e,t){return this.post("/audio/translations",Sr({body:e,...t}))}}un||(un={});class cn extends Fe{constructor(){super(...arguments),this.transcriptions=new on(this.client),this.translations=new un(this.client)}}(function(r){r.Transcriptions=on,r.Translations=un})(cn||(cn={}));let ln=class extends Fe{create(e,t){var n;return this.post("/chat/completions",{body:e,...t,stream:(n=e.stream)!==null&&n!==void 0?n:!1})}};ln||(ln={});class dn extends Fe{constructor(){super(...arguments),this.completions=new ln(this.client)}}(function(r){r.Completions=ln})(dn||(dn={}));class fn extends Fe{create(e,t){var n;return this.post("/completions",{body:e,...t,stream:(n=e.stream)!==null&&n!==void 0?n:!1})}}fn||(fn={});let hn=class extends Fe{create(e,t){return this.post("/embeddings",{body:e,...t})}};hn||(hn={});class pn extends Fe{create(e,t){return this.post("/edits",{body:e,...t})}}pn||(pn={});class mn extends Fe{create(e,t){return this.post("/files",Sr({body:e,...t}))}retrieve(e,t){return this.get(`/files/${e}`,t)}list(e){return this.getAPIList("/files",zo,e)}del(e,t){return this.delete(`/files/${e}`,t)}retrieveContent(e,t){return this.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t==null?void 0:t.headers}})}}class zo extends Vn{}mn||(mn={});class gn extends Fe{create(e,t){return this.post("/fine-tunes",{body:e,...t})}retrieve(e,t){return this.get(`/fine-tunes/${e}`,t)}list(e){return this.getAPIList("/fine-tunes",Bo,e)}cancel(e,t){return this.post(`/fine-tunes/${e}/cancel`,t)}listEvents(e,t,n){var i;return this.get(`/fine-tunes/${e}/events`,{query:t,timeout:864e5,...n,stream:(i=t==null?void 0:t.stream)!==null&&i!==void 0?i:!1})}}class Bo extends Vn{}gn||(gn={});class yn extends Fe{create(e,t){return this.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return oa(e)?this.list({},e):this.getAPIList("/fine_tuning/jobs",Zo,{query:e,...t})}cancel(e,t){return this.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},n){return oa(t)?this.listEvents(e,{},t):this.getAPIList(`/fine_tuning/jobs/${e}/events`,Vo,{query:t,...n})}}class Zo extends Is{}class Vo extends Is{}yn||(yn={});class bn extends Fe{constructor(){super(...arguments),this.jobs=new yn(this.client)}}(function(r){r.Jobs=yn,r.FineTuningJobsPage=Zo,r.FineTuningJobEventsPage=Vo})(bn||(bn={}));class vn extends Fe{createVariation(e,t){return this.post("/images/variations",Sr({body:e,...t}))}edit(e,t){return this.post("/images/edits",Sr({body:e,...t}))}generate(e,t){return this.post("/images/generations",{body:e,...t})}}vn||(vn={});class wn extends Fe{retrieve(e,t){return this.get(`/models/${e}`,t)}list(e){return this.getAPIList("/models",Fo,e)}del(e,t){return this.delete(`/models/${e}`,t)}}class Fo extends Vn{}wn||(wn={});class _n extends Fe{create(e,t){return this.post("/moderations",{body:e,...t})}}_n||(_n={});var Ko;let Pe=class extends Zd{constructor(e){var t,n,{apiKey:i=la("OPENAI_API_KEY"),organization:s=(t=la("OPENAI_ORG_ID"))!==null&&t!==void 0?t:null,...a}=e===void 0?{}:e;if(i===void 0)throw new Error("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'my apiKey' }).");const o={apiKey:i,organization:s,baseURL:"https://api.openai.com/v1",...a};if(!o.dangerouslyAllowBrowser&&tf())throw new Error(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:(n=o.timeout)!==null&&n!==void 0?n:6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new fn(this),this.chat=new dn(this),this.edits=new pn(this),this.embeddings=new hn(this),this.files=new mn(this),this.images=new vn(this),this.audio=new cn(this),this.moderations=new _n(this),this.models=new wn(this),this.fineTuning=new bn(this),this.fineTunes=new gn(this),this._options=o,this.apiKey=i,this.organization=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}};Ko=Pe;Pe.OpenAI=Ko;Pe.APIError=Je;Pe.APIConnectionError=jr;Pe.APIConnectionTimeoutError=hs;Pe.APIUserAbortError=sn;Pe.NotFoundError=ys;Pe.ConflictError=bs;Pe.RateLimitError=ws;Pe.BadRequestError=ps;Pe.AuthenticationError=ms;Pe.InternalServerError=_s;Pe.PermissionDeniedError=gs;Pe.UnprocessableEntityError=vs;const{APIError:Gy,APIConnectionError:Yy,APIConnectionTimeoutError:rf,APIUserAbortError:nf,NotFoundError:Jy,ConflictError:Xy,RateLimitError:Qy,BadRequestError:eb,AuthenticationError:tb,InternalServerError:rb,PermissionDeniedError:nb,UnprocessableEntityError:ib}=Ad;(function(r){r.toFile=jo,r.fileFromPath=Sd,r.Page=Vn,r.CursorPage=Is,r.Completions=fn,r.Chat=dn,r.Edits=pn,r.Embeddings=hn,r.Files=mn,r.FileObjectsPage=zo,r.Images=vn,r.Audio=cn,r.Moderations=_n,r.Models=wn,r.ModelsPage=Fo,r.FineTuning=bn,r.FineTunes=gn,r.FineTunesPage=Bo})(Pe||(Pe={}));var sf=Object.defineProperty,af=(r,e,t)=>e in r?sf(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,of=(r,e,t)=>(af(r,typeof e!="symbol"?e+"":e,t),t),Fn={};Fn.byteLength=lf;Fn.toByteArray=ff;Fn.fromByteArray=mf;var ot=[],et=[],uf=typeof Uint8Array<"u"?Uint8Array:Array,_i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Zt=0,cf=_i.length;Zt<cf;++Zt)ot[Zt]=_i[Zt],et[_i.charCodeAt(Zt)]=Zt;et["-".charCodeAt(0)]=62;et["_".charCodeAt(0)]=63;function qo(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function lf(r){var e=qo(r),t=e[0],n=e[1];return(t+n)*3/4-n}function df(r,e,t){return(e+t)*3/4-t}function ff(r){var e,t=qo(r),n=t[0],i=t[1],s=new uf(df(r,n,i)),a=0,o=i>0?n-4:n,u;for(u=0;u<o;u+=4)e=et[r.charCodeAt(u)]<<18|et[r.charCodeAt(u+1)]<<12|et[r.charCodeAt(u+2)]<<6|et[r.charCodeAt(u+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=et[r.charCodeAt(u)]<<2|et[r.charCodeAt(u+1)]>>4,s[a++]=e&255),i===1&&(e=et[r.charCodeAt(u)]<<10|et[r.charCodeAt(u+1)]<<4|et[r.charCodeAt(u+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function hf(r){return ot[r>>18&63]+ot[r>>12&63]+ot[r>>6&63]+ot[r&63]}function pf(r,e,t){for(var n,i=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(hf(n));return i.join("")}function mf(r){for(var e,t=r.length,n=t%3,i=[],s=16383,a=0,o=t-n;a<o;a+=s)i.push(pf(r,a,a+s>o?o:a+s));return n===1?(e=r[t-1],i.push(ot[e>>2]+ot[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(ot[e>>10]+ot[e>>4&63]+ot[e<<2&63]+"=")),i.join("")}function gf(r,e){let t=Array.from({length:r.length},(n,i)=>({start:i,end:i+1}));for(;t.length>1;){let n=null;for(let i=0;i<t.length-1;i++){const s=r.slice(t[i].start,t[i+1].end),a=e.get(s.join(","));a!=null&&(n==null||a<n[0])&&(n=[a,i])}if(n!=null){const i=n[1];t[i]={start:t[i].start,end:t[i+1].end},t.splice(i+1,1)}else break}return t}function yf(r,e){return r.length===1?[e.get(r.join(","))]:gf(r,e).map(t=>e.get(r.slice(t.start,t.end).join(","))).filter(t=>t!=null)}function bf(r){return r.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var Ki=class{constructor(r,e){Ee(this,"specialTokens");Ee(this,"inverseSpecialTokens");Ee(this,"patStr");Ee(this,"textEncoder",new TextEncoder);Ee(this,"textDecoder",new TextDecoder("utf-8"));Ee(this,"rankMap",new Map);Ee(this,"textMap",new Map);this.patStr=r.pat_str;const t=r.bpe_ranks.split(`
`).filter(Boolean).reduce((n,i)=>{const[s,a,...o]=i.split(" "),u=Number.parseInt(a,10);return o.forEach((c,d)=>n[c]=u+d),n},{});for(const[n,i]of Object.entries(t)){const s=Fn.toByteArray(n);this.rankMap.set(s.join(","),i),this.textMap.set(i,s)}this.specialTokens={...r.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((n,[i,s])=>(n[s]=this.textEncoder.encode(i),n),{})}encode(r,e=[],t="all"){const n=new RegExp(this.patStr,"ug"),i=Ki.specialTokenRegex(Object.keys(this.specialTokens)),s=[],a=new Set(e==="all"?Object.keys(this.specialTokens):e),o=new Set(t==="all"?Object.keys(this.specialTokens).filter(c=>!a.has(c)):t);if(o.size>0){const c=Ki.specialTokenRegex([...o]),d=r.match(c);if(d!=null)throw new Error(`The text contains a special token that is not allowed: ${d[0]}`)}let u=0;for(;;){let c=null,d=u;for(;i.lastIndex=d,c=i.exec(r),!(c==null||a.has(c[0]));)d=c.index+1;const f=(c==null?void 0:c.index)??r.length;for(const b of r.substring(u,f).matchAll(n)){const g=this.textEncoder.encode(b[0]),_=this.rankMap.get(g.join(","));if(_!=null){s.push(_);continue}s.push(...yf(g,this.rankMap))}if(c==null)break;let m=this.specialTokens[c[0]];s.push(m),u=c.index+c[0].length}return s}decode(r){const e=[];let t=0;for(let s=0;s<r.length;++s){const a=r[s],o=this.textMap.get(a)??this.inverseSpecialTokens[a];o!=null&&(e.push(o),t+=o.length)}const n=new Uint8Array(t);let i=0;for(const s of e)n.set(s,i),i+=s.length;return this.textDecoder.decode(n)}},Ho=Ki;of(Ho,"specialTokenRegex",r=>new RegExp(r.map(e=>bf(e)).join("|"),"g"));function vf(r){switch(r){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"text-embedding-ada-002":return"cl100k_base";default:throw new Error("Unknown model")}}const qr={},wf=new zn({});async function _f(r,e){return r in qr||(qr[r]=wf.fetch(`https://tiktoken.pages.dev/js/${r}.json`,{signal:e==null?void 0:e.signal}).then(t=>t.json()).catch(t=>{throw delete qr[r],t})),new Ho(await qr[r],e==null?void 0:e.extendedSpecialTokens)}async function Wo(r,e){return _f(vf(r),e)}const Cr=r=>r.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":r.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":r.startsWith("gpt-4-32k")?"gpt-4-32k":r.startsWith("gpt-4-")?"gpt-4":r,If=r=>{switch(Cr(r)){case"gpt-3.5-turbo-16k":return 16384;case"gpt-3.5-turbo":return 4096;case"gpt-4-32k":return 32768;case"gpt-4":return 8192;case"text-davinci-003":return 4097;case"text-curie-001":return 2048;case"text-babbage-001":return 2048;case"text-ada-001":return 2048;case"code-davinci-002":return 8e3;case"code-cushman-001":return 2048;default:return 4097}},Af=async({prompt:r,modelName:e})=>{let t;try{t=(await Wo(Cr(e))).encode(r).length}catch{console.warn("Failed to calculate number of tokens, falling back to approximate count"),t=Math.ceil(r.length/4)}return If(e)-t},Go="__run";class nr{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new nr({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class Lr extends _t{get text(){return this.content}constructor(e,t){typeof e=="string"&&(e={content:e,additional_kwargs:t}),e.additional_kwargs||(e.additional_kwargs={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}}class Ur extends Lr{static _mergeAdditionalKwargs(e,t){const n={...e};for(const[i,s]of Object.entries(t))if(n[i]===void 0)n[i]=s;else{if(typeof n[i]!=typeof s)throw new Error(`additional_kwargs[${i}] already exists in the message chunk, but with a different type.`);if(typeof n[i]=="string")n[i]=n[i]+s;else if(!Array.isArray(n[i])&&typeof n[i]=="object")n[i]=this._mergeAdditionalKwargs(n[i],s);else throw new Error(`additional_kwargs[${i}] already exists in this message chunk.`)}return n}}class kr extends Lr{static lc_name(){return"HumanMessage"}_getType(){return"human"}}class In extends Ur{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(e){return new In({content:this.content+e.content,additional_kwargs:In._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class As extends Lr{static lc_name(){return"AIMessage"}_getType(){return"ai"}}class An extends Ur{static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}concat(e){return new An({content:this.content+e.content,additional_kwargs:An._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class Yo extends Lr{static lc_name(){return"SystemMessage"}_getType(){return"system"}}class En extends Ur{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(e){return new En({content:this.content+e.content,additional_kwargs:En._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class Tn extends Ur{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new Tn({content:this.content+e.content,additional_kwargs:Tn._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs),name:this.name??""})}}class Jo extends Lr{static lc_name(){return"ChatMessage"}constructor(e,t){typeof e=="string"&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}}function Ef(r){return typeof(r==null?void 0:r._getType)=="function"}function Qr(r){if(typeof r=="string")return new kr(r);if(Ef(r))return r;const[e,t]=r;if(e==="human"||e==="user")return new kr({content:t});if(e==="ai"||e==="assistant")return new As({content:t});if(e==="system")return new Yo({content:t});throw new Error("Unable to coerce message from array: only human, AI, or system message coercion is currently supported.")}class Pn extends Ur{static lc_name(){return"ChatMessageChunk"}constructor(e,t){typeof e=="string"&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new Pn({content:this.content+e.content,additional_kwargs:Pn._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs),role:this.role})}}class Es extends nr{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new Es({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}class Xo extends _t{}class Tf{}function Kn(r){const{azureOpenAIApiDeploymentName:e,azureOpenAIApiInstanceName:t,azureOpenAIApiKey:n,azureOpenAIBasePath:i,baseURL:s}=r;if(n&&i&&e)return`${i}/${e}`;if(n){if(!t)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!e)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${t}.openai.azure.com/openai/deployments/${e}`}return s}const qi=(r,e)=>r.reduce((t,n,i)=>{const s=Math.floor(i/e),a=t[s]||[];return t[s]=a.concat([n]),t},[]);class Qo extends Xo{constructor(e){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","base"]}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new kr(this.value)]}}class Pf extends Se{get lc_attributes(){return{partialVariables:void 0}}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{inputVariables:t}=e;if(t.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){const t=this.partialVariables??{},n={};for(const[s,a]of Object.entries(t))typeof a=="string"?n[s]=a:n[s]=await a();return{...n,...e}}async invoke(e,t){return this._callWithConfig(n=>this.formatPromptValue(n),e,{...t,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(e){switch(e._type){case"prompt":{const{PromptTemplate:t}=await Promise.resolve().then(()=>da);return t.deserialize(e)}case void 0:{const{PromptTemplate:t}=await Promise.resolve().then(()=>da);return t.deserialize({...e,_type:"prompt"})}case"few_shot":{const{FewShotPromptTemplate:t}=await Promise.resolve().then(()=>zf);return t.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}class eu extends Pf{async formatPromptValue(e){const t=await this.format(e);return new Qo(t)}}const tu=r=>{const e=r.split(""),t=[],n=(s,a)=>{for(let o=a;o<e.length;o+=1)if(s.includes(e[o]))return o;return-1};let i=0;for(;i<e.length;)if(e[i]==="{"&&i+1<e.length&&e[i+1]==="{")t.push({type:"literal",text:"{"}),i+=2;else if(e[i]==="}"&&i+1<e.length&&e[i+1]==="}")t.push({type:"literal",text:"}"}),i+=2;else if(e[i]==="{"){const s=n("}",i);if(s<0)throw new Error("Unclosed '{' in template.");t.push({type:"variable",name:e.slice(i+1,s).join("")}),i=s+1}else{if(e[i]==="}")throw new Error("Single '}' in template.");{const s=n("{}",i),a=(s<0?e.slice(i):e.slice(i,s)).join("");t.push({type:"literal",text:a}),i=s<0?e.length:s}}return t},Of=(r,e)=>tu(r).reduce((t,n)=>{if(n.type==="variable"){if(n.name in e)return t+e[n.name];throw new Error(`Missing value for input ${n.name}`)}return t+n.text},""),Hi={"f-string":Of},xf={"f-string":tu},Ts=(r,e,t)=>Hi[e](r,t),Sf=(r,e)=>xf[e](r),ru=(r,e,t)=>{if(!(e in Hi)){const n=Object.keys(Hi);throw new Error(`Invalid template format. Got \`${e}\`;
                         should be one of ${n}`)}try{const n=t.reduce((i,s)=>(i[s]="foo",i),{});Ts(r,e,n)}catch(n){throw new Error(`Invalid prompt schema: ${n.message}`)}};class vt extends eu{static lc_name(){return"PromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.validateTemplate){let t=this.inputVariables;this.partialVariables&&(t=t.concat(Object.keys(this.partialVariables))),ru(this.template,this.templateFormat,t)}}_getPromptType(){return"prompt"}async format(e){const t=await this.mergePartialAndUserVariables(e);return Ts(this.template,this.templateFormat,t)}static fromExamples(e,t,n,i=`

`,s=""){const a=[s,...e,t].join(i);return new vt({inputVariables:n,template:a})}static fromTemplate(e,{templateFormat:t="f-string",...n}={}){const i=new Set;return Sf(e,t).forEach(s=>{s.type==="variable"&&i.add(s.name)}),new vt({inputVariables:[...i],templateFormat:t,template:e,...n})}async partial(e){const t=this.inputVariables.filter(s=>!(s in e)),n={...this.partialVariables??{},...e},i={...this,inputVariables:t,partialVariables:n};return new vt(i)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw new Error("Prompt template must have a template");return new vt({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format})}}const da=Object.freeze(Object.defineProperty({__proto__:null,PromptTemplate:vt},Symbol.toStringTag,{value:"Module"}));class Cf extends Xo{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return Mn(this.messages)}toChatMessages(){return this.messages}}function Hr(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nu={exports:{}};(function(r,e){(function(t){r.exports=t()})(function(){return function t(n,i,s){function a(c,d){if(!i[c]){if(!n[c]){var f=typeof Hr=="function"&&Hr;if(!d&&f)return f(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+c+"'")}d=i[c]={exports:{}},n[c][0].call(d.exports,function(m){var b=n[c][1][m];return a(b||m)},d,d.exports,t,n,i,s)}return i[c].exports}for(var o=typeof Hr=="function"&&Hr,u=0;u<s.length;u++)a(s[u]);return a}({1:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){var g=t("crypto");function _(O,C){C=j(O,C);var v;return(v=C.algorithm!=="passthrough"?g.createHash(C.algorithm):new M).write===void 0&&(v.write=v.update,v.end=v.update),R(C,v).dispatch(O),v.update||v.end(""),v.digest?v.digest(C.encoding==="buffer"?void 0:C.encoding):(O=v.read(),C.encoding!=="buffer"?O.toString(C.encoding):O)}(i=n.exports=_).sha1=function(O){return _(O)},i.keys=function(O){return _(O,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},i.MD5=function(O){return _(O,{algorithm:"md5",encoding:"hex"})},i.keysMD5=function(O){return _(O,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var h=g.getHashes?g.getHashes().slice():["sha1","md5"],T=(h.push("passthrough"),["buffer","hex","binary","base64"]);function j(O,C){var v={};if(v.algorithm=(C=C||{}).algorithm||"sha1",v.encoding=C.encoding||"hex",v.excludeValues=!!C.excludeValues,v.algorithm=v.algorithm.toLowerCase(),v.encoding=v.encoding.toLowerCase(),v.ignoreUnknown=C.ignoreUnknown===!0,v.respectType=C.respectType!==!1,v.respectFunctionNames=C.respectFunctionNames!==!1,v.respectFunctionProperties=C.respectFunctionProperties!==!1,v.unorderedArrays=C.unorderedArrays===!0,v.unorderedSets=C.unorderedSets!==!1,v.unorderedObjects=C.unorderedObjects!==!1,v.replacer=C.replacer||void 0,v.excludeKeys=C.excludeKeys||void 0,O===void 0)throw new Error("Object argument required.");for(var A=0;A<h.length;++A)h[A].toLowerCase()===v.algorithm.toLowerCase()&&(v.algorithm=h[A]);if(h.indexOf(v.algorithm)===-1)throw new Error('Algorithm "'+v.algorithm+'"  not supported. supported values: '+h.join(", "));if(T.indexOf(v.encoding)===-1&&v.algorithm!=="passthrough")throw new Error('Encoding "'+v.encoding+'"  not supported. supported values: '+T.join(", "));return v}function S(O){if(typeof O=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(O))!=null}function R(O,C,v){v=v||[];function A(I){return C.update?C.update(I,"utf8"):C.write(I,"utf8")}return{dispatch:function(I){return this["_"+((I=O.replacer?O.replacer(I):I)===null?"null":typeof I)](I)},_object:function(I){var N,L=Object.prototype.toString.call(I),q=/\[object (.*)\]/i.exec(L);if(q=(q=q?q[1]:"unknown:["+L+"]").toLowerCase(),0<=(L=v.indexOf(I)))return this.dispatch("[CIRCULAR:"+L+"]");if(v.push(I),o!==void 0&&o.isBuffer&&o.isBuffer(I))return A("buffer:"),A(I);if(q==="object"||q==="function"||q==="asyncfunction")return L=Object.keys(I),O.unorderedObjects&&(L=L.sort()),O.respectType===!1||S(I)||L.splice(0,0,"prototype","__proto__","constructor"),O.excludeKeys&&(L=L.filter(function(Y){return!O.excludeKeys(Y)})),A("object:"+L.length+":"),N=this,L.forEach(function(Y){N.dispatch(Y),A(":"),O.excludeValues||N.dispatch(I[Y]),A(",")});if(!this["_"+q]){if(O.ignoreUnknown)return A("["+q+"]");throw new Error('Unknown object type "'+q+'"')}this["_"+q](I)},_array:function(I,Y){Y=Y!==void 0?Y:O.unorderedArrays!==!1;var L=this;if(A("array:"+I.length+":"),!Y||I.length<=1)return I.forEach(function(K){return L.dispatch(K)});var q=[],Y=I.map(function(K){var V=new M,B=v.slice();return R(O,V,B).dispatch(K),q=q.concat(B.slice(v.length)),V.read().toString()});return v=v.concat(q),Y.sort(),this._array(Y,!1)},_date:function(I){return A("date:"+I.toJSON())},_symbol:function(I){return A("symbol:"+I.toString())},_error:function(I){return A("error:"+I.toString())},_boolean:function(I){return A("bool:"+I.toString())},_string:function(I){A("string:"+I.length+":"),A(I.toString())},_function:function(I){A("fn:"),S(I)?this.dispatch("[native]"):this.dispatch(I.toString()),O.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(I.name)),O.respectFunctionProperties&&this._object(I)},_number:function(I){return A("number:"+I.toString())},_xml:function(I){return A("xml:"+I.toString())},_null:function(){return A("Null")},_undefined:function(){return A("Undefined")},_regexp:function(I){return A("regex:"+I.toString())},_uint8array:function(I){return A("uint8array:"),this.dispatch(Array.prototype.slice.call(I))},_uint8clampedarray:function(I){return A("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(I))},_int8array:function(I){return A("int8array:"),this.dispatch(Array.prototype.slice.call(I))},_uint16array:function(I){return A("uint16array:"),this.dispatch(Array.prototype.slice.call(I))},_int16array:function(I){return A("int16array:"),this.dispatch(Array.prototype.slice.call(I))},_uint32array:function(I){return A("uint32array:"),this.dispatch(Array.prototype.slice.call(I))},_int32array:function(I){return A("int32array:"),this.dispatch(Array.prototype.slice.call(I))},_float32array:function(I){return A("float32array:"),this.dispatch(Array.prototype.slice.call(I))},_float64array:function(I){return A("float64array:"),this.dispatch(Array.prototype.slice.call(I))},_arraybuffer:function(I){return A("arraybuffer:"),this.dispatch(new Uint8Array(I))},_url:function(I){return A("url:"+I.toString())},_map:function(I){return A("map:"),I=Array.from(I),this._array(I,O.unorderedSets!==!1)},_set:function(I){return A("set:"),I=Array.from(I),this._array(I,O.unorderedSets!==!1)},_file:function(I){return A("file:"),this.dispatch([I.name,I.size,I.type,I.lastModfied])},_blob:function(){if(O.ignoreUnknown)return A("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return A("domwindow")},_bigint:function(I){return A("bigint:"+I.toString())},_process:function(){return A("process")},_timer:function(){return A("timer")},_pipe:function(){return A("pipe")},_tcp:function(){return A("tcp")},_udp:function(){return A("udp")},_tty:function(){return A("tty")},_statwatcher:function(){return A("statwatcher")},_securecontext:function(){return A("securecontext")},_connection:function(){return A("connection")},_zlib:function(){return A("zlib")},_context:function(){return A("context")},_nodescript:function(){return A("nodescript")},_httpparser:function(){return A("httpparser")},_dataview:function(){return A("dataview")},_signal:function(){return A("signal")},_fsevent:function(){return A("fsevent")},_tlswrap:function(){return A("tlswrap")}}}function M(){return{buf:"",write:function(O){this.buf+=O},end:function(O){this.buf+=O},read:function(){return this.buf}}}i.writeToStream=function(O,C,v){return v===void 0&&(v=C,C={}),R(C=j(O,C),v).dispatch(O)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){(function(g){var _=typeof Uint8Array<"u"?Uint8Array:Array,h="+".charCodeAt(0),T="/".charCodeAt(0),j="0".charCodeAt(0),S="a".charCodeAt(0),R="A".charCodeAt(0),M="-".charCodeAt(0),O="_".charCodeAt(0);function C(v){return v=v.charCodeAt(0),v===h||v===M?62:v===T||v===O?63:v<j?-1:v<j+10?v-j+26+26:v<R+26?v-R:v<S+26?v-S+26:void 0}g.toByteArray=function(v){var A,I;if(0<v.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var N=v.length,N=v.charAt(N-2)==="="?2:v.charAt(N-1)==="="?1:0,L=new _(3*v.length/4-N),q=0<N?v.length-4:v.length,Y=0;function K(V){L[Y++]=V}for(A=0;A<q;A+=4,0)K((16711680&(I=C(v.charAt(A))<<18|C(v.charAt(A+1))<<12|C(v.charAt(A+2))<<6|C(v.charAt(A+3))))>>16),K((65280&I)>>8),K(255&I);return N==2?K(255&(I=C(v.charAt(A))<<2|C(v.charAt(A+1))>>4)):N==1&&(K((I=C(v.charAt(A))<<10|C(v.charAt(A+1))<<4|C(v.charAt(A+2))>>2)>>8&255),K(255&I)),L},g.fromByteArray=function(v){var A,I,N,L,q=v.length%3,Y="";function K(V){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(V)}for(A=0,N=v.length-q;A<N;A+=3)I=(v[A]<<16)+(v[A+1]<<8)+v[A+2],Y+=K((L=I)>>18&63)+K(L>>12&63)+K(L>>6&63)+K(63&L);switch(q){case 1:Y=(Y+=K((I=v[v.length-1])>>2))+K(I<<4&63)+"==";break;case 2:Y=(Y=(Y+=K((I=(v[v.length-2]<<8)+v[v.length-1])>>10))+K(I>>4&63))+K(I<<2&63)+"="}return Y}})(i===void 0?this.base64js={}:i)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,n,i){(function(s,a,h,u,c,d,f,m,b){var g=t("base64-js"),_=t("ieee754");function h(y,E,D){if(!(this instanceof h))return new h(y,E,D);var z,F,X,ae,ue=typeof y;if(E==="base64"&&ue=="string")for(y=(ae=y).trim?ae.trim():ae.replace(/^\s+|\s+$/g,"");y.length%4!=0;)y+="=";if(ue=="number")z=G(y);else if(ue=="string")z=h.byteLength(y,E);else{if(ue!="object")throw new Error("First argument needs to be a number, array or string.");z=G(y.length)}if(h._useTypedArrays?F=h._augment(new Uint8Array(z)):((F=this).length=z,F._isBuffer=!0),h._useTypedArrays&&typeof y.byteLength=="number")F._set(y);else if(W(ae=y)||h.isBuffer(ae)||ae&&typeof ae=="object"&&typeof ae.length=="number")for(X=0;X<z;X++)h.isBuffer(y)?F[X]=y.readUInt8(X):F[X]=y[X];else if(ue=="string")F.write(y,0,E);else if(ue=="number"&&!h._useTypedArrays&&!D)for(X=0;X<z;X++)F[X]=0;return F}function T(y,E,D,z){return h._charsWritten=J(function(F){for(var X=[],ae=0;ae<F.length;ae++)X.push(255&F.charCodeAt(ae));return X}(E),y,D,z)}function j(y,E,D,z){return h._charsWritten=J(function(F){for(var X,ae,ue=[],fe=0;fe<F.length;fe++)ae=F.charCodeAt(fe),X=ae>>8,ae=ae%256,ue.push(ae),ue.push(X);return ue}(E),y,D,z)}function S(y,E,D){var z="";D=Math.min(y.length,D);for(var F=E;F<D;F++)z+=String.fromCharCode(y[F]);return z}function R(y,E,D,X){X||(Q(typeof D=="boolean","missing or invalid endian"),Q(E!=null,"missing offset"),Q(E+1<y.length,"Trying to read beyond buffer length"));var F,X=y.length;if(!(X<=E))return D?(F=y[E],E+1<X&&(F|=y[E+1]<<8)):(F=y[E]<<8,E+1<X&&(F|=y[E+1])),F}function M(y,E,D,X){X||(Q(typeof D=="boolean","missing or invalid endian"),Q(E!=null,"missing offset"),Q(E+3<y.length,"Trying to read beyond buffer length"));var F,X=y.length;if(!(X<=E))return D?(E+2<X&&(F=y[E+2]<<16),E+1<X&&(F|=y[E+1]<<8),F|=y[E],E+3<X&&(F+=y[E+3]<<24>>>0)):(E+1<X&&(F=y[E+1]<<16),E+2<X&&(F|=y[E+2]<<8),E+3<X&&(F|=y[E+3]),F+=y[E]<<24>>>0),F}function O(y,E,D,z){if(z||(Q(typeof D=="boolean","missing or invalid endian"),Q(E!=null,"missing offset"),Q(E+1<y.length,"Trying to read beyond buffer length")),!(y.length<=E))return z=R(y,E,D,!0),32768&z?-1*(65535-z+1):z}function C(y,E,D,z){if(z||(Q(typeof D=="boolean","missing or invalid endian"),Q(E!=null,"missing offset"),Q(E+3<y.length,"Trying to read beyond buffer length")),!(y.length<=E))return z=M(y,E,D,!0),2147483648&z?-1*(4294967295-z+1):z}function v(y,E,D,z){return z||(Q(typeof D=="boolean","missing or invalid endian"),Q(E+3<y.length,"Trying to read beyond buffer length")),_.read(y,E,D,23,4)}function A(y,E,D,z){return z||(Q(typeof D=="boolean","missing or invalid endian"),Q(E+7<y.length,"Trying to read beyond buffer length")),_.read(y,E,D,52,8)}function I(y,E,D,z,F){if(F||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(D!=null,"missing offset"),Q(D+1<y.length,"trying to write beyond buffer length"),Le(E,65535)),F=y.length,!(F<=D))for(var X=0,ae=Math.min(F-D,2);X<ae;X++)y[D+X]=(E&255<<8*(z?X:1-X))>>>8*(z?X:1-X)}function N(y,E,D,z,F){if(F||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(D!=null,"missing offset"),Q(D+3<y.length,"trying to write beyond buffer length"),Le(E,4294967295)),F=y.length,!(F<=D))for(var X=0,ae=Math.min(F-D,4);X<ae;X++)y[D+X]=E>>>8*(z?X:3-X)&255}function L(y,E,D,z,F){F||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(D!=null,"missing offset"),Q(D+1<y.length,"Trying to write beyond buffer length"),we(E,32767,-32768)),y.length<=D||I(y,0<=E?E:65535+E+1,D,z,F)}function q(y,E,D,z,F){F||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(D!=null,"missing offset"),Q(D+3<y.length,"Trying to write beyond buffer length"),we(E,2147483647,-2147483648)),y.length<=D||N(y,0<=E?E:4294967295+E+1,D,z,F)}function Y(y,E,D,z,F){F||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(D!=null,"missing offset"),Q(D+3<y.length,"Trying to write beyond buffer length"),Ke(E,34028234663852886e22,-34028234663852886e22)),y.length<=D||_.write(y,E,D,z,23,4)}function K(y,E,D,z,F){F||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(D!=null,"missing offset"),Q(D+7<y.length,"Trying to write beyond buffer length"),Ke(E,17976931348623157e292,-17976931348623157e292)),y.length<=D||_.write(y,E,D,z,52,8)}i.Buffer=h,i.SlowBuffer=h,i.INSPECT_MAX_BYTES=50,h.poolSize=8192,h._useTypedArrays=function(){try{var y=new ArrayBuffer(0),E=new Uint8Array(y);return E.foo=function(){return 42},E.foo()===42&&typeof E.subarray=="function"}catch{return!1}}(),h.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.isBuffer=function(y){return!(y==null||!y._isBuffer)},h.byteLength=function(y,E){var D;switch(y+="",E||"utf8"){case"hex":D=y.length/2;break;case"utf8":case"utf-8":D=ie(y).length;break;case"ascii":case"binary":case"raw":D=y.length;break;case"base64":D=ge(y).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":D=2*y.length;break;default:throw new Error("Unknown encoding")}return D},h.concat=function(y,E){if(Q(W(y),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),y.length===0)return new h(0);if(y.length===1)return y[0];if(typeof E!="number")for(F=E=0;F<y.length;F++)E+=y[F].length;for(var D=new h(E),z=0,F=0;F<y.length;F++){var X=y[F];X.copy(D,z),z+=X.length}return D},h.prototype.write=function(y,E,D,z){isFinite(E)?isFinite(D)||(z=D,D=void 0):(fe=z,z=E,E=D,D=fe),E=Number(E)||0;var F,X,ae,ue,fe=this.length-E;switch((!D||fe<(D=Number(D)))&&(D=fe),z=String(z||"utf8").toLowerCase()){case"hex":F=function(ve,ye,_e,U){_e=Number(_e)||0;var re=ve.length-_e;(!U||re<(U=Number(U)))&&(U=re),Q((re=ye.length)%2==0,"Invalid hex string"),re/2<U&&(U=re/2);for(var ee=0;ee<U;ee++){var ne=parseInt(ye.substr(2*ee,2),16);Q(!isNaN(ne),"Invalid hex string"),ve[_e+ee]=ne}return h._charsWritten=2*ee,ee}(this,y,E,D);break;case"utf8":case"utf-8":X=this,ae=E,ue=D,F=h._charsWritten=J(ie(y),X,ae,ue);break;case"ascii":case"binary":F=T(this,y,E,D);break;case"base64":X=this,ae=E,ue=D,F=h._charsWritten=J(ge(y),X,ae,ue);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":F=j(this,y,E,D);break;default:throw new Error("Unknown encoding")}return F},h.prototype.toString=function(y,E,D){var z,F,X,ae,ue=this;if(y=String(y||"utf8").toLowerCase(),E=Number(E)||0,(D=D!==void 0?Number(D):ue.length)===E)return"";switch(y){case"hex":z=function(fe,ve,ye){var _e=fe.length;(!ve||ve<0)&&(ve=0),(!ye||ye<0||_e<ye)&&(ye=_e);for(var U="",re=ve;re<ye;re++)U+=te(fe[re]);return U}(ue,E,D);break;case"utf8":case"utf-8":z=function(fe,ve,ye){var _e="",U="";ye=Math.min(fe.length,ye);for(var re=ve;re<ye;re++)fe[re]<=127?(_e+=je(U)+String.fromCharCode(fe[re]),U=""):U+="%"+fe[re].toString(16);return _e+je(U)}(ue,E,D);break;case"ascii":case"binary":z=S(ue,E,D);break;case"base64":F=ue,ae=D,z=(X=E)===0&&ae===F.length?g.fromByteArray(F):g.fromByteArray(F.slice(X,ae));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":z=function(fe,ve,ye){for(var _e=fe.slice(ve,ye),U="",re=0;re<_e.length;re+=2)U+=String.fromCharCode(_e[re]+256*_e[re+1]);return U}(ue,E,D);break;default:throw new Error("Unknown encoding")}return z},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},h.prototype.copy=function(y,E,D,z){if(E=E||0,(z=z||z===0?z:this.length)!==(D=D||0)&&y.length!==0&&this.length!==0){Q(D<=z,"sourceEnd < sourceStart"),Q(0<=E&&E<y.length,"targetStart out of bounds"),Q(0<=D&&D<this.length,"sourceStart out of bounds"),Q(0<=z&&z<=this.length,"sourceEnd out of bounds"),z>this.length&&(z=this.length);var F=(z=y.length-E<z-D?y.length-E+D:z)-D;if(F<100||!h._useTypedArrays)for(var X=0;X<F;X++)y[X+E]=this[X+D];else y._set(this.subarray(D,D+F),E)}},h.prototype.slice=function(y,E){var D=this.length;if(y=B(y,D,0),E=B(E,D,D),h._useTypedArrays)return h._augment(this.subarray(y,E));for(var z=E-y,F=new h(z,void 0,!0),X=0;X<z;X++)F[X]=this[X+y];return F},h.prototype.get=function(y){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(y)},h.prototype.set=function(y,E){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(y,E)},h.prototype.readUInt8=function(y,E){if(E||(Q(y!=null,"missing offset"),Q(y<this.length,"Trying to read beyond buffer length")),!(y>=this.length))return this[y]},h.prototype.readUInt16LE=function(y,E){return R(this,y,!0,E)},h.prototype.readUInt16BE=function(y,E){return R(this,y,!1,E)},h.prototype.readUInt32LE=function(y,E){return M(this,y,!0,E)},h.prototype.readUInt32BE=function(y,E){return M(this,y,!1,E)},h.prototype.readInt8=function(y,E){if(E||(Q(y!=null,"missing offset"),Q(y<this.length,"Trying to read beyond buffer length")),!(y>=this.length))return 128&this[y]?-1*(255-this[y]+1):this[y]},h.prototype.readInt16LE=function(y,E){return O(this,y,!0,E)},h.prototype.readInt16BE=function(y,E){return O(this,y,!1,E)},h.prototype.readInt32LE=function(y,E){return C(this,y,!0,E)},h.prototype.readInt32BE=function(y,E){return C(this,y,!1,E)},h.prototype.readFloatLE=function(y,E){return v(this,y,!0,E)},h.prototype.readFloatBE=function(y,E){return v(this,y,!1,E)},h.prototype.readDoubleLE=function(y,E){return A(this,y,!0,E)},h.prototype.readDoubleBE=function(y,E){return A(this,y,!1,E)},h.prototype.writeUInt8=function(y,E,D){D||(Q(y!=null,"missing value"),Q(E!=null,"missing offset"),Q(E<this.length,"trying to write beyond buffer length"),Le(y,255)),E>=this.length||(this[E]=y)},h.prototype.writeUInt16LE=function(y,E,D){I(this,y,E,!0,D)},h.prototype.writeUInt16BE=function(y,E,D){I(this,y,E,!1,D)},h.prototype.writeUInt32LE=function(y,E,D){N(this,y,E,!0,D)},h.prototype.writeUInt32BE=function(y,E,D){N(this,y,E,!1,D)},h.prototype.writeInt8=function(y,E,D){D||(Q(y!=null,"missing value"),Q(E!=null,"missing offset"),Q(E<this.length,"Trying to write beyond buffer length"),we(y,127,-128)),E>=this.length||(0<=y?this.writeUInt8(y,E,D):this.writeUInt8(255+y+1,E,D))},h.prototype.writeInt16LE=function(y,E,D){L(this,y,E,!0,D)},h.prototype.writeInt16BE=function(y,E,D){L(this,y,E,!1,D)},h.prototype.writeInt32LE=function(y,E,D){q(this,y,E,!0,D)},h.prototype.writeInt32BE=function(y,E,D){q(this,y,E,!1,D)},h.prototype.writeFloatLE=function(y,E,D){Y(this,y,E,!0,D)},h.prototype.writeFloatBE=function(y,E,D){Y(this,y,E,!1,D)},h.prototype.writeDoubleLE=function(y,E,D){K(this,y,E,!0,D)},h.prototype.writeDoubleBE=function(y,E,D){K(this,y,E,!1,D)},h.prototype.fill=function(y,E,D){if(E=E||0,D=D||this.length,Q(typeof(y=typeof(y=y||0)=="string"?y.charCodeAt(0):y)=="number"&&!isNaN(y),"value is not a number"),Q(E<=D,"end < start"),D!==E&&this.length!==0){Q(0<=E&&E<this.length,"start out of bounds"),Q(0<=D&&D<=this.length,"end out of bounds");for(var z=E;z<D;z++)this[z]=y}},h.prototype.inspect=function(){for(var y=[],E=this.length,D=0;D<E;D++)if(y[D]=te(this[D]),D===i.INSPECT_MAX_BYTES){y[D+1]="...";break}return"<Buffer "+y.join(" ")+">"},h.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(h._useTypedArrays)return new h(this).buffer;for(var y=new Uint8Array(this.length),E=0,D=y.length;E<D;E+=1)y[E]=this[E];return y.buffer};var V=h.prototype;function B(y,E,D){return typeof y!="number"?D:E<=(y=~~y)?E:0<=y||0<=(y+=E)?y:0}function G(y){return(y=~~Math.ceil(+y))<0?0:y}function W(y){return(Array.isArray||function(E){return Object.prototype.toString.call(E)==="[object Array]"})(y)}function te(y){return y<16?"0"+y.toString(16):y.toString(16)}function ie(y){for(var E=[],D=0;D<y.length;D++){var z=y.charCodeAt(D);if(z<=127)E.push(y.charCodeAt(D));else for(var F=D,X=(55296<=z&&z<=57343&&D++,encodeURIComponent(y.slice(F,D+1)).substr(1).split("%")),ae=0;ae<X.length;ae++)E.push(parseInt(X[ae],16))}return E}function ge(y){return g.toByteArray(y)}function J(y,E,D,z){for(var F=0;F<z&&!(F+D>=E.length||F>=y.length);F++)E[F+D]=y[F];return F}function je(y){try{return decodeURIComponent(y)}catch{return String.fromCharCode(65533)}}function Le(y,E){Q(typeof y=="number","cannot write a non-number as a number"),Q(0<=y,"specified a negative value for writing an unsigned value"),Q(y<=E,"value is larger than maximum value for type"),Q(Math.floor(y)===y,"value has a fractional component")}function we(y,E,D){Q(typeof y=="number","cannot write a non-number as a number"),Q(y<=E,"value larger than maximum allowed value"),Q(D<=y,"value smaller than minimum allowed value"),Q(Math.floor(y)===y,"value has a fractional component")}function Ke(y,E,D){Q(typeof y=="number","cannot write a non-number as a number"),Q(y<=E,"value larger than maximum allowed value"),Q(D<=y,"value smaller than minimum allowed value")}function Q(y,E){if(!y)throw new Error(E||"Failed assertion")}h._augment=function(y){return y._isBuffer=!0,y._get=y.get,y._set=y.set,y.get=V.get,y.set=V.set,y.write=V.write,y.toString=V.toString,y.toLocaleString=V.toString,y.toJSON=V.toJSON,y.copy=V.copy,y.slice=V.slice,y.readUInt8=V.readUInt8,y.readUInt16LE=V.readUInt16LE,y.readUInt16BE=V.readUInt16BE,y.readUInt32LE=V.readUInt32LE,y.readUInt32BE=V.readUInt32BE,y.readInt8=V.readInt8,y.readInt16LE=V.readInt16LE,y.readInt16BE=V.readInt16BE,y.readInt32LE=V.readInt32LE,y.readInt32BE=V.readInt32BE,y.readFloatLE=V.readFloatLE,y.readFloatBE=V.readFloatBE,y.readDoubleLE=V.readDoubleLE,y.readDoubleBE=V.readDoubleBE,y.writeUInt8=V.writeUInt8,y.writeUInt16LE=V.writeUInt16LE,y.writeUInt16BE=V.writeUInt16BE,y.writeUInt32LE=V.writeUInt32LE,y.writeUInt32BE=V.writeUInt32BE,y.writeInt8=V.writeInt8,y.writeInt16LE=V.writeInt16LE,y.writeInt16BE=V.writeInt16BE,y.writeInt32LE=V.writeInt32LE,y.writeInt32BE=V.writeInt32BE,y.writeFloatLE=V.writeFloatLE,y.writeFloatBE=V.writeFloatBE,y.writeDoubleLE=V.writeDoubleLE,y.writeDoubleBE=V.writeDoubleBE,y.fill=V.fill,y.inspect=V.inspect,y.toArrayBuffer=V.toArrayBuffer,y}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,n,i){(function(s,a,g,u,c,d,f,m,b){var g=t("buffer").Buffer,_=4,h=new g(_);h.fill(0),n.exports={hash:function(T,j,S,R){for(var M=j(function(I,N){I.length%_!=0&&(L=I.length+(_-I.length%_),I=g.concat([I,h],L));for(var L,q=[],Y=N?I.readInt32BE:I.readInt32LE,K=0;K<I.length;K+=_)q.push(Y.call(I,K));return q}(T=g.isBuffer(T)?T:new g(T),R),8*T.length),j=R,O=new g(S),C=j?O.writeInt32BE:O.writeInt32LE,v=0;v<M.length;v++)C.call(O,M[v],4*v,!0);return O}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,n,i){(function(s,a,g,u,c,d,f,m,b){var g=t("buffer").Buffer,_=t("./sha"),h=t("./sha256"),T=t("./rng"),j={sha1:_,sha256:h,md5:t("./md5")},S=64,R=new g(S);function M(I,N){var L=j[I=I||"sha1"],q=[];return L||O("algorithm:",I,"is not yet supported"),{update:function(Y){return g.isBuffer(Y)||(Y=new g(Y)),q.push(Y),Y.length,this},digest:function(Y){var K=g.concat(q),K=N?function(V,B,G){g.isBuffer(B)||(B=new g(B)),g.isBuffer(G)||(G=new g(G)),B.length>S?B=V(B):B.length<S&&(B=g.concat([B,R],S));for(var W=new g(S),te=new g(S),ie=0;ie<S;ie++)W[ie]=54^B[ie],te[ie]=92^B[ie];return G=V(g.concat([W,G])),V(g.concat([te,G]))}(L,N,K):L(K);return q=null,Y?K.toString(Y):K}}}function O(){var I=[].slice.call(arguments).join(" ");throw new Error([I,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}R.fill(0),i.createHash=function(I){return M(I)},i.createHmac=M,i.randomBytes=function(I,N){if(!N||!N.call)return new g(T(I));try{N.call(this,void 0,new g(T(I)))}catch(L){N(L)}};var C,v=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],A=function(I){i[I]=function(){O("sorry,",I,"is not implemented yet")}};for(C in v)A(v[C])}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){var g=t("./helpers");function _(O,C){O[C>>5]|=128<<C%32,O[14+(C+64>>>9<<4)]=C;for(var v=1732584193,A=-271733879,I=-1732584194,N=271733878,L=0;L<O.length;L+=16){var q=v,Y=A,K=I,V=N,v=T(v,A,I,N,O[L+0],7,-680876936),N=T(N,v,A,I,O[L+1],12,-389564586),I=T(I,N,v,A,O[L+2],17,606105819),A=T(A,I,N,v,O[L+3],22,-1044525330);v=T(v,A,I,N,O[L+4],7,-176418897),N=T(N,v,A,I,O[L+5],12,1200080426),I=T(I,N,v,A,O[L+6],17,-1473231341),A=T(A,I,N,v,O[L+7],22,-45705983),v=T(v,A,I,N,O[L+8],7,1770035416),N=T(N,v,A,I,O[L+9],12,-1958414417),I=T(I,N,v,A,O[L+10],17,-42063),A=T(A,I,N,v,O[L+11],22,-1990404162),v=T(v,A,I,N,O[L+12],7,1804603682),N=T(N,v,A,I,O[L+13],12,-40341101),I=T(I,N,v,A,O[L+14],17,-1502002290),v=j(v,A=T(A,I,N,v,O[L+15],22,1236535329),I,N,O[L+1],5,-165796510),N=j(N,v,A,I,O[L+6],9,-1069501632),I=j(I,N,v,A,O[L+11],14,643717713),A=j(A,I,N,v,O[L+0],20,-373897302),v=j(v,A,I,N,O[L+5],5,-701558691),N=j(N,v,A,I,O[L+10],9,38016083),I=j(I,N,v,A,O[L+15],14,-660478335),A=j(A,I,N,v,O[L+4],20,-405537848),v=j(v,A,I,N,O[L+9],5,568446438),N=j(N,v,A,I,O[L+14],9,-1019803690),I=j(I,N,v,A,O[L+3],14,-187363961),A=j(A,I,N,v,O[L+8],20,1163531501),v=j(v,A,I,N,O[L+13],5,-1444681467),N=j(N,v,A,I,O[L+2],9,-51403784),I=j(I,N,v,A,O[L+7],14,1735328473),v=S(v,A=j(A,I,N,v,O[L+12],20,-1926607734),I,N,O[L+5],4,-378558),N=S(N,v,A,I,O[L+8],11,-2022574463),I=S(I,N,v,A,O[L+11],16,1839030562),A=S(A,I,N,v,O[L+14],23,-35309556),v=S(v,A,I,N,O[L+1],4,-1530992060),N=S(N,v,A,I,O[L+4],11,1272893353),I=S(I,N,v,A,O[L+7],16,-155497632),A=S(A,I,N,v,O[L+10],23,-1094730640),v=S(v,A,I,N,O[L+13],4,681279174),N=S(N,v,A,I,O[L+0],11,-358537222),I=S(I,N,v,A,O[L+3],16,-722521979),A=S(A,I,N,v,O[L+6],23,76029189),v=S(v,A,I,N,O[L+9],4,-640364487),N=S(N,v,A,I,O[L+12],11,-421815835),I=S(I,N,v,A,O[L+15],16,530742520),v=R(v,A=S(A,I,N,v,O[L+2],23,-995338651),I,N,O[L+0],6,-198630844),N=R(N,v,A,I,O[L+7],10,1126891415),I=R(I,N,v,A,O[L+14],15,-1416354905),A=R(A,I,N,v,O[L+5],21,-57434055),v=R(v,A,I,N,O[L+12],6,1700485571),N=R(N,v,A,I,O[L+3],10,-1894986606),I=R(I,N,v,A,O[L+10],15,-1051523),A=R(A,I,N,v,O[L+1],21,-2054922799),v=R(v,A,I,N,O[L+8],6,1873313359),N=R(N,v,A,I,O[L+15],10,-30611744),I=R(I,N,v,A,O[L+6],15,-1560198380),A=R(A,I,N,v,O[L+13],21,1309151649),v=R(v,A,I,N,O[L+4],6,-145523070),N=R(N,v,A,I,O[L+11],10,-1120210379),I=R(I,N,v,A,O[L+2],15,718787259),A=R(A,I,N,v,O[L+9],21,-343485551),v=M(v,q),A=M(A,Y),I=M(I,K),N=M(N,V)}return Array(v,A,I,N)}function h(O,C,v,A,I,N){return M((C=M(M(C,O),M(A,N)))<<I|C>>>32-I,v)}function T(O,C,v,A,I,N,L){return h(C&v|~C&A,O,C,I,N,L)}function j(O,C,v,A,I,N,L){return h(C&A|v&~A,O,C,I,N,L)}function S(O,C,v,A,I,N,L){return h(C^v^A,O,C,I,N,L)}function R(O,C,v,A,I,N,L){return h(v^(C|~A),O,C,I,N,L)}function M(O,C){var v=(65535&O)+(65535&C);return(O>>16)+(C>>16)+(v>>16)<<16|65535&v}n.exports=function(O){return g.hash(O,_,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){n.exports=function(g){for(var _,h=new Array(g),T=0;T<g;T++)!(3&T)&&(_=4294967296*Math.random()),h[T]=_>>>((3&T)<<3)&255;return h}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){var g=t("./helpers");function _(j,S){j[S>>5]|=128<<24-S%32,j[15+(S+64>>9<<4)]=S;for(var R,M,O,C=Array(80),v=1732584193,A=-271733879,I=-1732584194,N=271733878,L=-1009589776,q=0;q<j.length;q+=16){for(var Y=v,K=A,V=I,B=N,G=L,W=0;W<80;W++){C[W]=W<16?j[q+W]:T(C[W-3]^C[W-8]^C[W-14]^C[W-16],1);var te=h(h(T(v,5),(te=A,M=I,O=N,(R=W)<20?te&M|~te&O:!(R<40)&&R<60?te&M|te&O|M&O:te^M^O)),h(h(L,C[W]),(R=W)<20?1518500249:R<40?1859775393:R<60?-1894007588:-899497514)),L=N,N=I,I=T(A,30),A=v,v=te}v=h(v,Y),A=h(A,K),I=h(I,V),N=h(N,B),L=h(L,G)}return Array(v,A,I,N,L)}function h(j,S){var R=(65535&j)+(65535&S);return(j>>16)+(S>>16)+(R>>16)<<16|65535&R}function T(j,S){return j<<S|j>>>32-S}n.exports=function(j){return g.hash(j,_,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){function g(S,R){var M=(65535&S)+(65535&R);return(S>>16)+(R>>16)+(M>>16)<<16|65535&M}function _(S,R){var M,O=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),C=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),v=new Array(64);S[R>>5]|=128<<24-R%32,S[15+(R+64>>9<<4)]=R;for(var A,I,N=0;N<S.length;N+=16){for(var L=C[0],q=C[1],Y=C[2],K=C[3],V=C[4],B=C[5],G=C[6],W=C[7],te=0;te<64;te++)v[te]=te<16?S[te+N]:g(g(g((I=v[te-2],T(I,17)^T(I,19)^j(I,10)),v[te-7]),(I=v[te-15],T(I,7)^T(I,18)^j(I,3))),v[te-16]),M=g(g(g(g(W,T(I=V,6)^T(I,11)^T(I,25)),V&B^~V&G),O[te]),v[te]),A=g(T(A=L,2)^T(A,13)^T(A,22),L&q^L&Y^q&Y),W=G,G=B,B=V,V=g(K,M),K=Y,Y=q,q=L,L=g(M,A);C[0]=g(L,C[0]),C[1]=g(q,C[1]),C[2]=g(Y,C[2]),C[3]=g(K,C[3]),C[4]=g(V,C[4]),C[5]=g(B,C[5]),C[6]=g(G,C[6]),C[7]=g(W,C[7])}return C}var h=t("./helpers"),T=function(S,R){return S>>>R|S<<32-R},j=function(S,R){return S>>>R};n.exports=function(S){return h.hash(S,_,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){i.read=function(g,_,h,T,N){var S,R,M=8*N-T-1,O=(1<<M)-1,C=O>>1,v=-7,A=h?N-1:0,I=h?-1:1,N=g[_+A];for(A+=I,S=N&(1<<-v)-1,N>>=-v,v+=M;0<v;S=256*S+g[_+A],A+=I,v-=8);for(R=S&(1<<-v)-1,S>>=-v,v+=T;0<v;R=256*R+g[_+A],A+=I,v-=8);if(S===0)S=1-C;else{if(S===O)return R?NaN:1/0*(N?-1:1);R+=Math.pow(2,T),S-=C}return(N?-1:1)*R*Math.pow(2,S-T)},i.write=function(g,_,h,T,j,L){var R,M,O=8*L-j-1,C=(1<<O)-1,v=C>>1,A=j===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=T?0:L-1,N=T?1:-1,L=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(M=isNaN(_)?1:0,R=C):(R=Math.floor(Math.log(_)/Math.LN2),_*(T=Math.pow(2,-R))<1&&(R--,T*=2),2<=(_+=1<=R+v?A/T:A*Math.pow(2,1-v))*T&&(R++,T/=2),C<=R+v?(M=0,R=C):1<=R+v?(M=(_*T-1)*Math.pow(2,j),R+=v):(M=_*Math.pow(2,v-1)*Math.pow(2,j),R=0));8<=j;g[h+I]=255&M,I+=N,M/=256,j-=8);for(R=R<<j|M,O+=j;0<O;g[h+I]=255&R,I+=N,R/=256,O-=8);g[h+I-N]|=128*L}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){var g,_,h;function T(){}(s=n.exports={}).nextTick=(_=typeof window<"u"&&window.setImmediate,h=typeof window<"u"&&window.postMessage&&window.addEventListener,_?function(j){return window.setImmediate(j)}:h?(g=[],window.addEventListener("message",function(j){var S=j.source;S!==window&&S!==null||j.data!=="process-tick"||(j.stopPropagation(),0<g.length&&g.shift()())},!0),function(j){g.push(j),window.postMessage("process-tick","*")}):function(j){setTimeout(j,0)}),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.on=T,s.addListener=T,s.once=T,s.off=T,s.removeListener=T,s.removeAllListeners=T,s.emit=T,s.binding=function(j){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(j){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(nu);var kf=nu.exports;const Nf=Dn(kf),fa=(...r)=>Nf(r.join("_")),Rf=new Map;class Ps extends Tf{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,t){return Promise.resolve(this.cache.get(fa(e,t))??null)}async update(e,t,n){this.cache.set(fa(e,t),n)}static global(){return new Ps(Rf)}}const Df=()=>!1;class jf extends Se{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??Df(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class iu extends jf{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:t,...n}){super({callbacks:e??t,...n}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof n.cache=="object"?this.cache=n.cache:n.cache?this.cache=Ps.global():this.cache=void 0,this.caller=new zn(n??{})}async getNumTokens(e){let t=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await Wo("modelName"in this?Cr(this.modelName):"gpt2")}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}return this._encoding&&(t=this._encoding.encode(e).length),t}static _convertInputToPromptValue(e){return typeof e=="string"?new Qo(e):Array.isArray(e)?new Cf(e.map(Qr)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall(e){const t={...this._identifyingParams(),...e,_type:this._llmType(),_model:this._modelType()};return Object.entries(t).filter(([s,a])=>a!==void 0).map(([s,a])=>`${s}:${JSON.stringify(a)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){const{_type:t,_model:n,...i}=e;if(n&&n!=="base_chat_model")throw new Error(`Cannot load LLM with model ${n}`);const s={openai:(await Promise.resolve().then(()=>Cy)).ChatOpenAI}[t];if(s===void 0)throw new Error(`Cannot load LLM with type ${t}`);return new s(i)}}class Xt extends iu{constructor({concurrency:e,...t}){super(e?{maxConcurrency:e,...t}:t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","llms",this._llmType()]})}async invoke(e,t){const n=Xt._convertInputToPromptValue(e);return(await this.generatePrompt([n],t,t==null?void 0:t.callbacks)).generations[0][0].text}async*_streamResponseChunks(e,t,n){throw new Error("Not implemented.")}_separateRunnableConfigFromCallOptions(e){const[t,n]=super._separateRunnableConfigFromCallOptions(e);return n!=null&&n.timeout&&!n.signal&&(n.signal=AbortSignal.timeout(n.timeout)),[t,n]}async*_streamIterator(e,t){if(this._streamResponseChunks===Xt.prototype._streamResponseChunks)yield this.invoke(e,t);else{const n=Xt._convertInputToPromptValue(e),[i,s]=this._separateRunnableConfigFromCallOptions(t),a=await Ve.configure(i.callbacks,this.callbacks,i.tags,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),o={options:s,invocation_params:this==null?void 0:this.invocationParams(s)},u=await(a==null?void 0:a.handleLLMStart(this.toJSON(),[n.toString()],void 0,void 0,o,void 0,void 0,i.runName));let c=new nr({text:""});try{for await(const d of this._streamResponseChunks(e.toString(),s,u==null?void 0:u[0]))c?c=c.concat(d):c=d,typeof d.text=="string"&&(yield d.text)}catch(d){throw await Promise.all((u??[]).map(f=>f==null?void 0:f.handleLLMError(d))),d}await Promise.all((u??[]).map(d=>d==null?void 0:d.handleLLMEnd({generations:[[c]]})))}}async generatePrompt(e,t,n){const i=e.map(s=>s.toString());return this.generate(i,t,n)}invocationParams(e){return{}}_flattenLLMResult(e){const t=[];for(let n=0;n<e.generations.length;n+=1){const i=e.generations[n];if(n===0)t.push({generations:[i],llmOutput:e.llmOutput});else{const s=e.llmOutput?{...e.llmOutput,tokenUsage:{}}:void 0;t.push({generations:[i],llmOutput:s})}}return t}async _generateUncached(e,t,n){const i=await Ve.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),s={options:t,invocation_params:this==null?void 0:this.invocationParams(t)},a=await(i==null?void 0:i.handleLLMStart(this.toJSON(),e,void 0,void 0,s,void 0,void 0,n==null?void 0:n.runName));let o;try{o=await this._generate(e,t,a==null?void 0:a[0])}catch(d){throw await Promise.all((a??[]).map(f=>f==null?void 0:f.handleLLMError(d))),d}const u=this._flattenLLMResult(o);await Promise.all((a??[]).map((d,f)=>d==null?void 0:d.handleLLMEnd(u[f])));const c=(a==null?void 0:a.map(d=>d.runId))||void 0;return Object.defineProperty(o,Go,{value:c?{runIds:c}:void 0,configurable:!0}),o}async generate(e,t,n){if(!Array.isArray(e))throw new Error("Argument 'prompts' is expected to be a string[]");let i;Array.isArray(t)?i={stop:t}:i=t;const[s,a]=this._separateRunnableConfigFromCallOptions(i);if(s.callbacks=s.callbacks??n,!this.cache)return this._generateUncached(e,a,s);const{cache:o}=this,u=this._getSerializedCacheKeyParametersForCall(a),c=[],d=await Promise.all(e.map(async(m,b)=>{const g=await o.lookup(m,u);return g||c.push(b),g}));let f={};if(c.length>0){const m=await this._generateUncached(c.map(b=>e[b]),a,s);await Promise.all(m.generations.map(async(b,g)=>{const _=c[g];return d[_]=b,o.update(e[_],u,b)})),f=m.llmOutput??{}}return{generations:d,llmOutput:f}}async call(e,t,n){const{generations:i}=await this.generate([e],t,n);return i[0][0].text}async predict(e,t,n){return this.call(e,t,n)}async predictMessages(e,t,n){const i=Mn(e),s=await this.call(i,t,n);return new As(s)}_identifyingParams(){return{}}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}_modelType(){return"base_llm"}static async deserialize(e){const{_type:t,_model:n,...i}=e;if(n&&n!=="base_llm")throw new Error(`Cannot load LLM with model ${n}`);const s={openai:(await Promise.resolve().then(()=>Mf)).OpenAI}[t];if(s===void 0)throw new Error(`Cannot load  LLM with type ${t}`);return new s(i)}}class Lf extends Xt{async _generate(e,t,n){return{generations:await Promise.all(e.map((s,a)=>this._call(s,{...t,promptIndex:a},n).then(o=>[{text:o}])))}}}function qn(r){let e;return r.constructor.name===rf.name?(e=new Error(r.message),e.name="TimeoutError"):r.constructor.name===nf.name?(e=new Error(r.message),e.name="AbortError"):e=r,e}class Os extends Lf{static lc_name(){return"OpenAIChat"}get callKeys(){return[...super.callKeys,"options","promptIndex"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){var n,i,s,a,o,u,c,d;if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"prefixMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.openAIApiKey)??ce("OPENAI_API_KEY"),this.azureOpenAIApiKey=(e==null?void 0:e.azureOpenAIApiKey)??ce("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=(e==null?void 0:e.azureOpenAIApiInstanceName)??ce("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=((e==null?void 0:e.azureOpenAIApiCompletionsDeploymentName)||(e==null?void 0:e.azureOpenAIApiDeploymentName))??(ce("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME")||ce("AZURE_OPENAI_API_DEPLOYMENT_NAME")),this.azureOpenAIApiVersion=(e==null?void 0:e.azureOpenAIApiVersion)??ce("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??ce("AZURE_OPENAI_BASE_PATH"),this.organization=((n=e==null?void 0:e.configuration)==null?void 0:n.organization)??ce("OPENAI_ORGANIZATION"),this.modelName=(e==null?void 0:e.modelName)??this.modelName,this.prefixMessages=(e==null?void 0:e.prefixMessages)??this.prefixMessages,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.n=(e==null?void 0:e.n)??this.n,this.logitBias=e==null?void 0:e.logitBias,this.maxTokens=e==null?void 0:e.maxTokens,this.stop=e==null?void 0:e.stop,this.user=e==null?void 0:e.user,this.streaming=(e==null?void 0:e.streaming)??!1,this.n>1)throw new Error("Cannot use n > 1 in OpenAIChat LLM. Use ChatOpenAI Chat Model instead.");if(this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.openAIApiKey=this.openAIApiKey??""}this.clientConfig={apiKey:this.openAIApiKey,organization:this.organization,baseURL:(t==null?void 0:t.basePath)??((i=e==null?void 0:e.configuration)==null?void 0:i.basePath),dangerouslyAllowBrowser:!0,defaultHeaders:((s=t==null?void 0:t.baseOptions)==null?void 0:s.headers)??((o=(a=e==null?void 0:e.configuration)==null?void 0:a.baseOptions)==null?void 0:o.headers),defaultQuery:((u=t==null?void 0:t.baseOptions)==null?void 0:u.params)??((d=(c=e==null?void 0:e.configuration)==null?void 0:c.baseOptions)==null?void 0:d.params),...t,...e==null?void 0:e.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,n:this.n,logit_bias:this.logitBias,max_tokens:this.maxTokens===-1?void 0:this.maxTokens,stop:(e==null?void 0:e.stop)??this.stop,user:this.user,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}formatMessages(e){const t={role:"user",content:e};return this.prefixMessages?[...this.prefixMessages,t]:[t]}async*_streamResponseChunks(e,t,n){var a;const i={...this.invocationParams(t),messages:this.formatMessages(e),stream:!0},s=await this.completionWithRetry(i,t);for await(const o of s){const u=o==null?void 0:o.choices[0];if(!u)continue;const{delta:c}=u,d=new nr({text:c.content??""});yield d;const f={prompt:t.promptIndex??0,completion:u.index??0};n==null||n.handleLLMNewToken(d.text??"",f)}if((a=t.signal)!=null&&a.aborted)throw new Error("AbortError")}async _call(e,t,n){var s,a;const i=this.invocationParams(t);if(i.stream){const o=await this._streamResponseChunks(e,t,n);let u;for await(const c of o)u===void 0?u=c:u=u.concat(c);return(u==null?void 0:u.text)??""}else{const o=await this.completionWithRetry({...i,stream:!1,messages:this.formatMessages(e)},{signal:t.signal,...t.options});return((a=(s=o==null?void 0:o.choices[0])==null?void 0:s.message)==null?void 0:a.content)??""}}async completionWithRetry(e,t){const n=this._getClientOptions(t);return this.caller.call(async()=>{try{return await this.client.chat.completions.create(e,n)}catch(i){throw qn(i)}})}_getClientOptions(e){if(!this.client){const n={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=Kn(n),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new Pe(s)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}}class Uf extends Xt{static lc_name(){return"OpenAI"}get callKeys(){return[...super.callKeys,"options"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){var n,i,s,a,o,u,c,d,f,m,b;if(((n=e==null?void 0:e.modelName)!=null&&n.startsWith("gpt-3.5-turbo")||(i=e==null?void 0:e.modelName)!=null&&i.startsWith("gpt-4"))&&!((s=e==null?void 0:e.modelName)!=null&&s.includes("-instruct")))return new Os(e,t);if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:256}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"bestOf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"text-davinci-003"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:20}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.openAIApiKey)??ce("OPENAI_API_KEY"),this.azureOpenAIApiKey=(e==null?void 0:e.azureOpenAIApiKey)??ce("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=(e==null?void 0:e.azureOpenAIApiInstanceName)??ce("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=((e==null?void 0:e.azureOpenAIApiCompletionsDeploymentName)||(e==null?void 0:e.azureOpenAIApiDeploymentName))??(ce("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME")||ce("AZURE_OPENAI_API_DEPLOYMENT_NAME")),this.azureOpenAIApiVersion=(e==null?void 0:e.azureOpenAIApiVersion)??ce("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??ce("AZURE_OPENAI_BASE_PATH"),this.organization=((a=e==null?void 0:e.configuration)==null?void 0:a.organization)??ce("OPENAI_ORGANIZATION"),this.modelName=(e==null?void 0:e.modelName)??this.modelName,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.batchSize=(e==null?void 0:e.batchSize)??this.batchSize,this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.maxTokens=(e==null?void 0:e.maxTokens)??this.maxTokens,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.n=(e==null?void 0:e.n)??this.n,this.bestOf=(e==null?void 0:e.bestOf)??this.bestOf,this.logitBias=e==null?void 0:e.logitBias,this.stop=e==null?void 0:e.stop,this.user=e==null?void 0:e.user,this.streaming=(e==null?void 0:e.streaming)??!1,this.streaming&&this.bestOf&&this.bestOf>1)throw new Error("Cannot stream results when bestOf > 1");if(this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.openAIApiKey=this.openAIApiKey??""}this.clientConfig={apiKey:this.openAIApiKey,organization:this.organization,baseURL:(t==null?void 0:t.basePath)??((o=e==null?void 0:e.configuration)==null?void 0:o.basePath),dangerouslyAllowBrowser:!0,defaultHeaders:((u=t==null?void 0:t.baseOptions)==null?void 0:u.headers)??((d=(c=e==null?void 0:e.configuration)==null?void 0:c.baseOptions)==null?void 0:d.headers),defaultQuery:((f=t==null?void 0:t.baseOptions)==null?void 0:f.params)??((b=(m=e==null?void 0:e.configuration)==null?void 0:m.baseOptions)==null?void 0:b.params),...t,...e==null?void 0:e.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,max_tokens:this.maxTokens,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,n:this.n,best_of:this.bestOf,logit_bias:this.logitBias,stop:(e==null?void 0:e.stop)??this.stop,user:this.user,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return this._identifyingParams()}async _generate(e,t,n){const i=qi(e,this.batchSize),s=[],a={},o=this.invocationParams(t);if(o.max_tokens===-1){if(e.length!==1)throw new Error("max_tokens set to -1 not supported for multiple inputs");o.max_tokens=await Af({prompt:e[0],modelName:this.modelName})}for(let c=0;c<i.length;c+=1){const d=o.stream?await(async()=>{var T;const g=[];let _;const h=await this.completionWithRetry({...o,stream:!0,prompt:i[c]},t);for await(const j of h){_||(_={id:j.id,object:j.object,created:j.created,model:j.model});for(const S of j.choices){if(!g[S.index])g[S.index]=S;else{const R=g[S.index];R.text+=S.text,R.finish_reason=S.finish_reason,R.logprobs=S.logprobs}n==null||n.handleLLMNewToken(S.text,{prompt:Math.floor(S.index/this.n),completion:S.index%this.n})}}if((T=t.signal)!=null&&T.aborted)throw new Error("AbortError");return{..._,choices:g}})():await this.completionWithRetry({...o,stream:!1,prompt:i[c]},{signal:t.signal,...t.options});s.push(...d.choices);const{completion_tokens:f,prompt_tokens:m,total_tokens:b}=d.usage?d.usage:{completion_tokens:void 0,prompt_tokens:void 0,total_tokens:void 0};f&&(a.completionTokens=(a.completionTokens??0)+f),m&&(a.promptTokens=(a.promptTokens??0)+m),b&&(a.totalTokens=(a.totalTokens??0)+b)}return{generations:qi(s,this.n).map(c=>c.map(d=>({text:d.text??"",generationInfo:{finishReason:d.finish_reason,logprobs:d.logprobs}}))),llmOutput:{tokenUsage:a}}}async*_streamResponseChunks(e,t,n){var a;const i={...this.invocationParams(t),prompt:e,stream:!0},s=await this.completionWithRetry(i,t);for await(const o of s){const u=o==null?void 0:o.choices[0];if(!u)continue;const c=new nr({text:u.text,generationInfo:{finishReason:u.finish_reason}});yield c,n==null||n.handleLLMNewToken(c.text??"")}if((a=t.signal)!=null&&a.aborted)throw new Error("AbortError")}async completionWithRetry(e,t){const n=this._getClientOptions(t);return this.caller.call(async()=>{try{return await this.client.completions.create(e,n)}catch(i){throw qn(i)}})}_getClientOptions(e){if(!this.client){const n={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=Kn(n),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new Pe(s)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}}const Mf=Object.freeze(Object.defineProperty({__proto__:null,OpenAI:Uf,OpenAIChat:Os},Symbol.toStringTag,{value:"Module"}));class $f{constructor(e){Object.defineProperty(this,"pageContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pageContent=e.pageContent?e.pageContent.toString():this.pageContent,this.metadata=e.metadata??{}}}class On extends eu{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"examples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleSelector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"examplePrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suffix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"exampleSeparator",{enumerable:!0,configurable:!0,writable:!0,value:`

`}),Object.defineProperty(this,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.examples!==void 0&&this.exampleSelector!==void 0)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(this.examples===void 0&&this.exampleSelector===void 0)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let t=this.inputVariables;this.partialVariables&&(t=t.concat(Object.keys(this.partialVariables))),ru(this.prefix+this.suffix,this.templateFormat,t)}}_getPromptType(){return"few_shot"}async getExamples(e){if(this.examples!==void 0)return this.examples;if(this.exampleSelector!==void 0)return this.exampleSelector.selectExamples(e);throw new Error("One of 'examples' and 'example_selector' should be provided")}async partial(e){const t=this.inputVariables.filter(s=>!(s in e)),n={...this.partialVariables??{},...e},i={...this,inputVariables:t,partialVariables:n};return new On(i)}async format(e){const t=await this.mergePartialAndUserVariables(e),n=await this.getExamples(t),i=await Promise.all(n.map(a=>this.examplePrompt.format(a))),s=[this.prefix,...i,this.suffix].join(this.exampleSeparator);return Ts(s,this.templateFormat,t)}serialize(){if(this.exampleSelector||!this.examples)throw new Error("Serializing an example selector is not currently supported");if(this.outputParser!==void 0)throw new Error("Serializing an output parser is not currently supported");return{_type:this._getPromptType(),input_variables:this.inputVariables,example_prompt:this.examplePrompt.serialize(),example_separator:this.exampleSeparator,suffix:this.suffix,prefix:this.prefix,template_format:this.templateFormat,examples:this.examples}}static async deserialize(e){const{example_prompt:t}=e;if(!t)throw new Error("Missing example prompt");const n=await vt.deserialize(t);let i;if(Array.isArray(e.examples))i=e.examples;else throw new Error("Invalid examples format. Only list or string are supported.");return new On({inputVariables:e.input_variables,examplePrompt:n,examples:i,exampleSeparator:e.example_separator,prefix:e.prefix,suffix:e.suffix,templateFormat:e.template_format})}}const zf=Object.freeze(Object.defineProperty({__proto__:null,FewShotPromptTemplate:On},Symbol.toStringTag,{value:"Module"})),Bf={arabic:"ar",armenian:"am",bulgarian:"bg",danish:"dk",dutch:"nl",english:"en",finnish:"fi",french:"fr",german:"de",greek:"gr",hungarian:"hu",indian:"in",indonesian:"id",irish:"ie",italian:"it",lithuanian:"lt",nepali:"np",norwegian:"no",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"rs",slovenian:"ru",spanish:"es",swedish:"se",tamil:"ta",turkish:"tr",ukrainian:"uk",sanskrit:"sk"},Zf={dutch:/[^A-Za-zàèéìòóù0-9_'-]+/gim,english:/[^A-Za-zàèéìòóù0-9_'-]+/gim,french:/[^a-z0-9äâàéèëêïîöôùüûœç-]+/gim,italian:/[^A-Za-zàèéìòóù0-9_'-]+/gim,norwegian:/[^a-z0-9_æøåÆØÅäÄöÖüÜ]+/gim,portuguese:/[^a-z0-9à-úÀ-Ú]/gim,russian:/[^a-z0-9а-яА-ЯёЁ]+/gim,spanish:/[^a-z0-9A-Zá-úÁ-ÚñÑüÜ]+/gim,swedish:/[^a-z0-9_åÅäÄöÖüÜ-]+/gim,german:/[^a-z0-9A-ZäöüÄÖÜß]+/gim,finnish:/[^a-z0-9äöÄÖ]+/gim,danish:/[^a-z0-9æøåÆØÅ]+/gim,hungarian:/[^a-z0-9áéíóöőúüűÁÉÍÓÖŐÚÜŰ]+/gim,romanian:/[^a-z0-9ăâîșțĂÂÎȘȚ]+/gim,serbian:/[^a-z0-9čćžšđČĆŽŠĐ]+/gim,turkish:/[^a-z0-9çÇğĞıİöÖşŞüÜ]+/gim,lithuanian:/[^a-z0-9ąčęėįšųūžĄČĘĖĮŠŲŪŽ]+/gim,arabic:/[^a-z0-9أ-ي]+/gim,nepali:/[^a-z0-9अ-ह]+/gim,irish:/[^a-z0-9áéíóúÁÉÍÓÚ]+/gim,indian:/[^a-z0-9अ-ह]+/gim,armenian:/[^a-z0-9ա-ֆ]+/gim,greek:/[^a-z0-9α-ωά-ώ]+/gim,indonesian:/[^a-z0-9]+/gim,ukrainian:/[^a-z0-9а-яА-ЯіїєІЇЄ]+/gim,slovenian:/[^a-z0-9čžšČŽŠ]+/gim,bulgarian:/[^a-z0-9а-яА-Я]+/gim,tamil:/[^a-z0-9அ-ஹ]+/gim,sanskrit:/[^a-z0-9A-Zāīūṛḷṃṁḥśṣṭḍṇṅñḻḹṝ]+/gim},su=Object.keys(Bf),Vf=Date.now().toString().slice(5);let Ff=0;const ha=BigInt(1e3),pa=BigInt(1e6),ma=BigInt(1e9),Ii=65535;function xe(r,e){if(e.length<Ii)Array.prototype.push.apply(r,e);else for(let t=0;t<e.length;t+=Ii)Array.prototype.push.apply(r,e.slice(t,t+Ii))}function Kf(r,...e){return r.replace(/%(?:(?<position>\d+)\$)?(?<width>-?\d*\.?\d*)(?<type>[dfs])/g,function(...t){const n=t[t.length-1],{width:i,type:s,position:a}=n,o=a?e[Number.parseInt(a)-1]:e.shift(),u=i===""?0:Number.parseInt(i);switch(s){case"d":return o.toString().padStart(u,"0");case"f":{let c=o;const[d,f]=i.split(".").map(m=>Number.parseFloat(m));return typeof f=="number"&&f>=0&&(c=c.toFixed(f)),typeof d=="number"&&d>=0?c.toString().padStart(u,"0"):c.toString()}case"s":return u<0?o.toString().padEnd(-u," "):o.toString().padStart(u," ");default:return o}})}async function au(r){return typeof r=="number"&&(r=BigInt(r)),r<ha?`${r}ns`:r<pa?`${r/ha}μs`:r<ma?`${r/pa}ms`:`${r/ma}s`}async function xn(){return typeof process<"u"&&process.hrtime!==void 0?process.hrtime.bigint():BigInt(typeof performance<"u"?Math.floor(performance.now()*1e6):0)}async function ou(){return`${Vf}-${Ff++}`}function Wi(r,e){return Object.hasOwn===void 0?Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0:Object.hasOwn(r,e)?r[e]:void 0}function qf(r,e){return e[1]===r[1]?r[0]-e[0]:e[1]-r[1]}function xs(r){if(r.length===0)return[];if(r.length===1)return r[0];for(let t=1;t<r.length;t++)if(r[t].length<r[0].length){const n=r[0];r[0]=r[t],r[t]=n}const e=new Map;for(const t of r[0])e.set(t,1);for(let t=1;t<r.length;t++){let n=0;for(const i of r[t]){const s=e.get(i);s===t&&(e.set(i,s+1),n++)}if(n===0)return[]}return r[0].filter(t=>{const n=e.get(t);return n!==void 0&&e.set(t,0),n===r.length})}async function uu(r,e){const t={},n=e.length;for(let i=0;i<n;i++){const s=e[i],a=s.split(".");let o=r;const u=a.length;for(let c=0;c<u;c++)if(o=o[a[c]],typeof o=="object"){if(o!==null&&"lat"in o&&"lon"in o&&typeof o.lat=="number"&&typeof o.lon=="number"){o=t[s]=o;break}else if(!Array.isArray(o)&&o!==null&&c===u-1){o=void 0;break}}else if((o===null||typeof o!="object")&&c<u-1){o=void 0;break}typeof o<"u"&&(t[s]=o)}return t}async function Ss(r,e){return(await uu(r,[e]))[e]}const Hf={cm:.01,m:1,km:1e3,ft:.3048,yd:.9144,mi:1609.344};function Wf(r,e){const t=Hf[e];if(t===void 0)throw new Error(pe("INVALID_DISTANCE_SUFFIX",r).message);return r*t}const Gf=su.join(`
 - `),Yf={NO_LANGUAGE_WITH_CUSTOM_TOKENIZER:"Do not pass the language option to create when using a custom tokenizer.",LANGUAGE_NOT_SUPPORTED:`Language "%s" is not supported.
Supported languages are:
 - ${Gf}`,INVALID_STEMMER_FUNCTION_TYPE:"config.stemmer property must be a function.",MISSING_STEMMER:'As of version 1.0.0 @orama/orama does not ship non English stemmers by default. To solve this, please explicitly import and specify the "%s" stemmer from the package @orama/stemmers. See https://docs.oramasearch.com/open-source/text-analysis/stemming for more information.',CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY:"Custom stop words array must only contain strings.",UNSUPPORTED_COMPONENT:'Unsupported component "%s".',COMPONENT_MUST_BE_FUNCTION:'The component "%s" must be a function.',COMPONENT_MUST_BE_FUNCTION_OR_ARRAY_FUNCTIONS:'The component "%s" must be a function or an array of functions.',INVALID_SCHEMA_TYPE:'Unsupported schema type "%s" at "%s". Expected "string", "boolean" or "number" or array of them.',DOCUMENT_ID_MUST_BE_STRING:'Document id must be of type "string". Got "%s" instead.',DOCUMENT_ALREADY_EXISTS:'A document with id "%s" already exists.',DOCUMENT_DOES_NOT_EXIST:'A document with id "%s" does not exists.',MISSING_DOCUMENT_PROPERTY:'Missing searchable property "%s".',INVALID_DOCUMENT_PROPERTY:'Invalid document property "%s": expected "%s", got "%s"',UNKNOWN_INDEX:'Invalid property name "%s". Expected a wildcard string ("*") or array containing one of the following properties: %s',INVALID_BOOST_VALUE:"Boost value must be a number greater than, or less than 0.",INVALID_FILTER_OPERATION:"You can only use one operation per filter, you requested %d.",SCHEMA_VALIDATION_FAILURE:'Cannot insert document due schema validation failure on "%s" property.',INVALID_SORT_SCHEMA_TYPE:'Unsupported sort schema type "%s" at "%s". Expected "string" or "number".',CANNOT_SORT_BY_ARRAY:'Cannot configure sort for "%s" because it is an array (%s).',UNABLE_TO_SORT_ON_UNKNOWN_FIELD:'Unable to sort on unknown field "%s". Allowed fields: %s',SORT_DISABLED:"Sort is disabled. Please read the documentation at https://docs.oramasearch for more information.",UNKNOWN_GROUP_BY_PROPERTY:'Unknown groupBy property "%s".',INVALID_GROUP_BY_PROPERTY:'Invalid groupBy property "%s". Allowed types: "%s", but given "%s".',UNKNOWN_FILTER_PROPERTY:'Unknown filter property "%s".',INVALID_VECTOR_SIZE:'Vector size must be a number greater than 0. Got "%s" instead.',INVALID_VECTOR_VALUE:'Vector value must be a number greater than 0. Got "%s" instead.',INVALID_INPUT_VECTOR:`Property "%s" was declared as a %s-dimensional vector, but got a %s-dimensional vector instead.
Input vectors must be of the size declared in the schema, as calculating similarity between vectors of different sizes can lead to unexpected results.`,WRONG_SEARCH_PROPERTY_TYPE:'Property "%s" is not searchable. Only "string" properties are searchable.',FACET_NOT_SUPPORTED:`Facet doens't support the type "%s".`,INVALID_DISTANCE_SUFFIX:'Invalid distance suffix "%s". Valid suffixes are: cm, m, km, mi, yd, ft.'};function pe(r,...e){const t=new Error(Kf(Yf[r]??`Unsupported Orama Error code: ${r}`,...e));return t.code=r,"captureStackTrace"in Error.prototype&&Error.captureStackTrace(t),t}async function Jf(r){return{raw:Number(r),formatted:await au(r)}}async function Xf(r){if(r.id){if(typeof r.id!="string")throw pe("DOCUMENT_ID_MUST_BE_STRING",typeof r.id);return r.id}return await ou()}async function cu(r,e){for(const[t,n]of Object.entries(e)){const i=r[t];if(!(typeof i>"u")&&!(n==="geopoint"&&typeof i=="object"&&typeof i.lon=="number"&&typeof i.lat=="number")&&!(n==="enum"&&(typeof i=="string"||typeof i=="number"))){if(n==="enum[]"&&Array.isArray(i)){const s=i.length;for(let a=0;a<s;a++)if(typeof i[a]!="string"&&typeof i[a]!="number")return t+"."+a;continue}if(ir(n)){const s=lu(n);if(!Array.isArray(i)||i.length!==s)throw pe("INVALID_INPUT_VECTOR",t,s,i.length);continue}if(Hn(n)){if(!Array.isArray(i))return t;const s=Cs(n),a=i.length;for(let o=0;o<a;o++)if(typeof i[o]!==s)return t+"."+o;continue}if(typeof n=="object"){if(!i||typeof i!="object")return t;const s=await cu(i,n);if(s)return t+"."+s;continue}if(typeof i!==n)return t}}}const Qf={string:!1,number:!1,boolean:!1,enum:!1,geopoint:!1,"string[]":!0,"number[]":!0,"boolean[]":!0,"enum[]":!0},eh={"string[]":"string","number[]":"number","boolean[]":"boolean","enum[]":"enum"};function th(r){return r==="geopoint"}function ir(r){return typeof r=="string"&&/^vector\[\d+\]$/.test(r)}function Hn(r){return typeof r=="string"&&Qf[r]}function Cs(r){return eh[r]}function lu(r){const e=Number(r.slice(7,-1));switch(!0){case isNaN(e):throw pe("INVALID_VECTOR_VALUE",r);case e<=0:throw pe("INVALID_VECTOR_SIZE",r);default:return e}}function rh(){return{idToInternalId:new Map,internalIdToId:[],save:nh,load:ih}}function nh(r){return{internalIdToId:r.internalIdToId}}function ih(r,e){const{internalIdToId:t}=e;r.internalDocumentIDStore.idToInternalId.clear(),r.internalDocumentIDStore.internalIdToId=[];for(let n=0;n<t.length;n++)r.internalDocumentIDStore.idToInternalId.set(t[n],n+1),r.internalDocumentIDStore.internalIdToId.push(t[n])}function Oe(r,e){if(typeof e=="string"){const t=r.idToInternalId.get(e);if(t)return t;const n=r.idToInternalId.size+1;return r.idToInternalId.set(e,n),r.internalIdToId.push(e),n}return e>r.internalIdToId.length?Oe(r,e.toString()):e}function Mr(r,e){if(r.internalIdToId.length<e)throw new Error(`Invalid internalId ${e}`);return r.internalIdToId[e-1]}async function sh(r,e){return{sharedInternalDocumentStore:e,docs:{},count:0}}async function ah(r,e){const t=Oe(r.sharedInternalDocumentStore,e);return r.docs[t]}async function oh(r,e){const t=Array.from({length:e.length});for(let n=0;n<e.length;n++){const i=Oe(r.sharedInternalDocumentStore,e[n]);t[n]=r.docs[i]}return t}async function uh(r){return r.docs}async function ch(r,e,t){const n=Oe(r.sharedInternalDocumentStore,e);return typeof r.docs[n]<"u"?!1:(r.docs[n]=t,r.count++,!0)}async function lh(r,e){const t=Oe(r.sharedInternalDocumentStore,e);return typeof r.docs[t]>"u"?!1:(delete r.docs[t],r.count--,!0)}async function dh(r){return r.count}async function fh(r,e){const t=e;return{docs:t.docs,count:t.count,sharedInternalDocumentStore:r}}async function hh(r){return{docs:r.docs,count:r.count}}async function ph(){return{create:sh,get:ah,getMultiple:oh,getAll:uh,store:ch,remove:lh,count:dh,load:fh,save:hh}}const mh=["beforeInsert","afterInsert","beforeRemove","afterRemove","beforeUpdate","afterUpdate","beforeSearch","afterSearch","beforeInsertMultiple","afterInsertMultiple","beforeRemoveMultiple","afterRemoveMultiple","beforeUpdateMultiple","afterUpdateMultiple","beforeLoad","afterLoad"];function gh(r,e){var t;const n=[],i=(t=r.plugins)===null||t===void 0?void 0:t.length;if(!i)return n;for(let s=0;s<i;s++){const a=r.plugins[s];typeof a[e]=="function"&&n.push(a[e])}return n}const yh=["tokenizer","index","documentsStore","sorter"],ga=["validateSchema","getDocumentIndexId","getDocumentProperties","formatElapsedTime"];async function Sn(r,e,t,n){const i=r.length;for(let s=0;s<i;s++)await r[s](e,t,n)}async function Cn(r,e,t){const n=r.length;for(let i=0;i<n;i++)await r[i](e,t)}async function bh(r,e,t,n,i){const s=r.length;for(let a=0;a<s;a++)await r[a](e,t,n,i)}async function vh(r,e,t,n){const i=r.length;for(let s=0;s<i;s++)await r[s](e,t,n)}const ya={UNBALANCED_RIGHT:-2,SLIGHTLY_UNBALANCED_RIGHT:-1,BALANCED:0,SLIGHTLY_UNBALANCED_LEFT:1,UNBALANCED_LEFT:2};function ut(r){return r!=null?r.h:-1}function ba(r){const e=r.r;return r.r=e.l,e.l=r,r.h=Math.max(ut(r.l),ut(r.r))+1,e.h=Math.max(ut(e.l),ut(e.r))+1,e}function va(r){const e=r.l;return r.l=e.r,e.r=r,r.h=Math.max(ut(r.l),ut(r.r))+1,e.h=Math.max(ut(e.l),ut(e.r))+1,e}function wh(r,e,t){if(!r)return[];const n=[];function i(s){s&&(s.k>e&&i(s.l),s.k>=e&&s.k<=t&&xe(n,s.v),s.k<t&&i(s.r))}return i(r),n}function wa(r,e,t=!1){if(!r)return[];const n=[];function i(s){s&&(t&&s.k>=e&&xe(n,s.v),!t&&s.k>e&&xe(n,s.v),i(s.l),i(s.r))}return i(r),n}function _a(r,e,t=!1){if(!r)return[];const n=[];function i(s){s&&(t&&s.k<=e&&xe(n,s.v),!t&&s.k<e&&xe(n,s.v),i(s.l),i(s.r))}return i(r),n}function du(r,e){for(;r!==null;)if(e<r.k)r=r.l;else if(e>r.k)r=r.r;else return r;return null}function fu(r,e){return{k:r,v:e,l:null,r:null,h:0}}function _h(r,e,t){let n=null,i=r;for(;i!==null;)if(n=i,e<i.k)i=i.l;else if(e>i.k)i=i.r;else return i.v=i.v.concat(t),r;const s=fu(e,t);for(n==null?r=s:e<n.k?n.l=s:n.r=s,i=s;n!=null;){const a=ut(n.l)-ut(n.r);if(a===ya.UNBALANCED_LEFT&&(e>n.l.k&&(n.l=ba(n.l)),n=va(n)),a===ya.UNBALANCED_RIGHT&&(e<n.r.k&&(n.r=va(n.r)),n=ba(n)),n===r)break;i=n,n=Ih(r,i.k)}return r}function Ih(r,e){let t=r,n=null;for(;t!==null;)if(e<t.k)n=t,t=t.l;else if(e>t.k)n=t,t=t.r;else break;return n}function Ah(r,e){const t=du(r,e);return t==null?null:t.v}function Eh(r,e){let t=r,n=null;for(;t!=null&&t.k!==e;)n=t,e<t.k?t=t.l:t=t.r;if(t==null)return null;if(t.l==null&&t.r==null)n==null?r=null:n.l===t?n.l=null:n.r=null;else if(t.l!=null&&t.r!=null){let i=t.r,s=t;for(;i.l!=null;)s=i,i=i.l;t.k=i.k,s===t?s.r=i.r:s.l=i.r}else{const i=t.l!=null?t.l:t.r;n==null?r=i:n.l===t?n.l=i:n.r=i}return r}function Th(r,e,t){const n=du(r,t);if(n){if(n.v.length===1){Eh(r,t);return}n.v.splice(n.v.indexOf(e),1)}}function Ph(){return{numberToDocumentId:new Map}}function Oh(r,e,t){return r.numberToDocumentId.has(e)?(r.numberToDocumentId.get(e).push(t),r):(r.numberToDocumentId.set(e,[t]),r)}function xh(r,e,t){var n,i;r==null||r.numberToDocumentId.set(t,((n=r==null?void 0:r.numberToDocumentId.get(t))===null||n===void 0?void 0:n.filter(s=>s!==e))??[]),((i=r==null?void 0:r.numberToDocumentId.get(t))===null||i===void 0?void 0:i.length)===0&&(r==null||r.numberToDocumentId.delete(t))}function Sh(r,e){const t=Object.keys(e);if(t.length!==1)throw new Error("Invalid operation");const n=t[0];switch(n){case"eq":{const i=e[n];return r.numberToDocumentId.get(i)??[]}case"in":{const i=e[n],s=[];for(const a of i){const o=r.numberToDocumentId.get(a);o!=null&&xe(s,o)}return s}case"nin":{const i=e[n],s=[],a=r.numberToDocumentId.keys();for(const o of a){if(i.includes(o))continue;const u=r.numberToDocumentId.get(o);u!=null&&xe(s,u)}return s}}throw new Error("Invalid operation")}function Ch(r,e){const t=Object.keys(e);if(t.length!==1)throw new Error("Invalid operation");const n=t[0];switch(n){case"containsAll":{const s=e[n].map(a=>r.numberToDocumentId.get(a)??[]);return xs(s)}}throw new Error("Invalid operation")}function kh(r,e,t){if(r===e)return 0;const n=r;r.length>e.length&&(r=e,e=n);let i=r.length,s=e.length;for(;i>0&&r.charCodeAt(~-i)===e.charCodeAt(~-s);)i--,s--;if(!i)return s>t?-1:s;let a=0;for(;a<i&&r.charCodeAt(a)===e.charCodeAt(a);)a++;if(i-=a,s-=a,i===0)return s>t?-1:s;const o=s-i;if(t>s)t=s;else if(o>t)return-1;let u=0;const c=[],d=[];for(;u<t;)d[u]=e.charCodeAt(a+u),c[u]=++u;for(;u<s;)d[u]=e.charCodeAt(a+u),c[u++]=t+1;const f=t-o,m=t<s;let b=0,g=t,_=0,h=0,T=0,j=0,S=0;for(u=0;u<i;u++){for(h=u,_=u+1,j=r.charCodeAt(a+u),b+=u>f?1:0,g+=g<s?1:0,S=b;S<g;S++)T=_,_=h,h=c[S],j!==d[S]&&(h<_&&(_=h),T<_&&(_=T),_++),c[S]=_;if(m&&c[u+o]>t)return-1}return _<=t?_:-1}function hu(r,e,t){const n=kh(r,e,t);return{distance:n,isBounded:n>=0}}class Nh{constructor(e,t,n){Ee(this,"c",{});Ee(this,"d",[]);Ee(this,"w","");this.k=e,this.s=t,this.e=n}toJSON(){return{w:this.w,s:this.s,c:this.c,d:this.d,e:this.e}}}function Vt(r,e){r.w=e.w+r.s}function Wr(r,e){r.d.push(e)}function Rh(r,e){const t=r.d.indexOf(e);return t===-1?!1:(r.d.splice(t,1),!0)}function pu(r,e,t,n,i){if(r.e){const{w:s,d:a}=r;if(n&&s!==t)return{};if(Wi(e,s)==null&&(i?Math.abs(t.length-s.length)<=i&&hu(t,s,i).isBounded&&(e[s]=[]):e[s]=[]),Wi(e,s)!=null&&a.length>0){const o=new Set(e[s]),u=a.length;for(let c=0;c<u;c++)o.add(a[c]);e[s]=Array.from(o)}}for(const s of Object.keys(r.c))pu(r.c[s],e,t,n,i);return e}function mu(r,e){let t="";const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){if(r[i]!==e[i])return t;t+=r[i]}return t}function Ht(r=!1,e="",t=""){return new Nh(t,e,r)}function Dh(r,e,t){for(let n=0;n<e.length;n++){const i=e[n],s=e.substring(n),a=r.c[i];if(a){const o=a.s,u=o.length,c=mu(o,s),d=c.length;if(o===s){Wr(a,t),a.e=!0;return}const f=o[d];if(d<u&&d===s.length){const m=Ht(!0,s,i);m.c[f]=a;const b=m.c[f];b.s=o.substring(d),b.k=f,r.c[i]=m,Vt(m,r),Vt(b,m),Wr(m,t);return}if(d<u&&d<s.length){const m=Ht(!1,c,i);m.c[f]=a,r.c[i]=m;const b=m.c[f];b.s=o.substring(d),b.k=f;const g=s[d],_=Ht(!0,e.substring(n+d),g);Wr(_,t),m.c[g]=_,Vt(m,r),Vt(_,m),Vt(b,m);return}n+=u-1,r=a}else{const o=Ht(!0,s,i);Wr(o,t),r.c[i]=o,Vt(o,r);return}}}function Ir(r,e,t,n,i,s){if(!(n<0)){if(r.e){const{w:a,d:o}=r;if(a&&(Math.abs(e.length-a.length)<=i&&hu(e,a,i).isBounded&&(s[a]=[]),Wi(s,a)!=null&&o.length>0)){const c=new Set(s[a]),d=o.length;for(let f=0;f<d;f++)c.add(o[f]);s[a]=Array.from(c)}}if(!(t>=e.length)){e[t]in r.c&&Ir(r.c[e[t]],e,t+1,n,i,s),Ir(r,e,t+1,n-1,i,s);for(const a in r.c)Ir(r.c[a],e,t,n-1,i,s);for(const a in r.c)a!==e[t]&&Ir(r.c[a],e,t+1,n-1,i,s)}}}function gu(r,{term:e,exact:t,tolerance:n}){if(n&&!t){const i={};return n=n||0,Ir(r,e,0,n||0,n,i),i}else{for(let s=0;s<e.length;s++){const a=e[s];if(a in r.c){const o=r.c[a],u=o.s,c=e.substring(s),f=mu(u,c).length;if(f!==u.length&&f!==c.length){if(n)break;return{}}s+=o.s.length-1,r=o}else return{}}const i={};return pu(r,i,e,t,n),i}}function jh(r,e,t,n=!0){if(!e)return!0;for(let i=0;i<e.length;i++){const s=e[i];if(s in r.c){const a=r.c[s];i+=a.s.length-1,r=a,n&&r.w!==e||Rh(r,t)}else return!1}return!0}const yu=2,Lh=6371e3;function Uh(){return{root:null}}function Mh(r,e,t){const n={point:e,docIDs:t};if(r.root==null){r.root=n;return}let i=r.root,s=0;for(;i!==null;){if(i.point.lon===e.lon&&i.point.lat===e.lat){const o=i.docIDs??[];i.docIDs=Array.from(new Set([...o,...t||[]]));return}if(s%yu===0)if(e.lon<i.point.lon){if(i.left==null){i.left=n;return}i=i.left}else{if(i.right==null){i.right=n;return}i=i.right}else if(e.lat<i.point.lat){if(i.left==null){i.left=n;return}i=i.left}else{if(i.right==null){i.right=n;return}i=i.right}s++}}function $h(r,e,t){let n=r.root,i=0,s=null,a=null;for(;n!==null;){if((n==null?void 0:n.point.lon)===e.lon&&n.point.lat===e.lat){var o;const d=(o=n.docIDs)===null||o===void 0?void 0:o.indexOf(t);if(d!==void 0&&d>-1){var u;(u=n.docIDs)===null||u===void 0||u.splice(d,1),(n.docIDs==null||n.docIDs.length===0)&&(s!=null?a==="left"?s.left=n.left!==null?n.left:n.right:a==="right"&&(s.right=n.right!==null?n.right:n.left):r.root=n.left!==null?n.left:n.right);return}}const c=i%yu;s=n,c===0?e.lon<n.point.lon?(n=n==null?void 0:n.left,a="left"):(n=n==null?void 0:n.right,a="right"):e.lat<n.point.lat?(n=n==null?void 0:n.left,a="left"):(n=n==null?void 0:n.right,a="right"),i++}}function zh(r,e,t,n=!0,i="asc",s=!1){const a=s?vu:bu,o=[{node:r,depth:0}],u=[];for(;o.length>0;){const{node:c,depth:d}=o.pop();if(c===null)continue;const f=a(e,c.point);(n?f<=t:f>t)&&u.push({point:c.point,docIDs:c.docIDs??[]}),c.left!=null&&o.push({node:c.left,depth:d+1}),c.right!=null&&o.push({node:c.right,depth:d+1})}return i&&u.sort((c,d)=>{const f=a(e,c.point),m=a(e,d.point);return i.toLowerCase()==="asc"?f-m:m-f}),u}function Bh(r,e,t=!0,n=null,i=!1){const s=[{node:r,depth:0}],a=[];for(;s.length>0;){const u=s.pop();if(u==null||u.node==null)continue;const{node:c,depth:d}=u,f=d+1;c.left!=null&&s.push({node:c.left,depth:f}),c.right!=null&&s.push({node:c.right,depth:f});const m=Vh(e,c.point);m&&t?a.push({point:c.point,docIDs:c.docIDs??[]}):!m&&!t&&a.push({point:c.point,docIDs:c.docIDs??[]})}const o=Zh(e);if(n){const u=i?vu:bu;a.sort((c,d)=>{const f=u(o,c.point),m=u(o,d.point);return n.toLowerCase()==="asc"?f-m:m-f})}return a}function Zh(r){let e=0,t=0,n=0;for(let i=0,s=r.length-1;i<r.length;s=i++){const a=r[i].lon,o=r[i].lat,u=r[s].lon,c=r[s].lat,d=a*c-u*o;e+=d,t+=(a+u)*d,n+=(o+c)*d}return e/=2,t/=6*e,n/=6*e,{lon:t,lat:n}}function Vh(r,e){let t=!1;const n=e.lon,i=e.lat;for(let s=0,a=r.length-1;s<r.length;a=s++){const o=r[s].lon,u=r[s].lat,c=r[a].lon,d=r[a].lat;u>i!=d>i&&n<(c-o)*(i-u)/(d-u)+o&&(t=!t)}return t}function bu(r,e){const t=Math.PI/180,n=r.lat*t,i=e.lat*t,s=(e.lat-r.lat)*t,a=(e.lon-r.lon)*t,o=Math.sin(s/2)*Math.sin(s/2)+Math.cos(n)*Math.cos(i)*Math.sin(a/2)*Math.sin(a/2),u=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return Lh*u}function vu(r,e){const n=.0033528106647474805,i=(1-n)*6378137,s=Math.PI/180,a=r.lat*s,o=e.lat*s,u=(e.lon-r.lon)*s,c=Math.atan((1-n)*Math.tan(a)),d=Math.atan((1-n)*Math.tan(o)),f=Math.sin(c),m=Math.cos(c),b=Math.sin(d),g=Math.cos(d);let _=u,h,T=1e3,j,S,R,M,O;do{const L=Math.sin(_),q=Math.cos(_);R=Math.sqrt(g*L*(g*L)+(m*b-f*g*q)*(m*b-f*g*q)),M=f*b+m*g*q,O=Math.atan2(R,M),j=m*g*L/R,S=1-j*j;const Y=M-2*f*b/S,K=n/16*S*(4+n*(4-3*S));h=_,_=u+(1-K)*n*j*(O+K*R*(Y+K*M*(-1+2*Y*Y)))}while(Math.abs(_-h)>1e-12&&--T>0);const C=S*(6378137*6378137-i*i)/(i*i),v=1+C/16384*(4096+C*(-768+C*(320-175*C))),A=C/1024*(256+C*(-128+C*(74-47*C))),I=A*R*(M-2*f*b/S+A/4*(M*(-1+2*R*R)-A/6*O*(-3+4*R*R)*(-3+4*O*O)));return i*v*(O-I)}function Fh(r,e,t=1,n){if(e===0)throw pe("INVALID_BOOST_VALUE");const i=new Map,s=new Map,a=r.length;for(let g=0;g<a;g++){const _=r[g],h=_.length;for(let T=0;T<h;T++){const[j,S]=_[T],R=S*e,M=i.get(j);M!==void 0?(i.set(j,M*1.5+R),s.set(j,s.get(j)+1)):(i.set(j,R),s.set(j,1))}}const o=[];for(const g of i.entries())o.push(g);const u=o.sort((g,_)=>_[1]-g[1]);if(t===1)return u;const c=u.length,d=[];for(const g of s.entries())d.push(g);const f=d.sort((g,_)=>_[1]-g[1]);let m;for(let g=0;g<c&&f[g][1]===n;g++)m=g;if(typeof m>"u"){if(t===0)return[];m=0}if(t===0)return u.slice(0,m+1);const b=m+Math.ceil(t*100*(u.length-m)/100);return u.slice(0,u.length+b)}function Kh(r,e,t,n,i,s){const{k:a,b:o,d:u}=s;return Math.log(1+(t-e+.5)/(e+.5))*(u+r*(a+1))/(r+a*(1-o+o*n/i))}function wu(r,e){let t=0;for(let n=0;n<e;n++)t+=r[n]*r[n];return Math.sqrt(t)}function qh(r,e,t,n=.8){const i=wu(r,t),s=[];for(const[a,[o,u]]of Object.entries(e)){let c=0;for(let f=0;f<t;f++)c+=r[f]*u[f];const d=c/(i*o);d>=n&&s.push({id:a,score:d})}return s.sort((a,o)=>o.score-a.score)}async function Hh(r,e,t,n,i){const s=Oe(r.sharedInternalDocumentStore,t);r.avgFieldLength[e]=((r.avgFieldLength[e]??0)*(i-1)+n.length)/i,r.fieldLengths[e][s]=n.length,r.frequencies[e][s]={}}async function Wh(r,e,t,n,i){let s=0;for(const u of n)u===i&&s++;const a=Oe(r.sharedInternalDocumentStore,t),o=s/n.length;r.frequencies[e][a][i]=o,i in r.tokenOccurrences[e]||(r.tokenOccurrences[e][i]=0),r.tokenOccurrences[e][i]=(r.tokenOccurrences[e][i]??0)+1}async function Gh(r,e,t,n){const i=Oe(r.sharedInternalDocumentStore,t);r.avgFieldLength[e]=(r.avgFieldLength[e]*n-r.fieldLengths[e][i])/(n-1),r.fieldLengths[e][i]=void 0,r.frequencies[e][i]=void 0}async function Yh(r,e,t){r.tokenOccurrences[e][t]--}async function Jh(r,e,t,n,i){const s=Array.from(i),a=e.avgFieldLength[t],o=e.fieldLengths[t],u=e.tokenOccurrences[t],c=e.frequencies[t],d=typeof u[n]=="number"?u[n]??0:0,f=[],m=s.length;for(let g=0;g<m;g++){var b;const _=Oe(e.sharedInternalDocumentStore,s[g]),h=(c==null||(b=c[_])===null||b===void 0?void 0:b[n])??0,T=Kh(h,d,r.docsCount,o[_],a,r.params.relevance);f.push([_,T])}return f}async function _u(r,e,t,n,i=""){n||(n={sharedInternalDocumentStore:e,indexes:{},vectorIndexes:{},searchableProperties:[],searchablePropertiesWithTypes:{},frequencies:{},tokenOccurrences:{},avgFieldLength:{},fieldLengths:{}});for(const[s,a]of Object.entries(t)){const o=`${i}${i?".":""}${s}`;if(typeof a=="object"&&!Array.isArray(a)){_u(r,e,a,n,o);continue}if(ir(a))n.searchableProperties.push(o),n.searchablePropertiesWithTypes[o]=a,n.vectorIndexes[o]={size:lu(a),vectors:{}};else{const u=/\[/.test(a);switch(a){case"boolean":case"boolean[]":n.indexes[o]={type:"Bool",node:{true:[],false:[]},isArray:u};break;case"number":case"number[]":n.indexes[o]={type:"AVL",node:fu(0,[]),isArray:u};break;case"string":case"string[]":n.indexes[o]={type:"Radix",node:Ht(),isArray:u},n.avgFieldLength[o]=0,n.frequencies[o]={},n.tokenOccurrences[o]={},n.fieldLengths[o]={};break;case"enum":case"enum[]":n.indexes[o]={type:"Flat",node:Ph(),isArray:u};break;case"geopoint":n.indexes[o]={type:"BKD",node:Uh(),isArray:u};break;default:throw pe("INVALID_SCHEMA_TYPE",Array.isArray(a)?"array":a,o)}n.searchableProperties.push(o),n.searchablePropertiesWithTypes[o]=a}}return n}async function Ia(r,e,t,n,i,s,a,o,u){const c=Oe(e.sharedInternalDocumentStore,n),{type:d,node:f}=e.indexes[t];switch(d){case"Bool":{f[i?"true":"false"].push(c);break}case"AVL":{_h(f,i,[c]);break}case"Radix":{const m=await o.tokenize(i,a,t);await r.insertDocumentScoreParameters(e,t,c,m,u);for(const b of m)await r.insertTokenScoreParameters(e,t,c,m,b),Dh(f,b,c);break}case"Flat":{Oh(f,i,c);break}case"BKD":{Mh(f,i,[c]);break}}}async function Xh(r,e,t,n,i,s,a,o,u){if(ir(s))return Qh(e,t,i,n);if(!Hn(s))return Ia(r,e,t,n,i,s,a,o,u);const c=Cs(s),d=i,f=d.length;for(let m=0;m<f;m++)await Ia(r,e,t,n,d[m],c,a,o,u)}function Qh(r,e,t,n){t instanceof Float32Array||(t=new Float32Array(t));const i=r.vectorIndexes[e].size,s=wu(t,i);r.vectorIndexes[e].vectors[n]=[s,t]}async function Aa(r,e,t,n,i,s,a,o,u){const c=Oe(e.sharedInternalDocumentStore,n);if(ir(s))return delete e.vectorIndexes[t].vectors[n],!0;const{type:d,node:f}=e.indexes[t];switch(d){case"AVL":return Th(f,c,i),!0;case"Bool":{const b=f[i?"true":"false"].indexOf(c);return f[i?"true":"false"].splice(b,1),!0}case"Radix":{const m=await o.tokenize(i,a,t);await r.removeDocumentScoreParameters(e,t,n,u);for(const b of m)await r.removeTokenScoreParameters(e,t,b),jh(f,b,c);return!0}case"Flat":return xh(f,c,i),!0;case"BKD":return $h(f,i,c),!1}}async function ep(r,e,t,n,i,s,a,o,u){if(!Hn(s))return Aa(r,e,t,n,i,s,a,o,u);const c=Cs(s),d=i,f=d.length;for(let m=0;m<f;m++)await Aa(r,e,t,n,d[m],c,a,o,u);return!0}async function tp(r,e,t,n){if(!(t in e.tokenOccurrences))return[];const{node:i,type:s}=e.indexes[t];if(s!=="Radix")throw pe("WRONG_SEARCH_PROPERTY_TYPE",t);const{exact:a,tolerance:o}=r.params,u=gu(i,{term:n,exact:a,tolerance:o}),c=new Set;for(const d in u)for(const f of u[d])c.add(f);return r.index.calculateResultScores(r,e,t,n,Array.from(c))}async function rp(r,e,t){const n=Object.keys(t),i=n.reduce((a,o)=>({[o]:[],...a}),{});for(const a of n){const o=t[a];if(typeof e.indexes[a]>"u")throw pe("UNKNOWN_FILTER_PROPERTY",a);const{node:u,type:c,isArray:d}=e.indexes[a];if(c==="Bool"){const b=u[o.toString()];xe(i[a],b);continue}if(c==="BKD"){let m;if("radius"in o)m="radius";else if("polygon"in o)m="polygon";else throw new Error(`Invalid operation ${o}`);if(m==="radius"){const{value:b,coordinates:g,unit:_="m",inside:h=!0,highPrecision:T=!1}=o[m],j=Wf(b,_),S=zh(u.root,g,j,h,void 0,T);xe(i[a],S.map(({docIDs:R})=>R).flat())}else{const{coordinates:b,inside:g=!0,highPrecision:_=!1}=o[m],h=Bh(u.root,b,g,void 0,_);xe(i[a],h.map(({docIDs:T})=>T).flat())}continue}if(c==="Radix"&&(typeof o=="string"||Array.isArray(o))){for(const m of[o].flat()){const b=await r.tokenizer.tokenize(m,r.language,a);for(const g of b){const _=gu(u,{term:g,exact:!0});xe(i[a],Object.values(_).flat())}}continue}const f=Object.keys(o);if(f.length>1)throw pe("INVALID_FILTER_OPERATION",f.length);if(c==="Flat"){d?xe(i[a],Ch(u,o)):xe(i[a],Sh(u,o));continue}if(c==="AVL"){const m=f[0],b=o[m];let g=[];switch(m){case"gt":{g=wa(u,b,!1);break}case"gte":{g=wa(u,b,!0);break}case"lt":{g=_a(u,b,!1);break}case"lte":{g=_a(u,b,!0);break}case"eq":{g=Ah(u,b)??[];break}case"between":{const[_,h]=b;g=wh(u,_,h);break}}xe(i[a],g)}}return xs(Object.values(i))}async function np(r){return r.searchableProperties}async function ip(r){return r.searchablePropertiesWithTypes}function Iu(r){const e=Ht(r.e,r.s,r.k);e.d=r.d,e.w=r.w;for(const t of Object.keys(r.c))e.c[t]=Iu(r.c[t]);return e}function sp(r){return{numberToDocumentId:new Map(r)}}function ap(r){return Array.from(r.numberToDocumentId.entries())}async function op(r,e){const{indexes:t,vectorIndexes:n,searchableProperties:i,searchablePropertiesWithTypes:s,frequencies:a,tokenOccurrences:o,avgFieldLength:u,fieldLengths:c}=e,d={},f={};for(const m of Object.keys(t)){const{node:b,type:g,isArray:_}=t[m];switch(g){case"Radix":d[m]={type:"Radix",node:Iu(b),isArray:_};break;case"Flat":d[m]={type:"Flat",node:sp(b),isArray:_};break;default:d[m]=t[m]}}for(const m of Object.keys(n)){const b=n[m].vectors;for(const g in b)b[g]=[b[g][0],new Float32Array(b[g][1])];f[m]={size:n[m].size,vectors:b}}return{sharedInternalDocumentStore:r,indexes:d,vectorIndexes:f,searchableProperties:i,searchablePropertiesWithTypes:s,frequencies:a,tokenOccurrences:o,avgFieldLength:u,fieldLengths:c}}async function up(r){const{indexes:e,vectorIndexes:t,searchableProperties:n,searchablePropertiesWithTypes:i,frequencies:s,tokenOccurrences:a,avgFieldLength:o,fieldLengths:u}=r,c={};for(const f of Object.keys(t)){const m=t[f].vectors;for(const b in m)m[b]=[m[b][0],Array.from(m[b][1])];c[f]={size:t[f].size,vectors:m}}const d={};for(const f of Object.keys(e)){const{type:m,node:b,isArray:g}=e[f];if(m!=="Flat"){d[f]=e[f];continue}d[f]={type:"Flat",node:ap(b),isArray:g}}return{indexes:d,vectorIndexes:c,searchableProperties:n,searchablePropertiesWithTypes:i,frequencies:s,tokenOccurrences:a,avgFieldLength:o,fieldLengths:u}}async function cp(){return{create:_u,insert:Xh,remove:ep,insertDocumentScoreParameters:Hh,insertTokenScoreParameters:Wh,removeDocumentScoreParameters:Gh,removeTokenScoreParameters:Yh,calculateResultScores:Jh,search:tp,searchByWhereClause:rp,getSearchableProperties:np,getSearchablePropertiesWithTypes:ip,load:op,save:up}}function Au(r,e,t,n,i){const s={language:r.tokenizer.language,sharedInternalDocumentStore:e,enabled:!0,isSorted:!0,sortableProperties:[],sortablePropertiesWithTypes:{},sorts:{}};for(const[a,o]of Object.entries(t)){const u=`${i}${i?".":""}${a}`;if(!n.includes(u)){if(typeof o=="object"&&!Array.isArray(o)){const c=Au(r,e,o,n,u);xe(s.sortableProperties,c.sortableProperties),s.sorts={...s.sorts,...c.sorts},s.sortablePropertiesWithTypes={...s.sortablePropertiesWithTypes,...c.sortablePropertiesWithTypes};continue}if(!ir(o))switch(o){case"boolean":case"number":case"string":s.sortableProperties.push(u),s.sortablePropertiesWithTypes[u]=o,s.sorts[u]={docs:new Map,orderedDocsToRemove:new Map,orderedDocs:[],type:o};break;case"geopoint":case"enum":continue;case"enum[]":case"boolean[]":case"number[]":case"string[]":continue;default:throw pe("INVALID_SORT_SCHEMA_TYPE",Array.isArray(o)?"array":o,u)}}}return s}async function lp(r,e,t,n){return(n==null?void 0:n.enabled)!==!1?Au(r,e,t,(n||{}).unsortableProperties||[],""):{disabled:!0}}async function dp(r,e,t,n){if(!r.enabled)return;r.isSorted=!1;const i=Oe(r.sharedInternalDocumentStore,t),s=r.sorts[e];s.docs.set(i,s.orderedDocs.length),s.orderedDocs.push([i,n])}function Eu(r){if(r.isSorted||!r.enabled)return;const e=Object.keys(r.sorts);for(const t of e)mp(r,t);r.isSorted=!0}function fp(r,e,t){return e[1].localeCompare(t[1],r)}function hp(r,e){return r[1]-e[1]}function pp(r,e){return e[1]?-1:1}function mp(r,e){const t=r.sorts[e];let n;switch(t.type){case"string":n=fp.bind(null,r.language);break;case"number":n=hp.bind(null);break;case"boolean":n=pp.bind(null);break}t.orderedDocs.sort(n);const i=t.orderedDocs.length;for(let s=0;s<i;s++){const a=t.orderedDocs[s][0];t.docs.set(a,s)}}function gp(r){const e=Object.keys(r.sorts);for(const t of e)Tu(r,t)}function Tu(r,e){const t=r.sorts[e];t.orderedDocsToRemove.size&&(t.orderedDocs=t.orderedDocs.filter(n=>!t.orderedDocsToRemove.has(n[0])),t.orderedDocsToRemove.clear())}async function yp(r,e,t){if(!r.enabled)return;const n=r.sorts[e],i=Oe(r.sharedInternalDocumentStore,t);n.docs.get(i)&&(n.docs.delete(i),n.orderedDocsToRemove.set(i,!0))}async function bp(r,e,t){if(!r.enabled)throw pe("SORT_DISABLED");const n=t.property,i=t.order==="DESC",s=r.sorts[n];if(!s)throw pe("UNABLE_TO_SORT_ON_UNKNOWN_FIELD",n,r.sortableProperties.join(", "));return Tu(r,n),Eu(r),e.sort((a,o)=>{const u=s.docs.get(Oe(r.sharedInternalDocumentStore,a[0])),c=s.docs.get(Oe(r.sharedInternalDocumentStore,o[0])),d=typeof u<"u",f=typeof c<"u";return!d&&!f?0:d?f?i?c-u:u-c:-1:1}),e}async function vp(r){return r.enabled?r.sortableProperties:[]}async function wp(r){return r.enabled?r.sortablePropertiesWithTypes:{}}async function _p(r,e){const t=e;if(!t.enabled)return{enabled:!1};const n=Object.keys(t.sorts).reduce((i,s)=>{const{docs:a,orderedDocs:o,type:u}=t.sorts[s];return i[s]={docs:new Map(Object.entries(a).map(([c,d])=>[+c,d])),orderedDocsToRemove:new Map,orderedDocs:o,type:u},i},{});return{sharedInternalDocumentStore:r,language:t.language,sortableProperties:t.sortableProperties,sortablePropertiesWithTypes:t.sortablePropertiesWithTypes,sorts:n,enabled:!0,isSorted:t.isSorted}}async function Ip(r){if(!r.enabled)return{enabled:!1};gp(r),Eu(r);const e=Object.keys(r.sorts).reduce((t,n)=>{const{docs:i,orderedDocs:s,type:a}=r.sorts[n];return t[n]={docs:Object.fromEntries(i.entries()),orderedDocs:s,type:a},t},{});return{language:r.language,sortableProperties:r.sortableProperties,sortablePropertiesWithTypes:r.sortablePropertiesWithTypes,sorts:e,enabled:r.enabled,isSorted:r.isSorted}}async function Ap(){return{create:lp,insert:dp,remove:yp,save:Ip,load:_p,sortBy:bp,getSortableProperties:vp,getSortablePropertiesWithTypes:wp}}const Ea=192,Ep=383,Tp=[65,65,65,65,65,65,65,67,69,69,69,69,73,73,73,73,69,78,79,79,79,79,79,null,79,85,85,85,85,89,80,115,97,97,97,97,97,97,97,99,101,101,101,101,105,105,105,105,101,110,111,111,111,111,111,null,111,117,117,117,117,121,112,121,65,97,65,97,65,97,67,99,67,99,67,99,67,99,68,100,68,100,69,101,69,101,69,101,69,101,69,101,71,103,71,103,71,103,71,103,72,104,72,104,73,105,73,105,73,105,73,105,73,105,73,105,74,106,75,107,107,76,108,76,108,76,108,76,108,76,108,78,110,78,110,78,110,110,78,110,79,111,79,111,79,111,79,111,82,114,82,114,82,114,83,115,83,115,83,115,83,115,84,116,84,116,84,116,85,117,85,117,85,117,85,117,85,117,85,117,87,119,89,121,89,90,122,90,122,90,122,115];function Pp(r){return r<Ea||r>Ep?r:Tp[r-Ea]||r}function Op(r){const e=[];for(let t=0;t<r.length;t++)e[t]=Pp(r.charCodeAt(t));return String.fromCharCode(...e)}const xp={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},Sp={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},Cp="[^aeiou]",kn="[aeiouy]",ct=Cp+"[^aeiouy]*",Nr=kn+"[aeiou]*",Ai="^("+ct+")?"+Nr+ct,kp="^("+ct+")?"+Nr+ct+"("+Nr+")?$",Gr="^("+ct+")?"+Nr+ct+Nr+ct,Ta="^("+ct+")?"+kn;function Np(r){let e,t,n,i,s,a;if(r.length<3)return r;const o=r.substring(0,1);if(o=="y"&&(r=o.toUpperCase()+r.substring(1)),n=/^(.+?)(ss|i)es$/,i=/^(.+?)([^s])s$/,n.test(r)?r=r.replace(n,"$1$2"):i.test(r)&&(r=r.replace(i,"$1$2")),n=/^(.+?)eed$/,i=/^(.+?)(ed|ing)$/,n.test(r)){const u=n.exec(r);n=new RegExp(Ai),n.test(u[1])&&(n=/.$/,r=r.replace(n,""))}else i.test(r)&&(e=i.exec(r)[1],i=new RegExp(Ta),i.test(e)&&(r=e,i=/(at|bl|iz)$/,s=new RegExp("([^aeiouylsz])\\1$"),a=new RegExp("^"+ct+kn+"[^aeiouwxy]$"),i.test(r)?r=r+"e":s.test(r)?(n=/.$/,r=r.replace(n,"")):a.test(r)&&(r=r+"e")));if(n=/^(.+?)y$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],n=new RegExp(Ta),e&&n.test(e)&&(r=e+"i")}if(n=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],t=u==null?void 0:u[2],n=new RegExp(Ai),e&&n.test(e)&&(r=e+xp[t])}if(n=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],t=u==null?void 0:u[2],n=new RegExp(Ai),e&&n.test(e)&&(r=e+Sp[t])}if(n=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,i=/^(.+?)(s|t)(ion)$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],n=new RegExp(Gr),e&&n.test(e)&&(r=e)}else if(i.test(r)){const u=i.exec(r);e=(u==null?void 0:u[1])??""+(u==null?void 0:u[2])??"",i=new RegExp(Gr),i.test(e)&&(r=e)}if(n=/^(.+?)e$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],n=new RegExp(Gr),i=new RegExp(kp),s=new RegExp("^"+ct+kn+"[^aeiouwxy]$"),e&&(n.test(e)||i.test(e)&&!s.test(e))&&(r=e)}return n=/ll$/,i=new RegExp(Gr),n.test(r)&&i.test(r)&&(n=/.$/,r=r.replace(n,"")),o=="y"&&(r=o.toLowerCase()+r.substring(1)),r}function Pa(r,e){var t;const n=`${this.language}:${r}:${e}`;return this.normalizationCache.has(n)?this.normalizationCache.get(n):!((t=this.stopWords)===null||t===void 0)&&t.includes(e)?(this.normalizationCache.set(n,""),""):(this.stemmer&&!this.stemmerSkipProperties.has(r)&&(e=this.stemmer(e)),e=Op(e),this.normalizationCache.set(n,e),e)}function Rp(r){for(;r[r.length-1]==="";)r.pop();for(;r[0]==="";)r.shift();return r}function Oa(r,e,t){if(e&&e!==this.language)throw pe("LANGUAGE_NOT_SUPPORTED",e);if(typeof r!="string")return[r];let n;if(t&&this.tokenizeSkipProperties.has(t))n=[this.normalizeToken.bind(this,t??"")(r)];else{const s=Zf[this.language];n=r.toLowerCase().split(s).map(this.normalizeToken.bind(this,t??"")).filter(Boolean)}const i=Rp(n);return this.allowDuplicates?i:Array.from(new Set(i))}async function xa(r={}){if(!r.language)r.language="english";else if(!su.includes(r.language))throw pe("LANGUAGE_NOT_SUPPORTED",r.language);let e;if(r.stemming||r.stemmer&&!("stemming"in r))if(r.stemmer){if(typeof r.stemmer!="function")throw pe("INVALID_STEMMER_FUNCTION_TYPE");e=r.stemmer}else if(r.language==="english")e=Np;else throw pe("MISSING_STEMMER",r.language);let t;if(r.stopWords!==!1){if(t=[],Array.isArray(r.stopWords))t=r.stopWords;else if(typeof r.stopWords=="function")t=await r.stopWords(t);else if(r.stopWords)throw pe("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");if(!Array.isArray(t))throw pe("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");for(const i of t)if(typeof i!="string")throw pe("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY")}const n={tokenize:Oa,language:r.language,stemmer:e,stemmerSkipProperties:new Set(r.stemmerSkipProperties?[r.stemmerSkipProperties].flat():[]),tokenizeSkipProperties:new Set(r.tokenizeSkipProperties?[r.tokenizeSkipProperties].flat():[]),stopWords:t,allowDuplicates:!!r.allowDuplicates,normalizeToken:Pa,normalizationCache:new Map};return n.tokenize=Oa.bind(n),n.normalizeToken=Pa,n}function Dp(r){const e={formatElapsedTime:Jf,getDocumentIndexId:Xf,getDocumentProperties:uu,validateSchema:cu};for(const t of ga){const n=t;if(r[n]){if(typeof r[n]!="function")throw pe("COMPONENT_MUST_BE_FUNCTION",n)}else r[n]=e[n]}for(const t of Object.keys(r))if(!yh.includes(t)&&!ga.includes(t))throw pe("UNSUPPORTED_COMPONENT",t)}async function Pu({schema:r,sort:e,language:t,components:n,id:i,plugins:s}){n||(n={}),i||(i=await ou());let a=n.tokenizer,o=n.index,u=n.documentsStore,c=n.sorter;if(a?a.tokenize?a=a:a=await xa(a):a=await xa({language:t??"english"}),n.tokenizer&&t)throw pe("NO_LANGUAGE_WITH_CUSTOM_TOKENIZER");const d=rh();o||(o=await cp()),c||(c=await Ap()),u||(u=await ph()),Dp(n);const{getDocumentProperties:f,getDocumentIndexId:m,validateSchema:b,formatElapsedTime:g}=n,_={data:{},caches:{},schema:r,tokenizer:a,index:o,sorter:c,documentsStore:u,internalDocumentIDStore:d,getDocumentProperties:f,getDocumentIndexId:m,validateSchema:b,beforeInsert:[],afterInsert:[],beforeRemove:[],afterRemove:[],beforeUpdate:[],afterUpdate:[],beforeSearch:[],afterSearch:[],beforeInsertMultiple:[],afterInsertMultiple:[],beforeRemoveMultiple:[],afterRemoveMultiple:[],afterUpdateMultiple:[],beforeUpdateMultiple:[],formatElapsedTime:g,id:i,plugins:s};_.data={index:await _.index.create(_,d,r),docs:await _.documentsStore.create(_,d),sorting:await _.sorter.create(_,d,r,e)};for(const h of mh)_[h]=(_[h]??[]).concat(gh(_,h));return _}const Tt=Symbol("orama.insertions"),Pt=Symbol("orama.removals");var Ei;const Ou=((Ei=globalThis.process)===null||Ei===void 0?void 0:Ei.emitWarning)??function(e,t){console.warn(`[WARNING] [${t.code}] ${e}`)};function jp(r){typeof r[Tt]!="number"&&(queueMicrotask(()=>{r[Tt]=void 0}),r[Tt]=0),r[Tt]>1e3?(Ou("Orama's insert operation is synchronous. Please avoid inserting a large number of document in a single operation in order not to block the main thread or, in alternative, please use insertMultiple.",{code:"ORAMA0001"}),r[Tt]=-1):r[Tt]>=0&&r[Tt]++}function Lp(r){typeof r[Pt]!="number"&&(queueMicrotask(()=>{r[Pt]=void 0}),r[Pt]=0),r[Pt]>1e3?(Ou("Orama's remove operation is synchronous. Please avoid removing a large number of document in a single operation in order not to block the main thread, in alternative, please use updateMultiple.",{code:"ORAMA0002"}),r[Pt]=-1):r[Pt]>=0&&r[Pt]++}async function Up(r,e,t,n){const i=await r.validateSchema(e,r.schema);if(i)throw pe("SCHEMA_VALIDATION_FAILURE",i);return Mp(r,e,t,n)}async function Mp(r,e,t,n){const{index:i,docs:s}=r.data,a=await r.getDocumentIndexId(e);if(typeof a!="string")throw pe("DOCUMENT_ID_MUST_BE_STRING",typeof a);if(!await r.documentsStore.store(s,a,e))throw pe("DOCUMENT_ALREADY_EXISTS",a);const o=await r.documentsStore.count(s);n||await Sn(r.beforeInsert,r,a,e);const u=await r.index.getSearchableProperties(i),c=await r.index.getSearchablePropertiesWithTypes(i),d=await r.getDocumentProperties(e,u);for(const[j,S]of Object.entries(d)){if(typeof S>"u")continue;const R=typeof S,M=c[j];if(!(th(M)&&typeof S=="object"&&typeof S.lon=="number"&&typeof S.lat=="number")&&!(ir(M)&&Array.isArray(S))&&!(Hn(M)&&Array.isArray(S))&&!((M==="enum"||M==="enum[]")&&(R==="string"||R==="number"))&&R!==M)throw pe("INVALID_DOCUMENT_PROPERTY",j,M,R)}for(const j of u){var f,m,b,g;const S=d[j];if(typeof S>"u")continue;const R=c[j];await((m=(f=r.index).beforeInsert)===null||m===void 0?void 0:m.call(f,r.data.index,j,a,S,R,t,r.tokenizer,o)),await r.index.insert(r.index,r.data.index,j,a,S,R,t,r.tokenizer,o),await((g=(b=r.index).afterInsert)===null||g===void 0?void 0:g.call(b,r.data.index,j,a,S,R,t,r.tokenizer,o))}const _=await r.sorter.getSortableProperties(r.data.sorting),h=await r.sorter.getSortablePropertiesWithTypes(r.data.sorting),T=await r.getDocumentProperties(e,_);for(const j of _){const S=T[j];if(typeof S>"u")continue;const R=h[j];await r.sorter.insert(r.data.sorting,j,a,S,R,t)}return n||await Sn(r.afterInsert,r,a,e),jp(r),a}async function $p(r,e,t,n,i,s){i||await Cn(r.beforeInsertMultiple,r,e);const a=e.length;for(let o=0;o<a;o++){const u=await r.validateSchema(e[o],r.schema);if(u)throw pe("SCHEMA_VALIDATION_FAILURE",u)}return zp(r,e,t,n,i,s)}async function zp(r,e,t,n,i,s){t||(t=1e3),s=s||0;const a=[];return await new Promise((o,u)=>{let c=0;async function d(){const f=e.slice(c*t,(c+1)*t);if(c++,!f.length)return o();for(const m of f)try{const b=await Up(r,m,n,i);a.push(b)}catch(b){u(b)}setTimeout(d,s)}setTimeout(d,s)}),i||await Cn(r.afterInsertMultiple,r,e),a}async function Bp(r,e,t,n){let i=!0;const{index:s,docs:a}=r.data,o=await r.documentsStore.get(a,e);if(!o)return!1;const u=Mr(r.internalDocumentIDStore,Oe(r.internalDocumentIDStore,e)),c=await r.documentsStore.count(a);n||await Sn(r.beforeRemove,r,u);const d=await r.index.getSearchableProperties(s),f=await r.index.getSearchablePropertiesWithTypes(s),m=await r.getDocumentProperties(o,d);for(const S of d){var b,g,_,h;const R=m[S];if(typeof R>"u")continue;const M=f[S];await((g=(b=r.index).beforeRemove)===null||g===void 0?void 0:g.call(b,r.data.index,S,u,R,M,t,r.tokenizer,c)),await r.index.remove(r.index,r.data.index,S,e,R,M,t,r.tokenizer,c)||(i=!1),await((h=(_=r.index).afterRemove)===null||h===void 0?void 0:h.call(_,r.data.index,S,u,R,M,t,r.tokenizer,c))}const T=await r.sorter.getSortableProperties(r.data.sorting),j=await r.getDocumentProperties(o,T);for(const S of T)typeof j[S]>"u"||await r.sorter.remove(r.data.sorting,S,e);return n||await Sn(r.afterRemove,r,u),await r.documentsStore.remove(r.data.docs,e),Lp(r),i}async function Sa(r,e,t,n,i){let s=0;t||(t=1e3);const a=i?[]:e.map(o=>Mr(r.internalDocumentIDStore,Oe(r.internalDocumentIDStore,o)));return i||await Cn(r.beforeRemoveMultiple,r,a),await new Promise((o,u)=>{let c=0;async function d(){const f=e.slice(c*t,(c+1)*t);if(c++,!f.length)return o();for(const m of f)try{await Bp(r,m,n,i)&&s++}catch(b){u(b)}setTimeout(d,0)}setTimeout(d,0)}),i||await Cn(r.afterRemoveMultiple,r,a),s}function Zp(r="desc",e,t){return r.toLowerCase()==="asc"?e[1]-t[1]:t[1]-e[1]}async function Vp(r,e,t){const n={},i=e.map(([c])=>c),s=await r.documentsStore.getMultiple(r.data.docs,i),a=Object.keys(t),o=await r.index.getSearchablePropertiesWithTypes(r.data.index);for(const c of a){let d={};if(o[c]==="number"){const{ranges:f}=t[c],m=[];for(const b of f)m.push([`${b.from}-${b.to}`,0]);d=Object.fromEntries(m)}n[c]={count:0,values:d}}const u=s.length;for(let c=0;c<u;c++){const d=s[c];for(const f of a){const m=f.includes(".")?await Ss(d,f):d[f],b=o[f];switch(b){case"number":{const g=t[f].ranges;Ca(g,n[f].values,m);break}case"number[]":{const g=new Set,_=t[f].ranges;for(const h of m)Ca(_,n[f].values,h,g);break}case"boolean":case"enum":case"string":{ka(n[f].values,m,b);break}case"boolean[]":case"enum[]":case"string[]":{const g=new Set,_=b==="boolean[]"?"boolean":"string";for(const h of m)ka(n[f].values,h,_,g);break}default:throw pe("FACET_NOT_SUPPORTED",b)}}}for(const c of a)if(n[c].count=Object.keys(n[c].values).length,o[c]==="string"){const d=t;n[c].values=Object.fromEntries(Object.entries(n[c].values).sort((f,m)=>Zp(d.sort,f,m)).slice(d.offset??0,d.limit??10))}return n}function Ca(r,e,t,n){for(const i of r){const s=`${i.from}-${i.to}`;n&&n.has(s)||t>=i.from&&t<=i.to&&(e[s]===void 0?e[s]=1:(e[s]++,n&&n.add(s)))}}function ka(r,e,t,n){const i=(e==null?void 0:e.toString())??(t==="boolean"?"false":"");n&&n.has(i)||(r[i]=(r[i]??0)+1,n&&n.add(i))}function Fp(r,e){const t=new Map,n=[];for(const i of r)t.set(i,!0);for(const[i,s]of e)t.has(i)&&(n.push([i,s]),t.delete(i));return n}const Kp={reducer:(r,e,t,n)=>(e[n]=t,e),getInitialValue:r=>Array.from({length:r})},Na=["string","number","boolean"];async function qp(r,e,t){const n=t.properties,i=n.length,s=await r.index.getSearchablePropertiesWithTypes(r.data.index);for(let T=0;T<i;T++){const j=n[T];if(typeof s[j]>"u")throw pe("UNKNOWN_GROUP_BY_PROPERTY",j);if(!Na.includes(s[j]))throw pe("INVALID_GROUP_BY_PROPERTY",j,Na.join(", "),s[j])}const a=e.map(([T])=>Mr(r.internalDocumentIDStore,T)),o=await r.documentsStore.getMultiple(r.data.docs,a),u=o.length,c=t.maxResult||Number.MAX_SAFE_INTEGER,d=[],f={};for(let T=0;T<i;T++){const j=n[T],S={property:j,perValue:{}},R=new Set;for(let M=0;M<u;M++){const O=o[M],C=await Ss(O,j);if(typeof C>"u")continue;const v=typeof C!="boolean"?C:""+C;typeof S.perValue[v]>"u"&&(S.perValue[v]={indexes:[],count:0}),!(S.perValue[v].count>=c)&&(S.perValue[v].indexes.push(M),S.perValue[v].count++,R.add(C))}d.push(Array.from(R)),f[j]=S}const m=xu(d),b=m.length,g=[];for(let T=0;T<b;T++){const j=m[T],S=j.length,R={values:[],indexes:[]},M=[];for(let O=0;O<S;O++){const C=j[O],v=n[O];M.push(f[v].perValue[typeof C!="boolean"?C:""+C].indexes),R.values.push(C)}R.indexes=xs(M).sort((O,C)=>O-C),R.indexes.length!==0&&g.push(R)}const _=g.length,h=Array.from({length:_});for(let T=0;T<_;T++){const j=g[T],S=t.reduce||Kp,R=j.indexes.map(v=>({id:a[v],score:e[v][1],document:o[v]})),M=S.reducer.bind(null,j.values),O=S.getInitialValue(j.indexes.length),C=R.reduce(M,O);h[T]={values:j.values,result:C}}return h}function xu(r,e=0){if(e+1===r.length)return r[e].map(s=>[s]);const t=r[e],n=xu(r,e+1),i=[];for(const s of t)for(const a of n){const o=[s];xe(o,a),i.push(o)}return i}const Hp={k:1.2,b:.75,d:.5};async function Wp(r,e,t,n,i,s,a,o,u){const c={},d={};for(const f of s){const m={};for(const b of a)m[b]=[];c[f]=m,d[f]=[]}return{timeStart:u,tokenizer:r,index:e,documentsStore:t,language:n,params:i,docsCount:o,uniqueDocsIDs:{},indexMap:c,docsIntersection:d}}async function Gp(r,e,t){const n=await xn();e.relevance=Object.assign(e.relevance??{},Hp);const i=e.facets&&Object.keys(e.facets).length>0,{limit:s=10,offset:a=0,term:o,properties:u,threshold:c=1,distinctOn:d}=e,f=e.preflight===!0,{index:m,docs:b}=r.data,g=await r.tokenizer.tokenize(o??"",t);let _=r.caches.propertiesToSearch;if(!_){const v=await r.index.getSearchablePropertiesWithTypes(m);_=await r.index.getSearchableProperties(m),_=_.filter(A=>v[A].startsWith("string")),r.caches.propertiesToSearch=_}if(u&&u!=="*"){for(const v of u)if(!_.includes(v))throw pe("UNKNOWN_INDEX",v,_.join(", "));_=_.filter(v=>u.includes(v))}const h=await Wp(r.tokenizer,r.index,r.documentsStore,t,e,_,g,await r.documentsStore.count(b),n),T=Object.keys(e.where??{}).length>0;let j=[];T&&(j=await r.index.searchByWhereClause(h,m,e.where));const S=g.length;if(S||u&&u.length>0){const v=_.length;for(let A=0;A<v;A++){var R;const I=_[A];if(S!==0)for(let K=0;K<S;K++){const V=g[K],B=await r.index.search(h,m,I,V);xe(h.indexMap[I][V],B)}else{h.indexMap[I][""]=[];const K=await r.index.search(h,m,I,"");xe(h.indexMap[I][""],K)}const N=h.indexMap[I],L=Object.values(N);h.docsIntersection[I]=Fh(L,(e==null||(R=e.boost)===null||R===void 0?void 0:R[I])??1,c,S);const q=h.docsIntersection[I],Y=q.length;for(let K=0;K<Y;K++){const[V,B]=q[K],G=h.uniqueDocsIDs[V];G?h.uniqueDocsIDs[V]=G+B+.5:h.uniqueDocsIDs[V]=B}}}else g.length===0&&o?h.uniqueDocsIDs={}:h.uniqueDocsIDs=Object.fromEntries(Object.keys(await r.documentsStore.getAll(r.data.docs)).map(v=>[v,0]));let M=Object.entries(h.uniqueDocsIDs).map(([v,A])=>[+v,A]);if(T&&(M=Fp(j,M)),e.sortBy)if(typeof e.sortBy=="function"){const v=M.map(([N])=>N),I=(await r.documentsStore.getMultiple(r.data.docs,v)).map((N,L)=>[M[L][0],M[L][1],N]);I.sort(e.sortBy),M=I.map(([N,L])=>[N,L])}else M=await r.sorter.sortBy(r.data.sorting,M,e.sortBy).then(v=>v.map(([A,I])=>[Oe(r.internalDocumentIDStore,A),I]));else M=M.sort(qf);let O;!f&&d?O=await Yp(r,M,a,s,d):f||(O=await Jp(r,M,a,s));const C={elapsed:{formatted:"",raw:0},hits:[],count:M.length};if(typeof O<"u"&&(C.hits=O.filter(Boolean)),i){const v=await Vp(r,M,e.facets);C.facets=v}return e.groupBy&&(C.groups=await qp(r,M,e.groupBy)),r.beforeSearch&&await vh(r.beforeSearch,r,e,t),r.afterSearch&&await bh(r.afterSearch,r,e,t,C),C.elapsed=await r.formatElapsedTime(await xn()-h.timeStart),C}async function Yp(r,e,t,n,i){const s=r.data.docs,a=new Map,o=[],u=new Set,c=e.length;let d=0;for(let f=0;f<c;f++){const m=e[f];if(typeof m>"u")continue;const[b,g]=m;if(u.has(b))continue;const _=await r.documentsStore.get(s,b),h=await Ss(_,i);if(!(typeof h>"u"||a.has(h))&&(a.set(h,!0),d++,!(d<=t)&&(o.push({id:Mr(r.internalDocumentIDStore,b),score:g,document:_}),u.add(b),d>=t+n)))break}return o}async function Jp(r,e,t,n){const i=r.data.docs,s=Array.from({length:n}),a=new Set;for(let o=t;o<n+t;o++){const u=e[o];if(typeof u>"u")break;const[c,d]=u;if(!a.has(c)){const f=await r.documentsStore.get(i,c);s[o]={id:Mr(r.internalDocumentIDStore,c),score:d,document:f},a.add(c)}}return s}async function Xp(r,e){const t=await xn();let{vector:n}=e;const{property:i,limit:s=10,offset:a=0,includeVectors:o=!1}=e,u=r.data.index.vectorIndexes[i],c=u.size,d=u.vectors;if(n.length!==c)throw pe("INVALID_INPUT_VECTOR",i,c,n.length);n instanceof Float32Array||(n=new Float32Array(n));const f=qh(n,d,c,e.similarity),m=Array.from({length:s});for(let _=0;_<s;_++){const h=f[_+a];if(!h)break;const T=Oe(r.internalDocumentIDStore,h.id),j=r.data.docs.docs[T];if(j){o||(j[i]=null);const S={id:h.id,score:h.score,document:j};m[_]=S}}const g=await xn()-t;return{count:f.length,hits:m.filter(Boolean),elapsed:{raw:Number(g),formatted:await au(g)}}}async function Qp(r,e){r.internalDocumentIDStore.load(r,e.internalDocumentIDStore),r.data.index=await r.index.load(r.internalDocumentIDStore,e.index),r.data.docs=await r.documentsStore.load(r.internalDocumentIDStore,e.docs),r.data.sorting=await r.sorter.load(r.internalDocumentIDStore,e.sorting),r.tokenizer.language=e.language}async function em(r){return{internalDocumentIDStore:r.internalDocumentIDStore.save(r.internalDocumentIDStore),index:await r.index.save(r.data.index),docs:await r.documentsStore.save(r.data.docs),sorting:await r.sorter.save(r.data.sorting),language:r.tokenizer.language}}var kt=4294967295;function tm(r,e,t){var n=t/4294967296,i=t;r.setUint32(e,n),r.setUint32(e+4,i)}function Su(r,e,t){var n=Math.floor(t/4294967296),i=t;r.setUint32(e,n),r.setUint32(e+4,i)}function Cu(r,e){var t=r.getInt32(e),n=r.getUint32(e+4);return t*4294967296+n}function rm(r,e){var t=r.getUint32(e),n=r.getUint32(e+4);return t*4294967296+n}var Ti,Pi,Oi,Wn=(typeof process>"u"||((Ti=process==null?void 0:process.env)===null||Ti===void 0?void 0:Ti.TEXT_ENCODING)!=="never")&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function Ra(r){for(var e=r.length,t=0,n=0;n<e;){var i=r.charCodeAt(n++);if(i&4294967168)if(!(i&4294965248))t+=2;else{if(i>=55296&&i<=56319&&n<e){var s=r.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?t+=4:t+=3}else{t++;continue}}return t}function nm(r,e,t){for(var n=r.length,i=t,s=0;s<n;){var a=r.charCodeAt(s++);if(a&4294967168)if(!(a&4294965248))e[i++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&s<n){var o=r.charCodeAt(s);(o&64512)===56320&&(++s,a=((a&1023)<<10)+(o&1023)+65536)}a&4294901760?(e[i++]=a>>18&7|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128):(e[i++]=a>>12&15|224,e[i++]=a>>6&63|128)}else{e[i++]=a;continue}e[i++]=a&63|128}}var Or=Wn?new TextEncoder:void 0,im=Wn?typeof process<"u"&&((Pi=process==null?void 0:process.env)===null||Pi===void 0?void 0:Pi.TEXT_ENCODING)!=="force"?200:0:kt;function sm(r,e,t){e.set(Or.encode(r),t)}function am(r,e,t){Or.encodeInto(r,e.subarray(t))}var om=Or!=null&&Or.encodeInto?am:sm,um=4096;function ku(r,e,t){for(var n=e,i=n+t,s=[],a="";n<i;){var o=r[n++];if(!(o&128))s.push(o);else if((o&224)===192){var u=r[n++]&63;s.push((o&31)<<6|u)}else if((o&240)===224){var u=r[n++]&63,c=r[n++]&63;s.push((o&31)<<12|u<<6|c)}else if((o&248)===240){var u=r[n++]&63,c=r[n++]&63,d=r[n++]&63,f=(o&7)<<18|u<<12|c<<6|d;f>65535&&(f-=65536,s.push(f>>>10&1023|55296),f=56320|f&1023),s.push(f)}else s.push(o);s.length>=um&&(a+=String.fromCharCode.apply(String,s),s.length=0)}return s.length>0&&(a+=String.fromCharCode.apply(String,s)),a}var cm=Wn?new TextDecoder:null,lm=Wn?typeof process<"u"&&((Oi=process==null?void 0:process.env)===null||Oi===void 0?void 0:Oi.TEXT_DECODER)!=="force"?200:0:kt;function dm(r,e,t){var n=r.subarray(e,e+t);return cm.decode(n)}var Yr=function(){function r(e,t){this.type=e,this.data=t}return r}(),fm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),at=function(r){fm(e,r);function e(t){var n=r.call(this,t)||this,i=Object.create(e.prototype);return Object.setPrototypeOf(n,i),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:e.name}),n}return e}(Error),hm=-1,pm=4294967296-1,mm=17179869184-1;function gm(r){var e=r.sec,t=r.nsec;if(e>=0&&t>=0&&e<=mm)if(t===0&&e<=pm){var n=new Uint8Array(4),i=new DataView(n.buffer);return i.setUint32(0,e),n}else{var s=e/4294967296,a=e&4294967295,n=new Uint8Array(8),i=new DataView(n.buffer);return i.setUint32(0,t<<2|s&3),i.setUint32(4,a),n}else{var n=new Uint8Array(12),i=new DataView(n.buffer);return i.setUint32(0,t),Su(i,4,e),n}}function ym(r){var e=r.getTime(),t=Math.floor(e/1e3),n=(e-t*1e3)*1e6,i=Math.floor(n/1e9);return{sec:t+i,nsec:n-i*1e9}}function bm(r){if(r instanceof Date){var e=ym(r);return gm(e)}else return null}function vm(r){var e=new DataView(r.buffer,r.byteOffset,r.byteLength);switch(r.byteLength){case 4:{var t=e.getUint32(0),n=0;return{sec:t,nsec:n}}case 8:{var i=e.getUint32(0),s=e.getUint32(4),t=(i&3)*4294967296+s,n=i>>>2;return{sec:t,nsec:n}}case 12:{var t=Cu(e,4),n=e.getUint32(0);return{sec:t,nsec:n}}default:throw new at("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(r.length))}}function wm(r){var e=vm(r);return new Date(e.sec*1e3+e.nsec/1e6)}var _m={type:hm,encode:bm,decode:wm},Nu=function(){function r(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(_m)}return r.prototype.register=function(e){var t=e.type,n=e.encode,i=e.decode;if(t>=0)this.encoders[t]=n,this.decoders[t]=i;else{var s=1+t;this.builtInEncoders[s]=n,this.builtInDecoders[s]=i}},r.prototype.tryToEncode=function(e,t){for(var n=0;n<this.builtInEncoders.length;n++){var i=this.builtInEncoders[n];if(i!=null){var s=i(e,t);if(s!=null){var a=-1-n;return new Yr(a,s)}}}for(var n=0;n<this.encoders.length;n++){var i=this.encoders[n];if(i!=null){var s=i(e,t);if(s!=null){var a=n;return new Yr(a,s)}}}return e instanceof Yr?e:null},r.prototype.decode=function(e,t,n){var i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,n):new Yr(t,e)},r.defaultCodec=new r,r}();function Nn(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer?new Uint8Array(r):Uint8Array.from(r)}function Im(r){if(r instanceof ArrayBuffer)return new DataView(r);var e=Nn(r);return new DataView(e.buffer,e.byteOffset,e.byteLength)}var Am=100,Em=2048,Tm=function(){function r(e,t,n,i,s,a,o,u){e===void 0&&(e=Nu.defaultCodec),t===void 0&&(t=void 0),n===void 0&&(n=Am),i===void 0&&(i=Em),s===void 0&&(s=!1),a===void 0&&(a=!1),o===void 0&&(o=!1),u===void 0&&(u=!1),this.extensionCodec=e,this.context=t,this.maxDepth=n,this.initialBufferSize=i,this.sortKeys=s,this.forceFloat32=a,this.ignoreUndefined=o,this.forceIntegerToFloat=u,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return r.prototype.reinitializeState=function(){this.pos=0},r.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},r.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},r.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,t)},r.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(t*2)},r.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t),i=new DataView(t);n.set(this.bytes),this.view=i,this.bytes=n},r.prototype.encodeNil=function(){this.writeU8(192)},r.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},r.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},r.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},r.prototype.encodeString=function(e){var t=5,n=e.length;if(n>im){var i=Ra(e);this.ensureBufferSizeToWrite(t+i),this.writeStringHeader(i),om(e,this.bytes,this.pos),this.pos+=i}else{var i=Ra(e);this.ensureBufferSizeToWrite(t+i),this.writeStringHeader(i),nm(e,this.bytes,this.pos),this.pos+=i}},r.prototype.encodeObject=function(e,t){var n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,t);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},r.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<4294967296)this.writeU8(198),this.writeU32(t);else throw new Error("Too large binary: ".concat(t));var n=Nn(e);this.writeU8a(n)},r.prototype.encodeArray=function(e,t){var n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error("Too large array: ".concat(n));for(var i=0,s=e;i<s.length;i++){var a=s[i];this.doEncode(a,t+1)}},r.prototype.countWithoutUndefined=function(e,t){for(var n=0,i=0,s=t;i<s.length;i++){var a=s[i];e[a]!==void 0&&n++}return n},r.prototype.encodeMap=function(e,t){var n=Object.keys(e);this.sortKeys&&n.sort();var i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error("Too large map object: ".concat(i));for(var s=0,a=n;s<a.length;s++){var o=a[s],u=e[o];this.ignoreUndefined&&u===void 0||(this.encodeString(o),this.doEncode(u,t+1))}},r.prototype.encodeExtension=function(e){var t=e.data.length;if(t===1)this.writeU8(212);else if(t===2)this.writeU8(213);else if(t===4)this.writeU8(214);else if(t===8)this.writeU8(215);else if(t===16)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<4294967296)this.writeU8(201),this.writeU32(t);else throw new Error("Too large extension object: ".concat(t));this.writeI8(e.type),this.writeU8a(e.data)},r.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},r.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},r.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},r.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},r.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},r.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},r.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},r.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},r.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},r.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),tm(this.view,this.pos,e),this.pos+=8},r.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),Su(this.view,this.pos,e),this.pos+=8},r}(),Pm={};function Om(r,e){e===void 0&&(e=Pm);var t=new Tm(e.extensionCodec,e.context,e.maxDepth,e.initialBufferSize,e.sortKeys,e.forceFloat32,e.ignoreUndefined,e.forceIntegerToFloat);return t.encodeSharedRef(r)}function xi(r){return"".concat(r<0?"-":"","0x").concat(Math.abs(r).toString(16).padStart(2,"0"))}var xm=16,Sm=16,Cm=function(){function r(e,t){e===void 0&&(e=xm),t===void 0&&(t=Sm),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return r.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},r.prototype.find=function(e,t,n){var i=this.caches[n-1];e:for(var s=0,a=i;s<a.length;s++){for(var o=a[s],u=o.bytes,c=0;c<n;c++)if(u[c]!==e[t+c])continue e;return o.str}return null},r.prototype.store=function(e,t){var n=this.caches[e.length-1],i={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)},r.prototype.decode=function(e,t,n){var i=this.find(e,t,n);if(i!=null)return this.hit++,i;this.miss++;var s=ku(e,t,n),a=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(a,s),s},r}(),km=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):i(d.value).then(o,u)}c((n=n.apply(r,e||[])).next())})},Si=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Da=globalThis&&globalThis.__asyncValues||function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(a){return new Promise(function(o,u){a=r[s](a),i(o,u,a.done,a.value)})}}function i(s,a,o,u){Promise.resolve(u).then(function(c){s({value:c,done:o})},a)}},Qt=globalThis&&globalThis.__await||function(r){return this instanceof Qt?(this.v=r,this):new Qt(r)},Nm=globalThis&&globalThis.__asyncGenerator||function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(m){n[m]&&(i[m]=function(b){return new Promise(function(g,_){s.push([m,b,g,_])>1||o(m,b)})})}function o(m,b){try{u(n[m](b))}catch(g){f(s[0][3],g)}}function u(m){m.value instanceof Qt?Promise.resolve(m.value.v).then(c,d):f(s[0][2],m)}function c(m){o("next",m)}function d(m){o("throw",m)}function f(m,b){m(b),s.shift(),s.length&&o(s[0][0],s[0][1])}},Rm=function(r){var e=typeof r;return e==="string"||e==="number"},ar=-1,ks=new DataView(new ArrayBuffer(0)),Dm=new Uint8Array(ks.buffer),Gi=function(){try{ks.getInt8(0)}catch(r){return r.constructor}throw new Error("never reached")}(),ja=new Gi("Insufficient data"),jm=new Cm,Lm=function(){function r(e,t,n,i,s,a,o,u){e===void 0&&(e=Nu.defaultCodec),t===void 0&&(t=void 0),n===void 0&&(n=kt),i===void 0&&(i=kt),s===void 0&&(s=kt),a===void 0&&(a=kt),o===void 0&&(o=kt),u===void 0&&(u=jm),this.extensionCodec=e,this.context=t,this.maxStrLength=n,this.maxBinLength=i,this.maxArrayLength=s,this.maxMapLength=a,this.maxExtLength=o,this.keyDecoder=u,this.totalPos=0,this.pos=0,this.view=ks,this.bytes=Dm,this.headByte=ar,this.stack=[]}return r.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=ar,this.stack.length=0},r.prototype.setBuffer=function(e){this.bytes=Nn(e),this.view=Im(this.bytes),this.pos=0},r.prototype.appendBuffer=function(e){if(this.headByte===ar&&!this.hasRemaining(1))this.setBuffer(e);else{var t=this.bytes.subarray(this.pos),n=Nn(e),i=new Uint8Array(t.length+n.length);i.set(t),i.set(n,t.length),this.setBuffer(i)}},r.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},r.prototype.createExtraByteError=function(e){var t=this,n=t.view,i=t.pos;return new RangeError("Extra ".concat(n.byteLength-i," of ").concat(n.byteLength," byte(s) found at buffer[").concat(e,"]"))},r.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},r.prototype.decodeMulti=function(e){return Si(this,function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}})},r.prototype.decodeAsync=function(e){var t,n,i,s;return km(this,void 0,void 0,function(){var a,o,u,c,d,f,m,b;return Si(this,function(g){switch(g.label){case 0:a=!1,g.label=1;case 1:g.trys.push([1,6,7,12]),t=Da(e),g.label=2;case 2:return[4,t.next()];case 3:if(n=g.sent(),!!n.done)return[3,5];if(u=n.value,a)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u);try{o=this.doDecodeSync(),a=!0}catch(_){if(!(_ instanceof Gi))throw _}this.totalPos+=this.pos,g.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=g.sent(),i={error:c},[3,12];case 7:return g.trys.push([7,,10,11]),n&&!n.done&&(s=t.return)?[4,s.call(t)]:[3,9];case 8:g.sent(),g.label=9;case 9:return[3,11];case 10:if(i)throw i.error;return[7];case 11:return[7];case 12:if(a){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,o]}throw d=this,f=d.headByte,m=d.pos,b=d.totalPos,new RangeError("Insufficient data in parsing ".concat(xi(f)," at ").concat(b," (").concat(m," in the current buffer)"))}})})},r.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},r.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},r.prototype.decodeMultiAsync=function(e,t){return Nm(this,arguments,function(){var i,s,a,o,u,c,d,f,m;return Si(this,function(b){switch(b.label){case 0:i=t,s=-1,b.label=1;case 1:b.trys.push([1,13,14,19]),a=Da(e),b.label=2;case 2:return[4,Qt(a.next())];case 3:if(o=b.sent(),!!o.done)return[3,12];if(u=o.value,t&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u),i&&(s=this.readArraySize(),i=!1,this.complete()),b.label=4;case 4:b.trys.push([4,9,,10]),b.label=5;case 5:return[4,Qt(this.doDecodeSync())];case 6:return[4,b.sent()];case 7:return b.sent(),--s===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(c=b.sent(),!(c instanceof Gi))throw c;return[3,10];case 10:this.totalPos+=this.pos,b.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return d=b.sent(),f={error:d},[3,19];case 14:return b.trys.push([14,,17,18]),o&&!o.done&&(m=a.return)?[4,Qt(m.call(a))]:[3,16];case 15:b.sent(),b.label=16;case 16:return[3,18];case 17:if(f)throw f.error;return[7];case 18:return[7];case 19:return[2]}})})},r.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){var n=e-128;if(n!==0){this.pushMapState(n),this.complete();continue e}else t={}}else if(e<160){var n=e-144;if(n!==0){this.pushArrayState(n),this.complete();continue e}else t=[]}else{var i=e-160;t=this.decodeUtf8String(i,0)}else if(e===192)t=null;else if(e===194)t=!1;else if(e===195)t=!0;else if(e===202)t=this.readF32();else if(e===203)t=this.readF64();else if(e===204)t=this.readU8();else if(e===205)t=this.readU16();else if(e===206)t=this.readU32();else if(e===207)t=this.readU64();else if(e===208)t=this.readI8();else if(e===209)t=this.readI16();else if(e===210)t=this.readI32();else if(e===211)t=this.readI64();else if(e===217){var i=this.lookU8();t=this.decodeUtf8String(i,1)}else if(e===218){var i=this.lookU16();t=this.decodeUtf8String(i,2)}else if(e===219){var i=this.lookU32();t=this.decodeUtf8String(i,4)}else if(e===220){var n=this.readU16();if(n!==0){this.pushArrayState(n),this.complete();continue e}else t=[]}else if(e===221){var n=this.readU32();if(n!==0){this.pushArrayState(n),this.complete();continue e}else t=[]}else if(e===222){var n=this.readU16();if(n!==0){this.pushMapState(n),this.complete();continue e}else t={}}else if(e===223){var n=this.readU32();if(n!==0){this.pushMapState(n),this.complete();continue e}else t={}}else if(e===196){var n=this.lookU8();t=this.decodeBinary(n,1)}else if(e===197){var n=this.lookU16();t=this.decodeBinary(n,2)}else if(e===198){var n=this.lookU32();t=this.decodeBinary(n,4)}else if(e===212)t=this.decodeExtension(1,0);else if(e===213)t=this.decodeExtension(2,0);else if(e===214)t=this.decodeExtension(4,0);else if(e===215)t=this.decodeExtension(8,0);else if(e===216)t=this.decodeExtension(16,0);else if(e===199){var n=this.lookU8();t=this.decodeExtension(n,1)}else if(e===200){var n=this.lookU16();t=this.decodeExtension(n,2)}else if(e===201){var n=this.lookU32();t=this.decodeExtension(n,4)}else throw new at("Unrecognized type byte: ".concat(xi(e)));this.complete();for(var s=this.stack;s.length>0;){var a=s[s.length-1];if(a.type===0)if(a.array[a.position]=t,a.position++,a.position===a.size)s.pop(),t=a.array;else continue e;else if(a.type===1){if(!Rm(t))throw new at("The type of key must be string or number but "+typeof t);if(t==="__proto__")throw new at("The key __proto__ is not allowed");a.key=t,a.type=2;continue e}else if(a.map[a.key]=t,a.readCount++,a.readCount===a.size)s.pop(),t=a.map;else{a.key=null,a.type=1;continue e}}return t}},r.prototype.readHeadByte=function(){return this.headByte===ar&&(this.headByte=this.readU8()),this.headByte},r.prototype.complete=function(){this.headByte=ar},r.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new at("Unrecognized array type byte: ".concat(xi(e)))}}},r.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new at("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},r.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new at("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},r.prototype.decodeUtf8String=function(e,t){var n;if(e>this.maxStrLength)throw new at("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw ja;var i=this.pos+t,s;return this.stateIsMapKey()&&(!((n=this.keyDecoder)===null||n===void 0)&&n.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,i,e):e>lm?s=dm(this.bytes,i,e):s=ku(this.bytes,i,e),this.pos+=t+e,s},r.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},r.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new at("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw ja;var n=this.pos+t,i=this.bytes.subarray(n,n+e);return this.pos+=t+e,i},r.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new at("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var n=this.view.getInt8(this.pos+t),i=this.decodeBinary(e,t+1);return this.extensionCodec.decode(i,n,this.context)},r.prototype.lookU8=function(){return this.view.getUint8(this.pos)},r.prototype.lookU16=function(){return this.view.getUint16(this.pos)},r.prototype.lookU32=function(){return this.view.getUint32(this.pos)},r.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},r.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},r.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},r.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},r.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},r.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},r.prototype.readU64=function(){var e=rm(this.view,this.pos);return this.pos+=8,e},r.prototype.readI64=function(){var e=Cu(this.view,this.pos);return this.pos+=8,e},r.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},r.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},r}(),Um={};function Mm(r,e){e===void 0&&(e=Um);var t=new Lm(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return t.decode(r)}var $r={};(function(r){var e=0,t=3,n=2,i=1,s=7,a=0,o=3,u=4,c=5,d=6,f=7,m=8,b=9,g=11,_=13,h=500,T=12,j=14,S=15,R=1,M=typeof Symbol<"u"?Symbol.iterator:"__iterator_symbol__";function O(q){q||(q={});var Y=q.converterByConstructor;Y||(Y=new Map),Y.set(Map,{name:"Map",toValue:I}),Y.set(Set,{name:"Set",toValue:N}),Y.set(Date,{name:"Date",toValue:L}),q.outlet||q.avoidShareUpdate;var K=typeof Ie<"u"&&Ie.Buffer&&!(q&&q.encoding==="utf16le")?r.nodeCharEncoder(q):v(),V=K.writeString,B=K.writeToken,G=K.startSequence,W=K.endSequence,te=K.writeBuffer;q.forProperty;var ie;q.shared&&(ie=q.shared.propertyUsed,q.shared.propertyUsed);var ge=[],J,je=r.bufferSymbol||"_bufferSymbol_",Le=r.targetSymbol||"_targetSymbol_",we=R++,Ke=[0,1,2,3,4,5,ae,ve,E,D,X];function Q(U){B(i,U)}function y(U){B(n,U.length),V(U)}function E(U){var re,ee=J.values;if(ee){ee.resetTo>-1&&ee.serializer!==we&&(ee.serializer=we,ee.resetTo<ee.length&&(ee.length=ee.resetTo),B(t,_),B(i,ee.resetTo));var ne=ee.indexOf(U);if(ne>-1)return Q(ne)}if((re=typeof U)=="string"||re==="object"&&U){if(J.writeSharedValue){if(J.writeSharedValue(U,B,we))return}else if(ee){var le=ee.length;le<12&&(ee[le]=U)}}re==="string"?y(U):ae(U)}function D(U){var re=typeof U;if(re==="number")if(U>>>0===U||U>0&&U<70368744177664&&U%1===0)B(i,U);else{var ee=U.toString();y(ee)}else re==="object"?ae(U):z(U)}function z(U){U===null?B(t,a):U===!1?B(t,o):U===!0?B(t,u):U===void 0?B(t,c):F(U)}function F(U){var re=typeof U,ee;if(re==="object")if(U){var ne=U.constructor;if(ne!==Object)if(ne===Array)re="array";else if(ee=Y.get(ne),ee&&ee.toValue){if(U=ee.toValue(U),re=typeof U,U&&re==="object"&&U.constructor===Array&&(re="array"),J.type===re)return J.extendedType!==ee&&(J.extendedType=ee,B(t,g),y(ee.name)),Ke[J.code](U)}else ee=!1}else re="undefined";else re==="boolean"?re="undefined":re==="function"&&(U=U.toString(),re="string");J=ue(null,re,ee),Ke[J.code](U)}function X(){B(t,a)}function ae(U,re){var ee=typeof U;if(ee==="object"){if(!U)return B(t,a)}else return ee==="string"?y(U):ee==="number"&&(U>>>0===U||U>0&&U<70368744177664&&U%1===0)?B(i,U):z(U);var ne=U,le=ne.constructor,me;if(ne[Le])return ye(U);if(le===Object)me=!1;else{if(le===Array)return J=ue(J.key,"array"),Ke[J.code](U);if(ne.then)return ye(U);if(Ue=Y.get(le),Ue){if(Ue.toValue)return z(ne)}else{if(ne[M])return J=ue(J.key,"array"),fe(ne,re);Y.set(le,Ue={name:le.name})}J.constructs!==le&&(B(t,g),y(Ue.name),J.constructs=le),me=!0}var Z=J;Z.resetTo<Z.length&&Z.serializer!=we&&(Z.length=Z.resetTo,Z.serializer=we),G();var he=0,Ce=-2,be=0;for(var Xe in ne)if(!(me&&!ne.hasOwnProperty(Xe))){var U=ne[Xe];ee=typeof U,J=Z[be];var le,Ue=!1;if(ee==="object"&&(U?(le=U.constructor,le===Object||(le===Array?ee="array":(Ue=Y.get(le),Ue&&Ue.toValue?(U=Ue.toValue(U),ee=typeof U,U&&ee==="object"&&U.constructor===Array&&(ee="array")):U[M]&&!U.then?ee="array":Ue=!1))):ee="undefined"),!J||J.key!==Xe||J.type!==ee&&ee!=="boolean"&&ee!=="undefined"&&!(ee==="string"&&J.type!=="number")||Ue&&J.extendedType!==le){var st=be;Ce>-2&&(be=Ce);do J=Z[++be];while(J&&(J.key!==Xe||J.type!==ee&&ee!=="boolean"&&ee!=="undefined"&&!(ee==="string"&&J.type!=="number")||Ue&&J.extendedType!==le));if(J)B(e,be),Ce===-2&&(Ce=st-1);else if(Z.getProperty)J=Z.getProperty(U,Xe,ee,Ue,ue,B,st),be=J.index,st!==be&&Ce===-2&&(Ce=st-1);else{if(st===Z.length?be=st:(B(e,be=Z.length),Ce===-2&&(Ce=st-1)),be<Z.resetTo){debugger;throw new Error("overwriting frozen property")}J=Z[be]=ue(Xe,ee,Ue)}}ie&&ie(J,ne,we,he);var sr=J.code;sr>7?sr===8?E(U):D(U):sr===6?ae(U):ve(U),be++,he++}J=Z,W(he)}function ue(U,re,ee){var ne;return ne=[],ne.key=U,ne.type=re,re==="string"?(B(t,m),ne.values=[],ne.code=m):re==="number"?(B(t,b),ne.code=b):re==="object"?(B(t,d),ne.code=d):re==="array"?(B(t,f),ne.code=f):re==="boolean"||re==="undefined"?(ne.type="object",B(t,d),ne.code=d):(B(t,d),ne.code=10,console.error("Unable to write value of type "+re)),typeof U=="string"?y(U):U===null&&(re==="object"||re==="array")||ae(U),ee&&(ne.extendedType=ee,B(t,g),y(ee.name)),ne}function fe(U,re,ee){try{ee||(B(s,T),ee=U[M]());var ne=J;J=ne.child||(ne.child=ne);for(var le;!(le=ee.next()).done;)if(Ke[J.code](le.value,ne),re&&K.hasWritten){K.hasWritten=!1,J=ne,ge.unshift({then:function(me){return fe(null,!0,ee),me()}});return}}catch(me){throw B(t,g),B(i,h),ae(Object.assign(new(typeof me=="object"&&me?me.constructor:Error),{name:me&&me.name,message:me&&me.message||me})),me}J!==ne.child&&(ne.child=J),J=ne,B(s,j)}function ve(U){if(!U)z(U);else{if(U[Le])return ye(U);if(U.constructor===Array){var re=U.length,ee;re>11?(B(s,T),ee=!0):B(s,re);var ne=J;J=ne[0],ne.resetTo<ne.length&&ne.serializer!=we&&(ne.length=ne.resetTo,ne.serializer=we);for(var le=0,me=0;me<re;me++){var Z=U[me],he=typeof Z;if(he==="object")if(Z){var Ce=Z.constructor;if(Ce!==Object)if(Ce===Array)he="array";else{var be=Y.get(Ce);be&&be.toValue?(Z=be.toValue(Z),he=typeof Z,Z&&he==="object"&&Z.constructor===Array&&(he="array")):be=!1}}else he="undefined";if(!J)ne.getProperty?J=ne.getProperty(Z,null,he,be,ue,B,0):(he==="string"||he==="number"||he==="array"?J=ue(null,he,be):(J=[],J.type=he,J.key=null,J.code=d),ne[0]=J);else if(J.type!==he&&he!=="boolean"&&he!=="undefined"&&!(he==="string"&&J.type!=="number")||be&&J.extendedType!==Ce){le=-1;do J=ne[++le];while(J&&(J.type!==he&&he!=="boolean"&&he!=="undefined"&&!(he==="string"&&J.type!=="number")||be&&J.extendedType!==Ce));J?B(e,le):ne.getProperty?J=ne.getProperty(Z,null,he,be,ue,B,-1):(B(e,le),J=ue(null,he,be),ne[le]=J)}ie&&ie(J,U,we,me);var Xe=J.code;Xe>7?Xe===8?E(Z):D(Z):Xe===6?ae(Z):ve(Z)}ee&&B(s,j),J=ne}else{if(typeof U=="object"&&U[M])return fe(U);if(he==="string")return y(Z);if(he==="number"&&(Z>>>0===Z||Z>0&&Z<70368744177664&&Z%1===0))return B(i,Z);z(U)}}}function ye(U,re){B(s,S);var ee=J,ne=U[Le]?{then:le}:{then:function(me){return U.then(function(Z){U=Z,le(me)},function(Z){U=Object.assign(new(typeof Z=="object"&&Z?Z.constructor:Error),{name:Z&&Z.name,message:Z&&Z.message||Z}),ee.upgrade||(B(t,g),B(i,h)),le(me)})}};function le(me){if(q.forBlock&&U)q.forBlock(U,ee);else{var Z=U&&U[je]&&U[je](ee);if(Z)te(Z);else{J=ee;var he=ge;ge=[],ae(U,!0),he.unshift.apply(he,ge),ge=he}}me()}ge.push(ne)}var _e={serialize:function(U,re){var ee=U&&U[je]&&U[je](re);if(ee){K.writeBuffer(ee);return}re?(J=re,Ke[J.code](U)):(J=[],J.key=null,ae(U,!0))},getSerialized:function(){if(ge.length>0){for(var U=[];ge.length>0;){var re=!1,ee=ge.shift().then(function(){re=!0});re||U.push(ee)}if(U.length>0)return Promise.all(U).then(function(){return _e.getSerialized()})}return q&&q.encoding==="utf16le"?Buffer.from(K.getSerialized(),"utf16le"):K.getSerialized()},flush:K.flush,setOffset:K.setOffset,finish:K.finish,pendingEncodings:ge,getWriters:function(){return{writeProperty:ue,writeToken:B,writeAsDefault:ae,writeBuffer:te}}};return _e}function C(q,Y){var K=O(Y),V=Y&&Y.shared,B;V&&V.startWrite&&V.startWrite(Y.avoidShareUpdate,q),K.serialize(q,V),B=K.getSerialized(),V&&V.endWrite&&V.endWrite(Y.avoidShareUpdate,q),K.finish&&K.finish();var G=q&&q[r.sizeTableSymbol];return G&&(B.sizeTable=G),Y&&Y.lazy?Buffer.concat([q[r.sizeTableSymbol],B]):B}r.serialize=C,r.createSerializer=O;function v(){var q="";function Y(B,G){var W;if(G<16)W=String.fromCharCode((B<<4|G)^64);else if(G<1024)W=String.fromCharCode((B<<4)+(G>>>6),(G&63)+64);else if(G<65536)W=String.fromCharCode((B<<4)+(G>>>12),G>>>6&63,(G&63)+64);else if(G<4194304)W=String.fromCharCode((B<<4)+(G>>>18),G>>>12&63,G>>>6&63,(G&63)+64);else if(G<268435456)W=String.fromCharCode((B<<4)+(G>>>24),G>>>18&63,G>>>12&63,G>>>6&63,(G&63)+64);else if(G<4294967296)W=String.fromCharCode((B<<4)+(G>>>30),G>>>24&63,G>>>18&63,G>>>12&63,G>>>6&63,(G&63)+64);else if(G<17179869184)W=String.fromCharCode((B<<4)+(G/1073741824>>>0),G>>>24&63,G>>>18&63,G>>>12&63,G>>>6&63,(G&63)+64);else if(G<1099511627776)W=String.fromCharCode((B<<4)+(G/68719476736>>>0),G/1073741824&63,G>>>24&63,G>>>18&63,G>>>12&63,G>>>6&63,(G&63)+64);else if(G<70368744177664)W=String.fromCharCode((B<<4)+(G/4398046511104>>>0),G/68719476736&63,G/1073741824&63,G>>>24&63,G>>>18&63,G>>>12&63,G>>>6&63,(G&63)+64);else throw new Error("Too big of number");q+=W}function K(B){q+=B}function V(){return q}return{writeToken:Y,writeString:K,getSerialized:V,startSequence:function(){Y(s,T)},endSequence:function(){Y(s,j)},getOffset:function(){return-1}}}var A=Array.from||function(q,V){var K=[],V=q.constructor===Map;return q.forEach(function(B,G){V?K.push([G,B]):K.push(B)}),K};function I(q){for(var Y=A(q),K=0,V=Y.length;K<V;K++){var B=Y[K];Y[K]={key:B[0],value:B[1]}}return Y}function N(q){return A(q)}function L(q){return q.getTime()}})($r);var Ns={},$m=3,zm=4,La=6,Ua=7,Ma=8,$a=9,za=11,Bm=13,Zm=14,Vm=500,Fm=12,Km=14,qm=15;function Ru(r){r||(r={});var e,t,n,i=r.classByName||new Map;i.set("Map",Hm),i.set("Set",Wm),i.set("Date",Gm);var s,a;function o(g,_){if(g.previous=s,g.resume=!0,s=g,!n)throw new Error("Unexpected end of dpack stream");return b.onResume||(b.onResume=function(h,T,j){var S=s;return s=null,b.onResume=null,_<t.length?t=t.slice(_)+h:j?t=h.slice(0,1)+h.slice(1):t=h,n=T,f+=_,e=0,S.reader?S.reader(S):u(S.length,S)}),g.object}function u(g,_){var h=0;_=_||[];var T,j,S,R,M=0,O=0;if(_.resume){if(T=_.previous,T){var R=T.reader?T.reader(T):u(T.length,T),C=T.values;C&&(s?s.values=C:R.nextPosition>-1?C[C.nextPosition++]=R:C.push(R))}_.code&&_.code!==_.thisProperty.code?_.resume=!1:(M=_.i||0,S=_.object,h=_.propertyState||0,O=_.propertyIndex||0,_=_.thisProperty)}for(j=_.code===Ua,S=S||(_.constructs?new _.constructs:j?[]:{});M<g;){var v,A,I=e,N=t.charCodeAt(e++);if(N>=48)N>12288?(v=N>>>12^4,A=N&4095):(v=N>>>4^4,A=N&15);else if(v=N>>>4&11,A=N&15,N=t.charCodeAt(e++),A=(A<<6)+(N&63),!(N>=64)&&(N=t.charCodeAt(e++),A=(A<<6)+(N&63),!(N>=64)&&(N=t.charCodeAt(e++),A=(A<<6)+(N&63),!(N>=64)&&(N=t.charCodeAt(e++),A=(A<<6)+(N&63),!(N>=64)&&(N=t.charCodeAt(e++),A=A*64+(N&63),!(N>=64)&&(N=t.charCodeAt(e++),A=A*64+(N&63),!(N>=64)&&(N=t.charCodeAt(e++),A=A*64+(N&63),!(N>=0)&&e>t.length)))))))return o({length:g,thisProperty:_,i:M,object:S,propertyIndex:O,propertyState:h},I);if(v===0){O=A,h=0;continue}if(T=_[O],v===3)if(A<6)A<3?A===0?R=null:R="Unknown token, type: "+v+" number: "+A:A===zm?R=!0:A===$m?R=!1:R=void 0;else{if(A<=$a){if(h===1&&(O++,M++,T=_[O]),O<_.resetTo)throw new Error("Overwriting frozen property");T?T.resume||(R=T.key,T=_[O]=[],T.key=R):(T=_[O]=[],T.key=null),T.code=A,T.parent=_,h=2,A===Ma?T.values=[]:A===Ua&&(T[0]=[],T[0].key=null,T[0].code=La,T[0].parent=T)}else h=A;continue}else if(v===2){if(R=t.slice(e,e+=A),e>t.length)return o({length:g,thisProperty:_,i:M,object:S,propertyIndex:O,propertyState:h},I);h<2&&T.code===$a&&(R=+R)}else if(v===1)R=A;else if(A>13){if(A===Km)return S;A===qm&&(R=u(0,T),h=0,r.forDeferred?R=r.forDeferred(R,T):(a||(a=[])).push({property:T,value:R}))}else if(A>=Fm&&(A=2e9),h>1?h===2?(h=0,R=u(A,T)):h===za?R=u(A,[{key:null,code:6}]):T.resume&&(T.code||La)===T.thisProperty.code?R=u(A,T.thisProperty):R=u(A,T):R=u(A,T),s){if(R===void 0)return s=null,b.onResume=null,o({length:g,thisProperty:_,i:M,object:S,property:T,propertyIndex:O,previousProperty,propertyState:h},I);s.values=T.values instanceof Array?T.values:void 0}if(!T)throw new Error("No property defined for slot"+(_.key?" in "+_.key:""));if(h<2&&T&&T.code===Ma){var C=T.values;if(typeof R=="number"){if(R=C[A],R===void 0&&!(A in C))throw new Error("Referencing value that has not been read yet")}else(v===2||v===7)&&C&&(C.nextPosition>-1?(T.recordValueReference&&T.recordValueReference(C),C[C.nextPosition++]=R):C.push(R))}if(h>1){if(h===2)T.key=R;else if(h===za)if(typeof R=="string"){var L=i.get(R);if(L)L.fromValue?T.fromValue=L.fromValue:T.constructs=L;else if(r.errorOnUnknownClass)throw new Error("Attempt to deserialize to unknown class "+parameter);T.extendedType=L}else T.metadata=R,R===Vm&&(T.fromValue=d);else if(h===Bm){var C=T.values||(T.values=[]);C.nextPosition=R}else if(h!==Zm)throw new Error("Unknown property type "+h);h=1;continue}else h=0;T.fromValue&&(R=T.fromValue(R)),j&&T.key===null?S.push(R):R!==void 0&&(S[T.key]=R),M++,j||O++}return S}var c;function d(g){var _=typeof Ie<"u"?Ie:window;if(g&&g.name&&_[g.name]?g=new _[g.name](g.message):typeof g=="string"&&(g=new Error(g)),r.onError)r.onError(g);else throw c=!0,g}var f=0;function m(g){try{if(g&&g.resume){var _=g.previous;h=u(_.length,_),h=g.object||h,g=g.property}else{g=g||[r&&r.shared||{key:null,code:6}];var h=u(1,g)[g[0].key]}for(;;){if(s)return o({reader:m,object:h,property:g});if(!a)return h;var T=a.index||0,j=a[T];if(a.index=T+1,!j){a=a.parent;continue}var S=j.value,R=a;a=[],a.parent=R;var M=j.property,O=u(1,g=[{resume:!0,key:null,thisProperty:M,object:S}]);O=O.null||O[M.key],O!=S&&(Object.assign(S,O),s&&s.object===O&&(s.object=S),O&&O.constructor===Array&&(S.length=O.length,Object.setPrototypeOf(S,Object.getPrototypeOf(O))))}}catch(C){throw c||(C.message="DPack parsing error: "+C.message+" at position: "+(e+f)+" near: "+t.slice(e-10,e+10)),C}}var b={setSource:function(g,_,h){return t=g,e=_||0,f=0,n=h,this},hasMoreData:function(){return t.length>e},isPaused:function(){return s},hasUnfulfilledReferences:function(){return a&&a.length>a.index},getOffset:function(){return e+f},read:m};return b}Ns.parse=function(r,e){var t;if(typeof r=="string")t=r;else if(r&&r.toString)t=r.toString(e&&e.encoding||"utf8");else return r;var n=Ru(e).setSource(t);return e&&e.shared?n.read([e.shared]):n.read()};Ns.createParser=Ru;var Hm={fromValue:function(r){for(var e=new Map,t=0,n=r.length;t<n;t++){var i=r[t];e.set(i.key,i.value)}return e}},Wm={fromValue:function(r){var e=new Set(r);if(e.size===0&&r.length>0)for(var t=0,n=r.length;t<n;t++)e.add(r[t]);return e}},Gm={fromValue:function(r){return new Date(r)}};xc.Transform;var Du={},Ba=32768,Za=[];function Ym(r){var e=r.startOffset||0,t,n=r.outlet,i=Za.pop();i&&i.length>e+128?t=i.length:(t=(e>>12<<12)+8192,i=Buffer.allocUnsafeSlow(t));var s=r.encoding,a=[];function o(_){if(n)n.writeBytes(i.slice(0,e)),(t<Ba||_>Ba)&&(t=Math.max(t*4,_)),i=Buffer.allocUnsafeSlow(t),e=0,a=[],g.hasWritten=!0;else{t=Math.max(t*4,t+_,8192);var h=i;i=Buffer.allocUnsafeSlow(t),h.copy(i,0,0,e)}}function u(_){(_||n).writeBytes(i.slice(0,e)),e+128>i.length?i=Buffer.allocUnsafeSlow(t=Math.min(Math.max((e>>10<<10)+8192,t),32768)):(i=i.slice(e),t=i.length),e=0,a=[]}function c(_,h){if(h<16)i[e++]=(_<<4)+h^64;else if(h<1024)i[e++]=(_<<4)+(h>>>6),i[e++]=(h&63)+64;else if(h<65536)i[e++]=(_<<4)+(h>>>12),i[e++]=h>>>6&63,i[e++]=(h&63)+64;else if(h<4194304)i[e++]=(_<<4)+(h>>>18),i[e++]=h>>>12&63,i[e++]=h>>>6&63,i[e++]=(h&63)+64;else if(h<268435456)i[e++]=(_<<4)+(h>>>24),i[e++]=h>>>18&63,i[e++]=h>>>12&63,i[e++]=h>>>6&63,i[e++]=(h&63)+64;else if(h<4294967296)i[e++]=(_<<4)+(h>>>30),i[e++]=h>>>24&63,i[e++]=h>>>18&63,i[e++]=h>>>12&63,i[e++]=h>>>6&63,i[e++]=(h&63)+64;else if(h<17179869184)i[e++]=(_<<4)+(h/1073741824>>>0),i[e++]=h>>>24&63,i[e++]=h>>>18&63,i[e++]=h>>>12&63,i[e++]=h>>>6&63,i[e++]=(h&63)+64;else if(h<1099511627776)i[e++]=(_<<4)+(h/68719476736>>>0),i[e++]=h/1073741824&63,i[e++]=h>>>24&63,i[e++]=h>>>18&63,i[e++]=h>>>12&63,i[e++]=h>>>6&63,i[e++]=(h&63)+64;else if(h<70368744177664)i[e++]=(_<<4)+(h/4398046511104>>>0),i[e++]=h/68719476736&63,i[e++]=h/1073741824&63,i[e++]=h>>>24&63,i[e++]=h>>>18&63,i[e++]=h>>>12&63,i[e++]=h>>>6&63,i[e++]=(h&63)+64;else throw new Error("Invalid number "+h);e>t-10&&o(0)}function d(_){var h=_.length;h+e+10>t&&o(h+10),_.copy(i,e),e+=h}function f(_){var h=_.length,T=h*3+10;e+T>t&&o(T+10);var j=s?i.write(_,e,i.length,s):i.utf8Write(_,e,i.length);e+=j}function m(){return i.slice(0,e)}function b(_,h){var T=_.length;e+T+10>t&&o(T+10),i.copy(i,T+h,h,e),_.copy(i,h),e+=T}var g={writeToken:c,writeString:f,writeBuffer:d,getSerialized:m,insertBuffer:b,flush:u,startSequence(){var _=e;i[e++]=60,a.push(_),e>t-10&&o(0)},endSequence(_){var h=a.pop();if(_<12&&h>-1){i[h]=48+_;return}i[e++]=62},finish(){i.length-e>144&&Za.push(i.slice(e))},getOffset(){return e},setOffset(_){e=_}};return g}Du.nodeCharEncoder=Ym;function Jm(){this.classByName=new Map,this.converterByConstructor=new Map}Jm.prototype.addExtension=function(r,e,t){e&&r.name!==e&&(r.name=e),this.classByName.set(r.name,t&&t.fromArray?t:r),this.converterByConstructor.set(r,t&&t.toArray?t:r)};$r.createSerializer;$r.serialize;var Rs=typeof Symbol<"u"?Symbol:function(r){return"symbol-"+r},Xm=Rs("buffer"),Qm=Rs("sizeTable"),eg=Rs("target");process.env.NODE_ENV!="production";var zr=$r;zr.bufferSymbol=Xm;zr.targetSymbol=eg;zr.sizeTableSymbol=Qm;zr.serialize;zr.createSerializer;const Ds=$r;Ds.nodeCharEncoder=Du.nodeCharEncoder;const tg=Ns;var rg=Ds.serialize,ng=tg.parse;Ds.createSerializer;function ju(r){return`Unsupported serialization format: ${r}`}function Lu(){return typeof process<"u"&&process.versions!==void 0?"node":typeof Deno<"u"?"deno":typeof Bun<"u"?"bun":typeof window<"u"?"browser":"unknown"}const Yi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15},Va=Object.keys(Yi);function ig(r){const e=new Uint8Array(Math.floor(r.length/2));r=r.toLowerCase();for(let t=0;t<r.length;t++){const n=Yi[r[t*2]],i=Yi[r[t*2+1]];if(n===void 0||i===void 0)break;e[t]=n<<4|i}return e}function sg(r){return Array.from(r||[]).map(e=>Va[e>>4]+Va[e&15]).join("")}async function ag(r,e="binary",t){t||(t=Lu());const n=await em(r);let i;switch(e){case"json":i=JSON.stringify(n);break;case"dpack":i=rg(n);break;case"binary":{const s=Om(n);t==="node"?(i=Buffer.from(s.buffer,s.byteOffset,s.byteLength),i=i.toString("hex")):i=sg(s)}break;default:throw new Error(ju(e))}return i}async function og(r,e,t){t||(t=Lu());const n=await Pu({schema:{__placeholder:"string"}});let i;switch(r){case"json":i=JSON.parse(e.toString());break;case"dpack":i=ng(e);break;case"binary":t==="node"?e=Buffer.from(e.toString(),"hex"):e=ig(e),i=Mm(e);break;default:throw new Error(ju(r))}return await Qp(n,i),n}class ug extends Se{constructor(e){super(e),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callbacks=e==null?void 0:e.callbacks,this.tags=(e==null?void 0:e.tags)??[],this.metadata=(e==null?void 0:e.metadata)??{},this.verbose=(e==null?void 0:e.verbose)??!1}_getRelevantDocuments(e,t){throw new Error("Not implemented!")}async invoke(e,t){return this.getRelevantDocuments(e,t)}async getRelevantDocuments(e,t){const n=ed(t),i=await Ve.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),s=await(i==null?void 0:i.handleRetrieverStart(this.toJSON(),e,void 0,void 0,void 0,void 0,n.runName));try{const a=await this._getRelevantDocuments(e,s);return await(s==null?void 0:s.handleRetrieverEnd(a)),a}catch(a){throw await(s==null?void 0:s.handleRetrieverError(a)),a}}}class Ci extends ug{static lc_name(){return"VectorStoreRetriever"}get lc_namespace(){return["langchain","retrievers","base"]}_vectorstoreType(){return this.vectorStore._vectorstoreType()}constructor(e){super(e),Object.defineProperty(this,"vectorStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"k",{enumerable:!0,configurable:!0,writable:!0,value:4}),Object.defineProperty(this,"searchType",{enumerable:!0,configurable:!0,writable:!0,value:"similarity"}),Object.defineProperty(this,"searchKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.vectorStore=e.vectorStore,this.k=e.k??this.k,this.searchType=e.searchType??this.searchType,this.filter=e.filter,e.searchType==="mmr"&&(this.searchKwargs=e.searchKwargs)}async _getRelevantDocuments(e,t){if(this.searchType==="mmr"){if(typeof this.vectorStore.maxMarginalRelevanceSearch!="function")throw new Error(`The vector store backing this retriever, ${this._vectorstoreType()} does not support max marginal relevance search.`);return this.vectorStore.maxMarginalRelevanceSearch(e,{k:this.k,filter:this.filter,...this.searchKwargs},t==null?void 0:t.getChild("vectorstore"))}return this.vectorStore.similaritySearch(e,this.k,this.filter,t==null?void 0:t.getChild("vectorstore"))}async addDocuments(e,t){return this.vectorStore.addDocuments(e,t)}}class cg extends _t{constructor(e,t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","vectorstores",this._vectorstoreType()]}),Object.defineProperty(this,"embeddings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.embeddings=e}async delete(e){throw new Error("Not implemented.")}async similaritySearch(e,t=4,n=void 0,i=void 0){return(await this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(e),t,n)).map(a=>a[0])}async similaritySearchWithScore(e,t=4,n=void 0,i=void 0){return this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(e),t,n)}static fromTexts(e,t,n,i){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}static fromDocuments(e,t,n){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}asRetriever(e,t,n,i,s,a){if(typeof e=="number")return new Ci({vectorStore:this,k:e,filter:t,tags:[...i??[],this._vectorstoreType()],metadata:s,verbose:a,callbacks:n});{const o={vectorStore:this,k:e==null?void 0:e.k,filter:e==null?void 0:e.filter,tags:[...(e==null?void 0:e.tags)??[],this._vectorstoreType()],metadata:e==null?void 0:e.metadata,verbose:e==null?void 0:e.verbose,callbacks:e==null?void 0:e.callbacks,searchType:e==null?void 0:e.searchType};return(e==null?void 0:e.searchType)==="mmr"?new Ci({...o,searchKwargs:e.searchKwargs}):new Ci({...o})}}}class lg{constructor(e){Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.caller=new zn(e??{})}}class dg extends lg{constructor(e,t){var c,d;const n={maxConcurrency:2,...e};super(n),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"text-embedding-ada-002"}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:512}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let i=(n==null?void 0:n.openAIApiKey)??ce("OPENAI_API_KEY");const s=(n==null?void 0:n.azureOpenAIApiKey)??ce("AZURE_OPENAI_API_KEY");if(!s&&!i)throw new Error("OpenAI or Azure OpenAI API key not found");const a=(n==null?void 0:n.azureOpenAIApiInstanceName)??ce("AZURE_OPENAI_API_INSTANCE_NAME"),o=((n==null?void 0:n.azureOpenAIApiEmbeddingsDeploymentName)||(n==null?void 0:n.azureOpenAIApiDeploymentName))??(ce("AZURE_OPENAI_API_EMBEDDINGS_DEPLOYMENT_NAME")||ce("AZURE_OPENAI_API_DEPLOYMENT_NAME")),u=(n==null?void 0:n.azureOpenAIApiVersion)??ce("AZURE_OPENAI_API_VERSION");if(this.azureOpenAIBasePath=(n==null?void 0:n.azureOpenAIBasePath)??ce("AZURE_OPENAI_BASE_PATH"),this.modelName=(n==null?void 0:n.modelName)??this.modelName,this.batchSize=(n==null?void 0:n.batchSize)??(s?1:this.batchSize),this.stripNewLines=(n==null?void 0:n.stripNewLines)??this.stripNewLines,this.timeout=n==null?void 0:n.timeout,this.azureOpenAIApiVersion=u,this.azureOpenAIApiKey=s,this.azureOpenAIApiInstanceName=a,this.azureOpenAIApiDeploymentName=o,this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");i=i??""}this.clientConfig={apiKey:i,baseURL:t==null?void 0:t.basePath,dangerouslyAllowBrowser:!0,defaultHeaders:(c=t==null?void 0:t.baseOptions)==null?void 0:c.headers,defaultQuery:(d=t==null?void 0:t.baseOptions)==null?void 0:d.params,...t}}async embedDocuments(e){const t=qi(this.stripNewLines?e.map(a=>a.replace(/\n/g," ")):e,this.batchSize),n=t.map(a=>this.embeddingWithRetry({model:this.modelName,input:a})),i=await Promise.all(n),s=[];for(let a=0;a<i.length;a+=1){const o=t[a],{data:u}=i[a];for(let c=0;c<o.length;c+=1)s.push(u[c].embedding)}return s}async embedQuery(e){const{data:t}=await this.embeddingWithRetry({model:this.modelName,input:this.stripNewLines?e.replace(/\n/g," "):e});return t[0].embedding}async embeddingWithRetry(e){if(!this.client){const n={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=Kn(n),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new Pe(s)}const t={};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),this.caller.call(async()=>{try{return await this.client.embeddings.create(e,t)}catch(n){throw qn(n)}})}}class fg extends Se{parseResultWithPrompt(e,t,n){return this.parseResult(e,n)}async invoke(e,t){return typeof e=="string"?this._callWithConfig(async n=>this.parseResult([{text:n}]),e,{...t,runType:"parser"}):this._callWithConfig(async n=>this.parseResult([{message:n,text:n.content}]),e,{...t,runType:"parser"})}}class hg extends fg{parseResult(e,t){return this.parse(e[0].text,t)}async parseWithPrompt(e,t,n){return this.parse(e,n)}_type(){throw new Error("_type not implemented")}}class pg extends hg{async*_transform(e){for await(const t of e)typeof t=="string"?yield this.parseResult([{text:t}]):yield this.parseResult([{message:t,text:t.content}])}async*transform(e,t){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...t,runType:"parser"})}}class mg extends pg{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","output_parser"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"StrOutputParser"}parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}}var gg={id:"string",filename:"string",content:"string",embedding:"vector[1536]"},yg=class extends cg{constructor(r,e){super(r,e),this.embeddings=r,this.db=Pu({schema:gg,id:e.indexName})}_vectorstoreType(){return"OramaStore"}async removeDocuments(r){console.log("Removing documents",r);const e=await Sa(await this.db,r.map(t=>t.metadata.id));console.log("Removed documents with ids",e)}async addVectors(r,e){const n=e.map(a=>a.metadata.filename).filter((a,o,u)=>u.indexOf(a)===o);for(const a of n){const o=await Gp(await this.db,{properties:["filename"],term:a,exact:!0,limit:1e4});console.log("Removed documents",o,"for filename",a),await Sa(await this.db,o.hits.map(u=>u.document.id))}const i=e.map((a,o)=>({id:a.metadata.id,filename:a.metadata.filename,content:a.pageContent,embedding:r[o]})),s=await $p(await this.db,i);return console.log("Inserted documents with ids",s),s}async addDocuments(r){await this.addVectors(await this.embeddings.embedDocuments(r.map(e=>e.pageContent)),r),console.log((await this.db).data.docs)}static async fromDocuments(r,e,t){const n=new this(e,t);return await n.addDocuments(r),n}async similaritySearchVectorWithScore(r,e){return(await Xp(await this.db,{vector:r,property:"embedding",limit:e,similarity:.3})).hits.map(n=>[new $f({pageContent:n.document.content}),n.score])}async getJson(){return await ag(await this.db,"json")}async loadFromJson(r){this.db=og("json",r),console.log("Loaded vector store from JSON",await this.db)}},bg=class{constructor(r){if(!r.openAIApiKey)throw new Error("No OpenAI API key provided");this.vectorStore=new yg(new dg({openAIApiKey:r.openAIApiKey,batchSize:2048}),{indexName:"obsidiandb"}),r.vectorStoreJson&&this.vectorStore.loadFromJson(r.vectorStoreJson),this.retriever=this.vectorStore.asRetriever({k:7});const e=new Os({openAIApiKey:r.openAIApiKey}),t=vt.fromTemplate(`Antworte als mein Assistent auf meine Frage ausschließlich basierend auf meinem Wissen im folgenden Markdown formatierten Kontext. Bitte erstelle links im folgenden format [[<Notename>#<Header1>##<Header2>###...]] aus den Note Headern und füge sie deiner Antwort als Referenz bei:
        {context}

        Frage: {question}`);this.ragChain=Dt.from([{context:this.retriever.pipe(n=>n.map(i=>i.pageContent).join(`

`)),question:new bd},t,e,new mg])}async embedDocuments(r){console.log("Embedding documents..."),await this.vectorStore.addDocuments(r),console.log("Done embedding documents")}async removeDocuments(r){await this.vectorStore.removeDocuments(r)}async runRAG(r){return console.log("Running RAG..."),this.ragChain.invoke(r,{callbacks:[{handleRetrieverEnd:async t=>{console.log(JSON.stringify(t,null,2))},handleLLMStart:async(t,n)=>{console.log(JSON.stringify(n,null,2))},handleLLMEnd:async t=>{console.log(JSON.stringify(t,null,2))},handleLLMError:async t=>{console.error(t)}}]})}async retrieveDocuments(r){return await this.vectorStore.similaritySearch(r,3)}async getVectorStoreJson(){return await this.vectorStore.getJson()}static async loadFromData(r){return new this(r)}};async function ki(r,e){let t=[];for(const n of e){const i=r.metadataCache.getFileCache(n);if(!i)continue;t.push({metadata:{id:n.basename+" metadata",filename:n.basename},pageContent:"Note: "+n.basename+`
Erstellt am: `+new Date(n.stat.ctime)+`
Metadaten: `+JSON.stringify(i.frontmatter||{})});const s=await r.vault.cachedRead(n);let a=0,o=0,u=[];u.push(n.basename);let c=0;for(const d of i.sections||[])if(d.type==="heading"){const f=i.headings[a];f.level>c?(u.push(s.slice(f.position.start.offset,f.position.end.offset)),c=f.level):f.level<c?(u.pop(),u.pop(),u.push(s.slice(f.position.start.offset,f.position.end.offset)),c=f.level):(u.pop(),u.push(s.slice(f.position.start.offset,f.position.end.offset))),o=0,a++}else t.push({metadata:{id:u.join("")+" ID"+o,filename:n.basename},pageContent:"Notename: "+u.join(`
`)+`
`+s.slice(d.position.start.offset,d.position.end.offset)}),o++}return console.log("Loaded "+t.length+" documents from Obsidian",t),t}let en=is([{role:"system",content:"Hi, this is your Second Brain!",context:null}]),Ar=is();const Uu=is();function vg(r){let e,t,n,i,s,a,o,u;return s=new Jc({}),{c(){e=We("form"),t=We("input"),n=Lt(),i=We("button"),wt(s.$$.fragment),Ae(t,"id","chat-view-user-input-element"),Ae(t,"type","text"),Ae(t,"class","flex-1"),Ae(t,"placeholder",wg),Ae(i,"type","submit"),Ae(i,"class","px-4 py-2 rounded-r-md hover:bg-primary transition duration-300 ease-in-out"),Ae(e,"class","sticky flex w-full gap-1")},m(c,d){tt(c,e,d),Ne(e,t),zs(t,r[0]),Ne(e,n),Ne(e,i),mt(s,i,null),a=!0,o||(u=[Gt(t,"input",r[3]),Gt(t,"keyup",r[2]),Gt(e,"submit",Li(r[1]))],o=!0)},p(c,[d]){d&1&&t.value!==c[0]&&zs(t,c[0])},i(c){a||(He(s.$$.fragment,c),a=!0)},o(c){Ye(s.$$.fragment,c),a=!1},d(c){c&&Ge(e),gt(s),o=!1,It(u)}}}let wg="Chat with your second Brain...";function _g(r,e,t){let n;Di(r,en,c=>t(5,n=c));let i="",s;async function a(){if(s){new Be.Notice("Please wait while your Second Brain is thinking...");return}if(s=!0,document.getElementById("chat-view-user-input-element"),i.trim()!==""){let c=i;t(0,i=""),en.update(d=>[...d,{role:"user",content:c}]),console.log(n),Ar.subscribe(async d=>{const f=await d.runRAG(c);f&&en.update(m=>[...m,{role:"assistant",content:f}])})}else new Be.Notice("Your Second Brain does not understand empty messages!");s=!1}function o(c){c.key==="["&&new js(app).open()}function u(){i=this.value,t(0,i)}return[i,a,o,u]}class Mu extends $t{constructor(e){super(),Mt(this,e,_g,vg,At,{})}}class Ig extends Be.Modal{constructor(t){super(t);Ee(this,"component");Ee(this,"onSubmit")}onOpen(){this.component=new Mu({target:this.contentEl})}async onClose(){this.component.$destroy()}}function Ag(r){let e;return{c(){e=Rr("path"),Ae(e,"d","M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z")},m(t,n){tt(t,e,n)},p:Ze,d(t){t&&Ge(e)}}}function Eg(r){let e,t;const n=[{viewBox:"0 0 24 24"},r[0]];let i={$$slots:{default:[Ag]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=ft(i,n[s]);return e=new ns({props:i}),{c(){wt(e.$$.fragment)},m(s,a){mt(e,s,a),t=!0},p(s,[a]){const o=a&1?ts(n,[n[0],rs(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){t||(He(e.$$.fragment,s),t=!0)},o(s){Ye(e.$$.fragment,s),t=!1},d(s){gt(e,s)}}}function Tg(r,e,t){return r.$$set=n=>{t(0,e=ft(ft({},e),er(n)))},e=er(e),[e]}class Pg extends $t{constructor(e){super(),Mt(this,e,Tg,Eg,At,{})}}function Og(r){let e;return{c(){e=Rr("path"),Ae(e,"d","M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z")},m(t,n){tt(t,e,n)},p:Ze,d(t){t&&Ge(e)}}}function xg(r){let e,t;const n=[{viewBox:"0 0 24 24"},r[0]];let i={$$slots:{default:[Og]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=ft(i,n[s]);return e=new ns({props:i}),{c(){wt(e.$$.fragment)},m(s,a){mt(e,s,a),t=!0},p(s,[a]){const o=a&1?ts(n,[n[0],rs(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){t||(He(e.$$.fragment,s),t=!0)},o(s){Ye(e.$$.fragment,s),t=!1},d(s){gt(e,s)}}}function Sg(r,e,t){return r.$$set=n=>{t(0,e=ft(ft({},e),er(n)))},e=er(e),[e]}class Cg extends $t{constructor(e){super(),Mt(this,e,Sg,xg,At,{})}}function Fa(r,e,t){const n=r.slice();return n[8]=e[t],n}function kg(r){let e,t,n,i,s,a,o,u,c,d,f,m,b,g;return o=new Pg({}),d=new Cg({}),{c(){e=We("div"),t=We("div"),n=We("p"),s=Lt(),a=We("button"),wt(o.$$.fragment),u=Lt(),c=We("button"),wt(d.$$.fragment),f=Lt(),Ae(n,"class","text-slate-0"),Jr(a,"background-color","transparent"),Jr(c,"background-color","transparent"),Ae(t,"id","test"),Ae(t,"class","p-2 break-words rounded-t-md rounded-br-md w-fit max-w-[80%]"),Jr(t,"background",r[1]),Ae(e,"class","mb-3")},m(_,h){tt(_,e,h),Ne(e,t),Ne(t,n),Ne(t,s),Ne(t,a),mt(o,a,null),Ne(t,u),Ne(t,c),mt(d,c,null),Ne(e,f),m=!0,b||(g=[jc(i=r[5].call(null,n,r[8].content)),Gt(a,"click",Li(function(){Wt(r[3](r[8].content))&&r[3](r[8].content).apply(this,arguments)})),Gt(c,"click",Li(function(){Wt(r[3](r[8].context))&&r[3](r[8].context).apply(this,arguments)}))],b=!0)},p(_,h){r=_,i&&Wt(i.update)&&h&1&&i.update.call(null,r[8].content)},i(_){m||(He(o.$$.fragment,_),He(d.$$.fragment,_),m=!0)},o(_){Ye(o.$$.fragment,_),Ye(d.$$.fragment,_),m=!1},d(_){_&&Ge(e),gt(o),gt(d),b=!1,It(g)}}}function Ng(r){let e,t,n,i,s;return{c(){e=We("div"),t=We("button"),n=Lt(),Ae(t,"class","p-2 break-words rounded-t-md rounded-bl-md max-w-[80%] text-slate-0"),Jr(t,"background",r[2]),Ae(e,"class","flex justify-end mb-3")},m(a,o){tt(a,e,o),Ne(e,t),Ne(e,n),i||(s=Gt(t,"click",r[4]),i=!0)},p:Ze,i:Ze,o:Ze,d(a){a&&Ge(e),i=!1,s()}}}function Ka(r,e){let t,n,i,s,a;const o=[Ng,kg],u=[];function c(d,f){return d[8].role==="user"?0:1}return n=c(e),i=u[n]=o[n](e),{key:r,first:null,c(){t=ji(),i.c(),s=ji(),this.first=t},m(d,f){tt(d,t,f),u[n].m(d,f),tt(d,s,f),a=!0},p(d,f){e=d;let m=n;n=c(e),n===m?u[n].p(e,f):(mo(),Ye(u[m],1,1,()=>{u[m]=null}),go(),i=u[n],i?i.p(e,f):(i=u[n]=o[n](e),i.c()),He(i,1),i.m(s.parentNode,s))},i(d){a||(He(i),a=!0)},o(d){Ye(i),a=!1},d(d){d&&(Ge(t),Ge(s)),u[n].d(d)}}}function Rg(r){let e,t=[],n=new Map,i,s=Vs(r[0]);const a=o=>o[8].content;for(let o=0;o<s.length;o+=1){let u=Fa(r,s,o),c=a(u);n.set(c,t[o]=Ka(c,u))}return{c(){e=We("div");for(let o=0;o<t.length;o+=1)t[o].c();Ae(e,"class","chat-window flex-grow w-full overflow-scroll border-2 border-solid roundedmd border-slate-30 mb-1 p-4")},m(o,u){tt(o,e,u);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);i=!0},p(o,[u]){u&31&&(s=Vs(o[0]),mo(),t=Vc(t,u,a,1,o,s,n,e,Zc,Ka,null,Fa),go())},i(o){if(!i){for(let u=0;u<s.length;u+=1)He(t[u]);i=!0}},o(o){for(let u=0;u<t.length;u+=1)Ye(t[u]);i=!1},d(o){o&&Ge(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function Dg(r,e,t){let n,i;Di(r,Uu,f=>t(6,n=f)),Di(r,en,f=>t(0,i=f));const s=f=>getComputedStyle(document.body).getPropertyValue(f),a=s("--color-accent"),o=s("--color-base-40");function u(f){if(!f){new Be.Notice("Only for Valid Messages! Implement that you lazy fuck!");return}Oc.clipboard.writeText(f)}function c(){const f=n.app.metadataCache.getFirstLinkpathDest("Meetingrollen","/"),m=Be.Keymap.isModEvent(event);n.app.workspace.getLeaf(m).openFile(f)}return[i,a,o,u,c,(f,m)=>{f.click=()=>{const b=n.app.metadataCache.getFirstLinkpathDest("Meetingrollen#Test","/");n.app.workspace.getLeaf(mod).openFile(b)},Be.MarkdownRenderer.render(n.app,Be.htmlToMarkdown(m),f,"",n)}]}class jg extends $t{constructor(e){super(),Mt(this,e,Dg,Rg,At,{})}}function Lg(r){let e,t,n,i,s,a,o;return i=new jg({}),a=new Mu({}),{c(){e=We("div"),t=We("h1"),t.textContent="Second Brain Interface",n=Lt(),wt(i.$$.fragment),s=Lt(),wt(a.$$.fragment),Ae(e,"class","h-full flex flex-col --background-modifier-border")},m(u,c){tt(u,e,c),Ne(e,t),Ne(e,n),mt(i,e,null),Ne(e,s),mt(a,e,null),o=!0},p:Ze,i(u){o||(He(i.$$.fragment,u),He(a.$$.fragment,u),o=!0)},o(u){Ye(i.$$.fragment,u),Ye(a.$$.fragment,u),o=!1},d(u){u&&Ge(e),gt(i),gt(a)}}}let Ug=class extends $t{constructor(e){super(),Mt(this,e,null,Lg,At,{})}};const Er="chat-view";class Mg extends Be.ItemView{constructor(t){super(t);Ee(this,"component");Ee(this,"AiBubbleColor");Ee(this,"UserBubbleColor");this.icon="message-square"}getViewType(){return Er}getDisplayText(){return"Chat view"}async onOpen(){this.component=new Ug({target:this.contentEl})}async onClose(){this.component.$destroy()}}class $g extends Be.PluginSettingTab{constructor(t,n){super(t,n);Ee(this,"plugin");this.plugin=n}display(){let{containerEl:t}=this;t.empty(),new Be.Setting(t).setName("AI Color").addExtraButton(n=>n.setIcon("reset").onClick(async()=>{this.plugin.data.AIcolor=Rn.AIcolor,await this.plugin.saveSettings()})).addColorPicker(n=>n.setValue(this.plugin.data.AIcolor).onChange(async i=>{this.plugin.data.AIcolor=i,await this.plugin.saveSettings()})),new Be.Setting(t).setName("User Color").addExtraButton(n=>n.setIcon("reset").onClick(()=>this.plugin.data.UserColor=Rn.UserColor)).addColorPicker(n=>n.setValue(this.plugin.data.UserColor).onChange(async i=>{this.plugin.data.UserColor=i,await this.plugin.saveSettings()})),new Be.Setting(t).setName("LLM").addDropdown(n=>{n.addOptions({LLama:"LLama",Anthropic:"Anthropic"}).setValue(this.plugin.data.llm).onChange(async i=>{this.plugin.data.llm=i,await this.plugin.saveSettings()})}),new Be.Setting(t).setName("OpenAI API Key").addText(n=>n.setPlaceholder("OpenAI API Key").setValue(this.plugin.data.secondBrain.openAIApiKey||"").onChange(async i=>{this.plugin.data.secondBrain.openAIApiKey=i,await this.plugin.saveSettings()}))}}const Rn={secondBrain:{openAIApiKey:"Your key"}};class zg extends Be.Plugin{constructor(){super(...arguments);Ee(this,"data")}async loadSettings(){this.data=Object.assign({},Rn,await this.loadData())}async saveSettings(){await this.saveData(this.data)}async onload(){await this.loadSettings(),Ar.set(await bg.loadFromData(this.data.secondBrain)),Uu.set(this),this.app.vault.on("modify",t=>{setTimeout(async()=>{Ar.subscribe(async n=>{const i=await ki(this.app,[t]);await n.embedDocuments(i),this.data.secondBrain.vectorStoreJson=await n.getVectorStoreJson(),await this.saveSettings()})},1e3)}),this.app.vault.on("delete",t=>{Ar.subscribe(async n=>{const i=await ki(this.app,[t]);await n.removeDocuments(i),this.data.secondBrain.vectorStoreJson=await n.getVectorStoreJson(),await this.saveSettings()})}),this.registerView(Er,t=>new Mg(t)),this.addRibbonIcon("brain-circuit","Smart Second Brain",()=>{this.activateView()}),this.addSettingTab(new $g(this.app,this)),this.addCommand({id:"chat-modal",name:"Chat with AI",callback:()=>{new Ig(this.app).open()}}),this.addCommand({id:"find-files",name:"ff",callback:()=>{new js(this.app).open()}}),this.data.embeddedAllOnce||(setTimeout(()=>{Ar.subscribe(async t=>{const n=await ki(this.app,this.app.vault.getMarkdownFiles());await t.embedDocuments(n),this.data.secondBrain.vectorStoreJson=await t.getVectorStoreJson(),await this.saveSettings()})},1e3),this.data.embeddedAllOnce=!0,await this.saveSettings())}onunload(){console.log("unloading plugin")}async activateView(){this.app.workspace.detachLeavesOfType(Er),await this.app.workspace.getRightLeaf(!1).setViewState({type:Er,active:!0}),this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(Er)[0])}}class js extends Be.FuzzySuggestModal{constructor(e){super(e),this.app=e,this.setPlaceholder("Type the name of a file...")}getItems(){return this.app.vault.getMarkdownFiles().sort((e,t)=>e.basename.localeCompare(t.basename))}getItemText(e){return e.basename}onChooseItem(e){const t=document.getElementById("chat-view-user-input-element");t.value=t.value+`[${e.basename}]]`}}var $u={},Gn={},or={},Yn={},Ji={},lt={},Jn={},Br={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getParsedType=r.ZodParsedType=r.objectUtil=r.util=void 0;var e;(function(n){n.assertEqual=o=>o;function i(o){}n.assertIs=i;function s(o){throw new Error}n.assertNever=s,n.arrayToEnum=o=>{const u={};for(const c of o)u[c]=c;return u},n.getValidEnumValues=o=>{const u=n.objectKeys(o).filter(d=>typeof o[o[d]]!="number"),c={};for(const d of u)c[d]=o[d];return n.objectValues(c)},n.objectValues=o=>n.objectKeys(o).map(function(u){return o[u]}),n.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const u=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&u.push(c);return u},n.find=(o,u)=>{for(const c of o)if(u(c))return c},n.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function a(o,u=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(u)}n.joinValues=a,n.jsonStringifyReplacer=(o,u)=>typeof u=="bigint"?u.toString():u})(e=r.util||(r.util={})),function(n){n.mergeShapes=(i,s)=>({...i,...s})}(r.objectUtil||(r.objectUtil={})),r.ZodParsedType=e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);const t=n=>{switch(typeof n){case"undefined":return r.ZodParsedType.undefined;case"string":return r.ZodParsedType.string;case"number":return isNaN(n)?r.ZodParsedType.nan:r.ZodParsedType.number;case"boolean":return r.ZodParsedType.boolean;case"function":return r.ZodParsedType.function;case"bigint":return r.ZodParsedType.bigint;case"symbol":return r.ZodParsedType.symbol;case"object":return Array.isArray(n)?r.ZodParsedType.array:n===null?r.ZodParsedType.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?r.ZodParsedType.promise:typeof Map<"u"&&n instanceof Map?r.ZodParsedType.map:typeof Set<"u"&&n instanceof Set?r.ZodParsedType.set:typeof Date<"u"&&n instanceof Date?r.ZodParsedType.date:r.ZodParsedType.object;default:return r.ZodParsedType.unknown}};r.getParsedType=t})(Br);var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.ZodError=dt.quotelessJson=dt.ZodIssueCode=void 0;const zu=Br;dt.ZodIssueCode=zu.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);const Bg=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");dt.quotelessJson=Bg;class Xi extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(t(a));else{let o=n,u=0;for(;u<a.path.length;){const c=a.path[u];u===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(a))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,zu.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}dt.ZodError=Xi;Xi.create=r=>new Xi(r);Object.defineProperty(Jn,"__esModule",{value:!0});const Ot=Br,Me=dt,Zg=(r,e)=>{let t;switch(r.code){case Me.ZodIssueCode.invalid_type:r.received===Ot.ZodParsedType.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case Me.ZodIssueCode.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Ot.util.jsonStringifyReplacer)}`;break;case Me.ZodIssueCode.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ot.util.joinValues(r.keys,", ")}`;break;case Me.ZodIssueCode.invalid_union:t="Invalid input";break;case Me.ZodIssueCode.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ot.util.joinValues(r.options)}`;break;case Me.ZodIssueCode.invalid_enum_value:t=`Invalid enum value. Expected ${Ot.util.joinValues(r.options)}, received '${r.received}'`;break;case Me.ZodIssueCode.invalid_arguments:t="Invalid function arguments";break;case Me.ZodIssueCode.invalid_return_type:t="Invalid function return type";break;case Me.ZodIssueCode.invalid_date:t="Invalid date";break;case Me.ZodIssueCode.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Ot.util.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case Me.ZodIssueCode.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case Me.ZodIssueCode.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case Me.ZodIssueCode.custom:t="Invalid input";break;case Me.ZodIssueCode.invalid_intersection_types:t="Intersection results could not be merged";break;case Me.ZodIssueCode.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case Me.ZodIssueCode.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ot.util.assertNever(r)}return{message:t}};Jn.default=Zg;var Vg=Ie&&Ie.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lt,"__esModule",{value:!0});lt.getErrorMap=lt.setErrorMap=lt.defaultErrorMap=void 0;const Bu=Vg(Jn);lt.defaultErrorMap=Bu.default;let Zu=Bu.default;function Fg(r){Zu=r}lt.setErrorMap=Fg;function Kg(){return Zu}lt.getErrorMap=Kg;var Ls={};(function(r){var e=Ie&&Ie.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(r,"__esModule",{value:!0}),r.isAsync=r.isValid=r.isDirty=r.isAborted=r.OK=r.DIRTY=r.INVALID=r.ParseStatus=r.addIssueToContext=r.EMPTY_PATH=r.makeIssue=void 0;const t=lt,n=e(Jn),i=b=>{const{data:g,path:_,errorMaps:h,issueData:T}=b,j=[..._,...T.path||[]],S={...T,path:j};let R="";const M=h.filter(O=>!!O).slice().reverse();for(const O of M)R=O(S,{data:g,defaultError:R}).message;return{...T,path:j,message:T.message||R}};r.makeIssue=i,r.EMPTY_PATH=[];function s(b,g){const _=(0,r.makeIssue)({issueData:g,data:b.data,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,(0,t.getErrorMap)(),n.default].filter(h=>!!h)});b.common.issues.push(_)}r.addIssueToContext=s;class a{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(g,_){const h=[];for(const T of _){if(T.status==="aborted")return r.INVALID;T.status==="dirty"&&g.dirty(),h.push(T.value)}return{status:g.value,value:h}}static async mergeObjectAsync(g,_){const h=[];for(const T of _)h.push({key:await T.key,value:await T.value});return a.mergeObjectSync(g,h)}static mergeObjectSync(g,_){const h={};for(const T of _){const{key:j,value:S}=T;if(j.status==="aborted"||S.status==="aborted")return r.INVALID;j.status==="dirty"&&g.dirty(),S.status==="dirty"&&g.dirty(),j.value!=="__proto__"&&(typeof S.value<"u"||T.alwaysSet)&&(h[j.value]=S.value)}return{status:g.value,value:h}}}r.ParseStatus=a,r.INVALID=Object.freeze({status:"aborted"});const o=b=>({status:"dirty",value:b});r.DIRTY=o;const u=b=>({status:"valid",value:b});r.OK=u;const c=b=>b.status==="aborted";r.isAborted=c;const d=b=>b.status==="dirty";r.isDirty=d;const f=b=>b.status==="valid";r.isValid=f;const m=b=>typeof Promise<"u"&&b instanceof Promise;r.isAsync=m})(Ls);var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});var Fu={},Ku={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.errorUtil=void 0,function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message}(r.errorUtil||(r.errorUtil={}))})(Ku);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.date=r.boolean=r.bigint=r.array=r.any=r.coerce=r.ZodFirstPartyTypeKind=r.late=r.ZodSchema=r.Schema=r.custom=r.ZodReadonly=r.ZodPipeline=r.ZodBranded=r.BRAND=r.ZodNaN=r.ZodCatch=r.ZodDefault=r.ZodNullable=r.ZodOptional=r.ZodTransformer=r.ZodEffects=r.ZodPromise=r.ZodNativeEnum=r.ZodEnum=r.ZodLiteral=r.ZodLazy=r.ZodFunction=r.ZodSet=r.ZodMap=r.ZodRecord=r.ZodTuple=r.ZodIntersection=r.ZodDiscriminatedUnion=r.ZodUnion=r.ZodObject=r.ZodArray=r.ZodVoid=r.ZodNever=r.ZodUnknown=r.ZodAny=r.ZodNull=r.ZodUndefined=r.ZodSymbol=r.ZodDate=r.ZodBoolean=r.ZodBigInt=r.ZodNumber=r.ZodString=r.ZodType=void 0,r.NEVER=r.void=r.unknown=r.union=r.undefined=r.tuple=r.transformer=r.symbol=r.string=r.strictObject=r.set=r.record=r.promise=r.preprocess=r.pipeline=r.ostring=r.optional=r.onumber=r.oboolean=r.object=r.number=r.nullable=r.null=r.never=r.nativeEnum=r.nan=r.map=r.literal=r.lazy=r.intersection=r.instanceof=r.function=r.enum=r.effect=r.discriminatedUnion=void 0;const e=lt,t=Ku,n=Ls,i=Br,s=dt;class a{constructor(l,p,w,k){this._cachedPath=[],this.parent=l,this.data=p,this._path=w,this._key=k}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const o=(P,l)=>{if((0,n.isValid)(l))return{success:!0,data:l.value};if(!P.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const p=new s.ZodError(P.common.issues);return this._error=p,this._error}}};function u(P){if(!P)return{};const{errorMap:l,invalid_type_error:p,required_error:w,description:k}=P;if(l&&(p||w))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return l?{errorMap:l,description:k}:{errorMap:(H,$)=>H.code!=="invalid_type"?{message:$.defaultError}:typeof $.data>"u"?{message:w??$.defaultError}:{message:p??$.defaultError},description:k}}class c{constructor(l){this.spa=this.safeParseAsync,this._def=l,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(l){return(0,i.getParsedType)(l.data)}_getOrReturnCtx(l,p){return p||{common:l.parent.common,data:l.data,parsedType:(0,i.getParsedType)(l.data),schemaErrorMap:this._def.errorMap,path:l.path,parent:l.parent}}_processInputParams(l){return{status:new n.ParseStatus,ctx:{common:l.parent.common,data:l.data,parsedType:(0,i.getParsedType)(l.data),schemaErrorMap:this._def.errorMap,path:l.path,parent:l.parent}}}_parseSync(l){const p=this._parse(l);if((0,n.isAsync)(p))throw new Error("Synchronous parse encountered promise.");return p}_parseAsync(l){const p=this._parse(l);return Promise.resolve(p)}parse(l,p){const w=this.safeParse(l,p);if(w.success)return w.data;throw w.error}safeParse(l,p){var w;const k={common:{issues:[],async:(w=p==null?void 0:p.async)!==null&&w!==void 0?w:!1,contextualErrorMap:p==null?void 0:p.errorMap},path:(p==null?void 0:p.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:l,parsedType:(0,i.getParsedType)(l)},x=this._parseSync({data:l,path:k.path,parent:k});return o(k,x)}async parseAsync(l,p){const w=await this.safeParseAsync(l,p);if(w.success)return w.data;throw w.error}async safeParseAsync(l,p){const w={common:{issues:[],contextualErrorMap:p==null?void 0:p.errorMap,async:!0},path:(p==null?void 0:p.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:l,parsedType:(0,i.getParsedType)(l)},k=this._parse({data:l,path:w.path,parent:w}),x=await((0,n.isAsync)(k)?k:Promise.resolve(k));return o(w,x)}refine(l,p){const w=k=>typeof p=="string"||typeof p>"u"?{message:p}:typeof p=="function"?p(k):p;return this._refinement((k,x)=>{const H=l(k),$=()=>x.addIssue({code:s.ZodIssueCode.custom,...w(k)});return typeof Promise<"u"&&H instanceof Promise?H.then(oe=>oe?!0:($(),!1)):H?!0:($(),!1)})}refinement(l,p){return this._refinement((w,k)=>l(w)?!0:(k.addIssue(typeof p=="function"?p(w,k):p),!1))}_refinement(l){return new fe({schema:this,typeName:Z.ZodEffects,effect:{type:"refinement",refinement:l}})}superRefine(l){return this._refinement(l)}optional(){return ve.create(this,this._def)}nullable(){return ye.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return G.create(this,this._def)}promise(){return ue.create(this,this._def)}or(l){return ie.create([this,l],this._def)}and(l){return Le.create(this,l,this._def)}transform(l){return new fe({...u(this._def),schema:this,typeName:Z.ZodEffects,effect:{type:"transform",transform:l}})}default(l){const p=typeof l=="function"?l:()=>l;return new _e({...u(this._def),innerType:this,defaultValue:p,typeName:Z.ZodDefault})}brand(){return new ee({typeName:Z.ZodBranded,type:this,...u(this._def)})}catch(l){const p=typeof l=="function"?l:()=>l;return new U({...u(this._def),innerType:this,catchValue:p,typeName:Z.ZodCatch})}describe(l){const p=this.constructor;return new p({...this._def,description:l})}pipe(l){return ne.create(this,l)}readonly(){return le.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}r.ZodType=c,r.Schema=c,r.ZodSchema=c;const d=/^c[^\s-]{8,}$/i,f=/^[a-z][a-z0-9]*$/,m=/^[0-9A-HJKMNP-TV-Z]{26}$/,b=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,g=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let h;const T=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,j=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,S=P=>P.precision?P.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${P.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${P.precision}}Z$`):P.precision===0?P.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):P.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function R(P,l){return!!((l==="v4"||!l)&&T.test(P)||(l==="v6"||!l)&&j.test(P))}class M extends c{_parse(l){if(this._def.coerce&&(l.data=String(l.data)),this._getType(l)!==i.ZodParsedType.string){const x=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(x,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.string,received:x.parsedType}),n.INVALID}const w=new n.ParseStatus;let k;for(const x of this._def.checks)if(x.kind==="min")l.data.length<x.value&&(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.too_small,minimum:x.value,type:"string",inclusive:!0,exact:!1,message:x.message}),w.dirty());else if(x.kind==="max")l.data.length>x.value&&(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.too_big,maximum:x.value,type:"string",inclusive:!0,exact:!1,message:x.message}),w.dirty());else if(x.kind==="length"){const H=l.data.length>x.value,$=l.data.length<x.value;(H||$)&&(k=this._getOrReturnCtx(l,k),H?(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.too_big,maximum:x.value,type:"string",inclusive:!0,exact:!0,message:x.message}):$&&(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.too_small,minimum:x.value,type:"string",inclusive:!0,exact:!0,message:x.message}),w.dirty())}else if(x.kind==="email")g.test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"email",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty());else if(x.kind==="emoji")h||(h=new RegExp(_,"u")),h.test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"emoji",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty());else if(x.kind==="uuid")b.test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"uuid",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty());else if(x.kind==="cuid")d.test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"cuid",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty());else if(x.kind==="cuid2")f.test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"cuid2",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty());else if(x.kind==="ulid")m.test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"ulid",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty());else if(x.kind==="url")try{new URL(l.data)}catch{k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"url",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty()}else x.kind==="regex"?(x.regex.lastIndex=0,x.regex.test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"regex",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty())):x.kind==="trim"?l.data=l.data.trim():x.kind==="includes"?l.data.includes(x.value,x.position)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.invalid_string,validation:{includes:x.value,position:x.position},message:x.message}),w.dirty()):x.kind==="toLowerCase"?l.data=l.data.toLowerCase():x.kind==="toUpperCase"?l.data=l.data.toUpperCase():x.kind==="startsWith"?l.data.startsWith(x.value)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.invalid_string,validation:{startsWith:x.value},message:x.message}),w.dirty()):x.kind==="endsWith"?l.data.endsWith(x.value)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.invalid_string,validation:{endsWith:x.value},message:x.message}),w.dirty()):x.kind==="datetime"?S(x).test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.invalid_string,validation:"datetime",message:x.message}),w.dirty()):x.kind==="ip"?R(l.data,x.version)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"ip",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty()):i.util.assertNever(x);return{status:w.value,value:l.data}}_regex(l,p,w){return this.refinement(k=>l.test(k),{validation:p,code:s.ZodIssueCode.invalid_string,...t.errorUtil.errToObj(w)})}_addCheck(l){return new M({...this._def,checks:[...this._def.checks,l]})}email(l){return this._addCheck({kind:"email",...t.errorUtil.errToObj(l)})}url(l){return this._addCheck({kind:"url",...t.errorUtil.errToObj(l)})}emoji(l){return this._addCheck({kind:"emoji",...t.errorUtil.errToObj(l)})}uuid(l){return this._addCheck({kind:"uuid",...t.errorUtil.errToObj(l)})}cuid(l){return this._addCheck({kind:"cuid",...t.errorUtil.errToObj(l)})}cuid2(l){return this._addCheck({kind:"cuid2",...t.errorUtil.errToObj(l)})}ulid(l){return this._addCheck({kind:"ulid",...t.errorUtil.errToObj(l)})}ip(l){return this._addCheck({kind:"ip",...t.errorUtil.errToObj(l)})}datetime(l){var p;return typeof l=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:l}):this._addCheck({kind:"datetime",precision:typeof(l==null?void 0:l.precision)>"u"?null:l==null?void 0:l.precision,offset:(p=l==null?void 0:l.offset)!==null&&p!==void 0?p:!1,...t.errorUtil.errToObj(l==null?void 0:l.message)})}regex(l,p){return this._addCheck({kind:"regex",regex:l,...t.errorUtil.errToObj(p)})}includes(l,p){return this._addCheck({kind:"includes",value:l,position:p==null?void 0:p.position,...t.errorUtil.errToObj(p==null?void 0:p.message)})}startsWith(l,p){return this._addCheck({kind:"startsWith",value:l,...t.errorUtil.errToObj(p)})}endsWith(l,p){return this._addCheck({kind:"endsWith",value:l,...t.errorUtil.errToObj(p)})}min(l,p){return this._addCheck({kind:"min",value:l,...t.errorUtil.errToObj(p)})}max(l,p){return this._addCheck({kind:"max",value:l,...t.errorUtil.errToObj(p)})}length(l,p){return this._addCheck({kind:"length",value:l,...t.errorUtil.errToObj(p)})}nonempty(l){return this.min(1,t.errorUtil.errToObj(l))}trim(){return new M({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new M({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new M({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(l=>l.kind==="datetime")}get isEmail(){return!!this._def.checks.find(l=>l.kind==="email")}get isURL(){return!!this._def.checks.find(l=>l.kind==="url")}get isEmoji(){return!!this._def.checks.find(l=>l.kind==="emoji")}get isUUID(){return!!this._def.checks.find(l=>l.kind==="uuid")}get isCUID(){return!!this._def.checks.find(l=>l.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(l=>l.kind==="cuid2")}get isULID(){return!!this._def.checks.find(l=>l.kind==="ulid")}get isIP(){return!!this._def.checks.find(l=>l.kind==="ip")}get minLength(){let l=null;for(const p of this._def.checks)p.kind==="min"&&(l===null||p.value>l)&&(l=p.value);return l}get maxLength(){let l=null;for(const p of this._def.checks)p.kind==="max"&&(l===null||p.value<l)&&(l=p.value);return l}}r.ZodString=M,M.create=P=>{var l;return new M({checks:[],typeName:Z.ZodString,coerce:(l=P==null?void 0:P.coerce)!==null&&l!==void 0?l:!1,...u(P)})};function O(P,l){const p=(P.toString().split(".")[1]||"").length,w=(l.toString().split(".")[1]||"").length,k=p>w?p:w,x=parseInt(P.toFixed(k).replace(".","")),H=parseInt(l.toFixed(k).replace(".",""));return x%H/Math.pow(10,k)}class C extends c{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(l){if(this._def.coerce&&(l.data=Number(l.data)),this._getType(l)!==i.ZodParsedType.number){const x=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(x,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.number,received:x.parsedType}),n.INVALID}let w;const k=new n.ParseStatus;for(const x of this._def.checks)x.kind==="int"?i.util.isInteger(l.data)||(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:x.message}),k.dirty()):x.kind==="min"?(x.inclusive?l.data<x.value:l.data<=x.value)&&(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_small,minimum:x.value,type:"number",inclusive:x.inclusive,exact:!1,message:x.message}),k.dirty()):x.kind==="max"?(x.inclusive?l.data>x.value:l.data>=x.value)&&(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_big,maximum:x.value,type:"number",inclusive:x.inclusive,exact:!1,message:x.message}),k.dirty()):x.kind==="multipleOf"?O(l.data,x.value)!==0&&(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.not_multiple_of,multipleOf:x.value,message:x.message}),k.dirty()):x.kind==="finite"?Number.isFinite(l.data)||(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.not_finite,message:x.message}),k.dirty()):i.util.assertNever(x);return{status:k.value,value:l.data}}gte(l,p){return this.setLimit("min",l,!0,t.errorUtil.toString(p))}gt(l,p){return this.setLimit("min",l,!1,t.errorUtil.toString(p))}lte(l,p){return this.setLimit("max",l,!0,t.errorUtil.toString(p))}lt(l,p){return this.setLimit("max",l,!1,t.errorUtil.toString(p))}setLimit(l,p,w,k){return new C({...this._def,checks:[...this._def.checks,{kind:l,value:p,inclusive:w,message:t.errorUtil.toString(k)}]})}_addCheck(l){return new C({...this._def,checks:[...this._def.checks,l]})}int(l){return this._addCheck({kind:"int",message:t.errorUtil.toString(l)})}positive(l){return this._addCheck({kind:"min",value:0,inclusive:!1,message:t.errorUtil.toString(l)})}negative(l){return this._addCheck({kind:"max",value:0,inclusive:!1,message:t.errorUtil.toString(l)})}nonpositive(l){return this._addCheck({kind:"max",value:0,inclusive:!0,message:t.errorUtil.toString(l)})}nonnegative(l){return this._addCheck({kind:"min",value:0,inclusive:!0,message:t.errorUtil.toString(l)})}multipleOf(l,p){return this._addCheck({kind:"multipleOf",value:l,message:t.errorUtil.toString(p)})}finite(l){return this._addCheck({kind:"finite",message:t.errorUtil.toString(l)})}safe(l){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:t.errorUtil.toString(l)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:t.errorUtil.toString(l)})}get minValue(){let l=null;for(const p of this._def.checks)p.kind==="min"&&(l===null||p.value>l)&&(l=p.value);return l}get maxValue(){let l=null;for(const p of this._def.checks)p.kind==="max"&&(l===null||p.value<l)&&(l=p.value);return l}get isInt(){return!!this._def.checks.find(l=>l.kind==="int"||l.kind==="multipleOf"&&i.util.isInteger(l.value))}get isFinite(){let l=null,p=null;for(const w of this._def.checks){if(w.kind==="finite"||w.kind==="int"||w.kind==="multipleOf")return!0;w.kind==="min"?(p===null||w.value>p)&&(p=w.value):w.kind==="max"&&(l===null||w.value<l)&&(l=w.value)}return Number.isFinite(p)&&Number.isFinite(l)}}r.ZodNumber=C,C.create=P=>new C({checks:[],typeName:Z.ZodNumber,coerce:(P==null?void 0:P.coerce)||!1,...u(P)});class v extends c{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(l){if(this._def.coerce&&(l.data=BigInt(l.data)),this._getType(l)!==i.ZodParsedType.bigint){const x=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(x,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.bigint,received:x.parsedType}),n.INVALID}let w;const k=new n.ParseStatus;for(const x of this._def.checks)x.kind==="min"?(x.inclusive?l.data<x.value:l.data<=x.value)&&(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_small,type:"bigint",minimum:x.value,inclusive:x.inclusive,message:x.message}),k.dirty()):x.kind==="max"?(x.inclusive?l.data>x.value:l.data>=x.value)&&(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_big,type:"bigint",maximum:x.value,inclusive:x.inclusive,message:x.message}),k.dirty()):x.kind==="multipleOf"?l.data%x.value!==BigInt(0)&&(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.not_multiple_of,multipleOf:x.value,message:x.message}),k.dirty()):i.util.assertNever(x);return{status:k.value,value:l.data}}gte(l,p){return this.setLimit("min",l,!0,t.errorUtil.toString(p))}gt(l,p){return this.setLimit("min",l,!1,t.errorUtil.toString(p))}lte(l,p){return this.setLimit("max",l,!0,t.errorUtil.toString(p))}lt(l,p){return this.setLimit("max",l,!1,t.errorUtil.toString(p))}setLimit(l,p,w,k){return new v({...this._def,checks:[...this._def.checks,{kind:l,value:p,inclusive:w,message:t.errorUtil.toString(k)}]})}_addCheck(l){return new v({...this._def,checks:[...this._def.checks,l]})}positive(l){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:t.errorUtil.toString(l)})}negative(l){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:t.errorUtil.toString(l)})}nonpositive(l){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:t.errorUtil.toString(l)})}nonnegative(l){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:t.errorUtil.toString(l)})}multipleOf(l,p){return this._addCheck({kind:"multipleOf",value:l,message:t.errorUtil.toString(p)})}get minValue(){let l=null;for(const p of this._def.checks)p.kind==="min"&&(l===null||p.value>l)&&(l=p.value);return l}get maxValue(){let l=null;for(const p of this._def.checks)p.kind==="max"&&(l===null||p.value<l)&&(l=p.value);return l}}r.ZodBigInt=v,v.create=P=>{var l;return new v({checks:[],typeName:Z.ZodBigInt,coerce:(l=P==null?void 0:P.coerce)!==null&&l!==void 0?l:!1,...u(P)})};class A extends c{_parse(l){if(this._def.coerce&&(l.data=!!l.data),this._getType(l)!==i.ZodParsedType.boolean){const w=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.boolean,received:w.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodBoolean=A,A.create=P=>new A({typeName:Z.ZodBoolean,coerce:(P==null?void 0:P.coerce)||!1,...u(P)});class I extends c{_parse(l){if(this._def.coerce&&(l.data=new Date(l.data)),this._getType(l)!==i.ZodParsedType.date){const x=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(x,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.date,received:x.parsedType}),n.INVALID}if(isNaN(l.data.getTime())){const x=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(x,{code:s.ZodIssueCode.invalid_date}),n.INVALID}const w=new n.ParseStatus;let k;for(const x of this._def.checks)x.kind==="min"?l.data.getTime()<x.value&&(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.too_small,message:x.message,inclusive:!0,exact:!1,minimum:x.value,type:"date"}),w.dirty()):x.kind==="max"?l.data.getTime()>x.value&&(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.too_big,message:x.message,inclusive:!0,exact:!1,maximum:x.value,type:"date"}),w.dirty()):i.util.assertNever(x);return{status:w.value,value:new Date(l.data.getTime())}}_addCheck(l){return new I({...this._def,checks:[...this._def.checks,l]})}min(l,p){return this._addCheck({kind:"min",value:l.getTime(),message:t.errorUtil.toString(p)})}max(l,p){return this._addCheck({kind:"max",value:l.getTime(),message:t.errorUtil.toString(p)})}get minDate(){let l=null;for(const p of this._def.checks)p.kind==="min"&&(l===null||p.value>l)&&(l=p.value);return l!=null?new Date(l):null}get maxDate(){let l=null;for(const p of this._def.checks)p.kind==="max"&&(l===null||p.value<l)&&(l=p.value);return l!=null?new Date(l):null}}r.ZodDate=I,I.create=P=>new I({checks:[],coerce:(P==null?void 0:P.coerce)||!1,typeName:Z.ZodDate,...u(P)});class N extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.symbol){const w=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.symbol,received:w.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodSymbol=N,N.create=P=>new N({typeName:Z.ZodSymbol,...u(P)});class L extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.undefined){const w=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.undefined,received:w.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodUndefined=L,L.create=P=>new L({typeName:Z.ZodUndefined,...u(P)});class q extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.null){const w=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.null,received:w.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodNull=q,q.create=P=>new q({typeName:Z.ZodNull,...u(P)});class Y extends c{constructor(){super(...arguments),this._any=!0}_parse(l){return(0,n.OK)(l.data)}}r.ZodAny=Y,Y.create=P=>new Y({typeName:Z.ZodAny,...u(P)});class K extends c{constructor(){super(...arguments),this._unknown=!0}_parse(l){return(0,n.OK)(l.data)}}r.ZodUnknown=K,K.create=P=>new K({typeName:Z.ZodUnknown,...u(P)});class V extends c{_parse(l){const p=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.never,received:p.parsedType}),n.INVALID}}r.ZodNever=V,V.create=P=>new V({typeName:Z.ZodNever,...u(P)});class B extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.undefined){const w=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.void,received:w.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodVoid=B,B.create=P=>new B({typeName:Z.ZodVoid,...u(P)});class G extends c{_parse(l){const{ctx:p,status:w}=this._processInputParams(l),k=this._def;if(p.parsedType!==i.ZodParsedType.array)return(0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:p.parsedType}),n.INVALID;if(k.exactLength!==null){const H=p.data.length>k.exactLength.value,$=p.data.length<k.exactLength.value;(H||$)&&((0,n.addIssueToContext)(p,{code:H?s.ZodIssueCode.too_big:s.ZodIssueCode.too_small,minimum:$?k.exactLength.value:void 0,maximum:H?k.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:k.exactLength.message}),w.dirty())}if(k.minLength!==null&&p.data.length<k.minLength.value&&((0,n.addIssueToContext)(p,{code:s.ZodIssueCode.too_small,minimum:k.minLength.value,type:"array",inclusive:!0,exact:!1,message:k.minLength.message}),w.dirty()),k.maxLength!==null&&p.data.length>k.maxLength.value&&((0,n.addIssueToContext)(p,{code:s.ZodIssueCode.too_big,maximum:k.maxLength.value,type:"array",inclusive:!0,exact:!1,message:k.maxLength.message}),w.dirty()),p.common.async)return Promise.all([...p.data].map((H,$)=>k.type._parseAsync(new a(p,H,p.path,$)))).then(H=>n.ParseStatus.mergeArray(w,H));const x=[...p.data].map((H,$)=>k.type._parseSync(new a(p,H,p.path,$)));return n.ParseStatus.mergeArray(w,x)}get element(){return this._def.type}min(l,p){return new G({...this._def,minLength:{value:l,message:t.errorUtil.toString(p)}})}max(l,p){return new G({...this._def,maxLength:{value:l,message:t.errorUtil.toString(p)}})}length(l,p){return new G({...this._def,exactLength:{value:l,message:t.errorUtil.toString(p)}})}nonempty(l){return this.min(1,l)}}r.ZodArray=G,G.create=(P,l)=>new G({type:P,minLength:null,maxLength:null,exactLength:null,typeName:Z.ZodArray,...u(l)});function W(P){if(P instanceof te){const l={};for(const p in P.shape){const w=P.shape[p];l[p]=ve.create(W(w))}return new te({...P._def,shape:()=>l})}else return P instanceof G?new G({...P._def,type:W(P.element)}):P instanceof ve?ve.create(W(P.unwrap())):P instanceof ye?ye.create(W(P.unwrap())):P instanceof we?we.create(P.items.map(l=>W(l))):P}class te extends c{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const l=this._def.shape(),p=i.util.objectKeys(l);return this._cached={shape:l,keys:p}}_parse(l){if(this._getType(l)!==i.ZodParsedType.object){const se=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(se,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:se.parsedType}),n.INVALID}const{status:w,ctx:k}=this._processInputParams(l),{shape:x,keys:H}=this._getCached(),$=[];if(!(this._def.catchall instanceof V&&this._def.unknownKeys==="strip"))for(const se in k.data)H.includes(se)||$.push(se);const oe=[];for(const se of H){const de=x[se],Qe=k.data[se];oe.push({key:{status:"valid",value:se},value:de._parse(new a(k,Qe,k.path,se)),alwaysSet:se in k.data})}if(this._def.catchall instanceof V){const se=this._def.unknownKeys;if(se==="passthrough")for(const de of $)oe.push({key:{status:"valid",value:de},value:{status:"valid",value:k.data[de]}});else if(se==="strict")$.length>0&&((0,n.addIssueToContext)(k,{code:s.ZodIssueCode.unrecognized_keys,keys:$}),w.dirty());else if(se!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const se=this._def.catchall;for(const de of $){const Qe=k.data[de];oe.push({key:{status:"valid",value:de},value:se._parse(new a(k,Qe,k.path,de)),alwaysSet:de in k.data})}}return k.common.async?Promise.resolve().then(async()=>{const se=[];for(const de of oe){const Qe=await de.key;se.push({key:Qe,value:await de.value,alwaysSet:de.alwaysSet})}return se}).then(se=>n.ParseStatus.mergeObjectSync(w,se)):n.ParseStatus.mergeObjectSync(w,oe)}get shape(){return this._def.shape()}strict(l){return t.errorUtil.errToObj,new te({...this._def,unknownKeys:"strict",...l!==void 0?{errorMap:(p,w)=>{var k,x,H,$;const oe=(H=(x=(k=this._def).errorMap)===null||x===void 0?void 0:x.call(k,p,w).message)!==null&&H!==void 0?H:w.defaultError;return p.code==="unrecognized_keys"?{message:($=t.errorUtil.errToObj(l).message)!==null&&$!==void 0?$:oe}:{message:oe}}}:{}})}strip(){return new te({...this._def,unknownKeys:"strip"})}passthrough(){return new te({...this._def,unknownKeys:"passthrough"})}extend(l){return new te({...this._def,shape:()=>({...this._def.shape(),...l})})}merge(l){return new te({unknownKeys:l._def.unknownKeys,catchall:l._def.catchall,shape:()=>({...this._def.shape(),...l._def.shape()}),typeName:Z.ZodObject})}setKey(l,p){return this.augment({[l]:p})}catchall(l){return new te({...this._def,catchall:l})}pick(l){const p={};return i.util.objectKeys(l).forEach(w=>{l[w]&&this.shape[w]&&(p[w]=this.shape[w])}),new te({...this._def,shape:()=>p})}omit(l){const p={};return i.util.objectKeys(this.shape).forEach(w=>{l[w]||(p[w]=this.shape[w])}),new te({...this._def,shape:()=>p})}deepPartial(){return W(this)}partial(l){const p={};return i.util.objectKeys(this.shape).forEach(w=>{const k=this.shape[w];l&&!l[w]?p[w]=k:p[w]=k.optional()}),new te({...this._def,shape:()=>p})}required(l){const p={};return i.util.objectKeys(this.shape).forEach(w=>{if(l&&!l[w])p[w]=this.shape[w];else{let x=this.shape[w];for(;x instanceof ve;)x=x._def.innerType;p[w]=x}}),new te({...this._def,shape:()=>p})}keyof(){return F(i.util.objectKeys(this.shape))}}r.ZodObject=te,te.create=(P,l)=>new te({shape:()=>P,unknownKeys:"strip",catchall:V.create(),typeName:Z.ZodObject,...u(l)}),te.strictCreate=(P,l)=>new te({shape:()=>P,unknownKeys:"strict",catchall:V.create(),typeName:Z.ZodObject,...u(l)}),te.lazycreate=(P,l)=>new te({shape:P,unknownKeys:"strip",catchall:V.create(),typeName:Z.ZodObject,...u(l)});class ie extends c{_parse(l){const{ctx:p}=this._processInputParams(l),w=this._def.options;function k(x){for(const $ of x)if($.result.status==="valid")return $.result;for(const $ of x)if($.result.status==="dirty")return p.common.issues.push(...$.ctx.common.issues),$.result;const H=x.map($=>new s.ZodError($.ctx.common.issues));return(0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_union,unionErrors:H}),n.INVALID}if(p.common.async)return Promise.all(w.map(async x=>{const H={...p,common:{...p.common,issues:[]},parent:null};return{result:await x._parseAsync({data:p.data,path:p.path,parent:H}),ctx:H}})).then(k);{let x;const H=[];for(const oe of w){const se={...p,common:{...p.common,issues:[]},parent:null},de=oe._parseSync({data:p.data,path:p.path,parent:se});if(de.status==="valid")return de;de.status==="dirty"&&!x&&(x={result:de,ctx:se}),se.common.issues.length&&H.push(se.common.issues)}if(x)return p.common.issues.push(...x.ctx.common.issues),x.result;const $=H.map(oe=>new s.ZodError(oe));return(0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_union,unionErrors:$}),n.INVALID}}get options(){return this._def.options}}r.ZodUnion=ie,ie.create=(P,l)=>new ie({options:P,typeName:Z.ZodUnion,...u(l)});const ge=P=>P instanceof D?ge(P.schema):P instanceof fe?ge(P.innerType()):P instanceof z?[P.value]:P instanceof X?P.options:P instanceof ae?Object.keys(P.enum):P instanceof _e?ge(P._def.innerType):P instanceof L?[void 0]:P instanceof q?[null]:null;class J extends c{_parse(l){const{ctx:p}=this._processInputParams(l);if(p.parsedType!==i.ZodParsedType.object)return(0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:p.parsedType}),n.INVALID;const w=this.discriminator,k=p.data[w],x=this.optionsMap.get(k);return x?p.common.async?x._parseAsync({data:p.data,path:p.path,parent:p}):x._parseSync({data:p.data,path:p.path,parent:p}):((0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[w]}),n.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(l,p,w){const k=new Map;for(const x of p){const H=ge(x.shape[l]);if(!H)throw new Error(`A discriminator value for key \`${l}\` could not be extracted from all schema options`);for(const $ of H){if(k.has($))throw new Error(`Discriminator property ${String(l)} has duplicate value ${String($)}`);k.set($,x)}}return new J({typeName:Z.ZodDiscriminatedUnion,discriminator:l,options:p,optionsMap:k,...u(w)})}}r.ZodDiscriminatedUnion=J;function je(P,l){const p=(0,i.getParsedType)(P),w=(0,i.getParsedType)(l);if(P===l)return{valid:!0,data:P};if(p===i.ZodParsedType.object&&w===i.ZodParsedType.object){const k=i.util.objectKeys(l),x=i.util.objectKeys(P).filter($=>k.indexOf($)!==-1),H={...P,...l};for(const $ of x){const oe=je(P[$],l[$]);if(!oe.valid)return{valid:!1};H[$]=oe.data}return{valid:!0,data:H}}else if(p===i.ZodParsedType.array&&w===i.ZodParsedType.array){if(P.length!==l.length)return{valid:!1};const k=[];for(let x=0;x<P.length;x++){const H=P[x],$=l[x],oe=je(H,$);if(!oe.valid)return{valid:!1};k.push(oe.data)}return{valid:!0,data:k}}else return p===i.ZodParsedType.date&&w===i.ZodParsedType.date&&+P==+l?{valid:!0,data:P}:{valid:!1}}class Le extends c{_parse(l){const{status:p,ctx:w}=this._processInputParams(l),k=(x,H)=>{if((0,n.isAborted)(x)||(0,n.isAborted)(H))return n.INVALID;const $=je(x.value,H.value);return $.valid?(((0,n.isDirty)(x)||(0,n.isDirty)(H))&&p.dirty(),{status:p.value,value:$.data}):((0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_intersection_types}),n.INVALID)};return w.common.async?Promise.all([this._def.left._parseAsync({data:w.data,path:w.path,parent:w}),this._def.right._parseAsync({data:w.data,path:w.path,parent:w})]).then(([x,H])=>k(x,H)):k(this._def.left._parseSync({data:w.data,path:w.path,parent:w}),this._def.right._parseSync({data:w.data,path:w.path,parent:w}))}}r.ZodIntersection=Le,Le.create=(P,l,p)=>new Le({left:P,right:l,typeName:Z.ZodIntersection,...u(p)});class we extends c{_parse(l){const{status:p,ctx:w}=this._processInputParams(l);if(w.parsedType!==i.ZodParsedType.array)return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:w.parsedType}),n.INVALID;if(w.data.length<this._def.items.length)return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.INVALID;!this._def.rest&&w.data.length>this._def.items.length&&((0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),p.dirty());const x=[...w.data].map((H,$)=>{const oe=this._def.items[$]||this._def.rest;return oe?oe._parse(new a(w,H,w.path,$)):null}).filter(H=>!!H);return w.common.async?Promise.all(x).then(H=>n.ParseStatus.mergeArray(p,H)):n.ParseStatus.mergeArray(p,x)}get items(){return this._def.items}rest(l){return new we({...this._def,rest:l})}}r.ZodTuple=we,we.create=(P,l)=>{if(!Array.isArray(P))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new we({items:P,typeName:Z.ZodTuple,rest:null,...u(l)})};class Ke extends c{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(l){const{status:p,ctx:w}=this._processInputParams(l);if(w.parsedType!==i.ZodParsedType.object)return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:w.parsedType}),n.INVALID;const k=[],x=this._def.keyType,H=this._def.valueType;for(const $ in w.data)k.push({key:x._parse(new a(w,$,w.path,$)),value:H._parse(new a(w,w.data[$],w.path,$))});return w.common.async?n.ParseStatus.mergeObjectAsync(p,k):n.ParseStatus.mergeObjectSync(p,k)}get element(){return this._def.valueType}static create(l,p,w){return p instanceof c?new Ke({keyType:l,valueType:p,typeName:Z.ZodRecord,...u(w)}):new Ke({keyType:M.create(),valueType:l,typeName:Z.ZodRecord,...u(p)})}}r.ZodRecord=Ke;class Q extends c{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(l){const{status:p,ctx:w}=this._processInputParams(l);if(w.parsedType!==i.ZodParsedType.map)return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.map,received:w.parsedType}),n.INVALID;const k=this._def.keyType,x=this._def.valueType,H=[...w.data.entries()].map(([$,oe],se)=>({key:k._parse(new a(w,$,w.path,[se,"key"])),value:x._parse(new a(w,oe,w.path,[se,"value"]))}));if(w.common.async){const $=new Map;return Promise.resolve().then(async()=>{for(const oe of H){const se=await oe.key,de=await oe.value;if(se.status==="aborted"||de.status==="aborted")return n.INVALID;(se.status==="dirty"||de.status==="dirty")&&p.dirty(),$.set(se.value,de.value)}return{status:p.value,value:$}})}else{const $=new Map;for(const oe of H){const se=oe.key,de=oe.value;if(se.status==="aborted"||de.status==="aborted")return n.INVALID;(se.status==="dirty"||de.status==="dirty")&&p.dirty(),$.set(se.value,de.value)}return{status:p.value,value:$}}}}r.ZodMap=Q,Q.create=(P,l,p)=>new Q({valueType:l,keyType:P,typeName:Z.ZodMap,...u(p)});class y extends c{_parse(l){const{status:p,ctx:w}=this._processInputParams(l);if(w.parsedType!==i.ZodParsedType.set)return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.set,received:w.parsedType}),n.INVALID;const k=this._def;k.minSize!==null&&w.data.size<k.minSize.value&&((0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_small,minimum:k.minSize.value,type:"set",inclusive:!0,exact:!1,message:k.minSize.message}),p.dirty()),k.maxSize!==null&&w.data.size>k.maxSize.value&&((0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_big,maximum:k.maxSize.value,type:"set",inclusive:!0,exact:!1,message:k.maxSize.message}),p.dirty());const x=this._def.valueType;function H(oe){const se=new Set;for(const de of oe){if(de.status==="aborted")return n.INVALID;de.status==="dirty"&&p.dirty(),se.add(de.value)}return{status:p.value,value:se}}const $=[...w.data.values()].map((oe,se)=>x._parse(new a(w,oe,w.path,se)));return w.common.async?Promise.all($).then(oe=>H(oe)):H($)}min(l,p){return new y({...this._def,minSize:{value:l,message:t.errorUtil.toString(p)}})}max(l,p){return new y({...this._def,maxSize:{value:l,message:t.errorUtil.toString(p)}})}size(l,p){return this.min(l,p).max(l,p)}nonempty(l){return this.min(1,l)}}r.ZodSet=y,y.create=(P,l)=>new y({valueType:P,minSize:null,maxSize:null,typeName:Z.ZodSet,...u(l)});class E extends c{constructor(){super(...arguments),this.validate=this.implement}_parse(l){const{ctx:p}=this._processInputParams(l);if(p.parsedType!==i.ZodParsedType.function)return(0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.function,received:p.parsedType}),n.INVALID;function w($,oe){return(0,n.makeIssue)({data:$,path:p.path,errorMaps:[p.common.contextualErrorMap,p.schemaErrorMap,(0,e.getErrorMap)(),e.defaultErrorMap].filter(se=>!!se),issueData:{code:s.ZodIssueCode.invalid_arguments,argumentsError:oe}})}function k($,oe){return(0,n.makeIssue)({data:$,path:p.path,errorMaps:[p.common.contextualErrorMap,p.schemaErrorMap,(0,e.getErrorMap)(),e.defaultErrorMap].filter(se=>!!se),issueData:{code:s.ZodIssueCode.invalid_return_type,returnTypeError:oe}})}const x={errorMap:p.common.contextualErrorMap},H=p.data;if(this._def.returns instanceof ue){const $=this;return(0,n.OK)(async function(...oe){const se=new s.ZodError([]),de=await $._def.args.parseAsync(oe,x).catch(di=>{throw se.addIssue(w(oe,di)),se}),Qe=await Reflect.apply(H,this,de);return await $._def.returns._def.type.parseAsync(Qe,x).catch(di=>{throw se.addIssue(k(Qe,di)),se})})}else{const $=this;return(0,n.OK)(function(...oe){const se=$._def.args.safeParse(oe,x);if(!se.success)throw new s.ZodError([w(oe,se.error)]);const de=Reflect.apply(H,this,se.data),Qe=$._def.returns.safeParse(de,x);if(!Qe.success)throw new s.ZodError([k(de,Qe.error)]);return Qe.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...l){return new E({...this._def,args:we.create(l).rest(K.create())})}returns(l){return new E({...this._def,returns:l})}implement(l){return this.parse(l)}strictImplement(l){return this.parse(l)}static create(l,p,w){return new E({args:l||we.create([]).rest(K.create()),returns:p||K.create(),typeName:Z.ZodFunction,...u(w)})}}r.ZodFunction=E;class D extends c{get schema(){return this._def.getter()}_parse(l){const{ctx:p}=this._processInputParams(l);return this._def.getter()._parse({data:p.data,path:p.path,parent:p})}}r.ZodLazy=D,D.create=(P,l)=>new D({getter:P,typeName:Z.ZodLazy,...u(l)});class z extends c{_parse(l){if(l.data!==this._def.value){const p=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(p,{received:p.data,code:s.ZodIssueCode.invalid_literal,expected:this._def.value}),n.INVALID}return{status:"valid",value:l.data}}get value(){return this._def.value}}r.ZodLiteral=z,z.create=(P,l)=>new z({value:P,typeName:Z.ZodLiteral,...u(l)});function F(P,l){return new X({values:P,typeName:Z.ZodEnum,...u(l)})}class X extends c{_parse(l){if(typeof l.data!="string"){const p=this._getOrReturnCtx(l),w=this._def.values;return(0,n.addIssueToContext)(p,{expected:i.util.joinValues(w),received:p.parsedType,code:s.ZodIssueCode.invalid_type}),n.INVALID}if(this._def.values.indexOf(l.data)===-1){const p=this._getOrReturnCtx(l),w=this._def.values;return(0,n.addIssueToContext)(p,{received:p.data,code:s.ZodIssueCode.invalid_enum_value,options:w}),n.INVALID}return(0,n.OK)(l.data)}get options(){return this._def.values}get enum(){const l={};for(const p of this._def.values)l[p]=p;return l}get Values(){const l={};for(const p of this._def.values)l[p]=p;return l}get Enum(){const l={};for(const p of this._def.values)l[p]=p;return l}extract(l){return X.create(l)}exclude(l){return X.create(this.options.filter(p=>!l.includes(p)))}}r.ZodEnum=X,X.create=F;class ae extends c{_parse(l){const p=i.util.getValidEnumValues(this._def.values),w=this._getOrReturnCtx(l);if(w.parsedType!==i.ZodParsedType.string&&w.parsedType!==i.ZodParsedType.number){const k=i.util.objectValues(p);return(0,n.addIssueToContext)(w,{expected:i.util.joinValues(k),received:w.parsedType,code:s.ZodIssueCode.invalid_type}),n.INVALID}if(p.indexOf(l.data)===-1){const k=i.util.objectValues(p);return(0,n.addIssueToContext)(w,{received:w.data,code:s.ZodIssueCode.invalid_enum_value,options:k}),n.INVALID}return(0,n.OK)(l.data)}get enum(){return this._def.values}}r.ZodNativeEnum=ae,ae.create=(P,l)=>new ae({values:P,typeName:Z.ZodNativeEnum,...u(l)});class ue extends c{unwrap(){return this._def.type}_parse(l){const{ctx:p}=this._processInputParams(l);if(p.parsedType!==i.ZodParsedType.promise&&p.common.async===!1)return(0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.promise,received:p.parsedType}),n.INVALID;const w=p.parsedType===i.ZodParsedType.promise?p.data:Promise.resolve(p.data);return(0,n.OK)(w.then(k=>this._def.type.parseAsync(k,{path:p.path,errorMap:p.common.contextualErrorMap})))}}r.ZodPromise=ue,ue.create=(P,l)=>new ue({type:P,typeName:Z.ZodPromise,...u(l)});class fe extends c{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Z.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(l){const{status:p,ctx:w}=this._processInputParams(l),k=this._def.effect||null,x={addIssue:H=>{(0,n.addIssueToContext)(w,H),H.fatal?p.abort():p.dirty()},get path(){return w.path}};if(x.addIssue=x.addIssue.bind(x),k.type==="preprocess"){const H=k.transform(w.data,x);return w.common.issues.length?{status:"dirty",value:w.data}:w.common.async?Promise.resolve(H).then($=>this._def.schema._parseAsync({data:$,path:w.path,parent:w})):this._def.schema._parseSync({data:H,path:w.path,parent:w})}if(k.type==="refinement"){const H=$=>{const oe=k.refinement($,x);if(w.common.async)return Promise.resolve(oe);if(oe instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return $};if(w.common.async===!1){const $=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});return $.status==="aborted"?n.INVALID:($.status==="dirty"&&p.dirty(),H($.value),{status:p.value,value:$.value})}else return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then($=>$.status==="aborted"?n.INVALID:($.status==="dirty"&&p.dirty(),H($.value).then(()=>({status:p.value,value:$.value}))))}if(k.type==="transform")if(w.common.async===!1){const H=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});if(!(0,n.isValid)(H))return H;const $=k.transform(H.value,x);if($ instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:p.value,value:$}}else return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then(H=>(0,n.isValid)(H)?Promise.resolve(k.transform(H.value,x)).then($=>({status:p.value,value:$})):H);i.util.assertNever(k)}}r.ZodEffects=fe,r.ZodTransformer=fe,fe.create=(P,l,p)=>new fe({schema:P,typeName:Z.ZodEffects,effect:l,...u(p)}),fe.createWithPreprocess=(P,l,p)=>new fe({schema:l,effect:{type:"preprocess",transform:P},typeName:Z.ZodEffects,...u(p)});class ve extends c{_parse(l){return this._getType(l)===i.ZodParsedType.undefined?(0,n.OK)(void 0):this._def.innerType._parse(l)}unwrap(){return this._def.innerType}}r.ZodOptional=ve,ve.create=(P,l)=>new ve({innerType:P,typeName:Z.ZodOptional,...u(l)});class ye extends c{_parse(l){return this._getType(l)===i.ZodParsedType.null?(0,n.OK)(null):this._def.innerType._parse(l)}unwrap(){return this._def.innerType}}r.ZodNullable=ye,ye.create=(P,l)=>new ye({innerType:P,typeName:Z.ZodNullable,...u(l)});class _e extends c{_parse(l){const{ctx:p}=this._processInputParams(l);let w=p.data;return p.parsedType===i.ZodParsedType.undefined&&(w=this._def.defaultValue()),this._def.innerType._parse({data:w,path:p.path,parent:p})}removeDefault(){return this._def.innerType}}r.ZodDefault=_e,_e.create=(P,l)=>new _e({innerType:P,typeName:Z.ZodDefault,defaultValue:typeof l.default=="function"?l.default:()=>l.default,...u(l)});class U extends c{_parse(l){const{ctx:p}=this._processInputParams(l),w={...p,common:{...p.common,issues:[]}},k=this._def.innerType._parse({data:w.data,path:w.path,parent:{...w}});return(0,n.isAsync)(k)?k.then(x=>({status:"valid",value:x.status==="valid"?x.value:this._def.catchValue({get error(){return new s.ZodError(w.common.issues)},input:w.data})})):{status:"valid",value:k.status==="valid"?k.value:this._def.catchValue({get error(){return new s.ZodError(w.common.issues)},input:w.data})}}removeCatch(){return this._def.innerType}}r.ZodCatch=U,U.create=(P,l)=>new U({innerType:P,typeName:Z.ZodCatch,catchValue:typeof l.catch=="function"?l.catch:()=>l.catch,...u(l)});class re extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.nan){const w=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.nan,received:w.parsedType}),n.INVALID}return{status:"valid",value:l.data}}}r.ZodNaN=re,re.create=P=>new re({typeName:Z.ZodNaN,...u(P)}),r.BRAND=Symbol("zod_brand");class ee extends c{_parse(l){const{ctx:p}=this._processInputParams(l),w=p.data;return this._def.type._parse({data:w,path:p.path,parent:p})}unwrap(){return this._def.type}}r.ZodBranded=ee;class ne extends c{_parse(l){const{status:p,ctx:w}=this._processInputParams(l);if(w.common.async)return(async()=>{const x=await this._def.in._parseAsync({data:w.data,path:w.path,parent:w});return x.status==="aborted"?n.INVALID:x.status==="dirty"?(p.dirty(),(0,n.DIRTY)(x.value)):this._def.out._parseAsync({data:x.value,path:w.path,parent:w})})();{const k=this._def.in._parseSync({data:w.data,path:w.path,parent:w});return k.status==="aborted"?n.INVALID:k.status==="dirty"?(p.dirty(),{status:"dirty",value:k.value}):this._def.out._parseSync({data:k.value,path:w.path,parent:w})}}static create(l,p){return new ne({in:l,out:p,typeName:Z.ZodPipeline})}}r.ZodPipeline=ne;class le extends c{_parse(l){const p=this._def.innerType._parse(l);return(0,n.isValid)(p)&&(p.value=Object.freeze(p.value)),p}}r.ZodReadonly=le,le.create=(P,l)=>new le({innerType:P,typeName:Z.ZodReadonly,...u(l)});const me=(P,l={},p)=>P?Y.create().superRefine((w,k)=>{var x,H;if(!P(w)){const $=typeof l=="function"?l(w):typeof l=="string"?{message:l}:l,oe=(H=(x=$.fatal)!==null&&x!==void 0?x:p)!==null&&H!==void 0?H:!0,se=typeof $=="string"?{message:$}:$;k.addIssue({code:"custom",...se,fatal:oe})}}):Y.create();r.custom=me,r.late={object:te.lazycreate};var Z;(function(P){P.ZodString="ZodString",P.ZodNumber="ZodNumber",P.ZodNaN="ZodNaN",P.ZodBigInt="ZodBigInt",P.ZodBoolean="ZodBoolean",P.ZodDate="ZodDate",P.ZodSymbol="ZodSymbol",P.ZodUndefined="ZodUndefined",P.ZodNull="ZodNull",P.ZodAny="ZodAny",P.ZodUnknown="ZodUnknown",P.ZodNever="ZodNever",P.ZodVoid="ZodVoid",P.ZodArray="ZodArray",P.ZodObject="ZodObject",P.ZodUnion="ZodUnion",P.ZodDiscriminatedUnion="ZodDiscriminatedUnion",P.ZodIntersection="ZodIntersection",P.ZodTuple="ZodTuple",P.ZodRecord="ZodRecord",P.ZodMap="ZodMap",P.ZodSet="ZodSet",P.ZodFunction="ZodFunction",P.ZodLazy="ZodLazy",P.ZodLiteral="ZodLiteral",P.ZodEnum="ZodEnum",P.ZodEffects="ZodEffects",P.ZodNativeEnum="ZodNativeEnum",P.ZodOptional="ZodOptional",P.ZodNullable="ZodNullable",P.ZodDefault="ZodDefault",P.ZodCatch="ZodCatch",P.ZodPromise="ZodPromise",P.ZodBranded="ZodBranded",P.ZodPipeline="ZodPipeline",P.ZodReadonly="ZodReadonly"})(Z=r.ZodFirstPartyTypeKind||(r.ZodFirstPartyTypeKind={}));const he=(P,l={message:`Input not instance of ${P.name}`})=>(0,r.custom)(p=>p instanceof P,l);r.instanceof=he;const Ce=M.create;r.string=Ce;const be=C.create;r.number=be;const Xe=re.create;r.nan=Xe;const Ue=v.create;r.bigint=Ue;const st=A.create;r.boolean=st;const sr=I.create;r.date=sr;const Gu=N.create;r.symbol=Gu;const Yu=L.create;r.undefined=Yu;const Ju=q.create;r.null=Ju;const Xu=Y.create;r.any=Xu;const Qu=K.create;r.unknown=Qu;const ec=V.create;r.never=ec;const tc=B.create;r.void=tc;const rc=G.create;r.array=rc;const nc=te.create;r.object=nc;const ic=te.strictCreate;r.strictObject=ic;const sc=ie.create;r.union=sc;const ac=J.create;r.discriminatedUnion=ac;const oc=Le.create;r.intersection=oc;const uc=we.create;r.tuple=uc;const cc=Ke.create;r.record=cc;const lc=Q.create;r.map=lc;const dc=y.create;r.set=dc;const fc=E.create;r.function=fc;const hc=D.create;r.lazy=hc;const pc=z.create;r.literal=pc;const mc=X.create;r.enum=mc;const gc=ae.create;r.nativeEnum=gc;const yc=ue.create;r.promise=yc;const Ms=fe.create;r.effect=Ms,r.transformer=Ms;const bc=ve.create;r.optional=bc;const vc=ye.create;r.nullable=vc;const wc=fe.createWithPreprocess;r.preprocess=wc;const _c=ne.create;r.pipeline=_c;const Ic=()=>Ce().optional();r.ostring=Ic;const Ac=()=>be().optional();r.onumber=Ac;const Ec=()=>st().optional();r.oboolean=Ec,r.coerce={string:P=>M.create({...P,coerce:!0}),number:P=>C.create({...P,coerce:!0}),boolean:P=>A.create({...P,coerce:!0}),bigint:P=>v.create({...P,coerce:!0}),date:P=>I.create({...P,coerce:!0})},r.NEVER=n.INVALID})(Fu);(function(r){var e=Ie&&Ie.__createBinding||(Object.create?function(n,i,s,a){a===void 0&&(a=s),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,a){a===void 0&&(a=s),n[a]=i[s]}),t=Ie&&Ie.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(r,"__esModule",{value:!0}),t(lt,r),t(Ls,r),t(Vu,r),t(Br,r),t(Fu,r),t(dt,r)})(Ji);(function(r){var e=Ie&&Ie.__createBinding||(Object.create?function(a,o,u,c){c===void 0&&(c=u),Object.defineProperty(a,c,{enumerable:!0,get:function(){return o[u]}})}:function(a,o,u,c){c===void 0&&(c=u),a[c]=o[u]}),t=Ie&&Ie.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),n=Ie&&Ie.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var u in a)u!=="default"&&Object.prototype.hasOwnProperty.call(a,u)&&e(o,a,u);return t(o,a),o},i=Ie&&Ie.__exportStar||function(a,o){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,a,u)};Object.defineProperty(r,"__esModule",{value:!0}),r.z=void 0;const s=n(Ji);r.z=s,i(Ji,r),r.default=s})(Yn);var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.parseAnyDef=void 0;function qg(){return{}}Xn.parseAnyDef=qg;var ur={},it={};Object.defineProperty(it,"__esModule",{value:!0});it.setResponseValueAndErrors=it.addErrorMessage=void 0;function qu(r,e,t,n){n!=null&&n.errorMessages&&t&&(r.errorMessage=Object.assign(Object.assign({},r.errorMessage),{[e]:t}))}it.addErrorMessage=qu;function Hg(r,e,t,n,i){r[e]=t,qu(r,e,n,i)}it.setResponseValueAndErrors=Hg;var qa;function Wg(){if(qa)return ur;qa=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.parseArrayDef=void 0;const r=Yn,e=it,t=De();function n(i,s){var a,o;const u={type:"array"};return((o=(a=i.type)===null||a===void 0?void 0:a._def)===null||o===void 0?void 0:o.typeName)!==r.ZodFirstPartyTypeKind.ZodAny&&(u.items=(0,t.parseDef)(i.type._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"items"]}))),i.minLength&&(0,e.setResponseValueAndErrors)(u,"minItems",i.minLength.value,i.minLength.message,s),i.maxLength&&(0,e.setResponseValueAndErrors)(u,"maxItems",i.maxLength.value,i.maxLength.message,s),i.exactLength&&((0,e.setResponseValueAndErrors)(u,"minItems",i.exactLength.value,i.exactLength.message,s),(0,e.setResponseValueAndErrors)(u,"maxItems",i.exactLength.value,i.exactLength.message,s)),u}return ur.parseArrayDef=n,ur}var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.parseBigintDef=void 0;const xt=it;function Gg(r,e){const t={type:"integer",format:"int64"};if(!r.checks)return t;for(const n of r.checks)switch(n.kind){case"min":e.target==="jsonSchema7"?n.inclusive?(0,xt.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e):(0,xt.setResponseValueAndErrors)(t,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(t.exclusiveMinimum=!0),(0,xt.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?(0,xt.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e):(0,xt.setResponseValueAndErrors)(t,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(t.exclusiveMaximum=!0),(0,xt.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e));break;case"multipleOf":(0,xt.setResponseValueAndErrors)(t,"multipleOf",n.value,n.message,e);break}return t}Qn.parseBigintDef=Gg;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.parseBooleanDef=void 0;function Yg(){return{type:"boolean"}}ei.parseBooleanDef=Yg;var cr={},Ha;function Jg(){if(Ha)return cr;Ha=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.parseBrandedDef=void 0;const r=De();function e(t,n){return(0,r.parseDef)(t.type._def,n)}return cr.parseBrandedDef=e,cr}var lr={},Wa;function Xg(){if(Wa)return lr;Wa=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.parseCatchDef=void 0;const r=De(),e=(t,n)=>(0,r.parseDef)(t.innerType._def,n);return lr.parseCatchDef=e,lr}var ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.parseDateDef=void 0;const Ga=it;function Qg(r,e){return e.dateStrategy=="integer"?ey(r,e):{type:"string",format:"date-time"}}ti.parseDateDef=Qg;const ey=(r,e)=>{const t={type:"integer",format:"unix-time"};for(const n of r.checks)switch(n.kind){case"min":e.target==="jsonSchema7"&&(0,Ga.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e);break;case"max":e.target==="jsonSchema7"&&(0,Ga.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e);break}return t};var dr={},Ya;function ty(){if(Ya)return dr;Ya=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.parseDefaultDef=void 0;const r=De();function e(t,n){return Object.assign(Object.assign({},(0,r.parseDef)(t.innerType._def,n)),{default:t.defaultValue()})}return dr.parseDefaultDef=e,dr}var fr={},Ja;function ry(){if(Ja)return fr;Ja=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.parseEffectsDef=void 0;const r=De();function e(t,n){return n.effectStrategy==="input"?(0,r.parseDef)(t.schema._def,n):{}}return fr.parseEffectsDef=e,fr}var ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.parseEnumDef=void 0;function ny(r){return{type:"string",enum:r.values}}ri.parseEnumDef=ny;var hr={},Xa;function iy(){if(Xa)return hr;Xa=1;var r=Ie&&Ie.__rest||function(i,s){var a={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.indexOf(o)<0&&(a[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(i);u<o.length;u++)s.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(i,o[u])&&(a[o[u]]=i[o[u]]);return a};Object.defineProperty(hr,"__esModule",{value:!0}),hr.parseIntersectionDef=void 0;const e=De(),t=i=>"type"in i&&i.type==="string"?!1:"allOf"in i;function n(i,s){const a=[(0,e.parseDef)(i.left._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"allOf","0"]})),(0,e.parseDef)(i.right._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"allOf","1"]}))].filter(c=>!!c);let o=s.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const u=[];return a.forEach(c=>{if(t(c))u.push(...c.allOf),c.unevaluatedProperties===void 0&&(o=void 0);else{let d=c;"additionalProperties"in c&&c.additionalProperties===!1?d=r(c,["additionalProperties"]):o=void 0,u.push(d)}}),u.length?Object.assign({allOf:u},o):void 0}return hr.parseIntersectionDef=n,hr}var ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.parseLiteralDef=void 0;function sy(r,e){const t=typeof r.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(r.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[r.value]}:{type:t==="bigint"?"integer":t,const:r.value}}ni.parseLiteralDef=sy;var pr={},Qa;function ay(){if(Qa)return pr;Qa=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.parseMapDef=void 0;const r=De();function e(t,n){const i=(0,r.parseDef)(t.keyType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items","items","0"]}))||{},s=(0,r.parseDef)(t.valueType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items","items","1"]}))||{};return{type:"array",maxItems:125,items:{type:"array",items:[i,s],minItems:2,maxItems:2}}}return pr.parseMapDef=e,pr}var ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.parseNativeEnumDef=void 0;function oy(r){const e=r.values,n=Object.keys(r.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),i=Array.from(new Set(n.map(s=>typeof s)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:n}}ii.parseNativeEnumDef=oy;var si={};Object.defineProperty(si,"__esModule",{value:!0});si.parseNeverDef=void 0;function uy(){return{not:{}}}si.parseNeverDef=uy;var ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.parseNullDef=void 0;function cy(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}ai.parseNullDef=cy;var mr={},Ni={},eo;function Hu(){return eo||(eo=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseUnionDef=r.primitiveMappings=void 0;const e=De();r.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function t(i,s){if(s.target==="openApi3")return n(i,s);const a=i.options instanceof Map?Array.from(i.options.values()):i.options;if(a.every(o=>o._def.typeName in r.primitiveMappings&&(!o._def.checks||!o._def.checks.length))){const o=a.reduce((u,c)=>{const d=r.primitiveMappings[c._def.typeName];return d&&!u.includes(d)?[...u,d]:u},[]);return{type:o.length>1?o:o[0]}}else if(a.every(o=>o._def.typeName==="ZodLiteral"&&!o.description)){const o=a.reduce((u,c)=>{const d=typeof c._def.value;switch(d){case"string":case"number":case"boolean":return[...u,d];case"bigint":return[...u,"integer"];case"object":if(c._def.value===null)return[...u,"null"];case"symbol":case"undefined":case"function":default:return u}},[]);if(o.length===a.length){const u=o.filter((c,d,f)=>f.indexOf(c)===d);return{type:u.length>1?u:u[0],enum:a.reduce((c,d)=>c.includes(d._def.value)?c:[...c,d._def.value],[])}}}else if(a.every(o=>o._def.typeName==="ZodEnum"))return{type:"string",enum:a.reduce((o,u)=>[...o,...u._def.values.filter(c=>!o.includes(c))],[])};return n(i,s)}r.parseUnionDef=t;const n=(i,s)=>{const a=(i.options instanceof Map?Array.from(i.options.values()):i.options).map((o,u)=>(0,e.parseDef)(o._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"anyOf",`${u}`]}))).filter(o=>!!o&&(!s.strictUnions||typeof o=="object"&&Object.keys(o).length>0));return a.length?{anyOf:a}:void 0}}(Ni)),Ni}var to;function ly(){if(to)return mr;to=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.parseNullableDef=void 0;const r=De(),e=Hu();function t(n,i){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return i.target==="openApi3"?{type:e.primitiveMappings[n.innerType._def.typeName],nullable:!0}:{type:[e.primitiveMappings[n.innerType._def.typeName],"null"]};if(i.target==="openApi3"){const a=(0,r.parseDef)(n.innerType._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath]}));return a&&Object.assign(Object.assign({},a),{nullable:!0})}const s=(0,r.parseDef)(n.innerType._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"anyOf","0"]}));return s&&{anyOf:[s,{type:"null"}]}}return mr.parseNullableDef=t,mr}var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.parseNumberDef=void 0;const bt=it;function dy(r,e){const t={type:"number"};if(!r.checks)return t;for(const n of r.checks)switch(n.kind){case"int":t.type="integer",(0,bt.addErrorMessage)(t,"type",n.message,e);break;case"min":e.target==="jsonSchema7"?n.inclusive?(0,bt.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e):(0,bt.setResponseValueAndErrors)(t,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(t.exclusiveMinimum=!0),(0,bt.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?(0,bt.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e):(0,bt.setResponseValueAndErrors)(t,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(t.exclusiveMaximum=!0),(0,bt.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e));break;case"multipleOf":(0,bt.setResponseValueAndErrors)(t,"multipleOf",n.value,n.message,e);break}return t}oi.parseNumberDef=dy;var St={},ro;function fy(){if(ro)return St;ro=1,Object.defineProperty(St,"__esModule",{value:!0}),St.parseObjectDef=St.parseObjectDefX=void 0;const r=De();function e(n,i){var s,a;Object.keys(n.shape()).reduce((u,c)=>{let d=n.shape()[c];const f=d.isOptional();f||(d=Object.assign({},d._def.innerSchema));const m=(0,r.parseDef)(d._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"properties",c],propertyPath:[...i.currentPath,"properties",c]}));return m!==void 0&&(u.properties[c]=m,f||(u.required||(u.required=[]),u.required.push(c))),u},{type:"object",properties:{},additionalProperties:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":(s=(0,r.parseDef)(n.catchall._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"additionalProperties"]})))!==null&&s!==void 0?s:!0});const o=Object.assign(Object.assign({type:"object"},Object.entries(n.shape()).reduce((u,[c,d])=>{if(d===void 0||d._def===void 0)return u;const f=(0,r.parseDef)(d._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"properties",c],propertyPath:[...i.currentPath,"properties",c]}));return f===void 0?u:{properties:Object.assign(Object.assign({},u.properties),{[c]:f}),required:d.isOptional()?u.required:[...u.required,c]}},{properties:{},required:[]})),{additionalProperties:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":(a=(0,r.parseDef)(n.catchall._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"additionalProperties"]})))!==null&&a!==void 0?a:!0});return o.required.length||delete o.required,o}St.parseObjectDefX=e;function t(n,i){var s;const a=Object.assign(Object.assign({type:"object"},Object.entries(n.shape()).reduce((o,[u,c])=>{if(c===void 0||c._def===void 0)return o;const d=(0,r.parseDef)(c._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"properties",u],propertyPath:[...i.currentPath,"properties",u]}));return d===void 0?o:{properties:Object.assign(Object.assign({},o.properties),{[u]:d}),required:c.isOptional()?o.required:[...o.required,u]}},{properties:{},required:[]})),{additionalProperties:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":(s=(0,r.parseDef)(n.catchall._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"additionalProperties"]})))!==null&&s!==void 0?s:!0});return a.required.length||delete a.required,a}return St.parseObjectDef=t,St}var gr={},no;function hy(){if(no)return gr;no=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.parseOptionalDef=void 0;const r=De(),e=(t,n)=>{var i;if(n.currentPath.toString()===((i=n.propertyPath)===null||i===void 0?void 0:i.toString()))return(0,r.parseDef)(t.innerType._def,n);const s=(0,r.parseDef)(t.innerType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"anyOf","1"]}));return s?{anyOf:[{not:{}},s]}:{}};return gr.parseOptionalDef=e,gr}var yr={},io;function py(){if(io)return yr;io=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.parsePipelineDef=void 0;const r=De(),e=(t,n)=>{if(n.pipeStrategy==="input")return(0,r.parseDef)(t.in._def,n);const i=(0,r.parseDef)(t.in._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"allOf","0"]})),s=(0,r.parseDef)(t.out._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"allOf",i?"1":"0"]}));return{allOf:[i,s].filter(a=>a!==void 0)}};return yr.parsePipelineDef=e,yr}var br={},so;function my(){if(so)return br;so=1,Object.defineProperty(br,"__esModule",{value:!0}),br.parsePromiseDef=void 0;const r=De();function e(t,n){return(0,r.parseDef)(t.type._def,n)}return br.parsePromiseDef=e,br}var vr={},Us={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseStringDef=r.emojiPattern=r.ulidPattern=r.cuid2Pattern=r.cuidPattern=r.emailPattern=void 0;const e=it;r.emailPattern='^(([^<>()[\\]\\\\.,;:\\s@\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\"]+)*)|(\\".+\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$',r.cuidPattern="^c[^\\s-]{8,}$",r.cuid2Pattern="^[a-z][a-z0-9]*$",r.ulidPattern="/[0-9A-HJKMNP-TV-Z]{26}/",r.emojiPattern="/^(p{Extended_Pictographic}|p{Emoji_Component})+$/u";function t(a,o){const u={type:"string"};if(a.checks)for(const c of a.checks)switch(c.kind){case"min":(0,e.setResponseValueAndErrors)(u,"minLength",typeof u.minLength=="number"?Math.max(u.minLength,c.value):c.value,c.message,o);break;case"max":(0,e.setResponseValueAndErrors)(u,"maxLength",typeof u.maxLength=="number"?Math.min(u.maxLength,c.value):c.value,c.message,o);break;case"email":switch(o.emailStrategy){case"format:email":i(u,"email",c.message,o);break;case"format:idn-email":i(u,"idn-email",c.message,o);break;case"pattern:zod":s(u,r.emailPattern,c.message,o);break}break;case"url":i(u,"uri",c.message,o);break;case"uuid":i(u,"uuid",c.message,o);break;case"regex":s(u,c.regex.source,c.message,o);break;case"cuid":s(u,r.cuidPattern,c.message,o);break;case"cuid2":s(u,r.cuid2Pattern,c.message,o);break;case"startsWith":s(u,"^"+n(c.value),c.message,o);break;case"endsWith":s(u,n(c.value)+"$",c.message,o);break;case"datetime":i(u,"date-time",c.message,o);break;case"length":(0,e.setResponseValueAndErrors)(u,"minLength",typeof u.minLength=="number"?Math.max(u.minLength,c.value):c.value,c.message,o),(0,e.setResponseValueAndErrors)(u,"maxLength",typeof u.maxLength=="number"?Math.min(u.maxLength,c.value):c.value,c.message,o);break;case"includes":{s(u,n(c.value),c.message,o);break}case"ip":{c.version!=="v6"&&i(u,"ipv4",c.message,o),c.version!=="v4"&&i(u,"ipv6",c.message,o);break}case"emoji":s(u,r.emojiPattern,c.message,o);break;case"ulid":{s(u,r.ulidPattern,c.message,o);break}}return u}r.parseStringDef=t;const n=a=>Array.from(a).map(o=>/[a-zA-Z0-9]/.test(o)?o:`\\${o}`).join(""),i=(a,o,u,c)=>{var d;a.format||!((d=a.anyOf)===null||d===void 0)&&d.some(f=>f.format)?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push(Object.assign({format:a.format},a.errorMessage&&c.errorMessages&&{errorMessage:{format:a.errorMessage.format}})),delete a.format,a.errorMessage&&(delete a.errorMessage.format,Object.keys(a.errorMessage).length===0&&delete a.errorMessage)),a.anyOf.push(Object.assign({format:o},u&&c.errorMessages&&{errorMessage:{format:u}}))):(0,e.setResponseValueAndErrors)(a,"format",o,u,c)},s=(a,o,u,c)=>{var d;a.pattern||!((d=a.allOf)===null||d===void 0)&&d.some(f=>f.pattern)?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push(Object.assign({pattern:a.pattern},a.errorMessage&&c.errorMessages&&{errorMessage:{pattern:a.errorMessage.pattern}})),delete a.pattern,a.errorMessage&&(delete a.errorMessage.pattern,Object.keys(a.errorMessage).length===0&&delete a.errorMessage)),a.allOf.push(Object.assign({pattern:o},u&&c.errorMessages&&{errorMessage:{pattern:u}}))):(0,e.setResponseValueAndErrors)(a,"pattern",o,u,c)}})(Us);var ao;function gy(){if(ao)return vr;ao=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.parseRecordDef=void 0;const r=Yn,e=De(),t=Us;function n(i,s){var a,o,u,c,d;if(s.target==="openApi3"&&((a=i.keyType)===null||a===void 0?void 0:a._def.typeName)===r.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:i.keyType._def.values,properties:i.keyType._def.values.reduce((m,b)=>{var g;return Object.assign(Object.assign({},m),{[b]:(g=(0,e.parseDef)(i.valueType._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"properties",b]})))!==null&&g!==void 0?g:{}})},{}),additionalProperties:!1};const f={type:"object",additionalProperties:(o=(0,e.parseDef)(i.valueType._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"additionalProperties"]})))!==null&&o!==void 0?o:{}};if(s.target==="openApi3")return f;if(((u=i.keyType)===null||u===void 0?void 0:u._def.typeName)===r.ZodFirstPartyTypeKind.ZodString&&(!((c=i.keyType._def.checks)===null||c===void 0)&&c.length)){const m=Object.entries((0,t.parseStringDef)(i.keyType._def,s)).reduce((b,[g,_])=>g==="type"?b:Object.assign(Object.assign({},b),{[g]:_}),{});return Object.assign(Object.assign({},f),{propertyNames:m})}else if(((d=i.keyType)===null||d===void 0?void 0:d._def.typeName)===r.ZodFirstPartyTypeKind.ZodEnum)return Object.assign(Object.assign({},f),{propertyNames:{enum:i.keyType._def.values}});return f}return vr.parseRecordDef=n,vr}var wr={},oo;function yy(){if(oo)return wr;oo=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.parseSetDef=void 0;const r=it,e=De();function t(n,i){const a={type:"array",uniqueItems:!0,items:(0,e.parseDef)(n.valueType._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"items"]}))};return n.minSize&&(0,r.setResponseValueAndErrors)(a,"minItems",n.minSize.value,n.minSize.message,i),n.maxSize&&(0,r.setResponseValueAndErrors)(a,"maxItems",n.maxSize.value,n.maxSize.message,i),a}return wr.parseSetDef=t,wr}var _r={},uo;function by(){if(uo)return _r;uo=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.parseTupleDef=void 0;const r=De();function e(t,n){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((i,s)=>(0,r.parseDef)(i._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items",`${s}`]}))).reduce((i,s)=>s===void 0?i:[...i,s],[]),additionalItems:(0,r.parseDef)(t.rest._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"additionalItems"]}))}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((i,s)=>(0,r.parseDef)(i._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items",`${s}`]}))).reduce((i,s)=>s===void 0?i:[...i,s],[])}}return _r.parseTupleDef=e,_r}var ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.parseUndefinedDef=void 0;function vy(){return{not:{}}}ui.parseUndefinedDef=vy;var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.parseUnknownDef=void 0;function wy(){return{}}ci.parseUnknownDef=wy;var co;function De(){if(co)return or;co=1,Object.defineProperty(or,"__esModule",{value:!0}),or.parseDef=void 0;const r=Yn,e=Xn,t=Wg(),n=Qn,i=ei,s=Jg(),a=Xg(),o=ti,u=ty(),c=ry(),d=ri,f=iy(),m=ni,b=ay(),g=ii,_=si,h=ai,T=ly(),j=oi,S=fy(),R=hy(),M=py(),O=my(),C=gy(),v=yy(),A=Us,I=by(),N=ui,L=Hu(),q=ci;function Y(W,te,ie=!1){const ge=te.seen.get(W);if(ge&&!ie){const Le=K(ge,te);if(Le!==void 0)return Le}const J={def:W,path:te.currentPath,jsonSchema:void 0};te.seen.set(W,J);const je=B(W,W.typeName,te);return je&&G(W,te,je),J.jsonSchema=je,je}or.parseDef=Y;const K=(W,te)=>{switch(te.$refStrategy){case"root":return{$ref:W.path.length===0?"":W.path.length===1?`${W.path[0]}/`:W.path.join("/")};case"relative":return{$ref:V(te.currentPath,W.path)};case"none":return W.path.length<te.currentPath.length&&W.path.every((ie,ge)=>te.currentPath[ge]===ie)?(console.warn(`Recursive reference detected at ${te.currentPath.join("/")}! Defaulting to any`),{}):void 0;case"seen":return W.path.length<te.currentPath.length&&W.path.every((ie,ge)=>te.currentPath[ge]===ie)?(console.warn(`Recursive reference detected at ${te.currentPath.join("/")}! Defaulting to any`),{}):W.jsonSchema}},V=(W,te)=>{let ie=0;for(;ie<W.length&&ie<te.length&&W[ie]===te[ie];ie++);return[(W.length-ie).toString(),...te.slice(ie)].join("/")},B=(W,te,ie)=>{switch(te){case r.ZodFirstPartyTypeKind.ZodString:return(0,A.parseStringDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodNumber:return(0,j.parseNumberDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodObject:return(0,S.parseObjectDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodBigInt:return(0,n.parseBigintDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodBoolean:return(0,i.parseBooleanDef)();case r.ZodFirstPartyTypeKind.ZodDate:return(0,o.parseDateDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodUndefined:return(0,N.parseUndefinedDef)();case r.ZodFirstPartyTypeKind.ZodNull:return(0,h.parseNullDef)(ie);case r.ZodFirstPartyTypeKind.ZodArray:return(0,t.parseArrayDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodUnion:case r.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,L.parseUnionDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodIntersection:return(0,f.parseIntersectionDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodTuple:return(0,I.parseTupleDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodRecord:return(0,C.parseRecordDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodLiteral:return(0,m.parseLiteralDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodEnum:return(0,d.parseEnumDef)(W);case r.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,g.parseNativeEnumDef)(W);case r.ZodFirstPartyTypeKind.ZodNullable:return(0,T.parseNullableDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodOptional:return(0,R.parseOptionalDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodMap:return(0,b.parseMapDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodSet:return(0,v.parseSetDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodLazy:return Y(W.getter()._def,ie);case r.ZodFirstPartyTypeKind.ZodPromise:return(0,O.parsePromiseDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodNaN:case r.ZodFirstPartyTypeKind.ZodNever:return(0,_.parseNeverDef)();case r.ZodFirstPartyTypeKind.ZodEffects:return(0,c.parseEffectsDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodAny:return(0,e.parseAnyDef)();case r.ZodFirstPartyTypeKind.ZodUnknown:return(0,q.parseUnknownDef)();case r.ZodFirstPartyTypeKind.ZodDefault:return(0,u.parseDefaultDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodBranded:return(0,s.parseBrandedDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodCatch:return(0,a.parseCatchDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodPipeline:return(0,M.parsePipelineDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodFunction:case r.ZodFirstPartyTypeKind.ZodVoid:case r.ZodFirstPartyTypeKind.ZodSymbol:return;default:return(ge=>{})()}},G=(W,te,ie)=>(W.description&&(ie.description=W.description,te.markdownDescription&&(ie.markdownDescription=W.description)),ie);return or}var li={},Wu={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultOptions=r.defaultOptions=void 0,r.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"string",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,emailStrategy:"format:email"};const e=t=>typeof t=="string"?Object.assign(Object.assign({},r.defaultOptions),{name:t}):Object.assign(Object.assign({},r.defaultOptions),t);r.getDefaultOptions=e})(Wu);Object.defineProperty(li,"__esModule",{value:!0});li.getRefs=void 0;const _y=Wu,Iy=r=>{const e=(0,_y.getDefaultOptions)(r),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return Object.assign(Object.assign({},e),{currentPath:t,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([n,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,n],jsonSchema:void 0}]))})};li.getRefs=Iy;Object.defineProperty(Gn,"__esModule",{value:!0});Gn.zodToJsonSchema=void 0;const lo=De(),Ay=li,Ey=(r,e)=>{var t;const n=(0,Ay.getRefs)(e),i=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((u,[c,d])=>{var f;return Object.assign(Object.assign({},u),{[c]:(f=(0,lo.parseDef)(d._def,Object.assign(Object.assign({},n),{currentPath:[...n.basePath,n.definitionPath,c]}),!0))!==null&&f!==void 0?f:{}})},{}):void 0,s=typeof e=="string"?e:e==null?void 0:e.name,a=(t=(0,lo.parseDef)(r._def,s===void 0?n:Object.assign(Object.assign({},n),{currentPath:[...n.basePath,n.definitionPath,s]}),!1))!==null&&t!==void 0?t:{},o=s===void 0?i?Object.assign(Object.assign({},a),{[n.definitionPath]:i}):a:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:Object.assign(Object.assign({},i),{[s]:a})};return n.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":n.target==="jsonSchema2019-09"&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),o};Gn.zodToJsonSchema=Ey;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.zodToJsonSchema=void 0;const e=Gn;Object.defineProperty(r,"zodToJsonSchema",{enumerable:!0,get:function(){return e.zodToJsonSchema}}),r.default=e.zodToJsonSchema})($u);function Ty(r){return{name:r.name,description:r.description,parameters:$u.zodToJsonSchema(r.schema)}}class Nt extends iu{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}_separateRunnableConfigFromCallOptions(e){const[t,n]=super._separateRunnableConfigFromCallOptions(e);return n!=null&&n.timeout&&!n.signal&&(n.signal=AbortSignal.timeout(n.timeout)),[t,n]}async invoke(e,t){const n=Nt._convertInputToPromptValue(e);return(await this.generatePrompt([n],t,t==null?void 0:t.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,t,n){throw new Error("Not implemented.")}async*_streamIterator(e,t){if(this._streamResponseChunks===Nt.prototype._streamResponseChunks)yield this.invoke(e,t);else{const i=Nt._convertInputToPromptValue(e).toChatMessages(),[s,a]=this._separateRunnableConfigFromCallOptions(t),o=await Ve.configure(s.callbacks,this.callbacks,s.tags,this.tags,s.metadata,this.metadata,{verbose:this.verbose}),u={options:a,invocation_params:this==null?void 0:this.invocationParams(a)},c=await(o==null?void 0:o.handleChatModelStart(this.toJSON(),[i],void 0,void 0,u,void 0,void 0,s.runName));let d;try{for await(const f of this._streamResponseChunks(i,a,c==null?void 0:c[0]))yield f.message,d?d=d.concat(f):d=f}catch(f){throw await Promise.all((c??[]).map(m=>m==null?void 0:m.handleLLMError(f))),f}await Promise.all((c??[]).map(f=>f==null?void 0:f.handleLLMEnd({generations:[[d]]})))}}async _generateUncached(e,t,n){var m;const i=e.map(b=>b.map(Qr)),s=await Ve.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),a={options:t,invocation_params:this==null?void 0:this.invocationParams(t)},o=await(s==null?void 0:s.handleChatModelStart(this.toJSON(),i,void 0,void 0,a,void 0,void 0,n.runName)),u=await Promise.allSettled(i.map((b,g)=>this._generate(b,{...t,promptIndex:g},o==null?void 0:o[g]))),c=[],d=[];await Promise.all(u.map(async(b,g)=>{var _,h;if(b.status==="fulfilled"){const T=b.value;return c[g]=T.generations,d[g]=T.llmOutput,(_=o==null?void 0:o[g])==null?void 0:_.handleLLMEnd({generations:[T.generations],llmOutput:T.llmOutput})}else return await((h=o==null?void 0:o[g])==null?void 0:h.handleLLMError(b.reason)),Promise.reject(b.reason)}));const f={generations:c,llmOutput:d.length?(m=this._combineLLMOutput)==null?void 0:m.call(this,...d):void 0};return Object.defineProperty(f,Go,{value:o?{runIds:o==null?void 0:o.map(b=>b.runId)}:void 0,configurable:!0}),f}async generate(e,t,n){let i;Array.isArray(t)?i={stop:t}:i=t;const s=e.map(b=>b.map(Qr)),[a,o]=this._separateRunnableConfigFromCallOptions(i);if(a.callbacks=a.callbacks??n,!this.cache)return this._generateUncached(s,o,a);const{cache:u}=this,c=this._getSerializedCacheKeyParametersForCall(o),d=[],f=await Promise.all(s.map(async(b,g)=>{const _=Nt._convertInputToPromptValue(b).toString(),h=await u.lookup(_,c);return h||d.push(g),h}));let m={};if(d.length>0){const b=await this._generateUncached(d.map(g=>s[g]),o,a);await Promise.all(b.generations.map(async(g,_)=>{const h=d[_];f[h]=g;const T=Nt._convertInputToPromptValue(s[h]).toString();return u.update(T,c,g)})),m=b.llmOutput??{}}return{generations:f,llmOutput:m}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,t,n){const i=e.map(s=>s.toChatMessages());return this.generate(i,t,n)}async call(e,t,n){return(await this.generate([e.map(Qr)],t,n)).generations[0][0].message}async callPrompt(e,t,n){const i=e.toChatMessages();return this.call(i,t,n)}async predictMessages(e,t,n){return this.call(e,t,n)}async predict(e,t,n){const i=new kr(e);return(await this.call([i],t,n)).content}}function Py(r){return r.role!=="system"&&r.role!=="assistant"&&r.role!=="user"&&r.role!=="function"&&console.warn(`Unknown message role: ${r.role}`),r.role}function Ri(r){const e=r._getType();switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"generic":{if(!Jo.isInstance(r))throw new Error("Invalid generic chat message");return Py(r)}default:throw new Error(`Unknown message type: ${e}`)}}function Oy(r){switch(r.role){case"user":return new kr(r.content||"");case"assistant":return new As(r.content||"",{function_call:r.function_call});case"system":return new Yo(r.content||"");default:return new Jo(r.content||"",r.role??"unknown")}}function xy(r,e){const t=r.role??e,n=r.content??"";let i;return r.function_call?i={function_call:r.function_call}:i={},t==="user"?new In({content:n}):t==="assistant"?new An({content:n,additional_kwargs:i}):t==="system"?new En({content:n}):t==="function"?new Tn({content:n,additional_kwargs:i,name:r.name}):new Pn({content:n,role:t})}class Sy extends Nt{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","promptIndex"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){var n,i,s,a,o,u,c,d;if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.openAIApiKey)??ce("OPENAI_API_KEY"),this.azureOpenAIApiKey=(e==null?void 0:e.azureOpenAIApiKey)??ce("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=(e==null?void 0:e.azureOpenAIApiInstanceName)??ce("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=(e==null?void 0:e.azureOpenAIApiDeploymentName)??ce("AZURE_OPENAI_API_DEPLOYMENT_NAME"),this.azureOpenAIApiVersion=(e==null?void 0:e.azureOpenAIApiVersion)??ce("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??ce("AZURE_OPENAI_BASE_PATH"),this.organization=((n=e==null?void 0:e.configuration)==null?void 0:n.organization)??ce("OPENAI_ORGANIZATION"),this.modelName=(e==null?void 0:e.modelName)??this.modelName,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.maxTokens=e==null?void 0:e.maxTokens,this.n=(e==null?void 0:e.n)??this.n,this.logitBias=e==null?void 0:e.logitBias,this.stop=e==null?void 0:e.stop,this.user=e==null?void 0:e.user,this.streaming=(e==null?void 0:e.streaming)??!1,this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.openAIApiKey=this.openAIApiKey??""}this.clientConfig={apiKey:this.openAIApiKey,organization:this.organization,baseURL:(t==null?void 0:t.basePath)??((i=e==null?void 0:e.configuration)==null?void 0:i.basePath),dangerouslyAllowBrowser:!0,defaultHeaders:((s=t==null?void 0:t.baseOptions)==null?void 0:s.headers)??((o=(a=e==null?void 0:e.configuration)==null?void 0:a.baseOptions)==null?void 0:o.headers),defaultQuery:((u=t==null?void 0:t.baseOptions)==null?void 0:u.params)??((d=(c=e==null?void 0:e.configuration)==null?void 0:c.baseOptions)==null?void 0:d.params),...t,...e==null?void 0:e.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,max_tokens:this.maxTokens===-1?void 0:this.maxTokens,n:this.n,logit_bias:this.logitBias,stop:(e==null?void 0:e.stop)??this.stop,user:this.user,stream:this.streaming,functions:(e==null?void 0:e.functions)??(e!=null&&e.tools?e==null?void 0:e.tools.map(Ty):void 0),function_call:e==null?void 0:e.function_call,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(e,t,n){var u;const i=e.map(c=>({role:Ri(c),content:c.content,name:c.name,function_call:c.additional_kwargs.function_call})),s={...this.invocationParams(t),messages:i,stream:!0};let a;const o=await this.completionWithRetry(s,t);for await(const c of o){const d=c==null?void 0:c.choices[0];if(!d)continue;const{delta:f}=d,m=xy(f,a);a=f.role??a;const b={prompt:t.promptIndex??0,completion:d.index??0},g=new Es({message:m,text:m.content,generationInfo:b});yield g,n==null||n.handleLLMNewToken(g.text??"",b,void 0,void 0,void 0,{chunk:g})}if((u=t.signal)!=null&&u.aborted)throw new Error("AbortError")}identifyingParams(){return this._identifyingParams()}async _generate(e,t,n){var o,u;const i={},s=this.invocationParams(t),a=e.map(c=>({role:Ri(c),content:c.content,name:c.name,function_call:c.additional_kwargs.function_call}));if(s.stream){const c=await this._streamResponseChunks(e,t,n),d={};for await(const m of c){const b=((o=m.generationInfo)==null?void 0:o.completion)??0;d[b]===void 0?d[b]=m:d[b]=d[b].concat(m)}return{generations:Object.entries(d).sort(([m],[b])=>parseInt(m,10)-parseInt(b,10)).map(([m,b])=>b)}}else{const c=await this.completionWithRetry({...s,stream:!1,messages:a},{signal:t==null?void 0:t.signal,...t==null?void 0:t.options}),{completion_tokens:d,prompt_tokens:f,total_tokens:m}=(c==null?void 0:c.usage)??{};d&&(i.completionTokens=(i.completionTokens??0)+d),f&&(i.promptTokens=(i.promptTokens??0)+f),m&&(i.totalTokens=(i.totalTokens??0)+m);const b=[];for(const g of(c==null?void 0:c.choices)??[]){const h={text:((u=g.message)==null?void 0:u.content)??"",message:Oy(g.message??{role:"assistant"})};g.finish_reason&&(h.generationInfo={finish_reason:g.finish_reason}),b.push(h)}return{generations:b,llmOutput:{tokenUsage:i}}}}async getNumTokensFromMessages(e){let t=0,n=0,i=0;Cr(this.modelName)==="gpt-3.5-turbo"?(n=4,i=-1):Cr(this.modelName).startsWith("gpt-4")&&(n=3,i=1);const s=await Promise.all(e.map(async a=>{const o=await this.getNumTokens(a.content),u=await this.getNumTokens(Ri(a)),c=a.name!==void 0?i+await this.getNumTokens(a.name):0,d=o+n+u+c;return t+=d,d}));return t+=3,{totalCount:t,countPerMessage:s}}async completionWithRetry(e,t){const n=this._getClientOptions(t);return this.caller.call(async()=>{try{return await this.client.chat.completions.create(e,n)}catch(i){throw qn(i)}})}_getClientOptions(e){if(!this.client){const n={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=Kn(n),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new Pe(s)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce((t,n)=>(n&&n.tokenUsage&&(t.tokenUsage.completionTokens+=n.tokenUsage.completionTokens??0,t.tokenUsage.promptTokens+=n.tokenUsage.promptTokens??0,t.tokenUsage.totalTokens+=n.tokenUsage.totalTokens??0),t),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}}const Cy=Object.freeze(Object.defineProperty({__proto__:null,ChatOpenAI:Sy},Symbol.toStringTag,{value:"Module"}));exports.DEFAULT_SETTINGS=Rn;exports.FileSelectModal=js;exports.default=zg;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC91dGlscy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZG9tLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9saWZlY3ljbGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3NjaGVkdWxlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvdHJhbnNpdGlvbnMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2VhY2guanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3NwcmVhZC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvQ29tcG9uZW50LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvc2hhcmVkL3ZlcnNpb24uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2Rpc2Nsb3NlLXZlcnNpb24vaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlLWljb25zL2NvbXBvbmVudHMvSWNvbkJhc2Uuc3ZlbHRlIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS1pY29ucy9tZC9NZFNlbmQuc3ZlbHRlIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9zdG9yZS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvcmV0cnkvbGliL3JldHJ5X29wZXJhdGlvbi5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvcmV0cnkvbGliL3JldHJ5LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9yZXRyeS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvcC1yZXRyeS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL25hdGl2ZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kZWNhbWVsaXplL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9jYW1lbGNhc2UvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xvYWQvbWFwX2tleXMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xvYWQvc2VyaWFsaXphYmxlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvYW5zaS1zdHlsZXMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NhbGxiYWNrcy9oYW5kbGVycy90cmFjZXIuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NhbGxiYWNrcy9oYW5kbGVycy9jb25zb2xlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9wLWZpbmFsbHkvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3AtdGltZW91dC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvcC1xdWV1ZS9kaXN0L2xvd2VyLWJvdW5kLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9wLXF1ZXVlL2Rpc3QvcHJpb3JpdHktcXVldWUuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3AtcXVldWUvZGlzdC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ3NtaXRoL2Rpc3QvdXRpbHMvYXN5bmNfY2FsbGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nc21pdGgvZGlzdC91dGlscy9tZXNzYWdlcy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ3NtaXRoL2Rpc3QvdXRpbHMvZW52LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nc21pdGgvZGlzdC9jbGllbnQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvZW52LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvaGFuZGxlcnMvdHJhY2VyX2xhbmdjaGFpbi5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvbWVtb3J5L2Jhc2UuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NhbGxiYWNrcy9oYW5kbGVycy90cmFjZXJfbGFuZ2NoYWluX3YxLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvaGFuZGxlcnMvaW5pdGlhbGl6ZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2FsbGJhY2tzL3Byb21pc2VzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvbWFuYWdlci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdXRpbC9mYXN0LWpzb24tcGF0Y2gvc3JjL2hlbHBlcnMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvZmFzdC1qc29uLXBhdGNoL3NyYy9jb3JlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC91dGlsL3N0cmVhbS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2FsbGJhY2tzL2hhbmRsZXJzL2xvZ19zdHJlYW0uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3NjaGVtYS9ydW5uYWJsZS9jb25maWcuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvYXN5bmNfY2FsbGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9zY2hlbWEvcnVubmFibGUvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvc2NoZW1hL3J1bm5hYmxlL3Bhc3N0aHJvdWdoLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvdmVyc2lvbi5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9zdHJlYW1pbmcubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvZXJyb3IubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL2FnZW50Lm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9mZXRjaC5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9fc2hpbXMvZm9ybWRhdGEubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL2dldE11bHRpcGFydFJlcXVlc3RPcHRpb25zLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9maWxlRnJvbVBhdGgubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL25vZGUtcmVhZGFibGUubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvdXBsb2Fkcy5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9jb3JlLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3BhZ2luYXRpb24ubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2UubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL3RyYW5zY3JpcHRpb25zLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9hdWRpby90cmFuc2xhdGlvbnMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL2F1ZGlvLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jaGF0L2NvbXBsZXRpb25zLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jaGF0L2NoYXQubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NvbXBsZXRpb25zLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9lbWJlZGRpbmdzLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9lZGl0cy5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZmlsZXMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuZXMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2ZpbmUtdHVuaW5nLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9pbWFnZXMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL21vZGVscy5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvbW9kZXJhdGlvbnMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvaW5kZXgubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9qcy10aWt0b2tlbi9kaXN0L2NodW5rLVhYUEdaSFdaLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2pzLXRpa3Rva2VuL2Rpc3QvY2h1bmstVEhHWlNPTkYuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvdGlrdG9rZW4uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2Jhc2VfbGFuZ3VhZ2UvY291bnRfdG9rZW5zLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9zY2hlbWEvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvYXp1cmUuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvY2h1bmsuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3Byb21wdHMvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvcHJvbXB0cy90ZW1wbGF0ZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvcHJvbXB0cy9wcm9tcHQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3Byb21wdHMvY2hhdC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb2JqZWN0LWhhc2gvZGlzdC9vYmplY3RfaGFzaC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2FjaGUvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2FjaGUvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2Jhc2VfbGFuZ3VhZ2UvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xsbXMvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdXRpbC9vcGVuYWkuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xsbXMvb3BlbmFpLWNoYXQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xsbXMvb3BlbmFpLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9kb2N1bWVudC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvcHJvbXB0cy9mZXdfc2hvdC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy90b2tlbml6ZXIvbGFuZ3VhZ2VzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC91dGlscy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvZXJyb3JzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2RlZmF1bHRzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2RvY3VtZW50cy1zdG9yZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9wbHVnaW5zLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2hvb2tzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC90cmVlcy9hdmwuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L3RyZWVzL2ZsYXQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvbGV2ZW5zaHRlaW4uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L3RyZWVzL3JhZGl4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC90cmVlcy9ia2QuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvYWxnb3JpdGhtcy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9jb3NpbmUtc2ltaWxhcml0eS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9zb3J0ZXIuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvdG9rZW5pemVyL2RpYWNyaXRpY3MuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvdG9rZW5pemVyL2VuZ2xpc2gtc3RlbW1lci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy90b2tlbml6ZXIvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L21ldGhvZHMvY3JlYXRlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC90eXBlcy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9zeW5jLWJsb2NraW5nLWNoZWNrZXIuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L21ldGhvZHMvaW5zZXJ0LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9tZXRob2RzL3JlbW92ZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9mYWNldHMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvZmlsdGVycy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9ncm91cHMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L21ldGhvZHMvc2VhcmNoLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9tZXRob2RzL3NlYXJjaC12ZWN0b3IuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L21ldGhvZHMvc2VyaWFsaXphdGlvbi5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vdXRpbHMvaW50Lm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vdXRpbHMvdXRmOC5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0Btc2dwYWNrL21zZ3BhY2svZGlzdC5lczUrZXNtL0V4dERhdGEubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9AbXNncGFjay9tc2dwYWNrL2Rpc3QuZXM1K2VzbS9EZWNvZGVFcnJvci5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0Btc2dwYWNrL21zZ3BhY2svZGlzdC5lczUrZXNtL3RpbWVzdGFtcC5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0Btc2dwYWNrL21zZ3BhY2svZGlzdC5lczUrZXNtL0V4dGVuc2lvbkNvZGVjLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vdXRpbHMvdHlwZWRBcnJheXMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9AbXNncGFjay9tc2dwYWNrL2Rpc3QuZXM1K2VzbS9FbmNvZGVyLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vZW5jb2RlLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vdXRpbHMvcHJldHR5Qnl0ZS5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0Btc2dwYWNrL21zZ3BhY2svZGlzdC5lczUrZXNtL0NhY2hlZEtleURlY29kZXIubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9AbXNncGFjay9tc2dwYWNrL2Rpc3QuZXM1K2VzbS9EZWNvZGVyLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vZGVjb2RlLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvZHBhY2svbGliL3NlcmlhbGl6ZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvZHBhY2svbGliL3BhcnNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kcGFjay9saWIvcGFyc2Utc3RyZWFtLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kcGFjay9saWIvbm9kZS1lbmNvZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kcGFjay9saWIvT3B0aW9ucy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvZHBhY2svbGliL3NoYXJlZC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvZHBhY2svbGliL0Jsb2NrLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kcGFjay9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL3BsdWdpbi1kYXRhLXBlcnNpc3RlbmNlL2Rpc3QvZXJyb3JzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvcGx1Z2luLWRhdGEtcGVyc2lzdGVuY2UvZGlzdC91dGlscy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL3BsdWdpbi1kYXRhLXBlcnNpc3RlbmNlL2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3NjaGVtYS9yZXRyaWV2ZXIuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3ZlY3RvcnN0b3Jlcy9iYXNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9lbWJlZGRpbmdzL2Jhc2UuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2VtYmVkZGluZ3Mvb3BlbmFpLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9zY2hlbWEvb3V0cHV0X3BhcnNlci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9kaXN0L2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vc3JjL3N0b3JlLnRzIiwiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvSW5wdXQuc3ZlbHRlIiwiLi4vLi4vLi4vLi4vc3JjL3ZpZXdzL0NoYXRNb2RhbC50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUtaWNvbnMvbWQvTWRDb250ZW50Q29weS5zdmVsdGUiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlLWljb25zL21kL01kTGlicmFyeUJvb2tzLnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL01lc3NhZ2VzLnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0NoYXRWaWV3LnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL3NyYy92aWV3cy9DaGF0Vmlldy50cyIsIi4uLy4uLy4uLy4uL3NyYy92aWV3cy9TZXR0aW5ncy50cyIsIi4uLy4uLy4uLy4uL3NyYy9tYWluLnRzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2hlbHBlcnMvdXRpbC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kL2xpYi9ab2RFcnJvci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kL2xpYi9sb2NhbGVzL2VuLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2Vycm9ycy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kL2xpYi9oZWxwZXJzL3BhcnNlVXRpbC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kL2xpYi9oZWxwZXJzL3R5cGVBbGlhc2VzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2hlbHBlcnMvZXJyb3JVdGlsLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL3R5cGVzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2V4dGVybmFsLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvYW55LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL2Vycm9yTWVzc2FnZXMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9hcnJheS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL2JpZ2ludC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL2Jvb2xlYW4uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9icmFuZGVkLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvY2F0Y2guanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9kYXRlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvZGVmYXVsdC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL2VmZmVjdHMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9lbnVtLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvaW50ZXJzZWN0aW9uLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvbGl0ZXJhbC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL21hcC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL25hdGl2ZUVudW0uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9uZXZlci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL251bGwuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy91bmlvbi5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL251bGxhYmxlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvbnVtYmVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvb2JqZWN0LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvb3B0aW9uYWwuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9waXBlbGluZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL3Byb21pc2UuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9zdHJpbmcuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9yZWNvcmQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9zZXQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy90dXBsZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL3VuZGVmaW5lZC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL3Vua25vd24uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2VEZWYuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvT3B0aW9ucy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9SZWZzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3pvZFRvSnNvblNjaGVtYS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC90b29scy9jb252ZXJ0X3RvX29wZW5haS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhdF9tb2RlbHMvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhdF9tb2RlbHMvb3BlbmFpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkge31cblxuZXhwb3J0IGNvbnN0IGlkZW50aXR5ID0gKHgpID0+IHg7XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSBTXG4gKiBAcGFyYW0ge1R9IHRhclxuICogQHBhcmFtIHtTfSBzcmNcbiAqIEByZXR1cm5zIHtUICYgU31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbih0YXIsIHNyYykge1xuXHQvLyBAdHMtaWdub3JlXG5cdGZvciAoY29uc3QgayBpbiBzcmMpIHRhcltrXSA9IHNyY1trXTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7VCAmIFN9ICovICh0YXIpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9pbmRleC5qc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgTUlUIExpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9MSUNFTlNFXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHJldHVybnMge3ZhbHVlIGlzIFByb21pc2VMaWtlPGFueT59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19wcm9taXNlKHZhbHVlKSB7XG5cdHJldHVybiAoXG5cdFx0ISF2YWx1ZSAmJlxuXHRcdCh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgJiZcblx0XHR0eXBlb2YgKC8qKiBAdHlwZSB7YW55fSAqLyAodmFsdWUpLnRoZW4pID09PSAnZnVuY3Rpb24nXG5cdCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfbG9jYXRpb24oZWxlbWVudCwgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyKSB7XG5cdGVsZW1lbnQuX19zdmVsdGVfbWV0YSA9IHtcblx0XHRsb2M6IHsgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyIH1cblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bihmbikge1xuXHRyZXR1cm4gZm4oKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsYW5rX29iamVjdCgpIHtcblx0cmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtGdW5jdGlvbltdfSBmbnNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuX2FsbChmbnMpIHtcblx0Zm5zLmZvckVhY2gocnVuKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gdGhpbmdcbiAqIEByZXR1cm5zIHt0aGluZyBpcyBGdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Z1bmN0aW9uKHRoaW5nKSB7XG5cdHJldHVybiB0eXBlb2YgdGhpbmcgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlX25vdF9lcXVhbChhLCBiKSB7XG5cdHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiIHx8IChhICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JykgfHwgdHlwZW9mIGEgPT09ICdmdW5jdGlvbic7XG59XG5cbmxldCBzcmNfdXJsX2VxdWFsX2FuY2hvcjtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudF9zcmNcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3JjX3VybF9lcXVhbChlbGVtZW50X3NyYywgdXJsKSB7XG5cdGlmIChlbGVtZW50X3NyYyA9PT0gdXJsKSByZXR1cm4gdHJ1ZTtcblx0aWYgKCFzcmNfdXJsX2VxdWFsX2FuY2hvcikge1xuXHRcdHNyY191cmxfZXF1YWxfYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHR9XG5cdC8vIFRoaXMgaXMgYWN0dWFsbHkgZmFzdGVyIHRoYW4gZG9pbmcgVVJMKC4uKS5ocmVmXG5cdHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWYgPSB1cmw7XG5cdHJldHVybiBlbGVtZW50X3NyYyA9PT0gc3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZjtcbn1cblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBzcmNzZXQgKi9cbmZ1bmN0aW9uIHNwbGl0X3NyY3NldChzcmNzZXQpIHtcblx0cmV0dXJuIHNyY3NldC5zcGxpdCgnLCcpLm1hcCgoc3JjKSA9PiBzcmMudHJpbSgpLnNwbGl0KCcgJykuZmlsdGVyKEJvb2xlYW4pKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxTb3VyY2VFbGVtZW50IHwgSFRNTEltYWdlRWxlbWVudH0gZWxlbWVudF9zcmNzZXRcbiAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbH0gc3Jjc2V0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNyY3NldF91cmxfZXF1YWwoZWxlbWVudF9zcmNzZXQsIHNyY3NldCkge1xuXHRjb25zdCBlbGVtZW50X3VybHMgPSBzcGxpdF9zcmNzZXQoZWxlbWVudF9zcmNzZXQuc3Jjc2V0KTtcblx0Y29uc3QgdXJscyA9IHNwbGl0X3NyY3NldChzcmNzZXQgfHwgJycpO1xuXG5cdHJldHVybiAoXG5cdFx0dXJscy5sZW5ndGggPT09IGVsZW1lbnRfdXJscy5sZW5ndGggJiZcblx0XHR1cmxzLmV2ZXJ5KFxuXHRcdFx0KFt1cmwsIHdpZHRoXSwgaSkgPT5cblx0XHRcdFx0d2lkdGggPT09IGVsZW1lbnRfdXJsc1tpXVsxXSAmJlxuXHRcdFx0XHQvLyBXZSBuZWVkIHRvIHRlc3QgYm90aCB3YXlzIGJlY2F1c2UgVml0ZSB3aWxsIGNyZWF0ZSBhbiBhIGZ1bGwgVVJMIHdpdGhcblx0XHRcdFx0Ly8gYG5ldyBVUkwoYXNzZXQsIGltcG9ydC5tZXRhLnVybCkuaHJlZmAgZm9yIHRoZSBjbGllbnQgd2hlbiBgYmFzZTogJy4vJ2AsIGFuZCB0aGVcblx0XHRcdFx0Ly8gcmVsYXRpdmUgVVJMcyBpbnNpZGUgc3Jjc2V0IGFyZSBub3QgYXV0b21hdGljYWxseSByZXNvbHZlZCB0byBhYnNvbHV0ZSBVUkxzIGJ5XG5cdFx0XHRcdC8vIGJyb3dzZXJzIChpbiBjb250cmFzdCB0byBpbWcuc3JjKS4gVGhpcyBtZWFucyBib3RoIFNTUiBhbmQgRE9NIGNvZGUgY291bGRcblx0XHRcdFx0Ly8gY29udGFpbiByZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkxzLlxuXHRcdFx0XHQoc3JjX3VybF9lcXVhbChlbGVtZW50X3VybHNbaV1bMF0sIHVybCkgfHwgc3JjX3VybF9lcXVhbCh1cmwsIGVsZW1lbnRfdXJsc1tpXVswXSkpXG5cdFx0KVxuXHQpO1xufVxuXG4vKiogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcblx0cmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGI7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19lbXB0eShvYmopIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVfc3RvcmUoc3RvcmUsIG5hbWUpIHtcblx0aWYgKHN0b3JlICE9IG51bGwgJiYgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHRocm93IG5ldyBFcnJvcihgJyR7bmFtZX0nIGlzIG5vdCBhIHN0b3JlIHdpdGggYSAnc3Vic2NyaWJlJyBtZXRob2RgKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCAuLi5jYWxsYmFja3MpIHtcblx0aWYgKHN0b3JlID09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGNhbGxiYWNrcykge1xuXHRcdFx0Y2FsbGJhY2sodW5kZWZpbmVkKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5vb3A7XG5cdH1cblx0Y29uc3QgdW5zdWIgPSBzdG9yZS5zdWJzY3JpYmUoLi4uY2FsbGJhY2tzKTtcblx0cmV0dXJuIHVuc3ViLnVuc3Vic2NyaWJlID8gKCkgPT4gdW5zdWIudW5zdWJzY3JpYmUoKSA6IHVuc3ViO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIGEgc3RvcmUgYnkgc3Vic2NyaWJpbmcgYW5kIGltbWVkaWF0ZWx5IHVuc3Vic2NyaWJpbmcuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2dldFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9zdG9yZS9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn0gc3RvcmVcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3N0b3JlX3ZhbHVlKHN0b3JlKSB7XG5cdGxldCB2YWx1ZTtcblx0c3Vic2NyaWJlKHN0b3JlLCAoXykgPT4gKHZhbHVlID0gXykpKCk7XG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudF9zdWJzY3JpYmUoY29tcG9uZW50LCBzdG9yZSwgY2FsbGJhY2spIHtcblx0Y29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG5cdGlmIChkZWZpbml0aW9uKSB7XG5cdFx0Y29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pO1xuXHRcdHJldHVybiBkZWZpbml0aW9uWzBdKHNsb3RfY3R4KTtcblx0fVxufVxuXG5mdW5jdGlvbiBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcblx0cmV0dXJuIGRlZmluaXRpb25bMV0gJiYgZm4gPyBhc3NpZ24oJCRzY29wZS5jdHguc2xpY2UoKSwgZGVmaW5pdGlvblsxXShmbihjdHgpKSkgOiAkJHNjb3BlLmN0eDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9zbG90X2NoYW5nZXMoZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGZuKSB7XG5cdGlmIChkZWZpbml0aW9uWzJdICYmIGZuKSB7XG5cdFx0Y29uc3QgbGV0cyA9IGRlZmluaXRpb25bMl0oZm4oZGlydHkpKTtcblx0XHRpZiAoJCRzY29wZS5kaXJ0eSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gbGV0cztcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBsZXRzID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Y29uc3QgbWVyZ2VkID0gW107XG5cdFx0XHRjb25zdCBsZW4gPSBNYXRoLm1heCgkJHNjb3BlLmRpcnR5Lmxlbmd0aCwgbGV0cy5sZW5ndGgpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuXHRcdFx0XHRtZXJnZWRbaV0gPSAkJHNjb3BlLmRpcnR5W2ldIHwgbGV0c1tpXTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtZXJnZWQ7XG5cdFx0fVxuXHRcdHJldHVybiAkJHNjb3BlLmRpcnR5IHwgbGV0cztcblx0fVxuXHRyZXR1cm4gJCRzY29wZS5kaXJ0eTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9zbG90X2Jhc2UoXG5cdHNsb3QsXG5cdHNsb3RfZGVmaW5pdGlvbixcblx0Y3R4LFxuXHQkJHNjb3BlLFxuXHRzbG90X2NoYW5nZXMsXG5cdGdldF9zbG90X2NvbnRleHRfZm5cbikge1xuXHRpZiAoc2xvdF9jaGFuZ2VzKSB7XG5cdFx0Y29uc3Qgc2xvdF9jb250ZXh0ID0gZ2V0X3Nsb3RfY29udGV4dChzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG5cdFx0c2xvdC5wKHNsb3RfY29udGV4dCwgc2xvdF9jaGFuZ2VzKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3Nsb3QoXG5cdHNsb3QsXG5cdHNsb3RfZGVmaW5pdGlvbixcblx0Y3R4LFxuXHQkJHNjb3BlLFxuXHRkaXJ0eSxcblx0Z2V0X3Nsb3RfY2hhbmdlc19mbixcblx0Z2V0X3Nsb3RfY29udGV4dF9mblxuKSB7XG5cdGNvbnN0IHNsb3RfY2hhbmdlcyA9IGdldF9zbG90X2NoYW5nZXMoc2xvdF9kZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZ2V0X3Nsb3RfY2hhbmdlc19mbik7XG5cdHVwZGF0ZV9zbG90X2Jhc2Uoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIHNsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W10gfCAtMX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUoJCRzY29wZSkge1xuXHRpZiAoJCRzY29wZS5jdHgubGVuZ3RoID4gMzIpIHtcblx0XHRjb25zdCBkaXJ0eSA9IFtdO1xuXHRcdGNvbnN0IGxlbmd0aCA9ICQkc2NvcGUuY3R4Lmxlbmd0aCAvIDMyO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdGRpcnR5W2ldID0gLTE7XG5cdFx0fVxuXHRcdHJldHVybiBkaXJ0eTtcblx0fVxuXHRyZXR1cm4gLTE7XG59XG5cbi8qKiBAcmV0dXJucyB7e319ICovXG5leHBvcnQgZnVuY3Rpb24gZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyhwcm9wcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBrIGluIHByb3BzKSBpZiAoa1swXSAhPT0gJyQnKSByZXN1bHRba10gPSBwcm9wc1trXTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlX3Jlc3RfcHJvcHMocHJvcHMsIGtleXMpIHtcblx0Y29uc3QgcmVzdCA9IHt9O1xuXHRrZXlzID0gbmV3IFNldChrZXlzKTtcblx0Zm9yIChjb25zdCBrIGluIHByb3BzKSBpZiAoIWtleXMuaGFzKGspICYmIGtbMF0gIT09ICckJykgcmVzdFtrXSA9IHByb3BzW2tdO1xuXHRyZXR1cm4gcmVzdDtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlX3Nsb3RzKHNsb3RzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuXHRcdHJlc3VsdFtrZXldID0gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogQHJldHVybnMgeyh0aGlzOiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uY2UoZm4pIHtcblx0bGV0IHJhbiA9IGZhbHNlO1xuXHRyZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcblx0XHRpZiAocmFuKSByZXR1cm47XG5cdFx0cmFuID0gdHJ1ZTtcblx0XHRmbi5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc3RvcmVfdmFsdWUoc3RvcmUsIHJldCwgdmFsdWUpIHtcblx0c3RvcmUuc2V0KHZhbHVlKTtcblx0cmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGNvbnN0IGhhc19wcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhY3Rpb25fZGVzdHJveWVyKGFjdGlvbl9yZXN1bHQpIHtcblx0cmV0dXJuIGFjdGlvbl9yZXN1bHQgJiYgaXNfZnVuY3Rpb24oYWN0aW9uX3Jlc3VsdC5kZXN0cm95KSA/IGFjdGlvbl9yZXN1bHQuZGVzdHJveSA6IG5vb3A7XG59XG5cbi8qKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEByZXR1cm5zIHtbbnVtYmVyLCBzdHJpbmddfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRfY3NzX3VuaXQodmFsdWUpIHtcblx0Y29uc3Qgc3BsaXQgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLm1hdGNoKC9eXFxzKigtP1tcXGQuXSspKFteXFxzXSopXFxzKiQvKTtcblx0cmV0dXJuIHNwbGl0ID8gW3BhcnNlRmxvYXQoc3BsaXRbMV0pLCBzcGxpdFsyXSB8fCAncHgnXSA6IFsvKiogQHR5cGUge251bWJlcn0gKi8gKHZhbHVlKSwgJ3B4J107XG59XG5cbmV4cG9ydCBjb25zdCBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcyA9IFsnJywgdHJ1ZSwgMSwgJ3RydWUnLCAnY29udGVudGVkaXRhYmxlJ107XG4iLCJpbXBvcnQgeyBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcywgaGFzX3Byb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24gfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmVyU2luZ2xldG9uLmpzJztcblxuLy8gVHJhY2sgd2hpY2ggbm9kZXMgYXJlIGNsYWltZWQgZHVyaW5nIGh5ZHJhdGlvbi4gVW5jbGFpbWVkIG5vZGVzIGNhbiB0aGVuIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4vLyBhdCB0aGUgZW5kIG9mIGh5ZHJhdGlvbiB3aXRob3V0IHRvdWNoaW5nIHRoZSByZW1haW5pbmcgbm9kZXMuXG5sZXQgaXNfaHlkcmF0aW5nID0gZmFsc2U7XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydF9oeWRyYXRpbmcoKSB7XG5cdGlzX2h5ZHJhdGluZyA9IHRydWU7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRfaHlkcmF0aW5nKCkge1xuXHRpc19oeWRyYXRpbmcgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbG93XG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaFxuICogQHBhcmFtIHsoaW5kZXg6IG51bWJlcikgPT4gbnVtYmVyfSBrZXlcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gdXBwZXJfYm91bmQobG93LCBoaWdoLCBrZXksIHZhbHVlKSB7XG5cdC8vIFJldHVybiBmaXJzdCBpbmRleCBvZiB2YWx1ZSBsYXJnZXIgdGhhbiBpbnB1dCB2YWx1ZSBpbiB0aGUgcmFuZ2UgW2xvdywgaGlnaClcblx0d2hpbGUgKGxvdyA8IGhpZ2gpIHtcblx0XHRjb25zdCBtaWQgPSBsb3cgKyAoKGhpZ2ggLSBsb3cpID4+IDEpO1xuXHRcdGlmIChrZXkobWlkKSA8PSB2YWx1ZSkge1xuXHRcdFx0bG93ID0gbWlkICsgMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aGlnaCA9IG1pZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGxvdztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGVFeH0gdGFyZ2V0XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gaW5pdF9oeWRyYXRlKHRhcmdldCkge1xuXHRpZiAodGFyZ2V0Lmh5ZHJhdGVfaW5pdCkgcmV0dXJuO1xuXHR0YXJnZXQuaHlkcmF0ZV9pbml0ID0gdHJ1ZTtcblx0Ly8gV2Uga25vdyB0aGF0IGFsbCBjaGlsZHJlbiBoYXZlIGNsYWltX29yZGVyIHZhbHVlcyBzaW5jZSB0aGUgdW5jbGFpbWVkIGhhdmUgYmVlbiBkZXRhY2hlZCBpZiB0YXJnZXQgaXMgbm90IDxoZWFkPlxuXG5cdGxldCBjaGlsZHJlbiA9IC8qKiBAdHlwZSB7QXJyYXlMaWtlPE5vZGVFeDI+fSAqLyAodGFyZ2V0LmNoaWxkTm9kZXMpO1xuXHQvLyBJZiB0YXJnZXQgaXMgPGhlYWQ+LCB0aGVyZSBtYXkgYmUgY2hpbGRyZW4gd2l0aG91dCBjbGFpbV9vcmRlclxuXHRpZiAodGFyZ2V0Lm5vZGVOYW1lID09PSAnSEVBRCcpIHtcblx0XHRjb25zdCBteV9jaGlsZHJlbiA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG5vZGUgPSBjaGlsZHJlbltpXTtcblx0XHRcdGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bXlfY2hpbGRyZW4ucHVzaChub2RlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y2hpbGRyZW4gPSBteV9jaGlsZHJlbjtcblx0fVxuXHQvKlxuXHQgKiBSZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5LlxuXHQgKiBXZSBjYW4gcmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseSBieSBmaW5kaW5nIHRoZSBsb25nZXN0IHN1YnNlcXVlbmNlIG9mXG5cdCAqIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgY2xhaW1lZCBpbiBvcmRlciBhbmQgb25seSBtb3ZpbmcgdGhlIHJlc3QuIFRoZSBsb25nZXN0XG5cdCAqIHN1YnNlcXVlbmNlIG9mIG5vZGVzIHRoYXQgYXJlIGNsYWltZWQgaW4gb3JkZXIgY2FuIGJlIGZvdW5kIGJ5XG5cdCAqIGNvbXB1dGluZyB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIC5jbGFpbV9vcmRlciB2YWx1ZXMuXG5cdCAqXG5cdCAqIFRoaXMgYWxnb3JpdGhtIGlzIG9wdGltYWwgaW4gZ2VuZXJhdGluZyB0aGUgbGVhc3QgYW1vdW50IG9mIHJlb3JkZXIgb3BlcmF0aW9uc1xuXHQgKiBwb3NzaWJsZS5cblx0ICpcblx0ICogUHJvb2Y6XG5cdCAqIFdlIGtub3cgdGhhdCwgZ2l2ZW4gYSBzZXQgb2YgcmVvcmRlcmluZyBvcGVyYXRpb25zLCB0aGUgbm9kZXMgdGhhdCBkbyBub3QgbW92ZVxuXHQgKiBhbHdheXMgZm9ybSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLCBzaW5jZSB0aGV5IGRvIG5vdCBtb3ZlIGFtb25nIGVhY2ggb3RoZXJcblx0ICogbWVhbmluZyB0aGF0IHRoZXkgbXVzdCBiZSBhbHJlYWR5IG9yZGVyZWQgYW1vbmcgZWFjaCBvdGhlci4gVGh1cywgdGhlIG1heGltYWxcblx0ICogc2V0IG9mIG5vZGVzIHRoYXQgZG8gbm90IG1vdmUgZm9ybSBhIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZS5cblx0ICovXG5cdC8vIENvbXB1dGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG5cdC8vIG06IHN1YnNlcXVlbmNlIGxlbmd0aCBqID0+IGluZGV4IGsgb2Ygc21hbGxlc3QgdmFsdWUgdGhhdCBlbmRzIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgbGVuZ3RoIGpcblx0Y29uc3QgbSA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCArIDEpO1xuXHQvLyBQcmVkZWNlc3NvciBpbmRpY2VzICsgMVxuXHRjb25zdCBwID0gbmV3IEludDMyQXJyYXkoY2hpbGRyZW4ubGVuZ3RoKTtcblx0bVswXSA9IC0xO1xuXHRsZXQgbG9uZ2VzdCA9IDA7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBjdXJyZW50ID0gY2hpbGRyZW5baV0uY2xhaW1fb3JkZXI7XG5cdFx0Ly8gRmluZCB0aGUgbGFyZ2VzdCBzdWJzZXF1ZW5jZSBsZW5ndGggc3VjaCB0aGF0IGl0IGVuZHMgaW4gYSB2YWx1ZSBsZXNzIHRoYW4gb3VyIGN1cnJlbnQgdmFsdWVcblx0XHQvLyB1cHBlcl9ib3VuZCByZXR1cm5zIGZpcnN0IGdyZWF0ZXIgdmFsdWUsIHNvIHdlIHN1YnRyYWN0IG9uZVxuXHRcdC8vIHdpdGggZmFzdCBwYXRoIGZvciB3aGVuIHdlIGFyZSBvbiB0aGUgY3VycmVudCBsb25nZXN0IHN1YnNlcXVlbmNlXG5cdFx0Y29uc3Qgc2VxX2xlbiA9XG5cdFx0XHQobG9uZ2VzdCA+IDAgJiYgY2hpbGRyZW5bbVtsb25nZXN0XV0uY2xhaW1fb3JkZXIgPD0gY3VycmVudFxuXHRcdFx0XHQ/IGxvbmdlc3QgKyAxXG5cdFx0XHRcdDogdXBwZXJfYm91bmQoMSwgbG9uZ2VzdCwgKGlkeCkgPT4gY2hpbGRyZW5bbVtpZHhdXS5jbGFpbV9vcmRlciwgY3VycmVudCkpIC0gMTtcblx0XHRwW2ldID0gbVtzZXFfbGVuXSArIDE7XG5cdFx0Y29uc3QgbmV3X2xlbiA9IHNlcV9sZW4gKyAxO1xuXHRcdC8vIFdlIGNhbiBndWFyYW50ZWUgdGhhdCBjdXJyZW50IGlzIHRoZSBzbWFsbGVzdCB2YWx1ZS4gT3RoZXJ3aXNlLCB3ZSB3b3VsZCBoYXZlIGdlbmVyYXRlZCBhIGxvbmdlciBzZXF1ZW5jZS5cblx0XHRtW25ld19sZW5dID0gaTtcblx0XHRsb25nZXN0ID0gTWF0aC5tYXgobmV3X2xlbiwgbG9uZ2VzdCk7XG5cdH1cblx0Ly8gVGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBub2RlcyAoaW5pdGlhbGx5IHJldmVyc2VkKVxuXG5cdC8qKlxuXHQgKiBAdHlwZSB7Tm9kZUV4MltdfVxuXHQgKi9cblx0Y29uc3QgbGlzID0gW107XG5cdC8vIFRoZSByZXN0IG9mIHRoZSBub2Rlcywgbm9kZXMgdGhhdCB3aWxsIGJlIG1vdmVkXG5cblx0LyoqXG5cdCAqIEB0eXBlIHtOb2RlRXgyW119XG5cdCAqL1xuXHRjb25zdCB0b19tb3ZlID0gW107XG5cdGxldCBsYXN0ID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTtcblx0Zm9yIChsZXQgY3VyID0gbVtsb25nZXN0XSArIDE7IGN1ciAhPSAwOyBjdXIgPSBwW2N1ciAtIDFdKSB7XG5cdFx0bGlzLnB1c2goY2hpbGRyZW5bY3VyIC0gMV0pO1xuXHRcdGZvciAoOyBsYXN0ID49IGN1cjsgbGFzdC0tKSB7XG5cdFx0XHR0b19tb3ZlLnB1c2goY2hpbGRyZW5bbGFzdF0pO1xuXHRcdH1cblx0XHRsYXN0LS07XG5cdH1cblx0Zm9yICg7IGxhc3QgPj0gMDsgbGFzdC0tKSB7XG5cdFx0dG9fbW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcblx0fVxuXHRsaXMucmV2ZXJzZSgpO1xuXHQvLyBXZSBzb3J0IHRoZSBub2RlcyBiZWluZyBtb3ZlZCB0byBndWFyYW50ZWUgdGhhdCB0aGVpciBpbnNlcnRpb24gb3JkZXIgbWF0Y2hlcyB0aGUgY2xhaW0gb3JkZXJcblx0dG9fbW92ZS5zb3J0KChhLCBiKSA9PiBhLmNsYWltX29yZGVyIC0gYi5jbGFpbV9vcmRlcik7XG5cdC8vIEZpbmFsbHksIHdlIG1vdmUgdGhlIG5vZGVzXG5cdGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvX21vdmUubGVuZ3RoOyBpKyspIHtcblx0XHR3aGlsZSAoaiA8IGxpcy5sZW5ndGggJiYgdG9fbW92ZVtpXS5jbGFpbV9vcmRlciA+PSBsaXNbal0uY2xhaW1fb3JkZXIpIHtcblx0XHRcdGorKztcblx0XHR9XG5cdFx0Y29uc3QgYW5jaG9yID0gaiA8IGxpcy5sZW5ndGggPyBsaXNbal0gOiBudWxsO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUodG9fbW92ZVtpXSwgYW5jaG9yKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuXHR0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZV9zaGVldF9pZFxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfc3R5bGVzKHRhcmdldCwgc3R5bGVfc2hlZXRfaWQsIHN0eWxlcykge1xuXHRjb25zdCBhcHBlbmRfc3R5bGVzX3RvID0gZ2V0X3Jvb3RfZm9yX3N0eWxlKHRhcmdldCk7XG5cdGlmICghYXBwZW5kX3N0eWxlc190by5nZXRFbGVtZW50QnlJZChzdHlsZV9zaGVldF9pZCkpIHtcblx0XHRjb25zdCBzdHlsZSA9IGVsZW1lbnQoJ3N0eWxlJyk7XG5cdFx0c3R5bGUuaWQgPSBzdHlsZV9zaGVldF9pZDtcblx0XHRzdHlsZS50ZXh0Q29udGVudCA9IHN0eWxlcztcblx0XHRhcHBlbmRfc3R5bGVzaGVldChhcHBlbmRfc3R5bGVzX3RvLCBzdHlsZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtTaGFkb3dSb290IHwgRG9jdW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSkge1xuXHRpZiAoIW5vZGUpIHJldHVybiBkb2N1bWVudDtcblx0Y29uc3Qgcm9vdCA9IG5vZGUuZ2V0Um9vdE5vZGUgPyBub2RlLmdldFJvb3ROb2RlKCkgOiBub2RlLm93bmVyRG9jdW1lbnQ7XG5cdGlmIChyb290ICYmIC8qKiBAdHlwZSB7U2hhZG93Um9vdH0gKi8gKHJvb3QpLmhvc3QpIHtcblx0XHRyZXR1cm4gLyoqIEB0eXBlIHtTaGFkb3dSb290fSAqLyAocm9vdCk7XG5cdH1cblx0cmV0dXJuIG5vZGUub3duZXJEb2N1bWVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtDU1NTdHlsZVNoZWV0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSkge1xuXHRjb25zdCBzdHlsZV9lbGVtZW50ID0gZWxlbWVudCgnc3R5bGUnKTtcblx0Ly8gRm9yIHRyYW5zaXRpb25zIHRvIHdvcmsgd2l0aG91dCAnc3R5bGUtc3JjOiB1bnNhZmUtaW5saW5lJyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSxcblx0Ly8gdGhlc2UgZW1wdHkgdGFncyBuZWVkIHRvIGJlIGFsbG93ZWQgd2l0aCBhIGhhc2ggYXMgYSB3b3JrYXJvdW5kIHVudGlsIHdlIG1vdmUgdG8gdGhlIFdlYiBBbmltYXRpb25zIEFQSS5cblx0Ly8gVXNpbmcgdGhlIGhhc2ggZm9yIHRoZSBlbXB0eSBzdHJpbmcgKGZvciBhbiBlbXB0eSB0YWcpIHdvcmtzIGluIGFsbCBicm93c2VycyBleGNlcHQgU2FmYXJpLlxuXHQvLyBTbyBhcyBhIHdvcmthcm91bmQgZm9yIHRoZSB3b3JrYXJvdW5kLCB3aGVuIHdlIGFwcGVuZCBlbXB0eSBzdHlsZSB0YWdzIHdlIHNldCB0aGVpciBjb250ZW50IHRvIC8qIGVtcHR5ICovLlxuXHQvLyBUaGUgaGFzaCAnc2hhMjU2LTlPbE5PMERORWVhVnpITDRSWndDTHNCSEE4V0JROHRvQnAvNEY1WFYybmM9JyB3aWxsIHRoZW4gd29yayBldmVuIGluIFNhZmFyaS5cblx0c3R5bGVfZWxlbWVudC50ZXh0Q29udGVudCA9ICcvKiBlbXB0eSAqLyc7XG5cdGFwcGVuZF9zdHlsZXNoZWV0KGdldF9yb290X2Zvcl9zdHlsZShub2RlKSwgc3R5bGVfZWxlbWVudCk7XG5cdHJldHVybiBzdHlsZV9lbGVtZW50LnNoZWV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U2hhZG93Um9vdCB8IERvY3VtZW50fSBub2RlXG4gKiBAcGFyYW0ge0hUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJucyB7Q1NTU3R5bGVTaGVldH1cbiAqL1xuZnVuY3Rpb24gYXBwZW5kX3N0eWxlc2hlZXQobm9kZSwgc3R5bGUpIHtcblx0YXBwZW5kKC8qKiBAdHlwZSB7RG9jdW1lbnR9ICovIChub2RlKS5oZWFkIHx8IG5vZGUsIHN0eWxlKTtcblx0cmV0dXJuIHN0eWxlLnNoZWV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZUV4fSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZUV4fSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKSB7XG5cdGlmIChpc19oeWRyYXRpbmcpIHtcblx0XHRpbml0X2h5ZHJhdGUodGFyZ2V0KTtcblx0XHRpZiAoXG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHQodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwgJiYgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KVxuXHRcdCkge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuZmlyc3RDaGlsZDtcblx0XHR9XG5cdFx0Ly8gU2tpcCBub2RlcyBvZiB1bmRlZmluZWQgb3JkZXJpbmdcblx0XHR3aGlsZSAodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwgJiYgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQuY2xhaW1fb3JkZXIgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5uZXh0U2libGluZztcblx0XHR9XG5cdFx0aWYgKG5vZGUgIT09IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGluc2VydCBpZiB0aGUgb3JkZXJpbmcgb2YgdGhpcyBub2RlIHNob3VsZCBiZSBtb2RpZmllZCBvciB0aGUgcGFyZW50IG5vZGUgaXMgbm90IHRhcmdldFxuXHRcdFx0aWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCB8fCBub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCkge1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSBub2RlLm5leHRTaWJsaW5nO1xuXHRcdH1cblx0fSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9PSBudWxsKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHBhcmFtIHtOb2RlfSBbYW5jaG9yXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcblx0dGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlRXh9IG5vZGVcbiAqIEBwYXJhbSB7Tm9kZUV4fSBbYW5jaG9yXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG5cdGlmIChpc19oeWRyYXRpbmcgJiYgIWFuY2hvcikge1xuXHRcdGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKTtcblx0fSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9IGFuY2hvcikge1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG5cdGlmIChub2RlLnBhcmVudE5vZGUpIHtcblx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2VhY2goaXRlcmF0aW9ucywgZGV0YWNoaW5nKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGlmIChpdGVyYXRpb25zW2ldKSBpdGVyYXRpb25zW2ldLmQoZGV0YWNoaW5nKTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwfSBLXG4gKiBAcGFyYW0ge0t9IG5hbWVcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFRhZ05hbWVNYXBbS119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9IEtcbiAqIEBwYXJhbSB7S30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGlzXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRUYWdOYW1lTWFwW0tdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudF9pcyhuYW1lLCBpcykge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lLCB7IGlzIH0pO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUge2tleW9mIFR9IEtcbiAqIEBwYXJhbSB7VH0gb2JqXG4gKiBAcGFyYW0ge0tbXX0gZXhjbHVkZVxuICogQHJldHVybnMge1BpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzKG9iaiwgZXhjbHVkZSkge1xuXHRjb25zdCB0YXJnZXQgPSAvKiogQHR5cGUge1BpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj59ICovICh7fSk7XG5cdGZvciAoY29uc3QgayBpbiBvYmopIHtcblx0XHRpZiAoXG5cdFx0XHRoYXNfcHJvcChvYmosIGspICYmXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRleGNsdWRlLmluZGV4T2YoaykgPT09IC0xXG5cdFx0KSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHR0YXJnZXRba10gPSBvYmpba107XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBTVkdFbGVtZW50VGFnTmFtZU1hcH0gS1xuICogQHBhcmFtIHtLfSBuYW1lXG4gKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN2Z19lbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBuYW1lKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVxuICogQHJldHVybnMge1RleHR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0KGRhdGEpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwYWNlKCkge1xuXHRyZXR1cm4gdGV4dCgnICcpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KCkge1xuXHRyZXR1cm4gdGV4dCgnJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAqIEByZXR1cm5zIHtDb21tZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tbWVudChjb250ZW50KSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbnRlbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0fSBoYW5kbGVyXG4gKiBAcGFyYW0ge2Jvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyB8IEV2ZW50TGlzdGVuZXJPcHRpb25zfSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG5cdG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG5cdHJldHVybiAoKSA9PiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnRfZGVmYXVsdChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BfcHJvcGFnYXRpb24oZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcF9pbW1lZGlhdGVfcHJvcGFnYXRpb24oZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGYoZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzKSBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdHJ1c3RlZChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGlmIChldmVudC5pc1RydXN0ZWQpIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZVxuICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZV1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cdGlmICh2YWx1ZSA9PSBudWxsKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuXHRlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSkgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG4vKipcbiAqIExpc3Qgb2YgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBhbHdheXMgYmUgc2V0IHRocm91Z2ggdGhlIGF0dHIgbWV0aG9kLFxuICogYmVjYXVzZSB1cGRhdGluZyB0aGVtIHRocm91Z2ggdGhlIHByb3BlcnR5IHNldHRlciBkb2Vzbid0IHdvcmsgcmVsaWFibHkuXG4gKiBJbiB0aGUgZXhhbXBsZSBvZiBgd2lkdGhgL2BoZWlnaHRgLCB0aGUgcHJvYmxlbSBpcyB0aGF0IHRoZSBzZXR0ZXIgb25seVxuICogYWNjZXB0cyBudW1lcmljIHZhbHVlcywgYnV0IHRoZSBhdHRyaWJ1dGUgY2FuIGFsc28gYmUgc2V0IHRvIGEgc3RyaW5nIGxpa2UgYDUwJWAuXG4gKiBJZiB0aGlzIGxpc3QgYmVjb21lcyB0b28gYmlnLCByZXRoaW5rIHRoaXMgYXBwcm9hY2guXG4gKi9cbmNvbnN0IGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlID0gWyd3aWR0aCcsICdoZWlnaHQnXTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7eyBbeDogc3RyaW5nXTogc3RyaW5nIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuXHQvLyBAdHMtaWdub3JlXG5cdGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobm9kZS5fX3Byb3RvX18pO1xuXHRmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0aWYgKGF0dHJpYnV0ZXNba2V5XSA9PSBudWxsKSB7XG5cdFx0XHRub2RlLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG5cdFx0XHRub2RlLnN0eWxlLmNzc1RleHQgPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0fSBlbHNlIGlmIChrZXkgPT09ICdfX3ZhbHVlJykge1xuXHRcdFx0LyoqIEB0eXBlIHthbnl9ICovIChub2RlKS52YWx1ZSA9IG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0ZGVzY3JpcHRvcnNba2V5XSAmJlxuXHRcdFx0ZGVzY3JpcHRvcnNba2V5XS5zZXQgJiZcblx0XHRcdGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlLmluZGV4T2Yoa2V5KSA9PT0gLTFcblx0XHQpIHtcblx0XHRcdG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YXR0cihub2RlLCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge3sgW3g6IHN0cmluZ106IHN0cmluZyB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdmdfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG5cdGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj59IGRhdGFfbWFwXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcChub2RlLCBkYXRhX21hcCkge1xuXHRPYmplY3Qua2V5cyhkYXRhX21hcCkuZm9yRWFjaCgoa2V5KSA9PiB7XG5cdFx0c2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwga2V5LCBkYXRhX21hcFtrZXldKTtcblx0fSk7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwgcHJvcCwgdmFsdWUpIHtcblx0aWYgKHByb3AgaW4gbm9kZSkge1xuXHRcdG5vZGVbcHJvcF0gPSB0eXBlb2Ygbm9kZVtwcm9wXSA9PT0gJ2Jvb2xlYW4nICYmIHZhbHVlID09PSAnJyA/IHRydWUgOiB2YWx1ZTtcblx0fSBlbHNlIHtcblx0XHRhdHRyKG5vZGUsIHByb3AsIHZhbHVlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9keW5hbWljX2VsZW1lbnRfZGF0YSh0YWcpIHtcblx0cmV0dXJuIC8tLy50ZXN0KHRhZykgPyBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAgOiBzZXRfYXR0cmlidXRlcztcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHhsaW5rX2F0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuXHRub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9zdmVsdGVfZGF0YXNldChub2RlKSB7XG5cdHJldHVybiBub2RlLmRhdGFzZXQuc3ZlbHRlSDtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dW5rbm93bltdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlKGdyb3VwLCBfX3ZhbHVlLCBjaGVja2VkKSB7XG5cdGNvbnN0IHZhbHVlID0gbmV3IFNldCgpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGdyb3VwW2ldLmNoZWNrZWQpIHZhbHVlLmFkZChncm91cFtpXS5fX3ZhbHVlKTtcblx0fVxuXHRpZiAoIWNoZWNrZWQpIHtcblx0XHR2YWx1ZS5kZWxldGUoX192YWx1ZSk7XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20odmFsdWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudFtdfSBncm91cFxuICogQHJldHVybnMge3sgcCguLi5pbnB1dHM6IEhUTUxJbnB1dEVsZW1lbnRbXSk6IHZvaWQ7IHIoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRfYmluZGluZ19ncm91cChncm91cCkge1xuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9pbnB1dHM7XG5cdHJldHVybiB7XG5cdFx0LyogcHVzaCAqLyBwKC4uLmlucHV0cykge1xuXHRcdFx0X2lucHV0cyA9IGlucHV0cztcblx0XHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IGdyb3VwLnB1c2goaW5wdXQpKTtcblx0XHR9LFxuXHRcdC8qIHJlbW92ZSAqLyByKCkge1xuXHRcdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gZ3JvdXAuc3BsaWNlKGdyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXNcbiAqIEByZXR1cm5zIHt7IHUobmV3X2luZGV4ZXM6IG51bWJlcltdKTogdm9pZDsgcCguLi5pbnB1dHM6IEhUTUxJbnB1dEVsZW1lbnRbXSk6IHZvaWQ7IHI6ICgpID0+IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0X2JpbmRpbmdfZ3JvdXBfZHluYW1pYyhncm91cCwgaW5kZXhlcykge1xuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcblxuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9pbnB1dHM7XG5cblx0ZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGdyb3VwID0gZ3JvdXBbaW5kZXhlc1tpXV0gPSBncm91cFtpbmRleGVzW2ldXSB8fCBbXTtcblx0XHR9XG5cdFx0cmV0dXJuIGdyb3VwO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBwdXNoKCkge1xuXHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IF9ncm91cC5wdXNoKGlucHV0KSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIHJlbW92ZSgpIHtcblx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBfZ3JvdXAuc3BsaWNlKF9ncm91cC5pbmRleE9mKGlucHV0KSwgMSkpO1xuXHR9XG5cdHJldHVybiB7XG5cdFx0LyogdXBkYXRlICovIHUobmV3X2luZGV4ZXMpIHtcblx0XHRcdGluZGV4ZXMgPSBuZXdfaW5kZXhlcztcblx0XHRcdGNvbnN0IG5ld19ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcblx0XHRcdGlmIChuZXdfZ3JvdXAgIT09IF9ncm91cCkge1xuXHRcdFx0XHRyZW1vdmUoKTtcblx0XHRcdFx0X2dyb3VwID0gbmV3X2dyb3VwO1xuXHRcdFx0XHRwdXNoKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG5cdFx0XHRfaW5wdXRzID0gaW5wdXRzO1xuXHRcdFx0cHVzaCgpO1xuXHRcdH0sXG5cdFx0LyogcmVtb3ZlICovIHI6IHJlbW92ZVxuXHR9O1xufVxuXG4vKiogQHJldHVybnMge251bWJlcn0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b19udW1iZXIodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlID09PSAnJyA/IG51bGwgOiArdmFsdWU7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W119ICovXG5leHBvcnQgZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG5cdGNvbnN0IGFycmF5ID0gW107XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0YXJyYXkucHVzaCh7IHN0YXJ0OiByYW5nZXMuc3RhcnQoaSksIGVuZDogcmFuZ2VzLmVuZChpKSB9KTtcblx0fVxuXHRyZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7Q2hpbGROb2RlW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG5cdHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQuY2hpbGROb2Rlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBpbml0X2NsYWltX2luZm8obm9kZXMpIHtcblx0aWYgKG5vZGVzLmNsYWltX2luZm8gPT09IHVuZGVmaW5lZCkge1xuXHRcdG5vZGVzLmNsYWltX2luZm8gPSB7IGxhc3RfaW5kZXg6IDAsIHRvdGFsX2NsYWltZWQ6IDAgfTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7Q2hpbGROb2RlRXh9IFJcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0geyhub2RlOiBDaGlsZE5vZGVFeCkgPT4gbm9kZSBpcyBSfSBwcmVkaWNhdGVcbiAqIEBwYXJhbSB7KG5vZGU6IENoaWxkTm9kZUV4KSA9PiBDaGlsZE5vZGVFeCB8IHVuZGVmaW5lZH0gcHJvY2Vzc19ub2RlXG4gKiBAcGFyYW0geygpID0+IFJ9IGNyZWF0ZV9ub2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGRvbnRfdXBkYXRlX2xhc3RfaW5kZXhcbiAqIEByZXR1cm5zIHtSfVxuICovXG5mdW5jdGlvbiBjbGFpbV9ub2RlKG5vZGVzLCBwcmVkaWNhdGUsIHByb2Nlc3Nfbm9kZSwgY3JlYXRlX25vZGUsIGRvbnRfdXBkYXRlX2xhc3RfaW5kZXggPSBmYWxzZSkge1xuXHQvLyBUcnkgdG8gZmluZCBub2RlcyBpbiBhbiBvcmRlciBzdWNoIHRoYXQgd2UgbGVuZ3RoZW4gdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuXHRpbml0X2NsYWltX2luZm8obm9kZXMpO1xuXHRjb25zdCByZXN1bHRfbm9kZSA9ICgoKSA9PiB7XG5cdFx0Ly8gV2UgZmlyc3QgdHJ5IHRvIGZpbmQgYW4gZWxlbWVudCBhZnRlciB0aGUgcHJldmlvdXMgb25lXG5cdFx0Zm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0XHRpZiAocHJlZGljYXRlKG5vZGUpKSB7XG5cdFx0XHRcdGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc19ub2RlKG5vZGUpO1xuXHRcdFx0XHRpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG5vZGVzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghZG9udF91cGRhdGVfbGFzdF9pbmRleCkge1xuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIE90aGVyd2lzZSwgd2UgdHJ5IHRvIGZpbmQgb25lIGJlZm9yZVxuXHRcdC8vIFdlIGl0ZXJhdGUgaW4gcmV2ZXJzZSBzbyB0aGF0IHdlIGRvbid0IGdvIHRvbyBmYXIgYmFja1xuXHRcdGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdFx0aWYgKHByZWRpY2F0ZShub2RlKSkge1xuXHRcdFx0XHRjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3Nfbm9kZShub2RlKTtcblx0XHRcdFx0aWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRub2Rlcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bm9kZXNbaV0gPSByZXBsYWNlbWVudDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIWRvbnRfdXBkYXRlX2xhc3RfaW5kZXgpIHtcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggPSBpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHQvLyBTaW5jZSB3ZSBzcGxpY2VkIGJlZm9yZSB0aGUgbGFzdF9pbmRleCwgd2UgZGVjcmVhc2UgaXRcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gSWYgd2UgY2FuJ3QgZmluZCBhbnkgbWF0Y2hpbmcgbm9kZSwgd2UgY3JlYXRlIGEgbmV3IG9uZVxuXHRcdHJldHVybiBjcmVhdGVfbm9kZSgpO1xuXHR9KSgpO1xuXHRyZXN1bHRfbm9kZS5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcblx0bm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG5cdHJldHVybiByZXN1bHRfbm9kZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7KG5hbWU6IHN0cmluZykgPT4gRWxlbWVudCB8IFNWR0VsZW1lbnR9IGNyZWF0ZV9lbGVtZW50XG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgY3JlYXRlX2VsZW1lbnQpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIEVsZW1lbnQgfCBTVkdFbGVtZW50fSAqL1xuXHRcdChub2RlKSA9PiBub2RlLm5vZGVOYW1lID09PSBuYW1lLFxuXHRcdC8qKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgKi9cblx0XHQobm9kZSkgPT4ge1xuXHRcdFx0Y29uc3QgcmVtb3ZlID0gW107XG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRjb25zdCBhdHRyaWJ1dGUgPSBub2RlLmF0dHJpYnV0ZXNbal07XG5cdFx0XHRcdGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0pIHtcblx0XHRcdFx0XHRyZW1vdmUucHVzaChhdHRyaWJ1dGUubmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJlbW92ZS5mb3JFYWNoKCh2KSA9PiBub2RlLnJlbW92ZUF0dHJpYnV0ZSh2KSk7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH0sXG5cdFx0KCkgPT4gY3JlYXRlX2VsZW1lbnQobmFtZSlcblx0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcblx0cmV0dXJuIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgZWxlbWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3sgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9zdmdfZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuXHRyZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBzdmdfZWxlbWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHtUZXh0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fdGV4dChub2RlcywgZGF0YSkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgVGV4dH0gKi9cblx0XHQobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gMyxcblx0XHQvKiogQHBhcmFtIHtUZXh0fSBub2RlICovXG5cdFx0KG5vZGUpID0+IHtcblx0XHRcdGNvbnN0IGRhdGFfc3RyID0gJycgKyBkYXRhO1xuXHRcdFx0aWYgKG5vZGUuZGF0YS5zdGFydHNXaXRoKGRhdGFfc3RyKSkge1xuXHRcdFx0XHRpZiAobm9kZS5kYXRhLmxlbmd0aCAhPT0gZGF0YV9zdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5vZGUuc3BsaXRUZXh0KGRhdGFfc3RyLmxlbmd0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5vZGUuZGF0YSA9IGRhdGFfc3RyO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0KCkgPT4gdGV4dChkYXRhKSxcblx0XHR0cnVlIC8vIFRleHQgbm9kZXMgc2hvdWxkIG5vdCB1cGRhdGUgbGFzdCBpbmRleCBzaW5jZSBpdCBpcyBsaWtlbHkgbm90IHdvcnRoIGl0IHRvIGVsaW1pbmF0ZSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGFjdHVhbCBlbGVtZW50c1xuXHQpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3NwYWNlKG5vZGVzKSB7XG5cdHJldHVybiBjbGFpbV90ZXh0KG5vZGVzLCAnICcpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcmV0dXJucyB7Q29tbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2NvbW1lbnQobm9kZXMsIGRhdGEpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIENvbW1lbnR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDgsXG5cdFx0LyoqIEBwYXJhbSB7Q29tbWVudH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRub2RlLmRhdGEgPSAnJyArIGRhdGE7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH0sXG5cdFx0KCkgPT4gY29tbWVudChkYXRhKSxcblx0XHR0cnVlXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGdldF9jb21tZW50X2lkeChub2RlcywgdGV4dCwgc3RhcnQpIHtcblx0Zm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovICYmIG5vZGUudGV4dENvbnRlbnQudHJpbSgpID09PSB0ZXh0KSB7XG5cdFx0XHRyZXR1cm4gaTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNfc3ZnXG4gKiBAcmV0dXJucyB7SHRtbFRhZ0h5ZHJhdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2h0bWxfdGFnKG5vZGVzLCBpc19zdmcpIHtcblx0Ly8gZmluZCBodG1sIG9wZW5pbmcgdGFnXG5cdGNvbnN0IHN0YXJ0X2luZGV4ID0gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCAnSFRNTF9UQUdfU1RBUlQnLCAwKTtcblx0Y29uc3QgZW5kX2luZGV4ID0gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCAnSFRNTF9UQUdfRU5EJywgc3RhcnRfaW5kZXggKyAxKTtcblx0aWYgKHN0YXJ0X2luZGV4ID09PSAtMSB8fCBlbmRfaW5kZXggPT09IC0xKSB7XG5cdFx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2Zyk7XG5cdH1cblxuXHRpbml0X2NsYWltX2luZm8obm9kZXMpO1xuXHRjb25zdCBodG1sX3RhZ19ub2RlcyA9IG5vZGVzLnNwbGljZShzdGFydF9pbmRleCwgZW5kX2luZGV4IC0gc3RhcnRfaW5kZXggKyAxKTtcblx0ZGV0YWNoKGh0bWxfdGFnX25vZGVzWzBdKTtcblx0ZGV0YWNoKGh0bWxfdGFnX25vZGVzW2h0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDFdKTtcblx0Y29uc3QgY2xhaW1lZF9ub2RlcyA9IGh0bWxfdGFnX25vZGVzLnNsaWNlKDEsIGh0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDEpO1xuXHRmb3IgKGNvbnN0IG4gb2YgY2xhaW1lZF9ub2Rlcykge1xuXHRcdG4uY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG5cdFx0bm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG5cdH1cblx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2ZywgY2xhaW1lZF9ub2Rlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGEodGV4dCwgZGF0YSkge1xuXHRkYXRhID0gJycgKyBkYXRhO1xuXHRpZiAodGV4dC5kYXRhID09PSBkYXRhKSByZXR1cm47XG5cdHRleHQuZGF0YSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGFfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEpIHtcblx0ZGF0YSA9ICcnICsgZGF0YTtcblx0aWYgKHRleHQud2hvbGVUZXh0ID09PSBkYXRhKSByZXR1cm47XG5cdHRleHQuZGF0YSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyX3ZhbHVlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kYXRhX21heWJlX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhLCBhdHRyX3ZhbHVlKSB7XG5cdGlmICh+Y29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMuaW5kZXhPZihhdHRyX3ZhbHVlKSkge1xuXHRcdHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhKTtcblx0fSBlbHNlIHtcblx0XHRzZXRfZGF0YSh0ZXh0LCBkYXRhKTtcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9pbnB1dF92YWx1ZShpbnB1dCwgdmFsdWUpIHtcblx0aW5wdXQudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaW5wdXRfdHlwZShpbnB1dCwgdHlwZSkge1xuXHR0cnkge1xuXHRcdGlucHV0LnR5cGUgPSB0eXBlO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gZG8gbm90aGluZ1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N0eWxlKG5vZGUsIGtleSwgdmFsdWUsIGltcG9ydGFudCkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdG5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkoa2V5KTtcblx0fSBlbHNlIHtcblx0XHRub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUsIGltcG9ydGFudCA/ICdpbXBvcnRhbnQnIDogJycpO1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlLCBtb3VudGluZykge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG5cdFx0aWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuXHRcdFx0b3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblx0aWYgKCFtb3VudGluZyB8fCB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0c2VsZWN0LnNlbGVjdGVkSW5kZXggPSAtMTsgLy8gbm8gb3B0aW9uIHNob3VsZCBiZSBzZWxlY3RlZFxuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X29wdGlvbnMoc2VsZWN0LCB2YWx1ZSkge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG5cdFx0b3B0aW9uLnNlbGVjdGVkID0gfnZhbHVlLmluZGV4T2Yob3B0aW9uLl9fdmFsdWUpO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RfdmFsdWUoc2VsZWN0KSB7XG5cdGNvbnN0IHNlbGVjdGVkX29wdGlvbiA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yKCc6Y2hlY2tlZCcpO1xuXHRyZXR1cm4gc2VsZWN0ZWRfb3B0aW9uICYmIHNlbGVjdGVkX29wdGlvbi5fX3ZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X211bHRpcGxlX3ZhbHVlKHNlbGVjdCkge1xuXHRyZXR1cm4gW10ubWFwLmNhbGwoc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJzpjaGVja2VkJyksIChvcHRpb24pID0+IG9wdGlvbi5fX3ZhbHVlKTtcbn1cbi8vIHVuZm9ydHVuYXRlbHkgdGhpcyBjYW4ndCBiZSBhIGNvbnN0YW50IGFzIHRoYXQgd291bGRuJ3QgYmUgdHJlZS1zaGFrZWFibGVcbi8vIHNvIHdlIGNhY2hlIHRoZSByZXN1bHQgaW5zdGVhZFxuXG4vKipcbiAqIEB0eXBlIHtib29sZWFufSAqL1xubGV0IGNyb3Nzb3JpZ2luO1xuXG4vKipcbiAqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Nyb3Nzb3JpZ2luKCkge1xuXHRpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuXHRcdGNyb3Nzb3JpZ2luID0gZmFsc2U7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGFyZW50KSB7XG5cdFx0XHRcdHZvaWQgd2luZG93LnBhcmVudC5kb2N1bWVudDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y3Jvc3NvcmlnaW4gPSB0cnVlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gY3Jvc3NvcmlnaW47XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMgeygpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfaWZyYW1lX3Jlc2l6ZV9saXN0ZW5lcihub2RlLCBmbikge1xuXHRjb25zdCBjb21wdXRlZF9zdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG5cdGlmIChjb21wdXRlZF9zdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcblx0XHRub2RlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0fVxuXHRjb25zdCBpZnJhbWUgPSBlbGVtZW50KCdpZnJhbWUnKTtcblx0aWZyYW1lLnNldEF0dHJpYnV0ZShcblx0XHQnc3R5bGUnLFxuXHRcdCdkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7ICcgK1xuXHRcdFx0J292ZXJmbG93OiBoaWRkZW47IGJvcmRlcjogMDsgb3BhY2l0eTogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHotaW5kZXg6IC0xOydcblx0KTtcblx0aWZyYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXHRpZnJhbWUudGFiSW5kZXggPSAtMTtcblx0Y29uc3QgY3Jvc3NvcmlnaW4gPSBpc19jcm9zc29yaWdpbigpO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7KCkgPT4gdm9pZH1cblx0ICovXG5cdGxldCB1bnN1YnNjcmliZTtcblx0aWYgKGNyb3Nzb3JpZ2luKSB7XG5cdFx0aWZyYW1lLnNyYyA9IFwiZGF0YTp0ZXh0L2h0bWwsPHNjcmlwdD5vbnJlc2l6ZT1mdW5jdGlvbigpe3BhcmVudC5wb3N0TWVzc2FnZSgwLCcqJyl9PC9zY3JpcHQ+XCI7XG5cdFx0dW5zdWJzY3JpYmUgPSBsaXN0ZW4oXG5cdFx0XHR3aW5kb3csXG5cdFx0XHQnbWVzc2FnZScsXG5cdFx0XHQvKiogQHBhcmFtIHtNZXNzYWdlRXZlbnR9IGV2ZW50ICovIChldmVudCkgPT4ge1xuXHRcdFx0XHRpZiAoZXZlbnQuc291cmNlID09PSBpZnJhbWUuY29udGVudFdpbmRvdykgZm4oKTtcblx0XHRcdH1cblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnO1xuXHRcdGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG5cdFx0XHR1bnN1YnNjcmliZSA9IGxpc3RlbihpZnJhbWUuY29udGVudFdpbmRvdywgJ3Jlc2l6ZScsIGZuKTtcblx0XHRcdC8vIG1ha2Ugc3VyZSBhbiBpbml0aWFsIHJlc2l6ZSBldmVudCBpcyBmaXJlZCBfYWZ0ZXJfIHRoZSBpZnJhbWUgaXMgbG9hZGVkICh3aGljaCBpcyBhc3luY2hyb25vdXMpXG5cdFx0XHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvNDIzM1xuXHRcdFx0Zm4oKTtcblx0XHR9O1xuXHR9XG5cdGFwcGVuZChub2RlLCBpZnJhbWUpO1xuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmIChjcm9zc29yaWdpbikge1xuXHRcdFx0dW5zdWJzY3JpYmUoKTtcblx0XHR9IGVsc2UgaWYgKHVuc3Vic2NyaWJlICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7XG5cdFx0XHR1bnN1YnNjcmliZSgpO1xuXHRcdH1cblx0XHRkZXRhY2goaWZyYW1lKTtcblx0fTtcbn1cbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfY29udGVudF9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHtcblx0Ym94OiAnY29udGVudC1ib3gnXG59KTtcbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfYm9yZGVyX2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oe1xuXHRib3g6ICdib3JkZXItYm94J1xufSk7XG5leHBvcnQgY29uc3QgcmVzaXplX29ic2VydmVyX2RldmljZV9waXhlbF9jb250ZW50X2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oXG5cdHsgYm94OiAnZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94JyB9XG4pO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24gfTtcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVfY2xhc3MoZWxlbWVudCwgbmFtZSwgdG9nZ2xlKSB7XG5cdC8vIFRoZSBgISFgIGlzIHJlcXVpcmVkIGJlY2F1c2UgYW4gYHVuZGVmaW5lZGAgZmxhZyBtZWFucyBmbGlwcGluZyB0aGUgY3VycmVudCBzdGF0ZS5cblx0ZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKG5hbWUsICEhdG9nZ2xlKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7VH0gW2RldGFpbF1cbiAqIEBwYXJhbSB7eyBidWJibGVzPzogYm9vbGVhbiwgY2FuY2VsYWJsZT86IGJvb2xlYW4gfX0gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7Q3VzdG9tRXZlbnQ8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsLCB7IGJ1YmJsZXMgPSBmYWxzZSwgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkge1xuXHRyZXR1cm4gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHsgZGV0YWlsLCBidWJibGVzLCBjYW5jZWxhYmxlIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG4gKiBAcmV0dXJucyB7Q2hpbGROb2RlQXJyYXl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeV9zZWxlY3Rvcl9hbGwoc2VsZWN0b3IsIHBhcmVudCA9IGRvY3VtZW50LmJvZHkpIHtcblx0cmV0dXJuIEFycmF5LmZyb20ocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbm9kZUlkXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBoZWFkXG4gKiBAcmV0dXJucyB7YW55W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZWFkX3NlbGVjdG9yKG5vZGVJZCwgaGVhZCkge1xuXHRjb25zdCByZXN1bHQgPSBbXTtcblx0bGV0IHN0YXJ0ZWQgPSAwO1xuXHRmb3IgKGNvbnN0IG5vZGUgb2YgaGVhZC5jaGlsZE5vZGVzKSB7XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovKSB7XG5cdFx0XHRjb25zdCBjb21tZW50ID0gbm9kZS50ZXh0Q29udGVudC50cmltKCk7XG5cdFx0XHRpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X0VORGApIHtcblx0XHRcdFx0c3RhcnRlZCAtPSAxO1xuXHRcdFx0XHRyZXN1bHQucHVzaChub2RlKTtcblx0XHRcdH0gZWxzZSBpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X1NUQVJUYCkge1xuXHRcdFx0XHRzdGFydGVkICs9IDE7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoc3RhcnRlZCA+IDApIHtcblx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuLyoqICovXG5leHBvcnQgY2xhc3MgSHRtbFRhZyB7XG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAZGVmYXVsdCBmYWxzZVxuXHQgKi9cblx0aXNfc3ZnID0gZmFsc2U7XG5cdC8qKiBwYXJlbnQgZm9yIGNyZWF0aW5nIG5vZGUgKi9cblx0ZSA9IHVuZGVmaW5lZDtcblx0LyoqIGh0bWwgdGFnIG5vZGVzICovXG5cdG4gPSB1bmRlZmluZWQ7XG5cdC8qKiB0YXJnZXQgKi9cblx0dCA9IHVuZGVmaW5lZDtcblx0LyoqIGFuY2hvciAqL1xuXHRhID0gdW5kZWZpbmVkO1xuXHRjb25zdHJ1Y3Rvcihpc19zdmcgPSBmYWxzZSkge1xuXHRcdHRoaXMuaXNfc3ZnID0gaXNfc3ZnO1xuXHRcdHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRjKGh0bWwpIHtcblx0XHR0aGlzLmgoaHRtbCk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnR9IHRhcmdldFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU1ZHRWxlbWVudH0gYW5jaG9yXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0bShodG1sLCB0YXJnZXQsIGFuY2hvciA9IG51bGwpIHtcblx0XHRpZiAoIXRoaXMuZSkge1xuXHRcdFx0aWYgKHRoaXMuaXNfc3ZnKVxuXHRcdFx0XHR0aGlzLmUgPSBzdmdfZWxlbWVudCgvKiogQHR5cGUge2tleW9mIFNWR0VsZW1lbnRUYWdOYW1lTWFwfSAqLyAodGFyZ2V0Lm5vZGVOYW1lKSk7XG5cdFx0XHQvKiogIzczNjQgIHRhcmdldCBmb3IgPHRlbXBsYXRlPiBtYXkgYmUgcHJvdmlkZWQgYXMgI2RvY3VtZW50LWZyYWdtZW50KDExKSAqLyBlbHNlXG5cdFx0XHRcdHRoaXMuZSA9IGVsZW1lbnQoXG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9ICovIChcblx0XHRcdFx0XHRcdHRhcmdldC5ub2RlVHlwZSA9PT0gMTEgPyAnVEVNUExBVEUnIDogdGFyZ2V0Lm5vZGVOYW1lXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpO1xuXHRcdFx0dGhpcy50ID1cblx0XHRcdFx0dGFyZ2V0LnRhZ05hbWUgIT09ICdURU1QTEFURSdcblx0XHRcdFx0XHQ/IHRhcmdldFxuXHRcdFx0XHRcdDogLyoqIEB0eXBlIHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyAodGFyZ2V0KS5jb250ZW50O1xuXHRcdFx0dGhpcy5jKGh0bWwpO1xuXHRcdH1cblx0XHR0aGlzLmkoYW5jaG9yKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGgoaHRtbCkge1xuXHRcdHRoaXMuZS5pbm5lckhUTUwgPSBodG1sO1xuXHRcdHRoaXMubiA9IEFycmF5LmZyb20oXG5cdFx0XHR0aGlzLmUubm9kZU5hbWUgPT09ICdURU1QTEFURScgPyB0aGlzLmUuY29udGVudC5jaGlsZE5vZGVzIDogdGhpcy5lLmNoaWxkTm9kZXNcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRpKGFuY2hvcikge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRpbnNlcnQodGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0cChodG1sKSB7XG5cdFx0dGhpcy5kKCk7XG5cdFx0dGhpcy5oKGh0bWwpO1xuXHRcdHRoaXMuaSh0aGlzLmEpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRkKCkge1xuXHRcdHRoaXMubi5mb3JFYWNoKGRldGFjaCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEh0bWxUYWdIeWRyYXRpb24gZXh0ZW5kcyBIdG1sVGFnIHtcblx0LyoqIEB0eXBlIHtFbGVtZW50W119IGh5ZHJhdGlvbiBjbGFpbWVkIG5vZGVzICovXG5cdGwgPSB1bmRlZmluZWQ7XG5cblx0Y29uc3RydWN0b3IoaXNfc3ZnID0gZmFsc2UsIGNsYWltZWRfbm9kZXMpIHtcblx0XHRzdXBlcihpc19zdmcpO1xuXHRcdHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG5cdFx0dGhpcy5sID0gY2xhaW1lZF9ub2Rlcztcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGMoaHRtbCkge1xuXHRcdGlmICh0aGlzLmwpIHtcblx0XHRcdHRoaXMubiA9IHRoaXMubDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3VwZXIuYyhodG1sKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGkoYW5jaG9yKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGluc2VydF9oeWRyYXRpb24odGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOYW1lZE5vZGVNYXB9IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt7fX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dHJpYnV0ZV90b19vYmplY3QoYXR0cmlidXRlcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xuXHRcdHJlc3VsdFthdHRyaWJ1dGUubmFtZV0gPSBhdHRyaWJ1dGUudmFsdWU7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7e319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKGVsZW1lbnQpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKFxuXHRcdC8qKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgKi8gKG5vZGUpID0+IHtcblx0XHRcdHJlc3VsdFtub2RlLnNsb3QgfHwgJ2RlZmF1bHQnXSA9IHRydWU7XG5cdFx0fVxuXHQpO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnQoY29tcG9uZW50LCBwcm9wcykge1xuXHRyZXR1cm4gbmV3IGNvbXBvbmVudChwcm9wcyk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge05vZGUgJiB7XG4gKiBcdGNsYWltX29yZGVyPzogbnVtYmVyO1xuICogXHRoeWRyYXRlX2luaXQ/OiB0cnVlO1xuICogXHRhY3R1YWxfZW5kX2NoaWxkPzogTm9kZUV4O1xuICogXHRjaGlsZE5vZGVzOiBOb2RlTGlzdE9mPE5vZGVFeD47XG4gKiB9fSBOb2RlRXhcbiAqL1xuXG4vKiogQHR5cGVkZWYge0NoaWxkTm9kZSAmIE5vZGVFeH0gQ2hpbGROb2RlRXggKi9cblxuLyoqIEB0eXBlZGVmIHtOb2RlRXggJiB7IGNsYWltX29yZGVyOiBudW1iZXIgfX0gTm9kZUV4MiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtDaGlsZE5vZGVFeFtdICYge1xuICogXHRjbGFpbV9pbmZvPzoge1xuICogXHRcdGxhc3RfaW5kZXg6IG51bWJlcjtcbiAqIFx0XHR0b3RhbF9jbGFpbWVkOiBudW1iZXI7XG4gKiBcdH07XG4gKiB9fSBDaGlsZE5vZGVBcnJheVxuICovXG4iLCJpbXBvcnQgeyBjdXN0b21fZXZlbnQgfSBmcm9tICcuL2RvbS5qcyc7XG5cbmV4cG9ydCBsZXQgY3VycmVudF9jb21wb25lbnQ7XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KSB7XG5cdGN1cnJlbnRfY29tcG9uZW50ID0gY29tcG9uZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkge1xuXHRpZiAoIWN1cnJlbnRfY29tcG9uZW50KSB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIGNhbGxlZCBvdXRzaWRlIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbicpO1xuXHRyZXR1cm4gY3VycmVudF9jb21wb25lbnQ7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVwZGF0ZWQgYWZ0ZXIgYW55IHN0YXRlIGNoYW5nZS5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGJlZm9yZSB0aGUgaW5pdGlhbCBgb25Nb3VudGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjYmVmb3JldXBkYXRlXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmVmb3JlVXBkYXRlKGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmJlZm9yZV91cGRhdGUucHVzaChmbik7XG59XG5cbi8qKlxuICogVGhlIGBvbk1vdW50YCBmdW5jdGlvbiBzY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gYXMgc29vbiBhcyB0aGUgY29tcG9uZW50IGhhcyBiZWVuIG1vdW50ZWQgdG8gdGhlIERPTS5cbiAqIEl0IG11c3QgYmUgY2FsbGVkIGR1cmluZyB0aGUgY29tcG9uZW50J3MgaW5pdGlhbGlzYXRpb24gKGJ1dCBkb2Vzbid0IG5lZWQgdG8gbGl2ZSAqaW5zaWRlKiB0aGUgY29tcG9uZW50O1xuICogaXQgY2FuIGJlIGNhbGxlZCBmcm9tIGFuIGV4dGVybmFsIG1vZHVsZSkuXG4gKlxuICogSWYgYSBmdW5jdGlvbiBpcyByZXR1cm5lZCBfc3luY2hyb25vdXNseV8gZnJvbSBgb25Nb3VudGAsIGl0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogYG9uTW91bnRgIGRvZXMgbm90IHJ1biBpbnNpZGUgYSBbc2VydmVyLXNpZGUgY29tcG9uZW50XSgvZG9jcyNydW4tdGltZS1zZXJ2ZXItc2lkZS1jb21wb25lbnQtYXBpKS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjb25tb3VudFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7KCkgPT4gaW1wb3J0KCcuL3ByaXZhdGUuanMnKS5Ob3RGdW5jdGlvbjxUPiB8IFByb21pc2U8aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5Ob3RGdW5jdGlvbjxUPj4gfCAoKCkgPT4gYW55KX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25Nb3VudChmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9tb3VudC5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiB1cGRhdGVkLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYWZ0ZXIgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2FmdGVydXBkYXRlXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWZ0ZXJVcGRhdGUoZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYWZ0ZXJfdXBkYXRlLnB1c2goZm4pO1xufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogT3V0IG9mIGBvbk1vdW50YCwgYGJlZm9yZVVwZGF0ZWAsIGBhZnRlclVwZGF0ZWAgYW5kIGBvbkRlc3Ryb3lgLCB0aGlzIGlzIHRoZVxuICogb25seSBvbmUgdGhhdCBydW5zIGluc2lkZSBhIHNlcnZlci1zaWRlIGNvbXBvbmVudC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjb25kZXN0cm95XG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25EZXN0cm95KGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX2Rlc3Ryb3kucHVzaChmbik7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBldmVudCBkaXNwYXRjaGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZGlzcGF0Y2ggW2NvbXBvbmVudCBldmVudHNdKC9kb2NzI3RlbXBsYXRlLXN5bnRheC1jb21wb25lbnQtZGlyZWN0aXZlcy1vbi1ldmVudG5hbWUpLlxuICogRXZlbnQgZGlzcGF0Y2hlcnMgYXJlIGZ1bmN0aW9ucyB0aGF0IGNhbiB0YWtlIHR3byBhcmd1bWVudHM6IGBuYW1lYCBhbmQgYGRldGFpbGAuXG4gKlxuICogQ29tcG9uZW50IGV2ZW50cyBjcmVhdGVkIHdpdGggYGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcmAgY3JlYXRlIGFcbiAqIFtDdXN0b21FdmVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50KS5cbiAqIFRoZXNlIGV2ZW50cyBkbyBub3QgW2J1YmJsZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9MZWFybi9KYXZhU2NyaXB0L0J1aWxkaW5nX2Jsb2Nrcy9FdmVudHMjRXZlbnRfYnViYmxpbmdfYW5kX2NhcHR1cmUpLlxuICogVGhlIGBkZXRhaWxgIGFyZ3VtZW50IGNvcnJlc3BvbmRzIHRvIHRoZSBbQ3VzdG9tRXZlbnQuZGV0YWlsXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQvZGV0YWlsKVxuICogcHJvcGVydHkgYW5kIGNhbiBjb250YWluIGFueSB0eXBlIG9mIGRhdGEuXG4gKlxuICogVGhlIGV2ZW50IGRpc3BhdGNoZXIgY2FuIGJlIHR5cGVkIHRvIG5hcnJvdyB0aGUgYWxsb3dlZCBldmVudCBuYW1lcyBhbmQgdGhlIHR5cGUgb2YgdGhlIGBkZXRhaWxgIGFyZ3VtZW50OlxuICogYGBgdHNcbiAqIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyPHtcbiAqICBsb2FkZWQ6IG5ldmVyOyAvLyBkb2VzIG5vdCB0YWtlIGEgZGV0YWlsIGFyZ3VtZW50XG4gKiAgY2hhbmdlOiBzdHJpbmc7IC8vIHRha2VzIGEgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgc3RyaW5nLCB3aGljaCBpcyByZXF1aXJlZFxuICogIG9wdGlvbmFsOiBudW1iZXIgfCBudWxsOyAvLyB0YWtlcyBhbiBvcHRpb25hbCBkZXRhaWwgYXJndW1lbnQgb2YgdHlwZSBudW1iZXJcbiAqIH0+KCk7XG4gKiBgYGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjY3JlYXRlZXZlbnRkaXNwYXRjaGVyXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudE1hcD1hbnldXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLkV2ZW50RGlzcGF0Y2hlcjxFdmVudE1hcD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFdmVudERpc3BhdGNoZXIoKSB7XG5cdGNvbnN0IGNvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuXHRyZXR1cm4gKHR5cGUsIGRldGFpbCwgeyBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSA9PiB7XG5cdFx0Y29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1t0eXBlXTtcblx0XHRpZiAoY2FsbGJhY2tzKSB7XG5cdFx0XHQvLyBUT0RPIGFyZSB0aGVyZSBzaXR1YXRpb25zIHdoZXJlIGV2ZW50cyBjb3VsZCBiZSBkaXNwYXRjaGVkXG5cdFx0XHQvLyBpbiBhIHNlcnZlciAobm9uLURPTSkgZW52aXJvbm1lbnQ/XG5cdFx0XHRjb25zdCBldmVudCA9IGN1c3RvbV9ldmVudCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSB9KTtcblx0XHRcdGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goKGZuKSA9PiB7XG5cdFx0XHRcdGZuLmNhbGwoY29tcG9uZW50LCBldmVudCk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG59XG5cbi8qKlxuICogQXNzb2NpYXRlcyBhbiBhcmJpdHJhcnkgYGNvbnRleHRgIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudCBhbmQgdGhlIHNwZWNpZmllZCBga2V5YFxuICogYW5kIHJldHVybnMgdGhhdCBvYmplY3QuIFRoZSBjb250ZXh0IGlzIHRoZW4gYXZhaWxhYmxlIHRvIGNoaWxkcmVuIG9mIHRoZSBjb21wb25lbnRcbiAqIChpbmNsdWRpbmcgc2xvdHRlZCBjb250ZW50KSB3aXRoIGBnZXRDb250ZXh0YC5cbiAqXG4gKiBMaWtlIGxpZmVjeWNsZSBmdW5jdGlvbnMsIHRoaXMgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjc2V0Y29udGV4dFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEBwYXJhbSB7VH0gY29udGV4dFxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb250ZXh0KGtleSwgY29udGV4dCkge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LnNldChrZXksIGNvbnRleHQpO1xuXHRyZXR1cm4gY29udGV4dDtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGNvbnRleHQgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGBrZXlgLlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjZ2V0Y29udGV4dFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGV4dChrZXkpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSB3aG9sZSBjb250ZXh0IG1hcCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uIFVzZWZ1bCwgZm9yIGV4YW1wbGUsIGlmIHlvdVxuICogcHJvZ3JhbW1hdGljYWxseSBjcmVhdGUgYSBjb21wb25lbnQgYW5kIHdhbnQgdG8gcGFzcyB0aGUgZXhpc3RpbmcgY29udGV4dCB0byBpdC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjZ2V0YWxsY29udGV4dHNcbiAqIEB0ZW1wbGF0ZSB7TWFwPGFueSwgYW55Pn0gW1Q9TWFwPGFueSwgYW55Pl1cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsQ29udGV4dHMoKSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0O1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gYGtleWAgaGFzIGJlZW4gc2V0IGluIHRoZSBjb250ZXh0IG9mIGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2hhc2NvbnRleHRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzQ29udGV4dChrZXkpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuaGFzKGtleSk7XG59XG5cbi8vIFRPRE8gZmlndXJlIG91dCBpZiB3ZSBzdGlsbCB3YW50IHRvIHN1cHBvcnRcbi8vIHNob3J0aGFuZCBldmVudHMsIG9yIGlmIHdlIHdhbnQgdG8gaW1wbGVtZW50XG4vLyBhIHJlYWwgYnViYmxpbmcgbWVjaGFuaXNtXG4vKipcbiAqIEBwYXJhbSBjb21wb25lbnRcbiAqIEBwYXJhbSBldmVudFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWJibGUoY29tcG9uZW50LCBldmVudCkge1xuXHRjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW2V2ZW50LnR5cGVdO1xuXHRpZiAoY2FsbGJhY2tzKSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goKGZuKSA9PiBmbi5jYWxsKHRoaXMsIGV2ZW50KSk7XG5cdH1cbn1cbiIsImltcG9ydCB7IHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IGN1cnJlbnRfY29tcG9uZW50LCBzZXRfY3VycmVudF9jb21wb25lbnQgfSBmcm9tICcuL2xpZmVjeWNsZS5qcyc7XG5cbmV4cG9ydCBjb25zdCBkaXJ0eV9jb21wb25lbnRzID0gW107XG5leHBvcnQgY29uc3QgaW50cm9zID0geyBlbmFibGVkOiBmYWxzZSB9O1xuZXhwb3J0IGNvbnN0IGJpbmRpbmdfY2FsbGJhY2tzID0gW107XG5cbmxldCByZW5kZXJfY2FsbGJhY2tzID0gW107XG5cbmNvbnN0IGZsdXNoX2NhbGxiYWNrcyA9IFtdO1xuXG5jb25zdCByZXNvbHZlZF9wcm9taXNlID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xuXG5sZXQgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVfdXBkYXRlKCkge1xuXHRpZiAoIXVwZGF0ZV9zY2hlZHVsZWQpIHtcblx0XHR1cGRhdGVfc2NoZWR1bGVkID0gdHJ1ZTtcblx0XHRyZXNvbHZlZF9wcm9taXNlLnRoZW4oZmx1c2gpO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aWNrKCkge1xuXHRzY2hlZHVsZV91cGRhdGUoKTtcblx0cmV0dXJuIHJlc29sdmVkX3Byb21pc2U7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfcmVuZGVyX2NhbGxiYWNrKGZuKSB7XG5cdHJlbmRlcl9jYWxsYmFja3MucHVzaChmbik7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfZmx1c2hfY2FsbGJhY2soZm4pIHtcblx0Zmx1c2hfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuXG4vLyBmbHVzaCgpIGNhbGxzIGNhbGxiYWNrcyBpbiB0aGlzIG9yZGVyOlxuLy8gMS4gQWxsIGJlZm9yZVVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlblxuLy8gMi4gQWxsIGJpbmQ6dGhpcyBjYWxsYmFja3MsIGluIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gMy4gQWxsIGFmdGVyVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuLiBFWENFUFRcbi8vICAgIGZvciBhZnRlclVwZGF0ZXMgY2FsbGVkIGR1cmluZyB0aGUgaW5pdGlhbCBvbk1vdW50LCB3aGljaCBhcmUgY2FsbGVkIGluXG4vLyAgICByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIFNpbmNlIGNhbGxiYWNrcyBtaWdodCB1cGRhdGUgY29tcG9uZW50IHZhbHVlcywgd2hpY2ggY291bGQgdHJpZ2dlciBhbm90aGVyXG4vLyBjYWxsIHRvIGZsdXNoKCksIHRoZSBmb2xsb3dpbmcgc3RlcHMgZ3VhcmQgYWdhaW5zdCB0aGlzOlxuLy8gMS4gRHVyaW5nIGJlZm9yZVVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuLy8gICAgZGlydHlfY29tcG9uZW50cyBhcnJheSBhbmQgd2lsbCBjYXVzZSBhIHJlZW50cmFudCBjYWxsIHRvIGZsdXNoKCkuIEJlY2F1c2Vcbi8vICAgIHRoZSBmbHVzaCBpbmRleCBpcyBrZXB0IG91dHNpZGUgdGhlIGZ1bmN0aW9uLCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbCBwaWNrXG4vLyAgICB1cCB3aGVyZSB0aGUgZWFybGllciBjYWxsIGxlZnQgb2ZmIGFuZCBnbyB0aHJvdWdoIGFsbCBkaXJ0eSBjb21wb25lbnRzLiBUaGVcbi8vICAgIGN1cnJlbnRfY29tcG9uZW50IHZhbHVlIGlzIHNhdmVkIGFuZCByZXN0b3JlZCBzbyB0aGF0IHRoZSByZWVudHJhbnQgY2FsbCB3aWxsXG4vLyAgICBub3QgaW50ZXJmZXJlIHdpdGggdGhlIFwicGFyZW50XCIgZmx1c2goKSBjYWxsLlxuLy8gMi4gYmluZDp0aGlzIGNhbGxiYWNrcyBjYW5ub3QgdHJpZ2dlciBuZXcgZmx1c2goKSBjYWxscy5cbi8vIDMuIER1cmluZyBhZnRlclVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIE5PVCBoYXZlIHRoZWlyIGFmdGVyVXBkYXRlXG4vLyAgICBjYWxsYmFjayBjYWxsZWQgYSBzZWNvbmQgdGltZTsgdGhlIHNlZW5fY2FsbGJhY2tzIHNldCwgb3V0c2lkZSB0aGUgZmx1c2goKVxuLy8gICAgZnVuY3Rpb24sIGd1YXJhbnRlZXMgdGhpcyBiZWhhdmlvci5cbmNvbnN0IHNlZW5fY2FsbGJhY2tzID0gbmV3IFNldCgpO1xuXG5sZXQgZmx1c2hpZHggPSAwOyAvLyBEbyAqbm90KiBtb3ZlIHRoaXMgaW5zaWRlIHRoZSBmbHVzaCgpIGZ1bmN0aW9uXG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaCgpIHtcblx0Ly8gRG8gbm90IHJlZW50ZXIgZmx1c2ggd2hpbGUgZGlydHkgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgYXMgdGhpcyBjYW5cblx0Ly8gcmVzdWx0IGluIGFuIGluZmluaXRlIGxvb3AuIEluc3RlYWQsIGxldCB0aGUgaW5uZXIgZmx1c2ggaGFuZGxlIGl0LlxuXHQvLyBSZWVudHJhbmN5IGlzIG9rIGFmdGVyd2FyZHMgZm9yIGJpbmRpbmdzIGV0Yy5cblx0aWYgKGZsdXNoaWR4ICE9PSAwKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGNvbnN0IHNhdmVkX2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuXHRkbyB7XG5cdFx0Ly8gZmlyc3QsIGNhbGwgYmVmb3JlVXBkYXRlIGZ1bmN0aW9uc1xuXHRcdC8vIGFuZCB1cGRhdGUgY29tcG9uZW50c1xuXHRcdHRyeSB7XG5cdFx0XHR3aGlsZSAoZmx1c2hpZHggPCBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCkge1xuXHRcdFx0XHRjb25zdCBjb21wb25lbnQgPSBkaXJ0eV9jb21wb25lbnRzW2ZsdXNoaWR4XTtcblx0XHRcdFx0Zmx1c2hpZHgrKztcblx0XHRcdFx0c2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG5cdFx0XHRcdHVwZGF0ZShjb21wb25lbnQuJCQpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdC8vIHJlc2V0IGRpcnR5IHN0YXRlIHRvIG5vdCBlbmQgdXAgaW4gYSBkZWFkbG9ja2VkIHN0YXRlIGFuZCB0aGVuIHJldGhyb3dcblx0XHRcdGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcblx0XHRcdGZsdXNoaWR4ID0gMDtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcblx0XHRkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG5cdFx0Zmx1c2hpZHggPSAwO1xuXHRcdHdoaWxlIChiaW5kaW5nX2NhbGxiYWNrcy5sZW5ndGgpIGJpbmRpbmdfY2FsbGJhY2tzLnBvcCgpKCk7XG5cdFx0Ly8gdGhlbiwgb25jZSBjb21wb25lbnRzIGFyZSB1cGRhdGVkLCBjYWxsXG5cdFx0Ly8gYWZ0ZXJVcGRhdGUgZnVuY3Rpb25zLiBUaGlzIG1heSBjYXVzZVxuXHRcdC8vIHN1YnNlcXVlbnQgdXBkYXRlcy4uLlxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0Y29uc3QgY2FsbGJhY2sgPSByZW5kZXJfY2FsbGJhY2tzW2ldO1xuXHRcdFx0aWYgKCFzZWVuX2NhbGxiYWNrcy5oYXMoY2FsbGJhY2spKSB7XG5cdFx0XHRcdC8vIC4uLnNvIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcHNcblx0XHRcdFx0c2Vlbl9jYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVuZGVyX2NhbGxiYWNrcy5sZW5ndGggPSAwO1xuXHR9IHdoaWxlIChkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCk7XG5cdHdoaWxlIChmbHVzaF9jYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0Zmx1c2hfY2FsbGJhY2tzLnBvcCgpKCk7XG5cdH1cblx0dXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuXHRzZWVuX2NhbGxiYWNrcy5jbGVhcigpO1xuXHRzZXRfY3VycmVudF9jb21wb25lbnQoc2F2ZWRfY29tcG9uZW50KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZnVuY3Rpb24gdXBkYXRlKCQkKSB7XG5cdGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuXHRcdCQkLnVwZGF0ZSgpO1xuXHRcdHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG5cdFx0Y29uc3QgZGlydHkgPSAkJC5kaXJ0eTtcblx0XHQkJC5kaXJ0eSA9IFstMV07XG5cdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQucCgkJC5jdHgsIGRpcnR5KTtcblx0XHQkJC5hZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcblx0fVxufVxuXG4vKipcbiAqIFVzZWZ1bCBmb3IgZXhhbXBsZSB0byBleGVjdXRlIHJlbWFpbmluZyBgYWZ0ZXJVcGRhdGVgIGNhbGxiYWNrcyBiZWZvcmUgZXhlY3V0aW5nIGBkZXN0cm95YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gZm5zXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoX3JlbmRlcl9jYWxsYmFja3MoZm5zKSB7XG5cdGNvbnN0IGZpbHRlcmVkID0gW107XG5cdGNvbnN0IHRhcmdldHMgPSBbXTtcblx0cmVuZGVyX2NhbGxiYWNrcy5mb3JFYWNoKChjKSA9PiAoZm5zLmluZGV4T2YoYykgPT09IC0xID8gZmlsdGVyZWQucHVzaChjKSA6IHRhcmdldHMucHVzaChjKSkpO1xuXHR0YXJnZXRzLmZvckVhY2goKGMpID0+IGMoKSk7XG5cdHJlbmRlcl9jYWxsYmFja3MgPSBmaWx0ZXJlZDtcbn1cbiIsImltcG9ydCB7IGlkZW50aXR5IGFzIGxpbmVhciwgaXNfZnVuY3Rpb24sIG5vb3AsIHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IG5vdyB9IGZyb20gJy4vZW52aXJvbm1lbnQuanMnO1xuaW1wb3J0IHsgbG9vcCB9IGZyb20gJy4vbG9vcC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVfcnVsZSwgZGVsZXRlX3J1bGUgfSBmcm9tICcuL3N0eWxlX21hbmFnZXIuanMnO1xuaW1wb3J0IHsgY3VzdG9tX2V2ZW50IH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgYWRkX3JlbmRlcl9jYWxsYmFjayB9IGZyb20gJy4vc2NoZWR1bGVyLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7UHJvbWlzZTx2b2lkPiB8IG51bGx9XG4gKi9cbmxldCBwcm9taXNlO1xuXG4vKipcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5mdW5jdGlvbiB3YWl0KCkge1xuXHRpZiAoIXByb21pc2UpIHtcblx0XHRwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0cHJvbWlzZS50aGVuKCgpID0+IHtcblx0XHRcdHByb21pc2UgPSBudWxsO1xuXHRcdH0pO1xuXHR9XG5cdHJldHVybiBwcm9taXNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtJTlRSTyB8IE9VVFJPIHwgYm9vbGVhbn0gZGlyZWN0aW9uXG4gKiBAcGFyYW0geydzdGFydCcgfCAnZW5kJ30ga2luZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGRpc3BhdGNoKG5vZGUsIGRpcmVjdGlvbiwga2luZCkge1xuXHRub2RlLmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KGAke2RpcmVjdGlvbiA/ICdpbnRybycgOiAnb3V0cm8nfSR7a2luZH1gKSk7XG59XG5cbmNvbnN0IG91dHJvaW5nID0gbmV3IFNldCgpO1xuXG4vKipcbiAqIEB0eXBlIHtPdXRyb31cbiAqL1xubGV0IG91dHJvcztcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBncm91cF9vdXRyb3MoKSB7XG5cdG91dHJvcyA9IHtcblx0XHRyOiAwLFxuXHRcdGM6IFtdLFxuXHRcdHA6IG91dHJvcyAvLyBwYXJlbnQgZ3JvdXBcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja19vdXRyb3MoKSB7XG5cdGlmICghb3V0cm9zLnIpIHtcblx0XHRydW5fYWxsKG91dHJvcy5jKTtcblx0fVxuXHRvdXRyb3MgPSBvdXRyb3MucDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuRnJhZ21lbnR9IGJsb2NrXG4gKiBAcGFyYW0gezAgfCAxfSBbbG9jYWxdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25faW4oYmxvY2ssIGxvY2FsKSB7XG5cdGlmIChibG9jayAmJiBibG9jay5pKSB7XG5cdFx0b3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcblx0XHRibG9jay5pKGxvY2FsKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5GcmFnbWVudH0gYmxvY2tcbiAqIEBwYXJhbSB7MCB8IDF9IGxvY2FsXG4gKiBAcGFyYW0gezAgfCAxfSBbZGV0YWNoXVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25fb3V0KGJsb2NrLCBsb2NhbCwgZGV0YWNoLCBjYWxsYmFjaykge1xuXHRpZiAoYmxvY2sgJiYgYmxvY2subykge1xuXHRcdGlmIChvdXRyb2luZy5oYXMoYmxvY2spKSByZXR1cm47XG5cdFx0b3V0cm9pbmcuYWRkKGJsb2NrKTtcblx0XHRvdXRyb3MuYy5wdXNoKCgpID0+IHtcblx0XHRcdG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG5cdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0aWYgKGRldGFjaCkgYmxvY2suZCgxKTtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRibG9jay5vKGxvY2FsKTtcblx0fSBlbHNlIGlmIChjYWxsYmFjaykge1xuXHRcdGNhbGxiYWNrKCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAdHlwZSB7aW1wb3J0KCcuLi90cmFuc2l0aW9uL3B1YmxpYy5qcycpLlRyYW5zaXRpb25Db25maWd9XG4gKi9cbmNvbnN0IG51bGxfdHJhbnNpdGlvbiA9IHsgZHVyYXRpb246IDAgfTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbkZufSBmblxuICogQHBhcmFtIHthbnl9IHBhcmFtc1xuICogQHJldHVybnMge3sgc3RhcnQoKTogdm9pZDsgaW52YWxpZGF0ZSgpOiB2b2lkOyBlbmQoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9pbl90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtUcmFuc2l0aW9uT3B0aW9uc30gKi9cblx0Y29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnaW4nIH07XG5cdGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHRsZXQgcnVubmluZyA9IGZhbHNlO1xuXHRsZXQgYW5pbWF0aW9uX25hbWU7XG5cdGxldCB0YXNrO1xuXHRsZXQgdWlkID0gMDtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGNsZWFudXAoKSB7XG5cdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGdvKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblx0XHRpZiAoY3NzKSBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MsIHVpZCsrKTtcblx0XHR0aWNrKDAsIDEpO1xuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5O1xuXHRcdGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuXHRcdGlmICh0YXNrKSB0YXNrLmFib3J0KCk7XG5cdFx0cnVubmluZyA9IHRydWU7XG5cdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG5cdFx0dGFzayA9IGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKG5vdyA+PSBlbmRfdGltZSkge1xuXHRcdFx0XHRcdHRpY2soMSwgMCk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuXHRcdFx0XHRcdGNsZWFudXAoKTtcblx0XHRcdFx0XHRyZXR1cm4gKHJ1bm5pbmcgPSBmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG5cdFx0XHRcdFx0dGljayh0LCAxIC0gdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBydW5uaW5nO1xuXHRcdH0pO1xuXHR9XG5cdGxldCBzdGFydGVkID0gZmFsc2U7XG5cdHJldHVybiB7XG5cdFx0c3RhcnQoKSB7XG5cdFx0XHRpZiAoc3RhcnRlZCkgcmV0dXJuO1xuXHRcdFx0c3RhcnRlZCA9IHRydWU7XG5cdFx0XHRkZWxldGVfcnVsZShub2RlKTtcblx0XHRcdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcblx0XHRcdFx0d2FpdCgpLnRoZW4oZ28pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z28oKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGludmFsaWRhdGUoKSB7XG5cdFx0XHRzdGFydGVkID0gZmFsc2U7XG5cdFx0fSxcblx0XHRlbmQoKSB7XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEByZXR1cm5zIHt7IGVuZChyZXNldDogYW55KTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG5cdC8qKiBAdHlwZSB7VHJhbnNpdGlvbk9wdGlvbnN9ICovXG5cdGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ291dCcgfTtcblx0bGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG5cdGxldCBydW5uaW5nID0gdHJ1ZTtcblx0bGV0IGFuaW1hdGlvbl9uYW1lO1xuXHRjb25zdCBncm91cCA9IG91dHJvcztcblx0Z3JvdXAuciArPSAxO1xuXHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdGxldCBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGdvKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblxuXHRcdGlmIChjc3MpIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMSwgMCwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG5cblx0XHRjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcblx0XHRjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcblx0XHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnc3RhcnQnKSk7XG5cblx0XHRpZiAoJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRvcmlnaW5hbF9pbmVydF92YWx1ZSA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovIChub2RlKS5pbmVydDtcblx0XHRcdG5vZGUuaW5lcnQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKG5vdyA+PSBlbmRfdGltZSkge1xuXHRcdFx0XHRcdHRpY2soMCwgMSk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdlbmQnKTtcblx0XHRcdFx0XHRpZiAoIS0tZ3JvdXAucikge1xuXHRcdFx0XHRcdFx0Ly8gdGhpcyB3aWxsIHJlc3VsdCBpbiBgZW5kKClgIGJlaW5nIGNhbGxlZCxcblx0XHRcdFx0XHRcdC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gY2xlYW4gdXAgaGVyZVxuXHRcdFx0XHRcdFx0cnVuX2FsbChncm91cC5jKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuXHRcdFx0XHRcdGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuXHRcdFx0XHRcdHRpY2soMSAtIHQsIHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcnVubmluZztcblx0XHR9KTtcblx0fVxuXG5cdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0d2FpdCgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuXHRcdFx0Z28oKTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRnbygpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRlbmQocmVzZXQpIHtcblx0XHRcdGlmIChyZXNldCAmJiAnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdFx0bm9kZS5pbmVydCA9IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJlc2V0ICYmIGNvbmZpZy50aWNrKSB7XG5cdFx0XHRcdGNvbmZpZy50aWNrKDEsIDApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdFx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW50cm9cbiAqIEByZXR1cm5zIHt7IHJ1bihiOiAwIHwgMSk6IHZvaWQ7IGVuZCgpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuXHQvKipcblx0ICogQHR5cGUge1RyYW5zaXRpb25PcHRpb25zfSAqL1xuXHRjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdib3RoJyB9O1xuXHRsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0bGV0IHQgPSBpbnRybyA/IDAgOiAxO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7UHJvZ3JhbSB8IG51bGx9ICovXG5cdGxldCBydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7UGVuZGluZ1Byb2dyYW0gfCBudWxsfSAqL1xuXHRsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0bGV0IGFuaW1hdGlvbl9uYW1lID0gbnVsbDtcblxuXHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdGxldCBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcblx0XHRpZiAoYW5pbWF0aW9uX25hbWUpIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1BlbmRpbmdQcm9ncmFtfSBwcm9ncmFtXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvblxuXHQgKiBAcmV0dXJucyB7UHJvZ3JhbX1cblx0ICovXG5cdGZ1bmN0aW9uIGluaXQocHJvZ3JhbSwgZHVyYXRpb24pIHtcblx0XHRjb25zdCBkID0gLyoqIEB0eXBlIHtQcm9ncmFtWydkJ119ICovIChwcm9ncmFtLmIgLSB0KTtcblx0XHRkdXJhdGlvbiAqPSBNYXRoLmFicyhkKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0YTogdCxcblx0XHRcdGI6IHByb2dyYW0uYixcblx0XHRcdGQsXG5cdFx0XHRkdXJhdGlvbixcblx0XHRcdHN0YXJ0OiBwcm9ncmFtLnN0YXJ0LFxuXHRcdFx0ZW5kOiBwcm9ncmFtLnN0YXJ0ICsgZHVyYXRpb24sXG5cdFx0XHRncm91cDogcHJvZ3JhbS5ncm91cFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtJTlRSTyB8IE9VVFJPfSBiXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gZ28oYikge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblxuXHRcdC8qKlxuXHRcdCAqIEB0eXBlIHtQZW5kaW5nUHJvZ3JhbX0gKi9cblx0XHRjb25zdCBwcm9ncmFtID0ge1xuXHRcdFx0c3RhcnQ6IG5vdygpICsgZGVsYXksXG5cdFx0XHRiXG5cdFx0fTtcblxuXHRcdGlmICghYikge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3Ncblx0XHRcdHByb2dyYW0uZ3JvdXAgPSBvdXRyb3M7XG5cdFx0XHRvdXRyb3MuciArPSAxO1xuXHRcdH1cblxuXHRcdGlmICgnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdGlmIChiKSB7XG5cdFx0XHRcdGlmIChvcmlnaW5hbF9pbmVydF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ly8gYWJvcnRlZC9yZXZlcnNlZCBvdXRybyDigJQgcmVzdG9yZSBwcmV2aW91cyBpbmVydCB2YWx1ZVxuXHRcdFx0XHRcdG5vZGUuaW5lcnQgPSBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3JpZ2luYWxfaW5lcnRfdmFsdWUgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyAobm9kZSkuaW5lcnQ7XG5cdFx0XHRcdG5vZGUuaW5lcnQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKSB7XG5cdFx0XHRwZW5kaW5nX3Byb2dyYW0gPSBwcm9ncmFtO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpZiB0aGlzIGlzIGFuIGludHJvLCBhbmQgdGhlcmUncyBhIGRlbGF5LCB3ZSBuZWVkIHRvIGRvXG5cdFx0XHQvLyBhbiBpbml0aWFsIHRpY2sgYW5kL29yIGFwcGx5IENTUyBhbmltYXRpb24gaW1tZWRpYXRlbHlcblx0XHRcdGlmIChjc3MpIHtcblx0XHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRcdGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoYikgdGljaygwLCAxKTtcblx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocHJvZ3JhbSwgZHVyYXRpb24pO1xuXHRcdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBiLCAnc3RhcnQnKSk7XG5cdFx0XHRsb29wKChub3cpID0+IHtcblx0XHRcdFx0aWYgKHBlbmRpbmdfcHJvZ3JhbSAmJiBub3cgPiBwZW5kaW5nX3Byb2dyYW0uc3RhcnQpIHtcblx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBpbml0KHBlbmRpbmdfcHJvZ3JhbSwgZHVyYXRpb24pO1xuXHRcdFx0XHRcdHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdzdGFydCcpO1xuXHRcdFx0XHRcdGlmIChjc3MpIHtcblx0XHRcdFx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0XHRcdFx0YW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShcblx0XHRcdFx0XHRcdFx0bm9kZSxcblx0XHRcdFx0XHRcdFx0dCxcblx0XHRcdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtLmIsXG5cdFx0XHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbixcblx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0ZWFzaW5nLFxuXHRcdFx0XHRcdFx0XHRjb25maWcuY3NzXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocnVubmluZ19wcm9ncmFtKSB7XG5cdFx0XHRcdFx0aWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uZW5kKSB7XG5cdFx0XHRcdFx0XHR0aWNrKCh0ID0gcnVubmluZ19wcm9ncmFtLmIpLCAxIC0gdCk7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ2VuZCcpO1xuXHRcdFx0XHRcdFx0aWYgKCFwZW5kaW5nX3Byb2dyYW0pIHtcblx0XHRcdFx0XHRcdFx0Ly8gd2UncmUgZG9uZVxuXHRcdFx0XHRcdFx0XHRpZiAocnVubmluZ19wcm9ncmFtLmIpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBpbnRybyDigJQgd2UgY2FuIHRpZHkgdXAgaW1tZWRpYXRlbHlcblx0XHRcdFx0XHRcdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBvdXRybyDigJQgbmVlZHMgdG8gYmUgY29vcmRpbmF0ZWRcblx0XHRcdFx0XHRcdFx0XHRpZiAoIS0tcnVubmluZ19wcm9ncmFtLmdyb3VwLnIpIHJ1bl9hbGwocnVubmluZ19wcm9ncmFtLmdyb3VwLmMpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5zdGFydCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcCA9IG5vdyAtIHJ1bm5pbmdfcHJvZ3JhbS5zdGFydDtcblx0XHRcdFx0XHRcdHQgPSBydW5uaW5nX3Byb2dyYW0uYSArIHJ1bm5pbmdfcHJvZ3JhbS5kICogZWFzaW5nKHAgLyBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24pO1xuXHRcdFx0XHRcdFx0dGljayh0LCAxIC0gdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAhIShydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHJ1bihiKSB7XG5cdFx0XHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdFx0XHR3YWl0KCkudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3Qgb3B0cyA9IHsgZGlyZWN0aW9uOiBiID8gJ2luJyA6ICdvdXQnIH07XG5cdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRzKTtcblx0XHRcdFx0XHRnbyhiKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRnbyhiKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGVuZCgpIHtcblx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0cnVubmluZ19wcm9ncmFtID0gcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0XHR9XG5cdH07XG59XG5cbi8qKiBAdHlwZWRlZiB7MX0gSU5UUk8gKi9cbi8qKiBAdHlwZWRlZiB7MH0gT1VUUk8gKi9cbi8qKiBAdHlwZWRlZiB7eyBkaXJlY3Rpb246ICdpbicgfCAnb3V0JyB8ICdib3RoJyB9fSBUcmFuc2l0aW9uT3B0aW9ucyAqL1xuLyoqIEB0eXBlZGVmIHsobm9kZTogRWxlbWVudCwgcGFyYW1zOiBhbnksIG9wdGlvbnM6IFRyYW5zaXRpb25PcHRpb25zKSA9PiBpbXBvcnQoJy4uL3RyYW5zaXRpb24vcHVibGljLmpzJykuVHJhbnNpdGlvbkNvbmZpZ30gVHJhbnNpdGlvbkZuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3V0cm9cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uW119IGNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBwXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQZW5kaW5nUHJvZ3JhbVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0XG4gKiBAcHJvcGVydHkge0lOVFJPfE9VVFJPfSBiXG4gKiBAcHJvcGVydHkge091dHJvfSBbZ3JvdXBdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQcm9ncmFtXG4gKiBAcHJvcGVydHkge251bWJlcn0gYVxuICogQHByb3BlcnR5IHtJTlRST3xPVVRST30gYlxuICogQHByb3BlcnR5IHsxfC0xfSBkXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGVuZFxuICogQHByb3BlcnR5IHtPdXRyb30gW2dyb3VwXVxuICovXG4iLCJpbXBvcnQgeyB0cmFuc2l0aW9uX2luLCB0cmFuc2l0aW9uX291dCB9IGZyb20gJy4vdHJhbnNpdGlvbnMuanMnO1xuaW1wb3J0IHsgcnVuX2FsbCB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG4vLyBnZW5lcmFsIGVhY2ggZnVuY3Rpb25zOlxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlX2FycmF5X2xpa2UoYXJyYXlfbGlrZV9vcl9pdGVyYXRvcikge1xuXHRyZXR1cm4gYXJyYXlfbGlrZV9vcl9pdGVyYXRvcj8ubGVuZ3RoICE9PSB1bmRlZmluZWRcblx0XHQ/IGFycmF5X2xpa2Vfb3JfaXRlcmF0b3Jcblx0XHQ6IEFycmF5LmZyb20oYXJyYXlfbGlrZV9vcl9pdGVyYXRvcik7XG59XG5cbi8vIGtleWVkIGVhY2ggZnVuY3Rpb25zOlxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmQoMSk7XG5cdGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0dHJhbnNpdGlvbl9vdXQoYmxvY2ssIDEsIDEsICgpID0+IHtcblx0XHRsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG5cdH0pO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZml4X2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0YmxvY2suZigpO1xuXHRkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmYoKTtcblx0b3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W119ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX2tleWVkX2VhY2goXG5cdG9sZF9ibG9ja3MsXG5cdGRpcnR5LFxuXHRnZXRfa2V5LFxuXHRkeW5hbWljLFxuXHRjdHgsXG5cdGxpc3QsXG5cdGxvb2t1cCxcblx0bm9kZSxcblx0ZGVzdHJveSxcblx0Y3JlYXRlX2VhY2hfYmxvY2ssXG5cdG5leHQsXG5cdGdldF9jb250ZXh0XG4pIHtcblx0bGV0IG8gPSBvbGRfYmxvY2tzLmxlbmd0aDtcblx0bGV0IG4gPSBsaXN0Lmxlbmd0aDtcblx0bGV0IGkgPSBvO1xuXHRjb25zdCBvbGRfaW5kZXhlcyA9IHt9O1xuXHR3aGlsZSAoaS0tKSBvbGRfaW5kZXhlc1tvbGRfYmxvY2tzW2ldLmtleV0gPSBpO1xuXHRjb25zdCBuZXdfYmxvY2tzID0gW107XG5cdGNvbnN0IG5ld19sb29rdXAgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IGRlbHRhcyA9IG5ldyBNYXAoKTtcblx0Y29uc3QgdXBkYXRlcyA9IFtdO1xuXHRpID0gbjtcblx0d2hpbGUgKGktLSkge1xuXHRcdGNvbnN0IGNoaWxkX2N0eCA9IGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSk7XG5cdFx0Y29uc3Qga2V5ID0gZ2V0X2tleShjaGlsZF9jdHgpO1xuXHRcdGxldCBibG9jayA9IGxvb2t1cC5nZXQoa2V5KTtcblx0XHRpZiAoIWJsb2NrKSB7XG5cdFx0XHRibG9jayA9IGNyZWF0ZV9lYWNoX2Jsb2NrKGtleSwgY2hpbGRfY3R4KTtcblx0XHRcdGJsb2NrLmMoKTtcblx0XHR9IGVsc2UgaWYgKGR5bmFtaWMpIHtcblx0XHRcdC8vIGRlZmVyIHVwZGF0ZXMgdW50aWwgYWxsIHRoZSBET00gc2h1ZmZsaW5nIGlzIGRvbmVcblx0XHRcdHVwZGF0ZXMucHVzaCgoKSA9PiBibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpKTtcblx0XHR9XG5cdFx0bmV3X2xvb2t1cC5zZXQoa2V5LCAobmV3X2Jsb2Nrc1tpXSA9IGJsb2NrKSk7XG5cdFx0aWYgKGtleSBpbiBvbGRfaW5kZXhlcykgZGVsdGFzLnNldChrZXksIE1hdGguYWJzKGkgLSBvbGRfaW5kZXhlc1trZXldKSk7XG5cdH1cblx0Y29uc3Qgd2lsbF9tb3ZlID0gbmV3IFNldCgpO1xuXHRjb25zdCBkaWRfbW92ZSA9IG5ldyBTZXQoKTtcblx0LyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBpbnNlcnQoYmxvY2spIHtcblx0XHR0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcblx0XHRibG9jay5tKG5vZGUsIG5leHQpO1xuXHRcdGxvb2t1cC5zZXQoYmxvY2sua2V5LCBibG9jayk7XG5cdFx0bmV4dCA9IGJsb2NrLmZpcnN0O1xuXHRcdG4tLTtcblx0fVxuXHR3aGlsZSAobyAmJiBuKSB7XG5cdFx0Y29uc3QgbmV3X2Jsb2NrID0gbmV3X2Jsb2Nrc1tuIC0gMV07XG5cdFx0Y29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvIC0gMV07XG5cdFx0Y29uc3QgbmV3X2tleSA9IG5ld19ibG9jay5rZXk7XG5cdFx0Y29uc3Qgb2xkX2tleSA9IG9sZF9ibG9jay5rZXk7XG5cdFx0aWYgKG5ld19ibG9jayA9PT0gb2xkX2Jsb2NrKSB7XG5cdFx0XHQvLyBkbyBub3RoaW5nXG5cdFx0XHRuZXh0ID0gbmV3X2Jsb2NrLmZpcnN0O1xuXHRcdFx0by0tO1xuXHRcdFx0bi0tO1xuXHRcdH0gZWxzZSBpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9rZXkpKSB7XG5cdFx0XHQvLyByZW1vdmUgb2xkIGJsb2NrXG5cdFx0XHRkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcblx0XHRcdG8tLTtcblx0XHR9IGVsc2UgaWYgKCFsb29rdXAuaGFzKG5ld19rZXkpIHx8IHdpbGxfbW92ZS5oYXMobmV3X2tleSkpIHtcblx0XHRcdGluc2VydChuZXdfYmxvY2spO1xuXHRcdH0gZWxzZSBpZiAoZGlkX21vdmUuaGFzKG9sZF9rZXkpKSB7XG5cdFx0XHRvLS07XG5cdFx0fSBlbHNlIGlmIChkZWx0YXMuZ2V0KG5ld19rZXkpID4gZGVsdGFzLmdldChvbGRfa2V5KSkge1xuXHRcdFx0ZGlkX21vdmUuYWRkKG5ld19rZXkpO1xuXHRcdFx0aW5zZXJ0KG5ld19ibG9jayk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdpbGxfbW92ZS5hZGQob2xkX2tleSk7XG5cdFx0XHRvLS07XG5cdFx0fVxuXHR9XG5cdHdoaWxlIChvLS0pIHtcblx0XHRjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW29dO1xuXHRcdGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2Jsb2NrLmtleSkpIGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuXHR9XG5cdHdoaWxlIChuKSBpbnNlcnQobmV3X2Jsb2Nrc1tuIC0gMV0pO1xuXHRydW5fYWxsKHVwZGF0ZXMpO1xuXHRyZXR1cm4gbmV3X2Jsb2Nrcztcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlX2VhY2hfa2V5cyhjdHgsIGxpc3QsIGdldF9jb250ZXh0LCBnZXRfa2V5KSB7XG5cdGNvbnN0IGtleXMgPSBuZXcgTWFwKCk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdGNvbnN0IGtleSA9IGdldF9rZXkoZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKSk7XG5cdFx0aWYgKGtleXMuaGFzKGtleSkpIHtcblx0XHRcdGxldCB2YWx1ZSA9ICcnO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFsdWUgPSBgd2l0aCB2YWx1ZSAnJHtTdHJpbmcoa2V5KX0nIGA7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdC8vIGNhbid0IHN0cmluZ2lmeVxuXHRcdFx0fVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgQ2Fubm90IGhhdmUgZHVwbGljYXRlIGtleXMgaW4gYSBrZXllZCBlYWNoOiBLZXlzIGF0IGluZGV4ICR7a2V5cy5nZXQoXG5cdFx0XHRcdFx0a2V5XG5cdFx0XHRcdCl9IGFuZCAke2l9ICR7dmFsdWV9YXJlIGR1cGxpY2F0ZXNgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRrZXlzLnNldChrZXksIGkpO1xuXHR9XG59XG4iLCIvKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9zcHJlYWRfdXBkYXRlKGxldmVscywgdXBkYXRlcykge1xuXHRjb25zdCB1cGRhdGUgPSB7fTtcblx0Y29uc3QgdG9fbnVsbF9vdXQgPSB7fTtcblx0Y29uc3QgYWNjb3VudGVkX2ZvciA9IHsgJCRzY29wZTogMSB9O1xuXHRsZXQgaSA9IGxldmVscy5sZW5ndGg7XG5cdHdoaWxlIChpLS0pIHtcblx0XHRjb25zdCBvID0gbGV2ZWxzW2ldO1xuXHRcdGNvbnN0IG4gPSB1cGRhdGVzW2ldO1xuXHRcdGlmIChuKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG5cdFx0XHRcdGlmICghKGtleSBpbiBuKSkgdG9fbnVsbF9vdXRba2V5XSA9IDE7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiBuKSB7XG5cdFx0XHRcdGlmICghYWNjb3VudGVkX2ZvcltrZXldKSB7XG5cdFx0XHRcdFx0dXBkYXRlW2tleV0gPSBuW2tleV07XG5cdFx0XHRcdFx0YWNjb3VudGVkX2ZvcltrZXldID0gMTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bGV2ZWxzW2ldID0gbjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gbykge1xuXHRcdFx0XHRhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRmb3IgKGNvbnN0IGtleSBpbiB0b19udWxsX291dCkge1xuXHRcdGlmICghKGtleSBpbiB1cGRhdGUpKSB1cGRhdGVba2V5XSA9IHVuZGVmaW5lZDtcblx0fVxuXHRyZXR1cm4gdXBkYXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3NwcmVhZF9vYmplY3Qoc3ByZWFkX3Byb3BzKSB7XG5cdHJldHVybiB0eXBlb2Ygc3ByZWFkX3Byb3BzID09PSAnb2JqZWN0JyAmJiBzcHJlYWRfcHJvcHMgIT09IG51bGwgPyBzcHJlYWRfcHJvcHMgOiB7fTtcbn1cbiIsImltcG9ydCB7XG5cdGFkZF9yZW5kZXJfY2FsbGJhY2ssXG5cdGZsdXNoLFxuXHRmbHVzaF9yZW5kZXJfY2FsbGJhY2tzLFxuXHRzY2hlZHVsZV91cGRhdGUsXG5cdGRpcnR5X2NvbXBvbmVudHNcbn0gZnJvbSAnLi9zY2hlZHVsZXIuanMnO1xuaW1wb3J0IHsgY3VycmVudF9jb21wb25lbnQsIHNldF9jdXJyZW50X2NvbXBvbmVudCB9IGZyb20gJy4vbGlmZWN5Y2xlLmpzJztcbmltcG9ydCB7IGJsYW5rX29iamVjdCwgaXNfZW1wdHksIGlzX2Z1bmN0aW9uLCBydW4sIHJ1bl9hbGwsIG5vb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdGNoaWxkcmVuLFxuXHRkZXRhY2gsXG5cdHN0YXJ0X2h5ZHJhdGluZyxcblx0ZW5kX2h5ZHJhdGluZyxcblx0Z2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyxcblx0aW5zZXJ0LFxuXHRlbGVtZW50LFxuXHRhdHRyXG59IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IHRyYW5zaXRpb25faW4gfSBmcm9tICcuL3RyYW5zaXRpb25zLmpzJztcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuXHRjb25zdCBpbmRleCA9IGNvbXBvbmVudC4kJC5wcm9wc1tuYW1lXTtcblx0aWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcblx0XHRjb21wb25lbnQuJCQuYm91bmRbaW5kZXhdID0gY2FsbGJhY2s7XG5cdFx0Y2FsbGJhY2soY29tcG9uZW50LiQkLmN0eFtpbmRleF0pO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfY29tcG9uZW50KGJsb2NrKSB7XG5cdGJsb2NrICYmIGJsb2NrLmMoKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2NvbXBvbmVudChibG9jaywgcGFyZW50X25vZGVzKSB7XG5cdGJsb2NrICYmIGJsb2NrLmwocGFyZW50X25vZGVzKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yKSB7XG5cdGNvbnN0IHsgZnJhZ21lbnQsIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuXHRmcmFnbWVudCAmJiBmcmFnbWVudC5tKHRhcmdldCwgYW5jaG9yKTtcblx0Ly8gb25Nb3VudCBoYXBwZW5zIGJlZm9yZSB0aGUgaW5pdGlhbCBhZnRlclVwZGF0ZVxuXHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IHtcblx0XHRjb25zdCBuZXdfb25fZGVzdHJveSA9IGNvbXBvbmVudC4kJC5vbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuXHRcdC8vIGlmIHRoZSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseVxuXHRcdC8vIGl0IHdpbGwgdXBkYXRlIHRoZSBgJCQub25fZGVzdHJveWAgcmVmZXJlbmNlIHRvIGBudWxsYC5cblx0XHQvLyB0aGUgZGVzdHJ1Y3R1cmVkIG9uX2Rlc3Ryb3kgbWF5IHN0aWxsIHJlZmVyZW5jZSB0byB0aGUgb2xkIGFycmF5XG5cdFx0aWYgKGNvbXBvbmVudC4kJC5vbl9kZXN0cm95KSB7XG5cdFx0XHRjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKC4uLm5ld19vbl9kZXN0cm95KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gRWRnZSBjYXNlIC0gY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHksXG5cdFx0XHQvLyBtb3N0IGxpa2VseSBhcyBhIHJlc3VsdCBvZiBhIGJpbmRpbmcgaW5pdGlhbGlzaW5nXG5cdFx0XHRydW5fYWxsKG5ld19vbl9kZXN0cm95KTtcblx0XHR9XG5cdFx0Y29tcG9uZW50LiQkLm9uX21vdW50ID0gW107XG5cdH0pO1xuXHRhZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfY29tcG9uZW50KGNvbXBvbmVudCwgZGV0YWNoaW5nKSB7XG5cdGNvbnN0ICQkID0gY29tcG9uZW50LiQkO1xuXHRpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcblx0XHRmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKCQkLmFmdGVyX3VwZGF0ZSk7XG5cdFx0cnVuX2FsbCgkJC5vbl9kZXN0cm95KTtcblx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5kKGRldGFjaGluZyk7XG5cdFx0Ly8gVE9ETyBudWxsIG91dCBvdGhlciByZWZzLCBpbmNsdWRpbmcgY29tcG9uZW50LiQkIChidXQgbmVlZCB0b1xuXHRcdC8vIHByZXNlcnZlIGZpbmFsIHN0YXRlPylcblx0XHQkJC5vbl9kZXN0cm95ID0gJCQuZnJhZ21lbnQgPSBudWxsO1xuXHRcdCQkLmN0eCA9IFtdO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmZ1bmN0aW9uIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKSB7XG5cdGlmIChjb21wb25lbnQuJCQuZGlydHlbMF0gPT09IC0xKSB7XG5cdFx0ZGlydHlfY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG5cdFx0c2NoZWR1bGVfdXBkYXRlKCk7XG5cdFx0Y29tcG9uZW50LiQkLmRpcnR5LmZpbGwoMCk7XG5cdH1cblx0Y29tcG9uZW50LiQkLmRpcnR5WyhpIC8gMzEpIHwgMF0gfD0gMSA8PCBpICUgMzE7XG59XG5cbi8vIFRPRE86IERvY3VtZW50IHRoZSBvdGhlciBwYXJhbXNcbi8qKlxuICogQHBhcmFtIHtTdmVsdGVDb21wb25lbnR9IGNvbXBvbmVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuQ29tcG9uZW50Q29uc3RydWN0b3JPcHRpb25zfSBvcHRpb25zXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vdXRpbHMuanMnKVsnbm90X2VxdWFsJ119IG5vdF9lcXVhbCBVc2VkIHRvIGNvbXBhcmUgcHJvcHMgYW5kIHN0YXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7KHRhcmdldDogRWxlbWVudCB8IFNoYWRvd1Jvb3QpID0+IHZvaWR9IFthcHBlbmRfc3R5bGVzXSBGdW5jdGlvbiB0aGF0IGFwcGVuZHMgc3R5bGVzIHRvIHRoZSBET00gd2hlbiB0aGUgY29tcG9uZW50IGlzIGZpcnN0IGluaXRpYWxpc2VkLlxuICogVGhpcyB3aWxsIGJlIHRoZSBgYWRkX2Nzc2AgZnVuY3Rpb24gZnJvbSB0aGUgY29tcGlsZWQgY29tcG9uZW50LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdChcblx0Y29tcG9uZW50LFxuXHRvcHRpb25zLFxuXHRpbnN0YW5jZSxcblx0Y3JlYXRlX2ZyYWdtZW50LFxuXHRub3RfZXF1YWwsXG5cdHByb3BzLFxuXHRhcHBlbmRfc3R5bGVzID0gbnVsbCxcblx0ZGlydHkgPSBbLTFdXG4pIHtcblx0Y29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuXHRzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlQkJH0gKi9cblx0Y29uc3QgJCQgPSAoY29tcG9uZW50LiQkID0ge1xuXHRcdGZyYWdtZW50OiBudWxsLFxuXHRcdGN0eDogW10sXG5cdFx0Ly8gc3RhdGVcblx0XHRwcm9wcyxcblx0XHR1cGRhdGU6IG5vb3AsXG5cdFx0bm90X2VxdWFsLFxuXHRcdGJvdW5kOiBibGFua19vYmplY3QoKSxcblx0XHQvLyBsaWZlY3ljbGVcblx0XHRvbl9tb3VudDogW10sXG5cdFx0b25fZGVzdHJveTogW10sXG5cdFx0b25fZGlzY29ubmVjdDogW10sXG5cdFx0YmVmb3JlX3VwZGF0ZTogW10sXG5cdFx0YWZ0ZXJfdXBkYXRlOiBbXSxcblx0XHRjb250ZXh0OiBuZXcgTWFwKG9wdGlvbnMuY29udGV4dCB8fCAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSksXG5cdFx0Ly8gZXZlcnl0aGluZyBlbHNlXG5cdFx0Y2FsbGJhY2tzOiBibGFua19vYmplY3QoKSxcblx0XHRkaXJ0eSxcblx0XHRza2lwX2JvdW5kOiBmYWxzZSxcblx0XHRyb290OiBvcHRpb25zLnRhcmdldCB8fCBwYXJlbnRfY29tcG9uZW50LiQkLnJvb3Rcblx0fSk7XG5cdGFwcGVuZF9zdHlsZXMgJiYgYXBwZW5kX3N0eWxlcygkJC5yb290KTtcblx0bGV0IHJlYWR5ID0gZmFsc2U7XG5cdCQkLmN0eCA9IGluc3RhbmNlXG5cdFx0PyBpbnN0YW5jZShjb21wb25lbnQsIG9wdGlvbnMucHJvcHMgfHwge30sIChpLCByZXQsIC4uLnJlc3QpID0+IHtcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSByZXN0Lmxlbmd0aCA/IHJlc3RbMF0gOiByZXQ7XG5cdFx0XHRcdGlmICgkJC5jdHggJiYgbm90X2VxdWFsKCQkLmN0eFtpXSwgKCQkLmN0eFtpXSA9IHZhbHVlKSkpIHtcblx0XHRcdFx0XHRpZiAoISQkLnNraXBfYm91bmQgJiYgJCQuYm91bmRbaV0pICQkLmJvdW5kW2ldKHZhbHVlKTtcblx0XHRcdFx0XHRpZiAocmVhZHkpIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdCAgfSlcblx0XHQ6IFtdO1xuXHQkJC51cGRhdGUoKTtcblx0cmVhZHkgPSB0cnVlO1xuXHRydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuXHQvLyBgZmFsc2VgIGFzIGEgc3BlY2lhbCBjYXNlIG9mIG5vIERPTSBjb21wb25lbnRcblx0JCQuZnJhZ21lbnQgPSBjcmVhdGVfZnJhZ21lbnQgPyBjcmVhdGVfZnJhZ21lbnQoJCQuY3R4KSA6IGZhbHNlO1xuXHRpZiAob3B0aW9ucy50YXJnZXQpIHtcblx0XHRpZiAob3B0aW9ucy5oeWRyYXRlKSB7XG5cdFx0XHRzdGFydF9oeWRyYXRpbmcoKTtcblx0XHRcdC8vIFRPRE86IHdoYXQgaXMgdGhlIGNvcnJlY3QgdHlwZSBoZXJlP1xuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0Y29uc3Qgbm9kZXMgPSBjaGlsZHJlbihvcHRpb25zLnRhcmdldCk7XG5cdFx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5sKG5vZGVzKTtcblx0XHRcdG5vZGVzLmZvckVhY2goZGV0YWNoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cblx0XHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmMoKTtcblx0XHR9XG5cdFx0aWYgKG9wdGlvbnMuaW50cm8pIHRyYW5zaXRpb25faW4oY29tcG9uZW50LiQkLmZyYWdtZW50KTtcblx0XHRtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zLnRhcmdldCwgb3B0aW9ucy5hbmNob3IpO1xuXHRcdGVuZF9oeWRyYXRpbmcoKTtcblx0XHRmbHVzaCgpO1xuXHR9XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbn1cblxuZXhwb3J0IGxldCBTdmVsdGVFbGVtZW50O1xuXG5pZiAodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG5cdFN2ZWx0ZUVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcblx0XHQvKiogVGhlIFN2ZWx0ZSBjb21wb25lbnQgY29uc3RydWN0b3IgKi9cblx0XHQkJGN0b3I7XG5cdFx0LyoqIFNsb3RzICovXG5cdFx0JCRzO1xuXHRcdC8qKiBUaGUgU3ZlbHRlIGNvbXBvbmVudCBpbnN0YW5jZSAqL1xuXHRcdCQkYztcblx0XHQvKiogV2hldGhlciBvciBub3QgdGhlIGN1c3RvbSBlbGVtZW50IGlzIGNvbm5lY3RlZCAqL1xuXHRcdCQkY24gPSBmYWxzZTtcblx0XHQvKiogQ29tcG9uZW50IHByb3BzIGRhdGEgKi9cblx0XHQkJGQgPSB7fTtcblx0XHQvKiogYHRydWVgIGlmIGN1cnJlbnRseSBpbiB0aGUgcHJvY2VzcyBvZiByZWZsZWN0aW5nIGNvbXBvbmVudCBwcm9wcyBiYWNrIHRvIGF0dHJpYnV0ZXMgKi9cblx0XHQkJHIgPSBmYWxzZTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvbj59IFByb3BzIGRlZmluaXRpb24gKG5hbWUsIHJlZmxlY3RlZCwgdHlwZSBldGMpICovXG5cdFx0JCRwX2QgPSB7fTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEZ1bmN0aW9uW10+fSBFdmVudCBsaXN0ZW5lcnMgKi9cblx0XHQkJGwgPSB7fTtcblx0XHQvKiogQHR5cGUge01hcDxGdW5jdGlvbiwgRnVuY3Rpb24+fSBFdmVudCBsaXN0ZW5lciB1bnN1YnNjcmliZSBmdW5jdGlvbnMgKi9cblx0XHQkJGxfdSA9IG5ldyBNYXAoKTtcblxuXHRcdGNvbnN0cnVjdG9yKCQkY29tcG9uZW50Q3RvciwgJCRzbG90cywgdXNlX3NoYWRvd19kb20pIHtcblx0XHRcdHN1cGVyKCk7XG5cdFx0XHR0aGlzLiQkY3RvciA9ICQkY29tcG9uZW50Q3Rvcjtcblx0XHRcdHRoaXMuJCRzID0gJCRzbG90cztcblx0XHRcdGlmICh1c2Vfc2hhZG93X2RvbSkge1xuXHRcdFx0XHR0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG5cdFx0XHQvLyBXZSBjYW4ndCBkZXRlcm1pbmUgdXBmcm9udCBpZiB0aGUgZXZlbnQgaXMgYSBjdXN0b20gZXZlbnQgb3Igbm90LCBzbyB3ZSBoYXZlIHRvXG5cdFx0XHQvLyBsaXN0ZW4gdG8gYm90aC4gSWYgc29tZW9uZSB1c2VzIGEgY3VzdG9tIGV2ZW50IHdpdGggdGhlIHNhbWUgbmFtZSBhcyBhIHJlZ3VsYXJcblx0XHRcdC8vIGJyb3dzZXIgZXZlbnQsIHRoaXMgZmlyZXMgdHdpY2UgLSB3ZSBjYW4ndCBhdm9pZCB0aGF0LlxuXHRcdFx0dGhpcy4kJGxbdHlwZV0gPSB0aGlzLiQkbFt0eXBlXSB8fCBbXTtcblx0XHRcdHRoaXMuJCRsW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0dGhpcy4kJGxfdS5zZXQobGlzdGVuZXIsIHVuc3ViKTtcblx0XHRcdH1cblx0XHRcdHN1cGVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcblx0XHRcdHN1cGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGxfdS5nZXQobGlzdGVuZXIpO1xuXHRcdFx0XHRpZiAodW5zdWIpIHtcblx0XHRcdFx0XHR1bnN1YigpO1xuXHRcdFx0XHRcdHRoaXMuJCRsX3UuZGVsZXRlKGxpc3RlbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuXHRcdFx0dGhpcy4kJGNuID0gdHJ1ZTtcblx0XHRcdGlmICghdGhpcy4kJGMpIHtcblx0XHRcdFx0Ly8gV2Ugd2FpdCBvbmUgdGljayB0byBsZXQgcG9zc2libGUgY2hpbGQgc2xvdCBlbGVtZW50cyBiZSBjcmVhdGVkL21vdW50ZWRcblx0XHRcdFx0YXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0XHRcdGlmICghdGhpcy4kJGNuKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIGNyZWF0ZV9zbG90KG5hbWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0XHRcdFx0bGV0IG5vZGU7XG5cdFx0XHRcdFx0XHRjb25zdCBvYmogPSB7XG5cdFx0XHRcdFx0XHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbWVudCgnc2xvdCcpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChuYW1lICE9PSAnZGVmYXVsdCcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGF0dHIobm9kZSwgJ25hbWUnLCBuYW1lKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdFx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXRcblx0XHRcdFx0XHRcdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW2FuY2hvcl1cblx0XHRcdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0XHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0aW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkZXRhY2gobm9kZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9iajtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0ICQkc2xvdHMgPSB7fTtcblx0XHRcdFx0Y29uc3QgZXhpc3Rpbmdfc2xvdHMgPSBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKHRoaXMpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy4kJHMpIHtcblx0XHRcdFx0XHRpZiAobmFtZSBpbiBleGlzdGluZ19zbG90cykge1xuXHRcdFx0XHRcdFx0JCRzbG90c1tuYW1lXSA9IFtjcmVhdGVfc2xvdChuYW1lKV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xuXHRcdFx0XHRcdC8vIHRoaXMuJCRkYXRhIHRha2VzIHByZWNlZGVuY2Ugb3ZlciB0aGlzLmF0dHJpYnV0ZXNcblx0XHRcdFx0XHRjb25zdCBuYW1lID0gdGhpcy4kJGdfcChhdHRyaWJ1dGUubmFtZSk7XG5cdFx0XHRcdFx0aWYgKCEobmFtZSBpbiB0aGlzLiQkZCkpIHtcblx0XHRcdFx0XHRcdHRoaXMuJCRkW25hbWVdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKG5hbWUsIGF0dHJpYnV0ZS52YWx1ZSwgdGhpcy4kJHBfZCwgJ3RvUHJvcCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLiQkYyA9IG5ldyB0aGlzLiQkY3Rvcih7XG5cdFx0XHRcdFx0dGFyZ2V0OiB0aGlzLnNoYWRvd1Jvb3QgfHwgdGhpcyxcblx0XHRcdFx0XHRwcm9wczoge1xuXHRcdFx0XHRcdFx0Li4udGhpcy4kJGQsXG5cdFx0XHRcdFx0XHQkJHNsb3RzLFxuXHRcdFx0XHRcdFx0JCRzY29wZToge1xuXHRcdFx0XHRcdFx0XHRjdHg6IFtdXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBSZWZsZWN0IGNvbXBvbmVudCBwcm9wcyBhcyBhdHRyaWJ1dGVzXG5cdFx0XHRcdGNvbnN0IHJlZmxlY3RfYXR0cmlidXRlcyA9ICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLiQkciA9IHRydWU7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy4kJHBfZCkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSA9IHRoaXMuJCRjLiQkLmN0eFt0aGlzLiQkYy4kJC5wcm9wc1trZXldXTtcblx0XHRcdFx0XHRcdGlmICh0aGlzLiQkcF9kW2tleV0ucmVmbGVjdCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBhdHRyaWJ1dGVfdmFsdWUgPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUoXG5cdFx0XHRcdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuJCRkW2tleV0sXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4kJHBfZCxcblx0XHRcdFx0XHRcdFx0XHQndG9BdHRyaWJ1dGUnXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdGlmIChhdHRyaWJ1dGVfdmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlQXR0cmlidXRlKHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgfHwga2V5KTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSh0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlIHx8IGtleSwgYXR0cmlidXRlX3ZhbHVlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLiQkciA9IGZhbHNlO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR0aGlzLiQkYy4kJC5hZnRlcl91cGRhdGUucHVzaChyZWZsZWN0X2F0dHJpYnV0ZXMpO1xuXHRcdFx0XHRyZWZsZWN0X2F0dHJpYnV0ZXMoKTsgLy8gb25jZSBpbml0aWFsbHkgYmVjYXVzZSBhZnRlcl91cGRhdGUgaXMgYWRkZWQgdG9vIGxhdGUgZm9yIGZpcnN0IHJlbmRlclxuXG5cdFx0XHRcdGZvciAoY29uc3QgdHlwZSBpbiB0aGlzLiQkbCkge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy4kJGxbdHlwZV0pIHtcblx0XHRcdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0XHRcdHRoaXMuJCRsX3Uuc2V0KGxpc3RlbmVyLCB1bnN1Yik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuJCRsID0ge307XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gV2UgZG9uJ3QgbmVlZCB0aGlzIHdoZW4gd29ya2luZyB3aXRoaW4gU3ZlbHRlIGNvZGUsIGJ1dCBmb3IgY29tcGF0aWJpbGl0eSBvZiBwZW9wbGUgdXNpbmcgdGhpcyBvdXRzaWRlIG9mIFN2ZWx0ZVxuXHRcdC8vIGFuZCBzZXR0aW5nIGF0dHJpYnV0ZXMgdGhyb3VnaCBzZXRBdHRyaWJ1dGUgZXRjLCB0aGlzIGlzIGhlbHBmdWxcblx0XHRhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ciwgX29sZFZhbHVlLCBuZXdWYWx1ZSkge1xuXHRcdFx0aWYgKHRoaXMuJCRyKSByZXR1cm47XG5cdFx0XHRhdHRyID0gdGhpcy4kJGdfcChhdHRyKTtcblx0XHRcdHRoaXMuJCRkW2F0dHJdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKGF0dHIsIG5ld1ZhbHVlLCB0aGlzLiQkcF9kLCAndG9Qcm9wJyk7XG5cdFx0XHR0aGlzLiQkYz8uJHNldCh7IFthdHRyXTogdGhpcy4kJGRbYXR0cl0gfSk7XG5cdFx0fVxuXG5cdFx0ZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cdFx0XHR0aGlzLiQkY24gPSBmYWxzZTtcblx0XHRcdC8vIEluIGEgbWljcm90YXNrLCBiZWNhdXNlIHRoaXMgY291bGQgYmUgYSBtb3ZlIHdpdGhpbiB0aGUgRE9NXG5cdFx0XHRQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcblx0XHRcdFx0aWYgKCF0aGlzLiQkY24pIHtcblx0XHRcdFx0XHR0aGlzLiQkYy4kZGVzdHJveSgpO1xuXHRcdFx0XHRcdHRoaXMuJCRjID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQkJGdfcChhdHRyaWJ1dGVfbmFtZSkge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0T2JqZWN0LmtleXModGhpcy4kJHBfZCkuZmluZChcblx0XHRcdFx0XHQoa2V5KSA9PlxuXHRcdFx0XHRcdFx0dGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSA9PT0gYXR0cmlidXRlX25hbWUgfHxcblx0XHRcdFx0XHRcdCghdGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gYXR0cmlidXRlX25hbWUpXG5cdFx0XHRcdCkgfHwgYXR0cmlidXRlX25hbWVcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvblxuICogQHBhcmFtIHsndG9BdHRyaWJ1dGUnIHwgJ3RvUHJvcCd9IFt0cmFuc2Zvcm1dXG4gKi9cbmZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShwcm9wLCB2YWx1ZSwgcHJvcHNfZGVmaW5pdGlvbiwgdHJhbnNmb3JtKSB7XG5cdGNvbnN0IHR5cGUgPSBwcm9wc19kZWZpbml0aW9uW3Byb3BdPy50eXBlO1xuXHR2YWx1ZSA9IHR5cGUgPT09ICdCb29sZWFuJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJyA/IHZhbHVlICE9IG51bGwgOiB2YWx1ZTtcblx0aWYgKCF0cmFuc2Zvcm0gfHwgIXByb3BzX2RlZmluaXRpb25bcHJvcF0pIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0gZWxzZSBpZiAodHJhbnNmb3JtID09PSAndG9BdHRyaWJ1dGUnKSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID8gJycgOiBudWxsO1xuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBudWxsIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdGNhc2UgJ0FycmF5Jzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlICYmIEpTT04ucGFyc2UodmFsdWUpO1xuXHRcdFx0Y2FzZSAnQm9vbGVhbic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTsgLy8gY29udmVyc2lvbiBhbHJlYWR5IGhhbmRsZWQgYWJvdmVcblx0XHRcdGNhc2UgJ051bWJlcic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSAhPSBudWxsID8gK3ZhbHVlIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKlxuICogVHVybiBhIFN2ZWx0ZSBjb21wb25lbnQgaW50byBhIGN1c3RvbSBlbGVtZW50LlxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuQ29tcG9uZW50VHlwZX0gQ29tcG9uZW50ICBBIFN2ZWx0ZSBjb21wb25lbnQgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvbiAgVGhlIHByb3BzIHRvIG9ic2VydmVcbiAqIEBwYXJhbSB7c3RyaW5nW119IHNsb3RzICBUaGUgc2xvdHMgdG8gY3JlYXRlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhY2Nlc3NvcnMgIE90aGVyIGFjY2Vzc29ycyBiZXNpZGVzIHRoZSBvbmVzIGZvciBwcm9wcyB0aGUgY29tcG9uZW50IGhhc1xuICogQHBhcmFtIHtib29sZWFufSB1c2Vfc2hhZG93X2RvbSAgV2hldGhlciB0byB1c2Ugc2hhZG93IERPTVxuICogQHBhcmFtIHsoY2U6IG5ldyAoKSA9PiBIVE1MRWxlbWVudCkgPT4gbmV3ICgpID0+IEhUTUxFbGVtZW50fSBbZXh0ZW5kXVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2N1c3RvbV9lbGVtZW50KFxuXHRDb21wb25lbnQsXG5cdHByb3BzX2RlZmluaXRpb24sXG5cdHNsb3RzLFxuXHRhY2Nlc3NvcnMsXG5cdHVzZV9zaGFkb3dfZG9tLFxuXHRleHRlbmRcbikge1xuXHRsZXQgQ2xhc3MgPSBjbGFzcyBleHRlbmRzIFN2ZWx0ZUVsZW1lbnQge1xuXHRcdGNvbnN0cnVjdG9yKCkge1xuXHRcdFx0c3VwZXIoQ29tcG9uZW50LCBzbG90cywgdXNlX3NoYWRvd19kb20pO1xuXHRcdFx0dGhpcy4kJHBfZCA9IHByb3BzX2RlZmluaXRpb247XG5cdFx0fVxuXHRcdHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuXHRcdFx0cmV0dXJuIE9iamVjdC5rZXlzKHByb3BzX2RlZmluaXRpb24pLm1hcCgoa2V5KSA9PlxuXHRcdFx0XHQocHJvcHNfZGVmaW5pdGlvbltrZXldLmF0dHJpYnV0ZSB8fCBrZXkpLnRvTG93ZXJDYXNlKClcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xuXHRPYmplY3Qua2V5cyhwcm9wc19kZWZpbml0aW9uKS5mb3JFYWNoKChwcm9wKSA9PiB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgcHJvcCwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy4kJGMgJiYgcHJvcCBpbiB0aGlzLiQkYyA/IHRoaXMuJCRjW3Byb3BdIDogdGhpcy4kJGRbcHJvcF07XG5cdFx0XHR9LFxuXHRcdFx0c2V0KHZhbHVlKSB7XG5cdFx0XHRcdHZhbHVlID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKHByb3AsIHZhbHVlLCBwcm9wc19kZWZpbml0aW9uKTtcblx0XHRcdFx0dGhpcy4kJGRbcHJvcF0gPSB2YWx1ZTtcblx0XHRcdFx0dGhpcy4kJGM/LiRzZXQoeyBbcHJvcF06IHZhbHVlIH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0YWNjZXNzb3JzLmZvckVhY2goKGFjY2Vzc29yKSA9PiB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgYWNjZXNzb3IsIHtcblx0XHRcdGdldCgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuJCRjPy5bYWNjZXNzb3JdO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0aWYgKGV4dGVuZCkge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgLSBhc3NpZ25pbmcgaGVyZSBpcyBmaW5lXG5cdFx0Q2xhc3MgPSBleHRlbmQoQ2xhc3MpO1xuXHR9XG5cdENvbXBvbmVudC5lbGVtZW50ID0gLyoqIEB0eXBlIHthbnl9ICovIChDbGFzcyk7XG5cdHJldHVybiBDbGFzcztcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBTdmVsdGUgY29tcG9uZW50cy4gVXNlZCB3aGVuIGRldj1mYWxzZS5cbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtQcm9wcz1hbnldXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudHM9YW55XVxuICovXG5leHBvcnQgY2xhc3MgU3ZlbHRlQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqICMjIyBQUklWQVRFIEFQSVxuXHQgKlxuXHQgKiBEbyBub3QgdXNlLCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHthbnl9XG5cdCAqL1xuXHQkJCA9IHVuZGVmaW5lZDtcblx0LyoqXG5cdCAqICMjIyBQUklWQVRFIEFQSVxuXHQgKlxuXHQgKiBEbyBub3QgdXNlLCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHthbnl9XG5cdCAqL1xuXHQkJHNldCA9IHVuZGVmaW5lZDtcblxuXHQvKiogQHJldHVybnMge3ZvaWR9ICovXG5cdCRkZXN0cm95KCkge1xuXHRcdGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuXHRcdHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuXHR9XG5cblx0LyoqXG5cdCAqIEB0ZW1wbGF0ZSB7RXh0cmFjdDxrZXlvZiBFdmVudHMsIHN0cmluZz59IEtcblx0ICogQHBhcmFtIHtLfSB0eXBlXG5cdCAqIEBwYXJhbSB7KChlOiBFdmVudHNbS10pID0+IHZvaWQpIHwgbnVsbCB8IHVuZGVmaW5lZH0gY2FsbGJhY2tcblx0ICogQHJldHVybnMgeygpID0+IHZvaWR9XG5cdCAqL1xuXHQkb24odHlwZSwgY2FsbGJhY2spIHtcblx0XHRpZiAoIWlzX2Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuXHRcdFx0cmV0dXJuIG5vb3A7XG5cdFx0fVxuXHRcdGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKTtcblx0XHRjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuXHRcdFx0aWYgKGluZGV4ICE9PSAtMSkgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1BhcnRpYWw8UHJvcHM+fSBwcm9wc1xuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdCRzZXQocHJvcHMpIHtcblx0XHRpZiAodGhpcy4kJHNldCAmJiAhaXNfZW1wdHkocHJvcHMpKSB7XG5cdFx0XHR0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuXHRcdFx0dGhpcy4kJHNldChwcm9wcyk7XG5cdFx0XHR0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXR0cmlidXRlXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmVmbGVjdF1cbiAqIEBwcm9wZXJ0eSB7J1N0cmluZyd8J0Jvb2xlYW4nfCdOdW1iZXInfCdBcnJheSd8J09iamVjdCd9IFt0eXBlXVxuICovXG4iLCIvLyBnZW5lcmF0ZWQgZHVyaW5nIHJlbGVhc2UsIGRvIG5vdCBtb2RpZnlcblxuLyoqXG4gKiBUaGUgY3VycmVudCB2ZXJzaW9uLCBhcyBzZXQgaW4gcGFja2FnZS5qc29uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1jb21waWxlciNzdmVsdGUtdmVyc2lvblxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC4yLjEnO1xuZXhwb3J0IGNvbnN0IFBVQkxJQ19WRVJTSU9OID0gJzQnO1xuIiwiaW1wb3J0IHsgUFVCTElDX1ZFUlNJT04gfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdmVyc2lvbi5qcyc7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcblx0Ly8gQHRzLWlnbm9yZVxuXHQod2luZG93Ll9fc3ZlbHRlIHx8ICh3aW5kb3cuX19zdmVsdGUgPSB7IHY6IG5ldyBTZXQoKSB9KSkudi5hZGQoUFVCTElDX1ZFUlNJT04pO1xuIiwiPHNjcmlwdD5cbiAgZXhwb3J0IGxldCB0aXRsZSA9IG51bGw7XG4gIGV4cG9ydCBsZXQgdmlld0JveDtcbjwvc2NyaXB0PlxuXG48c3R5bGU+XG4gIHN2ZyB7XG4gICAgc3Ryb2tlOiBjdXJyZW50Q29sb3I7XG4gICAgZmlsbDogY3VycmVudENvbG9yO1xuICAgIHN0cm9rZS13aWR0aDogMDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IGF1dG87XG4gICAgbWF4LWhlaWdodDogMTAwJTtcbiAgfSAgXG48L3N0eWxlPlxuXG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB7dmlld0JveH0+XG4gIHsjaWYgdGl0bGV9XG4gICAgPHRpdGxlPnt0aXRsZX08L3RpdGxlPlxuICB7L2lmfVxuICA8c2xvdCAvPlxuPC9zdmc+XG4iLCI8c2NyaXB0PlxuICAgICAgICBpbXBvcnQgSWNvbkJhc2UgZnJvbSAnLi4vY29tcG9uZW50cy9JY29uQmFzZS5zdmVsdGUnO1xuICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPEljb25CYXNlIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB7Li4uJCRwcm9wc30+XG4gICAgICAgICAgPHBhdGggZD1cIk0yLjAxIDIxTDIzIDEyIDIuMDEgMyAyIDEwbDE1IDItMTUgMnpcIiAvPlxuICAgICAgICA8L0ljb25CYXNlPlxuICAgICAgIiwiaW1wb3J0IHtcblx0cnVuX2FsbCxcblx0c3Vic2NyaWJlLFxuXHRub29wLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0aXNfZnVuY3Rpb24sXG5cdGdldF9zdG9yZV92YWx1ZVxufSBmcm9tICcuLi9pbnRlcm5hbC9pbmRleC5qcyc7XG5cbmNvbnN0IHN1YnNjcmliZXJfcXVldWUgPSBbXTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgYFJlYWRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjcmVhZGFibGVcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IFt2YWx1ZV0gaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3RhcnRTdG9wTm90aWZpZXI8VD59IFtzdGFydF1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkYWJsZSh2YWx1ZSwgc3RhcnQpIHtcblx0cmV0dXJuIHtcblx0XHRzdWJzY3JpYmU6IHdyaXRhYmxlKHZhbHVlLCBzdGFydCkuc3Vic2NyaWJlXG5cdH07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgYFdyaXRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyBib3RoIHVwZGF0aW5nIGFuZCByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjd3JpdGFibGVcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IFt2YWx1ZV0gaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3RhcnRTdG9wTm90aWZpZXI8VD59IFtzdGFydF1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuV3JpdGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQgPSBub29wKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlVuc3Vic2NyaWJlcn0gKi9cblx0bGV0IHN0b3A7XG5cdC8qKiBAdHlwZSB7U2V0PGltcG9ydCgnLi9wcml2YXRlLmpzJykuU3Vic2NyaWJlSW52YWxpZGF0ZVR1cGxlPFQ+Pn0gKi9cblx0Y29uc3Qgc3Vic2NyaWJlcnMgPSBuZXcgU2V0KCk7XG5cdC8qKiBAcGFyYW0ge1R9IG5ld192YWx1ZVxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIHNldChuZXdfdmFsdWUpIHtcblx0XHRpZiAoc2FmZV9ub3RfZXF1YWwodmFsdWUsIG5ld192YWx1ZSkpIHtcblx0XHRcdHZhbHVlID0gbmV3X3ZhbHVlO1xuXHRcdFx0aWYgKHN0b3ApIHtcblx0XHRcdFx0Ly8gc3RvcmUgaXMgcmVhZHlcblx0XHRcdFx0Y29uc3QgcnVuX3F1ZXVlID0gIXN1YnNjcmliZXJfcXVldWUubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHN1YnNjcmliZXIgb2Ygc3Vic2NyaWJlcnMpIHtcblx0XHRcdFx0XHRzdWJzY3JpYmVyWzFdKCk7XG5cdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZS5wdXNoKHN1YnNjcmliZXIsIHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocnVuX3F1ZXVlKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDsgaSArPSAyKSB7XG5cdFx0XHRcdFx0XHRzdWJzY3JpYmVyX3F1ZXVlW2ldWzBdKHN1YnNjcmliZXJfcXVldWVbaSArIDFdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGggPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlVwZGF0ZXI8VD59IGZuXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gdXBkYXRlKGZuKSB7XG5cdFx0c2V0KGZuKHZhbHVlKSk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3Vic2NyaWJlcjxUPn0gcnVuXG5cdCAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5JbnZhbGlkYXRvcjxUPn0gW2ludmFsaWRhdGVdXG5cdCAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuVW5zdWJzY3JpYmVyfVxuXHQgKi9cblx0ZnVuY3Rpb24gc3Vic2NyaWJlKHJ1biwgaW52YWxpZGF0ZSA9IG5vb3ApIHtcblx0XHQvKiogQHR5cGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuU3Vic2NyaWJlSW52YWxpZGF0ZVR1cGxlPFQ+fSAqL1xuXHRcdGNvbnN0IHN1YnNjcmliZXIgPSBbcnVuLCBpbnZhbGlkYXRlXTtcblx0XHRzdWJzY3JpYmVycy5hZGQoc3Vic2NyaWJlcik7XG5cdFx0aWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDEpIHtcblx0XHRcdHN0b3AgPSBzdGFydChzZXQsIHVwZGF0ZSkgfHwgbm9vcDtcblx0XHR9XG5cdFx0cnVuKHZhbHVlKTtcblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0c3Vic2NyaWJlcnMuZGVsZXRlKHN1YnNjcmliZXIpO1xuXHRcdFx0aWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDAgJiYgc3RvcCkge1xuXHRcdFx0XHRzdG9wKCk7XG5cdFx0XHRcdHN0b3AgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHsgc2V0LCB1cGRhdGUsIHN1YnNjcmliZSB9O1xufVxuXG4vKipcbiAqIERlcml2ZWQgdmFsdWUgc3RvcmUgYnkgc3luY2hyb25pemluZyBvbmUgb3IgbW9yZSByZWFkYWJsZSBzdG9yZXMgYW5kXG4gKiBhcHBseWluZyBhbiBhZ2dyZWdhdGlvbiBmdW5jdGlvbiBvdmVyIGl0cyBpbnB1dCB2YWx1ZXMuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2Rlcml2ZWRcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXN9IFNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSB7U30gc3RvcmVzIC0gaW5wdXQgc3RvcmVzXG4gKiBAcGFyYW0geyh2YWx1ZXM6IGltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzVmFsdWVzPFM+LCBzZXQ6ICh2YWx1ZTogVCkgPT4gdm9pZCwgdXBkYXRlOiAoZm46IGltcG9ydCgnLi9wdWJsaWMuanMnKS5VcGRhdGVyPFQ+KSA9PiB2b2lkKSA9PiBpbXBvcnQoJy4vcHVibGljLmpzJykuVW5zdWJzY3JpYmVyIHwgdm9pZH0gZm4gLSBmdW5jdGlvbiBjYWxsYmFjayB0aGF0IGFnZ3JlZ2F0ZXMgdGhlIHZhbHVlc1xuICogQHBhcmFtIHtUfSBbaW5pdGlhbF92YWx1ZV0gLSBpbml0aWFsIHZhbHVlXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5cbi8qKlxuICogRGVyaXZlZCB2YWx1ZSBzdG9yZSBieSBzeW5jaHJvbml6aW5nIG9uZSBvciBtb3JlIHJlYWRhYmxlIHN0b3JlcyBhbmRcbiAqIGFwcGx5aW5nIGFuIGFnZ3JlZ2F0aW9uIGZ1bmN0aW9uIG92ZXIgaXRzIGlucHV0IHZhbHVlcy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjZGVyaXZlZFxuICogQHRlbXBsYXRlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN0b3Jlc30gU1xuICogQHRlbXBsYXRlIFRcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtIHtTfSBzdG9yZXMgLSBpbnB1dCBzdG9yZXNcbiAqIEBwYXJhbSB7KHZhbHVlczogaW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXNWYWx1ZXM8Uz4pID0+IFR9IGZuIC0gZnVuY3Rpb24gY2FsbGJhY2sgdGhhdCBhZ2dyZWdhdGVzIHRoZSB2YWx1ZXNcbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdIC0gaW5pdGlhbCB2YWx1ZVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXN9IFNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1N9IHN0b3Jlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlZChzdG9yZXMsIGZuLCBpbml0aWFsX3ZhbHVlKSB7XG5cdGNvbnN0IHNpbmdsZSA9ICFBcnJheS5pc0FycmF5KHN0b3Jlcyk7XG5cdC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPGFueT4+fSAqL1xuXHRjb25zdCBzdG9yZXNfYXJyYXkgPSBzaW5nbGUgPyBbc3RvcmVzXSA6IHN0b3Jlcztcblx0aWYgKCFzdG9yZXNfYXJyYXkuZXZlcnkoQm9vbGVhbikpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2Rlcml2ZWQoKSBleHBlY3RzIHN0b3JlcyBhcyBpbnB1dCwgZ290IGEgZmFsc3kgdmFsdWUnKTtcblx0fVxuXHRjb25zdCBhdXRvID0gZm4ubGVuZ3RoIDwgMjtcblx0cmV0dXJuIHJlYWRhYmxlKGluaXRpYWxfdmFsdWUsIChzZXQsIHVwZGF0ZSkgPT4ge1xuXHRcdGxldCBzdGFydGVkID0gZmFsc2U7XG5cdFx0Y29uc3QgdmFsdWVzID0gW107XG5cdFx0bGV0IHBlbmRpbmcgPSAwO1xuXHRcdGxldCBjbGVhbnVwID0gbm9vcDtcblx0XHRjb25zdCBzeW5jID0gKCkgPT4ge1xuXHRcdFx0aWYgKHBlbmRpbmcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gZm4oc2luZ2xlID8gdmFsdWVzWzBdIDogdmFsdWVzLCBzZXQsIHVwZGF0ZSk7XG5cdFx0XHRpZiAoYXV0bykge1xuXHRcdFx0XHRzZXQocmVzdWx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsZWFudXAgPSBpc19mdW5jdGlvbihyZXN1bHQpID8gcmVzdWx0IDogbm9vcDtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGNvbnN0IHVuc3Vic2NyaWJlcnMgPSBzdG9yZXNfYXJyYXkubWFwKChzdG9yZSwgaSkgPT5cblx0XHRcdHN1YnNjcmliZShcblx0XHRcdFx0c3RvcmUsXG5cdFx0XHRcdCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHZhbHVlc1tpXSA9IHZhbHVlO1xuXHRcdFx0XHRcdHBlbmRpbmcgJj0gfigxIDw8IGkpO1xuXHRcdFx0XHRcdGlmIChzdGFydGVkKSB7XG5cdFx0XHRcdFx0XHRzeW5jKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0cGVuZGluZyB8PSAxIDw8IGk7XG5cdFx0XHRcdH1cblx0XHRcdClcblx0XHQpO1xuXHRcdHN0YXJ0ZWQgPSB0cnVlO1xuXHRcdHN5bmMoKTtcblx0XHRyZXR1cm4gZnVuY3Rpb24gc3RvcCgpIHtcblx0XHRcdHJ1bl9hbGwodW5zdWJzY3JpYmVycyk7XG5cdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHQvLyBXZSBuZWVkIHRvIHNldCB0aGlzIHRvIGZhbHNlIGJlY2F1c2UgY2FsbGJhY2tzIGNhbiBzdGlsbCBoYXBwZW4gZGVzcGl0ZSBoYXZpbmcgdW5zdWJzY3JpYmVkOlxuXHRcdFx0Ly8gQ2FsbGJhY2tzIG1pZ2h0IGFscmVhZHkgYmUgcGxhY2VkIGluIHRoZSBxdWV1ZSB3aGljaCBkb2Vzbid0IGtub3cgaXQgc2hvdWxkIG5vIGxvbmdlclxuXHRcdFx0Ly8gaW52b2tlIHRoaXMgZGVyaXZlZCBzdG9yZS5cblx0XHRcdHN0YXJ0ZWQgPSBmYWxzZTtcblx0XHR9O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBUYWtlcyBhIHN0b3JlIGFuZCByZXR1cm5zIGEgbmV3IG9uZSBkZXJpdmVkIGZyb20gdGhlIG9sZCBvbmUgdGhhdCBpcyByZWFkYWJsZS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjcmVhZG9ubHlcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn0gc3RvcmUgIC0gc3RvcmUgdG8gbWFrZSByZWFkb25seVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRvbmx5KHN0b3JlKSB7XG5cdHJldHVybiB7XG5cdFx0c3Vic2NyaWJlOiBzdG9yZS5zdWJzY3JpYmUuYmluZChzdG9yZSlcblx0fTtcbn1cblxuZXhwb3J0IHsgZ2V0X3N0b3JlX3ZhbHVlIGFzIGdldCB9O1xuIiwiZnVuY3Rpb24gUmV0cnlPcGVyYXRpb24odGltZW91dHMsIG9wdGlvbnMpIHtcbiAgLy8gQ29tcGF0aWJpbGl0eSBmb3IgdGhlIG9sZCAodGltZW91dHMsIHJldHJ5Rm9yZXZlcikgc2lnbmF0dXJlXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucyA9IHsgZm9yZXZlcjogb3B0aW9ucyB9O1xuICB9XG5cbiAgdGhpcy5fb3JpZ2luYWxUaW1lb3V0cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGltZW91dHMpKTtcbiAgdGhpcy5fdGltZW91dHMgPSB0aW1lb3V0cztcbiAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHRoaXMuX21heFJldHJ5VGltZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5tYXhSZXRyeVRpbWUgfHwgSW5maW5pdHk7XG4gIHRoaXMuX2ZuID0gbnVsbDtcbiAgdGhpcy5fZXJyb3JzID0gW107XG4gIHRoaXMuX2F0dGVtcHRzID0gMTtcbiAgdGhpcy5fb3BlcmF0aW9uVGltZW91dCA9IG51bGw7XG4gIHRoaXMuX29wZXJhdGlvblRpbWVvdXRDYiA9IG51bGw7XG4gIHRoaXMuX3RpbWVvdXQgPSBudWxsO1xuICB0aGlzLl9vcGVyYXRpb25TdGFydCA9IG51bGw7XG4gIHRoaXMuX3RpbWVyID0gbnVsbDtcblxuICBpZiAodGhpcy5fb3B0aW9ucy5mb3JldmVyKSB7XG4gICAgdGhpcy5fY2FjaGVkVGltZW91dHMgPSB0aGlzLl90aW1lb3V0cy5zbGljZSgwKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBSZXRyeU9wZXJhdGlvbjtcblxuUmV0cnlPcGVyYXRpb24ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2F0dGVtcHRzID0gMTtcbiAgdGhpcy5fdGltZW91dHMgPSB0aGlzLl9vcmlnaW5hbFRpbWVvdXRzLnNsaWNlKDApO1xufVxuXG5SZXRyeU9wZXJhdGlvbi5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5fdGltZW91dCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgfVxuICBpZiAodGhpcy5fdGltZXIpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICB9XG5cbiAgdGhpcy5fdGltZW91dHMgICAgICAgPSBbXTtcbiAgdGhpcy5fY2FjaGVkVGltZW91dHMgPSBudWxsO1xufTtcblxuUmV0cnlPcGVyYXRpb24ucHJvdG90eXBlLnJldHJ5ID0gZnVuY3Rpb24oZXJyKSB7XG4gIGlmICh0aGlzLl90aW1lb3V0KSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICB9XG5cbiAgaWYgKCFlcnIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGlmIChlcnIgJiYgY3VycmVudFRpbWUgLSB0aGlzLl9vcGVyYXRpb25TdGFydCA+PSB0aGlzLl9tYXhSZXRyeVRpbWUpIHtcbiAgICB0aGlzLl9lcnJvcnMucHVzaChlcnIpO1xuICAgIHRoaXMuX2Vycm9ycy51bnNoaWZ0KG5ldyBFcnJvcignUmV0cnlPcGVyYXRpb24gdGltZW91dCBvY2N1cnJlZCcpKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB0aGlzLl9lcnJvcnMucHVzaChlcnIpO1xuXG4gIHZhciB0aW1lb3V0ID0gdGhpcy5fdGltZW91dHMuc2hpZnQoKTtcbiAgaWYgKHRpbWVvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0aGlzLl9jYWNoZWRUaW1lb3V0cykge1xuICAgICAgLy8gcmV0cnkgZm9yZXZlciwgb25seSBrZWVwIGxhc3QgZXJyb3JcbiAgICAgIHRoaXMuX2Vycm9ycy5zcGxpY2UoMCwgdGhpcy5fZXJyb3JzLmxlbmd0aCAtIDEpO1xuICAgICAgdGltZW91dCA9IHRoaXMuX2NhY2hlZFRpbWVvdXRzLnNsaWNlKC0xKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIHNlbGYuX2F0dGVtcHRzKys7XG5cbiAgICBpZiAoc2VsZi5fb3BlcmF0aW9uVGltZW91dENiKSB7XG4gICAgICBzZWxmLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5fb3BlcmF0aW9uVGltZW91dENiKHNlbGYuX2F0dGVtcHRzKTtcbiAgICAgIH0sIHNlbGYuX29wZXJhdGlvblRpbWVvdXQpO1xuXG4gICAgICBpZiAoc2VsZi5fb3B0aW9ucy51bnJlZikge1xuICAgICAgICAgIHNlbGYuX3RpbWVvdXQudW5yZWYoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxmLl9mbihzZWxmLl9hdHRlbXB0cyk7XG4gIH0sIHRpbWVvdXQpO1xuXG4gIGlmICh0aGlzLl9vcHRpb25zLnVucmVmKSB7XG4gICAgICB0aGlzLl90aW1lci51bnJlZigpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5SZXRyeU9wZXJhdGlvbi5wcm90b3R5cGUuYXR0ZW1wdCA9IGZ1bmN0aW9uKGZuLCB0aW1lb3V0T3BzKSB7XG4gIHRoaXMuX2ZuID0gZm47XG5cbiAgaWYgKHRpbWVvdXRPcHMpIHtcbiAgICBpZiAodGltZW91dE9wcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLl9vcGVyYXRpb25UaW1lb3V0ID0gdGltZW91dE9wcy50aW1lb3V0O1xuICAgIH1cbiAgICBpZiAodGltZW91dE9wcy5jYikge1xuICAgICAgdGhpcy5fb3BlcmF0aW9uVGltZW91dENiID0gdGltZW91dE9wcy5jYjtcbiAgICB9XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmICh0aGlzLl9vcGVyYXRpb25UaW1lb3V0Q2IpIHtcbiAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuX29wZXJhdGlvblRpbWVvdXRDYigpO1xuICAgIH0sIHNlbGYuX29wZXJhdGlvblRpbWVvdXQpO1xuICB9XG5cbiAgdGhpcy5fb3BlcmF0aW9uU3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICB0aGlzLl9mbih0aGlzLl9hdHRlbXB0cyk7XG59O1xuXG5SZXRyeU9wZXJhdGlvbi5wcm90b3R5cGUudHJ5ID0gZnVuY3Rpb24oZm4pIHtcbiAgY29uc29sZS5sb2coJ1VzaW5nIFJldHJ5T3BlcmF0aW9uLnRyeSgpIGlzIGRlcHJlY2F0ZWQnKTtcbiAgdGhpcy5hdHRlbXB0KGZuKTtcbn07XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKGZuKSB7XG4gIGNvbnNvbGUubG9nKCdVc2luZyBSZXRyeU9wZXJhdGlvbi5zdGFydCgpIGlzIGRlcHJlY2F0ZWQnKTtcbiAgdGhpcy5hdHRlbXB0KGZuKTtcbn07XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5zdGFydCA9IFJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS50cnk7XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5lcnJvcnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX2Vycm9ycztcbn07XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5hdHRlbXB0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fYXR0ZW1wdHM7XG59O1xuXG5SZXRyeU9wZXJhdGlvbi5wcm90b3R5cGUubWFpbkVycm9yID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLl9lcnJvcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgY291bnRzID0ge307XG4gIHZhciBtYWluRXJyb3IgPSBudWxsO1xuICB2YXIgbWFpbkVycm9yQ291bnQgPSAwO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fZXJyb3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVycm9yID0gdGhpcy5fZXJyb3JzW2ldO1xuICAgIHZhciBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICB2YXIgY291bnQgPSAoY291bnRzW21lc3NhZ2VdIHx8IDApICsgMTtcblxuICAgIGNvdW50c1ttZXNzYWdlXSA9IGNvdW50O1xuXG4gICAgaWYgKGNvdW50ID49IG1haW5FcnJvckNvdW50KSB7XG4gICAgICBtYWluRXJyb3IgPSBlcnJvcjtcbiAgICAgIG1haW5FcnJvckNvdW50ID0gY291bnQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1haW5FcnJvcjtcbn07XG4iLCJ2YXIgUmV0cnlPcGVyYXRpb24gPSByZXF1aXJlKCcuL3JldHJ5X29wZXJhdGlvbicpO1xuXG5leHBvcnRzLm9wZXJhdGlvbiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgdmFyIHRpbWVvdXRzID0gZXhwb3J0cy50aW1lb3V0cyhvcHRpb25zKTtcbiAgcmV0dXJuIG5ldyBSZXRyeU9wZXJhdGlvbih0aW1lb3V0cywge1xuICAgICAgZm9yZXZlcjogb3B0aW9ucyAmJiAob3B0aW9ucy5mb3JldmVyIHx8IG9wdGlvbnMucmV0cmllcyA9PT0gSW5maW5pdHkpLFxuICAgICAgdW5yZWY6IG9wdGlvbnMgJiYgb3B0aW9ucy51bnJlZixcbiAgICAgIG1heFJldHJ5VGltZTogb3B0aW9ucyAmJiBvcHRpb25zLm1heFJldHJ5VGltZVxuICB9KTtcbn07XG5cbmV4cG9ydHMudGltZW91dHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICByZXR1cm4gW10uY29uY2F0KG9wdGlvbnMpO1xuICB9XG5cbiAgdmFyIG9wdHMgPSB7XG4gICAgcmV0cmllczogMTAsXG4gICAgZmFjdG9yOiAyLFxuICAgIG1pblRpbWVvdXQ6IDEgKiAxMDAwLFxuICAgIG1heFRpbWVvdXQ6IEluZmluaXR5LFxuICAgIHJhbmRvbWl6ZTogZmFsc2VcbiAgfTtcbiAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMpIHtcbiAgICBvcHRzW2tleV0gPSBvcHRpb25zW2tleV07XG4gIH1cblxuICBpZiAob3B0cy5taW5UaW1lb3V0ID4gb3B0cy5tYXhUaW1lb3V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtaW5UaW1lb3V0IGlzIGdyZWF0ZXIgdGhhbiBtYXhUaW1lb3V0Jyk7XG4gIH1cblxuICB2YXIgdGltZW91dHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRzLnJldHJpZXM7IGkrKykge1xuICAgIHRpbWVvdXRzLnB1c2godGhpcy5jcmVhdGVUaW1lb3V0KGksIG9wdHMpKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZm9yZXZlciAmJiAhdGltZW91dHMubGVuZ3RoKSB7XG4gICAgdGltZW91dHMucHVzaCh0aGlzLmNyZWF0ZVRpbWVvdXQoaSwgb3B0cykpO1xuICB9XG5cbiAgLy8gc29ydCB0aGUgYXJyYXkgbnVtZXJpY2FsbHkgYXNjZW5kaW5nXG4gIHRpbWVvdXRzLnNvcnQoZnVuY3Rpb24oYSxiKSB7XG4gICAgcmV0dXJuIGEgLSBiO1xuICB9KTtcblxuICByZXR1cm4gdGltZW91dHM7XG59O1xuXG5leHBvcnRzLmNyZWF0ZVRpbWVvdXQgPSBmdW5jdGlvbihhdHRlbXB0LCBvcHRzKSB7XG4gIHZhciByYW5kb20gPSAob3B0cy5yYW5kb21pemUpXG4gICAgPyAoTWF0aC5yYW5kb20oKSArIDEpXG4gICAgOiAxO1xuXG4gIHZhciB0aW1lb3V0ID0gTWF0aC5yb3VuZChyYW5kb20gKiBNYXRoLm1heChvcHRzLm1pblRpbWVvdXQsIDEpICogTWF0aC5wb3cob3B0cy5mYWN0b3IsIGF0dGVtcHQpKTtcbiAgdGltZW91dCA9IE1hdGgubWluKHRpbWVvdXQsIG9wdHMubWF4VGltZW91dCk7XG5cbiAgcmV0dXJuIHRpbWVvdXQ7XG59O1xuXG5leHBvcnRzLndyYXAgPSBmdW5jdGlvbihvYmosIG9wdGlvbnMsIG1ldGhvZHMpIHtcbiAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIG1ldGhvZHMgPSBvcHRpb25zO1xuICAgIG9wdGlvbnMgPSBudWxsO1xuICB9XG5cbiAgaWYgKCFtZXRob2RzKSB7XG4gICAgbWV0aG9kcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgbWV0aG9kcy5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG1ldGhvZCAgID0gbWV0aG9kc1tpXTtcbiAgICB2YXIgb3JpZ2luYWwgPSBvYmpbbWV0aG9kXTtcblxuICAgIG9ialttZXRob2RdID0gZnVuY3Rpb24gcmV0cnlXcmFwcGVyKG9yaWdpbmFsKSB7XG4gICAgICB2YXIgb3AgICAgICAgPSBleHBvcnRzLm9wZXJhdGlvbihvcHRpb25zKTtcbiAgICAgIHZhciBhcmdzICAgICA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuXG4gICAgICBhcmdzLnB1c2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGlmIChvcC5yZXRyeShlcnIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBhcmd1bWVudHNbMF0gPSBvcC5tYWluRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSk7XG5cbiAgICAgIG9wLmF0dGVtcHQoZnVuY3Rpb24oKSB7XG4gICAgICAgIG9yaWdpbmFsLmFwcGx5KG9iaiwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9LmJpbmQob2JqLCBvcmlnaW5hbCk7XG4gICAgb2JqW21ldGhvZF0ub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL3JldHJ5Jyk7IiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgcmV0cnkgPSByZXF1aXJlKCdyZXRyeScpO1xuXG5jb25zdCBuZXR3b3JrRXJyb3JNc2dzID0gW1xuXHQnRmFpbGVkIHRvIGZldGNoJywgLy8gQ2hyb21lXG5cdCdOZXR3b3JrRXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIGZldGNoIHJlc291cmNlLicsIC8vIEZpcmVmb3hcblx0J1RoZSBJbnRlcm5ldCBjb25uZWN0aW9uIGFwcGVhcnMgdG8gYmUgb2ZmbGluZS4nLCAvLyBTYWZhcmlcblx0J05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnIC8vIGBjcm9zcy1mZXRjaGBcbl07XG5cbmNsYXNzIEFib3J0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcblx0XHRzdXBlcigpO1xuXG5cdFx0aWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0dGhpcy5vcmlnaW5hbEVycm9yID0gbWVzc2FnZTtcblx0XHRcdCh7bWVzc2FnZX0gPSBtZXNzYWdlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5vcmlnaW5hbEVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuXHRcdFx0dGhpcy5vcmlnaW5hbEVycm9yLnN0YWNrID0gdGhpcy5zdGFjaztcblx0XHR9XG5cblx0XHR0aGlzLm5hbWUgPSAnQWJvcnRFcnJvcic7XG5cdFx0dGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcblx0fVxufVxuXG5jb25zdCBkZWNvcmF0ZUVycm9yV2l0aENvdW50cyA9IChlcnJvciwgYXR0ZW1wdE51bWJlciwgb3B0aW9ucykgPT4ge1xuXHQvLyBNaW51cyAxIGZyb20gYXR0ZW1wdE51bWJlciBiZWNhdXNlIHRoZSBmaXJzdCBhdHRlbXB0IGRvZXMgbm90IGNvdW50IGFzIGEgcmV0cnlcblx0Y29uc3QgcmV0cmllc0xlZnQgPSBvcHRpb25zLnJldHJpZXMgLSAoYXR0ZW1wdE51bWJlciAtIDEpO1xuXG5cdGVycm9yLmF0dGVtcHROdW1iZXIgPSBhdHRlbXB0TnVtYmVyO1xuXHRlcnJvci5yZXRyaWVzTGVmdCA9IHJldHJpZXNMZWZ0O1xuXHRyZXR1cm4gZXJyb3I7XG59O1xuXG5jb25zdCBpc05ldHdvcmtFcnJvciA9IGVycm9yTWVzc2FnZSA9PiBuZXR3b3JrRXJyb3JNc2dzLmluY2x1ZGVzKGVycm9yTWVzc2FnZSk7XG5cbmNvbnN0IHBSZXRyeSA9IChpbnB1dCwgb3B0aW9ucykgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRvcHRpb25zID0ge1xuXHRcdG9uRmFpbGVkQXR0ZW1wdDogKCkgPT4ge30sXG5cdFx0cmV0cmllczogMTAsXG5cdFx0Li4ub3B0aW9uc1xuXHR9O1xuXG5cdGNvbnN0IG9wZXJhdGlvbiA9IHJldHJ5Lm9wZXJhdGlvbihvcHRpb25zKTtcblxuXHRvcGVyYXRpb24uYXR0ZW1wdChhc3luYyBhdHRlbXB0TnVtYmVyID0+IHtcblx0XHR0cnkge1xuXHRcdFx0cmVzb2x2ZShhd2FpdCBpbnB1dChhdHRlbXB0TnVtYmVyKSk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGlmICghKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpKSB7XG5cdFx0XHRcdHJlamVjdChuZXcgVHlwZUVycm9yKGBOb24tZXJyb3Igd2FzIHRocm93bjogXCIke2Vycm9yfVwiLiBZb3Ugc2hvdWxkIG9ubHkgdGhyb3cgZXJyb3JzLmApKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiBBYm9ydEVycm9yKSB7XG5cdFx0XHRcdG9wZXJhdGlvbi5zdG9wKCk7XG5cdFx0XHRcdHJlamVjdChlcnJvci5vcmlnaW5hbEVycm9yKTtcblx0XHRcdH0gZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IgJiYgIWlzTmV0d29ya0Vycm9yKGVycm9yLm1lc3NhZ2UpKSB7XG5cdFx0XHRcdG9wZXJhdGlvbi5zdG9wKCk7XG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWNvcmF0ZUVycm9yV2l0aENvdW50cyhlcnJvciwgYXR0ZW1wdE51bWJlciwgb3B0aW9ucyk7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRhd2FpdCBvcHRpb25zLm9uRmFpbGVkQXR0ZW1wdChlcnJvcik7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIW9wZXJhdGlvbi5yZXRyeShlcnJvcikpIHtcblx0XHRcdFx0XHRyZWplY3Qob3BlcmF0aW9uLm1haW5FcnJvcigpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwUmV0cnk7XG4vLyBUT0RPOiByZW1vdmUgdGhpcyBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uXG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gcFJldHJ5O1xuXG5tb2R1bGUuZXhwb3J0cy5BYm9ydEVycm9yID0gQWJvcnRFcnJvcjtcbiIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxubGV0IGdldFJhbmRvbVZhbHVlcztcbmNvbnN0IHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG5cbmNvbnN0IGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zbGljZSgxKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICByZXR1cm4gYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV07XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgY29uc3QgdXVpZCA9IHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCk7IC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcblxuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7IiwiY29uc3QgcmFuZG9tVVVJRCA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5yYW5kb21VVUlEICYmIGNyeXB0by5yYW5kb21VVUlELmJpbmQoY3J5cHRvKTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmFuZG9tVVVJRFxufTsiLCJpbXBvcnQgbmF0aXZlIGZyb20gJy4vbmF0aXZlLmpzJztcbmltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBpZiAobmF0aXZlLnJhbmRvbVVVSUQgJiYgIWJ1ZiAmJiAhb3B0aW9ucykge1xuICAgIHJldHVybiBuYXRpdmUucmFuZG9tVVVJRCgpO1xuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpOyAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG5cbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgaWYgKGJ1Zikge1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBidWY7XG4gIH1cblxuICByZXR1cm4gdW5zYWZlU3RyaW5naWZ5KHJuZHMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2NDsiLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIsIHNlcCkge1xuXHRpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhIHN0cmluZycpO1xuXHR9XG5cblx0c2VwID0gdHlwZW9mIHNlcCA9PT0gJ3VuZGVmaW5lZCcgPyAnXycgOiBzZXA7XG5cblx0cmV0dXJuIHN0clxuXHRcdC5yZXBsYWNlKC8oW2EtelxcZF0pKFtBLVpdKS9nLCAnJDEnICsgc2VwICsgJyQyJylcblx0XHQucmVwbGFjZSgvKFtBLVpdKykoW0EtWl1bYS16XFxkXSspL2csICckMScgKyBzZXAgKyAnJDInKVxuXHRcdC50b0xvd2VyQ2FzZSgpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgVVBQRVJDQVNFID0gL1tcXHB7THV9XS91O1xuY29uc3QgTE9XRVJDQVNFID0gL1tcXHB7TGx9XS91O1xuY29uc3QgTEVBRElOR19DQVBJVEFMID0gL15bXFxwe0x1fV0oPyFbXFxwe0x1fV0pL2d1O1xuY29uc3QgSURFTlRJRklFUiA9IC8oW1xccHtBbHBoYX1cXHB7Tn1fXXwkKS91O1xuY29uc3QgU0VQQVJBVE9SUyA9IC9bXy5cXC0gXSsvO1xuXG5jb25zdCBMRUFESU5HX1NFUEFSQVRPUlMgPSBuZXcgUmVnRXhwKCdeJyArIFNFUEFSQVRPUlMuc291cmNlKTtcbmNvbnN0IFNFUEFSQVRPUlNfQU5EX0lERU5USUZJRVIgPSBuZXcgUmVnRXhwKFNFUEFSQVRPUlMuc291cmNlICsgSURFTlRJRklFUi5zb3VyY2UsICdndScpO1xuY29uc3QgTlVNQkVSU19BTkRfSURFTlRJRklFUiA9IG5ldyBSZWdFeHAoJ1xcXFxkKycgKyBJREVOVElGSUVSLnNvdXJjZSwgJ2d1Jyk7XG5cbmNvbnN0IHByZXNlcnZlQ2FtZWxDYXNlID0gKHN0cmluZywgdG9Mb3dlckNhc2UsIHRvVXBwZXJDYXNlKSA9PiB7XG5cdGxldCBpc0xhc3RDaGFyTG93ZXIgPSBmYWxzZTtcblx0bGV0IGlzTGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXHRsZXQgaXNMYXN0TGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgY2hhcmFjdGVyID0gc3RyaW5nW2ldO1xuXG5cdFx0aWYgKGlzTGFzdENoYXJMb3dlciAmJiBVUFBFUkNBU0UudGVzdChjaGFyYWN0ZXIpKSB7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgaSkgKyAnLScgKyBzdHJpbmcuc2xpY2UoaSk7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSBmYWxzZTtcblx0XHRcdGlzTGFzdExhc3RDaGFyVXBwZXIgPSBpc0xhc3RDaGFyVXBwZXI7XG5cdFx0XHRpc0xhc3RDaGFyVXBwZXIgPSB0cnVlO1xuXHRcdFx0aSsrO1xuXHRcdH0gZWxzZSBpZiAoaXNMYXN0Q2hhclVwcGVyICYmIGlzTGFzdExhc3RDaGFyVXBwZXIgJiYgTE9XRVJDQVNFLnRlc3QoY2hhcmFjdGVyKSkge1xuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIGkgLSAxKSArICctJyArIHN0cmluZy5zbGljZShpIC0gMSk7XG5cdFx0XHRpc0xhc3RMYXN0Q2hhclVwcGVyID0gaXNMYXN0Q2hhclVwcGVyO1xuXHRcdFx0aXNMYXN0Q2hhclVwcGVyID0gZmFsc2U7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSB0b0xvd2VyQ2FzZShjaGFyYWN0ZXIpID09PSBjaGFyYWN0ZXIgJiYgdG9VcHBlckNhc2UoY2hhcmFjdGVyKSAhPT0gY2hhcmFjdGVyO1xuXHRcdFx0aXNMYXN0TGFzdENoYXJVcHBlciA9IGlzTGFzdENoYXJVcHBlcjtcblx0XHRcdGlzTGFzdENoYXJVcHBlciA9IHRvVXBwZXJDYXNlKGNoYXJhY3RlcikgPT09IGNoYXJhY3RlciAmJiB0b0xvd2VyQ2FzZShjaGFyYWN0ZXIpICE9PSBjaGFyYWN0ZXI7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0cmluZztcbn07XG5cbmNvbnN0IHByZXNlcnZlQ29uc2VjdXRpdmVVcHBlcmNhc2UgPSAoaW5wdXQsIHRvTG93ZXJDYXNlKSA9PiB7XG5cdExFQURJTkdfQ0FQSVRBTC5sYXN0SW5kZXggPSAwO1xuXG5cdHJldHVybiBpbnB1dC5yZXBsYWNlKExFQURJTkdfQ0FQSVRBTCwgbTEgPT4gdG9Mb3dlckNhc2UobTEpKTtcbn07XG5cbmNvbnN0IHBvc3RQcm9jZXNzID0gKGlucHV0LCB0b1VwcGVyQ2FzZSkgPT4ge1xuXHRTRVBBUkFUT1JTX0FORF9JREVOVElGSUVSLmxhc3RJbmRleCA9IDA7XG5cdE5VTUJFUlNfQU5EX0lERU5USUZJRVIubGFzdEluZGV4ID0gMDtcblxuXHRyZXR1cm4gaW5wdXQucmVwbGFjZShTRVBBUkFUT1JTX0FORF9JREVOVElGSUVSLCAoXywgaWRlbnRpZmllcikgPT4gdG9VcHBlckNhc2UoaWRlbnRpZmllcikpXG5cdFx0LnJlcGxhY2UoTlVNQkVSU19BTkRfSURFTlRJRklFUiwgbSA9PiB0b1VwcGVyQ2FzZShtKSk7XG59O1xuXG5jb25zdCBjYW1lbENhc2UgPSAoaW5wdXQsIG9wdGlvbnMpID0+IHtcblx0aWYgKCEodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGlucHV0KSkpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgaW5wdXQgdG8gYmUgYHN0cmluZyB8IHN0cmluZ1tdYCcpO1xuXHR9XG5cblx0b3B0aW9ucyA9IHtcblx0XHRwYXNjYWxDYXNlOiBmYWxzZSxcblx0XHRwcmVzZXJ2ZUNvbnNlY3V0aXZlVXBwZXJjYXNlOiBmYWxzZSxcblx0XHQuLi5vcHRpb25zXG5cdH07XG5cblx0aWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG5cdFx0aW5wdXQgPSBpbnB1dC5tYXAoeCA9PiB4LnRyaW0oKSlcblx0XHRcdC5maWx0ZXIoeCA9PiB4Lmxlbmd0aClcblx0XHRcdC5qb2luKCctJyk7XG5cdH0gZWxzZSB7XG5cdFx0aW5wdXQgPSBpbnB1dC50cmltKCk7XG5cdH1cblxuXHRpZiAoaW5wdXQubGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0Y29uc3QgdG9Mb3dlckNhc2UgPSBvcHRpb25zLmxvY2FsZSA9PT0gZmFsc2UgP1xuXHRcdHN0cmluZyA9PiBzdHJpbmcudG9Mb3dlckNhc2UoKSA6XG5cdFx0c3RyaW5nID0+IHN0cmluZy50b0xvY2FsZUxvd2VyQ2FzZShvcHRpb25zLmxvY2FsZSk7XG5cdGNvbnN0IHRvVXBwZXJDYXNlID0gb3B0aW9ucy5sb2NhbGUgPT09IGZhbHNlID9cblx0XHRzdHJpbmcgPT4gc3RyaW5nLnRvVXBwZXJDYXNlKCkgOlxuXHRcdHN0cmluZyA9PiBzdHJpbmcudG9Mb2NhbGVVcHBlckNhc2Uob3B0aW9ucy5sb2NhbGUpO1xuXG5cdGlmIChpbnB1dC5sZW5ndGggPT09IDEpIHtcblx0XHRyZXR1cm4gb3B0aW9ucy5wYXNjYWxDYXNlID8gdG9VcHBlckNhc2UoaW5wdXQpIDogdG9Mb3dlckNhc2UoaW5wdXQpO1xuXHR9XG5cblx0Y29uc3QgaGFzVXBwZXJDYXNlID0gaW5wdXQgIT09IHRvTG93ZXJDYXNlKGlucHV0KTtcblxuXHRpZiAoaGFzVXBwZXJDYXNlKSB7XG5cdFx0aW5wdXQgPSBwcmVzZXJ2ZUNhbWVsQ2FzZShpbnB1dCwgdG9Mb3dlckNhc2UsIHRvVXBwZXJDYXNlKTtcblx0fVxuXG5cdGlucHV0ID0gaW5wdXQucmVwbGFjZShMRUFESU5HX1NFUEFSQVRPUlMsICcnKTtcblxuXHRpZiAob3B0aW9ucy5wcmVzZXJ2ZUNvbnNlY3V0aXZlVXBwZXJjYXNlKSB7XG5cdFx0aW5wdXQgPSBwcmVzZXJ2ZUNvbnNlY3V0aXZlVXBwZXJjYXNlKGlucHV0LCB0b0xvd2VyQ2FzZSk7XG5cdH0gZWxzZSB7XG5cdFx0aW5wdXQgPSB0b0xvd2VyQ2FzZShpbnB1dCk7XG5cdH1cblxuXHRpZiAob3B0aW9ucy5wYXNjYWxDYXNlKSB7XG5cdFx0aW5wdXQgPSB0b1VwcGVyQ2FzZShpbnB1dC5jaGFyQXQoMCkpICsgaW5wdXQuc2xpY2UoMSk7XG5cdH1cblxuXHRyZXR1cm4gcG9zdFByb2Nlc3MoaW5wdXQsIHRvVXBwZXJDYXNlKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY2FtZWxDYXNlO1xuLy8gVE9ETzogUmVtb3ZlIHRoaXMgZm9yIHRoZSBuZXh0IG1ham9yIHJlbGVhc2Vcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBjYW1lbENhc2U7XG4iLCJpbXBvcnQgc25ha2VDYXNlIGZyb20gXCJkZWNhbWVsaXplXCI7XG5pbXBvcnQgY2FtZWxDYXNlIGZyb20gXCJjYW1lbGNhc2VcIjtcbmV4cG9ydCBmdW5jdGlvbiBrZXlUb0pzb24oa2V5LCBtYXApIHtcbiAgICByZXR1cm4gbWFwPy5ba2V5XSB8fCBzbmFrZUNhc2Uoa2V5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBrZXlGcm9tSnNvbihrZXksIG1hcCkge1xuICAgIHJldHVybiBtYXA/LltrZXldIHx8IGNhbWVsQ2FzZShrZXkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hcEtleXMoZmllbGRzLCBtYXBwZXIsIG1hcCkge1xuICAgIGNvbnN0IG1hcHBlZCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZpZWxkcykge1xuICAgICAgICBpZiAoT2JqZWN0Lmhhc093bihmaWVsZHMsIGtleSkpIHtcbiAgICAgICAgICAgIG1hcHBlZFttYXBwZXIoa2V5LCBtYXApXSA9IGZpZWxkc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXBwZWQ7XG59XG4iLCJpbXBvcnQgeyBrZXlUb0pzb24sIG1hcEtleXMgfSBmcm9tIFwiLi9tYXBfa2V5cy5qc1wiO1xuZnVuY3Rpb24gc2hhbGxvd0NvcHkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKSA/IFsuLi5vYmpdIDogeyAuLi5vYmogfTtcbn1cbmZ1bmN0aW9uIHJlcGxhY2VTZWNyZXRzKHJvb3QsIHNlY3JldHNNYXApIHtcbiAgICBjb25zdCByZXN1bHQgPSBzaGFsbG93Q29weShyb290KTtcbiAgICBmb3IgKGNvbnN0IFtwYXRoLCBzZWNyZXRJZF0gb2YgT2JqZWN0LmVudHJpZXMoc2VjcmV0c01hcCkpIHtcbiAgICAgICAgY29uc3QgW2xhc3QsIC4uLnBhcnRzUmV2ZXJzZV0gPSBwYXRoLnNwbGl0KFwiLlwiKS5yZXZlcnNlKCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGxldCBjdXJyZW50ID0gcmVzdWx0O1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHNSZXZlcnNlLnJldmVyc2UoKSkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRbcGFydF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFtwYXJ0XSA9IHNoYWxsb3dDb3B5KGN1cnJlbnRbcGFydF0pO1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGFydF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRbbGFzdF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY3VycmVudFtsYXN0XSA9IHtcbiAgICAgICAgICAgICAgICBsYzogMSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInNlY3JldFwiLFxuICAgICAgICAgICAgICAgIGlkOiBbc2VjcmV0SWRdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBHZXQgYSB1bmlxdWUgbmFtZSBmb3IgdGhlIG1vZHVsZSwgcmF0aGVyIHRoYW4gcGFyZW50IGNsYXNzIGltcGxlbWVudGF0aW9ucy5cbiAqIFNob3VsZCBub3QgYmUgc3ViY2xhc3NlZCwgc3ViY2xhc3MgbGNfbmFtZSBhYm92ZSBpbnN0ZWFkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2xjX3VuaXF1ZV9uYW1lKFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuc2VyaWFsaXphYmxlQ2xhc3MpIHtcbiAgICAvLyBcInN1cGVyXCIgaGVyZSB3b3VsZCByZWZlciB0byB0aGUgcGFyZW50IGNsYXNzIG9mIFNlcmlhbGl6YWJsZSxcbiAgICAvLyB3aGVuIHdlIHdhbnQgdGhlIHBhcmVudCBjbGFzcyBvZiB0aGUgbW9kdWxlIGFjdHVhbGx5IGNhbGxpbmcgdGhpcyBtZXRob2QuXG4gICAgY29uc3QgcGFyZW50Q2xhc3MgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoc2VyaWFsaXphYmxlQ2xhc3MpO1xuICAgIGNvbnN0IGxjTmFtZUlzU3ViY2xhc3NlZCA9IHR5cGVvZiBzZXJpYWxpemFibGVDbGFzcy5sY19uYW1lID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgKHR5cGVvZiBwYXJlbnRDbGFzcy5sY19uYW1lICE9PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgICAgIHNlcmlhbGl6YWJsZUNsYXNzLmxjX25hbWUoKSAhPT0gcGFyZW50Q2xhc3MubGNfbmFtZSgpKTtcbiAgICBpZiAobGNOYW1lSXNTdWJjbGFzc2VkKSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemFibGVDbGFzcy5sY19uYW1lKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VyaWFsaXphYmxlQ2xhc3MubmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2VyaWFsaXphYmxlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgc2VyaWFsaXphYmxlLiBPdmVycmlkZSB0byBwcm92aWRlIGFuIGFsaWFzIG9yXG4gICAgICogdG8gcHJlc2VydmUgdGhlIHNlcmlhbGl6ZWQgbW9kdWxlIG5hbWUgaW4gbWluaWZpZWQgZW52aXJvbm1lbnRzLlxuICAgICAqXG4gICAgICogSW1wbGVtZW50ZWQgYXMgYSBzdGF0aWMgbWV0aG9kIHRvIHN1cHBvcnQgbG9hZGluZyBsb2dpYy5cbiAgICAgKi9cbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGZpbmFsIHNlcmlhbGl6ZWQgaWRlbnRpZmllciBmb3IgdGhlIG1vZHVsZS5cbiAgICAgKi9cbiAgICBnZXQgbGNfaWQoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi50aGlzLmxjX25hbWVzcGFjZSxcbiAgICAgICAgICAgIGdldF9sY191bmlxdWVfbmFtZSh0aGlzLmNvbnN0cnVjdG9yKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBtYXAgb2Ygc2VjcmV0cywgd2hpY2ggd2lsbCBiZSBvbWl0dGVkIGZyb20gc2VyaWFsaXphdGlvbi5cbiAgICAgKiBLZXlzIGFyZSBwYXRocyB0byB0aGUgc2VjcmV0IGluIGNvbnN0cnVjdG9yIGFyZ3MsIGUuZy4gXCJmb28uYmFyLmJhelwiLlxuICAgICAqIFZhbHVlcyBhcmUgdGhlIHNlY3JldCBpZHMsIHdoaWNoIHdpbGwgYmUgdXNlZCB3aGVuIGRlc2VyaWFsaXppbmcuXG4gICAgICovXG4gICAgZ2V0IGxjX3NlY3JldHMoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIGFkZGl0aW9uYWwgYXR0cmlidXRlcyB0byBtZXJnZSB3aXRoIGNvbnN0cnVjdG9yIGFyZ3MuXG4gICAgICogS2V5cyBhcmUgdGhlIGF0dHJpYnV0ZSBuYW1lcywgZS5nLiBcImZvb1wiLlxuICAgICAqIFZhbHVlcyBhcmUgdGhlIGF0dHJpYnV0ZSB2YWx1ZXMsIHdoaWNoIHdpbGwgYmUgc2VyaWFsaXplZC5cbiAgICAgKiBUaGVzZSBhdHRyaWJ1dGVzIG5lZWQgdG8gYmUgYWNjZXB0ZWQgYnkgdGhlIGNvbnN0cnVjdG9yIGFzIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBnZXQgbGNfYXR0cmlidXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgYWxpYXNlcyBmb3IgY29uc3RydWN0b3IgYXJncy5cbiAgICAgKiBLZXlzIGFyZSB0aGUgYXR0cmlidXRlIG5hbWVzLCBlLmcuIFwiZm9vXCIuXG4gICAgICogVmFsdWVzIGFyZSB0aGUgYWxpYXMgdGhhdCB3aWxsIHJlcGxhY2UgdGhlIGtleSBpbiBzZXJpYWxpemF0aW9uLlxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBlZy4gbWFrZSBhcmd1bWVudCBuYW1lcyBtYXRjaCBQeXRob24uXG4gICAgICovXG4gICAgZ2V0IGxjX2FsaWFzZXMoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGt3YXJncywgLi4uX2FyZ3MpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfa3dhcmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGNfa3dhcmdzID0ga3dhcmdzIHx8IHt9O1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGlmICghdGhpcy5sY19zZXJpYWxpemFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvSlNPTk5vdEltcGxlbWVudGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgIHRoaXMubGNfa3dhcmdzIGluc3RhbmNlb2YgU2VyaWFsaXphYmxlIHx8XG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5sY19rd2FyZ3MgIT09IFwib2JqZWN0XCIgfHxcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkodGhpcy5sY19rd2FyZ3MpKSB7XG4gICAgICAgICAgICAvLyBXZSBkbyBub3Qgc3VwcG9ydCBzZXJpYWxpemF0aW9uIG9mIGNsYXNzZXMgd2l0aCBhcmcgbm90IGEgUE9KT1xuICAgICAgICAgICAgLy8gSSdtIGF3YXJlIHRoZSBjaGVjayBhYm92ZSBpc24ndCBhcyBzdHJpY3QgYXMgaXQgY291bGQgYmVcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvSlNPTk5vdEltcGxlbWVudGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWxpYXNlcyA9IHt9O1xuICAgICAgICBjb25zdCBzZWNyZXRzID0ge307XG4gICAgICAgIGNvbnN0IGt3YXJncyA9IE9iamVjdC5rZXlzKHRoaXMubGNfa3dhcmdzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IGtleSBpbiB0aGlzID8gdGhpc1trZXldIDogdGhpcy5sY19rd2FyZ3Nba2V5XTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgLy8gZ2V0IHNlY3JldHMsIGF0dHJpYnV0ZXMgYW5kIGFsaWFzZXMgZnJvbSBhbGwgc3VwZXJjbGFzc2VzXG4gICAgICAgIGZvciAoXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICBsZXQgY3VycmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTsgY3VycmVudDsgY3VycmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjdXJyZW50KSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihhbGlhc2VzLCBSZWZsZWN0LmdldChjdXJyZW50LCBcImxjX2FsaWFzZXNcIiwgdGhpcykpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzZWNyZXRzLCBSZWZsZWN0LmdldChjdXJyZW50LCBcImxjX3NlY3JldHNcIiwgdGhpcykpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihrd2FyZ3MsIFJlZmxlY3QuZ2V0KGN1cnJlbnQsIFwibGNfYXR0cmlidXRlc1wiLCB0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5jbHVkZSBhbGwgc2VjcmV0cyB1c2VkLCBldmVuIGlmIG5vdCBpbiBrd2FyZ3MsXG4gICAgICAgIC8vIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBzZW50aW5lbCB2YWx1ZSBpbiByZXBsYWNlU2VjcmV0c1xuICAgICAgICBPYmplY3Qua2V5cyhzZWNyZXRzKS5mb3JFYWNoKChrZXlQYXRoKSA9PiB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXMsIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGxldCByZWFkID0gdGhpcztcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBsZXQgd3JpdGUgPSBrd2FyZ3M7XG4gICAgICAgICAgICBjb25zdCBbbGFzdCwgLi4ucGFydHNSZXZlcnNlXSA9IGtleVBhdGguc3BsaXQoXCIuXCIpLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHBhcnRzUmV2ZXJzZS5yZXZlcnNlKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gcmVhZCkgfHwgcmVhZFtrZXldID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gd3JpdGUpIHx8IHdyaXRlW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlYWRba2V5XSA9PT0gXCJvYmplY3RcIiAmJiByZWFkW2tleV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVba2V5XSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVhZFtrZXldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVba2V5XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlYWQgPSByZWFkW2tleV07XG4gICAgICAgICAgICAgICAgd3JpdGUgPSB3cml0ZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhc3QgaW4gcmVhZCAmJiByZWFkW2xhc3RdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB3cml0ZVtsYXN0XSA9IHdyaXRlW2xhc3RdIHx8IHJlYWRbbGFzdF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGM6IDEsXG4gICAgICAgICAgICB0eXBlOiBcImNvbnN0cnVjdG9yXCIsXG4gICAgICAgICAgICBpZDogdGhpcy5sY19pZCxcbiAgICAgICAgICAgIGt3YXJnczogbWFwS2V5cyhPYmplY3Qua2V5cyhzZWNyZXRzKS5sZW5ndGggPyByZXBsYWNlU2VjcmV0cyhrd2FyZ3MsIHNlY3JldHMpIDoga3dhcmdzLCBrZXlUb0pzb24sIGFsaWFzZXMpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0b0pTT05Ob3RJbXBsZW1lbnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxjOiAxLFxuICAgICAgICAgICAgdHlwZTogXCJub3RfaW1wbGVtZW50ZWRcIixcbiAgICAgICAgICAgIGlkOiB0aGlzLmxjX2lkLFxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIHV1aWQgZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IFNlcmlhbGl6YWJsZSwgZ2V0X2xjX3VuaXF1ZV9uYW1lLCB9IGZyb20gXCIuLi9sb2FkL3NlcmlhbGl6YWJsZS5qc1wiO1xuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyB0aGF0IHByb3ZpZGVzIGEgc2V0IG9mIG9wdGlvbmFsIG1ldGhvZHMgdGhhdCBjYW4gYmVcbiAqIG92ZXJyaWRkZW4gaW4gZGVyaXZlZCBjbGFzc2VzIHRvIGhhbmRsZSB2YXJpb3VzIGV2ZW50cyBkdXJpbmcgdGhlXG4gKiBleGVjdXRpb24gb2YgYSBMYW5nQ2hhaW4gYXBwbGljYXRpb24uXG4gKi9cbmNsYXNzIEJhc2VDYWxsYmFja0hhbmRsZXJNZXRob2RzQ2xhc3Mge1xufVxuLyoqXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciBjcmVhdGluZyBjYWxsYmFjayBoYW5kbGVycyBpbiB0aGUgTGFuZ0NoYWluXG4gKiBmcmFtZXdvcmsuIEl0IHByb3ZpZGVzIGEgc2V0IG9mIG9wdGlvbmFsIG1ldGhvZHMgdGhhdCBjYW4gYmUgb3ZlcnJpZGRlblxuICogaW4gZGVyaXZlZCBjbGFzc2VzIHRvIGhhbmRsZSB2YXJpb3VzIGV2ZW50cyBkdXJpbmcgdGhlIGV4ZWN1dGlvbiBvZiBhXG4gKiBMYW5nQ2hhaW4gYXBwbGljYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlQ2FsbGJhY2tIYW5kbGVyIGV4dGVuZHMgQmFzZUNhbGxiYWNrSGFuZGxlck1ldGhvZHNDbGFzcyB7XG4gICAgZ2V0IGxjX25hbWVzcGFjZSgpIHtcbiAgICAgICAgcmV0dXJuIFtcImxhbmdjaGFpblwiLCBcImNhbGxiYWNrc1wiLCB0aGlzLm5hbWVdO1xuICAgIH1cbiAgICBnZXQgbGNfc2VjcmV0cygpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZ2V0IGxjX2F0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGdldCBsY19hbGlhc2VzKCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgc2VyaWFsaXphYmxlLiBPdmVycmlkZSB0byBwcm92aWRlIGFuIGFsaWFzIG9yXG4gICAgICogdG8gcHJlc2VydmUgdGhlIHNlcmlhbGl6ZWQgbW9kdWxlIG5hbWUgaW4gbWluaWZpZWQgZW52aXJvbm1lbnRzLlxuICAgICAqXG4gICAgICogSW1wbGVtZW50ZWQgYXMgYSBzdGF0aWMgbWV0aG9kIHRvIHN1cHBvcnQgbG9hZGluZyBsb2dpYy5cbiAgICAgKi9cbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGZpbmFsIHNlcmlhbGl6ZWQgaWRlbnRpZmllciBmb3IgdGhlIG1vZHVsZS5cbiAgICAgKi9cbiAgICBnZXQgbGNfaWQoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi50aGlzLmxjX25hbWVzcGFjZSxcbiAgICAgICAgICAgIGdldF9sY191bmlxdWVfbmFtZSh0aGlzLmNvbnN0cnVjdG9yKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfa3dhcmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlnbm9yZUxMTVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlnbm9yZUNoYWluXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaWdub3JlQWdlbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpZ25vcmVSZXRyaWV2ZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhd2FpdEhhbmRsZXJzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgICAgID8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb2Nlc3MtZW52XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Py5MQU5HQ0hBSU5fQ0FMTEJBQ0tTX0JBQ0tHUk9VTkQgIT09IFwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxjX2t3YXJncyA9IGlucHV0IHx8IHt9O1xuICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuaWdub3JlTExNID0gaW5wdXQuaWdub3JlTExNID8/IHRoaXMuaWdub3JlTExNO1xuICAgICAgICAgICAgdGhpcy5pZ25vcmVDaGFpbiA9IGlucHV0Lmlnbm9yZUNoYWluID8/IHRoaXMuaWdub3JlQ2hhaW47XG4gICAgICAgICAgICB0aGlzLmlnbm9yZUFnZW50ID0gaW5wdXQuaWdub3JlQWdlbnQgPz8gdGhpcy5pZ25vcmVBZ2VudDtcbiAgICAgICAgICAgIHRoaXMuaWdub3JlUmV0cmlldmVyID0gaW5wdXQuaWdub3JlUmV0cmlldmVyID8/IHRoaXMuaWdub3JlUmV0cmlldmVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvcHkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4gU2VyaWFsaXphYmxlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgdG9KU09OTm90SW1wbGVtZW50ZWQoKSB7XG4gICAgICAgIHJldHVybiBTZXJpYWxpemFibGUucHJvdG90eXBlLnRvSlNPTk5vdEltcGxlbWVudGVkLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tTWV0aG9kcyhtZXRob2RzKSB7XG4gICAgICAgIGNsYXNzIEhhbmRsZXIgZXh0ZW5kcyBCYXNlQ2FsbGJhY2tIYW5kbGVyIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1dWlkLnY0KClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIG1ldGhvZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSGFuZGxlcigpO1xuICAgIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgQU5TSV9CQUNLR1JPVU5EX09GRlNFVCA9IDEwO1xuXG5jb25zdCB3cmFwQW5zaTI1NiA9IChvZmZzZXQgPSAwKSA9PiBjb2RlID0+IGBcXHUwMDFCWyR7MzggKyBvZmZzZXR9OzU7JHtjb2RlfW1gO1xuXG5jb25zdCB3cmFwQW5zaTE2bSA9IChvZmZzZXQgPSAwKSA9PiAocmVkLCBncmVlbiwgYmx1ZSkgPT4gYFxcdTAwMUJbJHszOCArIG9mZnNldH07Mjske3JlZH07JHtncmVlbn07JHtibHVlfW1gO1xuXG5mdW5jdGlvbiBhc3NlbWJsZVN0eWxlcygpIHtcblx0Y29uc3QgY29kZXMgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IHN0eWxlcyA9IHtcblx0XHRtb2RpZmllcjoge1xuXHRcdFx0cmVzZXQ6IFswLCAwXSxcblx0XHRcdC8vIDIxIGlzbid0IHdpZGVseSBzdXBwb3J0ZWQgYW5kIDIyIGRvZXMgdGhlIHNhbWUgdGhpbmdcblx0XHRcdGJvbGQ6IFsxLCAyMl0sXG5cdFx0XHRkaW06IFsyLCAyMl0sXG5cdFx0XHRpdGFsaWM6IFszLCAyM10sXG5cdFx0XHR1bmRlcmxpbmU6IFs0LCAyNF0sXG5cdFx0XHRvdmVybGluZTogWzUzLCA1NV0sXG5cdFx0XHRpbnZlcnNlOiBbNywgMjddLFxuXHRcdFx0aGlkZGVuOiBbOCwgMjhdLFxuXHRcdFx0c3RyaWtldGhyb3VnaDogWzksIDI5XVxuXHRcdH0sXG5cdFx0Y29sb3I6IHtcblx0XHRcdGJsYWNrOiBbMzAsIDM5XSxcblx0XHRcdHJlZDogWzMxLCAzOV0sXG5cdFx0XHRncmVlbjogWzMyLCAzOV0sXG5cdFx0XHR5ZWxsb3c6IFszMywgMzldLFxuXHRcdFx0Ymx1ZTogWzM0LCAzOV0sXG5cdFx0XHRtYWdlbnRhOiBbMzUsIDM5XSxcblx0XHRcdGN5YW46IFszNiwgMzldLFxuXHRcdFx0d2hpdGU6IFszNywgMzldLFxuXG5cdFx0XHQvLyBCcmlnaHQgY29sb3Jcblx0XHRcdGJsYWNrQnJpZ2h0OiBbOTAsIDM5XSxcblx0XHRcdHJlZEJyaWdodDogWzkxLCAzOV0sXG5cdFx0XHRncmVlbkJyaWdodDogWzkyLCAzOV0sXG5cdFx0XHR5ZWxsb3dCcmlnaHQ6IFs5MywgMzldLFxuXHRcdFx0Ymx1ZUJyaWdodDogWzk0LCAzOV0sXG5cdFx0XHRtYWdlbnRhQnJpZ2h0OiBbOTUsIDM5XSxcblx0XHRcdGN5YW5CcmlnaHQ6IFs5NiwgMzldLFxuXHRcdFx0d2hpdGVCcmlnaHQ6IFs5NywgMzldXG5cdFx0fSxcblx0XHRiZ0NvbG9yOiB7XG5cdFx0XHRiZ0JsYWNrOiBbNDAsIDQ5XSxcblx0XHRcdGJnUmVkOiBbNDEsIDQ5XSxcblx0XHRcdGJnR3JlZW46IFs0MiwgNDldLFxuXHRcdFx0YmdZZWxsb3c6IFs0MywgNDldLFxuXHRcdFx0YmdCbHVlOiBbNDQsIDQ5XSxcblx0XHRcdGJnTWFnZW50YTogWzQ1LCA0OV0sXG5cdFx0XHRiZ0N5YW46IFs0NiwgNDldLFxuXHRcdFx0YmdXaGl0ZTogWzQ3LCA0OV0sXG5cblx0XHRcdC8vIEJyaWdodCBjb2xvclxuXHRcdFx0YmdCbGFja0JyaWdodDogWzEwMCwgNDldLFxuXHRcdFx0YmdSZWRCcmlnaHQ6IFsxMDEsIDQ5XSxcblx0XHRcdGJnR3JlZW5CcmlnaHQ6IFsxMDIsIDQ5XSxcblx0XHRcdGJnWWVsbG93QnJpZ2h0OiBbMTAzLCA0OV0sXG5cdFx0XHRiZ0JsdWVCcmlnaHQ6IFsxMDQsIDQ5XSxcblx0XHRcdGJnTWFnZW50YUJyaWdodDogWzEwNSwgNDldLFxuXHRcdFx0YmdDeWFuQnJpZ2h0OiBbMTA2LCA0OV0sXG5cdFx0XHRiZ1doaXRlQnJpZ2h0OiBbMTA3LCA0OV1cblx0XHR9XG5cdH07XG5cblx0Ly8gQWxpYXMgYnJpZ2h0IGJsYWNrIGFzIGdyYXkgKGFuZCBncmV5KVxuXHRzdHlsZXMuY29sb3IuZ3JheSA9IHN0eWxlcy5jb2xvci5ibGFja0JyaWdodDtcblx0c3R5bGVzLmJnQ29sb3IuYmdHcmF5ID0gc3R5bGVzLmJnQ29sb3IuYmdCbGFja0JyaWdodDtcblx0c3R5bGVzLmNvbG9yLmdyZXkgPSBzdHlsZXMuY29sb3IuYmxhY2tCcmlnaHQ7XG5cdHN0eWxlcy5iZ0NvbG9yLmJnR3JleSA9IHN0eWxlcy5iZ0NvbG9yLmJnQmxhY2tCcmlnaHQ7XG5cblx0Zm9yIChjb25zdCBbZ3JvdXBOYW1lLCBncm91cF0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVzKSkge1xuXHRcdGZvciAoY29uc3QgW3N0eWxlTmFtZSwgc3R5bGVdIG9mIE9iamVjdC5lbnRyaWVzKGdyb3VwKSkge1xuXHRcdFx0c3R5bGVzW3N0eWxlTmFtZV0gPSB7XG5cdFx0XHRcdG9wZW46IGBcXHUwMDFCWyR7c3R5bGVbMF19bWAsXG5cdFx0XHRcdGNsb3NlOiBgXFx1MDAxQlske3N0eWxlWzFdfW1gXG5cdFx0XHR9O1xuXG5cdFx0XHRncm91cFtzdHlsZU5hbWVdID0gc3R5bGVzW3N0eWxlTmFtZV07XG5cblx0XHRcdGNvZGVzLnNldChzdHlsZVswXSwgc3R5bGVbMV0pO1xuXHRcdH1cblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsIGdyb3VwTmFtZSwge1xuXHRcdFx0dmFsdWU6IGdyb3VwLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0XHR9KTtcblx0fVxuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsICdjb2RlcycsIHtcblx0XHR2YWx1ZTogY29kZXMsXG5cdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0fSk7XG5cblx0c3R5bGVzLmNvbG9yLmNsb3NlID0gJ1xcdTAwMUJbMzltJztcblx0c3R5bGVzLmJnQ29sb3IuY2xvc2UgPSAnXFx1MDAxQls0OW0nO1xuXG5cdHN0eWxlcy5jb2xvci5hbnNpMjU2ID0gd3JhcEFuc2kyNTYoKTtcblx0c3R5bGVzLmNvbG9yLmFuc2kxNm0gPSB3cmFwQW5zaTE2bSgpO1xuXHRzdHlsZXMuYmdDb2xvci5hbnNpMjU2ID0gd3JhcEFuc2kyNTYoQU5TSV9CQUNLR1JPVU5EX09GRlNFVCk7XG5cdHN0eWxlcy5iZ0NvbG9yLmFuc2kxNm0gPSB3cmFwQW5zaTE2bShBTlNJX0JBQ0tHUk9VTkRfT0ZGU0VUKTtcblxuXHQvLyBGcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9RaXgtL2NvbG9yLWNvbnZlcnQvYmxvYi8zZjBlMGQ0ZTkyZTIzNTc5NmNjYjE3ZjZlODVjNzIwOTRhNjUxZjQ5L2NvbnZlcnNpb25zLmpzXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHN0eWxlcywge1xuXHRcdHJnYlRvQW5zaTI1Njoge1xuXHRcdFx0dmFsdWU6IChyZWQsIGdyZWVuLCBibHVlKSA9PiB7XG5cdFx0XHRcdC8vIFdlIHVzZSB0aGUgZXh0ZW5kZWQgZ3JleXNjYWxlIHBhbGV0dGUgaGVyZSwgd2l0aCB0aGUgZXhjZXB0aW9uIG9mXG5cdFx0XHRcdC8vIGJsYWNrIGFuZCB3aGl0ZS4gbm9ybWFsIHBhbGV0dGUgb25seSBoYXMgNCBncmV5c2NhbGUgc2hhZGVzLlxuXHRcdFx0XHRpZiAocmVkID09PSBncmVlbiAmJiBncmVlbiA9PT0gYmx1ZSkge1xuXHRcdFx0XHRcdGlmIChyZWQgPCA4KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gMTY7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHJlZCA+IDI0OCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIDIzMTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gTWF0aC5yb3VuZCgoKHJlZCAtIDgpIC8gMjQ3KSAqIDI0KSArIDIzMjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiAxNiArXG5cdFx0XHRcdFx0KDM2ICogTWF0aC5yb3VuZChyZWQgLyAyNTUgKiA1KSkgK1xuXHRcdFx0XHRcdCg2ICogTWF0aC5yb3VuZChncmVlbiAvIDI1NSAqIDUpKSArXG5cdFx0XHRcdFx0TWF0aC5yb3VuZChibHVlIC8gMjU1ICogNSk7XG5cdFx0XHR9LFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0XHR9LFxuXHRcdGhleFRvUmdiOiB7XG5cdFx0XHR2YWx1ZTogaGV4ID0+IHtcblx0XHRcdFx0Y29uc3QgbWF0Y2hlcyA9IC8oPzxjb2xvclN0cmluZz5bYS1mXFxkXXs2fXxbYS1mXFxkXXszfSkvaS5leGVjKGhleC50b1N0cmluZygxNikpO1xuXHRcdFx0XHRpZiAoIW1hdGNoZXMpIHtcblx0XHRcdFx0XHRyZXR1cm4gWzAsIDAsIDBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IHtjb2xvclN0cmluZ30gPSBtYXRjaGVzLmdyb3VwcztcblxuXHRcdFx0XHRpZiAoY29sb3JTdHJpbmcubGVuZ3RoID09PSAzKSB7XG5cdFx0XHRcdFx0Y29sb3JTdHJpbmcgPSBjb2xvclN0cmluZy5zcGxpdCgnJykubWFwKGNoYXJhY3RlciA9PiBjaGFyYWN0ZXIgKyBjaGFyYWN0ZXIpLmpvaW4oJycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgaW50ZWdlciA9IE51bWJlci5wYXJzZUludChjb2xvclN0cmluZywgMTYpO1xuXG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0KGludGVnZXIgPj4gMTYpICYgMHhGRixcblx0XHRcdFx0XHQoaW50ZWdlciA+PiA4KSAmIDB4RkYsXG5cdFx0XHRcdFx0aW50ZWdlciAmIDB4RkZcblx0XHRcdFx0XTtcblx0XHRcdH0sXG5cdFx0XHRlbnVtZXJhYmxlOiBmYWxzZVxuXHRcdH0sXG5cdFx0aGV4VG9BbnNpMjU2OiB7XG5cdFx0XHR2YWx1ZTogaGV4ID0+IHN0eWxlcy5yZ2JUb0Fuc2kyNTYoLi4uc3R5bGVzLmhleFRvUmdiKGhleCkpLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbi8vIE1ha2UgdGhlIGV4cG9ydCBpbW11dGFibGVcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsICdleHBvcnRzJywge1xuXHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRnZXQ6IGFzc2VtYmxlU3R5bGVzXG59KTtcbiIsImltcG9ydCB7IEJhc2VDYWxsYmFja0hhbmRsZXIsIH0gZnJvbSBcIi4uL2Jhc2UuanNcIjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiBfY29lcmNlVG9EaWN0KHZhbHVlLCBkZWZhdWx0S2V5KSB7XG4gICAgcmV0dXJuIHZhbHVlICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCJcbiAgICAgICAgPyB2YWx1ZVxuICAgICAgICA6IHsgW2RlZmF1bHRLZXldOiB2YWx1ZSB9O1xufVxuZXhwb3J0IGNsYXNzIEJhc2VUcmFjZXIgZXh0ZW5kcyBCYXNlQ2FsbGJhY2tIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihfZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJ1bk1hcFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogbmV3IE1hcCgpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb3B5KCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX2FkZENoaWxkUnVuKHBhcmVudFJ1biwgY2hpbGRSdW4pIHtcbiAgICAgICAgcGFyZW50UnVuLmNoaWxkX3J1bnMucHVzaChjaGlsZFJ1bik7XG4gICAgfVxuICAgIGFzeW5jIF9zdGFydFRyYWNlKHJ1bikge1xuICAgICAgICBpZiAocnVuLnBhcmVudF9ydW5faWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50UnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bi5wYXJlbnRfcnVuX2lkKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRSdW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRDaGlsZFJ1bihwYXJlbnRSdW4sIHJ1bik7XG4gICAgICAgICAgICAgICAgcGFyZW50UnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlciA9IE1hdGgubWF4KHBhcmVudFJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIsIHJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucnVuTWFwLnNldChydW4uaWQsIHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMub25SdW5DcmVhdGU/LihydW4pO1xuICAgIH1cbiAgICBhc3luYyBfZW5kVHJhY2UocnVuKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudFJ1biA9IHJ1bi5wYXJlbnRfcnVuX2lkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5ydW5NYXAuZ2V0KHJ1bi5wYXJlbnRfcnVuX2lkKTtcbiAgICAgICAgaWYgKHBhcmVudFJ1bikge1xuICAgICAgICAgICAgcGFyZW50UnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlciA9IE1hdGgubWF4KHBhcmVudFJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIsIHJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wZXJzaXN0UnVuKHJ1bik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ydW5NYXAuZGVsZXRlKHJ1bi5pZCk7XG4gICAgICAgIGF3YWl0IHRoaXMub25SdW5VcGRhdGU/LihydW4pO1xuICAgIH1cbiAgICBfZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50UnVuID0gcGFyZW50UnVuSWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnJ1bk1hcC5nZXQocGFyZW50UnVuSWQpO1xuICAgICAgICAvLyBJZiBhIHJ1biBoYXMgbm8gcGFyZW50IHRoZW4gZXhlY3V0aW9uIG9yZGVyIGlzIDFcbiAgICAgICAgaWYgKCFwYXJlbnRSdW4pIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnRSdW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyICsgMTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTExNU3RhcnQobGxtLCBwcm9tcHRzLCBydW5JZCwgcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0YWdzLCBtZXRhZGF0YSwgbmFtZSkge1xuICAgICAgICBjb25zdCBleGVjdXRpb25fb3JkZXIgPSB0aGlzLl9nZXRFeGVjdXRpb25PcmRlcihwYXJlbnRSdW5JZCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0X3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCBmaW5hbEV4dHJhUGFyYW1zID0gbWV0YWRhdGFcbiAgICAgICAgICAgID8geyAuLi5leHRyYVBhcmFtcywgbWV0YWRhdGEgfVxuICAgICAgICAgICAgOiBleHRyYVBhcmFtcztcbiAgICAgICAgY29uc3QgcnVuID0ge1xuICAgICAgICAgICAgaWQ6IHJ1bklkLFxuICAgICAgICAgICAgbmFtZTogbmFtZSA/PyBsbG0uaWRbbGxtLmlkLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgcGFyZW50X3J1bl9pZDogcGFyZW50UnVuSWQsXG4gICAgICAgICAgICBzdGFydF90aW1lLFxuICAgICAgICAgICAgc2VyaWFsaXplZDogbGxtLFxuICAgICAgICAgICAgZXZlbnRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKHN0YXJ0X3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBpbnB1dHM6IHsgcHJvbXB0cyB9LFxuICAgICAgICAgICAgZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIHJ1bl90eXBlOiBcImxsbVwiLFxuICAgICAgICAgICAgZXh0cmE6IGZpbmFsRXh0cmFQYXJhbXMgPz8ge30sXG4gICAgICAgICAgICB0YWdzOiB0YWdzIHx8IFtdLFxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCB0aGlzLl9zdGFydFRyYWNlKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMub25MTE1TdGFydD8uKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYXRNb2RlbFN0YXJ0KGxsbSwgbWVzc2FnZXMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGlvbl9vcmRlciA9IHRoaXMuX2dldEV4ZWN1dGlvbk9yZGVyKHBhcmVudFJ1bklkKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGZpbmFsRXh0cmFQYXJhbXMgPSBtZXRhZGF0YVxuICAgICAgICAgICAgPyB7IC4uLmV4dHJhUGFyYW1zLCBtZXRhZGF0YSB9XG4gICAgICAgICAgICA6IGV4dHJhUGFyYW1zO1xuICAgICAgICBjb25zdCBydW4gPSB7XG4gICAgICAgICAgICBpZDogcnVuSWQsXG4gICAgICAgICAgICBuYW1lOiBuYW1lID8/IGxsbS5pZFtsbG0uaWQubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWUsXG4gICAgICAgICAgICBzZXJpYWxpemVkOiBsbG0sXG4gICAgICAgICAgICBldmVudHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoc3RhcnRfdGltZSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGlucHV0czogeyBtZXNzYWdlcyB9LFxuICAgICAgICAgICAgZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIHJ1bl90eXBlOiBcImxsbVwiLFxuICAgICAgICAgICAgZXh0cmE6IGZpbmFsRXh0cmFQYXJhbXMgPz8ge30sXG4gICAgICAgICAgICB0YWdzOiB0YWdzIHx8IFtdLFxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCB0aGlzLl9zdGFydFRyYWNlKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMub25MTE1TdGFydD8uKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUxMTUVuZChvdXRwdXQsIHJ1bklkKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG4gICAgICAgIGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwibGxtXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIExMTSBydW4gdG8gZW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBydW4ub3V0cHV0cyA9IG91dHB1dDtcbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiZW5kXCIsXG4gICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLm9uTExNRW5kPy4ocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTExNRXJyb3IoZXJyb3IsIHJ1bklkKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG4gICAgICAgIGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwibGxtXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIExMTSBydW4gdG8gZW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBydW4uZXJyb3IgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgdGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5vbkxMTUVycm9yPy4ocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlQ2hhaW5TdGFydChjaGFpbiwgaW5wdXRzLCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBydW5UeXBlLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGlvbl9vcmRlciA9IHRoaXMuX2dldEV4ZWN1dGlvbk9yZGVyKHBhcmVudFJ1bklkKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IHJ1biA9IHtcbiAgICAgICAgICAgIGlkOiBydW5JZCxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUgPz8gY2hhaW4uaWRbY2hhaW4uaWQubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWUsXG4gICAgICAgICAgICBzZXJpYWxpemVkOiBjaGFpbixcbiAgICAgICAgICAgIGV2ZW50czogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShzdGFydF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgaW5wdXRzLFxuICAgICAgICAgICAgZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgY2hpbGRfZXhlY3V0aW9uX29yZGVyOiBleGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICBydW5fdHlwZTogcnVuVHlwZSA/PyBcImNoYWluXCIsXG4gICAgICAgICAgICBjaGlsZF9ydW5zOiBbXSxcbiAgICAgICAgICAgIGV4dHJhOiBtZXRhZGF0YSA/IHsgbWV0YWRhdGEgfSA6IHt9LFxuICAgICAgICAgICAgdGFnczogdGFncyB8fCBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgdGhpcy5fc3RhcnRUcmFjZShydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLm9uQ2hhaW5TdGFydD8uKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYWluRW5kKG91dHB1dHMsIHJ1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBrd2FyZ3MpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGNoYWluIHJ1biB0byBlbmQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHJ1bi5vdXRwdXRzID0gX2NvZXJjZVRvRGljdChvdXRwdXRzLCBcIm91dHB1dFwiKTtcbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiZW5kXCIsXG4gICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoa3dhcmdzPy5pbnB1dHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcnVuLmlucHV0cyA9IF9jb2VyY2VUb0RpY3Qoa3dhcmdzLmlucHV0cywgXCJpbnB1dFwiKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLm9uQ2hhaW5FbmQ/LihydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuICAgICAgICByZXR1cm4gcnVuO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVDaGFpbkVycm9yKGVycm9yLCBydW5JZCwgX3BhcmVudFJ1bklkLCBfdGFncywga3dhcmdzKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG4gICAgICAgIGlmICghcnVuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjaGFpbiBydW4gdG8gZW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBydW4uZXJyb3IgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgdGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGt3YXJncz8uaW5wdXRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJ1bi5pbnB1dHMgPSBfY29lcmNlVG9EaWN0KGt3YXJncy5pbnB1dHMsIFwiaW5wdXRcIik7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5vbkNoYWluRXJyb3I/LihydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuICAgICAgICByZXR1cm4gcnVuO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVUb29sU3RhcnQodG9vbCwgaW5wdXQsIHJ1bklkLCBwYXJlbnRSdW5JZCwgdGFncywgbWV0YWRhdGEsIG5hbWUpIHtcbiAgICAgICAgY29uc3QgZXhlY3V0aW9uX29yZGVyID0gdGhpcy5fZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgcnVuID0ge1xuICAgICAgICAgICAgaWQ6IHJ1bklkLFxuICAgICAgICAgICAgbmFtZTogbmFtZSA/PyB0b29sLmlkW3Rvb2wuaWQubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWUsXG4gICAgICAgICAgICBzZXJpYWxpemVkOiB0b29sLFxuICAgICAgICAgICAgZXZlbnRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKHN0YXJ0X3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBpbnB1dHM6IHsgaW5wdXQgfSxcbiAgICAgICAgICAgIGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIGNoaWxkX2V4ZWN1dGlvbl9vcmRlcjogZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgcnVuX3R5cGU6IFwidG9vbFwiLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgICAgICBleHRyYTogbWV0YWRhdGEgPyB7IG1ldGFkYXRhIH0gOiB7fSxcbiAgICAgICAgICAgIHRhZ3M6IHRhZ3MgfHwgW10sXG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IHRoaXMuX3N0YXJ0VHJhY2UocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5vblRvb2xTdGFydD8uKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVRvb2xFbmQob3V0cHV0LCBydW5JZCkge1xuICAgICAgICBjb25zdCBydW4gPSB0aGlzLnJ1bk1hcC5nZXQocnVuSWQpO1xuICAgICAgICBpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcInRvb2xcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdG9vbCBydW4gdG8gZW5kXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHJ1bi5vdXRwdXRzID0geyBvdXRwdXQgfTtcbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiZW5kXCIsXG4gICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLm9uVG9vbEVuZD8uKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVRvb2xFcnJvcihlcnJvciwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJ0b29sXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHRvb2wgcnVuIHRvIGVuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBydW4uZXJyb3IgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgdGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5vblRvb2xFcnJvcj8uKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUFnZW50QWN0aW9uKGFjdGlvbiwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJjaGFpblwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWdlbnRSdW4gPSBydW47XG4gICAgICAgIGFnZW50UnVuLmFjdGlvbnMgPSBhZ2VudFJ1bi5hY3Rpb25zIHx8IFtdO1xuICAgICAgICBhZ2VudFJ1bi5hY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgICAgYWdlbnRSdW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJhZ2VudF9hY3Rpb25cIixcbiAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGt3YXJnczogeyBhY3Rpb24gfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMub25BZ2VudEFjdGlvbj8uKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUFnZW50RW5kKGFjdGlvbiwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJjaGFpblwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiYWdlbnRfZW5kXCIsXG4gICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBrd2FyZ3M6IHsgYWN0aW9uIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLm9uQWdlbnRFbmQ/LihydW4pO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVSZXRyaWV2ZXJTdGFydChyZXRyaWV2ZXIsIHF1ZXJ5LCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGlvbl9vcmRlciA9IHRoaXMuX2dldEV4ZWN1dGlvbk9yZGVyKHBhcmVudFJ1bklkKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IHJ1biA9IHtcbiAgICAgICAgICAgIGlkOiBydW5JZCxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUgPz8gcmV0cmlldmVyLmlkW3JldHJpZXZlci5pZC5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgIHBhcmVudF9ydW5faWQ6IHBhcmVudFJ1bklkLFxuICAgICAgICAgICAgc3RhcnRfdGltZSxcbiAgICAgICAgICAgIHNlcmlhbGl6ZWQ6IHJldHJpZXZlcixcbiAgICAgICAgICAgIGV2ZW50czogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShzdGFydF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgaW5wdXRzOiB7IHF1ZXJ5IH0sXG4gICAgICAgICAgICBleGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIHJ1bl90eXBlOiBcInJldHJpZXZlclwiLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgICAgICBleHRyYTogbWV0YWRhdGEgPyB7IG1ldGFkYXRhIH0gOiB7fSxcbiAgICAgICAgICAgIHRhZ3M6IHRhZ3MgfHwgW10sXG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IHRoaXMuX3N0YXJ0VHJhY2UocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5vblJldHJpZXZlclN0YXJ0Py4ocnVuKTtcbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlUmV0cmlldmVyRW5kKGRvY3VtZW50cywgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJyZXRyaWV2ZXJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmV0cmlldmVyIHJ1biB0byBlbmRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcnVuLm91dHB1dHMgPSB7IGRvY3VtZW50cyB9O1xuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJlbmRcIixcbiAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMub25SZXRyaWV2ZXJFbmQ/LihydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuICAgICAgICByZXR1cm4gcnVuO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVSZXRyaWV2ZXJFcnJvcihlcnJvciwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJyZXRyaWV2ZXJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmV0cmlldmVyIHJ1biB0byBlbmRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcnVuLmVycm9yID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiZXJyb3JcIixcbiAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMub25SZXRyaWV2ZXJFcnJvcj8uKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVRleHQodGV4dCwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJjaGFpblwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwidGV4dFwiLFxuICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAga3dhcmdzOiB7IHRleHQgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMub25UZXh0Py4ocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTExNTmV3VG9rZW4odG9rZW4sIGlkeCwgcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGZpZWxkcykge1xuICAgICAgICBjb25zdCBydW4gPSB0aGlzLnJ1bk1hcC5nZXQocnVuSWQpO1xuICAgICAgICBpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcImxsbVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgXCJydW5JZFwiIHByb3ZpZGVkIHRvIFwiaGFuZGxlTExNTmV3VG9rZW5cIiBjYWxsYmFjay5gKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJuZXdfdG9rZW5cIixcbiAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGt3YXJnczogeyB0b2tlbiwgaWR4LCBjaHVuazogZmllbGRzPy5jaHVuayB9LFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5vbkxMTU5ld1Rva2VuPy4ocnVuLCB0b2tlbik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxufVxuIiwiaW1wb3J0IHN0eWxlcyBmcm9tIFwiYW5zaS1zdHlsZXNcIjtcbmltcG9ydCB7IEJhc2VUcmFjZXIgfSBmcm9tIFwiLi90cmFjZXIuanNcIjtcbmZ1bmN0aW9uIHdyYXAoc3R5bGUsIHRleHQpIHtcbiAgICByZXR1cm4gYCR7c3R5bGUub3Blbn0ke3RleHR9JHtzdHlsZS5jbG9zZX1gO1xufVxuZnVuY3Rpb24gdHJ5SnNvblN0cmluZ2lmeShvYmosIGZhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVsYXBzZWQocnVuKSB7XG4gICAgaWYgKCFydW4uZW5kX3RpbWUpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIGNvbnN0IGVsYXBzZWQgPSBydW4uZW5kX3RpbWUgLSBydW4uc3RhcnRfdGltZTtcbiAgICBpZiAoZWxhcHNlZCA8IDEwMDApIHtcbiAgICAgICAgcmV0dXJuIGAke2VsYXBzZWR9bXNgO1xuICAgIH1cbiAgICByZXR1cm4gYCR7KGVsYXBzZWQgLyAxMDAwKS50b0ZpeGVkKDIpfXNgO1xufVxuY29uc3QgeyBjb2xvciB9ID0gc3R5bGVzO1xuLyoqXG4gKiBBIHRyYWNlciB0aGF0IGxvZ3MgYWxsIGV2ZW50cyB0byB0aGUgY29uc29sZS4gSXQgZXh0ZW5kcyBmcm9tIHRoZVxuICogYEJhc2VUcmFjZXJgIGNsYXNzIGFuZCBvdmVycmlkZXMgaXRzIG1ldGhvZHMgdG8gcHJvdmlkZSBjdXN0b20gbG9nZ2luZ1xuICogZnVuY3Rpb25hbGl0eS5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbnNvbGVDYWxsYmFja0hhbmRsZXIgZXh0ZW5kcyBCYXNlVHJhY2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJjb25zb2xlX2NhbGxiYWNrX2hhbmRsZXJcIlxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gcGVyc2lzdCB0aGUgcnVuLiBJbiB0aGlzIGNhc2UsIGl0IHNpbXBseSByZXR1cm5zIGFcbiAgICAgKiByZXNvbHZlZCBwcm9taXNlIGFzIHRoZXJlJ3Mgbm8gcGVyc2lzdGVuY2UgbG9naWMuXG4gICAgICogQHBhcmFtIF9ydW4gVGhlIHJ1biB0byBwZXJzaXN0LlxuICAgICAqIEByZXR1cm5zIEEgcmVzb2x2ZWQgcHJvbWlzZS5cbiAgICAgKi9cbiAgICBwZXJzaXN0UnVuKF9ydW4pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICAvLyB1dGlsaXR5IG1ldGhvZHNcbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBnZXQgYWxsIHRoZSBwYXJlbnQgcnVucyBvZiBhIGdpdmVuIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBydW4gd2hvc2UgcGFyZW50cyBhcmUgdG8gYmUgcmV0cmlldmVkLlxuICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHBhcmVudCBydW5zLlxuICAgICAqL1xuICAgIGdldFBhcmVudHMocnVuKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudHMgPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnRSdW4gPSBydW47XG4gICAgICAgIHdoaWxlIChjdXJyZW50UnVuLnBhcmVudF9ydW5faWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucnVuTWFwLmdldChjdXJyZW50UnVuLnBhcmVudF9ydW5faWQpO1xuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIHBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRSdW4gPSBwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyZW50cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gZ2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBydW4ncyBsaW5lYWdlLCB3aGljaFxuICAgICAqIGlzIHVzZWQgaW4gbG9nZ2luZy5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBydW4gd2hvc2UgbGluZWFnZSBpcyB0byBiZSByZXRyaWV2ZWQuXG4gICAgICogQHJldHVybnMgQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJ1bidzIGxpbmVhZ2UuXG4gICAgICovXG4gICAgZ2V0QnJlYWRjcnVtYnMocnVuKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudHMgPSB0aGlzLmdldFBhcmVudHMocnVuKS5yZXZlcnNlKCk7XG4gICAgICAgIGNvbnN0IHN0cmluZyA9IFsuLi5wYXJlbnRzLCBydW5dXG4gICAgICAgICAgICAubWFwKChwYXJlbnQsIGksIGFycikgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke3BhcmVudC5leGVjdXRpb25fb3JkZXJ9OiR7cGFyZW50LnJ1bl90eXBlfToke3BhcmVudC5uYW1lfWA7XG4gICAgICAgICAgICByZXR1cm4gaSA9PT0gYXJyLmxlbmd0aCAtIDEgPyB3cmFwKHN0eWxlcy5ib2xkLCBuYW1lKSA6IG5hbWU7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbihcIiA+IFwiKTtcbiAgICAgICAgcmV0dXJuIHdyYXAoY29sb3IuZ3JleSwgc3RyaW5nKTtcbiAgICB9XG4gICAgLy8gbG9nZ2luZyBtZXRob2RzXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBzdGFydCBvZiBhIGNoYWluIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBjaGFpbiBydW4gdGhhdCBoYXMgc3RhcnRlZC5cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgb25DaGFpblN0YXJ0KHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW2NoYWluL3N0YXJ0XVwiKX0gWyR7Y3J1bWJzfV0gRW50ZXJpbmcgQ2hhaW4gcnVuIHdpdGggaW5wdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uaW5wdXRzLCBcIltpbnB1dHNdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIGVuZCBvZiBhIGNoYWluIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBjaGFpbiBydW4gdGhhdCBoYXMgZW5kZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uQ2hhaW5FbmQocnVuKSB7XG4gICAgICAgIGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcbiAgICAgICAgY29uc29sZS5sb2coYCR7d3JhcChjb2xvci5jeWFuLCBcIltjaGFpbi9lbmRdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBFeGl0aW5nIENoYWluIHJ1biB3aXRoIG91dHB1dDogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5vdXRwdXRzLCBcIltvdXRwdXRzXVwiKX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gbG9nIGFueSBlcnJvcnMgb2YgYSBjaGFpbiBydW4uXG4gICAgICogQHBhcmFtIHJ1biBUaGUgY2hhaW4gcnVuIHRoYXQgaGFzIGVycm9yZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uQ2hhaW5FcnJvcihydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLnJlZCwgXCJbY2hhaW4vZXJyb3JdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBDaGFpbiBydW4gZXJyb3JlZCB3aXRoIGVycm9yOiAke3RyeUpzb25TdHJpbmdpZnkocnVuLmVycm9yLCBcIltlcnJvcl1cIil9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgc3RhcnQgb2YgYW4gTExNIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBMTE0gcnVuIHRoYXQgaGFzIHN0YXJ0ZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uTExNU3RhcnQocnVuKSB7XG4gICAgICAgIGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcbiAgICAgICAgY29uc3QgaW5wdXRzID0gXCJwcm9tcHRzXCIgaW4gcnVuLmlucHV0c1xuICAgICAgICAgICAgPyB7IHByb21wdHM6IHJ1bi5pbnB1dHMucHJvbXB0cy5tYXAoKHApID0+IHAudHJpbSgpKSB9XG4gICAgICAgICAgICA6IHJ1bi5pbnB1dHM7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW2xsbS9zdGFydF1cIil9IFske2NydW1ic31dIEVudGVyaW5nIExMTSBydW4gd2l0aCBpbnB1dDogJHt0cnlKc29uU3RyaW5naWZ5KGlucHV0cywgXCJbaW5wdXRzXVwiKX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBlbmQgb2YgYW4gTExNIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBMTE0gcnVuIHRoYXQgaGFzIGVuZGVkLlxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBvbkxMTUVuZChydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmN5YW4sIFwiW2xsbS9lbmRdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBFeGl0aW5nIExMTSBydW4gd2l0aCBvdXRwdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4ub3V0cHV0cywgXCJbcmVzcG9uc2VdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgYW55IGVycm9ycyBvZiBhbiBMTE0gcnVuLlxuICAgICAqIEBwYXJhbSBydW4gVGhlIExMTSBydW4gdGhhdCBoYXMgZXJyb3JlZC5cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgb25MTE1FcnJvcihydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLnJlZCwgXCJbbGxtL2Vycm9yXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gTExNIHJ1biBlcnJvcmVkIHdpdGggZXJyb3I6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uZXJyb3IsIFwiW2Vycm9yXVwiKX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBzdGFydCBvZiBhIHRvb2wgcnVuLlxuICAgICAqIEBwYXJhbSBydW4gVGhlIHRvb2wgcnVuIHRoYXQgaGFzIHN0YXJ0ZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uVG9vbFN0YXJ0KHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW3Rvb2wvc3RhcnRdXCIpfSBbJHtjcnVtYnN9XSBFbnRlcmluZyBUb29sIHJ1biB3aXRoIGlucHV0OiBcIiR7cnVuLmlucHV0cy5pbnB1dD8udHJpbSgpfVwiYCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgZW5kIG9mIGEgdG9vbCBydW4uXG4gICAgICogQHBhcmFtIHJ1biBUaGUgdG9vbCBydW4gdGhhdCBoYXMgZW5kZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uVG9vbEVuZChydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmN5YW4sIFwiW3Rvb2wvZW5kXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gRXhpdGluZyBUb29sIHJ1biB3aXRoIG91dHB1dDogXCIke3J1bi5vdXRwdXRzPy5vdXRwdXQ/LnRyaW0oKX1cImApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgYW55IGVycm9ycyBvZiBhIHRvb2wgcnVuLlxuICAgICAqIEBwYXJhbSBydW4gVGhlIHRvb2wgcnVuIHRoYXQgaGFzIGVycm9yZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uVG9vbEVycm9yKHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IucmVkLCBcIlt0b29sL2Vycm9yXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gVG9vbCBydW4gZXJyb3JlZCB3aXRoIGVycm9yOiAke3RyeUpzb25TdHJpbmdpZnkocnVuLmVycm9yLCBcIltlcnJvcl1cIil9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgc3RhcnQgb2YgYSByZXRyaWV2ZXIgcnVuLlxuICAgICAqIEBwYXJhbSBydW4gVGhlIHJldHJpZXZlciBydW4gdGhhdCBoYXMgc3RhcnRlZC5cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgb25SZXRyaWV2ZXJTdGFydChydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmdyZWVuLCBcIltyZXRyaWV2ZXIvc3RhcnRdXCIpfSBbJHtjcnVtYnN9XSBFbnRlcmluZyBSZXRyaWV2ZXIgcnVuIHdpdGggaW5wdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uaW5wdXRzLCBcIltpbnB1dHNdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIGVuZCBvZiBhIHJldHJpZXZlciBydW4uXG4gICAgICogQHBhcmFtIHJ1biBUaGUgcmV0cmlldmVyIHJ1biB0aGF0IGhhcyBlbmRlZC5cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgb25SZXRyaWV2ZXJFbmQocnVuKSB7XG4gICAgICAgIGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcbiAgICAgICAgY29uc29sZS5sb2coYCR7d3JhcChjb2xvci5jeWFuLCBcIltyZXRyaWV2ZXIvZW5kXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gRXhpdGluZyBSZXRyaWV2ZXIgcnVuIHdpdGggb3V0cHV0OiAke3RyeUpzb25TdHJpbmdpZnkocnVuLm91dHB1dHMsIFwiW291dHB1dHNdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgYW55IGVycm9ycyBvZiBhIHJldHJpZXZlciBydW4uXG4gICAgICogQHBhcmFtIHJ1biBUaGUgcmV0cmlldmVyIHJ1biB0aGF0IGhhcyBlcnJvcmVkLlxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBvblJldHJpZXZlckVycm9yKHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IucmVkLCBcIltyZXRyaWV2ZXIvZXJyb3JdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBSZXRyaWV2ZXIgcnVuIGVycm9yZWQgd2l0aCBlcnJvcjogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5lcnJvciwgXCJbZXJyb3JdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIGFjdGlvbiBzZWxlY3RlZCBieSB0aGUgYWdlbnQuXG4gICAgICogQHBhcmFtIHJ1biBUaGUgcnVuIGluIHdoaWNoIHRoZSBhZ2VudCBhY3Rpb24gb2NjdXJyZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uQWdlbnRBY3Rpb24ocnVuKSB7XG4gICAgICAgIGNvbnN0IGFnZW50UnVuID0gcnVuO1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuYmx1ZSwgXCJbYWdlbnQvYWN0aW9uXVwiKX0gWyR7Y3J1bWJzfV0gQWdlbnQgc2VsZWN0ZWQgYWN0aW9uOiAke3RyeUpzb25TdHJpbmdpZnkoYWdlbnRSdW4uYWN0aW9uc1thZ2VudFJ1bi5hY3Rpb25zLmxlbmd0aCAtIDFdLCBcIlthY3Rpb25dXCIpfWApO1xuICAgIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gKHByb21pc2UsIG9uRmluYWxseSkgPT4ge1xuXHRvbkZpbmFsbHkgPSBvbkZpbmFsbHkgfHwgKCgpID0+IHt9KTtcblxuXHRyZXR1cm4gcHJvbWlzZS50aGVuKFxuXHRcdHZhbCA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcblx0XHRcdHJlc29sdmUob25GaW5hbGx5KCkpO1xuXHRcdH0pLnRoZW4oKCkgPT4gdmFsKSxcblx0XHRlcnIgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdFx0XHRyZXNvbHZlKG9uRmluYWxseSgpKTtcblx0XHR9KS50aGVuKCgpID0+IHtcblx0XHRcdHRocm93IGVycjtcblx0XHR9KVxuXHQpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcEZpbmFsbHkgPSByZXF1aXJlKCdwLWZpbmFsbHknKTtcblxuY2xhc3MgVGltZW91dEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG5cdFx0c3VwZXIobWVzc2FnZSk7XG5cdFx0dGhpcy5uYW1lID0gJ1RpbWVvdXRFcnJvcic7XG5cdH1cbn1cblxuY29uc3QgcFRpbWVvdXQgPSAocHJvbWlzZSwgbWlsbGlzZWNvbmRzLCBmYWxsYmFjaykgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRpZiAodHlwZW9mIG1pbGxpc2Vjb25kcyAhPT0gJ251bWJlcicgfHwgbWlsbGlzZWNvbmRzIDwgMCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGBtaWxsaXNlY29uZHNgIHRvIGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG5cdH1cblxuXHRpZiAobWlsbGlzZWNvbmRzID09PSBJbmZpbml0eSkge1xuXHRcdHJlc29sdmUocHJvbWlzZSk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRpZiAodHlwZW9mIGZhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXNvbHZlKGZhbGxiYWNrKCkpO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IG1lc3NhZ2UgPSB0eXBlb2YgZmFsbGJhY2sgPT09ICdzdHJpbmcnID8gZmFsbGJhY2sgOiBgUHJvbWlzZSB0aW1lZCBvdXQgYWZ0ZXIgJHttaWxsaXNlY29uZHN9IG1pbGxpc2Vjb25kc2A7XG5cdFx0Y29uc3QgdGltZW91dEVycm9yID0gZmFsbGJhY2sgaW5zdGFuY2VvZiBFcnJvciA/IGZhbGxiYWNrIDogbmV3IFRpbWVvdXRFcnJvcihtZXNzYWdlKTtcblxuXHRcdGlmICh0eXBlb2YgcHJvbWlzZS5jYW5jZWwgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHByb21pc2UuY2FuY2VsKCk7XG5cdFx0fVxuXG5cdFx0cmVqZWN0KHRpbWVvdXRFcnJvcik7XG5cdH0sIG1pbGxpc2Vjb25kcyk7XG5cblx0Ly8gVE9ETzogVXNlIG5hdGl2ZSBgZmluYWxseWAga2V5d29yZCB3aGVuIHRhcmdldGluZyBOb2RlLmpzIDEwXG5cdHBGaW5hbGx5KFxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcm9taXNlL3ByZWZlci1hd2FpdC10by10aGVuXG5cdFx0cHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCksXG5cdFx0KCkgPT4ge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVyKTtcblx0XHR9XG5cdCk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwVGltZW91dDtcbi8vIFRPRE86IFJlbW92ZSB0aGlzIGZvciB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gcFRpbWVvdXQ7XG5cbm1vZHVsZS5leHBvcnRzLlRpbWVvdXRFcnJvciA9IFRpbWVvdXRFcnJvcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gUG9ydCBvZiBsb3dlcl9ib3VuZCBmcm9tIGh0dHBzOi8vZW4uY3BwcmVmZXJlbmNlLmNvbS93L2NwcC9hbGdvcml0aG0vbG93ZXJfYm91bmRcbi8vIFVzZWQgdG8gY29tcHV0ZSBpbnNlcnRpb24gaW5kZXggdG8ga2VlcCBxdWV1ZSBzb3J0ZWQgYWZ0ZXIgaW5zZXJ0aW9uXG5mdW5jdGlvbiBsb3dlckJvdW5kKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIGxldCBmaXJzdCA9IDA7XG4gICAgbGV0IGNvdW50ID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlIChjb3VudCA+IDApIHtcbiAgICAgICAgY29uc3Qgc3RlcCA9IChjb3VudCAvIDIpIHwgMDtcbiAgICAgICAgbGV0IGl0ID0gZmlyc3QgKyBzdGVwO1xuICAgICAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpdF0sIHZhbHVlKSA8PSAwKSB7XG4gICAgICAgICAgICBmaXJzdCA9ICsraXQ7XG4gICAgICAgICAgICBjb3VudCAtPSBzdGVwICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvdW50ID0gc3RlcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmlyc3Q7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBsb3dlckJvdW5kO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBsb3dlcl9ib3VuZF8xID0gcmVxdWlyZShcIi4vbG93ZXItYm91bmRcIik7XG5jbGFzcyBQcmlvcml0eVF1ZXVlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTtcbiAgICB9XG4gICAgZW5xdWV1ZShydW4sIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBwcmlvcml0eTogMCB9LCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHtcbiAgICAgICAgICAgIHByaW9yaXR5OiBvcHRpb25zLnByaW9yaXR5LFxuICAgICAgICAgICAgcnVuXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnNpemUgJiYgdGhpcy5fcXVldWVbdGhpcy5zaXplIC0gMV0ucHJpb3JpdHkgPj0gb3B0aW9ucy5wcmlvcml0eSkge1xuICAgICAgICAgICAgdGhpcy5fcXVldWUucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleCA9IGxvd2VyX2JvdW5kXzEuZGVmYXVsdCh0aGlzLl9xdWV1ZSwgZWxlbWVudCwgKGEsIGIpID0+IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5KTtcbiAgICAgICAgdGhpcy5fcXVldWUuc3BsaWNlKGluZGV4LCAwLCBlbGVtZW50KTtcbiAgICB9XG4gICAgZGVxdWV1ZSgpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIHJldHVybiBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0ucnVuO1xuICAgIH1cbiAgICBmaWx0ZXIob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUuZmlsdGVyKChlbGVtZW50KSA9PiBlbGVtZW50LnByaW9yaXR5ID09PSBvcHRpb25zLnByaW9yaXR5KS5tYXAoKGVsZW1lbnQpID0+IGVsZW1lbnQucnVuKTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5sZW5ndGg7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gUHJpb3JpdHlRdWV1ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50ZW1pdHRlcjNcIik7XG5jb25zdCBwX3RpbWVvdXRfMSA9IHJlcXVpcmUoXCJwLXRpbWVvdXRcIik7XG5jb25zdCBwcmlvcml0eV9xdWV1ZV8xID0gcmVxdWlyZShcIi4vcHJpb3JpdHktcXVldWVcIik7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG5jb25zdCBlbXB0eSA9ICgpID0+IHsgfTtcbmNvbnN0IHRpbWVvdXRFcnJvciA9IG5ldyBwX3RpbWVvdXRfMS5UaW1lb3V0RXJyb3IoKTtcbi8qKlxuUHJvbWlzZSBxdWV1ZSB3aXRoIGNvbmN1cnJlbmN5IGNvbnRyb2wuXG4qL1xuY2xhc3MgUFF1ZXVlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWxDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX2ludGVydmFsRW5kID0gMDtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUVtcHR5ID0gZW1wdHk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVJZGxlID0gZW1wdHk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBjYXJyeW92ZXJDb25jdXJyZW5jeUNvdW50OiBmYWxzZSwgaW50ZXJ2YWxDYXA6IEluZmluaXR5LCBpbnRlcnZhbDogMCwgY29uY3VycmVuY3k6IEluZmluaXR5LCBhdXRvU3RhcnQ6IHRydWUsIHF1ZXVlQ2xhc3M6IHByaW9yaXR5X3F1ZXVlXzEuZGVmYXVsdCB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCEodHlwZW9mIG9wdGlvbnMuaW50ZXJ2YWxDYXAgPT09ICdudW1iZXInICYmIG9wdGlvbnMuaW50ZXJ2YWxDYXAgPj0gMSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFxcYGludGVydmFsQ2FwXFxgIHRvIGJlIGEgbnVtYmVyIGZyb20gMSBhbmQgdXAsIGdvdCBcXGAkeyhfYiA9IChfYSA9IG9wdGlvbnMuaW50ZXJ2YWxDYXApID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b1N0cmluZygpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJ31cXGAgKCR7dHlwZW9mIG9wdGlvbnMuaW50ZXJ2YWxDYXB9KWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmludGVydmFsID09PSB1bmRlZmluZWQgfHwgIShOdW1iZXIuaXNGaW5pdGUob3B0aW9ucy5pbnRlcnZhbCkgJiYgb3B0aW9ucy5pbnRlcnZhbCA+PSAwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgXFxgaW50ZXJ2YWxcXGAgdG8gYmUgYSBmaW5pdGUgbnVtYmVyID49IDAsIGdvdCBcXGAkeyhfZCA9IChfYyA9IG9wdGlvbnMuaW50ZXJ2YWwpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50b1N0cmluZygpKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAnJ31cXGAgKCR7dHlwZW9mIG9wdGlvbnMuaW50ZXJ2YWx9KWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQgPSBvcHRpb25zLmNhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQ7XG4gICAgICAgIHRoaXMuX2lzSW50ZXJ2YWxJZ25vcmVkID0gb3B0aW9ucy5pbnRlcnZhbENhcCA9PT0gSW5maW5pdHkgfHwgb3B0aW9ucy5pbnRlcnZhbCA9PT0gMDtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWxDYXAgPSBvcHRpb25zLmludGVydmFsQ2FwO1xuICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IG9wdGlvbnMuaW50ZXJ2YWw7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gbmV3IG9wdGlvbnMucXVldWVDbGFzcygpO1xuICAgICAgICB0aGlzLl9xdWV1ZUNsYXNzID0gb3B0aW9ucy5xdWV1ZUNsYXNzO1xuICAgICAgICB0aGlzLmNvbmN1cnJlbmN5ID0gb3B0aW9ucy5jb25jdXJyZW5jeTtcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IG9wdGlvbnMudGltZW91dDtcbiAgICAgICAgdGhpcy5fdGhyb3dPblRpbWVvdXQgPSBvcHRpb25zLnRocm93T25UaW1lb3V0ID09PSB0cnVlO1xuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IG9wdGlvbnMuYXV0b1N0YXJ0ID09PSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IF9kb2VzSW50ZXJ2YWxBbGxvd0Fub3RoZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0ludGVydmFsSWdub3JlZCB8fCB0aGlzLl9pbnRlcnZhbENvdW50IDwgdGhpcy5faW50ZXJ2YWxDYXA7XG4gICAgfVxuICAgIGdldCBfZG9lc0NvbmN1cnJlbnRBbGxvd0Fub3RoZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wZW5kaW5nQ291bnQgPCB0aGlzLl9jb25jdXJyZW5jeTtcbiAgICB9XG4gICAgX25leHQoKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdDb3VudC0tO1xuICAgICAgICB0aGlzLl90cnlUb1N0YXJ0QW5vdGhlcigpO1xuICAgICAgICB0aGlzLmVtaXQoJ25leHQnKTtcbiAgICB9XG4gICAgX3Jlc29sdmVQcm9taXNlcygpIHtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUVtcHR5KCk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVFbXB0eSA9IGVtcHR5O1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlSWRsZSgpO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUlkbGUgPSBlbXB0eTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnaWRsZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9vblJlc3VtZUludGVydmFsKCkge1xuICAgICAgICB0aGlzLl9vbkludGVydmFsKCk7XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVJbnRlcnZhbElmTmVlZGVkKCk7XG4gICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgX2lzSW50ZXJ2YWxQYXVzZWQoKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGlmICh0aGlzLl9pbnRlcnZhbElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5faW50ZXJ2YWxFbmQgLSBub3c7XG4gICAgICAgICAgICBpZiAoZGVsYXkgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gQWN0IGFzIHRoZSBpbnRlcnZhbCB3YXMgZG9uZVxuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gcmVzdW1lIGl0IGhlcmUgYmVjYXVzZSBpdCB3aWxsIGJlIHJlc3VtZWQgb24gbGluZSAxNjBcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcnZhbENvdW50ID0gKHRoaXMuX2NhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQpID8gdGhpcy5fcGVuZGluZ0NvdW50IDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFjdCBhcyB0aGUgaW50ZXJ2YWwgaXMgcGVuZGluZ1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90aW1lb3V0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uUmVzdW1lSW50ZXJ2YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIF90cnlUb1N0YXJ0QW5vdGhlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3F1ZXVlLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIC8vIFdlIGNhbiBjbGVhciB0aGUgaW50ZXJ2YWwgKFwicGF1c2VcIilcbiAgICAgICAgICAgIC8vIEJlY2F1c2Ugd2UgY2FuIHJlZG8gaXQgbGF0ZXIgKFwicmVzdW1lXCIpXG4gICAgICAgICAgICBpZiAodGhpcy5faW50ZXJ2YWxJZCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbElkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZVByb21pc2VzKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgICAgICAgY29uc3QgY2FuSW5pdGlhbGl6ZUludGVydmFsID0gIXRoaXMuX2lzSW50ZXJ2YWxQYXVzZWQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kb2VzSW50ZXJ2YWxBbGxvd0Fub3RoZXIgJiYgdGhpcy5fZG9lc0NvbmN1cnJlbnRBbGxvd0Fub3RoZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBqb2IgPSB0aGlzLl9xdWV1ZS5kZXF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFqb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIGpvYigpO1xuICAgICAgICAgICAgICAgIGlmIChjYW5Jbml0aWFsaXplSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZUludGVydmFsSWZOZWVkZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBfaW5pdGlhbGl6ZUludGVydmFsSWZOZWVkZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0ludGVydmFsSWdub3JlZCB8fCB0aGlzLl9pbnRlcnZhbElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25JbnRlcnZhbCgpO1xuICAgICAgICB9LCB0aGlzLl9pbnRlcnZhbCk7XG4gICAgICAgIHRoaXMuX2ludGVydmFsRW5kID0gRGF0ZS5ub3coKSArIHRoaXMuX2ludGVydmFsO1xuICAgIH1cbiAgICBfb25JbnRlcnZhbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2ludGVydmFsQ291bnQgPT09IDAgJiYgdGhpcy5fcGVuZGluZ0NvdW50ID09PSAwICYmIHRoaXMuX2ludGVydmFsSWQpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbElkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludGVydmFsQ291bnQgPSB0aGlzLl9jYXJyeW92ZXJDb25jdXJyZW5jeUNvdW50ID8gdGhpcy5fcGVuZGluZ0NvdW50IDogMDtcbiAgICAgICAgdGhpcy5fcHJvY2Vzc1F1ZXVlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEV4ZWN1dGVzIGFsbCBxdWV1ZWQgZnVuY3Rpb25zIHVudGlsIGl0IHJlYWNoZXMgdGhlIGxpbWl0LlxuICAgICovXG4gICAgX3Byb2Nlc3NRdWV1ZSgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgICAgIHdoaWxlICh0aGlzLl90cnlUb1N0YXJ0QW5vdGhlcigpKSB7IH1cbiAgICB9XG4gICAgZ2V0IGNvbmN1cnJlbmN5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uY3VycmVuY3k7XG4gICAgfVxuICAgIHNldCBjb25jdXJyZW5jeShuZXdDb25jdXJyZW5jeSkge1xuICAgICAgICBpZiAoISh0eXBlb2YgbmV3Q29uY3VycmVuY3kgPT09ICdudW1iZXInICYmIG5ld0NvbmN1cnJlbmN5ID49IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBcXGBjb25jdXJyZW5jeVxcYCB0byBiZSBhIG51bWJlciBmcm9tIDEgYW5kIHVwLCBnb3QgXFxgJHtuZXdDb25jdXJyZW5jeX1cXGAgKCR7dHlwZW9mIG5ld0NvbmN1cnJlbmN5fSlgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb25jdXJyZW5jeSA9IG5ld0NvbmN1cnJlbmN5O1xuICAgICAgICB0aGlzLl9wcm9jZXNzUXVldWUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQWRkcyBhIHN5bmMgb3IgYXN5bmMgdGFzayB0byB0aGUgcXVldWUuIEFsd2F5cyByZXR1cm5zIGEgcHJvbWlzZS5cbiAgICAqL1xuICAgIGFzeW5jIGFkZChmbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBydW4gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50Kys7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWxDb3VudCsrO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9ICh0aGlzLl90aW1lb3V0ID09PSB1bmRlZmluZWQgJiYgb3B0aW9ucy50aW1lb3V0ID09PSB1bmRlZmluZWQpID8gZm4oKSA6IHBfdGltZW91dF8xLmRlZmF1bHQoUHJvbWlzZS5yZXNvbHZlKGZuKCkpLCAob3B0aW9ucy50aW1lb3V0ID09PSB1bmRlZmluZWQgPyB0aGlzLl90aW1lb3V0IDogb3B0aW9ucy50aW1lb3V0KSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudGhyb3dPblRpbWVvdXQgPT09IHVuZGVmaW5lZCA/IHRoaXMuX3Rocm93T25UaW1lb3V0IDogb3B0aW9ucy50aHJvd09uVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh0aW1lb3V0RXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYXdhaXQgb3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX25leHQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9xdWV1ZS5lbnF1ZXVlKHJ1biwgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl90cnlUb1N0YXJ0QW5vdGhlcigpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdhZGQnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFNhbWUgYXMgYC5hZGQoKWAsIGJ1dCBhY2NlcHRzIGFuIGFycmF5IG9mIHN5bmMgb3IgYXN5bmMgZnVuY3Rpb25zLlxuXG4gICAgQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBhbGwgZnVuY3Rpb25zIGFyZSByZXNvbHZlZC5cbiAgICAqL1xuICAgIGFzeW5jIGFkZEFsbChmdW5jdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGZ1bmN0aW9ucy5tYXAoYXN5bmMgKGZ1bmN0aW9uXykgPT4gdGhpcy5hZGQoZnVuY3Rpb25fLCBvcHRpb25zKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBTdGFydCAob3IgcmVzdW1lKSBleGVjdXRpbmcgZW5xdWV1ZWQgdGFza3Mgd2l0aGluIGNvbmN1cnJlbmN5IGxpbWl0LiBObyBuZWVkIHRvIGNhbGwgdGhpcyBpZiBxdWV1ZSBpcyBub3QgcGF1c2VkICh2aWEgYG9wdGlvbnMuYXV0b1N0YXJ0ID0gZmFsc2VgIG9yIGJ5IGAucGF1c2UoKWAgbWV0aG9kLilcbiAgICAqL1xuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wcm9jZXNzUXVldWUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgIFB1dCBxdWV1ZSBleGVjdXRpb24gb24gaG9sZC5cbiAgICAqL1xuICAgIHBhdXNlKCkge1xuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgIENsZWFyIHRoZSBxdWV1ZS5cbiAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9xdWV1ZSA9IG5ldyB0aGlzLl9xdWV1ZUNsYXNzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMuIFVzZWZ1bCBpZiB5b3UgZm9yIGV4YW1wbGUgYWRkIGFkZGl0aW9uYWwgaXRlbXMgYXQgYSBsYXRlciB0aW1lLlxuXG4gICAgQHJldHVybnMgQSBwcm9taXNlIHRoYXQgc2V0dGxlcyB3aGVuIHRoZSBxdWV1ZSBiZWNvbWVzIGVtcHR5LlxuICAgICovXG4gICAgYXN5bmMgb25FbXB0eSgpIHtcbiAgICAgICAgLy8gSW5zdGFudGx5IHJlc29sdmUgaWYgdGhlIHF1ZXVlIGlzIGVtcHR5XG4gICAgICAgIGlmICh0aGlzLl9xdWV1ZS5zaXplID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdSZXNvbHZlID0gdGhpcy5fcmVzb2x2ZUVtcHR5O1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUVtcHR5ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nUmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgZGlmZmVyZW5jZSB3aXRoIGAub25FbXB0eWAgaXMgdGhhdCBgLm9uSWRsZWAgZ3VhcmFudGVlcyB0aGF0IGFsbCB3b3JrIGZyb20gdGhlIHF1ZXVlIGhhcyBmaW5pc2hlZC4gYC5vbkVtcHR5YCBtZXJlbHkgc2lnbmFscyB0aGF0IHRoZSBxdWV1ZSBpcyBlbXB0eSwgYnV0IGl0IGNvdWxkIG1lYW4gdGhhdCBzb21lIHByb21pc2VzIGhhdmVuJ3QgY29tcGxldGVkIHlldC5cblxuICAgIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHNldHRsZXMgd2hlbiB0aGUgcXVldWUgYmVjb21lcyBlbXB0eSwgYW5kIGFsbCBwcm9taXNlcyBoYXZlIGNvbXBsZXRlZDsgYHF1ZXVlLnNpemUgPT09IDAgJiYgcXVldWUucGVuZGluZyA9PT0gMGAuXG4gICAgKi9cbiAgICBhc3luYyBvbklkbGUoKSB7XG4gICAgICAgIC8vIEluc3RhbnRseSByZXNvbHZlIGlmIG5vbmUgcGVuZGluZyBhbmQgaWYgbm90aGluZyBlbHNlIGlzIHF1ZXVlZFxuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0NvdW50ID09PSAwICYmIHRoaXMuX3F1ZXVlLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1Jlc29sdmUgPSB0aGlzLl9yZXNvbHZlSWRsZTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVJZGxlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nUmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBTaXplIG9mIHRoZSBxdWV1ZS5cbiAgICAqL1xuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUuc2l6ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgU2l6ZSBvZiB0aGUgcXVldWUsIGZpbHRlcmVkIGJ5IHRoZSBnaXZlbiBvcHRpb25zLlxuXG4gICAgRm9yIGV4YW1wbGUsIHRoaXMgY2FuIGJlIHVzZWQgdG8gZmluZCB0aGUgbnVtYmVyIG9mIGl0ZW1zIHJlbWFpbmluZyBpbiB0aGUgcXVldWUgd2l0aCBhIHNwZWNpZmljIHByaW9yaXR5IGxldmVsLlxuICAgICovXG4gICAgc2l6ZUJ5KG9wdGlvbnMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vbm8tZm4tcmVmZXJlbmNlLWluLWl0ZXJhdG9yXG4gICAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5maWx0ZXIob3B0aW9ucykubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICBOdW1iZXIgb2YgcGVuZGluZyBwcm9taXNlcy5cbiAgICAqL1xuICAgIGdldCBwZW5kaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICBXaGV0aGVyIHRoZSBxdWV1ZSBpcyBjdXJyZW50bHkgcGF1c2VkLlxuICAgICovXG4gICAgZ2V0IGlzUGF1c2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNQYXVzZWQ7XG4gICAgfVxuICAgIGdldCB0aW1lb3V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGltZW91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgU2V0IHRoZSB0aW1lb3V0IGZvciBmdXR1cmUgb3BlcmF0aW9ucy5cbiAgICAqL1xuICAgIHNldCB0aW1lb3V0KG1pbGxpc2Vjb25kcykge1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gbWlsbGlzZWNvbmRzO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFBRdWV1ZTtcbiIsImltcG9ydCBwUmV0cnkgZnJvbSBcInAtcmV0cnlcIjtcbmltcG9ydCBQUXVldWVNb2QgZnJvbSBcInAtcXVldWVcIjtcbmNvbnN0IFNUQVRVU19OT19SRVRSWSA9IFtcbiAgICA0MDAsXG4gICAgNDAxLFxuICAgIDQwMyxcbiAgICA0MDQsXG4gICAgNDA1LFxuICAgIDQwNixcbiAgICA0MDcsXG4gICAgNDA4LFxuICAgIDQwOSwgLy8gQ29uZmxpY3Rcbl07XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBjYW4gYmUgdXNlZCB0byBtYWtlIGFzeW5jIGNhbGxzIHdpdGggY29uY3VycmVuY3kgYW5kIHJldHJ5IGxvZ2ljLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGZvciBtYWtpbmcgY2FsbHMgdG8gYW55IGtpbmQgb2YgXCJleHBlbnNpdmVcIiBleHRlcm5hbCByZXNvdXJjZSxcbiAqIGJlIGl0IGJlY2F1c2UgaXQncyByYXRlLWxpbWl0ZWQsIHN1YmplY3QgdG8gbmV0d29yayBpc3N1ZXMsIGV0Yy5cbiAqXG4gKiBDb25jdXJyZW50IGNhbGxzIGFyZSBsaW1pdGVkIGJ5IHRoZSBgbWF4Q29uY3VycmVuY3lgIHBhcmFtZXRlciwgd2hpY2ggZGVmYXVsdHNcbiAqIHRvIGBJbmZpbml0eWAuIFRoaXMgbWVhbnMgdGhhdCBieSBkZWZhdWx0LCBhbGwgY2FsbHMgd2lsbCBiZSBtYWRlIGluIHBhcmFsbGVsLlxuICpcbiAqIFJldHJpZXMgYXJlIGxpbWl0ZWQgYnkgdGhlIGBtYXhSZXRyaWVzYCBwYXJhbWV0ZXIsIHdoaWNoIGRlZmF1bHRzIHRvIDYuIFRoaXNcbiAqIG1lYW5zIHRoYXQgYnkgZGVmYXVsdCwgZWFjaCBjYWxsIHdpbGwgYmUgcmV0cmllZCB1cCB0byA2IHRpbWVzLCB3aXRoIGFuXG4gKiBleHBvbmVudGlhbCBiYWNrb2ZmIGJldHdlZW4gZWFjaCBhdHRlbXB0LlxuICovXG5leHBvcnQgY2xhc3MgQXN5bmNDYWxsZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhDb25jdXJyZW5jeVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhSZXRyaWVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInF1ZXVlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWF4Q29uY3VycmVuY3kgPSBwYXJhbXMubWF4Q29uY3VycmVuY3kgPz8gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4UmV0cmllcyA9IHBhcmFtcy5tYXhSZXRyaWVzID8/IDY7XG4gICAgICAgIGNvbnN0IFBRdWV1ZSA9IFwiZGVmYXVsdFwiIGluIFBRdWV1ZU1vZCA/IFBRdWV1ZU1vZC5kZWZhdWx0IDogUFF1ZXVlTW9kO1xuICAgICAgICB0aGlzLnF1ZXVlID0gbmV3IFBRdWV1ZSh7IGNvbmN1cnJlbmN5OiB0aGlzLm1heENvbmN1cnJlbmN5IH0pO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNhbGwoY2FsbGFibGUsIC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVldWUuYWRkKCgpID0+IHBSZXRyeSgoKSA9PiBjYWxsYWJsZSguLi5hcmdzKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSwge1xuICAgICAgICAgICAgb25GYWlsZWRBdHRlbXB0KGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aChcIkNhbmNlbFwiKSB8fFxuICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJUaW1lb3V0RXJyb3JcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZS5zdGFydHNXaXRoKFwiQWJvcnRFcnJvclwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3I/LmNvZGUgPT09IFwiRUNPTk5BQk9SVEVEXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gZXJyb3I/LnJlc3BvbnNlPy5zdGF0dXM7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyAmJiBTVEFUVVNfTk9fUkVUUlkuaW5jbHVkZXMoK3N0YXR1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJldHJpZXM6IHRoaXMubWF4UmV0cmllcyxcbiAgICAgICAgICAgIHJhbmRvbWl6ZTogdHJ1ZSxcbiAgICAgICAgICAgIC8vIElmIG5lZWRlZCB3ZSBjYW4gY2hhbmdlIHNvbWUgb2YgdGhlIGRlZmF1bHRzIGhlcmUsXG4gICAgICAgICAgICAvLyBidXQgdGhleSdyZSBxdWl0ZSBzZW5zaWJsZS5cbiAgICAgICAgfSksIHsgdGhyb3dPblRpbWVvdXQ6IHRydWUgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY2FsbFdpdGhPcHRpb25zKG9wdGlvbnMsIGNhbGxhYmxlLCAuLi5hcmdzKSB7XG4gICAgICAgIC8vIE5vdGUgdGhpcyBkb2Vzbid0IGNhbmNlbCB0aGUgdW5kZXJseWluZyByZXF1ZXN0LFxuICAgICAgICAvLyB3aGVuIGF2YWlsYWJsZSBwcmVmZXIgdG8gdXNlIHRoZSBzaWduYWwgb3B0aW9uIG9mIHRoZSB1bmRlcmx5aW5nIGNhbGxcbiAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGwoY2FsbGFibGUsIC4uLmFyZ3MpLFxuICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zaWduYWw/LmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiQWJvcnRFcnJvclwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbChjYWxsYWJsZSwgLi4uYXJncyk7XG4gICAgfVxuICAgIGZldGNoKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgoKSA9PiBmZXRjaCguLi5hcmdzKS50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMgOiBQcm9taXNlLnJlamVjdChyZXMpKSkpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBpc0xhbmdDaGFpbk1lc3NhZ2UobWVzc2FnZSkge1xuICAgIHJldHVybiB0eXBlb2YgbWVzc2FnZT8uX2dldFR5cGUgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0TGFuZ0NoYWluTWVzc2FnZVRvRXhhbXBsZShtZXNzYWdlKSB7XG4gICAgY29uc3QgY29udmVydGVkID0ge1xuICAgICAgICB0eXBlOiBtZXNzYWdlLl9nZXRUeXBlKCksXG4gICAgICAgIGRhdGE6IHsgY29udGVudDogbWVzc2FnZS5jb250ZW50IH0sXG4gICAgfTtcbiAgICAvLyBDaGVjayBmb3IgcHJlc2VuY2Ugb2Yga2V5cyBpbiBhZGRpdGlvbmFsX2t3YXJnc1xuICAgIGlmIChtZXNzYWdlPy5hZGRpdGlvbmFsX2t3YXJncyAmJlxuICAgICAgICBPYmplY3Qua2V5cyhtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnZlcnRlZC5kYXRhLmFkZGl0aW9uYWxfa3dhcmdzID0geyAuLi5tZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzIH07XG4gICAgfVxuICAgIHJldHVybiBjb252ZXJ0ZWQ7XG59XG4iLCJleHBvcnQgY29uc3QgaXNCcm93c2VyID0gKCkgPT4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuZXhwb3J0IGNvbnN0IGlzV2ViV29ya2VyID0gKCkgPT4gdHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIgJiZcbiAgICBnbG9iYWxUaGlzLmNvbnN0cnVjdG9yICYmXG4gICAgZ2xvYmFsVGhpcy5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIkRlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlXCI7XG5leHBvcnQgY29uc3QgaXNKc0RvbSA9ICgpID0+ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5uYW1lID09PSBcIm5vZGVqc1wiKSB8fFxuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIChuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwiTm9kZS5qc1wiKSB8fFxuICAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcyhcImpzZG9tXCIpKSk7XG4vLyBTdXBhYmFzZSBFZGdlIEZ1bmN0aW9uIHByb3ZpZGVzIGEgYERlbm9gIGdsb2JhbCBvYmplY3Rcbi8vIHdpdGhvdXQgYHZlcnNpb25gIHByb3BlcnR5XG5leHBvcnQgY29uc3QgaXNEZW5vID0gKCkgPT4gdHlwZW9mIERlbm8gIT09IFwidW5kZWZpbmVkXCI7XG4vLyBNYXJrIG5vdC1hcy1ub2RlIGlmIGluIFN1cGFiYXNlIEVkZ2UgRnVuY3Rpb25cbmV4cG9ydCBjb25zdCBpc05vZGUgPSAoKSA9PiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICFpc0Rlbm8oKTtcbmV4cG9ydCBjb25zdCBnZXRFbnYgPSAoKSA9PiB7XG4gICAgbGV0IGVudjtcbiAgICBpZiAoaXNCcm93c2VyKCkpIHtcbiAgICAgICAgZW52ID0gXCJicm93c2VyXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTm9kZSgpKSB7XG4gICAgICAgIGVudiA9IFwibm9kZVwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1dlYldvcmtlcigpKSB7XG4gICAgICAgIGVudiA9IFwid2Vid29ya2VyXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzSnNEb20oKSkge1xuICAgICAgICBlbnYgPSBcImpzZG9tXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRGVubygpKSB7XG4gICAgICAgIGVudiA9IFwiZGVub1wiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZW52ID0gXCJvdGhlclwiO1xuICAgIH1cbiAgICByZXR1cm4gZW52O1xufTtcbmxldCBydW50aW1lRW52aXJvbm1lbnQ7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UnVudGltZUVudmlyb25tZW50KCkge1xuICAgIGlmIChydW50aW1lRW52aXJvbm1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbnYgPSBnZXRFbnYoKTtcbiAgICAgICAgY29uc3QgcmVsZWFzZUVudiA9IGdldFNoYXMoKTtcbiAgICAgICAgcnVudGltZUVudmlyb25tZW50ID0ge1xuICAgICAgICAgICAgbGlicmFyeTogXCJsYW5nc21pdGhcIixcbiAgICAgICAgICAgIHJ1bnRpbWU6IGVudixcbiAgICAgICAgICAgIC4uLnJlbGVhc2VFbnYsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBydW50aW1lRW52aXJvbm1lbnQ7XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgTGFuZ0NoYWluLXNwZWNpZmljIGVudmlyb25tZW50IHZhcmlhYmxlcyBmcm9tIHRoZSBjdXJyZW50IHJ1bnRpbWUgZW52aXJvbm1lbnQuXG4gKiBTZW5zaXRpdmUga2V5cyAoY29udGFpbmluZyB0aGUgd29yZCBcImtleVwiKSBoYXZlIHRoZWlyIHZhbHVlcyByZWRhY3RlZCBmb3Igc2VjdXJpdHkuXG4gKlxuICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIHN0cmluZz59XG4gKiAgLSBBIHJlY29yZCBvZiBMYW5nQ2hhaW4tc3BlY2lmaWMgZW52aXJvbm1lbnQgdmFyaWFibGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFuZ0NoYWluRW52VmFycygpIHtcbiAgICBjb25zdCBhbGxFbnZWYXJzID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZXMoKSB8fCB7fTtcbiAgICBjb25zdCBlbnZWYXJzID0ge307XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYWxsRW52VmFycykpIHtcbiAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKFwiTEFOR0NIQUlOX1wiKSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGVudlZhcnNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGVudlZhcnMpIHtcbiAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwia2V5XCIpICYmIHR5cGVvZiBlbnZWYXJzW2tleV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZW52VmFyc1trZXldO1xuICAgICAgICAgICAgZW52VmFyc1trZXldID1cbiAgICAgICAgICAgICAgICB2YWx1ZS5zbGljZSgwLCAyKSArIFwiKlwiLnJlcGVhdCh2YWx1ZS5sZW5ndGggLSA0KSArIHZhbHVlLnNsaWNlKC0yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZW52VmFycztcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgZnJvbSB0aGUgY3VycmVudCBydW50aW1lIGVudmlyb25tZW50LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gb3BlcmF0ZSBpbiBhIHZhcmlldHkgb2YgSlMgZW52aXJvbm1lbnRzLFxuICogaW5jbHVkaW5nIE5vZGUuanMsIERlbm8sIGJyb3dzZXJzLCBldGMuXG4gKlxuICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIHN0cmluZz4gfCB1bmRlZmluZWR9XG4gKiAgLSBBIHJlY29yZCBvZiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgaWYgYXZhaWxhYmxlLlxuICogIC0gYHVuZGVmaW5lZGAgaWYgdGhlIGVudmlyb25tZW50IGRvZXMgbm90IHN1cHBvcnQgb3IgYWxsb3dzIGFjY2VzcyB0byBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlcygpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaGVjayBmb3IgTm9kZS5qcyBlbnZpcm9ubWVudFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MuZW52KSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHByb2Nlc3MuZW52KS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgYWNjW2tleV0gPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIGJyb3dzZXJzIGFuZCBvdGhlciBlbnZpcm9ubWVudHMsIHdlIG1heSBub3QgaGF2ZSBkaXJlY3QgYWNjZXNzIHRvIGVudiB2YXJpYWJsZXNcbiAgICAgICAgLy8gUmV0dXJuIHVuZGVmaW5lZCBvciBhbnkgb3RoZXIgZmFsbGJhY2sgYXMgcmVxdWlyZWQuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIENhdGNoIGFueSBlcnJvcnMgdGhhdCBtaWdodCBvY2N1ciB3aGlsZSB0cnlpbmcgdG8gYWNjZXNzIGVudmlyb25tZW50IHZhcmlhYmxlc1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKG5hbWUpIHtcbiAgICAvLyBDZXJ0YWluIERlbm8gc2V0dXBzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgeW91IHRyeSB0byBhY2Nlc3MgZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2h3Y2hhc2UxNy9sYW5nY2hhaW5qcy9pc3N1ZXMvMTQxMlxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudj8uW25hbWVdXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0RW52aXJvbm1lbnRWYXJpYWJsZShuYW1lLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgcHJvY2Vzcy5lbnZbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG59XG5sZXQgY2FjaGVkQ29tbWl0U0hBcztcbi8qKlxuICogR2V0IHRoZSBHaXQgY29tbWl0IFNIQSBmcm9tIGNvbW1vbiBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAqIHVzZWQgYnkgZGlmZmVyZW50IENJL0NEIHBsYXRmb3Jtcy5cbiAqIEByZXR1cm5zIHtzdHJpbmcgfCB1bmRlZmluZWR9IFRoZSBHaXQgY29tbWl0IFNIQSBvciB1bmRlZmluZWQgaWYgbm90IGZvdW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2hhcygpIHtcbiAgICBpZiAoY2FjaGVkQ29tbWl0U0hBcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWRDb21taXRTSEFzO1xuICAgIH1cbiAgICBjb25zdCBjb21tb25fcmVsZWFzZV9lbnZzID0gW1xuICAgICAgICBcIlZFUkNFTF9HSVRfQ09NTUlUX1NIQVwiLFxuICAgICAgICBcIk5FWFRfUFVCTElDX1ZFUkNFTF9HSVRfQ09NTUlUX1NIQVwiLFxuICAgICAgICBcIkNPTU1JVF9SRUZcIixcbiAgICAgICAgXCJSRU5ERVJfR0lUX0NPTU1JVFwiLFxuICAgICAgICBcIkNJX0NPTU1JVF9TSEFcIixcbiAgICAgICAgXCJDSVJDTEVfU0hBMVwiLFxuICAgICAgICBcIkNGX1BBR0VTX0NPTU1JVF9TSEFcIixcbiAgICAgICAgXCJSRUFDVF9BUFBfR0lUX1NIQVwiLFxuICAgICAgICBcIlNPVVJDRV9WRVJTSU9OXCIsXG4gICAgICAgIFwiR0lUSFVCX1NIQVwiLFxuICAgICAgICBcIlRSQVZJU19DT01NSVRcIixcbiAgICAgICAgXCJHSVRfQ09NTUlUXCIsXG4gICAgICAgIFwiQlVJTERfVkNTX05VTUJFUlwiLFxuICAgICAgICBcImJhbWJvb19wbGFuUmVwb3NpdG9yeV9yZXZpc2lvblwiLFxuICAgICAgICBcIkJ1aWxkLlNvdXJjZVZlcnNpb25cIixcbiAgICAgICAgXCJCSVRCVUNLRVRfQ09NTUlUXCIsXG4gICAgICAgIFwiRFJPTkVfQ09NTUlUX1NIQVwiLFxuICAgICAgICBcIlNFTUFQSE9SRV9HSVRfU0hBXCIsXG4gICAgICAgIFwiQlVJTERLSVRFX0NPTU1JVFwiLFxuICAgIF07XG4gICAgY29uc3Qgc2hhcyA9IHt9O1xuICAgIGZvciAoY29uc3QgZW52IG9mIGNvbW1vbl9yZWxlYXNlX2VudnMpIHtcbiAgICAgICAgY29uc3QgZW52VmFyID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShlbnYpO1xuICAgICAgICBpZiAoZW52VmFyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNoYXNbZW52XSA9IGVudlZhcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWNoZWRDb21taXRTSEFzID0gc2hhcztcbiAgICByZXR1cm4gc2hhcztcbn1cbiIsImltcG9ydCAqIGFzIHV1aWQgZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IEFzeW5jQ2FsbGVyIH0gZnJvbSBcIi4vdXRpbHMvYXN5bmNfY2FsbGVyLmpzXCI7XG5pbXBvcnQgeyBjb252ZXJ0TGFuZ0NoYWluTWVzc2FnZVRvRXhhbXBsZSwgaXNMYW5nQ2hhaW5NZXNzYWdlLCB9IGZyb20gXCIuL3V0aWxzL21lc3NhZ2VzLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlLCBnZXRSdW50aW1lRW52aXJvbm1lbnQgfSBmcm9tIFwiLi91dGlscy9lbnYuanNcIjtcbi8vIHV0aWxpdHkgZnVuY3Rpb25zXG5jb25zdCBpc0xvY2FsaG9zdCA9ICh1cmwpID0+IHtcbiAgICBjb25zdCBzdHJpcHBlZFVybCA9IHVybC5yZXBsYWNlKFwiaHR0cDovL1wiLCBcIlwiKS5yZXBsYWNlKFwiaHR0cHM6Ly9cIiwgXCJcIik7XG4gICAgY29uc3QgaG9zdG5hbWUgPSBzdHJpcHBlZFVybC5zcGxpdChcIi9cIilbMF0uc3BsaXQoXCI6XCIpWzBdO1xuICAgIHJldHVybiAoaG9zdG5hbWUgPT09IFwibG9jYWxob3N0XCIgfHwgaG9zdG5hbWUgPT09IFwiMTI3LjAuMC4xXCIgfHwgaG9zdG5hbWUgPT09IFwiOjoxXCIpO1xufTtcbmNvbnN0IHJhaXNlRm9yU3RhdHVzID0gYXN5bmMgKHJlc3BvbnNlLCBvcGVyYXRpb24pID0+IHtcbiAgICAvLyBjb25zdW1lIHRoZSByZXNwb25zZSBib2R5IHRvIHJlbGVhc2UgdGhlIGNvbm5lY3Rpb25cbiAgICAvLyBodHRwczovL3VuZGljaS5ub2RlanMub3JnLyMvP2lkPWdhcmJhZ2UtY29sbGVjdGlvblxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byAke29wZXJhdGlvbn06ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9ICR7Ym9keX1gKTtcbiAgICB9XG59O1xuYXN5bmMgZnVuY3Rpb24gdG9BcnJheShpdGVyYWJsZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBpdGVyYWJsZSkge1xuICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHRyaW1RdW90ZXMoc3RyKSB7XG4gICAgaWYgKHN0ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBzdHJcbiAgICAgICAgLnRyaW0oKVxuICAgICAgICAucmVwbGFjZSgvXlwiKC4qKVwiJC8sIFwiJDFcIilcbiAgICAgICAgLnJlcGxhY2UoL14nKC4qKSckLywgXCIkMVwiKTtcbn1cbmZ1bmN0aW9uIGhpZGVJbnB1dHMoaW5wdXRzKSB7XG4gICAgaWYgKGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fSElERV9JTlBVVFNcIikgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0cztcbn1cbmZ1bmN0aW9uIGhpZGVPdXRwdXRzKG91dHB1dHMpIHtcbiAgICBpZiAoZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9ISURFX09VVFBVVFNcIikgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dHM7XG59XG5leHBvcnQgY2xhc3MgQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXBpVXJsXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndlYlVybFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjYWxsZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGltZW91dF9tc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGVuYW50SWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRDb25maWcgPSBDbGllbnQuZ2V0RGVmYXVsdENsaWVudENvbmZpZygpO1xuICAgICAgICB0aGlzLmFwaVVybCA9IHRyaW1RdW90ZXMoY29uZmlnLmFwaVVybCA/PyBkZWZhdWx0Q29uZmlnLmFwaVVybCkgPz8gXCJcIjtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSB0cmltUXVvdGVzKGNvbmZpZy5hcGlLZXkgPz8gZGVmYXVsdENvbmZpZy5hcGlLZXkpO1xuICAgICAgICB0aGlzLndlYlVybCA9IHRyaW1RdW90ZXMoY29uZmlnLndlYlVybCA/PyBkZWZhdWx0Q29uZmlnLndlYlVybCk7XG4gICAgICAgIHRoaXMudmFsaWRhdGVBcGlLZXlJZkhvc3RlZCgpO1xuICAgICAgICB0aGlzLnRpbWVvdXRfbXMgPSBjb25maWcudGltZW91dF9tcyA/PyA0MDAwO1xuICAgICAgICB0aGlzLmNhbGxlciA9IG5ldyBBc3luY0NhbGxlcihjb25maWcuY2FsbGVyT3B0aW9ucyA/PyB7fSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0Q2xpZW50Q29uZmlnKCkge1xuICAgICAgICBjb25zdCBhcGlLZXkgPSBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX0FQSV9LRVlcIik7XG4gICAgICAgIGNvbnN0IGFwaVVybCA9IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fRU5EUE9JTlRcIikgPz9cbiAgICAgICAgICAgIChhcGlLZXkgPyBcImh0dHBzOi8vYXBpLnNtaXRoLmxhbmdjaGFpbi5jb21cIiA6IFwiaHR0cDovL2xvY2FsaG9zdDoxOTg0XCIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXBpVXJsOiBhcGlVcmwsXG4gICAgICAgICAgICBhcGlLZXk6IGFwaUtleSxcbiAgICAgICAgICAgIHdlYlVybDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB2YWxpZGF0ZUFwaUtleUlmSG9zdGVkKCkge1xuICAgICAgICBjb25zdCBpc0xvY2FsID0gaXNMb2NhbGhvc3QodGhpcy5hcGlVcmwpO1xuICAgICAgICBpZiAoIWlzTG9jYWwgJiYgIXRoaXMuYXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBUEkga2V5IG11c3QgYmUgcHJvdmlkZWQgd2hlbiB1c2luZyBob3N0ZWQgTGFuZ1NtaXRoIEFQSVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRIb3N0VXJsKCkge1xuICAgICAgICBpZiAodGhpcy53ZWJVcmwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndlYlVybDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0xvY2FsaG9zdCh0aGlzLmFwaVVybCkpIHtcbiAgICAgICAgICAgIHRoaXMud2ViVXJsID0gXCJodHRwOi8vbG9jYWxob3N0XCI7XG4gICAgICAgICAgICByZXR1cm4gXCJodHRwOi8vbG9jYWxob3N0XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hcGlVcmwuc3BsaXQoXCIuXCIsIDEpWzBdLmluY2x1ZGVzKFwiZGV2XCIpKSB7XG4gICAgICAgICAgICB0aGlzLndlYlVybCA9IFwiaHR0cHM6Ly9kZXYuc21pdGgubGFuZ2NoYWluLmNvbVwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiaHR0cHM6Ly9kZXYuc21pdGgubGFuZ2NoYWluLmNvbVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53ZWJVcmwgPSBcImh0dHBzOi8vc21pdGgubGFuZ2NoYWluLmNvbVwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiaHR0cHM6Ly9zbWl0aC5sYW5nY2hhaW4uY29tXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGhlYWRlcnMoKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzW1wieC1hcGkta2V5XCJdID0gYCR7dGhpcy5hcGlLZXl9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVhZGVycztcbiAgICB9XG4gICAgYXN5bmMgX2dldFJlc3BvbnNlKHBhdGgsIHF1ZXJ5UGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtc1N0cmluZyA9IHF1ZXJ5UGFyYW1zPy50b1N0cmluZygpID8/IFwiXCI7XG4gICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYXBpVXJsfSR7cGF0aH0/JHtwYXJhbXNTdHJpbmd9YDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCB1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggJHtwYXRofTogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIGFzeW5jIF9nZXQocGF0aCwgcXVlcnlQYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9nZXRSZXNwb25zZShwYXRoLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGFzeW5jICpfZ2V0UGFnaW5hdGVkKHBhdGgsIHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpKSB7XG4gICAgICAgIGxldCBvZmZzZXQgPSBOdW1iZXIocXVlcnlQYXJhbXMuZ2V0KFwib2Zmc2V0XCIpKSB8fCAwO1xuICAgICAgICBjb25zdCBsaW1pdCA9IE51bWJlcihxdWVyeVBhcmFtcy5nZXQoXCJsaW1pdFwiKSkgfHwgMTAwO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMuc2V0KFwib2Zmc2V0XCIsIFN0cmluZyhvZmZzZXQpKTtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLnNldChcImxpbWl0XCIsIFN0cmluZyhsaW1pdCkpO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5hcGlVcmx9JHtwYXRofT8ke3F1ZXJ5UGFyYW1zfWA7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIHVybCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCAke3BhdGh9OiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5aWVsZCBpdGVtcztcbiAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPCBsaW1pdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2Zmc2V0ICs9IGl0ZW1zLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjcmVhdGVSdW4ocnVuKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7IC4uLnRoaXMuaGVhZGVycywgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfTtcbiAgICAgICAgY29uc3QgZXh0cmEgPSBydW4uZXh0cmEgPz8ge307XG4gICAgICAgIGNvbnN0IHJ1bnRpbWVFbnYgPSBhd2FpdCBnZXRSdW50aW1lRW52aXJvbm1lbnQoKTtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbl9uYW1lID0gcnVuLnByb2plY3RfbmFtZTtcbiAgICAgICAgZGVsZXRlIHJ1bi5wcm9qZWN0X25hbWU7XG4gICAgICAgIGNvbnN0IHJ1bkNyZWF0ZSA9IHtcbiAgICAgICAgICAgIHNlc3Npb25fbmFtZSxcbiAgICAgICAgICAgIC4uLnJ1bixcbiAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgLi4ucnVuLmV4dHJhLFxuICAgICAgICAgICAgICAgIHJ1bnRpbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucnVudGltZUVudixcbiAgICAgICAgICAgICAgICAgICAgLi4uZXh0cmEucnVudGltZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcnVuQ3JlYXRlLmlucHV0cyA9IGhpZGVJbnB1dHMocnVuQ3JlYXRlLmlucHV0cyk7XG4gICAgICAgIGlmIChydW5DcmVhdGUub3V0cHV0cykge1xuICAgICAgICAgICAgcnVuQ3JlYXRlLm91dHB1dHMgPSBoaWRlT3V0cHV0cyhydW5DcmVhdGUub3V0cHV0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCBgJHt0aGlzLmFwaVVybH0vcnVuc2AsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocnVuQ3JlYXRlKSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgcmFpc2VGb3JTdGF0dXMocmVzcG9uc2UsIFwiY3JlYXRlIHJ1blwiKTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlUnVuKHJ1bklkLCBydW4pIHtcbiAgICAgICAgaWYgKHJ1bi5pbnB1dHMpIHtcbiAgICAgICAgICAgIHJ1bi5pbnB1dHMgPSBoaWRlSW5wdXRzKHJ1bi5pbnB1dHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChydW4ub3V0cHV0cykge1xuICAgICAgICAgICAgcnVuLm91dHB1dHMgPSBoaWRlT3V0cHV0cyhydW4ub3V0cHV0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHsgLi4udGhpcy5oZWFkZXJzLCBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9ydW5zLyR7cnVuSWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocnVuKSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgcmFpc2VGb3JTdGF0dXMocmVzcG9uc2UsIFwidXBkYXRlIHJ1blwiKTtcbiAgICB9XG4gICAgYXN5bmMgcmVhZFJ1bihydW5JZCwgeyBsb2FkQ2hpbGRSdW5zIH0gPSB7IGxvYWRDaGlsZFJ1bnM6IGZhbHNlIH0pIHtcbiAgICAgICAgbGV0IHJ1biA9IGF3YWl0IHRoaXMuX2dldChgL3J1bnMvJHtydW5JZH1gKTtcbiAgICAgICAgaWYgKGxvYWRDaGlsZFJ1bnMgJiYgcnVuLmNoaWxkX3J1bl9pZHMpIHtcbiAgICAgICAgICAgIHJ1biA9IGF3YWl0IHRoaXMuX2xvYWRDaGlsZFJ1bnMocnVuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnVuO1xuICAgIH1cbiAgICBhc3luYyBnZXRSdW5VcmwoeyBydW5JZCwgcnVuLCBwcm9qZWN0T3B0cywgfSkge1xuICAgICAgICBpZiAocnVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBzZXNzaW9uSWQ7XG4gICAgICAgICAgICBpZiAocnVuLnNlc3Npb25faWQpIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uSWQgPSBydW4uc2Vzc2lvbl9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHByb2plY3RPcHRzPy5wcm9qZWN0TmFtZSkge1xuICAgICAgICAgICAgICAgIHNlc3Npb25JZCA9IChhd2FpdCB0aGlzLnJlYWRQcm9qZWN0KHsgcHJvamVjdE5hbWU6IHByb2plY3RPcHRzPy5wcm9qZWN0TmFtZSB9KSkuaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwcm9qZWN0T3B0cz8ucHJvamVjdElkKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbklkID0gcHJvamVjdE9wdHM/LnByb2plY3RJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3QgPSBhd2FpdCB0aGlzLnJlYWRQcm9qZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdE5hbWU6IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fUFJPSkVDVFwiKSB8fCBcImRlZmF1bHRcIixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzZXNzaW9uSWQgPSBwcm9qZWN0LmlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGVuYW50SWQgPSBhd2FpdCB0aGlzLl9nZXRUZW5hbnRJZCgpO1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuZ2V0SG9zdFVybCgpfS9vLyR7dGVuYW50SWR9L3Byb2plY3RzL3AvJHtzZXNzaW9uSWR9L3IvJHtydW4uaWR9P3BvbGw9dHJ1ZWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocnVuSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgcnVuXyA9IGF3YWl0IHRoaXMucmVhZFJ1bihydW5JZCk7XG4gICAgICAgICAgICBpZiAoIXJ1bl8uYXBwX3BhdGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJ1biAke3J1bklkfSBoYXMgbm8gYXBwX3BhdGhgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGJhc2VVcmwgPSB0aGlzLmdldEhvc3RVcmwoKTtcbiAgICAgICAgICAgIHJldHVybiBgJHtiYXNlVXJsfSR7cnVuXy5hcHBfcGF0aH1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGVpdGhlciBydW5JZCBvciBydW5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2xvYWRDaGlsZFJ1bnMocnVuKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkUnVucyA9IGF3YWl0IHRvQXJyYXkodGhpcy5saXN0UnVucyh7IGlkOiBydW4uY2hpbGRfcnVuX2lkcyB9KSk7XG4gICAgICAgIGNvbnN0IHRyZWVtYXAgPSB7fTtcbiAgICAgICAgY29uc3QgcnVucyA9IHt9O1xuICAgICAgICAvLyBUT0RPOiBtYWtlIGRvdHRlZCBvcmRlciByZXF1aXJlZCB3aGVuIHRoZSBtaWdyYXRpb24gZmluaXNoZXNcbiAgICAgICAgY2hpbGRSdW5zLnNvcnQoKGEsIGIpID0+IChhPy5kb3R0ZWRfb3JkZXIgPz8gXCJcIikubG9jYWxlQ29tcGFyZShiPy5kb3R0ZWRfb3JkZXIgPz8gXCJcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkUnVuIG9mIGNoaWxkUnVucykge1xuICAgICAgICAgICAgaWYgKGNoaWxkUnVuLnBhcmVudF9ydW5faWQgPT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICBjaGlsZFJ1bi5wYXJlbnRfcnVuX2lkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoaWxkIHJ1biAke2NoaWxkUnVuLmlkfSBoYXMgbm8gcGFyZW50YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIShjaGlsZFJ1bi5wYXJlbnRfcnVuX2lkIGluIHRyZWVtYXApKSB7XG4gICAgICAgICAgICAgICAgdHJlZW1hcFtjaGlsZFJ1bi5wYXJlbnRfcnVuX2lkXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJlZW1hcFtjaGlsZFJ1bi5wYXJlbnRfcnVuX2lkXS5wdXNoKGNoaWxkUnVuKTtcbiAgICAgICAgICAgIHJ1bnNbY2hpbGRSdW4uaWRdID0gY2hpbGRSdW47XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmNoaWxkX3J1bnMgPSB0cmVlbWFwW3J1bi5pZF0gfHwgW107XG4gICAgICAgIGZvciAoY29uc3QgcnVuSWQgaW4gdHJlZW1hcCkge1xuICAgICAgICAgICAgaWYgKHJ1bklkICE9PSBydW4uaWQpIHtcbiAgICAgICAgICAgICAgICBydW5zW3J1bklkXS5jaGlsZF9ydW5zID0gdHJlZW1hcFtydW5JZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgYXN5bmMgKmxpc3RSdW5zKHsgcHJvamVjdElkLCBwcm9qZWN0TmFtZSwgcGFyZW50UnVuSWQsIHJlZmVyZW5jZUV4YW1wbGVJZCwgc3RhcnRUaW1lLCBleGVjdXRpb25PcmRlciwgcnVuVHlwZSwgZXJyb3IsIGlkLCBsaW1pdCwgb2Zmc2V0LCBxdWVyeSwgZmlsdGVyLCB9KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgcHJvamVjdElkXyA9IHByb2plY3RJZDtcbiAgICAgICAgaWYgKHByb2plY3ROYW1lKSB7XG4gICAgICAgICAgICBpZiAocHJvamVjdElkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBvbmUgb2YgcHJvamVjdElkIG9yIHByb2plY3ROYW1lIG1heSBiZSBnaXZlblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb2plY3RJZF8gPSAoYXdhaXQgdGhpcy5yZWFkUHJvamVjdCh7IHByb2plY3ROYW1lIH0pKS5pZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvamVjdElkXykge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwic2Vzc2lvblwiLCBwcm9qZWN0SWRfKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50UnVuSWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcInBhcmVudF9ydW5cIiwgcGFyZW50UnVuSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWZlcmVuY2VFeGFtcGxlSWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcInJlZmVyZW5jZV9leGFtcGxlXCIsIHJlZmVyZW5jZUV4YW1wbGVJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0VGltZSkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwic3RhcnRfdGltZVwiLCBzdGFydFRpbWUudG9JU09TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4ZWN1dGlvbk9yZGVyKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoXCJleGVjdXRpb25fb3JkZXJcIiwgZXhlY3V0aW9uT3JkZXIudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1blR5cGUpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcInJ1bl90eXBlXCIsIHJ1blR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoXCJlcnJvclwiLCBlcnJvci50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZF8gb2YgaWQpIHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoXCJpZFwiLCBpZF8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsaW1pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoXCJsaW1pdFwiLCBsaW1pdC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcIm9mZnNldFwiLCBvZmZzZXQudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHF1ZXJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcInF1ZXJ5XCIsIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcImZpbHRlclwiLCBmaWx0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgcnVucyBvZiB0aGlzLl9nZXRQYWdpbmF0ZWQoXCIvcnVuc1wiLCBxdWVyeVBhcmFtcykpIHtcbiAgICAgICAgICAgIHlpZWxkKiBydW5zO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHNoYXJlUnVuKHJ1bklkLCB7IHNoYXJlSWQgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBydW5faWQ6IHJ1bklkLFxuICAgICAgICAgICAgc2hhcmVfdG9rZW46IHNoYXJlSWQgfHwgdXVpZC52NCgpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9ydW5zLyR7cnVuSWR9L3NoYXJlYCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCAhKFwic2hhcmVfdG9rZW5cIiBpbiByZXN1bHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIGZyb20gc2VydmVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmdldEhvc3RVcmwoKX0vcHVibGljLyR7cmVzdWx0W1wic2hhcmVfdG9rZW5cIl19L3JgO1xuICAgIH1cbiAgICBhc3luYyB1bnNoYXJlUnVuKHJ1bklkKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L3J1bnMvJHtydW5JZH0vc2hhcmVgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHJhaXNlRm9yU3RhdHVzKHJlc3BvbnNlLCBcInVuc2hhcmUgcnVuXCIpO1xuICAgIH1cbiAgICBhc3luYyByZWFkUnVuU2hhcmVkTGluayhydW5JZCkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9ydW5zLyR7cnVuSWR9L3NoYXJlYCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgIShcInNoYXJlX3Rva2VuXCIgaW4gcmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7dGhpcy5nZXRIb3N0VXJsKCl9L3B1YmxpYy8ke3Jlc3VsdFtcInNoYXJlX3Rva2VuXCJdfS9yYDtcbiAgICB9XG4gICAgYXN5bmMgbGlzdFNoYXJlZFJ1bnMoc2hhcmVUb2tlbiwgeyBydW5JZHMsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgICAgICAgICAgc2hhcmVfdG9rZW46IHNoYXJlVG9rZW4sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocnVuSWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcnVuSWQgb2YgcnVuSWRzKSB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwiaWRcIiwgcnVuSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L3B1YmxpYy8ke3NoYXJlVG9rZW59L3J1bnMke3F1ZXJ5UGFyYW1zfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcnVucyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHJ1bnM7XG4gICAgfVxuICAgIGFzeW5jIHJlYWREYXRhc2V0U2hhcmVkU2NoZW1hKGRhdGFzZXRJZCwgZGF0YXNldE5hbWUpIHtcbiAgICAgICAgaWYgKCFkYXRhc2V0SWQgJiYgIWRhdGFzZXROYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFaXRoZXIgZGF0YXNldElkIG9yIGRhdGFzZXROYW1lIG11c3QgYmUgZ2l2ZW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhc2V0SWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFzZXQgPSBhd2FpdCB0aGlzLnJlYWREYXRhc2V0KHsgZGF0YXNldE5hbWUgfSk7XG4gICAgICAgICAgICBkYXRhc2V0SWQgPSBkYXRhc2V0LmlkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L2RhdGFzZXRzLyR7ZGF0YXNldElkfS9zaGFyZWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2hhcmVTY2hlbWEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNoYXJlU2NoZW1hLnVybCA9IGAke3RoaXMuZ2V0SG9zdFVybCgpfS9wdWJsaWMvJHtzaGFyZVNjaGVtYS5zaGFyZV90b2tlbn0vZGA7XG4gICAgICAgIHJldHVybiBzaGFyZVNjaGVtYTtcbiAgICB9XG4gICAgYXN5bmMgc2hhcmVEYXRhc2V0KGRhdGFzZXRJZCwgZGF0YXNldE5hbWUpIHtcbiAgICAgICAgaWYgKCFkYXRhc2V0SWQgJiYgIWRhdGFzZXROYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFaXRoZXIgZGF0YXNldElkIG9yIGRhdGFzZXROYW1lIG11c3QgYmUgZ2l2ZW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhc2V0SWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFzZXQgPSBhd2FpdCB0aGlzLnJlYWREYXRhc2V0KHsgZGF0YXNldE5hbWUgfSk7XG4gICAgICAgICAgICBkYXRhc2V0SWQgPSBkYXRhc2V0LmlkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBkYXRhc2V0X2lkOiBkYXRhc2V0SWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L2RhdGFzZXRzLyR7ZGF0YXNldElkfS9zaGFyZWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzaGFyZVNjaGVtYSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgc2hhcmVTY2hlbWEudXJsID0gYCR7dGhpcy5nZXRIb3N0VXJsKCl9L3B1YmxpYy8ke3NoYXJlU2NoZW1hLnNoYXJlX3Rva2VufS9kYDtcbiAgICAgICAgcmV0dXJuIHNoYXJlU2NoZW1hO1xuICAgIH1cbiAgICBhc3luYyB1bnNoYXJlRGF0YXNldChkYXRhc2V0SWQpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCBgJHt0aGlzLmFwaVVybH0vZGF0YXNldHMvJHtkYXRhc2V0SWR9L3NoYXJlYCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCByYWlzZUZvclN0YXR1cyhyZXNwb25zZSwgXCJ1bnNoYXJlIGRhdGFzZXRcIik7XG4gICAgfVxuICAgIGFzeW5jIHJlYWRTaGFyZWREYXRhc2V0KHNoYXJlVG9rZW4pIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCBgJHt0aGlzLmFwaVVybH0vcHVibGljLyR7c2hhcmVUb2tlbn0vZGF0YXNldHNgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGRhdGFzZXQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJldHVybiBkYXRhc2V0O1xuICAgIH1cbiAgICBhc3luYyBjcmVhdGVQcm9qZWN0KHsgcHJvamVjdE5hbWUsIHByb2plY3RFeHRyYSwgdXBzZXJ0LCByZWZlcmVuY2VEYXRhc2V0SWQsIH0pIHtcbiAgICAgICAgY29uc3QgdXBzZXJ0XyA9IHVwc2VydCA/IGA/dXBzZXJ0PXRydWVgIDogXCJcIjtcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLmFwaVVybH0vc2Vzc2lvbnMke3Vwc2VydF99YDtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIG5hbWU6IHByb2plY3ROYW1lLFxuICAgICAgICB9O1xuICAgICAgICBpZiAocHJvamVjdEV4dHJhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJvZHlbXCJleHRyYVwiXSA9IHByb2plY3RFeHRyYTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmZXJlbmNlRGF0YXNldElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJvZHlbXCJyZWZlcmVuY2VfZGF0YXNldF9pZFwiXSA9IHJlZmVyZW5jZURhdGFzZXRJZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGVuZHBvaW50LCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi50aGlzLmhlYWRlcnMsIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgc2Vzc2lvbiAke3Byb2plY3ROYW1lfTogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBhc3luYyByZWFkUHJvamVjdCh7IHByb2plY3RJZCwgcHJvamVjdE5hbWUsIH0pIHtcbiAgICAgICAgbGV0IHBhdGggPSBcIi9zZXNzaW9uc1wiO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGlmIChwcm9qZWN0SWQgIT09IHVuZGVmaW5lZCAmJiBwcm9qZWN0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgZWl0aGVyIHByb2plY3ROYW1lIG9yIHByb2plY3RJZCwgbm90IGJvdGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvamVjdElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhdGggKz0gYC8ke3Byb2plY3RJZH1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2plY3ROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJuYW1lXCIsIHByb2plY3ROYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBwcm9qZWN0TmFtZSBvciBwcm9qZWN0SWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9nZXQocGF0aCwgcGFyYW1zKTtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9qZWN0W2lkPSR7cHJvamVjdElkfSwgbmFtZT0ke3Byb2plY3ROYW1lfV0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSByZXNwb25zZVswXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIF9nZXRUZW5hbnRJZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RlbmFudElkICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGVuYW50SWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHsgbGltaXQ6IFwiMVwiIH0pO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHByb2plY3RzIG9mIHRoaXMuX2dldFBhZ2luYXRlZChcIi9zZXNzaW9uc1wiLCBxdWVyeVBhcmFtcykpIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbmFudElkID0gcHJvamVjdHNbMF0udGVuYW50X2lkO1xuICAgICAgICAgICAgcmV0dXJuIHByb2plY3RzWzBdLnRlbmFudF9pZDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBwcm9qZWN0cyBmb3VuZCB0byByZXNvbHZlIHRlbmFudC5cIik7XG4gICAgfVxuICAgIGFzeW5jICpsaXN0UHJvamVjdHMoeyBwcm9qZWN0SWRzLCBuYW1lLCBuYW1lQ29udGFpbnMsIHJlZmVyZW5jZURhdGFzZXRJZCwgcmVmZXJlbmNlRGF0YXNldE5hbWUsIHJlZmVyZW5jZUZyZWUsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGlmIChwcm9qZWN0SWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvamVjdElkIG9mIHByb2plY3RJZHMpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwiaWRcIiwgcHJvamVjdElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwibmFtZVwiLCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZUNvbnRhaW5zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJuYW1lX2NvbnRhaW5zXCIsIG5hbWVDb250YWlucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmVyZW5jZURhdGFzZXRJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwicmVmZXJlbmNlX2RhdGFzZXRcIiwgcmVmZXJlbmNlRGF0YXNldElkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWZlcmVuY2VEYXRhc2V0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhc2V0ID0gYXdhaXQgdGhpcy5yZWFkRGF0YXNldCh7XG4gICAgICAgICAgICAgICAgZGF0YXNldE5hbWU6IHJlZmVyZW5jZURhdGFzZXROYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwicmVmZXJlbmNlX2RhdGFzZXRcIiwgZGF0YXNldC5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmVyZW5jZUZyZWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFyYW1zLmFwcGVuZChcInJlZmVyZW5jZV9mcmVlXCIsIHJlZmVyZW5jZUZyZWUudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBwcm9qZWN0cyBvZiB0aGlzLl9nZXRQYWdpbmF0ZWQoXCIvc2Vzc2lvbnNcIiwgcGFyYW1zKSkge1xuICAgICAgICAgICAgeWllbGQqIHByb2plY3RzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZVByb2plY3QoeyBwcm9qZWN0SWQsIHByb2plY3ROYW1lLCB9KSB7XG4gICAgICAgIGxldCBwcm9qZWN0SWRfO1xuICAgICAgICBpZiAocHJvamVjdElkID09PSB1bmRlZmluZWQgJiYgcHJvamVjdE5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIHByb2plY3ROYW1lIG9yIHByb2plY3RJZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9qZWN0SWQgIT09IHVuZGVmaW5lZCAmJiBwcm9qZWN0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgZWl0aGVyIHByb2plY3ROYW1lIG9yIHByb2plY3RJZCwgbm90IGJvdGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvamVjdElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb2plY3RJZF8gPSAoYXdhaXQgdGhpcy5yZWFkUHJvamVjdCh7IHByb2plY3ROYW1lIH0pKS5pZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb2plY3RJZF8gPSBwcm9qZWN0SWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCBgJHt0aGlzLmFwaVVybH0vc2Vzc2lvbnMvJHtwcm9qZWN0SWRffWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgcmFpc2VGb3JTdGF0dXMocmVzcG9uc2UsIGBkZWxldGUgc2Vzc2lvbiAke3Byb2plY3RJZF99ICgke3Byb2plY3ROYW1lfSlgKTtcbiAgICB9XG4gICAgYXN5bmMgdXBsb2FkQ3N2KHsgY3N2RmlsZSwgZmlsZU5hbWUsIGlucHV0S2V5cywgb3V0cHV0S2V5cywgZGVzY3JpcHRpb24sIGRhdGFUeXBlLCBuYW1lLCB9KSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYXBpVXJsfS9kYXRhc2V0cy91cGxvYWRgO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJmaWxlXCIsIGNzdkZpbGUsIGZpbGVOYW1lKTtcbiAgICAgICAgaW5wdXRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKFwiaW5wdXRfa2V5c1wiLCBrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgb3V0cHV0S2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcIm91dHB1dF9rZXlzXCIsIGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImRlc2NyaXB0aW9uXCIsIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YVR5cGUpIHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImRhdGFfdHlwZVwiLCBkYXRhVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcIm5hbWVcIiwgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCB1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5kZXRhaWwgJiYgcmVzdWx0LmRldGFpbC5pbmNsdWRlcyhcImFscmVhZHkgZXhpc3RzXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEYXRhc2V0ICR7ZmlsZU5hbWV9IGFscmVhZHkgZXhpc3RzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGxvYWQgQ1NWOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlRGF0YXNldChuYW1lLCB7IGRlc2NyaXB0aW9uLCBkYXRhVHlwZSwgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChkYXRhVHlwZSkge1xuICAgICAgICAgICAgYm9keS5kYXRhX3R5cGUgPSBkYXRhVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9kYXRhc2V0c2AsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLnRoaXMuaGVhZGVycywgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0LmRldGFpbCAmJiByZXN1bHQuZGV0YWlsLmluY2x1ZGVzKFwiYWxyZWFkeSBleGlzdHNcIikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERhdGFzZXQgJHtuYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIGRhdGFzZXQgJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIHJlYWREYXRhc2V0KHsgZGF0YXNldElkLCBkYXRhc2V0TmFtZSwgfSkge1xuICAgICAgICBsZXQgcGF0aCA9IFwiL2RhdGFzZXRzXCI7XG4gICAgICAgIC8vIGxpbWl0IHRvIDEgcmVzdWx0XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBsaW1pdDogXCIxXCIgfSk7XG4gICAgICAgIGlmIChkYXRhc2V0SWQgIT09IHVuZGVmaW5lZCAmJiBkYXRhc2V0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgZWl0aGVyIGRhdGFzZXROYW1lIG9yIGRhdGFzZXRJZCwgbm90IGJvdGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YXNldElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhdGggKz0gYC8ke2RhdGFzZXRJZH1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJuYW1lXCIsIGRhdGFzZXROYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBkYXRhc2V0TmFtZSBvciBkYXRhc2V0SWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9nZXQocGF0aCwgcGFyYW1zKTtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEYXRhc2V0W2lkPSR7ZGF0YXNldElkfSwgbmFtZT0ke2RhdGFzZXROYW1lfV0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSByZXNwb25zZVswXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIHJlYWREYXRhc2V0T3BlbmFpRmluZXR1bmluZyh7IGRhdGFzZXRJZCwgZGF0YXNldE5hbWUsIH0pIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IFwiL2RhdGFzZXRzXCI7XG4gICAgICAgIGlmIChkYXRhc2V0SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGFzZXRJZCA9IChhd2FpdCB0aGlzLnJlYWREYXRhc2V0KHsgZGF0YXNldE5hbWUgfSkpLmlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGRhdGFzZXROYW1lIG9yIGRhdGFzZXRJZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuX2dldFJlc3BvbnNlKGAke3BhdGh9LyR7ZGF0YXNldElkfS9vcGVuYWlfZnRgKTtcbiAgICAgICAgY29uc3QgZGF0YXNldFRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnN0IGRhdGFzZXQgPSBkYXRhc2V0VGV4dFxuICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgLnNwbGl0KFwiXFxuXCIpXG4gICAgICAgICAgICAubWFwKChsaW5lKSA9PiBKU09OLnBhcnNlKGxpbmUpKTtcbiAgICAgICAgcmV0dXJuIGRhdGFzZXQ7XG4gICAgfVxuICAgIGFzeW5jICpsaXN0RGF0YXNldHMoeyBsaW1pdCA9IDEwMCwgb2Zmc2V0ID0gMCwgZGF0YXNldElkcywgZGF0YXNldE5hbWUsIGRhdGFzZXROYW1lQ29udGFpbnMsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBwYXRoID0gXCIvZGF0YXNldHNcIjtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgICAgICBsaW1pdDogbGltaXQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0LnRvU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZGF0YXNldElkcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkXyBvZiBkYXRhc2V0SWRzKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmFwcGVuZChcImlkXCIsIGlkXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJuYW1lXCIsIGRhdGFzZXROYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YXNldE5hbWVDb250YWlucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwibmFtZV9jb250YWluc1wiLCBkYXRhc2V0TmFtZUNvbnRhaW5zKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGRhdGFzZXRzIG9mIHRoaXMuX2dldFBhZ2luYXRlZChwYXRoLCBwYXJhbXMpKSB7XG4gICAgICAgICAgICB5aWVsZCogZGF0YXNldHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlRGF0YXNldCh7IGRhdGFzZXRJZCwgZGF0YXNldE5hbWUsIH0pIHtcbiAgICAgICAgbGV0IHBhdGggPSBcIi9kYXRhc2V0c1wiO1xuICAgICAgICBsZXQgZGF0YXNldElkXyA9IGRhdGFzZXRJZDtcbiAgICAgICAgaWYgKGRhdGFzZXRJZCAhPT0gdW5kZWZpbmVkICYmIGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBlaXRoZXIgZGF0YXNldE5hbWUgb3IgZGF0YXNldElkLCBub3QgYm90aFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhc2V0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhc2V0ID0gYXdhaXQgdGhpcy5yZWFkRGF0YXNldCh7IGRhdGFzZXROYW1lIH0pO1xuICAgICAgICAgICAgZGF0YXNldElkXyA9IGRhdGFzZXQuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFzZXRJZF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGF0aCArPSBgLyR7ZGF0YXNldElkX31gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGRhdGFzZXROYW1lIG9yIGRhdGFzZXRJZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIHRoaXMuYXBpVXJsICsgcGF0aCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBkZWxldGUgJHtwYXRofTogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZUV4YW1wbGUoaW5wdXRzLCBvdXRwdXRzLCB7IGRhdGFzZXRJZCwgZGF0YXNldE5hbWUsIGNyZWF0ZWRBdCwgZXhhbXBsZUlkIH0pIHtcbiAgICAgICAgbGV0IGRhdGFzZXRJZF8gPSBkYXRhc2V0SWQ7XG4gICAgICAgIGlmIChkYXRhc2V0SWRfID09PSB1bmRlZmluZWQgJiYgZGF0YXNldE5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGVpdGhlciBkYXRhc2V0TmFtZSBvciBkYXRhc2V0SWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YXNldElkXyAhPT0gdW5kZWZpbmVkICYmIGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBlaXRoZXIgZGF0YXNldE5hbWUgb3IgZGF0YXNldElkLCBub3QgYm90aFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhc2V0SWRfID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFzZXQgPSBhd2FpdCB0aGlzLnJlYWREYXRhc2V0KHsgZGF0YXNldE5hbWUgfSk7XG4gICAgICAgICAgICBkYXRhc2V0SWRfID0gZGF0YXNldC5pZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjcmVhdGVkQXRfID0gY3JlYXRlZEF0IHx8IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBkYXRhc2V0X2lkOiBkYXRhc2V0SWRfLFxuICAgICAgICAgICAgaW5wdXRzLFxuICAgICAgICAgICAgb3V0cHV0cyxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IGNyZWF0ZWRBdF8udG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGlkOiBleGFtcGxlSWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L2V4YW1wbGVzYCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgLi4udGhpcy5oZWFkZXJzLCBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBleGFtcGxlOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlTExNRXhhbXBsZShpbnB1dCwgZ2VuZXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVFeGFtcGxlKHsgaW5wdXQgfSwgeyBvdXRwdXQ6IGdlbmVyYXRpb24gfSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZUNoYXRFeGFtcGxlKGlucHV0LCBnZW5lcmF0aW9ucywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBmaW5hbElucHV0ID0gaW5wdXQubWFwKChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNMYW5nQ2hhaW5NZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRMYW5nQ2hhaW5NZXNzYWdlVG9FeGFtcGxlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmaW5hbE91dHB1dCA9IGlzTGFuZ0NoYWluTWVzc2FnZShnZW5lcmF0aW9ucylcbiAgICAgICAgICAgID8gY29udmVydExhbmdDaGFpbk1lc3NhZ2VUb0V4YW1wbGUoZ2VuZXJhdGlvbnMpXG4gICAgICAgICAgICA6IGdlbmVyYXRpb25zO1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVFeGFtcGxlKHsgaW5wdXQ6IGZpbmFsSW5wdXQgfSwgeyBvdXRwdXQ6IGZpbmFsT3V0cHV0IH0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICBhc3luYyByZWFkRXhhbXBsZShleGFtcGxlSWQpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvZXhhbXBsZXMvJHtleGFtcGxlSWR9YDtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2dldChwYXRoKTtcbiAgICB9XG4gICAgYXN5bmMgKmxpc3RFeGFtcGxlcyh7IGRhdGFzZXRJZCwgZGF0YXNldE5hbWUsIGV4YW1wbGVJZHMsIH0gPSB7fSkge1xuICAgICAgICBsZXQgZGF0YXNldElkXztcbiAgICAgICAgaWYgKGRhdGFzZXRJZCAhPT0gdW5kZWZpbmVkICYmIGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBlaXRoZXIgZGF0YXNldE5hbWUgb3IgZGF0YXNldElkLCBub3QgYm90aFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhc2V0SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YXNldElkXyA9IGRhdGFzZXRJZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhc2V0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhc2V0ID0gYXdhaXQgdGhpcy5yZWFkRGF0YXNldCh7IGRhdGFzZXROYW1lIH0pO1xuICAgICAgICAgICAgZGF0YXNldElkXyA9IGRhdGFzZXQuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgYSBkYXRhc2V0TmFtZSBvciBkYXRhc2V0SWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7IGRhdGFzZXQ6IGRhdGFzZXRJZF8gfSk7XG4gICAgICAgIGlmIChleGFtcGxlSWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWRfIG9mIGV4YW1wbGVJZHMpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwiaWRcIiwgaWRfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV4YW1wbGVzIG9mIHRoaXMuX2dldFBhZ2luYXRlZChcIi9leGFtcGxlc1wiLCBwYXJhbXMpKSB7XG4gICAgICAgICAgICB5aWVsZCogZXhhbXBsZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlRXhhbXBsZShleGFtcGxlSWQpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvZXhhbXBsZXMvJHtleGFtcGxlSWR9YDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCB0aGlzLmFwaVVybCArIHBhdGgsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlICR7cGF0aH06ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVFeGFtcGxlKGV4YW1wbGVJZCwgdXBkYXRlKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L2V4YW1wbGVzLyR7ZXhhbXBsZUlkfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi50aGlzLmhlYWRlcnMsIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1cGRhdGUpLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgZXhhbXBsZSAke2V4YW1wbGVJZH06ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBhc3luYyBldmFsdWF0ZVJ1bihydW4sIGV2YWx1YXRvciwgeyBzb3VyY2VJbmZvLCBsb2FkQ2hpbGRSdW5zLCB9ID0geyBsb2FkQ2hpbGRSdW5zOiBmYWxzZSB9KSB7XG4gICAgICAgIGxldCBydW5fO1xuICAgICAgICBpZiAodHlwZW9mIHJ1biA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcnVuXyA9IGF3YWl0IHRoaXMucmVhZFJ1bihydW4sIHsgbG9hZENoaWxkUnVucyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgcnVuID09PSBcIm9iamVjdFwiICYmIFwiaWRcIiBpbiBydW4pIHtcbiAgICAgICAgICAgIHJ1bl8gPSBydW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcnVuIHR5cGU6ICR7dHlwZW9mIHJ1bn1gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVmZXJlbmNlRXhhbXBsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHJ1bl8ucmVmZXJlbmNlX2V4YW1wbGVfaWQgIT09IG51bGwgJiZcbiAgICAgICAgICAgIHJ1bl8ucmVmZXJlbmNlX2V4YW1wbGVfaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVmZXJlbmNlRXhhbXBsZSA9IGF3YWl0IHRoaXMucmVhZEV4YW1wbGUocnVuXy5yZWZlcmVuY2VfZXhhbXBsZV9pZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmVlZGJhY2tSZXN1bHQgPSBhd2FpdCBldmFsdWF0b3IuZXZhbHVhdGVSdW4ocnVuXywgcmVmZXJlbmNlRXhhbXBsZSk7XG4gICAgICAgIGxldCBzb3VyY2VJbmZvXyA9IHNvdXJjZUluZm8gPz8ge307XG4gICAgICAgIGlmIChmZWVkYmFja1Jlc3VsdC5ldmFsdWF0b3JJbmZvKSB7XG4gICAgICAgICAgICBzb3VyY2VJbmZvXyA9IHsgLi4uc291cmNlSW5mb18sIC4uLmZlZWRiYWNrUmVzdWx0LmV2YWx1YXRvckluZm8gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jcmVhdGVGZWVkYmFjayhydW5fLmlkLCBmZWVkYmFja1Jlc3VsdC5rZXksIHtcbiAgICAgICAgICAgIHNjb3JlOiBmZWVkYmFja1Jlc3VsdC5zY29yZSxcbiAgICAgICAgICAgIHZhbHVlOiBmZWVkYmFja1Jlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgIGNvbW1lbnQ6IGZlZWRiYWNrUmVzdWx0LmNvbW1lbnQsXG4gICAgICAgICAgICBjb3JyZWN0aW9uOiBmZWVkYmFja1Jlc3VsdC5jb3JyZWN0aW9uLFxuICAgICAgICAgICAgc291cmNlSW5mbzogc291cmNlSW5mb18sXG4gICAgICAgICAgICBmZWVkYmFja1NvdXJjZVR5cGU6IFwibW9kZWxcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZUZlZWRiYWNrKHJ1bklkLCBrZXksIHsgc2NvcmUsIHZhbHVlLCBjb3JyZWN0aW9uLCBjb21tZW50LCBzb3VyY2VJbmZvLCBmZWVkYmFja1NvdXJjZVR5cGUgPSBcImFwaVwiLCBzb3VyY2VSdW5JZCwgZmVlZGJhY2tJZCwgZWFnZXIgPSBmYWxzZSwgfSkge1xuICAgICAgICBjb25zdCBmZWVkYmFja19zb3VyY2UgPSB7XG4gICAgICAgICAgICB0eXBlOiBmZWVkYmFja1NvdXJjZVR5cGUgPz8gXCJhcGlcIixcbiAgICAgICAgICAgIG1ldGFkYXRhOiBzb3VyY2VJbmZvID8/IHt9LFxuICAgICAgICB9O1xuICAgICAgICBpZiAoc291cmNlUnVuSWQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgZmVlZGJhY2tfc291cmNlPy5tZXRhZGF0YSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAhZmVlZGJhY2tfc291cmNlLm1ldGFkYXRhW1wiX19ydW5cIl0pIHtcbiAgICAgICAgICAgIGZlZWRiYWNrX3NvdXJjZS5tZXRhZGF0YVtcIl9fcnVuXCJdID0geyBydW5faWQ6IHNvdXJjZVJ1bklkIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmVlZGJhY2sgPSB7XG4gICAgICAgICAgICBpZDogZmVlZGJhY2tJZCA/PyB1dWlkLnY0KCksXG4gICAgICAgICAgICBydW5faWQ6IHJ1bklkLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgc2NvcmUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNvcnJlY3Rpb24sXG4gICAgICAgICAgICBjb21tZW50LFxuICAgICAgICAgICAgZmVlZGJhY2tfc291cmNlOiBmZWVkYmFja19zb3VyY2UsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYXBpVXJsfS9mZWVkYmFja2AgKyAoZWFnZXIgPyBcIi9lYWdlclwiIDogXCJcIik7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgdXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi50aGlzLmhlYWRlcnMsIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShmZWVkYmFjayksXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHJhaXNlRm9yU3RhdHVzKHJlc3BvbnNlLCBcImNyZWF0ZSBmZWVkYmFja1wiKTtcbiAgICAgICAgcmV0dXJuIGZlZWRiYWNrO1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVGZWVkYmFjayhmZWVkYmFja0lkLCB7IHNjb3JlLCB2YWx1ZSwgY29ycmVjdGlvbiwgY29tbWVudCwgfSkge1xuICAgICAgICBjb25zdCBmZWVkYmFja1VwZGF0ZSA9IHt9O1xuICAgICAgICBpZiAoc2NvcmUgIT09IHVuZGVmaW5lZCAmJiBzY29yZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZmVlZGJhY2tVcGRhdGVbXCJzY29yZVwiXSA9IHNjb3JlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmZWVkYmFja1VwZGF0ZVtcInZhbHVlXCJdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvcnJlY3Rpb24gIT09IHVuZGVmaW5lZCAmJiBjb3JyZWN0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmZWVkYmFja1VwZGF0ZVtcImNvcnJlY3Rpb25cIl0gPSBjb3JyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21tZW50ICE9PSB1bmRlZmluZWQgJiYgY29tbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZmVlZGJhY2tVcGRhdGVbXCJjb21tZW50XCJdID0gY29tbWVudDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9mZWVkYmFjay8ke2ZlZWRiYWNrSWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLnRoaXMuaGVhZGVycywgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGZlZWRiYWNrVXBkYXRlKSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgcmFpc2VGb3JTdGF0dXMocmVzcG9uc2UsIFwidXBkYXRlIGZlZWRiYWNrXCIpO1xuICAgIH1cbiAgICBhc3luYyByZWFkRmVlZGJhY2soZmVlZGJhY2tJZCkge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9mZWVkYmFjay8ke2ZlZWRiYWNrSWR9YDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9nZXQocGF0aCk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlRmVlZGJhY2soZmVlZGJhY2tJZCkge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9mZWVkYmFjay8ke2ZlZWRiYWNrSWR9YDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCB0aGlzLmFwaVVybCArIHBhdGgsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlICR7cGF0aH06ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICBhc3luYyAqbGlzdEZlZWRiYWNrKHsgcnVuSWRzLCBmZWVkYmFja0tleXMsIGZlZWRiYWNrU291cmNlVHlwZXMsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgaWYgKHJ1bklkcykge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwicnVuXCIsIHJ1bklkcy5qb2luKFwiLFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZlZWRiYWNrS2V5cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZmVlZGJhY2tLZXlzKSB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwia2V5XCIsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZlZWRiYWNrU291cmNlVHlwZXMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBmZWVkYmFja1NvdXJjZVR5cGVzKSB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwic291cmNlXCIsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZmVlZGJhY2tzIG9mIHRoaXMuX2dldFBhZ2luYXRlZChcIi9mZWVkYmFja1wiLCBxdWVyeVBhcmFtcykpIHtcbiAgICAgICAgICAgIHlpZWxkKiBmZWVkYmFja3M7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgaXNCcm93c2VyID0gKCkgPT4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuZXhwb3J0IGNvbnN0IGlzV2ViV29ya2VyID0gKCkgPT4gdHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIgJiZcbiAgICBnbG9iYWxUaGlzLmNvbnN0cnVjdG9yICYmXG4gICAgZ2xvYmFsVGhpcy5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIkRlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlXCI7XG5leHBvcnQgY29uc3QgaXNKc0RvbSA9ICgpID0+ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5uYW1lID09PSBcIm5vZGVqc1wiKSB8fFxuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIChuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwiTm9kZS5qc1wiKSB8fFxuICAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcyhcImpzZG9tXCIpKSk7XG4vLyBTdXBhYmFzZSBFZGdlIEZ1bmN0aW9uIHByb3ZpZGVzIGEgYERlbm9gIGdsb2JhbCBvYmplY3Rcbi8vIHdpdGhvdXQgYHZlcnNpb25gIHByb3BlcnR5XG5leHBvcnQgY29uc3QgaXNEZW5vID0gKCkgPT4gdHlwZW9mIERlbm8gIT09IFwidW5kZWZpbmVkXCI7XG4vLyBNYXJrIG5vdC1hcy1ub2RlIGlmIGluIFN1cGFiYXNlIEVkZ2UgRnVuY3Rpb25cbmV4cG9ydCBjb25zdCBpc05vZGUgPSAoKSA9PiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICFpc0Rlbm8oKTtcbmV4cG9ydCBjb25zdCBnZXRFbnYgPSAoKSA9PiB7XG4gICAgbGV0IGVudjtcbiAgICBpZiAoaXNCcm93c2VyKCkpIHtcbiAgICAgICAgZW52ID0gXCJicm93c2VyXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTm9kZSgpKSB7XG4gICAgICAgIGVudiA9IFwibm9kZVwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1dlYldvcmtlcigpKSB7XG4gICAgICAgIGVudiA9IFwid2Vid29ya2VyXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzSnNEb20oKSkge1xuICAgICAgICBlbnYgPSBcImpzZG9tXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRGVubygpKSB7XG4gICAgICAgIGVudiA9IFwiZGVub1wiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZW52ID0gXCJvdGhlclwiO1xuICAgIH1cbiAgICByZXR1cm4gZW52O1xufTtcbmxldCBydW50aW1lRW52aXJvbm1lbnQ7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UnVudGltZUVudmlyb25tZW50KCkge1xuICAgIGlmIChydW50aW1lRW52aXJvbm1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbnYgPSBnZXRFbnYoKTtcbiAgICAgICAgcnVudGltZUVudmlyb25tZW50ID0ge1xuICAgICAgICAgICAgbGlicmFyeTogXCJsYW5nY2hhaW4tanNcIixcbiAgICAgICAgICAgIHJ1bnRpbWU6IGVudixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bnRpbWVFbnZpcm9ubWVudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKG5hbWUpIHtcbiAgICAvLyBDZXJ0YWluIERlbm8gc2V0dXBzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgeW91IHRyeSB0byBhY2Nlc3MgZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2xhbmdjaGFpbi1haS9sYW5nY2hhaW5qcy9pc3N1ZXMvMTQxMlxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudj8uW25hbWVdXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDbGllbnQgfSBmcm9tIFwibGFuZ3NtaXRoXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlLCBnZXRSdW50aW1lRW52aXJvbm1lbnQsIH0gZnJvbSBcIi4uLy4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4vdHJhY2VyLmpzXCI7XG5leHBvcnQgY2xhc3MgTGFuZ0NoYWluVHJhY2VyIGV4dGVuZHMgQmFzZVRyYWNlciB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzID0ge30pIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJsYW5nY2hhaW5fdHJhY2VyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb2plY3ROYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV4YW1wbGVJZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyBleGFtcGxlSWQsIHByb2plY3ROYW1lLCBjbGllbnQgfSA9IGZpZWxkcztcbiAgICAgICAgdGhpcy5wcm9qZWN0TmFtZSA9XG4gICAgICAgICAgICBwcm9qZWN0TmFtZSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fUFJPSkVDVFwiKSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fU0VTU0lPTlwiKTtcbiAgICAgICAgdGhpcy5leGFtcGxlSWQgPSBleGFtcGxlSWQ7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50ID8/IG5ldyBDbGllbnQoe30pO1xuICAgIH1cbiAgICBhc3luYyBfY29udmVydFRvQ3JlYXRlKHJ1biwgZXhhbXBsZV9pZCA9IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucnVuLFxuICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICAuLi5ydW4uZXh0cmEsXG4gICAgICAgICAgICAgICAgcnVudGltZTogYXdhaXQgZ2V0UnVudGltZUVudmlyb25tZW50KCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hpbGRfcnVuczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2Vzc2lvbl9uYW1lOiB0aGlzLnByb2plY3ROYW1lLFxuICAgICAgICAgICAgcmVmZXJlbmNlX2V4YW1wbGVfaWQ6IHJ1bi5wYXJlbnRfcnVuX2lkID8gdW5kZWZpbmVkIDogZXhhbXBsZV9pZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgcGVyc2lzdFJ1bihfcnVuKSB7IH1cbiAgICBhc3luYyBfcGVyc2lzdFJ1blNpbmdsZShydW4pIHtcbiAgICAgICAgY29uc3QgcGVyc2lzdGVkUnVuID0gYXdhaXQgdGhpcy5fY29udmVydFRvQ3JlYXRlKHJ1biwgdGhpcy5leGFtcGxlSWQpO1xuICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC5jcmVhdGVSdW4ocGVyc2lzdGVkUnVuKTtcbiAgICB9XG4gICAgYXN5bmMgX3VwZGF0ZVJ1blNpbmdsZShydW4pIHtcbiAgICAgICAgY29uc3QgcnVuVXBkYXRlID0ge1xuICAgICAgICAgICAgZW5kX3RpbWU6IHJ1bi5lbmRfdGltZSxcbiAgICAgICAgICAgIGVycm9yOiBydW4uZXJyb3IsXG4gICAgICAgICAgICBvdXRwdXRzOiBydW4ub3V0cHV0cyxcbiAgICAgICAgICAgIGV2ZW50czogcnVuLmV2ZW50cyxcbiAgICAgICAgICAgIGlucHV0czogcnVuLmlucHV0cyxcbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQudXBkYXRlUnVuKHJ1bi5pZCwgcnVuVXBkYXRlKTtcbiAgICB9XG4gICAgYXN5bmMgb25SZXRyaWV2ZXJTdGFydChydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fcGVyc2lzdFJ1blNpbmdsZShydW4pO1xuICAgIH1cbiAgICBhc3luYyBvblJldHJpZXZlckVuZChydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlUnVuU2luZ2xlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIG9uUmV0cmlldmVyRXJyb3IocnVuKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZVJ1blNpbmdsZShydW4pO1xuICAgIH1cbiAgICBhc3luYyBvbkxMTVN0YXJ0KHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl9wZXJzaXN0UnVuU2luZ2xlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIG9uTExNRW5kKHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25MTE1FcnJvcihydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlUnVuU2luZ2xlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIG9uQ2hhaW5TdGFydChydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fcGVyc2lzdFJ1blNpbmdsZShydW4pO1xuICAgIH1cbiAgICBhc3luYyBvbkNoYWluRW5kKHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25DaGFpbkVycm9yKHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25Ub29sU3RhcnQocnVuKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3BlcnNpc3RSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25Ub29sRW5kKHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25Ub29sRXJyb3IocnVuKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZVJ1blNpbmdsZShydW4pO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQWJzdHJhY3QgYmFzZSBjbGFzcyBmb3IgbWVtb3J5IGluIExhbmdDaGFpbidzIENoYWlucy4gTWVtb3J5IHJlZmVycyB0b1xuICogdGhlIHN0YXRlIGluIENoYWlucy4gSXQgY2FuIGJlIHVzZWQgdG8gc3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgcGFzdFxuICogZXhlY3V0aW9ucyBvZiBhIENoYWluIGFuZCBpbmplY3QgdGhhdCBpbmZvcm1hdGlvbiBpbnRvIHRoZSBpbnB1dHMgb2ZcbiAqIGZ1dHVyZSBleGVjdXRpb25zIG9mIHRoZSBDaGFpbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VNZW1vcnkge1xufVxuY29uc3QgZ2V0VmFsdWUgPSAodmFsdWVzLCBrZXkpID0+IHtcbiAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1trZXldO1xuICAgIH1cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmFsdWVzKTtcbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1trZXlzWzBdXTtcbiAgICB9XG59O1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYnkgbWVtb3J5IGNsYXNzZXMgdG8gc2VsZWN0IHRoZSBpbnB1dCB2YWx1ZVxuICogdG8gdXNlIGZvciB0aGUgbWVtb3J5LiBJZiB0aGVyZSBpcyBvbmx5IG9uZSBpbnB1dCB2YWx1ZSwgaXQgaXMgdXNlZC5cbiAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBpbnB1dCB2YWx1ZXMsIHRoZSBpbnB1dEtleSBtdXN0IGJlIHNwZWNpZmllZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldElucHV0VmFsdWUgPSAoaW5wdXRWYWx1ZXMsIGlucHV0S2V5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBnZXRWYWx1ZShpbnB1dFZhbHVlcywgaW5wdXRLZXkpO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGlucHV0VmFsdWVzKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnB1dCB2YWx1ZXMgaGF2ZSAke2tleXMubGVuZ3RofSBrZXlzLCB5b3UgbXVzdCBzcGVjaWZ5IGFuIGlucHV0IGtleSBvciBwYXNzIG9ubHkgMSBrZXkgYXMgaW5wdXRgKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGJ5IG1lbW9yeSBjbGFzc2VzIHRvIHNlbGVjdCB0aGUgb3V0cHV0IHZhbHVlXG4gKiB0byB1c2UgZm9yIHRoZSBtZW1vcnkuIElmIHRoZXJlIGlzIG9ubHkgb25lIG91dHB1dCB2YWx1ZSwgaXQgaXMgdXNlZC5cbiAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBvdXRwdXQgdmFsdWVzLCB0aGUgb3V0cHV0S2V5IG11c3QgYmUgc3BlY2lmaWVkLlxuICogSWYgbm8gb3V0cHV0S2V5IGlzIHNwZWNpZmllZCwgYW4gZXJyb3IgaXMgdGhyb3duLlxuICovXG5leHBvcnQgY29uc3QgZ2V0T3V0cHV0VmFsdWUgPSAob3V0cHV0VmFsdWVzLCBvdXRwdXRLZXkpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGdldFZhbHVlKG91dHB1dFZhbHVlcywgb3V0cHV0S2V5KTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvdXRwdXRWYWx1ZXMpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG91dHB1dCB2YWx1ZXMgaGF2ZSAke2tleXMubGVuZ3RofSBrZXlzLCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dCBrZXkgb3IgcGFzcyBvbmx5IDEga2V5IGFzIG91dHB1dGApO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYnkgbWVtb3J5IGNsYXNzZXMgdG8gZ2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gKiBvZiB0aGUgY2hhdCBtZXNzYWdlIGhpc3RvcnksIGJhc2VkIG9uIHRoZSBtZXNzYWdlIGNvbnRlbnQgYW5kIHJvbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCdWZmZXJTdHJpbmcobWVzc2FnZXMsIGh1bWFuUHJlZml4ID0gXCJIdW1hblwiLCBhaVByZWZpeCA9IFwiQUlcIikge1xuICAgIGNvbnN0IHN0cmluZ19tZXNzYWdlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgbSBvZiBtZXNzYWdlcykge1xuICAgICAgICBsZXQgcm9sZTtcbiAgICAgICAgaWYgKG0uX2dldFR5cGUoKSA9PT0gXCJodW1hblwiKSB7XG4gICAgICAgICAgICByb2xlID0gaHVtYW5QcmVmaXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobS5fZ2V0VHlwZSgpID09PSBcImFpXCIpIHtcbiAgICAgICAgICAgIHJvbGUgPSBhaVByZWZpeDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtLl9nZXRUeXBlKCkgPT09IFwic3lzdGVtXCIpIHtcbiAgICAgICAgICAgIHJvbGUgPSBcIlN5c3RlbVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG0uX2dldFR5cGUoKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByb2xlID0gXCJGdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG0uX2dldFR5cGUoKSA9PT0gXCJnZW5lcmljXCIpIHtcbiAgICAgICAgICAgIHJvbGUgPSBtLnJvbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEdvdCB1bnN1cHBvcnRlZCBtZXNzYWdlIHR5cGU6ICR7bX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYW1lU3RyID0gbS5uYW1lID8gYCR7bS5uYW1lfSwgYCA6IFwiXCI7XG4gICAgICAgIHN0cmluZ19tZXNzYWdlcy5wdXNoKGAke3JvbGV9OiAke25hbWVTdHJ9JHttLmNvbnRlbnR9YCk7XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmdfbWVzc2FnZXMuam9pbihcIlxcblwiKTtcbn1cbi8qKlxuICogRnVuY3Rpb24gdXNlZCBieSBtZW1vcnkgY2xhc3NlcyB0byBnZXQgdGhlIGtleSBvZiB0aGUgcHJvbXB0IGlucHV0LFxuICogZXhjbHVkaW5nIGFueSBrZXlzIHRoYXQgYXJlIG1lbW9yeSB2YXJpYWJsZXMgb3IgdGhlIFwic3RvcFwiIGtleS4gSWZcbiAqIHRoZXJlIGlzIG5vdCBleGFjdGx5IG9uZSBwcm9tcHQgaW5wdXQga2V5LCBhbiBlcnJvciBpcyB0aHJvd24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9tcHRJbnB1dEtleShpbnB1dHMsIG1lbW9yeVZhcmlhYmxlcykge1xuICAgIGNvbnN0IHByb21wdElucHV0S2V5cyA9IE9iamVjdC5rZXlzKGlucHV0cykuZmlsdGVyKChrZXkpID0+ICFtZW1vcnlWYXJpYWJsZXMuaW5jbHVkZXMoa2V5KSAmJiBrZXkgIT09IFwic3RvcFwiKTtcbiAgICBpZiAocHJvbXB0SW5wdXRLZXlzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE9uZSBpbnB1dCBrZXkgZXhwZWN0ZWQsIGJ1dCBnb3QgJHtwcm9tcHRJbnB1dEtleXMubGVuZ3RofWApO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbXB0SW5wdXRLZXlzWzBdO1xufVxuIiwiaW1wb3J0IHsgZ2V0QnVmZmVyU3RyaW5nIH0gZnJvbSBcIi4uLy4uL21lbW9yeS9iYXNlLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uLy4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4vdHJhY2VyLmpzXCI7XG5leHBvcnQgY2xhc3MgTGFuZ0NoYWluVHJhY2VyVjEgZXh0ZW5kcyBCYXNlVHJhY2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJsYW5nY2hhaW5fdHJhY2VyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVuZHBvaW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX0VORFBPSU5UXCIpIHx8IFwiaHR0cDovL2xvY2FsaG9zdDoxOTg0XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhlYWRlcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlc3Npb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYXBpS2V5ID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9BUElfS0VZXCIpO1xuICAgICAgICBpZiAoYXBpS2V5KSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbXCJ4LWFwaS1rZXlcIl0gPSBhcGlLZXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgbmV3U2Vzc2lvbihzZXNzaW9uTmFtZSkge1xuICAgICAgICBjb25zdCBzZXNzaW9uQ3JlYXRlID0ge1xuICAgICAgICAgICAgc3RhcnRfdGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIG5hbWU6IHNlc3Npb25OYW1lLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5wZXJzaXN0U2Vzc2lvbihzZXNzaW9uQ3JlYXRlKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfVxuICAgIGFzeW5jIGxvYWRTZXNzaW9uKHNlc3Npb25OYW1lKSB7XG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7dGhpcy5lbmRwb2ludH0vc2Vzc2lvbnM/bmFtZT0ke3Nlc3Npb25OYW1lfWA7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVTZXNzaW9uUmVzcG9uc2UoZW5kcG9pbnQpO1xuICAgIH1cbiAgICBhc3luYyBsb2FkRGVmYXVsdFNlc3Npb24oKSB7XG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7dGhpcy5lbmRwb2ludH0vc2Vzc2lvbnM/bmFtZT1kZWZhdWx0YDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVNlc3Npb25SZXNwb25zZShlbmRwb2ludCk7XG4gICAgfVxuICAgIGFzeW5jIGNvbnZlcnRWMlJ1blRvUnVuKHJ1bikge1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gdGhpcy5zZXNzaW9uID8/IChhd2FpdCB0aGlzLmxvYWREZWZhdWx0U2Vzc2lvbigpKTtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IHJ1bi5zZXJpYWxpemVkO1xuICAgICAgICBsZXQgcnVuUmVzdWx0O1xuICAgICAgICBpZiAocnVuLnJ1bl90eXBlID09PSBcImxsbVwiKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9tcHRzID0gcnVuLmlucHV0cy5wcm9tcHRzXG4gICAgICAgICAgICAgICAgPyBydW4uaW5wdXRzLnByb21wdHNcbiAgICAgICAgICAgICAgICA6IHJ1bi5pbnB1dHMubWVzc2FnZXMubWFwKCh4KSA9PiBnZXRCdWZmZXJTdHJpbmcoeCkpO1xuICAgICAgICAgICAgY29uc3QgbGxtUnVuID0ge1xuICAgICAgICAgICAgICAgIHV1aWQ6IHJ1bi5pZCxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lOiBydW4uc3RhcnRfdGltZSxcbiAgICAgICAgICAgICAgICBlbmRfdGltZTogcnVuLmVuZF90aW1lLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGlvbl9vcmRlcjogcnVuLmV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IHJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICAgICAgc2VyaWFsaXplZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBydW4ucnVuX3R5cGUsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICBwcm9tcHRzLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBydW4ub3V0cHV0cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBydW5SZXN1bHQgPSBsbG1SdW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocnVuLnJ1bl90eXBlID09PSBcImNoYWluXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkX3J1bnMgPSBhd2FpdCBQcm9taXNlLmFsbChydW4uY2hpbGRfcnVucy5tYXAoKGNoaWxkX3J1bikgPT4gdGhpcy5jb252ZXJ0VjJSdW5Ub1J1bihjaGlsZF9ydW4pKSk7XG4gICAgICAgICAgICBjb25zdCBjaGFpblJ1biA9IHtcbiAgICAgICAgICAgICAgICB1dWlkOiBydW4uaWQsXG4gICAgICAgICAgICAgICAgc3RhcnRfdGltZTogcnVuLnN0YXJ0X3RpbWUsXG4gICAgICAgICAgICAgICAgZW5kX3RpbWU6IHJ1bi5lbmRfdGltZSxcbiAgICAgICAgICAgICAgICBleGVjdXRpb25fb3JkZXI6IHJ1bi5leGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICAgICAgY2hpbGRfZXhlY3V0aW9uX29yZGVyOiBydW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgICAgIHNlcmlhbGl6ZWQsXG4gICAgICAgICAgICAgICAgdHlwZTogcnVuLnJ1bl90eXBlLFxuICAgICAgICAgICAgICAgIHNlc3Npb25faWQ6IHNlc3Npb24uaWQsXG4gICAgICAgICAgICAgICAgaW5wdXRzOiBydW4uaW5wdXRzLFxuICAgICAgICAgICAgICAgIG91dHB1dHM6IHJ1bi5vdXRwdXRzLFxuICAgICAgICAgICAgICAgIGNoaWxkX2xsbV9ydW5zOiBjaGlsZF9ydW5zLmZpbHRlcigoY2hpbGRfcnVuKSA9PiBjaGlsZF9ydW4udHlwZSA9PT0gXCJsbG1cIiksXG4gICAgICAgICAgICAgICAgY2hpbGRfY2hhaW5fcnVuczogY2hpbGRfcnVucy5maWx0ZXIoKGNoaWxkX3J1bikgPT4gY2hpbGRfcnVuLnR5cGUgPT09IFwiY2hhaW5cIiksXG4gICAgICAgICAgICAgICAgY2hpbGRfdG9vbF9ydW5zOiBjaGlsZF9ydW5zLmZpbHRlcigoY2hpbGRfcnVuKSA9PiBjaGlsZF9ydW4udHlwZSA9PT0gXCJ0b29sXCIpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJ1blJlc3VsdCA9IGNoYWluUnVuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJ1bi5ydW5fdHlwZSA9PT0gXCJ0b29sXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkX3J1bnMgPSBhd2FpdCBQcm9taXNlLmFsbChydW4uY2hpbGRfcnVucy5tYXAoKGNoaWxkX3J1bikgPT4gdGhpcy5jb252ZXJ0VjJSdW5Ub1J1bihjaGlsZF9ydW4pKSk7XG4gICAgICAgICAgICBjb25zdCB0b29sUnVuID0ge1xuICAgICAgICAgICAgICAgIHV1aWQ6IHJ1bi5pZCxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lOiBydW4uc3RhcnRfdGltZSxcbiAgICAgICAgICAgICAgICBlbmRfdGltZTogcnVuLmVuZF90aW1lLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGlvbl9vcmRlcjogcnVuLmV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IHJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICAgICAgc2VyaWFsaXplZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBydW4ucnVuX3R5cGUsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICB0b29sX2lucHV0OiBydW4uaW5wdXRzLmlucHV0LFxuICAgICAgICAgICAgICAgIG91dHB1dDogcnVuLm91dHB1dHM/Lm91dHB1dCxcbiAgICAgICAgICAgICAgICBhY3Rpb246IEpTT04uc3RyaW5naWZ5KHNlcmlhbGl6ZWQpLFxuICAgICAgICAgICAgICAgIGNoaWxkX2xsbV9ydW5zOiBjaGlsZF9ydW5zLmZpbHRlcigoY2hpbGRfcnVuKSA9PiBjaGlsZF9ydW4udHlwZSA9PT0gXCJsbG1cIiksXG4gICAgICAgICAgICAgICAgY2hpbGRfY2hhaW5fcnVuczogY2hpbGRfcnVucy5maWx0ZXIoKGNoaWxkX3J1bikgPT4gY2hpbGRfcnVuLnR5cGUgPT09IFwiY2hhaW5cIiksXG4gICAgICAgICAgICAgICAgY2hpbGRfdG9vbF9ydW5zOiBjaGlsZF9ydW5zLmZpbHRlcigoY2hpbGRfcnVuKSA9PiBjaGlsZF9ydW4udHlwZSA9PT0gXCJ0b29sXCIpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJ1blJlc3VsdCA9IHRvb2xSdW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcnVuIHR5cGU6ICR7cnVuLnJ1bl90eXBlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydW5SZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIHBlcnNpc3RSdW4ocnVuKSB7XG4gICAgICAgIGxldCBlbmRwb2ludDtcbiAgICAgICAgbGV0IHYxUnVuO1xuICAgICAgICBpZiAocnVuLnJ1bl90eXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHYxUnVuID0gYXdhaXQgdGhpcy5jb252ZXJ0VjJSdW5Ub1J1bihydW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdjFSdW4gPSBydW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHYxUnVuLnR5cGUgPT09IFwibGxtXCIpIHtcbiAgICAgICAgICAgIGVuZHBvaW50ID0gYCR7dGhpcy5lbmRwb2ludH0vbGxtLXJ1bnNgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHYxUnVuLnR5cGUgPT09IFwiY2hhaW5cIikge1xuICAgICAgICAgICAgZW5kcG9pbnQgPSBgJHt0aGlzLmVuZHBvaW50fS9jaGFpbi1ydW5zYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVuZHBvaW50ID0gYCR7dGhpcy5lbmRwb2ludH0vdG9vbC1ydW5zYDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGVuZHBvaW50LCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodjFSdW4pLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHBlcnNpc3QgcnVuOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHBlcnNpc3RTZXNzaW9uKHNlc3Npb25DcmVhdGUpIHtcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLmVuZHBvaW50fS9zZXNzaW9uc2A7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZW5kcG9pbnQsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShzZXNzaW9uQ3JlYXRlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBwZXJzaXN0IHNlc3Npb246ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9LCB1c2luZyBkZWZhdWx0IHNlc3Npb24uYCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgICAgICAgIC4uLnNlc3Npb25DcmVhdGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkuaWQsXG4gICAgICAgICAgICAuLi5zZXNzaW9uQ3JlYXRlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBfaGFuZGxlU2Vzc2lvblJlc3BvbnNlKGVuZHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZW5kcG9pbnQsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCB0cmFjZXJTZXNzaW9uO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gbG9hZCBzZXNzaW9uOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgdHJhY2VyU2Vzc2lvbiA9IHtcbiAgICAgICAgICAgICAgICBpZDogMSxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IHRyYWNlclNlc3Npb247XG4gICAgICAgICAgICByZXR1cm4gdHJhY2VyU2Vzc2lvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgIGlmIChyZXNwLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdHJhY2VyU2Vzc2lvbiA9IHtcbiAgICAgICAgICAgICAgICBpZDogMSxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IHRyYWNlclNlc3Npb247XG4gICAgICAgICAgICByZXR1cm4gdHJhY2VyU2Vzc2lvbjtcbiAgICAgICAgfVxuICAgICAgICBbdHJhY2VyU2Vzc2lvbl0gPSByZXNwO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSB0cmFjZXJTZXNzaW9uO1xuICAgICAgICByZXR1cm4gdHJhY2VyU2Vzc2lvbjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBMYW5nQ2hhaW5UcmFjZXIgfSBmcm9tIFwiLi90cmFjZXJfbGFuZ2NoYWluLmpzXCI7XG5pbXBvcnQgeyBMYW5nQ2hhaW5UcmFjZXJWMSB9IGZyb20gXCIuL3RyYWNlcl9sYW5nY2hhaW5fdjEuanNcIjtcbi8qKlxuICogRnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGluc3RhbmNlIG9mIGBMYW5nQ2hhaW5UcmFjZXJWMWAuIElmIGEgc2Vzc2lvblxuICogaXMgcHJvdmlkZWQsIGl0IGxvYWRzIHRoYXQgc2Vzc2lvbiBpbnRvIHRoZSB0cmFjZXI7IG90aGVyd2lzZSwgaXQgbG9hZHNcbiAqIGEgZGVmYXVsdCBzZXNzaW9uLlxuICogQHBhcmFtIHNlc3Npb24gT3B0aW9uYWwgc2Vzc2lvbiB0byBsb2FkIGludG8gdGhlIHRyYWNlci5cbiAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIGBMYW5nQ2hhaW5UcmFjZXJWMWAuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUcmFjaW5nQ2FsbGJhY2tIYW5kbGVyKHNlc3Npb24pIHtcbiAgICBjb25zdCB0cmFjZXIgPSBuZXcgTGFuZ0NoYWluVHJhY2VyVjEoKTtcbiAgICBpZiAoc2Vzc2lvbikge1xuICAgICAgICBhd2FpdCB0cmFjZXIubG9hZFNlc3Npb24oc2Vzc2lvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhd2FpdCB0cmFjZXIubG9hZERlZmF1bHRTZXNzaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiB0cmFjZXI7XG59XG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBpbnN0YW5jZSBvZiBgTGFuZ0NoYWluVHJhY2VyYC4gSXQgZG9lcyBub3RcbiAqIGxvYWQgYW55IHNlc3Npb24gZGF0YS5cbiAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIGBMYW5nQ2hhaW5UcmFjZXJgLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VHJhY2luZ1YyQ2FsbGJhY2tIYW5kbGVyKCkge1xuICAgIHJldHVybiBuZXcgTGFuZ0NoYWluVHJhY2VyKCk7XG59XG4iLCJpbXBvcnQgUFF1ZXVlTW9kIGZyb20gXCJwLXF1ZXVlXCI7XG5sZXQgcXVldWU7XG4vKipcbiAqIENyZWF0ZXMgYSBxdWV1ZSB1c2luZyB0aGUgcC1xdWV1ZSBsaWJyYXJ5LiBUaGUgcXVldWUgaXMgY29uZmlndXJlZCB0b1xuICogYXV0by1zdGFydCBhbmQgaGFzIGEgY29uY3VycmVuY3kgb2YgMSwgbWVhbmluZyBpdCB3aWxsIHByb2Nlc3MgdGFza3NcbiAqIG9uZSBhdCBhIHRpbWUuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVF1ZXVlKCkge1xuICAgIGNvbnN0IFBRdWV1ZSA9IFwiZGVmYXVsdFwiIGluIFBRdWV1ZU1vZCA/IFBRdWV1ZU1vZC5kZWZhdWx0IDogUFF1ZXVlTW9kO1xuICAgIHJldHVybiBuZXcgUFF1ZXVlKHtcbiAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgICBjb25jdXJyZW5jeTogMSxcbiAgICB9KTtcbn1cbi8qKlxuICogQ29uc3VtZSBhIHByb21pc2UsIGVpdGhlciBhZGRpbmcgaXQgdG8gdGhlIHF1ZXVlIG9yIHdhaXRpbmcgZm9yIGl0IHRvIHJlc29sdmVcbiAqIEBwYXJhbSBwcm9taXNlIFByb21pc2UgdG8gY29uc3VtZVxuICogQHBhcmFtIHdhaXQgV2hldGhlciB0byB3YWl0IGZvciB0aGUgcHJvbWlzZSB0byByZXNvbHZlIG9yIHJlc29sdmUgaW1tZWRpYXRlbHlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbnN1bWVDYWxsYmFjayhwcm9taXNlRm4sIHdhaXQpIHtcbiAgICBpZiAod2FpdCA9PT0gdHJ1ZSkge1xuICAgICAgICBhd2FpdCBwcm9taXNlRm4oKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgcXVldWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHF1ZXVlID0gY3JlYXRlUXVldWUoKTtcbiAgICAgICAgfVxuICAgICAgICB2b2lkIHF1ZXVlLmFkZChwcm9taXNlRm4pO1xuICAgIH1cbn1cbi8qKlxuICogV2FpdHMgZm9yIGFsbCBwcm9taXNlcyBpbiB0aGUgcXVldWUgdG8gcmVzb2x2ZS4gSWYgdGhlIHF1ZXVlIGlzXG4gKiB1bmRlZmluZWQsIGl0IGltbWVkaWF0ZWx5IHJlc29sdmVzIGEgcHJvbWlzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF3YWl0QWxsQ2FsbGJhY2tzKCkge1xuICAgIHJldHVybiB0eXBlb2YgcXVldWUgIT09IFwidW5kZWZpbmVkXCIgPyBxdWV1ZS5vbklkbGUoKSA6IFByb21pc2UucmVzb2x2ZSgpO1xufVxuIiwiaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IEJhc2VDYWxsYmFja0hhbmRsZXIsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgQ29uc29sZUNhbGxiYWNrSGFuZGxlciB9IGZyb20gXCIuL2hhbmRsZXJzL2NvbnNvbGUuanNcIjtcbmltcG9ydCB7IGdldFRyYWNpbmdDYWxsYmFja0hhbmRsZXIsIGdldFRyYWNpbmdWMkNhbGxiYWNrSGFuZGxlciwgfSBmcm9tIFwiLi9oYW5kbGVycy9pbml0aWFsaXplLmpzXCI7XG5pbXBvcnQgeyBnZXRCdWZmZXJTdHJpbmcgfSBmcm9tIFwiLi4vbWVtb3J5L2Jhc2UuanNcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi4vdXRpbC9lbnYuanNcIjtcbmltcG9ydCB7IExhbmdDaGFpblRyYWNlciwgfSBmcm9tIFwiLi9oYW5kbGVycy90cmFjZXJfbGFuZ2NoYWluLmpzXCI7XG5pbXBvcnQgeyBjb25zdW1lQ2FsbGJhY2sgfSBmcm9tIFwiLi9wcm9taXNlcy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ2FsbGJhY2tDb25maWdBcmcoYXJnKSB7XG4gICAgaWYgKCFhcmcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykgfHwgXCJuYW1lXCIgaW4gYXJnKSB7XG4gICAgICAgIHJldHVybiB7IGNhbGxiYWNrczogYXJnIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYXJnO1xuICAgIH1cbn1cbi8qKlxuICogTWFuYWdlIGNhbGxiYWNrcyBmcm9tIGRpZmZlcmVudCBjb21wb25lbnRzIG9mIExhbmdDaGFpbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VDYWxsYmFja01hbmFnZXIge1xuICAgIHNldEhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRIYW5kbGVycyhbaGFuZGxlcl0pO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgcnVuIG1hbmFnZXIgaW4gTGFuZ0NoYWluLlxuICovXG5jbGFzcyBCYXNlUnVuTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IocnVuSWQsIGhhbmRsZXJzLCBpbmhlcml0YWJsZUhhbmRsZXJzLCB0YWdzLCBpbmhlcml0YWJsZVRhZ3MsIG1ldGFkYXRhLCBpbmhlcml0YWJsZU1ldGFkYXRhLCBfcGFyZW50UnVuSWQpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicnVuSWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHJ1bklkXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJoYW5kbGVyc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogaGFuZGxlcnNcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaGVyaXRhYmxlSGFuZGxlcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGluaGVyaXRhYmxlSGFuZGxlcnNcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRhZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRhZ3NcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaGVyaXRhYmxlVGFnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogaW5oZXJpdGFibGVUYWdzXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXRhZGF0YVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogbWV0YWRhdGFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaGVyaXRhYmxlTWV0YWRhdGFcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGluaGVyaXRhYmxlTWV0YWRhdGFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wYXJlbnRSdW5JZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogX3BhcmVudFJ1bklkXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVUZXh0KHRleHQpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlVGV4dD8uKHRleHQsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVUZXh0OiAke2Vycn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgIH1cbn1cbi8qKlxuICogTWFuYWdlcyBjYWxsYmFja3MgZm9yIHJldHJpZXZlciBydW5zLlxuICovXG5leHBvcnQgY2xhc3MgQ2FsbGJhY2tNYW5hZ2VyRm9yUmV0cmlldmVyUnVuIGV4dGVuZHMgQmFzZVJ1bk1hbmFnZXIge1xuICAgIGdldENoaWxkKHRhZykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHRoaXMucnVuSWQpO1xuICAgICAgICBtYW5hZ2VyLnNldEhhbmRsZXJzKHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyk7XG4gICAgICAgIG1hbmFnZXIuYWRkVGFncyh0aGlzLmluaGVyaXRhYmxlVGFncyk7XG4gICAgICAgIG1hbmFnZXIuYWRkTWV0YWRhdGEodGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhKTtcbiAgICAgICAgaWYgKHRhZykge1xuICAgICAgICAgICAgbWFuYWdlci5hZGRUYWdzKFt0YWddLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hbmFnZXI7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVJldHJpZXZlckVuZChkb2N1bWVudHMpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlUmV0cmlldmVyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVSZXRyaWV2ZXJFbmQ/Lihkb2N1bWVudHMsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVSZXRyaWV2ZXJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlUmV0cmlldmVyRXJyb3IoZXJyKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyLmlnbm9yZVJldHJpZXZlcikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlUmV0cmlldmVyRXJyb3I/LihlcnIsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZVJldHJpZXZlckVycm9yOiAke2Vycm9yfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDYWxsYmFja01hbmFnZXJGb3JMTE1SdW4gZXh0ZW5kcyBCYXNlUnVuTWFuYWdlciB7XG4gICAgYXN5bmMgaGFuZGxlTExNTmV3VG9rZW4odG9rZW4sIGlkeCwgX3J1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBmaWVsZHMpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlTExNKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVMTE1OZXdUb2tlbj8uKHRva2VuLCBpZHggPz8geyBwcm9tcHQ6IDAsIGNvbXBsZXRpb246IDAgfSwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgZmllbGRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlTExNTmV3VG9rZW46ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVMTE1FcnJvcihlcnIpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlTExNKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVMTE1FcnJvcj8uKGVyciwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUxMTUVycm9yOiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTExNRW5kKG91dHB1dCkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVMTE0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUxMTUVuZD8uKG91dHB1dCwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUxMTUVuZDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENhbGxiYWNrTWFuYWdlckZvckNoYWluUnVuIGV4dGVuZHMgQmFzZVJ1bk1hbmFnZXIge1xuICAgIGdldENoaWxkKHRhZykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHRoaXMucnVuSWQpO1xuICAgICAgICBtYW5hZ2VyLnNldEhhbmRsZXJzKHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyk7XG4gICAgICAgIG1hbmFnZXIuYWRkVGFncyh0aGlzLmluaGVyaXRhYmxlVGFncyk7XG4gICAgICAgIG1hbmFnZXIuYWRkTWV0YWRhdGEodGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhKTtcbiAgICAgICAgaWYgKHRhZykge1xuICAgICAgICAgICAgbWFuYWdlci5hZGRUYWdzKFt0YWddLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hbmFnZXI7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYWluRXJyb3IoZXJyLCBfcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGt3YXJncykge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVDaGFpbikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlQ2hhaW5FcnJvcj8uKGVyciwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywga3dhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlQ2hhaW5FcnJvcjogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYWluRW5kKG91dHB1dCwgX3J1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBrd2FyZ3MpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlQ2hhaW4pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYWluRW5kPy4ob3V0cHV0LCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCBrd2FyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVDaGFpbkVuZDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUFnZW50QWN0aW9uKGFjdGlvbikge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlQWdlbnRBY3Rpb24/LihhY3Rpb24sIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVBZ2VudEFjdGlvbjogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUFnZW50RW5kKGFjdGlvbikge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlQWdlbnRFbmQ/LihhY3Rpb24sIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVBZ2VudEVuZDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENhbGxiYWNrTWFuYWdlckZvclRvb2xSdW4gZXh0ZW5kcyBCYXNlUnVuTWFuYWdlciB7XG4gICAgZ2V0Q2hpbGQodGFnKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IG5ldyBDYWxsYmFja01hbmFnZXIodGhpcy5ydW5JZCk7XG4gICAgICAgIG1hbmFnZXIuc2V0SGFuZGxlcnModGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzKTtcbiAgICAgICAgbWFuYWdlci5hZGRUYWdzKHRoaXMuaW5oZXJpdGFibGVUYWdzKTtcbiAgICAgICAgbWFuYWdlci5hZGRNZXRhZGF0YSh0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEpO1xuICAgICAgICBpZiAodGFnKSB7XG4gICAgICAgICAgICBtYW5hZ2VyLmFkZFRhZ3MoW3RhZ10sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFuYWdlcjtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlVG9vbEVycm9yKGVycikge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlVG9vbEVycm9yPy4oZXJyLCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlVG9vbEVycm9yOiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlVG9vbEVuZChvdXRwdXQpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlQWdlbnQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZVRvb2xFbmQ/LihvdXRwdXQsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVUb29sRW5kOiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2FsbGJhY2tNYW5hZ2VyIGV4dGVuZHMgQmFzZUNhbGxiYWNrTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IocGFyZW50UnVuSWQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGFuZGxlcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5oZXJpdGFibGVIYW5kbGVyc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0YWdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5oZXJpdGFibGVUYWdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWV0YWRhdGFcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHt9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbmhlcml0YWJsZU1ldGFkYXRhXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB7fVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJjYWxsYmFja19tYW5hZ2VyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wYXJlbnRSdW5JZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLl9wYXJlbnRSdW5JZCA9IHBhcmVudFJ1bklkO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVMTE1TdGFydChsbG0sIHByb21wdHMsIF9ydW5JZCA9IHVuZGVmaW5lZCwgX3BhcmVudFJ1bklkID0gdW5kZWZpbmVkLCBleHRyYVBhcmFtcyA9IHVuZGVmaW5lZCwgX3RhZ3MgPSB1bmRlZmluZWQsIF9tZXRhZGF0YSA9IHVuZGVmaW5lZCwgcnVuTmFtZSA9IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXB0cy5tYXAoYXN5bmMgKHByb21wdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcnVuSWQgPSB1dWlkdjQoKTtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVMTE0pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlTExNU3RhcnQ/LihsbG0sIFtwcm9tcHRdLCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1bk5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVMTE1TdGFydDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvckxMTVJ1bihydW5JZCwgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLnRhZ3MsIHRoaXMuaW5oZXJpdGFibGVUYWdzLCB0aGlzLm1ldGFkYXRhLCB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVDaGF0TW9kZWxTdGFydChsbG0sIG1lc3NhZ2VzLCBfcnVuSWQgPSB1bmRlZmluZWQsIF9wYXJlbnRSdW5JZCA9IHVuZGVmaW5lZCwgZXh0cmFQYXJhbXMgPSB1bmRlZmluZWQsIF90YWdzID0gdW5kZWZpbmVkLCBfbWV0YWRhdGEgPSB1bmRlZmluZWQsIHJ1bk5hbWUgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKG1lc3NhZ2VzLm1hcChhc3luYyAobWVzc2FnZUdyb3VwKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBydW5JZCA9IHV1aWR2NCgpO1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVyLmlnbm9yZUxMTSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIuaGFuZGxlQ2hhdE1vZGVsU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYXRNb2RlbFN0YXJ0Py4obGxtLCBbbWVzc2FnZUdyb3VwXSwgcnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCBleHRyYVBhcmFtcywgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5OYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhbmRsZXIuaGFuZGxlTExNU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlU3RyaW5nID0gZ2V0QnVmZmVyU3RyaW5nKG1lc3NhZ2VHcm91cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVMTE1TdGFydD8uKGxsbSwgW21lc3NhZ2VTdHJpbmddLCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1bk5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVMTE1TdGFydDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvckxMTVJ1bihydW5JZCwgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLnRhZ3MsIHRoaXMuaW5oZXJpdGFibGVUYWdzLCB0aGlzLm1ldGFkYXRhLCB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVDaGFpblN0YXJ0KGNoYWluLCBpbnB1dHMsIHJ1bklkID0gdXVpZHY0KCksIHJ1blR5cGUgPSB1bmRlZmluZWQsIF90YWdzID0gdW5kZWZpbmVkLCBfbWV0YWRhdGEgPSB1bmRlZmluZWQsIHJ1bk5hbWUgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlQ2hhaW4pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYWluU3RhcnQ/LihjaGFpbiwgaW5wdXRzLCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuVHlwZSwgcnVuTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUNoYWluU3RhcnQ6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgICAgICByZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvckNoYWluUnVuKHJ1bklkLCB0aGlzLmhhbmRsZXJzLCB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMsIHRoaXMudGFncywgdGhpcy5pbmhlcml0YWJsZVRhZ3MsIHRoaXMubWV0YWRhdGEsIHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSwgdGhpcy5fcGFyZW50UnVuSWQpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVUb29sU3RhcnQodG9vbCwgaW5wdXQsIHJ1bklkID0gdXVpZHY0KCksIF9wYXJlbnRSdW5JZCA9IHVuZGVmaW5lZCwgX3RhZ3MgPSB1bmRlZmluZWQsIF9tZXRhZGF0YSA9IHVuZGVmaW5lZCwgcnVuTmFtZSA9IHVuZGVmaW5lZCkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlVG9vbFN0YXJ0Py4odG9vbCwgaW5wdXQsIHJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5OYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlVG9vbFN0YXJ0OiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDYWxsYmFja01hbmFnZXJGb3JUb29sUnVuKHJ1bklkLCB0aGlzLmhhbmRsZXJzLCB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMsIHRoaXMudGFncywgdGhpcy5pbmhlcml0YWJsZVRhZ3MsIHRoaXMubWV0YWRhdGEsIHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSwgdGhpcy5fcGFyZW50UnVuSWQpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVSZXRyaWV2ZXJTdGFydChyZXRyaWV2ZXIsIHF1ZXJ5LCBydW5JZCA9IHV1aWR2NCgpLCBfcGFyZW50UnVuSWQgPSB1bmRlZmluZWQsIF90YWdzID0gdW5kZWZpbmVkLCBfbWV0YWRhdGEgPSB1bmRlZmluZWQsIHJ1bk5hbWUgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlUmV0cmlldmVyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVSZXRyaWV2ZXJTdGFydD8uKHJldHJpZXZlciwgcXVlcnksIHJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5OYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlUmV0cmlldmVyU3RhcnQ6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgICAgICByZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvclJldHJpZXZlclJ1bihydW5JZCwgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLnRhZ3MsIHRoaXMuaW5oZXJpdGFibGVUYWdzLCB0aGlzLm1ldGFkYXRhLCB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICB9XG4gICAgYWRkSGFuZGxlcihoYW5kbGVyLCBpbmhlcml0ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIGlmIChpbmhlcml0KSB7XG4gICAgICAgICAgICB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZmlsdGVyKChfaGFuZGxlcikgPT4gX2hhbmRsZXIgIT09IGhhbmRsZXIpO1xuICAgICAgICB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMgPSB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMuZmlsdGVyKChfaGFuZGxlcikgPT4gX2hhbmRsZXIgIT09IGhhbmRsZXIpO1xuICAgIH1cbiAgICBzZXRIYW5kbGVycyhoYW5kbGVycywgaW5oZXJpdCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIGhhbmRsZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEhhbmRsZXIoaGFuZGxlciwgaW5oZXJpdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkVGFncyh0YWdzLCBpbmhlcml0ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnJlbW92ZVRhZ3ModGFncyk7IC8vIFJlbW92ZSBkdXBsaWNhdGVzXG4gICAgICAgIHRoaXMudGFncy5wdXNoKC4uLnRhZ3MpO1xuICAgICAgICBpZiAoaW5oZXJpdCkge1xuICAgICAgICAgICAgdGhpcy5pbmhlcml0YWJsZVRhZ3MucHVzaCguLi50YWdzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVUYWdzKHRhZ3MpIHtcbiAgICAgICAgdGhpcy50YWdzID0gdGhpcy50YWdzLmZpbHRlcigodGFnKSA9PiAhdGFncy5pbmNsdWRlcyh0YWcpKTtcbiAgICAgICAgdGhpcy5pbmhlcml0YWJsZVRhZ3MgPSB0aGlzLmluaGVyaXRhYmxlVGFncy5maWx0ZXIoKHRhZykgPT4gIXRhZ3MuaW5jbHVkZXModGFnKSk7XG4gICAgfVxuICAgIGFkZE1ldGFkYXRhKG1ldGFkYXRhLCBpbmhlcml0ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0geyAuLi50aGlzLm1ldGFkYXRhLCAuLi5tZXRhZGF0YSB9O1xuICAgICAgICBpZiAoaW5oZXJpdCkge1xuICAgICAgICAgICAgdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhID0geyAuLi50aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIC4uLm1ldGFkYXRhIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMobWV0YWRhdGEpKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5tZXRhZGF0YVtrZXldO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YVtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvcHkoYWRkaXRpb25hbEhhbmRsZXJzID0gW10sIGluaGVyaXQgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHRoaXMuaGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGluaGVyaXRhYmxlID0gdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLmluY2x1ZGVzKGhhbmRsZXIpO1xuICAgICAgICAgICAgbWFuYWdlci5hZGRIYW5kbGVyKGhhbmRsZXIsIGluaGVyaXRhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0aGlzLnRhZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGluaGVyaXRhYmxlID0gdGhpcy5pbmhlcml0YWJsZVRhZ3MuaW5jbHVkZXModGFnKTtcbiAgICAgICAgICAgIG1hbmFnZXIuYWRkVGFncyhbdGFnXSwgaW5oZXJpdGFibGUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMubWV0YWRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBpbmhlcml0YWJsZSA9IE9iamVjdC5rZXlzKHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSkuaW5jbHVkZXMoa2V5KTtcbiAgICAgICAgICAgIG1hbmFnZXIuYWRkTWV0YWRhdGEoeyBba2V5XTogdGhpcy5tZXRhZGF0YVtrZXldIH0sIGluaGVyaXRhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgYWRkaXRpb25hbEhhbmRsZXJzKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAvLyBQcmV2ZW50IG11bHRpcGxlIGNvcGllcyBvZiBjb25zb2xlX2NhbGxiYWNrX2hhbmRsZXJcbiAgICAgICAgICAgIG1hbmFnZXIuaGFuZGxlcnNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChoKSA9PiBoLm5hbWUgPT09IFwiY29uc29sZV9jYWxsYmFja19oYW5kbGVyXCIpXG4gICAgICAgICAgICAgICAgLnNvbWUoKGgpID0+IGgubmFtZSA9PT0gaGFuZGxlci5uYW1lKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFuYWdlci5hZGRIYW5kbGVyKGhhbmRsZXIsIGluaGVyaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYW5hZ2VyO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUhhbmRsZXJzKGhhbmRsZXJzKSB7XG4gICAgICAgIGNsYXNzIEhhbmRsZXIgZXh0ZW5kcyBCYXNlQ2FsbGJhY2tIYW5kbGVyIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1dWlkdjQoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgaGFuZGxlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgdGhpcygpO1xuICAgICAgICBtYW5hZ2VyLmFkZEhhbmRsZXIobmV3IEhhbmRsZXIoKSk7XG4gICAgICAgIHJldHVybiBtYW5hZ2VyO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgY29uZmlndXJlKGluaGVyaXRhYmxlSGFuZGxlcnMsIGxvY2FsSGFuZGxlcnMsIGluaGVyaXRhYmxlVGFncywgbG9jYWxUYWdzLCBpbmhlcml0YWJsZU1ldGFkYXRhLCBsb2NhbE1ldGFkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBjYWxsYmFja01hbmFnZXI7XG4gICAgICAgIGlmIChpbmhlcml0YWJsZUhhbmRsZXJzIHx8IGxvY2FsSGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGluaGVyaXRhYmxlSGFuZGxlcnMpIHx8ICFpbmhlcml0YWJsZUhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tNYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcigpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5zZXRIYW5kbGVycyhpbmhlcml0YWJsZUhhbmRsZXJzPy5tYXAoZW5zdXJlSGFuZGxlcikgPz8gW10sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tNYW5hZ2VyID0gaW5oZXJpdGFibGVIYW5kbGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlciA9IGNhbGxiYWNrTWFuYWdlci5jb3B5KEFycmF5LmlzQXJyYXkobG9jYWxIYW5kbGVycylcbiAgICAgICAgICAgICAgICA/IGxvY2FsSGFuZGxlcnMubWFwKGVuc3VyZUhhbmRsZXIpXG4gICAgICAgICAgICAgICAgOiBsb2NhbEhhbmRsZXJzPy5oYW5kbGVycywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZlcmJvc2VFbmFibGVkID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9WRVJCT1NFXCIpIHx8IG9wdGlvbnM/LnZlcmJvc2U7XG4gICAgICAgIGNvbnN0IHRyYWNpbmdWMkVuYWJsZWQgPSBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX1RSQUNJTkdfVjJcIikgPT09IFwidHJ1ZVwiO1xuICAgICAgICBjb25zdCB0cmFjaW5nRW5hYmxlZCA9IHRyYWNpbmdWMkVuYWJsZWQgfHxcbiAgICAgICAgICAgIChnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX1RSQUNJTkdcIikgPz8gZmFsc2UpO1xuICAgICAgICBpZiAodmVyYm9zZUVuYWJsZWQgfHwgdHJhY2luZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGlmICghY2FsbGJhY2tNYW5hZ2VyKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tNYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZlcmJvc2VFbmFibGVkICYmXG4gICAgICAgICAgICAgICAgIWNhbGxiYWNrTWFuYWdlci5oYW5kbGVycy5zb21lKChoYW5kbGVyKSA9PiBoYW5kbGVyLm5hbWUgPT09IENvbnNvbGVDYWxsYmFja0hhbmRsZXIucHJvdG90eXBlLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uc29sZUhhbmRsZXIgPSBuZXcgQ29uc29sZUNhbGxiYWNrSGFuZGxlcigpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5hZGRIYW5kbGVyKGNvbnNvbGVIYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmFjaW5nRW5hYmxlZCAmJlxuICAgICAgICAgICAgICAgICFjYWxsYmFja01hbmFnZXIuaGFuZGxlcnMuc29tZSgoaGFuZGxlcikgPT4gaGFuZGxlci5uYW1lID09PSBcImxhbmdjaGFpbl90cmFjZXJcIikpIHtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2luZ1YyRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja01hbmFnZXIuYWRkSGFuZGxlcihhd2FpdCBnZXRUcmFjaW5nVjJDYWxsYmFja0hhbmRsZXIoKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9QUk9KRUNUXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX1NFU1NJT05cIik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5hZGRIYW5kbGVyKGF3YWl0IGdldFRyYWNpbmdDYWxsYmFja0hhbmRsZXIoc2Vzc2lvbiksIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5oZXJpdGFibGVUYWdzIHx8IGxvY2FsVGFncykge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrTWFuYWdlcikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5hZGRUYWdzKGluaGVyaXRhYmxlVGFncyA/PyBbXSk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tNYW5hZ2VyLmFkZFRhZ3MobG9jYWxUYWdzID8/IFtdLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluaGVyaXRhYmxlTWV0YWRhdGEgfHwgbG9jYWxNZXRhZGF0YSkge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrTWFuYWdlcikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5hZGRNZXRhZGF0YShpbmhlcml0YWJsZU1ldGFkYXRhID8/IHt9KTtcbiAgICAgICAgICAgICAgICBjYWxsYmFja01hbmFnZXIuYWRkTWV0YWRhdGEobG9jYWxNZXRhZGF0YSA/PyB7fSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWxsYmFja01hbmFnZXI7XG4gICAgfVxufVxuZnVuY3Rpb24gZW5zdXJlSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgaWYgKFwibmFtZVwiIGluIGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXI7XG4gICAgfVxuICAgIHJldHVybiBCYXNlQ2FsbGJhY2tIYW5kbGVyLmZyb21NZXRob2RzKGhhbmRsZXIpO1xufVxuZXhwb3J0IGNsYXNzIFRyYWNlR3JvdXAge1xuICAgIGNvbnN0cnVjdG9yKGdyb3VwTmFtZSwgb3B0aW9ucykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJncm91cE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGdyb3VwTmFtZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3B0aW9uc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9uc1xuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicnVuTWFuYWdlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBnZXRUcmFjZUdyb3VwQ2FsbGJhY2tNYW5hZ2VyKGdyb3VwX25hbWUsIGlucHV0cywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYiA9IG5ldyBMYW5nQ2hhaW5UcmFjZXIob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGNtID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShbY2JdKTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNtPy5oYW5kbGVDaGFpblN0YXJ0KHtcbiAgICAgICAgICAgIGxjOiAxLFxuICAgICAgICAgICAgdHlwZTogXCJub3RfaW1wbGVtZW50ZWRcIixcbiAgICAgICAgICAgIGlkOiBbXCJsYW5nY2hhaW5cIiwgXCJjYWxsYmFja3NcIiwgXCJncm91cHNcIiwgZ3JvdXBfbmFtZV0sXG4gICAgICAgIH0sIGlucHV0cyA/PyB7fSk7XG4gICAgICAgIGlmICghcnVuTWFuYWdlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSBydW4gZ3JvdXAgY2FsbGJhY2sgbWFuYWdlci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1bk1hbmFnZXI7XG4gICAgfVxuICAgIGFzeW5jIHN0YXJ0KGlucHV0cykge1xuICAgICAgICBpZiAoIXRoaXMucnVuTWFuYWdlcikge1xuICAgICAgICAgICAgdGhpcy5ydW5NYW5hZ2VyID0gYXdhaXQgdGhpcy5nZXRUcmFjZUdyb3VwQ2FsbGJhY2tNYW5hZ2VyKHRoaXMuZ3JvdXBOYW1lLCBpbnB1dHMsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucnVuTWFuYWdlci5nZXRDaGlsZCgpO1xuICAgIH1cbiAgICBhc3luYyBlcnJvcihlcnIpIHtcbiAgICAgICAgaWYgKHRoaXMucnVuTWFuYWdlcikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5ydW5NYW5hZ2VyLmhhbmRsZUNoYWluRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHRoaXMucnVuTWFuYWdlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBlbmQob3V0cHV0KSB7XG4gICAgICAgIGlmICh0aGlzLnJ1bk1hbmFnZXIpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucnVuTWFuYWdlci5oYW5kbGVDaGFpbkVuZChvdXRwdXQgPz8ge30pO1xuICAgICAgICAgICAgdGhpcy5ydW5NYW5hZ2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIF9jb2VyY2VUb0RpY3QodmFsdWUsIGRlZmF1bHRLZXkpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIlxuICAgICAgICA/IHZhbHVlXG4gICAgICAgIDogeyBbZGVmYXVsdEtleV06IHZhbHVlIH07XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyYWNlQXNHcm91cChncm91cE9wdGlvbnMsIGVuY2xvc2VkQ29kZSwgLi4uYXJncykge1xuICAgIGNvbnN0IHRyYWNlR3JvdXAgPSBuZXcgVHJhY2VHcm91cChncm91cE9wdGlvbnMubmFtZSwgZ3JvdXBPcHRpb25zKTtcbiAgICBjb25zdCBjYWxsYmFja01hbmFnZXIgPSBhd2FpdCB0cmFjZUdyb3VwLnN0YXJ0KHsgLi4uYXJncyB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlbmNsb3NlZENvZGUoY2FsbGJhY2tNYW5hZ2VyLCAuLi5hcmdzKTtcbiAgICAgICAgYXdhaXQgdHJhY2VHcm91cC5lbmQoX2NvZXJjZVRvRGljdChyZXN1bHQsIFwib3V0cHV0XCIpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBhd2FpdCB0cmFjZUdyb3VwLmVycm9yKGVycik7XG4gICAgICAgIHRocm93IGVycjtcbiAgICB9XG59XG4iLCIvLyBAdHMtbm9jaGVja1xuLy8gSW5saW5lZCBiZWNhdXNlIG9mIEVTTSBpbXBvcnQgaXNzdWVzXG4vKiFcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9TdGFyY291bnRlci1KYWNrL0pTT04tUGF0Y2hcbiAqIChjKSAyMDE3LTIwMjIgSm9hY2hpbSBXZXN0ZXJcbiAqIE1JVCBsaWNlbnNlZFxuICovXG5jb25zdCBfaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuZXhwb3J0IGZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIF9oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfb2JqZWN0S2V5cyhvYmopIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBuZXcgQXJyYXkob2JqLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwga2V5cy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAga2V5c1trXSA9IFwiXCIgKyBrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXlzO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXMpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaik7XG4gICAgfVxuICAgIGxldCBrZXlzID0gW107XG4gICAgZm9yIChsZXQgaSBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KG9iaiwgaSkpIHtcbiAgICAgICAgICAgIGtleXMucHVzaChpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbn1cbi8qKlxuICogRGVlcGx5IGNsb25lIHRoZSBvYmplY3QuXG4gKiBodHRwczovL2pzcGVyZi5jb20vZGVlcC1jb3B5LXZzLWpzb24tc3RyaW5naWZ5LWpzb24tcGFyc2UvMjUgKHJlY3Vyc2l2ZURlZXBDb3B5KVxuICogQHBhcmFtICB7YW55fSBvYmogdmFsdWUgdG8gY2xvbmVcbiAqIEByZXR1cm4ge2FueX0gY2xvbmVkIG9ialxuICovXG5leHBvcnQgZnVuY3Rpb24gX2RlZXBDbG9uZShvYmopIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBvYmopIHtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7IC8vRmFzdGVyIHRoYW4gRVM1IGNsb25lIC0gaHR0cDovL2pzcGVyZi5jb20vZGVlcC1jbG9uaW5nLW9mLW9iamVjdHMvNVxuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDsgLy90aGlzIGlzIGhvdyBKU09OLnN0cmluZ2lmeSBiZWhhdmVzIGZvciBhcnJheSBpdGVtc1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG9iajsgLy9ubyBuZWVkIHRvIGNsb25lIHByaW1pdGl2ZXNcbiAgICB9XG59XG4vLzN4IGZhc3RlciB0aGFuIGNhY2hlZCAvXlxcZCskLy50ZXN0KHN0cilcbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVnZXIoc3RyKSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGxlbiA9IHN0ci5sZW5ndGg7XG4gICAgbGV0IGNoYXJDb2RlO1xuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgIGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjaGFyQ29kZSA+PSA0OCAmJiBjaGFyQ29kZSA8PSA1Nykge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogRXNjYXBlcyBhIGpzb24gcG9pbnRlciBwYXRoXG4gKiBAcGFyYW0gcGF0aCBUaGUgcmF3IHBvaW50ZXJcbiAqIEByZXR1cm4gdGhlIEVzY2FwZWQgcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUGF0aENvbXBvbmVudChwYXRoKSB7XG4gICAgaWYgKHBhdGguaW5kZXhPZihcIi9cIikgPT09IC0xICYmIHBhdGguaW5kZXhPZihcIn5cIikgPT09IC0xKVxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9+L2csIFwifjBcIikucmVwbGFjZSgvXFwvL2csIFwifjFcIik7XG59XG4vKipcbiAqIFVuZXNjYXBlcyBhIGpzb24gcG9pbnRlciBwYXRoXG4gKiBAcGFyYW0gcGF0aCBUaGUgZXNjYXBlZCBwb2ludGVyXG4gKiBAcmV0dXJuIFRoZSB1bmVzY2FwZWQgcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5lc2NhcGVQYXRoQ29tcG9uZW50KHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9+MS9nLCBcIi9cIikucmVwbGFjZSgvfjAvZywgXCJ+XCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9nZXRQYXRoUmVjdXJzaXZlKHJvb3QsIG9iaikge1xuICAgIGxldCBmb3VuZDtcbiAgICBmb3IgKGxldCBrZXkgaW4gcm9vdCkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkocm9vdCwga2V5KSkge1xuICAgICAgICAgICAgaWYgKHJvb3Rba2V5XSA9PT0gb2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVzY2FwZVBhdGhDb21wb25lbnQoa2V5KSArIFwiL1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHJvb3Rba2V5XSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gX2dldFBhdGhSZWN1cnNpdmUocm9vdFtrZXldLCBvYmopO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZCAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlc2NhcGVQYXRoQ29tcG9uZW50KGtleSkgKyBcIi9cIiArIGZvdW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRoKHJvb3QsIG9iaikge1xuICAgIGlmIChyb290ID09PSBvYmopIHtcbiAgICAgICAgcmV0dXJuIFwiL1wiO1xuICAgIH1cbiAgICBjb25zdCBwYXRoID0gX2dldFBhdGhSZWN1cnNpdmUocm9vdCwgb2JqKTtcbiAgICBpZiAocGF0aCA9PT0gXCJcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPYmplY3Qgbm90IGZvdW5kIGluIHJvb3RcIik7XG4gICAgfVxuICAgIHJldHVybiBgLyR7cGF0aH1gO1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBjaGVja3Mgd2hldGhlciBhbiBvYmplY3QgaGFzIGFueSB1bmRlZmluZWQgdmFsdWVzIGluc2lkZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc1VuZGVmaW5lZChvYmopIHtcbiAgICBpZiAob2JqID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChvYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG9iai5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChoYXNVbmRlZmluZWQob2JqW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29uc3Qgb2JqS2V5cyA9IF9vYmplY3RLZXlzKG9iaik7XG4gICAgICAgICAgICBjb25zdCBvYmpLZXlzTGVuZ3RoID0gb2JqS2V5cy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChoYXNVbmRlZmluZWQob2JqW29iaktleXNbaV1dKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gcGF0Y2hFcnJvck1lc3NhZ2VGb3JtYXR0ZXIobWVzc2FnZSwgYXJncykge1xuICAgIGNvbnN0IG1lc3NhZ2VQYXJ0cyA9IFttZXNzYWdlXTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhcmdzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdHlwZW9mIGFyZ3Nba2V5XSA9PT0gXCJvYmplY3RcIlxuICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeShhcmdzW2tleV0sIG51bGwsIDIpXG4gICAgICAgICAgICA6IGFyZ3Nba2V5XTsgLy8gcHJldHR5IHByaW50XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VQYXJ0cy5wdXNoKGAke2tleX06ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2VQYXJ0cy5qb2luKFwiXFxuXCIpO1xufVxuZXhwb3J0IGNsYXNzIFBhdGNoRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgbmFtZSwgaW5kZXgsIG9wZXJhdGlvbiwgdHJlZSkge1xuICAgICAgICBzdXBlcihwYXRjaEVycm9yTWVzc2FnZUZvcm1hdHRlcihtZXNzYWdlLCB7IG5hbWUsIGluZGV4LCBvcGVyYXRpb24sIHRyZWUgfSkpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBuYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbmRleFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogaW5kZXhcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wZXJhdGlvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogb3BlcmF0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0cmVlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cmVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpOyAvLyByZXN0b3JlIHByb3RvdHlwZSBjaGFpbiwgc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80ODM0MjM1OVxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBwYXRjaEVycm9yTWVzc2FnZUZvcm1hdHRlcihtZXNzYWdlLCB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgICB0cmVlLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCIvLyBAdHMtbm9jaGVja1xuaW1wb3J0IHsgUGF0Y2hFcnJvciwgX2RlZXBDbG9uZSwgaXNJbnRlZ2VyLCB1bmVzY2FwZVBhdGhDb21wb25lbnQsIGhhc1VuZGVmaW5lZCwgfSBmcm9tIFwiLi9oZWxwZXJzLmpzXCI7XG5leHBvcnQgY29uc3QgSnNvblBhdGNoRXJyb3IgPSBQYXRjaEVycm9yO1xuZXhwb3J0IGNvbnN0IGRlZXBDbG9uZSA9IF9kZWVwQ2xvbmU7XG4vKiBXZSB1c2UgYSBKYXZhc2NyaXB0IGhhc2ggdG8gc3RvcmUgZWFjaFxuIGZ1bmN0aW9uLiBFYWNoIGhhc2ggZW50cnkgKHByb3BlcnR5KSB1c2VzXG4gdGhlIG9wZXJhdGlvbiBpZGVudGlmaWVycyBzcGVjaWZpZWQgaW4gcmZjNjkwMi5cbiBJbiB0aGlzIHdheSwgd2UgY2FuIG1hcCBlYWNoIHBhdGNoIG9wZXJhdGlvblxuIHRvIGl0cyBkZWRpY2F0ZWQgZnVuY3Rpb24gaW4gZWZmaWNpZW50IHdheS5cbiAqL1xuLyogVGhlIG9wZXJhdGlvbnMgYXBwbGljYWJsZSB0byBhbiBvYmplY3QgKi9cbmNvbnN0IG9iak9wcyA9IHtcbiAgICBhZGQ6IGZ1bmN0aW9uIChvYmosIGtleSwgZG9jdW1lbnQpIHtcbiAgICAgICAgb2JqW2tleV0gPSB0aGlzLnZhbHVlO1xuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQgfTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gKG9iaiwga2V5LCBkb2N1bWVudCkge1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IG9ialtrZXldO1xuICAgICAgICBkZWxldGUgb2JqW2tleV07XG4gICAgICAgIHJldHVybiB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCwgcmVtb3ZlZCB9O1xuICAgIH0sXG4gICAgcmVwbGFjZTogZnVuY3Rpb24gKG9iaiwga2V5LCBkb2N1bWVudCkge1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IG9ialtrZXldO1xuICAgICAgICBvYmpba2V5XSA9IHRoaXMudmFsdWU7XG4gICAgICAgIHJldHVybiB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCwgcmVtb3ZlZCB9O1xuICAgIH0sXG4gICAgbW92ZTogZnVuY3Rpb24gKG9iaiwga2V5LCBkb2N1bWVudCkge1xuICAgICAgICAvKiBpbiBjYXNlIG1vdmUgdGFyZ2V0IG92ZXJ3cml0ZXMgYW4gZXhpc3RpbmcgdmFsdWUsXG4gICAgICAgIHJldHVybiB0aGUgcmVtb3ZlZCB2YWx1ZSwgdGhpcyBjYW4gYmUgdGF4aW5nIHBlcmZvcm1hbmNlLXdpc2UsXG4gICAgICAgIGFuZCBpcyBwb3RlbnRpYWxseSB1bm5lZWRlZCAqL1xuICAgICAgICBsZXQgcmVtb3ZlZCA9IGdldFZhbHVlQnlQb2ludGVyKGRvY3VtZW50LCB0aGlzLnBhdGgpO1xuICAgICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICAgICAgcmVtb3ZlZCA9IF9kZWVwQ2xvbmUocmVtb3ZlZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxWYWx1ZSA9IGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCB7XG4gICAgICAgICAgICBvcDogXCJyZW1vdmVcIixcbiAgICAgICAgICAgIHBhdGg6IHRoaXMuZnJvbSxcbiAgICAgICAgfSkucmVtb3ZlZDtcbiAgICAgICAgYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIHtcbiAgICAgICAgICAgIG9wOiBcImFkZFwiLFxuICAgICAgICAgICAgcGF0aDogdGhpcy5wYXRoLFxuICAgICAgICAgICAgdmFsdWU6IG9yaWdpbmFsVmFsdWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQsIHJlbW92ZWQgfTtcbiAgICB9LFxuICAgIGNvcHk6IGZ1bmN0aW9uIChvYmosIGtleSwgZG9jdW1lbnQpIHtcbiAgICAgICAgY29uc3QgdmFsdWVUb0NvcHkgPSBnZXRWYWx1ZUJ5UG9pbnRlcihkb2N1bWVudCwgdGhpcy5mcm9tKTtcbiAgICAgICAgLy8gZW5mb3JjZSBjb3B5IGJ5IHZhbHVlIHNvIGZ1cnRoZXIgb3BlcmF0aW9ucyBkb24ndCBhZmZlY3Qgc291cmNlIChzZWUgaXNzdWUgIzE3NylcbiAgICAgICAgYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIHtcbiAgICAgICAgICAgIG9wOiBcImFkZFwiLFxuICAgICAgICAgICAgcGF0aDogdGhpcy5wYXRoLFxuICAgICAgICAgICAgdmFsdWU6IF9kZWVwQ2xvbmUodmFsdWVUb0NvcHkpLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgbmV3RG9jdW1lbnQ6IGRvY3VtZW50IH07XG4gICAgfSxcbiAgICB0ZXN0OiBmdW5jdGlvbiAob2JqLCBrZXksIGRvY3VtZW50KSB7XG4gICAgICAgIHJldHVybiB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCwgdGVzdDogX2FyZUVxdWFscyhvYmpba2V5XSwgdGhpcy52YWx1ZSkgfTtcbiAgICB9LFxuICAgIF9nZXQ6IGZ1bmN0aW9uIChvYmosIGtleSwgZG9jdW1lbnQpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQgfTtcbiAgICB9LFxufTtcbi8qIFRoZSBvcGVyYXRpb25zIGFwcGxpY2FibGUgdG8gYW4gYXJyYXkuIE1hbnkgYXJlIHRoZSBzYW1lIGFzIGZvciB0aGUgb2JqZWN0ICovXG52YXIgYXJyT3BzID0ge1xuICAgIGFkZDogZnVuY3Rpb24gKGFyciwgaSwgZG9jdW1lbnQpIHtcbiAgICAgICAgaWYgKGlzSW50ZWdlcihpKSkge1xuICAgICAgICAgICAgYXJyLnNwbGljZShpLCAwLCB0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFycmF5IHByb3BzXG4gICAgICAgICAgICBhcnJbaV0gPSB0aGlzLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMgbWF5IGJlIG5lZWRlZCB3aGVuIHVzaW5nICctJyBpbiBhbiBhcnJheVxuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQsIGluZGV4OiBpIH07XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIChhcnIsIGksIGRvY3VtZW50KSB7XG4gICAgICAgIHZhciByZW1vdmVkTGlzdCA9IGFyci5zcGxpY2UoaSwgMSk7XG4gICAgICAgIHJldHVybiB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCwgcmVtb3ZlZDogcmVtb3ZlZExpc3RbMF0gfTtcbiAgICB9LFxuICAgIHJlcGxhY2U6IGZ1bmN0aW9uIChhcnIsIGksIGRvY3VtZW50KSB7XG4gICAgICAgIHZhciByZW1vdmVkID0gYXJyW2ldO1xuICAgICAgICBhcnJbaV0gPSB0aGlzLnZhbHVlO1xuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQsIHJlbW92ZWQgfTtcbiAgICB9LFxuICAgIG1vdmU6IG9iak9wcy5tb3ZlLFxuICAgIGNvcHk6IG9iak9wcy5jb3B5LFxuICAgIHRlc3Q6IG9iak9wcy50ZXN0LFxuICAgIF9nZXQ6IG9iak9wcy5fZ2V0LFxufTtcbi8qKlxuICogUmV0cmlldmVzIGEgdmFsdWUgZnJvbSBhIEpTT04gZG9jdW1lbnQgYnkgYSBKU09OIHBvaW50ZXIuXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gZG9jdW1lbnQgVGhlIGRvY3VtZW50IHRvIGdldCB0aGUgdmFsdWUgZnJvbVxuICogQHBhcmFtIHBvaW50ZXIgYW4gZXNjYXBlZCBKU09OIHBvaW50ZXJcbiAqIEByZXR1cm4gVGhlIHJldHJpZXZlZCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWVCeVBvaW50ZXIoZG9jdW1lbnQsIHBvaW50ZXIpIHtcbiAgICBpZiAocG9pbnRlciA9PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICB9XG4gICAgdmFyIGdldE9yaWdpbmFsRGVzdGluYXRpb24gPSB7IG9wOiBcIl9nZXRcIiwgcGF0aDogcG9pbnRlciB9O1xuICAgIGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCBnZXRPcmlnaW5hbERlc3RpbmF0aW9uKTtcbiAgICByZXR1cm4gZ2V0T3JpZ2luYWxEZXN0aW5hdGlvbi52YWx1ZTtcbn1cbi8qKlxuICogQXBwbHkgYSBzaW5nbGUgSlNPTiBQYXRjaCBPcGVyYXRpb24gb24gYSBKU09OIGRvY3VtZW50LlxuICogUmV0dXJucyB0aGUge25ld0RvY3VtZW50LCByZXN1bHR9IG9mIHRoZSBvcGVyYXRpb24uXG4gKiBJdCBtb2RpZmllcyB0aGUgYGRvY3VtZW50YCBhbmQgYG9wZXJhdGlvbmAgb2JqZWN0cyAtIGl0IGdldHMgdGhlIHZhbHVlcyBieSByZWZlcmVuY2UuXG4gKiBJZiB5b3Ugd291bGQgbGlrZSB0byBhdm9pZCB0b3VjaGluZyB5b3VyIHZhbHVlcywgY2xvbmUgdGhlbTpcbiAqIGBqc29ucGF0Y2guYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIGpzb25wYXRjaC5fZGVlcENsb25lKG9wZXJhdGlvbikpYC5cbiAqXG4gKiBAcGFyYW0gZG9jdW1lbnQgVGhlIGRvY3VtZW50IHRvIHBhdGNoXG4gKiBAcGFyYW0gb3BlcmF0aW9uIFRoZSBvcGVyYXRpb24gdG8gYXBwbHlcbiAqIEBwYXJhbSB2YWxpZGF0ZU9wZXJhdGlvbiBgZmFsc2VgIGlzIHdpdGhvdXQgdmFsaWRhdGlvbiwgYHRydWVgIHRvIHVzZSBkZWZhdWx0IGpzb25wYXRjaCdzIHZhbGlkYXRpb24sIG9yIHlvdSBjYW4gcGFzcyBhIGB2YWxpZGF0ZU9wZXJhdGlvbmAgY2FsbGJhY2sgdG8gYmUgdXNlZCBmb3IgdmFsaWRhdGlvbi5cbiAqIEBwYXJhbSBtdXRhdGVEb2N1bWVudCBXaGV0aGVyIHRvIG11dGF0ZSB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgb3IgY2xvbmUgaXQgYmVmb3JlIGFwcGx5aW5nXG4gKiBAcGFyYW0gYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyBXaGV0aGVyIHRvIGJhbiBtb2RpZmljYXRpb25zIHRvIGBfX3Byb3RvX19gLCBkZWZhdWx0cyB0byBgdHJ1ZWAuXG4gKiBAcmV0dXJuIGB7bmV3RG9jdW1lbnQsIHJlc3VsdH1gIGFmdGVyIHRoZSBvcGVyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCBvcGVyYXRpb24sIHZhbGlkYXRlT3BlcmF0aW9uID0gZmFsc2UsIG11dGF0ZURvY3VtZW50ID0gdHJ1ZSwgYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyA9IHRydWUsIGluZGV4ID0gMCkge1xuICAgIGlmICh2YWxpZGF0ZU9wZXJhdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIHZhbGlkYXRlT3BlcmF0aW9uID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFsaWRhdGVPcGVyYXRpb24ob3BlcmF0aW9uLCAwLCBkb2N1bWVudCwgb3BlcmF0aW9uLnBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsaWRhdG9yKG9wZXJhdGlvbiwgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogUk9PVCBPUEVSQVRJT05TICovXG4gICAgaWYgKG9wZXJhdGlvbi5wYXRoID09PSBcIlwiKSB7XG4gICAgICAgIGxldCByZXR1cm5WYWx1ZSA9IHsgbmV3RG9jdW1lbnQ6IGRvY3VtZW50IH07XG4gICAgICAgIGlmIChvcGVyYXRpb24ub3AgPT09IFwiYWRkXCIpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gb3BlcmF0aW9uLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJyZXBsYWNlXCIpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gb3BlcmF0aW9uLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlZCA9IGRvY3VtZW50OyAvL2RvY3VtZW50IHdlIHJlbW92ZWRcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwibW92ZVwiIHx8IG9wZXJhdGlvbi5vcCA9PT0gXCJjb3B5XCIpIHtcbiAgICAgICAgICAgIC8vIGl0J3MgYSBtb3ZlIG9yIGNvcHkgdG8gcm9vdFxuICAgICAgICAgICAgcmV0dXJuVmFsdWUubmV3RG9jdW1lbnQgPSBnZXRWYWx1ZUJ5UG9pbnRlcihkb2N1bWVudCwgb3BlcmF0aW9uLmZyb20pOyAvLyBnZXQgdGhlIHZhbHVlIGJ5IGpzb24tcG9pbnRlciBpbiBgZnJvbWAgZmllbGRcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24ub3AgPT09IFwibW92ZVwiKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVwb3J0IHJlbW92ZWQgaXRlbVxuICAgICAgICAgICAgICAgIHJldHVyblZhbHVlLnJlbW92ZWQgPSBkb2N1bWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwidGVzdFwiKSB7XG4gICAgICAgICAgICByZXR1cm5WYWx1ZS50ZXN0ID0gX2FyZUVxdWFscyhkb2N1bWVudCwgb3BlcmF0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZS50ZXN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRlc3Qgb3BlcmF0aW9uIGZhaWxlZFwiLCBcIlRFU1RfT1BFUkFUSU9OX0ZBSUxFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5WYWx1ZS5uZXdEb2N1bWVudCA9IGRvY3VtZW50O1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJyZW1vdmVcIikge1xuICAgICAgICAgICAgLy8gYSByZW1vdmUgb24gcm9vdFxuICAgICAgICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlZCA9IGRvY3VtZW50O1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUubmV3RG9jdW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJfZ2V0XCIpIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbi52YWx1ZSA9IGRvY3VtZW50O1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyogYmFkIG9wZXJhdGlvbiAqL1xuICAgICAgICAgICAgaWYgKHZhbGlkYXRlT3BlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiT3BlcmF0aW9uIGBvcGAgcHJvcGVydHkgaXMgbm90IG9uZSBvZiBvcGVyYXRpb25zIGRlZmluZWQgaW4gUkZDLTY5MDJcIiwgXCJPUEVSQVRJT05fT1BfSU5WQUxJRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IC8qIEVORCBST09UIE9QRVJBVElPTlMgKi9cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFtdXRhdGVEb2N1bWVudCkge1xuICAgICAgICAgICAgZG9jdW1lbnQgPSBfZGVlcENsb25lKGRvY3VtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXRoID0gb3BlcmF0aW9uLnBhdGggfHwgXCJcIjtcbiAgICAgICAgY29uc3Qga2V5cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICAgICAgICBsZXQgb2JqID0gZG9jdW1lbnQ7XG4gICAgICAgIGxldCB0ID0gMTsgLy9za2lwIGVtcHR5IGVsZW1lbnQgLSBodHRwOi8vanNwZXJmLmNvbS90by1zaGlmdC1vci1ub3QtdG8tc2hpZnRcbiAgICAgICAgbGV0IGxlbiA9IGtleXMubGVuZ3RoO1xuICAgICAgICBsZXQgZXhpc3RpbmdQYXRoRnJhZ21lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBrZXk7XG4gICAgICAgIGxldCB2YWxpZGF0ZUZ1bmN0aW9uO1xuICAgICAgICBpZiAodHlwZW9mIHZhbGlkYXRlT3BlcmF0aW9uID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFsaWRhdGVGdW5jdGlvbiA9IHZhbGlkYXRlT3BlcmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsaWRhdGVGdW5jdGlvbiA9IHZhbGlkYXRvcjtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAga2V5ID0ga2V5c1t0XTtcbiAgICAgICAgICAgIGlmIChrZXkgJiYga2V5LmluZGV4T2YoXCJ+XCIpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAga2V5ID0gdW5lc2NhcGVQYXRoQ29tcG9uZW50KGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyAmJlxuICAgICAgICAgICAgICAgIChrZXkgPT0gXCJfX3Byb3RvX19cIiB8fFxuICAgICAgICAgICAgICAgICAgICAoa2V5ID09IFwicHJvdG90eXBlXCIgJiYgdCA+IDAgJiYga2V5c1t0IC0gMV0gPT0gXCJjb25zdHJ1Y3RvclwiKSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSlNPTi1QYXRjaDogbW9kaWZ5aW5nIGBfX3Byb3RvX19gIG9yIGBjb25zdHJ1Y3Rvci9wcm90b3R5cGVgIHByb3AgaXMgYmFubmVkIGZvciBzZWN1cml0eSByZWFzb25zLCBpZiB0aGlzIHdhcyBvbiBwdXJwb3NlLCBwbGVhc2Ugc2V0IGBiYW5Qcm90b3R5cGVNb2RpZmljYXRpb25zYCBmbGFnIGZhbHNlIGFuZCBwYXNzIGl0IHRvIHRoaXMgZnVuY3Rpb24uIE1vcmUgaW5mbyBpbiBmYXN0LWpzb24tcGF0Y2ggUkVBRE1FXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbGlkYXRlT3BlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nUGF0aEZyYWdtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9ialtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUGF0aEZyYWdtZW50ID0ga2V5cy5zbGljZSgwLCB0KS5qb2luKFwiL1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ID09IGxlbiAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUGF0aEZyYWdtZW50ID0gb3BlcmF0aW9uLnBhdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nUGF0aEZyYWdtZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlRnVuY3Rpb24ob3BlcmF0aW9uLCAwLCBkb2N1bWVudCwgZXhpc3RpbmdQYXRoRnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdCsrO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwiLVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IG9iai5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGVPcGVyYXRpb24gJiYgIWlzSW50ZWdlcihrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJFeHBlY3RlZCBhbiB1bnNpZ25lZCBiYXNlLTEwIGludGVnZXIgdmFsdWUsIG1ha2luZyB0aGUgbmV3IHJlZmVyZW5jZWQgdmFsdWUgdGhlIGFycmF5IGVsZW1lbnQgd2l0aCB0aGUgemVyby1iYXNlZCBpbmRleFwiLCBcIk9QRVJBVElPTl9QQVRIX0lMTEVHQUxfQVJSQVlfSU5ERVhcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9IC8vIG9ubHkgcGFyc2Uga2V5IHdoZW4gaXQncyBhbiBpbnRlZ2VyIGZvciBgYXJyLnByb3BgIHRvIHdvcmtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNJbnRlZ2VyKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IH5+a2V5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0ID49IGxlbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGVPcGVyYXRpb24gJiYgb3BlcmF0aW9uLm9wID09PSBcImFkZFwiICYmIGtleSA+IG9iai5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRoZSBzcGVjaWZpZWQgaW5kZXggTVVTVCBOT1QgYmUgZ3JlYXRlciB0aGFuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5XCIsIFwiT1BFUkFUSU9OX1ZBTFVFX09VVF9PRl9CT1VORFNcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHVyblZhbHVlID0gYXJyT3BzW29wZXJhdGlvbi5vcF0uY2FsbChvcGVyYXRpb24sIG9iaiwga2V5LCBkb2N1bWVudCk7IC8vIEFwcGx5IHBhdGNoXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZS50ZXN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiVGVzdCBvcGVyYXRpb24gZmFpbGVkXCIsIFwiVEVTVF9PUEVSQVRJT05fRkFJTEVEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHQgPj0gbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHVyblZhbHVlID0gb2JqT3BzW29wZXJhdGlvbi5vcF0uY2FsbChvcGVyYXRpb24sIG9iaiwga2V5LCBkb2N1bWVudCk7IC8vIEFwcGx5IHBhdGNoXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZS50ZXN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiVGVzdCBvcGVyYXRpb24gZmFpbGVkXCIsIFwiVEVTVF9PUEVSQVRJT05fRkFJTEVEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqID0gb2JqW2tleV07XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG1vcmUga2V5cyBpbiB0aGUgcGF0aCwgYnV0IHRoZSBuZXh0IHZhbHVlIGlzbid0IGEgbm9uLW51bGwgb2JqZWN0LFxuICAgICAgICAgICAgLy8gdGhyb3cgYW4gT1BFUkFUSU9OX1BBVEhfVU5SRVNPTFZBQkxFIGVycm9yIGluc3RlYWQgb2YgaXRlcmF0aW5nIGFnYWluLlxuICAgICAgICAgICAgaWYgKHZhbGlkYXRlT3BlcmF0aW9uICYmIHQgPCBsZW4gJiYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gYXQgdGhlIGRlc2lyZWQgcGF0aFwiLCBcIk9QRVJBVElPTl9QQVRIX1VOUkVTT0xWQUJMRVwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEFwcGx5IGEgZnVsbCBKU09OIFBhdGNoIGFycmF5IG9uIGEgSlNPTiBkb2N1bWVudC5cbiAqIFJldHVybnMgdGhlIHtuZXdEb2N1bWVudCwgcmVzdWx0fSBvZiB0aGUgcGF0Y2guXG4gKiBJdCBtb2RpZmllcyB0aGUgYGRvY3VtZW50YCBvYmplY3QgYW5kIGBwYXRjaGAgLSBpdCBnZXRzIHRoZSB2YWx1ZXMgYnkgcmVmZXJlbmNlLlxuICogSWYgeW91IHdvdWxkIGxpa2UgdG8gYXZvaWQgdG91Y2hpbmcgeW91ciB2YWx1ZXMsIGNsb25lIHRoZW06XG4gKiBganNvbnBhdGNoLmFwcGx5UGF0Y2goZG9jdW1lbnQsIGpzb25wYXRjaC5fZGVlcENsb25lKHBhdGNoKSlgLlxuICpcbiAqIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gcGF0Y2hcbiAqIEBwYXJhbSBwYXRjaCBUaGUgcGF0Y2ggdG8gYXBwbHlcbiAqIEBwYXJhbSB2YWxpZGF0ZU9wZXJhdGlvbiBgZmFsc2VgIGlzIHdpdGhvdXQgdmFsaWRhdGlvbiwgYHRydWVgIHRvIHVzZSBkZWZhdWx0IGpzb25wYXRjaCdzIHZhbGlkYXRpb24sIG9yIHlvdSBjYW4gcGFzcyBhIGB2YWxpZGF0ZU9wZXJhdGlvbmAgY2FsbGJhY2sgdG8gYmUgdXNlZCBmb3IgdmFsaWRhdGlvbi5cbiAqIEBwYXJhbSBtdXRhdGVEb2N1bWVudCBXaGV0aGVyIHRvIG11dGF0ZSB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgb3IgY2xvbmUgaXQgYmVmb3JlIGFwcGx5aW5nXG4gKiBAcGFyYW0gYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyBXaGV0aGVyIHRvIGJhbiBtb2RpZmljYXRpb25zIHRvIGBfX3Byb3RvX19gLCBkZWZhdWx0cyB0byBgdHJ1ZWAuXG4gKiBAcmV0dXJuIEFuIGFycmF5IG9mIGB7bmV3RG9jdW1lbnQsIHJlc3VsdH1gIGFmdGVyIHRoZSBwYXRjaFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlQYXRjaChkb2N1bWVudCwgcGF0Y2gsIHZhbGlkYXRlT3BlcmF0aW9uLCBtdXRhdGVEb2N1bWVudCA9IHRydWUsIGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMgPSB0cnVlKSB7XG4gICAgaWYgKHZhbGlkYXRlT3BlcmF0aW9uKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShwYXRjaCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlBhdGNoIHNlcXVlbmNlIG11c3QgYmUgYW4gYXJyYXlcIiwgXCJTRVFVRU5DRV9OT1RfQU5fQVJSQVlcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFtdXRhdGVEb2N1bWVudCkge1xuICAgICAgICBkb2N1bWVudCA9IF9kZWVwQ2xvbmUoZG9jdW1lbnQpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHRzID0gbmV3IEFycmF5KHBhdGNoLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHBhdGNoLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gcGFzcyBtdXRhdGVEb2N1bWVudCBhcmd1bWVudCBiZWNhdXNlIGlmIGl0IHdhcyB0cnVlLCB3ZSBhbHJlYWR5IGRlZXAgY2xvbmVkIHRoZSBvYmplY3QsIHdlJ2xsIGp1c3QgcGFzcyBgdHJ1ZWBcbiAgICAgICAgcmVzdWx0c1tpXSA9IGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCBwYXRjaFtpXSwgdmFsaWRhdGVPcGVyYXRpb24sIHRydWUsIGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMsIGkpO1xuICAgICAgICBkb2N1bWVudCA9IHJlc3VsdHNbaV0ubmV3RG9jdW1lbnQ7IC8vIGluIGNhc2Ugcm9vdCB3YXMgcmVwbGFjZWRcbiAgICB9XG4gICAgcmVzdWx0cy5uZXdEb2N1bWVudCA9IGRvY3VtZW50O1xuICAgIHJldHVybiByZXN1bHRzO1xufVxuLyoqXG4gKiBBcHBseSBhIHNpbmdsZSBKU09OIFBhdGNoIE9wZXJhdGlvbiBvbiBhIEpTT04gZG9jdW1lbnQuXG4gKiBSZXR1cm5zIHRoZSB1cGRhdGVkIGRvY3VtZW50LlxuICogU3VpdGFibGUgYXMgYSByZWR1Y2VyLlxuICpcbiAqIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gcGF0Y2hcbiAqIEBwYXJhbSBvcGVyYXRpb24gVGhlIG9wZXJhdGlvbiB0byBhcHBseVxuICogQHJldHVybiBUaGUgdXBkYXRlZCBkb2N1bWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlSZWR1Y2VyKGRvY3VtZW50LCBvcGVyYXRpb24sIGluZGV4KSB7XG4gICAgY29uc3Qgb3BlcmF0aW9uUmVzdWx0ID0gYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIG9wZXJhdGlvbik7XG4gICAgaWYgKG9wZXJhdGlvblJlc3VsdC50ZXN0ID09PSBmYWxzZSkge1xuICAgICAgICAvLyBmYWlsZWQgdGVzdFxuICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJUZXN0IG9wZXJhdGlvbiBmYWlsZWRcIiwgXCJURVNUX09QRVJBVElPTl9GQUlMRURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gb3BlcmF0aW9uUmVzdWx0Lm5ld0RvY3VtZW50O1xufVxuLyoqXG4gKiBWYWxpZGF0ZXMgYSBzaW5nbGUgb3BlcmF0aW9uLiBDYWxsZWQgZnJvbSBganNvbnBhdGNoLnZhbGlkYXRlYC4gVGhyb3dzIGBKc29uUGF0Y2hFcnJvcmAgaW4gY2FzZSBvZiBhbiBlcnJvci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcGVyYXRpb24gLSBvcGVyYXRpb24gb2JqZWN0IChwYXRjaClcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIGluZGV4IG9mIG9wZXJhdGlvbiBpbiB0aGUgc2VxdWVuY2VcbiAqIEBwYXJhbSB7b2JqZWN0fSBbZG9jdW1lbnRdIC0gb2JqZWN0IHdoZXJlIHRoZSBvcGVyYXRpb24gaXMgc3VwcG9zZWQgdG8gYmUgYXBwbGllZFxuICogQHBhcmFtIHtzdHJpbmd9IFtleGlzdGluZ1BhdGhGcmFnbWVudF0gLSBjb21lcyBhbG9uZyB3aXRoIGBkb2N1bWVudGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRvcihvcGVyYXRpb24sIGluZGV4LCBkb2N1bWVudCwgZXhpc3RpbmdQYXRoRnJhZ21lbnQpIHtcbiAgICBpZiAodHlwZW9mIG9wZXJhdGlvbiAhPT0gXCJvYmplY3RcIiB8fFxuICAgICAgICBvcGVyYXRpb24gPT09IG51bGwgfHxcbiAgICAgICAgQXJyYXkuaXNBcnJheShvcGVyYXRpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBpcyBub3QgYW4gb2JqZWN0XCIsIFwiT1BFUkFUSU9OX05PVF9BTl9PQkpFQ1RcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmICghb2JqT3BzW29wZXJhdGlvbi5vcF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiT3BlcmF0aW9uIGBvcGAgcHJvcGVydHkgaXMgbm90IG9uZSBvZiBvcGVyYXRpb25zIGRlZmluZWQgaW4gUkZDLTY5MDJcIiwgXCJPUEVSQVRJT05fT1BfSU5WQUxJRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBvcGVyYXRpb24ucGF0aCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJPcGVyYXRpb24gYHBhdGhgIHByb3BlcnR5IGlzIG5vdCBhIHN0cmluZ1wiLCBcIk9QRVJBVElPTl9QQVRIX0lOVkFMSURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChvcGVyYXRpb24ucGF0aC5pbmRleE9mKFwiL1wiKSAhPT0gMCAmJiBvcGVyYXRpb24ucGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIHBhdGhzIHRoYXQgYXJlbid0IGVtcHR5IHN0cmluZyBzaG91bGQgc3RhcnQgd2l0aCBcIi9cIlxuICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoJ09wZXJhdGlvbiBgcGF0aGAgcHJvcGVydHkgbXVzdCBzdGFydCB3aXRoIFwiL1wiJywgXCJPUEVSQVRJT05fUEFUSF9JTlZBTElEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKG9wZXJhdGlvbi5vcCA9PT0gXCJtb3ZlXCIgfHwgb3BlcmF0aW9uLm9wID09PSBcImNvcHlcIikgJiZcbiAgICAgICAgdHlwZW9mIG9wZXJhdGlvbi5mcm9tICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgZnJvbWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYG1vdmVgIGFuZCBgY29weWAgb3BlcmF0aW9ucylcIiwgXCJPUEVSQVRJT05fRlJPTV9SRVFVSVJFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKChvcGVyYXRpb24ub3AgPT09IFwiYWRkXCIgfHxcbiAgICAgICAgb3BlcmF0aW9uLm9wID09PSBcInJlcGxhY2VcIiB8fFxuICAgICAgICBvcGVyYXRpb24ub3AgPT09IFwidGVzdFwiKSAmJlxuICAgICAgICBvcGVyYXRpb24udmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJPcGVyYXRpb24gYHZhbHVlYCBwcm9wZXJ0eSBpcyBub3QgcHJlc2VudCAoYXBwbGljYWJsZSBpbiBgYWRkYCwgYHJlcGxhY2VgIGFuZCBgdGVzdGAgb3BlcmF0aW9ucylcIiwgXCJPUEVSQVRJT05fVkFMVUVfUkVRVUlSRURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmICgob3BlcmF0aW9uLm9wID09PSBcImFkZFwiIHx8XG4gICAgICAgIG9wZXJhdGlvbi5vcCA9PT0gXCJyZXBsYWNlXCIgfHxcbiAgICAgICAgb3BlcmF0aW9uLm9wID09PSBcInRlc3RcIikgJiZcbiAgICAgICAgaGFzVW5kZWZpbmVkKG9wZXJhdGlvbi52YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiT3BlcmF0aW9uIGB2YWx1ZWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYGFkZGAsIGByZXBsYWNlYCBhbmQgYHRlc3RgIG9wZXJhdGlvbnMpXCIsIFwiT1BFUkFUSU9OX1ZBTFVFX0NBTk5PVF9DT05UQUlOX1VOREVGSU5FRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRvY3VtZW50KSB7XG4gICAgICAgIGlmIChvcGVyYXRpb24ub3AgPT0gXCJhZGRcIikge1xuICAgICAgICAgICAgdmFyIHBhdGhMZW4gPSBvcGVyYXRpb24ucGF0aC5zcGxpdChcIi9cIikubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGV4aXN0aW5nUGF0aExlbiA9IGV4aXN0aW5nUGF0aEZyYWdtZW50LnNwbGl0KFwiL1wiKS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAocGF0aExlbiAhPT0gZXhpc3RpbmdQYXRoTGVuICsgMSAmJiBwYXRoTGVuICE9PSBleGlzdGluZ1BhdGhMZW4pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJDYW5ub3QgcGVyZm9ybSBhbiBgYWRkYCBvcGVyYXRpb24gYXQgdGhlIGRlc2lyZWQgcGF0aFwiLCBcIk9QRVJBVElPTl9QQVRIX0NBTk5PVF9BRERcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJyZXBsYWNlXCIgfHxcbiAgICAgICAgICAgIG9wZXJhdGlvbi5vcCA9PT0gXCJyZW1vdmVcIiB8fFxuICAgICAgICAgICAgb3BlcmF0aW9uLm9wID09PSBcIl9nZXRcIikge1xuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbi5wYXRoICE9PSBleGlzdGluZ1BhdGhGcmFnbWVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIkNhbm5vdCBwZXJmb3JtIHRoZSBvcGVyYXRpb24gYXQgYSBwYXRoIHRoYXQgZG9lcyBub3QgZXhpc3RcIiwgXCJPUEVSQVRJT05fUEFUSF9VTlJFU09MVkFCTEVcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJtb3ZlXCIgfHwgb3BlcmF0aW9uLm9wID09PSBcImNvcHlcIikge1xuICAgICAgICAgICAgdmFyIGV4aXN0aW5nVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgb3A6IFwiX2dldFwiLFxuICAgICAgICAgICAgICAgIHBhdGg6IG9wZXJhdGlvbi5mcm9tLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGVycm9yID0gdmFsaWRhdGUoW2V4aXN0aW5nVmFsdWVdLCBkb2N1bWVudCk7XG4gICAgICAgICAgICBpZiAoZXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gXCJPUEVSQVRJT05fUEFUSF9VTlJFU09MVkFCTEVcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIkNhbm5vdCBwZXJmb3JtIHRoZSBvcGVyYXRpb24gZnJvbSBhIHBhdGggdGhhdCBkb2VzIG5vdCBleGlzdFwiLCBcIk9QRVJBVElPTl9GUk9NX1VOUkVTT0xWQUJMRVwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFZhbGlkYXRlcyBhIHNlcXVlbmNlIG9mIG9wZXJhdGlvbnMuIElmIGBkb2N1bWVudGAgcGFyYW1ldGVyIGlzIHByb3ZpZGVkLCB0aGUgc2VxdWVuY2UgaXMgYWRkaXRpb25hbGx5IHZhbGlkYXRlZCBhZ2FpbnN0IHRoZSBvYmplY3QgZG9jdW1lbnQuXG4gKiBJZiBlcnJvciBpcyBlbmNvdW50ZXJlZCwgcmV0dXJucyBhIEpzb25QYXRjaEVycm9yIG9iamVjdFxuICogQHBhcmFtIHNlcXVlbmNlXG4gKiBAcGFyYW0gZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtKc29uUGF0Y2hFcnJvcnx1bmRlZmluZWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZShzZXF1ZW5jZSwgZG9jdW1lbnQsIGV4dGVybmFsVmFsaWRhdG9yKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHNlcXVlbmNlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiUGF0Y2ggc2VxdWVuY2UgbXVzdCBiZSBhbiBhcnJheVwiLCBcIlNFUVVFTkNFX05PVF9BTl9BUlJBWVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIC8vY2xvbmUgZG9jdW1lbnQgYW5kIHNlcXVlbmNlIHNvIHRoYXQgd2UgY2FuIHNhZmVseSB0cnkgYXBwbHlpbmcgb3BlcmF0aW9uc1xuICAgICAgICAgICAgYXBwbHlQYXRjaChfZGVlcENsb25lKGRvY3VtZW50KSwgX2RlZXBDbG9uZShzZXF1ZW5jZSksIGV4dGVybmFsVmFsaWRhdG9yIHx8IHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXh0ZXJuYWxWYWxpZGF0b3IgPSBleHRlcm5hbFZhbGlkYXRvciB8fCB2YWxpZGF0b3I7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlcXVlbmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxWYWxpZGF0b3Ioc2VxdWVuY2VbaV0sIGksIGRvY3VtZW50LCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgSnNvblBhdGNoRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9lcG9iZXJlemtpbi9mYXN0LWRlZXAtZXF1YWxcbi8vIE1JVCBMaWNlbnNlXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTcgRXZnZW55IFBvYmVyZXpraW5cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbi8vIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbi8vIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuLy8gY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbi8vIFNPRlRXQVJFLlxuZXhwb3J0IGZ1bmN0aW9uIF9hcmVFcXVhbHMoYSwgYikge1xuICAgIGlmIChhID09PSBiKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGIgPT0gXCJvYmplY3RcIikge1xuICAgICAgICB2YXIgYXJyQSA9IEFycmF5LmlzQXJyYXkoYSksIGFyckIgPSBBcnJheS5pc0FycmF5KGIpLCBpLCBsZW5ndGgsIGtleTtcbiAgICAgICAgaWYgKGFyckEgJiYgYXJyQikge1xuICAgICAgICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOylcbiAgICAgICAgICAgICAgICBpZiAoIV9hcmVFcXVhbHMoYVtpXSwgYltpXSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcnJBICE9IGFyckIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOylcbiAgICAgICAgICAgIGlmICghYi5oYXNPd25Qcm9wZXJ0eShrZXlzW2ldKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykge1xuICAgICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIGlmICghX2FyZUVxdWFscyhhW2tleV0sIGJba2V5XSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gYSAhPT0gYSAmJiBiICE9PSBiO1xufVxuIiwiLypcbiAqIFN1cHBvcnQgYXN5bmMgaXRlcmF0b3Igc3ludGF4IGZvciBSZWFkYWJsZVN0cmVhbXMgaW4gYWxsIGVudmlyb25tZW50cy5cbiAqIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL01hdHRpYXNCdWVsZW5zL3dlYi1zdHJlYW1zLXBvbHlmaWxsL3B1bGwvMTIyI2lzc3VlY29tbWVudC0xNjI3MzU0NDkwXG4gKi9cbmV4cG9ydCBjbGFzcyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIGV4dGVuZHMgUmVhZGFibGVTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWFkZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW5zdXJlUmVhZGVyKCkge1xuICAgICAgICBpZiAoIXRoaXMucmVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRlciA9IHRoaXMuZ2V0UmVhZGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgbmV4dCgpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVSZWFkZXIoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSlcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWRlci5yZWxlYXNlTG9jaygpOyAvLyByZWxlYXNlIGxvY2sgd2hlbiBzdHJlYW0gYmVjb21lcyBjbG9zZWRcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGVycm9yZWRcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcmV0dXJuKCkge1xuICAgICAgICB0aGlzLmVuc3VyZVJlYWRlcigpO1xuICAgICAgICBjb25zdCBjYW5jZWxQcm9taXNlID0gdGhpcy5yZWFkZXIuY2FuY2VsKCk7IC8vIGNhbmNlbCBmaXJzdCwgYnV0IGRvbid0IGF3YWl0IHlldFxuICAgICAgICB0aGlzLnJlYWRlci5yZWxlYXNlTG9jaygpOyAvLyByZWxlYXNlIGxvY2sgZmlyc3RcbiAgICAgICAgYXdhaXQgY2FuY2VsUHJvbWlzZTsgLy8gbm93IGF3YWl0IGl0XG4gICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTsgLy8gVGhpcyBjYXN0IGZpeGVzIFRTIHR5cGluZywgYW5kIGNvbnZlbnRpb24gaXMgdG8gaWdub3JlIGZpbmFsIGNodW5rIHZhbHVlIGFueXdheVxuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3RhdGljIGZyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pIHtcbiAgICAgICAgLy8gRnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU3RyZWFtc19BUEkvVXNpbmdfcmVhZGFibGVfc3RyZWFtcyNyZWFkaW5nX3RoZV9zdHJlYW1cbiAgICAgICAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwdW1wKCk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcHVtcCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkKCkudGhlbigoeyBkb25lLCB2YWx1ZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIG5vIG1vcmUgZGF0YSBuZWVkcyB0byBiZSBjb25zdW1lZCwgY2xvc2UgdGhlIHN0cmVhbVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5xdWV1ZSB0aGUgbmV4dCBkYXRhIGNodW5rIGludG8gb3VyIHRhcmdldCBzdHJlYW1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHVtcCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21Bc3luY0dlbmVyYXRvcihnZW5lcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IGdlbmVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBubyBtb3JlIGRhdGEgbmVlZHMgdG8gYmUgY29uc3VtZWQsIGNsb3NlIHRoZSBzdHJlYW1cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEZpeDogYGVsc2UgaWYgKHZhbHVlKWAgd2lsbCBoYW5nIHRoZSBzdHJlYW1pbmcgd2hlbiBudWxsaXNoIHZhbHVlIChlLmcuIGVtcHR5IHN0cmluZykgaXMgcHVsbGVkXG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGFwcGx5UGF0Y2gsIH0gZnJvbSBcIi4uLy4uL3V0aWwvZmFzdC1qc29uLXBhdGNoL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4vdHJhY2VyLmpzXCI7XG5pbXBvcnQgeyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIH0gZnJvbSBcIi4uLy4uL3V0aWwvc3RyZWFtLmpzXCI7XG4vKipcbiAqIExpc3Qgb2YganNvbnBhdGNoIEpTT05QYXRjaE9wZXJhdGlvbnMsIHdoaWNoIGRlc2NyaWJlIGhvdyB0byBjcmVhdGUgdGhlIHJ1biBzdGF0ZVxuICogZnJvbSBhbiBlbXB0eSBkaWN0LiBUaGlzIGlzIHRoZSBtaW5pbWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBsb2csIGRlc2lnbmVkIHRvXG4gKiBiZSBzZXJpYWxpemVkIGFzIEpTT04gYW5kIHNlbnQgb3ZlciB0aGUgd2lyZSB0byByZWNvbnN0cnVjdCB0aGUgbG9nIG9uIHRoZSBvdGhlclxuICogc2lkZS4gUmVjb25zdHJ1Y3Rpb24gb2YgdGhlIHN0YXRlIGNhbiBiZSBkb25lIHdpdGggYW55IGpzb25wYXRjaC1jb21wbGlhbnQgbGlicmFyeSxcbiAqIHNlZSBodHRwczovL2pzb25wYXRjaC5jb20gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5Mb2dQYXRjaCB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wcyA9IGZpZWxkcy5vcHM7XG4gICAgfVxuICAgIGNvbmNhdChvdGhlcikge1xuICAgICAgICBjb25zdCBvcHMgPSB0aGlzLm9wcy5jb25jYXQob3RoZXIub3BzKTtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gYXBwbHlQYXRjaCh7fSwgb3BzKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICByZXR1cm4gbmV3IFJ1bkxvZyh7XG4gICAgICAgICAgICBvcHMsXG4gICAgICAgICAgICBzdGF0ZTogc3RhdGVzW3N0YXRlcy5sZW5ndGggLSAxXS5uZXdEb2N1bWVudCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1bkxvZyBleHRlbmRzIFJ1bkxvZ1BhdGNoIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhdGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGZpZWxkcy5zdGF0ZTtcbiAgICB9XG4gICAgY29uY2F0KG90aGVyKSB7XG4gICAgICAgIGNvbnN0IG9wcyA9IHRoaXMub3BzLmNvbmNhdChvdGhlci5vcHMpO1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSBhcHBseVBhdGNoKHRoaXMuc3RhdGUsIG90aGVyLm9wcyk7XG4gICAgICAgIHJldHVybiBuZXcgUnVuTG9nKHsgb3BzLCBzdGF0ZTogc3RhdGVzW3N0YXRlcy5sZW5ndGggLSAxXS5uZXdEb2N1bWVudCB9KTtcbiAgICB9XG59XG4vKipcbiAqIENsYXNzIHRoYXQgZXh0ZW5kcyB0aGUgYEJhc2VUcmFjZXJgIGNsYXNzIGZyb20gdGhlXG4gKiBgbGFuZ2NoYWluLmNhbGxiYWNrcy50cmFjZXJzLmJhc2VgIG1vZHVsZS4gSXQgcmVwcmVzZW50cyBhIGNhbGxiYWNrXG4gKiBoYW5kbGVyIHRoYXQgbG9ncyB0aGUgZXhlY3V0aW9uIG9mIHJ1bnMgYW5kIGVtaXRzIGBSdW5Mb2dgIGluc3RhbmNlcyB0byBhXG4gKiBgUnVuTG9nU3RyZWFtYC5cbiAqL1xuZXhwb3J0IGNsYXNzIExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlciBleHRlbmRzIEJhc2VUcmFjZXIge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhdXRvQ2xvc2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluY2x1ZGVOYW1lc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbmNsdWRlVHlwZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5jbHVkZVRhZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXhjbHVkZU5hbWVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV4Y2x1ZGVUeXBlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleGNsdWRlVGFnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJrZXlNYXBCeVJ1bklkXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB7fVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY291bnRlck1hcEJ5UnVuTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZToge31cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRyYW5zZm9ybVN0cmVhbVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3cml0ZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVjZWl2ZVN0cmVhbVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImxvZ19zdHJlYW1fdHJhY2VyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXV0b0Nsb3NlID0gZmllbGRzPy5hdXRvQ2xvc2UgPz8gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbmNsdWRlTmFtZXMgPSBmaWVsZHM/LmluY2x1ZGVOYW1lcztcbiAgICAgICAgdGhpcy5pbmNsdWRlVHlwZXMgPSBmaWVsZHM/LmluY2x1ZGVUeXBlcztcbiAgICAgICAgdGhpcy5pbmNsdWRlVGFncyA9IGZpZWxkcz8uaW5jbHVkZVRhZ3M7XG4gICAgICAgIHRoaXMuZXhjbHVkZU5hbWVzID0gZmllbGRzPy5leGNsdWRlTmFtZXM7XG4gICAgICAgIHRoaXMuZXhjbHVkZVR5cGVzID0gZmllbGRzPy5leGNsdWRlVHlwZXM7XG4gICAgICAgIHRoaXMuZXhjbHVkZVRhZ3MgPSBmaWVsZHM/LmV4Y2x1ZGVUYWdzO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybVN0cmVhbSA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oKTtcbiAgICAgICAgdGhpcy53cml0ZXIgPSB0aGlzLnRyYW5zZm9ybVN0cmVhbS53cml0YWJsZS5nZXRXcml0ZXIoKTtcbiAgICAgICAgdGhpcy5yZWNlaXZlU3RyZWFtID0gSXRlcmFibGVSZWFkYWJsZVN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0odGhpcy50cmFuc2Zvcm1TdHJlYW0ucmVhZGFibGUpO1xuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWNlaXZlU3RyZWFtO1xuICAgIH1cbiAgICBhc3luYyBwZXJzaXN0UnVuKF9ydW4pIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIGxlZ2FjeSBtZXRob2Qgb25seSBjYWxsZWQgb25jZSBmb3IgYW4gZW50aXJlIHJ1biB0cmVlXG4gICAgICAgIC8vIGFuZCBpcyB0aGVyZWZvcmUgbm90IHVzZWZ1bCBoZXJlXG4gICAgfVxuICAgIF9pbmNsdWRlUnVuKHJ1bikge1xuICAgICAgICBpZiAocnVuLnBhcmVudF9ydW5faWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJ1blRhZ3MgPSBydW4udGFncyA/PyBbXTtcbiAgICAgICAgbGV0IGluY2x1ZGUgPSB0aGlzLmluY2x1ZGVOYW1lcyA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICB0aGlzLmluY2x1ZGVUYWdzID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHRoaXMuaW5jbHVkZVR5cGVzID09PSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmluY2x1ZGVOYW1lcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpbmNsdWRlID0gaW5jbHVkZSB8fCB0aGlzLmluY2x1ZGVOYW1lcy5pbmNsdWRlcyhydW4ubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5jbHVkZVR5cGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGluY2x1ZGUgPSBpbmNsdWRlIHx8IHRoaXMuaW5jbHVkZVR5cGVzLmluY2x1ZGVzKHJ1bi5ydW5fdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5jbHVkZVRhZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5jbHVkZSA9XG4gICAgICAgICAgICAgICAgaW5jbHVkZSB8fFxuICAgICAgICAgICAgICAgICAgICBydW5UYWdzLmZpbmQoKHRhZykgPT4gdGhpcy5pbmNsdWRlVGFncz8uaW5jbHVkZXModGFnKSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5leGNsdWRlTmFtZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5jbHVkZSA9IGluY2x1ZGUgJiYgIXRoaXMuZXhjbHVkZU5hbWVzLmluY2x1ZGVzKHJ1bi5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5leGNsdWRlVHlwZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5jbHVkZSA9IGluY2x1ZGUgJiYgIXRoaXMuZXhjbHVkZVR5cGVzLmluY2x1ZGVzKHJ1bi5ydW5fdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZXhjbHVkZVRhZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5jbHVkZSA9XG4gICAgICAgICAgICAgICAgaW5jbHVkZSAmJiBydW5UYWdzLmV2ZXJ5KCh0YWcpID0+ICF0aGlzLmV4Y2x1ZGVUYWdzPy5pbmNsdWRlcyh0YWcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5jbHVkZTtcbiAgICB9XG4gICAgYXN5bmMgb25SdW5DcmVhdGUocnVuKSB7XG4gICAgICAgIGlmIChydW4ucGFyZW50X3J1bl9pZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLndyaXRlci53cml0ZShuZXcgUnVuTG9nUGF0Y2goe1xuICAgICAgICAgICAgICAgIG9wczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcnVuLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbWVkX291dHB1dDogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxfb3V0cHV0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nczoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9pbmNsdWRlUnVuKHJ1bikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb3VudGVyTWFwQnlSdW5OYW1lW3J1bi5uYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJNYXBCeVJ1bk5hbWVbcnVuLm5hbWVdID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvdW50ZXJNYXBCeVJ1bk5hbWVbcnVuLm5hbWVdICs9IDE7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5jb3VudGVyTWFwQnlSdW5OYW1lW3J1bi5uYW1lXTtcbiAgICAgICAgdGhpcy5rZXlNYXBCeVJ1bklkW3J1bi5pZF0gPVxuICAgICAgICAgICAgY291bnQgPT09IDEgPyBydW4ubmFtZSA6IGAke3J1bi5uYW1lfToke2NvdW50fWA7XG4gICAgICAgIGNvbnN0IGxvZ0VudHJ5ID0ge1xuICAgICAgICAgICAgaWQ6IHJ1bi5pZCxcbiAgICAgICAgICAgIG5hbWU6IHJ1bi5uYW1lLFxuICAgICAgICAgICAgdHlwZTogcnVuLnJ1bl90eXBlLFxuICAgICAgICAgICAgdGFnczogcnVuLnRhZ3MgPz8gW10sXG4gICAgICAgICAgICBtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fSxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWU6IG5ldyBEYXRlKHJ1bi5zdGFydF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgc3RyZWFtZWRfb3V0cHV0X3N0cjogW10sXG4gICAgICAgICAgICBmaW5hbF9vdXRwdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuZF90aW1lOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IHRoaXMud3JpdGVyLndyaXRlKG5ldyBSdW5Mb2dQYXRjaCh7XG4gICAgICAgICAgICBvcHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9wOiBcImFkZFwiLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBgL2xvZ3MvJHt0aGlzLmtleU1hcEJ5UnVuSWRbcnVuLmlkXX1gLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbG9nRW50cnksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgYXN5bmMgb25SdW5VcGRhdGUocnVuKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBydW5OYW1lID0gdGhpcy5rZXlNYXBCeVJ1bklkW3J1bi5pZF07XG4gICAgICAgICAgICBpZiAocnVuTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3BzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L2ZpbmFsX291dHB1dGAsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBydW4ub3V0cHV0cyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmIChydW4uZW5kX3RpbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG9wcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L2VuZF90aW1lYCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhdGNoID0gbmV3IFJ1bkxvZ1BhdGNoKHsgb3BzIH0pO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy53cml0ZXIud3JpdGUocGF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKHJ1bi5wYXJlbnRfcnVuX2lkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRjaCA9IG5ldyBSdW5Mb2dQYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgIG9wczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBcIi9maW5hbF9vdXRwdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcnVuLm91dHB1dHMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud3JpdGVyLndyaXRlKHBhdGNoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdXRvQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53cml0ZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgb25MTE1OZXdUb2tlbihydW4sIHRva2VuKSB7XG4gICAgICAgIGNvbnN0IHJ1bk5hbWUgPSB0aGlzLmtleU1hcEJ5UnVuSWRbcnVuLmlkXTtcbiAgICAgICAgaWYgKHJ1bk5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhdGNoID0gbmV3IFJ1bkxvZ1BhdGNoKHtcbiAgICAgICAgICAgIG9wczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L3N0cmVhbWVkX291dHB1dF9zdHIvLWAsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0b2tlbixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMud3JpdGVyLndyaXRlKHBhdGNoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDYWxsYmFja01hbmFnZXIsIH0gZnJvbSBcIi4uLy4uL2NhbGxiYWNrcy9tYW5hZ2VyLmpzXCI7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcoY29uZmlnKSB7XG4gICAgcmV0dXJuIENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUoY29uZmlnPy5jYWxsYmFja3MsIHVuZGVmaW5lZCwgY29uZmlnPy50YWdzLCB1bmRlZmluZWQsIGNvbmZpZz8ubWV0YWRhdGEpO1xufVxuIiwiaW1wb3J0IHBSZXRyeSBmcm9tIFwicC1yZXRyeVwiO1xuaW1wb3J0IFBRdWV1ZU1vZCBmcm9tIFwicC1xdWV1ZVwiO1xuY29uc3QgU1RBVFVTX05PX1JFVFJZID0gW1xuICAgIDQwMCxcbiAgICA0MDEsXG4gICAgNDAyLFxuICAgIDQwMyxcbiAgICA0MDQsXG4gICAgNDA1LFxuICAgIDQwNixcbiAgICA0MDcsXG4gICAgNDA4LFxuICAgIDQwOSwgLy8gQ29uZmxpY3Rcbl07XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuY29uc3QgZGVmYXVsdEZhaWxlZEF0dGVtcHRIYW5kbGVyID0gKGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aChcIkNhbmNlbFwiKSB8fFxuICAgICAgICBlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJUaW1lb3V0RXJyb3JcIikgfHxcbiAgICAgICAgZXJyb3IubmFtZSA9PT0gXCJUaW1lb3V0RXJyb3JcIiB8fFxuICAgICAgICBlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJBYm9ydEVycm9yXCIpIHx8XG4gICAgICAgIGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGlmIChlcnJvcj8uY29kZSA9PT0gXCJFQ09OTkFCT1JURURcIikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgY29uc3Qgc3RhdHVzID0gXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBlcnJvcj8ucmVzcG9uc2U/LnN0YXR1cyA/PyBlcnJvcj8uc3RhdHVzO1xuICAgIGlmIChzdGF0dXMgJiYgU1RBVFVTX05PX1JFVFJZLmluY2x1ZGVzKCtzdGF0dXMpKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGlmIChlcnJvcj8uZXJyb3I/LmNvZGUgPT09IFwiaW5zdWZmaWNpZW50X3F1b3RhXCIpIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGVycm9yPy5tZXNzYWdlKTtcbiAgICAgICAgZXJyLm5hbWUgPSBcIkluc3VmZmljaWVudFF1b3RhRXJyb3JcIjtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbn07XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBjYW4gYmUgdXNlZCB0byBtYWtlIGFzeW5jIGNhbGxzIHdpdGggY29uY3VycmVuY3kgYW5kIHJldHJ5IGxvZ2ljLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGZvciBtYWtpbmcgY2FsbHMgdG8gYW55IGtpbmQgb2YgXCJleHBlbnNpdmVcIiBleHRlcm5hbCByZXNvdXJjZSxcbiAqIGJlIGl0IGJlY2F1c2UgaXQncyByYXRlLWxpbWl0ZWQsIHN1YmplY3QgdG8gbmV0d29yayBpc3N1ZXMsIGV0Yy5cbiAqXG4gKiBDb25jdXJyZW50IGNhbGxzIGFyZSBsaW1pdGVkIGJ5IHRoZSBgbWF4Q29uY3VycmVuY3lgIHBhcmFtZXRlciwgd2hpY2ggZGVmYXVsdHNcbiAqIHRvIGBJbmZpbml0eWAuIFRoaXMgbWVhbnMgdGhhdCBieSBkZWZhdWx0LCBhbGwgY2FsbHMgd2lsbCBiZSBtYWRlIGluIHBhcmFsbGVsLlxuICpcbiAqIFJldHJpZXMgYXJlIGxpbWl0ZWQgYnkgdGhlIGBtYXhSZXRyaWVzYCBwYXJhbWV0ZXIsIHdoaWNoIGRlZmF1bHRzIHRvIDYuIFRoaXNcbiAqIG1lYW5zIHRoYXQgYnkgZGVmYXVsdCwgZWFjaCBjYWxsIHdpbGwgYmUgcmV0cmllZCB1cCB0byA2IHRpbWVzLCB3aXRoIGFuXG4gKiBleHBvbmVudGlhbCBiYWNrb2ZmIGJldHdlZW4gZWFjaCBhdHRlbXB0LlxuICovXG5leHBvcnQgY2xhc3MgQXN5bmNDYWxsZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhDb25jdXJyZW5jeVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhSZXRyaWVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uRmFpbGVkQXR0ZW1wdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJxdWV1ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1heENvbmN1cnJlbmN5ID0gcGFyYW1zLm1heENvbmN1cnJlbmN5ID8/IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFJldHJpZXMgPSBwYXJhbXMubWF4UmV0cmllcyA/PyA2O1xuICAgICAgICB0aGlzLm9uRmFpbGVkQXR0ZW1wdCA9XG4gICAgICAgICAgICBwYXJhbXMub25GYWlsZWRBdHRlbXB0ID8/IGRlZmF1bHRGYWlsZWRBdHRlbXB0SGFuZGxlcjtcbiAgICAgICAgY29uc3QgUFF1ZXVlID0gXCJkZWZhdWx0XCIgaW4gUFF1ZXVlTW9kID8gUFF1ZXVlTW9kLmRlZmF1bHQgOiBQUXVldWVNb2Q7XG4gICAgICAgIHRoaXMucXVldWUgPSBuZXcgUFF1ZXVlKHsgY29uY3VycmVuY3k6IHRoaXMubWF4Q29uY3VycmVuY3kgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY2FsbChjYWxsYWJsZSwgLi4uYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZS5hZGQoKCkgPT4gcFJldHJ5KCgpID0+IGNhbGxhYmxlKC4uLmFyZ3MpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWluc3RhbmNlb2Yvbm8taW5zdGFuY2VvZlxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCB7XG4gICAgICAgICAgICBvbkZhaWxlZEF0dGVtcHQ6IHRoaXMub25GYWlsZWRBdHRlbXB0LFxuICAgICAgICAgICAgcmV0cmllczogdGhpcy5tYXhSZXRyaWVzLFxuICAgICAgICAgICAgcmFuZG9taXplOiB0cnVlLFxuICAgICAgICAgICAgLy8gSWYgbmVlZGVkIHdlIGNhbiBjaGFuZ2Ugc29tZSBvZiB0aGUgZGVmYXVsdHMgaGVyZSxcbiAgICAgICAgICAgIC8vIGJ1dCB0aGV5J3JlIHF1aXRlIHNlbnNpYmxlLlxuICAgICAgICB9KSwgeyB0aHJvd09uVGltZW91dDogdHJ1ZSB9KTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjYWxsV2l0aE9wdGlvbnMob3B0aW9ucywgY2FsbGFibGUsIC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gTm90ZSB0aGlzIGRvZXNuJ3QgY2FuY2VsIHRoZSB1bmRlcmx5aW5nIHJlcXVlc3QsXG4gICAgICAgIC8vIHdoZW4gYXZhaWxhYmxlIHByZWZlciB0byB1c2UgdGhlIHNpZ25hbCBvcHRpb24gb2YgdGhlIHVuZGVybHlpbmcgY2FsbFxuICAgICAgICBpZiAob3B0aW9ucy5zaWduYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJhY2UoW1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbChjYWxsYWJsZSwgLi4uYXJncyksXG4gICAgICAgICAgICAgICAgbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnNpZ25hbD8uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJBYm9ydEVycm9yXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKGNhbGxhYmxlLCAuLi5hcmdzKTtcbiAgICB9XG4gICAgZmV0Y2goLi4uYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCgpID0+IGZldGNoKC4uLmFyZ3MpLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcyA6IFByb21pc2UucmVqZWN0KHJlcykpKSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHBSZXRyeSBmcm9tIFwicC1yZXRyeVwiO1xuaW1wb3J0IHsgQ2FsbGJhY2tNYW5hZ2VyLCB9IGZyb20gXCIuLi8uLi9jYWxsYmFja3MvbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgTG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyLCBSdW5Mb2dQYXRjaCwgfSBmcm9tIFwiLi4vLi4vY2FsbGJhY2tzL2hhbmRsZXJzL2xvZ19zdHJlYW0uanNcIjtcbmltcG9ydCB7IFNlcmlhbGl6YWJsZSB9IGZyb20gXCIuLi8uLi9sb2FkL3NlcmlhbGl6YWJsZS5qc1wiO1xuaW1wb3J0IHsgSXRlcmFibGVSZWFkYWJsZVN0cmVhbSB9IGZyb20gXCIuLi8uLi91dGlsL3N0cmVhbS5qc1wiO1xuaW1wb3J0IHsgZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcgfSBmcm9tIFwiLi9jb25maWcuanNcIjtcbmltcG9ydCB7IEFzeW5jQ2FsbGVyIH0gZnJvbSBcIi4uLy4uL3V0aWwvYXN5bmNfY2FsbGVyLmpzXCI7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gX2NvZXJjZVRvRGljdCh2YWx1ZSwgZGVmYXVsdEtleSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiXG4gICAgICAgID8gdmFsdWVcbiAgICAgICAgOiB7IFtkZWZhdWx0S2V5XTogdmFsdWUgfTtcbn1cbi8qKlxuICogQSBSdW5uYWJsZSBpcyBhIGdlbmVyaWMgdW5pdCBvZiB3b3JrIHRoYXQgY2FuIGJlIGludm9rZWQsIGJhdGNoZWQsIHN0cmVhbWVkLCBhbmQvb3JcbiAqIHRyYW5zZm9ybWVkLlxuICovXG5leHBvcnQgY2xhc3MgUnVubmFibGUgZXh0ZW5kcyBTZXJpYWxpemFibGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19ydW5uYWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmluZCBhcmd1bWVudHMgdG8gYSBSdW5uYWJsZSwgcmV0dXJuaW5nIGEgbmV3IFJ1bm5hYmxlLlxuICAgICAqIEBwYXJhbSBrd2FyZ3NcbiAgICAgKiBAcmV0dXJucyBBIG5ldyBSdW5uYWJsZUJpbmRpbmcgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIGFwcGx5IHRoZSBib3VuZCBhcmdzLlxuICAgICAqL1xuICAgIGJpbmQoa3dhcmdzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZUJpbmRpbmcoeyBib3VuZDogdGhpcywga3dhcmdzLCBjb25maWc6IHt9IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBuZXcgUnVubmFibGUgdGhhdCBtYXBzIGEgbGlzdCBvZiBpbnB1dHMgdG8gYSBsaXN0IG9mIG91dHB1dHMsXG4gICAgICogYnkgY2FsbGluZyBpbnZva2UoKSB3aXRoIGVhY2ggaW5wdXQuXG4gICAgICovXG4gICAgbWFwKCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVFYWNoKHsgYm91bmQ6IHRoaXMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCByZXRyeSBsb2dpYyB0byBhbiBleGlzdGluZyBydW5uYWJsZS5cbiAgICAgKiBAcGFyYW0ga3dhcmdzXG4gICAgICogQHJldHVybnMgQSBuZXcgUnVubmFibGVSZXRyeSB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgcmV0cnkgYWNjb3JkaW5nIHRvIHRoZSBwYXJhbWV0ZXJzLlxuICAgICAqL1xuICAgIHdpdGhSZXRyeShmaWVsZHMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICByZXR1cm4gbmV3IFJ1bm5hYmxlUmV0cnkoe1xuICAgICAgICAgICAgYm91bmQ6IHRoaXMsXG4gICAgICAgICAgICBrd2FyZ3M6IHt9LFxuICAgICAgICAgICAgY29uZmlnOiB7fSxcbiAgICAgICAgICAgIG1heEF0dGVtcHROdW1iZXI6IGZpZWxkcz8uc3RvcEFmdGVyQXR0ZW1wdCxcbiAgICAgICAgICAgIC4uLmZpZWxkcyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmQgY29uZmlnIHRvIGEgUnVubmFibGUsIHJldHVybmluZyBhIG5ldyBSdW5uYWJsZS5cbiAgICAgKiBAcGFyYW0gY29uZmlnIE5ldyBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgdG8gYXR0YWNoIHRvIHRoZSBuZXcgcnVubmFibGUuXG4gICAgICogQHJldHVybnMgQSBuZXcgUnVubmFibGVCaW5kaW5nIHdpdGggYSBjb25maWcgbWF0Y2hpbmcgd2hhdCdzIHBhc3NlZC5cbiAgICAgKi9cbiAgICB3aXRoQ29uZmlnKGNvbmZpZykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVCaW5kaW5nKHtcbiAgICAgICAgICAgIGJvdW5kOiB0aGlzLFxuICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAga3dhcmdzOiB7fSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBydW5uYWJsZSBmcm9tIHRoZSBjdXJyZW50IG9uZSB0aGF0IHdpbGwgdHJ5IGludm9raW5nXG4gICAgICogb3RoZXIgcGFzc2VkIGZhbGxiYWNrIHJ1bm5hYmxlcyBpZiB0aGUgaW5pdGlhbCBpbnZvY2F0aW9uIGZhaWxzLlxuICAgICAqIEBwYXJhbSBmaWVsZHMuZmFsbGJhY2tzIE90aGVyIHJ1bm5hYmxlcyB0byBjYWxsIGlmIHRoZSBydW5uYWJsZSBlcnJvcnMuXG4gICAgICogQHJldHVybnMgQSBuZXcgUnVubmFibGVXaXRoRmFsbGJhY2tzLlxuICAgICAqL1xuICAgIHdpdGhGYWxsYmFja3MoZmllbGRzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZVdpdGhGYWxsYmFja3Moe1xuICAgICAgICAgICAgcnVubmFibGU6IHRoaXMsXG4gICAgICAgICAgICBmYWxsYmFja3M6IGZpZWxkcy5mYWxsYmFja3MsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfZ2V0T3B0aW9uc0xpc3Qob3B0aW9ucywgbGVuZ3RoID0gMCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zKSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoICE9PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhc3NlZCBcIm9wdGlvbnNcIiBtdXN0IGJlIGFuIGFycmF5IHdpdGggdGhlIHNhbWUgbGVuZ3RoIGFzIHRoZSBpbnB1dHMsIGJ1dCBnb3QgJHtvcHRpb25zLmxlbmd0aH0gb3B0aW9ucyBmb3IgJHtsZW5ndGh9IGlucHV0c2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGggfSwgKCkgPT4gb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIGJhdGNoKGlucHV0cywgb3B0aW9ucywgYmF0Y2hPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZ0xpc3QgPSB0aGlzLl9nZXRPcHRpb25zTGlzdChvcHRpb25zID8/IHt9LCBpbnB1dHMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY2FsbGVyID0gbmV3IEFzeW5jQ2FsbGVyKHtcbiAgICAgICAgICAgIG1heENvbmN1cnJlbmN5OiBiYXRjaE9wdGlvbnM/Lm1heENvbmN1cnJlbmN5LFxuICAgICAgICAgICAgb25GYWlsZWRBdHRlbXB0OiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYmF0Y2hDYWxscyA9IGlucHV0cy5tYXAoKGlucHV0LCBpKSA9PiBjYWxsZXIuY2FsbChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuaW52b2tlKGlucHV0LCBjb25maWdMaXN0W2ldKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmF0Y2hPcHRpb25zPy5yZXR1cm5FeGNlcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChiYXRjaENhbGxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzdHJlYW1pbmcgaW1wbGVtZW50YXRpb24uXG4gICAgICogU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgdGhleSBzdXBwb3J0IHN0cmVhbWluZyBvdXRwdXQuXG4gICAgICogQHBhcmFtIGlucHV0XG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIHlpZWxkIHRoaXMuaW52b2tlKGlucHV0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RyZWFtIG91dHB1dCBpbiBjaHVua3MuXG4gICAgICogQHBhcmFtIGlucHV0XG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyBBIHJlYWRhYmxlIHN0cmVhbSB0aGF0IGlzIGFsc28gYW4gaXRlcmFibGUuXG4gICAgICovXG4gICAgYXN5bmMgc3RyZWFtKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtLmZyb21Bc3luY0dlbmVyYXRvcih0aGlzLl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykpO1xuICAgIH1cbiAgICBfc2VwYXJhdGVSdW5uYWJsZUNvbmZpZ0Zyb21DYWxsT3B0aW9ucyhvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgcnVubmFibGVDb25maWcgPSB7XG4gICAgICAgICAgICBjYWxsYmFja3M6IG9wdGlvbnMuY2FsbGJhY2tzLFxuICAgICAgICAgICAgdGFnczogb3B0aW9ucy50YWdzLFxuICAgICAgICAgICAgbWV0YWRhdGE6IG9wdGlvbnMubWV0YWRhdGEsXG4gICAgICAgICAgICBydW5OYW1lOiBvcHRpb25zLnJ1bk5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNhbGxPcHRpb25zID0geyAuLi5vcHRpb25zIH07XG4gICAgICAgIGRlbGV0ZSBjYWxsT3B0aW9ucy5jYWxsYmFja3M7XG4gICAgICAgIGRlbGV0ZSBjYWxsT3B0aW9ucy50YWdzO1xuICAgICAgICBkZWxldGUgY2FsbE9wdGlvbnMubWV0YWRhdGE7XG4gICAgICAgIGRlbGV0ZSBjYWxsT3B0aW9ucy5ydW5OYW1lO1xuICAgICAgICByZXR1cm4gW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc107XG4gICAgfVxuICAgIGFzeW5jIF9jYWxsV2l0aENvbmZpZyhmdW5jLCBpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIHVuZGVmaW5lZCwgb3B0aW9ucz8ucnVuVHlwZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9wdGlvbnM/LnJ1bk5hbWUpO1xuICAgICAgICBsZXQgb3V0cHV0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0cHV0ID0gYXdhaXQgZnVuYy5iaW5kKHRoaXMpKGlucHV0LCBvcHRpb25zLCBydW5NYW5hZ2VyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChvdXRwdXQsIFwib3V0cHV0XCIpKTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgbWV0aG9kIHRoYXQgaGFuZGxlcyBiYXRjaGluZyBhbmQgY29uZmlndXJhdGlvbiBmb3IgYSBydW5uYWJsZVxuICAgICAqIEl0IHRha2VzIGEgZnVuY3Rpb24sIGlucHV0IHZhbHVlcywgYW5kIG9wdGlvbmFsIGNvbmZpZ3VyYXRpb24sIGFuZFxuICAgICAqIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGZvciBlYWNoIGlucHV0IHZhbHVlLlxuICAgICAqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdmFsdWVzIHRvIGJlIHByb2Nlc3NlZC5cbiAgICAgKiBAcGFyYW0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBmdW5jdGlvbiBleGVjdXRpb24uXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCB2YWx1ZXMuXG4gICAgICovXG4gICAgYXN5bmMgX2JhdGNoV2l0aENvbmZpZyhmdW5jLCBpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucykge1xuICAgICAgICBjb25zdCBvcHRpb25zTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwob3B0aW9uc0xpc3QubWFwKGdldENhbGxiYWNrTWFuZ2VyRm9yQ29uZmlnKSk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwoY2FsbGJhY2tNYW5hZ2Vycy5tYXAoKGNhbGxiYWNrTWFuYWdlciwgaSkgPT4gY2FsbGJhY2tNYW5hZ2VyPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXRzW2ldLCBcImlucHV0XCIpLCB1bmRlZmluZWQsIG9wdGlvbnNMaXN0W2ldLnJ1blR5cGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvcHRpb25zTGlzdFtpXS5ydW5OYW1lKSkpO1xuICAgICAgICBsZXQgb3V0cHV0cztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG91dHB1dHMgPSBhd2FpdCBmdW5jKGlucHV0cywgb3B0aW9uc0xpc3QsIHJ1bk1hbmFnZXJzLCBiYXRjaE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSkpKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChfY29lcmNlVG9EaWN0KG91dHB1dHMsIFwib3V0cHV0XCIpKSkpO1xuICAgICAgICByZXR1cm4gb3V0cHV0cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCB0byB0cmFuc2Zvcm0gYW4gSXRlcmF0b3Igb2YgSW5wdXQgdmFsdWVzIGludG8gYW4gSXRlcmF0b3Igb2ZcbiAgICAgKiBPdXRwdXQgdmFsdWVzLCB3aXRoIGNhbGxiYWNrcy5cbiAgICAgKiBVc2UgdGhpcyB0byBpbXBsZW1lbnQgYHN0cmVhbSgpYCBvciBgdHJhbnNmb3JtKClgIGluIFJ1bm5hYmxlIHN1YmNsYXNzZXMuXG4gICAgICovXG4gICAgYXN5bmMgKl90cmFuc2Zvcm1TdHJlYW1XaXRoQ29uZmlnKGlucHV0R2VuZXJhdG9yLCB0cmFuc2Zvcm1lciwgb3B0aW9ucykge1xuICAgICAgICBsZXQgZmluYWxJbnB1dDtcbiAgICAgICAgbGV0IGZpbmFsSW5wdXRTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICBsZXQgZmluYWxPdXRwdXQ7XG4gICAgICAgIGxldCBmaW5hbE91dHB1dFN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBnZXRDYWxsYmFja01hbmdlckZvckNvbmZpZyhvcHRpb25zKTtcbiAgICAgICAgbGV0IHJ1bk1hbmFnZXI7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRSZXByZXNlbnRhdGlvbiA9IHRoaXMudG9KU09OKCk7XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uKiB3cmFwSW5wdXRGb3JUcmFjaW5nKCkge1xuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBpbnB1dEdlbmVyYXRvcikge1xuICAgICAgICAgICAgICAgIGlmICghcnVuTWFuYWdlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCB0aGUgcnVuIG1hbmFnZXIgQUZURVIgdGhlIGl0ZXJhdG9yIHN0YXJ0cyB0byBwcmVzZXJ2ZVxuICAgICAgICAgICAgICAgICAgICAvLyB0cmFjaW5nIG9yZGVyXG4gICAgICAgICAgICAgICAgICAgIHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHNlcmlhbGl6ZWRSZXByZXNlbnRhdGlvbiwgeyBpbnB1dDogXCJcIiB9LCB1bmRlZmluZWQsIG9wdGlvbnM/LnJ1blR5cGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvcHRpb25zPy5ydW5OYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZpbmFsSW5wdXRTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmFsSW5wdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxJbnB1dCA9IGNodW5rO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsSW5wdXQgPSBmaW5hbElucHV0LmNvbmNhdChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxJbnB1dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbElucHV0U3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeWllbGQgY2h1bms7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd3JhcHBlZElucHV0R2VuZXJhdG9yID0gd3JhcElucHV0Rm9yVHJhY2luZygpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0SXRlcmF0b3IgPSB0cmFuc2Zvcm1lcih3cmFwcGVkSW5wdXRHZW5lcmF0b3IsIHJ1bk1hbmFnZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBvdXRwdXRJdGVyYXRvcikge1xuICAgICAgICAgICAgICAgIHlpZWxkIGNodW5rO1xuICAgICAgICAgICAgICAgIGlmIChmaW5hbE91dHB1dFN1cHBvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmluYWxPdXRwdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxPdXRwdXQgPSBjaHVuaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbE91dHB1dCA9IGZpbmFsT3V0cHV0LmNvbmNhdChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxPdXRwdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxPdXRwdXRTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICAgICAgaW5wdXRzOiBfY29lcmNlVG9EaWN0KGZpbmFsSW5wdXQsIFwiaW5wdXRcIiksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoZmluYWxPdXRwdXQgPz8ge30sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHsgaW5wdXRzOiBfY29lcmNlVG9EaWN0KGZpbmFsSW5wdXQsIFwiaW5wdXRcIikgfSk7XG4gICAgfVxuICAgIF9wYXRjaENvbmZpZyhjb25maWcgPSB7fSwgY2FsbGJhY2tNYW5hZ2VyID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHsgLi4uY29uZmlnIH07XG4gICAgICAgIGlmIChjYWxsYmFja01hbmFnZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSdyZSByZXBsYWNpbmcgY2FsbGJhY2tzIHdlIG5lZWQgdG8gdW5zZXQgcnVuTmFtZVxuICAgICAgICAgICAgICogc2luY2UgdGhhdCBzaG91bGQgYXBwbHkgb25seSB0byB0aGUgc2FtZSBydW4gYXMgdGhlIG9yaWdpbmFsIGNhbGxiYWNrc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBkZWxldGUgbmV3Q29uZmlnLnJ1bk5hbWU7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5uZXdDb25maWcsIGNhbGxiYWNrczogY2FsbGJhY2tNYW5hZ2VyIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0NvbmZpZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHJ1bm5hYmxlIHNlcXVlbmNlIHRoYXQgcnVucyBlYWNoIGluZGl2aWR1YWwgcnVubmFibGUgaW4gc2VyaWVzLFxuICAgICAqIHBpcGluZyB0aGUgb3V0cHV0IG9mIG9uZSBydW5uYWJsZSBpbnRvIGFub3RoZXIgcnVubmFibGUgb3IgcnVubmFibGUtbGlrZS5cbiAgICAgKiBAcGFyYW0gY29lcmNlYWJsZSBBIHJ1bm5hYmxlLCBmdW5jdGlvbiwgb3Igb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgZnVuY3Rpb25zIG9yIHJ1bm5hYmxlcy5cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBydW5uYWJsZSBzZXF1ZW5jZS5cbiAgICAgKi9cbiAgICBwaXBlKGNvZXJjZWFibGUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICByZXR1cm4gbmV3IFJ1bm5hYmxlU2VxdWVuY2Uoe1xuICAgICAgICAgICAgZmlyc3Q6IHRoaXMsXG4gICAgICAgICAgICBsYXN0OiBfY29lcmNlVG9SdW5uYWJsZShjb2VyY2VhYmxlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdHJhbnNmb3JtLCB3aGljaCBidWZmZXJzIGlucHV0IGFuZCB0aGVuIGNhbGxzIHN0cmVhbS5cbiAgICAgKiBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCBpZiB0aGV5IGNhbiBzdGFydCBwcm9kdWNpbmcgb3V0cHV0IHdoaWxlXG4gICAgICogaW5wdXQgaXMgc3RpbGwgYmVpbmcgZ2VuZXJhdGVkLlxuICAgICAqIEBwYXJhbSBnZW5lcmF0b3JcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIGFzeW5jICp0cmFuc2Zvcm0oZ2VuZXJhdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBmaW5hbENodW5rO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGdlbmVyYXRvcikge1xuICAgICAgICAgICAgaWYgKGZpbmFsQ2h1bmsgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZpbmFsQ2h1bmsgPSBjaHVuaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE1ha2UgYSBiZXN0IGVmZm9ydCB0byBnYXRoZXIsIGZvciBhbnkgdHlwZSB0aGF0IHN1cHBvcnRzIGNvbmNhdC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIG1ldGhvZCBzaG91bGQgdGhyb3cgYW4gZXJyb3IgaWYgZ2F0aGVyaW5nIGZhaWxzLlxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgZmluYWxDaHVuayA9IGZpbmFsQ2h1bmsuY29uY2F0KGNodW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB5aWVsZCogdGhpcy5fc3RyZWFtSXRlcmF0b3IoZmluYWxDaHVuaywgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0cmVhbSBhbGwgb3V0cHV0IGZyb20gYSBydW5uYWJsZSwgYXMgcmVwb3J0ZWQgdG8gdGhlIGNhbGxiYWNrIHN5c3RlbS5cbiAgICAgKiBUaGlzIGluY2x1ZGVzIGFsbCBpbm5lciBydW5zIG9mIExMTXMsIFJldHJpZXZlcnMsIFRvb2xzLCBldGMuXG4gICAgICogT3V0cHV0IGlzIHN0cmVhbWVkIGFzIExvZyBvYmplY3RzLCB3aGljaCBpbmNsdWRlIGEgbGlzdCBvZlxuICAgICAqIGpzb25wYXRjaCBvcHMgdGhhdCBkZXNjcmliZSBob3cgdGhlIHN0YXRlIG9mIHRoZSBydW4gaGFzIGNoYW5nZWQgaW4gZWFjaFxuICAgICAqIHN0ZXAsIGFuZCB0aGUgZmluYWwgc3RhdGUgb2YgdGhlIHJ1bi5cbiAgICAgKiBUaGUganNvbnBhdGNoIG9wcyBjYW4gYmUgYXBwbGllZCBpbiBvcmRlciB0byBjb25zdHJ1Y3Qgc3RhdGUuXG4gICAgICogQHBhcmFtIGlucHV0XG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gc3RyZWFtT3B0aW9uc1xuICAgICAqL1xuICAgIGFzeW5jICpzdHJlYW1Mb2coaW5wdXQsIG9wdGlvbnMsIHN0cmVhbU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gbmV3IExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlcih7XG4gICAgICAgICAgICAuLi5zdHJlYW1PcHRpb25zLFxuICAgICAgICAgICAgYXV0b0Nsb3NlOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IG9wdGlvbnMgPz8ge307XG4gICAgICAgIGNvbnN0IHsgY2FsbGJhY2tzIH0gPSBjb25maWc7XG4gICAgICAgIGlmIChjYWxsYmFja3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uZmlnLmNhbGxiYWNrcyA9IFtzdHJlYW1dO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2FsbGJhY2tzKSkge1xuICAgICAgICAgICAgY29uZmlnLmNhbGxiYWNrcyA9IGNhbGxiYWNrcy5jb25jYXQoW3N0cmVhbV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29waWVkQ2FsbGJhY2tzID0gY2FsbGJhY2tzLmNvcHkoKTtcbiAgICAgICAgICAgIGNvcGllZENhbGxiYWNrcy5pbmhlcml0YWJsZUhhbmRsZXJzLnB1c2goc3RyZWFtKTtcbiAgICAgICAgICAgIGNvbmZpZy5jYWxsYmFja3MgPSBjb3BpZWRDYWxsYmFja3M7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcnVubmFibGVTdHJlYW0gPSBhd2FpdCB0aGlzLnN0cmVhbShpbnB1dCwgY29uZmlnKTtcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gY29uc3VtZVJ1bm5hYmxlU3RyZWFtKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHJ1bm5hYmxlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGNoID0gbmV3IFJ1bkxvZ1BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFwiL3N0cmVhbWVkX291dHB1dC8tXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjaHVuayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0cmVhbS53cml0ZXIud3JpdGUocGF0Y2gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHN0cmVhbS53cml0ZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBydW5uYWJsZVN0cmVhbVByb21pc2UgPSBjb25zdW1lUnVubmFibGVTdHJlYW0oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgbG9nIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIGxvZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bm5hYmxlU3RyZWFtUHJvbWlzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHN0YXRpYyBpc1J1bm5hYmxlKHRoaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGluZyA/IHRoaW5nLmxjX3J1bm5hYmxlIDogZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgZGVsZWdhdGVzIGNhbGxzIHRvIGFub3RoZXIgcnVubmFibGUgd2l0aCBhIHNldCBvZiBrd2FyZ3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5uYWJsZUJpbmRpbmcgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlJ1bm5hYmxlQmluZGluZ1wiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJzY2hlbWFcIiwgXCJydW5uYWJsZVwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJib3VuZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25maWdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwia3dhcmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYm91bmQgPSBmaWVsZHMuYm91bmQ7XG4gICAgICAgIHRoaXMua3dhcmdzID0gZmllbGRzLmt3YXJncztcbiAgICAgICAgdGhpcy5jb25maWcgPSBmaWVsZHMuY29uZmlnO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9tZXJnZUNvbmZpZyhvcHRpb25zKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IGNvcHkgPSB7IC4uLnRoaXMuY29uZmlnIH07XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvcHRpb25zKSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwibWV0YWRhdGFcIikge1xuICAgICAgICAgICAgICAgICAgICBjb3B5W2tleV0gPSB7IC4uLmNvcHlba2V5XSwgLi4ub3B0aW9uc1trZXldIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJ0YWdzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29weVtrZXldID0gKGNvcHlba2V5XSA/PyBbXSkuY29uY2F0KG9wdGlvbnNba2V5XSA/PyBbXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb3B5W2tleV0gPSBvcHRpb25zW2tleV0gPz8gY29weVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9XG4gICAgYmluZChrd2FyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3Ioe1xuICAgICAgICAgICAgYm91bmQ6IHRoaXMuYm91bmQsXG4gICAgICAgICAgICBrd2FyZ3M6IHsgLi4udGhpcy5rd2FyZ3MsIC4uLmt3YXJncyB9LFxuICAgICAgICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHdpdGhDb25maWcoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKHtcbiAgICAgICAgICAgIGJvdW5kOiB0aGlzLmJvdW5kLFxuICAgICAgICAgICAga3dhcmdzOiB0aGlzLmt3YXJncyxcbiAgICAgICAgICAgIGNvbmZpZzogeyAuLi50aGlzLmNvbmZpZywgLi4uY29uZmlnIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB3aXRoUmV0cnkoZmllbGRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKHtcbiAgICAgICAgICAgIGJvdW5kOiB0aGlzLmJvdW5kLndpdGhSZXRyeShmaWVsZHMpLFxuICAgICAgICAgICAga3dhcmdzOiB0aGlzLmt3YXJncyxcbiAgICAgICAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm91bmQuaW52b2tlKGlucHV0LCB0aGlzLl9tZXJnZUNvbmZpZyh7IC4uLm9wdGlvbnMsIC4uLnRoaXMua3dhcmdzIH0pKTtcbiAgICB9XG4gICAgYXN5bmMgYmF0Y2goaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IEFycmF5LmlzQXJyYXkob3B0aW9ucylcbiAgICAgICAgICAgID8gb3B0aW9ucy5tYXAoKGluZGl2aWR1YWxPcHRpb24pID0+IHRoaXMuX21lcmdlQ29uZmlnKHtcbiAgICAgICAgICAgICAgICAuLi5pbmRpdmlkdWFsT3B0aW9uLFxuICAgICAgICAgICAgICAgIC4uLnRoaXMua3dhcmdzLFxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICA6IHRoaXMuX21lcmdlQ29uZmlnKHsgLi4ub3B0aW9ucywgLi4udGhpcy5rd2FyZ3MgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmJvdW5kLmJhdGNoKGlucHV0cywgbWVyZ2VkT3B0aW9ucywgYmF0Y2hPcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgKl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICB5aWVsZCogdGhpcy5ib3VuZC5fc3RyZWFtSXRlcmF0b3IoaW5wdXQsIHRoaXMuX21lcmdlQ29uZmlnKHsgLi4ub3B0aW9ucywgLi4udGhpcy5rd2FyZ3MgfSkpO1xuICAgIH1cbiAgICBhc3luYyBzdHJlYW0oaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm91bmQuc3RyZWFtKGlucHV0LCB0aGlzLl9tZXJnZUNvbmZpZyh7IC4uLm9wdGlvbnMsIC4uLnRoaXMua3dhcmdzIH0pKTtcbiAgICB9XG4gICAgYXN5bmMgKnRyYW5zZm9ybShcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGdlbmVyYXRvciwgb3B0aW9ucykge1xuICAgICAgICB5aWVsZCogdGhpcy5ib3VuZC50cmFuc2Zvcm0oZ2VuZXJhdG9yLCB0aGlzLl9tZXJnZUNvbmZpZyh7IC4uLm9wdGlvbnMsIC4uLnRoaXMua3dhcmdzIH0pKTtcbiAgICB9XG4gICAgc3RhdGljIGlzUnVubmFibGVCaW5kaW5nKFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgdGhpbmdcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICkge1xuICAgICAgICByZXR1cm4gdGhpbmcuYm91bmQgJiYgUnVubmFibGUuaXNSdW5uYWJsZSh0aGluZy5ib3VuZCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgZGVsZWdhdGVzIGNhbGxzIHRvIGFub3RoZXIgcnVubmFibGVcbiAqIHdpdGggZWFjaCBlbGVtZW50IG9mIHRoZSBpbnB1dCBzZXF1ZW5jZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bm5hYmxlRWFjaCBleHRlbmRzIFJ1bm5hYmxlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVFYWNoXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwic2NoZW1hXCIsIFwicnVubmFibGVcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJvdW5kXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYm91bmQgPSBmaWVsZHMuYm91bmQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmRzIHRoZSBydW5uYWJsZSB3aXRoIHRoZSBzcGVjaWZpZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gYmluZCB0aGUgcnVubmFibGUgd2l0aC5cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBpbnN0YW5jZSBvZiB0aGUgYFJ1bm5hYmxlRWFjaGAgY2xhc3MgdGhhdCBpcyBib3VuZCB3aXRoIHRoZSBzcGVjaWZpZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGJpbmQoa3dhcmdzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVFYWNoKHtcbiAgICAgICAgICAgIGJvdW5kOiB0aGlzLmJvdW5kLmJpbmQoa3dhcmdzKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIHJ1bm5hYmxlIHdpdGggdGhlIHNwZWNpZmllZCBpbnB1dCBhbmQgY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cbiAgICAgKiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgb3V0cHV0IG9mIHRoZSBydW5uYWJsZS5cbiAgICAgKi9cbiAgICBhc3luYyBpbnZva2UoaW5wdXRzLCBjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKHRoaXMuX2ludm9rZSwgaW5wdXRzLCBjb25maWcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aCB0aGUgc3BlY2lmaWVkIGlucHV0IGFuZCBjb25maWd1cmF0aW9uLlxuICAgICAqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdG8gaW52b2tlIHRoZSBydW5uYWJsZSB3aXRoLlxuICAgICAqIEBwYXJhbSBjb25maWcgVGhlIGNvbmZpZ3VyYXRpb24gdG8gaW52b2tlIHRoZSBydW5uYWJsZSB3aXRoLlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBvdXRwdXQgb2YgdGhlIHJ1bm5hYmxlLlxuICAgICAqL1xuICAgIGFzeW5jIF9pbnZva2UoaW5wdXRzLCBjb25maWcsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm91bmQuYmF0Y2goaW5wdXRzLCB0aGlzLl9wYXRjaENvbmZpZyhjb25maWcsIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpKTtcbiAgICB9XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIHJ1bm5hYmxlcyB0aGF0IGNhbiBiZSByZXRyaWVkIGFcbiAqIHNwZWNpZmllZCBudW1iZXIgb2YgdGltZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5uYWJsZVJldHJ5IGV4dGVuZHMgUnVubmFibGVCaW5kaW5nIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVSZXRyeVwiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJzY2hlbWFcIiwgXCJydW5uYWJsZVwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4QXR0ZW1wdE51bWJlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogM1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib25GYWlsZWRBdHRlbXB0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAoKSA9PiB7IH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWF4QXR0ZW1wdE51bWJlciA9IGZpZWxkcy5tYXhBdHRlbXB0TnVtYmVyID8/IHRoaXMubWF4QXR0ZW1wdE51bWJlcjtcbiAgICAgICAgdGhpcy5vbkZhaWxlZEF0dGVtcHQgPSBmaWVsZHMub25GYWlsZWRBdHRlbXB0ID8/IHRoaXMub25GYWlsZWRBdHRlbXB0O1xuICAgIH1cbiAgICBfcGF0Y2hDb25maWdGb3JSZXRyeShhdHRlbXB0LCBjb25maWcsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgdGFnID0gYXR0ZW1wdCA+IDEgPyBgcmV0cnk6YXR0ZW1wdDoke2F0dGVtcHR9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhdGNoQ29uZmlnKGNvbmZpZywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQodGFnKSk7XG4gICAgfVxuICAgIGFzeW5jIF9pbnZva2UoaW5wdXQsIGNvbmZpZywgcnVuTWFuYWdlcikge1xuICAgICAgICByZXR1cm4gcFJldHJ5KChhdHRlbXB0TnVtYmVyKSA9PiBzdXBlci5pbnZva2UoaW5wdXQsIHRoaXMuX3BhdGNoQ29uZmlnRm9yUmV0cnkoYXR0ZW1wdE51bWJlciwgY29uZmlnLCBydW5NYW5hZ2VyKSksIHtcbiAgICAgICAgICAgIG9uRmFpbGVkQXR0ZW1wdDogdGhpcy5vbkZhaWxlZEF0dGVtcHQsXG4gICAgICAgICAgICByZXRyaWVzOiBNYXRoLm1heCh0aGlzLm1heEF0dGVtcHROdW1iZXIgLSAxLCAwKSxcbiAgICAgICAgICAgIHJhbmRvbWl6ZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0aGF0IGludm9rZXMgdGhlIHJ1bm5hYmxlIHdpdGggdGhlIHNwZWNpZmllZCBpbnB1dCwgcnVuIG1hbmFnZXIsXG4gICAgICogYW5kIGNvbmZpZy4gSXQgaGFuZGxlcyB0aGUgcmV0cnkgbG9naWMgYnkgY2F0Y2hpbmcgYW55IGVycm9ycyBhbmRcbiAgICAgKiByZWN1cnNpdmVseSBpbnZva2luZyBpdHNlbGYgd2l0aCB0aGUgdXBkYXRlZCBjb25maWcgZm9yIHRoZSBuZXh0IHJldHJ5XG4gICAgICogYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IGZvciB0aGUgcnVubmFibGUuXG4gICAgICogQHBhcmFtIHJ1bk1hbmFnZXIgVGhlIHJ1biBtYW5hZ2VyIGZvciB0aGUgcnVubmFibGUuXG4gICAgICogQHBhcmFtIGNvbmZpZyBUaGUgY29uZmlnIGZvciB0aGUgcnVubmFibGUuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCBvZiB0aGUgcnVubmFibGUuXG4gICAgICovXG4gICAgYXN5bmMgaW52b2tlKGlucHV0LCBjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKHRoaXMuX2ludm9rZSwgaW5wdXQsIGNvbmZpZyk7XG4gICAgfVxuICAgIGFzeW5jIF9iYXRjaChpbnB1dHMsIGNvbmZpZ3MsIHJ1bk1hbmFnZXJzLCBiYXRjaE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0c01hcCA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgcFJldHJ5KGFzeW5jIChhdHRlbXB0TnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nSW5kZXhlcyA9IGlucHV0c1xuICAgICAgICAgICAgICAgICAgICAubWFwKChfLCBpKSA9PiBpKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChpKSA9PiByZXN1bHRzTWFwW2kudG9TdHJpbmcoKV0gPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHNNYXBbaS50b1N0cmluZygpXSBpbnN0YW5jZW9mIEVycm9yKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdJbnB1dHMgPSByZW1haW5pbmdJbmRleGVzLm1hcCgoaSkgPT4gaW5wdXRzW2ldKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRjaGVkQ29uZmlncyA9IHJlbWFpbmluZ0luZGV4ZXMubWFwKChpKSA9PiB0aGlzLl9wYXRjaENvbmZpZ0ZvclJldHJ5KGF0dGVtcHROdW1iZXIsIGNvbmZpZ3M/LltpXSwgcnVuTWFuYWdlcnM/LltpXSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBzdXBlci5iYXRjaChyZW1haW5pbmdJbnB1dHMsIHBhdGNoZWRDb25maWdzLCB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmJhdGNoT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuRXhjZXB0aW9uczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3RFeGNlcHRpb247XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdE1hcEluZGV4ID0gcmVtYWluaW5nSW5kZXhlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWluc3RhbmNlb2Yvbm8taW5zdGFuY2VvZlxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdEV4Y2VwdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RFeGNlcHRpb24gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c01hcFtyZXN1bHRNYXBJbmRleC50b1N0cmluZygpXSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0RXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGZpcnN0RXhjZXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBvbkZhaWxlZEF0dGVtcHQ6IHRoaXMub25GYWlsZWRBdHRlbXB0LFxuICAgICAgICAgICAgICAgIHJldHJpZXM6IE1hdGgubWF4KHRoaXMubWF4QXR0ZW1wdE51bWJlciAtIDEsIDApLFxuICAgICAgICAgICAgICAgIHJhbmRvbWl6ZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoYmF0Y2hPcHRpb25zPy5yZXR1cm5FeGNlcHRpb25zICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMocmVzdWx0c01hcClcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBwYXJzZUludChhLCAxMCkgLSBwYXJzZUludChiLCAxMCkpXG4gICAgICAgICAgICAubWFwKChrZXkpID0+IHJlc3VsdHNNYXBbcGFyc2VJbnQoa2V5LCAxMCldKTtcbiAgICB9XG4gICAgYXN5bmMgYmF0Y2goaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JhdGNoV2l0aENvbmZpZyh0aGlzLl9iYXRjaC5iaW5kKHRoaXMpLCBpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucyk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHNlcXVlbmNlIG9mIHJ1bm5hYmxlcywgd2hlcmUgdGhlIG91dHB1dCBvZiBlYWNoIGlzIHRoZSBpbnB1dCBvZiB0aGUgbmV4dC5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bm5hYmxlU2VxdWVuY2UgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlJ1bm5hYmxlU2VxdWVuY2VcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZpcnN0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1pZGRsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW11cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxhc3RcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZpcnN0ID0gZmllbGRzLmZpcnN0O1xuICAgICAgICB0aGlzLm1pZGRsZSA9IGZpZWxkcy5taWRkbGUgPz8gdGhpcy5taWRkbGU7XG4gICAgICAgIHRoaXMubGFzdCA9IGZpZWxkcy5sYXN0O1xuICAgIH1cbiAgICBnZXQgc3RlcHMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5maXJzdCwgLi4udGhpcy5taWRkbGUsIHRoaXMubGFzdF07XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb3B0aW9ucz8ucnVuTmFtZSk7XG4gICAgICAgIGxldCBuZXh0U3RlcElucHV0ID0gaW5wdXQ7XG4gICAgICAgIGxldCBmaW5hbE91dHB1dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxTdGVwcyA9IFt0aGlzLmZpcnN0LCAuLi50aGlzLm1pZGRsZV07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluaXRpYWxTdGVwcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBpbml0aWFsU3RlcHNbaV07XG4gICAgICAgICAgICAgICAgbmV4dFN0ZXBJbnB1dCA9IGF3YWl0IHN0ZXAuaW52b2tlKG5leHRTdGVwSW5wdXQsIHRoaXMuX3BhdGNoQ29uZmlnKG9wdGlvbnMsIHJ1bk1hbmFnZXI/LmdldENoaWxkKGBzZXE6c3RlcDoke2kgKyAxfWApKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUeXBlU2NyaXB0IGNhbid0IGRldGVjdCB0aGF0IHRoZSBsYXN0IG91dHB1dCBvZiB0aGUgc2VxdWVuY2UgcmV0dXJucyBSdW5PdXRwdXQsIHNvIGNhbGwgaXQgb3V0IG9mIHRoZSBsb29wIGhlcmVcbiAgICAgICAgICAgIGZpbmFsT3V0cHV0ID0gYXdhaXQgdGhpcy5sYXN0Lmludm9rZShuZXh0U3RlcElucHV0LCB0aGlzLl9wYXRjaENvbmZpZyhvcHRpb25zLCBydW5NYW5hZ2VyPy5nZXRDaGlsZChgc2VxOnN0ZXA6JHt0aGlzLnN0ZXBzLmxlbmd0aH1gKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGUpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChfY29lcmNlVG9EaWN0KGZpbmFsT3V0cHV0LCBcIm91dHB1dFwiKSk7XG4gICAgICAgIHJldHVybiBmaW5hbE91dHB1dDtcbiAgICB9XG4gICAgYXN5bmMgYmF0Y2goaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY29uZmlnTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwoY29uZmlnTGlzdC5tYXAoZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcpKTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChjYWxsYmFja01hbmFnZXJzLm1hcCgoY2FsbGJhY2tNYW5hZ2VyLCBpKSA9PiBjYWxsYmFja01hbmFnZXI/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dHNbaV0sIFwiaW5wdXRcIiksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY29uZmlnTGlzdFtpXS5ydW5OYW1lKSkpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBsZXQgbmV4dFN0ZXBJbnB1dHMgPSBpbnB1dHM7XG4gICAgICAgIGxldCBmaW5hbE91dHB1dHM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpbml0aWFsU3RlcHMgPSBbdGhpcy5maXJzdCwgLi4udGhpcy5taWRkbGVdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbml0aWFsU3RlcHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGVwID0gaW5pdGlhbFN0ZXBzW2ldO1xuICAgICAgICAgICAgICAgIG5leHRTdGVwSW5wdXRzID0gYXdhaXQgc3RlcC5iYXRjaChuZXh0U3RlcElucHV0cywgcnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyLCBqKSA9PiB0aGlzLl9wYXRjaENvbmZpZyhjb25maWdMaXN0W2pdLCBydW5NYW5hZ2VyPy5nZXRDaGlsZChgc2VxOnN0ZXA6JHtpICsgMX1gKSkpLCBiYXRjaE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxPdXRwdXRzID0gYXdhaXQgdGhpcy5sYXN0LmJhdGNoKG5leHRTdGVwSW5wdXRzLCBydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIpID0+IHRoaXMuX3BhdGNoQ29uZmlnKGNvbmZpZ0xpc3RbdGhpcy5zdGVwcy5sZW5ndGggLSAxXSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYHNlcTpzdGVwOiR7dGhpcy5zdGVwcy5sZW5ndGh9YCkpKSwgYmF0Y2hPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGUpKSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlciwgaSkgPT4gcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChmaW5hbE91dHB1dHNbaV0sIFwib3V0cHV0XCIpKSkpO1xuICAgICAgICByZXR1cm4gZmluYWxPdXRwdXRzO1xuICAgIH1cbiAgICBhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBnZXRDYWxsYmFja01hbmdlckZvckNvbmZpZyhvcHRpb25zKTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dCwgXCJpbnB1dFwiKSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvcHRpb25zPy5ydW5OYW1lKTtcbiAgICAgICAgbGV0IG5leHRTdGVwSW5wdXQgPSBpbnB1dDtcbiAgICAgICAgY29uc3Qgc3RlcHMgPSBbdGhpcy5maXJzdCwgLi4udGhpcy5taWRkbGUsIHRoaXMubGFzdF07XG4gICAgICAgIC8vIEZpbmQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHJ1bm5hYmxlIGluIHRoZSBzZXF1ZW5jZSB0aGF0IGRvZXNuJ3QgaGF2ZSBhbiBvdmVycmlkZGVuIC50cmFuc2Zvcm0oKSBtZXRob2RcbiAgICAgICAgLy8gYW5kIHN0YXJ0IHN0cmVhbWluZyBmcm9tIHRoZXJlXG4gICAgICAgIGNvbnN0IHN0cmVhbWluZ1N0YXJ0U3RlcEluZGV4ID0gTWF0aC5taW4oc3RlcHMubGVuZ3RoIC0gMSwgc3RlcHMubGVuZ3RoIC1cbiAgICAgICAgICAgIFsuLi5zdGVwc10ucmV2ZXJzZSgpLmZpbmRJbmRleCgoc3RlcCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzRGVmYXVsdEltcGxlbWVudGF0aW9uID0gc3RlcC50cmFuc2Zvcm0gPT09IFJ1bm5hYmxlLnByb3RvdHlwZS50cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgY29uc3QgYm91bmRSdW5uYWJsZUlzRGVmYXVsdEltcGxlbWVudGF0aW9uID0gUnVubmFibGVCaW5kaW5nLmlzUnVubmFibGVCaW5kaW5nKHN0ZXApICYmXG4gICAgICAgICAgICAgICAgICAgIHN0ZXAuYm91bmQ/LnRyYW5zZm9ybSA9PT0gUnVubmFibGUucHJvdG90eXBlLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGlzRGVmYXVsdEltcGxlbWVudGF0aW9uIHx8IGJvdW5kUnVubmFibGVJc0RlZmF1bHRJbXBsZW1lbnRhdGlvbik7XG4gICAgICAgICAgICB9KSAtXG4gICAgICAgICAgICAxKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGludm9rZVN0ZXBzID0gc3RlcHMuc2xpY2UoMCwgc3RyZWFtaW5nU3RhcnRTdGVwSW5kZXgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnZva2VTdGVwcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBpbnZva2VTdGVwc1tpXTtcbiAgICAgICAgICAgICAgICBuZXh0U3RlcElucHV0ID0gYXdhaXQgc3RlcC5pbnZva2UobmV4dFN0ZXBJbnB1dCwgdGhpcy5fcGF0Y2hDb25maWcob3B0aW9ucywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYHNlcTpzdGVwOiR7aSArIDF9YCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbmNhdFN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIGxldCBmaW5hbE91dHB1dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBmaW5hbEdlbmVyYXRvciA9IGF3YWl0IHN0ZXBzW3N0cmVhbWluZ1N0YXJ0U3RlcEluZGV4XS5fc3RyZWFtSXRlcmF0b3IobmV4dFN0ZXBJbnB1dCwgdGhpcy5fcGF0Y2hDb25maWcob3B0aW9ucywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYHNlcTpzdGVwOiR7c3RyZWFtaW5nU3RhcnRTdGVwSW5kZXggKyAxfWApKSk7XG4gICAgICAgICAgICBjb25zdCBmaW5hbFN0ZXBzID0gc3RlcHMuc2xpY2Uoc3RyZWFtaW5nU3RhcnRTdGVwSW5kZXggKyAxKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmluYWxTdGVwcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBmaW5hbFN0ZXBzW2ldO1xuICAgICAgICAgICAgICAgIGZpbmFsR2VuZXJhdG9yID0gYXdhaXQgc3RlcC50cmFuc2Zvcm0oZmluYWxHZW5lcmF0b3IsIHRoaXMuX3BhdGNoQ29uZmlnKG9wdGlvbnMsIHJ1bk1hbmFnZXI/LmdldENoaWxkKGBzZXE6c3RlcDoke3N0cmVhbWluZ1N0YXJ0U3RlcEluZGV4ICsgaSArIDJ9YCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgZmluYWxHZW5lcmF0b3IpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBjaHVuaztcbiAgICAgICAgICAgICAgICBpZiAoY29uY2F0U3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5hbE91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbE91dHB1dCA9IGNodW5rO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsT3V0cHV0ID0gZmluYWxPdXRwdXQuY29uY2F0KGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxPdXRwdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uY2F0U3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKF9jb2VyY2VUb0RpY3QoZmluYWxPdXRwdXQsIFwib3V0cHV0XCIpKTtcbiAgICB9XG4gICAgcGlwZShjb2VyY2VhYmxlKSB7XG4gICAgICAgIGlmIChSdW5uYWJsZVNlcXVlbmNlLmlzUnVubmFibGVTZXF1ZW5jZShjb2VyY2VhYmxlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZVNlcXVlbmNlKHtcbiAgICAgICAgICAgICAgICBmaXJzdDogdGhpcy5maXJzdCxcbiAgICAgICAgICAgICAgICBtaWRkbGU6IHRoaXMubWlkZGxlLmNvbmNhdChbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdCxcbiAgICAgICAgICAgICAgICAgICAgY29lcmNlYWJsZS5maXJzdCxcbiAgICAgICAgICAgICAgICAgICAgLi4uY29lcmNlYWJsZS5taWRkbGUsXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgbGFzdDogY29lcmNlYWJsZS5sYXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1bm5hYmxlU2VxdWVuY2Uoe1xuICAgICAgICAgICAgICAgIGZpcnN0OiB0aGlzLmZpcnN0LFxuICAgICAgICAgICAgICAgIG1pZGRsZTogWy4uLnRoaXMubWlkZGxlLCB0aGlzLmxhc3RdLFxuICAgICAgICAgICAgICAgIGxhc3Q6IF9jb2VyY2VUb1J1bm5hYmxlKGNvZXJjZWFibGUpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzdGF0aWMgaXNSdW5uYWJsZVNlcXVlbmNlKHRoaW5nKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHRoaW5nLm1pZGRsZSkgJiYgUnVubmFibGUuaXNSdW5uYWJsZSh0aGluZyk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc3RhdGljIGZyb20oW2ZpcnN0LCAuLi5ydW5uYWJsZXNdKSB7XG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVTZXF1ZW5jZSh7XG4gICAgICAgICAgICBmaXJzdDogX2NvZXJjZVRvUnVubmFibGUoZmlyc3QpLFxuICAgICAgICAgICAgbWlkZGxlOiBydW5uYWJsZXMuc2xpY2UoMCwgLTEpLm1hcChfY29lcmNlVG9SdW5uYWJsZSksXG4gICAgICAgICAgICBsYXN0OiBfY29lcmNlVG9SdW5uYWJsZShydW5uYWJsZXNbcnVubmFibGVzLmxlbmd0aCAtIDFdKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgcnVucyBhIG1hcHBpbmcgb2YgcnVubmFibGVzIGluIHBhcmFsbGVsLFxuICogYW5kIHJldHVybnMgYSBtYXBwaW5nIG9mIHRoZWlyIG91dHB1dHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5uYWJsZU1hcCBleHRlbmRzIFJ1bm5hYmxlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVNYXBcIjtcbiAgICB9XG4gICAgZ2V0U3RlcHNLZXlzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5zdGVwcyk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0ZXBzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RlcHMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZmllbGRzLnN0ZXBzKSkge1xuICAgICAgICAgICAgdGhpcy5zdGVwc1trZXldID0gX2NvZXJjZVRvUnVubmFibGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKHN0ZXBzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVNYXAoeyBzdGVwcyB9KTtcbiAgICB9XG4gICAgYXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICApIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IGdldENhbGxiYWNrTWFuZ2VyRm9yQ29uZmlnKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBydW5NYW5hZ2VyID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlQ2hhaW5TdGFydCh0aGlzLnRvSlNPTigpLCB7XG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgfSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvcHRpb25zPy5ydW5OYW1lKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChPYmplY3QuZW50cmllcyh0aGlzLnN0ZXBzKS5tYXAoYXN5bmMgKFtrZXksIHJ1bm5hYmxlXSkgPT4ge1xuICAgICAgICAgICAgICAgIG91dHB1dFtrZXldID0gYXdhaXQgcnVubmFibGUuaW52b2tlKGlucHV0LCB0aGlzLl9wYXRjaENvbmZpZyhvcHRpb25zLCBydW5NYW5hZ2VyPy5nZXRDaGlsZChrZXkpKSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKG91dHB1dCk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgcnVucyBhIGNhbGxhYmxlLlxuICovXG5leHBvcnQgY2xhc3MgUnVubmFibGVMYW1iZGEgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlJ1bm5hYmxlTGFtYmRhXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmdW5jXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZnVuYyA9IGZpZWxkcy5mdW5jO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbShmdW5jKSB7XG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVMYW1iZGEoe1xuICAgICAgICAgICAgZnVuYyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIF9pbnZva2UoaW5wdXQsIGNvbmZpZywgcnVuTWFuYWdlcikge1xuICAgICAgICBsZXQgb3V0cHV0ID0gYXdhaXQgdGhpcy5mdW5jKGlucHV0KTtcbiAgICAgICAgaWYgKG91dHB1dCAmJiBSdW5uYWJsZS5pc1J1bm5hYmxlKG91dHB1dCkpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IGF3YWl0IG91dHB1dC5pbnZva2UoaW5wdXQsIHRoaXMuX3BhdGNoQ29uZmlnKGNvbmZpZywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcodGhpcy5faW52b2tlLCBpbnB1dCwgb3B0aW9ucyk7XG4gICAgfVxufVxuLyoqXG4gKiBBIFJ1bm5hYmxlIHRoYXQgY2FuIGZhbGxiYWNrIHRvIG90aGVyIFJ1bm5hYmxlcyBpZiBpdCBmYWlscy5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyBleHRlbmRzIFJ1bm5hYmxlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVXaXRoRmFsbGJhY2tzXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJ1bm5hYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZhbGxiYWNrc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJ1bm5hYmxlID0gZmllbGRzLnJ1bm5hYmxlO1xuICAgICAgICB0aGlzLmZhbGxiYWNrcyA9IGZpZWxkcy5mYWxsYmFja3M7XG4gICAgfVxuICAgICpydW5uYWJsZXMoKSB7XG4gICAgICAgIHlpZWxkIHRoaXMucnVubmFibGU7XG4gICAgICAgIGZvciAoY29uc3QgZmFsbGJhY2sgb2YgdGhpcy5mYWxsYmFja3MpIHtcbiAgICAgICAgICAgIHlpZWxkIGZhbGxiYWNrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShvcHRpb25zPy5jYWxsYmFja3MsIHVuZGVmaW5lZCwgb3B0aW9ucz8udGFncywgdW5kZWZpbmVkLCBvcHRpb25zPy5tZXRhZGF0YSk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb3B0aW9ucz8ucnVuTmFtZSk7XG4gICAgICAgIGxldCBmaXJzdEVycm9yO1xuICAgICAgICBmb3IgKGNvbnN0IHJ1bm5hYmxlIG9mIHRoaXMucnVubmFibGVzKCkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gYXdhaXQgcnVubmFibGUuaW52b2tlKGlucHV0LCB0aGlzLl9wYXRjaENvbmZpZyhvcHRpb25zLCBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpKSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChvdXRwdXQsIFwib3V0cHV0XCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RFcnJvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0RXJyb3IgPSBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RFcnJvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBlcnJvciBzdG9yZWQgYXQgZW5kIG9mIGZhbGxiYWNrLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGZpcnN0RXJyb3IpO1xuICAgICAgICB0aHJvdyBmaXJzdEVycm9yO1xuICAgIH1cbiAgICBhc3luYyBiYXRjaChpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucykge1xuICAgICAgICBpZiAoYmF0Y2hPcHRpb25zPy5yZXR1cm5FeGNlcHRpb25zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbmZpZ0xpc3QgPSB0aGlzLl9nZXRPcHRpb25zTGlzdChvcHRpb25zID8/IHt9LCBpbnB1dHMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tNYW5hZ2VycyA9IGF3YWl0IFByb21pc2UuYWxsKGNvbmZpZ0xpc3QubWFwKChjb25maWcpID0+IENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUoY29uZmlnPy5jYWxsYmFja3MsIHVuZGVmaW5lZCwgY29uZmlnPy50YWdzLCB1bmRlZmluZWQsIGNvbmZpZz8ubWV0YWRhdGEpKSk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwoY2FsbGJhY2tNYW5hZ2Vycy5tYXAoKGNhbGxiYWNrTWFuYWdlciwgaSkgPT4gY2FsbGJhY2tNYW5hZ2VyPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXRzW2ldLCBcImlucHV0XCIpLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbmZpZ0xpc3RbaV0ucnVuTmFtZSkpKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgbGV0IGZpcnN0RXJyb3I7XG4gICAgICAgIGZvciAoY29uc3QgcnVubmFibGUgb2YgdGhpcy5ydW5uYWJsZXMoKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXRzID0gYXdhaXQgcnVubmFibGUuYmF0Y2goaW5wdXRzLCBydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIsIGopID0+IHRoaXMuX3BhdGNoQ29uZmlnKGNvbmZpZ0xpc3Rbal0sIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpKSwgYmF0Y2hPcHRpb25zKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIsIGkpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKF9jb2VyY2VUb0RpY3Qob3V0cHV0c1tpXSwgXCJvdXRwdXRcIikpKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdEVycm9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RFcnJvciA9IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZmlyc3RFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZXJyb3Igc3RvcmVkIGF0IGVuZCBvZiBmYWxsYmFja3MuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihmaXJzdEVycm9yKSkpO1xuICAgICAgICB0aHJvdyBmaXJzdEVycm9yO1xuICAgIH1cbn1cbi8vIFRPRE86IEZpZ3VyZSBvdXQgd2h5IHRoZSBjb21waWxlciBuZWVkcyBoZWxwIGVsaW1pbmF0aW5nIEVycm9yIGFzIGEgUnVuT3V0cHV0IHR5cGVcbmV4cG9ydCBmdW5jdGlvbiBfY29lcmNlVG9SdW5uYWJsZShjb2VyY2VhYmxlKSB7XG4gICAgaWYgKHR5cGVvZiBjb2VyY2VhYmxlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZUxhbWJkYSh7IGZ1bmM6IGNvZXJjZWFibGUgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKFJ1bm5hYmxlLmlzUnVubmFibGUoY29lcmNlYWJsZSkpIHtcbiAgICAgICAgcmV0dXJuIGNvZXJjZWFibGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGNvZXJjZWFibGUpICYmIHR5cGVvZiBjb2VyY2VhYmxlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5hYmxlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjb2VyY2VhYmxlKSkge1xuICAgICAgICAgICAgcnVubmFibGVzW2tleV0gPSBfY29lcmNlVG9SdW5uYWJsZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZU1hcCh7XG4gICAgICAgICAgICBzdGVwczogcnVubmFibGVzLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYSBSdW5uYWJsZSwgZnVuY3Rpb24gb3Igb2JqZWN0Llxcbkluc3RlYWQgZ290IGFuIHVuc3VwcG9ydGVkIHR5cGUuYCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUnVubmFibGUsIFJ1bm5hYmxlTWFwIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgYXNzaWducyBrZXktdmFsdWUgcGFpcnMgdG8gaW5wdXRzIG9mIHR5cGUgYFJlY29yZDxzdHJpbmcsIHVua25vd24+YC5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bm5hYmxlQXNzaWduIGV4dGVuZHMgUnVubmFibGUge1xuICAgIGNvbnN0cnVjdG9yKG1hcHBlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXBwZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYXBwZXIgPSBtYXBwZXI7XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBtYXBwZXJSZXN1bHQgPSBhd2FpdCB0aGlzLm1hcHBlci5pbnZva2UoaW5wdXQsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgICAgICAuLi5tYXBwZXJSZXN1bHQsXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgcGFzc2VzIHRocm91Z2ggdGhlIGlucHV0LlxuICovXG5leHBvcnQgY2xhc3MgUnVubmFibGVQYXNzdGhyb3VnaCBleHRlbmRzIFJ1bm5hYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJzY2hlbWFcIiwgXCJydW5uYWJsZVwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVQYXNzdGhyb3VnaFwiO1xuICAgIH1cbiAgICBhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKChpbnB1dCkgPT4gUHJvbWlzZS5yZXNvbHZlKGlucHV0KSwgaW5wdXQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzaWduKG1hcHBpbmcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZUFzc2lnbihuZXcgUnVubmFibGVNYXAoeyBzdGVwczogbWFwcGluZyB9KSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC40LjAnOyAvLyB4LXJlbGVhc2UtcGxlYXNlLXZlcnNpb25cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24ubWpzLm1hcFxuIiwiZXhwb3J0IGNsYXNzIFN0cmVhbSB7XG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlLCBjb250cm9sbGVyKSB7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5kZWNvZGVyID0gbmV3IFNTRURlY29kZXIoKTtcbiAgfVxuICBhc3luYyAqaXRlck1lc3NhZ2VzKCkge1xuICAgIGlmICghdGhpcy5yZXNwb25zZS5ib2R5KSB7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQXR0ZW1wdGVkIHRvIGl0ZXJhdGUgb3ZlciBhIHJlc3BvbnNlIHdpdGggbm8gYm9keWApO1xuICAgIH1cbiAgICBjb25zdCBsaW5lRGVjb2RlciA9IG5ldyBMaW5lRGVjb2RlcigpO1xuICAgIGNvbnN0IGl0ZXIgPSByZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmFibGUodGhpcy5yZXNwb25zZS5ib2R5KTtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGl0ZXIpIHtcbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5kZWNvZGUoY2h1bmspKSB7XG4gICAgICAgIGNvbnN0IHNzZSA9IHRoaXMuZGVjb2Rlci5kZWNvZGUobGluZSk7XG4gICAgICAgIGlmIChzc2UpIHlpZWxkIHNzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmZsdXNoKCkpIHtcbiAgICAgIGNvbnN0IHNzZSA9IHRoaXMuZGVjb2Rlci5kZWNvZGUobGluZSk7XG4gICAgICBpZiAoc3NlKSB5aWVsZCBzc2U7XG4gICAgfVxuICB9XG4gIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgIGZvciBhd2FpdCAoY29uc3Qgc3NlIG9mIHRoaXMuaXRlck1lc3NhZ2VzKCkpIHtcbiAgICAgICAgaWYgKGRvbmUpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoc3NlLmRhdGEuc3RhcnRzV2l0aCgnW0RPTkVdJykpIHtcbiAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3NlLmV2ZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHlpZWxkIEpTT04ucGFyc2Uoc3NlLmRhdGEpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBwYXJzZSBtZXNzYWdlIGludG8gSlNPTjpgLCBzc2UuZGF0YSk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGcm9tIGNodW5rOmAsIHNzZS5yYXcpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIGNhbGxzIGBzdHJlYW0uY29udHJvbGxlci5hYm9ydCgpYCwgd2Ugc2hvdWxkIGV4aXQgd2l0aG91dCB0aHJvd2luZy5cbiAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHJldHVybjtcbiAgICAgIHRocm93IGU7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIGBicmVha2BzLCBhYm9ydCB0aGUgb25nb2luZyByZXF1ZXN0LlxuICAgICAgaWYgKCFkb25lKSB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB9XG4gIH1cbn1cbmNsYXNzIFNTRURlY29kZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmV2ZW50ID0gbnVsbDtcbiAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICB0aGlzLmNodW5rcyA9IFtdO1xuICB9XG4gIGRlY29kZShsaW5lKSB7XG4gICAgaWYgKGxpbmUuZW5kc1dpdGgoJ1xccicpKSB7XG4gICAgICBsaW5lID0gbGluZS5zdWJzdHJpbmcoMCwgbGluZS5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgaWYgKCFsaW5lKSB7XG4gICAgICAvLyBlbXB0eSBsaW5lIGFuZCB3ZSBkaWRuJ3QgcHJldmlvdXNseSBlbmNvdW50ZXIgYW55IG1lc3NhZ2VzXG4gICAgICBpZiAoIXRoaXMuZXZlbnQgJiYgIXRoaXMuZGF0YS5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgICAgY29uc3Qgc3NlID0ge1xuICAgICAgICBldmVudDogdGhpcy5ldmVudCxcbiAgICAgICAgZGF0YTogdGhpcy5kYXRhLmpvaW4oJ1xcbicpLFxuICAgICAgICByYXc6IHRoaXMuY2h1bmtzLFxuICAgICAgfTtcbiAgICAgIHRoaXMuZXZlbnQgPSBudWxsO1xuICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgcmV0dXJuIHNzZTtcbiAgICB9XG4gICAgdGhpcy5jaHVua3MucHVzaChsaW5lKTtcbiAgICBpZiAobGluZS5zdGFydHNXaXRoKCc6JykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgW2ZpZWxkbmFtZSwgXywgdmFsdWVdID0gcGFydGl0aW9uKGxpbmUsICc6Jyk7XG4gICAgaWYgKHZhbHVlLnN0YXJ0c1dpdGgoJyAnKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMSk7XG4gICAgfVxuICAgIGlmIChmaWVsZG5hbWUgPT09ICdldmVudCcpIHtcbiAgICAgIHRoaXMuZXZlbnQgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKGZpZWxkbmFtZSA9PT0gJ2RhdGEnKSB7XG4gICAgICB0aGlzLmRhdGEucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4vKipcbiAqIEEgcmUtaW1wbGVtZW50YXRpb24gb2YgaHR0cHgncyBgTGluZURlY29kZXJgIGluIFB5dGhvbiB0aGF0IGhhbmRsZXMgaW5jcmVtZW50YWxseVxuICogcmVhZGluZyBsaW5lcyBmcm9tIHRleHQuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2VuY29kZS9odHRweC9ibG9iLzkyMDMzM2VhOTgxMThlOWNmNjE3ZjI0NjkwNWQ3YjIwMjUxMDk0MWMvaHR0cHgvX2RlY29kZXJzLnB5I0wyNThcbiAqL1xuY2xhc3MgTGluZURlY29kZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgIHRoaXMudHJhaWxpbmdDUiA9IGZhbHNlO1xuICB9XG4gIGRlY29kZShjaHVuaykge1xuICAgIGxldCB0ZXh0ID0gdGhpcy5kZWNvZGVUZXh0KGNodW5rKTtcbiAgICBpZiAodGhpcy50cmFpbGluZ0NSKSB7XG4gICAgICB0ZXh0ID0gJ1xccicgKyB0ZXh0O1xuICAgICAgdGhpcy50cmFpbGluZ0NSID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0ZXh0LmVuZHNXaXRoKCdcXHInKSkge1xuICAgICAgdGhpcy50cmFpbGluZ0NSID0gdHJ1ZTtcbiAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICB9XG4gICAgaWYgKCF0ZXh0KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IHRyYWlsaW5nTmV3bGluZSA9IExpbmVEZWNvZGVyLk5FV0xJTkVfQ0hBUlMuaGFzKHRleHRbdGV4dC5sZW5ndGggLSAxXSB8fCAnJyk7XG4gICAgbGV0IGxpbmVzID0gdGV4dC5zcGxpdChMaW5lRGVjb2Rlci5ORVdMSU5FX1JFR0VYUCk7XG4gICAgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMSAmJiAhdHJhaWxpbmdOZXdsaW5lKSB7XG4gICAgICB0aGlzLmJ1ZmZlci5wdXNoKGxpbmVzWzBdKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgIGxpbmVzID0gW3RoaXMuYnVmZmVyLmpvaW4oJycpICsgbGluZXNbMF0sIC4uLmxpbmVzLnNsaWNlKDEpXTtcbiAgICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgfVxuICAgIGlmICghdHJhaWxpbmdOZXdsaW5lKSB7XG4gICAgICB0aGlzLmJ1ZmZlciA9IFtsaW5lcy5wb3AoKSB8fCAnJ107XG4gICAgfVxuICAgIHJldHVybiBsaW5lcztcbiAgfVxuICBkZWNvZGVUZXh0KGJ5dGVzKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChieXRlcyA9PSBudWxsKSByZXR1cm4gJyc7XG4gICAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHJldHVybiBieXRlcztcbiAgICAvLyBOb2RlOlxuICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgQnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBieXRlcy50b1N0cmluZygpO1xuICAgICAgfVxuICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oYnl0ZXMpLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBVbmV4cGVjdGVkOiByZWNlaXZlZCBub24tVWludDhBcnJheSAoJHtieXRlcy5jb25zdHJ1Y3Rvci5uYW1lfSkgc3RyZWFtIGNodW5rIGluIGFuIGVudmlyb25tZW50IHdpdGggYSBnbG9iYWwgXCJCdWZmZXJcIiBkZWZpbmVkLCB3aGljaCB0aGlzIGxpYnJhcnkgYXNzdW1lcyB0byBiZSBOb2RlLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCxcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIEJyb3dzZXJcbiAgICBpZiAodHlwZW9mIFRleHREZWNvZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBieXRlcyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIChfYSA9IHRoaXMudGV4dERlY29kZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICh0aGlzLnRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGY4JykpO1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0RGVjb2Rlci5kZWNvZGUoYnl0ZXMpO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVW5leHBlY3RlZDogcmVjZWl2ZWQgbm9uLVVpbnQ4QXJyYXkvQXJyYXlCdWZmZXIgKCR7Ynl0ZXMuY29uc3RydWN0b3IubmFtZX0pIGluIGEgd2ViIHBsYXRmb3JtLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBVbmV4cGVjdGVkOiBuZWl0aGVyIEJ1ZmZlciBub3IgVGV4dERlY29kZXIgYXJlIGF2YWlsYWJsZSBhcyBnbG9iYWxzLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCxcbiAgICApO1xuICB9XG4gIGZsdXNoKCkge1xuICAgIGlmICghdGhpcy5idWZmZXIubGVuZ3RoICYmICF0aGlzLnRyYWlsaW5nQ1IpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgbGluZXMgPSBbdGhpcy5idWZmZXIuam9pbignJyldO1xuICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgdGhpcy50cmFpbGluZ0NSID0gZmFsc2U7XG4gICAgcmV0dXJuIGxpbmVzO1xuICB9XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbkxpbmVEZWNvZGVyLk5FV0xJTkVfQ0hBUlMgPSBuZXcgU2V0KFsnXFxuJywgJ1xccicsICdcXHgwYicsICdcXHgwYycsICdcXHgxYycsICdcXHgxZCcsICdcXHgxZScsICdcXHg4NScsICdcXHUyMDI4JywgJ1xcdTIwMjknXSk7XG5MaW5lRGVjb2Rlci5ORVdMSU5FX1JFR0VYUCA9IC9cXHJcXG58W1xcblxcclxceDBiXFx4MGNcXHgxY1xceDFkXFx4MWVcXHg4NVxcdTIwMjhcXHUyMDI5XS9nO1xuZnVuY3Rpb24gcGFydGl0aW9uKHN0ciwgZGVsaW1pdGVyKSB7XG4gIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoZGVsaW1pdGVyKTtcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIHJldHVybiBbc3RyLnN1YnN0cmluZygwLCBpbmRleCksIGRlbGltaXRlciwgc3RyLnN1YnN0cmluZyhpbmRleCArIGRlbGltaXRlci5sZW5ndGgpXTtcbiAgfVxuICByZXR1cm4gW3N0ciwgJycsICcnXTtcbn1cbi8qKlxuICogTW9zdCBicm93c2VycyBkb24ndCB5ZXQgaGF2ZSBhc3luYyBpdGVyYWJsZSBzdXBwb3J0IGZvciBSZWFkYWJsZVN0cmVhbSxcbiAqIGFuZCBOb2RlIGhhcyBhIHZlcnkgZGlmZmVyZW50IHdheSBvZiByZWFkaW5nIGJ5dGVzIGZyb20gaXRzIFwiUmVhZGFibGVTdHJlYW1cIi5cbiAqXG4gKiBUaGlzIHBvbHlmaWxsIHdhcyBwdWxsZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vTWF0dGlhc0J1ZWxlbnMvd2ViLXN0cmVhbXMtcG9seWZpbGwvcHVsbC8xMjIjaXNzdWVjb21tZW50LTE2MjczNTQ0OTBcbiAqL1xuZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhYmxlKHN0cmVhbSkge1xuICBpZiAoc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSkgcmV0dXJuIHN0cmVhbTtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICByZXR1cm4ge1xuICAgIGFzeW5jIG5leHQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdWx0LmRvbmUpIHJlYWRlci5yZWxlYXNlTG9jaygpOyAvLyByZWxlYXNlIGxvY2sgd2hlbiBzdHJlYW0gYmVjb21lcyBjbG9zZWRcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGVycm9yZWRcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHJldHVybigpIHtcbiAgICAgIGNvbnN0IGNhbmNlbFByb21pc2UgPSByZWFkZXIuY2FuY2VsKCk7XG4gICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICAgIGF3YWl0IGNhbmNlbFByb21pc2U7XG4gICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gICAgfSxcbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbWluZy5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgY2FzdFRvRXJyb3IgfSBmcm9tICcuL2NvcmUubWpzJztcbmV4cG9ydCBjbGFzcyBBUElFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycykge1xuICAgIHN1cGVyKEFQSUVycm9yLm1ha2VNZXNzYWdlKGVycm9yLCBtZXNzYWdlKSk7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcbiAgICBjb25zdCBkYXRhID0gZXJyb3I7XG4gICAgdGhpcy5lcnJvciA9IGRhdGE7XG4gICAgdGhpcy5jb2RlID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhWydjb2RlJ107XG4gICAgdGhpcy5wYXJhbSA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YVsncGFyYW0nXTtcbiAgICB0aGlzLnR5cGUgPSBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGFbJ3R5cGUnXTtcbiAgfVxuICBzdGF0aWMgbWFrZU1lc3NhZ2UoZXJyb3IsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgKFxuICAgICAgICBlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZVxuICAgICAgKSA/XG4gICAgICAgIHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSAnc3RyaW5nJyA/IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgOiBKU09OLnN0cmluZ2lmeShlcnJvci5tZXNzYWdlKVxuICAgICAgOiBlcnJvciA/IEpTT04uc3RyaW5naWZ5KGVycm9yKVxuICAgICAgOiBtZXNzYWdlIHx8ICdVbmtub3duIGVycm9yIG9jY3VycmVkJ1xuICAgICk7XG4gIH1cbiAgc3RhdGljIGdlbmVyYXRlKHN0YXR1cywgZXJyb3JSZXNwb25zZSwgbWVzc2FnZSwgaGVhZGVycykge1xuICAgIGlmICghc3RhdHVzKSB7XG4gICAgICByZXR1cm4gbmV3IEFQSUNvbm5lY3Rpb25FcnJvcih7IGNhdXNlOiBjYXN0VG9FcnJvcihlcnJvclJlc3BvbnNlKSB9KTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3IgPSBlcnJvclJlc3BvbnNlID09PSBudWxsIHx8IGVycm9yUmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yUmVzcG9uc2VbJ2Vycm9yJ107XG4gICAgaWYgKHN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICByZXR1cm4gbmV3IEJhZFJlcXVlc3RFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICByZXR1cm4gbmV3IEF1dGhlbnRpY2F0aW9uRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT09IDQwMykge1xuICAgICAgcmV0dXJuIG5ldyBQZXJtaXNzaW9uRGVuaWVkRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT09IDQwNCkge1xuICAgICAgcmV0dXJuIG5ldyBOb3RGb3VuZEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID09PSA0MDkpIHtcbiAgICAgIHJldHVybiBuZXcgQ29uZmxpY3RFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gNDIyKSB7XG4gICAgICByZXR1cm4gbmV3IFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gNDI5KSB7XG4gICAgICByZXR1cm4gbmV3IFJhdGVMaW1pdEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID49IDUwMCkge1xuICAgICAgcmV0dXJuIG5ldyBJbnRlcm5hbFNlcnZlckVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEFQSUVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICB9XG59XG5leHBvcnQgY2xhc3MgQVBJVXNlckFib3J0RXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9ID0ge30pIHtcbiAgICBzdXBlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWVzc2FnZSB8fCAnUmVxdWVzdCB3YXMgYWJvcnRlZC4nLCB1bmRlZmluZWQpO1xuICAgIHRoaXMuc3RhdHVzID0gdW5kZWZpbmVkO1xuICB9XG59XG5leHBvcnQgY2xhc3MgQVBJQ29ubmVjdGlvbkVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UsIGNhdXNlIH0pIHtcbiAgICBzdXBlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWVzc2FnZSB8fCAnQ29ubmVjdGlvbiBlcnJvci4nLCB1bmRlZmluZWQpO1xuICAgIHRoaXMuc3RhdHVzID0gdW5kZWZpbmVkO1xuICAgIC8vIGluIHNvbWUgZW52aXJvbm1lbnRzIHRoZSAnY2F1c2UnIHByb3BlcnR5IGlzIGFscmVhZHkgZGVjbGFyZWRcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKGNhdXNlKSB0aGlzLmNhdXNlID0gY2F1c2U7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yIGV4dGVuZHMgQVBJQ29ubmVjdGlvbkVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoeyBtZXNzYWdlOiAnUmVxdWVzdCB0aW1lZCBvdXQuJyB9KTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEJhZFJlcXVlc3RFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnN0YXR1cyA9IDQwMDtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0aW9uRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5zdGF0dXMgPSA0MDE7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uRGVuaWVkRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5zdGF0dXMgPSA0MDM7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuc3RhdHVzID0gNDA0O1xuICB9XG59XG5leHBvcnQgY2xhc3MgQ29uZmxpY3RFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnN0YXR1cyA9IDQwOTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnN0YXR1cyA9IDQyMjtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIFJhdGVMaW1pdEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuc3RhdHVzID0gNDI5O1xuICB9XG59XG5leHBvcnQgY2xhc3MgSW50ZXJuYWxTZXJ2ZXJFcnJvciBleHRlbmRzIEFQSUVycm9yIHt9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvci5tanMubWFwXG4iLCIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKlxuICogVGhpcyBpcyBhIHN0dWIgZm9yIG5vbi1ub2RlIGVudmlyb25tZW50cy5cbiAqIEluIG5vZGUgZW52aXJvbm1lbnRzLCBpdCBnZXRzIHJlcGxhY2VkIGFnZW50Lm5vZGUudHMgYnkgdGhlIHBhY2thZ2UgZXhwb3J0IG1hcFxuICovXG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdEFnZW50ID0gKHVybCkgPT4ge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFnZW50Lm1qcy5tYXBcbiIsIi8qKlxuICogRGlzY2xhaW1lcjogbW9kdWxlcyBpbiBfc2hpbXMgYXJlbid0IGludGVuZGVkIHRvIGJlIGltcG9ydGVkIGJ5IFNESyB1c2Vycy5cbiAqL1xuXG4vLyBJZiB3ZSBhY2NpZGVudGFsbHkgY2FsbCBmZXRjaCB3aXRoIHRoZSB3cm9uZyB0aGlzIGJpbmRpbmcsXG4vLyBpbiB0aGUgYnJvd3NlciBpdCB3b3VsZCB0aHJvdzpcbi8vICAgVHlwZUVycm9yOiBGYWlsZWQgdG8gZXhlY3V0ZSAnZmV0Y2gnIG9uICdXaW5kb3cnOiBJbGxlZ2FsIGludm9jYXRpb25cbmNvbnN0IF9mZXRjaCA9IGZldGNoLmJpbmQodW5kZWZpbmVkKTtcbmNvbnN0IF9SZXF1ZXN0ID0gUmVxdWVzdDtcbmNvbnN0IF9SZXNwb25zZSA9IFJlc3BvbnNlO1xuY29uc3QgX0hlYWRlcnMgPSBIZWFkZXJzO1xuXG5leHBvcnQgY29uc3QgaXNQb2x5ZmlsbGVkID0gZmFsc2U7XG5cbmV4cG9ydCB7IF9mZXRjaCBhcyBmZXRjaCwgX1JlcXVlc3QgYXMgUmVxdWVzdCwgX1Jlc3BvbnNlIGFzIFJlc3BvbnNlLCBfSGVhZGVycyBhcyBIZWFkZXJzIH07XG4iLCIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKi9cblxuY29uc3QgX0Zvcm1EYXRhID0gRm9ybURhdGE7XG5jb25zdCBfQmxvYiA9IEJsb2I7XG5cbmNvbnN0IF9GaWxlID1cbiAgdHlwZW9mIEZpbGUgIT09ICd1bmRlZmluZWQnID8gRmlsZSA6IChcbiAgICAvLyBCdW4gZG9lc24ndCBpbXBsZW1lbnQgRmlsZSB5ZXQsIHNvIGp1c3QgbWFrZSBhIHNoaW0gdGhhdCB0aHJvd3MgYSBoZWxwZnVsIGVycm9yIG1lc3NhZ2VcbiAgICBjbGFzcyBGaWxlIGV4dGVuZHMgQmxvYiB7XG4gICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBmaWxlIHVwbG9hZHMgYXJlbid0IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50IHlldCBhcyAnRmlsZScgaXMgbm90IGRlZmluZWRgKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG5cbmV4cG9ydCB7IF9Gb3JtRGF0YSBhcyBGb3JtRGF0YSwgX0ZpbGUgYXMgRmlsZSwgX0Jsb2IgYXMgQmxvYiB9O1xuXG5leHBvcnQgY29uc3QgaXNQb2x5ZmlsbGVkID0gZmFsc2U7XG4iLCIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKi9cbmltcG9ydCB7IE11bHRpcGFydEJvZHkgfSBmcm9tICcuLi91cGxvYWRzLm1qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMoZm9ybSwgb3B0cykge1xuICByZXR1cm4geyAuLi5vcHRzLCBib2R5OiBuZXcgTXVsdGlwYXJ0Qm9keShmb3JtKSB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMubWpzLm1hcFxuIiwiLyoqXG4gKiBEaXNjbGFpbWVyOiBtb2R1bGVzIGluIF9zaGltcyBhcmVuJ3QgaW50ZW5kZWQgdG8gYmUgaW1wb3J0ZWQgYnkgU0RLIHVzZXJzLlxuICpcbiAqIFRoaXMgaXMgYSBzdHViIHRoYXQgZ2V0cyByZXBsYWNlZCBieSBmaWxlRnJvbVBhdGgubm9kZS5qcyBmb3Igbm9kZSBlbnZpcm9ubWVudHNcbiAqIGluIHRoZSBwYWNrYWdlIGV4cG9ydCBtYXBcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbGVGcm9tUGF0aCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICdUaGUgYGZpbGVGcm9tUGF0aGAgZnVuY3Rpb24gaXMgb25seSBzdXBwb3J0ZWQgaW4gTm9kZS4gU2VlIHRoZSBSRUFETUUgZm9yIG1vcmUgZGV0YWlsczogaHR0cHM6Ly93d3cuZ2l0aHViLmNvbS9vcGVuYWkvb3BlbmFpLW5vZGUjZmlsZS11cGxvYWRzJyxcbiAgKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGVGcm9tUGF0aC5tanMubWFwXG4iLCIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ZzUmVhZFN0cmVhbSh2YWx1ZSkge1xuICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub2RlLXJlYWRhYmxlLm1qcy5tYXBcbiIsImltcG9ydCB7IEZvcm1EYXRhLCBGaWxlIH0gZnJvbSAnb3BlbmFpL19zaGltcy9mb3JtZGF0YSc7XG5pbXBvcnQgeyBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJ29wZW5haS9fc2hpbXMvZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMnO1xuaW1wb3J0IHsgZmlsZUZyb21QYXRoIH0gZnJvbSAnb3BlbmFpL19zaGltcy9maWxlRnJvbVBhdGgnO1xuaW1wb3J0IHsgaXNGc1JlYWRTdHJlYW0gfSBmcm9tICdvcGVuYWkvX3NoaW1zL25vZGUtcmVhZGFibGUnO1xuZXhwb3J0IHsgZmlsZUZyb21QYXRoIH07XG5leHBvcnQgY29uc3QgaXNSZXNwb25zZUxpa2UgPSAodmFsdWUpID0+XG4gIHZhbHVlICE9IG51bGwgJiZcbiAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICB0eXBlb2YgdmFsdWUudXJsID09PSAnc3RyaW5nJyAmJlxuICB0eXBlb2YgdmFsdWUuYmxvYiA9PT0gJ2Z1bmN0aW9uJztcbmV4cG9ydCBjb25zdCBpc0ZpbGVMaWtlID0gKHZhbHVlKSA9PlxuICB2YWx1ZSAhPSBudWxsICYmXG4gIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgdHlwZW9mIHZhbHVlLm5hbWUgPT09ICdzdHJpbmcnICYmXG4gIHR5cGVvZiB2YWx1ZS5sYXN0TW9kaWZpZWQgPT09ICdudW1iZXInICYmXG4gIGlzQmxvYkxpa2UodmFsdWUpO1xuLyoqXG4gKiBUaGUgQmxvYkxpa2UgdHlwZSBvbWl0cyBhcnJheUJ1ZmZlcigpIGJlY2F1c2UgQHR5cGVzL25vZGUtZmV0Y2hAXjIuNi40IGxhY2tzIGl0OyBidXQgdGhpcyBjaGVja1xuICogYWRkcyB0aGUgYXJyYXlCdWZmZXIoKSBtZXRob2QgdHlwZSBiZWNhdXNlIGl0IGlzIGF2YWlsYWJsZSBhbmQgdXNlZCBhdCBydW50aW1lXG4gKi9cbmV4cG9ydCBjb25zdCBpc0Jsb2JMaWtlID0gKHZhbHVlKSA9PlxuICB2YWx1ZSAhPSBudWxsICYmXG4gIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgdHlwZW9mIHZhbHVlLnNpemUgPT09ICdudW1iZXInICYmXG4gIHR5cGVvZiB2YWx1ZS50eXBlID09PSAnc3RyaW5nJyAmJlxuICB0eXBlb2YgdmFsdWUudGV4dCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICB0eXBlb2YgdmFsdWUuc2xpY2UgPT09ICdmdW5jdGlvbicgJiZcbiAgdHlwZW9mIHZhbHVlLmFycmF5QnVmZmVyID09PSAnZnVuY3Rpb24nO1xuZXhwb3J0IGNvbnN0IGlzVXBsb2FkYWJsZSA9ICh2YWx1ZSkgPT4ge1xuICByZXR1cm4gaXNGaWxlTGlrZSh2YWx1ZSkgfHwgaXNSZXNwb25zZUxpa2UodmFsdWUpIHx8IGlzRnNSZWFkU3RyZWFtKHZhbHVlKTtcbn07XG4vKipcbiAqIEhlbHBlciBmb3IgY3JlYXRpbmcgYSB7QGxpbmsgRmlsZX0gdG8gcGFzcyB0byBhbiBTREsgdXBsb2FkIG1ldGhvZCBmcm9tIGEgdmFyaWV0eSBvZiBkaWZmZXJlbnQgZGF0YSBmb3JtYXRzXG4gKiBAcGFyYW0gdmFsdWUgdGhlIHJhdyBjb250ZW50IG9mIHRoZSBmaWxlLiAgQ2FuIGJlIGFuIHtAbGluayBVcGxvYWRhYmxlfSwge0BsaW5rIEJsb2JMaWtlUGFydH0sIG9yIHtAbGluayBBc3luY0l0ZXJhYmxlfSBvZiB7QGxpbmsgQmxvYkxpa2VQYXJ0fXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgZmlsZS4gSWYgb21pdHRlZCwgdG9GaWxlIHdpbGwgdHJ5IHRvIGRldGVybWluZSBhIGZpbGUgbmFtZSBmcm9tIGJpdHMgaWYgcG9zc2libGVcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBhZGRpdGlvbmFsIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0aW9ucy50eXBlIHRoZSBNSU1FIHR5cGUgb2YgdGhlIGNvbnRlbnRcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0aW9ucy5sYXN0TW9kaWZpZWQgdGhlIGxhc3QgbW9kaWZpZWQgdGltZXN0YW1wXG4gKiBAcmV0dXJucyBhIHtAbGluayBGaWxlfSB3aXRoIHRoZSBnaXZlbiBwcm9wZXJ0aWVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b0ZpbGUodmFsdWUsIG5hbWUsIG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgLy8gSWYgaXQncyBhIHByb21pc2UsIHJlc29sdmUgaXQuXG4gIHZhbHVlID0gYXdhaXQgdmFsdWU7XG4gIGlmIChpc1Jlc3BvbnNlTGlrZSh2YWx1ZSkpIHtcbiAgICBjb25zdCBibG9iID0gYXdhaXQgdmFsdWUuYmxvYigpO1xuICAgIG5hbWUgfHxcbiAgICAgIChuYW1lID1cbiAgICAgICAgKF9hID0gbmV3IFVSTCh2YWx1ZS51cmwpLnBhdGhuYW1lLnNwbGl0KC9bXFxcXC9dLykucG9wKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgP1xuICAgICAgICAgIF9hXG4gICAgICAgIDogJ3Vua25vd25fZmlsZScpO1xuICAgIHJldHVybiBuZXcgRmlsZShbYmxvYl0sIG5hbWUsIG9wdGlvbnMpO1xuICB9XG4gIGNvbnN0IGJpdHMgPSBhd2FpdCBnZXRCeXRlcyh2YWx1ZSk7XG4gIG5hbWUgfHwgKG5hbWUgPSAoX2IgPSBnZXROYW1lKHZhbHVlKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ3Vua25vd25fZmlsZScpO1xuICBpZiAoIW9wdGlvbnMudHlwZSkge1xuICAgIGNvbnN0IHR5cGUgPSAoX2MgPSBiaXRzWzBdKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudHlwZTtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHRpb25zID0geyAuLi5vcHRpb25zLCB0eXBlIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgRmlsZShiaXRzLCBuYW1lLCBvcHRpb25zKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEJ5dGVzKHZhbHVlKSB7XG4gIHZhciBfYTtcbiAgbGV0IHBhcnRzID0gW107XG4gIGlmIChcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSB8fCAvLyBpbmNsdWRlcyBVaW50OEFycmF5LCBCdWZmZXIsIGV0Yy5cbiAgICB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyXG4gICkge1xuICAgIHBhcnRzLnB1c2godmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzQmxvYkxpa2UodmFsdWUpKSB7XG4gICAgcGFydHMucHVzaChhd2FpdCB2YWx1ZS5hcnJheUJ1ZmZlcigpKTtcbiAgfSBlbHNlIGlmIChcbiAgICBpc0FzeW5jSXRlcmFibGVJdGVyYXRvcih2YWx1ZSkgLy8gaW5jbHVkZXMgUmVhZGFibGUsIFJlYWRhYmxlU3RyZWFtLCBldGMuXG4gICkge1xuICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgdmFsdWUpIHtcbiAgICAgIHBhcnRzLnB1c2goY2h1bmspOyAvLyBUT0RPLCBjb25zaWRlciB2YWxpZGF0aW5nP1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgVW5leHBlY3RlZCBkYXRhIHR5cGU6ICR7dHlwZW9mIHZhbHVlfTsgY29uc3RydWN0b3I6ICR7XG4gICAgICAgIChfYSA9IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS5jb25zdHJ1Y3RvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/XG4gICAgICAgICAgdm9pZCAwXG4gICAgICAgIDogX2EubmFtZVxuICAgICAgfTsgcHJvcHM6ICR7cHJvcHNGb3JFcnJvcih2YWx1ZSl9YCxcbiAgICApO1xuICB9XG4gIHJldHVybiBwYXJ0cztcbn1cbmZ1bmN0aW9uIHByb3BzRm9yRXJyb3IodmFsdWUpIHtcbiAgY29uc3QgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIHJldHVybiBgWyR7cHJvcHMubWFwKChwKSA9PiBgXCIke3B9XCJgKS5qb2luKCcsICcpfV1gO1xufVxuZnVuY3Rpb24gZ2V0TmFtZSh2YWx1ZSkge1xuICB2YXIgX2E7XG4gIHJldHVybiAoXG4gICAgZ2V0U3RyaW5nRnJvbU1heWJlQnVmZmVyKHZhbHVlLm5hbWUpIHx8XG4gICAgZ2V0U3RyaW5nRnJvbU1heWJlQnVmZmVyKHZhbHVlLmZpbGVuYW1lKSB8fFxuICAgIC8vIEZvciBmcy5SZWFkU3RyZWFtXG4gICAgKChfYSA9IGdldFN0cmluZ0Zyb21NYXliZUJ1ZmZlcih2YWx1ZS5wYXRoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KC9bXFxcXC9dLykucG9wKCkpXG4gICk7XG59XG5jb25zdCBnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIgPSAoeCkgPT4ge1xuICBpZiAodHlwZW9mIHggPT09ICdzdHJpbmcnKSByZXR1cm4geDtcbiAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHggaW5zdGFuY2VvZiBCdWZmZXIpIHJldHVybiBTdHJpbmcoeCk7XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuY29uc3QgaXNBc3luY0l0ZXJhYmxlSXRlcmF0b3IgPSAodmFsdWUpID0+XG4gIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xuZXhwb3J0IGNsYXNzIE11bHRpcGFydEJvZHkge1xuICBjb25zdHJ1Y3Rvcihib2R5KSB7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgfVxuICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgcmV0dXJuICdNdWx0aXBhcnRCb2R5JztcbiAgfVxufVxuZXhwb3J0IGNvbnN0IGlzTXVsdGlwYXJ0Qm9keSA9IChib2R5KSA9PlxuICBib2R5ICYmIHR5cGVvZiBib2R5ID09PSAnb2JqZWN0JyAmJiBib2R5LmJvZHkgJiYgYm9keVtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTXVsdGlwYXJ0Qm9keSc7XG4vKipcbiAqIFJldHVybnMgYSBtdWx0aXBhcnQvZm9ybS1kYXRhIHJlcXVlc3QgaWYgYW55IHBhcnQgb2YgdGhlIGdpdmVuIHJlcXVlc3QgYm9keSBjb250YWlucyBhIEZpbGUgLyBCbG9iIHZhbHVlLlxuICogT3RoZXJ3aXNlIHJldHVybnMgdGhlIHJlcXVlc3QgYXMgaXMuXG4gKi9cbmV4cG9ydCBjb25zdCBtYXliZU11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyA9IGFzeW5jIChvcHRzKSA9PiB7XG4gIGlmICghaGFzVXBsb2FkYWJsZVZhbHVlKG9wdHMuYm9keSkpIHJldHVybiBvcHRzO1xuICBjb25zdCBmb3JtID0gYXdhaXQgY3JlYXRlRm9ybShvcHRzLmJvZHkpO1xuICByZXR1cm4gZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMoZm9ybSwgb3B0cyk7XG59O1xuZXhwb3J0IGNvbnN0IG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyA9IGFzeW5jIChvcHRzKSA9PiB7XG4gIGNvbnN0IGZvcm0gPSBhd2FpdCBjcmVhdGVGb3JtKG9wdHMuYm9keSk7XG4gIHJldHVybiBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyhmb3JtLCBvcHRzKTtcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlRm9ybSA9IGFzeW5jIChib2R5KSA9PiB7XG4gIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoT2JqZWN0LmVudHJpZXMoYm9keSB8fCB7fSkubWFwKChba2V5LCB2YWx1ZV0pID0+IGFkZEZvcm1WYWx1ZShmb3JtLCBrZXksIHZhbHVlKSkpO1xuICByZXR1cm4gZm9ybTtcbn07XG5jb25zdCBoYXNVcGxvYWRhYmxlVmFsdWUgPSAodmFsdWUpID0+IHtcbiAgaWYgKGlzVXBsb2FkYWJsZSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZS5zb21lKGhhc1VwbG9hZGFibGVWYWx1ZSk7XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgZm9yIChjb25zdCBrIGluIHZhbHVlKSB7XG4gICAgICBpZiAoaGFzVXBsb2FkYWJsZVZhbHVlKHZhbHVlW2tdKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBhZGRGb3JtVmFsdWUgPSBhc3luYyAoZm9ybSwga2V5LCB2YWx1ZSkgPT4ge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICBgUmVjZWl2ZWQgbnVsbCBmb3IgXCIke2tleX1cIjsgdG8gcGFzcyBudWxsIGluIEZvcm1EYXRhLCB5b3UgbXVzdCB1c2UgdGhlIHN0cmluZyAnbnVsbCdgLFxuICAgICk7XG4gIH1cbiAgLy8gVE9ETzogbWFrZSBuZXN0ZWQgZm9ybWF0cyBjb25maWd1cmFibGVcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgIGZvcm0uYXBwZW5kKGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gIH0gZWxzZSBpZiAoaXNVcGxvYWRhYmxlKHZhbHVlKSkge1xuICAgIGNvbnN0IGZpbGUgPSBhd2FpdCB0b0ZpbGUodmFsdWUpO1xuICAgIGZvcm0uYXBwZW5kKGtleSwgZmlsZSk7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbCh2YWx1ZS5tYXAoKGVudHJ5KSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwga2V5ICsgJ1tdJywgZW50cnkpKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcCgoW25hbWUsIHByb3BdKSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwgYCR7a2V5fVske25hbWV9XWAsIHByb3ApKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICBgSW52YWxpZCB2YWx1ZSBnaXZlbiB0byBmb3JtLCBleHBlY3RlZCBhIHN0cmluZywgbnVtYmVyLCBib29sZWFuLCBvYmplY3QsIEFycmF5LCBGaWxlIG9yIEJsb2IgYnV0IGdvdCAke3ZhbHVlfSBpbnN0ZWFkYCxcbiAgICApO1xuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBsb2Fkcy5tanMubWFwXG4iLCJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZFNldCA9XG4gICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldCkgfHxcbiAgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gJ20nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGUnKTtcbiAgICBpZiAoa2luZCA9PT0gJ2EnICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXInKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSAnZnVuY3Rpb24nID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdCcpO1xuICAgIHJldHVybiAoXG4gICAgICBraW5kID09PSAnYScgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKVxuICAgICAgOiBmID8gKGYudmFsdWUgPSB2YWx1ZSlcbiAgICAgIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSksXG4gICAgICB2YWx1ZVxuICAgICk7XG4gIH07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9XG4gICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHxcbiAgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSAnYScgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlcicpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09ICdmdW5jdGlvbicgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSlcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdCcpO1xuICAgIHJldHVybiAoXG4gICAgICBraW5kID09PSAnbScgPyBmXG4gICAgICA6IGtpbmQgPT09ICdhJyA/IGYuY2FsbChyZWNlaXZlcilcbiAgICAgIDogZiA/IGYudmFsdWVcbiAgICAgIDogc3RhdGUuZ2V0KHJlY2VpdmVyKVxuICAgICk7XG4gIH07XG52YXIgX0Fic3RyYWN0UGFnZV9jbGllbnQ7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi92ZXJzaW9uLm1qcyc7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tICcuL3N0cmVhbWluZy5tanMnO1xuaW1wb3J0IHsgQVBJRXJyb3IsIEFQSUNvbm5lY3Rpb25FcnJvciwgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciwgQVBJVXNlckFib3J0RXJyb3IgfSBmcm9tICcuL2Vycm9yLm1qcyc7XG5pbXBvcnQgeyBnZXREZWZhdWx0QWdlbnQgfSBmcm9tICdvcGVuYWkvX3NoaW1zL2FnZW50JztcbmltcG9ydCB7IGZldGNoLCBpc1BvbHlmaWxsZWQgYXMgZmV0Y2hJc1BvbHlmaWxsZWQgfSBmcm9tICdvcGVuYWkvX3NoaW1zL2ZldGNoJztcbmltcG9ydCB7IGlzTXVsdGlwYXJ0Qm9keSB9IGZyb20gJy4vdXBsb2Fkcy5tanMnO1xuZXhwb3J0IHsgbWF5YmVNdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucywgY3JlYXRlRm9ybSB9IGZyb20gJy4vdXBsb2Fkcy5tanMnO1xuY29uc3QgTUFYX1JFVFJJRVMgPSAyO1xuYXN5bmMgZnVuY3Rpb24gZGVmYXVsdFBhcnNlUmVzcG9uc2UocHJvcHMpIHtcbiAgY29uc3QgeyByZXNwb25zZSB9ID0gcHJvcHM7XG4gIGlmIChwcm9wcy5vcHRpb25zLnN0cmVhbSkge1xuICAgIC8vIE5vdGU6IHRoZXJlIGlzIGFuIGludmFyaWFudCBoZXJlIHRoYXQgaXNuJ3QgcmVwcmVzZW50ZWQgaW4gdGhlIHR5cGUgc3lzdGVtXG4gICAgLy8gdGhhdCBpZiB5b3Ugc2V0IGBzdHJlYW06IHRydWVgIHRoZSByZXNwb25zZSB0eXBlIG11c3QgYWxzbyBiZSBgU3RyZWFtPFQ+YFxuICAgIHJldHVybiBuZXcgU3RyZWFtKHJlc3BvbnNlLCBwcm9wcy5jb250cm9sbGVyKTtcbiAgfVxuICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgaWYgKGNvbnRlbnRUeXBlID09PSBudWxsIHx8IGNvbnRlbnRUeXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250ZW50VHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBkZWJ1ZygncmVzcG9uc2UnLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnVybCwgcmVzcG9uc2UuaGVhZGVycywganNvbik7XG4gICAgcmV0dXJuIGpzb247XG4gIH1cbiAgLy8gVE9ETyBoYW5kbGUgYmxvYiwgYXJyYXlidWZmZXIsIG90aGVyIGNvbnRlbnQgdHlwZXMsIGV0Yy5cbiAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgZGVidWcoJ3Jlc3BvbnNlJywgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS51cmwsIHJlc3BvbnNlLmhlYWRlcnMsIHRleHQpO1xuICByZXR1cm4gdGV4dDtcbn1cbi8qKlxuICogQSBzdWJjbGFzcyBvZiBgUHJvbWlzZWAgcHJvdmlkaW5nIGFkZGl0aW9uYWwgaGVscGVyIG1ldGhvZHNcbiAqIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBTREsuXG4gKi9cbmV4cG9ydCBjbGFzcyBBUElQcm9taXNlIGV4dGVuZHMgUHJvbWlzZSB7XG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlUHJvbWlzZSwgcGFyc2VSZXNwb25zZSA9IGRlZmF1bHRQYXJzZVJlc3BvbnNlKSB7XG4gICAgc3VwZXIoKHJlc29sdmUpID0+IHtcbiAgICAgIC8vIHRoaXMgaXMgbWF5YmUgYSBiaXQgd2VpcmQgYnV0IHRoaXMgaGFzIHRvIGJlIGEgbm8tb3AgdG8gbm90IGltcGxpY2l0bHlcbiAgICAgIC8vIHBhcnNlIHRoZSByZXNwb25zZSBib2R5OyBpbnN0ZWFkIC50aGVuLCAuY2F0Y2gsIC5maW5hbGx5IGFyZSBvdmVycmlkZGVuXG4gICAgICAvLyB0byBwYXJzZSB0aGUgcmVzcG9uc2VcbiAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgfSk7XG4gICAgdGhpcy5yZXNwb25zZVByb21pc2UgPSByZXNwb25zZVByb21pc2U7XG4gICAgdGhpcy5wYXJzZVJlc3BvbnNlID0gcGFyc2VSZXNwb25zZTtcbiAgfVxuICBfdGhlblVud3JhcCh0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gbmV3IEFQSVByb21pc2UodGhpcy5yZXNwb25zZVByb21pc2UsIGFzeW5jIChwcm9wcykgPT4gdHJhbnNmb3JtKGF3YWl0IHRoaXMucGFyc2VSZXNwb25zZShwcm9wcykpKTtcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2UgaW5zdGVhZCBvZiBwYXJzaW5nIHRoZSByZXNwb25zZVxuICAgKiBkYXRhLlxuICAgKlxuICAgKiBJZiB5b3Ugd2FudCB0byBwYXJzZSB0aGUgcmVzcG9uc2UgYm9keSBidXQgc3RpbGwgZ2V0IHRoZSBgUmVzcG9uc2VgXG4gICAqIGluc3RhbmNlLCB5b3UgY2FuIHVzZSB7QGxpbmsgd2l0aFJlc3BvbnNlKCl9LlxuICAgKi9cbiAgYXNSZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZVByb21pc2UudGhlbigocCkgPT4gcC5yZXNwb25zZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIHBhcnNlZCByZXNwb25zZSBkYXRhIGFuZCB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2UuXG4gICAqXG4gICAqIElmIHlvdSBqdXN0IHdhbnQgdG8gZ2V0IHRoZSByYXcgYFJlc3BvbnNlYCBpbnN0YW5jZSB3aXRob3V0IHBhcnNpbmcgaXQsXG4gICAqIHlvdSBjYW4gdXNlIHtAbGluayBhc1Jlc3BvbnNlKCl9LlxuICAgKi9cbiAgYXN5bmMgd2l0aFJlc3BvbnNlKCkge1xuICAgIGNvbnN0IFtkYXRhLCByZXNwb25zZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wYXJzZSgpLCB0aGlzLmFzUmVzcG9uc2UoKV0pO1xuICAgIHJldHVybiB7IGRhdGEsIHJlc3BvbnNlIH07XG4gIH1cbiAgcGFyc2UoKSB7XG4gICAgaWYgKCF0aGlzLnBhcnNlZFByb21pc2UpIHtcbiAgICAgIHRoaXMucGFyc2VkUHJvbWlzZSA9IHRoaXMucmVzcG9uc2VQcm9taXNlLnRoZW4odGhpcy5wYXJzZVJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucGFyc2VkUHJvbWlzZTtcbiAgfVxuICB0aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyc2UoKS50aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKTtcbiAgfVxuICBjYXRjaChvbnJlamVjdGVkKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyc2UoKS5jYXRjaChvbnJlamVjdGVkKTtcbiAgfVxuICBmaW5hbGx5KG9uZmluYWxseSkge1xuICAgIHJldHVybiB0aGlzLnBhcnNlKCkuZmluYWxseShvbmZpbmFsbHkpO1xuICB9XG59XG5leHBvcnQgY2xhc3MgQVBJQ2xpZW50IHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGJhc2VVUkwsXG4gICAgbWF4UmV0cmllcyxcbiAgICB0aW1lb3V0ID0gNjAwMDAwLCAvLyAxMCBtaW51dGVzXG4gICAgaHR0cEFnZW50LFxuICAgIGZldGNoOiBvdmVycmlkZW5GZXRjaCxcbiAgfSkge1xuICAgIHRoaXMuYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgdGhpcy5tYXhSZXRyaWVzID0gdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoXG4gICAgICAnbWF4UmV0cmllcycsXG4gICAgICBtYXhSZXRyaWVzICE9PSBudWxsICYmIG1heFJldHJpZXMgIT09IHZvaWQgMCA/IG1heFJldHJpZXMgOiBNQVhfUkVUUklFUyxcbiAgICApO1xuICAgIHRoaXMudGltZW91dCA9IHZhbGlkYXRlUG9zaXRpdmVJbnRlZ2VyKCd0aW1lb3V0JywgdGltZW91dCk7XG4gICAgdGhpcy5odHRwQWdlbnQgPSBodHRwQWdlbnQ7XG4gICAgdGhpcy5mZXRjaCA9IG92ZXJyaWRlbkZldGNoICE9PSBudWxsICYmIG92ZXJyaWRlbkZldGNoICE9PSB2b2lkIDAgPyBvdmVycmlkZW5GZXRjaCA6IGZldGNoO1xuICB9XG4gIGF1dGhIZWFkZXJzKG9wdHMpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoaXMgdG8gYWRkIHlvdXIgb3duIGRlZmF1bHQgaGVhZGVycywgZm9yIGV4YW1wbGU6XG4gICAqXG4gICAqICB7XG4gICAqICAgIC4uLnN1cGVyLmRlZmF1bHRIZWFkZXJzKCksXG4gICAqICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgMTIzJyxcbiAgICogIH1cbiAgICovXG4gIGRlZmF1bHRIZWFkZXJzKG9wdHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgJ1VzZXItQWdlbnQnOiB0aGlzLmdldFVzZXJBZ2VudCgpLFxuICAgICAgLi4uZ2V0UGxhdGZvcm1IZWFkZXJzKCksXG4gICAgICAuLi50aGlzLmF1dGhIZWFkZXJzKG9wdHMpLFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoaXMgdG8gYWRkIHlvdXIgb3duIGhlYWRlcnMgdmFsaWRhdGlvbjpcbiAgICovXG4gIHZhbGlkYXRlSGVhZGVycyhoZWFkZXJzLCBjdXN0b21IZWFkZXJzKSB7fVxuICBkZWZhdWx0SWRlbXBvdGVuY3lLZXkoKSB7XG4gICAgcmV0dXJuIGBzdGFpbmxlc3Mtbm9kZS1yZXRyeS0ke3V1aWQ0KCl9YDtcbiAgfVxuICBnZXQocGF0aCwgb3B0cykge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ2dldCcsIHBhdGgsIG9wdHMpO1xuICB9XG4gIHBvc3QocGF0aCwgb3B0cykge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ3Bvc3QnLCBwYXRoLCBvcHRzKTtcbiAgfVxuICBwYXRjaChwYXRoLCBvcHRzKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgncGF0Y2gnLCBwYXRoLCBvcHRzKTtcbiAgfVxuICBwdXQocGF0aCwgb3B0cykge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ3B1dCcsIHBhdGgsIG9wdHMpO1xuICB9XG4gIGRlbGV0ZShwYXRoLCBvcHRzKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgnZGVsZXRlJywgcGF0aCwgb3B0cyk7XG4gIH1cbiAgbWV0aG9kUmVxdWVzdChtZXRob2QsIHBhdGgsIG9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFByb21pc2UucmVzb2x2ZShvcHRzKS50aGVuKChvcHRzKSA9PiAoeyBtZXRob2QsIHBhdGgsIC4uLm9wdHMgfSkpKTtcbiAgfVxuICBnZXRBUElMaXN0KHBhdGgsIFBhZ2UsIG9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0QVBJTGlzdChQYWdlLCB7IG1ldGhvZDogJ2dldCcsIHBhdGgsIC4uLm9wdHMgfSk7XG4gIH1cbiAgY2FsY3VsYXRlQ29udGVudExlbmd0aChib2R5KSB7XG4gICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBCdWZmZXIuYnl0ZUxlbmd0aChib2R5LCAndXRmOCcpLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIFRleHRFbmNvZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgIGNvbnN0IGVuY29kZWQgPSBlbmNvZGVyLmVuY29kZShib2R5KTtcbiAgICAgICAgcmV0dXJuIGVuY29kZWQubGVuZ3RoLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGJ1aWxkUmVxdWVzdChvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgY29uc3QgeyBtZXRob2QsIHBhdGgsIHF1ZXJ5LCBoZWFkZXJzOiBoZWFkZXJzID0ge30gfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgYm9keSA9XG4gICAgICBpc011bHRpcGFydEJvZHkob3B0aW9ucy5ib2R5KSA/IG9wdGlvbnMuYm9keS5ib2R5XG4gICAgICA6IG9wdGlvbnMuYm9keSA/IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYm9keSwgbnVsbCwgMilcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5jYWxjdWxhdGVDb250ZW50TGVuZ3RoKGJvZHkpO1xuICAgIGNvbnN0IHVybCA9IHRoaXMuYnVpbGRVUkwocGF0aCwgcXVlcnkpO1xuICAgIGlmICgndGltZW91dCcgaW4gb3B0aW9ucykgdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ3RpbWVvdXQnLCBvcHRpb25zLnRpbWVvdXQpO1xuICAgIGNvbnN0IHRpbWVvdXQgPSAoX2EgPSBvcHRpb25zLnRpbWVvdXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMudGltZW91dDtcbiAgICBjb25zdCBodHRwQWdlbnQgPVxuICAgICAgKFxuICAgICAgICAoX2MgPSAoX2IgPSBvcHRpb25zLmh0dHBBZ2VudCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5odHRwQWdlbnQpICE9PSBudWxsICYmXG4gICAgICAgIF9jICE9PSB2b2lkIDBcbiAgICAgICkgP1xuICAgICAgICBfY1xuICAgICAgOiBnZXREZWZhdWx0QWdlbnQodXJsKTtcbiAgICBjb25zdCBtaW5BZ2VudFRpbWVvdXQgPSB0aW1lb3V0ICsgMTAwMDtcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgKChcbiAgICAgICAgKF9kID0gaHR0cEFnZW50ID09PSBudWxsIHx8IGh0dHBBZ2VudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaHR0cEFnZW50Lm9wdGlvbnMpID09PSBudWxsIHx8XG4gICAgICAgIF9kID09PSB2b2lkIDBcbiAgICAgICkgP1xuICAgICAgICB2b2lkIDBcbiAgICAgIDogX2QudGltZW91dCkgPT09ICdudW1iZXInICYmXG4gICAgICBtaW5BZ2VudFRpbWVvdXQgPiAoKF9lID0gaHR0cEFnZW50Lm9wdGlvbnMudGltZW91dCkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogMClcbiAgICApIHtcbiAgICAgIC8vIEFsbG93IGFueSBnaXZlbiByZXF1ZXN0IHRvIGJ1bXAgb3VyIGFnZW50IGFjdGl2ZSBzb2NrZXQgdGltZW91dC5cbiAgICAgIC8vIFRoaXMgbWF5IHNlZW0gc3RyYW5nZSwgYnV0IGxlYWtpbmcgYWN0aXZlIHNvY2tldHMgc2hvdWxkIGJlIHJhcmUgYW5kIG5vdCBwYXJ0aWN1bGFybHkgcHJvYmxlbWF0aWMsXG4gICAgICAvLyBhbmQgd2l0aG91dCBtdXRhdGluZyBhZ2VudCB3ZSB3b3VsZCBuZWVkIHRvIGNyZWF0ZSBtb3JlIG9mIHRoZW0uXG4gICAgICAvLyBUaGlzIHRyYWRlb2ZmIG9wdGltaXplcyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICBodHRwQWdlbnQub3B0aW9ucy50aW1lb3V0ID0gbWluQWdlbnRUaW1lb3V0O1xuICAgIH1cbiAgICBpZiAodGhpcy5pZGVtcG90ZW5jeUhlYWRlciAmJiBtZXRob2QgIT09ICdnZXQnKSB7XG4gICAgICBpZiAoIW9wdGlvbnMuaWRlbXBvdGVuY3lLZXkpIG9wdGlvbnMuaWRlbXBvdGVuY3lLZXkgPSB0aGlzLmRlZmF1bHRJZGVtcG90ZW5jeUtleSgpO1xuICAgICAgaGVhZGVyc1t0aGlzLmlkZW1wb3RlbmN5SGVhZGVyXSA9IG9wdGlvbnMuaWRlbXBvdGVuY3lLZXk7XG4gICAgfVxuICAgIGNvbnN0IHJlcUhlYWRlcnMgPSB7XG4gICAgICAuLi4oY29udGVudExlbmd0aCAmJiB7ICdDb250ZW50LUxlbmd0aCc6IGNvbnRlbnRMZW5ndGggfSksXG4gICAgICAuLi50aGlzLmRlZmF1bHRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgLi4uaGVhZGVycyxcbiAgICB9O1xuICAgIC8vIGxldCBidWlsdGluIGZldGNoIHNldCB0aGUgQ29udGVudC1UeXBlIGZvciBtdWx0aXBhcnQgYm9kaWVzXG4gICAgaWYgKGlzTXVsdGlwYXJ0Qm9keShvcHRpb25zLmJvZHkpICYmICFmZXRjaElzUG9seWZpbGxlZCkge1xuICAgICAgZGVsZXRlIHJlcUhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddO1xuICAgIH1cbiAgICAvLyBTdHJpcCBhbnkgaGVhZGVycyBiZWluZyBleHBsaWNpdGx5IG9taXR0ZWQgd2l0aCBudWxsXG4gICAgT2JqZWN0LmtleXMocmVxSGVhZGVycykuZm9yRWFjaCgoa2V5KSA9PiByZXFIZWFkZXJzW2tleV0gPT09IG51bGwgJiYgZGVsZXRlIHJlcUhlYWRlcnNba2V5XSk7XG4gICAgY29uc3QgcmVxID0ge1xuICAgICAgbWV0aG9kLFxuICAgICAgLi4uKGJvZHkgJiYgeyBib2R5OiBib2R5IH0pLFxuICAgICAgaGVhZGVyczogcmVxSGVhZGVycyxcbiAgICAgIC4uLihodHRwQWdlbnQgJiYgeyBhZ2VudDogaHR0cEFnZW50IH0pLFxuICAgICAgLy8gQHRzLWlnbm9yZSBub2RlLWZldGNoIHVzZXMgYSBjdXN0b20gQWJvcnRTaWduYWwgdHlwZSB0aGF0IGlzXG4gICAgICAvLyBub3QgY29tcGF0aWJsZSB3aXRoIHN0YW5kYXJkIHdlYiB0eXBlc1xuICAgICAgc2lnbmFsOiAoX2YgPSBvcHRpb25zLnNpZ25hbCkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogbnVsbCxcbiAgICB9O1xuICAgIHRoaXMudmFsaWRhdGVIZWFkZXJzKHJlcUhlYWRlcnMsIGhlYWRlcnMpO1xuICAgIHJldHVybiB7IHJlcSwgdXJsLCB0aW1lb3V0IH07XG4gIH1cbiAgLyoqXG4gICAqIFVzZWQgYXMgYSBjYWxsYmFjayBmb3IgbXV0YXRpbmcgdGhlIGdpdmVuIGBSZXF1ZXN0SW5pdGAgb2JqZWN0LlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY2FzZXMgd2hlcmUgeW91IHdhbnQgdG8gYWRkIGNlcnRhaW4gaGVhZGVycyBiYXNlZCBvZmYgb2ZcbiAgICogdGhlIHJlcXVlc3QgcHJvcGVydGllcywgZS5nLiBgbWV0aG9kYCBvciBgdXJsYC5cbiAgICovXG4gIGFzeW5jIHByZXBhcmVSZXF1ZXN0KHJlcXVlc3QsIHsgdXJsLCBvcHRpb25zIH0pIHt9XG4gIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICFoZWFkZXJzID8ge31cbiAgICAgIDogU3ltYm9sLml0ZXJhdG9yIGluIGhlYWRlcnMgPyBPYmplY3QuZnJvbUVudHJpZXMoQXJyYXkuZnJvbShoZWFkZXJzKS5tYXAoKGhlYWRlcikgPT4gWy4uLmhlYWRlcl0pKVxuICAgICAgOiB7IC4uLmhlYWRlcnMgfVxuICAgICk7XG4gIH1cbiAgbWFrZVN0YXR1c0Vycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpIHtcbiAgICByZXR1cm4gQVBJRXJyb3IuZ2VuZXJhdGUoc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gIH1cbiAgcmVxdWVzdChvcHRpb25zLCByZW1haW5pbmdSZXRyaWVzID0gbnVsbCkge1xuICAgIHJldHVybiBuZXcgQVBJUHJvbWlzZSh0aGlzLm1ha2VSZXF1ZXN0KG9wdGlvbnMsIHJlbWFpbmluZ1JldHJpZXMpKTtcbiAgfVxuICBhc3luYyBtYWtlUmVxdWVzdChvcHRpb25zSW5wdXQsIHJldHJpZXNSZW1haW5pbmcpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgb3B0aW9uc0lucHV0O1xuICAgIGlmIChyZXRyaWVzUmVtYWluaW5nID09IG51bGwpIHtcbiAgICAgIHJldHJpZXNSZW1haW5pbmcgPSAoX2EgPSBvcHRpb25zLm1heFJldHJpZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMubWF4UmV0cmllcztcbiAgICB9XG4gICAgY29uc3QgeyByZXEsIHVybCwgdGltZW91dCB9ID0gdGhpcy5idWlsZFJlcXVlc3Qob3B0aW9ucyk7XG4gICAgYXdhaXQgdGhpcy5wcmVwYXJlUmVxdWVzdChyZXEsIHsgdXJsLCBvcHRpb25zIH0pO1xuICAgIGRlYnVnKCdyZXF1ZXN0JywgdXJsLCBvcHRpb25zLCByZXEuaGVhZGVycyk7XG4gICAgaWYgKChfYiA9IG9wdGlvbnMuc2lnbmFsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYWJvcnRlZCkge1xuICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoV2l0aFRpbWVvdXQodXJsLCByZXEsIHRpbWVvdXQsIGNvbnRyb2xsZXIpLmNhdGNoKGNhc3RUb0Vycm9yKTtcbiAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgaWYgKChfYyA9IG9wdGlvbnMuc2lnbmFsKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYWJvcnRlZCkge1xuICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXRyaWVzUmVtYWluaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXNwb25zZS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBBUElDb25uZWN0aW9uRXJyb3IoeyBjYXVzZTogcmVzcG9uc2UgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGNyZWF0ZVJlc3BvbnNlSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBpZiAocmV0cmllc1JlbWFpbmluZyAmJiB0aGlzLnNob3VsZFJldHJ5KHJlc3BvbnNlKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXRyeVJlcXVlc3Qob3B0aW9ucywgcmV0cmllc1JlbWFpbmluZywgcmVzcG9uc2VIZWFkZXJzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVyclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkuY2F0Y2goKCkgPT4gJ1Vua25vd24nKTtcbiAgICAgIGNvbnN0IGVyckpTT04gPSBzYWZlSlNPTihlcnJUZXh0KTtcbiAgICAgIGNvbnN0IGVyck1lc3NhZ2UgPSBlcnJKU09OID8gdW5kZWZpbmVkIDogZXJyVGV4dDtcbiAgICAgIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgdXJsLCByZXNwb25zZUhlYWRlcnMsIGVyck1lc3NhZ2UpO1xuICAgICAgY29uc3QgZXJyID0gdGhpcy5tYWtlU3RhdHVzRXJyb3IocmVzcG9uc2Uuc3RhdHVzLCBlcnJKU09OLCBlcnJNZXNzYWdlLCByZXNwb25zZUhlYWRlcnMpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4geyByZXNwb25zZSwgb3B0aW9ucywgY29udHJvbGxlciB9O1xuICB9XG4gIHJlcXVlc3RBUElMaXN0KFBhZ2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5tYWtlUmVxdWVzdChvcHRpb25zLCBudWxsKTtcbiAgICByZXR1cm4gbmV3IFBhZ2VQcm9taXNlKHRoaXMsIHJlcXVlc3QsIFBhZ2UpO1xuICB9XG4gIGJ1aWxkVVJMKHBhdGgsIHF1ZXJ5KSB7XG4gICAgY29uc3QgdXJsID1cbiAgICAgIGlzQWJzb2x1dGVVUkwocGF0aCkgP1xuICAgICAgICBuZXcgVVJMKHBhdGgpXG4gICAgICA6IG5ldyBVUkwodGhpcy5iYXNlVVJMICsgKHRoaXMuYmFzZVVSTC5lbmRzV2l0aCgnLycpICYmIHBhdGguc3RhcnRzV2l0aCgnLycpID8gcGF0aC5zbGljZSgxKSA6IHBhdGgpKTtcbiAgICBjb25zdCBkZWZhdWx0UXVlcnkgPSB0aGlzLmRlZmF1bHRRdWVyeSgpO1xuICAgIGlmICghaXNFbXB0eU9iaihkZWZhdWx0UXVlcnkpKSB7XG4gICAgICBxdWVyeSA9IHsgLi4uZGVmYXVsdFF1ZXJ5LCAuLi5xdWVyeSB9O1xuICAgIH1cbiAgICBpZiAocXVlcnkpIHtcbiAgICAgIHVybC5zZWFyY2ggPSB0aGlzLnN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICB9XG4gIHN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHF1ZXJ5KVxuICAgICAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJylcbiAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgcmV0dXJuIGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT0ke2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSl9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9PWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDYW5ub3Qgc3RyaW5naWZ5IHR5cGUgJHt0eXBlb2YgdmFsdWV9OyBFeHBlY3RlZCBzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgb3IgbnVsbC4gSWYgeW91IG5lZWQgdG8gcGFzcyBuZXN0ZWQgcXVlcnkgcGFyYW1ldGVycywgeW91IGNhbiBtYW51YWxseSBlbmNvZGUgdGhlbSwgZS5nLiB7IHF1ZXJ5OiB7ICdmb29ba2V5MV0nOiB2YWx1ZTEsICdmb29ba2V5Ml0nOiB2YWx1ZTIgfSB9LCBhbmQgcGxlYXNlIG9wZW4gYSBHaXRIdWIgaXNzdWUgcmVxdWVzdGluZyBiZXR0ZXIgc3VwcG9ydCBmb3IgeW91ciB1c2UgY2FzZS5gLFxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcmJyk7XG4gIH1cbiAgYXN5bmMgZmV0Y2hXaXRoVGltZW91dCh1cmwsIGluaXQsIG1zLCBjb250cm9sbGVyKSB7XG4gICAgY29uc3QgeyBzaWduYWwsIC4uLm9wdGlvbnMgfSA9IGluaXQgfHwge307XG4gICAgaWYgKHNpZ25hbCkgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIG1zKTtcbiAgICByZXR1cm4gdGhpcy5nZXRSZXF1ZXN0Q2xpZW50KClcbiAgICAgIC5mZXRjaCh1cmwsIHsgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCwgLi4ub3B0aW9ucyB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB9KTtcbiAgfVxuICBnZXRSZXF1ZXN0Q2xpZW50KCkge1xuICAgIHJldHVybiB7IGZldGNoOiB0aGlzLmZldGNoIH07XG4gIH1cbiAgc2hvdWxkUmV0cnkocmVzcG9uc2UpIHtcbiAgICAvLyBOb3RlIHRoaXMgaXMgbm90IGEgc3RhbmRhcmQgaGVhZGVyLlxuICAgIGNvbnN0IHNob3VsZFJldHJ5SGVhZGVyID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtc2hvdWxkLXJldHJ5Jyk7XG4gICAgLy8gSWYgdGhlIHNlcnZlciBleHBsaWNpdGx5IHNheXMgd2hldGhlciBvciBub3QgdG8gcmV0cnksIG9iZXkuXG4gICAgaWYgKHNob3VsZFJldHJ5SGVhZGVyID09PSAndHJ1ZScpIHJldHVybiB0cnVlO1xuICAgIGlmIChzaG91bGRSZXRyeUhlYWRlciA9PT0gJ2ZhbHNlJykgcmV0dXJuIGZhbHNlO1xuICAgIC8vIFJldHJ5IG9uIGxvY2sgdGltZW91dHMuXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBSZXRyeSBvbiByYXRlIGxpbWl0cy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjkpIHJldHVybiB0cnVlO1xuICAgIC8vIFJldHJ5IGludGVybmFsIGVycm9ycy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDUwMCkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGFzeW5jIHJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nLCByZXNwb25zZUhlYWRlcnMpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0cmllc1JlbWFpbmluZyAtPSAxO1xuICAgIC8vIEFib3V0IHRoZSBSZXRyeS1BZnRlciBoZWFkZXI6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvSGVhZGVycy9SZXRyeS1BZnRlclxuICAgIC8vXG4gICAgLy8gVE9ETzogd2UgbWF5IHdhbnQgdG8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSBoZWFkZXIgaXMgdXNpbmcgdGhlIGh0dHAtZGF0ZSBzeW50YXg6IFwiUmV0cnktQWZ0ZXI6IDxodHRwLWRhdGU+XCIuXG4gICAgLy8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvSGVhZGVycy9SZXRyeS1BZnRlciNzeW50YXggZm9yIGRldGFpbHMuXG4gICAgY29uc3QgcmV0cnlBZnRlciA9IHBhcnNlSW50KFxuICAgICAgKHJlc3BvbnNlSGVhZGVycyA9PT0gbnVsbCB8fCByZXNwb25zZUhlYWRlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlSGVhZGVyc1sncmV0cnktYWZ0ZXInXSkgfHxcbiAgICAgICAgJycsXG4gICAgKTtcbiAgICBjb25zdCBtYXhSZXRyaWVzID0gKF9hID0gb3B0aW9ucy5tYXhSZXRyaWVzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLm1heFJldHJpZXM7XG4gICAgY29uc3QgdGltZW91dCA9IHRoaXMuY2FsY3VsYXRlUmV0cnlUaW1lb3V0U2Vjb25kcyhyZXRyaWVzUmVtYWluaW5nLCByZXRyeUFmdGVyLCBtYXhSZXRyaWVzKSAqIDEwMDA7XG4gICAgYXdhaXQgc2xlZXAodGltZW91dCk7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3Qob3B0aW9ucywgcmV0cmllc1JlbWFpbmluZyk7XG4gIH1cbiAgY2FsY3VsYXRlUmV0cnlUaW1lb3V0U2Vjb25kcyhyZXRyaWVzUmVtYWluaW5nLCByZXRyeUFmdGVyLCBtYXhSZXRyaWVzKSB7XG4gICAgY29uc3QgaW5pdGlhbFJldHJ5RGVsYXkgPSAwLjU7XG4gICAgY29uc3QgbWF4UmV0cnlEZWxheSA9IDI7XG4gICAgLy8gSWYgdGhlIEFQSSBhc2tzIHVzIHRvIHdhaXQgYSBjZXJ0YWluIGFtb3VudCBvZiB0aW1lIChhbmQgaXQncyBhIHJlYXNvbmFibGUgYW1vdW50KSxcbiAgICAvLyBqdXN0IGRvIHdoYXQgaXQgc2F5cy5cbiAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihyZXRyeUFmdGVyKSAmJiByZXRyeUFmdGVyIDw9IDYwKSB7XG4gICAgICByZXR1cm4gcmV0cnlBZnRlcjtcbiAgICB9XG4gICAgY29uc3QgbnVtUmV0cmllcyA9IG1heFJldHJpZXMgLSByZXRyaWVzUmVtYWluaW5nO1xuICAgIC8vIEFwcGx5IGV4cG9uZW50aWFsIGJhY2tvZmYsIGJ1dCBub3QgbW9yZSB0aGFuIHRoZSBtYXguXG4gICAgY29uc3Qgc2xlZXBTZWNvbmRzID0gTWF0aC5taW4oaW5pdGlhbFJldHJ5RGVsYXkgKiBNYXRoLnBvdyhudW1SZXRyaWVzIC0gMSwgMiksIG1heFJldHJ5RGVsYXkpO1xuICAgIC8vIEFwcGx5IHNvbWUgaml0dGVyLCBwbHVzLW9yLW1pbnVzIGhhbGYgYSBzZWNvbmQuXG4gICAgY29uc3Qgaml0dGVyID0gTWF0aC5yYW5kb20oKSAtIDAuNTtcbiAgICByZXR1cm4gc2xlZXBTZWNvbmRzICsgaml0dGVyO1xuICB9XG4gIGdldFVzZXJBZ2VudCgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfS9KUyAke1ZFUlNJT059YDtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEFQSVJlc291cmNlIHtcbiAgY29uc3RydWN0b3IoY2xpZW50KSB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgdGhpcy5nZXQgPSBjbGllbnQuZ2V0LmJpbmQoY2xpZW50KTtcbiAgICB0aGlzLnBvc3QgPSBjbGllbnQucG9zdC5iaW5kKGNsaWVudCk7XG4gICAgdGhpcy5wYXRjaCA9IGNsaWVudC5wYXRjaC5iaW5kKGNsaWVudCk7XG4gICAgdGhpcy5wdXQgPSBjbGllbnQucHV0LmJpbmQoY2xpZW50KTtcbiAgICB0aGlzLmRlbGV0ZSA9IGNsaWVudC5kZWxldGUuYmluZChjbGllbnQpO1xuICAgIHRoaXMuZ2V0QVBJTGlzdCA9IGNsaWVudC5nZXRBUElMaXN0LmJpbmQoY2xpZW50KTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEFic3RyYWN0UGFnZSB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpIHtcbiAgICBfQWJzdHJhY3RQYWdlX2NsaWVudC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9BYnN0cmFjdFBhZ2VfY2xpZW50LCBjbGllbnQsICdmJyk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgfVxuICBoYXNOZXh0UGFnZSgpIHtcbiAgICBjb25zdCBpdGVtcyA9IHRoaXMuZ2V0UGFnaW5hdGVkSXRlbXMoKTtcbiAgICBpZiAoIWl0ZW1zLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0aGlzLm5leHRQYWdlSW5mbygpICE9IG51bGw7XG4gIH1cbiAgYXN5bmMgZ2V0TmV4dFBhZ2UoKSB7XG4gICAgY29uc3QgbmV4dEluZm8gPSB0aGlzLm5leHRQYWdlSW5mbygpO1xuICAgIGlmICghbmV4dEluZm8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ05vIG5leHQgcGFnZSBleHBlY3RlZDsgcGxlYXNlIGNoZWNrIGAuaGFzTmV4dFBhZ2UoKWAgYmVmb3JlIGNhbGxpbmcgYC5nZXROZXh0UGFnZSgpYC4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgbmV4dE9wdGlvbnMgPSB7IC4uLnRoaXMub3B0aW9ucyB9O1xuICAgIGlmICgncGFyYW1zJyBpbiBuZXh0SW5mbykge1xuICAgICAgbmV4dE9wdGlvbnMucXVlcnkgPSB7IC4uLm5leHRPcHRpb25zLnF1ZXJ5LCAuLi5uZXh0SW5mby5wYXJhbXMgfTtcbiAgICB9IGVsc2UgaWYgKCd1cmwnIGluIG5leHRJbmZvKSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBbLi4uT2JqZWN0LmVudHJpZXMobmV4dE9wdGlvbnMucXVlcnkgfHwge30pLCAuLi5uZXh0SW5mby51cmwuc2VhcmNoUGFyYW1zLmVudHJpZXMoKV07XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBwYXJhbXMpIHtcbiAgICAgICAgbmV4dEluZm8udXJsLnNlYXJjaFBhcmFtcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBuZXh0T3B0aW9ucy5xdWVyeSA9IHVuZGVmaW5lZDtcbiAgICAgIG5leHRPcHRpb25zLnBhdGggPSBuZXh0SW5mby51cmwudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0UGFnZV9jbGllbnQsICdmJykucmVxdWVzdEFQSUxpc3QoXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yLFxuICAgICAgbmV4dE9wdGlvbnMsXG4gICAgKTtcbiAgfVxuICBhc3luYyAqaXRlclBhZ2VzKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgIGxldCBwYWdlID0gdGhpcztcbiAgICB5aWVsZCBwYWdlO1xuICAgIHdoaWxlIChwYWdlLmhhc05leHRQYWdlKCkpIHtcbiAgICAgIHBhZ2UgPSBhd2FpdCBwYWdlLmdldE5leHRQYWdlKCk7XG4gICAgICB5aWVsZCBwYWdlO1xuICAgIH1cbiAgfVxuICBhc3luYyAqWygoX0Fic3RyYWN0UGFnZV9jbGllbnQgPSBuZXcgV2Vha01hcCgpKSwgU3ltYm9sLmFzeW5jSXRlcmF0b3IpXSgpIHtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IHBhZ2Ugb2YgdGhpcy5pdGVyUGFnZXMoKSkge1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHBhZ2UuZ2V0UGFnaW5hdGVkSXRlbXMoKSkge1xuICAgICAgICB5aWVsZCBpdGVtO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBUaGlzIHN1YmNsYXNzIG9mIFByb21pc2Ugd2lsbCByZXNvbHZlIHRvIGFuIGluc3RhbnRpYXRlZCBQYWdlIG9uY2UgdGhlIHJlcXVlc3QgY29tcGxldGVzLlxuICpcbiAqIEl0IGFsc28gaW1wbGVtZW50cyBBc3luY0l0ZXJhYmxlIHRvIGFsbG93IGF1dG8tcGFnaW5hdGluZyBpdGVyYXRpb24gb24gYW4gdW5hd2FpdGVkIGxpc3QgY2FsbCwgZWc6XG4gKlxuICogICAgZm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIGNsaWVudC5pdGVtcy5saXN0KCkpIHtcbiAqICAgICAgY29uc29sZS5sb2coaXRlbSlcbiAqICAgIH1cbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VQcm9taXNlIGV4dGVuZHMgQVBJUHJvbWlzZSB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgcmVxdWVzdCwgUGFnZSkge1xuICAgIHN1cGVyKFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGFzeW5jIChwcm9wcykgPT4gbmV3IFBhZ2UoY2xpZW50LCBwcm9wcy5yZXNwb25zZSwgYXdhaXQgZGVmYXVsdFBhcnNlUmVzcG9uc2UocHJvcHMpLCBwcm9wcy5vcHRpb25zKSxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBBbGxvdyBhdXRvLXBhZ2luYXRpbmcgaXRlcmF0aW9uIG9uIGFuIHVuYXdhaXRlZCBsaXN0IGNhbGwsIGVnOlxuICAgKlxuICAgKiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgY2xpZW50Lml0ZW1zLmxpc3QoKSkge1xuICAgKiAgICAgIGNvbnNvbGUubG9nKGl0ZW0pXG4gICAqICAgIH1cbiAgICovXG4gIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCB0aGlzO1xuICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBwYWdlKSB7XG4gICAgICB5aWVsZCBpdGVtO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlc3BvbnNlSGVhZGVycyA9IChoZWFkZXJzKSA9PiB7XG4gIHJldHVybiBuZXcgUHJveHkoXG4gICAgT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaGVhZGVycy5lbnRyaWVzKCksXG4gICAgKSxcbiAgICB7XG4gICAgICBnZXQodGFyZ2V0LCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5hbWUudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldFtrZXkudG9Mb3dlckNhc2UoKV0gfHwgdGFyZ2V0W2tleV07XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG59O1xuLy8gVGhpcyBpcyByZXF1aXJlZCBzbyB0aGF0IHdlIGNhbiBkZXRlcm1pbmUgaWYgYSBnaXZlbiBvYmplY3QgbWF0Y2hlcyB0aGUgUmVxdWVzdE9wdGlvbnNcbi8vIHR5cGUgYXQgcnVudGltZS4gV2hpbGUgdGhpcyByZXF1aXJlcyBkdXBsaWNhdGlvbiwgaXQgaXMgZW5mb3JjZWQgYnkgdGhlIFR5cGVTY3JpcHRcbi8vIGNvbXBpbGVyIHN1Y2ggdGhhdCBhbnkgbWlzc2luZyAvIGV4dHJhbmVvdXMga2V5cyB3aWxsIGNhdXNlIGFuIGVycm9yLlxuY29uc3QgcmVxdWVzdE9wdGlvbnNLZXlzID0ge1xuICBtZXRob2Q6IHRydWUsXG4gIHBhdGg6IHRydWUsXG4gIHF1ZXJ5OiB0cnVlLFxuICBib2R5OiB0cnVlLFxuICBoZWFkZXJzOiB0cnVlLFxuICBtYXhSZXRyaWVzOiB0cnVlLFxuICBzdHJlYW06IHRydWUsXG4gIHRpbWVvdXQ6IHRydWUsXG4gIGh0dHBBZ2VudDogdHJ1ZSxcbiAgc2lnbmFsOiB0cnVlLFxuICBpZGVtcG90ZW5jeUtleTogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3QgaXNSZXF1ZXN0T3B0aW9ucyA9IChvYmopID0+IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJlxuICAgIG9iaiAhPT0gbnVsbCAmJlxuICAgICFpc0VtcHR5T2JqKG9iaikgJiZcbiAgICBPYmplY3Qua2V5cyhvYmopLmV2ZXJ5KChrKSA9PiBoYXNPd24ocmVxdWVzdE9wdGlvbnNLZXlzLCBrKSlcbiAgKTtcbn07XG5jb25zdCBnZXRQbGF0Zm9ybVByb3BlcnRpZXMgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCcgJiYgRGVuby5idWlsZCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogbm9ybWFsaXplUGxhdGZvcm0oRGVuby5idWlsZC5vcyksXG4gICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IG5vcm1hbGl6ZUFyY2goRGVuby5idWlsZC5hcmNoKSxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ2Rlbm8nLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IERlbm8udmVyc2lvbixcbiAgICB9O1xuICB9XG4gIGlmICh0eXBlb2YgRWRnZVJ1bnRpbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBgb3RoZXI6JHtFZGdlUnVudGltZX1gLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAnZWRnZScsXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogcHJvY2Vzcy52ZXJzaW9uLFxuICAgIH07XG4gIH1cbiAgLy8gQ2hlY2sgaWYgTm9kZS5qc1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyA/IHByb2Nlc3MgOiAwKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogbm9ybWFsaXplUGxhdGZvcm0ocHJvY2Vzcy5wbGF0Zm9ybSksXG4gICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IG5vcm1hbGl6ZUFyY2gocHJvY2Vzcy5hcmNoKSxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ25vZGUnLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IHByb2Nlc3MudmVyc2lvbixcbiAgICB9O1xuICB9XG4gIGNvbnN0IGJyb3dzZXJJbmZvID0gZ2V0QnJvd3NlckluZm8oKTtcbiAgaWYgKGJyb3dzZXJJbmZvKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiAndW5rbm93bicsXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6IGBicm93c2VyOiR7YnJvd3NlckluZm8uYnJvd3Nlcn1gLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IGJyb3dzZXJJbmZvLnZlcnNpb24sXG4gICAgfTtcbiAgfVxuICAvLyBUT0RPIGFkZCBzdXBwb3J0IGZvciBDbG91ZGZsYXJlIHdvcmtlcnMsIGV0Yy5cbiAgcmV0dXJuIHtcbiAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1BcmNoJzogJ3Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ3Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiAndW5rbm93bicsXG4gIH07XG59O1xuLy8gTm90ZTogbW9kaWZpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vSlMtRGV2VG9vbHMvaG9zdC1lbnZpcm9ubWVudC9ibG9iL2IxYWI3OWVjZGUzN2RiNWQ2ZTE2M2MwNTBlNTRmZTdkMjg3ZDdjOTIvc3JjL2lzb21vcnBoaWMuYnJvd3Nlci50c1xuZnVuY3Rpb24gZ2V0QnJvd3NlckluZm8oKSB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJyB8fCAhbmF2aWdhdG9yKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLy8gTk9URTogVGhlIG9yZGVyIG1hdHRlcnMgaGVyZSFcbiAgY29uc3QgYnJvd3NlclBhdHRlcm5zID0gW1xuICAgIHsga2V5OiAnZWRnZScsIHBhdHRlcm46IC9FZGdlKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdpZScsIHBhdHRlcm46IC9NU0lFKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdpZScsIHBhdHRlcm46IC9UcmlkZW50KD86LipydlxcOihcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdjaHJvbWUnLCBwYXR0ZXJuOiAvQ2hyb21lKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdmaXJlZm94JywgcGF0dGVybjogL0ZpcmVmb3goPzpcXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICB7IGtleTogJ3NhZmFyaScsIHBhdHRlcm46IC8oPzpWZXJzaW9uXFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8oPzpcXFcrTW9iaWxlXFxTKik/XFxXK1NhZmFyaS8gfSxcbiAgXTtcbiAgLy8gRmluZCB0aGUgRklSU1QgbWF0Y2hpbmcgYnJvd3NlclxuICBmb3IgKGNvbnN0IHsga2V5LCBwYXR0ZXJuIH0gb2YgYnJvd3NlclBhdHRlcm5zKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBjb25zdCBtYWpvciA9IG1hdGNoWzFdIHx8IDA7XG4gICAgICBjb25zdCBtaW5vciA9IG1hdGNoWzJdIHx8IDA7XG4gICAgICBjb25zdCBwYXRjaCA9IG1hdGNoWzNdIHx8IDA7XG4gICAgICByZXR1cm4geyBicm93c2VyOiBrZXksIHZlcnNpb246IGAke21ham9yfS4ke21pbm9yfS4ke3BhdGNofWAgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5jb25zdCBub3JtYWxpemVBcmNoID0gKGFyY2gpID0+IHtcbiAgLy8gTm9kZSBkb2NzOlxuICAvLyAtIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NhcmNoXG4gIC8vIERlbm8gZG9jczpcbiAgLy8gLSBodHRwczovL2RvYy5kZW5vLmxhbmQvZGVuby9zdGFibGUvfi9EZW5vLmJ1aWxkXG4gIGlmIChhcmNoID09PSAneDMyJykgcmV0dXJuICd4MzInO1xuICBpZiAoYXJjaCA9PT0gJ3g4Nl82NCcgfHwgYXJjaCA9PT0gJ3g2NCcpIHJldHVybiAneDY0JztcbiAgaWYgKGFyY2ggPT09ICdhcm0nKSByZXR1cm4gJ2FybSc7XG4gIGlmIChhcmNoID09PSAnYWFyY2g2NCcgfHwgYXJjaCA9PT0gJ2FybTY0JykgcmV0dXJuICdhcm02NCc7XG4gIGlmIChhcmNoKSByZXR1cm4gYG90aGVyOiR7YXJjaH1gO1xuICByZXR1cm4gJ3Vua25vd24nO1xufTtcbmNvbnN0IG5vcm1hbGl6ZVBsYXRmb3JtID0gKHBsYXRmb3JtKSA9PiB7XG4gIC8vIE5vZGUgcGxhdGZvcm1zOlxuICAvLyAtIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NwbGF0Zm9ybVxuICAvLyBEZW5vIHBsYXRmb3JtczpcbiAgLy8gLSBodHRwczovL2RvYy5kZW5vLmxhbmQvZGVuby9zdGFibGUvfi9EZW5vLmJ1aWxkXG4gIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2Rlbm9sYW5kL2Rlbm8vaXNzdWVzLzE0Nzk5XG4gIHBsYXRmb3JtID0gcGxhdGZvcm0udG9Mb3dlckNhc2UoKTtcbiAgLy8gTk9URTogdGhpcyBpT1MgY2hlY2sgaXMgdW50ZXN0ZWQgYW5kIG1heSBub3Qgd29ya1xuICAvLyBOb2RlIGRvZXMgbm90IHdvcmsgbmF0aXZlbHkgb24gSU9TLCB0aGVyZSBpcyBhIGZvcmsgYXRcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy1tb2JpbGUvbm9kZWpzLW1vYmlsZVxuICAvLyBob3dldmVyIGl0IGlzIHVua25vd24gYXQgdGhlIHRpbWUgb2Ygd3JpdGluZyBob3cgdG8gZGV0ZWN0IGlmIGl0IGlzIHJ1bm5pbmdcbiAgaWYgKHBsYXRmb3JtLmluY2x1ZGVzKCdpb3MnKSkgcmV0dXJuICdpT1MnO1xuICBpZiAocGxhdGZvcm0gPT09ICdhbmRyb2lkJykgcmV0dXJuICdBbmRyb2lkJztcbiAgaWYgKHBsYXRmb3JtID09PSAnZGFyd2luJykgcmV0dXJuICdNYWNPUyc7XG4gIGlmIChwbGF0Zm9ybSA9PT0gJ3dpbjMyJykgcmV0dXJuICdXaW5kb3dzJztcbiAgaWYgKHBsYXRmb3JtID09PSAnZnJlZWJzZCcpIHJldHVybiAnRnJlZUJTRCc7XG4gIGlmIChwbGF0Zm9ybSA9PT0gJ29wZW5ic2QnKSByZXR1cm4gJ09wZW5CU0QnO1xuICBpZiAocGxhdGZvcm0gPT09ICdsaW51eCcpIHJldHVybiAnTGludXgnO1xuICBpZiAocGxhdGZvcm0pIHJldHVybiBgT3RoZXI6JHtwbGF0Zm9ybX1gO1xuICByZXR1cm4gJ1Vua25vd24nO1xufTtcbmxldCBfcGxhdGZvcm1IZWFkZXJzO1xuY29uc3QgZ2V0UGxhdGZvcm1IZWFkZXJzID0gKCkgPT4ge1xuICByZXR1cm4gX3BsYXRmb3JtSGVhZGVycyAhPT0gbnVsbCAmJiBfcGxhdGZvcm1IZWFkZXJzICE9PSB2b2lkIDAgP1xuICAgICAgX3BsYXRmb3JtSGVhZGVyc1xuICAgIDogKF9wbGF0Zm9ybUhlYWRlcnMgPSBnZXRQbGF0Zm9ybVByb3BlcnRpZXMoKSk7XG59O1xuZXhwb3J0IGNvbnN0IHNhZmVKU09OID0gKHRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufTtcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xOTcwOTg0NlxuY29uc3Qgc3RhcnRzV2l0aFNjaGVtZVJlZ2V4cCA9IG5ldyBSZWdFeHAoJ14oPzpbYS16XSs6KT8vLycsICdpJyk7XG5jb25zdCBpc0Fic29sdXRlVVJMID0gKHVybCkgPT4ge1xuICByZXR1cm4gc3RhcnRzV2l0aFNjaGVtZVJlZ2V4cC50ZXN0KHVybCk7XG59O1xuY29uc3Qgc2xlZXAgPSAobXMpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG5jb25zdCB2YWxpZGF0ZVBvc2l0aXZlSW50ZWdlciA9IChuYW1lLCBuKSA9PiB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgIU51bWJlci5pc0ludGVnZXIobikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7bmFtZX0gbXVzdCBiZSBhbiBpbnRlZ2VyYCk7XG4gIH1cbiAgaWYgKG4gPCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGAke25hbWV9IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyYCk7XG4gIH1cbiAgcmV0dXJuIG47XG59O1xuZXhwb3J0IGNvbnN0IGNhc3RUb0Vycm9yID0gKGVycikgPT4ge1xuICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBlcnI7XG4gIHJldHVybiBuZXcgRXJyb3IoZXJyKTtcbn07XG5leHBvcnQgY29uc3QgZW5zdXJlUHJlc2VudCA9ICh2YWx1ZSkgPT4ge1xuICBpZiAodmFsdWUgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhIHZhbHVlIHRvIGJlIGdpdmVuIGJ1dCByZWNlaXZlZCAke3ZhbHVlfSBpbnN0ZWFkLmApO1xuICByZXR1cm4gdmFsdWU7XG59O1xuLyoqXG4gKiBSZWFkIGFuIGVudmlyb25tZW50IHZhcmlhYmxlLlxuICpcbiAqIFdpbGwgcmV0dXJuIHVuZGVmaW5lZCBpZiB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGUgZG9lc24ndCBleGlzdCBvciBjYW5ub3QgYmUgYWNjZXNzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCByZWFkRW52ID0gKGVudikgPT4ge1xuICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gKF9iID0gKF9hID0gcHJvY2Vzcy5lbnYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtlbnZdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID9cbiAgICAgICAgX2JcbiAgICAgIDogdW5kZWZpbmVkO1xuICB9XG4gIGlmICh0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gKF9kID0gKF9jID0gRGVuby5lbnYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5nZXQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgP1xuICAgICAgICB2b2lkIDBcbiAgICAgIDogX2QuY2FsbChfYywgZW52KTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmV4cG9ydCBjb25zdCBjb2VyY2VJbnRlZ2VyID0gKHZhbHVlKSA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSk7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgY29lcmNlICR7dmFsdWV9ICh0eXBlOiAke3R5cGVvZiB2YWx1ZX0pIGludG8gYSBudW1iZXJgKTtcbn07XG5leHBvcnQgY29uc3QgY29lcmNlRmxvYXQgPSAodmFsdWUpID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHJldHVybiB2YWx1ZTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgY29lcmNlICR7dmFsdWV9ICh0eXBlOiAke3R5cGVvZiB2YWx1ZX0pIGludG8gYSBudW1iZXJgKTtcbn07XG5leHBvcnQgY29uc3QgY29lcmNlQm9vbGVhbiA9ICh2YWx1ZSkgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHJldHVybiB2YWx1ZTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZSA9PT0gJ3RydWUnO1xuICByZXR1cm4gQm9vbGVhbih2YWx1ZSk7XG59O1xuZXhwb3J0IGNvbnN0IG1heWJlQ29lcmNlSW50ZWdlciA9ICh2YWx1ZSkgPT4ge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGNvZXJjZUludGVnZXIodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBtYXliZUNvZXJjZUZsb2F0ID0gKHZhbHVlKSA9PiB7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gY29lcmNlRmxvYXQodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBtYXliZUNvZXJjZUJvb2xlYW4gPSAodmFsdWUpID0+IHtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBjb2VyY2VCb29sZWFuKHZhbHVlKTtcbn07XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzQ0OTEyODdcbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5T2JqKG9iaikge1xuICBpZiAoIW9iaikgcmV0dXJuIHRydWU7XG4gIGZvciAoY29uc3QgX2sgaW4gb2JqKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufVxuLy8gaHR0cHM6Ly9lc2xpbnQub3JnL2RvY3MvbGF0ZXN0L3J1bGVzL25vLXByb3RvdHlwZS1idWlsdGluc1xuZXhwb3J0IGZ1bmN0aW9uIGhhc093bihvYmosIGtleSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1ZyhhY3Rpb24sIC4uLmFyZ3MpIHtcbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVudlsnREVCVUcnXSA9PT0gJ3RydWUnKSB7XG4gICAgY29uc29sZS5sb2coYE9wZW5BSTpERUJVRzoke2FjdGlvbn1gLCAuLi5hcmdzKTtcbiAgfVxufVxuLyoqXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyM1xuICovXG5jb25zdCB1dWlkNCA9ICgpID0+IHtcbiAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgKGMpID0+IHtcbiAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwO1xuICAgIGNvbnN0IHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4O1xuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGlzUnVubmluZ0luQnJvd3NlciA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCdcbiAgKTtcbn07XG5leHBvcnQgY29uc3QgaXNIZWFkZXJzUHJvdG9jb2wgPSAoaGVhZGVycykgPT4ge1xuICByZXR1cm4gdHlwZW9mIChoZWFkZXJzID09PSBudWxsIHx8IGhlYWRlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhlYWRlcnMuZ2V0KSA9PT0gJ2Z1bmN0aW9uJztcbn07XG5leHBvcnQgY29uc3QgZ2V0SGVhZGVyID0gKGhlYWRlcnMsIGtleSkgPT4ge1xuICBjb25zdCBsb3dlcktleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoaXNIZWFkZXJzUHJvdG9jb2woaGVhZGVycykpIHJldHVybiBoZWFkZXJzLmdldChrZXkpIHx8IGhlYWRlcnMuZ2V0KGxvd2VyS2V5KTtcbiAgY29uc3QgdmFsdWUgPSBoZWFkZXJzW2tleV0gfHwgaGVhZGVyc1tsb3dlcktleV07XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIGlmICh2YWx1ZS5sZW5ndGggPD0gMSkgcmV0dXJuIHZhbHVlWzBdO1xuICAgIGNvbnNvbGUud2FybihgUmVjZWl2ZWQgJHt2YWx1ZS5sZW5ndGh9IGVudHJpZXMgZm9yIHRoZSAke2tleX0gaGVhZGVyLCB1c2luZyB0aGUgZmlyc3QgZW50cnkuYCk7XG4gICAgcmV0dXJuIHZhbHVlWzBdO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn07XG4vKipcbiAqIEVuY29kZXMgYSBzdHJpbmcgdG8gQmFzZTY0IGZvcm1hdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvQmFzZTY0ID0gKHN0cikgPT4ge1xuICBpZiAoIXN0cikgcmV0dXJuICcnO1xuICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oc3RyKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBidG9hKHN0cik7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZ2VuZXJhdGUgYjY0IHN0cmluZzsgRXhwZWN0ZWQgYEJ1ZmZlcmAgb3IgYGJ0b2FgIHRvIGJlIGRlZmluZWQnKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5pbXBvcnQgeyBBYnN0cmFjdFBhZ2UgfSBmcm9tICcuL2NvcmUubWpzJztcbi8qKlxuICogTm90ZTogbm8gcGFnaW5hdGlvbiBhY3R1YWxseSBvY2N1cnMgeWV0LCB0aGlzIGlzIGZvciBmb3J3YXJkcy1jb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgUGFnZSBleHRlbmRzIEFic3RyYWN0UGFnZSB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpIHtcbiAgICBzdXBlcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKTtcbiAgICB0aGlzLm9iamVjdCA9IGJvZHkub2JqZWN0O1xuICAgIHRoaXMuZGF0YSA9IGJvZHkuZGF0YTtcbiAgfVxuICBnZXRQYWdpbmF0ZWRJdGVtcygpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhO1xuICB9XG4gIC8vIEBkZXByZWNhdGVkIFBsZWFzZSB1c2UgYG5leHRQYWdlSW5mbygpYCBpbnN0ZWFkXG4gIC8qKlxuICAgKiBUaGlzIHBhZ2UgcmVwcmVzZW50cyBhIHJlc3BvbnNlIHRoYXQgaXNuJ3QgYWN0dWFsbHkgcGFnaW5hdGVkIGF0IHRoZSBBUEkgbGV2ZWxcbiAgICogc28gdGhlcmUgd2lsbCBuZXZlciBiZSBhbnkgbmV4dCBwYWdlIHBhcmFtcy5cbiAgICovXG4gIG5leHRQYWdlUGFyYW1zKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIG5leHRQYWdlSW5mbygpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEN1cnNvclBhZ2UgZXh0ZW5kcyBBYnN0cmFjdFBhZ2Uge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgc3VwZXIoY2xpZW50LCByZXNwb25zZSwgYm9keSwgb3B0aW9ucyk7XG4gICAgdGhpcy5kYXRhID0gYm9keS5kYXRhO1xuICB9XG4gIGdldFBhZ2luYXRlZEl0ZW1zKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGE7XG4gIH1cbiAgLy8gQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBgbmV4dFBhZ2VJbmZvKClgIGluc3RlYWRcbiAgbmV4dFBhZ2VQYXJhbXMoKSB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMubmV4dFBhZ2VJbmZvKCk7XG4gICAgaWYgKCFpbmZvKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoJ3BhcmFtcycgaW4gaW5mbykgcmV0dXJuIGluZm8ucGFyYW1zO1xuICAgIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5mcm9tRW50cmllcyhpbmZvLnVybC5zZWFyY2hQYXJhbXMpO1xuICAgIGlmICghT2JqZWN0LmtleXMocGFyYW1zKS5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cbiAgbmV4dFBhZ2VJbmZvKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKCEoKF9hID0gdGhpcy5kYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG5leHQgPSAoX2IgPSB0aGlzLmRhdGFbdGhpcy5kYXRhLmxlbmd0aCAtIDFdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaWQ7XG4gICAgaWYgKCFuZXh0KSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4geyBwYXJhbXM6IHsgYWZ0ZXI6IG5leHQgfSB9O1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdpbmF0aW9uLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5leHBvcnQgY2xhc3MgQVBJUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3RvcihjbGllbnQpIHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB0aGlzLmdldCA9IGNsaWVudC5nZXQuYmluZChjbGllbnQpO1xuICAgIHRoaXMucG9zdCA9IGNsaWVudC5wb3N0LmJpbmQoY2xpZW50KTtcbiAgICB0aGlzLnBhdGNoID0gY2xpZW50LnBhdGNoLmJpbmQoY2xpZW50KTtcbiAgICB0aGlzLnB1dCA9IGNsaWVudC5wdXQuYmluZChjbGllbnQpO1xuICAgIHRoaXMuZGVsZXRlID0gY2xpZW50LmRlbGV0ZS5iaW5kKGNsaWVudCk7XG4gICAgdGhpcy5nZXRBUElMaXN0ID0gY2xpZW50LmdldEFQSUxpc3QuYmluZChjbGllbnQpO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvdXJjZS5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuaW1wb3J0IHsgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIH0gZnJvbSAnb3BlbmFpL2NvcmUnO1xuZXhwb3J0IGNsYXNzIFRyYW5zY3JpcHRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogVHJhbnNjcmliZXMgYXVkaW8gaW50byB0aGUgaW5wdXQgbGFuZ3VhZ2UuXG4gICAqL1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9hdWRpby90cmFuc2NyaXB0aW9ucycsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMgfSkpO1xuICB9XG59XG4oZnVuY3Rpb24gKFRyYW5zY3JpcHRpb25zKSB7fSkoVHJhbnNjcmlwdGlvbnMgfHwgKFRyYW5zY3JpcHRpb25zID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zY3JpcHRpb25zLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJ29wZW5haS9yZXNvdXJjZSc7XG5pbXBvcnQgeyBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMgfSBmcm9tICdvcGVuYWkvY29yZSc7XG5leHBvcnQgY2xhc3MgVHJhbnNsYXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogVHJhbnNsYXRlcyBhdWRpbyBpbnRvIEVuZ2xpc2guXG4gICAqL1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9hdWRpby90cmFuc2xhdGlvbnMnLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgfVxufVxuKGZ1bmN0aW9uIChUcmFuc2xhdGlvbnMpIHt9KShUcmFuc2xhdGlvbnMgfHwgKFRyYW5zbGF0aW9ucyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2xhdGlvbnMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmltcG9ydCB7IFRyYW5zY3JpcHRpb25zIH0gZnJvbSAnLi90cmFuc2NyaXB0aW9ucy5tanMnO1xuaW1wb3J0IHsgVHJhbnNsYXRpb25zIH0gZnJvbSAnLi90cmFuc2xhdGlvbnMubWpzJztcbmltcG9ydCAqIGFzIEFQSSBmcm9tICcuL2luZGV4Lm1qcyc7XG5leHBvcnQgY2xhc3MgQXVkaW8gZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy50cmFuc2NyaXB0aW9ucyA9IG5ldyBUcmFuc2NyaXB0aW9ucyh0aGlzLmNsaWVudCk7XG4gICAgdGhpcy50cmFuc2xhdGlvbnMgPSBuZXcgVHJhbnNsYXRpb25zKHRoaXMuY2xpZW50KTtcbiAgfVxufVxuKGZ1bmN0aW9uIChBdWRpbykge1xuICBBdWRpby5UcmFuc2NyaXB0aW9ucyA9IEFQSS5UcmFuc2NyaXB0aW9ucztcbiAgQXVkaW8uVHJhbnNsYXRpb25zID0gQVBJLlRyYW5zbGF0aW9ucztcbn0pKEF1ZGlvIHx8IChBdWRpbyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvY2hhdC9jb21wbGV0aW9ucycsIHtcbiAgICAgIGJvZHksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgc3RyZWFtOiAoX2EgPSBib2R5LnN0cmVhbSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgfSk7XG4gIH1cbn1cbihmdW5jdGlvbiAoQ29tcGxldGlvbnMpIHt9KShDb21wbGV0aW9ucyB8fCAoQ29tcGxldGlvbnMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGxldGlvbnMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmltcG9ydCB7IENvbXBsZXRpb25zIH0gZnJvbSAnLi9jb21wbGV0aW9ucy5tanMnO1xuaW1wb3J0ICogYXMgQVBJIGZyb20gJy4vaW5kZXgubWpzJztcbmV4cG9ydCBjbGFzcyBDaGF0IGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuY29tcGxldGlvbnMgPSBuZXcgQ29tcGxldGlvbnModGhpcy5jbGllbnQpO1xuICB9XG59XG4oZnVuY3Rpb24gKENoYXQpIHtcbiAgQ2hhdC5Db21wbGV0aW9ucyA9IEFQSS5Db21wbGV0aW9ucztcbn0pKENoYXQgfHwgKENoYXQgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhdC5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvY29tcGxldGlvbnMnLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHN0cmVhbTogKF9hID0gYm9keS5zdHJlYW0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgIH0pO1xuICB9XG59XG4oZnVuY3Rpb24gKENvbXBsZXRpb25zKSB7fSkoQ29tcGxldGlvbnMgfHwgKENvbXBsZXRpb25zID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBsZXRpb25zLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJ29wZW5haS9yZXNvdXJjZSc7XG5leHBvcnQgY2xhc3MgRW1iZWRkaW5ncyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZW1iZWRkaW5nIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGlucHV0IHRleHQuXG4gICAqL1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9lbWJlZGRpbmdzJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICB9XG59XG4oZnVuY3Rpb24gKEVtYmVkZGluZ3MpIHt9KShFbWJlZGRpbmdzIHx8IChFbWJlZGRpbmdzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtYmVkZGluZ3MubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmV4cG9ydCBjbGFzcyBFZGl0cyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgZWRpdCBmb3IgdGhlIHByb3ZpZGVkIGlucHV0LCBpbnN0cnVjdGlvbiwgYW5kIHBhcmFtZXRlcnMuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIFRoZSBFZGl0cyBBUEkgaXMgZGVwcmVjYXRlZDsgcGxlYXNlIHVzZSBDaGF0IENvbXBsZXRpb25zIGluc3RlYWQuXG4gICAqXG4gICAqIGh0dHBzOi8vb3BlbmFpLmNvbS9ibG9nL2dwdC00LWFwaS1nZW5lcmFsLWF2YWlsYWJpbGl0eSNkZXByZWNhdGlvbi1vZi10aGUtZWRpdHMtYXBpXG4gICAqL1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9lZGl0cycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxufVxuKGZ1bmN0aW9uIChFZGl0cykge30pKEVkaXRzIHx8IChFZGl0cyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lZGl0cy5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuaW1wb3J0IHsgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIH0gZnJvbSAnb3BlbmFpL2NvcmUnO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gJ29wZW5haS9wYWdpbmF0aW9uJztcbmV4cG9ydCBjbGFzcyBGaWxlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIFVwbG9hZCBhIGZpbGUgdGhhdCBjb250YWlucyBkb2N1bWVudChzKSB0byBiZSB1c2VkIGFjcm9zcyB2YXJpb3VzXG4gICAqIGVuZHBvaW50cy9mZWF0dXJlcy4gQ3VycmVudGx5LCB0aGUgc2l6ZSBvZiBhbGwgdGhlIGZpbGVzIHVwbG9hZGVkIGJ5IG9uZVxuICAgKiBvcmdhbml6YXRpb24gY2FuIGJlIHVwIHRvIDEgR0IuIFBsZWFzZSBjb250YWN0IHVzIGlmIHlvdSBuZWVkIHRvIGluY3JlYXNlIHRoZVxuICAgKiBzdG9yYWdlIGxpbWl0LlxuICAgKi9cbiAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvZmlsZXMnLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBhIHNwZWNpZmljIGZpbGUuXG4gICAqL1xuICByZXRyaWV2ZShmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoYC9maWxlcy8ke2ZpbGVJZH1gLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgZmlsZXMgdGhhdCBiZWxvbmcgdG8gdGhlIHVzZXIncyBvcmdhbml6YXRpb24uXG4gICAqL1xuICBsaXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBUElMaXN0KCcvZmlsZXMnLCBGaWxlT2JqZWN0c1BhZ2UsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgYSBmaWxlLlxuICAgKi9cbiAgZGVsKGZpbGVJZCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmRlbGV0ZShgL2ZpbGVzLyR7ZmlsZUlkfWAsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjb250ZW50cyBvZiB0aGUgc3BlY2lmaWVkIGZpbGVcbiAgICovXG4gIHJldHJpZXZlQ29udGVudChmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoYC9maWxlcy8ke2ZpbGVJZH0vY29udGVudGAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAuLi4ob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmhlYWRlcnMpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufVxuLyoqXG4gKiBOb3RlOiBubyBwYWdpbmF0aW9uIGFjdHVhbGx5IG9jY3VycyB5ZXQsIHRoaXMgaXMgZm9yIGZvcndhcmRzLWNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBGaWxlT2JqZWN0c1BhZ2UgZXh0ZW5kcyBQYWdlIHt9XG4oZnVuY3Rpb24gKEZpbGVzKSB7fSkoRmlsZXMgfHwgKEZpbGVzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGVzLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJ29wZW5haS9yZXNvdXJjZSc7XG5pbXBvcnQgeyBQYWdlIH0gZnJvbSAnb3BlbmFpL3BhZ2luYXRpb24nO1xuZXhwb3J0IGNsYXNzIEZpbmVUdW5lcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBqb2IgdGhhdCBmaW5lLXR1bmVzIGEgc3BlY2lmaWVkIG1vZGVsIGZyb20gYSBnaXZlbiBkYXRhc2V0LlxuICAgKlxuICAgKiBSZXNwb25zZSBpbmNsdWRlcyBkZXRhaWxzIG9mIHRoZSBlbnF1ZXVlZCBqb2IgaW5jbHVkaW5nIGpvYiBzdGF0dXMgYW5kIHRoZSBuYW1lXG4gICAqIG9mIHRoZSBmaW5lLXR1bmVkIG1vZGVscyBvbmNlIGNvbXBsZXRlLlxuICAgKlxuICAgKiBbTGVhcm4gbW9yZSBhYm91dCBmaW5lLXR1bmluZ10oL2RvY3MvZ3VpZGVzL2xlZ2FjeS1maW5lLXR1bmluZylcbiAgICovXG4gIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zdCgnL2ZpbmUtdHVuZXMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgaW5mbyBhYm91dCB0aGUgZmluZS10dW5lIGpvYi5cbiAgICpcbiAgICogW0xlYXJuIG1vcmUgYWJvdXQgZmluZS10dW5pbmddKC9kb2NzL2d1aWRlcy9sZWdhY3ktZmluZS10dW5pbmcpXG4gICAqL1xuICByZXRyaWV2ZShmaW5lVHVuZUlkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAvZmluZS10dW5lcy8ke2ZpbmVUdW5lSWR9YCwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3QgeW91ciBvcmdhbml6YXRpb24ncyBmaW5lLXR1bmluZyBqb2JzXG4gICAqL1xuICBsaXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBUElMaXN0KCcvZmluZS10dW5lcycsIEZpbmVUdW5lc1BhZ2UsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBJbW1lZGlhdGVseSBjYW5jZWwgYSBmaW5lLXR1bmUgam9iLlxuICAgKi9cbiAgY2FuY2VsKGZpbmVUdW5lSWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5wb3N0KGAvZmluZS10dW5lcy8ke2ZpbmVUdW5lSWR9L2NhbmNlbGAsIG9wdGlvbnMpO1xuICB9XG4gIGxpc3RFdmVudHMoZmluZVR1bmVJZCwgcXVlcnksIG9wdGlvbnMpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAvZmluZS10dW5lcy8ke2ZpbmVUdW5lSWR9L2V2ZW50c2AsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgdGltZW91dDogODY0MDAwMDAsXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgc3RyZWFtOlxuICAgICAgICAoX2EgPSBxdWVyeSA9PT0gbnVsbCB8fCBxdWVyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcXVlcnkuc3RyZWFtKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID9cbiAgICAgICAgICBfYVxuICAgICAgICA6IGZhbHNlLFxuICAgIH0pO1xuICB9XG59XG4vKipcbiAqIE5vdGU6IG5vIHBhZ2luYXRpb24gYWN0dWFsbHkgb2NjdXJzIHlldCwgdGhpcyBpcyBmb3IgZm9yd2FyZHMtY29tcGF0aWJpbGl0eS5cbiAqL1xuZXhwb3J0IGNsYXNzIEZpbmVUdW5lc1BhZ2UgZXh0ZW5kcyBQYWdlIHt9XG4oZnVuY3Rpb24gKEZpbmVUdW5lcykge30pKEZpbmVUdW5lcyB8fCAoRmluZVR1bmVzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbmUtdHVuZXMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tICdvcGVuYWkvY29yZSc7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSAnb3BlbmFpL3BhZ2luYXRpb24nO1xuZXhwb3J0IGNsYXNzIEpvYnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgam9iIHRoYXQgZmluZS10dW5lcyBhIHNwZWNpZmllZCBtb2RlbCBmcm9tIGEgZ2l2ZW4gZGF0YXNldC5cbiAgICpcbiAgICogUmVzcG9uc2UgaW5jbHVkZXMgZGV0YWlscyBvZiB0aGUgZW5xdWV1ZWQgam9iIGluY2x1ZGluZyBqb2Igc3RhdHVzIGFuZCB0aGUgbmFtZVxuICAgKiBvZiB0aGUgZmluZS10dW5lZCBtb2RlbHMgb25jZSBjb21wbGV0ZS5cbiAgICpcbiAgICogW0xlYXJuIG1vcmUgYWJvdXQgZmluZS10dW5pbmddKC9kb2NzL2d1aWRlcy9maW5lLXR1bmluZylcbiAgICovXG4gIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zdCgnL2ZpbmVfdHVuaW5nL2pvYnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBpbmZvIGFib3V0IGEgZmluZS10dW5pbmcgam9iLlxuICAgKlxuICAgKiBbTGVhcm4gbW9yZSBhYm91dCBmaW5lLXR1bmluZ10oL2RvY3MvZ3VpZGVzL2ZpbmUtdHVuaW5nKVxuICAgKi9cbiAgcmV0cmlldmUoZmluZVR1bmluZ0pvYklkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAvZmluZV90dW5pbmcvam9icy8ke2ZpbmVUdW5pbmdKb2JJZH1gLCBvcHRpb25zKTtcbiAgfVxuICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0QVBJTGlzdCgnL2ZpbmVfdHVuaW5nL2pvYnMnLCBGaW5lVHVuaW5nSm9ic1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEltbWVkaWF0ZWx5IGNhbmNlbCBhIGZpbmUtdHVuZSBqb2IuXG4gICAqL1xuICBjYW5jZWwoZmluZVR1bmluZ0pvYklkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zdChgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSWR9L2NhbmNlbGAsIG9wdGlvbnMpO1xuICB9XG4gIGxpc3RFdmVudHMoZmluZVR1bmluZ0pvYklkLCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0RXZlbnRzKGZpbmVUdW5pbmdKb2JJZCwge30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0QVBJTGlzdChgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSWR9L2V2ZW50c2AsIEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlLCB7XG4gICAgICBxdWVyeSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBGaW5lVHVuaW5nSm9ic1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHt9XG5leHBvcnQgY2xhc3MgRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHt9XG4oZnVuY3Rpb24gKEpvYnMpIHt9KShKb2JzIHx8IChKb2JzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpvYnMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmltcG9ydCB7IEpvYnMgfSBmcm9tICcuL2pvYnMubWpzJztcbmltcG9ydCAqIGFzIEFQSSBmcm9tICcuL2luZGV4Lm1qcyc7XG5leHBvcnQgY2xhc3MgRmluZVR1bmluZyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmpvYnMgPSBuZXcgSm9icyh0aGlzLmNsaWVudCk7XG4gIH1cbn1cbihmdW5jdGlvbiAoRmluZVR1bmluZykge1xuICBGaW5lVHVuaW5nLkpvYnMgPSBBUEkuSm9icztcbiAgRmluZVR1bmluZy5GaW5lVHVuaW5nSm9ic1BhZ2UgPSBBUEkuRmluZVR1bmluZ0pvYnNQYWdlO1xuICBGaW5lVHVuaW5nLkZpbmVUdW5pbmdKb2JFdmVudHNQYWdlID0gQVBJLkZpbmVUdW5pbmdKb2JFdmVudHNQYWdlO1xufSkoRmluZVR1bmluZyB8fCAoRmluZVR1bmluZyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maW5lLXR1bmluZy5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuaW1wb3J0IHsgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIH0gZnJvbSAnb3BlbmFpL2NvcmUnO1xuZXhwb3J0IGNsYXNzIEltYWdlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB2YXJpYXRpb24gb2YgYSBnaXZlbiBpbWFnZS5cbiAgICovXG4gIGNyZWF0ZVZhcmlhdGlvbihib2R5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zdCgnL2ltYWdlcy92YXJpYXRpb25zJywgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucyB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZWRpdGVkIG9yIGV4dGVuZGVkIGltYWdlIGdpdmVuIGFuIG9yaWdpbmFsIGltYWdlIGFuZCBhIHByb21wdC5cbiAgICovXG4gIGVkaXQoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9pbWFnZXMvZWRpdHMnLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbWFnZSBnaXZlbiBhIHByb21wdC5cbiAgICovXG4gIGdlbmVyYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvaW1hZ2VzL2dlbmVyYXRpb25zJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICB9XG59XG4oZnVuY3Rpb24gKEltYWdlcykge30pKEltYWdlcyB8fCAoSW1hZ2VzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltYWdlcy5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gJ29wZW5haS9wYWdpbmF0aW9uJztcbmV4cG9ydCBjbGFzcyBNb2RlbHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYSBtb2RlbCBpbnN0YW5jZSwgcHJvdmlkaW5nIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IHRoZSBtb2RlbCBzdWNoIGFzXG4gICAqIHRoZSBvd25lciBhbmQgcGVybWlzc2lvbmluZy5cbiAgICovXG4gIHJldHJpZXZlKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAvbW9kZWxzLyR7bW9kZWx9YCwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3RzIHRoZSBjdXJyZW50bHkgYXZhaWxhYmxlIG1vZGVscywgYW5kIHByb3ZpZGVzIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IGVhY2hcbiAgICogb25lIHN1Y2ggYXMgdGhlIG93bmVyIGFuZCBhdmFpbGFiaWxpdHkuXG4gICAqL1xuICBsaXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBUElMaXN0KCcvbW9kZWxzJywgTW9kZWxzUGFnZSwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGZpbmUtdHVuZWQgbW9kZWwuIFlvdSBtdXN0IGhhdmUgdGhlIE93bmVyIHJvbGUgaW4geW91ciBvcmdhbml6YXRpb24uXG4gICAqL1xuICBkZWwobW9kZWwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5kZWxldGUoYC9tb2RlbHMvJHttb2RlbH1gLCBvcHRpb25zKTtcbiAgfVxufVxuLyoqXG4gKiBOb3RlOiBubyBwYWdpbmF0aW9uIGFjdHVhbGx5IG9jY3VycyB5ZXQsIHRoaXMgaXMgZm9yIGZvcndhcmRzLWNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RlbHNQYWdlIGV4dGVuZHMgUGFnZSB7fVxuKGZ1bmN0aW9uIChNb2RlbHMpIHt9KShNb2RlbHMgfHwgKE1vZGVscyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2RlbHMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmV4cG9ydCBjbGFzcyBNb2RlcmF0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENsYXNzaWZpZXMgaWYgdGV4dCB2aW9sYXRlcyBPcGVuQUkncyBDb250ZW50IFBvbGljeVxuICAgKi9cbiAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvbW9kZXJhdGlvbnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbn1cbihmdW5jdGlvbiAoTW9kZXJhdGlvbnMpIHt9KShNb2RlcmF0aW9ucyB8fCAoTW9kZXJhdGlvbnMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kZXJhdGlvbnMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbnZhciBfYTtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi9jb3JlLm1qcyc7XG5pbXBvcnQgKiBhcyBQYWdpbmF0aW9uIGZyb20gJy4vcGFnaW5hdGlvbi5tanMnO1xuaW1wb3J0ICogYXMgQVBJIGZyb20gJy4vcmVzb3VyY2VzL2luZGV4Lm1qcyc7XG5pbXBvcnQgKiBhcyBFcnJvcnMgZnJvbSAnLi9lcnJvci5tanMnO1xuaW1wb3J0ICogYXMgVXBsb2FkcyBmcm9tICcuL3VwbG9hZHMubWpzJztcbi8qKiBBUEkgQ2xpZW50IGZvciBpbnRlcmZhY2luZyB3aXRoIHRoZSBPcGVuQUkgQVBJLiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5BSSBleHRlbmRzIENvcmUuQVBJQ2xpZW50IHtcbiAgLyoqXG4gICAqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIE9wZW5BSSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5hcGlLZXk9cHJvY2Vzcy5lbnZbJ09QRU5BSV9BUElfS0VZJ11dIC0gVGhlIEFQSSBLZXkgdG8gc2VuZCB0byB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuYmFzZVVSTF0gLSBPdmVycmlkZSB0aGUgZGVmYXVsdCBiYXNlIFVSTCBmb3IgdGhlIEFQSS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRpbWVvdXQ9MTAgbWludXRlc10gLSBUaGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0aGUgY2xpZW50IHdpbGwgd2FpdCBmb3IgYSByZXNwb25zZSBiZWZvcmUgdGltaW5nIG91dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmh0dHBBZ2VudF0gLSBBbiBIVFRQIGFnZW50IHVzZWQgdG8gbWFuYWdlIEhUVFAocykgY29ubmVjdGlvbnMuXG4gICAqIEBwYXJhbSB7Q29yZS5GZXRjaH0gW29wdHMuZmV0Y2hdIC0gU3BlY2lmeSBhIGN1c3RvbSBgZmV0Y2hgIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWF4UmV0cmllcz0yXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0aW1lcyB0aGUgY2xpZW50IHdpbGwgcmV0cnkgYSByZXF1ZXN0LlxuICAgKiBAcGFyYW0ge0NvcmUuSGVhZGVyc30gb3B0cy5kZWZhdWx0SGVhZGVycyAtIERlZmF1bHQgaGVhZGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge0NvcmUuRGVmYXVsdFF1ZXJ5fSBvcHRzLmRlZmF1bHRRdWVyeSAtIERlZmF1bHQgcXVlcnkgcGFyYW1ldGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmRhbmdlcm91c2x5QWxsb3dCcm93c2VyPWZhbHNlXSAtIEJ5IGRlZmF1bHQsIGNsaWVudC1zaWRlIHVzZSBvZiB0aGlzIGxpYnJhcnkgaXMgbm90IGFsbG93ZWQsIGFzIGl0IHJpc2tzIGV4cG9zaW5nIHlvdXIgc2VjcmV0IEFQSSBjcmVkZW50aWFscyB0byBhdHRhY2tlcnMuXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbH0gW29wdHMub3JnYW5pemF0aW9uXVxuICAgKi9cbiAgY29uc3RydWN0b3IoX2IpIHtcbiAgICB2YXIgX2MsIF9kO1xuICAgIHZhciB7XG4gICAgICBhcGlLZXkgPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9BUElfS0VZJyksXG4gICAgICBvcmdhbml6YXRpb24gPSAoX2MgPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9PUkdfSUQnKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogbnVsbCxcbiAgICAgIC4uLm9wdHNcbiAgICB9ID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2I7XG4gICAgaWYgKGFwaUtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIE9QRU5BSV9BUElfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG1pc3Npbmcgb3IgZW1wdHk7IGVpdGhlciBwcm92aWRlIGl0LCBvciBpbnN0YW50aWF0ZSB0aGUgT3BlbkFJIGNsaWVudCB3aXRoIGFuIGFwaUtleSBvcHRpb24sIGxpa2UgbmV3IE9wZW5BSSh7IGFwaUtleTogJ215IGFwaUtleScgfSkuXCIsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgYXBpS2V5LFxuICAgICAgb3JnYW5pemF0aW9uLFxuICAgICAgYmFzZVVSTDogYGh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjFgLFxuICAgICAgLi4ub3B0cyxcbiAgICB9O1xuICAgIGlmICghb3B0aW9ucy5kYW5nZXJvdXNseUFsbG93QnJvd3NlciAmJiBDb3JlLmlzUnVubmluZ0luQnJvd3NlcigpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgcnVubmluZyBpbiBhIGJyb3dzZXItbGlrZSBlbnZpcm9ubWVudC5cXG5cXG5UaGlzIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQsIGFzIGl0IHJpc2tzIGV4cG9zaW5nIHlvdXIgc2VjcmV0IEFQSSBjcmVkZW50aWFscyB0byBhdHRhY2tlcnMuXFxuSWYgeW91IHVuZGVyc3RhbmQgdGhlIHJpc2tzIGFuZCBoYXZlIGFwcHJvcHJpYXRlIG1pdGlnYXRpb25zIGluIHBsYWNlLFxcbnlvdSBjYW4gc2V0IHRoZSBgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXJgIG9wdGlvbiB0byBgdHJ1ZWAsIGUuZy4sXFxuXFxubmV3IE9wZW5BSSh7IGFwaUtleSwgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUgfSk7XFxuXFxuaHR0cHM6Ly9oZWxwLm9wZW5haS5jb20vZW4vYXJ0aWNsZXMvNTExMjU5NS1iZXN0LXByYWN0aWNlcy1mb3ItYXBpLWtleS1zYWZldHlcXG5cIixcbiAgICAgICk7XG4gICAgfVxuICAgIHN1cGVyKHtcbiAgICAgIGJhc2VVUkw6IG9wdGlvbnMuYmFzZVVSTCxcbiAgICAgIHRpbWVvdXQ6IChfZCA9IG9wdGlvbnMudGltZW91dCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogNjAwMDAwIC8qIDEwIG1pbnV0ZXMgKi8sXG4gICAgICBodHRwQWdlbnQ6IG9wdGlvbnMuaHR0cEFnZW50LFxuICAgICAgbWF4UmV0cmllczogb3B0aW9ucy5tYXhSZXRyaWVzLFxuICAgICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgfSk7XG4gICAgdGhpcy5jb21wbGV0aW9ucyA9IG5ldyBBUEkuQ29tcGxldGlvbnModGhpcyk7XG4gICAgdGhpcy5jaGF0ID0gbmV3IEFQSS5DaGF0KHRoaXMpO1xuICAgIHRoaXMuZWRpdHMgPSBuZXcgQVBJLkVkaXRzKHRoaXMpO1xuICAgIHRoaXMuZW1iZWRkaW5ncyA9IG5ldyBBUEkuRW1iZWRkaW5ncyh0aGlzKTtcbiAgICB0aGlzLmZpbGVzID0gbmV3IEFQSS5GaWxlcyh0aGlzKTtcbiAgICB0aGlzLmltYWdlcyA9IG5ldyBBUEkuSW1hZ2VzKHRoaXMpO1xuICAgIHRoaXMuYXVkaW8gPSBuZXcgQVBJLkF1ZGlvKHRoaXMpO1xuICAgIHRoaXMubW9kZXJhdGlvbnMgPSBuZXcgQVBJLk1vZGVyYXRpb25zKHRoaXMpO1xuICAgIHRoaXMubW9kZWxzID0gbmV3IEFQSS5Nb2RlbHModGhpcyk7XG4gICAgdGhpcy5maW5lVHVuaW5nID0gbmV3IEFQSS5GaW5lVHVuaW5nKHRoaXMpO1xuICAgIHRoaXMuZmluZVR1bmVzID0gbmV3IEFQSS5GaW5lVHVuZXModGhpcyk7XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgdGhpcy5vcmdhbml6YXRpb24gPSBvcmdhbml6YXRpb247XG4gIH1cbiAgZGVmYXVsdFF1ZXJ5KCkge1xuICAgIHJldHVybiB0aGlzLl9vcHRpb25zLmRlZmF1bHRRdWVyeTtcbiAgfVxuICBkZWZhdWx0SGVhZGVycyhvcHRzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLmRlZmF1bHRIZWFkZXJzKG9wdHMpLFxuICAgICAgJ09wZW5BSS1Pcmdhbml6YXRpb24nOiB0aGlzLm9yZ2FuaXphdGlvbixcbiAgICAgIC4uLnRoaXMuX29wdGlvbnMuZGVmYXVsdEhlYWRlcnMsXG4gICAgfTtcbiAgfVxuICBhdXRoSGVhZGVycyhvcHRzKSB7XG4gICAgcmV0dXJuIHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAgfTtcbiAgfVxufVxuX2EgPSBPcGVuQUk7XG5PcGVuQUkuT3BlbkFJID0gX2E7XG5PcGVuQUkuQVBJRXJyb3IgPSBFcnJvcnMuQVBJRXJyb3I7XG5PcGVuQUkuQVBJQ29ubmVjdGlvbkVycm9yID0gRXJyb3JzLkFQSUNvbm5lY3Rpb25FcnJvcjtcbk9wZW5BSS5BUElDb25uZWN0aW9uVGltZW91dEVycm9yID0gRXJyb3JzLkFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3I7XG5PcGVuQUkuQVBJVXNlckFib3J0RXJyb3IgPSBFcnJvcnMuQVBJVXNlckFib3J0RXJyb3I7XG5PcGVuQUkuTm90Rm91bmRFcnJvciA9IEVycm9ycy5Ob3RGb3VuZEVycm9yO1xuT3BlbkFJLkNvbmZsaWN0RXJyb3IgPSBFcnJvcnMuQ29uZmxpY3RFcnJvcjtcbk9wZW5BSS5SYXRlTGltaXRFcnJvciA9IEVycm9ycy5SYXRlTGltaXRFcnJvcjtcbk9wZW5BSS5CYWRSZXF1ZXN0RXJyb3IgPSBFcnJvcnMuQmFkUmVxdWVzdEVycm9yO1xuT3BlbkFJLkF1dGhlbnRpY2F0aW9uRXJyb3IgPSBFcnJvcnMuQXV0aGVudGljYXRpb25FcnJvcjtcbk9wZW5BSS5JbnRlcm5hbFNlcnZlckVycm9yID0gRXJyb3JzLkludGVybmFsU2VydmVyRXJyb3I7XG5PcGVuQUkuUGVybWlzc2lvbkRlbmllZEVycm9yID0gRXJyb3JzLlBlcm1pc3Npb25EZW5pZWRFcnJvcjtcbk9wZW5BSS5VbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IgPSBFcnJvcnMuVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yO1xuZXhwb3J0IGNvbnN0IHtcbiAgQVBJRXJyb3IsXG4gIEFQSUNvbm5lY3Rpb25FcnJvcixcbiAgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvcixcbiAgQVBJVXNlckFib3J0RXJyb3IsXG4gIE5vdEZvdW5kRXJyb3IsXG4gIENvbmZsaWN0RXJyb3IsXG4gIFJhdGVMaW1pdEVycm9yLFxuICBCYWRSZXF1ZXN0RXJyb3IsXG4gIEF1dGhlbnRpY2F0aW9uRXJyb3IsXG4gIEludGVybmFsU2VydmVyRXJyb3IsXG4gIFBlcm1pc3Npb25EZW5pZWRFcnJvcixcbiAgVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yLFxufSA9IEVycm9ycztcbmV4cG9ydCB2YXIgdG9GaWxlID0gVXBsb2Fkcy50b0ZpbGU7XG5leHBvcnQgdmFyIGZpbGVGcm9tUGF0aCA9IFVwbG9hZHMuZmlsZUZyb21QYXRoO1xuKGZ1bmN0aW9uIChPcGVuQUkpIHtcbiAgLy8gSGVscGVyIGZ1bmN0aW9uc1xuICBPcGVuQUkudG9GaWxlID0gVXBsb2Fkcy50b0ZpbGU7XG4gIE9wZW5BSS5maWxlRnJvbVBhdGggPSBVcGxvYWRzLmZpbGVGcm9tUGF0aDtcbiAgT3BlbkFJLlBhZ2UgPSBQYWdpbmF0aW9uLlBhZ2U7XG4gIE9wZW5BSS5DdXJzb3JQYWdlID0gUGFnaW5hdGlvbi5DdXJzb3JQYWdlO1xuICBPcGVuQUkuQ29tcGxldGlvbnMgPSBBUEkuQ29tcGxldGlvbnM7XG4gIE9wZW5BSS5DaGF0ID0gQVBJLkNoYXQ7XG4gIE9wZW5BSS5FZGl0cyA9IEFQSS5FZGl0cztcbiAgT3BlbkFJLkVtYmVkZGluZ3MgPSBBUEkuRW1iZWRkaW5ncztcbiAgT3BlbkFJLkZpbGVzID0gQVBJLkZpbGVzO1xuICBPcGVuQUkuRmlsZU9iamVjdHNQYWdlID0gQVBJLkZpbGVPYmplY3RzUGFnZTtcbiAgT3BlbkFJLkltYWdlcyA9IEFQSS5JbWFnZXM7XG4gIE9wZW5BSS5BdWRpbyA9IEFQSS5BdWRpbztcbiAgT3BlbkFJLk1vZGVyYXRpb25zID0gQVBJLk1vZGVyYXRpb25zO1xuICBPcGVuQUkuTW9kZWxzID0gQVBJLk1vZGVscztcbiAgT3BlbkFJLk1vZGVsc1BhZ2UgPSBBUEkuTW9kZWxzUGFnZTtcbiAgT3BlbkFJLkZpbmVUdW5pbmcgPSBBUEkuRmluZVR1bmluZztcbiAgT3BlbkFJLkZpbmVUdW5lcyA9IEFQSS5GaW5lVHVuZXM7XG4gIE9wZW5BSS5GaW5lVHVuZXNQYWdlID0gQVBJLkZpbmVUdW5lc1BhZ2U7XG59KShPcGVuQUkgfHwgKE9wZW5BSSA9IHt9KSk7XG5leHBvcnQgZGVmYXVsdCBPcGVuQUk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiB7XG4gIF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbmV4cG9ydCB7IF9fcHVibGljRmllbGQgfTtcbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcbmV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IGZyb21CeXRlQXJyYXlcblxudmFyIGxvb2t1cCA9IFtdXG52YXIgcmV2TG9va3VwID0gW11cbnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblxudmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV1cbiAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpXG59XG5cbi8vIFN1cHBvcnQgZGVjb2RpbmcgVVJMLXNhZmUgYmFzZTY0IHN0cmluZ3MsIGFzIE5vZGUuanMgZG9lcy5cbi8vIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0I1VSTF9hcHBsaWNhdGlvbnNcbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIGdldExlbnMgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyBUcmltIG9mZiBleHRyYSBieXRlcyBhZnRlciBwbGFjZWhvbGRlciBieXRlcyBhcmUgZm91bmRcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvaXNzdWVzLzQyXG4gIHZhciB2YWxpZExlbiA9IGI2NC5pbmRleE9mKCc9JylcbiAgaWYgKHZhbGlkTGVuID09PSAtMSkgdmFsaWRMZW4gPSBsZW5cblxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlblxuICAgID8gMFxuICAgIDogNCAtICh2YWxpZExlbiAlIDQpXG5cbiAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXVxufVxuXG4vLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aCAoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuXG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpXG5cbiAgdmFyIGN1ckJ5dGUgPSAwXG5cbiAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMFxuICAgID8gdmFsaWRMZW4gLSA0XG4gICAgOiB2YWxpZExlblxuXG4gIHZhciBpXG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfFxuICAgICAgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gMTYpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDIpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAxKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgNCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID1cbiAgICAgICgodWludDhbaV0gPDwgMTYpICYgMHhGRjAwMDApICtcbiAgICAgICgodWludDhbaSArIDFdIDw8IDgpICYgMHhGRjAwKSArXG4gICAgICAodWludDhbaSArIDJdICYgMHhGRilcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aFxuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayh1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpKSlcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDJdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl0gK1xuICAgICAgJz09J1xuICAgIClcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAxMF0gK1xuICAgICAgbG9va3VwWyh0bXAgPj4gNCkgJiAweDNGXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCAyKSAmIDB4M0ZdICtcbiAgICAgICc9J1xuICAgIClcbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuIiwiaW1wb3J0IHsgX19wdWJsaWNGaWVsZCB9IGZyb20gJy4vY2h1bmstWFhQR1pIV1ouanMnO1xuaW1wb3J0IGJhc2U2NCBmcm9tICdiYXNlNjQtanMnO1xuXG4vLyBzcmMvdXRpbHMudHNcbmZ1bmN0aW9uIG5ldmVyKF8pIHtcbn1cbmZ1bmN0aW9uIGJ5dGVQYWlyTWVyZ2UocGllY2UsIHJhbmtzKSB7XG4gIGxldCBwYXJ0cyA9IEFycmF5LmZyb20oXG4gICAgeyBsZW5ndGg6IHBpZWNlLmxlbmd0aCB9LFxuICAgIChfLCBpKSA9PiAoeyBzdGFydDogaSwgZW5kOiBpICsgMSB9KVxuICApO1xuICB3aGlsZSAocGFydHMubGVuZ3RoID4gMSkge1xuICAgIGxldCBtaW5SYW5rID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgY29uc3Qgc2xpY2UgPSBwaWVjZS5zbGljZShwYXJ0c1tpXS5zdGFydCwgcGFydHNbaSArIDFdLmVuZCk7XG4gICAgICBjb25zdCByYW5rID0gcmFua3MuZ2V0KHNsaWNlLmpvaW4oXCIsXCIpKTtcbiAgICAgIGlmIChyYW5rID09IG51bGwpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgaWYgKG1pblJhbmsgPT0gbnVsbCB8fCByYW5rIDwgbWluUmFua1swXSkge1xuICAgICAgICBtaW5SYW5rID0gW3JhbmssIGldO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWluUmFuayAhPSBudWxsKSB7XG4gICAgICBjb25zdCBpID0gbWluUmFua1sxXTtcbiAgICAgIHBhcnRzW2ldID0geyBzdGFydDogcGFydHNbaV0uc3RhcnQsIGVuZDogcGFydHNbaSArIDFdLmVuZCB9O1xuICAgICAgcGFydHMuc3BsaWNlKGkgKyAxLCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJ0cztcbn1cbmZ1bmN0aW9uIGJ5dGVQYWlyRW5jb2RlKHBpZWNlLCByYW5rcykge1xuICBpZiAocGllY2UubGVuZ3RoID09PSAxKVxuICAgIHJldHVybiBbcmFua3MuZ2V0KHBpZWNlLmpvaW4oXCIsXCIpKV07XG4gIHJldHVybiBieXRlUGFpck1lcmdlKHBpZWNlLCByYW5rcykubWFwKChwKSA9PiByYW5rcy5nZXQocGllY2Uuc2xpY2UocC5zdGFydCwgcC5lbmQpLmpvaW4oXCIsXCIpKSkuZmlsdGVyKCh4KSA9PiB4ICE9IG51bGwpO1xufVxuZnVuY3Rpb24gZXNjYXBlUmVnZXgoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xcXFxeJCorPy4oKXxbXFxde31dL2csIFwiXFxcXCQmXCIpO1xufVxudmFyIF9UaWt0b2tlbiA9IGNsYXNzIHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzcGVjaWFsVG9rZW5zO1xuICAvKiogQGludGVybmFsICovXG4gIGludmVyc2VTcGVjaWFsVG9rZW5zO1xuICAvKiogQGludGVybmFsICovXG4gIHBhdFN0cjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICB0ZXh0RW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAvKiogQGludGVybmFsICovXG4gIHRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIik7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcmFua01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgdGV4dE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0cnVjdG9yKHJhbmtzLCBleHRlbmRlZFNwZWNpYWxUb2tlbnMpIHtcbiAgICB0aGlzLnBhdFN0ciA9IHJhbmtzLnBhdF9zdHI7XG4gICAgY29uc3QgdW5jb21wcmVzc2VkID0gcmFua3MuYnBlX3JhbmtzLnNwbGl0KFwiXFxuXCIpLmZpbHRlcihCb29sZWFuKS5yZWR1Y2UoKG1lbW8sIHgpID0+IHtcbiAgICAgIGNvbnN0IFtfLCBvZmZzZXRTdHIsIC4uLnRva2Vuc10gPSB4LnNwbGl0KFwiIFwiKTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IE51bWJlci5wYXJzZUludChvZmZzZXRTdHIsIDEwKTtcbiAgICAgIHRva2Vucy5mb3JFYWNoKCh0b2tlbiwgaSkgPT4gbWVtb1t0b2tlbl0gPSBvZmZzZXQgKyBpKTtcbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH0sIHt9KTtcbiAgICBmb3IgKGNvbnN0IFt0b2tlbiwgcmFua10gb2YgT2JqZWN0LmVudHJpZXModW5jb21wcmVzc2VkKSkge1xuICAgICAgY29uc3QgYnl0ZXMgPSBiYXNlNjQudG9CeXRlQXJyYXkodG9rZW4pO1xuICAgICAgdGhpcy5yYW5rTWFwLnNldChieXRlcy5qb2luKFwiLFwiKSwgcmFuayk7XG4gICAgICB0aGlzLnRleHRNYXAuc2V0KHJhbmssIGJ5dGVzKTtcbiAgICB9XG4gICAgdGhpcy5zcGVjaWFsVG9rZW5zID0geyAuLi5yYW5rcy5zcGVjaWFsX3Rva2VucywgLi4uZXh0ZW5kZWRTcGVjaWFsVG9rZW5zIH07XG4gICAgdGhpcy5pbnZlcnNlU3BlY2lhbFRva2VucyA9IE9iamVjdC5lbnRyaWVzKHRoaXMuc3BlY2lhbFRva2VucykucmVkdWNlKChtZW1vLCBbdGV4dCwgcmFua10pID0+IHtcbiAgICAgIG1lbW9bcmFua10gPSB0aGlzLnRleHRFbmNvZGVyLmVuY29kZSh0ZXh0KTtcbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH0sIHt9KTtcbiAgfVxuICBlbmNvZGUodGV4dCwgYWxsb3dlZFNwZWNpYWwgPSBbXSwgZGlzYWxsb3dlZFNwZWNpYWwgPSBcImFsbFwiKSB7XG4gICAgY29uc3QgcmVnZXhlcyA9IG5ldyBSZWdFeHAodGhpcy5wYXRTdHIsIFwidWdcIik7XG4gICAgY29uc3Qgc3BlY2lhbFJlZ2V4ID0gX1Rpa3Rva2VuLnNwZWNpYWxUb2tlblJlZ2V4KFxuICAgICAgT2JqZWN0LmtleXModGhpcy5zcGVjaWFsVG9rZW5zKVxuICAgICk7XG4gICAgY29uc3QgcmV0ID0gW107XG4gICAgY29uc3QgYWxsb3dlZFNwZWNpYWxTZXQgPSBuZXcgU2V0KFxuICAgICAgYWxsb3dlZFNwZWNpYWwgPT09IFwiYWxsXCIgPyBPYmplY3Qua2V5cyh0aGlzLnNwZWNpYWxUb2tlbnMpIDogYWxsb3dlZFNwZWNpYWxcbiAgICApO1xuICAgIGNvbnN0IGRpc2FsbG93ZWRTcGVjaWFsU2V0ID0gbmV3IFNldChcbiAgICAgIGRpc2FsbG93ZWRTcGVjaWFsID09PSBcImFsbFwiID8gT2JqZWN0LmtleXModGhpcy5zcGVjaWFsVG9rZW5zKS5maWx0ZXIoXG4gICAgICAgICh4KSA9PiAhYWxsb3dlZFNwZWNpYWxTZXQuaGFzKHgpXG4gICAgICApIDogZGlzYWxsb3dlZFNwZWNpYWxcbiAgICApO1xuICAgIGlmIChkaXNhbGxvd2VkU3BlY2lhbFNldC5zaXplID4gMCkge1xuICAgICAgY29uc3QgZGlzYWxsb3dlZFNwZWNpYWxSZWdleCA9IF9UaWt0b2tlbi5zcGVjaWFsVG9rZW5SZWdleChbXG4gICAgICAgIC4uLmRpc2FsbG93ZWRTcGVjaWFsU2V0XG4gICAgICBdKTtcbiAgICAgIGNvbnN0IHNwZWNpYWxNYXRjaCA9IHRleHQubWF0Y2goZGlzYWxsb3dlZFNwZWNpYWxSZWdleCk7XG4gICAgICBpZiAoc3BlY2lhbE1hdGNoICE9IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBUaGUgdGV4dCBjb250YWlucyBhIHNwZWNpYWwgdG9rZW4gdGhhdCBpcyBub3QgYWxsb3dlZDogJHtzcGVjaWFsTWF0Y2hbMF19YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgbmV4dFNwZWNpYWwgPSBudWxsO1xuICAgICAgbGV0IHN0YXJ0RmluZCA9IHN0YXJ0O1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgc3BlY2lhbFJlZ2V4Lmxhc3RJbmRleCA9IHN0YXJ0RmluZDtcbiAgICAgICAgbmV4dFNwZWNpYWwgPSBzcGVjaWFsUmVnZXguZXhlYyh0ZXh0KTtcbiAgICAgICAgaWYgKG5leHRTcGVjaWFsID09IG51bGwgfHwgYWxsb3dlZFNwZWNpYWxTZXQuaGFzKG5leHRTcGVjaWFsWzBdKSlcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgc3RhcnRGaW5kID0gbmV4dFNwZWNpYWwuaW5kZXggKyAxO1xuICAgICAgfVxuICAgICAgY29uc3QgZW5kID0gbmV4dFNwZWNpYWw/LmluZGV4ID8/IHRleHQubGVuZ3RoO1xuICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiB0ZXh0LnN1YnN0cmluZyhzdGFydCwgZW5kKS5tYXRjaEFsbChyZWdleGVzKSkge1xuICAgICAgICBjb25zdCBwaWVjZSA9IHRoaXMudGV4dEVuY29kZXIuZW5jb2RlKG1hdGNoWzBdKTtcbiAgICAgICAgY29uc3QgdG9rZW4yID0gdGhpcy5yYW5rTWFwLmdldChwaWVjZS5qb2luKFwiLFwiKSk7XG4gICAgICAgIGlmICh0b2tlbjIgIT0gbnVsbCkge1xuICAgICAgICAgIHJldC5wdXNoKHRva2VuMik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0LnB1c2goLi4uYnl0ZVBhaXJFbmNvZGUocGllY2UsIHRoaXMucmFua01hcCkpO1xuICAgICAgfVxuICAgICAgaWYgKG5leHRTcGVjaWFsID09IG51bGwpXG4gICAgICAgIGJyZWFrO1xuICAgICAgbGV0IHRva2VuID0gdGhpcy5zcGVjaWFsVG9rZW5zW25leHRTcGVjaWFsWzBdXTtcbiAgICAgIHJldC5wdXNoKHRva2VuKTtcbiAgICAgIHN0YXJ0ID0gbmV4dFNwZWNpYWwuaW5kZXggKyBuZXh0U3BlY2lhbFswXS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cbiAgZGVjb2RlKHRva2Vucykge1xuICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgIGxldCBsZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCB0b2tlbnMubGVuZ3RoOyArK2kyKSB7XG4gICAgICBjb25zdCB0b2tlbiA9IHRva2Vuc1tpMl07XG4gICAgICBjb25zdCBieXRlcyA9IHRoaXMudGV4dE1hcC5nZXQodG9rZW4pID8/IHRoaXMuaW52ZXJzZVNwZWNpYWxUb2tlbnNbdG9rZW5dO1xuICAgICAgaWYgKGJ5dGVzICE9IG51bGwpIHtcbiAgICAgICAgcmVzLnB1c2goYnl0ZXMpO1xuICAgICAgICBsZW5ndGggKz0gYnl0ZXMubGVuZ3RoO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBtZXJnZWRBcnJheSA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoY29uc3QgYnl0ZXMgb2YgcmVzKSB7XG4gICAgICBtZXJnZWRBcnJheS5zZXQoYnl0ZXMsIGkpO1xuICAgICAgaSArPSBieXRlcy5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRleHREZWNvZGVyLmRlY29kZShtZXJnZWRBcnJheSk7XG4gIH1cbn07XG52YXIgVGlrdG9rZW4gPSBfVGlrdG9rZW47XG5fX3B1YmxpY0ZpZWxkKFRpa3Rva2VuLCBcInNwZWNpYWxUb2tlblJlZ2V4XCIsICh0b2tlbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBSZWdFeHAodG9rZW5zLm1hcCgoaSkgPT4gZXNjYXBlUmVnZXgoaSkpLmpvaW4oXCJ8XCIpLCBcImdcIik7XG59KTtcbmZ1bmN0aW9uIGdldEVuY29kaW5nTmFtZUZvck1vZGVsKG1vZGVsKSB7XG4gIHN3aXRjaCAobW9kZWwpIHtcbiAgICBjYXNlIFwiZ3B0MlwiOiB7XG4gICAgICByZXR1cm4gXCJncHQyXCI7XG4gICAgfVxuICAgIGNhc2UgXCJjb2RlLWN1c2htYW4tMDAxXCI6XG4gICAgY2FzZSBcImNvZGUtY3VzaG1hbi0wMDJcIjpcbiAgICBjYXNlIFwiY29kZS1kYXZpbmNpLTAwMVwiOlxuICAgIGNhc2UgXCJjb2RlLWRhdmluY2ktMDAyXCI6XG4gICAgY2FzZSBcImN1c2htYW4tY29kZXhcIjpcbiAgICBjYXNlIFwiZGF2aW5jaS1jb2RleFwiOlxuICAgIGNhc2UgXCJ0ZXh0LWRhdmluY2ktMDAyXCI6XG4gICAgY2FzZSBcInRleHQtZGF2aW5jaS0wMDNcIjoge1xuICAgICAgcmV0dXJuIFwicDUwa19iYXNlXCI7XG4gICAgfVxuICAgIGNhc2UgXCJjb2RlLWRhdmluY2ktZWRpdC0wMDFcIjpcbiAgICBjYXNlIFwidGV4dC1kYXZpbmNpLWVkaXQtMDAxXCI6IHtcbiAgICAgIHJldHVybiBcInA1MGtfZWRpdFwiO1xuICAgIH1cbiAgICBjYXNlIFwiYWRhXCI6XG4gICAgY2FzZSBcImJhYmJhZ2VcIjpcbiAgICBjYXNlIFwiY29kZS1zZWFyY2gtYWRhLWNvZGUtMDAxXCI6XG4gICAgY2FzZSBcImNvZGUtc2VhcmNoLWJhYmJhZ2UtY29kZS0wMDFcIjpcbiAgICBjYXNlIFwiY3VyaWVcIjpcbiAgICBjYXNlIFwiZGF2aW5jaVwiOlxuICAgIGNhc2UgXCJ0ZXh0LWFkYS0wMDFcIjpcbiAgICBjYXNlIFwidGV4dC1iYWJiYWdlLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LWN1cmllLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LWRhdmluY2ktMDAxXCI6XG4gICAgY2FzZSBcInRleHQtc2VhcmNoLWFkYS1kb2MtMDAxXCI6XG4gICAgY2FzZSBcInRleHQtc2VhcmNoLWJhYmJhZ2UtZG9jLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNlYXJjaC1jdXJpZS1kb2MtMDAxXCI6XG4gICAgY2FzZSBcInRleHQtc2VhcmNoLWRhdmluY2ktZG9jLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNpbWlsYXJpdHktYWRhLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNpbWlsYXJpdHktYmFiYmFnZS0wMDFcIjpcbiAgICBjYXNlIFwidGV4dC1zaW1pbGFyaXR5LWN1cmllLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNpbWlsYXJpdHktZGF2aW5jaS0wMDFcIjoge1xuICAgICAgcmV0dXJuIFwicjUwa19iYXNlXCI7XG4gICAgfVxuICAgIGNhc2UgXCJncHQtMy41LXR1cmJvLTE2ay0wNjEzXCI6XG4gICAgY2FzZSBcImdwdC0zLjUtdHVyYm8tMTZrXCI6XG4gICAgY2FzZSBcImdwdC0zLjUtdHVyYm8tMDYxM1wiOlxuICAgIGNhc2UgXCJncHQtMy41LXR1cmJvLTAzMDFcIjpcbiAgICBjYXNlIFwiZ3B0LTMuNS10dXJib1wiOlxuICAgIGNhc2UgXCJncHQtNC0zMmstMDYxM1wiOlxuICAgIGNhc2UgXCJncHQtNC0zMmstMDMxNFwiOlxuICAgIGNhc2UgXCJncHQtNC0zMmtcIjpcbiAgICBjYXNlIFwiZ3B0LTQtMDYxM1wiOlxuICAgIGNhc2UgXCJncHQtNC0wMzE0XCI6XG4gICAgY2FzZSBcImdwdC00XCI6XG4gICAgY2FzZSBcInRleHQtZW1iZWRkaW5nLWFkYS0wMDJcIjoge1xuICAgICAgcmV0dXJuIFwiY2wxMDBrX2Jhc2VcIjtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gbW9kZWxcIik7XG4gIH1cbn1cblxuZXhwb3J0IHsgVGlrdG9rZW4sIGdldEVuY29kaW5nTmFtZUZvck1vZGVsLCBuZXZlciB9O1xuIiwiaW1wb3J0IHsgVGlrdG9rZW4sIGdldEVuY29kaW5nTmFtZUZvck1vZGVsLCB9IGZyb20gXCJqcy10aWt0b2tlbi9saXRlXCI7XG5pbXBvcnQgeyBBc3luY0NhbGxlciB9IGZyb20gXCIuL2FzeW5jX2NhbGxlci5qc1wiO1xuY29uc3QgY2FjaGUgPSB7fTtcbmNvbnN0IGNhbGxlciA9IC8qICNfX1BVUkVfXyAqLyBuZXcgQXN5bmNDYWxsZXIoe30pO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEVuY29kaW5nKGVuY29kaW5nLCBvcHRpb25zKSB7XG4gICAgaWYgKCEoZW5jb2RpbmcgaW4gY2FjaGUpKSB7XG4gICAgICAgIGNhY2hlW2VuY29kaW5nXSA9IGNhbGxlclxuICAgICAgICAgICAgLmZldGNoKGBodHRwczovL3Rpa3Rva2VuLnBhZ2VzLmRldi9qcy8ke2VuY29kaW5nfS5qc29uYCwge1xuICAgICAgICAgICAgc2lnbmFsOiBvcHRpb25zPy5zaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgY2FjaGVbZW5jb2RpbmddO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVGlrdG9rZW4oYXdhaXQgY2FjaGVbZW5jb2RpbmddLCBvcHRpb25zPy5leHRlbmRlZFNwZWNpYWxUb2tlbnMpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuY29kaW5nRm9yTW9kZWwobW9kZWwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZ2V0RW5jb2RpbmcoZ2V0RW5jb2RpbmdOYW1lRm9yTW9kZWwobW9kZWwpLCBvcHRpb25zKTtcbn1cbiIsImltcG9ydCB7IGVuY29kaW5nRm9yTW9kZWwgfSBmcm9tIFwiLi4vdXRpbC90aWt0b2tlbi5qc1wiO1xuLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvanMtdGlrdG9rZW5cbmV4cG9ydCBjb25zdCBnZXRNb2RlbE5hbWVGb3JUaWt0b2tlbiA9IChtb2RlbE5hbWUpID0+IHtcbiAgICBpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtMy41LXR1cmJvLTE2a1wiKSkge1xuICAgICAgICByZXR1cm4gXCJncHQtMy41LXR1cmJvLTE2a1wiO1xuICAgIH1cbiAgICBpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtMy41LXR1cmJvLVwiKSkge1xuICAgICAgICByZXR1cm4gXCJncHQtMy41LXR1cmJvXCI7XG4gICAgfVxuICAgIGlmIChtb2RlbE5hbWUuc3RhcnRzV2l0aChcImdwdC00LTMya1wiKSkge1xuICAgICAgICByZXR1cm4gXCJncHQtNC0zMmtcIjtcbiAgICB9XG4gICAgaWYgKG1vZGVsTmFtZS5zdGFydHNXaXRoKFwiZ3B0LTQtXCIpKSB7XG4gICAgICAgIHJldHVybiBcImdwdC00XCI7XG4gICAgfVxuICAgIHJldHVybiBtb2RlbE5hbWU7XG59O1xuZXhwb3J0IGNvbnN0IGdldEVtYmVkZGluZ0NvbnRleHRTaXplID0gKG1vZGVsTmFtZSkgPT4ge1xuICAgIHN3aXRjaCAobW9kZWxOYW1lKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0LWVtYmVkZGluZy1hZGEtMDAyXCI6XG4gICAgICAgICAgICByZXR1cm4gODE5MTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAyMDQ2O1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZ2V0TW9kZWxDb250ZXh0U2l6ZSA9IChtb2RlbE5hbWUpID0+IHtcbiAgICBzd2l0Y2ggKGdldE1vZGVsTmFtZUZvclRpa3Rva2VuKG1vZGVsTmFtZSkpIHtcbiAgICAgICAgY2FzZSBcImdwdC0zLjUtdHVyYm8tMTZrXCI6XG4gICAgICAgICAgICByZXR1cm4gMTYzODQ7XG4gICAgICAgIGNhc2UgXCJncHQtMy41LXR1cmJvXCI6XG4gICAgICAgICAgICByZXR1cm4gNDA5NjtcbiAgICAgICAgY2FzZSBcImdwdC00LTMya1wiOlxuICAgICAgICAgICAgcmV0dXJuIDMyNzY4O1xuICAgICAgICBjYXNlIFwiZ3B0LTRcIjpcbiAgICAgICAgICAgIHJldHVybiA4MTkyO1xuICAgICAgICBjYXNlIFwidGV4dC1kYXZpbmNpLTAwM1wiOlxuICAgICAgICAgICAgcmV0dXJuIDQwOTc7XG4gICAgICAgIGNhc2UgXCJ0ZXh0LWN1cmllLTAwMVwiOlxuICAgICAgICAgICAgcmV0dXJuIDIwNDg7XG4gICAgICAgIGNhc2UgXCJ0ZXh0LWJhYmJhZ2UtMDAxXCI6XG4gICAgICAgICAgICByZXR1cm4gMjA0ODtcbiAgICAgICAgY2FzZSBcInRleHQtYWRhLTAwMVwiOlxuICAgICAgICAgICAgcmV0dXJuIDIwNDg7XG4gICAgICAgIGNhc2UgXCJjb2RlLWRhdmluY2ktMDAyXCI6XG4gICAgICAgICAgICByZXR1cm4gODAwMDtcbiAgICAgICAgY2FzZSBcImNvZGUtY3VzaG1hbi0wMDFcIjpcbiAgICAgICAgICAgIHJldHVybiAyMDQ4O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIDQwOTc7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVNYXhUb2tlbnMgPSBhc3luYyAoeyBwcm9tcHQsIG1vZGVsTmFtZSwgfSkgPT4ge1xuICAgIGxldCBudW1Ub2tlbnM7XG4gICAgdHJ5IHtcbiAgICAgICAgbnVtVG9rZW5zID0gKGF3YWl0IGVuY29kaW5nRm9yTW9kZWwoZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4obW9kZWxOYW1lKSkpLmVuY29kZShwcm9tcHQpLmxlbmd0aDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBjYWxjdWxhdGUgbnVtYmVyIG9mIHRva2VucywgZmFsbGluZyBiYWNrIHRvIGFwcHJveGltYXRlIGNvdW50XCIpO1xuICAgICAgICAvLyBmYWxsYmFjayB0byBhcHByb3hpbWF0ZSBjYWxjdWxhdGlvbiBpZiB0aWt0b2tlbiBpcyBub3QgYXZhaWxhYmxlXG4gICAgICAgIC8vIGVhY2ggdG9rZW4gaXMgfjQgY2hhcmFjdGVyczogaHR0cHM6Ly9oZWxwLm9wZW5haS5jb20vZW4vYXJ0aWNsZXMvNDkzNjg1Ni13aGF0LWFyZS10b2tlbnMtYW5kLWhvdy10by1jb3VudC10aGVtI1xuICAgICAgICBudW1Ub2tlbnMgPSBNYXRoLmNlaWwocHJvbXB0Lmxlbmd0aCAvIDQpO1xuICAgIH1cbiAgICBjb25zdCBtYXhUb2tlbnMgPSBnZXRNb2RlbENvbnRleHRTaXplKG1vZGVsTmFtZSk7XG4gICAgcmV0dXJuIG1heFRva2VucyAtIG51bVRva2Vucztcbn07XG4iLCJpbXBvcnQgeyBTZXJpYWxpemFibGUgfSBmcm9tIFwiLi4vbG9hZC9zZXJpYWxpemFibGUuanNcIjtcbmV4cG9ydCBjb25zdCBSVU5fS0VZID0gXCJfX3J1blwiO1xuLyoqXG4gKiBDaHVuayBvZiBhIHNpbmdsZSBnZW5lcmF0aW9uLiBVc2VkIGZvciBzdHJlYW1pbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBHZW5lcmF0aW9uQ2h1bmsge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZXh0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdlbmVyYXRpb25JbmZvXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGV4dCA9IGZpZWxkcy50ZXh0O1xuICAgICAgICB0aGlzLmdlbmVyYXRpb25JbmZvID0gZmllbGRzLmdlbmVyYXRpb25JbmZvO1xuICAgIH1cbiAgICBjb25jYXQoY2h1bmspIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmF0aW9uQ2h1bmsoe1xuICAgICAgICAgICAgdGV4dDogdGhpcy50ZXh0ICsgY2h1bmsudGV4dCxcbiAgICAgICAgICAgIGdlbmVyYXRpb25JbmZvOiB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5nZW5lcmF0aW9uSW5mbyxcbiAgICAgICAgICAgICAgICAuLi5jaHVuay5nZW5lcmF0aW9uSW5mbyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIHR5cGVzIG9mIG1lc3NhZ2VzIGluIGEgY29udmVyc2F0aW9uLiBJdCBpbmNsdWRlc1xuICogcHJvcGVydGllcyBsaWtlIGBjb250ZW50YCwgYG5hbWVgLCBhbmQgYGFkZGl0aW9uYWxfa3dhcmdzYC4gSXQgYWxzb1xuICogaW5jbHVkZXMgbWV0aG9kcyBsaWtlIGB0b0RpY3QoKWAgYW5kIGBfZ2V0VHlwZSgpYC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VNZXNzYWdlIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIFVzZSB7QGxpbmsgQmFzZU1lc3NhZ2UuY29udGVudH0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBnZXQgdGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCBcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBrd2FyZ3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgZmllbGRzID0geyBjb250ZW50OiBmaWVsZHMsIGFkZGl0aW9uYWxfa3dhcmdzOiBrd2FyZ3MgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIGFkZGl0aW9uYWxfa3dhcmdzIGlzIHBhc3NlZCBpbnRvIHN1cGVyKCkgZm9yIHNlcmlhbGl6YXRpb25cbiAgICAgICAgaWYgKCFmaWVsZHMuYWRkaXRpb25hbF9rd2FyZ3MpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgZmllbGRzLmFkZGl0aW9uYWxfa3dhcmdzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJzY2hlbWFcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgLyoqIFRoZSB0ZXh0IG9mIHRoZSBtZXNzYWdlLiAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb250ZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKiBUaGUgbmFtZSBvZiB0aGUgbWVzc2FnZSBzZW5kZXIgaW4gYSBtdWx0aS11c2VyIGNoYXQuICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqIEFkZGl0aW9uYWwga2V5d29yZCBhcmd1bWVudHMgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYWRkaXRpb25hbF9rd2FyZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gZmllbGRzLm5hbWU7XG4gICAgICAgIHRoaXMuY29udGVudCA9IGZpZWxkcy5jb250ZW50O1xuICAgICAgICB0aGlzLmFkZGl0aW9uYWxfa3dhcmdzID0gZmllbGRzLmFkZGl0aW9uYWxfa3dhcmdzO1xuICAgIH1cbiAgICB0b0RpY3QoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLl9nZXRUeXBlKCksXG4gICAgICAgICAgICBkYXRhOiB0aGlzLnRvSlNPTigpXG4gICAgICAgICAgICAgICAgLmt3YXJncyxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYSBjaHVuayBvZiBhIG1lc3NhZ2UsIHdoaWNoIGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlclxuICogbWVzc2FnZSBjaHVua3MuIEl0IGluY2x1ZGVzIGEgbWV0aG9kIGBfbWVyZ2Vfa3dhcmdzX2RpY3QoKWAgZm9yIG1lcmdpbmdcbiAqIGFkZGl0aW9uYWwga2V5d29yZCBhcmd1bWVudHMgZnJvbSBhbm90aGVyIGBCYXNlTWVzc2FnZUNodW5rYCBpbnRvIHRoaXNcbiAqIG9uZS4gSXQgYWxzbyBvdmVycmlkZXMgdGhlIGBfX2FkZF9fKClgIG1ldGhvZCB0byBzdXBwb3J0IGNvbmNhdGVuYXRpb25cbiAqIG9mIGBCYXNlTWVzc2FnZUNodW5rYCBpbnN0YW5jZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlTWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuICAgIHN0YXRpYyBfbWVyZ2VBZGRpdGlvbmFsS3dhcmdzKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IHsgLi4ubGVmdCB9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhyaWdodCkpIHtcbiAgICAgICAgICAgIGlmIChtZXJnZWRba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtZXJnZWRba2V5XSAhPT0gdHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBhZGRpdGlvbmFsX2t3YXJnc1ske2tleX1dIGFscmVhZHkgZXhpc3RzIGluIHRoZSBtZXNzYWdlIGNodW5rLCBidXQgd2l0aCBhIGRpZmZlcmVudCB0eXBlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1lcmdlZFtrZXldID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2tleV0gPSBtZXJnZWRba2V5XSArIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkobWVyZ2VkW2tleV0pICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIG1lcmdlZFtrZXldID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2tleV0gPSB0aGlzLl9tZXJnZUFkZGl0aW9uYWxLd2FyZ3MobWVyZ2VkW2tleV0sIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgYWRkaXRpb25hbF9rd2FyZ3NbJHtrZXl9XSBhbHJlYWR5IGV4aXN0cyBpbiB0aGlzIG1lc3NhZ2UgY2h1bmsuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICB9XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYSBodW1hbiBtZXNzYWdlIGluIGEgY29udmVyc2F0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgSHVtYW5NZXNzYWdlIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJIdW1hbk1lc3NhZ2VcIjtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImh1bWFuXCI7XG4gICAgfVxufVxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYSBodW1hbiBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGhcbiAqIG90aGVyIGh1bWFuIG1lc3NhZ2UgY2h1bmtzLlxuICovXG5leHBvcnQgY2xhc3MgSHVtYW5NZXNzYWdlQ2h1bmsgZXh0ZW5kcyBCYXNlTWVzc2FnZUNodW5rIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiSHVtYW5NZXNzYWdlQ2h1bmtcIjtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImh1bWFuXCI7XG4gICAgfVxuICAgIGNvbmNhdChjaHVuaykge1xuICAgICAgICByZXR1cm4gbmV3IEh1bWFuTWVzc2FnZUNodW5rKHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuY29udGVudCArIGNodW5rLmNvbnRlbnQsXG4gICAgICAgICAgICBhZGRpdGlvbmFsX2t3YXJnczogSHVtYW5NZXNzYWdlQ2h1bmsuX21lcmdlQWRkaXRpb25hbEt3YXJncyh0aGlzLmFkZGl0aW9uYWxfa3dhcmdzLCBjaHVuay5hZGRpdGlvbmFsX2t3YXJncyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhbiBBSSBtZXNzYWdlIGluIGEgY29udmVyc2F0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQUlNZXNzYWdlIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJBSU1lc3NhZ2VcIjtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImFpXCI7XG4gICAgfVxufVxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYW4gQUkgbWVzc2FnZSwgd2hpY2ggY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoXG4gKiBvdGhlciBBSSBtZXNzYWdlIGNodW5rcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFJTWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2VDaHVuayB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkFJTWVzc2FnZUNodW5rXCI7XG4gICAgfVxuICAgIF9nZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJhaVwiO1xuICAgIH1cbiAgICBjb25jYXQoY2h1bmspIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBSU1lc3NhZ2VDaHVuayh7XG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQgKyBjaHVuay5jb250ZW50LFxuICAgICAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3M6IEFJTWVzc2FnZUNodW5rLl9tZXJnZUFkZGl0aW9uYWxLd2FyZ3ModGhpcy5hZGRpdGlvbmFsX2t3YXJncywgY2h1bmsuYWRkaXRpb25hbF9rd2FyZ3MpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYSBzeXN0ZW0gbWVzc2FnZSBpbiBhIGNvbnZlcnNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFN5c3RlbU1lc3NhZ2UgZXh0ZW5kcyBCYXNlTWVzc2FnZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlN5c3RlbU1lc3NhZ2VcIjtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcInN5c3RlbVwiO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIGNodW5rIG9mIGEgc3lzdGVtIG1lc3NhZ2UsIHdoaWNoIGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aFxuICogb3RoZXIgc3lzdGVtIG1lc3NhZ2UgY2h1bmtzLlxuICovXG5leHBvcnQgY2xhc3MgU3lzdGVtTWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2VDaHVuayB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlN5c3RlbU1lc3NhZ2VDaHVua1wiO1xuICAgIH1cbiAgICBfZ2V0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwic3lzdGVtXCI7XG4gICAgfVxuICAgIGNvbmNhdChjaHVuaykge1xuICAgICAgICByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2VDaHVuayh7XG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQgKyBjaHVuay5jb250ZW50LFxuICAgICAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3M6IFN5c3RlbU1lc3NhZ2VDaHVuay5fbWVyZ2VBZGRpdGlvbmFsS3dhcmdzKHRoaXMuYWRkaXRpb25hbF9rd2FyZ3MsIGNodW5rLmFkZGl0aW9uYWxfa3dhcmdzKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogVXNlIHtAbGluayBCYXNlTWVzc2FnZX0gaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGNvbnN0IEJhc2VDaGF0TWVzc2FnZSA9IEJhc2VNZXNzYWdlO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogVXNlIHtAbGluayBIdW1hbk1lc3NhZ2V9IGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjb25zdCBIdW1hbkNoYXRNZXNzYWdlID0gSHVtYW5NZXNzYWdlO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogVXNlIHtAbGluayBBSU1lc3NhZ2V9IGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjb25zdCBBSUNoYXRNZXNzYWdlID0gQUlNZXNzYWdlO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogVXNlIHtAbGluayBTeXN0ZW1NZXNzYWdlfSBpbnN0ZWFkLlxuICovXG5leHBvcnQgY29uc3QgU3lzdGVtQ2hhdE1lc3NhZ2UgPSBTeXN0ZW1NZXNzYWdlO1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgZnVuY3Rpb24gbWVzc2FnZSBpbiBhIGNvbnZlcnNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uTWVzc2FnZSBleHRlbmRzIEJhc2VNZXNzYWdlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiRnVuY3Rpb25NZXNzYWdlXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgbmFtZSkge1xuICAgICAgICBpZiAodHlwZW9mIGZpZWxkcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICBmaWVsZHMgPSB7IGNvbnRlbnQ6IGZpZWxkcywgbmFtZTogbmFtZSB9O1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgfVxuICAgIF9nZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJmdW5jdGlvblwiO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIGNodW5rIG9mIGEgZnVuY3Rpb24gbWVzc2FnZSwgd2hpY2ggY2FuIGJlIGNvbmNhdGVuYXRlZFxuICogd2l0aCBvdGhlciBmdW5jdGlvbiBtZXNzYWdlIGNodW5rcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uTWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2VDaHVuayB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkZ1bmN0aW9uTWVzc2FnZUNodW5rXCI7XG4gICAgfVxuICAgIF9nZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJmdW5jdGlvblwiO1xuICAgIH1cbiAgICBjb25jYXQoY2h1bmspIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbk1lc3NhZ2VDaHVuayh7XG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQgKyBjaHVuay5jb250ZW50LFxuICAgICAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3M6IEZ1bmN0aW9uTWVzc2FnZUNodW5rLl9tZXJnZUFkZGl0aW9uYWxLd2FyZ3ModGhpcy5hZGRpdGlvbmFsX2t3YXJncywgY2h1bmsuYWRkaXRpb25hbF9rd2FyZ3MpLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lID8/IFwiXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIGNoYXQgbWVzc2FnZSBpbiBhIGNvbnZlcnNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIENoYXRNZXNzYWdlIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJDaGF0TWVzc2FnZVwiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMsIHJvbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbiwgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgZmllbGRzID0geyBjb250ZW50OiBmaWVsZHMsIHJvbGU6IHJvbGUgfTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyb2xlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucm9sZSA9IGZpZWxkcy5yb2xlO1xuICAgIH1cbiAgICBfZ2V0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiZ2VuZXJpY1wiO1xuICAgIH1cbiAgICBzdGF0aWMgaXNJbnN0YW5jZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwiZ2VuZXJpY1wiO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Jhc2VNZXNzYWdlKG1lc3NhZ2VMaWtlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBtZXNzYWdlTGlrZT8uX2dldFR5cGUgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZShtZXNzYWdlTGlrZSkge1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZUxpa2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIdW1hbk1lc3NhZ2UobWVzc2FnZUxpa2UpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Jhc2VNZXNzYWdlKG1lc3NhZ2VMaWtlKSkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZUxpa2U7XG4gICAgfVxuICAgIGNvbnN0IFt0eXBlLCBjb250ZW50XSA9IG1lc3NhZ2VMaWtlO1xuICAgIGlmICh0eXBlID09PSBcImh1bWFuXCIgfHwgdHlwZSA9PT0gXCJ1c2VyXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIdW1hbk1lc3NhZ2UoeyBjb250ZW50IH0pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSBcImFpXCIgfHwgdHlwZSA9PT0gXCJhc3Npc3RhbnRcIikge1xuICAgICAgICByZXR1cm4gbmV3IEFJTWVzc2FnZSh7IGNvbnRlbnQgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwic3lzdGVtXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTeXN0ZW1NZXNzYWdlKHsgY29udGVudCB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNvZXJjZSBtZXNzYWdlIGZyb20gYXJyYXk6IG9ubHkgaHVtYW4sIEFJLCBvciBzeXN0ZW0gbWVzc2FnZSBjb2VyY2lvbiBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLmApO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIGNodW5rIG9mIGEgY2hhdCBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGhcbiAqIG90aGVyIGNoYXQgbWVzc2FnZSBjaHVua3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGF0TWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2VDaHVuayB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkNoYXRNZXNzYWdlQ2h1bmtcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCByb2xlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZmllbGRzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24sIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIGZpZWxkcyA9IHsgY29udGVudDogZmllbGRzLCByb2xlOiByb2xlIH07XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicm9sZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJvbGUgPSBmaWVsZHMucm9sZTtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImdlbmVyaWNcIjtcbiAgICB9XG4gICAgY29uY2F0KGNodW5rKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdE1lc3NhZ2VDaHVuayh7XG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQgKyBjaHVuay5jb250ZW50LFxuICAgICAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3M6IENoYXRNZXNzYWdlQ2h1bmsuX21lcmdlQWRkaXRpb25hbEt3YXJncyh0aGlzLmFkZGl0aW9uYWxfa3dhcmdzLCBjaHVuay5hZGRpdGlvbmFsX2t3YXJncyksXG4gICAgICAgICAgICByb2xlOiB0aGlzLnJvbGUsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDaGF0R2VuZXJhdGlvbkNodW5rIGV4dGVuZHMgR2VuZXJhdGlvbkNodW5rIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWVzc2FnZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBmaWVsZHMubWVzc2FnZTtcbiAgICB9XG4gICAgY29uY2F0KGNodW5rKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdEdlbmVyYXRpb25DaHVuayh7XG4gICAgICAgICAgICB0ZXh0OiB0aGlzLnRleHQgKyBjaHVuay50ZXh0LFxuICAgICAgICAgICAgZ2VuZXJhdGlvbkluZm86IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmdlbmVyYXRpb25JbmZvLFxuICAgICAgICAgICAgICAgIC4uLmNodW5rLmdlbmVyYXRpb25JbmZvLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZS5jb25jYXQoY2h1bmsubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogTWFwcyBtZXNzYWdlcyBmcm9tIGFuIG9sZGVyIGZvcm1hdCAoVjEpIHRvIHRoZSBjdXJyZW50IGBTdG9yZWRNZXNzYWdlYFxuICogZm9ybWF0LiBJZiB0aGUgbWVzc2FnZSBpcyBhbHJlYWR5IGluIHRoZSBgU3RvcmVkTWVzc2FnZWAgZm9ybWF0LCBpdCBpc1xuICogcmV0dXJuZWQgYXMgaXMuIE90aGVyd2lzZSwgaXQgdHJhbnNmb3JtcyB0aGUgVjEgbWVzc2FnZSBpbnRvIGFcbiAqIGBTdG9yZWRNZXNzYWdlYC4gVGhpcyBmdW5jdGlvbiBpcyBpbXBvcnRhbnQgZm9yIG1haW50YWluaW5nXG4gKiBjb21wYXRpYmlsaXR5IHdpdGggb2xkZXIgbWVzc2FnZSBmb3JtYXRzLlxuICovXG5mdW5jdGlvbiBtYXBWMU1lc3NhZ2VUb1N0b3JlZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzIG1hcHBlciB3aGVuIHdlIGRlcHJlY2F0ZSB0aGUgb2xkIG1lc3NhZ2UgZm9ybWF0LlxuICAgIGlmIChtZXNzYWdlLmRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHYxTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB2MU1lc3NhZ2UudHlwZSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiB2MU1lc3NhZ2UudGV4dCxcbiAgICAgICAgICAgICAgICByb2xlOiB2MU1lc3NhZ2Uucm9sZSxcbiAgICAgICAgICAgICAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXBTdG9yZWRNZXNzYWdlVG9DaGF0TWVzc2FnZShtZXNzYWdlKSB7XG4gICAgY29uc3Qgc3RvcmVkTWVzc2FnZSA9IG1hcFYxTWVzc2FnZVRvU3RvcmVkTWVzc2FnZShtZXNzYWdlKTtcbiAgICBzd2l0Y2ggKHN0b3JlZE1lc3NhZ2UudHlwZSkge1xuICAgICAgICBjYXNlIFwiaHVtYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSHVtYW5NZXNzYWdlKHN0b3JlZE1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIGNhc2UgXCJhaVwiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBSU1lc3NhZ2Uoc3RvcmVkTWVzc2FnZS5kYXRhKTtcbiAgICAgICAgY2FzZSBcInN5c3RlbVwiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTeXN0ZW1NZXNzYWdlKHN0b3JlZE1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgaWYgKHN0b3JlZE1lc3NhZ2UuZGF0YS5uYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOYW1lIG11c3QgYmUgZGVmaW5lZCBmb3IgZnVuY3Rpb24gbWVzc2FnZXNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uTWVzc2FnZShzdG9yZWRNZXNzYWdlLmRhdGEpO1xuICAgICAgICBjYXNlIFwiY2hhdFwiOiB7XG4gICAgICAgICAgICBpZiAoc3RvcmVkTWVzc2FnZS5kYXRhLnJvbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJvbGUgbXVzdCBiZSBkZWZpbmVkIGZvciBjaGF0IG1lc3NhZ2VzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGF0TWVzc2FnZShzdG9yZWRNZXNzYWdlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEdvdCB1bmV4cGVjdGVkIHR5cGU6ICR7c3RvcmVkTWVzc2FnZS50eXBlfWApO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBQcm9tcHRWYWx1ZSBjbGFzcy4gQWxsIHByb21wdCB2YWx1ZXMgc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZVByb21wdFZhbHVlIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIGNoYXQgbWVzc2FnZSBoaXN0b3JpZXMuIEFsbCBjaGF0IG1lc3NhZ2UgaGlzdG9yaWVzXG4gKiBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlQ2hhdE1lc3NhZ2VIaXN0b3J5IGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIGxpc3QgY2hhdCBtZXNzYWdlIGhpc3Rvcmllcy4gQWxsIGxpc3QgY2hhdCBtZXNzYWdlXG4gKiBoaXN0b3JpZXMgc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZUxpc3RDaGF0TWVzc2FnZUhpc3RvcnkgZXh0ZW5kcyBTZXJpYWxpemFibGUge1xuICAgIGFkZFVzZXJNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTWVzc2FnZShuZXcgSHVtYW5NZXNzYWdlKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgYWRkQUlDaGF0TWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE1lc3NhZ2UobmV3IEFJTWVzc2FnZShtZXNzYWdlKSk7XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgY2FjaGVzLiBBbGwgY2FjaGVzIHNob3VsZCBleHRlbmQgdGhpcyBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VDYWNoZSB7XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGFsbCBmaWxlIHN0b3Jlcy4gQWxsIGZpbGUgc3RvcmVzIHNob3VsZCBleHRlbmQgdGhpc1xuICogY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlRmlsZVN0b3JlIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIGVudGl0eSBzdG9yZXMuIEFsbCBlbnRpdHkgc3RvcmVzIHNob3VsZCBleHRlbmQgdGhpc1xuICogY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlRW50aXR5U3RvcmUgZXh0ZW5kcyBTZXJpYWxpemFibGUge1xufVxuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyBmb3IgYSBkb2N1bWVudCBzdG9yZS4gQWxsIGRvY3VtZW50IHN0b3JlcyBzaG91bGQgZXh0ZW5kXG4gKiB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgRG9jc3RvcmUge1xufVxuIiwiLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGdlbmVyYXRlcyBhbiBlbmRwb2ludCBVUkwgZm9yIChBenVyZSkgT3BlbkFJXG4gKiBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHByb3ZpZGVkLlxuICpcbiAqIEBwYXJhbSB7T3BlbkFJRW5kcG9pbnRDb25maWd9IGNvbmZpZyAtIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBmb3IgdGhlIChBenVyZSkgZW5kcG9pbnQuXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvbmZpZy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lIC0gVGhlIGRlcGxveW1lbnQgbmFtZSBvZiBBenVyZSBPcGVuQUkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lIC0gVGhlIGluc3RhbmNlIG5hbWUgb2YgQXp1cmUgT3BlbkFJLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvbmZpZy5henVyZU9wZW5BSUFwaUtleSAtIFRoZSBBUEkgS2V5IGZvciBBenVyZSBPcGVuQUkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmF6dXJlT3BlbkFJQmFzZVBhdGggLSBUaGUgYmFzZSBwYXRoIGZvciBBenVyZSBPcGVuQUkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmJhc2VVUkwgLSBTb21lIG90aGVyIGN1c3RvbSBiYXNlIHBhdGggVVJMLlxuICpcbiAqIFRoZSBmdW5jdGlvbiBvcGVyYXRlcyBhcyBmb2xsb3dzOlxuICogLSBJZiBib3RoIGBhenVyZU9wZW5BSUJhc2VQYXRoYCBhbmQgYGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVgIChwbHVzIGBhenVyZU9wZW5BSUFwaUtleWApIGFyZSBwcm92aWRlZCwgaXQgcmV0dXJucyBhbiBVUkwgY29tYmluaW5nIHRoZXNlIHR3byBwYXJhbWV0ZXJzIChgJHthenVyZU9wZW5BSUJhc2VQYXRofS8ke2F6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWV9YCkuXG4gKiAtIElmIGBhenVyZU9wZW5BSUFwaUtleWAgaXMgcHJvdmlkZWQsIGl0IGNoZWNrcyBmb3IgYGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lYCBhbmQgYGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVgIGFuZCB0aHJvd3MgYW4gZXJyb3IgaWYgYW55IG9mIHRoZXNlIGlzIG1pc3NpbmcuIElmIGJvdGggYXJlIHByb3ZpZGVkLCBpdCBnZW5lcmF0ZXMgYW4gVVJMIGluY29ycG9yYXRpbmcgdGhlc2UgcGFyYW1ldGVycy5cbiAqIC0gSWYgbm9uZSBvZiB0aGUgYWJvdmUgY29uZGl0aW9ucyBhcmUgbWV0LCByZXR1cm4gYW55IGN1c3RvbSBgYmFzZVVSTGAuXG4gKiAtIFRoZSBmdW5jdGlvbiByZXR1cm5zIHRoZSBnZW5lcmF0ZWQgVVJMIGFzIGEgc3RyaW5nLCBvciB1bmRlZmluZWQgaWYgbm8gY3VzdG9tIHBhdGhzIGFyZSBzcGVjaWZpZWQuXG4gKlxuICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBuZWNlc3NhcnkgcGFyYW1ldGVycyBmb3IgZ2VuZXJhdGluZyB0aGUgVVJMIGFyZSBtaXNzaW5nLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmcgfCB1bmRlZmluZWR9IFRoZSBnZW5lcmF0ZWQgKEF6dXJlKSBPcGVuQUkgZW5kcG9pbnQgVVJMLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5kcG9pbnQoY29uZmlnKSB7XG4gICAgY29uc3QgeyBhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lLCBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSwgYXp1cmVPcGVuQUlBcGlLZXksIGF6dXJlT3BlbkFJQmFzZVBhdGgsIGJhc2VVUkwsIH0gPSBjb25maWc7XG4gICAgaWYgKGF6dXJlT3BlbkFJQXBpS2V5ICYmXG4gICAgICAgIGF6dXJlT3BlbkFJQmFzZVBhdGggJiZcbiAgICAgICAgYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkge1xuICAgICAgICByZXR1cm4gYCR7YXp1cmVPcGVuQUlCYXNlUGF0aH0vJHthenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lfWA7XG4gICAgfVxuICAgIGlmIChhenVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICBpZiAoIWF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSBpcyByZXF1aXJlZCB3aGVuIHVzaW5nIGF6dXJlT3BlbkFJQXBpS2V5XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSBpcyBhIHJlcXVpcmVkIHBhcmFtZXRlciB3aGVuIHVzaW5nIGF6dXJlT3BlbkFJQXBpS2V5XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgaHR0cHM6Ly8ke2F6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lfS5vcGVuYWkuYXp1cmUuY29tL29wZW5haS9kZXBsb3ltZW50cy8ke2F6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWV9YDtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2VVUkw7XG59XG4iLCJleHBvcnQgY29uc3QgY2h1bmtBcnJheSA9IChhcnIsIGNodW5rU2l6ZSkgPT4gYXJyLnJlZHVjZSgoY2h1bmtzLCBlbGVtLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGNodW5rSW5kZXggPSBNYXRoLmZsb29yKGluZGV4IC8gY2h1bmtTaXplKTtcbiAgICBjb25zdCBjaHVuayA9IGNodW5rc1tjaHVua0luZGV4XSB8fCBbXTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBjaHVua3NbY2h1bmtJbmRleF0gPSBjaHVuay5jb25jYXQoW2VsZW1dKTtcbiAgICByZXR1cm4gY2h1bmtzO1xufSwgW10pO1xuIiwiLy8gRGVmYXVsdCBnZW5lcmljIFwiYW55XCIgdmFsdWVzIGFyZSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4vLyBSZXBsYWNlIHdpdGggXCJzdHJpbmdcIiB3aGVuIHdlIGFyZSBjb21mb3J0YWJsZSB3aXRoIGEgYnJlYWtpbmcgY2hhbmdlLlxuaW1wb3J0IHsgQmFzZVByb21wdFZhbHVlLCBIdW1hbk1lc3NhZ2UsIH0gZnJvbSBcIi4uL3NjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgU2VyaWFsaXphYmxlIH0gZnJvbSBcIi4uL2xvYWQvc2VyaWFsaXphYmxlLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuLi9zY2hlbWEvcnVubmFibGUvaW5kZXguanNcIjtcbi8qKlxuICogUmVwcmVzZW50cyBhIHByb21wdCB2YWx1ZSBhcyBhIHN0cmluZy4gSXQgZXh0ZW5kcyB0aGUgQmFzZVByb21wdFZhbHVlXG4gKiBjbGFzcyBhbmQgb3ZlcnJpZGVzIHRoZSB0b1N0cmluZyBhbmQgdG9DaGF0TWVzc2FnZXMgbWV0aG9kcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmluZ1Byb21wdFZhbHVlIGV4dGVuZHMgQmFzZVByb21wdFZhbHVlIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInByb21wdHNcIiwgXCJiYXNlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2YWx1ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgdG9DaGF0TWVzc2FnZXMoKSB7XG4gICAgICAgIHJldHVybiBbbmV3IEh1bWFuTWVzc2FnZSh0aGlzLnZhbHVlKV07XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBwcm9tcHQgdGVtcGxhdGVzLiBFeHBvc2VzIGEgZm9ybWF0IG1ldGhvZCB0aGF0IHJldHVybnMgYVxuICogc3RyaW5nIHByb21wdCBnaXZlbiBhIHNldCBvZiBpbnB1dCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlUHJvbXB0VGVtcGxhdGUgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgZ2V0IGxjX2F0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXJ0aWFsVmFyaWFibGVzOiB1bmRlZmluZWQsIC8vIHB5dGhvbiBkb2Vzbid0IHN1cHBvcnQgdGhpcyB5ZXRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoaW5wdXQpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwicHJvbXB0c1wiLCB0aGlzLl9nZXRQcm9tcHRUeXBlKCldXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dFZhcmlhYmxlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvdXRwdXRQYXJzZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGFydGlhbFZhcmlhYmxlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB7IGlucHV0VmFyaWFibGVzIH0gPSBpbnB1dDtcbiAgICAgICAgaWYgKGlucHV0VmFyaWFibGVzLmluY2x1ZGVzKFwic3RvcFwiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGhhdmUgYW4gaW5wdXQgdmFyaWFibGUgbmFtZWQgJ3N0b3AnLCBhcyBpdCBpcyB1c2VkIGludGVybmFsbHksIHBsZWFzZSByZW5hbWUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgaW5wdXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgcGFydGlhbCB2YXJpYWJsZXMgYW5kIHVzZXIgdmFyaWFibGVzLlxuICAgICAqIEBwYXJhbSB1c2VyVmFyaWFibGVzIFRoZSB1c2VyIHZhcmlhYmxlcyB0byBtZXJnZSB3aXRoIHRoZSBwYXJ0aWFsIHZhcmlhYmxlcy5cbiAgICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgbWVyZ2VkIHZhcmlhYmxlcy5cbiAgICAgKi9cbiAgICBhc3luYyBtZXJnZVBhcnRpYWxBbmRVc2VyVmFyaWFibGVzKHVzZXJWYXJpYWJsZXMpIHtcbiAgICAgICAgY29uc3QgcGFydGlhbFZhcmlhYmxlcyA9IHRoaXMucGFydGlhbFZhcmlhYmxlcyA/PyB7fTtcbiAgICAgICAgY29uc3QgcGFydGlhbFZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJ0aWFsVmFyaWFibGVzKSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxWYWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbFZhbHVlc1trZXldID0gYXdhaXQgdmFsdWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbGxLd2FyZ3MgPSB7XG4gICAgICAgICAgICAuLi5wYXJ0aWFsVmFsdWVzLFxuICAgICAgICAgICAgLi4udXNlclZhcmlhYmxlcyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGFsbEt3YXJncztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgcHJvbXB0IHRlbXBsYXRlIHdpdGggdGhlIGdpdmVuIGlucHV0IGFuZCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdG8gaW52b2tlIHRoZSBwcm9tcHQgdGVtcGxhdGUgd2l0aC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgY2FsbGJhY2suXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCBvZiB0aGUgcHJvbXB0IHRlbXBsYXRlLlxuICAgICAqL1xuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoKGlucHV0KSA9PiB0aGlzLmZvcm1hdFByb21wdFZhbHVlKGlucHV0KSwgaW5wdXQsIHsgLi4ub3B0aW9ucywgcnVuVHlwZTogXCJwcm9tcHRcIiB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEganNvbi1saWtlIG9iamVjdCByZXByZXNlbnRpbmcgdGhpcyBwcm9tcHQgdGVtcGxhdGUuXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZSAudG9KU09OKCkgaW5zdGVhZFwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBMb2FkIGEgcHJvbXB0IHRlbXBsYXRlIGZyb20gYSBqc29uLWxpa2Ugb2JqZWN0IGRlc2NyaWJpbmcgaXQuXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIERlc2VyaWFsaXppbmcgbmVlZHMgdG8gYmUgYXN5bmMgYmVjYXVzZSB0ZW1wbGF0ZXMgKGUuZy4ge0BsaW5rIEZld1Nob3RQcm9tcHRUZW1wbGF0ZX0pIGNhblxuICAgICAqIHJlZmVyZW5jZSByZW1vdGUgcmVzb3VyY2VzIHRoYXQgd2UgcmVhZCBhc3luY2hyb25vdXNseSB3aXRoIGEgd2ViXG4gICAgICogcmVxdWVzdC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBzd2l0Y2ggKGRhdGEuX3R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwcm9tcHRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgUHJvbXB0VGVtcGxhdGUgfSA9IGF3YWl0IGltcG9ydChcIi4vcHJvbXB0LmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9tcHRUZW1wbGF0ZS5kZXNlcmlhbGl6ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBQcm9tcHRUZW1wbGF0ZSB9ID0gYXdhaXQgaW1wb3J0KFwiLi9wcm9tcHQuanNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21wdFRlbXBsYXRlLmRlc2VyaWFsaXplKHsgLi4uZGF0YSwgX3R5cGU6IFwicHJvbXB0XCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiZmV3X3Nob3RcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgRmV3U2hvdFByb21wdFRlbXBsYXRlIH0gPSBhd2FpdCBpbXBvcnQoXCIuL2Zld19zaG90LmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBGZXdTaG90UHJvbXB0VGVtcGxhdGUuZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwcm9tcHQgdHlwZSBpbiBjb25maWc6ICR7ZGF0YS5fdHlwZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3Igc3RyaW5nIHByb21wdCB0ZW1wbGF0ZXMuIEl0IGV4dGVuZHMgdGhlXG4gKiBCYXNlUHJvbXB0VGVtcGxhdGUgY2xhc3MgYW5kIG92ZXJyaWRlcyB0aGUgZm9ybWF0UHJvbXB0VmFsdWUgbWV0aG9kIHRvXG4gKiByZXR1cm4gYSBTdHJpbmdQcm9tcHRWYWx1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VQcm9tcHRUZW1wbGF0ZSB7XG4gICAgLyoqXG4gICAgICogRm9ybWF0cyB0aGUgcHJvbXB0IGdpdmVuIHRoZSBpbnB1dCB2YWx1ZXMgYW5kIHJldHVybnMgYSBmb3JtYXR0ZWRcbiAgICAgKiBwcm9tcHQgdmFsdWUuXG4gICAgICogQHBhcmFtIHZhbHVlcyBUaGUgaW5wdXQgdmFsdWVzIHRvIGZvcm1hdCB0aGUgcHJvbXB0LlxuICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgZm9ybWF0dGVkIHByb21wdCB2YWx1ZS5cbiAgICAgKi9cbiAgICBhc3luYyBmb3JtYXRQcm9tcHRWYWx1ZSh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkUHJvbXB0ID0gYXdhaXQgdGhpcy5mb3JtYXQodmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTdHJpbmdQcm9tcHRWYWx1ZShmb3JtYXR0ZWRQcm9tcHQpO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgZXhhbXBsZSBzZWxlY3RvcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlRXhhbXBsZVNlbGVjdG9yIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJwcm9tcHRzXCIsIFwic2VsZWN0b3JzXCJdXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBwYXJzZUZTdHJpbmcgPSAodGVtcGxhdGUpID0+IHtcbiAgICAvLyBDb3JlIGxvZ2ljIHJlcGxpY2F0ZWQgZnJvbSBpbnRlcm5hbHMgb2YgcHl0aG9ucyBidWlsdCBpbiBGb3JtYXR0ZXIgY2xhc3MuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3B5dGhvbi9jcHl0aG9uL2Jsb2IvMTM1ZWM3Y2VmYmFmZmQ1MTZiNzczNjJhZDJiMmFkMTAyNWFmNDYyZS9PYmplY3RzL3N0cmluZ2xpYi91bmljb2RlX2Zvcm1hdC5oI0w3MDAtTDcwNlxuICAgIGNvbnN0IGNoYXJzID0gdGVtcGxhdGUuc3BsaXQoXCJcIik7XG4gICAgY29uc3Qgbm9kZXMgPSBbXTtcbiAgICBjb25zdCBuZXh0QnJhY2tldCA9IChicmFja2V0LCBzdGFydCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGFycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKGJyYWNrZXQuaW5jbHVkZXMoY2hhcnNbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgY2hhcnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChjaGFyc1tpXSA9PT0gXCJ7XCIgJiYgaSArIDEgPCBjaGFycy5sZW5ndGggJiYgY2hhcnNbaSArIDFdID09PSBcIntcIikge1xuICAgICAgICAgICAgbm9kZXMucHVzaCh7IHR5cGU6IFwibGl0ZXJhbFwiLCB0ZXh0OiBcIntcIiB9KTtcbiAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFyc1tpXSA9PT0gXCJ9XCIgJiZcbiAgICAgICAgICAgIGkgKyAxIDwgY2hhcnMubGVuZ3RoICYmXG4gICAgICAgICAgICBjaGFyc1tpICsgMV0gPT09IFwifVwiKSB7XG4gICAgICAgICAgICBub2Rlcy5wdXNoKHsgdHlwZTogXCJsaXRlcmFsXCIsIHRleHQ6IFwifVwiIH0pO1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoYXJzW2ldID09PSBcIntcIikge1xuICAgICAgICAgICAgY29uc3QgaiA9IG5leHRCcmFja2V0KFwifVwiLCBpKTtcbiAgICAgICAgICAgIGlmIChqIDwgMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuY2xvc2VkICd7JyBpbiB0ZW1wbGF0ZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2Rlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInZhcmlhYmxlXCIsXG4gICAgICAgICAgICAgICAgbmFtZTogY2hhcnMuc2xpY2UoaSArIDEsIGopLmpvaW4oXCJcIiksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGkgPSBqICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFyc1tpXSA9PT0gXCJ9XCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNpbmdsZSAnfScgaW4gdGVtcGxhdGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5leHRCcmFja2V0KFwie31cIiwgaSk7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gKG5leHQgPCAwID8gY2hhcnMuc2xpY2UoaSkgOiBjaGFycy5zbGljZShpLCBuZXh0KSkuam9pbihcIlwiKTtcbiAgICAgICAgICAgIG5vZGVzLnB1c2goeyB0eXBlOiBcImxpdGVyYWxcIiwgdGV4dCB9KTtcbiAgICAgICAgICAgIGkgPSBuZXh0IDwgMCA/IGNoYXJzLmxlbmd0aCA6IG5leHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVzO1xufTtcbmV4cG9ydCBjb25zdCBpbnRlcnBvbGF0ZUZTdHJpbmcgPSAodGVtcGxhdGUsIHZhbHVlcykgPT4gcGFyc2VGU3RyaW5nKHRlbXBsYXRlKS5yZWR1Y2UoKHJlcywgbm9kZSkgPT4ge1xuICAgIGlmIChub2RlLnR5cGUgPT09IFwidmFyaWFibGVcIikge1xuICAgICAgICBpZiAobm9kZS5uYW1lIGluIHZhbHVlcykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcyArIHZhbHVlc1tub2RlLm5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyB2YWx1ZSBmb3IgaW5wdXQgJHtub2RlLm5hbWV9YCk7XG4gICAgfVxuICAgIHJldHVybiByZXMgKyBub2RlLnRleHQ7XG59LCBcIlwiKTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HID0ge1xuICAgIFwiZi1zdHJpbmdcIjogaW50ZXJwb2xhdGVGU3RyaW5nLFxufTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1BBUlNFUl9NQVBQSU5HID0ge1xuICAgIFwiZi1zdHJpbmdcIjogcGFyc2VGU3RyaW5nLFxufTtcbmV4cG9ydCBjb25zdCByZW5kZXJUZW1wbGF0ZSA9ICh0ZW1wbGF0ZSwgdGVtcGxhdGVGb3JtYXQsIGlucHV0VmFsdWVzKSA9PiBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HW3RlbXBsYXRlRm9ybWF0XSh0ZW1wbGF0ZSwgaW5wdXRWYWx1ZXMpO1xuZXhwb3J0IGNvbnN0IHBhcnNlVGVtcGxhdGUgPSAodGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0KSA9PiBERUZBVUxUX1BBUlNFUl9NQVBQSU5HW3RlbXBsYXRlRm9ybWF0XSh0ZW1wbGF0ZSk7XG5leHBvcnQgY29uc3QgY2hlY2tWYWxpZFRlbXBsYXRlID0gKHRlbXBsYXRlLCB0ZW1wbGF0ZUZvcm1hdCwgaW5wdXRWYXJpYWJsZXMpID0+IHtcbiAgICBpZiAoISh0ZW1wbGF0ZUZvcm1hdCBpbiBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HKSkge1xuICAgICAgICBjb25zdCB2YWxpZEZvcm1hdHMgPSBPYmplY3Qua2V5cyhERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRlbXBsYXRlIGZvcm1hdC4gR290IFxcYCR7dGVtcGxhdGVGb3JtYXR9XFxgO1xuICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZCBiZSBvbmUgb2YgJHt2YWxpZEZvcm1hdHN9YCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGR1bW15SW5wdXRzID0gaW5wdXRWYXJpYWJsZXMucmVkdWNlKChhY2MsIHYpID0+IHtcbiAgICAgICAgICAgIGFjY1t2XSA9IFwiZm9vXCI7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHJlbmRlclRlbXBsYXRlKHRlbXBsYXRlLCB0ZW1wbGF0ZUZvcm1hdCwgZHVtbXlJbnB1dHMpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcHJvbXB0IHNjaGVtYTogJHtlLm1lc3NhZ2V9YCk7XG4gICAgfVxufTtcbiIsIi8vIERlZmF1bHQgZ2VuZXJpYyBcImFueVwiIHZhbHVlcyBhcmUgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuLy8gUmVwbGFjZSB3aXRoIFwic3RyaW5nXCIgd2hlbiB3ZSBhcmUgY29tZm9ydGFibGUgd2l0aCBhIGJyZWFraW5nIGNoYW5nZS5cbmltcG9ydCB7IEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSwgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBjaGVja1ZhbGlkVGVtcGxhdGUsIHBhcnNlVGVtcGxhdGUsIHJlbmRlclRlbXBsYXRlLCB9IGZyb20gXCIuL3RlbXBsYXRlLmpzXCI7XG4vKipcbiAqIFNjaGVtYSB0byByZXByZXNlbnQgYSBiYXNpYyBwcm9tcHQgZm9yIGFuIExMTS5cbiAqIEBhdWdtZW50cyBCYXNlUHJvbXB0VGVtcGxhdGVcbiAqIEBhdWdtZW50cyBQcm9tcHRUZW1wbGF0ZUlucHV0XG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCJsYW5nY2hhaW4vcHJvbXB0c1wiO1xuICpcbiAqIGNvbnN0IHByb21wdCA9IG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gKiAgIGlucHV0VmFyaWFibGVzOiBbXCJmb29cIl0sXG4gKiAgIHRlbXBsYXRlOiBcIlNheSB7Zm9vfVwiLFxuICogfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFByb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUHJvbXB0VGVtcGxhdGVcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoaW5wdXQpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZW1wbGF0ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZW1wbGF0ZUZvcm1hdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJmLXN0cmluZ1wiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2YWxpZGF0ZVRlbXBsYXRlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGlucHV0KTtcbiAgICAgICAgaWYgKHRoaXMudmFsaWRhdGVUZW1wbGF0ZSkge1xuICAgICAgICAgICAgbGV0IHRvdGFsSW5wdXRWYXJpYWJsZXMgPSB0aGlzLmlucHV0VmFyaWFibGVzO1xuICAgICAgICAgICAgaWYgKHRoaXMucGFydGlhbFZhcmlhYmxlcykge1xuICAgICAgICAgICAgICAgIHRvdGFsSW5wdXRWYXJpYWJsZXMgPSB0b3RhbElucHV0VmFyaWFibGVzLmNvbmNhdChPYmplY3Qua2V5cyh0aGlzLnBhcnRpYWxWYXJpYWJsZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoZWNrVmFsaWRUZW1wbGF0ZSh0aGlzLnRlbXBsYXRlLCB0aGlzLnRlbXBsYXRlRm9ybWF0LCB0b3RhbElucHV0VmFyaWFibGVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZ2V0UHJvbXB0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwicHJvbXB0XCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcm1hdHMgdGhlIHByb21wdCB0ZW1wbGF0ZSB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIGJlIHVzZWQgdG8gZm9ybWF0IHRoZSBwcm9tcHQgdGVtcGxhdGUuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBzdHJpbmcgd2hpY2ggaXMgdGhlIGZvcm1hdHRlZCBwcm9tcHQuXG4gICAgICovXG4gICAgYXN5bmMgZm9ybWF0KHZhbHVlcykge1xuICAgICAgICBjb25zdCBhbGxWYWx1ZXMgPSBhd2FpdCB0aGlzLm1lcmdlUGFydGlhbEFuZFVzZXJWYXJpYWJsZXModmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMudGVtcGxhdGVGb3JtYXQsIGFsbFZhbHVlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRha2UgZXhhbXBsZXMgaW4gbGlzdCBmb3JtYXQgd2l0aCBwcmVmaXggYW5kIHN1ZmZpeCB0byBjcmVhdGUgYSBwcm9tcHQuXG4gICAgICpcbiAgICAgKiBJbnRlbmRlZCB0byBiZSB1c2VkIGEgYSB3YXkgdG8gZHluYW1pY2FsbHkgY3JlYXRlIGEgcHJvbXB0IGZyb20gZXhhbXBsZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXhhbXBsZXMgLSBMaXN0IG9mIGV4YW1wbGVzIHRvIHVzZSBpbiB0aGUgcHJvbXB0LlxuICAgICAqIEBwYXJhbSBzdWZmaXggLSBTdHJpbmcgdG8gZ28gYWZ0ZXIgdGhlIGxpc3Qgb2YgZXhhbXBsZXMuIFNob3VsZCBnZW5lcmFsbHkgc2V0IHVwIHRoZSB1c2VyJ3MgaW5wdXQuXG4gICAgICogQHBhcmFtIGlucHV0VmFyaWFibGVzIC0gQSBsaXN0IG9mIHZhcmlhYmxlIG5hbWVzIHRoZSBmaW5hbCBwcm9tcHQgdGVtcGxhdGUgd2lsbCBleHBlY3RcbiAgICAgKiBAcGFyYW0gZXhhbXBsZVNlcGFyYXRvciAtIFRoZSBzZXBhcmF0b3IgdG8gdXNlIGluIGJldHdlZW4gZXhhbXBsZXNcbiAgICAgKiBAcGFyYW0gcHJlZml4IC0gU3RyaW5nIHRoYXQgc2hvdWxkIGdvIGJlZm9yZSBhbnkgZXhhbXBsZXMuIEdlbmVyYWxseSBpbmNsdWRlcyBleGFtcGxlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBmaW5hbCBwcm9tcHQgdGVtcGxhdGUgZ2VuZXJhdGVkLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tRXhhbXBsZXMoZXhhbXBsZXMsIHN1ZmZpeCwgaW5wdXRWYXJpYWJsZXMsIGV4YW1wbGVTZXBhcmF0b3IgPSBcIlxcblxcblwiLCBwcmVmaXggPSBcIlwiKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gW3ByZWZpeCwgLi4uZXhhbXBsZXMsIHN1ZmZpeF0uam9pbihleGFtcGxlU2VwYXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgICAgICAgICBpbnB1dFZhcmlhYmxlcyxcbiAgICAgICAgICAgIHRlbXBsYXRlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZCBwcm9tcHQgdGVtcGxhdGUgZnJvbSBhIHRlbXBsYXRlIGYtc3RyaW5nXG4gICAgICovXG4gICAgc3RhdGljIGZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgeyB0ZW1wbGF0ZUZvcm1hdCA9IFwiZi1zdHJpbmdcIiwgLi4ucmVzdCB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgbmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHBhcnNlVGVtcGxhdGUodGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0KS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAobm9kZS50eXBlID09PSBcInZhcmlhYmxlXCIpIHtcbiAgICAgICAgICAgICAgICBuYW1lcy5hZGQobm9kZS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuICAgICAgICAgICAgLy8gUmVseSBvbiBleHRyYWN0ZWQgdHlwZXNcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBpbnB1dFZhcmlhYmxlczogWy4uLm5hbWVzXSxcbiAgICAgICAgICAgIHRlbXBsYXRlRm9ybWF0LFxuICAgICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFydGlhbGx5IGFwcGxpZXMgdmFsdWVzIHRvIHRoZSBwcm9tcHQgdGVtcGxhdGUuXG4gICAgICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkIHRvIHRoZSBwcm9tcHQgdGVtcGxhdGUuXG4gICAgICogQHJldHVybnMgQSBuZXcgaW5zdGFuY2Ugb2YgUHJvbXB0VGVtcGxhdGUgd2l0aCB0aGUgcGFydGlhbGx5IGFwcGxpZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGFzeW5jIHBhcnRpYWwodmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IG5ld0lucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcy5maWx0ZXIoKGl2KSA9PiAhKGl2IGluIHZhbHVlcykpO1xuICAgICAgICBjb25zdCBuZXdQYXJ0aWFsVmFyaWFibGVzID0ge1xuICAgICAgICAgICAgLi4uKHRoaXMucGFydGlhbFZhcmlhYmxlcyA/PyB7fSksXG4gICAgICAgICAgICAuLi52YWx1ZXMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHByb21wdERpY3QgPSB7XG4gICAgICAgICAgICAuLi50aGlzLFxuICAgICAgICAgICAgaW5wdXRWYXJpYWJsZXM6IG5ld0lucHV0VmFyaWFibGVzLFxuICAgICAgICAgICAgcGFydGlhbFZhcmlhYmxlczogbmV3UGFydGlhbFZhcmlhYmxlcyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9tcHRUZW1wbGF0ZShwcm9tcHREaWN0KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICBpZiAodGhpcy5vdXRwdXRQYXJzZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNlcmlhbGl6ZSBhIHByb21wdCB0ZW1wbGF0ZSB3aXRoIGFuIG91dHB1dCBwYXJzZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9nZXRQcm9tcHRUeXBlKCksXG4gICAgICAgICAgICBpbnB1dF92YXJpYWJsZXM6IHRoaXMuaW5wdXRWYXJpYWJsZXMsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlX2Zvcm1hdDogdGhpcy50ZW1wbGF0ZUZvcm1hdCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhLnRlbXBsYXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm9tcHQgdGVtcGxhdGUgbXVzdCBoYXZlIGEgdGVtcGxhdGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzID0gbmV3IFByb21wdFRlbXBsYXRlKHtcbiAgICAgICAgICAgIGlucHV0VmFyaWFibGVzOiBkYXRhLmlucHV0X3ZhcmlhYmxlcyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBkYXRhLnRlbXBsYXRlLFxuICAgICAgICAgICAgdGVtcGxhdGVGb3JtYXQ6IGRhdGEudGVtcGxhdGVfZm9ybWF0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG59XG4iLCIvLyBEZWZhdWx0IGdlbmVyaWMgXCJhbnlcIiB2YWx1ZXMgYXJlIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbi8vIFJlcGxhY2Ugd2l0aCBcInN0cmluZ1wiIHdoZW4gd2UgYXJlIGNvbWZvcnRhYmxlIHdpdGggYSBicmVha2luZyBjaGFuZ2UuXG5pbXBvcnQgeyBnZXRCdWZmZXJTdHJpbmcgfSBmcm9tIFwiLi4vbWVtb3J5L2Jhc2UuanNcIjtcbmltcG9ydCB7IEFJTWVzc2FnZSwgQmFzZU1lc3NhZ2UsIEJhc2VQcm9tcHRWYWx1ZSwgQ2hhdE1lc3NhZ2UsIEh1bWFuTWVzc2FnZSwgU3lzdGVtTWVzc2FnZSwgY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UsIGlzQmFzZU1lc3NhZ2UsIH0gZnJvbSBcIi4uL3NjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGUgfSBmcm9tIFwiLi4vc2NoZW1hL3J1bm5hYmxlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYXNlUHJvbXB0VGVtcGxhdGUsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9wcm9tcHQuanNcIjtcbi8qKlxuICogQWJzdHJhY3QgY2xhc3MgdGhhdCBzZXJ2ZXMgYXMgYSBiYXNlIGZvciBjcmVhdGluZyBtZXNzYWdlIHByb21wdFxuICogdGVtcGxhdGVzLiBJdCBkZWZpbmVzIGhvdyB0byBmb3JtYXQgbWVzc2FnZXMgZm9yIGRpZmZlcmVudCByb2xlcyBpbiBhXG4gKiBjb252ZXJzYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlIGV4dGVuZHMgUnVubmFibGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInByb21wdHNcIiwgXCJjaGF0XCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBmb3JtYXRNZXNzYWdlcyBtZXRob2Qgd2l0aCB0aGUgcHJvdmlkZWQgaW5wdXQgYW5kIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIGlucHV0IElucHV0IGZvciB0aGUgZm9ybWF0TWVzc2FnZXMgbWV0aG9kXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgQmFzZUNhbGxiYWNrQ29uZmlnXG4gICAgICogQHJldHVybnMgRm9ybWF0dGVkIG91dHB1dCBtZXNzYWdlc1xuICAgICAqL1xuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoKGlucHV0KSA9PiB0aGlzLmZvcm1hdE1lc3NhZ2VzKGlucHV0KSwgaW5wdXQsIHsgLi4ub3B0aW9ucywgcnVuVHlwZTogXCJwcm9tcHRcIiB9KTtcbiAgICB9XG59XG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIGNoYXQgcHJvbXB0IHZhbHVlLiBJdCBleHRlbmRzIHRoZVxuICogQmFzZVByb21wdFZhbHVlIGFuZCBpbmNsdWRlcyBhbiBhcnJheSBvZiBCYXNlTWVzc2FnZSBpbnN0YW5jZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGF0UHJvbXB0VmFsdWUgZXh0ZW5kcyBCYXNlUHJvbXB0VmFsdWUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJDaGF0UHJvbXB0VmFsdWVcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZpZWxkcykpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgZmllbGRzID0geyBtZXNzYWdlczogZmllbGRzIH07XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJwcm9tcHRzXCIsIFwiY2hhdFwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXNzYWdlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzID0gZmllbGRzLm1lc3NhZ2VzO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGdldEJ1ZmZlclN0cmluZyh0aGlzLm1lc3NhZ2VzKTtcbiAgICB9XG4gICAgdG9DaGF0TWVzc2FnZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VzO1xuICAgIH1cbn1cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgcGxhY2Vob2xkZXIgZm9yIG1lc3NhZ2VzIGluIGEgY2hhdCBwcm9tcHQuIEl0XG4gKiBleHRlbmRzIHRoZSBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgTWVzc2FnZXNQbGFjZWhvbGRlciBleHRlbmRzIEJhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJNZXNzYWdlc1BsYWNlaG9sZGVyXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBpZiAodHlwZW9mIGZpZWxkcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgICBmaWVsZHMgPSB7IHZhcmlhYmxlTmFtZTogZmllbGRzIH07XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmFyaWFibGVOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmFyaWFibGVOYW1lID0gZmllbGRzLnZhcmlhYmxlTmFtZTtcbiAgICB9XG4gICAgZ2V0IGlucHV0VmFyaWFibGVzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMudmFyaWFibGVOYW1lXTtcbiAgICB9XG4gICAgdmFsaWRhdGVJbnB1dE9yVGhyb3coaW5wdXQsIHZhcmlhYmxlTmFtZSkge1xuICAgICAgICBsZXQgaXNJbnB1dEJhc2VNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xuICAgICAgICAgICAgaXNJbnB1dEJhc2VNZXNzYWdlID0gaW5wdXQuZXZlcnkoKG1lc3NhZ2UpID0+IGlzQmFzZU1lc3NhZ2UobWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXNJbnB1dEJhc2VNZXNzYWdlID0gaXNCYXNlTWVzc2FnZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0lucHV0QmFzZU1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWRhYmxlSW5wdXQgPSB0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIgPyBpbnB1dCA6IEpTT04uc3RyaW5naWZ5KGlucHV0LCBudWxsLCAyKTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBFcnJvcjogRmllbGQgXCIke3ZhcmlhYmxlTmFtZX1cIiBpbiBwcm9tcHQgdXNlcyBhIE1lc3NhZ2VzUGxhY2Vob2xkZXIsIHdoaWNoIGV4cGVjdHMgYW4gYXJyYXkgb2YgQmFzZU1lc3NhZ2VzIGFzIGFuIGlucHV0IHZhbHVlLiBSZWNlaXZlZDogJHtyZWFkYWJsZUlucHV0fWApO1xuICAgICAgICAgICAgZXJyb3IubmFtZSA9IFwiSW5wdXRGb3JtYXRFcnJvclwiO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGFzeW5jIGZvcm1hdE1lc3NhZ2VzKHZhbHVlcykge1xuICAgICAgICB0aGlzLnZhbGlkYXRlSW5wdXRPclRocm93KHZhbHVlc1t0aGlzLnZhcmlhYmxlTmFtZV0sIHRoaXMudmFyaWFibGVOYW1lKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1t0aGlzLnZhcmlhYmxlTmFtZV07XG4gICAgfVxufVxuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyB0aGF0IHNlcnZlcyBhcyBhIGJhc2UgZm9yIGNyZWF0aW5nIG1lc3NhZ2Ugc3RyaW5nIHByb21wdFxuICogdGVtcGxhdGVzLiBJdCBleHRlbmRzIHRoZSBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBpZiAoIShcInByb21wdFwiIGluIGZpZWxkcykpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgZmllbGRzID0geyBwcm9tcHQ6IGZpZWxkcyB9O1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb21wdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb21wdCA9IGZpZWxkcy5wcm9tcHQ7XG4gICAgfVxuICAgIGdldCBpbnB1dFZhcmlhYmxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbXB0LmlucHV0VmFyaWFibGVzO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXRNZXNzYWdlcyh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIFthd2FpdCB0aGlzLmZvcm1hdCh2YWx1ZXMpXTtcbiAgICB9XG59XG4vKipcbiAqIEFic3RyYWN0IGNsYXNzIHRoYXQgc2VydmVzIGFzIGEgYmFzZSBmb3IgY3JlYXRpbmcgY2hhdCBwcm9tcHRcbiAqIHRlbXBsYXRlcy4gSXQgZXh0ZW5kcyB0aGUgQmFzZVByb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZUNoYXRQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VQcm9tcHRUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoaW5wdXQpO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXQodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiAoYXdhaXQgdGhpcy5mb3JtYXRQcm9tcHRWYWx1ZSh2YWx1ZXMpKS50b1N0cmluZygpO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXRQcm9tcHRWYWx1ZSh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0TWVzc2FnZXMgPSBhd2FpdCB0aGlzLmZvcm1hdE1lc3NhZ2VzKHZhbHVlcyk7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdFByb21wdFZhbHVlKHJlc3VsdE1lc3NhZ2VzKTtcbiAgICB9XG59XG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIGNoYXQgbWVzc2FnZSBwcm9tcHQgdGVtcGxhdGUuIEl0IGV4dGVuZHMgdGhlXG4gKiBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgQ2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VNZXNzYWdlU3RyaW5nUHJvbXB0VGVtcGxhdGUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgcm9sZSkge1xuICAgICAgICBpZiAoIShcInByb21wdFwiIGluIGZpZWxkcykpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbiwgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgZmllbGRzID0geyBwcm9tcHQ6IGZpZWxkcywgcm9sZTogcm9sZSB9O1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJvbGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yb2xlID0gZmllbGRzLnJvbGU7XG4gICAgfVxuICAgIGFzeW5jIGZvcm1hdCh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGF0TWVzc2FnZShhd2FpdCB0aGlzLnByb21wdC5mb3JtYXQodmFsdWVzKSwgdGhpcy5yb2xlKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgcm9sZSkge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHRlbXBsYXRlKSwgcm9sZSk7XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBodW1hbiBtZXNzYWdlIHByb21wdCB0ZW1wbGF0ZS4gSXQgZXh0ZW5kcyB0aGVcbiAqIEJhc2VNZXNzYWdlU3RyaW5nUHJvbXB0VGVtcGxhdGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VNZXNzYWdlU3RyaW5nUHJvbXB0VGVtcGxhdGUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZVwiO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXQodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgSHVtYW5NZXNzYWdlKGF3YWl0IHRoaXMucHJvbXB0LmZvcm1hdCh2YWx1ZXMpKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHRlbXBsYXRlKSk7XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYW4gQUkgbWVzc2FnZSBwcm9tcHQgdGVtcGxhdGUuIEl0IGV4dGVuZHMgdGhlXG4gKiBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGUgZXh0ZW5kcyBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGVcIjtcbiAgICB9XG4gICAgYXN5bmMgZm9ybWF0KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gbmV3IEFJTWVzc2FnZShhd2FpdCB0aGlzLnByb21wdC5mb3JtYXQodmFsdWVzKSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSkpO1xuICAgIH1cbn1cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgc3lzdGVtIG1lc3NhZ2UgcHJvbXB0IHRlbXBsYXRlLiBJdCBleHRlbmRzIHRoZVxuICogQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN5c3RlbU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VNZXNzYWdlU3RyaW5nUHJvbXB0VGVtcGxhdGUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGVcIjtcbiAgICB9XG4gICAgYXN5bmMgZm9ybWF0KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2UoYXdhaXQgdGhpcy5wcm9tcHQuZm9ybWF0KHZhbHVlcykpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUodGVtcGxhdGUpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfaXNCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlKGJhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGVMaWtlKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2VcbiAgICAgICAgLmZvcm1hdE1lc3NhZ2VzID09PSBcImZ1bmN0aW9uXCIpO1xufVxuZnVuY3Rpb24gX2NvZXJjZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2UobWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZSkge1xuICAgIGlmIChfaXNCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlKG1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2UpIHx8XG4gICAgICAgIGlzQmFzZU1lc3NhZ2UobWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZSkpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2U7XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZShtZXNzYWdlUHJvbXB0VGVtcGxhdGVMaWtlKTtcbiAgICBpZiAobWVzc2FnZS5fZ2V0VHlwZSgpID09PSBcImh1bWFuXCIpIHtcbiAgICAgICAgcmV0dXJuIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShtZXNzYWdlLmNvbnRlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwiYWlcIikge1xuICAgICAgICByZXR1cm4gQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKG1lc3NhZ2UuY29udGVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgICByZXR1cm4gU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShtZXNzYWdlLmNvbnRlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChDaGF0TWVzc2FnZS5pc0luc3RhbmNlKG1lc3NhZ2UpKSB7XG4gICAgICAgIHJldHVybiBDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShtZXNzYWdlLmNvbnRlbnQsIG1lc3NhZ2Uucm9sZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgbWVzc2FnZSBwcm9tcHQgdGVtcGxhdGUgZnJvbSBpbnB1dC4gUmVjZWl2ZWQgbWVzc2FnZSB0eXBlOiBcIiR7bWVzc2FnZS5fZ2V0VHlwZSgpfVwiLmApO1xuICAgIH1cbn1cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgY2hhdCBwcm9tcHQuIEl0IGV4dGVuZHMgdGhlXG4gKiBCYXNlQ2hhdFByb21wdFRlbXBsYXRlIGFuZCB1c2VzIGFuIGFycmF5IG9mIEJhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGVcbiAqIGluc3RhbmNlcyB0byBmb3JtYXQgYSBzZXJpZXMgb2YgbWVzc2FnZXMgZm9yIGEgY29udmVyc2F0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQ2hhdFByb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZUNoYXRQcm9tcHRUZW1wbGF0ZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkNoYXRQcm9tcHRUZW1wbGF0ZVwiO1xuICAgIH1cbiAgICBnZXQgbGNfYWxpYXNlcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb21wdE1lc3NhZ2VzOiBcIm1lc3NhZ2VzXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHN1cGVyKGlucHV0KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvbXB0TWVzc2FnZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmFsaWRhdGVUZW1wbGF0ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLnZhbGlkYXRlVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0VmFyaWFibGVzTWVzc2FnZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByb21wdE1lc3NhZ2Ugb2YgdGhpcy5wcm9tcHRNZXNzYWdlcykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgICAgICAgICBpZiAocHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIEJhc2VNZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlucHV0VmFyaWFibGUgb2YgcHJvbXB0TWVzc2FnZS5pbnB1dFZhcmlhYmxlcykge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dFZhcmlhYmxlc01lc3NhZ2VzLmFkZChpbnB1dFZhcmlhYmxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0b3RhbElucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcztcbiAgICAgICAgICAgIGNvbnN0IGlucHV0VmFyaWFibGVzSW5zdGFuY2UgPSBuZXcgU2V0KHRoaXMucGFydGlhbFZhcmlhYmxlc1xuICAgICAgICAgICAgICAgID8gdG90YWxJbnB1dFZhcmlhYmxlcy5jb25jYXQoT2JqZWN0LmtleXModGhpcy5wYXJ0aWFsVmFyaWFibGVzKSlcbiAgICAgICAgICAgICAgICA6IHRvdGFsSW5wdXRWYXJpYWJsZXMpO1xuICAgICAgICAgICAgY29uc3QgZGlmZmVyZW5jZSA9IG5ldyBTZXQoWy4uLmlucHV0VmFyaWFibGVzSW5zdGFuY2VdLmZpbHRlcigoeCkgPT4gIWlucHV0VmFyaWFibGVzTWVzc2FnZXMuaGFzKHgpKSk7XG4gICAgICAgICAgICBpZiAoZGlmZmVyZW5jZS5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5wdXQgdmFyaWFibGVzIFxcYCR7W1xuICAgICAgICAgICAgICAgICAgICAuLi5kaWZmZXJlbmNlLFxuICAgICAgICAgICAgICAgIF19XFxgIGFyZSBub3QgdXNlZCBpbiBhbnkgb2YgdGhlIHByb21wdCBtZXNzYWdlcy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG90aGVyRGlmZmVyZW5jZSA9IG5ldyBTZXQoWy4uLmlucHV0VmFyaWFibGVzTWVzc2FnZXNdLmZpbHRlcigoeCkgPT4gIWlucHV0VmFyaWFibGVzSW5zdGFuY2UuaGFzKHgpKSk7XG4gICAgICAgICAgICBpZiAob3RoZXJEaWZmZXJlbmNlLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCB2YXJpYWJsZXMgXFxgJHtbXG4gICAgICAgICAgICAgICAgICAgIC4uLm90aGVyRGlmZmVyZW5jZSxcbiAgICAgICAgICAgICAgICBdfVxcYCBhcmUgdXNlZCBpbiBwcm9tcHQgbWVzc2FnZXMgYnV0IG5vdCBpbiB0aGUgcHJvbXB0IHRlbXBsYXRlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRQcm9tcHRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJjaGF0XCI7XG4gICAgfVxuICAgIGFzeW5jIGZvcm1hdE1lc3NhZ2VzKHZhbHVlcykge1xuICAgICAgICBjb25zdCBhbGxWYWx1ZXMgPSBhd2FpdCB0aGlzLm1lcmdlUGFydGlhbEFuZFVzZXJWYXJpYWJsZXModmFsdWVzKTtcbiAgICAgICAgbGV0IHJlc3VsdE1lc3NhZ2VzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcHJvbXB0TWVzc2FnZSBvZiB0aGlzLnByb21wdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgICAgICBpZiAocHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIEJhc2VNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0TWVzc2FnZXMucHVzaChwcm9tcHRNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0VmFsdWVzID0gcHJvbXB0TWVzc2FnZS5pbnB1dFZhcmlhYmxlcy5yZWR1Y2UoKGFjYywgaW5wdXRWYXJpYWJsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShpbnB1dFZhcmlhYmxlIGluIGFsbFZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyB2YWx1ZSBmb3IgaW5wdXQgdmFyaWFibGUgXFxgJHtpbnB1dFZhcmlhYmxlLnRvU3RyaW5nKCl9XFxgYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYWNjW2lucHV0VmFyaWFibGVdID0gYWxsVmFsdWVzW2lucHV0VmFyaWFibGVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgcHJvbXB0TWVzc2FnZS5mb3JtYXRNZXNzYWdlcyhpbnB1dFZhbHVlcyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0TWVzc2FnZXMgPSByZXN1bHRNZXNzYWdlcy5jb25jYXQobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdE1lc3NhZ2VzO1xuICAgIH1cbiAgICBhc3luYyBwYXJ0aWFsKHZhbHVlcykge1xuICAgICAgICAvLyBUaGlzIGlzIGltcGxlbWVudGVkIGluIGEgd2F5IGl0IGRvZXNuJ3QgcmVxdWlyZSBtYWtpbmdcbiAgICAgICAgLy8gQmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSBhd2FyZSBvZiAucGFydGlhbCgpXG4gICAgICAgIGNvbnN0IG5ld0lucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcy5maWx0ZXIoKGl2KSA9PiAhKGl2IGluIHZhbHVlcykpO1xuICAgICAgICBjb25zdCBuZXdQYXJ0aWFsVmFyaWFibGVzID0ge1xuICAgICAgICAgICAgLi4uKHRoaXMucGFydGlhbFZhcmlhYmxlcyA/PyB7fSksXG4gICAgICAgICAgICAuLi52YWx1ZXMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHByb21wdERpY3QgPSB7XG4gICAgICAgICAgICAuLi50aGlzLFxuICAgICAgICAgICAgaW5wdXRWYXJpYWJsZXM6IG5ld0lucHV0VmFyaWFibGVzLFxuICAgICAgICAgICAgcGFydGlhbFZhcmlhYmxlczogbmV3UGFydGlhbFZhcmlhYmxlcyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGF0UHJvbXB0VGVtcGxhdGUocHJvbXB0RGljdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGNoYXQgbW9kZWwtc3BlY2lmaWMgcHJvbXB0IGZyb20gaW5kaXZpZHVhbCBjaGF0IG1lc3NhZ2VzXG4gICAgICogb3IgbWVzc2FnZS1saWtlIHR1cGxlcy5cbiAgICAgKiBAcGFyYW0gcHJvbXB0TWVzc2FnZXMgTWVzc2FnZXMgdG8gYmUgcGFzc2VkIHRvIHRoZSBjaGF0IG1vZGVsXG4gICAgICogQHJldHVybnMgQSBuZXcgQ2hhdFByb21wdFRlbXBsYXRlXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzdGF0aWMgZnJvbU1lc3NhZ2VzKHByb21wdE1lc3NhZ2VzKSB7XG4gICAgICAgIGNvbnN0IGZsYXR0ZW5lZE1lc3NhZ2VzID0gcHJvbXB0TWVzc2FnZXMucmVkdWNlKChhY2MsIHByb21wdE1lc3NhZ2UpID0+IGFjYy5jb25jYXQoXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgcHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIENoYXRQcm9tcHRUZW1wbGF0ZVxuICAgICAgICAgICAgPyBwcm9tcHRNZXNzYWdlLnByb21wdE1lc3NhZ2VzXG4gICAgICAgICAgICA6IFtfY29lcmNlTWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZShwcm9tcHRNZXNzYWdlKV0pLCBbXSk7XG4gICAgICAgIGNvbnN0IGZsYXR0ZW5lZFBhcnRpYWxWYXJpYWJsZXMgPSBwcm9tcHRNZXNzYWdlcy5yZWR1Y2UoKGFjYywgcHJvbXB0TWVzc2FnZSkgPT4gXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgcHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIENoYXRQcm9tcHRUZW1wbGF0ZVxuICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKGFjYywgcHJvbXB0TWVzc2FnZS5wYXJ0aWFsVmFyaWFibGVzKVxuICAgICAgICAgICAgOiBhY2MsIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAgICBjb25zdCBpbnB1dFZhcmlhYmxlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBwcm9tcHRNZXNzYWdlIG9mIGZsYXR0ZW5lZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgICAgICBpZiAocHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIEJhc2VNZXNzYWdlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpbnB1dFZhcmlhYmxlIG9mIHByb21wdE1lc3NhZ2UuaW5wdXRWYXJpYWJsZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRWYXJpYWJsZSBpbiBmbGF0dGVuZWRQYXJ0aWFsVmFyaWFibGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnB1dFZhcmlhYmxlcy5hZGQoaW5wdXRWYXJpYWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDaGF0UHJvbXB0VGVtcGxhdGUoe1xuICAgICAgICAgICAgaW5wdXRWYXJpYWJsZXM6IFsuLi5pbnB1dFZhcmlhYmxlc10sXG4gICAgICAgICAgICBwcm9tcHRNZXNzYWdlczogZmxhdHRlbmVkTWVzc2FnZXMsXG4gICAgICAgICAgICBwYXJ0aWFsVmFyaWFibGVzOiBmbGF0dGVuZWRQYXJ0aWFsVmFyaWFibGVzLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFJlbmFtZWQgdG8gLmZyb21NZXNzYWdlcyAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc3RhdGljIGZyb21Qcm9tcHRNZXNzYWdlcyhwcm9tcHRNZXNzYWdlcykge1xuICAgICAgICByZXR1cm4gdGhpcy5mcm9tTWVzc2FnZXMocHJvbXB0TWVzc2FnZXMpO1xuICAgIH1cbn1cbiIsIiFmdW5jdGlvbihlKXt2YXIgdDtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKTooXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz90PXdpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP3Q9Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiYodD1zZWxmKSx0Lm9iamVjdEhhc2g9ZSgpKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gcihvLGksdSl7ZnVuY3Rpb24gcyhuLGUpe2lmKCFpW25dKXtpZighb1tuXSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZSYmdClyZXR1cm4gdChuLCEwKTtpZihhKXJldHVybiBhKG4sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbitcIidcIil9ZT1pW25dPXtleHBvcnRzOnt9fTtvW25dWzBdLmNhbGwoZS5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciB0PW9bbl1bMV1bZV07cmV0dXJuIHModHx8ZSl9LGUsZS5leHBvcnRzLHIsbyxpLHUpfXJldHVybiBpW25dLmV4cG9ydHN9Zm9yKHZhciBhPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsZT0wO2U8dS5sZW5ndGg7ZSsrKXModVtlXSk7cmV0dXJuIHN9KHsxOltmdW5jdGlvbih3LGIsbSl7IWZ1bmN0aW9uKGUsbixzLGMsZCxoLHAsZyx5KXtcInVzZSBzdHJpY3RcIjt2YXIgcj13KFwiY3J5cHRvXCIpO2Z1bmN0aW9uIHQoZSx0KXt0PXUoZSx0KTt2YXIgbjtyZXR1cm4gdm9pZCAwPT09KG49XCJwYXNzdGhyb3VnaFwiIT09dC5hbGdvcml0aG0/ci5jcmVhdGVIYXNoKHQuYWxnb3JpdGhtKTpuZXcgbCkud3JpdGUmJihuLndyaXRlPW4udXBkYXRlLG4uZW5kPW4udXBkYXRlKSxmKHQsbikuZGlzcGF0Y2goZSksbi51cGRhdGV8fG4uZW5kKFwiXCIpLG4uZGlnZXN0P24uZGlnZXN0KFwiYnVmZmVyXCI9PT10LmVuY29kaW5nP3ZvaWQgMDp0LmVuY29kaW5nKTooZT1uLnJlYWQoKSxcImJ1ZmZlclwiIT09dC5lbmNvZGluZz9lLnRvU3RyaW5nKHQuZW5jb2RpbmcpOmUpfShtPWIuZXhwb3J0cz10KS5zaGExPWZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfSxtLmtleXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSx7ZXhjbHVkZVZhbHVlczohMCxhbGdvcml0aG06XCJzaGExXCIsZW5jb2Rpbmc6XCJoZXhcIn0pfSxtLk1ENT1mdW5jdGlvbihlKXtyZXR1cm4gdChlLHthbGdvcml0aG06XCJtZDVcIixlbmNvZGluZzpcImhleFwifSl9LG0ua2V5c01ENT1mdW5jdGlvbihlKXtyZXR1cm4gdChlLHthbGdvcml0aG06XCJtZDVcIixlbmNvZGluZzpcImhleFwiLGV4Y2x1ZGVWYWx1ZXM6ITB9KX07dmFyIG89ci5nZXRIYXNoZXM/ci5nZXRIYXNoZXMoKS5zbGljZSgpOltcInNoYTFcIixcIm1kNVwiXSxpPShvLnB1c2goXCJwYXNzdGhyb3VnaFwiKSxbXCJidWZmZXJcIixcImhleFwiLFwiYmluYXJ5XCIsXCJiYXNlNjRcIl0pO2Z1bmN0aW9uIHUoZSx0KXt2YXIgbj17fTtpZihuLmFsZ29yaXRobT0odD10fHx7fSkuYWxnb3JpdGhtfHxcInNoYTFcIixuLmVuY29kaW5nPXQuZW5jb2Rpbmd8fFwiaGV4XCIsbi5leGNsdWRlVmFsdWVzPSEhdC5leGNsdWRlVmFsdWVzLG4uYWxnb3JpdGhtPW4uYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCksbi5lbmNvZGluZz1uLmVuY29kaW5nLnRvTG93ZXJDYXNlKCksbi5pZ25vcmVVbmtub3duPSEwPT09dC5pZ25vcmVVbmtub3duLG4ucmVzcGVjdFR5cGU9ITEhPT10LnJlc3BlY3RUeXBlLG4ucmVzcGVjdEZ1bmN0aW9uTmFtZXM9ITEhPT10LnJlc3BlY3RGdW5jdGlvbk5hbWVzLG4ucmVzcGVjdEZ1bmN0aW9uUHJvcGVydGllcz0hMSE9PXQucmVzcGVjdEZ1bmN0aW9uUHJvcGVydGllcyxuLnVub3JkZXJlZEFycmF5cz0hMD09PXQudW5vcmRlcmVkQXJyYXlzLG4udW5vcmRlcmVkU2V0cz0hMSE9PXQudW5vcmRlcmVkU2V0cyxuLnVub3JkZXJlZE9iamVjdHM9ITEhPT10LnVub3JkZXJlZE9iamVjdHMsbi5yZXBsYWNlcj10LnJlcGxhY2VyfHx2b2lkIDAsbi5leGNsdWRlS2V5cz10LmV4Y2x1ZGVLZXlzfHx2b2lkIDAsdm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJPYmplY3QgYXJndW1lbnQgcmVxdWlyZWQuXCIpO2Zvcih2YXIgcj0wO3I8by5sZW5ndGg7KytyKW9bcl0udG9Mb3dlckNhc2UoKT09PW4uYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkmJihuLmFsZ29yaXRobT1vW3JdKTtpZigtMT09PW8uaW5kZXhPZihuLmFsZ29yaXRobSkpdGhyb3cgbmV3IEVycm9yKCdBbGdvcml0aG0gXCInK24uYWxnb3JpdGhtKydcIiAgbm90IHN1cHBvcnRlZC4gc3VwcG9ydGVkIHZhbHVlczogJytvLmpvaW4oXCIsIFwiKSk7aWYoLTE9PT1pLmluZGV4T2Yobi5lbmNvZGluZykmJlwicGFzc3Rocm91Z2hcIiE9PW4uYWxnb3JpdGhtKXRocm93IG5ldyBFcnJvcignRW5jb2RpbmcgXCInK24uZW5jb2RpbmcrJ1wiICBub3Qgc3VwcG9ydGVkLiBzdXBwb3J0ZWQgdmFsdWVzOiAnK2kuam9pbihcIiwgXCIpKTtyZXR1cm4gbn1mdW5jdGlvbiBhKGUpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpcmV0dXJuIG51bGwhPS9eZnVuY3Rpb25cXHMrXFx3KlxccypcXChcXHMqXFwpXFxzKntcXHMrXFxbbmF0aXZlIGNvZGVcXF1cXHMrfSQvaS5leGVjKEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKX1mdW5jdGlvbiBmKG8sdCxpKXtpPWl8fFtdO2Z1bmN0aW9uIHUoZSl7cmV0dXJuIHQudXBkYXRlP3QudXBkYXRlKGUsXCJ1dGY4XCIpOnQud3JpdGUoZSxcInV0ZjhcIil9cmV0dXJue2Rpc3BhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzW1wiX1wiKyhudWxsPT09KGU9by5yZXBsYWNlcj9vLnJlcGxhY2VyKGUpOmUpP1wibnVsbFwiOnR5cGVvZiBlKV0oZSl9LF9vYmplY3Q6ZnVuY3Rpb24odCl7dmFyIG4sZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkscj0vXFxbb2JqZWN0ICguKilcXF0vaS5leGVjKGUpO3I9KHI9cj9yWzFdOlwidW5rbm93bjpbXCIrZStcIl1cIikudG9Mb3dlckNhc2UoKTtpZigwPD0oZT1pLmluZGV4T2YodCkpKXJldHVybiB0aGlzLmRpc3BhdGNoKFwiW0NJUkNVTEFSOlwiK2UrXCJdXCIpO2lmKGkucHVzaCh0KSx2b2lkIDAhPT1zJiZzLmlzQnVmZmVyJiZzLmlzQnVmZmVyKHQpKXJldHVybiB1KFwiYnVmZmVyOlwiKSx1KHQpO2lmKFwib2JqZWN0XCI9PT1yfHxcImZ1bmN0aW9uXCI9PT1yfHxcImFzeW5jZnVuY3Rpb25cIj09PXIpcmV0dXJuIGU9T2JqZWN0LmtleXModCksby51bm9yZGVyZWRPYmplY3RzJiYoZT1lLnNvcnQoKSksITE9PT1vLnJlc3BlY3RUeXBlfHxhKHQpfHxlLnNwbGljZSgwLDAsXCJwcm90b3R5cGVcIixcIl9fcHJvdG9fX1wiLFwiY29uc3RydWN0b3JcIiksby5leGNsdWRlS2V5cyYmKGU9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIW8uZXhjbHVkZUtleXMoZSl9KSksdShcIm9iamVjdDpcIitlLmxlbmd0aCtcIjpcIiksbj10aGlzLGUuZm9yRWFjaChmdW5jdGlvbihlKXtuLmRpc3BhdGNoKGUpLHUoXCI6XCIpLG8uZXhjbHVkZVZhbHVlc3x8bi5kaXNwYXRjaCh0W2VdKSx1KFwiLFwiKX0pO2lmKCF0aGlzW1wiX1wiK3JdKXtpZihvLmlnbm9yZVVua25vd24pcmV0dXJuIHUoXCJbXCIrcitcIl1cIik7dGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG9iamVjdCB0eXBlIFwiJytyKydcIicpfXRoaXNbXCJfXCIrcl0odCl9LF9hcnJheTpmdW5jdGlvbihlLHQpe3Q9dm9pZCAwIT09dD90OiExIT09by51bm9yZGVyZWRBcnJheXM7dmFyIG49dGhpcztpZih1KFwiYXJyYXk6XCIrZS5sZW5ndGgrXCI6XCIpLCF0fHxlLmxlbmd0aDw9MSlyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmRpc3BhdGNoKGUpfSk7dmFyIHI9W10sdD1lLm1hcChmdW5jdGlvbihlKXt2YXIgdD1uZXcgbCxuPWkuc2xpY2UoKTtyZXR1cm4gZihvLHQsbikuZGlzcGF0Y2goZSkscj1yLmNvbmNhdChuLnNsaWNlKGkubGVuZ3RoKSksdC5yZWFkKCkudG9TdHJpbmcoKX0pO3JldHVybiBpPWkuY29uY2F0KHIpLHQuc29ydCgpLHRoaXMuX2FycmF5KHQsITEpfSxfZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gdShcImRhdGU6XCIrZS50b0pTT04oKSl9LF9zeW1ib2w6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJzeW1ib2w6XCIrZS50b1N0cmluZygpKX0sX2Vycm9yOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiZXJyb3I6XCIrZS50b1N0cmluZygpKX0sX2Jvb2xlYW46ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJib29sOlwiK2UudG9TdHJpbmcoKSl9LF9zdHJpbmc6ZnVuY3Rpb24oZSl7dShcInN0cmluZzpcIitlLmxlbmd0aCtcIjpcIiksdShlLnRvU3RyaW5nKCkpfSxfZnVuY3Rpb246ZnVuY3Rpb24oZSl7dShcImZuOlwiKSxhKGUpP3RoaXMuZGlzcGF0Y2goXCJbbmF0aXZlXVwiKTp0aGlzLmRpc3BhdGNoKGUudG9TdHJpbmcoKSksITEhPT1vLnJlc3BlY3RGdW5jdGlvbk5hbWVzJiZ0aGlzLmRpc3BhdGNoKFwiZnVuY3Rpb24tbmFtZTpcIitTdHJpbmcoZS5uYW1lKSksby5yZXNwZWN0RnVuY3Rpb25Qcm9wZXJ0aWVzJiZ0aGlzLl9vYmplY3QoZSl9LF9udW1iZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJudW1iZXI6XCIrZS50b1N0cmluZygpKX0sX3htbDpmdW5jdGlvbihlKXtyZXR1cm4gdShcInhtbDpcIitlLnRvU3RyaW5nKCkpfSxfbnVsbDpmdW5jdGlvbigpe3JldHVybiB1KFwiTnVsbFwiKX0sX3VuZGVmaW5lZDpmdW5jdGlvbigpe3JldHVybiB1KFwiVW5kZWZpbmVkXCIpfSxfcmVnZXhwOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwicmVnZXg6XCIrZS50b1N0cmluZygpKX0sX3VpbnQ4YXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJ1aW50OGFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX3VpbnQ4Y2xhbXBlZGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwidWludDhjbGFtcGVkYXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfaW50OGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiaW50OGFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX3VpbnQxNmFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwidWludDE2YXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfaW50MTZhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gdShcImludDE2YXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfdWludDMyYXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJ1aW50MzJhcnJheTpcIiksdGhpcy5kaXNwYXRjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSl9LF9pbnQzMmFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiaW50MzJhcnJheTpcIiksdGhpcy5kaXNwYXRjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSl9LF9mbG9hdDMyYXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJmbG9hdDMyYXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfZmxvYXQ2NGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiZmxvYXQ2NGFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX2FycmF5YnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiYXJyYXlidWZmZXI6XCIpLHRoaXMuZGlzcGF0Y2gobmV3IFVpbnQ4QXJyYXkoZSkpfSxfdXJsOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwidXJsOlwiK2UudG9TdHJpbmcoKSl9LF9tYXA6ZnVuY3Rpb24oZSl7dShcIm1hcDpcIik7ZT1BcnJheS5mcm9tKGUpO3JldHVybiB0aGlzLl9hcnJheShlLCExIT09by51bm9yZGVyZWRTZXRzKX0sX3NldDpmdW5jdGlvbihlKXt1KFwic2V0OlwiKTtlPUFycmF5LmZyb20oZSk7cmV0dXJuIHRoaXMuX2FycmF5KGUsITEhPT1vLnVub3JkZXJlZFNldHMpfSxfZmlsZTpmdW5jdGlvbihlKXtyZXR1cm4gdShcImZpbGU6XCIpLHRoaXMuZGlzcGF0Y2goW2UubmFtZSxlLnNpemUsZS50eXBlLGUubGFzdE1vZGZpZWRdKX0sX2Jsb2I6ZnVuY3Rpb24oKXtpZihvLmlnbm9yZVVua25vd24pcmV0dXJuIHUoXCJbYmxvYl1cIik7dGhyb3cgRXJyb3IoJ0hhc2hpbmcgQmxvYiBvYmplY3RzIGlzIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkXFxuKHNlZSBodHRwczovL2dpdGh1Yi5jb20vcHVsZW9zL29iamVjdC1oYXNoL2lzc3Vlcy8yNilcXG5Vc2UgXCJvcHRpb25zLnJlcGxhY2VyXCIgb3IgXCJvcHRpb25zLmlnbm9yZVVua25vd25cIlxcbicpfSxfZG9td2luZG93OmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJkb213aW5kb3dcIil9LF9iaWdpbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJiaWdpbnQ6XCIrZS50b1N0cmluZygpKX0sX3Byb2Nlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInByb2Nlc3NcIil9LF90aW1lcjpmdW5jdGlvbigpe3JldHVybiB1KFwidGltZXJcIil9LF9waXBlOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJwaXBlXCIpfSxfdGNwOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJ0Y3BcIil9LF91ZHA6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInVkcFwiKX0sX3R0eTpmdW5jdGlvbigpe3JldHVybiB1KFwidHR5XCIpfSxfc3RhdHdhdGNoZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInN0YXR3YXRjaGVyXCIpfSxfc2VjdXJlY29udGV4dDpmdW5jdGlvbigpe3JldHVybiB1KFwic2VjdXJlY29udGV4dFwiKX0sX2Nvbm5lY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdShcImNvbm5lY3Rpb25cIil9LF96bGliOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJ6bGliXCIpfSxfY29udGV4dDpmdW5jdGlvbigpe3JldHVybiB1KFwiY29udGV4dFwiKX0sX25vZGVzY3JpcHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdShcIm5vZGVzY3JpcHRcIil9LF9odHRwcGFyc2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJodHRwcGFyc2VyXCIpfSxfZGF0YXZpZXc6ZnVuY3Rpb24oKXtyZXR1cm4gdShcImRhdGF2aWV3XCIpfSxfc2lnbmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJzaWduYWxcIil9LF9mc2V2ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJmc2V2ZW50XCIpfSxfdGxzd3JhcDpmdW5jdGlvbigpe3JldHVybiB1KFwidGxzd3JhcFwiKX19fWZ1bmN0aW9uIGwoKXtyZXR1cm57YnVmOlwiXCIsd3JpdGU6ZnVuY3Rpb24oZSl7dGhpcy5idWYrPWV9LGVuZDpmdW5jdGlvbihlKXt0aGlzLmJ1Zis9ZX0scmVhZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1Zn19fW0ud3JpdGVUb1N0cmVhbT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPXQsdD17fSksZih0PXUoZSx0KSxuKS5kaXNwYXRjaChlKX19LmNhbGwodGhpcyx3KFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sdyhcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL2Zha2VfOWE1YWE0OWQuanNcIixcIi9cIil9LHtidWZmZXI6MyxjcnlwdG86NSxsWXBvSTI6MTF9XSwyOltmdW5jdGlvbihlLHQsZil7IWZ1bmN0aW9uKGUsdCxuLHIsbyxpLHUscyxhKXshZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSx0PVwiK1wiLmNoYXJDb2RlQXQoMCksbj1cIi9cIi5jaGFyQ29kZUF0KDApLHI9XCIwXCIuY2hhckNvZGVBdCgwKSxvPVwiYVwiLmNoYXJDb2RlQXQoMCksaT1cIkFcIi5jaGFyQ29kZUF0KDApLHU9XCItXCIuY2hhckNvZGVBdCgwKSxzPVwiX1wiLmNoYXJDb2RlQXQoMCk7ZnVuY3Rpb24gZihlKXtlPWUuY2hhckNvZGVBdCgwKTtyZXR1cm4gZT09PXR8fGU9PT11PzYyOmU9PT1ufHxlPT09cz82MzplPHI/LTE6ZTxyKzEwP2UtcisyNisyNjplPGkrMjY/ZS1pOmU8bysyNj9lLW8rMjY6dm9pZCAwfWUudG9CeXRlQXJyYXk9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZigwPGUubGVuZ3RoJTQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTt2YXIgcj1lLmxlbmd0aCxyPVwiPVwiPT09ZS5jaGFyQXQoci0yKT8yOlwiPVwiPT09ZS5jaGFyQXQoci0xKT8xOjAsbz1uZXcgYSgzKmUubGVuZ3RoLzQtciksaT0wPHI/ZS5sZW5ndGgtNDplLmxlbmd0aCx1PTA7ZnVuY3Rpb24gcyhlKXtvW3UrK109ZX1mb3IodD0wO3Q8aTt0Kz00LDApcygoMTY3MTE2ODAmKG49ZihlLmNoYXJBdCh0KSk8PDE4fGYoZS5jaGFyQXQodCsxKSk8PDEyfGYoZS5jaGFyQXQodCsyKSk8PDZ8ZihlLmNoYXJBdCh0KzMpKSkpPj4xNikscygoNjUyODAmbik+PjgpLHMoMjU1Jm4pO3JldHVybiAyPT1yP3MoMjU1JihuPWYoZS5jaGFyQXQodCkpPDwyfGYoZS5jaGFyQXQodCsxKSk+PjQpKToxPT1yJiYocygobj1mKGUuY2hhckF0KHQpKTw8MTB8ZihlLmNoYXJBdCh0KzEpKTw8NHxmKGUuY2hhckF0KHQrMikpPj4yKT4+OCYyNTUpLHMoMjU1Jm4pKSxvfSxlLmZyb21CeXRlQXJyYXk9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saT1lLmxlbmd0aCUzLHU9XCJcIjtmdW5jdGlvbiBzKGUpe3JldHVyblwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLmNoYXJBdChlKX1mb3IodD0wLHI9ZS5sZW5ndGgtaTt0PHI7dCs9MyluPShlW3RdPDwxNikrKGVbdCsxXTw8OCkrZVt0KzJdLHUrPXMoKG89bik+PjE4JjYzKStzKG8+PjEyJjYzKStzKG8+PjYmNjMpK3MoNjMmbyk7c3dpdGNoKGkpe2Nhc2UgMTp1PSh1Kz1zKChuPWVbZS5sZW5ndGgtMV0pPj4yKSkrcyhuPDw0JjYzKStcIj09XCI7YnJlYWs7Y2FzZSAyOnU9KHU9KHUrPXMoKG49KGVbZS5sZW5ndGgtMl08PDgpK2VbZS5sZW5ndGgtMV0pPj4xMCkpK3Mobj4+NCY2MykpK3Mobjw8MiY2MykrXCI9XCJ9cmV0dXJuIHV9fSh2b2lkIDA9PT1mP3RoaXMuYmFzZTY0anM9e306Zil9LmNhbGwodGhpcyxlKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9saWIvYjY0LmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2xpYlwiKX0se2J1ZmZlcjozLGxZcG9JMjoxMX1dLDM6W2Z1bmN0aW9uKE8sZSxIKXshZnVuY3Rpb24oZSxuLGYscixoLHAsZyx5LHcpe3ZhciBhPU8oXCJiYXNlNjQtanNcIiksaT1PKFwiaWVlZTc1NFwiKTtmdW5jdGlvbiBmKGUsdCxuKXtpZighKHRoaXMgaW5zdGFuY2VvZiBmKSlyZXR1cm4gbmV3IGYoZSx0LG4pO3ZhciByLG8saSx1LHM9dHlwZW9mIGU7aWYoXCJiYXNlNjRcIj09PXQmJlwic3RyaW5nXCI9PXMpZm9yKGU9KHU9ZSkudHJpbT91LnRyaW0oKTp1LnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIik7ZS5sZW5ndGglNCE9MDspZSs9XCI9XCI7aWYoXCJudW1iZXJcIj09cylyPWooZSk7ZWxzZSBpZihcInN0cmluZ1wiPT1zKXI9Zi5ieXRlTGVuZ3RoKGUsdCk7ZWxzZXtpZihcIm9iamVjdFwiIT1zKXRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG5lZWRzIHRvIGJlIGEgbnVtYmVyLCBhcnJheSBvciBzdHJpbmcuXCIpO3I9aihlLmxlbmd0aCl9aWYoZi5fdXNlVHlwZWRBcnJheXM/bz1mLl9hdWdtZW50KG5ldyBVaW50OEFycmF5KHIpKTooKG89dGhpcykubGVuZ3RoPXIsby5faXNCdWZmZXI9ITApLGYuX3VzZVR5cGVkQXJyYXlzJiZcIm51bWJlclwiPT10eXBlb2YgZS5ieXRlTGVuZ3RoKW8uX3NldChlKTtlbHNlIGlmKEModT1lKXx8Zi5pc0J1ZmZlcih1KXx8dSYmXCJvYmplY3RcIj09dHlwZW9mIHUmJlwibnVtYmVyXCI9PXR5cGVvZiB1Lmxlbmd0aClmb3IoaT0wO2k8cjtpKyspZi5pc0J1ZmZlcihlKT9vW2ldPWUucmVhZFVJbnQ4KGkpOm9baV09ZVtpXTtlbHNlIGlmKFwic3RyaW5nXCI9PXMpby53cml0ZShlLDAsdCk7ZWxzZSBpZihcIm51bWJlclwiPT1zJiYhZi5fdXNlVHlwZWRBcnJheXMmJiFuKWZvcihpPTA7aTxyO2krKylvW2ldPTA7cmV0dXJuIG99ZnVuY3Rpb24gYihlLHQsbixyKXtyZXR1cm4gZi5fY2hhcnNXcml0dGVuPWMoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoO24rKyl0LnB1c2goMjU1JmUuY2hhckNvZGVBdChuKSk7cmV0dXJuIHR9KHQpLGUsbixyKX1mdW5jdGlvbiBtKGUsdCxuLHIpe3JldHVybiBmLl9jaGFyc1dyaXR0ZW49YyhmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPVtdLG89MDtvPGUubGVuZ3RoO28rKyluPWUuY2hhckNvZGVBdChvKSx0PW4+Pjgsbj1uJTI1NixyLnB1c2gobiksci5wdXNoKHQpO3JldHVybiByfSh0KSxlLG4scil9ZnVuY3Rpb24gdihlLHQsbil7dmFyIHI9XCJcIjtuPU1hdGgubWluKGUubGVuZ3RoLG4pO2Zvcih2YXIgbz10O288bjtvKyspcis9U3RyaW5nLmZyb21DaGFyQ29kZShlW29dKTtyZXR1cm4gcn1mdW5jdGlvbiBvKGUsdCxuLHIpe3J8fChkKFwiYm9vbGVhblwiPT10eXBlb2YgbixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT10LFwibWlzc2luZyBvZmZzZXRcIiksZCh0KzE8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSk7dmFyIG8scj1lLmxlbmd0aDtpZighKHI8PXQpKXJldHVybiBuPyhvPWVbdF0sdCsxPHImJihvfD1lW3QrMV08PDgpKToobz1lW3RdPDw4LHQrMTxyJiYob3w9ZVt0KzFdKSksb31mdW5jdGlvbiB1KGUsdCxuLHIpe3J8fChkKFwiYm9vbGVhblwiPT10eXBlb2YgbixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT10LFwibWlzc2luZyBvZmZzZXRcIiksZCh0KzM8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSk7dmFyIG8scj1lLmxlbmd0aDtpZighKHI8PXQpKXJldHVybiBuPyh0KzI8ciYmKG89ZVt0KzJdPDwxNiksdCsxPHImJihvfD1lW3QrMV08PDgpLG98PWVbdF0sdCszPHImJihvKz1lW3QrM108PDI0Pj4+MCkpOih0KzE8ciYmKG89ZVt0KzFdPDwxNiksdCsyPHImJihvfD1lW3QrMl08PDgpLHQrMzxyJiYob3w9ZVt0KzNdKSxvKz1lW3RdPDwyND4+PjApLG99ZnVuY3Rpb24gXyhlLHQsbixyKXtpZihyfHwoZChcImJvb2xlYW5cIj09dHlwZW9mIG4sXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9dCxcIm1pc3Npbmcgb2Zmc2V0XCIpLGQodCsxPGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLCEoZS5sZW5ndGg8PXQpKXJldHVybiByPW8oZSx0LG4sITApLDMyNzY4JnI/LTEqKDY1NTM1LXIrMSk6cn1mdW5jdGlvbiBFKGUsdCxuLHIpe2lmKHJ8fChkKFwiYm9vbGVhblwiPT10eXBlb2YgbixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT10LFwibWlzc2luZyBvZmZzZXRcIiksZCh0KzM8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSksIShlLmxlbmd0aDw9dCkpcmV0dXJuIHI9dShlLHQsbiwhMCksMjE0NzQ4MzY0OCZyPy0xKig0Mjk0OTY3Mjk1LXIrMSk6cn1mdW5jdGlvbiBJKGUsdCxuLHIpe3JldHVybiByfHwoZChcImJvb2xlYW5cIj09dHlwZW9mIG4sXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQodCszPGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLGkucmVhZChlLHQsbiwyMyw0KX1mdW5jdGlvbiBBKGUsdCxuLHIpe3JldHVybiByfHwoZChcImJvb2xlYW5cIj09dHlwZW9mIG4sXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQodCs3PGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLGkucmVhZChlLHQsbiw1Miw4KX1mdW5jdGlvbiBzKGUsdCxuLHIsbyl7b3x8KGQobnVsbCE9dCxcIm1pc3NpbmcgdmFsdWVcIiksZChcImJvb2xlYW5cIj09dHlwZW9mIHIsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9bixcIm1pc3Npbmcgb2Zmc2V0XCIpLGQobisxPGUubGVuZ3RoLFwidHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLFkodCw2NTUzNSkpO289ZS5sZW5ndGg7aWYoIShvPD1uKSlmb3IodmFyIGk9MCx1PU1hdGgubWluKG8tbiwyKTtpPHU7aSsrKWVbbitpXT0odCYyNTU8PDgqKHI/aToxLWkpKT4+PjgqKHI/aToxLWkpfWZ1bmN0aW9uIGwoZSx0LG4scixvKXtvfHwoZChudWxsIT10LFwibWlzc2luZyB2YWx1ZVwiKSxkKFwiYm9vbGVhblwiPT10eXBlb2YgcixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT1uLFwibWlzc2luZyBvZmZzZXRcIiksZChuKzM8ZS5sZW5ndGgsXCJ0cnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksWSh0LDQyOTQ5NjcyOTUpKTtvPWUubGVuZ3RoO2lmKCEobzw9bikpZm9yKHZhciBpPTAsdT1NYXRoLm1pbihvLW4sNCk7aTx1O2krKyllW24raV09dD4+PjgqKHI/aTozLWkpJjI1NX1mdW5jdGlvbiBCKGUsdCxuLHIsbyl7b3x8KGQobnVsbCE9dCxcIm1pc3NpbmcgdmFsdWVcIiksZChcImJvb2xlYW5cIj09dHlwZW9mIHIsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9bixcIm1pc3Npbmcgb2Zmc2V0XCIpLGQobisxPGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLEYodCwzMjc2NywtMzI3NjgpKSxlLmxlbmd0aDw9bnx8cyhlLDA8PXQ/dDo2NTUzNSt0KzEsbixyLG8pfWZ1bmN0aW9uIEwoZSx0LG4scixvKXtvfHwoZChudWxsIT10LFwibWlzc2luZyB2YWx1ZVwiKSxkKFwiYm9vbGVhblwiPT10eXBlb2YgcixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT1uLFwibWlzc2luZyBvZmZzZXRcIiksZChuKzM8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksRih0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpKSxlLmxlbmd0aDw9bnx8bChlLDA8PXQ/dDo0Mjk0OTY3Mjk1K3QrMSxuLHIsbyl9ZnVuY3Rpb24gVShlLHQsbixyLG8pe298fChkKG51bGwhPXQsXCJtaXNzaW5nIHZhbHVlXCIpLGQoXCJib29sZWFuXCI9PXR5cGVvZiByLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxkKG51bGwhPW4sXCJtaXNzaW5nIG9mZnNldFwiKSxkKG4rMzxlLmxlbmd0aCxcIlRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxEKHQsMzQwMjgyMzQ2NjM4NTI4ODZlMjIsLTM0MDI4MjM0NjYzODUyODg2ZTIyKSksZS5sZW5ndGg8PW58fGkud3JpdGUoZSx0LG4sciwyMyw0KX1mdW5jdGlvbiB4KGUsdCxuLHIsbyl7b3x8KGQobnVsbCE9dCxcIm1pc3NpbmcgdmFsdWVcIiksZChcImJvb2xlYW5cIj09dHlwZW9mIHIsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9bixcIm1pc3Npbmcgb2Zmc2V0XCIpLGQobis3PGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLEQodCwxNzk3NjkzMTM0ODYyMzE1N2UyOTIsLTE3OTc2OTMxMzQ4NjIzMTU3ZTI5MikpLGUubGVuZ3RoPD1ufHxpLndyaXRlKGUsdCxuLHIsNTIsOCl9SC5CdWZmZXI9ZixILlNsb3dCdWZmZXI9ZixILklOU1BFQ1RfTUFYX0JZVEVTPTUwLGYucG9vbFNpemU9ODE5MixmLl91c2VUeXBlZEFycmF5cz1mdW5jdGlvbigpe3RyeXt2YXIgZT1uZXcgQXJyYXlCdWZmZXIoMCksdD1uZXcgVWludDhBcnJheShlKTtyZXR1cm4gdC5mb289ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9LDQyPT09dC5mb28oKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5zdWJhcnJheX1jYXRjaChlKXtyZXR1cm4hMX19KCksZi5pc0VuY29kaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaChTdHJpbmcoZSkudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJyYXdcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sZi5pc0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4hKG51bGw9PWV8fCFlLl9pc0J1ZmZlcil9LGYuYnl0ZUxlbmd0aD1mdW5jdGlvbihlLHQpe3ZhciBuO3N3aXRjaChlKz1cIlwiLHR8fFwidXRmOFwiKXtjYXNlXCJoZXhcIjpuPWUubGVuZ3RoLzI7YnJlYWs7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6bj1UKGUpLmxlbmd0aDticmVhaztjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcInJhd1wiOm49ZS5sZW5ndGg7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6bj1NKGUpLmxlbmd0aDticmVhaztjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpuPTIqZS5sZW5ndGg7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nXCIpfXJldHVybiBufSxmLmNvbmNhdD1mdW5jdGlvbihlLHQpe2lmKGQoQyhlKSxcIlVzYWdlOiBCdWZmZXIuY29uY2F0KGxpc3QsIFt0b3RhbExlbmd0aF0pXFxubGlzdCBzaG91bGQgYmUgYW4gQXJyYXkuXCIpLDA9PT1lLmxlbmd0aClyZXR1cm4gbmV3IGYoMCk7aWYoMT09PWUubGVuZ3RoKXJldHVybiBlWzBdO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KWZvcihvPXQ9MDtvPGUubGVuZ3RoO28rKyl0Kz1lW29dLmxlbmd0aDtmb3IodmFyIG49bmV3IGYodCkscj0wLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGk9ZVtvXTtpLmNvcHkobixyKSxyKz1pLmxlbmd0aH1yZXR1cm4gbn0sZi5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSx0LG4scil7aXNGaW5pdGUodCk/aXNGaW5pdGUobil8fChyPW4sbj12b2lkIDApOihhPXIscj10LHQ9bixuPWEpLHQ9TnVtYmVyKHQpfHwwO3ZhciBvLGksdSxzLGE9dGhpcy5sZW5ndGgtdDtzd2l0Y2goKCFufHxhPChuPU51bWJlcihuKSkpJiYobj1hKSxyPVN0cmluZyhyfHxcInV0ZjhcIikudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6bz1mdW5jdGlvbihlLHQsbixyKXtuPU51bWJlcihuKXx8MDt2YXIgbz1lLmxlbmd0aC1uOyghcnx8bzwocj1OdW1iZXIocikpKSYmKHI9byksZCgobz10Lmxlbmd0aCklMj09MCxcIkludmFsaWQgaGV4IHN0cmluZ1wiKSxvLzI8ciYmKHI9by8yKTtmb3IodmFyIGk9MDtpPHI7aSsrKXt2YXIgdT1wYXJzZUludCh0LnN1YnN0cigyKmksMiksMTYpO2QoIWlzTmFOKHUpLFwiSW52YWxpZCBoZXggc3RyaW5nXCIpLGVbbitpXT11fXJldHVybiBmLl9jaGFyc1dyaXR0ZW49MippLGl9KHRoaXMsZSx0LG4pO2JyZWFrO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmk9dGhpcyx1PXQscz1uLG89Zi5fY2hhcnNXcml0dGVuPWMoVChlKSxpLHUscyk7YnJlYWs7Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpvPWIodGhpcyxlLHQsbik7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6aT10aGlzLHU9dCxzPW4sbz1mLl9jaGFyc1dyaXR0ZW49YyhNKGUpLGksdSxzKTticmVhaztjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpvPW0odGhpcyxlLHQsbik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nXCIpfXJldHVybiBvfSxmLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLHUscz10aGlzO2lmKGU9U3RyaW5nKGV8fFwidXRmOFwiKS50b0xvd2VyQ2FzZSgpLHQ9TnVtYmVyKHQpfHwwLChuPXZvaWQgMCE9PW4/TnVtYmVyKG4pOnMubGVuZ3RoKT09PXQpcmV0dXJuXCJcIjtzd2l0Y2goZSl7Y2FzZVwiaGV4XCI6cj1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5sZW5ndGg7KCF0fHx0PDApJiYodD0wKTsoIW58fG48MHx8cjxuKSYmKG49cik7Zm9yKHZhciBvPVwiXCIsaT10O2k8bjtpKyspbys9ayhlW2ldKTtyZXR1cm4gb30ocyx0LG4pO2JyZWFrO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVwiXCIsbz1cIlwiO249TWF0aC5taW4oZS5sZW5ndGgsbik7Zm9yKHZhciBpPXQ7aTxuO2krKyllW2ldPD0xMjc/KHIrPU4obykrU3RyaW5nLmZyb21DaGFyQ29kZShlW2ldKSxvPVwiXCIpOm8rPVwiJVwiK2VbaV0udG9TdHJpbmcoMTYpO3JldHVybiByK04obyl9KHMsdCxuKTticmVhaztjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOnI9dihzLHQsbik7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6bz1zLHU9bixyPTA9PT0oaT10KSYmdT09PW8ubGVuZ3RoP2EuZnJvbUJ5dGVBcnJheShvKTphLmZyb21CeXRlQXJyYXkoby5zbGljZShpLHUpKTticmVhaztjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9ZS5zbGljZSh0LG4pLG89XCJcIixpPTA7aTxyLmxlbmd0aDtpKz0yKW8rPVN0cmluZy5mcm9tQ2hhckNvZGUocltpXSsyNTYqcltpKzFdKTtyZXR1cm4gb30ocyx0LG4pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBlbmNvZGluZ1wiKX1yZXR1cm4gcn0sZi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6XCJCdWZmZXJcIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19LGYucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSx0LG4scil7aWYodD10fHwwLChyPXJ8fDA9PT1yP3I6dGhpcy5sZW5ndGgpIT09KG49bnx8MCkmJjAhPT1lLmxlbmd0aCYmMCE9PXRoaXMubGVuZ3RoKXtkKG48PXIsXCJzb3VyY2VFbmQgPCBzb3VyY2VTdGFydFwiKSxkKDA8PXQmJnQ8ZS5sZW5ndGgsXCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzXCIpLGQoMDw9biYmbjx0aGlzLmxlbmd0aCxcInNvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHNcIiksZCgwPD1yJiZyPD10aGlzLmxlbmd0aCxcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpLHI+dGhpcy5sZW5ndGgmJihyPXRoaXMubGVuZ3RoKTt2YXIgbz0ocj1lLmxlbmd0aC10PHItbj9lLmxlbmd0aC10K246ciktbjtpZihvPDEwMHx8IWYuX3VzZVR5cGVkQXJyYXlzKWZvcih2YXIgaT0wO2k8bztpKyspZVtpK3RdPXRoaXNbaStuXTtlbHNlIGUuX3NldCh0aGlzLnN1YmFycmF5KG4sbitvKSx0KX19LGYucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5sZW5ndGg7aWYoZT1TKGUsbiwwKSx0PVModCxuLG4pLGYuX3VzZVR5cGVkQXJyYXlzKXJldHVybiBmLl9hdWdtZW50KHRoaXMuc3ViYXJyYXkoZSx0KSk7Zm9yKHZhciByPXQtZSxvPW5ldyBmKHIsdm9pZCAwLCEwKSxpPTA7aTxyO2krKylvW2ldPXRoaXNbaStlXTtyZXR1cm4gb30sZi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLmxvZyhcIi5nZXQoKSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdXNpbmcgYXJyYXkgaW5kZXhlcyBpbnN0ZWFkLlwiKSx0aGlzLnJlYWRVSW50OChlKX0sZi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNvbnNvbGUubG9nKFwiLnNldCgpIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB1c2luZyBhcnJheSBpbmRleGVzIGluc3RlYWQuXCIpLHRoaXMud3JpdGVVSW50OChlLHQpfSxmLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24oZSx0KXtpZih0fHwoZChudWxsIT1lLFwibWlzc2luZyBvZmZzZXRcIiksZChlPHRoaXMubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLCEoZT49dGhpcy5sZW5ndGgpKXJldHVybiB0aGlzW2VdfSxmLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyh0aGlzLGUsITAsdCl9LGYucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbihlLHQpe3JldHVybiBvKHRoaXMsZSwhMSx0KX0sZi5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUodGhpcyxlLCEwLHQpfSxmLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdSh0aGlzLGUsITEsdCl9LGYucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGUsdCl7aWYodHx8KGQobnVsbCE9ZSxcIm1pc3Npbmcgb2Zmc2V0XCIpLGQoZTx0aGlzLmxlbmd0aCxcIlRyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpKSwhKGU+PXRoaXMubGVuZ3RoKSlyZXR1cm4gMTI4JnRoaXNbZV0/LTEqKDI1NS10aGlzW2VdKzEpOnRoaXNbZV19LGYucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF8odGhpcyxlLCEwLHQpfSxmLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbihlLHQpe3JldHVybiBfKHRoaXMsZSwhMSx0KX0sZi5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRSh0aGlzLGUsITAsdCl9LGYucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEUodGhpcyxlLCExLHQpfSxmLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbihlLHQpe3JldHVybiBJKHRoaXMsZSwhMCx0KX0sZi5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSSh0aGlzLGUsITEsdCl9LGYucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbihlLHQpe3JldHVybiBBKHRoaXMsZSwhMCx0KX0sZi5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEEodGhpcyxlLCExLHQpfSxmLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKGUsdCxuKXtufHwoZChudWxsIT1lLFwibWlzc2luZyB2YWx1ZVwiKSxkKG51bGwhPXQsXCJtaXNzaW5nIG9mZnNldFwiKSxkKHQ8dGhpcy5sZW5ndGgsXCJ0cnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksWShlLDI1NSkpLHQ+PXRoaXMubGVuZ3RofHwodGhpc1t0XT1lKX0sZi5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbihlLHQsbil7cyh0aGlzLGUsdCwhMCxuKX0sZi5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbihlLHQsbil7cyh0aGlzLGUsdCwhMSxuKX0sZi5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbihlLHQsbil7bCh0aGlzLGUsdCwhMCxuKX0sZi5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbihlLHQsbil7bCh0aGlzLGUsdCwhMSxuKX0sZi5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKGUsdCxuKXtufHwoZChudWxsIT1lLFwibWlzc2luZyB2YWx1ZVwiKSxkKG51bGwhPXQsXCJtaXNzaW5nIG9mZnNldFwiKSxkKHQ8dGhpcy5sZW5ndGgsXCJUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksRihlLDEyNywtMTI4KSksdD49dGhpcy5sZW5ndGh8fCgwPD1lP3RoaXMud3JpdGVVSW50OChlLHQsbik6dGhpcy53cml0ZVVJbnQ4KDI1NStlKzEsdCxuKSl9LGYucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbihlLHQsbil7Qih0aGlzLGUsdCwhMCxuKX0sZi5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxuKXtCKHRoaXMsZSx0LCExLG4pfSxmLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24oZSx0LG4pe0wodGhpcyxlLHQsITAsbil9LGYucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbihlLHQsbil7TCh0aGlzLGUsdCwhMSxuKX0sZi5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKGUsdCxuKXtVKHRoaXMsZSx0LCEwLG4pfSxmLnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24oZSx0LG4pe1UodGhpcyxlLHQsITEsbil9LGYucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oZSx0LG4pe3godGhpcyxlLHQsITAsbil9LGYucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24oZSx0LG4pe3godGhpcyxlLHQsITEsbil9LGYucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24oZSx0LG4pe2lmKHQ9dHx8MCxuPW58fHRoaXMubGVuZ3RoLGQoXCJudW1iZXJcIj09dHlwZW9mKGU9XCJzdHJpbmdcIj09dHlwZW9mKGU9ZXx8MCk/ZS5jaGFyQ29kZUF0KDApOmUpJiYhaXNOYU4oZSksXCJ2YWx1ZSBpcyBub3QgYSBudW1iZXJcIiksZCh0PD1uLFwiZW5kIDwgc3RhcnRcIiksbiE9PXQmJjAhPT10aGlzLmxlbmd0aCl7ZCgwPD10JiZ0PHRoaXMubGVuZ3RoLFwic3RhcnQgb3V0IG9mIGJvdW5kc1wiKSxkKDA8PW4mJm48PXRoaXMubGVuZ3RoLFwiZW5kIG91dCBvZiBib3VuZHNcIik7Zm9yKHZhciByPXQ7cjxuO3IrKyl0aGlzW3JdPWV9fSxmLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9dGhpcy5sZW5ndGgsbj0wO248dDtuKyspaWYoZVtuXT1rKHRoaXNbbl0pLG49PT1ILklOU1BFQ1RfTUFYX0JZVEVTKXtlW24rMV09XCIuLi5cIjticmVha31yZXR1cm5cIjxCdWZmZXIgXCIrZS5qb2luKFwiIFwiKStcIj5cIn0sZi5wcm90b3R5cGUudG9BcnJheUJ1ZmZlcj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBVaW50OEFycmF5KXRocm93IG5ldyBFcnJvcihcIkJ1ZmZlci50b0FycmF5QnVmZmVyIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO2lmKGYuX3VzZVR5cGVkQXJyYXlzKXJldHVybiBuZXcgZih0aGlzKS5idWZmZXI7Zm9yKHZhciBlPW5ldyBVaW50OEFycmF5KHRoaXMubGVuZ3RoKSx0PTAsbj1lLmxlbmd0aDt0PG47dCs9MSllW3RdPXRoaXNbdF07cmV0dXJuIGUuYnVmZmVyfTt2YXIgdD1mLnByb3RvdHlwZTtmdW5jdGlvbiBTKGUsdCxuKXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgZT9uOnQ8PShlPX5+ZSk/dDowPD1lfHwwPD0oZSs9dCk/ZTowfWZ1bmN0aW9uIGooZSl7cmV0dXJuKGU9fn5NYXRoLmNlaWwoK2UpKTwwPzA6ZX1mdW5jdGlvbiBDKGUpe3JldHVybihBcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9KShlKX1mdW5jdGlvbiBrKGUpe3JldHVybiBlPDE2P1wiMFwiK2UudG9TdHJpbmcoMTYpOmUudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIFQoZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZS5jaGFyQ29kZUF0KG4pO2lmKHI8PTEyNyl0LnB1c2goZS5jaGFyQ29kZUF0KG4pKTtlbHNlIGZvcih2YXIgbz1uLGk9KDU1Mjk2PD1yJiZyPD01NzM0MyYmbisrLGVuY29kZVVSSUNvbXBvbmVudChlLnNsaWNlKG8sbisxKSkuc3Vic3RyKDEpLnNwbGl0KFwiJVwiKSksdT0wO3U8aS5sZW5ndGg7dSsrKXQucHVzaChwYXJzZUludChpW3VdLDE2KSl9cmV0dXJuIHR9ZnVuY3Rpb24gTShlKXtyZXR1cm4gYS50b0J5dGVBcnJheShlKX1mdW5jdGlvbiBjKGUsdCxuLHIpe2Zvcih2YXIgbz0wO288ciYmIShvK24+PXQubGVuZ3RofHxvPj1lLmxlbmd0aCk7bysrKXRbbytuXT1lW29dO3JldHVybiBvfWZ1bmN0aW9uIE4oZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9Y2F0Y2goZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzMpfX1mdW5jdGlvbiBZKGUsdCl7ZChcIm51bWJlclwiPT10eXBlb2YgZSxcImNhbm5vdCB3cml0ZSBhIG5vbi1udW1iZXIgYXMgYSBudW1iZXJcIiksZCgwPD1lLFwic3BlY2lmaWVkIGEgbmVnYXRpdmUgdmFsdWUgZm9yIHdyaXRpbmcgYW4gdW5zaWduZWQgdmFsdWVcIiksZChlPD10LFwidmFsdWUgaXMgbGFyZ2VyIHRoYW4gbWF4aW11bSB2YWx1ZSBmb3IgdHlwZVwiKSxkKE1hdGguZmxvb3IoZSk9PT1lLFwidmFsdWUgaGFzIGEgZnJhY3Rpb25hbCBjb21wb25lbnRcIil9ZnVuY3Rpb24gRihlLHQsbil7ZChcIm51bWJlclwiPT10eXBlb2YgZSxcImNhbm5vdCB3cml0ZSBhIG5vbi1udW1iZXIgYXMgYSBudW1iZXJcIiksZChlPD10LFwidmFsdWUgbGFyZ2VyIHRoYW4gbWF4aW11bSBhbGxvd2VkIHZhbHVlXCIpLGQobjw9ZSxcInZhbHVlIHNtYWxsZXIgdGhhbiBtaW5pbXVtIGFsbG93ZWQgdmFsdWVcIiksZChNYXRoLmZsb29yKGUpPT09ZSxcInZhbHVlIGhhcyBhIGZyYWN0aW9uYWwgY29tcG9uZW50XCIpfWZ1bmN0aW9uIEQoZSx0LG4pe2QoXCJudW1iZXJcIj09dHlwZW9mIGUsXCJjYW5ub3Qgd3JpdGUgYSBub24tbnVtYmVyIGFzIGEgbnVtYmVyXCIpLGQoZTw9dCxcInZhbHVlIGxhcmdlciB0aGFuIG1heGltdW0gYWxsb3dlZCB2YWx1ZVwiKSxkKG48PWUsXCJ2YWx1ZSBzbWFsbGVyIHRoYW4gbWluaW11bSBhbGxvd2VkIHZhbHVlXCIpfWZ1bmN0aW9uIGQoZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IodHx8XCJGYWlsZWQgYXNzZXJ0aW9uXCIpfWYuX2F1Z21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX2lzQnVmZmVyPSEwLGUuX2dldD1lLmdldCxlLl9zZXQ9ZS5zZXQsZS5nZXQ9dC5nZXQsZS5zZXQ9dC5zZXQsZS53cml0ZT10LndyaXRlLGUudG9TdHJpbmc9dC50b1N0cmluZyxlLnRvTG9jYWxlU3RyaW5nPXQudG9TdHJpbmcsZS50b0pTT049dC50b0pTT04sZS5jb3B5PXQuY29weSxlLnNsaWNlPXQuc2xpY2UsZS5yZWFkVUludDg9dC5yZWFkVUludDgsZS5yZWFkVUludDE2TEU9dC5yZWFkVUludDE2TEUsZS5yZWFkVUludDE2QkU9dC5yZWFkVUludDE2QkUsZS5yZWFkVUludDMyTEU9dC5yZWFkVUludDMyTEUsZS5yZWFkVUludDMyQkU9dC5yZWFkVUludDMyQkUsZS5yZWFkSW50OD10LnJlYWRJbnQ4LGUucmVhZEludDE2TEU9dC5yZWFkSW50MTZMRSxlLnJlYWRJbnQxNkJFPXQucmVhZEludDE2QkUsZS5yZWFkSW50MzJMRT10LnJlYWRJbnQzMkxFLGUucmVhZEludDMyQkU9dC5yZWFkSW50MzJCRSxlLnJlYWRGbG9hdExFPXQucmVhZEZsb2F0TEUsZS5yZWFkRmxvYXRCRT10LnJlYWRGbG9hdEJFLGUucmVhZERvdWJsZUxFPXQucmVhZERvdWJsZUxFLGUucmVhZERvdWJsZUJFPXQucmVhZERvdWJsZUJFLGUud3JpdGVVSW50OD10LndyaXRlVUludDgsZS53cml0ZVVJbnQxNkxFPXQud3JpdGVVSW50MTZMRSxlLndyaXRlVUludDE2QkU9dC53cml0ZVVJbnQxNkJFLGUud3JpdGVVSW50MzJMRT10LndyaXRlVUludDMyTEUsZS53cml0ZVVJbnQzMkJFPXQud3JpdGVVSW50MzJCRSxlLndyaXRlSW50OD10LndyaXRlSW50OCxlLndyaXRlSW50MTZMRT10LndyaXRlSW50MTZMRSxlLndyaXRlSW50MTZCRT10LndyaXRlSW50MTZCRSxlLndyaXRlSW50MzJMRT10LndyaXRlSW50MzJMRSxlLndyaXRlSW50MzJCRT10LndyaXRlSW50MzJCRSxlLndyaXRlRmxvYXRMRT10LndyaXRlRmxvYXRMRSxlLndyaXRlRmxvYXRCRT10LndyaXRlRmxvYXRCRSxlLndyaXRlRG91YmxlTEU9dC53cml0ZURvdWJsZUxFLGUud3JpdGVEb3VibGVCRT10LndyaXRlRG91YmxlQkUsZS5maWxsPXQuZmlsbCxlLmluc3BlY3Q9dC5pbnNwZWN0LGUudG9BcnJheUJ1ZmZlcj10LnRvQXJyYXlCdWZmZXIsZX19LmNhbGwodGhpcyxPKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sTyhcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2J1ZmZlci9pbmRleC5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2J1ZmZlclwiKX0se1wiYmFzZTY0LWpzXCI6MixidWZmZXI6MyxpZWVlNzU0OjEwLGxZcG9JMjoxMX1dLDQ6W2Z1bmN0aW9uKGMsZCxlKXshZnVuY3Rpb24oZSx0LGEsbixyLG8saSx1LHMpe3ZhciBhPWMoXCJidWZmZXJcIikuQnVmZmVyLGY9NCxsPW5ldyBhKGYpO2wuZmlsbCgwKTtkLmV4cG9ydHM9e2hhc2g6ZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBvPXQoZnVuY3Rpb24oZSx0KXtlLmxlbmd0aCVmIT0wJiYobj1lLmxlbmd0aCsoZi1lLmxlbmd0aCVmKSxlPWEuY29uY2F0KFtlLGxdLG4pKTtmb3IodmFyIG4scj1bXSxvPXQ/ZS5yZWFkSW50MzJCRTplLnJlYWRJbnQzMkxFLGk9MDtpPGUubGVuZ3RoO2krPWYpci5wdXNoKG8uY2FsbChlLGkpKTtyZXR1cm4gcn0oZT1hLmlzQnVmZmVyKGUpP2U6bmV3IGEoZSksciksOCplLmxlbmd0aCksdD1yLGk9bmV3IGEobiksdT10P2kud3JpdGVJbnQzMkJFOmkud3JpdGVJbnQzMkxFLHM9MDtzPG8ubGVuZ3RoO3MrKyl1LmNhbGwoaSxvW3NdLDQqcywhMCk7cmV0dXJuIGl9fX0uY2FsbCh0aGlzLGMoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSxjKFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvaGVscGVycy5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5XCIpfSx7YnVmZmVyOjMsbFlwb0kyOjExfV0sNTpbZnVuY3Rpb24odixlLF8peyFmdW5jdGlvbihsLGMsdSxkLGgscCxnLHksdyl7dmFyIHU9dihcImJ1ZmZlclwiKS5CdWZmZXIsZT12KFwiLi9zaGFcIiksdD12KFwiLi9zaGEyNTZcIiksbj12KFwiLi9ybmdcIiksYj17c2hhMTplLHNoYTI1Njp0LG1kNTp2KFwiLi9tZDVcIil9LHM9NjQsYT1uZXcgdShzKTtmdW5jdGlvbiByKGUsbil7dmFyIHI9YltlPWV8fFwic2hhMVwiXSxvPVtdO3JldHVybiByfHxpKFwiYWxnb3JpdGhtOlwiLGUsXCJpcyBub3QgeWV0IHN1cHBvcnRlZFwiKSx7dXBkYXRlOmZ1bmN0aW9uKGUpe3JldHVybiB1LmlzQnVmZmVyKGUpfHwoZT1uZXcgdShlKSksby5wdXNoKGUpLGUubGVuZ3RoLHRoaXN9LGRpZ2VzdDpmdW5jdGlvbihlKXt2YXIgdD11LmNvbmNhdChvKSx0PW4/ZnVuY3Rpb24oZSx0LG4pe3UuaXNCdWZmZXIodCl8fCh0PW5ldyB1KHQpKSx1LmlzQnVmZmVyKG4pfHwobj1uZXcgdShuKSksdC5sZW5ndGg+cz90PWUodCk6dC5sZW5ndGg8cyYmKHQ9dS5jb25jYXQoW3QsYV0scykpO2Zvcih2YXIgcj1uZXcgdShzKSxvPW5ldyB1KHMpLGk9MDtpPHM7aSsrKXJbaV09NTRedFtpXSxvW2ldPTkyXnRbaV07cmV0dXJuIG49ZSh1LmNvbmNhdChbcixuXSkpLGUodS5jb25jYXQoW28sbl0pKX0ocixuLHQpOnIodCk7cmV0dXJuIG89bnVsbCxlP3QudG9TdHJpbmcoZSk6dH19fWZ1bmN0aW9uIGkoKXt2YXIgZT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbihcIiBcIik7dGhyb3cgbmV3IEVycm9yKFtlLFwid2UgYWNjZXB0IHB1bGwgcmVxdWVzdHNcIixcImh0dHA6Ly9naXRodWIuY29tL2RvbWluaWN0YXJyL2NyeXB0by1icm93c2VyaWZ5XCJdLmpvaW4oXCJcXG5cIikpfWEuZmlsbCgwKSxfLmNyZWF0ZUhhc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSl9LF8uY3JlYXRlSG1hYz1yLF8ucmFuZG9tQnl0ZXM9ZnVuY3Rpb24oZSx0KXtpZighdHx8IXQuY2FsbClyZXR1cm4gbmV3IHUobihlKSk7dHJ5e3QuY2FsbCh0aGlzLHZvaWQgMCxuZXcgdShuKGUpKSl9Y2F0Y2goZSl7dChlKX19O3ZhciBvLGY9W1wiY3JlYXRlQ3JlZGVudGlhbHNcIixcImNyZWF0ZUNpcGhlclwiLFwiY3JlYXRlQ2lwaGVyaXZcIixcImNyZWF0ZURlY2lwaGVyXCIsXCJjcmVhdGVEZWNpcGhlcml2XCIsXCJjcmVhdGVTaWduXCIsXCJjcmVhdGVWZXJpZnlcIixcImNyZWF0ZURpZmZpZUhlbGxtYW5cIixcInBia2RmMlwiXSxtPWZ1bmN0aW9uKGUpe19bZV09ZnVuY3Rpb24oKXtpKFwic29ycnksXCIsZSxcImlzIG5vdCBpbXBsZW1lbnRlZCB5ZXRcIil9fTtmb3IobyBpbiBmKW0oZltvXSxvKX0uY2FsbCh0aGlzLHYoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSx2KFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvaW5kZXguanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeVwiKX0se1wiLi9tZDVcIjo2LFwiLi9ybmdcIjo3LFwiLi9zaGFcIjo4LFwiLi9zaGEyNTZcIjo5LGJ1ZmZlcjozLGxZcG9JMjoxMX1dLDY6W2Z1bmN0aW9uKHcsYixlKXshZnVuY3Rpb24oZSxyLG8saSx1LGEsZixsLHkpe3ZhciB0PXcoXCIuL2hlbHBlcnNcIik7ZnVuY3Rpb24gbihlLHQpe2VbdD4+NV18PTEyODw8dCUzMixlWzE0Kyh0KzY0Pj4+OTw8NCldPXQ7Zm9yKHZhciBuPTE3MzI1ODQxOTMscj0tMjcxNzMzODc5LG89LTE3MzI1ODQxOTQsaT0yNzE3MzM4NzgsdT0wO3U8ZS5sZW5ndGg7dSs9MTYpe3ZhciBzPW4sYT1yLGY9byxsPWksbj1jKG4scixvLGksZVt1KzBdLDcsLTY4MDg3NjkzNiksaT1jKGksbixyLG8sZVt1KzFdLDEyLC0zODk1NjQ1ODYpLG89YyhvLGksbixyLGVbdSsyXSwxNyw2MDYxMDU4MTkpLHI9YyhyLG8saSxuLGVbdSszXSwyMiwtMTA0NDUyNTMzMCk7bj1jKG4scixvLGksZVt1KzRdLDcsLTE3NjQxODg5NyksaT1jKGksbixyLG8sZVt1KzVdLDEyLDEyMDAwODA0MjYpLG89YyhvLGksbixyLGVbdSs2XSwxNywtMTQ3MzIzMTM0MSkscj1jKHIsbyxpLG4sZVt1KzddLDIyLC00NTcwNTk4Myksbj1jKG4scixvLGksZVt1KzhdLDcsMTc3MDAzNTQxNiksaT1jKGksbixyLG8sZVt1KzldLDEyLC0xOTU4NDE0NDE3KSxvPWMobyxpLG4scixlW3UrMTBdLDE3LC00MjA2Mykscj1jKHIsbyxpLG4sZVt1KzExXSwyMiwtMTk5MDQwNDE2Miksbj1jKG4scixvLGksZVt1KzEyXSw3LDE4MDQ2MDM2ODIpLGk9YyhpLG4scixvLGVbdSsxM10sMTIsLTQwMzQxMTAxKSxvPWMobyxpLG4scixlW3UrMTRdLDE3LC0xNTAyMDAyMjkwKSxuPWQobixyPWMocixvLGksbixlW3UrMTVdLDIyLDEyMzY1MzUzMjkpLG8saSxlW3UrMV0sNSwtMTY1Nzk2NTEwKSxpPWQoaSxuLHIsbyxlW3UrNl0sOSwtMTA2OTUwMTYzMiksbz1kKG8saSxuLHIsZVt1KzExXSwxNCw2NDM3MTc3MTMpLHI9ZChyLG8saSxuLGVbdSswXSwyMCwtMzczODk3MzAyKSxuPWQobixyLG8saSxlW3UrNV0sNSwtNzAxNTU4NjkxKSxpPWQoaSxuLHIsbyxlW3UrMTBdLDksMzgwMTYwODMpLG89ZChvLGksbixyLGVbdSsxNV0sMTQsLTY2MDQ3ODMzNSkscj1kKHIsbyxpLG4sZVt1KzRdLDIwLC00MDU1Mzc4NDgpLG49ZChuLHIsbyxpLGVbdSs5XSw1LDU2ODQ0NjQzOCksaT1kKGksbixyLG8sZVt1KzE0XSw5LC0xMDE5ODAzNjkwKSxvPWQobyxpLG4scixlW3UrM10sMTQsLTE4NzM2Mzk2MSkscj1kKHIsbyxpLG4sZVt1KzhdLDIwLDExNjM1MzE1MDEpLG49ZChuLHIsbyxpLGVbdSsxM10sNSwtMTQ0NDY4MTQ2NyksaT1kKGksbixyLG8sZVt1KzJdLDksLTUxNDAzNzg0KSxvPWQobyxpLG4scixlW3UrN10sMTQsMTczNTMyODQ3Myksbj1oKG4scj1kKHIsbyxpLG4sZVt1KzEyXSwyMCwtMTkyNjYwNzczNCksbyxpLGVbdSs1XSw0LC0zNzg1NTgpLGk9aChpLG4scixvLGVbdSs4XSwxMSwtMjAyMjU3NDQ2Myksbz1oKG8saSxuLHIsZVt1KzExXSwxNiwxODM5MDMwNTYyKSxyPWgocixvLGksbixlW3UrMTRdLDIzLC0zNTMwOTU1Niksbj1oKG4scixvLGksZVt1KzFdLDQsLTE1MzA5OTIwNjApLGk9aChpLG4scixvLGVbdSs0XSwxMSwxMjcyODkzMzUzKSxvPWgobyxpLG4scixlW3UrN10sMTYsLTE1NTQ5NzYzMikscj1oKHIsbyxpLG4sZVt1KzEwXSwyMywtMTA5NDczMDY0MCksbj1oKG4scixvLGksZVt1KzEzXSw0LDY4MTI3OTE3NCksaT1oKGksbixyLG8sZVt1KzBdLDExLC0zNTg1MzcyMjIpLG89aChvLGksbixyLGVbdSszXSwxNiwtNzIyNTIxOTc5KSxyPWgocixvLGksbixlW3UrNl0sMjMsNzYwMjkxODkpLG49aChuLHIsbyxpLGVbdSs5XSw0LC02NDAzNjQ0ODcpLGk9aChpLG4scixvLGVbdSsxMl0sMTEsLTQyMTgxNTgzNSksbz1oKG8saSxuLHIsZVt1KzE1XSwxNiw1MzA3NDI1MjApLG49cChuLHI9aChyLG8saSxuLGVbdSsyXSwyMywtOTk1MzM4NjUxKSxvLGksZVt1KzBdLDYsLTE5ODYzMDg0NCksaT1wKGksbixyLG8sZVt1KzddLDEwLDExMjY4OTE0MTUpLG89cChvLGksbixyLGVbdSsxNF0sMTUsLTE0MTYzNTQ5MDUpLHI9cChyLG8saSxuLGVbdSs1XSwyMSwtNTc0MzQwNTUpLG49cChuLHIsbyxpLGVbdSsxMl0sNiwxNzAwNDg1NTcxKSxpPXAoaSxuLHIsbyxlW3UrM10sMTAsLTE4OTQ5ODY2MDYpLG89cChvLGksbixyLGVbdSsxMF0sMTUsLTEwNTE1MjMpLHI9cChyLG8saSxuLGVbdSsxXSwyMSwtMjA1NDkyMjc5OSksbj1wKG4scixvLGksZVt1KzhdLDYsMTg3MzMxMzM1OSksaT1wKGksbixyLG8sZVt1KzE1XSwxMCwtMzA2MTE3NDQpLG89cChvLGksbixyLGVbdSs2XSwxNSwtMTU2MDE5ODM4MCkscj1wKHIsbyxpLG4sZVt1KzEzXSwyMSwxMzA5MTUxNjQ5KSxuPXAobixyLG8saSxlW3UrNF0sNiwtMTQ1NTIzMDcwKSxpPXAoaSxuLHIsbyxlW3UrMTFdLDEwLC0xMTIwMjEwMzc5KSxvPXAobyxpLG4scixlW3UrMl0sMTUsNzE4Nzg3MjU5KSxyPXAocixvLGksbixlW3UrOV0sMjEsLTM0MzQ4NTU1MSksbj1nKG4scykscj1nKHIsYSksbz1nKG8sZiksaT1nKGksbCl9cmV0dXJuIEFycmF5KG4scixvLGkpfWZ1bmN0aW9uIHMoZSx0LG4scixvLGkpe3JldHVybiBnKCh0PWcoZyh0LGUpLGcocixpKSkpPDxvfHQ+Pj4zMi1vLG4pfWZ1bmN0aW9uIGMoZSx0LG4scixvLGksdSl7cmV0dXJuIHModCZufH50JnIsZSx0LG8saSx1KX1mdW5jdGlvbiBkKGUsdCxuLHIsbyxpLHUpe3JldHVybiBzKHQmcnxuJn5yLGUsdCxvLGksdSl9ZnVuY3Rpb24gaChlLHQsbixyLG8saSx1KXtyZXR1cm4gcyh0Xm5ecixlLHQsbyxpLHUpfWZ1bmN0aW9uIHAoZSx0LG4scixvLGksdSl7cmV0dXJuIHMobl4odHx+ciksZSx0LG8saSx1KX1mdW5jdGlvbiBnKGUsdCl7dmFyIG49KDY1NTM1JmUpKyg2NTUzNSZ0KTtyZXR1cm4oZT4+MTYpKyh0Pj4xNikrKG4+PjE2KTw8MTZ8NjU1MzUmbn1iLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFzaChlLG4sMTYpfX0uY2FsbCh0aGlzLHcoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSx3KFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbWQ1LmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnlcIil9LHtcIi4vaGVscGVyc1wiOjQsYnVmZmVyOjMsbFlwb0kyOjExfV0sNzpbZnVuY3Rpb24oZSxsLHQpeyFmdW5jdGlvbihlLHQsbixyLG8saSx1LHMsZil7dmFyIGE7bC5leHBvcnRzPWF8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKykwPT0oMyZyKSYmKHQ9NDI5NDk2NzI5NipNYXRoLnJhbmRvbSgpKSxuW3JdPXQ+Pj4oKDMmcik8PDMpJjI1NTtyZXR1cm4gbn19LmNhbGwodGhpcyxlKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L3JuZy5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5XCIpfSx7YnVmZmVyOjMsbFlwb0kyOjExfV0sODpbZnVuY3Rpb24oYyxkLGUpeyFmdW5jdGlvbihlLHQsbixyLG8scyxhLGYsbCl7dmFyIGk9YyhcIi4vaGVscGVyc1wiKTtmdW5jdGlvbiB1KGwsYyl7bFtjPj41XXw9MTI4PDwyNC1jJTMyLGxbMTUrKGMrNjQ+Pjk8PDQpXT1jO2Zvcih2YXIgZSx0LG4scj1BcnJheSg4MCksbz0xNzMyNTg0MTkzLGk9LTI3MTczMzg3OSx1PS0xNzMyNTg0MTk0LHM9MjcxNzMzODc4LGQ9LTEwMDk1ODk3NzYsaD0wO2g8bC5sZW5ndGg7aCs9MTYpe2Zvcih2YXIgcD1vLGc9aSx5PXUsdz1zLGI9ZCxhPTA7YTw4MDthKyspe3JbYV09YTwxNj9sW2grYV06dihyW2EtM11eclthLThdXnJbYS0xNF1eclthLTE2XSwxKTt2YXIgZj1tKG0odihvLDUpLChmPWksdD11LG49cywoZT1hKTwyMD9mJnR8fmYmbjohKGU8NDApJiZlPDYwP2YmdHxmJm58dCZuOmZedF5uKSksbShtKGQsclthXSksKGU9YSk8MjA/MTUxODUwMDI0OTplPDQwPzE4NTk3NzUzOTM6ZTw2MD8tMTg5NDAwNzU4ODotODk5NDk3NTE0KSksZD1zLHM9dSx1PXYoaSwzMCksaT1vLG89Zn1vPW0obyxwKSxpPW0oaSxnKSx1PW0odSx5KSxzPW0ocyx3KSxkPW0oZCxiKX1yZXR1cm4gQXJyYXkobyxpLHUscyxkKX1mdW5jdGlvbiBtKGUsdCl7dmFyIG49KDY1NTM1JmUpKyg2NTUzNSZ0KTtyZXR1cm4oZT4+MTYpKyh0Pj4xNikrKG4+PjE2KTw8MTZ8NjU1MzUmbn1mdW5jdGlvbiB2KGUsdCl7cmV0dXJuIGU8PHR8ZT4+PjMyLXR9ZC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpLmhhc2goZSx1LDIwLCEwKX19LmNhbGwodGhpcyxjKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sYyhcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L3NoYS5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5XCIpfSx7XCIuL2hlbHBlcnNcIjo0LGJ1ZmZlcjozLGxZcG9JMjoxMX1dLDk6W2Z1bmN0aW9uKGMsZCxlKXshZnVuY3Rpb24oZSx0LG4scix1LHMsYSxmLGwpe2Z1bmN0aW9uIGIoZSx0KXt2YXIgbj0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufWZ1bmN0aW9uIG8oZSxsKXt2YXIgYyxkPW5ldyBBcnJheSgxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOTgpLHQ9bmV3IEFycmF5KDE3NzkwMzM3MDMsMzE0NDEzNDI3NywxMDEzOTA0MjQyLDI3NzM0ODA3NjIsMTM1OTg5MzExOSwyNjAwODIyOTI0LDUyODczNDYzNSwxNTQxNDU5MjI1KSxuPW5ldyBBcnJheSg2NCk7ZVtsPj41XXw9MTI4PDwyNC1sJTMyLGVbMTUrKGwrNjQ+Pjk8PDQpXT1sO2Zvcih2YXIgcixvLGg9MDtoPGUubGVuZ3RoO2grPTE2KXtmb3IodmFyIGk9dFswXSx1PXRbMV0scz10WzJdLHA9dFszXSxhPXRbNF0sZz10WzVdLHk9dFs2XSx3PXRbN10sZj0wO2Y8NjQ7ZisrKW5bZl09ZjwxNj9lW2YraF06YihiKGIoKG89bltmLTJdLG0obywxNylebShvLDE5KV52KG8sMTApKSxuW2YtN10pLChvPW5bZi0xNV0sbShvLDcpXm0obywxOCledihvLDMpKSksbltmLTE2XSksYz1iKGIoYihiKHcsbShvPWEsNilebShvLDExKV5tKG8sMjUpKSxhJmdefmEmeSksZFtmXSksbltmXSkscj1iKG0ocj1pLDIpXm0ociwxMylebShyLDIyKSxpJnVeaSZzXnUmcyksdz15LHk9ZyxnPWEsYT1iKHAsYykscD1zLHM9dSx1PWksaT1iKGMscik7dFswXT1iKGksdFswXSksdFsxXT1iKHUsdFsxXSksdFsyXT1iKHMsdFsyXSksdFszXT1iKHAsdFszXSksdFs0XT1iKGEsdFs0XSksdFs1XT1iKGcsdFs1XSksdFs2XT1iKHksdFs2XSksdFs3XT1iKHcsdFs3XSl9cmV0dXJuIHR9dmFyIGk9YyhcIi4vaGVscGVyc1wiKSxtPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj50fGU8PDMyLXR9LHY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+PnR9O2QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaS5oYXNoKGUsbywzMiwhMCl9fS5jYWxsKHRoaXMsYyhcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGMoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9zaGEyNTYuanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeVwiKX0se1wiLi9oZWxwZXJzXCI6NCxidWZmZXI6MyxsWXBvSTI6MTF9XSwxMDpbZnVuY3Rpb24oZSx0LGYpeyFmdW5jdGlvbihlLHQsbixyLG8saSx1LHMsYSl7Zi5yZWFkPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksdSxsPTgqby1yLTEsYz0oMTw8bCktMSxkPWM+PjEscz0tNyxhPW4/by0xOjAsZj1uPy0xOjEsbz1lW3QrYV07Zm9yKGErPWYsaT1vJigxPDwtcyktMSxvPj49LXMscys9bDswPHM7aT0yNTYqaStlW3QrYV0sYSs9ZixzLT04KTtmb3IodT1pJigxPDwtcyktMSxpPj49LXMscys9cjswPHM7dT0yNTYqdStlW3QrYV0sYSs9ZixzLT04KTtpZigwPT09aSlpPTEtZDtlbHNle2lmKGk9PT1jKXJldHVybiB1P05hTjoxLzAqKG8/LTE6MSk7dSs9TWF0aC5wb3coMixyKSxpLT1kfXJldHVybihvPy0xOjEpKnUqTWF0aC5wb3coMixpLXIpfSxmLndyaXRlPWZ1bmN0aW9uKGUsdCxsLG4scixjKXt2YXIgbyxpLHU9OCpjLXItMSxzPSgxPDx1KS0xLGE9cz4+MSxkPTIzPT09cj9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsZj1uPzA6Yy0xLGg9bj8xOi0xLGM9dDwwfHwwPT09dCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhpPWlzTmFOKHQpPzE6MCxvPXMpOihvPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKG49TWF0aC5wb3coMiwtbykpPDEmJihvLS0sbio9MiksMjw9KHQrPTE8PW8rYT9kL246ZCpNYXRoLnBvdygyLDEtYSkpKm4mJihvKyssbi89Miksczw9bythPyhpPTAsbz1zKToxPD1vK2E/KGk9KHQqbi0xKSpNYXRoLnBvdygyLHIpLG8rPWEpOihpPXQqTWF0aC5wb3coMixhLTEpKk1hdGgucG93KDIsciksbz0wKSk7ODw9cjtlW2wrZl09MjU1JmksZis9aCxpLz0yNTYsci09OCk7Zm9yKG89bzw8cnxpLHUrPXI7MDx1O2VbbCtmXT0yNTUmbyxmKz1oLG8vPTI1Nix1LT04KTtlW2wrZi1oXXw9MTI4KmN9fS5jYWxsKHRoaXMsZShcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvaWVlZTc1NFwiKX0se2J1ZmZlcjozLGxZcG9JMjoxMX1dLDExOltmdW5jdGlvbihlLGgsdCl7IWZ1bmN0aW9uKGUsdCxuLHIsbyxmLGwsYyxkKXt2YXIgaSx1LHM7ZnVuY3Rpb24gYSgpe30oZT1oLmV4cG9ydHM9e30pLm5leHRUaWNrPSh1PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5zZXRJbW1lZGlhdGUscz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucG9zdE1lc3NhZ2UmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyLHU/ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5zZXRJbW1lZGlhdGUoZSl9OnM/KGk9W10sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zb3VyY2U7dCE9PXdpbmRvdyYmbnVsbCE9PXR8fFwicHJvY2Vzcy10aWNrXCIhPT1lLmRhdGF8fChlLnN0b3BQcm9wYWdhdGlvbigpLDA8aS5sZW5ndGgmJmkuc2hpZnQoKSgpKX0sITApLGZ1bmN0aW9uKGUpe2kucHVzaChlKSx3aW5kb3cucG9zdE1lc3NhZ2UoXCJwcm9jZXNzLXRpY2tcIixcIipcIil9KTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsMCl9KSxlLnRpdGxlPVwiYnJvd3NlclwiLGUuYnJvd3Nlcj0hMCxlLmVudj17fSxlLmFyZ3Y9W10sZS5vbj1hLGUuYWRkTGlzdGVuZXI9YSxlLm9uY2U9YSxlLm9mZj1hLGUucmVtb3ZlTGlzdGVuZXI9YSxlLnJlbW92ZUFsbExpc3RlbmVycz1hLGUuZW1pdD1hLGUuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sZS5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0sZS5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9fS5jYWxsKHRoaXMsZShcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzXCIpfSx7YnVmZmVyOjMsbFlwb0kyOjExfV19LHt9LFsxXSkoMSl9KTsiLCJpbXBvcnQgaGFzaCBmcm9tIFwib2JqZWN0LWhhc2hcIjtcbmltcG9ydCB7IG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlLCB9IGZyb20gXCIuLi9zY2hlbWEvaW5kZXguanNcIjtcbi8qKlxuICogVGhpcyBjYWNoZSBrZXkgc2hvdWxkIGJlIGNvbnNpc3RlbnQgYWNyb3NzIGFsbCB2ZXJzaW9ucyBvZiBsYW5nY2hhaW4uXG4gKiBJdCBpcyBjdXJyZW50bHkgTk9UIGNvbnNpc3RlbnQgYWNyb3NzIHZlcnNpb25zIG9mIGxhbmdjaGFpbi5cbiAqXG4gKiBBIGh1Z2UgYmVuZWZpdCBvZiBoYXZpbmcgYSByZW1vdGUgY2FjaGUgKGxpa2UgcmVkaXMpIGlzIHRoYXQgeW91IGNhblxuICogYWNjZXNzIHRoZSBjYWNoZSBmcm9tIGRpZmZlcmVudCBwcm9jZXNzZXMvbWFjaGluZXMuIFRoZSBhbGxvd3MgeW91IHRvXG4gKiBzZXBlcmF0ZSBjb25jZXJucyBhbmQgc2NhbGUgaG9yaXpvbnRhbGx5LlxuICpcbiAqIFRPRE86IE1ha2UgY2FjaGUga2V5IGNvbnNpc3RlbnQgYWNyb3NzIHZlcnNpb25zIG9mIGxhbmdjaGFpbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldENhY2hlS2V5ID0gKC4uLnN0cmluZ3MpID0+IGhhc2goc3RyaW5ncy5qb2luKFwiX1wiKSk7XG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVTdG9yZWRHZW5lcmF0aW9uKHN0b3JlZEdlbmVyYXRpb24pIHtcbiAgICBpZiAoc3RvcmVkR2VuZXJhdGlvbi5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRleHQ6IHN0b3JlZEdlbmVyYXRpb24udGV4dCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlKHN0b3JlZEdlbmVyYXRpb24ubWVzc2FnZSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyB0ZXh0OiBzdG9yZWRHZW5lcmF0aW9uLnRleHQgfTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplR2VuZXJhdGlvbihnZW5lcmF0aW9uKSB7XG4gICAgY29uc3Qgc2VyaWFsaXplZFZhbHVlID0ge1xuICAgICAgICB0ZXh0OiBnZW5lcmF0aW9uLnRleHQsXG4gICAgfTtcbiAgICBpZiAoZ2VuZXJhdGlvbi5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2VyaWFsaXplZFZhbHVlLm1lc3NhZ2UgPSBnZW5lcmF0aW9uLm1lc3NhZ2UudG9EaWN0KCk7XG4gICAgfVxuICAgIHJldHVybiBzZXJpYWxpemVkVmFsdWU7XG59XG4iLCJpbXBvcnQgeyBnZXRDYWNoZUtleSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IEJhc2VDYWNoZSB9IGZyb20gXCIuLi9zY2hlbWEvaW5kZXguanNcIjtcbmNvbnN0IEdMT0JBTF9NQVAgPSBuZXcgTWFwKCk7XG4vKipcbiAqIEEgY2FjaGUgZm9yIHN0b3JpbmcgTExNIGdlbmVyYXRpb25zIHRoYXQgc3RvcmVzIGRhdGEgaW4gbWVtb3J5LlxuICovXG5leHBvcnQgY2xhc3MgSW5NZW1vcnlDYWNoZSBleHRlbmRzIEJhc2VDYWNoZSB7XG4gICAgY29uc3RydWN0b3IobWFwKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNhY2hlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBtYXAgPz8gbmV3IE1hcCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgZGF0YSBmcm9tIHRoZSBjYWNoZSB1c2luZyBhIHByb21wdCBhbmQgYW4gTExNIGtleS4gSWYgdGhlXG4gICAgICogZGF0YSBpcyBub3QgZm91bmQsIGl0IHJldHVybnMgbnVsbC5cbiAgICAgKiBAcGFyYW0gcHJvbXB0IFRoZSBwcm9tcHQgdXNlZCB0byBmaW5kIHRoZSBkYXRhLlxuICAgICAqIEBwYXJhbSBsbG1LZXkgVGhlIExMTSBrZXkgdXNlZCB0byBmaW5kIHRoZSBkYXRhLlxuICAgICAqIEByZXR1cm5zIFRoZSBkYXRhIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb21wdCBhbmQgTExNIGtleSwgb3IgbnVsbCBpZiBub3QgZm91bmQuXG4gICAgICovXG4gICAgbG9va3VwKHByb21wdCwgbGxtS2V5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jYWNoZS5nZXQoZ2V0Q2FjaGVLZXkocHJvbXB0LCBsbG1LZXkpKSA/PyBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY2FjaGUgd2l0aCBuZXcgZGF0YSB1c2luZyBhIHByb21wdCBhbmQgYW4gTExNIGtleS5cbiAgICAgKiBAcGFyYW0gcHJvbXB0IFRoZSBwcm9tcHQgdXNlZCB0byBzdG9yZSB0aGUgZGF0YS5cbiAgICAgKiBAcGFyYW0gbGxtS2V5IFRoZSBMTE0ga2V5IHVzZWQgdG8gc3RvcmUgdGhlIGRhdGEuXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSBkYXRhIHRvIGJlIHN0b3JlZC5cbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGUocHJvbXB0LCBsbG1LZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY2FjaGUuc2V0KGdldENhY2hlS2V5KHByb21wdCwgbGxtS2V5KSwgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZ2xvYmFsIGluc3RhbmNlIG9mIEluTWVtb3J5Q2FjaGUgdXNpbmcgYSBwcmVkZWZpbmVkIGdsb2JhbFxuICAgICAqIG1hcCBhcyB0aGUgaW5pdGlhbCBjYWNoZS5cbiAgICAgKiBAcmV0dXJucyBBIGdsb2JhbCBpbnN0YW5jZSBvZiBJbk1lbW9yeUNhY2hlLlxuICAgICAqL1xuICAgIHN0YXRpYyBnbG9iYWwoKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW5NZW1vcnlDYWNoZShHTE9CQUxfTUFQKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSwgfSBmcm9tIFwiLi4vc2NoZW1hL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBBc3luY0NhbGxlciB9IGZyb20gXCIuLi91dGlsL2FzeW5jX2NhbGxlci5qc1wiO1xuaW1wb3J0IHsgZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4gfSBmcm9tIFwiLi9jb3VudF90b2tlbnMuanNcIjtcbmltcG9ydCB7IGVuY29kaW5nRm9yTW9kZWwgfSBmcm9tIFwiLi4vdXRpbC90aWt0b2tlbi5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGUgfSBmcm9tIFwiLi4vc2NoZW1hL3J1bm5hYmxlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBTdHJpbmdQcm9tcHRWYWx1ZSB9IGZyb20gXCIuLi9wcm9tcHRzL2Jhc2UuanNcIjtcbmltcG9ydCB7IENoYXRQcm9tcHRWYWx1ZSB9IGZyb20gXCIuLi9wcm9tcHRzL2NoYXQuanNcIjtcbmltcG9ydCB7IEluTWVtb3J5Q2FjaGUgfSBmcm9tIFwiLi4vY2FjaGUvaW5kZXguanNcIjtcbmNvbnN0IGdldFZlcmJvc2l0eSA9ICgpID0+IGZhbHNlO1xuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBsYW5ndWFnZSBtb2RlbHMsIGNoYWlucywgdG9vbHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlTGFuZ0NoYWluIGV4dGVuZHMgUnVubmFibGUge1xuICAgIGdldCBsY19hdHRyaWJ1dGVzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB2ZXJib3NlOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBzdXBlcihwYXJhbXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0byBwcmludCBvdXQgcmVzcG9uc2UgdGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZlcmJvc2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FsbGJhY2tzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRhZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWV0YWRhdGFcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZXJib3NlID0gcGFyYW1zLnZlcmJvc2UgPz8gZ2V0VmVyYm9zaXR5KCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gcGFyYW1zLmNhbGxiYWNrcztcbiAgICAgICAgdGhpcy50YWdzID0gcGFyYW1zLnRhZ3MgPz8gW107XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBwYXJhbXMubWV0YWRhdGEgPz8ge307XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBsYW5ndWFnZSBtb2RlbHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlTGFuZ3VhZ2VNb2RlbCBleHRlbmRzIEJhc2VMYW5nQ2hhaW4ge1xuICAgIC8qKlxuICAgICAqIEtleXMgdGhhdCB0aGUgbGFuZ3VhZ2UgbW9kZWwgYWNjZXB0cyBhcyBjYWxsIG9wdGlvbnMuXG4gICAgICovXG4gICAgZ2V0IGNhbGxLZXlzKCkge1xuICAgICAgICByZXR1cm4gW1wic3RvcFwiLCBcInRpbWVvdXRcIiwgXCJzaWduYWxcIiwgXCJ0YWdzXCIsIFwibWV0YWRhdGFcIiwgXCJjYWxsYmFja3NcIl07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHsgY2FsbGJhY2tzLCBjYWxsYmFja01hbmFnZXIsIC4uLnBhcmFtcyB9KSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGNhbGxiYWNrczogY2FsbGJhY2tzID8/IGNhbGxiYWNrTWFuYWdlcixcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXN5bmMgY2FsbGVyIHNob3VsZCBiZSB1c2VkIGJ5IHN1YmNsYXNzZXMgdG8gbWFrZSBhbnkgYXN5bmMgY2FsbHMsXG4gICAgICAgICAqIHdoaWNoIHdpbGwgdGh1cyBiZW5lZml0IGZyb20gdGhlIGNvbmN1cnJlbmN5IGFuZCByZXRyeSBsb2dpYy5cbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNhbGxlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjYWNoZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZW5jb2RpbmdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMuY2FjaGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUgPSBwYXJhbXMuY2FjaGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW1zLmNhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlID0gSW5NZW1vcnlDYWNoZS5nbG9iYWwoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWxsZXIgPSBuZXcgQXN5bmNDYWxsZXIocGFyYW1zID8/IHt9KTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TnVtVG9rZW5zKHRleHQpIHtcbiAgICAgICAgLy8gZmFsbGJhY2sgdG8gYXBwcm94aW1hdGUgY2FsY3VsYXRpb24gaWYgdGlrdG9rZW4gaXMgbm90IGF2YWlsYWJsZVxuICAgICAgICBsZXQgbnVtVG9rZW5zID0gTWF0aC5jZWlsKHRleHQubGVuZ3RoIC8gNCk7XG4gICAgICAgIGlmICghdGhpcy5fZW5jb2RpbmcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5jb2RpbmcgPSBhd2FpdCBlbmNvZGluZ0Zvck1vZGVsKFwibW9kZWxOYW1lXCIgaW4gdGhpc1xuICAgICAgICAgICAgICAgICAgICA/IGdldE1vZGVsTmFtZUZvclRpa3Rva2VuKHRoaXMubW9kZWxOYW1lKVxuICAgICAgICAgICAgICAgICAgICA6IFwiZ3B0MlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBjYWxjdWxhdGUgbnVtYmVyIG9mIHRva2VucywgZmFsbGluZyBiYWNrIHRvIGFwcHJveGltYXRlIGNvdW50XCIsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZW5jb2RpbmcpIHtcbiAgICAgICAgICAgIG51bVRva2VucyA9IHRoaXMuX2VuY29kaW5nLmVuY29kZSh0ZXh0KS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bVRva2VucztcbiAgICB9XG4gICAgc3RhdGljIF9jb252ZXJ0SW5wdXRUb1Byb21wdFZhbHVlKGlucHV0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyaW5nUHJvbXB0VmFsdWUoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENoYXRQcm9tcHRWYWx1ZShpbnB1dC5tYXAoY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGlkZW50aWZ5aW5nIHBhcmFtZXRlcnMgb2YgdGhlIExMTS5cbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9pZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB1bmlxdWUgY2FjaGUga2V5IGZvciBhIHNwZWNpZmljIGNhbGwgdG8gYSBzcGVjaWZpYyBsYW5ndWFnZSBtb2RlbC5cbiAgICAgKiBAcGFyYW0gY2FsbE9wdGlvbnMgQ2FsbCBvcHRpb25zIGZvciB0aGUgbW9kZWxcbiAgICAgKiBAcmV0dXJucyBBIHVuaXF1ZSBjYWNoZSBrZXkuXG4gICAgICovXG4gICAgX2dldFNlcmlhbGl6ZWRDYWNoZUtleVBhcmFtZXRlcnNGb3JDYWxsKGNhbGxPcHRpb25zKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCksXG4gICAgICAgICAgICAuLi5jYWxsT3B0aW9ucyxcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9sbG1UeXBlKCksXG4gICAgICAgICAgICBfbW9kZWw6IHRoaXMuX21vZGVsVHlwZSgpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBmaWx0ZXJlZEVudHJpZXMgPSBPYmplY3QuZW50cmllcyhwYXJhbXMpLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRFbnRyaWVzID0gZmlsdGVyZWRFbnRyaWVzXG4gICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IGAke2tleX06JHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9YClcbiAgICAgICAgICAgIC5zb3J0KClcbiAgICAgICAgICAgIC5qb2luKFwiLFwiKTtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZWRFbnRyaWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIFJldHVybiBhIGpzb24tbGlrZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoaXMgTExNLlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCksXG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fbGxtVHlwZSgpLFxuICAgICAgICAgICAgX21vZGVsOiB0aGlzLl9tb2RlbFR5cGUoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBMb2FkIGFuIExMTSBmcm9tIGEganNvbi1saWtlIG9iamVjdCBkZXNjcmliaW5nIGl0LlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgX3R5cGUsIF9tb2RlbCwgLi4ucmVzdCB9ID0gZGF0YTtcbiAgICAgICAgaWYgKF9tb2RlbCAmJiBfbW9kZWwgIT09IFwiYmFzZV9jaGF0X21vZGVsXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGxvYWQgTExNIHdpdGggbW9kZWwgJHtfbW9kZWx9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgQ2xzID0ge1xuICAgICAgICAgICAgb3BlbmFpOiAoYXdhaXQgaW1wb3J0KFwiLi4vY2hhdF9tb2RlbHMvb3BlbmFpLmpzXCIpKS5DaGF0T3BlbkFJLFxuICAgICAgICB9W190eXBlXTtcbiAgICAgICAgaWYgKENscyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBsb2FkIExMTSB3aXRoIHR5cGUgJHtfdHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENscyhyZXN0KTtcbiAgICB9XG59XG4vKlxuICogRXhwb3J0IHV0aWxpdHkgZnVuY3Rpb25zIGZvciB0b2tlbiBjYWxjdWxhdGlvbnM6XG4gKiAtIGNhbGN1bGF0ZU1heFRva2VuczogQ2FsY3VsYXRlIG1heCB0b2tlbnMgZm9yIGEgZ2l2ZW4gbW9kZWwgYW5kIHByb21wdCAodGhlIG1vZGVsIGNvbnRleHQgc2l6ZSAtIHRva2VucyBpbiBwcm9tcHQpLlxuICogLSBnZXRNb2RlbENvbnRleHRTaXplOiBHZXQgdGhlIGNvbnRleHQgc2l6ZSBmb3IgYSBzcGVjaWZpYyBtb2RlbC5cbiAqL1xuZXhwb3J0IHsgY2FsY3VsYXRlTWF4VG9rZW5zLCBnZXRNb2RlbENvbnRleHRTaXplIH0gZnJvbSBcIi4vY291bnRfdG9rZW5zLmpzXCI7XG4iLCJpbXBvcnQgeyBBSU1lc3NhZ2UsIEdlbmVyYXRpb25DaHVuaywgUlVOX0tFWSwgfSBmcm9tIFwiLi4vc2NoZW1hL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYXNlTGFuZ3VhZ2VNb2RlbCwgfSBmcm9tIFwiLi4vYmFzZV9sYW5ndWFnZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgQ2FsbGJhY2tNYW5hZ2VyLCB9IGZyb20gXCIuLi9jYWxsYmFja3MvbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgZ2V0QnVmZmVyU3RyaW5nIH0gZnJvbSBcIi4uL21lbW9yeS9iYXNlLmpzXCI7XG4vKipcbiAqIExMTSBXcmFwcGVyLiBQcm92aWRlcyBhbiB7QGxpbmsgY2FsbH0gKGFuIHtAbGluayBnZW5lcmF0ZX0pIGZ1bmN0aW9uIHRoYXQgdGFrZXMgaW4gYSBwcm9tcHQgKG9yIHByb21wdHMpIGFuZCByZXR1cm5zIGEgc3RyaW5nLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZUxMTSBleHRlbmRzIEJhc2VMYW5ndWFnZU1vZGVsIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGNvbmN1cnJlbmN5LCAuLi5yZXN0IH0pIHtcbiAgICAgICAgc3VwZXIoY29uY3VycmVuY3kgPyB7IG1heENvbmN1cnJlbmN5OiBjb25jdXJyZW5jeSwgLi4ucmVzdCB9IDogcmVzdCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwibGxtc1wiLCB0aGlzLl9sbG1UeXBlKCldXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB0YWtlcyBhbiBpbnB1dCBhbmQgb3B0aW9ucywgYW5kIHJldHVybnMgYSBzdHJpbmcuIEl0XG4gICAgICogY29udmVydHMgdGhlIGlucHV0IHRvIGEgcHJvbXB0IHZhbHVlIGFuZCBnZW5lcmF0ZXMgYSByZXN1bHQgYmFzZWQgb25cbiAgICAgKiB0aGUgcHJvbXB0LlxuICAgICAqIEBwYXJhbSBpbnB1dCBJbnB1dCBmb3IgdGhlIExMTS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgTExNIGNhbGwuXG4gICAgICogQHJldHVybnMgQSBzdHJpbmcgcmVzdWx0IGJhc2VkIG9uIHRoZSBwcm9tcHQuXG4gICAgICovXG4gICAgYXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHByb21wdFZhbHVlID0gQmFzZUxMTS5fY29udmVydElucHV0VG9Qcm9tcHRWYWx1ZShpbnB1dCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVQcm9tcHQoW3Byb21wdFZhbHVlXSwgb3B0aW9ucywgb3B0aW9ucz8uY2FsbGJhY2tzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5nZW5lcmF0aW9uc1swXVswXS50ZXh0O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVxdWlyZS15aWVsZFxuICAgIGFzeW5jICpfc3RyZWFtUmVzcG9uc2VDaHVua3MoX2lucHV0LCBfb3B0aW9ucywgX3J1bk1hbmFnZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gICAgX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBjb25zdCBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXSA9IHN1cGVyLl9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBpZiAoY2FsbE9wdGlvbnM/LnRpbWVvdXQgJiYgIWNhbGxPcHRpb25zLnNpZ25hbCkge1xuICAgICAgICAgICAgY2FsbE9wdGlvbnMuc2lnbmFsID0gQWJvcnRTaWduYWwudGltZW91dChjYWxsT3B0aW9ucy50aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc107XG4gICAgfVxuICAgIGFzeW5jICpfc3RyZWFtSXRlcmF0b3IoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gU3ViY2xhc3MgY2hlY2sgcmVxdWlyZWQgdG8gYXZvaWQgZG91YmxlIGNhbGxiYWNrcyB3aXRoIGRlZmF1bHQgaW1wbGVtZW50YXRpb25cbiAgICAgICAgaWYgKHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzID09PSBCYXNlTExNLnByb3RvdHlwZS5fc3RyZWFtUmVzcG9uc2VDaHVua3MpIHtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuaW52b2tlKGlucHV0LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IEJhc2VMTE0uX2NvbnZlcnRJbnB1dFRvUHJvbXB0VmFsdWUoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc10gPSB0aGlzLl9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUocnVubmFibGVDb25maWcuY2FsbGJhY2tzLCB0aGlzLmNhbGxiYWNrcywgcnVubmFibGVDb25maWcudGFncywgdGhpcy50YWdzLCBydW5uYWJsZUNvbmZpZy5tZXRhZGF0YSwgdGhpcy5tZXRhZGF0YSwgeyB2ZXJib3NlOiB0aGlzLnZlcmJvc2UgfSk7XG4gICAgICAgICAgICBjb25zdCBleHRyYSA9IHtcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBjYWxsT3B0aW9ucyxcbiAgICAgICAgICAgICAgICBpbnZvY2F0aW9uX3BhcmFtczogdGhpcz8uaW52b2NhdGlvblBhcmFtcyhjYWxsT3B0aW9ucyksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVMTE1TdGFydCh0aGlzLnRvSlNPTigpLCBbcHJvbXB0LnRvU3RyaW5nKCldLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZXh0cmEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBydW5uYWJsZUNvbmZpZy5ydW5OYW1lKTtcbiAgICAgICAgICAgIGxldCBnZW5lcmF0aW9uID0gbmV3IEdlbmVyYXRpb25DaHVuayh7XG4gICAgICAgICAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKGlucHV0LnRvU3RyaW5nKCksIGNhbGxPcHRpb25zLCBydW5NYW5hZ2Vycz8uWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdlbmVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb24gPSBjaHVuaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb24gPSBnZW5lcmF0aW9uLmNvbmNhdChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaHVuay50ZXh0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCBjaHVuay50ZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKChydW5NYW5hZ2VycyA/PyBbXSkubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVMTE1FcnJvcihlcnIpKSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoKHJ1bk1hbmFnZXJzID8/IFtdKS5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTUVuZCh7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnM6IFtbZ2VuZXJhdGlvbl1dLFxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB0YWtlcyBwcm9tcHQgdmFsdWVzLCBvcHRpb25zLCBhbmQgY2FsbGJhY2tzLCBhbmQgZ2VuZXJhdGVzXG4gICAgICogYSByZXN1bHQgYmFzZWQgb24gdGhlIHByb21wdHMuXG4gICAgICogQHBhcmFtIHByb21wdFZhbHVlcyBQcm9tcHQgdmFsdWVzIGZvciB0aGUgTExNLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgZm9yIHRoZSBMTE0gY2FsbC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIENhbGxiYWNrcyBmb3IgdGhlIExMTSBjYWxsLlxuICAgICAqIEByZXR1cm5zIEFuIExMTVJlc3VsdCBiYXNlZCBvbiB0aGUgcHJvbXB0cy5cbiAgICAgKi9cbiAgICBhc3luYyBnZW5lcmF0ZVByb21wdChwcm9tcHRWYWx1ZXMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICBjb25zdCBwcm9tcHRzID0gcHJvbXB0VmFsdWVzLm1hcCgocHJvbXB0VmFsdWUpID0+IHByb21wdFZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZShwcm9tcHRzLCBvcHRpb25zLCBjYWxsYmFja3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBhcmFtZXRlcnMgdXNlZCB0byBpbnZva2UgdGhlIG1vZGVsXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBpbnZvY2F0aW9uUGFyYW1zKF9vcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgX2ZsYXR0ZW5MTE1SZXN1bHQobGxtUmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IGxsbVJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsbG1SZXN1bHQuZ2VuZXJhdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGdlbkxpc3QgPSBsbG1SZXN1bHQuZ2VuZXJhdGlvbnNbaV07XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGxsbVJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb25zOiBbZ2VuTGlzdF0sXG4gICAgICAgICAgICAgICAgICAgIGxsbU91dHB1dDogbGxtUmVzdWx0LmxsbU91dHB1dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxsbU91dHB1dCA9IGxsbVJlc3VsdC5sbG1PdXRwdXRcbiAgICAgICAgICAgICAgICAgICAgPyB7IC4uLmxsbVJlc3VsdC5sbG1PdXRwdXQsIHRva2VuVXNhZ2U6IHt9IH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbGxtUmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnM6IFtnZW5MaXN0XSxcbiAgICAgICAgICAgICAgICAgICAgbGxtT3V0cHV0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsbG1SZXN1bHRzO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9nZW5lcmF0ZVVuY2FjaGVkKHByb21wdHMsIHBhcnNlZE9wdGlvbnMsIGhhbmRsZWRPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBDYWxsYmFja01hbmFnZXIuY29uZmlndXJlKGhhbmRsZWRPcHRpb25zLmNhbGxiYWNrcywgdGhpcy5jYWxsYmFja3MsIGhhbmRsZWRPcHRpb25zLnRhZ3MsIHRoaXMudGFncywgaGFuZGxlZE9wdGlvbnMubWV0YWRhdGEsIHRoaXMubWV0YWRhdGEsIHsgdmVyYm9zZTogdGhpcy52ZXJib3NlIH0pO1xuICAgICAgICBjb25zdCBleHRyYSA9IHtcbiAgICAgICAgICAgIG9wdGlvbnM6IHBhcnNlZE9wdGlvbnMsXG4gICAgICAgICAgICBpbnZvY2F0aW9uX3BhcmFtczogdGhpcz8uaW52b2NhdGlvblBhcmFtcyhwYXJzZWRPcHRpb25zKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVMTE1TdGFydCh0aGlzLnRvSlNPTigpLCBwcm9tcHRzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZXh0cmEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBoYW5kbGVkT3B0aW9ucz8ucnVuTmFtZSk7XG4gICAgICAgIGxldCBvdXRwdXQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBhd2FpdCB0aGlzLl9nZW5lcmF0ZShwcm9tcHRzLCBwYXJzZWRPcHRpb25zLCBydW5NYW5hZ2Vycz8uWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCgocnVuTWFuYWdlcnMgPz8gW10pLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlTExNRXJyb3IoZXJyKSkpO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZsYXR0ZW5lZE91dHB1dHMgPSB0aGlzLl9mbGF0dGVuTExNUmVzdWx0KG91dHB1dCk7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKChydW5NYW5hZ2VycyA/PyBbXSkubWFwKChydW5NYW5hZ2VyLCBpKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVMTE1FbmQoZmxhdHRlbmVkT3V0cHV0c1tpXSkpKTtcbiAgICAgICAgY29uc3QgcnVuSWRzID0gcnVuTWFuYWdlcnM/Lm1hcCgobWFuYWdlcikgPT4gbWFuYWdlci5ydW5JZCkgfHwgdW5kZWZpbmVkO1xuICAgICAgICAvLyBUaGlzIGRlZmluZXMgUlVOX0tFWSBhcyBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IG9uIHRoZSBvdXRwdXQgb2JqZWN0XG4gICAgICAgIC8vIHNvIHRoYXQgaXQgaXMgbm90IHNlcmlhbGl6ZWQgd2hlbiB0aGUgb3V0cHV0IGlzIHN0cmluZ2lmaWVkLCBhbmQgc28gdGhhdFxuICAgICAgICAvLyBpdCBpc250IGluY2x1ZGVkIHdoZW4gbGlzdGluZyB0aGUga2V5cyBvZiB0aGUgb3V0cHV0IG9iamVjdC5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG91dHB1dCwgUlVOX0tFWSwge1xuICAgICAgICAgICAgdmFsdWU6IHJ1bklkcyA/IHsgcnVuSWRzIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW4gdGhlIExMTSBvbiB0aGUgZ2l2ZW4gcHJvbXB0cyBhbmQgaW5wdXQsIGhhbmRsaW5nIGNhY2hpbmcuXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGUocHJvbXB0cywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9tcHRzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgJ3Byb21wdHMnIGlzIGV4cGVjdGVkIHRvIGJlIGEgc3RyaW5nW11cIik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhcnNlZE9wdGlvbnM7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0geyBzdG9wOiBvcHRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXSA9IHRoaXMuX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnMocGFyc2VkT3B0aW9ucyk7XG4gICAgICAgIHJ1bm5hYmxlQ29uZmlnLmNhbGxiYWNrcyA9IHJ1bm5hYmxlQ29uZmlnLmNhbGxiYWNrcyA/PyBjYWxsYmFja3M7XG4gICAgICAgIGlmICghdGhpcy5jYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dlbmVyYXRlVW5jYWNoZWQocHJvbXB0cywgY2FsbE9wdGlvbnMsIHJ1bm5hYmxlQ29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGNhY2hlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBsbG1TdHJpbmdLZXkgPSB0aGlzLl9nZXRTZXJpYWxpemVkQ2FjaGVLZXlQYXJhbWV0ZXJzRm9yQ2FsbChjYWxsT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG1pc3NpbmdQcm9tcHRJbmRpY2VzID0gW107XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbXB0cy5tYXAoYXN5bmMgKHByb21wdCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhY2hlLmxvb2t1cChwcm9tcHQsIGxsbVN0cmluZ0tleSk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIG1pc3NpbmdQcm9tcHRJbmRpY2VzLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSkpO1xuICAgICAgICBsZXQgbGxtT3V0cHV0ID0ge307XG4gICAgICAgIGlmIChtaXNzaW5nUHJvbXB0SW5kaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5fZ2VuZXJhdGVVbmNhY2hlZChtaXNzaW5nUHJvbXB0SW5kaWNlcy5tYXAoKGkpID0+IHByb21wdHNbaV0pLCBjYWxsT3B0aW9ucywgcnVubmFibGVDb25maWcpO1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocmVzdWx0cy5nZW5lcmF0aW9ucy5tYXAoYXN5bmMgKGdlbmVyYXRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbXB0SW5kZXggPSBtaXNzaW5nUHJvbXB0SW5kaWNlc1tpbmRleF07XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnNbcHJvbXB0SW5kZXhdID0gZ2VuZXJhdGlvbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGUudXBkYXRlKHByb21wdHNbcHJvbXB0SW5kZXhdLCBsbG1TdHJpbmdLZXksIGdlbmVyYXRpb24pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgbGxtT3V0cHV0ID0gcmVzdWx0cy5sbG1PdXRwdXQgPz8ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZ2VuZXJhdGlvbnMsIGxsbU91dHB1dCB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSB3cmFwcGVyIGZvciB7QGxpbmsgZ2VuZXJhdGV9IHRoYXQgdGFrZXMgaW4gYSBzaW5nbGUgc3RyaW5nIHByb21wdCBhbmQgcmV0dXJucyBhIHNpbmdsZSBzdHJpbmcgb3V0cHV0LlxuICAgICAqL1xuICAgIGFzeW5jIGNhbGwocHJvbXB0LCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgY29uc3QgeyBnZW5lcmF0aW9ucyB9ID0gYXdhaXQgdGhpcy5nZW5lcmF0ZShbcHJvbXB0XSwgb3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRpb25zWzBdWzBdLnRleHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHNpbWlsYXIgdG8gYGNhbGxgLCBidXQgaXQncyB1c2VkIGZvciBtYWtpbmcgcHJlZGljdGlvbnNcbiAgICAgKiBiYXNlZCBvbiB0aGUgaW5wdXQgdGV4dC5cbiAgICAgKiBAcGFyYW0gdGV4dCBJbnB1dCB0ZXh0IGZvciB0aGUgcHJlZGljdGlvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgTExNIGNhbGwuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrcyBDYWxsYmFja3MgZm9yIHRoZSBMTE0gY2FsbC5cbiAgICAgKiBAcmV0dXJucyBBIHByZWRpY3Rpb24gYmFzZWQgb24gdGhlIGlucHV0IHRleHQuXG4gICAgICovXG4gICAgYXN5bmMgcHJlZGljdCh0ZXh0LCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCh0ZXh0LCBvcHRpb25zLCBjYWxsYmFja3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB0YWtlcyBhIGxpc3Qgb2YgbWVzc2FnZXMsIG9wdGlvbnMsIGFuZCBjYWxsYmFja3MsIGFuZFxuICAgICAqIHJldHVybnMgYSBwcmVkaWN0ZWQgbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZXMgQSBsaXN0IG9mIG1lc3NhZ2VzIGZvciB0aGUgcHJlZGljdGlvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgTExNIGNhbGwuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrcyBDYWxsYmFja3MgZm9yIHRoZSBMTE0gY2FsbC5cbiAgICAgKiBAcmV0dXJucyBBIHByZWRpY3RlZCBtZXNzYWdlIGJhc2VkIG9uIHRoZSBsaXN0IG9mIG1lc3NhZ2VzLlxuICAgICAqL1xuICAgIGFzeW5jIHByZWRpY3RNZXNzYWdlcyhtZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBnZXRCdWZmZXJTdHJpbmcobWVzc2FnZXMpO1xuICAgICAgICBjb25zdCBwcmVkaWN0aW9uID0gYXdhaXQgdGhpcy5jYWxsKHRleHQsIG9wdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgICAgIHJldHVybiBuZXcgQUlNZXNzYWdlKHByZWRpY3Rpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGlkZW50aWZ5aW5nIHBhcmFtZXRlcnMgb2YgdGhlIExMTS5cbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9pZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIFJldHVybiBhIGpzb24tbGlrZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoaXMgTExNLlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCksXG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fbGxtVHlwZSgpLFxuICAgICAgICAgICAgX21vZGVsOiB0aGlzLl9tb2RlbFR5cGUoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX21vZGVsVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiYmFzZV9sbG1cIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBMb2FkIGFuIExMTSBmcm9tIGEganNvbi1saWtlIG9iamVjdCBkZXNjcmliaW5nIGl0LlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgX3R5cGUsIF9tb2RlbCwgLi4ucmVzdCB9ID0gZGF0YTtcbiAgICAgICAgaWYgKF9tb2RlbCAmJiBfbW9kZWwgIT09IFwiYmFzZV9sbG1cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgbG9hZCBMTE0gd2l0aCBtb2RlbCAke19tb2RlbH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBDbHMgPSB7XG4gICAgICAgICAgICBvcGVuYWk6IChhd2FpdCBpbXBvcnQoXCIuL29wZW5haS5qc1wiKSkuT3BlbkFJLFxuICAgICAgICB9W190eXBlXTtcbiAgICAgICAgaWYgKENscyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBsb2FkICBMTE0gd2l0aCB0eXBlICR7X3R5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDbHMocmVzdCk7XG4gICAgfVxufVxuLyoqXG4gKiBMTE0gY2xhc3MgdGhhdCBwcm92aWRlcyBhIHNpbXBsZXIgaW50ZXJmYWNlIHRvIHN1YmNsYXNzIHRoYW4ge0BsaW5rIEJhc2VMTE19LlxuICpcbiAqIFJlcXVpcmVzIG9ubHkgaW1wbGVtZW50aW5nIGEgc2ltcGxlciB7QGxpbmsgX2NhbGx9IG1ldGhvZCBpbnN0ZWFkIG9mIHtAbGluayBfZ2VuZXJhdGV9LlxuICpcbiAqIEBhdWdtZW50cyBCYXNlTExNXG4gKi9cbmV4cG9ydCBjbGFzcyBMTE0gZXh0ZW5kcyBCYXNlTExNIHtcbiAgICBhc3luYyBfZ2VuZXJhdGUocHJvbXB0cywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCBnZW5lcmF0aW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21wdHMubWFwKChwcm9tcHQsIHByb21wdEluZGV4KSA9PiB0aGlzLl9jYWxsKHByb21wdCwgeyAuLi5vcHRpb25zLCBwcm9tcHRJbmRleCB9LCBydW5NYW5hZ2VyKS50aGVuKCh0ZXh0KSA9PiBbeyB0ZXh0IH1dKSkpO1xuICAgICAgICByZXR1cm4geyBnZW5lcmF0aW9ucyB9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IsIEFQSVVzZXJBYm9ydEVycm9yIH0gZnJvbSBcIm9wZW5haVwiO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiB3cmFwT3BlbkFJQ2xpZW50RXJyb3IoZSkge1xuICAgIGxldCBlcnJvcjtcbiAgICBpZiAoZS5jb25zdHJ1Y3Rvci5uYW1lID09PSBBUElDb25uZWN0aW9uVGltZW91dEVycm9yLm5hbWUpIHtcbiAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgZXJyb3IubmFtZSA9IFwiVGltZW91dEVycm9yXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGUuY29uc3RydWN0b3IubmFtZSA9PT0gQVBJVXNlckFib3J0RXJyb3IubmFtZSkge1xuICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihlLm1lc3NhZ2UpO1xuICAgICAgICBlcnJvci5uYW1lID0gXCJBYm9ydEVycm9yXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlcnJvciA9IGU7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcjtcbn1cbiIsImltcG9ydCB7IE9wZW5BSSBhcyBPcGVuQUlDbGllbnQgfSBmcm9tIFwib3BlbmFpXCI7XG5pbXBvcnQgeyBHZW5lcmF0aW9uQ2h1bmsgfSBmcm9tIFwiLi4vc2NoZW1hL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBnZXRFbmRwb2ludCB9IGZyb20gXCIuLi91dGlsL2F6dXJlLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgeyBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCB9IGZyb20gXCIuLi91dGlsL3Byb21wdC1sYXllci5qc1wiO1xuaW1wb3J0IHsgTExNIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgd3JhcE9wZW5BSUNsaWVudEVycm9yIH0gZnJvbSBcIi4uL3V0aWwvb3BlbmFpLmpzXCI7XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIE9wZW5BSSBsYXJnZSBsYW5ndWFnZSBtb2RlbHMgdGhhdCB1c2UgdGhlIENoYXQgZW5kcG9pbnQuXG4gKlxuICogVG8gdXNlIHlvdSBzaG91bGQgaGF2ZSB0aGUgYG9wZW5haWAgcGFja2FnZSBpbnN0YWxsZWQsIHdpdGggdGhlXG4gKiBgT1BFTkFJX0FQSV9LRVlgIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBUbyB1c2Ugd2l0aCBBenVyZSB5b3Ugc2hvdWxkIGhhdmUgdGhlIGBvcGVuYWlgIHBhY2thZ2UgaW5zdGFsbGVkLCB3aXRoIHRoZVxuICogYEFaVVJFX09QRU5BSV9BUElfS0VZYCxcbiAqIGBBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVgLFxuICogYEFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FYFxuICogYW5kIGBBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05gIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBAcmVtYXJrc1xuICogQW55IHBhcmFtZXRlcnMgdGhhdCBhcmUgdmFsaWQgdG8gYmUgcGFzc2VkIHRvIHtAbGlua1xuICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9jaGF0L2NyZWF0ZSB8XG4gKiBgb3BlbmFpLmNyZWF0ZUNvbXBsZXRpb25gfSBjYW4gYmUgcGFzc2VkIHRocm91Z2gge0BsaW5rIG1vZGVsS3dhcmdzfSwgZXZlblxuICogaWYgbm90IGV4cGxpY2l0bHkgYXZhaWxhYmxlIG9uIHRoaXMgY2xhc3MuXG4gKlxuICogQGF1Z21lbnRzIEJhc2VMTE1cbiAqIEBhdWdtZW50cyBPcGVuQUlJbnB1dFxuICogQGF1Z21lbnRzIEF6dXJlT3BlbkFJQ2hhdElucHV0XG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuQUlDaGF0IGV4dGVuZHMgTExNIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiT3BlbkFJQ2hhdFwiO1xuICAgIH1cbiAgICBnZXQgY2FsbEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbLi4uc3VwZXIuY2FsbEtleXMsIFwib3B0aW9uc1wiLCBcInByb21wdEluZGV4XCJdO1xuICAgIH1cbiAgICBnZXQgbGNfc2VjcmV0cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wZW5BSUFwaUtleTogXCJPUEVOQUlfQVBJX0tFWVwiLFxuICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlLZXk6IFwiQVpVUkVfT1BFTkFJX0FQSV9LRVlcIixcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogXCJPUEVOQUlfT1JHQU5JWkFUSU9OXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCBsY19hbGlhc2VzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWxOYW1lOiBcIm1vZGVsXCIsXG4gICAgICAgICAgICBvcGVuQUlBcGlLZXk6IFwib3BlbmFpX2FwaV9rZXlcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpVmVyc2lvbjogXCJhenVyZV9vcGVuYWlfYXBpX3ZlcnNpb25cIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpS2V5OiBcImF6dXJlX29wZW5haV9hcGlfa2V5XCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTogXCJhenVyZV9vcGVuYWlfYXBpX2luc3RhbmNlX25hbWVcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IFwiYXp1cmVfb3BlbmFpX2FwaV9kZXBsb3ltZW50X25hbWVcIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCBcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyA/PyB7fSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGVtcGVyYXR1cmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcFBcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyZXF1ZW5jeVBlbmFsdHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByZXNlbmNlUGVuYWx0eVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibG9naXRCaWFzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heFRva2Vuc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiZ3B0LTMuNS10dXJib1wiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcmVmaXhNZXNzYWdlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbEt3YXJnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aW1lb3V0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJlYW1pbmdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcGVuQUlBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlWZXJzaW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpS2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlCYXNlUGF0aFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcmdhbml6YXRpb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudENvbmZpZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wZW5BSUFwaUtleSA9XG4gICAgICAgICAgICBmaWVsZHM/Lm9wZW5BSUFwaUtleSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkgPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaUtleSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0tFWVwiKTtcbiAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ICYmICF0aGlzLm9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3BlbkFJIG9yIEF6dXJlIE9wZW5BSSBBUEkga2V5IG5vdCBmb3VuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lID1cbiAgICAgICAgICAgIGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9JTlNUQU5DRV9OQU1FXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgPVxuICAgICAgICAgICAgKGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlDb21wbGV0aW9uc0RlcGxveW1lbnROYW1lIHx8XG4gICAgICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSA/P1xuICAgICAgICAgICAgICAgIChnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9DT01QTEVUSU9OU19ERVBMT1lNRU5UX05BTUVcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FXCIpKTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24gPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaVZlcnNpb24gPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9WRVJTSU9OXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGggPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUJhc2VQYXRoID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9CQVNFX1BBVEhcIik7XG4gICAgICAgIHRoaXMub3JnYW5pemF0aW9uID1cbiAgICAgICAgICAgIGZpZWxkcz8uY29uZmlndXJhdGlvbj8ub3JnYW5pemF0aW9uID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9PUkdBTklaQVRJT05cIik7XG4gICAgICAgIHRoaXMubW9kZWxOYW1lID0gZmllbGRzPy5tb2RlbE5hbWUgPz8gdGhpcy5tb2RlbE5hbWU7XG4gICAgICAgIHRoaXMucHJlZml4TWVzc2FnZXMgPSBmaWVsZHM/LnByZWZpeE1lc3NhZ2VzID8/IHRoaXMucHJlZml4TWVzc2FnZXM7XG4gICAgICAgIHRoaXMubW9kZWxLd2FyZ3MgPSBmaWVsZHM/Lm1vZGVsS3dhcmdzID8/IHt9O1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBmaWVsZHM/LnRpbWVvdXQ7XG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgPSBmaWVsZHM/LnRlbXBlcmF0dXJlID8/IHRoaXMudGVtcGVyYXR1cmU7XG4gICAgICAgIHRoaXMudG9wUCA9IGZpZWxkcz8udG9wUCA/PyB0aGlzLnRvcFA7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5UGVuYWx0eSA9IGZpZWxkcz8uZnJlcXVlbmN5UGVuYWx0eSA/PyB0aGlzLmZyZXF1ZW5jeVBlbmFsdHk7XG4gICAgICAgIHRoaXMucHJlc2VuY2VQZW5hbHR5ID0gZmllbGRzPy5wcmVzZW5jZVBlbmFsdHkgPz8gdGhpcy5wcmVzZW5jZVBlbmFsdHk7XG4gICAgICAgIHRoaXMubiA9IGZpZWxkcz8ubiA/PyB0aGlzLm47XG4gICAgICAgIHRoaXMubG9naXRCaWFzID0gZmllbGRzPy5sb2dpdEJpYXM7XG4gICAgICAgIHRoaXMubWF4VG9rZW5zID0gZmllbGRzPy5tYXhUb2tlbnM7XG4gICAgICAgIHRoaXMuc3RvcCA9IGZpZWxkcz8uc3RvcDtcbiAgICAgICAgdGhpcy51c2VyID0gZmllbGRzPy51c2VyO1xuICAgICAgICB0aGlzLnN0cmVhbWluZyA9IGZpZWxkcz8uc3RyZWFtaW5nID8/IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5uID4gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBuID4gMSBpbiBPcGVuQUlDaGF0IExMTS4gVXNlIENoYXRPcGVuQUkgQ2hhdCBNb2RlbCBpbnN0ZWFkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lICYmICF0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGluc3RhbmNlIG5hbWUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGRlcGxveW1lbnQgbmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIEFQSSB2ZXJzaW9uIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3BlbkFJQXBpS2V5ID0gdGhpcy5vcGVuQUlBcGlLZXkgPz8gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsaWVudENvbmZpZyA9IHtcbiAgICAgICAgICAgIGFwaUtleTogdGhpcy5vcGVuQUlBcGlLZXksXG4gICAgICAgICAgICBvcmdhbml6YXRpb246IHRoaXMub3JnYW5pemF0aW9uLFxuICAgICAgICAgICAgYmFzZVVSTDogY29uZmlndXJhdGlvbj8uYmFzZVBhdGggPz8gZmllbGRzPy5jb25maWd1cmF0aW9uPy5iYXNlUGF0aCxcbiAgICAgICAgICAgIGRhbmdlcm91c2x5QWxsb3dCcm93c2VyOiB0cnVlLFxuICAgICAgICAgICAgZGVmYXVsdEhlYWRlcnM6IGNvbmZpZ3VyYXRpb24/LmJhc2VPcHRpb25zPy5oZWFkZXJzID8/XG4gICAgICAgICAgICAgICAgZmllbGRzPy5jb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIGRlZmF1bHRRdWVyeTogY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LnBhcmFtcyA/P1xuICAgICAgICAgICAgICAgIGZpZWxkcz8uY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LnBhcmFtcyxcbiAgICAgICAgICAgIC4uLmNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAuLi5maWVsZHM/LmNvbmZpZ3VyYXRpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGFyYW1ldGVycyB1c2VkIHRvIGludm9rZSB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICBpbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIHRlbXBlcmF0dXJlOiB0aGlzLnRlbXBlcmF0dXJlLFxuICAgICAgICAgICAgdG9wX3A6IHRoaXMudG9wUCxcbiAgICAgICAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiB0aGlzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICBwcmVzZW5jZV9wZW5hbHR5OiB0aGlzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgIG46IHRoaXMubixcbiAgICAgICAgICAgIGxvZ2l0X2JpYXM6IHRoaXMubG9naXRCaWFzLFxuICAgICAgICAgICAgbWF4X3Rva2VuczogdGhpcy5tYXhUb2tlbnMgPT09IC0xID8gdW5kZWZpbmVkIDogdGhpcy5tYXhUb2tlbnMsXG4gICAgICAgICAgICBzdG9wOiBvcHRpb25zPy5zdG9wID8/IHRoaXMuc3RvcCxcbiAgICAgICAgICAgIHVzZXI6IHRoaXMudXNlcixcbiAgICAgICAgICAgIHN0cmVhbTogdGhpcy5zdHJlYW1pbmcsXG4gICAgICAgICAgICAuLi50aGlzLm1vZGVsS3dhcmdzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF9pZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsX25hbWU6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgLi4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpZGVudGlmeWluZyBwYXJhbWV0ZXJzIGZvciB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICBpZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsX25hbWU6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgLi4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9ybWF0cyB0aGUgbWVzc2FnZXMgZm9yIHRoZSBPcGVuQUkgQVBJLlxuICAgICAqIEBwYXJhbSBwcm9tcHQgVGhlIHByb21wdCB0byBiZSBmb3JtYXR0ZWQuXG4gICAgICogQHJldHVybnMgQXJyYXkgb2YgZm9ybWF0dGVkIG1lc3NhZ2VzLlxuICAgICAqL1xuICAgIGZvcm1hdE1lc3NhZ2VzKHByb21wdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgICBjb250ZW50OiBwcm9tcHQsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLnByZWZpeE1lc3NhZ2VzID8gWy4uLnRoaXMucHJlZml4TWVzc2FnZXMsIG1lc3NhZ2VdIDogW21lc3NhZ2VdO1xuICAgIH1cbiAgICBhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKHByb21wdCwgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmludm9jYXRpb25QYXJhbXMob3B0aW9ucyksXG4gICAgICAgICAgICBtZXNzYWdlczogdGhpcy5mb3JtYXRNZXNzYWdlcyhwcm9tcHQpLFxuICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkocGFyYW1zLCBvcHRpb25zKTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBkYXRhIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgY29uc3QgY2hvaWNlID0gZGF0YT8uY2hvaWNlc1swXTtcbiAgICAgICAgICAgIGlmICghY2hvaWNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGRlbHRhIH0gPSBjaG9pY2U7XG4gICAgICAgICAgICBjb25zdCBnZW5lcmF0aW9uQ2h1bmsgPSBuZXcgR2VuZXJhdGlvbkNodW5rKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBkZWx0YS5jb250ZW50ID8/IFwiXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHlpZWxkIGdlbmVyYXRpb25DaHVuaztcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rva2VuSW5kaWNlcyA9IHtcbiAgICAgICAgICAgICAgICBwcm9tcHQ6IG9wdGlvbnMucHJvbXB0SW5kZXggPz8gMCxcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uOiBjaG9pY2UuaW5kZXggPz8gMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdm9pZFxuICAgICAgICAgICAgdm9pZCBydW5NYW5hZ2VyPy5oYW5kbGVMTE1OZXdUb2tlbihnZW5lcmF0aW9uQ2h1bmsudGV4dCA/PyBcIlwiLCBuZXdUb2tlbkluZGljZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWJvcnRFcnJvclwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9jYWxsKHByb21wdCwgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB0aGlzLmludm9jYXRpb25QYXJhbXMob3B0aW9ucyk7XG4gICAgICAgIGlmIChwYXJhbXMuc3RyZWFtKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyhwcm9tcHQsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpO1xuICAgICAgICAgICAgbGV0IGZpbmFsQ2h1bms7XG4gICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIGlmIChmaW5hbENodW5rID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDaHVuayA9IGNodW5rO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDaHVuayA9IGZpbmFsQ2h1bmsuY29uY2F0KGNodW5rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmluYWxDaHVuaz8udGV4dCA/PyBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiB0aGlzLmZvcm1hdE1lc3NhZ2VzKHByb21wdCksXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgc2lnbmFsOiBvcHRpb25zLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLm9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZT8uY2hvaWNlc1swXT8ubWVzc2FnZT8uY29udGVudCA/PyBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHRoaXMuX2dldENsaWVudE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gd3JhcE9wZW5BSUNsaWVudEVycm9yKGUpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBfZ2V0Q2xpZW50T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wZW5BSUVuZHBvaW50Q29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTogdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaUtleTogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUJhc2VQYXRoOiB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgYmFzZVVSTDogdGhpcy5jbGllbnRDb25maWcuYmFzZVVSTCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGdldEVuZHBvaW50KG9wZW5BSUVuZHBvaW50Q29uZmlnKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgICAgICBiYXNlVVJMOiBlbmRwb2ludCxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXG4gICAgICAgICAgICAgICAgbWF4UmV0cmllczogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXBhcmFtcy5iYXNlVVJMKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcmFtcy5iYXNlVVJMO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJQ2xpZW50KHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgICAgICAgIFwiYXBpLWtleVwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3RPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMucXVlcnkgPSB7XG4gICAgICAgICAgICAgICAgXCJhcGktdmVyc2lvblwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0T3B0aW9ucy5xdWVyeSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcXVlc3RPcHRpb25zO1xuICAgIH1cbiAgICBfbGxtVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwib3BlbmFpXCI7XG4gICAgfVxufVxuLyoqXG4gKiBQcm9tcHRMYXllciB3cmFwcGVyIHRvIE9wZW5BSUNoYXRcbiAqL1xuZXhwb3J0IGNsYXNzIFByb21wdExheWVyT3BlbkFJQ2hhdCBleHRlbmRzIE9wZW5BSUNoYXQge1xuICAgIGdldCBsY19zZWNyZXRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvbXB0TGF5ZXJBcGlLZXk6IFwiUFJPTVBUTEFZRVJfQVBJX0tFWVwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvbXB0TGF5ZXJBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGxUYWdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHVyblByb21wdExheWVySWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wbFRhZ3MgPSBmaWVsZHM/LnBsVGFncyA/PyBbXTtcbiAgICAgICAgdGhpcy5yZXR1cm5Qcm9tcHRMYXllcklkID0gZmllbGRzPy5yZXR1cm5Qcm9tcHRMYXllcklkID8/IGZhbHNlO1xuICAgICAgICB0aGlzLnByb21wdExheWVyQXBpS2V5ID1cbiAgICAgICAgICAgIGZpZWxkcz8ucHJvbXB0TGF5ZXJBcGlLZXkgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiUFJPTVBUTEFZRVJfQVBJX0tFWVwiKTtcbiAgICAgICAgaWYgKCF0aGlzLnByb21wdExheWVyQXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIFByb21wdExheWVyIEFQSSBrZXlcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgbGV0IGNob2ljZTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGlvbnMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9tcHRzLm1hcChhc3luYyAocHJvbXB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLl9jYWxsKHByb21wdCwgb3B0aW9ucywgcnVuTWFuYWdlcik7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0RW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjaG9pY2UgPSBbeyB0ZXh0IH1dO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkUmVzcCA9IHtcbiAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdExheWVyUmVzcEJvZHkgPSBhd2FpdCBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCh0aGlzLmNhbGxlciwgXCJsYW5nY2hhaW4uUHJvbXB0TGF5ZXJPcGVuQUlDaGF0XCIsIFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIHsgLi4udGhpcy5faWRlbnRpZnlpbmdQYXJhbXMoKSwgcHJvbXB0IH0sIHRoaXMucGxUYWdzLCBwYXJzZWRSZXNwLCByZXF1ZXN0U3RhcnRUaW1lLCByZXF1ZXN0RW5kVGltZSwgdGhpcy5wcm9tcHRMYXllckFwaUtleSk7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXR1cm5Qcm9tcHRMYXllcklkID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgcHJvbXB0TGF5ZXJSZXNwQm9keS5zdWNjZXNzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY2hvaWNlWzBdLmdlbmVyYXRpb25JbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBwcm9tcHRMYXllclJlcXVlc3RJZDogcHJvbXB0TGF5ZXJSZXNwQm9keS5yZXF1ZXN0X2lkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hvaWNlO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiB7IGdlbmVyYXRpb25zIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgT3BlbkFJIGFzIE9wZW5BSUNsaWVudCB9IGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZU1heFRva2VucyB9IGZyb20gXCIuLi9iYXNlX2xhbmd1YWdlL2NvdW50X3Rva2Vucy5qc1wiO1xuaW1wb3J0IHsgR2VuZXJhdGlvbkNodW5rIH0gZnJvbSBcIi4uL3NjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnQgfSBmcm9tIFwiLi4vdXRpbC9henVyZS5qc1wiO1xuaW1wb3J0IHsgY2h1bmtBcnJheSB9IGZyb20gXCIuLi91dGlsL2NodW5rLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgeyBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCB9IGZyb20gXCIuLi91dGlsL3Byb21wdC1sYXllci5qc1wiO1xuaW1wb3J0IHsgQmFzZUxMTSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IE9wZW5BSUNoYXQgfSBmcm9tIFwiLi9vcGVuYWktY2hhdC5qc1wiO1xuaW1wb3J0IHsgd3JhcE9wZW5BSUNsaWVudEVycm9yIH0gZnJvbSBcIi4uL3V0aWwvb3BlbmFpLmpzXCI7XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIE9wZW5BSSBsYXJnZSBsYW5ndWFnZSBtb2RlbHMuXG4gKlxuICogVG8gdXNlIHlvdSBzaG91bGQgaGF2ZSB0aGUgYG9wZW5haWAgcGFja2FnZSBpbnN0YWxsZWQsIHdpdGggdGhlXG4gKiBgT1BFTkFJX0FQSV9LRVlgIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBUbyB1c2Ugd2l0aCBBenVyZSB5b3Ugc2hvdWxkIGhhdmUgdGhlIGBvcGVuYWlgIHBhY2thZ2UgaW5zdGFsbGVkLCB3aXRoIHRoZVxuICogYEFaVVJFX09QRU5BSV9BUElfS0VZYCxcbiAqIGBBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVgLFxuICogYEFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FYFxuICogYW5kIGBBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05gIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBAcmVtYXJrc1xuICogQW55IHBhcmFtZXRlcnMgdGhhdCBhcmUgdmFsaWQgdG8gYmUgcGFzc2VkIHRvIHtAbGlua1xuICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9jb21wbGV0aW9ucy9jcmVhdGUgfFxuICogYG9wZW5haS5jcmVhdGVDb21wbGV0aW9uYH0gY2FuIGJlIHBhc3NlZCB0aHJvdWdoIHtAbGluayBtb2RlbEt3YXJnc30sIGV2ZW5cbiAqIGlmIG5vdCBleHBsaWNpdGx5IGF2YWlsYWJsZSBvbiB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgT3BlbkFJIGV4dGVuZHMgQmFzZUxMTSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIk9wZW5BSVwiO1xuICAgIH1cbiAgICBnZXQgY2FsbEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbLi4uc3VwZXIuY2FsbEtleXMsIFwib3B0aW9uc1wiXTtcbiAgICB9XG4gICAgZ2V0IGxjX3NlY3JldHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcGVuQUlBcGlLZXk6IFwiT1BFTkFJX0FQSV9LRVlcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpS2V5OiBcIkFaVVJFX09QRU5BSV9BUElfS0VZXCIsXG4gICAgICAgICAgICBvcmdhbml6YXRpb246IFwiT1BFTkFJX09SR0FOSVpBVElPTlwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgbGNfYWxpYXNlcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsTmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgb3BlbkFJQXBpS2V5OiBcIm9wZW5haV9hcGlfa2V5XCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaVZlcnNpb246IFwiYXp1cmVfb3BlbmFpX2FwaV92ZXJzaW9uXCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaUtleTogXCJhenVyZV9vcGVuYWlfYXBpX2tleVwiLFxuICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWU6IFwiYXp1cmVfb3BlbmFpX2FwaV9pbnN0YW5jZV9uYW1lXCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lOiBcImF6dXJlX29wZW5haV9hcGlfZGVwbG95bWVudF9uYW1lXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgY29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoKGZpZWxkcz8ubW9kZWxOYW1lPy5zdGFydHNXaXRoKFwiZ3B0LTMuNS10dXJib1wiKSB8fFxuICAgICAgICAgICAgZmllbGRzPy5tb2RlbE5hbWU/LnN0YXJ0c1dpdGgoXCJncHQtNFwiKSkgJiZcbiAgICAgICAgICAgICFmaWVsZHM/Lm1vZGVsTmFtZT8uaW5jbHVkZXMoXCItaW5zdHJ1Y3RcIikpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdHJ1Y3Rvci1yZXR1cm5cbiAgICAgICAgICAgIHJldHVybiBuZXcgT3BlbkFJQ2hhdChmaWVsZHMsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGZpZWxkcyA/PyB7fSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGVtcGVyYXR1cmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDAuN1xuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4VG9rZW5zXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAyNTZcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcFBcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyZXF1ZW5jeVBlbmFsdHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByZXNlbmNlUGVuYWx0eVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYmVzdE9mXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvZ2l0Qmlhc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwidGV4dC1kYXZpbmNpLTAwM1wiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbEt3YXJnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJiYXRjaFNpemVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDIwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aW1lb3V0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJlYW1pbmdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcGVuQUlBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlWZXJzaW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpS2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlCYXNlUGF0aFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcmdhbml6YXRpb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudENvbmZpZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wZW5BSUFwaUtleSA9XG4gICAgICAgICAgICBmaWVsZHM/Lm9wZW5BSUFwaUtleSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkgPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaUtleSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0tFWVwiKTtcbiAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ICYmICF0aGlzLm9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3BlbkFJIG9yIEF6dXJlIE9wZW5BSSBBUEkga2V5IG5vdCBmb3VuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lID1cbiAgICAgICAgICAgIGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9JTlNUQU5DRV9OQU1FXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgPVxuICAgICAgICAgICAgKGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlDb21wbGV0aW9uc0RlcGxveW1lbnROYW1lIHx8XG4gICAgICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSA/P1xuICAgICAgICAgICAgICAgIChnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9DT01QTEVUSU9OU19ERVBMT1lNRU5UX05BTUVcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FXCIpKTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24gPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaVZlcnNpb24gPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9WRVJTSU9OXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGggPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUJhc2VQYXRoID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9CQVNFX1BBVEhcIik7XG4gICAgICAgIHRoaXMub3JnYW5pemF0aW9uID1cbiAgICAgICAgICAgIGZpZWxkcz8uY29uZmlndXJhdGlvbj8ub3JnYW5pemF0aW9uID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9PUkdBTklaQVRJT05cIik7XG4gICAgICAgIHRoaXMubW9kZWxOYW1lID0gZmllbGRzPy5tb2RlbE5hbWUgPz8gdGhpcy5tb2RlbE5hbWU7XG4gICAgICAgIHRoaXMubW9kZWxLd2FyZ3MgPSBmaWVsZHM/Lm1vZGVsS3dhcmdzID8/IHt9O1xuICAgICAgICB0aGlzLmJhdGNoU2l6ZSA9IGZpZWxkcz8uYmF0Y2hTaXplID8/IHRoaXMuYmF0Y2hTaXplO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBmaWVsZHM/LnRpbWVvdXQ7XG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgPSBmaWVsZHM/LnRlbXBlcmF0dXJlID8/IHRoaXMudGVtcGVyYXR1cmU7XG4gICAgICAgIHRoaXMubWF4VG9rZW5zID0gZmllbGRzPy5tYXhUb2tlbnMgPz8gdGhpcy5tYXhUb2tlbnM7XG4gICAgICAgIHRoaXMudG9wUCA9IGZpZWxkcz8udG9wUCA/PyB0aGlzLnRvcFA7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5UGVuYWx0eSA9IGZpZWxkcz8uZnJlcXVlbmN5UGVuYWx0eSA/PyB0aGlzLmZyZXF1ZW5jeVBlbmFsdHk7XG4gICAgICAgIHRoaXMucHJlc2VuY2VQZW5hbHR5ID0gZmllbGRzPy5wcmVzZW5jZVBlbmFsdHkgPz8gdGhpcy5wcmVzZW5jZVBlbmFsdHk7XG4gICAgICAgIHRoaXMubiA9IGZpZWxkcz8ubiA/PyB0aGlzLm47XG4gICAgICAgIHRoaXMuYmVzdE9mID0gZmllbGRzPy5iZXN0T2YgPz8gdGhpcy5iZXN0T2Y7XG4gICAgICAgIHRoaXMubG9naXRCaWFzID0gZmllbGRzPy5sb2dpdEJpYXM7XG4gICAgICAgIHRoaXMuc3RvcCA9IGZpZWxkcz8uc3RvcDtcbiAgICAgICAgdGhpcy51c2VyID0gZmllbGRzPy51c2VyO1xuICAgICAgICB0aGlzLnN0cmVhbWluZyA9IGZpZWxkcz8uc3RyZWFtaW5nID8/IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5zdHJlYW1pbmcgJiYgdGhpcy5iZXN0T2YgJiYgdGhpcy5iZXN0T2YgPiAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc3RyZWFtIHJlc3VsdHMgd2hlbiBiZXN0T2YgPiAxXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgJiYgIXRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkgaW5zdGFuY2UgbmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkgZGVwbG95bWVudCBuYW1lIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIHZlcnNpb24gbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vcGVuQUlBcGlLZXkgPSB0aGlzLm9wZW5BSUFwaUtleSA/PyBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xpZW50Q29uZmlnID0ge1xuICAgICAgICAgICAgYXBpS2V5OiB0aGlzLm9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogdGhpcy5vcmdhbml6YXRpb24sXG4gICAgICAgICAgICBiYXNlVVJMOiBjb25maWd1cmF0aW9uPy5iYXNlUGF0aCA/PyBmaWVsZHM/LmNvbmZpZ3VyYXRpb24/LmJhc2VQYXRoLFxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUsXG4gICAgICAgICAgICBkZWZhdWx0SGVhZGVyczogY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LmhlYWRlcnMgPz9cbiAgICAgICAgICAgICAgICBmaWVsZHM/LmNvbmZpZ3VyYXRpb24/LmJhc2VPcHRpb25zPy5oZWFkZXJzLFxuICAgICAgICAgICAgZGVmYXVsdFF1ZXJ5OiBjb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8ucGFyYW1zID8/XG4gICAgICAgICAgICAgICAgZmllbGRzPy5jb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8ucGFyYW1zLFxuICAgICAgICAgICAgLi4uY29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIC4uLmZpZWxkcz8uY29uZmlndXJhdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwYXJhbWV0ZXJzIHVzZWQgdG8gaW52b2tlIHRoZSBtb2RlbFxuICAgICAqL1xuICAgIGludm9jYXRpb25QYXJhbXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWw6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgdGVtcGVyYXR1cmU6IHRoaXMudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICBtYXhfdG9rZW5zOiB0aGlzLm1heFRva2VucyxcbiAgICAgICAgICAgIHRvcF9wOiB0aGlzLnRvcFAsXG4gICAgICAgICAgICBmcmVxdWVuY3lfcGVuYWx0eTogdGhpcy5mcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgICAgICAgcHJlc2VuY2VfcGVuYWx0eTogdGhpcy5wcmVzZW5jZVBlbmFsdHksXG4gICAgICAgICAgICBuOiB0aGlzLm4sXG4gICAgICAgICAgICBiZXN0X29mOiB0aGlzLmJlc3RPZixcbiAgICAgICAgICAgIGxvZ2l0X2JpYXM6IHRoaXMubG9naXRCaWFzLFxuICAgICAgICAgICAgc3RvcDogb3B0aW9ucz8uc3RvcCA/PyB0aGlzLnN0b3AsXG4gICAgICAgICAgICB1c2VyOiB0aGlzLnVzZXIsXG4gICAgICAgICAgICBzdHJlYW06IHRoaXMuc3RyZWFtaW5nLFxuICAgICAgICAgICAgLi4udGhpcy5tb2RlbEt3YXJncyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBfaWRlbnRpZnlpbmdQYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtb2RlbF9uYW1lOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIC4uLnRoaXMuaW52b2NhdGlvblBhcmFtcygpLFxuICAgICAgICAgICAgLi4udGhpcy5jbGllbnRDb25maWcsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaWRlbnRpZnlpbmcgcGFyYW1ldGVycyBmb3IgdGhlIG1vZGVsXG4gICAgICovXG4gICAgaWRlbnRpZnlpbmdQYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIG91dCB0byBPcGVuQUkncyBlbmRwb2ludCB3aXRoIGsgdW5pcXVlIHByb21wdHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBbcHJvbXB0c10gLSBUaGUgcHJvbXB0cyB0byBwYXNzIGludG8gdGhlIG1vZGVsLlxuICAgICAqIEBwYXJhbSBbb3B0aW9uc10gLSBPcHRpb25hbCBsaXN0IG9mIHN0b3Agd29yZHMgdG8gdXNlIHdoZW4gZ2VuZXJhdGluZy5cbiAgICAgKiBAcGFyYW0gW3J1bk1hbmFnZXJdIC0gT3B0aW9uYWwgY2FsbGJhY2sgbWFuYWdlciB0byB1c2Ugd2hlbiBnZW5lcmF0aW5nLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGZ1bGwgTExNIG91dHB1dC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBpbXBvcnQgeyBPcGVuQUkgfSBmcm9tIFwibGFuZ2NoYWluL2xsbXMvb3BlbmFpXCI7XG4gICAgICogY29uc3Qgb3BlbmFpID0gbmV3IE9wZW5BSSgpO1xuICAgICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3BlbmFpLmdlbmVyYXRlKFtcIlRlbGwgbWUgYSBqb2tlLlwiXSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgYXN5bmMgX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3Qgc3ViUHJvbXB0cyA9IGNodW5rQXJyYXkocHJvbXB0cywgdGhpcy5iYXRjaFNpemUpO1xuICAgICAgICBjb25zdCBjaG9pY2VzID0gW107XG4gICAgICAgIGNvbnN0IHRva2VuVXNhZ2UgPSB7fTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy5pbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpO1xuICAgICAgICBpZiAocGFyYW1zLm1heF90b2tlbnMgPT09IC0xKSB7XG4gICAgICAgICAgICBpZiAocHJvbXB0cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYXhfdG9rZW5zIHNldCB0byAtMSBub3Qgc3VwcG9ydGVkIGZvciBtdWx0aXBsZSBpbnB1dHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJhbXMubWF4X3Rva2VucyA9IGF3YWl0IGNhbGN1bGF0ZU1heFRva2Vucyh7XG4gICAgICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHRzWzBdLFxuICAgICAgICAgICAgICAgIC8vIENhc3QgaGVyZSB0byBhbGxvdyBmb3Igb3RoZXIgbW9kZWxzIHRoYXQgbWF5IG5vdCBmaXQgdGhlIHVuaW9uXG4gICAgICAgICAgICAgICAgbW9kZWxOYW1lOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ViUHJvbXB0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHBhcmFtcy5zdHJlYW1cbiAgICAgICAgICAgICAgICA/IGF3YWl0IChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNob2ljZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBzdWJQcm9tcHRzW2ldLFxuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBtZXNzYWdlIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhlIGZpcnN0IG1lc3NhZ2Ugc2V0IHRoZSByZXNwb25zZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IG1lc3NhZ2Uub2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkOiBtZXNzYWdlLmNyZWF0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiBtZXNzYWdlLm1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbiBhbGwgbWVzc2FnZXMsIHVwZGF0ZSBjaG9pY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBtZXNzYWdlLmNob2ljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNob2ljZXNbcGFydC5pbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlc1twYXJ0LmluZGV4XSA9IHBhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaG9pY2UgPSBjaG9pY2VzW3BhcnQuaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2UudGV4dCArPSBwYXJ0LnRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5maW5pc2hfcmVhc29uID0gcGFydC5maW5pc2hfcmVhc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2UubG9ncHJvYnMgPSBwYXJ0LmxvZ3Byb2JzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkIHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKHBhcnQudGV4dCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IE1hdGguZmxvb3IocGFydC5pbmRleCAvIHRoaXMubiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb246IHBhcnQuaW5kZXggJSB0aGlzLm4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBYm9ydEVycm9yXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLCBjaG9pY2VzIH07XG4gICAgICAgICAgICAgICAgfSkoKVxuICAgICAgICAgICAgICAgIDogYXdhaXQgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IHN1YlByb21wdHNbaV0sXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzaWduYWw6IG9wdGlvbnMuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjaG9pY2VzLnB1c2goLi4uZGF0YS5jaG9pY2VzKTtcbiAgICAgICAgICAgIGNvbnN0IHsgY29tcGxldGlvbl90b2tlbnM6IGNvbXBsZXRpb25Ub2tlbnMsIHByb21wdF90b2tlbnM6IHByb21wdFRva2VucywgdG90YWxfdG9rZW5zOiB0b3RhbFRva2VucywgfSA9IGRhdGEudXNhZ2VcbiAgICAgICAgICAgICAgICA/IGRhdGEudXNhZ2VcbiAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvbl90b2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0X3Rva2VuczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbF90b2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRpb25Ub2tlbnMpIHtcbiAgICAgICAgICAgICAgICB0b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPVxuICAgICAgICAgICAgICAgICAgICAodG9rZW5Vc2FnZS5jb21wbGV0aW9uVG9rZW5zID8/IDApICsgY29tcGxldGlvblRva2VucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9tcHRUb2tlbnMpIHtcbiAgICAgICAgICAgICAgICB0b2tlblVzYWdlLnByb21wdFRva2VucyA9ICh0b2tlblVzYWdlLnByb21wdFRva2VucyA/PyAwKSArIHByb21wdFRva2VucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b3RhbFRva2Vucykge1xuICAgICAgICAgICAgICAgIHRva2VuVXNhZ2UudG90YWxUb2tlbnMgPSAodG9rZW5Vc2FnZS50b3RhbFRva2VucyA/PyAwKSArIHRvdGFsVG9rZW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gY2h1bmtBcnJheShjaG9pY2VzLCB0aGlzLm4pLm1hcCgocHJvbXB0Q2hvaWNlcykgPT4gcHJvbXB0Q2hvaWNlcy5tYXAoKGNob2ljZSkgPT4gKHtcbiAgICAgICAgICAgIHRleHQ6IGNob2ljZS50ZXh0ID8/IFwiXCIsXG4gICAgICAgICAgICBnZW5lcmF0aW9uSW5mbzoge1xuICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogY2hvaWNlLmZpbmlzaF9yZWFzb24sXG4gICAgICAgICAgICAgICAgbG9ncHJvYnM6IGNob2ljZS5sb2dwcm9icyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZW5lcmF0aW9ucyxcbiAgICAgICAgICAgIGxsbU91dHB1dDogeyB0b2tlblVzYWdlIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFRPRE8oamFjb2JsZWUpOiBSZWZhY3RvciB3aXRoIF9nZW5lcmF0ZSguLi4sIHtzdHJlYW06IHRydWV9KSBpbXBsZW1lbnRhdGlvbj9cbiAgICBhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKGlucHV0LCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKSxcbiAgICAgICAgICAgIHByb21wdDogaW5wdXQsXG4gICAgICAgICAgICBzdHJlYW06IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IHRoaXMuY29tcGxldGlvbldpdGhSZXRyeShwYXJhbXMsIG9wdGlvbnMpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGRhdGEgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBjb25zdCBjaG9pY2UgPSBkYXRhPy5jaG9pY2VzWzBdO1xuICAgICAgICAgICAgaWYgKCFjaG9pY2UpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNodW5rID0gbmV3IEdlbmVyYXRpb25DaHVuayh7XG4gICAgICAgICAgICAgICAgdGV4dDogY2hvaWNlLnRleHQsXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbkluZm86IHtcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiBjaG9pY2UuZmluaXNoX3JlYXNvbixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB5aWVsZCBjaHVuaztcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12b2lkXG4gICAgICAgICAgICB2b2lkIHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKGNodW5rLnRleHQgPz8gXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBYm9ydEVycm9yXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHRoaXMuX2dldENsaWVudE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuY29tcGxldGlvbnMuY3JlYXRlKHJlcXVlc3QsIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IHdyYXBPcGVuQUlDbGllbnRFcnJvcihlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBPcGVuQUkgQVBJIHdpdGggcmV0cnkgbG9naWMgaW4gY2FzZSBvZiBmYWlsdXJlcy5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdCBUaGUgcmVxdWVzdCB0byBzZW5kIHRvIHRoZSBPcGVuQUkgQVBJLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBBUEkgY2FsbC5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgT3BlbkFJIEFQSS5cbiAgICAgKi9cbiAgICBfZ2V0Q2xpZW50T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wZW5BSUVuZHBvaW50Q29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTogdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaUtleTogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUJhc2VQYXRoOiB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgYmFzZVVSTDogdGhpcy5jbGllbnRDb25maWcuYmFzZVVSTCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGdldEVuZHBvaW50KG9wZW5BSUVuZHBvaW50Q29uZmlnKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgICAgICBiYXNlVVJMOiBlbmRwb2ludCxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXG4gICAgICAgICAgICAgICAgbWF4UmV0cmllczogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXBhcmFtcy5iYXNlVVJMKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcmFtcy5iYXNlVVJMO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJQ2xpZW50KHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgICAgICAgIFwiYXBpLWtleVwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3RPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMucXVlcnkgPSB7XG4gICAgICAgICAgICAgICAgXCJhcGktdmVyc2lvblwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0T3B0aW9ucy5xdWVyeSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcXVlc3RPcHRpb25zO1xuICAgIH1cbiAgICBfbGxtVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwib3BlbmFpXCI7XG4gICAgfVxufVxuLyoqXG4gKiBQcm9tcHRMYXllciB3cmFwcGVyIHRvIE9wZW5BSVxuICogQGF1Z21lbnRzIE9wZW5BSVxuICovXG5leHBvcnQgY2xhc3MgUHJvbXB0TGF5ZXJPcGVuQUkgZXh0ZW5kcyBPcGVuQUkge1xuICAgIGdldCBsY19zZWNyZXRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvbXB0TGF5ZXJBcGlLZXk6IFwiUFJPTVBUTEFZRVJfQVBJX0tFWVwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvbXB0TGF5ZXJBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGxUYWdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHVyblByb21wdExheWVySWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wbFRhZ3MgPSBmaWVsZHM/LnBsVGFncyA/PyBbXTtcbiAgICAgICAgdGhpcy5wcm9tcHRMYXllckFwaUtleSA9XG4gICAgICAgICAgICBmaWVsZHM/LnByb21wdExheWVyQXBpS2V5ID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIlBST01QVExBWUVSX0FQSV9LRVlcIik7XG4gICAgICAgIHRoaXMucmV0dXJuUHJvbXB0TGF5ZXJJZCA9IGZpZWxkcz8ucmV0dXJuUHJvbXB0TGF5ZXJJZDtcbiAgICAgICAgaWYgKCF0aGlzLnByb21wdExheWVyQXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIFByb21wdExheWVyIEFQSSBrZXlcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdFN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gYXdhaXQgc3VwZXIuX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlbmVyYXRpb25zLmdlbmVyYXRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0RW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRSZXNwID0ge1xuICAgICAgICAgICAgICAgIHRleHQ6IGdlbmVyYXRpb25zLmdlbmVyYXRpb25zW2ldWzBdLnRleHQsXG4gICAgICAgICAgICAgICAgbGxtX291dHB1dDogZ2VuZXJhdGlvbnMubGxtT3V0cHV0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdExheWVyUmVzcEJvZHkgPSBhd2FpdCBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCh0aGlzLmNhbGxlciwgXCJsYW5nY2hhaW4uUHJvbXB0TGF5ZXJPcGVuQUlcIiwgXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgeyAuLi50aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpLCBwcm9tcHQ6IHByb21wdHNbaV0gfSwgdGhpcy5wbFRhZ3MsIHBhcnNlZFJlc3AsIHJlcXVlc3RTdGFydFRpbWUsIHJlcXVlc3RFbmRUaW1lLCB0aGlzLnByb21wdExheWVyQXBpS2V5KTtcbiAgICAgICAgICAgIGxldCBwcm9tcHRMYXllclJlcXVlc3RJZDtcbiAgICAgICAgICAgIGlmICh0aGlzLnJldHVyblByb21wdExheWVySWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvbXB0TGF5ZXJSZXNwQm9keSAmJiBwcm9tcHRMYXllclJlc3BCb2R5LnN1Y2Nlc3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0TGF5ZXJSZXF1ZXN0SWQgPSBwcm9tcHRMYXllclJlc3BCb2R5LnJlcXVlc3RfaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb25zLmdlbmVyYXRpb25zW2ldWzBdLmdlbmVyYXRpb25JbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5nZW5lcmF0aW9ucy5nZW5lcmF0aW9uc1tpXVswXS5nZW5lcmF0aW9uSW5mbyxcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0TGF5ZXJSZXF1ZXN0SWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2VuZXJhdGlvbnM7XG4gICAgfVxufVxuZXhwb3J0IHsgT3BlbkFJQ2hhdCwgUHJvbXB0TGF5ZXJPcGVuQUlDaGF0IH0gZnJvbSBcIi4vb3BlbmFpLWNoYXQuanNcIjtcbiIsIi8qKlxuICogSW50ZXJmYWNlIGZvciBpbnRlcmFjdGluZyB3aXRoIGEgZG9jdW1lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEb2N1bWVudCB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBhZ2VDb250ZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1ldGFkYXRhXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGFnZUNvbnRlbnQgPSBmaWVsZHMucGFnZUNvbnRlbnRcbiAgICAgICAgICAgID8gZmllbGRzLnBhZ2VDb250ZW50LnRvU3RyaW5nKClcbiAgICAgICAgICAgIDogdGhpcy5wYWdlQ29udGVudDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IGZpZWxkcy5tZXRhZGF0YSA/PyB7fTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlU3RyaW5nUHJvbXB0VGVtcGxhdGUsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgY2hlY2tWYWxpZFRlbXBsYXRlLCByZW5kZXJUZW1wbGF0ZSwgfSBmcm9tIFwiLi90ZW1wbGF0ZS5qc1wiO1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9wcm9tcHQuanNcIjtcbi8qKlxuICogUHJvbXB0IHRlbXBsYXRlIHRoYXQgY29udGFpbnMgZmV3LXNob3QgZXhhbXBsZXMuXG4gKiBAYXVnbWVudHMgQmFzZVByb21wdFRlbXBsYXRlXG4gKiBAYXVnbWVudHMgRmV3U2hvdFByb21wdFRlbXBsYXRlSW5wdXRcbiAqL1xuZXhwb3J0IGNsYXNzIEZld1Nob3RQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoaW5wdXQpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleGFtcGxlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleGFtcGxlU2VsZWN0b3JcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXhhbXBsZVByb21wdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdWZmaXhcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV4YW1wbGVTZXBhcmF0b3JcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiXFxuXFxuXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByZWZpeFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGVtcGxhdGVGb3JtYXRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiZi1zdHJpbmdcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmFsaWRhdGVUZW1wbGF0ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLmV4YW1wbGVzICE9PSB1bmRlZmluZWQgJiYgdGhpcy5leGFtcGxlU2VsZWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBvbmUgb2YgJ2V4YW1wbGVzJyBhbmQgJ2V4YW1wbGVfc2VsZWN0b3InIHNob3VsZCBiZSBwcm92aWRlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5leGFtcGxlcyA9PT0gdW5kZWZpbmVkICYmIHRoaXMuZXhhbXBsZVNlbGVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9uZSBvZiAnZXhhbXBsZXMnIGFuZCAnZXhhbXBsZV9zZWxlY3Rvcicgc2hvdWxkIGJlIHByb3ZpZGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZhbGlkYXRlVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGxldCB0b3RhbElucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcztcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcnRpYWxWYXJpYWJsZXMpIHtcbiAgICAgICAgICAgICAgICB0b3RhbElucHV0VmFyaWFibGVzID0gdG90YWxJbnB1dFZhcmlhYmxlcy5jb25jYXQoT2JqZWN0LmtleXModGhpcy5wYXJ0aWFsVmFyaWFibGVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGVja1ZhbGlkVGVtcGxhdGUodGhpcy5wcmVmaXggKyB0aGlzLnN1ZmZpeCwgdGhpcy50ZW1wbGF0ZUZvcm1hdCwgdG90YWxJbnB1dFZhcmlhYmxlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2dldFByb21wdFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImZld19zaG90XCI7XG4gICAgfVxuICAgIGFzeW5jIGdldEV4YW1wbGVzKGlucHV0VmFyaWFibGVzKSB7XG4gICAgICAgIGlmICh0aGlzLmV4YW1wbGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV4YW1wbGVzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmV4YW1wbGVTZWxlY3RvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5leGFtcGxlU2VsZWN0b3Iuc2VsZWN0RXhhbXBsZXMoaW5wdXRWYXJpYWJsZXMpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9uZSBvZiAnZXhhbXBsZXMnIGFuZCAnZXhhbXBsZV9zZWxlY3Rvcicgc2hvdWxkIGJlIHByb3ZpZGVkXCIpO1xuICAgIH1cbiAgICBhc3luYyBwYXJ0aWFsKHZhbHVlcykge1xuICAgICAgICBjb25zdCBuZXdJbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXMuZmlsdGVyKChpdikgPT4gIShpdiBpbiB2YWx1ZXMpKTtcbiAgICAgICAgY29uc3QgbmV3UGFydGlhbFZhcmlhYmxlcyA9IHtcbiAgICAgICAgICAgIC4uLih0aGlzLnBhcnRpYWxWYXJpYWJsZXMgPz8ge30pLFxuICAgICAgICAgICAgLi4udmFsdWVzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwcm9tcHREaWN0ID0ge1xuICAgICAgICAgICAgLi4udGhpcyxcbiAgICAgICAgICAgIGlucHV0VmFyaWFibGVzOiBuZXdJbnB1dFZhcmlhYmxlcyxcbiAgICAgICAgICAgIHBhcnRpYWxWYXJpYWJsZXM6IG5ld1BhcnRpYWxWYXJpYWJsZXMsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgRmV3U2hvdFByb21wdFRlbXBsYXRlKHByb21wdERpY3QpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3JtYXRzIHRoZSBwcm9tcHQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzLlxuICAgICAqIEBwYXJhbSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBmb3JtYXQgdGhlIHByb21wdCB3aXRoLlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZm9ybWF0dGVkIHByb21wdC5cbiAgICAgKi9cbiAgICBhc3luYyBmb3JtYXQodmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IGFsbFZhbHVlcyA9IGF3YWl0IHRoaXMubWVyZ2VQYXJ0aWFsQW5kVXNlclZhcmlhYmxlcyh2YWx1ZXMpO1xuICAgICAgICBjb25zdCBleGFtcGxlcyA9IGF3YWl0IHRoaXMuZ2V0RXhhbXBsZXMoYWxsVmFsdWVzKTtcbiAgICAgICAgY29uc3QgZXhhbXBsZVN0cmluZ3MgPSBhd2FpdCBQcm9taXNlLmFsbChleGFtcGxlcy5tYXAoKGV4YW1wbGUpID0+IHRoaXMuZXhhbXBsZVByb21wdC5mb3JtYXQoZXhhbXBsZSkpKTtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBbdGhpcy5wcmVmaXgsIC4uLmV4YW1wbGVTdHJpbmdzLCB0aGlzLnN1ZmZpeF0uam9pbih0aGlzLmV4YW1wbGVTZXBhcmF0b3IpO1xuICAgICAgICByZXR1cm4gcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHRoaXMudGVtcGxhdGVGb3JtYXQsIGFsbFZhbHVlcyk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZXhhbXBsZVNlbGVjdG9yIHx8ICF0aGlzLmV4YW1wbGVzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXJpYWxpemluZyBhbiBleGFtcGxlIHNlbGVjdG9yIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFBhcnNlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXJpYWxpemluZyBhbiBvdXRwdXQgcGFyc2VyIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fZ2V0UHJvbXB0VHlwZSgpLFxuICAgICAgICAgICAgaW5wdXRfdmFyaWFibGVzOiB0aGlzLmlucHV0VmFyaWFibGVzLFxuICAgICAgICAgICAgZXhhbXBsZV9wcm9tcHQ6IHRoaXMuZXhhbXBsZVByb21wdC5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgIGV4YW1wbGVfc2VwYXJhdG9yOiB0aGlzLmV4YW1wbGVTZXBhcmF0b3IsXG4gICAgICAgICAgICBzdWZmaXg6IHRoaXMuc3VmZml4LFxuICAgICAgICAgICAgcHJlZml4OiB0aGlzLnByZWZpeCxcbiAgICAgICAgICAgIHRlbXBsYXRlX2Zvcm1hdDogdGhpcy50ZW1wbGF0ZUZvcm1hdCxcbiAgICAgICAgICAgIGV4YW1wbGVzOiB0aGlzLmV4YW1wbGVzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBjb25zdCB7IGV4YW1wbGVfcHJvbXB0IH0gPSBkYXRhO1xuICAgICAgICBpZiAoIWV4YW1wbGVfcHJvbXB0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGV4YW1wbGUgcHJvbXB0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4YW1wbGVQcm9tcHQgPSBhd2FpdCBQcm9tcHRUZW1wbGF0ZS5kZXNlcmlhbGl6ZShleGFtcGxlX3Byb21wdCk7XG4gICAgICAgIGxldCBleGFtcGxlcztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YS5leGFtcGxlcykpIHtcbiAgICAgICAgICAgIGV4YW1wbGVzID0gZGF0YS5leGFtcGxlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZXhhbXBsZXMgZm9ybWF0LiBPbmx5IGxpc3Qgb3Igc3RyaW5nIGFyZSBzdXBwb3J0ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRmV3U2hvdFByb21wdFRlbXBsYXRlKHtcbiAgICAgICAgICAgIGlucHV0VmFyaWFibGVzOiBkYXRhLmlucHV0X3ZhcmlhYmxlcyxcbiAgICAgICAgICAgIGV4YW1wbGVQcm9tcHQsXG4gICAgICAgICAgICBleGFtcGxlcyxcbiAgICAgICAgICAgIGV4YW1wbGVTZXBhcmF0b3I6IGRhdGEuZXhhbXBsZV9zZXBhcmF0b3IsXG4gICAgICAgICAgICBwcmVmaXg6IGRhdGEucHJlZml4LFxuICAgICAgICAgICAgc3VmZml4OiBkYXRhLnN1ZmZpeCxcbiAgICAgICAgICAgIHRlbXBsYXRlRm9ybWF0OiBkYXRhLnRlbXBsYXRlX2Zvcm1hdCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFNURU1NRVJTID0ge1xuICAgIGFyYWJpYzogJ2FyJyxcbiAgICBhcm1lbmlhbjogJ2FtJyxcbiAgICBidWxnYXJpYW46ICdiZycsXG4gICAgZGFuaXNoOiAnZGsnLFxuICAgIGR1dGNoOiAnbmwnLFxuICAgIGVuZ2xpc2g6ICdlbicsXG4gICAgZmlubmlzaDogJ2ZpJyxcbiAgICBmcmVuY2g6ICdmcicsXG4gICAgZ2VybWFuOiAnZGUnLFxuICAgIGdyZWVrOiAnZ3InLFxuICAgIGh1bmdhcmlhbjogJ2h1JyxcbiAgICBpbmRpYW46ICdpbicsXG4gICAgaW5kb25lc2lhbjogJ2lkJyxcbiAgICBpcmlzaDogJ2llJyxcbiAgICBpdGFsaWFuOiAnaXQnLFxuICAgIGxpdGh1YW5pYW46ICdsdCcsXG4gICAgbmVwYWxpOiAnbnAnLFxuICAgIG5vcndlZ2lhbjogJ25vJyxcbiAgICBwb3J0dWd1ZXNlOiAncHQnLFxuICAgIHJvbWFuaWFuOiAncm8nLFxuICAgIHJ1c3NpYW46ICdydScsXG4gICAgc2VyYmlhbjogJ3JzJyxcbiAgICBzbG92ZW5pYW46ICdydScsXG4gICAgc3BhbmlzaDogJ2VzJyxcbiAgICBzd2VkaXNoOiAnc2UnLFxuICAgIHRhbWlsOiAndGEnLFxuICAgIHR1cmtpc2g6ICd0cicsXG4gICAgdWtyYWluaWFuOiAndWsnLFxuICAgIHNhbnNrcml0OiAnc2snXG59O1xuZXhwb3J0IGNvbnN0IFNQTElUVEVSUyA9IHtcbiAgICBkdXRjaDogL1teQS1aYS16w6DDqMOpw6zDssOzw7kwLTlfJy1dKy9naW0sXG4gICAgZW5nbGlzaDogL1teQS1aYS16w6DDqMOpw6zDssOzw7kwLTlfJy1dKy9naW0sXG4gICAgZnJlbmNoOiAvW15hLXowLTnDpMOiw6DDqcOow6vDqsOvw67DtsO0w7nDvMO7xZPDpy1dKy9naW0sXG4gICAgaXRhbGlhbjogL1teQS1aYS16w6DDqMOpw6zDssOzw7kwLTlfJy1dKy9naW0sXG4gICAgbm9yd2VnaWFuOiAvW15hLXowLTlfw6bDuMOlw4bDmMOFw6TDhMO2w5bDvMOcXSsvZ2ltLFxuICAgIHBvcnR1Z3Vlc2U6IC9bXmEtejAtOcOgLcO6w4Atw5pdL2dpbSxcbiAgICBydXNzaWFuOiAvW15hLXowLTnQsC3Rj9CQLdCv0ZHQgV0rL2dpbSxcbiAgICBzcGFuaXNoOiAvW15hLXowLTlBLVrDoS3DusOBLcOaw7HDkcO8w5xdKy9naW0sXG4gICAgc3dlZGlzaDogL1teYS16MC05X8Olw4XDpMOEw7bDlsO8w5wtXSsvZ2ltLFxuICAgIGdlcm1hbjogL1teYS16MC05QS1aw6TDtsO8w4TDlsOcw59dKy9naW0sXG4gICAgZmlubmlzaDogL1teYS16MC05w6TDtsOEw5ZdKy9naW0sXG4gICAgZGFuaXNoOiAvW15hLXowLTnDpsO4w6XDhsOYw4VdKy9naW0sXG4gICAgaHVuZ2FyaWFuOiAvW15hLXowLTnDocOpw63Ds8O2xZHDusO8xbHDgcOJw43Dk8OWxZDDmsOcxbBdKy9naW0sXG4gICAgcm9tYW5pYW46IC9bXmEtejAtOcSDw6LDrsiZyJvEgsOCw47ImMiaXSsvZ2ltLFxuICAgIHNlcmJpYW46IC9bXmEtejAtOcSNxIfFvsWhxJHEjMSGxb3FoMSQXSsvZ2ltLFxuICAgIHR1cmtpc2g6IC9bXmEtejAtOcOnw4fEn8SexLHEsMO2w5bFn8Wew7zDnF0rL2dpbSxcbiAgICBsaXRodWFuaWFuOiAvW15hLXowLTnEhcSNxJnEl8SvxaHFs8Wrxb7EhMSMxJjElsSuxaDFssWqxb1dKy9naW0sXG4gICAgYXJhYmljOiAvW15hLXowLTnYoy3Zil0rL2dpbSxcbiAgICBuZXBhbGk6IC9bXmEtejAtOeCkhS3gpLldKy9naW0sXG4gICAgaXJpc2g6IC9bXmEtejAtOcOhw6nDrcOzw7rDgcOJw43Dk8OaXSsvZ2ltLFxuICAgIGluZGlhbjogL1teYS16MC054KSFLeCkuV0rL2dpbSxcbiAgICBhcm1lbmlhbjogL1teYS16MC051aEt1oZdKy9naW0sXG4gICAgZ3JlZWs6IC9bXmEtejAtOc6xLc+Jzqwtz45dKy9naW0sXG4gICAgaW5kb25lc2lhbjogL1teYS16MC05XSsvZ2ltLFxuICAgIHVrcmFpbmlhbjogL1teYS16MC050LAt0Y/QkC3Qr9GW0ZfRlNCG0IfQhF0rL2dpbSxcbiAgICBzbG92ZW5pYW46IC9bXmEtejAtOcSNxb7FocSMxb3FoF0rL2dpbSxcbiAgICBidWxnYXJpYW46IC9bXmEtejAtOdCwLdGP0JAt0K9dKy9naW0sXG4gICAgdGFtaWw6IC9bXmEtejAtOeCuhS3grrldKy9naW0sXG4gICAgc2Fuc2tyaXQ6IC9bXmEtejAtOUEtWsSBxKvFq+G5m+G4t+G5g+G5geG4pcWb4bmj4bmt4biN4bmH4bmFw7HhuLvhuLnhuZ1dKy9naW1cbn07XG5leHBvcnQgY29uc3QgU1VQUE9SVEVEX0xBTkdVQUdFUyA9IE9iamVjdC5rZXlzKFNURU1NRVJTKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFuZ3VhZ2VzLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi9lcnJvcnMuanMnO1xuY29uc3QgYmFzZUlkID0gRGF0ZS5ub3coKS50b1N0cmluZygpLnNsaWNlKDUpO1xubGV0IGxhc3RJZCA9IDA7XG5jb25zdCBrID0gMTAyNDtcbmNvbnN0IG5hbm8gPSBCaWdJbnQoMWUzKTtcbmNvbnN0IG1pbGxpID0gQmlnSW50KDFlNik7XG5jb25zdCBzZWNvbmQgPSBCaWdJbnQoMWU5KTtcbmV4cG9ydCBjb25zdCBpc1NlcnZlciA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnO1xuLyoqXG4gKiBUaGlzIHZhbHVlIGNhbiBiZSBpbmNyZWFzZWQgdXAgdG8gMTAwXzAwMFxuICogQnV0IGkgZG9uJ3Qga25vdyBpZiB0aGlzIHZhbHVlIGNoYW5nZSBmcm9tIG5vZGVqcyB0byBub2RlanNcbiAqIFNvIEkgd2lsbCBrZWVwIGEgc2FmZXIgdmFsdWUgaGVyZS5cbiAqLyBleHBvcnQgY29uc3QgTUFYX0FSR1VNRU5UX0ZPUl9TVEFDSyA9IDY1NTM1O1xuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBuZWVkZWQgdG8gdXNlZCBiZWNhdXNlIG9mIGlzc3VlcyBsaWtlOiBodHRwczovL2dpdGh1Yi5jb20vb3JhbWFzZWFyY2gvb3JhbWEvaXNzdWVzLzMwMVxuICogdGhhdCBpc3N1ZSBpcyBjYXVzZWQgYmVjYXVzZSB0aGUgYXJyYXkgdGhhdCBpcyBwdXNoZWQgaXMgaHVnZSAoPjEwMGspXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBzYWZlQXJyYXlQdXNoKG15QXJyYXksIFsxLCAyXSlcbiAqIGBgYFxuICovIGV4cG9ydCBmdW5jdGlvbiBzYWZlQXJyYXlQdXNoKGFyciwgbmV3QXJyKSB7XG4gICAgaWYgKG5ld0Fyci5sZW5ndGggPCBNQVhfQVJHVU1FTlRfRk9SX1NUQUNLKSB7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGFyciwgbmV3QXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbmV3QXJyLmxlbmd0aDsgaSArPSBNQVhfQVJHVU1FTlRfRk9SX1NUQUNLKXtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGFyciwgbmV3QXJyLnNsaWNlKGksIGkgKyBNQVhfQVJHVU1FTlRfRk9SX1NUQUNLKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc3ByaW50Zih0ZW1wbGF0ZSwgLi4uYXJncykge1xuICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC8lKD86KD88cG9zaXRpb24+XFxkKylcXCQpPyg/PHdpZHRoPi0/XFxkKlxcLj9cXGQqKSg/PHR5cGU+W2Rmc10pL2csIGZ1bmN0aW9uKC4uLnJlcGxhY2VBcmdzKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwcyA9IHJlcGxhY2VBcmdzW3JlcGxhY2VBcmdzLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCB7IHdpZHRoOiByYXdXaWR0aCAsIHR5cGUgLCBwb3NpdGlvbiAgfSA9IGdyb3VwcztcbiAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBwb3NpdGlvbiA/IGFyZ3NbTnVtYmVyLnBhcnNlSW50KHBvc2l0aW9uKSAtIDFdIDogYXJncy5zaGlmdCgpO1xuICAgICAgICBjb25zdCB3aWR0aCA9IHJhd1dpZHRoID09PSAnJyA/IDAgOiBOdW1iZXIucGFyc2VJbnQocmF3V2lkdGgpO1xuICAgICAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnQudG9TdHJpbmcoKS5wYWRTdGFydCh3aWR0aCwgJzAnKTtcbiAgICAgICAgICAgIGNhc2UgJ2YnOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtwYWRkaW5nLCBwcmVjaXNpb25dID0gcmF3V2lkdGguc3BsaXQoJy4nKS5tYXAoKHcpPT5OdW1iZXIucGFyc2VGbG9hdCh3KSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJlY2lzaW9uID09PSAnbnVtYmVyJyAmJiBwcmVjaXNpb24gPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0ZpeGVkKHByZWNpc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBwYWRkaW5nID09PSAnbnVtYmVyJyAmJiBwYWRkaW5nID49IDAgPyB2YWx1ZS50b1N0cmluZygpLnBhZFN0YXJ0KHdpZHRoLCAnMCcpIDogdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGggPCAwID8gcmVwbGFjZW1lbnQudG9TdHJpbmcoKS5wYWRFbmQoLXdpZHRoLCAnICcpIDogcmVwbGFjZW1lbnQudG9TdHJpbmcoKS5wYWRTdGFydCh3aWR0aCwgJyAnKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50O1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZm9ybWF0Qnl0ZXMoYnl0ZXMsIGRlY2ltYWxzID0gMikge1xuICAgIGlmIChieXRlcyA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJzAgQnl0ZXMnO1xuICAgIH1cbiAgICBjb25zdCBkbSA9IGRlY2ltYWxzIDwgMCA/IDAgOiBkZWNpbWFscztcbiAgICBjb25zdCBzaXplcyA9IFtcbiAgICAgICAgJ0J5dGVzJyxcbiAgICAgICAgJ0tCJyxcbiAgICAgICAgJ01CJyxcbiAgICAgICAgJ0dCJyxcbiAgICAgICAgJ1RCJyxcbiAgICAgICAgJ1BCJyxcbiAgICAgICAgJ0VCJyxcbiAgICAgICAgJ1pCJyxcbiAgICAgICAgJ1lCJ1xuICAgIF07XG4gICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpO1xuICAgIHJldHVybiBgJHtwYXJzZUZsb2F0KChieXRlcyAvIE1hdGgucG93KGssIGkpKS50b0ZpeGVkKGRtKSl9ICR7c2l6ZXNbaV19YDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmb3JtYXROYW5vc2Vjb25kcyh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhbHVlID0gQmlnSW50KHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlIDwgbmFubykge1xuICAgICAgICByZXR1cm4gYCR7dmFsdWV9bnNgO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPCBtaWxsaSkge1xuICAgICAgICByZXR1cm4gYCR7dmFsdWUgLyBuYW5vfc68c2A7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA8IHNlY29uZCkge1xuICAgICAgICByZXR1cm4gYCR7dmFsdWUgLyBtaWxsaX1tc2A7XG4gICAgfVxuICAgIHJldHVybiBgJHt2YWx1ZSAvIHNlY29uZH1zYDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXROYW5vc2Vjb25kc1RpbWUoKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmhydGltZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzLmhydGltZS5iaWdpbnQoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIEJpZ0ludChNYXRoLmZsb29yKHBlcmZvcm1hbmNlLm5vdygpICogMWU2KSk7XG4gICAgfVxuICAgIC8vIEB0b2RvOiBmYWxsYmFjayB0byBWOCBuYXRpdmUgbWV0aG9kIHRvIGdldCBtaWNyb3RpbWVcbiAgICByZXR1cm4gQmlnSW50KDApO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuICAgIHJldHVybiBgJHtiYXNlSWR9LSR7bGFzdElkKyt9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgLy8gQ2hlY2tzIGlmIGBoYXNPd25gIG1ldGhvZCBpcyBkZWZpbmVkIGF2b2lkaW5nIGVycm9ycyB3aXRoIG9sZGVyIE5vZGUuanMgdmVyc2lvbnNcbiAgICBpZiAoT2JqZWN0Lmhhc093biA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkgPyBvYmplY3RbcHJvcGVydHldIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0Lmhhc093bihvYmplY3QsIHByb3BlcnR5KSA/IG9iamVjdFtwcm9wZXJ0eV0gOiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9rZW5GcmVxdWVuY3kodG9rZW4sIHRva2Vucykge1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChjb25zdCB0IG9mIHRva2Vucyl7XG4gICAgICAgIGlmICh0ID09PSB0b2tlbikge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY291bnQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0U29ydGVkVmFsdWUoYXJyLCBlbCwgY29tcGFyZUZuID0gc29ydFRva2VuU2NvcmVQcmVkaWNhdGUpIHtcbiAgICBsZXQgbG93ID0gMDtcbiAgICBsZXQgaGlnaCA9IGFyci5sZW5ndGg7XG4gICAgbGV0IG1pZDtcbiAgICB3aGlsZShsb3cgPCBoaWdoKXtcbiAgICAgICAgbWlkID0gbG93ICsgaGlnaCA+Pj4gMTtcbiAgICAgICAgaWYgKGNvbXBhcmVGbihlbCwgYXJyW21pZF0pIDwgMCkge1xuICAgICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXJyLnNwbGljZShsb3csIDAsIGVsKTtcbiAgICByZXR1cm4gYXJyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRUb2tlblNjb3JlUHJlZGljYXRlKGEsIGIpIHtcbiAgICBpZiAoYlsxXSA9PT0gYVsxXSkge1xuICAgICAgICByZXR1cm4gYVswXSAtIGJbMF07XG4gICAgfVxuICAgIHJldHVybiBiWzFdIC0gYVsxXTtcbn1cbi8vIEludGVyc2VjdGlvbiBmdW5jdGlvbiB0YWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9sb3Zhc29hL2Zhc3RfYXJyYXlfaW50ZXJzZWN0LlxuLy8gTUlUIExpY2Vuc2VkIGF0IHRoZSB0aW1lIG9mIHdyaXRpbmcuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0KGFycmF5cykge1xuICAgIGlmIChhcnJheXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9IGVsc2UgaWYgKGFycmF5cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5c1swXTtcbiAgICB9XG4gICAgZm9yKGxldCBpID0gMTsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmIChhcnJheXNbaV0ubGVuZ3RoIDwgYXJyYXlzWzBdLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdG1wID0gYXJyYXlzWzBdO1xuICAgICAgICAgICAgYXJyYXlzWzBdID0gYXJyYXlzW2ldO1xuICAgICAgICAgICAgYXJyYXlzW2ldID0gdG1wO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNldCA9IG5ldyBNYXAoKTtcbiAgICBmb3IgKGNvbnN0IGVsZW0gb2YgYXJyYXlzWzBdKXtcbiAgICAgICAgc2V0LnNldChlbGVtLCAxKTtcbiAgICB9XG4gICAgZm9yKGxldCBpID0gMTsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGxldCBmb3VuZCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbSBvZiBhcnJheXNbaV0pe1xuICAgICAgICAgICAgY29uc3QgY291bnQgPSBzZXQuZ2V0KGVsZW0pO1xuICAgICAgICAgICAgaWYgKGNvdW50ID09PSBpKSB7XG4gICAgICAgICAgICAgICAgc2V0LnNldChlbGVtLCBjb3VudCArIDEpO1xuICAgICAgICAgICAgICAgIGZvdW5kKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvdW5kID09PSAwKSByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBhcnJheXNbMF0uZmlsdGVyKChlKT0+e1xuICAgICAgICBjb25zdCBjb3VudCA9IHNldC5nZXQoZSk7XG4gICAgICAgIGlmIChjb3VudCAhPT0gdW5kZWZpbmVkKSBzZXQuc2V0KGUsIDApO1xuICAgICAgICByZXR1cm4gY291bnQgPT09IGFycmF5cy5sZW5ndGg7XG4gICAgfSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzKGRvYywgcGF0aHMpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG4gICAgY29uc3QgcGF0aHNMZW5ndGggPSBwYXRocy5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHBhdGhzTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBwYXRoID0gcGF0aHNbaV07XG4gICAgICAgIGNvbnN0IHBhdGhUb2tlbnMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgICAgIGxldCBjdXJyZW50ID0gZG9jO1xuICAgICAgICBjb25zdCBwYXRoVG9rZW5zTGVuZ3RoID0gcGF0aFRva2Vucy5sZW5ndGg7XG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBwYXRoVG9rZW5zTGVuZ3RoOyBqKyspe1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGF0aFRva2Vuc1tqXV07XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCBhbiBvYmplY3QgYnV0IHdlIHdlcmUgc3VwcG9zZWQgdG8gYmUgZG9uZVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsICYmICdsYXQnIGluIGN1cnJlbnQgJiYgJ2xvbicgaW4gY3VycmVudCAmJiB0eXBlb2YgY3VycmVudC5sYXQgPT09ICdudW1iZXInICYmIHR5cGVvZiBjdXJyZW50LmxvbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHByb3BlcnRpZXNbcGF0aF0gPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGN1cnJlbnQpICYmIGN1cnJlbnQgIT09IG51bGwgJiYgaiA9PT0gcGF0aFRva2Vuc0xlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICgoY3VycmVudCA9PT0gbnVsbCB8fCB0eXBlb2YgY3VycmVudCAhPT0gJ29iamVjdCcpICYmIGogPCBwYXRoVG9rZW5zTGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGNhbid0IHJlY3Vyc2UgYW55bW9yZSBidXQgd2Ugd2VyZSBzdXBwb3NlZCB0b1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcHJvcGVydGllc1twYXRoXSA9IGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TmVzdGVkKG9iaiwgcGF0aCkge1xuICAgIGNvbnN0IHByb3BzID0gYXdhaXQgZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzKG9iaiwgW1xuICAgICAgICBwYXRoXG4gICAgXSk7XG4gICAgcmV0dXJuIHByb3BzW3BhdGhdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5PYmplY3Qob2JqLCBwcmVmaXggPSAnJykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvcihjb25zdCBrZXkgaW4gb2JqKXtcbiAgICAgICAgY29uc3QgcHJvcCA9IGAke3ByZWZpeH0ke2tleX1gO1xuICAgICAgICBjb25zdCBvYmpLZXkgPSBvYmpba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmpLZXkgPT09ICdvYmplY3QnICYmIG9iaktleSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXN1bHQsIGZsYXR0ZW5PYmplY3Qob2JqS2V5LCBgJHtwcm9wfS5gKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRbcHJvcF0gPSBvYmpLZXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IG1hcERpc3RhbmNlVG9NZXRlcnMgPSB7XG4gICAgY206IDAuMDEsXG4gICAgbTogMSxcbiAgICBrbTogMTAwMCxcbiAgICBmdDogMC4zMDQ4LFxuICAgIHlkOiAwLjkxNDQsXG4gICAgbWk6IDE2MDkuMzQ0XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnREaXN0YW5jZVRvTWV0ZXJzKGRpc3RhbmNlLCB1bml0KSB7XG4gICAgY29uc3QgcmF0aW8gPSBtYXBEaXN0YW5jZVRvTWV0ZXJzW3VuaXRdO1xuICAgIGlmIChyYXRpbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihjcmVhdGVFcnJvcignSU5WQUxJRF9ESVNUQU5DRV9TVUZGSVgnLCBkaXN0YW5jZSkubWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiBkaXN0YW5jZSAqIHJhdGlvO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiLCJpbXBvcnQgeyBTVVBQT1JURURfTEFOR1VBR0VTIH0gZnJvbSAnLi9jb21wb25lbnRzL3Rva2VuaXplci9sYW5ndWFnZXMuanMnO1xuaW1wb3J0IHsgc3ByaW50ZiB9IGZyb20gJy4vdXRpbHMuanMnO1xuY29uc3QgYWxsTGFuZ3VhZ2VzID0gU1VQUE9SVEVEX0xBTkdVQUdFUy5qb2luKCdcXG4gLSAnKTtcbmNvbnN0IGVycm9ycyA9IHtcbiAgICBOT19MQU5HVUFHRV9XSVRIX0NVU1RPTV9UT0tFTklaRVI6ICdEbyBub3QgcGFzcyB0aGUgbGFuZ3VhZ2Ugb3B0aW9uIHRvIGNyZWF0ZSB3aGVuIHVzaW5nIGEgY3VzdG9tIHRva2VuaXplci4nLFxuICAgIExBTkdVQUdFX05PVF9TVVBQT1JURUQ6IGBMYW5ndWFnZSBcIiVzXCIgaXMgbm90IHN1cHBvcnRlZC5cXG5TdXBwb3J0ZWQgbGFuZ3VhZ2VzIGFyZTpcXG4gLSAke2FsbExhbmd1YWdlc31gLFxuICAgIElOVkFMSURfU1RFTU1FUl9GVU5DVElPTl9UWVBFOiBgY29uZmlnLnN0ZW1tZXIgcHJvcGVydHkgbXVzdCBiZSBhIGZ1bmN0aW9uLmAsXG4gICAgTUlTU0lOR19TVEVNTUVSOiBgQXMgb2YgdmVyc2lvbiAxLjAuMCBAb3JhbWEvb3JhbWEgZG9lcyBub3Qgc2hpcCBub24gRW5nbGlzaCBzdGVtbWVycyBieSBkZWZhdWx0LiBUbyBzb2x2ZSB0aGlzLCBwbGVhc2UgZXhwbGljaXRseSBpbXBvcnQgYW5kIHNwZWNpZnkgdGhlIFwiJXNcIiBzdGVtbWVyIGZyb20gdGhlIHBhY2thZ2UgQG9yYW1hL3N0ZW1tZXJzLiBTZWUgaHR0cHM6Ly9kb2NzLm9yYW1hc2VhcmNoLmNvbS9vcGVuLXNvdXJjZS90ZXh0LWFuYWx5c2lzL3N0ZW1taW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLmAsXG4gICAgQ1VTVE9NX1NUT1BfV09SRFNfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWTogJ0N1c3RvbSBzdG9wIHdvcmRzIGFycmF5IG11c3Qgb25seSBjb250YWluIHN0cmluZ3MuJyxcbiAgICBVTlNVUFBPUlRFRF9DT01QT05FTlQ6IGBVbnN1cHBvcnRlZCBjb21wb25lbnQgXCIlc1wiLmAsXG4gICAgQ09NUE9ORU5UX01VU1RfQkVfRlVOQ1RJT046IGBUaGUgY29tcG9uZW50IFwiJXNcIiBtdXN0IGJlIGEgZnVuY3Rpb24uYCxcbiAgICBDT01QT05FTlRfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWV9GVU5DVElPTlM6IGBUaGUgY29tcG9uZW50IFwiJXNcIiBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgYW4gYXJyYXkgb2YgZnVuY3Rpb25zLmAsXG4gICAgSU5WQUxJRF9TQ0hFTUFfVFlQRTogYFVuc3VwcG9ydGVkIHNjaGVtYSB0eXBlIFwiJXNcIiBhdCBcIiVzXCIuIEV4cGVjdGVkIFwic3RyaW5nXCIsIFwiYm9vbGVhblwiIG9yIFwibnVtYmVyXCIgb3IgYXJyYXkgb2YgdGhlbS5gLFxuICAgIERPQ1VNRU5UX0lEX01VU1RfQkVfU1RSSU5HOiBgRG9jdW1lbnQgaWQgbXVzdCBiZSBvZiB0eXBlIFwic3RyaW5nXCIuIEdvdCBcIiVzXCIgaW5zdGVhZC5gLFxuICAgIERPQ1VNRU5UX0FMUkVBRFlfRVhJU1RTOiBgQSBkb2N1bWVudCB3aXRoIGlkIFwiJXNcIiBhbHJlYWR5IGV4aXN0cy5gLFxuICAgIERPQ1VNRU5UX0RPRVNfTk9UX0VYSVNUOiBgQSBkb2N1bWVudCB3aXRoIGlkIFwiJXNcIiBkb2VzIG5vdCBleGlzdHMuYCxcbiAgICBNSVNTSU5HX0RPQ1VNRU5UX1BST1BFUlRZOiBgTWlzc2luZyBzZWFyY2hhYmxlIHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfRE9DVU1FTlRfUFJPUEVSVFk6IGBJbnZhbGlkIGRvY3VtZW50IHByb3BlcnR5IFwiJXNcIjogZXhwZWN0ZWQgXCIlc1wiLCBnb3QgXCIlc1wiYCxcbiAgICBVTktOT1dOX0lOREVYOiBgSW52YWxpZCBwcm9wZXJ0eSBuYW1lIFwiJXNcIi4gRXhwZWN0ZWQgYSB3aWxkY2FyZCBzdHJpbmcgKFwiKlwiKSBvciBhcnJheSBjb250YWluaW5nIG9uZSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6ICVzYCxcbiAgICBJTlZBTElEX0JPT1NUX1ZBTFVFOiBgQm9vc3QgdmFsdWUgbXVzdCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4sIG9yIGxlc3MgdGhhbiAwLmAsXG4gICAgSU5WQUxJRF9GSUxURVJfT1BFUkFUSU9OOiBgWW91IGNhbiBvbmx5IHVzZSBvbmUgb3BlcmF0aW9uIHBlciBmaWx0ZXIsIHlvdSByZXF1ZXN0ZWQgJWQuYCxcbiAgICBTQ0hFTUFfVkFMSURBVElPTl9GQUlMVVJFOiBgQ2Fubm90IGluc2VydCBkb2N1bWVudCBkdWUgc2NoZW1hIHZhbGlkYXRpb24gZmFpbHVyZSBvbiBcIiVzXCIgcHJvcGVydHkuYCxcbiAgICBJTlZBTElEX1NPUlRfU0NIRU1BX1RZUEU6IGBVbnN1cHBvcnRlZCBzb3J0IHNjaGVtYSB0eXBlIFwiJXNcIiBhdCBcIiVzXCIuIEV4cGVjdGVkIFwic3RyaW5nXCIgb3IgXCJudW1iZXJcIi5gLFxuICAgIENBTk5PVF9TT1JUX0JZX0FSUkFZOiBgQ2Fubm90IGNvbmZpZ3VyZSBzb3J0IGZvciBcIiVzXCIgYmVjYXVzZSBpdCBpcyBhbiBhcnJheSAoJXMpLmAsXG4gICAgVU5BQkxFX1RPX1NPUlRfT05fVU5LTk9XTl9GSUVMRDogYFVuYWJsZSB0byBzb3J0IG9uIHVua25vd24gZmllbGQgXCIlc1wiLiBBbGxvd2VkIGZpZWxkczogJXNgLFxuICAgIFNPUlRfRElTQUJMRUQ6IGBTb3J0IGlzIGRpc2FibGVkLiBQbGVhc2UgcmVhZCB0aGUgZG9jdW1lbnRhdGlvbiBhdCBodHRwczovL2RvY3Mub3JhbWFzZWFyY2ggZm9yIG1vcmUgaW5mb3JtYXRpb24uYCxcbiAgICBVTktOT1dOX0dST1VQX0JZX1BST1BFUlRZOiBgVW5rbm93biBncm91cEJ5IHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfR1JPVVBfQllfUFJPUEVSVFk6IGBJbnZhbGlkIGdyb3VwQnkgcHJvcGVydHkgXCIlc1wiLiBBbGxvd2VkIHR5cGVzOiBcIiVzXCIsIGJ1dCBnaXZlbiBcIiVzXCIuYCxcbiAgICBVTktOT1dOX0ZJTFRFUl9QUk9QRVJUWTogYFVua25vd24gZmlsdGVyIHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfVkVDVE9SX1NJWkU6IGBWZWN0b3Igc2l6ZSBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwLiBHb3QgXCIlc1wiIGluc3RlYWQuYCxcbiAgICBJTlZBTElEX1ZFQ1RPUl9WQUxVRTogYFZlY3RvciB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwLiBHb3QgXCIlc1wiIGluc3RlYWQuYCxcbiAgICBJTlZBTElEX0lOUFVUX1ZFQ1RPUjogYFByb3BlcnR5IFwiJXNcIiB3YXMgZGVjbGFyZWQgYXMgYSAlcy1kaW1lbnNpb25hbCB2ZWN0b3IsIGJ1dCBnb3QgYSAlcy1kaW1lbnNpb25hbCB2ZWN0b3IgaW5zdGVhZC5cXG5JbnB1dCB2ZWN0b3JzIG11c3QgYmUgb2YgdGhlIHNpemUgZGVjbGFyZWQgaW4gdGhlIHNjaGVtYSwgYXMgY2FsY3VsYXRpbmcgc2ltaWxhcml0eSBiZXR3ZWVuIHZlY3RvcnMgb2YgZGlmZmVyZW50IHNpemVzIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgcmVzdWx0cy5gLFxuICAgIFdST05HX1NFQVJDSF9QUk9QRVJUWV9UWVBFOiBgUHJvcGVydHkgXCIlc1wiIGlzIG5vdCBzZWFyY2hhYmxlLiBPbmx5IFwic3RyaW5nXCIgcHJvcGVydGllcyBhcmUgc2VhcmNoYWJsZS5gLFxuICAgIEZBQ0VUX05PVF9TVVBQT1JURUQ6IGBGYWNldCBkb2Vucyd0IHN1cHBvcnQgdGhlIHR5cGUgXCIlc1wiLmAsXG4gICAgSU5WQUxJRF9ESVNUQU5DRV9TVUZGSVg6IGBJbnZhbGlkIGRpc3RhbmNlIHN1ZmZpeCBcIiVzXCIuIFZhbGlkIHN1ZmZpeGVzIGFyZTogY20sIG0sIGttLCBtaSwgeWQsIGZ0LmBcbn07XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXJyb3IoY29kZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHNwcmludGYoZXJyb3JzW2NvZGVdID8/IGBVbnN1cHBvcnRlZCBPcmFtYSBFcnJvciBjb2RlOiAke2NvZGV9YCwgLi4uYXJncykpO1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICAgIGlmICgnY2FwdHVyZVN0YWNrVHJhY2UnIGluIEVycm9yLnByb3RvdHlwZSkge1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcjtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JzLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGZvcm1hdE5hbm9zZWNvbmRzLCB1bmlxdWVJZCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmV4cG9ydCB7IGdldERvY3VtZW50UHJvcGVydGllcyB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmb3JtYXRFbGFwc2VkVGltZShuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmF3OiBOdW1iZXIobiksXG4gICAgICAgIGZvcm1hdHRlZDogYXdhaXQgZm9ybWF0TmFub3NlY29uZHMobilcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERvY3VtZW50SW5kZXhJZChkb2MpIHtcbiAgICBpZiAoZG9jLmlkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZG9jLmlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0RPQ1VNRU5UX0lEX01VU1RfQkVfU1RSSU5HJywgdHlwZW9mIGRvYy5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvYy5pZDtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHVuaXF1ZUlkKCk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVTY2hlbWEoZG9jLCBzY2hlbWEpIHtcbiAgICBmb3IgKGNvbnN0IFtwcm9wLCB0eXBlXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEpKXtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkb2NbcHJvcF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2dlb3BvaW50JyAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS5sb24gPT09ICdudW1iZXInICYmIHR5cGVvZiB2YWx1ZS5sYXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2VudW0nICYmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2VudW1bXScgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlTGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHZhbHVlTGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gIT09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZVtpXSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3AgKyAnLicgKyBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1ZlY3RvclR5cGUodHlwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZlY3RvclNpemUgPSBnZXRWZWN0b3JTaXplKHR5cGUpO1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggIT09IHZlY3RvclNpemUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9JTlBVVF9WRUNUT1InLCBwcm9wLCB2ZWN0b3JTaXplLCB2YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlUeXBlKHR5cGUpKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBnZXRJbm5lclR5cGUodHlwZSk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB2YWx1ZUxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3AgKyAnLicgKyBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXNpbmcgYXMgUmVzdWx0RG9jdW1lbnQgaXMgbm90IGV4YWN0bHkgcmlnaHQgYnV0IHRyeWluZyB0byBiZSB0eXBlLXNhZmUgaGVyZSBpcyBub3QgdXNlZnVsXG4gICAgICAgICAgICBjb25zdCBzdWJQcm9wID0gYXdhaXQgdmFsaWRhdGVTY2hlbWEodmFsdWUsIHR5cGUpO1xuICAgICAgICAgICAgaWYgKHN1YlByb3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcCArICcuJyArIHN1YlByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSB0eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuY29uc3QgSVNfQVJSQVlfVFlQRSA9IHtcbiAgICBzdHJpbmc6IGZhbHNlLFxuICAgIG51bWJlcjogZmFsc2UsXG4gICAgYm9vbGVhbjogZmFsc2UsXG4gICAgZW51bTogZmFsc2UsXG4gICAgZ2VvcG9pbnQ6IGZhbHNlLFxuICAgICdzdHJpbmdbXSc6IHRydWUsXG4gICAgJ251bWJlcltdJzogdHJ1ZSxcbiAgICAnYm9vbGVhbltdJzogdHJ1ZSxcbiAgICAnZW51bVtdJzogdHJ1ZVxufTtcbmNvbnN0IElOTkVSX1RZUEUgPSB7XG4gICAgJ3N0cmluZ1tdJzogJ3N0cmluZycsXG4gICAgJ251bWJlcltdJzogJ251bWJlcicsXG4gICAgJ2Jvb2xlYW5bXSc6ICdib29sZWFuJyxcbiAgICAnZW51bVtdJzogJ2VudW0nXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGlzR2VvUG9pbnRUeXBlKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2dlb3BvaW50Jztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ZlY3RvclR5cGUodHlwZSkge1xuICAgIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgJiYgL152ZWN0b3JcXFtcXGQrXFxdJC8udGVzdCh0eXBlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5VHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyAmJiBJU19BUlJBWV9UWVBFW3R5cGVdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldElubmVyVHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIElOTkVSX1RZUEVbdHlwZV07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VmVjdG9yU2l6ZSh0eXBlKSB7XG4gICAgY29uc3Qgc2l6ZSA9IE51bWJlcih0eXBlLnNsaWNlKDcsIC0xKSk7XG4gICAgc3dpdGNoKHRydWUpe1xuICAgICAgICBjYXNlIGlzTmFOKHNpemUpOlxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfVkVDVE9SX1ZBTFVFJywgdHlwZSk7XG4gICAgICAgIGNhc2Ugc2l6ZSA8PSAwOlxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfVkVDVE9SX1NJWkUnLCB0eXBlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdHMuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludGVybmFsRG9jdW1lbnRJRFN0b3JlKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkVG9JbnRlcm5hbElkOiBuZXcgTWFwKCksXG4gICAgICAgIGludGVybmFsSWRUb0lkOiBbXSxcbiAgICAgICAgc2F2ZSxcbiAgICAgICAgbG9hZFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2F2ZShzdG9yZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGludGVybmFsSWRUb0lkOiBzdG9yZS5pbnRlcm5hbElkVG9JZFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbG9hZChvcmFtYSwgcmF3KSB7XG4gICAgY29uc3QgeyBpbnRlcm5hbElkVG9JZCAgfSA9IHJhdztcbiAgICBvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZS5pZFRvSW50ZXJuYWxJZC5jbGVhcigpO1xuICAgIG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLmludGVybmFsSWRUb0lkID0gW107XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGludGVybmFsSWRUb0lkLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgb3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUuaWRUb0ludGVybmFsSWQuc2V0KGludGVybmFsSWRUb0lkW2ldLCBpICsgMSk7XG4gICAgICAgIG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLmludGVybmFsSWRUb0lkLnB1c2goaW50ZXJuYWxJZFRvSWRbaV0pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcm5hbERvY3VtZW50SWQoc3RvcmUsIGlkKSB7XG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZCA9IHN0b3JlLmlkVG9JbnRlcm5hbElkLmdldChpZCk7XG4gICAgICAgIGlmIChpbnRlcm5hbElkKSB7XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJuYWxJZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50SWQgPSBzdG9yZS5pZFRvSW50ZXJuYWxJZC5zaXplICsgMTtcbiAgICAgICAgc3RvcmUuaWRUb0ludGVybmFsSWQuc2V0KGlkLCBjdXJyZW50SWQpO1xuICAgICAgICBzdG9yZS5pbnRlcm5hbElkVG9JZC5wdXNoKGlkKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRJZDtcbiAgICB9XG4gICAgaWYgKGlkID4gc3RvcmUuaW50ZXJuYWxJZFRvSWQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnRlcm5hbERvY3VtZW50SWQoc3RvcmUsIGlkLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICByZXR1cm4gaWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkKHN0b3JlLCBpbnRlcm5hbElkKSB7XG4gICAgaWYgKHN0b3JlLmludGVybmFsSWRUb0lkLmxlbmd0aCA8IGludGVybmFsSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGludGVybmFsSWQgJHtpbnRlcm5hbElkfWApO1xuICAgIH1cbiAgICByZXR1cm4gc3RvcmUuaW50ZXJuYWxJZFRvSWRbaW50ZXJuYWxJZCAtIDFdO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcy5tYXAiLCJpbXBvcnQgeyBnZXRJbnRlcm5hbERvY3VtZW50SWQgfSBmcm9tICcuL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGUoXywgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICBkb2NzOiB7fSxcbiAgICAgICAgY291bnQ6IDBcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldChzdG9yZSwgaWQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHN0b3JlLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIHJldHVybiBzdG9yZS5kb2NzW2ludGVybmFsSWRdO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE11bHRpcGxlKHN0b3JlLCBpZHMpIHtcbiAgICBjb25zdCBmb3VuZCA9IEFycmF5LmZyb20oe1xuICAgICAgICBsZW5ndGg6IGlkcy5sZW5ndGhcbiAgICB9KTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChzdG9yZS5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkc1tpXSk7XG4gICAgICAgIGZvdW5kW2ldID0gc3RvcmUuZG9jc1tpbnRlcm5hbElkXTtcbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbChzdG9yZSkge1xuICAgIHJldHVybiBzdG9yZS5kb2NzO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0b3JlKHN0b3JlLCBpZCwgZG9jKSB7XG4gICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChzdG9yZS5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBpZiAodHlwZW9mIHN0b3JlLmRvY3NbaW50ZXJuYWxJZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3RvcmUuZG9jc1tpbnRlcm5hbElkXSA9IGRvYztcbiAgICBzdG9yZS5jb3VudCsrO1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZShzdG9yZSwgaWQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHN0b3JlLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGlmICh0eXBlb2Ygc3RvcmUuZG9jc1tpbnRlcm5hbElkXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkZWxldGUgc3RvcmUuZG9jc1tpbnRlcm5hbElkXTtcbiAgICBzdG9yZS5jb3VudC0tO1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvdW50KHN0b3JlKSB7XG4gICAgcmV0dXJuIHN0b3JlLmNvdW50O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWQoc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCByYXcpIHtcbiAgICBjb25zdCByYXdEb2N1bWVudCA9IHJhdztcbiAgICByZXR1cm4ge1xuICAgICAgICBkb2NzOiByYXdEb2N1bWVudC5kb2NzLFxuICAgICAgICBjb3VudDogcmF3RG9jdW1lbnQuY291bnQsXG4gICAgICAgIHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZVxuICAgIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZShzdG9yZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRvY3M6IHN0b3JlLmRvY3MsXG4gICAgICAgIGNvdW50OiBzdG9yZS5jb3VudFxuICAgIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnRzU3RvcmUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlLFxuICAgICAgICBnZXQsXG4gICAgICAgIGdldE11bHRpcGxlLFxuICAgICAgICBnZXRBbGwsXG4gICAgICAgIHN0b3JlLFxuICAgICAgICByZW1vdmUsXG4gICAgICAgIGNvdW50LFxuICAgICAgICBsb2FkLFxuICAgICAgICBzYXZlXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9jdW1lbnRzLXN0b3JlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBBVkFJTEFCTEVfUExVR0lOX0hPT0tTID0gW1xuICAgICdiZWZvcmVJbnNlcnQnLFxuICAgICdhZnRlckluc2VydCcsXG4gICAgJ2JlZm9yZVJlbW92ZScsXG4gICAgJ2FmdGVyUmVtb3ZlJyxcbiAgICAnYmVmb3JlVXBkYXRlJyxcbiAgICAnYWZ0ZXJVcGRhdGUnLFxuICAgICdiZWZvcmVTZWFyY2gnLFxuICAgICdhZnRlclNlYXJjaCcsXG4gICAgJ2JlZm9yZUluc2VydE11bHRpcGxlJyxcbiAgICAnYWZ0ZXJJbnNlcnRNdWx0aXBsZScsXG4gICAgJ2JlZm9yZVJlbW92ZU11bHRpcGxlJyxcbiAgICAnYWZ0ZXJSZW1vdmVNdWx0aXBsZScsXG4gICAgJ2JlZm9yZVVwZGF0ZU11bHRpcGxlJyxcbiAgICAnYWZ0ZXJVcGRhdGVNdWx0aXBsZScsXG4gICAgJ2JlZm9yZUxvYWQnLFxuICAgICdhZnRlckxvYWQnXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFBsdWdpbnNCeUhvb2sob3JhbWEsIGhvb2spIHtcbiAgICB2YXIgX29yYW1hX3BsdWdpbnM7XG4gICAgY29uc3QgcGx1Z2luc1RvUnVuID0gW107XG4gICAgY29uc3QgcGx1Z2luc0xlbmd0aCA9IChfb3JhbWFfcGx1Z2lucyA9IG9yYW1hLnBsdWdpbnMpID09PSBudWxsIHx8IF9vcmFtYV9wbHVnaW5zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3JhbWFfcGx1Z2lucy5sZW5ndGg7XG4gICAgaWYgKCFwbHVnaW5zTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW5zVG9SdW47XG4gICAgfVxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwbHVnaW5zTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBwbHVnaW4gPSBvcmFtYS5wbHVnaW5zW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHBsdWdpbltob29rXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcGx1Z2luc1RvUnVuLnB1c2gocGx1Z2luW2hvb2tdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGx1Z2luc1RvUnVuO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbHVnaW5zLmpzLm1hcCIsImV4cG9ydCBjb25zdCBPQkpFQ1RfQ09NUE9ORU5UUyA9IFtcbiAgICAndG9rZW5pemVyJyxcbiAgICAnaW5kZXgnLFxuICAgICdkb2N1bWVudHNTdG9yZScsXG4gICAgJ3NvcnRlcidcbl07XG5leHBvcnQgY29uc3QgRlVOQ1RJT05fQ09NUE9ORU5UUyA9IFtcbiAgICAndmFsaWRhdGVTY2hlbWEnLFxuICAgICdnZXREb2N1bWVudEluZGV4SWQnLFxuICAgICdnZXREb2N1bWVudFByb3BlcnRpZXMnLFxuICAgICdmb3JtYXRFbGFwc2VkVGltZSdcbl07XG5leHBvcnQgY29uc3QgU0lOR0xFX09SX0FSUkFZX0NPTVBPTkVOVFMgPSBbXTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5TaW5nbGVIb29rKGhvb2tzLCBvcmFtYSwgaWQsIGRvYykge1xuICAgIGNvbnN0IGhvb2tzTGVuZ3RoID0gaG9va3MubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBob29rc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgaG9va3NbaV0ob3JhbWEsIGlkLCBkb2MpO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5NdWx0aXBsZUhvb2soaG9va3MsIG9yYW1hLCBkb2NzT3JJZHMpIHtcbiAgICBjb25zdCBob29rc0xlbmd0aCA9IGhvb2tzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgaG9va3NMZW5ndGg7IGkrKyl7XG4gICAgICAgIGF3YWl0IGhvb2tzW2ldKG9yYW1hLCBkb2NzT3JJZHMpO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5BZnRlclNlYXJjaChob29rcywgZGIsIHBhcmFtcywgbGFuZ3VhZ2UsIHJlc3VsdHMpIHtcbiAgICBjb25zdCBob29rc0xlbmd0aCA9IGhvb2tzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgaG9va3NMZW5ndGg7IGkrKyl7XG4gICAgICAgIGF3YWl0IGhvb2tzW2ldKGRiLCBwYXJhbXMsIGxhbmd1YWdlLCByZXN1bHRzKTtcbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuQmVmb3JlU2VhcmNoKGhvb2tzLCBkYiwgcGFyYW1zLCBsYW5ndWFnZSkge1xuICAgIGNvbnN0IGhvb2tzTGVuZ3RoID0gaG9va3MubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBob29rc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgaG9va3NbaV0oZGIsIHBhcmFtcywgbGFuZ3VhZ2UpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9va3MuanMubWFwIiwiaW1wb3J0IHsgc2FmZUFycmF5UHVzaCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmNvbnN0IEJBTEFOQ0VfU1RBVEUgPSB7XG4gICAgVU5CQUxBTkNFRF9SSUdIVDogLTIsXG4gICAgU0xJR0hUTFlfVU5CQUxBTkNFRF9SSUdIVDogLTEsXG4gICAgQkFMQU5DRUQ6IDAsXG4gICAgU0xJR0hUTFlfVU5CQUxBTkNFRF9MRUZUOiAxLFxuICAgIFVOQkFMQU5DRURfTEVGVDogMlxufTtcbmZ1bmN0aW9uIGdldEhlaWdodChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUgIT0gbnVsbCA/IG5vZGUuaCA6IC0xO1xufVxuZnVuY3Rpb24gcm90YXRlTGVmdChub2RlKSB7XG4gICAgY29uc3QgcmlnaHQgPSBub2RlLnI7XG4gICAgbm9kZS5yID0gcmlnaHQubDtcbiAgICByaWdodC5sID0gbm9kZTtcbiAgICBub2RlLmggPSBNYXRoLm1heChnZXRIZWlnaHQobm9kZS5sKSwgZ2V0SGVpZ2h0KG5vZGUucikpICsgMTtcbiAgICByaWdodC5oID0gTWF0aC5tYXgoZ2V0SGVpZ2h0KHJpZ2h0LmwpLCBnZXRIZWlnaHQocmlnaHQucikpICsgMTtcbiAgICByZXR1cm4gcmlnaHQ7XG59XG5mdW5jdGlvbiByb3RhdGVSaWdodChub2RlKSB7XG4gICAgY29uc3QgbGVmdCA9IG5vZGUubDtcbiAgICBub2RlLmwgPSBsZWZ0LnI7XG4gICAgbGVmdC5yID0gbm9kZTtcbiAgICBub2RlLmggPSBNYXRoLm1heChnZXRIZWlnaHQobm9kZS5sKSwgZ2V0SGVpZ2h0KG5vZGUucikpICsgMTtcbiAgICBsZWZ0LmggPSBNYXRoLm1heChnZXRIZWlnaHQobGVmdC5sKSwgZ2V0SGVpZ2h0KGxlZnQucikpICsgMTtcbiAgICByZXR1cm4gbGVmdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWlucyhub2RlLCBrZXkpIHtcbiAgICByZXR1cm4gISFmaW5kKG5vZGUsIGtleSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6ZShyb290KSB7XG4gICAgbGV0IHNpemUgPSAwO1xuICAgIGNvbnN0IHF1ZXVlID0gW107XG4gICAgaWYgKHJvb3QgIT09IG51bGwpIHtcbiAgICAgICAgcXVldWUucHVzaChyb290KTtcbiAgICB9XG4gICAgd2hpbGUocXVldWUubGVuZ3RoID4gMCl7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICBzaXplKys7XG4gICAgICAgIGlmIChub2RlLmwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2gobm9kZS5sKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5yICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKG5vZGUucik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNpemU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCYWxhbmNlZChyb290KSB7XG4gICAgaWYgKHJvb3QgPT09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGNvbnN0IHN0YWNrID0gW1xuICAgICAgICByb290XG4gICAgXTtcbiAgICB3aGlsZShzdGFjay5sZW5ndGggPiAwKXtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc3QgaGVpZ2h0RGlmZiA9IGdldEhlaWdodChub2RlLmwpIC0gZ2V0SGVpZ2h0KG5vZGUucik7XG4gICAgICAgIGlmIChoZWlnaHREaWZmID4gMSB8fCBoZWlnaHREaWZmIDwgLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5yICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUucik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUubCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhY2sucHVzaChub2RlLmwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlU2VhcmNoKG5vZGUsIG1pbiwgbWF4KSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZnVuY3Rpb24gdHJhdmVyc2Uobm9kZSkge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5rID4gbWluKSB7XG4gICAgICAgICAgICB0cmF2ZXJzZShub2RlLmwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmsgPj0gbWluICYmIG5vZGUuayA8PSBtYXgpIHtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBub2RlLnYpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmsgPCBtYXgpIHtcbiAgICAgICAgICAgIHRyYXZlcnNlKG5vZGUucik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHJhdmVyc2Uobm9kZSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBncmVhdGVyVGhhbihub2RlLCBrZXksIGluY2x1c2l2ZSA9IGZhbHNlKSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZnVuY3Rpb24gdHJhdmVyc2Uobm9kZSkge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVzaXZlICYmIG5vZGUuayA+PSBrZXkpIHtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBub2RlLnYpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW5jbHVzaXZlICYmIG5vZGUuayA+IGtleSkge1xuICAgICAgICAgICAgc2FmZUFycmF5UHVzaChyZXN1bHQsIG5vZGUudik7XG4gICAgICAgIH1cbiAgICAgICAgdHJhdmVyc2Uobm9kZS5sKTtcbiAgICAgICAgdHJhdmVyc2Uobm9kZS5yKTtcbiAgICB9XG4gICAgdHJhdmVyc2Uobm9kZSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsZXNzVGhhbihub2RlLCBrZXksIGluY2x1c2l2ZSA9IGZhbHNlKSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZnVuY3Rpb24gdHJhdmVyc2Uobm9kZSkge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVzaXZlICYmIG5vZGUuayA8PSBrZXkpIHtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBub2RlLnYpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW5jbHVzaXZlICYmIG5vZGUuayA8IGtleSkge1xuICAgICAgICAgICAgc2FmZUFycmF5UHVzaChyZXN1bHQsIG5vZGUudik7XG4gICAgICAgIH1cbiAgICAgICAgdHJhdmVyc2Uobm9kZS5sKTtcbiAgICAgICAgdHJhdmVyc2Uobm9kZS5yKTtcbiAgICB9XG4gICAgdHJhdmVyc2Uobm9kZSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldE5vZGVCeUtleShub2RlLCBrZXkpIHtcbiAgICB3aGlsZShub2RlICE9PSBudWxsKXtcbiAgICAgICAgaWYgKGtleSA8IG5vZGUuaykge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUubDtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPiBub2RlLmspIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGs6IGtleSxcbiAgICAgICAgdjogdmFsdWUsXG4gICAgICAgIGw6IG51bGwsXG4gICAgICAgIHI6IG51bGwsXG4gICAgICAgIGg6IDBcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydChyb290LCBrZXksIHZhbHVlKSB7XG4gICAgbGV0IHBhcmVudCA9IG51bGw7XG4gICAgbGV0IGN1cnJlbnQgPSByb290O1xuICAgIHdoaWxlKGN1cnJlbnQgIT09IG51bGwpe1xuICAgICAgICBwYXJlbnQgPSBjdXJyZW50O1xuICAgICAgICBpZiAoa2V5IDwgY3VycmVudC5rKSB7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5sO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA+IGN1cnJlbnQuaykge1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIHZhbHVlIGlzIGFuIGFycmF5IGhlcmVcbiAgICAgICAgICAgIGN1cnJlbnQudiA9IGN1cnJlbnQudi5jb25jYXQodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV3Tm9kZSA9IGNyZWF0ZShrZXksIHZhbHVlKTtcbiAgICBpZiAocGFyZW50ID09IG51bGwpIHtcbiAgICAgICAgcm9vdCA9IG5ld05vZGUgLy8gdHJlZSB3YXMgZW1wdHlcbiAgICAgICAgO1xuICAgIH0gZWxzZSBpZiAoa2V5IDwgcGFyZW50LmspIHtcbiAgICAgICAgcGFyZW50LmwgPSBuZXdOb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudC5yID0gbmV3Tm9kZTtcbiAgICB9XG4gICAgY3VycmVudCA9IG5ld05vZGU7XG4gICAgd2hpbGUocGFyZW50ICE9IG51bGwpe1xuICAgICAgICBjb25zdCBiYWxhbmNlRmFjdG9yID0gZ2V0SGVpZ2h0KHBhcmVudC5sKSAtIGdldEhlaWdodChwYXJlbnQucik7XG4gICAgICAgIGlmIChiYWxhbmNlRmFjdG9yID09PSBCQUxBTkNFX1NUQVRFLlVOQkFMQU5DRURfTEVGVCkge1xuICAgICAgICAgICAgaWYgKGtleSA+IHBhcmVudC5sLmspIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQubCA9IHJvdGF0ZUxlZnQocGFyZW50LmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcm90YXRlUmlnaHQocGFyZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFsYW5jZUZhY3RvciA9PT0gQkFMQU5DRV9TVEFURS5VTkJBTEFOQ0VEX1JJR0hUKSB7XG4gICAgICAgICAgICBpZiAoa2V5IDwgcGFyZW50LnIuaykge1xuICAgICAgICAgICAgICAgIHBhcmVudC5yID0gcm90YXRlUmlnaHQocGFyZW50LnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcm90YXRlTGVmdChwYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnQgPT09IHJvb3QpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHBhcmVudCA9IGdldE5vZGVQYXJlbnQocm9vdCwgY3VycmVudC5rKTtcbiAgICB9XG4gICAgcmV0dXJuIHJvb3Q7XG59XG5mdW5jdGlvbiBnZXROb2RlUGFyZW50KHJvb3QsIGtleSkge1xuICAgIGxldCBjdXJyZW50ID0gcm9vdDtcbiAgICBsZXQgcGFyZW50ID0gbnVsbDtcbiAgICB3aGlsZShjdXJyZW50ICE9PSBudWxsKXtcbiAgICAgICAgaWYgKGtleSA8IGN1cnJlbnQuaykge1xuICAgICAgICAgICAgcGFyZW50ID0gY3VycmVudDtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lmw7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID4gY3VycmVudC5rKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSBjdXJyZW50O1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZChyb290LCBrZXkpIHtcbiAgICBjb25zdCBub2RlID0gZ2V0Tm9kZUJ5S2V5KHJvb3QsIGtleSk7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGUudjtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUocm9vdCwga2V5KSB7XG4gICAgbGV0IG5vZGUgPSByb290O1xuICAgIGxldCBwYXJlbnROb2RlID0gbnVsbDtcbiAgICB3aGlsZShub2RlICE9IG51bGwgJiYgbm9kZS5rICE9PSBrZXkpe1xuICAgICAgICBwYXJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgaWYgKGtleSA8IG5vZGUuaykge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUubDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKG5vZGUubCA9PSBudWxsICYmIG5vZGUuciA9PSBudWxsKSB7XG4gICAgICAgIGlmIChwYXJlbnROb2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIE5vZGUgdG8gYmUgZGVsZXRlZCBpcyByb290XG4gICAgICAgICAgICByb290ID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlLmwgPT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmwgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlLmwgIT0gbnVsbCAmJiBub2RlLnIgIT0gbnVsbCkge1xuICAgICAgICBsZXQgbWluVmFsdWVOb2RlID0gbm9kZS5yO1xuICAgICAgICBsZXQgbWluVmFsdWVQYXJlbnQgPSBub2RlO1xuICAgICAgICB3aGlsZShtaW5WYWx1ZU5vZGUubCAhPSBudWxsKXtcbiAgICAgICAgICAgIG1pblZhbHVlUGFyZW50ID0gbWluVmFsdWVOb2RlO1xuICAgICAgICAgICAgbWluVmFsdWVOb2RlID0gbWluVmFsdWVOb2RlLmw7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5rID0gbWluVmFsdWVOb2RlLms7XG4gICAgICAgIGlmIChtaW5WYWx1ZVBhcmVudCA9PT0gbm9kZSkge1xuICAgICAgICAgICAgbWluVmFsdWVQYXJlbnQuciA9IG1pblZhbHVlTm9kZS5yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWluVmFsdWVQYXJlbnQubCA9IG1pblZhbHVlTm9kZS5yO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY2hpbGROb2RlID0gbm9kZS5sICE9IG51bGwgPyBub2RlLmwgOiBub2RlLnI7XG4gICAgICAgIGlmIChwYXJlbnROb2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJvb3QgPSBjaGlsZE5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocGFyZW50Tm9kZS5sID09PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5sID0gY2hpbGROb2RlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnIgPSBjaGlsZE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJvb3Q7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRG9jdW1lbnQocm9vdCwgaWQsIGtleSkge1xuICAgIGNvbnN0IG5vZGUgPSBnZXROb2RlQnlLZXkocm9vdCwga2V5KTtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobm9kZS52Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZW1vdmUocm9vdCwga2V5KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBub2RlLnYuc3BsaWNlKG5vZGUudi5pbmRleE9mKGlkKSwgMSk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF2bC5qcy5tYXAiLCJpbXBvcnQgeyBpbnRlcnNlY3QsIHNhZmVBcnJheVB1c2ggfSBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbnVtYmVyVG9Eb2N1bWVudElkOiBuZXcgTWFwKClcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydChyb290LCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmhhcyhrZXkpKSB7XG4gICAgICAgIHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmdldChrZXkpLnB1c2godmFsdWUpO1xuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG4gICAgcm9vdC5udW1iZXJUb0RvY3VtZW50SWQuc2V0KGtleSwgW1xuICAgICAgICB2YWx1ZVxuICAgIF0pO1xuICAgIHJldHVybiByb290O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmQocm9vdCwga2V5KSB7XG4gICAgcmV0dXJuIHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmdldChrZXkpID8/IG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHJvb3QsIGtleSkge1xuICAgIGlmIChyb290ICE9IG51bGwpIHtcbiAgICAgICAgcm9vdC5udW1iZXJUb0RvY3VtZW50SWQuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIHJldHVybiByb290O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZURvY3VtZW50KHJvb3QsIGlkLCBrZXkpIHtcbiAgICB2YXIgX3Jvb3RfbnVtYmVyVG9Eb2N1bWVudElkX2dldCwgX3Jvb3RfbnVtYmVyVG9Eb2N1bWVudElkX2dldDE7XG4gICAgcm9vdCA9PT0gbnVsbCB8fCByb290ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb290Lm51bWJlclRvRG9jdW1lbnRJZC5zZXQoa2V5LCAoKF9yb290X251bWJlclRvRG9jdW1lbnRJZF9nZXQgPSByb290ID09PSBudWxsIHx8IHJvb3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmdldChrZXkpKSA9PT0gbnVsbCB8fCBfcm9vdF9udW1iZXJUb0RvY3VtZW50SWRfZ2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcm9vdF9udW1iZXJUb0RvY3VtZW50SWRfZ2V0LmZpbHRlcigodik9PnYgIT09IGlkKSkgPz8gW10pO1xuICAgIGlmICgoKF9yb290X251bWJlclRvRG9jdW1lbnRJZF9nZXQxID0gcm9vdCA9PT0gbnVsbCB8fCByb290ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb290Lm51bWJlclRvRG9jdW1lbnRJZC5nZXQoa2V5KSkgPT09IG51bGwgfHwgX3Jvb3RfbnVtYmVyVG9Eb2N1bWVudElkX2dldDEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yb290X251bWJlclRvRG9jdW1lbnRJZF9nZXQxLmxlbmd0aCkgPT09IDApIHtcbiAgICAgICAgcm9vdCA9PT0gbnVsbCB8fCByb290ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb290Lm51bWJlclRvRG9jdW1lbnRJZC5kZWxldGUoa2V5KTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnMobm9kZSwga2V5KSB7XG4gICAgcmV0dXJuICEoZmluZChub2RlLCBrZXkpID09IG51bGwpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFNpemUocm9vdCkge1xuICAgIGxldCBzaXplID0gMDtcbiAgICBmb3IgKGNvbnN0IFssIHZhbHVlXSBvZiAocm9vdCA9PT0gbnVsbCB8fCByb290ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb290Lm51bWJlclRvRG9jdW1lbnRJZCkgPz8gW10pe1xuICAgICAgICBzaXplICs9IHZhbHVlLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHNpemU7XG59XG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyKHJvb3QsIG9wZXJhdGlvbikge1xuICAgIGNvbnN0IG9wZXJhdGlvbktleXMgPSBPYmplY3Qua2V5cyhvcGVyYXRpb24pO1xuICAgIGlmIChvcGVyYXRpb25LZXlzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb3BlcmF0aW9uJyk7XG4gICAgfVxuICAgIGNvbnN0IG9wZXJhdGlvblR5cGUgPSBvcGVyYXRpb25LZXlzWzBdO1xuICAgIHN3aXRjaChvcGVyYXRpb25UeXBlKXtcbiAgICAgICAgY2FzZSAnZXEnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gb3BlcmF0aW9uW29wZXJhdGlvblR5cGVdO1xuICAgICAgICAgICAgICAgIHJldHVybiByb290Lm51bWJlclRvRG9jdW1lbnRJZC5nZXQodmFsdWUpID8/IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdpbic6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcGVyYXRpb25bb3BlcmF0aW9uVHlwZV07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB2IG9mIHZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWRzID0gcm9vdC5udW1iZXJUb0RvY3VtZW50SWQuZ2V0KHYpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWRzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBpZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ25pbic6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcGVyYXRpb25bb3BlcmF0aW9uVHlwZV07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmtleXMoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkcyA9IHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmdldChrZXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWRzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBpZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBvcGVyYXRpb24nKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJBcnIocm9vdCwgb3BlcmF0aW9uKSB7XG4gICAgY29uc3Qgb3BlcmF0aW9uS2V5cyA9IE9iamVjdC5rZXlzKG9wZXJhdGlvbik7XG4gICAgaWYgKG9wZXJhdGlvbktleXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBvcGVyYXRpb24nKTtcbiAgICB9XG4gICAgY29uc3Qgb3BlcmF0aW9uVHlwZSA9IG9wZXJhdGlvbktleXNbMF07XG4gICAgc3dpdGNoKG9wZXJhdGlvblR5cGUpe1xuICAgICAgICBjYXNlICdjb250YWluc0FsbCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gb3BlcmF0aW9uW29wZXJhdGlvblR5cGVdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkcyA9IHZhbHVlcy5tYXAoKHZhbHVlKT0+cm9vdC5udW1iZXJUb0RvY3VtZW50SWQuZ2V0KHZhbHVlKSA/PyBbXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGludGVyc2VjdChpZHMpO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb3BlcmF0aW9uJyk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZsYXQuanMubWFwIiwiLyoqXG4gKiBJbnNwaXJlZCBieTpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Zb21ndWl0aGVyZWFsL3RhbGlzbWFuL2Jsb2IvODZhZTU1Y2JkMDQwZmYwMjFkMDVlMjgyZTBlNmM3MWYyZGRlMjFmOC9zcmMvbWV0cmljcy9sZXZlbnNodGVpbi5qcyNMMjE4LUwzNDBcbiAqLyBmdW5jdGlvbiBfYm91bmRlZExldmVuc2h0ZWluKGEsIGIsIHRvbGVyYW5jZSkge1xuICAgIC8vIHRoZSBzdHJpbmdzIGFyZSB0aGUgc2FtZVxuICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAvLyBhIHNob3VsZCBiZSB0aGUgc2hvcnRlc3Qgc3RyaW5nXG4gICAgY29uc3Qgc3dhcCA9IGE7XG4gICAgaWYgKGEubGVuZ3RoID4gYi5sZW5ndGgpIHtcbiAgICAgICAgYSA9IGI7XG4gICAgICAgIGIgPSBzd2FwO1xuICAgIH1cbiAgICBsZXQgbGVuQSA9IGEubGVuZ3RoO1xuICAgIGxldCBsZW5CID0gYi5sZW5ndGg7XG4gICAgLy8gaWdub3JlIGNvbW1vbiBzdWZmaXhcbiAgICAvLyBub3RlOiBgfi1gIGRlY3JlYXNlcyBieSBhIHVuaXQgaW4gYSBiaXR3aXNlIGZhc2hpb25cbiAgICB3aGlsZShsZW5BID4gMCAmJiBhLmNoYXJDb2RlQXQofi1sZW5BKSA9PT0gYi5jaGFyQ29kZUF0KH4tbGVuQikpe1xuICAgICAgICBsZW5BLS07XG4gICAgICAgIGxlbkItLTtcbiAgICB9XG4gICAgLy8gZWFybHkgcmV0dXJuIHdoZW4gdGhlIHNtYWxsZXN0IHN0cmluZyBpcyBlbXB0eVxuICAgIGlmICghbGVuQSkge1xuICAgICAgICByZXR1cm4gbGVuQiA+IHRvbGVyYW5jZSA/IC0xIDogbGVuQjtcbiAgICB9XG4gICAgLy8gaWdub3JlIGNvbW1vbiBwcmVmaXhcbiAgICBsZXQgc3RhcnRJZHggPSAwO1xuICAgIHdoaWxlKHN0YXJ0SWR4IDwgbGVuQSAmJiBhLmNoYXJDb2RlQXQoc3RhcnRJZHgpID09PSBiLmNoYXJDb2RlQXQoc3RhcnRJZHgpKXtcbiAgICAgICAgc3RhcnRJZHgrKztcbiAgICB9XG4gICAgbGVuQSAtPSBzdGFydElkeDtcbiAgICBsZW5CIC09IHN0YXJ0SWR4O1xuICAgIC8vIGVhcmx5IHJldHVybiB3aGVuIHRoZSBzbWFsbGVzdCBzdHJpbmcgaXMgZW1wdHlcbiAgICBpZiAobGVuQSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbGVuQiA+IHRvbGVyYW5jZSA/IC0xIDogbGVuQjtcbiAgICB9XG4gICAgY29uc3QgZGVsdGEgPSBsZW5CIC0gbGVuQTtcbiAgICBpZiAodG9sZXJhbmNlID4gbGVuQikge1xuICAgICAgICB0b2xlcmFuY2UgPSBsZW5CO1xuICAgIH0gZWxzZSBpZiAoZGVsdGEgPiB0b2xlcmFuY2UpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3Qgcm93ID0gW107XG4gICAgY29uc3QgY2hhcmFjdGVyQ29kZUNhY2hlID0gW107XG4gICAgd2hpbGUoaSA8IHRvbGVyYW5jZSl7XG4gICAgICAgIGNoYXJhY3RlckNvZGVDYWNoZVtpXSA9IGIuY2hhckNvZGVBdChzdGFydElkeCArIGkpO1xuICAgICAgICByb3dbaV0gPSArK2k7XG4gICAgfVxuICAgIHdoaWxlKGkgPCBsZW5CKXtcbiAgICAgICAgY2hhcmFjdGVyQ29kZUNhY2hlW2ldID0gYi5jaGFyQ29kZUF0KHN0YXJ0SWR4ICsgaSk7XG4gICAgICAgIHJvd1tpKytdID0gdG9sZXJhbmNlICsgMTtcbiAgICB9XG4gICAgY29uc3Qgb2Zmc2V0ID0gdG9sZXJhbmNlIC0gZGVsdGE7XG4gICAgY29uc3QgaGF2ZU1heCA9IHRvbGVyYW5jZSA8IGxlbkI7XG4gICAgbGV0IGpTdGFydCA9IDA7XG4gICAgbGV0IGpFbmQgPSB0b2xlcmFuY2U7XG4gICAgbGV0IGN1cnJlbnQgPSAwO1xuICAgIGxldCBsZWZ0ID0gMDtcbiAgICBsZXQgYWJvdmUgPSAwO1xuICAgIGxldCBjaGFyQSA9IDA7XG4gICAgbGV0IGogPSAwO1xuICAgIC8vIFN0YXJ0aW5nIHRoZSBuZXN0ZWQgbG9vcHNcbiAgICBmb3IoaSA9IDA7IGkgPCBsZW5BOyBpKyspe1xuICAgICAgICBsZWZ0ID0gaTtcbiAgICAgICAgY3VycmVudCA9IGkgKyAxO1xuICAgICAgICBjaGFyQSA9IGEuY2hhckNvZGVBdChzdGFydElkeCArIGkpO1xuICAgICAgICBqU3RhcnQgKz0gaSA+IG9mZnNldCA/IDEgOiAwO1xuICAgICAgICBqRW5kICs9IGpFbmQgPCBsZW5CID8gMSA6IDA7XG4gICAgICAgIGZvcihqID0galN0YXJ0OyBqIDwgakVuZDsgaisrKXtcbiAgICAgICAgICAgIGFib3ZlID0gY3VycmVudDtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBsZWZ0O1xuICAgICAgICAgICAgbGVmdCA9IHJvd1tqXTtcbiAgICAgICAgICAgIGlmIChjaGFyQSAhPT0gY2hhcmFjdGVyQ29kZUNhY2hlW2pdKSB7XG4gICAgICAgICAgICAgICAgLy8gaW5zZXJ0IGN1cnJlbnRcbiAgICAgICAgICAgICAgICBpZiAobGVmdCA8IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBjdXJyZW50XG4gICAgICAgICAgICAgICAgaWYgKGFib3ZlIDwgY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gYWJvdmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvd1tqXSA9IGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhdmVNYXggJiYgcm93W2kgKyBkZWx0YV0gPiB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3VycmVudCA8PSB0b2xlcmFuY2UgPyBjdXJyZW50IDogLTE7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBMZXZlbnNodGVpbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBzdHJpbmdzIChhLCBiKSwgcmV0dXJuaW5nIGVhcmx5IHdpdGggLTEgaWYgdGhlIGRpc3RhbmNlXG4gKiBpcyBncmVhdGVyIHRoYW4gdGhlIGdpdmVuIHRvbGVyYW5jZS5cbiAqIEl0IGFzc3VtZXMgdGhhdDpcbiAqIC0gdG9sZXJhbmNlID49IHx8YXwgLSB8Ynx8ID49IDBcbiAqLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gYm91bmRlZExldmVuc2h0ZWluKGEsIGIsIHRvbGVyYW5jZSkge1xuICAgIGNvbnN0IGRpc3RhbmNlID0gX2JvdW5kZWRMZXZlbnNodGVpbihhLCBiLCB0b2xlcmFuY2UpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRpc3RhbmNlLFxuICAgICAgICBpc0JvdW5kZWQ6IGRpc3RhbmNlID49IDBcbiAgICB9O1xufVxuLy8gVGhpcyBpcyBvbmx5IHVzZWQgaW50ZXJuYWxseSwga2VlcCBpbiBzeW5jIHdpdGggdGhlIHByZXZpb3VzIG9uZVxuZXhwb3J0IGZ1bmN0aW9uIHN5bmNCb3VuZGVkTGV2ZW5zaHRlaW4oYSwgYiwgdG9sZXJhbmNlKSB7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBfYm91bmRlZExldmVuc2h0ZWluKGEsIGIsIHRvbGVyYW5jZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgIGlzQm91bmRlZDogZGlzdGFuY2UgPj0gMFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbGV2ZW5zaHRlaW4oYSwgYikge1xuICAgIC8qIGM4IGlnbm9yZSBuZXh0IDMgKi8gaWYgKCFhLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYi5sZW5ndGg7XG4gICAgfVxuICAgIC8qIGM4IGlnbm9yZSBuZXh0IDMgKi8gaWYgKCFiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYS5sZW5ndGg7XG4gICAgfVxuICAgIGNvbnN0IHN3YXAgPSBhO1xuICAgIGlmIChhLmxlbmd0aCA+IGIubGVuZ3RoKSB7XG4gICAgICAgIGEgPSBiO1xuICAgICAgICBiID0gc3dhcDtcbiAgICB9XG4gICAgY29uc3Qgcm93ID0gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogYS5sZW5ndGggKyAxXG4gICAgfSwgKF8sIGkpPT5pKTtcbiAgICBsZXQgdmFsID0gMDtcbiAgICBmb3IobGV0IGkgPSAxOyBpIDw9IGIubGVuZ3RoOyBpKyspe1xuICAgICAgICBsZXQgcHJldiA9IGk7XG4gICAgICAgIGZvcihsZXQgaiA9IDE7IGogPD0gYS5sZW5ndGg7IGorKyl7XG4gICAgICAgICAgICBpZiAoYltpIC0gMV0gPT09IGFbaiAtIDFdKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gcm93W2ogLSAxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsID0gTWF0aC5taW4ocm93W2ogLSAxXSArIDEsIE1hdGgubWluKHByZXYgKyAxLCByb3dbal0gKyAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3dbaiAtIDFdID0gcHJldjtcbiAgICAgICAgICAgIHByZXYgPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcm93W2EubGVuZ3RoXSA9IHByZXY7XG4gICAgfVxuICAgIHJldHVybiByb3dbYS5sZW5ndGhdO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZXZlbnNodGVpbi5qcy5tYXAiLCJpbXBvcnQgeyBzeW5jQm91bmRlZExldmVuc2h0ZWluIH0gZnJvbSAnLi4vY29tcG9uZW50cy9sZXZlbnNodGVpbi5qcyc7XG5pbXBvcnQgeyBnZXRPd25Qcm9wZXJ0eSB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmV4cG9ydCBjbGFzcyBOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihrZXksIHN1YldvcmQsIGVuZCl7XG4gICAgICAgIHRoaXMuayA9IGtleTtcbiAgICAgICAgdGhpcy5zID0gc3ViV29yZDtcbiAgICAgICAgdGhpcy5lID0gZW5kO1xuICAgIH1cbiAgICAvLyBOb2RlIGNoaWxkcmVuXG4gICAgYyA9IHt9O1xuICAgIC8vIE5vZGUgZG9jdW1lbnRzXG4gICAgZCA9IFtdO1xuICAgIC8vIE5vZGUgd29yZFxuICAgIHcgPSAnJztcbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3OiB0aGlzLncsXG4gICAgICAgICAgICBzOiB0aGlzLnMsXG4gICAgICAgICAgICBjOiB0aGlzLmMsXG4gICAgICAgICAgICBkOiB0aGlzLmQsXG4gICAgICAgICAgICBlOiB0aGlzLmVcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVQYXJlbnQobm9kZSwgcGFyZW50KSB7XG4gICAgbm9kZS53ID0gcGFyZW50LncgKyBub2RlLnM7XG59XG5mdW5jdGlvbiBhZGREb2N1bWVudChub2RlLCBkb2NJRCkge1xuICAgIG5vZGUuZC5wdXNoKGRvY0lEKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZURvY3VtZW50KG5vZGUsIGRvY0lEKSB7XG4gICAgY29uc3QgaW5kZXggPSBub2RlLmQuaW5kZXhPZihkb2NJRCk7XG4gICAgLyogYzggaWdub3JlIG5leHQgMyAqLyBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbm9kZS5kLnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBmaW5kQWxsV29yZHMobm9kZSwgb3V0cHV0LCB0ZXJtLCBleGFjdCwgdG9sZXJhbmNlKSB7XG4gICAgaWYgKG5vZGUuZSkge1xuICAgICAgICBjb25zdCB7IHcgLCBkOiBkb2NJRHMgIH0gPSBub2RlO1xuICAgICAgICBpZiAoZXhhY3QgJiYgdyAhPT0gdGVybSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsd2F5cyBjaGVjayBpbiBvd24gcHJvcGVydHkgdG8gcHJldmVudCBhY2Nlc3MgdG8gaW5oZXJpdGVkIHByb3BlcnRpZXNcbiAgICAgICAgLy8gZml4IGh0dHBzOi8vZ2l0aHViLmNvbS9PcmFtYVNlYXJjaC9vcmFtYS9pc3N1ZXMvMTM3XG4gICAgICAgIGlmIChnZXRPd25Qcm9wZXJ0eShvdXRwdXQsIHcpID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICAvLyBjb21wdXRpbmcgdGhlIGFic29sdXRlIGRpZmZlcmVuY2Ugb2YgbGV0dGVycyBiZXR3ZWVuIHRoZSB0ZXJtIGFuZCB0aGUgd29yZFxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2UgPSBNYXRoLmFicyh0ZXJtLmxlbmd0aCAtIHcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdG9sZXJhbmNlIGlzIHNldCwgY2hlY2sgd2hldGhlciB0aGUgZWRpdCBkaXN0YW5jZSBpcyB3aXRoaW4gdG9sZXJhbmNlLlxuICAgICAgICAgICAgICAgIC8vIEluIHRoYXQgY2FzZSwgd2UgZG9uJ3QgbmVlZCB0byBhZGQgdGhlIHdvcmQgdG8gdGhlIG91dHB1dFxuICAgICAgICAgICAgICAgIGlmIChkaWZmZXJlbmNlIDw9IHRvbGVyYW5jZSAmJiBzeW5jQm91bmRlZExldmVuc2h0ZWluKHRlcm0sIHcsIHRvbGVyYW5jZSkuaXNCb3VuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFt3XSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcHJldmVudCBkZWZhdWx0IHRvbGVyYW5jZSBub3Qgc2V0XG4gICAgICAgICAgICAgICAgb3V0cHV0W3ddID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgX291dHB1dFt3XSBleGlzdHMgYW5kIHRoZW4gYWRkIHRoZSBkb2MgdG8gaXRcbiAgICAgICAgLy8gYWx3YXlzIGNoZWNrIGluIG93biBwcm9wZXJ0eSB0byBwcmV2ZW50IGFjY2VzcyB0byBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAgICAvLyBmaXggaHR0cHM6Ly9naXRodWIuY29tL09yYW1hU2VhcmNoL29yYW1hL2lzc3Vlcy8xMzdcbiAgICAgICAgaWYgKGdldE93blByb3BlcnR5KG91dHB1dCwgdykgIT0gbnVsbCAmJiBkb2NJRHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZG9jcyA9IG5ldyBTZXQob3V0cHV0W3ddKTtcbiAgICAgICAgICAgIGNvbnN0IGRvY0lEc0xlbmd0aCA9IGRvY0lEcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZG9jSURzTGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGRvY3MuYWRkKGRvY0lEc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRwdXRbd10gPSBBcnJheS5mcm9tKGRvY3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCB0aGUgY2hpbGRyZW5cbiAgICBmb3IgKGNvbnN0IGNoYXJhY3RlciBvZiBPYmplY3Qua2V5cyhub2RlLmMpKXtcbiAgICAgICAgZmluZEFsbFdvcmRzKG5vZGUuY1tjaGFyYWN0ZXJdLCBvdXRwdXQsIHRlcm0sIGV4YWN0LCB0b2xlcmFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuZnVuY3Rpb24gZ2V0Q29tbW9uUHJlZml4KGEsIGIpIHtcbiAgICBsZXQgY29tbW9uUHJlZml4ID0gJyc7XG4gICAgY29uc3QgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1vblByZWZpeDtcbiAgICAgICAgfVxuICAgICAgICBjb21tb25QcmVmaXggKz0gYVtpXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbW1vblByZWZpeDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoZW5kID0gZmFsc2UsIHN1YldvcmQgPSAnJywga2V5ID0gJycpIHtcbiAgICByZXR1cm4gbmV3IE5vZGUoa2V5LCBzdWJXb3JkLCBlbmQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydChyb290LCB3b3JkLCBkb2NJZCkge1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB3b3JkLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgY3VycmVudENoYXJhY3RlciA9IHdvcmRbaV07XG4gICAgICAgIGNvbnN0IHdvcmRBdEluZGV4ID0gd29yZC5zdWJzdHJpbmcoaSk7XG4gICAgICAgIGNvbnN0IHJvb3RDaGlsZEN1cnJlbnRDaGFyID0gcm9vdC5jW2N1cnJlbnRDaGFyYWN0ZXJdO1xuICAgICAgICBpZiAocm9vdENoaWxkQ3VycmVudENoYXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVkZ2VMYWJlbCA9IHJvb3RDaGlsZEN1cnJlbnRDaGFyLnM7XG4gICAgICAgICAgICBjb25zdCBlZGdlTGFiZWxMZW5ndGggPSBlZGdlTGFiZWwubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4ID0gZ2V0Q29tbW9uUHJlZml4KGVkZ2VMYWJlbCwgd29yZEF0SW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4TGVuZ3RoID0gY29tbW9uUHJlZml4Lmxlbmd0aDtcbiAgICAgICAgICAgIC8vIHRoZSB3b3JkQXRJbmRleCBtYXRjaGVzIGV4YWN0bHkgd2l0aCBhbiBleGlzdGluZyBjaGlsZCBub2RlXG4gICAgICAgICAgICBpZiAoZWRnZUxhYmVsID09PSB3b3JkQXRJbmRleCkge1xuICAgICAgICAgICAgICAgIGFkZERvY3VtZW50KHJvb3RDaGlsZEN1cnJlbnRDaGFyLCBkb2NJZCk7XG4gICAgICAgICAgICAgICAgcm9vdENoaWxkQ3VycmVudENoYXIuZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZWRnZUxhYmVsQXRDb21tb25QcmVmaXggPSBlZGdlTGFiZWxbY29tbW9uUHJlZml4TGVuZ3RoXTtcbiAgICAgICAgICAgIC8vIHRoZSB3b3JkQXRJbmRleCBpcyBjb21wbGV0ZWx5IGNvbnRhaW5lZCBpbiB0aGUgY2hpbGQgbm9kZSBzdWJ3b3JkXG4gICAgICAgICAgICBpZiAoY29tbW9uUHJlZml4TGVuZ3RoIDwgZWRnZUxhYmVsTGVuZ3RoICYmIGNvbW1vblByZWZpeExlbmd0aCA9PT0gd29yZEF0SW5kZXgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Tm9kZSA9IGNyZWF0ZSh0cnVlLCB3b3JkQXRJbmRleCwgY3VycmVudENoYXJhY3RlcikgLy8gQ3JlYXRlIGEgbmV3IG5vZGUgd2l0aCBlbmQgc2V0IHRvIHRydWVcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgbmV3Tm9kZS5jW2VkZ2VMYWJlbEF0Q29tbW9uUHJlZml4XSA9IHJvb3RDaGlsZEN1cnJlbnRDaGFyO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGVDaGlsZCA9IG5ld05vZGUuY1tlZGdlTGFiZWxBdENvbW1vblByZWZpeF07XG4gICAgICAgICAgICAgICAgbmV3Tm9kZUNoaWxkLnMgPSBlZGdlTGFiZWwuc3Vic3RyaW5nKGNvbW1vblByZWZpeExlbmd0aCk7XG4gICAgICAgICAgICAgICAgbmV3Tm9kZUNoaWxkLmsgPSBlZGdlTGFiZWxBdENvbW1vblByZWZpeDtcbiAgICAgICAgICAgICAgICByb290LmNbY3VycmVudENoYXJhY3Rlcl0gPSBuZXdOb2RlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVBhcmVudChuZXdOb2RlLCByb290KTtcbiAgICAgICAgICAgICAgICB1cGRhdGVQYXJlbnQobmV3Tm9kZUNoaWxkLCBuZXdOb2RlKTtcbiAgICAgICAgICAgICAgICBhZGREb2N1bWVudChuZXdOb2RlLCBkb2NJZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhlIHdvcmRBdEluZGV4IGlzIHBhcnRpYWxseSBjb250YWluZWQgaW4gdGhlIGNoaWxkIG5vZGUgc3Vid29yZFxuICAgICAgICAgICAgaWYgKGNvbW1vblByZWZpeExlbmd0aCA8IGVkZ2VMYWJlbExlbmd0aCAmJiBjb21tb25QcmVmaXhMZW5ndGggPCB3b3JkQXRJbmRleC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmJldHdlZW5Ob2RlID0gY3JlYXRlKGZhbHNlLCBjb21tb25QcmVmaXgsIGN1cnJlbnRDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgICAgIGluYmV0d2Vlbk5vZGUuY1tlZGdlTGFiZWxBdENvbW1vblByZWZpeF0gPSByb290Q2hpbGRDdXJyZW50Q2hhcjtcbiAgICAgICAgICAgICAgICByb290LmNbY3VycmVudENoYXJhY3Rlcl0gPSBpbmJldHdlZW5Ob2RlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluYmV0d2Vlbk5vZGVDaGlsZCA9IGluYmV0d2Vlbk5vZGUuY1tlZGdlTGFiZWxBdENvbW1vblByZWZpeF07XG4gICAgICAgICAgICAgICAgaW5iZXR3ZWVuTm9kZUNoaWxkLnMgPSBlZGdlTGFiZWwuc3Vic3RyaW5nKGNvbW1vblByZWZpeExlbmd0aCk7XG4gICAgICAgICAgICAgICAgaW5iZXR3ZWVuTm9kZUNoaWxkLmsgPSBlZGdlTGFiZWxBdENvbW1vblByZWZpeDtcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JkQXRDb21tb25QcmVmaXggPSB3b3JkQXRJbmRleFtjb21tb25QcmVmaXhMZW5ndGhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSBjcmVhdGUodHJ1ZSwgd29yZC5zdWJzdHJpbmcoaSArIGNvbW1vblByZWZpeExlbmd0aCksIHdvcmRBdENvbW1vblByZWZpeCk7XG4gICAgICAgICAgICAgICAgYWRkRG9jdW1lbnQobmV3Tm9kZSwgZG9jSWQpO1xuICAgICAgICAgICAgICAgIGluYmV0d2Vlbk5vZGUuY1t3b3JkQXRDb21tb25QcmVmaXhdID0gbmV3Tm9kZTtcbiAgICAgICAgICAgICAgICB1cGRhdGVQYXJlbnQoaW5iZXR3ZWVuTm9kZSwgcm9vdCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlUGFyZW50KG5ld05vZGUsIGluYmV0d2Vlbk5vZGUpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVBhcmVudChpbmJldHdlZW5Ob2RlQ2hpbGQsIGluYmV0d2Vlbk5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNraXAgdG8gdGhlIG5leHQgZGl2ZXJnZW50IGNoYXJhY3RlclxuICAgICAgICAgICAgaSArPSBlZGdlTGFiZWxMZW5ndGggLSAxO1xuICAgICAgICAgICAgLy8gbmF2aWdhdGUgaW4gdGhlIGNoaWxkIG5vZGVcbiAgICAgICAgICAgIHJvb3QgPSByb290Q2hpbGRDdXJyZW50Q2hhcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBub2RlIGZvciB0aGUgY3VycmVudCBjaGFyYWN0ZXIgZG9lc24ndCBleGlzdCBjcmVhdGUgbmV3IG5vZGVcbiAgICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSBjcmVhdGUodHJ1ZSwgd29yZEF0SW5kZXgsIGN1cnJlbnRDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgYWRkRG9jdW1lbnQobmV3Tm9kZSwgZG9jSWQpO1xuICAgICAgICAgICAgcm9vdC5jW2N1cnJlbnRDaGFyYWN0ZXJdID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIHVwZGF0ZVBhcmVudChuZXdOb2RlLCByb290KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIF9maW5kTGV2ZW5zaHRlaW4obm9kZSwgdGVybSwgaW5kZXgsIHRvbGVyYW5jZSwgb3JpZ2luYWxUb2xlcmFuY2UsIG91dHB1dCkge1xuICAgIGlmICh0b2xlcmFuY2UgPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5vZGUuZSkge1xuICAgICAgICBjb25zdCB7IHcgLCBkOiBkb2NJRHMgIH0gPSBub2RlO1xuICAgICAgICBpZiAodykge1xuICAgICAgICAgICAgY29uc3QgZGlmZmVyZW5jZSA9IE1hdGguYWJzKHRlcm0ubGVuZ3RoIC0gdy5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKGRpZmZlcmVuY2UgPD0gb3JpZ2luYWxUb2xlcmFuY2UgJiYgc3luY0JvdW5kZWRMZXZlbnNodGVpbih0ZXJtLCB3LCBvcmlnaW5hbFRvbGVyYW5jZSkuaXNCb3VuZGVkKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W3ddID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2V0T3duUHJvcGVydHkob3V0cHV0LCB3KSAhPSBudWxsICYmIGRvY0lEcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9jcyA9IG5ldyBTZXQob3V0cHV0W3ddKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb2NJRHNMZW5ndGggPSBkb2NJRHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBkb2NJRHNMZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgIGRvY3MuYWRkKGRvY0lEc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dFt3XSA9IEFycmF5LmZyb20oZG9jcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluZGV4ID49IHRlcm0ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gTWF0Y2ggY3VycmVudCBjaGFyYWN0ZXIgd2l0aG91dCBjb25zdW1pbmcgdG9sZXJhbmNlXG4gICAgaWYgKHRlcm1baW5kZXhdIGluIG5vZGUuYykge1xuICAgICAgICBfZmluZExldmVuc2h0ZWluKG5vZGUuY1t0ZXJtW2luZGV4XV0sIHRlcm0sIGluZGV4ICsgMSwgdG9sZXJhbmNlLCBvcmlnaW5hbFRvbGVyYW5jZSwgb3V0cHV0KTtcbiAgICB9XG4gICAgLy8gSWYgdG9sZXJhbmNlIGlzIHN0aWxsIGF2YWlsYWJsZSwgY29uc2lkZXIgb3RoZXIgYnJhbmNoZXM6XG4gICAgLy8gMS4gRGVsZXRpb24gKHNraXAgdGhlIGN1cnJlbnQgdGVybSBjaGFyYWN0ZXIpXG4gICAgX2ZpbmRMZXZlbnNodGVpbihub2RlLCB0ZXJtLCBpbmRleCArIDEsIHRvbGVyYW5jZSAtIDEsIG9yaWdpbmFsVG9sZXJhbmNlLCBvdXRwdXQpO1xuICAgIC8vIDIuIEluc2VydGlvbiAoc2tpcCB0aGUgY3VycmVudCB0cmVlIG5vZGUgY2hhcmFjdGVyKVxuICAgIGZvcihjb25zdCBjaGFyYWN0ZXIgaW4gbm9kZS5jKXtcbiAgICAgICAgX2ZpbmRMZXZlbnNodGVpbihub2RlLmNbY2hhcmFjdGVyXSwgdGVybSwgaW5kZXgsIHRvbGVyYW5jZSAtIDEsIG9yaWdpbmFsVG9sZXJhbmNlLCBvdXRwdXQpO1xuICAgIH1cbiAgICAvLyAzLiBTdWJzdGl0dXRpb24gKHNraXAgYm90aCBjdXJyZW50IHRlcm0gY2hhcmFjdGVyIGFuZCB0cmVlIG5vZGUgY2hhcmFjdGVyKVxuICAgIGZvcihjb25zdCBjaGFyYWN0ZXIgaW4gbm9kZS5jKXtcbiAgICAgICAgaWYgKGNoYXJhY3RlciAhPT0gdGVybVtpbmRleF0pIHtcbiAgICAgICAgICAgIF9maW5kTGV2ZW5zaHRlaW4obm9kZS5jW2NoYXJhY3Rlcl0sIHRlcm0sIGluZGV4ICsgMSwgdG9sZXJhbmNlIC0gMSwgb3JpZ2luYWxUb2xlcmFuY2UsIG91dHB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZChyb290LCB7IHRlcm0gLCBleGFjdCAsIHRvbGVyYW5jZSAgfSkge1xuICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3Qgbm9kZSB0byB0aGUgdGVybVxuICAgIC8vIFVzZSBgaWZgIGNvbmRpdGlvbiBiZWNhdXNlIHRvbGVyYW5jZSBgMGAgaXMgc3VwcG9zZWQgdG8gbWF0Y2ggb25seSBwcmVmaXguXG4gICAgLy8gKGFsbG93cyBpbmZpbml0ZSBpbnNlcnRpb25zIGF0IGVuZCwgd2hpY2ggaXMgYWdhaW5zdCBub3JtYWwgbGV2ZW5zaHRlaW4gbG9naWMpLlxuICAgIC8vIChuZXcgX2ZpbmRMZXZlbnNodGVpbiBvbmx5IGhhbmRsZXMgbm90IGV4YWN0IGFuZCB0b2xlcmFuY2U+MCBjb25kaXRpb24pXG4gICAgaWYgKHRvbGVyYW5jZSAmJiAhZXhhY3QpIHtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgICAgIHRvbGVyYW5jZSA9IHRvbGVyYW5jZSB8fCAwO1xuICAgICAgICBfZmluZExldmVuc2h0ZWluKHJvb3QsIHRlcm0sIDAsIHRvbGVyYW5jZSB8fCAwLCB0b2xlcmFuY2UsIG91dHB1dCk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRlcm0ubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gdGVybVtpXTtcbiAgICAgICAgICAgIGlmIChjaGFyYWN0ZXIgaW4gcm9vdC5jKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdENoaWxkQ3VycmVudENoYXIgPSByb290LmNbY2hhcmFjdGVyXTtcbiAgICAgICAgICAgICAgICBjb25zdCBlZGdlTGFiZWwgPSByb290Q2hpbGRDdXJyZW50Q2hhci5zO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1TdWJzdHJpbmcgPSB0ZXJtLnN1YnN0cmluZyhpKTtcbiAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBjb21tb24gcHJlZml4IGJldHdlZW4gdHdvIHdvcmRzIGV4OiBwcmltZSBhbmQgcHJpbWF0ZSA9IHByaW1cbiAgICAgICAgICAgICAgICBjb25zdCBjb21tb25QcmVmaXggPSBnZXRDb21tb25QcmVmaXgoZWRnZUxhYmVsLCB0ZXJtU3Vic3RyaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21tb25QcmVmaXhMZW5ndGggPSBjb21tb25QcmVmaXgubGVuZ3RoO1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBjb21tb24gcHJlZml4IGxlbmd0aCBpcyBlcXVhbCB0byBlZGdlTGFiZWwgbGVuZ3RoICh0aGUgbm9kZSBzdWJ3b3JkKSBpdCBtZWFucyB0aGV5IGFyZSBhIG1hdGNoXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGNvbW1vbiBwcmVmaXggaXMgZXF1YWwgdG8gdGhlIHRlcm0gbWVhbnMgaXQgaXMgY29udGFpbmVkIGluIHRoZSBub2RlXG4gICAgICAgICAgICAgICAgaWYgKGNvbW1vblByZWZpeExlbmd0aCAhPT0gZWRnZUxhYmVsLmxlbmd0aCAmJiBjb21tb25QcmVmaXhMZW5ndGggIT09IHRlcm1TdWJzdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRvbGVyYW5jZSBpcyBzZXQgd2UgdGFrZSB0aGUgY3VycmVudCBub2RlIGFzIHRoZSBjbG9zZXN0XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2xlcmFuY2UpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHNraXAgdGhlIHN1YndvcmQgbGVuZ3RoIGFuZCBjaGVjayB0aGUgbmV4dCBkaXZlcmdlbnQgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgaSArPSByb290Q2hpbGRDdXJyZW50Q2hhci5zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgLy8gbmF2aWdhdGUgaW50byB0aGUgY2hpbGQgbm9kZVxuICAgICAgICAgICAgICAgIHJvb3QgPSByb290Q2hpbGRDdXJyZW50Q2hhcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHt9O1xuICAgICAgICAvLyBmb3VuZCB0aGUgY2xvc2VzdCBub2RlIHdlIHJlY3Vyc2l2ZWx5IHNlYXJjaCB0aHJvdWdoIGNoaWxkcmVuXG4gICAgICAgIGZpbmRBbGxXb3Jkcyhyb290LCBvdXRwdXQsIHRlcm0sIGV4YWN0LCB0b2xlcmFuY2UpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWlucyhyb290LCB0ZXJtKSB7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRlcm0ubGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXIgPSB0ZXJtW2ldO1xuICAgICAgICBpZiAoY2hhcmFjdGVyIGluIHJvb3QuYykge1xuICAgICAgICAgICAgY29uc3Qgcm9vdENoaWxkcmVuQ2hhciA9IHJvb3QuY1tjaGFyYWN0ZXJdO1xuICAgICAgICAgICAgY29uc3QgZWRnZUxhYmVsID0gcm9vdENoaWxkcmVuQ2hhci5zO1xuICAgICAgICAgICAgY29uc3QgdGVybVN1YnN0cmluZyA9IHRlcm0uc3Vic3RyaW5nKGkpO1xuICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4ID0gZ2V0Q29tbW9uUHJlZml4KGVkZ2VMYWJlbCwgdGVybVN1YnN0cmluZyk7XG4gICAgICAgICAgICBjb25zdCBjb21tb25QcmVmaXhMZW5ndGggPSBjb21tb25QcmVmaXgubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGNvbW1vblByZWZpeExlbmd0aCAhPT0gZWRnZUxhYmVsLmxlbmd0aCAmJiBjb21tb25QcmVmaXhMZW5ndGggIT09IHRlcm1TdWJzdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSArPSByb290Q2hpbGRyZW5DaGFyLnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHJvb3QgPSByb290Q2hpbGRyZW5DaGFyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVdvcmQocm9vdCwgdGVybSkge1xuICAgIGlmICghdGVybSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0ZXJtLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gdGVybVtpXTtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gcm9vdDtcbiAgICAgICAgaWYgKGNoYXJhY3RlciBpbiByb290LmMpIHtcbiAgICAgICAgICAgIGkgKz0gcm9vdC5jW2NoYXJhY3Rlcl0ucy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgcm9vdCA9IHJvb3QuY1tjaGFyYWN0ZXJdO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJvb3QuYykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcmVudC5jW3Jvb3Qua107XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZURvY3VtZW50QnlXb3JkKHJvb3QsIHRlcm0sIGRvY0lELCBleGFjdCA9IHRydWUpIHtcbiAgICBpZiAoIXRlcm0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0ZXJtLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gdGVybVtpXTtcbiAgICAgICAgaWYgKGNoYXJhY3RlciBpbiByb290LmMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3RDaGlsZEN1cnJlbnRDaGFyID0gcm9vdC5jW2NoYXJhY3Rlcl07XG4gICAgICAgICAgICBpICs9IHJvb3RDaGlsZEN1cnJlbnRDaGFyLnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHJvb3QgPSByb290Q2hpbGRDdXJyZW50Q2hhcjtcbiAgICAgICAgICAgIGlmIChleGFjdCAmJiByb290LncgIT09IHRlcm0pIHtcbiAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIGV4YWN0IGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1vdmVEb2N1bWVudChyb290LCBkb2NJRCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhZGl4LmpzLm1hcCIsImNvbnN0IEsgPSAyIC8vIDJEIHBvaW50c1xuO1xuY29uc3QgRUFSVEhfUkFESVVTID0gNjM3MWUzIC8vIEVhcnRoIHJhZGl1cyBpbiBtZXRlcnNcbjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcm9vdDogbnVsbFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0KHRyZWUsIHBvaW50LCBkb2NJRHMpIHtcbiAgICBjb25zdCBuZXdOb2RlID0ge1xuICAgICAgICBwb2ludCxcbiAgICAgICAgZG9jSURzXG4gICAgfTtcbiAgICBpZiAodHJlZS5yb290ID09IG51bGwpIHtcbiAgICAgICAgdHJlZS5yb290ID0gbmV3Tm9kZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbm9kZSA9IHRyZWUucm9vdDtcbiAgICBsZXQgZGVwdGggPSAwO1xuICAgIHdoaWxlKG5vZGUgIT09IG51bGwpe1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY3VycmVudCBub2RlJ3MgcG9pbnQgbWF0Y2hlcyB0aGUgbmV3IHBvaW50XG4gICAgICAgIGlmIChub2RlLnBvaW50LmxvbiA9PT0gcG9pbnQubG9uICYmIG5vZGUucG9pbnQubGF0ID09PSBwb2ludC5sYXQpIHtcbiAgICAgICAgICAgIC8vIE1lcmdlIHRoZSBuZXcgZG9jSURzIHdpdGggdGhlIGV4aXN0aW5nIG9uZXMgYW5kIHJlbW92ZSBkdXBsaWNhdGVzXG4gICAgICAgICAgICBjb25zdCBuZXdEb2NJRHMgPSBub2RlLmRvY0lEcyA/PyBbXTtcbiAgICAgICAgICAgIG5vZGUuZG9jSURzID0gQXJyYXkuZnJvbShuZXcgU2V0KFtcbiAgICAgICAgICAgICAgICAuLi5uZXdEb2NJRHMsXG4gICAgICAgICAgICAgICAgLi4uZG9jSURzIHx8IFtdXG4gICAgICAgICAgICBdKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXhpcyA9IGRlcHRoICUgSztcbiAgICAgICAgLy8gQ29tcGFyZSBieSBsb25naXR1ZGVcbiAgICAgICAgaWYgKGF4aXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwb2ludC5sb24gPCBub2RlLnBvaW50Lmxvbikge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmxlZnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmxlZnQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLnJpZ2h0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5yaWdodCA9IG5ld05vZGU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIC8vIENvbXBhcmUgYnkgbGF0aXR1ZGVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwb2ludC5sYXQgPCBub2RlLnBvaW50LmxhdCkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmxlZnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmxlZnQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLnJpZ2h0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5yaWdodCA9IG5ld05vZGU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVwdGgrKztcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnModHJlZSwgcG9pbnQpIHtcbiAgICBsZXQgbm9kZSA9IHRyZWUucm9vdDtcbiAgICBsZXQgZGVwdGggPSAwO1xuICAgIHdoaWxlKG5vZGUgIT0gbnVsbCl7XG4gICAgICAgIGlmICgobm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLnBvaW50LmxvbikgPT09IHBvaW50LmxvbiAmJiBub2RlLnBvaW50LmxhdCA9PT0gcG9pbnQubGF0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBheGlzID0gZGVwdGggJSBLO1xuICAgICAgICAvLyBDb21wYXJlIGJ5IGxvbmdpdHVkZVxuICAgICAgICBpZiAoYXhpcyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBvaW50LmxvbiA8IG5vZGUucG9pbnQubG9uKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAvLyBDb21wYXJlIGJ5IGxhdGl0dWRlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocG9pbnQubGF0IDwgbm9kZS5wb2ludC5sYXQpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVwdGgrKztcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8gQHRvZG86IHRoaXMgaXMgdmVyeSBpbmVmZmljaWVudC4gRml4IHRoaXMgbGF0ZXIuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRG9jQnlJRCh0cmVlLCBwb2ludCwgZG9jSUQpIHtcbiAgICBsZXQgbm9kZSA9IHRyZWUucm9vdDtcbiAgICBsZXQgZGVwdGggPSAwO1xuICAgIGxldCBwYXJlbnROb2RlID0gbnVsbDtcbiAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcbiAgICB3aGlsZShub2RlICE9PSBudWxsKXtcbiAgICAgICAgaWYgKChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUucG9pbnQubG9uKSA9PT0gcG9pbnQubG9uICYmIG5vZGUucG9pbnQubGF0ID09PSBwb2ludC5sYXQpIHtcbiAgICAgICAgICAgIHZhciBfbm9kZV9kb2NJRHM7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IChfbm9kZV9kb2NJRHMgPSBub2RlLmRvY0lEcykgPT09IG51bGwgfHwgX25vZGVfZG9jSURzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZV9kb2NJRHMuaW5kZXhPZihkb2NJRCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCAmJiBpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFyIC8vIFJlbW92ZSB0aGUgZG9jSUQgZnJvbSB0aGUgYXJyYXlcbiAgICAgICAgICAgICAgICBfbm9kZV9kb2NJRHMxO1xuICAgICAgICAgICAgICAgIChfbm9kZV9kb2NJRHMxID0gbm9kZS5kb2NJRHMpID09PSBudWxsIHx8IF9ub2RlX2RvY0lEczEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ub2RlX2RvY0lEczEuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kb2NJRHMgPT0gbnVsbCB8fCBub2RlLmRvY0lEcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIG5vZGUgZG9lc24ndCBoYXZlIGFueSBtb3JlIGRvY0lEcywgcmVtb3ZlIHRoZSBub2RlXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnROb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUubGVmdCA9IG5vZGUubGVmdCAhPT0gbnVsbCA/IG5vZGUubGVmdCA6IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUucmlnaHQgPSBub2RlLnJpZ2h0ICE9PSBudWxsID8gbm9kZS5yaWdodCA6IG5vZGUubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBub2RlIHRvIGJlIHJlbW92ZWQgaXMgdGhlIHJvb3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyZWUucm9vdCA9IG5vZGUubGVmdCAhPT0gbnVsbCA/IG5vZGUubGVmdCA6IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF4aXMgPSBkZXB0aCAlIEs7XG4gICAgICAgIHBhcmVudE5vZGUgPSBub2RlO1xuICAgICAgICAvLyBDb21wYXJlIGJ5IGxvbmdpdHVkZVxuICAgICAgICBpZiAoYXhpcyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBvaW50LmxvbiA8IG5vZGUucG9pbnQubG9uKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5sZWZ0O1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5yaWdodDtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAvLyBDb21wYXJlIGJ5IGxhdGl0dWRlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocG9pbnQubGF0IDwgbm9kZS5wb2ludC5sYXQpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLmxlZnQ7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVwdGgrKztcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jSURzQnlDb29yZGluYXRlcyh0cmVlLCBwb2ludCkge1xuICAgIGxldCBub2RlID0gdHJlZS5yb290O1xuICAgIGxldCBkZXB0aCA9IDA7XG4gICAgd2hpbGUobm9kZSAhPT0gbnVsbCl7XG4gICAgICAgIGlmIChub2RlLnBvaW50LmxvbiA9PT0gcG9pbnQubG9uICYmIG5vZGUucG9pbnQubGF0ID09PSBwb2ludC5sYXQpIHtcbiAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuZG9jSURzID8/IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXhpcyA9IGRlcHRoICUgSztcbiAgICAgICAgLy8gQ29tcGFyZSBieSBsb25naXR1ZGVcbiAgICAgICAgaWYgKGF4aXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwb2ludC5sb24gPCBub2RlLnBvaW50Lmxvbikge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAvLyBDb21wYXJlIGJ5IGxhdGl0dWRlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocG9pbnQubGF0IDwgbm9kZS5wb2ludC5sYXQpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZXB0aCsrO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hCeVJhZGl1cyhub2RlLCBjZW50ZXIsIHJhZGl1cywgaW5jbHVzaXZlID0gdHJ1ZSwgc29ydCA9ICdhc2MnLCBoaWdoUHJlY2lzaW9uID0gZmFsc2UpIHtcbiAgICBjb25zdCBkaXN0YW5jZUZuID0gaGlnaFByZWNpc2lvbiA/IHZpbmNlbnR5RGlzdGFuY2UgOiBoYXZlcnNpbmVEaXN0YW5jZTtcbiAgICBjb25zdCBzdGFjayA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIGRlcHRoOiAwXG4gICAgICAgIH1cbiAgICBdO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIHdoaWxlKHN0YWNrLmxlbmd0aCA+IDApe1xuICAgICAgICBjb25zdCB7IG5vZGUgLCBkZXB0aCAgfSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IGRpc3QgPSBkaXN0YW5jZUZuKGNlbnRlciwgbm9kZS5wb2ludCk7XG4gICAgICAgIGlmIChpbmNsdXNpdmUgPyBkaXN0IDw9IHJhZGl1cyA6IGRpc3QgPiByYWRpdXMpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBwb2ludDogbm9kZS5wb2ludCxcbiAgICAgICAgICAgICAgICBkb2NJRHM6IG5vZGUuZG9jSURzID8/IFtdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5sZWZ0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICAgIG5vZGU6IG5vZGUubGVmdCxcbiAgICAgICAgICAgICAgICBkZXB0aDogZGVwdGggKyAxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5yaWdodCAhPSBudWxsKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKHtcbiAgICAgICAgICAgICAgICBub2RlOiBub2RlLnJpZ2h0LFxuICAgICAgICAgICAgICAgIGRlcHRoOiBkZXB0aCArIDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzb3J0KSB7XG4gICAgICAgIHJlc3VsdC5zb3J0KChhLCBiKT0+e1xuICAgICAgICAgICAgY29uc3QgZGlzdEEgPSBkaXN0YW5jZUZuKGNlbnRlciwgYS5wb2ludCk7XG4gICAgICAgICAgICBjb25zdCBkaXN0QiA9IGRpc3RhbmNlRm4oY2VudGVyLCBiLnBvaW50KTtcbiAgICAgICAgICAgIHJldHVybiBzb3J0LnRvTG93ZXJDYXNlKCkgPT09ICdhc2MnID8gZGlzdEEgLSBkaXN0QiA6IGRpc3RCIC0gZGlzdEE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaEJ5UG9seWdvbihyb290LCBwb2x5Z29uLCBpbmNsdXNpdmUgPSB0cnVlLCBzb3J0ID0gbnVsbCwgaGlnaFByZWNpc2lvbiA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc3RhY2sgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5vZGU6IHJvb3QsXG4gICAgICAgICAgICBkZXB0aDogMFxuICAgICAgICB9XG4gICAgXTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICB3aGlsZShzdGFjay5sZW5ndGggPiAwKXtcbiAgICAgICAgY29uc3QgdGFzayA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAodGFzayA9PSBudWxsIHx8IHRhc2subm9kZSA9PSBudWxsKSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgeyBub2RlICwgZGVwdGggIH0gPSB0YXNrO1xuICAgICAgICBjb25zdCBuZXh0RGVwdGggPSBkZXB0aCArIDE7XG4gICAgICAgIGlmIChub2RlLmxlZnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgbm9kZTogbm9kZS5sZWZ0LFxuICAgICAgICAgICAgICAgIGRlcHRoOiBuZXh0RGVwdGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnJpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICAgIG5vZGU6IG5vZGUucmlnaHQsXG4gICAgICAgICAgICAgICAgZGVwdGg6IG5leHREZXB0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNJbnNpZGVQb2x5Z29uID0gaXNQb2ludEluUG9seWdvbihwb2x5Z29uLCBub2RlLnBvaW50KTtcbiAgICAgICAgaWYgKGlzSW5zaWRlUG9seWdvbiAmJiBpbmNsdXNpdmUpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBwb2ludDogbm9kZS5wb2ludCxcbiAgICAgICAgICAgICAgICBkb2NJRHM6IG5vZGUuZG9jSURzID8/IFtdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICghaXNJbnNpZGVQb2x5Z29uICYmICFpbmNsdXNpdmUpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBwb2ludDogbm9kZS5wb2ludCxcbiAgICAgICAgICAgICAgICBkb2NJRHM6IG5vZGUuZG9jSURzID8/IFtdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjZW50cm9pZCA9IGNhbGN1bGF0ZVBvbHlnb25DZW50cm9pZChwb2x5Z29uKTtcbiAgICBpZiAoc29ydCkge1xuICAgICAgICBjb25zdCBzb3J0Rm4gPSBoaWdoUHJlY2lzaW9uID8gdmluY2VudHlEaXN0YW5jZSA6IGhhdmVyc2luZURpc3RhbmNlO1xuICAgICAgICByZXN1bHQuc29ydCgoYSwgYik9PntcbiAgICAgICAgICAgIGNvbnN0IGRpc3RBID0gc29ydEZuKGNlbnRyb2lkLCBhLnBvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RCID0gc29ydEZuKGNlbnRyb2lkLCBiLnBvaW50KTtcbiAgICAgICAgICAgIHJldHVybiBzb3J0LnRvTG93ZXJDYXNlKCkgPT09ICdhc2MnID8gZGlzdEEgLSBkaXN0QiA6IGRpc3RCIC0gZGlzdEE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlUG9seWdvbkNlbnRyb2lkKHBvbHlnb24pIHtcbiAgICBsZXQgdG90YWxBcmVhID0gMDtcbiAgICBsZXQgY2VudHJvaWRYID0gMDtcbiAgICBsZXQgY2VudHJvaWRZID0gMDtcbiAgICBmb3IobGV0IGkgPSAwLCBqID0gcG9seWdvbi5sZW5ndGggLSAxOyBpIDwgcG9seWdvbi5sZW5ndGg7IGogPSBpKyspe1xuICAgICAgICBjb25zdCB4aSA9IHBvbHlnb25baV0ubG9uO1xuICAgICAgICBjb25zdCB5aSA9IHBvbHlnb25baV0ubGF0O1xuICAgICAgICBjb25zdCB4aiA9IHBvbHlnb25bal0ubG9uO1xuICAgICAgICBjb25zdCB5aiA9IHBvbHlnb25bal0ubGF0O1xuICAgICAgICBjb25zdCBhcmVhU2VnbWVudCA9IHhpICogeWogLSB4aiAqIHlpO1xuICAgICAgICB0b3RhbEFyZWEgKz0gYXJlYVNlZ21lbnQ7XG4gICAgICAgIGNlbnRyb2lkWCArPSAoeGkgKyB4aikgKiBhcmVhU2VnbWVudDtcbiAgICAgICAgY2VudHJvaWRZICs9ICh5aSArIHlqKSAqIGFyZWFTZWdtZW50O1xuICAgIH1cbiAgICB0b3RhbEFyZWEgLz0gMjtcbiAgICBjZW50cm9pZFggLz0gNiAqIHRvdGFsQXJlYTtcbiAgICBjZW50cm9pZFkgLz0gNiAqIHRvdGFsQXJlYTtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb246IGNlbnRyb2lkWCxcbiAgICAgICAgbGF0OiBjZW50cm9pZFlcbiAgICB9O1xufVxuZnVuY3Rpb24gaXNQb2ludEluUG9seWdvbihwb2x5Z29uLCBwb2ludCkge1xuICAgIGxldCBpc0luc2lkZSA9IGZhbHNlO1xuICAgIGNvbnN0IHggPSBwb2ludC5sb247XG4gICAgY29uc3QgeSA9IHBvaW50LmxhdDtcbiAgICBmb3IobGV0IGkgPSAwLCBqID0gcG9seWdvbi5sZW5ndGggLSAxOyBpIDwgcG9seWdvbi5sZW5ndGg7IGogPSBpKyspe1xuICAgICAgICBjb25zdCB4aSA9IHBvbHlnb25baV0ubG9uO1xuICAgICAgICBjb25zdCB5aSA9IHBvbHlnb25baV0ubGF0O1xuICAgICAgICBjb25zdCB4aiA9IHBvbHlnb25bal0ubG9uO1xuICAgICAgICBjb25zdCB5aiA9IHBvbHlnb25bal0ubGF0O1xuICAgICAgICBjb25zdCBpbnRlcnNlY3QgPSB5aSA+IHkgIT09IHlqID4geSAmJiB4IDwgKHhqIC0geGkpICogKHkgLSB5aSkgLyAoeWogLSB5aSkgKyB4aTtcbiAgICAgICAgaWYgKGludGVyc2VjdCkgaXNJbnNpZGUgPSAhaXNJbnNpZGU7XG4gICAgfVxuICAgIHJldHVybiBpc0luc2lkZTtcbn1cbmZ1bmN0aW9uIGhhdmVyc2luZURpc3RhbmNlKGNvb3JkMSwgY29vcmQyKSB7XG4gICAgY29uc3QgUCA9IE1hdGguUEkgLyAxODA7XG4gICAgY29uc3QgbGF0MSA9IGNvb3JkMS5sYXQgKiBQO1xuICAgIGNvbnN0IGxhdDIgPSBjb29yZDIubGF0ICogUDtcbiAgICBjb25zdCBkZWx0YUxhdCA9IChjb29yZDIubGF0IC0gY29vcmQxLmxhdCkgKiBQO1xuICAgIGNvbnN0IGRlbHRhTG9uID0gKGNvb3JkMi5sb24gLSBjb29yZDEubG9uKSAqIFA7XG4gICAgY29uc3QgYSA9IE1hdGguc2luKGRlbHRhTGF0IC8gMikgKiBNYXRoLnNpbihkZWx0YUxhdCAvIDIpICsgTWF0aC5jb3MobGF0MSkgKiBNYXRoLmNvcyhsYXQyKSAqIE1hdGguc2luKGRlbHRhTG9uIC8gMikgKiBNYXRoLnNpbihkZWx0YUxvbiAvIDIpO1xuICAgIGNvbnN0IGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xuICAgIHJldHVybiBFQVJUSF9SQURJVVMgKiBjO1xufVxuZnVuY3Rpb24gdmluY2VudHlEaXN0YW5jZShjb29yZDEsIGNvb3JkMikge1xuICAgIC8vIENvbnN0YW50cyBmb3IgV0dTIDg0IGVsbGlwc29pZGFsIEVhcnRoIG1vZGVsIChodHRwczovL2Vwc2cub3JnL2VsbGlwc29pZF83MDMwL1dHUy04NC5odG1sKVxuICAgIC8vIFNlbWktbWFqb3IgYXhpcyBvZiB0aGUgRWFydGggaW4gbWV0ZXJzXG4gICAgY29uc3QgYSA9IDYzNzgxMzc7XG4gICAgLy8gRmxhdHRlbmluZyBvZiB0aGUgZWxsaXBzb2lkXG4gICAgY29uc3QgZiA9IDEgLyAyOTguMjU3MjIzNTYzO1xuICAgIC8vIFNlbWktbWlub3IgYXhpc1xuICAgIGNvbnN0IGIgPSAoMSAtIGYpICogYTtcbiAgICAvLyBDb252ZXJ0IGRlZ3JlZXMgdG8gcmFkaWFucyBmb3IgY2FsY3VsYXRpb25zXG4gICAgY29uc3QgUCA9IE1hdGguUEkgLyAxODA7XG4gICAgY29uc3QgbGF0MSA9IGNvb3JkMS5sYXQgKiBQO1xuICAgIGNvbnN0IGxhdDIgPSBjb29yZDIubGF0ICogUDtcbiAgICBjb25zdCBkZWx0YUxvbiA9IChjb29yZDIubG9uIC0gY29vcmQxLmxvbikgKiBQO1xuICAgIC8vIFJlZHVjZWQgbGF0aXR1ZGVzIC0gYWNjb3VudCBmb3IgZmxhdHRlbmluZyBieSB0cmFuc2Zvcm1pbmcgZnJvbSBnZW9kZXRpYyB0byBhdXhpbGlhcnkgbGF0aXR1ZGVcbiAgICBjb25zdCBVMSA9IE1hdGguYXRhbigoMSAtIGYpICogTWF0aC50YW4obGF0MSkpO1xuICAgIGNvbnN0IFUyID0gTWF0aC5hdGFuKCgxIC0gZikgKiBNYXRoLnRhbihsYXQyKSk7XG4gICAgY29uc3Qgc2luVTEgPSBNYXRoLnNpbihVMSk7XG4gICAgY29uc3QgY29zVTEgPSBNYXRoLmNvcyhVMSk7XG4gICAgY29uc3Qgc2luVTIgPSBNYXRoLnNpbihVMik7XG4gICAgY29uc3QgY29zVTIgPSBNYXRoLmNvcyhVMik7XG4gICAgLy8gSW5pdGlhbCBhcHByb3hpbWF0aW9uIGZvciB0aGUgbG9uZ2l0dWRlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvIHBvaW50c1xuICAgIGxldCBsYW1iZGEgPSBkZWx0YUxvbjtcbiAgICBsZXQgcHJldkxhbWJkYTtcbiAgICAvLyBMaW1pdCB0aGUgaXRlcmF0aW9ucyB0byBlbnN1cmUgd2UgZG9uJ3QgZ2V0IHN0dWNrIGluIGFuIGluZmluaXRlIGxvb3BcbiAgICBsZXQgaXRlcmF0aW9uTGltaXQgPSAxMDAwO1xuICAgIGxldCBzaW5BbHBoYTtcbiAgICBsZXQgY29zMkFscGhhO1xuICAgIGxldCBzaW5TaWdtYTtcbiAgICBsZXQgY29zU2lnbWE7XG4gICAgbGV0IHNpZ21hO1xuICAgIC8vIFJlZmluZSB0aGUgdmFsdWUgb2YgbGFtYmRhIChsb25naXR1ZGUgZGlmZmVyZW5jZSlcbiAgICBkbyB7XG4gICAgICAgIGNvbnN0IHNpbkxhbWJkYSA9IE1hdGguc2luKGxhbWJkYSk7XG4gICAgICAgIGNvbnN0IGNvc0xhbWJkYSA9IE1hdGguY29zKGxhbWJkYSk7XG4gICAgICAgIC8vIENvbXB1dGUgdGhlIHRyaWdvbm9tZXRyaWMgdmFsdWVzIHJlcXVpcmVkIGZvciBWaW5jZW50eSBmb3JtdWxhZVxuICAgICAgICBzaW5TaWdtYSA9IE1hdGguc3FydChjb3NVMiAqIHNpbkxhbWJkYSAqIChjb3NVMiAqIHNpbkxhbWJkYSkgKyAoY29zVTEgKiBzaW5VMiAtIHNpblUxICogY29zVTIgKiBjb3NMYW1iZGEpICogKGNvc1UxICogc2luVTIgLSBzaW5VMSAqIGNvc1UyICogY29zTGFtYmRhKSk7XG4gICAgICAgIGNvc1NpZ21hID0gc2luVTEgKiBzaW5VMiArIGNvc1UxICogY29zVTIgKiBjb3NMYW1iZGE7XG4gICAgICAgIHNpZ21hID0gTWF0aC5hdGFuMihzaW5TaWdtYSwgY29zU2lnbWEpO1xuICAgICAgICAvLyBBbmd1bGFyIHNlcGFyYXRpb24gYmV0d2VlbiB0aGUgdHdvIHBvaW50cyBhbmQgdGhlIGVxdWF0b3JcbiAgICAgICAgc2luQWxwaGEgPSBjb3NVMSAqIGNvc1UyICogc2luTGFtYmRhIC8gc2luU2lnbWE7XG4gICAgICAgIGNvczJBbHBoYSA9IDEgLSBzaW5BbHBoYSAqIHNpbkFscGhhO1xuICAgICAgICBjb25zdCBjb3MyU2lnbWFNID0gY29zU2lnbWEgLSAyICogc2luVTEgKiBzaW5VMiAvIGNvczJBbHBoYTtcbiAgICAgICAgLy8gQ29tcGVuc2F0aW9uIGZhY3RvciBmb3IgdGhlIEVhcnRoJ3Mgc2hhcGVcbiAgICAgICAgY29uc3QgQyA9IGYgLyAxNiAqIGNvczJBbHBoYSAqICg0ICsgZiAqICg0IC0gMyAqIGNvczJBbHBoYSkpO1xuICAgICAgICAvLyBTdG9yZSBwcmV2aW91cyBsYW1iZGEgdG8gY2hlY2sgZm9yIGNvbnZlcmdlbmNlXG4gICAgICAgIHByZXZMYW1iZGEgPSBsYW1iZGE7XG4gICAgICAgIC8vIFJlZmluZSB0aGUgZXN0aW1hdGUgb2YgbGFtYmRhIHVzaW5nIHRoZSBWaW5jZW50eSBmb3JtdWxhXG4gICAgICAgIGxhbWJkYSA9IGRlbHRhTG9uICsgKDEgLSBDKSAqIGYgKiBzaW5BbHBoYSAqIChzaWdtYSArIEMgKiBzaW5TaWdtYSAqIChjb3MyU2lnbWFNICsgQyAqIGNvc1NpZ21hICogKC0xICsgMiAqIGNvczJTaWdtYU0gKiBjb3MyU2lnbWFNKSkpO1xuICAgIH13aGlsZSAoTWF0aC5hYnMobGFtYmRhIC0gcHJldkxhbWJkYSkgPiAxZS0xMiAmJiAtLWl0ZXJhdGlvbkxpbWl0ID4gMClcbiAgICAvLyBDb21wdXRlIGZhY3RvcnMgdGhhdCBkZXBlbmQgb24gdGhlIHNoYXBlIG9mIHRoZSBFYXJ0aCBhbmQgYW5ndWxhciBkaXN0YW5jZXNcbiAgICBjb25zdCB1MiA9IGNvczJBbHBoYSAqIChhICogYSAtIGIgKiBiKSAvIChiICogYik7XG4gICAgY29uc3QgQSA9IDEgKyB1MiAvIDE2Mzg0ICogKDQwOTYgKyB1MiAqICgtNzY4ICsgdTIgKiAoMzIwIC0gMTc1ICogdTIpKSk7XG4gICAgY29uc3QgQiA9IHUyIC8gMTAyNCAqICgyNTYgKyB1MiAqICgtMTI4ICsgdTIgKiAoNzQgLSA0NyAqIHUyKSkpO1xuICAgIC8vIENvbXB1dGUgdGhlIGNvcnJlY3Rpb24gZmFjdG9yIGZvciB0aGUgZWxsaXBzb2lkYWwgc2hhcGUgb2YgdGhlIEVhcnRoXG4gICAgY29uc3QgZGVsdGFTaWdtYSA9IEIgKiBzaW5TaWdtYSAqIChjb3NTaWdtYSAtIDIgKiBzaW5VMSAqIHNpblUyIC8gY29zMkFscGhhICsgQiAvIDQgKiAoY29zU2lnbWEgKiAoLTEgKyAyICogc2luU2lnbWEgKiBzaW5TaWdtYSkgLSBCIC8gNiAqIHNpZ21hICogKC0zICsgNCAqIHNpblNpZ21hICogc2luU2lnbWEpICogKC0zICsgNCAqIHNpZ21hICogc2lnbWEpKSk7XG4gICAgLy8gRmluYWwgY2FsY3VsYXRpb24gb2YgZGlzdGFuY2UgdXNpbmcgVmluY2VudHkgZm9ybXVsYVxuICAgIGNvbnN0IHMgPSBiICogQSAqIChzaWdtYSAtIGRlbHRhU2lnbWEpO1xuICAgIHJldHVybiBzO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1ia2QuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIHByaW9yaXRpemVUb2tlblNjb3JlcyhhcnJheXMsIGJvb3N0LCB0aHJlc2hvbGQgPSAxLCBrZXl3b3Jkc0NvdW50KSB7XG4gICAgaWYgKGJvb3N0ID09PSAwKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX0JPT1NUX1ZBTFVFJyk7XG4gICAgfVxuICAgIGNvbnN0IHRva2VuU2NvcmVzTWFwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHRva2VuS2V5d29yZHNDb3VudE1hcCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBtYXBzTGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbWFwc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgYXJyID0gYXJyYXlzW2ldO1xuICAgICAgICBjb25zdCBlbnRyaWVzTGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IGVudHJpZXNMZW5ndGg7IGorKyl7XG4gICAgICAgICAgICBjb25zdCBbdG9rZW4sIHNjb3JlXSA9IGFycltqXTtcbiAgICAgICAgICAgIGNvbnN0IGJvb3N0U2NvcmUgPSBzY29yZSAqIGJvb3N0O1xuICAgICAgICAgICAgY29uc3Qgb2xkU2NvcmUgPSB0b2tlblNjb3Jlc01hcC5nZXQodG9rZW4pO1xuICAgICAgICAgICAgaWYgKG9sZFNjb3JlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0b2tlblNjb3Jlc01hcC5zZXQodG9rZW4sIG9sZFNjb3JlICogMS41ICsgYm9vc3RTY29yZSk7XG4gICAgICAgICAgICAgICAgdG9rZW5LZXl3b3Jkc0NvdW50TWFwLnNldCh0b2tlbiwgdG9rZW5LZXl3b3Jkc0NvdW50TWFwLmdldCh0b2tlbikgKyAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9rZW5TY29yZXNNYXAuc2V0KHRva2VuLCBib29zdFNjb3JlKTtcbiAgICAgICAgICAgICAgICB0b2tlbktleXdvcmRzQ291bnRNYXAuc2V0KHRva2VuLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0b2tlblNjb3JlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgdG9rZW5TY29yZUVudHJ5IG9mIHRva2VuU2NvcmVzTWFwLmVudHJpZXMoKSl7XG4gICAgICAgIHRva2VuU2NvcmVzLnB1c2godG9rZW5TY29yZUVudHJ5KTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IHRva2VuU2NvcmVzLnNvcnQoKGEsIGIpPT5iWzFdIC0gYVsxXSk7XG4gICAgLy8gSWYgdGhyZXNob2xkIGlzIDEsIGl0IG1lYW5zIHdlIHdpbGwgcmV0dXJuIGFsbCB0aGUgcmVzdWx0cyB3aXRoIGF0IGxlYXN0IG9uZSBzZWFyY2ggdGVybSxcbiAgICAvLyBwcmlvcml0aXppZyB0aGUgb25lcyB0aGF0IGNvbnRhaW5zIG1vcmUgc2VhcmNoIHRlcm1zIChmdXp6eSBtYXRjaClcbiAgICBpZiAodGhyZXNob2xkID09PSAxKSB7XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cbiAgICAvLyBQcmVwYXJlIGtleXdvcmRzIGNvdW50IHRyYWNraW5nIGZvciB0aHJlc2hvbGQgaGFuZGxpbmdcbiAgICBjb25zdCBhbGxSZXN1bHRzID0gcmVzdWx0cy5sZW5ndGg7XG4gICAgY29uc3QgdG9rZW5LZXl3b3Jkc0NvdW50ID0gW107XG4gICAgZm9yIChjb25zdCB0b2tlbktleXdvcmRzQ291bnRFbnRyeSBvZiB0b2tlbktleXdvcmRzQ291bnRNYXAuZW50cmllcygpKXtcbiAgICAgICAgdG9rZW5LZXl3b3Jkc0NvdW50LnB1c2godG9rZW5LZXl3b3Jkc0NvdW50RW50cnkpO1xuICAgIH1cbiAgICAvLyBGaW5kIHRoZSBpbmRleCBvZiB0aGUgbGFzdCByZXN1bHQgd2l0aCBhbGwga2V5d29yZHMuXG4gICAgLy8gTm90ZSB0aGF0IHNpbmNlIHNjb3JlIGlzIG11bHRpcGxlZCBieSAxLjUgYW55IHRpbWUgdGhlIHRva2VuIGlzIGVuY291bnRlcmVkIGluIHJlc3VsdHMgaXQgbWVhbnNcbiAgICAvLyB0aGF0IHRva2VuU2NvcmVzIGFuZCB0b2tlbktleXdvcmRzQ291bnQgc2hvdWxkIGFsd2F5cyBoYXZlIHRoZSBzYW1lIG9yZGVyLlxuICAgIGNvbnN0IGtleXdvcmRzUGVyVG9rZW4gPSB0b2tlbktleXdvcmRzQ291bnQuc29ydCgoYSwgYik9PmJbMV0gLSBhWzFdKTtcbiAgICBsZXQgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID0gdW5kZWZpbmVkO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhbGxSZXN1bHRzOyBpKyspe1xuICAgICAgICBpZiAoa2V5d29yZHNQZXJUb2tlbltpXVsxXSA9PT0ga2V5d29yZHNDb3VudCkge1xuICAgICAgICAgICAgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID0gaTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIElmIG5vIHJlc3VsdHMgaGFkIGFsbCB0aGUga2V5d29yZHMsIGVpdGhlciBiYWlsIG91dCBlYXJsaWVyIG9yIG5vcm1hbGl6ZVxuICAgIGlmICh0eXBlb2YgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAodGhyZXNob2xkID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID0gMDtcbiAgICB9XG4gICAgLy8gSWYgdGhyZXNob2xkIGlzIDAsIGl0IG1lYW5zIHdlIHdpbGwgb25seSByZXR1cm4gYWxsIHRoZSByZXN1bHRzIHRoYXQgY29udGFpbnMgQUxMIHRoZSBzZWFyY2ggdGVybXMgKGV4YWN0IG1hdGNoKVxuICAgIGlmICh0aHJlc2hvbGQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHMuc2xpY2UoMCwgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzICsgMSk7XG4gICAgfVxuICAgIC8vIElmIHRoZSB0aHJlc2hvbGQgaXMgYmV0d2VlbiAwIGFuZCAxLCB3ZSB3aWxsIHJldHVybiBhbGwgdGhlIHJlc3VsdHMgdGhhdCBjb250YWlucyBhdCBsZWFzdCB0aGUgdGhyZXNob2xkIG9mIHNlYXJjaCB0ZXJtc1xuICAgIC8vIEZvciBleGFtcGxlLCBpZiB0aHJlc2hvbGQgaXMgMC41LCB3ZSB3aWxsIHJldHVybiBhbGwgdGhlIHJlc3VsdHMgdGhhdCBjb250YWlucyBhdCBsZWFzdCA1MCUgb2YgdGhlIHNlYXJjaCB0ZXJtc1xuICAgIC8vIChmdXp6eSBtYXRjaCB3aXRoIGEgbWluaW11bSB0aHJlc2hvbGQpXG4gICAgY29uc3QgdGhyZXNob2xkTGVuZ3RoID0gbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzICsgTWF0aC5jZWlsKHRocmVzaG9sZCAqIDEwMCAqIChyZXN1bHRzLmxlbmd0aCAtIGxhc3RUb2tlbldpdGhBbGxLZXl3b3JkcykgLyAxMDApO1xuICAgIHJldHVybiByZXN1bHRzLnNsaWNlKDAsIHJlc3VsdHMubGVuZ3RoICsgdGhyZXNob2xkTGVuZ3RoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBCTTI1KHRmLCBtYXRjaGluZ0NvdW50LCBkb2NzQ291bnQsIGZpZWxkTGVuZ3RoLCBhdmVyYWdlRmllbGRMZW5ndGgsIEJNMjVQYXJhbXMpIHtcbiAgICBjb25zdCB7IGsgLCBiICwgZCAgfSA9IEJNMjVQYXJhbXM7XG4gICAgY29uc3QgaWRmID0gTWF0aC5sb2coMSArIChkb2NzQ291bnQgLSBtYXRjaGluZ0NvdW50ICsgMC41KSAvIChtYXRjaGluZ0NvdW50ICsgMC41KSk7XG4gICAgcmV0dXJuIGlkZiAqIChkICsgdGYgKiAoayArIDEpKSAvICh0ZiArIGsgKiAoMSAtIGIgKyBiICogZmllbGRMZW5ndGggLyBhdmVyYWdlRmllbGRMZW5ndGgpKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWxnb3JpdGhtcy5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gZ2V0TWFnbml0dWRlKHZlY3RvciwgdmVjdG9yTGVuZ3RoKSB7XG4gICAgbGV0IG1hZ25pdHVkZSA9IDA7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHZlY3Rvckxlbmd0aDsgaSsrKXtcbiAgICAgICAgbWFnbml0dWRlICs9IHZlY3RvcltpXSAqIHZlY3RvcltpXTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGguc3FydChtYWduaXR1ZGUpO1xufVxuLy8gQHRvZG86IFdyaXRlIHBsdWdpbnMgZm9yIE5vZGUgYW5kIEJyb3dzZXJzIHRvIHVzZSBwYXJhbGxlbCBjb21wdXRhdGlvbiBmb3IgdGhpcyBmdW5jdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRTaW1pbGFyVmVjdG9ycyh0YXJnZXRWZWN0b3IsIHZlY3RvcnMsIGxlbmd0aCwgdGhyZXNob2xkID0gMC44KSB7XG4gICAgY29uc3QgdGFyZ2V0TWFnbml0dWRlID0gZ2V0TWFnbml0dWRlKHRhcmdldFZlY3RvciwgbGVuZ3RoKTtcbiAgICBjb25zdCBzaW1pbGFyVmVjdG9ycyA9IFtdO1xuICAgIGZvciAoY29uc3QgW3ZlY3RvcklkLCBbbWFnbml0dWRlLCB2ZWN0b3JdXSBvZiBPYmplY3QuZW50cmllcyh2ZWN0b3JzKSl7XG4gICAgICAgIGxldCBkb3RQcm9kdWN0ID0gMDtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGRvdFByb2R1Y3QgKz0gdGFyZ2V0VmVjdG9yW2ldICogdmVjdG9yW2ldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNpbWlsYXJpdHkgPSBkb3RQcm9kdWN0IC8gKHRhcmdldE1hZ25pdHVkZSAqIG1hZ25pdHVkZSk7XG4gICAgICAgIGlmIChzaW1pbGFyaXR5ID49IHRocmVzaG9sZCkge1xuICAgICAgICAgICAgc2ltaWxhclZlY3RvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHZlY3RvcklkLFxuICAgICAgICAgICAgICAgIHNjb3JlOiBzaW1pbGFyaXR5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2ltaWxhclZlY3RvcnMuc29ydCgoYSwgYik9PmIuc2NvcmUgLSBhLnNjb3JlKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29zaW5lLXNpbWlsYXJpdHkuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgY3JlYXRlIGFzIGF2bENyZWF0ZSwgZmluZCBhcyBhdmxGaW5kLCBncmVhdGVyVGhhbiBhcyBhdmxHcmVhdGVyVGhhbiwgaW5zZXJ0IGFzIGF2bEluc2VydCwgbGVzc1RoYW4gYXMgYXZsTGVzc1RoYW4sIHJhbmdlU2VhcmNoIGFzIGF2bFJhbmdlU2VhcmNoLCByZW1vdmVEb2N1bWVudCBhcyBhdmxSZW1vdmVEb2N1bWVudCB9IGZyb20gJy4uL3RyZWVzL2F2bC5qcyc7XG5pbXBvcnQgeyBjcmVhdGUgYXMgZmxhdENyZWF0ZSwgZmlsdGVyIGFzIGZsYXRGaWx0ZXIsIGZpbHRlckFyciBhcyBmbGF0RmlsdGVyQXJyLCBpbnNlcnQgYXMgZmxhdEluc2VydCwgcmVtb3ZlRG9jdW1lbnQgYXMgZmxhdFJlbW92ZURvY3VtZW50IH0gZnJvbSAnLi4vdHJlZXMvZmxhdC5qcyc7XG5pbXBvcnQgeyBjcmVhdGUgYXMgcmFkaXhDcmVhdGUsIGZpbmQgYXMgcmFkaXhGaW5kLCBpbnNlcnQgYXMgcmFkaXhJbnNlcnQsIHJlbW92ZURvY3VtZW50QnlXb3JkIGFzIHJhZGl4UmVtb3ZlRG9jdW1lbnQgfSBmcm9tICcuLi90cmVlcy9yYWRpeC5qcyc7XG5pbXBvcnQgeyBjcmVhdGUgYXMgYmtkQ3JlYXRlLCBpbnNlcnQgYXMgYmtkSW5zZXJ0LCByZW1vdmVEb2NCeUlEIGFzIGJrZFJlbW92ZURvY0J5SUQsIHNlYXJjaEJ5UmFkaXVzLCBzZWFyY2hCeVBvbHlnb24gfSBmcm9tICcuLi90cmVlcy9ia2QuanMnO1xuaW1wb3J0IHsgY29udmVydERpc3RhbmNlVG9NZXRlcnMsIGludGVyc2VjdCwgc2FmZUFycmF5UHVzaCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IEJNMjUgfSBmcm9tICcuL2FsZ29yaXRobXMuanMnO1xuaW1wb3J0IHsgZ2V0TWFnbml0dWRlIH0gZnJvbSAnLi9jb3NpbmUtc2ltaWxhcml0eS5qcyc7XG5pbXBvcnQgeyBnZXRJbm5lclR5cGUsIGdldFZlY3RvclNpemUsIGlzQXJyYXlUeXBlLCBpc1ZlY3RvclR5cGUgfSBmcm9tICcuL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IGdldEludGVybmFsRG9jdW1lbnRJZCB9IGZyb20gJy4vaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydERvY3VtZW50U2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCBpZCwgdG9rZW5zLCBkb2NzQ291bnQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGluZGV4LmF2Z0ZpZWxkTGVuZ3RoW3Byb3BdID0gKChpbmRleC5hdmdGaWVsZExlbmd0aFtwcm9wXSA/PyAwKSAqIChkb2NzQ291bnQgLSAxKSArIHRva2Vucy5sZW5ndGgpIC8gZG9jc0NvdW50O1xuICAgIGluZGV4LmZpZWxkTGVuZ3Roc1twcm9wXVtpbnRlcm5hbElkXSA9IHRva2Vucy5sZW5ndGg7XG4gICAgaW5kZXguZnJlcXVlbmNpZXNbcHJvcF1baW50ZXJuYWxJZF0gPSB7fTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnNlcnRUb2tlblNjb3JlUGFyYW1ldGVycyhpbmRleCwgcHJvcCwgaWQsIHRva2VucywgdG9rZW4pIHtcbiAgICBsZXQgdG9rZW5GcmVxdWVuY3kgPSAwO1xuICAgIGZvciAoY29uc3QgdCBvZiB0b2tlbnMpe1xuICAgICAgICBpZiAodCA9PT0gdG9rZW4pIHtcbiAgICAgICAgICAgIHRva2VuRnJlcXVlbmN5Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChpbmRleC5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBjb25zdCB0ZiA9IHRva2VuRnJlcXVlbmN5IC8gdG9rZW5zLmxlbmd0aDtcbiAgICBpbmRleC5mcmVxdWVuY2llc1twcm9wXVtpbnRlcm5hbElkXVt0b2tlbl0gPSB0ZjtcbiAgICBpZiAoISh0b2tlbiBpbiBpbmRleC50b2tlbk9jY3VycmVuY2VzW3Byb3BdKSkge1xuICAgICAgICBpbmRleC50b2tlbk9jY3VycmVuY2VzW3Byb3BdW3Rva2VuXSA9IDA7XG4gICAgfVxuICAgIC8vIGluY3JlYXNlIGEgdG9rZW4gY291bnRlciB0aGF0IG1heSBub3QgeWV0IGV4aXN0XG4gICAgaW5kZXgudG9rZW5PY2N1cnJlbmNlc1twcm9wXVt0b2tlbl0gPSAoaW5kZXgudG9rZW5PY2N1cnJlbmNlc1twcm9wXVt0b2tlbl0gPz8gMCkgKyAxO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZURvY3VtZW50U2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCBpZCwgZG9jc0NvdW50KSB7XG4gICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChpbmRleC5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBpbmRleC5hdmdGaWVsZExlbmd0aFtwcm9wXSA9IChpbmRleC5hdmdGaWVsZExlbmd0aFtwcm9wXSAqIGRvY3NDb3VudCAtIGluZGV4LmZpZWxkTGVuZ3Roc1twcm9wXVtpbnRlcm5hbElkXSkgLyAoZG9jc0NvdW50IC0gMSk7XG4gICAgaW5kZXguZmllbGRMZW5ndGhzW3Byb3BdW2ludGVybmFsSWRdID0gdW5kZWZpbmVkO1xuICAgIGluZGV4LmZyZXF1ZW5jaWVzW3Byb3BdW2ludGVybmFsSWRdID0gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZVRva2VuU2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCB0b2tlbikge1xuICAgIGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcHJvcF1bdG9rZW5dLS07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FsY3VsYXRlUmVzdWx0U2NvcmVzKGNvbnRleHQsIGluZGV4LCBwcm9wLCB0ZXJtLCBpZHMpIHtcbiAgICBjb25zdCBkb2N1bWVudElEcyA9IEFycmF5LmZyb20oaWRzKTtcbiAgICAvLyBFeGFjdCBmaWVsZHMgZm9yIFRGLUlERlxuICAgIGNvbnN0IGF2Z0ZpZWxkTGVuZ3RoID0gaW5kZXguYXZnRmllbGRMZW5ndGhbcHJvcF07XG4gICAgY29uc3QgZmllbGRMZW5ndGhzID0gaW5kZXguZmllbGRMZW5ndGhzW3Byb3BdO1xuICAgIGNvbnN0IG9yYW1hT2NjdXJyZW5jZXMgPSBpbmRleC50b2tlbk9jY3VycmVuY2VzW3Byb3BdO1xuICAgIGNvbnN0IG9yYW1hRnJlcXVlbmNpZXMgPSBpbmRleC5mcmVxdWVuY2llc1twcm9wXTtcbiAgICAvLyBvcmFtYU9jY3VycmVuY2VzW3Rlcm1dIGNhbiBiZSB1bmRlZmluZWQsIDAsIHN0cmluZywgb3IgeyBbazogc3RyaW5nXTogbnVtYmVyIH1cbiAgICBjb25zdCB0ZXJtT2NjdXJyZW5jZXMgPSB0eXBlb2Ygb3JhbWFPY2N1cnJlbmNlc1t0ZXJtXSA9PT0gJ251bWJlcicgPyBvcmFtYU9jY3VycmVuY2VzW3Rlcm1dID8/IDAgOiAwO1xuICAgIGNvbnN0IHNjb3JlTGlzdCA9IFtdO1xuICAgIC8vIENhbGN1bGF0ZSBURi1JREYgdmFsdWUgZm9yIGVhY2ggdGVybSwgaW4gZWFjaCBkb2N1bWVudCwgZm9yIGVhY2ggaW5kZXguXG4gICAgY29uc3QgZG9jdW1lbnRJRHNMZW5ndGggPSBkb2N1bWVudElEcy5sZW5ndGg7XG4gICAgZm9yKGxldCBrID0gMDsgayA8IGRvY3VtZW50SURzTGVuZ3RoOyBrKyspe1xuICAgICAgICB2YXIgX29yYW1hRnJlcXVlbmNpZXNfaW50ZXJuYWxJZDtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChpbmRleC5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGRvY3VtZW50SURzW2tdKTtcbiAgICAgICAgY29uc3QgdGYgPSAob3JhbWFGcmVxdWVuY2llcyA9PT0gbnVsbCB8fCBvcmFtYUZyZXF1ZW5jaWVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29yYW1hRnJlcXVlbmNpZXNfaW50ZXJuYWxJZCA9IG9yYW1hRnJlcXVlbmNpZXNbaW50ZXJuYWxJZF0pID09PSBudWxsIHx8IF9vcmFtYUZyZXF1ZW5jaWVzX2ludGVybmFsSWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcmFtYUZyZXF1ZW5jaWVzX2ludGVybmFsSWRbdGVybV0pID8/IDA7XG4gICAgICAgIGNvbnN0IGJtMjUgPSBCTTI1KHRmLCB0ZXJtT2NjdXJyZW5jZXMsIGNvbnRleHQuZG9jc0NvdW50LCBmaWVsZExlbmd0aHNbaW50ZXJuYWxJZF0sIGF2Z0ZpZWxkTGVuZ3RoLCBjb250ZXh0LnBhcmFtcy5yZWxldmFuY2UpO1xuICAgICAgICBzY29yZUxpc3QucHVzaChbXG4gICAgICAgICAgICBpbnRlcm5hbElkLFxuICAgICAgICAgICAgYm0yNVxuICAgICAgICBdKTtcbiAgICB9XG4gICAgcmV0dXJuIHNjb3JlTGlzdDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGUob3JhbWEsIHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgc2NoZW1hLCBpbmRleCwgcHJlZml4ID0gJycpIHtcbiAgICBpZiAoIWluZGV4KSB7XG4gICAgICAgIGluZGV4ID0ge1xuICAgICAgICAgICAgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICAgICAgaW5kZXhlczoge30sXG4gICAgICAgICAgICB2ZWN0b3JJbmRleGVzOiB7fSxcbiAgICAgICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzOiBbXSxcbiAgICAgICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzOiB7fSxcbiAgICAgICAgICAgIGZyZXF1ZW5jaWVzOiB7fSxcbiAgICAgICAgICAgIHRva2VuT2NjdXJyZW5jZXM6IHt9LFxuICAgICAgICAgICAgYXZnRmllbGRMZW5ndGg6IHt9LFxuICAgICAgICAgICAgZmllbGRMZW5ndGhzOiB7fVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtwcm9wLCB0eXBlXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEpKXtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAke3ByZWZpeH0ke3ByZWZpeCA/ICcuJyA6ICcnfSR7cHJvcH1gO1xuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICAgICAgICAvLyBOZXN0ZWRcbiAgICAgICAgICAgIGNyZWF0ZShvcmFtYSwgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCB0eXBlLCBpbmRleCwgcGF0aCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNWZWN0b3JUeXBlKHR5cGUpKSB7XG4gICAgICAgICAgICBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllcy5wdXNoKHBhdGgpO1xuICAgICAgICAgICAgaW5kZXguc2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXNbcGF0aF0gPSB0eXBlO1xuICAgICAgICAgICAgaW5kZXgudmVjdG9ySW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICBzaXplOiBnZXRWZWN0b3JTaXplKHR5cGUpLFxuICAgICAgICAgICAgICAgIHZlY3RvcnM6IHt9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaXNBcnJheSA9IC9cXFsvLnRlc3QodHlwZSk7XG4gICAgICAgICAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbltdJzpcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguaW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdCb29sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZTogW11cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyW10nOlxuICAgICAgICAgICAgICAgICAgICBpbmRleC5pbmRleGVzW3BhdGhdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0FWTCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiBhdmxDcmVhdGUoMCwgW10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcnJheVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZ1tdJzpcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguaW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdSYWRpeCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiByYWRpeENyZWF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcnJheVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpbmRleC5hdmdGaWVsZExlbmd0aFtwYXRoXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LmZyZXF1ZW5jaWVzW3BhdGhdID0ge307XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcGF0aF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguZmllbGRMZW5ndGhzW3BhdGhdID0ge307XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW0nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW1bXSc6XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LmluZGV4ZXNbcGF0aF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnRmxhdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiBmbGF0Q3JlYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2dlb3BvaW50JzpcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguaW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdCS0QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogYmtkQ3JlYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX1NDSEVNQV9UWVBFJywgQXJyYXkuaXNBcnJheSh0eXBlKSA/ICdhcnJheScgOiB0eXBlLCBwYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4LnNlYXJjaGFibGVQcm9wZXJ0aWVzLnB1c2gocGF0aCk7XG4gICAgICAgICAgICBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlc1twYXRoXSA9IHR5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xufVxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0U2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGNvbnN0IHsgdHlwZSAsIG5vZGUgIH0gPSBpbmRleC5pbmRleGVzW3Byb3BdO1xuICAgIHN3aXRjaCh0eXBlKXtcbiAgICAgICAgY2FzZSAnQm9vbCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbm9kZVt2YWx1ZSA/ICd0cnVlJyA6ICdmYWxzZSddLnB1c2goaW50ZXJuYWxJZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0FWTCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXZsSW5zZXJ0KG5vZGUsIHZhbHVlLCBbXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsSWRcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnUmFkaXgnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IHRva2VuaXplci50b2tlbml6ZSh2YWx1ZSwgbGFuZ3VhZ2UsIHByb3ApO1xuICAgICAgICAgICAgICAgIGF3YWl0IGltcGxlbWVudGF0aW9uLmluc2VydERvY3VtZW50U2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCBpbnRlcm5hbElkLCB0b2tlbnMsIGRvY3NDb3VudCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiB0b2tlbnMpe1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBpbXBsZW1lbnRhdGlvbi5pbnNlcnRUb2tlblNjb3JlUGFyYW1ldGVycyhpbmRleCwgcHJvcCwgaW50ZXJuYWxJZCwgdG9rZW5zLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHJhZGl4SW5zZXJ0KG5vZGUsIHRva2VuLCBpbnRlcm5hbElkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0ZsYXQnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZsYXRJbnNlcnQobm9kZSwgdmFsdWUsIGludGVybmFsSWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdCS0QnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJrZEluc2VydChub2RlLCB2YWx1ZSwgW1xuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbElkXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydChpbXBsZW1lbnRhdGlvbiwgaW5kZXgsIHByb3AsIGlkLCB2YWx1ZSwgc2NoZW1hVHlwZSwgbGFuZ3VhZ2UsIHRva2VuaXplciwgZG9jc0NvdW50KSB7XG4gICAgaWYgKGlzVmVjdG9yVHlwZShzY2hlbWFUeXBlKSkge1xuICAgICAgICByZXR1cm4gaW5zZXJ0VmVjdG9yKGluZGV4LCBwcm9wLCB2YWx1ZSwgaWQpO1xuICAgIH1cbiAgICBpZiAoIWlzQXJyYXlUeXBlKHNjaGVtYVR5cGUpKSB7XG4gICAgICAgIHJldHVybiBpbnNlcnRTY2FsYXIoaW1wbGVtZW50YXRpb24sIGluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIHNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxuICAgIGNvbnN0IGlubmVyU2NoZW1hVHlwZSA9IGdldElubmVyVHlwZShzY2hlbWFUeXBlKTtcbiAgICBjb25zdCBlbGVtZW50cyA9IHZhbHVlO1xuICAgIGNvbnN0IGVsZW1lbnRzTGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBlbGVtZW50c0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgaW5zZXJ0U2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIGVsZW1lbnRzW2ldLCBpbm5lclNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5zZXJ0VmVjdG9yKGluZGV4LCBwcm9wLCB2YWx1ZSwgaWQpIHtcbiAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkpIHtcbiAgICAgICAgdmFsdWUgPSBuZXcgRmxvYXQzMkFycmF5KHZhbHVlKTtcbiAgICB9XG4gICAgY29uc3Qgc2l6ZSA9IGluZGV4LnZlY3RvckluZGV4ZXNbcHJvcF0uc2l6ZTtcbiAgICBjb25zdCBtYWduaXR1ZGUgPSBnZXRNYWduaXR1ZGUodmFsdWUsIHNpemUpO1xuICAgIGluZGV4LnZlY3RvckluZGV4ZXNbcHJvcF0udmVjdG9yc1tpZF0gPSBbXG4gICAgICAgIG1hZ25pdHVkZSxcbiAgICAgICAgdmFsdWVcbiAgICBdO1xufVxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlU2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGlmIChpc1ZlY3RvclR5cGUoc2NoZW1hVHlwZSkpIHtcbiAgICAgICAgZGVsZXRlIGluZGV4LnZlY3RvckluZGV4ZXNbcHJvcF0udmVjdG9yc1tpZF07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB7IHR5cGUgLCBub2RlICB9ID0gaW5kZXguaW5kZXhlc1twcm9wXTtcbiAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgIGNhc2UgJ0FWTCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXZsUmVtb3ZlRG9jdW1lbnQobm9kZSwgaW50ZXJuYWxJZCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdCb29sJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib29sZWFuS2V5ID0gdmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gbm9kZVtib29sZWFuS2V5XS5pbmRleE9mKGludGVybmFsSWQpO1xuICAgICAgICAgICAgICAgIG5vZGVbdmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnXS5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdSYWRpeCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gYXdhaXQgdG9rZW5pemVyLnRva2VuaXplKHZhbHVlLCBsYW5ndWFnZSwgcHJvcCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgaW1wbGVtZW50YXRpb24ucmVtb3ZlRG9jdW1lbnRTY29yZVBhcmFtZXRlcnMoaW5kZXgsIHByb3AsIGlkLCBkb2NzQ291bnQpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKXtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaW1wbGVtZW50YXRpb24ucmVtb3ZlVG9rZW5TY29yZVBhcmFtZXRlcnMoaW5kZXgsIHByb3AsIHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgcmFkaXhSZW1vdmVEb2N1bWVudChub2RlLCB0b2tlbiwgaW50ZXJuYWxJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdGbGF0JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmbGF0UmVtb3ZlRG9jdW1lbnQobm9kZSwgaW50ZXJuYWxJZCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdCS0QnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJrZFJlbW92ZURvY0J5SUQobm9kZSwgdmFsdWUsIGludGVybmFsSWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQpIHtcbiAgICBpZiAoIWlzQXJyYXlUeXBlKHNjaGVtYVR5cGUpKSB7XG4gICAgICAgIHJldHVybiByZW1vdmVTY2FsYXIoaW1wbGVtZW50YXRpb24sIGluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIHNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxuICAgIGNvbnN0IGlubmVyU2NoZW1hVHlwZSA9IGdldElubmVyVHlwZShzY2hlbWFUeXBlKTtcbiAgICBjb25zdCBlbGVtZW50cyA9IHZhbHVlO1xuICAgIGNvbnN0IGVsZW1lbnRzTGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBlbGVtZW50c0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgcmVtb3ZlU2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIGVsZW1lbnRzW2ldLCBpbm5lclNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaChjb250ZXh0LCBpbmRleCwgcHJvcCwgdGVybSkge1xuICAgIGlmICghKHByb3AgaW4gaW5kZXgudG9rZW5PY2N1cnJlbmNlcykpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCB7IG5vZGUgLCB0eXBlICB9ID0gaW5kZXguaW5kZXhlc1twcm9wXTtcbiAgICBpZiAodHlwZSAhPT0gJ1JhZGl4Jykge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignV1JPTkdfU0VBUkNIX1BST1BFUlRZX1RZUEUnLCBwcm9wKTtcbiAgICB9XG4gICAgY29uc3QgeyBleGFjdCAsIHRvbGVyYW5jZSAgfSA9IGNvbnRleHQucGFyYW1zO1xuICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHJhZGl4RmluZChub2RlLCB7XG4gICAgICAgIHRlcm0sXG4gICAgICAgIGV4YWN0LFxuICAgICAgICB0b2xlcmFuY2VcbiAgICB9KTtcbiAgICBjb25zdCBpZHMgPSBuZXcgU2V0KCk7XG4gICAgZm9yKGNvbnN0IGtleSBpbiBzZWFyY2hSZXN1bHQpe1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHNlYXJjaFJlc3VsdFtrZXldKXtcbiAgICAgICAgICAgIGlkcy5hZGQoaWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LmluZGV4LmNhbGN1bGF0ZVJlc3VsdFNjb3Jlcyhjb250ZXh0LCBpbmRleCwgcHJvcCwgdGVybSwgQXJyYXkuZnJvbShpZHMpKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hCeVdoZXJlQ2xhdXNlKGNvbnRleHQsIGluZGV4LCBmaWx0ZXJzKSB7XG4gICAgY29uc3QgZmlsdGVyS2V5cyA9IE9iamVjdC5rZXlzKGZpbHRlcnMpO1xuICAgIGNvbnN0IGZpbHRlcnNNYXAgPSBmaWx0ZXJLZXlzLnJlZHVjZSgoYWNjLCBrZXkpPT4oe1xuICAgICAgICAgICAgW2tleV06IFtdLFxuICAgICAgICAgICAgLi4uYWNjXG4gICAgICAgIH0pLCB7fSk7XG4gICAgZm9yIChjb25zdCBwYXJhbSBvZiBmaWx0ZXJLZXlzKXtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gZmlsdGVyc1twYXJhbV07XG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXguaW5kZXhlc1twYXJhbV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5LTk9XTl9GSUxURVJfUFJPUEVSVFknLCBwYXJhbSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBub2RlICwgdHlwZSAsIGlzQXJyYXkgIH0gPSBpbmRleC5pbmRleGVzW3BhcmFtXTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdCb29sJykge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gbm9kZTtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkSURzID0gaWR4W29wZXJhdGlvbi50b1N0cmluZygpXTtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2goZmlsdGVyc01hcFtwYXJhbV0sIGZpbHRlcmVkSURzKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnQktEJykge1xuICAgICAgICAgICAgbGV0IHJlcU9wZXJhdGlvbjtcbiAgICAgICAgICAgIGlmICgncmFkaXVzJyBpbiBvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXFPcGVyYXRpb24gPSAncmFkaXVzJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJ3BvbHlnb24nIGluIG9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHJlcU9wZXJhdGlvbiA9ICdwb2x5Z29uJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG9wZXJhdGlvbiAke29wZXJhdGlvbn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXFPcGVyYXRpb24gPT09ICdyYWRpdXMnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSAsIGNvb3JkaW5hdGVzICwgdW5pdCA9J20nICwgaW5zaWRlID10cnVlICwgaGlnaFByZWNpc2lvbiA9ZmFsc2UgIH0gPSBvcGVyYXRpb25bcmVxT3BlcmF0aW9uXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZUluTWV0ZXJzID0gY29udmVydERpc3RhbmNlVG9NZXRlcnModmFsdWUsIHVuaXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkcyA9IHNlYXJjaEJ5UmFkaXVzKG5vZGUucm9vdCwgY29vcmRpbmF0ZXMsIGRpc3RhbmNlSW5NZXRlcnMsIGluc2lkZSwgdW5kZWZpbmVkLCBoaWdoUHJlY2lzaW9uKTtcbiAgICAgICAgICAgICAgICAvLyBAdG9kbzogY29udmVydCB0aGlzIGludG8gYSBmb3IgbG9vcFxuICAgICAgICAgICAgICAgIHNhZmVBcnJheVB1c2goZmlsdGVyc01hcFtwYXJhbV0sIGlkcy5tYXAoKHsgZG9jSURzICB9KT0+ZG9jSURzKS5mbGF0KCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvb3JkaW5hdGVzICwgaW5zaWRlID10cnVlICwgaGlnaFByZWNpc2lvbiA9ZmFsc2UgIH0gPSBvcGVyYXRpb25bcmVxT3BlcmF0aW9uXTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZHMgPSBzZWFyY2hCeVBvbHlnb24obm9kZS5yb290LCBjb29yZGluYXRlcywgaW5zaWRlLCB1bmRlZmluZWQsIGhpZ2hQcmVjaXNpb24pO1xuICAgICAgICAgICAgICAgIC8vIEB0b2RvOiBjb252ZXJ0IHRoaXMgaW50byBhIGZvciBsb29wXG4gICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChmaWx0ZXJzTWFwW3BhcmFtXSwgaWRzLm1hcCgoeyBkb2NJRHMgIH0pPT5kb2NJRHMpLmZsYXQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ1JhZGl4JyAmJiAodHlwZW9mIG9wZXJhdGlvbiA9PT0gJ3N0cmluZycgfHwgQXJyYXkuaXNBcnJheShvcGVyYXRpb24pKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCByYXcgb2YgW1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvblxuICAgICAgICAgICAgXS5mbGF0KCkpe1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlcm0gPSBhd2FpdCBjb250ZXh0LnRva2VuaXplci50b2tlbml6ZShyYXcsIGNvbnRleHQubGFuZ3VhZ2UsIHBhcmFtKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdGVybSl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkSURzUmVzdWx0cyA9IHJhZGl4RmluZChub2RlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtOiB0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNhZmVBcnJheVB1c2goZmlsdGVyc01hcFtwYXJhbV0sIE9iamVjdC52YWx1ZXMoZmlsdGVyZWRJRHNSZXN1bHRzKS5mbGF0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbktleXMgPSBPYmplY3Qua2V5cyhvcGVyYXRpb24pO1xuICAgICAgICBpZiAob3BlcmF0aW9uS2V5cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9GSUxURVJfT1BFUkFUSU9OJywgb3BlcmF0aW9uS2V5cy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnRmxhdCcpIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChmaWx0ZXJzTWFwW3BhcmFtXSwgZmxhdEZpbHRlckFycihub2RlLCBvcGVyYXRpb24pKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChmaWx0ZXJzTWFwW3BhcmFtXSwgZmxhdEZpbHRlcihub2RlLCBvcGVyYXRpb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnQVZMJykge1xuICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uT3B0ID0gb3BlcmF0aW9uS2V5c1swXTtcbiAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvblZhbHVlID0gb3BlcmF0aW9uW29wZXJhdGlvbk9wdF07XG4gICAgICAgICAgICBsZXQgZmlsdGVyZWRJRHMgPSBbXTtcbiAgICAgICAgICAgIHN3aXRjaChvcGVyYXRpb25PcHQpe1xuICAgICAgICAgICAgICAgIGNhc2UgJ2d0JzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRJRHMgPSBhdmxHcmVhdGVyVGhhbihub2RlLCBvcGVyYXRpb25WYWx1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdndGUnOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZElEcyA9IGF2bEdyZWF0ZXJUaGFuKG5vZGUsIG9wZXJhdGlvblZhbHVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnbHQnOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZElEcyA9IGF2bExlc3NUaGFuKG5vZGUsIG9wZXJhdGlvblZhbHVlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2x0ZSc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkSURzID0gYXZsTGVzc1RoYW4obm9kZSwgb3BlcmF0aW9uVmFsdWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdlcSc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkSURzID0gYXZsRmluZChub2RlLCBvcGVyYXRpb25WYWx1ZSkgPz8gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2JldHdlZW4nOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbbWluLCBtYXhdID0gb3BlcmF0aW9uVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZElEcyA9IGF2bFJhbmdlU2VhcmNoKG5vZGUsIG1pbiwgbWF4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYWZlQXJyYXlQdXNoKGZpbHRlcnNNYXBbcGFyYW1dLCBmaWx0ZXJlZElEcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQU5EIG9wZXJhdGlvbjogY2FsY3VsYXRlIHRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhbGwgdGhlIElEcyBpbiBmaWx0ZXJNYXBcbiAgICBjb25zdCByZXN1bHQgPSBpbnRlcnNlY3QoT2JqZWN0LnZhbHVlcyhmaWx0ZXJzTWFwKSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZWFyY2hhYmxlUHJvcGVydGllcyhpbmRleCkge1xuICAgIHJldHVybiBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllcztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyhpbmRleCkge1xuICAgIHJldHVybiBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcztcbn1cbmZ1bmN0aW9uIGxvYWRSYWRpeE5vZGUobm9kZSkge1xuICAgIGNvbnN0IGNvbnZlcnRlZE5vZGUgPSByYWRpeENyZWF0ZShub2RlLmUsIG5vZGUucywgbm9kZS5rKTtcbiAgICBjb252ZXJ0ZWROb2RlLmQgPSBub2RlLmQ7XG4gICAgY29udmVydGVkTm9kZS53ID0gbm9kZS53O1xuICAgIGZvciAoY29uc3QgY2hpbGRyZW5LZXkgb2YgT2JqZWN0LmtleXMobm9kZS5jKSl7XG4gICAgICAgIGNvbnZlcnRlZE5vZGUuY1tjaGlsZHJlbktleV0gPSBsb2FkUmFkaXhOb2RlKG5vZGUuY1tjaGlsZHJlbktleV0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udmVydGVkTm9kZTtcbn1cbmZ1bmN0aW9uIGxvYWRGbGF0Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbnVtYmVyVG9Eb2N1bWVudElkOiBuZXcgTWFwKG5vZGUpXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNhdmVGbGF0Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20obm9kZS5udW1iZXJUb0RvY3VtZW50SWQuZW50cmllcygpKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkKHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgcmF3KSB7XG4gICAgY29uc3QgeyBpbmRleGVzOiByYXdJbmRleGVzICwgdmVjdG9ySW5kZXhlczogcmF3VmVjdG9ySW5kZXhlcyAsIHNlYXJjaGFibGVQcm9wZXJ0aWVzICwgc2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMgLCBmcmVxdWVuY2llcyAsIHRva2VuT2NjdXJyZW5jZXMgLCBhdmdGaWVsZExlbmd0aCAsIGZpZWxkTGVuZ3RocyAgfSA9IHJhdztcbiAgICBjb25zdCBpbmRleGVzID0ge307XG4gICAgY29uc3QgdmVjdG9ySW5kZXhlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBPYmplY3Qua2V5cyhyYXdJbmRleGVzKSl7XG4gICAgICAgIGNvbnN0IHsgbm9kZSAsIHR5cGUgLCBpc0FycmF5ICB9ID0gcmF3SW5kZXhlc1twcm9wXTtcbiAgICAgICAgc3dpdGNoKHR5cGUpe1xuICAgICAgICAgICAgY2FzZSAnUmFkaXgnOlxuICAgICAgICAgICAgICAgIGluZGV4ZXNbcHJvcF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdSYWRpeCcsXG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IGxvYWRSYWRpeE5vZGUobm9kZSksXG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRmxhdCc6XG4gICAgICAgICAgICAgICAgaW5kZXhlc1twcm9wXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0ZsYXQnLFxuICAgICAgICAgICAgICAgICAgICBub2RlOiBsb2FkRmxhdE5vZGUobm9kZSksXG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpbmRleGVzW3Byb3BdID0gcmF3SW5kZXhlc1twcm9wXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGlkeCBvZiBPYmplY3Qua2V5cyhyYXdWZWN0b3JJbmRleGVzKSl7XG4gICAgICAgIGNvbnN0IHZlY3RvcnMgPSByYXdWZWN0b3JJbmRleGVzW2lkeF0udmVjdG9ycztcbiAgICAgICAgZm9yKGNvbnN0IHZlYyBpbiB2ZWN0b3JzKXtcbiAgICAgICAgICAgIHZlY3RvcnNbdmVjXSA9IFtcbiAgICAgICAgICAgICAgICB2ZWN0b3JzW3ZlY11bMF0sXG4gICAgICAgICAgICAgICAgbmV3IEZsb2F0MzJBcnJheSh2ZWN0b3JzW3ZlY11bMV0pXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHZlY3RvckluZGV4ZXNbaWR4XSA9IHtcbiAgICAgICAgICAgIHNpemU6IHJhd1ZlY3RvckluZGV4ZXNbaWR4XS5zaXplLFxuICAgICAgICAgICAgdmVjdG9yc1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsXG4gICAgICAgIGluZGV4ZXMsXG4gICAgICAgIHZlY3RvckluZGV4ZXMsXG4gICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzLFxuICAgICAgICBzZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgZnJlcXVlbmNpZXMsXG4gICAgICAgIHRva2VuT2NjdXJyZW5jZXMsXG4gICAgICAgIGF2Z0ZpZWxkTGVuZ3RoLFxuICAgICAgICBmaWVsZExlbmd0aHNcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmUoaW5kZXgpIHtcbiAgICBjb25zdCB7IGluZGV4ZXMgLCB2ZWN0b3JJbmRleGVzICwgc2VhcmNoYWJsZVByb3BlcnRpZXMgLCBzZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyAsIGZyZXF1ZW5jaWVzICwgdG9rZW5PY2N1cnJlbmNlcyAsIGF2Z0ZpZWxkTGVuZ3RoICwgZmllbGRMZW5ndGhzICB9ID0gaW5kZXg7XG4gICAgY29uc3QgdmVjdG9ySW5kZXhlc0FzQXJyYXlzID0ge307XG4gICAgZm9yIChjb25zdCBpZHggb2YgT2JqZWN0LmtleXModmVjdG9ySW5kZXhlcykpe1xuICAgICAgICBjb25zdCB2ZWN0b3JzID0gdmVjdG9ySW5kZXhlc1tpZHhdLnZlY3RvcnM7XG4gICAgICAgIGZvcihjb25zdCB2ZWMgaW4gdmVjdG9ycyl7XG4gICAgICAgICAgICB2ZWN0b3JzW3ZlY10gPSBbXG4gICAgICAgICAgICAgICAgdmVjdG9yc1t2ZWNdWzBdLFxuICAgICAgICAgICAgICAgIEFycmF5LmZyb20odmVjdG9yc1t2ZWNdWzFdKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICB2ZWN0b3JJbmRleGVzQXNBcnJheXNbaWR4XSA9IHtcbiAgICAgICAgICAgIHNpemU6IHZlY3RvckluZGV4ZXNbaWR4XS5zaXplLFxuICAgICAgICAgICAgdmVjdG9yc1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHNhdmVkSW5kZXhlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3Qua2V5cyhpbmRleGVzKSl7XG4gICAgICAgIGNvbnN0IHsgdHlwZSAsIG5vZGUgLCBpc0FycmF5ICB9ID0gaW5kZXhlc1tuYW1lXTtcbiAgICAgICAgaWYgKHR5cGUgIT09ICdGbGF0Jykge1xuICAgICAgICAgICAgc2F2ZWRJbmRleGVzW25hbWVdID0gaW5kZXhlc1tuYW1lXTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHNhdmVkSW5kZXhlc1tuYW1lXSA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdGbGF0JyxcbiAgICAgICAgICAgIG5vZGU6IHNhdmVGbGF0Tm9kZShub2RlKSxcbiAgICAgICAgICAgIGlzQXJyYXlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5kZXhlczogc2F2ZWRJbmRleGVzLFxuICAgICAgICB2ZWN0b3JJbmRleGVzOiB2ZWN0b3JJbmRleGVzQXNBcnJheXMsXG4gICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzLFxuICAgICAgICBzZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgZnJlcXVlbmNpZXMsXG4gICAgICAgIHRva2VuT2NjdXJyZW5jZXMsXG4gICAgICAgIGF2Z0ZpZWxkTGVuZ3RoLFxuICAgICAgICBmaWVsZExlbmd0aHNcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUluZGV4KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZSxcbiAgICAgICAgaW5zZXJ0LFxuICAgICAgICByZW1vdmUsXG4gICAgICAgIGluc2VydERvY3VtZW50U2NvcmVQYXJhbWV0ZXJzLFxuICAgICAgICBpbnNlcnRUb2tlblNjb3JlUGFyYW1ldGVycyxcbiAgICAgICAgcmVtb3ZlRG9jdW1lbnRTY29yZVBhcmFtZXRlcnMsXG4gICAgICAgIHJlbW92ZVRva2VuU2NvcmVQYXJhbWV0ZXJzLFxuICAgICAgICBjYWxjdWxhdGVSZXN1bHRTY29yZXMsXG4gICAgICAgIHNlYXJjaCxcbiAgICAgICAgc2VhcmNoQnlXaGVyZUNsYXVzZSxcbiAgICAgICAgZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXMsXG4gICAgICAgIGdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzLFxuICAgICAgICBsb2FkLFxuICAgICAgICBzYXZlXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgaXNWZWN0b3JUeXBlIH0gZnJvbSAnLi9kZWZhdWx0cy5qcyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbERvY3VtZW50SWQgfSBmcm9tICcuL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzJztcbmltcG9ydCB7IHNhZmVBcnJheVB1c2ggfSBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmZ1bmN0aW9uIGlubmVyQ3JlYXRlKG9yYW1hLCBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSwgc29ydGFibGVEZW5pZWRQcm9wZXJ0aWVzLCBwcmVmaXgpIHtcbiAgICBjb25zdCBzb3J0ZXIgPSB7XG4gICAgICAgIGxhbmd1YWdlOiBvcmFtYS50b2tlbml6ZXIubGFuZ3VhZ2UsXG4gICAgICAgIHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSxcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgaXNTb3J0ZWQ6IHRydWUsXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllczogW10sXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlczoge30sXG4gICAgICAgIHNvcnRzOiB7fVxuICAgIH07XG4gICAgZm9yIChjb25zdCBbcHJvcCwgdHlwZV0gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hKSl7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgJHtwcmVmaXh9JHtwcmVmaXggPyAnLicgOiAnJ30ke3Byb3B9YDtcbiAgICAgICAgaWYgKHNvcnRhYmxlRGVuaWVkUHJvcGVydGllcy5pbmNsdWRlcyhwYXRoKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICAgICAgLy8gTmVzdGVkXG4gICAgICAgICAgICBjb25zdCByZXQgPSBpbm5lckNyZWF0ZShvcmFtYSwgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCB0eXBlLCBzb3J0YWJsZURlbmllZFByb3BlcnRpZXMsIHBhdGgpO1xuICAgICAgICAgICAgc2FmZUFycmF5UHVzaChzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzLCByZXQuc29ydGFibGVQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIHNvcnRlci5zb3J0cyA9IHtcbiAgICAgICAgICAgICAgICAuLi5zb3J0ZXIuc29ydHMsXG4gICAgICAgICAgICAgICAgLi4ucmV0LnNvcnRzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc29ydGVyLnNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlcyA9IHtcbiAgICAgICAgICAgICAgICAuLi5zb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzLFxuICAgICAgICAgICAgICAgIC4uLnJldC5zb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVmVjdG9yVHlwZSh0eXBlKSkge1xuICAgICAgICAgICAgc3dpdGNoKHR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgc29ydGVyLnNvcnRhYmxlUHJvcGVydGllcy5wdXNoKHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzW3BhdGhdID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgc29ydGVyLnNvcnRzW3BhdGhdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jczogbmV3IE1hcCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJlZERvY3NUb1JlbW92ZTogbmV3IE1hcCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJlZERvY3M6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdnZW9wb2ludCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZW51bSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW1bXSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbltdJzpcbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXJbXSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nW10nOlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9TT1JUX1NDSEVNQV9UWVBFJywgQXJyYXkuaXNBcnJheSh0eXBlKSA/ICdhcnJheScgOiB0eXBlLCBwYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc29ydGVyO1xufVxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlKG9yYW1hLCBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSwgY29uZmlnKSB7XG4gICAgY29uc3QgaXNTb3J0RW5hYmxlZCA9IChjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcuZW5hYmxlZCkgIT09IGZhbHNlO1xuICAgIGlmICghaXNTb3J0RW5hYmxlZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGlubmVyQ3JlYXRlKG9yYW1hLCBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSwgKGNvbmZpZyB8fCB7fSkudW5zb3J0YWJsZVByb3BlcnRpZXMgfHwgW10sICcnKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGluc2VydChzb3J0ZXIsIHByb3AsIGlkLCB2YWx1ZSkge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzb3J0ZXIuaXNTb3J0ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHNvcnRlci5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBjb25zdCBzID0gc29ydGVyLnNvcnRzW3Byb3BdO1xuICAgIHMuZG9jcy5zZXQoaW50ZXJuYWxJZCwgcy5vcmRlcmVkRG9jcy5sZW5ndGgpO1xuICAgIHMub3JkZXJlZERvY3MucHVzaChbXG4gICAgICAgIGludGVybmFsSWQsXG4gICAgICAgIHZhbHVlXG4gICAgXSk7XG59XG5mdW5jdGlvbiBlbnN1cmVJc1NvcnRlZChzb3J0ZXIpIHtcbiAgICBpZiAoc29ydGVyLmlzU29ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzb3J0ZXIuZW5hYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBPYmplY3Qua2V5cyhzb3J0ZXIuc29ydHMpO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBwcm9wZXJ0aWVzKXtcbiAgICAgICAgZW5zdXJlUHJvcGVydHlJc1NvcnRlZChzb3J0ZXIsIHByb3ApO1xuICAgIH1cbiAgICBzb3J0ZXIuaXNTb3J0ZWQgPSB0cnVlO1xufVxuZnVuY3Rpb24gc3RyaW5nU29ydChsYW5ndWFnZSwgdmFsdWUsIGQpIHtcbiAgICByZXR1cm4gdmFsdWVbMV0ubG9jYWxlQ29tcGFyZShkWzFdLCBsYW5ndWFnZSk7XG59XG5mdW5jdGlvbiBudW1iZXJTb3J0KHZhbHVlLCBkKSB7XG4gICAgcmV0dXJuIHZhbHVlWzFdIC0gZFsxXTtcbn1cbmZ1bmN0aW9uIGJvb2xlYW5Tb3J0KHZhbHVlLCBkKSB7XG4gICAgcmV0dXJuIGRbMV0gPyAtMSA6IDE7XG59XG5mdW5jdGlvbiBlbnN1cmVQcm9wZXJ0eUlzU29ydGVkKHNvcnRlciwgcHJvcCkge1xuICAgIGNvbnN0IHMgPSBzb3J0ZXIuc29ydHNbcHJvcF07XG4gICAgbGV0IHByZWRpY2F0ZTtcbiAgICBzd2l0Y2gocy50eXBlKXtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IHN0cmluZ1NvcnQuYmluZChudWxsLCBzb3J0ZXIubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBudW1iZXJTb3J0LmJpbmQobnVsbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBib29sZWFuU29ydC5iaW5kKG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHMub3JkZXJlZERvY3Muc29ydChwcmVkaWNhdGUpO1xuICAgIC8vIEluY3JlbWVudCBwb3NpdGlvbiBmb3IgdGhlIGdyZWF0aGVyIGRvY3VtZW50c1xuICAgIGNvbnN0IG9yZGVyZWREb2NzTGVuZ3RoID0gcy5vcmRlcmVkRG9jcy5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG9yZGVyZWREb2NzTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBkb2NJZCA9IHMub3JkZXJlZERvY3NbaV1bMF07XG4gICAgICAgIHMuZG9jcy5zZXQoZG9jSWQsIGkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVuc3VyZU9yZGVyZWREb2NzQXJlRGVsZXRlZChzb3J0ZXIpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gT2JqZWN0LmtleXMoc29ydGVyLnNvcnRzKTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcGVydGllcyl7XG4gICAgICAgIGVuc3VyZU9yZGVyZWREb2NzQXJlRGVsZXRlZEJ5UHJvcGVydHkoc29ydGVyLCBwcm9wKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWRCeVByb3BlcnR5KHNvcnRlciwgcHJvcCkge1xuICAgIGNvbnN0IHMgPSBzb3J0ZXIuc29ydHNbcHJvcF07XG4gICAgaWYgKCFzLm9yZGVyZWREb2NzVG9SZW1vdmUuc2l6ZSkgcmV0dXJuO1xuICAgIHMub3JkZXJlZERvY3MgPSBzLm9yZGVyZWREb2NzLmZpbHRlcigoZG9jKT0+IXMub3JkZXJlZERvY3NUb1JlbW92ZS5oYXMoZG9jWzBdKSk7XG4gICAgcy5vcmRlcmVkRG9jc1RvUmVtb3ZlLmNsZWFyKCk7XG59XG5hc3luYyBmdW5jdGlvbiByZW1vdmUoc29ydGVyLCBwcm9wLCBpZCkge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzID0gc29ydGVyLnNvcnRzW3Byb3BdO1xuICAgIGNvbnN0IGludGVybmFsSWQgPSBnZXRJbnRlcm5hbERvY3VtZW50SWQoc29ydGVyLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGNvbnN0IGluZGV4ID0gcy5kb2NzLmdldChpbnRlcm5hbElkKTtcbiAgICBpZiAoIWluZGV4KSByZXR1cm47XG4gICAgcy5kb2NzLmRlbGV0ZShpbnRlcm5hbElkKTtcbiAgICBzLm9yZGVyZWREb2NzVG9SZW1vdmUuc2V0KGludGVybmFsSWQsIHRydWUpO1xufVxuYXN5bmMgZnVuY3Rpb24gc29ydEJ5KHNvcnRlciwgZG9jSWRzLCBieSkge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1NPUlRfRElTQUJMRUQnKTtcbiAgICB9XG4gICAgY29uc3QgcHJvcGVydHkgPSBieS5wcm9wZXJ0eTtcbiAgICBjb25zdCBpc0Rlc2MgPSBieS5vcmRlciA9PT0gJ0RFU0MnO1xuICAgIGNvbnN0IHMgPSBzb3J0ZXIuc29ydHNbcHJvcGVydHldO1xuICAgIGlmICghcykge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5BQkxFX1RPX1NPUlRfT05fVU5LTk9XTl9GSUVMRCcsIHByb3BlcnR5LCBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzLmpvaW4oJywgJykpO1xuICAgIH1cbiAgICBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWRCeVByb3BlcnR5KHNvcnRlciwgcHJvcGVydHkpO1xuICAgIGVuc3VyZUlzU29ydGVkKHNvcnRlcik7XG4gICAgZG9jSWRzLnNvcnQoKGEsIGIpPT57XG4gICAgICAgIC8vIFRoaXMgc29ydCBhbGdvcml0aG0gd29ya3MgbGV2ZXJhZ2luZyBvblxuICAgICAgICAvLyB0aGF0IHMuZG9jcyBpcyBhIG1hcCBvZiBkb2NJZCAtPiBwb3NpdGlvblxuICAgICAgICAvLyBJZiBhIGRvY3VtZW50IGlzIG5vdCBpbmRleGVkLCBpdCB3aWxsIGJlIG5vdCBwcmVzZW50IGluIHRoZSBtYXBcbiAgICAgICAgY29uc3QgaW5kZXhPZkEgPSBzLmRvY3MuZ2V0KGdldEludGVybmFsRG9jdW1lbnRJZChzb3J0ZXIuc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCBhWzBdKSk7XG4gICAgICAgIGNvbnN0IGluZGV4T2ZCID0gcy5kb2NzLmdldChnZXRJbnRlcm5hbERvY3VtZW50SWQoc29ydGVyLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgYlswXSkpO1xuICAgICAgICBjb25zdCBpc0FJbmRleGVkID0gdHlwZW9mIGluZGV4T2ZBICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgY29uc3QgaXNCSW5kZXhlZCA9IHR5cGVvZiBpbmRleE9mQiAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgIGlmICghaXNBSW5kZXhlZCAmJiAhaXNCSW5kZXhlZCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdW5pbmRleGVkIGRvY3VtZW50cyBhcmUgYWx3YXlzIGF0IHRoZSBlbmRcbiAgICAgICAgaWYgKCFpc0FJbmRleGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQkluZGV4ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNEZXNjID8gaW5kZXhPZkIgLSBpbmRleE9mQSA6IGluZGV4T2ZBIC0gaW5kZXhPZkI7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRvY0lkcztcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFNvcnRhYmxlUHJvcGVydGllcyhzb3J0ZXIpIHtcbiAgICBpZiAoIXNvcnRlci5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHNvcnRlci5zb3J0YWJsZVByb3BlcnRpZXM7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRTb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMoc29ydGVyKSB7XG4gICAgaWYgKCFzb3J0ZXIuZW5hYmxlZCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHJldHVybiBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWQoc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCByYXcpIHtcbiAgICBjb25zdCByYXdEb2N1bWVudCA9IHJhdztcbiAgICBpZiAoIXJhd0RvY3VtZW50LmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHNvcnRzID0gT2JqZWN0LmtleXMocmF3RG9jdW1lbnQuc29ydHMpLnJlZHVjZSgoYWNjLCBwcm9wKT0+e1xuICAgICAgICBjb25zdCB7IGRvY3MgLCBvcmRlcmVkRG9jcyAsIHR5cGUgIH0gPSByYXdEb2N1bWVudC5zb3J0c1twcm9wXTtcbiAgICAgICAgYWNjW3Byb3BdID0ge1xuICAgICAgICAgICAgZG9jczogbmV3IE1hcChPYmplY3QuZW50cmllcyhkb2NzKS5tYXAoKFtrLCB2XSk9PltcbiAgICAgICAgICAgICAgICAgICAgK2ssXG4gICAgICAgICAgICAgICAgICAgIHZcbiAgICAgICAgICAgICAgICBdKSksXG4gICAgICAgICAgICBvcmRlcmVkRG9jc1RvUmVtb3ZlOiBuZXcgTWFwKCksXG4gICAgICAgICAgICBvcmRlcmVkRG9jcyxcbiAgICAgICAgICAgIHR5cGVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICBsYW5ndWFnZTogcmF3RG9jdW1lbnQubGFuZ3VhZ2UsXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllczogcmF3RG9jdW1lbnQuc29ydGFibGVQcm9wZXJ0aWVzLFxuICAgICAgICBzb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXM6IHJhd0RvY3VtZW50LnNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgc29ydHMsXG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGlzU29ydGVkOiByYXdEb2N1bWVudC5pc1NvcnRlZFxuICAgIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZShzb3J0ZXIpIHtcbiAgICBpZiAoIXNvcnRlci5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWQoc29ydGVyKTtcbiAgICBlbnN1cmVJc1NvcnRlZChzb3J0ZXIpO1xuICAgIGNvbnN0IHNvcnRzID0gT2JqZWN0LmtleXMoc29ydGVyLnNvcnRzKS5yZWR1Y2UoKGFjYywgcHJvcCk9PntcbiAgICAgICAgY29uc3QgeyBkb2NzICwgb3JkZXJlZERvY3MgLCB0eXBlICB9ID0gc29ydGVyLnNvcnRzW3Byb3BdO1xuICAgICAgICBhY2NbcHJvcF0gPSB7XG4gICAgICAgICAgICBkb2NzOiBPYmplY3QuZnJvbUVudHJpZXMoZG9jcy5lbnRyaWVzKCkpLFxuICAgICAgICAgICAgb3JkZXJlZERvY3MsXG4gICAgICAgICAgICB0eXBlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGxhbmd1YWdlOiBzb3J0ZXIubGFuZ3VhZ2UsXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllczogc29ydGVyLnNvcnRhYmxlUHJvcGVydGllcyxcbiAgICAgICAgc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzOiBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzLFxuICAgICAgICBzb3J0cyxcbiAgICAgICAgZW5hYmxlZDogc29ydGVyLmVuYWJsZWQsXG4gICAgICAgIGlzU29ydGVkOiBzb3J0ZXIuaXNTb3J0ZWRcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNvcnRlcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGUsXG4gICAgICAgIGluc2VydCxcbiAgICAgICAgcmVtb3ZlLFxuICAgICAgICBzYXZlLFxuICAgICAgICBsb2FkLFxuICAgICAgICBzb3J0QnksXG4gICAgICAgIGdldFNvcnRhYmxlUHJvcGVydGllcyxcbiAgICAgICAgZ2V0U29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c29ydGVyLmpzLm1hcCIsImNvbnN0IERJQUNSSVRJQ1NfQ0hBUkNPREVfU1RBUlQgPSAxOTI7XG5jb25zdCBESUFDUklUSUNTX0NIQVJDT0RFX0VORCA9IDM4MztcbmNvbnN0IENIQVJDT0RFX1JFUExBQ0VfTUFQUElORyA9IFtcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NyxcbiAgICA2OSxcbiAgICA2OSxcbiAgICA2OSxcbiAgICA2OSxcbiAgICA3MyxcbiAgICA3MyxcbiAgICA3MyxcbiAgICA3MyxcbiAgICA2OSxcbiAgICA3OCxcbiAgICA3OSxcbiAgICA3OSxcbiAgICA3OSxcbiAgICA3OSxcbiAgICA3OSxcbiAgICBudWxsLFxuICAgIDc5LFxuICAgIDg1LFxuICAgIDg1LFxuICAgIDg1LFxuICAgIDg1LFxuICAgIDg5LFxuICAgIDgwLFxuICAgIDExNSxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5OSxcbiAgICAxMDEsXG4gICAgMTAxLFxuICAgIDEwMSxcbiAgICAxMDEsXG4gICAgMTA1LFxuICAgIDEwNSxcbiAgICAxMDUsXG4gICAgMTA1LFxuICAgIDEwMSxcbiAgICAxMTAsXG4gICAgMTExLFxuICAgIDExMSxcbiAgICAxMTEsXG4gICAgMTExLFxuICAgIDExMSxcbiAgICBudWxsLFxuICAgIDExMSxcbiAgICAxMTcsXG4gICAgMTE3LFxuICAgIDExNyxcbiAgICAxMTcsXG4gICAgMTIxLFxuICAgIDExMixcbiAgICAxMjEsXG4gICAgNjUsXG4gICAgOTcsXG4gICAgNjUsXG4gICAgOTcsXG4gICAgNjUsXG4gICAgOTcsXG4gICAgNjcsXG4gICAgOTksXG4gICAgNjcsXG4gICAgOTksXG4gICAgNjcsXG4gICAgOTksXG4gICAgNjcsXG4gICAgOTksXG4gICAgNjgsXG4gICAgMTAwLFxuICAgIDY4LFxuICAgIDEwMCxcbiAgICA2OSxcbiAgICAxMDEsXG4gICAgNjksXG4gICAgMTAxLFxuICAgIDY5LFxuICAgIDEwMSxcbiAgICA2OSxcbiAgICAxMDEsXG4gICAgNjksXG4gICAgMTAxLFxuICAgIDcxLFxuICAgIDEwMyxcbiAgICA3MSxcbiAgICAxMDMsXG4gICAgNzEsXG4gICAgMTAzLFxuICAgIDcxLFxuICAgIDEwMyxcbiAgICA3MixcbiAgICAxMDQsXG4gICAgNzIsXG4gICAgMTA0LFxuICAgIDczLFxuICAgIDEwNSxcbiAgICA3MyxcbiAgICAxMDUsXG4gICAgNzMsXG4gICAgMTA1LFxuICAgIDczLFxuICAgIDEwNSxcbiAgICA3MyxcbiAgICAxMDUsXG4gICAgNzMsXG4gICAgMTA1LFxuICAgIDc0LFxuICAgIDEwNixcbiAgICA3NSxcbiAgICAxMDcsXG4gICAgMTA3LFxuICAgIDc2LFxuICAgIDEwOCxcbiAgICA3NixcbiAgICAxMDgsXG4gICAgNzYsXG4gICAgMTA4LFxuICAgIDc2LFxuICAgIDEwOCxcbiAgICA3NixcbiAgICAxMDgsXG4gICAgNzgsXG4gICAgMTEwLFxuICAgIDc4LFxuICAgIDExMCxcbiAgICA3OCxcbiAgICAxMTAsXG4gICAgMTEwLFxuICAgIDc4LFxuICAgIDExMCxcbiAgICA3OSxcbiAgICAxMTEsXG4gICAgNzksXG4gICAgMTExLFxuICAgIDc5LFxuICAgIDExMSxcbiAgICA3OSxcbiAgICAxMTEsXG4gICAgODIsXG4gICAgMTE0LFxuICAgIDgyLFxuICAgIDExNCxcbiAgICA4MixcbiAgICAxMTQsXG4gICAgODMsXG4gICAgMTE1LFxuICAgIDgzLFxuICAgIDExNSxcbiAgICA4MyxcbiAgICAxMTUsXG4gICAgODMsXG4gICAgMTE1LFxuICAgIDg0LFxuICAgIDExNixcbiAgICA4NCxcbiAgICAxMTYsXG4gICAgODQsXG4gICAgMTE2LFxuICAgIDg1LFxuICAgIDExNyxcbiAgICA4NSxcbiAgICAxMTcsXG4gICAgODUsXG4gICAgMTE3LFxuICAgIDg1LFxuICAgIDExNyxcbiAgICA4NSxcbiAgICAxMTcsXG4gICAgODUsXG4gICAgMTE3LFxuICAgIDg3LFxuICAgIDExOSxcbiAgICA4OSxcbiAgICAxMjEsXG4gICAgODksXG4gICAgOTAsXG4gICAgMTIyLFxuICAgIDkwLFxuICAgIDEyMixcbiAgICA5MCxcbiAgICAxMjIsXG4gICAgMTE1XG5dO1xuZnVuY3Rpb24gcmVwbGFjZUNoYXIoY2hhckNvZGUpIHtcbiAgICBpZiAoY2hhckNvZGUgPCBESUFDUklUSUNTX0NIQVJDT0RFX1NUQVJUIHx8IGNoYXJDb2RlID4gRElBQ1JJVElDU19DSEFSQ09ERV9FTkQpIHJldHVybiBjaGFyQ29kZTtcbiAgICAvKiBjOCBpZ25vcmUgbmV4dCAgKi8gcmV0dXJuIENIQVJDT0RFX1JFUExBQ0VfTUFQUElOR1tjaGFyQ29kZSAtIERJQUNSSVRJQ1NfQ0hBUkNPREVfU1RBUlRdIHx8IGNoYXJDb2RlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VEaWFjcml0aWNzKHN0cikge1xuICAgIGNvbnN0IHN0cmluZ0NoYXJDb2RlID0gW107XG4gICAgZm9yKGxldCBpZHggPSAwOyBpZHggPCBzdHIubGVuZ3RoOyBpZHgrKyl7XG4gICAgICAgIHN0cmluZ0NoYXJDb2RlW2lkeF0gPSByZXBsYWNlQ2hhcihzdHIuY2hhckNvZGVBdChpZHgpKTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoLi4uc3RyaW5nQ2hhckNvZGUpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaWFjcml0aWNzLmpzLm1hcCIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbi8vIEB0cy1ub2NoZWNrXG5jb25zdCBzdGVwMkxpc3QgPSB7XG4gICAgYXRpb25hbDogJ2F0ZScsXG4gICAgdGlvbmFsOiAndGlvbicsXG4gICAgZW5jaTogJ2VuY2UnLFxuICAgIGFuY2k6ICdhbmNlJyxcbiAgICBpemVyOiAnaXplJyxcbiAgICBibGk6ICdibGUnLFxuICAgIGFsbGk6ICdhbCcsXG4gICAgZW50bGk6ICdlbnQnLFxuICAgIGVsaTogJ2UnLFxuICAgIG91c2xpOiAnb3VzJyxcbiAgICBpemF0aW9uOiAnaXplJyxcbiAgICBhdGlvbjogJ2F0ZScsXG4gICAgYXRvcjogJ2F0ZScsXG4gICAgYWxpc206ICdhbCcsXG4gICAgaXZlbmVzczogJ2l2ZScsXG4gICAgZnVsbmVzczogJ2Z1bCcsXG4gICAgb3VzbmVzczogJ291cycsXG4gICAgYWxpdGk6ICdhbCcsXG4gICAgaXZpdGk6ICdpdmUnLFxuICAgIGJpbGl0aTogJ2JsZScsXG4gICAgbG9naTogJ2xvZydcbn07XG5jb25zdCBzdGVwM0xpc3QgPSB7XG4gICAgaWNhdGU6ICdpYycsXG4gICAgYXRpdmU6ICcnLFxuICAgIGFsaXplOiAnYWwnLFxuICAgIGljaXRpOiAnaWMnLFxuICAgIGljYWw6ICdpYycsXG4gICAgZnVsOiAnJyxcbiAgICBuZXNzOiAnJ1xufTtcbi8vIENvbnNvbmFudFxuY29uc3QgYyA9ICdbXmFlaW91XSc7XG4vLyBWb3dlbFxuY29uc3QgdiA9ICdbYWVpb3V5XSc7XG4vLyBDb25zb25hbnQgc2VxdWVuY2VcbmNvbnN0IEMgPSBjICsgJ1teYWVpb3V5XSonO1xuLy8gVm93ZWwgc2VxdWVuY2VcbmNvbnN0IFYgPSB2ICsgJ1thZWlvdV0qJztcbi8vIFtDXVZDLi4uIGlzIG0+MFxuY29uc3QgbWdyMCA9ICdeKCcgKyBDICsgJyk/JyArIFYgKyBDO1xuLy8gW0NdVkNbVl0gaXMgbT0xXG5jb25zdCBtZXExID0gJ14oJyArIEMgKyAnKT8nICsgViArIEMgKyAnKCcgKyBWICsgJyk/JCc7XG4vLyBbQ11WQ1ZDLi4uIGlzIG0+MVxuY29uc3QgbWdyMSA9ICdeKCcgKyBDICsgJyk/JyArIFYgKyBDICsgViArIEM7XG4vLyB2b3dlbCBpbiBzdGVtXG5jb25zdCBzX3YgPSAnXignICsgQyArICcpPycgKyB2O1xuZXhwb3J0IGZ1bmN0aW9uIHN0ZW1tZXIodykge1xuICAgIGxldCBzdGVtO1xuICAgIGxldCBzdWZmaXg7XG4gICAgbGV0IHJlO1xuICAgIGxldCByZTI7XG4gICAgbGV0IHJlMztcbiAgICBsZXQgcmU0O1xuICAgIGlmICh3Lmxlbmd0aCA8IDMpIHtcbiAgICAgICAgcmV0dXJuIHc7XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0Y2ggPSB3LnN1YnN0cmluZygwLCAxKTtcbiAgICBpZiAoZmlyc3RjaCA9PSAneScpIHtcbiAgICAgICAgdyA9IGZpcnN0Y2gudG9VcHBlckNhc2UoKSArIHcuc3Vic3RyaW5nKDEpO1xuICAgIH1cbiAgICByZSA9IC9eKC4rPykoc3N8aSllcyQvO1xuICAgIHJlMiA9IC9eKC4rPykoW15zXSlzJC87XG4gICAgaWYgKHJlLnRlc3QodykpIHtcbiAgICAgICAgdyA9IHcucmVwbGFjZShyZSwgJyQxJDInKTtcbiAgICB9IGVsc2UgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICAgIHcgPSB3LnJlcGxhY2UocmUyLCAnJDEkMicpO1xuICAgIH1cbiAgICByZSA9IC9eKC4rPyllZWQkLztcbiAgICByZTIgPSAvXiguKz8pKGVkfGluZykkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChtZ3IwKTtcbiAgICAgICAgaWYgKHJlLnRlc3QoZnBbMV0pKSB7XG4gICAgICAgICAgICByZSA9IC8uJC87XG4gICAgICAgICAgICB3ID0gdy5yZXBsYWNlKHJlLCAnJyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICAgIGNvbnN0IGZwID0gcmUyLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcFsxXTtcbiAgICAgICAgcmUyID0gbmV3IFJlZ0V4cChzX3YpO1xuICAgICAgICBpZiAocmUyLnRlc3Qoc3RlbSkpIHtcbiAgICAgICAgICAgIHcgPSBzdGVtO1xuICAgICAgICAgICAgcmUyID0gLyhhdHxibHxpeikkLztcbiAgICAgICAgICAgIHJlMyA9IG5ldyBSZWdFeHAoJyhbXmFlaW91eWxzel0pXFxcXDEkJyk7XG4gICAgICAgICAgICByZTQgPSBuZXcgUmVnRXhwKCdeJyArIEMgKyB2ICsgJ1teYWVpb3V3eHldJCcpO1xuICAgICAgICAgICAgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICAgICAgICAgICAgdyA9IHcgKyAnZSc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlMy50ZXN0KHcpKSB7XG4gICAgICAgICAgICAgICAgcmUgPSAvLiQvO1xuICAgICAgICAgICAgICAgIHcgPSB3LnJlcGxhY2UocmUsICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmU0LnRlc3QodykpIHtcbiAgICAgICAgICAgICAgICB3ID0gdyArICdlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZSA9IC9eKC4rPyl5JC87XG4gICAgaWYgKHJlLnRlc3QodykpIHtcbiAgICAgICAgY29uc3QgZnAgPSByZS5leGVjKHcpO1xuICAgICAgICBzdGVtID0gZnAgPT09IG51bGwgfHwgZnAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZwWzFdO1xuICAgICAgICByZSA9IG5ldyBSZWdFeHAoc192KTtcbiAgICAgICAgaWYgKHN0ZW0gJiYgcmUudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgdyA9IHN0ZW0gKyAnaSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmUgPSAvXiguKz8pKGF0aW9uYWx8dGlvbmFsfGVuY2l8YW5jaXxpemVyfGJsaXxhbGxpfGVudGxpfGVsaXxvdXNsaXxpemF0aW9ufGF0aW9ufGF0b3J8YWxpc218aXZlbmVzc3xmdWxuZXNzfG91c25lc3N8YWxpdGl8aXZpdGl8YmlsaXRpfGxvZ2kpJC87XG4gICAgaWYgKHJlLnRlc3QodykpIHtcbiAgICAgICAgY29uc3QgZnAgPSByZS5leGVjKHcpO1xuICAgICAgICBzdGVtID0gZnAgPT09IG51bGwgfHwgZnAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZwWzFdO1xuICAgICAgICBzdWZmaXggPSBmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMl07XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChtZ3IwKTtcbiAgICAgICAgaWYgKHN0ZW0gJiYgcmUudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdyA9IHN0ZW0gKyBzdGVwMkxpc3Rbc3VmZml4XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZSA9IC9eKC4rPykoaWNhdGV8YXRpdmV8YWxpemV8aWNpdGl8aWNhbHxmdWx8bmVzcykkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMV07XG4gICAgICAgIHN1ZmZpeCA9IGZwID09PSBudWxsIHx8IGZwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcFsyXTtcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKG1ncjApO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKHN0ZW0gJiYgcmUudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdyA9IHN0ZW0gKyBzdGVwM0xpc3Rbc3VmZml4XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZSA9IC9eKC4rPykoYWx8YW5jZXxlbmNlfGVyfGljfGFibGV8aWJsZXxhbnR8ZW1lbnR8bWVudHxlbnR8b3V8aXNtfGF0ZXxpdGl8b3VzfGl2ZXxpemUpJC87XG4gICAgcmUyID0gL14oLis/KShzfHQpKGlvbikkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMV07XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChtZ3IxKTtcbiAgICAgICAgaWYgKHN0ZW0gJiYgcmUudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgdyA9IHN0ZW07XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICAgIGNvbnN0IGZwID0gcmUyLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSAoZnAgPT09IG51bGwgfHwgZnAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZwWzFdKSA/PyAnJyArIChmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMl0pID8/ICcnO1xuICAgICAgICByZTIgPSBuZXcgUmVnRXhwKG1ncjEpO1xuICAgICAgICBpZiAocmUyLnRlc3Qoc3RlbSkpIHtcbiAgICAgICAgICAgIHcgPSBzdGVtO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlID0gL14oLis/KWUkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMV07XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChtZ3IxKTtcbiAgICAgICAgcmUyID0gbmV3IFJlZ0V4cChtZXExKTtcbiAgICAgICAgcmUzID0gbmV3IFJlZ0V4cCgnXicgKyBDICsgdiArICdbXmFlaW91d3h5XSQnKTtcbiAgICAgICAgaWYgKHN0ZW0gJiYgKHJlLnRlc3Qoc3RlbSkgfHwgcmUyLnRlc3Qoc3RlbSkgJiYgIXJlMy50ZXN0KHN0ZW0pKSkge1xuICAgICAgICAgICAgdyA9IHN0ZW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmUgPSAvbGwkLztcbiAgICByZTIgPSBuZXcgUmVnRXhwKG1ncjEpO1xuICAgIGlmIChyZS50ZXN0KHcpICYmIHJlMi50ZXN0KHcpKSB7XG4gICAgICAgIHJlID0gLy4kLztcbiAgICAgICAgdyA9IHcucmVwbGFjZShyZSwgJycpO1xuICAgIH1cbiAgICBpZiAoZmlyc3RjaCA9PSAneScpIHtcbiAgICAgICAgdyA9IGZpcnN0Y2gudG9Mb3dlckNhc2UoKSArIHcuc3Vic3RyaW5nKDEpO1xuICAgIH1cbiAgICByZXR1cm4gdztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5nbGlzaC1zdGVtbWVyLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IHJlcGxhY2VEaWFjcml0aWNzIH0gZnJvbSAnLi9kaWFjcml0aWNzLmpzJztcbmltcG9ydCB7IFNQTElUVEVSUywgU1VQUE9SVEVEX0xBTkdVQUdFUyB9IGZyb20gJy4vbGFuZ3VhZ2VzLmpzJztcbmltcG9ydCB7IHN0ZW1tZXIgYXMgZW5nbGlzaCB9IGZyb20gJy4vZW5nbGlzaC1zdGVtbWVyLmpzJztcbmZ1bmN0aW9uIG5vcm1hbGl6ZVRva2VuKHByb3AsIHRva2VuKSB7XG4gICAgdmFyIF90aGlzX3N0b3BXb3JkcztcbiAgICBjb25zdCBrZXkgPSBgJHt0aGlzLmxhbmd1YWdlfToke3Byb3B9OiR7dG9rZW59YDtcbiAgICBpZiAodGhpcy5ub3JtYWxpemF0aW9uQ2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXphdGlvbkNhY2hlLmdldChrZXkpO1xuICAgIH1cbiAgICAvLyBSZW1vdmUgc3RvcHdvcmRzIGlmIGVuYWJsZWRcbiAgICBpZiAoKF90aGlzX3N0b3BXb3JkcyA9IHRoaXMuc3RvcFdvcmRzKSA9PT0gbnVsbCB8fCBfdGhpc19zdG9wV29yZHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzX3N0b3BXb3Jkcy5pbmNsdWRlcyh0b2tlbikpIHtcbiAgICAgICAgdGhpcy5ub3JtYWxpemF0aW9uQ2FjaGUuc2V0KGtleSwgJycpO1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIC8vIEFwcGx5IHN0ZW1taW5nIGlmIGVuYWJsZWRcbiAgICBpZiAodGhpcy5zdGVtbWVyICYmICF0aGlzLnN0ZW1tZXJTa2lwUHJvcGVydGllcy5oYXMocHJvcCkpIHtcbiAgICAgICAgdG9rZW4gPSB0aGlzLnN0ZW1tZXIodG9rZW4pO1xuICAgIH1cbiAgICB0b2tlbiA9IHJlcGxhY2VEaWFjcml0aWNzKHRva2VuKTtcbiAgICB0aGlzLm5vcm1hbGl6YXRpb25DYWNoZS5zZXQoa2V5LCB0b2tlbik7XG4gICAgcmV0dXJuIHRva2VuO1xufVxuLyogYzggaWdub3JlIG5leHQgMTAgKi8gZnVuY3Rpb24gdHJpbSh0ZXh0KSB7XG4gICAgd2hpbGUodGV4dFt0ZXh0Lmxlbmd0aCAtIDFdID09PSAnJyl7XG4gICAgICAgIHRleHQucG9wKCk7XG4gICAgfVxuICAgIHdoaWxlKHRleHRbMF0gPT09ICcnKXtcbiAgICAgICAgdGV4dC5zaGlmdCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbn1cbmZ1bmN0aW9uIHRva2VuaXplKGlucHV0LCBsYW5ndWFnZSwgcHJvcCkge1xuICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZSAhPT0gdGhpcy5sYW5ndWFnZSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignTEFOR1VBR0VfTk9UX1NVUFBPUlRFRCcsIGxhbmd1YWdlKTtcbiAgICB9XG4gICAgLyogYzggaWdub3JlIG5leHQgMyAqLyBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgaW5wdXRcbiAgICAgICAgXTtcbiAgICB9XG4gICAgbGV0IHRva2VucztcbiAgICBpZiAocHJvcCAmJiB0aGlzLnRva2VuaXplU2tpcFByb3BlcnRpZXMuaGFzKHByb3ApKSB7XG4gICAgICAgIHRva2VucyA9IFtcbiAgICAgICAgICAgIHRoaXMubm9ybWFsaXplVG9rZW4uYmluZCh0aGlzLCBwcm9wID8/ICcnKShpbnB1dClcbiAgICAgICAgXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzcGxpdFJ1bGUgPSBTUExJVFRFUlNbdGhpcy5sYW5ndWFnZV07XG4gICAgICAgIHRva2VucyA9IGlucHV0LnRvTG93ZXJDYXNlKCkuc3BsaXQoc3BsaXRSdWxlKS5tYXAodGhpcy5ub3JtYWxpemVUb2tlbi5iaW5kKHRoaXMsIHByb3AgPz8gJycpKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgfVxuICAgIGNvbnN0IHRyaW1Ub2tlbnMgPSB0cmltKHRva2Vucyk7XG4gICAgaWYgKCF0aGlzLmFsbG93RHVwbGljYXRlcykge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KHRyaW1Ub2tlbnMpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyaW1Ub2tlbnM7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVG9rZW5pemVyKGNvbmZpZyA9IHt9KSB7XG4gICAgaWYgKCFjb25maWcubGFuZ3VhZ2UpIHtcbiAgICAgICAgY29uZmlnLmxhbmd1YWdlID0gJ2VuZ2xpc2gnO1xuICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRFRF9MQU5HVUFHRVMuaW5jbHVkZXMoY29uZmlnLmxhbmd1YWdlKSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignTEFOR1VBR0VfTk9UX1NVUFBPUlRFRCcsIGNvbmZpZy5sYW5ndWFnZSk7XG4gICAgfVxuICAgIC8vIEhhbmRsZSBzdGVtbWluZyAtIEl0IGlzIGRpc2FibGVkIGJ5IGRlZmF1bHRcbiAgICBsZXQgc3RlbW1lcjtcbiAgICBpZiAoY29uZmlnLnN0ZW1taW5nIHx8IGNvbmZpZy5zdGVtbWVyICYmICEoJ3N0ZW1taW5nJyBpbiBjb25maWcpKSB7XG4gICAgICAgIGlmIChjb25maWcuc3RlbW1lcikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcuc3RlbW1lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX1NURU1NRVJfRlVOQ1RJT05fVFlQRScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RlbW1lciA9IGNvbmZpZy5zdGVtbWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5sYW5ndWFnZSA9PT0gJ2VuZ2xpc2gnKSB7XG4gICAgICAgICAgICAgICAgc3RlbW1lciA9IGVuZ2xpc2g7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdNSVNTSU5HX1NURU1NRVInLCBjb25maWcubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEhhbmRsZSBzdG9wd29yZHNcbiAgICBsZXQgc3RvcFdvcmRzO1xuICAgIGlmIChjb25maWcuc3RvcFdvcmRzICE9PSBmYWxzZSkge1xuICAgICAgICBzdG9wV29yZHMgPSBbXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29uZmlnLnN0b3BXb3JkcykpIHtcbiAgICAgICAgICAgIHN0b3BXb3JkcyA9IGNvbmZpZy5zdG9wV29yZHM7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZy5zdG9wV29yZHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN0b3BXb3JkcyA9IGF3YWl0IGNvbmZpZy5zdG9wV29yZHMoc3RvcFdvcmRzKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcuc3RvcFdvcmRzKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignQ1VTVE9NX1NUT1BfV09SRFNfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1ha2Ugc3VyZSBzdG9wV29yZHMgaXMganVzdCBhbiBhcnJheSBvZiBzdHJpbmdzXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdG9wV29yZHMpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignQ1VTVE9NX1NUT1BfV09SRFNfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWScpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiBzdG9wV29yZHMpe1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdDVVNUT01fU1RPUF9XT1JEU19NVVNUX0JFX0ZVTkNUSU9OX09SX0FSUkFZJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQ3JlYXRlIHRoZSB0b2tlbml6ZXJcbiAgICBjb25zdCB0b2tlbml6ZXIgPSB7XG4gICAgICAgIHRva2VuaXplLFxuICAgICAgICBsYW5ndWFnZTogY29uZmlnLmxhbmd1YWdlLFxuICAgICAgICBzdGVtbWVyLFxuICAgICAgICBzdGVtbWVyU2tpcFByb3BlcnRpZXM6IG5ldyBTZXQoY29uZmlnLnN0ZW1tZXJTa2lwUHJvcGVydGllcyA/IFtcbiAgICAgICAgICAgIGNvbmZpZy5zdGVtbWVyU2tpcFByb3BlcnRpZXNcbiAgICAgICAgXS5mbGF0KCkgOiBbXSksXG4gICAgICAgIHRva2VuaXplU2tpcFByb3BlcnRpZXM6IG5ldyBTZXQoY29uZmlnLnRva2VuaXplU2tpcFByb3BlcnRpZXMgPyBbXG4gICAgICAgICAgICBjb25maWcudG9rZW5pemVTa2lwUHJvcGVydGllc1xuICAgICAgICBdLmZsYXQoKSA6IFtdKSxcbiAgICAgICAgc3RvcFdvcmRzLFxuICAgICAgICBhbGxvd0R1cGxpY2F0ZXM6IEJvb2xlYW4oY29uZmlnLmFsbG93RHVwbGljYXRlcyksXG4gICAgICAgIG5vcm1hbGl6ZVRva2VuLFxuICAgICAgICBub3JtYWxpemF0aW9uQ2FjaGU6IG5ldyBNYXAoKVxuICAgIH07XG4gICAgdG9rZW5pemVyLnRva2VuaXplID0gdG9rZW5pemUuYmluZCh0b2tlbml6ZXIpO1xuICAgIHRva2VuaXplci5ub3JtYWxpemVUb2tlbiA9IG5vcm1hbGl6ZVRva2VuO1xuICAgIHJldHVybiB0b2tlbml6ZXI7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IGZvcm1hdEVsYXBzZWRUaW1lLCBnZXREb2N1bWVudEluZGV4SWQsIGdldERvY3VtZW50UHJvcGVydGllcywgdmFsaWRhdGVTY2hlbWEgfSBmcm9tICcuLi9jb21wb25lbnRzL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IGNyZWF0ZURvY3VtZW50c1N0b3JlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9kb2N1bWVudHMtc3RvcmUuanMnO1xuaW1wb3J0IHsgQVZBSUxBQkxFX1BMVUdJTl9IT09LUywgZ2V0QWxsUGx1Z2luc0J5SG9vayB9IGZyb20gJy4uL2NvbXBvbmVudHMvcGx1Z2lucy5qcyc7XG5pbXBvcnQgeyBGVU5DVElPTl9DT01QT05FTlRTLCBPQkpFQ1RfQ09NUE9ORU5UUyB9IGZyb20gJy4uL2NvbXBvbmVudHMvaG9va3MuanMnO1xuaW1wb3J0IHsgY3JlYXRlSW5kZXggfSBmcm9tICcuLi9jb21wb25lbnRzL2luZGV4LmpzJztcbmltcG9ydCB7IGNyZWF0ZUludGVybmFsRG9jdW1lbnRJRFN0b3JlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTb3J0ZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL3NvcnRlci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVUb2tlbml6ZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL3Rva2VuaXplci9pbmRleC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyB1bmlxdWVJZCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50cyhjb21wb25lbnRzKSB7XG4gICAgY29uc3QgZGVmYXVsdENvbXBvbmVudHMgPSB7XG4gICAgICAgIGZvcm1hdEVsYXBzZWRUaW1lLFxuICAgICAgICBnZXREb2N1bWVudEluZGV4SWQsXG4gICAgICAgIGdldERvY3VtZW50UHJvcGVydGllcyxcbiAgICAgICAgdmFsaWRhdGVTY2hlbWFcbiAgICB9O1xuICAgIGZvciAoY29uc3QgcmF3S2V5IG9mIEZVTkNUSU9OX0NPTVBPTkVOVFMpe1xuICAgICAgICBjb25zdCBrZXkgPSByYXdLZXk7XG4gICAgICAgIGlmIChjb21wb25lbnRzW2tleV0pIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50c1trZXldICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0NPTVBPTkVOVF9NVVNUX0JFX0ZVTkNUSU9OJywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVFNDIGlzIHVuYWJsZSB0byByZXNvbHZlIHRoaXNcbiAgICAgICAgICAgIGNvbXBvbmVudHNba2V5XSA9IGRlZmF1bHRDb21wb25lbnRzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCByYXdLZXkgb2YgT2JqZWN0LmtleXMoY29tcG9uZW50cykpe1xuICAgICAgICBpZiAoIU9CSkVDVF9DT01QT05FTlRTLmluY2x1ZGVzKHJhd0tleSkgJiYgIUZVTkNUSU9OX0NPTVBPTkVOVFMuaW5jbHVkZXMocmF3S2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1VOU1VQUE9SVEVEX0NPTVBPTkVOVCcsIHJhd0tleSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlKHsgc2NoZW1hICwgc29ydCAsIGxhbmd1YWdlICwgY29tcG9uZW50cyAsIGlkICwgcGx1Z2lucyAgfSkge1xuICAgIGlmICghY29tcG9uZW50cykge1xuICAgICAgICBjb21wb25lbnRzID0ge307XG4gICAgfVxuICAgIGlmICghaWQpIHtcbiAgICAgICAgaWQgPSBhd2FpdCB1bmlxdWVJZCgpO1xuICAgIH1cbiAgICBsZXQgdG9rZW5pemVyID0gY29tcG9uZW50cy50b2tlbml6ZXI7XG4gICAgbGV0IGluZGV4ID0gY29tcG9uZW50cy5pbmRleDtcbiAgICBsZXQgZG9jdW1lbnRzU3RvcmUgPSBjb21wb25lbnRzLmRvY3VtZW50c1N0b3JlO1xuICAgIGxldCBzb3J0ZXIgPSBjb21wb25lbnRzLnNvcnRlcjtcbiAgICBpZiAoIXRva2VuaXplcikge1xuICAgICAgICAvLyBVc2UgdGhlIGRlZmF1bHQgdG9rZW5pemVyXG4gICAgICAgIHRva2VuaXplciA9IGF3YWl0IGNyZWF0ZVRva2VuaXplcih7XG4gICAgICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UgPz8gJ2VuZ2xpc2gnXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIXRva2VuaXplci50b2tlbml6ZSkge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyB0b2tlbml6ZXIgZnVuY3Rpb24sIHdlIGFzc3VtZSB0aGlzIGlzIGEgVG9rZW5pemVyQ29uZmlnXG4gICAgICAgIHRva2VuaXplciA9IGF3YWl0IGNyZWF0ZVRva2VuaXplcih0b2tlbml6ZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbVRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICAgICAgdG9rZW5pemVyID0gY3VzdG9tVG9rZW5pemVyO1xuICAgIH1cbiAgICBpZiAoY29tcG9uZW50cy50b2tlbml6ZXIgJiYgbGFuZ3VhZ2UpIHtcbiAgICAgICAgLy8gQWNjZXB0IGxhbmd1YWdlIG9ubHkgaWYgYSB0b2tlbml6ZXIgaXMgbm90IHByb3ZpZGVkXG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdOT19MQU5HVUFHRV9XSVRIX0NVU1RPTV9UT0tFTklaRVInKTtcbiAgICB9XG4gICAgY29uc3QgaW50ZXJuYWxEb2N1bWVudFN0b3JlID0gY3JlYXRlSW50ZXJuYWxEb2N1bWVudElEU3RvcmUoKTtcbiAgICBpbmRleCB8fD0gYXdhaXQgY3JlYXRlSW5kZXgoKTtcbiAgICBzb3J0ZXIgfHw9IGF3YWl0IGNyZWF0ZVNvcnRlcigpO1xuICAgIGRvY3VtZW50c1N0b3JlIHx8PSBhd2FpdCBjcmVhdGVEb2N1bWVudHNTdG9yZSgpO1xuICAgIC8vIFZhbGlkYXRlIGFsbCBvdGhlciBjb21wb25lbnRzXG4gICAgdmFsaWRhdGVDb21wb25lbnRzKGNvbXBvbmVudHMpO1xuICAgIC8vIEFzc2lnbiBvbmx5IHJlY29nbml6ZWQgY29tcG9uZW50cyBhbmQgaG9va3NcbiAgICBjb25zdCB7IGdldERvY3VtZW50UHJvcGVydGllcyAsIGdldERvY3VtZW50SW5kZXhJZCAsIHZhbGlkYXRlU2NoZW1hICwgZm9ybWF0RWxhcHNlZFRpbWUgIH0gPSBjb21wb25lbnRzO1xuICAgIGNvbnN0IG9yYW1hID0ge1xuICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgY2FjaGVzOiB7fSxcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICB0b2tlbml6ZXIsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBzb3J0ZXIsXG4gICAgICAgIGRvY3VtZW50c1N0b3JlLFxuICAgICAgICBpbnRlcm5hbERvY3VtZW50SURTdG9yZTogaW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICBnZXREb2N1bWVudFByb3BlcnRpZXMsXG4gICAgICAgIGdldERvY3VtZW50SW5kZXhJZCxcbiAgICAgICAgdmFsaWRhdGVTY2hlbWEsXG4gICAgICAgIGJlZm9yZUluc2VydDogW10sXG4gICAgICAgIGFmdGVySW5zZXJ0OiBbXSxcbiAgICAgICAgYmVmb3JlUmVtb3ZlOiBbXSxcbiAgICAgICAgYWZ0ZXJSZW1vdmU6IFtdLFxuICAgICAgICBiZWZvcmVVcGRhdGU6IFtdLFxuICAgICAgICBhZnRlclVwZGF0ZTogW10sXG4gICAgICAgIGJlZm9yZVNlYXJjaDogW10sXG4gICAgICAgIGFmdGVyU2VhcmNoOiBbXSxcbiAgICAgICAgYmVmb3JlSW5zZXJ0TXVsdGlwbGU6IFtdLFxuICAgICAgICBhZnRlckluc2VydE11bHRpcGxlOiBbXSxcbiAgICAgICAgYmVmb3JlUmVtb3ZlTXVsdGlwbGU6IFtdLFxuICAgICAgICBhZnRlclJlbW92ZU11bHRpcGxlOiBbXSxcbiAgICAgICAgYWZ0ZXJVcGRhdGVNdWx0aXBsZTogW10sXG4gICAgICAgIGJlZm9yZVVwZGF0ZU11bHRpcGxlOiBbXSxcbiAgICAgICAgZm9ybWF0RWxhcHNlZFRpbWUsXG4gICAgICAgIGlkLFxuICAgICAgICBwbHVnaW5zXG4gICAgfTtcbiAgICBvcmFtYS5kYXRhID0ge1xuICAgICAgICBpbmRleDogYXdhaXQgb3JhbWEuaW5kZXguY3JlYXRlKG9yYW1hLCBpbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSksXG4gICAgICAgIGRvY3M6IGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmNyZWF0ZShvcmFtYSwgaW50ZXJuYWxEb2N1bWVudFN0b3JlKSxcbiAgICAgICAgc29ydGluZzogYXdhaXQgb3JhbWEuc29ydGVyLmNyZWF0ZShvcmFtYSwgaW50ZXJuYWxEb2N1bWVudFN0b3JlLCBzY2hlbWEsIHNvcnQpXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGhvb2sgb2YgQVZBSUxBQkxFX1BMVUdJTl9IT09LUyl7XG4gICAgICAgIG9yYW1hW2hvb2tdID0gKG9yYW1hW2hvb2tdID8/IFtdKS5jb25jYXQoZ2V0QWxsUGx1Z2luc0J5SG9vayhvcmFtYSwgaG9vaykpO1xuICAgIH1cbiAgICByZXR1cm4gb3JhbWE7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS5qcy5tYXAiLCJleHBvcnQgY29uc3Qga0luc2VydGlvbnMgPSBTeW1ib2woJ29yYW1hLmluc2VydGlvbnMnKTtcbmV4cG9ydCBjb25zdCBrUmVtb3ZhbHMgPSBTeW1ib2woJ29yYW1hLnJlbW92YWxzJyk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCIsInZhciBfZ2xvYmFsVGhpc19wcm9jZXNzO1xuaW1wb3J0IHsga0luc2VydGlvbnMsIGtSZW1vdmFscyB9IGZyb20gJy4uL3R5cGVzLmpzJztcbi8vIFdlYiBwbGF0Zm9ybXMgZG9uJ3QgaGF2ZSBwcm9jZXNzLiBSZWFjdC1OYXRpdmUgZG9lc24ndCBoYXZlIHByb2Nlc3MuZW1pdFdhcm5pbmcuXG5jb25zdCB3YXJuID0gKChfZ2xvYmFsVGhpc19wcm9jZXNzID0gZ2xvYmFsVGhpcy5wcm9jZXNzKSA9PT0gbnVsbCB8fCBfZ2xvYmFsVGhpc19wcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZ2xvYmFsVGhpc19wcm9jZXNzLmVtaXRXYXJuaW5nKSA/PyBmdW5jdGlvbiBlbWl0V2FybmluZyhtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgY29uc29sZS53YXJuKGBbV0FSTklOR10gWyR7b3B0aW9ucy5jb2RlfV0gJHttZXNzYWdlfWApO1xufTtcbmV4cG9ydCBmdW5jdGlvbiB0cmFja0luc2VydGlvbihvcmFtYSkge1xuICAgIGlmICh0eXBlb2Ygb3JhbWFba0luc2VydGlvbnNdICE9PSAnbnVtYmVyJykge1xuICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKT0+e1xuICAgICAgICAgICAgb3JhbWFba0luc2VydGlvbnNdID0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICAgICAgb3JhbWFba0luc2VydGlvbnNdID0gMDtcbiAgICB9XG4gICAgaWYgKG9yYW1hW2tJbnNlcnRpb25zXSA+IDEwMDApIHtcbiAgICAgICAgd2FybihcIk9yYW1hJ3MgaW5zZXJ0IG9wZXJhdGlvbiBpcyBzeW5jaHJvbm91cy4gUGxlYXNlIGF2b2lkIGluc2VydGluZyBhIGxhcmdlIG51bWJlciBvZiBkb2N1bWVudCBpbiBhIHNpbmdsZSBvcGVyYXRpb24gaW4gb3JkZXIgbm90IHRvIGJsb2NrIHRoZSBtYWluIHRocmVhZCBvciwgaW4gYWx0ZXJuYXRpdmUsIHBsZWFzZSB1c2UgaW5zZXJ0TXVsdGlwbGUuXCIsIHtcbiAgICAgICAgICAgIGNvZGU6ICdPUkFNQTAwMDEnXG4gICAgICAgIH0pO1xuICAgICAgICBvcmFtYVtrSW5zZXJ0aW9uc10gPSAtMTtcbiAgICB9IGVsc2UgaWYgKG9yYW1hW2tJbnNlcnRpb25zXSA+PSAwKSB7XG4gICAgICAgIG9yYW1hW2tJbnNlcnRpb25zXSsrO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmFja1JlbW92YWwob3JhbWEpIHtcbiAgICBpZiAodHlwZW9mIG9yYW1hW2tSZW1vdmFsc10gIT09ICdudW1iZXInKSB7XG4gICAgICAgIHF1ZXVlTWljcm90YXNrKCgpPT57XG4gICAgICAgICAgICBvcmFtYVtrUmVtb3ZhbHNdID0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICAgICAgb3JhbWFba1JlbW92YWxzXSA9IDA7XG4gICAgfVxuICAgIGlmIChvcmFtYVtrUmVtb3ZhbHNdID4gMTAwMCkge1xuICAgICAgICB3YXJuKFwiT3JhbWEncyByZW1vdmUgb3BlcmF0aW9uIGlzIHN5bmNocm9ub3VzLiBQbGVhc2UgYXZvaWQgcmVtb3ZpbmcgYSBsYXJnZSBudW1iZXIgb2YgZG9jdW1lbnQgaW4gYSBzaW5nbGUgb3BlcmF0aW9uIGluIG9yZGVyIG5vdCB0byBibG9jayB0aGUgbWFpbiB0aHJlYWQsIGluIGFsdGVybmF0aXZlLCBwbGVhc2UgdXNlIHVwZGF0ZU11bHRpcGxlLlwiLCB7XG4gICAgICAgICAgICBjb2RlOiAnT1JBTUEwMDAyJ1xuICAgICAgICB9KTtcbiAgICAgICAgb3JhbWFba1JlbW92YWxzXSA9IC0xO1xuICAgIH0gZWxzZSBpZiAob3JhbWFba1JlbW92YWxzXSA+PSAwKSB7XG4gICAgICAgIG9yYW1hW2tSZW1vdmFsc10rKztcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN5bmMtYmxvY2tpbmctY2hlY2tlci5qcy5tYXAiLCJpbXBvcnQgeyBpc0FycmF5VHlwZSwgaXNHZW9Qb2ludFR5cGUsIGlzVmVjdG9yVHlwZSB9IGZyb20gJy4uL2NvbXBvbmVudHMuanMnO1xuaW1wb3J0IHsgcnVuTXVsdGlwbGVIb29rLCBydW5TaW5nbGVIb29rIH0gZnJvbSAnLi4vY29tcG9uZW50cy9ob29rcy5qcyc7XG5pbXBvcnQgeyB0cmFja0luc2VydGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvc3luYy1ibG9ja2luZy1jaGVja2VyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnNlcnQob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcykge1xuICAgIGNvbnN0IGVycm9yUHJvcGVydHkgPSBhd2FpdCBvcmFtYS52YWxpZGF0ZVNjaGVtYShkb2MsIG9yYW1hLnNjaGVtYSk7XG4gICAgaWYgKGVycm9yUHJvcGVydHkpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1NDSEVNQV9WQUxJREFUSU9OX0ZBSUxVUkUnLCBlcnJvclByb3BlcnR5KTtcbiAgICB9XG4gICAgcmV0dXJuIGlubmVySW5zZXJ0KG9yYW1hLCBkb2MsIGxhbmd1YWdlLCBza2lwSG9va3MpO1xufVxuYXN5bmMgZnVuY3Rpb24gaW5uZXJJbnNlcnQob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcykge1xuICAgIGNvbnN0IHsgaW5kZXggLCBkb2NzICB9ID0gb3JhbWEuZGF0YTtcbiAgICBjb25zdCBpZCA9IGF3YWl0IG9yYW1hLmdldERvY3VtZW50SW5kZXhJZChkb2MpO1xuICAgIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdET0NVTUVOVF9JRF9NVVNUX0JFX1NUUklORycsIHR5cGVvZiBpZCk7XG4gICAgfVxuICAgIGlmICghYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUuc3RvcmUoZG9jcywgaWQsIGRvYykpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0RPQ1VNRU5UX0FMUkVBRFlfRVhJU1RTJywgaWQpO1xuICAgIH1cbiAgICBjb25zdCBkb2NzQ291bnQgPSBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5jb3VudChkb2NzKTtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBhd2FpdCBydW5TaW5nbGVIb29rKG9yYW1hLmJlZm9yZUluc2VydCwgb3JhbWEsIGlkLCBkb2MpO1xuICAgIH1cbiAgICBjb25zdCBpbmRleGFibGVQcm9wZXJ0aWVzID0gYXdhaXQgb3JhbWEuaW5kZXguZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXMoaW5kZXgpO1xuICAgIGNvbnN0IGluZGV4YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMgPSBhd2FpdCBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyhpbmRleCk7XG4gICAgY29uc3QgaW5kZXhhYmxlVmFsdWVzID0gYXdhaXQgb3JhbWEuZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzKGRvYywgaW5kZXhhYmxlUHJvcGVydGllcyk7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaW5kZXhhYmxlVmFsdWVzKSl7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY3R1YWxUeXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBpbmRleGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzW2tleV07XG4gICAgICAgIGlmIChpc0dlb1BvaW50VHlwZShleHBlY3RlZFR5cGUpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLmxvbiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbHVlLmxhdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1ZlY3RvclR5cGUoZXhwZWN0ZWRUeXBlKSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlUeXBlKGV4cGVjdGVkVHlwZSkgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZXhwZWN0ZWRUeXBlID09PSAnZW51bScgfHwgZXhwZWN0ZWRUeXBlID09PSAnZW51bVtdJykgJiYgKGFjdHVhbFR5cGUgPT09ICdzdHJpbmcnIHx8IGFjdHVhbFR5cGUgPT09ICdudW1iZXInKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdHVhbFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfRE9DVU1FTlRfUFJPUEVSVFknLCBrZXksIGV4cGVjdGVkVHlwZSwgYWN0dWFsVHlwZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIGluZGV4YWJsZVByb3BlcnRpZXMpe1xuICAgICAgICB2YXIgX29yYW1hX2luZGV4LCBfb3JhbWFfaW5kZXhfYmVmb3JlSW5zZXJ0LCBfb3JhbWFfaW5kZXgxLCBfb3JhbWFfaW5kZXhfYWZ0ZXJJbnNlcnQ7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaW5kZXhhYmxlVmFsdWVzW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gaW5kZXhhYmxlUHJvcGVydGllc1dpdGhUeXBlc1twcm9wXTtcbiAgICAgICAgYXdhaXQgKChfb3JhbWFfaW5kZXhfYmVmb3JlSW5zZXJ0ID0gKF9vcmFtYV9pbmRleCA9IG9yYW1hLmluZGV4KS5iZWZvcmVJbnNlcnQpID09PSBudWxsIHx8IF9vcmFtYV9pbmRleF9iZWZvcmVJbnNlcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcmFtYV9pbmRleF9iZWZvcmVJbnNlcnQuY2FsbChfb3JhbWFfaW5kZXgsIG9yYW1hLmRhdGEuaW5kZXgsIHByb3AsIGlkLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlLCBsYW5ndWFnZSwgb3JhbWEudG9rZW5pemVyLCBkb2NzQ291bnQpKTtcbiAgICAgICAgYXdhaXQgb3JhbWEuaW5kZXguaW5zZXJ0KG9yYW1hLmluZGV4LCBvcmFtYS5kYXRhLmluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIGV4cGVjdGVkVHlwZSwgbGFuZ3VhZ2UsIG9yYW1hLnRva2VuaXplciwgZG9jc0NvdW50KTtcbiAgICAgICAgYXdhaXQgKChfb3JhbWFfaW5kZXhfYWZ0ZXJJbnNlcnQgPSAoX29yYW1hX2luZGV4MSA9IG9yYW1hLmluZGV4KS5hZnRlckluc2VydCkgPT09IG51bGwgfHwgX29yYW1hX2luZGV4X2FmdGVySW5zZXJ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3JhbWFfaW5kZXhfYWZ0ZXJJbnNlcnQuY2FsbChfb3JhbWFfaW5kZXgxLCBvcmFtYS5kYXRhLmluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIGV4cGVjdGVkVHlwZSwgbGFuZ3VhZ2UsIG9yYW1hLnRva2VuaXplciwgZG9jc0NvdW50KSk7XG4gICAgfVxuICAgIGNvbnN0IHNvcnRhYmxlUHJvcGVydGllcyA9IGF3YWl0IG9yYW1hLnNvcnRlci5nZXRTb3J0YWJsZVByb3BlcnRpZXMob3JhbWEuZGF0YS5zb3J0aW5nKTtcbiAgICBjb25zdCBzb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMgPSBhd2FpdCBvcmFtYS5zb3J0ZXIuZ2V0U29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKG9yYW1hLmRhdGEuc29ydGluZyk7XG4gICAgY29uc3Qgc29ydGFibGVWYWx1ZXMgPSBhd2FpdCBvcmFtYS5nZXREb2N1bWVudFByb3BlcnRpZXMoZG9jLCBzb3J0YWJsZVByb3BlcnRpZXMpO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBzb3J0YWJsZVByb3BlcnRpZXMpe1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHNvcnRhYmxlVmFsdWVzW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzW3Byb3BdO1xuICAgICAgICBhd2FpdCBvcmFtYS5zb3J0ZXIuaW5zZXJ0KG9yYW1hLmRhdGEuc29ydGluZywgcHJvcCwgaWQsIHZhbHVlLCBleHBlY3RlZFR5cGUsIGxhbmd1YWdlKTtcbiAgICB9XG4gICAgaWYgKCFza2lwSG9va3MpIHtcbiAgICAgICAgYXdhaXQgcnVuU2luZ2xlSG9vayhvcmFtYS5hZnRlckluc2VydCwgb3JhbWEsIGlkLCBkb2MpO1xuICAgIH1cbiAgICB0cmFja0luc2VydGlvbihvcmFtYSk7XG4gICAgcmV0dXJuIGlkO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydE11bHRpcGxlKG9yYW1hLCBkb2NzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MsIHRpbWVvdXQpIHtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBhd2FpdCBydW5NdWx0aXBsZUhvb2sob3JhbWEuYmVmb3JlSW5zZXJ0TXVsdGlwbGUsIG9yYW1hLCBkb2NzKTtcbiAgICB9XG4gICAgLy8gVmFsaWRhdGUgYWxsIGRvY3VtZW50cyBiZWZvcmUgdGhlIGluc2VydGlvblxuICAgIGNvbnN0IGRvY3NMZW5ndGggPSBkb2NzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZG9jc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgZXJyb3JQcm9wZXJ0eSA9IGF3YWl0IG9yYW1hLnZhbGlkYXRlU2NoZW1hKGRvY3NbaV0sIG9yYW1hLnNjaGVtYSk7XG4gICAgICAgIGlmIChlcnJvclByb3BlcnR5KSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignU0NIRU1BX1ZBTElEQVRJT05fRkFJTFVSRScsIGVycm9yUHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbm5lckluc2VydE11bHRpcGxlKG9yYW1hLCBkb2NzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MsIHRpbWVvdXQpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlubmVySW5zZXJ0TXVsdGlwbGUob3JhbWEsIGRvY3MsIGJhdGNoU2l6ZSwgbGFuZ3VhZ2UsIHNraXBIb29rcywgdGltZW91dCkge1xuICAgIGlmICghYmF0Y2hTaXplKSB7XG4gICAgICAgIGJhdGNoU2l6ZSA9IDEwMDA7XG4gICAgfVxuICAgIHRpbWVvdXQgPSB0aW1lb3V0IHx8IDA7XG4gICAgY29uc3QgaWRzID0gW107XG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBhc3luYyBmdW5jdGlvbiBfaW5zZXJ0TXVsdGlwbGUoKSB7XG4gICAgICAgICAgICBjb25zdCBiYXRjaCA9IGRvY3Muc2xpY2UoaSAqIGJhdGNoU2l6ZSwgKGkgKyAxKSAqIGJhdGNoU2l6ZSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBpZiAoIWJhdGNoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRvYyBvZiBiYXRjaCl7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSBhd2FpdCBpbnNlcnQob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcyk7XG4gICAgICAgICAgICAgICAgICAgIGlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0VGltZW91dChfaW5zZXJ0TXVsdGlwbGUsIHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoX2luc2VydE11bHRpcGxlLCB0aW1lb3V0KTtcbiAgICB9KTtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBhd2FpdCBydW5NdWx0aXBsZUhvb2sob3JhbWEuYWZ0ZXJJbnNlcnRNdWx0aXBsZSwgb3JhbWEsIGRvY3MpO1xuICAgIH1cbiAgICByZXR1cm4gaWRzO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnNlcnQuanMubWFwIiwiaW1wb3J0IHsgcnVuTXVsdGlwbGVIb29rLCBydW5TaW5nbGVIb29rIH0gZnJvbSAnLi4vY29tcG9uZW50cy9ob29rcy5qcyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudElkRnJvbUludGVybmFsSWQsIGdldEludGVybmFsRG9jdW1lbnRJZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuaW1wb3J0IHsgdHJhY2tSZW1vdmFsIH0gZnJvbSAnLi4vY29tcG9uZW50cy9zeW5jLWJsb2NraW5nLWNoZWNrZXIuanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZShvcmFtYSwgaWQsIGxhbmd1YWdlLCBza2lwSG9va3MpIHtcbiAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcbiAgICBjb25zdCB7IGluZGV4ICwgZG9jcyAgfSA9IG9yYW1hLmRhdGE7XG4gICAgY29uc3QgZG9jID0gYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUuZ2V0KGRvY3MsIGlkKTtcbiAgICBpZiAoIWRvYykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGRvY0lkID0gZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCBnZXRJbnRlcm5hbERvY3VtZW50SWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIGlkKSk7XG4gICAgY29uc3QgZG9jc0NvdW50ID0gYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUuY291bnQoZG9jcyk7XG4gICAgaWYgKCFza2lwSG9va3MpIHtcbiAgICAgICAgYXdhaXQgcnVuU2luZ2xlSG9vayhvcmFtYS5iZWZvcmVSZW1vdmUsIG9yYW1hLCBkb2NJZCk7XG4gICAgfVxuICAgIGNvbnN0IGluZGV4YWJsZVByb3BlcnRpZXMgPSBhd2FpdCBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllcyhpbmRleCk7XG4gICAgY29uc3QgaW5kZXhhYmxlUHJvcGVydGllc1dpdGhUeXBlcyA9IGF3YWl0IG9yYW1hLmluZGV4LmdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKGluZGV4KTtcbiAgICBjb25zdCB2YWx1ZXMgPSBhd2FpdCBvcmFtYS5nZXREb2N1bWVudFByb3BlcnRpZXMoZG9jLCBpbmRleGFibGVQcm9wZXJ0aWVzKTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgaW5kZXhhYmxlUHJvcGVydGllcyl7XG4gICAgICAgIHZhciBfb3JhbWFfaW5kZXgsIF9vcmFtYV9pbmRleF9iZWZvcmVSZW1vdmUsIF9vcmFtYV9pbmRleDEsIF9vcmFtYV9pbmRleF9hZnRlclJlbW92ZTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNbcHJvcF07XG4gICAgICAgIC8vIFRoZSBkb2N1bWVudCBkb2Vzbid0IGNvbnRhaW4gdGhlIGtleVxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NoZW1hVHlwZSA9IGluZGV4YWJsZVByb3BlcnRpZXNXaXRoVHlwZXNbcHJvcF07XG4gICAgICAgIGF3YWl0ICgoX29yYW1hX2luZGV4X2JlZm9yZVJlbW92ZSA9IChfb3JhbWFfaW5kZXggPSBvcmFtYS5pbmRleCkuYmVmb3JlUmVtb3ZlKSA9PT0gbnVsbCB8fCBfb3JhbWFfaW5kZXhfYmVmb3JlUmVtb3ZlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3JhbWFfaW5kZXhfYmVmb3JlUmVtb3ZlLmNhbGwoX29yYW1hX2luZGV4LCBvcmFtYS5kYXRhLmluZGV4LCBwcm9wLCBkb2NJZCwgdmFsdWUsIHNjaGVtYVR5cGUsIGxhbmd1YWdlLCBvcmFtYS50b2tlbml6ZXIsIGRvY3NDb3VudCkpO1xuICAgICAgICBpZiAoIWF3YWl0IG9yYW1hLmluZGV4LnJlbW92ZShvcmFtYS5pbmRleCwgb3JhbWEuZGF0YS5pbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgb3JhbWEudG9rZW5pemVyLCBkb2NzQ291bnQpKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCAoKF9vcmFtYV9pbmRleF9hZnRlclJlbW92ZSA9IChfb3JhbWFfaW5kZXgxID0gb3JhbWEuaW5kZXgpLmFmdGVyUmVtb3ZlKSA9PT0gbnVsbCB8fCBfb3JhbWFfaW5kZXhfYWZ0ZXJSZW1vdmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcmFtYV9pbmRleF9hZnRlclJlbW92ZS5jYWxsKF9vcmFtYV9pbmRleDEsIG9yYW1hLmRhdGEuaW5kZXgsIHByb3AsIGRvY0lkLCB2YWx1ZSwgc2NoZW1hVHlwZSwgbGFuZ3VhZ2UsIG9yYW1hLnRva2VuaXplciwgZG9jc0NvdW50KSk7XG4gICAgfVxuICAgIGNvbnN0IHNvcnRhYmxlUHJvcGVydGllcyA9IGF3YWl0IG9yYW1hLnNvcnRlci5nZXRTb3J0YWJsZVByb3BlcnRpZXMob3JhbWEuZGF0YS5zb3J0aW5nKTtcbiAgICBjb25zdCBzb3J0YWJsZVZhbHVlcyA9IGF3YWl0IG9yYW1hLmdldERvY3VtZW50UHJvcGVydGllcyhkb2MsIHNvcnRhYmxlUHJvcGVydGllcyk7XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIHNvcnRhYmxlUHJvcGVydGllcyl7XG4gICAgICAgIC8vIFRoZSBkb2N1bWVudCBkb2Vzbid0IGNvbnRhaW4gdGhlIGtleVxuICAgICAgICBpZiAodHlwZW9mIHNvcnRhYmxlVmFsdWVzW3Byb3BdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgb3JhbWEuc29ydGVyLnJlbW92ZShvcmFtYS5kYXRhLnNvcnRpbmcsIHByb3AsIGlkKTtcbiAgICB9XG4gICAgaWYgKCFza2lwSG9va3MpIHtcbiAgICAgICAgYXdhaXQgcnVuU2luZ2xlSG9vayhvcmFtYS5hZnRlclJlbW92ZSwgb3JhbWEsIGRvY0lkKTtcbiAgICB9XG4gICAgYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUucmVtb3ZlKG9yYW1hLmRhdGEuZG9jcywgaWQpO1xuICAgIHRyYWNrUmVtb3ZhbChvcmFtYSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmVNdWx0aXBsZShvcmFtYSwgaWRzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MpIHtcbiAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICBpZiAoIWJhdGNoU2l6ZSkge1xuICAgICAgICBiYXRjaFNpemUgPSAxMDAwO1xuICAgIH1cbiAgICBjb25zdCBkb2NJZHNGb3JIb29rcyA9IHNraXBIb29rcyA/IFtdIDogaWRzLm1hcCgoaWQpPT5nZXREb2N1bWVudElkRnJvbUludGVybmFsSWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIGdldEludGVybmFsRG9jdW1lbnRJZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgaWQpKSk7XG4gICAgaWYgKCFza2lwSG9va3MpIHtcbiAgICAgICAgYXdhaXQgcnVuTXVsdGlwbGVIb29rKG9yYW1hLmJlZm9yZVJlbW92ZU11bHRpcGxlLCBvcmFtYSwgZG9jSWRzRm9ySG9va3MpO1xuICAgIH1cbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIF9pbnNlcnRNdWx0aXBsZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gaWRzLnNsaWNlKGkgKiBiYXRjaFNpemUsIChpICsgMSkgKiBiYXRjaFNpemUpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgaWYgKCFiYXRjaC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBkb2Mgb2YgYmF0Y2gpe1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhd2FpdCByZW1vdmUob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFRpbWVvdXQoX2luc2VydE11bHRpcGxlLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KF9pbnNlcnRNdWx0aXBsZSwgMCk7XG4gICAgfSk7XG4gICAgaWYgKCFza2lwSG9va3MpIHtcbiAgICAgICAgYXdhaXQgcnVuTXVsdGlwbGVIb29rKG9yYW1hLmFmdGVyUmVtb3ZlTXVsdGlwbGUsIG9yYW1hLCBkb2NJZHNGb3JIb29rcyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlbW92ZS5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBnZXROZXN0ZWQgfSBmcm9tICcuLi91dGlscy5qcyc7XG5mdW5jdGlvbiBzb3J0aW5nUHJlZGljYXRlKG9yZGVyID0gJ2Rlc2MnLCBhLCBiKSB7XG4gICAgaWYgKG9yZGVyLnRvTG93ZXJDYXNlKCkgPT09ICdhc2MnKSB7XG4gICAgICAgIHJldHVybiBhWzFdIC0gYlsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYlsxXSAtIGFbMV07XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZhY2V0cyhvcmFtYSwgcmVzdWx0cywgZmFjZXRzQ29uZmlnKSB7XG4gICAgY29uc3QgZmFjZXRzID0ge307XG4gICAgY29uc3QgYWxsSURzID0gcmVzdWx0cy5tYXAoKFtpZF0pPT5pZCk7XG4gICAgY29uc3QgYWxsRG9jcyA9IGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmdldE11bHRpcGxlKG9yYW1hLmRhdGEuZG9jcywgYWxsSURzKTtcbiAgICBjb25zdCBmYWNldEtleXMgPSBPYmplY3Qua2V5cyhmYWNldHNDb25maWcpO1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBhd2FpdCBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyhvcmFtYS5kYXRhLmluZGV4KTtcbiAgICBmb3IgKGNvbnN0IGZhY2V0IG9mIGZhY2V0S2V5cyl7XG4gICAgICAgIGxldCB2YWx1ZXMgPSB7fTtcbiAgICAgICAgLy8gSGFjayB0byBndWFyYW50ZWUgdGhlIHNhbWUgb3JkZXIgb2YgcmFuZ2VzIGFzIHNwZWNpZmllZCBieSB0aGUgdXNlclxuICAgICAgICAvLyBUT0RPOiBSZXZpc2l0IHRoaXMgb25jZSBjb21wb25lbnRzIGxhbmRcbiAgICAgICAgaWYgKHByb3BlcnRpZXNbZmFjZXRdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29uc3QgeyByYW5nZXMgIH0gPSBmYWNldHNDb25maWdbZmFjZXRdO1xuICAgICAgICAgICAgY29uc3QgdG1wID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJhbmdlIG9mIHJhbmdlcyl7XG4gICAgICAgICAgICAgICAgdG1wLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICBgJHtyYW5nZS5mcm9tfS0ke3JhbmdlLnRvfWAsXG4gICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlcyA9IE9iamVjdC5mcm9tRW50cmllcyh0bXApO1xuICAgICAgICB9XG4gICAgICAgIGZhY2V0c1tmYWNldF0gPSB7XG4gICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgIHZhbHVlc1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBhbGxEb2NzTGVuZ3RoID0gYWxsRG9jcy5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGFsbERvY3NMZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IGRvYyA9IGFsbERvY3NbaV07XG4gICAgICAgIGZvciAoY29uc3QgZmFjZXQgb2YgZmFjZXRLZXlzKXtcbiAgICAgICAgICAgIGNvbnN0IGZhY2V0VmFsdWUgPSBmYWNldC5pbmNsdWRlcygnLicpID8gYXdhaXQgZ2V0TmVzdGVkKGRvYywgZmFjZXQpIDogZG9jW2ZhY2V0XTtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5VHlwZSA9IHByb3BlcnRpZXNbZmFjZXRdO1xuICAgICAgICAgICAgc3dpdGNoKHByb3BlcnR5VHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZ2VzID0gZmFjZXRzQ29uZmlnW2ZhY2V0XS5yYW5nZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVOdW1iZXJGYWNldChyYW5nZXMsIGZhY2V0c1tmYWNldF0udmFsdWVzLCBmYWNldFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyW10nOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZXMgPSBmYWNldHNDb25maWdbZmFjZXRdLnJhbmdlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiBmYWNldFZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVOdW1iZXJGYWNldChyYW5nZXMsIGZhY2V0c1tmYWNldF0udmFsdWVzLCB2LCBhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgICAgICBjYXNlICdlbnVtJzpcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVCb29sZWFuU3RyaW5nT3JFbnVtRmFjZXQoZmFjZXRzW2ZhY2V0XS52YWx1ZXMsIGZhY2V0VmFsdWUsIHByb3BlcnR5VHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW5bXSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZW51bVtdJzpcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmdbXSc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFscmVhZHlJbnNlcnRlZFZhbHVlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyVHlwZSA9IHByb3BlcnR5VHlwZSA9PT0gJ2Jvb2xlYW5bXScgPyAnYm9vbGVhbicgOiAnc3RyaW5nJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiBmYWNldFZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVCb29sZWFuU3RyaW5nT3JFbnVtRmFjZXQoZmFjZXRzW2ZhY2V0XS52YWx1ZXMsIHYsIGlubmVyVHlwZSwgYWxyZWFkeUluc2VydGVkVmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0ZBQ0VUX05PVF9TVVBQT1JURUQnLCBwcm9wZXJ0eVR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgZmFjZXQgb2YgZmFjZXRLZXlzKXtcbiAgICAgICAgLy8gQ291bnQgdGhlIG51bWJlciBvZiB2YWx1ZXMgZm9yIGVhY2ggZmFjZXRcbiAgICAgICAgZmFjZXRzW2ZhY2V0XS5jb3VudCA9IE9iamVjdC5rZXlzKGZhY2V0c1tmYWNldF0udmFsdWVzKS5sZW5ndGg7XG4gICAgICAgIC8vIFNvcnQgb25seSBzdHJpbmctYmFzZWQgZmFjZXRzXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzW2ZhY2V0XSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmluZ0ZhY2V0RGVmaW5pdGlvbiA9IGZhY2V0c0NvbmZpZztcbiAgICAgICAgICAgIGZhY2V0c1tmYWNldF0udmFsdWVzID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGZhY2V0c1tmYWNldF0udmFsdWVzKS5zb3J0KChhLCBiKT0+c29ydGluZ1ByZWRpY2F0ZShzdHJpbmdGYWNldERlZmluaXRpb24uc29ydCwgYSwgYikpLnNsaWNlKHN0cmluZ0ZhY2V0RGVmaW5pdGlvbi5vZmZzZXQgPz8gMCwgc3RyaW5nRmFjZXREZWZpbml0aW9uLmxpbWl0ID8/IDEwKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhY2V0cztcbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZU51bWJlckZhY2V0KHJhbmdlcywgdmFsdWVzLCBmYWNldFZhbHVlLCBhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMpIHtcbiAgICBmb3IgKGNvbnN0IHJhbmdlIG9mIHJhbmdlcyl7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYCR7cmFuZ2UuZnJvbX0tJHtyYW5nZS50b31gO1xuICAgICAgICBpZiAoYWxyZWFkeUluc2VydGVkVmFsdWVzICYmIGFscmVhZHlJbnNlcnRlZFZhbHVlcy5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmFjZXRWYWx1ZSA+PSByYW5nZS5mcm9tICYmIGZhY2V0VmFsdWUgPD0gcmFuZ2UudG8pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbdmFsdWVdID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzW3ZhbHVlXSsrO1xuICAgICAgICAgICAgICAgIGlmIChhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxyZWFkeUluc2VydGVkVmFsdWVzLmFkZCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY2FsY3VsYXRlQm9vbGVhblN0cmluZ09yRW51bUZhY2V0KHZhbHVlcywgZmFjZXRWYWx1ZSwgcHJvcGVydHlUeXBlLCBhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMpIHtcbiAgICAvLyBTdHJpbmcgb3IgYm9vbGVhbiBiYXNlZCBmYWNldHNcbiAgICBjb25zdCB2YWx1ZSA9IChmYWNldFZhbHVlID09PSBudWxsIHx8IGZhY2V0VmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZhY2V0VmFsdWUudG9TdHJpbmcoKSkgPz8gKHByb3BlcnR5VHlwZSA9PT0gJ2Jvb2xlYW4nID8gJ2ZhbHNlJyA6ICcnKTtcbiAgICBpZiAoYWxyZWFkeUluc2VydGVkVmFsdWVzICYmIGFscmVhZHlJbnNlcnRlZFZhbHVlcy5oYXModmFsdWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFsdWVzW3ZhbHVlXSA9ICh2YWx1ZXNbdmFsdWVdID8/IDApICsgMTtcbiAgICBpZiAoYWxyZWFkeUluc2VydGVkVmFsdWVzKSB7XG4gICAgICAgIGFscmVhZHlJbnNlcnRlZFZhbHVlcy5hZGQodmFsdWUpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmFjZXRzLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RGaWx0ZXJlZElEcyhmaWx0ZXJlZCwgbG9va2VkVXApIHtcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZm9yIChjb25zdCBpZCBvZiBmaWx0ZXJlZCl7XG4gICAgICAgIG1hcC5zZXQoaWQsIHRydWUpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtpZCwgc2NvcmVdIG9mIGxvb2tlZFVwKXtcbiAgICAgICAgaWYgKG1hcC5oYXMoaWQpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChbXG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgc2NvcmVcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgbWFwLmRlbGV0ZShpZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVycy5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBnZXROZXN0ZWQsIGludGVyc2VjdCwgc2FmZUFycmF5UHVzaCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IGdldERvY3VtZW50SWRGcm9tSW50ZXJuYWxJZCB9IGZyb20gJy4vaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuY29uc3QgREVGQVVMVF9SRURVQ0UgPSB7XG4gICAgcmVkdWNlcjogKF8sIGFjYywgcmVzLCBpbmRleCk9PntcbiAgICAgICAgYWNjW2luZGV4XSA9IHJlcztcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LFxuICAgIGdldEluaXRpYWxWYWx1ZTogKGxlbmd0aCk9PkFycmF5LmZyb20oe1xuICAgICAgICAgICAgbGVuZ3RoXG4gICAgICAgIH0pXG59O1xuY29uc3QgQUxMT1dFRF9UWVBFUyA9IFtcbiAgICAnc3RyaW5nJyxcbiAgICAnbnVtYmVyJyxcbiAgICAnYm9vbGVhbidcbl07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0R3JvdXBzKG9yYW1hLCByZXN1bHRzLCBncm91cEJ5KSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IGdyb3VwQnkucHJvcGVydGllcztcbiAgICBjb25zdCBwcm9wZXJ0aWVzTGVuZ3RoID0gcHJvcGVydGllcy5sZW5ndGg7XG4gICAgY29uc3Qgc2NoZW1hUHJvcGVydGllcyA9IGF3YWl0IG9yYW1hLmluZGV4LmdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKG9yYW1hLmRhdGEuaW5kZXgpO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hUHJvcGVydGllc1twcm9wZXJ0eV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5LTk9XTl9HUk9VUF9CWV9QUk9QRVJUWScsIHByb3BlcnR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUFMTE9XRURfVFlQRVMuaW5jbHVkZXMoc2NoZW1hUHJvcGVydGllc1twcm9wZXJ0eV0pKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9HUk9VUF9CWV9QUk9QRVJUWScsIHByb3BlcnR5LCBBTExPV0VEX1RZUEVTLmpvaW4oJywgJyksIHNjaGVtYVByb3BlcnRpZXNbcHJvcGVydHldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhbGxJRHMgPSByZXN1bHRzLm1hcCgoW2lkXSk9PmdldERvY3VtZW50SWRGcm9tSW50ZXJuYWxJZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgaWQpKTtcbiAgICAvLyBhbGxEb2NzIGlzIGFscmVhZHkgc29ydGVkIGJ5IHRoZSBzb3J0QnkgYWxnb3JpdGhtXG4gICAgLy8gV2UgbGV2ZXJhZ2Ugb24gdGhhdCB0byBsaW1pdCB0aGUgbnVtYmVyIG9mIGRvY3VtZW50cyByZXR1cm5lZFxuICAgIGNvbnN0IGFsbERvY3MgPSBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5nZXRNdWx0aXBsZShvcmFtYS5kYXRhLmRvY3MsIGFsbElEcyk7XG4gICAgY29uc3QgYWxsRG9jc0xlbmd0aCA9IGFsbERvY3MubGVuZ3RoO1xuICAgIGNvbnN0IHJldHVybmVkQ291bnQgPSBncm91cEJ5Lm1heFJlc3VsdCB8fCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICBjb25zdCBsaXN0T2ZWYWx1ZXMgPSBbXTtcbiAgICAvLyBXZSB3YW50IHRvIHVuZGVyc3RhbmQgd2hpY2ggZG9jdW1lbnRzIGhhdmUgd2hpY2ggdmFsdWVzXG4gICAgLy8gYW5kIGdyb3VwIHRoZW0gYnkgdGhlIHByb3BlcnR5IGFuZCB2YWx1ZXNcbiAgICBjb25zdCBnID0ge307XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHByb3BlcnRpZXNMZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IGdyb3VwQnlLZXkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgICAgICBjb25zdCBncm91cCA9IHtcbiAgICAgICAgICAgIHByb3BlcnR5OiBncm91cEJ5S2V5LFxuICAgICAgICAgICAgcGVyVmFsdWU6IHt9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IGFsbERvY3NMZW5ndGg7IGorKyl7XG4gICAgICAgICAgICBjb25zdCBkb2MgPSBhbGxEb2NzW2pdO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBnZXROZXN0ZWQoZG9jLCBncm91cEJ5S2V5KTtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gY29uc2lkZXIgdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGtleVZhbHVlID0gdHlwZW9mIHZhbHVlICE9PSAnYm9vbGVhbicgPyB2YWx1ZSA6ICcnICsgdmFsdWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGdyb3VwLnBlclZhbHVlW2tleVZhbHVlXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBncm91cC5wZXJWYWx1ZVtrZXlWYWx1ZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogMFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ3JvdXAucGVyVmFsdWVba2V5VmFsdWVdLmNvdW50ID49IHJldHVybmVkQ291bnQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdlIHVzZSB0aGUgaW5kZXggdG8ga2VlcCB0cmFjayBvZiB0aGUgb3JpZ2luYWwgb3JkZXJcbiAgICAgICAgICAgIGdyb3VwLnBlclZhbHVlW2tleVZhbHVlXS5pbmRleGVzLnB1c2goaik7XG4gICAgICAgICAgICBncm91cC5wZXJWYWx1ZVtrZXlWYWx1ZV0uY291bnQrKztcbiAgICAgICAgICAgIHZhbHVlcy5hZGQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGxpc3RPZlZhbHVlcy5wdXNoKEFycmF5LmZyb20odmFsdWVzKSk7XG4gICAgICAgIGdbZ3JvdXBCeUtleV0gPSBncm91cDtcbiAgICB9XG4gICAgY29uc3QgY29tYmluYXRpb25zID0gY2FsY3VsYXRlQ29tYmluYXRpb24obGlzdE9mVmFsdWVzKTtcbiAgICBjb25zdCBjb21iaW5hdGlvbnNMZW5ndGggPSBjb21iaW5hdGlvbnMubGVuZ3RoO1xuICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjb21iaW5hdGlvbnNMZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IGNvbWJpbmF0aW9uID0gY29tYmluYXRpb25zW2ldO1xuICAgICAgICBjb25zdCBjb21iaW5hdGlvbkxlbmd0aCA9IGNvbWJpbmF0aW9uLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSB7XG4gICAgICAgICAgICB2YWx1ZXM6IFtdLFxuICAgICAgICAgICAgaW5kZXhlczogW11cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW5kZXhlcyA9IFtdO1xuICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgY29tYmluYXRpb25MZW5ndGg7IGorKyl7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbWJpbmF0aW9uW2pdO1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2pdO1xuICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGdbcHJvcGVydHldLnBlclZhbHVlW3R5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nID8gdmFsdWUgOiAnJyArIHZhbHVlXS5pbmRleGVzKTtcbiAgICAgICAgICAgIGdyb3VwLnZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBsZXZlcmFnZSBvbiB0aGUgaW5kZXggdG8gc29ydCB0aGUgcmVzdWx0cyBieSB0aGUgb3JpZ2luYWwgb3JkZXJcbiAgICAgICAgZ3JvdXAuaW5kZXhlcyA9IGludGVyc2VjdChpbmRleGVzKS5zb3J0KChhLCBiKT0+YSAtIGIpO1xuICAgICAgICAvLyBkb24ndCBnZW5lcmF0ZSBlbXB0eSBncm91cHNcbiAgICAgICAgaWYgKGdyb3VwLmluZGV4ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBncm91cHMucHVzaChncm91cCk7XG4gICAgfVxuICAgIGNvbnN0IGdyb3Vwc0xlbmd0aCA9IGdyb3Vwcy5sZW5ndGg7XG4gICAgY29uc3QgcmVzID0gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogZ3JvdXBzTGVuZ3RoXG4gICAgfSk7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGdyb3Vwc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgICAgIGNvbnN0IHJlZHVjZSA9IGdyb3VwQnkucmVkdWNlIHx8IERFRkFVTFRfUkVEVUNFO1xuICAgICAgICBjb25zdCBkb2NzID0gZ3JvdXAuaW5kZXhlcy5tYXAoKGluZGV4KT0+e1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogYWxsSURzW2luZGV4XSxcbiAgICAgICAgICAgICAgICBzY29yZTogcmVzdWx0c1tpbmRleF1bMV0sXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQ6IGFsbERvY3NbaW5kZXhdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZnVuYyA9IHJlZHVjZS5yZWR1Y2VyLmJpbmQobnVsbCwgZ3JvdXAudmFsdWVzKTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZhbHVlID0gcmVkdWNlLmdldEluaXRpYWxWYWx1ZShncm91cC5pbmRleGVzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGFnZ3JlZ2F0aW9uVmFsdWUgPSBkb2NzLnJlZHVjZShmdW5jLCBpbml0aWFsVmFsdWUpO1xuICAgICAgICByZXNbaV0gPSB7XG4gICAgICAgICAgICB2YWx1ZXM6IGdyb3VwLnZhbHVlcyxcbiAgICAgICAgICAgIHJlc3VsdDogYWdncmVnYXRpb25WYWx1ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlQ29tYmluYXRpb24oYXJycywgaW5kZXggPSAwKSB7XG4gICAgaWYgKGluZGV4ICsgMSA9PT0gYXJycy5sZW5ndGgpIHJldHVybiBhcnJzW2luZGV4XS5tYXAoKGl0ZW0pPT5bXG4gICAgICAgICAgICBpdGVtXG4gICAgICAgIF0pO1xuICAgIGNvbnN0IGhlYWQgPSBhcnJzW2luZGV4XTtcbiAgICBjb25zdCBjID0gY2FsY3VsYXRlQ29tYmluYXRpb24oYXJycywgaW5kZXggKyAxKTtcbiAgICBjb25zdCBjb21iaW5hdGlvbnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGhlYWQpe1xuICAgICAgICBmb3IgKGNvbnN0IGNvbWJpbmF0aW9uIG9mIGMpe1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gW1xuICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgc2FmZUFycmF5UHVzaChyZXN1bHQsIGNvbWJpbmF0aW9uKTtcbiAgICAgICAgICAgIGNvbWJpbmF0aW9ucy5wdXNoKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbWJpbmF0aW9ucztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JvdXBzLmpzLm1hcCIsImltcG9ydCB7IHByaW9yaXRpemVUb2tlblNjb3JlcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvYWxnb3JpdGhtcy5qcyc7XG5pbXBvcnQgeyBnZXRGYWNldHMgfSBmcm9tICcuLi9jb21wb25lbnRzL2ZhY2V0cy5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RGaWx0ZXJlZElEcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvZmlsdGVycy5qcyc7XG5pbXBvcnQgeyBnZXRHcm91cHMgfSBmcm9tICcuLi9jb21wb25lbnRzL2dyb3Vwcy5qcyc7XG5pbXBvcnQgeyBydW5BZnRlclNlYXJjaCwgcnVuQmVmb3JlU2VhcmNoIH0gZnJvbSAnLi4vY29tcG9uZW50cy9ob29rcy5qcyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudElkRnJvbUludGVybmFsSWQsIGdldEludGVybmFsRG9jdW1lbnRJZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgZ2V0TmFub3NlY29uZHNUaW1lLCBnZXROZXN0ZWQsIHNvcnRUb2tlblNjb3JlUHJlZGljYXRlLCBzYWZlQXJyYXlQdXNoIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuY29uc3QgZGVmYXVsdEJNMjVQYXJhbXMgPSB7XG4gICAgazogMS4yLFxuICAgIGI6IDAuNzUsXG4gICAgZDogMC41XG59O1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlU2VhcmNoQ29udGV4dCh0b2tlbml6ZXIsIGluZGV4LCBkb2N1bWVudHNTdG9yZSwgbGFuZ3VhZ2UsIHBhcmFtcywgcHJvcGVydGllcywgdG9rZW5zLCBkb2NzQ291bnQsIHRpbWVTdGFydCkge1xuICAgIC8vIElmIGZpbHRlcnMgYXJlIGVuYWJsZWQsIHdlIG5lZWQgdG8gZ2V0IHRoZSBJRHMgb2YgdGhlIGRvY3VtZW50cyB0aGF0IG1hdGNoIHRoZSBmaWx0ZXJzLlxuICAgIC8vIGNvbnN0IGhhc0ZpbHRlcnMgPSBPYmplY3Qua2V5cyhwYXJhbXMud2hlcmUgPz8ge30pLmxlbmd0aCA+IDA7XG4gICAgLy8gbGV0IHdoZXJlRmlsdGVyc0lEczogc3RyaW5nW10gPSBbXTtcbiAgICAvLyBpZiAoaGFzRmlsdGVycykge1xuICAgIC8vICAgd2hlcmVGaWx0ZXJzSURzID0gZ2V0V2hlcmVGaWx0ZXJzSURzKHBhcmFtcy53aGVyZSEsIG9yYW1hKTtcbiAgICAvLyB9XG4gICAgLy8gaW5kZXhNYXAgaXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBpbmRleGVzIGNvbnNpZGVyZWQgZm9yIHRoZSBjdXJyZW50IHNlYXJjaCxcbiAgICAvLyBhbmQgYW4gYXJyYXkgb2YgZG9jIElEcyBmb3IgZWFjaCB0b2tlbiBpbiBhbGwgdGhlIGluZGljZXMuXG4gICAgLy9cbiAgICAvLyBHaXZlbiB0aGUgc2VhcmNoIHRlcm0gXCJxdWljayBicm93biBmb3hcIiBvbiB0aGUgXCJkZXNjcmlwdGlvblwiIGluZGV4LFxuICAgIC8vIGluZGV4TWFwIHdpbGwgbG9vayBsaWtlIHRoaXM6XG4gICAgLy9cbiAgICAvLyB7XG4gICAgLy8gICBkZXNjcmlwdGlvbjoge1xuICAgIC8vICAgICBxdWljazogW2RvYzEsIGRvYzIsIGRvYzNdLFxuICAgIC8vICAgICBicm93bjogW2RvYzIsIGRvYzRdLFxuICAgIC8vICAgICBmb3g6ICAgW2RvYzJdXG4gICAgLy8gICB9XG4gICAgLy8gfVxuICAgIGNvbnN0IGluZGV4TWFwID0ge307XG4gICAgLy8gQWZ0ZXIgd2UgY3JlYXRlIHRoZSBpbmRleE1hcCwgd2UgbmVlZCB0byBjYWxjdWxhdGUgdGhlIGludGVyc2VjdGlvblxuICAgIC8vIGJldHdlZW4gYWxsIHRoZSBwb3N0aW5ncyBsaXN0cyBmb3IgZWFjaCB0b2tlbi5cbiAgICAvLyBHaXZlbiB0aGUgZXhhbXBsZSBhYm92ZSwgZG9jc0ludGVyc2VjdGlvbiB3aWxsIGxvb2sgbGlrZSB0aGlzOlxuICAgIC8vXG4gICAgLy8ge1xuICAgIC8vICAgZGVzY3JpcHRpb246IFtkb2MyXVxuICAgIC8vIH1cbiAgICAvL1xuICAgIC8vIGFzIGRvYzIgaXMgdGhlIG9ubHkgZG9jdW1lbnQgcHJlc2VudCBpbiBhbGwgdGhlIHBvc3RpbmdzIGxpc3RzIGZvciB0aGUgXCJkZXNjcmlwdGlvblwiIGluZGV4LlxuICAgIGNvbnN0IGRvY3NJbnRlcnNlY3Rpb24gPSB7fTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcGVydGllcyl7XG4gICAgICAgIGNvbnN0IHRva2Vuc01hcCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2Vucyl7XG4gICAgICAgICAgICB0b2tlbnNNYXBbdG9rZW5dID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXhNYXBbcHJvcF0gPSB0b2tlbnNNYXA7XG4gICAgICAgIGRvY3NJbnRlcnNlY3Rpb25bcHJvcF0gPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGltZVN0YXJ0LFxuICAgICAgICB0b2tlbml6ZXIsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBkb2N1bWVudHNTdG9yZSxcbiAgICAgICAgbGFuZ3VhZ2UsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgZG9jc0NvdW50LFxuICAgICAgICB1bmlxdWVEb2NzSURzOiB7fSxcbiAgICAgICAgaW5kZXhNYXAsXG4gICAgICAgIGRvY3NJbnRlcnNlY3Rpb25cbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaChvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSkge1xuICAgIGNvbnN0IHRpbWVTdGFydCA9IGF3YWl0IGdldE5hbm9zZWNvbmRzVGltZSgpO1xuICAgIHBhcmFtcy5yZWxldmFuY2UgPSBPYmplY3QuYXNzaWduKHBhcmFtcy5yZWxldmFuY2UgPz8ge30sIGRlZmF1bHRCTTI1UGFyYW1zKTtcbiAgICBjb25zdCBzaG91bGRDYWxjdWxhdGVGYWNldHMgPSBwYXJhbXMuZmFjZXRzICYmIE9iamVjdC5rZXlzKHBhcmFtcy5mYWNldHMpLmxlbmd0aCA+IDA7XG4gICAgY29uc3QgeyBsaW1pdCA9MTAgLCBvZmZzZXQgPTAgLCB0ZXJtICwgcHJvcGVydGllcyAsIHRocmVzaG9sZCA9MSAsIGRpc3RpbmN0T24gIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgaXNQcmVmbGlnaHQgPSBwYXJhbXMucHJlZmxpZ2h0ID09PSB0cnVlO1xuICAgIGNvbnN0IHsgaW5kZXggLCBkb2NzICB9ID0gb3JhbWEuZGF0YTtcbiAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCBvcmFtYS50b2tlbml6ZXIudG9rZW5pemUodGVybSA/PyAnJywgbGFuZ3VhZ2UpO1xuICAgIC8vIEdldCBzZWFyY2hhYmxlIHN0cmluZyBwcm9wZXJ0aWVzXG4gICAgbGV0IHByb3BlcnRpZXNUb1NlYXJjaCA9IG9yYW1hLmNhY2hlc1sncHJvcGVydGllc1RvU2VhcmNoJ107XG4gICAgaWYgKCFwcm9wZXJ0aWVzVG9TZWFyY2gpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydGllc1RvU2VhcmNoV2l0aFR5cGVzID0gYXdhaXQgb3JhbWEuaW5kZXguZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMoaW5kZXgpO1xuICAgICAgICBwcm9wZXJ0aWVzVG9TZWFyY2ggPSBhd2FpdCBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllcyhpbmRleCk7XG4gICAgICAgIHByb3BlcnRpZXNUb1NlYXJjaCA9IHByb3BlcnRpZXNUb1NlYXJjaC5maWx0ZXIoKHByb3ApPT5wcm9wZXJ0aWVzVG9TZWFyY2hXaXRoVHlwZXNbcHJvcF0uc3RhcnRzV2l0aCgnc3RyaW5nJykpO1xuICAgICAgICBvcmFtYS5jYWNoZXNbJ3Byb3BlcnRpZXNUb1NlYXJjaCddID0gcHJvcGVydGllc1RvU2VhcmNoO1xuICAgIH1cbiAgICBpZiAocHJvcGVydGllcyAmJiBwcm9wZXJ0aWVzICE9PSAnKicpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9wIG9mIHByb3BlcnRpZXMpe1xuICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzVG9TZWFyY2guaW5jbHVkZXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5LTk9XTl9JTkRFWCcsIHByb3AsIHByb3BlcnRpZXNUb1NlYXJjaC5qb2luKCcsICcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0aWVzVG9TZWFyY2ggPSBwcm9wZXJ0aWVzVG9TZWFyY2guZmlsdGVyKChwcm9wKT0+cHJvcGVydGllcy5pbmNsdWRlcyhwcm9wKSk7XG4gICAgfVxuICAgIC8vIENyZWF0ZSB0aGUgc2VhcmNoIGNvbnRleHQgYW5kIHRoZSByZXN1bHRzXG4gICAgY29uc3QgY29udGV4dCA9IGF3YWl0IGNyZWF0ZVNlYXJjaENvbnRleHQob3JhbWEudG9rZW5pemVyLCBvcmFtYS5pbmRleCwgb3JhbWEuZG9jdW1lbnRzU3RvcmUsIGxhbmd1YWdlLCBwYXJhbXMsIHByb3BlcnRpZXNUb1NlYXJjaCwgdG9rZW5zLCBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5jb3VudChkb2NzKSwgdGltZVN0YXJ0KTtcbiAgICAvLyBJZiBmaWx0ZXJzIGFyZSBlbmFibGVkLCB3ZSBuZWVkIHRvIGdldCB0aGUgSURzIG9mIHRoZSBkb2N1bWVudHMgdGhhdCBtYXRjaCB0aGUgZmlsdGVycy5cbiAgICBjb25zdCBoYXNGaWx0ZXJzID0gT2JqZWN0LmtleXMocGFyYW1zLndoZXJlID8/IHt9KS5sZW5ndGggPiAwO1xuICAgIGxldCB3aGVyZUZpbHRlcnNJRHMgPSBbXTtcbiAgICBpZiAoaGFzRmlsdGVycykge1xuICAgICAgICB3aGVyZUZpbHRlcnNJRHMgPSBhd2FpdCBvcmFtYS5pbmRleC5zZWFyY2hCeVdoZXJlQ2xhdXNlKGNvbnRleHQsIGluZGV4LCBwYXJhbXMud2hlcmUpO1xuICAgIH1cbiAgICBjb25zdCB0b2tlbnNMZW5ndGggPSB0b2tlbnMubGVuZ3RoO1xuICAgIGlmICh0b2tlbnNMZW5ndGggfHwgcHJvcGVydGllcyAmJiBwcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gTm93IGl0J3MgdGltZSB0byBsb29wIG92ZXIgYWxsIHRoZSBpbmRpY2VzIGFuZCBnZXQgdGhlIGRvY3VtZW50cyBJRHMgZm9yIGV2ZXJ5IHNpbmdsZSB0ZXJtXG4gICAgICAgIGNvbnN0IGluZGV4ZXNMZW5ndGggPSBwcm9wZXJ0aWVzVG9TZWFyY2gubGVuZ3RoO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgaW5kZXhlc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIHZhciBfcGFyYW1zX2Jvb3N0O1xuICAgICAgICAgICAgY29uc3QgcHJvcCA9IHByb3BlcnRpZXNUb1NlYXJjaFtpXTtcbiAgICAgICAgICAgIGlmICh0b2tlbnNMZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgdG9rZW5zTGVuZ3RoOyBqKyspe1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtID0gdG9rZW5zW2pdO1xuICAgICAgICAgICAgICAgICAgICAvLyBMb29rdXBcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcmVMaXN0ID0gYXdhaXQgb3JhbWEuaW5kZXguc2VhcmNoKGNvbnRleHQsIGluZGV4LCBwcm9wLCB0ZXJtKTtcbiAgICAgICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChjb250ZXh0LmluZGV4TWFwW3Byb3BdW3Rlcm1dLCBzY29yZUxpc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5pbmRleE1hcFtwcm9wXVsnJ10gPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZUxpc3QgPSBhd2FpdCBvcmFtYS5pbmRleC5zZWFyY2goY29udGV4dCwgaW5kZXgsIHByb3AsICcnKTtcbiAgICAgICAgICAgICAgICBzYWZlQXJyYXlQdXNoKGNvbnRleHQuaW5kZXhNYXBbcHJvcF1bJyddLCBzY29yZUxpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZG9jSWRzID0gY29udGV4dC5pbmRleE1hcFtwcm9wXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHMgPSBPYmplY3QudmFsdWVzKGRvY0lkcyk7XG4gICAgICAgICAgICBjb250ZXh0LmRvY3NJbnRlcnNlY3Rpb25bcHJvcF0gPSBwcmlvcml0aXplVG9rZW5TY29yZXModmFscywgKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcGFyYW1zX2Jvb3N0ID0gcGFyYW1zLmJvb3N0KSA9PT0gbnVsbCB8fCBfcGFyYW1zX2Jvb3N0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGFyYW1zX2Jvb3N0W3Byb3BdKSA/PyAxLCB0aHJlc2hvbGQsIHRva2Vuc0xlbmd0aCk7XG4gICAgICAgICAgICBjb25zdCB1bmlxdWVEb2NzID0gY29udGV4dC5kb2NzSW50ZXJzZWN0aW9uW3Byb3BdO1xuICAgICAgICAgICAgY29uc3QgdW5pcXVlRG9jc0xlbmd0aCA9IHVuaXF1ZURvY3MubGVuZ3RoO1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHVuaXF1ZURvY3NMZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgY29uc3QgW2lkLCBzY29yZV0gPSB1bmlxdWVEb2NzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZTY29yZSA9IGNvbnRleHQudW5pcXVlRG9jc0lEc1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKHByZXZTY29yZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnVuaXF1ZURvY3NJRHNbaWRdID0gcHJldlNjb3JlICsgc2NvcmUgKyAwLjU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC51bmlxdWVEb2NzSURzW2lkXSA9IHNjb3JlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCAmJiB0ZXJtKSB7XG4gICAgICAgIC8vIFRoaXMgY2FzZSBpcyBoYXJkIHRvIGhhbmRsZSBjb3JyZWN0bHkuXG4gICAgICAgIC8vIEZvciB0aGUgdGltZSBiZWluZywgaWYgdG9rZW5pemVyIHJldHVybnMgZW1wdHkgYXJyYXkgYnV0IHRoZSB0ZXJtIGlzIG5vdCBlbXB0eSxcbiAgICAgICAgLy8gd2UgcmV0dXJucyBhbiBlbXB0eSByZXN1bHQgc2V0XG4gICAgICAgIGNvbnRleHQudW5pcXVlRG9jc0lEcyA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHQudW5pcXVlRG9jc0lEcyA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3Qua2V5cyhhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5nZXRBbGwob3JhbWEuZGF0YS5kb2NzKSkubWFwKChrKT0+W1xuICAgICAgICAgICAgICAgIGssXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgXSkpO1xuICAgIH1cbiAgICAvLyBHZXQgdW5pcXVlIGRvYyBJRHMgZnJvbSB1bmlxdWVEb2NzSURzIG1hcFxuICAgIGxldCB1bmlxdWVEb2NzQXJyYXkgPSBPYmplY3QuZW50cmllcyhjb250ZXh0LnVuaXF1ZURvY3NJRHMpLm1hcCgoW2lkLCBzY29yZV0pPT5bXG4gICAgICAgICAgICAraWQsXG4gICAgICAgICAgICBzY29yZVxuICAgICAgICBdKTtcbiAgICAvLyBJZiBmaWx0ZXJzIGFyZSBlbmFibGVkLCB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgSURzIG9mIHRoZSBkb2N1bWVudHMgdGhhdCBkb24ndCBtYXRjaCB0aGUgZmlsdGVycy5cbiAgICBpZiAoaGFzRmlsdGVycykge1xuICAgICAgICB1bmlxdWVEb2NzQXJyYXkgPSBpbnRlcnNlY3RGaWx0ZXJlZElEcyh3aGVyZUZpbHRlcnNJRHMsIHVuaXF1ZURvY3NBcnJheSk7XG4gICAgfVxuICAgIGlmIChwYXJhbXMuc29ydEJ5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1zLnNvcnRCeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgaWRzID0gdW5pcXVlRG9jc0FycmF5Lm1hcCgoW2lkXSk9PmlkKTtcbiAgICAgICAgICAgIGNvbnN0IGRvY3MgPSBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5nZXRNdWx0aXBsZShvcmFtYS5kYXRhLmRvY3MsIGlkcyk7XG4gICAgICAgICAgICBjb25zdCBkb2NzV2l0aElkQW5kU2NvcmUgPSBkb2NzLm1hcCgoZCwgaSk9PltcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlRG9jc0FycmF5W2ldWzBdLFxuICAgICAgICAgICAgICAgICAgICB1bmlxdWVEb2NzQXJyYXlbaV1bMV0sXG4gICAgICAgICAgICAgICAgICAgIGRcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGRvY3NXaXRoSWRBbmRTY29yZS5zb3J0KHBhcmFtcy5zb3J0QnkpO1xuICAgICAgICAgICAgdW5pcXVlRG9jc0FycmF5ID0gZG9jc1dpdGhJZEFuZFNjb3JlLm1hcCgoW2lkLCBzY29yZV0pPT5bXG4gICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICBzY29yZVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5pcXVlRG9jc0FycmF5ID0gYXdhaXQgb3JhbWEuc29ydGVyLnNvcnRCeShvcmFtYS5kYXRhLnNvcnRpbmcsIHVuaXF1ZURvY3NBcnJheSwgcGFyYW1zLnNvcnRCeSkudGhlbigocmVzdWx0cyk9PnJlc3VsdHMubWFwKChbaWQsIHNjb3JlXSk9PltcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEludGVybmFsRG9jdW1lbnRJZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVcbiAgICAgICAgICAgICAgICAgICAgXSkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdW5pcXVlRG9jc0FycmF5ID0gdW5pcXVlRG9jc0FycmF5LnNvcnQoc29ydFRva2VuU2NvcmVQcmVkaWNhdGUpO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0cztcbiAgICBpZiAoIWlzUHJlZmxpZ2h0ICYmIGRpc3RpbmN0T24pIHtcbiAgICAgICAgcmVzdWx0cyA9IGF3YWl0IGZldGNoRG9jdW1lbnRzV2l0aERpc3RpbmN0KG9yYW1hLCB1bmlxdWVEb2NzQXJyYXksIG9mZnNldCwgbGltaXQsIGRpc3RpbmN0T24pO1xuICAgIH0gZWxzZSBpZiAoIWlzUHJlZmxpZ2h0KSB7XG4gICAgICAgIHJlc3VsdHMgPSBhd2FpdCBmZXRjaERvY3VtZW50cyhvcmFtYSwgdW5pcXVlRG9jc0FycmF5LCBvZmZzZXQsIGxpbWl0KTtcbiAgICB9XG4gICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0ge1xuICAgICAgICBlbGFwc2VkOiB7XG4gICAgICAgICAgICBmb3JtYXR0ZWQ6ICcnLFxuICAgICAgICAgICAgcmF3OiAwXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFdlIGtlZXAgdGhlIGhpdHMgYXJyYXkgZW1wdHkgaWYgaXQncyBhIHByZWZsaWdodCByZXF1ZXN0LlxuICAgICAgICBoaXRzOiBbXSxcbiAgICAgICAgY291bnQ6IHVuaXF1ZURvY3NBcnJheS5sZW5ndGhcbiAgICB9O1xuICAgIGlmICh0eXBlb2YgcmVzdWx0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VhcmNoUmVzdWx0LmhpdHMgPSByZXN1bHRzLmZpbHRlcihCb29sZWFuKTtcbiAgICB9XG4gICAgaWYgKHNob3VsZENhbGN1bGF0ZUZhY2V0cykge1xuICAgICAgICAvLyBQb3B1bGF0ZSBmYWNldHMgaWYgbmVlZGVkXG4gICAgICAgIGNvbnN0IGZhY2V0cyA9IGF3YWl0IGdldEZhY2V0cyhvcmFtYSwgdW5pcXVlRG9jc0FycmF5LCBwYXJhbXMuZmFjZXRzKTtcbiAgICAgICAgc2VhcmNoUmVzdWx0LmZhY2V0cyA9IGZhY2V0cztcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5ncm91cEJ5KSB7XG4gICAgICAgIHNlYXJjaFJlc3VsdC5ncm91cHMgPSBhd2FpdCBnZXRHcm91cHMob3JhbWEsIHVuaXF1ZURvY3NBcnJheSwgcGFyYW1zLmdyb3VwQnkpO1xuICAgIH1cbiAgICBpZiAob3JhbWEuYmVmb3JlU2VhcmNoKSB7XG4gICAgICAgIGF3YWl0IHJ1bkJlZm9yZVNlYXJjaChvcmFtYS5iZWZvcmVTZWFyY2gsIG9yYW1hLCBwYXJhbXMsIGxhbmd1YWdlKTtcbiAgICB9XG4gICAgaWYgKG9yYW1hLmFmdGVyU2VhcmNoKSB7XG4gICAgICAgIGF3YWl0IHJ1bkFmdGVyU2VhcmNoKG9yYW1hLmFmdGVyU2VhcmNoLCBvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSwgc2VhcmNoUmVzdWx0KTtcbiAgICB9XG4gICAgLy8gQ2FsY3VsYXRlIGVsYXBzZWQgdGltZSBvbmx5IGF0IHRoZSBlbmQgb2YgdGhlIGZ1bmN0aW9uXG4gICAgc2VhcmNoUmVzdWx0LmVsYXBzZWQgPSBhd2FpdCBvcmFtYS5mb3JtYXRFbGFwc2VkVGltZShhd2FpdCBnZXROYW5vc2Vjb25kc1RpbWUoKSAtIGNvbnRleHQudGltZVN0YXJ0KTtcbiAgICByZXR1cm4gc2VhcmNoUmVzdWx0O1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hEb2N1bWVudHNXaXRoRGlzdGluY3Qob3JhbWEsIHVuaXF1ZURvY3NBcnJheSwgb2Zmc2V0LCBsaW1pdCwgZGlzdGluY3RPbikge1xuICAgIGNvbnN0IGRvY3MgPSBvcmFtYS5kYXRhLmRvY3M7XG4gICAgLy8gS2VlcCB0cmFjayB3aGljaCB2YWx1ZXMgd2UgYWxyZWFkeSBzZWVuXG4gICAgY29uc3QgdmFsdWVzID0gbmV3IE1hcCgpO1xuICAgIC8vIFdlIGNhbm5vdCBrbm93IGhvdyBtYW55IHJlc3VsdHMgd2Ugd2lsbCBoYXZlIGluIHRoZSBlbmQsXG4gICAgLy8gc28gd2UgbmVlZCBjYW5ub3QgcHJlLWFsbG9jYXRlIHRoZSBhcnJheS5cbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgY29uc3QgcmVzdWx0SURzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHVuaXF1ZURvY3NBcnJheUxlbmd0aCA9IHVuaXF1ZURvY3NBcnJheS5sZW5ndGg7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdW5pcXVlRG9jc0FycmF5TGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBpZEFuZFNjb3JlID0gdW5pcXVlRG9jc0FycmF5W2ldO1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gbW9yZSByZXN1bHRzLCBqdXN0IGJyZWFrIHRoZSBsb29wXG4gICAgICAgIGlmICh0eXBlb2YgaWRBbmRTY29yZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtpZCwgc2NvcmVdID0gaWRBbmRTY29yZTtcbiAgICAgICAgaWYgKHJlc3VsdElEcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkb2MgPSBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5nZXQoZG9jcywgaWQpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGdldE5lc3RlZChkb2MsIGRpc3RpbmN0T24pO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyB8fCB2YWx1ZXMuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzLnNldCh2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICAgIC8vIFdlIHNob3VsZG4ndCBjb25zaWRlciB0aGUgZG9jdW1lbnQgaWYgaXQncyBub3QgaW4gdGhlIG9mZnNldCByYW5nZVxuICAgICAgICBpZiAoY291bnQgPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IGdldERvY3VtZW50SWRGcm9tSW50ZXJuYWxJZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgaWQpLFxuICAgICAgICAgICAgc2NvcmUsXG4gICAgICAgICAgICBkb2N1bWVudDogZG9jXG4gICAgICAgIH0pO1xuICAgICAgICByZXN1bHRJRHMuYWRkKGlkKTtcbiAgICAgICAgLy8gcmVhY2hlZCB0aGUgbGltaXQsIGJyZWFrIHRoZSBsb29wXG4gICAgICAgIGlmIChjb3VudCA+PSBvZmZzZXQgKyBsaW1pdCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaERvY3VtZW50cyhvcmFtYSwgdW5pcXVlRG9jc0FycmF5LCBvZmZzZXQsIGxpbWl0KSB7XG4gICAgY29uc3QgZG9jcyA9IG9yYW1hLmRhdGEuZG9jcztcbiAgICBjb25zdCByZXN1bHRzID0gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogbGltaXRcbiAgICB9KTtcbiAgICBjb25zdCByZXN1bHRJRHMgPSBuZXcgU2V0KCk7XG4gICAgLy8gV2UgYWxyZWFkeSBoYXZlIHRoZSBsaXN0IG9mIEFMTCB0aGUgZG9jdW1lbnQgSURzIGNvbnRhaW5pbmcgdGhlIHNlYXJjaCB0ZXJtcy5cbiAgICAvLyBXZSBsb29wIG92ZXIgdGhlbSBzdGFydGluZyBmcm9tIGEgcG9zaXRpb25hbCB2YWx1ZSBcIm9mZnNldFwiIGFuZCBlbmRpbmcgYXQgXCJvZmZzZXQgKyBsaW1pdFwiXG4gICAgLy8gdG8gcHJvdmlkZSBwYWdpbmF0aW9uIGNhcGFiaWxpdGllcyB0byB0aGUgc2VhcmNoLlxuICAgIGZvcihsZXQgaSA9IG9mZnNldDsgaSA8IGxpbWl0ICsgb2Zmc2V0OyBpKyspe1xuICAgICAgICBjb25zdCBpZEFuZFNjb3JlID0gdW5pcXVlRG9jc0FycmF5W2ldO1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gbW9yZSByZXN1bHRzLCBqdXN0IGJyZWFrIHRoZSBsb29wXG4gICAgICAgIGlmICh0eXBlb2YgaWRBbmRTY29yZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtpZCwgc2NvcmVdID0gaWRBbmRTY29yZTtcbiAgICAgICAgaWYgKCFyZXN1bHRJRHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgLy8gV2UgcmV0cmlldmUgdGhlIGZ1bGwgZG9jdW1lbnQgb25seSBBRlRFUiBtYWtpbmcgc3VyZSB0aGF0IHdlIHJlYWxseSB3YW50IGl0LlxuICAgICAgICAgICAgLy8gV2UgbmV2ZXIgcmV0cmlldmUgdGhlIGZ1bGwgZG9jdW1lbnQgcHJldmVudGl2ZWx5LlxuICAgICAgICAgICAgY29uc3QgZnVsbERvYyA9IGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmdldChkb2NzLCBpZCk7XG4gICAgICAgICAgICByZXN1bHRzW2ldID0ge1xuICAgICAgICAgICAgICAgIGlkOiBnZXREb2N1bWVudElkRnJvbUludGVybmFsSWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIGlkKSxcbiAgICAgICAgICAgICAgICBzY29yZSxcbiAgICAgICAgICAgICAgICBkb2N1bWVudDogZnVsbERvY1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlc3VsdElEcy5hZGQoaWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZWFyY2guanMubWFwIiwiaW1wb3J0IHsgZmluZFNpbWlsYXJWZWN0b3JzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb3NpbmUtc2ltaWxhcml0eS5qcyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbERvY3VtZW50SWQgfSBmcm9tICcuLi9jb21wb25lbnRzL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGZvcm1hdE5hbm9zZWNvbmRzLCBnZXROYW5vc2Vjb25kc1RpbWUgfSBmcm9tICcuLi91dGlscy5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoVmVjdG9yKG9yYW1hLCBwYXJhbXMpIHtcbiAgICBjb25zdCB0aW1lU3RhcnQgPSBhd2FpdCBnZXROYW5vc2Vjb25kc1RpbWUoKTtcbiAgICBsZXQgeyB2ZWN0b3IgIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgeyBwcm9wZXJ0eSAsIGxpbWl0ID0xMCAsIG9mZnNldCA9MCAsIGluY2x1ZGVWZWN0b3JzID1mYWxzZSAgfSA9IHBhcmFtcztcbiAgICBjb25zdCB2ZWN0b3JJbmRleCA9IG9yYW1hLmRhdGEuaW5kZXgudmVjdG9ySW5kZXhlc1twcm9wZXJ0eV07XG4gICAgY29uc3QgdmVjdG9yU2l6ZSA9IHZlY3RvckluZGV4LnNpemU7XG4gICAgY29uc3QgdmVjdG9ycyA9IHZlY3RvckluZGV4LnZlY3RvcnM7XG4gICAgaWYgKHZlY3Rvci5sZW5ndGggIT09IHZlY3RvclNpemUpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfSU5QVVRfVkVDVE9SJywgcHJvcGVydHksIHZlY3RvclNpemUsIHZlY3Rvci5sZW5ndGgpO1xuICAgIH1cbiAgICBpZiAoISh2ZWN0b3IgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpKSB7XG4gICAgICAgIHZlY3RvciA9IG5ldyBGbG9hdDMyQXJyYXkodmVjdG9yKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IGZpbmRTaW1pbGFyVmVjdG9ycyh2ZWN0b3IsIHZlY3RvcnMsIHZlY3RvclNpemUsIHBhcmFtcy5zaW1pbGFyaXR5KTtcbiAgICBjb25zdCBkb2NzID0gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogbGltaXRcbiAgICB9KTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGltaXQ7IGkrKyl7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdHNbaSArIG9mZnNldF07XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcmlnaW5hbElEID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCByZXN1bHQuaWQpO1xuICAgICAgICBjb25zdCBkb2MgPSBvcmFtYS5kYXRhLmRvY3MuZG9jc1tvcmlnaW5hbElEXTtcbiAgICAgICAgaWYgKGRvYykge1xuICAgICAgICAgICAgaWYgKCFpbmNsdWRlVmVjdG9ycykge1xuICAgICAgICAgICAgICAgIGRvY1twcm9wZXJ0eV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmV3RG9jID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXN1bHQuaWQsXG4gICAgICAgICAgICAgICAgc2NvcmU6IHJlc3VsdC5zY29yZSxcbiAgICAgICAgICAgICAgICBkb2N1bWVudDogZG9jXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZG9jc1tpXSA9IG5ld0RvYztcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0aW1lRW5kID0gYXdhaXQgZ2V0TmFub3NlY29uZHNUaW1lKCk7XG4gICAgY29uc3QgZWxhcHNlZFRpbWUgPSB0aW1lRW5kIC0gdGltZVN0YXJ0O1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvdW50OiByZXN1bHRzLmxlbmd0aCxcbiAgICAgICAgaGl0czogZG9jcy5maWx0ZXIoQm9vbGVhbiksXG4gICAgICAgIGVsYXBzZWQ6IHtcbiAgICAgICAgICAgIHJhdzogTnVtYmVyKGVsYXBzZWRUaW1lKSxcbiAgICAgICAgICAgIGZvcm1hdHRlZDogYXdhaXQgZm9ybWF0TmFub3NlY29uZHMoZWxhcHNlZFRpbWUpXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZWFyY2gtdmVjdG9yLmpzLm1hcCIsImV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkKG9yYW1hLCByYXcpIHtcbiAgICBvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZS5sb2FkKG9yYW1hLCByYXcuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUpO1xuICAgIG9yYW1hLmRhdGEuaW5kZXggPSBhd2FpdCBvcmFtYS5pbmRleC5sb2FkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCByYXcuaW5kZXgpO1xuICAgIG9yYW1hLmRhdGEuZG9jcyA9IGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmxvYWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIHJhdy5kb2NzKTtcbiAgICBvcmFtYS5kYXRhLnNvcnRpbmcgPSBhd2FpdCBvcmFtYS5zb3J0ZXIubG9hZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgcmF3LnNvcnRpbmcpO1xuICAgIG9yYW1hLnRva2VuaXplci5sYW5ndWFnZSA9IHJhdy5sYW5ndWFnZTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlKG9yYW1hKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW50ZXJuYWxEb2N1bWVudElEU3RvcmU6IG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLnNhdmUob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUpLFxuICAgICAgICBpbmRleDogYXdhaXQgb3JhbWEuaW5kZXguc2F2ZShvcmFtYS5kYXRhLmluZGV4KSxcbiAgICAgICAgZG9jczogYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUuc2F2ZShvcmFtYS5kYXRhLmRvY3MpLFxuICAgICAgICBzb3J0aW5nOiBhd2FpdCBvcmFtYS5zb3J0ZXIuc2F2ZShvcmFtYS5kYXRhLnNvcnRpbmcpLFxuICAgICAgICBsYW5ndWFnZTogb3JhbWEudG9rZW5pemVyLmxhbmd1YWdlXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VyaWFsaXphdGlvbi5qcy5tYXAiLCIvLyBJbnRlZ2VyIFV0aWxpdHlcbmV4cG9ydCB2YXIgVUlOVDMyX01BWCA9IDQyOTQ5NjcyOTU7XG4vLyBEYXRhVmlldyBleHRlbnNpb24gdG8gaGFuZGxlIGludDY0IC8gdWludDY0LFxuLy8gd2hlcmUgdGhlIGFjdHVhbCByYW5nZSBpcyA1My1iaXRzIGludGVnZXIgKGEuay5hLiBzYWZlIGludGVnZXIpXG5leHBvcnQgZnVuY3Rpb24gc2V0VWludDY0KHZpZXcsIG9mZnNldCwgdmFsdWUpIHtcbiAgICB2YXIgaGlnaCA9IHZhbHVlIC8gNDI5NDk2NzI5NjtcbiAgICB2YXIgbG93ID0gdmFsdWU7IC8vIGhpZ2ggYml0cyBhcmUgdHJ1bmNhdGVkIGJ5IERhdGFWaWV3XG4gICAgdmlldy5zZXRVaW50MzIob2Zmc2V0LCBoaWdoKTtcbiAgICB2aWV3LnNldFVpbnQzMihvZmZzZXQgKyA0LCBsb3cpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldEludDY0KHZpZXcsIG9mZnNldCwgdmFsdWUpIHtcbiAgICB2YXIgaGlnaCA9IE1hdGguZmxvb3IodmFsdWUgLyA0Mjk0OTY3Mjk2KTtcbiAgICB2YXIgbG93ID0gdmFsdWU7IC8vIGhpZ2ggYml0cyBhcmUgdHJ1bmNhdGVkIGJ5IERhdGFWaWV3XG4gICAgdmlldy5zZXRVaW50MzIob2Zmc2V0LCBoaWdoKTtcbiAgICB2aWV3LnNldFVpbnQzMihvZmZzZXQgKyA0LCBsb3cpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEludDY0KHZpZXcsIG9mZnNldCkge1xuICAgIHZhciBoaWdoID0gdmlldy5nZXRJbnQzMihvZmZzZXQpO1xuICAgIHZhciBsb3cgPSB2aWV3LmdldFVpbnQzMihvZmZzZXQgKyA0KTtcbiAgICByZXR1cm4gaGlnaCAqIDQyOTQ5NjcyOTYgKyBsb3c7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VWludDY0KHZpZXcsIG9mZnNldCkge1xuICAgIHZhciBoaWdoID0gdmlldy5nZXRVaW50MzIob2Zmc2V0KTtcbiAgICB2YXIgbG93ID0gdmlldy5nZXRVaW50MzIob2Zmc2V0ICsgNCk7XG4gICAgcmV0dXJuIGhpZ2ggKiA0Mjk0OTY3Mjk2ICsgbG93O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50Lm1qcy5tYXAiLCJ2YXIgX2EsIF9iLCBfYztcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS1jb25kaXRpb24gKi9cbmltcG9ydCB7IFVJTlQzMl9NQVggfSBmcm9tIFwiLi9pbnQubWpzXCI7XG52YXIgVEVYVF9FTkNPRElOR19BVkFJTEFCTEUgPSAodHlwZW9mIHByb2Nlc3MgPT09IFwidW5kZWZpbmVkXCIgfHwgKChfYSA9IHByb2Nlc3MgPT09IG51bGwgfHwgcHJvY2VzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvY2Vzcy5lbnYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtcIlRFWFRfRU5DT0RJTkdcIl0pICE9PSBcIm5ldmVyXCIpICYmXG4gICAgdHlwZW9mIFRleHRFbmNvZGVyICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIFRleHREZWNvZGVyICE9PSBcInVuZGVmaW5lZFwiO1xuZXhwb3J0IGZ1bmN0aW9uIHV0ZjhDb3VudChzdHIpIHtcbiAgICB2YXIgc3RyTGVuZ3RoID0gc3RyLmxlbmd0aDtcbiAgICB2YXIgYnl0ZUxlbmd0aCA9IDA7XG4gICAgdmFyIHBvcyA9IDA7XG4gICAgd2hpbGUgKHBvcyA8IHN0ckxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBzdHIuY2hhckNvZGVBdChwb3MrKyk7XG4gICAgICAgIGlmICgodmFsdWUgJiAweGZmZmZmZjgwKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gMS1ieXRlXG4gICAgICAgICAgICBieXRlTGVuZ3RoKys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgodmFsdWUgJiAweGZmZmZmODAwKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gMi1ieXRlc1xuICAgICAgICAgICAgYnl0ZUxlbmd0aCArPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaGFuZGxlIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICAgICAgICBpZiAodmFsdWUgPj0gMHhkODAwICYmIHZhbHVlIDw9IDB4ZGJmZikge1xuICAgICAgICAgICAgICAgIC8vIGhpZ2ggc3Vycm9nYXRlXG4gICAgICAgICAgICAgICAgaWYgKHBvcyA8IHN0ckxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0cmEgPSBzdHIuY2hhckNvZGVBdChwb3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKGV4dHJhICYgMHhmYzAwKSA9PT0gMHhkYzAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3BvcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gKCh2YWx1ZSAmIDB4M2ZmKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNmZikgKyAweDEwMDAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4ZmZmZjAwMDApID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gMy1ieXRlXG4gICAgICAgICAgICAgICAgYnl0ZUxlbmd0aCArPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gNC1ieXRlXG4gICAgICAgICAgICAgICAgYnl0ZUxlbmd0aCArPSA0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBieXRlTGVuZ3RoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHV0ZjhFbmNvZGVKcyhzdHIsIG91dHB1dCwgb3V0cHV0T2Zmc2V0KSB7XG4gICAgdmFyIHN0ckxlbmd0aCA9IHN0ci5sZW5ndGg7XG4gICAgdmFyIG9mZnNldCA9IG91dHB1dE9mZnNldDtcbiAgICB2YXIgcG9zID0gMDtcbiAgICB3aGlsZSAocG9zIDwgc3RyTGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHN0ci5jaGFyQ29kZUF0KHBvcysrKTtcbiAgICAgICAgaWYgKCh2YWx1ZSAmIDB4ZmZmZmZmODApID09PSAwKSB7XG4gICAgICAgICAgICAvLyAxLWJ5dGVcbiAgICAgICAgICAgIG91dHB1dFtvZmZzZXQrK10gPSB2YWx1ZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCh2YWx1ZSAmIDB4ZmZmZmY4MDApID09PSAwKSB7XG4gICAgICAgICAgICAvLyAyLWJ5dGVzXG4gICAgICAgICAgICBvdXRwdXRbb2Zmc2V0KytdID0gKCh2YWx1ZSA+PiA2KSAmIDB4MWYpIHwgMHhjMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBzdXJyb2dhdGUgcGFpclxuICAgICAgICAgICAgaWYgKHZhbHVlID49IDB4ZDgwMCAmJiB2YWx1ZSA8PSAweGRiZmYpIHtcbiAgICAgICAgICAgICAgICAvLyBoaWdoIHN1cnJvZ2F0ZVxuICAgICAgICAgICAgICAgIGlmIChwb3MgPCBzdHJMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dHJhID0gc3RyLmNoYXJDb2RlQXQocG9zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChleHRyYSAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKytwb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICgodmFsdWUgJiAweDNmZikgPDwgMTApICsgKGV4dHJhICYgMHgzZmYpICsgMHgxMDAwMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodmFsdWUgJiAweGZmZmYwMDAwKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIDMtYnl0ZVxuICAgICAgICAgICAgICAgIG91dHB1dFtvZmZzZXQrK10gPSAoKHZhbHVlID4+IDEyKSAmIDB4MGYpIHwgMHhlMDtcbiAgICAgICAgICAgICAgICBvdXRwdXRbb2Zmc2V0KytdID0gKCh2YWx1ZSA+PiA2KSAmIDB4M2YpIHwgMHg4MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIDQtYnl0ZVxuICAgICAgICAgICAgICAgIG91dHB1dFtvZmZzZXQrK10gPSAoKHZhbHVlID4+IDE4KSAmIDB4MDcpIHwgMHhmMDtcbiAgICAgICAgICAgICAgICBvdXRwdXRbb2Zmc2V0KytdID0gKCh2YWx1ZSA+PiAxMikgJiAweDNmKSB8IDB4ODA7XG4gICAgICAgICAgICAgICAgb3V0cHV0W29mZnNldCsrXSA9ICgodmFsdWUgPj4gNikgJiAweDNmKSB8IDB4ODA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0W29mZnNldCsrXSA9ICh2YWx1ZSAmIDB4M2YpIHwgMHg4MDtcbiAgICB9XG59XG52YXIgc2hhcmVkVGV4dEVuY29kZXIgPSBURVhUX0VOQ09ESU5HX0FWQUlMQUJMRSA/IG5ldyBUZXh0RW5jb2RlcigpIDogdW5kZWZpbmVkO1xuZXhwb3J0IHZhciBURVhUX0VOQ09ERVJfVEhSRVNIT0xEID0gIVRFWFRfRU5DT0RJTkdfQVZBSUxBQkxFXG4gICAgPyBVSU5UMzJfTUFYXG4gICAgOiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiAoKF9iID0gcHJvY2VzcyA9PT0gbnVsbCB8fCBwcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9jZXNzLmVudikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iW1wiVEVYVF9FTkNPRElOR1wiXSkgIT09IFwiZm9yY2VcIlxuICAgICAgICA/IDIwMFxuICAgICAgICA6IDA7XG5mdW5jdGlvbiB1dGY4RW5jb2RlVEVlbmNvZGUoc3RyLCBvdXRwdXQsIG91dHB1dE9mZnNldCkge1xuICAgIG91dHB1dC5zZXQoc2hhcmVkVGV4dEVuY29kZXIuZW5jb2RlKHN0ciksIG91dHB1dE9mZnNldCk7XG59XG5mdW5jdGlvbiB1dGY4RW5jb2RlVEVlbmNvZGVJbnRvKHN0ciwgb3V0cHV0LCBvdXRwdXRPZmZzZXQpIHtcbiAgICBzaGFyZWRUZXh0RW5jb2Rlci5lbmNvZGVJbnRvKHN0ciwgb3V0cHV0LnN1YmFycmF5KG91dHB1dE9mZnNldCkpO1xufVxuZXhwb3J0IHZhciB1dGY4RW5jb2RlVEUgPSAoc2hhcmVkVGV4dEVuY29kZXIgPT09IG51bGwgfHwgc2hhcmVkVGV4dEVuY29kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNoYXJlZFRleHRFbmNvZGVyLmVuY29kZUludG8pID8gdXRmOEVuY29kZVRFZW5jb2RlSW50byA6IHV0ZjhFbmNvZGVURWVuY29kZTtcbnZhciBDSFVOS19TSVpFID0gNDA5NjtcbmV4cG9ydCBmdW5jdGlvbiB1dGY4RGVjb2RlSnMoYnl0ZXMsIGlucHV0T2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gICAgdmFyIG9mZnNldCA9IGlucHV0T2Zmc2V0O1xuICAgIHZhciBlbmQgPSBvZmZzZXQgKyBieXRlTGVuZ3RoO1xuICAgIHZhciB1bml0cyA9IFtdO1xuICAgIHZhciByZXN1bHQgPSBcIlwiO1xuICAgIHdoaWxlIChvZmZzZXQgPCBlbmQpIHtcbiAgICAgICAgdmFyIGJ5dGUxID0gYnl0ZXNbb2Zmc2V0KytdO1xuICAgICAgICBpZiAoKGJ5dGUxICYgMHg4MCkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIDEgYnl0ZVxuICAgICAgICAgICAgdW5pdHMucHVzaChieXRlMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGJ5dGUxICYgMHhlMCkgPT09IDB4YzApIHtcbiAgICAgICAgICAgIC8vIDIgYnl0ZXNcbiAgICAgICAgICAgIHZhciBieXRlMiA9IGJ5dGVzW29mZnNldCsrXSAmIDB4M2Y7XG4gICAgICAgICAgICB1bml0cy5wdXNoKCgoYnl0ZTEgJiAweDFmKSA8PCA2KSB8IGJ5dGUyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoYnl0ZTEgJiAweGYwKSA9PT0gMHhlMCkge1xuICAgICAgICAgICAgLy8gMyBieXRlc1xuICAgICAgICAgICAgdmFyIGJ5dGUyID0gYnl0ZXNbb2Zmc2V0KytdICYgMHgzZjtcbiAgICAgICAgICAgIHZhciBieXRlMyA9IGJ5dGVzW29mZnNldCsrXSAmIDB4M2Y7XG4gICAgICAgICAgICB1bml0cy5wdXNoKCgoYnl0ZTEgJiAweDFmKSA8PCAxMikgfCAoYnl0ZTIgPDwgNikgfCBieXRlMyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGJ5dGUxICYgMHhmOCkgPT09IDB4ZjApIHtcbiAgICAgICAgICAgIC8vIDQgYnl0ZXNcbiAgICAgICAgICAgIHZhciBieXRlMiA9IGJ5dGVzW29mZnNldCsrXSAmIDB4M2Y7XG4gICAgICAgICAgICB2YXIgYnl0ZTMgPSBieXRlc1tvZmZzZXQrK10gJiAweDNmO1xuICAgICAgICAgICAgdmFyIGJ5dGU0ID0gYnl0ZXNbb2Zmc2V0KytdICYgMHgzZjtcbiAgICAgICAgICAgIHZhciB1bml0ID0gKChieXRlMSAmIDB4MDcpIDw8IDB4MTIpIHwgKGJ5dGUyIDw8IDB4MGMpIHwgKGJ5dGUzIDw8IDB4MDYpIHwgYnl0ZTQ7XG4gICAgICAgICAgICBpZiAodW5pdCA+IDB4ZmZmZikge1xuICAgICAgICAgICAgICAgIHVuaXQgLT0gMHgxMDAwMDtcbiAgICAgICAgICAgICAgICB1bml0cy5wdXNoKCgodW5pdCA+Pj4gMTApICYgMHgzZmYpIHwgMHhkODAwKTtcbiAgICAgICAgICAgICAgICB1bml0ID0gMHhkYzAwIHwgKHVuaXQgJiAweDNmZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bml0cy5wdXNoKHVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdW5pdHMucHVzaChieXRlMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuaXRzLmxlbmd0aCA+PSBDSFVOS19TSVpFKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIHVuaXRzKTtcbiAgICAgICAgICAgIHVuaXRzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVuaXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCB1bml0cyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG52YXIgc2hhcmVkVGV4dERlY29kZXIgPSBURVhUX0VOQ09ESU5HX0FWQUlMQUJMRSA/IG5ldyBUZXh0RGVjb2RlcigpIDogbnVsbDtcbmV4cG9ydCB2YXIgVEVYVF9ERUNPREVSX1RIUkVTSE9MRCA9ICFURVhUX0VOQ09ESU5HX0FWQUlMQUJMRVxuICAgID8gVUlOVDMyX01BWFxuICAgIDogdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgKChfYyA9IHByb2Nlc3MgPT09IG51bGwgfHwgcHJvY2VzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvY2Vzcy5lbnYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1tcIlRFWFRfREVDT0RFUlwiXSkgIT09IFwiZm9yY2VcIlxuICAgICAgICA/IDIwMFxuICAgICAgICA6IDA7XG5leHBvcnQgZnVuY3Rpb24gdXRmOERlY29kZVREKGJ5dGVzLCBpbnB1dE9mZnNldCwgYnl0ZUxlbmd0aCkge1xuICAgIHZhciBzdHJpbmdCeXRlcyA9IGJ5dGVzLnN1YmFycmF5KGlucHV0T2Zmc2V0LCBpbnB1dE9mZnNldCArIGJ5dGVMZW5ndGgpO1xuICAgIHJldHVybiBzaGFyZWRUZXh0RGVjb2Rlci5kZWNvZGUoc3RyaW5nQnl0ZXMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRmOC5tanMubWFwIiwiLyoqXG4gKiBFeHREYXRhIGlzIHVzZWQgdG8gaGFuZGxlIEV4dGVuc2lvbiBUeXBlcyB0aGF0IGFyZSBub3QgcmVnaXN0ZXJlZCB0byBFeHRlbnNpb25Db2RlYy5cbiAqL1xudmFyIEV4dERhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXh0RGF0YSh0eXBlLCBkYXRhKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuICAgIHJldHVybiBFeHREYXRhO1xufSgpKTtcbmV4cG9ydCB7IEV4dERhdGEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV4dERhdGEubWpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgRGVjb2RlRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlY29kZUVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlY29kZUVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSkgfHwgdGhpcztcbiAgICAgICAgLy8gZml4IHRoZSBwcm90b3R5cGUgY2hhaW4gaW4gYSBjcm9zcy1wbGF0Zm9ybSB3YXlcbiAgICAgICAgdmFyIHByb3RvID0gT2JqZWN0LmNyZWF0ZShEZWNvZGVFcnJvci5wcm90b3R5cGUpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIHByb3RvKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogRGVjb2RlRXJyb3IubmFtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIERlY29kZUVycm9yO1xufShFcnJvcikpO1xuZXhwb3J0IHsgRGVjb2RlRXJyb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlY29kZUVycm9yLm1qcy5tYXAiLCIvLyBodHRwczovL2dpdGh1Yi5jb20vbXNncGFjay9tc2dwYWNrL2Jsb2IvbWFzdGVyL3NwZWMubWQjdGltZXN0YW1wLWV4dGVuc2lvbi10eXBlXG5pbXBvcnQgeyBEZWNvZGVFcnJvciB9IGZyb20gXCIuL0RlY29kZUVycm9yLm1qc1wiO1xuaW1wb3J0IHsgZ2V0SW50NjQsIHNldEludDY0IH0gZnJvbSBcIi4vdXRpbHMvaW50Lm1qc1wiO1xuZXhwb3J0IHZhciBFWFRfVElNRVNUQU1QID0gLTE7XG52YXIgVElNRVNUQU1QMzJfTUFYX1NFQyA9IDB4MTAwMDAwMDAwIC0gMTsgLy8gMzItYml0IHVuc2lnbmVkIGludFxudmFyIFRJTUVTVEFNUDY0X01BWF9TRUMgPSAweDQwMDAwMDAwMCAtIDE7IC8vIDM0LWJpdCB1bnNpZ25lZCBpbnRcbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVUaW1lU3BlY1RvVGltZXN0YW1wKF9hKSB7XG4gICAgdmFyIHNlYyA9IF9hLnNlYywgbnNlYyA9IF9hLm5zZWM7XG4gICAgaWYgKHNlYyA+PSAwICYmIG5zZWMgPj0gMCAmJiBzZWMgPD0gVElNRVNUQU1QNjRfTUFYX1NFQykge1xuICAgICAgICAvLyBIZXJlIHNlYyA+PSAwICYmIG5zZWMgPj0gMFxuICAgICAgICBpZiAobnNlYyA9PT0gMCAmJiBzZWMgPD0gVElNRVNUQU1QMzJfTUFYX1NFQykge1xuICAgICAgICAgICAgLy8gdGltZXN0YW1wIDMyID0geyBzZWMzMiAodW5zaWduZWQpIH1cbiAgICAgICAgICAgIHZhciBydiA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcocnYuYnVmZmVyKTtcbiAgICAgICAgICAgIHZpZXcuc2V0VWludDMyKDAsIHNlYyk7XG4gICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0aW1lc3RhbXAgNjQgPSB7IG5zZWMzMCAodW5zaWduZWQpLCBzZWMzNCAodW5zaWduZWQpIH1cbiAgICAgICAgICAgIHZhciBzZWNIaWdoID0gc2VjIC8gMHgxMDAwMDAwMDA7XG4gICAgICAgICAgICB2YXIgc2VjTG93ID0gc2VjICYgMHhmZmZmZmZmZjtcbiAgICAgICAgICAgIHZhciBydiA9IG5ldyBVaW50OEFycmF5KDgpO1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcocnYuYnVmZmVyKTtcbiAgICAgICAgICAgIC8vIG5zZWMzMCB8IHNlY0hpZ2gyXG4gICAgICAgICAgICB2aWV3LnNldFVpbnQzMigwLCAobnNlYyA8PCAyKSB8IChzZWNIaWdoICYgMHgzKSk7XG4gICAgICAgICAgICAvLyBzZWNMb3czMlxuICAgICAgICAgICAgdmlldy5zZXRVaW50MzIoNCwgc2VjTG93KTtcbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gdGltZXN0YW1wIDk2ID0geyBuc2VjMzIgKHVuc2lnbmVkKSwgc2VjNjQgKHNpZ25lZCkgfVxuICAgICAgICB2YXIgcnYgPSBuZXcgVWludDhBcnJheSgxMik7XG4gICAgICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KHJ2LmJ1ZmZlcik7XG4gICAgICAgIHZpZXcuc2V0VWludDMyKDAsIG5zZWMpO1xuICAgICAgICBzZXRJbnQ2NCh2aWV3LCA0LCBzZWMpO1xuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZURhdGVUb1RpbWVTcGVjKGRhdGUpIHtcbiAgICB2YXIgbXNlYyA9IGRhdGUuZ2V0VGltZSgpO1xuICAgIHZhciBzZWMgPSBNYXRoLmZsb29yKG1zZWMgLyAxZTMpO1xuICAgIHZhciBuc2VjID0gKG1zZWMgLSBzZWMgKiAxZTMpICogMWU2O1xuICAgIC8vIE5vcm1hbGl6ZXMgeyBzZWMsIG5zZWMgfSB0byBlbnN1cmUgbnNlYyBpcyB1bnNpZ25lZC5cbiAgICB2YXIgbnNlY0luU2VjID0gTWF0aC5mbG9vcihuc2VjIC8gMWU5KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWM6IHNlYyArIG5zZWNJblNlYyxcbiAgICAgICAgbnNlYzogbnNlYyAtIG5zZWNJblNlYyAqIDFlOSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVRpbWVzdGFtcEV4dGVuc2lvbihvYmplY3QpIHtcbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICB2YXIgdGltZVNwZWMgPSBlbmNvZGVEYXRlVG9UaW1lU3BlYyhvYmplY3QpO1xuICAgICAgICByZXR1cm4gZW5jb2RlVGltZVNwZWNUb1RpbWVzdGFtcCh0aW1lU3BlYyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlVGltZXN0YW1wVG9UaW1lU3BlYyhkYXRhKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICAvLyBkYXRhIG1heSBiZSAzMiwgNjQsIG9yIDk2IGJpdHNcbiAgICBzd2l0Y2ggKGRhdGEuYnl0ZUxlbmd0aCkge1xuICAgICAgICBjYXNlIDQ6IHtcbiAgICAgICAgICAgIC8vIHRpbWVzdGFtcCAzMiA9IHsgc2VjMzIgfVxuICAgICAgICAgICAgdmFyIHNlYyA9IHZpZXcuZ2V0VWludDMyKDApO1xuICAgICAgICAgICAgdmFyIG5zZWMgPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgc2VjOiBzZWMsIG5zZWM6IG5zZWMgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDg6IHtcbiAgICAgICAgICAgIC8vIHRpbWVzdGFtcCA2NCA9IHsgbnNlYzMwLCBzZWMzNCB9XG4gICAgICAgICAgICB2YXIgbnNlYzMwQW5kU2VjSGlnaDIgPSB2aWV3LmdldFVpbnQzMigwKTtcbiAgICAgICAgICAgIHZhciBzZWNMb3czMiA9IHZpZXcuZ2V0VWludDMyKDQpO1xuICAgICAgICAgICAgdmFyIHNlYyA9IChuc2VjMzBBbmRTZWNIaWdoMiAmIDB4MykgKiAweDEwMDAwMDAwMCArIHNlY0xvdzMyO1xuICAgICAgICAgICAgdmFyIG5zZWMgPSBuc2VjMzBBbmRTZWNIaWdoMiA+Pj4gMjtcbiAgICAgICAgICAgIHJldHVybiB7IHNlYzogc2VjLCBuc2VjOiBuc2VjIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAxMjoge1xuICAgICAgICAgICAgLy8gdGltZXN0YW1wIDk2ID0geyBuc2VjMzIgKHVuc2lnbmVkKSwgc2VjNjQgKHNpZ25lZCkgfVxuICAgICAgICAgICAgdmFyIHNlYyA9IGdldEludDY0KHZpZXcsIDQpO1xuICAgICAgICAgICAgdmFyIG5zZWMgPSB2aWV3LmdldFVpbnQzMigwKTtcbiAgICAgICAgICAgIHJldHVybiB7IHNlYzogc2VjLCBuc2VjOiBuc2VjIH07XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBEZWNvZGVFcnJvcihcIlVucmVjb2duaXplZCBkYXRhIHNpemUgZm9yIHRpbWVzdGFtcCAoZXhwZWN0ZWQgNCwgOCwgb3IgMTIpOiBcIi5jb25jYXQoZGF0YS5sZW5ndGgpKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlVGltZXN0YW1wRXh0ZW5zaW9uKGRhdGEpIHtcbiAgICB2YXIgdGltZVNwZWMgPSBkZWNvZGVUaW1lc3RhbXBUb1RpbWVTcGVjKGRhdGEpO1xuICAgIHJldHVybiBuZXcgRGF0ZSh0aW1lU3BlYy5zZWMgKiAxZTMgKyB0aW1lU3BlYy5uc2VjIC8gMWU2KTtcbn1cbmV4cG9ydCB2YXIgdGltZXN0YW1wRXh0ZW5zaW9uID0ge1xuICAgIHR5cGU6IEVYVF9USU1FU1RBTVAsXG4gICAgZW5jb2RlOiBlbmNvZGVUaW1lc3RhbXBFeHRlbnNpb24sXG4gICAgZGVjb2RlOiBkZWNvZGVUaW1lc3RhbXBFeHRlbnNpb24sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZXN0YW1wLm1qcy5tYXAiLCIvLyBFeHRlbnNpb25Db2RlYyB0byBoYW5kbGUgTWVzc2FnZVBhY2sgZXh0ZW5zaW9uc1xuaW1wb3J0IHsgRXh0RGF0YSB9IGZyb20gXCIuL0V4dERhdGEubWpzXCI7XG5pbXBvcnQgeyB0aW1lc3RhbXBFeHRlbnNpb24gfSBmcm9tIFwiLi90aW1lc3RhbXAubWpzXCI7XG52YXIgRXh0ZW5zaW9uQ29kZWMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXh0ZW5zaW9uQ29kZWMoKSB7XG4gICAgICAgIC8vIGJ1aWx0LWluIGV4dGVuc2lvbnNcbiAgICAgICAgdGhpcy5idWlsdEluRW5jb2RlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5idWlsdEluRGVjb2RlcnMgPSBbXTtcbiAgICAgICAgLy8gY3VzdG9tIGV4dGVuc2lvbnNcbiAgICAgICAgdGhpcy5lbmNvZGVycyA9IFtdO1xuICAgICAgICB0aGlzLmRlY29kZXJzID0gW107XG4gICAgICAgIHRoaXMucmVnaXN0ZXIodGltZXN0YW1wRXh0ZW5zaW9uKTtcbiAgICB9XG4gICAgRXh0ZW5zaW9uQ29kZWMucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB0eXBlID0gX2EudHlwZSwgZW5jb2RlID0gX2EuZW5jb2RlLCBkZWNvZGUgPSBfYS5kZWNvZGU7XG4gICAgICAgIGlmICh0eXBlID49IDApIHtcbiAgICAgICAgICAgIC8vIGN1c3RvbSBleHRlbnNpb25zXG4gICAgICAgICAgICB0aGlzLmVuY29kZXJzW3R5cGVdID0gZW5jb2RlO1xuICAgICAgICAgICAgdGhpcy5kZWNvZGVyc1t0eXBlXSA9IGRlY29kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGJ1aWx0LWluIGV4dGVuc2lvbnNcbiAgICAgICAgICAgIHZhciBpbmRleCA9IDEgKyB0eXBlO1xuICAgICAgICAgICAgdGhpcy5idWlsdEluRW5jb2RlcnNbaW5kZXhdID0gZW5jb2RlO1xuICAgICAgICAgICAgdGhpcy5idWlsdEluRGVjb2RlcnNbaW5kZXhdID0gZGVjb2RlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFeHRlbnNpb25Db2RlYy5wcm90b3R5cGUudHJ5VG9FbmNvZGUgPSBmdW5jdGlvbiAob2JqZWN0LCBjb250ZXh0KSB7XG4gICAgICAgIC8vIGJ1aWx0LWluIGV4dGVuc2lvbnNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJ1aWx0SW5FbmNvZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGVuY29kZUV4dCA9IHRoaXMuYnVpbHRJbkVuY29kZXJzW2ldO1xuICAgICAgICAgICAgaWYgKGVuY29kZUV4dCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBlbmNvZGVFeHQob2JqZWN0LCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gLTEgLSBpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEV4dERhdGEodHlwZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGN1c3RvbSBleHRlbnNpb25zXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lbmNvZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGVuY29kZUV4dCA9IHRoaXMuZW5jb2RlcnNbaV07XG4gICAgICAgICAgICBpZiAoZW5jb2RlRXh0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGVuY29kZUV4dChvYmplY3QsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEV4dERhdGEodHlwZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBFeHREYXRhKSB7XG4gICAgICAgICAgICAvLyB0byBrZWVwIEV4dERhdGEgYXMgaXNcbiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBFeHRlbnNpb25Db2RlYy5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGRhdGEsIHR5cGUsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGRlY29kZUV4dCA9IHR5cGUgPCAwID8gdGhpcy5idWlsdEluRGVjb2RlcnNbLTEgLSB0eXBlXSA6IHRoaXMuZGVjb2RlcnNbdHlwZV07XG4gICAgICAgIGlmIChkZWNvZGVFeHQpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWNvZGVFeHQoZGF0YSwgdHlwZSwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBkZWNvZGUoKSBkb2VzIG5vdCBmYWlsLCByZXR1cm5zIEV4dERhdGEgaW5zdGVhZC5cbiAgICAgICAgICAgIHJldHVybiBuZXcgRXh0RGF0YSh0eXBlLCBkYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRXh0ZW5zaW9uQ29kZWMuZGVmYXVsdENvZGVjID0gbmV3IEV4dGVuc2lvbkNvZGVjKCk7XG4gICAgcmV0dXJuIEV4dGVuc2lvbkNvZGVjO1xufSgpKTtcbmV4cG9ydCB7IEV4dGVuc2lvbkNvZGVjIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FeHRlbnNpb25Db2RlYy5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVVpbnQ4QXJyYXkoYnVmZmVyKSB7XG4gICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGJ1ZmZlcikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGJ1ZmZlci5idWZmZXIsIGJ1ZmZlci5ieXRlT2Zmc2V0LCBidWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQXJyYXlMaWtlPG51bWJlcj5cbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShidWZmZXIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEYXRhVmlldyhidWZmZXIpIHtcbiAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhVmlldyhidWZmZXIpO1xuICAgIH1cbiAgICB2YXIgYnVmZmVyVmlldyA9IGVuc3VyZVVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICByZXR1cm4gbmV3IERhdGFWaWV3KGJ1ZmZlclZpZXcuYnVmZmVyLCBidWZmZXJWaWV3LmJ5dGVPZmZzZXQsIGJ1ZmZlclZpZXcuYnl0ZUxlbmd0aCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlZEFycmF5cy5tanMubWFwIiwiaW1wb3J0IHsgdXRmOEVuY29kZUpzLCB1dGY4Q291bnQsIFRFWFRfRU5DT0RFUl9USFJFU0hPTEQsIHV0ZjhFbmNvZGVURSB9IGZyb20gXCIuL3V0aWxzL3V0ZjgubWpzXCI7XG5pbXBvcnQgeyBFeHRlbnNpb25Db2RlYyB9IGZyb20gXCIuL0V4dGVuc2lvbkNvZGVjLm1qc1wiO1xuaW1wb3J0IHsgc2V0SW50NjQsIHNldFVpbnQ2NCB9IGZyb20gXCIuL3V0aWxzL2ludC5tanNcIjtcbmltcG9ydCB7IGVuc3VyZVVpbnQ4QXJyYXkgfSBmcm9tIFwiLi91dGlscy90eXBlZEFycmF5cy5tanNcIjtcbmV4cG9ydCB2YXIgREVGQVVMVF9NQVhfREVQVEggPSAxMDA7XG5leHBvcnQgdmFyIERFRkFVTFRfSU5JVElBTF9CVUZGRVJfU0laRSA9IDIwNDg7XG52YXIgRW5jb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFbmNvZGVyKGV4dGVuc2lvbkNvZGVjLCBjb250ZXh0LCBtYXhEZXB0aCwgaW5pdGlhbEJ1ZmZlclNpemUsIHNvcnRLZXlzLCBmb3JjZUZsb2F0MzIsIGlnbm9yZVVuZGVmaW5lZCwgZm9yY2VJbnRlZ2VyVG9GbG9hdCkge1xuICAgICAgICBpZiAoZXh0ZW5zaW9uQ29kZWMgPT09IHZvaWQgMCkgeyBleHRlbnNpb25Db2RlYyA9IEV4dGVuc2lvbkNvZGVjLmRlZmF1bHRDb2RlYzsgfVxuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSB1bmRlZmluZWQ7IH1cbiAgICAgICAgaWYgKG1heERlcHRoID09PSB2b2lkIDApIHsgbWF4RGVwdGggPSBERUZBVUxUX01BWF9ERVBUSDsgfVxuICAgICAgICBpZiAoaW5pdGlhbEJ1ZmZlclNpemUgPT09IHZvaWQgMCkgeyBpbml0aWFsQnVmZmVyU2l6ZSA9IERFRkFVTFRfSU5JVElBTF9CVUZGRVJfU0laRTsgfVxuICAgICAgICBpZiAoc29ydEtleXMgPT09IHZvaWQgMCkgeyBzb3J0S2V5cyA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChmb3JjZUZsb2F0MzIgPT09IHZvaWQgMCkgeyBmb3JjZUZsb2F0MzIgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoaWdub3JlVW5kZWZpbmVkID09PSB2b2lkIDApIHsgaWdub3JlVW5kZWZpbmVkID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKGZvcmNlSW50ZWdlclRvRmxvYXQgPT09IHZvaWQgMCkgeyBmb3JjZUludGVnZXJUb0Zsb2F0ID0gZmFsc2U7IH1cbiAgICAgICAgdGhpcy5leHRlbnNpb25Db2RlYyA9IGV4dGVuc2lvbkNvZGVjO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLm1heERlcHRoID0gbWF4RGVwdGg7XG4gICAgICAgIHRoaXMuaW5pdGlhbEJ1ZmZlclNpemUgPSBpbml0aWFsQnVmZmVyU2l6ZTtcbiAgICAgICAgdGhpcy5zb3J0S2V5cyA9IHNvcnRLZXlzO1xuICAgICAgICB0aGlzLmZvcmNlRmxvYXQzMiA9IGZvcmNlRmxvYXQzMjtcbiAgICAgICAgdGhpcy5pZ25vcmVVbmRlZmluZWQgPSBpZ25vcmVVbmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZm9yY2VJbnRlZ2VyVG9GbG9hdCA9IGZvcmNlSW50ZWdlclRvRmxvYXQ7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcih0aGlzLmluaXRpYWxCdWZmZXJTaXplKSk7XG4gICAgICAgIHRoaXMuYnl0ZXMgPSBuZXcgVWludDhBcnJheSh0aGlzLnZpZXcuYnVmZmVyKTtcbiAgICB9XG4gICAgRW5jb2Rlci5wcm90b3R5cGUucmVpbml0aWFsaXplU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYWxtb3N0IGVxdWl2YWxlbnQgdG8ge0BsaW5rIEVuY29kZXIjZW5jb2RlfSwgYnV0IGl0IHJldHVybnMgYW4gcmVmZXJlbmNlIG9mIHRoZSBlbmNvZGVyJ3MgaW50ZXJuYWwgYnVmZmVyIGFuZCB0aHVzIG11Y2ggZmFzdGVyIHRoYW4ge0BsaW5rIEVuY29kZXIjZW5jb2RlfS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEVuY29kZXMgdGhlIG9iamVjdCBhbmQgcmV0dXJucyBhIHNoYXJlZCByZWZlcmVuY2UgdGhlIGVuY29kZXIncyBpbnRlcm5hbCBidWZmZXIuXG4gICAgICovXG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlU2hhcmVkUmVmID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICB0aGlzLnJlaW5pdGlhbGl6ZVN0YXRlKCk7XG4gICAgICAgIHRoaXMuZG9FbmNvZGUob2JqZWN0LCAxKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZXMuc3ViYXJyYXkoMCwgdGhpcy5wb3MpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgRW5jb2RlcyB0aGUgb2JqZWN0IGFuZCByZXR1cm5zIGEgY29weSBvZiB0aGUgZW5jb2RlcidzIGludGVybmFsIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIHRoaXMucmVpbml0aWFsaXplU3RhdGUoKTtcbiAgICAgICAgdGhpcy5kb0VuY29kZShvYmplY3QsIDEpO1xuICAgICAgICByZXR1cm4gdGhpcy5ieXRlcy5zbGljZSgwLCB0aGlzLnBvcyk7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5kb0VuY29kZSA9IGZ1bmN0aW9uIChvYmplY3QsIGRlcHRoKSB7XG4gICAgICAgIGlmIChkZXB0aCA+IHRoaXMubWF4RGVwdGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvbyBkZWVwIG9iamVjdHMgaW4gZGVwdGggXCIuY29uY2F0KGRlcHRoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZU5pbCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZUJvb2xlYW4ob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZU51bWJlcihvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZW5jb2RlU3RyaW5nKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZU9iamVjdChvYmplY3QsIGRlcHRoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5zdXJlQnVmZmVyU2l6ZVRvV3JpdGUgPSBmdW5jdGlvbiAoc2l6ZVRvV3JpdGUpIHtcbiAgICAgICAgdmFyIHJlcXVpcmVkU2l6ZSA9IHRoaXMucG9zICsgc2l6ZVRvV3JpdGU7XG4gICAgICAgIGlmICh0aGlzLnZpZXcuYnl0ZUxlbmd0aCA8IHJlcXVpcmVkU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNpemVCdWZmZXIocmVxdWlyZWRTaXplICogMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLnJlc2l6ZUJ1ZmZlciA9IGZ1bmN0aW9uIChuZXdTaXplKSB7XG4gICAgICAgIHZhciBuZXdCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIobmV3U2l6ZSk7XG4gICAgICAgIHZhciBuZXdCeXRlcyA9IG5ldyBVaW50OEFycmF5KG5ld0J1ZmZlcik7XG4gICAgICAgIHZhciBuZXdWaWV3ID0gbmV3IERhdGFWaWV3KG5ld0J1ZmZlcik7XG4gICAgICAgIG5ld0J5dGVzLnNldCh0aGlzLmJ5dGVzKTtcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3VmlldztcbiAgICAgICAgdGhpcy5ieXRlcyA9IG5ld0J5dGVzO1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTmlsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndyaXRlVTgoMHhjMCk7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVCb29sZWFuID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4YzIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4YzMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVOdW1iZXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIGlmIChOdW1iZXIuaXNTYWZlSW50ZWdlcihvYmplY3QpICYmICF0aGlzLmZvcmNlSW50ZWdlclRvRmxvYXQpIHtcbiAgICAgICAgICAgIGlmIChvYmplY3QgPj0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChvYmplY3QgPCAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aXZlIGZpeGludFxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlVTgob2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqZWN0IDwgMHgxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdWludCA4XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGNjKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KG9iamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9iamVjdCA8IDB4MTAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdWludCAxNlxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhjZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVMTYob2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqZWN0IDwgMHgxMDAwMDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdWludCAzMlxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhjZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVMzIob2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVpbnQgNjRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4Y2YpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlVTY0KG9iamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdCA+PSAtMHgyMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBuZWdhdGl2ZSBmaXhpbnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZTAgfCAob2JqZWN0ICsgMHgyMCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvYmplY3QgPj0gLTB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50IDhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlSTgob2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqZWN0ID49IC0weDgwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50IDE2XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZUkxNihvYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvYmplY3QgPj0gLTB4ODAwMDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50IDMyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZUkzMihvYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50IDY0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZUk2NChvYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vbi1pbnRlZ2VyIG51bWJlcnNcbiAgICAgICAgICAgIGlmICh0aGlzLmZvcmNlRmxvYXQzMikge1xuICAgICAgICAgICAgICAgIC8vIGZsb2F0IDMyXG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4Y2EpO1xuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVGMzIob2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGZsb2F0IDY0XG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4Y2IpO1xuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVGNjQob2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUud3JpdGVTdHJpbmdIZWFkZXIgPSBmdW5jdGlvbiAoYnl0ZUxlbmd0aCkge1xuICAgICAgICBpZiAoYnl0ZUxlbmd0aCA8IDMyKSB7XG4gICAgICAgICAgICAvLyBmaXhzdHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGEwICsgYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYnl0ZUxlbmd0aCA8IDB4MTAwKSB7XG4gICAgICAgICAgICAvLyBzdHIgOFxuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZDkpO1xuICAgICAgICAgICAgdGhpcy53cml0ZVU4KGJ5dGVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJ5dGVMZW5ndGggPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAvLyBzdHIgMTZcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGRhKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMTYoYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYnl0ZUxlbmd0aCA8IDB4MTAwMDAwMDAwKSB7XG4gICAgICAgICAgICAvLyBzdHIgMzJcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGRiKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMzIoYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbG9uZyBzdHJpbmc6IFwiLmNvbmNhdChieXRlTGVuZ3RoLCBcIiBieXRlcyBpbiBVVEYtOFwiKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLmVuY29kZVN0cmluZyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgdmFyIG1heEhlYWRlclNpemUgPSAxICsgNDtcbiAgICAgICAgdmFyIHN0ckxlbmd0aCA9IG9iamVjdC5sZW5ndGg7XG4gICAgICAgIGlmIChzdHJMZW5ndGggPiBURVhUX0VOQ09ERVJfVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICB2YXIgYnl0ZUxlbmd0aCA9IHV0ZjhDb3VudChvYmplY3QpO1xuICAgICAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZShtYXhIZWFkZXJTaXplICsgYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLndyaXRlU3RyaW5nSGVhZGVyKGJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgdXRmOEVuY29kZVRFKG9iamVjdCwgdGhpcy5ieXRlcywgdGhpcy5wb3MpO1xuICAgICAgICAgICAgdGhpcy5wb3MgKz0gYnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBieXRlTGVuZ3RoID0gdXRmOENvdW50KG9iamVjdCk7XG4gICAgICAgICAgICB0aGlzLmVuc3VyZUJ1ZmZlclNpemVUb1dyaXRlKG1heEhlYWRlclNpemUgKyBieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVTdHJpbmdIZWFkZXIoYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICB1dGY4RW5jb2RlSnMob2JqZWN0LCB0aGlzLmJ5dGVzLCB0aGlzLnBvcyk7XG4gICAgICAgICAgICB0aGlzLnBvcyArPSBieXRlTGVuZ3RoO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVPYmplY3QgPSBmdW5jdGlvbiAob2JqZWN0LCBkZXB0aCkge1xuICAgICAgICAvLyB0cnkgdG8gZW5jb2RlIG9iamVjdHMgd2l0aCBjdXN0b20gY29kZWMgZmlyc3Qgb2Ygbm9uLXByaW1pdGl2ZXNcbiAgICAgICAgdmFyIGV4dCA9IHRoaXMuZXh0ZW5zaW9uQ29kZWMudHJ5VG9FbmNvZGUob2JqZWN0LCB0aGlzLmNvbnRleHQpO1xuICAgICAgICBpZiAoZXh0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZW5jb2RlRXh0ZW5zaW9uKGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZUFycmF5KG9iamVjdCwgZGVwdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhvYmplY3QpKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZUJpbmFyeShvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHRoaXMuZW5jb2RlTWFwKG9iamVjdCwgZGVwdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3ltYm9sLCBmdW5jdGlvbiBhbmQgb3RoZXIgc3BlY2lhbCBvYmplY3QgY29tZSBoZXJlIHVubGVzcyBleHRlbnNpb25Db2RlYyBoYW5kbGVzIHRoZW0uXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgb2JqZWN0OiBcIi5jb25jYXQoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShvYmplY3QpKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLmVuY29kZUJpbmFyeSA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgdmFyIHNpemUgPSBvYmplY3QuYnl0ZUxlbmd0aDtcbiAgICAgICAgaWYgKHNpemUgPCAweDEwMCkge1xuICAgICAgICAgICAgLy8gYmluIDhcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGM0KTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOChzaXplKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplIDwgMHgxMDAwMCkge1xuICAgICAgICAgICAgLy8gYmluIDE2XG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhjNSk7XG4gICAgICAgICAgICB0aGlzLndyaXRlVTE2KHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwMDAwMCkge1xuICAgICAgICAgICAgLy8gYmluIDMyXG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhjNik7XG4gICAgICAgICAgICB0aGlzLndyaXRlVTMyKHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG9vIGxhcmdlIGJpbmFyeTogXCIuY29uY2F0KHNpemUpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnl0ZXMgPSBlbnN1cmVVaW50OEFycmF5KG9iamVjdCk7XG4gICAgICAgIHRoaXMud3JpdGVVOGEoYnl0ZXMpO1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlQXJyYXkgPSBmdW5jdGlvbiAob2JqZWN0LCBkZXB0aCkge1xuICAgICAgICB2YXIgc2l6ZSA9IG9iamVjdC5sZW5ndGg7XG4gICAgICAgIGlmIChzaXplIDwgMTYpIHtcbiAgICAgICAgICAgIC8vIGZpeGFycmF5XG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHg5MCArIHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAvLyBhcnJheSAxNlxuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZGMpO1xuICAgICAgICAgICAgdGhpcy53cml0ZVUxNihzaXplKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplIDwgMHgxMDAwMDAwMDApIHtcbiAgICAgICAgICAgIC8vIGFycmF5IDMyXG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhkZCk7XG4gICAgICAgICAgICB0aGlzLndyaXRlVTMyKHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG9vIGxhcmdlIGFycmF5OiBcIi5jb25jYXQoc2l6ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgb2JqZWN0XzEgPSBvYmplY3Q7IF9pIDwgb2JqZWN0XzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IG9iamVjdF8xW19pXTtcbiAgICAgICAgICAgIHRoaXMuZG9FbmNvZGUoaXRlbSwgZGVwdGggKyAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuY291bnRXaXRob3V0VW5kZWZpbmVkID0gZnVuY3Rpb24gKG9iamVjdCwga2V5cykge1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGtleXNfMSA9IGtleXM7IF9pIDwga2V5c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNfMVtfaV07XG4gICAgICAgICAgICBpZiAob2JqZWN0W2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTWFwID0gZnVuY3Rpb24gKG9iamVjdCwgZGVwdGgpIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuICAgICAgICBpZiAodGhpcy5zb3J0S2V5cykge1xuICAgICAgICAgICAga2V5cy5zb3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLmlnbm9yZVVuZGVmaW5lZCA/IHRoaXMuY291bnRXaXRob3V0VW5kZWZpbmVkKG9iamVjdCwga2V5cykgOiBrZXlzLmxlbmd0aDtcbiAgICAgICAgaWYgKHNpemUgPCAxNikge1xuICAgICAgICAgICAgLy8gZml4bWFwXG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHg4MCArIHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAvLyBtYXAgMTZcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGRlKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMTYoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwMDAwMDAwKSB7XG4gICAgICAgICAgICAvLyBtYXAgMzJcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGRmKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMzIoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbGFyZ2UgbWFwIG9iamVjdDogXCIuY29uY2F0KHNpemUpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGtleXNfMiA9IGtleXM7IF9pIDwga2V5c18yLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNfMltfaV07XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgICAgICAgIGlmICghKHRoaXMuaWdub3JlVW5kZWZpbmVkICYmIHZhbHVlID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmNvZGVTdHJpbmcoa2V5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRvRW5jb2RlKHZhbHVlLCBkZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVFeHRlbnNpb24gPSBmdW5jdGlvbiAoZXh0KSB7XG4gICAgICAgIHZhciBzaXplID0gZXh0LmRhdGEubGVuZ3RoO1xuICAgICAgICBpZiAoc2l6ZSA9PT0gMSkge1xuICAgICAgICAgICAgLy8gZml4ZXh0IDFcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplID09PSAyKSB7XG4gICAgICAgICAgICAvLyBmaXhleHQgMlxuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZDUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPT09IDQpIHtcbiAgICAgICAgICAgIC8vIGZpeGV4dCA0XG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhkNik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA9PT0gOCkge1xuICAgICAgICAgICAgLy8gZml4ZXh0IDhcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQ3KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplID09PSAxNikge1xuICAgICAgICAgICAgLy8gZml4ZXh0IDE2XG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhkOCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwKSB7XG4gICAgICAgICAgICAvLyBleHQgOFxuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4YzcpO1xuICAgICAgICAgICAgdGhpcy53cml0ZVU4KHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAvLyBleHQgMTZcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGM4KTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMTYoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwMDAwMDAwKSB7XG4gICAgICAgICAgICAvLyBleHQgMzJcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGM5KTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMzIoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbGFyZ2UgZXh0ZW5zaW9uIG9iamVjdDogXCIuY29uY2F0KHNpemUpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndyaXRlSTgoZXh0LnR5cGUpO1xuICAgICAgICB0aGlzLndyaXRlVThhKGV4dC5kYXRhKTtcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlVTggPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSgxKTtcbiAgICAgICAgdGhpcy52aWV3LnNldFVpbnQ4KHRoaXMucG9zLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMucG9zKys7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS53cml0ZVU4YSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgdmFyIHNpemUgPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLmVuc3VyZUJ1ZmZlclNpemVUb1dyaXRlKHNpemUpO1xuICAgICAgICB0aGlzLmJ5dGVzLnNldCh2YWx1ZXMsIHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gc2l6ZTtcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlSTggPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSgxKTtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDgodGhpcy5wb3MsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5wb3MrKztcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlVTE2ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlQnVmZmVyU2l6ZVRvV3JpdGUoMik7XG4gICAgICAgIHRoaXMudmlldy5zZXRVaW50MTYodGhpcy5wb3MsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gMjtcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlSTE2ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlQnVmZmVyU2l6ZVRvV3JpdGUoMik7XG4gICAgICAgIHRoaXMudmlldy5zZXRJbnQxNih0aGlzLnBvcywgdmFsdWUpO1xuICAgICAgICB0aGlzLnBvcyArPSAyO1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUud3JpdGVVMzIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSg0KTtcbiAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMih0aGlzLnBvcywgdmFsdWUpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUud3JpdGVJMzIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSg0KTtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDMyKHRoaXMucG9zLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS53cml0ZUYzMiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmVuc3VyZUJ1ZmZlclNpemVUb1dyaXRlKDQpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0RmxvYXQzMih0aGlzLnBvcywgdmFsdWUpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUud3JpdGVGNjQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSg4KTtcbiAgICAgICAgdGhpcy52aWV3LnNldEZsb2F0NjQodGhpcy5wb3MsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlVTY0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlQnVmZmVyU2l6ZVRvV3JpdGUoOCk7XG4gICAgICAgIHNldFVpbnQ2NCh0aGlzLnZpZXcsIHRoaXMucG9zLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS53cml0ZUk2NCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmVuc3VyZUJ1ZmZlclNpemVUb1dyaXRlKDgpO1xuICAgICAgICBzZXRJbnQ2NCh0aGlzLnZpZXcsIHRoaXMucG9zLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgfTtcbiAgICByZXR1cm4gRW5jb2Rlcjtcbn0oKSk7XG5leHBvcnQgeyBFbmNvZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FbmNvZGVyLm1qcy5tYXAiLCJpbXBvcnQgeyBFbmNvZGVyIH0gZnJvbSBcIi4vRW5jb2Rlci5tanNcIjtcbnZhciBkZWZhdWx0RW5jb2RlT3B0aW9ucyA9IHt9O1xuLyoqXG4gKiBJdCBlbmNvZGVzIGB2YWx1ZWAgaW4gdGhlIE1lc3NhZ2VQYWNrIGZvcm1hdCBhbmRcbiAqIHJldHVybnMgYSBieXRlIGJ1ZmZlci5cbiAqXG4gKiBUaGUgcmV0dXJuZWQgYnVmZmVyIGlzIGEgc2xpY2Ugb2YgYSBsYXJnZXIgYEFycmF5QnVmZmVyYCwgc28geW91IGhhdmUgdG8gdXNlIGl0cyBgI2J5dGVPZmZzZXRgIGFuZCBgI2J5dGVMZW5ndGhgIGluIG9yZGVyIHRvIGNvbnZlcnQgaXQgdG8gYW5vdGhlciB0eXBlZCBhcnJheXMgaW5jbHVkaW5nIE5vZGVKUyBgQnVmZmVyYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZSh2YWx1ZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IGRlZmF1bHRFbmNvZGVPcHRpb25zOyB9XG4gICAgdmFyIGVuY29kZXIgPSBuZXcgRW5jb2RlcihvcHRpb25zLmV4dGVuc2lvbkNvZGVjLCBvcHRpb25zLmNvbnRleHQsIG9wdGlvbnMubWF4RGVwdGgsIG9wdGlvbnMuaW5pdGlhbEJ1ZmZlclNpemUsIG9wdGlvbnMuc29ydEtleXMsIG9wdGlvbnMuZm9yY2VGbG9hdDMyLCBvcHRpb25zLmlnbm9yZVVuZGVmaW5lZCwgb3B0aW9ucy5mb3JjZUludGVnZXJUb0Zsb2F0KTtcbiAgICByZXR1cm4gZW5jb2Rlci5lbmNvZGVTaGFyZWRSZWYodmFsdWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5jb2RlLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gcHJldHR5Qnl0ZShieXRlKSB7XG4gICAgcmV0dXJuIFwiXCIuY29uY2F0KGJ5dGUgPCAwID8gXCItXCIgOiBcIlwiLCBcIjB4XCIpLmNvbmNhdChNYXRoLmFicyhieXRlKS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZXR0eUJ5dGUubWpzLm1hcCIsImltcG9ydCB7IHV0ZjhEZWNvZGVKcyB9IGZyb20gXCIuL3V0aWxzL3V0ZjgubWpzXCI7XG52YXIgREVGQVVMVF9NQVhfS0VZX0xFTkdUSCA9IDE2O1xudmFyIERFRkFVTFRfTUFYX0xFTkdUSF9QRVJfS0VZID0gMTY7XG52YXIgQ2FjaGVkS2V5RGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDYWNoZWRLZXlEZWNvZGVyKG1heEtleUxlbmd0aCwgbWF4TGVuZ3RoUGVyS2V5KSB7XG4gICAgICAgIGlmIChtYXhLZXlMZW5ndGggPT09IHZvaWQgMCkgeyBtYXhLZXlMZW5ndGggPSBERUZBVUxUX01BWF9LRVlfTEVOR1RIOyB9XG4gICAgICAgIGlmIChtYXhMZW5ndGhQZXJLZXkgPT09IHZvaWQgMCkgeyBtYXhMZW5ndGhQZXJLZXkgPSBERUZBVUxUX01BWF9MRU5HVEhfUEVSX0tFWTsgfVxuICAgICAgICB0aGlzLm1heEtleUxlbmd0aCA9IG1heEtleUxlbmd0aDtcbiAgICAgICAgdGhpcy5tYXhMZW5ndGhQZXJLZXkgPSBtYXhMZW5ndGhQZXJLZXk7XG4gICAgICAgIHRoaXMuaGl0ID0gMDtcbiAgICAgICAgdGhpcy5taXNzID0gMDtcbiAgICAgICAgLy8gYXZvaWQgYG5ldyBBcnJheShOKWAsIHdoaWNoIG1ha2VzIGEgc3BhcnNlIGFycmF5LFxuICAgICAgICAvLyBiZWNhdXNlIGEgc3BhcnNlIGFycmF5IGlzIHR5cGljYWxseSBzbG93ZXIgdGhhbiBhIG5vbi1zcGFyc2UgYXJyYXkuXG4gICAgICAgIHRoaXMuY2FjaGVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tYXhLZXlMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jYWNoZXMucHVzaChbXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQ2FjaGVkS2V5RGVjb2Rlci5wcm90b3R5cGUuY2FuQmVDYWNoZWQgPSBmdW5jdGlvbiAoYnl0ZUxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYnl0ZUxlbmd0aCA+IDAgJiYgYnl0ZUxlbmd0aCA8PSB0aGlzLm1heEtleUxlbmd0aDtcbiAgICB9O1xuICAgIENhY2hlZEtleURlY29kZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoYnl0ZXMsIGlucHV0T2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gICAgICAgIHZhciByZWNvcmRzID0gdGhpcy5jYWNoZXNbYnl0ZUxlbmd0aCAtIDFdO1xuICAgICAgICBGSU5EX0NIVU5LOiBmb3IgKHZhciBfaSA9IDAsIHJlY29yZHNfMSA9IHJlY29yZHM7IF9pIDwgcmVjb3Jkc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHJlY29yZCA9IHJlY29yZHNfMVtfaV07XG4gICAgICAgICAgICB2YXIgcmVjb3JkQnl0ZXMgPSByZWNvcmQuYnl0ZXM7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJ5dGVMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmRCeXRlc1tqXSAhPT0gYnl0ZXNbaW5wdXRPZmZzZXQgKyBqXSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBGSU5EX0NIVU5LO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZWNvcmQuc3RyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgQ2FjaGVkS2V5RGVjb2Rlci5wcm90b3R5cGUuc3RvcmUgPSBmdW5jdGlvbiAoYnl0ZXMsIHZhbHVlKSB7XG4gICAgICAgIHZhciByZWNvcmRzID0gdGhpcy5jYWNoZXNbYnl0ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciByZWNvcmQgPSB7IGJ5dGVzOiBieXRlcywgc3RyOiB2YWx1ZSB9O1xuICAgICAgICBpZiAocmVjb3Jkcy5sZW5ndGggPj0gdGhpcy5tYXhMZW5ndGhQZXJLZXkpIHtcbiAgICAgICAgICAgIC8vIGByZWNvcmRzYCBhcmUgZnVsbCFcbiAgICAgICAgICAgIC8vIFNldCBgcmVjb3JkYCB0byBhbiBhcmJpdHJhcnkgcG9zaXRpb24uXG4gICAgICAgICAgICByZWNvcmRzWyhNYXRoLnJhbmRvbSgpICogcmVjb3Jkcy5sZW5ndGgpIHwgMF0gPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWNvcmRzLnB1c2gocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2FjaGVkS2V5RGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCBpbnB1dE9mZnNldCwgYnl0ZUxlbmd0aCkge1xuICAgICAgICB2YXIgY2FjaGVkVmFsdWUgPSB0aGlzLmZpbmQoYnl0ZXMsIGlucHV0T2Zmc2V0LCBieXRlTGVuZ3RoKTtcbiAgICAgICAgaWYgKGNhY2hlZFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0Kys7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taXNzKys7XG4gICAgICAgIHZhciBzdHIgPSB1dGY4RGVjb2RlSnMoYnl0ZXMsIGlucHV0T2Zmc2V0LCBieXRlTGVuZ3RoKTtcbiAgICAgICAgLy8gRW5zdXJlIHRvIGNvcHkgYSBzbGljZSBvZiBieXRlcyBiZWNhdXNlIHRoZSBieXRlIG1heSBiZSBOb2RlSlMgQnVmZmVyIGFuZCBCdWZmZXIjc2xpY2UoKSByZXR1cm5zIGEgcmVmZXJlbmNlIHRvIGl0cyBpbnRlcm5hbCBBcnJheUJ1ZmZlci5cbiAgICAgICAgdmFyIHNsaWNlZENvcHlPZkJ5dGVzID0gVWludDhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChieXRlcywgaW5wdXRPZmZzZXQsIGlucHV0T2Zmc2V0ICsgYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRoaXMuc3RvcmUoc2xpY2VkQ29weU9mQnl0ZXMsIHN0cik7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FjaGVkS2V5RGVjb2Rlcjtcbn0oKSk7XG5leHBvcnQgeyBDYWNoZWRLZXlEZWNvZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYWNoZWRLZXlEZWNvZGVyLm1qcy5tYXAiLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9fYXN5bmNWYWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fYXN5bmNWYWx1ZXMpIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxufTtcbnZhciBfX2F3YWl0ID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0KSB8fCBmdW5jdGlvbiAodikgeyByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTsgfVxudmFyIF9fYXN5bmNHZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fYXN5bmNHZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cbn07XG5pbXBvcnQgeyBwcmV0dHlCeXRlIH0gZnJvbSBcIi4vdXRpbHMvcHJldHR5Qnl0ZS5tanNcIjtcbmltcG9ydCB7IEV4dGVuc2lvbkNvZGVjIH0gZnJvbSBcIi4vRXh0ZW5zaW9uQ29kZWMubWpzXCI7XG5pbXBvcnQgeyBnZXRJbnQ2NCwgZ2V0VWludDY0LCBVSU5UMzJfTUFYIH0gZnJvbSBcIi4vdXRpbHMvaW50Lm1qc1wiO1xuaW1wb3J0IHsgdXRmOERlY29kZUpzLCBURVhUX0RFQ09ERVJfVEhSRVNIT0xELCB1dGY4RGVjb2RlVEQgfSBmcm9tIFwiLi91dGlscy91dGY4Lm1qc1wiO1xuaW1wb3J0IHsgY3JlYXRlRGF0YVZpZXcsIGVuc3VyZVVpbnQ4QXJyYXkgfSBmcm9tIFwiLi91dGlscy90eXBlZEFycmF5cy5tanNcIjtcbmltcG9ydCB7IENhY2hlZEtleURlY29kZXIgfSBmcm9tIFwiLi9DYWNoZWRLZXlEZWNvZGVyLm1qc1wiO1xuaW1wb3J0IHsgRGVjb2RlRXJyb3IgfSBmcm9tIFwiLi9EZWNvZGVFcnJvci5tanNcIjtcbnZhciBpc1ZhbGlkTWFwS2V5VHlwZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIga2V5VHlwZSA9IHR5cGVvZiBrZXk7XG4gICAgcmV0dXJuIGtleVR5cGUgPT09IFwic3RyaW5nXCIgfHwga2V5VHlwZSA9PT0gXCJudW1iZXJcIjtcbn07XG52YXIgSEVBRF9CWVRFX1JFUVVJUkVEID0gLTE7XG52YXIgRU1QVFlfVklFVyA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMCkpO1xudmFyIEVNUFRZX0JZVEVTID0gbmV3IFVpbnQ4QXJyYXkoRU1QVFlfVklFVy5idWZmZXIpO1xuLy8gSUUxMTogSGFjayB0byBzdXBwb3J0IElFMTEuXG4vLyBJRTExOiBEcm9wIHRoaXMgaGFjayBhbmQganVzdCB1c2UgUmFuZ2VFcnJvciB3aGVuIElFMTEgaXMgb2Jzb2xldGUuXG5leHBvcnQgdmFyIERhdGFWaWV3SW5kZXhPdXRPZkJvdW5kc0Vycm9yID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBJRTExOiBUaGUgc3BlYyBzYXlzIGl0IHNob3VsZCB0aHJvdyBSYW5nZUVycm9yLFxuICAgICAgICAvLyBJRTExOiBidXQgaW4gSUUxMSBpdCB0aHJvd3MgVHlwZUVycm9yLlxuICAgICAgICBFTVBUWV9WSUVXLmdldEludDgoMCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBlLmNvbnN0cnVjdG9yO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJuZXZlciByZWFjaGVkXCIpO1xufSkoKTtcbnZhciBNT1JFX0RBVEEgPSBuZXcgRGF0YVZpZXdJbmRleE91dE9mQm91bmRzRXJyb3IoXCJJbnN1ZmZpY2llbnQgZGF0YVwiKTtcbnZhciBzaGFyZWRDYWNoZWRLZXlEZWNvZGVyID0gbmV3IENhY2hlZEtleURlY29kZXIoKTtcbnZhciBEZWNvZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlY29kZXIoZXh0ZW5zaW9uQ29kZWMsIGNvbnRleHQsIG1heFN0ckxlbmd0aCwgbWF4QmluTGVuZ3RoLCBtYXhBcnJheUxlbmd0aCwgbWF4TWFwTGVuZ3RoLCBtYXhFeHRMZW5ndGgsIGtleURlY29kZXIpIHtcbiAgICAgICAgaWYgKGV4dGVuc2lvbkNvZGVjID09PSB2b2lkIDApIHsgZXh0ZW5zaW9uQ29kZWMgPSBFeHRlbnNpb25Db2RlYy5kZWZhdWx0Q29kZWM7IH1cbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gdW5kZWZpbmVkOyB9XG4gICAgICAgIGlmIChtYXhTdHJMZW5ndGggPT09IHZvaWQgMCkgeyBtYXhTdHJMZW5ndGggPSBVSU5UMzJfTUFYOyB9XG4gICAgICAgIGlmIChtYXhCaW5MZW5ndGggPT09IHZvaWQgMCkgeyBtYXhCaW5MZW5ndGggPSBVSU5UMzJfTUFYOyB9XG4gICAgICAgIGlmIChtYXhBcnJheUxlbmd0aCA9PT0gdm9pZCAwKSB7IG1heEFycmF5TGVuZ3RoID0gVUlOVDMyX01BWDsgfVxuICAgICAgICBpZiAobWF4TWFwTGVuZ3RoID09PSB2b2lkIDApIHsgbWF4TWFwTGVuZ3RoID0gVUlOVDMyX01BWDsgfVxuICAgICAgICBpZiAobWF4RXh0TGVuZ3RoID09PSB2b2lkIDApIHsgbWF4RXh0TGVuZ3RoID0gVUlOVDMyX01BWDsgfVxuICAgICAgICBpZiAoa2V5RGVjb2RlciA9PT0gdm9pZCAwKSB7IGtleURlY29kZXIgPSBzaGFyZWRDYWNoZWRLZXlEZWNvZGVyOyB9XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uQ29kZWMgPSBleHRlbnNpb25Db2RlYztcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5tYXhTdHJMZW5ndGggPSBtYXhTdHJMZW5ndGg7XG4gICAgICAgIHRoaXMubWF4QmluTGVuZ3RoID0gbWF4QmluTGVuZ3RoO1xuICAgICAgICB0aGlzLm1heEFycmF5TGVuZ3RoID0gbWF4QXJyYXlMZW5ndGg7XG4gICAgICAgIHRoaXMubWF4TWFwTGVuZ3RoID0gbWF4TWFwTGVuZ3RoO1xuICAgICAgICB0aGlzLm1heEV4dExlbmd0aCA9IG1heEV4dExlbmd0aDtcbiAgICAgICAgdGhpcy5rZXlEZWNvZGVyID0ga2V5RGVjb2RlcjtcbiAgICAgICAgdGhpcy50b3RhbFBvcyA9IDA7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgdGhpcy52aWV3ID0gRU1QVFlfVklFVztcbiAgICAgICAgdGhpcy5ieXRlcyA9IEVNUFRZX0JZVEVTO1xuICAgICAgICB0aGlzLmhlYWRCeXRlID0gSEVBRF9CWVRFX1JFUVVJUkVEO1xuICAgICAgICB0aGlzLnN0YWNrID0gW107XG4gICAgfVxuICAgIERlY29kZXIucHJvdG90eXBlLnJlaW5pdGlhbGl6ZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRvdGFsUG9zID0gMDtcbiAgICAgICAgdGhpcy5oZWFkQnl0ZSA9IEhFQURfQllURV9SRVFVSVJFRDtcbiAgICAgICAgdGhpcy5zdGFjay5sZW5ndGggPSAwO1xuICAgICAgICAvLyB2aWV3LCBieXRlcywgYW5kIHBvcyB3aWxsIGJlIHJlLWluaXRpYWxpemVkIGluIHNldEJ1ZmZlcigpXG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5zZXRCdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIHRoaXMuYnl0ZXMgPSBlbnN1cmVVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIHRoaXMudmlldyA9IGNyZWF0ZURhdGFWaWV3KHRoaXMuYnl0ZXMpO1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5hcHBlbmRCdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmhlYWRCeXRlID09PSBIRUFEX0JZVEVfUkVRVUlSRUQgJiYgIXRoaXMuaGFzUmVtYWluaW5nKDEpKSB7XG4gICAgICAgICAgICB0aGlzLnNldEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbWFpbmluZ0RhdGEgPSB0aGlzLmJ5dGVzLnN1YmFycmF5KHRoaXMucG9zKTtcbiAgICAgICAgICAgIHZhciBuZXdEYXRhID0gZW5zdXJlVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgLy8gY29uY2F0IHJlbWFpbmluZ0RhdGEgKyBuZXdEYXRhXG4gICAgICAgICAgICB2YXIgbmV3QnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkocmVtYWluaW5nRGF0YS5sZW5ndGggKyBuZXdEYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICBuZXdCdWZmZXIuc2V0KHJlbWFpbmluZ0RhdGEpO1xuICAgICAgICAgICAgbmV3QnVmZmVyLnNldChuZXdEYXRhLCByZW1haW5pbmdEYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnNldEJ1ZmZlcihuZXdCdWZmZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5oYXNSZW1haW5pbmcgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmJ5dGVMZW5ndGggLSB0aGlzLnBvcyA+PSBzaXplO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuY3JlYXRlRXh0cmFCeXRlRXJyb3IgPSBmdW5jdGlvbiAocG9zVG9TaG93KSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHZpZXcgPSBfYS52aWV3LCBwb3MgPSBfYS5wb3M7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2VFcnJvcihcIkV4dHJhIFwiLmNvbmNhdCh2aWV3LmJ5dGVMZW5ndGggLSBwb3MsIFwiIG9mIFwiKS5jb25jYXQodmlldy5ieXRlTGVuZ3RoLCBcIiBieXRlKHMpIGZvdW5kIGF0IGJ1ZmZlcltcIikuY29uY2F0KHBvc1RvU2hvdywgXCJdXCIpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEB0aHJvd3Mge0BsaW5rIERlY29kZUVycm9yfVxuICAgICAqIEB0aHJvd3Mge0BsaW5rIFJhbmdlRXJyb3J9XG4gICAgICovXG4gICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICB0aGlzLnJlaW5pdGlhbGl6ZVN0YXRlKCk7XG4gICAgICAgIHRoaXMuc2V0QnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIHZhciBvYmplY3QgPSB0aGlzLmRvRGVjb2RlU3luYygpO1xuICAgICAgICBpZiAodGhpcy5oYXNSZW1haW5pbmcoMSkpIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMuY3JlYXRlRXh0cmFCeXRlRXJyb3IodGhpcy5wb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVNdWx0aSA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWluaXRpYWxpemVTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVtYWluaW5nKDEpKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5kb0RlY29kZVN5bmMoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDFdO1xuICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmRlY29kZUFzeW5jID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICB2YXIgc3RyZWFtXzEsIHN0cmVhbV8xXzE7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGVjb2RlZCwgb2JqZWN0LCBidWZmZXIsIGVfMV8xLCBfYiwgaGVhZEJ5dGUsIHBvcywgdG90YWxQb3M7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNvZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnRyeXMucHVzaChbMSwgNiwgNywgMTJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbV8xID0gX19hc3luY1ZhbHVlcyhzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbNCAvKnlpZWxkKi8sIHN0cmVhbV8xLm5leHQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHN0cmVhbV8xXzEgPSBfYy5zZW50KCksICFzdHJlYW1fMV8xLmRvbmUpKSByZXR1cm4gWzMgLypicmVhayovLCA1XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlciA9IHN0cmVhbV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVjb2RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHRoaXMuY3JlYXRlRXh0cmFCeXRlRXJyb3IodGhpcy50b3RhbFBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRvRGVjb2RlU3luYygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY29kZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgRGF0YVZpZXdJbmRleE91dE9mQm91bmRzRXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7IC8vIHJldGhyb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmFsbHRocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxQb3MgKz0gdGhpcy5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzFfMSA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxMl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnRyeXMucHVzaChbNywgLCAxMCwgMTFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHN0cmVhbV8xXzEgJiYgIXN0cmVhbV8xXzEuZG9uZSAmJiAoX2EgPSBzdHJlYW1fMS5yZXR1cm4pKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBfYS5jYWxsKHN0cmVhbV8xKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gOTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OiByZXR1cm4gWzMgLypicmVhayovLCAxMV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExOiByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlY29kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNSZW1haW5pbmcoMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgdGhpcy5jcmVhdGVFeHRyYUJ5dGVFcnJvcih0aGlzLnRvdGFsUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG9iamVjdF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfYiA9IHRoaXMsIGhlYWRCeXRlID0gX2IuaGVhZEJ5dGUsIHBvcyA9IF9iLnBvcywgdG90YWxQb3MgPSBfYi50b3RhbFBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5zdWZmaWNpZW50IGRhdGEgaW4gcGFyc2luZyBcIi5jb25jYXQocHJldHR5Qnl0ZShoZWFkQnl0ZSksIFwiIGF0IFwiKS5jb25jYXQodG90YWxQb3MsIFwiIChcIikuY29uY2F0KHBvcywgXCIgaW4gdGhlIGN1cnJlbnQgYnVmZmVyKVwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQXJyYXlTdHJlYW0gPSBmdW5jdGlvbiAoc3RyZWFtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlY29kZU11bHRpQXN5bmMoc3RyZWFtLCB0cnVlKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmRlY29kZVN0cmVhbSA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlTXVsdGlBc3luYyhzdHJlYW0sIGZhbHNlKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmRlY29kZU11bHRpQXN5bmMgPSBmdW5jdGlvbiAoc3RyZWFtLCBpc0FycmF5KSB7XG4gICAgICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gZGVjb2RlTXVsdGlBc3luY18xKCkge1xuICAgICAgICAgICAgdmFyIGlzQXJyYXlIZWFkZXJSZXF1aXJlZCwgYXJyYXlJdGVtc0xlZnQsIHN0cmVhbV8yLCBzdHJlYW1fMl8xLCBidWZmZXIsIGVfMiwgZV8zXzE7XG4gICAgICAgICAgICB2YXIgZV8zLCBfYTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJyYXlIZWFkZXJSZXF1aXJlZCA9IGlzQXJyYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheUl0ZW1zTGVmdCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDEzLCAxNCwgMTldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbV8yID0gX19hc3luY1ZhbHVlcyhzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbNCAvKnlpZWxkKi8sIF9fYXdhaXQoc3RyZWFtXzIubmV4dCgpKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHN0cmVhbV8yXzEgPSBfYi5zZW50KCksICFzdHJlYW1fMl8xLmRvbmUpKSByZXR1cm4gWzMgLypicmVhayovLCAxMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBzdHJlYW1fMl8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkgJiYgYXJyYXlJdGVtc0xlZnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyB0aGlzLmNyZWF0ZUV4dHJhQnl0ZUVycm9yKHRoaXMudG90YWxQb3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRCdWZmZXIoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5SGVhZGVyUmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheUl0ZW1zTGVmdCA9IHRoaXMucmVhZEFycmF5U2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJyYXlIZWFkZXJSZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFs0LCA5LCAsIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDU7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdHJ1ZSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBfX2F3YWl0KHRoaXMuZG9EZWNvZGVTeW5jKCkpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzQgLyp5aWVsZCovLCBfYi5zZW50KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoLS1hcnJheUl0ZW1zTGVmdCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszIC8qYnJlYWsqLywgMTBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzIgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlXzIgaW5zdGFuY2VvZiBEYXRhVmlld0luZGV4T3V0T2ZCb3VuZHNFcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlXzI7IC8vIHJldGhyb3dcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDEwXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxQb3MgKz0gdGhpcy5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDExO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExOiByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjogcmV0dXJuIFszIC8qYnJlYWsqLywgMTldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICAgICAgZV8zXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzMgPSB7IGVycm9yOiBlXzNfMSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxNCwgLCAxNywgMThdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHN0cmVhbV8yXzEgJiYgIXN0cmVhbV8yXzEuZG9uZSAmJiAoX2EgPSBzdHJlYW1fMi5yZXR1cm4pKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgX19hd2FpdChfYS5jYWxsKHN0cmVhbV8yKSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxNjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNjogcmV0dXJuIFszIC8qYnJlYWsqLywgMThdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxODogcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmRvRGVjb2RlU3luYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgREVDT0RFOiB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgdmFyIGhlYWRCeXRlID0gdGhpcy5yZWFkSGVhZEJ5dGUoKTtcbiAgICAgICAgICAgIHZhciBvYmplY3QgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoaGVhZEJ5dGUgPj0gMHhlMCkge1xuICAgICAgICAgICAgICAgIC8vIG5lZ2F0aXZlIGZpeGludCAoMTExeCB4eHh4KSAweGUwIC0gMHhmZlxuICAgICAgICAgICAgICAgIG9iamVjdCA9IGhlYWRCeXRlIC0gMHgxMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA8IDB4YzApIHtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aXZlIGZpeGludCAoMHh4eCB4eHh4KSAweDAwIC0gMHg3ZlxuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBoZWFkQnl0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPCAweDkwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpeG1hcCAoMTAwMCB4eHh4KSAweDgwIC0gMHg4ZlxuICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGhlYWRCeXRlIC0gMHg4MDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaE1hcFN0YXRlKHNpemUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgREVDT0RFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPCAweGEwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpeGFycmF5ICgxMDAxIHh4eHgpIDB4OTAgLSAweDlmXG4gICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gaGVhZEJ5dGUgLSAweDkwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoQXJyYXlTdGF0ZShzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIERFQ09ERTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaXhzdHIgKDEwMXggeHh4eCkgMHhhMCAtIDB4YmZcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ5dGVMZW5ndGggPSBoZWFkQnl0ZSAtIDB4YTA7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMuZGVjb2RlVXRmOFN0cmluZyhieXRlTGVuZ3RoLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhjMCkge1xuICAgICAgICAgICAgICAgIC8vIG5pbFxuICAgICAgICAgICAgICAgIG9iamVjdCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhjMikge1xuICAgICAgICAgICAgICAgIC8vIGZhbHNlXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhjMykge1xuICAgICAgICAgICAgICAgIC8vIHRydWVcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4Y2EpIHtcbiAgICAgICAgICAgICAgICAvLyBmbG9hdCAzMlxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZEYzMigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4Y2IpIHtcbiAgICAgICAgICAgICAgICAvLyBmbG9hdCA2NFxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZEY2NCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4Y2MpIHtcbiAgICAgICAgICAgICAgICAvLyB1aW50IDhcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLnJlYWRVOCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4Y2QpIHtcbiAgICAgICAgICAgICAgICAvLyB1aW50IDE2XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5yZWFkVTE2KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhjZSkge1xuICAgICAgICAgICAgICAgIC8vIHVpbnQgMzJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLnJlYWRVMzIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGNmKSB7XG4gICAgICAgICAgICAgICAgLy8gdWludCA2NFxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZFU2NCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4ZDApIHtcbiAgICAgICAgICAgICAgICAvLyBpbnQgOFxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZEk4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkMSkge1xuICAgICAgICAgICAgICAgIC8vIGludCAxNlxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZEkxNigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4ZDIpIHtcbiAgICAgICAgICAgICAgICAvLyBpbnQgMzJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLnJlYWRJMzIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQzKSB7XG4gICAgICAgICAgICAgICAgLy8gaW50IDY0XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5yZWFkSTY0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkOSkge1xuICAgICAgICAgICAgICAgIC8vIHN0ciA4XG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVMZW5ndGggPSB0aGlzLmxvb2tVOCgpO1xuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMuZGVjb2RlVXRmOFN0cmluZyhieXRlTGVuZ3RoLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGRhKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RyIDE2XG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVMZW5ndGggPSB0aGlzLmxvb2tVMTYoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZVV0ZjhTdHJpbmcoYnl0ZUxlbmd0aCwgMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkYikge1xuICAgICAgICAgICAgICAgIC8vIHN0ciAzMlxuICAgICAgICAgICAgICAgIHZhciBieXRlTGVuZ3RoID0gdGhpcy5sb29rVTMyKCk7XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5kZWNvZGVVdGY4U3RyaW5nKGJ5dGVMZW5ndGgsIDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4ZGMpIHtcbiAgICAgICAgICAgICAgICAvLyBhcnJheSAxNlxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5yZWFkVTE2KCk7XG4gICAgICAgICAgICAgICAgaWYgKHNpemUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoQXJyYXlTdGF0ZShzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBERUNPREU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkZCkge1xuICAgICAgICAgICAgICAgIC8vIGFycmF5IDMyXG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLnJlYWRVMzIoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2hBcnJheVN0YXRlKHNpemUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIERFQ09ERTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGRlKSB7XG4gICAgICAgICAgICAgICAgLy8gbWFwIDE2XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLnJlYWRVMTYoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2hNYXBTdGF0ZShzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBERUNPREU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkZikge1xuICAgICAgICAgICAgICAgIC8vIG1hcCAzMlxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5yZWFkVTMyKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNpemUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoTWFwU3RhdGUoc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWUgREVDT0RFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4YzQpIHtcbiAgICAgICAgICAgICAgICAvLyBiaW4gOFxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5sb29rVTgoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUJpbmFyeShzaXplLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGM1KSB7XG4gICAgICAgICAgICAgICAgLy8gYmluIDE2XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmxvb2tVMTYoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUJpbmFyeShzaXplLCAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGM2KSB7XG4gICAgICAgICAgICAgICAgLy8gYmluIDMyXG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmxvb2tVMzIoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUJpbmFyeShzaXplLCA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ0KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDFcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbigxLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ1KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbigyLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ2KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDRcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbig0LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ3KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDhcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbig4LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ4KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDE2XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5kZWNvZGVFeHRlbnNpb24oMTYsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4YzcpIHtcbiAgICAgICAgICAgICAgICAvLyBleHQgOFxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5sb29rVTgoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbihzaXplLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGM4KSB7XG4gICAgICAgICAgICAgICAgLy8gZXh0IDE2XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmxvb2tVMTYoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbihzaXplLCAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGM5KSB7XG4gICAgICAgICAgICAgICAgLy8gZXh0IDMyXG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmxvb2tVMzIoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbihzaXplLCA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBEZWNvZGVFcnJvcihcIlVucmVjb2duaXplZCB0eXBlIGJ5dGU6IFwiLmNvbmNhdChwcmV0dHlCeXRlKGhlYWRCeXRlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgdmFyIHN0YWNrID0gdGhpcy5zdGFjaztcbiAgICAgICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gYXJyYXlzIGFuZCBtYXBzXG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLnR5cGUgPT09IDAgLyogU3RhdGUuQVJSQVkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuYXJyYXlbc3RhdGUucG9zaXRpb25dID0gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wb3NpdGlvbisrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLnNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0ID0gc3RhdGUuYXJyYXk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBERUNPREU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUudHlwZSA9PT0gMSAvKiBTdGF0ZS5NQVBfS0VZICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZE1hcEtleVR5cGUob2JqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERlY29kZUVycm9yKFwiVGhlIHR5cGUgb2Yga2V5IG11c3QgYmUgc3RyaW5nIG9yIG51bWJlciBidXQgXCIgKyB0eXBlb2Ygb2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0ID09PSBcIl9fcHJvdG9fX1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGVjb2RlRXJyb3IoXCJUaGUga2V5IF9fcHJvdG9fXyBpcyBub3QgYWxsb3dlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5rZXkgPSBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnR5cGUgPSAyIC8qIFN0YXRlLk1BUF9WQUxVRSAqLztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWUgREVDT0RFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQgbXVzdCBiZSBgc3RhdGUudHlwZSA9PT0gU3RhdGUuTUFQX1ZBTFVFYCBoZXJlXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLm1hcFtzdGF0ZS5rZXldID0gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5yZWFkQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLnJlYWRDb3VudCA9PT0gc3RhdGUuc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBzdGF0ZS5tYXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5rZXkgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUudHlwZSA9IDEgLyogU3RhdGUuTUFQX0tFWSAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIERFQ09ERTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnJlYWRIZWFkQnl0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGVhZEJ5dGUgPT09IEhFQURfQllURV9SRVFVSVJFRCkge1xuICAgICAgICAgICAgdGhpcy5oZWFkQnl0ZSA9IHRoaXMucmVhZFU4KCk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImhlYWRCeXRlXCIsIHByZXR0eUJ5dGUodGhpcy5oZWFkQnl0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmhlYWRCeXRlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaGVhZEJ5dGUgPSBIRUFEX0JZVEVfUkVRVUlSRUQ7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkQXJyYXlTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGVhZEJ5dGUgPSB0aGlzLnJlYWRIZWFkQnl0ZSgpO1xuICAgICAgICBzd2l0Y2ggKGhlYWRCeXRlKSB7XG4gICAgICAgICAgICBjYXNlIDB4ZGM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZFUxNigpO1xuICAgICAgICAgICAgY2FzZSAweGRkOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRVMzIoKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZEJ5dGUgPCAweGEwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoZWFkQnl0ZSAtIDB4OTA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGVjb2RlRXJyb3IoXCJVbnJlY29nbml6ZWQgYXJyYXkgdHlwZSBieXRlOiBcIi5jb25jYXQocHJldHR5Qnl0ZShoZWFkQnl0ZSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnB1c2hNYXBTdGF0ZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIGlmIChzaXplID4gdGhpcy5tYXhNYXBMZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBEZWNvZGVFcnJvcihcIk1heCBsZW5ndGggZXhjZWVkZWQ6IG1hcCBsZW5ndGggKFwiLmNvbmNhdChzaXplLCBcIikgPiBtYXhNYXBMZW5ndGhMZW5ndGggKFwiKS5jb25jYXQodGhpcy5tYXhNYXBMZW5ndGgsIFwiKVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFjay5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IDEgLyogU3RhdGUuTUFQX0tFWSAqLyxcbiAgICAgICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgICAgICBrZXk6IG51bGwsXG4gICAgICAgICAgICByZWFkQ291bnQ6IDAsXG4gICAgICAgICAgICBtYXA6IHt9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnB1c2hBcnJheVN0YXRlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgaWYgKHNpemUgPiB0aGlzLm1heEFycmF5TGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRGVjb2RlRXJyb3IoXCJNYXggbGVuZ3RoIGV4Y2VlZGVkOiBhcnJheSBsZW5ndGggKFwiLmNvbmNhdChzaXplLCBcIikgPiBtYXhBcnJheUxlbmd0aCAoXCIpLmNvbmNhdCh0aGlzLm1heEFycmF5TGVuZ3RoLCBcIilcIikpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhY2sucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiAwIC8qIFN0YXRlLkFSUkFZICovLFxuICAgICAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgICAgIGFycmF5OiBuZXcgQXJyYXkoc2l6ZSksXG4gICAgICAgICAgICBwb3NpdGlvbjogMCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVVdGY4U3RyaW5nID0gZnVuY3Rpb24gKGJ5dGVMZW5ndGgsIGhlYWRlck9mZnNldCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChieXRlTGVuZ3RoID4gdGhpcy5tYXhTdHJMZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBEZWNvZGVFcnJvcihcIk1heCBsZW5ndGggZXhjZWVkZWQ6IFVURi04IGJ5dGUgbGVuZ3RoIChcIi5jb25jYXQoYnl0ZUxlbmd0aCwgXCIpID4gbWF4U3RyTGVuZ3RoIChcIikuY29uY2F0KHRoaXMubWF4U3RyTGVuZ3RoLCBcIilcIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJ5dGVzLmJ5dGVMZW5ndGggPCB0aGlzLnBvcyArIGhlYWRlck9mZnNldCArIGJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IE1PUkVfREFUQTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5wb3MgKyBoZWFkZXJPZmZzZXQ7XG4gICAgICAgIHZhciBvYmplY3Q7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlSXNNYXBLZXkoKSAmJiAoKF9hID0gdGhpcy5rZXlEZWNvZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuQmVDYWNoZWQoYnl0ZUxlbmd0aCkpKSB7XG4gICAgICAgICAgICBvYmplY3QgPSB0aGlzLmtleURlY29kZXIuZGVjb2RlKHRoaXMuYnl0ZXMsIG9mZnNldCwgYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYnl0ZUxlbmd0aCA+IFRFWFRfREVDT0RFUl9USFJFU0hPTEQpIHtcbiAgICAgICAgICAgIG9iamVjdCA9IHV0ZjhEZWNvZGVURCh0aGlzLmJ5dGVzLCBvZmZzZXQsIGJ5dGVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqZWN0ID0gdXRmOERlY29kZUpzKHRoaXMuYnl0ZXMsIG9mZnNldCwgYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3MgKz0gaGVhZGVyT2Zmc2V0ICsgYnl0ZUxlbmd0aDtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnN0YXRlSXNNYXBLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS50eXBlID09PSAxIC8qIFN0YXRlLk1BUF9LRVkgKi87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVMZW5ndGgsIGhlYWRPZmZzZXQpIHtcbiAgICAgICAgaWYgKGJ5dGVMZW5ndGggPiB0aGlzLm1heEJpbkxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IERlY29kZUVycm9yKFwiTWF4IGxlbmd0aCBleGNlZWRlZDogYmluIGxlbmd0aCAoXCIuY29uY2F0KGJ5dGVMZW5ndGgsIFwiKSA+IG1heEJpbkxlbmd0aCAoXCIpLmNvbmNhdCh0aGlzLm1heEJpbkxlbmd0aCwgXCIpXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaGFzUmVtYWluaW5nKGJ5dGVMZW5ndGggKyBoZWFkT2Zmc2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgTU9SRV9EQVRBO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLnBvcyArIGhlYWRPZmZzZXQ7XG4gICAgICAgIHZhciBvYmplY3QgPSB0aGlzLmJ5dGVzLnN1YmFycmF5KG9mZnNldCwgb2Zmc2V0ICsgYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRoaXMucG9zICs9IGhlYWRPZmZzZXQgKyBieXRlTGVuZ3RoO1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlRXh0ZW5zaW9uID0gZnVuY3Rpb24gKHNpemUsIGhlYWRPZmZzZXQpIHtcbiAgICAgICAgaWYgKHNpemUgPiB0aGlzLm1heEV4dExlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IERlY29kZUVycm9yKFwiTWF4IGxlbmd0aCBleGNlZWRlZDogZXh0IGxlbmd0aCAoXCIuY29uY2F0KHNpemUsIFwiKSA+IG1heEV4dExlbmd0aCAoXCIpLmNvbmNhdCh0aGlzLm1heEV4dExlbmd0aCwgXCIpXCIpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXh0VHlwZSA9IHRoaXMudmlldy5nZXRJbnQ4KHRoaXMucG9zICsgaGVhZE9mZnNldCk7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5kZWNvZGVCaW5hcnkoc2l6ZSwgaGVhZE9mZnNldCArIDEgLyogZXh0VHlwZSAqLyk7XG4gICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbkNvZGVjLmRlY29kZShkYXRhLCBleHRUeXBlLCB0aGlzLmNvbnRleHQpO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUubG9va1U4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldFVpbnQ4KHRoaXMucG9zKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmxvb2tVMTYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDE2KHRoaXMucG9zKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmxvb2tVMzIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDMyKHRoaXMucG9zKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnJlYWRVOCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52aWV3LmdldFVpbnQ4KHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MrKztcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUucmVhZEk4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZpZXcuZ2V0SW50OCh0aGlzLnBvcyk7XG4gICAgICAgIHRoaXMucG9zKys7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnJlYWRVMTYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmlldy5nZXRVaW50MTYodGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSAyO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkSTE2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZpZXcuZ2V0SW50MTYodGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSAyO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkVTMyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZpZXcuZ2V0VWludDMyKHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUucmVhZEkzMiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52aWV3LmdldEludDMyKHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUucmVhZFU2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gZ2V0VWludDY0KHRoaXMudmlldywgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkSTY0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBnZXRJbnQ2NCh0aGlzLnZpZXcsIHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUucmVhZEYzMiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52aWV3LmdldEZsb2F0MzIodGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkRjY0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZpZXcuZ2V0RmxvYXQ2NCh0aGlzLnBvcyk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIHJldHVybiBEZWNvZGVyO1xufSgpKTtcbmV4cG9ydCB7IERlY29kZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlY29kZXIubWpzLm1hcCIsImltcG9ydCB7IERlY29kZXIgfSBmcm9tIFwiLi9EZWNvZGVyLm1qc1wiO1xuZXhwb3J0IHZhciBkZWZhdWx0RGVjb2RlT3B0aW9ucyA9IHt9O1xuLyoqXG4gKiBJdCBkZWNvZGVzIGEgc2luZ2xlIE1lc3NhZ2VQYWNrIG9iamVjdCBpbiBhIGJ1ZmZlci5cbiAqXG4gKiBUaGlzIGlzIGEgc3luY2hyb25vdXMgZGVjb2RpbmcgZnVuY3Rpb24uXG4gKiBTZWUgb3RoZXIgdmFyaWFudHMgZm9yIGFzeW5jaHJvbm91cyBkZWNvZGluZzoge0BsaW5rIGRlY29kZUFzeW5jKCl9LCB7QGxpbmsgZGVjb2RlU3RyZWFtKCl9LCBvciB7QGxpbmsgZGVjb2RlQXJyYXlTdHJlYW0oKX0uXG4gKlxuICogQHRocm93cyB7QGxpbmsgUmFuZ2VFcnJvcn0gaWYgdGhlIGJ1ZmZlciBpcyBpbmNvbXBsZXRlLCBpbmNsdWRpbmcgdGhlIGNhc2Ugd2hlcmUgdGhlIGJ1ZmZlciBpcyBlbXB0eS5cbiAqIEB0aHJvd3Mge0BsaW5rIERlY29kZUVycm9yfSBpZiB0aGUgYnVmZmVyIGNvbnRhaW5zIGludmFsaWQgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZShidWZmZXIsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBkZWZhdWx0RGVjb2RlT3B0aW9uczsgfVxuICAgIHZhciBkZWNvZGVyID0gbmV3IERlY29kZXIob3B0aW9ucy5leHRlbnNpb25Db2RlYywgb3B0aW9ucy5jb250ZXh0LCBvcHRpb25zLm1heFN0ckxlbmd0aCwgb3B0aW9ucy5tYXhCaW5MZW5ndGgsIG9wdGlvbnMubWF4QXJyYXlMZW5ndGgsIG9wdGlvbnMubWF4TWFwTGVuZ3RoLCBvcHRpb25zLm1heEV4dExlbmd0aCk7XG4gICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKGJ1ZmZlcik7XG59XG4vKipcbiAqIEl0IGRlY29kZXMgbXVsdGlwbGUgTWVzc2FnZVBhY2sgb2JqZWN0cyBpbiBhIGJ1ZmZlci5cbiAqIFRoaXMgaXMgY29ycmVzcG9uZGluZyB0byB7QGxpbmsgZGVjb2RlTXVsdGlTdHJlYW0oKX0uXG4gKlxuICogQHRocm93cyB7QGxpbmsgUmFuZ2VFcnJvcn0gaWYgdGhlIGJ1ZmZlciBpcyBpbmNvbXBsZXRlLCBpbmNsdWRpbmcgdGhlIGNhc2Ugd2hlcmUgdGhlIGJ1ZmZlciBpcyBlbXB0eS5cbiAqIEB0aHJvd3Mge0BsaW5rIERlY29kZUVycm9yfSBpZiB0aGUgYnVmZmVyIGNvbnRhaW5zIGludmFsaWQgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZU11bHRpKGJ1ZmZlciwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IGRlZmF1bHREZWNvZGVPcHRpb25zOyB9XG4gICAgdmFyIGRlY29kZXIgPSBuZXcgRGVjb2RlcihvcHRpb25zLmV4dGVuc2lvbkNvZGVjLCBvcHRpb25zLmNvbnRleHQsIG9wdGlvbnMubWF4U3RyTGVuZ3RoLCBvcHRpb25zLm1heEJpbkxlbmd0aCwgb3B0aW9ucy5tYXhBcnJheUxlbmd0aCwgb3B0aW9ucy5tYXhNYXBMZW5ndGgsIG9wdGlvbnMubWF4RXh0TGVuZ3RoKTtcbiAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGVNdWx0aShidWZmZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVjb2RlLm1qcy5tYXAiLCJcInVzZSBzdHJpY3RcIlxyXG4vLyB0aGVzZSBhcmUgdGhlIGNvZGVzIHRoYXQgYXJlIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBydWRpbWVudGFyeSB0eXBlIG9mIG51bWJlcnNcclxudmFyIFBST1BFUlRZX0NPREUgPSAwXHJcbnZhciBUWVBFX0NPREUgPSAzXHJcbnZhciBTVFJJTkdfQ09ERSA9IDJcclxudmFyIE5VTUJFUl9DT0RFID0gMVxyXG52YXIgU0VRVUVOQ0VfQ09ERSA9IDdcclxuXHJcbi8vIGNvbnN0YW50IGNvZGVzXHJcbnZhciBOVUxMID0gMCAvLyBwXHJcbnZhciBGQUxTRSA9IDMgLy8gc1xyXG52YXIgVFJVRSA9IDQgLy8gdFxyXG52YXIgVU5ERUZJTkVEID0gNSAvLyB1XHJcblxyXG4vLyB0aGVzZSBhcmUgdGhlIHN0YXJ0aW5nIGNvZGVzIChzdHJ1Y3R1cmVzIGFsc28gdXNlIHRoaXMgc3BhY2UpIGZvciBjb21wbGV0ZSB0eXBlc1xyXG52YXIgREVGQVVMVF9UWVBFID0gNlxyXG52YXIgQVJSQVlfVFlQRSA9IDdcclxudmFyIFJFRkVSRU5DSU5HX1RZUEUgPSA4XHJcbnZhciBOVU1CRVJfVFlQRSA9IDlcclxudmFyIEVYVEVOU0lPTlMgPSAxMFxyXG52YXIgTUVUQURBVEFfVFlQRSA9IDExXHJcbnZhciBDT1BZX1BST1BFUlRZID0gMTIgIC8vIGZvciBkZWZpbmluZyBhIHR5cGVkIG9iamVjdCB3aXRob3V0IHJldHVybmluZyB0aGUgdmFsdWVcclxudmFyIFJFRkVSRU5DSU5HX1BPU0lUSU9OID0gMTNcclxudmFyIFRZUEVfREVGSU5JVElPTiA9IDE0ICAvLyBmb3IgZGVmaW5pbmcgYSB0eXBlZCBvYmplY3Qgd2l0aG91dCByZXR1cm5pbmcgdGhlIHZhbHVlXHJcblxyXG52YXIgRVJST1JfTUVUQURBVEEgPSA1MDBcclxuXHJcbi8vIHNlcXVlbmNlIGNvZGVzXHJcbnZhciBPUEVOX1NFUVVFTkNFID0gMTIgLy8gPFxyXG52YXIgUEFSVElBTF9ERUZFUlJFRF9SRUZFUkVOQ0UgPSAxMiAvLyA8XHJcbnZhciBFTkRfU0VRVUVOQ0UgPSAxNCAvLyA+XHJcbnZhciBERUZFUlJFRF9SRUZFUkVOQ0UgPSAxNSAvLyA/XHJcbnZhciBuZXh0SWQgPSAxXHJcbnZhciBpdGVyYXRvclN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnID8gU3ltYm9sLml0ZXJhdG9yIDogJ19faXRlcmF0b3Jfc3ltYm9sX18nXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTZXJpYWxpemVyKG9wdGlvbnMpIHtcclxuXHRpZiAoIW9wdGlvbnMpXHJcblx0XHRvcHRpb25zID0ge31cclxuXHR2YXIgZXh0ZW5kZWRUeXBlcyA9IG9wdGlvbnMuY29udmVydGVyQnlDb25zdHJ1Y3RvclxyXG5cdGlmICghZXh0ZW5kZWRUeXBlcykge1xyXG5cdFx0ZXh0ZW5kZWRUeXBlcyA9IG5ldyBNYXAoKVxyXG5cdH1cclxuXHRleHRlbmRlZFR5cGVzLnNldChNYXAsIHtcclxuXHRcdG5hbWU6ICdNYXAnLFxyXG5cdFx0dG9WYWx1ZTogd3JpdGVNYXBcclxuXHR9KVxyXG5cdGV4dGVuZGVkVHlwZXMuc2V0KFNldCwge1xyXG5cdFx0bmFtZTogJ1NldCcsXHJcblx0XHR0b1ZhbHVlOiB3cml0ZVNldFxyXG5cdH0pXHJcblx0ZXh0ZW5kZWRUeXBlcy5zZXQoRGF0ZSwge1xyXG5cdFx0bmFtZTogJ0RhdGUnLFxyXG5cdFx0dG9WYWx1ZTogd3JpdGVEYXRlXHJcblx0fSlcclxuXHR2YXIgYXZvaWRTaGFyZVVwZGF0ZSA9IG9wdGlvbnMub3V0bGV0IHx8IG9wdGlvbnMuYXZvaWRTaGFyZVVwZGF0ZVxyXG5cdHZhciBjaGFyRW5jb2RlciA9ICh0eXBlb2YgZ2xvYmFsICE9ICd1bmRlZmluZWQnICYmIGdsb2JhbC5CdWZmZXIgJiYgIShvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RpbmcgPT09ICd1dGYxNmxlJykpID8gZXhwb3J0cy5ub2RlQ2hhckVuY29kZXIob3B0aW9ucykgOiBicm93c2VyQ2hhckVuY29kZXIob3B0aW9ucylcclxuXHR2YXIgd3JpdGVTdHJpbmcgPSBjaGFyRW5jb2Rlci53cml0ZVN0cmluZ1xyXG5cdHZhciB3cml0ZVRva2VuID0gY2hhckVuY29kZXIud3JpdGVUb2tlblxyXG5cdHZhciBzdGFydFNlcXVlbmNlID0gY2hhckVuY29kZXIuc3RhcnRTZXF1ZW5jZVxyXG5cdHZhciBlbmRTZXF1ZW5jZSA9IGNoYXJFbmNvZGVyLmVuZFNlcXVlbmNlXHJcblx0dmFyIHdyaXRlQnVmZmVyID0gY2hhckVuY29kZXIud3JpdGVCdWZmZXJcclxuXHR2YXIgZm9yUHJvcGVydHkgPSBvcHRpb25zLmZvclByb3BlcnR5XHJcblx0dmFyIHByb3BlcnR5VXNlZFxyXG5cdHZhciB2YWx1ZVVzZWRcclxuXHRpZiAob3B0aW9ucy5zaGFyZWQpIHtcclxuXHRcdHByb3BlcnR5VXNlZCA9IG9wdGlvbnMuc2hhcmVkLnByb3BlcnR5VXNlZFxyXG5cdFx0dmFsdWVVc2VkID0gb3B0aW9ucy5zaGFyZWQucHJvcGVydHlVc2VkXHJcblx0fVxyXG5cdHZhciBwZW5kaW5nRW5jb2RpbmdzID0gW11cclxuXHR2YXIgbmV4dFByb3BlcnR5SW5kZXggPSA4XHJcblx0dmFyIHByb3BlcnR5XHJcblx0dmFyIGJ1ZmZlclN5bWJvbCA9IGV4cG9ydHMuYnVmZmVyU3ltYm9sIHx8ICdfYnVmZmVyU3ltYm9sXydcclxuXHR2YXIgdGFyZ2V0U3ltYm9sID0gZXhwb3J0cy50YXJnZXRTeW1ib2wgfHwgJ190YXJnZXRTeW1ib2xfJ1xyXG5cdHZhciBwcm9wZXJ0eUNvbXBhcmlzb25zID0gMFxyXG5cdHZhciBzZXJpYWxpemVySWQgPSBuZXh0SWQrK1xyXG5cclxuXHR2YXIgd3JpdGVycyA9IFtcclxuXHRcdDAsIDEsIDIsIDMsIDQgLCA1LFxyXG5cdFx0d3JpdGVBc0RlZmF1bHQsXHJcblx0XHR3cml0ZUFzQXJyYXksXHJcblx0XHR3cml0ZUFzUmVmZXJlbmNpbmcsXHJcblx0XHR3cml0ZUFzTnVtYmVyLFxyXG5cdFx0d3JpdGVPbmx5TnVsbFxyXG5cdF1cclxuXHQvLyB3cml0ZSBhIHJ1ZGltZW50YXJ5IG51bWJlclxyXG5cdGZ1bmN0aW9uIHdyaXRlTnVtYmVyKG51bWJlcikge1xyXG5cdFx0d3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgbnVtYmVyKVxyXG5cdH1cclxuXHQvLyB3cml0ZSBhIHJ1ZGltZW50YXJ5IHN0cmluZ1xyXG5cdGZ1bmN0aW9uIHdyaXRlSW5saW5lU3RyaW5nKHN0cmluZykge1xyXG5cdFx0d3JpdGVUb2tlbihTVFJJTkdfQ09ERSwgc3RyaW5nLmxlbmd0aClcclxuXHRcdHdyaXRlU3RyaW5nKHN0cmluZylcclxuXHR9XHJcblxyXG5cdC8vIHdyaXRpbmcgYW55IHZhbHVlIGluIHJlZmVyZW5jaW5nIHNlcmlhbGl6YXRpb24gdHlwZSBtb2RlXHJcblx0ZnVuY3Rpb24gd3JpdGVBc1JlZmVyZW5jaW5nKHZhbHVlKSB7XHJcblx0XHR2YXIgdHlwZSwgdmFsdWVzID0gcHJvcGVydHkudmFsdWVzXHJcblx0XHRpZiAodmFsdWVzKSB7XHJcblx0XHRcdGlmICh2YWx1ZXMucmVzZXRUbyA+IC0xICYmIHZhbHVlcy5zZXJpYWxpemVyICE9PSBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0XHQvLyBpZiB0aGlzIGlzIGEgc2hhcmVkIHZhbHVlcywgbmVlZCB0byByZXNldCBvbiBlYWNoIHNlcmlhbGl6YXRpb25cclxuXHRcdFx0XHR2YWx1ZXMuc2VyaWFsaXplciA9IHNlcmlhbGl6ZXJJZFxyXG5cdFx0XHRcdGlmICh2YWx1ZXMucmVzZXRUbyA8IHZhbHVlcy5sZW5ndGgpXHJcblx0XHRcdFx0XHR2YWx1ZXMubGVuZ3RoID0gdmFsdWVzLnJlc2V0VG9cclxuXHRcdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgUkVGRVJFTkNJTkdfUE9TSVRJT04pXHJcblx0XHRcdFx0d3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgdmFsdWVzLnJlc2V0VG8pXHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHJlZmVyZW5jZSA9IHZhbHVlcy5pbmRleE9mKHZhbHVlKVxyXG5cdFx0XHRpZiAocmVmZXJlbmNlID4gLTEpIHtcclxuXHRcdFx0XHRyZXR1cm4gd3JpdGVOdW1iZXIocmVmZXJlbmNlKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAoKHR5cGUgPSB0eXBlb2YgdmFsdWUpID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSdvYmplY3QnICYmIHZhbHVlKSB7XHJcblx0XHRcdGlmIChwcm9wZXJ0eS53cml0ZVNoYXJlZFZhbHVlKSB7XHJcblx0XHRcdFx0aWYgKHByb3BlcnR5LndyaXRlU2hhcmVkVmFsdWUodmFsdWUsIHdyaXRlVG9rZW4sIHNlcmlhbGl6ZXJJZCkpXHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0fSBlbHNlIGlmICh2YWx1ZXMpIHtcclxuXHRcdFx0XHR2YXIgaW5kZXggPSB2YWx1ZXMubGVuZ3RoXHJcblx0XHRcdFx0aWYgKGluZGV4IDwgMTIpXHJcblx0XHRcdFx0XHR2YWx1ZXNbaW5kZXhdID0gdmFsdWVcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdHdyaXRlSW5saW5lU3RyaW5nKHZhbHVlKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0d3JpdGVBc0RlZmF1bHQodmFsdWUpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyB3cml0aW5nIGFueSB2YWx1ZSBpbiBudW1iZXIgc2VyaWFsaXphdGlvbiB0eXBlIG1vZGVcclxuXHRmdW5jdGlvbiB3cml0ZUFzTnVtYmVyKG51bWJlcikge1xyXG5cdFx0dmFyIHR5cGUgPSB0eXBlb2YgbnVtYmVyXHJcblx0XHRpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0aWYgKG51bWJlciA+Pj4gMCA9PT0gbnVtYmVyIHx8IChudW1iZXIgPiAwICYmIG51bWJlciA8IDB4NDAwMDAwMDAwMDAwICYmIG51bWJlciAlIDEgPT09IDApKSB7XHJcblx0XHRcdFx0Ly8gNDYgYml0IHVuc2lnbmVkIGludGVnZXJcclxuXHRcdFx0XHR3cml0ZVRva2VuKE5VTUJFUl9DT0RFLCBudW1iZXIpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gZGVjaW1hbCBudW1iZXIgc2VyaWFsaXplZCBhcyBhIHN0cmluZ1xyXG5cdFx0XHRcdHZhciBhc1N0cmluZyA9IG51bWJlci50b1N0cmluZygpXHJcblx0XHRcdFx0d3JpdGVJbmxpbmVTdHJpbmcoYXNTdHJpbmcpXHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0d3JpdGVBc0RlZmF1bHQobnVtYmVyKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0d3JpdGVUeXBlZFZhbHVlKG51bWJlcilcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHdyaXRlVHlwZWRWYWx1ZSh2YWx1ZSkge1xyXG5cdFx0aWYgKHZhbHVlID09PSBudWxsKVxyXG5cdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTlVMTClcclxuXHRcdGVsc2UgaWYgKHZhbHVlID09PSBmYWxzZSlcclxuXHRcdFx0d3JpdGVUb2tlbihUWVBFX0NPREUsIEZBTFNFKVxyXG5cdFx0ZWxzZSBpZiAodmFsdWUgPT09IHRydWUpXHJcblx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBUUlVFKVxyXG5cdFx0ZWxzZSBpZiAodmFsdWUgPT09IHVuZGVmaW5lZClcclxuXHRcdFx0d3JpdGVUb2tlbihUWVBFX0NPREUsIFVOREVGSU5FRClcclxuXHRcdGVsc2Uge1xyXG5cdFx0XHR3cml0ZVR5cGVkTm9uQ29uc3RhbnQodmFsdWUpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB3cml0ZVR5cGVkTm9uQ29uc3RhbnQodmFsdWUpIHtcclxuXHRcdHZhciB0eXBlID0gdHlwZW9mIHZhbHVlXHJcblx0XHR2YXIgZXh0ZW5kZWRUeXBlXHJcblx0XHRpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0aWYgKHZhbHVlKSB7XHJcblx0XHRcdFx0dmFyIGNvbnN0cnVjdG9yID0gdmFsdWUuY29uc3RydWN0b3JcclxuXHRcdFx0XHRpZiAoY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xyXG5cdFx0XHRcdFx0Ly8gbGVhdmUgdHlwZSBhcyBpc1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblx0XHRcdFx0XHR0eXBlID0gJ2FycmF5J1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRleHRlbmRlZFR5cGUgPSBleHRlbmRlZFR5cGVzLmdldChjb25zdHJ1Y3RvcilcclxuXHRcdFx0XHRcdGlmIChleHRlbmRlZFR5cGUgJiYgZXh0ZW5kZWRUeXBlLnRvVmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0dmFsdWUgPSBleHRlbmRlZFR5cGUudG9WYWx1ZSh2YWx1ZSlcclxuXHRcdFx0XHRcdFx0dHlwZSA9IHR5cGVvZiB2YWx1ZSAvLyBnbyB0aHJvdWdoIHRoZSBzYW1lIGxvZ2ljIGFkanVzdG1lbnQgaGVyZVxyXG5cdFx0XHRcdFx0XHRpZiAodmFsdWUgJiYgdHlwZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblx0XHRcdFx0XHRcdFx0dHlwZSA9ICdhcnJheSdcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAocHJvcGVydHkudHlwZSA9PT0gdHlwZSkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIGlmIHdlIGFyZSB0aGUgcmlnaHQgdHlwZSBhZnRlciBkb2luZyB0aGUgY29udmVyc2lvbiwgZ28gYmFjayB0byB0aGUgb3JpZ2luYWwgcHJvcGVydHkgdG8gc2VyaWFsaXplXHJcblx0XHRcdFx0XHRcdFx0aWYgKHByb3BlcnR5LmV4dGVuZGVkVHlwZSAhPT0gZXh0ZW5kZWRUeXBlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5leHRlbmRlZFR5cGUgPSBleHRlbmRlZFR5cGVcclxuXHRcdFx0XHRcdFx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBNRVRBREFUQV9UWVBFKVxyXG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVJbmxpbmVTdHJpbmcoZXh0ZW5kZWRUeXBlLm5hbWUpXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB3cml0ZXJzW3Byb3BlcnR5LmNvZGVdKHZhbHVlKVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRleHRlbmRlZFR5cGUgPSBmYWxzZVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7IC8vIG51bGxcclxuXHRcdFx0XHR0eXBlID0gJ3VuZGVmaW5lZCcgLy8gdHJlYXQgbnVsbCBhcyBzYW1lIHR5cGUgYXMgdW5kZWZpbmVkLCBib3RoIGNvbnN0YW50c1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09ICdib29sZWFuJykge1xyXG5cdFx0XHR0eXBlID0gJ3VuZGVmaW5lZCdcclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHR2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKClcclxuXHRcdFx0dHlwZSA9ICdzdHJpbmcnXHJcblx0XHR9XHJcblx0XHRwcm9wZXJ0eSA9IHdyaXRlUHJvcGVydHkobnVsbCwgdHlwZSwgZXh0ZW5kZWRUeXBlKVxyXG5cdFx0d3JpdGVyc1twcm9wZXJ0eS5jb2RlXSh2YWx1ZSlcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHdyaXRlT25seU51bGwoKSB7XHJcblx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTlVMTClcclxuXHR9XHJcblxyXG5cdC8vIHdyaXRpbmcgYW55IHZhbHVlIGluIGRlZmF1bHQgc2VyaWFsaXphdGlvbiB0eXBlIG1vZGVcclxuXHRmdW5jdGlvbiB3cml0ZUFzRGVmYXVsdCh2YWx1ZSwgaXNSb290KSB7XHJcblx0XHR2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZVxyXG5cdFx0aWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdGlmICghdmFsdWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gd3JpdGVUb2tlbihUWVBFX0NPREUsIE5VTEwpXHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gZWxzZSBjb250aW51ZSB3aXRoIHRoZSBvYmplY3QgY29kZVxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRyZXR1cm4gd3JpdGVJbmxpbmVTdHJpbmcodmFsdWUpXHJcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmICh2YWx1ZSA+Pj4gMCA9PT0gdmFsdWUgfHwgKHZhbHVlID4gMCAmJiB2YWx1ZSA8IDB4NDAwMDAwMDAwMDAwICYmIHZhbHVlICUgMSA9PT0gMCkpKSB7XHJcblx0XHRcdC8vIDQ2IGJpdCB1bnNpZ25lZCBpbnRlZ2VyXHJcblx0XHRcdHJldHVybiB3cml0ZVRva2VuKE5VTUJFUl9DT0RFLCB2YWx1ZSlcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiB3cml0ZVR5cGVkVmFsdWUodmFsdWUpXHJcblx0XHR9XHJcblx0XHR2YXIgb2JqZWN0ID0gdmFsdWVcclxuXHRcdHZhciBjb25zdHJ1Y3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvclxyXG5cdFx0dmFyIG5vdFBsYWluT2JqZWN0XHJcblx0XHRpZiAob2JqZWN0W3RhcmdldFN5bWJvbF0pIHtcclxuXHRcdFx0cmV0dXJuIHdyaXRlQmxvY2tSZWZlcmVuY2UodmFsdWUpXHJcblx0XHR9IGVsc2UgaWYgKGNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcclxuXHRcdFx0bm90UGxhaW5PYmplY3QgPSBmYWxzZVxyXG5cdFx0fSBlbHNlIGlmIChjb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHRcdFx0cHJvcGVydHkgPSB3cml0ZVByb3BlcnR5KHByb3BlcnR5LmtleSwgJ2FycmF5JylcclxuXHRcdFx0cmV0dXJuIHdyaXRlcnNbcHJvcGVydHkuY29kZV0odmFsdWUpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAob2JqZWN0LnRoZW4pIHtcclxuXHRcdFx0XHRyZXR1cm4gd3JpdGVCbG9ja1JlZmVyZW5jZSh2YWx1ZSlcclxuXHRcdFx0fVxyXG5cdFx0XHRleHRlbmRlZFR5cGUgPSBleHRlbmRlZFR5cGVzLmdldChjb25zdHJ1Y3RvcilcclxuXHRcdFx0aWYgKGV4dGVuZGVkVHlwZSkge1xyXG5cdFx0XHRcdGlmIChleHRlbmRlZFR5cGUudG9WYWx1ZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHdyaXRlVHlwZWRWYWx1ZShvYmplY3QpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChvYmplY3RbaXRlcmF0b3JTeW1ib2xdKSB7XHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IHdyaXRlUHJvcGVydHkocHJvcGVydHkua2V5LCAnYXJyYXknKVxyXG5cdFx0XHRcdFx0cmV0dXJuIHdyaXRlQXNJdGVyYWJsZShvYmplY3QsIGlzUm9vdClcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZXh0ZW5kZWRUeXBlcy5zZXQoY29uc3RydWN0b3IsIGV4dGVuZGVkVHlwZSA9IHtcclxuXHRcdFx0XHRcdG5hbWU6IGNvbnN0cnVjdG9yLm5hbWVcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChwcm9wZXJ0eS5jb25zdHJ1Y3RzICE9PSBjb25zdHJ1Y3Rvcikge1xyXG5cdFx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBNRVRBREFUQV9UWVBFKVxyXG5cdFx0XHRcdHdyaXRlSW5saW5lU3RyaW5nKGV4dGVuZGVkVHlwZS5uYW1lKVxyXG5cdFx0XHRcdHByb3BlcnR5LmNvbnN0cnVjdHMgPSBjb25zdHJ1Y3RvclxyXG5cdFx0XHR9XHJcblx0XHRcdG5vdFBsYWluT2JqZWN0ID0gdHJ1ZVxyXG5cdFx0fVxyXG5cdFx0dmFyIHRoaXNQcm9wZXJ0eSA9IHByb3BlcnR5XHJcblx0XHRpZiAodGhpc1Byb3BlcnR5LnJlc2V0VG8gPCB0aGlzUHJvcGVydHkubGVuZ3RoICYmIHRoaXNQcm9wZXJ0eS5zZXJpYWxpemVyICE9IHNlcmlhbGl6ZXJJZCkge1xyXG5cdFx0XHR0aGlzUHJvcGVydHkubGVuZ3RoID0gdGhpc1Byb3BlcnR5LnJlc2V0VG9cclxuXHRcdFx0dGhpc1Byb3BlcnR5LnNlcmlhbGl6ZXIgPSBzZXJpYWxpemVySWRcclxuXHRcdH1cclxuXHRcdHN0YXJ0U2VxdWVuY2UoKVxyXG5cdFx0dmFyIGkgPSAwXHJcblx0XHQvL3ZhciBzcGFyc2UgPSBmYWxzZSAvLyBkZW5zZWx5IHBhY2tlZCBwcm9wZXJ0eSByZWZlcmVuY2VzIGNhbiBiZSBzZWFyY2hlZCBtb3JlIHF1aWNrbHlcclxuXHRcdHZhciByZXN1bWVJbmRleCA9IC0yIC8vIC0yIGRlbm90ZXMgZGVuc2VseSBwYWNrZWQgcHJvcGVydHkgcmVmZXJlbmNlcyBcclxuXHRcdHZhciBwcm9wZXJ0eUluZGV4ID0gMFxyXG5cdFx0Zm9yICh2YXIga2V5IGluIG9iamVjdCkge1xyXG5cdFx0XHRpZiAobm90UGxhaW5PYmplY3QgJiYgIW9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpKVxyXG5cdFx0XHRcdGNvbnRpbnVlXHJcblx0XHRcdHZhciB2YWx1ZSA9IG9iamVjdFtrZXldXHJcblx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWVcclxuXHRcdFx0cHJvcGVydHkgPSB0aGlzUHJvcGVydHlbcHJvcGVydHlJbmRleF1cclxuXHRcdFx0dmFyIGNvbnN0cnVjdG9yXHJcblx0XHRcdHZhciBleHRlbmRlZFR5cGUgPSBmYWxzZVxyXG5cdFx0XHRpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRpZiAodmFsdWUpIHtcclxuXHRcdFx0XHRcdGNvbnN0cnVjdG9yID0gdmFsdWUuY29uc3RydWN0b3JcclxuXHRcdFx0XHRcdGlmIChjb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XHJcblx0XHRcdFx0XHRcdC8vIGxlYXZlIHR5cGUgYXMgaXNcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblx0XHRcdFx0XHRcdHR5cGUgPSAnYXJyYXknXHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRleHRlbmRlZFR5cGUgPSBleHRlbmRlZFR5cGVzLmdldChjb25zdHJ1Y3RvcilcclxuXHRcdFx0XHRcdFx0aWYgKGV4dGVuZGVkVHlwZSAmJiBleHRlbmRlZFR5cGUudG9WYWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gZXh0ZW5kZWRUeXBlLnRvVmFsdWUodmFsdWUpXHJcblx0XHRcdFx0XHRcdFx0dHlwZSA9IHR5cGVvZiB2YWx1ZSAvLyBnbyB0aHJvdWdoIHRoZSBzYW1lIGxvZ2ljIGFkanVzdG1lbnQgaGVyZVxyXG5cdFx0XHRcdFx0XHRcdGlmICh2YWx1ZSAmJiB0eXBlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHR5cGUgPSAnYXJyYXknXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHZhbHVlW2l0ZXJhdG9yU3ltYm9sXSAmJiAhdmFsdWUudGhlbikge1xyXG5cdFx0XHRcdFx0XHRcdHR5cGUgPSAnYXJyYXknXHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZXh0ZW5kZWRUeXBlID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7IC8vIG51bGxcclxuXHRcdFx0XHRcdHR5cGUgPSAndW5kZWZpbmVkJyAvLyB0cmVhdCBudWxsIGFzIHNhbWUgdHlwZSBhcyB1bmRlZmluZWQgKGFuZCBib29sZWFuKSwgYm90aCBjb25zdGFudHMgdGhhdCBjYW4gZ28gaW4gYW55IHR5cGVcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFwcm9wZXJ0eSB8fCBwcm9wZXJ0eS5rZXkgIT09IGtleSB8fFxyXG5cdFx0XHRcdChwcm9wZXJ0eS50eXBlICE9PSB0eXBlICYmIHR5cGUgIT09ICdib29sZWFuJyAmJiB0eXBlICE9PSAndW5kZWZpbmVkJyAmJiAhKHR5cGUgPT09ICdzdHJpbmcnICYmIHByb3BlcnR5LnR5cGUgIT09ICdudW1iZXInKSkgfHxcclxuXHRcdFx0XHQoZXh0ZW5kZWRUeXBlICYmIHByb3BlcnR5LmV4dGVuZGVkVHlwZSAhPT0gY29uc3RydWN0b3IpKSB7XHJcblx0XHRcdFx0dmFyIGxhc3RQcm9wZXJ0eUluZGV4ID0gcHJvcGVydHlJbmRleFxyXG5cdFx0XHRcdC8vIHByb3BlcnR5IGRvZXNuJ3QgbWF0Y2gsIHNlYXJjaCBmb3IgaXQgdGhyb3VnaCBleGlzdGluZyBwcm9wZXJ0aWVzXHJcblx0XHRcdFx0Ly8gbm90ZSB0aGF0IHdlIGFyZSBzdGFydGluZyBhdCB0aGUgY3VycmVudCBwcm9wZXJ0eUluZGV4LCBzbyB0aGlzIG1ha2VzIHRoZSBhc3N1bXB0aW9uIHRoYXRcclxuXHRcdFx0XHQvLyBwcm9wZXJ0aWVzIGFyZSByYXJlbHkgZXZlciBzd2FwcGVkLCBzbyBwb3NzaWJsZSBwcm9wZXJ0eSBzbG90cyBhcmUgYWx3YXlzIGZvcndhcmRcclxuXHRcdFx0XHRpZiAocmVzdW1lSW5kZXggPiAtMilcclxuXHRcdFx0XHRcdHByb3BlcnR5SW5kZXggPSByZXN1bWVJbmRleFxyXG5cdFx0XHRcdGRvIHtcclxuXHRcdFx0XHRcdHByb3BlcnR5ID0gdGhpc1Byb3BlcnR5WysrcHJvcGVydHlJbmRleF1cclxuXHRcdFx0XHR9IHdoaWxlKHByb3BlcnR5ICYmIChwcm9wZXJ0eS5rZXkgIT09IGtleSB8fFxyXG5cdFx0XHRcdFx0XHQocHJvcGVydHkudHlwZSAhPT0gdHlwZSAmJiB0eXBlICE9PSAnYm9vbGVhbicgJiYgdHlwZSAhPT0gJ3VuZGVmaW5lZCcgJiYgISh0eXBlID09PSAnc3RyaW5nJyAmJiBwcm9wZXJ0eS50eXBlICE9PSAnbnVtYmVyJykpIHx8XHJcblx0XHRcdFx0XHRcdChleHRlbmRlZFR5cGUgJiYgcHJvcGVydHkuZXh0ZW5kZWRUeXBlICE9PSBjb25zdHJ1Y3RvcikpKVxyXG5cdFx0XHRcdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdFx0Ly8gZm91bmQgYSBtYXRjaCwgcmVmZXJlbmNlIGl0XHJcblx0XHRcdFx0XHR3cml0ZVRva2VuKFBST1BFUlRZX0NPREUsIHByb3BlcnR5SW5kZXgpXHJcblx0XHRcdFx0XHRpZiAocmVzdW1lSW5kZXggPT09IC0yKSB7XHJcblx0XHRcdFx0XHRcdHJlc3VtZUluZGV4ID0gbGFzdFByb3BlcnR5SW5kZXggLSAxXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzUHJvcGVydHkuZ2V0UHJvcGVydHkpIHtcclxuXHRcdFx0XHRcdC8vIGEgc2hhcmVkIHByb3BlcnR5LCBsZXQgaXQgYWxsb2NhdGUgaWRzXHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IHRoaXNQcm9wZXJ0eS5nZXRQcm9wZXJ0eSh2YWx1ZSwga2V5LCB0eXBlLCBleHRlbmRlZFR5cGUsIHdyaXRlUHJvcGVydHksIHdyaXRlVG9rZW4sIGxhc3RQcm9wZXJ0eUluZGV4KVxyXG5cdFx0XHRcdFx0cHJvcGVydHlJbmRleCA9IHByb3BlcnR5LmluZGV4XHJcblx0XHRcdFx0XHRpZiAobGFzdFByb3BlcnR5SW5kZXggIT09IHByb3BlcnR5SW5kZXggJiYgcmVzdW1lSW5kZXggPT09IC0yKSB7XHJcblx0XHRcdFx0XHRcdHJlc3VtZUluZGV4ID0gbGFzdFByb3BlcnR5SW5kZXggLSAxXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGlmIChsYXN0UHJvcGVydHlJbmRleCA9PT0gdGhpc1Byb3BlcnR5Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4ID0gbGFzdFByb3BlcnR5SW5kZXhcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHdyaXRlVG9rZW4oUFJPUEVSVFlfQ09ERSwgcHJvcGVydHlJbmRleCA9IHRoaXNQcm9wZXJ0eS5sZW5ndGgpXHJcblx0XHRcdFx0XHRcdGlmIChyZXN1bWVJbmRleCA9PT0gLTIpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXN1bWVJbmRleCA9IGxhc3RQcm9wZXJ0eUluZGV4IC0gMVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAocHJvcGVydHlJbmRleCA8IHRoaXNQcm9wZXJ0eS5yZXNldFRvKSB7XHJcblx0XHRcdFx0XHRcdGRlYnVnZ2VyXHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignb3ZlcndyaXRpbmcgZnJvemVuIHByb3BlcnR5JylcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IHRoaXNQcm9wZXJ0eVtwcm9wZXJ0eUluZGV4XSA9IHdyaXRlUHJvcGVydHkoa2V5LCB0eXBlLCBleHRlbmRlZFR5cGUpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChwcm9wZXJ0eVVzZWQpXHJcblx0XHRcdFx0cHJvcGVydHlVc2VkKHByb3BlcnR5LCBvYmplY3QsIHNlcmlhbGl6ZXJJZCwgaSlcclxuLy9cdFx0XHRpZiAocHJvcGVydHkucmVzdW1lSW5kZXgpIC8vIFRPRE86IGFkZCBhIGZsYWcgdG8gZW5hYmxlIHRoaXMgd2hlbiBwcm9wZXJ0eSBvcmRlcmluZyBjYW4gYmUgYXNzdW1lZFxyXG4vL1x0XHRcdFx0cmVzdW1lSW5kZXggPSBwcm9wZXJ0eS5yZXN1bWVJbmRleFxyXG5cdFx0XHR2YXIgY29kZSA9IHByb3BlcnR5LmNvZGVcclxuXHRcdFx0aWYgKGNvZGUgPiA3KSB7XHJcblx0XHRcdFx0aWYgKGNvZGUgPT09IDgpXHJcblx0XHRcdFx0XHR3cml0ZUFzUmVmZXJlbmNpbmcodmFsdWUpXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0d3JpdGVBc051bWJlcih2YWx1ZSlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAoY29kZSA9PT0gNikgXHJcblx0XHRcdFx0XHR3cml0ZUFzRGVmYXVsdCh2YWx1ZSlcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR3cml0ZUFzQXJyYXkodmFsdWUpXHJcblx0XHRcdH1cclxuXHRcdFx0cHJvcGVydHlJbmRleCsrXHJcblx0XHRcdGkrK1xyXG5cdFx0fVxyXG5cdFx0cHJvcGVydHkgPSB0aGlzUHJvcGVydHlcclxuXHRcdGVuZFNlcXVlbmNlKGkpXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB3cml0ZVByb3BlcnR5KGtleSwgdHlwZSwgZXh0ZW5kZWRUeXBlKSB7XHJcblx0XHR2YXIgcHJvcGVydHlcclxuXHRcdHByb3BlcnR5ID0gW11cclxuXHRcdHByb3BlcnR5LmtleSA9IGtleVxyXG5cdFx0cHJvcGVydHkudHlwZSA9IHR5cGVcclxuXHRcdGlmICh0eXBlID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgUkVGRVJFTkNJTkdfVFlQRSlcclxuXHRcdFx0cHJvcGVydHkudmFsdWVzID0gW11cclxuXHRcdFx0cHJvcGVydHkuY29kZSA9IFJFRkVSRU5DSU5HX1RZUEVcclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0d3JpdGVUb2tlbihUWVBFX0NPREUsIE5VTUJFUl9UWVBFKVxyXG5cdFx0XHRwcm9wZXJ0eS5jb2RlID0gTlVNQkVSX1RZUEVcclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0d3JpdGVUb2tlbihUWVBFX0NPREUsIERFRkFVTFRfVFlQRSlcclxuXHRcdFx0cHJvcGVydHkuY29kZSA9IERFRkFVTFRfVFlQRVxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnYXJyYXknKSB7XHJcblx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBBUlJBWV9UWVBFKVxyXG5cdFx0XHRwcm9wZXJ0eS5jb2RlID0gQVJSQVlfVFlQRVxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnYm9vbGVhbicgfHwgdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0cHJvcGVydHkudHlwZSA9ICdvYmplY3QnXHJcblx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBERUZBVUxUX1RZUEUpXHJcblx0XHRcdHByb3BlcnR5LmNvZGUgPSBERUZBVUxUX1RZUEVcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBERUZBVUxUX1RZUEUpXHJcblx0XHRcdHByb3BlcnR5LmNvZGUgPSAxMFxyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gd3JpdGUgdmFsdWUgb2YgdHlwZSAnICsgdHlwZSlcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0d3JpdGVJbmxpbmVTdHJpbmcoa2V5KVxyXG5cdFx0fSBlbHNlIGlmICghKGtleSA9PT0gbnVsbCAmJiAodHlwZSA9PT0gJ29iamVjdCcgfHwgdHlwZSA9PT0gJ2FycmF5JykpKSB7IC8vIGlmIGtleSBpcyBudWxsIGZvbGxvd2VkIGJ5IHNlcXVlbmNlLCB3ZSBjYW4gZWxpZGUgdGhlIGtleVxyXG5cdFx0XHR3cml0ZUFzRGVmYXVsdChrZXkpXHJcblx0XHR9XHJcblx0XHRpZiAoZXh0ZW5kZWRUeXBlKSB7XHJcblx0XHRcdHByb3BlcnR5LmV4dGVuZGVkVHlwZSA9IGV4dGVuZGVkVHlwZVxyXG5cdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTUVUQURBVEFfVFlQRSlcclxuXHRcdFx0d3JpdGVJbmxpbmVTdHJpbmcoZXh0ZW5kZWRUeXBlLm5hbWUpXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcHJvcGVydHlcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHdyaXRlQXNJdGVyYWJsZShpdGVyYWJsZSwgaXNSb290LCBpdGVyYXRvcikge1xyXG5cdFx0Ly8gVE9ETzogV2l0aCB0b3AgbGV2ZWwgaXRlcmFibGVzIHdlIGNvdWxkIHBhdXNlIGZvciBiYWNrLXByZXNzdXJlXHJcblx0XHR0cnkge1xyXG5cdFx0XHRpZiAoIWl0ZXJhdG9yKSB7XHJcblx0XHRcdFx0d3JpdGVUb2tlbihTRVFVRU5DRV9DT0RFLCBPUEVOX1NFUVVFTkNFKVxyXG5cdFx0XHRcdGl0ZXJhdG9yID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdKClcclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgYXJyYXlQcm9wZXJ0eSA9IHByb3BlcnR5XHJcblx0XHRcdHByb3BlcnR5ID0gYXJyYXlQcm9wZXJ0eS5jaGlsZCB8fCAoYXJyYXlQcm9wZXJ0eS5jaGlsZCA9IGFycmF5UHJvcGVydHkpIC8vIHNldCB0aGUgY3VycmVudCBwcm9wZXJ0eSB0byB0aGUgY2hpbGQgcHJvcGVydHlcclxuXHRcdFx0Ly8gd3JpdGUgb3V0IHRoZSBlbGVtZW50c1xyXG5cdFx0XHR2YXIgcmVzdWx0XHJcblx0XHRcdHdoaWxlKCEocmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XHJcblx0XHRcdFx0d3JpdGVyc1twcm9wZXJ0eS5jb2RlXShyZXN1bHQudmFsdWUsIGFycmF5UHJvcGVydHkpXHJcblx0XHRcdFx0aWYgKGlzUm9vdCAmJiBjaGFyRW5jb2Rlci5oYXNXcml0dGVuKSB7XHJcblx0XHRcdFx0XHRjaGFyRW5jb2Rlci5oYXNXcml0dGVuID0gZmFsc2UgLy8gcmVzZXQgdGhpcyBwcm9wZXJ0eVxyXG5cdFx0XHRcdFx0cHJvcGVydHkgPSBhcnJheVByb3BlcnR5IC8vIHJlc3RvcmUgY3VycmVudCBwcm9wZXJ0eVxyXG5cdFx0XHRcdFx0cGVuZGluZ0VuY29kaW5ncy51bnNoaWZ0KHtcclxuXHRcdFx0XHRcdFx0dGhlbjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuXHRcdFx0XHRcdFx0XHR3cml0ZUFzSXRlcmFibGUobnVsbCwgdHJ1ZSwgaXRlcmF0b3IpXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKClcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaChlcnJvcikge1xyXG5cdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTUVUQURBVEFfVFlQRSlcclxuXHRcdFx0d3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgRVJST1JfTUVUQURBVEEpXHJcblx0XHRcdHdyaXRlQXNEZWZhdWx0KE9iamVjdC5hc3NpZ24obmV3ICgodHlwZW9mIGVycm9yID09ICdvYmplY3QnICYmIGVycm9yKSA/IGVycm9yLmNvbnN0cnVjdG9yIDogRXJyb3IpKCksIHtcclxuXHRcdFx0XHRuYW1lOiBlcnJvciAmJiBlcnJvci5uYW1lLCAvLyBtYWtlIHRoZXNlIGVudW1lcmFibGUgc28gdGhleSB3aWxsIHNlcmlhbGl6ZVxyXG5cdFx0XHRcdG1lc3NhZ2U6IGVycm9yICYmIGVycm9yLm1lc3NhZ2UgfHwgZXJyb3JcclxuXHRcdFx0fSkpXHJcblx0XHRcdHRocm93IGVycm9yXHJcblx0XHR9XHJcblx0XHRpZiAocHJvcGVydHkgIT09IGFycmF5UHJvcGVydHkuY2hpbGQpIHtcclxuXHRcdFx0Ly8gVE9ETzogVGhpcyByZWFsbHkgbmVlZHMgdG8gaGFwcGVuIGltbWVkaWF0ZWx5IHdoZW4gYSBwcm9wZXJ0eSBjaGFuZ2VzLCB0byBtYXRjaCB0aGUgcGFyc2luZyBiZWhhdmlvclxyXG5cdFx0XHRhcnJheVByb3BlcnR5LmNoaWxkID0gcHJvcGVydHlcclxuXHRcdH1cclxuXHRcdHByb3BlcnR5ID0gYXJyYXlQcm9wZXJ0eSAvLyByZXN0b3JlIGN1cnJlbnQgcHJvcGVydHlcclxuXHRcdHdyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgRU5EX1NFUVVFTkNFKSAvLyBlbmQgc2VxdWVuY2VcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHdyaXRlQXNBcnJheShhcnJheSkge1xyXG5cdFx0aWYgKCFhcnJheSkge1xyXG5cdFx0XHR3cml0ZVR5cGVkVmFsdWUoYXJyYXkpXHJcblx0XHR9IGVsc2UgaWYgKGFycmF5W3RhcmdldFN5bWJvbF0pIHtcclxuXHRcdFx0cmV0dXJuIHdyaXRlQmxvY2tSZWZlcmVuY2UoYXJyYXkpXHJcblx0XHR9IGVsc2UgaWYgKGFycmF5LmNvbnN0cnVjdG9yID09PSBBcnJheSkgeyAvLyBjaGVjayB0byBtYWtlIHN1cmUgaXQgaXMgYW4gYXJyYXlcclxuXHRcdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aFxyXG5cdFx0XHR2YXIgbmVlZHNDbG9zaW5nXHJcblx0XHRcdGlmIChsZW5ndGggPiAxMSkge1xyXG5cdFx0XHRcdHdyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgT1BFTl9TRVFVRU5DRSkgLy8gc3RhcnQgc2VxdWVuY2UgPFxyXG5cdFx0XHRcdG5lZWRzQ2xvc2luZyA9IHRydWVcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR3cml0ZVRva2VuKFNFUVVFTkNFX0NPREUsIGxlbmd0aCkgLy8gd3JpdGUgb3V0IHRoZSBoZWFkZXIgdG9rZW5cclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgYXJyYXlQcm9wZXJ0eSA9IHByb3BlcnR5XHJcblx0XHRcdHByb3BlcnR5ID0gYXJyYXlQcm9wZXJ0eVswXSAvLyBzZXQgdGhlIGN1cnJlbnQgcHJvcGVydHkgdG8gdGhlIGNoaWxkIHByb3BlcnR5XHJcblx0XHRcdC8vIGNoZWNrIHRvIHNlZSBpZiBuZWVkcyB0byBiZSByZXNldCBiZWZvcmUgc3RhcnRpbmdcclxuXHRcdFx0aWYgKGFycmF5UHJvcGVydHkucmVzZXRUbyA8IGFycmF5UHJvcGVydHkubGVuZ3RoICYmIGFycmF5UHJvcGVydHkuc2VyaWFsaXplciAhPSBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0XHRhcnJheVByb3BlcnR5Lmxlbmd0aCA9IGFycmF5UHJvcGVydHkucmVzZXRUb1xyXG5cdFx0XHRcdGFycmF5UHJvcGVydHkuc2VyaWFsaXplciA9IHNlcmlhbGl6ZXJJZFxyXG5cdFx0XHR9XHJcblx0XHRcdHZhciBwcm9wZXJ0eUluZGV4ID0gMFxyXG5cdFx0XHQvLyB3cml0ZSBvdXQgdGhlIGVsZW1lbnRzXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgdmFsdWUgPSBhcnJheVtpXVxyXG5cdFx0XHRcdHZhciB0eXBlID0gdHlwZW9mIHZhbHVlXHJcblx0XHRcdFx0aWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0XHRpZiAodmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGNvbnN0cnVjdG9yID0gdmFsdWUuY29uc3RydWN0b3JcclxuXHRcdFx0XHRcdFx0aWYgKGNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBsZWF2ZSB0eXBlIGFzIGlzXHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblx0XHRcdFx0XHRcdFx0dHlwZSA9ICdhcnJheSdcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZXh0ZW5kZWRUeXBlID0gZXh0ZW5kZWRUeXBlcy5nZXQoY29uc3RydWN0b3IpXHJcblx0XHRcdFx0XHRcdFx0aWYgKGV4dGVuZGVkVHlwZSAmJiBleHRlbmRlZFR5cGUudG9WYWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBleHRlbmRlZFR5cGUudG9WYWx1ZSh2YWx1ZSlcclxuXHRcdFx0XHRcdFx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWUgLy8gZ28gdGhyb3VnaCB0aGUgc2FtZSBsb2dpYyBhZGp1c3RtZW50IGhlcmVcclxuXHRcdFx0XHRcdFx0XHRcdGlmICh2YWx1ZSAmJiB0eXBlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZSA9ICdhcnJheSdcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZXh0ZW5kZWRUeXBlID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2UgeyAvLyBudWxsXHJcblx0XHRcdFx0XHRcdHR5cGUgPSAndW5kZWZpbmVkJyAvLyB0cmVhdCBudWxsIGFzIHNhbWUgdHlwZSBhcyB1bmRlZmluZWQsIGJvdGggY29uc3RhbnRzXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICghcHJvcGVydHkpIHtcclxuXHRcdFx0XHRcdGlmIChhcnJheVByb3BlcnR5LmdldFByb3BlcnR5KSB7XHJcblx0XHRcdFx0XHRcdC8vIGEgc2hhcmVkIHByb3BlcnR5XHJcblx0XHRcdFx0XHRcdHByb3BlcnR5ID0gYXJyYXlQcm9wZXJ0eS5nZXRQcm9wZXJ0eSh2YWx1ZSwgbnVsbCwgdHlwZSwgZXh0ZW5kZWRUeXBlLCB3cml0ZVByb3BlcnR5LCB3cml0ZVRva2VuLCAwKVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0aWYgKHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGUgPT09ICdudW1iZXInIHx8IHR5cGUgPT09ICdhcnJheScpXHJcblx0XHRcdFx0XHRcdFx0cHJvcGVydHkgPSB3cml0ZVByb3BlcnR5KG51bGwsIHR5cGUsIGV4dGVuZGVkVHlwZSlcclxuXHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gZGVmYXVsdCBkb2Vzbid0IGhhdmUgdG8gYmUgd3JpdHRlblxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5ID0gW11cclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS50eXBlID0gdHlwZVxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5LmtleSA9IG51bGxcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5jb2RlID0gREVGQVVMVF9UWVBFXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0YXJyYXlQcm9wZXJ0eVswXSA9IHByb3BlcnR5XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmICgocHJvcGVydHkudHlwZSAhPT0gdHlwZSAmJiB0eXBlICE9PSAnYm9vbGVhbicgJiYgdHlwZSAhPT0gJ3VuZGVmaW5lZCcgJiYgISh0eXBlID09PSAnc3RyaW5nJyAmJiBwcm9wZXJ0eS50eXBlICE9PSAnbnVtYmVyJykpIHx8XHJcblx0XHRcdFx0XHQoZXh0ZW5kZWRUeXBlICYmIHByb3BlcnR5LmV4dGVuZGVkVHlwZSAhPT0gY29uc3RydWN0b3IpKSB7XHJcblx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4ID0gLTFcclxuXHRcdFx0XHRcdGRvIHtcclxuXHRcdFx0XHRcdFx0cHJvcGVydHkgPSBhcnJheVByb3BlcnR5WysrcHJvcGVydHlJbmRleF1cclxuXHRcdFx0XHRcdH0gd2hpbGUocHJvcGVydHkgJiYgKChwcm9wZXJ0eS50eXBlICE9PSB0eXBlICYmIHR5cGUgIT09ICdib29sZWFuJyAmJiB0eXBlICE9PSAndW5kZWZpbmVkJyAmJiAhKHR5cGUgPT09ICdzdHJpbmcnICYmIHByb3BlcnR5LnR5cGUgIT09ICdudW1iZXInKSkgfHxcclxuXHRcdFx0XHRcdFx0XHQoZXh0ZW5kZWRUeXBlICYmIHByb3BlcnR5LmV4dGVuZGVkVHlwZSAhPT0gY29uc3RydWN0b3IpKSlcclxuXHRcdFx0XHRcdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdFx0XHR3cml0ZVRva2VuKFBST1BFUlRZX0NPREUsIHByb3BlcnR5SW5kZXgpXHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGFycmF5UHJvcGVydHkuZ2V0UHJvcGVydHkpIHtcclxuXHRcdFx0XHRcdFx0Ly8gYSBzaGFyZWQgcHJvcGVydHlcclxuXHRcdFx0XHRcdFx0cHJvcGVydHkgPSBhcnJheVByb3BlcnR5LmdldFByb3BlcnR5KHZhbHVlLCBudWxsLCB0eXBlLCBleHRlbmRlZFR5cGUsIHdyaXRlUHJvcGVydHksIHdyaXRlVG9rZW4sIC0xKVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0d3JpdGVUb2tlbihQUk9QRVJUWV9DT0RFLCBwcm9wZXJ0eUluZGV4KVxyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eSA9IHdyaXRlUHJvcGVydHkobnVsbCwgdHlwZSwgZXh0ZW5kZWRUeXBlKVxyXG5cdFx0XHRcdFx0XHRhcnJheVByb3BlcnR5W3Byb3BlcnR5SW5kZXhdID0gcHJvcGVydHlcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHByb3BlcnR5VXNlZClcclxuXHRcdFx0XHRcdHByb3BlcnR5VXNlZChwcm9wZXJ0eSwgYXJyYXksIHNlcmlhbGl6ZXJJZCwgaSlcclxuXHRcdFx0XHR2YXIgY29kZSA9IHByb3BlcnR5LmNvZGVcclxuXHRcdFx0XHRpZiAoY29kZSA+IDcpIHtcclxuXHRcdFx0XHRcdGlmIChjb2RlID09PSA4KVxyXG5cdFx0XHRcdFx0XHR3cml0ZUFzUmVmZXJlbmNpbmcodmFsdWUpXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHdyaXRlQXNOdW1iZXIodmFsdWUpXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGlmIChjb2RlID09PSA2KSBcclxuXHRcdFx0XHRcdFx0d3JpdGVBc0RlZmF1bHQodmFsdWUpXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHdyaXRlQXNBcnJheSh2YWx1ZSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKG5lZWRzQ2xvc2luZykge1xyXG5cdFx0XHRcdHdyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgRU5EX1NFUVVFTkNFKSAvLyBlbmQgc2VxdWVuY2VcclxuXHRcdFx0fVxyXG5cdFx0XHRwcm9wZXJ0eSA9IGFycmF5UHJvcGVydHkgLy8gcmVzdG9yZSBjdXJyZW50IHByb3BlcnR5XHJcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBhcnJheSA9PSAnb2JqZWN0JyAmJiBhcnJheVtpdGVyYXRvclN5bWJvbF0pIHtcclxuXHRcdFx0cmV0dXJuIHdyaXRlQXNJdGVyYWJsZShhcnJheSlcclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0cmV0dXJuIHdyaXRlSW5saW5lU3RyaW5nKHZhbHVlKVxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiAodmFsdWUgPj4+IDAgPT09IHZhbHVlIHx8ICh2YWx1ZSA+IDAgJiYgdmFsdWUgPCAweDQwMDAwMDAwMDAwMCAmJiB2YWx1ZSAlIDEgPT09IDApKSkge1xyXG5cdFx0XHRyZXR1cm4gd3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgdmFsdWUpXHJcblx0XHR9IGVsc2UgeyAvLyBiYWlsIHRvIGRlZmF1bHQgbW9kZSBiZWhhdmlvclxyXG5cdFx0XHR3cml0ZVR5cGVkVmFsdWUoYXJyYXkpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2YXIgYmxvY2tQcm9wZXJ0eVxyXG5cclxuXHRmdW5jdGlvbiB3cml0ZUJsb2NrUmVmZXJlbmNlKGJsb2NrLCB3cml0ZXIpIHtcclxuXHRcdHdyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgREVGRVJSRURfUkVGRVJFTkNFKVxyXG5cdFx0dmFyIGJsb2NrUHJvcGVydHkgPSBwcm9wZXJ0eVxyXG5cdFx0dmFyIGxhenlQcm9taXNlID0gYmxvY2tbdGFyZ2V0U3ltYm9sXSA/IHtcclxuXHRcdFx0dGhlbjogdGhlblxyXG5cdFx0fSA6IHtcclxuXHRcdFx0dGhlbjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuXHRcdFx0XHRyZXR1cm4gYmxvY2sudGhlbihmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0YmxvY2sgPSB2YWx1ZVxyXG5cdFx0XHRcdFx0dGhlbihjYWxsYmFjaylcclxuXHRcdFx0XHR9LCBmdW5jdGlvbihlcnJvcikge1xyXG5cdFx0XHRcdFx0YmxvY2sgPSBPYmplY3QuYXNzaWduKG5ldyAoKHR5cGVvZiBlcnJvciA9PSAnb2JqZWN0JyAmJiBlcnJvcikgPyBlcnJvci5jb25zdHJ1Y3RvciA6IEVycm9yKSgpLCB7XHJcblx0XHRcdFx0XHRcdG5hbWU6IGVycm9yICYmIGVycm9yLm5hbWUsIC8vIG1ha2UgdGhlc2UgZW51bWVyYWJsZSBzbyB0aGV5IHdpbGwgc2VyaWFsaXplXHJcblx0XHRcdFx0XHRcdG1lc3NhZ2U6IGVycm9yICYmIGVycm9yLm1lc3NhZ2UgfHwgZXJyb3JcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRpZiAoIWJsb2NrUHJvcGVydHkudXBncmFkZSkge1xyXG5cdFx0XHRcdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTUVUQURBVEFfVFlQRSlcclxuXHRcdFx0XHRcdFx0d3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgRVJST1JfTUVUQURBVEEpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGVuKGNhbGxiYWNrKVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIHRoZW4oY2FsbGJhY2spIHtcclxuXHRcdFx0aWYgKG9wdGlvbnMuZm9yQmxvY2sgJiYgYmxvY2spIHtcclxuXHRcdFx0XHQvLyB0aGlzIGlzIHVzZWQgYnkgdGhlIHNpemVUYWJsZSBzZXJpYWxpemVyIHRvIHJlY29yZCB0aGUgc2l6ZSBvZiBlYWNoIGJsb2NrXHJcblx0XHRcdFx0b3B0aW9ucy5mb3JCbG9jayhibG9jaywgYmxvY2tQcm9wZXJ0eSlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgYnVmZmVyID0gYmxvY2sgJiYgYmxvY2tbYnVmZmVyU3ltYm9sXSAmJiBibG9ja1tidWZmZXJTeW1ib2xdKGJsb2NrUHJvcGVydHkpXHJcblx0XHRcdFx0aWYgKGJ1ZmZlcikge1xyXG5cdFx0XHRcdFx0d3JpdGVCdWZmZXIoYnVmZmVyKVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IGJsb2NrUHJvcGVydHlcclxuXHRcdFx0XHRcdHZhciBsYXN0UGVuZGluZ0VuY29kaW5ncyA9IHBlbmRpbmdFbmNvZGluZ3NcclxuXHRcdFx0XHRcdHBlbmRpbmdFbmNvZGluZ3MgPSBbXSAvLyByZWNvcmQgYW55IG5lc3RlZCBwZW5kaW5nIGVuY29kaW5nIHNlcGFyYXRlbHlcclxuXHRcdFx0XHRcdHdyaXRlQXNEZWZhdWx0KGJsb2NrLCB0cnVlKSAvLyB3cml0ZSBpdCBvdXQgYXMgdGhlIG5leHQgYmxvY2tcclxuXHRcdFx0XHRcdGxhc3RQZW5kaW5nRW5jb2RpbmdzLnVuc2hpZnQuYXBwbHkobGFzdFBlbmRpbmdFbmNvZGluZ3MsIHBlbmRpbmdFbmNvZGluZ3MpIC8vIGFuZCBzcGxpY2UgdGhlbSBpbiBmcm9udFxyXG5cdFx0XHRcdFx0cGVuZGluZ0VuY29kaW5ncyA9IGxhc3RQZW5kaW5nRW5jb2RpbmdzXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGNhbGxiYWNrKClcclxuXHRcdH1cclxuXHRcdHBlbmRpbmdFbmNvZGluZ3MucHVzaChsYXp5UHJvbWlzZSlcclxuXHR9XHJcblxyXG5cdHZhciBzZXJpYWxpemVyID0ge1xyXG5cdFx0c2VyaWFsaXplOiBmdW5jdGlvbih2YWx1ZSwgc2hhcmVkUHJvcGVydHkpIHtcclxuXHRcdFx0dmFyIGJ1ZmZlciA9IHZhbHVlICYmIHZhbHVlW2J1ZmZlclN5bWJvbF0gJiYgdmFsdWVbYnVmZmVyU3ltYm9sXShzaGFyZWRQcm9wZXJ0eSlcclxuXHJcblx0XHRcdGlmIChidWZmZXIpIHtcclxuXHRcdFx0XHRjaGFyRW5jb2Rlci53cml0ZUJ1ZmZlcihidWZmZXIpXHJcblx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHNoYXJlZFByb3BlcnR5KSB7XHJcblx0XHRcdFx0cHJvcGVydHkgPSBzaGFyZWRQcm9wZXJ0eVxyXG5cdFx0XHRcdHdyaXRlcnNbcHJvcGVydHkuY29kZV0odmFsdWUpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cHJvcGVydHkgPSBbXVxyXG5cdFx0XHRcdHByb3BlcnR5LmtleSA9IG51bGxcclxuXHRcdFx0XHR3cml0ZUFzRGVmYXVsdCh2YWx1ZSwgdHJ1ZSlcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGdldFNlcmlhbGl6ZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAocGVuZGluZ0VuY29kaW5ncy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0dmFyIHByb21pc2VzID0gW11cclxuXHRcdFx0XHR3aGlsZSAocGVuZGluZ0VuY29kaW5ncy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHR2YXIgZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0XHRcdFx0dmFyIHByb21pc2UgPSBwZW5kaW5nRW5jb2RpbmdzLnNoaWZ0KCkudGhlbihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0ZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0aWYgKCFmaW5pc2hlZCkge1xyXG5cdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHByb21pc2UpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChwcm9taXNlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBzZXJpYWxpemVyLmdldFNlcmlhbGl6ZWQoKVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5lbmNvZGluZyA9PT0gJ3V0ZjE2bGUnKSB7XHJcblx0XHRcdFx0cmV0dXJuIEJ1ZmZlci5mcm9tKGNoYXJFbmNvZGVyLmdldFNlcmlhbGl6ZWQoKSwgJ3V0ZjE2bGUnKVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBjaGFyRW5jb2Rlci5nZXRTZXJpYWxpemVkKClcclxuXHRcdH0sXHJcblx0XHRmbHVzaDogY2hhckVuY29kZXIuZmx1c2gsXHJcblx0XHRzZXRPZmZzZXQ6IGNoYXJFbmNvZGVyLnNldE9mZnNldCxcclxuXHRcdGZpbmlzaDogY2hhckVuY29kZXIuZmluaXNoLFxyXG5cdFx0cGVuZGluZ0VuY29kaW5nczogcGVuZGluZ0VuY29kaW5ncyxcclxuXHRcdGdldFdyaXRlcnM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHdyaXRlUHJvcGVydHk6IHdyaXRlUHJvcGVydHksXHJcblx0XHRcdFx0d3JpdGVUb2tlbjogd3JpdGVUb2tlbixcclxuXHRcdFx0XHR3cml0ZUFzRGVmYXVsdDogd3JpdGVBc0RlZmF1bHQsXHJcblx0XHRcdFx0d3JpdGVCdWZmZXI6IHdyaXRlQnVmZmVyXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIHNlcmlhbGl6ZXJcclxufVxyXG5mdW5jdGlvbiBzZXJpYWxpemUodmFsdWUsIG9wdGlvbnMpIHtcclxuXHR2YXIgc2VyaWFsaXplciA9IGNyZWF0ZVNlcmlhbGl6ZXIob3B0aW9ucylcclxuXHR2YXIgc2hhcmVkUHJvcGVydHkgPSBvcHRpb25zICYmIG9wdGlvbnMuc2hhcmVkXHJcblx0dmFyIGJ1ZmZlclxyXG5cdGlmIChzaGFyZWRQcm9wZXJ0eSAmJiBzaGFyZWRQcm9wZXJ0eS5zdGFydFdyaXRlKSB7XHJcblx0XHQvLyByZWNvcmQgdGhlIHN0YXJ0IG9mIGVhY2ggd3JpdGVcclxuXHRcdHNoYXJlZFByb3BlcnR5LnN0YXJ0V3JpdGUob3B0aW9ucy5hdm9pZFNoYXJlVXBkYXRlLCB2YWx1ZSlcclxuXHR9XHJcblx0c2VyaWFsaXplci5zZXJpYWxpemUodmFsdWUsIHNoYXJlZFByb3BlcnR5KVxyXG5cdGJ1ZmZlciA9IHNlcmlhbGl6ZXIuZ2V0U2VyaWFsaXplZCgpXHJcblx0aWYgKHNoYXJlZFByb3BlcnR5ICYmIHNoYXJlZFByb3BlcnR5LmVuZFdyaXRlKSB7XHJcblx0XHQvLyByZWNvcmQgdGhlIGVuZCBvZiBlYWNoIHdyaXRlXHJcblx0XHRzaGFyZWRQcm9wZXJ0eS5lbmRXcml0ZShvcHRpb25zLmF2b2lkU2hhcmVVcGRhdGUsIHZhbHVlKVxyXG5cdH1cclxuXHRpZiAoc2VyaWFsaXplci5maW5pc2gpXHJcblx0XHRzZXJpYWxpemVyLmZpbmlzaCgpXHJcblx0dmFyIHNpemVUYWJsZSA9IHZhbHVlICYmIHZhbHVlW2V4cG9ydHMuc2l6ZVRhYmxlU3ltYm9sXVxyXG5cdGlmIChzaXplVGFibGUpIHtcclxuXHRcdGJ1ZmZlci5zaXplVGFibGUgPSBzaXplVGFibGVcclxuXHR9XHJcblxyXG5cdGlmIChvcHRpb25zICYmIG9wdGlvbnMubGF6eSkge1xyXG5cdFx0cmV0dXJuIEJ1ZmZlci5jb25jYXQoW3ZhbHVlW2V4cG9ydHMuc2l6ZVRhYmxlU3ltYm9sXSwgYnVmZmVyXSlcclxuXHR9XHJcblx0cmV0dXJuIGJ1ZmZlclxyXG59XHJcbmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplXHJcbmV4cG9ydHMuY3JlYXRlU2VyaWFsaXplciA9IGNyZWF0ZVNlcmlhbGl6ZXJcclxuZnVuY3Rpb24gYnJvd3NlckNoYXJFbmNvZGVyKCkge1xyXG5cdHZhciBzZXJpYWxpemVkID0gJydcclxuXHRmdW5jdGlvbiB3cml0ZVRva2VuKHR5cGUsIG51bWJlcikge1xyXG5cdFx0dmFyIHNlcmlhbGl6ZWRUb2tlblxyXG5cdFx0aWYgKG51bWJlciA8IDB4MTApIHsgLy8gNCBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRzZXJpYWxpemVkVG9rZW4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgodHlwZSA8PCA0KSB8IG51bWJlcikgXiAweDQwKVxyXG5cdFx0fSBlbHNlIGlmIChudW1iZXIgPCAweDQwMCkgeyAvLyAxMCBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRzZXJpYWxpemVkVG9rZW4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxyXG5cdFx0XHRcdCh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gNiksXHJcblx0XHRcdFx0KG51bWJlciAmIDB4M2YpICsgMHg0MClcclxuXHRcdH0gZWxzZSBpZiAobnVtYmVyIDwgMHgxMDAwMCkgeyAvLyAxNiBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRzZXJpYWxpemVkVG9rZW4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxyXG5cdFx0XHRcdCh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gMTIpLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDYpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyICYgMHgzZikgKyAweDQwKVxyXG5cdFx0fSBlbHNlIGlmIChudW1iZXIgPCAweDQwMDAwMCkgeyAvLyAyMiBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRzZXJpYWxpemVkVG9rZW4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxyXG5cdFx0XHRcdCh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gMTgpLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4MTAwMDAwMDApIHsgLy8gMjggYml0cyBvZiBudW1iZXJcclxuXHRcdFx0c2VyaWFsaXplZFRva2VuID0gU3RyaW5nLmZyb21DaGFyQ29kZShcclxuXHRcdFx0XHQodHlwZSA8PCA0KSArIChudW1iZXIgPj4+IDI0KSxcclxuXHRcdFx0XHQobnVtYmVyID4+PiAxOCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4MTAwMDAwMDAwKSB7IC8vIDMyIGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdHNlcmlhbGl6ZWRUb2tlbiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcblx0XHRcdFx0KHR5cGUgPDwgNCkgKyAobnVtYmVyID4+PiAzMCksXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gMjQpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiAxOCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4NDAwMDAwMDAwKSB7IC8vIDM0IGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdHNlcmlhbGl6ZWRUb2tlbiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcblx0XHRcdFx0KHR5cGUgPDwgNCkgKyAobnVtYmVyIC8gMHg0MDAwMDAwMCA+Pj4gMCksXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gMjQpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiAxOCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4MTAwMDAwMDAwMDApIHsgLy8gNDAgYml0cyBvZiBudW1iZXJcclxuXHRcdFx0c2VyaWFsaXplZFRva2VuID0gU3RyaW5nLmZyb21DaGFyQ29kZShcclxuXHRcdFx0XHQodHlwZSA8PCA0KSArIChudW1iZXIgLyAweDEwMDAwMDAwMDAgPj4+IDApLFxyXG5cdFx0XHRcdChudW1iZXIgLyAweDQwMDAwMDAwKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gMjQpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiAxOCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4NDAwMDAwMDAwMDAwKSB7IC8vIDQ2IGJpdHMgb2YgbnVtYmVyIChuZWVkZWQgZm9yIGRhdGVzISlcclxuXHRcdFx0c2VyaWFsaXplZFRva2VuID0gU3RyaW5nLmZyb21DaGFyQ29kZShcclxuXHRcdFx0XHQodHlwZSA8PCA0KSArIChudW1iZXIgLyAweDQwMDAwMDAwMDAwID4+PiAwKSxcclxuXHRcdFx0XHQobnVtYmVyIC8gMHgxMDAwMDAwMDAwKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciAvIDB4NDAwMDAwMDApICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiAyNCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDE4KSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gMTIpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiA2KSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciAmIDB4M2YpICsgMHg0MClcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignVG9vIGJpZyBvZiBudW1iZXInKVxyXG5cdFx0fVxyXG5cdFx0c2VyaWFsaXplZCArPSBzZXJpYWxpemVkVG9rZW5cclxuXHR9XHJcblx0ZnVuY3Rpb24gd3JpdGVTdHJpbmcoc3RyaW5nKSB7XHJcblx0XHRzZXJpYWxpemVkICs9IHN0cmluZ1xyXG5cdH1cclxuXHRmdW5jdGlvbiBnZXRTZXJpYWxpemVkKCkge1xyXG5cdFx0cmV0dXJuIHNlcmlhbGl6ZWRcclxuXHR9XHJcblx0cmV0dXJuIHtcclxuXHRcdHdyaXRlVG9rZW46IHdyaXRlVG9rZW4sXHJcblx0XHR3cml0ZVN0cmluZzogd3JpdGVTdHJpbmcsXHJcblx0XHQvL3dyaXRlQnVmZmVyLFxyXG5cdFx0Z2V0U2VyaWFsaXplZDogZ2V0U2VyaWFsaXplZCxcclxuXHRcdC8vaW5zZXJ0QnVmZmVyLFxyXG5cdFx0Ly9mbHVzaCxcclxuXHRcdHN0YXJ0U2VxdWVuY2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR3cml0ZVRva2VuKFNFUVVFTkNFX0NPREUsIE9QRU5fU0VRVUVOQ0UpXHJcblx0XHR9LFxyXG5cdFx0ZW5kU2VxdWVuY2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR3cml0ZVRva2VuKFNFUVVFTkNFX0NPREUsIEVORF9TRVFVRU5DRSlcclxuXHRcdH0sXHJcblx0XHRnZXRPZmZzZXQ6IGZ1bmN0aW9uKCkgey8vIHVuc3VwcG9ydGVkXHJcblx0XHRcdHJldHVybiAtMVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG52YXIgQXJyYXlGcm9tID0gQXJyYXkuZnJvbSB8fCBmdW5jdGlvbihpdGVyYWJsZSwga2V5VmFsdWUpIHtcclxuXHR2YXIgYXJyYXkgPSBbXVxyXG5cdHZhciBrZXlWYWx1ZSA9IGl0ZXJhYmxlLmNvbnN0cnVjdG9yID09PSBNYXBcclxuXHRpdGVyYWJsZS5mb3JFYWNoKGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuXHRcdGlmIChrZXlWYWx1ZSkge1xyXG5cdFx0XHRhcnJheS5wdXNoKFt2YWx1ZSwga2V5XSlcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGFycmF5LnB1c2goa2V5KVxyXG5cdFx0fVxyXG5cdH0pXHJcblx0cmV0dXJuIGFycmF5XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdyaXRlTWFwKG1hcCkge1xyXG5cdHZhciBrZXlWYWx1ZXMgPSBBcnJheUZyb20obWFwKVxyXG5cdGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlWYWx1ZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBrZXlWYWx1ZSA9IGtleVZhbHVlc1tpXVxyXG5cdFx0a2V5VmFsdWVzW2ldID0ge1xyXG5cdFx0XHRrZXk6IGtleVZhbHVlWzBdLFxyXG5cdFx0XHR2YWx1ZToga2V5VmFsdWVbMV1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIGtleVZhbHVlc1xyXG59XHJcbmZ1bmN0aW9uIHdyaXRlU2V0KHNldCkge1xyXG5cdHJldHVybiBBcnJheUZyb20oc2V0KVxyXG59XHJcbmZ1bmN0aW9uIHdyaXRlRGF0ZShkYXRlKSB7XHJcblx0cmV0dXJuIGRhdGUuZ2V0VGltZSgpXHJcbn0iLCJcInVzZSBzdHJpY3RcIlxyXG5cclxuLy8gdHlwZSBjb2RlczpcclxuLy8gdGhlc2UgYXJlIHRoZSBjb2RlcyB0aGF0IGFyZSB1c2VkIHRvIGRldGVybWluZSB0aGUgcnVkaW1lbnRhcnkgdHlwZSBvZiBudW1iZXJzXHJcbnZhciBQUk9QRVJUWV9DT0RFID0gMFxyXG52YXIgVFlQRV9DT0RFID0gM1xyXG52YXIgU1RSSU5HX0NPREUgPSAyXHJcbnZhciBOVU1CRVJfQ09ERSA9IDFcclxudmFyIFNFUVVFTkNFX0NPREUgPSA3XHJcblxyXG4vLyBjb25zdGFudCBjb2Rlc1xyXG52YXIgTlVMTCA9IDAgLy8gcFxyXG52YXIgRkFMU0UgPSAzIC8vIHNcclxudmFyIFRSVUUgPSA0IC8vIHRcclxudmFyIFVOREVGSU5FRCA9IDUgLy8gdVxyXG5cclxuLy8gdGhlc2UgYXJlIHRoZSBzdGFydGluZyBjb2RlcyAoc3RydWN0dXJlcyBhbHNvIHVzZSB0aGlzIHNwYWNlKSBmb3IgY29tcGxldGUgdHlwZXNcclxudmFyIERFRkFVTFRfVFlQRSA9IDZcclxudmFyIEFSUkFZX1RZUEUgPSA3XHJcbnZhciBSRUZFUkVOQ0lOR19UWVBFID0gOFxyXG52YXIgTlVNQkVSX1RZUEUgPSA5XHJcbnZhciBFWFRFTlNJT05TID0gMTBcclxudmFyIE1FVEFEQVRBX1RZUEUgPSAxMVxyXG52YXIgQ09QWV9QUk9QRVJUWSA9IDEyICAvLyBmb3IgZGVmaW5pbmcgYSB0eXBlZCBvYmplY3Qgd2l0aG91dCByZXR1cm5pbmcgdGhlIHZhbHVlXHJcbnZhciBSRUZFUkVOQ0lOR19QT1NJVElPTiA9IDEzXHJcbnZhciBUWVBFX0RFRklOSVRJT04gPSAxNCAgLy8gZm9yIGRlZmluaW5nIGEgdHlwZWQgb2JqZWN0IHdpdGhvdXQgcmV0dXJuaW5nIHRoZSB2YWx1ZVxyXG5cclxudmFyIEVSUk9SX01FVEFEQVRBID0gNTAwXHJcbi8vIHNlcXVlbmNlIGNvZGVzXHJcbnZhciBPUEVOX1NFUVVFTkNFID0gMTIgLy8gPFxyXG52YXIgUEFSVElBTF9ERUZFUlJFRF9SRUZFUkVOQ0UgPSAxMiAvLyA8XHJcbnZhciBFTkRfU0VRVUVOQ0UgPSAxNCAvLyA+XHJcbnZhciBERUZFUlJFRF9SRUZFUkVOQ0UgPSAxNSAvLyA/XHJcblxyXG52YXIgTUFYX0xFTkdUSCA9IDEwMjQqMTAyNCoxNlxyXG52YXIgUEFVU0VEID0ge31cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVBhcnNlcihvcHRpb25zKSB7XHJcblx0aWYgKCFvcHRpb25zKVxyXG5cdFx0b3B0aW9ucyA9IHt9XHJcblx0dmFyIG9mZnNldFxyXG5cdHZhciBzb3VyY2VcclxuXHR2YXIgaXNQYXJ0aWFsXHJcblx0dmFyIGNsYXNzQnlOYW1lID0gb3B0aW9ucy5jbGFzc0J5TmFtZSB8fCBuZXcgTWFwKClcclxuXHRjbGFzc0J5TmFtZS5zZXQoJ01hcCcsIHJlYWRNYXApXHJcblx0Y2xhc3NCeU5hbWUuc2V0KCdTZXQnLCByZWFkU2V0KVxyXG5cdGNsYXNzQnlOYW1lLnNldCgnRGF0ZScsIHJlYWREYXRlKVxyXG5cdHZhciBwYXVzZWRTdGF0ZVxyXG5cdHZhciBkZWZlcnJlZFJlYWRzXHJcblxyXG5cdGZ1bmN0aW9uIHBhdXNlKHN0YXRlLCBsYXN0UmVhZCkge1xyXG5cdFx0c3RhdGUucHJldmlvdXMgPSBwYXVzZWRTdGF0ZVxyXG5cdFx0c3RhdGUucmVzdW1lID0gdHJ1ZVxyXG5cdFx0cGF1c2VkU3RhdGUgPSBzdGF0ZVxyXG5cdFx0aWYgKCFpc1BhcnRpYWwpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBlbmQgb2YgZHBhY2sgc3RyZWFtJylcclxuXHJcblx0XHRpZiAoIXBhcnNlci5vblJlc3VtZSkgLy8gb25seSBpZiBub3QgYWxyZWFkeSBkZWZpbmVkLCBvdGhlcndpc2Ugd2UganVzdCB3YW50IHRvIHVzZSB0aGUgb25lIGZyb20gdGhlIHRvcCBvZiB0aGUgY2FsbCBzdGFja1xyXG5cdFx0XHRwYXJzZXIub25SZXN1bWUgPSBmdW5jdGlvbihuZXh0U3RyaW5nLCBpc1BhcnRpYWxTdHJpbmcsIHJlYnVpbGRTdHJpbmcpIHtcclxuXHRcdFx0XHQvLyB0b3Agb2YgdGhlIHJlc3VtZSBzdGFja1xyXG5cdFx0XHRcdHZhciByZXN1bWVTdGF0ZSA9IHBhdXNlZFN0YXRlXHJcblx0XHRcdFx0cGF1c2VkU3RhdGUgPSBudWxsXHJcblx0XHRcdFx0cGFyc2VyLm9uUmVzdW1lID0gbnVsbFxyXG5cdFx0XHRcdC8vIHdlIHNsaWNlIGFuZCBhZGQgdGhlc2UgdG9nZXRoZXIgdG8gZ2VuZXJhdGUgYW4gZW50aXJlbHkgbmV3IHN0cmluZ1xyXG5cdFx0XHRcdC8vIHNvIHdlIGRvbid0IGNhdXNlIGEgbWVtb3J5IGxlYWsgd2l0aCByZWR1bmRhbnQgc3RyaW5ncyB0aGF0IGEgcmV0YWluZWQgYSBzbGljZSBwYXJlbnRzXHJcblx0XHRcdFx0aWYgKGxhc3RSZWFkIDwgc291cmNlLmxlbmd0aClcclxuXHRcdFx0XHRcdHNvdXJjZSA9IHNvdXJjZS5zbGljZShsYXN0UmVhZCkgKyBuZXh0U3RyaW5nXHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRpZiAocmVidWlsZFN0cmluZykgLy8gaWYgd2UgaGF2ZSByZWFkIGFsbCBvZiBzb3VyY2UsIHdlIHdhbnQgdG8gc2xpY2UgYW5kIHJlLWNvbmNhdGVuYXRlIHRvIGVsaW1pbmF0ZSB0aGUgc2xpY2UgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQsIHdlIHJlYWxseSBkb24ndCB3YW50IHRoYXQgcmV0YWluZWQgaW4gbWVtb3J5XHJcblx0XHRcdFx0XHRcdHNvdXJjZSA9IG5leHRTdHJpbmcuc2xpY2UoMCwgMSkgKyBuZXh0U3RyaW5nLnNsaWNlKDEpXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHNvdXJjZSA9IG5leHRTdHJpbmdcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aXNQYXJ0aWFsID0gaXNQYXJ0aWFsU3RyaW5nXHJcblx0XHRcdFx0ZGlzcG9zZWRDaGFycyArPSBsYXN0UmVhZFxyXG5cdFx0XHRcdG9mZnNldCA9IDBcclxuXHRcdFx0XHRyZXR1cm4gcmVzdW1lU3RhdGUucmVhZGVyID8gcmVzdW1lU3RhdGUucmVhZGVyKHJlc3VtZVN0YXRlKSA6IHJlYWRTZXF1ZW5jZShyZXN1bWVTdGF0ZS5sZW5ndGgsIHJlc3VtZVN0YXRlKVxyXG5cdFx0XHR9XHJcblx0XHRyZXR1cm4gc3RhdGUub2JqZWN0XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZWFkU2VxdWVuY2UobGVuZ3RoLCB0aGlzUHJvcGVydHkpIHtcclxuXHRcdC8qIHByb3BlcnR5U3RhdGVzOlxyXG5cdFx0MCAtIHN0YXJ0aW5nIG5leHQgcHJvcGVydHkgc2xvdFxyXG5cdFx0MSAtIHByb3BlcnR5IGNyZWF0ZWQsIHN1Y2NlZWRpbmcgdmFsdWUgc2hvdWxkIGJlIHZhbHVlIG9mIHByb3BlcnR5XHJcblx0XHQyIC0gcHJvcGVydHkgY3JlYXRpb24gaW4gcHJvZ3Jlc3MsIG5leHQgdmFsdWUgc2hvdWxkIGRlZmluZSBrZXlcclxuXHRcdDExKyAtIG1vZGlmeWluZyBwcm9wZXJ0eSwgbmV4dCB2YWx1ZSBtb2RpZmllcyBwcm9wZXJ0eSAoYWRkcyBtZXRhZGF0YSwgcG9zaXRpb24sIHR5cGUsIGV0Yy4pXHJcblx0XHQqL1xyXG5cdFx0dmFyIHByb3BlcnR5U3RhdGUgPSAwXHJcblx0XHR0aGlzUHJvcGVydHkgPSB0aGlzUHJvcGVydHkgfHwgW11cclxuXHRcdHZhciBwcm9wZXJ0eSwgaXNBcnJheSwgb2JqZWN0LCB2YWx1ZSwgaSA9IDAsIHByb3BlcnR5SW5kZXggPSAwXHJcblx0XHRpZiAodGhpc1Byb3BlcnR5LnJlc3VtZSkgeyAvLyByZXN1bWluZywgdGhpc1Byb3BlcnR5IGlzIHRoZSByZXN1bWUgc3RhdGUuXHJcblx0XHRcdHByb3BlcnR5ID0gdGhpc1Byb3BlcnR5LnByZXZpb3VzXHJcblx0XHRcdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdC8vIGRvIHRoZSBwcmV2aW91cy91cHBlciBzdGFjayBmcmFtZSBmaXJzdFxyXG5cdFx0XHRcdHZhciB2YWx1ZSA9IHByb3BlcnR5LnJlYWRlciA/IHByb3BlcnR5LnJlYWRlcihwcm9wZXJ0eSkgOiByZWFkU2VxdWVuY2UocHJvcGVydHkubGVuZ3RoLCBwcm9wZXJ0eSlcclxuXHRcdFx0XHR2YXIgdmFsdWVzID0gcHJvcGVydHkudmFsdWVzXHJcblx0XHRcdFx0aWYgKHZhbHVlcykge1xyXG5cdFx0XHRcdFx0Ly8gd2UgaGF2ZSBhbiBhc3NpZ25tZW50IHRvIHJlZmVyZW5jaW5nIHZhbHVlcyB0aGF0IGlzIHdhaXRpbmcgZm9yIHBhdXNpbmcgdG8gY29tcGxldGVcclxuXHRcdFx0XHRcdGlmIChwYXVzZWRTdGF0ZSkge1xyXG5cdFx0XHRcdFx0XHQvLyBpZiBzdGlsbCBwYXVzZWQsIHBhc3Mgb24gdG8gbmV4dCBwYXVzZWRTdGF0ZVxyXG5cdFx0XHRcdFx0XHRwYXVzZWRTdGF0ZS52YWx1ZXMgPSB2YWx1ZXNcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGlmICh2YWx1ZS5uZXh0UG9zaXRpb24gPiAtMSkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIHdlIHVzZSB0aGlzIHBhdGggZm9yIGZ1bGZpbGxpbmcgZm9yd2FyZCByZWZlcmVuY2VzLCBhbmQgd2hlbiB0aGUgcG9zaXRpb24gaXMgcmVzZXRcclxuXHRcdFx0XHRcdFx0XHR2YWx1ZXNbdmFsdWVzLm5leHRQb3NpdGlvbisrXSA9IHZhbHVlXHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0dmFsdWVzLnB1c2godmFsdWUpXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXNQcm9wZXJ0eS5jb2RlICYmIHRoaXNQcm9wZXJ0eS5jb2RlICE9PSB0aGlzUHJvcGVydHkudGhpc1Byb3BlcnR5LmNvZGUpIHtcclxuXHRcdFx0XHR0aGlzUHJvcGVydHkucmVzdW1lID0gZmFsc2UgLy8gaWYgdGhlIHJlc3VtZSBwcm9wZXJ0eSBoYXMgYmVlbiByZWFzc2lnbmVkIHRvIGFuIGluY29tcGF0aWJsZSB0eXBlLCBjYW4ndCBzd2l0Y2hcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRpID0gdGhpc1Byb3BlcnR5LmkgfHwgMFxyXG5cdFx0XHRcdG9iamVjdCA9IHRoaXNQcm9wZXJ0eS5vYmplY3RcclxuXHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gdGhpc1Byb3BlcnR5LnByb3BlcnR5U3RhdGUgfHwgMFxyXG5cdFx0XHRcdHByb3BlcnR5SW5kZXggPSB0aGlzUHJvcGVydHkucHJvcGVydHlJbmRleCB8fCAwXHJcblx0XHRcdFx0dGhpc1Byb3BlcnR5ID0gdGhpc1Byb3BlcnR5LnRoaXNQcm9wZXJ0eVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpc0FycmF5ID0gdGhpc1Byb3BlcnR5LmNvZGUgPT09IEFSUkFZX1RZUEUvKkFSUkFZX1RZUEUqL1xyXG5cdFx0b2JqZWN0ID0gb2JqZWN0IHx8ICh0aGlzUHJvcGVydHkuY29uc3RydWN0cyA/IG5ldyB0aGlzUHJvcGVydHkuY29uc3RydWN0cygpIDogaXNBcnJheSA/IFtdIDoge30pIC8vIFRPRE86IHdlIGNvdWxkIHByb2JhYmx5IGNvbnN0cnVjdCBhIG5ldyByZWFkZXIgdGhhdCBkb2VzIHRoaXMgYSBsaXR0bGUgZmFzdGVyXHJcblx0XHRmb3IgKDsgaSA8IGxlbmd0aDspIHtcclxuXHRcdFx0dmFyIHR5cGUsIG51bWJlclxyXG5cdFx0XHR2YXIgbGFzdFJlYWQgPSBvZmZzZXRcclxuXHRcdFx0dmFyIHRva2VuID0gc291cmNlLmNoYXJDb2RlQXQob2Zmc2V0KyspXHJcblx0XHRcdGlmICh0b2tlbiA+PSAweDMwKSB7IC8vIGZhc3QgcGF0aCBmb3Igb25lIGJ5dGUgd2l0aCBzdG9wIGJpdFxyXG5cdFx0XHRcdGlmICh0b2tlbiA+IDB4MzAwMCkgeyAvLyBsb25nLXRva2VuIGhhbmRsaW5nXHJcblx0XHRcdFx0XHR0eXBlID0gKHRva2VuID4+PiAxMikgXiA0XHJcblx0XHRcdFx0XHRudW1iZXIgPSB0b2tlbiAmIDB4ZmZmXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHR5cGUgPSAodG9rZW4gPj4+IDQpIF4gNFxyXG5cdFx0XHRcdFx0bnVtYmVyID0gdG9rZW4gJiAweGZcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dHlwZSA9ICh0b2tlbiA+Pj4gNCkgJiAxMSAvLyBzaGlmdCBhbmQgb21pdCB0aGUgc3RvcCBiaXQgKGJpdCAzKVxyXG5cdFx0XHRcdG51bWJlciA9IHRva2VuICYgMHhmXHJcblx0XHRcdFx0dG9rZW4gPSBzb3VyY2UuY2hhckNvZGVBdChvZmZzZXQrKylcclxuXHRcdFx0XHRudW1iZXIgPSAobnVtYmVyIDw8IDYpICsgKHRva2VuICYgMHgzZikgLy8gMTAgYml0IG51bWJlclxyXG5cdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHR0b2tlbiA9IHNvdXJjZS5jaGFyQ29kZUF0KG9mZnNldCsrKVxyXG5cdFx0XHRcdFx0bnVtYmVyID0gKG51bWJlciA8PCA2KSArICh0b2tlbiAmIDB4M2YpIC8vIDE2IGJpdCBudW1iZXJcclxuXHRcdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHRcdHRva2VuID0gc291cmNlLmNoYXJDb2RlQXQob2Zmc2V0KyspXHJcblx0XHRcdFx0XHRcdG51bWJlciA9IChudW1iZXIgPDwgNikgKyAodG9rZW4gJiAweDNmKSAvLyAyMiBiaXQgbnVtYmVyXHJcblx0XHRcdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHRcdFx0dG9rZW4gPSBzb3VyY2UuY2hhckNvZGVBdChvZmZzZXQrKylcclxuXHRcdFx0XHRcdFx0XHRudW1iZXIgPSAobnVtYmVyIDw8IDYpICsgKHRva2VuICYgMHgzZikgLy8gMjggYml0IG51bWJlclxyXG5cdFx0XHRcdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0b2tlbiA9IHNvdXJjZS5jaGFyQ29kZUF0KG9mZnNldCsrKVxyXG5cdFx0XHRcdFx0XHRcdFx0bnVtYmVyID0gKG51bWJlciAqIDB4NDApICsgKHRva2VuICYgMHgzZikgLy8gMzQgYml0IG51bWJlciAod2UgY2FuJ3QgdXNlIDMyLWJpdCBzaGlmdGluZyBvcGVyYXRvcnMgYW55bW9yZSlcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRva2VuID0gc291cmNlLmNoYXJDb2RlQXQob2Zmc2V0KyspXHJcblx0XHRcdFx0XHRcdFx0XHRcdG51bWJlciA9IChudW1iZXIgKiAweDQwKSArICh0b2tlbiAmIDB4M2YpIC8vIDQwIGJpdCBudW1iZXJcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEodG9rZW4gPj0gMHg0MCkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0b2tlbiA9IHNvdXJjZS5jaGFyQ29kZUF0KG9mZnNldCsrKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG51bWJlciA9IChudW1iZXIgKiAweDQwKSArICh0b2tlbiAmIDB4M2YpIC8vIDQ2IGJpdCBudW1iZXIsIHdlIGRvbid0IGdvIGJleW9uZCB0aGlzXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEodG9rZW4gPj0gMCkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChvZmZzZXQgPiBzb3VyY2UubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBwYXVzZSh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGVuZ3RoOiBsZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpc1Byb3BlcnR5OiB0aGlzUHJvcGVydHksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aTogaSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvYmplY3Q6IG9iamVjdCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4OiBwcm9wZXJ0eUluZGV4LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHByb3BlcnR5U3RhdGU6IHByb3BlcnR5U3RhdGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGxhc3RSZWFkKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodHlwZSA9PT0gMCkgeyAvKlBST1BFUlRZX0NPREUqL1xyXG5cdFx0XHRcdHByb3BlcnR5SW5kZXggPSBudW1iZXJcclxuXHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gMFxyXG5cdFx0XHRcdGNvbnRpbnVlXHJcblx0XHRcdH1cclxuXHRcdFx0cHJvcGVydHkgPSB0aGlzUHJvcGVydHlbcHJvcGVydHlJbmRleF1cclxuXHRcdFx0aWYgKHR5cGUgPT09IDMpIHsgLypUWVBFX0NPREUqL1xyXG5cdFx0XHRcdC8vIHdlIHN0b3JlIHRoZSBwcmV2aW91cyBwcm9wZXJ0eSBzdGF0ZSBpbiB0b2tlbiwgc28gd2UgY2FuIGFzc2lnbiB0aGUgbmV4dCBvbmVcclxuXHRcdFx0XHRpZiAobnVtYmVyIDwgNikge1xyXG5cdFx0XHRcdFx0Ly8gc3BlY2lhbCB2YWx1ZXMgKGNvbnN0YW50cywgZGVmZXJyZWRzKVxyXG5cdFx0XHRcdFx0aWYgKG51bWJlciA8IDMpIHtcclxuXHRcdFx0XHRcdFx0aWYgKG51bWJlciA9PT0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gbnVsbFxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gJ1Vua25vd24gdG9rZW4sIHR5cGU6ICcgKyB0eXBlICsgJyBudW1iZXI6ICcgKyBudW1iZXJcclxuXHRcdFx0XHRcdFx0fSBcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGlmIChudW1iZXIgPT09IFRSVUUpIHtcclxuXHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHRydWVcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChudW1iZXIgPT09IEZBTFNFKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYgKG51bWJlciA8PSBOVU1CRVJfVFlQRSkge1xyXG5cdFx0XHRcdFx0XHQvLyBwcm9wZXJ0eSBkZWZpbml0aW9uXHJcblx0XHRcdFx0XHRcdGlmIChwcm9wZXJ0eVN0YXRlID09PSAxKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gd2Ugd2VyZSBpbiBwcm9wZXJ0eSB2YWx1ZSBwb3NpdGlvbiwgYnV0IG5vIHZhbHVlLCBzbyB3ZSBpbmNyZW1lbnQgcG9zaXRpb24gaGVyZVxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5SW5kZXgrK1xyXG5cdFx0XHRcdFx0XHRcdGkrK1xyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5ID0gdGhpc1Byb3BlcnR5W3Byb3BlcnR5SW5kZXhdXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKHByb3BlcnR5SW5kZXggPCB0aGlzUHJvcGVydHkucmVzZXRUbykge1xyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignT3ZlcndyaXRpbmcgZnJvemVuIHByb3BlcnR5JylcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAocHJvcGVydHkpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXByb3BlcnR5LnJlc3VtZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBwcm9wZXJ0eS5rZXkgLy8gaW5oZXJpdCB0aGUgZXhpc3Rpbmcga2V5XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eSA9IHRoaXNQcm9wZXJ0eVtwcm9wZXJ0eUluZGV4XSA9IFtdXHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5rZXkgPSB2YWx1ZVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSBlbHNlIHsgLy8gbm8gcHJvcGVydHkgZXhpc3RlZCBpbiBzbG90LCBzdGFydCB3aXRoIGRlZmF1bHQga2V5IG9mIG51bGxcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eSA9IHRoaXNQcm9wZXJ0eVtwcm9wZXJ0eUluZGV4XSA9IFtdXHJcblx0XHRcdFx0XHRcdFx0cHJvcGVydHkua2V5ID0gbnVsbFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHByb3BlcnR5LmNvZGUgPSBudW1iZXJcclxuXHRcdFx0XHRcdFx0cHJvcGVydHkucGFyZW50ID0gdGhpc1Byb3BlcnR5XHJcblx0XHRcdFx0XHRcdC8vcHJvcGVydHkua2V5ID0gbnVsbFxyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gMiAvLyByZWFkIG5leHQgdmFsdWUgYXMgdGhlIGtleVxyXG5cdFx0XHRcdFx0XHRpZiAobnVtYmVyID09PSBSRUZFUkVOQ0lOR19UWVBFLypSRUZFUkVOQ0lOR19UWVBFKi8pIHtcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS52YWx1ZXMgPSBbXVxyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKG51bWJlciA9PT0gQVJSQVlfVFlQRSkge1xyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5WzBdID0gW11cclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eVswXS5rZXkgPSBudWxsXHJcblx0XHRcdFx0XHRcdFx0cHJvcGVydHlbMF0uY29kZSA9IERFRkFVTFRfVFlQRVxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5WzBdLnBhcmVudCA9IHByb3BlcnR5XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdC8vIHByb3BlcnR5IG1vZGlmaWNhdGlvblxyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gbnVtYmVyXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjb250aW51ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAodHlwZSA9PT0gMiAvKlNUUklOR19DT0RFKi8pIHtcclxuXHRcdFx0XHRcdHZhbHVlID0gc291cmNlLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICs9IG51bWJlcilcclxuXHRcdFx0XHRcdGlmIChvZmZzZXQgPiBzb3VyY2UubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBwYXVzZSh7XHJcblx0XHRcdFx0XHRcdFx0bGVuZ3RoOiBsZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0dGhpc1Byb3BlcnR5OiB0aGlzUHJvcGVydHksXHJcblx0XHRcdFx0XHRcdFx0aTogaSxcclxuXHRcdFx0XHRcdFx0XHRvYmplY3Q6IG9iamVjdCxcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4OiBwcm9wZXJ0eUluZGV4LFxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5U3RhdGU6IHByb3BlcnR5U3RhdGVcclxuXHRcdFx0XHRcdFx0fSwgbGFzdFJlYWQpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAocHJvcGVydHlTdGF0ZSA8IDIpIHtcclxuXHRcdFx0XHRcdFx0aWYgKHByb3BlcnR5LmNvZGUgPT09IE5VTUJFUl9UWVBFLypOVU1CRVJfVFlQRSovKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSArdmFsdWVcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gMSkgeyAvKk5VTUJFUl9DT0RFKi9cclxuXHRcdFx0XHRcdHZhbHVlID0gbnVtYmVyXHJcblx0XHRcdFx0fSBlbHNlIHsgLyppZiB0eXBlID09IDcgU0VRVUVOQ0VfQ09ERSovXHJcblx0XHRcdFx0XHRpZiAobnVtYmVyID4gMTMpIHtcclxuXHRcdFx0XHRcdFx0aWYgKG51bWJlciA9PT0gRU5EX1NFUVVFTkNFKVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBvYmplY3RcclxuXHRcdFx0XHRcdFx0ZWxzZSBpZiAobnVtYmVyID09PSBERUZFUlJFRF9SRUZFUkVOQ0UpIHtcclxuXHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHJlYWRTZXF1ZW5jZSgwLCBwcm9wZXJ0eSlcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gMFxyXG5cdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLmZvckRlZmVycmVkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG9wdGlvbnMuZm9yRGVmZXJyZWQodmFsdWUsIHByb3BlcnR5KVxyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHQoZGVmZXJyZWRSZWFkcyB8fCAoZGVmZXJyZWRSZWFkcyA9IFtdKSkucHVzaCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHByb3BlcnR5OiBwcm9wZXJ0eSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlXHJcblx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0aWYgKG51bWJlciA+PSBPUEVOX1NFUVVFTkNFKSB7XHJcblx0XHRcdFx0XHRcdFx0bnVtYmVyID0gMjAwMDAwMDAwMFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmIChwcm9wZXJ0eVN0YXRlID4gMSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChwcm9wZXJ0eVN0YXRlID09PSAyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gMCAvLyBpZiB0aGUgcHJvcGVydHkga2V5IHdhcyBza2lwcGVkLCBnbyBkaXJlY3RseSBpbnRvIHZhbHVlIG1vZGVcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gcmVhZFNlcXVlbmNlKG51bWJlciwgcHJvcGVydHkpXHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmIChwcm9wZXJ0eVN0YXRlID09PSBNRVRBREFUQV9UWVBFKVxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSByZWFkU2VxdWVuY2UobnVtYmVyLCBbeyBrZXk6IG51bGwsIGNvZGU6IDYgfV0pXHJcblx0XHRcdFx0XHRcdFx0ZWxzZSBpZiAocHJvcGVydHkucmVzdW1lICYmIChwcm9wZXJ0eS5jb2RlIHx8IERFRkFVTFRfVFlQRSkgPT09IHByb3BlcnR5LnRoaXNQcm9wZXJ0eS5jb2RlKVxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSByZWFkU2VxdWVuY2UobnVtYmVyLCBwcm9wZXJ0eS50aGlzUHJvcGVydHkpXHJcblx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSByZWFkU2VxdWVuY2UobnVtYmVyLCBwcm9wZXJ0eSlcclxuXHRcdFx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSByZWFkU2VxdWVuY2UobnVtYmVyLCBwcm9wZXJ0eSlcclxuXHRcdFx0XHRcdFx0aWYgKHBhdXNlZFN0YXRlKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsgLy8gb3IgYSBQQVVTRUQgb2JqZWN0XHJcblx0XHRcdFx0XHRcdFx0XHRwYXVzZWRTdGF0ZSA9IG51bGwgLy8gZXJhc2UgYW55dGhpbmcgZnVydGhlciB1cCBpbiB0aGUgc3RhY2ssIGFzIHRoaXMgbWVhbnMgdGhlIHNlcXVlbmNlIGNvdWxkbid0IHN0YXJ0LCBzbyB3ZSBuZWVkIHRvIHJlLXBhcnNlIGZyb20gaGVyZVxyXG5cdFx0XHRcdFx0XHRcdFx0cGFyc2VyLm9uUmVzdW1lID0gbnVsbFxyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHBhdXNlKHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bGVuZ3RoOiBsZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXNQcm9wZXJ0eTogdGhpc1Byb3BlcnR5LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpOiBpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRvYmplY3Q6IG9iamVjdCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0cHJvcGVydHk6IHByb3BlcnR5LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4OiBwcm9wZXJ0eUluZGV4LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRwcmV2aW91c1Byb3BlcnR5OiBwcmV2aW91c1Byb3BlcnR5LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlOiBwcm9wZXJ0eVN0YXRlLFxyXG5cdFx0XHRcdFx0XHRcdFx0fSwgbGFzdFJlYWQpXHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIG5lZWQgdG8gYXNzaWduIHRoZSB2YWx1ZXMgKmFmdGVyKiB0aGUgY29tcGxldGlvbiBvZiB0aGUgc2VxdWVuY2UgaWYgaXQgaXMgYSBmb3J3YXJkIHJlZmVyZW5jZVxyXG5cdFx0XHRcdFx0XHRcdFx0cGF1c2VkU3RhdGUudmFsdWVzID0gcHJvcGVydHkudmFsdWVzIGluc3RhbmNlb2YgQXJyYXkgPyBwcm9wZXJ0eS52YWx1ZXMgOiB1bmRlZmluZWRcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0vKmVsc2UgaWYgKHZhbHVlcykge1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR9Ki9cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignTm8gcHJvcGVydHkgZGVmaW5lZCBmb3Igc2xvdCcgKyAodGhpc1Byb3BlcnR5LmtleSA/ICcgaW4gJyArIHRoaXNQcm9wZXJ0eS5rZXkgOiAnJykpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHByb3BlcnR5U3RhdGUgPCAyICYmIHByb3BlcnR5ICYmIHByb3BlcnR5LmNvZGUgPT09IFJFRkVSRU5DSU5HX1RZUEUvKlJFRkVSRU5DSU5HX1RZUEUqLykge1xyXG5cdFx0XHRcdHZhciB2YWx1ZXMgPSBwcm9wZXJ0eS52YWx1ZXNcclxuXHRcdFx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZXNbbnVtYmVyXVxyXG5cdFx0XHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgISgobnVtYmVyKSBpbiB2YWx1ZXMpKSB7XHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignUmVmZXJlbmNpbmcgdmFsdWUgdGhhdCBoYXMgbm90IGJlZW4gcmVhZCB5ZXQnKVxyXG5cdFx0XHRcdFx0fVx0XHRcdFx0XHRcclxuXHRcdFx0XHR9IGVsc2UgaWYgKCh0eXBlID09PSAyIHx8IHR5cGUgPT09IDcpICYmIHZhbHVlcykgeyAvLyBvbmx5IHN0cmluZ3MgYW5kIHNlcXVlbmNlc1xyXG5cdFx0XHRcdFx0aWYgKHZhbHVlcy5uZXh0UG9zaXRpb24gPiAtMSkge1xyXG5cdFx0XHRcdFx0XHQvLyB3ZSB1c2UgdGhpcyBwYXRoIGZvciBmdWxmaWxsaW5nIGZvcndhcmQgcmVmZXJlbmNlc1xyXG5cdFx0XHRcdFx0XHRpZiAocHJvcGVydHkucmVjb3JkVmFsdWVSZWZlcmVuY2UpIHtcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5yZWNvcmRWYWx1ZVJlZmVyZW5jZSh2YWx1ZXMpXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0dmFsdWVzW3ZhbHVlcy5uZXh0UG9zaXRpb24rK10gPSB2YWx1ZVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0dmFsdWVzLnB1c2godmFsdWUpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAocHJvcGVydHlTdGF0ZSA+IDEpIHtcclxuXHRcdFx0XHQvLyAwLCAxOiB2YWx1ZXMgYXJlIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHlcclxuXHRcdFx0XHRpZiAocHJvcGVydHlTdGF0ZSA9PT0gMikgeyAvLyBwcm9wZXJ0eSBrZXlcclxuXHRcdFx0XHRcdHByb3BlcnR5LmtleSA9IHZhbHVlXHJcblx0XHRcdFx0fSBlbHNlIGlmIChwcm9wZXJ0eVN0YXRlID09PSBNRVRBREFUQV9UWVBFKSB7IC8vIDM6IG1ldGFkYXRhIHBhcmFtYXRlclxyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGV4dGVuZGVkVHlwZSA9IGNsYXNzQnlOYW1lLmdldCh2YWx1ZSlcclxuXHRcdFx0XHRcdFx0aWYgKGV4dGVuZGVkVHlwZSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChleHRlbmRlZFR5cGUuZnJvbVZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5mcm9tVmFsdWUgPSBleHRlbmRlZFR5cGUuZnJvbVZhbHVlXHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdHByb3BlcnR5LmNvbnN0cnVjdHMgPSBleHRlbmRlZFR5cGVcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvck9uVW5rbm93bkNsYXNzKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0IHRvIGRlc2VyaWFsaXplIHRvIHVua25vd24gY2xhc3MgJyArIHBhcmFtZXRlcilcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBpZiBubyB3YXJuaW5nLCBqdXN0IHBhcnNlIGFzIGEgcGxhaW4gdmFsdWUvb2JqZWN0XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0cHJvcGVydHkuZXh0ZW5kZWRUeXBlID0gZXh0ZW5kZWRUeXBlIC8vIGlmIHRoaXMgZ2V0cyB1c2VkIGZvciBzZXJpYWxpemF0aW9uLCB0aGlzIGlzIG5lZWRlZFxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Ly8gZXh0ZW5kZWQgbWV0YWRhdGEgYXNzaWdubWVudCAodXNlZCBieSBzaGFyZWQgc3RydWN0dXJlcyB0byBtYXJrIG9iamVjdHMgYXMgdW5zdHJ1Y3R1cmVkKVxyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eS5tZXRhZGF0YSA9IHZhbHVlXHJcblx0XHRcdFx0XHRcdGlmICh2YWx1ZSA9PT0gRVJST1JfTUVUQURBVEEpXHJcblx0XHRcdFx0XHRcdFx0cHJvcGVydHkuZnJvbVZhbHVlID0gb25FcnJvclxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAocHJvcGVydHlTdGF0ZSA9PT0gUkVGRVJFTkNJTkdfUE9TSVRJT04pIHtcclxuXHRcdFx0XHRcdHZhciB2YWx1ZXMgPSBwcm9wZXJ0eS52YWx1ZXMgfHwgKHByb3BlcnR5LnZhbHVlcyA9IFtdKVxyXG5cdFx0XHRcdFx0Ly92YWx1ZXMuc3BsaWNlKHZhbHVlLCB2YWx1ZXMubGVuZ3RoKVxyXG5cdFx0XHRcdFx0dmFsdWVzLm5leHRQb3NpdGlvbiA9IHZhbHVlXHJcblx0XHRcdFx0fSBlbHNlIGlmIChwcm9wZXJ0eVN0YXRlID09PSBUWVBFX0RFRklOSVRJT04pIHsgLy8gZm9yIHR5cGUtb25seSBzdGF0ZVxyXG5cdFx0XHRcdFx0Ly8gdGhyb3cgYXdheSB0aGlzIHZhbHVlIGFuZCByZWFkIG5leHQgdmFsdWUgYXMgdGhlIHJlYWwgdmFsdWVcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHByb3BlcnR5IHR5cGUgJyArIHByb3BlcnR5U3RhdGUpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHByb3BlcnR5U3RhdGUgPSAxIC8vIHByb3BlcnR5IHZhbHVlIGFmdGVyIGRlZmluaXRpb24gcG9zaXRpb25cclxuXHRcdFx0XHRjb250aW51ZSAvLyByZWFkIG5leHQgdmFsdWUgYXMgdGhlIHByb3BlcnR5IHZhbHVlXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cHJvcGVydHlTdGF0ZSA9IDBcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAocHJvcGVydHkuZnJvbVZhbHVlKSB7XHJcblx0XHRcdFx0dmFsdWUgPSBwcm9wZXJ0eS5mcm9tVmFsdWUodmFsdWUpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGlzQXJyYXkgJiYgcHJvcGVydHkua2V5ID09PSBudWxsKSB7XHJcblx0XHRcdFx0b2JqZWN0LnB1c2godmFsdWUpXHJcblx0XHRcdH0gZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdG9iamVjdFtwcm9wZXJ0eS5rZXldID0gdmFsdWVcclxuXHRcdFx0fVxyXG5cdFx0XHRpKytcclxuXHRcdFx0aWYgKCFpc0FycmF5KVxyXG5cdFx0XHRcdHByb3BlcnR5SW5kZXgrK1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG9iamVjdFxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gdW5rbm93blR5cGUobnVtYmVyKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdHlwZSAnICsgbnVtYmVyKVxyXG5cdH1cclxuXHR2YXIgbm9uUGFyc2luZ0Vycm9yXHJcblx0ZnVuY3Rpb24gb25FcnJvcihlcnJvcikge1xyXG5cdFx0dmFyIGcgPSB0eXBlb2YgZ2xvYmFsICE9ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93XHJcblx0XHRpZiAoZXJyb3IgJiYgZXJyb3IubmFtZSAmJiBnW2Vycm9yLm5hbWVdKVxyXG5cdFx0XHRlcnJvciA9IG5ldyBnW2Vycm9yLm5hbWVdKGVycm9yLm1lc3NhZ2UpXHJcblx0XHRlbHNlIGlmICh0eXBlb2YgZXJyb3IgPT0gJ3N0cmluZycpXHJcblx0XHRcdGVycm9yID0gbmV3IEVycm9yKGVycm9yKVxyXG5cdFx0aWYgKG9wdGlvbnMub25FcnJvcilcclxuXHRcdFx0b3B0aW9ucy5vbkVycm9yKGVycm9yKVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdG5vblBhcnNpbmdFcnJvciA9IHRydWVcclxuXHRcdFx0dGhyb3cgZXJyb3JcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBkaXNwb3NlZENoYXJzID0gMFxyXG5cdGZ1bmN0aW9uIHJlYWQocHJvcGVydHkpIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGlmIChwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5yZXN1bWUpIHtcclxuXHRcdFx0XHR2YXIgcHJldmlvdXMgPSBwcm9wZXJ0eS5wcmV2aW91c1xyXG5cdFx0XHRcdHZhbHVlID0gcmVhZFNlcXVlbmNlKHByZXZpb3VzLmxlbmd0aCwgcHJldmlvdXMpXHJcblx0XHRcdFx0Ly8gb25jZSB3ZSBnZXQgdGhlIHZhbHVlLCB3ZSBkb24ndCBrbm93IHdoaWNoIHBvaW50IGluIHRoZSBzdGFjayBjb3VsZCBzdGlsbCBiZSByZXNvbHZpbmdcclxuXHRcdFx0XHR2YWx1ZSA9IHByb3BlcnR5Lm9iamVjdCB8fCB2YWx1ZVxyXG5cdFx0XHRcdHByb3BlcnR5ID0gcHJvcGVydHkucHJvcGVydHlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRwcm9wZXJ0eSA9IHByb3BlcnR5IHx8IFtvcHRpb25zICYmIG9wdGlvbnMuc2hhcmVkIHx8IHtcclxuXHRcdFx0XHRcdGtleTogbnVsbCxcclxuXHRcdFx0XHRcdGNvZGU6IDZcclxuXHRcdFx0XHR9XVxyXG5cdFx0XHRcdHZhciB2YWx1ZSA9IHJlYWRTZXF1ZW5jZSgxLCBwcm9wZXJ0eSlbcHJvcGVydHlbMF0ua2V5XVxyXG5cdFx0XHR9XHJcblx0XHRcdHdoaWxlICh0cnVlKSB7XHJcblx0XHRcdFx0aWYgKHBhdXNlZFN0YXRlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcGF1c2Uoe1xyXG5cdFx0XHRcdFx0XHRyZWFkZXI6IHJlYWQsXHJcblx0XHRcdFx0XHRcdG9iamVjdDogdmFsdWUsXHJcblx0XHRcdFx0XHRcdHByb3BlcnR5OiBwcm9wZXJ0eVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCFkZWZlcnJlZFJlYWRzKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIGluZGV4ID0gZGVmZXJyZWRSZWFkcy5pbmRleCB8fCAwXHJcblx0XHRcdFx0dmFyIGRlZmVycmVkUmVhZCA9IGRlZmVycmVkUmVhZHNbaW5kZXhdXHJcblx0XHRcdFx0ZGVmZXJyZWRSZWFkcy5pbmRleCA9IGluZGV4ICsgMVxyXG5cdFx0XHRcdGlmICghZGVmZXJyZWRSZWFkKSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZFJlYWRzID0gZGVmZXJyZWRSZWFkcy5wYXJlbnRcclxuXHRcdFx0XHRcdGNvbnRpbnVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciB0YXJnZXQgPSBkZWZlcnJlZFJlYWQudmFsdWVcclxuXHRcdFx0XHR2YXIgcGFyZW50RGVmZXJyZWRSZWFkcyA9IGRlZmVycmVkUmVhZHNcclxuXHRcdFx0XHRkZWZlcnJlZFJlYWRzID0gW11cclxuXHRcdFx0XHRkZWZlcnJlZFJlYWRzLnBhcmVudCA9IHBhcmVudERlZmVycmVkUmVhZHNcclxuXHRcdFx0XHR2YXIgdGFyZ2V0UHJvcGVydHkgPSBkZWZlcnJlZFJlYWQucHJvcGVydHlcclxuXHRcdFx0XHR2YXIgcmVzdWx0ID0gcmVhZFNlcXVlbmNlKDEsIHByb3BlcnR5ID0gW3tcclxuXHRcdFx0XHRcdHJlc3VtZTogdHJ1ZSxcclxuXHRcdFx0XHRcdGtleTogbnVsbCxcclxuXHRcdFx0XHRcdHRoaXNQcm9wZXJ0eTogdGFyZ2V0UHJvcGVydHksXHJcblx0XHRcdFx0XHRvYmplY3Q6IHRhcmdldFxyXG5cdFx0XHRcdH1dKVxyXG5cdFx0XHRcdHJlc3VsdCA9IHJlc3VsdC5udWxsIHx8IHJlc3VsdFt0YXJnZXRQcm9wZXJ0eS5rZXldIC8vIEJsb2NrcyBzaG91bGQgdXNlIG51bGwgYXMgdGhlIHJvb3Qga2V5LCBidXQgY291bGQgaGF2ZSB0aGUgdGFyZ2V0IHByb3BlcnR5IGtleSBhcyB3ZWxsXHJcblx0XHRcdFx0aWYgKHJlc3VsdCAhPSB0YXJnZXQpIHsgLy8gVGhpcyBzaG91bGQgb25seSBvY2N1ciB3aXRoIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgZGlmZmVyZW50IHR5cGUsIGFuIGFycmF5XHJcblx0XHRcdFx0XHQvLyBvYmplY3Qgd2FzIHJlcGxhY2VkIHdpdGggc29tZXRoaW5nIGVsc2UgKGFuIGFycmF5LCBwcmVzdW1hYmx5KVxyXG5cdFx0XHRcdFx0T2JqZWN0LmFzc2lnbih0YXJnZXQsIHJlc3VsdClcclxuXHRcdFx0XHRcdGlmIChwYXVzZWRTdGF0ZSAmJiBwYXVzZWRTdGF0ZS5vYmplY3QgPT09IHJlc3VsdCkge1xyXG5cdFx0XHRcdFx0XHRwYXVzZWRTdGF0ZS5vYmplY3QgPSB0YXJnZXRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmIChyZXN1bHQgJiYgcmVzdWx0LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG5cdFx0XHRcdFx0XHR0YXJnZXQubGVuZ3RoID0gcmVzdWx0Lmxlbmd0aFxyXG5cdFx0XHRcdFx0XHRPYmplY3Quc2V0UHJvdG90eXBlT2YodGFyZ2V0LCBPYmplY3QuZ2V0UHJvdG90eXBlT2YocmVzdWx0KSkgLy8gZG8gb3VyIGJlc3QgdG8gbWFrZSBpdCBhcnJheSBsaWtlXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoKGVycm9yKSB7XHJcblx0XHRcdGlmICghbm9uUGFyc2luZ0Vycm9yKVxyXG5cdFx0XHRcdGVycm9yLm1lc3NhZ2UgPSAnRFBhY2sgcGFyc2luZyBlcnJvcjogJyArIGVycm9yLm1lc3NhZ2UgKyAnIGF0IHBvc2l0aW9uOiAnICsgKG9mZnNldCArIGRpc3Bvc2VkQ2hhcnMpICsgJyBuZWFyOiAnICsgc291cmNlLnNsaWNlKG9mZnNldCAtIDEwLCBvZmZzZXQgKyAxMClcclxuXHRcdFx0dGhyb3cgZXJyb3JcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBwYXJzZXIgPSB7XHJcblx0XHRzZXRTb3VyY2U6IGZ1bmN0aW9uKHN0cmluZywgc3RhcnRPZmZzZXQsIGlzUGFydGlhbFN0cmluZykge1xyXG5cdFx0XHRzb3VyY2UgPSBzdHJpbmdcclxuXHRcdFx0b2Zmc2V0ID0gc3RhcnRPZmZzZXQgfHwgMFxyXG5cdFx0XHRkaXNwb3NlZENoYXJzID0gMFxyXG5cdFx0XHRpc1BhcnRpYWwgPSBpc1BhcnRpYWxTdHJpbmdcclxuXHRcdFx0cmV0dXJuIHRoaXNcclxuXHRcdH0sXHJcblx0XHRoYXNNb3JlRGF0YTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiBzb3VyY2UubGVuZ3RoID4gb2Zmc2V0XHJcblx0XHR9LFxyXG5cdFx0aXNQYXVzZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gcGF1c2VkU3RhdGVcclxuXHRcdH0sXHJcblx0XHRoYXNVbmZ1bGZpbGxlZFJlZmVyZW5jZXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gZGVmZXJyZWRSZWFkcyAmJiBkZWZlcnJlZFJlYWRzLmxlbmd0aCA+IGRlZmVycmVkUmVhZHMuaW5kZXhcclxuXHRcdH0sXHJcblx0XHRnZXRPZmZzZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gb2Zmc2V0ICsgZGlzcG9zZWRDaGFyc1xyXG5cdFx0fSxcclxuXHRcdHJlYWQ6IHJlYWRcclxuXHR9XHJcblx0cmV0dXJuIHBhcnNlclxyXG59XHJcbmV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbihzdHJpbmdPckJ1ZmZlciwgb3B0aW9ucykge1xyXG5cdHZhciBzb3VyY2VcclxuXHRpZiAodHlwZW9mIHN0cmluZ09yQnVmZmVyID09PSAnc3RyaW5nJykge1xyXG5cdFx0c291cmNlID0gc3RyaW5nT3JCdWZmZXJcclxuXHR9IGVsc2UgaWYgKHN0cmluZ09yQnVmZmVyICYmIHN0cmluZ09yQnVmZmVyLnRvU3RyaW5nKSB7XHJcblx0XHRzb3VyY2UgPSBzdHJpbmdPckJ1ZmZlci50b1N0cmluZyhvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RpbmcgfHwgJ3V0ZjgnKVxyXG5cdH0gZWxzZSB7IC8vIHdoYXRldmVyICh1bmRlZmluZWQgb3IgbnVsbCBvciB3aGF0ZXZlciksIGp1c3QgcmV0dXJuIGl0XHJcblx0XHRyZXR1cm4gc3RyaW5nT3JCdWZmZXJcclxuXHR9XHJcblx0dmFyIHBhcnNlciA9IGNyZWF0ZVBhcnNlcihvcHRpb25zKS5zZXRTb3VyY2Uoc291cmNlKVxyXG5cdGlmIChvcHRpb25zICYmIG9wdGlvbnMuc2hhcmVkKVxyXG5cdFx0cmV0dXJuIHBhcnNlci5yZWFkKFtvcHRpb25zLnNoYXJlZF0pXHJcblx0cmV0dXJuIHBhcnNlci5yZWFkKClcclxufVxyXG5leHBvcnRzLmNyZWF0ZVBhcnNlciA9IGNyZWF0ZVBhcnNlclxyXG5cclxudmFyIHJlYWRNYXAgPSB7XHJcblx0ZnJvbVZhbHVlOiBmdW5jdGlvbihlbnRyaWVzKSB7XHJcblx0XHR2YXIgbWFwID0gbmV3IE1hcCgpXHJcblx0XHRmb3IgKHZhciBpID0gMCwgbCA9IGVudHJpZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRcdHZhciBlbnRyeSA9IGVudHJpZXNbaV1cclxuXHRcdFx0bWFwLnNldChlbnRyeS5rZXksIGVudHJ5LnZhbHVlKVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1hcFxyXG5cdH1cclxufVxyXG52YXIgcmVhZFNldCA9IHtcclxuXHRmcm9tVmFsdWU6IGZ1bmN0aW9uKHZhbHVlcykge1xyXG5cdFx0dmFyIHNldCA9IG5ldyBTZXQodmFsdWVzKVxyXG5cdFx0aWYgKHNldC5zaXplID09PSAwICYmIHZhbHVlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0XHRcdHNldC5hZGQodmFsdWVzW2ldKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc2V0XHJcblx0fVxyXG59XHJcbnZhciByZWFkRGF0ZSA9IHtcclxuXHRmcm9tVmFsdWU6IGZ1bmN0aW9uKHRpbWUpIHtcclxuXHRcdHJldHVybiBuZXcgRGF0ZSh0aW1lKVxyXG5cdH1cclxufVxyXG5cclxuIiwiXCJ1c2Ugc3RyaWN0XCJcclxudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJ3N0cmVhbScpLlRyYW5zZm9ybVxyXG52YXIgY3JlYXRlUGFyc2VyID0gcmVxdWlyZSgnLi9wYXJzZScpLmNyZWF0ZVBhcnNlclxyXG52YXIgREVGQVVMVF9PUFRJT05TID0ge29iamVjdE1vZGU6IHRydWV9XHJcblxyXG5jbGFzcyBEUGFja1BhcnNlU3RyZWFtIGV4dGVuZHMgVHJhbnNmb3JtIHtcclxuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcblx0XHRpZiAob3B0aW9ucykge1xyXG5cdFx0XHRvcHRpb25zLm9iamVjdE1vZGUgPSB0cnVlXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRvcHRpb25zID0gREVGQVVMVF9PUFRJT05TXHJcblx0XHR9XHJcblx0XHRzdXBlcihvcHRpb25zKVxyXG5cdFx0dGhpcy5wYXJzZXIgPSBjcmVhdGVQYXJzZXIob3B0aW9ucylcclxuXHRcdHRoaXMud2FpdGluZ1ZhbHVlcyA9IFtdXHJcblx0fVxyXG5cdF90cmFuc2Zvcm0oY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjaykge1xyXG5cdFx0dmFyIHZhbHVlXHJcblx0XHR0cnkge1xyXG5cdFx0XHR2YXIgc291cmNlU3RyaW5nID0gY2h1bmsudG9TdHJpbmcoKVxyXG5cdFx0XHR2YXIgcGFyc2VyID0gdGhpcy5wYXJzZXJcclxuXHRcdFx0aWYgKHBhcnNlci5vblJlc3VtZSkge1xyXG5cdFx0XHRcdHZhbHVlID0gcGFyc2VyLm9uUmVzdW1lKHNvdXJjZVN0cmluZywgdHJ1ZSlcclxuXHRcdFx0XHRpZiAoIXBhcnNlci5pc1BhdXNlZCgpKVxyXG5cdFx0XHRcdFx0dGhpcy5zZW5kVmFsdWUodmFsdWUpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cGFyc2VyLnNldFNvdXJjZShzb3VyY2VTdHJpbmcsIDAsIHRydWUpXHJcblx0XHRcdH1cclxuXHRcdFx0d2hpbGUgKHBhcnNlci5oYXNNb3JlRGF0YSgpKSB7XHJcblx0XHRcdFx0dmFsdWUgPSBwYXJzZXIucmVhZCgpXHJcblx0XHRcdFx0aWYgKHBhcnNlci5pc1BhdXNlZCgpKVxyXG5cdFx0XHRcdFx0YnJlYWtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0aGlzLnNlbmRWYWx1ZSh2YWx1ZSlcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHsgLy8gbXVzdCBjYXRjaCBlcnJvcnMgaGVyZSwgYW5kIHN0aWxsIGNhbGwgY2FsbGJhY2tcclxuXHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcilcclxuXHRcdH1cclxuXHRcdGlmIChjYWxsYmFjaykgY2FsbGJhY2soKVxyXG5cdH1cclxuXHRzZW5kVmFsdWUodmFsdWUpIHtcclxuXHRcdGlmICh0aGlzLnBhcnNlci5oYXNVbmZ1bGZpbGxlZFJlZmVyZW5jZXMoKSkge1xyXG5cdFx0XHRpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHRoaXMud2FpdGluZ1ZhbHVlcy5wdXNoKHZhbHVlKVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR3aGlsZSAodGhpcy53YWl0aW5nVmFsdWVzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHR0aGlzLnB1c2godGhpcy53YWl0aW5nVmFsdWVzLnNoaWZ0KCkpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHR0aGlzLnB1c2godmFsdWUpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydHMuY3JlYXRlUGFyc2VTdHJlYW0gPSAoKSA9PiBuZXcgRFBhY2tQYXJzZVN0cmVhbSgpXHJcbiIsInZhciBQUkVGRVJSRURfTUFYX0JVRkZFUl9TSVpFID0gMHg4MDAwXHJcbnZhciBhdmFpbGFibGVCdWZmZXJzID0gW11cclxuZnVuY3Rpb24gbm9kZUNoYXJFbmNvZGVyKG9wdGlvbnMpIHtcclxuXHR2YXIgb2Zmc2V0ID0gb3B0aW9ucy5zdGFydE9mZnNldCB8fCAwXHJcblx0dmFyIGJ1ZmZlclNpemVcclxuXHR2YXIgb3V0bGV0ID0gb3B0aW9ucy5vdXRsZXRcclxuXHR2YXIgYnVmZmVyID0gYXZhaWxhYmxlQnVmZmVycy5wb3AoKVxyXG5cdGlmIChidWZmZXIgJiYgYnVmZmVyLmxlbmd0aCA+IG9mZnNldCArIDB4ODApIHtcclxuXHRcdC8vIHJldXNlIGV4aXN0aW5nIGJ1ZmZlciBpZiB3ZSBjYW5cclxuXHRcdGJ1ZmZlclNpemUgPSBidWZmZXIubGVuZ3RoXHJcblx0fSBlbHNlIHtcclxuXHRcdGJ1ZmZlclNpemUgPSAob2Zmc2V0ID4+IDEyIDw8IDEyKSArIDB4MjAwMFxyXG5cdFx0YnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyhidWZmZXJTaXplKVxyXG5cdH1cclxuXHR2YXIgZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nXHJcblx0dmFyIHNlcXVlbmNlcyA9IFtdXHJcblx0ZnVuY3Rpb24gbWFrZVJvb20oYnl0ZXNOZWVkZWQpIHtcclxuXHRcdGlmIChvdXRsZXQpIHtcclxuXHRcdFx0b3V0bGV0LndyaXRlQnl0ZXMoYnVmZmVyLnNsaWNlKDAsIG9mZnNldCkpXHJcblx0XHRcdGlmIChidWZmZXJTaXplIDwgUFJFRkVSUkVEX01BWF9CVUZGRVJfU0laRSB8fCBieXRlc05lZWRlZCA+IFBSRUZFUlJFRF9NQVhfQlVGRkVSX1NJWkUpIHtcclxuXHRcdFx0XHRidWZmZXJTaXplID0gTWF0aC5tYXgoYnVmZmVyU2l6ZSAqIDQsIGJ5dGVzTmVlZGVkKVxyXG5cdFx0XHR9XHJcblx0XHRcdGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3coYnVmZmVyU2l6ZSlcclxuXHRcdFx0b2Zmc2V0ID0gMFxyXG5cdFx0XHRzZXF1ZW5jZXMgPSBbXSAvLyBjbGVhciBpbnNlcnRpb24gcG9pbnRzXHJcblx0XHRcdGVuY29kZXIuaGFzV3JpdHRlbiA9IHRydWVcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGJ1ZmZlclNpemUgPSBNYXRoLm1heChidWZmZXJTaXplICogNCwgYnVmZmVyU2l6ZSArIGJ5dGVzTmVlZGVkLCAweDIwMDApXHJcblx0XHRcdHZhciBvbGRCdWZmZXIgPSBidWZmZXJcclxuXHRcdFx0YnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyhidWZmZXJTaXplKVxyXG5cdFx0XHRvbGRCdWZmZXIuY29weShidWZmZXIsIDAsIDAsIG9mZnNldClcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gZmx1c2goc3BlY2lmaWVkT3V0bGV0KSB7XHJcblx0XHQoc3BlY2lmaWVkT3V0bGV0IHx8IG91dGxldCkud3JpdGVCeXRlcyhidWZmZXIuc2xpY2UoMCwgb2Zmc2V0KSlcclxuXHRcdGlmIChvZmZzZXQgKyAweDgwID4gYnVmZmVyLmxlbmd0aClcclxuXHRcdFx0YnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyhidWZmZXJTaXplID0gTWF0aC5taW4oTWF0aC5tYXgoKG9mZnNldCA+PiAxMCA8PCAxMCkgKyAweDIwMDAsIGJ1ZmZlclNpemUpLCAweDgwMDApKSAvLyBhbGxvY2F0ZSBhIG5ldyBidWZmZXIsIGRvbid0IHdhbnQgdG8gb3ZlcndyaXRlIHRoZSBieXRlcyBpbiB0aGUgb2xkIG9uZSB3aGlsZSB0aGV5IGFyZSBpbiB1c2UhXHJcblx0XHRlbHNlIHsvLyBvciBjb250aW51ZSB0byB1c2UgdGhlIHJlbWFpbmluZyBzcGFjZSBpbiB0aGlzIGJ1ZmZlciwgaWYgdGhlcmUgaXMgYSBsb3Qgb2Ygcm9vbSBsZWZ0XHJcblx0XHRcdGJ1ZmZlciA9IGJ1ZmZlci5zbGljZShvZmZzZXQpXHJcblx0XHRcdGJ1ZmZlclNpemUgPSBidWZmZXIubGVuZ3RoXHJcblx0XHR9XHJcblx0XHRvZmZzZXQgPSAwXHJcblx0XHRzZXF1ZW5jZXMgPSBbXSAvLyBjbGVhciBpbnNlcnRpb24gcG9pbnRzXHJcblx0fVxyXG5cdGZ1bmN0aW9uIHdyaXRlVG9rZW4odHlwZSwgbnVtYmVyKSB7XHJcblx0XHRpZiAobnVtYmVyIDwgMHgxMCkgeyAvLyA0IGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAoKHR5cGUgPDwgNCkgKyBudW1iZXIpIF4gMHg0MFxyXG5cdFx0fSBlbHNlIGlmIChudW1iZXIgPCAweDQwMCkgeyAvLyAxMCBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKHR5cGUgPDwgNCkgKyAobnVtYmVyID4+PiA2KVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciAmIDB4M2YpICsgMHg0MFxyXG5cdFx0fSBlbHNlIGlmIChudW1iZXIgPCAweDEwMDAwKSB7IC8vIDE2IGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAodHlwZSA8PCA0KSArIChudW1iZXIgPj4+IDEyKVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gNikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyICYgMHgzZikgKyAweDQwXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4NDAwMDAwKSB7IC8vIDIyIGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAodHlwZSA8PCA0KSArIChudW1iZXIgPj4+IDE4KVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gMTIpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gNikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyICYgMHgzZikgKyAweDQwXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4MTAwMDAwMDApIHsgLy8gMjggYml0cyBvZiBudW1iZXJcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9ICh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gMjQpXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxOCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxMikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiA2KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgJiAweDNmKSArIDB4NDBcclxuXHRcdH0gZWxzZSBpZiAobnVtYmVyIDwgMHgxMDAwMDAwMDApIHsgLy8gMzIgYml0cyBvZiBudW1iZXJcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9ICh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gMzApXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAyNCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxOCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxMikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiA2KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgJiAweDNmKSArIDB4NDBcclxuXHRcdH0gZWxzZSBpZiAobnVtYmVyIDwgMHg0MDAwMDAwMDApIHsgLy8gMzQgYml0cyBvZiBudW1iZXJcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9ICh0eXBlIDw8IDQpICsgKG51bWJlciAvIDB4NDAwMDAwMDAgPj4+IDApXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAyNCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxOCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxMikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiA2KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgJiAweDNmKSArIDB4NDBcclxuXHRcdH0gZWxzZSBpZiAobnVtYmVyIDwgMHgxMDAwMDAwMDAwMCkgeyAvLyA0MCBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKHR5cGUgPDwgNCkgKyAobnVtYmVyIC8gMHgxMDAwMDAwMDAwID4+PiAwKVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciAvIDB4NDAwMDAwMDApICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gMjQpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gMTgpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gMTIpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gNikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyICYgMHgzZikgKyAweDQwXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4NDAwMDAwMDAwMDAwKSB7IC8vIDQ2IGJpdHMgb2YgbnVtYmVyIChuZWVkZWQgZm9yIGRhdGVzISlcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9ICh0eXBlIDw8IDQpICsgKG51bWJlciAvIDB4NDAwMDAwMDAwMDAgPj4+IDApXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyIC8gMHgxMDAwMDAwMDAwKSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgLyAweDQwMDAwMDAwKSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgPj4+IDI0KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgPj4+IDE4KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgPj4+IDEyKSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgPj4+IDYpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciAmIDB4M2YpICsgMHg0MFxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG51bWJlciAnICsgbnVtYmVyKVxyXG5cdFx0fVxyXG5cdFx0aWYgKG9mZnNldCA+IGJ1ZmZlclNpemUgLSAxMCkge1xyXG5cdFx0XHRtYWtlUm9vbSgwKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gd3JpdGVCdWZmZXIoc291cmNlKSB7XHJcblx0XHR2YXIgc291cmNlTGVuZ3RoID0gc291cmNlLmxlbmd0aFxyXG5cdFx0aWYgKHNvdXJjZUxlbmd0aCArIG9mZnNldCArIDEwID4gYnVmZmVyU2l6ZSkge1xyXG5cdFx0XHRtYWtlUm9vbShzb3VyY2VMZW5ndGggKyAxMClcclxuXHRcdH1cclxuXHRcdHNvdXJjZS5jb3B5KGJ1ZmZlciwgb2Zmc2V0KVxyXG5cdFx0b2Zmc2V0ICs9IHNvdXJjZUxlbmd0aFxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gd3JpdGVTdHJpbmcoc3RyaW5nKSB7XHJcblx0XHR2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxyXG5cdFx0dmFyIG1heFN0cmluZ0xlbmd0aCA9IGxlbmd0aCAqIDMgKyAxMFxyXG5cdFx0aWYgKG9mZnNldCArIG1heFN0cmluZ0xlbmd0aCA+IGJ1ZmZlclNpemUpIHtcclxuXHRcdFx0bWFrZVJvb20obWF4U3RyaW5nTGVuZ3RoICsgMTApXHJcblx0XHR9XHJcblx0XHR2YXIgYnl0ZXNXcml0dGVuID0gZW5jb2RpbmcgPyBidWZmZXIud3JpdGUoc3RyaW5nLCBvZmZzZXQsIGJ1ZmZlci5sZW5ndGgsIGVuY29kaW5nKSA6XHJcblx0XHRcdGJ1ZmZlci51dGY4V3JpdGUoc3RyaW5nLCBvZmZzZXQsIGJ1ZmZlci5sZW5ndGgpXHJcblx0XHRvZmZzZXQgKz0gYnl0ZXNXcml0dGVuXHJcblx0fVxyXG5cdGZ1bmN0aW9uIGdldFNlcmlhbGl6ZWQoKSB7XHJcblx0XHRyZXR1cm4gYnVmZmVyLnNsaWNlKDAsIG9mZnNldClcclxuXHR9XHJcblx0ZnVuY3Rpb24gaW5zZXJ0QnVmZmVyKGhlYWRlckJ1ZmZlciwgcG9zaXRpb24pIHtcclxuXHRcdHZhciBoZWFkZXJMZW5ndGggPSBoZWFkZXJCdWZmZXIubGVuZ3RoXHJcblx0XHRpZiAob2Zmc2V0ICsgaGVhZGVyTGVuZ3RoICsgMTAgPiBidWZmZXJTaXplKSB7XHJcblx0XHRcdG1ha2VSb29tKGhlYWRlckxlbmd0aCArIDEwKVxyXG5cdFx0fVxyXG5cdFx0YnVmZmVyLmNvcHkoYnVmZmVyLCBoZWFkZXJMZW5ndGggKyBwb3NpdGlvbiwgcG9zaXRpb24sIG9mZnNldClcclxuXHRcdGhlYWRlckJ1ZmZlci5jb3B5KGJ1ZmZlciwgcG9zaXRpb24pXHJcblx0XHRvZmZzZXQgKz0gaGVhZGVyTGVuZ3RoXHJcblx0fVxyXG5cclxuXHR2YXIgZW5jb2RlciA9IHtcclxuXHRcdHdyaXRlVG9rZW4sXHJcblx0XHR3cml0ZVN0cmluZyxcclxuXHRcdHdyaXRlQnVmZmVyLFxyXG5cdFx0Z2V0U2VyaWFsaXplZCxcclxuXHRcdGluc2VydEJ1ZmZlcixcclxuXHRcdGZsdXNoLFxyXG5cdFx0c3RhcnRTZXF1ZW5jZSgpIHtcclxuXHRcdFx0dmFyIGN1cnJlbnRPZmZzZXQgPSBvZmZzZXRcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IDYwXHJcblx0XHRcdHNlcXVlbmNlcy5wdXNoKGN1cnJlbnRPZmZzZXQpXHJcblx0XHRcdGlmIChvZmZzZXQgPiBidWZmZXJTaXplIC0gMTApIHtcclxuXHRcdFx0XHRtYWtlUm9vbSgwKVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0ZW5kU2VxdWVuY2UobGVuZ3RoKSB7XHJcblx0XHRcdHZhciBzdGFydE9mZnNldCA9IHNlcXVlbmNlcy5wb3AoKVxyXG5cdFx0XHRpZiAobGVuZ3RoIDwgMTIgJiYgc3RhcnRPZmZzZXQgPiAtMSkgeyAvLyBpZiBpdCBpcyBzaG9ydCBlbm91Z2gsIGFuZCBoYXNuJ3QgYmVlbiBjbGVhcmVkLCB3ZSBjYW4gc2V0IHRoZSBiZWdpbm5pbmcgYnl0ZSBsZW5ndGhcclxuXHRcdFx0XHRidWZmZXJbc3RhcnRPZmZzZXRdID0gNDggKyBsZW5ndGhcclxuXHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0fVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gNjIgLy8gZWxzZSB3ZSBuZWVkIHRvIHB1dCBhbiBlbmQgc2VxdWVuY2UgdG9rZW4gaW5cclxuXHRcdH0sXHJcblx0XHRmaW5pc2goKSB7XHJcblx0XHRcdGlmIChidWZmZXIubGVuZ3RoIC0gb2Zmc2V0ID4gMHg5MClcclxuXHRcdFx0XHRhdmFpbGFibGVCdWZmZXJzLnB1c2goYnVmZmVyLnNsaWNlKG9mZnNldCkpXHJcblx0XHR9LFxyXG5cdFx0Z2V0T2Zmc2V0KCkge1xyXG5cdFx0XHRyZXR1cm4gb2Zmc2V0XHJcblx0XHR9LFxyXG5cdFx0c2V0T2Zmc2V0KG5ld09mZnNldCkge1xyXG5cdFx0XHRvZmZzZXQgPSBuZXdPZmZzZXRcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKGZhbHNlKSB7XHJcblx0XHRnbG9iYWwudHlwZUNvdW50ID0gW11cclxuXHRcdGVuY29kZXIud3JpdGVUb2tlbiA9IGZ1bmN0aW9uKHR5cGUsIG51bWJlcikge1xyXG5cdFx0XHR0eXBlQ291bnRbdHlwZV0gPSAodHlwZUNvdW50W3R5cGVdIHx8IDApICsgMVxyXG5cdFx0XHR3cml0ZVRva2VuKHR5cGUsIG51bWJlcilcclxuXHRcdH1cclxuXHRcdGdsb2JhbC5zdHJpbmdDb3VudCA9IG5ldyBNYXAoKVxyXG5cdFx0ZW5jb2Rlci53cml0ZVN0cmluZyA9IGZ1bmN0aW9uKHN0cmluZykge1xyXG5cdFx0XHRzdHJpbmdDb3VudC5zZXQoc3RyaW5nLCAoc3RyaW5nQ291bnQuZ2V0KHN0cmluZykgfHwgMCkgKyAxKVxyXG5cdFx0XHR3cml0ZVN0cmluZyhzdHJpbmcpXHJcblx0XHR9XHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc3RyaW5nRHVwbGljYXRpb25Db3VudCA9IDBcclxuXHRcdFx0Y29uc29sZS5sb2coJ3N0cmluZ0NvdW50JywgQXJyYXkuZnJvbShzdHJpbmdDb3VudCkuZmlsdGVyKChbc3RyaW5nLCBjb3VudF0pID0+IHtcclxuXHRcdFx0XHRpZiAoY291bnQgPiAxICYgc3RyaW5nLmxlbmd0aCA+IDMpIHtcclxuXHRcdFx0XHRcdHN0cmluZ0R1cGxpY2F0aW9uQ291bnQgKz0gKGNvdW50IC0gMSkgKiBzdHJpbmcubGVuZ3RoXHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkpXHJcblx0XHRcdGNvbnNvbGUubG9nKCdzdHJpbmdEdXBsaWNhdGlvbkNvdW50Jywgc3RyaW5nRHVwbGljYXRpb25Db3VudClcclxuXHRcdFx0Y29uc29sZS5sb2coJ3R5cGVDb3VudCcsIHR5cGVDb3VudClcclxuXHRcdH0pXHJcblx0fVxyXG5cdHJldHVybiBlbmNvZGVyXHJcbn1cclxuZXhwb3J0cy5ub2RlQ2hhckVuY29kZXIgPSBub2RlQ2hhckVuY29kZXJcclxuIiwiXCJ1c2Ugc3RyaWN0XCJcclxuZnVuY3Rpb24gT3B0aW9ucygpIHtcclxuXHR2YXIgY2xhc3NCeU5hbWUgPSB0aGlzLmNsYXNzQnlOYW1lID0gbmV3IE1hcCgpXHJcblx0dGhpcy5jb252ZXJ0ZXJCeUNvbnN0cnVjdG9yID0gbmV3IE1hcCgpXHJcblx0Ly93cml0ZXJCeUNvbnN0cnVjdG9yLnNldChNYXAsIHdyaXRlTWFwKVxyXG5cdC8vd3JpdGVyQnlDb25zdHJ1Y3Rvci5zZXQoU2V0LCB3cml0ZVNldClcclxufVxyXG5PcHRpb25zLnByb3RvdHlwZS5hZGRFeHRlbnNpb24gPSBmdW5jdGlvbihDbGFzcywgbmFtZSwgb3B0aW9ucykge1xyXG5cdGlmIChuYW1lICYmIENsYXNzLm5hbWUgIT09IG5hbWUpIHtcclxuXHRcdENsYXNzLm5hbWUgPSBuYW1lXHJcblx0fVxyXG5cdHRoaXMuY2xhc3NCeU5hbWUuc2V0KENsYXNzLm5hbWUsIChvcHRpb25zICYmIG9wdGlvbnMuZnJvbUFycmF5KSA/IG9wdGlvbnMgOiBDbGFzcylcclxuXHR0aGlzLmNvbnZlcnRlckJ5Q29uc3RydWN0b3Iuc2V0KENsYXNzLCAob3B0aW9ucyAmJiBvcHRpb25zLnRvQXJyYXkpID8gb3B0aW9ucyA6IENsYXNzKVxyXG59XHJcbmV4cG9ydHMuT3B0aW9ucyA9IE9wdGlvbnNcclxuIiwiY29uc3QgY3JlYXRlU2VyaWFsaXplciA9IHJlcXVpcmUoJy4vc2VyaWFsaXplJykuY3JlYXRlU2VyaWFsaXplclxyXG5jb25zdCBzZXJpYWxpemUgPSByZXF1aXJlKCcuL3NlcmlhbGl6ZScpLnNlcmlhbGl6ZVxyXG5jb25zdCBjcmVhdGVQYXJzZXIgPSByZXF1aXJlKCcuL3BhcnNlJykuY3JlYXRlUGFyc2VyXHJcbmNvbnN0IE9wdGlvbnMgPSByZXF1aXJlKCcuL09wdGlvbnMnKS5PcHRpb25zXHJcbmNvbnN0IFNUUklOR19DT0RFID0gMlxyXG52YXIgUFJPUEVSVFlfQ09ERSA9IDBcclxudmFyIE5VTUJFUl9DT0RFID0gMVxyXG52YXIgVFlQRV9DT0RFID0gM1xyXG52YXIgU0VRVUVOQ0VfQ09ERSA9IDdcclxuXHJcbnZhciBERUZBVUxUX1RZUEUgPSA2XHJcbnZhciBBUlJBWV9UWVBFID0gN1xyXG52YXIgUkVGRVJFTkNJTkdfVFlQRSA9IDhcclxudmFyIE5VTUJFUl9UWVBFID0gOVxyXG5cclxudmFyIE5VTEwgPSAwIC8vIHBcclxuXHJcbnZhciBNRVRBREFUQV9UWVBFID0gMTFcclxudmFyIFJFRkVSRU5DSU5HX1BPU0lUSU9OID0gMTNcclxudmFyIFRZUEVfREVGSU5JVElPTiA9IDE0IC8vIH4gIC8vIGZvciBkZWZpbmluZyBhIHR5cGVkIG9iamVjdCB3aXRob3V0IHJldHVybmluZyB0aGUgdmFsdWVcclxudmFyIFVOU1RSVUNUVVJFRF9NQVJLRVIgPSAxMVxyXG5cclxudmFyIE9QRU5fU0VRVUVOQ0UgPSAxMiAvLyA8XHJcbnZhciBFTkRfU0VRVUVOQ0UgPSAxNCAvLyA+XHJcblxyXG52YXIgQ09VTlRfVEhSRVNIT0xEID0gMlxyXG5cclxuZXhwb3J0cy5jcmVhdGVTaGFyZWRTdHJ1Y3R1cmUgPSBjcmVhdGVTaGFyZWRTdHJ1Y3R1cmVcclxuZXhwb3J0cy5yZWFkU2hhcmVkU3RydWN0dXJlID0gcmVhZFNoYXJlZFN0cnVjdHVyZVxyXG5mdW5jdGlvbiByZWFkU2hhcmVkU3RydWN0dXJlKGZyb20pIHtcclxuXHR2YXIgcGFyc2VyID0gY3JlYXRlUGFyc2VyKClcclxuXHR2YXIgc2hhcmVkUHJvcGVydHkgPSBbXVxyXG5cdHNoYXJlZFByb3BlcnR5LmNvZGUgPSA2XHJcblx0c2hhcmVkUHJvcGVydHkua2V5ID0gbnVsbFxyXG5cdC8vIGVuZCB3aXRoIHdpdGggTlVMTCAocCkgdmFsdWUgdG8gcmV0dXJuIHNvbWV0aGluZyBmcm9tIHR5cGUgZGVmaW5pdGlvblxyXG5cdHBhcnNlci5zZXRTb3VyY2UoZnJvbSArICdwJykucmVhZChbc2hhcmVkUHJvcGVydHldKVxyXG5cdHNldHVwU2hhcmVkKHNoYXJlZFByb3BlcnR5KVxyXG5cdHNoYXJlZFByb3BlcnR5LnNlcmlhbGl6ZWQgPSBmcm9tXHJcblx0cmV0dXJuIHNoYXJlZFByb3BlcnR5XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldHVwU2hhcmVkKHByb3BlcnR5KSB7XHJcblx0cHJvcGVydHkucmVzZXRUbyA9IHByb3BlcnR5Lmxlbmd0aFxyXG5cdHByb3BlcnR5LnVwZ3JhZGUgPSB1cGdyYWRlXHJcblx0cHJvcGVydHkudHlwZSA9IHR5cGVzW3Byb3BlcnR5LmNvZGVdXHJcblx0cHJvcGVydHkuaXNGcm96ZW4gPSB0cnVlXHJcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BlcnR5LCAnc2VyaWFsaXplZCcsIHtcclxuXHRcdGdldCgpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX3NlcmlhbGl6ZWQgfHwgKHRoaXMuX3NlcmlhbGl6ZWQgPSBzZXJpYWxpemVTaGFyZWRTdHJ1Y3R1cmUodGhpcykpXHJcblx0XHR9XHJcblx0fSlcclxuXHJcblx0aWYgKHR5cGVvZiBwcm9wZXJ0eS52YWx1ZXMgPT09ICdvYmplY3QnICYmIHByb3BlcnR5LnZhbHVlcykge1xyXG5cdFx0cHJvcGVydHkudmFsdWVzLnJlc2V0VG8gPSBwcm9wZXJ0eS52YWx1ZXMubGVuZ3RoXHJcblx0XHRwcm9wZXJ0eS5sYXN0SW5kZXggPSBwcm9wZXJ0eS52YWx1ZXMubGVuZ3RoXHJcblx0fVxyXG5cdGZvciAodmFyIGkgPSAwLCBsID0gcHJvcGVydHkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRwcm9wZXJ0eVtpXS5pbmRleCA9IGlcclxuXHRcdHByb3BlcnR5W2ldLnJlc3VtZUluZGV4ID0gaVxyXG5cdFx0c2V0dXBTaGFyZWQocHJvcGVydHlbaV0pXHJcblx0fVxyXG59XHJcbmZ1bmN0aW9uIHN0YXJ0V3JpdGUoKSB7XHJcblx0Zm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0c3RhcnRXcml0ZS5jYWxsKHRoaXNbaV0pXHJcblx0fVxyXG5cdHRoaXMubGVuZ3RoID0gdGhpcy5yZXNldFRvIHx8IDBcclxuXHRpZiAodHlwZW9mIHRoaXMudmFsdWVzID09PSAnb2JqZWN0JyAmJiB0aGlzLnZhbHVlcykge1xyXG5cdFx0dGhpcy52YWx1ZXMubGVuZ3RoID0gdGhpcy52YWx1ZXMucmVzZXRUbyB8fCAwXHJcblx0fVxyXG59XHJcblxyXG5cclxuXHJcblx0XHQvLyB1cGdyYWRlcyB0aGUgcHJvcGVydHkgdG8gb3V0cHV0IHRoaXMgYmxvY2tcclxuXHRcdC8vIHJldHVybiAwIGlmIHRoZSBwcm9wZXJ0eSB3YXMgdXBncmFkZWQsIG9yIGlzIGNvbXBhdGlibGUsXHJcblx0XHQvLyAxIGlmIHRoZSBzaGFyZWQgaW5mb3JtYXRpb24gbmVlZHMgdG8gYmUgd3JpdHRlbiBvdXQsIGJ1dCB0aGUgcHJvcGVydHkgd2FzIHVwZ3JhZGVkXHJcblx0XHQvLyAyIGlmIHRoZSBzaGFyZWQgaW5mb3JtYXRpb24gbmVlZHMgdG8gYmUgcmVzZXJpYWxpemVkXHJcbmZ1bmN0aW9uIHVwZ3JhZGUocHJvcGVydHkpIHtcclxuXHRpZiAoIXByb3BlcnR5KSB7XHJcblx0XHRyZXR1cm4gMVxyXG5cdH1cclxuXHR2YXIgY29tcGF0aWJpbGl0eVxyXG5cdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0Ly8gc2FtZSBibG9jayB3YXMgc2VyaWFsaXplZCBsYXN0IHRpbWUsIGZhc3QgcGF0aCB0byBjb21wYXRpbGl0eVxyXG5cdFx0aWYgKHByb3BlcnR5Lmluc2VydGVkRnJvbSA9PT0gdGhpcyAmJiBwcm9wZXJ0eS5pbnNlcnRlZFZlcnNpb24gPT09IHRoaXMudmVyc2lvbiAmJiAoXHJcblx0XHRcdFx0cHJvcGVydHkucmVjb3JkVXBkYXRlIHx8IHByb3BlcnR5LmlzRnJvemVuIHx8IChwcm9wZXJ0eS5sZW5ndGggPT0gMCAmJiBwcm9wZXJ0eS5jb2RlID09IHRoaXMuY29kZSAmJiBwcm9wZXJ0eS52YWx1ZXMgPT0gbnVsbClcclxuXHRcdFx0KSkge1xyXG5cdFx0XHQvLyBidXQgaWYgdGhlIHZlcnNpb24gaW5jcmVtZW50ZWQsIHdlIG5lZWQgdG8gdXBkYXRlXHJcblx0XHRcdHJldHVybiAwXHJcblx0XHR9XHJcblx0XHR2YXIgY2hhbmdlZENvZGVcclxuXHRcdGlmICh0aGlzLmNvZGUgIT09IHByb3BlcnR5LmNvZGUpXHJcblx0XHRcdGNoYW5nZWRDb2RlID0gdHJ1ZVxyXG5cdFx0aWYgKHByb3BlcnR5LnVwZ3JhZGUpIHtcclxuXHRcdFx0dmFyIGNvbXBhdGliaWxpdHkgPSBjb3B5UHJvcGVydHkodGhpcywgcHJvcGVydHkpXHJcblx0XHRcdGlmIChjaGFuZ2VkQ29kZSlcclxuXHRcdFx0XHRjb21wYXRpYmlsaXR5ID0gMlxyXG5cdFx0XHRpZiAocHJvcGVydHkuaXNGcm96ZW4gJiYgY29tcGF0aWJpbGl0eSA+IDApIHtcclxuXHRcdFx0XHRyZXR1cm4gMlxyXG5cdFx0XHR9XHJcblx0XHRcdHByb3BlcnR5Lmluc2VydGVkRnJvbSA9IHRoaXNcclxuXHRcdFx0cHJvcGVydHkuaW5zZXJ0ZWRWZXJzaW9uID0gdGhpcy52ZXJzaW9uXHJcblx0XHRcdGlmIChjb21wYXRpYmlsaXR5ID09PSAyKSB7XHJcblx0XHRcdFx0ZGVidWdnZXJcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdJbnNlcnRpbmcgaW5jb21wYXRpYmxlIGJsb2NrIGludG8gcHJvcGVydHknKVxyXG5cdFx0XHRcdHJldHVybiAyXHJcblx0XHRcdH0gZWxzZSBcclxuXHRcdFx0cmV0dXJuIDBcclxuXHRcdH0gZWxzZSB7IC8vIHVwZ3JhZGluZyBpbnRvIG5vbi1zaGFyZWQgcHJvcGVydHksXHJcblx0XHRcdHByb3BlcnR5Lmluc2VydGVkRnJvbSA9IHRoaXNcclxuXHRcdFx0cHJvcGVydHkuaW5zZXJ0ZWRWZXJzaW9uID0gdGhpcy52ZXJzaW9uXHJcblx0XHRcdC8vIGlmIHRoaXMgaXMgbm90IGEgc2hhcmVkIHByb3BlcnR5IHRoYXQgdHJhY2tzIGNoYW5nZXMsIHdlIGhhdmUgcmVzZXQgYW5kIGVuc3VyZSB0aGF0IGl0IGRvZXNuJ3QgY2hhbmdlIHdoZW4gd2UgcmV1c2UgaXRcclxuXHRcdFx0cHJvcGVydHkubGVuZ3RoID0gMFxyXG5cdFx0XHRwcm9wZXJ0eS52YWx1ZXMgPSBudWxsXHJcblx0XHRcdGlmIChwcm9wZXJ0eS5mcm9tVmFsdWUpXHJcblx0XHRcdFx0cHJvcGVydHkuZnJvbVZhbHVlID0gbnVsbFxyXG5cdFx0XHRyZXR1cm4gMVxyXG5cdFx0fVxyXG5cdH0gZWxzZSB7XHJcblx0XHRpZiAodGhpcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdC8vIG5vIHByb3BlcnR5LCAoYnV0IGJsb2NrIGlzIHNoYXJlZCkgc28ganVzdCB3cml0ZSB0aGUgYnVmZmVyIHdpdGggaXRzIHNoYXJlZCBwYXJ0IChpZiB0aGVyZSBpcyBvbmUpXHJcblx0XHRcdGJsb2NrQnVmZmVyID0gQnVmZmVyLmNvbmNhdChbdGhpcy5zZXJpYWxpemVkLCBibG9ja0J1ZmZlcl0pXHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiAxXHJcbn1cclxuXHJcbnZhciB0eXBlVG9Db2RlID0ge1xyXG5cdHN0cmluZzogUkVGRVJFTkNJTkdfVFlQRSxcclxuXHRudW1iZXI6IE5VTUJFUl9UWVBFLFxyXG5cdG9iamVjdDogREVGQVVMVF9UWVBFLFxyXG5cdGJvb2xlYW46IERFRkFVTFRfVFlQRSxcclxuXHR1bmRlZmluZWQ6IERFRkFVTFRfVFlQRSxcclxuXHRhcnJheTogQVJSQVlfVFlQRVxyXG59XHJcblxyXG52YXIgbGFzdFByb3BlcnR5T25PYmplY3QgPSBuZXcgV2Vha01hcCgpXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTaGFyZWRTdHJ1Y3R1cmUoZnJvbSwgb3B0aW9ucykge1xyXG5cdHZhciBpbnN0YW5jZVByb3BlcnR5ID0gW11cclxuXHRpbnN0YW5jZVByb3BlcnR5LmtleSA9IG51bGxcclxuXHRpbnN0YW5jZVByb3BlcnR5LmNvZGUgPSA2XHJcblx0aW5zdGFuY2VQcm9wZXJ0eS50eXBlID0gJ29iamVjdCdcclxuXHRsZXQgYWN0aXZlTGlzdCA9IFtdXHJcblx0bGV0IG5lZWRzQ2xlYW51cCA9IFtdXHJcblx0YWN0aXZlTGlzdC5pdGVyYXRpb24gPSAwXHJcblx0dmFyIHByZXZpb3VzQXZvaWRTaGFyZVVwZGF0ZVxyXG5cclxuLy8gcHJvcGVydHkgaWQgcmFuZ2VzOlxyXG4vLyBzaGFyZWQ6IDAgLSA1MTFcclxuLy8gaW5zdGFuY2U6IDUxMitcclxuLy8gc2hhcmVkOiBcclxuXHJcblx0Y2xhc3MgU2hhcmVkIGV4dGVuZHMgQXJyYXkge1xyXG5cdFx0Y29uc3RydWN0b3IoaW5zdGFuY2VQcm9wZXJ0eSkge1xyXG5cdFx0XHRzdXBlcigpXHJcblx0XHRcdGxldCBoYXNVcGRhdGVzXHJcblx0XHRcdHRoaXMua2V5ID0gdHlwZW9mIGluc3RhbmNlUHJvcGVydHkua2V5ID09ICdzdHJpbmcnID8gaXNvbGF0ZVN0cmluZyhpbnN0YW5jZVByb3BlcnR5LmtleSkgOiBpbnN0YW5jZVByb3BlcnR5LmtleVxyXG5cdFx0XHR0aGlzLnR5cGUgPSBpbnN0YW5jZVByb3BlcnR5LnR5cGVcclxuXHRcdFx0dGhpcy5jb2RlID0gaW5zdGFuY2VQcm9wZXJ0eS5jb2RlXHJcblx0XHRcdHRoaXMuY291bnQgPSAwXHJcblx0XHRcdHRoaXMuY29tZXNBZnRlciA9IFtdXHJcblx0XHRcdGlmICh0aGlzLmNvZGUgPT0gUkVGRVJFTkNJTkdfVFlQRSkge1xyXG5cdFx0XHRcdHRoaXMudmFsdWVzID0gW11cclxuXHRcdFx0XHR0aGlzLnZhbHVlcy5yZXNldFRvID0gNTEyXHJcblx0XHRcdFx0dGhpcy52YWx1ZXMubmV4dFBvc2l0aW9uID0gNTEyXHJcblx0XHRcdFx0dGhpcy5wcmV2aW91c1ZhbHVlcyA9IG5ldyBNYXAoKVxyXG5cdFx0XHRcdHRoaXMubGFzdEluZGV4ID0gMFxyXG5cdFx0XHRcdHRoaXMucmVwZXRpdGlvbnMgPSAwXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdG5ld1Byb3BlcnR5KGluc3RhbmNlKSB7XHJcblx0XHRcdHJldHVybiBuZXcgU2hhcmVkKGluc3RhbmNlKVxyXG5cclxuXHRcdH1cclxuXHRcdGdldFByb3BlcnR5KHZhbHVlLCBrZXksIHR5cGUsIGV4dGVuZGVkVHlwZSwgd3JpdGVQcm9wZXJ0eSwgd3JpdGVUb2tlbiwgbGFzdFByb3BlcnR5SW5kZXgpIHtcclxuXHRcdFx0bGV0IHByb3BlcnR5XHJcblx0XHRcdGlmICh0aGlzLmluc2VydGVkRnJvbSkge1xyXG5cdFx0XHRcdHByb3BlcnR5U2VhcmNoKHRoaXMuaW5zZXJ0ZWRGcm9tKVxyXG5cdFx0XHRcdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdFx0aWYgKGxhc3RQcm9wZXJ0eUluZGV4ICE9PSBwcm9wZXJ0eS5pbmRleCkge1xyXG5cdFx0XHRcdFx0XHR3cml0ZVRva2VuKFBST1BFUlRZX0NPREUsIHByb3BlcnR5SW5kZXgpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gcHJvcGVydHlcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHRoaXMuaW5zZXJ0ZWRGcm9tLmdldFByb3BlcnR5KSB7XHJcblx0XHRcdFx0XHQvL3RoaXMucmVjb3JkVXBkYXRlKClcclxuXHRcdFx0XHRcdHJldHVybiB0aGlzLmluc2VydGVkRnJvbS5nZXRQcm9wZXJ0eSh2YWx1ZSwga2V5LCB0eXBlLCBleHRlbmRlZFR5cGUsIHdyaXRlUHJvcGVydHksIHdyaXRlVG9rZW4sIGxhc3RQcm9wZXJ0eUluZGV4KVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRkZWJ1Z2dlclxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLnJlY29yZFVwZGF0ZSgpXHJcblx0XHRcdGxldCBwcm9wZXJ0eUluZGV4ID0gdGhpcy5sZW5ndGhcclxuXHRcdFx0aWYgKGxhc3RQcm9wZXJ0eUluZGV4ICE9PSBwcm9wZXJ0eUluZGV4KSB7XHJcblx0XHRcdFx0d3JpdGVUb2tlbihQUk9QRVJUWV9DT0RFLCBwcm9wZXJ0eUluZGV4KVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0eXBlID09PSAnYm9vbGVhbicgfHwgdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHR0eXBlID0gJ29iamVjdCdcclxuXHRcdFx0fVxyXG5cdFx0XHRwcm9wZXJ0eSA9IHRoaXNbcHJvcGVydHlJbmRleF0gPSBuZXcgU2hhcmVkKHtcclxuXHRcdFx0XHRrZXksXHJcblx0XHRcdFx0dHlwZSxcclxuXHRcdFx0XHRjb2RlOiB0eXBlVG9Db2RlW3R5cGVdXHJcblx0XHRcdH0pXHJcblx0XHRcdHByb3BlcnR5LnBhcmVudCA9IHRoaXNcclxuXHRcdFx0cHJvcGVydHkuaW5kZXggPSBwcm9wZXJ0eUluZGV4XHJcblx0XHRcdHJldHVybiBwcm9wZXJ0eVxyXG5cdFx0XHRmdW5jdGlvbiBwcm9wZXJ0eVNlYXJjaChwYXJlbnRQcm9wZXJ0eSkge1xyXG5cdFx0XHRcdGxldCBwcm9wZXJ0eUluZGV4ID0gLTFcclxuXHRcdFx0XHRkbyB7XHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IHBhcmVudFByb3BlcnR5WysrcHJvcGVydHlJbmRleF1cclxuXHRcdFx0XHR9IHdoaWxlKHByb3BlcnR5ICYmIChwcm9wZXJ0eS5rZXkgIT09IGtleSB8fFxyXG5cdFx0XHRcdFx0XHQocHJvcGVydHkudHlwZSAhPT0gdHlwZSAmJiB0eXBlICE9PSAnYm9vbGVhbicgJiYgdHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHx8XHJcblx0XHRcdFx0XHRcdChleHRlbmRlZFR5cGUgJiYgcHJvcGVydHkuZXh0ZW5kZWRUeXBlICE9PSBjb25zdHJ1Y3RvcikpKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHR3cml0ZVNoYXJlZFZhbHVlKHZhbHVlLCB3cml0ZVRva2VuLCBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0Ly8gdGhlcmUgYXJlIHNldmVyYWwgcG9zc2libGUgc3RhdGVzIG9mIGEgcHJvcGVydHk6XHJcblx0XHRcdC8vIDEpIE5vbi1yZWZlcmVuY2luZyBzdGF0ZSAoaW5pdGlhbCBzdGF0ZSkgLSBXZSBkb24ndCByZXNldCBwb3NpdGlvbiBpbmRpY2VzLCBhbmQgd2UgbmV2ZXIgcmVmZXJlbmNlIHByZXZpb3VzIHZhbHVlc1xyXG5cdFx0XHQvLyAyKSBTaGFyZWQvcmVwZXRpdGl2ZSBzdGF0ZSAtIFdlIGNhbiBoYXZlIHNoYXJlZCB2YWx1ZXMgKDwxMiBwb3NpdGlvbikgYW5kIHdlIGNhbiByZWZlcmVuY2UgcHJvcGVydGllcyBpbiBhbiBpbnN0YW5jZSAoPj0xMiBwb3NpdGlvbilcclxuXHRcdFx0Ly8gMykgTm9uLXJlcGV0aXRpdmUgLSBJZiByZXBldGl0aW9uIGlzIHJhcmUsIGdvZXMgdG8gZGVmYXVsdCB0eXBlXHJcblx0XHRcdGxldCB2YWx1ZUVudHJ5ID0gdGhpcy5wcmV2aW91c1ZhbHVlcy5nZXQodmFsdWUpXHJcblx0XHRcdGlmICh2YWx1ZUVudHJ5KSB7XHJcblx0XHRcdFx0aWYgKHZhbHVlRW50cnkuc2VyaWFsaXplciA9PSBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0XHRcdHRoaXMucmVwZXRpdGlvbnMrK1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR2YWx1ZUVudHJ5LnNlcmlhbGl6YXRpb25zKytcclxuXHRcdFx0XHRcdHZhbHVlRW50cnkuc2VyaWFsaXplciA9IHNlcmlhbGl6ZXJJZFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnByZXZpb3VzVmFsdWVzLnNldCh2YWx1ZSwgdmFsdWVFbnRyeSA9IHtcclxuXHRcdFx0XHRcdHNlcmlhbGl6YXRpb25zOiAxLFxyXG5cdFx0XHRcdFx0c2VyaWFsaXplcjogc2VyaWFsaXplcklkXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIXRoaXMuYWN0aXZlKSB7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmUgPSAyXHJcblx0XHRcdFx0YWN0aXZlTGlzdC5wdXNoKHRoaXMpXHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdC8qdmFyIGluZGV4ID0gdGhpcy52YWx1ZXMubGVuZ3RoXHJcblx0XHRcdGlmIChpbmRleCA8IDEyKVxyXG5cdFx0XHRcdHRoaXMudmFsdWVzW2luZGV4XSA9IHZhbHVlKi9cclxuXHRcdH1cclxuXHRcdHByb3BlcnR5VXNlZChwcm9wZXJ0eSwgb2JqZWN0LCBzZXJpYWxpemVySWQsIGkpIHtcclxuXHRcdFx0aWYgKHByb3BlcnR5Lmxhc3RTZXJpYWxpemVyICE9PSBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0XHRwcm9wZXJ0eS5sYXN0U2VyaWFsaXplciA9IHNlcmlhbGl6ZXJJZFxyXG5cdFx0XHRcdHByb3BlcnR5LmNvdW50KytcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaSAhPT0gMCkge1xyXG5cdFx0XHRcdGxldCBsYXN0UHJvcGVydHkgPSBsYXN0UHJvcGVydHlPbk9iamVjdC5nZXQob2JqZWN0KVxyXG5cdFx0XHRcdC8vIHJlY29yZCB3aGF0IGhhcyBjb21lIGJlZm9yZSBzbyB3ZSBjYW4gb3JkZXIgdGhlbSB3aGVuIGNyZWF0aW5nIGEgY29tbW9uIHN0cnVjdHVyZVxyXG5cdFx0XHRcdGlmIChsYXN0UHJvcGVydHkgJiYgcHJvcGVydHkuY29tZXNBZnRlci5pbmRleE9mKGxhc3RQcm9wZXJ0eSkgPT09IC0xKVxyXG5cdFx0XHRcdFx0cHJvcGVydHkuY29tZXNBZnRlci5wdXNoKGxhc3RQcm9wZXJ0eSlcclxuXHRcdFx0fVxyXG5cdFx0XHRsYXN0UHJvcGVydHlPbk9iamVjdC5zZXQob2JqZWN0LCBwcm9wZXJ0eSlcclxuXHRcdH1cclxuXHRcdHJlY29yZFVwZGF0ZSgpIHtcclxuXHRcdFx0dmFyIHByb3BlcnR5ID0gdGhpc1xyXG5cdFx0XHRkbyB7XHJcblx0XHRcdFx0cHJvcGVydHkudmVyc2lvbiA9IChwcm9wZXJ0eS52ZXJzaW9uIHx8IDApICsgMVxyXG5cdFx0XHRcdGlmIChwcm9wZXJ0eS5pbnNlcnRlZEZyb20pIHtcclxuXHRcdFx0XHRcdC8vIG9yIHdlIGNvdWxkIHRyeSB0byB1cGdyYWRlIHRoZSBsYXRlc3QgaW5zZXJ0ZWQgcHJvcGVydHk/XHJcblx0XHRcdFx0XHRwcm9wZXJ0eS5pbnNlcnRlZEZyb20gPSBudWxsXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChwcm9wZXJ0eS5fc2VyaWFsaXplZClcclxuXHRcdFx0XHRcdHByb3BlcnR5Ll9zZXJpYWxpemVkID0gbnVsbFxyXG5cdFx0XHR9IHdoaWxlKHByb3BlcnR5ID0gcHJvcGVydHkucGFyZW50KVxyXG5cdFx0fVxyXG5cclxuXHRcdHJlYWRpbmdCbG9jayhwYXJzZSkge1xyXG5cdFx0XHQvL3ZhciBibG9ja1N0cnVjdHVyZSA9IHRoaXMuYXNCbG9ja1N0cnVjdHVyZSgpXHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0cmV0dXJuIHBhcnNlKClcclxuXHRcdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0XHR0aGlzLnJlYWRSZXNldCgpXHJcblx0XHRcdFx0aWYgKHRoaXMubGVuZ3RoID4gNTAwKSB7XHJcblx0XHRcdFx0XHRkZWJ1Z2dlclxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Ly9hY3RpdmU6XHJcblx0XHQvLyAwIC0gbm90LWFjdGl2ZWx5IGJlaW5nIG1vbml0b3JlZFxyXG5cdFx0Ly8gMSAtIGJlaW5nIG1vbml0b3JlZCwgYnV0IGFuIGl0ZXJhdGlvbiBoYXNuJ3Qgc3RhcnRlZCBmb3IgdGhpc1xyXG5cdFx0Ly8gMiAtIGJlaW5nIG1vbml0b3JlZCwgYW5kIGFuIGl0ZXJhdGlvbiBoYXMgc3RhcnRlZFxyXG5cdFx0c3RhcnRXcml0ZShhdm9pZFNoYXJlVXBkYXRlLCB2YWx1ZSkge1xyXG5cdFx0XHRhY3RpdmVMaXN0Lml0ZXJhdGlvbisrXHJcblx0XHRcdGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5jb2RlICE9PSBBUlJBWV9UWVBFICYmIHRoaXMudmVyc2lvbiA+IDApIHtcclxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCBjaGFuZ2UgdGhlIHJvb3QgdHlwZSBvZiBhIHNoYXJlZCBvYmplY3QgdG8gYW4gYXJyYXknKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAodGhpcy5jb2RlICE9IEFSUkFZX1RZUEUpXHJcblx0XHRcdFx0XHR0aGlzLnJlY29yZFVwZGF0ZSgpXHJcblx0XHRcdFx0dGhpcy5jb2RlID0gQVJSQVlfVFlQRVxyXG5cdFx0XHRcdHRoaXMudHlwZSA9ICdhcnJheSdcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGhpcy53cml0aW5nKVxyXG5cdFx0XHRcdHJldHVyblxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dGhpcy53cml0aW5nID0gdHJ1ZVxyXG5cdFx0XHRyZXR1cm5cclxuXHRcdFx0cHJldmlvdXNBdm9pZFNoYXJlVXBkYXRlID0gY3VycmVudEF2b2lkU2hhcmVVcGRhdGVcclxuXHRcdFx0aWYgKGF2b2lkU2hhcmVVcGRhdGUpXHJcblx0XHRcdFx0Y3VycmVudEF2b2lkU2hhcmVVcGRhdGUgPSB0cnVlXHJcblx0XHR9XHJcblx0XHRlbmRXcml0ZSgpIHtcclxuXHRcdFx0aWYgKHRoaXMud3JpdGluZylcclxuXHRcdFx0XHR0aGlzLndyaXRpbmcgPSBmYWxzZVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0XHRsZXQgaXRlcmF0aW9ucyA9IHRoaXMuaXRlcmF0aW9ucyA9ICh0aGlzLml0ZXJhdGlvbnMgfHwgMCkgKyAxXHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlTGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGxldCBhY3RpdmVTaGFyZWRQcm9wZXJ0eSA9IGFjdGl2ZUxpc3RbaV1cclxuXHRcdFx0XHRsZXQgcHJldmlvdXNWYWx1ZXMgPSBhY3RpdmVTaGFyZWRQcm9wZXJ0eS5wcmV2aW91c1ZhbHVlc1xyXG5cdFx0XHRcdGlmIChwcmV2aW91c1ZhbHVlcyAmJiBwcmV2aW91c1ZhbHVlcy5zaXplICYmICFhY3RpdmVTaGFyZWRQcm9wZXJ0eS5pc0Zyb3plbikge1xyXG5cdFx0XHRcdFx0aWYgKCFjdXJyZW50QXZvaWRTaGFyZVVwZGF0ZSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoYWN0aXZlU2hhcmVkUHJvcGVydHkudmFsdWVzLmxlbmd0aCA9PSAwICYmXHJcblx0XHRcdFx0XHRcdFx0aXRlcmF0aW9ucyA+ICgoYWN0aXZlU2hhcmVkUHJvcGVydHkucmVwZXRpdGlvbnMgfHwgMCkgKyAxMCkgKiA1KSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gbW92ZSB0byBwZXJtYW5lbnRseSBub24tcmVwZXRpdGl2ZVxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdjaGFuZ2luZyByZWZlcmVuY2VhYmxlIHRvIGRlZmF1bHQnLCBhY3RpdmVTaGFyZWRQcm9wZXJ0eS5rZXkpXHJcblx0XHRcdFx0XHRcdFx0YWN0aXZlU2hhcmVkUHJvcGVydHkucHJldmlvdXNWYWx1ZXMgPSBudWxsXHJcblx0XHRcdFx0XHRcdFx0YWN0aXZlU2hhcmVkUHJvcGVydHkuY29kZSA9IERFRkFVTFRfVFlQRVxyXG5cdFx0XHRcdFx0XHRcdGFjdGl2ZVNoYXJlZFByb3BlcnR5LnR5cGUgPSAnb2JqZWN0J1xyXG5cdFx0XHRcdFx0XHRcdGFjdGl2ZVNoYXJlZFByb3BlcnR5LnJlY29yZFVwZGF0ZSgpXHJcblx0XHRcdFx0XHRcdFx0YWN0aXZlTGlzdC5zcGxpY2UoaS0tLCAxKVxyXG5cdFx0XHRcdFx0XHRcdHByZXZpb3VzVmFsdWVzID0gW11cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Zm9yIChsZXQgW3ZhbHVlLCBlbnRyeV0gb2YgcHJldmlvdXNWYWx1ZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgdmFsdWVzID0gYWN0aXZlU2hhcmVkUHJvcGVydHkudmFsdWVzXHJcblx0XHRcdFx0XHRcdFx0aWYgKChlbnRyeS5zZXJpYWxpemF0aW9ucyArIDMpICogOCA8IGl0ZXJhdGlvbnMgLSAoZW50cnkuc3RhcnRpbmdJdGVyYXRpb24gfHwgKGVudHJ5LnN0YXJ0aW5nSXRlcmF0aW9uID0gaXRlcmF0aW9ucykpIHx8IHZhbHVlcy5sZW5ndGggPiA1MDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHByZXZpb3VzVmFsdWVzLmRlbGV0ZSh2YWx1ZSlcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0aWYgKGVudHJ5LnNlcmlhbGl6YXRpb25zID4gNTAgJiYgZW50cnkuc2VyaWFsaXphdGlvbnMgKiAzID4gaXRlcmF0aW9ucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWVzW2FjdGl2ZVNoYXJlZFByb3BlcnR5Lmxhc3RJbmRleCsrXSA9IHZhbHVlXHJcblx0XHRcdFx0XHRcdFx0XHRhY3RpdmVTaGFyZWRQcm9wZXJ0eS5yZWNvcmRVcGRhdGUoKVxyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2FkZGluZyB2YWx1ZScsIHZhbHVlLCAndG8nLCBhY3RpdmVTaGFyZWRQcm9wZXJ0eS5rZXkpXHJcblx0XHRcdFx0XHRcdFx0XHRwcmV2aW91c1ZhbHVlcy5kZWxldGUodmFsdWUpIC8vIGRvbmUgd2l0aCB0cmFja2luZywgaXQgaGFzIGJlZW4gYWNjZXB0ZWQgYXMgYSBjb21tb24gdmFsdWVcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0YWN0aXZlU2hhcmVkUHJvcGVydHkuYWN0aXZlID0gMFxyXG5cdFx0XHRcdFx0YWN0aXZlTGlzdC5zcGxpY2UoaS0tLCAxKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoYWN0aXZlTGlzdC5oYXNVcGRhdGVzKSB7XHJcblx0XHRcdFx0YWN0aXZlTGlzdC5oYXNVcGRhdGVzID0gZmFsc2VcclxuXHRcdFx0XHR0aGlzLnZlcnNpb24rK1xyXG5cdFx0XHRcdGlmICghdGhpcy5fc2VyaWFsaXplZClcclxuXHRcdFx0XHRcdHRoaXMuX3NlcmlhbGl6ZWQgPSBudWxsXHJcblx0XHRcdFx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5vblVwZGF0ZSlcclxuXHRcdFx0XHRcdG9wdGlvbnMub25VcGRhdGUoKVxyXG5cdFx0XHR9XHJcblx0XHRcdGN1cnJlbnRBdm9pZFNoYXJlVXBkYXRlID0gcHJldmlvdXNBdm9pZFNoYXJlVXBkYXRlXHJcblx0XHR9XHJcblxyXG5cdFx0dXBncmFkZShwcm9wZXJ0eSkge1xyXG5cdFx0XHRyZXR1cm4gdXBncmFkZS5jYWxsKHRoaXMsIHByb3BlcnR5KVxyXG5cdFx0fVxyXG5cclxuXHRcdGdldCBzZXJpYWxpemVkKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5fc2VyaWFsaXplZCB8fCAodGhpcy5fc2VyaWFsaXplZCA9IHNlcmlhbGl6ZVNoYXJlZFN0cnVjdHVyZSh0aGlzKSlcclxuXHRcdH1cclxuXHRcdHNlcmlhbGl6ZUNvbW1vblN0cnVjdHVyZShlbWJlZGRlZCkge1xyXG5cdFx0XHR2YXIgdXNhZ2VUaHJlc2hvbGQgPSBNYXRoLnNxcnQoYWN0aXZlTGlzdC5pdGVyYXRpb24pXHJcblx0XHRcdHJldHVybiBzZXJpYWxpemVTaGFyZWRTdHJ1Y3R1cmUodGhpcywgY2hpbGRQcm9wZXJ0eSA9PiBjaGlsZFByb3BlcnR5LmNvdW50ID49IHVzYWdlVGhyZXNob2xkLCBlbWJlZGRlZClcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBzaGFyZWRTdHJ1Y3R1cmUgPSBuZXcgU2hhcmVkKGluc3RhbmNlUHJvcGVydHkpXHJcblx0c2hhcmVkU3RydWN0dXJlLnZlcnNpb24gPSAwXHJcblxyXG5cdHNoYXJlZFN0cnVjdHVyZS5mcmVlemUgPSBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuaXNGcm96ZW4gPSB0cnVlXHJcblx0XHR0aGlzLnJlc2V0KClcclxuXHR9XHJcblxyXG5cdGlmIChmcm9tKSB7XHJcblx0XHR2YXIgcGFyc2VyID0gY3JlYXRlUGFyc2VyKHtcclxuXHRcdFx0Zm9yRGVmZXJyZWQoYmxvY2ssIHByb3BlcnR5KSB7XHJcblx0XHRcdFx0cHJvcGVydHkuaXNCbG9jayA9IHRydWVcclxuXHRcdFx0XHRyZXR1cm4gYmxvY2tcclxuXHRcdFx0fSxcclxuXHRcdFx0cGFyc2VEZWZlcnJlZHM6IHRydWVcclxuXHRcdH0pXHJcblx0XHQvLyBjb25jYXRlbmF0ZSBzaGFyZWQgc3RydWN0dXJlIHdpdGggbnVsbCBzbyB0aGVyZSBpcyBhIHZhbHVlIHRvIHBhcnNlXHJcblx0XHR2YXIgcmVhZFByb3BlcnR5ID0gW11cclxuXHRcdHJlYWRQcm9wZXJ0eS5jb2RlID0gNlxyXG5cdFx0cmVhZFByb3BlcnR5LmtleSA9IG51bGxcclxuXHRcdC8vIGVuZCB3aXRoIHdpdGggTlVMTCAocCkgdmFsdWUgdG8gcmV0dXJuIHNvbWV0aGluZyBmcm9tIHR5cGUgZGVmaW5pdGlvblxyXG5cdFx0cGFyc2VyLnNldFNvdXJjZShmcm9tICsgJ3AnKS5yZWFkKFtyZWFkUHJvcGVydHldKVxyXG5cdFx0Y29weVByb3BlcnR5KHJlYWRQcm9wZXJ0eSwgc2hhcmVkU3RydWN0dXJlKVxyXG5cdFx0YWN0aXZlTGlzdC5oYXNVcGRhdGVzID0gZmFsc2VcclxuXHRcdHNoYXJlZFN0cnVjdHVyZS52ZXJzaW9uID0gMVxyXG5cdH1cclxuXHRzaGFyZWRTdHJ1Y3R1cmUua2V5ID0gbnVsbCAvLyByb290IG11c3QgYmUgbnVsbCAoZm9yIHRoZSBwYXJzZXIgdG8gd29yayBwcm9wZXJseSlcclxuXHJcblx0cmV0dXJuIHNoYXJlZFN0cnVjdHVyZVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc0Rlc2NlbmRhbnQocHJvcGVydHksIHBvc3NpYmxlUGFyZW50KSB7XHJcblx0ZG8ge1xyXG5cdFx0aWYgKHByb3BlcnR5ID09PSBwb3NzaWJsZVBhcmVudClcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHR9IHdoaWxlIChwcm9wZXJ0eSA9IHByb3BlcnR5LnBhcmVudClcclxufVxyXG4vLyBkZWZhdWx0IHR5cGUgZm9yIGVhY2ggY29kZVxyXG52YXIgdHlwZXMgPSB7XHJcblx0Ni8qREVGQVVMVF9UWVBFKi86ICdvYmplY3QnLFxyXG5cdDcvKkFSUkFZX1RZUEUqLzogJ2FycmF5JyxcclxuXHQ4LypSRUZFUkVOQ0lOR19UWVBFKi86ICdzdHJpbmcnLFxyXG5cdDkvKk5VTUJFUl9UWVBFKi86ICdudW1iZXInXHJcbn1cclxuXHJcbnZhciBjdXJyZW50QXZvaWRTaGFyZVVwZGF0ZVxyXG5mdW5jdGlvbiBzZXJpYWxpemVTaGFyZWRTdHJ1Y3R1cmUocHJvcGVydHksIGNvbmRpdGlvbiwgZW1iZWRkZWQpIHtcclxuXHR2YXIgc2VyaWFsaXplciA9IGNyZWF0ZVNlcmlhbGl6ZXIoKVxyXG5cdHZhciB3cml0ZXJzID0gc2VyaWFsaXplci5nZXRXcml0ZXJzKClcclxuXHRzZXJpYWxpemVTaGFyZWRQcm9wZXJ0eShwcm9wZXJ0eSwgIWVtYmVkZGVkLCAhZW1iZWRkZWQpXHJcblx0ZnVuY3Rpb24gc2VyaWFsaXplU2hhcmVkUHJvcGVydHkocHJvcGVydHksIGV4cGVjdHNPYmplY3RXaXRoTnVsbEtleSwgaXNSb290KSB7XHJcblx0XHRpZiAocHJvcGVydHkuaW5zZXJ0ZWRGcm9tICYmIHByb3BlcnR5Lmluc2VydGVkRnJvbS5zZXJpYWxpemVDb21tb25TdHJ1Y3R1cmUpIHtcclxuXHRcdFx0cHJvcGVydHkgPSBwcm9wZXJ0eS5pbnNlcnRlZEZyb21cclxuXHRcdFx0cmV0dXJuIHdyaXRlcnMud3JpdGVCdWZmZXIocHJvcGVydHkuc2VyaWFsaXplQ29tbW9uU3RydWN0dXJlKCFpc1Jvb3QpKVxyXG5cdFx0fVxyXG5cdFx0dmFyIGlzQXJyYXkgPSBwcm9wZXJ0eS5jb2RlID09PSBBUlJBWV9UWVBFXHJcblx0XHR2YXIgY29tbW9uUHJvcGVydGllcyA9IGNvbmRpdGlvbiA/IG9yZGVyUHJvcGVydGllcyhwcm9wZXJ0eS5maWx0ZXIoY29uZGl0aW9uKSkgOiBwcm9wZXJ0eVxyXG5cdFx0dmFyIGxlbmd0aCA9IGNvbW1vblByb3BlcnRpZXMubGVuZ3RoXHJcblx0XHRpZiAoIShleHBlY3RzT2JqZWN0V2l0aE51bGxLZXkgJiYgcHJvcGVydHkuY29kZSA9PT0gREVGQVVMVF9UWVBFKSkge1xyXG5cdFx0XHRsZXQga2V5ID0gaXNSb290ID8gbnVsbCA6IHByb3BlcnR5LmtleVxyXG5cdFx0XHR3cml0ZXJzLndyaXRlUHJvcGVydHkoa2V5LCB0eXBlc1twcm9wZXJ0eS5jb2RlXSlcclxuXHRcdFx0aWYgKGxlbmd0aCA9PT0gMCAmJiBrZXkgPT09IG51bGwgJiYgKHByb3BlcnR5LmNvZGUgPT09IERFRkFVTFRfVFlQRSB8fCBwcm9wZXJ0eS5jb2RlID09PSBBUlJBWV9UWVBFKSkge1xyXG5cdFx0XHRcdC8vIHRoZSBrZXkgd2FzIGVsaWRlZCwgYnV0IHdvbid0IGJlIGZvbGxvd2VkIGJ5IHNlcXVlbmNlLCBzbyB3cml0ZSBvbmUgbm93XHJcblx0XHRcdFx0d3JpdGVycy53cml0ZVRva2VuKFNFUVVFTkNFX0NPREUsIDApXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmIChpc1Jvb3QgJiYgbGVuZ3RoID4gMCkge1xyXG5cdFx0XHR3cml0ZXJzLndyaXRlVG9rZW4oVFlQRV9DT0RFLCBUWVBFX0RFRklOSVRJT04pXHJcblx0XHR9XHJcblx0XHRpZiAobGVuZ3RoID4gMCkge1xyXG5cdFx0XHQvLyB3ZSBhbHdheXMgdXNlIG9wZW4gc2VxdWVuY2UsIGJlY2F1c2Ugd3JpdGluZyBtdWx0aXBsZSB2YWx1ZXMgb2YgYSBwcm9wZXJ0eSB1c2UgZXh0cmEgcHJvcGVydHkgY291bnRzLFxyXG5cdFx0XHQvLyBwbHVzIGl0IGlzIGVhc2llciB0byBkZWFsIHdpdGggcHJvcGVydGllcyB3aXRob3V0IHZhbHVlc1xyXG5cdFx0XHR3cml0ZXJzLndyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgT1BFTl9TRVFVRU5DRSlcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBjaGlsZFByb3BlcnR5ID0gY29tbW9uUHJvcGVydGllc1tpXVxyXG5cdFx0XHRcdGNoaWxkUHJvcGVydHkuaW5kZXggPSBpXHJcblx0XHRcdFx0aWYgKGlzQXJyYXkgJiYgaSA+IDApIHtcclxuXHRcdFx0XHRcdHdyaXRlcnMud3JpdGVUb2tlbihQUk9QRVJUWV9DT0RFLCBpKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZXJpYWxpemVTaGFyZWRQcm9wZXJ0eShjaGlsZFByb3BlcnR5LCBjb21tb25Qcm9wZXJ0aWVzLmNvZGUgPT09IEFSUkFZX1RZUEUgJiYgaSA9PT0gMCwgZmFsc2UsIGNvbmRpdGlvbilcclxuXHRcdFx0fVxyXG5cdFx0XHR3cml0ZXJzLndyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgRU5EX1NFUVVFTkNFKVxyXG5cdFx0fVxyXG5cdFx0dmFyIGZpcnN0ID0gdHJ1ZVxyXG4vKlx0XHRpZiAocHJvcGVydHkucHJldmlvdXNWYWx1ZXMpIHtcclxuXHRcdFx0Zm9yIChsZXQgW3ZhbHVlLCBjb3VudF0gb2YgcHJvcGVydHkucHJldmlvdXNWYWx1ZXMpIHtcclxuXHRcdFx0XHRpZiAoY291bnQgPj0gdXNhZ2VUaHJlc2hvbGQgKiAyKSB7XHJcblx0XHRcdFx0XHRpZiAoZmlyc3QpXHJcblx0XHRcdFx0XHRcdGZpcnN0ID0gZmFsc2VcclxuXHRcdFx0XHRcdGVsc2UgLy8gcmVzZXQgcHJvcGVydHkgY29kZSBmb3IgZWFjaCBzdWJzZXF1ZW50IHZhbHVlIHNvIHdlIGRvbid0IG1vdmUgb24gdG8gdGhlIG5leHQgcHJvcGVydHkgaW4gcGFyc2luZ1xyXG5cdFx0XHRcdFx0XHR3cml0ZXJzLndyaXRlVG9rZW4oUFJPUEVSVFlfQ09ERSwgcHJvcGVydHkuaW5kZXgpXHJcblx0XHRcdFx0XHR3cml0ZXJzLndyaXRlQXNEZWZhdWx0KHZhbHVlKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlICovXHJcblx0XHRpZiAocHJvcGVydHkubGFzdEluZGV4ID4gMCkge1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbCA9IHByb3BlcnR5Lmxhc3RJbmRleDsgaSA8IGw7IGkrKykge1xyXG5cdFx0XHRcdHZhciB2YWx1ZSA9IHByb3BlcnR5LnZhbHVlc1tpXVxyXG5cdFx0XHRcdGlmIChmaXJzdClcclxuXHRcdFx0XHRcdGZpcnN0ID0gZmFsc2VcclxuXHRcdFx0XHRlbHNlIC8vIHJlc2V0IHByb3BlcnR5IGNvZGUgZm9yIGVhY2ggc3Vic2VxdWVudCB2YWx1ZSBzbyB3ZSBkb24ndCBtb3ZlIG9uIHRvIHRoZSBuZXh0IHByb3BlcnR5IGluIHBhcnNpbmdcclxuXHRcdFx0XHRcdHdyaXRlcnMud3JpdGVUb2tlbihQUk9QRVJUWV9DT0RFLCBwcm9wZXJ0eS5pbmRleClcclxuXHRcdFx0XHR3cml0ZXJzLndyaXRlQXNEZWZhdWx0KHZhbHVlKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHRsZXQgc2VyaWFsaXplZCA9IHNlcmlhbGl6ZXIuZ2V0U2VyaWFsaXplZCgpXHJcblx0cmV0dXJuIHNlcmlhbGl6ZWRcclxufVxyXG5mdW5jdGlvbiBjb3B5UHJvcGVydHkoc291cmNlLCB0YXJnZXQsIGZyZWV6ZVRhcmdldCwgc3RhcnRpbmdJbmRleCkge1xyXG5cdHZhciBjb21wYXRpYmlsaXR5ID0gMFxyXG5cdHRhcmdldC5jb2RlID0gc291cmNlLmNvZGVcclxuXHR0YXJnZXQudHlwZSA9IHNvdXJjZS50eXBlIHx8IHR5cGVzW3NvdXJjZS5jb2RlXVxyXG5cdGlmIChmcmVlemVUYXJnZXQpIHtcclxuXHRcdHRhcmdldC5pc0Zyb3plbiA9IHRydWVcclxuXHRcdGlmICh0YXJnZXQucHJldmlvdXNWYWx1ZXMpXHJcblx0XHRcdHRhcmdldC5wcmV2aW91c1ZhbHVlcyA9IG51bGxcclxuXHR9XHJcblx0bGV0IHNvdXJjZUxlbmd0aCA9IHNvdXJjZS5yZXNldFRvID4gLTEgPyBzb3VyY2UucmVzZXRUbyA6IHNvdXJjZS5sZW5ndGhcclxuXHRpZiAodGFyZ2V0LnJlc2V0VG8gPiAtMSAmJiB0YXJnZXQucmVzZXRUbyA8IHRhcmdldC5sZW5ndGgpXHJcblx0XHR0YXJnZXQubGVuZ3RoID0gdGFyZ2V0LnJlc2V0VG9cclxuXHRmb3IgKHZhciBpID0gc3RhcnRpbmdJbmRleCB8fCAwOyBpIDwgc291cmNlTGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciB0YXJnZXRDaGlsZCA9IHRhcmdldFtpXVxyXG5cdFx0dmFyIGNoaWxkUHJvcGVydHkgPSBzb3VyY2VbaV1cclxuXHRcdGlmICh0YXJnZXRDaGlsZCAmJiAodGFyZ2V0Q2hpbGQua2V5ICE9IGNoaWxkUHJvcGVydHkua2V5IHx8IHRhcmdldENoaWxkLmV4dGVuZGVkVHlwZSAhPSBjaGlsZFByb3BlcnR5LmV4dGVuZGVkVHlwZSB8fFxyXG5cdFx0XHR0YXJnZXRDaGlsZC5jb2RlICE9IGNoaWxkUHJvcGVydHkuY29kZSAmJlxyXG5cdFx0XHRcdCEodGFyZ2V0Q2hpbGQuY29kZSA9PSA4ICYmIGNoaWxkUHJvcGVydHkuY29kZSA9PT0gNiAmJiAoIXRhcmdldENoaWxkLnZhbHVlcyB8fCAhdGFyZ2V0Q2hpbGQudmFsdWVzLmxlbmd0aCkpKSkgeyAvLyBvayB0byB1cGdyYWRlIGZyb20gc3RyaW5nIHRvIGRlZmF1bHRcclxuXHRcdFx0aWYgKHRhcmdldC5pc0Zyb3plbilcclxuXHRcdFx0XHRyZXR1cm4gMlxyXG5cdFx0XHRjb21wYXRpYmlsaXR5ID0gMlxyXG5cdFx0fVxyXG5cdFx0aWYgKCF0YXJnZXRDaGlsZCkge1xyXG5cdFx0XHRpZiAodGFyZ2V0LmlzRnJvemVuKVxyXG5cdFx0XHRcdHJldHVybiAyXHJcblx0XHRcdHZhciB0YXJnZXRDaGlsZCA9IFtdXHJcblx0XHRcdHRhcmdldENoaWxkLmNvZGUgPSBjaGlsZFByb3BlcnR5LmNvZGVcclxuXHRcdFx0aWYgKHRhcmdldC5uZXdQcm9wZXJ0eSkge1xyXG5cdFx0XHRcdHRhcmdldENoaWxkID0gdGFyZ2V0Lm5ld1Byb3BlcnR5KHRhcmdldENoaWxkKVxyXG5cdFx0XHR9XHJcblx0XHRcdHRhcmdldFtpXSA9IHRhcmdldENoaWxkXHJcblx0XHRcdGlmIChjaGlsZFByb3BlcnR5Lm1ldGFkYXRhKVxyXG5cdFx0XHRcdHRhcmdldENoaWxkLm1ldGFkYXRhID0gY2hpbGRQcm9wZXJ0eS5tZXRhZGF0YVxyXG5cdFx0XHRpZiAoY2hpbGRQcm9wZXJ0eS5pbnNlcnRlZEZyb20pIHtcclxuXHRcdFx0XHR0YXJnZXRDaGlsZC5pbnNlcnRlZEZyb20gPSBjaGlsZFByb3BlcnR5Lmluc2VydGVkRnJvbVxyXG5cdFx0XHRcdHRhcmdldENoaWxkLmluc2VydGVkVmVyc2lvbiA9IGNoaWxkUHJvcGVydHkuaW5zZXJ0ZWRWZXJzaW9uXHJcblx0XHRcdH1cclxuXHRcdFx0dGFyZ2V0Q2hpbGQucGFyZW50ID0gdGFyZ2V0XHJcblx0XHR9XHJcblx0XHR0YXJnZXRDaGlsZC5rZXkgPSBjaGlsZFByb3BlcnR5LmtleVxyXG5cclxuLy8gVE9ETzogQ2hlY2sgdG8gbWFrZSBzdXJlIHRoZSB2YWx1ZXMgYXJlIGNvbXBhdGlibGVcclxuXHRcdGlmIChjaGlsZFByb3BlcnR5LnZhbHVlcyAmJiBjaGlsZFByb3BlcnR5LnZhbHVlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGlmIChjaGlsZFByb3BlcnR5LnZhbHVlcy5yZXNldFRvID4gLTEpIHtcclxuXHRcdFx0XHRjaGlsZFByb3BlcnR5LnZhbHVlcy5sZW5ndGggPSBjaGlsZFByb3BlcnR5LnZhbHVlcy5yZXNldFRvXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCF0YXJnZXRDaGlsZC52YWx1ZXMgfHwgY2hpbGRQcm9wZXJ0eS52YWx1ZXMubGVuZ3RoID4gKHRhcmdldENoaWxkLnZhbHVlcy5yZXNldFRvID4gLTEgPyB0YXJnZXRDaGlsZC52YWx1ZXMucmVzZXRUbyA6IHRhcmdldENoaWxkLnZhbHVlcy5sZW5ndGgpKSB7XHJcblx0XHRcdFx0dGFyZ2V0Q2hpbGQudmFsdWVzID0gY2hpbGRQcm9wZXJ0eS52YWx1ZXMuc2xpY2UoMClcclxuXHRcdFx0XHR0YXJnZXRDaGlsZC52YWx1ZXMubmV4dFBvc2l0aW9uID0gY2hpbGRQcm9wZXJ0eS52YWx1ZXMubGVuZ3RoXHJcblx0XHRcdFx0aWYgKHRhcmdldENoaWxkLnZhbHVlcy5sZW5ndGggPj0gMTIpIHtcclxuXHRcdFx0XHRcdHRhcmdldENoaWxkLnByZXZpb3VzVmFsdWVzID0gbnVsbFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoY29tcGF0aWJpbGl0eSA9PSAwKSB7XHJcblx0XHRcdFx0XHRjb21wYXRpYmlsaXR5ID0gMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0dmFyIGNoaWxkQ29tcGF0aWJpbGl0eSA9IGNvcHlQcm9wZXJ0eShjaGlsZFByb3BlcnR5LCB0YXJnZXRDaGlsZCwgZnJlZXplVGFyZ2V0KVxyXG5cdFx0aWYgKGNoaWxkQ29tcGF0aWJpbGl0eSA+IGNvbXBhdGliaWxpdHkpXHJcblx0XHRcdGNvbXBhdGliaWxpdHkgPSBjaGlsZENvbXBhdGliaWxpdHlcclxuXHR9XHJcblx0bGV0IHRhcmdldExlbmd0aCA9IHRhcmdldC5yZXNldFRvID4gLTEgPyB0YXJnZXQucmVzZXRUbyA6IHRhcmdldC5sZW5ndGhcclxuXHRpZiAodGFyZ2V0TGVuZ3RoID4gc291cmNlTGVuZ3RoKSB7XHJcblx0XHRpZiAodGFyZ2V0LnJlY29yZFVwZGF0ZSkge1xyXG5cdFx0XHQvLyByZXZlcnNlIGZyZWV6ZSBpZiB0aGUgdGFyZ2V0IGhhcyBtb3JlIHZhbHVlcywgd2UgZG9uJ3Qgd2FudCB0aGUgc291cmNlIGJlY29taW5nIGluY29tcGF0aWJsZVxyXG5cdFx0XHRzb3VyY2UubWV0YWRhdGEgPSBVTlNUUlVDVFVSRURfTUFSS0VSXHJcblx0XHRcdHNvdXJjZS5yZWNvcmRVcGRhdGUoKVxyXG5cdFx0fSBlbHNlIGlmICh0YXJnZXQuaXNGcm96ZW4pIHtcclxuXHRcdFx0cmV0dXJuIDJcclxuXHRcdH1cclxuXHRcdC8vIG1lcmdlIGJhY2sgdG8gdGhlIHNvdXJjZSBpZiB0aGVyZSBhcmUgZXh0cmEgcHJvcGVydGllcyBvbiB0aGUgdGFyZ2V0XHJcblx0XHQvL2NvcHlQcm9wZXJ0eSh0YXJnZXQsIHNvdXJjZSwgaSlcclxuXHRcdC8vc291cmNlLnJlY29yZFVwZGF0ZSgpXHJcblx0fVxyXG5cdC8qaWYgKHRhcmdldC5wcmV2aW91c1ZhbHVlcykge1xyXG5cdFx0dGFyZ2V0LnZhbHVlcyA9IHRhcmdldC5wcmV2aW91c1ZhbHVlc1xyXG5cdFx0dGFyZ2V0LnByZXZpb3VzVmFsdWVzID0gW11cclxuXHR9Ki9cclxuXHQvL3RhcmdldC5sZW5ndGggPSBzb3VyY2UubGVuZ3RoXHJcblx0cmV0dXJuIGNvbXBhdGliaWxpdHlcclxufVxyXG5cclxuLy8gcmV0dXJuIHZhbHVlczpcclxuLy8gMDogaWRlbnRpY2FsIHByb3BlcnR5IHN0cnVjdHVyZXNcclxuLy8gLTE6IGEgaGFzIGxlc3MgcHJvcGVydGllcywgYnV0IGNhbiBiZSBzYWZlbHkgdXBncmFkZWQgdG8gYiBhbmQgc3RpbGwgYmUgY29tcGF0aWJsZSB3aXRoIGFcclxuLy8gMTogYSBoYXMgbW9yZSBwcm9wZXJ0aWVzLCBidXQgaXMgY29tcGF0aWJsZSBhbmQgY2FuIGJlIHVzZWQgdG8gZGVjb2RlIGJcclxuLy8gLTI6IGluY29tcGF0aWJsZSBwcm9wZXJ0eSBzdHJ1Y3R1cmVzLCBjYW4gbm90IGJlIHVzZWRcclxuZnVuY3Rpb24gaXNDb21wYXRpYmxlUHJvcGVydHkoYSwgYikge1xyXG5cdGlmIChhLmJsb2NrU3RydWN0dXJlID09PSBiKSB7XHJcblx0XHRyZXR1cm4gYS52ZXJzaW9uID4gYi52ZXJzaW9uID8gMSA6IDBcclxuXHR9XHJcblx0aWYgKGEuY29kZSA9PT0gYi5jb2RlICYmIGEuZXh0ZW5kZWRUeXBlID09PSBiLmV4dGVuZGVkVHlwZSkge1xyXG5cdFx0dmFyIHNoYXJlZExlbmd0aCA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aClcclxuXHRcdHZhciBjb21wYXRpYmlsaXR5ID0gMFxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzaGFyZWRMZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoYVtpXS5rZXkgIT09IGJbaV0ua2V5KVxyXG5cdFx0XHRcdHJldHVybiAtMlxyXG5cdFx0XHR2YXIgY2hpbGRDb21wYXRpYmlsaXR5ID0gaXNDb21wYXRpYmxlUHJvcGVydHkoYVtpXSwgYltpXSlcclxuXHRcdFx0aWYgKGNoaWxkQ29tcGF0aWJpbGl0eSA9PT0gLTIpXHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdGlmIChjaGlsZENvbXBhdGliaWxpdHkgPT09IC0xKSB7XHJcblx0XHRcdFx0aWYgKGNvbXBhdGliaWxpdHkgPT09IDEpXHJcblx0XHRcdFx0XHRyZXR1cm4gLTJcclxuXHRcdFx0XHRjb21wYXRpYmlsaXR5ID0gLTFcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoY2hpbGRDb21wYXRpYmlsaXR5ID09PSAxKSB7XHJcblx0XHRcdFx0aWYgKGNvbXBhdGliaWxpdHkgPT09IC0xKVxyXG5cdFx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdFx0Y29tcGF0aWJpbGl0eSA9IDFcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0dmFyIHNoYXJlZFZhbHVlc0xlbmd0aCA9IE1hdGgubWluKGEudmFsdWVzID8gYS52YWx1ZXMubGVuZ3RoIDogMCwgYi52YWx1ZXMgPyBiLnZhbHVlcy5sZW5ndGggOiAwKVxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzaGFyZWRWYWx1ZXNMZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoYS52YWx1ZXNbaV0gIT09IGIudmFsdWVzW2ldKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmIChhLmxlbmd0aCA8IGIubGVuZ3RoKSB7XHJcblx0XHRcdGlmIChjb21wYXRpYmlsaXR5ID09PSAxKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdH1cclxuXHRcdFx0Y29tcGF0aWJpbGl0eSA9IC0xXHJcblx0XHR9IGVsc2UgaWYgKGEubGVuZ3RoIDwgYi5sZW5ndGgpIHtcclxuXHRcdFx0aWYgKGNvbXBhdGliaWxpdHkgPT09IC0xKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdH1cclxuXHRcdFx0Y29tcGF0aWJpbGl0eSA9IDFcclxuXHRcdH1cclxuXHRcdC8qaWYgKGEudmFsdWVzLmxlbmd0aCA8IGIudmFsdWVzLmxlbmd0aCkge1xyXG5cdFx0XHRpZiAoY29tcGF0aWJpbGl0eSA9PT0gMSkge1xyXG5cdFx0XHRcdHJldHVybiAtMlxyXG5cdFx0XHR9XHJcblx0XHRcdGNvbXBhdGliaWxpdHkgPSAtMVxyXG5cdFx0fSBlbHNlIGlmIChhLnZhbHVlcy5sZW5ndGggPCBiLnZhbHVlcy5sZW5ndGgpIHtcclxuXHRcdFx0aWYgKGNvbXBhdGliaWxpdHkgPT09IC0xKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdH1cclxuXHRcdFx0Y29tcGF0aWJpbGl0eSA9IDFcclxuXHRcdH0qL1xyXG5cdFx0cmV0dXJuIGNvbXBhdGliaWxpdHlcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIC0yXHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc29sYXRlU3RyaW5nKHN0cmluZykge1xyXG5cdC8vIHRoaXMgaXMgYSB0ZWNobmlxdWUgdG8gZm9yY2VmdWxseSByZWNyZWF0ZSBhIHN0cmluZyBzbyBpdCBpc24ndCBhIHNsaWNlIG9mIGEgbGFyZ2VyIHN0cmluZy4gQmVjYXVzZSBzaGFyZWRcclxuXHQvLyBzdHJ1Y3R1cmVzIGFyZSBsb25nLWxpdmVkIGFuZCBjcmVhdGVkIGZyb20gaW5zdGFuY2Ugc3RydWN0dXJlcyB0aGF0IGFyZSBzaG9ydC1saXZlZCwgdGhlIGxvbmctbGl2ZWQgc21hbGxcclxuXHQvLyBzbGljZWQgc3RyaW5ncyBjYW4gZW5kIHVwIHBpbm5pbmcgKG90aGVyd2lzZSBzaG9ydC1saXZlZCkgbGFyZ2Ugc3RyaW5ncyBpbiBtZW1vcnkuXHJcblx0cmV0dXJuIHN0cmluZy5zbGljZSgwLCAxKSArIHN0cmluZy5zbGljZSgxKVxyXG59XHJcblxyXG4vLyBvcmRlciBwcm9wZXJ0aWVzIGJ5IHRoZWlyIGNvbWVzQWZ0ZXIgbGlzdCwgdG8gZW5zdXJlIGVhY2ggcHJvcGVydGllcyBjb21lcyBhZnRlciBldmVyeXRoaW5nIGluIHRoZWlyIGNvbWVzQWZ0ZXIgbGlzdFxyXG5mdW5jdGlvbiBvcmRlclByb3BlcnRpZXMocHJvcGVydGllcykge1xyXG5cdHZhciBvcmRlcmVkID0gW11cclxuXHR2YXIgdHJhdmVyc2VkID0gbmV3IFNldCgpXHJcblx0ZnVuY3Rpb24gYWRkUHJvcGVydHkocHJvcGVydHkpIHtcclxuXHRcdGlmICh0cmF2ZXJzZWQuaGFzKHByb3BlcnR5KSkgLy8gZG8gdGhpcyBmaXJzdCBpbiBjYXNlIG9mIGNpcmN1bGFyIG9yZGVyaW5nXHJcblx0XHRcdHJldHVyblxyXG5cdFx0dHJhdmVyc2VkLmFkZChwcm9wZXJ0eSlcclxuXHRcdGZvciAodmFyIHByb3BlcnR5QmVmb3JlIG9mIHByb3BlcnR5LmNvbWVzQWZ0ZXIpIHtcclxuXHRcdFx0YWRkUHJvcGVydHkocHJvcGVydHlCZWZvcmUpXHJcblx0XHR9XHJcblx0XHRvcmRlcmVkLnB1c2gocHJvcGVydHkpXHJcblx0fVxyXG5cdGZvciAobGV0IHByb3BlcnR5IG9mIHByb3BlcnRpZXMpIHtcclxuXHRcdGFkZFByb3BlcnR5KHByb3BlcnR5KVxyXG5cdH1cclxuXHRyZXR1cm4gb3JkZXJlZFxyXG59IiwiXCJ1c2Ugc3RyaWN0XCJcclxuY29uc3QgQkxPQ0tfVFlQRSA9IDVcclxudmFyIG1ha2VTeW1ib2wgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyA/IFN5bWJvbCA6IGZ1bmN0aW9uKG5hbWUpIHtcclxuXHRyZXR1cm4gJ3N5bWJvbC0nICsgbmFtZVxyXG59XHJcblxyXG4vKlxyXG5Ud28gdHlwZXMgb2YgYmxvY2tzLCBmcm96ZW4gYW5kIGNvcHktb24td3JpdGVcclxuRnJvemVuIC0gb3JpZ2luYXRpbmcgZnJvbSBKUyBvYmplY3RzXHJcblx0T2JqZWN0LmZyZWV6ZSgpIGpzIG9iamVjdHMgYW5kIHVzZSBzeW1ib2wgZm9yIHNlcmlhbGl6ZWQgcmVwcmVzZW50YXRpb25cclxuRnJvemVuIC0gb3JpZ2luYXRpbmcgZnJvbSBkcGFjaywgbGF6eSBldmFsdWF0aW9uXHJcblx0UHJveHkgLSBnZXQsaGFzLGV0Yy4gdHJpZ2dlcnMgcGFyc2UsIHNldCB0aHJvd3NcclxuQ29weS1vbi13cml0ZSBmcm9tIEpTIG9iamVjdHNcclxuXHRQcm94eSAtIGdldCxoYXMsZXRjLiByZXRyaWV2ZXMgZnJvbSBzb3VyY2UgSlMgb2JqZWN0LCBzZXQgY29waWVzXHJcbkNvcHktb24td3JpdGUgb3JpZ2luYXRpbmcgZnJvbSBkcGFja1xyXG5cdFNhbWVcclxuKi9cclxuXHJcbnZhciBuZXh0VmVyc2lvbiA9IDFcclxudmFyIGJ1ZmZlclN5bWJvbCA9IG1ha2VTeW1ib2woJ2J1ZmZlcicpXHJcbnZhciBzaXplVGFibGVTeW1ib2wgPSBtYWtlU3ltYm9sKCdzaXplVGFibGUnKVxyXG52YXIgaGVhZGVyU3ltYm9sID0gbWFrZVN5bWJvbCgnaGVhZGVyJylcclxudmFyIHBhcnNlZFN5bWJvbCA9IG1ha2VTeW1ib2woJ3BhcnNlZCcpXHJcbnZhciBzaGFyZWRTeW1ib2wgPSBtYWtlU3ltYm9sKCdzaGFyZWQnKVxyXG52YXIgdGFyZ2V0U3ltYm9sID0gbWFrZVN5bWJvbCgndGFyZ2V0JylcclxuY29uc3QgZnJlZXplT2JqZWN0cyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9ICdwcm9kdWN0aW9uJ1xyXG5cclxudmFyIERFRkFVTFRfVFlQRSA9IDZcclxudmFyIEFSUkFZX1RZUEUgPSA3XHJcblxyXG4vKlxyXG5zaXplIHRhYmxlIHNpemUgdHlwZXMgaW4gZmlyc3QgMiBiaXRzOlxyXG5cclxuZmlyc3QgYnl0ZVxyXG4wIC0gbGVhZiBtb2RlLCA2IGJpdCBsZW5ndGhcclxuMSAtIGxlYWYgbW9kZSwgMTQgYml0IGxlbmd0aFxyXG4yIC0gYnJhbmNoL2xlYWYgbW9kZSwgMTQsIDE2LCAxNiBiaXQgb3VyLXNpemUgbGVuZ3RoXHJcbjMgLSBicmFuY2gvbGVhZiBtb2RlLCAzMCwgNDgsIDQ4IGJpdCBvdXItc2l6ZSBsZW5ndGhcclxuKi9cclxuZnVuY3Rpb24gQmxvY2soKSB7fVxyXG52YXIgc2VyaWFsaXplTW9kdWxlID0gcmVxdWlyZSgnLi9zZXJpYWxpemUnKVxyXG5cclxuZXhwb3J0cy5CbG9jayA9IEJsb2NrXHJcbmV4cG9ydHMuYnVmZmVyU3ltYm9sID0gc2VyaWFsaXplTW9kdWxlLmJ1ZmZlclN5bWJvbCA9IGJ1ZmZlclN5bWJvbFxyXG5leHBvcnRzLnBhcnNlZFN5bWJvbCA9IHBhcnNlZFN5bWJvbFxyXG5leHBvcnRzLnNoYXJlZFN5bWJvbCA9IHNoYXJlZFN5bWJvbFxyXG5leHBvcnRzLnRhcmdldFN5bWJvbCA9IHNlcmlhbGl6ZU1vZHVsZS50YXJnZXRTeW1ib2wgPSB0YXJnZXRTeW1ib2xcclxuZXhwb3J0cy5zaXplVGFibGVTeW1ib2wgPSBzZXJpYWxpemVNb2R1bGUuc2l6ZVRhYmxlU3ltYm9sID0gc2l6ZVRhYmxlU3ltYm9sXHJcbnZhciBzZXJpYWxpemUgPSBzZXJpYWxpemVNb2R1bGUuc2VyaWFsaXplXHJcbnZhciBjcmVhdGVTZXJpYWxpemVyID0gc2VyaWFsaXplTW9kdWxlLmNyZWF0ZVNlcmlhbGl6ZXJcclxuZXhwb3J0cy5hc0Jsb2NrID0gYXNCbG9ja1xyXG5mdW5jdGlvbiBhc0Jsb2NrKG9iamVjdCwgc2hhcmVkKSB7XHJcblx0aWYgKG9iamVjdCAmJiBvYmplY3RbdGFyZ2V0U3ltYm9sXSkge1xyXG5cdFx0cmV0dXJuIG9iamVjdCAvLyBhbHJlYWR5IGEgYmxvY2tcclxuXHR9XHJcblx0aWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xyXG5cdFx0Ly8gaWYgdGhlIG9iamVjdCBpcyBhbiBhcnJheSwgbWFrZSB0aGUgdGFnZXQgYW4gYXJyYXkgc28gaXQgcGFzc2VzIEFycmF5LmlzQXJyYXkgY2hlY2tzXHJcblx0XHRsZXQgdGFyZ2V0ID0gW11cclxuXHRcdHRhcmdldC5wYXJzZWQgPSBvYmplY3RcclxuXHRcdHRhcmdldC5zaGFyZWQgPSBzaGFyZWRcclxuXHRcdHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCBvbkRlbWFuZEhhbmRsZXIpXHJcblx0fVxyXG5cdHJldHVybiBuZXcgUHJveHkoe1xyXG5cdFx0cGFyc2VkOiBvYmplY3QsXHJcblx0XHRzaGFyZWQ6IHNoYXJlZFxyXG5cdH0sIG9uRGVtYW5kSGFuZGxlcilcclxufVxyXG5leHBvcnRzLmlzQmxvY2sgPSBpc0Jsb2NrXHJcbmZ1bmN0aW9uIGlzQmxvY2sob2JqZWN0KSB7XHJcblx0cmV0dXJuIG9iamVjdCAmJiBvYmplY3RbdGFyZ2V0U3ltYm9sXVxyXG59XHJcblxyXG5leHBvcnRzLm1ha2VCbG9ja0Zyb21CdWZmZXIgPSBtYWtlQmxvY2tGcm9tQnVmZmVyXHJcbmZ1bmN0aW9uIG1ha2VCbG9ja0Zyb21CdWZmZXIoYnVmZmVyLCBzaGFyZWQpIHtcclxuXHR2YXIgZHBhY2tCdWZmZXIsIHNpemVUYWJsZUJ1ZmZlclxyXG5cdGlmIChidWZmZXJbMF0gPCAweDgwKSB7XHJcblx0XHRkcGFja0J1ZmZlciA9IGJ1ZmZlclxyXG5cdH0gZWxzZSB7IC8vIGEgYnJhbmNoIHR5cGUgd2lsbCBhbHdheXMgYmUgZ3JlYXRlciB0aGFuIDB4ODBcclxuXHRcdHZhciB0eXBlID0gYnVmZmVyWzBdID4+IDZcclxuXHRcdHZhciBkcGFja09mZnNldFxyXG5cdFx0aWYgKHR5cGUgPT09IDIpIHtcclxuXHRcdFx0ZHBhY2tPZmZzZXQgPSBidWZmZXIucmVhZFVJbnQxNkJFKDApICYgMHgzZmZmXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRkcGFja09mZnNldCA9IGJ1ZmZlci5yZWFkVUludDMyQkUoMCkgJiAweDNmZmZmZmZmXHJcblx0XHR9XHJcblx0XHRkcGFja0J1ZmZlciA9IGJ1ZmZlci5zbGljZShkcGFja09mZnNldClcclxuXHRcdHNpemVUYWJsZUJ1ZmZlciA9IGJ1ZmZlci5zbGljZSgwLCBkcGFja09mZnNldClcclxuXHR9XHJcblxyXG5cdHZhciB0YXJnZXQgPSB7XHJcblx0XHRkcGFja0J1ZmZlcjogZHBhY2tCdWZmZXIsXHJcblx0XHRzaXplVGFibGVCdWZmZXI6IHNpemVUYWJsZUJ1ZmZlcixcclxuXHRcdHNoYXJlZDogc2hhcmVkLFxyXG5cdFx0cmVhc3NpZ246IGZ1bmN0aW9uKGJ1ZmZlcikgeyAvLyBUT0RPOiBkb24ndCBjcmVhdGUgZWFjaCB0aW1lXHJcblx0XHRcdHRoaXMuYnVmZmVyID0gYnVmZmVyXHJcblx0XHR9XHJcblx0fVxyXG5cdGJ1ZmZlci5vd25lciA9IHRhcmdldFxyXG5cdHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCBvbkRlbWFuZEhhbmRsZXIpXHJcbn1cclxuXHJcbmV4cG9ydHMuZ2V0TGF6eUhlYWRlciA9IGZ1bmN0aW9uKGJsb2NrKSB7XHJcblx0cmV0dXJuIGJsb2NrW3NpemVUYWJsZVN5bWJvbF1cclxufVxyXG5cclxudmFyIG9uRGVtYW5kSGFuZGxlciA9IHtcclxuXHRnZXQ6IGZ1bmN0aW9uKHRhcmdldCwga2V5KSB7XHJcblx0XHRpZiAoc3BlY2lhbEdldHRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRyZXR1cm4gc3BlY2lhbEdldHRlcnNba2V5XS5jYWxsKHRhcmdldClcclxuXHRcdH1cclxuXHRcdHZhciBwYXJzZWQgPSB0YXJnZXQucGFyc2VkXHJcblx0XHRpZiAoIXBhcnNlZCkge1xyXG5cdFx0XHRwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHBhcnNlZFtrZXldXHJcblx0fSxcclxuXHRzZXQ6IGZ1bmN0aW9uKHRhcmdldCwga2V5LCB2YWx1ZSkge1xyXG5cdFx0Ly8gd2UgYWxsb3cgc3ltYm9scyB0byBzZXQgYXMgYSBmb3JtIG9mIG1ldGFkYXRhIG9iamVjdHMgZXZlbiB0aG91Z2ggdGhlIG1haW4gc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgYXJlIGZyb3plblxyXG5cdFx0aWYgKHR5cGVvZiBrZXkgPT09ICdzeW1ib2wnKSB7XHJcblx0XHRcdHRhcmdldFtrZXldID0gdmFsdWVcclxuXHRcdFx0bWFrZVN5bWJvbEdldHRlcihrZXkpXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHR9XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ05vIGNoYW5nZXMgYXJlIGFsbG93ZWQgb24gZnJvemVuIHBhcnNlZCBvYmplY3QsIFVzZSBkcGFjayBjb3B5KCkgZnVuY3Rpb24gdG8gbW9kaWZ5JylcclxuXHR9LFxyXG5cdGRlbGV0ZVByb3BlcnR5OiBmdW5jdGlvbigpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignTm8gY2hhbmdlcyBhcmUgYWxsb3dlZCBvbiBmcm96ZW4gcGFyc2VkIG9iamVjdCwgVXNlIGRwYWNrIGNvcHkoKSBmdW5jdGlvbiB0byBtb2RpZnknKVxyXG5cdH0sXHJcblx0Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiBmdW5jdGlvbih0YXJnZXQsIGtleSkge1xyXG5cdFx0dmFyIHBhcnNlZCA9IGdldFBhcnNlZCh0YXJnZXQpXHJcblx0XHRyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwYXJzZWQsIGtleSlcclxuXHR9LFxyXG5cdGhhczogZnVuY3Rpb24odGFyZ2V0LCBrZXkpIHtcclxuXHRcdHZhciBwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIGtleSBpbiBwYXJzZWRcclxuXHR9LFxyXG5cdG93bktleXM6IGZ1bmN0aW9uKHRhcmdldCkge1xyXG5cdFx0dmFyIHBhcnNlZCA9IGdldFBhcnNlZCh0YXJnZXQpXHJcblx0XHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKHBhcnNlZClcclxuXHRcdGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcclxuXHRcdFx0a2V5cy5wdXNoKCdsZW5ndGgnKVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGtleXNcclxuXHR9LFxyXG5cdGdldFByb3RvdHlwZU9mOiBmdW5jdGlvbih0YXJnZXQpIHtcclxuXHRcdHZhciBwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJzZWQpXHJcblx0fVxyXG59XHJcblxyXG5leHBvcnRzLnJlYXNzaWduQnVmZmVycyA9IHJlYXNzaWduQnVmZmVyc1xyXG5mdW5jdGlvbiByZWFzc2lnbkJ1ZmZlcnMoYmxvY2ssIG5ld1BhcmVudE5vZGVCdWZmZXIsIHBhcmVudEFycmF5QnVmZmVyKSB7XHJcblx0XHQvLyBpZiBhIGJ1ZmZlciBuZWVkcyB0byBiZSBtb3ZlZCB0byBhIG5ldyBidWZmZXIgZHVlIHRvIGl0IHNvb24gYmVpbmcgbm8gbG9uZ2VyIHJlZmVyZW5jZWFibGUsIHdlIGNhbiByZWZlcmVuY2UgdGhlIG5ldyBjb3B5XHJcblx0XHR2YXIgdGFyZ2V0ID0gYmxvY2tbdGFyZ2V0U3ltYm9sXVxyXG5cdFx0dmFyIGJ1ZmZlciA9IHRhcmdldC5kcGFja0J1ZmZlclxyXG5cdFx0aWYgKCFwYXJlbnRBcnJheUJ1ZmZlcilcclxuXHRcdFx0cGFyZW50QXJyYXlCdWZmZXIgPSBidWZmZXIuYnVmZmVyXHJcblx0XHRpZiAoYnVmZmVyICYmIGJ1ZmZlci5idWZmZXIgPT09IHBhcmVudEFycmF5QnVmZmVyKSB7XHJcblx0XHRcdHZhciBieXRlT2Zmc2V0ID0gYnVmZmVyLmJ5dGVPZmZzZXRcclxuXHRcdFx0dGFyZ2V0LmRwYWNrQnVmZmVyID0gbmV3UGFyZW50Tm9kZUJ1ZmZlci5zbGljZShieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgYnVmZmVyLmxlbmd0aClcclxuXHRcdH1cclxuXHRcdHZhciBidWZmZXIgPSB0YXJnZXQuc2l6ZVRhYmxlQnVmZmVyXHJcblx0XHRpZiAoYnVmZmVyICYmIGJ1ZmZlci5idWZmZXIgPT09IHBhcmVudEFycmF5QnVmZmVyKSB7XHJcblx0XHRcdHZhciBieXRlT2Zmc2V0ID0gYnVmZmVyLmJ5dGVPZmZzZXRcclxuXHRcdFx0dGFyZ2V0LnNpemVUYWJsZUJ1ZmZlciA9IG5ld1BhcmVudE5vZGVCdWZmZXIuc2xpY2UoYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGJ1ZmZlci5sZW5ndGgpXHJcblx0XHR9XHJcblx0XHRpZiAodGFyZ2V0LnBhcnNlZCkge1xyXG5cdFx0XHR2YXIgcGFyc2VkID0gdGFyZ2V0LnBhcnNlZFxyXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gcGFyc2VkKSB7XHJcblx0XHRcdFx0dmFyIHZhbHVlID0gcGFyc2VkW2tleV1cclxuXHRcdFx0XHRpZiAoaXNCbG9jayh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdHJlYXNzaWduQnVmZmVycyh2YWx1ZSwgbmV3UGFyZW50Tm9kZUJ1ZmZlciwgcGFyZW50QXJyYXlCdWZmZXIpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxudmFyIGNvcHlPbldyaXRlSGFuZGxlciA9IHtcclxuXHRnZXQ6IGZ1bmN0aW9uKHRhcmdldCwga2V5KSB7XHJcblx0XHRpZiAoc3BlY2lhbEdldHRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRyZXR1cm4gc3BlY2lhbEdldHRlcnNba2V5XS5jYWxsKHRhcmdldClcclxuXHRcdH1cclxuXHRcdHZhciBjYWNoZWRQYXJzZWQgPSB0YXJnZXQuY2FjaGVkUGFyc2VkXHJcblx0XHRpZiAoY2FjaGVkUGFyc2VkICYmIGNhY2hlZFBhcnNlZC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICEoa2V5ID09ICdsZW5ndGgnICYmIEFycmF5LmlzQXJyYXkoY2FjaGVkUGFyc2VkKSkpIHtcclxuXHRcdFx0cmV0dXJuIGNhY2hlZFBhcnNlZFtrZXldXHJcblx0XHR9XHJcblx0XHR2YXIgcGFyc2VkID0gdGFyZ2V0LnBhcnNlZFxyXG5cdFx0aWYgKCFwYXJzZWQpIHtcclxuXHRcdFx0cGFyc2VkID0gZ2V0UGFyc2VkKHRhcmdldClcclxuXHRcdH1cclxuXHRcdHZhciB2YWx1ZSA9IHBhcnNlZFtrZXldXHJcblx0XHQvKmlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcclxuXHRcdFx0aWYgKCFjYWNoZWRQYXJzZWQpIHtcclxuXHRcdFx0XHR0YXJnZXQuY2FjaGVkUGFyc2VkID0gY2FjaGVkUGFyc2VkID0gcGFyc2VkIGluc3RhbmNlb2YgQXJyYXkgPyBbXSA6IHt9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHZhbHVlIGluc3RhbmNlb2YgTWFwKVxyXG5cdFx0XHRcdGNhY2hlZFBhcnNlZFtrZXldID0gdmFsdWVcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGNhY2hlZFBhcnNlZFtrZXldID0gdmFsdWUgPSBjb3B5V2l0aFBhcmVudCh2YWx1ZSwgdGFyZ2V0KVxyXG5cdFx0fSovXHJcblx0XHRpZiAodmFsdWUgJiYgdmFsdWVbdGFyZ2V0U3ltYm9sXSkge1xyXG5cdFx0XHRpZiAoIWNhY2hlZFBhcnNlZCkge1xyXG5cdFx0XHRcdHRhcmdldC5jYWNoZWRQYXJzZWQgPSBjYWNoZWRQYXJzZWQgPSBwYXJzZWQgaW5zdGFuY2VvZiBBcnJheSA/IFtdIDoge31cclxuXHRcdFx0fVxyXG5cdFx0XHRjYWNoZWRQYXJzZWRba2V5XSA9IHZhbHVlID0gY29weVdpdGhQYXJlbnQodmFsdWUsIHRhcmdldClcclxuXHRcdH1cclxuXHRcdHJldHVybiB2YWx1ZVxyXG5cdH0sXHJcblx0Y2hhbmdlZDogZnVuY3Rpb24odGFyZ2V0KSB7XHJcblx0XHR0YXJnZXQuZHBhY2tCdWZmZXIgPSBudWxsXHJcblx0XHR0YXJnZXQuc2l6ZVRhYmxlQnVmZmVyID0gbnVsbFxyXG5cdFx0dGFyZ2V0LnNoYXJlZCA9IG51bGxcclxuXHRcdHZhciBwYXJzZWQgPSB0YXJnZXQucGFyc2VkXHJcblx0XHRpZiAoIXBhcnNlZCkge1xyXG5cdFx0XHRwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0fVxyXG5cdFx0aWYgKCF0YXJnZXQuY29waWVkKSB7XHJcblx0XHRcdHZhciBjYWNoZWRQYXJzZWQgPSB0YXJnZXQuY2FjaGVkUGFyc2VkXHJcblx0XHRcdHZhciBjb3BpZWQgPSB0YXJnZXQucGFyc2VkID0gdGFyZ2V0LmNhY2hlZFBhcnNlZCA9IHBhcnNlZCBpbnN0YW5jZW9mIEFycmF5ID8gW10gOiB7fVxyXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gcGFyc2VkKSB7XHJcblx0XHRcdFx0dmFyIHZhbHVlID0gY2FjaGVkUGFyc2VkICYmIGNhY2hlZFBhcnNlZFtrZXldXHJcblx0XHRcdFx0aWYgKCF2YWx1ZSkge1xyXG5cdFx0XHRcdFx0dmFsdWUgPSBwYXJzZWRba2V5XVxyXG5cdFx0XHRcdFx0aWYgKHZhbHVlICYmIHZhbHVlW3RhcmdldFN5bWJvbF0pIHtcclxuXHRcdFx0XHRcdFx0dmFsdWUgPSBjb3B5V2l0aFBhcmVudCh2YWx1ZSwgdGFyZ2V0KVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjb3BpZWRba2V5XSA9IHZhbHVlXHJcblx0XHRcdH1cclxuXHRcdFx0cGFyc2VkID0gY29waWVkXHJcblx0XHRcdHRhcmdldC5jb3BpZWQgPSB0cnVlXHJcblx0XHR9XHJcblx0XHR0YXJnZXQudmVyc2lvbiA9IG5leHRWZXJzaW9uKytcclxuXHRcdHJldHVybiBwYXJzZWRcclxuXHR9LFxyXG5cdGNoZWNrVmVyc2lvbjogZnVuY3Rpb24odGFyZ2V0KSB7XHJcblx0XHR2YXIgY2FjaGVkUGFyc2VkID0gdGFyZ2V0LmNhY2hlZFBhcnNlZFxyXG5cdFx0bGV0IHZlcnNpb24gPSB0YXJnZXQudmVyc2lvbiB8fCAwXHJcblx0XHRpZiAoY2FjaGVkUGFyc2VkKSB7XHJcblx0XHRcdGZvciAobGV0IGtleSBpbiBjYWNoZWRQYXJzZWQpIHtcclxuXHRcdFx0XHR2YXIgdmFsdWUgPSBjYWNoZWRQYXJzZWRba2V5XVxyXG5cdFx0XHRcdGlmICh2YWx1ZSAmJiB2YWx1ZVt0YXJnZXRTeW1ib2xdKSB7XHJcblx0XHRcdFx0XHR2ZXJzaW9uID0gTWF0aC5tYXgodmVyc2lvbiwgdGhpcy5jaGVja1ZlcnNpb24odmFsdWVbdGFyZ2V0U3ltYm9sXSkpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAodmVyc2lvbiAhPSAodGFyZ2V0LnZlcnNpb24gfHwgMCkpIHtcclxuXHRcdFx0dGhpcy5jaGFuZ2VkKHRhcmdldClcclxuXHRcdFx0dGFyZ2V0LnZlcnNpb24gPSB2ZXJzaW9uXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdmVyc2lvblxyXG5cdH0sXHJcblx0c2V0OiBmdW5jdGlvbih0YXJnZXQsIGtleSwgdmFsdWUsIHByb3h5KSB7XHJcblx0XHRpZiAoc3BlY2lhbFNldHRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRzcGVjaWFsU2V0dGVyc1trZXldLmNhbGwodGFyZ2V0LCB2YWx1ZSlcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdH1cclxuXHRcdHZhciBwYXJzZWQgPSBjb3B5T25Xcml0ZUhhbmRsZXIuY2hhbmdlZCh0YXJnZXQpXHJcblx0XHRwYXJzZWRba2V5XSA9IHZhbHVlXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cdH0sXHJcblx0ZGVsZXRlUHJvcGVydHk6IGZ1bmN0aW9uKHRhcmdldCwga2V5KSB7XHJcblx0XHR2YXIgcGFyc2VkID0gY29weU9uV3JpdGVIYW5kbGVyLmNoYW5nZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIGRlbGV0ZSBwYXJzZWRba2V5XVxyXG5cdH0sXHJcblx0Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiBmdW5jdGlvbih0YXJnZXQsIGtleSkge1xyXG5cdFx0dmFyIHBhcnNlZCA9IGdldFBhcnNlZCh0YXJnZXQpXHJcblx0XHRyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwYXJzZWQsIGtleSlcclxuXHR9LFxyXG5cdGhhczogZnVuY3Rpb24odGFyZ2V0LCBrZXkpIHtcclxuXHRcdHZhciBwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIGtleSBpbiBwYXJzZWRcclxuXHR9LFxyXG5cdG93bktleXM6IGZ1bmN0aW9uKHRhcmdldCkge1xyXG5cdFx0dmFyIHBhcnNlZCA9IGdldFBhcnNlZCh0YXJnZXQpXHJcblx0XHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKHBhcnNlZClcclxuXHRcdGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcclxuXHRcdFx0a2V5cy5wdXNoKCdsZW5ndGgnKVxyXG5cdFx0fVxyXG5cdFx0aWYgKHRhcmdldC5jb3BpZWQpIHtcclxuXHRcdFx0Zm9yICh2YXIga2V5IGluIHRhcmdldC5jb3BpZWQpIHtcclxuXHRcdFx0XHRpZiAoa2V5cy5pbmRleE9mKGtleSkgPT09IC0xKSB7XHJcblx0XHRcdFx0XHRrZXlzLnB1c2goa2V5KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGtleXNcclxuXHR9LFxyXG5cdGdldFByb3RvdHlwZU9mOiBmdW5jdGlvbih0YXJnZXQpIHtcclxuXHRcdHZhciBwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJzZWQpXHJcblx0fVxyXG59XHJcblxyXG52YXIgc3BlY2lhbEdldHRlcnMgPSB7XHJcbn1cclxuc3BlY2lhbEdldHRlcnNbYnVmZmVyU3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiBmdW5jdGlvbihwcm9wZXJ0eSwgcmFuZG9tQWNjZXNzKSB7XHJcblx0XHR2YXIgcHJvcGVydHlJc1NoYXJlZCA9IHByb3BlcnR5ICYmIHByb3BlcnR5LnVwZ3JhZGVcclxuXHRcdHZhciBidWZmZXJcclxuXHJcblx0XHRpZiAodGhpcy5jYWNoZWRQYXJzZWQgJiYgdGhpcy5kcGFja0J1ZmZlcikge1xyXG5cdFx0XHRjb3B5T25Xcml0ZUhhbmRsZXIuY2hlY2tWZXJzaW9uKHRoaXMpXHJcblx0XHR9XHJcblx0XHRpZiAoISh0aGlzLnNoYXJlZCAmJiB0aGlzLnNoYXJlZC51cGdyYWRlKSAmJiBwcm9wZXJ0eUlzU2hhcmVkKSB7XHJcblx0XHRcdGlmICh0aGlzLmRwYWNrQnVmZmVyKSB7XHJcblx0XHRcdFx0Ly8gaWYgdGhlIGJsb2NrIGhhcyBiZWVuIHNlcmlhbGl6ZWQgd2l0aG91dCBhIHNoYXJlZCBzdHJ1Y3R1cmUsIGFuZCBpdCB3aWxsIGJlIHVzZWQgaW4gYSBzaGFyZWQgc3RydWN0dXJlLFxyXG5cdFx0XHRcdC8vIHdlIHB1dCBpdCBpbiBhIHNlcGFyYXRlIHByb3BlcnR5XHJcblx0XHRcdFx0dGhpcy5zaXplVGFibGVCdWZmZXIgPSBudWxsXHJcblx0XHRcdFx0cmV0dXJuIGluU2VwYXJhdGVQcm9wZXJ0eSh0aGlzLmRwYWNrQnVmZmVyLCB0cnVlKVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBnZXRTZXJpYWxpemVkKHRoaXMsIHRoaXMuc2hhcmVkID0gcHJvcGVydHkpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmICghdGhpcy5kcGFja0J1ZmZlcikge1xyXG5cdFx0XHRnZXRTZXJpYWxpemVkKHRoaXMsIHRoaXMuc2hhcmVkKVxyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuc2hhcmVkICYmIHRoaXMuc2hhcmVkLnVwZ3JhZGUgJiYgdGhpcy5zaGFyZWQgIT09IHByb3BlcnR5KSB7XHJcblx0XHRcdHZhciBjb21wYXRpYmlsaXR5ID0gdGhpcy5zaGFyZWQudXBncmFkZShwcm9wZXJ0eSwgcmFuZG9tQWNjZXNzKVxyXG5cdFx0XHRpZiAoY29tcGF0aWJpbGl0eSA+IDApIHtcclxuXHRcdFx0XHQvLyBpZiB0aGUgcHJvcGVydHkgdXBncmFkZSB3YXMgaW5jb21wYXRpYmxlLCB3ZSBoYXZlIHRvIGluY2x1ZGVkIHRoZSBzaGFyZWQgc3RydWN0dXJlLCBhbmQgZm9yY2Ugc2VxdWVudGlhbCByZWFkaW5nXHJcblx0XHRcdFx0dGhpcy5zaXplVGFibGVCdWZmZXIgPSBudWxsXHJcblx0XHRcdFx0dmFyIHNoYXJlZEJ1ZmZlciA9IHRoaXMuc2hhcmVkLnNlcmlhbGl6ZWRcclxuXHRcdFx0XHRpZiAoc2hhcmVkQnVmZmVyLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdGlmIChjb21wYXRpYmlsaXR5ID09IDIgJiYgIShwcm9wZXJ0eS5pc0Zyb3plbiAmJiBwcm9wZXJ0eS5yZXNldFRvID09PSAwKSlcclxuXHRcdFx0XHRcdFx0c2hhcmVkQnVmZmVyID0gaW5TZXBhcmF0ZVByb3BlcnR5KHNoYXJlZEJ1ZmZlcilcclxuXHRcdFx0XHRcdGJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoW3NoYXJlZEJ1ZmZlciwgdGhpcy5kcGFja0J1ZmZlcl0pXHJcblx0XHRcdFx0XHRidWZmZXIubXVzdFNlcXVlbmNlID0gdHJ1ZVxyXG5cdFx0XHRcdFx0cmV0dXJuIGJ1ZmZlclxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRpZiAoIXByb3BlcnR5SXNTaGFyZWQpIHtcclxuXHRcdFx0XHQvLyBuZWVkIHRvIHJlc2V0IHRoaXMgcHJvcGVydHksIGlmIGl0IGlzIGEgcGxhaW4gc2VxdWVudGlhbCBwcm9wZXJ0eVxyXG5cdFx0XHRcdHByb3BlcnR5Lmxlbmd0aCA9IDBcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAocHJvcGVydHkuaW5zZXJ0ZWRGcm9tKVxyXG5cdFx0XHRcdHByb3BlcnR5Lmluc2VydGVkRnJvbSA9IG51bGxcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLmRwYWNrQnVmZmVyXHJcblxyXG5cdFx0ZnVuY3Rpb24gaW5TZXBhcmF0ZVByb3BlcnR5KGRwYWNrQnVmZmVyKSB7XHJcblx0XHRcdHZhciBzZXJpYWxpemVyID0gY3JlYXRlU2VyaWFsaXplcigpXHJcblx0XHRcdHZhciBpc0FycmF5ID0gZHBhY2tCdWZmZXJbMF0gPT09IDExOVxyXG5cdFx0XHR2YXIgd3JpdGVUb2tlbiA9IHNlcmlhbGl6ZXIuZ2V0V3JpdGVycygpLndyaXRlVG9rZW5cclxuXHRcdFx0aWYgKGlzQXJyYXkpIHtcclxuXHRcdFx0XHRkcGFja0J1ZmZlciA9IGRwYWNrQnVmZmVyLnNsaWNlKDEpIC8vIHJlcGxhY2luZyB0aGUgcHJvcGVydHkgZGVjbGFyYXRpb25cclxuXHRcdFx0fVxyXG5cdFx0XHR3cml0ZVRva2VuKDAsIDEwMDApLy8gdXNlIGEgaG9wZWZ1bGx5IHVudXNlZCBzbG90IChzaG91bGQgYmUgdW51c2VkLCBibG9jayBhbHdheXMgaGFzIGEgc2luZ2xlIGluaXRpYWwgc3RhcnRpbmcgc2xvdClcclxuXHRcdFx0d3JpdGVUb2tlbigzLCBpc0FycmF5ID8gQVJSQVlfVFlQRSA6IERFRkFVTFRfVFlQRSkgLy8gcHJvcGVydHkgdHlwZVxyXG5cdFx0XHRpZiAocHJvcGVydHkgJiYgcHJvcGVydHkua2V5ICE9PSBudWxsKVxyXG5cdFx0XHRcdHNlcmlhbGl6ZXIuc2VyaWFsaXplKHByb3BlcnR5LmtleSlcclxuXHRcdFx0ZHBhY2tCdWZmZXIgPSBCdWZmZXIuY29uY2F0KFtzZXJpYWxpemVyLmdldFNlcmlhbGl6ZWQoKSwgZHBhY2tCdWZmZXJdKVxyXG5cdFx0XHRkcGFja0J1ZmZlci5tdXN0U2VxdWVuY2UgPSB0cnVlXHJcblx0XHRcdHJldHVybiBkcGFja0J1ZmZlclxyXG5cdFx0fVxyXG5cclxuXHR9LmJpbmQodGhpcylcclxufVxyXG5zcGVjaWFsR2V0dGVyc1t0YXJnZXRTeW1ib2xdID0gZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXNcclxufVxyXG5zcGVjaWFsR2V0dGVyc1tzaGFyZWRTeW1ib2xdID0gZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXMuc2hhcmVkXHJcbn1cclxuc3BlY2lhbEdldHRlcnNbcGFyc2VkU3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzLnBhcnNlZCB8fCBnZXRQYXJzZWQodGhpcylcclxufVxyXG5zcGVjaWFsR2V0dGVyc1tzaXplVGFibGVTeW1ib2xdID0gZnVuY3Rpb24oKSB7XHJcblx0aWYgKCF0aGlzLmRwYWNrQnVmZmVyKSB7XHJcblx0XHRnZXRTZXJpYWxpemVkKHRoaXMpXHJcblx0fVxyXG5cdHJldHVybiB0aGlzLnNpemVUYWJsZUJ1ZmZlclxyXG59XHJcbnNwZWNpYWxHZXR0ZXJzLnRoZW4gPSBmdW5jdGlvbigpIHtcclxuXHQvLyByZXR1cm4gdW5kZWZpbmVkLCB0aGlzIGlzIG5vdCBhIHByb21pc2VcclxufVxyXG5zcGVjaWFsR2V0dGVycy50b0pTT04gPSBmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdmFsdWVPZlxyXG59XHJcblxyXG5zcGVjaWFsR2V0dGVycy52YWx1ZU9mID0gZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHZhbHVlT2ZcclxufVxyXG5zcGVjaWFsR2V0dGVycy5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIGVudHJpZXNcclxufVxyXG5mdW5jdGlvbiBlbnRyaWVzKCkge1xyXG5cdHJldHVybiB0aGlzW3BhcnNlZFN5bWJvbF0uZW50cmllcygpXHJcbn1cclxuc3BlY2lhbEdldHRlcnNbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xyXG5cdHZhciBwYXJzZWQgPSB0aGlzLnBhcnNlZCB8fCBnZXRQYXJzZWQodGhpcylcclxuXHRyZXR1cm4gcGFyc2VkICYmIHBhcnNlZFtTeW1ib2wuaXRlcmF0b3JdICYmIGl0ZXJhdG9yXHJcbn1cclxuZnVuY3Rpb24gaXRlcmF0b3IoKSB7XHJcblx0dmFyIHBhcnNlZCA9IHRoaXNbcGFyc2VkU3ltYm9sXVxyXG5cdHJldHVybiBwYXJzZWQgJiYgcGFyc2VkW1N5bWJvbC5pdGVyYXRvcl0gPyBwYXJzZWRbU3ltYm9sLml0ZXJhdG9yXSgpIDogW11bU3ltYm9sLml0ZXJhdG9yXSgpXHJcbn1cclxuc3BlY2lhbEdldHRlcnMuY29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcclxuXHRpZiAodGhpcy5wYXJzZWQpIHtcclxuXHRcdHJldHVybiB0aGlzLnBhcnNlZC5jb25zdHJ1Y3RvclxyXG5cdH1cclxuXHQvLyB0aGlzIGlzIGEgZmFzdCBwYXRoIGZvciBnZXR0aW5nIHRoZSBjb25zdHJ1Y3RvciB3aXRob3V0IGhhdmluZyB0byBwYXJzZS4gdGhpcyBpcyBpbXBvcnRhbnRcclxuXHQvLyBhcyBpdCBlbmFibGVzIGJsb2NrcyB0byBiZSBnbyB0aHJvdWdoIHRoZSBzZXJpYWxpemVyLCBoYXZlIGl0IGNoZWNrIHRoZSBjb25zdHJ1Y3Rvciwgd2l0aG91dFxyXG5cdC8vIHJlcXVpcmluZyBwYXJzaW5nLCBhbmQgdGhlbiB0aGV5IGNhbiBiZSBkaXJlY3RseSB3cml0dGVuIGZyb20gdGhlaXIgYmluYXJ5IGJ1ZmZlclxyXG5cdGlmICh0aGlzLmRwYWNrQnVmZmVyKSB7XHJcblx0XHRsZXQgZmlyc3RCeXRlID0gdGhpcy5kcGFja0J1ZmZlclswXVxyXG5cdFx0aWYgKGZpcnN0Qnl0ZSA+PSA0OCAmJiBmaXJzdEJ5dGUgPD0gNjApIHtcclxuXHRcdFx0Ly8gc2VxdWVuY2VcclxuXHRcdFx0aWYgKHRoaXMuc2hhcmVkKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMuc2hhcmVkLmNvZGUgPT0gREVGQVVMVF9UWVBFKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gT2JqZWN0XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnNoYXJlZC5jb2RlID09IEFSUkFZX1RZUEUpIHtcclxuXHRcdFx0XHRcdHJldHVybiBBcnJheVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gT2JqZWN0XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAoZmlyc3RCeXRlID09PSAxMTkpIHtcclxuXHRcdFx0cmV0dXJuIEFycmF5XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBnZXRQYXJzZWQodGhpcykuY29uc3RydWN0b3JcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIG1ha2VTeW1ib2xHZXR0ZXIoc3ltYm9sKSB7XHJcblx0aWYgKCFzcGVjaWFsR2V0dGVyc1tzeW1ib2xdKVxyXG5cdFx0c3BlY2lhbEdldHRlcnNbc3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpc1tzeW1ib2xdXHJcblx0XHR9XHJcbn1cclxuZnVuY3Rpb24gdmFsdWVPZigpIHtcclxuXHRyZXR1cm4gdGhpc1twYXJzZWRTeW1ib2xdXHJcbn1cclxuZnVuY3Rpb24gY29weShzb3VyY2UpIHtcclxuXHRyZXR1cm4gY29weVdpdGhQYXJlbnQoc291cmNlKVxyXG59XHJcbmZ1bmN0aW9uIGNvcHlXaXRoUGFyZW50KHNvdXJjZSwgcGFyZW50KSB7XHJcblx0aWYgKCFpc0Jsb2NrKHNvdXJjZSkpIHtcclxuXHRcdC8qaWYgKHNvdXJjZSAmJiB0eXBlb2Ygc291cmNlID09ICdvYmplY3QnKVxyXG5cdFx0XHRzb3VyY2UgPSBhc0Jsb2NrKHNvdXJjZSlcclxuXHRcdGVsc2UqL1xyXG5cdFx0XHRyZXR1cm4gc291cmNlXHJcblx0fVxyXG5cdGxldCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShzb3VyY2UpXHJcblx0bGV0IHRhcmdldCA9IGlzQXJyYXkgPyBbXSA6IHt9XHJcblx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCB7XHJcblx0XHRwYXJzZWQ6IHtcclxuXHRcdFx0Z2V0KCkge1xyXG5cdFx0XHRcdHJldHVybiBzb3VyY2VbcGFyc2VkU3ltYm9sXVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzZXQodmFsdWUpIHtcclxuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3BhcnNlZCcsIHtcclxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcclxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0sXHJcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHRcdH0sXHJcblx0XHRzaGFyZWQ6IHtcclxuXHRcdFx0Z2V0KCkge1xyXG5cdFx0XHRcdHJldHVybiBzb3VyY2Vbc2hhcmVkU3ltYm9sXVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzZXQodmFsdWUpIHtcclxuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3NoYXJlZCcsIHtcclxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcclxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0dGhpcy5kcGFja0J1ZmZlciA9IG51bGxcclxuXHRcdFx0XHR0aGlzLnNpemVUYWJsZUJ1ZmZlciA9IG51bGxcclxuXHRcdFx0fSxcclxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxyXG5cdFx0fSxcclxuXHRcdGRwYWNrQnVmZmVyOiB7XHJcblx0XHRcdGdldCgpIHtcclxuXHRcdFx0XHRyZXR1cm4gc291cmNlW3RhcmdldFN5bWJvbF0uZHBhY2tCdWZmZXJcclxuXHRcdFx0fSxcclxuXHRcdFx0c2V0KHZhbHVlKSB7XHJcblx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdkcGFja0J1ZmZlcicsIHtcclxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcclxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0sXHJcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHRcdH0sXHJcblx0XHRzaXplVGFibGVCdWZmZXI6IHtcclxuXHRcdFx0Z2V0KCkge1xyXG5cdFx0XHRcdHJldHVybiBzb3VyY2Vbc2l6ZVRhYmxlU3ltYm9sXVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzZXQodmFsdWUpIHtcclxuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3NpemVUYWJsZUJ1ZmZlcicsIHtcclxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcclxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0sXHJcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHRcdH1cclxuXHR9KVxyXG5cdGlmIChpc0FycmF5KSB7XHJcblx0XHRPYmplY3QuZGVmaW5lXHJcblx0fVxyXG5cdHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCBjb3B5T25Xcml0ZUhhbmRsZXIpXHJcbn1cclxuZXhwb3J0cy5jb3B5ID0gY29weVxyXG5cclxudmFyIHNwZWNpYWxTZXR0ZXJzID0ge1xyXG59XHJcbi8qc3BlY2lhbFNldHRlcnNbc2hhcmVkU3ltYm9sXSA9IGZ1bmN0aW9uKHNoYXJlZCkge1xyXG5cdHJldHVybiB0aGlzLnNoYXJlZCA9IHNoYXJlZFxyXG59Ki9cclxuXHJcbmZ1bmN0aW9uIGdldFBhcnNlZCh0YXJnZXQpIHtcclxuXHR2YXIgcGFyc2VkID0gdGFyZ2V0LnBhcnNlZFxyXG5cdGlmIChwYXJzZWQpXHJcblx0XHRyZXR1cm4gcGFyc2VkXHJcblx0Ly8gd2UgY2hlY2sgdG8gc2VlIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBibG9ja3MgdGhhdCBzaG91bGQgYmUgZGVmZXJyZWQgaW50byBzZXBhcmF0ZSBibG9ja3NcclxuXHR2YXIgc2l6ZVRhYmxlQnVmZmVyID0gdGFyZ2V0LnNpemVUYWJsZUJ1ZmZlclxyXG5cdHZhciBkcGFja0J1ZmZlciA9IHRhcmdldC5kcGFja0J1ZmZlclxyXG5cdGlmICghc2l6ZVRhYmxlQnVmZmVyKSB7XHJcblx0XHQvLyBubyBjaGlsZCBibG9ja3MsIGp1c3QgZHBhY2ssIHNvIGRpcmVjdGx5IHBhcnNlXHJcblx0XHRyZXR1cm4gdGFyZ2V0LnBhcnNlZCA9IHBhcnNlKGRwYWNrQnVmZmVyLCB7XHJcblx0XHRcdGZyZWV6ZU9iamVjdHM6IGZyZWV6ZU9iamVjdHMsXHJcblx0XHRcdHNoYXJlZDogdGFyZ2V0LnNoYXJlZFxyXG5cdFx0fSlcclxuXHR9XHJcblx0dmFyIHRvdGFsU2l6ZVRhYmxlTGVuZ3RoID0gc2l6ZVRhYmxlQnVmZmVyLmxlbmd0aFxyXG5cdHZhciB0b3RhbERQYWNrTGVuZ3RoXHJcblx0dmFyIHJvb3RCbG9ja0xlbmd0aFxyXG5cdHZhciB0eXBlID0gc2l6ZVRhYmxlQnVmZmVyWzBdID4+IDZcclxuXHR2YXIgb2Zmc2V0XHJcblx0aWYgKHR5cGUgPT09IDIpIHtcclxuXHRcdHJvb3RCbG9ja0xlbmd0aCA9IHNpemVUYWJsZUJ1ZmZlci5yZWFkVUludDE2QkUoNClcclxuXHRcdG9mZnNldCA9IDZcclxuXHR9IGVsc2Uge1xyXG5cdFx0cm9vdEJsb2NrTGVuZ3RoID0gc2l6ZVRhYmxlQnVmZmVyLnJlYWRVSW50QkUoMTAsIDYpXHJcblx0XHRvZmZzZXQgPSAxNlxyXG5cdH1cclxuXHQvLyByZWFkIGNoaWxkIGJsb2NrIGxlbmd0aHM6IChjb3VsZCBkZWZlciB0aGlzIHVudGlsIGNoaWxkIGFjY2VzcylcclxuXHR2YXIgY2hpbGRTaXplVGFibGVzID0gW11cclxuXHR2YXIgY2hpbGREcGFja0Jsb2NrcyA9IFtdXHJcblx0dmFyIGRwYWNrQ2hpbGRPZmZzZXQgPSByb290QmxvY2tMZW5ndGhcclxuXHR3aGlsZSAob2Zmc2V0IDwgdG90YWxTaXplVGFibGVMZW5ndGgpIHtcclxuXHRcdHZhciB0eXBlID0gc2l6ZVRhYmxlQnVmZmVyW29mZnNldF0gPj4gNlxyXG5cdFx0dmFyIHNpemVUYWJsZUxlbmd0aFxyXG5cdFx0dmFyIGRwYWNrTGVuZ3RoXHJcblx0XHRpZiAodHlwZSA8IDIpIHsgLy8gbGVhZiBub2RlXHJcblx0XHRcdGlmICh0eXBlID09IDApIHtcclxuXHRcdFx0XHQvLyA2IGJpdFxyXG5cdFx0XHRcdHNpemVUYWJsZUxlbmd0aCA9IDFcclxuXHRcdFx0XHRkcGFja0xlbmd0aCA9IHNpemVUYWJsZUJ1ZmZlcltvZmZzZXRdXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gMTQgYml0XHJcblx0XHRcdFx0c2l6ZVRhYmxlTGVuZ3RoID0gMlxyXG5cdFx0XHRcdGRwYWNrTGVuZ3RoID0gc2l6ZVRhYmxlQnVmZmVyLnJlYWRVSW50MTZCRShvZmZzZXQpICYgMHgzZmZmXHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gMikge1xyXG5cdFx0XHRzaXplVGFibGVMZW5ndGggPSBzaXplVGFibGVCdWZmZXIucmVhZFVJbnQxNkJFKG9mZnNldCkgJiAweDNmZmZcclxuXHRcdFx0ZHBhY2tMZW5ndGggPSBzaXplVGFibGVCdWZmZXIucmVhZFVJbnQxNkJFKG9mZnNldCArIDIpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzaXplVGFibGVMZW5ndGggPSBzaXplVGFibGVCdWZmZXIucmVhZFVJbnQzMkJFKG9mZnNldCkgJiAweDNmZmZmZmZmXHJcblx0XHRcdGRwYWNrTGVuZ3RoID0gc2l6ZVRhYmxlQnVmZmVyLnJlYWRVSW50QkUob2Zmc2V0ICsgNCwgNilcclxuXHRcdH1cclxuXHRcdGNoaWxkU2l6ZVRhYmxlcy5wdXNoKHR5cGUgPCAyIHx8XHJcblx0XHRcdCh0eXBlID09IDMgJiYgc2l6ZVRhYmxlTGVuZ3RoID09IDE2KSA/IC8vIHR5cGUgMyB3aXRoIGEgbGVuZ3RoIG9mIDE2IGlzIGEgbG9uZyBsZWFmIG5vZGVcclxuXHRcdFx0dW5kZWZpbmVkIDogc2l6ZVRhYmxlQnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgc2l6ZVRhYmxlTGVuZ3RoKSlcclxuXHRcdG9mZnNldCArPSBzaXplVGFibGVMZW5ndGhcclxuXHRcdGNoaWxkRHBhY2tCbG9ja3MucHVzaChkcGFja0J1ZmZlci5zbGljZShkcGFja0NoaWxkT2Zmc2V0LCBkcGFja0NoaWxkT2Zmc2V0ICs9IGRwYWNrTGVuZ3RoKSlcclxuXHR9XHJcblx0dmFyIGJsb2NrSW5kZXggPSAwXHJcblx0dmFyIHJvb3RCbG9jayA9IHRhcmdldC5kcGFja0J1ZmZlci5zbGljZSgwLCByb290QmxvY2tMZW5ndGgpXHJcblx0cmV0dXJuIHRhcmdldC5wYXJzZWQgPSBwYXJzZShyb290QmxvY2ssIGNoaWxkRHBhY2tCbG9ja3MubGVuZ3RoID4gMCA/IHsgLy8gaWYgbm8gY2hpbGQgYmxvY2tzLCB1c2Ugbm9ybWFsIGRlZmVycmVkIHBhcnNpbmdcclxuXHRcdHNoYXJlZDogdGFyZ2V0LnNoYXJlZCxcclxuXHRcdGZvckRlZmVycmVkOiBmdW5jdGlvbih2YWx1ZSwgcHJvcGVydHkpIHtcclxuXHRcdFx0bGV0IHRhcmdldCA9IG5ldyB2YWx1ZS5jb25zdHJ1Y3RvclxyXG5cdFx0XHR0YXJnZXQuZHBhY2tCdWZmZXIgPSBjaGlsZERwYWNrQmxvY2tzW2Jsb2NrSW5kZXhdXHJcblx0XHRcdHRhcmdldC5zaXplVGFibGVCdWZmZXIgPSBjaGlsZFNpemVUYWJsZXNbYmxvY2tJbmRleCsrXVxyXG5cdFx0XHR0YXJnZXQuc2hhcmVkID0gcHJvcGVydHkgP1xyXG5cdFx0XHRcdFx0cHJvcGVydHkudXBncmFkZSA/XHJcblx0XHRcdFx0XHRcdHByb3BlcnR5IDpcclxuXHRcdFx0XHRcdFx0eyBjb2RlOiBwcm9wZXJ0eS5jb2RlLCBrZXk6IG51bGwsIHR5cGU6IHByb3BlcnR5LnR5cGUgfSA6XHJcblx0XHRcdFx0XHRudWxsXHJcblx0XHRcdHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCBvbkRlbWFuZEhhbmRsZXIpXHJcblx0XHR9LFxyXG5cdFx0ZnJlZXplT2JqZWN0czogZnJlZXplT2JqZWN0c1xyXG5cdH0gOiB7XHJcblx0XHRzaGFyZWQ6IHRhcmdldC5zaGFyZWRcclxuXHR9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTZXJpYWxpemVkKHRhcmdldCwgc2hhcmVQcm9wZXJ0eSkge1xyXG5cdHZhciBjaGlsZEJsb2NrcyA9IFtdXHJcblx0dmFyIGNoaWxkU2l6ZVRhYmxlcyA9IFtdXHJcblx0dmFyIGNoaWxkRHBhY2tTaXplcyA9IDBcclxuXHR2YXIgbXVzdFNlcXVlbmNlIC8vIG11c3RTZXF1ZW5jZSBpcyBhbiBpbmRpY2F0aW9uIHRoYXQgdGhlIGJsb2NrcyBtdXN0IGJlIHJlYWQgaW4gc2VxdWVuY2UgYW5kIGNhbid0IGJlIHJhbmRvbWx5IGFjY2Vzc2VkXHJcblx0dmFyIHNlcmlhbGl6ZXJPcHRpb25zID0ge1xyXG5cdFx0Zm9yQmxvY2s6IGZ1bmN0aW9uKGJsb2NrLCBwcm9wZXJ0eSkge1xyXG5cdFx0XHR2YXIgZHBhY2tCdWZmZXIgPSBibG9ja1tidWZmZXJTeW1ib2xdKHByb3BlcnR5LCB0cnVlKVxyXG5cdFx0XHRpZiAoZHBhY2tCdWZmZXIubXVzdFNlcXVlbmNlKSB7XHJcblx0XHRcdFx0bXVzdFNlcXVlbmNlID0gdHJ1ZVxyXG5cdFx0XHRcdGNoaWxkQmxvY2tzLnB1c2goZHBhY2tCdWZmZXIpXHJcblx0XHRcdFx0cmV0dXJuIGRwYWNrQnVmZmVyXHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHNpemVUYWJsZUJ1ZmZlciA9IGJsb2NrW3NpemVUYWJsZVN5bWJvbF1cclxuXHRcdFx0aWYgKCFzaXplVGFibGVCdWZmZXIpIHtcclxuXHRcdFx0XHQvLyBpZiB0aGlzIGNoaWxkIGhhcyBubyBjaGlsZHJlbiwgaXQgd29uJ3QgaGF2ZSBoYXZlIHNpemUgdGFibGUsIGp1c3QgY3JlYXRlIGEgbGVhZiBicmFuY2ggYnVmZmVyXHJcblx0XHRcdFx0dmFyIGJ1ZmZlckxlbmd0aCA9IGRwYWNrQnVmZmVyLmxlbmd0aFxyXG5cdFx0XHRcdGlmIChidWZmZXJMZW5ndGggPCA2NCkge1xyXG5cdFx0XHRcdFx0Ly8gb25lIGJ5dGUgbGVhZiBub2RlXHJcblx0XHRcdFx0XHRzaXplVGFibGVCdWZmZXIgPSBCdWZmZXIuZnJvbShbYnVmZmVyTGVuZ3RoXSlcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGJ1ZmZlckxlbmd0aCA8IDB4NDAwMCkge1xyXG5cdFx0XHRcdFx0Ly8gYmluYXJ5LTEwIGFuZCB0aGVuIDE0IGJpdHNcclxuXHRcdFx0XHRcdHNpemVUYWJsZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFsoYnVmZmVyTGVuZ3RoID4+IDgpIHwgMHg0MCwgYnVmZmVyTGVuZ3RoICYgMHhmZl0pXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHNpemVUYWJsZUJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgxNilcclxuXHRcdFx0XHRcdHNpemVUYWJsZUJ1ZmZlci53cml0ZVVJbnQzMkJFKDB4YzAwMDAwMTApIC8vIGJpbmFyeS0xMSBhbmQgdGhlbiBpbmRpY2F0ZSBhIHNpemUgb2YgMTZcclxuXHRcdFx0XHRcdHNpemVUYWJsZUJ1ZmZlci53cml0ZVVJbnRCRShidWZmZXJMZW5ndGgsIDQsIDYpXHJcblx0XHRcdFx0XHRzaXplVGFibGVCdWZmZXIud3JpdGVVSW50QkUoYnVmZmVyTGVuZ3RoLCAxMCwgNilcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Y2hpbGRTaXplVGFibGVzLnB1c2goc2l6ZVRhYmxlQnVmZmVyKVxyXG5cdFx0XHRjaGlsZERwYWNrU2l6ZXMgKz0gZHBhY2tCdWZmZXIubGVuZ3RoXHJcblx0XHRcdGNoaWxkQmxvY2tzLnB1c2goZHBhY2tCdWZmZXIpXHJcblx0XHRcdHJldHVybiBkcGFja0J1ZmZlclxyXG5cdFx0fSxcclxuXHRcdHNoYXJlZDogc2hhcmVQcm9wZXJ0eSxcclxuXHRcdGZyZWV6ZU9iamVjdHM6IGZyZWV6ZU9iamVjdHNcclxuXHR9XHJcblx0dmFyIHJvb3RCbG9jayA9IHNlcmlhbGl6ZSh0YXJnZXQucGFyc2VkLCBzZXJpYWxpemVyT3B0aW9ucylcclxuXHRpZiAoY2hpbGRCbG9ja3MubGVuZ3RoID09IDApIHtcclxuXHRcdC8vIG5vIGNoaWxkIGJsb2NrcywganVzdCB1c2UgdGhlIHJvb3QgYmxvY2tcclxuXHRcdHJldHVybiB0YXJnZXQuZHBhY2tCdWZmZXIgPSByb290QmxvY2tcclxuXHR9XHJcblx0Y2hpbGRCbG9ja3MudW5zaGlmdChyb290QmxvY2spXHJcblx0Ly8gVE9ETzogRG8gd29yZCBhbGlnbWVudCB3aXRoIGFueSBidWZmZXIgY29weWluZywgdG8gbWFrZSBzdXJlIENQVSBjYW4gY29weSB3b3JkcyBpbnN0ZWFkIG9mIGJ5dGVzXHJcblx0dmFyIGRwYWNrQnVmZmVyID0gdGFyZ2V0LmRwYWNrQnVmZmVyID0gQnVmZmVyLmNvbmNhdChjaGlsZEJsb2NrcylcclxuXHRpZiAobXVzdFNlcXVlbmNlKSB7XHJcblx0XHRyZXR1cm4gZHBhY2tCdWZmZXJcclxuXHR9XHJcblx0dmFyIG91clNpemVCbG9jayA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShkcGFja0J1ZmZlci5sZW5ndGggPj0gMHgxMDAwMCA/IDE2IDogNilcclxuXHRjaGlsZFNpemVUYWJsZXMudW5zaGlmdChvdXJTaXplQmxvY2spXHJcblx0Ly8gVE9ETzogQWRkIGxlbmd0aCBwYXJhbWV0ZXIgdG8gY29uY2F0IHNvIGl0IGlzIGxlbmd0aCAlIDggPSAwXHJcblx0b3VyU2l6ZUJsb2NrID0gdGFyZ2V0LnNpemVUYWJsZUJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoY2hpbGRTaXplVGFibGVzKVxyXG5cdGlmIChkcGFja0J1ZmZlci5sZW5ndGggPj0gMHgxMDAwMCkgeyAvLyB8fCBvdXJTaXplQmxvY2subGVuZ3RoID4gMHg0MDAwXHJcblx0XHRvdXJTaXplQmxvY2sud3JpdGVVSW50MzJCRShvdXJTaXplQmxvY2subGVuZ3RoICsgMHhjMDAwMDAwMCwgMCkgLy8gYmluYXJ5LTExIGFuZCB0aGVuIDMwIGJpdHNcclxuXHRcdG91clNpemVCbG9jay53cml0ZVVJbnRCRShkcGFja0J1ZmZlci5sZW5ndGgsIDQsIDYpIC8vIDQ4IGJpdHNcclxuXHRcdG91clNpemVCbG9jay53cml0ZVVJbnRCRShyb290QmxvY2subGVuZ3RoLCAxMCwgNikgLy8gNDggYml0c1xyXG5cdH0gZWxzZSB7XHJcblx0XHRvdXJTaXplQmxvY2sud3JpdGVVSW50MTZCRShvdXJTaXplQmxvY2subGVuZ3RoIHwgMHg4MDAwLCAwKSAvLyBiaW5hcnktMTAgYW5kIHRoZW4gMTQgYml0c1xyXG5cdFx0b3VyU2l6ZUJsb2NrLndyaXRlVUludDE2QkUoZHBhY2tCdWZmZXIubGVuZ3RoLCAyKSAvLyAxNiBiaXRzXHJcblx0XHRvdXJTaXplQmxvY2sud3JpdGVVSW50MTZCRShyb290QmxvY2subGVuZ3RoLCA0KSAvLyAxNiBiaXRzXHJcblxyXG5cdH1cclxuXHRyZXR1cm4gZHBhY2tCdWZmZXJcclxufVxyXG5cclxuZnVuY3Rpb24gZGVlcENvcHkoc291cmNlKSB7XHJcblx0bGV0IHRhcmdldCA9IG5ldyBzb3VyY2UuY29uc3RydWN0b3IoKVxyXG5cdGZvciAobGV0IGtleSBpbiBzb3VyY2UpIHtcclxuXHRcdGxldCB2YWx1ZSA9IHNvdXJjZVtrZXldXHJcblx0XHRpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnKVxyXG5cdFx0XHR2YWx1ZSA9IGRlZXBDb3B5KHZhbHVlKVxyXG5cdFx0dGFyZ2V0W2tleV0gPSB2YWx1ZVxyXG5cdH1cclxuXHRyZXR1cm4gdGFyZ2V0XHJcbn1cclxudmFyIHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpLnBhcnNlXHJcbnZhciBzZXJpYWxpemVTaGFyZWRCbG9jayA9IHJlcXVpcmUoJy4vc2hhcmVkJykuc2VyaWFsaXplU2hhcmVkQmxvY2tcclxuXHJcbmV4cG9ydHMucGFyc2VMYXp5ID0gZnVuY3Rpb24oYnVmZmVyLCBvcHRpb25zKSB7XHJcblx0aWYgKChidWZmZXJbMF0gJiAweDgwKSB8fCAvLyBzdGFydHMgd2l0aCBzaXplIHRhYmxlXHJcblx0XHQoYnVmZmVyWzBdID4+IDQgPT09IDMpIHx8IC8vIHNlcXVlbmNlIChvYmplY3QpXHJcblx0XHQoYnVmZmVyWzBdID09PSAweDc3KSkgeyAvLyBhcnJheSB0eXBlXHJcblx0XHRyZXR1cm4gbWFrZUJsb2NrRnJvbUJ1ZmZlcihidWZmZXIsIG9wdGlvbnMgJiYgb3B0aW9ucy5zaGFyZWQpXHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBwYXJzZShidWZmZXIsIG9wdGlvbnMpXHJcblx0fVxyXG59XHJcbiIsIi8qXHJcbkRQYWNrIC0gRmFzdCwgY29tcGFjdCBvYmplY3Qgc3RydWN0dXJlIGVuY29kaW5nLlxyXG4qL1xyXG5cclxuZXhwb3J0cy5jcmVhdGVTZXJpYWxpemVTdHJlYW0gPSByZXF1aXJlKCcuL2xpYi9zZXJpYWxpemUtc3RyZWFtJykuY3JlYXRlU2VyaWFsaXplU3RyZWFtXHJcbmV4cG9ydHMuY3JlYXRlUGFyc2VTdHJlYW0gPSByZXF1aXJlKCcuL2xpYi9wYXJzZS1zdHJlYW0nKS5jcmVhdGVQYXJzZVN0cmVhbVxyXG5jb25zdCBzZXJpYWxpemUgPSByZXF1aXJlKCcuL2xpYi9zZXJpYWxpemUnKVxyXG5zZXJpYWxpemUubm9kZUNoYXJFbmNvZGVyID0gcmVxdWlyZSgnLi9saWIvbm9kZS1lbmNvZGVyJykubm9kZUNoYXJFbmNvZGVyXHJcbmNvbnN0IHBhcnNlID0gcmVxdWlyZSgnLi9saWIvcGFyc2UnKVxyXG5jb25zdCBPcHRpb25zID0gcmVxdWlyZSgnLi9saWIvT3B0aW9ucycpLk9wdGlvbnNcclxuXHJcbmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplLnNlcmlhbGl6ZVxyXG5leHBvcnRzLnBhcnNlID0gcGFyc2UucGFyc2VcclxuZXhwb3J0cy5jcmVhdGVTZXJpYWxpemVyID0gc2VyaWFsaXplLmNyZWF0ZVNlcmlhbGl6ZXJcclxuZXhwb3J0cy5jcmVhdGVQYXJzZXIgPSBwYXJzZS5jcmVhdGVQYXJzZXJcclxuY29uc3QgQmxvY2sgPSByZXF1aXJlKCcuL2xpYi9CbG9jaycpXHJcbmV4cG9ydHMucGFyc2VMYXp5ID0gQmxvY2sucGFyc2VMYXp5XHJcbmV4cG9ydHMuYXNCbG9jayA9IEJsb2NrLmFzQmxvY2tcclxuZXhwb3J0cy5pc0Jsb2NrID0gQmxvY2suaXNCbG9ja1xyXG5leHBvcnRzLmNvcHkgPSBCbG9jay5jb3B5XHJcbmV4cG9ydHMucmVhc3NpZ25CdWZmZXJzID0gQmxvY2sucmVhc3NpZ25CdWZmZXJzXHJcbmV4cG9ydHMuT3B0aW9ucyA9IE9wdGlvbnNcclxuZXhwb3J0cy5jcmVhdGVTaGFyZWRTdHJ1Y3R1cmUgPSByZXF1aXJlKCcuL2xpYi9zaGFyZWQnKS5jcmVhdGVTaGFyZWRTdHJ1Y3R1cmVcclxuZXhwb3J0cy5yZWFkU2hhcmVkU3RydWN0dXJlID0gcmVxdWlyZSgnLi9saWIvc2hhcmVkJykucmVhZFNoYXJlZFN0cnVjdHVyZVxyXG4iLCJmdW5jdGlvbiBjYXBpdGFsaXplKHdvcmQpIHtcbiAgICByZXR1cm4gYCR7d29yZC5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpfSR7d29yZC5zbGljZSgxKS50b0xvd2VyQ2FzZSgpfWA7XG59XG5leHBvcnQgZnVuY3Rpb24gVU5TVVBQT1JURURfRk9STUFUKGZvcm1hdCkge1xuICAgIHJldHVybiBgVW5zdXBwb3J0ZWQgc2VyaWFsaXphdGlvbiBmb3JtYXQ6ICR7Zm9ybWF0fWA7XG59XG5leHBvcnQgZnVuY3Rpb24gRklMRVNZU1RFTV9OT1RfU1VQUE9SVEVEX09OX1JVTlRJTUUocnVudGltZSkge1xuICAgIHJldHVybiBgRmlsZXN5c3RlbSBhY2Nlc3MgaXMgbm90IHN1cHBvcnRlZCBvbiAke2NhcGl0YWxpemUocnVudGltZSl9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBNRVRIT0RfTU9WRUQobWV0aG9kKSB7XG4gICAgcmV0dXJuIGBGdW5jdGlvbiAke21ldGhvZH0gaGFzIGJlZW4gbW92ZWQgdG8gdGhlIFwiL3NlcnZlclwiIG1vZHVsZS4gXFxuXFxuSW1wb3J0IGl0IHZpYSBcImltcG9ydCB7ICR7bWV0aG9kfSB9IGZyb20gJ29yYW1hL3BsdWdpbi1kYXRhLXBlcnNpc3RlbmNlL3NlcnZlcidcIi4gXFxuXFxuUmVhZCBtb3JlIGF0IGh0dHBzOi8vZG9jcy5vcmFtYXNlYXJjaC5jb20vb3Blbi1zb3VyY2UvcGx1Z2lucy9wbHVnaW4tZGF0YS1wZXJzaXN0ZW5jZS5gO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGRldGVjdFJ1bnRpbWUoKSB7XG4gICAgLyogYzggaWdub3JlIG5leHQgMTEgKi8gaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLnZlcnNpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuICdub2RlJztcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFwiRGVub1wiIGdsb2JhbCB2YXJpYWJsZSBpcyBkZWZpbmVkIGluIERlbm8gb25seVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIERlbm8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiAnZGVubyc7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBcIkJ1blwiIGdsb2JhbCB2YXJpYWJsZSBpcyBkZWZpbmVkIGluIEJ1biBvbmx5XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgQnVuICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gJ2J1bic7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gJ2Jyb3dzZXInO1xuICAgIH1cbiAgICByZXR1cm4gJ3Vua25vd24nO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiLCJpbXBvcnQgeyBkZWNvZGUsIGVuY29kZSB9IGZyb20gJ0Btc2dwYWNrL21zZ3BhY2snO1xuaW1wb3J0IHsgY3JlYXRlLCBsb2FkLCBzYXZlIH0gZnJvbSAnQG9yYW1hL29yYW1hJztcbi8vIEB0cy1leHBlY3QtZXJyb3IgZHBhY2sgZG9lcyBub3QgZXhwb3NlIHR5cGVzXG5pbXBvcnQgKiBhcyBkcGFjayBmcm9tICdkcGFjayc7XG5pbXBvcnQgeyBNRVRIT0RfTU9WRUQsIFVOU1VQUE9SVEVEX0ZPUk1BVCB9IGZyb20gJy4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGRldGVjdFJ1bnRpbWUgfSBmcm9tICcuL3V0aWxzLmpzJztcbmNvbnN0IGhleEZyb21NYXAgPSB7XG4gICAgMDogMCxcbiAgICAxOiAxLFxuICAgIDI6IDIsXG4gICAgMzogMyxcbiAgICA0OiA0LFxuICAgIDU6IDUsXG4gICAgNjogNixcbiAgICA3OiA3LFxuICAgIDg6IDgsXG4gICAgOTogOSxcbiAgICBhOiAxMCxcbiAgICBiOiAxMSxcbiAgICBjOiAxMixcbiAgICBkOiAxMyxcbiAgICBlOiAxNCxcbiAgICBmOiAxNVxufTtcbmNvbnN0IGhleFRvTWFwID0gT2JqZWN0LmtleXMoaGV4RnJvbU1hcCk7XG4vKiBjOCBpZ25vcmUgbmV4dCAxMyAqLyBmdW5jdGlvbiBzbG93SGV4VG9CdWZmZXIoaGV4KSB7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShNYXRoLmZsb29yKGhleC5sZW5ndGggLyAyKSk7XG4gICAgaGV4ID0gaGV4LnRvTG93ZXJDYXNlKCk7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGhleC5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IGEgPSBoZXhGcm9tTWFwW2hleFtpICogMl1dO1xuICAgICAgICBjb25zdCBiID0gaGV4RnJvbU1hcFtoZXhbaSAqIDIgKyAxXV07XG4gICAgICAgIGlmIChhID09PSB1bmRlZmluZWQgfHwgYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBieXRlc1tpXSA9IGEgPDwgNCB8IGI7XG4gICAgfVxuICAgIHJldHVybiBieXRlcztcbn1cbi8qIGM4IGlnbm9yZSBuZXh0IDUgKi8gZnVuY3Rpb24gc2xvd0hleFRvU3RyaW5nKGJ5dGVzKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYnl0ZXMgfHwgW10pLm1hcCgoYik9PmhleFRvTWFwW2IgPj4gNF0gKyBoZXhUb01hcFtiICYgMTVdKS5qb2luKCcnKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwZXJzaXN0KGRiLCBmb3JtYXQgPSAnYmluYXJ5JywgcnVudGltZSkge1xuICAgIGlmICghcnVudGltZSkge1xuICAgICAgICBydW50aW1lID0gZGV0ZWN0UnVudGltZSgpO1xuICAgIH1cbiAgICBjb25zdCBkYkV4cG9ydCA9IGF3YWl0IHNhdmUoZGIpO1xuICAgIGxldCBzZXJpYWxpemVkO1xuICAgIHN3aXRjaChmb3JtYXQpe1xuICAgICAgICBjYXNlICdqc29uJzpcbiAgICAgICAgICAgIHNlcmlhbGl6ZWQgPSBKU09OLnN0cmluZ2lmeShkYkV4cG9ydCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZHBhY2snOlxuICAgICAgICAgICAgc2VyaWFsaXplZCA9IGRwYWNrLnNlcmlhbGl6ZShkYkV4cG9ydCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtc2dwYWNrID0gZW5jb2RlKGRiRXhwb3J0KTtcbiAgICAgICAgICAgICAgICBpZiAocnVudGltZSA9PT0gJ25vZGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlcmlhbGl6ZWQgPSBCdWZmZXIuZnJvbShtc2dwYWNrLmJ1ZmZlciwgbXNncGFjay5ieXRlT2Zmc2V0LCBtc2dwYWNrLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemVkID0gc2VyaWFsaXplZC50b1N0cmluZygnaGV4Jyk7XG4gICAgICAgICAgICAgICAgLyogYzggaWdub3JlIG5leHQgMyAqLyB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemVkID0gc2xvd0hleFRvU3RyaW5nKG1zZ3BhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFVOU1VQUE9SVEVEX0ZPUk1BVChmb3JtYXQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzdG9yZShmb3JtYXQsIGRhdGEsIHJ1bnRpbWUpIHtcbiAgICBpZiAoIXJ1bnRpbWUpIHtcbiAgICAgICAgcnVudGltZSA9IGRldGVjdFJ1bnRpbWUoKTtcbiAgICB9XG4gICAgY29uc3QgZGIgPSBhd2FpdCBjcmVhdGUoe1xuICAgICAgICBzY2hlbWE6IHtcbiAgICAgICAgICAgIF9fcGxhY2Vob2xkZXI6ICdzdHJpbmcnXG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgZGVzZXJpYWxpemVkO1xuICAgIHN3aXRjaChmb3JtYXQpe1xuICAgICAgICBjYXNlICdqc29uJzpcbiAgICAgICAgICAgIGRlc2VyaWFsaXplZCA9IEpTT04ucGFyc2UoZGF0YS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkcGFjayc6XG4gICAgICAgICAgICBkZXNlcmlhbGl6ZWQgPSBkcGFjay5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICAgICAgaWYgKHJ1bnRpbWUgPT09ICdub2RlJykge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBCdWZmZXIuZnJvbShkYXRhLnRvU3RyaW5nKCksICdoZXgnKTtcbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBuZXh0IDMgKi8gfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gc2xvd0hleFRvQnVmZmVyKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVzZXJpYWxpemVkID0gZGVjb2RlKGRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoVU5TVVBQT1JURURfRk9STUFUKGZvcm1hdCkpO1xuICAgIH1cbiAgICBhd2FpdCBsb2FkKGRiLCBkZXNlcmlhbGl6ZWQpO1xuICAgIHJldHVybiBkYjtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwZXJzaXN0VG9GaWxlKGRiLCBmb3JtYXQgPSAnYmluYXJ5JywgcGF0aCwgcnVudGltZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihNRVRIT0RfTU9WRUQoJ3BlcnNpc3RUb0ZpbGUnKSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzdG9yZUZyb21GaWxlKGZvcm1hdCA9ICdiaW5hcnknLCBwYXRoLCBydW50aW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKE1FVEhPRF9NT1ZFRCgncmVzdG9yZUZyb21GaWxlJykpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBDYWxsYmFja01hbmFnZXIsIHBhcnNlQ2FsbGJhY2tDb25maWdBcmcsIH0gZnJvbSBcIi4uL2NhbGxiYWNrcy9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuL3J1bm5hYmxlL2luZGV4LmpzXCI7XG4vKipcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIGEgRG9jdW1lbnQgcmV0cmlldmFsIHN5c3RlbS4gQSByZXRyaWV2YWwgc3lzdGVtXG4gKiBpcyBkZWZpbmVkIGFzIHNvbWV0aGluZyB0aGF0IGNhbiB0YWtlIHN0cmluZyBxdWVyaWVzIGFuZCByZXR1cm4gdGhlXG4gKiBtb3N0ICdyZWxldmFudCcgRG9jdW1lbnRzIGZyb20gc29tZSBzb3VyY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlUmV0cmlldmVyIGV4dGVuZHMgUnVubmFibGUge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjYWxsYmFja3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGFnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXRhZGF0YVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2ZXJib3NlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gZmllbGRzPy5jYWxsYmFja3M7XG4gICAgICAgIHRoaXMudGFncyA9IGZpZWxkcz8udGFncyA/PyBbXTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IGZpZWxkcz8ubWV0YWRhdGEgPz8ge307XG4gICAgICAgIHRoaXMudmVyYm9zZSA9IGZpZWxkcz8udmVyYm9zZSA/PyBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVE9ETzogVGhpcyBzaG91bGQgYmUgYW4gYWJzdHJhY3QgbWV0aG9kLCBidXQgd2UnZCBsaWtlIHRvIGF2b2lkIGJyZWFraW5nXG4gICAgICogY2hhbmdlcyB0byBwZW9wbGUgY3VycmVudGx5IHVzaW5nIHN1YmNsYXNzZWQgY3VzdG9tIHJldHJpZXZlcnMuXG4gICAgICogQ2hhbmdlIGl0IG9uIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICAgKi9cbiAgICBfZ2V0UmVsZXZhbnREb2N1bWVudHMoX3F1ZXJ5LCBfY2FsbGJhY2tzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZCFcIik7XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZWxldmFudERvY3VtZW50cyhpbnB1dCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1haW4gbWV0aG9kIHVzZWQgdG8gcmV0cmlldmUgcmVsZXZhbnQgZG9jdW1lbnRzLiBJdCB0YWtlcyBhIHF1ZXJ5XG4gICAgICogc3RyaW5nIGFuZCBhbiBvcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdCwgYW5kIHJldHVybnMgYSBwcm9taXNlIHRoYXRcbiAgICAgKiByZXNvbHZlcyB0byBhbiBhcnJheSBvZiBgRG9jdW1lbnRgIG9iamVjdHMuIFRoaXMgbWV0aG9kIGhhbmRsZXMgdGhlXG4gICAgICogcmV0cmlldmFsIHByb2Nlc3MsIGluY2x1ZGluZyBzdGFydGluZyBhbmQgZW5kaW5nIGNhbGxiYWNrcywgYW5kIGVycm9yXG4gICAgICogaGFuZGxpbmcuXG4gICAgICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSBzdHJpbmcgdG8gcmV0cmlldmUgcmVsZXZhbnQgZG9jdW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciB0aGUgcmV0cmlldmFsIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXJyYXkgb2YgYERvY3VtZW50YCBvYmplY3RzLlxuICAgICAqL1xuICAgIGFzeW5jIGdldFJlbGV2YW50RG9jdW1lbnRzKHF1ZXJ5LCBjb25maWcpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkQ29uZmlnID0gcGFyc2VDYWxsYmFja0NvbmZpZ0FyZyhjb25maWcpO1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShwYXJzZWRDb25maWcuY2FsbGJhY2tzLCB0aGlzLmNhbGxiYWNrcywgcGFyc2VkQ29uZmlnLnRhZ3MsIHRoaXMudGFncywgcGFyc2VkQ29uZmlnLm1ldGFkYXRhLCB0aGlzLm1ldGFkYXRhLCB7IHZlcmJvc2U6IHRoaXMudmVyYm9zZSB9KTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZVJldHJpZXZlclN0YXJ0KHRoaXMudG9KU09OKCksIHF1ZXJ5LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHBhcnNlZENvbmZpZy5ydW5OYW1lKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLl9nZXRSZWxldmFudERvY3VtZW50cyhxdWVyeSwgcnVuTWFuYWdlcik7XG4gICAgICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVSZXRyaWV2ZXJFbmQocmVzdWx0cyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZVJldHJpZXZlckVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZVJldHJpZXZlciB9IGZyb20gXCIuLi9zY2hlbWEvcmV0cmlldmVyLmpzXCI7XG5pbXBvcnQgeyBTZXJpYWxpemFibGUgfSBmcm9tIFwiLi4vbG9hZC9zZXJpYWxpemFibGUuanNcIjtcbi8qKlxuICogQ2xhc3MgZm9yIHBlcmZvcm1pbmcgZG9jdW1lbnQgcmV0cmlldmFsIGZyb20gYSBWZWN0b3JTdG9yZS4gQ2FuIHBlcmZvcm1cbiAqIHNpbWlsYXJpdHkgc2VhcmNoIG9yIG1heGltYWwgbWFyZ2luYWwgcmVsZXZhbmNlIHNlYXJjaC5cbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvclN0b3JlUmV0cmlldmVyIGV4dGVuZHMgQmFzZVJldHJpZXZlciB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlZlY3RvclN0b3JlUmV0cmlldmVyXCI7XG4gICAgfVxuICAgIGdldCBsY19uYW1lc3BhY2UoKSB7XG4gICAgICAgIHJldHVybiBbXCJsYW5nY2hhaW5cIiwgXCJyZXRyaWV2ZXJzXCIsIFwiYmFzZVwiXTtcbiAgICB9XG4gICAgX3ZlY3RvcnN0b3JlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVjdG9yU3RvcmUuX3ZlY3RvcnN0b3JlVHlwZSgpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmVjdG9yU3RvcmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwia1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogNFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2VhcmNoVHlwZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJzaW1pbGFyaXR5XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlYXJjaEt3YXJnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmaWx0ZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZWN0b3JTdG9yZSA9IGZpZWxkcy52ZWN0b3JTdG9yZTtcbiAgICAgICAgdGhpcy5rID0gZmllbGRzLmsgPz8gdGhpcy5rO1xuICAgICAgICB0aGlzLnNlYXJjaFR5cGUgPSBmaWVsZHMuc2VhcmNoVHlwZSA/PyB0aGlzLnNlYXJjaFR5cGU7XG4gICAgICAgIHRoaXMuZmlsdGVyID0gZmllbGRzLmZpbHRlcjtcbiAgICAgICAgaWYgKGZpZWxkcy5zZWFyY2hUeXBlID09PSBcIm1tclwiKSB7XG4gICAgICAgICAgICB0aGlzLnNlYXJjaEt3YXJncyA9IGZpZWxkcy5zZWFyY2hLd2FyZ3M7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2dldFJlbGV2YW50RG9jdW1lbnRzKHF1ZXJ5LCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGlmICh0aGlzLnNlYXJjaFR5cGUgPT09IFwibW1yXCIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy52ZWN0b3JTdG9yZS5tYXhNYXJnaW5hbFJlbGV2YW5jZVNlYXJjaCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgdmVjdG9yIHN0b3JlIGJhY2tpbmcgdGhpcyByZXRyaWV2ZXIsICR7dGhpcy5fdmVjdG9yc3RvcmVUeXBlKCl9IGRvZXMgbm90IHN1cHBvcnQgbWF4IG1hcmdpbmFsIHJlbGV2YW5jZSBzZWFyY2guYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52ZWN0b3JTdG9yZS5tYXhNYXJnaW5hbFJlbGV2YW5jZVNlYXJjaChxdWVyeSwge1xuICAgICAgICAgICAgICAgIGs6IHRoaXMuayxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHRoaXMuZmlsdGVyLFxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2VhcmNoS3dhcmdzLFxuICAgICAgICAgICAgfSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoXCJ2ZWN0b3JzdG9yZVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmVjdG9yU3RvcmUuc2ltaWxhcml0eVNlYXJjaChxdWVyeSwgdGhpcy5rLCB0aGlzLmZpbHRlciwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoXCJ2ZWN0b3JzdG9yZVwiKSk7XG4gICAgfVxuICAgIGFzeW5jIGFkZERvY3VtZW50cyhkb2N1bWVudHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVjdG9yU3RvcmUuYWRkRG9jdW1lbnRzKGRvY3VtZW50cywgb3B0aW9ucyk7XG4gICAgfVxufVxuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyByZXByZXNlbnRpbmcgYSBzdG9yZSBvZiB2ZWN0b3JzLiBQcm92aWRlcyBtZXRob2RzIGZvclxuICogYWRkaW5nIHZlY3RvcnMgYW5kIGRvY3VtZW50cywgZGVsZXRpbmcgZnJvbSB0aGUgc3RvcmUsIGFuZCBzZWFyY2hpbmdcbiAqIHRoZSBzdG9yZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvclN0b3JlIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0cnVjdG9yKGVtYmVkZGluZ3MsIGRiQ29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGRiQ29uZmlnKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJ2ZWN0b3JzdG9yZXNcIiwgdGhpcy5fdmVjdG9yc3RvcmVUeXBlKCldXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJlbWJlZGRpbmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZW1iZWRkaW5ncyA9IGVtYmVkZGluZ3M7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgYXN5bmMgZGVsZXRlKF9wYXJhbXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gICAgYXN5bmMgc2ltaWxhcml0eVNlYXJjaChxdWVyeSwgayA9IDQsIGZpbHRlciA9IHVuZGVmaW5lZCwgX2NhbGxiYWNrcyA9IHVuZGVmaW5lZCAvLyBpbXBsZW1lbnQgcGFzc2luZyB0byBlbWJlZFF1ZXJ5IGxhdGVyXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLnNpbWlsYXJpdHlTZWFyY2hWZWN0b3JXaXRoU2NvcmUoYXdhaXQgdGhpcy5lbWJlZGRpbmdzLmVtYmVkUXVlcnkocXVlcnkpLCBrLCBmaWx0ZXIpO1xuICAgICAgICByZXR1cm4gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gcmVzdWx0WzBdKTtcbiAgICB9XG4gICAgYXN5bmMgc2ltaWxhcml0eVNlYXJjaFdpdGhTY29yZShxdWVyeSwgayA9IDQsIGZpbHRlciA9IHVuZGVmaW5lZCwgX2NhbGxiYWNrcyA9IHVuZGVmaW5lZCAvLyBpbXBsZW1lbnQgcGFzc2luZyB0byBlbWJlZFF1ZXJ5IGxhdGVyXG4gICAgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpbWlsYXJpdHlTZWFyY2hWZWN0b3JXaXRoU2NvcmUoYXdhaXQgdGhpcy5lbWJlZGRpbmdzLmVtYmVkUXVlcnkocXVlcnkpLCBrLCBmaWx0ZXIpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVRleHRzKF90ZXh0cywgX21ldGFkYXRhcywgX2VtYmVkZGluZ3MsIFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgX2RiQ29uZmlnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInRoZSBMYW5nY2hhaW4gdmVjdG9yc3RvcmUgaW1wbGVtZW50YXRpb24geW91IGFyZSB1c2luZyBmb3Jnb3QgdG8gb3ZlcnJpZGUgdGhpcywgcGxlYXNlIHJlcG9ydCBhIGJ1Z1wiKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21Eb2N1bWVudHMoX2RvY3MsIF9lbWJlZGRpbmdzLCBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9kYkNvbmZpZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0aGUgTGFuZ2NoYWluIHZlY3RvcnN0b3JlIGltcGxlbWVudGF0aW9uIHlvdSBhcmUgdXNpbmcgZm9yZ290IHRvIG92ZXJyaWRlIHRoaXMsIHBsZWFzZSByZXBvcnQgYSBidWdcIik7XG4gICAgfVxuICAgIGFzUmV0cmlldmVyKGtPckZpZWxkcywgZmlsdGVyLCBjYWxsYmFja3MsIHRhZ3MsIG1ldGFkYXRhLCB2ZXJib3NlKSB7XG4gICAgICAgIGlmICh0eXBlb2Yga09yRmllbGRzID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZlY3RvclN0b3JlUmV0cmlldmVyKHtcbiAgICAgICAgICAgICAgICB2ZWN0b3JTdG9yZTogdGhpcyxcbiAgICAgICAgICAgICAgICBrOiBrT3JGaWVsZHMsXG4gICAgICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgICAgIHRhZ3M6IFsuLi4odGFncyA/PyBbXSksIHRoaXMuX3ZlY3RvcnN0b3JlVHlwZSgpXSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB2ZXJib3NlLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHZlY3RvclN0b3JlOiB0aGlzLFxuICAgICAgICAgICAgICAgIGs6IGtPckZpZWxkcz8uayxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IGtPckZpZWxkcz8uZmlsdGVyLFxuICAgICAgICAgICAgICAgIHRhZ3M6IFsuLi4oa09yRmllbGRzPy50YWdzID8/IFtdKSwgdGhpcy5fdmVjdG9yc3RvcmVUeXBlKCldLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBrT3JGaWVsZHM/Lm1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIHZlcmJvc2U6IGtPckZpZWxkcz8udmVyYm9zZSxcbiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IGtPckZpZWxkcz8uY2FsbGJhY2tzLFxuICAgICAgICAgICAgICAgIHNlYXJjaFR5cGU6IGtPckZpZWxkcz8uc2VhcmNoVHlwZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoa09yRmllbGRzPy5zZWFyY2hUeXBlID09PSBcIm1tclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3JTdG9yZVJldHJpZXZlcih7XG4gICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoS3dhcmdzOiBrT3JGaWVsZHMuc2VhcmNoS3dhcmdzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3JTdG9yZVJldHJpZXZlcih7IC4uLnBhcmFtcyB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQWJzdHJhY3QgY2xhc3MgZXh0ZW5kaW5nIFZlY3RvclN0b3JlIHdpdGggZnVuY3Rpb25hbGl0eSBmb3Igc2F2aW5nIGFuZFxuICogbG9hZGluZyB0aGUgdmVjdG9yIHN0b3JlLlxuICovXG5leHBvcnQgY2xhc3MgU2F2ZWFibGVWZWN0b3JTdG9yZSBleHRlbmRzIFZlY3RvclN0b3JlIHtcbiAgICBzdGF0aWMgbG9hZChfZGlyZWN0b3J5LCBfZW1iZWRkaW5ncykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQXN5bmNDYWxsZXIgfSBmcm9tIFwiLi4vdXRpbC9hc3luY19jYWxsZXIuanNcIjtcbi8qKlxuICogQW4gYWJzdHJhY3QgY2xhc3MgdGhhdCBwcm92aWRlcyBtZXRob2RzIGZvciBlbWJlZGRpbmcgZG9jdW1lbnRzIGFuZFxuICogcXVlcmllcyB1c2luZyBMYW5nQ2hhaW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBFbWJlZGRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhc3luYyBjYWxsZXIgc2hvdWxkIGJlIHVzZWQgYnkgc3ViY2xhc3NlcyB0byBtYWtlIGFueSBhc3luYyBjYWxscyxcbiAgICAgICAgICogd2hpY2ggd2lsbCB0aHVzIGJlbmVmaXQgZnJvbSB0aGUgY29uY3VycmVuY3kgYW5kIHJldHJ5IGxvZ2ljLlxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FsbGVyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2FsbGVyID0gbmV3IEFzeW5jQ2FsbGVyKHBhcmFtcyA/PyB7fSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgT3BlbkFJIGFzIE9wZW5BSUNsaWVudCB9IGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi4vdXRpbC9lbnYuanNcIjtcbmltcG9ydCB7IGNodW5rQXJyYXkgfSBmcm9tIFwiLi4vdXRpbC9jaHVuay5qc1wiO1xuaW1wb3J0IHsgRW1iZWRkaW5ncyB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IGdldEVuZHBvaW50IH0gZnJvbSBcIi4uL3V0aWwvYXp1cmUuanNcIjtcbmltcG9ydCB7IHdyYXBPcGVuQUlDbGllbnRFcnJvciB9IGZyb20gXCIuLi91dGlsL29wZW5haS5qc1wiO1xuLyoqXG4gKiBDbGFzcyBmb3IgZ2VuZXJhdGluZyBlbWJlZGRpbmdzIHVzaW5nIHRoZSBPcGVuQUkgQVBJLiBFeHRlbmRzIHRoZVxuICogRW1iZWRkaW5ncyBjbGFzcyBhbmQgaW1wbGVtZW50cyBPcGVuQUlFbWJlZGRpbmdzUGFyYW1zIGFuZFxuICogQXp1cmVPcGVuQUlJbnB1dC5cbiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5BSUVtYmVkZGluZ3MgZXh0ZW5kcyBFbWJlZGRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgY29uc3QgZmllbGRzV2l0aERlZmF1bHRzID0geyBtYXhDb25jdXJyZW5jeTogMiwgLi4uZmllbGRzIH07XG4gICAgICAgIHN1cGVyKGZpZWxkc1dpdGhEZWZhdWx0cyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1vZGVsTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJ0ZXh0LWVtYmVkZGluZy1hZGEtMDAyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJhdGNoU2l6ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogNTEyXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJpcE5ld0xpbmVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aW1lb3V0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpVmVyc2lvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaUtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQmFzZVBhdGhcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudENvbmZpZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgYXBpS2V5ID0gZmllbGRzV2l0aERlZmF1bHRzPy5vcGVuQUlBcGlLZXkgPz9cbiAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJPUEVOQUlfQVBJX0tFWVwiKTtcbiAgICAgICAgY29uc3QgYXp1cmVBcGlLZXkgPSBmaWVsZHNXaXRoRGVmYXVsdHM/LmF6dXJlT3BlbkFJQXBpS2V5ID8/XG4gICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIGlmICghYXp1cmVBcGlLZXkgJiYgIWFwaUtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3BlbkFJIG9yIEF6dXJlIE9wZW5BSSBBUEkga2V5IG5vdCBmb3VuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhenVyZUFwaUluc3RhbmNlTmFtZSA9IGZpZWxkc1dpdGhEZWZhdWx0cz8uYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPz9cbiAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVcIik7XG4gICAgICAgIGNvbnN0IGF6dXJlQXBpRGVwbG95bWVudE5hbWUgPSAoZmllbGRzV2l0aERlZmF1bHRzPy5henVyZU9wZW5BSUFwaUVtYmVkZGluZ3NEZXBsb3ltZW50TmFtZSB8fFxuICAgICAgICAgICAgZmllbGRzV2l0aERlZmF1bHRzPy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSA/P1xuICAgICAgICAgICAgKGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0VNQkVERElOR1NfREVQTE9ZTUVOVF9OQU1FXCIpIHx8XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FXCIpKTtcbiAgICAgICAgY29uc3QgYXp1cmVBcGlWZXJzaW9uID0gZmllbGRzV2l0aERlZmF1bHRzPy5henVyZU9wZW5BSUFwaVZlcnNpb24gPz9cbiAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05cIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aCA9XG4gICAgICAgICAgICBmaWVsZHNXaXRoRGVmYXVsdHM/LmF6dXJlT3BlbkFJQmFzZVBhdGggPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0JBU0VfUEFUSFwiKTtcbiAgICAgICAgdGhpcy5tb2RlbE5hbWUgPSBmaWVsZHNXaXRoRGVmYXVsdHM/Lm1vZGVsTmFtZSA/PyB0aGlzLm1vZGVsTmFtZTtcbiAgICAgICAgdGhpcy5iYXRjaFNpemUgPVxuICAgICAgICAgICAgZmllbGRzV2l0aERlZmF1bHRzPy5iYXRjaFNpemUgPz8gKGF6dXJlQXBpS2V5ID8gMSA6IHRoaXMuYmF0Y2hTaXplKTtcbiAgICAgICAgdGhpcy5zdHJpcE5ld0xpbmVzID1cbiAgICAgICAgICAgIGZpZWxkc1dpdGhEZWZhdWx0cz8uc3RyaXBOZXdMaW5lcyA/PyB0aGlzLnN0cmlwTmV3TGluZXM7XG4gICAgICAgIHRoaXMudGltZW91dCA9IGZpZWxkc1dpdGhEZWZhdWx0cz8udGltZW91dDtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24gPSBhenVyZUFwaVZlcnNpb247XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkgPSBhenVyZUFwaUtleTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSA9IGF6dXJlQXBpSW5zdGFuY2VOYW1lO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgPSBhenVyZUFwaURlcGxveW1lbnROYW1lO1xuICAgICAgICBpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lICYmICF0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGluc3RhbmNlIG5hbWUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGRlcGxveW1lbnQgbmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIEFQSSB2ZXJzaW9uIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFwaUtleSA9IGFwaUtleSA/PyBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xpZW50Q29uZmlnID0ge1xuICAgICAgICAgICAgYXBpS2V5LFxuICAgICAgICAgICAgYmFzZVVSTDogY29uZmlndXJhdGlvbj8uYmFzZVBhdGgsXG4gICAgICAgICAgICBkYW5nZXJvdXNseUFsbG93QnJvd3NlcjogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmF1bHRIZWFkZXJzOiBjb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIGRlZmF1bHRRdWVyeTogY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LnBhcmFtcyxcbiAgICAgICAgICAgIC4uLmNvbmZpZ3VyYXRpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBnZW5lcmF0ZSBlbWJlZGRpbmdzIGZvciBhbiBhcnJheSBvZiBkb2N1bWVudHMuIFNwbGl0cyB0aGVcbiAgICAgKiBkb2N1bWVudHMgaW50byBiYXRjaGVzIGFuZCBtYWtlcyByZXF1ZXN0cyB0byB0aGUgT3BlbkFJIEFQSSB0byBnZW5lcmF0ZVxuICAgICAqIGVtYmVkZGluZ3MuXG4gICAgICogQHBhcmFtIHRleHRzIEFycmF5IG9mIGRvY3VtZW50cyB0byBnZW5lcmF0ZSBlbWJlZGRpbmdzIGZvci5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSAyRCBhcnJheSBvZiBlbWJlZGRpbmdzIGZvciBlYWNoIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGFzeW5jIGVtYmVkRG9jdW1lbnRzKHRleHRzKSB7XG4gICAgICAgIGNvbnN0IGJhdGNoZXMgPSBjaHVua0FycmF5KHRoaXMuc3RyaXBOZXdMaW5lcyA/IHRleHRzLm1hcCgodCkgPT4gdC5yZXBsYWNlKC9cXG4vZywgXCIgXCIpKSA6IHRleHRzLCB0aGlzLmJhdGNoU2l6ZSk7XG4gICAgICAgIGNvbnN0IGJhdGNoUmVxdWVzdHMgPSBiYXRjaGVzLm1hcCgoYmF0Y2gpID0+IHRoaXMuZW1iZWRkaW5nV2l0aFJldHJ5KHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIGlucHV0OiBiYXRjaCxcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBiYXRjaFJlc3BvbnNlcyA9IGF3YWl0IFByb21pc2UuYWxsKGJhdGNoUmVxdWVzdHMpO1xuICAgICAgICBjb25zdCBlbWJlZGRpbmdzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmF0Y2hSZXNwb25zZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogYmF0Y2hSZXNwb25zZSB9ID0gYmF0Y2hSZXNwb25zZXNbaV07XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJhdGNoLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgZW1iZWRkaW5ncy5wdXNoKGJhdGNoUmVzcG9uc2Vbal0uZW1iZWRkaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW1iZWRkaW5ncztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdlbmVyYXRlIGFuIGVtYmVkZGluZyBmb3IgYSBzaW5nbGUgZG9jdW1lbnQuIENhbGxzIHRoZVxuICAgICAqIGVtYmVkZGluZ1dpdGhSZXRyeSBtZXRob2Qgd2l0aCB0aGUgZG9jdW1lbnQgYXMgdGhlIGlucHV0LlxuICAgICAqIEBwYXJhbSB0ZXh0IERvY3VtZW50IHRvIGdlbmVyYXRlIGFuIGVtYmVkZGluZyBmb3IuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIGVtYmVkZGluZyBmb3IgdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGFzeW5jIGVtYmVkUXVlcnkodGV4dCkge1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuZW1iZWRkaW5nV2l0aFJldHJ5KHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIGlucHV0OiB0aGlzLnN0cmlwTmV3TGluZXMgPyB0ZXh0LnJlcGxhY2UoL1xcbi9nLCBcIiBcIikgOiB0ZXh0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRhdGFbMF0uZW1iZWRkaW5nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcml2YXRlIG1ldGhvZCB0byBtYWtlIGEgcmVxdWVzdCB0byB0aGUgT3BlbkFJIEFQSSB0byBnZW5lcmF0ZVxuICAgICAqIGVtYmVkZGluZ3MuIEhhbmRsZXMgdGhlIHJldHJ5IGxvZ2ljIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZSBmcm9tIHRoZVxuICAgICAqIEFQSS5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdCBSZXF1ZXN0IHRvIHNlbmQgdG8gdGhlIE9wZW5BSSBBUEkuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gICAgICovXG4gICAgYXN5bmMgZW1iZWRkaW5nV2l0aFJldHJ5KHJlcXVlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgY29uc3Qgb3BlbkFJRW5kcG9pbnRDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZTogdGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lLFxuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lOiB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lLFxuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpS2V5OiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQmFzZVBhdGg6IHRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aCxcbiAgICAgICAgICAgICAgICBiYXNlVVJMOiB0aGlzLmNsaWVudENvbmZpZy5iYXNlVVJMLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50ID0gZ2V0RW5kcG9pbnQob3BlbkFJRW5kcG9pbnRDb25maWcpO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuY2xpZW50Q29uZmlnLFxuICAgICAgICAgICAgICAgIGJhc2VVUkw6IGVuZHBvaW50LFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IHRoaXMudGltZW91dCxcbiAgICAgICAgICAgICAgICBtYXhSZXRyaWVzOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICghcGFyYW1zLmJhc2VVUkwpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW1zLmJhc2VVUkw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNsaWVudCA9IG5ldyBPcGVuQUlDbGllbnQocGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHt9O1xuICAgICAgICBpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgICBcImFwaS1rZXlcIjogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0T3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLnF1ZXJ5ID0ge1xuICAgICAgICAgICAgICAgIFwiYXBpLXZlcnNpb25cIjogdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24sXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdE9wdGlvbnMucXVlcnksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZW1iZWRkaW5ncy5jcmVhdGUocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gd3JhcE9wZW5BSUNsaWVudEVycm9yKGUpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuL3J1bm5hYmxlL2luZGV4LmpzXCI7XG4vKipcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIHBhcnNpbmcgdGhlIG91dHB1dCBvZiBhIExhcmdlIExhbmd1YWdlIE1vZGVsXG4gKiAoTExNKSBjYWxsLiBJdCBwcm92aWRlcyBtZXRob2RzIGZvciBwYXJzaW5nIHRoZSByZXN1bHQgb2YgYW4gTExNIGNhbGxcbiAqIGFuZCBpbnZva2luZyB0aGUgcGFyc2VyIHdpdGggYSBnaXZlbiBpbnB1dC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VMTE1PdXRwdXRQYXJzZXIgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRoZSByZXN1bHQgb2YgYW4gTExNIGNhbGwgd2l0aCBhIGdpdmVuIHByb21wdC4gQnkgZGVmYXVsdCwgaXRcbiAgICAgKiBzaW1wbHkgY2FsbHMgYHBhcnNlUmVzdWx0YC5cbiAgICAgKiBAcGFyYW0gZ2VuZXJhdGlvbnMgVGhlIGdlbmVyYXRpb25zIGZyb20gYW4gTExNIGNhbGwuXG4gICAgICogQHBhcmFtIF9wcm9tcHQgVGhlIHByb21wdCB1c2VkIGluIHRoZSBMTE0gY2FsbC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIE9wdGlvbmFsIGNhbGxiYWNrcy5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIHBhcnNlZCBvdXRwdXQuXG4gICAgICovXG4gICAgcGFyc2VSZXN1bHRXaXRoUHJvbXB0KGdlbmVyYXRpb25zLCBfcHJvbXB0LCBjYWxsYmFja3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VSZXN1bHQoZ2VuZXJhdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBwYXJzZXIgd2l0aCBhIGdpdmVuIGlucHV0IGFuZCBvcHRpb25hbCBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAgICogSWYgdGhlIGlucHV0IGlzIGEgc3RyaW5nLCBpdCBjcmVhdGVzIGEgZ2VuZXJhdGlvbiB3aXRoIHRoZSBpbnB1dCBhc1xuICAgICAqIHRleHQgYW5kIGNhbGxzIGBwYXJzZVJlc3VsdGAuIElmIHRoZSBpbnB1dCBpcyBhIGBCYXNlTWVzc2FnZWAsIGl0XG4gICAgICogY3JlYXRlcyBhIGdlbmVyYXRpb24gd2l0aCB0aGUgaW5wdXQgYXMgYSBtZXNzYWdlIGFuZCB0aGUgY29udGVudCBvZiB0aGVcbiAgICAgKiBpbnB1dCBhcyB0ZXh0LCBhbmQgdGhlbiBjYWxscyBgcGFyc2VSZXN1bHRgLlxuICAgICAqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdG8gdGhlIHBhcnNlciwgd2hpY2ggY2FuIGJlIGEgc3RyaW5nIG9yIGEgYEJhc2VNZXNzYWdlYC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBwYXJzZWQgb3V0cHV0LlxuICAgICAqL1xuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoYXN5bmMgKGlucHV0KSA9PiB0aGlzLnBhcnNlUmVzdWx0KFt7IHRleHQ6IGlucHV0IH1dKSwgaW5wdXQsIHsgLi4ub3B0aW9ucywgcnVuVHlwZTogXCJwYXJzZXJcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWxsV2l0aENvbmZpZyhhc3luYyAoaW5wdXQpID0+IHRoaXMucGFyc2VSZXN1bHQoW3sgbWVzc2FnZTogaW5wdXQsIHRleHQ6IGlucHV0LmNvbnRlbnQgfV0pLCBpbnB1dCwgeyAuLi5vcHRpb25zLCBydW5UeXBlOiBcInBhcnNlclwiIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyB0byBwYXJzZSB0aGUgb3V0cHV0IG9mIGFuIExMTSBjYWxsLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZU91dHB1dFBhcnNlciBleHRlbmRzIEJhc2VMTE1PdXRwdXRQYXJzZXIge1xuICAgIHBhcnNlUmVzdWx0KGdlbmVyYXRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2UoZ2VuZXJhdGlvbnNbMF0udGV4dCwgY2FsbGJhY2tzKTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VXaXRoUHJvbXB0KHRleHQsIF9wcm9tcHQsIGNhbGxiYWNrcykge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZSh0ZXh0LCBjYWxsYmFja3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHN0cmluZyB0eXBlIGtleSB1bmlxdWVseSBpZGVudGlmeWluZyB0aGlzIGNsYXNzIG9mIHBhcnNlclxuICAgICAqL1xuICAgIF90eXBlKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJfdHlwZSBub3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyB0byBwYXJzZSB0aGUgb3V0cHV0IG9mIGFuIExMTSBjYWxsIHRoYXQgYWxzbyBhbGxvd3Mgc3RyZWFtaW5nIGlucHV0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXIgZXh0ZW5kcyBCYXNlT3V0cHV0UGFyc2VyIHtcbiAgICBhc3luYyAqX3RyYW5zZm9ybShpbnB1dEdlbmVyYXRvcikge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGlucHV0R2VuZXJhdG9yKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNodW5rID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5wYXJzZVJlc3VsdChbeyB0ZXh0OiBjaHVuayB9XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLnBhcnNlUmVzdWx0KFt7IG1lc3NhZ2U6IGNodW5rLCB0ZXh0OiBjaHVuay5jb250ZW50IH1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGFuIGFzeW5jaHJvbm91cyBnZW5lcmF0b3Igb2YgaW5wdXQgaW50byBhbiBhc3luY2hyb25vdXNcbiAgICAgKiBnZW5lcmF0b3Igb2YgcGFyc2VkIG91dHB1dC5cbiAgICAgKiBAcGFyYW0gaW5wdXRHZW5lcmF0b3IgQW4gYXN5bmNocm9ub3VzIGdlbmVyYXRvciBvZiBpbnB1dC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBBIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIEFuIGFzeW5jaHJvbm91cyBnZW5lcmF0b3Igb2YgcGFyc2VkIG91dHB1dC5cbiAgICAgKi9cbiAgICBhc3luYyAqdHJhbnNmb3JtKGlucHV0R2VuZXJhdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIHlpZWxkKiB0aGlzLl90cmFuc2Zvcm1TdHJlYW1XaXRoQ29uZmlnKGlucHV0R2VuZXJhdG9yLCB0aGlzLl90cmFuc2Zvcm0uYmluZCh0aGlzKSwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIHJ1blR5cGU6IFwicGFyc2VyXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogT3V0cHV0UGFyc2VyIHRoYXQgcGFyc2VzIExMTVJlc3VsdCBpbnRvIHRoZSB0b3AgbGlrZWx5IHN0cmluZy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmluZ091dHB1dFBhcnNlciBleHRlbmRzIEJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcIm91dHB1dF9wYXJzZXJcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlN0ck91dHB1dFBhcnNlclwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBzdHJpbmcgb3V0cHV0IGZyb20gYW4gTExNIGNhbGwuIFRoaXMgbWV0aG9kIGlzIG1lYW50IHRvIGJlXG4gICAgICogaW1wbGVtZW50ZWQgYnkgc3ViY2xhc3NlcyB0byBkZWZpbmUgaG93IGEgc3RyaW5nIG91dHB1dCBmcm9tIGFuIExMTVxuICAgICAqIHNob3VsZCBiZSBwYXJzZWQuXG4gICAgICogQHBhcmFtIHRleHQgVGhlIHN0cmluZyBvdXRwdXQgZnJvbSBhbiBMTE0gY2FsbC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIE9wdGlvbmFsIGNhbGxiYWNrcy5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIHBhcnNlZCBvdXRwdXQuXG4gICAgICovXG4gICAgcGFyc2UodGV4dCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRleHQpO1xuICAgIH1cbiAgICBnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbn1cbi8qKlxuICogT3V0cHV0UGFyc2VyIHRoYXQgcGFyc2VzIExMTVJlc3VsdCBpbnRvIHRoZSB0b3AgbGlrZWx5IHN0cmluZyBhbmRcbiAqIGVuY29kZXMgaXQgaW50byBieXRlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJ5dGVzT3V0cHV0UGFyc2VyIGV4dGVuZHMgQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwic2NoZW1hXCIsIFwib3V0cHV0X3BhcnNlclwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZXh0RW5jb2RlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogbmV3IFRleHRFbmNvZGVyKClcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJCeXRlc091dHB1dFBhcnNlclwiO1xuICAgIH1cbiAgICBwYXJzZSh0ZXh0KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy50ZXh0RW5jb2Rlci5lbmNvZGUodGV4dCkpO1xuICAgIH1cbiAgICBnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbn1cbi8qKlxuICogRXhjZXB0aW9uIHRoYXQgb3V0cHV0IHBhcnNlcnMgc2hvdWxkIHJhaXNlIHRvIHNpZ25pZnkgYSBwYXJzaW5nIGVycm9yLlxuICpcbiAqIFRoaXMgZXhpc3RzIHRvIGRpZmZlcmVudGlhdGUgcGFyc2luZyBlcnJvcnMgZnJvbSBvdGhlciBjb2RlIG9yIGV4ZWN1dGlvbiBlcnJvcnNcbiAqIHRoYXQgYWxzbyBtYXkgYXJpc2UgaW5zaWRlIHRoZSBvdXRwdXQgcGFyc2VyLiBPdXRwdXRQYXJzZXJFeGNlcHRpb25zIHdpbGwgYmVcbiAqIGF2YWlsYWJsZSB0byBjYXRjaCBhbmQgaGFuZGxlIGluIHdheXMgdG8gZml4IHRoZSBwYXJzaW5nIGVycm9yLCB3aGlsZSBvdGhlclxuICogZXJyb3JzIHdpbGwgYmUgcmFpc2VkLlxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIC0gVGhlIGVycm9yIHRoYXQncyBiZWluZyByZS1yYWlzZWQgb3IgYW4gZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSBsbG1PdXRwdXQgLSBTdHJpbmcgbW9kZWwgb3V0cHV0IHdoaWNoIGlzIGVycm9yLWluZy5cbiAqIEBwYXJhbSBvYnNlcnZhdGlvbiAtIFN0cmluZyBleHBsYW5hdGlvbiBvZiBlcnJvciB3aGljaCBjYW4gYmUgcGFzc2VkIHRvIGFcbiAqICAgICBtb2RlbCB0byB0cnkgYW5kIHJlbWVkaWF0ZSB0aGUgaXNzdWUuXG4gKiBAcGFyYW0gc2VuZFRvTExNIC0gV2hldGhlciB0byBzZW5kIHRoZSBvYnNlcnZhdGlvbiBhbmQgbGxtX291dHB1dCBiYWNrIHRvIGFuIEFnZW50XG4gKiAgICAgYWZ0ZXIgYW4gT3V0cHV0UGFyc2VyRXhjZXB0aW9uIGhhcyBiZWVuIHJhaXNlZC4gVGhpcyBnaXZlcyB0aGUgdW5kZXJseWluZ1xuICogICAgIG1vZGVsIGRyaXZpbmcgdGhlIGFnZW50IHRoZSBjb250ZXh0IHRoYXQgdGhlIHByZXZpb3VzIG91dHB1dCB3YXMgaW1wcm9wZXJseVxuICogICAgIHN0cnVjdHVyZWQsIGluIHRoZSBob3BlcyB0aGF0IGl0IHdpbGwgdXBkYXRlIHRoZSBvdXRwdXQgdG8gdGhlIGNvcnJlY3RcbiAqICAgICBmb3JtYXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBPdXRwdXRQYXJzZXJFeGNlcHRpb24gZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgbGxtT3V0cHV0LCBvYnNlcnZhdGlvbiwgc2VuZFRvTExNID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxsbU91dHB1dFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvYnNlcnZhdGlvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZW5kVG9MTE1cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sbG1PdXRwdXQgPSBsbG1PdXRwdXQ7XG4gICAgICAgIHRoaXMub2JzZXJ2YXRpb24gPSBvYnNlcnZhdGlvbjtcbiAgICAgICAgdGhpcy5zZW5kVG9MTE0gPSBzZW5kVG9MTE07XG4gICAgICAgIGlmIChzZW5kVG9MTE0pIHtcbiAgICAgICAgICAgIGlmIChvYnNlcnZhdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGxsbU91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnRzICdvYnNlcnZhdGlvbicgJiAnbGxtT3V0cHV0JyBhcmUgcmVxdWlyZWQgaWYgJ3NlbmRUb0xsbScgaXMgdHJ1ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIHNyYy9TZWNvbmRCcmFpbi50c1xuaW1wb3J0IHsgUnVubmFibGVQYXNzdGhyb3VnaCwgUnVubmFibGVTZXF1ZW5jZSB9IGZyb20gXCJsYW5nY2hhaW4vc2NoZW1hL3J1bm5hYmxlXCI7XG5pbXBvcnQgeyBPcGVuQUlDaGF0IH0gZnJvbSBcImxhbmdjaGFpbi9sbG1zL29wZW5haVwiO1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwibGFuZ2NoYWluL3Byb21wdHNcIjtcblxuLy8gc3JjL1ZlY3RvclN0b3JlLnRzXG5pbXBvcnQgeyBjcmVhdGUsIGluc2VydE11bHRpcGxlLCByZW1vdmVNdWx0aXBsZSwgc2VhcmNoLCBzZWFyY2hWZWN0b3IgfSBmcm9tIFwiQG9yYW1hL29yYW1hXCI7XG5pbXBvcnQgeyBwZXJzaXN0LCByZXN0b3JlIH0gZnJvbSBcIkBvcmFtYS9wbHVnaW4tZGF0YS1wZXJzaXN0ZW5jZVwiO1xuaW1wb3J0IHsgVmVjdG9yU3RvcmUgfSBmcm9tIFwibGFuZ2NoYWluL3ZlY3RvcnN0b3Jlcy9iYXNlXCI7XG5pbXBvcnQgeyBEb2N1bWVudCB9IGZyb20gXCJsYW5nY2hhaW4vZG9jdW1lbnRcIjtcbnZhciB2ZWN0b3JTdG9yZVNjaGVtYSA9IHtcbiAgaWQ6IFwic3RyaW5nXCIsXG4gIGZpbGVuYW1lOiBcInN0cmluZ1wiLFxuICBjb250ZW50OiBcInN0cmluZ1wiLFxuICBlbWJlZGRpbmc6IFwidmVjdG9yWzE1MzZdXCJcbn07XG52YXIgT3JhbWFTdG9yZSA9IGNsYXNzIGV4dGVuZHMgVmVjdG9yU3RvcmUge1xuICBjb25zdHJ1Y3RvcihlbWJlZGRpbmdzLCBhcmdzKSB7XG4gICAgc3VwZXIoZW1iZWRkaW5ncywgYXJncyk7XG4gICAgdGhpcy5lbWJlZGRpbmdzID0gZW1iZWRkaW5ncztcbiAgICB0aGlzLmRiID0gY3JlYXRlKHtcbiAgICAgIHNjaGVtYTogdmVjdG9yU3RvcmVTY2hlbWEsXG4gICAgICBpZDogYXJncy5pbmRleE5hbWVcbiAgICB9KTtcbiAgfVxuICBfdmVjdG9yc3RvcmVUeXBlKCkge1xuICAgIHJldHVybiBcIk9yYW1hU3RvcmVcIjtcbiAgfVxuICBhc3luYyByZW1vdmVEb2N1bWVudHMoZG9jdW1lbnRzKSB7XG4gICAgY29uc29sZS5sb2coXCJSZW1vdmluZyBkb2N1bWVudHNcIiwgZG9jdW1lbnRzKTtcbiAgICBjb25zdCBpZHMgPSBhd2FpdCByZW1vdmVNdWx0aXBsZShcbiAgICAgIGF3YWl0IHRoaXMuZGIsXG4gICAgICBkb2N1bWVudHMubWFwKChkb2N1bWVudCkgPT4gZG9jdW1lbnQubWV0YWRhdGEuaWQpXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhcIlJlbW92ZWQgZG9jdW1lbnRzIHdpdGggaWRzXCIsIGlkcyk7XG4gIH1cbiAgYXN5bmMgYWRkVmVjdG9ycyh2ZWN0b3JzLCBkb2N1bWVudHMpIHtcbiAgICBjb25zdCBmaWxlbmFtZXMgPSBkb2N1bWVudHMubWFwKChkb2N1bWVudCkgPT4gZG9jdW1lbnQubWV0YWRhdGEuZmlsZW5hbWUpO1xuICAgIGNvbnN0IGZpbGVuYW1lc1RvVXBkYXRlID0gZmlsZW5hbWVzLmZpbHRlcigodmFsdWUsIGluZGV4LCBhcnJheSkgPT4gYXJyYXkuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4KTtcbiAgICBmb3IgKGNvbnN0IGZpbGVuYW1lIG9mIGZpbGVuYW1lc1RvVXBkYXRlKSB7XG4gICAgICBjb25zdCB2ZWN0b3JzVG9VcGRhdGUgPSBhd2FpdCBzZWFyY2goYXdhaXQgdGhpcy5kYiwgeyBwcm9wZXJ0aWVzOiBbXCJmaWxlbmFtZVwiXSwgdGVybTogZmlsZW5hbWUsIGV4YWN0OiB0cnVlLCBsaW1pdDogMWU0IH0pO1xuICAgICAgY29uc29sZS5sb2coXCJSZW1vdmVkIGRvY3VtZW50c1wiLCB2ZWN0b3JzVG9VcGRhdGUsIFwiZm9yIGZpbGVuYW1lXCIsIGZpbGVuYW1lKTtcbiAgICAgIGF3YWl0IHJlbW92ZU11bHRpcGxlKFxuICAgICAgICBhd2FpdCB0aGlzLmRiLFxuICAgICAgICB2ZWN0b3JzVG9VcGRhdGUuaGl0cy5tYXAoKGhpdCkgPT4gaGl0LmRvY3VtZW50LmlkKVxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgZG9jcyA9IGRvY3VtZW50cy5tYXAoKGRvY3VtZW50LCBpbmRleCkgPT4gKHtcbiAgICAgIGlkOiBkb2N1bWVudC5tZXRhZGF0YS5pZCxcbiAgICAgIGZpbGVuYW1lOiBkb2N1bWVudC5tZXRhZGF0YS5maWxlbmFtZSxcbiAgICAgIGNvbnRlbnQ6IGRvY3VtZW50LnBhZ2VDb250ZW50LFxuICAgICAgZW1iZWRkaW5nOiB2ZWN0b3JzW2luZGV4XVxuICAgIH0pKTtcbiAgICBjb25zdCBpZHMgPSBhd2FpdCBpbnNlcnRNdWx0aXBsZShhd2FpdCB0aGlzLmRiLCBkb2NzKTtcbiAgICBjb25zb2xlLmxvZyhcIkluc2VydGVkIGRvY3VtZW50cyB3aXRoIGlkc1wiLCBpZHMpO1xuICAgIHJldHVybiBpZHM7XG4gIH1cbiAgYXN5bmMgYWRkRG9jdW1lbnRzKGRvY3VtZW50cykge1xuICAgIGF3YWl0IHRoaXMuYWRkVmVjdG9ycyhhd2FpdCB0aGlzLmVtYmVkZGluZ3MuZW1iZWREb2N1bWVudHMoZG9jdW1lbnRzLm1hcCgoZG9jdW1lbnQpID0+IGRvY3VtZW50LnBhZ2VDb250ZW50KSksIGRvY3VtZW50cyk7XG4gICAgY29uc29sZS5sb2coKGF3YWl0IHRoaXMuZGIpLmRhdGEuZG9jcyk7XG4gIH1cbiAgc3RhdGljIGFzeW5jIGZyb21Eb2N1bWVudHMoZG9jdW1lbnRzLCBlbWJlZGRpbmdzLCBhcmdzKSB7XG4gICAgY29uc3Qgc3RvcmUgPSBuZXcgdGhpcyhlbWJlZGRpbmdzLCBhcmdzKTtcbiAgICBhd2FpdCBzdG9yZS5hZGREb2N1bWVudHMoZG9jdW1lbnRzKTtcbiAgICByZXR1cm4gc3RvcmU7XG4gIH1cbiAgYXN5bmMgc2ltaWxhcml0eVNlYXJjaFZlY3RvcldpdGhTY29yZShxdWVyeSwgaykge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBzZWFyY2hWZWN0b3IoYXdhaXQgdGhpcy5kYiwgeyB2ZWN0b3I6IHF1ZXJ5LCBwcm9wZXJ0eTogXCJlbWJlZGRpbmdcIiwgbGltaXQ6IGssIHNpbWlsYXJpdHk6IDAuMyB9KTtcbiAgICByZXR1cm4gcmVzdWx0cy5oaXRzLm1hcCgocmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gW25ldyBEb2N1bWVudCh7IHBhZ2VDb250ZW50OiByZXN1bHQuZG9jdW1lbnQuY29udGVudCB9KSwgcmVzdWx0LnNjb3JlXTtcbiAgICB9KTtcbiAgfVxuICBhc3luYyBnZXRKc29uKCkge1xuICAgIHJldHVybiBhd2FpdCBwZXJzaXN0KGF3YWl0IHRoaXMuZGIsIFwianNvblwiKTtcbiAgfVxuICBhc3luYyBsb2FkRnJvbUpzb24odmVjdG9yU3RvcmVKc29uKSB7XG4gICAgdGhpcy5kYiA9IHJlc3RvcmUoXCJqc29uXCIsIHZlY3RvclN0b3JlSnNvbik7XG4gICAgY29uc29sZS5sb2coXCJMb2FkZWQgdmVjdG9yIHN0b3JlIGZyb20gSlNPTlwiLCBhd2FpdCB0aGlzLmRiKTtcbiAgfVxufTtcblxuLy8gc3JjL1NlY29uZEJyYWluLnRzXG5pbXBvcnQgeyBPcGVuQUlFbWJlZGRpbmdzIH0gZnJvbSBcImxhbmdjaGFpbi9lbWJlZGRpbmdzL29wZW5haVwiO1xuaW1wb3J0IHsgU3RyaW5nT3V0cHV0UGFyc2VyIH0gZnJvbSBcImxhbmdjaGFpbi9zY2hlbWEvb3V0cHV0X3BhcnNlclwiO1xudmFyIFNlY29uZEJyYWluID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgaWYgKCFkYXRhLm9wZW5BSUFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gT3BlbkFJIEFQSSBrZXkgcHJvdmlkZWRcIik7XG4gICAgfVxuICAgIHRoaXMudmVjdG9yU3RvcmUgPSBuZXcgT3JhbWFTdG9yZShuZXcgT3BlbkFJRW1iZWRkaW5ncyh7IG9wZW5BSUFwaUtleTogZGF0YS5vcGVuQUlBcGlLZXksIGJhdGNoU2l6ZTogMjA0OCB9KSwge1xuICAgICAgaW5kZXhOYW1lOiBcIm9ic2lkaWFuZGJcIlxuICAgIH0pO1xuICAgIGlmIChkYXRhLnZlY3RvclN0b3JlSnNvbikge1xuICAgICAgdGhpcy52ZWN0b3JTdG9yZS5sb2FkRnJvbUpzb24oZGF0YS52ZWN0b3JTdG9yZUpzb24pO1xuICAgIH1cbiAgICB0aGlzLnJldHJpZXZlciA9IHRoaXMudmVjdG9yU3RvcmUuYXNSZXRyaWV2ZXIoeyBrOiA3IH0pO1xuICAgIGNvbnN0IG1vZGVsID0gbmV3IE9wZW5BSUNoYXQoeyBvcGVuQUlBcGlLZXk6IGRhdGEub3BlbkFJQXBpS2V5IH0pO1xuICAgIGNvbnN0IHByb21wdCA9IFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShgQW50d29ydGUgYWxzIG1laW4gQXNzaXN0ZW50IGF1ZiBtZWluZSBGcmFnZSBhdXNzY2hsaWVcXHhERmxpY2ggYmFzaWVyZW5kIGF1ZiBtZWluZW0gV2lzc2VuIGltIGZvbGdlbmRlbiBNYXJrZG93biBmb3JtYXRpZXJ0ZW4gS29udGV4dC4gQml0dGUgZXJzdGVsbGUgbGlua3MgaW0gZm9sZ2VuZGVuIGZvcm1hdCBbWzxOb3RlbmFtZT4jPEhlYWRlcjE+IyM8SGVhZGVyMj4jIyMuLi5dXSBhdXMgZGVuIE5vdGUgSGVhZGVybiB1bmQgZlxceEZDZ2Ugc2llIGRlaW5lciBBbnR3b3J0IGFscyBSZWZlcmVueiBiZWk6XG4gICAgICAgIHtjb250ZXh0fVxuXG4gICAgICAgIEZyYWdlOiB7cXVlc3Rpb259YCk7XG4gICAgdGhpcy5yYWdDaGFpbiA9IFJ1bm5hYmxlU2VxdWVuY2UuZnJvbShbXG4gICAgICB7XG4gICAgICAgIGNvbnRleHQ6IHRoaXMucmV0cmlldmVyLnBpcGUoKGRvY3VtZW50cykgPT4gZG9jdW1lbnRzLm1hcCgoZG9jKSA9PiBkb2MucGFnZUNvbnRlbnQpLmpvaW4oXCJcXG5cXG5cIikpLFxuICAgICAgICBxdWVzdGlvbjogbmV3IFJ1bm5hYmxlUGFzc3Rocm91Z2goKVxuICAgICAgfSxcbiAgICAgIHByb21wdCxcbiAgICAgIG1vZGVsLFxuICAgICAgbmV3IFN0cmluZ091dHB1dFBhcnNlcigpXG4gICAgXSk7XG4gIH1cbiAgYXN5bmMgZW1iZWREb2N1bWVudHMoZG9jdW1lbnRzKSB7XG4gICAgY29uc29sZS5sb2coXCJFbWJlZGRpbmcgZG9jdW1lbnRzLi4uXCIpO1xuICAgIGF3YWl0IHRoaXMudmVjdG9yU3RvcmUuYWRkRG9jdW1lbnRzKGRvY3VtZW50cyk7XG4gICAgY29uc29sZS5sb2coXCJEb25lIGVtYmVkZGluZyBkb2N1bWVudHNcIik7XG4gIH1cbiAgYXN5bmMgcmVtb3ZlRG9jdW1lbnRzKGRvY3VtZW50cykge1xuICAgIGF3YWl0IHRoaXMudmVjdG9yU3RvcmUucmVtb3ZlRG9jdW1lbnRzKGRvY3VtZW50cyk7XG4gIH1cbiAgYXN5bmMgcnVuUkFHKHF1ZXJ5KSB7XG4gICAgY29uc29sZS5sb2coXCJSdW5uaW5nIFJBRy4uLlwiKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJhZ0NoYWluLmludm9rZShxdWVyeSwge1xuICAgICAgY2FsbGJhY2tzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBoYW5kbGVSZXRyaWV2ZXJFbmQ6IGFzeW5jIChkb2N1bWVudHMpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRvY3VtZW50cywgbnVsbCwgMikpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGFuZGxlTExNU3RhcnQ6IGFzeW5jIChsbG0sIHByb21wdHMpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHByb21wdHMsIG51bGwsIDIpKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGhhbmRsZUxMTUVuZDogYXN5bmMgKG91dHB1dCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkob3V0cHV0LCBudWxsLCAyKSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBoYW5kbGVMTE1FcnJvcjogYXN5bmMgKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgYXN5bmMgcmV0cmlldmVEb2N1bWVudHMocXVlcnkpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy52ZWN0b3JTdG9yZS5zaW1pbGFyaXR5U2VhcmNoKHF1ZXJ5LCAzKTtcbiAgfVxuICBhc3luYyBnZXRWZWN0b3JTdG9yZUpzb24oKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudmVjdG9yU3RvcmUuZ2V0SnNvbigpO1xuICB9XG4gIHN0YXRpYyBhc3luYyBsb2FkRnJvbURhdGEoZGF0YSkge1xuICAgIHJldHVybiBuZXcgdGhpcyhkYXRhKTtcbiAgfVxufTtcblxuLy8gc3JjL09ic2lkaWFuRG9jdW1lbnRMb2FkZXIudHNcbmFzeW5jIGZ1bmN0aW9uIG9ic2lkaWFuRG9jdW1lbnRMb2FkZXIob2JzaWRpYW5BcHAsIGZpbGVzKSB7XG4gIGxldCBkb2NzID0gW107XG4gIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgIGNvbnN0IGZpbGVNZXRhZGF0YSA9IG9ic2lkaWFuQXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgIGlmICghZmlsZU1ldGFkYXRhKVxuICAgICAgY29udGludWU7XG4gICAgZG9jcy5wdXNoKHtcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGlkOiBmaWxlLmJhc2VuYW1lICsgXCIgbWV0YWRhdGFcIixcbiAgICAgICAgZmlsZW5hbWU6IGZpbGUuYmFzZW5hbWVcbiAgICAgIH0sXG4gICAgICBwYWdlQ29udGVudDogXCJOb3RlOiBcIiArIGZpbGUuYmFzZW5hbWUgKyBcIlxcbkVyc3RlbGx0IGFtOiBcIiArIG5ldyBEYXRlKGZpbGUuc3RhdC5jdGltZSkgKyBcIlxcbk1ldGFkYXRlbjogXCIgKyBKU09OLnN0cmluZ2lmeShmaWxlTWV0YWRhdGEuZnJvbnRtYXR0ZXIgfHwge30pXG4gICAgfSk7XG4gICAgY29uc3QgcGFnZUNvbnRlbnQgPSBhd2FpdCBvYnNpZGlhbkFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xuICAgIGxldCBoZWFkZXJDb3VudCA9IDA7XG4gICAgbGV0IG5vdGVDb3VudCA9IDA7XG4gICAgbGV0IGhlYWRpbmdUcmVlID0gW107XG4gICAgaGVhZGluZ1RyZWUucHVzaChmaWxlLmJhc2VuYW1lKTtcbiAgICBsZXQgY3VycmVudEhlYWRpbmdMZXZlbCA9IDA7XG4gICAgZm9yIChjb25zdCBzZWN0aW9uIG9mIGZpbGVNZXRhZGF0YS5zZWN0aW9ucyB8fCBbXSkge1xuICAgICAgaWYgKHNlY3Rpb24udHlwZSA9PT0gXCJoZWFkaW5nXCIpIHtcbiAgICAgICAgY29uc3QgY3VycmVudEhlYWRpbmcgPSBmaWxlTWV0YWRhdGEuaGVhZGluZ3NbaGVhZGVyQ291bnRdO1xuICAgICAgICBpZiAoY3VycmVudEhlYWRpbmcubGV2ZWwgPiBjdXJyZW50SGVhZGluZ0xldmVsKSB7XG4gICAgICAgICAgaGVhZGluZ1RyZWUucHVzaChwYWdlQ29udGVudC5zbGljZShjdXJyZW50SGVhZGluZy5wb3NpdGlvbi5zdGFydC5vZmZzZXQsIGN1cnJlbnRIZWFkaW5nLnBvc2l0aW9uLmVuZC5vZmZzZXQpKTtcbiAgICAgICAgICBjdXJyZW50SGVhZGluZ0xldmVsID0gY3VycmVudEhlYWRpbmcubGV2ZWw7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEhlYWRpbmcubGV2ZWwgPCBjdXJyZW50SGVhZGluZ0xldmVsKSB7XG4gICAgICAgICAgaGVhZGluZ1RyZWUucG9wKCk7XG4gICAgICAgICAgaGVhZGluZ1RyZWUucG9wKCk7XG4gICAgICAgICAgaGVhZGluZ1RyZWUucHVzaChwYWdlQ29udGVudC5zbGljZShjdXJyZW50SGVhZGluZy5wb3NpdGlvbi5zdGFydC5vZmZzZXQsIGN1cnJlbnRIZWFkaW5nLnBvc2l0aW9uLmVuZC5vZmZzZXQpKTtcbiAgICAgICAgICBjdXJyZW50SGVhZGluZ0xldmVsID0gY3VycmVudEhlYWRpbmcubGV2ZWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGVhZGluZ1RyZWUucG9wKCk7XG4gICAgICAgICAgaGVhZGluZ1RyZWUucHVzaChwYWdlQ29udGVudC5zbGljZShjdXJyZW50SGVhZGluZy5wb3NpdGlvbi5zdGFydC5vZmZzZXQsIGN1cnJlbnRIZWFkaW5nLnBvc2l0aW9uLmVuZC5vZmZzZXQpKTtcbiAgICAgICAgfVxuICAgICAgICBub3RlQ291bnQgPSAwO1xuICAgICAgICBoZWFkZXJDb3VudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jcy5wdXNoKHtcbiAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgaWQ6IGhlYWRpbmdUcmVlLmpvaW4oXCJcIikgKyBcIiBJRFwiICsgbm90ZUNvdW50LFxuICAgICAgICAgICAgZmlsZW5hbWU6IGZpbGUuYmFzZW5hbWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBhZ2VDb250ZW50OiBcIk5vdGVuYW1lOiBcIiArIGhlYWRpbmdUcmVlLmpvaW4oXCJcXG5cIikgKyBcIlxcblwiICsgcGFnZUNvbnRlbnQuc2xpY2Uoc2VjdGlvbi5wb3NpdGlvbi5zdGFydC5vZmZzZXQsIHNlY3Rpb24ucG9zaXRpb24uZW5kLm9mZnNldClcbiAgICAgICAgfSk7XG4gICAgICAgIG5vdGVDb3VudCsrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zb2xlLmxvZyhcIkxvYWRlZCBcIiArIGRvY3MubGVuZ3RoICsgXCIgZG9jdW1lbnRzIGZyb20gT2JzaWRpYW5cIiwgZG9jcyk7XG4gIHJldHVybiBkb2NzO1xufVxuZXhwb3J0IHtcbiAgU2Vjb25kQnJhaW4sXG4gIG9ic2lkaWFuRG9jdW1lbnRMb2FkZXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyB3cml0YWJsZSB9IGZyb20gJ3N2ZWx0ZS9zdG9yZSc7XG5pbXBvcnQgeyBTZWNvbmRCcmFpbiB9IGZyb20gJ3NlY29uZC1icmFpbi10cyc7XG5pbXBvcnQgdHlwZSBCcmFpblBsdWdpbiBmcm9tICcuL21haW4nO1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlID0ge1xuICAgIHJvbGU6ICdzeXN0ZW0nIHwgJ2Fzc2lzdGFudCcgfCAndXNlcic7XG4gICAgY29udGVudDogc3RyaW5nO1xuICAgIGNvbnRleHQ/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgbGV0IG1lc3NhZ2VzID0gd3JpdGFibGU8TWVzc2FnZVtdPihbeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogJ0hpLCB0aGlzIGlzIHlvdXIgU2Vjb25kIEJyYWluIScsIGNvbnRleHQ6IG51bGwgfV0pO1xuXG5leHBvcnQgbGV0IHNlY29uZEJyYWluID0gd3JpdGFibGU8U2Vjb25kQnJhaW4+KCk7XG5cbmV4cG9ydCBjb25zdCBwbHVnaW4gPSB3cml0YWJsZTxCcmFpblBsdWdpbj4oKTtcbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gICAgaW1wb3J0IE1kU2VuZCBmcm9tICdzdmVsdGUtaWNvbnMvbWQvTWRTZW5kLnN2ZWx0ZSc7XG4gICAgaW1wb3J0IHsgc2Vjb25kQnJhaW4gfSBmcm9tICcuLi9zdG9yZSc7XG4gICAgaW1wb3J0IHsgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuICAgIGltcG9ydCB7IG1lc3NhZ2VzLCB0eXBlIE1lc3NhZ2UgfSBmcm9tICcuLi9zdG9yZSc7XG4gICAgaW1wb3J0IHR5cGUgeyBLZXlib2FyZEV2ZW50SGFuZGxlciB9IGZyb20gJ3N2ZWx0ZS9lbGVtZW50cyc7XG4gICAgaW1wb3J0IHsgRmlsZVNlbGVjdE1vZGFsIH0gZnJvbSAnLi4vbWFpbic7XG5cbiAgICBsZXQgaW5wdXRQbGFjZWhvbGRlciA9ICdDaGF0IHdpdGggeW91ciBzZWNvbmQgQnJhaW4uLi4nO1xuICAgIGxldCBtZXNzYWdlVGV4dCA9ICcnO1xuICAgIGxldCBpc1Byb2Nlc2NjaW5nOiBib29sZWFuO1xuXG4gICAgYXN5bmMgZnVuY3Rpb24gc2VuZE1lc3NhZ2UoKSB7XG4gICAgICAgIGlmIChpc1Byb2Nlc2NjaW5nKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdQbGVhc2Ugd2FpdCB3aGlsZSB5b3VyIFNlY29uZCBCcmFpbiBpcyB0aGlua2luZy4uLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlzUHJvY2VzY2NpbmcgPSB0cnVlO1xuICAgICAgICAvL1RPRE8gZGFzIGlzIGtha2FcbiAgICAgICAgY29uc3QgdGVzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0LXZpZXctdXNlci1pbnB1dC1lbGVtZW50JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgLy9tZXNzYWdlVGV4dCA9IHRlc3QudmFsdWU7XG5cbiAgICAgICAgaWYgKG1lc3NhZ2VUZXh0LnRyaW0oKSAhPT0gJycpIHtcbiAgICAgICAgICAgIC8vIGxldCBtZXNzYWdlOiBNZXNzYWdlID0geyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IG1lc3NhZ2VUZXh0IH07XG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9IG1lc3NhZ2VUZXh0O1xuICAgICAgICAgICAgbWVzc2FnZVRleHQgPSAnJztcbiAgICAgICAgICAgIG1lc3NhZ2VzLnVwZGF0ZSgobWVzc2FnZXMpID0+IFsuLi5tZXNzYWdlcywgeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IG1lc3NhZ2UgfV0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJG1lc3NhZ2VzKTtcbiAgICAgICAgICAgIHNlY29uZEJyYWluLnN1YnNjcmliZShhc3luYyAoc2Vjb25kQnJhaW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBzZWNvbmRCcmFpbi5ydW5SQUcobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy51cGRhdGUoKG1lc3NhZ2VzKSA9PiBbLi4ubWVzc2FnZXMsIHsgcm9sZTogJ2Fzc2lzdGFudCcsIGNvbnRlbnQ6IHJlcyB9XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdZb3VyIFNlY29uZCBCcmFpbiBkb2VzIG5vdCB1bmRlcnN0YW5kIGVtcHR5IG1lc3NhZ2VzIScpO1xuICAgICAgICB9XG4gICAgICAgIGlzUHJvY2VzY2NpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5qZWN0Q29udGV4dChldmVudDogS2V5Ym9hcmRFdmVudCk6IEtleWJvYXJkRXZlbnRIYW5kbGVyPEhUTUxJbnB1dEVsZW1lbnQ+IHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSAhPT0gJ1snKSByZXR1cm47XG4gICAgICAgIG5ldyBGaWxlU2VsZWN0TW9kYWwoYXBwKS5vcGVuKCk7XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxmb3JtIG9uOnN1Ym1pdHxwcmV2ZW50RGVmYXVsdD17c2VuZE1lc3NhZ2V9IGNsYXNzPVwic3RpY2t5IGZsZXggdy1mdWxsIGdhcC0xXCI+XG4gICAgPGlucHV0IGlkPVwiY2hhdC12aWV3LXVzZXItaW5wdXQtZWxlbWVudFwiIHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmbGV4LTFcIiBwbGFjZWhvbGRlcj17aW5wdXRQbGFjZWhvbGRlcn0gYmluZDp2YWx1ZT17bWVzc2FnZVRleHR9IG9uOmtleXVwPXtpbmplY3RDb250ZXh0fSAvPlxuICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwicHgtNCBweS0yIHJvdW5kZWQtci1tZCBob3ZlcjpiZy1wcmltYXJ5IHRyYW5zaXRpb24gZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0XCI+XG4gICAgICAgIDxNZFNlbmQgLz5cbiAgICA8L2J1dHRvbj5cbjwvZm9ybT5cbiIsImltcG9ydCB7IEFwcCwgTW9kYWwgfSBmcm9tICdvYnNpZGlhbic7XG5cbmltcG9ydCBJbnB1dENvbXBvbmVudCBmcm9tICcuLi9jb21wb25lbnRzL0lucHV0LnN2ZWx0ZSc7XG5cbmV4cG9ydCBjbGFzcyBDaGF0TW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gICAgY29tcG9uZW50OiBJbnB1dENvbXBvbmVudDtcblxuICAgIG9uU3VibWl0OiAocmVzdWx0OiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgLy9vblN1Ym1pdDogKHJlc3VsdDogc3RyaW5nKSA9PiB2b2lkXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcbiAgICB9XG5cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gbmV3IElucHV0Q29tcG9uZW50KHtcbiAgICAgICAgICAgIHRhcmdldDogdGhpcy5jb250ZW50RWwsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIG9uQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LiRkZXN0cm95KCk7XG4gICAgfVxufVxuIiwiPHNjcmlwdD5cbiAgICAgICAgaW1wb3J0IEljb25CYXNlIGZyb20gJy4uL2NvbXBvbmVudHMvSWNvbkJhc2Uuc3ZlbHRlJztcbiAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgIDxJY29uQmFzZSB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgey4uLiQkcHJvcHN9PlxuICAgICAgICAgIDxwYXRoIGQ9XCJNMTYgMUg0Yy0xLjEgMC0yIC45LTIgMnYxNGgyVjNoMTJWMXptMyA0SDhjLTEuMSAwLTIgLjktMiAydjE0YzAgMS4xLjkgMiAyIDJoMTFjMS4xIDAgMi0uOSAyLTJWN2MwLTEuMS0uOS0yLTItMnptMCAxNkg4VjdoMTF2MTR6XCIgLz5cbiAgICAgICAgPC9JY29uQmFzZT5cbiAgICAgICIsIjxzY3JpcHQ+XG4gICAgICAgIGltcG9ydCBJY29uQmFzZSBmcm9tICcuLi9jb21wb25lbnRzL0ljb25CYXNlLnN2ZWx0ZSc7XG4gICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8SWNvbkJhc2Ugdmlld0JveD1cIjAgMCAyNCAyNFwiIHsuLi4kJHByb3BzfT5cbiAgICAgICAgICA8cGF0aCBkPVwiTTQgNkgydjE0YzAgMS4xLjkgMiAyIDJoMTR2LTJINFY2em0xNi00SDhjLTEuMSAwLTIgLjktMiAydjEyYzAgMS4xLjkgMiAyIDJoMTJjMS4xIDAgMi0uOSAyLTJWNGMwLTEuMS0uOS0yLTItMnptLTEgOUg5VjloMTB2MnptLTQgNEg5di0yaDZ2MnptNC04SDlWNWgxMHYyelwiIC8+XG4gICAgICAgIDwvSWNvbkJhc2U+XG4gICAgICAiLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICAgIGltcG9ydCB7IG1lc3NhZ2VzIH0gZnJvbSAnLi4vc3RvcmUnO1xuICAgIGltcG9ydCBNZENvbnRlbnRDb3B5IGZyb20gJ3N2ZWx0ZS1pY29ucy9tZC9NZENvbnRlbnRDb3B5LnN2ZWx0ZSc7XG4gICAgaW1wb3J0IE1kTGlicmFyeUJvb2tzIGZyb20gJ3N2ZWx0ZS1pY29ucy9tZC9NZExpYnJhcnlCb29rcy5zdmVsdGUnO1xuICAgIGltcG9ydCBFbGVjdHJvbiBmcm9tICdlbGVjdHJvbic7XG4gICAgaW1wb3J0IHR5cGUgeyBNb3VzZUV2ZW50SGFuZGxlciB9IGZyb20gJ3N2ZWx0ZS9lbGVtZW50cyc7XG4gICAgaW1wb3J0IHsgS2V5bWFwLCBNYXJrZG93blJlbmRlcmVyLCBOb3RpY2UsIGh0bWxUb01hcmtkb3duIH0gZnJvbSAnb2JzaWRpYW4nO1xuICAgIGltcG9ydCB7IHBsdWdpbiB9IGZyb20gJy4uL3N0b3JlJztcbiAgICBpbXBvcnQgdHlwZSB7IEFjdGlvbiB9IGZyb20gJ3N2ZWx0ZS9hY3Rpb24nO1xuXG4gICAgY29uc3QgZ2V0VGhlbWVDb2xvciA9IChuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKTtcbiAgICB9O1xuXG4gICAgY29uc3QgQUljb2xvciA9IGdldFRoZW1lQ29sb3IoJy0tY29sb3ItYWNjZW50Jyk7XG4gICAgY29uc3QgVXNlckNvbG9yID0gIGdldFRoZW1lQ29sb3IoJy0tY29sb3ItYmFzZS00MCcpO1xuXG4gICAgZnVuY3Rpb24gdG9DbGlwYm9hcmQobWVzc2FnZVRleHQ6IHN0cmluZyk6IE1vdXNlRXZlbnRIYW5kbGVyPEhUTUxCdXR0b25FbGVtZW50PiB7XG4gICAgICAgIGlmICghbWVzc2FnZVRleHQpIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ09ubHkgZm9yIFZhbGlkIE1lc3NhZ2VzISBJbXBsZW1lbnQgdGhhdCB5b3UgbGF6eSBmdWNrIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIEVsZWN0cm9uLmNsaXBib2FyZC53cml0ZVRleHQobWVzc2FnZVRleHQpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdCgpIHtcbiAgICAgICAgY29uc3QgbGlua190ZmlsZSA9ICRwbHVnaW4uYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0Rmlyc3RMaW5rcGF0aERlc3QoJ01lZXRpbmdyb2xsZW4nLCBcIi9cIik7XG4gICAgICAgIGNvbnN0IG1vZCA9IEtleW1hcC5pc01vZEV2ZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgbGVhZiA9ICRwbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRMZWFmKG1vZCk7XG4gICAgICAgIGxlYWYub3BlbkZpbGUobGlua190ZmlsZSk7XG4gICAgfVxuXG4gICBjb25zdCBodG1sOkFjdGlvbjxIVE1MU3BhbkVsZW1lbnQsIHN0cmluZz4gPSAobm9kZTogSFRNTFNwYW5FbGVtZW50LCBjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICAgICAgbm9kZS5jbGljayA9ICgpID0+IHsgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBsaW5rX3RmaWxlID0gJHBsdWdpbi5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtwYXRoRGVzdCgnTWVldGluZ3JvbGxlbiNUZXN0JywgXCIvXCIpO1xuICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgbGVhZiA9ICRwbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRMZWFmKG1vZCk7XG4gICAgICAgICAgICBsZWFmLm9wZW5GaWxlKGxpbmtfdGZpbGUpO31cbiAgICAgICAgY29uc3QgaW5oYWx0ID0gTWFya2Rvd25SZW5kZXJlci5yZW5kZXIoJHBsdWdpbi5hcHAsIGh0bWxUb01hcmtkb3duKGNvbnRlbnQpLCBub2RlLCAnJywgJHBsdWdpbik7XG4gICAgICAgIHJldHVybiBcbiAgICB9XG4gICAgXG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImNoYXQtd2luZG93IGZsZXgtZ3JvdyB3LWZ1bGwgb3ZlcmZsb3ctc2Nyb2xsIGJvcmRlci0yIGJvcmRlci1zb2xpZCByb3VuZGVkbWQgYm9yZGVyLXNsYXRlLTMwIG1iLTEgcC00XCI+XG4gICAgeyNlYWNoICRtZXNzYWdlcyBhcyBtZXNzYWdlIChtZXNzYWdlLmNvbnRlbnQpfVxuICAgICAgICB7I2lmIG1lc3NhZ2Uucm9sZSA9PT0gJ3VzZXInfVxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1lbmQgbWItM1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwLTIgYnJlYWstd29yZHMgcm91bmRlZC10LW1kIHJvdW5kZWQtYmwtbWQgbWF4LXctWzgwJV0gdGV4dC1zbGF0ZS0wXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiB7VXNlckNvbG9yfTtcIiBvbjpjbGljaz17dGVzdH0+PC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwidGVzdFwiIGNsYXNzPVwicC0yIGJyZWFrLXdvcmRzIHJvdW5kZWQtdC1tZCByb3VuZGVkLWJyLW1kIHctZml0IG1heC13LVs4MCVdXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiB7QUljb2xvcn07XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbGF0ZS0wXCIgdXNlOmh0bWw9e21lc3NhZ2UuY29udGVudH0+PC9wPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XCIgb246Y2xpY2t8cHJldmVudERlZmF1bHQ9e3RvQ2xpcGJvYXJkKG1lc3NhZ2UuY29udGVudCl9PjxNZENvbnRlbnRDb3B5IC8+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcIiBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17dG9DbGlwYm9hcmQobWVzc2FnZS5jb250ZXh0KX0+PE1kTGlicmFyeUJvb2tzIC8+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgey9pZn1cbiAgICB7L2VhY2h9XG48L2Rpdj5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gICAgaW1wb3J0IElucHV0Q29tcG9uZW50IGZyb20gJy4vSW5wdXQuc3ZlbHRlJztcbiAgICBpbXBvcnQgTWVzc2FnZXNDb21wb25lbnQgZnJvbSAnLi9NZXNzYWdlcy5zdmVsdGUnO1xuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJoLWZ1bGwgZmxleCBmbGV4LWNvbCAtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyXCI+XG4gICAgPGgxPlNlY29uZCBCcmFpbiBJbnRlcmZhY2U8L2gxPlxuICAgIDxNZXNzYWdlc0NvbXBvbmVudC8+XG4gICAgPElucHV0Q29tcG9uZW50Lz5cbjwvZGl2PlxuIiwiaW1wb3J0IHsgQXBwLCBJdGVtVmlldywgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcblxuaW1wb3J0IENoYXRWaWV3Q29tcG9uZW50IGZyb20gJy4uL2NvbXBvbmVudHMvQ2hhdFZpZXcuc3ZlbHRlJztcblxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9DSEFUID0gJ2NoYXQtdmlldyc7XG5cbmV4cG9ydCBjbGFzcyBDaGF0VmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcbiAgICBjb21wb25lbnQ6IENoYXRWaWV3Q29tcG9uZW50O1xuICAgIEFpQnViYmxlQ29sb3I6IHN0cmluZztcbiAgICBVc2VyQnViYmxlQ29sb3I6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYpIHtcbiAgICAgICAgc3VwZXIobGVhZik7XG4gICAgICAgIHRoaXMuaWNvbiA9ICdtZXNzYWdlLXNxdWFyZSc7XG4gICAgfVxuXG4gICAgZ2V0Vmlld1R5cGUoKSB7XG4gICAgICAgIHJldHVybiBWSUVXX1RZUEVfQ0hBVDtcbiAgICB9XG5cbiAgICBnZXREaXNwbGF5VGV4dCgpIHtcbiAgICAgICAgcmV0dXJuICdDaGF0IHZpZXcnO1xuICAgIH1cblxuICAgIGFzeW5jIG9uT3BlbigpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBuZXcgQ2hhdFZpZXdDb21wb25lbnQoe1xuICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLmNvbnRlbnRFbCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgb25DbG9zZSgpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQuJGRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNlYXJjaENvbXBvbmVudCwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MgfSBmcm9tICcuLi9tYWluJztcbmltcG9ydCB0eXBlIEJyYWluUGx1Z2luIGZyb20gJy4uL21haW4nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICAgIHBsdWdpbjogQnJhaW5QbHVnaW47XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBCcmFpblBsdWdpbikge1xuICAgICAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgICAgIGxldCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnQUkgQ29sb3InKVxuICAgICAgICAgICAgLmFkZEV4dHJhQnV0dG9uKCh2YWx1ZSkgPT5cbiAgICAgICAgICAgICAgICB2YWx1ZS5zZXRJY29uKCdyZXNldCcpLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5kYXRhLkFJY29sb3IgPSBERUZBVUxUX1NFVFRJTkdTLkFJY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuYWRkQ29sb3JQaWNrZXIoKGNvbG9yKSA9PlxuICAgICAgICAgICAgICAgIGNvbG9yLnNldFZhbHVlKHRoaXMucGx1Z2luLmRhdGEuQUljb2xvcikub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmRhdGEuQUljb2xvciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdVc2VyIENvbG9yJylcbiAgICAgICAgICAgIC5hZGRFeHRyYUJ1dHRvbigodmFsdWUpID0+IHZhbHVlLnNldEljb24oJ3Jlc2V0Jykub25DbGljaygoKSA9PiAodGhpcy5wbHVnaW4uZGF0YS5Vc2VyQ29sb3IgPSBERUZBVUxUX1NFVFRJTkdTLlVzZXJDb2xvcikpKVxuICAgICAgICAgICAgLmFkZENvbG9yUGlja2VyKChjb2xvcikgPT5cbiAgICAgICAgICAgICAgICBjb2xvci5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5kYXRhLlVzZXJDb2xvcikub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmRhdGEuVXNlckNvbG9yID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKCdMTE0nKS5hZGREcm9wZG93bigodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbnMoe1xuICAgICAgICAgICAgICAgICAgICBMTGFtYTogJ0xMYW1hJyxcbiAgICAgICAgICAgICAgICAgICAgQW50aHJvcGljOiAnQW50aHJvcGljJyxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5kYXRhLmxsbSlcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmRhdGEubGxtID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZSgnT3BlbkFJIEFQSSBLZXknKS5hZGRUZXh0KCh0ZXh0KSA9PlxuICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignT3BlbkFJIEFQSSBLZXknKVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5kYXRhLnNlY29uZEJyYWluLm9wZW5BSUFwaUtleSB8fCAnJylcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmRhdGEuc2Vjb25kQnJhaW4ub3BlbkFJQXBpS2V5ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0ICcuL3N0eWxlcy5jc3MnO1xuaW1wb3J0IHsgQ2hhdE1vZGFsIH0gZnJvbSAnLi92aWV3cy9DaGF0TW9kYWwnO1xuaW1wb3J0IHsgQ2hhdFZpZXcsIFZJRVdfVFlQRV9DSEFUIH0gZnJvbSAnLi92aWV3cy9DaGF0Vmlldyc7XG5pbXBvcnQgU2V0dGluZ3NUYWIgZnJvbSAnLi92aWV3cy9TZXR0aW5ncyc7XG5pbXBvcnQgeyBGdXp6eVN1Z2dlc3RNb2RhbCwgVEZpbGUsIEFwcCwgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgc2Vjb25kQnJhaW4gfSBmcm9tICcuL3N0b3JlJztcbmltcG9ydCB7IFNlY29uZEJyYWluLCBvYnNpZGlhbkRvY3VtZW50TG9hZGVyLCB0eXBlIFNlY29uZEJyYWluRGF0YSB9IGZyb20gJ3NlY29uZC1icmFpbi10cyc7XG5pbXBvcnQgeyBwbHVnaW4gfSBmcm9tICcuL3N0b3JlJztcblxuaW50ZXJmYWNlIFBsdWdpbkRhdGEge1xuICAgIGxsbTogc3RyaW5nO1xuICAgIGVtYmVkZGVkQWxsT25jZTogYm9vbGVhbjtcbiAgICBzZWNvbmRCcmFpbjogU2Vjb25kQnJhaW5EYXRhO1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogUGFydGlhbDxQbHVnaW5EYXRhPiA9IHtcbiAgICBzZWNvbmRCcmFpbjoge1xuICAgICAgICBvcGVuQUlBcGlLZXk6ICdZb3VyIGtleScsXG4gICAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyYWluUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBkYXRhOiBQbHVnaW5EYXRhO1xuXG4gICAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgICAgICB0aGlzLmRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuICAgIH1cblxuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLmRhdGEpO1xuICAgIH1cblxuICAgIGFzeW5jIG9ubG9hZCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcbiAgICAgICAgc2Vjb25kQnJhaW4uc2V0KGF3YWl0IFNlY29uZEJyYWluLmxvYWRGcm9tRGF0YSh0aGlzLmRhdGEuc2Vjb25kQnJhaW4pKTtcblxuICAgICAgICBwbHVnaW4uc2V0KHRoaXMpO1xuXG4gICAgICAgIHRoaXMuYXBwLnZhdWx0Lm9uKCdtb2RpZnknLCAoZmlsZTogVEZpbGUpID0+IHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlY29uZEJyYWluLnN1YnNjcmliZShhc3luYyAoc2Vjb25kQnJhaW4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jcyA9IGF3YWl0IG9ic2lkaWFuRG9jdW1lbnRMb2FkZXIodGhpcy5hcHAsIFtmaWxlXSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlY29uZEJyYWluLmVtYmVkRG9jdW1lbnRzKGRvY3MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc2Vjb25kQnJhaW4udmVjdG9yU3RvcmVKc29uID0gYXdhaXQgc2Vjb25kQnJhaW4uZ2V0VmVjdG9yU3RvcmVKc29uKCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXBwLnZhdWx0Lm9uKCdkZWxldGUnLCAoZmlsZTogVEZpbGUpID0+IHtcbiAgICAgICAgICAgIHNlY29uZEJyYWluLnN1YnNjcmliZShhc3luYyAoc2Vjb25kQnJhaW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkb2NzID0gYXdhaXQgb2JzaWRpYW5Eb2N1bWVudExvYWRlcih0aGlzLmFwcCwgW2ZpbGVdKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBzZWNvbmRCcmFpbi5yZW1vdmVEb2N1bWVudHMoZG9jcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNlY29uZEJyYWluLnZlY3RvclN0b3JlSnNvbiA9IGF3YWl0IHNlY29uZEJyYWluLmdldFZlY3RvclN0b3JlSnNvbigpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlclZpZXcoVklFV19UWVBFX0NIQVQsIChsZWFmKSA9PiBuZXcgQ2hhdFZpZXcobGVhZikpO1xuXG4gICAgICAgIHRoaXMuYWRkUmliYm9uSWNvbignYnJhaW4tY2lyY3VpdCcsICdTbWFydCBTZWNvbmQgQnJhaW4nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlVmlldygpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiAnY2hhdC1tb2RhbCcsXG4gICAgICAgICAgICBuYW1lOiAnQ2hhdCB3aXRoIEFJJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbmV3IENoYXRNb2RhbCh0aGlzLmFwcCkub3BlbigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiAnZmluZC1maWxlcycsXG4gICAgICAgICAgICBuYW1lOiAnZmYnLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBuZXcgRmlsZVNlbGVjdE1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXRoaXMuZGF0YS5lbWJlZGRlZEFsbE9uY2UpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlY29uZEJyYWluLnN1YnNjcmliZShhc3luYyAoc2Vjb25kQnJhaW4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jcyA9IGF3YWl0IG9ic2lkaWFuRG9jdW1lbnRMb2FkZXIodGhpcy5hcHAsIHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlY29uZEJyYWluLmVtYmVkRG9jdW1lbnRzKGRvY3MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc2Vjb25kQnJhaW4udmVjdG9yU3RvcmVKc29uID0gYXdhaXQgc2Vjb25kQnJhaW4uZ2V0VmVjdG9yU3RvcmVKc29uKCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5lbWJlZGRlZEFsbE9uY2UgPSB0cnVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9udW5sb2FkKCkge1xuICAgICAgICBjb25zb2xlLmxvZygndW5sb2FkaW5nIHBsdWdpbicpO1xuICAgIH1cblxuICAgIGFzeW5jIGFjdGl2YXRlVmlldygpIHtcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLmRldGFjaExlYXZlc09mVHlwZShWSUVXX1RZUEVfQ0hBVCk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSkuc2V0Vmlld1N0YXRlKHtcbiAgICAgICAgICAgIHR5cGU6IFZJRVdfVFlQRV9DSEFULFxuICAgICAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZih0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9DSEFUKVswXSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsZVNlbGVjdE1vZGFsIGV4dGVuZHMgRnV6enlTdWdnZXN0TW9kYWw8VEZpbGU+IHtcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAgICAgdGhpcy5zZXRQbGFjZWhvbGRlcignVHlwZSB0aGUgbmFtZSBvZiBhIGZpbGUuLi4nKTtcbiAgICB9XG4gICAgZ2V0SXRlbXMoKTogVEZpbGVbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCkuc29ydCgoYSwgYikgPT4gYS5iYXNlbmFtZS5sb2NhbGVDb21wYXJlKGIuYmFzZW5hbWUpKTtcbiAgICB9XG4gICAgZ2V0SXRlbVRleHQoaXRlbTogVEZpbGUpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gaXRlbS5iYXNlbmFtZTtcbiAgICB9XG4gICAgb25DaG9vc2VJdGVtKGZpbGU6IFRGaWxlKSB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdC12aWV3LXVzZXItaW5wdXQtZWxlbWVudCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIGVsZW0udmFsdWUgPSBlbGVtLnZhbHVlICsgYFske2ZpbGUuYmFzZW5hbWV9XV1gO1xuICAgIH1cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRQYXJzZWRUeXBlID0gZXhwb3J0cy5ab2RQYXJzZWRUeXBlID0gZXhwb3J0cy5vYmplY3RVdGlsID0gZXhwb3J0cy51dGlsID0gdm9pZCAwO1xudmFyIHV0aWw7XG4oZnVuY3Rpb24gKHV0aWwpIHtcbiAgICB1dGlsLmFzc2VydEVxdWFsID0gKHZhbCkgPT4gdmFsO1xuICAgIGZ1bmN0aW9uIGFzc2VydElzKF9hcmcpIHsgfVxuICAgIHV0aWwuYXNzZXJ0SXMgPSBhc3NlcnRJcztcbiAgICBmdW5jdGlvbiBhc3NlcnROZXZlcihfeCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9XG4gICAgdXRpbC5hc3NlcnROZXZlciA9IGFzc2VydE5ldmVyO1xuICAgIHV0aWwuYXJyYXlUb0VudW0gPSAoaXRlbXMpID0+IHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgb2JqW2l0ZW1dID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gICAgdXRpbC5nZXRWYWxpZEVudW1WYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhvYmopLmZpbHRlcigoaykgPT4gdHlwZW9mIG9ialtvYmpba11dICE9PSBcIm51bWJlclwiKTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrIG9mIHZhbGlkS2V5cykge1xuICAgICAgICAgICAgZmlsdGVyZWRba10gPSBvYmpba107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHV0aWwub2JqZWN0VmFsdWVzKGZpbHRlcmVkKTtcbiAgICB9O1xuICAgIHV0aWwub2JqZWN0VmFsdWVzID0gKG9iaikgPT4ge1xuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RLZXlzKG9iaikubWFwKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqW2VdO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHV0aWwub2JqZWN0S2V5cyA9IHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gXCJmdW5jdGlvblwiIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYmFuL2JhblxuICAgICAgICA/IChvYmopID0+IE9iamVjdC5rZXlzKG9iaikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgIDogKG9iamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgIH07XG4gICAgdXRpbC5maW5kID0gKGFyciwgY2hlY2tlcikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tlcihpdGVtKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgdXRpbC5pc0ludGVnZXIgPSB0eXBlb2YgTnVtYmVyLmlzSW50ZWdlciA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgID8gKHZhbCkgPT4gTnVtYmVyLmlzSW50ZWdlcih2YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYmFuL2JhblxuICAgICAgICA6ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgJiYgaXNGaW5pdGUodmFsKSAmJiBNYXRoLmZsb29yKHZhbCkgPT09IHZhbDtcbiAgICBmdW5jdGlvbiBqb2luVmFsdWVzKGFycmF5LCBzZXBhcmF0b3IgPSBcIiB8IFwiKSB7XG4gICAgICAgIHJldHVybiBhcnJheVxuICAgICAgICAgICAgLm1hcCgodmFsKSA9PiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiA/IGAnJHt2YWx9J2AgOiB2YWwpKVxuICAgICAgICAgICAgLmpvaW4oc2VwYXJhdG9yKTtcbiAgICB9XG4gICAgdXRpbC5qb2luVmFsdWVzID0gam9pblZhbHVlcztcbiAgICB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciA9IChfLCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbn0pKHV0aWwgPSBleHBvcnRzLnV0aWwgfHwgKGV4cG9ydHMudXRpbCA9IHt9KSk7XG52YXIgb2JqZWN0VXRpbDtcbihmdW5jdGlvbiAob2JqZWN0VXRpbCkge1xuICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXMgPSAoZmlyc3QsIHNlY29uZCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZmlyc3QsXG4gICAgICAgICAgICAuLi5zZWNvbmQsIC8vIHNlY29uZCBvdmVyd3JpdGVzIGZpcnN0XG4gICAgICAgIH07XG4gICAgfTtcbn0pKG9iamVjdFV0aWwgPSBleHBvcnRzLm9iamVjdFV0aWwgfHwgKGV4cG9ydHMub2JqZWN0VXRpbCA9IHt9KSk7XG5leHBvcnRzLlpvZFBhcnNlZFR5cGUgPSB1dGlsLmFycmF5VG9FbnVtKFtcbiAgICBcInN0cmluZ1wiLFxuICAgIFwibmFuXCIsXG4gICAgXCJudW1iZXJcIixcbiAgICBcImludGVnZXJcIixcbiAgICBcImZsb2F0XCIsXG4gICAgXCJib29sZWFuXCIsXG4gICAgXCJkYXRlXCIsXG4gICAgXCJiaWdpbnRcIixcbiAgICBcInN5bWJvbFwiLFxuICAgIFwiZnVuY3Rpb25cIixcbiAgICBcInVuZGVmaW5lZFwiLFxuICAgIFwibnVsbFwiLFxuICAgIFwiYXJyYXlcIixcbiAgICBcIm9iamVjdFwiLFxuICAgIFwidW5rbm93blwiLFxuICAgIFwicHJvbWlzZVwiLFxuICAgIFwidm9pZFwiLFxuICAgIFwibmV2ZXJcIixcbiAgICBcIm1hcFwiLFxuICAgIFwic2V0XCIsXG5dKTtcbmNvbnN0IGdldFBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQ7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuc3RyaW5nO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICByZXR1cm4gaXNOYU4oZGF0YSkgPyBleHBvcnRzLlpvZFBhcnNlZFR5cGUubmFuIDogZXhwb3J0cy5ab2RQYXJzZWRUeXBlLm51bWJlcjtcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuYm9vbGVhbjtcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLmZ1bmN0aW9uO1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLmJpZ2ludDtcbiAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5zeW1ib2w7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5hcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5udWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEudGhlbiAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBkYXRhLnRoZW4gPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgIGRhdGEuY2F0Y2ggJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZGF0YS5jYXRjaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5wcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBNYXAgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUubWFwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBTZXQgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBEYXRlICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5kYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5vYmplY3Q7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLnVua25vd247XG4gICAgfVxufTtcbmV4cG9ydHMuZ2V0UGFyc2VkVHlwZSA9IGdldFBhcnNlZFR5cGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuWm9kRXJyb3IgPSBleHBvcnRzLnF1b3RlbGVzc0pzb24gPSBleHBvcnRzLlpvZElzc3VlQ29kZSA9IHZvaWQgMDtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL2hlbHBlcnMvdXRpbFwiKTtcbmV4cG9ydHMuWm9kSXNzdWVDb2RlID0gdXRpbF8xLnV0aWwuYXJyYXlUb0VudW0oW1xuICAgIFwiaW52YWxpZF90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2xpdGVyYWxcIixcbiAgICBcImN1c3RvbVwiLFxuICAgIFwiaW52YWxpZF91bmlvblwiLFxuICAgIFwiaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yXCIsXG4gICAgXCJpbnZhbGlkX2VudW1fdmFsdWVcIixcbiAgICBcInVucmVjb2duaXplZF9rZXlzXCIsXG4gICAgXCJpbnZhbGlkX2FyZ3VtZW50c1wiLFxuICAgIFwiaW52YWxpZF9yZXR1cm5fdHlwZVwiLFxuICAgIFwiaW52YWxpZF9kYXRlXCIsXG4gICAgXCJpbnZhbGlkX3N0cmluZ1wiLFxuICAgIFwidG9vX3NtYWxsXCIsXG4gICAgXCJ0b29fYmlnXCIsXG4gICAgXCJpbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlc1wiLFxuICAgIFwibm90X211bHRpcGxlX29mXCIsXG4gICAgXCJub3RfZmluaXRlXCIsXG5dKTtcbmNvbnN0IHF1b3RlbGVzc0pzb24gPSAob2JqKSA9PiB7XG4gICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgcmV0dXJuIGpzb24ucmVwbGFjZSgvXCIoW15cIl0rKVwiOi9nLCBcIiQxOlwiKTtcbn07XG5leHBvcnRzLnF1b3RlbGVzc0pzb24gPSBxdW90ZWxlc3NKc29uO1xuY2xhc3MgWm9kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoaXNzdWVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaXNzdWVzID0gW107XG4gICAgICAgIHRoaXMuYWRkSXNzdWUgPSAoc3ViKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzc3VlcyA9IFsuLi50aGlzLmlzc3Vlcywgc3ViXTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZXMgPSAoc3VicyA9IFtdKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzc3VlcyA9IFsuLi50aGlzLmlzc3VlcywgLi4uc3Vic107XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGFjdHVhbFByb3RvID0gbmV3LnRhcmdldC5wcm90b3R5cGU7XG4gICAgICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBiYW4vYmFuXG4gICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgYWN0dWFsUHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fX3Byb3RvX18gPSBhY3R1YWxQcm90bztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWUgPSBcIlpvZEVycm9yXCI7XG4gICAgICAgIHRoaXMuaXNzdWVzID0gaXNzdWVzO1xuICAgIH1cbiAgICBnZXQgZXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXM7XG4gICAgfVxuICAgIGZvcm1hdChfbWFwcGVyKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlciA9IF9tYXBwZXIgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChpc3N1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc3N1ZS5tZXNzYWdlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgIGNvbnN0IHByb2Nlc3NFcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpc3N1ZSBvZiBlcnJvci5pc3N1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3VuaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWUudW5pb25FcnJvcnMubWFwKHByb2Nlc3NFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9yZXR1cm5fdHlwZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5yZXR1cm5UeXBlRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfYXJndW1lbnRzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKGlzc3VlLmFyZ3VtZW50c0Vycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUucGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRFcnJvcnMuX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnIgPSBmaWVsZEVycm9ycztcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGlzc3VlLnBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGlzc3VlLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGkgPT09IGlzc3VlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAodHlwZW9mIGVsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKHR5cGVvZiBlbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY29uc3QgZXJyb3JBcnJheTogYW55ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBlcnJvckFycmF5Ll9lcnJvcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgZXJyb3JBcnJheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXS5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gY3VycltlbF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NFcnJvcih0aGlzKTtcbiAgICAgICAgcmV0dXJuIGZpZWxkRXJyb3JzO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZTtcbiAgICB9XG4gICAgZ2V0IG1lc3NhZ2UoKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmlzc3VlcywgdXRpbF8xLnV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyLCAyKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzc3Vlcy5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIGZsYXR0ZW4obWFwcGVyID0gKGlzc3VlKSA9PiBpc3N1ZS5tZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkRXJyb3JzID0ge307XG4gICAgICAgIGNvbnN0IGZvcm1FcnJvcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzdWIgb2YgdGhpcy5pc3N1ZXMpIHtcbiAgICAgICAgICAgIGlmIChzdWIucGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZmllbGRFcnJvcnNbc3ViLnBhdGhbMF1dID0gZmllbGRFcnJvcnNbc3ViLnBhdGhbMF1dIHx8IFtdO1xuICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXS5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvcm1FcnJvcnMucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZm9ybUVycm9ycywgZmllbGRFcnJvcnMgfTtcbiAgICB9XG4gICAgZ2V0IGZvcm1FcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsYXR0ZW4oKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZEVycm9yID0gWm9kRXJyb3I7XG5ab2RFcnJvci5jcmVhdGUgPSAoaXNzdWVzKSA9PiB7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3IoaXNzdWVzKTtcbiAgICByZXR1cm4gZXJyb3I7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vaGVscGVycy91dGlsXCIpO1xuY29uc3QgWm9kRXJyb3JfMSA9IHJlcXVpcmUoXCIuLi9ab2RFcnJvclwiKTtcbmNvbnN0IGVycm9yTWFwID0gKGlzc3VlLCBfY3R4KSA9PiB7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnJlY2VpdmVkID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJSZXF1aXJlZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBFeHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHtpc3N1ZS5yZWNlaXZlZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9saXRlcmFsOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGxpdGVyYWwgdmFsdWUsIGV4cGVjdGVkICR7SlNPTi5zdHJpbmdpZnkoaXNzdWUuZXhwZWN0ZWQsIHV0aWxfMS51dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlcil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnVucmVjb2duaXplZF9rZXlzOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBVbnJlY29nbml6ZWQga2V5KHMpIGluIG9iamVjdDogJHt1dGlsXzEudXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb246XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWUuIEV4cGVjdGVkICR7dXRpbF8xLnV0aWwuam9pblZhbHVlcyhpc3N1ZS5vcHRpb25zKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGVudW0gdmFsdWUuIEV4cGVjdGVkICR7dXRpbF8xLnV0aWwuam9pblZhbHVlcyhpc3N1ZS5vcHRpb25zKX0sIHJlY2VpdmVkICcke2lzc3VlLnJlY2VpdmVkfSdgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gYXJndW1lbnRzYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gcmV0dXJuIHR5cGVgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9kYXRlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRhdGVgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmc6XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJpbmNsdWRlc1wiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGluY2x1ZGUgXCIke2lzc3VlLnZhbGlkYXRpb24uaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24ucG9zaXRpb24gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBhdCBvbmUgb3IgbW9yZSBwb3NpdGlvbnMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICR7aXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwic3RhcnRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IHN0YXJ0IHdpdGggXCIke2lzc3VlLnZhbGlkYXRpb24uc3RhcnRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwiZW5kc1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBlbmQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5lbmRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1dGlsXzEudXRpbC5hc3NlcnROZXZlcihpc3N1ZS52YWxpZGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS52YWxpZGF0aW9uICE9PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgJHtpc3N1ZS52YWxpZGF0aW9ufWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGw6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgbW9yZSB0aGFuYH0gJHtpc3N1ZS5taW5pbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgb3ZlcmB9ICR7aXNzdWUubWluaW11bX0gY2hhcmFjdGVyKHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0XG4gICAgICAgICAgICAgICAgICAgID8gYGV4YWN0bHkgZXF1YWwgdG8gYFxuICAgICAgICAgICAgICAgICAgICA6IGlzc3VlLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYGdyZWF0ZXIgdGhhbiBgfSR7aXNzdWUubWluaW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBEYXRlIG11c3QgYmUgJHtpc3N1ZS5leGFjdFxuICAgICAgICAgICAgICAgICAgICA/IGBleGFjdGx5IGVxdWFsIHRvIGBcbiAgICAgICAgICAgICAgICAgICAgOiBpc3N1ZS5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGBncmVhdGVyIHRoYW4gYH0ke25ldyBEYXRlKE51bWJlcihpc3N1ZS5taW5pbXVtKSl9YDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX0gZWxlbWVudChzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYHVuZGVyYH0gJHtpc3N1ZS5tYXhpbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgPyBgZXhhY3RseWBcbiAgICAgICAgICAgICAgICAgICAgOiBpc3N1ZS5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2BcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJiaWdpbnRcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEJpZ0ludCBtdXN0IGJlICR7aXNzdWUuZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgPyBgZXhhY3RseWBcbiAgICAgICAgICAgICAgICAgICAgOiBpc3N1ZS5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2BcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBEYXRlIG11c3QgYmUgJHtpc3N1ZS5leGFjdFxuICAgICAgICAgICAgICAgICAgICA/IGBleGFjdGx5YFxuICAgICAgICAgICAgICAgICAgICA6IGlzc3VlLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvYFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgc21hbGxlciB0aGFuYH0gJHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWF4aW11bSkpfWA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuY3VzdG9tOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnRlcnNlY3Rpb24gcmVzdWx0cyBjb3VsZCBub3QgYmUgbWVyZ2VkYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAke2lzc3VlLm11bHRpcGxlT2Z9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLm5vdF9maW5pdGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJOdW1iZXIgbXVzdCBiZSBmaW5pdGVcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbWVzc2FnZSA9IF9jdHguZGVmYXVsdEVycm9yO1xuICAgICAgICAgICAgdXRpbF8xLnV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUpO1xuICAgIH1cbiAgICByZXR1cm4geyBtZXNzYWdlIH07XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gZXJyb3JNYXA7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0RXJyb3JNYXAgPSBleHBvcnRzLnNldEVycm9yTWFwID0gZXhwb3J0cy5kZWZhdWx0RXJyb3JNYXAgPSB2b2lkIDA7XG5jb25zdCBlbl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2xvY2FsZXMvZW5cIikpO1xuZXhwb3J0cy5kZWZhdWx0RXJyb3JNYXAgPSBlbl8xLmRlZmF1bHQ7XG5sZXQgb3ZlcnJpZGVFcnJvck1hcCA9IGVuXzEuZGVmYXVsdDtcbmZ1bmN0aW9uIHNldEVycm9yTWFwKG1hcCkge1xuICAgIG92ZXJyaWRlRXJyb3JNYXAgPSBtYXA7XG59XG5leHBvcnRzLnNldEVycm9yTWFwID0gc2V0RXJyb3JNYXA7XG5mdW5jdGlvbiBnZXRFcnJvck1hcCgpIHtcbiAgICByZXR1cm4gb3ZlcnJpZGVFcnJvck1hcDtcbn1cbmV4cG9ydHMuZ2V0RXJyb3JNYXAgPSBnZXRFcnJvck1hcDtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc0FzeW5jID0gZXhwb3J0cy5pc1ZhbGlkID0gZXhwb3J0cy5pc0RpcnR5ID0gZXhwb3J0cy5pc0Fib3J0ZWQgPSBleHBvcnRzLk9LID0gZXhwb3J0cy5ESVJUWSA9IGV4cG9ydHMuSU5WQUxJRCA9IGV4cG9ydHMuUGFyc2VTdGF0dXMgPSBleHBvcnRzLmFkZElzc3VlVG9Db250ZXh0ID0gZXhwb3J0cy5FTVBUWV9QQVRIID0gZXhwb3J0cy5tYWtlSXNzdWUgPSB2b2lkIDA7XG5jb25zdCBlcnJvcnNfMSA9IHJlcXVpcmUoXCIuLi9lcnJvcnNcIik7XG5jb25zdCBlbl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9sb2NhbGVzL2VuXCIpKTtcbmNvbnN0IG1ha2VJc3N1ZSA9IChwYXJhbXMpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIHBhdGgsIGVycm9yTWFwcywgaXNzdWVEYXRhIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgZnVsbFBhdGggPSBbLi4ucGF0aCwgLi4uKGlzc3VlRGF0YS5wYXRoIHx8IFtdKV07XG4gICAgY29uc3QgZnVsbElzc3VlID0ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgIH07XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgY29uc3QgbWFwcyA9IGVycm9yTWFwc1xuICAgICAgICAuZmlsdGVyKChtKSA9PiAhIW0pXG4gICAgICAgIC5zbGljZSgpXG4gICAgICAgIC5yZXZlcnNlKCk7XG4gICAgZm9yIChjb25zdCBtYXAgb2YgbWFwcykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBtYXAoZnVsbElzc3VlLCB7IGRhdGEsIGRlZmF1bHRFcnJvcjogZXJyb3JNZXNzYWdlIH0pLm1lc3NhZ2U7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICAgIG1lc3NhZ2U6IGlzc3VlRGF0YS5tZXNzYWdlIHx8IGVycm9yTWVzc2FnZSxcbiAgICB9O1xufTtcbmV4cG9ydHMubWFrZUlzc3VlID0gbWFrZUlzc3VlO1xuZXhwb3J0cy5FTVBUWV9QQVRIID0gW107XG5mdW5jdGlvbiBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIGlzc3VlRGF0YSkge1xuICAgIGNvbnN0IGlzc3VlID0gKDAsIGV4cG9ydHMubWFrZUlzc3VlKSh7XG4gICAgICAgIGlzc3VlRGF0YTogaXNzdWVEYXRhLFxuICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgIGVycm9yTWFwczogW1xuICAgICAgICAgICAgY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgICAgICBjdHguc2NoZW1hRXJyb3JNYXAsXG4gICAgICAgICAgICAoMCwgZXJyb3JzXzEuZ2V0RXJyb3JNYXApKCksXG4gICAgICAgICAgICBlbl8xLmRlZmF1bHQsIC8vIHRoZW4gZ2xvYmFsIGRlZmF1bHQgbWFwXG4gICAgICAgIF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgIH0pO1xuICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goaXNzdWUpO1xufVxuZXhwb3J0cy5hZGRJc3N1ZVRvQ29udGV4dCA9IGFkZElzc3VlVG9Db250ZXh0O1xuY2xhc3MgUGFyc2VTdGF0dXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gXCJ2YWxpZFwiO1xuICAgIH1cbiAgICBkaXJ0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IFwidmFsaWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImRpcnR5XCI7XG4gICAgfVxuICAgIGFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJhYm9ydGVkXCI7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cykge1xuICAgICAgICBjb25zdCBhcnJheVZhbHVlID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLklOVkFMSUQ7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGFycmF5VmFsdWUucHVzaChzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGFycmF5VmFsdWUgfTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIG1lcmdlT2JqZWN0QXN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICBzeW5jUGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiBhd2FpdCBwYWlyLmtleSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogYXdhaXQgcGFpci52YWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBzeW5jUGFpcnMpO1xuICAgIH1cbiAgICBzdGF0aWMgbWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgcGFpcnMpIHtcbiAgICAgICAgY29uc3QgZmluYWxPYmplY3QgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICBjb25zdCB7IGtleSwgdmFsdWUgfSA9IHBhaXI7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuSU5WQUxJRDtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLklOVkFMSUQ7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgaWYgKGtleS52YWx1ZSAhPT0gXCJfX3Byb3RvX19cIiAmJlxuICAgICAgICAgICAgICAgICh0eXBlb2YgdmFsdWUudmFsdWUgIT09IFwidW5kZWZpbmVkXCIgfHwgcGFpci5hbHdheXNTZXQpKSB7XG4gICAgICAgICAgICAgICAgZmluYWxPYmplY3Rba2V5LnZhbHVlXSA9IHZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxPYmplY3QgfTtcbiAgICB9XG59XG5leHBvcnRzLlBhcnNlU3RhdHVzID0gUGFyc2VTdGF0dXM7XG5leHBvcnRzLklOVkFMSUQgPSBPYmplY3QuZnJlZXplKHtcbiAgICBzdGF0dXM6IFwiYWJvcnRlZFwiLFxufSk7XG5jb25zdCBESVJUWSA9ICh2YWx1ZSkgPT4gKHsgc3RhdHVzOiBcImRpcnR5XCIsIHZhbHVlIH0pO1xuZXhwb3J0cy5ESVJUWSA9IERJUlRZO1xuY29uc3QgT0sgPSAodmFsdWUpID0+ICh7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZSB9KTtcbmV4cG9ydHMuT0sgPSBPSztcbmNvbnN0IGlzQWJvcnRlZCA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCI7XG5leHBvcnRzLmlzQWJvcnRlZCA9IGlzQWJvcnRlZDtcbmNvbnN0IGlzRGlydHkgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiZGlydHlcIjtcbmV4cG9ydHMuaXNEaXJ0eSA9IGlzRGlydHk7XG5jb25zdCBpc1ZhbGlkID0gKHgpID0+IHguc3RhdHVzID09PSBcInZhbGlkXCI7XG5leHBvcnRzLmlzVmFsaWQgPSBpc1ZhbGlkO1xuY29uc3QgaXNBc3luYyA9ICh4KSA9PiB0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB4IGluc3RhbmNlb2YgUHJvbWlzZTtcbmV4cG9ydHMuaXNBc3luYyA9IGlzQXN5bmM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5lcnJvclV0aWwgPSB2b2lkIDA7XG52YXIgZXJyb3JVdGlsO1xuKGZ1bmN0aW9uIChlcnJvclV0aWwpIHtcbiAgICBlcnJvclV0aWwuZXJyVG9PYmogPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2UgfSA6IG1lc3NhZ2UgfHwge307XG4gICAgZXJyb3JVdGlsLnRvU3RyaW5nID0gKG1lc3NhZ2UpID0+IHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IG1lc3NhZ2UgPT09IG51bGwgfHwgbWVzc2FnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVzc2FnZS5tZXNzYWdlO1xufSkoZXJyb3JVdGlsID0gZXhwb3J0cy5lcnJvclV0aWwgfHwgKGV4cG9ydHMuZXJyb3JVdGlsID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kYXRlID0gZXhwb3J0cy5ib29sZWFuID0gZXhwb3J0cy5iaWdpbnQgPSBleHBvcnRzLmFycmF5ID0gZXhwb3J0cy5hbnkgPSBleHBvcnRzLmNvZXJjZSA9IGV4cG9ydHMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kID0gZXhwb3J0cy5sYXRlID0gZXhwb3J0cy5ab2RTY2hlbWEgPSBleHBvcnRzLlNjaGVtYSA9IGV4cG9ydHMuY3VzdG9tID0gZXhwb3J0cy5ab2RSZWFkb25seSA9IGV4cG9ydHMuWm9kUGlwZWxpbmUgPSBleHBvcnRzLlpvZEJyYW5kZWQgPSBleHBvcnRzLkJSQU5EID0gZXhwb3J0cy5ab2ROYU4gPSBleHBvcnRzLlpvZENhdGNoID0gZXhwb3J0cy5ab2REZWZhdWx0ID0gZXhwb3J0cy5ab2ROdWxsYWJsZSA9IGV4cG9ydHMuWm9kT3B0aW9uYWwgPSBleHBvcnRzLlpvZFRyYW5zZm9ybWVyID0gZXhwb3J0cy5ab2RFZmZlY3RzID0gZXhwb3J0cy5ab2RQcm9taXNlID0gZXhwb3J0cy5ab2ROYXRpdmVFbnVtID0gZXhwb3J0cy5ab2RFbnVtID0gZXhwb3J0cy5ab2RMaXRlcmFsID0gZXhwb3J0cy5ab2RMYXp5ID0gZXhwb3J0cy5ab2RGdW5jdGlvbiA9IGV4cG9ydHMuWm9kU2V0ID0gZXhwb3J0cy5ab2RNYXAgPSBleHBvcnRzLlpvZFJlY29yZCA9IGV4cG9ydHMuWm9kVHVwbGUgPSBleHBvcnRzLlpvZEludGVyc2VjdGlvbiA9IGV4cG9ydHMuWm9kRGlzY3JpbWluYXRlZFVuaW9uID0gZXhwb3J0cy5ab2RVbmlvbiA9IGV4cG9ydHMuWm9kT2JqZWN0ID0gZXhwb3J0cy5ab2RBcnJheSA9IGV4cG9ydHMuWm9kVm9pZCA9IGV4cG9ydHMuWm9kTmV2ZXIgPSBleHBvcnRzLlpvZFVua25vd24gPSBleHBvcnRzLlpvZEFueSA9IGV4cG9ydHMuWm9kTnVsbCA9IGV4cG9ydHMuWm9kVW5kZWZpbmVkID0gZXhwb3J0cy5ab2RTeW1ib2wgPSBleHBvcnRzLlpvZERhdGUgPSBleHBvcnRzLlpvZEJvb2xlYW4gPSBleHBvcnRzLlpvZEJpZ0ludCA9IGV4cG9ydHMuWm9kTnVtYmVyID0gZXhwb3J0cy5ab2RTdHJpbmcgPSBleHBvcnRzLlpvZFR5cGUgPSB2b2lkIDA7XG5leHBvcnRzLk5FVkVSID0gZXhwb3J0cy52b2lkID0gZXhwb3J0cy51bmtub3duID0gZXhwb3J0cy51bmlvbiA9IGV4cG9ydHMudW5kZWZpbmVkID0gZXhwb3J0cy50dXBsZSA9IGV4cG9ydHMudHJhbnNmb3JtZXIgPSBleHBvcnRzLnN5bWJvbCA9IGV4cG9ydHMuc3RyaW5nID0gZXhwb3J0cy5zdHJpY3RPYmplY3QgPSBleHBvcnRzLnNldCA9IGV4cG9ydHMucmVjb3JkID0gZXhwb3J0cy5wcm9taXNlID0gZXhwb3J0cy5wcmVwcm9jZXNzID0gZXhwb3J0cy5waXBlbGluZSA9IGV4cG9ydHMub3N0cmluZyA9IGV4cG9ydHMub3B0aW9uYWwgPSBleHBvcnRzLm9udW1iZXIgPSBleHBvcnRzLm9ib29sZWFuID0gZXhwb3J0cy5vYmplY3QgPSBleHBvcnRzLm51bWJlciA9IGV4cG9ydHMubnVsbGFibGUgPSBleHBvcnRzLm51bGwgPSBleHBvcnRzLm5ldmVyID0gZXhwb3J0cy5uYXRpdmVFbnVtID0gZXhwb3J0cy5uYW4gPSBleHBvcnRzLm1hcCA9IGV4cG9ydHMubGl0ZXJhbCA9IGV4cG9ydHMubGF6eSA9IGV4cG9ydHMuaW50ZXJzZWN0aW9uID0gZXhwb3J0cy5pbnN0YW5jZW9mID0gZXhwb3J0cy5mdW5jdGlvbiA9IGV4cG9ydHMuZW51bSA9IGV4cG9ydHMuZWZmZWN0ID0gZXhwb3J0cy5kaXNjcmltaW5hdGVkVW5pb24gPSB2b2lkIDA7XG5jb25zdCBlcnJvcnNfMSA9IHJlcXVpcmUoXCIuL2Vycm9yc1wiKTtcbmNvbnN0IGVycm9yVXRpbF8xID0gcmVxdWlyZShcIi4vaGVscGVycy9lcnJvclV0aWxcIik7XG5jb25zdCBwYXJzZVV0aWxfMSA9IHJlcXVpcmUoXCIuL2hlbHBlcnMvcGFyc2VVdGlsXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vaGVscGVycy91dGlsXCIpO1xuY29uc3QgWm9kRXJyb3JfMSA9IHJlcXVpcmUoXCIuL1pvZEVycm9yXCIpO1xuY2xhc3MgUGFyc2VJbnB1dExhenlQYXRoIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIHZhbHVlLCBwYXRoLCBrZXkpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkUGF0aCA9IFtdO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5kYXRhID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3BhdGggPSBwYXRoO1xuICAgICAgICB0aGlzLl9rZXkgPSBrZXk7XG4gICAgfVxuICAgIGdldCBwYXRoKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlZFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fa2V5IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRQYXRoLnB1c2goLi4udGhpcy5fcGF0aCwgLi4udGhpcy5fa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCB0aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRQYXRoO1xuICAgIH1cbn1cbmNvbnN0IGhhbmRsZVJlc3VsdCA9IChjdHgsIHJlc3VsdCkgPT4ge1xuICAgIGlmICgoMCwgcGFyc2VVdGlsXzEuaXNWYWxpZCkocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQudmFsdWUgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghY3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWYWxpZGF0aW9uIGZhaWxlZCBidXQgbm8gaXNzdWVzIGRldGVjdGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Vycm9yKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3I7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3JfMS5ab2RFcnJvcihjdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3I7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn07XG5mdW5jdGlvbiBwcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zKVxuICAgICAgICByZXR1cm4ge307XG4gICAgY29uc3QgeyBlcnJvck1hcCwgaW52YWxpZF90eXBlX2Vycm9yLCByZXF1aXJlZF9lcnJvciwgZGVzY3JpcHRpb24gfSA9IHBhcmFtcztcbiAgICBpZiAoZXJyb3JNYXAgJiYgKGludmFsaWRfdHlwZV9lcnJvciB8fCByZXF1aXJlZF9lcnJvcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCB1c2UgXCJpbnZhbGlkX3R5cGVfZXJyb3JcIiBvciBcInJlcXVpcmVkX2Vycm9yXCIgaW4gY29uanVuY3Rpb24gd2l0aCBjdXN0b20gZXJyb3IgbWFwLmApO1xuICAgIH1cbiAgICBpZiAoZXJyb3JNYXApXG4gICAgICAgIHJldHVybiB7IGVycm9yTWFwOiBlcnJvck1hcCwgZGVzY3JpcHRpb24gfTtcbiAgICBjb25zdCBjdXN0b21NYXAgPSAoaXNzLCBjdHgpID0+IHtcbiAgICAgICAgaWYgKGlzcy5jb2RlICE9PSBcImludmFsaWRfdHlwZVwiKVxuICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgICBpZiAodHlwZW9mIGN0eC5kYXRhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiByZXF1aXJlZF9lcnJvciAhPT0gbnVsbCAmJiByZXF1aXJlZF9lcnJvciAhPT0gdm9pZCAwID8gcmVxdWlyZWRfZXJyb3IgOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogaW52YWxpZF90eXBlX2Vycm9yICE9PSBudWxsICYmIGludmFsaWRfdHlwZV9lcnJvciAhPT0gdm9pZCAwID8gaW52YWxpZF90eXBlX2Vycm9yIDogY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgIH07XG4gICAgcmV0dXJuIHsgZXJyb3JNYXA6IGN1c3RvbU1hcCwgZGVzY3JpcHRpb24gfTtcbn1cbmNsYXNzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKGRlZikge1xuICAgICAgICAvKiogQWxpYXMgb2Ygc2FmZVBhcnNlQXN5bmMgKi9cbiAgICAgICAgdGhpcy5zcGEgPSB0aGlzLnNhZmVQYXJzZUFzeW5jO1xuICAgICAgICB0aGlzLl9kZWYgPSBkZWY7XG4gICAgICAgIHRoaXMucGFyc2UgPSB0aGlzLnBhcnNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2FmZVBhcnNlID0gdGhpcy5zYWZlUGFyc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wYXJzZUFzeW5jID0gdGhpcy5wYXJzZUFzeW5jLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2FmZVBhcnNlQXN5bmMgPSB0aGlzLnNhZmVQYXJzZUFzeW5jLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc3BhID0gdGhpcy5zcGEuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZpbmUgPSB0aGlzLnJlZmluZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZmluZW1lbnQgPSB0aGlzLnJlZmluZW1lbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zdXBlclJlZmluZSA9IHRoaXMuc3VwZXJSZWZpbmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vcHRpb25hbCA9IHRoaXMub3B0aW9uYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5udWxsYWJsZSA9IHRoaXMubnVsbGFibGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5udWxsaXNoID0gdGhpcy5udWxsaXNoLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYXJyYXkgPSB0aGlzLmFycmF5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IHRoaXMucHJvbWlzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9yID0gdGhpcy5vci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFuZCA9IHRoaXMuYW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5icmFuZCA9IHRoaXMuYnJhbmQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gdGhpcy5kZWZhdWx0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuY2F0Y2ggPSB0aGlzLmNhdGNoLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVzY3JpYmUgPSB0aGlzLmRlc2NyaWJlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGlwZSA9IHRoaXMucGlwZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlYWRvbmx5ID0gdGhpcy5yZWFkb25seS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmlzTnVsbGFibGUgPSB0aGlzLmlzTnVsbGFibGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc09wdGlvbmFsID0gdGhpcy5pc09wdGlvbmFsLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIGdldCBkZXNjcmlwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5kZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgX2dldFR5cGUoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuICgwLCB1dGlsXzEuZ2V0UGFyc2VkVHlwZSkoaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIF9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KSB7XG4gICAgICAgIHJldHVybiAoY3R4IHx8IHtcbiAgICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICAgIGRhdGE6IGlucHV0LmRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiAoMCwgdXRpbF8xLmdldFBhcnNlZFR5cGUpKGlucHV0LmRhdGEpLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhdGg6IGlucHV0LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGlucHV0LnBhcmVudCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogbmV3IHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzKCksXG4gICAgICAgICAgICBjdHg6IHtcbiAgICAgICAgICAgICAgICBjb21tb246IGlucHV0LnBhcmVudC5jb21tb24sXG4gICAgICAgICAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgICAgICAgICBwYXJzZWRUeXBlOiAoMCwgdXRpbF8xLmdldFBhcnNlZFR5cGUpKGlucHV0LmRhdGEpLFxuICAgICAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGlucHV0LnBhcmVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9wYXJzZVN5bmMoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2UoaW5wdXQpO1xuICAgICAgICBpZiAoKDAsIHBhcnNlVXRpbF8xLmlzQXN5bmMpKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bmNocm9ub3VzIHBhcnNlIGVuY291bnRlcmVkIHByb21pc2UuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9wYXJzZUFzeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH1cbiAgICBwYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zYWZlUGFyc2UoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIHNhZmVQYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGFzeW5jOiAoX2EgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuYXN5bmMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbnRleHR1YWxFcnJvck1hcDogcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmVycm9yTWFwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMucGF0aCkgfHwgW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6ICgwLCB1dGlsXzEuZ2V0UGFyc2VkVHlwZSkoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlU3luYyh7IGRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChjdHgsIHJlc3VsdCk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2FmZVBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIGFzeW5jIHNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGNvbnRleHR1YWxFcnJvck1hcDogcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmVycm9yTWFwLFxuICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMucGF0aCkgfHwgW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6ICgwLCB1dGlsXzEuZ2V0UGFyc2VkVHlwZSkoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG1heWJlQXN5bmNSZXN1bHQgPSB0aGlzLl9wYXJzZSh7IGRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKCgwLCBwYXJzZVV0aWxfMS5pc0FzeW5jKShtYXliZUFzeW5jUmVzdWx0KVxuICAgICAgICAgICAgPyBtYXliZUFzeW5jUmVzdWx0XG4gICAgICAgICAgICA6IFByb21pc2UucmVzb2x2ZShtYXliZUFzeW5jUmVzdWx0KSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICByZWZpbmUoY2hlY2ssIG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZ2V0SXNzdWVQcm9wZXJ0aWVzID0gKHZhbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBtZXNzYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQoKHZhbCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjaGVjayh2YWwpO1xuICAgICAgICAgICAgY29uc3Qgc2V0RXJyb3IgPSAoKSA9PiBjdHguYWRkSXNzdWUoe1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmN1c3RvbSxcbiAgICAgICAgICAgICAgICAuLi5nZXRJc3N1ZVByb3BlcnRpZXModmFsKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZmluZW1lbnQoY2hlY2ssIHJlZmluZW1lbnREYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KCh2YWwsIGN0eCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjaGVjayh2YWwpKSB7XG4gICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHR5cGVvZiByZWZpbmVtZW50RGF0YSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICAgICAgID8gcmVmaW5lbWVudERhdGEodmFsLCBjdHgpXG4gICAgICAgICAgICAgICAgICAgIDogcmVmaW5lbWVudERhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3JlZmluZW1lbnQocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicmVmaW5lbWVudFwiLCByZWZpbmVtZW50IH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdXBlclJlZmluZShyZWZpbmVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KHJlZmluZW1lbnQpO1xuICAgIH1cbiAgICBvcHRpb25hbCgpIHtcbiAgICAgICAgcmV0dXJuIFpvZE9wdGlvbmFsLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBudWxsYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZE51bGxhYmxlLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBudWxsaXNoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5udWxsYWJsZSgpLm9wdGlvbmFsKCk7XG4gICAgfVxuICAgIGFycmF5KCkge1xuICAgICAgICByZXR1cm4gWm9kQXJyYXkuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBab2RQcm9taXNlLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBvcihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIFpvZFVuaW9uLmNyZWF0ZShbdGhpcywgb3B0aW9uXSwgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgYW5kKGluY29taW5nKSB7XG4gICAgICAgIHJldHVybiBab2RJbnRlcnNlY3Rpb24uY3JlYXRlKHRoaXMsIGluY29taW5nLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICB0cmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWZhdWx0KGRlZikge1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYnJhbmQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQnJhbmRlZCh7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2goZGVmKSB7XG4gICAgICAgIGNvbnN0IGNhdGNoVmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIGlubmVyVHlwZTogdGhpcyxcbiAgICAgICAgICAgIGNhdGNoVmFsdWU6IGNhdGNoVmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlc2NyaWJlKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnN0IFRoaXMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IFRoaXMoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaXBlKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gWm9kUGlwZWxpbmUuY3JlYXRlKHRoaXMsIHRhcmdldCk7XG4gICAgfVxuICAgIHJlYWRvbmx5KCkge1xuICAgICAgICByZXR1cm4gWm9kUmVhZG9ubHkuY3JlYXRlKHRoaXMpO1xuICAgIH1cbiAgICBpc09wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UodW5kZWZpbmVkKS5zdWNjZXNzO1xuICAgIH1cbiAgICBpc051bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UobnVsbCkuc3VjY2VzcztcbiAgICB9XG59XG5leHBvcnRzLlpvZFR5cGUgPSBab2RUeXBlO1xuZXhwb3J0cy5TY2hlbWEgPSBab2RUeXBlO1xuZXhwb3J0cy5ab2RTY2hlbWEgPSBab2RUeXBlO1xuY29uc3QgY3VpZFJlZ2V4ID0gL15jW15cXHMtXXs4LH0kL2k7XG5jb25zdCBjdWlkMlJlZ2V4ID0gL15bYS16XVthLXowLTldKiQvO1xuY29uc3QgdWxpZFJlZ2V4ID0gL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC87XG4vLyBjb25zdCB1dWlkUmVnZXggPVxuLy8gICAvXihbYS1mMC05XXs4fS1bYS1mMC05XXs0fS1bMS01XVthLWYwLTldezN9LVthLWYwLTldezR9LVthLWYwLTldezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pO1xuY29uc3QgdXVpZFJlZ2V4ID0gL15bMC05YS1mQS1GXXs4fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXsxMn0kL2k7XG4vLyBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NjE4MS8xNTUwMTU1XG4vLyBvbGQgdmVyc2lvbjogdG9vIHNsb3csIGRpZG4ndCBzdXBwb3J0IHVuaWNvZGVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPSAvXigoKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSsoXFwuKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSspKil8KChcXHgyMikoKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPygoW1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4N2ZdfFxceDIxfFtcXHgyMy1cXHg1Yl18W1xceDVkLVxceDdlXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KFxcXFwoW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBkLVxceDdmXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSkqKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPyhcXHgyMikpKUAoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkkL2k7XG4vL29sZCBlbWFpbCByZWdleFxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKChbXjw+KClbXFxdLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF0uLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoPyEtKShbXjw+KClbXFxdLiw7Olxcc0BcIl0rXFwuKStbXjw+KClbXFxdLiw7Olxcc0BcIl17MSx9KVteLTw+KClbXFxdLiw7Olxcc0BcIl0kL2k7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFsoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXF0pfChcXFtJUHY2OigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSlcXF0pfChbQS1aYS16MC05XShbQS1aYS16MC05LV0qW0EtWmEtejAtOV0pKihcXC5bQS1aYS16XXsyLH0pKykpJC87XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16QS1aMC05XFwuXFwhXFwjXFwkXFwlXFwmXFwnXFwqXFwrXFwvXFw9XFw/XFxeXFxfXFxgXFx7XFx8XFx9XFx+XFwtXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXig/OlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSp8XCIoPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMVxceDIzLVxceDViXFx4NWQtXFx4N2ZdfFxcXFxbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGUtXFx4N2ZdKSpcIilAKD86KD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP3xcXFsoPzooPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldP3xbYS16MC05LV0qW2EtejAtOV06KD86W1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4MjEtXFx4NWFcXHg1My1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKylcXF0pJC9pO1xuY29uc3QgZW1haWxSZWdleCA9IC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbQS1aMC05XystXFwuXSopW0EtWjAtOV8rLV1AKFtBLVowLTldW0EtWjAtOVxcLV0qXFwuKStbQS1aXXsyLH0kL2k7XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16MC05LiEjJCUm4oCZKisvPT9eX2B7fH1+LV0rQFthLXowLTktXSsoPzpcXC5bYS16MC05XFwtXSspKiQvaTtcbi8vIGZyb20gaHR0cHM6Ly90aGVrZXZpbnNjb3R0LmNvbS9lbW9qaXMtaW4tamF2YXNjcmlwdC8jd3JpdGluZy1hLXJlZ3VsYXItZXhwcmVzc2lvblxuY29uc3QgX2Vtb2ppUmVnZXggPSBgXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRgO1xubGV0IGVtb2ppUmVnZXg7XG5jb25zdCBpcHY0UmVnZXggPSAvXigoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSQvO1xuY29uc3QgaXB2NlJlZ2V4ID0gL14oKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpJC87XG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzMxNDMyMzFcbmNvbnN0IGRhdGV0aW1lUmVnZXggPSAoYXJncykgPT4ge1xuICAgIGlmIChhcmdzLnByZWNpc2lvbikge1xuICAgICAgICBpZiAoYXJncy5vZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKGBeXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1UXFxcXGR7Mn06XFxcXGR7Mn06XFxcXGR7Mn1cXFxcLlxcXFxkeyR7YXJncy5wcmVjaXNpb259fSgoWystXVxcXFxkezJ9KDo/XFxcXGR7Mn0pPyl8WikkYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXlxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9VFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9XFxcXC5cXFxcZHske2FyZ3MucHJlY2lzaW9ufX1aJGApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZ3MucHJlY2lzaW9uID09PSAwKSB7XG4gICAgICAgIGlmIChhcmdzLm9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF5cXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfVRcXFxcZHsyfTpcXFxcZHsyfTpcXFxcZHsyfSgoWystXVxcXFxkezJ9KDo/XFxcXGR7Mn0pPyl8WikkYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXlxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9VFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9WiRgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGFyZ3Mub2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXlxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9VFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9KFxcXFwuXFxcXGQrKT8oKFsrLV1cXFxcZHsyfSg6P1xcXFxkezJ9KT8pfFopJGApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF5cXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfVRcXFxcZHsyfTpcXFxcZHsyfTpcXFxcZHsyfShcXFxcLlxcXFxkKyk/WiRgKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5mdW5jdGlvbiBpc1ZhbGlkSVAoaXAsIHZlcnNpb24pIHtcbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjRcIiB8fCAhdmVyc2lvbikgJiYgaXB2NFJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjZcIiB8fCAhdmVyc2lvbikgJiYgaXB2NlJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5jbGFzcyBab2RTdHJpbmcgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBTdHJpbmcoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuc3RyaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUuc3RyaW5nLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEubGVuZ3RoID4gY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibGVuZ3RoXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbWFpbFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImVtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVtb2ppXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVtb2ppUmVnZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1vamlSZWdleCA9IG5ldyBSZWdFeHAoX2Vtb2ppUmVnZXgsIFwidVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImVtb2ppXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInV1aWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdXVpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInV1aWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkMlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkMlJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWQyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVsaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdWxpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVsaWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXJsXCIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgVVJMKGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgY2hlY2sucmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXN0UmVzdWx0ID0gY2hlY2sucmVnZXgudGVzdChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRlc3RSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInJlZ2V4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRyaW1cIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW5jbHVkZXNcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5pbmNsdWRlcyhjaGVjay52YWx1ZSwgY2hlY2sucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGluY2x1ZGVzOiBjaGVjay52YWx1ZSwgcG9zaXRpb246IGNoZWNrLnBvc2l0aW9uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b0xvd2VyQ2FzZVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidG9VcHBlckNhc2VcIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInN0YXJ0c1dpdGhcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5zdGFydHNXaXRoKGNoZWNrLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBzdGFydHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW5kc1dpdGhcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5lbmRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgZW5kc1dpdGg6IGNoZWNrLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRldGltZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBkYXRldGltZVJlZ2V4KGNoZWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImlwXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRJUChpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiaXBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWxfMS51dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgX3JlZ2V4KHJlZ2V4LCB2YWxpZGF0aW9uLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmluZW1lbnQoKGRhdGEpID0+IHJlZ2V4LnRlc3QoZGF0YSksIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb24sXG4gICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbWFpbChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1haWxcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1cmwobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInVybFwiLCAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGVtb2ppKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbW9qaVwiLCAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHV1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInV1aWRcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBjdWlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjdWlkXCIsIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgY3VpZDIobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImN1aWQyXCIsIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdWxpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidWxpZFwiLCAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGlwKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJpcFwiLCAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGRhdGV0aW1lKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiB0eXBlb2YgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5wcmVjaXNpb24pID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5wcmVjaXNpb24sXG4gICAgICAgICAgICBvZmZzZXQ6IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5vZmZzZXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZ2V4KHJlZ2V4LCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInJlZ2V4XCIsXG4gICAgICAgICAgICByZWdleDogcmVnZXgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbmNsdWRlcyh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJpbmNsdWRlc1wiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgcG9zaXRpb246IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5wb3NpdGlvbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGFydHNXaXRoKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInN0YXJ0c1dpdGhcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVuZHNXaXRoKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImVuZHNXaXRoXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IG1pbkxlbmd0aCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhMZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogbWF4TGVuZ3RoLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGVuZ3RoKGxlbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJsZW5ndGhcIixcbiAgICAgICAgICAgIHZhbHVlOiBsZW4sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2Ugei5zdHJpbmcoKS5taW4oMSkgaW5zdGVhZC5cbiAgICAgKiBAc2VlIHtAbGluayBab2RTdHJpbmcubWlufVxuICAgICAqL1xuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIGVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSk7XG4gICAgfVxuICAgIHRyaW0oKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0cmltXCIgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0b0xvd2VyQ2FzZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRvTG93ZXJDYXNlXCIgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0b1VwcGVyQ2FzZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRvVXBwZXJDYXNlXCIgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgaXNEYXRldGltZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkYXRldGltZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1haWwoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1haWxcIik7XG4gICAgfVxuICAgIGdldCBpc1VSTCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1cmxcIik7XG4gICAgfVxuICAgIGdldCBpc0Vtb2ppKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtb2ppXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVVUlEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInV1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc0NVSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ1VJRDIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZDJcIik7XG4gICAgfVxuICAgIGdldCBpc1VMSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidWxpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzSVAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiaXBcIik7XG4gICAgfVxuICAgIGdldCBtaW5MZW5ndGgoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heExlbmd0aCgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kU3RyaW5nID0gWm9kU3RyaW5nO1xuWm9kU3RyaW5nLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyxcbiAgICAgICAgY29lcmNlOiAoX2EgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM5NjY0ODQvd2h5LWRvZXMtbW9kdWx1cy1vcGVyYXRvci1yZXR1cm4tZnJhY3Rpb25hbC1udW1iZXItaW4tamF2YXNjcmlwdC8zMTcxMTAzNCMzMTcxMTAzNFxuZnVuY3Rpb24gZmxvYXRTYWZlUmVtYWluZGVyKHZhbCwgc3RlcCkge1xuICAgIGNvbnN0IHZhbERlY0NvdW50ID0gKHZhbC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3Qgc3RlcERlY0NvdW50ID0gKHN0ZXAudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IGRlY0NvdW50ID0gdmFsRGVjQ291bnQgPiBzdGVwRGVjQ291bnQgPyB2YWxEZWNDb3VudCA6IHN0ZXBEZWNDb3VudDtcbiAgICBjb25zdCB2YWxJbnQgPSBwYXJzZUludCh2YWwudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIGNvbnN0IHN0ZXBJbnQgPSBwYXJzZUludChzdGVwLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICByZXR1cm4gKHZhbEludCAlIHN0ZXBJbnQpIC8gTWF0aC5wb3coMTAsIGRlY0NvdW50KTtcbn1cbmNsYXNzIFpvZE51bWJlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgICAgICB0aGlzLnN0ZXAgPSB0aGlzLm11bHRpcGxlT2Y7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IE51bWJlcihpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5udW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5udW1iZXIsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJpbnRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdXRpbF8xLnV0aWwuaXNJbnRlZ2VyKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiaW50ZWdlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IFwiZmxvYXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmxvYXRTYWZlUmVtYWluZGVyKGlucHV0LmRhdGEsIGNoZWNrLnZhbHVlKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZixcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlT2Y6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZmluaXRlXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLm5vdF9maW5pdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbF8xLnV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBndGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHRlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbnQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJpbnRcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ucG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbXVsdGlwbGVPZih2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaW5pdGUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJmaW5pdGVcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNhZmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSkuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxuICAgIGdldCBpc0ludCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpbnRcIiB8fFxuICAgICAgICAgICAgKGNoLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiICYmIHV0aWxfMS51dGlsLmlzSW50ZWdlcihjaC52YWx1ZSkpKTtcbiAgICB9XG4gICAgZ2V0IGlzRmluaXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbCwgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJmaW5pdGVcIiB8fFxuICAgICAgICAgICAgICAgIGNoLmtpbmQgPT09IFwiaW50XCIgfHxcbiAgICAgICAgICAgICAgICBjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOdW1iZXIuaXNGaW5pdGUobWluKSAmJiBOdW1iZXIuaXNGaW5pdGUobWF4KTtcbiAgICB9XG59XG5leHBvcnRzLlpvZE51bWJlciA9IFpvZE51bWJlcjtcblpvZE51bWJlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcixcbiAgICAgICAgY29lcmNlOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RCaWdJbnQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICAgICAgdGhpcy5tYXggPSB0aGlzLmx0ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gQmlnSW50KGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmJpZ2ludCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmJpZ2ludCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YSAlIGNoZWNrLnZhbHVlICE9PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsXzEudXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kQmlnSW50ID0gWm9kQmlnSW50O1xuWm9kQmlnSW50LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludCxcbiAgICAgICAgY29lcmNlOiAoX2EgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEJvb2xlYW4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBCb29sZWFuKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmJvb2xlYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5ib29sZWFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RCb29sZWFuID0gWm9kQm9vbGVhbjtcblpvZEJvb2xlYW4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQm9vbGVhbih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbixcbiAgICAgICAgY29lcmNlOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2REYXRlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gbmV3IERhdGUoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuZGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmRhdGUsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOYU4oaW5wdXQuZGF0YS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5nZXRUaW1lKCkgPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbF8xLnV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZShpbnB1dC5kYXRhLmdldFRpbWUoKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkRhdGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluRGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4RGF0ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBtYXhEYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5EYXRlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW4gIT0gbnVsbCA/IG5ldyBEYXRlKG1pbikgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgbWF4RGF0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4ICE9IG51bGwgPyBuZXcgRGF0ZShtYXgpIDogbnVsbDtcbiAgICB9XG59XG5leHBvcnRzLlpvZERhdGUgPSBab2REYXRlO1xuWm9kRGF0ZS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2REYXRlKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgY29lcmNlOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgfHwgZmFsc2UsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGF0ZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFN5bWJvbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zeW1ib2wpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zeW1ib2wsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZFN5bWJvbCA9IFpvZFN5bWJvbDtcblpvZFN5bWJvbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTeW1ib2woe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFVuZGVmaW5lZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZFVuZGVmaW5lZCA9IFpvZFVuZGVmaW5lZDtcblpvZFVuZGVmaW5lZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmRlZmluZWQoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE51bGwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm51bGwsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZE51bGwgPSBab2ROdWxsO1xuWm9kTnVsbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kQW55IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8vIHRvIHByZXZlbnQgaW5zdGFuY2VzIG9mIG90aGVyIGNsYXNzZXMgZnJvbSBleHRlbmRpbmcgWm9kQW55LiB0aGlzIGNhdXNlcyBpc3N1ZXMgd2l0aCBjYXRjaGFsbCBpbiBab2RPYmplY3QuXG4gICAgICAgIHRoaXMuX2FueSA9IHRydWU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZEFueSA9IFpvZEFueTtcblpvZEFueS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RBbnkoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFVua25vd24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLy8gcmVxdWlyZWRcbiAgICAgICAgdGhpcy5fdW5rbm93biA9IHRydWU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZFVua25vd24gPSBab2RVbmtub3duO1xuWm9kVW5rbm93bi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmtub3duKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmtub3duLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kTmV2ZXIgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm5ldmVyLFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgfVxufVxuZXhwb3J0cy5ab2ROZXZlciA9IFpvZE5ldmVyO1xuWm9kTmV2ZXIuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmV2ZXIoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5ldmVyLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kVm9pZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS52b2lkLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RWb2lkID0gWm9kVm9pZDtcblpvZFZvaWQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVm9pZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVm9pZCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEFycmF5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4LCBzdGF0dXMgfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuX2RlZjtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5leGFjdExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY3R4LmRhdGEubGVuZ3RoID4gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjdHguZGF0YS5sZW5ndGggPCBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogdG9vQmlnID8gWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyA6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogKHRvb1NtYWxsID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogKHRvb0JpZyA/IGRlZi5leGFjdExlbmd0aC52YWx1ZSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5taW5MZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPCBkZWYubWluTGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluTGVuZ3RoLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWluTGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5tYXhMZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPiBkZWYubWF4TGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heExlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heExlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmLnR5cGUuX3BhcnNlQXN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSk7XG4gICAgICAgICAgICB9KSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VTeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbiAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiB7IHZhbHVlOiBtaW5MZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1heExlbmd0aDogeyB2YWx1ZTogbWF4TGVuZ3RoLCBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBleGFjdExlbmd0aDogeyB2YWx1ZTogbGVuLCBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kQXJyYXkgPSBab2RBcnJheTtcblpvZEFycmF5LmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIG1pbkxlbmd0aDogbnVsbCxcbiAgICAgICAgbWF4TGVuZ3RoOiBudWxsLFxuICAgICAgICBleGFjdExlbmd0aDogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYSkge1xuICAgIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPYmplY3QpIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hLnNoYXBlKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHNjaGVtYS5zaGFwZVtrZXldO1xuICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShmaWVsZFNjaGVtYSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICAgIHR5cGU6IGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS5lbGVtZW50KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZFR1cGxlKSB7XG4gICAgICAgIHJldHVybiBab2RUdXBsZS5jcmVhdGUoc2NoZW1hLml0ZW1zLm1hcCgoaXRlbSkgPT4gZGVlcFBhcnRpYWxpZnkoaXRlbSkpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuY2xhc3MgWm9kT2JqZWN0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX2NhY2hlZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBJbiBtb3N0IGNhc2VzLCB0aGlzIGlzIG5vIGxvbmdlciBuZWVkZWQgLSB1bmtub3duIHByb3BlcnRpZXMgYXJlIG5vdyBzaWxlbnRseSBzdHJpcHBlZC5cbiAgICAgICAgICogSWYgeW91IHdhbnQgdG8gcGFzcyB0aHJvdWdoIHVua25vd24gcHJvcGVydGllcywgdXNlIGAucGFzc3Rocm91Z2goKWAgaW5zdGVhZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubm9uc3RyaWN0ID0gdGhpcy5wYXNzdGhyb3VnaDtcbiAgICAgICAgLy8gZXh0ZW5kPFxuICAgICAgICAvLyAgIEF1Z21lbnRhdGlvbiBleHRlbmRzIFpvZFJhd1NoYXBlLFxuICAgICAgICAvLyAgIE5ld091dHB1dCBleHRlbmRzIHV0aWwuZmxhdHRlbjx7XG4gICAgICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX291dHB1dFwiXVxuICAgICAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBPdXRwdXRcbiAgICAgICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAgICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAgICAgLy8gICB9PixcbiAgICAgICAgLy8gICBOZXdJbnB1dCBleHRlbmRzIHV0aWwuZmxhdHRlbjx7XG4gICAgICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfaW5wdXRcIl1cbiAgICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgSW5wdXRcbiAgICAgICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgICAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgICAgICAvLyAgIH0+XG4gICAgICAgIC8vID4oXG4gICAgICAgIC8vICAgYXVnbWVudGF0aW9uOiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gKTogWm9kT2JqZWN0PFxuICAgICAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIEF1Z21lbnRhdGlvbj4sXG4gICAgICAgIC8vICAgVW5rbm93bktleXMsXG4gICAgICAgIC8vICAgQ2F0Y2hhbGwsXG4gICAgICAgIC8vICAgTmV3T3V0cHV0LFxuICAgICAgICAvLyAgIE5ld0lucHV0XG4gICAgICAgIC8vID4ge1xuICAgICAgICAvLyAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgLy8gICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgLy8gICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAvLyAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgLy8gICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgICAgICAvLyAgICAgfSksXG4gICAgICAgIC8vICAgfSkgYXMgYW55O1xuICAgICAgICAvLyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYC5leHRlbmRgIGluc3RlYWRcbiAgICAgICAgICogICovXG4gICAgICAgIHRoaXMuYXVnbWVudCA9IHRoaXMuZXh0ZW5kO1xuICAgIH1cbiAgICBfZ2V0Q2FjaGVkKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGVkICE9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZDtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICAgICAgY29uc3Qga2V5cyA9IHV0aWxfMS51dGlsLm9iamVjdEtleXMoc2hhcGUpO1xuICAgICAgICByZXR1cm4gKHRoaXMuX2NhY2hlZCA9IHsgc2hhcGUsIGtleXMgfSk7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCB7IHNoYXBlLCBrZXlzOiBzaGFwZUtleXMgfSA9IHRoaXMuX2dldENhY2hlZCgpO1xuICAgICAgICBjb25zdCBleHRyYUtleXMgPSBbXTtcbiAgICAgICAgaWYgKCEodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIgJiZcbiAgICAgICAgICAgIHRoaXMuX2RlZi51bmtub3duS2V5cyA9PT0gXCJzdHJpcFwiKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY3R4LmRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNoYXBlS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhS2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhaXJzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXBlS2V5cykge1xuICAgICAgICAgICAgY29uc3Qga2V5VmFsaWRhdG9yID0gc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlWYWxpZGF0b3IuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jYXRjaGFsbCBpbnN0YW5jZW9mIFpvZE5ldmVyKSB7XG4gICAgICAgICAgICBjb25zdCB1bmtub3duS2V5cyA9IHRoaXMuX2RlZi51bmtub3duS2V5cztcbiAgICAgICAgICAgIGlmICh1bmtub3duS2V5cyA9PT0gXCJwYXNzdGhyb3VnaFwiKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGN0eC5kYXRhW2tleV0gfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodW5rbm93bktleXMgPT09IFwic3RyaWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXh0cmFLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnVucmVjb2duaXplZF9rZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5czogZXh0cmFLZXlzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodW5rbm93bktleXMgPT09IFwic3RyaXBcIikge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnRlcm5hbCBab2RPYmplY3QgZXJyb3I6IGludmFsaWQgdW5rbm93bktleXMgdmFsdWUuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBydW4gY2F0Y2hhbGwgdmFsaWRhdGlvblxuICAgICAgICAgICAgY29uc3QgY2F0Y2hhbGwgPSB0aGlzLl9kZWYuY2F0Y2hhbGw7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eC5kYXRhW2tleV07XG4gICAgICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2F0Y2hhbGwuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIGtleSkgLy8sIGN0eC5jaGlsZChrZXkpLCB2YWx1ZSwgZ2V0UGFyc2VkVHlwZSh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhd2FpdCBwYWlyLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBwYWlyLmFsd2F5c1NldCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jUGFpcnM7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChzeW5jUGFpcnMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICB9XG4gICAgc3RyaWN0KG1lc3NhZ2UpIHtcbiAgICAgICAgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgICAgIC4uLihtZXNzYWdlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNYXA6IChpc3N1ZSwgY3R4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0RXJyb3IgPSAoX2MgPSAoX2IgPSAoX2EgPSB0aGlzLl9kZWYpLmVycm9yTWFwKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgaXNzdWUsIGN0eCkubWVzc2FnZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcInVucmVjb2duaXplZF9rZXlzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogKF9kID0gZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLm1lc3NhZ2UpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGRlZmF1bHRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWZhdWx0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0cmlwKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGFzc3Rocm91Z2goKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInBhc3N0aHJvdWdoXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBjb25zdCBBdWdtZW50RmFjdG9yeSA9XG4gICAgLy8gICA8RGVmIGV4dGVuZHMgWm9kT2JqZWN0RGVmPihkZWY6IERlZikgPT5cbiAgICAvLyAgIDxBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZT4oXG4gICAgLy8gICAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgLy8gICApOiBab2RPYmplY3Q8XG4gICAgLy8gICAgIGV4dGVuZFNoYXBlPFJldHVyblR5cGU8RGVmW1wic2hhcGVcIl0+LCBBdWdtZW50YXRpb24+LFxuICAgIC8vICAgICBEZWZbXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgICAgRGVmW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyAgID4gPT4ge1xuICAgIC8vICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgICAgLi4uZGVmLFxuICAgIC8vICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgIC8vICAgICAgICAgLi4uZGVmLnNoYXBlKCksXG4gICAgLy8gICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgLy8gICAgICAgfSksXG4gICAgLy8gICAgIH0pIGFzIGFueTtcbiAgICAvLyAgIH07XG4gICAgZXh0ZW5kKGF1Z21lbnRhdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByaW9yIHRvIHpvZEAxLjAuMTIgdGhlcmUgd2FzIGEgYnVnIGluIHRoZVxuICAgICAqIGluZmVycmVkIHR5cGUgb2YgbWVyZ2VkIG9iamVjdHMuIFBsZWFzZVxuICAgICAqIHVwZ3JhZGUgaWYgeW91IGFyZSBleHBlcmllbmNpbmcgaXNzdWVzLlxuICAgICAqL1xuICAgIG1lcmdlKG1lcmdpbmcpIHtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgICAgIC4uLm1lcmdpbmcuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWQ7XG4gICAgfVxuICAgIC8vIG1lcmdlPFxuICAgIC8vICAgSW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3QsXG4gICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBJbmNvbWluZ1tcInNoYXBlXCJdLFxuICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgIC8vICAgfSxcbiAgICAvLyAgIE5ld0lucHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgLy8gICB9XG4gICAgLy8gPihcbiAgICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gICAgLy8gKTogWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXSxcbiAgICAvLyAgIE5ld091dHB1dCxcbiAgICAvLyAgIE5ld0lucHV0XG4gICAgLy8gPiB7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgc2V0S2V5KGtleSwgc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1Z21lbnQoeyBba2V5XTogc2NoZW1hIH0pO1xuICAgIH1cbiAgICAvLyBtZXJnZTxJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdD4oXG4gICAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAgIC8vICk6IC8vWm9kT2JqZWN0PFQgJiBJbmNvbWluZ1tcIl9zaGFwZVwiXSwgVW5rbm93bktleXMsIENhdGNoYWxsPiA9IChtZXJnaW5nKSA9PiB7XG4gICAgLy8gWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXVxuICAgIC8vID4ge1xuICAgIC8vICAgLy8gY29uc3QgbWVyZ2VkU2hhcGUgPSBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKFxuICAgIC8vICAgLy8gICB0aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAvLyAgIC8vICAgbWVyZ2luZy5fZGVmLnNoYXBlKClcbiAgICAvLyAgIC8vICk7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgY2F0Y2hhbGwoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IGluZGV4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGljayhtYXNrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICAgIHV0aWxfMS51dGlsLm9iamVjdEtleXMobWFzaykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAobWFza1trZXldICYmIHRoaXMuc2hhcGVba2V5XSkge1xuICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbWl0KG1hc2spIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICAgICAgdXRpbF8xLnV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGlmICghbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgZGVlcFBhcnRpYWwoKSB7XG4gICAgICAgIHJldHVybiBkZWVwUGFydGlhbGlmeSh0aGlzKTtcbiAgICB9XG4gICAgcGFydGlhbChtYXNrKSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIHV0aWxfMS51dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWEub3B0aW9uYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlcXVpcmVkKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgdXRpbF8xLnV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICAgICAgbGV0IG5ld0ZpZWxkID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5ld0ZpZWxkIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RmllbGQgPSBuZXdGaWVsZC5fZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IG5ld0ZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAga2V5b2YoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVab2RFbnVtKHV0aWxfMS51dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kT2JqZWN0ID0gWm9kT2JqZWN0O1xuWm9kT2JqZWN0LmNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RPYmplY3Quc3RyaWN0Q3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RPYmplY3QubGF6eWNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3VsdHMocmVzdWx0cykge1xuICAgICAgICAgICAgLy8gcmV0dXJuIGZpcnN0IGlzc3VlLWZyZWUgdmFsaWRhdGlvbiBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGlzc3VlcyBmcm9tIGRpcnR5IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLnJlc3VsdC5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJldHVybiBpbnZhbGlkXG4gICAgICAgICAgICBjb25zdCB1bmlvbkVycm9ycyA9IHJlc3VsdHMubWFwKChyZXN1bHQpID0+IG5ldyBab2RFcnJvcl8xLlpvZEVycm9yKHJlc3VsdC5jdHguY29tbW9uLmlzc3VlcykpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uLFxuICAgICAgICAgICAgICAgIHVuaW9uRXJyb3JzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKG9wdGlvbnMubWFwKGFzeW5jIChvcHRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGF3YWl0IG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGN0eDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKS50aGVuKGhhbmRsZVJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGRpcnR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgaXNzdWVzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRDdHggPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIgJiYgIWRpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpcnR5ID0geyByZXN1bHQsIGN0eDogY2hpbGRDdHggfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3Vlcy5wdXNoKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXJ0eSkge1xuICAgICAgICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4uZGlydHkuY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXJ0eS5yZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1bmlvbkVycm9ycyA9IGlzc3Vlcy5tYXAoKGlzc3VlcykgPT4gbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IoaXNzdWVzKSk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgICAgICAgdW5pb25FcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RVbmlvbiA9IFpvZFVuaW9uO1xuWm9kVW5pb24uY3JlYXRlID0gKHR5cGVzLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuaW9uKHtcbiAgICAgICAgb3B0aW9uczogdHlwZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgWm9kRGlzY3JpbWluYXRlZFVuaW9uICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuY29uc3QgZ2V0RGlzY3JpbWluYXRvciA9ICh0eXBlKSA9PiB7XG4gICAgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMYXp5KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2NoZW1hKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVmZmVjdHMpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5pbm5lclR5cGUoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMaXRlcmFsKSB7XG4gICAgICAgIHJldHVybiBbdHlwZS52YWx1ZV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiB0eXBlLm9wdGlvbnM7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROYXRpdmVFbnVtKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBiYW4vYmFuXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0eXBlLmVudW0pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRGVmYXVsdCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLl9kZWYuaW5uZXJUeXBlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gW3VuZGVmaW5lZF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsKSB7XG4gICAgICAgIHJldHVybiBbbnVsbF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59O1xuY2xhc3MgWm9kRGlzY3JpbWluYXRlZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3IgPSB0aGlzLmRpc2NyaW1pbmF0b3I7XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZSA9IGN0eC5kYXRhW2Rpc2NyaW1pbmF0b3JdO1xuICAgICAgICBjb25zdCBvcHRpb24gPSB0aGlzLm9wdGlvbnNNYXAuZ2V0KGRpc2NyaW1pbmF0b3JWYWx1ZSk7XG4gICAgICAgIGlmICghb3B0aW9uKSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvcixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBcnJheS5mcm9tKHRoaXMub3B0aW9uc01hcC5rZXlzKCkpLFxuICAgICAgICAgICAgICAgIHBhdGg6IFtkaXNjcmltaW5hdG9yXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGRpc2NyaW1pbmF0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZGlzY3JpbWluYXRvcjtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnNNYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9uc01hcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBkaXNjcmltaW5hdGVkIHVuaW9uIHNjaGVtYS4gSXRzIGJlaGF2aW91ciBpcyB2ZXJ5IHNpbWlsYXIgdG8gdGhhdCBvZiB0aGUgbm9ybWFsIHoudW5pb24oKSBjb25zdHJ1Y3Rvci5cbiAgICAgKiBIb3dldmVyLCBpdCBvbmx5IGFsbG93cyBhIHVuaW9uIG9mIG9iamVjdHMsIGFsbCBvZiB3aGljaCBuZWVkIHRvIHNoYXJlIGEgZGlzY3JpbWluYXRvciBwcm9wZXJ0eS4gVGhpcyBwcm9wZXJ0eSBtdXN0XG4gICAgICogaGF2ZSBhIGRpZmZlcmVudCB2YWx1ZSBmb3IgZWFjaCBvYmplY3QgaW4gdGhlIHVuaW9uLlxuICAgICAqIEBwYXJhbSBkaXNjcmltaW5hdG9yIHRoZSBuYW1lIG9mIHRoZSBkaXNjcmltaW5hdG9yIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHR5cGVzIGFuIGFycmF5IG9mIG9iamVjdCBzY2hlbWFzXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoZGlzY3JpbWluYXRvciwgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgICAgIC8vIEdldCBhbGwgdGhlIHZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWVzXG4gICAgICAgIGNvbnN0IG9wdGlvbnNNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIHRyeSB7XG4gICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWVzID0gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNoYXBlW2Rpc2NyaW1pbmF0b3JdKTtcbiAgICAgICAgICAgIGlmICghZGlzY3JpbWluYXRvclZhbHVlcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBkaXNjcmltaW5hdG9yIHZhbHVlIGZvciBrZXkgXFxgJHtkaXNjcmltaW5hdG9yfVxcYCBjb3VsZCBub3QgYmUgZXh0cmFjdGVkIGZyb20gYWxsIHNjaGVtYSBvcHRpb25zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGRpc2NyaW1pbmF0b3JWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcC5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGlzY3JpbWluYXRvciBwcm9wZXJ0eSAke1N0cmluZyhkaXNjcmltaW5hdG9yKX0gaGFzIGR1cGxpY2F0ZSB2YWx1ZSAke1N0cmluZyh2YWx1ZSl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbnNNYXAuc2V0KHZhbHVlLCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZERpc2NyaW1pbmF0ZWRVbmlvbih7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbixcbiAgICAgICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9uc01hcCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2REaXNjcmltaW5hdGVkVW5pb24gPSBab2REaXNjcmltaW5hdGVkVW5pb247XG5mdW5jdGlvbiBtZXJnZVZhbHVlcyhhLCBiKSB7XG4gICAgY29uc3QgYVR5cGUgPSAoMCwgdXRpbF8xLmdldFBhcnNlZFR5cGUpKGEpO1xuICAgIGNvbnN0IGJUeXBlID0gKDAsIHV0aWxfMS5nZXRQYXJzZWRUeXBlKShiKTtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUub2JqZWN0ICYmIGJUeXBlID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgY29uc3QgYktleXMgPSB1dGlsXzEudXRpbC5vYmplY3RLZXlzKGIpO1xuICAgICAgICBjb25zdCBzaGFyZWRLZXlzID0gdXRpbF8xLnV0aWxcbiAgICAgICAgICAgIC5vYmplY3RLZXlzKGEpXG4gICAgICAgICAgICAuZmlsdGVyKChrZXkpID0+IGJLZXlzLmluZGV4T2Yoa2V5KSAhPT0gLTEpO1xuICAgICAgICBjb25zdCBuZXdPYmogPSB7IC4uLmEsIC4uLmIgfTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcmVkS2V5cykge1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhhW2tleV0sIGJba2V5XSk7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdPYmpba2V5XSA9IHNoYXJlZFZhbHVlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld09iaiB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuYXJyYXkgJiYgYlR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0FycmF5ID0gW107XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbUEgPSBhW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1CID0gYltpbmRleF07XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGl0ZW1BLCBpdGVtQik7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdBcnJheS5wdXNoKHNoYXJlZFZhbHVlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdBcnJheSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuZGF0ZSAmJlxuICAgICAgICBiVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuZGF0ZSAmJlxuICAgICAgICArYSA9PT0gK2IpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgIH1cbn1cbmNsYXNzIFpvZEludGVyc2VjdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBoYW5kbGVQYXJzZWQgPSAocGFyc2VkTGVmdCwgcGFyc2VkUmlnaHQpID0+IHtcbiAgICAgICAgICAgIGlmICgoMCwgcGFyc2VVdGlsXzEuaXNBYm9ydGVkKShwYXJzZWRMZWZ0KSB8fCAoMCwgcGFyc2VVdGlsXzEuaXNBYm9ydGVkKShwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IG1lcmdlVmFsdWVzKHBhcnNlZExlZnQudmFsdWUsIHBhcnNlZFJpZ2h0LnZhbHVlKTtcbiAgICAgICAgICAgIGlmICghbWVyZ2VkLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKDAsIHBhcnNlVXRpbF8xLmlzRGlydHkpKHBhcnNlZExlZnQpIHx8ICgwLCBwYXJzZVV0aWxfMS5pc0RpcnR5KShwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogbWVyZ2VkLmRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmLmxlZnQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RlZi5yaWdodC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdKS50aGVuKChbbGVmdCwgcmlnaHRdKSA9PiBoYW5kbGVQYXJzZWQobGVmdCwgcmlnaHQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVQYXJzZWQodGhpcy5fZGVmLmxlZnQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KSwgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5ab2RJbnRlcnNlY3Rpb24gPSBab2RJbnRlcnNlY3Rpb247XG5ab2RJbnRlcnNlY3Rpb24uY3JlYXRlID0gKGxlZnQsIHJpZ2h0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEludGVyc2VjdGlvbih7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHJpZ2h0OiByaWdodCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RUdXBsZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoIDwgdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgbWluaW11bTogdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdCA9IHRoaXMuX2RlZi5yZXN0O1xuICAgICAgICBpZiAoIXJlc3QgJiYgY3R4LmRhdGEubGVuZ3RoID4gdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgIG1heGltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gWy4uLmN0eC5kYXRhXVxuICAgICAgICAgICAgLm1hcCgoaXRlbSwgaXRlbUluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLl9kZWYuaXRlbXNbaXRlbUluZGV4XSB8fCB0aGlzLl9kZWYucmVzdDtcbiAgICAgICAgICAgIGlmICghc2NoZW1hKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVtYS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpdGVtSW5kZXgpKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+ICEheCk7IC8vIGZpbHRlciBudWxsc1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGl0ZW1zKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCBpdGVtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLml0ZW1zO1xuICAgIH1cbiAgICByZXN0KHJlc3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICByZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlpvZFR1cGxlID0gWm9kVHVwbGU7XG5ab2RUdXBsZS5jcmVhdGUgPSAoc2NoZW1hcywgcGFyYW1zKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHBhc3MgYW4gYXJyYXkgb2Ygc2NoZW1hcyB0byB6LnR1cGxlKFsgLi4uIF0pXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgICAgaXRlbXM6IHNjaGVtYXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVHVwbGUsXG4gICAgICAgIHJlc3Q6IG51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RSZWNvcmQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQga2V5U2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgfVxuICAgIGdldCB2YWx1ZVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhaXJzID0gW107XG4gICAgICAgIGNvbnN0IGtleVR5cGUgPSB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY3R4LmRhdGEpIHtcbiAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBjdHguZGF0YVtrZXldLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0QXN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShmaXJzdCwgc2Vjb25kLCB0aGlyZCkge1xuICAgICAgICBpZiAoc2Vjb25kIGluc3RhbmNlb2YgWm9kVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RSZWNvcmQoe1xuICAgICAgICAgICAgICAgIGtleVR5cGU6IGZpcnN0LFxuICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogc2Vjb25kLFxuICAgICAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkLFxuICAgICAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcmQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RSZWNvcmQoe1xuICAgICAgICAgICAga2V5VHlwZTogWm9kU3RyaW5nLmNyZWF0ZSgpLFxuICAgICAgICAgICAgdmFsdWVUeXBlOiBmaXJzdCxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhzZWNvbmQpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlpvZFJlY29yZCA9IFpvZFJlY29yZDtcbmNsYXNzIFpvZE1hcCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBrZXlTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUubWFwKSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUubWFwLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBjb25zdCBwYWlycyA9IFsuLi5jdHguZGF0YS5lbnRyaWVzKCldLm1hcCgoW2tleSwgdmFsdWVdLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBbaW5kZXgsIFwia2V5XCJdKSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwgW2luZGV4LCBcInZhbHVlXCJdKSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlpvZE1hcCA9IFpvZE1hcDtcblpvZE1hcC5jcmVhdGUgPSAoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE1hcCh7XG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAga2V5VHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RNYXAsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RTZXQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zZXQpIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zZXQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgICAgIGlmIChkZWYubWluU2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPCBkZWYubWluU2l6ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pblNpemUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWluU2l6ZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWF4U2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPiBkZWYubWF4U2l6ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhTaXplLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heFNpemUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBmdW5jdGlvbiBmaW5hbGl6ZVNldChlbGVtZW50cykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkU2V0ID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIHBhcnNlZFNldC5hZGQoZWxlbWVudC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHBhcnNlZFNldCB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gWy4uLmN0eC5kYXRhLnZhbHVlcygpXS5tYXAoKGl0ZW0sIGkpID0+IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSkpO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGVsZW1lbnRzKS50aGVuKChlbGVtZW50cykgPT4gZmluYWxpemVTZXQoZWxlbWVudHMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5hbGl6ZVNldChlbGVtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWluKG1pblNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluU2l6ZTogeyB2YWx1ZTogbWluU2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4U2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtYXhTaXplOiB7IHZhbHVlOiBtYXhTaXplLCBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNpemUoc2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oc2l6ZSwgbWVzc2FnZSkubWF4KHNpemUsIG1lc3NhZ2UpO1xuICAgIH1cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZFNldCA9IFpvZFNldDtcblpvZFNldC5jcmVhdGUgPSAodmFsdWVUeXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAgbWluU2l6ZTogbnVsbCxcbiAgICAgICAgbWF4U2l6ZTogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTZXQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RGdW5jdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnZhbGlkYXRlID0gdGhpcy5pbXBsZW1lbnQ7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5mdW5jdGlvbikge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZUFyZ3NJc3N1ZShhcmdzLCBlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5tYWtlSXNzdWUpKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW1xuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JzXzEuZ2V0RXJyb3JNYXApKCksXG4gICAgICAgICAgICAgICAgICAgIGVycm9yc18xLmRlZmF1bHRFcnJvck1hcCxcbiAgICAgICAgICAgICAgICBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c0Vycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZVJldHVybnNJc3N1ZShyZXR1cm5zLCBlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5tYWtlSXNzdWUpKHtcbiAgICAgICAgICAgICAgICBkYXRhOiByZXR1cm5zLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW1xuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JzXzEuZ2V0RXJyb3JNYXApKCksXG4gICAgICAgICAgICAgICAgICAgIGVycm9yc18xLmRlZmF1bHRFcnJvck1hcCxcbiAgICAgICAgICAgICAgICBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9yZXR1cm5fdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHlwZUVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0geyBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAgfTtcbiAgICAgICAgY29uc3QgZm4gPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5yZXR1cm5zIGluc3RhbmNlb2YgWm9kUHJvbWlzZSkge1xuICAgICAgICAgICAgLy8gV291bGQgbG92ZSBhIHdheSB0byBhdm9pZCBkaXNhYmxpbmcgdGhpcyBydWxlLCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gYW4gYWxpYXMgKHVzaW5nIGFuIGFycm93IGZ1bmN0aW9uIHdhcyB3aGF0IGNhdXNlZCAyNjUxKS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoYXN5bmMgZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcl8xLlpvZEVycm9yKFtdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gYXdhaXQgbWUuX2RlZi5hcmdzXG4gICAgICAgICAgICAgICAgICAgIC5wYXJzZUFzeW5jKGFyZ3MsIHBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmFkZElzc3VlKG1ha2VBcmdzSXNzdWUoYXJncywgZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBSZWZsZWN0LmFwcGx5KGZuLCB0aGlzLCBwYXJzZWRBcmdzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXR1cm5zID0gYXdhaXQgbWUuX2RlZi5yZXR1cm5zLl9kZWYudHlwZVxuICAgICAgICAgICAgICAgICAgICAucGFyc2VBc3luYyhyZXN1bHQsIHBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmFkZElzc3VlKG1ha2VSZXR1cm5zSXNzdWUocmVzdWx0LCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWRSZXR1cm5zO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBXb3VsZCBsb3ZlIGEgd2F5IHRvIGF2b2lkIGRpc2FibGluZyB0aGlzIHJ1bGUsIGJ1dCB3ZSBuZWVkXG4gICAgICAgICAgICAvLyBhbiBhbGlhcyAodXNpbmcgYW4gYXJyb3cgZnVuY3Rpb24gd2FzIHdoYXQgY2F1c2VkIDI2NTEpLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgICAgICBjb25zdCBtZSA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBtZS5fZGVmLmFyZ3Muc2FmZVBhcnNlKGFyZ3MsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZWRBcmdzLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IoW21ha2VBcmdzSXNzdWUoYXJncywgcGFyc2VkQXJncy5lcnJvcildKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5hcHBseShmbiwgdGhpcywgcGFyc2VkQXJncy5kYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXR1cm5zID0gbWUuX2RlZi5yZXR1cm5zLnNhZmVQYXJzZShyZXN1bHQsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZWRSZXR1cm5zLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IoW21ha2VSZXR1cm5zSXNzdWUocmVzdWx0LCBwYXJzZWRSZXR1cm5zLmVycm9yKV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucy5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGFyYW1ldGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5hcmdzO1xuICAgIH1cbiAgICByZXR1cm5UeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnJldHVybnM7XG4gICAgfVxuICAgIGFyZ3MoLi4uaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBhcmdzOiBab2RUdXBsZS5jcmVhdGUoaXRlbXMpLnJlc3QoWm9kVW5rbm93bi5jcmVhdGUoKSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm5zKHJldHVyblR5cGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICByZXR1cm5zOiByZXR1cm5UeXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW1wbGVtZW50KGZ1bmMpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkRnVuYyA9IHRoaXMucGFyc2UoZnVuYyk7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRGdW5jO1xuICAgIH1cbiAgICBzdHJpY3RJbXBsZW1lbnQoZnVuYykge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoYXJncywgcmV0dXJucywgcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgYXJnczogKGFyZ3NcbiAgICAgICAgICAgICAgICA/IGFyZ3NcbiAgICAgICAgICAgICAgICA6IFpvZFR1cGxlLmNyZWF0ZShbXSkucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKSksXG4gICAgICAgICAgICByZXR1cm5zOiByZXR1cm5zIHx8IFpvZFVua25vd24uY3JlYXRlKCksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEZ1bmN0aW9uLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlpvZEZ1bmN0aW9uID0gWm9kRnVuY3Rpb247XG5jbGFzcyBab2RMYXp5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5nZXR0ZXIoKTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBsYXp5U2NoZW1hID0gdGhpcy5fZGVmLmdldHRlcigpO1xuICAgICAgICByZXR1cm4gbGF6eVNjaGVtYS5fcGFyc2UoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kTGF6eSA9IFpvZExhenk7XG5ab2RMYXp5LmNyZWF0ZSA9IChnZXR0ZXIsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTGF6eSh7XG4gICAgICAgIGdldHRlcjogZ2V0dGVyLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExhenksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RMaXRlcmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5kYXRhICE9PSB0aGlzLl9kZWYudmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdGhpcy5fZGVmLnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kTGl0ZXJhbCA9IFpvZExpdGVyYWw7XG5ab2RMaXRlcmFsLmNyZWF0ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RMaXRlcmFsKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExpdGVyYWwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5mdW5jdGlvbiBjcmVhdGVab2RFbnVtKHZhbHVlcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RFbnVtKHtcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmNsYXNzIFpvZEVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dC5kYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEudXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGVmLnZhbHVlcy5pbmRleE9mKGlucHV0LmRhdGEpID09PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cGVjdGVkVmFsdWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbiAgICBnZXQgZW51bSgpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGdldCBWYWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBnZXQgRW51bSgpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGV4dHJhY3QodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBab2RFbnVtLmNyZWF0ZSh2YWx1ZXMpO1xuICAgIH1cbiAgICBleGNsdWRlKHZhbHVlcykge1xuICAgICAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodGhpcy5vcHRpb25zLmZpbHRlcigob3B0KSA9PiAhdmFsdWVzLmluY2x1ZGVzKG9wdCkpKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZEVudW0gPSBab2RFbnVtO1xuWm9kRW51bS5jcmVhdGUgPSBjcmVhdGVab2RFbnVtO1xuY2xhc3MgWm9kTmF0aXZlRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBuYXRpdmVFbnVtVmFsdWVzID0gdXRpbF8xLnV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzKHRoaXMuX2RlZi52YWx1ZXMpO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuc3RyaW5nICYmXG4gICAgICAgICAgICBjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWxfMS51dGlsLm9iamVjdFZhbHVlcyhuYXRpdmVFbnVtVmFsdWVzKTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS51dGlsLmpvaW5WYWx1ZXMoZXhwZWN0ZWRWYWx1ZXMpLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYXRpdmVFbnVtVmFsdWVzLmluZGV4T2YoaW5wdXQuZGF0YSkgPT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWxfMS51dGlsLm9iamVjdFZhbHVlcyhuYXRpdmVFbnVtVmFsdWVzKTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIGdldCBlbnVtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgICB9XG59XG5leHBvcnRzLlpvZE5hdGl2ZUVudW0gPSBab2ROYXRpdmVFbnVtO1xuWm9kTmF0aXZlRW51bS5jcmVhdGUgPSAodmFsdWVzLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5hdGl2ZUVudW0oe1xuICAgICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYXRpdmVFbnVtLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kUHJvbWlzZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUucHJvbWlzZSAmJlxuICAgICAgICAgICAgY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5wcm9taXNlLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvbWlzaWZpZWQgPSBjdHgucGFyc2VkVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUucHJvbWlzZVxuICAgICAgICAgICAgPyBjdHguZGF0YVxuICAgICAgICAgICAgOiBQcm9taXNlLnJlc29sdmUoY3R4LmRhdGEpO1xuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShwcm9taXNpZmllZC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGUucGFyc2VBc3luYyhkYXRhLCB7XG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXA6IGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZFByb21pc2UgPSBab2RQcm9taXNlO1xuWm9kUHJvbWlzZS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFByb21pc2Uoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUHJvbWlzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEVmZmVjdHMgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBpbm5lclR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hO1xuICAgIH1cbiAgICBzb3VyY2VUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0c1xuICAgICAgICAgICAgPyB0aGlzLl9kZWYuc2NoZW1hLnNvdXJjZVR5cGUoKVxuICAgICAgICAgICAgOiB0aGlzLl9kZWYuc2NoZW1hO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZWZmZWN0ID0gdGhpcy5fZGVmLmVmZmVjdCB8fCBudWxsO1xuICAgICAgICBjb25zdCBjaGVja0N0eCA9IHtcbiAgICAgICAgICAgIGFkZElzc3VlOiAoYXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIGFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKGFyZy5mYXRhbCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgcGF0aCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4LnBhdGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjaGVja0N0eC5hZGRJc3N1ZSA9IGNoZWNrQ3R4LmFkZElzc3VlLmJpbmQoY2hlY2tDdHgpO1xuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwicHJlcHJvY2Vzc1wiKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzZWQgPSBlZmZlY3QudHJhbnNmb3JtKGN0eC5kYXRhLCBjaGVja0N0eCk7XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcImRpcnR5XCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHByb2Nlc3NlZCkudGhlbigocHJvY2Vzc2VkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJyZWZpbmVtZW50XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4ZWN1dGVSZWZpbmVtZW50ID0gKGFjY1xuICAgICAgICAgICAgLy8gZWZmZWN0OiBSZWZpbmVtZW50RWZmZWN0PGFueT5cbiAgICAgICAgICAgICkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVmZmVjdC5yZWZpbmVtZW50KGFjYywgY2hlY2tDdHgpO1xuICAgICAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXN5bmMgcmVmaW5lbWVudCBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkXG4gICAgICAgICAgICAgICAgZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hXG4gICAgICAgICAgICAgICAgICAgIC5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGlubmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbm5lci52YWx1ZSB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghKDAsIHBhcnNlVXRpbF8xLmlzVmFsaWQpKGJhc2UpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFzeW5jaHJvbm91cyB0cmFuc2Zvcm0gZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcmVzdWx0IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYVxuICAgICAgICAgICAgICAgICAgICAuX3BhcnNlQXN5bmMoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChiYXNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKDAsIHBhcnNlVXRpbF8xLmlzVmFsaWQpKGJhc2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCkpLnRoZW4oKHJlc3VsdCkgPT4gKHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiByZXN1bHQgfSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHV0aWxfMS51dGlsLmFzc2VydE5ldmVyKGVmZmVjdCk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RFZmZlY3RzID0gWm9kRWZmZWN0cztcbmV4cG9ydHMuWm9kVHJhbnNmb3JtZXIgPSBab2RFZmZlY3RzO1xuWm9kRWZmZWN0cy5jcmVhdGUgPSAoc2NoZW1hLCBlZmZlY3QsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICBlZmZlY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzID0gKHByZXByb2Nlc3MsIHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJwcmVwcm9jZXNzXCIsIHRyYW5zZm9ybTogcHJlcHJvY2VzcyB9LFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RPcHRpb25hbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5leHBvcnRzLlpvZE9wdGlvbmFsID0gWm9kT3B0aW9uYWw7XG5ab2RPcHRpb25hbC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPcHRpb25hbCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPcHRpb25hbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE51bGxhYmxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuZXhwb3J0cy5ab2ROdWxsYWJsZSA9IFpvZE51bGxhYmxlO1xuWm9kTnVsbGFibGUuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVsbGFibGUoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbGFibGUsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2REZWZhdWx0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBsZXQgZGF0YSA9IGN0eC5kYXRhO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2RlZi5kZWZhdWx0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVEZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5leHBvcnRzLlpvZERlZmF1bHQgPSBab2REZWZhdWx0O1xuWm9kRGVmYXVsdC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2REZWZhdWx0KHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdHlwZW9mIHBhcmFtcy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gcGFyYW1zLmRlZmF1bHRcbiAgICAgICAgICAgIDogKCkgPT4gcGFyYW1zLmRlZmF1bHQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RDYXRjaCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgLy8gbmV3Q3R4IGlzIHVzZWQgdG8gbm90IGNvbGxlY3QgaXNzdWVzIGZyb20gaW5uZXIgdHlwZXMgaW4gY3R4XG4gICAgICAgIGNvbnN0IG5ld0N0eCA9IHtcbiAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGE6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgcGF0aDogbmV3Q3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IHtcbiAgICAgICAgICAgICAgICAuLi5uZXdDdHgsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCgwLCBwYXJzZVV0aWxfMS5pc0FzeW5jKShyZXN1bHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICAgICAgID8gcmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3JfMS5ab2RFcnJvcihuZXdDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlQ2F0Y2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kQ2F0Y2ggPSBab2RDYXRjaDtcblpvZENhdGNoLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgICAgICBjYXRjaFZhbHVlOiB0eXBlb2YgcGFyYW1zLmNhdGNoID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMuY2F0Y2ggOiAoKSA9PiBwYXJhbXMuY2F0Y2gsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2ROYU4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUubmFuKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUubmFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxufVxuZXhwb3J0cy5ab2ROYU4gPSBab2ROYU47XG5ab2ROYU4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmFOKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU4sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnRzLkJSQU5EID0gU3ltYm9sKFwiem9kX2JyYW5kXCIpO1xuY2xhc3MgWm9kQnJhbmRlZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGN0eC5kYXRhO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RCcmFuZGVkID0gWm9kQnJhbmRlZDtcbmNsYXNzIFpvZFBpcGVsaW5lIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVBc3luYyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5pbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5ESVJUWSkoaW5SZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUFzeW5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IHRoaXMuX2RlZi5pbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwiZGlydHlcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RQaXBlbGluZSh7XG4gICAgICAgICAgICBpbjogYSxcbiAgICAgICAgICAgIG91dDogYixcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUGlwZWxpbmUsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kUGlwZWxpbmUgPSBab2RQaXBlbGluZTtcbmNsYXNzIFpvZFJlYWRvbmx5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgaWYgKCgwLCBwYXJzZVV0aWxfMS5pc1ZhbGlkKShyZXN1bHQpKSB7XG4gICAgICAgICAgICByZXN1bHQudmFsdWUgPSBPYmplY3QuZnJlZXplKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5leHBvcnRzLlpvZFJlYWRvbmx5ID0gWm9kUmVhZG9ubHk7XG5ab2RSZWFkb25seS5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RSZWFkb25seSh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWFkb25seSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNvbnN0IGN1c3RvbSA9IChjaGVjaywgcGFyYW1zID0ge30sIFxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICpcbiAqIFBhc3MgYGZhdGFsYCBpbnRvIHRoZSBwYXJhbXMgb2JqZWN0IGluc3RlYWQ6XG4gKlxuICogYGBgdHNcbiAqIHouc3RyaW5nKCkuY3VzdG9tKCh2YWwpID0+IHZhbC5sZW5ndGggPiA1LCB7IGZhdGFsOiBmYWxzZSB9KVxuICogYGBgXG4gKlxuICovXG5mYXRhbCkgPT4ge1xuICAgIGlmIChjaGVjaylcbiAgICAgICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKS5zdXBlclJlZmluZSgoZGF0YSwgY3R4KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgaWYgKCFjaGVjayhkYXRhKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0eXBlb2YgcGFyYW1zID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgPyBwYXJhbXMoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2YgcGFyYW1zID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHsgbWVzc2FnZTogcGFyYW1zIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogcGFyYW1zO1xuICAgICAgICAgICAgICAgIGNvbnN0IF9mYXRhbCA9IChfYiA9IChfYSA9IHAuZmF0YWwpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhdGFsKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHAyID0gdHlwZW9mIHAgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2U6IHAgfSA6IHA7XG4gICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHsgY29kZTogXCJjdXN0b21cIiwgLi4ucDIsIGZhdGFsOiBfZmF0YWwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIHJldHVybiBab2RBbnkuY3JlYXRlKCk7XG59O1xuZXhwb3J0cy5jdXN0b20gPSBjdXN0b207XG5leHBvcnRzLmxhdGUgPSB7XG4gICAgb2JqZWN0OiBab2RPYmplY3QubGF6eWNyZWF0ZSxcbn07XG52YXIgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kO1xuKGZ1bmN0aW9uIChab2RGaXJzdFBhcnR5VHlwZUtpbmQpIHtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTdHJpbmdcIl0gPSBcIlpvZFN0cmluZ1wiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bWJlclwiXSA9IFwiWm9kTnVtYmVyXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmFOXCJdID0gXCJab2ROYU5cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCaWdJbnRcIl0gPSBcIlpvZEJpZ0ludFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJvb2xlYW5cIl0gPSBcIlpvZEJvb2xlYW5cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REYXRlXCJdID0gXCJab2REYXRlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU3ltYm9sXCJdID0gXCJab2RTeW1ib2xcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmRlZmluZWRcIl0gPSBcIlpvZFVuZGVmaW5lZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bGxcIl0gPSBcIlpvZE51bGxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RBbnlcIl0gPSBcIlpvZEFueVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVua25vd25cIl0gPSBcIlpvZFVua25vd25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROZXZlclwiXSA9IFwiWm9kTmV2ZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RWb2lkXCJdID0gXCJab2RWb2lkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQXJyYXlcIl0gPSBcIlpvZEFycmF5XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kT2JqZWN0XCJdID0gXCJab2RPYmplY3RcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmlvblwiXSA9IFwiWm9kVW5pb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REaXNjcmltaW5hdGVkVW5pb25cIl0gPSBcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEludGVyc2VjdGlvblwiXSA9IFwiWm9kSW50ZXJzZWN0aW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVHVwbGVcIl0gPSBcIlpvZFR1cGxlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUmVjb3JkXCJdID0gXCJab2RSZWNvcmRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RNYXBcIl0gPSBcIlpvZE1hcFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFNldFwiXSA9IFwiWm9kU2V0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRnVuY3Rpb25cIl0gPSBcIlpvZEZ1bmN0aW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTGF6eVwiXSA9IFwiWm9kTGF6eVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZExpdGVyYWxcIl0gPSBcIlpvZExpdGVyYWxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RFbnVtXCJdID0gXCJab2RFbnVtXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRWZmZWN0c1wiXSA9IFwiWm9kRWZmZWN0c1wiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5hdGl2ZUVudW1cIl0gPSBcIlpvZE5hdGl2ZUVudW1cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RPcHRpb25hbFwiXSA9IFwiWm9kT3B0aW9uYWxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdWxsYWJsZVwiXSA9IFwiWm9kTnVsbGFibGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REZWZhdWx0XCJdID0gXCJab2REZWZhdWx0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQ2F0Y2hcIl0gPSBcIlpvZENhdGNoXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUHJvbWlzZVwiXSA9IFwiWm9kUHJvbWlzZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJyYW5kZWRcIl0gPSBcIlpvZEJyYW5kZWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RQaXBlbGluZVwiXSA9IFwiWm9kUGlwZWxpbmVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RSZWFkb25seVwiXSA9IFwiWm9kUmVhZG9ubHlcIjtcbn0pKFpvZEZpcnN0UGFydHlUeXBlS2luZCA9IGV4cG9ydHMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIHx8IChleHBvcnRzLlpvZEZpcnN0UGFydHlUeXBlS2luZCA9IHt9KSk7XG4vLyByZXF1aXJlcyBUUyA0LjQrXG5jbGFzcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoLi4uXykgeyB9XG59XG5jb25zdCBpbnN0YW5jZU9mVHlwZSA9IChcbi8vIGNvbnN0IGluc3RhbmNlT2ZUeXBlID0gPFQgZXh0ZW5kcyBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KFxuY2xzLCBwYXJhbXMgPSB7XG4gICAgbWVzc2FnZTogYElucHV0IG5vdCBpbnN0YW5jZSBvZiAke2Nscy5uYW1lfWAsXG59KSA9PiAoMCwgZXhwb3J0cy5jdXN0b20pKChkYXRhKSA9PiBkYXRhIGluc3RhbmNlb2YgY2xzLCBwYXJhbXMpO1xuZXhwb3J0cy5pbnN0YW5jZW9mID0gaW5zdGFuY2VPZlR5cGU7XG5jb25zdCBzdHJpbmdUeXBlID0gWm9kU3RyaW5nLmNyZWF0ZTtcbmV4cG9ydHMuc3RyaW5nID0gc3RyaW5nVHlwZTtcbmNvbnN0IG51bWJlclR5cGUgPSBab2ROdW1iZXIuY3JlYXRlO1xuZXhwb3J0cy5udW1iZXIgPSBudW1iZXJUeXBlO1xuY29uc3QgbmFuVHlwZSA9IFpvZE5hTi5jcmVhdGU7XG5leHBvcnRzLm5hbiA9IG5hblR5cGU7XG5jb25zdCBiaWdJbnRUeXBlID0gWm9kQmlnSW50LmNyZWF0ZTtcbmV4cG9ydHMuYmlnaW50ID0gYmlnSW50VHlwZTtcbmNvbnN0IGJvb2xlYW5UeXBlID0gWm9kQm9vbGVhbi5jcmVhdGU7XG5leHBvcnRzLmJvb2xlYW4gPSBib29sZWFuVHlwZTtcbmNvbnN0IGRhdGVUeXBlID0gWm9kRGF0ZS5jcmVhdGU7XG5leHBvcnRzLmRhdGUgPSBkYXRlVHlwZTtcbmNvbnN0IHN5bWJvbFR5cGUgPSBab2RTeW1ib2wuY3JlYXRlO1xuZXhwb3J0cy5zeW1ib2wgPSBzeW1ib2xUeXBlO1xuY29uc3QgdW5kZWZpbmVkVHlwZSA9IFpvZFVuZGVmaW5lZC5jcmVhdGU7XG5leHBvcnRzLnVuZGVmaW5lZCA9IHVuZGVmaW5lZFR5cGU7XG5jb25zdCBudWxsVHlwZSA9IFpvZE51bGwuY3JlYXRlO1xuZXhwb3J0cy5udWxsID0gbnVsbFR5cGU7XG5jb25zdCBhbnlUeXBlID0gWm9kQW55LmNyZWF0ZTtcbmV4cG9ydHMuYW55ID0gYW55VHlwZTtcbmNvbnN0IHVua25vd25UeXBlID0gWm9kVW5rbm93bi5jcmVhdGU7XG5leHBvcnRzLnVua25vd24gPSB1bmtub3duVHlwZTtcbmNvbnN0IG5ldmVyVHlwZSA9IFpvZE5ldmVyLmNyZWF0ZTtcbmV4cG9ydHMubmV2ZXIgPSBuZXZlclR5cGU7XG5jb25zdCB2b2lkVHlwZSA9IFpvZFZvaWQuY3JlYXRlO1xuZXhwb3J0cy52b2lkID0gdm9pZFR5cGU7XG5jb25zdCBhcnJheVR5cGUgPSBab2RBcnJheS5jcmVhdGU7XG5leHBvcnRzLmFycmF5ID0gYXJyYXlUeXBlO1xuY29uc3Qgb2JqZWN0VHlwZSA9IFpvZE9iamVjdC5jcmVhdGU7XG5leHBvcnRzLm9iamVjdCA9IG9iamVjdFR5cGU7XG5jb25zdCBzdHJpY3RPYmplY3RUeXBlID0gWm9kT2JqZWN0LnN0cmljdENyZWF0ZTtcbmV4cG9ydHMuc3RyaWN0T2JqZWN0ID0gc3RyaWN0T2JqZWN0VHlwZTtcbmNvbnN0IHVuaW9uVHlwZSA9IFpvZFVuaW9uLmNyZWF0ZTtcbmV4cG9ydHMudW5pb24gPSB1bmlvblR5cGU7XG5jb25zdCBkaXNjcmltaW5hdGVkVW5pb25UeXBlID0gWm9kRGlzY3JpbWluYXRlZFVuaW9uLmNyZWF0ZTtcbmV4cG9ydHMuZGlzY3JpbWluYXRlZFVuaW9uID0gZGlzY3JpbWluYXRlZFVuaW9uVHlwZTtcbmNvbnN0IGludGVyc2VjdGlvblR5cGUgPSBab2RJbnRlcnNlY3Rpb24uY3JlYXRlO1xuZXhwb3J0cy5pbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb25UeXBlO1xuY29uc3QgdHVwbGVUeXBlID0gWm9kVHVwbGUuY3JlYXRlO1xuZXhwb3J0cy50dXBsZSA9IHR1cGxlVHlwZTtcbmNvbnN0IHJlY29yZFR5cGUgPSBab2RSZWNvcmQuY3JlYXRlO1xuZXhwb3J0cy5yZWNvcmQgPSByZWNvcmRUeXBlO1xuY29uc3QgbWFwVHlwZSA9IFpvZE1hcC5jcmVhdGU7XG5leHBvcnRzLm1hcCA9IG1hcFR5cGU7XG5jb25zdCBzZXRUeXBlID0gWm9kU2V0LmNyZWF0ZTtcbmV4cG9ydHMuc2V0ID0gc2V0VHlwZTtcbmNvbnN0IGZ1bmN0aW9uVHlwZSA9IFpvZEZ1bmN0aW9uLmNyZWF0ZTtcbmV4cG9ydHMuZnVuY3Rpb24gPSBmdW5jdGlvblR5cGU7XG5jb25zdCBsYXp5VHlwZSA9IFpvZExhenkuY3JlYXRlO1xuZXhwb3J0cy5sYXp5ID0gbGF6eVR5cGU7XG5jb25zdCBsaXRlcmFsVHlwZSA9IFpvZExpdGVyYWwuY3JlYXRlO1xuZXhwb3J0cy5saXRlcmFsID0gbGl0ZXJhbFR5cGU7XG5jb25zdCBlbnVtVHlwZSA9IFpvZEVudW0uY3JlYXRlO1xuZXhwb3J0cy5lbnVtID0gZW51bVR5cGU7XG5jb25zdCBuYXRpdmVFbnVtVHlwZSA9IFpvZE5hdGl2ZUVudW0uY3JlYXRlO1xuZXhwb3J0cy5uYXRpdmVFbnVtID0gbmF0aXZlRW51bVR5cGU7XG5jb25zdCBwcm9taXNlVHlwZSA9IFpvZFByb21pc2UuY3JlYXRlO1xuZXhwb3J0cy5wcm9taXNlID0gcHJvbWlzZVR5cGU7XG5jb25zdCBlZmZlY3RzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlO1xuZXhwb3J0cy5lZmZlY3QgPSBlZmZlY3RzVHlwZTtcbmV4cG9ydHMudHJhbnNmb3JtZXIgPSBlZmZlY3RzVHlwZTtcbmNvbnN0IG9wdGlvbmFsVHlwZSA9IFpvZE9wdGlvbmFsLmNyZWF0ZTtcbmV4cG9ydHMub3B0aW9uYWwgPSBvcHRpb25hbFR5cGU7XG5jb25zdCBudWxsYWJsZVR5cGUgPSBab2ROdWxsYWJsZS5jcmVhdGU7XG5leHBvcnRzLm51bGxhYmxlID0gbnVsbGFibGVUeXBlO1xuY29uc3QgcHJlcHJvY2Vzc1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzO1xuZXhwb3J0cy5wcmVwcm9jZXNzID0gcHJlcHJvY2Vzc1R5cGU7XG5jb25zdCBwaXBlbGluZVR5cGUgPSBab2RQaXBlbGluZS5jcmVhdGU7XG5leHBvcnRzLnBpcGVsaW5lID0gcGlwZWxpbmVUeXBlO1xuY29uc3Qgb3N0cmluZyA9ICgpID0+IHN0cmluZ1R5cGUoKS5vcHRpb25hbCgpO1xuZXhwb3J0cy5vc3RyaW5nID0gb3N0cmluZztcbmNvbnN0IG9udW1iZXIgPSAoKSA9PiBudW1iZXJUeXBlKCkub3B0aW9uYWwoKTtcbmV4cG9ydHMub251bWJlciA9IG9udW1iZXI7XG5jb25zdCBvYm9vbGVhbiA9ICgpID0+IGJvb2xlYW5UeXBlKCkub3B0aW9uYWwoKTtcbmV4cG9ydHMub2Jvb2xlYW4gPSBvYm9vbGVhbjtcbmV4cG9ydHMuY29lcmNlID0ge1xuICAgIHN0cmluZzogKChhcmcpID0+IFpvZFN0cmluZy5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgbnVtYmVyOiAoKGFyZykgPT4gWm9kTnVtYmVyLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBib29sZWFuOiAoKGFyZykgPT4gWm9kQm9vbGVhbi5jcmVhdGUoe1xuICAgICAgICAuLi5hcmcsXG4gICAgICAgIGNvZXJjZTogdHJ1ZSxcbiAgICB9KSksXG4gICAgYmlnaW50OiAoKGFyZykgPT4gWm9kQmlnSW50LmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBkYXRlOiAoKGFyZykgPT4gWm9kRGF0ZS5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG59O1xuZXhwb3J0cy5ORVZFUiA9IHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2Vycm9yc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaGVscGVycy9wYXJzZVV0aWxcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2hlbHBlcnMvdHlwZUFsaWFzZXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2hlbHBlcnMvdXRpbFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdHlwZXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1pvZEVycm9yXCIpLCBleHBvcnRzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy56ID0gdm9pZCAwO1xuY29uc3QgeiA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9leHRlcm5hbFwiKSk7XG5leHBvcnRzLnogPSB6O1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2V4dGVybmFsXCIpLCBleHBvcnRzKTtcbmV4cG9ydHMuZGVmYXVsdCA9IHo7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VBbnlEZWYgPSB2b2lkIDA7XG5mdW5jdGlvbiBwYXJzZUFueURlZigpIHtcbiAgICByZXR1cm4ge307XG59XG5leHBvcnRzLnBhcnNlQW55RGVmID0gcGFyc2VBbnlEZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyA9IGV4cG9ydHMuYWRkRXJyb3JNZXNzYWdlID0gdm9pZCAwO1xuZnVuY3Rpb24gYWRkRXJyb3JNZXNzYWdlKHJlcywga2V5LCBlcnJvck1lc3NhZ2UsIHJlZnMpIHtcbiAgICBpZiAoIShyZWZzID09PSBudWxsIHx8IHJlZnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlZnMuZXJyb3JNZXNzYWdlcykpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHJlcy5lcnJvck1lc3NhZ2UgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlcy5lcnJvck1lc3NhZ2UpLCB7IFtrZXldOiBlcnJvck1lc3NhZ2UgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5hZGRFcnJvck1lc3NhZ2UgPSBhZGRFcnJvck1lc3NhZ2U7XG5mdW5jdGlvbiBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywga2V5LCB2YWx1ZSwgZXJyb3JNZXNzYWdlLCByZWZzKSB7XG4gICAgcmVzW2tleV0gPSB2YWx1ZTtcbiAgICBhZGRFcnJvck1lc3NhZ2UocmVzLCBrZXksIGVycm9yTWVzc2FnZSwgcmVmcyk7XG59XG5leHBvcnRzLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgPSBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlQXJyYXlEZWYgPSB2b2lkIDA7XG5jb25zdCB6b2RfMSA9IHJlcXVpcmUoXCJ6b2RcIik7XG5jb25zdCBlcnJvck1lc3NhZ2VzXzEgPSByZXF1aXJlKFwiLi4vZXJyb3JNZXNzYWdlc1wiKTtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5mdW5jdGlvbiBwYXJzZUFycmF5RGVmKGRlZiwgcmVmcykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgfTtcbiAgICBpZiAoKChfYiA9IChfYSA9IGRlZi50eXBlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuX2RlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnR5cGVOYW1lKSAhPT0gem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueSkge1xuICAgICAgICByZXMuaXRlbXMgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLnR5cGUuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIl0gfSkpO1xuICAgIH1cbiAgICBpZiAoZGVmLm1pbkxlbmd0aCkge1xuICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtaW5JdGVtc1wiLCBkZWYubWluTGVuZ3RoLnZhbHVlLCBkZWYubWluTGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbiAgICBpZiAoZGVmLm1heExlbmd0aCkge1xuICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtYXhJdGVtc1wiLCBkZWYubWF4TGVuZ3RoLnZhbHVlLCBkZWYubWF4TGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbiAgICBpZiAoZGVmLmV4YWN0TGVuZ3RoKSB7XG4gICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1pbkl0ZW1zXCIsIGRlZi5leGFjdExlbmd0aC52YWx1ZSwgZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtYXhJdGVtc1wiLCBkZWYuZXhhY3RMZW5ndGgudmFsdWUsIGRlZi5leGFjdExlbmd0aC5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmV4cG9ydHMucGFyc2VBcnJheURlZiA9IHBhcnNlQXJyYXlEZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VCaWdpbnREZWYgPSB2b2lkIDA7XG5jb25zdCBlcnJvck1lc3NhZ2VzXzEgPSByZXF1aXJlKFwiLi4vZXJyb3JNZXNzYWdlc1wiKTtcbmZ1bmN0aW9uIHBhcnNlQmlnaW50RGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgdHlwZTogXCJpbnRlZ2VyXCIsXG4gICAgICAgIGZvcm1hdDogXCJpbnQ2NFwiLFxuICAgIH07XG4gICAgaWYgKCFkZWYuY2hlY2tzKVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgICAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtaW5cIjpcbiAgICAgICAgICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcImV4Y2x1c2l2ZU1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1pbmltdW0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtYXhcIjpcbiAgICAgICAgICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcImV4Y2x1c2l2ZU1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1heGltdW0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZU9mXCI6XG4gICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibXVsdGlwbGVPZlwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmV4cG9ydHMucGFyc2VCaWdpbnREZWYgPSBwYXJzZUJpZ2ludERlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZUJvb2xlYW5EZWYgPSB2b2lkIDA7XG5mdW5jdGlvbiBwYXJzZUJvb2xlYW5EZWYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJib29sZWFuXCIsXG4gICAgfTtcbn1cbmV4cG9ydHMucGFyc2VCb29sZWFuRGVmID0gcGFyc2VCb29sZWFuRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlQnJhbmRlZERlZiA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5mdW5jdGlvbiBwYXJzZUJyYW5kZWREZWYoX2RlZiwgcmVmcykge1xuICAgIHJldHVybiAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoX2RlZi50eXBlLl9kZWYsIHJlZnMpO1xufVxuZXhwb3J0cy5wYXJzZUJyYW5kZWREZWYgPSBwYXJzZUJyYW5kZWREZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VDYXRjaERlZiA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5jb25zdCBwYXJzZUNhdGNoRGVmID0gKGRlZiwgcmVmcykgPT4ge1xuICAgIHJldHVybiAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKTtcbn07XG5leHBvcnRzLnBhcnNlQ2F0Y2hEZWYgPSBwYXJzZUNhdGNoRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlRGF0ZURlZiA9IHZvaWQgMDtcbmNvbnN0IGVycm9yTWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9lcnJvck1lc3NhZ2VzXCIpO1xuZnVuY3Rpb24gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChyZWZzLmRhdGVTdHJhdGVneSA9PSBcImludGVnZXJcIikge1xuICAgICAgICByZXR1cm4gaW50ZWdlckRhdGVQYXJzZXIoZGVmLCByZWZzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgZm9ybWF0OiBcImRhdGUtdGltZVwiLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMucGFyc2VEYXRlRGVmID0gcGFyc2VEYXRlRGVmO1xuY29uc3QgaW50ZWdlckRhdGVQYXJzZXIgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiBcImludGVnZXJcIixcbiAgICAgICAgZm9ybWF0OiBcInVuaXgtdGltZVwiLFxuICAgIH07XG4gICAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgY2FzZSBcIm1pblwiOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1pbmltdW1cIiwgY2hlY2sudmFsdWUsIC8vIFRoaXMgaXMgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtYXhcIjpcbiAgICAgICAgICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikge1xuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCAvLyBUaGlzIGlzIGluIG1pbGxpc2Vjb25kc1xuICAgICAgICAgICAgICAgICAgICBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VEZWZhdWx0RGVmID0gdm9pZCAwO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmZ1bmN0aW9uIHBhcnNlRGVmYXVsdERlZihfZGVmLCByZWZzKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKF9kZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpKSwgeyBkZWZhdWx0OiBfZGVmLmRlZmF1bHRWYWx1ZSgpIH0pO1xufVxuZXhwb3J0cy5wYXJzZURlZmF1bHREZWYgPSBwYXJzZURlZmF1bHREZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VFZmZlY3RzRGVmID0gdm9pZCAwO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmZ1bmN0aW9uIHBhcnNlRWZmZWN0c0RlZihfZGVmLCByZWZzKSB7XG4gICAgcmV0dXJuIHJlZnMuZWZmZWN0U3RyYXRlZ3kgPT09IFwiaW5wdXRcIlxuICAgICAgICA/ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShfZGVmLnNjaGVtYS5fZGVmLCByZWZzKVxuICAgICAgICA6IHt9O1xufVxuZXhwb3J0cy5wYXJzZUVmZmVjdHNEZWYgPSBwYXJzZUVmZmVjdHNEZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VFbnVtRGVmID0gdm9pZCAwO1xuZnVuY3Rpb24gcGFyc2VFbnVtRGVmKGRlZikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGVudW06IGRlZi52YWx1ZXMsXG4gICAgfTtcbn1cbmV4cG9ydHMucGFyc2VFbnVtRGVmID0gcGFyc2VFbnVtRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlSW50ZXJzZWN0aW9uRGVmID0gdm9pZCAwO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmNvbnN0IGlzSnNvblNjaGVtYTdBbGxPZlR5cGUgPSAodHlwZSkgPT4ge1xuICAgIGlmIChcInR5cGVcIiBpbiB0eXBlICYmIHR5cGUudHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBcImFsbE9mXCIgaW4gdHlwZTtcbn07XG5mdW5jdGlvbiBwYXJzZUludGVyc2VjdGlvbkRlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCBhbGxPZiA9IFtcbiAgICAgICAgKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5sZWZ0Ll9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFsbE9mXCIsIFwiMFwiXSB9KSksXG4gICAgICAgICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYucmlnaHQuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWxsT2ZcIiwgXCIxXCJdIH0pKSxcbiAgICBdLmZpbHRlcigoeCkgPT4gISF4KTtcbiAgICBsZXQgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gcmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTIwMTktMDlcIlxuICAgICAgICA/IHsgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzOiBmYWxzZSB9XG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IG1lcmdlZEFsbE9mID0gW107XG4gICAgLy8gSWYgZWl0aGVyIG9mIHRoZSBzY2hlbWFzIGlzIGFuIGFsbE9mLCBtZXJnZSB0aGVtIGludG8gYSBzaW5nbGUgYWxsT2ZcbiAgICBhbGxPZi5mb3JFYWNoKChzY2hlbWEpID0+IHtcbiAgICAgICAgaWYgKGlzSnNvblNjaGVtYTdBbGxPZlR5cGUoc2NoZW1hKSkge1xuICAgICAgICAgICAgbWVyZ2VkQWxsT2YucHVzaCguLi5zY2hlbWEuYWxsT2YpO1xuICAgICAgICAgICAgaWYgKHNjaGVtYS51bmV2YWx1YXRlZFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIElmIG9uZSBvZiB0aGUgc2NoZW1hcyBoYXMgbm8gdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzIHNldCxcbiAgICAgICAgICAgICAgICAvLyB0aGUgbWVyZ2VkIHNjaGVtYSBzaG91bGQgYWxzbyBoYXZlIG5vIHVuZXZhbHVhdGVkUHJvcGVydGllcyBzZXRcbiAgICAgICAgICAgICAgICB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbmVzdGVkU2NoZW1hID0gc2NoZW1hO1xuICAgICAgICAgICAgaWYgKFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIiBpbiBzY2hlbWEgJiZcbiAgICAgICAgICAgICAgICBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhZGRpdGlvbmFsUHJvcGVydGllcyB9ID0gc2NoZW1hLCByZXN0ID0gX19yZXN0KHNjaGVtYSwgW1wiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0pO1xuICAgICAgICAgICAgICAgIG5lc3RlZFNjaGVtYSA9IHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBcyBzb29uIGFzIG9uZSBvZiB0aGUgc2NoZW1hcyBoYXMgYWRkaXRpb25hbFByb3BlcnRpZXMgc2V0IG5vdCB0byBmYWxzZSwgd2UgYWxsb3cgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVyZ2VkQWxsT2YucHVzaChuZXN0ZWRTY2hlbWEpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG1lcmdlZEFsbE9mLmxlbmd0aFxuICAgICAgICA/IE9iamVjdC5hc3NpZ24oeyBhbGxPZjogbWVyZ2VkQWxsT2YgfSwgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzKSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydHMucGFyc2VJbnRlcnNlY3Rpb25EZWYgPSBwYXJzZUludGVyc2VjdGlvbkRlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZUxpdGVyYWxEZWYgPSB2b2lkIDA7XG5mdW5jdGlvbiBwYXJzZUxpdGVyYWxEZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHR5cGVvZiBkZWYudmFsdWU7XG4gICAgaWYgKHBhcnNlZFR5cGUgIT09IFwiYmlnaW50XCIgJiZcbiAgICAgICAgcGFyc2VkVHlwZSAhPT0gXCJudW1iZXJcIiAmJlxuICAgICAgICBwYXJzZWRUeXBlICE9PSBcImJvb2xlYW5cIiAmJlxuICAgICAgICBwYXJzZWRUeXBlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBBcnJheS5pc0FycmF5KGRlZi52YWx1ZSkgPyBcImFycmF5XCIgOiBcIm9iamVjdFwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogcGFyc2VkVHlwZSA9PT0gXCJiaWdpbnRcIiA/IFwiaW50ZWdlclwiIDogcGFyc2VkVHlwZSxcbiAgICAgICAgICAgIGVudW06IFtkZWYudmFsdWVdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBwYXJzZWRUeXBlID09PSBcImJpZ2ludFwiID8gXCJpbnRlZ2VyXCIgOiBwYXJzZWRUeXBlLFxuICAgICAgICBjb25zdDogZGVmLnZhbHVlLFxuICAgIH07XG59XG5leHBvcnRzLnBhcnNlTGl0ZXJhbERlZiA9IHBhcnNlTGl0ZXJhbERlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZU1hcERlZiA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5mdW5jdGlvbiBwYXJzZU1hcERlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCBrZXlzID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5rZXlUeXBlLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIml0ZW1zXCIsIFwiaXRlbXNcIiwgXCIwXCJdIH0pKSB8fCB7fTtcbiAgICBjb25zdCB2YWx1ZXMgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLnZhbHVlVHlwZS5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJpdGVtc1wiLCBcIml0ZW1zXCIsIFwiMVwiXSB9KSkgfHwge307XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICBtYXhJdGVtczogMTI1LFxuICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgaXRlbXM6IFtrZXlzLCB2YWx1ZXNdLFxuICAgICAgICAgICAgbWluSXRlbXM6IDIsXG4gICAgICAgICAgICBtYXhJdGVtczogMixcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0cy5wYXJzZU1hcERlZiA9IHBhcnNlTWFwRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlTmF0aXZlRW51bURlZiA9IHZvaWQgMDtcbmZ1bmN0aW9uIHBhcnNlTmF0aXZlRW51bURlZihkZWYpIHtcbiAgICBjb25zdCBvYmplY3QgPSBkZWYudmFsdWVzO1xuICAgIGNvbnN0IGFjdHVhbEtleXMgPSBPYmplY3Qua2V5cyhkZWYudmFsdWVzKS5maWx0ZXIoKGtleSkgPT4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iamVjdFtvYmplY3Rba2V5XV0gIT09IFwibnVtYmVyXCI7XG4gICAgfSk7XG4gICAgY29uc3QgYWN0dWFsVmFsdWVzID0gYWN0dWFsS2V5cy5tYXAoKGtleSkgPT4gb2JqZWN0W2tleV0pO1xuICAgIGNvbnN0IHBhcnNlZFR5cGVzID0gQXJyYXkuZnJvbShuZXcgU2V0KGFjdHVhbFZhbHVlcy5tYXAoKHZhbHVlcykgPT4gdHlwZW9mIHZhbHVlcykpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBwYXJzZWRUeXBlcy5sZW5ndGggPT09IDFcbiAgICAgICAgICAgID8gcGFyc2VkVHlwZXNbMF0gPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICA/IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICA6IFwibnVtYmVyXCJcbiAgICAgICAgICAgIDogW1wic3RyaW5nXCIsIFwibnVtYmVyXCJdLFxuICAgICAgICBlbnVtOiBhY3R1YWxWYWx1ZXMsXG4gICAgfTtcbn1cbmV4cG9ydHMucGFyc2VOYXRpdmVFbnVtRGVmID0gcGFyc2VOYXRpdmVFbnVtRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlTmV2ZXJEZWYgPSB2b2lkIDA7XG5mdW5jdGlvbiBwYXJzZU5ldmVyRGVmKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5vdDoge30sXG4gICAgfTtcbn1cbmV4cG9ydHMucGFyc2VOZXZlckRlZiA9IHBhcnNlTmV2ZXJEZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VOdWxsRGVmID0gdm9pZCAwO1xuZnVuY3Rpb24gcGFyc2VOdWxsRGVmKHJlZnMpIHtcbiAgICByZXR1cm4gcmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIlxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGVudW06IFtcIm51bGxcIl0sXG4gICAgICAgICAgICBudWxsYWJsZTogdHJ1ZSxcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIHR5cGU6IFwibnVsbFwiLFxuICAgICAgICB9O1xufVxuZXhwb3J0cy5wYXJzZU51bGxEZWYgPSBwYXJzZU51bGxEZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VVbmlvbkRlZiA9IGV4cG9ydHMucHJpbWl0aXZlTWFwcGluZ3MgPSB2b2lkIDA7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuZXhwb3J0cy5wcmltaXRpdmVNYXBwaW5ncyA9IHtcbiAgICBab2RTdHJpbmc6IFwic3RyaW5nXCIsXG4gICAgWm9kTnVtYmVyOiBcIm51bWJlclwiLFxuICAgIFpvZEJpZ0ludDogXCJpbnRlZ2VyXCIsXG4gICAgWm9kQm9vbGVhbjogXCJib29sZWFuXCIsXG4gICAgWm9kTnVsbDogXCJudWxsXCIsXG59O1xuZnVuY3Rpb24gcGFyc2VVbmlvbkRlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIilcbiAgICAgICAgcmV0dXJuIGFzQW55T2YoZGVmLCByZWZzKTtcbiAgICBjb25zdCBvcHRpb25zID0gZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXAgPyBBcnJheS5mcm9tKGRlZi5vcHRpb25zLnZhbHVlcygpKSA6IGRlZi5vcHRpb25zO1xuICAgIC8vIFRoaXMgYmxvY2tzIHRyaWVzIHRvIGxvb2sgYWhlYWQgYSBiaXQgdG8gcHJvZHVjZSBuaWNlciBsb29raW5nIHNjaGVtYXMgd2l0aCB0eXBlIGFycmF5IGluc3RlYWQgb2YgYW55T2YuXG4gICAgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSBpbiBleHBvcnRzLnByaW1pdGl2ZU1hcHBpbmdzICYmXG4gICAgICAgICgheC5fZGVmLmNoZWNrcyB8fCAheC5fZGVmLmNoZWNrcy5sZW5ndGgpKSkge1xuICAgICAgICAvLyBhbGwgdHlwZXMgaW4gdW5pb24gYXJlIHByaW1pdGl2ZSBhbmQgbGFjayBjaGVja3MsIHNvIG1pZ2h0IGFzIHdlbGwgc3F1YXNoIGludG8ge3R5cGU6IFsuLi5dfVxuICAgICAgICBjb25zdCB0eXBlcyA9IG9wdGlvbnMucmVkdWNlKCh0eXBlcywgeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IGV4cG9ydHMucHJpbWl0aXZlTWFwcGluZ3NbeC5fZGVmLnR5cGVOYW1lXTsgLy9DYW4gYmUgc2FmZWx5IGNhc3RlZCBkdWUgdG8gcm93IDQzXG4gICAgICAgICAgICByZXR1cm4gdHlwZSAmJiAhdHlwZXMuaW5jbHVkZXModHlwZSkgPyBbLi4udHlwZXMsIHR5cGVdIDogdHlwZXM7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGVzLmxlbmd0aCA+IDEgPyB0eXBlcyA6IHR5cGVzWzBdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChvcHRpb25zLmV2ZXJ5KCh4KSA9PiB4Ll9kZWYudHlwZU5hbWUgPT09IFwiWm9kTGl0ZXJhbFwiICYmICF4LmRlc2NyaXB0aW9uKSkge1xuICAgICAgICAvLyBhbGwgb3B0aW9ucyBsaXRlcmFsc1xuICAgICAgICBjb25zdCB0eXBlcyA9IG9wdGlvbnMucmVkdWNlKChhY2MsIHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgeC5fZGVmLnZhbHVlO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgdHlwZV07XG4gICAgICAgICAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgXCJpbnRlZ2VyXCJdO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHguX2RlZi52YWx1ZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCBcIm51bGxcIl07XG4gICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBbXSk7XG4gICAgICAgIGlmICh0eXBlcy5sZW5ndGggPT09IG9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBhbGwgdGhlIGxpdGVyYWxzIGFyZSBwcmltaXRpdmUsIGFzIGZhciBhcyBudWxsIGNhbiBiZSBjb25zaWRlcmVkIHByaW1pdGl2ZVxuICAgICAgICAgICAgY29uc3QgdW5pcXVlVHlwZXMgPSB0eXBlcy5maWx0ZXIoKHgsIGksIGEpID0+IGEuaW5kZXhPZih4KSA9PT0gaSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHVuaXF1ZVR5cGVzLmxlbmd0aCA+IDEgPyB1bmlxdWVUeXBlcyA6IHVuaXF1ZVR5cGVzWzBdLFxuICAgICAgICAgICAgICAgIGVudW06IG9wdGlvbnMucmVkdWNlKChhY2MsIHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYy5pbmNsdWRlcyh4Ll9kZWYudmFsdWUpID8gYWNjIDogWy4uLmFjYywgeC5fZGVmLnZhbHVlXTtcbiAgICAgICAgICAgICAgICB9LCBbXSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSA9PT0gXCJab2RFbnVtXCIpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgZW51bTogb3B0aW9ucy5yZWR1Y2UoKGFjYywgeCkgPT4gW1xuICAgICAgICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAgICAgICAuLi54Ll9kZWYudmFsdWVzLmZpbHRlcigoeCkgPT4gIWFjYy5pbmNsdWRlcyh4KSksXG4gICAgICAgICAgICBdLCBbXSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBhc0FueU9mKGRlZiwgcmVmcyk7XG59XG5leHBvcnRzLnBhcnNlVW5pb25EZWYgPSBwYXJzZVVuaW9uRGVmO1xuY29uc3QgYXNBbnlPZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICBjb25zdCBhbnlPZiA9IChkZWYub3B0aW9ucyBpbnN0YW5jZW9mIE1hcFxuICAgICAgICA/IEFycmF5LmZyb20oZGVmLm9wdGlvbnMudmFsdWVzKCkpXG4gICAgICAgIDogZGVmLm9wdGlvbnMpXG4gICAgICAgIC5tYXAoKHgsIGkpID0+ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKSh4Ll9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFueU9mXCIsIGAke2l9YF0gfSkpKVxuICAgICAgICAuZmlsdGVyKCh4KSA9PiAhIXggJiZcbiAgICAgICAgKCFyZWZzLnN0cmljdFVuaW9ucyB8fFxuICAgICAgICAgICAgKHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5rZXlzKHgpLmxlbmd0aCA+IDApKSk7XG4gICAgcmV0dXJuIGFueU9mLmxlbmd0aCA/IHsgYW55T2YgfSA6IHVuZGVmaW5lZDtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VOdWxsYWJsZURlZiA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5jb25zdCB1bmlvbl8xID0gcmVxdWlyZShcIi4vdW5pb25cIik7XG5mdW5jdGlvbiBwYXJzZU51bGxhYmxlRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChbXCJab2RTdHJpbmdcIiwgXCJab2ROdW1iZXJcIiwgXCJab2RCaWdJbnRcIiwgXCJab2RCb29sZWFuXCIsIFwiWm9kTnVsbFwiXS5pbmNsdWRlcyhkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWUpICYmXG4gICAgICAgICghZGVmLmlubmVyVHlwZS5fZGVmLmNoZWNrcyB8fCAhZGVmLmlubmVyVHlwZS5fZGVmLmNoZWNrcy5sZW5ndGgpKSB7XG4gICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHVuaW9uXzEucHJpbWl0aXZlTWFwcGluZ3NbZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lXSxcbiAgICAgICAgICAgICAgICBudWxsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFtcbiAgICAgICAgICAgICAgICB1bmlvbl8xLnByaW1pdGl2ZU1hcHBpbmdzW2RlZi5pbm5lclR5cGUuX2RlZi50eXBlTmFtZV0sXG4gICAgICAgICAgICAgICAgXCJudWxsXCIsXG4gICAgICAgICAgICBdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikge1xuICAgICAgICBjb25zdCBiYXNlID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5pbm5lclR5cGUuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGhdIH0pKTtcbiAgICAgICAgcmV0dXJuIGJhc2UgJiYgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBiYXNlKSwgeyBudWxsYWJsZTogdHJ1ZSB9KTtcbiAgICB9XG4gICAgY29uc3QgYmFzZSA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYuaW5uZXJUeXBlLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFueU9mXCIsIFwiMFwiXSB9KSk7XG4gICAgcmV0dXJuIGJhc2UgJiYgeyBhbnlPZjogW2Jhc2UsIHsgdHlwZTogXCJudWxsXCIgfV0gfTtcbn1cbmV4cG9ydHMucGFyc2VOdWxsYWJsZURlZiA9IHBhcnNlTnVsbGFibGVEZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VOdW1iZXJEZWYgPSB2b2lkIDA7XG5jb25zdCBlcnJvck1lc3NhZ2VzXzEgPSByZXF1aXJlKFwiLi4vZXJyb3JNZXNzYWdlc1wiKTtcbmZ1bmN0aW9uIHBhcnNlTnVtYmVyRGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB9O1xuICAgIGlmICghZGVmLmNoZWNrcylcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW50XCI6XG4gICAgICAgICAgICAgICAgcmVzLnR5cGUgPSBcImludGVnZXJcIjtcbiAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLmFkZEVycm9yTWVzc2FnZSkocmVzLCBcInR5cGVcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWluXCI6XG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJleGNsdXNpdmVNaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5leGNsdXNpdmVNaW5pbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWF4XCI6XG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJleGNsdXNpdmVNYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5leGNsdXNpdmVNYXhpbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVPZlwiOlxuICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm11bHRpcGxlT2ZcIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5leHBvcnRzLnBhcnNlTnVtYmVyRGVmID0gcGFyc2VOdW1iZXJEZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VPYmplY3REZWYgPSBleHBvcnRzLnBhcnNlT2JqZWN0RGVmWCA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5mdW5jdGlvbiBwYXJzZU9iamVjdERlZlgoZGVmLCByZWZzKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBPYmplY3Qua2V5cyhkZWYuc2hhcGUoKSkucmVkdWNlKChzY2hlbWEsIGtleSkgPT4ge1xuICAgICAgICBsZXQgcHJvcCA9IGRlZi5zaGFwZSgpW2tleV07XG4gICAgICAgIGNvbnN0IGlzT3B0aW9uYWwgPSBwcm9wLmlzT3B0aW9uYWwoKTtcbiAgICAgICAgaWYgKCFpc09wdGlvbmFsKSB7XG4gICAgICAgICAgICBwcm9wID0gT2JqZWN0LmFzc2lnbih7fSwgcHJvcC5fZGVmLmlubmVyU2NoZW1hKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9wU2NoZW1hID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKHByb3AuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwicHJvcGVydGllc1wiLCBrZXldLCBwcm9wZXJ0eVBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcInByb3BlcnRpZXNcIiwga2V5XSB9KSk7XG4gICAgICAgIGlmIChwcm9wU2NoZW1hICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0gPSBwcm9wU2NoZW1hO1xuICAgICAgICAgICAgaWYgKCFpc09wdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzY2hlbWEucmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hLnJlcXVpcmVkID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjaGVtYS5yZXF1aXJlZC5wdXNoKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9LCB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZGVmLmNhdGNoYWxsLl9kZWYudHlwZU5hbWUgPT09IFwiWm9kTmV2ZXJcIlxuICAgICAgICAgICAgPyBkZWYudW5rbm93bktleXMgPT09IFwicGFzc3Rocm91Z2hcIlxuICAgICAgICAgICAgOiAoX2EgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmNhdGNoYWxsLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdIH0pKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdHJ1ZSxcbiAgICB9KTtcbiAgICBjb25zdCByZXN1bHQgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyB0eXBlOiBcIm9iamVjdFwiIH0sIE9iamVjdC5lbnRyaWVzKGRlZi5zaGFwZSgpKS5yZWR1Y2UoKGFjYywgW3Byb3BOYW1lLCBwcm9wRGVmXSkgPT4ge1xuICAgICAgICBpZiAocHJvcERlZiA9PT0gdW5kZWZpbmVkIHx8IHByb3BEZWYuX2RlZiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgY29uc3QgcGFyc2VkRGVmID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKHByb3BEZWYuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwicHJvcGVydGllc1wiLCBwcm9wTmFtZV0sIHByb3BlcnR5UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwicHJvcGVydGllc1wiLCBwcm9wTmFtZV0gfSkpO1xuICAgICAgICBpZiAocGFyc2VkRGVmID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvcGVydGllczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhY2MucHJvcGVydGllcyksIHsgW3Byb3BOYW1lXTogcGFyc2VkRGVmIH0pLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHByb3BEZWYuaXNPcHRpb25hbCgpXG4gICAgICAgICAgICAgICAgPyBhY2MucmVxdWlyZWRcbiAgICAgICAgICAgICAgICA6IFsuLi5hY2MucmVxdWlyZWQsIHByb3BOYW1lXSxcbiAgICAgICAgfTtcbiAgICB9LCB7IHByb3BlcnRpZXM6IHt9LCByZXF1aXJlZDogW10gfSkpLCB7IGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBkZWYuY2F0Y2hhbGwuX2RlZi50eXBlTmFtZSA9PT0gXCJab2ROZXZlclwiXG4gICAgICAgICAgICA/IGRlZi51bmtub3duS2V5cyA9PT0gXCJwYXNzdGhyb3VnaFwiXG4gICAgICAgICAgICA6IChfYiA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYuY2F0Y2hhbGwuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0gfSkpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0cnVlIH0pO1xuICAgIGlmICghcmVzdWx0LnJlcXVpcmVkLmxlbmd0aClcbiAgICAgICAgZGVsZXRlIHJlc3VsdC5yZXF1aXJlZDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5wYXJzZU9iamVjdERlZlggPSBwYXJzZU9iamVjdERlZlg7XG5mdW5jdGlvbiBwYXJzZU9iamVjdERlZihkZWYsIHJlZnMpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgdHlwZTogXCJvYmplY3RcIiB9LCBPYmplY3QuZW50cmllcyhkZWYuc2hhcGUoKSkucmVkdWNlKChhY2MsIFtwcm9wTmFtZSwgcHJvcERlZl0pID0+IHtcbiAgICAgICAgaWYgKHByb3BEZWYgPT09IHVuZGVmaW5lZCB8fCBwcm9wRGVmLl9kZWYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIGNvbnN0IHBhcnNlZERlZiA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShwcm9wRGVmLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcInByb3BlcnRpZXNcIiwgcHJvcE5hbWVdLCBwcm9wZXJ0eVBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcInByb3BlcnRpZXNcIiwgcHJvcE5hbWVdIH0pKTtcbiAgICAgICAgaWYgKHBhcnNlZERlZiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYWNjLnByb3BlcnRpZXMpLCB7IFtwcm9wTmFtZV06IHBhcnNlZERlZiB9KSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBwcm9wRGVmLmlzT3B0aW9uYWwoKVxuICAgICAgICAgICAgICAgID8gYWNjLnJlcXVpcmVkXG4gICAgICAgICAgICAgICAgOiBbLi4uYWNjLnJlcXVpcmVkLCBwcm9wTmFtZV0sXG4gICAgICAgIH07XG4gICAgfSwgeyBwcm9wZXJ0aWVzOiB7fSwgcmVxdWlyZWQ6IFtdIH0pKSwgeyBhZGRpdGlvbmFsUHJvcGVydGllczogZGVmLmNhdGNoYWxsLl9kZWYudHlwZU5hbWUgPT09IFwiWm9kTmV2ZXJcIlxuICAgICAgICAgICAgPyBkZWYudW5rbm93bktleXMgPT09IFwicGFzc3Rocm91Z2hcIlxuICAgICAgICAgICAgOiAoX2EgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmNhdGNoYWxsLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdIH0pKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdHJ1ZSB9KTtcbiAgICBpZiAoIXJlc3VsdC5yZXF1aXJlZC5sZW5ndGgpXG4gICAgICAgIGRlbGV0ZSByZXN1bHQucmVxdWlyZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMucGFyc2VPYmplY3REZWYgPSBwYXJzZU9iamVjdERlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZU9wdGlvbmFsRGVmID0gdm9pZCAwO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmNvbnN0IHBhcnNlT3B0aW9uYWxEZWYgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChyZWZzLmN1cnJlbnRQYXRoLnRvU3RyaW5nKCkgPT09ICgoX2EgPSByZWZzLnByb3BlcnR5UGF0aCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKTtcbiAgICB9XG4gICAgY29uc3QgaW5uZXJTY2hlbWEgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmlubmVyVHlwZS5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhbnlPZlwiLCBcIjFcIl0gfSkpO1xuICAgIHJldHVybiBpbm5lclNjaGVtYVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGFueU9mOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBub3Q6IHt9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5uZXJTY2hlbWEsXG4gICAgICAgICAgICBdLFxuICAgICAgICB9XG4gICAgICAgIDoge307XG59O1xuZXhwb3J0cy5wYXJzZU9wdGlvbmFsRGVmID0gcGFyc2VPcHRpb25hbERlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZVBpcGVsaW5lRGVmID0gdm9pZCAwO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmNvbnN0IHBhcnNlUGlwZWxpbmVEZWYgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgaWYgKHJlZnMucGlwZVN0cmF0ZWd5ID09PSBcImlucHV0XCIpIHtcbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYuaW4uX2RlZiwgcmVmcyk7XG4gICAgfVxuICAgIGNvbnN0IGEgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmluLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFsbE9mXCIsIFwiMFwiXSB9KSk7XG4gICAgY29uc3QgYiA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYub3V0Ll9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFsbE9mXCIsIGEgPyBcIjFcIiA6IFwiMFwiXSB9KSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWxsT2Y6IFthLCBiXS5maWx0ZXIoKHgpID0+IHggIT09IHVuZGVmaW5lZCksXG4gICAgfTtcbn07XG5leHBvcnRzLnBhcnNlUGlwZWxpbmVEZWYgPSBwYXJzZVBpcGVsaW5lRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlUHJvbWlzZURlZiA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5mdW5jdGlvbiBwYXJzZVByb21pc2VEZWYoZGVmLCByZWZzKSB7XG4gICAgcmV0dXJuICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYudHlwZS5fZGVmLCByZWZzKTtcbn1cbmV4cG9ydHMucGFyc2VQcm9taXNlRGVmID0gcGFyc2VQcm9taXNlRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlU3RyaW5nRGVmID0gZXhwb3J0cy5lbW9qaVBhdHRlcm4gPSBleHBvcnRzLnVsaWRQYXR0ZXJuID0gZXhwb3J0cy5jdWlkMlBhdHRlcm4gPSBleHBvcnRzLmN1aWRQYXR0ZXJuID0gZXhwb3J0cy5lbWFpbFBhdHRlcm4gPSB2b2lkIDA7XG5jb25zdCBlcnJvck1lc3NhZ2VzXzEgPSByZXF1aXJlKFwiLi4vZXJyb3JNZXNzYWdlc1wiKTtcbmV4cG9ydHMuZW1haWxQYXR0ZXJuID0gJ14oKFtePD4oKVtcXFxcXVxcXFxcXFxcLiw7OlxcXFxzQFxcXFxcIl0rKFxcXFwuW148PigpW1xcXFxdXFxcXFxcXFwuLDs6XFxcXHNAXFxcXFwiXSspKil8KFxcXFxcIi4rXFxcXFwiKSlAKChcXFxcWygoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFxcXF0pfChcXFxcW0lQdjY6KChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFxcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpXFxcXF0pfChbQS1aYS16MC05XShbQS1aYS16MC05LV0qW0EtWmEtejAtOV0pKihcXFxcLltBLVphLXpdezIsfSkrKSkkJztcbmV4cG9ydHMuY3VpZFBhdHRlcm4gPSBcIl5jW15cXFxccy1dezgsfSRcIjtcbmV4cG9ydHMuY3VpZDJQYXR0ZXJuID0gXCJeW2Etel1bYS16MC05XSokXCI7XG5leHBvcnRzLnVsaWRQYXR0ZXJuID0gXCIvWzAtOUEtSEpLTU5QLVRWLVpdezI2fS9cIjtcbmV4cG9ydHMuZW1vamlQYXR0ZXJuID0gXCIvXihwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY318cHtFbW9qaV9Db21wb25lbnR9KSskL3VcIjtcbmZ1bmN0aW9uIHBhcnNlU3RyaW5nRGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB9O1xuICAgIGlmIChkZWYuY2hlY2tzKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1pblwiOlxuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtaW5MZW5ndGhcIiwgdHlwZW9mIHJlcy5taW5MZW5ndGggPT09IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gTWF0aC5tYXgocmVzLm1pbkxlbmd0aCwgY2hlY2sudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1heFwiOlxuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtYXhMZW5ndGhcIiwgdHlwZW9mIHJlcy5tYXhMZW5ndGggPT09IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gTWF0aC5taW4ocmVzLm1heExlbmd0aCwgY2hlY2sudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImVtYWlsXCI6XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVmcy5lbWFpbFN0cmF0ZWd5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZm9ybWF0OmVtYWlsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgXCJlbWFpbFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmb3JtYXQ6aWRuLWVtYWlsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgXCJpZG4tZW1haWxcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicGF0dGVybjp6b2RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgZXhwb3J0cy5lbWFpbFBhdHRlcm4sIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ1cmxcIjpcbiAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgXCJ1cmlcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ1dWlkXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwidXVpZFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlZ2V4XCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBjaGVjay5yZWdleC5zb3VyY2UsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY3VpZFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgZXhwb3J0cy5jdWlkUGF0dGVybiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjdWlkMlwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgZXhwb3J0cy5jdWlkMlBhdHRlcm4sIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RhcnRzV2l0aFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgXCJeXCIgKyBlc2NhcGVOb25BbHBoYU51bWVyaWMoY2hlY2sudmFsdWUpLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZHNXaXRoXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBlc2NhcGVOb25BbHBoYU51bWVyaWMoY2hlY2sudmFsdWUpICsgXCIkXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGF0ZXRpbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgXCJkYXRlLXRpbWVcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsZW5ndGhcIjpcbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWluTGVuZ3RoXCIsIHR5cGVvZiByZXMubWluTGVuZ3RoID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1heExlbmd0aFwiLCB0eXBlb2YgcmVzLm1heExlbmd0aCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBNYXRoLm1pbihyZXMubWF4TGVuZ3RoLCBjaGVjay52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW5jbHVkZXNcIjoge1xuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgZXNjYXBlTm9uQWxwaGFOdW1lcmljKGNoZWNrLnZhbHVlKSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFwiaXBcIjoge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2sudmVyc2lvbiAhPT0gXCJ2NlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCBcImlwdjRcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLnZlcnNpb24gIT09IFwidjRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgXCJpcHY2XCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFwiZW1vamlcIjpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIGV4cG9ydHMuZW1vamlQYXR0ZXJuLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInVsaWRcIjoge1xuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgZXhwb3J0cy51bGlkUGF0dGVybiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFwidG9Mb3dlckNhc2VcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidG9VcHBlckNhc2VcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidHJpbVwiOlxuICAgICAgICAgICAgICAgICAgICAvLyBJIGhhdmUgbm8gaWRlYSB3aHkgdGhlc2UgYXJlIGNoZWNrcyBpbiBab2Qg8J+kt1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAoKF8pID0+IHsgfSkoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5leHBvcnRzLnBhcnNlU3RyaW5nRGVmID0gcGFyc2VTdHJpbmdEZWY7XG5jb25zdCBlc2NhcGVOb25BbHBoYU51bWVyaWMgPSAodmFsdWUpID0+IEFycmF5LmZyb20odmFsdWUpXG4gICAgLm1hcCgoYykgPT4gKC9bYS16QS1aMC05XS8udGVzdChjKSA/IGMgOiBgXFxcXCR7Y31gKSlcbiAgICAuam9pbihcIlwiKTtcbmNvbnN0IGFkZEZvcm1hdCA9IChzY2hlbWEsIHZhbHVlLCBtZXNzYWdlLCByZWZzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChzY2hlbWEuZm9ybWF0IHx8ICgoX2EgPSBzY2hlbWEuYW55T2YpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zb21lKCh4KSA9PiB4LmZvcm1hdCkpKSB7XG4gICAgICAgIGlmICghc2NoZW1hLmFueU9mKSB7XG4gICAgICAgICAgICBzY2hlbWEuYW55T2YgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLmZvcm1hdCkge1xuICAgICAgICAgICAgc2NoZW1hLmFueU9mLnB1c2goT2JqZWN0LmFzc2lnbih7IGZvcm1hdDogc2NoZW1hLmZvcm1hdCB9LCAoc2NoZW1hLmVycm9yTWVzc2FnZSAmJlxuICAgICAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiB7IGZvcm1hdDogc2NoZW1hLmVycm9yTWVzc2FnZS5mb3JtYXQgfSxcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICBkZWxldGUgc2NoZW1hLmZvcm1hdDtcbiAgICAgICAgICAgIGlmIChzY2hlbWEuZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2UuZm9ybWF0O1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhzY2hlbWEuZXJyb3JNZXNzYWdlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjaGVtYS5hbnlPZi5wdXNoKE9iamVjdC5hc3NpZ24oeyBmb3JtYXQ6IHZhbHVlIH0sIChtZXNzYWdlICYmXG4gICAgICAgICAgICByZWZzLmVycm9yTWVzc2FnZXMgJiYgeyBlcnJvck1lc3NhZ2U6IHsgZm9ybWF0OiBtZXNzYWdlIH0gfSkpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykoc2NoZW1hLCBcImZvcm1hdFwiLCB2YWx1ZSwgbWVzc2FnZSwgcmVmcyk7XG4gICAgfVxufTtcbmNvbnN0IGFkZFBhdHRlcm4gPSAoc2NoZW1hLCB2YWx1ZSwgbWVzc2FnZSwgcmVmcykgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpZiAoc2NoZW1hLnBhdHRlcm4gfHwgKChfYSA9IHNjaGVtYS5hbGxPZikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNvbWUoKHgpID0+IHgucGF0dGVybikpKSB7XG4gICAgICAgIGlmICghc2NoZW1hLmFsbE9mKSB7XG4gICAgICAgICAgICBzY2hlbWEuYWxsT2YgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLnBhdHRlcm4pIHtcbiAgICAgICAgICAgIHNjaGVtYS5hbGxPZi5wdXNoKE9iamVjdC5hc3NpZ24oeyBwYXR0ZXJuOiBzY2hlbWEucGF0dGVybiB9LCAoc2NoZW1hLmVycm9yTWVzc2FnZSAmJlxuICAgICAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiB7IHBhdHRlcm46IHNjaGVtYS5lcnJvck1lc3NhZ2UucGF0dGVybiB9LFxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEucGF0dGVybjtcbiAgICAgICAgICAgIGlmIChzY2hlbWEuZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2UucGF0dGVybjtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoc2NoZW1hLmVycm9yTWVzc2FnZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY2hlbWEuYWxsT2YucHVzaChPYmplY3QuYXNzaWduKHsgcGF0dGVybjogdmFsdWUgfSwgKG1lc3NhZ2UgJiZcbiAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBtZXNzYWdlIH0gfSkpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykoc2NoZW1hLCBcInBhdHRlcm5cIiwgdmFsdWUsIG1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VSZWNvcmREZWYgPSB2b2lkIDA7XG5jb25zdCB6b2RfMSA9IHJlcXVpcmUoXCJ6b2RcIik7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuY29uc3Qgc3RyaW5nXzEgPSByZXF1aXJlKFwiLi9zdHJpbmdcIik7XG5mdW5jdGlvbiBwYXJzZVJlY29yZERlZihkZWYsIHJlZnMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiICYmXG4gICAgICAgICgoX2EgPSBkZWYua2V5VHlwZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLl9kZWYudHlwZU5hbWUpID09PSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgIHJlcXVpcmVkOiBkZWYua2V5VHlwZS5fZGVmLnZhbHVlcyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IGRlZi5rZXlUeXBlLl9kZWYudmFsdWVzLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGFjYyksIHsgW2tleV06IChfYSA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYudmFsdWVUeXBlLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcInByb3BlcnRpZXNcIiwga2V5XSB9KSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9IH0pKTtcbiAgICAgICAgICAgIH0sIHt9KSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hID0ge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogKF9iID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi52YWx1ZVR5cGUuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0gfSkpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB7fSxcbiAgICB9O1xuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxuICAgIGlmICgoKF9jID0gZGVmLmtleVR5cGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5fZGVmLnR5cGVOYW1lKSA9PT0gem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyAmJlxuICAgICAgICAoKF9kID0gZGVmLmtleVR5cGUuX2RlZi5jaGVja3MpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5sZW5ndGgpKSB7XG4gICAgICAgIGNvbnN0IGtleVR5cGUgPSBPYmplY3QuZW50cmllcygoMCwgc3RyaW5nXzEucGFyc2VTdHJpbmdEZWYpKGRlZi5rZXlUeXBlLl9kZWYsIHJlZnMpKS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiAoa2V5ID09PSBcInR5cGVcIiA/IGFjYyA6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYWNjKSwgeyBba2V5XTogdmFsdWUgfSkpLCB7fSk7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHNjaGVtYSksIHsgcHJvcGVydHlOYW1lczoga2V5VHlwZSB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKChfZSA9IGRlZi5rZXlUeXBlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuX2RlZi50eXBlTmFtZSkgPT09IHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHNjaGVtYSksIHsgcHJvcGVydHlOYW1lczoge1xuICAgICAgICAgICAgICAgIGVudW06IGRlZi5rZXlUeXBlLl9kZWYudmFsdWVzLFxuICAgICAgICAgICAgfSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbmV4cG9ydHMucGFyc2VSZWNvcmREZWYgPSBwYXJzZVJlY29yZERlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZVNldERlZiA9IHZvaWQgMDtcbmNvbnN0IGVycm9yTWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9lcnJvck1lc3NhZ2VzXCIpO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmZ1bmN0aW9uIHBhcnNlU2V0RGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IGl0ZW1zID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi52YWx1ZVR5cGUuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIl0gfSkpO1xuICAgIGNvbnN0IHNjaGVtYSA9IHtcbiAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICB1bmlxdWVJdGVtczogdHJ1ZSxcbiAgICAgICAgaXRlbXMsXG4gICAgfTtcbiAgICBpZiAoZGVmLm1pblNpemUpIHtcbiAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShzY2hlbWEsIFwibWluSXRlbXNcIiwgZGVmLm1pblNpemUudmFsdWUsIGRlZi5taW5TaXplLm1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbiAgICBpZiAoZGVmLm1heFNpemUpIHtcbiAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShzY2hlbWEsIFwibWF4SXRlbXNcIiwgZGVmLm1heFNpemUudmFsdWUsIGRlZi5tYXhTaXplLm1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hO1xufVxuZXhwb3J0cy5wYXJzZVNldERlZiA9IHBhcnNlU2V0RGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlVHVwbGVEZWYgPSB2b2lkIDA7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuZnVuY3Rpb24gcGFyc2VUdXBsZURlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAoZGVmLnJlc3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgaXRlbXM6IGRlZi5pdGVtc1xuICAgICAgICAgICAgICAgIC5tYXAoKHgsIGkpID0+ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKSh4Ll9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIml0ZW1zXCIsIGAke2l9YF0gfSkpKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgeCkgPT4gKHggPT09IHVuZGVmaW5lZCA/IGFjYyA6IFsuLi5hY2MsIHhdKSwgW10pLFxuICAgICAgICAgICAgYWRkaXRpb25hbEl0ZW1zOiAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLnJlc3QuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWRkaXRpb25hbEl0ZW1zXCJdIH0pKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICBtaW5JdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgIG1heEl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgaXRlbXM6IGRlZi5pdGVtc1xuICAgICAgICAgICAgICAgIC5tYXAoKHgsIGkpID0+ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKSh4Ll9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIml0ZW1zXCIsIGAke2l9YF0gfSkpKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgeCkgPT4gKHggPT09IHVuZGVmaW5lZCA/IGFjYyA6IFsuLi5hY2MsIHhdKSwgW10pLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMucGFyc2VUdXBsZURlZiA9IHBhcnNlVHVwbGVEZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VVbmRlZmluZWREZWYgPSB2b2lkIDA7XG5mdW5jdGlvbiBwYXJzZVVuZGVmaW5lZERlZigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBub3Q6IHt9LFxuICAgIH07XG59XG5leHBvcnRzLnBhcnNlVW5kZWZpbmVkRGVmID0gcGFyc2VVbmRlZmluZWREZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VVbmtub3duRGVmID0gdm9pZCAwO1xuZnVuY3Rpb24gcGFyc2VVbmtub3duRGVmKCkge1xuICAgIHJldHVybiB7fTtcbn1cbmV4cG9ydHMucGFyc2VVbmtub3duRGVmID0gcGFyc2VVbmtub3duRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlRGVmID0gdm9pZCAwO1xuY29uc3Qgem9kXzEgPSByZXF1aXJlKFwiem9kXCIpO1xuY29uc3QgYW55XzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2FueVwiKTtcbmNvbnN0IGFycmF5XzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2FycmF5XCIpO1xuY29uc3QgYmlnaW50XzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2JpZ2ludFwiKTtcbmNvbnN0IGJvb2xlYW5fMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvYm9vbGVhblwiKTtcbmNvbnN0IGJyYW5kZWRfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvYnJhbmRlZFwiKTtcbmNvbnN0IGNhdGNoXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2NhdGNoXCIpO1xuY29uc3QgZGF0ZV8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9kYXRlXCIpO1xuY29uc3QgZGVmYXVsdF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9kZWZhdWx0XCIpO1xuY29uc3QgZWZmZWN0c18xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9lZmZlY3RzXCIpO1xuY29uc3QgZW51bV8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9lbnVtXCIpO1xuY29uc3QgaW50ZXJzZWN0aW9uXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2ludGVyc2VjdGlvblwiKTtcbmNvbnN0IGxpdGVyYWxfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvbGl0ZXJhbFwiKTtcbmNvbnN0IG1hcF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9tYXBcIik7XG5jb25zdCBuYXRpdmVFbnVtXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL25hdGl2ZUVudW1cIik7XG5jb25zdCBuZXZlcl8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9uZXZlclwiKTtcbmNvbnN0IG51bGxfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvbnVsbFwiKTtcbmNvbnN0IG51bGxhYmxlXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL251bGxhYmxlXCIpO1xuY29uc3QgbnVtYmVyXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL251bWJlclwiKTtcbmNvbnN0IG9iamVjdF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9vYmplY3RcIik7XG5jb25zdCBvcHRpb25hbF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9vcHRpb25hbFwiKTtcbmNvbnN0IHBpcGVsaW5lXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL3BpcGVsaW5lXCIpO1xuY29uc3QgcHJvbWlzZV8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9wcm9taXNlXCIpO1xuY29uc3QgcmVjb3JkXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL3JlY29yZFwiKTtcbmNvbnN0IHNldF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9zZXRcIik7XG5jb25zdCBzdHJpbmdfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvc3RyaW5nXCIpO1xuY29uc3QgdHVwbGVfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvdHVwbGVcIik7XG5jb25zdCB1bmRlZmluZWRfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvdW5kZWZpbmVkXCIpO1xuY29uc3QgdW5pb25fMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvdW5pb25cIik7XG5jb25zdCB1bmtub3duXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL3Vua25vd25cIik7XG5mdW5jdGlvbiBwYXJzZURlZihkZWYsIHJlZnMsIGZvcmNlUmVzb2x1dGlvbiA9IGZhbHNlIC8vIEZvcmNlcyBhIG5ldyBzY2hlbWEgdG8gYmUgaW5zdGFudGlhdGVkIGV2ZW4gdGhvdWdoIGl0cyBkZWYgaGFzIGJlZW4gc2Vlbi4gVXNlZCBmb3IgaW1wcm92aW5nIHJlZnMgaW4gZGVmaW5pdGlvbnMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vU3RlZmFuVGVyZGVsbC96b2QtdG8tanNvbi1zY2hlbWEvcHVsbC82MS5cbikge1xuICAgIGNvbnN0IHNlZW5JdGVtID0gcmVmcy5zZWVuLmdldChkZWYpO1xuICAgIGlmIChzZWVuSXRlbSAmJiAhZm9yY2VSZXNvbHV0aW9uKSB7XG4gICAgICAgIGNvbnN0IHNlZW5TY2hlbWEgPSBnZXQkcmVmKHNlZW5JdGVtLCByZWZzKTtcbiAgICAgICAgaWYgKHNlZW5TY2hlbWEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlZW5TY2hlbWE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV3SXRlbSA9IHsgZGVmLCBwYXRoOiByZWZzLmN1cnJlbnRQYXRoLCBqc29uU2NoZW1hOiB1bmRlZmluZWQgfTtcbiAgICByZWZzLnNlZW4uc2V0KGRlZiwgbmV3SXRlbSk7XG4gICAgY29uc3QganNvblNjaGVtYSA9IHNlbGVjdFBhcnNlcihkZWYsIGRlZi50eXBlTmFtZSwgcmVmcyk7XG4gICAgaWYgKGpzb25TY2hlbWEpIHtcbiAgICAgICAgYWRkTWV0YShkZWYsIHJlZnMsIGpzb25TY2hlbWEpO1xuICAgIH1cbiAgICBuZXdJdGVtLmpzb25TY2hlbWEgPSBqc29uU2NoZW1hO1xuICAgIHJldHVybiBqc29uU2NoZW1hO1xufVxuZXhwb3J0cy5wYXJzZURlZiA9IHBhcnNlRGVmO1xuY29uc3QgZ2V0JHJlZiA9IChpdGVtLCByZWZzKSA9PiB7XG4gICAgc3dpdGNoIChyZWZzLiRyZWZTdHJhdGVneSkge1xuICAgICAgICBjYXNlIFwicm9vdFwiOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAkcmVmOiBpdGVtLnBhdGgubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgICAgICA6IGl0ZW0ucGF0aC5sZW5ndGggPT09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYCR7aXRlbS5wYXRoWzBdfS9gXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0ucGF0aC5qb2luKFwiL1wiKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgXCJyZWxhdGl2ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHsgJHJlZjogZ2V0UmVsYXRpdmVQYXRoKHJlZnMuY3VycmVudFBhdGgsIGl0ZW0ucGF0aCkgfTtcbiAgICAgICAgY2FzZSBcIm5vbmVcIjoge1xuICAgICAgICAgICAgaWYgKGl0ZW0ucGF0aC5sZW5ndGggPCByZWZzLmN1cnJlbnRQYXRoLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIGl0ZW0ucGF0aC5ldmVyeSgodmFsdWUsIGluZGV4KSA9PiByZWZzLmN1cnJlbnRQYXRoW2luZGV4XSA9PT0gdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBSZWN1cnNpdmUgcmVmZXJlbmNlIGRldGVjdGVkIGF0ICR7cmVmcy5jdXJyZW50UGF0aC5qb2luKFwiL1wiKX0hIERlZmF1bHRpbmcgdG8gYW55YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwic2VlblwiOiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5wYXRoLmxlbmd0aCA8IHJlZnMuY3VycmVudFBhdGgubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgaXRlbS5wYXRoLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHJlZnMuY3VycmVudFBhdGhbaW5kZXhdID09PSB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFJlY3Vyc2l2ZSByZWZlcmVuY2UgZGV0ZWN0ZWQgYXQgJHtyZWZzLmN1cnJlbnRQYXRoLmpvaW4oXCIvXCIpfSEgRGVmYXVsdGluZyB0byBhbnlgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5qc29uU2NoZW1hO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IGdldFJlbGF0aXZlUGF0aCA9IChwYXRoQSwgcGF0aEIpID0+IHtcbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yICg7IGkgPCBwYXRoQS5sZW5ndGggJiYgaSA8IHBhdGhCLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChwYXRoQVtpXSAhPT0gcGF0aEJbaV0pXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIFsocGF0aEEubGVuZ3RoIC0gaSkudG9TdHJpbmcoKSwgLi4ucGF0aEIuc2xpY2UoaSldLmpvaW4oXCIvXCIpO1xufTtcbmNvbnN0IHNlbGVjdFBhcnNlciA9IChkZWYsIHR5cGVOYW1lLCByZWZzKSA9PiB7XG4gICAgc3dpdGNoICh0eXBlTmFtZSkge1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmc6XG4gICAgICAgICAgICByZXR1cm4gKDAsIHN0cmluZ18xLnBhcnNlU3RyaW5nRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdW1iZXI6XG4gICAgICAgICAgICByZXR1cm4gKDAsIG51bWJlcl8xLnBhcnNlTnVtYmVyRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3Q6XG4gICAgICAgICAgICByZXR1cm4gKDAsIG9iamVjdF8xLnBhcnNlT2JqZWN0RGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCaWdJbnQ6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGJpZ2ludF8xLnBhcnNlQmlnaW50RGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCb29sZWFuOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBib29sZWFuXzEucGFyc2VCb29sZWFuRGVmKSgpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBkYXRlXzEucGFyc2VEYXRlRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmRlZmluZWQ6XG4gICAgICAgICAgICByZXR1cm4gKDAsIHVuZGVmaW5lZF8xLnBhcnNlVW5kZWZpbmVkRGVmKSgpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBudWxsXzEucGFyc2VOdWxsRGVmKShyZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGFycmF5XzEucGFyc2VBcnJheURlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb246XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbjpcbiAgICAgICAgICAgIHJldHVybiAoMCwgdW5pb25fMS5wYXJzZVVuaW9uRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb246XG4gICAgICAgICAgICByZXR1cm4gKDAsIGludGVyc2VjdGlvbl8xLnBhcnNlSW50ZXJzZWN0aW9uRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RUdXBsZTpcbiAgICAgICAgICAgIHJldHVybiAoMCwgdHVwbGVfMS5wYXJzZVR1cGxlRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQ6XG4gICAgICAgICAgICByZXR1cm4gKDAsIHJlY29yZF8xLnBhcnNlUmVjb3JkRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMaXRlcmFsOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBsaXRlcmFsXzEucGFyc2VMaXRlcmFsRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBlbnVtXzEucGFyc2VFbnVtRGVmKShkZWYpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYXRpdmVFbnVtOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBuYXRpdmVFbnVtXzEucGFyc2VOYXRpdmVFbnVtRGVmKShkZWYpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZTpcbiAgICAgICAgICAgIHJldHVybiAoMCwgbnVsbGFibGVfMS5wYXJzZU51bGxhYmxlRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPcHRpb25hbDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgb3B0aW9uYWxfMS5wYXJzZU9wdGlvbmFsRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RNYXA6XG4gICAgICAgICAgICByZXR1cm4gKDAsIG1hcF8xLnBhcnNlTWFwRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTZXQ6XG4gICAgICAgICAgICByZXR1cm4gKDAsIHNldF8xLnBhcnNlU2V0RGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5nZXR0ZXIoKS5fZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUHJvbWlzZTpcbiAgICAgICAgICAgIHJldHVybiAoMCwgcHJvbWlzZV8xLnBhcnNlUHJvbWlzZURlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmFOOlxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROZXZlcjpcbiAgICAgICAgICAgIHJldHVybiAoMCwgbmV2ZXJfMS5wYXJzZU5ldmVyRGVmKSgpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBlZmZlY3RzXzEucGFyc2VFZmZlY3RzRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnk6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGFueV8xLnBhcnNlQW55RGVmKSgpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmtub3duOlxuICAgICAgICAgICAgcmV0dXJuICgwLCB1bmtub3duXzEucGFyc2VVbmtub3duRGVmKSgpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICgwLCBkZWZhdWx0XzEucGFyc2VEZWZhdWx0RGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCcmFuZGVkOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBicmFuZGVkXzEucGFyc2VCcmFuZGVkRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgY2F0Y2hfMS5wYXJzZUNhdGNoRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQaXBlbGluZTpcbiAgICAgICAgICAgIHJldHVybiAoMCwgcGlwZWxpbmVfMS5wYXJzZVBpcGVsaW5lRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RGdW5jdGlvbjpcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVm9pZDpcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3ltYm9sOlxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAoKF8pID0+IHVuZGVmaW5lZCkodHlwZU5hbWUpO1xuICAgIH1cbn07XG5jb25zdCBhZGRNZXRhID0gKGRlZiwgcmVmcywganNvblNjaGVtYSkgPT4ge1xuICAgIGlmIChkZWYuZGVzY3JpcHRpb24pIHtcbiAgICAgICAganNvblNjaGVtYS5kZXNjcmlwdGlvbiA9IGRlZi5kZXNjcmlwdGlvbjtcbiAgICAgICAgaWYgKHJlZnMubWFya2Rvd25EZXNjcmlwdGlvbikge1xuICAgICAgICAgICAganNvblNjaGVtYS5tYXJrZG93bkRlc2NyaXB0aW9uID0gZGVmLmRlc2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBqc29uU2NoZW1hO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXREZWZhdWx0T3B0aW9ucyA9IGV4cG9ydHMuZGVmYXVsdE9wdGlvbnMgPSB2b2lkIDA7XG5leHBvcnRzLmRlZmF1bHRPcHRpb25zID0ge1xuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICAkcmVmU3RyYXRlZ3k6IFwicm9vdFwiLFxuICAgIGJhc2VQYXRoOiBbXCIjXCJdLFxuICAgIGVmZmVjdFN0cmF0ZWd5OiBcImlucHV0XCIsXG4gICAgcGlwZVN0cmF0ZWd5OiBcImFsbFwiLFxuICAgIGRhdGVTdHJhdGVneTogXCJzdHJpbmdcIixcbiAgICBkZWZpbml0aW9uUGF0aDogXCJkZWZpbml0aW9uc1wiLFxuICAgIHRhcmdldDogXCJqc29uU2NoZW1hN1wiLFxuICAgIHN0cmljdFVuaW9uczogZmFsc2UsXG4gICAgZGVmaW5pdGlvbnM6IHt9LFxuICAgIGVycm9yTWVzc2FnZXM6IGZhbHNlLFxuICAgIG1hcmtkb3duRGVzY3JpcHRpb246IGZhbHNlLFxuICAgIGVtYWlsU3RyYXRlZ3k6IFwiZm9ybWF0OmVtYWlsXCIsXG59O1xuY29uc3QgZ2V0RGVmYXVsdE9wdGlvbnMgPSAob3B0aW9ucykgPT4gKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiXG4gICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGV4cG9ydHMuZGVmYXVsdE9wdGlvbnMpLCB7IG5hbWU6IG9wdGlvbnMgfSkgOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGV4cG9ydHMuZGVmYXVsdE9wdGlvbnMpLCBvcHRpb25zKSk7XG5leHBvcnRzLmdldERlZmF1bHRPcHRpb25zID0gZ2V0RGVmYXVsdE9wdGlvbnM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0UmVmcyA9IHZvaWQgMDtcbmNvbnN0IE9wdGlvbnNfMSA9IHJlcXVpcmUoXCIuL09wdGlvbnNcIik7XG5jb25zdCBnZXRSZWZzID0gKG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBfb3B0aW9ucyA9ICgwLCBPcHRpb25zXzEuZ2V0RGVmYXVsdE9wdGlvbnMpKG9wdGlvbnMpO1xuICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gX29wdGlvbnMubmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gWy4uLl9vcHRpb25zLmJhc2VQYXRoLCBfb3B0aW9ucy5kZWZpbml0aW9uUGF0aCwgX29wdGlvbnMubmFtZV1cbiAgICAgICAgOiBfb3B0aW9ucy5iYXNlUGF0aDtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBfb3B0aW9ucyksIHsgY3VycmVudFBhdGg6IGN1cnJlbnRQYXRoLCBwcm9wZXJ0eVBhdGg6IHVuZGVmaW5lZCwgc2VlbjogbmV3IE1hcChPYmplY3QuZW50cmllcyhfb3B0aW9ucy5kZWZpbml0aW9ucykubWFwKChbbmFtZSwgZGVmXSkgPT4gW1xuICAgICAgICAgICAgZGVmLl9kZWYsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVmOiBkZWYuX2RlZixcbiAgICAgICAgICAgICAgICBwYXRoOiBbLi4uX29wdGlvbnMuYmFzZVBhdGgsIF9vcHRpb25zLmRlZmluaXRpb25QYXRoLCBuYW1lXSxcbiAgICAgICAgICAgICAgICAvLyBSZXNvbHV0aW9uIG9mIHJlZmVyZW5jZXMgd2lsbCBiZSBmb3JjZWQgZXZlbiB0aG91Z2ggc2Vlbiwgc28gaXQncyBvayB0aGF0IHRoZSBzY2hlbWEgaXMgdW5kZWZpbmVkIGhlcmUgZm9yIG5vdy5cbiAgICAgICAgICAgICAgICBqc29uU2NoZW1hOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdKSkgfSk7XG59O1xuZXhwb3J0cy5nZXRSZWZzID0gZ2V0UmVmcztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy56b2RUb0pzb25TY2hlbWEgPSB2b2lkIDA7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4vcGFyc2VEZWZcIik7XG5jb25zdCBSZWZzXzEgPSByZXF1aXJlKFwiLi9SZWZzXCIpO1xuY29uc3Qgem9kVG9Kc29uU2NoZW1hID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByZWZzID0gKDAsIFJlZnNfMS5nZXRSZWZzKShvcHRpb25zKTtcbiAgICBjb25zdCBkZWZpbml0aW9ucyA9IHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuZGVmaW5pdGlvbnNcbiAgICAgICAgPyBPYmplY3QuZW50cmllcyhvcHRpb25zLmRlZmluaXRpb25zKS5yZWR1Y2UoKGFjYywgW25hbWUsIHNjaGVtYV0pID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhY2MpLCB7IFtuYW1lXTogKF9hID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKHNjaGVtYS5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5iYXNlUGF0aCwgcmVmcy5kZWZpbml0aW9uUGF0aCwgbmFtZV0gfSksIHRydWUpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSB9KSk7XG4gICAgICAgIH0sIHt9KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBuYW1lID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgPyBvcHRpb25zIDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm5hbWU7XG4gICAgY29uc3QgbWFpbiA9IChfYSA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShzY2hlbWEuX2RlZiwgbmFtZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gcmVmc1xuICAgICAgICA6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmJhc2VQYXRoLCByZWZzLmRlZmluaXRpb25QYXRoLCBuYW1lXSB9KSwgZmFsc2UpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fTtcbiAgICBjb25zdCBjb21iaW5lZCA9IG5hbWUgPT09IHVuZGVmaW5lZFxuICAgICAgICA/IGRlZmluaXRpb25zXG4gICAgICAgICAgICA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbWFpbiksIHsgW3JlZnMuZGVmaW5pdGlvblBhdGhdOiBkZWZpbml0aW9ucyB9KSA6IG1haW5cbiAgICAgICAgOiB7XG4gICAgICAgICAgICAkcmVmOiBbXG4gICAgICAgICAgICAgICAgLi4uKHJlZnMuJHJlZlN0cmF0ZWd5ID09PSBcInJlbGF0aXZlXCIgPyBbXSA6IHJlZnMuYmFzZVBhdGgpLFxuICAgICAgICAgICAgICAgIHJlZnMuZGVmaW5pdGlvblBhdGgsXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIF0uam9pbihcIi9cIiksXG4gICAgICAgICAgICBbcmVmcy5kZWZpbml0aW9uUGF0aF06IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmaW5pdGlvbnMpLCB7IFtuYW1lXTogbWFpbiB9KSxcbiAgICAgICAgfTtcbiAgICBpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikge1xuICAgICAgICBjb21iaW5lZC4kc2NoZW1hID0gXCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA3L3NjaGVtYSNcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTIwMTktMDlcIikge1xuICAgICAgICBjb21iaW5lZC4kc2NoZW1hID0gXCJodHRwczovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC8yMDE5LTA5L3NjaGVtYSNcIjtcbiAgICB9XG4gICAgcmV0dXJuIGNvbWJpbmVkO1xufTtcbmV4cG9ydHMuem9kVG9Kc29uU2NoZW1hID0gem9kVG9Kc29uU2NoZW1hO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnpvZFRvSnNvblNjaGVtYSA9IHZvaWQgMDtcbmNvbnN0IHpvZFRvSnNvblNjaGVtYV8xID0gcmVxdWlyZShcIi4vc3JjL3pvZFRvSnNvblNjaGVtYVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInpvZFRvSnNvblNjaGVtYVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gem9kVG9Kc29uU2NoZW1hXzEuem9kVG9Kc29uU2NoZW1hOyB9IH0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gem9kVG9Kc29uU2NoZW1hXzEuem9kVG9Kc29uU2NoZW1hO1xuIiwiaW1wb3J0IHsgem9kVG9Kc29uU2NoZW1hIH0gZnJvbSBcInpvZC10by1qc29uLXNjaGVtYVwiO1xuLyoqXG4gKiBGb3JtYXRzIGEgYFN0cnVjdHVyZWRUb29sYCBpbnN0YW5jZSBpbnRvIGEgZm9ybWF0IHRoYXQgaXMgY29tcGF0aWJsZVxuICogd2l0aCBPcGVuQUkncyBDaGF0Q29tcGxldGlvbkZ1bmN0aW9ucy4gSXQgdXNlcyB0aGUgYHpvZFRvSnNvblNjaGVtYWBcbiAqIGZ1bmN0aW9uIHRvIGNvbnZlcnQgdGhlIHNjaGVtYSBvZiB0aGUgYFN0cnVjdHVyZWRUb29sYCBpbnRvIGEgSlNPTlxuICogc2NoZW1hLCB3aGljaCBpcyB0aGVuIHVzZWQgYXMgdGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBPcGVuQUkgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRUb09wZW5BSUZ1bmN0aW9uKHRvb2wpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0b29sLmRlc2NyaXB0aW9uLFxuICAgICAgICBwYXJhbWV0ZXJzOiB6b2RUb0pzb25TY2hlbWEodG9vbC5zY2hlbWEpLFxuICAgIH07XG59XG4iLCJpbXBvcnQgeyBBSU1lc3NhZ2UsIEh1bWFuTWVzc2FnZSwgUlVOX0tFWSwgY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UsIH0gZnJvbSBcIi4uL3NjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgQmFzZUxhbmd1YWdlTW9kZWwsIH0gZnJvbSBcIi4uL2Jhc2VfbGFuZ3VhZ2UvaW5kZXguanNcIjtcbmltcG9ydCB7IENhbGxiYWNrTWFuYWdlciwgfSBmcm9tIFwiLi4vY2FsbGJhY2tzL21hbmFnZXIuanNcIjtcbi8qKlxuICogQ3JlYXRlcyBhIHRyYW5zZm9ybSBzdHJlYW0gZm9yIGVuY29kaW5nIGNoYXQgbWVzc2FnZSBjaHVua3MuXG4gKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIEJ5dGVzT3V0cHV0UGFyc2VyfSBpbnN0ZWFkXG4gKiBAcmV0dXJucyBBIFRyYW5zZm9ybVN0cmVhbSBpbnN0YW5jZSB0aGF0IGVuY29kZXMgY2hhdCBtZXNzYWdlIGNodW5rcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNoYXRNZXNzYWdlQ2h1bmtFbmNvZGVyU3RyZWFtKCkge1xuICAgIGNvbnN0IHRleHRFbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh0ZXh0RW5jb2Rlci5lbmNvZGUoY2h1bmsuY29udGVudCkpO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBjaGF0IG1vZGVscy4gSXQgZXh0ZW5kcyB0aGUgQmFzZUxhbmd1YWdlTW9kZWwgY2xhc3MgYW5kXG4gKiBwcm92aWRlcyBtZXRob2RzIGZvciBnZW5lcmF0aW5nIGNoYXQgYmFzZWQgb24gaW5wdXQgbWVzc2FnZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlQ2hhdE1vZGVsIGV4dGVuZHMgQmFzZUxhbmd1YWdlTW9kZWwge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcImNoYXRfbW9kZWxzXCIsIHRoaXMuX2xsbVR5cGUoKV1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc10gPSBzdXBlci5fc2VwYXJhdGVSdW5uYWJsZUNvbmZpZ0Zyb21DYWxsT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgaWYgKGNhbGxPcHRpb25zPy50aW1lb3V0ICYmICFjYWxsT3B0aW9ucy5zaWduYWwpIHtcbiAgICAgICAgICAgIGNhbGxPcHRpb25zLnNpZ25hbCA9IEFib3J0U2lnbmFsLnRpbWVvdXQoY2FsbE9wdGlvbnMudGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtydW5uYWJsZUNvbmZpZywgY2FsbE9wdGlvbnNdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBjaGF0IG1vZGVsIHdpdGggYSBzaW5nbGUgaW5wdXQuXG4gICAgICogQHBhcmFtIGlucHV0IFRoZSBpbnB1dCBmb3IgdGhlIGxhbmd1YWdlIG1vZGVsLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIFRoZSBjYWxsIG9wdGlvbnMuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBCYXNlTWVzc2FnZUNodW5rLlxuICAgICAqL1xuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBwcm9tcHRWYWx1ZSA9IEJhc2VDaGF0TW9kZWwuX2NvbnZlcnRJbnB1dFRvUHJvbXB0VmFsdWUoaW5wdXQpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlUHJvbXB0KFtwcm9tcHRWYWx1ZV0sIG9wdGlvbnMsIG9wdGlvbnM/LmNhbGxiYWNrcyk7XG4gICAgICAgIGNvbnN0IGNoYXRHZW5lcmF0aW9uID0gcmVzdWx0LmdlbmVyYXRpb25zWzBdWzBdO1xuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdCBhZnRlciBmaWd1cmluZyBvdXQgaW5oZXJpdGFuY2VcbiAgICAgICAgcmV0dXJuIGNoYXRHZW5lcmF0aW9uLm1lc3NhZ2U7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZXF1aXJlLXlpZWxkXG4gICAgYXN5bmMgKl9zdHJlYW1SZXNwb25zZUNodW5rcyhfbWVzc2FnZXMsIF9vcHRpb25zLCBfcnVuTWFuYWdlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH1cbiAgICBhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIC8vIFN1YmNsYXNzIGNoZWNrIHJlcXVpcmVkIHRvIGF2b2lkIGRvdWJsZSBjYWxsYmFja3Mgd2l0aCBkZWZhdWx0IGltcGxlbWVudGF0aW9uXG4gICAgICAgIGlmICh0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyA9PT1cbiAgICAgICAgICAgIEJhc2VDaGF0TW9kZWwucHJvdG90eXBlLl9zdHJlYW1SZXNwb25zZUNodW5rcykge1xuICAgICAgICAgICAgeWllbGQgdGhpcy5pbnZva2UoaW5wdXQsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcHJvbXB0ID0gQmFzZUNoYXRNb2RlbC5fY29udmVydElucHV0VG9Qcm9tcHRWYWx1ZShpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlcyA9IHByb21wdC50b0NoYXRNZXNzYWdlcygpO1xuICAgICAgICAgICAgY29uc3QgW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc10gPSB0aGlzLl9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUocnVubmFibGVDb25maWcuY2FsbGJhY2tzLCB0aGlzLmNhbGxiYWNrcywgcnVubmFibGVDb25maWcudGFncywgdGhpcy50YWdzLCBydW5uYWJsZUNvbmZpZy5tZXRhZGF0YSwgdGhpcy5tZXRhZGF0YSwgeyB2ZXJib3NlOiB0aGlzLnZlcmJvc2UgfSk7XG4gICAgICAgICAgICBjb25zdCBleHRyYSA9IHtcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBjYWxsT3B0aW9ucyxcbiAgICAgICAgICAgICAgICBpbnZvY2F0aW9uX3BhcmFtczogdGhpcz8uaW52b2NhdGlvblBhcmFtcyhjYWxsT3B0aW9ucyksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGF0TW9kZWxTdGFydCh0aGlzLnRvSlNPTigpLCBbbWVzc2FnZXNdLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZXh0cmEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBydW5uYWJsZUNvbmZpZy5ydW5OYW1lKTtcbiAgICAgICAgICAgIGxldCBnZW5lcmF0aW9uQ2h1bms7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgdGhpcy5fc3RyZWFtUmVzcG9uc2VDaHVua3MobWVzc2FnZXMsIGNhbGxPcHRpb25zLCBydW5NYW5hZ2Vycz8uWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCBjaHVuay5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdlbmVyYXRpb25DaHVuaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGlvbkNodW5rID0gY2h1bms7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uQ2h1bmsgPSBnZW5lcmF0aW9uQ2h1bmsuY29uY2F0KGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCgocnVuTWFuYWdlcnMgPz8gW10pLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlTExNRXJyb3IoZXJyKSkpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKChydW5NYW5hZ2VycyA/PyBbXSkubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVMTE1FbmQoe1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSBjYXN0IGFmdGVyIGZpZ3VyaW5nIG91dCBpbmhlcml0YW5jZVxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb25zOiBbW2dlbmVyYXRpb25DaHVua11dLFxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9nZW5lcmF0ZVVuY2FjaGVkKG1lc3NhZ2VzLCBwYXJzZWRPcHRpb25zLCBoYW5kbGVkT3B0aW9ucykge1xuICAgICAgICBjb25zdCBiYXNlTWVzc2FnZXMgPSBtZXNzYWdlcy5tYXAoKG1lc3NhZ2VMaXN0KSA9PiBtZXNzYWdlTGlzdC5tYXAoY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UpKTtcbiAgICAgICAgLy8gY3JlYXRlIGNhbGxiYWNrIG1hbmFnZXIgYW5kIHN0YXJ0IHJ1blxuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShoYW5kbGVkT3B0aW9ucy5jYWxsYmFja3MsIHRoaXMuY2FsbGJhY2tzLCBoYW5kbGVkT3B0aW9ucy50YWdzLCB0aGlzLnRhZ3MsIGhhbmRsZWRPcHRpb25zLm1ldGFkYXRhLCB0aGlzLm1ldGFkYXRhLCB7IHZlcmJvc2U6IHRoaXMudmVyYm9zZSB9KTtcbiAgICAgICAgY29uc3QgZXh0cmEgPSB7XG4gICAgICAgICAgICBvcHRpb25zOiBwYXJzZWRPcHRpb25zLFxuICAgICAgICAgICAgaW52b2NhdGlvbl9wYXJhbXM6IHRoaXM/Lmludm9jYXRpb25QYXJhbXMocGFyc2VkT3B0aW9ucyksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXJzID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlQ2hhdE1vZGVsU3RhcnQodGhpcy50b0pTT04oKSwgYmFzZU1lc3NhZ2VzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZXh0cmEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBoYW5kbGVkT3B0aW9ucy5ydW5OYW1lKTtcbiAgICAgICAgLy8gZ2VuZXJhdGUgcmVzdWx0c1xuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGJhc2VNZXNzYWdlcy5tYXAoKG1lc3NhZ2VMaXN0LCBpKSA9PiB0aGlzLl9nZW5lcmF0ZShtZXNzYWdlTGlzdCwgeyAuLi5wYXJzZWRPcHRpb25zLCBwcm9tcHRJbmRleDogaSB9LCBydW5NYW5hZ2Vycz8uW2ldKSkpO1xuICAgICAgICAvLyBoYW5kbGUgcmVzdWx0c1xuICAgICAgICBjb25zdCBnZW5lcmF0aW9ucyA9IFtdO1xuICAgICAgICBjb25zdCBsbG1PdXRwdXRzID0gW107XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHJlc3VsdHMubWFwKGFzeW5jIChwUmVzdWx0LCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAocFJlc3VsdC5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBwUmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRpb25zW2ldID0gcmVzdWx0LmdlbmVyYXRpb25zO1xuICAgICAgICAgICAgICAgIGxsbU91dHB1dHNbaV0gPSByZXN1bHQubGxtT3V0cHV0O1xuICAgICAgICAgICAgICAgIHJldHVybiBydW5NYW5hZ2Vycz8uW2ldPy5oYW5kbGVMTE1FbmQoe1xuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uczogW3Jlc3VsdC5nZW5lcmF0aW9uc10sXG4gICAgICAgICAgICAgICAgICAgIGxsbU91dHB1dDogcmVzdWx0LmxsbU91dHB1dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHN0YXR1cyA9PT0gXCJyZWplY3RlZFwiXG4gICAgICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcnM/LltpXT8uaGFuZGxlTExNRXJyb3IocFJlc3VsdC5yZWFzb24pO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChwUmVzdWx0LnJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gY3JlYXRlIGNvbWJpbmVkIG91dHB1dFxuICAgICAgICBjb25zdCBvdXRwdXQgPSB7XG4gICAgICAgICAgICBnZW5lcmF0aW9ucyxcbiAgICAgICAgICAgIGxsbU91dHB1dDogbGxtT3V0cHV0cy5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IHRoaXMuX2NvbWJpbmVMTE1PdXRwdXQ/LiguLi5sbG1PdXRwdXRzKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3V0cHV0LCBSVU5fS0VZLCB7XG4gICAgICAgICAgICB2YWx1ZTogcnVuTWFuYWdlcnNcbiAgICAgICAgICAgICAgICA/IHsgcnVuSWRzOiBydW5NYW5hZ2Vycz8ubWFwKChtYW5hZ2VyKSA9PiBtYW5hZ2VyLnJ1bklkKSB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgY2hhdCBiYXNlZCBvbiB0aGUgaW5wdXQgbWVzc2FnZXMuXG4gICAgICogQHBhcmFtIG1lc3NhZ2VzIEFuIGFycmF5IG9mIGFycmF5cyBvZiBCYXNlTWVzc2FnZSBpbnN0YW5jZXMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgVGhlIGNhbGwgb3B0aW9ucyBvciBhbiBhcnJheSBvZiBzdG9wIHNlcXVlbmNlcy5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIFRoZSBjYWxsYmFja3MgZm9yIHRoZSBsYW5ndWFnZSBtb2RlbC5cbiAgICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBMTE1SZXN1bHQuXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGUobWVzc2FnZXMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICAvLyBwYXJzZSBjYWxsIG9wdGlvbnNcbiAgICAgICAgbGV0IHBhcnNlZE9wdGlvbnM7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0geyBzdG9wOiBvcHRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiYXNlTWVzc2FnZXMgPSBtZXNzYWdlcy5tYXAoKG1lc3NhZ2VMaXN0KSA9PiBtZXNzYWdlTGlzdC5tYXAoY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UpKTtcbiAgICAgICAgY29uc3QgW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc10gPSB0aGlzLl9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zKHBhcnNlZE9wdGlvbnMpO1xuICAgICAgICBydW5uYWJsZUNvbmZpZy5jYWxsYmFja3MgPSBydW5uYWJsZUNvbmZpZy5jYWxsYmFja3MgPz8gY2FsbGJhY2tzO1xuICAgICAgICBpZiAoIXRoaXMuY2FjaGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZW5lcmF0ZVVuY2FjaGVkKGJhc2VNZXNzYWdlcywgY2FsbE9wdGlvbnMsIHJ1bm5hYmxlQ29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGNhY2hlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBsbG1TdHJpbmdLZXkgPSB0aGlzLl9nZXRTZXJpYWxpemVkQ2FjaGVLZXlQYXJhbWV0ZXJzRm9yQ2FsbChjYWxsT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG1pc3NpbmdQcm9tcHRJbmRpY2VzID0gW107XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gYXdhaXQgUHJvbWlzZS5hbGwoYmFzZU1lc3NhZ2VzLm1hcChhc3luYyAoYmFzZU1lc3NhZ2UsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAvLyBKb2luIGFsbCBjb250ZW50IGludG8gb25lIHN0cmluZyBmb3IgdGhlIHByb21wdCBpbmRleFxuICAgICAgICAgICAgY29uc3QgcHJvbXB0ID0gQmFzZUNoYXRNb2RlbC5fY29udmVydElucHV0VG9Qcm9tcHRWYWx1ZShiYXNlTWVzc2FnZSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhY2hlLmxvb2t1cChwcm9tcHQsIGxsbVN0cmluZ0tleSk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIG1pc3NpbmdQcm9tcHRJbmRpY2VzLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSkpO1xuICAgICAgICBsZXQgbGxtT3V0cHV0ID0ge307XG4gICAgICAgIGlmIChtaXNzaW5nUHJvbXB0SW5kaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5fZ2VuZXJhdGVVbmNhY2hlZChtaXNzaW5nUHJvbXB0SW5kaWNlcy5tYXAoKGkpID0+IGJhc2VNZXNzYWdlc1tpXSksIGNhbGxPcHRpb25zLCBydW5uYWJsZUNvbmZpZyk7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChyZXN1bHRzLmdlbmVyYXRpb25zLm1hcChhc3luYyAoZ2VuZXJhdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9tcHRJbmRleCA9IG1pc3NpbmdQcm9tcHRJbmRpY2VzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uc1twcm9tcHRJbmRleF0gPSBnZW5lcmF0aW9uO1xuICAgICAgICAgICAgICAgIC8vIEpvaW4gYWxsIGNvbnRlbnQgaW50byBvbmUgc3RyaW5nIGZvciB0aGUgcHJvbXB0IGluZGV4XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbXB0ID0gQmFzZUNoYXRNb2RlbC5fY29udmVydElucHV0VG9Qcm9tcHRWYWx1ZShiYXNlTWVzc2FnZXNbcHJvbXB0SW5kZXhdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZS51cGRhdGUocHJvbXB0LCBsbG1TdHJpbmdLZXksIGdlbmVyYXRpb24pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgbGxtT3V0cHV0ID0gcmVzdWx0cy5sbG1PdXRwdXQgPz8ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZ2VuZXJhdGlvbnMsIGxsbU91dHB1dCB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBhcmFtZXRlcnMgdXNlZCB0byBpbnZva2UgdGhlIG1vZGVsXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBpbnZvY2F0aW9uUGFyYW1zKF9vcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgX21vZGVsVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiYmFzZV9jaGF0X21vZGVsXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogUmV0dXJuIGEganNvbi1saWtlIG9iamVjdCByZXByZXNlbnRpbmcgdGhpcyBMTE0uXG4gICAgICovXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fbGxtVHlwZSgpLFxuICAgICAgICAgICAgX21vZGVsOiB0aGlzLl9tb2RlbFR5cGUoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgcHJvbXB0IGJhc2VkIG9uIHRoZSBpbnB1dCBwcm9tcHQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSBwcm9tcHRWYWx1ZXMgQW4gYXJyYXkgb2YgQmFzZVByb21wdFZhbHVlIGluc3RhbmNlcy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgY2FsbCBvcHRpb25zIG9yIGFuIGFycmF5IG9mIHN0b3Agc2VxdWVuY2VzLlxuICAgICAqIEBwYXJhbSBjYWxsYmFja3MgVGhlIGNhbGxiYWNrcyBmb3IgdGhlIGxhbmd1YWdlIG1vZGVsLlxuICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIExMTVJlc3VsdC5cbiAgICAgKi9cbiAgICBhc3luYyBnZW5lcmF0ZVByb21wdChwcm9tcHRWYWx1ZXMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICBjb25zdCBwcm9tcHRNZXNzYWdlcyA9IHByb21wdFZhbHVlcy5tYXAoKHByb21wdFZhbHVlKSA9PiBwcm9tcHRWYWx1ZS50b0NoYXRNZXNzYWdlcygpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGUocHJvbXB0TWVzc2FnZXMsIG9wdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgc2luZ2xlIGNhbGwgdG8gdGhlIGNoYXQgbW9kZWwuXG4gICAgICogQHBhcmFtIG1lc3NhZ2VzIEFuIGFycmF5IG9mIEJhc2VNZXNzYWdlIGluc3RhbmNlcy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgY2FsbCBvcHRpb25zIG9yIGFuIGFycmF5IG9mIHN0b3Agc2VxdWVuY2VzLlxuICAgICAqIEBwYXJhbSBjYWxsYmFja3MgVGhlIGNhbGxiYWNrcyBmb3IgdGhlIGxhbmd1YWdlIG1vZGVsLlxuICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgQmFzZU1lc3NhZ2UuXG4gICAgICovXG4gICAgYXN5bmMgY2FsbChtZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGUoW21lc3NhZ2VzLm1hcChjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSldLCBvcHRpb25zLCBjYWxsYmFja3MpO1xuICAgICAgICBjb25zdCBnZW5lcmF0aW9ucyA9IHJlc3VsdC5nZW5lcmF0aW9ucztcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRpb25zWzBdWzBdLm1lc3NhZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgc2luZ2xlIGNhbGwgdG8gdGhlIGNoYXQgbW9kZWwgd2l0aCBhIHByb21wdCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0gcHJvbXB0VmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBwcm9tcHQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgVGhlIGNhbGwgb3B0aW9ucyBvciBhbiBhcnJheSBvZiBzdG9wIHNlcXVlbmNlcy5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIFRoZSBjYWxsYmFja3MgZm9yIHRoZSBsYW5ndWFnZSBtb2RlbC5cbiAgICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIEJhc2VNZXNzYWdlLlxuICAgICAqL1xuICAgIGFzeW5jIGNhbGxQcm9tcHQocHJvbXB0VmFsdWUsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICBjb25zdCBwcm9tcHRNZXNzYWdlcyA9IHByb21wdFZhbHVlLnRvQ2hhdE1lc3NhZ2VzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwocHJvbXB0TWVzc2FnZXMsIG9wdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZWRpY3RzIHRoZSBuZXh0IG1lc3NhZ2UgYmFzZWQgb24gdGhlIGlucHV0IG1lc3NhZ2VzLlxuICAgICAqIEBwYXJhbSBtZXNzYWdlcyBBbiBhcnJheSBvZiBCYXNlTWVzc2FnZSBpbnN0YW5jZXMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgVGhlIGNhbGwgb3B0aW9ucyBvciBhbiBhcnJheSBvZiBzdG9wIHNlcXVlbmNlcy5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIFRoZSBjYWxsYmFja3MgZm9yIHRoZSBsYW5ndWFnZSBtb2RlbC5cbiAgICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIEJhc2VNZXNzYWdlLlxuICAgICAqL1xuICAgIGFzeW5jIHByZWRpY3RNZXNzYWdlcyhtZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwobWVzc2FnZXMsIG9wdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZWRpY3RzIHRoZSBuZXh0IG1lc3NhZ2UgYmFzZWQgb24gYSB0ZXh0IGlucHV0LlxuICAgICAqIEBwYXJhbSB0ZXh0IFRoZSB0ZXh0IGlucHV0LlxuICAgICAqIEBwYXJhbSBvcHRpb25zIFRoZSBjYWxsIG9wdGlvbnMgb3IgYW4gYXJyYXkgb2Ygc3RvcCBzZXF1ZW5jZXMuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrcyBUaGUgY2FsbGJhY2tzIGZvciB0aGUgbGFuZ3VhZ2UgbW9kZWwuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBzdHJpbmcuXG4gICAgICovXG4gICAgYXN5bmMgcHJlZGljdCh0ZXh0LCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBIdW1hbk1lc3NhZ2UodGV4dCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY2FsbChbbWVzc2FnZV0sIG9wdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgICAgIHJldHVybiByZXN1bHQuY29udGVudDtcbiAgICB9XG59XG4vKipcbiAqIEFuIGFic3RyYWN0IGNsYXNzIHRoYXQgZXh0ZW5kcyBCYXNlQ2hhdE1vZGVsIGFuZCBwcm92aWRlcyBhIHNpbXBsZVxuICogaW1wbGVtZW50YXRpb24gb2YgX2dlbmVyYXRlLlxuICovXG5leHBvcnQgY2xhc3MgU2ltcGxlQ2hhdE1vZGVsIGV4dGVuZHMgQmFzZUNoYXRNb2RlbCB7XG4gICAgYXN5bmMgX2dlbmVyYXRlKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLl9jYWxsKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBBSU1lc3NhZ2UodGV4dCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZW5lcmF0aW9uczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE9wZW5BSSBhcyBPcGVuQUlDbGllbnQgfSBmcm9tIFwib3BlbmFpXCI7XG5pbXBvcnQgeyBnZXRNb2RlbE5hbWVGb3JUaWt0b2tlbiB9IGZyb20gXCIuLi9iYXNlX2xhbmd1YWdlL2NvdW50X3Rva2Vucy5qc1wiO1xuaW1wb3J0IHsgQUlNZXNzYWdlLCBBSU1lc3NhZ2VDaHVuaywgQ2hhdEdlbmVyYXRpb25DaHVuaywgQ2hhdE1lc3NhZ2UsIENoYXRNZXNzYWdlQ2h1bmssIEZ1bmN0aW9uTWVzc2FnZUNodW5rLCBIdW1hbk1lc3NhZ2UsIEh1bWFuTWVzc2FnZUNodW5rLCBTeXN0ZW1NZXNzYWdlLCBTeXN0ZW1NZXNzYWdlQ2h1bmssIH0gZnJvbSBcIi4uL3NjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZm9ybWF0VG9PcGVuQUlGdW5jdGlvbiB9IGZyb20gXCIuLi90b29scy9jb252ZXJ0X3RvX29wZW5haS5qc1wiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnQgfSBmcm9tIFwiLi4vdXRpbC9henVyZS5qc1wiO1xuaW1wb3J0IHsgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZSB9IGZyb20gXCIuLi91dGlsL2Vudi5qc1wiO1xuaW1wb3J0IHsgcHJvbXB0TGF5ZXJUcmFja1JlcXVlc3QgfSBmcm9tIFwiLi4vdXRpbC9wcm9tcHQtbGF5ZXIuanNcIjtcbmltcG9ydCB7IEJhc2VDaGF0TW9kZWwgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyB3cmFwT3BlbkFJQ2xpZW50RXJyb3IgfSBmcm9tIFwiLi4vdXRpbC9vcGVuYWkuanNcIjtcbmZ1bmN0aW9uIGV4dHJhY3RHZW5lcmljTWVzc2FnZUN1c3RvbVJvbGUobWVzc2FnZSkge1xuICAgIGlmIChtZXNzYWdlLnJvbGUgIT09IFwic3lzdGVtXCIgJiZcbiAgICAgICAgbWVzc2FnZS5yb2xlICE9PSBcImFzc2lzdGFudFwiICYmXG4gICAgICAgIG1lc3NhZ2Uucm9sZSAhPT0gXCJ1c2VyXCIgJiZcbiAgICAgICAgbWVzc2FnZS5yb2xlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBVbmtub3duIG1lc3NhZ2Ugcm9sZTogJHttZXNzYWdlLnJvbGV9YCk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlLnJvbGU7XG59XG5mdW5jdGlvbiBtZXNzYWdlVG9PcGVuQUlSb2xlKG1lc3NhZ2UpIHtcbiAgICBjb25zdCB0eXBlID0gbWVzc2FnZS5fZ2V0VHlwZSgpO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwic3lzdGVtXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJzeXN0ZW1cIjtcbiAgICAgICAgY2FzZSBcImFpXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJhc3Npc3RhbnRcIjtcbiAgICAgICAgY2FzZSBcImh1bWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJ1c2VyXCI7XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIjtcbiAgICAgICAgY2FzZSBcImdlbmVyaWNcIjoge1xuICAgICAgICAgICAgaWYgKCFDaGF0TWVzc2FnZS5pc0luc3RhbmNlKG1lc3NhZ2UpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZ2VuZXJpYyBjaGF0IG1lc3NhZ2VcIik7XG4gICAgICAgICAgICByZXR1cm4gZXh0cmFjdEdlbmVyaWNNZXNzYWdlQ3VzdG9tUm9sZShtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIG1lc3NhZ2UgdHlwZTogJHt0eXBlfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG9wZW5BSVJlc3BvbnNlVG9DaGF0TWVzc2FnZShtZXNzYWdlKSB7XG4gICAgc3dpdGNoIChtZXNzYWdlLnJvbGUpIHtcbiAgICAgICAgY2FzZSBcInVzZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSHVtYW5NZXNzYWdlKG1lc3NhZ2UuY29udGVudCB8fCBcIlwiKTtcbiAgICAgICAgY2FzZSBcImFzc2lzdGFudFwiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBSU1lc3NhZ2UobWVzc2FnZS5jb250ZW50IHx8IFwiXCIsIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbl9jYWxsOiBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSBcInN5c3RlbVwiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTeXN0ZW1NZXNzYWdlKG1lc3NhZ2UuY29udGVudCB8fCBcIlwiKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2hhdE1lc3NhZ2UobWVzc2FnZS5jb250ZW50IHx8IFwiXCIsIG1lc3NhZ2Uucm9sZSA/PyBcInVua25vd25cIik7XG4gICAgfVxufVxuZnVuY3Rpb24gX2NvbnZlcnREZWx0YVRvTWVzc2FnZUNodW5rKFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmRlbHRhLCBkZWZhdWx0Um9sZSkge1xuICAgIGNvbnN0IHJvbGUgPSBkZWx0YS5yb2xlID8/IGRlZmF1bHRSb2xlO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBkZWx0YS5jb250ZW50ID8/IFwiXCI7XG4gICAgbGV0IGFkZGl0aW9uYWxfa3dhcmdzO1xuICAgIGlmIChkZWx0YS5mdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgIGFkZGl0aW9uYWxfa3dhcmdzID0ge1xuICAgICAgICAgICAgZnVuY3Rpb25fY2FsbDogZGVsdGEuZnVuY3Rpb25fY2FsbCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFkZGl0aW9uYWxfa3dhcmdzID0ge307XG4gICAgfVxuICAgIGlmIChyb2xlID09PSBcInVzZXJcIikge1xuICAgICAgICByZXR1cm4gbmV3IEh1bWFuTWVzc2FnZUNodW5rKHsgY29udGVudCB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAocm9sZSA9PT0gXCJhc3Npc3RhbnRcIikge1xuICAgICAgICByZXR1cm4gbmV3IEFJTWVzc2FnZUNodW5rKHsgY29udGVudCwgYWRkaXRpb25hbF9rd2FyZ3MgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJvbGUgPT09IFwic3lzdGVtXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTeXN0ZW1NZXNzYWdlQ2h1bmsoeyBjb250ZW50IH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChyb2xlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbk1lc3NhZ2VDaHVuayh7XG4gICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3MsXG4gICAgICAgICAgICBuYW1lOiBkZWx0YS5uYW1lLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdE1lc3NhZ2VDaHVuayh7IGNvbnRlbnQsIHJvbGUgfSk7XG4gICAgfVxufVxuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBPcGVuQUkgbGFyZ2UgbGFuZ3VhZ2UgbW9kZWxzIHRoYXQgdXNlIHRoZSBDaGF0IGVuZHBvaW50LlxuICpcbiAqIFRvIHVzZSB5b3Ugc2hvdWxkIGhhdmUgdGhlIGBvcGVuYWlgIHBhY2thZ2UgaW5zdGFsbGVkLCB3aXRoIHRoZVxuICogYE9QRU5BSV9BUElfS0VZYCBlbnZpcm9ubWVudCB2YXJpYWJsZSBzZXQuXG4gKlxuICogVG8gdXNlIHdpdGggQXp1cmUgeW91IHNob3VsZCBoYXZlIHRoZSBgb3BlbmFpYCBwYWNrYWdlIGluc3RhbGxlZCwgd2l0aCB0aGVcbiAqIGBBWlVSRV9PUEVOQUlfQVBJX0tFWWAsXG4gKiBgQVpVUkVfT1BFTkFJX0FQSV9JTlNUQU5DRV9OQU1FYCxcbiAqIGBBWlVSRV9PUEVOQUlfQVBJX0RFUExPWU1FTlRfTkFNRWBcbiAqIGFuZCBgQVpVUkVfT1BFTkFJX0FQSV9WRVJTSU9OYCBlbnZpcm9ubWVudCB2YXJpYWJsZSBzZXQuXG4gKiBgQVpVUkVfT1BFTkFJX0JBU0VfUEFUSGAgaXMgb3B0aW9uYWwgYW5kIHdpbGwgb3ZlcnJpZGUgYEFaVVJFX09QRU5BSV9BUElfSU5TVEFOQ0VfTkFNRWAgaWYgeW91IG5lZWQgdG8gdXNlIGEgY3VzdG9tIGVuZHBvaW50LlxuICpcbiAqIEByZW1hcmtzXG4gKiBBbnkgcGFyYW1ldGVycyB0aGF0IGFyZSB2YWxpZCB0byBiZSBwYXNzZWQgdG8ge0BsaW5rXG4gKiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2NoYXQvY3JlYXRlIHxcbiAqIGBvcGVuYWkuY3JlYXRlQ2hhdENvbXBsZXRpb25gfSBjYW4gYmUgcGFzc2VkIHRocm91Z2gge0BsaW5rIG1vZGVsS3dhcmdzfSwgZXZlblxuICogaWYgbm90IGV4cGxpY2l0bHkgYXZhaWxhYmxlIG9uIHRoaXMgY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGF0T3BlbkFJIGV4dGVuZHMgQmFzZUNoYXRNb2RlbCB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkNoYXRPcGVuQUlcIjtcbiAgICB9XG4gICAgZ2V0IGNhbGxLZXlzKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgLi4uc3VwZXIuY2FsbEtleXMsXG4gICAgICAgICAgICBcIm9wdGlvbnNcIixcbiAgICAgICAgICAgIFwiZnVuY3Rpb25fY2FsbFwiLFxuICAgICAgICAgICAgXCJmdW5jdGlvbnNcIixcbiAgICAgICAgICAgIFwidG9vbHNcIixcbiAgICAgICAgICAgIFwicHJvbXB0SW5kZXhcIixcbiAgICAgICAgXTtcbiAgICB9XG4gICAgZ2V0IGxjX3NlY3JldHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcGVuQUlBcGlLZXk6IFwiT1BFTkFJX0FQSV9LRVlcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpS2V5OiBcIkFaVVJFX09QRU5BSV9BUElfS0VZXCIsXG4gICAgICAgICAgICBvcmdhbml6YXRpb246IFwiT1BFTkFJX09SR0FOSVpBVElPTlwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgbGNfYWxpYXNlcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsTmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgb3BlbkFJQXBpS2V5OiBcIm9wZW5haV9hcGlfa2V5XCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaVZlcnNpb246IFwiYXp1cmVfb3BlbmFpX2FwaV92ZXJzaW9uXCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaUtleTogXCJhenVyZV9vcGVuYWlfYXBpX2tleVwiLFxuICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWU6IFwiYXp1cmVfb3BlbmFpX2FwaV9pbnN0YW5jZV9uYW1lXCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lOiBcImF6dXJlX29wZW5haV9hcGlfZGVwbG95bWVudF9uYW1lXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgY29uZmlndXJhdGlvbikge1xuICAgICAgICBzdXBlcihmaWVsZHMgPz8ge30pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRlbXBlcmF0dXJlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAxXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b3BQXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAxXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmcmVxdWVuY3lQZW5hbHR5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcmVzZW5jZVBlbmFsdHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvZ2l0Qmlhc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiZ3B0LTMuNS10dXJib1wiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbEt3YXJnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdG9wXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVzZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGltZW91dFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJlYW1pbmdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhUb2tlbnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3BlbkFJQXBpS2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpVmVyc2lvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaUtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQmFzZVBhdGhcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3JnYW5pemF0aW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRDb25maWdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vcGVuQUlBcGlLZXkgPVxuICAgICAgICAgICAgZmllbGRzPy5vcGVuQUlBcGlLZXkgPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9BUElfS0VZXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ID1cbiAgICAgICAgICAgIGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlLZXkgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIGlmICghdGhpcy5henVyZU9wZW5BSUFwaUtleSAmJiAhdGhpcy5vcGVuQUlBcGlLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9wZW5BSSBvciBBenVyZSBPcGVuQUkgQVBJIGtleSBub3QgZm91bmRcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSA9XG4gICAgICAgICAgICBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfSU5TVEFOQ0VfTkFNRVwiKTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lID1cbiAgICAgICAgICAgIGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0RFUExPWU1FTlRfTkFNRVwiKTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24gPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaVZlcnNpb24gPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9WRVJTSU9OXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGggPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUJhc2VQYXRoID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9CQVNFX1BBVEhcIik7XG4gICAgICAgIHRoaXMub3JnYW5pemF0aW9uID1cbiAgICAgICAgICAgIGZpZWxkcz8uY29uZmlndXJhdGlvbj8ub3JnYW5pemF0aW9uID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9PUkdBTklaQVRJT05cIik7XG4gICAgICAgIHRoaXMubW9kZWxOYW1lID0gZmllbGRzPy5tb2RlbE5hbWUgPz8gdGhpcy5tb2RlbE5hbWU7XG4gICAgICAgIHRoaXMubW9kZWxLd2FyZ3MgPSBmaWVsZHM/Lm1vZGVsS3dhcmdzID8/IHt9O1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBmaWVsZHM/LnRpbWVvdXQ7XG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgPSBmaWVsZHM/LnRlbXBlcmF0dXJlID8/IHRoaXMudGVtcGVyYXR1cmU7XG4gICAgICAgIHRoaXMudG9wUCA9IGZpZWxkcz8udG9wUCA/PyB0aGlzLnRvcFA7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5UGVuYWx0eSA9IGZpZWxkcz8uZnJlcXVlbmN5UGVuYWx0eSA/PyB0aGlzLmZyZXF1ZW5jeVBlbmFsdHk7XG4gICAgICAgIHRoaXMucHJlc2VuY2VQZW5hbHR5ID0gZmllbGRzPy5wcmVzZW5jZVBlbmFsdHkgPz8gdGhpcy5wcmVzZW5jZVBlbmFsdHk7XG4gICAgICAgIHRoaXMubWF4VG9rZW5zID0gZmllbGRzPy5tYXhUb2tlbnM7XG4gICAgICAgIHRoaXMubiA9IGZpZWxkcz8ubiA/PyB0aGlzLm47XG4gICAgICAgIHRoaXMubG9naXRCaWFzID0gZmllbGRzPy5sb2dpdEJpYXM7XG4gICAgICAgIHRoaXMuc3RvcCA9IGZpZWxkcz8uc3RvcDtcbiAgICAgICAgdGhpcy51c2VyID0gZmllbGRzPy51c2VyO1xuICAgICAgICB0aGlzLnN0cmVhbWluZyA9IGZpZWxkcz8uc3RyZWFtaW5nID8/IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lICYmICF0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGluc3RhbmNlIG5hbWUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGRlcGxveW1lbnQgbmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIEFQSSB2ZXJzaW9uIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3BlbkFJQXBpS2V5ID0gdGhpcy5vcGVuQUlBcGlLZXkgPz8gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsaWVudENvbmZpZyA9IHtcbiAgICAgICAgICAgIGFwaUtleTogdGhpcy5vcGVuQUlBcGlLZXksXG4gICAgICAgICAgICBvcmdhbml6YXRpb246IHRoaXMub3JnYW5pemF0aW9uLFxuICAgICAgICAgICAgYmFzZVVSTDogY29uZmlndXJhdGlvbj8uYmFzZVBhdGggPz8gZmllbGRzPy5jb25maWd1cmF0aW9uPy5iYXNlUGF0aCxcbiAgICAgICAgICAgIGRhbmdlcm91c2x5QWxsb3dCcm93c2VyOiB0cnVlLFxuICAgICAgICAgICAgZGVmYXVsdEhlYWRlcnM6IGNvbmZpZ3VyYXRpb24/LmJhc2VPcHRpb25zPy5oZWFkZXJzID8/XG4gICAgICAgICAgICAgICAgZmllbGRzPy5jb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIGRlZmF1bHRRdWVyeTogY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LnBhcmFtcyA/P1xuICAgICAgICAgICAgICAgIGZpZWxkcz8uY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LnBhcmFtcyxcbiAgICAgICAgICAgIC4uLmNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAuLi5maWVsZHM/LmNvbmZpZ3VyYXRpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGFyYW1ldGVycyB1c2VkIHRvIGludm9rZSB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICBpbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIHRlbXBlcmF0dXJlOiB0aGlzLnRlbXBlcmF0dXJlLFxuICAgICAgICAgICAgdG9wX3A6IHRoaXMudG9wUCxcbiAgICAgICAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiB0aGlzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICBwcmVzZW5jZV9wZW5hbHR5OiB0aGlzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgIG1heF90b2tlbnM6IHRoaXMubWF4VG9rZW5zID09PSAtMSA/IHVuZGVmaW5lZCA6IHRoaXMubWF4VG9rZW5zLFxuICAgICAgICAgICAgbjogdGhpcy5uLFxuICAgICAgICAgICAgbG9naXRfYmlhczogdGhpcy5sb2dpdEJpYXMsXG4gICAgICAgICAgICBzdG9wOiBvcHRpb25zPy5zdG9wID8/IHRoaXMuc3RvcCxcbiAgICAgICAgICAgIHVzZXI6IHRoaXMudXNlcixcbiAgICAgICAgICAgIHN0cmVhbTogdGhpcy5zdHJlYW1pbmcsXG4gICAgICAgICAgICBmdW5jdGlvbnM6IG9wdGlvbnM/LmZ1bmN0aW9ucyA/P1xuICAgICAgICAgICAgICAgIChvcHRpb25zPy50b29sc1xuICAgICAgICAgICAgICAgICAgICA/IG9wdGlvbnM/LnRvb2xzLm1hcChmb3JtYXRUb09wZW5BSUZ1bmN0aW9uKVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICBmdW5jdGlvbl9jYWxsOiBvcHRpb25zPy5mdW5jdGlvbl9jYWxsLFxuICAgICAgICAgICAgLi4udGhpcy5tb2RlbEt3YXJncyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBfaWRlbnRpZnlpbmdQYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtb2RlbF9uYW1lOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIC4uLnRoaXMuaW52b2NhdGlvblBhcmFtcygpLFxuICAgICAgICAgICAgLi4udGhpcy5jbGllbnRDb25maWcsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jICpfc3RyZWFtUmVzcG9uc2VDaHVua3MobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXNNYXBwZWQgPSBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+ICh7XG4gICAgICAgICAgICByb2xlOiBtZXNzYWdlVG9PcGVuQUlSb2xlKG1lc3NhZ2UpLFxuICAgICAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgICAgbmFtZTogbWVzc2FnZS5uYW1lLFxuICAgICAgICAgICAgZnVuY3Rpb25fY2FsbDogbWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJnc1xuICAgICAgICAgICAgICAgIC5mdW5jdGlvbl9jYWxsLFxuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKSxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlc01hcHBlZCxcbiAgICAgICAgICAgIHN0cmVhbTogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGRlZmF1bHRSb2xlO1xuICAgICAgICBjb25zdCBzdHJlYW1JdGVyYWJsZSA9IGF3YWl0IHRoaXMuY29tcGxldGlvbldpdGhSZXRyeShwYXJhbXMsIG9wdGlvbnMpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGRhdGEgb2Ygc3RyZWFtSXRlcmFibGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNob2ljZSA9IGRhdGE/LmNob2ljZXNbMF07XG4gICAgICAgICAgICBpZiAoIWNob2ljZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBkZWx0YSB9ID0gY2hvaWNlO1xuICAgICAgICAgICAgY29uc3QgY2h1bmsgPSBfY29udmVydERlbHRhVG9NZXNzYWdlQ2h1bmsoZGVsdGEsIGRlZmF1bHRSb2xlKTtcbiAgICAgICAgICAgIGRlZmF1bHRSb2xlID0gZGVsdGEucm9sZSA/PyBkZWZhdWx0Um9sZTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rva2VuSW5kaWNlcyA9IHtcbiAgICAgICAgICAgICAgICBwcm9tcHQ6IG9wdGlvbnMucHJvbXB0SW5kZXggPz8gMCxcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uOiBjaG9pY2UuaW5kZXggPz8gMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBnZW5lcmF0aW9uQ2h1bmsgPSBuZXcgQ2hhdEdlbmVyYXRpb25DaHVuayh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogY2h1bmssXG4gICAgICAgICAgICAgICAgdGV4dDogY2h1bmsuY29udGVudCxcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uSW5mbzogbmV3VG9rZW5JbmRpY2VzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB5aWVsZCBnZW5lcmF0aW9uQ2h1bms7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdm9pZFxuICAgICAgICAgICAgdm9pZCBydW5NYW5hZ2VyPy5oYW5kbGVMTE1OZXdUb2tlbihnZW5lcmF0aW9uQ2h1bmsudGV4dCA/PyBcIlwiLCBuZXdUb2tlbkluZGljZXMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHsgY2h1bms6IGdlbmVyYXRpb25DaHVuayB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFib3J0RXJyb3JcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpZGVudGlmeWluZyBwYXJhbWV0ZXJzIGZvciB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICBpZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCk7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2dlbmVyYXRlKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHRva2VuVXNhZ2UgPSB7fTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy5pbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBtZXNzYWdlc01hcHBlZCA9IG1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gKHtcbiAgICAgICAgICAgIHJvbGU6IG1lc3NhZ2VUb09wZW5BSVJvbGUobWVzc2FnZSksXG4gICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICBuYW1lOiBtZXNzYWdlLm5hbWUsXG4gICAgICAgICAgICBmdW5jdGlvbl9jYWxsOiBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzXG4gICAgICAgICAgICAgICAgLmZ1bmN0aW9uX2NhbGwsXG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKHBhcmFtcy5zdHJlYW0pIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsQ2h1bmtzID0ge307XG4gICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2h1bmsuZ2VuZXJhdGlvbkluZm8/LmNvbXBsZXRpb24gPz8gMDtcbiAgICAgICAgICAgICAgICBpZiAoZmluYWxDaHVua3NbaW5kZXhdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDaHVua3NbaW5kZXhdID0gY2h1bms7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmaW5hbENodW5rc1tpbmRleF0gPSBmaW5hbENodW5rc1tpbmRleF0uY29uY2F0KGNodW5rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBnZW5lcmF0aW9ucyA9IE9iamVjdC5lbnRyaWVzKGZpbmFsQ2h1bmtzKVxuICAgICAgICAgICAgICAgIC5zb3J0KChbYUtleV0sIFtiS2V5XSkgPT4gcGFyc2VJbnQoYUtleSwgMTApIC0gcGFyc2VJbnQoYktleSwgMTApKVxuICAgICAgICAgICAgICAgIC5tYXAoKFtfLCB2YWx1ZV0pID0+IHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB7IGdlbmVyYXRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHtcbiAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgc3RyZWFtOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogbWVzc2FnZXNNYXBwZWQsXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgc2lnbmFsOiBvcHRpb25zPy5zaWduYWwsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucz8ub3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgeyBjb21wbGV0aW9uX3Rva2VuczogY29tcGxldGlvblRva2VucywgcHJvbXB0X3Rva2VuczogcHJvbXB0VG9rZW5zLCB0b3RhbF90b2tlbnM6IHRvdGFsVG9rZW5zLCB9ID0gZGF0YT8udXNhZ2UgPz8ge307XG4gICAgICAgICAgICBpZiAoY29tcGxldGlvblRva2Vucykge1xuICAgICAgICAgICAgICAgIHRva2VuVXNhZ2UuY29tcGxldGlvblRva2VucyA9XG4gICAgICAgICAgICAgICAgICAgICh0b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPz8gMCkgKyBjb21wbGV0aW9uVG9rZW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb21wdFRva2Vucykge1xuICAgICAgICAgICAgICAgIHRva2VuVXNhZ2UucHJvbXB0VG9rZW5zID0gKHRva2VuVXNhZ2UucHJvbXB0VG9rZW5zID8/IDApICsgcHJvbXB0VG9rZW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRvdGFsVG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5Vc2FnZS50b3RhbFRva2VucyA9ICh0b2tlblVzYWdlLnRvdGFsVG9rZW5zID8/IDApICsgdG90YWxUb2tlbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBnZW5lcmF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIGRhdGE/LmNob2ljZXMgPz8gW10pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gcGFydC5tZXNzYWdlPy5jb250ZW50ID8/IFwiXCI7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2VuZXJhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogb3BlbkFJUmVzcG9uc2VUb0NoYXRNZXNzYWdlKHBhcnQubWVzc2FnZSA/PyB7IHJvbGU6IFwiYXNzaXN0YW50XCIgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAocGFydC5maW5pc2hfcmVhc29uKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb24uZ2VuZXJhdGlvbkluZm8gPSB7IGZpbmlzaF9yZWFzb246IHBhcnQuZmluaXNoX3JlYXNvbiB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9ucy5wdXNoKGdlbmVyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9ucyxcbiAgICAgICAgICAgICAgICBsbG1PdXRwdXQ6IHsgdG9rZW5Vc2FnZSB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBnZXROdW1Ub2tlbnNGcm9tTWVzc2FnZXMobWVzc2FnZXMpIHtcbiAgICAgICAgbGV0IHRvdGFsQ291bnQgPSAwO1xuICAgICAgICBsZXQgdG9rZW5zUGVyTWVzc2FnZSA9IDA7XG4gICAgICAgIGxldCB0b2tlbnNQZXJOYW1lID0gMDtcbiAgICAgICAgLy8gRnJvbTogaHR0cHM6Ly9naXRodWIuY29tL29wZW5haS9vcGVuYWktY29va2Jvb2svYmxvYi9tYWluL2V4YW1wbGVzL0hvd190b19mb3JtYXRfaW5wdXRzX3RvX0NoYXRHUFRfbW9kZWxzLmlweW5iXG4gICAgICAgIGlmIChnZXRNb2RlbE5hbWVGb3JUaWt0b2tlbih0aGlzLm1vZGVsTmFtZSkgPT09IFwiZ3B0LTMuNS10dXJib1wiKSB7XG4gICAgICAgICAgICB0b2tlbnNQZXJNZXNzYWdlID0gNDtcbiAgICAgICAgICAgIHRva2Vuc1Blck5hbWUgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnZXRNb2RlbE5hbWVGb3JUaWt0b2tlbih0aGlzLm1vZGVsTmFtZSkuc3RhcnRzV2l0aChcImdwdC00XCIpKSB7XG4gICAgICAgICAgICB0b2tlbnNQZXJNZXNzYWdlID0gMztcbiAgICAgICAgICAgIHRva2Vuc1Blck5hbWUgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvdW50UGVyTWVzc2FnZSA9IGF3YWl0IFByb21pc2UuYWxsKG1lc3NhZ2VzLm1hcChhc3luYyAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGV4dENvdW50ID0gYXdhaXQgdGhpcy5nZXROdW1Ub2tlbnMobWVzc2FnZS5jb250ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IHJvbGVDb3VudCA9IGF3YWl0IHRoaXMuZ2V0TnVtVG9rZW5zKG1lc3NhZ2VUb09wZW5BSVJvbGUobWVzc2FnZSkpO1xuICAgICAgICAgICAgY29uc3QgbmFtZUNvdW50ID0gbWVzc2FnZS5uYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHRva2Vuc1Blck5hbWUgKyAoYXdhaXQgdGhpcy5nZXROdW1Ub2tlbnMobWVzc2FnZS5uYW1lKSlcbiAgICAgICAgICAgICAgICA6IDA7XG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IHRleHRDb3VudCArIHRva2Vuc1Blck1lc3NhZ2UgKyByb2xlQ291bnQgKyBuYW1lQ291bnQ7XG4gICAgICAgICAgICB0b3RhbENvdW50ICs9IGNvdW50O1xuICAgICAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgICAgICB9KSk7XG4gICAgICAgIHRvdGFsQ291bnQgKz0gMzsgLy8gZXZlcnkgcmVwbHkgaXMgcHJpbWVkIHdpdGggPHxzdGFydHw+YXNzaXN0YW50PHxtZXNzYWdlfD5cbiAgICAgICAgcmV0dXJuIHsgdG90YWxDb3VudCwgY291bnRQZXJNZXNzYWdlIH07XG4gICAgfVxuICAgIGFzeW5jIGNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHRoaXMuX2dldENsaWVudE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gd3JhcE9wZW5BSUNsaWVudEVycm9yKGUpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2dldENsaWVudE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuY2xpZW50KSB7XG4gICAgICAgICAgICBjb25zdCBvcGVuQUlFbmRwb2ludENvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lOiB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUsXG4gICAgICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWU6IHRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUsXG4gICAgICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlLZXk6IHRoaXMuYXp1cmVPcGVuQUlBcGlLZXksXG4gICAgICAgICAgICAgICAgYXp1cmVPcGVuQUlCYXNlUGF0aDogdGhpcy5henVyZU9wZW5BSUJhc2VQYXRoLFxuICAgICAgICAgICAgICAgIGJhc2VVUkw6IHRoaXMuY2xpZW50Q29uZmlnLmJhc2VVUkwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBnZXRFbmRwb2ludChvcGVuQUlFbmRwb2ludENvbmZpZyk7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5jbGllbnRDb25maWcsXG4gICAgICAgICAgICAgICAgYmFzZVVSTDogZW5kcG9pbnQsXG4gICAgICAgICAgICAgICAgdGltZW91dDogdGhpcy50aW1lb3V0LFxuICAgICAgICAgICAgICAgIG1heFJldHJpZXM6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCFwYXJhbXMuYmFzZVVSTCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBwYXJhbXMuYmFzZVVSTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gbmV3IE9wZW5BSUNsaWVudChwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xuICAgICAgICAgICAgLi4udGhpcy5jbGllbnRDb25maWcsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgICBcImFwaS1rZXlcIjogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0T3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLnF1ZXJ5ID0ge1xuICAgICAgICAgICAgICAgIFwiYXBpLXZlcnNpb25cIjogdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24sXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdE9wdGlvbnMucXVlcnksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXF1ZXN0T3B0aW9ucztcbiAgICB9XG4gICAgX2xsbVR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcIm9wZW5haVwiO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF9jb21iaW5lTExNT3V0cHV0KC4uLmxsbU91dHB1dHMpIHtcbiAgICAgICAgcmV0dXJuIGxsbU91dHB1dHMucmVkdWNlKChhY2MsIGxsbU91dHB1dCkgPT4ge1xuICAgICAgICAgICAgaWYgKGxsbU91dHB1dCAmJiBsbG1PdXRwdXQudG9rZW5Vc2FnZSkge1xuICAgICAgICAgICAgICAgIGFjYy50b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgKz1cbiAgICAgICAgICAgICAgICAgICAgbGxtT3V0cHV0LnRva2VuVXNhZ2UuY29tcGxldGlvblRva2VucyA/PyAwO1xuICAgICAgICAgICAgICAgIGFjYy50b2tlblVzYWdlLnByb21wdFRva2VucyArPSBsbG1PdXRwdXQudG9rZW5Vc2FnZS5wcm9tcHRUb2tlbnMgPz8gMDtcbiAgICAgICAgICAgICAgICBhY2MudG9rZW5Vc2FnZS50b3RhbFRva2VucyArPSBsbG1PdXRwdXQudG9rZW5Vc2FnZS50b3RhbFRva2VucyA/PyAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW5Vc2FnZToge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IDAsXG4gICAgICAgICAgICAgICAgcHJvbXB0VG9rZW5zOiAwLFxuICAgICAgICAgICAgICAgIHRvdGFsVG9rZW5zOiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFByb21wdExheWVyQ2hhdE9wZW5BSSBleHRlbmRzIENoYXRPcGVuQUkge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcm9tcHRMYXllckFwaUtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwbFRhZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmV0dXJuUHJvbXB0TGF5ZXJJZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb21wdExheWVyQXBpS2V5ID1cbiAgICAgICAgICAgIGZpZWxkcz8ucHJvbXB0TGF5ZXJBcGlLZXkgPz9cbiAgICAgICAgICAgICAgICAodHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Py5QUk9NUFRMQVlFUl9BUElfS0VZXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgdGhpcy5wbFRhZ3MgPSBmaWVsZHM/LnBsVGFncyA/PyBbXTtcbiAgICAgICAgdGhpcy5yZXR1cm5Qcm9tcHRMYXllcklkID0gZmllbGRzPy5yZXR1cm5Qcm9tcHRMYXllcklkID8/IGZhbHNlO1xuICAgIH1cbiAgICBhc3luYyBfZ2VuZXJhdGUobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdFN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGxldCBwYXJzZWRPcHRpb25zO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zKSkge1xuICAgICAgICAgICAgcGFyc2VkT3B0aW9ucyA9IHsgc3RvcDogb3B0aW9ucyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnM/LnRpbWVvdXQgJiYgIW9wdGlvbnMuc2lnbmFsKSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KG9wdGlvbnMudGltZW91dCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VkT3B0aW9ucyA9IG9wdGlvbnMgPz8ge307XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2VuZXJhdGVkUmVzcG9uc2VzID0gYXdhaXQgc3VwZXIuX2dlbmVyYXRlKG1lc3NhZ2VzLCBwYXJzZWRPcHRpb25zLCBydW5NYW5hZ2VyKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdEVuZFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCBfY29udmVydE1lc3NhZ2VUb0RpY3QgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGxldCBtZXNzYWdlRGljdDtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwiaHVtYW5cIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VEaWN0ID0geyByb2xlOiBcInVzZXJcIiwgY29udGVudDogbWVzc2FnZS5jb250ZW50IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwiYWlcIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VEaWN0ID0geyByb2xlOiBcImFzc2lzdGFudFwiLCBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZURpY3QgPSB7IHJvbGU6IFwiYXNzaXN0YW50XCIsIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5fZ2V0VHlwZSgpID09PSBcInN5c3RlbVwiKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZURpY3QgPSB7IHJvbGU6IFwic3lzdGVtXCIsIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5fZ2V0VHlwZSgpID09PSBcImdlbmVyaWNcIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VEaWN0ID0ge1xuICAgICAgICAgICAgICAgICAgICByb2xlOiBtZXNzYWdlLnJvbGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBHb3QgdW5rbm93biB0eXBlICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlRGljdDtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgX2NyZWF0ZU1lc3NhZ2VEaWN0cyA9IChtZXNzYWdlcywgY2FsbE9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmludm9jYXRpb25QYXJhbXMoKSxcbiAgICAgICAgICAgICAgICBtb2RlbDogdGhpcy5tb2RlbE5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNhbGxPcHRpb25zPy5zdG9wKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHBhcmFtcykuaW5jbHVkZXMoXCJzdG9wXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImBzdG9wYCBmb3VuZCBpbiBib3RoIHRoZSBpbnB1dCBhbmQgZGVmYXVsdCBwYXJhbXMuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VEaWN0cyA9IG1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gX2NvbnZlcnRNZXNzYWdlVG9EaWN0KG1lc3NhZ2UpKTtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlRGljdHM7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VuZXJhdGVkUmVzcG9uc2VzLmdlbmVyYXRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBnZW5lcmF0aW9uID0gZ2VuZXJhdGVkUmVzcG9uc2VzLmdlbmVyYXRpb25zW2ldO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZURpY3RzID0gX2NyZWF0ZU1lc3NhZ2VEaWN0cyhtZXNzYWdlcywgcGFyc2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBsZXQgcHJvbXB0TGF5ZXJSZXF1ZXN0SWQ7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRSZXNwID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogZ2VuZXJhdGlvbi50ZXh0LFxuICAgICAgICAgICAgICAgICAgICByb2xlOiBtZXNzYWdlVG9PcGVuQUlSb2xlKGdlbmVyYXRpb24ubWVzc2FnZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjb25zdCBwcm9tcHRMYXllclJlc3BCb2R5ID0gYXdhaXQgcHJvbXB0TGF5ZXJUcmFja1JlcXVlc3QodGhpcy5jYWxsZXIsIFwibGFuZ2NoYWluLlByb21wdExheWVyQ2hhdE9wZW5BSVwiLCB7IC4uLnRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCksIG1lc3NhZ2VzOiBtZXNzYWdlRGljdHMsIHN0cmVhbTogZmFsc2UgfSwgdGhpcy5wbFRhZ3MsIHBhcnNlZFJlc3AsIHJlcXVlc3RTdGFydFRpbWUsIHJlcXVlc3RFbmRUaW1lLCB0aGlzLnByb21wdExheWVyQXBpS2V5KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJldHVyblByb21wdExheWVySWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvbXB0TGF5ZXJSZXNwQm9keS5zdWNjZXNzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21wdExheWVyUmVxdWVzdElkID0gcHJvbXB0TGF5ZXJSZXNwQm9keS5yZXF1ZXN0X2lkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWdlbmVyYXRpb24uZ2VuZXJhdGlvbkluZm8gfHxcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGdlbmVyYXRpb24uZ2VuZXJhdGlvbkluZm8gIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGlvbi5nZW5lcmF0aW9uSW5mbyA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uLmdlbmVyYXRpb25JbmZvLnByb21wdExheWVyUmVxdWVzdElkID0gcHJvbXB0TGF5ZXJSZXF1ZXN0SWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZFJlc3BvbnNlcztcbiAgICB9XG59XG4iXSwibmFtZXMiOlsibm9vcCIsImFzc2lnbiIsInRhciIsInNyYyIsImsiLCJydW4iLCJmbiIsImJsYW5rX29iamVjdCIsInJ1bl9hbGwiLCJmbnMiLCJpc19mdW5jdGlvbiIsInRoaW5nIiwic2FmZV9ub3RfZXF1YWwiLCJhIiwiYiIsImlzX2VtcHR5Iiwib2JqIiwic3Vic2NyaWJlIiwic3RvcmUiLCJjYWxsYmFja3MiLCJjYWxsYmFjayIsInVuc3ViIiwiY29tcG9uZW50X3N1YnNjcmliZSIsImNvbXBvbmVudCIsImNyZWF0ZV9zbG90IiwiZGVmaW5pdGlvbiIsImN0eCIsIiQkc2NvcGUiLCJzbG90X2N0eCIsImdldF9zbG90X2NvbnRleHQiLCJnZXRfc2xvdF9jaGFuZ2VzIiwiZGlydHkiLCJsZXRzIiwibWVyZ2VkIiwibGVuIiwiaSIsInVwZGF0ZV9zbG90X2Jhc2UiLCJzbG90Iiwic2xvdF9kZWZpbml0aW9uIiwic2xvdF9jaGFuZ2VzIiwiZ2V0X3Nsb3RfY29udGV4dF9mbiIsInNsb3RfY29udGV4dCIsImdldF9hbGxfZGlydHlfZnJvbV9zY29wZSIsImxlbmd0aCIsImV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMiLCJwcm9wcyIsInJlc3VsdCIsImFjdGlvbl9kZXN0cm95ZXIiLCJhY3Rpb25fcmVzdWx0IiwiYXBwZW5kIiwidGFyZ2V0Iiwibm9kZSIsImluc2VydCIsImFuY2hvciIsImRldGFjaCIsImVsZW1lbnQiLCJuYW1lIiwic3ZnX2VsZW1lbnQiLCJ0ZXh0IiwiZGF0YSIsInNwYWNlIiwiZW1wdHkiLCJsaXN0ZW4iLCJldmVudCIsImhhbmRsZXIiLCJvcHRpb25zIiwicHJldmVudF9kZWZhdWx0IiwiYXR0ciIsImF0dHJpYnV0ZSIsInZhbHVlIiwiY2hpbGRyZW4iLCJzZXRfZGF0YSIsInNldF9pbnB1dF92YWx1ZSIsImlucHV0Iiwic2V0X3N0eWxlIiwia2V5IiwiaW1wb3J0YW50IiwiY3VycmVudF9jb21wb25lbnQiLCJzZXRfY3VycmVudF9jb21wb25lbnQiLCJkaXJ0eV9jb21wb25lbnRzIiwiYmluZGluZ19jYWxsYmFja3MiLCJyZW5kZXJfY2FsbGJhY2tzIiwiZmx1c2hfY2FsbGJhY2tzIiwicmVzb2x2ZWRfcHJvbWlzZSIsInVwZGF0ZV9zY2hlZHVsZWQiLCJzY2hlZHVsZV91cGRhdGUiLCJmbHVzaCIsImFkZF9yZW5kZXJfY2FsbGJhY2siLCJzZWVuX2NhbGxiYWNrcyIsImZsdXNoaWR4Iiwic2F2ZWRfY29tcG9uZW50IiwidXBkYXRlIiwiJCQiLCJmbHVzaF9yZW5kZXJfY2FsbGJhY2tzIiwiZmlsdGVyZWQiLCJ0YXJnZXRzIiwiYyIsIm91dHJvaW5nIiwib3V0cm9zIiwiZ3JvdXBfb3V0cm9zIiwiY2hlY2tfb3V0cm9zIiwidHJhbnNpdGlvbl9pbiIsImJsb2NrIiwibG9jYWwiLCJ0cmFuc2l0aW9uX291dCIsImVuc3VyZV9hcnJheV9saWtlIiwiYXJyYXlfbGlrZV9vcl9pdGVyYXRvciIsIm91dHJvX2FuZF9kZXN0cm95X2Jsb2NrIiwibG9va3VwIiwidXBkYXRlX2tleWVkX2VhY2giLCJvbGRfYmxvY2tzIiwiZ2V0X2tleSIsImR5bmFtaWMiLCJsaXN0IiwiZGVzdHJveSIsImNyZWF0ZV9lYWNoX2Jsb2NrIiwibmV4dCIsImdldF9jb250ZXh0IiwibyIsIm4iLCJvbGRfaW5kZXhlcyIsIm5ld19ibG9ja3MiLCJuZXdfbG9va3VwIiwiZGVsdGFzIiwidXBkYXRlcyIsImNoaWxkX2N0eCIsIndpbGxfbW92ZSIsImRpZF9tb3ZlIiwibmV3X2Jsb2NrIiwib2xkX2Jsb2NrIiwibmV3X2tleSIsIm9sZF9rZXkiLCJnZXRfc3ByZWFkX3VwZGF0ZSIsImxldmVscyIsInRvX251bGxfb3V0IiwiYWNjb3VudGVkX2ZvciIsImdldF9zcHJlYWRfb2JqZWN0Iiwic3ByZWFkX3Byb3BzIiwiY3JlYXRlX2NvbXBvbmVudCIsIm1vdW50X2NvbXBvbmVudCIsImZyYWdtZW50IiwiYWZ0ZXJfdXBkYXRlIiwibmV3X29uX2Rlc3Ryb3kiLCJkZXN0cm95X2NvbXBvbmVudCIsImRldGFjaGluZyIsIm1ha2VfZGlydHkiLCJpbml0IiwiaW5zdGFuY2UiLCJjcmVhdGVfZnJhZ21lbnQiLCJub3RfZXF1YWwiLCJhcHBlbmRfc3R5bGVzIiwicGFyZW50X2NvbXBvbmVudCIsInJlYWR5IiwicmV0IiwicmVzdCIsIm5vZGVzIiwiU3ZlbHRlQ29tcG9uZW50IiwiX19wdWJsaWNGaWVsZCIsInR5cGUiLCJpbmRleCIsIlBVQkxJQ19WRVJTSU9OIiwidGl0bGVfMSIsImNyZWF0ZV9pZl9ibG9jayIsInN2ZyIsInRpdGxlIiwiJCRwcm9wcyIsInZpZXdCb3giLCJwYXRoIiwic3Vic2NyaWJlcl9xdWV1ZSIsIndyaXRhYmxlIiwic3RhcnQiLCJzdG9wIiwic3Vic2NyaWJlcnMiLCJzZXQiLCJuZXdfdmFsdWUiLCJydW5fcXVldWUiLCJzdWJzY3JpYmVyIiwiaW52YWxpZGF0ZSIsIlJldHJ5T3BlcmF0aW9uIiwidGltZW91dHMiLCJyZXRyeV9vcGVyYXRpb24iLCJlcnIiLCJjdXJyZW50VGltZSIsInRpbWVvdXQiLCJzZWxmIiwidGltZW91dE9wcyIsImNvdW50cyIsIm1haW5FcnJvciIsIm1haW5FcnJvckNvdW50IiwiZXJyb3IiLCJtZXNzYWdlIiwiY291bnQiLCJyZXF1aXJlJCQwIiwiZXhwb3J0cyIsIm9wdHMiLCJhdHRlbXB0IiwicmFuZG9tIiwibWV0aG9kcyIsIm1ldGhvZCIsIm9yaWdpbmFsIiwib3AiLCJhcmdzIiwicmV0cnkiLCJuZXR3b3JrRXJyb3JNc2dzIiwiQWJvcnRFcnJvciIsImRlY29yYXRlRXJyb3JXaXRoQ291bnRzIiwiYXR0ZW1wdE51bWJlciIsInJldHJpZXNMZWZ0IiwiaXNOZXR3b3JrRXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJwUmV0cnkiLCJyZXNvbHZlIiwicmVqZWN0Iiwib3BlcmF0aW9uIiwicFJldHJ5TW9kdWxlIiwiZ2V0UmFuZG9tVmFsdWVzIiwicm5kczgiLCJybmciLCJieXRlVG9IZXgiLCJ1bnNhZmVTdHJpbmdpZnkiLCJhcnIiLCJvZmZzZXQiLCJyYW5kb21VVUlEIiwibmF0aXZlIiwidjQiLCJidWYiLCJybmRzIiwiZGVjYW1lbGl6ZSIsInN0ciIsInNlcCIsIlVQUEVSQ0FTRSIsIkxPV0VSQ0FTRSIsIkxFQURJTkdfQ0FQSVRBTCIsIklERU5USUZJRVIiLCJTRVBBUkFUT1JTIiwiTEVBRElOR19TRVBBUkFUT1JTIiwiU0VQQVJBVE9SU19BTkRfSURFTlRJRklFUiIsIk5VTUJFUlNfQU5EX0lERU5USUZJRVIiLCJwcmVzZXJ2ZUNhbWVsQ2FzZSIsInN0cmluZyIsInRvTG93ZXJDYXNlIiwidG9VcHBlckNhc2UiLCJpc0xhc3RDaGFyTG93ZXIiLCJpc0xhc3RDaGFyVXBwZXIiLCJpc0xhc3RMYXN0Q2hhclVwcGVyIiwiY2hhcmFjdGVyIiwicHJlc2VydmVDb25zZWN1dGl2ZVVwcGVyY2FzZSIsIm0xIiwicG9zdFByb2Nlc3MiLCJfIiwiaWRlbnRpZmllciIsIm0iLCJjYW1lbENhc2UiLCJ4IiwiY2FtZWxjYXNlTW9kdWxlIiwia2V5VG9Kc29uIiwibWFwIiwic25ha2VDYXNlIiwibWFwS2V5cyIsImZpZWxkcyIsIm1hcHBlciIsIm1hcHBlZCIsInNoYWxsb3dDb3B5IiwicmVwbGFjZVNlY3JldHMiLCJyb290Iiwic2VjcmV0c01hcCIsInNlY3JldElkIiwibGFzdCIsInBhcnRzUmV2ZXJzZSIsImN1cnJlbnQiLCJwYXJ0IiwiZ2V0X2xjX3VuaXF1ZV9uYW1lIiwic2VyaWFsaXphYmxlQ2xhc3MiLCJwYXJlbnRDbGFzcyIsIlNlcmlhbGl6YWJsZSIsImt3YXJncyIsIl9hcmdzIiwiYWxpYXNlcyIsInNlY3JldHMiLCJhY2MiLCJrZXlQYXRoIiwicmVhZCIsIndyaXRlIiwiQmFzZUNhbGxiYWNrSGFuZGxlck1ldGhvZHNDbGFzcyIsIkJhc2VDYWxsYmFja0hhbmRsZXIiLCJfYSIsIkhhbmRsZXIiLCJ1dWlkLnY0Iiwid3JhcEFuc2kyNTYiLCJjb2RlIiwid3JhcEFuc2kxNm0iLCJyZWQiLCJncmVlbiIsImJsdWUiLCJhc3NlbWJsZVN0eWxlcyIsImNvZGVzIiwic3R5bGVzIiwiZ3JvdXBOYW1lIiwiZ3JvdXAiLCJzdHlsZU5hbWUiLCJzdHlsZSIsImhleCIsIm1hdGNoZXMiLCJjb2xvclN0cmluZyIsImludGVnZXIiLCJtb2R1bGUiLCJfY29lcmNlVG9EaWN0IiwiZGVmYXVsdEtleSIsIkJhc2VUcmFjZXIiLCJfZmllbGRzIiwicGFyZW50UnVuIiwiY2hpbGRSdW4iLCJwYXJlbnRSdW5JZCIsImxsbSIsInByb21wdHMiLCJydW5JZCIsImV4dHJhUGFyYW1zIiwidGFncyIsIm1ldGFkYXRhIiwiZXhlY3V0aW9uX29yZGVyIiwic3RhcnRfdGltZSIsImZpbmFsRXh0cmFQYXJhbXMiLCJtZXNzYWdlcyIsIm91dHB1dCIsImNoYWluIiwiaW5wdXRzIiwicnVuVHlwZSIsIm91dHB1dHMiLCJfcGFyZW50UnVuSWQiLCJfdGFncyIsInRvb2wiLCJhY3Rpb24iLCJhZ2VudFJ1biIsInJldHJpZXZlciIsInF1ZXJ5IiwiZG9jdW1lbnRzIiwidG9rZW4iLCJpZHgiLCJ3cmFwIiwidHJ5SnNvblN0cmluZ2lmeSIsImZhbGxiYWNrIiwiZWxhcHNlZCIsImNvbG9yIiwiQ29uc29sZUNhbGxiYWNrSGFuZGxlciIsIl9ydW4iLCJwYXJlbnRzIiwiY3VycmVudFJ1biIsInBhcmVudCIsImNydW1icyIsInAiLCJfYiIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiY29udGV4dCIsIm9uY2UiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJsaXN0ZW5lciIsImV2dCIsImNsZWFyRXZlbnQiLCJFdmVudEVtaXR0ZXIiLCJuYW1lcyIsImV2ZW50cyIsImhhbmRsZXJzIiwibCIsImVlIiwibGlzdGVuZXJzIiwiYTEiLCJhMiIsImEzIiwiYTQiLCJhNSIsImoiLCJwRmluYWxseSIsInByb21pc2UiLCJvbkZpbmFsbHkiLCJ2YWwiLCJUaW1lb3V0RXJyb3IiLCJwVGltZW91dCIsIm1pbGxpc2Vjb25kcyIsInRpbWVyIiwidGltZW91dEVycm9yIiwicFRpbWVvdXRNb2R1bGUiLCJsb3dlckJvdW5kXzEiLCJsb3dlckJvdW5kIiwiYXJyYXkiLCJjb21wYXJhdG9yIiwiZmlyc3QiLCJzdGVwIiwiaXQiLCJwcmlvcml0eVF1ZXVlIiwibG93ZXJfYm91bmRfMSIsIlByaW9yaXR5UXVldWUiLCJpdGVtIiwiZGlzdCIsInBfdGltZW91dF8xIiwicmVxdWlyZSQkMSIsInByaW9yaXR5X3F1ZXVlXzEiLCJyZXF1aXJlJCQyIiwiUFF1ZXVlIiwiX2MiLCJfZCIsIm5vdyIsImRlbGF5IiwiY2FuSW5pdGlhbGl6ZUludGVydmFsIiwiam9iIiwibmV3Q29uY3VycmVuY3kiLCJmdW5jdGlvbnMiLCJmdW5jdGlvbl8iLCJleGlzdGluZ1Jlc29sdmUiLCJfZGVmYXVsdCIsIlNUQVRVU19OT19SRVRSWSIsIkFzeW5jQ2FsbGVyJDEiLCJwYXJhbXMiLCJQUXVldWVNb2QiLCJjYWxsYWJsZSIsInN0YXR1cyIsInJlcyIsImlzTGFuZ0NoYWluTWVzc2FnZSIsImNvbnZlcnRMYW5nQ2hhaW5NZXNzYWdlVG9FeGFtcGxlIiwiY29udmVydGVkIiwiaXNCcm93c2VyIiwiaXNXZWJXb3JrZXIiLCJpc0pzRG9tIiwiaXNEZW5vIiwiaXNOb2RlIiwiZ2V0RW52IiwiZW52IiwicnVudGltZUVudmlyb25tZW50IiwiZ2V0UnVudGltZUVudmlyb25tZW50IiwicmVsZWFzZUVudiIsImdldFNoYXMiLCJnZXRFbnZpcm9ubWVudFZhcmlhYmxlIiwiY2FjaGVkQ29tbWl0U0hBcyIsImNvbW1vbl9yZWxlYXNlX2VudnMiLCJzaGFzIiwiZW52VmFyIiwiaXNMb2NhbGhvc3QiLCJ1cmwiLCJob3N0bmFtZSIsInJhaXNlRm9yU3RhdHVzIiwicmVzcG9uc2UiLCJib2R5IiwidG9BcnJheSIsIml0ZXJhYmxlIiwidHJpbVF1b3RlcyIsImhpZGVJbnB1dHMiLCJoaWRlT3V0cHV0cyIsIkNsaWVudCIsImNvbmZpZyIsImRlZmF1bHRDb25maWciLCJBc3luY0NhbGxlciIsImFwaUtleSIsImhlYWRlcnMiLCJxdWVyeVBhcmFtcyIsInBhcmFtc1N0cmluZyIsImxpbWl0IiwiaXRlbXMiLCJleHRyYSIsInJ1bnRpbWVFbnYiLCJzZXNzaW9uX25hbWUiLCJydW5DcmVhdGUiLCJsb2FkQ2hpbGRSdW5zIiwicHJvamVjdE9wdHMiLCJzZXNzaW9uSWQiLCJ0ZW5hbnRJZCIsInJ1bl8iLCJjaGlsZFJ1bnMiLCJ0cmVlbWFwIiwicnVucyIsInByb2plY3RJZCIsInByb2plY3ROYW1lIiwicmVmZXJlbmNlRXhhbXBsZUlkIiwic3RhcnRUaW1lIiwiZXhlY3V0aW9uT3JkZXIiLCJpZCIsImZpbHRlciIsInByb2plY3RJZF8iLCJpZF8iLCJzaGFyZUlkIiwic2hhcmVUb2tlbiIsInJ1bklkcyIsImRhdGFzZXRJZCIsImRhdGFzZXROYW1lIiwic2hhcmVTY2hlbWEiLCJwcm9qZWN0RXh0cmEiLCJ1cHNlcnQiLCJyZWZlcmVuY2VEYXRhc2V0SWQiLCJ1cHNlcnRfIiwiZW5kcG9pbnQiLCJwcm9qZWN0cyIsInByb2plY3RJZHMiLCJuYW1lQ29udGFpbnMiLCJyZWZlcmVuY2VEYXRhc2V0TmFtZSIsInJlZmVyZW5jZUZyZWUiLCJkYXRhc2V0IiwiY3N2RmlsZSIsImZpbGVOYW1lIiwiaW5wdXRLZXlzIiwib3V0cHV0S2V5cyIsImRlc2NyaXB0aW9uIiwiZGF0YVR5cGUiLCJmb3JtRGF0YSIsImxpbmUiLCJkYXRhc2V0SWRzIiwiZGF0YXNldE5hbWVDb250YWlucyIsImRhdGFzZXRzIiwiZGF0YXNldElkXyIsImNyZWF0ZWRBdCIsImV4YW1wbGVJZCIsImdlbmVyYXRpb24iLCJnZW5lcmF0aW9ucyIsImZpbmFsSW5wdXQiLCJmaW5hbE91dHB1dCIsImV4YW1wbGVJZHMiLCJleGFtcGxlcyIsImV2YWx1YXRvciIsInNvdXJjZUluZm8iLCJyZWZlcmVuY2VFeGFtcGxlIiwiZmVlZGJhY2tSZXN1bHQiLCJzb3VyY2VJbmZvXyIsInNjb3JlIiwiY29ycmVjdGlvbiIsImNvbW1lbnQiLCJmZWVkYmFja1NvdXJjZVR5cGUiLCJzb3VyY2VSdW5JZCIsImZlZWRiYWNrSWQiLCJlYWdlciIsImZlZWRiYWNrX3NvdXJjZSIsImZlZWRiYWNrIiwiZmVlZGJhY2tVcGRhdGUiLCJmZWVkYmFja0tleXMiLCJmZWVkYmFja1NvdXJjZVR5cGVzIiwiZmVlZGJhY2tzIiwiTGFuZ0NoYWluVHJhY2VyIiwiY2xpZW50IiwiZXhhbXBsZV9pZCIsInBlcnNpc3RlZFJ1biIsInJ1blVwZGF0ZSIsImdldEJ1ZmZlclN0cmluZyIsImh1bWFuUHJlZml4IiwiYWlQcmVmaXgiLCJzdHJpbmdfbWVzc2FnZXMiLCJyb2xlIiwibmFtZVN0ciIsIkxhbmdDaGFpblRyYWNlclYxIiwic2Vzc2lvbk5hbWUiLCJzZXNzaW9uQ3JlYXRlIiwic2Vzc2lvbiIsInNlcmlhbGl6ZWQiLCJydW5SZXN1bHQiLCJjaGlsZF9ydW5zIiwiY2hpbGRfcnVuIiwidjFSdW4iLCJ0cmFjZXJTZXNzaW9uIiwicmVzcCIsImdldFRyYWNpbmdDYWxsYmFja0hhbmRsZXIiLCJ0cmFjZXIiLCJnZXRUcmFjaW5nVjJDYWxsYmFja0hhbmRsZXIiLCJxdWV1ZSIsImNyZWF0ZVF1ZXVlIiwiY29uc3VtZUNhbGxiYWNrIiwicHJvbWlzZUZuIiwid2FpdCIsInBhcnNlQ2FsbGJhY2tDb25maWdBcmciLCJhcmciLCJCYXNlQ2FsbGJhY2tNYW5hZ2VyIiwiQmFzZVJ1bk1hbmFnZXIiLCJpbmhlcml0YWJsZUhhbmRsZXJzIiwiaW5oZXJpdGFibGVUYWdzIiwiaW5oZXJpdGFibGVNZXRhZGF0YSIsIkNhbGxiYWNrTWFuYWdlckZvclJldHJpZXZlclJ1biIsInRhZyIsIm1hbmFnZXIiLCJDYWxsYmFja01hbmFnZXIiLCJDYWxsYmFja01hbmFnZXJGb3JMTE1SdW4iLCJfcnVuSWQiLCJDYWxsYmFja01hbmFnZXJGb3JDaGFpblJ1biIsIkNhbGxiYWNrTWFuYWdlckZvclRvb2xSdW4iLCJfbWV0YWRhdGEiLCJydW5OYW1lIiwicHJvbXB0IiwidXVpZHY0IiwibWVzc2FnZUdyb3VwIiwibWVzc2FnZVN0cmluZyIsImluaGVyaXQiLCJfaGFuZGxlciIsImFkZGl0aW9uYWxIYW5kbGVycyIsImluaGVyaXRhYmxlIiwiaCIsImxvY2FsSGFuZGxlcnMiLCJsb2NhbFRhZ3MiLCJsb2NhbE1ldGFkYXRhIiwiY2FsbGJhY2tNYW5hZ2VyIiwiZW5zdXJlSGFuZGxlciIsInZlcmJvc2VFbmFibGVkIiwidHJhY2luZ1YyRW5hYmxlZCIsInRyYWNpbmdFbmFibGVkIiwiY29uc29sZUhhbmRsZXIiLCJfaGFzT3duUHJvcGVydHkiLCJoYXNPd25Qcm9wZXJ0eSIsIl9vYmplY3RLZXlzIiwia2V5cyIsIl9kZWVwQ2xvbmUiLCJpc0ludGVnZXIiLCJjaGFyQ29kZSIsInVuZXNjYXBlUGF0aENvbXBvbmVudCIsImhhc1VuZGVmaW5lZCIsIm9iaktleXMiLCJvYmpLZXlzTGVuZ3RoIiwicGF0Y2hFcnJvck1lc3NhZ2VGb3JtYXR0ZXIiLCJtZXNzYWdlUGFydHMiLCJQYXRjaEVycm9yIiwidHJlZSIsIkpzb25QYXRjaEVycm9yIiwib2JqT3BzIiwiZG9jdW1lbnQiLCJyZW1vdmVkIiwiZ2V0VmFsdWVCeVBvaW50ZXIiLCJvcmlnaW5hbFZhbHVlIiwiYXBwbHlPcGVyYXRpb24iLCJ2YWx1ZVRvQ29weSIsIl9hcmVFcXVhbHMiLCJhcnJPcHMiLCJyZW1vdmVkTGlzdCIsInBvaW50ZXIiLCJnZXRPcmlnaW5hbERlc3RpbmF0aW9uIiwidmFsaWRhdGVPcGVyYXRpb24iLCJtdXRhdGVEb2N1bWVudCIsImJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMiLCJ2YWxpZGF0b3IiLCJyZXR1cm5WYWx1ZSIsInQiLCJleGlzdGluZ1BhdGhGcmFnbWVudCIsInZhbGlkYXRlRnVuY3Rpb24iLCJhcHBseVBhdGNoIiwicGF0Y2giLCJyZXN1bHRzIiwicGF0aExlbiIsImV4aXN0aW5nUGF0aExlbiIsImV4aXN0aW5nVmFsdWUiLCJ2YWxpZGF0ZSIsInNlcXVlbmNlIiwiZXh0ZXJuYWxWYWxpZGF0b3IiLCJlIiwiYXJyQSIsImFyckIiLCJJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIiwiY2FuY2VsUHJvbWlzZSIsInN0cmVhbSIsInJlYWRlciIsImNvbnRyb2xsZXIiLCJwdW1wIiwiZG9uZSIsImdlbmVyYXRvciIsIlJ1bkxvZ1BhdGNoIiwib3RoZXIiLCJvcHMiLCJzdGF0ZXMiLCJSdW5Mb2ciLCJMb2dTdHJlYW1DYWxsYmFja0hhbmRsZXIiLCJydW5UYWdzIiwiaW5jbHVkZSIsImxvZ0VudHJ5IiwiZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWciLCJkZWZhdWx0RmFpbGVkQXR0ZW1wdEhhbmRsZXIiLCJSdW5uYWJsZSIsIlJ1bm5hYmxlQmluZGluZyIsIlJ1bm5hYmxlRWFjaCIsIlJ1bm5hYmxlUmV0cnkiLCJSdW5uYWJsZVdpdGhGYWxsYmFja3MiLCJiYXRjaE9wdGlvbnMiLCJjb25maWdMaXN0IiwiY2FsbGVyIiwiYmF0Y2hDYWxscyIsInJ1bm5hYmxlQ29uZmlnIiwiY2FsbE9wdGlvbnMiLCJmdW5jIiwiY2FsbGJhY2tNYW5hZ2VyXyIsInJ1bk1hbmFnZXIiLCJvcHRpb25zTGlzdCIsImNhbGxiYWNrTWFuYWdlcnMiLCJydW5NYW5hZ2VycyIsImlucHV0R2VuZXJhdG9yIiwidHJhbnNmb3JtZXIiLCJmaW5hbElucHV0U3VwcG9ydGVkIiwiZmluYWxPdXRwdXRTdXBwb3J0ZWQiLCJzZXJpYWxpemVkUmVwcmVzZW50YXRpb24iLCJ3cmFwSW5wdXRGb3JUcmFjaW5nIiwiY2h1bmsiLCJ3cmFwcGVkSW5wdXRHZW5lcmF0b3IiLCJvdXRwdXRJdGVyYXRvciIsIm5ld0NvbmZpZyIsImNvZXJjZWFibGUiLCJSdW5uYWJsZVNlcXVlbmNlIiwiX2NvZXJjZVRvUnVubmFibGUiLCJmaW5hbENodW5rIiwic3RyZWFtT3B0aW9ucyIsImNvcGllZENhbGxiYWNrcyIsInJ1bm5hYmxlU3RyZWFtIiwiY29uc3VtZVJ1bm5hYmxlU3RyZWFtIiwicnVubmFibGVTdHJlYW1Qcm9taXNlIiwibG9nIiwiY29weSIsIm1lcmdlZE9wdGlvbnMiLCJpbmRpdmlkdWFsT3B0aW9uIiwiY29uZmlncyIsInJlc3VsdHNNYXAiLCJyZW1haW5pbmdJbmRleGVzIiwicmVtYWluaW5nSW5wdXRzIiwicGF0Y2hlZENvbmZpZ3MiLCJmaXJzdEV4Y2VwdGlvbiIsInJlc3VsdE1hcEluZGV4IiwibmV4dFN0ZXBJbnB1dCIsImluaXRpYWxTdGVwcyIsIm5leHRTdGVwSW5wdXRzIiwiZmluYWxPdXRwdXRzIiwic3RlcHMiLCJzdHJlYW1pbmdTdGFydFN0ZXBJbmRleCIsImlzRGVmYXVsdEltcGxlbWVudGF0aW9uIiwiYm91bmRSdW5uYWJsZUlzRGVmYXVsdEltcGxlbWVudGF0aW9uIiwiaW52b2tlU3RlcHMiLCJjb25jYXRTdXBwb3J0ZWQiLCJmaW5hbEdlbmVyYXRvciIsImZpbmFsU3RlcHMiLCJydW5uYWJsZXMiLCJSdW5uYWJsZU1hcCIsInJ1bm5hYmxlIiwiUnVubmFibGVMYW1iZGEiLCJmaXJzdEVycm9yIiwiUnVubmFibGVBc3NpZ24iLCJtYXBwZXJSZXN1bHQiLCJSdW5uYWJsZVBhc3N0aHJvdWdoIiwibWFwcGluZyIsIlZFUlNJT04iLCJTdHJlYW0iLCJTU0VEZWNvZGVyIiwibGluZURlY29kZXIiLCJMaW5lRGVjb2RlciIsIml0ZXIiLCJyZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmFibGUiLCJzc2UiLCJmaWVsZG5hbWUiLCJwYXJ0aXRpb24iLCJ0cmFpbGluZ05ld2xpbmUiLCJsaW5lcyIsImJ5dGVzIiwiZGVsaW1pdGVyIiwiQVBJRXJyb3IiLCJlcnJvclJlc3BvbnNlIiwiQVBJQ29ubmVjdGlvbkVycm9yIiwiY2FzdFRvRXJyb3IiLCJCYWRSZXF1ZXN0RXJyb3IiLCJBdXRoZW50aWNhdGlvbkVycm9yIiwiUGVybWlzc2lvbkRlbmllZEVycm9yIiwiTm90Rm91bmRFcnJvciIsIkNvbmZsaWN0RXJyb3IiLCJVbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IiLCJSYXRlTGltaXRFcnJvciIsIkludGVybmFsU2VydmVyRXJyb3IiLCJjYXVzZSIsImdldERlZmF1bHRBZ2VudCIsIl9mZXRjaCIsImlzUG9seWZpbGxlZCIsIl9Gb3JtRGF0YSIsIl9GaWxlIiwiZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMiLCJmb3JtIiwiTXVsdGlwYXJ0Qm9keSIsImZpbGVGcm9tUGF0aCIsImlzRnNSZWFkU3RyZWFtIiwiaXNSZXNwb25zZUxpa2UiLCJpc0ZpbGVMaWtlIiwiaXNCbG9iTGlrZSIsImlzVXBsb2FkYWJsZSIsInRvRmlsZSIsImJsb2IiLCJGaWxlIiwiYml0cyIsImdldEJ5dGVzIiwiZ2V0TmFtZSIsInBhcnRzIiwiaXNBc3luY0l0ZXJhYmxlSXRlcmF0b3IiLCJwcm9wc0ZvckVycm9yIiwiZ2V0U3RyaW5nRnJvbU1heWJlQnVmZmVyIiwiaXNNdWx0aXBhcnRCb2R5IiwibXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIiwiY3JlYXRlRm9ybSIsIkZvcm1EYXRhIiwiYWRkRm9ybVZhbHVlIiwiZmlsZSIsImVudHJ5IiwicHJvcCIsIl9fY2xhc3NQcml2YXRlRmllbGRTZXQiLCJ0aGlzIiwicmVjZWl2ZXIiLCJzdGF0ZSIsImtpbmQiLCJmIiwiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsIl9BYnN0cmFjdFBhZ2VfY2xpZW50IiwiTUFYX1JFVFJJRVMiLCJkZWZhdWx0UGFyc2VSZXNwb25zZSIsImNvbnRlbnRUeXBlIiwianNvbiIsImRlYnVnIiwiQVBJUHJvbWlzZSIsInJlc3BvbnNlUHJvbWlzZSIsInBhcnNlUmVzcG9uc2UiLCJ0cmFuc2Zvcm0iLCJvbmZ1bGZpbGxlZCIsIm9ucmVqZWN0ZWQiLCJvbmZpbmFsbHkiLCJBUElDbGllbnQiLCJiYXNlVVJMIiwibWF4UmV0cmllcyIsImh0dHBBZ2VudCIsIm92ZXJyaWRlbkZldGNoIiwidmFsaWRhdGVQb3NpdGl2ZUludGVnZXIiLCJmZXRjaCIsImdldFBsYXRmb3JtSGVhZGVycyIsImN1c3RvbUhlYWRlcnMiLCJ1dWlkNCIsIlBhZ2UiLCJfZSIsIl9mIiwiY29udGVudExlbmd0aCIsIm1pbkFnZW50VGltZW91dCIsInJlcUhlYWRlcnMiLCJmZXRjaElzUG9seWZpbGxlZCIsInJlcSIsInJlcXVlc3QiLCJoZWFkZXIiLCJyZW1haW5pbmdSZXRyaWVzIiwib3B0aW9uc0lucHV0IiwicmV0cmllc1JlbWFpbmluZyIsIkFQSVVzZXJBYm9ydEVycm9yIiwiQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciIsInJlc3BvbnNlSGVhZGVycyIsImNyZWF0ZVJlc3BvbnNlSGVhZGVycyIsImVyclRleHQiLCJlcnJKU09OIiwic2FmZUpTT04iLCJlcnJNZXNzYWdlIiwiUGFnZVByb21pc2UiLCJpc0Fic29sdXRlVVJMIiwiZGVmYXVsdFF1ZXJ5IiwiaXNFbXB0eU9iaiIsIm1zIiwic2lnbmFsIiwic2hvdWxkUmV0cnlIZWFkZXIiLCJyZXRyeUFmdGVyIiwic2xlZXAiLCJudW1SZXRyaWVzIiwic2xlZXBTZWNvbmRzIiwiaml0dGVyIiwiQWJzdHJhY3RQYWdlIiwibmV4dEluZm8iLCJuZXh0T3B0aW9ucyIsInBhZ2UiLCJyZXF1ZXN0T3B0aW9uc0tleXMiLCJpc1JlcXVlc3RPcHRpb25zIiwiaGFzT3duIiwiZ2V0UGxhdGZvcm1Qcm9wZXJ0aWVzIiwibm9ybWFsaXplUGxhdGZvcm0iLCJub3JtYWxpemVBcmNoIiwiYnJvd3NlckluZm8iLCJnZXRCcm93c2VySW5mbyIsImJyb3dzZXJQYXR0ZXJucyIsInBhdHRlcm4iLCJtYXRjaCIsIm1ham9yIiwibWlub3IiLCJhcmNoIiwicGxhdGZvcm0iLCJfcGxhdGZvcm1IZWFkZXJzIiwic3RhcnRzV2l0aFNjaGVtZVJlZ2V4cCIsInJlYWRFbnYiLCJfayIsInIiLCJpc1J1bm5pbmdJbkJyb3dzZXIiLCJDdXJzb3JQYWdlIiwiaW5mbyIsIkFQSVJlc291cmNlIiwiVHJhbnNjcmlwdGlvbnMiLCJUcmFuc2xhdGlvbnMiLCJBdWRpbyIsIkFQSS5UcmFuc2NyaXB0aW9ucyIsIkFQSS5UcmFuc2xhdGlvbnMiLCJDb21wbGV0aW9ucyIsIkNoYXQiLCJBUEkuQ29tcGxldGlvbnMiLCJFbWJlZGRpbmdzIiwiRWRpdHMiLCJGaWxlcyIsImZpbGVJZCIsIkZpbGVPYmplY3RzUGFnZSIsIkZpbmVUdW5lcyIsImZpbmVUdW5lSWQiLCJGaW5lVHVuZXNQYWdlIiwiSm9icyIsImZpbmVUdW5pbmdKb2JJZCIsIkZpbmVUdW5pbmdKb2JzUGFnZSIsIkZpbmVUdW5pbmdKb2JFdmVudHNQYWdlIiwiRmluZVR1bmluZyIsIkFQSS5Kb2JzIiwiQVBJLkZpbmVUdW5pbmdKb2JzUGFnZSIsIkFQSS5GaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSIsIkltYWdlcyIsIk1vZGVscyIsIm1vZGVsIiwiTW9kZWxzUGFnZSIsIk1vZGVyYXRpb25zIiwiQ29yZS5BUElDbGllbnQiLCJDb3JlLnJlYWRFbnYiLCJvcmdhbml6YXRpb24iLCJDb3JlLmlzUnVubmluZ0luQnJvd3NlciIsIkFQSS5DaGF0IiwiQVBJLkVkaXRzIiwiQVBJLkVtYmVkZGluZ3MiLCJBUEkuRmlsZXMiLCJBUEkuSW1hZ2VzIiwiQVBJLkF1ZGlvIiwiQVBJLk1vZGVyYXRpb25zIiwiQVBJLk1vZGVscyIsIkFQSS5GaW5lVHVuaW5nIiwiQVBJLkZpbmVUdW5lcyIsIk9wZW5BSSIsIkVycm9ycy5BUElFcnJvciIsIkVycm9ycy5BUElDb25uZWN0aW9uRXJyb3IiLCJFcnJvcnMuQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciIsIkVycm9ycy5BUElVc2VyQWJvcnRFcnJvciIsIkVycm9ycy5Ob3RGb3VuZEVycm9yIiwiRXJyb3JzLkNvbmZsaWN0RXJyb3IiLCJFcnJvcnMuUmF0ZUxpbWl0RXJyb3IiLCJFcnJvcnMuQmFkUmVxdWVzdEVycm9yIiwiRXJyb3JzLkF1dGhlbnRpY2F0aW9uRXJyb3IiLCJFcnJvcnMuSW50ZXJuYWxTZXJ2ZXJFcnJvciIsIkVycm9ycy5QZXJtaXNzaW9uRGVuaWVkRXJyb3IiLCJFcnJvcnMuVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yIiwiRXJyb3JzIiwiVXBsb2Fkcy50b0ZpbGUiLCJVcGxvYWRzLmZpbGVGcm9tUGF0aCIsIlBhZ2luYXRpb24uUGFnZSIsIlBhZ2luYXRpb24uQ3Vyc29yUGFnZSIsIkFQSS5GaWxlT2JqZWN0c1BhZ2UiLCJBUEkuTW9kZWxzUGFnZSIsIkFQSS5GaW5lVHVuZXNQYWdlIiwiX19kZWZQcm9wIiwiX19kZWZOb3JtYWxQcm9wIiwiYmFzZTY0SnMiLCJieXRlTGVuZ3RoIiwidG9CeXRlQXJyYXkiLCJmcm9tQnl0ZUFycmF5IiwicmV2TG9va3VwIiwiQXJyIiwiZ2V0TGVucyIsImI2NCIsInZhbGlkTGVuIiwicGxhY2VIb2xkZXJzTGVuIiwibGVucyIsIl9ieXRlTGVuZ3RoIiwidG1wIiwiY3VyQnl0ZSIsInRyaXBsZXRUb0Jhc2U2NCIsIm51bSIsImVuY29kZUNodW5rIiwidWludDgiLCJlbmQiLCJleHRyYUJ5dGVzIiwibWF4Q2h1bmtMZW5ndGgiLCJsZW4yIiwiYnl0ZVBhaXJNZXJnZSIsInBpZWNlIiwicmFua3MiLCJtaW5SYW5rIiwic2xpY2UiLCJyYW5rIiwiYnl0ZVBhaXJFbmNvZGUiLCJlc2NhcGVSZWdleCIsIl9UaWt0b2tlbiIsImV4dGVuZGVkU3BlY2lhbFRva2VucyIsInVuY29tcHJlc3NlZCIsIm1lbW8iLCJvZmZzZXRTdHIiLCJ0b2tlbnMiLCJiYXNlNjQiLCJhbGxvd2VkU3BlY2lhbCIsImRpc2FsbG93ZWRTcGVjaWFsIiwicmVnZXhlcyIsInNwZWNpYWxSZWdleCIsImFsbG93ZWRTcGVjaWFsU2V0IiwiZGlzYWxsb3dlZFNwZWNpYWxTZXQiLCJkaXNhbGxvd2VkU3BlY2lhbFJlZ2V4Iiwic3BlY2lhbE1hdGNoIiwibmV4dFNwZWNpYWwiLCJzdGFydEZpbmQiLCJ0b2tlbjIiLCJpMiIsIm1lcmdlZEFycmF5IiwiVGlrdG9rZW4iLCJnZXRFbmNvZGluZ05hbWVGb3JNb2RlbCIsImNhY2hlIiwiZ2V0RW5jb2RpbmciLCJlbmNvZGluZyIsImVuY29kaW5nRm9yTW9kZWwiLCJnZXRNb2RlbE5hbWVGb3JUaWt0b2tlbiIsIm1vZGVsTmFtZSIsImdldE1vZGVsQ29udGV4dFNpemUiLCJjYWxjdWxhdGVNYXhUb2tlbnMiLCJudW1Ub2tlbnMiLCJSVU5fS0VZIiwiR2VuZXJhdGlvbkNodW5rIiwiQmFzZU1lc3NhZ2UiLCJCYXNlTWVzc2FnZUNodW5rIiwibGVmdCIsInJpZ2h0IiwiSHVtYW5NZXNzYWdlIiwiSHVtYW5NZXNzYWdlQ2h1bmsiLCJBSU1lc3NhZ2UiLCJBSU1lc3NhZ2VDaHVuayIsIlN5c3RlbU1lc3NhZ2UiLCJTeXN0ZW1NZXNzYWdlQ2h1bmsiLCJGdW5jdGlvbk1lc3NhZ2VDaHVuayIsIkNoYXRNZXNzYWdlIiwiaXNCYXNlTWVzc2FnZSIsIm1lc3NhZ2VMaWtlIiwiY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UiLCJjb250ZW50IiwiQ2hhdE1lc3NhZ2VDaHVuayIsIkNoYXRHZW5lcmF0aW9uQ2h1bmsiLCJCYXNlUHJvbXB0VmFsdWUiLCJCYXNlQ2FjaGUiLCJnZXRFbmRwb2ludCIsImF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUiLCJhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSIsImF6dXJlT3BlbkFJQXBpS2V5IiwiYXp1cmVPcGVuQUlCYXNlUGF0aCIsImNodW5rQXJyYXkiLCJjaHVua1NpemUiLCJjaHVua3MiLCJlbGVtIiwiY2h1bmtJbmRleCIsIlN0cmluZ1Byb21wdFZhbHVlIiwiQmFzZVByb21wdFRlbXBsYXRlIiwiaW5wdXRWYXJpYWJsZXMiLCJ1c2VyVmFyaWFibGVzIiwicGFydGlhbFZhcmlhYmxlcyIsInBhcnRpYWxWYWx1ZXMiLCJQcm9tcHRUZW1wbGF0ZSIsIkZld1Nob3RQcm9tcHRUZW1wbGF0ZSIsIkJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSIsInZhbHVlcyIsImZvcm1hdHRlZFByb21wdCIsInBhcnNlRlN0cmluZyIsInRlbXBsYXRlIiwiY2hhcnMiLCJuZXh0QnJhY2tldCIsImJyYWNrZXQiLCJpbnRlcnBvbGF0ZUZTdHJpbmciLCJERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HIiwiREVGQVVMVF9QQVJTRVJfTUFQUElORyIsInJlbmRlclRlbXBsYXRlIiwidGVtcGxhdGVGb3JtYXQiLCJpbnB1dFZhbHVlcyIsInBhcnNlVGVtcGxhdGUiLCJjaGVja1ZhbGlkVGVtcGxhdGUiLCJ2YWxpZEZvcm1hdHMiLCJkdW1teUlucHV0cyIsInYiLCJ0b3RhbElucHV0VmFyaWFibGVzIiwiYWxsVmFsdWVzIiwic3VmZml4IiwiZXhhbXBsZVNlcGFyYXRvciIsIm5ld0lucHV0VmFyaWFibGVzIiwiaXYiLCJuZXdQYXJ0aWFsVmFyaWFibGVzIiwicHJvbXB0RGljdCIsIkNoYXRQcm9tcHRWYWx1ZSIsInUiLCJzIiwicmVxdWlyZSIsInciLCJkIiwiZyIsInkiLCJPIiwiSCIsIkMiLCJFIiwiSSIsIlkiLCJCIiwiRiIsIkwiLCJVIiwiRCIsIlQiLCJNIiwiTiIsIlMiLCJnZXRDYWNoZUtleSIsInN0cmluZ3MiLCJoYXNoIiwiR0xPQkFMX01BUCIsIkluTWVtb3J5Q2FjaGUiLCJsbG1LZXkiLCJnZXRWZXJib3NpdHkiLCJCYXNlTGFuZ0NoYWluIiwiQmFzZUxhbmd1YWdlTW9kZWwiLCJfdHlwZSIsIl9tb2RlbCIsIkNscyIsIm9wZW5haSIsIkJhc2VMTE0iLCJjb25jdXJyZW5jeSIsInByb21wdFZhbHVlIiwiX2lucHV0IiwiX29wdGlvbnMiLCJfcnVuTWFuYWdlciIsInByb21wdFZhbHVlcyIsImxsbVJlc3VsdCIsImxsbVJlc3VsdHMiLCJnZW5MaXN0IiwibGxtT3V0cHV0IiwicGFyc2VkT3B0aW9ucyIsImhhbmRsZWRPcHRpb25zIiwiZmxhdHRlbmVkT3V0cHV0cyIsImxsbVN0cmluZ0tleSIsIm1pc3NpbmdQcm9tcHRJbmRpY2VzIiwicHJvbXB0SW5kZXgiLCJwcmVkaWN0aW9uIiwib3BlbmFpJDEiLCJMTE0iLCJ3cmFwT3BlbkFJQ2xpZW50RXJyb3IiLCJPcGVuQUlDaGF0IiwiY29uZmlndXJhdGlvbiIsIl9oIiwiX2ciLCJjaG9pY2UiLCJkZWx0YSIsImdlbmVyYXRpb25DaHVuayIsIm5ld1Rva2VuSW5kaWNlcyIsInJlcXVlc3RPcHRpb25zIiwib3BlbkFJRW5kcG9pbnRDb25maWciLCJPcGVuQUlDbGllbnQiLCJfaSIsIl9qIiwic3ViUHJvbXB0cyIsImNob2ljZXMiLCJ0b2tlblVzYWdlIiwiY29tcGxldGlvblRva2VucyIsInByb21wdFRva2VucyIsInRvdGFsVG9rZW5zIiwicHJvbXB0Q2hvaWNlcyIsIkRvY3VtZW50IiwiZXhhbXBsZVN0cmluZ3MiLCJleGFtcGxlIiwiZXhhbXBsZV9wcm9tcHQiLCJleGFtcGxlUHJvbXB0IiwiU1RFTU1FUlMiLCJTUExJVFRFUlMiLCJTVVBQT1JURURfTEFOR1VBR0VTIiwiYmFzZUlkIiwibGFzdElkIiwibmFubyIsIm1pbGxpIiwic2Vjb25kIiwiTUFYX0FSR1VNRU5UX0ZPUl9TVEFDSyIsInNhZmVBcnJheVB1c2giLCJuZXdBcnIiLCJzcHJpbnRmIiwicmVwbGFjZUFyZ3MiLCJncm91cHMiLCJyYXdXaWR0aCIsInBvc2l0aW9uIiwicmVwbGFjZW1lbnQiLCJ3aWR0aCIsInBhZGRpbmciLCJwcmVjaXNpb24iLCJmb3JtYXROYW5vc2Vjb25kcyIsImdldE5hbm9zZWNvbmRzVGltZSIsInVuaXF1ZUlkIiwiZ2V0T3duUHJvcGVydHkiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInNvcnRUb2tlblNjb3JlUHJlZGljYXRlIiwiaW50ZXJzZWN0IiwiYXJyYXlzIiwiZm91bmQiLCJnZXREb2N1bWVudFByb3BlcnRpZXMiLCJkb2MiLCJwYXRocyIsInByb3BlcnRpZXMiLCJwYXRoc0xlbmd0aCIsInBhdGhUb2tlbnMiLCJwYXRoVG9rZW5zTGVuZ3RoIiwiZ2V0TmVzdGVkIiwibWFwRGlzdGFuY2VUb01ldGVycyIsImNvbnZlcnREaXN0YW5jZVRvTWV0ZXJzIiwiZGlzdGFuY2UiLCJ1bml0IiwicmF0aW8iLCJjcmVhdGVFcnJvciIsImFsbExhbmd1YWdlcyIsImVycm9ycyIsImZvcm1hdEVsYXBzZWRUaW1lIiwiZ2V0RG9jdW1lbnRJbmRleElkIiwidmFsaWRhdGVTY2hlbWEiLCJzY2hlbWEiLCJ2YWx1ZUxlbmd0aCIsImlzVmVjdG9yVHlwZSIsInZlY3RvclNpemUiLCJnZXRWZWN0b3JTaXplIiwiaXNBcnJheVR5cGUiLCJleHBlY3RlZFR5cGUiLCJnZXRJbm5lclR5cGUiLCJzdWJQcm9wIiwiSVNfQVJSQVlfVFlQRSIsIklOTkVSX1RZUEUiLCJpc0dlb1BvaW50VHlwZSIsInNpemUiLCJjcmVhdGVJbnRlcm5hbERvY3VtZW50SURTdG9yZSIsInNhdmUiLCJsb2FkIiwib3JhbWEiLCJyYXciLCJpbnRlcm5hbElkVG9JZCIsImdldEludGVybmFsRG9jdW1lbnRJZCIsImludGVybmFsSWQiLCJjdXJyZW50SWQiLCJnZXREb2N1bWVudElkRnJvbUludGVybmFsSWQiLCJjcmVhdGUiLCJzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUiLCJnZXQiLCJnZXRNdWx0aXBsZSIsImlkcyIsImdldEFsbCIsInJlbW92ZSIsInJhd0RvY3VtZW50IiwiY3JlYXRlRG9jdW1lbnRzU3RvcmUiLCJBVkFJTEFCTEVfUExVR0lOX0hPT0tTIiwiZ2V0QWxsUGx1Z2luc0J5SG9vayIsImhvb2siLCJfb3JhbWFfcGx1Z2lucyIsInBsdWdpbnNUb1J1biIsInBsdWdpbnNMZW5ndGgiLCJwbHVnaW4iLCJPQkpFQ1RfQ09NUE9ORU5UUyIsIkZVTkNUSU9OX0NPTVBPTkVOVFMiLCJydW5TaW5nbGVIb29rIiwiaG9va3MiLCJob29rc0xlbmd0aCIsInJ1bk11bHRpcGxlSG9vayIsImRvY3NPcklkcyIsInJ1bkFmdGVyU2VhcmNoIiwiZGIiLCJsYW5ndWFnZSIsInJ1bkJlZm9yZVNlYXJjaCIsIkJBTEFOQ0VfU1RBVEUiLCJnZXRIZWlnaHQiLCJyb3RhdGVMZWZ0Iiwicm90YXRlUmlnaHQiLCJyYW5nZVNlYXJjaCIsIm1pbiIsIm1heCIsInRyYXZlcnNlIiwiZ3JlYXRlclRoYW4iLCJpbmNsdXNpdmUiLCJsZXNzVGhhbiIsImdldE5vZGVCeUtleSIsIm5ld05vZGUiLCJiYWxhbmNlRmFjdG9yIiwiZ2V0Tm9kZVBhcmVudCIsImZpbmQiLCJwYXJlbnROb2RlIiwibWluVmFsdWVOb2RlIiwibWluVmFsdWVQYXJlbnQiLCJjaGlsZE5vZGUiLCJyZW1vdmVEb2N1bWVudCIsIl9yb290X251bWJlclRvRG9jdW1lbnRJZF9nZXQiLCJfcm9vdF9udW1iZXJUb0RvY3VtZW50SWRfZ2V0MSIsIm9wZXJhdGlvbktleXMiLCJvcGVyYXRpb25UeXBlIiwiZmlsdGVyQXJyIiwiX2JvdW5kZWRMZXZlbnNodGVpbiIsInRvbGVyYW5jZSIsInN3YXAiLCJsZW5BIiwibGVuQiIsInN0YXJ0SWR4Iiwicm93IiwiY2hhcmFjdGVyQ29kZUNhY2hlIiwiaGF2ZU1heCIsImpTdGFydCIsImpFbmQiLCJhYm92ZSIsImNoYXJBIiwic3luY0JvdW5kZWRMZXZlbnNodGVpbiIsIk5vZGUiLCJzdWJXb3JkIiwidXBkYXRlUGFyZW50IiwiYWRkRG9jdW1lbnQiLCJkb2NJRCIsImZpbmRBbGxXb3JkcyIsInRlcm0iLCJleGFjdCIsImRvY0lEcyIsImRvY3MiLCJkb2NJRHNMZW5ndGgiLCJnZXRDb21tb25QcmVmaXgiLCJjb21tb25QcmVmaXgiLCJ3b3JkIiwiZG9jSWQiLCJjdXJyZW50Q2hhcmFjdGVyIiwid29yZEF0SW5kZXgiLCJyb290Q2hpbGRDdXJyZW50Q2hhciIsImVkZ2VMYWJlbCIsImVkZ2VMYWJlbExlbmd0aCIsImNvbW1vblByZWZpeExlbmd0aCIsImVkZ2VMYWJlbEF0Q29tbW9uUHJlZml4IiwibmV3Tm9kZUNoaWxkIiwiaW5iZXR3ZWVuTm9kZSIsImluYmV0d2Vlbk5vZGVDaGlsZCIsIndvcmRBdENvbW1vblByZWZpeCIsIl9maW5kTGV2ZW5zaHRlaW4iLCJvcmlnaW5hbFRvbGVyYW5jZSIsInRlcm1TdWJzdHJpbmciLCJyZW1vdmVEb2N1bWVudEJ5V29yZCIsIksiLCJFQVJUSF9SQURJVVMiLCJwb2ludCIsImRlcHRoIiwibmV3RG9jSURzIiwicmVtb3ZlRG9jQnlJRCIsImRpcmVjdGlvbiIsIl9ub2RlX2RvY0lEcyIsIl9ub2RlX2RvY0lEczEiLCJheGlzIiwic2VhcmNoQnlSYWRpdXMiLCJjZW50ZXIiLCJyYWRpdXMiLCJzb3J0IiwiaGlnaFByZWNpc2lvbiIsImRpc3RhbmNlRm4iLCJ2aW5jZW50eURpc3RhbmNlIiwiaGF2ZXJzaW5lRGlzdGFuY2UiLCJzdGFjayIsImRpc3RBIiwiZGlzdEIiLCJzZWFyY2hCeVBvbHlnb24iLCJwb2x5Z29uIiwidGFzayIsIm5leHREZXB0aCIsImlzSW5zaWRlUG9seWdvbiIsImlzUG9pbnRJblBvbHlnb24iLCJjZW50cm9pZCIsImNhbGN1bGF0ZVBvbHlnb25DZW50cm9pZCIsInNvcnRGbiIsInRvdGFsQXJlYSIsImNlbnRyb2lkWCIsImNlbnRyb2lkWSIsInhpIiwieWkiLCJ4aiIsInlqIiwiYXJlYVNlZ21lbnQiLCJpc0luc2lkZSIsImNvb3JkMSIsImNvb3JkMiIsIlAiLCJsYXQxIiwibGF0MiIsImRlbHRhTGF0IiwiZGVsdGFMb24iLCJVMSIsIlUyIiwic2luVTEiLCJjb3NVMSIsInNpblUyIiwiY29zVTIiLCJsYW1iZGEiLCJwcmV2TGFtYmRhIiwiaXRlcmF0aW9uTGltaXQiLCJzaW5BbHBoYSIsImNvczJBbHBoYSIsInNpblNpZ21hIiwiY29zU2lnbWEiLCJzaWdtYSIsInNpbkxhbWJkYSIsImNvc0xhbWJkYSIsImNvczJTaWdtYU0iLCJ1MiIsIkEiLCJkZWx0YVNpZ21hIiwicHJpb3JpdGl6ZVRva2VuU2NvcmVzIiwiYm9vc3QiLCJ0aHJlc2hvbGQiLCJrZXl3b3Jkc0NvdW50IiwidG9rZW5TY29yZXNNYXAiLCJ0b2tlbktleXdvcmRzQ291bnRNYXAiLCJtYXBzTGVuZ3RoIiwiZW50cmllc0xlbmd0aCIsImJvb3N0U2NvcmUiLCJvbGRTY29yZSIsInRva2VuU2NvcmVzIiwidG9rZW5TY29yZUVudHJ5IiwiYWxsUmVzdWx0cyIsInRva2VuS2V5d29yZHNDb3VudCIsInRva2VuS2V5d29yZHNDb3VudEVudHJ5Iiwia2V5d29yZHNQZXJUb2tlbiIsImxhc3RUb2tlbldpdGhBbGxLZXl3b3JkcyIsInRocmVzaG9sZExlbmd0aCIsIkJNMjUiLCJ0ZiIsIm1hdGNoaW5nQ291bnQiLCJkb2NzQ291bnQiLCJmaWVsZExlbmd0aCIsImF2ZXJhZ2VGaWVsZExlbmd0aCIsIkJNMjVQYXJhbXMiLCJnZXRNYWduaXR1ZGUiLCJ2ZWN0b3IiLCJ2ZWN0b3JMZW5ndGgiLCJtYWduaXR1ZGUiLCJmaW5kU2ltaWxhclZlY3RvcnMiLCJ0YXJnZXRWZWN0b3IiLCJ2ZWN0b3JzIiwidGFyZ2V0TWFnbml0dWRlIiwic2ltaWxhclZlY3RvcnMiLCJ2ZWN0b3JJZCIsImRvdFByb2R1Y3QiLCJzaW1pbGFyaXR5IiwiaW5zZXJ0RG9jdW1lbnRTY29yZVBhcmFtZXRlcnMiLCJpbnNlcnRUb2tlblNjb3JlUGFyYW1ldGVycyIsInRva2VuRnJlcXVlbmN5IiwicmVtb3ZlRG9jdW1lbnRTY29yZVBhcmFtZXRlcnMiLCJyZW1vdmVUb2tlblNjb3JlUGFyYW1ldGVycyIsImNhbGN1bGF0ZVJlc3VsdFNjb3JlcyIsImRvY3VtZW50SURzIiwiYXZnRmllbGRMZW5ndGgiLCJmaWVsZExlbmd0aHMiLCJvcmFtYU9jY3VycmVuY2VzIiwib3JhbWFGcmVxdWVuY2llcyIsInRlcm1PY2N1cnJlbmNlcyIsInNjb3JlTGlzdCIsImRvY3VtZW50SURzTGVuZ3RoIiwiX29yYW1hRnJlcXVlbmNpZXNfaW50ZXJuYWxJZCIsImJtMjUiLCJpc0FycmF5IiwiYXZsQ3JlYXRlIiwicmFkaXhDcmVhdGUiLCJmbGF0Q3JlYXRlIiwiYmtkQ3JlYXRlIiwiaW5zZXJ0U2NhbGFyIiwiaW1wbGVtZW50YXRpb24iLCJzY2hlbWFUeXBlIiwidG9rZW5pemVyIiwiYXZsSW5zZXJ0IiwicmFkaXhJbnNlcnQiLCJmbGF0SW5zZXJ0IiwiYmtkSW5zZXJ0IiwiaW5zZXJ0VmVjdG9yIiwiaW5uZXJTY2hlbWFUeXBlIiwiZWxlbWVudHMiLCJlbGVtZW50c0xlbmd0aCIsInJlbW92ZVNjYWxhciIsImF2bFJlbW92ZURvY3VtZW50IiwicmFkaXhSZW1vdmVEb2N1bWVudCIsImZsYXRSZW1vdmVEb2N1bWVudCIsImJrZFJlbW92ZURvY0J5SUQiLCJzZWFyY2giLCJzZWFyY2hSZXN1bHQiLCJyYWRpeEZpbmQiLCJzZWFyY2hCeVdoZXJlQ2xhdXNlIiwiZmlsdGVycyIsImZpbHRlcktleXMiLCJmaWx0ZXJzTWFwIiwicGFyYW0iLCJmaWx0ZXJlZElEcyIsInJlcU9wZXJhdGlvbiIsImNvb3JkaW5hdGVzIiwiaW5zaWRlIiwiZGlzdGFuY2VJbk1ldGVycyIsImZpbHRlcmVkSURzUmVzdWx0cyIsImZsYXRGaWx0ZXJBcnIiLCJmbGF0RmlsdGVyIiwib3BlcmF0aW9uT3B0Iiwib3BlcmF0aW9uVmFsdWUiLCJhdmxHcmVhdGVyVGhhbiIsImF2bExlc3NUaGFuIiwiYXZsRmluZCIsImF2bFJhbmdlU2VhcmNoIiwiZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXMiLCJnZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyIsImxvYWRSYWRpeE5vZGUiLCJjb252ZXJ0ZWROb2RlIiwiY2hpbGRyZW5LZXkiLCJsb2FkRmxhdE5vZGUiLCJzYXZlRmxhdE5vZGUiLCJyYXdJbmRleGVzIiwicmF3VmVjdG9ySW5kZXhlcyIsInNlYXJjaGFibGVQcm9wZXJ0aWVzIiwic2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMiLCJmcmVxdWVuY2llcyIsInRva2VuT2NjdXJyZW5jZXMiLCJpbmRleGVzIiwidmVjdG9ySW5kZXhlcyIsInZlYyIsInZlY3RvckluZGV4ZXNBc0FycmF5cyIsInNhdmVkSW5kZXhlcyIsImNyZWF0ZUluZGV4IiwiaW5uZXJDcmVhdGUiLCJzb3J0YWJsZURlbmllZFByb3BlcnRpZXMiLCJzb3J0ZXIiLCJlbnN1cmVJc1NvcnRlZCIsImVuc3VyZVByb3BlcnR5SXNTb3J0ZWQiLCJzdHJpbmdTb3J0IiwibnVtYmVyU29ydCIsImJvb2xlYW5Tb3J0IiwicHJlZGljYXRlIiwib3JkZXJlZERvY3NMZW5ndGgiLCJlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWQiLCJlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWRCeVByb3BlcnR5Iiwic29ydEJ5IiwiZG9jSWRzIiwiYnkiLCJpc0Rlc2MiLCJpbmRleE9mQSIsImluZGV4T2ZCIiwiaXNBSW5kZXhlZCIsImlzQkluZGV4ZWQiLCJnZXRTb3J0YWJsZVByb3BlcnRpZXMiLCJnZXRTb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMiLCJzb3J0cyIsIm9yZGVyZWREb2NzIiwiY3JlYXRlU29ydGVyIiwiRElBQ1JJVElDU19DSEFSQ09ERV9TVEFSVCIsIkRJQUNSSVRJQ1NfQ0hBUkNPREVfRU5EIiwiQ0hBUkNPREVfUkVQTEFDRV9NQVBQSU5HIiwicmVwbGFjZUNoYXIiLCJyZXBsYWNlRGlhY3JpdGljcyIsInN0cmluZ0NoYXJDb2RlIiwic3RlcDJMaXN0Iiwic3RlcDNMaXN0IiwiViIsIm1ncjAiLCJtZXExIiwibWdyMSIsInNfdiIsInN0ZW1tZXIiLCJzdGVtIiwicmUiLCJyZTIiLCJyZTMiLCJyZTQiLCJmaXJzdGNoIiwiZnAiLCJub3JtYWxpemVUb2tlbiIsIl90aGlzX3N0b3BXb3JkcyIsInRyaW0iLCJ0b2tlbml6ZSIsInNwbGl0UnVsZSIsInRyaW1Ub2tlbnMiLCJjcmVhdGVUb2tlbml6ZXIiLCJlbmdsaXNoIiwic3RvcFdvcmRzIiwidmFsaWRhdGVDb21wb25lbnRzIiwiY29tcG9uZW50cyIsImRlZmF1bHRDb21wb25lbnRzIiwicmF3S2V5IiwicGx1Z2lucyIsImRvY3VtZW50c1N0b3JlIiwiaW50ZXJuYWxEb2N1bWVudFN0b3JlIiwia0luc2VydGlvbnMiLCJrUmVtb3ZhbHMiLCJfZ2xvYmFsVGhpc19wcm9jZXNzIiwid2FybiIsInRyYWNrSW5zZXJ0aW9uIiwidHJhY2tSZW1vdmFsIiwic2tpcEhvb2tzIiwiZXJyb3JQcm9wZXJ0eSIsImlubmVySW5zZXJ0IiwiaW5kZXhhYmxlUHJvcGVydGllcyIsImluZGV4YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMiLCJpbmRleGFibGVWYWx1ZXMiLCJhY3R1YWxUeXBlIiwiX29yYW1hX2luZGV4IiwiX29yYW1hX2luZGV4X2JlZm9yZUluc2VydCIsIl9vcmFtYV9pbmRleDEiLCJfb3JhbWFfaW5kZXhfYWZ0ZXJJbnNlcnQiLCJzb3J0YWJsZVByb3BlcnRpZXMiLCJzb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMiLCJzb3J0YWJsZVZhbHVlcyIsImluc2VydE11bHRpcGxlIiwiYmF0Y2hTaXplIiwiZG9jc0xlbmd0aCIsImlubmVySW5zZXJ0TXVsdGlwbGUiLCJfaW5zZXJ0TXVsdGlwbGUiLCJiYXRjaCIsIl9vcmFtYV9pbmRleF9iZWZvcmVSZW1vdmUiLCJfb3JhbWFfaW5kZXhfYWZ0ZXJSZW1vdmUiLCJyZW1vdmVNdWx0aXBsZSIsImRvY0lkc0Zvckhvb2tzIiwic29ydGluZ1ByZWRpY2F0ZSIsIm9yZGVyIiwiZ2V0RmFjZXRzIiwiZmFjZXRzQ29uZmlnIiwiZmFjZXRzIiwiYWxsSURzIiwiYWxsRG9jcyIsImZhY2V0S2V5cyIsImZhY2V0IiwicmFuZ2VzIiwicmFuZ2UiLCJhbGxEb2NzTGVuZ3RoIiwiZmFjZXRWYWx1ZSIsInByb3BlcnR5VHlwZSIsImNhbGN1bGF0ZU51bWJlckZhY2V0IiwiYWxyZWFkeUluc2VydGVkVmFsdWVzIiwiY2FsY3VsYXRlQm9vbGVhblN0cmluZ09yRW51bUZhY2V0IiwiaW5uZXJUeXBlIiwic3RyaW5nRmFjZXREZWZpbml0aW9uIiwiaW50ZXJzZWN0RmlsdGVyZWRJRHMiLCJsb29rZWRVcCIsIkRFRkFVTFRfUkVEVUNFIiwiQUxMT1dFRF9UWVBFUyIsImdldEdyb3VwcyIsImdyb3VwQnkiLCJwcm9wZXJ0aWVzTGVuZ3RoIiwic2NoZW1hUHJvcGVydGllcyIsInJldHVybmVkQ291bnQiLCJsaXN0T2ZWYWx1ZXMiLCJncm91cEJ5S2V5Iiwia2V5VmFsdWUiLCJjb21iaW5hdGlvbnMiLCJjYWxjdWxhdGVDb21iaW5hdGlvbiIsImNvbWJpbmF0aW9uc0xlbmd0aCIsImNvbWJpbmF0aW9uIiwiY29tYmluYXRpb25MZW5ndGgiLCJncm91cHNMZW5ndGgiLCJyZWR1Y2UiLCJpbml0aWFsVmFsdWUiLCJhZ2dyZWdhdGlvblZhbHVlIiwiYXJycyIsImhlYWQiLCJkZWZhdWx0Qk0yNVBhcmFtcyIsImNyZWF0ZVNlYXJjaENvbnRleHQiLCJ0aW1lU3RhcnQiLCJpbmRleE1hcCIsImRvY3NJbnRlcnNlY3Rpb24iLCJ0b2tlbnNNYXAiLCJzaG91bGRDYWxjdWxhdGVGYWNldHMiLCJkaXN0aW5jdE9uIiwiaXNQcmVmbGlnaHQiLCJwcm9wZXJ0aWVzVG9TZWFyY2giLCJwcm9wZXJ0aWVzVG9TZWFyY2hXaXRoVHlwZXMiLCJoYXNGaWx0ZXJzIiwid2hlcmVGaWx0ZXJzSURzIiwidG9rZW5zTGVuZ3RoIiwiaW5kZXhlc0xlbmd0aCIsIl9wYXJhbXNfYm9vc3QiLCJ2YWxzIiwidW5pcXVlRG9jcyIsInVuaXF1ZURvY3NMZW5ndGgiLCJwcmV2U2NvcmUiLCJ1bmlxdWVEb2NzQXJyYXkiLCJkb2NzV2l0aElkQW5kU2NvcmUiLCJmZXRjaERvY3VtZW50c1dpdGhEaXN0aW5jdCIsImZldGNoRG9jdW1lbnRzIiwicmVzdWx0SURzIiwidW5pcXVlRG9jc0FycmF5TGVuZ3RoIiwiaWRBbmRTY29yZSIsImZ1bGxEb2MiLCJzZWFyY2hWZWN0b3IiLCJpbmNsdWRlVmVjdG9ycyIsInZlY3RvckluZGV4Iiwib3JpZ2luYWxJRCIsIm5ld0RvYyIsImVsYXBzZWRUaW1lIiwiVUlOVDMyX01BWCIsInNldFVpbnQ2NCIsInZpZXciLCJoaWdoIiwibG93Iiwic2V0SW50NjQiLCJnZXRJbnQ2NCIsImdldFVpbnQ2NCIsIlRFWFRfRU5DT0RJTkdfQVZBSUxBQkxFIiwidXRmOENvdW50Iiwic3RyTGVuZ3RoIiwicG9zIiwidXRmOEVuY29kZUpzIiwib3V0cHV0T2Zmc2V0Iiwic2hhcmVkVGV4dEVuY29kZXIiLCJURVhUX0VOQ09ERVJfVEhSRVNIT0xEIiwidXRmOEVuY29kZVRFZW5jb2RlIiwidXRmOEVuY29kZVRFZW5jb2RlSW50byIsInV0ZjhFbmNvZGVURSIsIkNIVU5LX1NJWkUiLCJ1dGY4RGVjb2RlSnMiLCJpbnB1dE9mZnNldCIsInVuaXRzIiwiYnl0ZTEiLCJieXRlMiIsImJ5dGUzIiwiYnl0ZTQiLCJzaGFyZWRUZXh0RGVjb2RlciIsIlRFWFRfREVDT0RFUl9USFJFU0hPTEQiLCJ1dGY4RGVjb2RlVEQiLCJzdHJpbmdCeXRlcyIsIkV4dERhdGEiLCJfX2V4dGVuZHMiLCJleHRlbmRTdGF0aWNzIiwiX18iLCJEZWNvZGVFcnJvciIsIl9zdXBlciIsIl90aGlzIiwicHJvdG8iLCJFWFRfVElNRVNUQU1QIiwiVElNRVNUQU1QMzJfTUFYX1NFQyIsIlRJTUVTVEFNUDY0X01BWF9TRUMiLCJlbmNvZGVUaW1lU3BlY1RvVGltZXN0YW1wIiwic2VjIiwibnNlYyIsInJ2Iiwic2VjSGlnaCIsInNlY0xvdyIsImVuY29kZURhdGVUb1RpbWVTcGVjIiwiZGF0ZSIsIm1zZWMiLCJuc2VjSW5TZWMiLCJlbmNvZGVUaW1lc3RhbXBFeHRlbnNpb24iLCJ0aW1lU3BlYyIsImRlY29kZVRpbWVzdGFtcFRvVGltZVNwZWMiLCJuc2VjMzBBbmRTZWNIaWdoMiIsInNlY0xvdzMyIiwiZGVjb2RlVGltZXN0YW1wRXh0ZW5zaW9uIiwidGltZXN0YW1wRXh0ZW5zaW9uIiwiRXh0ZW5zaW9uQ29kZWMiLCJlbmNvZGUiLCJkZWNvZGUiLCJlbmNvZGVFeHQiLCJkZWNvZGVFeHQiLCJlbnN1cmVVaW50OEFycmF5IiwiYnVmZmVyIiwiY3JlYXRlRGF0YVZpZXciLCJidWZmZXJWaWV3IiwiREVGQVVMVF9NQVhfREVQVEgiLCJERUZBVUxUX0lOSVRJQUxfQlVGRkVSX1NJWkUiLCJFbmNvZGVyIiwiZXh0ZW5zaW9uQ29kZWMiLCJtYXhEZXB0aCIsImluaXRpYWxCdWZmZXJTaXplIiwic29ydEtleXMiLCJmb3JjZUZsb2F0MzIiLCJpZ25vcmVVbmRlZmluZWQiLCJmb3JjZUludGVnZXJUb0Zsb2F0Iiwic2l6ZVRvV3JpdGUiLCJyZXF1aXJlZFNpemUiLCJuZXdTaXplIiwibmV3QnVmZmVyIiwibmV3Qnl0ZXMiLCJuZXdWaWV3IiwibWF4SGVhZGVyU2l6ZSIsImV4dCIsIm9iamVjdF8xIiwia2V5c18xIiwia2V5c18yIiwiZGVmYXVsdEVuY29kZU9wdGlvbnMiLCJlbmNvZGVyIiwicHJldHR5Qnl0ZSIsImJ5dGUiLCJERUZBVUxUX01BWF9LRVlfTEVOR1RIIiwiREVGQVVMVF9NQVhfTEVOR1RIX1BFUl9LRVkiLCJDYWNoZWRLZXlEZWNvZGVyIiwibWF4S2V5TGVuZ3RoIiwibWF4TGVuZ3RoUGVyS2V5IiwicmVjb3JkcyIsIkZJTkRfQ0hVTksiLCJyZWNvcmRzXzEiLCJyZWNvcmQiLCJyZWNvcmRCeXRlcyIsImNhY2hlZFZhbHVlIiwic2xpY2VkQ29weU9mQnl0ZXMiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsImFkb3B0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJfX2dlbmVyYXRvciIsInZlcmIiLCJfX2FzeW5jVmFsdWVzIiwic2V0dGxlIiwiX19hd2FpdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJxIiwicmVzdW1lIiwiZnVsZmlsbCIsImlzVmFsaWRNYXBLZXlUeXBlIiwia2V5VHlwZSIsIkhFQURfQllURV9SRVFVSVJFRCIsIkVNUFRZX1ZJRVciLCJFTVBUWV9CWVRFUyIsIkRhdGFWaWV3SW5kZXhPdXRPZkJvdW5kc0Vycm9yIiwiTU9SRV9EQVRBIiwic2hhcmVkQ2FjaGVkS2V5RGVjb2RlciIsIkRlY29kZXIiLCJtYXhTdHJMZW5ndGgiLCJtYXhCaW5MZW5ndGgiLCJtYXhBcnJheUxlbmd0aCIsIm1heE1hcExlbmd0aCIsIm1heEV4dExlbmd0aCIsImtleURlY29kZXIiLCJyZW1haW5pbmdEYXRhIiwibmV3RGF0YSIsInBvc1RvU2hvdyIsInN0cmVhbV8xIiwic3RyZWFtXzFfMSIsImVfMSIsImRlY29kZWQiLCJlXzFfMSIsImhlYWRCeXRlIiwidG90YWxQb3MiLCJpc0FycmF5SGVhZGVyUmVxdWlyZWQiLCJhcnJheUl0ZW1zTGVmdCIsInN0cmVhbV8yIiwic3RyZWFtXzJfMSIsImVfMiIsImVfM18xIiwiZV8zIiwiREVDT0RFIiwiaGVhZGVyT2Zmc2V0IiwiaGVhZE9mZnNldCIsImV4dFR5cGUiLCJkZWZhdWx0RGVjb2RlT3B0aW9ucyIsImRlY29kZXIiLCJQUk9QRVJUWV9DT0RFIiwiVFlQRV9DT0RFIiwiU1RSSU5HX0NPREUiLCJOVU1CRVJfQ09ERSIsIlNFUVVFTkNFX0NPREUiLCJOVUxMIiwiRkFMU0UiLCJUUlVFIiwiVU5ERUZJTkVEIiwiREVGQVVMVF9UWVBFIiwiQVJSQVlfVFlQRSIsIlJFRkVSRU5DSU5HX1RZUEUiLCJOVU1CRVJfVFlQRSIsIk1FVEFEQVRBX1RZUEUiLCJSRUZFUkVOQ0lOR19QT1NJVElPTiIsIkVSUk9SX01FVEFEQVRBIiwiT1BFTl9TRVFVRU5DRSIsIkVORF9TRVFVRU5DRSIsIkRFRkVSUkVEX1JFRkVSRU5DRSIsIm5leHRJZCIsIml0ZXJhdG9yU3ltYm9sIiwiY3JlYXRlU2VyaWFsaXplciIsImV4dGVuZGVkVHlwZXMiLCJ3cml0ZU1hcCIsIndyaXRlU2V0Iiwid3JpdGVEYXRlIiwiY2hhckVuY29kZXIiLCJnbG9iYWwiLCJicm93c2VyQ2hhckVuY29kZXIiLCJ3cml0ZVN0cmluZyIsIndyaXRlVG9rZW4iLCJzdGFydFNlcXVlbmNlIiwiZW5kU2VxdWVuY2UiLCJ3cml0ZUJ1ZmZlciIsInByb3BlcnR5VXNlZCIsInBlbmRpbmdFbmNvZGluZ3MiLCJidWZmZXJTeW1ib2wiLCJ0YXJnZXRTeW1ib2wiLCJzZXJpYWxpemVySWQiLCJ3cml0ZXJzIiwid3JpdGVBc0RlZmF1bHQiLCJ3cml0ZUFzQXJyYXkiLCJ3cml0ZUFzUmVmZXJlbmNpbmciLCJ3cml0ZUFzTnVtYmVyIiwid3JpdGVPbmx5TnVsbCIsIndyaXRlTnVtYmVyIiwibnVtYmVyIiwid3JpdGVJbmxpbmVTdHJpbmciLCJyZWZlcmVuY2UiLCJhc1N0cmluZyIsIndyaXRlVHlwZWRWYWx1ZSIsIndyaXRlVHlwZWROb25Db25zdGFudCIsImV4dGVuZGVkVHlwZSIsImNvbnN0cnVjdG9yIiwid3JpdGVQcm9wZXJ0eSIsImlzUm9vdCIsIm5vdFBsYWluT2JqZWN0Iiwid3JpdGVCbG9ja1JlZmVyZW5jZSIsIndyaXRlQXNJdGVyYWJsZSIsInRoaXNQcm9wZXJ0eSIsInJlc3VtZUluZGV4IiwicHJvcGVydHlJbmRleCIsImxhc3RQcm9wZXJ0eUluZGV4IiwiaXRlcmF0b3IiLCJhcnJheVByb3BlcnR5IiwibmVlZHNDbG9zaW5nIiwid3JpdGVyIiwiYmxvY2tQcm9wZXJ0eSIsImxhenlQcm9taXNlIiwidGhlbiIsImxhc3RQZW5kaW5nRW5jb2RpbmdzIiwic2VyaWFsaXplciIsInNoYXJlZFByb3BlcnR5IiwicHJvbWlzZXMiLCJmaW5pc2hlZCIsInNlcmlhbGl6ZSIsInNpemVUYWJsZSIsInNlcmlhbGl6ZWRUb2tlbiIsImdldFNlcmlhbGl6ZWQiLCJBcnJheUZyb20iLCJrZXlWYWx1ZXMiLCJUWVBFX0RFRklOSVRJT04iLCJjcmVhdGVQYXJzZXIiLCJzb3VyY2UiLCJpc1BhcnRpYWwiLCJjbGFzc0J5TmFtZSIsInJlYWRNYXAiLCJyZWFkU2V0IiwicmVhZERhdGUiLCJwYXVzZWRTdGF0ZSIsImRlZmVycmVkUmVhZHMiLCJwYXVzZSIsImxhc3RSZWFkIiwicGFyc2VyIiwibmV4dFN0cmluZyIsImlzUGFydGlhbFN0cmluZyIsInJlYnVpbGRTdHJpbmciLCJyZXN1bWVTdGF0ZSIsImRpc3Bvc2VkQ2hhcnMiLCJyZWFkU2VxdWVuY2UiLCJwcm9wZXJ0eVN0YXRlIiwib25FcnJvciIsIm5vblBhcnNpbmdFcnJvciIsInByZXZpb3VzIiwiZGVmZXJyZWRSZWFkIiwicGFyZW50RGVmZXJyZWRSZWFkcyIsInRhcmdldFByb3BlcnR5Iiwic3RhcnRPZmZzZXQiLCJwYXJzZSIsInN0cmluZ09yQnVmZmVyIiwiZW50cmllcyIsInRpbWUiLCJQUkVGRVJSRURfTUFYX0JVRkZFUl9TSVpFIiwiYXZhaWxhYmxlQnVmZmVycyIsIm5vZGVDaGFyRW5jb2RlciIsImJ1ZmZlclNpemUiLCJvdXRsZXQiLCJzZXF1ZW5jZXMiLCJtYWtlUm9vbSIsImJ5dGVzTmVlZGVkIiwib2xkQnVmZmVyIiwic3BlY2lmaWVkT3V0bGV0Iiwic291cmNlTGVuZ3RoIiwibWF4U3RyaW5nTGVuZ3RoIiwiYnl0ZXNXcml0dGVuIiwiaW5zZXJ0QnVmZmVyIiwiaGVhZGVyQnVmZmVyIiwiaGVhZGVyTGVuZ3RoIiwiY3VycmVudE9mZnNldCIsIm5ld09mZnNldCIsIm5vZGVFbmNvZGVyIiwiT3B0aW9ucyIsIkNsYXNzIiwibWFrZVN5bWJvbCIsInNpemVUYWJsZVN5bWJvbCIsInNlcmlhbGl6ZU1vZHVsZSIsInJlcXVpcmUkJDMiLCJyZXF1aXJlJCQ0Iiwic2VyaWFsaXplXzEiLCJwYXJzZV8xIiwiVU5TVVBQT1JURURfRk9STUFUIiwiZm9ybWF0IiwiZGV0ZWN0UnVudGltZSIsImhleEZyb21NYXAiLCJoZXhUb01hcCIsInNsb3dIZXhUb0J1ZmZlciIsInNsb3dIZXhUb1N0cmluZyIsInBlcnNpc3QiLCJydW50aW1lIiwiZGJFeHBvcnQiLCJkcGFjay5zZXJpYWxpemUiLCJtc2dwYWNrIiwicmVzdG9yZSIsImRlc2VyaWFsaXplZCIsImRwYWNrLnBhcnNlIiwiQmFzZVJldHJpZXZlciIsIl9xdWVyeSIsIl9jYWxsYmFja3MiLCJwYXJzZWRDb25maWciLCJWZWN0b3JTdG9yZVJldHJpZXZlciIsIlZlY3RvclN0b3JlIiwiZW1iZWRkaW5ncyIsImRiQ29uZmlnIiwiX3BhcmFtcyIsIl90ZXh0cyIsIl9tZXRhZGF0YXMiLCJfZW1iZWRkaW5ncyIsIl9kYkNvbmZpZyIsIl9kb2NzIiwia09yRmllbGRzIiwidmVyYm9zZSIsIk9wZW5BSUVtYmVkZGluZ3MiLCJmaWVsZHNXaXRoRGVmYXVsdHMiLCJhenVyZUFwaUtleSIsImF6dXJlQXBpSW5zdGFuY2VOYW1lIiwiYXp1cmVBcGlEZXBsb3ltZW50TmFtZSIsImF6dXJlQXBpVmVyc2lvbiIsInRleHRzIiwiYmF0Y2hlcyIsImJhdGNoUmVxdWVzdHMiLCJiYXRjaFJlc3BvbnNlcyIsImJhdGNoUmVzcG9uc2UiLCJCYXNlTExNT3V0cHV0UGFyc2VyIiwiX3Byb21wdCIsIkJhc2VPdXRwdXRQYXJzZXIiLCJCYXNlVHJhbnNmb3JtT3V0cHV0UGFyc2VyIiwiU3RyaW5nT3V0cHV0UGFyc2VyIiwidmVjdG9yU3RvcmVTY2hlbWEiLCJPcmFtYVN0b3JlIiwiZmlsZW5hbWVzVG9VcGRhdGUiLCJmaWxlbmFtZSIsInZlY3RvcnNUb1VwZGF0ZSIsImhpdCIsInZlY3RvclN0b3JlSnNvbiIsIlNlY29uZEJyYWluIiwib2JzaWRpYW5Eb2N1bWVudExvYWRlciIsIm9ic2lkaWFuQXBwIiwiZmlsZXMiLCJmaWxlTWV0YWRhdGEiLCJwYWdlQ29udGVudCIsImhlYWRlckNvdW50Iiwibm90ZUNvdW50IiwiaGVhZGluZ1RyZWUiLCJjdXJyZW50SGVhZGluZ0xldmVsIiwic2VjdGlvbiIsImN1cnJlbnRIZWFkaW5nIiwic2Vjb25kQnJhaW4iLCJpbnB1dFBsYWNlaG9sZGVyIiwiYnV0dG9uIiwibWVzc2FnZVRleHQiLCJpc1Byb2Nlc2NjaW5nIiwic2VuZE1lc3NhZ2UiLCJOb3RpY2UiLCIkbWVzc2FnZXMiLCJpbmplY3RDb250ZXh0IiwiRmlsZVNlbGVjdE1vZGFsIiwiQ2hhdE1vZGFsIiwiTW9kYWwiLCJhcHAiLCJJbnB1dENvbXBvbmVudCIsImRpdjEiLCJkaXYwIiwiYnV0dG9uMCIsImJ1dHRvbjEiLCJodG1sX2FjdGlvbiIsImRpdiIsImdldFRoZW1lQ29sb3IiLCJBSWNvbG9yIiwiVXNlckNvbG9yIiwidG9DbGlwYm9hcmQiLCJFbGVjdHJvbiIsInRlc3QiLCJsaW5rX3RmaWxlIiwiJHBsdWdpbiIsIm1vZCIsIktleW1hcCIsIk1hcmtkb3duUmVuZGVyZXIiLCJodG1sVG9NYXJrZG93biIsImgxIiwiVklFV19UWVBFX0NIQVQiLCJDaGF0VmlldyIsIkl0ZW1WaWV3IiwibGVhZiIsIkNoYXRWaWV3Q29tcG9uZW50IiwiU2V0dGluZ3NUYWIiLCJQbHVnaW5TZXR0aW5nVGFiIiwiY29udGFpbmVyRWwiLCJTZXR0aW5nIiwiREVGQVVMVF9TRVRUSU5HUyIsIkJyYWluUGx1Z2luIiwiUGx1Z2luIiwiRnV6enlTdWdnZXN0TW9kYWwiLCJ1dGlsIiwiYXNzZXJ0SXMiLCJfYXJnIiwiYXNzZXJ0TmV2ZXIiLCJfeCIsInZhbGlkS2V5cyIsImNoZWNrZXIiLCJqb2luVmFsdWVzIiwic2VwYXJhdG9yIiwib2JqZWN0VXRpbCIsImdldFBhcnNlZFR5cGUiLCJab2RFcnJvcl8xIiwidXRpbF8xIiwicXVvdGVsZXNzSnNvbiIsIlpvZEVycm9yIiwiaXNzdWVzIiwic3ViIiwic3VicyIsImFjdHVhbFByb3RvIiwiX21hcHBlciIsImlzc3VlIiwiZmllbGRFcnJvcnMiLCJwcm9jZXNzRXJyb3IiLCJjdXJyIiwiZWwiLCJmb3JtRXJyb3JzIiwiZW4iLCJlcnJvck1hcCIsIl9jdHgiLCJfX2ltcG9ydERlZmF1bHQiLCJlbl8xIiwib3ZlcnJpZGVFcnJvck1hcCIsInNldEVycm9yTWFwIiwiZ2V0RXJyb3JNYXAiLCJlcnJvcnNfMSIsIm1ha2VJc3N1ZSIsImVycm9yTWFwcyIsImlzc3VlRGF0YSIsImZ1bGxQYXRoIiwiZnVsbElzc3VlIiwibWFwcyIsImFkZElzc3VlVG9Db250ZXh0IiwiUGFyc2VTdGF0dXMiLCJhcnJheVZhbHVlIiwicGFpcnMiLCJzeW5jUGFpcnMiLCJwYWlyIiwiZmluYWxPYmplY3QiLCJESVJUWSIsIk9LIiwiaXNBYm9ydGVkIiwiaXNEaXJ0eSIsImlzVmFsaWQiLCJpc0FzeW5jIiwidHlwZUFsaWFzZXMiLCJlcnJvclV0aWwiLCJlcnJvclV0aWxfMSIsInBhcnNlVXRpbF8xIiwiUGFyc2VJbnB1dExhenlQYXRoIiwiaGFuZGxlUmVzdWx0IiwicHJvY2Vzc0NyZWF0ZVBhcmFtcyIsImludmFsaWRfdHlwZV9lcnJvciIsInJlcXVpcmVkX2Vycm9yIiwiaXNzIiwiWm9kVHlwZSIsImRlZiIsIm1heWJlQXN5bmNSZXN1bHQiLCJjaGVjayIsImdldElzc3VlUHJvcGVydGllcyIsInNldEVycm9yIiwicmVmaW5lbWVudERhdGEiLCJyZWZpbmVtZW50IiwiWm9kRWZmZWN0cyIsIlpvZEZpcnN0UGFydHlUeXBlS2luZCIsIlpvZE9wdGlvbmFsIiwiWm9kTnVsbGFibGUiLCJab2RBcnJheSIsIlpvZFByb21pc2UiLCJvcHRpb24iLCJab2RVbmlvbiIsImluY29taW5nIiwiWm9kSW50ZXJzZWN0aW9uIiwiZGVmYXVsdFZhbHVlRnVuYyIsIlpvZERlZmF1bHQiLCJab2RCcmFuZGVkIiwiY2F0Y2hWYWx1ZUZ1bmMiLCJab2RDYXRjaCIsIlRoaXMiLCJab2RQaXBlbGluZSIsIlpvZFJlYWRvbmx5IiwiY3VpZFJlZ2V4IiwiY3VpZDJSZWdleCIsInVsaWRSZWdleCIsInV1aWRSZWdleCIsImVtYWlsUmVnZXgiLCJfZW1vamlSZWdleCIsImVtb2ppUmVnZXgiLCJpcHY0UmVnZXgiLCJpcHY2UmVnZXgiLCJkYXRldGltZVJlZ2V4IiwiaXNWYWxpZElQIiwiaXAiLCJ2ZXJzaW9uIiwiWm9kU3RyaW5nIiwidG9vQmlnIiwidG9vU21hbGwiLCJyZWdleCIsInZhbGlkYXRpb24iLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJjaCIsImZsb2F0U2FmZVJlbWFpbmRlciIsInZhbERlY0NvdW50Iiwic3RlcERlY0NvdW50IiwiZGVjQ291bnQiLCJ2YWxJbnQiLCJzdGVwSW50IiwiWm9kTnVtYmVyIiwiWm9kQmlnSW50IiwiWm9kQm9vbGVhbiIsIlpvZERhdGUiLCJtaW5EYXRlIiwibWF4RGF0ZSIsIlpvZFN5bWJvbCIsIlpvZFVuZGVmaW5lZCIsIlpvZE51bGwiLCJab2RBbnkiLCJab2RVbmtub3duIiwiWm9kTmV2ZXIiLCJab2RWb2lkIiwiZGVlcFBhcnRpYWxpZnkiLCJab2RPYmplY3QiLCJuZXdTaGFwZSIsImZpZWxkU2NoZW1hIiwiWm9kVHVwbGUiLCJzaGFwZSIsInNoYXBlS2V5cyIsImV4dHJhS2V5cyIsImtleVZhbGlkYXRvciIsInVua25vd25LZXlzIiwiY2F0Y2hhbGwiLCJkZWZhdWx0RXJyb3IiLCJhdWdtZW50YXRpb24iLCJtZXJnaW5nIiwibWFzayIsIm5ld0ZpZWxkIiwiY3JlYXRlWm9kRW51bSIsImhhbmRsZVJlc3VsdHMiLCJ1bmlvbkVycm9ycyIsImNoaWxkQ3R4IiwidHlwZXMiLCJnZXREaXNjcmltaW5hdG9yIiwiWm9kTGF6eSIsIlpvZExpdGVyYWwiLCJab2RFbnVtIiwiWm9kTmF0aXZlRW51bSIsIlpvZERpc2NyaW1pbmF0ZWRVbmlvbiIsImRpc2NyaW1pbmF0b3IiLCJkaXNjcmltaW5hdG9yVmFsdWUiLCJvcHRpb25zTWFwIiwiZGlzY3JpbWluYXRvclZhbHVlcyIsIm1lcmdlVmFsdWVzIiwiYVR5cGUiLCJiVHlwZSIsImJLZXlzIiwic2hhcmVkS2V5cyIsIm5ld09iaiIsInNoYXJlZFZhbHVlIiwibmV3QXJyYXkiLCJpdGVtQSIsIml0ZW1CIiwiaGFuZGxlUGFyc2VkIiwicGFyc2VkTGVmdCIsInBhcnNlZFJpZ2h0IiwiaXRlbUluZGV4Iiwic2NoZW1hcyIsIlpvZFJlY29yZCIsInZhbHVlVHlwZSIsInRoaXJkIiwiWm9kTWFwIiwiZmluYWxNYXAiLCJab2RTZXQiLCJmaW5hbGl6ZVNldCIsInBhcnNlZFNldCIsIm1pblNpemUiLCJtYXhTaXplIiwiWm9kRnVuY3Rpb24iLCJtYWtlQXJnc0lzc3VlIiwibWFrZVJldHVybnNJc3N1ZSIsInJldHVybnMiLCJtZSIsInBhcnNlZEFyZ3MiLCJwYXJzZWRSZXR1cm5zIiwicmV0dXJuVHlwZSIsImdldHRlciIsImV4cGVjdGVkVmFsdWVzIiwiZW51bVZhbHVlcyIsIm9wdCIsIm5hdGl2ZUVudW1WYWx1ZXMiLCJwcm9taXNpZmllZCIsImVmZmVjdCIsImNoZWNrQ3R4IiwicHJvY2Vzc2VkIiwiZXhlY3V0ZVJlZmluZW1lbnQiLCJpbm5lciIsImJhc2UiLCJwcmVwcm9jZXNzIiwibmV3Q3R4IiwiWm9kTmFOIiwiaW5SZXN1bHQiLCJjdXN0b20iLCJmYXRhbCIsIl9mYXRhbCIsInAyIiwiaW5zdGFuY2VPZlR5cGUiLCJjbHMiLCJzdHJpbmdUeXBlIiwibnVtYmVyVHlwZSIsIm5hblR5cGUiLCJiaWdJbnRUeXBlIiwiYm9vbGVhblR5cGUiLCJkYXRlVHlwZSIsInN5bWJvbFR5cGUiLCJ1bmRlZmluZWRUeXBlIiwibnVsbFR5cGUiLCJhbnlUeXBlIiwidW5rbm93blR5cGUiLCJuZXZlclR5cGUiLCJ2b2lkVHlwZSIsImFycmF5VHlwZSIsIm9iamVjdFR5cGUiLCJzdHJpY3RPYmplY3RUeXBlIiwidW5pb25UeXBlIiwiZGlzY3JpbWluYXRlZFVuaW9uVHlwZSIsImludGVyc2VjdGlvblR5cGUiLCJ0dXBsZVR5cGUiLCJyZWNvcmRUeXBlIiwibWFwVHlwZSIsInNldFR5cGUiLCJmdW5jdGlvblR5cGUiLCJsYXp5VHlwZSIsImxpdGVyYWxUeXBlIiwiZW51bVR5cGUiLCJuYXRpdmVFbnVtVHlwZSIsInByb21pc2VUeXBlIiwiZWZmZWN0c1R5cGUiLCJvcHRpb25hbFR5cGUiLCJudWxsYWJsZVR5cGUiLCJwcmVwcm9jZXNzVHlwZSIsInBpcGVsaW5lVHlwZSIsIm9zdHJpbmciLCJvbnVtYmVyIiwib2Jvb2xlYW4iLCJfX2NyZWF0ZUJpbmRpbmciLCJrMiIsIl9fZXhwb3J0U3RhciIsInJlcXVpcmUkJDUiLCJfX3NldE1vZHVsZURlZmF1bHQiLCJfX2ltcG9ydFN0YXIiLCJ6IiwiYW55IiwicGFyc2VBbnlEZWYiLCJlcnJvck1lc3NhZ2VzIiwiYWRkRXJyb3JNZXNzYWdlIiwicmVmcyIsInNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMiLCJ6b2RfMSIsImVycm9yTWVzc2FnZXNfMSIsInBhcnNlRGVmXzEiLCJwYXJzZUFycmF5RGVmIiwiYmlnaW50IiwicGFyc2VCaWdpbnREZWYiLCJib29sZWFuIiwicGFyc2VCb29sZWFuRGVmIiwiYnJhbmRlZCIsInBhcnNlQnJhbmRlZERlZiIsIl9kZWYiLCJfY2F0Y2giLCJwYXJzZUNhdGNoRGVmIiwicGFyc2VEYXRlRGVmIiwiaW50ZWdlckRhdGVQYXJzZXIiLCJwYXJzZURlZmF1bHREZWYiLCJlZmZlY3RzIiwicGFyc2VFZmZlY3RzRGVmIiwiX2VudW0iLCJwYXJzZUVudW1EZWYiLCJfX3Jlc3QiLCJpbnRlcnNlY3Rpb24iLCJpc0pzb25TY2hlbWE3QWxsT2ZUeXBlIiwicGFyc2VJbnRlcnNlY3Rpb25EZWYiLCJhbGxPZiIsInVuZXZhbHVhdGVkUHJvcGVydGllcyIsIm1lcmdlZEFsbE9mIiwibmVzdGVkU2NoZW1hIiwibGl0ZXJhbCIsInBhcnNlTGl0ZXJhbERlZiIsInBhcnNlZFR5cGUiLCJwYXJzZU1hcERlZiIsIm5hdGl2ZUVudW0iLCJwYXJzZU5hdGl2ZUVudW1EZWYiLCJhY3R1YWxWYWx1ZXMiLCJwYXJzZWRUeXBlcyIsIm5ldmVyIiwicGFyc2VOZXZlckRlZiIsIl9udWxsIiwicGFyc2VOdWxsRGVmIiwicGFyc2VVbmlvbkRlZiIsImFzQW55T2YiLCJ1bmlxdWVUeXBlcyIsImFueU9mIiwibnVsbGFibGUiLCJ1bmlvbl8xIiwicGFyc2VOdWxsYWJsZURlZiIsInBhcnNlTnVtYmVyRGVmIiwicGFyc2VPYmplY3REZWZYIiwiaXNPcHRpb25hbCIsInByb3BTY2hlbWEiLCJwcm9wTmFtZSIsInByb3BEZWYiLCJwYXJzZWREZWYiLCJwYXJzZU9iamVjdERlZiIsIm9wdGlvbmFsIiwicGFyc2VPcHRpb25hbERlZiIsImlubmVyU2NoZW1hIiwicGlwZWxpbmUiLCJwYXJzZVBpcGVsaW5lRGVmIiwicGFyc2VQcm9taXNlRGVmIiwicGFyc2VTdHJpbmdEZWYiLCJhZGRGb3JtYXQiLCJhZGRQYXR0ZXJuIiwiZXNjYXBlTm9uQWxwaGFOdW1lcmljIiwic3RyaW5nXzEiLCJwYXJzZVJlY29yZERlZiIsInBhcnNlU2V0RGVmIiwidHVwbGUiLCJwYXJzZVR1cGxlRGVmIiwiX3VuZGVmaW5lZCIsInBhcnNlVW5kZWZpbmVkRGVmIiwidW5rbm93biIsInBhcnNlVW5rbm93bkRlZiIsImFueV8xIiwiYXJyYXlfMSIsImJpZ2ludF8xIiwiYm9vbGVhbl8xIiwiYnJhbmRlZF8xIiwiY2F0Y2hfMSIsInJlcXVpcmUkJDYiLCJkYXRlXzEiLCJyZXF1aXJlJCQ3IiwiZGVmYXVsdF8xIiwicmVxdWlyZSQkOCIsImVmZmVjdHNfMSIsInJlcXVpcmUkJDkiLCJlbnVtXzEiLCJyZXF1aXJlJCQxMCIsImludGVyc2VjdGlvbl8xIiwicmVxdWlyZSQkMTEiLCJsaXRlcmFsXzEiLCJyZXF1aXJlJCQxMiIsIm1hcF8xIiwicmVxdWlyZSQkMTMiLCJuYXRpdmVFbnVtXzEiLCJyZXF1aXJlJCQxNCIsIm5ldmVyXzEiLCJyZXF1aXJlJCQxNSIsIm51bGxfMSIsInJlcXVpcmUkJDE2IiwibnVsbGFibGVfMSIsInJlcXVpcmUkJDE3IiwibnVtYmVyXzEiLCJyZXF1aXJlJCQxOCIsInJlcXVpcmUkJDE5Iiwib3B0aW9uYWxfMSIsInJlcXVpcmUkJDIwIiwicGlwZWxpbmVfMSIsInJlcXVpcmUkJDIxIiwicHJvbWlzZV8xIiwicmVxdWlyZSQkMjIiLCJyZWNvcmRfMSIsInJlcXVpcmUkJDIzIiwic2V0XzEiLCJyZXF1aXJlJCQyNCIsInJlcXVpcmUkJDI1IiwidHVwbGVfMSIsInJlcXVpcmUkJDI2IiwidW5kZWZpbmVkXzEiLCJyZXF1aXJlJCQyNyIsInJlcXVpcmUkJDI4IiwidW5rbm93bl8xIiwicmVxdWlyZSQkMjkiLCJwYXJzZURlZiIsImZvcmNlUmVzb2x1dGlvbiIsInNlZW5JdGVtIiwic2VlblNjaGVtYSIsImdldCRyZWYiLCJuZXdJdGVtIiwianNvblNjaGVtYSIsInNlbGVjdFBhcnNlciIsImFkZE1ldGEiLCJnZXRSZWxhdGl2ZVBhdGgiLCJwYXRoQSIsInBhdGhCIiwidHlwZU5hbWUiLCJnZXREZWZhdWx0T3B0aW9ucyIsIlJlZnMiLCJPcHRpb25zXzEiLCJnZXRSZWZzIiwiY3VycmVudFBhdGgiLCJ6b2RUb0pzb25TY2hlbWFfMSIsIlJlZnNfMSIsInpvZFRvSnNvblNjaGVtYSIsImRlZmluaXRpb25zIiwibWFpbiIsImNvbWJpbmVkIiwiZm9ybWF0VG9PcGVuQUlGdW5jdGlvbiIsIkJhc2VDaGF0TW9kZWwiLCJfbWVzc2FnZXMiLCJiYXNlTWVzc2FnZXMiLCJtZXNzYWdlTGlzdCIsImxsbU91dHB1dHMiLCJwUmVzdWx0IiwiYmFzZU1lc3NhZ2UiLCJwcm9tcHRNZXNzYWdlcyIsImV4dHJhY3RHZW5lcmljTWVzc2FnZUN1c3RvbVJvbGUiLCJtZXNzYWdlVG9PcGVuQUlSb2xlIiwib3BlbkFJUmVzcG9uc2VUb0NoYXRNZXNzYWdlIiwiX2NvbnZlcnREZWx0YVRvTWVzc2FnZUNodW5rIiwiZGVmYXVsdFJvbGUiLCJhZGRpdGlvbmFsX2t3YXJncyIsIkNoYXRPcGVuQUkiLCJtZXNzYWdlc01hcHBlZCIsInN0cmVhbUl0ZXJhYmxlIiwiZmluYWxDaHVua3MiLCJhS2V5IiwiYktleSIsInRvdGFsQ291bnQiLCJ0b2tlbnNQZXJNZXNzYWdlIiwidG9rZW5zUGVyTmFtZSIsImNvdW50UGVyTWVzc2FnZSIsInRleHRDb3VudCIsInJvbGVDb3VudCIsIm5hbWVDb3VudCJdLCJtYXBwaW5ncyI6ImtXQUNPLFNBQVNBLElBQU8sQ0FBRSxDQVdsQixTQUFTQyxHQUFPQyxFQUFLQyxFQUFLLENBRWhDLFVBQVdDLEtBQUtELEVBQUtELEVBQUlFLENBQUMsRUFBSUQsRUFBSUMsQ0FBQyxFQUNuQyxPQUE2QkYsQ0FDOUIsQ0F1Qk8sU0FBU0csR0FBSUMsRUFBSSxDQUN2QixPQUFPQSxFQUFF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QUFVLENBQUMsRUFBRSxTQUFTLFVBQVUsQ0FBQyxPQUFPbWIsRUFBRSxTQUFTLENBQUMsRUFBRSxPQUFPLFVBQVUsQ0FBQyxPQUFPQSxFQUFFLE9BQU8sQ0FBQyxFQUFFLE1BQU0sVUFBVSxDQUFDLE9BQU9BLEVBQUUsTUFBTSxDQUFDLEVBQUUsS0FBSyxVQUFVLENBQUMsT0FBT0EsRUFBRSxLQUFLLENBQUMsRUFBRSxLQUFLLFVBQVUsQ0FBQyxPQUFPQSxFQUFFLEtBQUssQ0FBQyxFQUFFLEtBQUssVUFBVSxDQUFDLE9BQU9BLEVBQUUsS0FBSyxDQUFDLEVBQUUsYUFBYSxVQUFVLENBQUMsT0FBT0EsRUFBRSxhQUFhLENBQUMsRUFBRSxlQUFlLFVBQVUsQ0FBQyxPQUFPQSxFQUFFLGVBQWUsQ0FBQyxFQUFFLFlBQVksVUFBVSxDQUFDLE9BQU9BLEVBQUUsWUFBWSxDQUFDLEVBQUUsTUFBTSxVQUFVLENBQUMsT0FBT0EsRUFBRSxNQUFNLENBQUMsRUFBRSxTQUFTLFVBQVUsQ0FBQyxPQUFPQSxFQUFFLFNBQVMsQ0FBQyxFQUFFLFlBQVksVUFBVSxDQUFDLE9BQU9BLEVBQUUsWUFBWSxDQUFDLEVBQUUsWUFBWSxVQUFVLENBQUMsT0FBT0EsRUFBRSxZQUFZLENBQUMsRUFBRSxVQUFVLFVBQVUsQ0FBQyxPQUFPQSxFQUFFLFVBQVUsQ0FBQyxFQUFFLFFBQVEsVUFBVSxDQUFDLE9BQU9BLEVBQUUsUUFBUSxDQUFDLEVBQUUsU0FBUyxVQUFVLENBQUMsT0FBT0EsRUFBRSxTQUFTLENBQUMsRUFBRSxTQUFTLFVBQVUsQ0FBQyxPQUFPQSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTM3NCLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxHQUFHLE1BQU0sU0FBU3dSLEVBQUUsQ0FBQyxLQUFLLEtBQUtBLENBQUMsRUFBRSxJQUFJLFNBQVNBLEVBQUUsQ0FBQyxLQUFLLEtBQUtBLENBQUMsRUFBRSxLQUFLLFVBQVUsQ0FBQyxPQUFPLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQzNZLEVBQUUsY0FBYyxTQUFTMlksRUFBRVosRUFBRW5nQixFQUFFLENBQUMsT0FBZ0JBLElBQVQsU0FBYUEsRUFBRW1nQixFQUFFQSxFQUFFLENBQUUsR0FBRXNLLEVBQUV0SyxFQUFFK2IsRUFBRW5iLEVBQUVaLENBQUMsRUFBRW5nQixDQUFDLEVBQUUsU0FBUytnQixDQUFDLENBQUMsQ0FBQyxHQUFFLEtBQUssS0FBS3NiLEVBQUUsUUFBUSxFQUFlLE9BQU8sS0FBcEIsSUFBeUIsS0FBa0IsT0FBTyxPQUFwQixJQUEyQixPQUFPLENBQUEsRUFBR0EsRUFBRSxRQUFRLEVBQUUsT0FBTyxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxvQkFBb0IsR0FBRyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLFNBQVN0YixFQUFFWixFQUFFc0ssRUFBRSxFQUFFLFNBQVMxSixFQUFFWixFQUFFbmdCLEVBQUUwdkIsRUFBRTN2QixFQUFFbkYsRUFBRXNoQyxFQUFFQyxFQUFFN2lDLEVBQUUsRUFBRSxTQUFTeW5CLEVBQUUsQ0FBYyxJQUFJem5CLEVBQWUsT0FBTyxXQUFwQixJQUErQixXQUFXLE1BQU02bUIsRUFBRSxJQUFJLFdBQVcsQ0FBQyxFQUFFbmdCLEVBQUUsSUFBSSxXQUFXLENBQUMsRUFBRTB2QixFQUFFLElBQUksV0FBVyxDQUFDLEVBQUUzdkIsRUFBRSxJQUFJLFdBQVcsQ0FBQyxFQUFFbkYsRUFBRSxJQUFJLFdBQVcsQ0FBQyxFQUFFc2hDLEVBQUUsSUFBSSxXQUFXLENBQUMsRUFBRUMsRUFBRSxJQUFJLFdBQVcsQ0FBQyxFQUFFLFNBQVMxUixFQUFFMUosRUFBRSxDQUFDLE9BQUFBLEVBQUVBLEVBQUUsV0FBVyxDQUFDLEVBQVNBLElBQUlaLEdBQUdZLElBQUltYixFQUFFLEdBQUduYixJQUFJL2dCLEdBQUcrZ0IsSUFBSW9iLEVBQUUsR0FBR3BiLEVBQUUyTyxFQUFFLEdBQUczTyxFQUFFMk8sRUFBRSxHQUFHM08sRUFBRTJPLEVBQUUsR0FBRyxHQUFHM08sRUFBRW5tQixFQUFFLEdBQUdtbUIsRUFBRW5tQixFQUFFbW1CLEVBQUVoaEIsRUFBRSxHQUFHZ2hCLEVBQUVoaEIsRUFBRSxHQUFHLE1BQU0sQ0FBQ2doQixFQUFFLFlBQVksU0FBU0EsRUFBRSxDQUFDLElBQUlaLEVBQUVuZ0IsRUFBRSxHQUFHLEVBQUUrZ0IsRUFBRSxPQUFPLEVBQUUsTUFBTSxJQUFJLE1BQU0sZ0RBQWdELEVBQUUsSUFBSTJPLEVBQUUzTyxFQUFFLE9BQU8yTyxFQUFRM08sRUFBRSxPQUFPMk8sRUFBRSxDQUFDLElBQWxCLElBQW9CLEVBQVEzTyxFQUFFLE9BQU8yTyxFQUFFLENBQUMsSUFBbEIsSUFBb0IsRUFBRSxFQUFFM3ZCLEVBQUUsSUFBSXpHLEVBQUUsRUFBRXluQixFQUFFLE9BQU8sRUFBRTJPLENBQUMsRUFBRTkwQixFQUFFLEVBQUU4MEIsRUFBRTNPLEVBQUUsT0FBTyxFQUFFQSxFQUFFLE9BQU9tYixFQUFFLEVBQUUsU0FBU0MsRUFBRXBiLEVBQUUsQ0FBQ2hoQixFQUFFbThCLEdBQUcsRUFBRW5iLENBQUMsQ0FBQyxJQUFJWixFQUFFLEVBQUVBLEVBQUV2bEIsRUFBRXVsQixHQUFHLEVBQUUsRUFBRWdjLEdBQUcsVUFBVW44QixFQUFFeXFCLEVBQUUxSixFQUFFLE9BQU9aLENBQUMsQ0FBQyxHQUFHLEdBQUdzSyxFQUFFMUosRUFBRSxPQUFPWixFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUdzSyxFQUFFMUosRUFBRSxPQUFPWixFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUVzSyxFQUFFMUosRUFBRSxPQUFPWixFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRWdjLEdBQUcsTUFBTW44QixJQUFJLENBQUMsRUFBRW04QixFQUFFLElBQUluOEIsQ0FBQyxFQUFFLE9BQVUwdkIsR0FBSCxFQUFLeU0sRUFBRSxLQUFLbjhCLEVBQUV5cUIsRUFBRTFKLEVBQUUsT0FBT1osQ0FBQyxDQUFDLEdBQUcsRUFBRXNLLEVBQUUxSixFQUFFLE9BQU9aLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFLdVAsR0FBSCxJQUFPeU0sR0FBR244QixFQUFFeXFCLEVBQUUxSixFQUFFLE9BQU9aLENBQUMsQ0FBQyxHQUFHLEdBQUdzSyxFQUFFMUosRUFBRSxPQUFPWixFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUVzSyxFQUFFMUosRUFBRSxPQUFPWixFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxHQUFHLEVBQUVnYyxFQUFFLElBQUluOEIsQ0FBQyxHQUFHRCxDQUFDLEVBQUVnaEIsRUFBRSxjQUFjLFNBQVNBLEVBQUUsQ0FBQyxJQUFJWixFQUFFbmdCLEVBQUUwdkIsRUFBRTN2QixFQUFFbkYsRUFBRW1tQixFQUFFLE9BQU8sRUFBRW1iLEVBQUUsR0FBRyxTQUFTQyxFQUFFcGIsRUFBRSxDQUFDLE1BQU0sbUVBQW1FLE9BQU9BLENBQUMsQ0FBQyxDQUFDLElBQUlaLEVBQUUsRUFBRXVQLEVBQUUzTyxFQUFFLE9BQU9ubUIsRUFBRXVsQixFQUFFdVAsRUFBRXZQLEdBQUcsRUFBRW5nQixHQUFHK2dCLEVBQUVaLENBQUMsR0FBRyxLQUFLWSxFQUFFWixFQUFFLENBQUMsR0FBRyxHQUFHWSxFQUFFWixFQUFFLENBQUMsRUFBRStiLEdBQUdDLEdBQUdwOEIsRUFBRUMsSUFBSSxHQUFHLEVBQUUsRUFBRW04QixFQUFFcDhCLEdBQUcsR0FBRyxFQUFFLEVBQUVvOEIsRUFBRXA4QixHQUFHLEVBQUUsRUFBRSxFQUFFbzhCLEVBQUUsR0FBR3A4QixDQUFDLEVBQUUsT0FBT25GLEVBQUcsQ0FBQSxJQUFLLEdBQUVzaEMsR0FBR0EsR0FBR0MsR0FBR244QixFQUFFK2dCLEVBQUVBLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHb2IsRUFBRW44QixHQUFHLEVBQUUsRUFBRSxFQUFFLEtBQUssTUFBTSxJQUFLLEdBQUVrOEIsR0FBR0EsR0FBR0EsR0FBR0MsR0FBR244QixHQUFHK2dCLEVBQUVBLEVBQUUsT0FBTyxDQUFDLEdBQUcsR0FBR0EsRUFBRUEsRUFBRSxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUdvYixFQUFFbjhCLEdBQUcsRUFBRSxFQUFFLEdBQUdtOEIsRUFBRW44QixHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQyxPQUFPazhCLENBQUMsQ0FBQyxHQUFXelIsSUFBVCxPQUFXLEtBQUssU0FBUyxDQUFFLEVBQUNBLENBQUMsQ0FBQyxHQUFFLEtBQUssS0FBSzFKLEVBQUUsUUFBUSxFQUFlLE9BQU8sS0FBcEIsSUFBeUIsS0FBa0IsT0FBTyxPQUFwQixJQUEyQixPQUFPLEdBQUdBLEVBQUUsUUFBUSxFQUFFLE9BQU8sVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsa0VBQWtFLDBEQUEwRCxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsU0FBUzBiLEVBQUUxYixFQUFFMmIsRUFBRSxFQUFFLFNBQVMzYixFQUFFL2dCLEVBQUV5cUIsRUFBRWlGLEVBQUVsUyxFQUFFbFAsRUFBRWl1QixFQUFFQyxFQUFFSCxFQUFFLENBQUMsSUFBSS9pQyxFQUFFbWpDLEVBQUUsV0FBVyxFQUFFN2hDLEVBQUU2aEMsRUFBRSxTQUFTLEVBQUUsU0FBU2hTLEVBQUUxSixFQUFFWixFQUFFbmdCLEVBQUUsQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCeXFCLEdBQUcsT0FBTyxJQUFJQSxFQUFFMUosRUFBRVosRUFBRW5nQixDQUFDLEVBQUUsSUFBSTB2QixFQUFFM3ZCLEVBQUVuRixFQUFFc2hDLEdBQUVDLEdBQUUsT0FBT3BiLEVBQUUsR0FBY1osSUFBWCxVQUF3QmdjLElBQVYsU0FBWSxJQUFJcGIsR0FBR21iLEdBQUVuYixHQUFHLEtBQUttYixHQUFFLEtBQU0sRUFBQ0EsR0FBRSxRQUFRLGFBQWEsRUFBRSxFQUFFbmIsRUFBRSxPQUFPLEdBQUcsR0FBR0EsR0FBRyxJQUFJLEdBQWFvYixJQUFWLFNBQVl6TSxFQUFFM2YsRUFBRWdSLENBQUMsVUFBb0JvYixJQUFWLFNBQVl6TSxFQUFFakYsRUFBRSxXQUFXMUosRUFBRVosQ0FBQyxNQUFNLENBQUMsR0FBYWdjLElBQVYsU0FBWSxNQUFNLElBQUksTUFBTSx1REFBdUQsRUFBRXpNLEVBQUUzZixFQUFFZ1IsRUFBRSxNQUFNLENBQUMsQ0FBQyxHQUFHMEosRUFBRSxnQkFBZ0IxcUIsRUFBRTBxQixFQUFFLFNBQVMsSUFBSSxXQUFXaUYsQ0FBQyxDQUFDLElBQUkzdkIsRUFBRSxNQUFNLE9BQU8ydkIsRUFBRTN2QixFQUFFLFVBQVUsSUFBSTBxQixFQUFFLGlCQUEyQixPQUFPMUosRUFBRSxZQUFuQixTQUE4QmhoQixFQUFFLEtBQUtnaEIsQ0FBQyxVQUFVNGIsRUFBRVQsR0FBRW5iLENBQUMsR0FBRzBKLEVBQUUsU0FBU3lSLEVBQUMsR0FBR0EsSUFBYSxPQUFPQSxJQUFqQixVQUE4QixPQUFPQSxHQUFFLFFBQW5CLFNBQTBCLElBQUl0aEMsRUFBRSxFQUFFQSxFQUFFODBCLEVBQUU5MEIsSUFBSTZ2QixFQUFFLFNBQVMxSixDQUFDLEVBQUVoaEIsRUFBRW5GLENBQUMsRUFBRW1tQixFQUFFLFVBQVVubUIsQ0FBQyxFQUFFbUYsRUFBRW5GLENBQUMsRUFBRW1tQixFQUFFbm1CLENBQUMsVUFBb0J1aEMsSUFBVixTQUFZcDhCLEVBQUUsTUFBTWdoQixFQUFFLEVBQUVaLENBQUMsVUFBb0JnYyxJQUFWLFVBQWEsQ0FBQzFSLEVBQUUsaUJBQWlCLENBQUN6cUIsRUFBRSxJQUFJcEYsRUFBRSxFQUFFQSxFQUFFODBCLEVBQUU5MEIsSUFBSW1GLEVBQUVuRixDQUFDLEVBQUUsRUFBRSxPQUFPbUYsQ0FBQyxDQUFDLFNBQVN4RyxFQUFFd25CLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFLENBQUMsT0FBT2pGLEVBQUUsY0FBY2hzQixFQUFFLFNBQVNzaUIsRUFBRSxDQUFDLFFBQVFaLEVBQUUsQ0FBRSxFQUFDbmdCLEdBQUUsRUFBRUEsR0FBRStnQixFQUFFLE9BQU8vZ0IsS0FBSW1nQixFQUFFLEtBQUssSUFBSVksRUFBRSxXQUFXL2dCLEVBQUMsQ0FBQyxFQUFFLE9BQU9tZ0IsQ0FBQyxFQUFFQSxDQUFDLEVBQUVZLEVBQUUvZ0IsRUFBRTB2QixDQUFDLENBQUMsQ0FBQyxTQUFTdG5CLEVBQUUyWSxFQUFFWixFQUFFbmdCLEVBQUUwdkIsRUFBRSxDQUFDLE9BQU9qRixFQUFFLGNBQWNoc0IsRUFBRSxTQUFTc2lCLEVBQUUsQ0FBQyxRQUFRWixFQUFFbmdCLEdBQUUwdkIsR0FBRSxDQUFBLEVBQUczdkIsR0FBRSxFQUFFQSxHQUFFZ2hCLEVBQUUsT0FBT2hoQixLQUFJQyxHQUFFK2dCLEVBQUUsV0FBV2hoQixFQUFDLEVBQUVvZ0IsRUFBRW5nQixJQUFHLEVBQUVBLEdBQUVBLEdBQUUsSUFBSTB2QixHQUFFLEtBQUsxdkIsRUFBQyxFQUFFMHZCLEdBQUUsS0FBS3ZQLENBQUMsRUFBRSxPQUFPdVAsRUFBQyxFQUFFdlAsQ0FBQyxFQUFFWSxFQUFFL2dCLEVBQUUwdkIsQ0FBQyxDQUFDLENBQUMsU0FBUzhMLEVBQUV6YSxFQUFFWixFQUFFbmdCLEVBQUUsQ0FBQyxJQUFJMHZCLEVBQUUsR0FBRzF2QixFQUFFLEtBQUssSUFBSStnQixFQUFFLE9BQU8vZ0IsQ0FBQyxFQUFFLFFBQVFELEVBQUVvZ0IsRUFBRXBnQixFQUFFQyxFQUFFRCxJQUFJMnZCLEdBQUcsT0FBTyxhQUFhM08sRUFBRWhoQixDQUFDLENBQUMsRUFBRSxPQUFPMnZCLENBQUMsQ0FBQyxTQUFTM3ZCLEVBQUVnaEIsRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUsQ0FBQ0EsSUFBSTRNLEVBQWEsT0FBT3Q4QixHQUFsQixVQUFvQiwyQkFBMkIsRUFBRXM4QixFQUFRbmMsR0FBTixLQUFRLGdCQUFnQixFQUFFbWMsRUFBRW5jLEVBQUUsRUFBRVksRUFBRSxPQUFPLHFDQUFxQyxHQUFHLElBQUloaEIsRUFBRTJ2QixFQUFFM08sRUFBRSxPQUFPLEdBQUcsRUFBRTJPLEdBQUd2UCxHQUFHLE9BQU9uZ0IsR0FBR0QsRUFBRWdoQixFQUFFWixDQUFDLEVBQUVBLEVBQUUsRUFBRXVQLElBQUkzdkIsR0FBR2doQixFQUFFWixFQUFFLENBQUMsR0FBRyxLQUFLcGdCLEVBQUVnaEIsRUFBRVosQ0FBQyxHQUFHLEVBQUVBLEVBQUUsRUFBRXVQLElBQUkzdkIsR0FBR2doQixFQUFFWixFQUFFLENBQUMsSUFBSXBnQixDQUFDLENBQUMsU0FBU204QixFQUFFbmIsRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUsQ0FBQ0EsSUFBSTRNLEVBQWEsT0FBT3Q4QixHQUFsQixVQUFvQiwyQkFBMkIsRUFBRXM4QixFQUFRbmMsR0FBTixLQUFRLGdCQUFnQixFQUFFbWMsRUFBRW5jLEVBQUUsRUFBRVksRUFBRSxPQUFPLHFDQUFxQyxHQUFHLElBQUloaEIsRUFBRTJ2QixFQUFFM08sRUFBRSxPQUFPLEdBQUcsRUFBRTJPLEdBQUd2UCxHQUFHLE9BQU9uZ0IsR0FBR21nQixFQUFFLEVBQUV1UCxJQUFJM3ZCLEVBQUVnaEIsRUFBRVosRUFBRSxDQUFDLEdBQUcsSUFBSUEsRUFBRSxFQUFFdVAsSUFBSTN2QixHQUFHZ2hCLEVBQUVaLEVBQUUsQ0FBQyxHQUFHLEdBQUdwZ0IsR0FBR2doQixFQUFFWixDQUFDLEVBQUVBLEVBQUUsRUFBRXVQLElBQUkzdkIsR0FBR2doQixFQUFFWixFQUFFLENBQUMsR0FBRyxLQUFLLEtBQUtBLEVBQUUsRUFBRXVQLElBQUkzdkIsRUFBRWdoQixFQUFFWixFQUFFLENBQUMsR0FBRyxJQUFJQSxFQUFFLEVBQUV1UCxJQUFJM3ZCLEdBQUdnaEIsRUFBRVosRUFBRSxDQUFDLEdBQUcsR0FBR0EsRUFBRSxFQUFFdVAsSUFBSTN2QixHQUFHZ2hCLEVBQUVaLEVBQUUsQ0FBQyxHQUFHcGdCLEdBQUdnaEIsRUFBRVosQ0FBQyxHQUFHLEtBQUssR0FBR3BnQixDQUFDLENBQUMsU0FBU21JLEVBQUU2WSxFQUFFWixFQUFFbmdCLEVBQUUwdkIsRUFBRSxDQUFDLEdBQUdBLElBQUk0TSxFQUFhLE9BQU90OEIsR0FBbEIsVUFBb0IsMkJBQTJCLEVBQUVzOEIsRUFBUW5jLEdBQU4sS0FBUSxnQkFBZ0IsRUFBRW1jLEVBQUVuYyxFQUFFLEVBQUVZLEVBQUUsT0FBTyxxQ0FBcUMsR0FBRyxFQUFFQSxFQUFFLFFBQVFaLEdBQUcsT0FBT3VQLEVBQUUzdkIsRUFBRWdoQixFQUFFWixFQUFFbmdCLEVBQUUsRUFBRSxFQUFFLE1BQU0wdkIsRUFBRSxJQUFJLE1BQU1BLEVBQUUsR0FBR0EsQ0FBQyxDQUFDLFNBQVNrTixFQUFFN2IsRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUsQ0FBQyxHQUFHQSxJQUFJNE0sRUFBYSxPQUFPdDhCLEdBQWxCLFVBQW9CLDJCQUEyQixFQUFFczhCLEVBQVFuYyxHQUFOLEtBQVEsZ0JBQWdCLEVBQUVtYyxFQUFFbmMsRUFBRSxFQUFFWSxFQUFFLE9BQU8scUNBQXFDLEdBQUcsRUFBRUEsRUFBRSxRQUFRWixHQUFHLE9BQU91UCxFQUFFd00sRUFBRW5iLEVBQUVaLEVBQUVuZ0IsRUFBRSxFQUFFLEVBQUUsV0FBVzB2QixFQUFFLElBQUksV0FBV0EsRUFBRSxHQUFHQSxDQUFDLENBQUMsU0FBU21OLEVBQUU5YixFQUFFWixFQUFFbmdCLEVBQUUwdkIsRUFBRSxDQUFDLE9BQU9BLElBQUk0TSxFQUFhLE9BQU90OEIsR0FBbEIsVUFBb0IsMkJBQTJCLEVBQUVzOEIsRUFBRW5jLEVBQUUsRUFBRVksRUFBRSxPQUFPLHFDQUFxQyxHQUFHbm1CLEVBQUUsS0FBS21tQixFQUFFWixFQUFFbmdCLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUrZ0IsRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUsQ0FBQyxPQUFPQSxJQUFJNE0sRUFBYSxPQUFPdDhCLEdBQWxCLFVBQW9CLDJCQUEyQixFQUFFczhCLEVBQUVuYyxFQUFFLEVBQUVZLEVBQUUsT0FBTyxxQ0FBcUMsR0FBR25tQixFQUFFLEtBQUttbUIsRUFBRVosRUFBRW5nQixFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsU0FBU204QixFQUFFcGIsRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUzdkIsRUFBRSxDQUE2TCxHQUE1TEEsSUFBSXU4QixFQUFRbmMsR0FBTixLQUFRLGVBQWUsRUFBRW1jLEVBQWEsT0FBTzVNLEdBQWxCLFVBQW9CLDJCQUEyQixFQUFFNE0sRUFBUXQ4QixHQUFOLEtBQVEsZ0JBQWdCLEVBQUVzOEIsRUFBRXQ4QixFQUFFLEVBQUUrZ0IsRUFBRSxPQUFPLHNDQUFzQyxFQUFFK2IsR0FBRTNjLEVBQUUsS0FBSyxHQUFHcGdCLEVBQUVnaEIsRUFBRSxPQUFVLEVBQUVoaEIsR0FBR0MsR0FBRyxRQUFRcEYsRUFBRSxFQUFFc2hDLEdBQUUsS0FBSyxJQUFJbjhCLEVBQUVDLEVBQUUsQ0FBQyxFQUFFcEYsRUFBRXNoQyxHQUFFdGhDLElBQUltbUIsRUFBRS9nQixFQUFFcEYsQ0FBQyxHQUFHdWxCLEVBQUUsS0FBSyxHQUFHdVAsRUFBRTkwQixFQUFFLEVBQUVBLE1BQU0sR0FBRzgwQixFQUFFOTBCLEVBQUUsRUFBRUEsRUFBRSxDQUFDLFNBQVMyVSxFQUFFd1IsRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUzdkIsRUFBRSxDQUFrTSxHQUFqTUEsSUFBSXU4QixFQUFRbmMsR0FBTixLQUFRLGVBQWUsRUFBRW1jLEVBQWEsT0FBTzVNLEdBQWxCLFVBQW9CLDJCQUEyQixFQUFFNE0sRUFBUXQ4QixHQUFOLEtBQVEsZ0JBQWdCLEVBQUVzOEIsRUFBRXQ4QixFQUFFLEVBQUUrZ0IsRUFBRSxPQUFPLHNDQUFzQyxFQUFFK2IsR0FBRTNjLEVBQUUsVUFBVSxHQUFHcGdCLEVBQUVnaEIsRUFBRSxPQUFVLEVBQUVoaEIsR0FBR0MsR0FBRyxRQUFRcEYsRUFBRSxFQUFFc2hDLEdBQUUsS0FBSyxJQUFJbjhCLEVBQUVDLEVBQUUsQ0FBQyxFQUFFcEYsRUFBRXNoQyxHQUFFdGhDLElBQUltbUIsRUFBRS9nQixFQUFFcEYsQ0FBQyxFQUFFdWxCLElBQUksR0FBR3VQLEVBQUU5MEIsRUFBRSxFQUFFQSxHQUFHLEdBQUcsQ0FBQyxTQUFTbWlDLEVBQUVoYyxFQUFFWixFQUFFbmdCLEVBQUUwdkIsRUFBRTN2QixFQUFFLENBQUNBLElBQUl1OEIsRUFBUW5jLEdBQU4sS0FBUSxlQUFlLEVBQUVtYyxFQUFhLE9BQU81TSxHQUFsQixVQUFvQiwyQkFBMkIsRUFBRTRNLEVBQVF0OEIsR0FBTixLQUFRLGdCQUFnQixFQUFFczhCLEVBQUV0OEIsRUFBRSxFQUFFK2dCLEVBQUUsT0FBTyxzQ0FBc0MsRUFBRWljLEdBQUU3YyxFQUFFLE1BQU0sTUFBTSxHQUFHWSxFQUFFLFFBQVEvZ0IsR0FBR204QixFQUFFcGIsRUFBRSxHQUFHWixFQUFFQSxFQUFFLE1BQU1BLEVBQUUsRUFBRW5nQixFQUFFMHZCLEVBQUUzdkIsQ0FBQyxDQUFDLENBQUMsU0FBU2s5QixFQUFFbGMsRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUzdkIsRUFBRSxDQUFDQSxJQUFJdThCLEVBQVFuYyxHQUFOLEtBQVEsZUFBZSxFQUFFbWMsRUFBYSxPQUFPNU0sR0FBbEIsVUFBb0IsMkJBQTJCLEVBQUU0TSxFQUFRdDhCLEdBQU4sS0FBUSxnQkFBZ0IsRUFBRXM4QixFQUFFdDhCLEVBQUUsRUFBRStnQixFQUFFLE9BQU8sc0NBQXNDLEVBQUVpYyxHQUFFN2MsRUFBRSxXQUFXLFdBQVcsR0FBR1ksRUFBRSxRQUFRL2dCLEdBQUd1UCxFQUFFd1IsRUFBRSxHQUFHWixFQUFFQSxFQUFFLFdBQVdBLEVBQUUsRUFBRW5nQixFQUFFMHZCLEVBQUUzdkIsQ0FBQyxDQUFDLENBQUMsU0FBU205QixFQUFFbmMsRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUzdkIsRUFBRSxDQUFDQSxJQUFJdThCLEVBQVFuYyxHQUFOLEtBQVEsZUFBZSxFQUFFbWMsRUFBYSxPQUFPNU0sR0FBbEIsVUFBb0IsMkJBQTJCLEVBQUU0TSxFQUFRdDhCLEdBQU4sS0FBUSxnQkFBZ0IsRUFBRXM4QixFQUFFdDhCLEVBQUUsRUFBRStnQixFQUFFLE9BQU8sc0NBQXNDLEVBQUVvYyxHQUFFaGQsRUFBRSxxQkFBcUIscUJBQXFCLEdBQUdZLEVBQUUsUUFBUS9nQixHQUFHcEYsRUFBRSxNQUFNbW1CLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsU0FBU3BuQixFQUFFeVksRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUzdkIsRUFBRSxDQUFDQSxJQUFJdThCLEVBQVFuYyxHQUFOLEtBQVEsZUFBZSxFQUFFbWMsRUFBYSxPQUFPNU0sR0FBbEIsVUFBb0IsMkJBQTJCLEVBQUU0TSxFQUFRdDhCLEdBQU4sS0FBUSxnQkFBZ0IsRUFBRXM4QixFQUFFdDhCLEVBQUUsRUFBRStnQixFQUFFLE9BQU8sc0NBQXNDLEVBQUVvYyxHQUFFaGQsRUFBRSxzQkFBc0Isc0JBQXNCLEdBQUdZLEVBQUUsUUFBUS9nQixHQUFHcEYsRUFBRSxNQUFNbW1CLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUNnTixFQUFFLE9BQU9qUyxFQUFFaVMsRUFBRSxXQUFXalMsRUFBRWlTLEVBQUUsa0JBQWtCLEdBQUdqUyxFQUFFLFNBQVMsS0FBS0EsRUFBRSxnQkFBZ0IsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJMUosRUFBRSxJQUFJLFlBQVksQ0FBQyxFQUFFWixFQUFFLElBQUksV0FBV1ksQ0FBQyxFQUFFLE9BQU9aLEVBQUUsSUFBSSxVQUFVLENBQUMsTUFBTyxHQUFFLEVBQU9BLEVBQUUsSUFBRyxJQUFWLElBQTBCLE9BQU9BLEVBQUUsVUFBckIsVUFBNkIsTUFBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUcsRUFBQ3NLLEVBQUUsV0FBVyxTQUFTMUosRUFBRSxDQUFDLE9BQU8sT0FBT0EsQ0FBQyxFQUFFLFlBQVcsRUFBSSxDQUFBLElBQUksTUFBTSxJQUFJLE9BQU8sSUFBSSxRQUFRLElBQUksUUFBUSxJQUFJLFNBQVMsSUFBSSxTQUFTLElBQUksTUFBTSxJQUFJLE9BQU8sSUFBSSxRQUFRLElBQUksVUFBVSxJQUFJLFdBQVcsTUFBTSxHQUFHLFFBQVEsTUFBTSxFQUFFLENBQUMsRUFBRTBKLEVBQUUsU0FBUyxTQUFTMUosRUFBRSxDQUFDLE1BQU0sRUFBUUEsR0FBTixNQUFTLENBQUNBLEVBQUUsVUFBVSxFQUFFMEosRUFBRSxXQUFXLFNBQVMxSixFQUFFWixFQUFFLENBQUMsSUFBSW5nQixFQUFFLE9BQU8rZ0IsR0FBRyxHQUFHWixHQUFHLE9BQVEsQ0FBQSxJQUFJLE1BQU1uZ0IsRUFBRStnQixFQUFFLE9BQU8sRUFBRSxNQUFNLElBQUksT0FBTyxJQUFJLFFBQVEvZ0IsRUFBRW85QixHQUFFcmMsQ0FBQyxFQUFFLE9BQU8sTUFBTSxJQUFJLFFBQVEsSUFBSSxTQUFTLElBQUksTUFBTS9nQixFQUFFK2dCLEVBQUUsT0FBTyxNQUFNLElBQUksU0FBUy9nQixFQUFFcTlCLEdBQUV0YyxDQUFDLEVBQUUsT0FBTyxNQUFNLElBQUksT0FBTyxJQUFJLFFBQVEsSUFBSSxVQUFVLElBQUksV0FBVy9nQixFQUFFLEVBQUUrZ0IsRUFBRSxPQUFPLE1BQU0sUUFBUSxNQUFNLElBQUksTUFBTSxrQkFBa0IsQ0FBQyxDQUFDLE9BQU8vZ0IsQ0FBQyxFQUFFeXFCLEVBQUUsT0FBTyxTQUFTMUosRUFBRVosRUFBRSxDQUFDLEdBQUdtYyxFQUFFSyxFQUFFNWIsQ0FBQyxFQUFFO0FBQUEseUJBQXFFLEVBQU1BLEVBQUUsU0FBTixFQUFhLE9BQU8sSUFBSTBKLEVBQUUsQ0FBQyxFQUFFLEdBQU8xSixFQUFFLFNBQU4sRUFBYSxPQUFPQSxFQUFFLENBQUMsRUFBRSxHQUFhLE9BQU9aLEdBQWpCLFNBQW1CLElBQUlwZ0IsRUFBRW9nQixFQUFFLEVBQUVwZ0IsRUFBRWdoQixFQUFFLE9BQU9oaEIsSUFBSW9nQixHQUFHWSxFQUFFaGhCLENBQUMsRUFBRSxPQUFPLFFBQVFDLEVBQUUsSUFBSXlxQixFQUFFdEssQ0FBQyxFQUFFdVAsRUFBRSxFQUFFM3ZCLEVBQUUsRUFBRUEsRUFBRWdoQixFQUFFLE9BQU9oaEIsSUFBSSxDQUFDLElBQUluRixFQUFFbW1CLEVBQUVoaEIsQ0FBQyxFQUFFbkYsRUFBRSxLQUFLb0YsRUFBRTB2QixDQUFDLEVBQUVBLEdBQUc5MEIsRUFBRSxNQUFNLENBQUMsT0FBT29GLENBQUMsRUFBRXlxQixFQUFFLFVBQVUsTUFBTSxTQUFTMUosRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUsQ0FBQyxTQUFTdlAsQ0FBQyxFQUFFLFNBQVNuZ0IsQ0FBQyxJQUFJMHZCLEVBQUUxdkIsRUFBRUEsRUFBRSxTQUFTMUcsR0FBRW8yQixFQUFFQSxFQUFFdlAsRUFBRUEsRUFBRW5nQixFQUFFQSxFQUFFMUcsSUFBRzZtQixFQUFFLE9BQU9BLENBQUMsR0FBRyxFQUFFLElBQUlwZ0IsRUFBRW5GLEVBQUVzaEMsR0FBRUMsR0FBRTdpQyxHQUFFLEtBQUssT0FBTzZtQixFQUFFLFFBQVEsQ0FBQ25nQixHQUFHMUcsSUFBRzBHLEVBQUUsT0FBT0EsQ0FBQyxNQUFNQSxFQUFFMUcsSUFBR28yQixFQUFFLE9BQU9BLEdBQUcsTUFBTSxFQUFFLFlBQVcsRUFBSSxDQUFBLElBQUksTUFBTTN2QixFQUFFLFNBQVNnaEIsR0FBRVosR0FBRW5nQixHQUFFMHZCLEVBQUUsQ0FBQzF2QixHQUFFLE9BQU9BLEVBQUMsR0FBRyxFQUFFLElBQUlELEdBQUVnaEIsR0FBRSxPQUFPL2dCLElBQUcsQ0FBQzB2QixHQUFHM3ZCLElBQUcydkIsRUFBRSxPQUFPQSxDQUFDLE1BQU1BLEVBQUUzdkIsSUFBR3U4QixHQUFHdjhCLEdBQUVvZ0IsR0FBRSxRQUFRLEdBQUcsRUFBRSxvQkFBb0IsRUFBRXBnQixHQUFFLEVBQUUydkIsSUFBSUEsRUFBRTN2QixHQUFFLEdBQUcsUUFBUW5GLEdBQUUsRUFBRUEsR0FBRTgwQixFQUFFOTBCLEtBQUksQ0FBQyxJQUFJc2hDLEdBQUUsU0FBUy9iLEdBQUUsT0FBTyxFQUFFdmxCLEdBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTBoQyxFQUFFLENBQUMsTUFBTUosRUFBQyxFQUFFLG9CQUFvQixFQUFFbmIsR0FBRS9nQixHQUFFcEYsRUFBQyxFQUFFc2hDLEVBQUMsQ0FBQyxPQUFPelIsRUFBRSxjQUFjLEVBQUU3dkIsR0FBRUEsRUFBQyxFQUFFLEtBQUttbUIsRUFBRVosRUFBRW5nQixDQUFDLEVBQUUsTUFBTSxJQUFJLE9BQU8sSUFBSSxRQUFRcEYsRUFBRSxLQUFLc2hDLEdBQUUvYixFQUFFZ2MsR0FBRW44QixFQUFFRCxFQUFFMHFCLEVBQUUsY0FBY2hzQixFQUFFMitCLEdBQUVyYyxDQUFDLEVBQUVubUIsRUFBRXNoQyxHQUFFQyxFQUFDLEVBQUUsTUFBTSxJQUFJLFFBQVEsSUFBSSxTQUFTcDhCLEVBQUV4RyxFQUFFLEtBQUt3bkIsRUFBRVosRUFBRW5nQixDQUFDLEVBQUUsTUFBTSxJQUFJLFNBQVNwRixFQUFFLEtBQUtzaEMsR0FBRS9iLEVBQUVnYyxHQUFFbjhCLEVBQUVELEVBQUUwcUIsRUFBRSxjQUFjaHNCLEVBQUU0K0IsR0FBRXRjLENBQUMsRUFBRW5tQixFQUFFc2hDLEdBQUVDLEVBQUMsRUFBRSxNQUFNLElBQUksT0FBTyxJQUFJLFFBQVEsSUFBSSxVQUFVLElBQUksV0FBV3A4QixFQUFFcUksRUFBRSxLQUFLMlksRUFBRVosRUFBRW5nQixDQUFDLEVBQUUsTUFBTSxRQUFRLE1BQU0sSUFBSSxNQUFNLGtCQUFrQixDQUFDLENBQUMsT0FBT0QsQ0FBQyxFQUFFMHFCLEVBQUUsVUFBVSxTQUFTLFNBQVMxSixFQUFFWixFQUFFbmdCLEVBQUUsQ0FBQyxJQUFJMHZCLEVBQUUzdkIsRUFBRW5GLEVBQUVzaEMsR0FBRUMsR0FBRSxLQUFLLEdBQUdwYixFQUFFLE9BQU9BLEdBQUcsTUFBTSxFQUFFLFlBQVcsRUFBR1osRUFBRSxPQUFPQSxDQUFDLEdBQUcsR0FBR25nQixFQUFXQSxJQUFULE9BQVcsT0FBT0EsQ0FBQyxFQUFFbThCLEdBQUUsVUFBVWhjLEVBQUUsTUFBTSxHQUFHLE9BQU9ZLEVBQUMsQ0FBRSxJQUFJLE1BQU0yTyxFQUFFLFNBQVMzTyxHQUFFWixHQUFFbmdCLEdBQUUsQ0FBQyxJQUFJMHZCLEdBQUUzTyxHQUFFLFFBQVEsQ0FBQ1osSUFBR0EsR0FBRSxLQUFLQSxHQUFFLElBQUksQ0FBQ25nQixJQUFHQSxHQUFFLEdBQUcwdkIsR0FBRTF2QixNQUFLQSxHQUFFMHZCLElBQUcsUUFBUTN2QixFQUFFLEdBQUduRixHQUFFdWxCLEdBQUV2bEIsR0FBRW9GLEdBQUVwRixLQUFJbUYsR0FBR2xILEdBQUVrb0IsR0FBRW5tQixFQUFDLENBQUMsRUFBRSxPQUFPbUYsQ0FBQyxFQUFFbzhCLEdBQUVoYyxFQUFFbmdCLENBQUMsRUFBRSxNQUFNLElBQUksT0FBTyxJQUFJLFFBQVEwdkIsRUFBRSxTQUFTM08sR0FBRVosR0FBRW5nQixHQUFFLENBQUMsSUFBSTB2QixHQUFFLEdBQUczdkIsRUFBRSxHQUFHQyxHQUFFLEtBQUssSUFBSStnQixHQUFFLE9BQU8vZ0IsRUFBQyxFQUFFLFFBQVFwRixHQUFFdWxCLEdBQUV2bEIsR0FBRW9GLEdBQUVwRixLQUFJbW1CLEdBQUVubUIsRUFBQyxHQUFHLEtBQUs4MEIsSUFBRzROLEdBQUV2OUIsQ0FBQyxFQUFFLE9BQU8sYUFBYWdoQixHQUFFbm1CLEVBQUMsQ0FBQyxFQUFFbUYsRUFBRSxJQUFJQSxHQUFHLElBQUlnaEIsR0FBRW5tQixFQUFDLEVBQUUsU0FBUyxFQUFFLEVBQUUsT0FBTzgwQixHQUFFNE4sR0FBRXY5QixDQUFDLENBQUMsRUFBRW84QixHQUFFaGMsRUFBRW5nQixDQUFDLEVBQUUsTUFBTSxJQUFJLFFBQVEsSUFBSSxTQUFTMHZCLEVBQUU4TCxFQUFFVyxHQUFFaGMsRUFBRW5nQixDQUFDLEVBQUUsTUFBTSxJQUFJLFNBQVNELEVBQUVvOEIsR0FBRUQsR0FBRWw4QixFQUFFMHZCLEdBQU85MEIsRUFBRXVsQixLQUFQLEdBQVcrYixLQUFJbjhCLEVBQUUsT0FBT3pHLEVBQUUsY0FBY3lHLENBQUMsRUFBRXpHLEVBQUUsY0FBY3lHLEVBQUUsTUFBTW5GLEVBQUVzaEMsRUFBQyxDQUFDLEVBQUUsTUFBTSxJQUFJLE9BQU8sSUFBSSxRQUFRLElBQUksVUFBVSxJQUFJLFdBQVd4TSxFQUFFLFNBQVMzTyxHQUFFWixHQUFFbmdCLEdBQUUsQ0FBQyxRQUFRMHZCLEdBQUUzTyxHQUFFLE1BQU1aLEdBQUVuZ0IsRUFBQyxFQUFFRCxFQUFFLEdBQUduRixHQUFFLEVBQUVBLEdBQUU4MEIsR0FBRSxPQUFPOTBCLElBQUcsRUFBRW1GLEdBQUcsT0FBTyxhQUFhMnZCLEdBQUU5MEIsRUFBQyxFQUFFLElBQUk4MEIsR0FBRTkwQixHQUFFLENBQUMsQ0FBQyxFQUFFLE9BQU9tRixDQUFDLEVBQUVvOEIsR0FBRWhjLEVBQUVuZ0IsQ0FBQyxFQUFFLE1BQU0sUUFBUSxNQUFNLElBQUksTUFBTSxrQkFBa0IsQ0FBQyxDQUFDLE9BQU8wdkIsQ0FBQyxFQUFFakYsRUFBRSxVQUFVLE9BQU8sVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLFNBQVMsS0FBSyxNQUFNLFVBQVUsTUFBTSxLQUFLLEtBQUssTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUVBLEVBQUUsVUFBVSxLQUFLLFNBQVMxSixFQUFFWixFQUFFbmdCLEVBQUUwdkIsRUFBRSxDQUFDLEdBQUd2UCxFQUFFQSxHQUFHLEdBQUd1UCxFQUFFQSxHQUFPQSxJQUFKLEVBQU1BLEVBQUUsS0FBSyxXQUFXMXZCLEVBQUVBLEdBQUcsSUFBUStnQixFQUFFLFNBQU4sR0FBa0IsS0FBSyxTQUFULEVBQWdCLENBQUN1YixFQUFFdDhCLEdBQUcwdkIsRUFBRSx5QkFBeUIsRUFBRTRNLEVBQUUsR0FBR25jLEdBQUdBLEVBQUVZLEVBQUUsT0FBTywyQkFBMkIsRUFBRXViLEVBQUUsR0FBR3Q4QixHQUFHQSxFQUFFLEtBQUssT0FBTywyQkFBMkIsRUFBRXM4QixFQUFFLEdBQUc1TSxHQUFHQSxHQUFHLEtBQUssT0FBTyx5QkFBeUIsRUFBRUEsRUFBRSxLQUFLLFNBQVNBLEVBQUUsS0FBSyxRQUFRLElBQUkzdkIsR0FBRzJ2QixFQUFFM08sRUFBRSxPQUFPWixFQUFFdVAsRUFBRTF2QixFQUFFK2dCLEVBQUUsT0FBT1osRUFBRW5nQixFQUFFMHZCLEdBQUcxdkIsRUFBRSxHQUFHRCxFQUFFLEtBQUssQ0FBQzBxQixFQUFFLGdCQUFnQixRQUFRN3ZCLEVBQUUsRUFBRUEsRUFBRW1GLEVBQUVuRixJQUFJbW1CLEVBQUVubUIsRUFBRXVsQixDQUFDLEVBQUUsS0FBS3ZsQixFQUFFb0YsQ0FBQyxPQUFPK2dCLEVBQUUsS0FBSyxLQUFLLFNBQVMvZ0IsRUFBRUEsRUFBRUQsQ0FBQyxFQUFFb2dCLENBQUMsQ0FBQyxDQUFDLEVBQUVzSyxFQUFFLFVBQVUsTUFBTSxTQUFTMUosRUFBRVosRUFBRSxDQUFDLElBQUluZ0IsRUFBRSxLQUFLLE9BQU8sR0FBRytnQixFQUFFd2MsRUFBRXhjLEVBQUUvZ0IsRUFBRSxDQUFDLEVBQUVtZ0IsRUFBRW9kLEVBQUVwZCxFQUFFbmdCLEVBQUVBLENBQUMsRUFBRXlxQixFQUFFLGdCQUFnQixPQUFPQSxFQUFFLFNBQVMsS0FBSyxTQUFTMUosRUFBRVosQ0FBQyxDQUFDLEVBQUUsUUFBUXVQLEVBQUV2UCxFQUFFWSxFQUFFaGhCLEVBQUUsSUFBSTBxQixFQUFFaUYsRUFBRSxPQUFPLEVBQUUsRUFBRTkwQixFQUFFLEVBQUVBLEVBQUU4MEIsRUFBRTkwQixJQUFJbUYsRUFBRW5GLENBQUMsRUFBRSxLQUFLQSxFQUFFbW1CLENBQUMsRUFBRSxPQUFPaGhCLENBQUMsRUFBRTBxQixFQUFFLFVBQVUsSUFBSSxTQUFTMUosRUFBRSxDQUFDLE9BQU8sUUFBUSxJQUFJLDJEQUEyRCxFQUFFLEtBQUssVUFBVUEsQ0FBQyxDQUFDLEVBQUUwSixFQUFFLFVBQVUsSUFBSSxTQUFTMUosRUFBRVosRUFBRSxDQUFDLE9BQU8sUUFBUSxJQUFJLDJEQUEyRCxFQUFFLEtBQUssV0FBV1ksRUFBRVosQ0FBQyxDQUFDLEVBQUVzSyxFQUFFLFVBQVUsVUFBVSxTQUFTMUosRUFBRVosRUFBRSxDQUFDLEdBQUdBLElBQUltYyxFQUFRdmIsR0FBTixLQUFRLGdCQUFnQixFQUFFdWIsRUFBRXZiLEVBQUUsS0FBSyxPQUFPLHFDQUFxQyxHQUFHLEVBQUVBLEdBQUcsS0FBSyxRQUFRLE9BQU8sS0FBS0EsQ0FBQyxDQUFDLEVBQUUwSixFQUFFLFVBQVUsYUFBYSxTQUFTMUosRUFBRVosRUFBRSxDQUFDLE9BQU9wZ0IsRUFBRSxLQUFLZ2hCLEVBQUUsR0FBR1osQ0FBQyxDQUFDLEVBQUVzSyxFQUFFLFVBQVUsYUFBYSxTQUFTMUosRUFBRVosRUFBRSxDQUFDLE9BQU9wZ0IsRUFBRSxLQUFLZ2hCLEVBQUUsR0FBR1osQ0FBQyxDQUFDLEVBQUVzSyxFQUFFLFVBQVUsYUFBYSxTQUFTMUosRUFBRVosRUFBRSxDQUFDLE9BQU8rYixFQUFFLEtBQUtuYixFQUFFLEdBQUdaLENBQUMsQ0FBQyxFQUFFc0ssRUFBRSxVQUFVLGFBQWEsU0FBUzFKLEVBQUVaLEVBQUUsQ0FBQyxPQUFPK2IsRUFBRSxLQUFLbmIsRUFBRSxHQUFHWixDQUFDLENBQUMsRUFBRXNLLEVBQUUsVUFBVSxTQUFTLFNBQVMxSixFQUFFWixFQUFFLENBQUMsR0FBR0EsSUFBSW1jLEVBQVF2YixHQUFOLEtBQVEsZ0JBQWdCLEVBQUV1YixFQUFFdmIsRUFBRSxLQUFLLE9BQU8scUNBQXFDLEdBQUcsRUFBRUEsR0FBRyxLQUFLLFFBQVEsTUFBTyxLQUFJLEtBQUtBLENBQUMsRUFBRSxJQUFJLElBQUksS0FBS0EsQ0FBQyxFQUFFLEdBQUcsS0FBS0EsQ0FBQyxDQUFDLEVBQUUwSixFQUFFLFVBQVUsWUFBWSxTQUFTMUosRUFBRVosRUFBRSxDQUFDLE9BQU9qWSxFQUFFLEtBQUs2WSxFQUFFLEdBQUdaLENBQUMsQ0FBQyxFQUFFc0ssRUFBRSxVQUFVLFlBQVksU0FBUzFKLEVBQUVaLEVBQUUsQ0FBQyxPQUFPalksRUFBRSxLQUFLNlksRUFBRSxHQUFHWixDQUFDLENBQUMsRUFBRXNLLEVBQUUsVUFBVSxZQUFZLFNBQVMxSixFQUFFWixFQUFFLENBQUMsT0FBT3ljLEVBQUUsS0FBSzdiLEVBQUUsR0FBR1osQ0FBQyxDQUFDLEVBQUVzSyxFQUFFLFVBQVUsWUFBWSxTQUFTMUosRUFBRVosRUFBRSxDQUFDLE9BQU95YyxFQUFFLEtBQUs3YixFQUFFLEdBQUdaLENBQUMsQ0FBQyxFQUFFc0ssRUFBRSxVQUFVLFlBQVksU0FBUzFKLEVBQUVaLEVBQUUsQ0FBQyxPQUFPMGMsRUFBRSxLQUFLOWIsRUFBRSxHQUFHWixDQUFDLENBQUMsRUFBRXNLLEVBQUUsVUFBVSxZQUFZLFNBQVMxSixFQUFFWixFQUFFLENBQUMsT0FBTzBjLEVBQUUsS0FBSzliLEVBQUUsR0FBR1osQ0FBQyxDQUFDLEVBQUVzSyxFQUFFLFVBQVUsYUFBYSxTQUFTMUosRUFBRVosRUFBRSxDQUFDLE9BQU8sRUFBRSxLQUFLWSxFQUFFLEdBQUdaLENBQUMsQ0FBQyxFQUFFc0ssRUFBRSxVQUFVLGFBQWEsU0FBUzFKLEVBQUVaLEVBQUUsQ0FBQyxPQUFPLEVBQUUsS0FBS1ksRUFBRSxHQUFHWixDQUFDLENBQUMsRUFBRXNLLEVBQUUsVUFBVSxXQUFXLFNBQVMxSixFQUFFWixFQUFFbmdCLEVBQUUsQ0FBQ0EsSUFBSXM4QixFQUFRdmIsR0FBTixLQUFRLGVBQWUsRUFBRXViLEVBQVFuYyxHQUFOLEtBQVEsZ0JBQWdCLEVBQUVtYyxFQUFFbmMsRUFBRSxLQUFLLE9BQU8sc0NBQXNDLEVBQUUyYyxHQUFFL2IsRUFBRSxHQUFHLEdBQUdaLEdBQUcsS0FBSyxTQUFTLEtBQUtBLENBQUMsRUFBRVksRUFBRSxFQUFFMEosRUFBRSxVQUFVLGNBQWMsU0FBUzFKLEVBQUVaLEVBQUVuZ0IsRUFBRSxDQUFDbThCLEVBQUUsS0FBS3BiLEVBQUVaLEVBQUUsR0FBR25nQixDQUFDLENBQUMsRUFBRXlxQixFQUFFLFVBQVUsY0FBYyxTQUFTMUosRUFBRVosRUFBRW5nQixFQUFFLENBQUNtOEIsRUFBRSxLQUFLcGIsRUFBRVosRUFBRSxHQUFHbmdCLENBQUMsQ0FBQyxFQUFFeXFCLEVBQUUsVUFBVSxjQUFjLFNBQVMxSixFQUFFWixFQUFFbmdCLEVBQUUsQ0FBQ3VQLEVBQUUsS0FBS3dSLEVBQUVaLEVBQUUsR0FBR25nQixDQUFDLENBQUMsRUFBRXlxQixFQUFFLFVBQVUsY0FBYyxTQUFTMUosRUFBRVosRUFBRW5nQixFQUFFLENBQUN1UCxFQUFFLEtBQUt3UixFQUFFWixFQUFFLEdBQUduZ0IsQ0FBQyxDQUFDLEVBQUV5cUIsRUFBRSxVQUFVLFVBQVUsU0FBUzFKLEVBQUVaLEVBQUVuZ0IsRUFBRSxDQUFDQSxJQUFJczhCLEVBQVF2YixHQUFOLEtBQVEsZUFBZSxFQUFFdWIsRUFBUW5jLEdBQU4sS0FBUSxnQkFBZ0IsRUFBRW1jLEVBQUVuYyxFQUFFLEtBQUssT0FBTyxzQ0FBc0MsRUFBRTZjLEdBQUVqYyxFQUFFLElBQUksSUFBSSxHQUFHWixHQUFHLEtBQUssU0FBUyxHQUFHWSxFQUFFLEtBQUssV0FBV0EsRUFBRVosRUFBRW5nQixDQUFDLEVBQUUsS0FBSyxXQUFXLElBQUkrZ0IsRUFBRSxFQUFFWixFQUFFbmdCLENBQUMsRUFBRSxFQUFFeXFCLEVBQUUsVUFBVSxhQUFhLFNBQVMxSixFQUFFWixFQUFFbmdCLEVBQUUsQ0FBQys4QixFQUFFLEtBQUtoYyxFQUFFWixFQUFFLEdBQUduZ0IsQ0FBQyxDQUFDLEVBQUV5cUIsRUFBRSxVQUFVLGFBQWEsU0FBUzFKLEVBQUVaLEVBQUVuZ0IsRUFBRSxDQUFDKzhCLEVBQUUsS0FBS2hjLEVBQUVaLEVBQUUsR0FBR25nQixDQUFDLENBQUMsRUFBRXlxQixFQUFFLFVBQVUsYUFBYSxTQUFTMUosRUFBRVosRUFBRW5nQixFQUFFLENBQUNpOUIsRUFBRSxLQUFLbGMsRUFBRVosRUFBRSxHQUFHbmdCLENBQUMsQ0FBQyxFQUFFeXFCLEVBQUUsVUFBVSxhQUFhLFNBQVMxSixFQUFFWixFQUFFbmdCLEVBQUUsQ0FBQ2k5QixFQUFFLEtBQUtsYyxFQUFFWixFQUFFLEdBQUduZ0IsQ0FBQyxDQUFDLEVBQUV5cUIsRUFBRSxVQUFVLGFBQWEsU0FBUzFKLEVBQUVaLEVBQUVuZ0IsRUFBRSxDQUFDazlCLEVBQUUsS0FBS25jLEVBQUVaLEVBQUUsR0FBR25nQixDQUFDLENBQUMsRUFBRXlxQixFQUFFLFVBQVUsYUFBYSxTQUFTMUosRUFBRVosRUFBRW5nQixFQUFFLENBQUNrOUIsRUFBRSxLQUFLbmMsRUFBRVosRUFBRSxHQUFHbmdCLENBQUMsQ0FBQyxFQUFFeXFCLEVBQUUsVUFBVSxjQUFjLFNBQVMxSixFQUFFWixFQUFFbmdCLEVBQUUsQ0FBQ3NJLEVBQUUsS0FBS3lZLEVBQUVaLEVBQUUsR0FBR25nQixDQUFDLENBQUMsRUFBRXlxQixFQUFFLFVBQVUsY0FBYyxTQUFTMUosRUFBRVosRUFBRW5nQixFQUFFLENBQUNzSSxFQUFFLEtBQUt5WSxFQUFFWixFQUFFLEdBQUduZ0IsQ0FBQyxDQUFDLEVBQUV5cUIsRUFBRSxVQUFVLEtBQUssU0FBUzFKLEVBQUVaLEVBQUVuZ0IsRUFBRSxDQUFDLEdBQUdtZ0IsRUFBRUEsR0FBRyxFQUFFbmdCLEVBQUVBLEdBQUcsS0FBSyxPQUFPczhCLEVBQVksT0FBT3ZiLEVBQVksT0FBT0EsRUFBRUEsR0FBRyxJQUF0QixTQUF5QkEsRUFBRSxXQUFXLENBQUMsRUFBRUEsSUFBNUQsVUFBZ0UsQ0FBQyxNQUFNQSxDQUFDLEVBQUUsdUJBQXVCLEVBQUV1YixFQUFFbmMsR0FBR25nQixFQUFFLGFBQWEsRUFBRUEsSUFBSW1nQixHQUFPLEtBQUssU0FBVCxFQUFnQixDQUFDbWMsRUFBRSxHQUFHbmMsR0FBR0EsRUFBRSxLQUFLLE9BQU8scUJBQXFCLEVBQUVtYyxFQUFFLEdBQUd0OEIsR0FBR0EsR0FBRyxLQUFLLE9BQU8sbUJBQW1CLEVBQUUsUUFBUTB2QixFQUFFdlAsRUFBRXVQLEVBQUUxdkIsRUFBRTB2QixJQUFJLEtBQUtBLENBQUMsRUFBRTNPLENBQUMsQ0FBQyxFQUFFMEosRUFBRSxVQUFVLFFBQVEsVUFBVSxDQUFDLFFBQVExSixFQUFFLENBQUEsRUFBR1osRUFBRSxLQUFLLE9BQU9uZ0IsRUFBRSxFQUFFQSxFQUFFbWdCLEVBQUVuZ0IsSUFBSSxHQUFHK2dCLEVBQUUvZ0IsQ0FBQyxFQUFFbkgsR0FBRSxLQUFLbUgsQ0FBQyxDQUFDLEVBQUVBLElBQUkwOEIsRUFBRSxrQkFBa0IsQ0FBQzNiLEVBQUUvZ0IsRUFBRSxDQUFDLEVBQUUsTUFBTSxLQUFLLENBQUMsTUFBTSxXQUFXK2dCLEVBQUUsS0FBSyxHQUFHLEVBQUUsR0FBRyxFQUFFMEosRUFBRSxVQUFVLGNBQWMsVUFBVSxDQUFDLEdBQWdCLE9BQU8sV0FBcEIsSUFBK0IsTUFBTSxJQUFJLE1BQU0sb0RBQW9ELEVBQUUsR0FBR0EsRUFBRSxnQkFBZ0IsT0FBTyxJQUFJQSxFQUFFLElBQUksRUFBRSxPQUFPLFFBQVExSixFQUFFLElBQUksV0FBVyxLQUFLLE1BQU0sRUFBRVosRUFBRSxFQUFFbmdCLEVBQUUrZ0IsRUFBRSxPQUFPWixFQUFFbmdCLEVBQUVtZ0IsR0FBRyxFQUFFWSxFQUFFWixDQUFDLEVBQUUsS0FBS0EsQ0FBQyxFQUFFLE9BQU9ZLEVBQUUsTUFBTSxFQUFFLElBQUlaLEVBQUVzSyxFQUFFLFVBQVUsU0FBUzhTLEVBQUV4YyxFQUFFWixFQUFFbmdCLEVBQUUsQ0FBQyxPQUFnQixPQUFPK2dCLEdBQWpCLFNBQW1CL2dCLEVBQUVtZ0IsSUFBSVksRUFBRSxDQUFDLENBQUNBLEdBQUdaLEVBQUUsR0FBR1ksR0FBRyxJQUFJQSxHQUFHWixHQUFHWSxFQUFFLENBQUMsQ0FBQyxTQUFTaFIsRUFBRWdSLEVBQUUsQ0FBQyxPQUFPQSxFQUFFLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQ0EsQ0FBQyxHQUFHLEVBQUUsRUFBRUEsQ0FBQyxDQUFDLFNBQVM0YixFQUFFNWIsRUFBRSxDQUFDLE9BQU8sTUFBTSxTQUFTLFNBQVNBLEVBQUUsQ0FBQyxPQUF5QixPQUFPLFVBQVUsU0FBUyxLQUFLQSxDQUFDLElBQW5ELGdCQUFvRCxHQUFHQSxDQUFDLENBQUMsQ0FBQyxTQUFTbG9CLEdBQUVrb0IsRUFBRSxDQUFDLE9BQU9BLEVBQUUsR0FBRyxJQUFJQSxFQUFFLFNBQVMsRUFBRSxFQUFFQSxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUMsU0FBU3FjLEdBQUVyYyxFQUFFLENBQUMsUUFBUVosRUFBRSxDQUFBLEVBQUduZ0IsRUFBRSxFQUFFQSxFQUFFK2dCLEVBQUUsT0FBTy9nQixJQUFJLENBQUMsSUFBSTB2QixFQUFFM08sRUFBRSxXQUFXL2dCLENBQUMsRUFBRSxHQUFHMHZCLEdBQUcsSUFBSXZQLEVBQUUsS0FBS1ksRUFBRSxXQUFXL2dCLENBQUMsQ0FBQyxNQUFPLFNBQVFELEVBQUVDLEVBQUVwRixHQUFHLE9BQU84MEIsR0FBR0EsR0FBRyxPQUFPMXZCLElBQUksbUJBQW1CK2dCLEVBQUUsTUFBTWhoQixFQUFFQyxFQUFFLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxFQUFFLE1BQU0sR0FBRyxHQUFHazhCLEdBQUUsRUFBRUEsR0FBRXRoQyxFQUFFLE9BQU9zaEMsS0FBSS9iLEVBQUUsS0FBSyxTQUFTdmxCLEVBQUVzaEMsRUFBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTy9iLENBQUMsQ0FBQyxTQUFTa2QsR0FBRXRjLEVBQUUsQ0FBQyxPQUFPem5CLEVBQUUsWUFBWXluQixDQUFDLENBQUMsQ0FBQyxTQUFTdGlCLEVBQUVzaUIsRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUsQ0FBQyxRQUFRM3ZCLEVBQUUsRUFBRUEsRUFBRTJ2QixHQUFHLEVBQUUzdkIsRUFBRUMsR0FBR21nQixFQUFFLFFBQVFwZ0IsR0FBR2doQixFQUFFLFFBQVFoaEIsSUFBSW9nQixFQUFFcGdCLEVBQUVDLENBQUMsRUFBRStnQixFQUFFaGhCLENBQUMsRUFBRSxPQUFPQSxDQUFDLENBQUMsU0FBU3U5QixHQUFFdmMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxPQUFPLG1CQUFtQkEsQ0FBQyxDQUFDLE1BQVMsQ0FBQyxPQUFPLE9BQU8sYUFBYSxLQUFLLENBQUMsQ0FBQyxDQUFDLFNBQVMrYixHQUFFL2IsRUFBRVosRUFBRSxDQUFDbWMsRUFBWSxPQUFPdmIsR0FBakIsU0FBbUIsdUNBQXVDLEVBQUV1YixFQUFFLEdBQUd2YixFQUFFLDBEQUEwRCxFQUFFdWIsRUFBRXZiLEdBQUdaLEVBQUUsNkNBQTZDLEVBQUVtYyxFQUFFLEtBQUssTUFBTXZiLENBQUMsSUFBSUEsRUFBRSxrQ0FBa0MsQ0FBQyxDQUFDLFNBQVNpYyxHQUFFamMsRUFBRVosRUFBRW5nQixFQUFFLENBQUNzOEIsRUFBWSxPQUFPdmIsR0FBakIsU0FBbUIsdUNBQXVDLEVBQUV1YixFQUFFdmIsR0FBR1osRUFBRSx5Q0FBeUMsRUFBRW1jLEVBQUV0OEIsR0FBRytnQixFQUFFLDBDQUEwQyxFQUFFdWIsRUFBRSxLQUFLLE1BQU12YixDQUFDLElBQUlBLEVBQUUsa0NBQWtDLENBQUMsQ0FBQyxTQUFTb2MsR0FBRXBjLEVBQUVaLEVBQUVuZ0IsRUFBRSxDQUFDczhCLEVBQVksT0FBT3ZiLEdBQWpCLFNBQW1CLHVDQUF1QyxFQUFFdWIsRUFBRXZiLEdBQUdaLEVBQUUseUNBQXlDLEVBQUVtYyxFQUFFdDhCLEdBQUcrZ0IsRUFBRSwwQ0FBMEMsQ0FBQyxDQUFDLFNBQVN1YixFQUFFdmIsRUFBRVosRUFBRSxDQUFDLEdBQUcsQ0FBQ1ksRUFBRSxNQUFNLElBQUksTUFBTVosR0FBRyxrQkFBa0IsQ0FBQyxDQUFDc0ssRUFBRSxTQUFTLFNBQVMxSixFQUFFLENBQUMsT0FBT0EsRUFBRSxVQUFVLEdBQUdBLEVBQUUsS0FBS0EsRUFBRSxJQUFJQSxFQUFFLEtBQUtBLEVBQUUsSUFBSUEsRUFBRSxJQUFJWixFQUFFLElBQUlZLEVBQUUsSUFBSVosRUFBRSxJQUFJWSxFQUFFLE1BQU1aLEVBQUUsTUFBTVksRUFBRSxTQUFTWixFQUFFLFNBQVNZLEVBQUUsZUFBZVosRUFBRSxTQUFTWSxFQUFFLE9BQU9aLEVBQUUsT0FBT1ksRUFBRSxLQUFLWixFQUFFLEtBQUtZLEVBQUUsTUFBTVosRUFBRSxNQUFNWSxFQUFFLFVBQVVaLEVBQUUsVUFBVVksRUFBRSxhQUFhWixFQUFFLGFBQWFZLEVBQUUsYUFBYVosRUFBRSxhQUFhWSxFQUFFLGFBQWFaLEVBQUUsYUFBYVksRUFBRSxhQUFhWixFQUFFLGFBQWFZLEVBQUUsU0FBU1osRUFBRSxTQUFTWSxFQUFFLFlBQVlaLEVBQUUsWUFBWVksRUFBRSxZQUFZWixFQUFFLFlBQVlZLEVBQUUsWUFBWVosRUFBRSxZQUFZWSxFQUFFLFlBQVlaLEVBQUUsWUFBWVksRUFBRSxZQUFZWixFQUFFLFlBQVlZLEVBQUUsWUFBWVosRUFBRSxZQUFZWSxFQUFFLGFBQWFaLEVBQUUsYUFBYVksRUFBRSxhQUFhWixFQUFFLGFBQWFZLEVBQUUsV0FBV1osRUFBRSxXQUFXWSxFQUFFLGNBQWNaLEVBQUUsY0FBY1ksRUFBRSxjQUFjWixFQUFFLGNBQWNZLEVBQUUsY0FBY1osRUFBRSxjQUFjWSxFQUFFLGNBQWNaLEVBQUUsY0FBY1ksRUFBRSxVQUFVWixFQUFFLFVBQVVZLEVBQUUsYUFBYVosRUFBRSxhQUFhWSxFQUFFLGFBQWFaLEVBQUUsYUFBYVksRUFBRSxhQUFhWixFQUFFLGFBQWFZLEVBQUUsYUFBYVosRUFBRSxhQUFhWSxFQUFFLGFBQWFaLEVBQUUsYUFBYVksRUFBRSxhQUFhWixFQUFFLGFBQWFZLEVBQUUsY0FBY1osRUFBRSxjQUFjWSxFQUFFLGNBQWNaLEVBQUUsY0FBY1ksRUFBRSxLQUFLWixFQUFFLEtBQUtZLEVBQUUsUUFBUVosRUFBRSxRQUFRWSxFQUFFLGNBQWNaLEVBQUUsY0FBY1ksQ0FBQyxDQUFDLEdBQUUsS0FBSyxLQUFLMGIsRUFBRSxRQUFRLEVBQWUsT0FBTyxLQUFwQixJQUF5QixLQUFrQixPQUFPLE9BQXBCLElBQTJCLE9BQU8sQ0FBRSxFQUFDQSxFQUFFLFFBQVEsRUFBRSxPQUFPLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLDZEQUE2RCxtREFBbUQsQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLE9BQU8sRUFBRSxRQUFRLEdBQUcsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsU0FBU2grQixFQUFFNjlCLEVBQUV2YixFQUFFLEVBQUUsU0FBU0EsRUFBRVosRUFBRTdtQixFQUFFMEcsRUFBRTB2QixFQUFFM3ZCLEVBQUVuRixFQUFFc2hDLEVBQUVDLEVBQUUsQ0FBQyxJQUFJN2lDLEVBQUVtRixFQUFFLFFBQVEsRUFBRSxPQUFPZ3NCLEVBQUUsRUFBRWxiLEVBQUUsSUFBSWpXLEVBQUVteEIsQ0FBQyxFQUFFbGIsRUFBRSxLQUFLLENBQUMsRUFBRStzQixFQUFFLFFBQVEsQ0FBQyxLQUFLLFNBQVN2YixFQUFFWixFQUFFbmdCLEVBQUUwdkIsRUFBRSxDQUFDLFFBQVEzdkIsRUFBRW9nQixFQUFFLFNBQVNZLEVBQUVaLEVBQUUsQ0FBQ1ksRUFBRSxPQUFPMEosR0FBRyxJQUFJenFCLEVBQUUrZ0IsRUFBRSxRQUFRMEosRUFBRTFKLEVBQUUsT0FBTzBKLEdBQUcxSixFQUFFem5CLEVBQUUsT0FBTyxDQUFDeW5CLEVBQUV4UixDQUFDLEVBQUV2UCxDQUFDLEdBQUcsUUFBUUEsRUFBRTB2QixFQUFFLENBQUUsRUFBQzN2QixFQUFFb2dCLEVBQUVZLEVBQUUsWUFBWUEsRUFBRSxZQUFZbm1CLEVBQUUsRUFBRUEsRUFBRW1tQixFQUFFLE9BQU9ubUIsR0FBRzZ2QixFQUFFaUYsRUFBRSxLQUFLM3ZCLEVBQUUsS0FBS2doQixFQUFFbm1CLENBQUMsQ0FBQyxFQUFFLE9BQU84MEIsQ0FBQyxFQUFFM08sRUFBRXpuQixFQUFFLFNBQVN5bkIsQ0FBQyxFQUFFQSxFQUFFLElBQUl6bkIsRUFBRXluQixDQUFDLEVBQUUyTyxDQUFDLEVBQUUsRUFBRTNPLEVBQUUsTUFBTSxFQUFFWixFQUFFdVAsRUFBRTkwQixFQUFFLElBQUl0QixFQUFFMEcsQ0FBQyxFQUFFazhCLEVBQUUvYixFQUFFdmxCLEVBQUUsYUFBYUEsRUFBRSxhQUFhdWhDLEVBQUUsRUFBRUEsRUFBRXA4QixFQUFFLE9BQU9vOEIsSUFBSUQsRUFBRSxLQUFLdGhDLEVBQUVtRixFQUFFbzhCLENBQUMsRUFBRSxFQUFFQSxFQUFFLEVBQUUsRUFBRSxPQUFPdmhDLENBQUMsQ0FBQyxDQUFDLEdBQUUsS0FBSyxLQUFLNkQsRUFBRSxRQUFRLEVBQWUsT0FBTyxLQUFwQixJQUF5QixLQUFrQixPQUFPLE9BQXBCLElBQTJCLE9BQU8sQ0FBQSxFQUFHQSxFQUFFLFFBQVEsRUFBRSxPQUFPLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLDBFQUEwRSw4REFBOEQsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLFNBQVMrOEIsRUFBRXphLEVBQUU3WSxFQUFFLEVBQUUsU0FBU3FILEVBQUU5USxFQUFFeTlCLEVBQUVJLEVBQUU5ZSxFQUFFbFAsRUFBRWl1QixFQUFFQyxFQUFFSCxFQUFFLENBQUMsSUFBSUgsRUFBRVYsRUFBRSxRQUFRLEVBQUUsT0FBT3phLEVBQUV5YSxFQUFFLE9BQU8sRUFBRXJiLEVBQUVxYixFQUFFLFVBQVUsRUFBRXg3QixFQUFFdzdCLEVBQUUsT0FBTyxFQUFFamlDLEVBQUUsQ0FBQyxLQUFLd25CLEVBQUUsT0FBT1osRUFBRSxJQUFJcWIsRUFBRSxPQUFPLENBQUMsRUFBRVcsRUFBRSxHQUFHN2lDLEVBQUUsSUFBSTRpQyxFQUFFQyxDQUFDLEVBQUUsU0FBU3pNLEVBQUUzTyxFQUFFL2dCLEVBQUUsQ0FBQyxJQUFJMHZCLEVBQUVuMkIsRUFBRXduQixFQUFFQSxHQUFHLE1BQU0sRUFBRWhoQixFQUFFLENBQUUsRUFBQyxPQUFPMnZCLEdBQUc5MEIsRUFBRSxhQUFhbW1CLEVBQUUsc0JBQXNCLEVBQUUsQ0FBQyxPQUFPLFNBQVNBLEVBQUUsQ0FBQyxPQUFPbWIsRUFBRSxTQUFTbmIsQ0FBQyxJQUFJQSxFQUFFLElBQUltYixFQUFFbmIsQ0FBQyxHQUFHaGhCLEVBQUUsS0FBS2doQixDQUFDLEVBQUVBLEVBQUUsT0FBTyxJQUFJLEVBQUUsT0FBTyxTQUFTQSxFQUFFLENBQUMsSUFBSVosRUFBRStiLEVBQUUsT0FBT244QixDQUFDLEVBQUVvZ0IsRUFBRW5nQixFQUFFLFNBQVMrZ0IsRUFBRVosRUFBRW5nQixFQUFFLENBQUNrOEIsRUFBRSxTQUFTL2IsQ0FBQyxJQUFJQSxFQUFFLElBQUkrYixFQUFFL2IsQ0FBQyxHQUFHK2IsRUFBRSxTQUFTbDhCLENBQUMsSUFBSUEsRUFBRSxJQUFJazhCLEVBQUVsOEIsQ0FBQyxHQUFHbWdCLEVBQUUsT0FBT2djLEVBQUVoYyxFQUFFWSxFQUFFWixDQUFDLEVBQUVBLEVBQUUsT0FBT2djLElBQUloYyxFQUFFK2IsRUFBRSxPQUFPLENBQUMvYixFQUFFN21CLENBQUMsRUFBRTZpQyxDQUFDLEdBQUcsUUFBUXpNLEVBQUUsSUFBSXdNLEVBQUVDLENBQUMsRUFBRXA4QixHQUFFLElBQUltOEIsRUFBRUMsQ0FBQyxFQUFFdmhDLEdBQUUsRUFBRUEsR0FBRXVoQyxFQUFFdmhDLEtBQUk4MEIsRUFBRTkwQixFQUFDLEVBQUUsR0FBR3VsQixFQUFFdmxCLEVBQUMsRUFBRW1GLEdBQUVuRixFQUFDLEVBQUUsR0FBR3VsQixFQUFFdmxCLEVBQUMsRUFBRSxPQUFPb0YsRUFBRStnQixFQUFFbWIsRUFBRSxPQUFPLENBQUN4TSxFQUFFMXZCLENBQUMsQ0FBQyxDQUFDLEVBQUUrZ0IsRUFBRW1iLEVBQUUsT0FBTyxDQUFDbjhCLEdBQUVDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTB2QixFQUFFMXZCLEVBQUVtZ0IsQ0FBQyxFQUFFdVAsRUFBRXZQLENBQUMsRUFBRSxPQUFPcGdCLEVBQUUsS0FBS2doQixFQUFFWixFQUFFLFNBQVNZLENBQUMsRUFBRVosQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTdmxCLEdBQUcsQ0FBQyxJQUFJbW1CLEVBQUUsR0FBRyxNQUFNLEtBQUssU0FBUyxFQUFFLEtBQUssR0FBRyxFQUFFLE1BQU0sSUFBSSxNQUFNLENBQUNBLEVBQUUsMEJBQTBCLGlEQUFpRCxFQUFFLEtBQUs7QUFBQSxDQUFJLENBQUMsQ0FBQyxDQUFDem5CLEVBQUUsS0FBSyxDQUFDLEVBQUU0TyxFQUFFLFdBQVcsU0FBUzZZLEVBQUUsQ0FBQyxPQUFPMk8sRUFBRTNPLENBQUMsQ0FBQyxFQUFFN1ksRUFBRSxXQUFXd25CLEVBQUV4bkIsRUFBRSxZQUFZLFNBQVM2WSxFQUFFWixFQUFFLENBQUMsR0FBRyxDQUFDQSxHQUFHLENBQUNBLEVBQUUsS0FBSyxPQUFPLElBQUkrYixFQUFFbDhCLEVBQUUrZ0IsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDWixFQUFFLEtBQUssS0FBSyxPQUFPLElBQUkrYixFQUFFbDhCLEVBQUUrZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPQSxFQUFFLENBQUNaLEVBQUVZLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSWhoQixFQUFFMHFCLEVBQUUsQ0FBQyxvQkFBb0IsZUFBZSxpQkFBaUIsaUJBQWlCLG1CQUFtQixhQUFhLGVBQWUsc0JBQXNCLFFBQVEsRUFBRXJpQixFQUFFLFNBQVMyWSxFQUFFLENBQUM3WSxFQUFFNlksQ0FBQyxFQUFFLFVBQVUsQ0FBQ25tQixFQUFFLFNBQVNtbUIsRUFBRSx3QkFBd0IsQ0FBQyxDQUFDLEVBQUUsSUFBSWhoQixLQUFLMHFCLEVBQUVyaUIsRUFBRXFpQixFQUFFMXFCLENBQUMsQ0FBRyxDQUFDLEdBQUUsS0FBSyxLQUFLeTdCLEVBQUUsUUFBUSxFQUFlLE9BQU8sS0FBcEIsSUFBeUIsS0FBa0IsT0FBTyxPQUFwQixJQUEyQixPQUFPLENBQUUsRUFBQ0EsRUFBRSxRQUFRLEVBQUUsT0FBTyxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSx3RUFBd0UsOERBQThELENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsU0FBU2EsRUFBRTlpQyxFQUFFd25CLEVBQUUsRUFBRSxTQUFTQSxFQUFFMk8sRUFBRSxFQUFFOTBCLEVBQUVzaEMsRUFBRTVpQyxFQUFFLEVBQUVpVyxFQUFFaXRCLEVBQUUsQ0FBQyxJQUFJcmMsRUFBRWtjLEVBQUUsV0FBVyxFQUFFLFNBQVNyOEIsRUFBRStnQixFQUFFWixFQUFFLENBQUNZLEVBQUVaLEdBQUcsQ0FBQyxHQUFHLEtBQUtBLEVBQUUsR0FBR1ksRUFBRSxJQUFJWixFQUFFLEtBQUssR0FBRyxFQUFFLEVBQUVBLEVBQUUsUUFBUW5nQixFQUFFLFdBQVcwdkIsRUFBRSxXQUFXM3ZCLEVBQUUsWUFBWW5GLEVBQUUsVUFBVXNoQyxFQUFFLEVBQUVBLEVBQUVuYixFQUFFLE9BQU9tYixHQUFHLEdBQUcsQ0FBQyxJQUFJQyxFQUFFbjhCLEVBQUUxRyxFQUFFbzJCLEVBQUVqRixFQUFFMXFCLEVBQUV3UCxFQUFFM1UsRUFBRW9GLEVBQUV2QixFQUFFdUIsRUFBRTB2QixFQUFFM3ZCLEVBQUVuRixFQUFFbW1CLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsRUFBRXRoQyxFQUFFNkQsRUFBRTdELEVBQUVvRixFQUFFMHZCLEVBQUUzdkIsRUFBRWdoQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxVQUFVLEVBQUVuOEIsRUFBRXRCLEVBQUVzQixFQUFFbkYsRUFBRW9GLEVBQUUwdkIsRUFBRTNPLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFNBQVMsRUFBRXhNLEVBQUVqeEIsRUFBRWl4QixFQUFFM3ZCLEVBQUVuRixFQUFFb0YsRUFBRStnQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxXQUFXLEVBQUVsOEIsRUFBRXZCLEVBQUV1QixFQUFFMHZCLEVBQUUzdkIsRUFBRW5GLEVBQUVtbUIsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEVBQUUsVUFBVSxFQUFFdGhDLEVBQUU2RCxFQUFFN0QsRUFBRW9GLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFVBQVUsRUFBRW44QixFQUFFdEIsRUFBRXNCLEVBQUVuRixFQUFFb0YsRUFBRTB2QixFQUFFM08sRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsV0FBVyxFQUFFeE0sRUFBRWp4QixFQUFFaXhCLEVBQUUzdkIsRUFBRW5GLEVBQUVvRixFQUFFK2dCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFNBQVMsRUFBRWw4QixFQUFFdkIsRUFBRXVCLEVBQUUwdkIsRUFBRTN2QixFQUFFbkYsRUFBRW1tQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLEVBQUV0aEMsRUFBRTZELEVBQUU3RCxFQUFFb0YsRUFBRTB2QixFQUFFM3ZCLEVBQUVnaEIsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsV0FBVyxFQUFFbjhCLEVBQUV0QixFQUFFc0IsRUFBRW5GLEVBQUVvRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxFQUFFLEVBQUUsR0FBRyxNQUFNLEVBQUV4TSxFQUFFanhCLEVBQUVpeEIsRUFBRTN2QixFQUFFbkYsRUFBRW9GLEVBQUUrZ0IsRUFBRW1iLEVBQUUsRUFBRSxFQUFFLEdBQUcsV0FBVyxFQUFFbDhCLEVBQUV2QixFQUFFdUIsRUFBRTB2QixFQUFFM3ZCLEVBQUVuRixFQUFFbW1CLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRXRoQyxFQUFFNkQsRUFBRTdELEVBQUVvRixFQUFFMHZCLEVBQUUzdkIsRUFBRWdoQixFQUFFbWIsRUFBRSxFQUFFLEVBQUUsR0FBRyxTQUFTLEVBQUVuOEIsRUFBRXRCLEVBQUVzQixFQUFFbkYsRUFBRW9GLEVBQUUwdkIsRUFBRTNPLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxHQUFHLFdBQVcsRUFBRWw4QixFQUFFczhCLEVBQUV0OEIsRUFBRTB2QixFQUFFanhCLEVBQUVpeEIsRUFBRTN2QixFQUFFbkYsRUFBRW9GLEVBQUUrZ0IsRUFBRW1iLEVBQUUsRUFBRSxFQUFFLEdBQUcsVUFBVSxFQUFFbjhCLEVBQUVuRixFQUFFbW1CLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsRUFBRXRoQyxFQUFFMGhDLEVBQUUxaEMsRUFBRW9GLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLFdBQVcsRUFBRW44QixFQUFFdThCLEVBQUV2OEIsRUFBRW5GLEVBQUVvRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxFQUFFLEVBQUUsR0FBRyxTQUFTLEVBQUV4TSxFQUFFNE0sRUFBRTVNLEVBQUUzdkIsRUFBRW5GLEVBQUVvRixFQUFFK2dCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFVBQVUsRUFBRWw4QixFQUFFczhCLEVBQUV0OEIsRUFBRTB2QixFQUFFM3ZCLEVBQUVuRixFQUFFbW1CLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsRUFBRXRoQyxFQUFFMGhDLEVBQUUxaEMsRUFBRW9GLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRW44QixFQUFFdThCLEVBQUV2OEIsRUFBRW5GLEVBQUVvRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxFQUFFLEVBQUUsR0FBRyxVQUFVLEVBQUV4TSxFQUFFNE0sRUFBRTVNLEVBQUUzdkIsRUFBRW5GLEVBQUVvRixFQUFFK2dCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFVBQVUsRUFBRWw4QixFQUFFczhCLEVBQUV0OEIsRUFBRTB2QixFQUFFM3ZCLEVBQUVuRixFQUFFbW1CLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRXRoQyxFQUFFMGhDLEVBQUUxaEMsRUFBRW9GLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRW44QixFQUFFdThCLEVBQUV2OEIsRUFBRW5GLEVBQUVvRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxVQUFVLEVBQUV4TSxFQUFFNE0sRUFBRTVNLEVBQUUzdkIsRUFBRW5GLEVBQUVvRixFQUFFK2dCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFVBQVUsRUFBRWw4QixFQUFFczhCLEVBQUV0OEIsRUFBRTB2QixFQUFFM3ZCLEVBQUVuRixFQUFFbW1CLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRXRoQyxFQUFFMGhDLEVBQUUxaEMsRUFBRW9GLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRW44QixFQUFFdThCLEVBQUV2OEIsRUFBRW5GLEVBQUVvRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxVQUFVLEVBQUVsOEIsRUFBRXdkLEVBQUV4ZCxFQUFFMHZCLEVBQUU0TSxFQUFFNU0sRUFBRTN2QixFQUFFbkYsRUFBRW9GLEVBQUUrZ0IsRUFBRW1iLEVBQUUsRUFBRSxFQUFFLEdBQUcsV0FBVyxFQUFFbjhCLEVBQUVuRixFQUFFbW1CLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRXRoQyxFQUFFNGlCLEVBQUU1aUIsRUFBRW9GLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFdBQVcsRUFBRW44QixFQUFFeWQsRUFBRXpkLEVBQUVuRixFQUFFb0YsRUFBRTB2QixFQUFFM08sRUFBRW1iLEVBQUUsRUFBRSxFQUFFLEdBQUcsVUFBVSxFQUFFeE0sRUFBRWxTLEVBQUVrUyxFQUFFM3ZCLEVBQUVuRixFQUFFb0YsRUFBRStnQixFQUFFbWIsRUFBRSxFQUFFLEVBQUUsR0FBRyxTQUFTLEVBQUVsOEIsRUFBRXdkLEVBQUV4ZCxFQUFFMHZCLEVBQUUzdkIsRUFBRW5GLEVBQUVtbUIsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEVBQUUsV0FBVyxFQUFFdGhDLEVBQUU0aUIsRUFBRTVpQixFQUFFb0YsRUFBRTB2QixFQUFFM3ZCLEVBQUVnaEIsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsVUFBVSxFQUFFbjhCLEVBQUV5ZCxFQUFFemQsRUFBRW5GLEVBQUVvRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxVQUFVLEVBQUV4TSxFQUFFbFMsRUFBRWtTLEVBQUUzdkIsRUFBRW5GLEVBQUVvRixFQUFFK2dCLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxHQUFHLFdBQVcsRUFBRWw4QixFQUFFd2QsRUFBRXhkLEVBQUUwdkIsRUFBRTN2QixFQUFFbkYsRUFBRW1tQixFQUFFbWIsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUV0aEMsRUFBRTRpQixFQUFFNWlCLEVBQUVvRixFQUFFMHZCLEVBQUUzdkIsRUFBRWdoQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxVQUFVLEVBQUVuOEIsRUFBRXlkLEVBQUV6ZCxFQUFFbkYsRUFBRW9GLEVBQUUwdkIsRUFBRTNPLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFVBQVUsRUFBRXhNLEVBQUVsUyxFQUFFa1MsRUFBRTN2QixFQUFFbkYsRUFBRW9GLEVBQUUrZ0IsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsUUFBUSxFQUFFbDhCLEVBQUV3ZCxFQUFFeGQsRUFBRTB2QixFQUFFM3ZCLEVBQUVuRixFQUFFbW1CLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsRUFBRXRoQyxFQUFFNGlCLEVBQUU1aUIsRUFBRW9GLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxHQUFHLFVBQVUsRUFBRW44QixFQUFFeWQsRUFBRXpkLEVBQUVuRixFQUFFb0YsRUFBRTB2QixFQUFFM08sRUFBRW1iLEVBQUUsRUFBRSxFQUFFLEdBQUcsU0FBUyxFQUFFbDhCLEVBQUVzTyxFQUFFdE8sRUFBRTB2QixFQUFFbFMsRUFBRWtTLEVBQUUzdkIsRUFBRW5GLEVBQUVvRixFQUFFK2dCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFVBQVUsRUFBRW44QixFQUFFbkYsRUFBRW1tQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLEVBQUV0aEMsRUFBRTBULEVBQUUxVCxFQUFFb0YsRUFBRTB2QixFQUFFM3ZCLEVBQUVnaEIsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsVUFBVSxFQUFFbjhCLEVBQUV1TyxFQUFFdk8sRUFBRW5GLEVBQUVvRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxFQUFFLEVBQUUsR0FBRyxXQUFXLEVBQUV4TSxFQUFFcGhCLEVBQUVvaEIsRUFBRTN2QixFQUFFbkYsRUFBRW9GLEVBQUUrZ0IsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsU0FBUyxFQUFFbDhCLEVBQUVzTyxFQUFFdE8sRUFBRTB2QixFQUFFM3ZCLEVBQUVuRixFQUFFbW1CLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRXRoQyxFQUFFMFQsRUFBRTFULEVBQUVvRixFQUFFMHZCLEVBQUUzdkIsRUFBRWdoQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxXQUFXLEVBQUVuOEIsRUFBRXVPLEVBQUV2TyxFQUFFbkYsRUFBRW9GLEVBQUUwdkIsRUFBRTNPLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxHQUFHLFFBQVEsRUFBRXhNLEVBQUVwaEIsRUFBRW9oQixFQUFFM3ZCLEVBQUVuRixFQUFFb0YsRUFBRStnQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxXQUFXLEVBQUVsOEIsRUFBRXNPLEVBQUV0TyxFQUFFMHZCLEVBQUUzdkIsRUFBRW5GLEVBQUVtbUIsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEVBQUUsVUFBVSxFQUFFdGhDLEVBQUUwVCxFQUFFMVQsRUFBRW9GLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxHQUFHLFNBQVMsRUFBRW44QixFQUFFdU8sRUFBRXZPLEVBQUVuRixFQUFFb0YsRUFBRTB2QixFQUFFM08sRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsV0FBVyxFQUFFeE0sRUFBRXBoQixFQUFFb2hCLEVBQUUzdkIsRUFBRW5GLEVBQUVvRixFQUFFK2dCLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxHQUFHLFVBQVUsRUFBRWw4QixFQUFFc08sRUFBRXRPLEVBQUUwdkIsRUFBRTN2QixFQUFFbkYsRUFBRW1tQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLEVBQUV0aEMsRUFBRTBULEVBQUUxVCxFQUFFb0YsRUFBRTB2QixFQUFFM3ZCLEVBQUVnaEIsRUFBRW1iLEVBQUUsRUFBRSxFQUFFLEdBQUcsV0FBVyxFQUFFbjhCLEVBQUV1TyxFQUFFdk8sRUFBRW5GLEVBQUVvRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxTQUFTLEVBQUV4TSxFQUFFcGhCLEVBQUVvaEIsRUFBRTN2QixFQUFFbkYsRUFBRW9GLEVBQUUrZ0IsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsVUFBVSxFQUFFbDhCLEVBQUV1OEIsRUFBRXY4QixFQUFFbThCLENBQUMsRUFBRXpNLEVBQUU2TSxFQUFFN00sRUFBRXAyQixDQUFDLEVBQUV5RyxFQUFFdzhCLEVBQUV4OEIsRUFBRTBxQixDQUFDLEVBQUU3dkIsRUFBRTJoQyxFQUFFM2hDLEVBQUUyVSxDQUFDLENBQUMsQ0FBQyxPQUFPLE1BQU12UCxFQUFFMHZCLEVBQUUzdkIsRUFBRW5GLENBQUMsQ0FBQyxDQUFDLFNBQVN1aEMsRUFBRXBiLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFM3ZCLEVBQUVuRixFQUFFLENBQUMsT0FBTzJoQyxHQUFHcGMsRUFBRW9jLEVBQUVBLEVBQUVwYyxFQUFFWSxDQUFDLEVBQUV3YixFQUFFN00sRUFBRTkwQixDQUFDLENBQUMsSUFBSW1GLEVBQUVvZ0IsSUFBSSxHQUFHcGdCLEVBQUVDLENBQUMsQ0FBQyxDQUFDLFNBQVN2QixFQUFFc2lCLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFM3ZCLEVBQUVuRixFQUFFc2hDLEVBQUUsQ0FBQyxPQUFPQyxFQUFFaGMsRUFBRW5nQixFQUFFLENBQUNtZ0IsRUFBRXVQLEVBQUUzTyxFQUFFWixFQUFFcGdCLEVBQUVuRixFQUFFc2hDLENBQUMsQ0FBQyxDQUFDLFNBQVNJLEVBQUV2YixFQUFFWixFQUFFbmdCLEVBQUUwdkIsRUFBRTN2QixFQUFFbkYsRUFBRXNoQyxFQUFFLENBQUMsT0FBT0MsRUFBRWhjLEVBQUV1UCxFQUFFMXZCLEVBQUUsQ0FBQzB2QixFQUFFM08sRUFBRVosRUFBRXBnQixFQUFFbkYsRUFBRXNoQyxDQUFDLENBQUMsQ0FBQyxTQUFTMWUsRUFBRXVELEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFM3ZCLEVBQUVuRixFQUFFc2hDLEVBQUUsQ0FBQyxPQUFPQyxFQUFFaGMsRUFBRW5nQixFQUFFMHZCLEVBQUUzTyxFQUFFWixFQUFFcGdCLEVBQUVuRixFQUFFc2hDLENBQUMsQ0FBQyxDQUFDLFNBQVM1dEIsRUFBRXlTLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFM3ZCLEVBQUVuRixFQUFFc2hDLEVBQUUsQ0FBQyxPQUFPQyxFQUFFbjhCLEdBQUdtZ0IsRUFBRSxDQUFDdVAsR0FBRzNPLEVBQUVaLEVBQUVwZ0IsRUFBRW5GLEVBQUVzaEMsQ0FBQyxDQUFDLENBQUMsU0FBU0ssRUFBRXhiLEVBQUVaLEVBQUUsQ0FBQyxJQUFJbmdCLEdBQUcsTUFBTStnQixJQUFJLE1BQU1aLEdBQUcsT0FBT1ksR0FBRyxLQUFLWixHQUFHLEtBQUtuZ0IsR0FBRyxLQUFLLEdBQUcsTUFBTUEsQ0FBQyxDQUFDekcsRUFBRSxRQUFRLFNBQVN3bkIsRUFBRSxDQUFDLE9BQU9aLEVBQUUsS0FBS1ksRUFBRS9nQixFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUUsS0FBSyxLQUFLcThCLEVBQUUsUUFBUSxFQUFlLE9BQU8sS0FBcEIsSUFBeUIsS0FBa0IsT0FBTyxPQUFwQixJQUEyQixPQUFPLENBQUUsRUFBQ0EsRUFBRSxRQUFRLEVBQUUsT0FBTyxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxzRUFBc0UsOERBQThELENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsU0FBU3RiLEVBQUV4UixFQUFFNFEsRUFBRSxFQUFFLFNBQVNZLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFM3ZCLEVBQUVuRixFQUFFc2hDLEVBQUVDLEVBQUUxUixFQUFFLENBQU9sYixFQUFFLFFBQVcsU0FBU3dSLEVBQUUsQ0FBQyxRQUFRWixFQUFFbmdCLEVBQUUsSUFBSSxNQUFNK2dCLENBQUMsRUFBRTJPLEVBQUUsRUFBRUEsRUFBRTNPLEVBQUUyTyxJQUFRLElBQUVBLEtBQUt2UCxFQUFFLFdBQVcsS0FBSyxPQUFNLEdBQUluZ0IsRUFBRTB2QixDQUFDLEVBQUV2UCxNQUFNLEVBQUV1UCxJQUFJLEdBQUcsSUFBSSxPQUFPMXZCLENBQUMsQ0FBQyxHQUFFLEtBQUssS0FBSytnQixFQUFFLFFBQVEsRUFBZSxPQUFPLEtBQXBCLElBQXlCLEtBQWtCLE9BQU8sT0FBcEIsSUFBMkIsT0FBTyxDQUFFLEVBQUNBLEVBQUUsUUFBUSxFQUFFLE9BQU8sVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsc0VBQXNFLDhEQUE4RCxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsU0FBU3RpQixFQUFFNjlCLEVBQUV2YixFQUFFLEVBQUUsU0FBU0EsRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUzdkIsRUFBRW84QixFQUFFN2lDLEVBQUVteEIsRUFBRWxiLEVBQUUsQ0FBQyxJQUFJM1UsRUFBRTZELEVBQUUsV0FBVyxFQUFFLFNBQVN5OUIsRUFBRTNzQixFQUFFOVEsRUFBRSxDQUFDOFEsRUFBRTlRLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBR0EsRUFBRSxHQUFHOFEsRUFBRSxJQUFJOVEsRUFBRSxJQUFJLEdBQUcsRUFBRSxFQUFFQSxFQUFFLFFBQVFzaUIsRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUsTUFBTSxFQUFFLEVBQUUzdkIsRUFBRSxXQUFXbkYsRUFBRSxXQUFXc2hDLEVBQUUsWUFBWUMsRUFBRSxVQUFVRyxFQUFFLFlBQVk5ZSxFQUFFLEVBQUVBLEVBQUVqTyxFQUFFLE9BQU9pTyxHQUFHLEdBQUcsQ0FBQyxRQUFRbFAsRUFBRXZPLEVBQUV3OEIsRUFBRTNoQyxFQUFFNGhDLEVBQUVOLEVBQUVHLEVBQUVGLEVBQUU1aUMsRUFBRStpQyxFQUFFaGpDLEVBQUUsRUFBRUEsRUFBRSxHQUFHQSxJQUFJLENBQUNvMkIsRUFBRXAyQixDQUFDLEVBQUVBLEVBQUUsR0FBR2lXLEVBQUVpTyxFQUFFbGtCLENBQUMsRUFBRWtpQyxFQUFFOUwsRUFBRXAyQixFQUFFLENBQUMsRUFBRW8yQixFQUFFcDJCLEVBQUUsQ0FBQyxFQUFFbzJCLEVBQUVwMkIsRUFBRSxFQUFFLEVBQUVvMkIsRUFBRXAyQixFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSW14QixHQUFFcmlCLEVBQUVBLEVBQUVvekIsRUFBRXo3QixFQUFFLENBQUMsR0FBRzBxQixHQUFFN3ZCLEVBQUV1bEIsRUFBRStiLEVBQUVsOEIsRUFBRW04QixHQUFHcGIsRUFBRXpuQixHQUFHLEdBQUdteEIsR0FBRXRLLEVBQUUsQ0FBQ3NLLEdBQUV6cUIsRUFBRSxFQUFFK2dCLEVBQUUsS0FBS0EsRUFBRSxHQUFHMEosR0FBRXRLLEVBQUVzSyxHQUFFenFCLEVBQUVtZ0IsRUFBRW5nQixFQUFFeXFCLEdBQUV0SyxFQUFFbmdCLEVBQUcsRUFBQ29JLEVBQUVBLEVBQUVrMEIsRUFBRTVNLEVBQUVwMkIsQ0FBQyxDQUFDLEdBQUd5bkIsRUFBRXpuQixHQUFHLEdBQUcsV0FBV3luQixFQUFFLEdBQUcsV0FBV0EsRUFBRSxHQUFHLFlBQVksVUFBVSxDQUFDLEVBQUV1YixFQUFFSCxFQUFFQSxFQUFFRCxFQUFFQSxFQUFFVixFQUFFNWdDLEVBQUUsRUFBRSxFQUFFQSxFQUFFbUYsRUFBRUEsRUFBRTBxQixFQUFDLENBQUMxcUIsRUFBRXFJLEVBQUVySSxFQUFFdU8sQ0FBQyxFQUFFMVQsRUFBRXdOLEVBQUV4TixFQUFFMmhDLENBQUMsRUFBRUwsRUFBRTl6QixFQUFFOHpCLEVBQUVNLENBQUMsRUFBRUwsRUFBRS96QixFQUFFK3pCLEVBQUVFLENBQUMsRUFBRUMsRUFBRWwwQixFQUFFazBCLEVBQUUvaUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxNQUFNd0csRUFBRW5GLEVBQUVzaEMsRUFBRUMsRUFBRUcsQ0FBQyxDQUFDLENBQUMsU0FBU2wwQixFQUFFMlksRUFBRVosRUFBRSxDQUFDLElBQUluZ0IsR0FBRyxNQUFNK2dCLElBQUksTUFBTVosR0FBRyxPQUFPWSxHQUFHLEtBQUtaLEdBQUcsS0FBS25nQixHQUFHLEtBQUssR0FBRyxNQUFNQSxDQUFDLENBQUMsU0FBU3c3QixFQUFFemEsRUFBRVosRUFBRSxDQUFDLE9BQU9ZLEdBQUdaLEVBQUVZLElBQUksR0FBR1osQ0FBQyxDQUFDbWMsRUFBRSxRQUFRLFNBQVN2YixFQUFFLENBQUMsT0FBT25tQixFQUFFLEtBQUttbUIsRUFBRW1iLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFFLEtBQUssS0FBS3o5QixFQUFFLFFBQVEsRUFBZSxPQUFPLEtBQXBCLElBQXlCLEtBQWtCLE9BQU8sT0FBcEIsSUFBMkIsT0FBTyxDQUFFLEVBQUNBLEVBQUUsUUFBUSxFQUFFLE9BQU8sVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsc0VBQXNFLDhEQUE4RCxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLFNBQVNBLEVBQUU2OUIsRUFBRXZiLEVBQUUsRUFBRSxTQUFTQSxFQUFFWixFQUFFbmdCLEVBQUUwdkIsRUFBRXdNLEVBQUVDLEVBQUU3aUMsRUFBRW14QixFQUFFbGIsRUFBRSxDQUFDLFNBQVNoVyxFQUFFd25CLEVBQUVaLEVBQUUsQ0FBQyxJQUFJbmdCLEdBQUcsTUFBTStnQixJQUFJLE1BQU1aLEdBQUcsT0FBT1ksR0FBRyxLQUFLWixHQUFHLEtBQUtuZ0IsR0FBRyxLQUFLLEdBQUcsTUFBTUEsQ0FBQyxDQUFDLFNBQVNELEVBQUVnaEIsRUFBRXhSLEVBQUUsQ0FBQyxJQUFJOVEsRUFBRTY5QixFQUFFLElBQUksTUFBTSxXQUFXLFdBQVcsV0FBVyxXQUFXLFVBQVUsV0FBVyxXQUFXLFdBQVcsV0FBVyxVQUFVLFVBQVUsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxVQUFVLFVBQVUsVUFBVSxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxVQUFVLFVBQVUsVUFBVSxVQUFVLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxVQUFVLEVBQUVuYyxFQUFFLElBQUksTUFBTSxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxVQUFVLFVBQVUsRUFBRW5nQixFQUFFLElBQUksTUFBTSxFQUFFLEVBQUUrZ0IsRUFBRXhSLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBR0EsRUFBRSxHQUFHd1IsRUFBRSxJQUFJeFIsRUFBRSxJQUFJLEdBQUcsRUFBRSxFQUFFQSxFQUFFLFFBQVFtZ0IsRUFBRTN2QixFQUFFeWQsRUFBRSxFQUFFQSxFQUFFdUQsRUFBRSxPQUFPdkQsR0FBRyxHQUFHLENBQUMsUUFBUTVpQixFQUFFdWxCLEVBQUUsQ0FBQyxFQUFFK2IsRUFBRS9iLEVBQUUsQ0FBQyxFQUFFZ2MsRUFBRWhjLEVBQUUsQ0FBQyxFQUFFN1IsRUFBRTZSLEVBQUUsQ0FBQyxFQUFFN21CLEVBQUU2bUIsRUFBRSxDQUFDLEVBQUVvYyxFQUFFcGMsRUFBRSxDQUFDLEVBQUVxYyxFQUFFcmMsRUFBRSxDQUFDLEVBQUVrYyxFQUFFbGMsRUFBRSxDQUFDLEVBQUVzSyxHQUFFLEVBQUVBLEdBQUUsR0FBR0EsS0FBSXpxQixFQUFFeXFCLEVBQUMsRUFBRUEsR0FBRSxHQUFHMUosRUFBRTBKLEdBQUVqTixDQUFDLEVBQUVqa0IsRUFBRUEsRUFBRUEsR0FBR3dHLEVBQUVDLEVBQUV5cUIsR0FBRSxDQUFDLEVBQUVyaUIsRUFBRXJJLEVBQUUsRUFBRSxFQUFFcUksRUFBRXJJLEVBQUUsRUFBRSxFQUFFeTdCLEVBQUV6N0IsRUFBRSxFQUFFLEdBQUdDLEVBQUV5cUIsR0FBRSxDQUFDLENBQUMsR0FBRzFxQixFQUFFQyxFQUFFeXFCLEdBQUUsRUFBRSxFQUFFcmlCLEVBQUVySSxFQUFFLENBQUMsRUFBRXFJLEVBQUVySSxFQUFFLEVBQUUsRUFBRXk3QixFQUFFejdCLEVBQUUsQ0FBQyxFQUFHLEVBQUNDLEVBQUV5cUIsR0FBRSxFQUFFLENBQUMsRUFBRWhzQixFQUFFbEYsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRThpQyxFQUFFajBCLEVBQUVySSxFQUFFekcsRUFBRSxDQUFDLEVBQUU4TyxFQUFFckksRUFBRSxFQUFFLEVBQUVxSSxFQUFFckksRUFBRSxFQUFFLENBQUMsRUFBRXpHLEVBQUVpakMsRUFBRSxDQUFDampDLEVBQUVrakMsQ0FBQyxFQUFFRixFQUFFN1IsRUFBQyxDQUFDLEVBQUV6cUIsRUFBRXlxQixFQUFDLENBQUMsRUFBRWlGLEVBQUVuMkIsRUFBRTZPLEVBQUVzbkIsRUFBRTkwQixFQUFFLENBQUMsRUFBRXdOLEVBQUVzbkIsRUFBRSxFQUFFLEVBQUV0bkIsRUFBRXNuQixFQUFFLEVBQUUsRUFBRTkwQixFQUFFc2hDLEVBQUV0aEMsRUFBRXVoQyxFQUFFRCxFQUFFQyxDQUFDLEVBQUVFLEVBQUVHLEVBQUVBLEVBQUVELEVBQUVBLEVBQUVqakMsRUFBRUEsRUFBRUMsRUFBRStVLEVBQUU3UCxDQUFDLEVBQUU2UCxFQUFFNnRCLEVBQUVBLEVBQUVELEVBQUVBLEVBQUV0aEMsRUFBRUEsRUFBRXJCLEVBQUVrRixFQUFFaXhCLENBQUMsRUFBRXZQLEVBQUUsQ0FBQyxFQUFFNW1CLEVBQUVxQixFQUFFdWxCLEVBQUUsQ0FBQyxDQUFDLEVBQUVBLEVBQUUsQ0FBQyxFQUFFNW1CLEVBQUUyaUMsRUFBRS9iLEVBQUUsQ0FBQyxDQUFDLEVBQUVBLEVBQUUsQ0FBQyxFQUFFNW1CLEVBQUU0aUMsRUFBRWhjLEVBQUUsQ0FBQyxDQUFDLEVBQUVBLEVBQUUsQ0FBQyxFQUFFNW1CLEVBQUUrVSxFQUFFNlIsRUFBRSxDQUFDLENBQUMsRUFBRUEsRUFBRSxDQUFDLEVBQUU1bUIsRUFBRUQsRUFBRTZtQixFQUFFLENBQUMsQ0FBQyxFQUFFQSxFQUFFLENBQUMsRUFBRTVtQixFQUFFZ2pDLEVBQUVwYyxFQUFFLENBQUMsQ0FBQyxFQUFFQSxFQUFFLENBQUMsRUFBRTVtQixFQUFFaWpDLEVBQUVyYyxFQUFFLENBQUMsQ0FBQyxFQUFFQSxFQUFFLENBQUMsRUFBRTVtQixFQUFFOGlDLEVBQUVsYyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBT0EsQ0FBQyxDQUFDLElBQUl2bEIsRUFBRTZELEVBQUUsV0FBVyxFQUFFMkosRUFBRSxTQUFTMlksRUFBRVosRUFBRSxDQUFDLE9BQU9ZLElBQUlaLEVBQUVZLEdBQUcsR0FBR1osQ0FBQyxFQUFFcWIsRUFBRSxTQUFTemEsRUFBRVosRUFBRSxDQUFDLE9BQU9ZLElBQUlaLENBQUMsRUFBRW1jLEVBQUUsUUFBUSxTQUFTdmIsRUFBRSxDQUFDLE9BQU9ubUIsRUFBRSxLQUFLbW1CLEVBQUVoaEIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUUsS0FBSyxLQUFLdEIsRUFBRSxRQUFRLEVBQWUsT0FBTyxLQUFwQixJQUF5QixLQUFrQixPQUFPLE9BQXBCLElBQTJCLE9BQU8sR0FBR0EsRUFBRSxRQUFRLEVBQUUsT0FBTyxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSx5RUFBeUUsOERBQThELENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsU0FBU3NpQixFQUFFWixFQUFFc0ssRUFBRSxFQUFFLFNBQVMxSixFQUFFWixFQUFFbmdCLEVBQUUwdkIsRUFBRTN2QixFQUFFbkYsRUFBRXNoQyxFQUFFQyxFQUFFN2lDLEVBQUUsQ0FBQ214QixFQUFFLEtBQUssU0FBUzFKLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFM3ZCLEVBQUUsQ0FBQyxJQUFJbkYsRUFBRXNoQyxFQUFFM3NCLEVBQUUsRUFBRXhQLEVBQUUydkIsRUFBRSxFQUFFanhCLEdBQUcsR0FBRzhRLEdBQUcsRUFBRStzQixFQUFFNzlCLEdBQUcsRUFBRTA5QixFQUFFLEdBQUc3aUMsRUFBRTBHLEVBQUVELEVBQUUsRUFBRSxFQUFFMHFCLEVBQUV6cUIsRUFBRSxHQUFHLEVBQUVELEVBQUVnaEIsRUFBRVosRUFBRTdtQixDQUFDLEVBQUUsSUFBSUEsR0FBR214QixFQUFFN3ZCLEVBQUVtRixHQUFHLEdBQUcsQ0FBQ284QixHQUFHLEVBQUVwOEIsSUFBSSxDQUFDbzhCLEVBQUVBLEdBQUc1c0IsRUFBRSxFQUFFNHNCLEVBQUV2aEMsRUFBRSxJQUFJQSxFQUFFbW1CLEVBQUVaLEVBQUU3bUIsQ0FBQyxFQUFFQSxHQUFHbXhCLEVBQUUwUixHQUFHLEVBQUUsQ0FBQyxJQUFJRCxFQUFFdGhDLEdBQUcsR0FBRyxDQUFDdWhDLEdBQUcsRUFBRXZoQyxJQUFJLENBQUN1aEMsRUFBRUEsR0FBR3pNLEVBQUUsRUFBRXlNLEVBQUVELEVBQUUsSUFBSUEsRUFBRW5iLEVBQUVaLEVBQUU3bUIsQ0FBQyxFQUFFQSxHQUFHbXhCLEVBQUUwUixHQUFHLEVBQUUsQ0FBQyxHQUFPdmhDLElBQUosRUFBTUEsRUFBRSxFQUFFMGhDLE1BQU0sQ0FBQyxHQUFHMWhDLElBQUk2RCxFQUFFLE9BQU95OUIsRUFBRSxJQUFJLEVBQUUsR0FBR244QixFQUFFLEdBQUcsR0FBR204QixHQUFHLEtBQUssSUFBSSxFQUFFeE0sQ0FBQyxFQUFFOTBCLEdBQUcwaEMsQ0FBQyxDQUFDLE9BQU92OEIsRUFBRSxHQUFHLEdBQUdtOEIsRUFBRSxLQUFLLElBQUksRUFBRXRoQyxFQUFFODBCLENBQUMsQ0FBQyxFQUFFakYsRUFBRSxNQUFNLFNBQVMxSixFQUFFWixFQUFFNVEsRUFBRXZQLEVBQUUwdkIsRUFBRWp4QixFQUFFLENBQUMsSUFBSXNCLEVBQUVuRixFQUFFc2hDLEVBQUUsRUFBRXo5QixFQUFFaXhCLEVBQUUsRUFBRXlNLEdBQUcsR0FBR0QsR0FBRyxFQUFFNWlDLEVBQUU2aUMsR0FBRyxFQUFFRyxFQUFPNU0sSUFBTCxHQUFPLEtBQUssSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLElBQUksRUFBRSxHQUFHLEVBQUUsRUFBRWpGLEVBQUV6cUIsRUFBRSxFQUFFdkIsRUFBRSxFQUFFK2UsRUFBRXhkLEVBQUUsRUFBRSxHQUFHdkIsRUFBRTBoQixFQUFFLEdBQU9BLElBQUosR0FBTyxFQUFFQSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUlBLEVBQUUsS0FBSyxJQUFJQSxDQUFDLEVBQUUsTUFBTUEsQ0FBQyxHQUFHQSxJQUFJLEVBQUUsR0FBR3ZsQixFQUFFLE1BQU11bEIsQ0FBQyxFQUFFLEVBQUUsRUFBRXBnQixFQUFFbzhCLElBQUlwOEIsRUFBRSxLQUFLLE1BQU0sS0FBSyxJQUFJb2dCLENBQUMsRUFBRSxLQUFLLEdBQUcsRUFBRUEsR0FBR25nQixFQUFFLEtBQUssSUFBSSxFQUFFLENBQUNELENBQUMsR0FBRyxJQUFJQSxJQUFJQyxHQUFHLEdBQUcsSUFBSW1nQixHQUFHLEdBQUdwZ0IsRUFBRXpHLEVBQUVnakMsRUFBRXQ4QixFQUFFczhCLEVBQUUsS0FBSyxJQUFJLEVBQUUsRUFBRWhqQyxDQUFDLEdBQUcwRyxJQUFJRCxJQUFJQyxHQUFHLEdBQUdtOEIsR0FBR3A4QixFQUFFekcsR0FBR3NCLEVBQUUsRUFBRW1GLEVBQUVvOEIsR0FBRyxHQUFHcDhCLEVBQUV6RyxHQUFHc0IsR0FBR3VsQixFQUFFbmdCLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRTB2QixDQUFDLEVBQUUzdkIsR0FBR3pHLElBQUlzQixFQUFFdWxCLEVBQUUsS0FBSyxJQUFJLEVBQUU3bUIsRUFBRSxDQUFDLEVBQUUsS0FBSyxJQUFJLEVBQUVvMkIsQ0FBQyxFQUFFM3ZCLEVBQUUsSUFBSSxHQUFHMnZCLEVBQUUzTyxFQUFFeFIsRUFBRWtiLENBQUMsRUFBRSxJQUFJN3ZCLEVBQUU2dkIsR0FBR2pOLEVBQUU1aUIsR0FBRyxJQUFJODBCLEdBQUcsRUFBRSxDQUFDLElBQUkzdkIsRUFBRUEsR0FBRzJ2QixFQUFFOTBCLEVBQUVzaEMsR0FBR3hNLEVBQUUsRUFBRXdNLEVBQUVuYixFQUFFeFIsRUFBRWtiLENBQUMsRUFBRSxJQUFJMXFCLEVBQUUwcUIsR0FBR2pOLEVBQUV6ZCxHQUFHLElBQUltOEIsR0FBRyxFQUFFLENBQUNuYixFQUFFeFIsRUFBRWtiLEVBQUVqTixDQUFDLEdBQUcsSUFBSS9lLENBQUMsQ0FBQyxHQUFFLEtBQUssS0FBS3NpQixFQUFFLFFBQVEsRUFBZSxPQUFPLEtBQXBCLElBQXlCLEtBQWtCLE9BQU8sT0FBcEIsSUFBMkIsT0FBTyxHQUFHQSxFQUFFLFFBQVEsRUFBRSxPQUFPLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLDhEQUE4RCxvREFBb0QsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLFNBQVNBLEVBQUV2RCxFQUFFMkMsRUFBRSxFQUFFLFNBQVNZLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFM3ZCLEVBQUUwcUIsRUFBRWxiLEVBQUU5USxFQUFFNjlCLEVBQUUsQ0FBQyxJQUFJMWhDLEVBQUVzaEMsRUFBRUMsRUFBRSxTQUFTN2lDLEdBQUcsQ0FBRSxFQUFDeW5CLEVBQUV2RCxFQUFFLFFBQVEsQ0FBQSxHQUFJLFVBQVUwZSxFQUFlLE9BQU8sT0FBcEIsS0FBNEIsT0FBTyxhQUFhQyxFQUFlLE9BQU8sT0FBcEIsS0FBNEIsT0FBTyxhQUFhLE9BQU8saUJBQWlCRCxFQUFFLFNBQVNuYixFQUFFLENBQUMsT0FBTyxPQUFPLGFBQWFBLENBQUMsQ0FBQyxFQUFFb2IsR0FBR3ZoQyxFQUFFLEdBQUcsT0FBTyxpQkFBaUIsVUFBVSxTQUFTbW1CLEVBQUUsQ0FBQyxJQUFJWixFQUFFWSxFQUFFLE9BQU9aLElBQUksUUFBZUEsSUFBUCxNQUEyQlksRUFBRSxPQUFuQixpQkFBMEJBLEVBQUUsa0JBQWtCLEVBQUVubUIsRUFBRSxRQUFRQSxFQUFFLE1BQU8sRUFBQSxFQUFHLEVBQUUsRUFBRSxFQUFFLFNBQVNtbUIsRUFBRSxDQUFDbm1CLEVBQUUsS0FBS21tQixDQUFDLEVBQUUsT0FBTyxZQUFZLGVBQWUsR0FBRyxDQUFDLEdBQUcsU0FBU0EsRUFBRSxDQUFDLFdBQVdBLEVBQUUsQ0FBQyxDQUFDLEdBQUdBLEVBQUUsTUFBTSxVQUFVQSxFQUFFLFFBQVEsR0FBR0EsRUFBRSxJQUFJLENBQUUsRUFBQ0EsRUFBRSxLQUFLLENBQUEsRUFBR0EsRUFBRSxHQUFHem5CLEVBQUV5bkIsRUFBRSxZQUFZem5CLEVBQUV5bkIsRUFBRSxLQUFLem5CLEVBQUV5bkIsRUFBRSxJQUFJem5CLEVBQUV5bkIsRUFBRSxlQUFlem5CLEVBQUV5bkIsRUFBRSxtQkFBbUJ6bkIsRUFBRXluQixFQUFFLEtBQUt6bkIsRUFBRXluQixFQUFFLFFBQVEsU0FBU0EsRUFBRSxDQUFDLE1BQU0sSUFBSSxNQUFNLGtDQUFrQyxDQUFDLEVBQUVBLEVBQUUsSUFBSSxVQUFVLENBQUMsTUFBTSxHQUFHLEVBQUVBLEVBQUUsTUFBTSxTQUFTQSxFQUFFLENBQUMsTUFBTSxJQUFJLE1BQU0sZ0NBQWdDLENBQUMsQ0FBQyxHQUFFLEtBQUssS0FBS0EsRUFBRSxRQUFRLEVBQWUsT0FBTyxLQUFwQixJQUF5QixLQUFrQixPQUFPLE9BQXBCLElBQTJCLE9BQU8sQ0FBRSxFQUFDQSxFQUFFLFFBQVEsRUFBRSxPQUFPLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLGdFQUFnRSxvREFBb0QsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFBLEVBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQywwQ0NZejhqQ3ljLEdBQWMsSUFBSUMsSUFBWUMsR0FBS0QsRUFBUSxLQUFLLEdBQUcsQ0FBQyxFQ1YzREUsR0FBYSxJQUFJLElBSWhCLE1BQU1DLFdBQXNCekUsRUFBVSxDQUN6QyxZQUFZMXdCLEVBQUssQ0FDYixRQUNBLE9BQU8sZUFBZSxLQUFNLFFBQVMsQ0FDakMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsS0FBSyxNQUFRQSxHQUFPLElBQUksR0FDM0IsQ0FRRCxPQUFPdVUsRUFBUTZnQixFQUFRLENBQ25CLE9BQU8sUUFBUSxRQUFRLEtBQUssTUFBTSxJQUFJTCxHQUFZeGdCLEVBQVE2Z0IsQ0FBTSxDQUFDLEdBQUssSUFBSSxDQUM3RSxDQU9ELE1BQU0sT0FBTzdnQixFQUFRNmdCLEVBQVEvZ0MsRUFBTyxDQUNoQyxLQUFLLE1BQU0sSUFBSTBnQyxHQUFZeGdCLEVBQVE2Z0IsQ0FBTSxFQUFHL2dDLENBQUssQ0FDcEQsQ0FNRCxPQUFPLFFBQVMsQ0FDWixPQUFPLElBQUk4Z0MsR0FBY0QsRUFBVSxDQUN0QyxDQUNMLENDcENBLE1BQU1HLEdBQWUsSUFBTSxHQUlwQixNQUFNQyxXQUFzQjFiLEVBQVMsQ0FDeEMsSUFBSSxlQUFnQixDQUNoQixNQUFPLENBQ0gsVUFBVyxPQUNYLFFBQVMsTUFDckIsQ0FDSyxDQUNELFlBQVk3UCxFQUFRLENBQ2hCLE1BQU1BLENBQU0sRUFJWixPQUFPLGVBQWUsS0FBTSxVQUFXLENBQ25DLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFlBQWEsQ0FDckMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sT0FBUSxDQUNoQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxXQUFZLENBQ3BDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELEtBQUssUUFBVUEsRUFBTyxTQUFXc3JCLEdBQVksRUFDN0MsS0FBSyxVQUFZdHJCLEVBQU8sVUFDeEIsS0FBSyxLQUFPQSxFQUFPLE1BQVEsQ0FBQSxFQUMzQixLQUFLLFNBQVdBLEVBQU8sVUFBWSxDQUFBLENBQ3RDLENBQ0wsQ0FJTyxNQUFNd3JCLFdBQTBCRCxFQUFjLENBSWpELElBQUksVUFBVyxDQUNYLE1BQU8sQ0FBQyxPQUFRLFVBQVcsU0FBVSxPQUFRLFdBQVksV0FBVyxDQUN2RSxDQUNELFlBQVksQ0FBRSxVQUFBbmtDLEVBQVcsZ0JBQUFna0IsRUFBaUIsR0FBR3BMLENBQU0sRUFBSSxDQUNuRCxNQUFNLENBQ0YsVUFBVzVZLEdBQWFna0IsRUFDeEIsR0FBR3BMLENBQ2YsQ0FBUyxFQUtELE9BQU8sZUFBZSxLQUFNLFNBQVUsQ0FDbEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sUUFBUyxDQUNqQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxZQUFhLENBQ3JDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNHLE9BQU9BLEVBQU8sT0FBVSxTQUN4QixLQUFLLE1BQVFBLEVBQU8sTUFFZkEsRUFBTyxNQUNaLEtBQUssTUFBUW9yQixHQUFjLFNBRzNCLEtBQUssTUFBUSxPQUVqQixLQUFLLE9BQVMsSUFBSTlvQixHQUFZdEMsR0FBVSxDQUFFLENBQUEsQ0FDN0MsQ0FDRCxNQUFNLGFBQWFyVyxFQUFNLENBRXJCLElBQUkwN0IsRUFBWSxLQUFLLEtBQUsxN0IsRUFBSyxPQUFTLENBQUMsRUFDekMsR0FBSSxDQUFDLEtBQUssVUFDTixHQUFJLENBQ0EsS0FBSyxVQUFZLE1BQU1xN0IsR0FBaUIsY0FBZSxLQUNqREMsR0FBd0IsS0FBSyxTQUFTLEVBQ3RDLE1BQU0sQ0FDZixPQUNNbnpCLEVBQU8sQ0FDVixRQUFRLEtBQUssMEVBQTJFQSxDQUFLLENBQ2hHLENBRUwsT0FBSSxLQUFLLFlBQ0x1ekIsRUFBWSxLQUFLLFVBQVUsT0FBTzE3QixDQUFJLEVBQUUsUUFFckMwN0IsQ0FDVixDQUNELE9BQU8sMkJBQTJCMzZCLEVBQU8sQ0FDckMsT0FBSSxPQUFPQSxHQUFVLFNBQ1YsSUFBSTQ4QixHQUFrQjU4QixDQUFLLEVBRTdCLE1BQU0sUUFBUUEsQ0FBSyxFQUNqQixJQUFJKytCLEdBQWdCLytCLEVBQU0sSUFBSTQ3QixFQUEwQixDQUFDLEVBR3pENTdCLENBRWQsQ0FLRCxvQkFBcUIsQ0FDakIsTUFBTyxFQUNWLENBTUQsd0NBQXdDNmxCLEVBQWEsQ0FFakQsTUFBTXZRLEVBQVMsQ0FDWCxHQUFHLEtBQUssbUJBQW9CLEVBQzVCLEdBQUd1USxFQUNILE1BQU8sS0FBSyxTQUFVLEVBQ3RCLE9BQVEsS0FBSyxXQUFZLENBQ3JDLEVBTVEsT0FMd0IsT0FBTyxRQUFRdlEsQ0FBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDdEssRUFBR3BMLENBQUssSUFBTUEsSUFBVSxNQUFTLEVBRXBGLElBQUksQ0FBQyxDQUFDTSxFQUFLTixDQUFLLElBQU0sR0FBR00sQ0FBRyxJQUFJLEtBQUssVUFBVU4sQ0FBSyxDQUFDLEVBQUUsRUFDdkQsS0FBTSxFQUNOLEtBQUssR0FBRyxDQUVoQixDQUtELFdBQVksQ0FDUixNQUFPLENBQ0gsR0FBRyxLQUFLLG1CQUFvQixFQUM1QixNQUFPLEtBQUssU0FBVSxFQUN0QixPQUFRLEtBQUssV0FBWSxDQUNyQyxDQUNLLENBS0QsYUFBYSxZQUFZVixFQUFNLENBQzNCLEtBQU0sQ0FBRSxNQUFBNmhDLEVBQU8sT0FBQUMsRUFBUSxHQUFHLzdCLENBQUksRUFBSy9GLEVBQ25DLEdBQUk4aEMsR0FBVUEsSUFBVyxrQkFDckIsTUFBTSxJQUFJLE1BQU0sOEJBQThCQSxDQUFNLEVBQUUsRUFFMUQsTUFBTUMsRUFBTSxDQUNSLFFBQVMsTUFBTSxRQUFBLFFBQUEsRUFBQSxLQUFBLElBQUFDLEVBQUEsR0FBb0MsVUFDdEQsRUFBQ0gsQ0FBSyxFQUNQLEdBQUlFLElBQVEsT0FDUixNQUFNLElBQUksTUFBTSw2QkFBNkJGLENBQUssRUFBRSxFQUV4RCxPQUFPLElBQUlFLEVBQUloOEIsQ0FBSSxDQUN0QixDQUNMLENDbkxPLE1BQU1rOEIsV0FBZ0JMLEVBQWtCLENBQzNDLFlBQVksQ0FBRSxZQUFBTSxFQUFhLEdBQUduOEIsR0FBUSxDQUNsQyxNQUFNbThCLEVBQWMsQ0FBRSxlQUFnQkEsRUFBYSxHQUFHbjhCLENBQUksRUFBS0EsQ0FBSSxFQUNuRSxPQUFPLGVBQWUsS0FBTSxlQUFnQixDQUN4QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLENBQUMsWUFBYSxPQUFRLEtBQUssU0FBUSxDQUFFLENBQ3hELENBQVMsQ0FDSixDQVNELE1BQU0sT0FBT2pGLEVBQU9SLEVBQVMsQ0FDekIsTUFBTTZoQyxFQUFjRixHQUFRLDJCQUEyQm5oQyxDQUFLLEVBRTVELE9BRGUsTUFBTSxLQUFLLGVBQWUsQ0FBQ3FoQyxDQUFXLEVBQUc3aEMsRUFBU0EsR0FBQSxZQUFBQSxFQUFTLFNBQVMsR0FDckUsWUFBWSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQ25DLENBRUQsTUFBTyxzQkFBc0I4aEMsRUFBUUMsRUFBVUMsRUFBYSxDQUN4RCxNQUFNLElBQUksTUFBTSxrQkFBa0IsQ0FDckMsQ0FDRCx1Q0FBdUNoaUMsRUFBUyxDQUM1QyxLQUFNLENBQUNvbUIsRUFBZ0JDLENBQVcsRUFBSSxNQUFNLHVDQUF1Q3JtQixDQUFPLEVBQzFGLE9BQUlxbUIsR0FBQSxNQUFBQSxFQUFhLFNBQVcsQ0FBQ0EsRUFBWSxTQUNyQ0EsRUFBWSxPQUFTLFlBQVksUUFBUUEsRUFBWSxPQUFPLEdBRXpELENBQUNELEVBQWdCQyxDQUFXLENBQ3RDLENBQ0QsTUFBTyxnQkFBZ0I3bEIsRUFBT1IsRUFBUyxDQUVuQyxHQUFJLEtBQUssd0JBQTBCMmhDLEdBQVEsVUFBVSxzQkFDakQsTUFBTSxLQUFLLE9BQU9uaEMsRUFBT1IsQ0FBTyxNQUUvQixDQUNELE1BQU1zZ0IsRUFBU3FoQixHQUFRLDJCQUEyQm5oQyxDQUFLLEVBQ2pELENBQUM0bEIsRUFBZ0JDLENBQVcsRUFBSSxLQUFLLHVDQUF1Q3JtQixDQUFPLEVBQ25GdW1CLEVBQW1CLE1BQU14RyxHQUFnQixVQUFVcUcsRUFBZSxVQUFXLEtBQUssVUFBV0EsRUFBZSxLQUFNLEtBQUssS0FBTUEsRUFBZSxTQUFVLEtBQUssU0FBVSxDQUFFLFFBQVMsS0FBSyxPQUFPLENBQUUsRUFDOUx6TixFQUFRLENBQ1YsUUFBUzBOLEVBQ1Qsa0JBQW1CLHVCQUFNLGlCQUFpQkEsRUFDMUQsRUFDa0JNLEVBQWMsTUFBTUosR0FBQSxZQUFBQSxFQUFrQixlQUFlLEtBQUssT0FBTSxFQUFJLENBQUNqRyxFQUFPLFNBQVUsQ0FBQSxFQUFHLE9BQVcsT0FBVzNILEVBQU8sT0FBVyxPQUFXeU4sRUFBZSxVQUNqSyxJQUFJckssRUFBYSxJQUFJc2YsR0FBZ0IsQ0FDakMsS0FBTSxFQUN0QixDQUFhLEVBQ0QsR0FBSSxDQUNBLGdCQUFpQm5VLEtBQVMsS0FBSyxzQkFBc0IxbUIsRUFBTSxTQUFVLEVBQUU2bEIsRUFBYU0sR0FBQSxZQUFBQSxFQUFjLEVBQUUsRUFDM0Y1SyxFQUlEQSxFQUFhQSxFQUFXLE9BQU9tTCxDQUFLLEVBSHBDbkwsRUFBYW1MLEVBS2IsT0FBT0EsRUFBTSxNQUFTLFdBQ3RCLE1BQU1BLEVBQU0sS0FHdkIsT0FDTTlmLEVBQUssQ0FDUixZQUFNLFFBQVEsS0FBS3VmLEdBQWUsQ0FBQSxHQUFJLElBQUtILEdBQWVBLEdBQUEsWUFBQUEsRUFBWSxlQUFlcGYsRUFBSSxDQUFDLEVBQ3BGQSxDQUNULENBQ0QsTUFBTSxRQUFRLEtBQUt1ZixHQUFlLENBQUEsR0FBSSxJQUFLSCxHQUFlQSxHQUFBLFlBQUFBLEVBQVksYUFBYSxDQUMvRSxZQUFhLENBQUMsQ0FBQ3pLLENBQVUsQ0FBQyxDQUM3QixFQUFDLENBQUMsQ0FDTixDQUNKLENBU0QsTUFBTSxlQUFla21CLEVBQWNqaUMsRUFBUzlDLEVBQVcsQ0FDbkQsTUFBTXVTLEVBQVV3eUIsRUFBYSxJQUFLSixHQUFnQkEsRUFBWSxTQUFRLENBQUUsRUFDeEUsT0FBTyxLQUFLLFNBQVNweUIsRUFBU3pQLEVBQVM5QyxDQUFTLENBQ25ELENBS0QsaUJBQWlCNmtDLEVBQVUsQ0FDdkIsTUFBTyxFQUNWLENBQ0Qsa0JBQWtCRyxFQUFXLENBQ3pCLE1BQU1DLEVBQWEsQ0FBQSxFQUNuQixRQUFTamtDLEVBQUksRUFBR0EsRUFBSWdrQyxFQUFVLFlBQVksT0FBUWhrQyxHQUFLLEVBQUcsQ0FDdEQsTUFBTWtrQyxFQUFVRixFQUFVLFlBQVloa0MsQ0FBQyxFQUN2QyxHQUFJQSxJQUFNLEVBQ05pa0MsRUFBVyxLQUFLLENBQ1osWUFBYSxDQUFDQyxDQUFPLEVBQ3JCLFVBQVdGLEVBQVUsU0FDekMsQ0FBaUIsTUFFQSxDQUNELE1BQU1HLEVBQVlILEVBQVUsVUFDdEIsQ0FBRSxHQUFHQSxFQUFVLFVBQVcsV0FBWSxDQUFBLENBQUksRUFDMUMsT0FDTkMsRUFBVyxLQUFLLENBQ1osWUFBYSxDQUFDQyxDQUFPLEVBQ3JCLFVBQUFDLENBQ3BCLENBQWlCLENBQ0osQ0FDSixDQUNELE9BQU9GLENBQ1YsQ0FFRCxNQUFNLGtCQUFrQjF5QixFQUFTNnlCLEVBQWVDLEVBQWdCLENBQzVELE1BQU1oYyxFQUFtQixNQUFNeEcsR0FBZ0IsVUFBVXdpQixFQUFlLFVBQVcsS0FBSyxVQUFXQSxFQUFlLEtBQU0sS0FBSyxLQUFNQSxFQUFlLFNBQVUsS0FBSyxTQUFVLENBQUUsUUFBUyxLQUFLLE9BQU8sQ0FBRSxFQUM5TDVwQixFQUFRLENBQ1YsUUFBUzJwQixFQUNULGtCQUFtQix1QkFBTSxpQkFBaUJBLEVBQ3RELEVBQ2MzYixFQUFjLE1BQU1KLEdBQUEsWUFBQUEsRUFBa0IsZUFBZSxLQUFLLE9BQU0sRUFBSTlXLEVBQVMsT0FBVyxPQUFXa0osRUFBTyxPQUFXLE9BQVc0cEIsR0FBQSxZQUFBQSxFQUFnQixVQUN0SixJQUFJcnlCLEVBQ0osR0FBSSxDQUNBQSxFQUFTLE1BQU0sS0FBSyxVQUFVVCxFQUFTNnlCLEVBQWUzYixHQUFBLFlBQUFBLEVBQWMsRUFBRSxDQUN6RSxPQUNNdmYsRUFBSyxDQUNSLFlBQU0sUUFBUSxLQUFLdWYsR0FBZSxDQUFBLEdBQUksSUFBS0gsR0FBZUEsR0FBQSxZQUFBQSxFQUFZLGVBQWVwZixFQUFJLENBQUMsRUFDcEZBLENBQ1QsQ0FDRCxNQUFNbzdCLEVBQW1CLEtBQUssa0JBQWtCdHlCLENBQU0sRUFDdEQsTUFBTSxRQUFRLEtBQUt5VyxHQUFlLENBQUUsR0FBRSxJQUFJLENBQUNILEVBQVl0b0IsSUFBTXNvQixHQUFBLFlBQUFBLEVBQVksYUFBYWdjLEVBQWlCdGtDLENBQUMsRUFBRSxDQUFDLEVBQzNHLE1BQU1nYyxHQUFTeU0sR0FBQSxZQUFBQSxFQUFhLElBQUs3RyxHQUFZQSxFQUFRLFNBQVUsT0FJL0QsY0FBTyxlQUFlNVAsRUFBUWtyQixHQUFTLENBQ25DLE1BQU9saEIsRUFBUyxDQUFFLE9BQUFBLENBQU0sRUFBSyxPQUM3QixhQUFjLEVBQzFCLENBQVMsRUFDTWhLLENBQ1YsQ0FJRCxNQUFNLFNBQVNULEVBQVN6UCxFQUFTOUMsRUFBVyxDQUN4QyxHQUFJLENBQUMsTUFBTSxRQUFRdVMsQ0FBTyxFQUN0QixNQUFNLElBQUksTUFBTSxpREFBaUQsRUFFckUsSUFBSTZ5QixFQUNBLE1BQU0sUUFBUXRpQyxDQUFPLEVBQ3JCc2lDLEVBQWdCLENBQUUsS0FBTXRpQyxHQUd4QnNpQyxFQUFnQnRpQyxFQUVwQixLQUFNLENBQUNvbUIsRUFBZ0JDLENBQVcsRUFBSSxLQUFLLHVDQUF1Q2ljLENBQWEsRUFFL0YsR0FEQWxjLEVBQWUsVUFBWUEsRUFBZSxXQUFhbHBCLEVBQ25ELENBQUMsS0FBSyxNQUNOLE9BQU8sS0FBSyxrQkFBa0J1UyxFQUFTNFcsRUFBYUQsQ0FBYyxFQUV0RSxLQUFNLENBQUUsTUFBQXVVLENBQU8sRUFBRyxLQUNaOEgsRUFBZSxLQUFLLHdDQUF3Q3BjLENBQVcsRUFDdkVxYyxFQUF1QixDQUFBLEVBQ3ZCMW1CLEVBQWMsTUFBTSxRQUFRLElBQUl2TSxFQUFRLElBQUksTUFBTzZRLEVBQVF4YSxJQUFVLENBQ3ZFLE1BQU1qSCxFQUFTLE1BQU04N0IsRUFBTSxPQUFPcmEsRUFBUW1pQixDQUFZLEVBQ3RELE9BQUs1akMsR0FDRDZqQyxFQUFxQixLQUFLNThCLENBQUssRUFFNUJqSCxDQUNWLENBQUEsQ0FBQyxFQUNGLElBQUl3akMsRUFBWSxDQUFBLEVBQ2hCLEdBQUlLLEVBQXFCLE9BQVMsRUFBRyxDQUNqQyxNQUFNNWUsRUFBVSxNQUFNLEtBQUssa0JBQWtCNGUsRUFBcUIsSUFBS3hrQyxHQUFNdVIsRUFBUXZSLENBQUMsQ0FBQyxFQUFHbW9CLEVBQWFELENBQWMsRUFDckgsTUFBTSxRQUFRLElBQUl0QyxFQUFRLFlBQVksSUFBSSxNQUFPL0gsRUFBWWpXLElBQVUsQ0FDbkUsTUFBTTY4QixFQUFjRCxFQUFxQjU4QixDQUFLLEVBQzlDLE9BQUFrVyxFQUFZMm1CLENBQVcsRUFBSTVtQixFQUNwQjRlLEVBQU0sT0FBT2xyQixFQUFRa3pCLENBQVcsRUFBR0YsRUFBYzFtQixDQUFVLENBQ3JFLENBQUEsQ0FBQyxFQUNGc21CLEVBQVl2ZSxFQUFRLFdBQWEsRUFDcEMsQ0FDRCxNQUFPLENBQUUsWUFBQTlILEVBQWEsVUFBQXFtQixFQUN6QixDQUlELE1BQU0sS0FBSy9oQixFQUFRdGdCLEVBQVM5QyxFQUFXLENBQ25DLEtBQU0sQ0FBRSxZQUFBOGUsR0FBZ0IsTUFBTSxLQUFLLFNBQVMsQ0FBQ3NFLENBQU0sRUFBR3RnQixFQUFTOUMsQ0FBUyxFQUN4RSxPQUFPOGUsRUFBWSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQzVCLENBU0QsTUFBTSxRQUFRdmMsRUFBTU8sRUFBUzlDLEVBQVcsQ0FDcEMsT0FBTyxLQUFLLEtBQUt1QyxFQUFNTyxFQUFTOUMsQ0FBUyxDQUM1QyxDQVNELE1BQU0sZ0JBQWdCK1MsRUFBVWpRLEVBQVM5QyxFQUFXLENBQ2hELE1BQU11QyxFQUFPbWUsR0FBZ0IzTixDQUFRLEVBQy9CMnlCLEVBQWEsTUFBTSxLQUFLLEtBQUtuakMsRUFBTU8sRUFBUzlDLENBQVMsRUFDM0QsT0FBTyxJQUFJMCtCLEdBQVVnSCxDQUFVLENBQ2xDLENBS0Qsb0JBQXFCLENBQ2pCLE1BQU8sRUFDVixDQUtELFdBQVksQ0FDUixNQUFPLENBQ0gsR0FBRyxLQUFLLG1CQUFvQixFQUM1QixNQUFPLEtBQUssU0FBVSxFQUN0QixPQUFRLEtBQUssV0FBWSxDQUNyQyxDQUNLLENBQ0QsWUFBYSxDQUNULE1BQU8sVUFDVixDQUtELGFBQWEsWUFBWWxqQyxFQUFNLENBQzNCLEtBQU0sQ0FBRSxNQUFBNmhDLEVBQU8sT0FBQUMsRUFBUSxHQUFHLzdCLENBQUksRUFBSy9GLEVBQ25DLEdBQUk4aEMsR0FBVUEsSUFBVyxXQUNyQixNQUFNLElBQUksTUFBTSw4QkFBOEJBLENBQU0sRUFBRSxFQUUxRCxNQUFNQyxFQUFNLENBQ1IsUUFBUyxNQUFNLFFBQUEsUUFBQSxFQUFBLEtBQUEsSUFBQW9CLEVBQUEsR0FBdUIsTUFDekMsRUFBQ3RCLENBQUssRUFDUCxHQUFJRSxJQUFRLE9BQ1IsTUFBTSxJQUFJLE1BQU0sOEJBQThCRixDQUFLLEVBQUUsRUFFekQsT0FBTyxJQUFJRSxFQUFJaDhCLENBQUksQ0FDdEIsQ0FDTCxDQVFPLE1BQU1xOUIsV0FBWW5CLEVBQVEsQ0FDN0IsTUFBTSxVQUFVbHlCLEVBQVN6UCxFQUFTd21CLEVBQVksQ0FFMUMsTUFBTyxDQUFFLFlBRFcsTUFBTSxRQUFRLElBQUkvVyxFQUFRLElBQUksQ0FBQzZRLEVBQVFxaUIsSUFBZ0IsS0FBSyxNQUFNcmlCLEVBQVEsQ0FBRSxHQUFHdGdCLEVBQVMsWUFBQTJpQyxDQUFXLEVBQUluYyxDQUFVLEVBQUUsS0FBTS9tQixHQUFTLENBQUMsQ0FBRSxLQUFBQSxFQUFNLENBQUMsQ0FBQyxDQUFDLENBQzlJLENBQ3ZCLENBQ0wsQ0M5UU8sU0FBU3NqQyxHQUFzQjFlLEVBQUcsQ0FDckMsSUFBSXpjLEVBQ0osT0FBSXljLEVBQUUsWUFBWSxPQUFTaU0sR0FBMEIsTUFDakQxb0IsRUFBUSxJQUFJLE1BQU15YyxFQUFFLE9BQU8sRUFDM0J6YyxFQUFNLEtBQU8sZ0JBRVJ5YyxFQUFFLFlBQVksT0FBU2dNLEdBQWtCLE1BQzlDem9CLEVBQVEsSUFBSSxNQUFNeWMsRUFBRSxPQUFPLEVBQzNCemMsRUFBTSxLQUFPLGNBR2JBLEVBQVF5YyxFQUVMemMsQ0FDWCxDQ2FPLE1BQU1vN0IsV0FBbUJGLEVBQUksQ0FDaEMsT0FBTyxTQUFVLENBQ2IsTUFBTyxZQUNWLENBQ0QsSUFBSSxVQUFXLENBQ1gsTUFBTyxDQUFDLEdBQUcsTUFBTSxTQUFVLFVBQVcsYUFBYSxDQUN0RCxDQUNELElBQUksWUFBYSxDQUNiLE1BQU8sQ0FDSCxhQUFjLGlCQUNkLGtCQUFtQix1QkFDbkIsYUFBYyxxQkFDMUIsQ0FDSyxDQUNELElBQUksWUFBYSxDQUNiLE1BQU8sQ0FDSCxVQUFXLFFBQ1gsYUFBYyxpQkFDZCxzQkFBdUIsMkJBQ3ZCLGtCQUFtQix1QkFDbkIsMkJBQTRCLGlDQUM1Qiw2QkFBOEIsa0NBQzFDLENBQ0ssQ0FDRCxZQUFZNTJCLEVBRVorMkIsRUFBZSxxQkF1SlgsR0F0SkEsTUFBTS8yQixHQUFVLENBQUEsQ0FBRSxFQUNsQixPQUFPLGVBQWUsS0FBTSxrQkFBbUIsQ0FDM0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxFQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sY0FBZSxDQUN2QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLENBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxPQUFRLENBQ2hDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sQ0FDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLG1CQUFvQixDQUM1QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLENBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxrQkFBbUIsQ0FDM0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxDQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sSUFBSyxDQUM3QixXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLENBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxZQUFhLENBQ3JDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFlBQWEsQ0FDckMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sWUFBYSxDQUNyQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLGVBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxpQkFBa0IsQ0FDMUMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sY0FBZSxDQUN2QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxVQUFXLENBQ25DLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLE9BQVEsQ0FDaEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sT0FBUSxDQUNoQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxZQUFhLENBQ3JDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sRUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLGVBQWdCLENBQ3hDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLHdCQUF5QixDQUNqRCxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxvQkFBcUIsQ0FDN0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sNkJBQThCLENBQ3RELFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLCtCQUFnQyxDQUN4RCxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxzQkFBdUIsQ0FDL0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sZUFBZ0IsQ0FDeEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sU0FBVSxDQUNsQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxlQUFnQixDQUN4QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxLQUFLLGNBQ0RBLEdBQUEsWUFBQUEsRUFBUSxlQUFnQitLLEdBQXVCLGdCQUFnQixFQUNuRSxLQUFLLG1CQUNEL0ssR0FBQSxZQUFBQSxFQUFRLG9CQUNKK0ssR0FBdUIsc0JBQXNCLEVBQ2pELENBQUMsS0FBSyxtQkFBcUIsQ0FBQyxLQUFLLGFBQ2pDLE1BQU0sSUFBSSxNQUFNLDBDQUEwQyxFQWlDOUQsR0EvQkEsS0FBSyw0QkFDRC9LLEdBQUEsWUFBQUEsRUFBUSw2QkFDSitLLEdBQXVCLGdDQUFnQyxFQUMvRCxLQUFLLCtCQUNBL0ssR0FBQSxZQUFBQSxFQUFRLDJDQUNMQSxHQUFBLFlBQUFBLEVBQVEsaUNBQ1ArSyxHQUF1Qiw4Q0FBOEMsR0FDbEVBLEdBQXVCLGtDQUFrQyxHQUNyRSxLQUFLLHVCQUNEL0ssR0FBQSxZQUFBQSxFQUFRLHdCQUNKK0ssR0FBdUIsMEJBQTBCLEVBQ3pELEtBQUsscUJBQ0QvSyxHQUFBLFlBQUFBLEVBQVEsc0JBQ0orSyxHQUF1Qix3QkFBd0IsRUFDdkQsS0FBSyxlQUNEckosRUFBQTFCLEdBQUEsWUFBQUEsRUFBUSxnQkFBUixZQUFBMEIsRUFBdUIsZUFDbkJxSixHQUF1QixxQkFBcUIsRUFDcEQsS0FBSyxXQUFZL0ssR0FBQSxZQUFBQSxFQUFRLFlBQWEsS0FBSyxVQUMzQyxLQUFLLGdCQUFpQkEsR0FBQSxZQUFBQSxFQUFRLGlCQUFrQixLQUFLLGVBQ3JELEtBQUssYUFBY0EsR0FBQSxZQUFBQSxFQUFRLGNBQWUsQ0FBQSxFQUMxQyxLQUFLLFFBQVVBLEdBQUEsWUFBQUEsRUFBUSxRQUN2QixLQUFLLGFBQWNBLEdBQUEsWUFBQUEsRUFBUSxjQUFlLEtBQUssWUFDL0MsS0FBSyxNQUFPQSxHQUFBLFlBQUFBLEVBQVEsT0FBUSxLQUFLLEtBQ2pDLEtBQUssa0JBQW1CQSxHQUFBLFlBQUFBLEVBQVEsbUJBQW9CLEtBQUssaUJBQ3pELEtBQUssaUJBQWtCQSxHQUFBLFlBQUFBLEVBQVEsa0JBQW1CLEtBQUssZ0JBQ3ZELEtBQUssR0FBSUEsR0FBQSxZQUFBQSxFQUFRLElBQUssS0FBSyxFQUMzQixLQUFLLFVBQVlBLEdBQUEsWUFBQUEsRUFBUSxVQUN6QixLQUFLLFVBQVlBLEdBQUEsWUFBQUEsRUFBUSxVQUN6QixLQUFLLEtBQU9BLEdBQUEsWUFBQUEsRUFBUSxLQUNwQixLQUFLLEtBQU9BLEdBQUEsWUFBQUEsRUFBUSxLQUNwQixLQUFLLFdBQVlBLEdBQUEsWUFBQUEsRUFBUSxZQUFhLEdBQ2xDLEtBQUssRUFBSSxFQUNULE1BQU0sSUFBSSxNQUFNLHdFQUF3RSxFQUU1RixHQUFJLEtBQUssa0JBQW1CLENBQ3hCLEdBQUksQ0FBQyxLQUFLLDRCQUE4QixDQUFDLEtBQUssb0JBQzFDLE1BQU0sSUFBSSxNQUFNLDBDQUEwQyxFQUU5RCxHQUFJLENBQUMsS0FBSyw2QkFDTixNQUFNLElBQUksTUFBTSw0Q0FBNEMsRUFFaEUsR0FBSSxDQUFDLEtBQUssc0JBQ04sTUFBTSxJQUFJLE1BQU0sb0NBQW9DLEVBRXhELEtBQUssYUFBZSxLQUFLLGNBQWdCLEVBQzVDLENBQ0QsS0FBSyxhQUFlLENBQ2hCLE9BQVEsS0FBSyxhQUNiLGFBQWMsS0FBSyxhQUNuQixTQUFTKzJCLEdBQUEsWUFBQUEsRUFBZSxhQUFZcHhCLEVBQUEzRixHQUFBLFlBQUFBLEVBQVEsZ0JBQVIsWUFBQTJGLEVBQXVCLFVBQzNELHdCQUF5QixHQUN6QixpQkFBZ0JvRCxFQUFBZ3VCLEdBQUEsWUFBQUEsRUFBZSxjQUFmLFlBQUFodUIsRUFBNEIsWUFDeEN3YSxHQUFBdmEsRUFBQWhKLEdBQUEsWUFBQUEsRUFBUSxnQkFBUixZQUFBZ0osRUFBdUIsY0FBdkIsWUFBQXVhLEVBQW9DLFNBQ3hDLGVBQWNDLEVBQUF1VCxHQUFBLFlBQUFBLEVBQWUsY0FBZixZQUFBdlQsRUFBNEIsV0FDdEN3VCxHQUFBQyxFQUFBajNCLEdBQUEsWUFBQUEsRUFBUSxnQkFBUixZQUFBaTNCLEVBQXVCLGNBQXZCLFlBQUFELEVBQW9DLFFBQ3hDLEdBQUdELEVBQ0gsR0FBRy8yQixHQUFBLFlBQUFBLEVBQVEsYUFDdkIsQ0FDSyxDQUlELGlCQUFpQmxNLEVBQVMsQ0FDdEIsTUFBTyxDQUNILE1BQU8sS0FBSyxVQUNaLFlBQWEsS0FBSyxZQUNsQixNQUFPLEtBQUssS0FDWixrQkFBbUIsS0FBSyxpQkFDeEIsaUJBQWtCLEtBQUssZ0JBQ3ZCLEVBQUcsS0FBSyxFQUNSLFdBQVksS0FBSyxVQUNqQixXQUFZLEtBQUssWUFBYyxHQUFLLE9BQVksS0FBSyxVQUNyRCxNQUFNQSxHQUFBLFlBQUFBLEVBQVMsT0FBUSxLQUFLLEtBQzVCLEtBQU0sS0FBSyxLQUNYLE9BQVEsS0FBSyxVQUNiLEdBQUcsS0FBSyxXQUNwQixDQUNLLENBRUQsb0JBQXFCLENBQ2pCLE1BQU8sQ0FDSCxXQUFZLEtBQUssVUFDakIsR0FBRyxLQUFLLGlCQUFrQixFQUMxQixHQUFHLEtBQUssWUFDcEIsQ0FDSyxDQUlELG1CQUFvQixDQUNoQixNQUFPLENBQ0gsV0FBWSxLQUFLLFVBQ2pCLEdBQUcsS0FBSyxpQkFBa0IsRUFDMUIsR0FBRyxLQUFLLFlBQ3BCLENBQ0ssQ0FNRCxlQUFlc2dCLEVBQVEsQ0FDbkIsTUFBTXpZLEVBQVUsQ0FDWixLQUFNLE9BQ04sUUFBU3lZLENBQ3JCLEVBQ1EsT0FBTyxLQUFLLGVBQWlCLENBQUMsR0FBRyxLQUFLLGVBQWdCelksQ0FBTyxFQUFJLENBQUNBLENBQU8sQ0FDNUUsQ0FDRCxNQUFPLHNCQUFzQnlZLEVBQVF0Z0IsRUFBU3dtQixFQUFZLE9BQ3RELE1BQU0xUSxFQUFTLENBQ1gsR0FBRyxLQUFLLGlCQUFpQjlWLENBQU8sRUFDaEMsU0FBVSxLQUFLLGVBQWVzZ0IsQ0FBTSxFQUNwQyxPQUFRLEVBQ3BCLEVBQ2NvRSxFQUFTLE1BQU0sS0FBSyxvQkFBb0I1TyxFQUFROVYsQ0FBTyxFQUM3RCxnQkFBaUJOLEtBQVFnbEIsRUFBUSxDQUM3QixNQUFNMGUsRUFBUzFqQyxHQUFBLFlBQUFBLEVBQU0sUUFBUSxHQUM3QixHQUFJLENBQUMwakMsRUFDRCxTQUVKLEtBQU0sQ0FBRSxNQUFBQyxDQUFPLEVBQUdELEVBQ1pFLEVBQWtCLElBQUlqSSxHQUFnQixDQUN4QyxLQUFNZ0ksRUFBTSxTQUFXLEVBQ3ZDLENBQWEsRUFDRCxNQUFNQyxFQUNOLE1BQU1DLEVBQWtCLENBQ3BCLE9BQVF2akMsRUFBUSxhQUFlLEVBQy9CLFdBQVlvakMsRUFBTyxPQUFTLENBQzVDLEVBRWlCNWMsR0FBQSxNQUFBQSxFQUFZLGtCQUFrQjhjLEVBQWdCLE1BQVEsR0FBSUMsRUFDbEUsQ0FDRCxJQUFJMzFCLEVBQUE1TixFQUFRLFNBQVIsTUFBQTROLEVBQWdCLFFBQ2hCLE1BQU0sSUFBSSxNQUFNLFlBQVksQ0FFbkMsQ0FFRCxNQUFNLE1BQU0wUyxFQUFRdGdCLEVBQVN3bUIsRUFBWSxTQUNyQyxNQUFNMVEsRUFBUyxLQUFLLGlCQUFpQjlWLENBQU8sRUFDNUMsR0FBSThWLEVBQU8sT0FBUSxDQUNmLE1BQU00TyxFQUFTLE1BQU0sS0FBSyxzQkFBc0JwRSxFQUFRdGdCLEVBQVN3bUIsQ0FBVSxFQUMzRSxJQUFJaUIsRUFDSixnQkFBaUJQLEtBQVN4QyxFQUNsQitDLElBQWUsT0FDZkEsRUFBYVAsRUFHYk8sRUFBYUEsRUFBVyxPQUFPUCxDQUFLLEVBRzVDLE9BQU9PLEdBQUEsWUFBQUEsRUFBWSxPQUFRLEVBQzlCLEtBQ0ksQ0FDRCxNQUFNL1AsRUFBVyxNQUFNLEtBQUssb0JBQW9CLENBQzVDLEdBQUc1QixFQUNILE9BQVEsR0FDUixTQUFVLEtBQUssZUFBZXdLLENBQU0sQ0FDcEQsRUFBZSxDQUNDLE9BQVF0Z0IsRUFBUSxPQUNoQixHQUFHQSxFQUFRLE9BQzNCLENBQWEsRUFDRCxRQUFPNlIsR0FBQWpFLEVBQUE4SixHQUFBLFlBQUFBLEVBQVUsUUFBUSxLQUFsQixZQUFBOUosRUFBc0IsVUFBdEIsWUFBQWlFLEVBQStCLFVBQVcsRUFDcEQsQ0FDSixDQUNELE1BQU0sb0JBQW9CbWUsRUFBU2h3QixFQUFTLENBQ3hDLE1BQU13akMsRUFBaUIsS0FBSyxrQkFBa0J4akMsQ0FBTyxFQUNyRCxPQUFPLEtBQUssT0FBTyxLQUFLLFNBQVksQ0FDaEMsR0FBSSxDQUVBLE9BRFksTUFBTSxLQUFLLE9BQU8sS0FBSyxZQUFZLE9BQU9nd0IsRUFBU3dULENBQWMsQ0FFaEYsT0FDTW5mLEVBQUcsQ0FFTixNQURjMGUsR0FBc0IxZSxDQUFDLENBRXhDLENBQ2IsQ0FBUyxDQUNKLENBRUQsa0JBQWtCcmtCLEVBQVMsQ0FDdkIsR0FBSSxDQUFDLEtBQUssT0FBUSxDQUNkLE1BQU15akMsRUFBdUIsQ0FDekIsNkJBQThCLEtBQUssNkJBQ25DLDJCQUE0QixLQUFLLDJCQUNqQyxrQkFBbUIsS0FBSyxrQkFDeEIsb0JBQXFCLEtBQUssb0JBQzFCLFFBQVMsS0FBSyxhQUFhLE9BQzNDLEVBQ2tCL29CLEVBQVdnaUIsR0FBWStHLENBQW9CLEVBQzNDM3RCLEVBQVMsQ0FDWCxHQUFHLEtBQUssYUFDUixRQUFTNEUsRUFDVCxRQUFTLEtBQUssUUFDZCxXQUFZLENBQzVCLEVBQ2lCNUUsRUFBTyxTQUNSLE9BQU9BLEVBQU8sUUFFbEIsS0FBSyxPQUFTLElBQUk0dEIsR0FBYTV0QixDQUFNLENBQ3hDLENBQ0QsTUFBTTB0QixFQUFpQixDQUNuQixHQUFHLEtBQUssYUFDUixHQUFHeGpDLENBQ2YsRUFDUSxPQUFJLEtBQUssb0JBQ0x3akMsRUFBZSxRQUFVLENBQ3JCLFVBQVcsS0FBSyxrQkFDaEIsR0FBR0EsRUFBZSxPQUNsQyxFQUNZQSxFQUFlLE1BQVEsQ0FDbkIsY0FBZSxLQUFLLHNCQUNwQixHQUFHQSxFQUFlLEtBQ2xDLEdBRWVBLENBQ1YsQ0FDRCxVQUFXLENBQ1AsTUFBTyxRQUNWLENBQ0wsQ0MvWU8sTUFBTXhOLFdBQWUyTCxFQUFRLENBQ2hDLE9BQU8sU0FBVSxDQUNiLE1BQU8sUUFDVixDQUNELElBQUksVUFBVyxDQUNYLE1BQU8sQ0FBQyxHQUFHLE1BQU0sU0FBVSxTQUFTLENBQ3ZDLENBQ0QsSUFBSSxZQUFhLENBQ2IsTUFBTyxDQUNILGFBQWMsaUJBQ2Qsa0JBQW1CLHVCQUNuQixhQUFjLHFCQUMxQixDQUNLLENBQ0QsSUFBSSxZQUFhLENBQ2IsTUFBTyxDQUNILFVBQVcsUUFDWCxhQUFjLGlCQUNkLHNCQUF1QiwyQkFDdkIsa0JBQW1CLHVCQUNuQiwyQkFBNEIsaUNBQzVCLDZCQUE4QixrQ0FDMUMsQ0FDSyxDQUNELFlBQVl6MUIsRUFFWisyQixFQUFlLDJCQUNYLEtBQUtyMUIsRUFBQTFCLEdBQUEsWUFBQUEsRUFBUSxZQUFSLE1BQUEwQixFQUFtQixXQUFXLG1CQUMvQmlFLEVBQUEzRixHQUFBLFlBQUFBLEVBQVEsWUFBUixNQUFBMkYsRUFBbUIsV0FBVyxXQUM5QixHQUFDb0QsRUFBQS9JLEdBQUEsWUFBQUEsRUFBUSxZQUFSLE1BQUErSSxFQUFtQixTQUFTLGNBRTdCLE9BQU8sSUFBSSt0QixHQUFXOTJCLEVBQVErMkIsQ0FBYSxFQThKL0MsR0E1SkEsTUFBTS8yQixHQUFVLENBQUEsQ0FBRSxFQUNsQixPQUFPLGVBQWUsS0FBTSxrQkFBbUIsQ0FDM0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxFQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sY0FBZSxDQUN2QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLEVBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxZQUFhLENBQ3JDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sR0FDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLE9BQVEsQ0FDaEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxDQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sbUJBQW9CLENBQzVDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sQ0FDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLGtCQUFtQixDQUMzQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLENBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxJQUFLLENBQzdCLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sQ0FDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFNBQVUsQ0FDbEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sWUFBYSxDQUNyQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxZQUFhLENBQ3JDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sa0JBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxjQUFlLENBQ3ZDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFlBQWEsQ0FDckMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxFQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sVUFBVyxDQUNuQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxPQUFRLENBQ2hDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLE9BQVEsQ0FDaEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sWUFBYSxDQUNyQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLEVBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxlQUFnQixDQUN4QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSx3QkFBeUIsQ0FDakQsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sb0JBQXFCLENBQzdDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLDZCQUE4QixDQUN0RCxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSwrQkFBZ0MsQ0FDeEQsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sc0JBQXVCLENBQy9DLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLGVBQWdCLENBQ3hDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFNBQVUsQ0FDbEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sZUFBZ0IsQ0FDeEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsS0FBSyxjQUNEQSxHQUFBLFlBQUFBLEVBQVEsZUFBZ0IrSyxHQUF1QixnQkFBZ0IsRUFDbkUsS0FBSyxtQkFDRC9LLEdBQUEsWUFBQUEsRUFBUSxvQkFDSitLLEdBQXVCLHNCQUFzQixFQUNqRCxDQUFDLEtBQUssbUJBQXFCLENBQUMsS0FBSyxhQUNqQyxNQUFNLElBQUksTUFBTSwwQ0FBMEMsRUFrQzlELEdBaENBLEtBQUssNEJBQ0QvSyxHQUFBLFlBQUFBLEVBQVEsNkJBQ0orSyxHQUF1QixnQ0FBZ0MsRUFDL0QsS0FBSywrQkFDQS9LLEdBQUEsWUFBQUEsRUFBUSwyQ0FDTEEsR0FBQSxZQUFBQSxFQUFRLGlDQUNQK0ssR0FBdUIsOENBQThDLEdBQ2xFQSxHQUF1QixrQ0FBa0MsR0FDckUsS0FBSyx1QkFDRC9LLEdBQUEsWUFBQUEsRUFBUSx3QkFDSitLLEdBQXVCLDBCQUEwQixFQUN6RCxLQUFLLHFCQUNEL0ssR0FBQSxZQUFBQSxFQUFRLHNCQUNKK0ssR0FBdUIsd0JBQXdCLEVBQ3ZELEtBQUssZUFDRC9CLEVBQUFoSixHQUFBLFlBQUFBLEVBQVEsZ0JBQVIsWUFBQWdKLEVBQXVCLGVBQ25CK0IsR0FBdUIscUJBQXFCLEVBQ3BELEtBQUssV0FBWS9LLEdBQUEsWUFBQUEsRUFBUSxZQUFhLEtBQUssVUFDM0MsS0FBSyxhQUFjQSxHQUFBLFlBQUFBLEVBQVEsY0FBZSxDQUFBLEVBQzFDLEtBQUssV0FBWUEsR0FBQSxZQUFBQSxFQUFRLFlBQWEsS0FBSyxVQUMzQyxLQUFLLFFBQVVBLEdBQUEsWUFBQUEsRUFBUSxRQUN2QixLQUFLLGFBQWNBLEdBQUEsWUFBQUEsRUFBUSxjQUFlLEtBQUssWUFDL0MsS0FBSyxXQUFZQSxHQUFBLFlBQUFBLEVBQVEsWUFBYSxLQUFLLFVBQzNDLEtBQUssTUFBT0EsR0FBQSxZQUFBQSxFQUFRLE9BQVEsS0FBSyxLQUNqQyxLQUFLLGtCQUFtQkEsR0FBQSxZQUFBQSxFQUFRLG1CQUFvQixLQUFLLGlCQUN6RCxLQUFLLGlCQUFrQkEsR0FBQSxZQUFBQSxFQUFRLGtCQUFtQixLQUFLLGdCQUN2RCxLQUFLLEdBQUlBLEdBQUEsWUFBQUEsRUFBUSxJQUFLLEtBQUssRUFDM0IsS0FBSyxRQUFTQSxHQUFBLFlBQUFBLEVBQVEsU0FBVSxLQUFLLE9BQ3JDLEtBQUssVUFBWUEsR0FBQSxZQUFBQSxFQUFRLFVBQ3pCLEtBQUssS0FBT0EsR0FBQSxZQUFBQSxFQUFRLEtBQ3BCLEtBQUssS0FBT0EsR0FBQSxZQUFBQSxFQUFRLEtBQ3BCLEtBQUssV0FBWUEsR0FBQSxZQUFBQSxFQUFRLFlBQWEsR0FDbEMsS0FBSyxXQUFhLEtBQUssUUFBVSxLQUFLLE9BQVMsRUFDL0MsTUFBTSxJQUFJLE1BQU0sdUNBQXVDLEVBRTNELEdBQUksS0FBSyxrQkFBbUIsQ0FDeEIsR0FBSSxDQUFDLEtBQUssNEJBQThCLENBQUMsS0FBSyxvQkFDMUMsTUFBTSxJQUFJLE1BQU0sMENBQTBDLEVBRTlELEdBQUksQ0FBQyxLQUFLLDZCQUNOLE1BQU0sSUFBSSxNQUFNLDRDQUE0QyxFQUVoRSxHQUFJLENBQUMsS0FBSyxzQkFDTixNQUFNLElBQUksTUFBTSxvQ0FBb0MsRUFFeEQsS0FBSyxhQUFlLEtBQUssY0FBZ0IsRUFDNUMsQ0FDRCxLQUFLLGFBQWUsQ0FDaEIsT0FBUSxLQUFLLGFBQ2IsYUFBYyxLQUFLLGFBQ25CLFNBQVMrMkIsR0FBQSxZQUFBQSxFQUFlLGFBQVl4VCxFQUFBdmpCLEdBQUEsWUFBQUEsRUFBUSxnQkFBUixZQUFBdWpCLEVBQXVCLFVBQzNELHdCQUF5QixHQUN6QixpQkFBZ0JDLEVBQUF1VCxHQUFBLFlBQUFBLEVBQWUsY0FBZixZQUFBdlQsRUFBNEIsWUFDeEN3VCxHQUFBQyxFQUFBajNCLEdBQUEsWUFBQUEsRUFBUSxnQkFBUixZQUFBaTNCLEVBQXVCLGNBQXZCLFlBQUFELEVBQW9DLFNBQ3hDLGVBQWNTLEVBQUFWLEdBQUEsWUFBQUEsRUFBZSxjQUFmLFlBQUFVLEVBQTRCLFdBQ3RDNVEsR0FBQTZRLEVBQUExM0IsR0FBQSxZQUFBQSxFQUFRLGdCQUFSLFlBQUEwM0IsRUFBdUIsY0FBdkIsWUFBQTdRLEVBQW9DLFFBQ3hDLEdBQUdrUSxFQUNILEdBQUcvMkIsR0FBQSxZQUFBQSxFQUFRLGFBQ3ZCLENBQ0ssQ0FJRCxpQkFBaUJsTSxFQUFTLENBQ3RCLE1BQU8sQ0FDSCxNQUFPLEtBQUssVUFDWixZQUFhLEtBQUssWUFDbEIsV0FBWSxLQUFLLFVBQ2pCLE1BQU8sS0FBSyxLQUNaLGtCQUFtQixLQUFLLGlCQUN4QixpQkFBa0IsS0FBSyxnQkFDdkIsRUFBRyxLQUFLLEVBQ1IsUUFBUyxLQUFLLE9BQ2QsV0FBWSxLQUFLLFVBQ2pCLE1BQU1BLEdBQUEsWUFBQUEsRUFBUyxPQUFRLEtBQUssS0FDNUIsS0FBTSxLQUFLLEtBQ1gsT0FBUSxLQUFLLFVBQ2IsR0FBRyxLQUFLLFdBQ3BCLENBQ0ssQ0FFRCxvQkFBcUIsQ0FDakIsTUFBTyxDQUNILFdBQVksS0FBSyxVQUNqQixHQUFHLEtBQUssaUJBQWtCLEVBQzFCLEdBQUcsS0FBSyxZQUNwQixDQUNLLENBSUQsbUJBQW9CLENBQ2hCLE9BQU8sS0FBSyxvQkFDZixDQWlCRCxNQUFNLFVBQVV5UCxFQUFTelAsRUFBU3dtQixFQUFZLENBQzFDLE1BQU1xZCxFQUFhOUcsR0FBV3R0QixFQUFTLEtBQUssU0FBUyxFQUMvQ3EwQixFQUFVLENBQUEsRUFDVkMsRUFBYSxDQUFBLEVBQ2JqdUIsRUFBUyxLQUFLLGlCQUFpQjlWLENBQU8sRUFDNUMsR0FBSThWLEVBQU8sYUFBZSxHQUFJLENBQzFCLEdBQUlyRyxFQUFRLFNBQVcsRUFDbkIsTUFBTSxJQUFJLE1BQU0sd0RBQXdELEVBRTVFcUcsRUFBTyxXQUFhLE1BQU1vbEIsR0FBbUIsQ0FDekMsT0FBUXpyQixFQUFRLENBQUMsRUFFakIsVUFBVyxLQUFLLFNBQ2hDLENBQWEsQ0FDSixDQUNELFFBQVN2UixFQUFJLEVBQUdBLEVBQUkybEMsRUFBVyxPQUFRM2xDLEdBQUssRUFBRyxDQUMzQyxNQUFNd0IsRUFBT29XLEVBQU8sT0FDZCxNQUFPLFNBQVksT0FDakIsTUFBTWd1QixFQUFVLENBQUEsRUFDaEIsSUFBSXBzQixFQUNKLE1BQU1nTixFQUFTLE1BQU0sS0FBSyxvQkFBb0IsQ0FDMUMsR0FBRzVPLEVBQ0gsT0FBUSxHQUNSLE9BQVErdEIsRUFBVzNsQyxDQUFDLENBQ3ZCLEVBQUU4QixDQUFPLEVBQ1YsZ0JBQWlCNkgsS0FBVzZjLEVBQVEsQ0FFM0JoTixJQUNEQSxFQUFXLENBQ1AsR0FBSTdQLEVBQVEsR0FDWixPQUFRQSxFQUFRLE9BQ2hCLFFBQVNBLEVBQVEsUUFDakIsTUFBT0EsRUFBUSxLQUMvQyxHQUd3QixVQUFXZ0YsS0FBUWhGLEVBQVEsUUFBUyxDQUNoQyxHQUFJLENBQUNpOEIsRUFBUWozQixFQUFLLEtBQUssRUFDbkJpM0IsRUFBUWozQixFQUFLLEtBQUssRUFBSUEsTUFFckIsQ0FDRCxNQUFNdTJCLEVBQVNVLEVBQVFqM0IsRUFBSyxLQUFLLEVBQ2pDdTJCLEVBQU8sTUFBUXYyQixFQUFLLEtBQ3BCdTJCLEVBQU8sY0FBZ0J2MkIsRUFBSyxjQUM1QnUyQixFQUFPLFNBQVd2MkIsRUFBSyxRQUMxQixDQUNJMlosR0FBQSxNQUFBQSxFQUFZLGtCQUFrQjNaLEVBQUssS0FBTSxDQUMxQyxPQUFRLEtBQUssTUFBTUEsRUFBSyxNQUFRLEtBQUssQ0FBQyxFQUN0QyxXQUFZQSxFQUFLLE1BQVEsS0FBSyxDQUM5RCxFQUN5QixDQUNKLENBQ0QsSUFBSWUsRUFBQTVOLEVBQVEsU0FBUixNQUFBNE4sRUFBZ0IsUUFDaEIsTUFBTSxJQUFJLE1BQU0sWUFBWSxFQUVoQyxNQUFPLENBQUUsR0FBRzhKLEVBQVUsUUFBQW9zQixFQUMxQyxHQUFvQixFQUNGLE1BQU0sS0FBSyxvQkFBb0IsQ0FDN0IsR0FBR2h1QixFQUNILE9BQVEsR0FDUixPQUFRK3RCLEVBQVczbEMsQ0FBQyxDQUN4QyxFQUFtQixDQUNDLE9BQVE4QixFQUFRLE9BQ2hCLEdBQUdBLEVBQVEsT0FDL0IsQ0FBaUIsRUFDTDhqQyxFQUFRLEtBQUssR0FBR3BrQyxFQUFLLE9BQU8sRUFDNUIsS0FBTSxDQUFFLGtCQUFtQnNrQyxFQUFrQixjQUFlQyxFQUFjLGFBQWNDLEdBQWlCeGtDLEVBQUssTUFDeEdBLEVBQUssTUFDTCxDQUNFLGtCQUFtQixPQUNuQixjQUFlLE9BQ2YsYUFBYyxNQUNsQyxFQUNnQnNrQyxJQUNBRCxFQUFXLGtCQUNOQSxFQUFXLGtCQUFvQixHQUFLQyxHQUV6Q0MsSUFDQUYsRUFBVyxjQUFnQkEsRUFBVyxjQUFnQixHQUFLRSxHQUUzREMsSUFDQUgsRUFBVyxhQUFlQSxFQUFXLGFBQWUsR0FBS0csRUFFaEUsQ0FRRCxNQUFPLENBQ0gsWUFSZ0JuSCxHQUFXK0csRUFBUyxLQUFLLENBQUMsRUFBRSxJQUFLSyxHQUFrQkEsRUFBYyxJQUFLZixJQUFZLENBQ2xHLEtBQU1BLEVBQU8sTUFBUSxHQUNyQixlQUFnQixDQUNaLGFBQWNBLEVBQU8sY0FDckIsU0FBVUEsRUFBTyxRQUNwQixDQUNKLEVBQUMsQ0FBQyxFQUdDLFVBQVcsQ0FBRSxXQUFBVyxDQUFZLENBQ3JDLENBQ0ssQ0FFRCxNQUFPLHNCQUFzQnZqQyxFQUFPUixFQUFTd21CLEVBQVksT0FDckQsTUFBTTFRLEVBQVMsQ0FDWCxHQUFHLEtBQUssaUJBQWlCOVYsQ0FBTyxFQUNoQyxPQUFRUSxFQUNSLE9BQVEsRUFDcEIsRUFDY2trQixFQUFTLE1BQU0sS0FBSyxvQkFBb0I1TyxFQUFROVYsQ0FBTyxFQUM3RCxnQkFBaUJOLEtBQVFnbEIsRUFBUSxDQUM3QixNQUFNMGUsRUFBUzFqQyxHQUFBLFlBQUFBLEVBQU0sUUFBUSxHQUM3QixHQUFJLENBQUMwakMsRUFDRCxTQUVKLE1BQU1sYyxFQUFRLElBQUltVSxHQUFnQixDQUM5QixLQUFNK0gsRUFBTyxLQUNiLGVBQWdCLENBQ1osYUFBY0EsRUFBTyxhQUN4QixDQUNqQixDQUFhLEVBQ0QsTUFBTWxjLEVBRURWLEdBQUEsTUFBQUEsRUFBWSxrQkFBa0JVLEVBQU0sTUFBUSxHQUNwRCxDQUNELElBQUl0WixFQUFBNU4sRUFBUSxTQUFSLE1BQUE0TixFQUFnQixRQUNoQixNQUFNLElBQUksTUFBTSxZQUFZLENBRW5DLENBQ0QsTUFBTSxvQkFBb0JvaUIsRUFBU2h3QixFQUFTLENBQ3hDLE1BQU13akMsRUFBaUIsS0FBSyxrQkFBa0J4akMsQ0FBTyxFQUNyRCxPQUFPLEtBQUssT0FBTyxLQUFLLFNBQVksQ0FDaEMsR0FBSSxDQUVBLE9BRFksTUFBTSxLQUFLLE9BQU8sWUFBWSxPQUFPZ3dCLEVBQVN3VCxDQUFjLENBRTNFLE9BQ01uZixFQUFHLENBRU4sTUFEYzBlLEdBQXNCMWUsQ0FBQyxDQUV4QyxDQUNiLENBQVMsQ0FDSixDQU9ELGtCQUFrQnJrQixFQUFTLENBQ3ZCLEdBQUksQ0FBQyxLQUFLLE9BQVEsQ0FDZCxNQUFNeWpDLEVBQXVCLENBQ3pCLDZCQUE4QixLQUFLLDZCQUNuQywyQkFBNEIsS0FBSywyQkFDakMsa0JBQW1CLEtBQUssa0JBQ3hCLG9CQUFxQixLQUFLLG9CQUMxQixRQUFTLEtBQUssYUFBYSxPQUMzQyxFQUNrQi9vQixFQUFXZ2lCLEdBQVkrRyxDQUFvQixFQUMzQzN0QixFQUFTLENBQ1gsR0FBRyxLQUFLLGFBQ1IsUUFBUzRFLEVBQ1QsUUFBUyxLQUFLLFFBQ2QsV0FBWSxDQUM1QixFQUNpQjVFLEVBQU8sU0FDUixPQUFPQSxFQUFPLFFBRWxCLEtBQUssT0FBUyxJQUFJNHRCLEdBQWE1dEIsQ0FBTSxDQUN4QyxDQUNELE1BQU0wdEIsRUFBaUIsQ0FDbkIsR0FBRyxLQUFLLGFBQ1IsR0FBR3hqQyxDQUNmLEVBQ1EsT0FBSSxLQUFLLG9CQUNMd2pDLEVBQWUsUUFBVSxDQUNyQixVQUFXLEtBQUssa0JBQ2hCLEdBQUdBLEVBQWUsT0FDbEMsRUFDWUEsRUFBZSxNQUFRLENBQ25CLGNBQWUsS0FBSyxzQkFDcEIsR0FBR0EsRUFBZSxLQUNsQyxHQUVlQSxDQUNWLENBQ0QsVUFBVyxDQUNQLE1BQU8sUUFDVixDQUNMLDZIQzdmTyxNQUFNWSxFQUFTLENBQ2xCLFlBQVlsNEIsRUFBUSxDQUNoQixPQUFPLGVBQWUsS0FBTSxjQUFlLENBQ3ZDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFdBQVksQ0FDcEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsS0FBSyxZQUFjQSxFQUFPLFlBQ3BCQSxFQUFPLFlBQVksU0FBVSxFQUM3QixLQUFLLFlBQ1gsS0FBSyxTQUFXQSxFQUFPLFVBQVksQ0FBQSxDQUN0QyxDQUNMLENDZE8sTUFBTXl4QixXQUE4QkMsRUFBeUIsQ0FDaEUsWUFBWXA5QixFQUFPLENBeURmLEdBeERBLE1BQU1BLENBQUssRUFDWCxPQUFPLGVBQWUsS0FBTSxrQkFBbUIsQ0FDM0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxFQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sV0FBWSxDQUNwQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxrQkFBbUIsQ0FDM0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sZ0JBQWlCLENBQ3pDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFNBQVUsQ0FDbEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxFQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sbUJBQW9CLENBQzVDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU87QUFBQTtBQUFBLENBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxTQUFVLENBQ2xDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sRUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLGlCQUFrQixDQUMxQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLFVBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxtQkFBb0IsQ0FDNUMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxFQUNuQixDQUFTLEVBQ0QsT0FBTyxPQUFPLEtBQU1BLENBQUssRUFDckIsS0FBSyxXQUFhLFFBQWEsS0FBSyxrQkFBb0IsT0FDeEQsTUFBTSxJQUFJLE1BQU0sa0VBQWtFLEVBRXRGLEdBQUksS0FBSyxXQUFhLFFBQWEsS0FBSyxrQkFBb0IsT0FDeEQsTUFBTSxJQUFJLE1BQU0sNkRBQTZELEVBRWpGLEdBQUksS0FBSyxpQkFBa0IsQ0FDdkIsSUFBSXUrQixFQUFzQixLQUFLLGVBQzNCLEtBQUssbUJBQ0xBLEVBQXNCQSxFQUFvQixPQUFPLE9BQU8sS0FBSyxLQUFLLGdCQUFnQixDQUFDLEdBRXZGSixHQUFtQixLQUFLLE9BQVMsS0FBSyxPQUFRLEtBQUssZUFBZ0JJLENBQW1CLENBQ3pGLENBQ0osQ0FDRCxnQkFBaUIsQ0FDYixNQUFPLFVBQ1YsQ0FDRCxNQUFNLFlBQVl6QixFQUFnQixDQUM5QixHQUFJLEtBQUssV0FBYSxPQUNsQixPQUFPLEtBQUssU0FFaEIsR0FBSSxLQUFLLGtCQUFvQixPQUN6QixPQUFPLEtBQUssZ0JBQWdCLGVBQWVBLENBQWMsRUFFN0QsTUFBTSxJQUFJLE1BQU0sNkRBQTZELENBQ2hGLENBQ0QsTUFBTSxRQUFRTyxFQUFRLENBQ2xCLE1BQU1zQixFQUFvQixLQUFLLGVBQWUsT0FBUUMsR0FBTyxFQUFFQSxLQUFNdkIsRUFBTyxFQUN0RXdCLEVBQXNCLENBQ3hCLEdBQUksS0FBSyxrQkFBb0IsR0FDN0IsR0FBR3hCLENBQ2YsRUFDY3lCLEVBQWEsQ0FDZixHQUFHLEtBQ0gsZUFBZ0JILEVBQ2hCLGlCQUFrQkUsQ0FDOUIsRUFDUSxPQUFPLElBQUkxQixHQUFzQjJCLENBQVUsQ0FDOUMsQ0FNRCxNQUFNLE9BQU96QixFQUFRLENBQ2pCLE1BQU1tQixFQUFZLE1BQU0sS0FBSyw2QkFBNkJuQixDQUFNLEVBQzFEemhCLEVBQVcsTUFBTSxLQUFLLFlBQVk0aUIsQ0FBUyxFQUMzQ3FGLEVBQWlCLE1BQU0sUUFBUSxJQUFJam9CLEVBQVMsSUFBS2tvQixHQUFZLEtBQUssY0FBYyxPQUFPQSxDQUFPLENBQUMsQ0FBQyxFQUNoR3RHLEVBQVcsQ0FBQyxLQUFLLE9BQVEsR0FBR3FHLEVBQWdCLEtBQUssTUFBTSxFQUFFLEtBQUssS0FBSyxnQkFBZ0IsRUFDekYsT0FBTzlGLEdBQWVQLEVBQVUsS0FBSyxlQUFnQmdCLENBQVMsQ0FDakUsQ0FDRCxXQUFZLENBQ1IsR0FBSSxLQUFLLGlCQUFtQixDQUFDLEtBQUssU0FDOUIsTUFBTSxJQUFJLE1BQU0sNERBQTRELEVBRWhGLEdBQUksS0FBSyxlQUFpQixPQUN0QixNQUFNLElBQUksTUFBTSx5REFBeUQsRUFFN0UsTUFBTyxDQUNILE1BQU8sS0FBSyxlQUFnQixFQUM1QixnQkFBaUIsS0FBSyxlQUN0QixlQUFnQixLQUFLLGNBQWMsVUFBVyxFQUM5QyxrQkFBbUIsS0FBSyxpQkFDeEIsT0FBUSxLQUFLLE9BQ2IsT0FBUSxLQUFLLE9BQ2IsZ0JBQWlCLEtBQUssZUFDdEIsU0FBVSxLQUFLLFFBQzNCLENBQ0ssQ0FDRCxhQUFhLFlBQVl0L0IsRUFBTSxDQUMzQixLQUFNLENBQUUsZUFBQTZrQyxDQUFnQixFQUFHN2tDLEVBQzNCLEdBQUksQ0FBQzZrQyxFQUNELE1BQU0sSUFBSSxNQUFNLHdCQUF3QixFQUU1QyxNQUFNQyxFQUFnQixNQUFNOUcsR0FBZSxZQUFZNkcsQ0FBYyxFQUNyRSxJQUFJbm9CLEVBQ0osR0FBSSxNQUFNLFFBQVExYyxFQUFLLFFBQVEsRUFDM0IwYyxFQUFXMWMsRUFBSyxhQUdoQixPQUFNLElBQUksTUFBTSw2REFBNkQsRUFFakYsT0FBTyxJQUFJaStCLEdBQXNCLENBQzdCLGVBQWdCaitCLEVBQUssZ0JBQ3JCLGNBQUE4a0MsRUFDQSxTQUFBcG9CLEVBQ0EsaUJBQWtCMWMsRUFBSyxrQkFDdkIsT0FBUUEsRUFBSyxPQUNiLE9BQVFBLEVBQUssT0FDYixlQUFnQkEsRUFBSyxlQUNqQyxDQUFTLENBQ0osQ0FDTCw4SEM5SmEra0MsR0FBVyxDQUNwQixPQUFRLEtBQ1IsU0FBVSxLQUNWLFVBQVcsS0FDWCxPQUFRLEtBQ1IsTUFBTyxLQUNQLFFBQVMsS0FDVCxRQUFTLEtBQ1QsT0FBUSxLQUNSLE9BQVEsS0FDUixNQUFPLEtBQ1AsVUFBVyxLQUNYLE9BQVEsS0FDUixXQUFZLEtBQ1osTUFBTyxLQUNQLFFBQVMsS0FDVCxXQUFZLEtBQ1osT0FBUSxLQUNSLFVBQVcsS0FDWCxXQUFZLEtBQ1osU0FBVSxLQUNWLFFBQVMsS0FDVCxRQUFTLEtBQ1QsVUFBVyxLQUNYLFFBQVMsS0FDVCxRQUFTLEtBQ1QsTUFBTyxLQUNQLFFBQVMsS0FDVCxVQUFXLEtBQ1gsU0FBVSxJQUNkLEVBQ2FDLEdBQVksQ0FDckIsTUFBTyw2QkFDUCxRQUFTLDZCQUNULE9BQVEsaUNBQ1IsUUFBUyw2QkFDVCxVQUFXLDZCQUNYLFdBQVkscUJBQ1osUUFBUyx3QkFDVCxRQUFTLDZCQUNULFFBQVMsMEJBQ1QsT0FBUSwwQkFDUixRQUFTLG9CQUNULE9BQVEsc0JBQ1IsVUFBVyxrQ0FDWCxTQUFVLDBCQUNWLFFBQVMsMEJBQ1QsUUFBUyw0QkFDVCxXQUFZLGtDQUNaLE9BQVEsbUJBQ1IsT0FBUSxtQkFDUixNQUFPLDBCQUNQLE9BQVEsbUJBQ1IsU0FBVSxtQkFDVixNQUFPLHNCQUNQLFdBQVksZ0JBQ1osVUFBVyw0QkFDWCxVQUFXLHNCQUNYLFVBQVcsc0JBQ1gsTUFBTyxtQkFDUCxTQUFVLG9DQUNkLEVBQ2FDLEdBQXNCLE9BQU8sS0FBS0YsRUFBUSxFQzdEakRHLEdBQVMsS0FBSyxJQUFLLEVBQUMsU0FBUSxFQUFHLE1BQU0sQ0FBQyxFQUM1QyxJQUFJQyxHQUFTLEVBRWIsTUFBTUMsR0FBTyxPQUFPLEdBQUcsRUFDakJDLEdBQVEsT0FBTyxHQUFHLEVBQ2xCQyxHQUFTLE9BQU8sR0FBRyxFQU1SQyxHQUF5QixNQVMvQixTQUFTQyxHQUFjdjdCLEVBQUt3N0IsRUFBUSxDQUMzQyxHQUFJQSxFQUFPLE9BQVNGLEdBQ2hCLE1BQU0sVUFBVSxLQUFLLE1BQU10N0IsRUFBS3c3QixDQUFNLE1BRXRDLFNBQVFqbkMsRUFBSSxFQUFHQSxFQUFJaW5DLEVBQU8sT0FBUWpuQyxHQUFLK21DLEdBQ25DLE1BQU0sVUFBVSxLQUFLLE1BQU10N0IsRUFBS3c3QixFQUFPLE1BQU1qbkMsRUFBR0EsRUFBSSttQyxFQUFzQixDQUFDLENBR3ZGLENBQ08sU0FBU0csR0FBUXBILEtBQWF4MUIsRUFBTSxDQUN2QyxPQUFPdzFCLEVBQVMsUUFBUSwrREFBZ0UsWUFBWXFILEVBQWEsQ0FDN0csTUFBTUMsRUFBU0QsRUFBWUEsRUFBWSxPQUFTLENBQUMsRUFDM0MsQ0FBRSxNQUFPRSxFQUFXLEtBQUExL0IsRUFBTyxTQUFBMi9CLENBQVEsRUFBTUYsRUFDekNHLEVBQWNELEVBQVdoOUIsRUFBSyxPQUFPLFNBQVNnOUIsQ0FBUSxFQUFJLENBQUMsRUFBSWg5QixFQUFLLE1BQUssRUFDekVrOUIsRUFBUUgsSUFBYSxHQUFLLEVBQUksT0FBTyxTQUFTQSxDQUFRLEVBQzVELE9BQU8xL0IsRUFBSSxDQUNQLElBQUssSUFDRCxPQUFPNC9CLEVBQVksU0FBVSxFQUFDLFNBQVNDLEVBQU8sR0FBRyxFQUNyRCxJQUFLLElBQ0QsQ0FDSSxJQUFJdGxDLEVBQVFxbEMsRUFDWixLQUFNLENBQUNFLEVBQVNDLENBQVMsRUFBSUwsRUFBUyxNQUFNLEdBQUcsRUFBRSxJQUFLNUYsR0FBSSxPQUFPLFdBQVdBLENBQUMsQ0FBQyxFQUM5RSxPQUFJLE9BQU9pRyxHQUFjLFVBQVlBLEdBQWEsSUFDOUN4bEMsRUFBUUEsRUFBTSxRQUFRd2xDLENBQVMsR0FFNUIsT0FBT0QsR0FBWSxVQUFZQSxHQUFXLEVBQUl2bEMsRUFBTSxXQUFXLFNBQVNzbEMsRUFBTyxHQUFHLEVBQUl0bEMsRUFBTSxTQUFRLENBQzlHLENBQ0wsSUFBSyxJQUNELE9BQU9zbEMsRUFBUSxFQUFJRCxFQUFZLFNBQVUsRUFBQyxPQUFPLENBQUNDLEVBQU8sR0FBRyxFQUFJRCxFQUFZLFNBQVEsRUFBRyxTQUFTQyxFQUFPLEdBQUcsRUFDOUcsUUFDSSxPQUFPRCxDQUNkLENBQ1QsQ0FBSyxDQUNMLENBb0JPLGVBQWVJLEdBQWtCemxDLEVBQU8sQ0FJM0MsT0FISSxPQUFPQSxHQUFVLFdBQ2pCQSxFQUFRLE9BQU9BLENBQUssR0FFcEJBLEVBQVEwa0MsR0FDRCxHQUFHMWtDLENBQUssS0FDUkEsRUFBUTJrQyxHQUNSLEdBQUcza0MsRUFBUTBrQyxFQUFJLEtBQ2Yxa0MsRUFBUTRrQyxHQUNSLEdBQUc1a0MsRUFBUTJrQyxFQUFLLEtBRXBCLEdBQUcza0MsRUFBUTRrQyxFQUFNLEdBQzVCLENBQ08sZUFBZWMsSUFBcUIsQ0FDdkMsT0FBSSxPQUFPLFFBQVksS0FBZSxRQUFRLFNBQVcsT0FDOUMsUUFBUSxPQUFPLFNBR2YsT0FEUCxPQUFPLFlBQWdCLElBQ1QsS0FBSyxNQUFNLFlBQVksSUFBSyxFQUFHLEdBQUcsRUFHdEMsQ0FIdUMsQ0FJekQsQ0FDTyxlQUFlQyxJQUFXLENBQzdCLE1BQU8sR0FBR25CLEVBQU0sSUFBSUMsSUFBUSxFQUNoQyxDQUNPLFNBQVNtQixHQUFlQyxFQUFRQyxFQUFVLENBRTdDLE9BQUksT0FBTyxTQUFXLE9BQ1gsT0FBTyxVQUFVLGVBQWUsS0FBS0QsRUFBUUMsQ0FBUSxFQUFJRCxFQUFPQyxDQUFRLEVBQUksT0FFaEYsT0FBTyxPQUFPRCxFQUFRQyxDQUFRLEVBQUlELEVBQU9DLENBQVEsRUFBSSxNQUNoRSxDQXlCTyxTQUFTQyxHQUF3QnZwQyxFQUFHQyxFQUFHLENBQzFDLE9BQUlBLEVBQUUsQ0FBQyxJQUFNRCxFQUFFLENBQUMsRUFDTEEsRUFBRSxDQUFDLEVBQUlDLEVBQUUsQ0FBQyxFQUVkQSxFQUFFLENBQUMsRUFBSUQsRUFBRSxDQUFDLENBQ3JCLENBR08sU0FBU3dwQyxHQUFVQyxFQUFRLENBQzlCLEdBQUlBLEVBQU8sU0FBVyxFQUNsQixNQUFPLEdBQ0osR0FBSUEsRUFBTyxTQUFXLEVBQ3pCLE9BQU9BLEVBQU8sQ0FBQyxFQUVuQixRQUFRbm9DLEVBQUksRUFBR0EsRUFBSW1vQyxFQUFPLE9BQVFub0MsSUFDOUIsR0FBSW1vQyxFQUFPbm9DLENBQUMsRUFBRSxPQUFTbW9DLEVBQU8sQ0FBQyxFQUFFLE9BQVEsQ0FDckMsTUFBTWxPLEVBQU1rTyxFQUFPLENBQUMsRUFDcEJBLEVBQU8sQ0FBQyxFQUFJQSxFQUFPbm9DLENBQUMsRUFDcEJtb0MsRUFBT25vQyxDQUFDLEVBQUlpNkIsQ0FDZixDQUVMLE1BQU12eEIsRUFBTSxJQUFJLElBQ2hCLFVBQVdzMkIsS0FBUW1KLEVBQU8sQ0FBQyxFQUN2QnovQixFQUFJLElBQUlzMkIsRUFBTSxDQUFDLEVBRW5CLFFBQVFoL0IsRUFBSSxFQUFHQSxFQUFJbW9DLEVBQU8sT0FBUW5vQyxJQUFJLENBQ2xDLElBQUlvb0MsRUFBUSxFQUNaLFVBQVdwSixLQUFRbUosRUFBT25vQyxDQUFDLEVBQUUsQ0FDekIsTUFBTTRKLEVBQVFsQixFQUFJLElBQUlzMkIsQ0FBSSxFQUN0QnAxQixJQUFVNUosSUFDVjBJLEVBQUksSUFBSXMyQixFQUFNcDFCLEVBQVEsQ0FBQyxFQUN2QncrQixJQUVQLENBQ0QsR0FBSUEsSUFBVSxFQUFHLE1BQU8sRUFDM0IsQ0FDRCxPQUFPRCxFQUFPLENBQUMsRUFBRSxPQUFRaGlCLEdBQUksQ0FDekIsTUFBTXZjLEVBQVFsQixFQUFJLElBQUl5ZCxDQUFDLEVBQ3ZCLE9BQUl2YyxJQUFVLFFBQVdsQixFQUFJLElBQUl5ZCxFQUFHLENBQUMsRUFDOUJ2YyxJQUFVdStCLEVBQU8sTUFDaEMsQ0FBSyxDQUNMLENBQ08sZUFBZUUsR0FBc0JDLEVBQUtDLEVBQU8sQ0FDcEQsTUFBTUMsRUFBYSxDQUFBLEVBQ2JDLEVBQWNGLEVBQU0sT0FDMUIsUUFBUSxFQUFJLEVBQUcsRUFBSUUsRUFBYSxJQUFJLENBQ2hDLE1BQU1yZ0MsRUFBT21nQyxFQUFNLENBQUMsRUFDZEcsRUFBYXRnQyxFQUFLLE1BQU0sR0FBRyxFQUNqQyxJQUFJc0csRUFBVTQ1QixFQUNkLE1BQU1LLEVBQW1CRCxFQUFXLE9BQ3BDLFFBQVF2ekIsRUFBSSxFQUFHQSxFQUFJd3pCLEVBQWtCeHpCLElBR2pDLEdBRkF6RyxFQUFVQSxFQUFRZzZCLEVBQVd2ekIsQ0FBQyxDQUFDLEVBRTNCLE9BQU96RyxHQUFZLFVBQ25CLEdBQUlBLElBQVksTUFBUSxRQUFTQSxHQUFXLFFBQVNBLEdBQVcsT0FBT0EsRUFBUSxLQUFRLFVBQVksT0FBT0EsRUFBUSxLQUFRLFNBQVUsQ0FDaElBLEVBQVU4NUIsRUFBV3BnQyxDQUFJLEVBQUlzRyxFQUM3QixLQUNwQixTQUEyQixDQUFDLE1BQU0sUUFBUUEsQ0FBTyxHQUFLQSxJQUFZLE1BQVF5RyxJQUFNd3pCLEVBQW1CLEVBQUcsQ0FDbEZqNkIsRUFBVSxPQUNWLEtBQ0gsV0FDT0EsSUFBWSxNQUFRLE9BQU9BLEdBQVksV0FBYXlHLEVBQUl3ekIsRUFBbUIsRUFBRyxDQUV0Rmo2QixFQUFVLE9BQ1YsS0FDSCxDQUVELE9BQU9BLEVBQVksTUFDbkI4NUIsRUFBV3BnQyxDQUFJLEVBQUlzRyxFQUUxQixDQUNELE9BQU84NUIsQ0FDWCxDQUNPLGVBQWVJLEdBQVUvcEMsRUFBS3VKLEVBQU0sQ0FJdkMsT0FIYyxNQUFNaWdDLEdBQXNCeHBDLEVBQUssQ0FDM0N1SixDQUNSLENBQUssR0FDWUEsQ0FBSSxDQUNyQixDQWNBLE1BQU15Z0MsR0FBc0IsQ0FDeEIsR0FBSSxJQUNKLEVBQUcsRUFDSCxHQUFJLElBQ0osR0FBSSxNQUNKLEdBQUksTUFDSixHQUFJLFFBQ1IsRUFDTyxTQUFTQyxHQUF3QkMsRUFBVUMsRUFBTSxDQUNwRCxNQUFNQyxFQUFRSixHQUFvQkcsQ0FBSSxFQUN0QyxHQUFJQyxJQUFVLE9BQ1YsTUFBTSxJQUFJLE1BQU1DLEdBQVksMEJBQTJCSCxDQUFRLEVBQUUsT0FBTyxFQUU1RSxPQUFPQSxFQUFXRSxDQUN0QixDQzNPQSxNQUFNRSxHQUFlMUMsR0FBb0IsS0FBSztBQUFBLElBQU8sRUFDL0MyQyxHQUFTLENBQ1gsa0NBQW1DLDJFQUNuQyx1QkFBd0I7QUFBQTtBQUFBLEtBQWlFRCxFQUFZLEdBQ3JHLDhCQUErQiw4Q0FDL0IsZ0JBQWlCLG1SQUNqQiw0Q0FBNkMscURBQzdDLHNCQUF1Qiw4QkFDdkIsMkJBQTRCLHlDQUM1Qiw4Q0FBK0Msa0VBQy9DLG9CQUFxQixtR0FDckIsMkJBQTRCLDBEQUM1Qix3QkFBeUIsMENBQ3pCLHdCQUF5QiwyQ0FDekIsMEJBQTJCLG9DQUMzQiwwQkFBMkIsMERBQzNCLGNBQWUsdUhBQ2Ysb0JBQXFCLDZEQUNyQix5QkFBMEIsK0RBQzFCLDBCQUEyQix5RUFDM0IseUJBQTBCLDRFQUMxQixxQkFBc0IsOERBQ3RCLGdDQUFpQywyREFDakMsY0FBZSxvR0FDZiwwQkFBMkIsaUNBQzNCLDBCQUEyQixzRUFDM0Isd0JBQXlCLGdDQUN6QixvQkFBcUIsaUVBQ3JCLHFCQUFzQixrRUFDdEIscUJBQXNCO0FBQUEsd0pBQ3RCLDJCQUE0Qiw0RUFDNUIsb0JBQXFCLHVDQUNyQix3QkFBeUIsMEVBQzdCLEVBQ08sU0FBU0QsR0FBWXA1QixLQUFTeEYsRUFBTSxDQUN2QyxNQUFNWixFQUFRLElBQUksTUFBTXc5QixHQUFRa0MsR0FBT3Q1QixDQUFJLEdBQUssaUNBQWlDQSxDQUFJLEdBQUksR0FBR3hGLENBQUksQ0FBQyxFQUNqRyxPQUFBWixFQUFNLEtBQU9vRyxFQUNULHNCQUF1QixNQUFNLFdBQzdCLE1BQU0sa0JBQWtCcEcsQ0FBSyxFQUUxQkEsQ0FDWCxDQ3hDTyxlQUFlMi9CLEdBQWtCamtDLEVBQUcsQ0FDdkMsTUFBTyxDQUNILElBQUssT0FBT0EsQ0FBQyxFQUNiLFVBQVcsTUFBTXVpQyxHQUFrQnZpQyxDQUFDLENBQzVDLENBQ0EsQ0FDTyxlQUFla2tDLEdBQW1CaEIsRUFBSyxDQUMxQyxHQUFJQSxFQUFJLEdBQUksQ0FDUixHQUFJLE9BQU9BLEVBQUksSUFBTyxTQUNsQixNQUFNWSxHQUFZLDZCQUE4QixPQUFPWixFQUFJLEVBQUUsRUFFakUsT0FBT0EsRUFBSSxFQUNkLENBQ0QsT0FBTyxNQUFNVCxHQUFRLENBQ3pCLENBQ08sZUFBZTBCLEdBQWVqQixFQUFLa0IsRUFBUSxDQUM5QyxTQUFXLENBQUNqYSxFQUFNNW5CLENBQUksSUFBSyxPQUFPLFFBQVE2aEMsQ0FBTSxFQUFFLENBQzlDLE1BQU10bkMsRUFBUW9tQyxFQUFJL1ksQ0FBSSxFQUN0QixHQUFJLFNBQU9ydEIsRUFBVSxNQUdqQixFQUFBeUYsSUFBUyxZQUFjLE9BQU96RixHQUFVLFVBQVksT0FBT0EsRUFBTSxLQUFRLFVBQVksT0FBT0EsRUFBTSxLQUFRLFdBRzFHLEVBQUF5RixJQUFTLFNBQVcsT0FBT3pGLEdBQVUsVUFBWSxPQUFPQSxHQUFVLFdBR3RFLElBQUl5RixJQUFTLFVBQVksTUFBTSxRQUFRekYsQ0FBSyxFQUFHLENBQzNDLE1BQU11bkMsRUFBY3ZuQyxFQUFNLE9BQzFCLFFBQVFsQyxFQUFJLEVBQUdBLEVBQUl5cEMsRUFBYXpwQyxJQUM1QixHQUFJLE9BQU9rQyxFQUFNbEMsQ0FBQyxHQUFNLFVBQVksT0FBT2tDLEVBQU1sQyxDQUFDLEdBQU0sU0FDcEQsT0FBT3V2QixFQUFPLElBQU12dkIsRUFHNUIsUUFDSCxDQUNELEdBQUkwcEMsR0FBYS9oQyxDQUFJLEVBQUcsQ0FDcEIsTUFBTWdpQyxFQUFhQyxHQUFjamlDLENBQUksRUFDckMsR0FBSSxDQUFDLE1BQU0sUUFBUXpGLENBQUssR0FBS0EsRUFBTSxTQUFXeW5DLEVBQzFDLE1BQU1ULEdBQVksdUJBQXdCM1osRUFBTW9hLEVBQVl6bkMsRUFBTSxNQUFNLEVBRTVFLFFBQ0gsQ0FDRCxHQUFJMm5DLEdBQVlsaUMsQ0FBSSxFQUFHLENBQ25CLEdBQUksQ0FBQyxNQUFNLFFBQVF6RixDQUFLLEVBQ3BCLE9BQU9xdEIsRUFFWCxNQUFNdWEsRUFBZUMsR0FBYXBpQyxDQUFJLEVBQ2hDOGhDLEVBQWN2bkMsRUFBTSxPQUMxQixRQUFRbEMsRUFBSSxFQUFHQSxFQUFJeXBDLEVBQWF6cEMsSUFDNUIsR0FBSSxPQUFPa0MsRUFBTWxDLENBQUMsSUFBTThwQyxFQUNwQixPQUFPdmEsRUFBTyxJQUFNdnZCLEVBRzVCLFFBQ0gsQ0FDRCxHQUFJLE9BQU8ySCxHQUFTLFNBQVUsQ0FDMUIsR0FBSSxDQUFDekYsR0FBUyxPQUFPQSxHQUFVLFNBQzNCLE9BQU9xdEIsRUFHWCxNQUFNeWEsRUFBVSxNQUFNVCxHQUFlcm5DLEVBQU95RixDQUFJLEVBQ2hELEdBQUlxaUMsRUFDQSxPQUFPemEsRUFBTyxJQUFNeWEsRUFFeEIsUUFDSCxDQUNELEdBQUksT0FBTzluQyxJQUFVeUYsRUFDakIsT0FBTzRuQixFQUVkLENBRUwsQ0FDQSxNQUFNMGEsR0FBZ0IsQ0FDbEIsT0FBUSxHQUNSLE9BQVEsR0FDUixRQUFTLEdBQ1QsS0FBTSxHQUNOLFNBQVUsR0FDVixXQUFZLEdBQ1osV0FBWSxHQUNaLFlBQWEsR0FDYixTQUFVLEVBQ2QsRUFDTUMsR0FBYSxDQUNmLFdBQVksU0FDWixXQUFZLFNBQ1osWUFBYSxVQUNiLFNBQVUsTUFDZCxFQUNPLFNBQVNDLEdBQWV4aUMsRUFBTSxDQUNqQyxPQUFPQSxJQUFTLFVBQ3BCLENBQ08sU0FBUytoQyxHQUFhL2hDLEVBQU0sQ0FDL0IsT0FBTyxPQUFPQSxHQUFTLFVBQVksa0JBQWtCLEtBQUtBLENBQUksQ0FDbEUsQ0FDTyxTQUFTa2lDLEdBQVlsaUMsRUFBTSxDQUM5QixPQUFPLE9BQU9BLEdBQVMsVUFBWXNpQyxHQUFjdGlDLENBQUksQ0FDekQsQ0FDTyxTQUFTb2lDLEdBQWFwaUMsRUFBTSxDQUMvQixPQUFPdWlDLEdBQVd2aUMsQ0FBSSxDQUMxQixDQUNPLFNBQVNpaUMsR0FBY2ppQyxFQUFNLENBQ2hDLE1BQU15aUMsRUFBTyxPQUFPemlDLEVBQUssTUFBTSxFQUFHLEVBQUUsQ0FBQyxFQUNyQyxPQUFPLEdBQUksQ0FDUCxLQUFLLE1BQU15aUMsQ0FBSSxFQUNYLE1BQU1sQixHQUFZLHVCQUF3QnZoQyxDQUFJLEVBQ2xELEtBQUt5aUMsR0FBUSxFQUNULE1BQU1sQixHQUFZLHNCQUF1QnZoQyxDQUFJLEVBQ2pELFFBQ0ksT0FBT3lpQyxDQUNkLENBQ0wsQ0NuSE8sU0FBU0MsSUFBZ0MsQ0FDNUMsTUFBTyxDQUNILGVBQWdCLElBQUksSUFDcEIsZUFBZ0IsQ0FBRSxFQUMxQixLQUFRQyxHQUNSLEtBQVFDLEVBQ1IsQ0FDQSxDQUNPLFNBQVNELEdBQUt2ckMsRUFBTyxDQUN4QixNQUFPLENBQ0gsZUFBZ0JBLEVBQU0sY0FDOUIsQ0FDQSxDQUNPLFNBQVN3ckMsR0FBS0MsRUFBT0MsRUFBSyxDQUM3QixLQUFNLENBQUUsZUFBQUMsQ0FBaUIsRUFBR0QsRUFDNUJELEVBQU0sd0JBQXdCLGVBQWUsUUFDN0NBLEVBQU0sd0JBQXdCLGVBQWlCLEdBQy9DLFFBQVF4cUMsRUFBSSxFQUFHQSxFQUFJMHFDLEVBQWUsT0FBUTFxQyxJQUN0Q3dxQyxFQUFNLHdCQUF3QixlQUFlLElBQUlFLEVBQWUxcUMsQ0FBQyxFQUFHQSxFQUFJLENBQUMsRUFDekV3cUMsRUFBTSx3QkFBd0IsZUFBZSxLQUFLRSxFQUFlMXFDLENBQUMsQ0FBQyxDQUUzRSxDQUNPLFNBQVMycUMsR0FBc0I1ckMsRUFBTzJjLEVBQUksQ0FDN0MsR0FBSSxPQUFPQSxHQUFPLFNBQVUsQ0FDeEIsTUFBTWt2QixFQUFhN3JDLEVBQU0sZUFBZSxJQUFJMmMsQ0FBRSxFQUM5QyxHQUFJa3ZCLEVBQ0EsT0FBT0EsRUFFWCxNQUFNQyxFQUFZOXJDLEVBQU0sZUFBZSxLQUFPLEVBQzlDLE9BQUFBLEVBQU0sZUFBZSxJQUFJMmMsRUFBSW12QixDQUFTLEVBQ3RDOXJDLEVBQU0sZUFBZSxLQUFLMmMsQ0FBRSxFQUNyQm12QixDQUNWLENBQ0QsT0FBSW52QixFQUFLM2MsRUFBTSxlQUFlLE9BQ25CNHJDLEdBQXNCNXJDLEVBQU8yYyxFQUFHLFNBQVUsQ0FBQSxFQUU5Q0EsQ0FDWCxDQUNPLFNBQVNvdkIsR0FBNEIvckMsRUFBTzZyQyxFQUFZLENBQzNELEdBQUk3ckMsRUFBTSxlQUFlLE9BQVM2ckMsRUFDOUIsTUFBTSxJQUFJLE1BQU0sc0JBQXNCQSxDQUFVLEVBQUUsRUFFdEQsT0FBTzdyQyxFQUFNLGVBQWU2ckMsRUFBYSxDQUFDLENBQzlDLENDMUNPLGVBQWVHLEdBQU96OUIsRUFBRzA5QixFQUE2QixDQUN6RCxNQUFPLENBQ0gsNEJBQUFBLEVBQ0EsS0FBTSxDQUFFLEVBQ1IsTUFBTyxDQUNmLENBQ0EsQ0FDTyxlQUFlQyxHQUFJbHNDLEVBQU8yYyxFQUFJLENBQ2pDLE1BQU1rdkIsRUFBYUQsR0FBc0I1ckMsRUFBTSw0QkFBNkIyYyxDQUFFLEVBQzlFLE9BQU8zYyxFQUFNLEtBQUs2ckMsQ0FBVSxDQUNoQyxDQUNPLGVBQWVNLEdBQVluc0MsRUFBT29zQyxFQUFLLENBQzFDLE1BQU0vQyxFQUFRLE1BQU0sS0FBSyxDQUNyQixPQUFRK0MsRUFBSSxNQUNwQixDQUFLLEVBQ0QsUUFBUW5yQyxFQUFJLEVBQUdBLEVBQUltckMsRUFBSSxPQUFRbnJDLElBQUksQ0FDL0IsTUFBTTRxQyxFQUFhRCxHQUFzQjVyQyxFQUFNLDRCQUE2Qm9zQyxFQUFJbnJDLENBQUMsQ0FBQyxFQUNsRm9vQyxFQUFNcG9DLENBQUMsRUFBSWpCLEVBQU0sS0FBSzZyQyxDQUFVLENBQ25DLENBQ0QsT0FBT3hDLENBQ1gsQ0FDTyxlQUFlZ0QsR0FBT3JzQyxFQUFPLENBQ2hDLE9BQU9BLEVBQU0sSUFDakIsQ0FDTyxlQUFlQSxHQUFNQSxFQUFPMmMsRUFBSTRzQixFQUFLLENBQ3hDLE1BQU1zQyxFQUFhRCxHQUFzQjVyQyxFQUFNLDRCQUE2QjJjLENBQUUsRUFDOUUsT0FBSSxPQUFPM2MsRUFBTSxLQUFLNnJDLENBQVUsRUFBTSxJQUMzQixJQUVYN3JDLEVBQU0sS0FBSzZyQyxDQUFVLEVBQUl0QyxFQUN6QnZwQyxFQUFNLFFBQ0MsR0FDWCxDQUNPLGVBQWVzc0MsR0FBT3RzQyxFQUFPMmMsRUFBSSxDQUNwQyxNQUFNa3ZCLEVBQWFELEdBQXNCNXJDLEVBQU0sNEJBQTZCMmMsQ0FBRSxFQUM5RSxPQUFJLE9BQU8zYyxFQUFNLEtBQUs2ckMsQ0FBVSxFQUFNLElBQzNCLElBRVgsT0FBTzdyQyxFQUFNLEtBQUs2ckMsQ0FBVSxFQUM1QjdyQyxFQUFNLFFBQ0MsR0FDWCxDQUNPLGVBQWU2SyxHQUFNN0ssRUFBTyxDQUMvQixPQUFPQSxFQUFNLEtBQ2pCLENBQ08sZUFBZXdyQyxHQUFLUyxFQUE2QlAsRUFBSyxDQUN6RCxNQUFNYSxFQUFjYixFQUNwQixNQUFPLENBQ0gsS0FBTWEsRUFBWSxLQUNsQixNQUFPQSxFQUFZLE1BQ25CLDRCQUFBTixDQUNSLENBQ0EsQ0FDTyxlQUFlVixHQUFLdnJDLEVBQU8sQ0FDOUIsTUFBTyxDQUNILEtBQU1BLEVBQU0sS0FDWixNQUFPQSxFQUFNLEtBQ3JCLENBQ0EsQ0FDTyxlQUFld3NDLElBQXVCLENBQ3pDLE1BQU8sQ0FDWCxPQUFRUixHQUNBLElBQUFFLEdBQ0EsWUFBQUMsR0FDQSxPQUFBRSxHQUNBLE1BQUFyc0MsR0FDUixPQUFRc3NDLEdBQ0EsTUFBQXpoQyxHQUNSLEtBQVEyZ0MsR0FDUixLQUFRRCxFQUNSLENBQ0EsQ0N4RU8sTUFBTWtCLEdBQXlCLENBQ2xDLGVBQ0EsY0FDQSxlQUNBLGNBQ0EsZUFDQSxjQUNBLGVBQ0EsY0FDQSx1QkFDQSxzQkFDQSx1QkFDQSxzQkFDQSx1QkFDQSxzQkFDQSxhQUNBLFdBQ0osRUFDTyxTQUFTQyxHQUFvQmpCLEVBQU9rQixFQUFNLENBQzdDLElBQUlDLEVBQ0osTUFBTUMsRUFBZSxDQUFBLEVBQ2ZDLEdBQWlCRixFQUFpQm5CLEVBQU0sV0FBYSxNQUFRbUIsSUFBbUIsT0FBUyxPQUFTQSxFQUFlLE9BQ3ZILEdBQUksQ0FBQ0UsRUFDRCxPQUFPRCxFQUVYLFFBQVE1ckMsRUFBSSxFQUFHQSxFQUFJNnJDLEVBQWU3ckMsSUFBSSxDQUNsQyxNQUFNOHJDLEVBQVN0QixFQUFNLFFBQVF4cUMsQ0FBQyxFQUMxQixPQUFPOHJDLEVBQU9KLENBQUksR0FBTSxZQUN4QkUsRUFBYSxLQUFLRSxFQUFPSixDQUFJLENBQUMsQ0FFckMsQ0FDRCxPQUFPRSxDQUNYLENDaENPLE1BQU1HLEdBQW9CLENBQzdCLFlBQ0EsUUFDQSxpQkFDQSxRQUNKLEVBQ2FDLEdBQXNCLENBQy9CLGlCQUNBLHFCQUNBLHdCQUNBLG1CQUNKLEVBRU8sZUFBZUMsR0FBY0MsRUFBTzFCLEVBQU85dUIsRUFBSTRzQixFQUFLLENBQ3ZELE1BQU02RCxFQUFjRCxFQUFNLE9BQzFCLFFBQVFsc0MsRUFBSSxFQUFHQSxFQUFJbXNDLEVBQWFuc0MsSUFDNUIsTUFBTWtzQyxFQUFNbHNDLENBQUMsRUFBRXdxQyxFQUFPOXVCLEVBQUk0c0IsQ0FBRyxDQUVyQyxDQUNPLGVBQWU4RCxHQUFnQkYsRUFBTzFCLEVBQU82QixFQUFXLENBQzNELE1BQU1GLEVBQWNELEVBQU0sT0FDMUIsUUFBUSxFQUFJLEVBQUcsRUFBSUMsRUFBYSxJQUM1QixNQUFNRCxFQUFNLENBQUMsRUFBRTFCLEVBQU82QixDQUFTLENBRXZDLENBQ08sZUFBZUMsR0FBZUosRUFBT0ssRUFBSTMwQixFQUFRNDBCLEVBQVU1bUIsRUFBUyxDQUN2RSxNQUFNdW1CLEVBQWNELEVBQU0sT0FDMUIsUUFBUWxzQyxFQUFJLEVBQUdBLEVBQUltc0MsRUFBYW5zQyxJQUM1QixNQUFNa3NDLEVBQU1sc0MsQ0FBQyxFQUFFdXNDLEVBQUkzMEIsRUFBUTQwQixFQUFVNW1CLENBQU8sQ0FFcEQsQ0FDTyxlQUFlNm1CLEdBQWdCUCxFQUFPSyxFQUFJMzBCLEVBQVE0MEIsRUFBVSxDQUMvRCxNQUFNTCxFQUFjRCxFQUFNLE9BQzFCLFFBQVFsc0MsRUFBSSxFQUFHQSxFQUFJbXNDLEVBQWFuc0MsSUFDNUIsTUFBTWtzQyxFQUFNbHNDLENBQUMsRUFBRXVzQyxFQUFJMzBCLEVBQVE0MEIsQ0FBUSxDQUUzQyxDQ25DQSxNQUFNRSxHQUFnQixDQUNsQixpQkFBa0IsR0FDbEIsMEJBQTJCLEdBQzNCLFNBQVUsRUFDVix5QkFBMEIsRUFDMUIsZ0JBQWlCLENBQ3JCLEVBQ0EsU0FBU0MsR0FBVTNyQyxFQUFNLENBQ3JCLE9BQU9BLEdBQVEsS0FBT0EsRUFBSyxFQUFJLEVBQ25DLENBQ0EsU0FBUzRyQyxHQUFXNXJDLEVBQU0sQ0FDdEIsTUFBTXU4QixFQUFRdjhCLEVBQUssRUFDbkIsT0FBQUEsRUFBSyxFQUFJdThCLEVBQU0sRUFDZkEsRUFBTSxFQUFJdjhCLEVBQ1ZBLEVBQUssRUFBSSxLQUFLLElBQUkyckMsR0FBVTNyQyxFQUFLLENBQUMsRUFBRzJyQyxHQUFVM3JDLEVBQUssQ0FBQyxDQUFDLEVBQUksRUFDMUR1OEIsRUFBTSxFQUFJLEtBQUssSUFBSW9QLEdBQVVwUCxFQUFNLENBQUMsRUFBR29QLEdBQVVwUCxFQUFNLENBQUMsQ0FBQyxFQUFJLEVBQ3REQSxDQUNYLENBQ0EsU0FBU3NQLEdBQVk3ckMsRUFBTSxDQUN2QixNQUFNczhCLEVBQU90OEIsRUFBSyxFQUNsQixPQUFBQSxFQUFLLEVBQUlzOEIsRUFBSyxFQUNkQSxFQUFLLEVBQUl0OEIsRUFDVEEsRUFBSyxFQUFJLEtBQUssSUFBSTJyQyxHQUFVM3JDLEVBQUssQ0FBQyxFQUFHMnJDLEdBQVUzckMsRUFBSyxDQUFDLENBQUMsRUFBSSxFQUMxRHM4QixFQUFLLEVBQUksS0FBSyxJQUFJcVAsR0FBVXJQLEVBQUssQ0FBQyxFQUFHcVAsR0FBVXJQLEVBQUssQ0FBQyxDQUFDLEVBQUksRUFDbkRBLENBQ1gsQ0EyQ08sU0FBU3dQLEdBQVk5ckMsRUFBTStyQyxFQUFLQyxFQUFLLENBQ3hDLEdBQUksQ0FBQ2hzQyxFQUNELE1BQU8sR0FFWCxNQUFNTCxFQUFTLENBQUEsRUFDZixTQUFTc3NDLEVBQVNqc0MsRUFBTSxDQUNmQSxJQUdEQSxFQUFLLEVBQUkrckMsR0FDVEUsRUFBU2pzQyxFQUFLLENBQUMsRUFFZkEsRUFBSyxHQUFLK3JDLEdBQU8vckMsRUFBSyxHQUFLZ3NDLEdBQzNCaEcsR0FBY3JtQyxFQUFRSyxFQUFLLENBQUMsRUFFNUJBLEVBQUssRUFBSWdzQyxHQUNUQyxFQUFTanNDLEVBQUssQ0FBQyxFQUV0QixDQUNELE9BQUFpc0MsRUFBU2pzQyxDQUFJLEVBQ05MLENBQ1gsQ0FDTyxTQUFTdXNDLEdBQVlsc0MsRUFBTXdCLEVBQUsycUMsRUFBWSxHQUFPLENBQ3RELEdBQUksQ0FBQ25zQyxFQUNELE1BQU8sR0FFWCxNQUFNTCxFQUFTLENBQUEsRUFDZixTQUFTc3NDLEVBQVNqc0MsRUFBTSxDQUNmQSxJQUdEbXNDLEdBQWFuc0MsRUFBSyxHQUFLd0IsR0FDdkJ3a0MsR0FBY3JtQyxFQUFRSyxFQUFLLENBQUMsRUFFNUIsQ0FBQ21zQyxHQUFhbnNDLEVBQUssRUFBSXdCLEdBQ3ZCd2tDLEdBQWNybUMsRUFBUUssRUFBSyxDQUFDLEVBRWhDaXNDLEVBQVNqc0MsRUFBSyxDQUFDLEVBQ2Zpc0MsRUFBU2pzQyxFQUFLLENBQUMsRUFDbEIsQ0FDRCxPQUFBaXNDLEVBQVNqc0MsQ0FBSSxFQUNOTCxDQUNYLENBQ08sU0FBU3lzQyxHQUFTcHNDLEVBQU13QixFQUFLMnFDLEVBQVksR0FBTyxDQUNuRCxHQUFJLENBQUNuc0MsRUFDRCxNQUFPLEdBRVgsTUFBTUwsRUFBUyxDQUFBLEVBQ2YsU0FBU3NzQyxFQUFTanNDLEVBQU0sQ0FDZkEsSUFHRG1zQyxHQUFhbnNDLEVBQUssR0FBS3dCLEdBQ3ZCd2tDLEdBQWNybUMsRUFBUUssRUFBSyxDQUFDLEVBRTVCLENBQUNtc0MsR0FBYW5zQyxFQUFLLEVBQUl3QixHQUN2QndrQyxHQUFjcm1DLEVBQVFLLEVBQUssQ0FBQyxFQUVoQ2lzQyxFQUFTanNDLEVBQUssQ0FBQyxFQUNmaXNDLEVBQVNqc0MsRUFBSyxDQUFDLEVBQ2xCLENBQ0QsT0FBQWlzQyxFQUFTanNDLENBQUksRUFDTkwsQ0FDWCxDQUNBLFNBQVMwc0MsR0FBYXJzQyxFQUFNd0IsRUFBSyxDQUM3QixLQUFNeEIsSUFBUyxNQUNYLEdBQUl3QixFQUFNeEIsRUFBSyxFQUNYQSxFQUFPQSxFQUFLLFVBQ0x3QixFQUFNeEIsRUFBSyxFQUNsQkEsRUFBT0EsRUFBSyxNQUVaLFFBQU9BLEVBR2YsT0FBTyxJQUNYLENBQ08sU0FBUytwQyxHQUFPdm9DLEVBQUtOLEVBQU8sQ0FDL0IsTUFBTyxDQUNILEVBQUdNLEVBQ0gsRUFBR04sRUFDSCxFQUFHLEtBQ0gsRUFBRyxLQUNILEVBQUcsQ0FDWCxDQUNBLENBQ08sU0FBU2pCLEdBQU9vTixFQUFNN0wsRUFBS04sRUFBTyxDQUNyQyxJQUFJc1IsRUFBUyxLQUNUOUUsRUFBVUwsRUFDZCxLQUFNSyxJQUFZLE1BRWQsR0FEQThFLEVBQVM5RSxFQUNMbE0sRUFBTWtNLEVBQVEsRUFDZEEsRUFBVUEsRUFBUSxVQUNYbE0sRUFBTWtNLEVBQVEsRUFDckJBLEVBQVVBLEVBQVEsTUFHbEIsUUFBQUEsRUFBUSxFQUFJQSxFQUFRLEVBQUUsT0FBT3hNLENBQUssRUFDM0JtTSxFQUdmLE1BQU1pL0IsRUFBVXZDLEdBQU92b0MsRUFBS04sQ0FBSyxFQVVqQyxJQVRJc1IsR0FBVSxLQUNWbkYsRUFBT2kvQixFQUVBOXFDLEVBQU1nUixFQUFPLEVBQ3BCQSxFQUFPLEVBQUk4NUIsRUFFWDk1QixFQUFPLEVBQUk4NUIsRUFFZjUrQixFQUFVNCtCLEVBQ0o5NUIsR0FBVSxNQUFLLENBQ2pCLE1BQU0rNUIsRUFBZ0JaLEdBQVVuNUIsRUFBTyxDQUFDLEVBQUltNUIsR0FBVW41QixFQUFPLENBQUMsRUFhOUQsR0FaSSs1QixJQUFrQmIsR0FBYyxrQkFDNUJscUMsRUFBTWdSLEVBQU8sRUFBRSxJQUNmQSxFQUFPLEVBQUlvNUIsR0FBV3A1QixFQUFPLENBQUMsR0FFbENBLEVBQVNxNUIsR0FBWXI1QixDQUFNLEdBRTNCKzVCLElBQWtCYixHQUFjLG1CQUM1QmxxQyxFQUFNZ1IsRUFBTyxFQUFFLElBQ2ZBLEVBQU8sRUFBSXE1QixHQUFZcjVCLEVBQU8sQ0FBQyxHQUVuQ0EsRUFBU281QixHQUFXcDVCLENBQU0sR0FFMUJBLElBQVduRixFQUNYLE1BRUpLLEVBQVU4RSxFQUNWQSxFQUFTZzZCLEdBQWNuL0IsRUFBTUssRUFBUSxDQUFDLENBQ3pDLENBQ0QsT0FBT0wsQ0FDWCxDQUNBLFNBQVNtL0IsR0FBY24vQixFQUFNN0wsRUFBSyxDQUM5QixJQUFJa00sRUFBVUwsRUFDVm1GLEVBQVMsS0FDYixLQUFNOUUsSUFBWSxNQUNkLEdBQUlsTSxFQUFNa00sRUFBUSxFQUNkOEUsRUFBUzlFLEVBQ1RBLEVBQVVBLEVBQVEsVUFDWGxNLEVBQU1rTSxFQUFRLEVBQ3JCOEUsRUFBUzlFLEVBQ1RBLEVBQVVBLEVBQVEsTUFFbEIsT0FHUixPQUFPOEUsQ0FDWCxDQUNPLFNBQVNpNkIsR0FBS3AvQixFQUFNN0wsRUFBSyxDQUM1QixNQUFNeEIsRUFBT3FzQyxHQUFhaC9CLEVBQU03TCxDQUFHLEVBQ25DLE9BQUl4QixHQUFRLEtBQ0QsS0FFSkEsRUFBSyxDQUNoQixDQUNPLFNBQVNxcUMsR0FBT2g5QixFQUFNN0wsRUFBSyxDQUM5QixJQUFJeEIsRUFBT3FOLEVBQ1BxL0IsRUFBYSxLQUNqQixLQUFNMXNDLEdBQVEsTUFBUUEsRUFBSyxJQUFNd0IsR0FDN0JrckMsRUFBYTFzQyxFQUNUd0IsRUFBTXhCLEVBQUssRUFDWEEsRUFBT0EsRUFBSyxFQUVaQSxFQUFPQSxFQUFLLEVBR3BCLEdBQUlBLEdBQVEsS0FDUixPQUFPLEtBRVgsR0FBSUEsRUFBSyxHQUFLLE1BQVFBLEVBQUssR0FBSyxLQUN4QjBzQyxHQUFjLEtBRWRyL0IsRUFBTyxLQUVIcS9CLEVBQVcsSUFBTTFzQyxFQUNqQjBzQyxFQUFXLEVBQUksS0FFZkEsRUFBVyxFQUFJLGFBR2hCMXNDLEVBQUssR0FBSyxNQUFRQSxFQUFLLEdBQUssS0FBTSxDQUN6QyxJQUFJMnNDLEVBQWUzc0MsRUFBSyxFQUNwQjRzQyxFQUFpQjVzQyxFQUNyQixLQUFNMnNDLEVBQWEsR0FBSyxNQUNwQkMsRUFBaUJELEVBQ2pCQSxFQUFlQSxFQUFhLEVBRWhDM3NDLEVBQUssRUFBSTJzQyxFQUFhLEVBQ2xCQyxJQUFtQjVzQyxFQUNuQjRzQyxFQUFlLEVBQUlELEVBQWEsRUFFaENDLEVBQWUsRUFBSUQsRUFBYSxDQUU1QyxLQUFXLENBQ0gsTUFBTUUsRUFBWTdzQyxFQUFLLEdBQUssS0FBT0EsRUFBSyxFQUFJQSxFQUFLLEVBQzdDMHNDLEdBQWMsS0FDZHIvQixFQUFPdy9CLEVBRUhILEVBQVcsSUFBTTFzQyxFQUNqQjBzQyxFQUFXLEVBQUlHLEVBRWZILEVBQVcsRUFBSUcsQ0FHMUIsQ0FDRCxPQUFPeC9CLENBQ1gsQ0FDTyxTQUFTeS9CLEdBQWV6L0IsRUFBTXFOLEVBQUlsWixFQUFLLENBQzFDLE1BQU14QixFQUFPcXNDLEdBQWFoL0IsRUFBTTdMLENBQUcsRUFDbkMsR0FBS3hCLEVBR0wsSUFBSUEsRUFBSyxFQUFFLFNBQVcsRUFBRyxDQUNyQnFxQyxHQUFPaDlCLEVBQU03TCxDQUFHLEVBQ2hCLE1BQ0gsQ0FDRHhCLEVBQUssRUFBRSxPQUFPQSxFQUFLLEVBQUUsUUFBUTBhLENBQUUsRUFBRyxDQUFDLEVBQ3ZDLENDN1JPLFNBQVNxdkIsSUFBUyxDQUNyQixNQUFPLENBQ0gsbUJBQW9CLElBQUksR0FDaEMsQ0FDQSxDQUNPLFNBQVM5cEMsR0FBT29OLEVBQU03TCxFQUFLTixFQUFPLENBQ3JDLE9BQUltTSxFQUFLLG1CQUFtQixJQUFJN0wsQ0FBRyxHQUMvQjZMLEVBQUssbUJBQW1CLElBQUk3TCxDQUFHLEVBQUUsS0FBS04sQ0FBSyxFQUNwQ21NLElBRVhBLEVBQUssbUJBQW1CLElBQUk3TCxFQUFLLENBQzdCTixDQUNSLENBQUssRUFDTW1NLEVBQ1gsQ0FVTyxTQUFTeS9CLEdBQWV6L0IsRUFBTXFOLEVBQUlsWixFQUFLLENBQzFDLElBQUl1ckMsRUFBOEJDLEVBQ2xDMy9CLEdBQVMsTUFBbUNBLEVBQUssbUJBQW1CLElBQUk3TCxJQUFPdXJDLEVBQStCMS9CLEdBQVMsS0FBMEIsT0FBU0EsRUFBSyxtQkFBbUIsSUFBSTdMLENBQUcsS0FBTyxNQUFRdXJDLElBQWlDLE9BQVMsT0FBU0EsRUFBNkIsT0FBUW5OLEdBQUlBLElBQU1sbEIsQ0FBRSxJQUFNLENBQUEsQ0FBRSxJQUM5U3N5QixFQUFnQzMvQixHQUFTLEtBQTBCLE9BQVNBLEVBQUssbUJBQW1CLElBQUk3TCxDQUFHLEtBQU8sTUFBUXdyQyxJQUFrQyxPQUFTLE9BQVNBLEVBQThCLFVBQVksSUFDMU4zL0IsR0FBUyxNQUFtQ0EsRUFBSyxtQkFBbUIsT0FBTzdMLENBQUcsRUFFdEYsQ0FXTyxTQUFTbVosR0FBT3ROLEVBQU1uRCxFQUFXLENBQ3BDLE1BQU0raUMsRUFBZ0IsT0FBTyxLQUFLL2lDLENBQVMsRUFDM0MsR0FBSStpQyxFQUFjLFNBQVcsRUFDekIsTUFBTSxJQUFJLE1BQU0sbUJBQW1CLEVBRXZDLE1BQU1DLEVBQWdCRCxFQUFjLENBQUMsRUFDckMsT0FBT0MsRUFBYSxDQUNoQixJQUFLLEtBQ0QsQ0FDSSxNQUFNaHNDLEVBQVFnSixFQUFVZ2pDLENBQWEsRUFDckMsT0FBTzcvQixFQUFLLG1CQUFtQixJQUFJbk0sQ0FBSyxHQUFLLENBQUEsQ0FDaEQsQ0FDTCxJQUFLLEtBQ0QsQ0FDSSxNQUFNQSxFQUFRZ0osRUFBVWdqQyxDQUFhLEVBQy9CdnRDLEVBQVMsQ0FBQSxFQUNmLFVBQVdpZ0MsS0FBSzErQixFQUFNLENBQ2xCLE1BQU1pcEMsRUFBTTk4QixFQUFLLG1CQUFtQixJQUFJdXlCLENBQUMsRUFDckN1SyxHQUFPLE1BQ1BuRSxHQUFjcm1DLEVBQVF3cUMsQ0FBRyxDQUVoQyxDQUNELE9BQU94cUMsQ0FDVixDQUNMLElBQUssTUFDRCxDQUNJLE1BQU11QixFQUFRZ0osRUFBVWdqQyxDQUFhLEVBQy9CdnRDLEVBQVMsQ0FBQSxFQUNUOGlCLEVBQU9wVixFQUFLLG1CQUFtQixLQUFJLEVBQ3pDLFVBQVc3TCxLQUFPaWhCLEVBQUssQ0FDbkIsR0FBSXZoQixFQUFNLFNBQVNNLENBQUcsRUFDbEIsU0FFSixNQUFNMm9DLEVBQU05OEIsRUFBSyxtQkFBbUIsSUFBSTdMLENBQUcsRUFDdkMyb0MsR0FBTyxNQUNQbkUsR0FBY3JtQyxFQUFRd3FDLENBQUcsQ0FFaEMsQ0FDRCxPQUFPeHFDLENBQ1YsQ0FDUixDQUNELE1BQU0sSUFBSSxNQUFNLG1CQUFtQixDQUN2QyxDQUNPLFNBQVN3dEMsR0FBVTkvQixFQUFNbkQsRUFBVyxDQUN2QyxNQUFNK2lDLEVBQWdCLE9BQU8sS0FBSy9pQyxDQUFTLEVBQzNDLEdBQUkraUMsRUFBYyxTQUFXLEVBQ3pCLE1BQU0sSUFBSSxNQUFNLG1CQUFtQixFQUV2QyxNQUFNQyxFQUFnQkQsRUFBYyxDQUFDLEVBQ3JDLE9BQU9DLEVBQWEsQ0FDaEIsSUFBSyxjQUNELENBRUksTUFBTS9DLEVBRFNqZ0MsRUFBVWdqQyxDQUFhLEVBQ25CLElBQUtoc0MsR0FBUW1NLEVBQUssbUJBQW1CLElBQUluTSxDQUFLLEdBQUssQ0FBRSxDQUFBLEVBQ3hFLE9BQU9nbUMsR0FBVWlELENBQUcsQ0FDdkIsQ0FDUixDQUNELE1BQU0sSUFBSSxNQUFNLG1CQUFtQixDQUN2QyxDQ2pHSSxTQUFTaUQsR0FBb0IxdkMsRUFBR0MsRUFBRzB2QyxFQUFXLENBRTlDLEdBQUkzdkMsSUFBTUMsRUFDTixNQUFPLEdBR1gsTUFBTTJ2QyxFQUFPNXZDLEVBQ1RBLEVBQUUsT0FBU0MsRUFBRSxTQUNiRCxFQUFJQyxFQUNKQSxFQUFJMnZDLEdBRVIsSUFBSUMsRUFBTzd2QyxFQUFFLE9BQ1Q4dkMsRUFBTzd2QyxFQUFFLE9BR2IsS0FBTTR2QyxFQUFPLEdBQUs3dkMsRUFBRSxXQUFXLENBQUMsQ0FBQzZ2QyxDQUFJLElBQU01dkMsRUFBRSxXQUFXLENBQUMsQ0FBQzZ2QyxDQUFJLEdBQzFERCxJQUNBQyxJQUdKLEdBQUksQ0FBQ0QsRUFDRCxPQUFPQyxFQUFPSCxFQUFZLEdBQUtHLEVBR25DLElBQUlDLEVBQVcsRUFDZixLQUFNQSxFQUFXRixHQUFRN3ZDLEVBQUUsV0FBVyt2QyxDQUFRLElBQU05dkMsRUFBRSxXQUFXOHZDLENBQVEsR0FDckVBLElBS0osR0FIQUYsR0FBUUUsRUFDUkQsR0FBUUMsRUFFSkYsSUFBUyxFQUNULE9BQU9DLEVBQU9ILEVBQVksR0FBS0csRUFFbkMsTUFBTXJKLEVBQVFxSixFQUFPRCxFQUNyQixHQUFJRixFQUFZRyxFQUNaSCxFQUFZRyxVQUNMckosRUFBUWtKLEVBQ2YsTUFBTyxHQUVYLElBQUlydUMsRUFBSSxFQUNSLE1BQU0wdUMsRUFBTSxDQUFBLEVBQ05DLEVBQXFCLENBQUEsRUFDM0IsS0FBTTN1QyxFQUFJcXVDLEdBQ05NLEVBQW1CM3VDLENBQUMsRUFBSXJCLEVBQUUsV0FBVzh2QyxFQUFXenVDLENBQUMsRUFDakQwdUMsRUFBSTF1QyxDQUFDLEVBQUksRUFBRUEsRUFFZixLQUFNQSxFQUFJd3VDLEdBQ05HLEVBQW1CM3VDLENBQUMsRUFBSXJCLEVBQUUsV0FBVzh2QyxFQUFXenVDLENBQUMsRUFDakQwdUMsRUFBSTF1QyxHQUFHLEVBQUlxdUMsRUFBWSxFQUUzQixNQUFNM2lDLEVBQVMyaUMsRUFBWWxKLEVBQ3JCeUosRUFBVVAsRUFBWUcsRUFDNUIsSUFBSUssRUFBUyxFQUNUQyxFQUFPVCxFQUNQMy9CLEVBQVUsRUFDVjR1QixFQUFPLEVBQ1B5UixFQUFRLEVBQ1JDLEVBQVEsRUFDUjc1QixFQUFJLEVBRVIsSUFBSW5WLEVBQUksRUFBR0EsRUFBSXV1QyxFQUFNdnVDLElBQUksQ0FNckIsSUFMQXM5QixFQUFPdDlCLEVBQ1AwTyxFQUFVMU8sRUFBSSxFQUNkZ3ZDLEVBQVF0d0MsRUFBRSxXQUFXK3ZDLEVBQVd6dUMsQ0FBQyxFQUNqQzZ1QyxHQUFVN3VDLEVBQUkwTCxFQUFTLEVBQUksRUFDM0JvakMsR0FBUUEsRUFBT04sRUFBTyxFQUFJLEVBQ3RCcjVCLEVBQUkwNUIsRUFBUTE1QixFQUFJMjVCLEVBQU0zNUIsSUFDdEI0NUIsRUFBUXJnQyxFQUNSQSxFQUFVNHVCLEVBQ1ZBLEVBQU9vUixFQUFJdjVCLENBQUMsRUFDUjY1QixJQUFVTCxFQUFtQng1QixDQUFDLElBRTFCbW9CLEVBQU81dUIsSUFDUEEsRUFBVTR1QixHQUdWeVIsRUFBUXJnQyxJQUNSQSxFQUFVcWdDLEdBRWRyZ0MsS0FFSmdnQyxFQUFJdjVCLENBQUMsRUFBSXpHLEVBRWIsR0FBSWtnQyxHQUFXRixFQUFJMXVDLEVBQUltbEMsQ0FBSyxFQUFJa0osRUFDNUIsTUFBTyxFQUVkLENBQ0QsT0FBTzMvQixHQUFXMi9CLEVBQVkzL0IsRUFBVSxFQUM1QyxDQWNPLFNBQVN1Z0MsR0FBdUJ2d0MsRUFBR0MsRUFBRzB2QyxFQUFXLENBQ3BELE1BQU10RixFQUFXcUYsR0FBb0IxdkMsRUFBR0MsRUFBRzB2QyxDQUFTLEVBQ3BELE1BQU8sQ0FDSCxTQUFBdEYsRUFDQSxVQUFXQSxHQUFZLENBQy9CLENBQ0EsQ0M5R08sTUFBTW1HLEVBQUssQ0FDZCxZQUFZMXNDLEVBQUsyc0MsRUFBUzVVLEVBQUksQ0FNOUI3eUIsR0FBQSxTQUFJLENBQUEsR0FFSkEsR0FBQSxTQUFJLENBQUEsR0FFSkEsR0FBQSxTQUFJLElBVEEsS0FBSyxFQUFJbEYsRUFDVCxLQUFLLEVBQUkyc0MsRUFDVCxLQUFLLEVBQUk1VSxDQUNaLENBT0QsUUFBUyxDQUNMLE1BQU8sQ0FDSCxFQUFHLEtBQUssRUFDUixFQUFHLEtBQUssRUFDUixFQUFHLEtBQUssRUFDUixFQUFHLEtBQUssRUFDUixFQUFHLEtBQUssQ0FDcEIsQ0FDSyxDQUNMLENBQ0EsU0FBUzZVLEdBQWFwdUMsRUFBTXdTLEVBQVEsQ0FDaEN4UyxFQUFLLEVBQUl3UyxFQUFPLEVBQUl4UyxFQUFLLENBQzdCLENBQ0EsU0FBU3F1QyxHQUFZcnVDLEVBQU1zdUMsRUFBTyxDQUM5QnR1QyxFQUFLLEVBQUUsS0FBS3N1QyxDQUFLLENBQ3JCLENBQ0EsU0FBU3hCLEdBQWU5c0MsRUFBTXN1QyxFQUFPLENBQ2pDLE1BQU0xbkMsRUFBUTVHLEVBQUssRUFBRSxRQUFRc3VDLENBQUssRUFDWCxPQUFJMW5DLElBQVUsR0FDMUIsSUFFWDVHLEVBQUssRUFBRSxPQUFPNEcsRUFBTyxDQUFDLEVBQ2YsR0FDWCxDQUNBLFNBQVMybkMsR0FBYXZ1QyxFQUFNZ1IsRUFBUXc5QixFQUFNQyxFQUFPcEIsRUFBVyxDQUN4RCxHQUFJcnRDLEVBQUssRUFBRyxDQUNSLEtBQU0sQ0FBRSxFQUFBeWdDLEVBQUksRUFBR2lPLENBQU0sRUFBTTF1QyxFQUMzQixHQUFJeXVDLEdBQVNoTyxJQUFNK04sRUFDZixNQUFPLEdBcUJYLEdBakJJMUgsR0FBZTkxQixFQUFReXZCLENBQUMsR0FBSyxPQUN6QjRNLEVBRW1CLEtBQUssSUFBSW1CLEVBQUssT0FBUy9OLEVBQUUsTUFBTSxHQUdoQzRNLEdBQWFZLEdBQXVCTyxFQUFNL04sRUFBRzRNLENBQVMsRUFBRSxZQUN0RXI4QixFQUFPeXZCLENBQUMsRUFBSSxJQUloQnp2QixFQUFPeXZCLENBQUMsRUFBSSxJQU1oQnFHLEdBQWU5MUIsRUFBUXl2QixDQUFDLEdBQUssTUFBUWlPLEVBQU8sT0FBUyxFQUFHLENBQ3hELE1BQU1DLEVBQU8sSUFBSSxJQUFJMzlCLEVBQU95dkIsQ0FBQyxDQUFDLEVBQ3hCbU8sRUFBZUYsRUFBTyxPQUM1QixRQUFRMXZDLEVBQUksRUFBR0EsRUFBSTR2QyxFQUFjNXZDLElBQzdCMnZDLEVBQUssSUFBSUQsRUFBTzF2QyxDQUFDLENBQUMsRUFFdEJnUyxFQUFPeXZCLENBQUMsRUFBSSxNQUFNLEtBQUtrTyxDQUFJLENBQzlCLENBQ0osQ0FFRCxVQUFXemlDLEtBQWEsT0FBTyxLQUFLbE0sRUFBSyxDQUFDLEVBQ3RDdXVDLEdBQWF2dUMsRUFBSyxFQUFFa00sQ0FBUyxFQUFHOEUsRUFBUXc5QixFQUFNQyxFQUFPcEIsQ0FBUyxFQUVsRSxPQUFPcjhCLENBQ1gsQ0FDQSxTQUFTNjlCLEdBQWdCbnhDLEVBQUdDLEVBQUcsQ0FDM0IsSUFBSW14QyxFQUFlLEdBQ25CLE1BQU0vdkMsRUFBTSxLQUFLLElBQUlyQixFQUFFLE9BQVFDLEVBQUUsTUFBTSxFQUN2QyxRQUFRLEVBQUksRUFBRyxFQUFJb0IsRUFBSyxJQUFJLENBQ3hCLEdBQUlyQixFQUFFLENBQUMsSUFBTUMsRUFBRSxDQUFDLEVBQ1osT0FBT214QyxFQUVYQSxHQUFnQnB4QyxFQUFFLENBQUMsQ0FDdEIsQ0FDRCxPQUFPb3hDLENBQ1gsQ0FDTyxTQUFTL0UsR0FBT3hRLEVBQU0sR0FBTzRVLEVBQVUsR0FBSTNzQyxFQUFNLEdBQUksQ0FDeEQsT0FBTyxJQUFJMHNDLEdBQUsxc0MsRUFBSzJzQyxFQUFTNVUsQ0FBRyxDQUNyQyxDQUNPLFNBQVN0NUIsR0FBT29OLEVBQU0waEMsRUFBTUMsRUFBTyxDQUN0QyxRQUFRaHdDLEVBQUksRUFBR0EsRUFBSSt2QyxFQUFLLE9BQVEvdkMsSUFBSSxDQUNoQyxNQUFNaXdDLEVBQW1CRixFQUFLL3ZDLENBQUMsRUFDekJrd0MsRUFBY0gsRUFBSyxVQUFVL3ZDLENBQUMsRUFDOUJtd0MsRUFBdUI5aEMsRUFBSyxFQUFFNGhDLENBQWdCLEVBQ3BELEdBQUlFLEVBQXNCLENBQ3RCLE1BQU1DLEVBQVlELEVBQXFCLEVBQ2pDRSxFQUFrQkQsRUFBVSxPQUM1Qk4sRUFBZUQsR0FBZ0JPLEVBQVdGLENBQVcsRUFDckRJLEVBQXFCUixFQUFhLE9BRXhDLEdBQUlNLElBQWNGLEVBQWEsQ0FDM0JiLEdBQVljLEVBQXNCSCxDQUFLLEVBQ3ZDRyxFQUFxQixFQUFJLEdBQ3pCLE1BQ0gsQ0FDRCxNQUFNSSxFQUEwQkgsRUFBVUUsQ0FBa0IsRUFFNUQsR0FBSUEsRUFBcUJELEdBQW1CQyxJQUF1QkosRUFBWSxPQUFRLENBQ25GLE1BQU01QyxFQUFVdkMsR0FBTyxHQUFNbUYsRUFBYUQsQ0FBZ0IsRUFFMUQzQyxFQUFRLEVBQUVpRCxDQUF1QixFQUFJSixFQUNyQyxNQUFNSyxFQUFlbEQsRUFBUSxFQUFFaUQsQ0FBdUIsRUFDdERDLEVBQWEsRUFBSUosRUFBVSxVQUFVRSxDQUFrQixFQUN2REUsRUFBYSxFQUFJRCxFQUNqQmxpQyxFQUFLLEVBQUU0aEMsQ0FBZ0IsRUFBSTNDLEVBQzNCOEIsR0FBYTlCLEVBQVNqL0IsQ0FBSSxFQUMxQitnQyxHQUFhb0IsRUFBY2xELENBQU8sRUFDbEMrQixHQUFZL0IsRUFBUzBDLENBQUssRUFDMUIsTUFDSCxDQUVELEdBQUlNLEVBQXFCRCxHQUFtQkMsRUFBcUJKLEVBQVksT0FBUSxDQUNqRixNQUFNTyxFQUFnQjFGLEdBQU8sR0FBTytFLEVBQWNHLENBQWdCLEVBQ2xFUSxFQUFjLEVBQUVGLENBQXVCLEVBQUlKLEVBQzNDOWhDLEVBQUssRUFBRTRoQyxDQUFnQixFQUFJUSxFQUMzQixNQUFNQyxFQUFxQkQsRUFBYyxFQUFFRixDQUF1QixFQUNsRUcsRUFBbUIsRUFBSU4sRUFBVSxVQUFVRSxDQUFrQixFQUM3REksRUFBbUIsRUFBSUgsRUFDdkIsTUFBTUksRUFBcUJULEVBQVlJLENBQWtCLEVBQ25EaEQsRUFBVXZDLEdBQU8sR0FBTWdGLEVBQUssVUFBVS92QyxFQUFJc3dDLENBQWtCLEVBQUdLLENBQWtCLEVBQ3ZGdEIsR0FBWS9CLEVBQVMwQyxDQUFLLEVBQzFCUyxFQUFjLEVBQUVFLENBQWtCLEVBQUlyRCxFQUN0QzhCLEdBQWFxQixFQUFlcGlDLENBQUksRUFDaEMrZ0MsR0FBYTlCLEVBQVNtRCxDQUFhLEVBQ25DckIsR0FBYXNCLEVBQW9CRCxDQUFhLEVBQzlDLE1BQ0gsQ0FFRHp3QyxHQUFLcXdDLEVBQWtCLEVBRXZCaGlDLEVBQU84aEMsQ0FDbkIsS0FBZSxDQUVILE1BQU03QyxFQUFVdkMsR0FBTyxHQUFNbUYsRUFBYUQsQ0FBZ0IsRUFDMURaLEdBQVkvQixFQUFTMEMsQ0FBSyxFQUMxQjNoQyxFQUFLLEVBQUU0aEMsQ0FBZ0IsRUFBSTNDLEVBQzNCOEIsR0FBYTlCLEVBQVNqL0IsQ0FBSSxFQUMxQixNQUNILENBQ0osQ0FDTCxDQUNBLFNBQVN1aUMsR0FBaUI1dkMsRUFBTXd1QyxFQUFNNW5DLEVBQU95bUMsRUFBV3dDLEVBQW1CNytCLEVBQVEsQ0FDL0UsR0FBSSxFQUFBcThCLEVBQVksR0FHaEIsSUFBSXJ0QyxFQUFLLEVBQUcsQ0FDUixLQUFNLENBQUUsRUFBQXlnQyxFQUFJLEVBQUdpTyxDQUFNLEVBQU0xdUMsRUFDM0IsR0FBSXlnQyxJQUNtQixLQUFLLElBQUkrTixFQUFLLE9BQVMvTixFQUFFLE1BQU0sR0FDaENvUCxHQUFxQjVCLEdBQXVCTyxFQUFNL04sRUFBR29QLENBQWlCLEVBQUUsWUFDdEY3K0IsRUFBT3l2QixDQUFDLEVBQUksSUFFWnFHLEdBQWU5MUIsRUFBUXl2QixDQUFDLEdBQUssTUFBUWlPLEVBQU8sT0FBUyxHQUFHLENBQ3hELE1BQU1DLEVBQU8sSUFBSSxJQUFJMzlCLEVBQU95dkIsQ0FBQyxDQUFDLEVBQ3hCbU8sRUFBZUYsRUFBTyxPQUM1QixRQUFRMXZDLEVBQUksRUFBR0EsRUFBSTR2QyxFQUFjNXZDLElBQzdCMnZDLEVBQUssSUFBSUQsRUFBTzF2QyxDQUFDLENBQUMsRUFFdEJnUyxFQUFPeXZCLENBQUMsRUFBSSxNQUFNLEtBQUtrTyxDQUFJLENBQzlCLENBRVIsQ0FDRCxHQUFJLEVBQUEvbkMsR0FBUzRuQyxFQUFLLFFBSWxCLENBQUlBLEVBQUs1bkMsQ0FBSyxJQUFLNUcsRUFBSyxHQUNwQjR2QyxHQUFpQjV2QyxFQUFLLEVBQUV3dUMsRUFBSzVuQyxDQUFLLENBQUMsRUFBRzRuQyxFQUFNNW5DLEVBQVEsRUFBR3ltQyxFQUFXd0MsRUFBbUI3K0IsQ0FBTSxFQUkvRjQrQixHQUFpQjV2QyxFQUFNd3VDLEVBQU01bkMsRUFBUSxFQUFHeW1DLEVBQVksRUFBR3dDLEVBQW1CNytCLENBQU0sRUFFaEYsVUFBVTlFLEtBQWFsTSxFQUFLLEVBQ3hCNHZDLEdBQWlCNXZDLEVBQUssRUFBRWtNLENBQVMsRUFBR3NpQyxFQUFNNW5DLEVBQU95bUMsRUFBWSxFQUFHd0MsRUFBbUI3K0IsQ0FBTSxFQUc3RixVQUFVOUUsS0FBYWxNLEVBQUssRUFDcEJrTSxJQUFjc2lDLEVBQUs1bkMsQ0FBSyxHQUN4QmdwQyxHQUFpQjV2QyxFQUFLLEVBQUVrTSxDQUFTLEVBQUdzaUMsRUFBTTVuQyxFQUFRLEVBQUd5bUMsRUFBWSxFQUFHd0MsRUFBbUI3K0IsQ0FBTSxHQUd6RyxDQUNPLFNBQVN5N0IsR0FBS3AvQixFQUFNLENBQUUsS0FBQW1oQyxFQUFPLE1BQUFDLEVBQVEsVUFBQXBCLENBQVMsRUFBSyxDQUt0RCxHQUFJQSxHQUFhLENBQUNvQixFQUFPLENBQ3JCLE1BQU16OUIsRUFBUyxDQUFBLEVBQ2YsT0FBQXE4QixFQUFZQSxHQUFhLEVBQ3pCdUMsR0FBaUJ2aUMsRUFBTW1oQyxFQUFNLEVBQUduQixHQUFhLEVBQUdBLEVBQVdyOEIsQ0FBTSxFQUMxREEsQ0FDZixLQUFXLENBQ0gsUUFBUWhTLEVBQUksRUFBR0EsRUFBSXd2QyxFQUFLLE9BQVF4dkMsSUFBSSxDQUNoQyxNQUFNa04sRUFBWXNpQyxFQUFLeHZDLENBQUMsRUFDeEIsR0FBSWtOLEtBQWFtQixFQUFLLEVBQUcsQ0FDckIsTUFBTThoQyxFQUF1QjloQyxFQUFLLEVBQUVuQixDQUFTLEVBQ3ZDa2pDLEVBQVlELEVBQXFCLEVBQ2pDVyxFQUFnQnRCLEVBQUssVUFBVXh2QyxDQUFDLEVBR2hDc3dDLEVBRGVULEdBQWdCTyxFQUFXVSxDQUFhLEVBQ3JCLE9BR3hDLEdBQUlSLElBQXVCRixFQUFVLFFBQVVFLElBQXVCUSxFQUFjLE9BQVEsQ0FFeEYsR0FBSXpDLEVBQVcsTUFDZixNQUFPLEVBQ1YsQ0FFRHJ1QyxHQUFLbXdDLEVBQXFCLEVBQUUsT0FBUyxFQUVyQzloQyxFQUFPOGhDLENBQ3ZCLEtBQ2dCLE9BQU8sRUFFZCxDQUNELE1BQU1uK0IsRUFBUyxDQUFBLEVBRWYsT0FBQXU5QixHQUFhbGhDLEVBQU0yRCxFQUFRdzlCLEVBQU1DLEVBQU9wQixDQUFTLEVBQzFDcjhCLENBQ1YsQ0FDTCxDQXlDTyxTQUFTKytCLEdBQXFCMWlDLEVBQU1taEMsRUFBTUYsRUFBT0csRUFBUSxHQUFNLENBQ2xFLEdBQUksQ0FBQ0QsRUFDRCxNQUFPLEdBRVgsUUFBUSxFQUFJLEVBQUcsRUFBSUEsRUFBSyxPQUFRLElBQUksQ0FDaEMsTUFBTXRpQyxFQUFZc2lDLEVBQUssQ0FBQyxFQUN4QixHQUFJdGlDLEtBQWFtQixFQUFLLEVBQUcsQ0FDckIsTUFBTThoQyxFQUF1QjloQyxFQUFLLEVBQUVuQixDQUFTLEVBQzdDLEdBQUtpakMsRUFBcUIsRUFBRSxPQUFTLEVBQ3JDOWhDLEVBQU84aEMsRUFDSFYsR0FBU3BoQyxFQUFLLElBQU1taEMsR0FHcEIxQixHQUFlei9CLEVBQU1paEMsQ0FBSyxDQUUxQyxLQUNZLE9BQU8sRUFFZCxDQUNELE1BQU8sRUFDWCxDQ3pTQSxNQUFNMEIsR0FBSSxFQUVKQyxHQUFlLE9BRWQsU0FBU2xHLElBQVMsQ0FDckIsTUFBTyxDQUNILEtBQU0sSUFDZCxDQUNBLENBQ08sU0FBUzlwQyxHQUFPbWpCLEVBQU04c0IsRUFBT3hCLEVBQVEsQ0FDeEMsTUFBTXBDLEVBQVUsQ0FDWixNQUFBNEQsRUFDQSxPQUFBeEIsQ0FDUixFQUNJLEdBQUl0ckIsRUFBSyxNQUFRLEtBQU0sQ0FDbkJBLEVBQUssS0FBT2twQixFQUNaLE1BQ0gsQ0FDRCxJQUFJdHNDLEVBQU9vakIsRUFBSyxLQUNaK3NCLEVBQVEsRUFDWixLQUFNbndDLElBQVMsTUFBSyxDQUVoQixHQUFJQSxFQUFLLE1BQU0sTUFBUWt3QyxFQUFNLEtBQU9sd0MsRUFBSyxNQUFNLE1BQVFrd0MsRUFBTSxJQUFLLENBRTlELE1BQU1FLEVBQVlwd0MsRUFBSyxRQUFVLEdBQ2pDQSxFQUFLLE9BQVMsTUFBTSxLQUFLLElBQUksSUFBSSxDQUM3QixHQUFHb3dDLEVBQ0gsR0FBRzFCLEdBQVUsQ0FBRSxDQUNsQixDQUFBLENBQUMsRUFDRixNQUNILENBR0QsR0FGYXlCLEVBQVFILEtBRVIsRUFDVCxHQUFJRSxFQUFNLElBQU1sd0MsRUFBSyxNQUFNLElBQUssQ0FDNUIsR0FBSUEsRUFBSyxNQUFRLEtBQU0sQ0FDbkJBLEVBQUssS0FBT3NzQyxFQUNaLE1BQ0gsQ0FDRHRzQyxFQUFPQSxFQUFLLElBQzVCLEtBQW1CLENBQ0gsR0FBSUEsRUFBSyxPQUFTLEtBQU0sQ0FDcEJBLEVBQUssTUFBUXNzQyxFQUNiLE1BQ0gsQ0FDRHRzQyxFQUFPQSxFQUFLLEtBQ2YsU0FHR2t3QyxFQUFNLElBQU1sd0MsRUFBSyxNQUFNLElBQUssQ0FDNUIsR0FBSUEsRUFBSyxNQUFRLEtBQU0sQ0FDbkJBLEVBQUssS0FBT3NzQyxFQUNaLE1BQ0gsQ0FDRHRzQyxFQUFPQSxFQUFLLElBQzVCLEtBQW1CLENBQ0gsR0FBSUEsRUFBSyxPQUFTLEtBQU0sQ0FDcEJBLEVBQUssTUFBUXNzQyxFQUNiLE1BQ0gsQ0FDRHRzQyxFQUFPQSxFQUFLLEtBQ2YsQ0FFTG13QyxHQUNILENBQ0wsQ0E2Qk8sU0FBU0UsR0FBY2p0QixFQUFNOHNCLEVBQU81QixFQUFPLENBQzlDLElBQUl0dUMsRUFBT29qQixFQUFLLEtBQ1orc0IsRUFBUSxFQUNSekQsRUFBYSxLQUNiNEQsRUFBWSxLQUNoQixLQUFNdHdDLElBQVMsTUFBSyxDQUNoQixJQUFLQSxHQUFTLEtBQTBCLE9BQVNBLEVBQUssTUFBTSxPQUFTa3dDLEVBQU0sS0FBT2x3QyxFQUFLLE1BQU0sTUFBUWt3QyxFQUFNLElBQUssQ0FDNUcsSUFBSUssRUFDSixNQUFNM3BDLEdBQVMycEMsRUFBZXZ3QyxFQUFLLFVBQVksTUFBUXV3QyxJQUFpQixPQUFTLE9BQVNBLEVBQWEsUUFBUWpDLENBQUssRUFDcEgsR0FBSTFuQyxJQUFVLFFBQWFBLEVBQVEsR0FBSSxDQUNuQyxJQUNBNHBDLEdBQ0NBLEVBQWdCeHdDLEVBQUssVUFBWSxNQUFRd3dDLElBQWtCLFFBQWtCQSxFQUFjLE9BQU81cEMsRUFBTyxDQUFDLEdBQ3ZHNUcsRUFBSyxRQUFVLE1BQVFBLEVBQUssT0FBTyxTQUFXLEtBRTFDMHNDLEdBQWMsS0FDVjRELElBQWMsT0FDZDVELEVBQVcsS0FBTzFzQyxFQUFLLE9BQVMsS0FBT0EsRUFBSyxLQUFPQSxFQUFLLE1BQ2pEc3dDLElBQWMsVUFDckI1RCxFQUFXLE1BQVExc0MsRUFBSyxRQUFVLEtBQU9BLEVBQUssTUFBUUEsRUFBSyxNQUkvRG9qQixFQUFLLEtBQU9wakIsRUFBSyxPQUFTLEtBQU9BLEVBQUssS0FBT0EsRUFBSyxPQUcxRCxNQUNILENBQ0osQ0FDRCxNQUFNeXdDLEVBQU9OLEVBQVFILEdBQ3JCdEQsRUFBYTFzQyxFQUVUeXdDLElBQVMsRUFDTFAsRUFBTSxJQUFNbHdDLEVBQUssTUFBTSxLQUN2QkEsRUFBT0EsR0FBUyxLQUEwQixPQUFTQSxFQUFLLEtBQ3hEc3dDLEVBQVksU0FFWnR3QyxFQUFPQSxHQUFTLEtBQTBCLE9BQVNBLEVBQUssTUFDeERzd0MsRUFBWSxTQUlaSixFQUFNLElBQU1sd0MsRUFBSyxNQUFNLEtBQ3ZCQSxFQUFPQSxHQUFTLEtBQTBCLE9BQVNBLEVBQUssS0FDeERzd0MsRUFBWSxTQUVadHdDLEVBQU9BLEdBQVMsS0FBMEIsT0FBU0EsRUFBSyxNQUN4RHN3QyxFQUFZLFNBR3BCSCxHQUNILENBQ0wsQ0E2Qk8sU0FBU08sR0FBZTF3QyxFQUFNMndDLEVBQVFDLEVBQVF6RSxFQUFZLEdBQU0wRSxFQUFPLE1BQU9DLEVBQWdCLEdBQU8sQ0FDeEcsTUFBTUMsRUFBYUQsRUFBZ0JFLEdBQW1CQyxHQUNoREMsRUFBUSxDQUNWLENBQ0ksS0FBQWx4QyxFQUNBLE1BQU8sQ0FDVixDQUNULEVBQ1VMLEVBQVMsQ0FBQSxFQUNmLEtBQU11eEMsRUFBTSxPQUFTLEdBQUUsQ0FDbkIsS0FBTSxDQUFFLEtBQUFseEMsRUFBTyxNQUFBbXdDLENBQVEsRUFBR2UsRUFBTSxJQUFHLEVBQ25DLEdBQUlseEMsSUFBUyxLQUFNLFNBQ25CLE1BQU15VixFQUFPczdCLEVBQVdKLEVBQVEzd0MsRUFBSyxLQUFLLEdBQ3RDbXNDLEVBQVkxMkIsR0FBUW03QixFQUFTbjdCLEVBQU9tN0IsSUFDcENqeEMsRUFBTyxLQUFLLENBQ1IsTUFBT0ssRUFBSyxNQUNaLE9BQVFBLEVBQUssUUFBVSxDQUFFLENBQ3pDLENBQWEsRUFFREEsRUFBSyxNQUFRLE1BQ2JreEMsRUFBTSxLQUFLLENBQ1AsS0FBTWx4QyxFQUFLLEtBQ1gsTUFBT213QyxFQUFRLENBQy9CLENBQWEsRUFFRG53QyxFQUFLLE9BQVMsTUFDZGt4QyxFQUFNLEtBQUssQ0FDUCxLQUFNbHhDLEVBQUssTUFDWCxNQUFPbXdDLEVBQVEsQ0FDL0IsQ0FBYSxDQUVSLENBQ0QsT0FBSVUsR0FDQWx4QyxFQUFPLEtBQUssQ0FBQ2pDLEVBQUdDLElBQUksQ0FDaEIsTUFBTXd6QyxFQUFRSixFQUFXSixFQUFRanpDLEVBQUUsS0FBSyxFQUNsQzB6QyxFQUFRTCxFQUFXSixFQUFRaHpDLEVBQUUsS0FBSyxFQUN4QyxPQUFPa3pDLEVBQUssZ0JBQWtCLE1BQVFNLEVBQVFDLEVBQVFBLEVBQVFELENBQzFFLENBQVMsRUFFRXh4QyxDQUNYLENBQ08sU0FBUzB4QyxHQUFnQmhrQyxFQUFNaWtDLEVBQVNuRixFQUFZLEdBQU0wRSxFQUFPLEtBQU1DLEVBQWdCLEdBQU8sQ0FDakcsTUFBTUksRUFBUSxDQUNWLENBQ0ksS0FBTTdqQyxFQUNOLE1BQU8sQ0FDVixDQUNULEVBQ1UxTixFQUFTLENBQUEsRUFDZixLQUFNdXhDLEVBQU0sT0FBUyxHQUFFLENBQ25CLE1BQU1LLEVBQU9MLEVBQU0sTUFDbkIsR0FBSUssR0FBUSxNQUFRQSxFQUFLLE1BQVEsS0FBTSxTQUN2QyxLQUFNLENBQUUsS0FBQXZ4QyxFQUFPLE1BQUFtd0MsQ0FBUSxFQUFHb0IsRUFDcEJDLEVBQVlyQixFQUFRLEVBQ3RCbndDLEVBQUssTUFBUSxNQUNia3hDLEVBQU0sS0FBSyxDQUNQLEtBQU1seEMsRUFBSyxLQUNYLE1BQU93eEMsQ0FDdkIsQ0FBYSxFQUVEeHhDLEVBQUssT0FBUyxNQUNka3hDLEVBQU0sS0FBSyxDQUNQLEtBQU1seEMsRUFBSyxNQUNYLE1BQU93eEMsQ0FDdkIsQ0FBYSxFQUVMLE1BQU1DLEVBQWtCQyxHQUFpQkosRUFBU3R4QyxFQUFLLEtBQUssRUFDeER5eEMsR0FBbUJ0RixFQUNuQnhzQyxFQUFPLEtBQUssQ0FDUixNQUFPSyxFQUFLLE1BQ1osT0FBUUEsRUFBSyxRQUFVLENBQUUsQ0FDekMsQ0FBYSxFQUNNLENBQUN5eEMsR0FBbUIsQ0FBQ3RGLEdBQzVCeHNDLEVBQU8sS0FBSyxDQUNSLE1BQU9LLEVBQUssTUFDWixPQUFRQSxFQUFLLFFBQVUsQ0FBRSxDQUN6QyxDQUFhLENBRVIsQ0FDRCxNQUFNMnhDLEVBQVdDLEdBQXlCTixDQUFPLEVBQ2pELEdBQUlULEVBQU0sQ0FDTixNQUFNZ0IsRUFBU2YsRUFBZ0JFLEdBQW1CQyxHQUNsRHR4QyxFQUFPLEtBQUssQ0FBQ2pDLEVBQUdDLElBQUksQ0FDaEIsTUFBTXd6QyxFQUFRVSxFQUFPRixFQUFVajBDLEVBQUUsS0FBSyxFQUNoQzB6QyxFQUFRUyxFQUFPRixFQUFVaDBDLEVBQUUsS0FBSyxFQUN0QyxPQUFPa3pDLEVBQUssZ0JBQWtCLE1BQVFNLEVBQVFDLEVBQVFBLEVBQVFELENBQzFFLENBQVMsQ0FDSixDQUNELE9BQU94eEMsQ0FDWCxDQUNBLFNBQVNpeUMsR0FBeUJOLEVBQVMsQ0FDdkMsSUFBSVEsRUFBWSxFQUNaQyxFQUFZLEVBQ1pDLEVBQVksRUFDaEIsUUFBUSxFQUFJLEVBQUc3OUIsRUFBSW05QixFQUFRLE9BQVMsRUFBRyxFQUFJQSxFQUFRLE9BQVFuOUIsRUFBSSxJQUFJLENBQy9ELE1BQU04OUIsRUFBS1gsRUFBUSxDQUFDLEVBQUUsSUFDaEJZLEVBQUtaLEVBQVEsQ0FBQyxFQUFFLElBQ2hCYSxFQUFLYixFQUFRbjlCLENBQUMsRUFBRSxJQUNoQmkrQixFQUFLZCxFQUFRbjlCLENBQUMsRUFBRSxJQUNoQmsrQixFQUFjSixFQUFLRyxFQUFLRCxFQUFLRCxFQUNuQ0osR0FBYU8sRUFDYk4sSUFBY0UsRUFBS0UsR0FBTUUsRUFDekJMLElBQWNFLEVBQUtFLEdBQU1DLENBQzVCLENBQ0QsT0FBQVAsR0FBYSxFQUNiQyxHQUFhLEVBQUlELEVBQ2pCRSxHQUFhLEVBQUlGLEVBQ1YsQ0FDSCxJQUFLQyxFQUNMLElBQUtDLENBQ2IsQ0FDQSxDQUNBLFNBQVNOLEdBQWlCSixFQUFTcEIsRUFBTyxDQUN0QyxJQUFJb0MsRUFBVyxHQUNmLE1BQU01bEMsRUFBSXdqQyxFQUFNLElBQ1Z0UCxFQUFJc1AsRUFBTSxJQUNoQixRQUFRbHhDLEVBQUksRUFBR21WLEVBQUltOUIsRUFBUSxPQUFTLEVBQUd0eUMsRUFBSXN5QyxFQUFRLE9BQVFuOUIsRUFBSW5WLElBQUksQ0FDL0QsTUFBTWl6QyxFQUFLWCxFQUFRdHlDLENBQUMsRUFBRSxJQUNoQmt6QyxFQUFLWixFQUFRdHlDLENBQUMsRUFBRSxJQUNoQm16QyxFQUFLYixFQUFRbjlCLENBQUMsRUFBRSxJQUNoQmkrQixFQUFLZCxFQUFRbjlCLENBQUMsRUFBRSxJQUNKKzlCLEVBQUt0UixHQUFNd1IsRUFBS3hSLEdBQUtsMEIsR0FBS3lsQyxFQUFLRixJQUFPclIsRUFBSXNSLElBQU9FLEVBQUtGLEdBQU1ELElBQy9ESyxFQUFXLENBQUNBLEVBQzlCLENBQ0QsT0FBT0EsQ0FDWCxDQUNBLFNBQVNyQixHQUFrQnNCLEVBQVFDLEVBQVEsQ0FDdkMsTUFBTUMsRUFBSSxLQUFLLEdBQUssSUFDZEMsRUFBT0gsRUFBTyxJQUFNRSxFQUNwQkUsRUFBT0gsRUFBTyxJQUFNQyxFQUNwQkcsR0FBWUosRUFBTyxJQUFNRCxFQUFPLEtBQU9FLEVBQ3ZDSSxHQUFZTCxFQUFPLElBQU1ELEVBQU8sS0FBT0UsRUFDdkMvMEMsRUFBSSxLQUFLLElBQUlrMUMsRUFBVyxDQUFDLEVBQUksS0FBSyxJQUFJQSxFQUFXLENBQUMsRUFBSSxLQUFLLElBQUlGLENBQUksRUFBSSxLQUFLLElBQUlDLENBQUksRUFBSSxLQUFLLElBQUlFLEVBQVcsQ0FBQyxFQUFJLEtBQUssSUFBSUEsRUFBVyxDQUFDLEVBQ3RJaHdDLEVBQUksRUFBSSxLQUFLLE1BQU0sS0FBSyxLQUFLbkYsQ0FBQyxFQUFHLEtBQUssS0FBSyxFQUFJQSxDQUFDLENBQUMsRUFDdkQsT0FBT3V5QyxHQUFlcHRDLENBQzFCLENBQ0EsU0FBU211QyxHQUFpQnVCLEVBQVFDLEVBQVEsQ0FLdEMsTUFBTTNqQixFQUFJLHFCQUVKbHhCLEdBQUssRUFBSWt4QixHQUFLLFFBRWQ0akIsRUFBSSxLQUFLLEdBQUssSUFDZEMsRUFBT0gsRUFBTyxJQUFNRSxFQUNwQkUsRUFBT0gsRUFBTyxJQUFNQyxFQUNwQkksR0FBWUwsRUFBTyxJQUFNRCxFQUFPLEtBQU9FLEVBRXZDSyxFQUFLLEtBQUssTUFBTSxFQUFJamtCLEdBQUssS0FBSyxJQUFJNmpCLENBQUksQ0FBQyxFQUN2Q0ssRUFBSyxLQUFLLE1BQU0sRUFBSWxrQixHQUFLLEtBQUssSUFBSThqQixDQUFJLENBQUMsRUFDdkNLLEVBQVEsS0FBSyxJQUFJRixDQUFFLEVBQ25CRyxFQUFRLEtBQUssSUFBSUgsQ0FBRSxFQUNuQkksRUFBUSxLQUFLLElBQUlILENBQUUsRUFDbkJJLEVBQVEsS0FBSyxJQUFJSixDQUFFLEVBRXpCLElBQUlLLEVBQVNQLEVBQ1RRLEVBRUFDLEVBQWlCLElBQ2pCQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUVKLEVBQUcsQ0FDQyxNQUFNQyxFQUFZLEtBQUssSUFBSVIsQ0FBTSxFQUMzQlMsRUFBWSxLQUFLLElBQUlULENBQU0sRUFFakNLLEVBQVcsS0FBSyxLQUFLTixFQUFRUyxHQUFhVCxFQUFRUyxJQUFjWCxFQUFRQyxFQUFRRixFQUFRRyxFQUFRVSxJQUFjWixFQUFRQyxFQUFRRixFQUFRRyxFQUFRVSxFQUFVLEVBQ3hKSCxFQUFXVixFQUFRRSxFQUFRRCxFQUFRRSxFQUFRVSxFQUMzQ0YsRUFBUSxLQUFLLE1BQU1GLEVBQVVDLENBQVEsRUFFckNILEVBQVdOLEVBQVFFLEVBQVFTLEVBQVlILEVBQ3ZDRCxFQUFZLEVBQUlELEVBQVdBLEVBQzNCLE1BQU1PLEVBQWFKLEVBQVcsRUFBSVYsRUFBUUUsRUFBUU0sRUFFNUN6UyxFQUFJbFMsRUFBSSxHQUFLMmtCLEdBQWEsRUFBSTNrQixHQUFLLEVBQUksRUFBSTJrQixJQUVqREgsRUFBYUQsRUFFYkEsRUFBU1AsR0FBWSxFQUFJOVIsR0FBS2xTLEVBQUkwa0IsR0FBWUksRUFBUTVTLEVBQUkwUyxHQUFZSyxFQUFhL1MsRUFBSTJTLEdBQVksR0FBSyxFQUFJSSxFQUFhQSxJQUNqSSxPQUFZLEtBQUssSUFBSVYsRUFBU0MsQ0FBVSxFQUFJLE9BQVMsRUFBRUMsRUFBaUIsR0FFcEUsTUFBTVMsRUFBS1AsR0FBYSxRQUFJLFFBQUk3MUMsRUFBSUEsSUFBTUEsRUFBSUEsR0FDeENxMkMsRUFBSSxFQUFJRCxFQUFLLE9BQVMsS0FBT0EsR0FBTSxLQUFPQSxHQUFNLElBQU0sSUFBTUEsS0FDNUQ1UyxFQUFJNFMsRUFBSyxNQUFRLElBQU1BLEdBQU0sS0FBT0EsR0FBTSxHQUFLLEdBQUtBLEtBRXBERSxFQUFhOVMsRUFBSXNTLEdBQVlDLEVBQVcsRUFBSVYsRUFBUUUsRUFBUU0sRUFBWXJTLEVBQUksR0FBS3VTLEdBQVksR0FBSyxFQUFJRCxFQUFXQSxHQUFZdFMsRUFBSSxFQUFJd1MsR0FBUyxHQUFLLEVBQUlGLEVBQVdBLElBQWEsR0FBSyxFQUFJRSxFQUFRQSxLQUd0TSxPQURVaDJDLEVBQUlxMkMsR0FBS0wsRUFBUU0sRUFFL0IsQ0NoWE8sU0FBU0MsR0FBc0IvTSxFQUFRZ04sRUFBT0MsRUFBWSxFQUFHQyxFQUFlLENBQy9FLEdBQUlGLElBQVUsRUFDVixNQUFNak0sR0FBWSxxQkFBcUIsRUFFM0MsTUFBTW9NLEVBQWlCLElBQUksSUFDckJDLEVBQXdCLElBQUksSUFDNUJDLEVBQWFyTixFQUFPLE9BQzFCLFFBQVFub0MsRUFBSSxFQUFHQSxFQUFJdzFDLEVBQVl4MUMsSUFBSSxDQUMvQixNQUFNeUwsRUFBTTA4QixFQUFPbm9DLENBQUMsRUFDZHkxQyxFQUFnQmhxQyxFQUFJLE9BQzFCLFFBQVEwSixFQUFJLEVBQUdBLEVBQUlzZ0MsRUFBZXRnQyxJQUFJLENBQ2xDLEtBQU0sQ0FBQ3RDLEVBQU8yTCxDQUFLLEVBQUkvUyxFQUFJMEosQ0FBQyxFQUN0QnVnQyxFQUFhbDNCLEVBQVEyMkIsRUFDckJRLEVBQVdMLEVBQWUsSUFBSXppQyxDQUFLLEVBQ3JDOGlDLElBQWEsUUFDYkwsRUFBZSxJQUFJemlDLEVBQU84aUMsRUFBVyxJQUFNRCxDQUFVLEVBQ3JESCxFQUFzQixJQUFJMWlDLEVBQU8waUMsRUFBc0IsSUFBSTFpQyxDQUFLLEVBQUksQ0FBQyxJQUVyRXlpQyxFQUFlLElBQUl6aUMsRUFBTzZpQyxDQUFVLEVBQ3BDSCxFQUFzQixJQUFJMWlDLEVBQU8sQ0FBQyxFQUV6QyxDQUNKLENBQ0QsTUFBTStpQyxFQUFjLENBQUEsRUFDcEIsVUFBV0MsS0FBbUJQLEVBQWUsVUFDekNNLEVBQVksS0FBS0MsQ0FBZSxFQUVwQyxNQUFNandCLEVBQVVnd0IsRUFBWSxLQUFLLENBQUNsM0MsRUFBR0MsSUFBSUEsRUFBRSxDQUFDLEVBQUlELEVBQUUsQ0FBQyxDQUFDLEVBR3BELEdBQUkwMkMsSUFBYyxFQUNkLE9BQU94dkIsRUFHWCxNQUFNa3dCLEVBQWFsd0IsRUFBUSxPQUNyQm13QixFQUFxQixDQUFBLEVBQzNCLFVBQVdDLEtBQTJCVCxFQUFzQixVQUN4RFEsRUFBbUIsS0FBS0MsQ0FBdUIsRUFLbkQsTUFBTUMsRUFBbUJGLEVBQW1CLEtBQUssQ0FBQ3IzQyxFQUFHQyxJQUFJQSxFQUFFLENBQUMsRUFBSUQsRUFBRSxDQUFDLENBQUMsRUFDcEUsSUFBSXczQyxFQUNKLFFBQVFsMkMsRUFBSSxFQUFHQSxFQUFJODFDLEdBQ1hHLEVBQWlCajJDLENBQUMsRUFBRSxDQUFDLElBQU1xMUMsRUFESnIxQyxJQUV2QmsyQyxFQUEyQmwyQyxFQU1uQyxHQUFJLE9BQU9rMkMsRUFBNkIsSUFBYSxDQUNqRCxHQUFJZCxJQUFjLEVBQ2QsTUFBTyxHQUVYYyxFQUEyQixDQUM5QixDQUVELEdBQUlkLElBQWMsRUFDZCxPQUFPeHZCLEVBQVEsTUFBTSxFQUFHc3dCLEVBQTJCLENBQUMsRUFLeEQsTUFBTUMsRUFBa0JELEVBQTJCLEtBQUssS0FBS2QsRUFBWSxLQUFPeHZCLEVBQVEsT0FBU3N3QixHQUE0QixHQUFHLEVBQ2hJLE9BQU90d0IsRUFBUSxNQUFNLEVBQUdBLEVBQVEsT0FBU3V3QixDQUFlLENBQzVELENBQ08sU0FBU0MsR0FBS0MsRUFBSUMsRUFBZUMsRUFBV0MsRUFBYUMsRUFBb0JDLEVBQVksQ0FDNUYsS0FBTSxDQUFFLEVBQUF6NEMsRUFBSSxFQUFBVSxFQUFJLEVBQUEraUMsQ0FBQyxFQUFNZ1YsRUFFdkIsT0FEWSxLQUFLLElBQUksR0FBS0gsRUFBWUQsRUFBZ0IsS0FBUUEsRUFBZ0IsR0FBSSxHQUNwRTVVLEVBQUkyVSxHQUFNcDRDLEVBQUksS0FBT280QyxFQUFLcDRDLEdBQUssRUFBSVUsRUFBSUEsRUFBSTYzQyxFQUFjQyxHQUMzRSxDQ3pFTyxTQUFTRSxHQUFhQyxFQUFRQyxFQUFjLENBQy9DLElBQUlDLEVBQVksRUFDaEIsUUFBUTkyQyxFQUFJLEVBQUdBLEVBQUk2MkMsRUFBYzcyQyxJQUM3QjgyQyxHQUFhRixFQUFPNTJDLENBQUMsRUFBSTQyQyxFQUFPNTJDLENBQUMsRUFFckMsT0FBTyxLQUFLLEtBQUs4MkMsQ0FBUyxDQUM5QixDQUVPLFNBQVNDLEdBQW1CQyxFQUFjQyxFQUFTejJDLEVBQVE0MEMsRUFBWSxHQUFLLENBQy9FLE1BQU04QixFQUFrQlAsR0FBYUssRUFBY3gyQyxDQUFNLEVBQ25EMjJDLEVBQWlCLENBQUEsRUFDdkIsU0FBVyxDQUFDQyxFQUFVLENBQUNOLEVBQVdGLENBQU0sQ0FBQyxJQUFLLE9BQU8sUUFBUUssQ0FBTyxFQUFFLENBQ2xFLElBQUlJLEVBQWEsRUFDakIsUUFBUXIzQyxFQUFJLEVBQUdBLEVBQUlRLEVBQVFSLElBQ3ZCcTNDLEdBQWNMLEVBQWFoM0MsQ0FBQyxFQUFJNDJDLEVBQU81MkMsQ0FBQyxFQUU1QyxNQUFNczNDLEVBQWFELEdBQWNILEVBQWtCSixHQUMvQ1EsR0FBY2xDLEdBQ2QrQixFQUFlLEtBQUssQ0FDaEIsR0FBSUMsRUFDSixNQUFPRSxDQUN2QixDQUFhLENBRVIsQ0FDRCxPQUFPSCxFQUFlLEtBQUssQ0FBQyxFQUFHeDRDLElBQUlBLEVBQUUsTUFBUSxFQUFFLEtBQUssQ0FDeEQsQ0NmTyxlQUFlNDRDLEdBQThCM3ZDLEVBQU8ybkIsRUFBTTdULEVBQUk4ZixFQUFRK2EsRUFBVyxDQUNwRixNQUFNM0wsRUFBYUQsR0FBc0IvaUMsRUFBTSw0QkFBNkI4VCxDQUFFLEVBQzlFOVQsRUFBTSxlQUFlMm5CLENBQUksSUFBTTNuQixFQUFNLGVBQWUybkIsQ0FBSSxHQUFLLElBQU1nbkIsRUFBWSxHQUFLL2EsRUFBTyxRQUFVK2EsRUFDckczdUMsRUFBTSxhQUFhMm5CLENBQUksRUFBRXFiLENBQVUsRUFBSXBQLEVBQU8sT0FDOUM1ekIsRUFBTSxZQUFZMm5CLENBQUksRUFBRXFiLENBQVUsRUFBSSxDQUFBLENBQzFDLENBQ08sZUFBZTRNLEdBQTJCNXZDLEVBQU8ybkIsRUFBTTdULEVBQUk4ZixFQUFRM29CLEVBQU8sQ0FDN0UsSUFBSTRrQyxFQUFpQixFQUNyQixVQUFXbHlCLEtBQUtpVyxFQUNSalcsSUFBTTFTLEdBQ040a0MsSUFHUixNQUFNN00sRUFBYUQsR0FBc0IvaUMsRUFBTSw0QkFBNkI4VCxDQUFFLEVBQ3hFMjZCLEVBQUtvQixFQUFpQmpjLEVBQU8sT0FDbkM1ekIsRUFBTSxZQUFZMm5CLENBQUksRUFBRXFiLENBQVUsRUFBRS8zQixDQUFLLEVBQUl3akMsRUFDdkN4akMsS0FBU2pMLEVBQU0saUJBQWlCMm5CLENBQUksSUFDdEMzbkIsRUFBTSxpQkFBaUIybkIsQ0FBSSxFQUFFMWMsQ0FBSyxFQUFJLEdBRzFDakwsRUFBTSxpQkFBaUIybkIsQ0FBSSxFQUFFMWMsQ0FBSyxHQUFLakwsRUFBTSxpQkFBaUIybkIsQ0FBSSxFQUFFMWMsQ0FBSyxHQUFLLEdBQUssQ0FDdkYsQ0FDTyxlQUFlNmtDLEdBQThCOXZDLEVBQU8ybkIsRUFBTTdULEVBQUk2NkIsRUFBVyxDQUM1RSxNQUFNM0wsRUFBYUQsR0FBc0IvaUMsRUFBTSw0QkFBNkI4VCxDQUFFLEVBQzlFOVQsRUFBTSxlQUFlMm5CLENBQUksR0FBSzNuQixFQUFNLGVBQWUybkIsQ0FBSSxFQUFJZ25CLEVBQVkzdUMsRUFBTSxhQUFhMm5CLENBQUksRUFBRXFiLENBQVUsSUFBTTJMLEVBQVksR0FDNUgzdUMsRUFBTSxhQUFhMm5CLENBQUksRUFBRXFiLENBQVUsRUFBSSxPQUN2Q2hqQyxFQUFNLFlBQVkybkIsQ0FBSSxFQUFFcWIsQ0FBVSxFQUFJLE1BQzFDLENBQ08sZUFBZStNLEdBQTJCL3ZDLEVBQU8ybkIsRUFBTTFjLEVBQU8sQ0FDakVqTCxFQUFNLGlCQUFpQjJuQixDQUFJLEVBQUUxYyxDQUFLLEdBQ3RDLENBQ08sZUFBZStrQyxHQUFzQjVqQyxFQUFTcE0sRUFBTzJuQixFQUFNaWdCLEVBQU1yRSxFQUFLLENBQ3pFLE1BQU0wTSxFQUFjLE1BQU0sS0FBSzFNLENBQUcsRUFFNUIyTSxFQUFpQmx3QyxFQUFNLGVBQWUybkIsQ0FBSSxFQUMxQ3dvQixFQUFlbndDLEVBQU0sYUFBYTJuQixDQUFJLEVBQ3RDeW9CLEVBQW1CcHdDLEVBQU0saUJBQWlCMm5CLENBQUksRUFDOUMwb0IsRUFBbUJyd0MsRUFBTSxZQUFZMm5CLENBQUksRUFFekMyb0IsRUFBa0IsT0FBT0YsRUFBaUJ4SSxDQUFJLEdBQU0sU0FBV3dJLEVBQWlCeEksQ0FBSSxHQUFLLEVBQUksRUFDN0YySSxFQUFZLENBQUEsRUFFWkMsRUFBb0JQLEVBQVksT0FDdEMsUUFBUTU1QyxFQUFJLEVBQUdBLEVBQUltNkMsRUFBbUJuNkMsSUFBSSxDQUN0QyxJQUFJbzZDLEVBQ0osTUFBTXpOLEVBQWFELEdBQXNCL2lDLEVBQU0sNEJBQTZCaXdDLEVBQVk1NUMsQ0FBQyxDQUFDLEVBQ3BGbzRDLEdBQU00QixHQUFxQixPQUFnREksRUFBK0JKLEVBQWlCck4sQ0FBVSxLQUFPLE1BQVF5TixJQUFpQyxPQUFwSCxPQUFzSUEsRUFBNkI3SSxDQUFJLElBQU0sRUFDOU84SSxFQUFPbEMsR0FBS0MsRUFBSTZCLEVBQWlCbGtDLEVBQVEsVUFBVytqQyxFQUFhbk4sQ0FBVSxFQUFHa04sRUFBZ0I5akMsRUFBUSxPQUFPLFNBQVMsRUFDNUhta0MsRUFBVSxLQUFLLENBQ1h2TixFQUNBME4sQ0FDWixDQUFTLENBQ0osQ0FDRCxPQUFPSCxDQUNYLENBQ08sZUFBZXBOLEdBQU9QLEVBQU9RLEVBQTZCeEIsRUFBUTVoQyxFQUFPaU0sRUFBUyxHQUFJLENBQ3BGak0sSUFDREEsRUFBUSxDQUNKLDRCQUFBb2pDLEVBQ0EsUUFBUyxDQUFFLEVBQ1gsY0FBZSxDQUFFLEVBQ2pCLHFCQUFzQixDQUFFLEVBQ3hCLDhCQUErQixDQUFFLEVBQ2pDLFlBQWEsQ0FBRSxFQUNmLGlCQUFrQixDQUFFLEVBQ3BCLGVBQWdCLENBQUUsRUFDbEIsYUFBYyxDQUFFLENBQzVCLEdBRUksU0FBVyxDQUFDemIsRUFBTTVuQixDQUFJLElBQUssT0FBTyxRQUFRNmhDLENBQU0sRUFBRSxDQUM5QyxNQUFNcGhDLEVBQU8sR0FBR3lMLENBQU0sR0FBR0EsRUFBUyxJQUFNLEVBQUUsR0FBRzBiLENBQUksR0FDakQsR0FBSSxPQUFPNW5CLEdBQVMsVUFBWSxDQUFDLE1BQU0sUUFBUUEsQ0FBSSxFQUFHLENBRWxEb2pDLEdBQU9QLEVBQU9RLEVBQTZCcmpDLEVBQU1DLEVBQU9RLENBQUksRUFDNUQsUUFDSCxDQUNELEdBQUlzaEMsR0FBYS9oQyxDQUFJLEVBQ2pCQyxFQUFNLHFCQUFxQixLQUFLUSxDQUFJLEVBQ3BDUixFQUFNLDhCQUE4QlEsQ0FBSSxFQUFJVCxFQUM1Q0MsRUFBTSxjQUFjUSxDQUFJLEVBQUksQ0FDeEIsS0FBTXdoQyxHQUFjamlDLENBQUksRUFDeEIsUUFBUyxDQUFFLENBQzNCLE1BQ2UsQ0FDSCxNQUFNNHdDLEVBQVUsS0FBSyxLQUFLNXdDLENBQUksRUFDOUIsT0FBT0EsRUFBSSxDQUNQLElBQUssVUFDTCxJQUFLLFlBQ0RDLEVBQU0sUUFBUVEsQ0FBSSxFQUFJLENBQ2xCLEtBQU0sT0FDTixLQUFNLENBQ0YsS0FBTSxDQUFFLEVBQ1IsTUFBTyxDQUFFLENBQ1osRUFDRCxRQUFBbXdDLENBQ3hCLEVBQ29CLE1BQ0osSUFBSyxTQUNMLElBQUssV0FDRDN3QyxFQUFNLFFBQVFRLENBQUksRUFBSSxDQUNsQixLQUFNLE1BQ04sS0FBTW93QyxHQUFVLEVBQUcsRUFBRSxFQUNyQixRQUFBRCxDQUN4QixFQUNvQixNQUNKLElBQUssU0FDTCxJQUFLLFdBQ0Qzd0MsRUFBTSxRQUFRUSxDQUFJLEVBQUksQ0FDbEIsS0FBTSxRQUNOLEtBQU1xd0MsR0FBYSxFQUNuQixRQUFBRixDQUN4QixFQUNvQjN3QyxFQUFNLGVBQWVRLENBQUksRUFBSSxFQUM3QlIsRUFBTSxZQUFZUSxDQUFJLEVBQUksR0FDMUJSLEVBQU0saUJBQWlCUSxDQUFJLEVBQUksR0FDL0JSLEVBQU0sYUFBYVEsQ0FBSSxFQUFJLEdBQzNCLE1BQ0osSUFBSyxPQUNMLElBQUssU0FDRFIsRUFBTSxRQUFRUSxDQUFJLEVBQUksQ0FDbEIsS0FBTSxPQUNOLEtBQU1zd0MsR0FBWSxFQUNsQixRQUFBSCxDQUN4QixFQUNvQixNQUNKLElBQUssV0FDRDN3QyxFQUFNLFFBQVFRLENBQUksRUFBSSxDQUNsQixLQUFNLE1BQ04sS0FBTXV3QyxHQUFXLEVBQ2pCLFFBQUFKLENBQ3hCLEVBQ29CLE1BQ0osUUFDSSxNQUFNclAsR0FBWSxzQkFBdUIsTUFBTSxRQUFRdmhDLENBQUksRUFBSSxRQUFVQSxFQUFNUyxDQUFJLENBQzFGLENBQ0RSLEVBQU0scUJBQXFCLEtBQUtRLENBQUksRUFDcENSLEVBQU0sOEJBQThCUSxDQUFJLEVBQUlULENBQy9DLENBQ0osQ0FDRCxPQUFPQyxDQUNYLENBQ0EsZUFBZWd4QyxHQUFhQyxFQUFnQmp4QyxFQUFPMm5CLEVBQU03VCxFQUFJeFosRUFBTzQyQyxFQUFZdE0sRUFBVXVNLEVBQVd4QyxFQUFXLENBQzVHLE1BQU0zTCxFQUFhRCxHQUFzQi9pQyxFQUFNLDRCQUE2QjhULENBQUUsRUFDeEUsQ0FBRSxLQUFBL1QsRUFBTyxLQUFBM0csQ0FBSSxFQUFNNEcsRUFBTSxRQUFRMm5CLENBQUksRUFDM0MsT0FBTzVuQixFQUFJLENBQ1AsSUFBSyxPQUNELENBQ0kzRyxFQUFLa0IsRUFBUSxPQUFTLE9BQU8sRUFBRSxLQUFLMG9DLENBQVUsRUFDOUMsS0FDSCxDQUNMLElBQUssTUFDRCxDQUNJb08sR0FBVWg0QyxFQUFNa0IsRUFBTyxDQUNuQjBvQyxDQUNwQixDQUFpQixFQUNELEtBQ0gsQ0FDTCxJQUFLLFFBQ0QsQ0FDSSxNQUFNcFAsRUFBUyxNQUFNdWQsRUFBVSxTQUFTNzJDLEVBQU9zcUMsRUFBVWpkLENBQUksRUFDN0QsTUFBTXNwQixFQUFlLDhCQUE4Qmp4QyxFQUFPMm5CLEVBQU1xYixFQUFZcFAsRUFBUSthLENBQVMsRUFDN0YsVUFBVzFqQyxLQUFTMm9CLEVBQ2hCLE1BQU1xZCxFQUFlLDJCQUEyQmp4QyxFQUFPMm5CLEVBQU1xYixFQUFZcFAsRUFBUTNvQixDQUFLLEVBQ3RGb21DLEdBQVlqNEMsRUFBTTZSLEVBQU8rM0IsQ0FBVSxFQUV2QyxLQUNILENBQ0wsSUFBSyxPQUNELENBQ0lzTyxHQUFXbDRDLEVBQU1rQixFQUFPMG9DLENBQVUsRUFDbEMsS0FDSCxDQUNMLElBQUssTUFDRCxDQUNJdU8sR0FBVW40QyxFQUFNa0IsRUFBTyxDQUNuQjBvQyxDQUNwQixDQUFpQixFQUNELEtBQ0gsQ0FDUixDQUNMLENBQ08sZUFBZTNwQyxHQUFPNDNDLEVBQWdCanhDLEVBQU8ybkIsRUFBTTdULEVBQUl4WixFQUFPNDJDLEVBQVl0TSxFQUFVdU0sRUFBV3hDLEVBQVcsQ0FDN0csR0FBSTdNLEdBQWFvUCxDQUFVLEVBQ3ZCLE9BQU9NLEdBQWF4eEMsRUFBTzJuQixFQUFNcnRCLEVBQU93WixDQUFFLEVBRTlDLEdBQUksQ0FBQ211QixHQUFZaVAsQ0FBVSxFQUN2QixPQUFPRixHQUFhQyxFQUFnQmp4QyxFQUFPMm5CLEVBQU03VCxFQUFJeFosRUFBTzQyQyxFQUFZdE0sRUFBVXVNLEVBQVd4QyxDQUFTLEVBRTFHLE1BQU04QyxFQUFrQnRQLEdBQWErTyxDQUFVLEVBQ3pDUSxFQUFXcDNDLEVBQ1hxM0MsRUFBaUJELEVBQVMsT0FDaEMsUUFBUXQ1QyxFQUFJLEVBQUdBLEVBQUl1NUMsRUFBZ0J2NUMsSUFDL0IsTUFBTTQ0QyxHQUFhQyxFQUFnQmp4QyxFQUFPMm5CLEVBQU03VCxFQUFJNDlCLEVBQVN0NUMsQ0FBQyxFQUFHcTVDLEVBQWlCN00sRUFBVXVNLEVBQVd4QyxDQUFTLENBRXhILENBQ0EsU0FBUzZDLEdBQWF4eEMsRUFBTzJuQixFQUFNcnRCLEVBQU93WixFQUFJLENBQ3BDeFosYUFBaUIsZUFDbkJBLEVBQVEsSUFBSSxhQUFhQSxDQUFLLEdBRWxDLE1BQU1rb0MsRUFBT3hpQyxFQUFNLGNBQWMybkIsQ0FBSSxFQUFFLEtBQ2pDdW5CLEVBQVlILEdBQWF6MEMsRUFBT2tvQyxDQUFJLEVBQzFDeGlDLEVBQU0sY0FBYzJuQixDQUFJLEVBQUUsUUFBUTdULENBQUUsRUFBSSxDQUNwQ283QixFQUNBNTBDLENBQ1IsQ0FDQSxDQUNBLGVBQWVzM0MsR0FBYVgsRUFBZ0JqeEMsRUFBTzJuQixFQUFNN1QsRUFBSXhaLEVBQU80MkMsRUFBWXRNLEVBQVV1TSxFQUFXeEMsRUFBVyxDQUM1RyxNQUFNM0wsRUFBYUQsR0FBc0IvaUMsRUFBTSw0QkFBNkI4VCxDQUFFLEVBQzlFLEdBQUlndUIsR0FBYW9QLENBQVUsRUFDdkIsY0FBT2x4QyxFQUFNLGNBQWMybkIsQ0FBSSxFQUFFLFFBQVE3VCxDQUFFLEVBQ3BDLEdBRVgsS0FBTSxDQUFFLEtBQUEvVCxFQUFPLEtBQUEzRyxDQUFJLEVBQU00RyxFQUFNLFFBQVEybkIsQ0FBSSxFQUMzQyxPQUFPNW5CLEVBQUksQ0FDUCxJQUFLLE1BRUc4eEMsT0FBQUEsR0FBa0J6NEMsRUFBTTRwQyxFQUFZMW9DLENBQUssRUFDbEMsR0FFZixJQUFLLE9BQ0QsQ0FFSSxNQUFNb2xDLEVBQVd0bUMsRUFERWtCLEVBQVEsT0FBUyxPQUNKLEVBQUUsUUFBUTBvQyxDQUFVLEVBQ3BELE9BQUE1cEMsRUFBS2tCLEVBQVEsT0FBUyxPQUFPLEVBQUUsT0FBT29sQyxFQUFVLENBQUMsRUFDMUMsRUFDVixDQUNMLElBQUssUUFDRCxDQUNJLE1BQU05TCxFQUFTLE1BQU11ZCxFQUFVLFNBQVM3MkMsRUFBT3NxQyxFQUFVamQsQ0FBSSxFQUM3RCxNQUFNc3BCLEVBQWUsOEJBQThCanhDLEVBQU8ybkIsRUFBTTdULEVBQUk2NkIsQ0FBUyxFQUM3RSxVQUFXMWpDLEtBQVMyb0IsRUFDaEIsTUFBTXFkLEVBQWUsMkJBQTJCanhDLEVBQU8ybkIsRUFBTTFjLENBQUssRUFDbEU2bUMsR0FBb0IxNEMsRUFBTTZSLEVBQU8rM0IsQ0FBVSxFQUUvQyxNQUFPLEVBQ1YsQ0FDTCxJQUFLLE9BRUcrTyxPQUFBQSxHQUFtQjM0QyxFQUFNNHBDLEVBQVkxb0MsQ0FBSyxFQUNuQyxHQUVmLElBQUssTUFFRzAzQyxPQUFBQSxHQUFpQjU0QyxFQUFNa0IsRUFBTzBvQyxDQUFVLEVBQ2pDLEVBRWxCLENBQ0wsQ0FDTyxlQUFlUyxHQUFPd04sRUFBZ0JqeEMsRUFBTzJuQixFQUFNN1QsRUFBSXhaLEVBQU80MkMsRUFBWXRNLEVBQVV1TSxFQUFXeEMsRUFBVyxDQUM3RyxHQUFJLENBQUMxTSxHQUFZaVAsQ0FBVSxFQUN2QixPQUFPVSxHQUFhWCxFQUFnQmp4QyxFQUFPMm5CLEVBQU03VCxFQUFJeFosRUFBTzQyQyxFQUFZdE0sRUFBVXVNLEVBQVd4QyxDQUFTLEVBRTFHLE1BQU04QyxFQUFrQnRQLEdBQWErTyxDQUFVLEVBQ3pDUSxFQUFXcDNDLEVBQ1hxM0MsRUFBaUJELEVBQVMsT0FDaEMsUUFBUXQ1QyxFQUFJLEVBQUdBLEVBQUl1NUMsRUFBZ0J2NUMsSUFDL0IsTUFBTXc1QyxHQUFhWCxFQUFnQmp4QyxFQUFPMm5CLEVBQU03VCxFQUFJNDlCLEVBQVN0NUMsQ0FBQyxFQUFHcTVDLEVBQWlCN00sRUFBVXVNLEVBQVd4QyxDQUFTLEVBRXBILE1BQU8sRUFDWCxDQUNPLGVBQWVzRCxHQUFPN2xDLEVBQVNwTSxFQUFPMm5CLEVBQU1pZ0IsRUFBTSxDQUNyRCxHQUFJLEVBQUVqZ0IsS0FBUTNuQixFQUFNLGtCQUNoQixNQUFPLEdBRVgsS0FBTSxDQUFFLEtBQUE1RyxFQUFPLEtBQUEyRyxDQUFJLEVBQU1DLEVBQU0sUUFBUTJuQixDQUFJLEVBQzNDLEdBQUk1bkIsSUFBUyxRQUNULE1BQU11aEMsR0FBWSw2QkFBOEIzWixDQUFJLEVBRXhELEtBQU0sQ0FBRSxNQUFBa2dCLEVBQVEsVUFBQXBCLEdBQWVyNkIsRUFBUSxPQUNqQzhsQyxFQUFlQyxHQUFVLzRDLEVBQU0sQ0FDakMsS0FBQXd1QyxFQUNBLE1BQUFDLEVBQ0EsVUFBQXBCLENBQ1IsQ0FBSyxFQUNLbEQsRUFBTSxJQUFJLElBQ2hCLFVBQVUzb0MsS0FBT3MzQyxFQUNiLFVBQVdwK0IsS0FBTW8rQixFQUFhdDNDLENBQUcsRUFDN0Iyb0MsRUFBSSxJQUFJenZCLENBQUUsRUFHbEIsT0FBTzFILEVBQVEsTUFBTSxzQkFBc0JBLEVBQVNwTSxFQUFPMm5CLEVBQU1pZ0IsRUFBTSxNQUFNLEtBQUtyRSxDQUFHLENBQUMsQ0FDMUYsQ0FDTyxlQUFlNk8sR0FBb0JobUMsRUFBU3BNLEVBQU9xeUMsRUFBUyxDQUMvRCxNQUFNQyxFQUFhLE9BQU8sS0FBS0QsQ0FBTyxFQUNoQ0UsRUFBYUQsRUFBVyxPQUFPLENBQUM5cUMsRUFBSzVNLEtBQU8sQ0FDMUMsQ0FBQ0EsQ0FBRyxFQUFHLENBQUUsRUFDVCxHQUFHNE0sQ0FDZixHQUFZLENBQUUsQ0FBQSxFQUNWLFVBQVdnckMsS0FBU0YsRUFBVyxDQUMzQixNQUFNaHZDLEVBQVkrdUMsRUFBUUcsQ0FBSyxFQUMvQixHQUFJLE9BQU94eUMsRUFBTSxRQUFRd3lDLENBQUssRUFBTSxJQUNoQyxNQUFNbFIsR0FBWSwwQkFBMkJrUixDQUFLLEVBRXRELEtBQU0sQ0FBRSxLQUFBcDVDLEVBQU8sS0FBQTJHLEVBQU8sUUFBQTR3QyxDQUFVLEVBQUczd0MsRUFBTSxRQUFRd3lDLENBQUssRUFDdEQsR0FBSXp5QyxJQUFTLE9BQVEsQ0FFakIsTUFBTTB5QyxFQURNcjVDLEVBQ1lrSyxFQUFVLFNBQVUsQ0FBQSxFQUM1Qzg3QixHQUFjbVQsRUFBV0MsQ0FBSyxFQUFHQyxDQUFXLEVBQzVDLFFBQ0gsQ0FDRCxHQUFJMXlDLElBQVMsTUFBTyxDQUNoQixJQUFJMnlDLEVBQ0osR0FBSSxXQUFZcHZDLEVBQ1pvdkMsRUFBZSxpQkFDUixZQUFhcHZDLEVBQ3BCb3ZDLEVBQWUsY0FFZixPQUFNLElBQUksTUFBTSxxQkFBcUJwdkMsQ0FBUyxFQUFFLEVBRXBELEdBQUlvdkMsSUFBaUIsU0FBVSxDQUMzQixLQUFNLENBQUUsTUFBQXA0QyxFQUFRLFlBQUFxNEMsRUFBYyxLQUFBdlIsRUFBTSxJQUFNLE9BQUF3UixFQUFRLEdBQU8sY0FBQTFJLEVBQWUsRUFBSyxFQUFNNW1DLEVBQVVvdkMsQ0FBWSxFQUNuR0csRUFBbUIzUixHQUF3QjVtQyxFQUFPOG1DLENBQUksRUFDdERtQyxFQUFNdUcsR0FBZTF3QyxFQUFLLEtBQU11NUMsRUFBYUUsRUFBa0JELEVBQVEsT0FBVzFJLENBQWEsRUFFckc5SyxHQUFjbVQsRUFBV0MsQ0FBSyxFQUFHalAsRUFBSSxJQUFJLENBQUMsQ0FBRSxPQUFBdUUsS0FBWUEsQ0FBTSxFQUFFLEtBQU0sQ0FBQSxDQUN0RixLQUFtQixDQUNILEtBQU0sQ0FBRSxZQUFBNkssRUFBYyxPQUFBQyxFQUFRLEdBQU8sY0FBQTFJLEVBQWUsRUFBUSxFQUFHNW1DLEVBQVVvdkMsQ0FBWSxFQUMvRW5QLEVBQU1rSCxHQUFnQnJ4QyxFQUFLLEtBQU11NUMsRUFBYUMsRUFBUSxPQUFXMUksQ0FBYSxFQUVwRjlLLEdBQWNtVCxFQUFXQyxDQUFLLEVBQUdqUCxFQUFJLElBQUksQ0FBQyxDQUFFLE9BQUF1RSxLQUFZQSxDQUFNLEVBQUUsS0FBTSxDQUFBLENBQ3pFLENBQ0QsUUFDSCxDQUNELEdBQUkvbkMsSUFBUyxVQUFZLE9BQU91RCxHQUFjLFVBQVksTUFBTSxRQUFRQSxDQUFTLEdBQUksQ0FDakYsVUFBV3UvQixJQUFPLENBQ2R2L0IsQ0FDSCxFQUFDLEtBQUksRUFBRyxDQUNMLE1BQU1za0MsRUFBTyxNQUFNeDdCLEVBQVEsVUFBVSxTQUFTeTJCLEVBQUt6MkIsRUFBUSxTQUFVb21DLENBQUssRUFDMUUsVUFBVzcwQixLQUFLaXFCLEVBQUssQ0FDakIsTUFBTWtMLEVBQXFCWCxHQUFVLzRDLEVBQU0sQ0FDdkMsS0FBTXVrQixFQUNOLE1BQU8sRUFDL0IsQ0FBcUIsRUFDRHloQixHQUFjbVQsRUFBV0MsQ0FBSyxFQUFHLE9BQU8sT0FBT00sQ0FBa0IsRUFBRSxLQUFJLENBQUUsQ0FDNUUsQ0FDSixDQUNELFFBQ0gsQ0FDRCxNQUFNek0sRUFBZ0IsT0FBTyxLQUFLL2lDLENBQVMsRUFDM0MsR0FBSStpQyxFQUFjLE9BQVMsRUFDdkIsTUFBTS9FLEdBQVksMkJBQTRCK0UsRUFBYyxNQUFNLEVBRXRFLEdBQUl0bUMsSUFBUyxPQUFRLENBQ2I0d0MsRUFDQXZSLEdBQWNtVCxFQUFXQyxDQUFLLEVBQUdPLEdBQWMzNUMsRUFBTWtLLENBQVMsQ0FBQyxFQUUvRDg3QixHQUFjbVQsRUFBV0MsQ0FBSyxFQUFHUSxHQUFXNTVDLEVBQU1rSyxDQUFTLENBQUMsRUFFaEUsUUFDSCxDQUNELEdBQUl2RCxJQUFTLE1BQU8sQ0FDaEIsTUFBTWt6QyxFQUFlNU0sRUFBYyxDQUFDLEVBQzlCNk0sRUFBaUI1dkMsRUFBVTJ2QyxDQUFZLEVBQzdDLElBQUlSLEVBQWMsQ0FBQSxFQUNsQixPQUFPUSxFQUFZLENBQ2YsSUFBSyxLQUNELENBQ0lSLEVBQWNVLEdBQWUvNUMsRUFBTTg1QyxFQUFnQixFQUFLLEVBQ3hELEtBQ0gsQ0FDTCxJQUFLLE1BQ0QsQ0FDSVQsRUFBY1UsR0FBZS81QyxFQUFNODVDLEVBQWdCLEVBQUksRUFDdkQsS0FDSCxDQUNMLElBQUssS0FDRCxDQUNJVCxFQUFjVyxHQUFZaDZDLEVBQU04NUMsRUFBZ0IsRUFBSyxFQUNyRCxLQUNILENBQ0wsSUFBSyxNQUNELENBQ0lULEVBQWNXLEdBQVloNkMsRUFBTTg1QyxFQUFnQixFQUFJLEVBQ3BELEtBQ0gsQ0FDTCxJQUFLLEtBQ0QsQ0FDSVQsRUFBY1ksR0FBUWo2QyxFQUFNODVDLENBQWMsR0FBSyxDQUFBLEVBQy9DLEtBQ0gsQ0FDTCxJQUFLLFVBQ0QsQ0FDSSxLQUFNLENBQUMvTixFQUFLQyxDQUFHLEVBQUk4TixFQUNuQlQsRUFBY2EsR0FBZWw2QyxFQUFNK3JDLEVBQUtDLENBQUcsRUFDM0MsS0FDSCxDQUNSLENBQ0RoRyxHQUFjbVQsRUFBV0MsQ0FBSyxFQUFHQyxDQUFXLENBQy9DLENBQ0osQ0FHRCxPQURlblMsR0FBVSxPQUFPLE9BQU9pUyxDQUFVLENBQUMsQ0FFdEQsQ0FDTyxlQUFlZ0IsR0FBd0J2ekMsRUFBTyxDQUNqRCxPQUFPQSxFQUFNLG9CQUNqQixDQUNPLGVBQWV3ekMsR0FBaUN4ekMsRUFBTyxDQUMxRCxPQUFPQSxFQUFNLDZCQUNqQixDQUNBLFNBQVN5ekMsR0FBY3I2QyxFQUFNLENBQ3pCLE1BQU1zNkMsRUFBZ0I3QyxHQUFZejNDLEVBQUssRUFBR0EsRUFBSyxFQUFHQSxFQUFLLENBQUMsRUFDeERzNkMsRUFBYyxFQUFJdDZDLEVBQUssRUFDdkJzNkMsRUFBYyxFQUFJdDZDLEVBQUssRUFDdkIsVUFBV3U2QyxLQUFlLE9BQU8sS0FBS3Y2QyxFQUFLLENBQUMsRUFDeENzNkMsRUFBYyxFQUFFQyxDQUFXLEVBQUlGLEdBQWNyNkMsRUFBSyxFQUFFdTZDLENBQVcsQ0FBQyxFQUVwRSxPQUFPRCxDQUNYLENBQ0EsU0FBU0UsR0FBYXg2QyxFQUFNLENBQ3hCLE1BQU8sQ0FDSCxtQkFBb0IsSUFBSSxJQUFJQSxDQUFJLENBQ3hDLENBQ0EsQ0FDQSxTQUFTeTZDLEdBQWF6NkMsRUFBTSxDQUN4QixPQUFPLE1BQU0sS0FBS0EsRUFBSyxtQkFBbUIsUUFBUyxDQUFBLENBQ3ZELENBQ08sZUFBZXVwQyxHQUFLUyxFQUE2QlAsRUFBSyxDQUN6RCxLQUFNLENBQUUsUUFBU2lSLEVBQWEsY0FBZUMsRUFBbUIscUJBQUFDLEVBQXVCLDhCQUFBQyxFQUFnQyxZQUFBQyxFQUFjLGlCQUFBQyxFQUFtQixlQUFBakUsRUFBaUIsYUFBQUMsQ0FBWSxFQUFNdE4sRUFDckx1UixFQUFVLENBQUEsRUFDVkMsRUFBZ0IsQ0FBQSxFQUN0QixVQUFXMXNCLEtBQVEsT0FBTyxLQUFLbXNCLENBQVUsRUFBRSxDQUN2QyxLQUFNLENBQUUsS0FBQTE2QyxFQUFPLEtBQUEyRyxFQUFPLFFBQUE0d0MsQ0FBTyxFQUFNbUQsRUFBV25zQixDQUFJLEVBQ2xELE9BQU81bkIsRUFBSSxDQUNQLElBQUssUUFDRHEwQyxFQUFRenNCLENBQUksRUFBSSxDQUNaLEtBQU0sUUFDTixLQUFNOHJCLEdBQWNyNkMsQ0FBSSxFQUN4QixRQUFBdTNDLENBQ3BCLEVBQ2dCLE1BQ0osSUFBSyxPQUNEeUQsRUFBUXpzQixDQUFJLEVBQUksQ0FDWixLQUFNLE9BQ04sS0FBTWlzQixHQUFheDZDLENBQUksRUFDdkIsUUFBQXUzQyxDQUNwQixFQUNnQixNQUNKLFFBQ0l5RCxFQUFRenNCLENBQUksRUFBSW1zQixFQUFXbnNCLENBQUksQ0FDdEMsQ0FDSixDQUNELFVBQVd6YyxLQUFPLE9BQU8sS0FBSzZvQyxDQUFnQixFQUFFLENBQzVDLE1BQU0xRSxFQUFVMEUsRUFBaUI3b0MsQ0FBRyxFQUFFLFFBQ3RDLFVBQVVvcEMsS0FBT2pGLEVBQ2JBLEVBQVFpRixDQUFHLEVBQUksQ0FDWGpGLEVBQVFpRixDQUFHLEVBQUUsQ0FBQyxFQUNkLElBQUksYUFBYWpGLEVBQVFpRixDQUFHLEVBQUUsQ0FBQyxDQUFDLENBQ2hELEVBRVFELEVBQWNucEMsQ0FBRyxFQUFJLENBQ2pCLEtBQU02b0MsRUFBaUI3b0MsQ0FBRyxFQUFFLEtBQzVCLFFBQUFta0MsQ0FDWixDQUNLLENBQ0QsTUFBTyxDQUNILDRCQUFBak0sRUFDQSxRQUFBZ1IsRUFDQSxjQUFBQyxFQUNBLHFCQUFBTCxFQUNBLDhCQUFBQyxFQUNBLFlBQUFDLEVBQ0EsaUJBQUFDLEVBQ0EsZUFBQWpFLEVBQ0EsYUFBQUMsQ0FDUixDQUNBLENBQ08sZUFBZXpOLEdBQUsxaUMsRUFBTyxDQUM5QixLQUFNLENBQUUsUUFBQW8wQyxFQUFVLGNBQUFDLEVBQWdCLHFCQUFBTCxFQUF1Qiw4QkFBQUMsRUFBZ0MsWUFBQUMsRUFBYyxpQkFBQUMsRUFBbUIsZUFBQWpFLEVBQWlCLGFBQUFDLENBQWUsRUFBR253QyxFQUN2SnUwQyxFQUF3QixDQUFBLEVBQzlCLFVBQVdycEMsS0FBTyxPQUFPLEtBQUttcEMsQ0FBYSxFQUFFLENBQ3pDLE1BQU1oRixFQUFVZ0YsRUFBY25wQyxDQUFHLEVBQUUsUUFDbkMsVUFBVW9wQyxLQUFPakYsRUFDYkEsRUFBUWlGLENBQUcsRUFBSSxDQUNYakYsRUFBUWlGLENBQUcsRUFBRSxDQUFDLEVBQ2QsTUFBTSxLQUFLakYsRUFBUWlGLENBQUcsRUFBRSxDQUFDLENBQUMsQ0FDMUMsRUFFUUMsRUFBc0JycEMsQ0FBRyxFQUFJLENBQ3pCLEtBQU1tcEMsRUFBY25wQyxDQUFHLEVBQUUsS0FDekIsUUFBQW1rQyxDQUNaLENBQ0ssQ0FFRCxNQUFNbUYsRUFBZSxDQUFBLEVBQ3JCLFVBQVcvNkMsS0FBUSxPQUFPLEtBQUsyNkMsQ0FBTyxFQUFFLENBQ3BDLEtBQU0sQ0FBRSxLQUFBcjBDLEVBQU8sS0FBQTNHLEVBQU8sUUFBQXUzQyxDQUFPLEVBQU15RCxFQUFRMzZDLENBQUksRUFDL0MsR0FBSXNHLElBQVMsT0FBUSxDQUNqQnkwQyxFQUFhLzZDLENBQUksRUFBSTI2QyxFQUFRMzZDLENBQUksRUFDakMsUUFDSCxDQUNEKzZDLEVBQWEvNkMsQ0FBSSxFQUFJLENBQ2pCLEtBQU0sT0FDTixLQUFNbzZDLEdBQWF6NkMsQ0FBSSxFQUN2QixRQUFBdTNDLENBQ1osQ0FDSyxDQUNELE1BQU8sQ0FDSCxRQUFTNkQsRUFDVCxjQUFlRCxFQUNmLHFCQUFBUCxFQUNBLDhCQUFBQyxFQUNBLFlBQUFDLEVBQ0EsaUJBQUFDLEVBQ0EsZUFBQWpFLEVBQ0EsYUFBQUMsQ0FDUixDQUNBLENBQ08sZUFBZXNFLElBQWMsQ0FDaEMsTUFBTyxDQUNYLE9BQVF0UixHQUNSLE9BQVE5cEMsR0FDUixPQUFRb3FDLEdBQ0EsOEJBQUFrTSxHQUNBLDJCQUFBQyxHQUNBLDhCQUFBRSxHQUNBLDJCQUFBQyxHQUNBLHNCQUFBQyxHQUNSLE9BQVFpQyxHQUNBLG9CQUFBRyxHQUNBLHdCQUFBbUIsR0FDQSxpQ0FBQUMsR0FDUixLQUFRN1EsR0FDUixLQUFRRCxFQUNSLENBQ0EsQ0NuaEJBLFNBQVNnUyxHQUFZOVIsRUFBT1EsRUFBNkJ4QixFQUFRK1MsRUFBMEIxb0MsRUFBUSxDQUMvRixNQUFNMm9DLEVBQVMsQ0FDWCxTQUFVaFMsRUFBTSxVQUFVLFNBQzFCLDRCQUFBUSxFQUNBLFFBQVMsR0FDVCxTQUFVLEdBQ1YsbUJBQW9CLENBQUUsRUFDdEIsNEJBQTZCLENBQUUsRUFDL0IsTUFBTyxDQUFFLENBQ2pCLEVBQ0ksU0FBVyxDQUFDemIsRUFBTTVuQixDQUFJLElBQUssT0FBTyxRQUFRNmhDLENBQU0sRUFBRSxDQUM5QyxNQUFNcGhDLEVBQU8sR0FBR3lMLENBQU0sR0FBR0EsRUFBUyxJQUFNLEVBQUUsR0FBRzBiLENBQUksR0FDakQsR0FBSSxDQUFBZ3RCLEVBQXlCLFNBQVNuMEMsQ0FBSSxFQUcxQyxJQUFJLE9BQU9ULEdBQVMsVUFBWSxDQUFDLE1BQU0sUUFBUUEsQ0FBSSxFQUFHLENBRWxELE1BQU1MLEVBQU1nMUMsR0FBWTlSLEVBQU9RLEVBQTZCcmpDLEVBQU00MEMsRUFBMEJuMEMsQ0FBSSxFQUNoRzQrQixHQUFjd1YsRUFBTyxtQkFBb0JsMUMsRUFBSSxrQkFBa0IsRUFDL0RrMUMsRUFBTyxNQUFRLENBQ1gsR0FBR0EsRUFBTyxNQUNWLEdBQUdsMUMsRUFBSSxLQUN2QixFQUNZazFDLEVBQU8sNEJBQThCLENBQ2pDLEdBQUdBLEVBQU8sNEJBQ1YsR0FBR2wxQyxFQUFJLDJCQUN2QixFQUNZLFFBQ0gsQ0FDRCxHQUFJLENBQUNvaUMsR0FBYS9oQyxDQUFJLEVBQ2xCLE9BQU9BLEVBQUksQ0FDUCxJQUFLLFVBQ0wsSUFBSyxTQUNMLElBQUssU0FDRDYwQyxFQUFPLG1CQUFtQixLQUFLcDBDLENBQUksRUFDbkNvMEMsRUFBTyw0QkFBNEJwMEMsQ0FBSSxFQUFJVCxFQUMzQzYwQyxFQUFPLE1BQU1wMEMsQ0FBSSxFQUFJLENBQ2pCLEtBQU0sSUFBSSxJQUNWLG9CQUFxQixJQUFJLElBQ3pCLFlBQWEsQ0FBRSxFQUNmLEtBQU1ULENBQzlCLEVBQ29CLE1BQ0osSUFBSyxXQUNMLElBQUssT0FDRCxTQUNKLElBQUssU0FDTCxJQUFLLFlBQ0wsSUFBSyxXQUNMLElBQUssV0FDRCxTQUNKLFFBQ0ksTUFBTXVoQyxHQUFZLDJCQUE0QixNQUFNLFFBQVF2aEMsQ0FBSSxFQUFJLFFBQVVBLEVBQU1TLENBQUksQ0FDL0YsRUFFUixDQUNELE9BQU9vMEMsQ0FDWCxDQUNBLGVBQWV6UixHQUFPUCxFQUFPUSxFQUE2QnhCLEVBQVF4dkIsRUFBUSxDQUV0RSxPQUR1QkEsR0FBVyxLQUE0QixPQUFTQSxFQUFPLFdBQWEsR0FNcEZzaUMsR0FBWTlSLEVBQU9RLEVBQTZCeEIsR0FBU3h2QixHQUFVLENBQUEsR0FBSSxzQkFBd0IsR0FBSSxFQUFFLEVBSmpHLENBQ0gsU0FBVSxFQUN0QixDQUdBLENBQ0EsZUFBZS9ZLEdBQU91N0MsRUFBUWp0QixFQUFNN1QsRUFBSXhaLEVBQU8sQ0FDM0MsR0FBSSxDQUFDczZDLEVBQU8sUUFDUixPQUVKQSxFQUFPLFNBQVcsR0FDbEIsTUFBTTVSLEVBQWFELEdBQXNCNlIsRUFBTyw0QkFBNkI5Z0MsQ0FBRSxFQUN6RSxFQUFJOGdDLEVBQU8sTUFBTWp0QixDQUFJLEVBQzNCLEVBQUUsS0FBSyxJQUFJcWIsRUFBWSxFQUFFLFlBQVksTUFBTSxFQUMzQyxFQUFFLFlBQVksS0FBSyxDQUNmQSxFQUNBMW9DLENBQ1IsQ0FBSyxDQUNMLENBQ0EsU0FBU3U2QyxHQUFlRCxFQUFRLENBSTVCLEdBSElBLEVBQU8sVUFHUCxDQUFDQSxFQUFPLFFBQ1IsT0FFSixNQUFNaFUsRUFBYSxPQUFPLEtBQUtnVSxFQUFPLEtBQUssRUFDM0MsVUFBV2p0QixLQUFRaVosRUFDZmtVLEdBQXVCRixFQUFRanRCLENBQUksRUFFdkNpdEIsRUFBTyxTQUFXLEVBQ3RCLENBQ0EsU0FBU0csR0FBV25RLEVBQVV0cUMsRUFBT3cvQixFQUFHLENBQ3BDLE9BQU94L0IsRUFBTSxDQUFDLEVBQUUsY0FBY3cvQixFQUFFLENBQUMsRUFBRzhLLENBQVEsQ0FDaEQsQ0FDQSxTQUFTb1EsR0FBVzE2QyxFQUFPdy9CLEVBQUcsQ0FDMUIsT0FBT3gvQixFQUFNLENBQUMsRUFBSXcvQixFQUFFLENBQUMsQ0FDekIsQ0FDQSxTQUFTbWIsR0FBWTM2QyxFQUFPdy9CLEVBQUcsQ0FDM0IsT0FBT0EsRUFBRSxDQUFDLEVBQUksR0FBSyxDQUN2QixDQUNBLFNBQVNnYixHQUF1QkYsRUFBUWp0QixFQUFNLENBQzFDLE1BQU1nUyxFQUFJaWIsRUFBTyxNQUFNanRCLENBQUksRUFDM0IsSUFBSXV0QixFQUNKLE9BQU92YixFQUFFLEtBQUksQ0FDVCxJQUFLLFNBQ0R1YixFQUFZSCxHQUFXLEtBQUssS0FBTUgsRUFBTyxRQUFRLEVBQ2pELE1BQ0osSUFBSyxTQUNETSxFQUFZRixHQUFXLEtBQUssSUFBSSxFQUNoQyxNQUNKLElBQUssVUFDREUsRUFBWUQsR0FBWSxLQUFLLElBQUksRUFDakMsS0FDUCxDQUNEdGIsRUFBRSxZQUFZLEtBQUt1YixDQUFTLEVBRTVCLE1BQU1DLEVBQW9CeGIsRUFBRSxZQUFZLE9BQ3hDLFFBQVF2aEMsRUFBSSxFQUFHQSxFQUFJKzhDLEVBQW1CLzhDLElBQUksQ0FDdEMsTUFBTWd3QyxFQUFRek8sRUFBRSxZQUFZdmhDLENBQUMsRUFBRSxDQUFDLEVBQ2hDdWhDLEVBQUUsS0FBSyxJQUFJeU8sRUFBT2h3QyxDQUFDLENBQ3RCLENBQ0wsQ0FDQSxTQUFTZzlDLEdBQTRCUixFQUFRLENBQ3pDLE1BQU1oVSxFQUFhLE9BQU8sS0FBS2dVLEVBQU8sS0FBSyxFQUMzQyxVQUFXanRCLEtBQVFpWixFQUNmeVUsR0FBc0NULEVBQVFqdEIsQ0FBSSxDQUUxRCxDQUNBLFNBQVMwdEIsR0FBc0NULEVBQVFqdEIsRUFBTSxDQUN6RCxNQUFNZ1MsRUFBSWliLEVBQU8sTUFBTWp0QixDQUFJLEVBQ3RCZ1MsRUFBRSxvQkFBb0IsT0FDM0JBLEVBQUUsWUFBY0EsRUFBRSxZQUFZLE9BQVErRyxHQUFNLENBQUMvRyxFQUFFLG9CQUFvQixJQUFJK0csRUFBSSxDQUFDLENBQUMsQ0FBQyxFQUM5RS9HLEVBQUUsb0JBQW9CLFFBQzFCLENBQ0EsZUFBZThKLEdBQU9tUixFQUFRanRCLEVBQU03VCxFQUFJLENBQ3BDLEdBQUksQ0FBQzhnQyxFQUFPLFFBQ1IsT0FFSixNQUFNamIsRUFBSWliLEVBQU8sTUFBTWp0QixDQUFJLEVBQ3JCcWIsRUFBYUQsR0FBc0I2UixFQUFPLDRCQUE2QjlnQyxDQUFFLEVBQ2pFNmxCLEVBQUUsS0FBSyxJQUFJcUosQ0FBVSxJQUVuQ3JKLEVBQUUsS0FBSyxPQUFPcUosQ0FBVSxFQUN4QnJKLEVBQUUsb0JBQW9CLElBQUlxSixFQUFZLEVBQUksRUFDOUMsQ0FDQSxlQUFlc1MsR0FBT1YsRUFBUVcsRUFBUUMsRUFBSSxDQUN0QyxHQUFJLENBQUNaLEVBQU8sUUFDUixNQUFNdFQsR0FBWSxlQUFlLEVBRXJDLE1BQU1sQixFQUFXb1YsRUFBRyxTQUNkQyxFQUFTRCxFQUFHLFFBQVUsT0FDdEIsRUFBSVosRUFBTyxNQUFNeFUsQ0FBUSxFQUMvQixHQUFJLENBQUMsRUFDRCxNQUFNa0IsR0FBWSxrQ0FBbUNsQixFQUFVd1UsRUFBTyxtQkFBbUIsS0FBSyxJQUFJLENBQUMsRUFFdkcsT0FBQVMsR0FBc0NULEVBQVF4VSxDQUFRLEVBQ3REeVUsR0FBZUQsQ0FBTSxFQUNyQlcsRUFBTyxLQUFLLENBQUMsRUFBR3grQyxJQUFJLENBSWhCLE1BQU0yK0MsRUFBVyxFQUFFLEtBQUssSUFBSTNTLEdBQXNCNlIsRUFBTyw0QkFBNkIsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUNyRmUsRUFBVyxFQUFFLEtBQUssSUFBSTVTLEdBQXNCNlIsRUFBTyw0QkFBNkI3OUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUNyRjYrQyxFQUFhLE9BQU9GLEVBQWEsSUFDakNHLEVBQWEsT0FBT0YsRUFBYSxJQUN2QyxNQUFJLENBQUNDLEdBQWMsQ0FBQ0MsRUFDVCxFQUdORCxFQUdBQyxFQUdFSixFQUFTRSxFQUFXRCxFQUFXQSxFQUFXQyxFQUZ0QyxHQUhBLENBTW5CLENBQUssRUFDTUosQ0FDWCxDQUNBLGVBQWVPLEdBQXNCbEIsRUFBUSxDQUN6QyxPQUFLQSxFQUFPLFFBR0xBLEVBQU8sbUJBRkgsRUFHZixDQUNBLGVBQWVtQixHQUErQm5CLEVBQVEsQ0FDbEQsT0FBS0EsRUFBTyxRQUdMQSxFQUFPLDRCQUZILEVBR2YsQ0FDTyxlQUFlalMsR0FBS1MsRUFBNkJQLEVBQUssQ0FDekQsTUFBTWEsRUFBY2IsRUFDcEIsR0FBSSxDQUFDYSxFQUFZLFFBQ2IsTUFBTyxDQUNILFFBQVMsRUFDckIsRUFFSSxNQUFNc1MsRUFBUSxPQUFPLEtBQUt0UyxFQUFZLEtBQUssRUFBRSxPQUFPLENBQUNsOEIsRUFBS21nQixJQUFPLENBQzdELEtBQU0sQ0FBRSxLQUFBb2dCLEVBQU8sWUFBQWtPLEVBQWMsS0FBQWwyQyxDQUFPLEVBQUcyakMsRUFBWSxNQUFNL2IsQ0FBSSxFQUM3RCxPQUFBbmdCLEVBQUltZ0IsQ0FBSSxFQUFJLENBQ1IsS0FBTSxJQUFJLElBQUksT0FBTyxRQUFRb2dCLENBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzF4QyxFQUFHMmlDLENBQUMsSUFBSSxDQUN6QyxDQUFDM2lDLEVBQ0QyaUMsQ0FDcEIsQ0FBaUIsQ0FBQyxFQUNOLG9CQUFxQixJQUFJLElBQ3pCLFlBQUFpZCxFQUNBLEtBQUFsMkMsQ0FDWixFQUNleUgsQ0FDVixFQUFFLENBQUUsQ0FBQSxFQUNMLE1BQU8sQ0FDSCw0QkFBQTQ3QixFQUNBLFNBQVVNLEVBQVksU0FDdEIsbUJBQW9CQSxFQUFZLG1CQUNoQyw0QkFBNkJBLEVBQVksNEJBQ3pDLE1BQUFzUyxFQUNBLFFBQVMsR0FDVCxTQUFVdFMsRUFBWSxRQUM5QixDQUNBLENBQ08sZUFBZWhCLEdBQUtrUyxFQUFRLENBQy9CLEdBQUksQ0FBQ0EsRUFBTyxRQUNSLE1BQU8sQ0FDSCxRQUFTLEVBQ3JCLEVBRUlRLEdBQTRCUixDQUFNLEVBQ2xDQyxHQUFlRCxDQUFNLEVBQ3JCLE1BQU1vQixFQUFRLE9BQU8sS0FBS3BCLEVBQU8sS0FBSyxFQUFFLE9BQU8sQ0FBQ3B0QyxFQUFLbWdCLElBQU8sQ0FDeEQsS0FBTSxDQUFFLEtBQUFvZ0IsRUFBTyxZQUFBa08sRUFBYyxLQUFBbDJDLENBQU8sRUFBRzYwQyxFQUFPLE1BQU1qdEIsQ0FBSSxFQUN4RCxPQUFBbmdCLEVBQUltZ0IsQ0FBSSxFQUFJLENBQ1IsS0FBTSxPQUFPLFlBQVlvZ0IsRUFBSyxRQUFPLENBQUUsRUFDdkMsWUFBQWtPLEVBQ0EsS0FBQWwyQyxDQUNaLEVBQ2V5SCxDQUNWLEVBQUUsQ0FBRSxDQUFBLEVBQ0wsTUFBTyxDQUNILFNBQVVvdEMsRUFBTyxTQUNqQixtQkFBb0JBLEVBQU8sbUJBQzNCLDRCQUE2QkEsRUFBTyw0QkFDcEMsTUFBQW9CLEVBQ0EsUUFBU3BCLEVBQU8sUUFDaEIsU0FBVUEsRUFBTyxRQUN6QixDQUNBLENBQ08sZUFBZXNCLElBQWUsQ0FDakMsTUFBTyxDQUNYLE9BQVEvUyxHQUNSLE9BQVE5cEMsR0FDUixPQUFRb3FDLEdBQ1IsS0FBUWYsR0FDUixLQUFRQyxHQUNBLE9BQUEyUyxHQUNBLHNCQUFBUSxHQUNBLCtCQUFBQyxFQUNSLENBQ0EsQ0N4UUEsTUFBTUksR0FBNEIsSUFDNUJDLEdBQTBCLElBQzFCQyxHQUEyQixDQUM3QixHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsS0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLElBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLEtBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0Es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eWpDLEVBQXVCLENBQ3pCLDZCQUE4QixLQUFLLDZCQUNuQywyQkFBNEIsS0FBSywyQkFDakMsa0JBQW1CLEtBQUssa0JBQ3hCLG9CQUFxQixLQUFLLG9CQUMxQixRQUFTLEtBQUssYUFBYSxPQUMzQyxFQUNrQi9vQixFQUFXZ2lCLEdBQVkrRyxDQUFvQixFQUMzQzN0QixFQUFTLENBQ1gsR0FBRyxLQUFLLGFBQ1IsUUFBUzRFLEVBQ1QsUUFBUyxLQUFLLFFBQ2QsV0FBWSxDQUM1QixFQUNpQjVFLEVBQU8sU0FDUixPQUFPQSxFQUFPLFFBRWxCLEtBQUssT0FBUyxJQUFJNHRCLEdBQWE1dEIsQ0FBTSxDQUN4QyxDQUNELE1BQU0wdEIsRUFBaUIsQ0FDbkIsR0FBRyxLQUFLLGFBQ1IsR0FBR3hqQyxDQUNmLEVBQ1EsT0FBSSxLQUFLLG9CQUNMd2pDLEVBQWUsUUFBVSxDQUNyQixVQUFXLEtBQUssa0JBQ2hCLEdBQUdBLEVBQWUsT0FDbEMsRUFDWUEsRUFBZSxNQUFRLENBQ25CLGNBQWUsS0FBSyxzQkFDcEIsR0FBR0EsRUFBZSxLQUNsQyxHQUVlQSxDQUNWLENBQ0QsVUFBVyxDQUNQLE1BQU8sUUFDVixDQUVELHFCQUFxQnExQyxFQUFZLENBQzdCLE9BQU9BLEVBQVcsT0FBTyxDQUFDdnJFLEVBQUsrMEIsS0FDdkJBLEdBQWFBLEVBQVUsYUFDdkIvMEIsRUFBSSxXQUFXLGtCQUNYKzBCLEVBQVUsV0FBVyxrQkFBb0IsRUFDN0MvMEIsRUFBSSxXQUFXLGNBQWdCKzBCLEVBQVUsV0FBVyxjQUFnQixFQUNwRS8wQixFQUFJLFdBQVcsYUFBZSswQixFQUFVLFdBQVcsYUFBZSxHQUUvRC8wQixHQUNSLENBQ0MsV0FBWSxDQUNSLGlCQUFrQixFQUNsQixhQUFjLEVBQ2QsWUFBYSxDQUNoQixDQUNiLENBQVMsQ0FDSixDQUNMIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNTgsNTksNjAsNjEsNjIsNjMsNjQsNjUsNjYsNjcsNjgsNjksNzAsNzEsNzIsNzMsNzQsNzUsNzYsNzcsNzgsNzksODAsODEsODIsODMsODQsODUsODYsODcsODgsODksOTAsOTEsOTIsOTMsOTQsOTUsOTYsOTcsOTgsOTksMTAwLDEwMSwxMDIsMTAzLDEwNCwxMDUsMTA2LDEwNywxMDgsMTA5LDExMCwxMTEsMTEyLDExMywxMTQsMTE1LDExNiwxMTcsMTE4LDExOSwxMjAsMTIxLDEyMiwxMjMsMTI0LDEyNSwxMjYsMTI3LDEyOCwxMjksMTMwLDEzMSwxMzIsMTMzLDEzNCwxMzUsMTM2LDEzNywxMzgsMTM5LDE0MCwxNDEsMTQyLDE0MywxNDQsMTQ1LDE0NiwxNDcsMTQ4LDE0OSwxNTAsMTUxLDE1MiwxNTMsMTU0LDE1NSwxNTYsMTU3LDE1OCwxNTksMTYwLDE2MSwxNjIsMTYzLDE2NCwxNjksMTcwLDE3NiwxNzcsMTc4LDE3OSwxODAsMTgxLDE4MiwxODMsMTg0LDE4NSwxODYsMTg3LDE4OCwxODksMTkwLDE5MSwxOTIsMTkzLDE5NCwxOTUsMTk2LDE5NywxOTgsMTk5LDIwMCwyMDEsMjAyLDIwMywyMDQsMjA1LDIwNiwyMDcsMjA4LDIwOSwyMTAsMjExLDIxMiwyMTMsMjE0LDIxNSwyMTYsMjE3LDIxOCwyMTksMjIwLDIyMSwyMjIsMjIzXX0=
