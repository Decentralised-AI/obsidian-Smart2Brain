"use strict";var mc=Object.defineProperty;var gc=(r,e,t)=>e in r?mc(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ee=(r,e,t)=>(gc(r,typeof e!="symbol"?e+"":e,t),t);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const Qe=require("obsidian"),yc=require("electron"),bc=require("stream");function et(){}function ft(r,e){for(const t in e)r[t]=e[t];return r}function to(r){return r()}function Cs(){return Object.create(null)}function It(r){r.forEach(to)}function Xr(r){return typeof r=="function"}function At(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function _c(r){return Object.keys(r).length===0}function vc(r,...e){if(r==null){for(const n of e)n(void 0);return et}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ro(r,e,t){r.$$.on_destroy.push(vc(e,t))}function wc(r,e,t,n){if(r){const i=no(r,e,t,n);return r[0](i)}}function no(r,e,t,n){return r[1]&&n?ft(t.ctx.slice(),r[1](n(e))):t.ctx}function Ic(r,e,t,n){if(r[2]&&n){const i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],a=Math.max(e.dirty.length,i.length);for(let o=0;o<a;o+=1)s[o]=e.dirty[o]|i[o];return s}return e.dirty|i}return e.dirty}function Ac(r,e,t,n,i,s){if(i){const a=no(e,t,n,s);r.p(a,i)}}function Ec(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function Xt(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function Oe(r,e){r.appendChild(e)}function tt(r,e,t){r.insertBefore(e,t||null)}function He(r){r.parentNode&&r.parentNode.removeChild(r)}function qe(r){return document.createElement(r)}function kr(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Nr(r){return document.createTextNode(r)}function jt(){return Nr(" ")}function xi(){return Nr("")}function Ir(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function Si(r){return function(e){return e.preventDefault(),r.call(this,e)}}function Ae(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Tc(r){return Array.from(r.childNodes)}function Hi(r,e){e=""+e,r.data!==e&&(r.data=e)}function ks(r,e){r.value=e??""}function Kt(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}let Wi;function Ar(r){Wi=r}const Vt=[],Ns=[];let Wt=[];const Rs=[],Pc=Promise.resolve();let Ci=!1;function Oc(){Ci||(Ci=!0,Pc.then(io))}function ki(r){Wt.push(r)}const oi=new Set;let $t=0;function io(){if($t!==0)return;const r=Wi;do{try{for(;$t<Vt.length;){const e=Vt[$t];$t++,Ar(e),xc(e.$$)}}catch(e){throw Vt.length=0,$t=0,e}for(Ar(null),Vt.length=0,$t=0;Ns.length;)Ns.pop()();for(let e=0;e<Wt.length;e+=1){const t=Wt[e];oi.has(t)||(oi.add(t),t())}Wt.length=0}while(Vt.length);for(;Rs.length;)Rs.pop()();Ci=!1,oi.clear(),Ar(r)}function xc(r){if(r.fragment!==null){r.update(),It(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(ki)}}function Sc(r){const e=[],t=[];Wt.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Wt=e}const Gr=new Set;let Nt;function so(){Nt={r:0,c:[],p:Nt}}function ao(){Nt.r||It(Nt.c),Nt=Nt.p}function Ke(r,e){r&&r.i&&(Gr.delete(r),r.i(e))}function We(r,e,t,n){if(r&&r.o){if(Gr.has(r))return;Gr.add(r),Nt.c.push(()=>{Gr.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function Ds(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Cc(r,e){We(r,1,1,()=>{e.delete(r.key)})}function kc(r,e,t,n,i,s,a,o,u,c,d,f){let m=r.length,_=s.length,y=m;const A={};for(;y--;)A[r[y].key]=y;const p=[],P=new Map,j=new Map,N=[];for(y=_;y--;){const R=f(i,s,y),w=t(R);let I=a.get(w);I?n&&N.push(()=>I.p(R,e)):(I=c(w,R),I.c()),P.set(w,p[y]=I),w in A&&j.set(w,Math.abs(y-A[w]))}const D=new Set,$=new Set;function x(R){Ke(R,1),R.m(o,d),a.set(R.key,R),d=R.first,_--}for(;m&&_;){const R=p[_-1],w=r[m-1],I=R.key,v=w.key;R===w?(d=R.first,m--,_--):P.has(v)?!a.has(I)||D.has(I)?x(R):$.has(v)?m--:j.get(I)>j.get(v)?($.add(I),x(R)):(D.add(v),m--):(u(w,a),m--)}for(;m--;){const R=r[m];P.has(R.key)||u(R,a)}for(;_;)x(p[_-1]);return It(N),p}function Gi(r,e){const t={},n={},i={$$scope:1};let s=r.length;for(;s--;){const a=r[s],o=e[s];if(o){for(const u in a)u in o||(n[u]=1);for(const u in o)i[u]||(t[u]=o[u],i[u]=1);r[s]=o}else for(const u in a)i[u]=1}for(const a in n)a in t||(t[a]=void 0);return t}function Yi(r){return typeof r=="object"&&r!==null?r:{}}function vt(r){r&&r.c()}function mt(r,e,t){const{fragment:n,after_update:i}=r.$$;n&&n.m(e,t),ki(()=>{const s=r.$$.on_mount.map(to).filter(Xr);r.$$.on_destroy?r.$$.on_destroy.push(...s):It(s),r.$$.on_mount=[]}),i.forEach(ki)}function gt(r,e){const t=r.$$;t.fragment!==null&&(Sc(t.after_update),It(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Nc(r,e){r.$$.dirty[0]===-1&&(Vt.push(r),Oc(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function Lt(r,e,t,n,i,s,a=null,o=[-1]){const u=Wi;Ar(r);const c=r.$$={fragment:null,ctx:[],props:s,update:et,not_equal:i,bound:Cs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Cs(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};a&&a(c.root);let d=!1;if(c.ctx=t?t(r,e.props||{},(f,m,..._)=>{const y=_.length?_[0]:m;return c.ctx&&i(c.ctx[f],c.ctx[f]=y)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](y),d&&Nc(r,f)),m}):[],c.update(),d=!0,It(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=Tc(e.target);c.fragment&&c.fragment.l(f),f.forEach(He)}else c.fragment&&c.fragment.c();e.intro&&Ke(r.$$.fragment),mt(r,e.target,e.anchor),io()}Ar(u)}class Mt{constructor(){Ee(this,"$$");Ee(this,"$$set")}$destroy(){gt(this,1),this.$destroy=et}$on(e,t){if(!Xr(t))return et;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!_c(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Rc="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Rc);function js(r){let e,t;return{c(){e=kr("title"),t=Nr(r[0])},m(n,i){tt(n,e,i),Oe(e,t)},p(n,i){i&1&&Hi(t,n[0])},d(n){n&&He(e)}}}function Dc(r){let e,t,n,i=r[0]&&js(r);const s=r[3].default,a=wc(s,r,r[2],null);return{c(){e=kr("svg"),i&&i.c(),t=xi(),a&&a.c(),Ae(e,"xmlns","http://www.w3.org/2000/svg"),Ae(e,"viewBox",r[1]),Ae(e,"class","svelte-c8tyih")},m(o,u){tt(o,e,u),i&&i.m(e,null),Oe(e,t),a&&a.m(e,null),n=!0},p(o,[u]){o[0]?i?i.p(o,u):(i=js(o),i.c(),i.m(e,t)):i&&(i.d(1),i=null),a&&a.p&&(!n||u&4)&&Ac(a,s,o,o[2],n?Ic(s,o[2],u,null):Ec(o[2]),null),(!n||u&2)&&Ae(e,"viewBox",o[1])},i(o){n||(Ke(a,o),n=!0)},o(o){We(a,o),n=!1},d(o){o&&He(e),i&&i.d(),a&&a.d(o)}}}function jc(r,e,t){let{$$slots:n={},$$scope:i}=e,{title:s=null}=e,{viewBox:a}=e;return r.$$set=o=>{"title"in o&&t(0,s=o.title),"viewBox"in o&&t(1,a=o.viewBox),"$$scope"in o&&t(2,i=o.$$scope)},[s,a,i,n]}class Ji extends Mt{constructor(e){super(),Lt(this,e,jc,Dc,At,{title:0,viewBox:1})}}function Uc(r){let e;return{c(){e=kr("path"),Ae(e,"d","M2.01 21L23 12 2.01 3 2 10l15 2-15 2z")},m(t,n){tt(t,e,n)},p:et,d(t){t&&He(e)}}}function Lc(r){let e,t;const n=[{viewBox:"0 0 24 24"},r[0]];let i={$$slots:{default:[Uc]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=ft(i,n[s]);return e=new Ji({props:i}),{c(){vt(e.$$.fragment)},m(s,a){mt(e,s,a),t=!0},p(s,[a]){const o=a&1?Gi(n,[n[0],Yi(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){t||(Ke(e.$$.fragment,s),t=!0)},o(s){We(e.$$.fragment,s),t=!1},d(s){gt(e,s)}}}function Mc(r,e,t){return r.$$set=n=>{t(0,e=ft(ft({},e),Xt(n)))},e=Xt(e),[e]}class $c extends Mt{constructor(e){super(),Lt(this,e,Mc,Lc,At,{})}}const zt=[];function oo(r,e=et){let t;const n=new Set;function i(o){if(At(r,o)&&(r=o,t)){const u=!zt.length;for(const c of n)c[1](),zt.push(c,r);if(u){for(let c=0;c<zt.length;c+=2)zt[c][0](zt[c+1]);zt.length=0}}}function s(o){i(o(r))}function a(o,u=et){const c=[o,u];return n.add(c),n.size===1&&(t=e(i,s)||et),o(r),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:a}}var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sn(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cn={exports:{}},uo={};function rt(r,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(r)),this._timeouts=r,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var zc=rt;rt.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};rt.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};rt.prototype.retry=function(r){if(this._timeout&&clearTimeout(this._timeout),!r)return!1;var e=new Date().getTime();if(r&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(r),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(r);var t=this._timeouts.shift();if(t===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),t=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},t),this._options.unref&&this._timer.unref(),!0};rt.prototype.attempt=function(r,e){this._fn=r,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var t=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){t._operationTimeoutCb()},t._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};rt.prototype.try=function(r){console.log("Using RetryOperation.try() is deprecated"),this.attempt(r)};rt.prototype.start=function(r){console.log("Using RetryOperation.start() is deprecated"),this.attempt(r)};rt.prototype.start=rt.prototype.try;rt.prototype.errors=function(){return this._errors};rt.prototype.attempts=function(){return this._attempts};rt.prototype.mainError=function(){if(this._errors.length===0)return null;for(var r={},e=null,t=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,a=(r[s]||0)+1;r[s]=a,a>=t&&(e=i,t=a)}return e};(function(r){var e=zc;r.operation=function(t){var n=r.timeouts(t);return new e(n,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},r.timeouts=function(t){if(t instanceof Array)return[].concat(t);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in t)n[i]=t[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],a=0;a<n.retries;a++)s.push(this.createTimeout(a,n));return t&&t.forever&&!s.length&&s.push(this.createTimeout(a,n)),s.sort(function(o,u){return o-u}),s},r.createTimeout=function(t,n){var i=n.randomize?Math.random()+1:1,s=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,t));return s=Math.min(s,n.maxTimeout),s},r.wrap=function(t,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var s in t)typeof t[s]=="function"&&i.push(s)}for(var a=0;a<i.length;a++){var o=i[a],u=t[o];t[o]=(function(d){var f=r.operation(n),m=Array.prototype.slice.call(arguments,1),_=m.pop();m.push(function(y){f.retry(y)||(y&&(arguments[0]=f.mainError()),_.apply(this,arguments))}),f.attempt(function(){d.apply(t,m)})}).bind(t,u),t[o].options=n}}})(uo);var Bc=uo;const Zc=Bc,Vc=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class co extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const Fc=(r,e,t)=>{const n=t.retries-(e-1);return r.attemptNumber=e,r.retriesLeft=n,r},Kc=r=>Vc.includes(r),lo=(r,e)=>new Promise((t,n)=>{e={onFailedAttempt:()=>{},retries:10,...e};const i=Zc.operation(e);i.attempt(async s=>{try{t(await r(s))}catch(a){if(!(a instanceof Error)){n(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof co)i.stop(),n(a.originalError);else if(a instanceof TypeError&&!Kc(a.message))i.stop(),n(a);else{Fc(a,s,e);try{await e.onFailedAttempt(a)}catch(o){n(o);return}i.retry(a)||n(i.mainError())}}})});Cn.exports=lo;Cn.exports.default=lo;Cn.exports.AbortError=co;var qc=Cn.exports;const Qr=Sn(qc);let zr;const Hc=new Uint8Array(16);function Wc(){if(!zr&&(zr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zr(Hc)}const Ce=[];for(let r=0;r<256;++r)Ce.push((r+256).toString(16).slice(1));function Gc(r,e=0){return Ce[r[e+0]]+Ce[r[e+1]]+Ce[r[e+2]]+Ce[r[e+3]]+"-"+Ce[r[e+4]]+Ce[r[e+5]]+"-"+Ce[r[e+6]]+Ce[r[e+7]]+"-"+Ce[r[e+8]]+Ce[r[e+9]]+"-"+Ce[r[e+10]]+Ce[r[e+11]]+Ce[r[e+12]]+Ce[r[e+13]]+Ce[r[e+14]]+Ce[r[e+15]]}const Yc=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Us={randomUUID:Yc};function ht(r,e,t){if(Us.randomUUID&&!e&&!r)return Us.randomUUID();r=r||{};const n=r.random||(r.rng||Wc)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=n[i];return e}return Gc(n)}var Jc=function(r,e){if(typeof r!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,r.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()};const Xc=Sn(Jc);var fo={exports:{}};const Qc=/[\p{Lu}]/u,el=/[\p{Ll}]/u,Ls=/^[\p{Lu}](?![\p{Lu}])/gu,ho=/([\p{Alpha}\p{N}_]|$)/u,po=/[_.\- ]+/,tl=new RegExp("^"+po.source),Ms=new RegExp(po.source+ho.source,"gu"),$s=new RegExp("\\d+"+ho.source,"gu"),rl=(r,e,t)=>{let n=!1,i=!1,s=!1;for(let a=0;a<r.length;a++){const o=r[a];n&&Qc.test(o)?(r=r.slice(0,a)+"-"+r.slice(a),n=!1,s=i,i=!0,a++):i&&s&&el.test(o)?(r=r.slice(0,a-1)+"-"+r.slice(a-1),s=i,i=!1,n=!0):(n=e(o)===o&&t(o)!==o,s=i,i=t(o)===o&&e(o)!==o)}return r},nl=(r,e)=>(Ls.lastIndex=0,r.replace(Ls,t=>e(t))),il=(r,e)=>(Ms.lastIndex=0,$s.lastIndex=0,r.replace(Ms,(t,n)=>e(n)).replace($s,t=>e(t))),mo=(r,e)=>{if(!(typeof r=="string"||Array.isArray(r)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(r)?r=r.map(s=>s.trim()).filter(s=>s.length).join("-"):r=r.trim(),r.length===0)return"";const t=e.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(e.locale),n=e.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(e.locale);return r.length===1?e.pascalCase?n(r):t(r):(r!==t(r)&&(r=rl(r,t,n)),r=r.replace(tl,""),e.preserveConsecutiveUppercase?r=nl(r,t):r=t(r),e.pascalCase&&(r=n(r.charAt(0))+r.slice(1)),il(r,n))};fo.exports=mo;fo.exports.default=mo;function sl(r,e){return(e==null?void 0:e[r])||Xc(r)}function al(r,e,t){const n={};for(const i in r)Object.hasOwn(r,i)&&(n[e(i,t)]=r[i]);return n}function zs(r){return Array.isArray(r)?[...r]:{...r}}function ol(r,e){const t=zs(r);for(const[n,i]of Object.entries(e)){const[s,...a]=n.split(".").reverse();let o=t;for(const u of a.reverse()){if(o[u]===void 0)break;o[u]=zs(o[u]),o=o[u]}o[s]!==void 0&&(o[s]={lc:1,type:"secret",id:[i]})}return t}function go(r){const e=Object.getPrototypeOf(r);return typeof r.lc_name=="function"&&(typeof e.lc_name!="function"||r.lc_name()!==e.lc_name())?r.lc_name():r.name}class wt{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,go(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...t){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof wt||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},t={},n=Object.keys(this.lc_kwargs).reduce((i,s)=>(i[s]=s in this?this[s]:this.lc_kwargs[s],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(t,Reflect.get(i,"lc_secrets",this)),Object.assign(n,Reflect.get(i,"lc_attributes",this));return Object.keys(t).forEach(i=>{let s=this,a=n;const[o,...u]=i.split(".").reverse();for(const c of u.reverse()){if(!(c in s)||s[c]===void 0)return;(!(c in a)||a[c]===void 0)&&(typeof s[c]=="object"&&s[c]!=null?a[c]={}:Array.isArray(s[c])&&(a[c]=[])),s=s[c],a=a[c]}o in s&&s[o]!==void 0&&(a[o]=a[o]||s[o])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:al(Object.keys(t).length?ol(n,t):n,sl,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}class ul{}class Rr extends ul{get lc_namespace(){return["langchain","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,go(this.constructor)]}constructor(e){var t;super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:typeof process<"u"?((t=process.env)==null?void 0:t.LANGCHAIN_CALLBACKS_BACKGROUND)!=="true":!0}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever)}copy(){return new this.constructor(this)}toJSON(){return wt.prototype.toJSON.call(this)}toJSONNotImplemented(){return wt.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class t extends Rr{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:ht()}),Object.assign(this,e)}}return new t}}var Xi={exports:{}};Xi.exports;(function(r){const t=(s=0)=>a=>`\x1B[${38+s};5;${a}m`,n=(s=0)=>(a,o,u)=>`\x1B[${38+s};2;${a};${o};${u}m`;function i(){const s=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[o,u]of Object.entries(a)){for(const[c,d]of Object.entries(u))a[c]={open:`\x1B[${d[0]}m`,close:`\x1B[${d[1]}m`},u[c]=a[c],s.set(d[0],d[1]);Object.defineProperty(a,o,{value:u,enumerable:!1})}return Object.defineProperty(a,"codes",{value:s,enumerable:!1}),a.color.close="\x1B[39m",a.bgColor.close="\x1B[49m",a.color.ansi256=t(),a.color.ansi16m=n(),a.bgColor.ansi256=t(10),a.bgColor.ansi16m=n(10),Object.defineProperties(a,{rgbToAnsi256:{value:(o,u,c)=>o===u&&u===c?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(u/255*5)+Math.round(c/255*5),enumerable:!1},hexToRgb:{value:o=>{const u=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!u)return[0,0,0];let{colorString:c}=u.groups;c.length===3&&(c=c.split("").map(f=>f+f).join(""));const d=Number.parseInt(c,16);return[d>>16&255,d>>8&255,d&255]},enumerable:!1},hexToAnsi256:{value:o=>a.rgbToAnsi256(...a.hexToRgb(o)),enumerable:!1}}),a}Object.defineProperty(r,"exports",{enumerable:!0,get:i})})(Xi);var cl=Xi.exports;const yo=Sn(cl);function ui(r,e){return r&&!Array.isArray(r)&&typeof r=="object"?r:{[e]:r}}class kn extends Rr{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}_addChildRun(e,t){e.child_runs.push(t)}async _startTrace(e){var t;if(e.parent_run_id!==void 0){const n=this.runMap.get(e.parent_run_id);n&&(this._addChildRun(n,e),n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order))}this.runMap.set(e.id,e),await((t=this.onRunCreate)==null?void 0:t.call(this,e))}async _endTrace(e){var n;const t=e.parent_run_id!==void 0&&this.runMap.get(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await((n=this.onRunUpdate)==null?void 0:n.call(this,e))}_getExecutionOrder(e){const t=e!==void 0&&this.runMap.get(e);return t?t.child_execution_order+1:1}async handleLLMStart(e,t,n,i,s,a,o,u){var _;const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...s,metadata:o}:s,m={id:n,name:u??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{prompts:t},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:a||[]};return await this._startTrace(m),await((_=this.onLLMStart)==null?void 0:_.call(this,m)),m}async handleChatModelStart(e,t,n,i,s,a,o,u){var _;const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...s,metadata:o}:s,m={id:n,name:u??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{messages:t},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:a||[]};return await this._startTrace(m),await((_=this.onLLMStart)==null?void 0:_.call(this,m)),m}async handleLLMEnd(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="llm")throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.outputs=e,n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onLLMEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleLLMError(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="llm")throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onLLMError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleChainStart(e,t,n,i,s,a,o,u){var m;const c=this._getExecutionOrder(i),d=Date.now(),f={id:n,name:u??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:t,execution_order:c,child_execution_order:c,run_type:o??"chain",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(f),await((m=this.onChainStart)==null?void 0:m.call(this,f)),f}async handleChainEnd(e,t,n,i,s){var o;const a=this.runMap.get(t);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.outputs=ui(e,"output"),a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),(s==null?void 0:s.inputs)!==void 0&&(a.inputs=ui(s.inputs,"input")),await((o=this.onChainEnd)==null?void 0:o.call(this,a)),await this._endTrace(a),a}async handleChainError(e,t,n,i,s){var o;const a=this.runMap.get(t);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.error=e.message,a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),(s==null?void 0:s.inputs)!==void 0&&(a.inputs=ui(s.inputs,"input")),await((o=this.onChainError)==null?void 0:o.call(this,a)),await this._endTrace(a),a}async handleToolStart(e,t,n,i,s,a,o){var f;const u=this._getExecutionOrder(i),c=Date.now(),d={id:n,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{input:t},execution_order:u,child_execution_order:u,run_type:"tool",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(d),await((f=this.onToolStart)==null?void 0:f.call(this,d)),d}async handleToolEnd(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="tool")throw new Error("No tool run to end");return n.end_time=Date.now(),n.outputs={output:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleToolError(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="tool")throw new Error("No tool run to end");return n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleAgentAction(e,t){var s;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="chain")return;const i=n;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((s=this.onAgentAction)==null?void 0:s.call(this,n))}async handleAgentEnd(e,t){var i;const n=this.runMap.get(t);!n||(n==null?void 0:n.run_type)!=="chain"||(n.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,n)))}async handleRetrieverStart(e,t,n,i,s,a,o){var f;const u=this._getExecutionOrder(i),c=Date.now(),d={id:n,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{query:t},execution_order:u,child_execution_order:u,run_type:"retriever",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(d),await((f=this.onRetrieverStart)==null?void 0:f.call(this,d)),d}async handleRetrieverEnd(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="retriever")throw new Error("No retriever run to end");return n.end_time=Date.now(),n.outputs={documents:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleRetrieverError(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="retriever")throw new Error("No retriever run to end");return n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleText(e,t){var i;const n=this.runMap.get(t);!n||(n==null?void 0:n.run_type)!=="chain"||(n.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,n)))}async handleLLMNewToken(e,t,n,i,s,a){var u;const o=this.runMap.get(n);if(!o||(o==null?void 0:o.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:t,chunk:a==null?void 0:a.chunk}}),await((u=this.onLLMNewToken)==null?void 0:u.call(this,o,e)),o}}function $e(r,e){return`${r.open}${e}${r.close}`}function nt(r,e){try{return JSON.stringify(r,null,2)}catch{return e}}function yt(r){if(!r.end_time)return"";const e=r.end_time-r.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:Fe}=yo;class Bs extends kn{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const t=[];let n=e;for(;n.parent_run_id;){const i=this.runMap.get(n.parent_run_id);if(i)t.push(i),n=i;else break}return t}getBreadcrumbs(e){const n=[...this.getParents(e).reverse(),e].map((i,s,a)=>{const o=`${i.execution_order}:${i.run_type}:${i.name}`;return s===a.length-1?$e(yo.bold,o):o}).join(" > ");return $e(Fe.grey,n)}onChainStart(e){const t=this.getBreadcrumbs(e);console.log(`${$e(Fe.green,"[chain/start]")} [${t}] Entering Chain run with input: ${nt(e.inputs,"[inputs]")}`)}onChainEnd(e){const t=this.getBreadcrumbs(e);console.log(`${$e(Fe.cyan,"[chain/end]")} [${t}] [${yt(e)}] Exiting Chain run with output: ${nt(e.outputs,"[outputs]")}`)}onChainError(e){const t=this.getBreadcrumbs(e);console.log(`${$e(Fe.red,"[chain/error]")} [${t}] [${yt(e)}] Chain run errored with error: ${nt(e.error,"[error]")}`)}onLLMStart(e){const t=this.getBreadcrumbs(e),n="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${$e(Fe.green,"[llm/start]")} [${t}] Entering LLM run with input: ${nt(n,"[inputs]")}`)}onLLMEnd(e){const t=this.getBreadcrumbs(e);console.log(`${$e(Fe.cyan,"[llm/end]")} [${t}] [${yt(e)}] Exiting LLM run with output: ${nt(e.outputs,"[response]")}`)}onLLMError(e){const t=this.getBreadcrumbs(e);console.log(`${$e(Fe.red,"[llm/error]")} [${t}] [${yt(e)}] LLM run errored with error: ${nt(e.error,"[error]")}`)}onToolStart(e){var n;const t=this.getBreadcrumbs(e);console.log(`${$e(Fe.green,"[tool/start]")} [${t}] Entering Tool run with input: "${(n=e.inputs.input)==null?void 0:n.trim()}"`)}onToolEnd(e){var n,i;const t=this.getBreadcrumbs(e);console.log(`${$e(Fe.cyan,"[tool/end]")} [${t}] [${yt(e)}] Exiting Tool run with output: "${(i=(n=e.outputs)==null?void 0:n.output)==null?void 0:i.trim()}"`)}onToolError(e){const t=this.getBreadcrumbs(e);console.log(`${$e(Fe.red,"[tool/error]")} [${t}] [${yt(e)}] Tool run errored with error: ${nt(e.error,"[error]")}`)}onRetrieverStart(e){const t=this.getBreadcrumbs(e);console.log(`${$e(Fe.green,"[retriever/start]")} [${t}] Entering Retriever run with input: ${nt(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const t=this.getBreadcrumbs(e);console.log(`${$e(Fe.cyan,"[retriever/end]")} [${t}] [${yt(e)}] Exiting Retriever run with output: ${nt(e.outputs,"[outputs]")}`)}onRetrieverError(e){const t=this.getBreadcrumbs(e);console.log(`${$e(Fe.red,"[retriever/error]")} [${t}] [${yt(e)}] Retriever run errored with error: ${nt(e.error,"[error]")}`)}onAgentAction(e){const t=e,n=this.getBreadcrumbs(e);console.log(`${$e(Fe.blue,"[agent/action]")} [${n}] Agent selected action: ${nt(t.actions[t.actions.length-1],"[action]")}`)}}var bo={},_o={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var _=new i(d,f||u,m),y=t?t+c:c;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],_]:u._events[y].push(_):(u._events[y]=_,u._eventsCount++),u}function a(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=t?t+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,_=f.length,y=new Array(_);m<_;m++)y[m]=f[m].fn;return y},o.prototype.listenerCount=function(c){var d=t?t+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,m,_,y){var A=t?t+c:c;if(!this._events[A])return!1;var p=this._events[A],P=arguments.length,j,N;if(p.fn){switch(p.once&&this.removeListener(c,p.fn,void 0,!0),P){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,f),!0;case 4:return p.fn.call(p.context,d,f,m),!0;case 5:return p.fn.call(p.context,d,f,m,_),!0;case 6:return p.fn.call(p.context,d,f,m,_,y),!0}for(N=1,j=new Array(P-1);N<P;N++)j[N-1]=arguments[N];p.fn.apply(p.context,j)}else{var D=p.length,$;for(N=0;N<D;N++)switch(p[N].once&&this.removeListener(c,p[N].fn,void 0,!0),P){case 1:p[N].fn.call(p[N].context);break;case 2:p[N].fn.call(p[N].context,d);break;case 3:p[N].fn.call(p[N].context,d,f);break;case 4:p[N].fn.call(p[N].context,d,f,m);break;default:if(!j)for($=1,j=new Array(P-1);$<P;$++)j[$-1]=arguments[$];p[N].fn.apply(p[N].context,j)}}return!0},o.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,m){var _=t?t+c:c;if(!this._events[_])return this;if(!d)return a(this,_),this;var y=this._events[_];if(y.fn)y.fn===d&&(!m||y.once)&&(!f||y.context===f)&&a(this,_);else{for(var A=0,p=[],P=y.length;A<P;A++)(y[A].fn!==d||m&&!y[A].once||f&&y[A].context!==f)&&p.push(y[A]);p.length?this._events[_]=p.length===1?p[0]:p:a(this,_)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=t?t+c:c,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,r.exports=o})(_o);var ll=_o.exports,Nn={exports:{}},dl=(r,e)=>(e=e||(()=>{}),r.then(t=>new Promise(n=>{n(e())}).then(()=>t),t=>new Promise(n=>{n(e())}).then(()=>{throw t})));const fl=dl;class vo extends Error{constructor(e){super(e),this.name="TimeoutError"}}const wo=(r,e,t)=>new Promise((n,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){n(r);return}const s=setTimeout(()=>{if(typeof t=="function"){try{n(t())}catch(u){i(u)}return}const a=typeof t=="string"?t:`Promise timed out after ${e} milliseconds`,o=t instanceof Error?t:new vo(a);typeof r.cancel=="function"&&r.cancel(),i(o)},e);fl(r.then(n,i),()=>{clearTimeout(s)})});Nn.exports=wo;Nn.exports.default=wo;Nn.exports.TimeoutError=vo;var hl=Nn.exports,Qi={},es={};Object.defineProperty(es,"__esModule",{value:!0});function pl(r,e,t){let n=0,i=r.length;for(;i>0;){const s=i/2|0;let a=n+s;t(r[a],e)<=0?(n=++a,i-=s+1):i=s}return n}es.default=pl;Object.defineProperty(Qi,"__esModule",{value:!0});const ml=es;class gl{constructor(){this._queue=[]}enqueue(e,t){t=Object.assign({priority:0},t);const n={priority:t.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority){this._queue.push(n);return}const i=ml.default(this._queue,n,(s,a)=>a.priority-s.priority);this._queue.splice(i,0,n)}dequeue(){const e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(t=>t.run)}get size(){return this._queue.length}}Qi.default=gl;Object.defineProperty(bo,"__esModule",{value:!0});const yl=ll,Io=hl,bl=Qi,Br=()=>{},_l=new Io.TimeoutError;class vl extends yl{constructor(e){var t,n,i,s;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Br,this._resolveIdle=Br,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:bl.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(t=e.intervalCap)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Br,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Br,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(this._intervalId===void 0){const t=this._intervalEnd-e;if(t<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return t?(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((n,i)=>{const s=async()=>{this._pendingCount++,this._intervalCount++;try{const a=this._timeout===void 0&&t.timeout===void 0?e():Io.default(Promise.resolve(e()),t.timeout===void 0?this._timeout:t.timeout,()=>{(t.throwOnTimeout===void 0?this._throwOnTimeout:t.throwOnTimeout)&&i(_l)});n(await a)}catch(a){i(a)}this._next()};this._queue.enqueue(s,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async n=>this.add(n,t)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var pt=bo.default=vl;const wl=[400,401,403,404,405,406,407,408,409];let Il=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6;const t="default"in pt?pt.default:pt;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>Qr(()=>e(...t).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt(n){var s;if(n.message.startsWith("Cancel")||n.message.startsWith("TimeoutError")||n.message.startsWith("AbortError")||(n==null?void 0:n.code)==="ECONNABORTED")throw n;const i=(s=n==null?void 0:n.response)==null?void 0:s.status;if(i&&wl.includes(+i))throw n},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...n){return e.signal?Promise.race([this.call(t,...n),new Promise((i,s)=>{var a;(a=e.signal)==null||a.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(t,...n)}fetch(...e){return this.call(()=>fetch(...e).then(t=>t.ok?t:Promise.reject(t)))}};function Zs(r){return typeof(r==null?void 0:r._getType)=="function"}function Vs(r){const e={type:r._getType(),data:{content:r.content}};return r!=null&&r.additional_kwargs&&Object.keys(r.additional_kwargs).length>0&&(e.data.additional_kwargs={...r.additional_kwargs}),e}const Al=()=>typeof window<"u"&&typeof window.document<"u",El=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Tl=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Ao=()=>typeof Deno<"u",Pl=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Ao(),Ol=()=>{let r;return Al()?r="browser":Pl()?r="node":El()?r="webworker":Tl()?r="jsdom":Ao()?r="deno":r="other",r};let ci;async function xl(){if(ci===void 0){const r=Ol(),e=Sl();ci={library:"langsmith",runtime:r,...e}}return ci}function Gt(r){var e;try{return typeof process<"u"?(e=process.env)==null?void 0:e[r]:void 0}catch{return}}let li;function Sl(){if(li!==void 0)return li;const r=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const t of r){const n=Gt(t);n!==void 0&&(e[t]=n)}return li=e,e}const Fs=r=>{const t=r.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return t==="localhost"||t==="127.0.0.1"||t==="::1"},Et=async(r,e)=>{const t=await r.text();if(!r.ok)throw new Error(`Failed to ${e}: ${r.status} ${r.statusText} ${t}`)};async function Cl(r){const e=[];for await(const t of r)e.push(t);return e}function di(r){if(r!==void 0)return r.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}function Ks(r){return Gt("LANGCHAIN_HIDE_INPUTS")==="true"?{}:r}function qs(r){return Gt("LANGCHAIN_HIDE_OUTPUTS")==="true"?{}:r}class ts{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null});const t=ts.getDefaultClientConfig();this.apiUrl=di(e.apiUrl??t.apiUrl)??"",this.apiKey=di(e.apiKey??t.apiKey),this.webUrl=di(e.webUrl??t.webUrl),this.validateApiKeyIfHosted(),this.timeout_ms=e.timeout_ms??4e3,this.caller=new Il(e.callerOptions??{})}static getDefaultClientConfig(){const e=Gt("LANGCHAIN_API_KEY");return{apiUrl:Gt("LANGCHAIN_ENDPOINT")??(e?"https://api.smith.langchain.com":"http://localhost:1984"),apiKey:e,webUrl:void 0}}validateApiKeyIfHosted(){if(!Fs(this.apiUrl)&&!this.apiKey)throw new Error("API key must be provided when using hosted LangSmith API")}getHostUrl(){return this.webUrl?this.webUrl:Fs(this.apiUrl)?(this.webUrl="http://localhost","http://localhost"):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com","https://dev.smith.langchain.com"):(this.webUrl="https://smith.langchain.com","https://smith.langchain.com")}get headers(){const e={};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}async _getResponse(e,t){const n=(t==null?void 0:t.toString())??"",i=`${this.apiUrl}${e}?${n}`,s=await this.caller.call(fetch,i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok)throw new Error(`Failed to fetch ${e}: ${s.status} ${s.statusText}`);return s}async _get(e,t){return(await this._getResponse(e,t)).json()}async*_getPaginated(e,t=new URLSearchParams){let n=Number(t.get("offset"))||0;const i=Number(t.get("limit"))||100;for(;;){t.set("offset",String(n)),t.set("limit",String(i));const s=`${this.apiUrl}${e}?${t}`,a=await this.caller.call(fetch,s,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!a.ok)throw new Error(`Failed to fetch ${e}: ${a.status} ${a.statusText}`);const o=await a.json();if(o.length===0||(yield o,o.length<i))break;n+=o.length}}async createRun(e){const t={...this.headers,"Content-Type":"application/json"},n=e.extra??{},i=await xl(),s=e.project_name;delete e.project_name;const a={session_name:s,...e,extra:{...e.extra,runtime:{...i,...n.runtime}}};a.inputs=Ks(a.inputs),a.outputs&&(a.outputs=qs(a.outputs));const o=await this.caller.call(fetch,`${this.apiUrl}/runs`,{method:"POST",headers:t,body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms)});await Et(o,"create run")}async updateRun(e,t){t.inputs&&(t.inputs=Ks(t.inputs)),t.outputs&&(t.outputs=qs(t.outputs));const n={...this.headers,"Content-Type":"application/json"},i=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:n,body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});await Et(i,"update run")}async readRun(e,{loadChildRuns:t}={loadChildRuns:!1}){let n=await this._get(`/runs/${e}`);return t&&n.child_run_ids&&(n=await this._loadChildRuns(n)),n}async getRunUrl({runId:e,run:t,projectOpts:n}){if(t!==void 0){let i;t.session_id?i=t.session_id:n!=null&&n.projectName?i=(await this.readProject({projectName:n==null?void 0:n.projectName})).id:n!=null&&n.projectId?i=n==null?void 0:n.projectId:i=(await this.readProject({projectName:Gt("LANGCHAIN_PROJECT")||"default"})).id;const s=await this._getTenantId();return`${this.getHostUrl()}/o/${s}/projects/p/${i}/r/${t.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const t=await Cl(this.listRuns({id:e.child_run_ids})),n={},i={};t.sort((s,a)=>((s==null?void 0:s.dotted_order)??"").localeCompare((a==null?void 0:a.dotted_order)??""));for(const s of t){if(s.parent_run_id===null||s.parent_run_id===void 0)throw new Error(`Child run ${s.id} has no parent`);s.parent_run_id in n||(n[s.parent_run_id]=[]),n[s.parent_run_id].push(s),i[s.id]=s}e.child_runs=n[e.id]||[];for(const s in n)s!==e.id&&(i[s].child_runs=n[s]);return e}async*listRuns({projectId:e,projectName:t,parentRunId:n,referenceExampleId:i,startTime:s,executionOrder:a,runType:o,error:u,id:c,limit:d,offset:f,query:m,filter:_}){const y=new URLSearchParams;let A=e;if(t){if(e)throw new Error("Only one of projectId or projectName may be given");A=(await this.readProject({projectName:t})).id}if(A&&y.append("session",A),n&&y.append("parent_run",n),i&&y.append("reference_example",i),s&&y.append("start_time",s.toISOString()),a&&y.append("execution_order",a.toString()),o&&y.append("run_type",o),u!==void 0&&y.append("error",u.toString()),c!==void 0)for(const p of c)y.append("id",p);d!==void 0&&y.append("limit",d.toString()),f!==void 0&&y.append("offset",f.toString()),m!==void 0&&y.append("query",m),_!==void 0&&y.append("filter",_);for await(const p of this._getPaginated("/runs",y))yield*p}async shareRun(e,{shareId:t}={}){const n={run_id:e,share_token:t||ht()},s=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms)})).json();if(s===null||!("share_token"in s))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${s.share_token}/r`}async unshareRun(e){const t=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Et(t,"unshare run")}async readRunSharedLink(e){const n=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json();if(!(n===null||!("share_token"in n)))return`${this.getHostUrl()}/public/${n.share_token}/r`}async listSharedRuns(e,{runIds:t}={}){const n=new URLSearchParams({share_token:e});if(t!==void 0)for(const a of t)n.append("id",a);return await(await this.caller.call(fetch,`${this.apiUrl}/public/${e}/runs${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json()}async readDatasetSharedSchema(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:t})).id);const i=await(await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:t})).id);const n={dataset_id:e},s=await(await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms)})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async unshareDataset(e){const t=await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Et(t,"unshare dataset")}async readSharedDataset(e){return await(await this.caller.call(fetch,`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json()}async createProject({projectName:e,projectExtra:t,upsert:n,referenceDatasetId:i}){const s=n?"?upsert=true":"",a=`${this.apiUrl}/sessions${s}`,o={name:e};t!==void 0&&(o.extra=t),i!==void 0&&(o.reference_dataset_id=i);const u=await this.caller.call(fetch,a,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms)}),c=await u.json();if(!u.ok)throw new Error(`Failed to create session ${e}: ${u.status} ${u.statusText}`);return c}async readProject({projectId:e,projectName:t}){let n="/sessions";const i=new URLSearchParams;if(e!==void 0&&t!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)n+=`/${e}`;else if(t!==void 0)i.append("name",t);else throw new Error("Must provide projectName or projectId");const s=await this._get(n,i);let a;if(Array.isArray(s)){if(s.length===0)throw new Error(`Project[id=${e}, name=${t}] not found`);a=s[0]}else a=s;return a}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const t of this._getPaginated("/sessions",e))return this._tenantId=t[0].tenant_id,t[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:t,nameContains:n,referenceDatasetId:i,referenceDatasetName:s,referenceFree:a}={}){const o=new URLSearchParams;if(e!==void 0)for(const u of e)o.append("id",u);if(t!==void 0&&o.append("name",t),n!==void 0&&o.append("name_contains",n),i!==void 0)o.append("reference_dataset",i);else if(s!==void 0){const u=await this.readDataset({datasetName:s});o.append("reference_dataset",u.id)}a!==void 0&&o.append("reference_free",a.toString());for await(const u of this._getPaginated("/sessions",o))yield*u}async deleteProject({projectId:e,projectName:t}){let n;if(e===void 0&&t===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&t!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?n=(await this.readProject({projectName:t})).id:n=e;const i=await this.caller.call(fetch,`${this.apiUrl}/sessions/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Et(i,`delete session ${n} (${t})`)}async uploadCsv({csvFile:e,fileName:t,inputKeys:n,outputKeys:i,description:s,dataType:a,name:o}){const u=`${this.apiUrl}/datasets/upload`,c=new FormData;c.append("file",e,t),n.forEach(m=>{c.append("input_keys",m)}),i.forEach(m=>{c.append("output_keys",m)}),s&&c.append("description",s),a&&c.append("data_type",a),o&&c.append("name",o);const d=await this.caller.call(fetch,u,{method:"POST",headers:this.headers,body:c,signal:AbortSignal.timeout(this.timeout_ms)});if(!d.ok){const m=await d.json();throw m.detail&&m.detail.includes("already exists")?new Error(`Dataset ${t} already exists`):new Error(`Failed to upload CSV: ${d.status} ${d.statusText}`)}return await d.json()}async createDataset(e,{description:t,dataType:n}={}){const i={name:e,description:t};n&&(i.data_type=n);const s=await this.caller.call(fetch,`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok){const o=await s.json();throw o.detail&&o.detail.includes("already exists")?new Error(`Dataset ${e} already exists`):new Error(`Failed to create dataset ${s.status} ${s.statusText}`)}return await s.json()}async readDataset({datasetId:e,datasetName:t}){let n="/datasets";const i=new URLSearchParams({limit:"1"});if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)n+=`/${e}`;else if(t!==void 0)i.append("name",t);else throw new Error("Must provide datasetName or datasetId");const s=await this._get(n,i);let a;if(Array.isArray(s)){if(s.length===0)throw new Error(`Dataset[id=${e}, name=${t}] not found`);a=s[0]}else a=s;return a}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:t}){const n="/datasets";if(e===void 0)if(t!==void 0)e=(await this.readDataset({datasetName:t})).id;else throw new Error("Must provide datasetName or datasetId");return(await(await this._getResponse(`${n}/${e}/openai_ft`)).text()).trim().split(`
`).map(o=>JSON.parse(o))}async*listDatasets({limit:e=100,offset:t=0,datasetIds:n,datasetName:i,datasetNameContains:s}={}){const a="/datasets",o=new URLSearchParams({limit:e.toString(),offset:t.toString()});if(n!==void 0)for(const u of n)o.append("id",u);i!==void 0&&o.append("name",i),s!==void 0&&o.append("name_contains",s);for await(const u of this._getPaginated(a,o))yield*u}async deleteDataset({datasetId:e,datasetName:t}){let n="/datasets",i=e;if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(t!==void 0&&(i=(await this.readDataset({datasetName:t})).id),i!==void 0)n+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");const s=await this.caller.call(fetch,this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok)throw new Error(`Failed to delete ${n}: ${s.status} ${s.statusText}`);await s.json()}async createExample(e,t,{datasetId:n,datasetName:i,createdAt:s,exampleId:a}){let o=n;if(o===void 0&&i===void 0)throw new Error("Must provide either datasetName or datasetId");if(o!==void 0&&i!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");o===void 0&&(o=(await this.readDataset({datasetName:i})).id);const c={dataset_id:o,inputs:e,outputs:t,created_at:(s||new Date).toISOString(),id:a},d=await this.caller.call(fetch,`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms)});if(!d.ok)throw new Error(`Failed to create example: ${d.status} ${d.statusText}`);return await d.json()}async createLLMExample(e,t,n){return this.createExample({input:e},{output:t},n)}async createChatExample(e,t,n){const i=e.map(a=>Zs(a)?Vs(a):a),s=Zs(t)?Vs(t):t;return this.createExample({input:i},{output:s},n)}async readExample(e){const t=`/examples/${e}`;return await this._get(t)}async*listExamples({datasetId:e,datasetName:t,exampleIds:n}={}){let i;if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)i=e;else if(t!==void 0)i=(await this.readDataset({datasetName:t})).id;else throw new Error("Must provide a datasetName or datasetId");const s=new URLSearchParams({dataset:i});if(n!==void 0)for(const a of n)s.append("id",a);for await(const a of this._getPaginated("/examples",s))yield*a}async deleteExample(e){const t=`/examples/${e}`,n=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to delete ${t}: ${n.status} ${n.statusText}`);await n.json()}async updateExample(e,t){const n=await this.caller.call(fetch,`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to update example ${e}: ${n.status} ${n.statusText}`);return await n.json()}async evaluateRun(e,t,{sourceInfo:n,loadChildRuns:i}={loadChildRuns:!1}){let s;if(typeof e=="string")s=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)s=e;else throw new Error(`Invalid run type: ${typeof e}`);let a;s.reference_example_id!==null&&s.reference_example_id!==void 0&&(a=await this.readExample(s.reference_example_id));const o=await t.evaluateRun(s,a);let u=n??{};return o.evaluatorInfo&&(u={...u,...o.evaluatorInfo}),await this.createFeedback(s.id,o.key,{score:o.score,value:o.value,comment:o.comment,correction:o.correction,sourceInfo:u,feedbackSourceType:"model"})}async createFeedback(e,t,{score:n,value:i,correction:s,comment:a,sourceInfo:o,feedbackSourceType:u="api",sourceRunId:c,feedbackId:d,eager:f=!1}){const m={type:u??"api",metadata:o??{}};c!==void 0&&(m==null?void 0:m.metadata)!==void 0&&!m.metadata.__run&&(m.metadata.__run={run_id:c});const _={id:d??ht(),run_id:e,key:t,score:n,value:i,correction:s,comment:a,feedback_source:m},y=`${this.apiUrl}/feedback`+(f?"/eager":""),A=await this.caller.call(fetch,y,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(_),signal:AbortSignal.timeout(this.timeout_ms)});return await Et(A,"create feedback"),_}async updateFeedback(e,{score:t,value:n,correction:i,comment:s}){const a={};t!=null&&(a.score=t),n!=null&&(a.value=n),i!=null&&(a.correction=i),s!=null&&(a.comment=s);const o=await this.caller.call(fetch,`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms)});await Et(o,"update feedback")}async readFeedback(e){const t=`/feedback/${e}`;return await this._get(t)}async deleteFeedback(e){const t=`/feedback/${e}`,n=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to delete ${t}: ${n.status} ${n.statusText}`);await n.json()}async*listFeedback({runIds:e,feedbackKeys:t,feedbackSourceTypes:n}={}){const i=new URLSearchParams;if(e&&i.append("run",e.join(",")),t)for(const s of t)i.append("key",s);if(n)for(const s of n)i.append("source",s);for await(const s of this._getPaginated("/feedback",i))yield*s}}const kl=()=>typeof window<"u"&&typeof window.document<"u",Nl=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Rl=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Eo=()=>typeof Deno<"u",Dl=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Eo(),jl=()=>{let r;return kl()?r="browser":Dl()?r="node":Nl()?r="webworker":Rl()?r="jsdom":Eo()?r="deno":r="other",r};let fi;async function Ul(){return fi===void 0&&(fi={library:"langchain-js",runtime:jl()}),fi}function ce(r){var e;try{return typeof process<"u"?(e=process.env)==null?void 0:e[r]:void 0}catch{return}}class Ll extends kn{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:t,projectName:n,client:i}=e;this.projectName=n??ce("LANGCHAIN_PROJECT")??ce("LANGCHAIN_SESSION"),this.exampleId=t,this.client=i??new ts({})}async _convertToCreate(e,t=void 0){return{...e,extra:{...e.extra,runtime:await Ul()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:t}}async persistRun(e){}async _persistRunSingle(e){const t=await this._convertToCreate(e,this.exampleId);await this.client.createRun(t)}async _updateRunSingle(e){const t={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs};await this.client.updateRun(e.id,t)}async onRetrieverStart(e){await this._persistRunSingle(e)}async onRetrieverEnd(e){await this._updateRunSingle(e)}async onRetrieverError(e){await this._updateRunSingle(e)}async onLLMStart(e){await this._persistRunSingle(e)}async onLLMEnd(e){await this._updateRunSingle(e)}async onLLMError(e){await this._updateRunSingle(e)}async onChainStart(e){await this._persistRunSingle(e)}async onChainEnd(e){await this._updateRunSingle(e)}async onChainError(e){await this._updateRunSingle(e)}async onToolStart(e){await this._persistRunSingle(e)}async onToolEnd(e){await this._updateRunSingle(e)}async onToolError(e){await this._updateRunSingle(e)}}function Rn(r,e="Human",t="AI"){const n=[];for(const i of r){let s;if(i._getType()==="human")s=e;else if(i._getType()==="ai")s=t;else if(i._getType()==="system")s="System";else if(i._getType()==="function")s="Function";else if(i._getType()==="generic")s=i.role;else throw new Error(`Got unsupported message type: ${i}`);const a=i.name?`${i.name}, `:"";n.push(`${s}: ${a}${i.content}`)}return n.join(`
`)}class Ml extends kn{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:ce("LANGCHAIN_ENDPOINT")||"http://localhost:1984"}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:{"Content-Type":"application/json"}}),Object.defineProperty(this,"session",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const e=ce("LANGCHAIN_API_KEY");e&&(this.headers["x-api-key"]=e)}async newSession(e){const t={start_time:Date.now(),name:e},n=await this.persistSession(t);return this.session=n,n}async loadSession(e){const t=`${this.endpoint}/sessions?name=${e}`;return this._handleSessionResponse(t)}async loadDefaultSession(){const e=`${this.endpoint}/sessions?name=default`;return this._handleSessionResponse(e)}async convertV2RunToRun(e){var s;const t=this.session??await this.loadDefaultSession(),n=e.serialized;let i;if(e.run_type==="llm"){const a=e.inputs.prompts?e.inputs.prompts:e.inputs.messages.map(u=>Rn(u));i={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,prompts:a,response:e.outputs}}else if(e.run_type==="chain"){const a=await Promise.all(e.child_runs.map(u=>this.convertV2RunToRun(u)));i={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,inputs:e.inputs,outputs:e.outputs,child_llm_runs:a.filter(u=>u.type==="llm"),child_chain_runs:a.filter(u=>u.type==="chain"),child_tool_runs:a.filter(u=>u.type==="tool")}}else if(e.run_type==="tool"){const a=await Promise.all(e.child_runs.map(u=>this.convertV2RunToRun(u)));i={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,tool_input:e.inputs.input,output:(s=e.outputs)==null?void 0:s.output,action:JSON.stringify(n),child_llm_runs:a.filter(u=>u.type==="llm"),child_chain_runs:a.filter(u=>u.type==="chain"),child_tool_runs:a.filter(u=>u.type==="tool")}}else throw new Error(`Unknown run type: ${e.run_type}`);return i}async persistRun(e){let t,n;e.run_type!==void 0?n=await this.convertV2RunToRun(e):n=e,n.type==="llm"?t=`${this.endpoint}/llm-runs`:n.type==="chain"?t=`${this.endpoint}/chain-runs`:t=`${this.endpoint}/tool-runs`;const i=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(n)});i.ok||console.error(`Failed to persist run: ${i.status} ${i.statusText}`)}async persistSession(e){const t=`${this.endpoint}/sessions`,n=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(e)});return n.ok?{id:(await n.json()).id,...e}:(console.error(`Failed to persist session: ${n.status} ${n.statusText}, using default session.`),{id:1,...e})}async _handleSessionResponse(e){const t=await fetch(e,{method:"GET",headers:this.headers});let n;if(!t.ok)return console.error(`Failed to load session: ${t.status} ${t.statusText}`),n={id:1,start_time:Date.now()},this.session=n,n;const i=await t.json();return i.length===0?(n={id:1,start_time:Date.now()},this.session=n,n):([n]=i,this.session=n,n)}}async function $l(r){const e=new Ml;return r?await e.loadSession(r):await e.loadDefaultSession(),e}async function zl(){return new Ll}let hi;function Bl(){const r="default"in pt?pt.default:pt;return new r({autoStart:!0,concurrency:1})}async function ke(r,e){e===!0?await r():(typeof hi>"u"&&(hi=Bl()),hi.add(r))}function Zl(r){return r?Array.isArray(r)||"name"in r?{callbacks:r}:r:{}}class Vl{setHandler(e){return this.setHandlers([e])}}class Dn{constructor(e,t,n,i,s,a,o,u){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:u})}async handleText(e){await Promise.all(this.handlers.map(t=>ke(async()=>{var n;try{await((n=t.handleText)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleText: ${i}`)}},t.awaitHandlers)))}}class Fl extends Dn{getChild(e){const t=new Be(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(t=>ke(async()=>{var n;if(!t.ignoreRetriever)try{await((n=t.handleRetrieverEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch{console.error(`Error in handler ${t.constructor.name}, handleRetriever`)}},t.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(t=>ke(async()=>{var n;if(!t.ignoreRetriever)try{await((n=t.handleRetrieverError)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleRetrieverError: ${i}`)}},t.awaitHandlers)))}}class Hs extends Dn{async handleLLMNewToken(e,t,n,i,s,a){await Promise.all(this.handlers.map(o=>ke(async()=>{var u;if(!o.ignoreLLM)try{await((u=o.handleLLMNewToken)==null?void 0:u.call(o,e,t??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a))}catch(c){console.error(`Error in handler ${o.constructor.name}, handleLLMNewToken: ${c}`)}},o.awaitHandlers)))}async handleLLMError(e){await Promise.all(this.handlers.map(t=>ke(async()=>{var n;if(!t.ignoreLLM)try{await((n=t.handleLLMError)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleLLMError: ${i}`)}},t.awaitHandlers)))}async handleLLMEnd(e){await Promise.all(this.handlers.map(t=>ke(async()=>{var n;if(!t.ignoreLLM)try{await((n=t.handleLLMEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleLLMEnd: ${i}`)}},t.awaitHandlers)))}}class Kl extends Dn{getChild(e){const t=new Be(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e,t,n,i,s){await Promise.all(this.handlers.map(a=>ke(async()=>{var o;if(!a.ignoreChain)try{await((o=a.handleChainError)==null?void 0:o.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleChainError: ${u}`)}},a.awaitHandlers)))}async handleChainEnd(e,t,n,i,s){await Promise.all(this.handlers.map(a=>ke(async()=>{var o;if(!a.ignoreChain)try{await((o=a.handleChainEnd)==null?void 0:o.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleChainEnd: ${u}`)}},a.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(t=>ke(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleAgentAction)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleAgentAction: ${i}`)}},t.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(t=>ke(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleAgentEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleAgentEnd: ${i}`)}},t.awaitHandlers)))}}class ql extends Dn{getChild(e){const t=new Be(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map(t=>ke(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleToolError)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleToolError: ${i}`)}},t.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(t=>ke(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleToolEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleToolEnd: ${i}`)}},t.awaitHandlers)))}}class Be extends Vl{constructor(e){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=[],this.inheritableHandlers=[],this._parentRunId=e}async handleLLMStart(e,t,n=void 0,i=void 0,s=void 0,a=void 0,o=void 0,u=void 0){return Promise.all(t.map(async c=>{const d=ht();return await Promise.all(this.handlers.map(f=>ke(async()=>{var m;if(!f.ignoreLLM)try{await((m=f.handleLLMStart)==null?void 0:m.call(f,e,[c],d,this._parentRunId,s,this.tags,this.metadata,u))}catch(_){console.error(`Error in handler ${f.constructor.name}, handleLLMStart: ${_}`)}},f.awaitHandlers))),new Hs(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,t,n=void 0,i=void 0,s=void 0,a=void 0,o=void 0,u=void 0){return Promise.all(t.map(async c=>{const d=ht();return await Promise.all(this.handlers.map(f=>ke(async()=>{var m,_;if(!f.ignoreLLM)try{if(f.handleChatModelStart)await((m=f.handleChatModelStart)==null?void 0:m.call(f,e,[c],d,this._parentRunId,s,this.tags,this.metadata,u));else if(f.handleLLMStart){const y=Rn(c);await((_=f.handleLLMStart)==null?void 0:_.call(f,e,[y],d,this._parentRunId,s,this.tags,this.metadata,u))}}catch(y){console.error(`Error in handler ${f.constructor.name}, handleLLMStart: ${y}`)}},f.awaitHandlers))),new Hs(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,t,n=ht(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(u=>ke(async()=>{var c;if(!u.ignoreChain)try{await((c=u.handleChainStart)==null?void 0:c.call(u,e,t,n,this._parentRunId,this.tags,this.metadata,i,o))}catch(d){console.error(`Error in handler ${u.constructor.name}, handleChainStart: ${d}`)}},u.awaitHandlers))),new Kl(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,t,n=ht(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(u=>ke(async()=>{var c;if(!u.ignoreAgent)try{await((c=u.handleToolStart)==null?void 0:c.call(u,e,t,n,this._parentRunId,this.tags,this.metadata,o))}catch(d){console.error(`Error in handler ${u.constructor.name}, handleToolStart: ${d}`)}},u.awaitHandlers))),new ql(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,t,n=ht(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(u=>ke(async()=>{var c;if(!u.ignoreRetriever)try{await((c=u.handleRetrieverStart)==null?void 0:c.call(u,e,t,n,this._parentRunId,this.tags,this.metadata,o))}catch(d){console.error(`Error in handler ${u.constructor.name}, handleRetrieverStart: ${d}`)}},u.awaitHandlers))),new Fl(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}addHandler(e,t=!0){this.handlers.push(e),t&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(t=>t!==e),this.inheritableHandlers=this.inheritableHandlers.filter(t=>t!==e)}setHandlers(e,t=!0){this.handlers=[],this.inheritableHandlers=[];for(const n of e)this.addHandler(n,t)}addTags(e,t=!0){this.removeTags(e),this.tags.push(...e),t&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(t=>!e.includes(t)),this.inheritableTags=this.inheritableTags.filter(t=>!e.includes(t))}addMetadata(e,t=!0){this.metadata={...this.metadata,...e},t&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const t of Object.keys(e))delete this.metadata[t],delete this.inheritableMetadata[t]}copy(e=[],t=!0){const n=new Be(this._parentRunId);for(const i of this.handlers){const s=this.inheritableHandlers.includes(i);n.addHandler(i,s)}for(const i of this.tags){const s=this.inheritableTags.includes(i);n.addTags([i],s)}for(const i of Object.keys(this.metadata)){const s=Object.keys(this.inheritableMetadata).includes(i);n.addMetadata({[i]:this.metadata[i]},s)}for(const i of e)n.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===i.name)||n.addHandler(i,t);return n}static fromHandlers(e){class t extends Rr{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:ht()}),Object.assign(this,e)}}const n=new this;return n.addHandler(new t),n}static async configure(e,t,n,i,s,a,o){let u;(e||t)&&(Array.isArray(e)||!e?(u=new Be,u.setHandlers((e==null?void 0:e.map(Ws))??[],!0)):u=e,u=u.copy(Array.isArray(t)?t.map(Ws):t==null?void 0:t.handlers,!1));const c=ce("LANGCHAIN_VERBOSE")||(o==null?void 0:o.verbose),d=ce("LANGCHAIN_TRACING_V2")==="true",f=d||(ce("LANGCHAIN_TRACING")??!1);if(c||f){if(u||(u=new Be),c&&!u.handlers.some(m=>m.name===Bs.prototype.name)){const m=new Bs;u.addHandler(m,!0)}if(f&&!u.handlers.some(m=>m.name==="langchain_tracer"))if(d)u.addHandler(await zl(),!0);else{const m=ce("LANGCHAIN_PROJECT")&&ce("LANGCHAIN_SESSION");u.addHandler(await $l(m),!0)}}return(n||i)&&u&&(u.addTags(n??[]),u.addTags(i??[],!1)),(s||a)&&u&&(u.addMetadata(s??{}),u.addMetadata(a??{},!1)),u}}function Ws(r){return"name"in r?r:Rr.fromMethods(r)}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const Hl=Object.prototype.hasOwnProperty;function Wl(r,e){return Hl.call(r,e)}function Gl(r){if(Array.isArray(r)){const t=new Array(r.length);for(let n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(r);let e=[];for(let t in r)Wl(r,t)&&e.push(t);return e}function Qt(r){switch(typeof r){case"object":return JSON.parse(JSON.stringify(r));case"undefined":return null;default:return r}}function Ni(r){let e=0;const t=r.length;let n;for(;e<t;){if(n=r.charCodeAt(e),n>=48&&n<=57){e++;continue}return!1}return!0}function Yl(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}function Ri(r){if(r===void 0)return!0;if(r){if(Array.isArray(r)){for(let t=0,n=r.length;t<n;t++)if(Ri(r[t]))return!0}else if(typeof r=="object"){const t=Gl(r),n=t.length;for(var e=0;e<n;e++)if(Ri(r[t[e]]))return!0}}return!1}function Gs(r,e){const t=[r];for(const n in e){const i=typeof e[n]=="object"?JSON.stringify(e[n],null,2):e[n];typeof i<"u"&&t.push(`${n}: ${i}`)}return t.join(`
`)}class Jl extends Error{constructor(e,t,n,i,s){super(Gs(e,{name:t,index:n,operation:i,tree:s})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.setPrototypeOf(this,new.target.prototype),this.message=Gs(e,{name:t,index:n,operation:i,tree:s})}}const Te=Jl,qt={add:function(r,e,t){return r[e]=this.value,{newDocument:t}},remove:function(r,e,t){var n=r[e];return delete r[e],{newDocument:t,removed:n}},replace:function(r,e,t){var n=r[e];return r[e]=this.value,{newDocument:t,removed:n}},move:function(r,e,t){let n=Di(t,this.path);n&&(n=Qt(n));const i=Er(t,{op:"remove",path:this.from}).removed;return Er(t,{op:"add",path:this.path,value:i}),{newDocument:t,removed:n}},copy:function(r,e,t){const n=Di(t,this.from);return Er(t,{op:"add",path:this.path,value:Qt(n)}),{newDocument:t}},test:function(r,e,t){return{newDocument:t,test:en(r[e],this.value)}},_get:function(r,e,t){return this.value=r[e],{newDocument:t}}};var Xl={add:function(r,e,t){return Ni(e)?r.splice(e,0,this.value):r[e]=this.value,{newDocument:t,index:e}},remove:function(r,e,t){var n=r.splice(e,1);return{newDocument:t,removed:n[0]}},replace:function(r,e,t){var n=r[e];return r[e]=this.value,{newDocument:t,removed:n}},move:qt.move,copy:qt.copy,test:qt.test,_get:qt._get};function Di(r,e){if(e=="")return r;var t={op:"_get",path:e};return Er(r,t),t.value}function Er(r,e,t=!1,n=!0,i=!0,s=0){if(t&&(typeof t=="function"?t(e,0,r,e.path):ji(e,0)),e.path===""){let a={newDocument:r};if(e.op==="add")return a.newDocument=e.value,a;if(e.op==="replace")return a.newDocument=e.value,a.removed=r,a;if(e.op==="move"||e.op==="copy")return a.newDocument=Di(r,e.from),e.op==="move"&&(a.removed=r),a;if(e.op==="test"){if(a.test=en(r,e.value),a.test===!1)throw new Te("Test operation failed","TEST_OPERATION_FAILED",s,e,r);return a.newDocument=r,a}else{if(e.op==="remove")return a.removed=r,a.newDocument=null,a;if(e.op==="_get")return e.value=r,a;if(t)throw new Te("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,e,r);return a}}else{n||(r=Qt(r));const o=(e.path||"").split("/");let u=r,c=1,d=o.length,f,m,_;for(typeof t=="function"?_=t:_=ji;;){if(m=o[c],m&&m.indexOf("~")!=-1&&(m=Yl(m)),i&&(m=="__proto__"||m=="prototype"&&c>0&&o[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(t&&f===void 0&&(u[m]===void 0?f=o.slice(0,c).join("/"):c==d-1&&(f=e.path),f!==void 0&&_(e,0,r,f)),c++,Array.isArray(u)){if(m==="-")m=u.length;else{if(t&&!Ni(m))throw new Te("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,e,r);Ni(m)&&(m=~~m)}if(c>=d){if(t&&e.op==="add"&&m>u.length)throw new Te("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,e,r);const y=Xl[e.op].call(e,u,m,r);if(y.test===!1)throw new Te("Test operation failed","TEST_OPERATION_FAILED",s,e,r);return y}}else if(c>=d){const y=qt[e.op].call(e,u,m,r);if(y.test===!1)throw new Te("Test operation failed","TEST_OPERATION_FAILED",s,e,r);return y}if(u=u[m],t&&c<d&&(!u||typeof u!="object"))throw new Te("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,e,r)}}}function rs(r,e,t,n=!0,i=!0){if(t&&!Array.isArray(e))throw new Te("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(r=Qt(r));const s=new Array(e.length);for(let a=0,o=e.length;a<o;a++)s[a]=Er(r,e[a],t,!0,i,a),r=s[a].newDocument;return s.newDocument=r,s}function ji(r,e,t,n){if(typeof r!="object"||r===null||Array.isArray(r))throw new Te("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,r,t);if(qt[r.op]){if(typeof r.path!="string")throw new Te("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,r,t);if(r.path.indexOf("/")!==0&&r.path.length>0)throw new Te('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,r,t);if((r.op==="move"||r.op==="copy")&&typeof r.from!="string")throw new Te("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,r,t);if((r.op==="add"||r.op==="replace"||r.op==="test")&&r.value===void 0)throw new Te("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,r,t);if((r.op==="add"||r.op==="replace"||r.op==="test")&&Ri(r.value))throw new Te("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,r,t);if(t){if(r.op=="add"){var i=r.path.split("/").length,s=n.split("/").length;if(i!==s+1&&i!==s)throw new Te("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,r,t)}else if(r.op==="replace"||r.op==="remove"||r.op==="_get"){if(r.path!==n)throw new Te("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,r,t)}else if(r.op==="move"||r.op==="copy"){var a={op:"_get",path:r.from,value:void 0},o=Ql([a],t);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new Te("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,r,t)}}}else throw new Te("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,r,t)}function Ql(r,e,t){try{if(!Array.isArray(r))throw new Te("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)rs(Qt(e),Qt(r),t||!0);else{t=t||ji;for(var n=0;n<r.length;n++)t(r[n],n,e,void 0)}}catch(i){if(i instanceof Te)return i;throw i}}function en(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){var t=Array.isArray(r),n=Array.isArray(e),i,s,a;if(t&&n){if(s=r.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!en(r[i],e[i]))return!1;return!0}if(t!=n)return!1;var o=Object.keys(r);if(s=o.length,s!==Object.keys(e).length)return!1;for(i=s;i--!==0;)if(!e.hasOwnProperty(o[i]))return!1;for(i=s;i--!==0;)if(a=o[i],!en(r[a],e[a]))return!1;return!0}return r!==r&&e!==e}class Pr extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done&&this.reader.releaseLock(),e}catch(e){throw this.reader.releaseLock(),e}}async return(){this.ensureReader();const e=this.reader.cancel();return this.reader.releaseLock(),await e,{done:!0,value:void 0}}[Symbol.asyncIterator](){return this}static fromReadableStream(e){const t=e.getReader();return new Pr({start(n){return i();function i(){return t.read().then(({done:s,value:a})=>{if(s){n.close();return}return n.enqueue(a),i()})}}})}static fromAsyncGenerator(e){return new Pr({async pull(t){const{value:n,done:i}=await e.next();i&&t.close(),t.enqueue(n)}})}}class St{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops}concat(e){const t=this.ops.concat(e.ops),n=rs({},t);return new ns({ops:t,state:n[n.length-1].newDocument})}}class ns extends St{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const t=this.ops.concat(e.ops),n=rs(this.state,e.ops);return new ns({ops:t,state:n[n.length-1].newDocument})}}class ed extends kn{constructor(e){super(e),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Pr.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.parent_run_id===void 0)return!1;const t=e.tags??[];let n=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(n=n||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(n=n||t.find(i=>{var s;return(s=this.includeTags)==null?void 0:s.includes(i)})!==void 0),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(n=n&&t.every(i=>{var s;return!((s=this.excludeTags)!=null&&s.includes(i))})),n}async onRunCreate(e){var i;if(e.parent_run_id===void 0&&await this.writer.write(new St({ops:[{op:"replace",path:"",value:{id:e.id,streamed_output:[],final_output:void 0,logs:{}}}]})),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const t=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=t===1?e.name:`${e.name}:${t}`;const n={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output_str:[],final_output:void 0,end_time:void 0};await this.writer.write(new St({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:n}]}))}async onRunUpdate(e){try{const t=this.keyMapByRunId[e.id];if(t===void 0)return;const n=[{op:"add",path:`/logs/${t}/final_output`,value:e.outputs}];e.end_time!==void 0&&n.push({op:"add",path:`/logs/${t}/end_time`,value:new Date(e.end_time).toISOString()});const i=new St({ops:n});await this.writer.write(i)}finally{if(e.parent_run_id===void 0){const t=new St({ops:[{op:"replace",path:"/final_output",value:e.outputs}]});await this.writer.write(t),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,t){const n=this.keyMapByRunId[e.id];if(n===void 0)return;const i=new St({ops:[{op:"add",path:`/logs/${n}/streamed_output_str/-`,value:t}]});await this.writer.write(i)}}async function Ut(r){return Be.configure(r==null?void 0:r.callbacks,void 0,r==null?void 0:r.tags,void 0,r==null?void 0:r.metadata)}const td=[400,401,402,403,404,405,406,407,408,409],rd=r=>{var t,n;if(r.message.startsWith("Cancel")||r.message.startsWith("TimeoutError")||r.name==="TimeoutError"||r.message.startsWith("AbortError")||r.name==="AbortError"||(r==null?void 0:r.code)==="ECONNABORTED")throw r;const e=((t=r==null?void 0:r.response)==null?void 0:t.status)??(r==null?void 0:r.status);if(e&&td.includes(+e))throw r;if(((n=r==null?void 0:r.error)==null?void 0:n.code)==="insufficient_quota"){const i=new Error(r==null?void 0:r.message);throw i.name="InsufficientQuotaError",i}};class jn{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??rd;const t="default"in pt?pt.default:pt;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>Qr(()=>e(...t).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...n){return e.signal?Promise.race([this.call(t,...n),new Promise((i,s)=>{var a;(a=e.signal)==null||a.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(t,...n)}fetch(...e){return this.call(()=>fetch(...e).then(t=>t.ok?t:Promise.reject(t)))}}function Le(r,e){return r&&!Array.isArray(r)&&typeof r=="object"?r:{[e]:r}}class xe extends wt{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}bind(e){return new tn({bound:this,kwargs:e,config:{}})}map(){return new is({bound:this})}withRetry(e){return new nd({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new tn({bound:this,config:e,kwargs:{}})}withFallbacks(e){return new id({runnable:this,fallbacks:e.fallbacks})}_getOptionsList(e,t=0){if(Array.isArray(e)){if(e.length!==t)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${t} inputs`);return e}return Array.from({length:t},()=>e)}async batch(e,t,n){const i=this._getOptionsList(t??{},e.length),s=new jn({maxConcurrency:n==null?void 0:n.maxConcurrency,onFailedAttempt:o=>{throw o}}),a=e.map((o,u)=>s.call(async()=>{try{return await this.invoke(o,i[u])}catch(c){if(n!=null&&n.returnExceptions)return c;throw c}}));return Promise.all(a)}async*_streamIterator(e,t){yield this.invoke(e,t)}async stream(e,t){return Pr.fromAsyncGenerator(this._streamIterator(e,t))}_separateRunnableConfigFromCallOptions(e={}){const t={callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName},n={...e};return delete n.callbacks,delete n.tags,delete n.metadata,delete n.runName,[t,n]}async _callWithConfig(e,t,n){const i=await Ut(n),s=await(i==null?void 0:i.handleChainStart(this.toJSON(),Le(t,"input"),void 0,n==null?void 0:n.runType,void 0,void 0,n==null?void 0:n.runName));let a;try{a=await e.bind(this)(t,n,s)}catch(o){throw await(s==null?void 0:s.handleChainError(o)),o}return await(s==null?void 0:s.handleChainEnd(Le(a,"output"))),a}async _batchWithConfig(e,t,n,i){const s=this._getOptionsList(n??{},t.length),a=await Promise.all(s.map(Ut)),o=await Promise.all(a.map((c,d)=>c==null?void 0:c.handleChainStart(this.toJSON(),Le(t[d],"input"),void 0,s[d].runType,void 0,void 0,s[d].runName)));let u;try{u=await e(t,s,o,i)}catch(c){throw await Promise.all(o.map(d=>d==null?void 0:d.handleChainError(c))),c}return await Promise.all(o.map(c=>c==null?void 0:c.handleChainEnd(Le(u,"output")))),u}async*_transformStreamWithConfig(e,t,n){let i,s=!0,a,o=!0;const u=await Ut(n);let c;const d=this.toJSON();async function*f(){for await(const _ of e){if(c||(c=await(u==null?void 0:u.handleChainStart(d,{input:""},void 0,n==null?void 0:n.runType,void 0,void 0,n==null?void 0:n.runName))),s)if(i===void 0)i=_;else try{i=i.concat(_)}catch{i=void 0,s=!1}yield _}}const m=f();try{const _=t(m,c,n);for await(const y of _)if(yield y,o)if(a===void 0)a=y;else try{a=a.concat(y)}catch{a=void 0,o=!1}}catch(_){throw await(c==null?void 0:c.handleChainError(_,void 0,void 0,void 0,{inputs:Le(i,"input")})),_}await(c==null?void 0:c.handleChainEnd(a??{},void 0,void 0,void 0,{inputs:Le(i,"input")}))}_patchConfig(e={},t=void 0){const n={...e};return t!==void 0?(delete n.runName,{...n,callbacks:t}):n}pipe(e){return new Rt({first:this,last:Dt(e)})}async*transform(e,t){let n;for await(const i of e)n===void 0?n=i:n=n.concat(i);yield*this._streamIterator(n,t)}async*streamLog(e,t,n){const i=new ed({...n,autoClose:!1}),s=t??{},{callbacks:a}=s;if(a===void 0)s.callbacks=[i];else if(Array.isArray(a))s.callbacks=a.concat([i]);else{const d=a.copy();d.inheritableHandlers.push(i),s.callbacks=d}const o=await this.stream(e,s);async function u(){try{for await(const d of o){const f=new St({ops:[{op:"add",path:"/streamed_output/-",value:d}]});await i.writer.write(f)}}finally{await i.writer.close()}}const c=u();try{for await(const d of i)yield d}finally{await c}}static isRunnable(e){return e?e.lc_runnable:!1}}class tn extends xe{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config}_mergeConfig(e){const t={...this.config};if(e)for(const n of Object.keys(e))n==="metadata"?t[n]={...t[n],...e[n]}:n==="tags"?t[n]=(t[n]??[]).concat(e[n]??[]):t[n]=e[n]??t[n];return t}bind(e){return this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,t){return this.bound.invoke(e,this._mergeConfig({...t,...this.kwargs}))}async batch(e,t,n){const i=Array.isArray(t)?t.map(s=>this._mergeConfig({...s,...this.kwargs})):this._mergeConfig({...t,...this.kwargs});return this.bound.batch(e,i,n)}async*_streamIterator(e,t){yield*this.bound._streamIterator(e,this._mergeConfig({...t,...this.kwargs}))}async stream(e,t){return this.bound.stream(e,this._mergeConfig({...t,...this.kwargs}))}async*transform(e,t){yield*this.bound.transform(e,this._mergeConfig({...t,...this.kwargs}))}static isRunnableBinding(e){return e.bound&&xe.isRunnable(e.bound)}}class is extends xe{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new is({bound:this.bound.bind(e)})}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}async _invoke(e,t,n){return this.bound.batch(e,this._patchConfig(t,n==null?void 0:n.getChild()))}}class nd extends tn{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,t,n){const i=e>1?`retry:attempt:${e}`:void 0;return this._patchConfig(t,n==null?void 0:n.getChild(i))}async _invoke(e,t,n){return Qr(i=>super.invoke(e,this._patchConfigForRetry(i,t,n)),{onFailedAttempt:this.onFailedAttempt,retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}async _batch(e,t,n,i){const s={};try{await Qr(async a=>{const o=e.map((m,_)=>_).filter(m=>s[m.toString()]===void 0||s[m.toString()]instanceof Error),u=o.map(m=>e[m]),c=o.map(m=>this._patchConfigForRetry(a,t==null?void 0:t[m],n==null?void 0:n[m])),d=await super.batch(u,c,{...i,returnExceptions:!0});let f;for(let m=0;m<d.length;m+=1){const _=d[m],y=o[m];_ instanceof Error&&f===void 0&&(f=_),s[y.toString()]=_}if(f)throw f;return d},{onFailedAttempt:this.onFailedAttempt,retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(a){if((i==null?void 0:i.returnExceptions)!==!0)throw a}return Object.keys(s).sort((a,o)=>parseInt(a,10)-parseInt(o,10)).map(a=>s[parseInt(a,10)])}async batch(e,t,n){return this._batchWithConfig(this._batch.bind(this),e,t,n)}}class Rt extends xe{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,t){const n=await Ut(t),i=await(n==null?void 0:n.handleChainStart(this.toJSON(),Le(e,"input"),void 0,void 0,void 0,void 0,t==null?void 0:t.runName));let s=e,a;try{const o=[this.first,...this.middle];for(let u=0;u<o.length;u+=1)s=await o[u].invoke(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${u+1}`)));a=await this.last.invoke(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${this.steps.length}`)))}catch(o){throw await(i==null?void 0:i.handleChainError(o)),o}return await(i==null?void 0:i.handleChainEnd(Le(a,"output"))),a}async batch(e,t,n){const i=this._getOptionsList(t??{},e.length),s=await Promise.all(i.map(Ut)),a=await Promise.all(s.map((c,d)=>c==null?void 0:c.handleChainStart(this.toJSON(),Le(e[d],"input"),void 0,void 0,void 0,void 0,i[d].runName)));let o=e,u;try{const c=[this.first,...this.middle];for(let d=0;d<c.length;d+=1)o=await c[d].batch(o,a.map((m,_)=>this._patchConfig(i[_],m==null?void 0:m.getChild(`seq:step:${d+1}`))),n);u=await this.last.batch(o,a.map(d=>this._patchConfig(i[this.steps.length-1],d==null?void 0:d.getChild(`seq:step:${this.steps.length}`))),n)}catch(c){throw await Promise.all(a.map(d=>d==null?void 0:d.handleChainError(c))),c}return await Promise.all(a.map((c,d)=>c==null?void 0:c.handleChainEnd(Le(u[d],"output")))),u}async*_streamIterator(e,t){const n=await Ut(t),i=await(n==null?void 0:n.handleChainStart(this.toJSON(),Le(e,"input"),void 0,void 0,void 0,void 0,t==null?void 0:t.runName));let s=e;const a=[this.first,...this.middle,this.last],o=Math.min(a.length-1,a.length-[...a].reverse().findIndex(d=>{var _;const f=d.transform===xe.prototype.transform,m=tn.isRunnableBinding(d)&&((_=d.bound)==null?void 0:_.transform)===xe.prototype.transform;return f||m})-1);try{const d=a.slice(0,o);for(let f=0;f<d.length;f+=1)s=await d[f].invoke(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${f+1}`)))}catch(d){throw await(i==null?void 0:i.handleChainError(d)),d}let u=!0,c;try{let d=await a[o]._streamIterator(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${o+1}`)));const f=a.slice(o+1);for(let m=0;m<f.length;m+=1)d=await f[m].transform(d,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${o+m+2}`)));for await(const m of d)if(yield m,u)if(c===void 0)c=m;else try{c=c.concat(m)}catch{c=void 0,u=!1}}catch(d){throw await(i==null?void 0:i.handleChainError(d)),d}await(i==null?void 0:i.handleChainEnd(Le(c,"output")))}pipe(e){return Rt.isRunnableSequence(e)?new Rt({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last}):new Rt({first:this.first,middle:[...this.middle,this.last],last:Dt(e)})}static isRunnableSequence(e){return Array.isArray(e.middle)&&xe.isRunnable(e)}static from([e,...t]){return new Rt({first:Dt(e),middle:t.slice(0,-1).map(Dt),last:Dt(t[t.length-1])})}}class Un extends xe{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[t,n]of Object.entries(e.steps))this.steps[t]=Dt(n)}static from(e){return new Un({steps:e})}async invoke(e,t){const n=await Ut(t),i=await(n==null?void 0:n.handleChainStart(this.toJSON(),{input:e},void 0,void 0,void 0,void 0,t==null?void 0:t.runName)),s={};try{await Promise.all(Object.entries(this.steps).map(async([a,o])=>{s[a]=await o.invoke(e,this._patchConfig(t,i==null?void 0:i.getChild(a)))}))}catch(a){throw await(i==null?void 0:i.handleChainError(a)),a}return await(i==null?void 0:i.handleChainEnd(s)),s}}class ss extends xe{static lc_name(){return"RunnableLambda"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.func=e.func}static from(e){return new ss({func:e})}async _invoke(e,t,n){let i=await this.func(e);return i&&xe.isRunnable(i)&&(i=await i.invoke(e,this._patchConfig(t,n==null?void 0:n.getChild()))),i}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}}class id extends xe{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,t){const n=await Be.configure(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata),i=await(n==null?void 0:n.handleChainStart(this.toJSON(),Le(e,"input"),void 0,void 0,void 0,void 0,t==null?void 0:t.runName));let s;for(const a of this.runnables())try{const o=await a.invoke(e,this._patchConfig(t,i==null?void 0:i.getChild()));return await(i==null?void 0:i.handleChainEnd(Le(o,"output"))),o}catch(o){s===void 0&&(s=o)}throw s===void 0?new Error("No error stored at end of fallback."):(await(i==null?void 0:i.handleChainError(s)),s)}async batch(e,t,n){if(n!=null&&n.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(t??{},e.length),s=await Promise.all(i.map(u=>Be.configure(u==null?void 0:u.callbacks,void 0,u==null?void 0:u.tags,void 0,u==null?void 0:u.metadata))),a=await Promise.all(s.map((u,c)=>u==null?void 0:u.handleChainStart(this.toJSON(),Le(e[c],"input"),void 0,void 0,void 0,void 0,i[c].runName)));let o;for(const u of this.runnables())try{const c=await u.batch(e,a.map((d,f)=>this._patchConfig(i[f],d==null?void 0:d.getChild())),n);return await Promise.all(a.map((d,f)=>d==null?void 0:d.handleChainEnd(Le(c[f],"output")))),c}catch(c){o===void 0&&(o=c)}throw o?(await Promise.all(a.map(u=>u==null?void 0:u.handleChainError(o))),o):new Error("No error stored at end of fallbacks.")}}function Dt(r){if(typeof r=="function")return new ss({func:r});if(xe.isRunnable(r))return r;if(!Array.isArray(r)&&typeof r=="object"){const e={};for(const[t,n]of Object.entries(r))e[t]=Dt(n);return new Un({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class sd extends xe{constructor(e){super(),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e}async invoke(e,t){const n=await this.mapper.invoke(e,t);return{...e,...n}}}class ad extends xe{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"RunnablePassthrough"}async invoke(e,t){return this._callWithConfig(n=>Promise.resolve(n),e,t)}static assign(e){return new sd(new Un({steps:e}))}}const Ft="4.4.0";class od{constructor(e,t){this.response=e,this.controller=t,this.decoder=new ud}async*iterMessages(){if(!this.response.body)throw this.controller.abort(),new Error("Attempted to iterate over a response with no body");const e=new er,t=ld(this.response.body);for await(const n of t)for(const i of e.decode(n)){const s=this.decoder.decode(i);s&&(yield s)}for(const n of e.flush()){const i=this.decoder.decode(n);i&&(yield i)}}async*[Symbol.asyncIterator](){let e=!1;try{for await(const t of this.iterMessages())if(!e){if(t.data.startsWith("[DONE]")){e=!0;continue}if(t.event===null)try{yield JSON.parse(t.data)}catch(n){throw console.error("Could not parse message into JSON:",t.data),console.error("From chunk:",t.raw),n}}e=!0}catch(t){if(t instanceof Error&&t.name==="AbortError")return;throw t}finally{e||this.controller.abort()}}}class ud{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,i]=cd(e,":");return i.startsWith(" ")&&(i=i.substring(1)),t==="event"?this.event=i:t==="data"&&this.data.push(i),null}}class er{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=er.NEWLINE_CHARS.has(t[t.length-1]||"");let i=t.split(er.NEWLINE_REGEXP);return i.length===1&&!n?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),n||(this.buffer=[i.pop()||""]),i)}decodeText(e){var t;if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Error(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return(t=this.textDecoder)!==null&&t!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Error(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Error("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}er.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);er.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function cd(r,e){const t=r.indexOf(e);return t!==-1?[r.substring(0,t),e,r.substring(t+e.length)]:[r,"",""]}function ld(r){if(r[Symbol.asyncIterator])return r;const e=r.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}let Ge=class Ui extends Error{constructor(e,t,n,i){super(Ui.makeMessage(t,n)),this.status=e,this.headers=i;const s=t;this.error=s,this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,t){return e!=null&&e.message?typeof e.message=="string"?e.message:JSON.stringify(e.message):e?JSON.stringify(e):t||"Unknown error occurred"}static generate(e,t,n,i){if(!e)return new Dr({cause:Co(t)});const s=t==null?void 0:t.error;return e===400?new os(e,s,n,i):e===401?new us(e,s,n,i):e===403?new cs(e,s,n,i):e===404?new ls(e,s,n,i):e===409?new ds(e,s,n,i):e===422?new fs(e,s,n,i):e===429?new hs(e,s,n,i):e>=500?new ps(e,s,n,i):new Ui(e,s,n,i)}},rn=class extends Ge{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}},Dr=class extends Ge{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,t&&(this.cause=t)}},as=class extends Dr{constructor(){super({message:"Request timed out."})}},os=class extends Ge{constructor(){super(...arguments),this.status=400}},us=class extends Ge{constructor(){super(...arguments),this.status=401}},cs=class extends Ge{constructor(){super(...arguments),this.status=403}},ls=class extends Ge{constructor(){super(...arguments),this.status=404}},ds=class extends Ge{constructor(){super(...arguments),this.status=409}},fs=class extends Ge{constructor(){super(...arguments),this.status=422}},hs=class extends Ge{constructor(){super(...arguments),this.status=429}},ps=class extends Ge{};const dd=Object.freeze(Object.defineProperty({__proto__:null,APIConnectionError:Dr,APIConnectionTimeoutError:as,APIError:Ge,APIUserAbortError:rn,AuthenticationError:us,BadRequestError:os,ConflictError:ds,InternalServerError:ps,NotFoundError:ls,PermissionDeniedError:cs,RateLimitError:hs,UnprocessableEntityError:fs},Symbol.toStringTag,{value:"Module"})),fd=r=>{},hd=fetch.bind(void 0),pd=!1,md=FormData,Ys=typeof File<"u"?File:class extends Blob{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'File' is not defined")}};async function gd(r,e){return{...e,body:new Td(r)}}async function yd(){throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")}function bd(r){return!1}const To=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function",_d=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&Po(r),Po=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",vd=r=>_d(r)||To(r)||bd();async function Oo(r,e,t={}){var n,i,s;if(r=await r,To(r)){const o=await r.blob();return e||(e=(n=new URL(r.url).pathname.split(/[\\/]/).pop())!==null&&n!==void 0?n:"unknown_file"),new Ys([o],e,t)}const a=await wd(r);if(e||(e=(i=Ad(r))!==null&&i!==void 0?i:"unknown_file"),!t.type){const o=(s=a[0])===null||s===void 0?void 0:s.type;typeof o=="string"&&(t={...t,type:o})}return new Ys(a,e,t)}async function wd(r){var e;let t=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)t.push(r);else if(Po(r))t.push(await r.arrayBuffer());else if(Ed(r))for await(const n of r)t.push(n);else throw new Error(`Unexpected data type: ${typeof r}; constructor: ${(e=r==null?void 0:r.constructor)===null||e===void 0?void 0:e.name}; props: ${Id(r)}`);return t}function Id(r){return`[${Object.getOwnPropertyNames(r).map(t=>`"${t}"`).join(", ")}]`}function Ad(r){var e;return pi(r.name)||pi(r.filename)||((e=pi(r.path))===null||e===void 0?void 0:e.split(/[\\/]/).pop())}const pi=r=>{if(typeof r=="string")return r;if(typeof Buffer<"u"&&r instanceof Buffer)return String(r)},Ed=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function";class Td{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}const Js=r=>r&&typeof r=="object"&&r.body&&r[Symbol.toStringTag]==="MultipartBody",Or=async r=>{const e=await Pd(r.body);return gd(e,r)},Pd=async r=>{const e=new md;return await Promise.all(Object.entries(r||{}).map(([t,n])=>Li(e,t,n))),e},Li=async(r,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")r.append(e,String(t));else if(vd(t)){const n=await Oo(t);r.append(e,n)}else if(Array.isArray(t))await Promise.all(t.map(n=>Li(r,e+"[]",n)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([n,i])=>Li(r,`${e}[${n}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}};var Od=globalThis&&globalThis.__classPrivateFieldSet||function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},xd=globalThis&&globalThis.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Zr;const Sd=2;async function xo(r){const{response:e}=r;if(r.options.stream)return new od(e,r.controller);const t=e.headers.get("content-type");if(t!=null&&t.includes("application/json")){const i=await e.json();return nn("response",e.status,e.url,e.headers,i),i}const n=await e.text();return nn("response",e.status,e.url,e.headers,n),n}class Ln extends Promise{constructor(e,t=xo){super(n=>{n(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Ln(this.responsePromise,async t=>e(await this.parseResponse(t)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Cd{constructor({baseURL:e,maxRetries:t,timeout:n=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=mi("maxRetries",t??Sd),this.timeout=mi("timeout",n),this.httpAgent=i,this.fetch=s??hd}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Ud(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${Zd()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(i=>({method:e,path:t,...i})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}return null}buildRequest(e){var t,n,i,s,a,o;const{method:u,path:c,query:d,headers:f={}}=e,m=Js(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,_=this.calculateContentLength(m),y=this.buildURL(c,d);"timeout"in e&&mi("timeout",e.timeout);const A=(t=e.timeout)!==null&&t!==void 0?t:this.timeout,p=(i=(n=e.httpAgent)!==null&&n!==void 0?n:this.httpAgent)!==null&&i!==void 0?i:fd(),P=A+1e3;typeof((s=p==null?void 0:p.options)===null||s===void 0?void 0:s.timeout)=="number"&&P>((a=p.options.timeout)!==null&&a!==void 0?a:0)&&(p.options.timeout=P),this.idempotencyHeader&&u!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=e.idempotencyKey);const j={..._&&{"Content-Length":_},...this.defaultHeaders(e),...f};Js(e.body)&&!pd&&delete j["Content-Type"],Object.keys(j).forEach(D=>j[D]===null&&delete j[D]);const N={method:u,...m&&{body:m},headers:j,...p&&{agent:p},signal:(o=e.signal)!==null&&o!==void 0?o:null};return this.validateHeaders(j,f),{req:N,url:y,timeout:A}}async prepareRequest(e,{url:t,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(t=>[...t])):{...e}:{}}makeStatusError(e,t,n,i){return Ge.generate(e,t,n,i)}request(e,t=null){return new Ln(this.makeRequest(e,t))}async makeRequest(e,t){var n,i,s;const a=await e;t==null&&(t=(n=a.maxRetries)!==null&&n!==void 0?n:this.maxRetries);const{req:o,url:u,timeout:c}=this.buildRequest(a);if(await this.prepareRequest(o,{url:u,options:a}),nn("request",u,a,o.headers),!((i=a.signal)===null||i===void 0)&&i.aborted)throw new rn;const d=new AbortController,f=await this.fetchWithTimeout(u,o,c,d).catch(Co);if(f instanceof Error){if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new rn;if(t)return this.retryRequest(a,t);throw f.name==="AbortError"?new as:new Dr({cause:f})}const m=Nd(f.headers);if(!f.ok){if(t&&this.shouldRetry(f))return this.retryRequest(a,t,m);const _=await f.text().catch(()=>"Unknown"),y=Ld(_),A=y?void 0:_;throw nn("response",f.status,u,m,A),this.makeStatusError(f.status,y,A,m)}return{response:f,options:a,controller:d}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new kd(this,n,e)}buildURL(e,t){const n=$d(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return ko(i)||(t={...i,...t}),t&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter(([t,n])=>typeof n<"u").map(([t,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(t)}=`;throw new Error(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,n,i){const{signal:s,...a}=t||{};s&&s.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),n);return this.getRequestClient().fetch(e,{signal:i.signal,...a}).finally(()=>{clearTimeout(o)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,n){var i;t-=1;const s=parseInt((n==null?void 0:n["retry-after"])||""),a=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries,o=this.calculateRetryTimeoutSeconds(t,s,a)*1e3;return await zd(o),this.makeRequest(e,t)}calculateRetryTimeoutSeconds(e,t,n){if(Number.isInteger(t)&&t<=60)return t;const a=n-e,o=Math.min(.5*Math.pow(a-1,2),2),u=Math.random()-.5;return o+u}getUserAgent(){return`${this.constructor.name}/JS ${Ft}`}}class So{constructor(e,t,n,i){Zr.set(this,void 0),Od(this,Zr,e,"f"),this.options=i,this.response=t,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Error("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e)t.query={...t.query,...e.params};else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[i,s]of n)e.url.searchParams.set(i,s);t.query=void 0,t.path=e.url.toString()}return await xd(this,Zr,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Zr=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class kd extends Ln{constructor(e,t,n){super(t,async i=>new n(e,i.response,await xo(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}const Nd=r=>new Proxy(Object.fromEntries(r.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),Rd={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0},Xs=r=>typeof r=="object"&&r!==null&&!ko(r)&&Object.keys(r).every(e=>Bd(Rd,e)),Dd=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ft,"X-Stainless-OS":ea(Deno.build.os),"X-Stainless-Arch":Qs(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":Deno.version};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ft,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ft,"X-Stainless-OS":ea(process.platform),"X-Stainless-Arch":Qs(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const r=jd();return r?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ft,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${r.browser}`,"X-Stainless-Runtime-Version":r.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ft,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function jd(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of r){const n=t.exec(navigator.userAgent);if(n){const i=n[1]||0,s=n[2]||0,a=n[3]||0;return{browser:e,version:`${i}.${s}.${a}`}}}return null}const Qs=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",ea=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let Vr;const Ud=()=>Vr??(Vr=Dd()),Ld=r=>{try{return JSON.parse(r)}catch{return}},Md=new RegExp("^(?:[a-z]+:)?//","i"),$d=r=>Md.test(r),zd=r=>new Promise(e=>setTimeout(e,r)),mi=(r,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Error(`${r} must be an integer`);if(e<0)throw new Error(`${r} must be a positive integer`);return e},Co=r=>r instanceof Error?r:new Error(r),ta=r=>{var e,t,n,i;if(typeof process<"u")return(t=(e=process.env)===null||e===void 0?void 0:e[r])!==null&&t!==void 0?t:void 0;if(typeof Deno<"u")return(i=(n=Deno.env)===null||n===void 0?void 0:n.get)===null||i===void 0?void 0:i.call(n,r)};function ko(r){if(!r)return!0;for(const e in r)return!1;return!0}function Bd(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function nn(r,...e){typeof process<"u"&&process.env.DEBUG==="true"&&console.log(`OpenAI:DEBUG:${r}`,...e)}const Zd=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)}),Vd=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class Mn extends So{constructor(e,t,n,i){super(e,t,n,i),this.object=n.object,this.data=n.data}getPaginatedItems(){return this.data}nextPageParams(){return null}nextPageInfo(){return null}}class ms extends So{constructor(e,t,n,i){super(e,t,n,i),this.data=n.data}getPaginatedItems(){return this.data}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var e,t;if(!(!((e=this.data)===null||e===void 0)&&e.length))return null;const n=(t=this.data[this.data.length-1])===null||t===void 0?void 0:t.id;return n?{params:{after:n}}:null}}class Ze{constructor(e){this.client=e,this.get=e.get.bind(e),this.post=e.post.bind(e),this.patch=e.patch.bind(e),this.put=e.put.bind(e),this.delete=e.delete.bind(e),this.getAPIList=e.getAPIList.bind(e)}}class sn extends Ze{create(e,t){return this.post("/audio/transcriptions",Or({body:e,...t}))}}sn||(sn={});class an extends Ze{create(e,t){return this.post("/audio/translations",Or({body:e,...t}))}}an||(an={});class on extends Ze{constructor(){super(...arguments),this.transcriptions=new sn(this.client),this.translations=new an(this.client)}}(function(r){r.Transcriptions=sn,r.Translations=an})(on||(on={}));let un=class extends Ze{create(e,t){var n;return this.post("/chat/completions",{body:e,...t,stream:(n=e.stream)!==null&&n!==void 0?n:!1})}};un||(un={});class cn extends Ze{constructor(){super(...arguments),this.completions=new un(this.client)}}(function(r){r.Completions=un})(cn||(cn={}));class ln extends Ze{create(e,t){var n;return this.post("/completions",{body:e,...t,stream:(n=e.stream)!==null&&n!==void 0?n:!1})}}ln||(ln={});let dn=class extends Ze{create(e,t){return this.post("/embeddings",{body:e,...t})}};dn||(dn={});class fn extends Ze{create(e,t){return this.post("/edits",{body:e,...t})}}fn||(fn={});class hn extends Ze{create(e,t){return this.post("/files",Or({body:e,...t}))}retrieve(e,t){return this.get(`/files/${e}`,t)}list(e){return this.getAPIList("/files",No,e)}del(e,t){return this.delete(`/files/${e}`,t)}retrieveContent(e,t){return this.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t==null?void 0:t.headers}})}}class No extends Mn{}hn||(hn={});class pn extends Ze{create(e,t){return this.post("/fine-tunes",{body:e,...t})}retrieve(e,t){return this.get(`/fine-tunes/${e}`,t)}list(e){return this.getAPIList("/fine-tunes",Ro,e)}cancel(e,t){return this.post(`/fine-tunes/${e}/cancel`,t)}listEvents(e,t,n){var i;return this.get(`/fine-tunes/${e}/events`,{query:t,timeout:864e5,...n,stream:(i=t==null?void 0:t.stream)!==null&&i!==void 0?i:!1})}}class Ro extends Mn{}pn||(pn={});class mn extends Ze{create(e,t){return this.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return Xs(e)?this.list({},e):this.getAPIList("/fine_tuning/jobs",Do,{query:e,...t})}cancel(e,t){return this.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},n){return Xs(t)?this.listEvents(e,{},t):this.getAPIList(`/fine_tuning/jobs/${e}/events`,jo,{query:t,...n})}}class Do extends ms{}class jo extends ms{}mn||(mn={});class gn extends Ze{constructor(){super(...arguments),this.jobs=new mn(this.client)}}(function(r){r.Jobs=mn,r.FineTuningJobsPage=Do,r.FineTuningJobEventsPage=jo})(gn||(gn={}));class yn extends Ze{createVariation(e,t){return this.post("/images/variations",Or({body:e,...t}))}edit(e,t){return this.post("/images/edits",Or({body:e,...t}))}generate(e,t){return this.post("/images/generations",{body:e,...t})}}yn||(yn={});class bn extends Ze{retrieve(e,t){return this.get(`/models/${e}`,t)}list(e){return this.getAPIList("/models",Uo,e)}del(e,t){return this.delete(`/models/${e}`,t)}}class Uo extends Mn{}bn||(bn={});class _n extends Ze{create(e,t){return this.post("/moderations",{body:e,...t})}}_n||(_n={});var Lo;let Pe=class extends Cd{constructor(e){var t,n,{apiKey:i=ta("OPENAI_API_KEY"),organization:s=(t=ta("OPENAI_ORG_ID"))!==null&&t!==void 0?t:null,...a}=e===void 0?{}:e;if(i===void 0)throw new Error("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'my apiKey' }).");const o={apiKey:i,organization:s,baseURL:"https://api.openai.com/v1",...a};if(!o.dangerouslyAllowBrowser&&Vd())throw new Error(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:(n=o.timeout)!==null&&n!==void 0?n:6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new ln(this),this.chat=new cn(this),this.edits=new fn(this),this.embeddings=new dn(this),this.files=new hn(this),this.images=new yn(this),this.audio=new on(this),this.moderations=new _n(this),this.models=new bn(this),this.fineTuning=new gn(this),this.fineTunes=new pn(this),this._options=o,this.apiKey=i,this.organization=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}};Lo=Pe;Pe.OpenAI=Lo;Pe.APIError=Ge;Pe.APIConnectionError=Dr;Pe.APIConnectionTimeoutError=as;Pe.APIUserAbortError=rn;Pe.NotFoundError=ls;Pe.ConflictError=ds;Pe.RateLimitError=hs;Pe.BadRequestError=os;Pe.AuthenticationError=us;Pe.InternalServerError=ps;Pe.PermissionDeniedError=cs;Pe.UnprocessableEntityError=fs;const{APIError:Ty,APIConnectionError:Py,APIConnectionTimeoutError:Fd,APIUserAbortError:Kd,NotFoundError:Oy,ConflictError:xy,RateLimitError:Sy,BadRequestError:Cy,AuthenticationError:ky,InternalServerError:Ny,PermissionDeniedError:Ry,UnprocessableEntityError:Dy}=dd;(function(r){r.toFile=Oo,r.fileFromPath=yd,r.Page=Mn,r.CursorPage=ms,r.Completions=ln,r.Chat=cn,r.Edits=fn,r.Embeddings=dn,r.Files=hn,r.FileObjectsPage=No,r.Images=yn,r.Audio=on,r.Moderations=_n,r.Models=bn,r.ModelsPage=Uo,r.FineTuning=gn,r.FineTunes=pn,r.FineTunesPage=Ro})(Pe||(Pe={}));var qd=Object.defineProperty,Hd=(r,e,t)=>e in r?qd(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Wd=(r,e,t)=>(Hd(r,typeof e!="symbol"?e+"":e,t),t),$n={};$n.byteLength=Jd;$n.toByteArray=Qd;$n.fromByteArray=rf;var ot=[],Xe=[],Gd=typeof Uint8Array<"u"?Uint8Array:Array,gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Bt=0,Yd=gi.length;Bt<Yd;++Bt)ot[Bt]=gi[Bt],Xe[gi.charCodeAt(Bt)]=Bt;Xe["-".charCodeAt(0)]=62;Xe["_".charCodeAt(0)]=63;function Mo(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function Jd(r){var e=Mo(r),t=e[0],n=e[1];return(t+n)*3/4-n}function Xd(r,e,t){return(e+t)*3/4-t}function Qd(r){var e,t=Mo(r),n=t[0],i=t[1],s=new Gd(Xd(r,n,i)),a=0,o=i>0?n-4:n,u;for(u=0;u<o;u+=4)e=Xe[r.charCodeAt(u)]<<18|Xe[r.charCodeAt(u+1)]<<12|Xe[r.charCodeAt(u+2)]<<6|Xe[r.charCodeAt(u+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=Xe[r.charCodeAt(u)]<<2|Xe[r.charCodeAt(u+1)]>>4,s[a++]=e&255),i===1&&(e=Xe[r.charCodeAt(u)]<<10|Xe[r.charCodeAt(u+1)]<<4|Xe[r.charCodeAt(u+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function ef(r){return ot[r>>18&63]+ot[r>>12&63]+ot[r>>6&63]+ot[r&63]}function tf(r,e,t){for(var n,i=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(ef(n));return i.join("")}function rf(r){for(var e,t=r.length,n=t%3,i=[],s=16383,a=0,o=t-n;a<o;a+=s)i.push(tf(r,a,a+s>o?o:a+s));return n===1?(e=r[t-1],i.push(ot[e>>2]+ot[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(ot[e>>10]+ot[e>>4&63]+ot[e<<2&63]+"=")),i.join("")}function nf(r,e){let t=Array.from({length:r.length},(n,i)=>({start:i,end:i+1}));for(;t.length>1;){let n=null;for(let i=0;i<t.length-1;i++){const s=r.slice(t[i].start,t[i+1].end),a=e.get(s.join(","));a!=null&&(n==null||a<n[0])&&(n=[a,i])}if(n!=null){const i=n[1];t[i]={start:t[i].start,end:t[i+1].end},t.splice(i+1,1)}else break}return t}function sf(r,e){return r.length===1?[e.get(r.join(","))]:nf(r,e).map(t=>e.get(r.slice(t.start,t.end).join(","))).filter(t=>t!=null)}function af(r){return r.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var Mi=class{constructor(r,e){Ee(this,"specialTokens");Ee(this,"inverseSpecialTokens");Ee(this,"patStr");Ee(this,"textEncoder",new TextEncoder);Ee(this,"textDecoder",new TextDecoder("utf-8"));Ee(this,"rankMap",new Map);Ee(this,"textMap",new Map);this.patStr=r.pat_str;const t=r.bpe_ranks.split(`
`).filter(Boolean).reduce((n,i)=>{const[s,a,...o]=i.split(" "),u=Number.parseInt(a,10);return o.forEach((c,d)=>n[c]=u+d),n},{});for(const[n,i]of Object.entries(t)){const s=$n.toByteArray(n);this.rankMap.set(s.join(","),i),this.textMap.set(i,s)}this.specialTokens={...r.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((n,[i,s])=>(n[s]=this.textEncoder.encode(i),n),{})}encode(r,e=[],t="all"){const n=new RegExp(this.patStr,"ug"),i=Mi.specialTokenRegex(Object.keys(this.specialTokens)),s=[],a=new Set(e==="all"?Object.keys(this.specialTokens):e),o=new Set(t==="all"?Object.keys(this.specialTokens).filter(c=>!a.has(c)):t);if(o.size>0){const c=Mi.specialTokenRegex([...o]),d=r.match(c);if(d!=null)throw new Error(`The text contains a special token that is not allowed: ${d[0]}`)}let u=0;for(;;){let c=null,d=u;for(;i.lastIndex=d,c=i.exec(r),!(c==null||a.has(c[0]));)d=c.index+1;const f=(c==null?void 0:c.index)??r.length;for(const _ of r.substring(u,f).matchAll(n)){const y=this.textEncoder.encode(_[0]),A=this.rankMap.get(y.join(","));if(A!=null){s.push(A);continue}s.push(...sf(y,this.rankMap))}if(c==null)break;let m=this.specialTokens[c[0]];s.push(m),u=c.index+c[0].length}return s}decode(r){const e=[];let t=0;for(let s=0;s<r.length;++s){const a=r[s],o=this.textMap.get(a)??this.inverseSpecialTokens[a];o!=null&&(e.push(o),t+=o.length)}const n=new Uint8Array(t);let i=0;for(const s of e)n.set(s,i),i+=s.length;return this.textDecoder.decode(n)}},$o=Mi;Wd($o,"specialTokenRegex",r=>new RegExp(r.map(e=>af(e)).join("|"),"g"));function of(r){switch(r){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"text-embedding-ada-002":return"cl100k_base";default:throw new Error("Unknown model")}}const Fr={},uf=new jn({});async function cf(r,e){return r in Fr||(Fr[r]=uf.fetch(`https://tiktoken.pages.dev/js/${r}.json`,{signal:e==null?void 0:e.signal}).then(t=>t.json()).catch(t=>{throw delete Fr[r],t})),new $o(await Fr[r],e==null?void 0:e.extendedSpecialTokens)}async function zo(r,e){return cf(of(r),e)}const xr=r=>r.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":r.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":r.startsWith("gpt-4-32k")?"gpt-4-32k":r.startsWith("gpt-4-")?"gpt-4":r,lf=r=>{switch(xr(r)){case"gpt-3.5-turbo-16k":return 16384;case"gpt-3.5-turbo":return 4096;case"gpt-4-32k":return 32768;case"gpt-4":return 8192;case"text-davinci-003":return 4097;case"text-curie-001":return 2048;case"text-babbage-001":return 2048;case"text-ada-001":return 2048;case"code-davinci-002":return 8e3;case"code-cushman-001":return 2048;default:return 4097}},df=async({prompt:r,modelName:e})=>{let t;try{t=(await zo(xr(e))).encode(r).length}catch{console.warn("Failed to calculate number of tokens, falling back to approximate count"),t=Math.ceil(r.length/4)}return lf(e)-t},Bo="__run";class tr{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new tr({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class jr extends wt{get text(){return this.content}constructor(e,t){typeof e=="string"&&(e={content:e,additional_kwargs:t}),e.additional_kwargs||(e.additional_kwargs={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}}class Ur extends jr{static _mergeAdditionalKwargs(e,t){const n={...e};for(const[i,s]of Object.entries(t))if(n[i]===void 0)n[i]=s;else{if(typeof n[i]!=typeof s)throw new Error(`additional_kwargs[${i}] already exists in the message chunk, but with a different type.`);if(typeof n[i]=="string")n[i]=n[i]+s;else if(!Array.isArray(n[i])&&typeof n[i]=="object")n[i]=this._mergeAdditionalKwargs(n[i],s);else throw new Error(`additional_kwargs[${i}] already exists in this message chunk.`)}return n}}class Sr extends jr{static lc_name(){return"HumanMessage"}_getType(){return"human"}}class vn extends Ur{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(e){return new vn({content:this.content+e.content,additional_kwargs:vn._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class gs extends jr{static lc_name(){return"AIMessage"}_getType(){return"ai"}}class wn extends Ur{static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}concat(e){return new wn({content:this.content+e.content,additional_kwargs:wn._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class Zo extends jr{static lc_name(){return"SystemMessage"}_getType(){return"system"}}class In extends Ur{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(e){return new In({content:this.content+e.content,additional_kwargs:In._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class An extends Ur{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new An({content:this.content+e.content,additional_kwargs:An._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs),name:this.name??""})}}class Vo extends jr{static lc_name(){return"ChatMessage"}constructor(e,t){typeof e=="string"&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}}function ff(r){return typeof(r==null?void 0:r._getType)=="function"}function Yr(r){if(typeof r=="string")return new Sr(r);if(ff(r))return r;const[e,t]=r;if(e==="human"||e==="user")return new Sr({content:t});if(e==="ai"||e==="assistant")return new gs({content:t});if(e==="system")return new Zo({content:t});throw new Error("Unable to coerce message from array: only human, AI, or system message coercion is currently supported.")}class En extends Ur{static lc_name(){return"ChatMessageChunk"}constructor(e,t){typeof e=="string"&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new En({content:this.content+e.content,additional_kwargs:En._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs),role:this.role})}}class ys extends tr{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new ys({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}class Fo extends wt{}class hf{}function zn(r){const{azureOpenAIApiDeploymentName:e,azureOpenAIApiInstanceName:t,azureOpenAIApiKey:n,azureOpenAIBasePath:i,baseURL:s}=r;if(n&&i&&e)return`${i}/${e}`;if(n){if(!t)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!e)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${t}.openai.azure.com/openai/deployments/${e}`}return s}const $i=(r,e)=>r.reduce((t,n,i)=>{const s=Math.floor(i/e),a=t[s]||[];return t[s]=a.concat([n]),t},[]);class Ko extends Fo{constructor(e){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","base"]}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new Sr(this.value)]}}class pf extends xe{get lc_attributes(){return{partialVariables:void 0}}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{inputVariables:t}=e;if(t.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){const t=this.partialVariables??{},n={};for(const[s,a]of Object.entries(t))typeof a=="string"?n[s]=a:n[s]=await a();return{...n,...e}}async invoke(e,t){return this._callWithConfig(n=>this.formatPromptValue(n),e,{...t,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(e){switch(e._type){case"prompt":{const{PromptTemplate:t}=await Promise.resolve().then(()=>ra);return t.deserialize(e)}case void 0:{const{PromptTemplate:t}=await Promise.resolve().then(()=>ra);return t.deserialize({...e,_type:"prompt"})}case"few_shot":{const{FewShotPromptTemplate:t}=await Promise.resolve().then(()=>xf);return t.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}class qo extends pf{async formatPromptValue(e){const t=await this.format(e);return new Ko(t)}}const Ho=r=>{const e=r.split(""),t=[],n=(s,a)=>{for(let o=a;o<e.length;o+=1)if(s.includes(e[o]))return o;return-1};let i=0;for(;i<e.length;)if(e[i]==="{"&&i+1<e.length&&e[i+1]==="{")t.push({type:"literal",text:"{"}),i+=2;else if(e[i]==="}"&&i+1<e.length&&e[i+1]==="}")t.push({type:"literal",text:"}"}),i+=2;else if(e[i]==="{"){const s=n("}",i);if(s<0)throw new Error("Unclosed '{' in template.");t.push({type:"variable",name:e.slice(i+1,s).join("")}),i=s+1}else{if(e[i]==="}")throw new Error("Single '}' in template.");{const s=n("{}",i),a=(s<0?e.slice(i):e.slice(i,s)).join("");t.push({type:"literal",text:a}),i=s<0?e.length:s}}return t},mf=(r,e)=>Ho(r).reduce((t,n)=>{if(n.type==="variable"){if(n.name in e)return t+e[n.name];throw new Error(`Missing value for input ${n.name}`)}return t+n.text},""),zi={"f-string":mf},gf={"f-string":Ho},bs=(r,e,t)=>zi[e](r,t),yf=(r,e)=>gf[e](r),Wo=(r,e,t)=>{if(!(e in zi)){const n=Object.keys(zi);throw new Error(`Invalid template format. Got \`${e}\`;
                         should be one of ${n}`)}try{const n=t.reduce((i,s)=>(i[s]="foo",i),{});bs(r,e,n)}catch(n){throw new Error(`Invalid prompt schema: ${n.message}`)}};class _t extends qo{static lc_name(){return"PromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.validateTemplate){let t=this.inputVariables;this.partialVariables&&(t=t.concat(Object.keys(this.partialVariables))),Wo(this.template,this.templateFormat,t)}}_getPromptType(){return"prompt"}async format(e){const t=await this.mergePartialAndUserVariables(e);return bs(this.template,this.templateFormat,t)}static fromExamples(e,t,n,i=`

`,s=""){const a=[s,...e,t].join(i);return new _t({inputVariables:n,template:a})}static fromTemplate(e,{templateFormat:t="f-string",...n}={}){const i=new Set;return yf(e,t).forEach(s=>{s.type==="variable"&&i.add(s.name)}),new _t({inputVariables:[...i],templateFormat:t,template:e,...n})}async partial(e){const t=this.inputVariables.filter(s=>!(s in e)),n={...this.partialVariables??{},...e},i={...this,inputVariables:t,partialVariables:n};return new _t(i)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw new Error("Prompt template must have a template");return new _t({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format})}}const ra=Object.freeze(Object.defineProperty({__proto__:null,PromptTemplate:_t},Symbol.toStringTag,{value:"Module"}));class bf extends Fo{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return Rn(this.messages)}toChatMessages(){return this.messages}}function Kr(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Go={exports:{}};(function(r,e){(function(t){r.exports=t()})(function(){return function t(n,i,s){function a(c,d){if(!i[c]){if(!n[c]){var f=typeof Kr=="function"&&Kr;if(!d&&f)return f(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+c+"'")}d=i[c]={exports:{}},n[c][0].call(d.exports,function(m){var _=n[c][1][m];return a(_||m)},d,d.exports,t,n,i,s)}return i[c].exports}for(var o=typeof Kr=="function"&&Kr,u=0;u<s.length;u++)a(s[u]);return a}({1:[function(t,n,i){(function(s,a,o,u,c,d,f,m,_){var y=t("crypto");function A(x,R){R=j(x,R);var w;return(w=R.algorithm!=="passthrough"?y.createHash(R.algorithm):new $).write===void 0&&(w.write=w.update,w.end=w.update),D(R,w).dispatch(x),w.update||w.end(""),w.digest?w.digest(R.encoding==="buffer"?void 0:R.encoding):(x=w.read(),R.encoding!=="buffer"?x.toString(R.encoding):x)}(i=n.exports=A).sha1=function(x){return A(x)},i.keys=function(x){return A(x,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},i.MD5=function(x){return A(x,{algorithm:"md5",encoding:"hex"})},i.keysMD5=function(x){return A(x,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=y.getHashes?y.getHashes().slice():["sha1","md5"],P=(p.push("passthrough"),["buffer","hex","binary","base64"]);function j(x,R){var w={};if(w.algorithm=(R=R||{}).algorithm||"sha1",w.encoding=R.encoding||"hex",w.excludeValues=!!R.excludeValues,w.algorithm=w.algorithm.toLowerCase(),w.encoding=w.encoding.toLowerCase(),w.ignoreUnknown=R.ignoreUnknown===!0,w.respectType=R.respectType!==!1,w.respectFunctionNames=R.respectFunctionNames!==!1,w.respectFunctionProperties=R.respectFunctionProperties!==!1,w.unorderedArrays=R.unorderedArrays===!0,w.unorderedSets=R.unorderedSets!==!1,w.unorderedObjects=R.unorderedObjects!==!1,w.replacer=R.replacer||void 0,w.excludeKeys=R.excludeKeys||void 0,x===void 0)throw new Error("Object argument required.");for(var I=0;I<p.length;++I)p[I].toLowerCase()===w.algorithm.toLowerCase()&&(w.algorithm=p[I]);if(p.indexOf(w.algorithm)===-1)throw new Error('Algorithm "'+w.algorithm+'"  not supported. supported values: '+p.join(", "));if(P.indexOf(w.encoding)===-1&&w.algorithm!=="passthrough")throw new Error('Encoding "'+w.encoding+'"  not supported. supported values: '+P.join(", "));return w}function N(x){if(typeof x=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(x))!=null}function D(x,R,w){w=w||[];function I(v){return R.update?R.update(v,"utf8"):R.write(v,"utf8")}return{dispatch:function(v){return this["_"+((v=x.replacer?x.replacer(v):v)===null?"null":typeof v)](v)},_object:function(v){var C,U=Object.prototype.toString.call(v),q=/\[object (.*)\]/i.exec(U);if(q=(q=q?q[1]:"unknown:["+U+"]").toLowerCase(),0<=(U=w.indexOf(v)))return this.dispatch("[CIRCULAR:"+U+"]");if(w.push(v),o!==void 0&&o.isBuffer&&o.isBuffer(v))return I("buffer:"),I(v);if(q==="object"||q==="function"||q==="asyncfunction")return U=Object.keys(v),x.unorderedObjects&&(U=U.sort()),x.respectType===!1||N(v)||U.splice(0,0,"prototype","__proto__","constructor"),x.excludeKeys&&(U=U.filter(function(G){return!x.excludeKeys(G)})),I("object:"+U.length+":"),C=this,U.forEach(function(G){C.dispatch(G),I(":"),x.excludeValues||C.dispatch(v[G]),I(",")});if(!this["_"+q]){if(x.ignoreUnknown)return I("["+q+"]");throw new Error('Unknown object type "'+q+'"')}this["_"+q](v)},_array:function(v,G){G=G!==void 0?G:x.unorderedArrays!==!1;var U=this;if(I("array:"+v.length+":"),!G||v.length<=1)return v.forEach(function(J){return U.dispatch(J)});var q=[],G=v.map(function(J){var H=new $,V=w.slice();return D(x,H,V).dispatch(J),q=q.concat(V.slice(w.length)),H.read().toString()});return w=w.concat(q),G.sort(),this._array(G,!1)},_date:function(v){return I("date:"+v.toJSON())},_symbol:function(v){return I("symbol:"+v.toString())},_error:function(v){return I("error:"+v.toString())},_boolean:function(v){return I("bool:"+v.toString())},_string:function(v){I("string:"+v.length+":"),I(v.toString())},_function:function(v){I("fn:"),N(v)?this.dispatch("[native]"):this.dispatch(v.toString()),x.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(v.name)),x.respectFunctionProperties&&this._object(v)},_number:function(v){return I("number:"+v.toString())},_xml:function(v){return I("xml:"+v.toString())},_null:function(){return I("Null")},_undefined:function(){return I("Undefined")},_regexp:function(v){return I("regex:"+v.toString())},_uint8array:function(v){return I("uint8array:"),this.dispatch(Array.prototype.slice.call(v))},_uint8clampedarray:function(v){return I("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(v))},_int8array:function(v){return I("int8array:"),this.dispatch(Array.prototype.slice.call(v))},_uint16array:function(v){return I("uint16array:"),this.dispatch(Array.prototype.slice.call(v))},_int16array:function(v){return I("int16array:"),this.dispatch(Array.prototype.slice.call(v))},_uint32array:function(v){return I("uint32array:"),this.dispatch(Array.prototype.slice.call(v))},_int32array:function(v){return I("int32array:"),this.dispatch(Array.prototype.slice.call(v))},_float32array:function(v){return I("float32array:"),this.dispatch(Array.prototype.slice.call(v))},_float64array:function(v){return I("float64array:"),this.dispatch(Array.prototype.slice.call(v))},_arraybuffer:function(v){return I("arraybuffer:"),this.dispatch(new Uint8Array(v))},_url:function(v){return I("url:"+v.toString())},_map:function(v){return I("map:"),v=Array.from(v),this._array(v,x.unorderedSets!==!1)},_set:function(v){return I("set:"),v=Array.from(v),this._array(v,x.unorderedSets!==!1)},_file:function(v){return I("file:"),this.dispatch([v.name,v.size,v.type,v.lastModfied])},_blob:function(){if(x.ignoreUnknown)return I("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return I("domwindow")},_bigint:function(v){return I("bigint:"+v.toString())},_process:function(){return I("process")},_timer:function(){return I("timer")},_pipe:function(){return I("pipe")},_tcp:function(){return I("tcp")},_udp:function(){return I("udp")},_tty:function(){return I("tty")},_statwatcher:function(){return I("statwatcher")},_securecontext:function(){return I("securecontext")},_connection:function(){return I("connection")},_zlib:function(){return I("zlib")},_context:function(){return I("context")},_nodescript:function(){return I("nodescript")},_httpparser:function(){return I("httpparser")},_dataview:function(){return I("dataview")},_signal:function(){return I("signal")},_fsevent:function(){return I("fsevent")},_tlswrap:function(){return I("tlswrap")}}}function $(){return{buf:"",write:function(x){this.buf+=x},end:function(x){this.buf+=x},read:function(){return this.buf}}}i.writeToStream=function(x,R,w){return w===void 0&&(w=R,R={}),D(R=j(x,R),w).dispatch(x)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,n,i){(function(s,a,o,u,c,d,f,m,_){(function(y){var A=typeof Uint8Array<"u"?Uint8Array:Array,p="+".charCodeAt(0),P="/".charCodeAt(0),j="0".charCodeAt(0),N="a".charCodeAt(0),D="A".charCodeAt(0),$="-".charCodeAt(0),x="_".charCodeAt(0);function R(w){return w=w.charCodeAt(0),w===p||w===$?62:w===P||w===x?63:w<j?-1:w<j+10?w-j+26+26:w<D+26?w-D:w<N+26?w-N+26:void 0}y.toByteArray=function(w){var I,v;if(0<w.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var C=w.length,C=w.charAt(C-2)==="="?2:w.charAt(C-1)==="="?1:0,U=new A(3*w.length/4-C),q=0<C?w.length-4:w.length,G=0;function J(H){U[G++]=H}for(I=0;I<q;I+=4,0)J((16711680&(v=R(w.charAt(I))<<18|R(w.charAt(I+1))<<12|R(w.charAt(I+2))<<6|R(w.charAt(I+3))))>>16),J((65280&v)>>8),J(255&v);return C==2?J(255&(v=R(w.charAt(I))<<2|R(w.charAt(I+1))>>4)):C==1&&(J((v=R(w.charAt(I))<<10|R(w.charAt(I+1))<<4|R(w.charAt(I+2))>>2)>>8&255),J(255&v)),U},y.fromByteArray=function(w){var I,v,C,U,q=w.length%3,G="";function J(H){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(H)}for(I=0,C=w.length-q;I<C;I+=3)v=(w[I]<<16)+(w[I+1]<<8)+w[I+2],G+=J((U=v)>>18&63)+J(U>>12&63)+J(U>>6&63)+J(63&U);switch(q){case 1:G=(G+=J((v=w[w.length-1])>>2))+J(v<<4&63)+"==";break;case 2:G=(G=(G+=J((v=(w[w.length-2]<<8)+w[w.length-1])>>10))+J(v>>4&63))+J(v<<2&63)+"="}return G}})(i===void 0?this.base64js={}:i)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,n,i){(function(s,a,p,u,c,d,f,m,_){var y=t("base64-js"),A=t("ieee754");function p(g,E,k){if(!(this instanceof p))return new p(g,E,k);var z,Z,X,ae,ue=typeof g;if(E==="base64"&&ue=="string")for(g=(ae=g).trim?ae.trim():ae.replace(/^\s+|\s+$/g,"");g.length%4!=0;)g+="=";if(ue=="number")z=W(g);else if(ue=="string")z=p.byteLength(g,E);else{if(ue!="object")throw new Error("First argument needs to be a number, array or string.");z=W(g.length)}if(p._useTypedArrays?Z=p._augment(new Uint8Array(z)):((Z=this).length=z,Z._isBuffer=!0),p._useTypedArrays&&typeof g.byteLength=="number")Z._set(g);else if(K(ae=g)||p.isBuffer(ae)||ae&&typeof ae=="object"&&typeof ae.length=="number")for(X=0;X<z;X++)p.isBuffer(g)?Z[X]=g.readUInt8(X):Z[X]=g[X];else if(ue=="string")Z.write(g,0,E);else if(ue=="number"&&!p._useTypedArrays&&!k)for(X=0;X<z;X++)Z[X]=0;return Z}function P(g,E,k,z){return p._charsWritten=Y(function(Z){for(var X=[],ae=0;ae<Z.length;ae++)X.push(255&Z.charCodeAt(ae));return X}(E),g,k,z)}function j(g,E,k,z){return p._charsWritten=Y(function(Z){for(var X,ae,ue=[],fe=0;fe<Z.length;fe++)ae=Z.charCodeAt(fe),X=ae>>8,ae=ae%256,ue.push(ae),ue.push(X);return ue}(E),g,k,z)}function N(g,E,k){var z="";k=Math.min(g.length,k);for(var Z=E;Z<k;Z++)z+=String.fromCharCode(g[Z]);return z}function D(g,E,k,X){X||(Q(typeof k=="boolean","missing or invalid endian"),Q(E!=null,"missing offset"),Q(E+1<g.length,"Trying to read beyond buffer length"));var Z,X=g.length;if(!(X<=E))return k?(Z=g[E],E+1<X&&(Z|=g[E+1]<<8)):(Z=g[E]<<8,E+1<X&&(Z|=g[E+1])),Z}function $(g,E,k,X){X||(Q(typeof k=="boolean","missing or invalid endian"),Q(E!=null,"missing offset"),Q(E+3<g.length,"Trying to read beyond buffer length"));var Z,X=g.length;if(!(X<=E))return k?(E+2<X&&(Z=g[E+2]<<16),E+1<X&&(Z|=g[E+1]<<8),Z|=g[E],E+3<X&&(Z+=g[E+3]<<24>>>0)):(E+1<X&&(Z=g[E+1]<<16),E+2<X&&(Z|=g[E+2]<<8),E+3<X&&(Z|=g[E+3]),Z+=g[E]<<24>>>0),Z}function x(g,E,k,z){if(z||(Q(typeof k=="boolean","missing or invalid endian"),Q(E!=null,"missing offset"),Q(E+1<g.length,"Trying to read beyond buffer length")),!(g.length<=E))return z=D(g,E,k,!0),32768&z?-1*(65535-z+1):z}function R(g,E,k,z){if(z||(Q(typeof k=="boolean","missing or invalid endian"),Q(E!=null,"missing offset"),Q(E+3<g.length,"Trying to read beyond buffer length")),!(g.length<=E))return z=$(g,E,k,!0),2147483648&z?-1*(4294967295-z+1):z}function w(g,E,k,z){return z||(Q(typeof k=="boolean","missing or invalid endian"),Q(E+3<g.length,"Trying to read beyond buffer length")),A.read(g,E,k,23,4)}function I(g,E,k,z){return z||(Q(typeof k=="boolean","missing or invalid endian"),Q(E+7<g.length,"Trying to read beyond buffer length")),A.read(g,E,k,52,8)}function v(g,E,k,z,Z){if(Z||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(k!=null,"missing offset"),Q(k+1<g.length,"trying to write beyond buffer length"),De(E,65535)),Z=g.length,!(Z<=k))for(var X=0,ae=Math.min(Z-k,2);X<ae;X++)g[k+X]=(E&255<<8*(z?X:1-X))>>>8*(z?X:1-X)}function C(g,E,k,z,Z){if(Z||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(k!=null,"missing offset"),Q(k+3<g.length,"trying to write beyond buffer length"),De(E,4294967295)),Z=g.length,!(Z<=k))for(var X=0,ae=Math.min(Z-k,4);X<ae;X++)g[k+X]=E>>>8*(z?X:3-X)&255}function U(g,E,k,z,Z){Z||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(k!=null,"missing offset"),Q(k+1<g.length,"Trying to write beyond buffer length"),ve(E,32767,-32768)),g.length<=k||v(g,0<=E?E:65535+E+1,k,z,Z)}function q(g,E,k,z,Z){Z||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(k!=null,"missing offset"),Q(k+3<g.length,"Trying to write beyond buffer length"),ve(E,2147483647,-2147483648)),g.length<=k||C(g,0<=E?E:4294967295+E+1,k,z,Z)}function G(g,E,k,z,Z){Z||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(k!=null,"missing offset"),Q(k+3<g.length,"Trying to write beyond buffer length"),Ve(E,34028234663852886e22,-34028234663852886e22)),g.length<=k||A.write(g,E,k,z,23,4)}function J(g,E,k,z,Z){Z||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(k!=null,"missing offset"),Q(k+7<g.length,"Trying to write beyond buffer length"),Ve(E,17976931348623157e292,-17976931348623157e292)),g.length<=k||A.write(g,E,k,z,52,8)}i.Buffer=p,i.SlowBuffer=p,i.INSPECT_MAX_BYTES=50,p.poolSize=8192,p._useTypedArrays=function(){try{var g=new ArrayBuffer(0),E=new Uint8Array(g);return E.foo=function(){return 42},E.foo()===42&&typeof E.subarray=="function"}catch{return!1}}(),p.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.isBuffer=function(g){return!(g==null||!g._isBuffer)},p.byteLength=function(g,E){var k;switch(g+="",E||"utf8"){case"hex":k=g.length/2;break;case"utf8":case"utf-8":k=ie(g).length;break;case"ascii":case"binary":case"raw":k=g.length;break;case"base64":k=ge(g).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":k=2*g.length;break;default:throw new Error("Unknown encoding")}return k},p.concat=function(g,E){if(Q(K(g),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),g.length===0)return new p(0);if(g.length===1)return g[0];if(typeof E!="number")for(Z=E=0;Z<g.length;Z++)E+=g[Z].length;for(var k=new p(E),z=0,Z=0;Z<g.length;Z++){var X=g[Z];X.copy(k,z),z+=X.length}return k},p.prototype.write=function(g,E,k,z){isFinite(E)?isFinite(k)||(z=k,k=void 0):(fe=z,z=E,E=k,k=fe),E=Number(E)||0;var Z,X,ae,ue,fe=this.length-E;switch((!k||fe<(k=Number(k)))&&(k=fe),z=String(z||"utf8").toLowerCase()){case"hex":Z=function(_e,ye,we,L){we=Number(we)||0;var re=_e.length-we;(!L||re<(L=Number(L)))&&(L=re),Q((re=ye.length)%2==0,"Invalid hex string"),re/2<L&&(L=re/2);for(var ee=0;ee<L;ee++){var ne=parseInt(ye.substr(2*ee,2),16);Q(!isNaN(ne),"Invalid hex string"),_e[we+ee]=ne}return p._charsWritten=2*ee,ee}(this,g,E,k);break;case"utf8":case"utf-8":X=this,ae=E,ue=k,Z=p._charsWritten=Y(ie(g),X,ae,ue);break;case"ascii":case"binary":Z=P(this,g,E,k);break;case"base64":X=this,ae=E,ue=k,Z=p._charsWritten=Y(ge(g),X,ae,ue);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Z=j(this,g,E,k);break;default:throw new Error("Unknown encoding")}return Z},p.prototype.toString=function(g,E,k){var z,Z,X,ae,ue=this;if(g=String(g||"utf8").toLowerCase(),E=Number(E)||0,(k=k!==void 0?Number(k):ue.length)===E)return"";switch(g){case"hex":z=function(fe,_e,ye){var we=fe.length;(!_e||_e<0)&&(_e=0),(!ye||ye<0||we<ye)&&(ye=we);for(var L="",re=_e;re<ye;re++)L+=te(fe[re]);return L}(ue,E,k);break;case"utf8":case"utf-8":z=function(fe,_e,ye){var we="",L="";ye=Math.min(fe.length,ye);for(var re=_e;re<ye;re++)fe[re]<=127?(we+=Re(L)+String.fromCharCode(fe[re]),L=""):L+="%"+fe[re].toString(16);return we+Re(L)}(ue,E,k);break;case"ascii":case"binary":z=N(ue,E,k);break;case"base64":Z=ue,ae=k,z=(X=E)===0&&ae===Z.length?y.fromByteArray(Z):y.fromByteArray(Z.slice(X,ae));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":z=function(fe,_e,ye){for(var we=fe.slice(_e,ye),L="",re=0;re<we.length;re+=2)L+=String.fromCharCode(we[re]+256*we[re+1]);return L}(ue,E,k);break;default:throw new Error("Unknown encoding")}return z},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},p.prototype.copy=function(g,E,k,z){if(E=E||0,(z=z||z===0?z:this.length)!==(k=k||0)&&g.length!==0&&this.length!==0){Q(k<=z,"sourceEnd < sourceStart"),Q(0<=E&&E<g.length,"targetStart out of bounds"),Q(0<=k&&k<this.length,"sourceStart out of bounds"),Q(0<=z&&z<=this.length,"sourceEnd out of bounds"),z>this.length&&(z=this.length);var Z=(z=g.length-E<z-k?g.length-E+k:z)-k;if(Z<100||!p._useTypedArrays)for(var X=0;X<Z;X++)g[X+E]=this[X+k];else g._set(this.subarray(k,k+Z),E)}},p.prototype.slice=function(g,E){var k=this.length;if(g=V(g,k,0),E=V(E,k,k),p._useTypedArrays)return p._augment(this.subarray(g,E));for(var z=E-g,Z=new p(z,void 0,!0),X=0;X<z;X++)Z[X]=this[X+g];return Z},p.prototype.get=function(g){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(g)},p.prototype.set=function(g,E){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(g,E)},p.prototype.readUInt8=function(g,E){if(E||(Q(g!=null,"missing offset"),Q(g<this.length,"Trying to read beyond buffer length")),!(g>=this.length))return this[g]},p.prototype.readUInt16LE=function(g,E){return D(this,g,!0,E)},p.prototype.readUInt16BE=function(g,E){return D(this,g,!1,E)},p.prototype.readUInt32LE=function(g,E){return $(this,g,!0,E)},p.prototype.readUInt32BE=function(g,E){return $(this,g,!1,E)},p.prototype.readInt8=function(g,E){if(E||(Q(g!=null,"missing offset"),Q(g<this.length,"Trying to read beyond buffer length")),!(g>=this.length))return 128&this[g]?-1*(255-this[g]+1):this[g]},p.prototype.readInt16LE=function(g,E){return x(this,g,!0,E)},p.prototype.readInt16BE=function(g,E){return x(this,g,!1,E)},p.prototype.readInt32LE=function(g,E){return R(this,g,!0,E)},p.prototype.readInt32BE=function(g,E){return R(this,g,!1,E)},p.prototype.readFloatLE=function(g,E){return w(this,g,!0,E)},p.prototype.readFloatBE=function(g,E){return w(this,g,!1,E)},p.prototype.readDoubleLE=function(g,E){return I(this,g,!0,E)},p.prototype.readDoubleBE=function(g,E){return I(this,g,!1,E)},p.prototype.writeUInt8=function(g,E,k){k||(Q(g!=null,"missing value"),Q(E!=null,"missing offset"),Q(E<this.length,"trying to write beyond buffer length"),De(g,255)),E>=this.length||(this[E]=g)},p.prototype.writeUInt16LE=function(g,E,k){v(this,g,E,!0,k)},p.prototype.writeUInt16BE=function(g,E,k){v(this,g,E,!1,k)},p.prototype.writeUInt32LE=function(g,E,k){C(this,g,E,!0,k)},p.prototype.writeUInt32BE=function(g,E,k){C(this,g,E,!1,k)},p.prototype.writeInt8=function(g,E,k){k||(Q(g!=null,"missing value"),Q(E!=null,"missing offset"),Q(E<this.length,"Trying to write beyond buffer length"),ve(g,127,-128)),E>=this.length||(0<=g?this.writeUInt8(g,E,k):this.writeUInt8(255+g+1,E,k))},p.prototype.writeInt16LE=function(g,E,k){U(this,g,E,!0,k)},p.prototype.writeInt16BE=function(g,E,k){U(this,g,E,!1,k)},p.prototype.writeInt32LE=function(g,E,k){q(this,g,E,!0,k)},p.prototype.writeInt32BE=function(g,E,k){q(this,g,E,!1,k)},p.prototype.writeFloatLE=function(g,E,k){G(this,g,E,!0,k)},p.prototype.writeFloatBE=function(g,E,k){G(this,g,E,!1,k)},p.prototype.writeDoubleLE=function(g,E,k){J(this,g,E,!0,k)},p.prototype.writeDoubleBE=function(g,E,k){J(this,g,E,!1,k)},p.prototype.fill=function(g,E,k){if(E=E||0,k=k||this.length,Q(typeof(g=typeof(g=g||0)=="string"?g.charCodeAt(0):g)=="number"&&!isNaN(g),"value is not a number"),Q(E<=k,"end < start"),k!==E&&this.length!==0){Q(0<=E&&E<this.length,"start out of bounds"),Q(0<=k&&k<=this.length,"end out of bounds");for(var z=E;z<k;z++)this[z]=g}},p.prototype.inspect=function(){for(var g=[],E=this.length,k=0;k<E;k++)if(g[k]=te(this[k]),k===i.INSPECT_MAX_BYTES){g[k+1]="...";break}return"<Buffer "+g.join(" ")+">"},p.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(p._useTypedArrays)return new p(this).buffer;for(var g=new Uint8Array(this.length),E=0,k=g.length;E<k;E+=1)g[E]=this[E];return g.buffer};var H=p.prototype;function V(g,E,k){return typeof g!="number"?k:E<=(g=~~g)?E:0<=g||0<=(g+=E)?g:0}function W(g){return(g=~~Math.ceil(+g))<0?0:g}function K(g){return(Array.isArray||function(E){return Object.prototype.toString.call(E)==="[object Array]"})(g)}function te(g){return g<16?"0"+g.toString(16):g.toString(16)}function ie(g){for(var E=[],k=0;k<g.length;k++){var z=g.charCodeAt(k);if(z<=127)E.push(g.charCodeAt(k));else for(var Z=k,X=(55296<=z&&z<=57343&&k++,encodeURIComponent(g.slice(Z,k+1)).substr(1).split("%")),ae=0;ae<X.length;ae++)E.push(parseInt(X[ae],16))}return E}function ge(g){return y.toByteArray(g)}function Y(g,E,k,z){for(var Z=0;Z<z&&!(Z+k>=E.length||Z>=g.length);Z++)E[Z+k]=g[Z];return Z}function Re(g){try{return decodeURIComponent(g)}catch{return String.fromCharCode(65533)}}function De(g,E){Q(typeof g=="number","cannot write a non-number as a number"),Q(0<=g,"specified a negative value for writing an unsigned value"),Q(g<=E,"value is larger than maximum value for type"),Q(Math.floor(g)===g,"value has a fractional component")}function ve(g,E,k){Q(typeof g=="number","cannot write a non-number as a number"),Q(g<=E,"value larger than maximum allowed value"),Q(k<=g,"value smaller than minimum allowed value"),Q(Math.floor(g)===g,"value has a fractional component")}function Ve(g,E,k){Q(typeof g=="number","cannot write a non-number as a number"),Q(g<=E,"value larger than maximum allowed value"),Q(k<=g,"value smaller than minimum allowed value")}function Q(g,E){if(!g)throw new Error(E||"Failed assertion")}p._augment=function(g){return g._isBuffer=!0,g._get=g.get,g._set=g.set,g.get=H.get,g.set=H.set,g.write=H.write,g.toString=H.toString,g.toLocaleString=H.toString,g.toJSON=H.toJSON,g.copy=H.copy,g.slice=H.slice,g.readUInt8=H.readUInt8,g.readUInt16LE=H.readUInt16LE,g.readUInt16BE=H.readUInt16BE,g.readUInt32LE=H.readUInt32LE,g.readUInt32BE=H.readUInt32BE,g.readInt8=H.readInt8,g.readInt16LE=H.readInt16LE,g.readInt16BE=H.readInt16BE,g.readInt32LE=H.readInt32LE,g.readInt32BE=H.readInt32BE,g.readFloatLE=H.readFloatLE,g.readFloatBE=H.readFloatBE,g.readDoubleLE=H.readDoubleLE,g.readDoubleBE=H.readDoubleBE,g.writeUInt8=H.writeUInt8,g.writeUInt16LE=H.writeUInt16LE,g.writeUInt16BE=H.writeUInt16BE,g.writeUInt32LE=H.writeUInt32LE,g.writeUInt32BE=H.writeUInt32BE,g.writeInt8=H.writeInt8,g.writeInt16LE=H.writeInt16LE,g.writeInt16BE=H.writeInt16BE,g.writeInt32LE=H.writeInt32LE,g.writeInt32BE=H.writeInt32BE,g.writeFloatLE=H.writeFloatLE,g.writeFloatBE=H.writeFloatBE,g.writeDoubleLE=H.writeDoubleLE,g.writeDoubleBE=H.writeDoubleBE,g.fill=H.fill,g.inspect=H.inspect,g.toArrayBuffer=H.toArrayBuffer,g}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,n,i){(function(s,a,y,u,c,d,f,m,_){var y=t("buffer").Buffer,A=4,p=new y(A);p.fill(0),n.exports={hash:function(P,j,N,D){for(var $=j(function(v,C){v.length%A!=0&&(U=v.length+(A-v.length%A),v=y.concat([v,p],U));for(var U,q=[],G=C?v.readInt32BE:v.readInt32LE,J=0;J<v.length;J+=A)q.push(G.call(v,J));return q}(P=y.isBuffer(P)?P:new y(P),D),8*P.length),j=D,x=new y(N),R=j?x.writeInt32BE:x.writeInt32LE,w=0;w<$.length;w++)R.call(x,$[w],4*w,!0);return x}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,n,i){(function(s,a,y,u,c,d,f,m,_){var y=t("buffer").Buffer,A=t("./sha"),p=t("./sha256"),P=t("./rng"),j={sha1:A,sha256:p,md5:t("./md5")},N=64,D=new y(N);function $(v,C){var U=j[v=v||"sha1"],q=[];return U||x("algorithm:",v,"is not yet supported"),{update:function(G){return y.isBuffer(G)||(G=new y(G)),q.push(G),G.length,this},digest:function(G){var J=y.concat(q),J=C?function(H,V,W){y.isBuffer(V)||(V=new y(V)),y.isBuffer(W)||(W=new y(W)),V.length>N?V=H(V):V.length<N&&(V=y.concat([V,D],N));for(var K=new y(N),te=new y(N),ie=0;ie<N;ie++)K[ie]=54^V[ie],te[ie]=92^V[ie];return W=H(y.concat([K,W])),H(y.concat([te,W]))}(U,C,J):U(J);return q=null,G?J.toString(G):J}}}function x(){var v=[].slice.call(arguments).join(" ");throw new Error([v,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}D.fill(0),i.createHash=function(v){return $(v)},i.createHmac=$,i.randomBytes=function(v,C){if(!C||!C.call)return new y(P(v));try{C.call(this,void 0,new y(P(v)))}catch(U){C(U)}};var R,w=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],I=function(v){i[v]=function(){x("sorry,",v,"is not implemented yet")}};for(R in w)I(w[R])}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,n,i){(function(s,a,o,u,c,d,f,m,_){var y=t("./helpers");function A(x,R){x[R>>5]|=128<<R%32,x[14+(R+64>>>9<<4)]=R;for(var w=1732584193,I=-271733879,v=-1732584194,C=271733878,U=0;U<x.length;U+=16){var q=w,G=I,J=v,H=C,w=P(w,I,v,C,x[U+0],7,-680876936),C=P(C,w,I,v,x[U+1],12,-389564586),v=P(v,C,w,I,x[U+2],17,606105819),I=P(I,v,C,w,x[U+3],22,-1044525330);w=P(w,I,v,C,x[U+4],7,-176418897),C=P(C,w,I,v,x[U+5],12,1200080426),v=P(v,C,w,I,x[U+6],17,-1473231341),I=P(I,v,C,w,x[U+7],22,-45705983),w=P(w,I,v,C,x[U+8],7,1770035416),C=P(C,w,I,v,x[U+9],12,-1958414417),v=P(v,C,w,I,x[U+10],17,-42063),I=P(I,v,C,w,x[U+11],22,-1990404162),w=P(w,I,v,C,x[U+12],7,1804603682),C=P(C,w,I,v,x[U+13],12,-40341101),v=P(v,C,w,I,x[U+14],17,-1502002290),w=j(w,I=P(I,v,C,w,x[U+15],22,1236535329),v,C,x[U+1],5,-165796510),C=j(C,w,I,v,x[U+6],9,-1069501632),v=j(v,C,w,I,x[U+11],14,643717713),I=j(I,v,C,w,x[U+0],20,-373897302),w=j(w,I,v,C,x[U+5],5,-701558691),C=j(C,w,I,v,x[U+10],9,38016083),v=j(v,C,w,I,x[U+15],14,-660478335),I=j(I,v,C,w,x[U+4],20,-405537848),w=j(w,I,v,C,x[U+9],5,568446438),C=j(C,w,I,v,x[U+14],9,-1019803690),v=j(v,C,w,I,x[U+3],14,-187363961),I=j(I,v,C,w,x[U+8],20,1163531501),w=j(w,I,v,C,x[U+13],5,-1444681467),C=j(C,w,I,v,x[U+2],9,-51403784),v=j(v,C,w,I,x[U+7],14,1735328473),w=N(w,I=j(I,v,C,w,x[U+12],20,-1926607734),v,C,x[U+5],4,-378558),C=N(C,w,I,v,x[U+8],11,-2022574463),v=N(v,C,w,I,x[U+11],16,1839030562),I=N(I,v,C,w,x[U+14],23,-35309556),w=N(w,I,v,C,x[U+1],4,-1530992060),C=N(C,w,I,v,x[U+4],11,1272893353),v=N(v,C,w,I,x[U+7],16,-155497632),I=N(I,v,C,w,x[U+10],23,-1094730640),w=N(w,I,v,C,x[U+13],4,681279174),C=N(C,w,I,v,x[U+0],11,-358537222),v=N(v,C,w,I,x[U+3],16,-722521979),I=N(I,v,C,w,x[U+6],23,76029189),w=N(w,I,v,C,x[U+9],4,-640364487),C=N(C,w,I,v,x[U+12],11,-421815835),v=N(v,C,w,I,x[U+15],16,530742520),w=D(w,I=N(I,v,C,w,x[U+2],23,-995338651),v,C,x[U+0],6,-198630844),C=D(C,w,I,v,x[U+7],10,1126891415),v=D(v,C,w,I,x[U+14],15,-1416354905),I=D(I,v,C,w,x[U+5],21,-57434055),w=D(w,I,v,C,x[U+12],6,1700485571),C=D(C,w,I,v,x[U+3],10,-1894986606),v=D(v,C,w,I,x[U+10],15,-1051523),I=D(I,v,C,w,x[U+1],21,-2054922799),w=D(w,I,v,C,x[U+8],6,1873313359),C=D(C,w,I,v,x[U+15],10,-30611744),v=D(v,C,w,I,x[U+6],15,-1560198380),I=D(I,v,C,w,x[U+13],21,1309151649),w=D(w,I,v,C,x[U+4],6,-145523070),C=D(C,w,I,v,x[U+11],10,-1120210379),v=D(v,C,w,I,x[U+2],15,718787259),I=D(I,v,C,w,x[U+9],21,-343485551),w=$(w,q),I=$(I,G),v=$(v,J),C=$(C,H)}return Array(w,I,v,C)}function p(x,R,w,I,v,C){return $((R=$($(R,x),$(I,C)))<<v|R>>>32-v,w)}function P(x,R,w,I,v,C,U){return p(R&w|~R&I,x,R,v,C,U)}function j(x,R,w,I,v,C,U){return p(R&I|w&~I,x,R,v,C,U)}function N(x,R,w,I,v,C,U){return p(R^w^I,x,R,v,C,U)}function D(x,R,w,I,v,C,U){return p(w^(R|~I),x,R,v,C,U)}function $(x,R){var w=(65535&x)+(65535&R);return(x>>16)+(R>>16)+(w>>16)<<16|65535&w}n.exports=function(x){return y.hash(x,A,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,n,i){(function(s,a,o,u,c,d,f,m,_){n.exports=function(y){for(var A,p=new Array(y),P=0;P<y;P++)!(3&P)&&(A=4294967296*Math.random()),p[P]=A>>>((3&P)<<3)&255;return p}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,n,i){(function(s,a,o,u,c,d,f,m,_){var y=t("./helpers");function A(j,N){j[N>>5]|=128<<24-N%32,j[15+(N+64>>9<<4)]=N;for(var D,$,x,R=Array(80),w=1732584193,I=-271733879,v=-1732584194,C=271733878,U=-1009589776,q=0;q<j.length;q+=16){for(var G=w,J=I,H=v,V=C,W=U,K=0;K<80;K++){R[K]=K<16?j[q+K]:P(R[K-3]^R[K-8]^R[K-14]^R[K-16],1);var te=p(p(P(w,5),(te=I,$=v,x=C,(D=K)<20?te&$|~te&x:!(D<40)&&D<60?te&$|te&x|$&x:te^$^x)),p(p(U,R[K]),(D=K)<20?1518500249:D<40?1859775393:D<60?-1894007588:-899497514)),U=C,C=v,v=P(I,30),I=w,w=te}w=p(w,G),I=p(I,J),v=p(v,H),C=p(C,V),U=p(U,W)}return Array(w,I,v,C,U)}function p(j,N){var D=(65535&j)+(65535&N);return(j>>16)+(N>>16)+(D>>16)<<16|65535&D}function P(j,N){return j<<N|j>>>32-N}n.exports=function(j){return y.hash(j,A,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,n,i){(function(s,a,o,u,c,d,f,m,_){function y(N,D){var $=(65535&N)+(65535&D);return(N>>16)+(D>>16)+($>>16)<<16|65535&$}function A(N,D){var $,x=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),R=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),w=new Array(64);N[D>>5]|=128<<24-D%32,N[15+(D+64>>9<<4)]=D;for(var I,v,C=0;C<N.length;C+=16){for(var U=R[0],q=R[1],G=R[2],J=R[3],H=R[4],V=R[5],W=R[6],K=R[7],te=0;te<64;te++)w[te]=te<16?N[te+C]:y(y(y((v=w[te-2],P(v,17)^P(v,19)^j(v,10)),w[te-7]),(v=w[te-15],P(v,7)^P(v,18)^j(v,3))),w[te-16]),$=y(y(y(y(K,P(v=H,6)^P(v,11)^P(v,25)),H&V^~H&W),x[te]),w[te]),I=y(P(I=U,2)^P(I,13)^P(I,22),U&q^U&G^q&G),K=W,W=V,V=H,H=y(J,$),J=G,G=q,q=U,U=y($,I);R[0]=y(U,R[0]),R[1]=y(q,R[1]),R[2]=y(G,R[2]),R[3]=y(J,R[3]),R[4]=y(H,R[4]),R[5]=y(V,R[5]),R[6]=y(W,R[6]),R[7]=y(K,R[7])}return R}var p=t("./helpers"),P=function(N,D){return N>>>D|N<<32-D},j=function(N,D){return N>>>D};n.exports=function(N){return p.hash(N,A,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,n,i){(function(s,a,o,u,c,d,f,m,_){i.read=function(y,A,p,P,C){var N,D,$=8*C-P-1,x=(1<<$)-1,R=x>>1,w=-7,I=p?C-1:0,v=p?-1:1,C=y[A+I];for(I+=v,N=C&(1<<-w)-1,C>>=-w,w+=$;0<w;N=256*N+y[A+I],I+=v,w-=8);for(D=N&(1<<-w)-1,N>>=-w,w+=P;0<w;D=256*D+y[A+I],I+=v,w-=8);if(N===0)N=1-R;else{if(N===x)return D?NaN:1/0*(C?-1:1);D+=Math.pow(2,P),N-=R}return(C?-1:1)*D*Math.pow(2,N-P)},i.write=function(y,A,p,P,j,U){var D,$,x=8*U-j-1,R=(1<<x)-1,w=R>>1,I=j===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=P?0:U-1,C=P?1:-1,U=A<0||A===0&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?($=isNaN(A)?1:0,D=R):(D=Math.floor(Math.log(A)/Math.LN2),A*(P=Math.pow(2,-D))<1&&(D--,P*=2),2<=(A+=1<=D+w?I/P:I*Math.pow(2,1-w))*P&&(D++,P/=2),R<=D+w?($=0,D=R):1<=D+w?($=(A*P-1)*Math.pow(2,j),D+=w):($=A*Math.pow(2,w-1)*Math.pow(2,j),D=0));8<=j;y[p+v]=255&$,v+=C,$/=256,j-=8);for(D=D<<j|$,x+=j;0<x;y[p+v]=255&D,v+=C,D/=256,x-=8);y[p+v-C]|=128*U}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,n,i){(function(s,a,o,u,c,d,f,m,_){var y,A,p;function P(){}(s=n.exports={}).nextTick=(A=typeof window<"u"&&window.setImmediate,p=typeof window<"u"&&window.postMessage&&window.addEventListener,A?function(j){return window.setImmediate(j)}:p?(y=[],window.addEventListener("message",function(j){var N=j.source;N!==window&&N!==null||j.data!=="process-tick"||(j.stopPropagation(),0<y.length&&y.shift()())},!0),function(j){y.push(j),window.postMessage("process-tick","*")}):function(j){setTimeout(j,0)}),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.on=P,s.addListener=P,s.once=P,s.off=P,s.removeListener=P,s.removeAllListeners=P,s.emit=P,s.binding=function(j){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(j){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(Go);var _f=Go.exports;const vf=Sn(_f),na=(...r)=>vf(r.join("_")),wf=new Map;class _s extends hf{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,t){return Promise.resolve(this.cache.get(na(e,t))??null)}async update(e,t,n){this.cache.set(na(e,t),n)}static global(){return new _s(wf)}}const If=()=>!1;class Af extends xe{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??If(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class Yo extends Af{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:t,...n}){super({callbacks:e??t,...n}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof n.cache=="object"?this.cache=n.cache:n.cache?this.cache=_s.global():this.cache=void 0,this.caller=new jn(n??{})}async getNumTokens(e){let t=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await zo("modelName"in this?xr(this.modelName):"gpt2")}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}return this._encoding&&(t=this._encoding.encode(e).length),t}static _convertInputToPromptValue(e){return typeof e=="string"?new Ko(e):Array.isArray(e)?new bf(e.map(Yr)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall(e){const t={...this._identifyingParams(),...e,_type:this._llmType(),_model:this._modelType()};return Object.entries(t).filter(([s,a])=>a!==void 0).map(([s,a])=>`${s}:${JSON.stringify(a)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){const{_type:t,_model:n,...i}=e;if(n&&n!=="base_chat_model")throw new Error(`Cannot load LLM with model ${n}`);const s={openai:(await Promise.resolve().then(()=>ay)).ChatOpenAI}[t];if(s===void 0)throw new Error(`Cannot load LLM with type ${t}`);return new s(i)}}class Yt extends Yo{constructor({concurrency:e,...t}){super(e?{maxConcurrency:e,...t}:t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","llms",this._llmType()]})}async invoke(e,t){const n=Yt._convertInputToPromptValue(e);return(await this.generatePrompt([n],t,t==null?void 0:t.callbacks)).generations[0][0].text}async*_streamResponseChunks(e,t,n){throw new Error("Not implemented.")}_separateRunnableConfigFromCallOptions(e){const[t,n]=super._separateRunnableConfigFromCallOptions(e);return n!=null&&n.timeout&&!n.signal&&(n.signal=AbortSignal.timeout(n.timeout)),[t,n]}async*_streamIterator(e,t){if(this._streamResponseChunks===Yt.prototype._streamResponseChunks)yield this.invoke(e,t);else{const n=Yt._convertInputToPromptValue(e),[i,s]=this._separateRunnableConfigFromCallOptions(t),a=await Be.configure(i.callbacks,this.callbacks,i.tags,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),o={options:s,invocation_params:this==null?void 0:this.invocationParams(s)},u=await(a==null?void 0:a.handleLLMStart(this.toJSON(),[n.toString()],void 0,void 0,o,void 0,void 0,i.runName));let c=new tr({text:""});try{for await(const d of this._streamResponseChunks(e.toString(),s,u==null?void 0:u[0]))c?c=c.concat(d):c=d,typeof d.text=="string"&&(yield d.text)}catch(d){throw await Promise.all((u??[]).map(f=>f==null?void 0:f.handleLLMError(d))),d}await Promise.all((u??[]).map(d=>d==null?void 0:d.handleLLMEnd({generations:[[c]]})))}}async generatePrompt(e,t,n){const i=e.map(s=>s.toString());return this.generate(i,t,n)}invocationParams(e){return{}}_flattenLLMResult(e){const t=[];for(let n=0;n<e.generations.length;n+=1){const i=e.generations[n];if(n===0)t.push({generations:[i],llmOutput:e.llmOutput});else{const s=e.llmOutput?{...e.llmOutput,tokenUsage:{}}:void 0;t.push({generations:[i],llmOutput:s})}}return t}async _generateUncached(e,t,n){const i=await Be.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),s={options:t,invocation_params:this==null?void 0:this.invocationParams(t)},a=await(i==null?void 0:i.handleLLMStart(this.toJSON(),e,void 0,void 0,s,void 0,void 0,n==null?void 0:n.runName));let o;try{o=await this._generate(e,t,a==null?void 0:a[0])}catch(d){throw await Promise.all((a??[]).map(f=>f==null?void 0:f.handleLLMError(d))),d}const u=this._flattenLLMResult(o);await Promise.all((a??[]).map((d,f)=>d==null?void 0:d.handleLLMEnd(u[f])));const c=(a==null?void 0:a.map(d=>d.runId))||void 0;return Object.defineProperty(o,Bo,{value:c?{runIds:c}:void 0,configurable:!0}),o}async generate(e,t,n){if(!Array.isArray(e))throw new Error("Argument 'prompts' is expected to be a string[]");let i;Array.isArray(t)?i={stop:t}:i=t;const[s,a]=this._separateRunnableConfigFromCallOptions(i);if(s.callbacks=s.callbacks??n,!this.cache)return this._generateUncached(e,a,s);const{cache:o}=this,u=this._getSerializedCacheKeyParametersForCall(a),c=[],d=await Promise.all(e.map(async(m,_)=>{const y=await o.lookup(m,u);return y||c.push(_),y}));let f={};if(c.length>0){const m=await this._generateUncached(c.map(_=>e[_]),a,s);await Promise.all(m.generations.map(async(_,y)=>{const A=c[y];return d[A]=_,o.update(e[A],u,_)})),f=m.llmOutput??{}}return{generations:d,llmOutput:f}}async call(e,t,n){const{generations:i}=await this.generate([e],t,n);return i[0][0].text}async predict(e,t,n){return this.call(e,t,n)}async predictMessages(e,t,n){const i=Rn(e),s=await this.call(i,t,n);return new gs(s)}_identifyingParams(){return{}}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}_modelType(){return"base_llm"}static async deserialize(e){const{_type:t,_model:n,...i}=e;if(n&&n!=="base_llm")throw new Error(`Cannot load LLM with model ${n}`);const s={openai:(await Promise.resolve().then(()=>Pf)).OpenAI}[t];if(s===void 0)throw new Error(`Cannot load  LLM with type ${t}`);return new s(i)}}class Ef extends Yt{async _generate(e,t,n){return{generations:await Promise.all(e.map((s,a)=>this._call(s,{...t,promptIndex:a},n).then(o=>[{text:o}])))}}}function Bn(r){let e;return r.constructor.name===Fd.name?(e=new Error(r.message),e.name="TimeoutError"):r.constructor.name===Kd.name?(e=new Error(r.message),e.name="AbortError"):e=r,e}class vs extends Ef{static lc_name(){return"OpenAIChat"}get callKeys(){return[...super.callKeys,"options","promptIndex"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){var n,i,s,a,o,u,c,d;if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"prefixMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.openAIApiKey)??ce("OPENAI_API_KEY"),this.azureOpenAIApiKey=(e==null?void 0:e.azureOpenAIApiKey)??ce("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=(e==null?void 0:e.azureOpenAIApiInstanceName)??ce("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=((e==null?void 0:e.azureOpenAIApiCompletionsDeploymentName)||(e==null?void 0:e.azureOpenAIApiDeploymentName))??(ce("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME")||ce("AZURE_OPENAI_API_DEPLOYMENT_NAME")),this.azureOpenAIApiVersion=(e==null?void 0:e.azureOpenAIApiVersion)??ce("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??ce("AZURE_OPENAI_BASE_PATH"),this.organization=((n=e==null?void 0:e.configuration)==null?void 0:n.organization)??ce("OPENAI_ORGANIZATION"),this.modelName=(e==null?void 0:e.modelName)??this.modelName,this.prefixMessages=(e==null?void 0:e.prefixMessages)??this.prefixMessages,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.n=(e==null?void 0:e.n)??this.n,this.logitBias=e==null?void 0:e.logitBias,this.maxTokens=e==null?void 0:e.maxTokens,this.stop=e==null?void 0:e.stop,this.user=e==null?void 0:e.user,this.streaming=(e==null?void 0:e.streaming)??!1,this.n>1)throw new Error("Cannot use n > 1 in OpenAIChat LLM. Use ChatOpenAI Chat Model instead.");if(this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.openAIApiKey=this.openAIApiKey??""}this.clientConfig={apiKey:this.openAIApiKey,organization:this.organization,baseURL:(t==null?void 0:t.basePath)??((i=e==null?void 0:e.configuration)==null?void 0:i.basePath),dangerouslyAllowBrowser:!0,defaultHeaders:((s=t==null?void 0:t.baseOptions)==null?void 0:s.headers)??((o=(a=e==null?void 0:e.configuration)==null?void 0:a.baseOptions)==null?void 0:o.headers),defaultQuery:((u=t==null?void 0:t.baseOptions)==null?void 0:u.params)??((d=(c=e==null?void 0:e.configuration)==null?void 0:c.baseOptions)==null?void 0:d.params),...t,...e==null?void 0:e.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,n:this.n,logit_bias:this.logitBias,max_tokens:this.maxTokens===-1?void 0:this.maxTokens,stop:(e==null?void 0:e.stop)??this.stop,user:this.user,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}formatMessages(e){const t={role:"user",content:e};return this.prefixMessages?[...this.prefixMessages,t]:[t]}async*_streamResponseChunks(e,t,n){var a;const i={...this.invocationParams(t),messages:this.formatMessages(e),stream:!0},s=await this.completionWithRetry(i,t);for await(const o of s){const u=o==null?void 0:o.choices[0];if(!u)continue;const{delta:c}=u,d=new tr({text:c.content??""});yield d;const f={prompt:t.promptIndex??0,completion:u.index??0};n==null||n.handleLLMNewToken(d.text??"",f)}if((a=t.signal)!=null&&a.aborted)throw new Error("AbortError")}async _call(e,t,n){var s,a;const i=this.invocationParams(t);if(i.stream){const o=await this._streamResponseChunks(e,t,n);let u;for await(const c of o)u===void 0?u=c:u=u.concat(c);return(u==null?void 0:u.text)??""}else{const o=await this.completionWithRetry({...i,stream:!1,messages:this.formatMessages(e)},{signal:t.signal,...t.options});return((a=(s=o==null?void 0:o.choices[0])==null?void 0:s.message)==null?void 0:a.content)??""}}async completionWithRetry(e,t){const n=this._getClientOptions(t);return this.caller.call(async()=>{try{return await this.client.chat.completions.create(e,n)}catch(i){throw Bn(i)}})}_getClientOptions(e){if(!this.client){const n={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=zn(n),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new Pe(s)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}}class Tf extends Yt{static lc_name(){return"OpenAI"}get callKeys(){return[...super.callKeys,"options"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){var n,i,s,a,o,u,c,d,f,m,_;if(((n=e==null?void 0:e.modelName)!=null&&n.startsWith("gpt-3.5-turbo")||(i=e==null?void 0:e.modelName)!=null&&i.startsWith("gpt-4"))&&!((s=e==null?void 0:e.modelName)!=null&&s.includes("-instruct")))return new vs(e,t);if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:256}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"bestOf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"text-davinci-003"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:20}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.openAIApiKey)??ce("OPENAI_API_KEY"),this.azureOpenAIApiKey=(e==null?void 0:e.azureOpenAIApiKey)??ce("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=(e==null?void 0:e.azureOpenAIApiInstanceName)??ce("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=((e==null?void 0:e.azureOpenAIApiCompletionsDeploymentName)||(e==null?void 0:e.azureOpenAIApiDeploymentName))??(ce("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME")||ce("AZURE_OPENAI_API_DEPLOYMENT_NAME")),this.azureOpenAIApiVersion=(e==null?void 0:e.azureOpenAIApiVersion)??ce("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??ce("AZURE_OPENAI_BASE_PATH"),this.organization=((a=e==null?void 0:e.configuration)==null?void 0:a.organization)??ce("OPENAI_ORGANIZATION"),this.modelName=(e==null?void 0:e.modelName)??this.modelName,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.batchSize=(e==null?void 0:e.batchSize)??this.batchSize,this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.maxTokens=(e==null?void 0:e.maxTokens)??this.maxTokens,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.n=(e==null?void 0:e.n)??this.n,this.bestOf=(e==null?void 0:e.bestOf)??this.bestOf,this.logitBias=e==null?void 0:e.logitBias,this.stop=e==null?void 0:e.stop,this.user=e==null?void 0:e.user,this.streaming=(e==null?void 0:e.streaming)??!1,this.streaming&&this.bestOf&&this.bestOf>1)throw new Error("Cannot stream results when bestOf > 1");if(this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.openAIApiKey=this.openAIApiKey??""}this.clientConfig={apiKey:this.openAIApiKey,organization:this.organization,baseURL:(t==null?void 0:t.basePath)??((o=e==null?void 0:e.configuration)==null?void 0:o.basePath),dangerouslyAllowBrowser:!0,defaultHeaders:((u=t==null?void 0:t.baseOptions)==null?void 0:u.headers)??((d=(c=e==null?void 0:e.configuration)==null?void 0:c.baseOptions)==null?void 0:d.headers),defaultQuery:((f=t==null?void 0:t.baseOptions)==null?void 0:f.params)??((_=(m=e==null?void 0:e.configuration)==null?void 0:m.baseOptions)==null?void 0:_.params),...t,...e==null?void 0:e.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,max_tokens:this.maxTokens,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,n:this.n,best_of:this.bestOf,logit_bias:this.logitBias,stop:(e==null?void 0:e.stop)??this.stop,user:this.user,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return this._identifyingParams()}async _generate(e,t,n){const i=$i(e,this.batchSize),s=[],a={},o=this.invocationParams(t);if(o.max_tokens===-1){if(e.length!==1)throw new Error("max_tokens set to -1 not supported for multiple inputs");o.max_tokens=await df({prompt:e[0],modelName:this.modelName})}for(let c=0;c<i.length;c+=1){const d=o.stream?await(async()=>{var P;const y=[];let A;const p=await this.completionWithRetry({...o,stream:!0,prompt:i[c]},t);for await(const j of p){A||(A={id:j.id,object:j.object,created:j.created,model:j.model});for(const N of j.choices){if(!y[N.index])y[N.index]=N;else{const D=y[N.index];D.text+=N.text,D.finish_reason=N.finish_reason,D.logprobs=N.logprobs}n==null||n.handleLLMNewToken(N.text,{prompt:Math.floor(N.index/this.n),completion:N.index%this.n})}}if((P=t.signal)!=null&&P.aborted)throw new Error("AbortError");return{...A,choices:y}})():await this.completionWithRetry({...o,stream:!1,prompt:i[c]},{signal:t.signal,...t.options});s.push(...d.choices);const{completion_tokens:f,prompt_tokens:m,total_tokens:_}=d.usage?d.usage:{completion_tokens:void 0,prompt_tokens:void 0,total_tokens:void 0};f&&(a.completionTokens=(a.completionTokens??0)+f),m&&(a.promptTokens=(a.promptTokens??0)+m),_&&(a.totalTokens=(a.totalTokens??0)+_)}return{generations:$i(s,this.n).map(c=>c.map(d=>({text:d.text??"",generationInfo:{finishReason:d.finish_reason,logprobs:d.logprobs}}))),llmOutput:{tokenUsage:a}}}async*_streamResponseChunks(e,t,n){var a;const i={...this.invocationParams(t),prompt:e,stream:!0},s=await this.completionWithRetry(i,t);for await(const o of s){const u=o==null?void 0:o.choices[0];if(!u)continue;const c=new tr({text:u.text,generationInfo:{finishReason:u.finish_reason}});yield c,n==null||n.handleLLMNewToken(c.text??"")}if((a=t.signal)!=null&&a.aborted)throw new Error("AbortError")}async completionWithRetry(e,t){const n=this._getClientOptions(t);return this.caller.call(async()=>{try{return await this.client.completions.create(e,n)}catch(i){throw Bn(i)}})}_getClientOptions(e){if(!this.client){const n={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=zn(n),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new Pe(s)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}}const Pf=Object.freeze(Object.defineProperty({__proto__:null,OpenAI:Tf,OpenAIChat:vs},Symbol.toStringTag,{value:"Module"}));class Of{constructor(e){Object.defineProperty(this,"pageContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pageContent=e.pageContent?e.pageContent.toString():this.pageContent,this.metadata=e.metadata??{}}}class Tn extends qo{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"examples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleSelector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"examplePrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suffix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"exampleSeparator",{enumerable:!0,configurable:!0,writable:!0,value:`

`}),Object.defineProperty(this,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.examples!==void 0&&this.exampleSelector!==void 0)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(this.examples===void 0&&this.exampleSelector===void 0)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let t=this.inputVariables;this.partialVariables&&(t=t.concat(Object.keys(this.partialVariables))),Wo(this.prefix+this.suffix,this.templateFormat,t)}}_getPromptType(){return"few_shot"}async getExamples(e){if(this.examples!==void 0)return this.examples;if(this.exampleSelector!==void 0)return this.exampleSelector.selectExamples(e);throw new Error("One of 'examples' and 'example_selector' should be provided")}async partial(e){const t=this.inputVariables.filter(s=>!(s in e)),n={...this.partialVariables??{},...e},i={...this,inputVariables:t,partialVariables:n};return new Tn(i)}async format(e){const t=await this.mergePartialAndUserVariables(e),n=await this.getExamples(t),i=await Promise.all(n.map(a=>this.examplePrompt.format(a))),s=[this.prefix,...i,this.suffix].join(this.exampleSeparator);return bs(s,this.templateFormat,t)}serialize(){if(this.exampleSelector||!this.examples)throw new Error("Serializing an example selector is not currently supported");if(this.outputParser!==void 0)throw new Error("Serializing an output parser is not currently supported");return{_type:this._getPromptType(),input_variables:this.inputVariables,example_prompt:this.examplePrompt.serialize(),example_separator:this.exampleSeparator,suffix:this.suffix,prefix:this.prefix,template_format:this.templateFormat,examples:this.examples}}static async deserialize(e){const{example_prompt:t}=e;if(!t)throw new Error("Missing example prompt");const n=await _t.deserialize(t);let i;if(Array.isArray(e.examples))i=e.examples;else throw new Error("Invalid examples format. Only list or string are supported.");return new Tn({inputVariables:e.input_variables,examplePrompt:n,examples:i,exampleSeparator:e.example_separator,prefix:e.prefix,suffix:e.suffix,templateFormat:e.template_format})}}const xf=Object.freeze(Object.defineProperty({__proto__:null,FewShotPromptTemplate:Tn},Symbol.toStringTag,{value:"Module"})),Sf={arabic:"ar",armenian:"am",bulgarian:"bg",danish:"dk",dutch:"nl",english:"en",finnish:"fi",french:"fr",german:"de",greek:"gr",hungarian:"hu",indian:"in",indonesian:"id",irish:"ie",italian:"it",lithuanian:"lt",nepali:"np",norwegian:"no",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"rs",slovenian:"ru",spanish:"es",swedish:"se",tamil:"ta",turkish:"tr",ukrainian:"uk",sanskrit:"sk"},Cf={dutch:/[^A-Za-zàèéìòóù0-9_'-]+/gim,english:/[^A-Za-zàèéìòóù0-9_'-]+/gim,french:/[^a-z0-9äâàéèëêïîöôùüûœç-]+/gim,italian:/[^A-Za-zàèéìòóù0-9_'-]+/gim,norwegian:/[^a-z0-9_æøåÆØÅäÄöÖüÜ]+/gim,portuguese:/[^a-z0-9à-úÀ-Ú]/gim,russian:/[^a-z0-9а-яА-ЯёЁ]+/gim,spanish:/[^a-z0-9A-Zá-úÁ-ÚñÑüÜ]+/gim,swedish:/[^a-z0-9_åÅäÄöÖüÜ-]+/gim,german:/[^a-z0-9A-ZäöüÄÖÜß]+/gim,finnish:/[^a-z0-9äöÄÖ]+/gim,danish:/[^a-z0-9æøåÆØÅ]+/gim,hungarian:/[^a-z0-9áéíóöőúüűÁÉÍÓÖŐÚÜŰ]+/gim,romanian:/[^a-z0-9ăâîșțĂÂÎȘȚ]+/gim,serbian:/[^a-z0-9čćžšđČĆŽŠĐ]+/gim,turkish:/[^a-z0-9çÇğĞıİöÖşŞüÜ]+/gim,lithuanian:/[^a-z0-9ąčęėįšųūžĄČĘĖĮŠŲŪŽ]+/gim,arabic:/[^a-z0-9أ-ي]+/gim,nepali:/[^a-z0-9अ-ह]+/gim,irish:/[^a-z0-9áéíóúÁÉÍÓÚ]+/gim,indian:/[^a-z0-9अ-ह]+/gim,armenian:/[^a-z0-9ա-ֆ]+/gim,greek:/[^a-z0-9α-ωά-ώ]+/gim,indonesian:/[^a-z0-9]+/gim,ukrainian:/[^a-z0-9а-яА-ЯіїєІЇЄ]+/gim,slovenian:/[^a-z0-9čžšČŽŠ]+/gim,bulgarian:/[^a-z0-9а-яА-Я]+/gim,tamil:/[^a-z0-9அ-ஹ]+/gim,sanskrit:/[^a-z0-9A-Zāīūṛḷṃṁḥśṣṭḍṇṅñḻḹṝ]+/gim},Jo=Object.keys(Sf),kf=Date.now().toString().slice(5);let Nf=0;const ia=BigInt(1e3),sa=BigInt(1e6),aa=BigInt(1e9),yi=65535;function ze(r,e){if(e.length<yi)Array.prototype.push.apply(r,e);else for(let t=0;t<e.length;t+=yi)Array.prototype.push.apply(r,e.slice(t,t+yi))}function Rf(r,...e){return r.replace(/%(?:(?<position>\d+)\$)?(?<width>-?\d*\.?\d*)(?<type>[dfs])/g,function(...t){const n=t[t.length-1],{width:i,type:s,position:a}=n,o=a?e[Number.parseInt(a)-1]:e.shift(),u=i===""?0:Number.parseInt(i);switch(s){case"d":return o.toString().padStart(u,"0");case"f":{let c=o;const[d,f]=i.split(".").map(m=>Number.parseFloat(m));return typeof f=="number"&&f>=0&&(c=c.toFixed(f)),typeof d=="number"&&d>=0?c.toString().padStart(u,"0"):c.toString()}case"s":return u<0?o.toString().padEnd(-u," "):o.toString().padStart(u," ");default:return o}})}async function Xo(r){return typeof r=="number"&&(r=BigInt(r)),r<ia?`${r}ns`:r<sa?`${r/ia}μs`:r<aa?`${r/sa}ms`:`${r/aa}s`}async function oa(){return typeof process<"u"&&process.hrtime!==void 0?process.hrtime.bigint():BigInt(typeof performance<"u"?Math.floor(performance.now()*1e6):0)}async function Qo(){return`${kf}-${Nf++}`}function Bi(r,e){return Object.hasOwn===void 0?Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0:Object.hasOwn(r,e)?r[e]:void 0}function eu(r){if(r.length===0)return[];if(r.length===1)return r[0];for(let t=1;t<r.length;t++)if(r[t].length<r[0].length){const n=r[0];r[0]=r[t],r[t]=n}const e=new Map;for(const t of r[0])e.set(t,1);for(let t=1;t<r.length;t++){let n=0;for(const i of r[t]){const s=e.get(i);s===t&&(e.set(i,s+1),n++)}if(n===0)return[]}return r[0].filter(t=>{const n=e.get(t);return n!==void 0&&e.set(t,0),n===r.length})}async function Df(r,e){const t={},n=e.length;for(let i=0;i<n;i++){const s=e[i],a=s.split(".");let o=r;const u=a.length;for(let c=0;c<u;c++)if(o=o[a[c]],typeof o=="object"){if(o!==null&&"lat"in o&&"lon"in o&&typeof o.lat=="number"&&typeof o.lon=="number"){o=t[s]=o;break}else if(!Array.isArray(o)&&o!==null&&c===u-1){o=void 0;break}}else if((o===null||typeof o!="object")&&c<u-1){o=void 0;break}typeof o<"u"&&(t[s]=o)}return t}const jf={cm:.01,m:1,km:1e3,ft:.3048,yd:.9144,mi:1609.344};function Uf(r,e){const t=jf[e];if(t===void 0)throw new Error(pe("INVALID_DISTANCE_SUFFIX",r).message);return r*t}const Lf=Jo.join(`
 - `),Mf={NO_LANGUAGE_WITH_CUSTOM_TOKENIZER:"Do not pass the language option to create when using a custom tokenizer.",LANGUAGE_NOT_SUPPORTED:`Language "%s" is not supported.
Supported languages are:
 - ${Lf}`,INVALID_STEMMER_FUNCTION_TYPE:"config.stemmer property must be a function.",MISSING_STEMMER:'As of version 1.0.0 @orama/orama does not ship non English stemmers by default. To solve this, please explicitly import and specify the "%s" stemmer from the package @orama/stemmers. See https://docs.oramasearch.com/open-source/text-analysis/stemming for more information.',CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY:"Custom stop words array must only contain strings.",UNSUPPORTED_COMPONENT:'Unsupported component "%s".',COMPONENT_MUST_BE_FUNCTION:'The component "%s" must be a function.',COMPONENT_MUST_BE_FUNCTION_OR_ARRAY_FUNCTIONS:'The component "%s" must be a function or an array of functions.',INVALID_SCHEMA_TYPE:'Unsupported schema type "%s" at "%s". Expected "string", "boolean" or "number" or array of them.',DOCUMENT_ID_MUST_BE_STRING:'Document id must be of type "string". Got "%s" instead.',DOCUMENT_ALREADY_EXISTS:'A document with id "%s" already exists.',DOCUMENT_DOES_NOT_EXIST:'A document with id "%s" does not exists.',MISSING_DOCUMENT_PROPERTY:'Missing searchable property "%s".',INVALID_DOCUMENT_PROPERTY:'Invalid document property "%s": expected "%s", got "%s"',UNKNOWN_INDEX:'Invalid property name "%s". Expected a wildcard string ("*") or array containing one of the following properties: %s',INVALID_BOOST_VALUE:"Boost value must be a number greater than, or less than 0.",INVALID_FILTER_OPERATION:"You can only use one operation per filter, you requested %d.",SCHEMA_VALIDATION_FAILURE:'Cannot insert document due schema validation failure on "%s" property.',INVALID_SORT_SCHEMA_TYPE:'Unsupported sort schema type "%s" at "%s". Expected "string" or "number".',CANNOT_SORT_BY_ARRAY:'Cannot configure sort for "%s" because it is an array (%s).',UNABLE_TO_SORT_ON_UNKNOWN_FIELD:'Unable to sort on unknown field "%s". Allowed fields: %s',SORT_DISABLED:"Sort is disabled. Please read the documentation at https://docs.oramasearch for more information.",UNKNOWN_GROUP_BY_PROPERTY:'Unknown groupBy property "%s".',INVALID_GROUP_BY_PROPERTY:'Invalid groupBy property "%s". Allowed types: "%s", but given "%s".',UNKNOWN_FILTER_PROPERTY:'Unknown filter property "%s".',INVALID_VECTOR_SIZE:'Vector size must be a number greater than 0. Got "%s" instead.',INVALID_VECTOR_VALUE:'Vector value must be a number greater than 0. Got "%s" instead.',INVALID_INPUT_VECTOR:`Property "%s" was declared as a %s-dimensional vector, but got a %s-dimensional vector instead.
Input vectors must be of the size declared in the schema, as calculating similarity between vectors of different sizes can lead to unexpected results.`,WRONG_SEARCH_PROPERTY_TYPE:'Property "%s" is not searchable. Only "string" properties are searchable.',FACET_NOT_SUPPORTED:`Facet doens't support the type "%s".`,INVALID_DISTANCE_SUFFIX:'Invalid distance suffix "%s". Valid suffixes are: cm, m, km, mi, yd, ft.'};function pe(r,...e){const t=new Error(Rf(Mf[r]??`Unsupported Orama Error code: ${r}`,...e));return t.code=r,"captureStackTrace"in Error.prototype&&Error.captureStackTrace(t),t}async function $f(r){return{raw:Number(r),formatted:await Xo(r)}}async function zf(r){if(r.id){if(typeof r.id!="string")throw pe("DOCUMENT_ID_MUST_BE_STRING",typeof r.id);return r.id}return await Qo()}async function tu(r,e){for(const[t,n]of Object.entries(e)){const i=r[t];if(!(typeof i>"u")&&!(n==="geopoint"&&typeof i=="object"&&typeof i.lon=="number"&&typeof i.lat=="number")&&!(n==="enum"&&(typeof i=="string"||typeof i=="number"))){if(n==="enum[]"&&Array.isArray(i)){const s=i.length;for(let a=0;a<s;a++)if(typeof i[a]!="string"&&typeof i[a]!="number")return t+"."+a;continue}if(rr(n)){const s=ru(n);if(!Array.isArray(i)||i.length!==s)throw pe("INVALID_INPUT_VECTOR",t,s,i.length);continue}if(Zn(n)){if(!Array.isArray(i))return t;const s=ws(n),a=i.length;for(let o=0;o<a;o++)if(typeof i[o]!==s)return t+"."+o;continue}if(typeof n=="object"){if(!i||typeof i!="object")return t;const s=await tu(i,n);if(s)return t+"."+s;continue}if(typeof i!==n)return t}}}const Bf={string:!1,number:!1,boolean:!1,enum:!1,geopoint:!1,"string[]":!0,"number[]":!0,"boolean[]":!0,"enum[]":!0},Zf={"string[]":"string","number[]":"number","boolean[]":"boolean","enum[]":"enum"};function Vf(r){return r==="geopoint"}function rr(r){return typeof r=="string"&&/^vector\[\d+\]$/.test(r)}function Zn(r){return typeof r=="string"&&Bf[r]}function ws(r){return Zf[r]}function ru(r){const e=Number(r.slice(7,-1));switch(!0){case isNaN(e):throw pe("INVALID_VECTOR_VALUE",r);case e<=0:throw pe("INVALID_VECTOR_SIZE",r);default:return e}}function Ff(){return{idToInternalId:new Map,internalIdToId:[],save:Kf,load:qf}}function Kf(r){return{internalIdToId:r.internalIdToId}}function qf(r,e){const{internalIdToId:t}=e;r.internalDocumentIDStore.idToInternalId.clear(),r.internalDocumentIDStore.internalIdToId=[];for(let n=0;n<t.length;n++)r.internalDocumentIDStore.idToInternalId.set(t[n],n+1),r.internalDocumentIDStore.internalIdToId.push(t[n])}function Me(r,e){if(typeof e=="string"){const t=r.idToInternalId.get(e);if(t)return t;const n=r.idToInternalId.size+1;return r.idToInternalId.set(e,n),r.internalIdToId.push(e),n}return e>r.internalIdToId.length?Me(r,e.toString()):e}async function Hf(r,e){return{sharedInternalDocumentStore:e,docs:{},count:0}}async function Wf(r,e){const t=Me(r.sharedInternalDocumentStore,e);return r.docs[t]}async function Gf(r,e){const t=Array.from({length:e.length});for(let n=0;n<e.length;n++){const i=Me(r.sharedInternalDocumentStore,e[n]);t[n]=r.docs[i]}return t}async function Yf(r){return r.docs}async function Jf(r,e,t){const n=Me(r.sharedInternalDocumentStore,e);return typeof r.docs[n]<"u"?!1:(r.docs[n]=t,r.count++,!0)}async function Xf(r,e){const t=Me(r.sharedInternalDocumentStore,e);return typeof r.docs[t]>"u"?!1:(delete r.docs[t],r.count--,!0)}async function Qf(r){return r.count}async function eh(r,e){const t=e;return{docs:t.docs,count:t.count,sharedInternalDocumentStore:r}}async function th(r){return{docs:r.docs,count:r.count}}async function rh(){return{create:Hf,get:Wf,getMultiple:Gf,getAll:Yf,store:Jf,remove:Xf,count:Qf,load:eh,save:th}}const nh=["beforeInsert","afterInsert","beforeRemove","afterRemove","beforeUpdate","afterUpdate","beforeSearch","afterSearch","beforeInsertMultiple","afterInsertMultiple","beforeRemoveMultiple","afterRemoveMultiple","beforeUpdateMultiple","afterUpdateMultiple","beforeLoad","afterLoad"];function ih(r,e){var t;const n=[],i=(t=r.plugins)===null||t===void 0?void 0:t.length;if(!i)return n;for(let s=0;s<i;s++){const a=r.plugins[s];typeof a[e]=="function"&&n.push(a[e])}return n}const sh=["tokenizer","index","documentsStore","sorter"],ua=["validateSchema","getDocumentIndexId","getDocumentProperties","formatElapsedTime"];async function ca(r,e,t,n){const i=r.length;for(let s=0;s<i;s++)await r[s](e,t,n)}async function nu(r,e,t){const n=r.length;for(let i=0;i<n;i++)await r[i](e,t)}const la={UNBALANCED_RIGHT:-2,SLIGHTLY_UNBALANCED_RIGHT:-1,BALANCED:0,SLIGHTLY_UNBALANCED_LEFT:1,UNBALANCED_LEFT:2};function ut(r){return r!=null?r.h:-1}function da(r){const e=r.r;return r.r=e.l,e.l=r,r.h=Math.max(ut(r.l),ut(r.r))+1,e.h=Math.max(ut(e.l),ut(e.r))+1,e}function fa(r){const e=r.l;return r.l=e.r,e.r=r,r.h=Math.max(ut(r.l),ut(r.r))+1,e.h=Math.max(ut(e.l),ut(e.r))+1,e}function ah(r,e,t){if(!r)return[];const n=[];function i(s){s&&(s.k>e&&i(s.l),s.k>=e&&s.k<=t&&ze(n,s.v),s.k<t&&i(s.r))}return i(r),n}function ha(r,e,t=!1){if(!r)return[];const n=[];function i(s){s&&(t&&s.k>=e&&ze(n,s.v),!t&&s.k>e&&ze(n,s.v),i(s.l),i(s.r))}return i(r),n}function pa(r,e,t=!1){if(!r)return[];const n=[];function i(s){s&&(t&&s.k<=e&&ze(n,s.v),!t&&s.k<e&&ze(n,s.v),i(s.l),i(s.r))}return i(r),n}function iu(r,e){for(;r!==null;)if(e<r.k)r=r.l;else if(e>r.k)r=r.r;else return r;return null}function su(r,e){return{k:r,v:e,l:null,r:null,h:0}}function oh(r,e,t){let n=null,i=r;for(;i!==null;)if(n=i,e<i.k)i=i.l;else if(e>i.k)i=i.r;else return i.v=i.v.concat(t),r;const s=su(e,t);for(n==null?r=s:e<n.k?n.l=s:n.r=s,i=s;n!=null;){const a=ut(n.l)-ut(n.r);if(a===la.UNBALANCED_LEFT&&(e>n.l.k&&(n.l=da(n.l)),n=fa(n)),a===la.UNBALANCED_RIGHT&&(e<n.r.k&&(n.r=fa(n.r)),n=da(n)),n===r)break;i=n,n=uh(r,i.k)}return r}function uh(r,e){let t=r,n=null;for(;t!==null;)if(e<t.k)n=t,t=t.l;else if(e>t.k)n=t,t=t.r;else break;return n}function ch(r,e){const t=iu(r,e);return t==null?null:t.v}function lh(r,e){let t=r,n=null;for(;t!=null&&t.k!==e;)n=t,e<t.k?t=t.l:t=t.r;if(t==null)return null;if(t.l==null&&t.r==null)n==null?r=null:n.l===t?n.l=null:n.r=null;else if(t.l!=null&&t.r!=null){let i=t.r,s=t;for(;i.l!=null;)s=i,i=i.l;t.k=i.k,s===t?s.r=i.r:s.l=i.r}else{const i=t.l!=null?t.l:t.r;n==null?r=i:n.l===t?n.l=i:n.r=i}return r}function dh(r,e,t){const n=iu(r,t);if(n){if(n.v.length===1){lh(r,t);return}n.v.splice(n.v.indexOf(e),1)}}function fh(){return{numberToDocumentId:new Map}}function hh(r,e,t){return r.numberToDocumentId.has(e)?(r.numberToDocumentId.get(e).push(t),r):(r.numberToDocumentId.set(e,[t]),r)}function ph(r,e,t){var n,i;r==null||r.numberToDocumentId.set(t,((n=r==null?void 0:r.numberToDocumentId.get(t))===null||n===void 0?void 0:n.filter(s=>s!==e))??[]),((i=r==null?void 0:r.numberToDocumentId.get(t))===null||i===void 0?void 0:i.length)===0&&(r==null||r.numberToDocumentId.delete(t))}function mh(r,e){const t=Object.keys(e);if(t.length!==1)throw new Error("Invalid operation");const n=t[0];switch(n){case"eq":{const i=e[n];return r.numberToDocumentId.get(i)??[]}case"in":{const i=e[n],s=[];for(const a of i){const o=r.numberToDocumentId.get(a);o!=null&&ze(s,o)}return s}case"nin":{const i=e[n],s=[],a=r.numberToDocumentId.keys();for(const o of a){if(i.includes(o))continue;const u=r.numberToDocumentId.get(o);u!=null&&ze(s,u)}return s}}throw new Error("Invalid operation")}function gh(r,e){const t=Object.keys(e);if(t.length!==1)throw new Error("Invalid operation");const n=t[0];switch(n){case"containsAll":{const s=e[n].map(a=>r.numberToDocumentId.get(a)??[]);return eu(s)}}throw new Error("Invalid operation")}function yh(r,e,t){if(r===e)return 0;const n=r;r.length>e.length&&(r=e,e=n);let i=r.length,s=e.length;for(;i>0&&r.charCodeAt(~-i)===e.charCodeAt(~-s);)i--,s--;if(!i)return s>t?-1:s;let a=0;for(;a<i&&r.charCodeAt(a)===e.charCodeAt(a);)a++;if(i-=a,s-=a,i===0)return s>t?-1:s;const o=s-i;if(t>s)t=s;else if(o>t)return-1;let u=0;const c=[],d=[];for(;u<t;)d[u]=e.charCodeAt(a+u),c[u]=++u;for(;u<s;)d[u]=e.charCodeAt(a+u),c[u++]=t+1;const f=t-o,m=t<s;let _=0,y=t,A=0,p=0,P=0,j=0,N=0;for(u=0;u<i;u++){for(p=u,A=u+1,j=r.charCodeAt(a+u),_+=u>f?1:0,y+=y<s?1:0,N=_;N<y;N++)P=A,A=p,p=c[N],j!==d[N]&&(p<A&&(A=p),P<A&&(A=P),A++),c[N]=A;if(m&&c[u+o]>t)return-1}return A<=t?A:-1}function au(r,e,t){const n=yh(r,e,t);return{distance:n,isBounded:n>=0}}class bh{constructor(e,t,n){Ee(this,"c",{});Ee(this,"d",[]);Ee(this,"w","");this.k=e,this.s=t,this.e=n}toJSON(){return{w:this.w,s:this.s,c:this.c,d:this.d,e:this.e}}}function Zt(r,e){r.w=e.w+r.s}function qr(r,e){r.d.push(e)}function _h(r,e){const t=r.d.indexOf(e);return t===-1?!1:(r.d.splice(t,1),!0)}function ou(r,e,t,n,i){if(r.e){const{w:s,d:a}=r;if(n&&s!==t)return{};if(Bi(e,s)==null&&(i?Math.abs(t.length-s.length)<=i&&au(t,s,i).isBounded&&(e[s]=[]):e[s]=[]),Bi(e,s)!=null&&a.length>0){const o=new Set(e[s]),u=a.length;for(let c=0;c<u;c++)o.add(a[c]);e[s]=Array.from(o)}}for(const s of Object.keys(r.c))ou(r.c[s],e,t,n,i);return e}function uu(r,e){let t="";const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){if(r[i]!==e[i])return t;t+=r[i]}return t}function Ht(r=!1,e="",t=""){return new bh(t,e,r)}function vh(r,e,t){for(let n=0;n<e.length;n++){const i=e[n],s=e.substring(n),a=r.c[i];if(a){const o=a.s,u=o.length,c=uu(o,s),d=c.length;if(o===s){qr(a,t),a.e=!0;return}const f=o[d];if(d<u&&d===s.length){const m=Ht(!0,s,i);m.c[f]=a;const _=m.c[f];_.s=o.substring(d),_.k=f,r.c[i]=m,Zt(m,r),Zt(_,m),qr(m,t);return}if(d<u&&d<s.length){const m=Ht(!1,c,i);m.c[f]=a,r.c[i]=m;const _=m.c[f];_.s=o.substring(d),_.k=f;const y=s[d],A=Ht(!0,e.substring(n+d),y);qr(A,t),m.c[y]=A,Zt(m,r),Zt(A,m),Zt(_,m);return}n+=u-1,r=a}else{const o=Ht(!0,s,i);qr(o,t),r.c[i]=o,Zt(o,r);return}}}function vr(r,e,t,n,i,s){if(!(n<0)){if(r.e){const{w:a,d:o}=r;if(a&&(Math.abs(e.length-a.length)<=i&&au(e,a,i).isBounded&&(s[a]=[]),Bi(s,a)!=null&&o.length>0)){const c=new Set(s[a]),d=o.length;for(let f=0;f<d;f++)c.add(o[f]);s[a]=Array.from(c)}}if(!(t>=e.length)){e[t]in r.c&&vr(r.c[e[t]],e,t+1,n,i,s),vr(r,e,t+1,n-1,i,s);for(const a in r.c)vr(r.c[a],e,t,n-1,i,s);for(const a in r.c)a!==e[t]&&vr(r.c[a],e,t+1,n-1,i,s)}}}function cu(r,{term:e,exact:t,tolerance:n}){if(n&&!t){const i={};return n=n||0,vr(r,e,0,n||0,n,i),i}else{for(let s=0;s<e.length;s++){const a=e[s];if(a in r.c){const o=r.c[a],u=o.s,c=e.substring(s),f=uu(u,c).length;if(f!==u.length&&f!==c.length){if(n)break;return{}}s+=o.s.length-1,r=o}else return{}}const i={};return ou(r,i,e,t,n),i}}function wh(r,e,t,n=!0){if(!e)return!0;for(let i=0;i<e.length;i++){const s=e[i];if(s in r.c){const a=r.c[s];i+=a.s.length-1,r=a,n&&r.w!==e||_h(r,t)}else return!1}return!0}const lu=2,Ih=6371e3;function Ah(){return{root:null}}function Eh(r,e,t){const n={point:e,docIDs:t};if(r.root==null){r.root=n;return}let i=r.root,s=0;for(;i!==null;){if(i.point.lon===e.lon&&i.point.lat===e.lat){const o=i.docIDs??[];i.docIDs=Array.from(new Set([...o,...t||[]]));return}if(s%lu===0)if(e.lon<i.point.lon){if(i.left==null){i.left=n;return}i=i.left}else{if(i.right==null){i.right=n;return}i=i.right}else if(e.lat<i.point.lat){if(i.left==null){i.left=n;return}i=i.left}else{if(i.right==null){i.right=n;return}i=i.right}s++}}function Th(r,e,t){let n=r.root,i=0,s=null,a=null;for(;n!==null;){if((n==null?void 0:n.point.lon)===e.lon&&n.point.lat===e.lat){var o;const d=(o=n.docIDs)===null||o===void 0?void 0:o.indexOf(t);if(d!==void 0&&d>-1){var u;(u=n.docIDs)===null||u===void 0||u.splice(d,1),(n.docIDs==null||n.docIDs.length===0)&&(s!=null?a==="left"?s.left=n.left!==null?n.left:n.right:a==="right"&&(s.right=n.right!==null?n.right:n.left):r.root=n.left!==null?n.left:n.right);return}}const c=i%lu;s=n,c===0?e.lon<n.point.lon?(n=n==null?void 0:n.left,a="left"):(n=n==null?void 0:n.right,a="right"):e.lat<n.point.lat?(n=n==null?void 0:n.left,a="left"):(n=n==null?void 0:n.right,a="right"),i++}}function Ph(r,e,t,n=!0,i="asc",s=!1){const a=s?fu:du,o=[{node:r,depth:0}],u=[];for(;o.length>0;){const{node:c,depth:d}=o.pop();if(c===null)continue;const f=a(e,c.point);(n?f<=t:f>t)&&u.push({point:c.point,docIDs:c.docIDs??[]}),c.left!=null&&o.push({node:c.left,depth:d+1}),c.right!=null&&o.push({node:c.right,depth:d+1})}return i&&u.sort((c,d)=>{const f=a(e,c.point),m=a(e,d.point);return i.toLowerCase()==="asc"?f-m:m-f}),u}function Oh(r,e,t=!0,n=null,i=!1){const s=[{node:r,depth:0}],a=[];for(;s.length>0;){const u=s.pop();if(u==null||u.node==null)continue;const{node:c,depth:d}=u,f=d+1;c.left!=null&&s.push({node:c.left,depth:f}),c.right!=null&&s.push({node:c.right,depth:f});const m=Sh(e,c.point);m&&t?a.push({point:c.point,docIDs:c.docIDs??[]}):!m&&!t&&a.push({point:c.point,docIDs:c.docIDs??[]})}const o=xh(e);if(n){const u=i?fu:du;a.sort((c,d)=>{const f=u(o,c.point),m=u(o,d.point);return n.toLowerCase()==="asc"?f-m:m-f})}return a}function xh(r){let e=0,t=0,n=0;for(let i=0,s=r.length-1;i<r.length;s=i++){const a=r[i].lon,o=r[i].lat,u=r[s].lon,c=r[s].lat,d=a*c-u*o;e+=d,t+=(a+u)*d,n+=(o+c)*d}return e/=2,t/=6*e,n/=6*e,{lon:t,lat:n}}function Sh(r,e){let t=!1;const n=e.lon,i=e.lat;for(let s=0,a=r.length-1;s<r.length;a=s++){const o=r[s].lon,u=r[s].lat,c=r[a].lon,d=r[a].lat;u>i!=d>i&&n<(c-o)*(i-u)/(d-u)+o&&(t=!t)}return t}function du(r,e){const t=Math.PI/180,n=r.lat*t,i=e.lat*t,s=(e.lat-r.lat)*t,a=(e.lon-r.lon)*t,o=Math.sin(s/2)*Math.sin(s/2)+Math.cos(n)*Math.cos(i)*Math.sin(a/2)*Math.sin(a/2),u=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return Ih*u}function fu(r,e){const n=.0033528106647474805,i=(1-n)*6378137,s=Math.PI/180,a=r.lat*s,o=e.lat*s,u=(e.lon-r.lon)*s,c=Math.atan((1-n)*Math.tan(a)),d=Math.atan((1-n)*Math.tan(o)),f=Math.sin(c),m=Math.cos(c),_=Math.sin(d),y=Math.cos(d);let A=u,p,P=1e3,j,N,D,$,x;do{const U=Math.sin(A),q=Math.cos(A);D=Math.sqrt(y*U*(y*U)+(m*_-f*y*q)*(m*_-f*y*q)),$=f*_+m*y*q,x=Math.atan2(D,$),j=m*y*U/D,N=1-j*j;const G=$-2*f*_/N,J=n/16*N*(4+n*(4-3*N));p=A,A=u+(1-J)*n*j*(x+J*D*(G+J*$*(-1+2*G*G)))}while(Math.abs(A-p)>1e-12&&--P>0);const R=N*(6378137*6378137-i*i)/(i*i),w=1+R/16384*(4096+R*(-768+R*(320-175*R))),I=R/1024*(256+R*(-128+R*(74-47*R))),v=I*D*($-2*f*_/N+I/4*($*(-1+2*D*D)-I/6*x*(-3+4*D*D)*(-3+4*x*x)));return i*w*(x-v)}function Ch(r,e,t,n,i,s){const{k:a,b:o,d:u}=s;return Math.log(1+(t-e+.5)/(e+.5))*(u+r*(a+1))/(r+a*(1-o+o*n/i))}function hu(r,e){let t=0;for(let n=0;n<e;n++)t+=r[n]*r[n];return Math.sqrt(t)}function kh(r,e,t,n=.8){const i=hu(r,t),s=[];for(const[a,[o,u]]of Object.entries(e)){let c=0;for(let f=0;f<t;f++)c+=r[f]*u[f];const d=c/(i*o);d>=n&&s.push({id:a,score:d})}return s.sort((a,o)=>o.score-a.score)}async function Nh(r,e,t,n,i){const s=Me(r.sharedInternalDocumentStore,t);r.avgFieldLength[e]=((r.avgFieldLength[e]??0)*(i-1)+n.length)/i,r.fieldLengths[e][s]=n.length,r.frequencies[e][s]={}}async function Rh(r,e,t,n,i){let s=0;for(const u of n)u===i&&s++;const a=Me(r.sharedInternalDocumentStore,t),o=s/n.length;r.frequencies[e][a][i]=o,i in r.tokenOccurrences[e]||(r.tokenOccurrences[e][i]=0),r.tokenOccurrences[e][i]=(r.tokenOccurrences[e][i]??0)+1}async function Dh(r,e,t,n){const i=Me(r.sharedInternalDocumentStore,t);r.avgFieldLength[e]=(r.avgFieldLength[e]*n-r.fieldLengths[e][i])/(n-1),r.fieldLengths[e][i]=void 0,r.frequencies[e][i]=void 0}async function jh(r,e,t){r.tokenOccurrences[e][t]--}async function Uh(r,e,t,n,i){const s=Array.from(i),a=e.avgFieldLength[t],o=e.fieldLengths[t],u=e.tokenOccurrences[t],c=e.frequencies[t],d=typeof u[n]=="number"?u[n]??0:0,f=[],m=s.length;for(let y=0;y<m;y++){var _;const A=Me(e.sharedInternalDocumentStore,s[y]),p=(c==null||(_=c[A])===null||_===void 0?void 0:_[n])??0,P=Ch(p,d,r.docsCount,o[A],a,r.params.relevance);f.push([A,P])}return f}async function pu(r,e,t,n,i=""){n||(n={sharedInternalDocumentStore:e,indexes:{},vectorIndexes:{},searchableProperties:[],searchablePropertiesWithTypes:{},frequencies:{},tokenOccurrences:{},avgFieldLength:{},fieldLengths:{}});for(const[s,a]of Object.entries(t)){const o=`${i}${i?".":""}${s}`;if(typeof a=="object"&&!Array.isArray(a)){pu(r,e,a,n,o);continue}if(rr(a))n.searchableProperties.push(o),n.searchablePropertiesWithTypes[o]=a,n.vectorIndexes[o]={size:ru(a),vectors:{}};else{const u=/\[/.test(a);switch(a){case"boolean":case"boolean[]":n.indexes[o]={type:"Bool",node:{true:[],false:[]},isArray:u};break;case"number":case"number[]":n.indexes[o]={type:"AVL",node:su(0,[]),isArray:u};break;case"string":case"string[]":n.indexes[o]={type:"Radix",node:Ht(),isArray:u},n.avgFieldLength[o]=0,n.frequencies[o]={},n.tokenOccurrences[o]={},n.fieldLengths[o]={};break;case"enum":case"enum[]":n.indexes[o]={type:"Flat",node:fh(),isArray:u};break;case"geopoint":n.indexes[o]={type:"BKD",node:Ah(),isArray:u};break;default:throw pe("INVALID_SCHEMA_TYPE",Array.isArray(a)?"array":a,o)}n.searchableProperties.push(o),n.searchablePropertiesWithTypes[o]=a}}return n}async function ma(r,e,t,n,i,s,a,o,u){const c=Me(e.sharedInternalDocumentStore,n),{type:d,node:f}=e.indexes[t];switch(d){case"Bool":{f[i?"true":"false"].push(c);break}case"AVL":{oh(f,i,[c]);break}case"Radix":{const m=await o.tokenize(i,a,t);await r.insertDocumentScoreParameters(e,t,c,m,u);for(const _ of m)await r.insertTokenScoreParameters(e,t,c,m,_),vh(f,_,c);break}case"Flat":{hh(f,i,c);break}case"BKD":{Eh(f,i,[c]);break}}}async function Lh(r,e,t,n,i,s,a,o,u){if(rr(s))return Mh(e,t,i,n);if(!Zn(s))return ma(r,e,t,n,i,s,a,o,u);const c=ws(s),d=i,f=d.length;for(let m=0;m<f;m++)await ma(r,e,t,n,d[m],c,a,o,u)}function Mh(r,e,t,n){t instanceof Float32Array||(t=new Float32Array(t));const i=r.vectorIndexes[e].size,s=hu(t,i);r.vectorIndexes[e].vectors[n]=[s,t]}async function ga(r,e,t,n,i,s,a,o,u){const c=Me(e.sharedInternalDocumentStore,n);if(rr(s))return delete e.vectorIndexes[t].vectors[n],!0;const{type:d,node:f}=e.indexes[t];switch(d){case"AVL":return dh(f,c,i),!0;case"Bool":{const _=f[i?"true":"false"].indexOf(c);return f[i?"true":"false"].splice(_,1),!0}case"Radix":{const m=await o.tokenize(i,a,t);await r.removeDocumentScoreParameters(e,t,n,u);for(const _ of m)await r.removeTokenScoreParameters(e,t,_),wh(f,_,c);return!0}case"Flat":return ph(f,c,i),!0;case"BKD":return Th(f,i,c),!1}}async function $h(r,e,t,n,i,s,a,o,u){if(!Zn(s))return ga(r,e,t,n,i,s,a,o,u);const c=ws(s),d=i,f=d.length;for(let m=0;m<f;m++)await ga(r,e,t,n,d[m],c,a,o,u);return!0}async function zh(r,e,t,n){if(!(t in e.tokenOccurrences))return[];const{node:i,type:s}=e.indexes[t];if(s!=="Radix")throw pe("WRONG_SEARCH_PROPERTY_TYPE",t);const{exact:a,tolerance:o}=r.params,u=cu(i,{term:n,exact:a,tolerance:o}),c=new Set;for(const d in u)for(const f of u[d])c.add(f);return r.index.calculateResultScores(r,e,t,n,Array.from(c))}async function Bh(r,e,t){const n=Object.keys(t),i=n.reduce((a,o)=>({[o]:[],...a}),{});for(const a of n){const o=t[a];if(typeof e.indexes[a]>"u")throw pe("UNKNOWN_FILTER_PROPERTY",a);const{node:u,type:c,isArray:d}=e.indexes[a];if(c==="Bool"){const _=u[o.toString()];ze(i[a],_);continue}if(c==="BKD"){let m;if("radius"in o)m="radius";else if("polygon"in o)m="polygon";else throw new Error(`Invalid operation ${o}`);if(m==="radius"){const{value:_,coordinates:y,unit:A="m",inside:p=!0,highPrecision:P=!1}=o[m],j=Uf(_,A),N=Ph(u.root,y,j,p,void 0,P);ze(i[a],N.map(({docIDs:D})=>D).flat())}else{const{coordinates:_,inside:y=!0,highPrecision:A=!1}=o[m],p=Oh(u.root,_,y,void 0,A);ze(i[a],p.map(({docIDs:P})=>P).flat())}continue}if(c==="Radix"&&(typeof o=="string"||Array.isArray(o))){for(const m of[o].flat()){const _=await r.tokenizer.tokenize(m,r.language,a);for(const y of _){const A=cu(u,{term:y,exact:!0});ze(i[a],Object.values(A).flat())}}continue}const f=Object.keys(o);if(f.length>1)throw pe("INVALID_FILTER_OPERATION",f.length);if(c==="Flat"){d?ze(i[a],gh(u,o)):ze(i[a],mh(u,o));continue}if(c==="AVL"){const m=f[0],_=o[m];let y=[];switch(m){case"gt":{y=ha(u,_,!1);break}case"gte":{y=ha(u,_,!0);break}case"lt":{y=pa(u,_,!1);break}case"lte":{y=pa(u,_,!0);break}case"eq":{y=ch(u,_)??[];break}case"between":{const[A,p]=_;y=ah(u,A,p);break}}ze(i[a],y)}}return eu(Object.values(i))}async function Zh(r){return r.searchableProperties}async function Vh(r){return r.searchablePropertiesWithTypes}function mu(r){const e=Ht(r.e,r.s,r.k);e.d=r.d,e.w=r.w;for(const t of Object.keys(r.c))e.c[t]=mu(r.c[t]);return e}function Fh(r){return{numberToDocumentId:new Map(r)}}function Kh(r){return Array.from(r.numberToDocumentId.entries())}async function qh(r,e){const{indexes:t,vectorIndexes:n,searchableProperties:i,searchablePropertiesWithTypes:s,frequencies:a,tokenOccurrences:o,avgFieldLength:u,fieldLengths:c}=e,d={},f={};for(const m of Object.keys(t)){const{node:_,type:y,isArray:A}=t[m];switch(y){case"Radix":d[m]={type:"Radix",node:mu(_),isArray:A};break;case"Flat":d[m]={type:"Flat",node:Fh(_),isArray:A};break;default:d[m]=t[m]}}for(const m of Object.keys(n)){const _=n[m].vectors;for(const y in _)_[y]=[_[y][0],new Float32Array(_[y][1])];f[m]={size:n[m].size,vectors:_}}return{sharedInternalDocumentStore:r,indexes:d,vectorIndexes:f,searchableProperties:i,searchablePropertiesWithTypes:s,frequencies:a,tokenOccurrences:o,avgFieldLength:u,fieldLengths:c}}async function Hh(r){const{indexes:e,vectorIndexes:t,searchableProperties:n,searchablePropertiesWithTypes:i,frequencies:s,tokenOccurrences:a,avgFieldLength:o,fieldLengths:u}=r,c={};for(const f of Object.keys(t)){const m=t[f].vectors;for(const _ in m)m[_]=[m[_][0],Array.from(m[_][1])];c[f]={size:t[f].size,vectors:m}}const d={};for(const f of Object.keys(e)){const{type:m,node:_,isArray:y}=e[f];if(m!=="Flat"){d[f]=e[f];continue}d[f]={type:"Flat",node:Kh(_),isArray:y}}return{indexes:d,vectorIndexes:c,searchableProperties:n,searchablePropertiesWithTypes:i,frequencies:s,tokenOccurrences:a,avgFieldLength:o,fieldLengths:u}}async function Wh(){return{create:pu,insert:Lh,remove:$h,insertDocumentScoreParameters:Nh,insertTokenScoreParameters:Rh,removeDocumentScoreParameters:Dh,removeTokenScoreParameters:jh,calculateResultScores:Uh,search:zh,searchByWhereClause:Bh,getSearchableProperties:Zh,getSearchablePropertiesWithTypes:Vh,load:qh,save:Hh}}function gu(r,e,t,n,i){const s={language:r.tokenizer.language,sharedInternalDocumentStore:e,enabled:!0,isSorted:!0,sortableProperties:[],sortablePropertiesWithTypes:{},sorts:{}};for(const[a,o]of Object.entries(t)){const u=`${i}${i?".":""}${a}`;if(!n.includes(u)){if(typeof o=="object"&&!Array.isArray(o)){const c=gu(r,e,o,n,u);ze(s.sortableProperties,c.sortableProperties),s.sorts={...s.sorts,...c.sorts},s.sortablePropertiesWithTypes={...s.sortablePropertiesWithTypes,...c.sortablePropertiesWithTypes};continue}if(!rr(o))switch(o){case"boolean":case"number":case"string":s.sortableProperties.push(u),s.sortablePropertiesWithTypes[u]=o,s.sorts[u]={docs:new Map,orderedDocsToRemove:new Map,orderedDocs:[],type:o};break;case"geopoint":case"enum":continue;case"enum[]":case"boolean[]":case"number[]":case"string[]":continue;default:throw pe("INVALID_SORT_SCHEMA_TYPE",Array.isArray(o)?"array":o,u)}}}return s}async function Gh(r,e,t,n){return(n==null?void 0:n.enabled)!==!1?gu(r,e,t,(n||{}).unsortableProperties||[],""):{disabled:!0}}async function Yh(r,e,t,n){if(!r.enabled)return;r.isSorted=!1;const i=Me(r.sharedInternalDocumentStore,t),s=r.sorts[e];s.docs.set(i,s.orderedDocs.length),s.orderedDocs.push([i,n])}function yu(r){if(r.isSorted||!r.enabled)return;const e=Object.keys(r.sorts);for(const t of e)ep(r,t);r.isSorted=!0}function Jh(r,e,t){return e[1].localeCompare(t[1],r)}function Xh(r,e){return r[1]-e[1]}function Qh(r,e){return e[1]?-1:1}function ep(r,e){const t=r.sorts[e];let n;switch(t.type){case"string":n=Jh.bind(null,r.language);break;case"number":n=Xh.bind(null);break;case"boolean":n=Qh.bind(null);break}t.orderedDocs.sort(n);const i=t.orderedDocs.length;for(let s=0;s<i;s++){const a=t.orderedDocs[s][0];t.docs.set(a,s)}}function tp(r){const e=Object.keys(r.sorts);for(const t of e)bu(r,t)}function bu(r,e){const t=r.sorts[e];t.orderedDocsToRemove.size&&(t.orderedDocs=t.orderedDocs.filter(n=>!t.orderedDocsToRemove.has(n[0])),t.orderedDocsToRemove.clear())}async function rp(r,e,t){if(!r.enabled)return;const n=r.sorts[e],i=Me(r.sharedInternalDocumentStore,t);n.docs.get(i)&&(n.docs.delete(i),n.orderedDocsToRemove.set(i,!0))}async function np(r,e,t){if(!r.enabled)throw pe("SORT_DISABLED");const n=t.property,i=t.order==="DESC",s=r.sorts[n];if(!s)throw pe("UNABLE_TO_SORT_ON_UNKNOWN_FIELD",n,r.sortableProperties.join(", "));return bu(r,n),yu(r),e.sort((a,o)=>{const u=s.docs.get(Me(r.sharedInternalDocumentStore,a[0])),c=s.docs.get(Me(r.sharedInternalDocumentStore,o[0])),d=typeof u<"u",f=typeof c<"u";return!d&&!f?0:d?f?i?c-u:u-c:-1:1}),e}async function ip(r){return r.enabled?r.sortableProperties:[]}async function sp(r){return r.enabled?r.sortablePropertiesWithTypes:{}}async function ap(r,e){const t=e;if(!t.enabled)return{enabled:!1};const n=Object.keys(t.sorts).reduce((i,s)=>{const{docs:a,orderedDocs:o,type:u}=t.sorts[s];return i[s]={docs:new Map(Object.entries(a).map(([c,d])=>[+c,d])),orderedDocsToRemove:new Map,orderedDocs:o,type:u},i},{});return{sharedInternalDocumentStore:r,language:t.language,sortableProperties:t.sortableProperties,sortablePropertiesWithTypes:t.sortablePropertiesWithTypes,sorts:n,enabled:!0,isSorted:t.isSorted}}async function op(r){if(!r.enabled)return{enabled:!1};tp(r),yu(r);const e=Object.keys(r.sorts).reduce((t,n)=>{const{docs:i,orderedDocs:s,type:a}=r.sorts[n];return t[n]={docs:Object.fromEntries(i.entries()),orderedDocs:s,type:a},t},{});return{language:r.language,sortableProperties:r.sortableProperties,sortablePropertiesWithTypes:r.sortablePropertiesWithTypes,sorts:e,enabled:r.enabled,isSorted:r.isSorted}}async function up(){return{create:Gh,insert:Yh,remove:rp,save:op,load:ap,sortBy:np,getSortableProperties:ip,getSortablePropertiesWithTypes:sp}}const ya=192,cp=383,lp=[65,65,65,65,65,65,65,67,69,69,69,69,73,73,73,73,69,78,79,79,79,79,79,null,79,85,85,85,85,89,80,115,97,97,97,97,97,97,97,99,101,101,101,101,105,105,105,105,101,110,111,111,111,111,111,null,111,117,117,117,117,121,112,121,65,97,65,97,65,97,67,99,67,99,67,99,67,99,68,100,68,100,69,101,69,101,69,101,69,101,69,101,71,103,71,103,71,103,71,103,72,104,72,104,73,105,73,105,73,105,73,105,73,105,73,105,74,106,75,107,107,76,108,76,108,76,108,76,108,76,108,78,110,78,110,78,110,110,78,110,79,111,79,111,79,111,79,111,82,114,82,114,82,114,83,115,83,115,83,115,83,115,84,116,84,116,84,116,85,117,85,117,85,117,85,117,85,117,85,117,87,119,89,121,89,90,122,90,122,90,122,115];function dp(r){return r<ya||r>cp?r:lp[r-ya]||r}function fp(r){const e=[];for(let t=0;t<r.length;t++)e[t]=dp(r.charCodeAt(t));return String.fromCharCode(...e)}const hp={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},pp={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},mp="[^aeiou]",Pn="[aeiouy]",ct=mp+"[^aeiouy]*",Cr=Pn+"[aeiou]*",bi="^("+ct+")?"+Cr+ct,gp="^("+ct+")?"+Cr+ct+"("+Cr+")?$",Hr="^("+ct+")?"+Cr+ct+Cr+ct,ba="^("+ct+")?"+Pn;function yp(r){let e,t,n,i,s,a;if(r.length<3)return r;const o=r.substring(0,1);if(o=="y"&&(r=o.toUpperCase()+r.substring(1)),n=/^(.+?)(ss|i)es$/,i=/^(.+?)([^s])s$/,n.test(r)?r=r.replace(n,"$1$2"):i.test(r)&&(r=r.replace(i,"$1$2")),n=/^(.+?)eed$/,i=/^(.+?)(ed|ing)$/,n.test(r)){const u=n.exec(r);n=new RegExp(bi),n.test(u[1])&&(n=/.$/,r=r.replace(n,""))}else i.test(r)&&(e=i.exec(r)[1],i=new RegExp(ba),i.test(e)&&(r=e,i=/(at|bl|iz)$/,s=new RegExp("([^aeiouylsz])\\1$"),a=new RegExp("^"+ct+Pn+"[^aeiouwxy]$"),i.test(r)?r=r+"e":s.test(r)?(n=/.$/,r=r.replace(n,"")):a.test(r)&&(r=r+"e")));if(n=/^(.+?)y$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],n=new RegExp(ba),e&&n.test(e)&&(r=e+"i")}if(n=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],t=u==null?void 0:u[2],n=new RegExp(bi),e&&n.test(e)&&(r=e+hp[t])}if(n=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],t=u==null?void 0:u[2],n=new RegExp(bi),e&&n.test(e)&&(r=e+pp[t])}if(n=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,i=/^(.+?)(s|t)(ion)$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],n=new RegExp(Hr),e&&n.test(e)&&(r=e)}else if(i.test(r)){const u=i.exec(r);e=(u==null?void 0:u[1])??""+(u==null?void 0:u[2])??"",i=new RegExp(Hr),i.test(e)&&(r=e)}if(n=/^(.+?)e$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],n=new RegExp(Hr),i=new RegExp(gp),s=new RegExp("^"+ct+Pn+"[^aeiouwxy]$"),e&&(n.test(e)||i.test(e)&&!s.test(e))&&(r=e)}return n=/ll$/,i=new RegExp(Hr),n.test(r)&&i.test(r)&&(n=/.$/,r=r.replace(n,"")),o=="y"&&(r=o.toLowerCase()+r.substring(1)),r}function _a(r,e){var t;const n=`${this.language}:${r}:${e}`;return this.normalizationCache.has(n)?this.normalizationCache.get(n):!((t=this.stopWords)===null||t===void 0)&&t.includes(e)?(this.normalizationCache.set(n,""),""):(this.stemmer&&!this.stemmerSkipProperties.has(r)&&(e=this.stemmer(e)),e=fp(e),this.normalizationCache.set(n,e),e)}function bp(r){for(;r[r.length-1]==="";)r.pop();for(;r[0]==="";)r.shift();return r}function va(r,e,t){if(e&&e!==this.language)throw pe("LANGUAGE_NOT_SUPPORTED",e);if(typeof r!="string")return[r];let n;if(t&&this.tokenizeSkipProperties.has(t))n=[this.normalizeToken.bind(this,t??"")(r)];else{const s=Cf[this.language];n=r.toLowerCase().split(s).map(this.normalizeToken.bind(this,t??"")).filter(Boolean)}const i=bp(n);return this.allowDuplicates?i:Array.from(new Set(i))}async function wa(r={}){if(!r.language)r.language="english";else if(!Jo.includes(r.language))throw pe("LANGUAGE_NOT_SUPPORTED",r.language);let e;if(r.stemming||r.stemmer&&!("stemming"in r))if(r.stemmer){if(typeof r.stemmer!="function")throw pe("INVALID_STEMMER_FUNCTION_TYPE");e=r.stemmer}else if(r.language==="english")e=yp;else throw pe("MISSING_STEMMER",r.language);let t;if(r.stopWords!==!1){if(t=[],Array.isArray(r.stopWords))t=r.stopWords;else if(typeof r.stopWords=="function")t=await r.stopWords(t);else if(r.stopWords)throw pe("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");if(!Array.isArray(t))throw pe("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");for(const i of t)if(typeof i!="string")throw pe("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY")}const n={tokenize:va,language:r.language,stemmer:e,stemmerSkipProperties:new Set(r.stemmerSkipProperties?[r.stemmerSkipProperties].flat():[]),tokenizeSkipProperties:new Set(r.tokenizeSkipProperties?[r.tokenizeSkipProperties].flat():[]),stopWords:t,allowDuplicates:!!r.allowDuplicates,normalizeToken:_a,normalizationCache:new Map};return n.tokenize=va.bind(n),n.normalizeToken=_a,n}function _p(r){const e={formatElapsedTime:$f,getDocumentIndexId:zf,getDocumentProperties:Df,validateSchema:tu};for(const t of ua){const n=t;if(r[n]){if(typeof r[n]!="function")throw pe("COMPONENT_MUST_BE_FUNCTION",n)}else r[n]=e[n]}for(const t of Object.keys(r))if(!sh.includes(t)&&!ua.includes(t))throw pe("UNSUPPORTED_COMPONENT",t)}async function _u({schema:r,sort:e,language:t,components:n,id:i,plugins:s}){n||(n={}),i||(i=await Qo());let a=n.tokenizer,o=n.index,u=n.documentsStore,c=n.sorter;if(a?a.tokenize?a=a:a=await wa(a):a=await wa({language:t??"english"}),n.tokenizer&&t)throw pe("NO_LANGUAGE_WITH_CUSTOM_TOKENIZER");const d=Ff();o||(o=await Wh()),c||(c=await up()),u||(u=await rh()),_p(n);const{getDocumentProperties:f,getDocumentIndexId:m,validateSchema:_,formatElapsedTime:y}=n,A={data:{},caches:{},schema:r,tokenizer:a,index:o,sorter:c,documentsStore:u,internalDocumentIDStore:d,getDocumentProperties:f,getDocumentIndexId:m,validateSchema:_,beforeInsert:[],afterInsert:[],beforeRemove:[],afterRemove:[],beforeUpdate:[],afterUpdate:[],beforeSearch:[],afterSearch:[],beforeInsertMultiple:[],afterInsertMultiple:[],beforeRemoveMultiple:[],afterRemoveMultiple:[],afterUpdateMultiple:[],beforeUpdateMultiple:[],formatElapsedTime:y,id:i,plugins:s};A.data={index:await A.index.create(A,d,r),docs:await A.documentsStore.create(A,d),sorting:await A.sorter.create(A,d,r,e)};for(const p of nh)A[p]=(A[p]??[]).concat(ih(A,p));return A}const Tt=Symbol("orama.insertions");var _i;const vp=((_i=globalThis.process)===null||_i===void 0?void 0:_i.emitWarning)??function(e,t){console.warn(`[WARNING] [${t.code}] ${e}`)};function wp(r){typeof r[Tt]!="number"&&(queueMicrotask(()=>{r[Tt]=void 0}),r[Tt]=0),r[Tt]>1e3?(vp("Orama's insert operation is synchronous. Please avoid inserting a large number of document in a single operation in order not to block the main thread or, in alternative, please use insertMultiple.",{code:"ORAMA0001"}),r[Tt]=-1):r[Tt]>=0&&r[Tt]++}async function Ip(r,e,t,n){const i=await r.validateSchema(e,r.schema);if(i)throw pe("SCHEMA_VALIDATION_FAILURE",i);return Ap(r,e,t,n)}async function Ap(r,e,t,n){const{index:i,docs:s}=r.data,a=await r.getDocumentIndexId(e);if(typeof a!="string")throw pe("DOCUMENT_ID_MUST_BE_STRING",typeof a);if(!await r.documentsStore.store(s,a,e))throw pe("DOCUMENT_ALREADY_EXISTS",a);const o=await r.documentsStore.count(s);n||await ca(r.beforeInsert,r,a,e);const u=await r.index.getSearchableProperties(i),c=await r.index.getSearchablePropertiesWithTypes(i),d=await r.getDocumentProperties(e,u);for(const[j,N]of Object.entries(d)){if(typeof N>"u")continue;const D=typeof N,$=c[j];if(!(Vf($)&&typeof N=="object"&&typeof N.lon=="number"&&typeof N.lat=="number")&&!(rr($)&&Array.isArray(N))&&!(Zn($)&&Array.isArray(N))&&!(($==="enum"||$==="enum[]")&&(D==="string"||D==="number"))&&D!==$)throw pe("INVALID_DOCUMENT_PROPERTY",j,$,D)}for(const j of u){var f,m,_,y;const N=d[j];if(typeof N>"u")continue;const D=c[j];await((m=(f=r.index).beforeInsert)===null||m===void 0?void 0:m.call(f,r.data.index,j,a,N,D,t,r.tokenizer,o)),await r.index.insert(r.index,r.data.index,j,a,N,D,t,r.tokenizer,o),await((y=(_=r.index).afterInsert)===null||y===void 0?void 0:y.call(_,r.data.index,j,a,N,D,t,r.tokenizer,o))}const A=await r.sorter.getSortableProperties(r.data.sorting),p=await r.sorter.getSortablePropertiesWithTypes(r.data.sorting),P=await r.getDocumentProperties(e,A);for(const j of A){const N=P[j];if(typeof N>"u")continue;const D=p[j];await r.sorter.insert(r.data.sorting,j,a,N,D,t)}return n||await ca(r.afterInsert,r,a,e),wp(r),a}async function Ep(r,e,t,n,i,s){i||await nu(r.beforeInsertMultiple,r,e);const a=e.length;for(let o=0;o<a;o++){const u=await r.validateSchema(e[o],r.schema);if(u)throw pe("SCHEMA_VALIDATION_FAILURE",u)}return Tp(r,e,t,n,i,s)}async function Tp(r,e,t,n,i,s){t||(t=1e3),s=s||0;const a=[];return await new Promise((o,u)=>{let c=0;async function d(){const f=e.slice(c*t,(c+1)*t);if(c++,!f.length)return o();for(const m of f)try{const _=await Ip(r,m,n,i);a.push(_)}catch(_){u(_)}setTimeout(d,s)}setTimeout(d,s)}),i||await nu(r.afterInsertMultiple,r,e),a}async function Pp(r,e){const t=await oa();let{vector:n}=e;const{property:i,limit:s=10,offset:a=0,includeVectors:o=!1}=e,u=r.data.index.vectorIndexes[i],c=u.size,d=u.vectors;if(n.length!==c)throw pe("INVALID_INPUT_VECTOR",i,c,n.length);n instanceof Float32Array||(n=new Float32Array(n));const f=kh(n,d,c,e.similarity),m=Array.from({length:s});for(let A=0;A<s;A++){const p=f[A+a];if(!p)break;const P=Me(r.internalDocumentIDStore,p.id),j=r.data.docs.docs[P];if(j){o||(j[i]=null);const N={id:p.id,score:p.score,document:j};m[A]=N}}const y=await oa()-t;return{count:f.length,hits:m.filter(Boolean),elapsed:{raw:Number(y),formatted:await Xo(y)}}}async function Op(r,e){r.internalDocumentIDStore.load(r,e.internalDocumentIDStore),r.data.index=await r.index.load(r.internalDocumentIDStore,e.index),r.data.docs=await r.documentsStore.load(r.internalDocumentIDStore,e.docs),r.data.sorting=await r.sorter.load(r.internalDocumentIDStore,e.sorting),r.tokenizer.language=e.language}async function xp(r){return{internalDocumentIDStore:r.internalDocumentIDStore.save(r.internalDocumentIDStore),index:await r.index.save(r.data.index),docs:await r.documentsStore.save(r.data.docs),sorting:await r.sorter.save(r.data.sorting),language:r.tokenizer.language}}var Ct=4294967295;function Sp(r,e,t){var n=t/4294967296,i=t;r.setUint32(e,n),r.setUint32(e+4,i)}function vu(r,e,t){var n=Math.floor(t/4294967296),i=t;r.setUint32(e,n),r.setUint32(e+4,i)}function wu(r,e){var t=r.getInt32(e),n=r.getUint32(e+4);return t*4294967296+n}function Cp(r,e){var t=r.getUint32(e),n=r.getUint32(e+4);return t*4294967296+n}var vi,wi,Ii,Vn=(typeof process>"u"||((vi=process==null?void 0:process.env)===null||vi===void 0?void 0:vi.TEXT_ENCODING)!=="never")&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function Ia(r){for(var e=r.length,t=0,n=0;n<e;){var i=r.charCodeAt(n++);if(i&4294967168)if(!(i&4294965248))t+=2;else{if(i>=55296&&i<=56319&&n<e){var s=r.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?t+=4:t+=3}else{t++;continue}}return t}function kp(r,e,t){for(var n=r.length,i=t,s=0;s<n;){var a=r.charCodeAt(s++);if(a&4294967168)if(!(a&4294965248))e[i++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&s<n){var o=r.charCodeAt(s);(o&64512)===56320&&(++s,a=((a&1023)<<10)+(o&1023)+65536)}a&4294901760?(e[i++]=a>>18&7|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128):(e[i++]=a>>12&15|224,e[i++]=a>>6&63|128)}else{e[i++]=a;continue}e[i++]=a&63|128}}var Tr=Vn?new TextEncoder:void 0,Np=Vn?typeof process<"u"&&((wi=process==null?void 0:process.env)===null||wi===void 0?void 0:wi.TEXT_ENCODING)!=="force"?200:0:Ct;function Rp(r,e,t){e.set(Tr.encode(r),t)}function Dp(r,e,t){Tr.encodeInto(r,e.subarray(t))}var jp=Tr!=null&&Tr.encodeInto?Dp:Rp,Up=4096;function Iu(r,e,t){for(var n=e,i=n+t,s=[],a="";n<i;){var o=r[n++];if(!(o&128))s.push(o);else if((o&224)===192){var u=r[n++]&63;s.push((o&31)<<6|u)}else if((o&240)===224){var u=r[n++]&63,c=r[n++]&63;s.push((o&31)<<12|u<<6|c)}else if((o&248)===240){var u=r[n++]&63,c=r[n++]&63,d=r[n++]&63,f=(o&7)<<18|u<<12|c<<6|d;f>65535&&(f-=65536,s.push(f>>>10&1023|55296),f=56320|f&1023),s.push(f)}else s.push(o);s.length>=Up&&(a+=String.fromCharCode.apply(String,s),s.length=0)}return s.length>0&&(a+=String.fromCharCode.apply(String,s)),a}var Lp=Vn?new TextDecoder:null,Mp=Vn?typeof process<"u"&&((Ii=process==null?void 0:process.env)===null||Ii===void 0?void 0:Ii.TEXT_DECODER)!=="force"?200:0:Ct;function $p(r,e,t){var n=r.subarray(e,e+t);return Lp.decode(n)}var Wr=function(){function r(e,t){this.type=e,this.data=t}return r}(),zp=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),at=function(r){zp(e,r);function e(t){var n=r.call(this,t)||this,i=Object.create(e.prototype);return Object.setPrototypeOf(n,i),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:e.name}),n}return e}(Error),Bp=-1,Zp=4294967296-1,Vp=17179869184-1;function Fp(r){var e=r.sec,t=r.nsec;if(e>=0&&t>=0&&e<=Vp)if(t===0&&e<=Zp){var n=new Uint8Array(4),i=new DataView(n.buffer);return i.setUint32(0,e),n}else{var s=e/4294967296,a=e&4294967295,n=new Uint8Array(8),i=new DataView(n.buffer);return i.setUint32(0,t<<2|s&3),i.setUint32(4,a),n}else{var n=new Uint8Array(12),i=new DataView(n.buffer);return i.setUint32(0,t),vu(i,4,e),n}}function Kp(r){var e=r.getTime(),t=Math.floor(e/1e3),n=(e-t*1e3)*1e6,i=Math.floor(n/1e9);return{sec:t+i,nsec:n-i*1e9}}function qp(r){if(r instanceof Date){var e=Kp(r);return Fp(e)}else return null}function Hp(r){var e=new DataView(r.buffer,r.byteOffset,r.byteLength);switch(r.byteLength){case 4:{var t=e.getUint32(0),n=0;return{sec:t,nsec:n}}case 8:{var i=e.getUint32(0),s=e.getUint32(4),t=(i&3)*4294967296+s,n=i>>>2;return{sec:t,nsec:n}}case 12:{var t=wu(e,4),n=e.getUint32(0);return{sec:t,nsec:n}}default:throw new at("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(r.length))}}function Wp(r){var e=Hp(r);return new Date(e.sec*1e3+e.nsec/1e6)}var Gp={type:Bp,encode:qp,decode:Wp},Au=function(){function r(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Gp)}return r.prototype.register=function(e){var t=e.type,n=e.encode,i=e.decode;if(t>=0)this.encoders[t]=n,this.decoders[t]=i;else{var s=1+t;this.builtInEncoders[s]=n,this.builtInDecoders[s]=i}},r.prototype.tryToEncode=function(e,t){for(var n=0;n<this.builtInEncoders.length;n++){var i=this.builtInEncoders[n];if(i!=null){var s=i(e,t);if(s!=null){var a=-1-n;return new Wr(a,s)}}}for(var n=0;n<this.encoders.length;n++){var i=this.encoders[n];if(i!=null){var s=i(e,t);if(s!=null){var a=n;return new Wr(a,s)}}}return e instanceof Wr?e:null},r.prototype.decode=function(e,t,n){var i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,n):new Wr(t,e)},r.defaultCodec=new r,r}();function On(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer?new Uint8Array(r):Uint8Array.from(r)}function Yp(r){if(r instanceof ArrayBuffer)return new DataView(r);var e=On(r);return new DataView(e.buffer,e.byteOffset,e.byteLength)}var Jp=100,Xp=2048,Qp=function(){function r(e,t,n,i,s,a,o,u){e===void 0&&(e=Au.defaultCodec),t===void 0&&(t=void 0),n===void 0&&(n=Jp),i===void 0&&(i=Xp),s===void 0&&(s=!1),a===void 0&&(a=!1),o===void 0&&(o=!1),u===void 0&&(u=!1),this.extensionCodec=e,this.context=t,this.maxDepth=n,this.initialBufferSize=i,this.sortKeys=s,this.forceFloat32=a,this.ignoreUndefined=o,this.forceIntegerToFloat=u,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return r.prototype.reinitializeState=function(){this.pos=0},r.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},r.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},r.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,t)},r.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(t*2)},r.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t),i=new DataView(t);n.set(this.bytes),this.view=i,this.bytes=n},r.prototype.encodeNil=function(){this.writeU8(192)},r.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},r.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},r.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},r.prototype.encodeString=function(e){var t=5,n=e.length;if(n>Np){var i=Ia(e);this.ensureBufferSizeToWrite(t+i),this.writeStringHeader(i),jp(e,this.bytes,this.pos),this.pos+=i}else{var i=Ia(e);this.ensureBufferSizeToWrite(t+i),this.writeStringHeader(i),kp(e,this.bytes,this.pos),this.pos+=i}},r.prototype.encodeObject=function(e,t){var n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,t);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},r.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<4294967296)this.writeU8(198),this.writeU32(t);else throw new Error("Too large binary: ".concat(t));var n=On(e);this.writeU8a(n)},r.prototype.encodeArray=function(e,t){var n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error("Too large array: ".concat(n));for(var i=0,s=e;i<s.length;i++){var a=s[i];this.doEncode(a,t+1)}},r.prototype.countWithoutUndefined=function(e,t){for(var n=0,i=0,s=t;i<s.length;i++){var a=s[i];e[a]!==void 0&&n++}return n},r.prototype.encodeMap=function(e,t){var n=Object.keys(e);this.sortKeys&&n.sort();var i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error("Too large map object: ".concat(i));for(var s=0,a=n;s<a.length;s++){var o=a[s],u=e[o];this.ignoreUndefined&&u===void 0||(this.encodeString(o),this.doEncode(u,t+1))}},r.prototype.encodeExtension=function(e){var t=e.data.length;if(t===1)this.writeU8(212);else if(t===2)this.writeU8(213);else if(t===4)this.writeU8(214);else if(t===8)this.writeU8(215);else if(t===16)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<4294967296)this.writeU8(201),this.writeU32(t);else throw new Error("Too large extension object: ".concat(t));this.writeI8(e.type),this.writeU8a(e.data)},r.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},r.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},r.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},r.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},r.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},r.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},r.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},r.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},r.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},r.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),Sp(this.view,this.pos,e),this.pos+=8},r.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),vu(this.view,this.pos,e),this.pos+=8},r}(),em={};function tm(r,e){e===void 0&&(e=em);var t=new Qp(e.extensionCodec,e.context,e.maxDepth,e.initialBufferSize,e.sortKeys,e.forceFloat32,e.ignoreUndefined,e.forceIntegerToFloat);return t.encodeSharedRef(r)}function Ai(r){return"".concat(r<0?"-":"","0x").concat(Math.abs(r).toString(16).padStart(2,"0"))}var rm=16,nm=16,im=function(){function r(e,t){e===void 0&&(e=rm),t===void 0&&(t=nm),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return r.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},r.prototype.find=function(e,t,n){var i=this.caches[n-1];e:for(var s=0,a=i;s<a.length;s++){for(var o=a[s],u=o.bytes,c=0;c<n;c++)if(u[c]!==e[t+c])continue e;return o.str}return null},r.prototype.store=function(e,t){var n=this.caches[e.length-1],i={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)},r.prototype.decode=function(e,t,n){var i=this.find(e,t,n);if(i!=null)return this.hit++,i;this.miss++;var s=Iu(e,t,n),a=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(a,s),s},r}(),sm=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):i(d.value).then(o,u)}c((n=n.apply(r,e||[])).next())})},Ei=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Aa=globalThis&&globalThis.__asyncValues||function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(a){return new Promise(function(o,u){a=r[s](a),i(o,u,a.done,a.value)})}}function i(s,a,o,u){Promise.resolve(u).then(function(c){s({value:c,done:o})},a)}},Jt=globalThis&&globalThis.__await||function(r){return this instanceof Jt?(this.v=r,this):new Jt(r)},am=globalThis&&globalThis.__asyncGenerator||function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(m){n[m]&&(i[m]=function(_){return new Promise(function(y,A){s.push([m,_,y,A])>1||o(m,_)})})}function o(m,_){try{u(n[m](_))}catch(y){f(s[0][3],y)}}function u(m){m.value instanceof Jt?Promise.resolve(m.value.v).then(c,d):f(s[0][2],m)}function c(m){o("next",m)}function d(m){o("throw",m)}function f(m,_){m(_),s.shift(),s.length&&o(s[0][0],s[0][1])}},om=function(r){var e=typeof r;return e==="string"||e==="number"},ir=-1,Is=new DataView(new ArrayBuffer(0)),um=new Uint8Array(Is.buffer),Zi=function(){try{Is.getInt8(0)}catch(r){return r.constructor}throw new Error("never reached")}(),Ea=new Zi("Insufficient data"),cm=new im,lm=function(){function r(e,t,n,i,s,a,o,u){e===void 0&&(e=Au.defaultCodec),t===void 0&&(t=void 0),n===void 0&&(n=Ct),i===void 0&&(i=Ct),s===void 0&&(s=Ct),a===void 0&&(a=Ct),o===void 0&&(o=Ct),u===void 0&&(u=cm),this.extensionCodec=e,this.context=t,this.maxStrLength=n,this.maxBinLength=i,this.maxArrayLength=s,this.maxMapLength=a,this.maxExtLength=o,this.keyDecoder=u,this.totalPos=0,this.pos=0,this.view=Is,this.bytes=um,this.headByte=ir,this.stack=[]}return r.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=ir,this.stack.length=0},r.prototype.setBuffer=function(e){this.bytes=On(e),this.view=Yp(this.bytes),this.pos=0},r.prototype.appendBuffer=function(e){if(this.headByte===ir&&!this.hasRemaining(1))this.setBuffer(e);else{var t=this.bytes.subarray(this.pos),n=On(e),i=new Uint8Array(t.length+n.length);i.set(t),i.set(n,t.length),this.setBuffer(i)}},r.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},r.prototype.createExtraByteError=function(e){var t=this,n=t.view,i=t.pos;return new RangeError("Extra ".concat(n.byteLength-i," of ").concat(n.byteLength," byte(s) found at buffer[").concat(e,"]"))},r.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},r.prototype.decodeMulti=function(e){return Ei(this,function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}})},r.prototype.decodeAsync=function(e){var t,n,i,s;return sm(this,void 0,void 0,function(){var a,o,u,c,d,f,m,_;return Ei(this,function(y){switch(y.label){case 0:a=!1,y.label=1;case 1:y.trys.push([1,6,7,12]),t=Aa(e),y.label=2;case 2:return[4,t.next()];case 3:if(n=y.sent(),!!n.done)return[3,5];if(u=n.value,a)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u);try{o=this.doDecodeSync(),a=!0}catch(A){if(!(A instanceof Zi))throw A}this.totalPos+=this.pos,y.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=y.sent(),i={error:c},[3,12];case 7:return y.trys.push([7,,10,11]),n&&!n.done&&(s=t.return)?[4,s.call(t)]:[3,9];case 8:y.sent(),y.label=9;case 9:return[3,11];case 10:if(i)throw i.error;return[7];case 11:return[7];case 12:if(a){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,o]}throw d=this,f=d.headByte,m=d.pos,_=d.totalPos,new RangeError("Insufficient data in parsing ".concat(Ai(f)," at ").concat(_," (").concat(m," in the current buffer)"))}})})},r.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},r.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},r.prototype.decodeMultiAsync=function(e,t){return am(this,arguments,function(){var i,s,a,o,u,c,d,f,m;return Ei(this,function(_){switch(_.label){case 0:i=t,s=-1,_.label=1;case 1:_.trys.push([1,13,14,19]),a=Aa(e),_.label=2;case 2:return[4,Jt(a.next())];case 3:if(o=_.sent(),!!o.done)return[3,12];if(u=o.value,t&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u),i&&(s=this.readArraySize(),i=!1,this.complete()),_.label=4;case 4:_.trys.push([4,9,,10]),_.label=5;case 5:return[4,Jt(this.doDecodeSync())];case 6:return[4,_.sent()];case 7:return _.sent(),--s===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(c=_.sent(),!(c instanceof Zi))throw c;return[3,10];case 10:this.totalPos+=this.pos,_.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return d=_.sent(),f={error:d},[3,19];case 14:return _.trys.push([14,,17,18]),o&&!o.done&&(m=a.return)?[4,Jt(m.call(a))]:[3,16];case 15:_.sent(),_.label=16;case 16:return[3,18];case 17:if(f)throw f.error;return[7];case 18:return[7];case 19:return[2]}})})},r.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){var n=e-128;if(n!==0){this.pushMapState(n),this.complete();continue e}else t={}}else if(e<160){var n=e-144;if(n!==0){this.pushArrayState(n),this.complete();continue e}else t=[]}else{var i=e-160;t=this.decodeUtf8String(i,0)}else if(e===192)t=null;else if(e===194)t=!1;else if(e===195)t=!0;else if(e===202)t=this.readF32();else if(e===203)t=this.readF64();else if(e===204)t=this.readU8();else if(e===205)t=this.readU16();else if(e===206)t=this.readU32();else if(e===207)t=this.readU64();else if(e===208)t=this.readI8();else if(e===209)t=this.readI16();else if(e===210)t=this.readI32();else if(e===211)t=this.readI64();else if(e===217){var i=this.lookU8();t=this.decodeUtf8String(i,1)}else if(e===218){var i=this.lookU16();t=this.decodeUtf8String(i,2)}else if(e===219){var i=this.lookU32();t=this.decodeUtf8String(i,4)}else if(e===220){var n=this.readU16();if(n!==0){this.pushArrayState(n),this.complete();continue e}else t=[]}else if(e===221){var n=this.readU32();if(n!==0){this.pushArrayState(n),this.complete();continue e}else t=[]}else if(e===222){var n=this.readU16();if(n!==0){this.pushMapState(n),this.complete();continue e}else t={}}else if(e===223){var n=this.readU32();if(n!==0){this.pushMapState(n),this.complete();continue e}else t={}}else if(e===196){var n=this.lookU8();t=this.decodeBinary(n,1)}else if(e===197){var n=this.lookU16();t=this.decodeBinary(n,2)}else if(e===198){var n=this.lookU32();t=this.decodeBinary(n,4)}else if(e===212)t=this.decodeExtension(1,0);else if(e===213)t=this.decodeExtension(2,0);else if(e===214)t=this.decodeExtension(4,0);else if(e===215)t=this.decodeExtension(8,0);else if(e===216)t=this.decodeExtension(16,0);else if(e===199){var n=this.lookU8();t=this.decodeExtension(n,1)}else if(e===200){var n=this.lookU16();t=this.decodeExtension(n,2)}else if(e===201){var n=this.lookU32();t=this.decodeExtension(n,4)}else throw new at("Unrecognized type byte: ".concat(Ai(e)));this.complete();for(var s=this.stack;s.length>0;){var a=s[s.length-1];if(a.type===0)if(a.array[a.position]=t,a.position++,a.position===a.size)s.pop(),t=a.array;else continue e;else if(a.type===1){if(!om(t))throw new at("The type of key must be string or number but "+typeof t);if(t==="__proto__")throw new at("The key __proto__ is not allowed");a.key=t,a.type=2;continue e}else if(a.map[a.key]=t,a.readCount++,a.readCount===a.size)s.pop(),t=a.map;else{a.key=null,a.type=1;continue e}}return t}},r.prototype.readHeadByte=function(){return this.headByte===ir&&(this.headByte=this.readU8()),this.headByte},r.prototype.complete=function(){this.headByte=ir},r.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new at("Unrecognized array type byte: ".concat(Ai(e)))}}},r.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new at("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},r.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new at("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},r.prototype.decodeUtf8String=function(e,t){var n;if(e>this.maxStrLength)throw new at("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw Ea;var i=this.pos+t,s;return this.stateIsMapKey()&&(!((n=this.keyDecoder)===null||n===void 0)&&n.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,i,e):e>Mp?s=$p(this.bytes,i,e):s=Iu(this.bytes,i,e),this.pos+=t+e,s},r.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},r.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new at("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw Ea;var n=this.pos+t,i=this.bytes.subarray(n,n+e);return this.pos+=t+e,i},r.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new at("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var n=this.view.getInt8(this.pos+t),i=this.decodeBinary(e,t+1);return this.extensionCodec.decode(i,n,this.context)},r.prototype.lookU8=function(){return this.view.getUint8(this.pos)},r.prototype.lookU16=function(){return this.view.getUint16(this.pos)},r.prototype.lookU32=function(){return this.view.getUint32(this.pos)},r.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},r.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},r.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},r.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},r.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},r.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},r.prototype.readU64=function(){var e=Cp(this.view,this.pos);return this.pos+=8,e},r.prototype.readI64=function(){var e=wu(this.view,this.pos);return this.pos+=8,e},r.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},r.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},r}(),dm={};function fm(r,e){e===void 0&&(e=dm);var t=new lm(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return t.decode(r)}var Lr={};(function(r){var e=0,t=3,n=2,i=1,s=7,a=0,o=3,u=4,c=5,d=6,f=7,m=8,_=9,y=11,A=13,p=500,P=12,j=14,N=15,D=1,$=typeof Symbol<"u"?Symbol.iterator:"__iterator_symbol__";function x(q){q||(q={});var G=q.converterByConstructor;G||(G=new Map),G.set(Map,{name:"Map",toValue:v}),G.set(Set,{name:"Set",toValue:C}),G.set(Date,{name:"Date",toValue:U}),q.outlet||q.avoidShareUpdate;var J=typeof Ie<"u"&&Ie.Buffer&&!(q&&q.encoding==="utf16le")?r.nodeCharEncoder(q):w(),H=J.writeString,V=J.writeToken,W=J.startSequence,K=J.endSequence,te=J.writeBuffer;q.forProperty;var ie;q.shared&&(ie=q.shared.propertyUsed,q.shared.propertyUsed);var ge=[],Y,Re=r.bufferSymbol||"_bufferSymbol_",De=r.targetSymbol||"_targetSymbol_",ve=D++,Ve=[0,1,2,3,4,5,ae,_e,E,k,X];function Q(L){V(i,L)}function g(L){V(n,L.length),H(L)}function E(L){var re,ee=Y.values;if(ee){ee.resetTo>-1&&ee.serializer!==ve&&(ee.serializer=ve,ee.resetTo<ee.length&&(ee.length=ee.resetTo),V(t,A),V(i,ee.resetTo));var ne=ee.indexOf(L);if(ne>-1)return Q(ne)}if((re=typeof L)=="string"||re==="object"&&L){if(Y.writeSharedValue){if(Y.writeSharedValue(L,V,ve))return}else if(ee){var le=ee.length;le<12&&(ee[le]=L)}}re==="string"?g(L):ae(L)}function k(L){var re=typeof L;if(re==="number")if(L>>>0===L||L>0&&L<70368744177664&&L%1===0)V(i,L);else{var ee=L.toString();g(ee)}else re==="object"?ae(L):z(L)}function z(L){L===null?V(t,a):L===!1?V(t,o):L===!0?V(t,u):L===void 0?V(t,c):Z(L)}function Z(L){var re=typeof L,ee;if(re==="object")if(L){var ne=L.constructor;if(ne!==Object)if(ne===Array)re="array";else if(ee=G.get(ne),ee&&ee.toValue){if(L=ee.toValue(L),re=typeof L,L&&re==="object"&&L.constructor===Array&&(re="array"),Y.type===re)return Y.extendedType!==ee&&(Y.extendedType=ee,V(t,y),g(ee.name)),Ve[Y.code](L)}else ee=!1}else re="undefined";else re==="boolean"?re="undefined":re==="function"&&(L=L.toString(),re="string");Y=ue(null,re,ee),Ve[Y.code](L)}function X(){V(t,a)}function ae(L,re){var ee=typeof L;if(ee==="object"){if(!L)return V(t,a)}else return ee==="string"?g(L):ee==="number"&&(L>>>0===L||L>0&&L<70368744177664&&L%1===0)?V(i,L):z(L);var ne=L,le=ne.constructor,me;if(ne[De])return ye(L);if(le===Object)me=!1;else{if(le===Array)return Y=ue(Y.key,"array"),Ve[Y.code](L);if(ne.then)return ye(L);if(je=G.get(le),je){if(je.toValue)return z(ne)}else{if(ne[$])return Y=ue(Y.key,"array"),fe(ne,re);G.set(le,je={name:le.name})}Y.constructs!==le&&(V(t,y),g(je.name),Y.constructs=le),me=!0}var B=Y;B.resetTo<B.length&&B.serializer!=ve&&(B.length=B.resetTo,B.serializer=ve),W();var he=0,Se=-2,be=0;for(var Ye in ne)if(!(me&&!ne.hasOwnProperty(Ye))){var L=ne[Ye];ee=typeof L,Y=B[be];var le,je=!1;if(ee==="object"&&(L?(le=L.constructor,le===Object||(le===Array?ee="array":(je=G.get(le),je&&je.toValue?(L=je.toValue(L),ee=typeof L,L&&ee==="object"&&L.constructor===Array&&(ee="array")):L[$]&&!L.then?ee="array":je=!1))):ee="undefined"),!Y||Y.key!==Ye||Y.type!==ee&&ee!=="boolean"&&ee!=="undefined"&&!(ee==="string"&&Y.type!=="number")||je&&Y.extendedType!==le){var st=be;Se>-2&&(be=Se);do Y=B[++be];while(Y&&(Y.key!==Ye||Y.type!==ee&&ee!=="boolean"&&ee!=="undefined"&&!(ee==="string"&&Y.type!=="number")||je&&Y.extendedType!==le));if(Y)V(e,be),Se===-2&&(Se=st-1);else if(B.getProperty)Y=B.getProperty(L,Ye,ee,je,ue,V,st),be=Y.index,st!==be&&Se===-2&&(Se=st-1);else{if(st===B.length?be=st:(V(e,be=B.length),Se===-2&&(Se=st-1)),be<B.resetTo){debugger;throw new Error("overwriting frozen property")}Y=B[be]=ue(Ye,ee,je)}}ie&&ie(Y,ne,ve,he);var nr=Y.code;nr>7?nr===8?E(L):k(L):nr===6?ae(L):_e(L),be++,he++}Y=B,K(he)}function ue(L,re,ee){var ne;return ne=[],ne.key=L,ne.type=re,re==="string"?(V(t,m),ne.values=[],ne.code=m):re==="number"?(V(t,_),ne.code=_):re==="object"?(V(t,d),ne.code=d):re==="array"?(V(t,f),ne.code=f):re==="boolean"||re==="undefined"?(ne.type="object",V(t,d),ne.code=d):(V(t,d),ne.code=10,console.error("Unable to write value of type "+re)),typeof L=="string"?g(L):L===null&&(re==="object"||re==="array")||ae(L),ee&&(ne.extendedType=ee,V(t,y),g(ee.name)),ne}function fe(L,re,ee){try{ee||(V(s,P),ee=L[$]());var ne=Y;Y=ne.child||(ne.child=ne);for(var le;!(le=ee.next()).done;)if(Ve[Y.code](le.value,ne),re&&J.hasWritten){J.hasWritten=!1,Y=ne,ge.unshift({then:function(me){return fe(null,!0,ee),me()}});return}}catch(me){throw V(t,y),V(i,p),ae(Object.assign(new(typeof me=="object"&&me?me.constructor:Error),{name:me&&me.name,message:me&&me.message||me})),me}Y!==ne.child&&(ne.child=Y),Y=ne,V(s,j)}function _e(L){if(!L)z(L);else{if(L[De])return ye(L);if(L.constructor===Array){var re=L.length,ee;re>11?(V(s,P),ee=!0):V(s,re);var ne=Y;Y=ne[0],ne.resetTo<ne.length&&ne.serializer!=ve&&(ne.length=ne.resetTo,ne.serializer=ve);for(var le=0,me=0;me<re;me++){var B=L[me],he=typeof B;if(he==="object")if(B){var Se=B.constructor;if(Se!==Object)if(Se===Array)he="array";else{var be=G.get(Se);be&&be.toValue?(B=be.toValue(B),he=typeof B,B&&he==="object"&&B.constructor===Array&&(he="array")):be=!1}}else he="undefined";if(!Y)ne.getProperty?Y=ne.getProperty(B,null,he,be,ue,V,0):(he==="string"||he==="number"||he==="array"?Y=ue(null,he,be):(Y=[],Y.type=he,Y.key=null,Y.code=d),ne[0]=Y);else if(Y.type!==he&&he!=="boolean"&&he!=="undefined"&&!(he==="string"&&Y.type!=="number")||be&&Y.extendedType!==Se){le=-1;do Y=ne[++le];while(Y&&(Y.type!==he&&he!=="boolean"&&he!=="undefined"&&!(he==="string"&&Y.type!=="number")||be&&Y.extendedType!==Se));Y?V(e,le):ne.getProperty?Y=ne.getProperty(B,null,he,be,ue,V,-1):(V(e,le),Y=ue(null,he,be),ne[le]=Y)}ie&&ie(Y,L,ve,me);var Ye=Y.code;Ye>7?Ye===8?E(B):k(B):Ye===6?ae(B):_e(B)}ee&&V(s,j),Y=ne}else{if(typeof L=="object"&&L[$])return fe(L);if(he==="string")return g(B);if(he==="number"&&(B>>>0===B||B>0&&B<70368744177664&&B%1===0))return V(i,B);z(L)}}}function ye(L,re){V(s,N);var ee=Y,ne=L[De]?{then:le}:{then:function(me){return L.then(function(B){L=B,le(me)},function(B){L=Object.assign(new(typeof B=="object"&&B?B.constructor:Error),{name:B&&B.name,message:B&&B.message||B}),ee.upgrade||(V(t,y),V(i,p)),le(me)})}};function le(me){if(q.forBlock&&L)q.forBlock(L,ee);else{var B=L&&L[Re]&&L[Re](ee);if(B)te(B);else{Y=ee;var he=ge;ge=[],ae(L,!0),he.unshift.apply(he,ge),ge=he}}me()}ge.push(ne)}var we={serialize:function(L,re){var ee=L&&L[Re]&&L[Re](re);if(ee){J.writeBuffer(ee);return}re?(Y=re,Ve[Y.code](L)):(Y=[],Y.key=null,ae(L,!0))},getSerialized:function(){if(ge.length>0){for(var L=[];ge.length>0;){var re=!1,ee=ge.shift().then(function(){re=!0});re||L.push(ee)}if(L.length>0)return Promise.all(L).then(function(){return we.getSerialized()})}return q&&q.encoding==="utf16le"?Buffer.from(J.getSerialized(),"utf16le"):J.getSerialized()},flush:J.flush,setOffset:J.setOffset,finish:J.finish,pendingEncodings:ge,getWriters:function(){return{writeProperty:ue,writeToken:V,writeAsDefault:ae,writeBuffer:te}}};return we}function R(q,G){var J=x(G),H=G&&G.shared,V;H&&H.startWrite&&H.startWrite(G.avoidShareUpdate,q),J.serialize(q,H),V=J.getSerialized(),H&&H.endWrite&&H.endWrite(G.avoidShareUpdate,q),J.finish&&J.finish();var W=q&&q[r.sizeTableSymbol];return W&&(V.sizeTable=W),G&&G.lazy?Buffer.concat([q[r.sizeTableSymbol],V]):V}r.serialize=R,r.createSerializer=x;function w(){var q="";function G(V,W){var K;if(W<16)K=String.fromCharCode((V<<4|W)^64);else if(W<1024)K=String.fromCharCode((V<<4)+(W>>>6),(W&63)+64);else if(W<65536)K=String.fromCharCode((V<<4)+(W>>>12),W>>>6&63,(W&63)+64);else if(W<4194304)K=String.fromCharCode((V<<4)+(W>>>18),W>>>12&63,W>>>6&63,(W&63)+64);else if(W<268435456)K=String.fromCharCode((V<<4)+(W>>>24),W>>>18&63,W>>>12&63,W>>>6&63,(W&63)+64);else if(W<4294967296)K=String.fromCharCode((V<<4)+(W>>>30),W>>>24&63,W>>>18&63,W>>>12&63,W>>>6&63,(W&63)+64);else if(W<17179869184)K=String.fromCharCode((V<<4)+(W/1073741824>>>0),W>>>24&63,W>>>18&63,W>>>12&63,W>>>6&63,(W&63)+64);else if(W<1099511627776)K=String.fromCharCode((V<<4)+(W/68719476736>>>0),W/1073741824&63,W>>>24&63,W>>>18&63,W>>>12&63,W>>>6&63,(W&63)+64);else if(W<70368744177664)K=String.fromCharCode((V<<4)+(W/4398046511104>>>0),W/68719476736&63,W/1073741824&63,W>>>24&63,W>>>18&63,W>>>12&63,W>>>6&63,(W&63)+64);else throw new Error("Too big of number");q+=K}function J(V){q+=V}function H(){return q}return{writeToken:G,writeString:J,getSerialized:H,startSequence:function(){G(s,P)},endSequence:function(){G(s,j)},getOffset:function(){return-1}}}var I=Array.from||function(q,H){var J=[],H=q.constructor===Map;return q.forEach(function(V,W){H?J.push([W,V]):J.push(V)}),J};function v(q){for(var G=I(q),J=0,H=G.length;J<H;J++){var V=G[J];G[J]={key:V[0],value:V[1]}}return G}function C(q){return I(q)}function U(q){return q.getTime()}})(Lr);var As={},hm=3,pm=4,Ta=6,Pa=7,Oa=8,xa=9,Sa=11,mm=13,gm=14,ym=500,bm=12,_m=14,vm=15;function Eu(r){r||(r={});var e,t,n,i=r.classByName||new Map;i.set("Map",wm),i.set("Set",Im),i.set("Date",Am);var s,a;function o(y,A){if(y.previous=s,y.resume=!0,s=y,!n)throw new Error("Unexpected end of dpack stream");return _.onResume||(_.onResume=function(p,P,j){var N=s;return s=null,_.onResume=null,A<t.length?t=t.slice(A)+p:j?t=p.slice(0,1)+p.slice(1):t=p,n=P,f+=A,e=0,N.reader?N.reader(N):u(N.length,N)}),y.object}function u(y,A){var p=0;A=A||[];var P,j,N,D,$=0,x=0;if(A.resume){if(P=A.previous,P){var D=P.reader?P.reader(P):u(P.length,P),R=P.values;R&&(s?s.values=R:D.nextPosition>-1?R[R.nextPosition++]=D:R.push(D))}A.code&&A.code!==A.thisProperty.code?A.resume=!1:($=A.i||0,N=A.object,p=A.propertyState||0,x=A.propertyIndex||0,A=A.thisProperty)}for(j=A.code===Pa,N=N||(A.constructs?new A.constructs:j?[]:{});$<y;){var w,I,v=e,C=t.charCodeAt(e++);if(C>=48)C>12288?(w=C>>>12^4,I=C&4095):(w=C>>>4^4,I=C&15);else if(w=C>>>4&11,I=C&15,C=t.charCodeAt(e++),I=(I<<6)+(C&63),!(C>=64)&&(C=t.charCodeAt(e++),I=(I<<6)+(C&63),!(C>=64)&&(C=t.charCodeAt(e++),I=(I<<6)+(C&63),!(C>=64)&&(C=t.charCodeAt(e++),I=(I<<6)+(C&63),!(C>=64)&&(C=t.charCodeAt(e++),I=I*64+(C&63),!(C>=64)&&(C=t.charCodeAt(e++),I=I*64+(C&63),!(C>=64)&&(C=t.charCodeAt(e++),I=I*64+(C&63),!(C>=0)&&e>t.length)))))))return o({length:y,thisProperty:A,i:$,object:N,propertyIndex:x,propertyState:p},v);if(w===0){x=I,p=0;continue}if(P=A[x],w===3)if(I<6)I<3?I===0?D=null:D="Unknown token, type: "+w+" number: "+I:I===pm?D=!0:I===hm?D=!1:D=void 0;else{if(I<=xa){if(p===1&&(x++,$++,P=A[x]),x<A.resetTo)throw new Error("Overwriting frozen property");P?P.resume||(D=P.key,P=A[x]=[],P.key=D):(P=A[x]=[],P.key=null),P.code=I,P.parent=A,p=2,I===Oa?P.values=[]:I===Pa&&(P[0]=[],P[0].key=null,P[0].code=Ta,P[0].parent=P)}else p=I;continue}else if(w===2){if(D=t.slice(e,e+=I),e>t.length)return o({length:y,thisProperty:A,i:$,object:N,propertyIndex:x,propertyState:p},v);p<2&&P.code===xa&&(D=+D)}else if(w===1)D=I;else if(I>13){if(I===_m)return N;I===vm&&(D=u(0,P),p=0,r.forDeferred?D=r.forDeferred(D,P):(a||(a=[])).push({property:P,value:D}))}else if(I>=bm&&(I=2e9),p>1?p===2?(p=0,D=u(I,P)):p===Sa?D=u(I,[{key:null,code:6}]):P.resume&&(P.code||Ta)===P.thisProperty.code?D=u(I,P.thisProperty):D=u(I,P):D=u(I,P),s){if(D===void 0)return s=null,_.onResume=null,o({length:y,thisProperty:A,i:$,object:N,property:P,propertyIndex:x,previousProperty,propertyState:p},v);s.values=P.values instanceof Array?P.values:void 0}if(!P)throw new Error("No property defined for slot"+(A.key?" in "+A.key:""));if(p<2&&P&&P.code===Oa){var R=P.values;if(typeof D=="number"){if(D=R[I],D===void 0&&!(I in R))throw new Error("Referencing value that has not been read yet")}else(w===2||w===7)&&R&&(R.nextPosition>-1?(P.recordValueReference&&P.recordValueReference(R),R[R.nextPosition++]=D):R.push(D))}if(p>1){if(p===2)P.key=D;else if(p===Sa)if(typeof D=="string"){var U=i.get(D);if(U)U.fromValue?P.fromValue=U.fromValue:P.constructs=U;else if(r.errorOnUnknownClass)throw new Error("Attempt to deserialize to unknown class "+parameter);P.extendedType=U}else P.metadata=D,D===ym&&(P.fromValue=d);else if(p===mm){var R=P.values||(P.values=[]);R.nextPosition=D}else if(p!==gm)throw new Error("Unknown property type "+p);p=1;continue}else p=0;P.fromValue&&(D=P.fromValue(D)),j&&P.key===null?N.push(D):D!==void 0&&(N[P.key]=D),$++,j||x++}return N}var c;function d(y){var A=typeof Ie<"u"?Ie:window;if(y&&y.name&&A[y.name]?y=new A[y.name](y.message):typeof y=="string"&&(y=new Error(y)),r.onError)r.onError(y);else throw c=!0,y}var f=0;function m(y){try{if(y&&y.resume){var A=y.previous;p=u(A.length,A),p=y.object||p,y=y.property}else{y=y||[r&&r.shared||{key:null,code:6}];var p=u(1,y)[y[0].key]}for(;;){if(s)return o({reader:m,object:p,property:y});if(!a)return p;var P=a.index||0,j=a[P];if(a.index=P+1,!j){a=a.parent;continue}var N=j.value,D=a;a=[],a.parent=D;var $=j.property,x=u(1,y=[{resume:!0,key:null,thisProperty:$,object:N}]);x=x.null||x[$.key],x!=N&&(Object.assign(N,x),s&&s.object===x&&(s.object=N),x&&x.constructor===Array&&(N.length=x.length,Object.setPrototypeOf(N,Object.getPrototypeOf(x))))}}catch(R){throw c||(R.message="DPack parsing error: "+R.message+" at position: "+(e+f)+" near: "+t.slice(e-10,e+10)),R}}var _={setSource:function(y,A,p){return t=y,e=A||0,f=0,n=p,this},hasMoreData:function(){return t.length>e},isPaused:function(){return s},hasUnfulfilledReferences:function(){return a&&a.length>a.index},getOffset:function(){return e+f},read:m};return _}As.parse=function(r,e){var t;if(typeof r=="string")t=r;else if(r&&r.toString)t=r.toString(e&&e.encoding||"utf8");else return r;var n=Eu(e).setSource(t);return e&&e.shared?n.read([e.shared]):n.read()};As.createParser=Eu;var wm={fromValue:function(r){for(var e=new Map,t=0,n=r.length;t<n;t++){var i=r[t];e.set(i.key,i.value)}return e}},Im={fromValue:function(r){var e=new Set(r);if(e.size===0&&r.length>0)for(var t=0,n=r.length;t<n;t++)e.add(r[t]);return e}},Am={fromValue:function(r){return new Date(r)}};bc.Transform;var Tu={},Ca=32768,ka=[];function Em(r){var e=r.startOffset||0,t,n=r.outlet,i=ka.pop();i&&i.length>e+128?t=i.length:(t=(e>>12<<12)+8192,i=Buffer.allocUnsafeSlow(t));var s=r.encoding,a=[];function o(A){if(n)n.writeBytes(i.slice(0,e)),(t<Ca||A>Ca)&&(t=Math.max(t*4,A)),i=Buffer.allocUnsafeSlow(t),e=0,a=[],y.hasWritten=!0;else{t=Math.max(t*4,t+A,8192);var p=i;i=Buffer.allocUnsafeSlow(t),p.copy(i,0,0,e)}}function u(A){(A||n).writeBytes(i.slice(0,e)),e+128>i.length?i=Buffer.allocUnsafeSlow(t=Math.min(Math.max((e>>10<<10)+8192,t),32768)):(i=i.slice(e),t=i.length),e=0,a=[]}function c(A,p){if(p<16)i[e++]=(A<<4)+p^64;else if(p<1024)i[e++]=(A<<4)+(p>>>6),i[e++]=(p&63)+64;else if(p<65536)i[e++]=(A<<4)+(p>>>12),i[e++]=p>>>6&63,i[e++]=(p&63)+64;else if(p<4194304)i[e++]=(A<<4)+(p>>>18),i[e++]=p>>>12&63,i[e++]=p>>>6&63,i[e++]=(p&63)+64;else if(p<268435456)i[e++]=(A<<4)+(p>>>24),i[e++]=p>>>18&63,i[e++]=p>>>12&63,i[e++]=p>>>6&63,i[e++]=(p&63)+64;else if(p<4294967296)i[e++]=(A<<4)+(p>>>30),i[e++]=p>>>24&63,i[e++]=p>>>18&63,i[e++]=p>>>12&63,i[e++]=p>>>6&63,i[e++]=(p&63)+64;else if(p<17179869184)i[e++]=(A<<4)+(p/1073741824>>>0),i[e++]=p>>>24&63,i[e++]=p>>>18&63,i[e++]=p>>>12&63,i[e++]=p>>>6&63,i[e++]=(p&63)+64;else if(p<1099511627776)i[e++]=(A<<4)+(p/68719476736>>>0),i[e++]=p/1073741824&63,i[e++]=p>>>24&63,i[e++]=p>>>18&63,i[e++]=p>>>12&63,i[e++]=p>>>6&63,i[e++]=(p&63)+64;else if(p<70368744177664)i[e++]=(A<<4)+(p/4398046511104>>>0),i[e++]=p/68719476736&63,i[e++]=p/1073741824&63,i[e++]=p>>>24&63,i[e++]=p>>>18&63,i[e++]=p>>>12&63,i[e++]=p>>>6&63,i[e++]=(p&63)+64;else throw new Error("Invalid number "+p);e>t-10&&o(0)}function d(A){var p=A.length;p+e+10>t&&o(p+10),A.copy(i,e),e+=p}function f(A){var p=A.length,P=p*3+10;e+P>t&&o(P+10);var j=s?i.write(A,e,i.length,s):i.utf8Write(A,e,i.length);e+=j}function m(){return i.slice(0,e)}function _(A,p){var P=A.length;e+P+10>t&&o(P+10),i.copy(i,P+p,p,e),A.copy(i,p),e+=P}var y={writeToken:c,writeString:f,writeBuffer:d,getSerialized:m,insertBuffer:_,flush:u,startSequence(){var A=e;i[e++]=60,a.push(A),e>t-10&&o(0)},endSequence(A){var p=a.pop();if(A<12&&p>-1){i[p]=48+A;return}i[e++]=62},finish(){i.length-e>144&&ka.push(i.slice(e))},getOffset(){return e},setOffset(A){e=A}};return y}Tu.nodeCharEncoder=Em;function Tm(){this.classByName=new Map,this.converterByConstructor=new Map}Tm.prototype.addExtension=function(r,e,t){e&&r.name!==e&&(r.name=e),this.classByName.set(r.name,t&&t.fromArray?t:r),this.converterByConstructor.set(r,t&&t.toArray?t:r)};Lr.createSerializer;Lr.serialize;var Es=typeof Symbol<"u"?Symbol:function(r){return"symbol-"+r},Pm=Es("buffer"),Om=Es("sizeTable"),xm=Es("target");process.env.NODE_ENV!="production";var Mr=Lr;Mr.bufferSymbol=Pm;Mr.targetSymbol=xm;Mr.sizeTableSymbol=Om;Mr.serialize;Mr.createSerializer;const Ts=Lr;Ts.nodeCharEncoder=Tu.nodeCharEncoder;const Sm=As;var Cm=Ts.serialize,km=Sm.parse;Ts.createSerializer;function Pu(r){return`Unsupported serialization format: ${r}`}function Ou(){return typeof process<"u"&&process.versions!==void 0?"node":typeof Deno<"u"?"deno":typeof Bun<"u"?"bun":typeof window<"u"?"browser":"unknown"}const Vi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15},Na=Object.keys(Vi);function Nm(r){const e=new Uint8Array(Math.floor(r.length/2));r=r.toLowerCase();for(let t=0;t<r.length;t++){const n=Vi[r[t*2]],i=Vi[r[t*2+1]];if(n===void 0||i===void 0)break;e[t]=n<<4|i}return e}function Rm(r){return Array.from(r||[]).map(e=>Na[e>>4]+Na[e&15]).join("")}async function Dm(r,e="binary",t){t||(t=Ou());const n=await xp(r);let i;switch(e){case"json":i=JSON.stringify(n);break;case"dpack":i=Cm(n);break;case"binary":{const s=tm(n);t==="node"?(i=Buffer.from(s.buffer,s.byteOffset,s.byteLength),i=i.toString("hex")):i=Rm(s)}break;default:throw new Error(Pu(e))}return i}async function jm(r,e,t){t||(t=Ou());const n=await _u({schema:{__placeholder:"string"}});let i;switch(r){case"json":i=JSON.parse(e.toString());break;case"dpack":i=km(e);break;case"binary":t==="node"?e=Buffer.from(e.toString(),"hex"):e=Nm(e),i=fm(e);break;default:throw new Error(Pu(r))}return await Op(n,i),n}class Um extends xe{constructor(e){super(e),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callbacks=e==null?void 0:e.callbacks,this.tags=(e==null?void 0:e.tags)??[],this.metadata=(e==null?void 0:e.metadata)??{},this.verbose=(e==null?void 0:e.verbose)??!1}_getRelevantDocuments(e,t){throw new Error("Not implemented!")}async invoke(e,t){return this.getRelevantDocuments(e,t)}async getRelevantDocuments(e,t){const n=Zl(t),i=await Be.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),s=await(i==null?void 0:i.handleRetrieverStart(this.toJSON(),e,void 0,void 0,void 0,void 0,n.runName));try{const a=await this._getRelevantDocuments(e,s);return await(s==null?void 0:s.handleRetrieverEnd(a)),a}catch(a){throw await(s==null?void 0:s.handleRetrieverError(a)),a}}}class Ti extends Um{static lc_name(){return"VectorStoreRetriever"}get lc_namespace(){return["langchain","retrievers","base"]}_vectorstoreType(){return this.vectorStore._vectorstoreType()}constructor(e){super(e),Object.defineProperty(this,"vectorStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"k",{enumerable:!0,configurable:!0,writable:!0,value:4}),Object.defineProperty(this,"searchType",{enumerable:!0,configurable:!0,writable:!0,value:"similarity"}),Object.defineProperty(this,"searchKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.vectorStore=e.vectorStore,this.k=e.k??this.k,this.searchType=e.searchType??this.searchType,this.filter=e.filter,e.searchType==="mmr"&&(this.searchKwargs=e.searchKwargs)}async _getRelevantDocuments(e,t){if(this.searchType==="mmr"){if(typeof this.vectorStore.maxMarginalRelevanceSearch!="function")throw new Error(`The vector store backing this retriever, ${this._vectorstoreType()} does not support max marginal relevance search.`);return this.vectorStore.maxMarginalRelevanceSearch(e,{k:this.k,filter:this.filter,...this.searchKwargs},t==null?void 0:t.getChild("vectorstore"))}return this.vectorStore.similaritySearch(e,this.k,this.filter,t==null?void 0:t.getChild("vectorstore"))}async addDocuments(e,t){return this.vectorStore.addDocuments(e,t)}}class Lm extends wt{constructor(e,t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","vectorstores",this._vectorstoreType()]}),Object.defineProperty(this,"embeddings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.embeddings=e}async delete(e){throw new Error("Not implemented.")}async similaritySearch(e,t=4,n=void 0,i=void 0){return(await this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(e),t,n)).map(a=>a[0])}async similaritySearchWithScore(e,t=4,n=void 0,i=void 0){return this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(e),t,n)}static fromTexts(e,t,n,i){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}static fromDocuments(e,t,n){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}asRetriever(e,t,n,i,s,a){if(typeof e=="number")return new Ti({vectorStore:this,k:e,filter:t,tags:[...i??[],this._vectorstoreType()],metadata:s,verbose:a,callbacks:n});{const o={vectorStore:this,k:e==null?void 0:e.k,filter:e==null?void 0:e.filter,tags:[...(e==null?void 0:e.tags)??[],this._vectorstoreType()],metadata:e==null?void 0:e.metadata,verbose:e==null?void 0:e.verbose,callbacks:e==null?void 0:e.callbacks,searchType:e==null?void 0:e.searchType};return(e==null?void 0:e.searchType)==="mmr"?new Ti({...o,searchKwargs:e.searchKwargs}):new Ti({...o})}}}class Mm{constructor(e){Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.caller=new jn(e??{})}}class $m extends Mm{constructor(e,t){var c,d;const n={maxConcurrency:2,...e};super(n),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"text-embedding-ada-002"}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:512}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let i=(n==null?void 0:n.openAIApiKey)??ce("OPENAI_API_KEY");const s=(n==null?void 0:n.azureOpenAIApiKey)??ce("AZURE_OPENAI_API_KEY");if(!s&&!i)throw new Error("OpenAI or Azure OpenAI API key not found");const a=(n==null?void 0:n.azureOpenAIApiInstanceName)??ce("AZURE_OPENAI_API_INSTANCE_NAME"),o=((n==null?void 0:n.azureOpenAIApiEmbeddingsDeploymentName)||(n==null?void 0:n.azureOpenAIApiDeploymentName))??(ce("AZURE_OPENAI_API_EMBEDDINGS_DEPLOYMENT_NAME")||ce("AZURE_OPENAI_API_DEPLOYMENT_NAME")),u=(n==null?void 0:n.azureOpenAIApiVersion)??ce("AZURE_OPENAI_API_VERSION");if(this.azureOpenAIBasePath=(n==null?void 0:n.azureOpenAIBasePath)??ce("AZURE_OPENAI_BASE_PATH"),this.modelName=(n==null?void 0:n.modelName)??this.modelName,this.batchSize=(n==null?void 0:n.batchSize)??(s?1:this.batchSize),this.stripNewLines=(n==null?void 0:n.stripNewLines)??this.stripNewLines,this.timeout=n==null?void 0:n.timeout,this.azureOpenAIApiVersion=u,this.azureOpenAIApiKey=s,this.azureOpenAIApiInstanceName=a,this.azureOpenAIApiDeploymentName=o,this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");i=i??""}this.clientConfig={apiKey:i,baseURL:t==null?void 0:t.basePath,dangerouslyAllowBrowser:!0,defaultHeaders:(c=t==null?void 0:t.baseOptions)==null?void 0:c.headers,defaultQuery:(d=t==null?void 0:t.baseOptions)==null?void 0:d.params,...t}}async embedDocuments(e){const t=$i(this.stripNewLines?e.map(a=>a.replace(/\n/g," ")):e,this.batchSize),n=t.map(a=>this.embeddingWithRetry({model:this.modelName,input:a})),i=await Promise.all(n),s=[];for(let a=0;a<i.length;a+=1){const o=t[a],{data:u}=i[a];for(let c=0;c<o.length;c+=1)s.push(u[c].embedding)}return s}async embedQuery(e){const{data:t}=await this.embeddingWithRetry({model:this.modelName,input:this.stripNewLines?e.replace(/\n/g," "):e});return t[0].embedding}async embeddingWithRetry(e){if(!this.client){const n={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=zn(n),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new Pe(s)}const t={};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),this.caller.call(async()=>{try{return await this.client.embeddings.create(e,t)}catch(n){throw Bn(n)}})}}class zm extends xe{parseResultWithPrompt(e,t,n){return this.parseResult(e,n)}async invoke(e,t){return typeof e=="string"?this._callWithConfig(async n=>this.parseResult([{text:n}]),e,{...t,runType:"parser"}):this._callWithConfig(async n=>this.parseResult([{message:n,text:n.content}]),e,{...t,runType:"parser"})}}class Bm extends zm{parseResult(e,t){return this.parse(e[0].text,t)}async parseWithPrompt(e,t,n){return this.parse(e,n)}_type(){throw new Error("_type not implemented")}}class Zm extends Bm{async*_transform(e){for await(const t of e)typeof t=="string"?yield this.parseResult([{text:t}]):yield this.parseResult([{message:t,text:t.content}])}async*transform(e,t){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...t,runType:"parser"})}}class Vm extends Zm{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","output_parser"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"StrOutputParser"}parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}}var Fm={metadata:{initialPageContent:"string"},embedding:"vector[1536]"},Km=class extends Lm{constructor(r,e){super(r,e),this.embeddings=r,this.db=_u({schema:Fm,id:e.indexName})}_vectorstoreType(){return"OramaStore"}async addVectors(r,e){const t=e.map((i,s)=>({metadata:{initialPageContent:i.pageContent},embedding:r[s]}));return await Ep(await this.db,t)}async addDocuments(r){this.addVectors(await this.embeddings.embedDocuments(r.map(e=>e.pageContent)),r)}static async fromDocuments(r,e,t){const n=new this(e,t);return await n.addDocuments(r),n}async similaritySearchVectorWithScore(r,e){return(await Pp(await this.db,{vector:r,property:"embedding",limit:e,similarity:.3})).hits.map(n=>[new Of({pageContent:n.document.metadata.initialPageContent}),n.score])}async getJson(){return await Dm(await this.db,"json")}async loadFromJson(r){this.db=jm("json",r)}},qm=class{constructor(r){if(!r.openAIApiKey)throw new Error("No OpenAI API key provided");this.vectorStore=new Km(new $m({openAIApiKey:r.openAIApiKey,batchSize:2048}),{indexName:"obsidiandb"}),r.vectorStoreJson&&(this.vectorStore.loadFromJson(r.vectorStoreJson),console.log("Loaded vector store from JSON")),this.retriever=this.vectorStore.asRetriever({k:7});const e=new vs({openAIApiKey:r.openAIApiKey}),t=_t.fromTemplate(`Antworte als mein Assistent auf meine Frage ausschließlich basierend auf meinem Wissen im folgenden Markdown formatierten Kontext. Bitte erstelle links im folgenden format [[Notename#Header1##Header2]] aus den Note Headern und füge sie deiner Antwort als Referenz bei:
        {context}

        Frage: {question}`);this.ragChain=Rt.from([{context:this.retriever.pipe(n=>n.map(i=>i.pageContent).join(`

`)),question:new ad},t,e,new Vm])}async embedDocuments(r){console.log("Embedding documents..."),await this.vectorStore.addDocuments(r),console.log("Done embedding documents")}async runRAG(r){return console.log("Running RAG..."),this.ragChain.invoke(r,{callbacks:[{handleRetrieverEnd:async t=>{console.log(JSON.stringify(t,null,2))},handleLLMStart:async(t,n)=>{console.log(JSON.stringify(n,null,2))},handleLLMEnd:async t=>{console.log(JSON.stringify(t,null,2))},handleLLMError:async t=>{console.error(t)}}]})}async retrieveDocuments(r){return await this.vectorStore.similaritySearch(r,3)}async getVectorStoreJson(){return await this.vectorStore.getJson()}static async loadFromData(r){return new this(r)}};async function Hm(r){let e=[];for(const t of r.vault.getMarkdownFiles()){const n=r.metadataCache.getFileCache(t);if(!n)continue;e.push({metadata:{},pageContent:"Note: "+t.basename+`
Erstellt am: `+new Date(t.stat.ctime)+`
Metadaten: `+JSON.stringify(n.frontmatter||{})});const i=await r.vault.cachedRead(t);let s=0,a=[];a.push(t.basename);let o=0;for(const u of n.sections||[])if(u.type==="heading"){const c=n.headings[s];c.level>o?(a.push(i.slice(c.position.start.offset,c.position.end.offset)),o=c.level):c.level<o?(a.pop(),a.pop(),a.push(i.slice(c.position.start.offset,c.position.end.offset)),o=c.level):(a.pop(),a.push(i.slice(c.position.start.offset,c.position.end.offset))),s++}else e.push({metadata:{},pageContent:"Notename: "+a.join(`
`)+`
`+i.slice(u.position.start.offset,u.position.end.offset)})}return e}let Jr=oo([{role:"system",content:"Hi, this is your Second Brain!",context:null}]),Fi=oo();function Wm(r){let e,t,n,i,s,a,o,u;return s=new $c({}),{c(){e=qe("form"),t=qe("input"),n=jt(),i=qe("button"),vt(s.$$.fragment),Ae(t,"id","chat-view-user-input-element"),Ae(t,"type","text"),Ae(t,"class","flex-1"),Ae(t,"placeholder",Gm),Ae(i,"type","submit"),Ae(i,"class","px-4 py-2 rounded-r-md hover:bg-primary transition duration-300 ease-in-out"),Ae(e,"class","sticky flex w-full gap-1")},m(c,d){tt(c,e,d),Oe(e,t),ks(t,r[0]),Oe(e,n),Oe(e,i),mt(s,i,null),a=!0,o||(u=[Ir(t,"input",r[4]),Ir(t,"keyup",r[2]),Ir(e,"submit",Si(r[1]))],o=!0)},p(c,[d]){d&1&&t.value!==c[0]&&ks(t,c[0])},i(c){a||(Ke(s.$$.fragment,c),a=!0)},o(c){We(s.$$.fragment,c),a=!1},d(c){c&&He(e),gt(s),o=!1,It(u)}}}let Gm="Chat with your second Brain...";function Ym(r,e,t){let n;ro(r,Jr,d=>t(6,n=d));let{app:i}=e,s="",a;async function o(){if(a){new Qe.Notice("Please wait while your Second Brain is thinking...");return}if(a=!0,document.getElementById("chat-view-user-input-element"),s.trim()!==""){let d=s;t(0,s=""),Jr.update(f=>[...f,{role:"user",content:d}]),console.log(n),Fi.subscribe(async f=>{const m=await f.runRAG(d);m&&Jr.update(_=>[..._,{role:"assistant",content:m}])})}else new Qe.Notice("Your Second Brain does not understand empty messages!");a=!1}function u(d){d.key==="["&&new Ps(i).open()}function c(){s=this.value,t(0,s)}return r.$$set=d=>{"app"in d&&t(3,i=d.app)},[s,o,u,i,c]}class xu extends Mt{constructor(e){super(),Lt(this,e,Ym,Wm,At,{app:3})}}class Jm extends Qe.Modal{constructor(t){super(t);Ee(this,"component");Ee(this,"onSubmit")}onOpen(){this.component=new xu({target:this.contentEl})}async onClose(){this.component.$destroy()}}function Xm(r){let e;return{c(){e=kr("path"),Ae(e,"d","M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z")},m(t,n){tt(t,e,n)},p:et,d(t){t&&He(e)}}}function Qm(r){let e,t;const n=[{viewBox:"0 0 24 24"},r[0]];let i={$$slots:{default:[Xm]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=ft(i,n[s]);return e=new Ji({props:i}),{c(){vt(e.$$.fragment)},m(s,a){mt(e,s,a),t=!0},p(s,[a]){const o=a&1?Gi(n,[n[0],Yi(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){t||(Ke(e.$$.fragment,s),t=!0)},o(s){We(e.$$.fragment,s),t=!1},d(s){gt(e,s)}}}function eg(r,e,t){return r.$$set=n=>{t(0,e=ft(ft({},e),Xt(n)))},e=Xt(e),[e]}class tg extends Mt{constructor(e){super(),Lt(this,e,eg,Qm,At,{})}}function rg(r){let e;return{c(){e=kr("path"),Ae(e,"d","M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z")},m(t,n){tt(t,e,n)},p:et,d(t){t&&He(e)}}}function ng(r){let e,t;const n=[{viewBox:"0 0 24 24"},r[0]];let i={$$slots:{default:[rg]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=ft(i,n[s]);return e=new Ji({props:i}),{c(){vt(e.$$.fragment)},m(s,a){mt(e,s,a),t=!0},p(s,[a]){const o=a&1?Gi(n,[n[0],Yi(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){t||(Ke(e.$$.fragment,s),t=!0)},o(s){We(e.$$.fragment,s),t=!1},d(s){gt(e,s)}}}function ig(r,e,t){return r.$$set=n=>{t(0,e=ft(ft({},e),Xt(n)))},e=Xt(e),[e]}class sg extends Mt{constructor(e){super(),Lt(this,e,ig,ng,At,{})}}function Ra(r,e,t){const n=r.slice();return n[4]=e[t],n}function ag(r){let e,t,n,i=r[4].content+"",s,a,o,u,c,d,f,m,_,y,A;return u=new tg({}),f=new sg({}),{c(){e=qe("div"),t=qe("div"),n=qe("p"),s=Nr(i),a=jt(),o=qe("button"),vt(u.$$.fragment),c=jt(),d=qe("button"),vt(f.$$.fragment),m=jt(),Ae(n,"class","text-slate-0"),Kt(o,"background-color","transparent"),Kt(d,"background-color","transparent"),Ae(t,"id","test"),Ae(t,"class","p-2 break-words rounded-t-md rounded-br-md w-fit max-w-[80%]"),Kt(t,"background",r[0]),Ae(e,"class","mb-3")},m(p,P){tt(p,e,P),Oe(e,t),Oe(t,n),Oe(n,s),Oe(t,a),Oe(t,o),mt(u,o,null),Oe(t,c),Oe(t,d),mt(f,d,null),Oe(e,m),_=!0,y||(A=[Ir(o,"click",Si(function(){Xr(r[3](r[4].content))&&r[3](r[4].content).apply(this,arguments)})),Ir(d,"click",Si(function(){Xr(r[3](r[4].context))&&r[3](r[4].context).apply(this,arguments)}))],y=!0)},p(p,P){r=p,(!_||P&4)&&i!==(i=r[4].content+"")&&Hi(s,i),(!_||P&1)&&Kt(t,"background",r[0])},i(p){_||(Ke(u.$$.fragment,p),Ke(f.$$.fragment,p),_=!0)},o(p){We(u.$$.fragment,p),We(f.$$.fragment,p),_=!1},d(p){p&&He(e),gt(u),gt(f),y=!1,It(A)}}}function og(r){let e,t,n=r[4].content+"",i,s;return{c(){e=qe("div"),t=qe("p"),i=Nr(n),s=jt(),Ae(t,"class","p-2 break-words rounded-t-md rounded-bl-md max-w-[80%] text-slate-0"),Kt(t,"background",r[1]),Ae(e,"class","flex justify-end mb-3")},m(a,o){tt(a,e,o),Oe(e,t),Oe(t,i),Oe(e,s)},p(a,o){o&4&&n!==(n=a[4].content+"")&&Hi(i,n),o&2&&Kt(t,"background",a[1])},i:et,o:et,d(a){a&&He(e)}}}function Da(r,e){let t,n,i,s,a;const o=[og,ag],u=[];function c(d,f){return d[4].role==="user"?0:1}return n=c(e),i=u[n]=o[n](e),{key:r,first:null,c(){t=xi(),i.c(),s=xi(),this.first=t},m(d,f){tt(d,t,f),u[n].m(d,f),tt(d,s,f),a=!0},p(d,f){e=d;let m=n;n=c(e),n===m?u[n].p(e,f):(so(),We(u[m],1,1,()=>{u[m]=null}),ao(),i=u[n],i?i.p(e,f):(i=u[n]=o[n](e),i.c()),Ke(i,1),i.m(s.parentNode,s))},i(d){a||(Ke(i),a=!0)},o(d){We(i),a=!1},d(d){d&&(He(t),He(s)),u[n].d(d)}}}function ug(r){let e,t=[],n=new Map,i,s=Ds(r[2]);const a=o=>o[4].content;for(let o=0;o<s.length;o+=1){let u=Ra(r,s,o),c=a(u);n.set(c,t[o]=Da(c,u))}return{c(){e=qe("div");for(let o=0;o<t.length;o+=1)t[o].c();Ae(e,"class","chat-window flex-grow w-full overflow-scroll border-2 border-solid rounded-md border-slate-30 mb-1 p-4")},m(o,u){tt(o,e,u);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);i=!0},p(o,[u]){u&15&&(s=Ds(o[2]),so(),t=kc(t,u,a,1,o,s,n,e,Cc,Da,null,Ra),ao())},i(o){if(!i){for(let u=0;u<s.length;u+=1)Ke(t[u]);i=!0}},o(o){for(let u=0;u<t.length;u+=1)We(t[u]);i=!1},d(o){o&&He(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function cg(r,e,t){let n;ro(r,Jr,o=>t(2,n=o));let{AiBubbleColor:i}=e,{UserBubbleColor:s}=e;function a(o){if(!o){new Qe.Notice("Only for Valid Messages! Implement that you lazy fuck!");return}yc.clipboard.writeText(o)}return r.$$set=o=>{"AiBubbleColor"in o&&t(0,i=o.AiBubbleColor),"UserBubbleColor"in o&&t(1,s=o.UserBubbleColor)},[i,s,n,a]}class lg extends Mt{constructor(e){super(),Lt(this,e,cg,ug,At,{AiBubbleColor:0,UserBubbleColor:1})}}function dg(r){let e,t,n,i,s,a,o;return i=new lg({props:{AiBubbleColor:r[0],UserBubbleColor:r[1]}}),a=new xu({props:{app:r[2]}}),{c(){e=qe("div"),t=qe("h1"),t.textContent="Second Brain Interface",n=jt(),vt(i.$$.fragment),s=jt(),vt(a.$$.fragment),Ae(e,"class","h-full flex flex-col --background-modifier-border")},m(u,c){tt(u,e,c),Oe(e,t),Oe(e,n),mt(i,e,null),Oe(e,s),mt(a,e,null),o=!0},p(u,[c]){const d={};c&1&&(d.AiBubbleColor=u[0]),c&2&&(d.UserBubbleColor=u[1]),i.$set(d);const f={};c&4&&(f.app=u[2]),a.$set(f)},i(u){o||(Ke(i.$$.fragment,u),Ke(a.$$.fragment,u),o=!0)},o(u){We(i.$$.fragment,u),We(a.$$.fragment,u),o=!1},d(u){u&&He(e),gt(i),gt(a)}}}function fg(r,e,t){let{AiBubbleColor:n}=e,{UserBubbleColor:i}=e,{app:s}=e;return r.$$set=a=>{"AiBubbleColor"in a&&t(0,n=a.AiBubbleColor),"UserBubbleColor"in a&&t(1,i=a.UserBubbleColor),"app"in a&&t(2,s=a.app)},[n,i,s]}let hg=class extends Mt{constructor(e){super(),Lt(this,e,fg,dg,At,{AiBubbleColor:0,UserBubbleColor:1,app:2})}};const wr="chat-view";class pg extends Qe.ItemView{constructor(t,n,i,s){super(n);Ee(this,"component");Ee(this,"AiBubbleColor");Ee(this,"UserBubbleColor");this.app=t,this.AiBubbleColor=i,this.UserBubbleColor=s,this.icon="message-square"}getViewType(){return wr}getDisplayText(){return"Chat view"}async onOpen(){this.component=new hg({target:this.contentEl,props:{app:this.app,AiBubbleColor:this.AiBubbleColor,UserBubbleColor:this.UserBubbleColor}})}async onClose(){this.component.$destroy()}}class mg extends Qe.PluginSettingTab{constructor(t,n){super(t,n);Ee(this,"plugin");this.plugin=n}display(){let{containerEl:t}=this;t.empty(),new Qe.Setting(t).setName("AI Color").addExtraButton(n=>n.setIcon("reset").onClick(async()=>{this.plugin.data.AIcolor=xn.AIcolor,await this.plugin.saveSettings()})).addColorPicker(n=>n.setValue(this.plugin.data.AIcolor).onChange(async i=>{this.plugin.data.AIcolor=i,await this.plugin.saveSettings()})),new Qe.Setting(t).setName("User Color").addExtraButton(n=>n.setIcon("reset").onClick(()=>this.plugin.data.UserColor=xn.UserColor)).addColorPicker(n=>n.setValue(this.plugin.data.UserColor).onChange(async i=>{this.plugin.data.UserColor=i,await this.plugin.saveSettings()})),new Qe.Setting(t).setName("LLM").addDropdown(n=>{n.addOptions({LLama:"LLama",Anthropic:"Anthropic"}).setValue(this.plugin.data.llm).onChange(async i=>{this.plugin.data.llm=i,await this.plugin.saveSettings()})}),new Qe.Setting(t).setName("OpenAI API Key").addText(n=>n.setPlaceholder("OpenAI API Key").setValue(this.plugin.data.secondBrain.openAIApiKey||"").onChange(async i=>{this.plugin.data.secondBrain.openAIApiKey=i,await this.plugin.saveSettings()}))}}const ja=r=>getComputedStyle(document.body).getPropertyValue(r),xn={AIcolor:ja("--color-accent"),UserColor:ja("--color-base-40"),secondBrain:{openAIApiKey:"Your key"}};class gg extends Qe.Plugin{constructor(){super(...arguments);Ee(this,"data")}async loadSettings(){this.data=Object.assign({},xn,await this.loadData())}async saveSettings(){await this.saveData(this.data)}async onload(){await this.loadSettings(),Fi.set(await qm.loadFromData(this.data.secondBrain)),this.app.vault.on("modify",t=>{Fi.subscribe(async n=>{console.log("File modified, reloading",t.basename);const i=await Hm(this.app);await n.embedDocuments(i),this.data.secondBrain.vectorStoreJson=await n.getVectorStoreJson(),await this.saveSettings()})}),this.registerView(wr,t=>new pg(app,t,this.data.AIcolor,this.data.UserColor)),this.addRibbonIcon("brain-circuit","Smart Second Brain",()=>{this.activateView()}),this.addSettingTab(new mg(this.app,this)),this.addCommand({id:"chat-modal",name:"Chat with AI",callback:()=>{new Jm(this.app).open()}}),this.addCommand({id:"find-files",name:"ff",callback:()=>{new Ps(this.app).open()}})}onunload(){console.log("unloading plugin")}async activateView(){this.app.workspace.detachLeavesOfType(wr),await this.app.workspace.getRightLeaf(!1).setViewState({type:wr,active:!0}),this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(wr)[0])}}class Ps extends Qe.FuzzySuggestModal{constructor(e){super(e),this.app=e,this.setPlaceholder("Type the name of a file...")}getItems(){return this.app.vault.getMarkdownFiles().sort((e,t)=>e.basename.localeCompare(t.basename))}getItemText(e){return e.basename}onChooseItem(e){const t=document.getElementById("chat-view-user-input-element");t.value=t.value+`[${e.basename}]]`}}var Su={},Fn={},sr={},Kn={},Ki={},lt={},qn={},$r={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getParsedType=r.ZodParsedType=r.objectUtil=r.util=void 0;var e;(function(n){n.assertEqual=o=>o;function i(o){}n.assertIs=i;function s(o){throw new Error}n.assertNever=s,n.arrayToEnum=o=>{const u={};for(const c of o)u[c]=c;return u},n.getValidEnumValues=o=>{const u=n.objectKeys(o).filter(d=>typeof o[o[d]]!="number"),c={};for(const d of u)c[d]=o[d];return n.objectValues(c)},n.objectValues=o=>n.objectKeys(o).map(function(u){return o[u]}),n.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const u=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&u.push(c);return u},n.find=(o,u)=>{for(const c of o)if(u(c))return c},n.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function a(o,u=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(u)}n.joinValues=a,n.jsonStringifyReplacer=(o,u)=>typeof u=="bigint"?u.toString():u})(e=r.util||(r.util={})),function(n){n.mergeShapes=(i,s)=>({...i,...s})}(r.objectUtil||(r.objectUtil={})),r.ZodParsedType=e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);const t=n=>{switch(typeof n){case"undefined":return r.ZodParsedType.undefined;case"string":return r.ZodParsedType.string;case"number":return isNaN(n)?r.ZodParsedType.nan:r.ZodParsedType.number;case"boolean":return r.ZodParsedType.boolean;case"function":return r.ZodParsedType.function;case"bigint":return r.ZodParsedType.bigint;case"symbol":return r.ZodParsedType.symbol;case"object":return Array.isArray(n)?r.ZodParsedType.array:n===null?r.ZodParsedType.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?r.ZodParsedType.promise:typeof Map<"u"&&n instanceof Map?r.ZodParsedType.map:typeof Set<"u"&&n instanceof Set?r.ZodParsedType.set:typeof Date<"u"&&n instanceof Date?r.ZodParsedType.date:r.ZodParsedType.object;default:return r.ZodParsedType.unknown}};r.getParsedType=t})($r);var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.ZodError=dt.quotelessJson=dt.ZodIssueCode=void 0;const Cu=$r;dt.ZodIssueCode=Cu.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);const yg=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");dt.quotelessJson=yg;class qi extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(t(a));else{let o=n,u=0;for(;u<a.path.length;){const c=a.path[u];u===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(a))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Cu.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}dt.ZodError=qi;qi.create=r=>new qi(r);Object.defineProperty(qn,"__esModule",{value:!0});const Pt=$r,Ue=dt,bg=(r,e)=>{let t;switch(r.code){case Ue.ZodIssueCode.invalid_type:r.received===Pt.ZodParsedType.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case Ue.ZodIssueCode.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Pt.util.jsonStringifyReplacer)}`;break;case Ue.ZodIssueCode.unrecognized_keys:t=`Unrecognized key(s) in object: ${Pt.util.joinValues(r.keys,", ")}`;break;case Ue.ZodIssueCode.invalid_union:t="Invalid input";break;case Ue.ZodIssueCode.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Pt.util.joinValues(r.options)}`;break;case Ue.ZodIssueCode.invalid_enum_value:t=`Invalid enum value. Expected ${Pt.util.joinValues(r.options)}, received '${r.received}'`;break;case Ue.ZodIssueCode.invalid_arguments:t="Invalid function arguments";break;case Ue.ZodIssueCode.invalid_return_type:t="Invalid function return type";break;case Ue.ZodIssueCode.invalid_date:t="Invalid date";break;case Ue.ZodIssueCode.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Pt.util.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case Ue.ZodIssueCode.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case Ue.ZodIssueCode.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case Ue.ZodIssueCode.custom:t="Invalid input";break;case Ue.ZodIssueCode.invalid_intersection_types:t="Intersection results could not be merged";break;case Ue.ZodIssueCode.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case Ue.ZodIssueCode.not_finite:t="Number must be finite";break;default:t=e.defaultError,Pt.util.assertNever(r)}return{message:t}};qn.default=bg;var _g=Ie&&Ie.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lt,"__esModule",{value:!0});lt.getErrorMap=lt.setErrorMap=lt.defaultErrorMap=void 0;const ku=_g(qn);lt.defaultErrorMap=ku.default;let Nu=ku.default;function vg(r){Nu=r}lt.setErrorMap=vg;function wg(){return Nu}lt.getErrorMap=wg;var Os={};(function(r){var e=Ie&&Ie.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(r,"__esModule",{value:!0}),r.isAsync=r.isValid=r.isDirty=r.isAborted=r.OK=r.DIRTY=r.INVALID=r.ParseStatus=r.addIssueToContext=r.EMPTY_PATH=r.makeIssue=void 0;const t=lt,n=e(qn),i=_=>{const{data:y,path:A,errorMaps:p,issueData:P}=_,j=[...A,...P.path||[]],N={...P,path:j};let D="";const $=p.filter(x=>!!x).slice().reverse();for(const x of $)D=x(N,{data:y,defaultError:D}).message;return{...P,path:j,message:P.message||D}};r.makeIssue=i,r.EMPTY_PATH=[];function s(_,y){const A=(0,r.makeIssue)({issueData:y,data:_.data,path:_.path,errorMaps:[_.common.contextualErrorMap,_.schemaErrorMap,(0,t.getErrorMap)(),n.default].filter(p=>!!p)});_.common.issues.push(A)}r.addIssueToContext=s;class a{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(y,A){const p=[];for(const P of A){if(P.status==="aborted")return r.INVALID;P.status==="dirty"&&y.dirty(),p.push(P.value)}return{status:y.value,value:p}}static async mergeObjectAsync(y,A){const p=[];for(const P of A)p.push({key:await P.key,value:await P.value});return a.mergeObjectSync(y,p)}static mergeObjectSync(y,A){const p={};for(const P of A){const{key:j,value:N}=P;if(j.status==="aborted"||N.status==="aborted")return r.INVALID;j.status==="dirty"&&y.dirty(),N.status==="dirty"&&y.dirty(),j.value!=="__proto__"&&(typeof N.value<"u"||P.alwaysSet)&&(p[j.value]=N.value)}return{status:y.value,value:p}}}r.ParseStatus=a,r.INVALID=Object.freeze({status:"aborted"});const o=_=>({status:"dirty",value:_});r.DIRTY=o;const u=_=>({status:"valid",value:_});r.OK=u;const c=_=>_.status==="aborted";r.isAborted=c;const d=_=>_.status==="dirty";r.isDirty=d;const f=_=>_.status==="valid";r.isValid=f;const m=_=>typeof Promise<"u"&&_ instanceof Promise;r.isAsync=m})(Os);var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});var Du={},ju={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.errorUtil=void 0,function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message}(r.errorUtil||(r.errorUtil={}))})(ju);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.date=r.boolean=r.bigint=r.array=r.any=r.coerce=r.ZodFirstPartyTypeKind=r.late=r.ZodSchema=r.Schema=r.custom=r.ZodReadonly=r.ZodPipeline=r.ZodBranded=r.BRAND=r.ZodNaN=r.ZodCatch=r.ZodDefault=r.ZodNullable=r.ZodOptional=r.ZodTransformer=r.ZodEffects=r.ZodPromise=r.ZodNativeEnum=r.ZodEnum=r.ZodLiteral=r.ZodLazy=r.ZodFunction=r.ZodSet=r.ZodMap=r.ZodRecord=r.ZodTuple=r.ZodIntersection=r.ZodDiscriminatedUnion=r.ZodUnion=r.ZodObject=r.ZodArray=r.ZodVoid=r.ZodNever=r.ZodUnknown=r.ZodAny=r.ZodNull=r.ZodUndefined=r.ZodSymbol=r.ZodDate=r.ZodBoolean=r.ZodBigInt=r.ZodNumber=r.ZodString=r.ZodType=void 0,r.NEVER=r.void=r.unknown=r.union=r.undefined=r.tuple=r.transformer=r.symbol=r.string=r.strictObject=r.set=r.record=r.promise=r.preprocess=r.pipeline=r.ostring=r.optional=r.onumber=r.oboolean=r.object=r.number=r.nullable=r.null=r.never=r.nativeEnum=r.nan=r.map=r.literal=r.lazy=r.intersection=r.instanceof=r.function=r.enum=r.effect=r.discriminatedUnion=void 0;const e=lt,t=ju,n=Os,i=$r,s=dt;class a{constructor(l,h,b,S){this._cachedPath=[],this.parent=l,this.data=h,this._path=b,this._key=S}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const o=(T,l)=>{if((0,n.isValid)(l))return{success:!0,data:l.value};if(!T.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const h=new s.ZodError(T.common.issues);return this._error=h,this._error}}};function u(T){if(!T)return{};const{errorMap:l,invalid_type_error:h,required_error:b,description:S}=T;if(l&&(h||b))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return l?{errorMap:l,description:S}:{errorMap:(F,M)=>F.code!=="invalid_type"?{message:M.defaultError}:typeof M.data>"u"?{message:b??M.defaultError}:{message:h??M.defaultError},description:S}}class c{constructor(l){this.spa=this.safeParseAsync,this._def=l,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(l){return(0,i.getParsedType)(l.data)}_getOrReturnCtx(l,h){return h||{common:l.parent.common,data:l.data,parsedType:(0,i.getParsedType)(l.data),schemaErrorMap:this._def.errorMap,path:l.path,parent:l.parent}}_processInputParams(l){return{status:new n.ParseStatus,ctx:{common:l.parent.common,data:l.data,parsedType:(0,i.getParsedType)(l.data),schemaErrorMap:this._def.errorMap,path:l.path,parent:l.parent}}}_parseSync(l){const h=this._parse(l);if((0,n.isAsync)(h))throw new Error("Synchronous parse encountered promise.");return h}_parseAsync(l){const h=this._parse(l);return Promise.resolve(h)}parse(l,h){const b=this.safeParse(l,h);if(b.success)return b.data;throw b.error}safeParse(l,h){var b;const S={common:{issues:[],async:(b=h==null?void 0:h.async)!==null&&b!==void 0?b:!1,contextualErrorMap:h==null?void 0:h.errorMap},path:(h==null?void 0:h.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:l,parsedType:(0,i.getParsedType)(l)},O=this._parseSync({data:l,path:S.path,parent:S});return o(S,O)}async parseAsync(l,h){const b=await this.safeParseAsync(l,h);if(b.success)return b.data;throw b.error}async safeParseAsync(l,h){const b={common:{issues:[],contextualErrorMap:h==null?void 0:h.errorMap,async:!0},path:(h==null?void 0:h.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:l,parsedType:(0,i.getParsedType)(l)},S=this._parse({data:l,path:b.path,parent:b}),O=await((0,n.isAsync)(S)?S:Promise.resolve(S));return o(b,O)}refine(l,h){const b=S=>typeof h=="string"||typeof h>"u"?{message:h}:typeof h=="function"?h(S):h;return this._refinement((S,O)=>{const F=l(S),M=()=>O.addIssue({code:s.ZodIssueCode.custom,...b(S)});return typeof Promise<"u"&&F instanceof Promise?F.then(oe=>oe?!0:(M(),!1)):F?!0:(M(),!1)})}refinement(l,h){return this._refinement((b,S)=>l(b)?!0:(S.addIssue(typeof h=="function"?h(b,S):h),!1))}_refinement(l){return new fe({schema:this,typeName:B.ZodEffects,effect:{type:"refinement",refinement:l}})}superRefine(l){return this._refinement(l)}optional(){return _e.create(this,this._def)}nullable(){return ye.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return W.create(this,this._def)}promise(){return ue.create(this,this._def)}or(l){return ie.create([this,l],this._def)}and(l){return De.create(this,l,this._def)}transform(l){return new fe({...u(this._def),schema:this,typeName:B.ZodEffects,effect:{type:"transform",transform:l}})}default(l){const h=typeof l=="function"?l:()=>l;return new we({...u(this._def),innerType:this,defaultValue:h,typeName:B.ZodDefault})}brand(){return new ee({typeName:B.ZodBranded,type:this,...u(this._def)})}catch(l){const h=typeof l=="function"?l:()=>l;return new L({...u(this._def),innerType:this,catchValue:h,typeName:B.ZodCatch})}describe(l){const h=this.constructor;return new h({...this._def,description:l})}pipe(l){return ne.create(this,l)}readonly(){return le.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}r.ZodType=c,r.Schema=c,r.ZodSchema=c;const d=/^c[^\s-]{8,}$/i,f=/^[a-z][a-z0-9]*$/,m=/^[0-9A-HJKMNP-TV-Z]{26}$/,_=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,y=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,A="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let p;const P=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,j=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,N=T=>T.precision?T.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${T.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${T.precision}}Z$`):T.precision===0?T.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):T.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function D(T,l){return!!((l==="v4"||!l)&&P.test(T)||(l==="v6"||!l)&&j.test(T))}class $ extends c{_parse(l){if(this._def.coerce&&(l.data=String(l.data)),this._getType(l)!==i.ZodParsedType.string){const O=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(O,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.string,received:O.parsedType}),n.INVALID}const b=new n.ParseStatus;let S;for(const O of this._def.checks)if(O.kind==="min")l.data.length<O.value&&(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{code:s.ZodIssueCode.too_small,minimum:O.value,type:"string",inclusive:!0,exact:!1,message:O.message}),b.dirty());else if(O.kind==="max")l.data.length>O.value&&(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{code:s.ZodIssueCode.too_big,maximum:O.value,type:"string",inclusive:!0,exact:!1,message:O.message}),b.dirty());else if(O.kind==="length"){const F=l.data.length>O.value,M=l.data.length<O.value;(F||M)&&(S=this._getOrReturnCtx(l,S),F?(0,n.addIssueToContext)(S,{code:s.ZodIssueCode.too_big,maximum:O.value,type:"string",inclusive:!0,exact:!0,message:O.message}):M&&(0,n.addIssueToContext)(S,{code:s.ZodIssueCode.too_small,minimum:O.value,type:"string",inclusive:!0,exact:!0,message:O.message}),b.dirty())}else if(O.kind==="email")y.test(l.data)||(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{validation:"email",code:s.ZodIssueCode.invalid_string,message:O.message}),b.dirty());else if(O.kind==="emoji")p||(p=new RegExp(A,"u")),p.test(l.data)||(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{validation:"emoji",code:s.ZodIssueCode.invalid_string,message:O.message}),b.dirty());else if(O.kind==="uuid")_.test(l.data)||(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{validation:"uuid",code:s.ZodIssueCode.invalid_string,message:O.message}),b.dirty());else if(O.kind==="cuid")d.test(l.data)||(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{validation:"cuid",code:s.ZodIssueCode.invalid_string,message:O.message}),b.dirty());else if(O.kind==="cuid2")f.test(l.data)||(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{validation:"cuid2",code:s.ZodIssueCode.invalid_string,message:O.message}),b.dirty());else if(O.kind==="ulid")m.test(l.data)||(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{validation:"ulid",code:s.ZodIssueCode.invalid_string,message:O.message}),b.dirty());else if(O.kind==="url")try{new URL(l.data)}catch{S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{validation:"url",code:s.ZodIssueCode.invalid_string,message:O.message}),b.dirty()}else O.kind==="regex"?(O.regex.lastIndex=0,O.regex.test(l.data)||(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{validation:"regex",code:s.ZodIssueCode.invalid_string,message:O.message}),b.dirty())):O.kind==="trim"?l.data=l.data.trim():O.kind==="includes"?l.data.includes(O.value,O.position)||(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{code:s.ZodIssueCode.invalid_string,validation:{includes:O.value,position:O.position},message:O.message}),b.dirty()):O.kind==="toLowerCase"?l.data=l.data.toLowerCase():O.kind==="toUpperCase"?l.data=l.data.toUpperCase():O.kind==="startsWith"?l.data.startsWith(O.value)||(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{code:s.ZodIssueCode.invalid_string,validation:{startsWith:O.value},message:O.message}),b.dirty()):O.kind==="endsWith"?l.data.endsWith(O.value)||(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{code:s.ZodIssueCode.invalid_string,validation:{endsWith:O.value},message:O.message}),b.dirty()):O.kind==="datetime"?N(O).test(l.data)||(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{code:s.ZodIssueCode.invalid_string,validation:"datetime",message:O.message}),b.dirty()):O.kind==="ip"?D(l.data,O.version)||(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{validation:"ip",code:s.ZodIssueCode.invalid_string,message:O.message}),b.dirty()):i.util.assertNever(O);return{status:b.value,value:l.data}}_regex(l,h,b){return this.refinement(S=>l.test(S),{validation:h,code:s.ZodIssueCode.invalid_string,...t.errorUtil.errToObj(b)})}_addCheck(l){return new $({...this._def,checks:[...this._def.checks,l]})}email(l){return this._addCheck({kind:"email",...t.errorUtil.errToObj(l)})}url(l){return this._addCheck({kind:"url",...t.errorUtil.errToObj(l)})}emoji(l){return this._addCheck({kind:"emoji",...t.errorUtil.errToObj(l)})}uuid(l){return this._addCheck({kind:"uuid",...t.errorUtil.errToObj(l)})}cuid(l){return this._addCheck({kind:"cuid",...t.errorUtil.errToObj(l)})}cuid2(l){return this._addCheck({kind:"cuid2",...t.errorUtil.errToObj(l)})}ulid(l){return this._addCheck({kind:"ulid",...t.errorUtil.errToObj(l)})}ip(l){return this._addCheck({kind:"ip",...t.errorUtil.errToObj(l)})}datetime(l){var h;return typeof l=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:l}):this._addCheck({kind:"datetime",precision:typeof(l==null?void 0:l.precision)>"u"?null:l==null?void 0:l.precision,offset:(h=l==null?void 0:l.offset)!==null&&h!==void 0?h:!1,...t.errorUtil.errToObj(l==null?void 0:l.message)})}regex(l,h){return this._addCheck({kind:"regex",regex:l,...t.errorUtil.errToObj(h)})}includes(l,h){return this._addCheck({kind:"includes",value:l,position:h==null?void 0:h.position,...t.errorUtil.errToObj(h==null?void 0:h.message)})}startsWith(l,h){return this._addCheck({kind:"startsWith",value:l,...t.errorUtil.errToObj(h)})}endsWith(l,h){return this._addCheck({kind:"endsWith",value:l,...t.errorUtil.errToObj(h)})}min(l,h){return this._addCheck({kind:"min",value:l,...t.errorUtil.errToObj(h)})}max(l,h){return this._addCheck({kind:"max",value:l,...t.errorUtil.errToObj(h)})}length(l,h){return this._addCheck({kind:"length",value:l,...t.errorUtil.errToObj(h)})}nonempty(l){return this.min(1,t.errorUtil.errToObj(l))}trim(){return new $({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(l=>l.kind==="datetime")}get isEmail(){return!!this._def.checks.find(l=>l.kind==="email")}get isURL(){return!!this._def.checks.find(l=>l.kind==="url")}get isEmoji(){return!!this._def.checks.find(l=>l.kind==="emoji")}get isUUID(){return!!this._def.checks.find(l=>l.kind==="uuid")}get isCUID(){return!!this._def.checks.find(l=>l.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(l=>l.kind==="cuid2")}get isULID(){return!!this._def.checks.find(l=>l.kind==="ulid")}get isIP(){return!!this._def.checks.find(l=>l.kind==="ip")}get minLength(){let l=null;for(const h of this._def.checks)h.kind==="min"&&(l===null||h.value>l)&&(l=h.value);return l}get maxLength(){let l=null;for(const h of this._def.checks)h.kind==="max"&&(l===null||h.value<l)&&(l=h.value);return l}}r.ZodString=$,$.create=T=>{var l;return new $({checks:[],typeName:B.ZodString,coerce:(l=T==null?void 0:T.coerce)!==null&&l!==void 0?l:!1,...u(T)})};function x(T,l){const h=(T.toString().split(".")[1]||"").length,b=(l.toString().split(".")[1]||"").length,S=h>b?h:b,O=parseInt(T.toFixed(S).replace(".","")),F=parseInt(l.toFixed(S).replace(".",""));return O%F/Math.pow(10,S)}class R extends c{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(l){if(this._def.coerce&&(l.data=Number(l.data)),this._getType(l)!==i.ZodParsedType.number){const O=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(O,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.number,received:O.parsedType}),n.INVALID}let b;const S=new n.ParseStatus;for(const O of this._def.checks)O.kind==="int"?i.util.isInteger(l.data)||(b=this._getOrReturnCtx(l,b),(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:O.message}),S.dirty()):O.kind==="min"?(O.inclusive?l.data<O.value:l.data<=O.value)&&(b=this._getOrReturnCtx(l,b),(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.too_small,minimum:O.value,type:"number",inclusive:O.inclusive,exact:!1,message:O.message}),S.dirty()):O.kind==="max"?(O.inclusive?l.data>O.value:l.data>=O.value)&&(b=this._getOrReturnCtx(l,b),(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.too_big,maximum:O.value,type:"number",inclusive:O.inclusive,exact:!1,message:O.message}),S.dirty()):O.kind==="multipleOf"?x(l.data,O.value)!==0&&(b=this._getOrReturnCtx(l,b),(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.not_multiple_of,multipleOf:O.value,message:O.message}),S.dirty()):O.kind==="finite"?Number.isFinite(l.data)||(b=this._getOrReturnCtx(l,b),(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.not_finite,message:O.message}),S.dirty()):i.util.assertNever(O);return{status:S.value,value:l.data}}gte(l,h){return this.setLimit("min",l,!0,t.errorUtil.toString(h))}gt(l,h){return this.setLimit("min",l,!1,t.errorUtil.toString(h))}lte(l,h){return this.setLimit("max",l,!0,t.errorUtil.toString(h))}lt(l,h){return this.setLimit("max",l,!1,t.errorUtil.toString(h))}setLimit(l,h,b,S){return new R({...this._def,checks:[...this._def.checks,{kind:l,value:h,inclusive:b,message:t.errorUtil.toString(S)}]})}_addCheck(l){return new R({...this._def,checks:[...this._def.checks,l]})}int(l){return this._addCheck({kind:"int",message:t.errorUtil.toString(l)})}positive(l){return this._addCheck({kind:"min",value:0,inclusive:!1,message:t.errorUtil.toString(l)})}negative(l){return this._addCheck({kind:"max",value:0,inclusive:!1,message:t.errorUtil.toString(l)})}nonpositive(l){return this._addCheck({kind:"max",value:0,inclusive:!0,message:t.errorUtil.toString(l)})}nonnegative(l){return this._addCheck({kind:"min",value:0,inclusive:!0,message:t.errorUtil.toString(l)})}multipleOf(l,h){return this._addCheck({kind:"multipleOf",value:l,message:t.errorUtil.toString(h)})}finite(l){return this._addCheck({kind:"finite",message:t.errorUtil.toString(l)})}safe(l){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:t.errorUtil.toString(l)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:t.errorUtil.toString(l)})}get minValue(){let l=null;for(const h of this._def.checks)h.kind==="min"&&(l===null||h.value>l)&&(l=h.value);return l}get maxValue(){let l=null;for(const h of this._def.checks)h.kind==="max"&&(l===null||h.value<l)&&(l=h.value);return l}get isInt(){return!!this._def.checks.find(l=>l.kind==="int"||l.kind==="multipleOf"&&i.util.isInteger(l.value))}get isFinite(){let l=null,h=null;for(const b of this._def.checks){if(b.kind==="finite"||b.kind==="int"||b.kind==="multipleOf")return!0;b.kind==="min"?(h===null||b.value>h)&&(h=b.value):b.kind==="max"&&(l===null||b.value<l)&&(l=b.value)}return Number.isFinite(h)&&Number.isFinite(l)}}r.ZodNumber=R,R.create=T=>new R({checks:[],typeName:B.ZodNumber,coerce:(T==null?void 0:T.coerce)||!1,...u(T)});class w extends c{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(l){if(this._def.coerce&&(l.data=BigInt(l.data)),this._getType(l)!==i.ZodParsedType.bigint){const O=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(O,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.bigint,received:O.parsedType}),n.INVALID}let b;const S=new n.ParseStatus;for(const O of this._def.checks)O.kind==="min"?(O.inclusive?l.data<O.value:l.data<=O.value)&&(b=this._getOrReturnCtx(l,b),(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.too_small,type:"bigint",minimum:O.value,inclusive:O.inclusive,message:O.message}),S.dirty()):O.kind==="max"?(O.inclusive?l.data>O.value:l.data>=O.value)&&(b=this._getOrReturnCtx(l,b),(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.too_big,type:"bigint",maximum:O.value,inclusive:O.inclusive,message:O.message}),S.dirty()):O.kind==="multipleOf"?l.data%O.value!==BigInt(0)&&(b=this._getOrReturnCtx(l,b),(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.not_multiple_of,multipleOf:O.value,message:O.message}),S.dirty()):i.util.assertNever(O);return{status:S.value,value:l.data}}gte(l,h){return this.setLimit("min",l,!0,t.errorUtil.toString(h))}gt(l,h){return this.setLimit("min",l,!1,t.errorUtil.toString(h))}lte(l,h){return this.setLimit("max",l,!0,t.errorUtil.toString(h))}lt(l,h){return this.setLimit("max",l,!1,t.errorUtil.toString(h))}setLimit(l,h,b,S){return new w({...this._def,checks:[...this._def.checks,{kind:l,value:h,inclusive:b,message:t.errorUtil.toString(S)}]})}_addCheck(l){return new w({...this._def,checks:[...this._def.checks,l]})}positive(l){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:t.errorUtil.toString(l)})}negative(l){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:t.errorUtil.toString(l)})}nonpositive(l){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:t.errorUtil.toString(l)})}nonnegative(l){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:t.errorUtil.toString(l)})}multipleOf(l,h){return this._addCheck({kind:"multipleOf",value:l,message:t.errorUtil.toString(h)})}get minValue(){let l=null;for(const h of this._def.checks)h.kind==="min"&&(l===null||h.value>l)&&(l=h.value);return l}get maxValue(){let l=null;for(const h of this._def.checks)h.kind==="max"&&(l===null||h.value<l)&&(l=h.value);return l}}r.ZodBigInt=w,w.create=T=>{var l;return new w({checks:[],typeName:B.ZodBigInt,coerce:(l=T==null?void 0:T.coerce)!==null&&l!==void 0?l:!1,...u(T)})};class I extends c{_parse(l){if(this._def.coerce&&(l.data=!!l.data),this._getType(l)!==i.ZodParsedType.boolean){const b=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.boolean,received:b.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodBoolean=I,I.create=T=>new I({typeName:B.ZodBoolean,coerce:(T==null?void 0:T.coerce)||!1,...u(T)});class v extends c{_parse(l){if(this._def.coerce&&(l.data=new Date(l.data)),this._getType(l)!==i.ZodParsedType.date){const O=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(O,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.date,received:O.parsedType}),n.INVALID}if(isNaN(l.data.getTime())){const O=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(O,{code:s.ZodIssueCode.invalid_date}),n.INVALID}const b=new n.ParseStatus;let S;for(const O of this._def.checks)O.kind==="min"?l.data.getTime()<O.value&&(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{code:s.ZodIssueCode.too_small,message:O.message,inclusive:!0,exact:!1,minimum:O.value,type:"date"}),b.dirty()):O.kind==="max"?l.data.getTime()>O.value&&(S=this._getOrReturnCtx(l,S),(0,n.addIssueToContext)(S,{code:s.ZodIssueCode.too_big,message:O.message,inclusive:!0,exact:!1,maximum:O.value,type:"date"}),b.dirty()):i.util.assertNever(O);return{status:b.value,value:new Date(l.data.getTime())}}_addCheck(l){return new v({...this._def,checks:[...this._def.checks,l]})}min(l,h){return this._addCheck({kind:"min",value:l.getTime(),message:t.errorUtil.toString(h)})}max(l,h){return this._addCheck({kind:"max",value:l.getTime(),message:t.errorUtil.toString(h)})}get minDate(){let l=null;for(const h of this._def.checks)h.kind==="min"&&(l===null||h.value>l)&&(l=h.value);return l!=null?new Date(l):null}get maxDate(){let l=null;for(const h of this._def.checks)h.kind==="max"&&(l===null||h.value<l)&&(l=h.value);return l!=null?new Date(l):null}}r.ZodDate=v,v.create=T=>new v({checks:[],coerce:(T==null?void 0:T.coerce)||!1,typeName:B.ZodDate,...u(T)});class C extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.symbol){const b=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.symbol,received:b.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodSymbol=C,C.create=T=>new C({typeName:B.ZodSymbol,...u(T)});class U extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.undefined){const b=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.undefined,received:b.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodUndefined=U,U.create=T=>new U({typeName:B.ZodUndefined,...u(T)});class q extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.null){const b=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.null,received:b.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodNull=q,q.create=T=>new q({typeName:B.ZodNull,...u(T)});class G extends c{constructor(){super(...arguments),this._any=!0}_parse(l){return(0,n.OK)(l.data)}}r.ZodAny=G,G.create=T=>new G({typeName:B.ZodAny,...u(T)});class J extends c{constructor(){super(...arguments),this._unknown=!0}_parse(l){return(0,n.OK)(l.data)}}r.ZodUnknown=J,J.create=T=>new J({typeName:B.ZodUnknown,...u(T)});class H extends c{_parse(l){const h=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(h,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.never,received:h.parsedType}),n.INVALID}}r.ZodNever=H,H.create=T=>new H({typeName:B.ZodNever,...u(T)});class V extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.undefined){const b=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.void,received:b.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodVoid=V,V.create=T=>new V({typeName:B.ZodVoid,...u(T)});class W extends c{_parse(l){const{ctx:h,status:b}=this._processInputParams(l),S=this._def;if(h.parsedType!==i.ZodParsedType.array)return(0,n.addIssueToContext)(h,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:h.parsedType}),n.INVALID;if(S.exactLength!==null){const F=h.data.length>S.exactLength.value,M=h.data.length<S.exactLength.value;(F||M)&&((0,n.addIssueToContext)(h,{code:F?s.ZodIssueCode.too_big:s.ZodIssueCode.too_small,minimum:M?S.exactLength.value:void 0,maximum:F?S.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:S.exactLength.message}),b.dirty())}if(S.minLength!==null&&h.data.length<S.minLength.value&&((0,n.addIssueToContext)(h,{code:s.ZodIssueCode.too_small,minimum:S.minLength.value,type:"array",inclusive:!0,exact:!1,message:S.minLength.message}),b.dirty()),S.maxLength!==null&&h.data.length>S.maxLength.value&&((0,n.addIssueToContext)(h,{code:s.ZodIssueCode.too_big,maximum:S.maxLength.value,type:"array",inclusive:!0,exact:!1,message:S.maxLength.message}),b.dirty()),h.common.async)return Promise.all([...h.data].map((F,M)=>S.type._parseAsync(new a(h,F,h.path,M)))).then(F=>n.ParseStatus.mergeArray(b,F));const O=[...h.data].map((F,M)=>S.type._parseSync(new a(h,F,h.path,M)));return n.ParseStatus.mergeArray(b,O)}get element(){return this._def.type}min(l,h){return new W({...this._def,minLength:{value:l,message:t.errorUtil.toString(h)}})}max(l,h){return new W({...this._def,maxLength:{value:l,message:t.errorUtil.toString(h)}})}length(l,h){return new W({...this._def,exactLength:{value:l,message:t.errorUtil.toString(h)}})}nonempty(l){return this.min(1,l)}}r.ZodArray=W,W.create=(T,l)=>new W({type:T,minLength:null,maxLength:null,exactLength:null,typeName:B.ZodArray,...u(l)});function K(T){if(T instanceof te){const l={};for(const h in T.shape){const b=T.shape[h];l[h]=_e.create(K(b))}return new te({...T._def,shape:()=>l})}else return T instanceof W?new W({...T._def,type:K(T.element)}):T instanceof _e?_e.create(K(T.unwrap())):T instanceof ye?ye.create(K(T.unwrap())):T instanceof ve?ve.create(T.items.map(l=>K(l))):T}class te extends c{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const l=this._def.shape(),h=i.util.objectKeys(l);return this._cached={shape:l,keys:h}}_parse(l){if(this._getType(l)!==i.ZodParsedType.object){const se=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(se,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:se.parsedType}),n.INVALID}const{status:b,ctx:S}=this._processInputParams(l),{shape:O,keys:F}=this._getCached(),M=[];if(!(this._def.catchall instanceof H&&this._def.unknownKeys==="strip"))for(const se in S.data)F.includes(se)||M.push(se);const oe=[];for(const se of F){const de=O[se],Je=S.data[se];oe.push({key:{status:"valid",value:se},value:de._parse(new a(S,Je,S.path,se)),alwaysSet:se in S.data})}if(this._def.catchall instanceof H){const se=this._def.unknownKeys;if(se==="passthrough")for(const de of M)oe.push({key:{status:"valid",value:de},value:{status:"valid",value:S.data[de]}});else if(se==="strict")M.length>0&&((0,n.addIssueToContext)(S,{code:s.ZodIssueCode.unrecognized_keys,keys:M}),b.dirty());else if(se!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const se=this._def.catchall;for(const de of M){const Je=S.data[de];oe.push({key:{status:"valid",value:de},value:se._parse(new a(S,Je,S.path,de)),alwaysSet:de in S.data})}}return S.common.async?Promise.resolve().then(async()=>{const se=[];for(const de of oe){const Je=await de.key;se.push({key:Je,value:await de.value,alwaysSet:de.alwaysSet})}return se}).then(se=>n.ParseStatus.mergeObjectSync(b,se)):n.ParseStatus.mergeObjectSync(b,oe)}get shape(){return this._def.shape()}strict(l){return t.errorUtil.errToObj,new te({...this._def,unknownKeys:"strict",...l!==void 0?{errorMap:(h,b)=>{var S,O,F,M;const oe=(F=(O=(S=this._def).errorMap)===null||O===void 0?void 0:O.call(S,h,b).message)!==null&&F!==void 0?F:b.defaultError;return h.code==="unrecognized_keys"?{message:(M=t.errorUtil.errToObj(l).message)!==null&&M!==void 0?M:oe}:{message:oe}}}:{}})}strip(){return new te({...this._def,unknownKeys:"strip"})}passthrough(){return new te({...this._def,unknownKeys:"passthrough"})}extend(l){return new te({...this._def,shape:()=>({...this._def.shape(),...l})})}merge(l){return new te({unknownKeys:l._def.unknownKeys,catchall:l._def.catchall,shape:()=>({...this._def.shape(),...l._def.shape()}),typeName:B.ZodObject})}setKey(l,h){return this.augment({[l]:h})}catchall(l){return new te({...this._def,catchall:l})}pick(l){const h={};return i.util.objectKeys(l).forEach(b=>{l[b]&&this.shape[b]&&(h[b]=this.shape[b])}),new te({...this._def,shape:()=>h})}omit(l){const h={};return i.util.objectKeys(this.shape).forEach(b=>{l[b]||(h[b]=this.shape[b])}),new te({...this._def,shape:()=>h})}deepPartial(){return K(this)}partial(l){const h={};return i.util.objectKeys(this.shape).forEach(b=>{const S=this.shape[b];l&&!l[b]?h[b]=S:h[b]=S.optional()}),new te({...this._def,shape:()=>h})}required(l){const h={};return i.util.objectKeys(this.shape).forEach(b=>{if(l&&!l[b])h[b]=this.shape[b];else{let O=this.shape[b];for(;O instanceof _e;)O=O._def.innerType;h[b]=O}}),new te({...this._def,shape:()=>h})}keyof(){return Z(i.util.objectKeys(this.shape))}}r.ZodObject=te,te.create=(T,l)=>new te({shape:()=>T,unknownKeys:"strip",catchall:H.create(),typeName:B.ZodObject,...u(l)}),te.strictCreate=(T,l)=>new te({shape:()=>T,unknownKeys:"strict",catchall:H.create(),typeName:B.ZodObject,...u(l)}),te.lazycreate=(T,l)=>new te({shape:T,unknownKeys:"strip",catchall:H.create(),typeName:B.ZodObject,...u(l)});class ie extends c{_parse(l){const{ctx:h}=this._processInputParams(l),b=this._def.options;function S(O){for(const M of O)if(M.result.status==="valid")return M.result;for(const M of O)if(M.result.status==="dirty")return h.common.issues.push(...M.ctx.common.issues),M.result;const F=O.map(M=>new s.ZodError(M.ctx.common.issues));return(0,n.addIssueToContext)(h,{code:s.ZodIssueCode.invalid_union,unionErrors:F}),n.INVALID}if(h.common.async)return Promise.all(b.map(async O=>{const F={...h,common:{...h.common,issues:[]},parent:null};return{result:await O._parseAsync({data:h.data,path:h.path,parent:F}),ctx:F}})).then(S);{let O;const F=[];for(const oe of b){const se={...h,common:{...h.common,issues:[]},parent:null},de=oe._parseSync({data:h.data,path:h.path,parent:se});if(de.status==="valid")return de;de.status==="dirty"&&!O&&(O={result:de,ctx:se}),se.common.issues.length&&F.push(se.common.issues)}if(O)return h.common.issues.push(...O.ctx.common.issues),O.result;const M=F.map(oe=>new s.ZodError(oe));return(0,n.addIssueToContext)(h,{code:s.ZodIssueCode.invalid_union,unionErrors:M}),n.INVALID}}get options(){return this._def.options}}r.ZodUnion=ie,ie.create=(T,l)=>new ie({options:T,typeName:B.ZodUnion,...u(l)});const ge=T=>T instanceof k?ge(T.schema):T instanceof fe?ge(T.innerType()):T instanceof z?[T.value]:T instanceof X?T.options:T instanceof ae?Object.keys(T.enum):T instanceof we?ge(T._def.innerType):T instanceof U?[void 0]:T instanceof q?[null]:null;class Y extends c{_parse(l){const{ctx:h}=this._processInputParams(l);if(h.parsedType!==i.ZodParsedType.object)return(0,n.addIssueToContext)(h,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:h.parsedType}),n.INVALID;const b=this.discriminator,S=h.data[b],O=this.optionsMap.get(S);return O?h.common.async?O._parseAsync({data:h.data,path:h.path,parent:h}):O._parseSync({data:h.data,path:h.path,parent:h}):((0,n.addIssueToContext)(h,{code:s.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[b]}),n.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(l,h,b){const S=new Map;for(const O of h){const F=ge(O.shape[l]);if(!F)throw new Error(`A discriminator value for key \`${l}\` could not be extracted from all schema options`);for(const M of F){if(S.has(M))throw new Error(`Discriminator property ${String(l)} has duplicate value ${String(M)}`);S.set(M,O)}}return new Y({typeName:B.ZodDiscriminatedUnion,discriminator:l,options:h,optionsMap:S,...u(b)})}}r.ZodDiscriminatedUnion=Y;function Re(T,l){const h=(0,i.getParsedType)(T),b=(0,i.getParsedType)(l);if(T===l)return{valid:!0,data:T};if(h===i.ZodParsedType.object&&b===i.ZodParsedType.object){const S=i.util.objectKeys(l),O=i.util.objectKeys(T).filter(M=>S.indexOf(M)!==-1),F={...T,...l};for(const M of O){const oe=Re(T[M],l[M]);if(!oe.valid)return{valid:!1};F[M]=oe.data}return{valid:!0,data:F}}else if(h===i.ZodParsedType.array&&b===i.ZodParsedType.array){if(T.length!==l.length)return{valid:!1};const S=[];for(let O=0;O<T.length;O++){const F=T[O],M=l[O],oe=Re(F,M);if(!oe.valid)return{valid:!1};S.push(oe.data)}return{valid:!0,data:S}}else return h===i.ZodParsedType.date&&b===i.ZodParsedType.date&&+T==+l?{valid:!0,data:T}:{valid:!1}}class De extends c{_parse(l){const{status:h,ctx:b}=this._processInputParams(l),S=(O,F)=>{if((0,n.isAborted)(O)||(0,n.isAborted)(F))return n.INVALID;const M=Re(O.value,F.value);return M.valid?(((0,n.isDirty)(O)||(0,n.isDirty)(F))&&h.dirty(),{status:h.value,value:M.data}):((0,n.addIssueToContext)(b,{code:s.ZodIssueCode.invalid_intersection_types}),n.INVALID)};return b.common.async?Promise.all([this._def.left._parseAsync({data:b.data,path:b.path,parent:b}),this._def.right._parseAsync({data:b.data,path:b.path,parent:b})]).then(([O,F])=>S(O,F)):S(this._def.left._parseSync({data:b.data,path:b.path,parent:b}),this._def.right._parseSync({data:b.data,path:b.path,parent:b}))}}r.ZodIntersection=De,De.create=(T,l,h)=>new De({left:T,right:l,typeName:B.ZodIntersection,...u(h)});class ve extends c{_parse(l){const{status:h,ctx:b}=this._processInputParams(l);if(b.parsedType!==i.ZodParsedType.array)return(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:b.parsedType}),n.INVALID;if(b.data.length<this._def.items.length)return(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.INVALID;!this._def.rest&&b.data.length>this._def.items.length&&((0,n.addIssueToContext)(b,{code:s.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),h.dirty());const O=[...b.data].map((F,M)=>{const oe=this._def.items[M]||this._def.rest;return oe?oe._parse(new a(b,F,b.path,M)):null}).filter(F=>!!F);return b.common.async?Promise.all(O).then(F=>n.ParseStatus.mergeArray(h,F)):n.ParseStatus.mergeArray(h,O)}get items(){return this._def.items}rest(l){return new ve({...this._def,rest:l})}}r.ZodTuple=ve,ve.create=(T,l)=>{if(!Array.isArray(T))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ve({items:T,typeName:B.ZodTuple,rest:null,...u(l)})};class Ve extends c{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(l){const{status:h,ctx:b}=this._processInputParams(l);if(b.parsedType!==i.ZodParsedType.object)return(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:b.parsedType}),n.INVALID;const S=[],O=this._def.keyType,F=this._def.valueType;for(const M in b.data)S.push({key:O._parse(new a(b,M,b.path,M)),value:F._parse(new a(b,b.data[M],b.path,M))});return b.common.async?n.ParseStatus.mergeObjectAsync(h,S):n.ParseStatus.mergeObjectSync(h,S)}get element(){return this._def.valueType}static create(l,h,b){return h instanceof c?new Ve({keyType:l,valueType:h,typeName:B.ZodRecord,...u(b)}):new Ve({keyType:$.create(),valueType:l,typeName:B.ZodRecord,...u(h)})}}r.ZodRecord=Ve;class Q extends c{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(l){const{status:h,ctx:b}=this._processInputParams(l);if(b.parsedType!==i.ZodParsedType.map)return(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.map,received:b.parsedType}),n.INVALID;const S=this._def.keyType,O=this._def.valueType,F=[...b.data.entries()].map(([M,oe],se)=>({key:S._parse(new a(b,M,b.path,[se,"key"])),value:O._parse(new a(b,oe,b.path,[se,"value"]))}));if(b.common.async){const M=new Map;return Promise.resolve().then(async()=>{for(const oe of F){const se=await oe.key,de=await oe.value;if(se.status==="aborted"||de.status==="aborted")return n.INVALID;(se.status==="dirty"||de.status==="dirty")&&h.dirty(),M.set(se.value,de.value)}return{status:h.value,value:M}})}else{const M=new Map;for(const oe of F){const se=oe.key,de=oe.value;if(se.status==="aborted"||de.status==="aborted")return n.INVALID;(se.status==="dirty"||de.status==="dirty")&&h.dirty(),M.set(se.value,de.value)}return{status:h.value,value:M}}}}r.ZodMap=Q,Q.create=(T,l,h)=>new Q({valueType:l,keyType:T,typeName:B.ZodMap,...u(h)});class g extends c{_parse(l){const{status:h,ctx:b}=this._processInputParams(l);if(b.parsedType!==i.ZodParsedType.set)return(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.set,received:b.parsedType}),n.INVALID;const S=this._def;S.minSize!==null&&b.data.size<S.minSize.value&&((0,n.addIssueToContext)(b,{code:s.ZodIssueCode.too_small,minimum:S.minSize.value,type:"set",inclusive:!0,exact:!1,message:S.minSize.message}),h.dirty()),S.maxSize!==null&&b.data.size>S.maxSize.value&&((0,n.addIssueToContext)(b,{code:s.ZodIssueCode.too_big,maximum:S.maxSize.value,type:"set",inclusive:!0,exact:!1,message:S.maxSize.message}),h.dirty());const O=this._def.valueType;function F(oe){const se=new Set;for(const de of oe){if(de.status==="aborted")return n.INVALID;de.status==="dirty"&&h.dirty(),se.add(de.value)}return{status:h.value,value:se}}const M=[...b.data.values()].map((oe,se)=>O._parse(new a(b,oe,b.path,se)));return b.common.async?Promise.all(M).then(oe=>F(oe)):F(M)}min(l,h){return new g({...this._def,minSize:{value:l,message:t.errorUtil.toString(h)}})}max(l,h){return new g({...this._def,maxSize:{value:l,message:t.errorUtil.toString(h)}})}size(l,h){return this.min(l,h).max(l,h)}nonempty(l){return this.min(1,l)}}r.ZodSet=g,g.create=(T,l)=>new g({valueType:T,minSize:null,maxSize:null,typeName:B.ZodSet,...u(l)});class E extends c{constructor(){super(...arguments),this.validate=this.implement}_parse(l){const{ctx:h}=this._processInputParams(l);if(h.parsedType!==i.ZodParsedType.function)return(0,n.addIssueToContext)(h,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.function,received:h.parsedType}),n.INVALID;function b(M,oe){return(0,n.makeIssue)({data:M,path:h.path,errorMaps:[h.common.contextualErrorMap,h.schemaErrorMap,(0,e.getErrorMap)(),e.defaultErrorMap].filter(se=>!!se),issueData:{code:s.ZodIssueCode.invalid_arguments,argumentsError:oe}})}function S(M,oe){return(0,n.makeIssue)({data:M,path:h.path,errorMaps:[h.common.contextualErrorMap,h.schemaErrorMap,(0,e.getErrorMap)(),e.defaultErrorMap].filter(se=>!!se),issueData:{code:s.ZodIssueCode.invalid_return_type,returnTypeError:oe}})}const O={errorMap:h.common.contextualErrorMap},F=h.data;if(this._def.returns instanceof ue){const M=this;return(0,n.OK)(async function(...oe){const se=new s.ZodError([]),de=await M._def.args.parseAsync(oe,O).catch(ai=>{throw se.addIssue(b(oe,ai)),se}),Je=await Reflect.apply(F,this,de);return await M._def.returns._def.type.parseAsync(Je,O).catch(ai=>{throw se.addIssue(S(Je,ai)),se})})}else{const M=this;return(0,n.OK)(function(...oe){const se=M._def.args.safeParse(oe,O);if(!se.success)throw new s.ZodError([b(oe,se.error)]);const de=Reflect.apply(F,this,se.data),Je=M._def.returns.safeParse(de,O);if(!Je.success)throw new s.ZodError([S(de,Je.error)]);return Je.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...l){return new E({...this._def,args:ve.create(l).rest(J.create())})}returns(l){return new E({...this._def,returns:l})}implement(l){return this.parse(l)}strictImplement(l){return this.parse(l)}static create(l,h,b){return new E({args:l||ve.create([]).rest(J.create()),returns:h||J.create(),typeName:B.ZodFunction,...u(b)})}}r.ZodFunction=E;class k extends c{get schema(){return this._def.getter()}_parse(l){const{ctx:h}=this._processInputParams(l);return this._def.getter()._parse({data:h.data,path:h.path,parent:h})}}r.ZodLazy=k,k.create=(T,l)=>new k({getter:T,typeName:B.ZodLazy,...u(l)});class z extends c{_parse(l){if(l.data!==this._def.value){const h=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(h,{received:h.data,code:s.ZodIssueCode.invalid_literal,expected:this._def.value}),n.INVALID}return{status:"valid",value:l.data}}get value(){return this._def.value}}r.ZodLiteral=z,z.create=(T,l)=>new z({value:T,typeName:B.ZodLiteral,...u(l)});function Z(T,l){return new X({values:T,typeName:B.ZodEnum,...u(l)})}class X extends c{_parse(l){if(typeof l.data!="string"){const h=this._getOrReturnCtx(l),b=this._def.values;return(0,n.addIssueToContext)(h,{expected:i.util.joinValues(b),received:h.parsedType,code:s.ZodIssueCode.invalid_type}),n.INVALID}if(this._def.values.indexOf(l.data)===-1){const h=this._getOrReturnCtx(l),b=this._def.values;return(0,n.addIssueToContext)(h,{received:h.data,code:s.ZodIssueCode.invalid_enum_value,options:b}),n.INVALID}return(0,n.OK)(l.data)}get options(){return this._def.values}get enum(){const l={};for(const h of this._def.values)l[h]=h;return l}get Values(){const l={};for(const h of this._def.values)l[h]=h;return l}get Enum(){const l={};for(const h of this._def.values)l[h]=h;return l}extract(l){return X.create(l)}exclude(l){return X.create(this.options.filter(h=>!l.includes(h)))}}r.ZodEnum=X,X.create=Z;class ae extends c{_parse(l){const h=i.util.getValidEnumValues(this._def.values),b=this._getOrReturnCtx(l);if(b.parsedType!==i.ZodParsedType.string&&b.parsedType!==i.ZodParsedType.number){const S=i.util.objectValues(h);return(0,n.addIssueToContext)(b,{expected:i.util.joinValues(S),received:b.parsedType,code:s.ZodIssueCode.invalid_type}),n.INVALID}if(h.indexOf(l.data)===-1){const S=i.util.objectValues(h);return(0,n.addIssueToContext)(b,{received:b.data,code:s.ZodIssueCode.invalid_enum_value,options:S}),n.INVALID}return(0,n.OK)(l.data)}get enum(){return this._def.values}}r.ZodNativeEnum=ae,ae.create=(T,l)=>new ae({values:T,typeName:B.ZodNativeEnum,...u(l)});class ue extends c{unwrap(){return this._def.type}_parse(l){const{ctx:h}=this._processInputParams(l);if(h.parsedType!==i.ZodParsedType.promise&&h.common.async===!1)return(0,n.addIssueToContext)(h,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.promise,received:h.parsedType}),n.INVALID;const b=h.parsedType===i.ZodParsedType.promise?h.data:Promise.resolve(h.data);return(0,n.OK)(b.then(S=>this._def.type.parseAsync(S,{path:h.path,errorMap:h.common.contextualErrorMap})))}}r.ZodPromise=ue,ue.create=(T,l)=>new ue({type:T,typeName:B.ZodPromise,...u(l)});class fe extends c{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===B.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(l){const{status:h,ctx:b}=this._processInputParams(l),S=this._def.effect||null,O={addIssue:F=>{(0,n.addIssueToContext)(b,F),F.fatal?h.abort():h.dirty()},get path(){return b.path}};if(O.addIssue=O.addIssue.bind(O),S.type==="preprocess"){const F=S.transform(b.data,O);return b.common.issues.length?{status:"dirty",value:b.data}:b.common.async?Promise.resolve(F).then(M=>this._def.schema._parseAsync({data:M,path:b.path,parent:b})):this._def.schema._parseSync({data:F,path:b.path,parent:b})}if(S.type==="refinement"){const F=M=>{const oe=S.refinement(M,O);if(b.common.async)return Promise.resolve(oe);if(oe instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return M};if(b.common.async===!1){const M=this._def.schema._parseSync({data:b.data,path:b.path,parent:b});return M.status==="aborted"?n.INVALID:(M.status==="dirty"&&h.dirty(),F(M.value),{status:h.value,value:M.value})}else return this._def.schema._parseAsync({data:b.data,path:b.path,parent:b}).then(M=>M.status==="aborted"?n.INVALID:(M.status==="dirty"&&h.dirty(),F(M.value).then(()=>({status:h.value,value:M.value}))))}if(S.type==="transform")if(b.common.async===!1){const F=this._def.schema._parseSync({data:b.data,path:b.path,parent:b});if(!(0,n.isValid)(F))return F;const M=S.transform(F.value,O);if(M instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:h.value,value:M}}else return this._def.schema._parseAsync({data:b.data,path:b.path,parent:b}).then(F=>(0,n.isValid)(F)?Promise.resolve(S.transform(F.value,O)).then(M=>({status:h.value,value:M})):F);i.util.assertNever(S)}}r.ZodEffects=fe,r.ZodTransformer=fe,fe.create=(T,l,h)=>new fe({schema:T,typeName:B.ZodEffects,effect:l,...u(h)}),fe.createWithPreprocess=(T,l,h)=>new fe({schema:l,effect:{type:"preprocess",transform:T},typeName:B.ZodEffects,...u(h)});class _e extends c{_parse(l){return this._getType(l)===i.ZodParsedType.undefined?(0,n.OK)(void 0):this._def.innerType._parse(l)}unwrap(){return this._def.innerType}}r.ZodOptional=_e,_e.create=(T,l)=>new _e({innerType:T,typeName:B.ZodOptional,...u(l)});class ye extends c{_parse(l){return this._getType(l)===i.ZodParsedType.null?(0,n.OK)(null):this._def.innerType._parse(l)}unwrap(){return this._def.innerType}}r.ZodNullable=ye,ye.create=(T,l)=>new ye({innerType:T,typeName:B.ZodNullable,...u(l)});class we extends c{_parse(l){const{ctx:h}=this._processInputParams(l);let b=h.data;return h.parsedType===i.ZodParsedType.undefined&&(b=this._def.defaultValue()),this._def.innerType._parse({data:b,path:h.path,parent:h})}removeDefault(){return this._def.innerType}}r.ZodDefault=we,we.create=(T,l)=>new we({innerType:T,typeName:B.ZodDefault,defaultValue:typeof l.default=="function"?l.default:()=>l.default,...u(l)});class L extends c{_parse(l){const{ctx:h}=this._processInputParams(l),b={...h,common:{...h.common,issues:[]}},S=this._def.innerType._parse({data:b.data,path:b.path,parent:{...b}});return(0,n.isAsync)(S)?S.then(O=>({status:"valid",value:O.status==="valid"?O.value:this._def.catchValue({get error(){return new s.ZodError(b.common.issues)},input:b.data})})):{status:"valid",value:S.status==="valid"?S.value:this._def.catchValue({get error(){return new s.ZodError(b.common.issues)},input:b.data})}}removeCatch(){return this._def.innerType}}r.ZodCatch=L,L.create=(T,l)=>new L({innerType:T,typeName:B.ZodCatch,catchValue:typeof l.catch=="function"?l.catch:()=>l.catch,...u(l)});class re extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.nan){const b=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(b,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.nan,received:b.parsedType}),n.INVALID}return{status:"valid",value:l.data}}}r.ZodNaN=re,re.create=T=>new re({typeName:B.ZodNaN,...u(T)}),r.BRAND=Symbol("zod_brand");class ee extends c{_parse(l){const{ctx:h}=this._processInputParams(l),b=h.data;return this._def.type._parse({data:b,path:h.path,parent:h})}unwrap(){return this._def.type}}r.ZodBranded=ee;class ne extends c{_parse(l){const{status:h,ctx:b}=this._processInputParams(l);if(b.common.async)return(async()=>{const O=await this._def.in._parseAsync({data:b.data,path:b.path,parent:b});return O.status==="aborted"?n.INVALID:O.status==="dirty"?(h.dirty(),(0,n.DIRTY)(O.value)):this._def.out._parseAsync({data:O.value,path:b.path,parent:b})})();{const S=this._def.in._parseSync({data:b.data,path:b.path,parent:b});return S.status==="aborted"?n.INVALID:S.status==="dirty"?(h.dirty(),{status:"dirty",value:S.value}):this._def.out._parseSync({data:S.value,path:b.path,parent:b})}}static create(l,h){return new ne({in:l,out:h,typeName:B.ZodPipeline})}}r.ZodPipeline=ne;class le extends c{_parse(l){const h=this._def.innerType._parse(l);return(0,n.isValid)(h)&&(h.value=Object.freeze(h.value)),h}}r.ZodReadonly=le,le.create=(T,l)=>new le({innerType:T,typeName:B.ZodReadonly,...u(l)});const me=(T,l={},h)=>T?G.create().superRefine((b,S)=>{var O,F;if(!T(b)){const M=typeof l=="function"?l(b):typeof l=="string"?{message:l}:l,oe=(F=(O=M.fatal)!==null&&O!==void 0?O:h)!==null&&F!==void 0?F:!0,se=typeof M=="string"?{message:M}:M;S.addIssue({code:"custom",...se,fatal:oe})}}):G.create();r.custom=me,r.late={object:te.lazycreate};var B;(function(T){T.ZodString="ZodString",T.ZodNumber="ZodNumber",T.ZodNaN="ZodNaN",T.ZodBigInt="ZodBigInt",T.ZodBoolean="ZodBoolean",T.ZodDate="ZodDate",T.ZodSymbol="ZodSymbol",T.ZodUndefined="ZodUndefined",T.ZodNull="ZodNull",T.ZodAny="ZodAny",T.ZodUnknown="ZodUnknown",T.ZodNever="ZodNever",T.ZodVoid="ZodVoid",T.ZodArray="ZodArray",T.ZodObject="ZodObject",T.ZodUnion="ZodUnion",T.ZodDiscriminatedUnion="ZodDiscriminatedUnion",T.ZodIntersection="ZodIntersection",T.ZodTuple="ZodTuple",T.ZodRecord="ZodRecord",T.ZodMap="ZodMap",T.ZodSet="ZodSet",T.ZodFunction="ZodFunction",T.ZodLazy="ZodLazy",T.ZodLiteral="ZodLiteral",T.ZodEnum="ZodEnum",T.ZodEffects="ZodEffects",T.ZodNativeEnum="ZodNativeEnum",T.ZodOptional="ZodOptional",T.ZodNullable="ZodNullable",T.ZodDefault="ZodDefault",T.ZodCatch="ZodCatch",T.ZodPromise="ZodPromise",T.ZodBranded="ZodBranded",T.ZodPipeline="ZodPipeline",T.ZodReadonly="ZodReadonly"})(B=r.ZodFirstPartyTypeKind||(r.ZodFirstPartyTypeKind={}));const he=(T,l={message:`Input not instance of ${T.name}`})=>(0,r.custom)(h=>h instanceof T,l);r.instanceof=he;const Se=$.create;r.string=Se;const be=R.create;r.number=be;const Ye=re.create;r.nan=Ye;const je=w.create;r.bigint=je;const st=I.create;r.boolean=st;const nr=v.create;r.date=nr;const $u=C.create;r.symbol=$u;const zu=U.create;r.undefined=zu;const Bu=q.create;r.null=Bu;const Zu=G.create;r.any=Zu;const Vu=J.create;r.unknown=Vu;const Fu=H.create;r.never=Fu;const Ku=V.create;r.void=Ku;const qu=W.create;r.array=qu;const Hu=te.create;r.object=Hu;const Wu=te.strictCreate;r.strictObject=Wu;const Gu=ie.create;r.union=Gu;const Yu=Y.create;r.discriminatedUnion=Yu;const Ju=De.create;r.intersection=Ju;const Xu=ve.create;r.tuple=Xu;const Qu=Ve.create;r.record=Qu;const ec=Q.create;r.map=ec;const tc=g.create;r.set=tc;const rc=E.create;r.function=rc;const nc=k.create;r.lazy=nc;const ic=z.create;r.literal=ic;const sc=X.create;r.enum=sc;const ac=ae.create;r.nativeEnum=ac;const oc=ue.create;r.promise=oc;const Ss=fe.create;r.effect=Ss,r.transformer=Ss;const uc=_e.create;r.optional=uc;const cc=ye.create;r.nullable=cc;const lc=fe.createWithPreprocess;r.preprocess=lc;const dc=ne.create;r.pipeline=dc;const fc=()=>Se().optional();r.ostring=fc;const hc=()=>be().optional();r.onumber=hc;const pc=()=>st().optional();r.oboolean=pc,r.coerce={string:T=>$.create({...T,coerce:!0}),number:T=>R.create({...T,coerce:!0}),boolean:T=>I.create({...T,coerce:!0}),bigint:T=>w.create({...T,coerce:!0}),date:T=>v.create({...T,coerce:!0})},r.NEVER=n.INVALID})(Du);(function(r){var e=Ie&&Ie.__createBinding||(Object.create?function(n,i,s,a){a===void 0&&(a=s),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,a){a===void 0&&(a=s),n[a]=i[s]}),t=Ie&&Ie.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(r,"__esModule",{value:!0}),t(lt,r),t(Os,r),t(Ru,r),t($r,r),t(Du,r),t(dt,r)})(Ki);(function(r){var e=Ie&&Ie.__createBinding||(Object.create?function(a,o,u,c){c===void 0&&(c=u),Object.defineProperty(a,c,{enumerable:!0,get:function(){return o[u]}})}:function(a,o,u,c){c===void 0&&(c=u),a[c]=o[u]}),t=Ie&&Ie.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),n=Ie&&Ie.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var u in a)u!=="default"&&Object.prototype.hasOwnProperty.call(a,u)&&e(o,a,u);return t(o,a),o},i=Ie&&Ie.__exportStar||function(a,o){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,a,u)};Object.defineProperty(r,"__esModule",{value:!0}),r.z=void 0;const s=n(Ki);r.z=s,i(Ki,r),r.default=s})(Kn);var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.parseAnyDef=void 0;function Ig(){return{}}Hn.parseAnyDef=Ig;var ar={},it={};Object.defineProperty(it,"__esModule",{value:!0});it.setResponseValueAndErrors=it.addErrorMessage=void 0;function Uu(r,e,t,n){n!=null&&n.errorMessages&&t&&(r.errorMessage=Object.assign(Object.assign({},r.errorMessage),{[e]:t}))}it.addErrorMessage=Uu;function Ag(r,e,t,n,i){r[e]=t,Uu(r,e,n,i)}it.setResponseValueAndErrors=Ag;var Ua;function Eg(){if(Ua)return ar;Ua=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.parseArrayDef=void 0;const r=Kn,e=it,t=Ne();function n(i,s){var a,o;const u={type:"array"};return((o=(a=i.type)===null||a===void 0?void 0:a._def)===null||o===void 0?void 0:o.typeName)!==r.ZodFirstPartyTypeKind.ZodAny&&(u.items=(0,t.parseDef)(i.type._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"items"]}))),i.minLength&&(0,e.setResponseValueAndErrors)(u,"minItems",i.minLength.value,i.minLength.message,s),i.maxLength&&(0,e.setResponseValueAndErrors)(u,"maxItems",i.maxLength.value,i.maxLength.message,s),i.exactLength&&((0,e.setResponseValueAndErrors)(u,"minItems",i.exactLength.value,i.exactLength.message,s),(0,e.setResponseValueAndErrors)(u,"maxItems",i.exactLength.value,i.exactLength.message,s)),u}return ar.parseArrayDef=n,ar}var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.parseBigintDef=void 0;const Ot=it;function Tg(r,e){const t={type:"integer",format:"int64"};if(!r.checks)return t;for(const n of r.checks)switch(n.kind){case"min":e.target==="jsonSchema7"?n.inclusive?(0,Ot.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e):(0,Ot.setResponseValueAndErrors)(t,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(t.exclusiveMinimum=!0),(0,Ot.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?(0,Ot.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e):(0,Ot.setResponseValueAndErrors)(t,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(t.exclusiveMaximum=!0),(0,Ot.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e));break;case"multipleOf":(0,Ot.setResponseValueAndErrors)(t,"multipleOf",n.value,n.message,e);break}return t}Wn.parseBigintDef=Tg;var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.parseBooleanDef=void 0;function Pg(){return{type:"boolean"}}Gn.parseBooleanDef=Pg;var or={},La;function Og(){if(La)return or;La=1,Object.defineProperty(or,"__esModule",{value:!0}),or.parseBrandedDef=void 0;const r=Ne();function e(t,n){return(0,r.parseDef)(t.type._def,n)}return or.parseBrandedDef=e,or}var ur={},Ma;function xg(){if(Ma)return ur;Ma=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.parseCatchDef=void 0;const r=Ne(),e=(t,n)=>(0,r.parseDef)(t.innerType._def,n);return ur.parseCatchDef=e,ur}var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.parseDateDef=void 0;const $a=it;function Sg(r,e){return e.dateStrategy=="integer"?Cg(r,e):{type:"string",format:"date-time"}}Yn.parseDateDef=Sg;const Cg=(r,e)=>{const t={type:"integer",format:"unix-time"};for(const n of r.checks)switch(n.kind){case"min":e.target==="jsonSchema7"&&(0,$a.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e);break;case"max":e.target==="jsonSchema7"&&(0,$a.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e);break}return t};var cr={},za;function kg(){if(za)return cr;za=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.parseDefaultDef=void 0;const r=Ne();function e(t,n){return Object.assign(Object.assign({},(0,r.parseDef)(t.innerType._def,n)),{default:t.defaultValue()})}return cr.parseDefaultDef=e,cr}var lr={},Ba;function Ng(){if(Ba)return lr;Ba=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.parseEffectsDef=void 0;const r=Ne();function e(t,n){return n.effectStrategy==="input"?(0,r.parseDef)(t.schema._def,n):{}}return lr.parseEffectsDef=e,lr}var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.parseEnumDef=void 0;function Rg(r){return{type:"string",enum:r.values}}Jn.parseEnumDef=Rg;var dr={},Za;function Dg(){if(Za)return dr;Za=1;var r=Ie&&Ie.__rest||function(i,s){var a={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.indexOf(o)<0&&(a[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(i);u<o.length;u++)s.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(i,o[u])&&(a[o[u]]=i[o[u]]);return a};Object.defineProperty(dr,"__esModule",{value:!0}),dr.parseIntersectionDef=void 0;const e=Ne(),t=i=>"type"in i&&i.type==="string"?!1:"allOf"in i;function n(i,s){const a=[(0,e.parseDef)(i.left._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"allOf","0"]})),(0,e.parseDef)(i.right._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"allOf","1"]}))].filter(c=>!!c);let o=s.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const u=[];return a.forEach(c=>{if(t(c))u.push(...c.allOf),c.unevaluatedProperties===void 0&&(o=void 0);else{let d=c;"additionalProperties"in c&&c.additionalProperties===!1?d=r(c,["additionalProperties"]):o=void 0,u.push(d)}}),u.length?Object.assign({allOf:u},o):void 0}return dr.parseIntersectionDef=n,dr}var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.parseLiteralDef=void 0;function jg(r,e){const t=typeof r.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(r.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[r.value]}:{type:t==="bigint"?"integer":t,const:r.value}}Xn.parseLiteralDef=jg;var fr={},Va;function Ug(){if(Va)return fr;Va=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.parseMapDef=void 0;const r=Ne();function e(t,n){const i=(0,r.parseDef)(t.keyType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items","items","0"]}))||{},s=(0,r.parseDef)(t.valueType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items","items","1"]}))||{};return{type:"array",maxItems:125,items:{type:"array",items:[i,s],minItems:2,maxItems:2}}}return fr.parseMapDef=e,fr}var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.parseNativeEnumDef=void 0;function Lg(r){const e=r.values,n=Object.keys(r.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),i=Array.from(new Set(n.map(s=>typeof s)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:n}}Qn.parseNativeEnumDef=Lg;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.parseNeverDef=void 0;function Mg(){return{not:{}}}ei.parseNeverDef=Mg;var ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.parseNullDef=void 0;function $g(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}ti.parseNullDef=$g;var hr={},Pi={},Fa;function Lu(){return Fa||(Fa=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseUnionDef=r.primitiveMappings=void 0;const e=Ne();r.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function t(i,s){if(s.target==="openApi3")return n(i,s);const a=i.options instanceof Map?Array.from(i.options.values()):i.options;if(a.every(o=>o._def.typeName in r.primitiveMappings&&(!o._def.checks||!o._def.checks.length))){const o=a.reduce((u,c)=>{const d=r.primitiveMappings[c._def.typeName];return d&&!u.includes(d)?[...u,d]:u},[]);return{type:o.length>1?o:o[0]}}else if(a.every(o=>o._def.typeName==="ZodLiteral"&&!o.description)){const o=a.reduce((u,c)=>{const d=typeof c._def.value;switch(d){case"string":case"number":case"boolean":return[...u,d];case"bigint":return[...u,"integer"];case"object":if(c._def.value===null)return[...u,"null"];case"symbol":case"undefined":case"function":default:return u}},[]);if(o.length===a.length){const u=o.filter((c,d,f)=>f.indexOf(c)===d);return{type:u.length>1?u:u[0],enum:a.reduce((c,d)=>c.includes(d._def.value)?c:[...c,d._def.value],[])}}}else if(a.every(o=>o._def.typeName==="ZodEnum"))return{type:"string",enum:a.reduce((o,u)=>[...o,...u._def.values.filter(c=>!o.includes(c))],[])};return n(i,s)}r.parseUnionDef=t;const n=(i,s)=>{const a=(i.options instanceof Map?Array.from(i.options.values()):i.options).map((o,u)=>(0,e.parseDef)(o._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"anyOf",`${u}`]}))).filter(o=>!!o&&(!s.strictUnions||typeof o=="object"&&Object.keys(o).length>0));return a.length?{anyOf:a}:void 0}}(Pi)),Pi}var Ka;function zg(){if(Ka)return hr;Ka=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.parseNullableDef=void 0;const r=Ne(),e=Lu();function t(n,i){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return i.target==="openApi3"?{type:e.primitiveMappings[n.innerType._def.typeName],nullable:!0}:{type:[e.primitiveMappings[n.innerType._def.typeName],"null"]};if(i.target==="openApi3"){const a=(0,r.parseDef)(n.innerType._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath]}));return a&&Object.assign(Object.assign({},a),{nullable:!0})}const s=(0,r.parseDef)(n.innerType._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"anyOf","0"]}));return s&&{anyOf:[s,{type:"null"}]}}return hr.parseNullableDef=t,hr}var ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.parseNumberDef=void 0;const bt=it;function Bg(r,e){const t={type:"number"};if(!r.checks)return t;for(const n of r.checks)switch(n.kind){case"int":t.type="integer",(0,bt.addErrorMessage)(t,"type",n.message,e);break;case"min":e.target==="jsonSchema7"?n.inclusive?(0,bt.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e):(0,bt.setResponseValueAndErrors)(t,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(t.exclusiveMinimum=!0),(0,bt.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?(0,bt.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e):(0,bt.setResponseValueAndErrors)(t,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(t.exclusiveMaximum=!0),(0,bt.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e));break;case"multipleOf":(0,bt.setResponseValueAndErrors)(t,"multipleOf",n.value,n.message,e);break}return t}ri.parseNumberDef=Bg;var xt={},qa;function Zg(){if(qa)return xt;qa=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.parseObjectDef=xt.parseObjectDefX=void 0;const r=Ne();function e(n,i){var s,a;Object.keys(n.shape()).reduce((u,c)=>{let d=n.shape()[c];const f=d.isOptional();f||(d=Object.assign({},d._def.innerSchema));const m=(0,r.parseDef)(d._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"properties",c],propertyPath:[...i.currentPath,"properties",c]}));return m!==void 0&&(u.properties[c]=m,f||(u.required||(u.required=[]),u.required.push(c))),u},{type:"object",properties:{},additionalProperties:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":(s=(0,r.parseDef)(n.catchall._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"additionalProperties"]})))!==null&&s!==void 0?s:!0});const o=Object.assign(Object.assign({type:"object"},Object.entries(n.shape()).reduce((u,[c,d])=>{if(d===void 0||d._def===void 0)return u;const f=(0,r.parseDef)(d._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"properties",c],propertyPath:[...i.currentPath,"properties",c]}));return f===void 0?u:{properties:Object.assign(Object.assign({},u.properties),{[c]:f}),required:d.isOptional()?u.required:[...u.required,c]}},{properties:{},required:[]})),{additionalProperties:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":(a=(0,r.parseDef)(n.catchall._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"additionalProperties"]})))!==null&&a!==void 0?a:!0});return o.required.length||delete o.required,o}xt.parseObjectDefX=e;function t(n,i){var s;const a=Object.assign(Object.assign({type:"object"},Object.entries(n.shape()).reduce((o,[u,c])=>{if(c===void 0||c._def===void 0)return o;const d=(0,r.parseDef)(c._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"properties",u],propertyPath:[...i.currentPath,"properties",u]}));return d===void 0?o:{properties:Object.assign(Object.assign({},o.properties),{[u]:d}),required:c.isOptional()?o.required:[...o.required,u]}},{properties:{},required:[]})),{additionalProperties:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":(s=(0,r.parseDef)(n.catchall._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"additionalProperties"]})))!==null&&s!==void 0?s:!0});return a.required.length||delete a.required,a}return xt.parseObjectDef=t,xt}var pr={},Ha;function Vg(){if(Ha)return pr;Ha=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.parseOptionalDef=void 0;const r=Ne(),e=(t,n)=>{var i;if(n.currentPath.toString()===((i=n.propertyPath)===null||i===void 0?void 0:i.toString()))return(0,r.parseDef)(t.innerType._def,n);const s=(0,r.parseDef)(t.innerType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"anyOf","1"]}));return s?{anyOf:[{not:{}},s]}:{}};return pr.parseOptionalDef=e,pr}var mr={},Wa;function Fg(){if(Wa)return mr;Wa=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.parsePipelineDef=void 0;const r=Ne(),e=(t,n)=>{if(n.pipeStrategy==="input")return(0,r.parseDef)(t.in._def,n);const i=(0,r.parseDef)(t.in._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"allOf","0"]})),s=(0,r.parseDef)(t.out._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"allOf",i?"1":"0"]}));return{allOf:[i,s].filter(a=>a!==void 0)}};return mr.parsePipelineDef=e,mr}var gr={},Ga;function Kg(){if(Ga)return gr;Ga=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.parsePromiseDef=void 0;const r=Ne();function e(t,n){return(0,r.parseDef)(t.type._def,n)}return gr.parsePromiseDef=e,gr}var yr={},xs={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseStringDef=r.emojiPattern=r.ulidPattern=r.cuid2Pattern=r.cuidPattern=r.emailPattern=void 0;const e=it;r.emailPattern='^(([^<>()[\\]\\\\.,;:\\s@\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\"]+)*)|(\\".+\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$',r.cuidPattern="^c[^\\s-]{8,}$",r.cuid2Pattern="^[a-z][a-z0-9]*$",r.ulidPattern="/[0-9A-HJKMNP-TV-Z]{26}/",r.emojiPattern="/^(p{Extended_Pictographic}|p{Emoji_Component})+$/u";function t(a,o){const u={type:"string"};if(a.checks)for(const c of a.checks)switch(c.kind){case"min":(0,e.setResponseValueAndErrors)(u,"minLength",typeof u.minLength=="number"?Math.max(u.minLength,c.value):c.value,c.message,o);break;case"max":(0,e.setResponseValueAndErrors)(u,"maxLength",typeof u.maxLength=="number"?Math.min(u.maxLength,c.value):c.value,c.message,o);break;case"email":switch(o.emailStrategy){case"format:email":i(u,"email",c.message,o);break;case"format:idn-email":i(u,"idn-email",c.message,o);break;case"pattern:zod":s(u,r.emailPattern,c.message,o);break}break;case"url":i(u,"uri",c.message,o);break;case"uuid":i(u,"uuid",c.message,o);break;case"regex":s(u,c.regex.source,c.message,o);break;case"cuid":s(u,r.cuidPattern,c.message,o);break;case"cuid2":s(u,r.cuid2Pattern,c.message,o);break;case"startsWith":s(u,"^"+n(c.value),c.message,o);break;case"endsWith":s(u,n(c.value)+"$",c.message,o);break;case"datetime":i(u,"date-time",c.message,o);break;case"length":(0,e.setResponseValueAndErrors)(u,"minLength",typeof u.minLength=="number"?Math.max(u.minLength,c.value):c.value,c.message,o),(0,e.setResponseValueAndErrors)(u,"maxLength",typeof u.maxLength=="number"?Math.min(u.maxLength,c.value):c.value,c.message,o);break;case"includes":{s(u,n(c.value),c.message,o);break}case"ip":{c.version!=="v6"&&i(u,"ipv4",c.message,o),c.version!=="v4"&&i(u,"ipv6",c.message,o);break}case"emoji":s(u,r.emojiPattern,c.message,o);break;case"ulid":{s(u,r.ulidPattern,c.message,o);break}}return u}r.parseStringDef=t;const n=a=>Array.from(a).map(o=>/[a-zA-Z0-9]/.test(o)?o:`\\${o}`).join(""),i=(a,o,u,c)=>{var d;a.format||!((d=a.anyOf)===null||d===void 0)&&d.some(f=>f.format)?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push(Object.assign({format:a.format},a.errorMessage&&c.errorMessages&&{errorMessage:{format:a.errorMessage.format}})),delete a.format,a.errorMessage&&(delete a.errorMessage.format,Object.keys(a.errorMessage).length===0&&delete a.errorMessage)),a.anyOf.push(Object.assign({format:o},u&&c.errorMessages&&{errorMessage:{format:u}}))):(0,e.setResponseValueAndErrors)(a,"format",o,u,c)},s=(a,o,u,c)=>{var d;a.pattern||!((d=a.allOf)===null||d===void 0)&&d.some(f=>f.pattern)?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push(Object.assign({pattern:a.pattern},a.errorMessage&&c.errorMessages&&{errorMessage:{pattern:a.errorMessage.pattern}})),delete a.pattern,a.errorMessage&&(delete a.errorMessage.pattern,Object.keys(a.errorMessage).length===0&&delete a.errorMessage)),a.allOf.push(Object.assign({pattern:o},u&&c.errorMessages&&{errorMessage:{pattern:u}}))):(0,e.setResponseValueAndErrors)(a,"pattern",o,u,c)}})(xs);var Ya;function qg(){if(Ya)return yr;Ya=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.parseRecordDef=void 0;const r=Kn,e=Ne(),t=xs;function n(i,s){var a,o,u,c,d;if(s.target==="openApi3"&&((a=i.keyType)===null||a===void 0?void 0:a._def.typeName)===r.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:i.keyType._def.values,properties:i.keyType._def.values.reduce((m,_)=>{var y;return Object.assign(Object.assign({},m),{[_]:(y=(0,e.parseDef)(i.valueType._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"properties",_]})))!==null&&y!==void 0?y:{}})},{}),additionalProperties:!1};const f={type:"object",additionalProperties:(o=(0,e.parseDef)(i.valueType._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"additionalProperties"]})))!==null&&o!==void 0?o:{}};if(s.target==="openApi3")return f;if(((u=i.keyType)===null||u===void 0?void 0:u._def.typeName)===r.ZodFirstPartyTypeKind.ZodString&&(!((c=i.keyType._def.checks)===null||c===void 0)&&c.length)){const m=Object.entries((0,t.parseStringDef)(i.keyType._def,s)).reduce((_,[y,A])=>y==="type"?_:Object.assign(Object.assign({},_),{[y]:A}),{});return Object.assign(Object.assign({},f),{propertyNames:m})}else if(((d=i.keyType)===null||d===void 0?void 0:d._def.typeName)===r.ZodFirstPartyTypeKind.ZodEnum)return Object.assign(Object.assign({},f),{propertyNames:{enum:i.keyType._def.values}});return f}return yr.parseRecordDef=n,yr}var br={},Ja;function Hg(){if(Ja)return br;Ja=1,Object.defineProperty(br,"__esModule",{value:!0}),br.parseSetDef=void 0;const r=it,e=Ne();function t(n,i){const a={type:"array",uniqueItems:!0,items:(0,e.parseDef)(n.valueType._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"items"]}))};return n.minSize&&(0,r.setResponseValueAndErrors)(a,"minItems",n.minSize.value,n.minSize.message,i),n.maxSize&&(0,r.setResponseValueAndErrors)(a,"maxItems",n.maxSize.value,n.maxSize.message,i),a}return br.parseSetDef=t,br}var _r={},Xa;function Wg(){if(Xa)return _r;Xa=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.parseTupleDef=void 0;const r=Ne();function e(t,n){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((i,s)=>(0,r.parseDef)(i._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items",`${s}`]}))).reduce((i,s)=>s===void 0?i:[...i,s],[]),additionalItems:(0,r.parseDef)(t.rest._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"additionalItems"]}))}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((i,s)=>(0,r.parseDef)(i._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items",`${s}`]}))).reduce((i,s)=>s===void 0?i:[...i,s],[])}}return _r.parseTupleDef=e,_r}var ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.parseUndefinedDef=void 0;function Gg(){return{not:{}}}ni.parseUndefinedDef=Gg;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.parseUnknownDef=void 0;function Yg(){return{}}ii.parseUnknownDef=Yg;var Qa;function Ne(){if(Qa)return sr;Qa=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.parseDef=void 0;const r=Kn,e=Hn,t=Eg(),n=Wn,i=Gn,s=Og(),a=xg(),o=Yn,u=kg(),c=Ng(),d=Jn,f=Dg(),m=Xn,_=Ug(),y=Qn,A=ei,p=ti,P=zg(),j=ri,N=Zg(),D=Vg(),$=Fg(),x=Kg(),R=qg(),w=Hg(),I=xs,v=Wg(),C=ni,U=Lu(),q=ii;function G(K,te,ie=!1){const ge=te.seen.get(K);if(ge&&!ie){const De=J(ge,te);if(De!==void 0)return De}const Y={def:K,path:te.currentPath,jsonSchema:void 0};te.seen.set(K,Y);const Re=V(K,K.typeName,te);return Re&&W(K,te,Re),Y.jsonSchema=Re,Re}sr.parseDef=G;const J=(K,te)=>{switch(te.$refStrategy){case"root":return{$ref:K.path.length===0?"":K.path.length===1?`${K.path[0]}/`:K.path.join("/")};case"relative":return{$ref:H(te.currentPath,K.path)};case"none":return K.path.length<te.currentPath.length&&K.path.every((ie,ge)=>te.currentPath[ge]===ie)?(console.warn(`Recursive reference detected at ${te.currentPath.join("/")}! Defaulting to any`),{}):void 0;case"seen":return K.path.length<te.currentPath.length&&K.path.every((ie,ge)=>te.currentPath[ge]===ie)?(console.warn(`Recursive reference detected at ${te.currentPath.join("/")}! Defaulting to any`),{}):K.jsonSchema}},H=(K,te)=>{let ie=0;for(;ie<K.length&&ie<te.length&&K[ie]===te[ie];ie++);return[(K.length-ie).toString(),...te.slice(ie)].join("/")},V=(K,te,ie)=>{switch(te){case r.ZodFirstPartyTypeKind.ZodString:return(0,I.parseStringDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodNumber:return(0,j.parseNumberDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodObject:return(0,N.parseObjectDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodBigInt:return(0,n.parseBigintDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodBoolean:return(0,i.parseBooleanDef)();case r.ZodFirstPartyTypeKind.ZodDate:return(0,o.parseDateDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodUndefined:return(0,C.parseUndefinedDef)();case r.ZodFirstPartyTypeKind.ZodNull:return(0,p.parseNullDef)(ie);case r.ZodFirstPartyTypeKind.ZodArray:return(0,t.parseArrayDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodUnion:case r.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,U.parseUnionDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodIntersection:return(0,f.parseIntersectionDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodTuple:return(0,v.parseTupleDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodRecord:return(0,R.parseRecordDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodLiteral:return(0,m.parseLiteralDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodEnum:return(0,d.parseEnumDef)(K);case r.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,y.parseNativeEnumDef)(K);case r.ZodFirstPartyTypeKind.ZodNullable:return(0,P.parseNullableDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodOptional:return(0,D.parseOptionalDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodMap:return(0,_.parseMapDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodSet:return(0,w.parseSetDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodLazy:return G(K.getter()._def,ie);case r.ZodFirstPartyTypeKind.ZodPromise:return(0,x.parsePromiseDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodNaN:case r.ZodFirstPartyTypeKind.ZodNever:return(0,A.parseNeverDef)();case r.ZodFirstPartyTypeKind.ZodEffects:return(0,c.parseEffectsDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodAny:return(0,e.parseAnyDef)();case r.ZodFirstPartyTypeKind.ZodUnknown:return(0,q.parseUnknownDef)();case r.ZodFirstPartyTypeKind.ZodDefault:return(0,u.parseDefaultDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodBranded:return(0,s.parseBrandedDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodCatch:return(0,a.parseCatchDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodPipeline:return(0,$.parsePipelineDef)(K,ie);case r.ZodFirstPartyTypeKind.ZodFunction:case r.ZodFirstPartyTypeKind.ZodVoid:case r.ZodFirstPartyTypeKind.ZodSymbol:return;default:return(ge=>{})()}},W=(K,te,ie)=>(K.description&&(ie.description=K.description,te.markdownDescription&&(ie.markdownDescription=K.description)),ie);return sr}var si={},Mu={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultOptions=r.defaultOptions=void 0,r.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"string",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,emailStrategy:"format:email"};const e=t=>typeof t=="string"?Object.assign(Object.assign({},r.defaultOptions),{name:t}):Object.assign(Object.assign({},r.defaultOptions),t);r.getDefaultOptions=e})(Mu);Object.defineProperty(si,"__esModule",{value:!0});si.getRefs=void 0;const Jg=Mu,Xg=r=>{const e=(0,Jg.getDefaultOptions)(r),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return Object.assign(Object.assign({},e),{currentPath:t,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([n,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,n],jsonSchema:void 0}]))})};si.getRefs=Xg;Object.defineProperty(Fn,"__esModule",{value:!0});Fn.zodToJsonSchema=void 0;const eo=Ne(),Qg=si,ey=(r,e)=>{var t;const n=(0,Qg.getRefs)(e),i=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((u,[c,d])=>{var f;return Object.assign(Object.assign({},u),{[c]:(f=(0,eo.parseDef)(d._def,Object.assign(Object.assign({},n),{currentPath:[...n.basePath,n.definitionPath,c]}),!0))!==null&&f!==void 0?f:{}})},{}):void 0,s=typeof e=="string"?e:e==null?void 0:e.name,a=(t=(0,eo.parseDef)(r._def,s===void 0?n:Object.assign(Object.assign({},n),{currentPath:[...n.basePath,n.definitionPath,s]}),!1))!==null&&t!==void 0?t:{},o=s===void 0?i?Object.assign(Object.assign({},a),{[n.definitionPath]:i}):a:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:Object.assign(Object.assign({},i),{[s]:a})};return n.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":n.target==="jsonSchema2019-09"&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),o};Fn.zodToJsonSchema=ey;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.zodToJsonSchema=void 0;const e=Fn;Object.defineProperty(r,"zodToJsonSchema",{enumerable:!0,get:function(){return e.zodToJsonSchema}}),r.default=e.zodToJsonSchema})(Su);function ty(r){return{name:r.name,description:r.description,parameters:Su.zodToJsonSchema(r.schema)}}class kt extends Yo{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}_separateRunnableConfigFromCallOptions(e){const[t,n]=super._separateRunnableConfigFromCallOptions(e);return n!=null&&n.timeout&&!n.signal&&(n.signal=AbortSignal.timeout(n.timeout)),[t,n]}async invoke(e,t){const n=kt._convertInputToPromptValue(e);return(await this.generatePrompt([n],t,t==null?void 0:t.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,t,n){throw new Error("Not implemented.")}async*_streamIterator(e,t){if(this._streamResponseChunks===kt.prototype._streamResponseChunks)yield this.invoke(e,t);else{const i=kt._convertInputToPromptValue(e).toChatMessages(),[s,a]=this._separateRunnableConfigFromCallOptions(t),o=await Be.configure(s.callbacks,this.callbacks,s.tags,this.tags,s.metadata,this.metadata,{verbose:this.verbose}),u={options:a,invocation_params:this==null?void 0:this.invocationParams(a)},c=await(o==null?void 0:o.handleChatModelStart(this.toJSON(),[i],void 0,void 0,u,void 0,void 0,s.runName));let d;try{for await(const f of this._streamResponseChunks(i,a,c==null?void 0:c[0]))yield f.message,d?d=d.concat(f):d=f}catch(f){throw await Promise.all((c??[]).map(m=>m==null?void 0:m.handleLLMError(f))),f}await Promise.all((c??[]).map(f=>f==null?void 0:f.handleLLMEnd({generations:[[d]]})))}}async _generateUncached(e,t,n){var m;const i=e.map(_=>_.map(Yr)),s=await Be.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),a={options:t,invocation_params:this==null?void 0:this.invocationParams(t)},o=await(s==null?void 0:s.handleChatModelStart(this.toJSON(),i,void 0,void 0,a,void 0,void 0,n.runName)),u=await Promise.allSettled(i.map((_,y)=>this._generate(_,{...t,promptIndex:y},o==null?void 0:o[y]))),c=[],d=[];await Promise.all(u.map(async(_,y)=>{var A,p;if(_.status==="fulfilled"){const P=_.value;return c[y]=P.generations,d[y]=P.llmOutput,(A=o==null?void 0:o[y])==null?void 0:A.handleLLMEnd({generations:[P.generations],llmOutput:P.llmOutput})}else return await((p=o==null?void 0:o[y])==null?void 0:p.handleLLMError(_.reason)),Promise.reject(_.reason)}));const f={generations:c,llmOutput:d.length?(m=this._combineLLMOutput)==null?void 0:m.call(this,...d):void 0};return Object.defineProperty(f,Bo,{value:o?{runIds:o==null?void 0:o.map(_=>_.runId)}:void 0,configurable:!0}),f}async generate(e,t,n){let i;Array.isArray(t)?i={stop:t}:i=t;const s=e.map(_=>_.map(Yr)),[a,o]=this._separateRunnableConfigFromCallOptions(i);if(a.callbacks=a.callbacks??n,!this.cache)return this._generateUncached(s,o,a);const{cache:u}=this,c=this._getSerializedCacheKeyParametersForCall(o),d=[],f=await Promise.all(s.map(async(_,y)=>{const A=kt._convertInputToPromptValue(_).toString(),p=await u.lookup(A,c);return p||d.push(y),p}));let m={};if(d.length>0){const _=await this._generateUncached(d.map(y=>s[y]),o,a);await Promise.all(_.generations.map(async(y,A)=>{const p=d[A];f[p]=y;const P=kt._convertInputToPromptValue(s[p]).toString();return u.update(P,c,y)})),m=_.llmOutput??{}}return{generations:f,llmOutput:m}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,t,n){const i=e.map(s=>s.toChatMessages());return this.generate(i,t,n)}async call(e,t,n){return(await this.generate([e.map(Yr)],t,n)).generations[0][0].message}async callPrompt(e,t,n){const i=e.toChatMessages();return this.call(i,t,n)}async predictMessages(e,t,n){return this.call(e,t,n)}async predict(e,t,n){const i=new Sr(e);return(await this.call([i],t,n)).content}}function ry(r){return r.role!=="system"&&r.role!=="assistant"&&r.role!=="user"&&r.role!=="function"&&console.warn(`Unknown message role: ${r.role}`),r.role}function Oi(r){const e=r._getType();switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"generic":{if(!Vo.isInstance(r))throw new Error("Invalid generic chat message");return ry(r)}default:throw new Error(`Unknown message type: ${e}`)}}function ny(r){switch(r.role){case"user":return new Sr(r.content||"");case"assistant":return new gs(r.content||"",{function_call:r.function_call});case"system":return new Zo(r.content||"");default:return new Vo(r.content||"",r.role??"unknown")}}function iy(r,e){const t=r.role??e,n=r.content??"";let i;return r.function_call?i={function_call:r.function_call}:i={},t==="user"?new vn({content:n}):t==="assistant"?new wn({content:n,additional_kwargs:i}):t==="system"?new In({content:n}):t==="function"?new An({content:n,additional_kwargs:i,name:r.name}):new En({content:n,role:t})}class sy extends kt{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","promptIndex"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){var n,i,s,a,o,u,c,d;if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.openAIApiKey)??ce("OPENAI_API_KEY"),this.azureOpenAIApiKey=(e==null?void 0:e.azureOpenAIApiKey)??ce("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=(e==null?void 0:e.azureOpenAIApiInstanceName)??ce("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=(e==null?void 0:e.azureOpenAIApiDeploymentName)??ce("AZURE_OPENAI_API_DEPLOYMENT_NAME"),this.azureOpenAIApiVersion=(e==null?void 0:e.azureOpenAIApiVersion)??ce("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??ce("AZURE_OPENAI_BASE_PATH"),this.organization=((n=e==null?void 0:e.configuration)==null?void 0:n.organization)??ce("OPENAI_ORGANIZATION"),this.modelName=(e==null?void 0:e.modelName)??this.modelName,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.maxTokens=e==null?void 0:e.maxTokens,this.n=(e==null?void 0:e.n)??this.n,this.logitBias=e==null?void 0:e.logitBias,this.stop=e==null?void 0:e.stop,this.user=e==null?void 0:e.user,this.streaming=(e==null?void 0:e.streaming)??!1,this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.openAIApiKey=this.openAIApiKey??""}this.clientConfig={apiKey:this.openAIApiKey,organization:this.organization,baseURL:(t==null?void 0:t.basePath)??((i=e==null?void 0:e.configuration)==null?void 0:i.basePath),dangerouslyAllowBrowser:!0,defaultHeaders:((s=t==null?void 0:t.baseOptions)==null?void 0:s.headers)??((o=(a=e==null?void 0:e.configuration)==null?void 0:a.baseOptions)==null?void 0:o.headers),defaultQuery:((u=t==null?void 0:t.baseOptions)==null?void 0:u.params)??((d=(c=e==null?void 0:e.configuration)==null?void 0:c.baseOptions)==null?void 0:d.params),...t,...e==null?void 0:e.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,max_tokens:this.maxTokens===-1?void 0:this.maxTokens,n:this.n,logit_bias:this.logitBias,stop:(e==null?void 0:e.stop)??this.stop,user:this.user,stream:this.streaming,functions:(e==null?void 0:e.functions)??(e!=null&&e.tools?e==null?void 0:e.tools.map(ty):void 0),function_call:e==null?void 0:e.function_call,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(e,t,n){var u;const i=e.map(c=>({role:Oi(c),content:c.content,name:c.name,function_call:c.additional_kwargs.function_call})),s={...this.invocationParams(t),messages:i,stream:!0};let a;const o=await this.completionWithRetry(s,t);for await(const c of o){const d=c==null?void 0:c.choices[0];if(!d)continue;const{delta:f}=d,m=iy(f,a);a=f.role??a;const _={prompt:t.promptIndex??0,completion:d.index??0},y=new ys({message:m,text:m.content,generationInfo:_});yield y,n==null||n.handleLLMNewToken(y.text??"",_,void 0,void 0,void 0,{chunk:y})}if((u=t.signal)!=null&&u.aborted)throw new Error("AbortError")}identifyingParams(){return this._identifyingParams()}async _generate(e,t,n){var o,u;const i={},s=this.invocationParams(t),a=e.map(c=>({role:Oi(c),content:c.content,name:c.name,function_call:c.additional_kwargs.function_call}));if(s.stream){const c=await this._streamResponseChunks(e,t,n),d={};for await(const m of c){const _=((o=m.generationInfo)==null?void 0:o.completion)??0;d[_]===void 0?d[_]=m:d[_]=d[_].concat(m)}return{generations:Object.entries(d).sort(([m],[_])=>parseInt(m,10)-parseInt(_,10)).map(([m,_])=>_)}}else{const c=await this.completionWithRetry({...s,stream:!1,messages:a},{signal:t==null?void 0:t.signal,...t==null?void 0:t.options}),{completion_tokens:d,prompt_tokens:f,total_tokens:m}=(c==null?void 0:c.usage)??{};d&&(i.completionTokens=(i.completionTokens??0)+d),f&&(i.promptTokens=(i.promptTokens??0)+f),m&&(i.totalTokens=(i.totalTokens??0)+m);const _=[];for(const y of(c==null?void 0:c.choices)??[]){const p={text:((u=y.message)==null?void 0:u.content)??"",message:ny(y.message??{role:"assistant"})};y.finish_reason&&(p.generationInfo={finish_reason:y.finish_reason}),_.push(p)}return{generations:_,llmOutput:{tokenUsage:i}}}}async getNumTokensFromMessages(e){let t=0,n=0,i=0;xr(this.modelName)==="gpt-3.5-turbo"?(n=4,i=-1):xr(this.modelName).startsWith("gpt-4")&&(n=3,i=1);const s=await Promise.all(e.map(async a=>{const o=await this.getNumTokens(a.content),u=await this.getNumTokens(Oi(a)),c=a.name!==void 0?i+await this.getNumTokens(a.name):0,d=o+n+u+c;return t+=d,d}));return t+=3,{totalCount:t,countPerMessage:s}}async completionWithRetry(e,t){const n=this._getClientOptions(t);return this.caller.call(async()=>{try{return await this.client.chat.completions.create(e,n)}catch(i){throw Bn(i)}})}_getClientOptions(e){if(!this.client){const n={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=zn(n),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new Pe(s)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce((t,n)=>(n&&n.tokenUsage&&(t.tokenUsage.completionTokens+=n.tokenUsage.completionTokens??0,t.tokenUsage.promptTokens+=n.tokenUsage.promptTokens??0,t.tokenUsage.totalTokens+=n.tokenUsage.totalTokens??0),t),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}}const ay=Object.freeze(Object.defineProperty({__proto__:null,ChatOpenAI:sy},Symbol.toStringTag,{value:"Module"}));exports.DEFAULT_SETTINGS=xn;exports.FileSelectModal=Ps;exports.default=gg;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC91dGlscy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZG9tLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9saWZlY3ljbGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3NjaGVkdWxlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvdHJhbnNpdGlvbnMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2VhY2guanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3NwcmVhZC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvQ29tcG9uZW50LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvc2hhcmVkL3ZlcnNpb24uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2Rpc2Nsb3NlLXZlcnNpb24vaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlLWljb25zL2NvbXBvbmVudHMvSWNvbkJhc2Uuc3ZlbHRlIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS1pY29ucy9tZC9NZFNlbmQuc3ZlbHRlIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9zdG9yZS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvcmV0cnkvbGliL3JldHJ5X29wZXJhdGlvbi5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvcmV0cnkvbGliL3JldHJ5LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9yZXRyeS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvcC1yZXRyeS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL25hdGl2ZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kZWNhbWVsaXplL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9jYW1lbGNhc2UvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xvYWQvbWFwX2tleXMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xvYWQvc2VyaWFsaXphYmxlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvYW5zaS1zdHlsZXMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NhbGxiYWNrcy9oYW5kbGVycy90cmFjZXIuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NhbGxiYWNrcy9oYW5kbGVycy9jb25zb2xlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9wLWZpbmFsbHkvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3AtdGltZW91dC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvcC1xdWV1ZS9kaXN0L2xvd2VyLWJvdW5kLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9wLXF1ZXVlL2Rpc3QvcHJpb3JpdHktcXVldWUuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3AtcXVldWUvZGlzdC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ3NtaXRoL2Rpc3QvdXRpbHMvYXN5bmNfY2FsbGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nc21pdGgvZGlzdC91dGlscy9tZXNzYWdlcy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ3NtaXRoL2Rpc3QvdXRpbHMvZW52LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nc21pdGgvZGlzdC9jbGllbnQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvZW52LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvaGFuZGxlcnMvdHJhY2VyX2xhbmdjaGFpbi5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvbWVtb3J5L2Jhc2UuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NhbGxiYWNrcy9oYW5kbGVycy90cmFjZXJfbGFuZ2NoYWluX3YxLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvaGFuZGxlcnMvaW5pdGlhbGl6ZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2FsbGJhY2tzL3Byb21pc2VzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvbWFuYWdlci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdXRpbC9mYXN0LWpzb24tcGF0Y2gvc3JjL2hlbHBlcnMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvZmFzdC1qc29uLXBhdGNoL3NyYy9jb3JlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC91dGlsL3N0cmVhbS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2FsbGJhY2tzL2hhbmRsZXJzL2xvZ19zdHJlYW0uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3NjaGVtYS9ydW5uYWJsZS9jb25maWcuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvYXN5bmNfY2FsbGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9zY2hlbWEvcnVubmFibGUvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvc2NoZW1hL3J1bm5hYmxlL3Bhc3N0aHJvdWdoLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvdmVyc2lvbi5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9zdHJlYW1pbmcubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvZXJyb3IubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL2FnZW50Lm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9mZXRjaC5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9fc2hpbXMvZm9ybWRhdGEubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL2dldE11bHRpcGFydFJlcXVlc3RPcHRpb25zLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9maWxlRnJvbVBhdGgubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL25vZGUtcmVhZGFibGUubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvdXBsb2Fkcy5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9jb3JlLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3BhZ2luYXRpb24ubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2UubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL3RyYW5zY3JpcHRpb25zLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9hdWRpby90cmFuc2xhdGlvbnMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL2F1ZGlvLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jaGF0L2NvbXBsZXRpb25zLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jaGF0L2NoYXQubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NvbXBsZXRpb25zLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9lbWJlZGRpbmdzLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9lZGl0cy5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZmlsZXMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuZXMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2ZpbmUtdHVuaW5nLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9pbWFnZXMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL21vZGVscy5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvbW9kZXJhdGlvbnMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvaW5kZXgubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9qcy10aWt0b2tlbi9kaXN0L2NodW5rLVhYUEdaSFdaLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2pzLXRpa3Rva2VuL2Rpc3QvY2h1bmstVEhHWlNPTkYuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvdGlrdG9rZW4uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2Jhc2VfbGFuZ3VhZ2UvY291bnRfdG9rZW5zLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9zY2hlbWEvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvYXp1cmUuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvY2h1bmsuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3Byb21wdHMvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvcHJvbXB0cy90ZW1wbGF0ZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvcHJvbXB0cy9wcm9tcHQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3Byb21wdHMvY2hhdC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb2JqZWN0LWhhc2gvZGlzdC9vYmplY3RfaGFzaC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2FjaGUvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2FjaGUvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2Jhc2VfbGFuZ3VhZ2UvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xsbXMvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdXRpbC9vcGVuYWkuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xsbXMvb3BlbmFpLWNoYXQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xsbXMvb3BlbmFpLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9kb2N1bWVudC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvcHJvbXB0cy9mZXdfc2hvdC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy90b2tlbml6ZXIvbGFuZ3VhZ2VzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC91dGlscy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvZXJyb3JzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2RlZmF1bHRzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2RvY3VtZW50cy1zdG9yZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9wbHVnaW5zLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2hvb2tzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC90cmVlcy9hdmwuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L3RyZWVzL2ZsYXQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvbGV2ZW5zaHRlaW4uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L3RyZWVzL3JhZGl4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC90cmVlcy9ia2QuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvYWxnb3JpdGhtcy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9jb3NpbmUtc2ltaWxhcml0eS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9zb3J0ZXIuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvdG9rZW5pemVyL2RpYWNyaXRpY3MuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvdG9rZW5pemVyL2VuZ2xpc2gtc3RlbW1lci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy90b2tlbml6ZXIvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L21ldGhvZHMvY3JlYXRlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC90eXBlcy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9zeW5jLWJsb2NraW5nLWNoZWNrZXIuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L21ldGhvZHMvaW5zZXJ0LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9tZXRob2RzL3NlYXJjaC12ZWN0b3IuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L21ldGhvZHMvc2VyaWFsaXphdGlvbi5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vdXRpbHMvaW50Lm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vdXRpbHMvdXRmOC5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0Btc2dwYWNrL21zZ3BhY2svZGlzdC5lczUrZXNtL0V4dERhdGEubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9AbXNncGFjay9tc2dwYWNrL2Rpc3QuZXM1K2VzbS9EZWNvZGVFcnJvci5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0Btc2dwYWNrL21zZ3BhY2svZGlzdC5lczUrZXNtL3RpbWVzdGFtcC5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0Btc2dwYWNrL21zZ3BhY2svZGlzdC5lczUrZXNtL0V4dGVuc2lvbkNvZGVjLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vdXRpbHMvdHlwZWRBcnJheXMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9AbXNncGFjay9tc2dwYWNrL2Rpc3QuZXM1K2VzbS9FbmNvZGVyLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vZW5jb2RlLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vdXRpbHMvcHJldHR5Qnl0ZS5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0Btc2dwYWNrL21zZ3BhY2svZGlzdC5lczUrZXNtL0NhY2hlZEtleURlY29kZXIubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9AbXNncGFjay9tc2dwYWNrL2Rpc3QuZXM1K2VzbS9EZWNvZGVyLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vZGVjb2RlLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvZHBhY2svbGliL3NlcmlhbGl6ZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvZHBhY2svbGliL3BhcnNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kcGFjay9saWIvcGFyc2Utc3RyZWFtLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kcGFjay9saWIvbm9kZS1lbmNvZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kcGFjay9saWIvT3B0aW9ucy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvZHBhY2svbGliL3NoYXJlZC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvZHBhY2svbGliL0Jsb2NrLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kcGFjay9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL3BsdWdpbi1kYXRhLXBlcnNpc3RlbmNlL2Rpc3QvZXJyb3JzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvcGx1Z2luLWRhdGEtcGVyc2lzdGVuY2UvZGlzdC91dGlscy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL3BsdWdpbi1kYXRhLXBlcnNpc3RlbmNlL2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3NjaGVtYS9yZXRyaWV2ZXIuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3ZlY3RvcnN0b3Jlcy9iYXNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9lbWJlZGRpbmdzL2Jhc2UuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2VtYmVkZGluZ3Mvb3BlbmFpLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9zY2hlbWEvb3V0cHV0X3BhcnNlci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9kaXN0L2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vc3JjL3N0b3JlLnRzIiwiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvSW5wdXQuc3ZlbHRlIiwiLi4vLi4vLi4vLi4vc3JjL3ZpZXdzL0NoYXRNb2RhbC50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUtaWNvbnMvbWQvTWRDb250ZW50Q29weS5zdmVsdGUiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlLWljb25zL21kL01kTGlicmFyeUJvb2tzLnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL01lc3NhZ2VzLnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0NoYXRWaWV3LnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL3NyYy92aWV3cy9DaGF0Vmlldy50cyIsIi4uLy4uLy4uLy4uL3NyYy92aWV3cy9TZXR0aW5ncy50cyIsIi4uLy4uLy4uLy4uL3NyYy9tYWluLnRzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2hlbHBlcnMvdXRpbC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kL2xpYi9ab2RFcnJvci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kL2xpYi9sb2NhbGVzL2VuLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2Vycm9ycy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kL2xpYi9oZWxwZXJzL3BhcnNlVXRpbC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kL2xpYi9oZWxwZXJzL3R5cGVBbGlhc2VzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2hlbHBlcnMvZXJyb3JVdGlsLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL3R5cGVzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2V4dGVybmFsLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvYW55LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL2Vycm9yTWVzc2FnZXMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9hcnJheS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL2JpZ2ludC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL2Jvb2xlYW4uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9icmFuZGVkLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvY2F0Y2guanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9kYXRlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvZGVmYXVsdC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL2VmZmVjdHMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9lbnVtLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvaW50ZXJzZWN0aW9uLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvbGl0ZXJhbC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL21hcC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL25hdGl2ZUVudW0uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9uZXZlci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL251bGwuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy91bmlvbi5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL251bGxhYmxlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvbnVtYmVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvb2JqZWN0LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvb3B0aW9uYWwuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9waXBlbGluZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL3Byb21pc2UuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9zdHJpbmcuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9yZWNvcmQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9zZXQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy90dXBsZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL3VuZGVmaW5lZC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL3Vua25vd24uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2VEZWYuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvT3B0aW9ucy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9SZWZzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3pvZFRvSnNvblNjaGVtYS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC90b29scy9jb252ZXJ0X3RvX29wZW5haS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhdF9tb2RlbHMvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhdF9tb2RlbHMvb3BlbmFpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkge31cblxuZXhwb3J0IGNvbnN0IGlkZW50aXR5ID0gKHgpID0+IHg7XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSBTXG4gKiBAcGFyYW0ge1R9IHRhclxuICogQHBhcmFtIHtTfSBzcmNcbiAqIEByZXR1cm5zIHtUICYgU31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbih0YXIsIHNyYykge1xuXHQvLyBAdHMtaWdub3JlXG5cdGZvciAoY29uc3QgayBpbiBzcmMpIHRhcltrXSA9IHNyY1trXTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7VCAmIFN9ICovICh0YXIpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9pbmRleC5qc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgTUlUIExpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9MSUNFTlNFXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHJldHVybnMge3ZhbHVlIGlzIFByb21pc2VMaWtlPGFueT59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19wcm9taXNlKHZhbHVlKSB7XG5cdHJldHVybiAoXG5cdFx0ISF2YWx1ZSAmJlxuXHRcdCh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgJiZcblx0XHR0eXBlb2YgKC8qKiBAdHlwZSB7YW55fSAqLyAodmFsdWUpLnRoZW4pID09PSAnZnVuY3Rpb24nXG5cdCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfbG9jYXRpb24oZWxlbWVudCwgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyKSB7XG5cdGVsZW1lbnQuX19zdmVsdGVfbWV0YSA9IHtcblx0XHRsb2M6IHsgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyIH1cblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bihmbikge1xuXHRyZXR1cm4gZm4oKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsYW5rX29iamVjdCgpIHtcblx0cmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtGdW5jdGlvbltdfSBmbnNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuX2FsbChmbnMpIHtcblx0Zm5zLmZvckVhY2gocnVuKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gdGhpbmdcbiAqIEByZXR1cm5zIHt0aGluZyBpcyBGdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Z1bmN0aW9uKHRoaW5nKSB7XG5cdHJldHVybiB0eXBlb2YgdGhpbmcgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlX25vdF9lcXVhbChhLCBiKSB7XG5cdHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiIHx8IChhICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JykgfHwgdHlwZW9mIGEgPT09ICdmdW5jdGlvbic7XG59XG5cbmxldCBzcmNfdXJsX2VxdWFsX2FuY2hvcjtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudF9zcmNcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3JjX3VybF9lcXVhbChlbGVtZW50X3NyYywgdXJsKSB7XG5cdGlmIChlbGVtZW50X3NyYyA9PT0gdXJsKSByZXR1cm4gdHJ1ZTtcblx0aWYgKCFzcmNfdXJsX2VxdWFsX2FuY2hvcikge1xuXHRcdHNyY191cmxfZXF1YWxfYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHR9XG5cdC8vIFRoaXMgaXMgYWN0dWFsbHkgZmFzdGVyIHRoYW4gZG9pbmcgVVJMKC4uKS5ocmVmXG5cdHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWYgPSB1cmw7XG5cdHJldHVybiBlbGVtZW50X3NyYyA9PT0gc3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZjtcbn1cblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBzcmNzZXQgKi9cbmZ1bmN0aW9uIHNwbGl0X3NyY3NldChzcmNzZXQpIHtcblx0cmV0dXJuIHNyY3NldC5zcGxpdCgnLCcpLm1hcCgoc3JjKSA9PiBzcmMudHJpbSgpLnNwbGl0KCcgJykuZmlsdGVyKEJvb2xlYW4pKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxTb3VyY2VFbGVtZW50IHwgSFRNTEltYWdlRWxlbWVudH0gZWxlbWVudF9zcmNzZXRcbiAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbH0gc3Jjc2V0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNyY3NldF91cmxfZXF1YWwoZWxlbWVudF9zcmNzZXQsIHNyY3NldCkge1xuXHRjb25zdCBlbGVtZW50X3VybHMgPSBzcGxpdF9zcmNzZXQoZWxlbWVudF9zcmNzZXQuc3Jjc2V0KTtcblx0Y29uc3QgdXJscyA9IHNwbGl0X3NyY3NldChzcmNzZXQgfHwgJycpO1xuXG5cdHJldHVybiAoXG5cdFx0dXJscy5sZW5ndGggPT09IGVsZW1lbnRfdXJscy5sZW5ndGggJiZcblx0XHR1cmxzLmV2ZXJ5KFxuXHRcdFx0KFt1cmwsIHdpZHRoXSwgaSkgPT5cblx0XHRcdFx0d2lkdGggPT09IGVsZW1lbnRfdXJsc1tpXVsxXSAmJlxuXHRcdFx0XHQvLyBXZSBuZWVkIHRvIHRlc3QgYm90aCB3YXlzIGJlY2F1c2UgVml0ZSB3aWxsIGNyZWF0ZSBhbiBhIGZ1bGwgVVJMIHdpdGhcblx0XHRcdFx0Ly8gYG5ldyBVUkwoYXNzZXQsIGltcG9ydC5tZXRhLnVybCkuaHJlZmAgZm9yIHRoZSBjbGllbnQgd2hlbiBgYmFzZTogJy4vJ2AsIGFuZCB0aGVcblx0XHRcdFx0Ly8gcmVsYXRpdmUgVVJMcyBpbnNpZGUgc3Jjc2V0IGFyZSBub3QgYXV0b21hdGljYWxseSByZXNvbHZlZCB0byBhYnNvbHV0ZSBVUkxzIGJ5XG5cdFx0XHRcdC8vIGJyb3dzZXJzIChpbiBjb250cmFzdCB0byBpbWcuc3JjKS4gVGhpcyBtZWFucyBib3RoIFNTUiBhbmQgRE9NIGNvZGUgY291bGRcblx0XHRcdFx0Ly8gY29udGFpbiByZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkxzLlxuXHRcdFx0XHQoc3JjX3VybF9lcXVhbChlbGVtZW50X3VybHNbaV1bMF0sIHVybCkgfHwgc3JjX3VybF9lcXVhbCh1cmwsIGVsZW1lbnRfdXJsc1tpXVswXSkpXG5cdFx0KVxuXHQpO1xufVxuXG4vKiogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcblx0cmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGI7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19lbXB0eShvYmopIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVfc3RvcmUoc3RvcmUsIG5hbWUpIHtcblx0aWYgKHN0b3JlICE9IG51bGwgJiYgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHRocm93IG5ldyBFcnJvcihgJyR7bmFtZX0nIGlzIG5vdCBhIHN0b3JlIHdpdGggYSAnc3Vic2NyaWJlJyBtZXRob2RgKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCAuLi5jYWxsYmFja3MpIHtcblx0aWYgKHN0b3JlID09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGNhbGxiYWNrcykge1xuXHRcdFx0Y2FsbGJhY2sodW5kZWZpbmVkKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5vb3A7XG5cdH1cblx0Y29uc3QgdW5zdWIgPSBzdG9yZS5zdWJzY3JpYmUoLi4uY2FsbGJhY2tzKTtcblx0cmV0dXJuIHVuc3ViLnVuc3Vic2NyaWJlID8gKCkgPT4gdW5zdWIudW5zdWJzY3JpYmUoKSA6IHVuc3ViO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIGEgc3RvcmUgYnkgc3Vic2NyaWJpbmcgYW5kIGltbWVkaWF0ZWx5IHVuc3Vic2NyaWJpbmcuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2dldFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9zdG9yZS9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn0gc3RvcmVcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3N0b3JlX3ZhbHVlKHN0b3JlKSB7XG5cdGxldCB2YWx1ZTtcblx0c3Vic2NyaWJlKHN0b3JlLCAoXykgPT4gKHZhbHVlID0gXykpKCk7XG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudF9zdWJzY3JpYmUoY29tcG9uZW50LCBzdG9yZSwgY2FsbGJhY2spIHtcblx0Y29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG5cdGlmIChkZWZpbml0aW9uKSB7XG5cdFx0Y29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pO1xuXHRcdHJldHVybiBkZWZpbml0aW9uWzBdKHNsb3RfY3R4KTtcblx0fVxufVxuXG5mdW5jdGlvbiBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcblx0cmV0dXJuIGRlZmluaXRpb25bMV0gJiYgZm4gPyBhc3NpZ24oJCRzY29wZS5jdHguc2xpY2UoKSwgZGVmaW5pdGlvblsxXShmbihjdHgpKSkgOiAkJHNjb3BlLmN0eDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9zbG90X2NoYW5nZXMoZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGZuKSB7XG5cdGlmIChkZWZpbml0aW9uWzJdICYmIGZuKSB7XG5cdFx0Y29uc3QgbGV0cyA9IGRlZmluaXRpb25bMl0oZm4oZGlydHkpKTtcblx0XHRpZiAoJCRzY29wZS5kaXJ0eSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gbGV0cztcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBsZXRzID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Y29uc3QgbWVyZ2VkID0gW107XG5cdFx0XHRjb25zdCBsZW4gPSBNYXRoLm1heCgkJHNjb3BlLmRpcnR5Lmxlbmd0aCwgbGV0cy5sZW5ndGgpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuXHRcdFx0XHRtZXJnZWRbaV0gPSAkJHNjb3BlLmRpcnR5W2ldIHwgbGV0c1tpXTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtZXJnZWQ7XG5cdFx0fVxuXHRcdHJldHVybiAkJHNjb3BlLmRpcnR5IHwgbGV0cztcblx0fVxuXHRyZXR1cm4gJCRzY29wZS5kaXJ0eTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9zbG90X2Jhc2UoXG5cdHNsb3QsXG5cdHNsb3RfZGVmaW5pdGlvbixcblx0Y3R4LFxuXHQkJHNjb3BlLFxuXHRzbG90X2NoYW5nZXMsXG5cdGdldF9zbG90X2NvbnRleHRfZm5cbikge1xuXHRpZiAoc2xvdF9jaGFuZ2VzKSB7XG5cdFx0Y29uc3Qgc2xvdF9jb250ZXh0ID0gZ2V0X3Nsb3RfY29udGV4dChzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG5cdFx0c2xvdC5wKHNsb3RfY29udGV4dCwgc2xvdF9jaGFuZ2VzKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3Nsb3QoXG5cdHNsb3QsXG5cdHNsb3RfZGVmaW5pdGlvbixcblx0Y3R4LFxuXHQkJHNjb3BlLFxuXHRkaXJ0eSxcblx0Z2V0X3Nsb3RfY2hhbmdlc19mbixcblx0Z2V0X3Nsb3RfY29udGV4dF9mblxuKSB7XG5cdGNvbnN0IHNsb3RfY2hhbmdlcyA9IGdldF9zbG90X2NoYW5nZXMoc2xvdF9kZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZ2V0X3Nsb3RfY2hhbmdlc19mbik7XG5cdHVwZGF0ZV9zbG90X2Jhc2Uoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIHNsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W10gfCAtMX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUoJCRzY29wZSkge1xuXHRpZiAoJCRzY29wZS5jdHgubGVuZ3RoID4gMzIpIHtcblx0XHRjb25zdCBkaXJ0eSA9IFtdO1xuXHRcdGNvbnN0IGxlbmd0aCA9ICQkc2NvcGUuY3R4Lmxlbmd0aCAvIDMyO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdGRpcnR5W2ldID0gLTE7XG5cdFx0fVxuXHRcdHJldHVybiBkaXJ0eTtcblx0fVxuXHRyZXR1cm4gLTE7XG59XG5cbi8qKiBAcmV0dXJucyB7e319ICovXG5leHBvcnQgZnVuY3Rpb24gZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyhwcm9wcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBrIGluIHByb3BzKSBpZiAoa1swXSAhPT0gJyQnKSByZXN1bHRba10gPSBwcm9wc1trXTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlX3Jlc3RfcHJvcHMocHJvcHMsIGtleXMpIHtcblx0Y29uc3QgcmVzdCA9IHt9O1xuXHRrZXlzID0gbmV3IFNldChrZXlzKTtcblx0Zm9yIChjb25zdCBrIGluIHByb3BzKSBpZiAoIWtleXMuaGFzKGspICYmIGtbMF0gIT09ICckJykgcmVzdFtrXSA9IHByb3BzW2tdO1xuXHRyZXR1cm4gcmVzdDtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlX3Nsb3RzKHNsb3RzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuXHRcdHJlc3VsdFtrZXldID0gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogQHJldHVybnMgeyh0aGlzOiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uY2UoZm4pIHtcblx0bGV0IHJhbiA9IGZhbHNlO1xuXHRyZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcblx0XHRpZiAocmFuKSByZXR1cm47XG5cdFx0cmFuID0gdHJ1ZTtcblx0XHRmbi5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc3RvcmVfdmFsdWUoc3RvcmUsIHJldCwgdmFsdWUpIHtcblx0c3RvcmUuc2V0KHZhbHVlKTtcblx0cmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGNvbnN0IGhhc19wcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhY3Rpb25fZGVzdHJveWVyKGFjdGlvbl9yZXN1bHQpIHtcblx0cmV0dXJuIGFjdGlvbl9yZXN1bHQgJiYgaXNfZnVuY3Rpb24oYWN0aW9uX3Jlc3VsdC5kZXN0cm95KSA/IGFjdGlvbl9yZXN1bHQuZGVzdHJveSA6IG5vb3A7XG59XG5cbi8qKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEByZXR1cm5zIHtbbnVtYmVyLCBzdHJpbmddfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRfY3NzX3VuaXQodmFsdWUpIHtcblx0Y29uc3Qgc3BsaXQgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLm1hdGNoKC9eXFxzKigtP1tcXGQuXSspKFteXFxzXSopXFxzKiQvKTtcblx0cmV0dXJuIHNwbGl0ID8gW3BhcnNlRmxvYXQoc3BsaXRbMV0pLCBzcGxpdFsyXSB8fCAncHgnXSA6IFsvKiogQHR5cGUge251bWJlcn0gKi8gKHZhbHVlKSwgJ3B4J107XG59XG5cbmV4cG9ydCBjb25zdCBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcyA9IFsnJywgdHJ1ZSwgMSwgJ3RydWUnLCAnY29udGVudGVkaXRhYmxlJ107XG4iLCJpbXBvcnQgeyBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcywgaGFzX3Byb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24gfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmVyU2luZ2xldG9uLmpzJztcblxuLy8gVHJhY2sgd2hpY2ggbm9kZXMgYXJlIGNsYWltZWQgZHVyaW5nIGh5ZHJhdGlvbi4gVW5jbGFpbWVkIG5vZGVzIGNhbiB0aGVuIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4vLyBhdCB0aGUgZW5kIG9mIGh5ZHJhdGlvbiB3aXRob3V0IHRvdWNoaW5nIHRoZSByZW1haW5pbmcgbm9kZXMuXG5sZXQgaXNfaHlkcmF0aW5nID0gZmFsc2U7XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydF9oeWRyYXRpbmcoKSB7XG5cdGlzX2h5ZHJhdGluZyA9IHRydWU7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRfaHlkcmF0aW5nKCkge1xuXHRpc19oeWRyYXRpbmcgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbG93XG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaFxuICogQHBhcmFtIHsoaW5kZXg6IG51bWJlcikgPT4gbnVtYmVyfSBrZXlcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gdXBwZXJfYm91bmQobG93LCBoaWdoLCBrZXksIHZhbHVlKSB7XG5cdC8vIFJldHVybiBmaXJzdCBpbmRleCBvZiB2YWx1ZSBsYXJnZXIgdGhhbiBpbnB1dCB2YWx1ZSBpbiB0aGUgcmFuZ2UgW2xvdywgaGlnaClcblx0d2hpbGUgKGxvdyA8IGhpZ2gpIHtcblx0XHRjb25zdCBtaWQgPSBsb3cgKyAoKGhpZ2ggLSBsb3cpID4+IDEpO1xuXHRcdGlmIChrZXkobWlkKSA8PSB2YWx1ZSkge1xuXHRcdFx0bG93ID0gbWlkICsgMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aGlnaCA9IG1pZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGxvdztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGVFeH0gdGFyZ2V0XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gaW5pdF9oeWRyYXRlKHRhcmdldCkge1xuXHRpZiAodGFyZ2V0Lmh5ZHJhdGVfaW5pdCkgcmV0dXJuO1xuXHR0YXJnZXQuaHlkcmF0ZV9pbml0ID0gdHJ1ZTtcblx0Ly8gV2Uga25vdyB0aGF0IGFsbCBjaGlsZHJlbiBoYXZlIGNsYWltX29yZGVyIHZhbHVlcyBzaW5jZSB0aGUgdW5jbGFpbWVkIGhhdmUgYmVlbiBkZXRhY2hlZCBpZiB0YXJnZXQgaXMgbm90IDxoZWFkPlxuXG5cdGxldCBjaGlsZHJlbiA9IC8qKiBAdHlwZSB7QXJyYXlMaWtlPE5vZGVFeDI+fSAqLyAodGFyZ2V0LmNoaWxkTm9kZXMpO1xuXHQvLyBJZiB0YXJnZXQgaXMgPGhlYWQ+LCB0aGVyZSBtYXkgYmUgY2hpbGRyZW4gd2l0aG91dCBjbGFpbV9vcmRlclxuXHRpZiAodGFyZ2V0Lm5vZGVOYW1lID09PSAnSEVBRCcpIHtcblx0XHRjb25zdCBteV9jaGlsZHJlbiA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG5vZGUgPSBjaGlsZHJlbltpXTtcblx0XHRcdGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bXlfY2hpbGRyZW4ucHVzaChub2RlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y2hpbGRyZW4gPSBteV9jaGlsZHJlbjtcblx0fVxuXHQvKlxuXHQgKiBSZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5LlxuXHQgKiBXZSBjYW4gcmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseSBieSBmaW5kaW5nIHRoZSBsb25nZXN0IHN1YnNlcXVlbmNlIG9mXG5cdCAqIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgY2xhaW1lZCBpbiBvcmRlciBhbmQgb25seSBtb3ZpbmcgdGhlIHJlc3QuIFRoZSBsb25nZXN0XG5cdCAqIHN1YnNlcXVlbmNlIG9mIG5vZGVzIHRoYXQgYXJlIGNsYWltZWQgaW4gb3JkZXIgY2FuIGJlIGZvdW5kIGJ5XG5cdCAqIGNvbXB1dGluZyB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIC5jbGFpbV9vcmRlciB2YWx1ZXMuXG5cdCAqXG5cdCAqIFRoaXMgYWxnb3JpdGhtIGlzIG9wdGltYWwgaW4gZ2VuZXJhdGluZyB0aGUgbGVhc3QgYW1vdW50IG9mIHJlb3JkZXIgb3BlcmF0aW9uc1xuXHQgKiBwb3NzaWJsZS5cblx0ICpcblx0ICogUHJvb2Y6XG5cdCAqIFdlIGtub3cgdGhhdCwgZ2l2ZW4gYSBzZXQgb2YgcmVvcmRlcmluZyBvcGVyYXRpb25zLCB0aGUgbm9kZXMgdGhhdCBkbyBub3QgbW92ZVxuXHQgKiBhbHdheXMgZm9ybSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLCBzaW5jZSB0aGV5IGRvIG5vdCBtb3ZlIGFtb25nIGVhY2ggb3RoZXJcblx0ICogbWVhbmluZyB0aGF0IHRoZXkgbXVzdCBiZSBhbHJlYWR5IG9yZGVyZWQgYW1vbmcgZWFjaCBvdGhlci4gVGh1cywgdGhlIG1heGltYWxcblx0ICogc2V0IG9mIG5vZGVzIHRoYXQgZG8gbm90IG1vdmUgZm9ybSBhIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZS5cblx0ICovXG5cdC8vIENvbXB1dGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG5cdC8vIG06IHN1YnNlcXVlbmNlIGxlbmd0aCBqID0+IGluZGV4IGsgb2Ygc21hbGxlc3QgdmFsdWUgdGhhdCBlbmRzIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgbGVuZ3RoIGpcblx0Y29uc3QgbSA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCArIDEpO1xuXHQvLyBQcmVkZWNlc3NvciBpbmRpY2VzICsgMVxuXHRjb25zdCBwID0gbmV3IEludDMyQXJyYXkoY2hpbGRyZW4ubGVuZ3RoKTtcblx0bVswXSA9IC0xO1xuXHRsZXQgbG9uZ2VzdCA9IDA7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBjdXJyZW50ID0gY2hpbGRyZW5baV0uY2xhaW1fb3JkZXI7XG5cdFx0Ly8gRmluZCB0aGUgbGFyZ2VzdCBzdWJzZXF1ZW5jZSBsZW5ndGggc3VjaCB0aGF0IGl0IGVuZHMgaW4gYSB2YWx1ZSBsZXNzIHRoYW4gb3VyIGN1cnJlbnQgdmFsdWVcblx0XHQvLyB1cHBlcl9ib3VuZCByZXR1cm5zIGZpcnN0IGdyZWF0ZXIgdmFsdWUsIHNvIHdlIHN1YnRyYWN0IG9uZVxuXHRcdC8vIHdpdGggZmFzdCBwYXRoIGZvciB3aGVuIHdlIGFyZSBvbiB0aGUgY3VycmVudCBsb25nZXN0IHN1YnNlcXVlbmNlXG5cdFx0Y29uc3Qgc2VxX2xlbiA9XG5cdFx0XHQobG9uZ2VzdCA+IDAgJiYgY2hpbGRyZW5bbVtsb25nZXN0XV0uY2xhaW1fb3JkZXIgPD0gY3VycmVudFxuXHRcdFx0XHQ/IGxvbmdlc3QgKyAxXG5cdFx0XHRcdDogdXBwZXJfYm91bmQoMSwgbG9uZ2VzdCwgKGlkeCkgPT4gY2hpbGRyZW5bbVtpZHhdXS5jbGFpbV9vcmRlciwgY3VycmVudCkpIC0gMTtcblx0XHRwW2ldID0gbVtzZXFfbGVuXSArIDE7XG5cdFx0Y29uc3QgbmV3X2xlbiA9IHNlcV9sZW4gKyAxO1xuXHRcdC8vIFdlIGNhbiBndWFyYW50ZWUgdGhhdCBjdXJyZW50IGlzIHRoZSBzbWFsbGVzdCB2YWx1ZS4gT3RoZXJ3aXNlLCB3ZSB3b3VsZCBoYXZlIGdlbmVyYXRlZCBhIGxvbmdlciBzZXF1ZW5jZS5cblx0XHRtW25ld19sZW5dID0gaTtcblx0XHRsb25nZXN0ID0gTWF0aC5tYXgobmV3X2xlbiwgbG9uZ2VzdCk7XG5cdH1cblx0Ly8gVGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBub2RlcyAoaW5pdGlhbGx5IHJldmVyc2VkKVxuXG5cdC8qKlxuXHQgKiBAdHlwZSB7Tm9kZUV4MltdfVxuXHQgKi9cblx0Y29uc3QgbGlzID0gW107XG5cdC8vIFRoZSByZXN0IG9mIHRoZSBub2Rlcywgbm9kZXMgdGhhdCB3aWxsIGJlIG1vdmVkXG5cblx0LyoqXG5cdCAqIEB0eXBlIHtOb2RlRXgyW119XG5cdCAqL1xuXHRjb25zdCB0b19tb3ZlID0gW107XG5cdGxldCBsYXN0ID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTtcblx0Zm9yIChsZXQgY3VyID0gbVtsb25nZXN0XSArIDE7IGN1ciAhPSAwOyBjdXIgPSBwW2N1ciAtIDFdKSB7XG5cdFx0bGlzLnB1c2goY2hpbGRyZW5bY3VyIC0gMV0pO1xuXHRcdGZvciAoOyBsYXN0ID49IGN1cjsgbGFzdC0tKSB7XG5cdFx0XHR0b19tb3ZlLnB1c2goY2hpbGRyZW5bbGFzdF0pO1xuXHRcdH1cblx0XHRsYXN0LS07XG5cdH1cblx0Zm9yICg7IGxhc3QgPj0gMDsgbGFzdC0tKSB7XG5cdFx0dG9fbW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcblx0fVxuXHRsaXMucmV2ZXJzZSgpO1xuXHQvLyBXZSBzb3J0IHRoZSBub2RlcyBiZWluZyBtb3ZlZCB0byBndWFyYW50ZWUgdGhhdCB0aGVpciBpbnNlcnRpb24gb3JkZXIgbWF0Y2hlcyB0aGUgY2xhaW0gb3JkZXJcblx0dG9fbW92ZS5zb3J0KChhLCBiKSA9PiBhLmNsYWltX29yZGVyIC0gYi5jbGFpbV9vcmRlcik7XG5cdC8vIEZpbmFsbHksIHdlIG1vdmUgdGhlIG5vZGVzXG5cdGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvX21vdmUubGVuZ3RoOyBpKyspIHtcblx0XHR3aGlsZSAoaiA8IGxpcy5sZW5ndGggJiYgdG9fbW92ZVtpXS5jbGFpbV9vcmRlciA+PSBsaXNbal0uY2xhaW1fb3JkZXIpIHtcblx0XHRcdGorKztcblx0XHR9XG5cdFx0Y29uc3QgYW5jaG9yID0gaiA8IGxpcy5sZW5ndGggPyBsaXNbal0gOiBudWxsO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUodG9fbW92ZVtpXSwgYW5jaG9yKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuXHR0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZV9zaGVldF9pZFxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfc3R5bGVzKHRhcmdldCwgc3R5bGVfc2hlZXRfaWQsIHN0eWxlcykge1xuXHRjb25zdCBhcHBlbmRfc3R5bGVzX3RvID0gZ2V0X3Jvb3RfZm9yX3N0eWxlKHRhcmdldCk7XG5cdGlmICghYXBwZW5kX3N0eWxlc190by5nZXRFbGVtZW50QnlJZChzdHlsZV9zaGVldF9pZCkpIHtcblx0XHRjb25zdCBzdHlsZSA9IGVsZW1lbnQoJ3N0eWxlJyk7XG5cdFx0c3R5bGUuaWQgPSBzdHlsZV9zaGVldF9pZDtcblx0XHRzdHlsZS50ZXh0Q29udGVudCA9IHN0eWxlcztcblx0XHRhcHBlbmRfc3R5bGVzaGVldChhcHBlbmRfc3R5bGVzX3RvLCBzdHlsZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtTaGFkb3dSb290IHwgRG9jdW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSkge1xuXHRpZiAoIW5vZGUpIHJldHVybiBkb2N1bWVudDtcblx0Y29uc3Qgcm9vdCA9IG5vZGUuZ2V0Um9vdE5vZGUgPyBub2RlLmdldFJvb3ROb2RlKCkgOiBub2RlLm93bmVyRG9jdW1lbnQ7XG5cdGlmIChyb290ICYmIC8qKiBAdHlwZSB7U2hhZG93Um9vdH0gKi8gKHJvb3QpLmhvc3QpIHtcblx0XHRyZXR1cm4gLyoqIEB0eXBlIHtTaGFkb3dSb290fSAqLyAocm9vdCk7XG5cdH1cblx0cmV0dXJuIG5vZGUub3duZXJEb2N1bWVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtDU1NTdHlsZVNoZWV0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSkge1xuXHRjb25zdCBzdHlsZV9lbGVtZW50ID0gZWxlbWVudCgnc3R5bGUnKTtcblx0Ly8gRm9yIHRyYW5zaXRpb25zIHRvIHdvcmsgd2l0aG91dCAnc3R5bGUtc3JjOiB1bnNhZmUtaW5saW5lJyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSxcblx0Ly8gdGhlc2UgZW1wdHkgdGFncyBuZWVkIHRvIGJlIGFsbG93ZWQgd2l0aCBhIGhhc2ggYXMgYSB3b3JrYXJvdW5kIHVudGlsIHdlIG1vdmUgdG8gdGhlIFdlYiBBbmltYXRpb25zIEFQSS5cblx0Ly8gVXNpbmcgdGhlIGhhc2ggZm9yIHRoZSBlbXB0eSBzdHJpbmcgKGZvciBhbiBlbXB0eSB0YWcpIHdvcmtzIGluIGFsbCBicm93c2VycyBleGNlcHQgU2FmYXJpLlxuXHQvLyBTbyBhcyBhIHdvcmthcm91bmQgZm9yIHRoZSB3b3JrYXJvdW5kLCB3aGVuIHdlIGFwcGVuZCBlbXB0eSBzdHlsZSB0YWdzIHdlIHNldCB0aGVpciBjb250ZW50IHRvIC8qIGVtcHR5ICovLlxuXHQvLyBUaGUgaGFzaCAnc2hhMjU2LTlPbE5PMERORWVhVnpITDRSWndDTHNCSEE4V0JROHRvQnAvNEY1WFYybmM9JyB3aWxsIHRoZW4gd29yayBldmVuIGluIFNhZmFyaS5cblx0c3R5bGVfZWxlbWVudC50ZXh0Q29udGVudCA9ICcvKiBlbXB0eSAqLyc7XG5cdGFwcGVuZF9zdHlsZXNoZWV0KGdldF9yb290X2Zvcl9zdHlsZShub2RlKSwgc3R5bGVfZWxlbWVudCk7XG5cdHJldHVybiBzdHlsZV9lbGVtZW50LnNoZWV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U2hhZG93Um9vdCB8IERvY3VtZW50fSBub2RlXG4gKiBAcGFyYW0ge0hUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJucyB7Q1NTU3R5bGVTaGVldH1cbiAqL1xuZnVuY3Rpb24gYXBwZW5kX3N0eWxlc2hlZXQobm9kZSwgc3R5bGUpIHtcblx0YXBwZW5kKC8qKiBAdHlwZSB7RG9jdW1lbnR9ICovIChub2RlKS5oZWFkIHx8IG5vZGUsIHN0eWxlKTtcblx0cmV0dXJuIHN0eWxlLnNoZWV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZUV4fSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZUV4fSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKSB7XG5cdGlmIChpc19oeWRyYXRpbmcpIHtcblx0XHRpbml0X2h5ZHJhdGUodGFyZ2V0KTtcblx0XHRpZiAoXG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHQodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwgJiYgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KVxuXHRcdCkge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuZmlyc3RDaGlsZDtcblx0XHR9XG5cdFx0Ly8gU2tpcCBub2RlcyBvZiB1bmRlZmluZWQgb3JkZXJpbmdcblx0XHR3aGlsZSAodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwgJiYgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQuY2xhaW1fb3JkZXIgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5uZXh0U2libGluZztcblx0XHR9XG5cdFx0aWYgKG5vZGUgIT09IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGluc2VydCBpZiB0aGUgb3JkZXJpbmcgb2YgdGhpcyBub2RlIHNob3VsZCBiZSBtb2RpZmllZCBvciB0aGUgcGFyZW50IG5vZGUgaXMgbm90IHRhcmdldFxuXHRcdFx0aWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCB8fCBub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCkge1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSBub2RlLm5leHRTaWJsaW5nO1xuXHRcdH1cblx0fSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9PSBudWxsKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHBhcmFtIHtOb2RlfSBbYW5jaG9yXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcblx0dGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlRXh9IG5vZGVcbiAqIEBwYXJhbSB7Tm9kZUV4fSBbYW5jaG9yXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG5cdGlmIChpc19oeWRyYXRpbmcgJiYgIWFuY2hvcikge1xuXHRcdGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKTtcblx0fSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9IGFuY2hvcikge1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG5cdGlmIChub2RlLnBhcmVudE5vZGUpIHtcblx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2VhY2goaXRlcmF0aW9ucywgZGV0YWNoaW5nKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGlmIChpdGVyYXRpb25zW2ldKSBpdGVyYXRpb25zW2ldLmQoZGV0YWNoaW5nKTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwfSBLXG4gKiBAcGFyYW0ge0t9IG5hbWVcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFRhZ05hbWVNYXBbS119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9IEtcbiAqIEBwYXJhbSB7S30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGlzXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRUYWdOYW1lTWFwW0tdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudF9pcyhuYW1lLCBpcykge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lLCB7IGlzIH0pO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUge2tleW9mIFR9IEtcbiAqIEBwYXJhbSB7VH0gb2JqXG4gKiBAcGFyYW0ge0tbXX0gZXhjbHVkZVxuICogQHJldHVybnMge1BpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzKG9iaiwgZXhjbHVkZSkge1xuXHRjb25zdCB0YXJnZXQgPSAvKiogQHR5cGUge1BpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj59ICovICh7fSk7XG5cdGZvciAoY29uc3QgayBpbiBvYmopIHtcblx0XHRpZiAoXG5cdFx0XHRoYXNfcHJvcChvYmosIGspICYmXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRleGNsdWRlLmluZGV4T2YoaykgPT09IC0xXG5cdFx0KSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHR0YXJnZXRba10gPSBvYmpba107XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBTVkdFbGVtZW50VGFnTmFtZU1hcH0gS1xuICogQHBhcmFtIHtLfSBuYW1lXG4gKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN2Z19lbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBuYW1lKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVxuICogQHJldHVybnMge1RleHR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0KGRhdGEpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwYWNlKCkge1xuXHRyZXR1cm4gdGV4dCgnICcpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KCkge1xuXHRyZXR1cm4gdGV4dCgnJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAqIEByZXR1cm5zIHtDb21tZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tbWVudChjb250ZW50KSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbnRlbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0fSBoYW5kbGVyXG4gKiBAcGFyYW0ge2Jvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyB8IEV2ZW50TGlzdGVuZXJPcHRpb25zfSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG5cdG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG5cdHJldHVybiAoKSA9PiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnRfZGVmYXVsdChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BfcHJvcGFnYXRpb24oZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcF9pbW1lZGlhdGVfcHJvcGFnYXRpb24oZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGYoZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzKSBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdHJ1c3RlZChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGlmIChldmVudC5pc1RydXN0ZWQpIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZVxuICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZV1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cdGlmICh2YWx1ZSA9PSBudWxsKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuXHRlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSkgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG4vKipcbiAqIExpc3Qgb2YgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBhbHdheXMgYmUgc2V0IHRocm91Z2ggdGhlIGF0dHIgbWV0aG9kLFxuICogYmVjYXVzZSB1cGRhdGluZyB0aGVtIHRocm91Z2ggdGhlIHByb3BlcnR5IHNldHRlciBkb2Vzbid0IHdvcmsgcmVsaWFibHkuXG4gKiBJbiB0aGUgZXhhbXBsZSBvZiBgd2lkdGhgL2BoZWlnaHRgLCB0aGUgcHJvYmxlbSBpcyB0aGF0IHRoZSBzZXR0ZXIgb25seVxuICogYWNjZXB0cyBudW1lcmljIHZhbHVlcywgYnV0IHRoZSBhdHRyaWJ1dGUgY2FuIGFsc28gYmUgc2V0IHRvIGEgc3RyaW5nIGxpa2UgYDUwJWAuXG4gKiBJZiB0aGlzIGxpc3QgYmVjb21lcyB0b28gYmlnLCByZXRoaW5rIHRoaXMgYXBwcm9hY2guXG4gKi9cbmNvbnN0IGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlID0gWyd3aWR0aCcsICdoZWlnaHQnXTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7eyBbeDogc3RyaW5nXTogc3RyaW5nIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuXHQvLyBAdHMtaWdub3JlXG5cdGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobm9kZS5fX3Byb3RvX18pO1xuXHRmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0aWYgKGF0dHJpYnV0ZXNba2V5XSA9PSBudWxsKSB7XG5cdFx0XHRub2RlLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG5cdFx0XHRub2RlLnN0eWxlLmNzc1RleHQgPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0fSBlbHNlIGlmIChrZXkgPT09ICdfX3ZhbHVlJykge1xuXHRcdFx0LyoqIEB0eXBlIHthbnl9ICovIChub2RlKS52YWx1ZSA9IG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0ZGVzY3JpcHRvcnNba2V5XSAmJlxuXHRcdFx0ZGVzY3JpcHRvcnNba2V5XS5zZXQgJiZcblx0XHRcdGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlLmluZGV4T2Yoa2V5KSA9PT0gLTFcblx0XHQpIHtcblx0XHRcdG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YXR0cihub2RlLCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge3sgW3g6IHN0cmluZ106IHN0cmluZyB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdmdfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG5cdGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj59IGRhdGFfbWFwXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcChub2RlLCBkYXRhX21hcCkge1xuXHRPYmplY3Qua2V5cyhkYXRhX21hcCkuZm9yRWFjaCgoa2V5KSA9PiB7XG5cdFx0c2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwga2V5LCBkYXRhX21hcFtrZXldKTtcblx0fSk7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwgcHJvcCwgdmFsdWUpIHtcblx0aWYgKHByb3AgaW4gbm9kZSkge1xuXHRcdG5vZGVbcHJvcF0gPSB0eXBlb2Ygbm9kZVtwcm9wXSA9PT0gJ2Jvb2xlYW4nICYmIHZhbHVlID09PSAnJyA/IHRydWUgOiB2YWx1ZTtcblx0fSBlbHNlIHtcblx0XHRhdHRyKG5vZGUsIHByb3AsIHZhbHVlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9keW5hbWljX2VsZW1lbnRfZGF0YSh0YWcpIHtcblx0cmV0dXJuIC8tLy50ZXN0KHRhZykgPyBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAgOiBzZXRfYXR0cmlidXRlcztcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHhsaW5rX2F0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuXHRub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9zdmVsdGVfZGF0YXNldChub2RlKSB7XG5cdHJldHVybiBub2RlLmRhdGFzZXQuc3ZlbHRlSDtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dW5rbm93bltdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlKGdyb3VwLCBfX3ZhbHVlLCBjaGVja2VkKSB7XG5cdGNvbnN0IHZhbHVlID0gbmV3IFNldCgpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGdyb3VwW2ldLmNoZWNrZWQpIHZhbHVlLmFkZChncm91cFtpXS5fX3ZhbHVlKTtcblx0fVxuXHRpZiAoIWNoZWNrZWQpIHtcblx0XHR2YWx1ZS5kZWxldGUoX192YWx1ZSk7XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20odmFsdWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudFtdfSBncm91cFxuICogQHJldHVybnMge3sgcCguLi5pbnB1dHM6IEhUTUxJbnB1dEVsZW1lbnRbXSk6IHZvaWQ7IHIoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRfYmluZGluZ19ncm91cChncm91cCkge1xuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9pbnB1dHM7XG5cdHJldHVybiB7XG5cdFx0LyogcHVzaCAqLyBwKC4uLmlucHV0cykge1xuXHRcdFx0X2lucHV0cyA9IGlucHV0cztcblx0XHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IGdyb3VwLnB1c2goaW5wdXQpKTtcblx0XHR9LFxuXHRcdC8qIHJlbW92ZSAqLyByKCkge1xuXHRcdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gZ3JvdXAuc3BsaWNlKGdyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXNcbiAqIEByZXR1cm5zIHt7IHUobmV3X2luZGV4ZXM6IG51bWJlcltdKTogdm9pZDsgcCguLi5pbnB1dHM6IEhUTUxJbnB1dEVsZW1lbnRbXSk6IHZvaWQ7IHI6ICgpID0+IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0X2JpbmRpbmdfZ3JvdXBfZHluYW1pYyhncm91cCwgaW5kZXhlcykge1xuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcblxuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9pbnB1dHM7XG5cblx0ZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGdyb3VwID0gZ3JvdXBbaW5kZXhlc1tpXV0gPSBncm91cFtpbmRleGVzW2ldXSB8fCBbXTtcblx0XHR9XG5cdFx0cmV0dXJuIGdyb3VwO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBwdXNoKCkge1xuXHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IF9ncm91cC5wdXNoKGlucHV0KSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIHJlbW92ZSgpIHtcblx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBfZ3JvdXAuc3BsaWNlKF9ncm91cC5pbmRleE9mKGlucHV0KSwgMSkpO1xuXHR9XG5cdHJldHVybiB7XG5cdFx0LyogdXBkYXRlICovIHUobmV3X2luZGV4ZXMpIHtcblx0XHRcdGluZGV4ZXMgPSBuZXdfaW5kZXhlcztcblx0XHRcdGNvbnN0IG5ld19ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcblx0XHRcdGlmIChuZXdfZ3JvdXAgIT09IF9ncm91cCkge1xuXHRcdFx0XHRyZW1vdmUoKTtcblx0XHRcdFx0X2dyb3VwID0gbmV3X2dyb3VwO1xuXHRcdFx0XHRwdXNoKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG5cdFx0XHRfaW5wdXRzID0gaW5wdXRzO1xuXHRcdFx0cHVzaCgpO1xuXHRcdH0sXG5cdFx0LyogcmVtb3ZlICovIHI6IHJlbW92ZVxuXHR9O1xufVxuXG4vKiogQHJldHVybnMge251bWJlcn0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b19udW1iZXIodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlID09PSAnJyA/IG51bGwgOiArdmFsdWU7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W119ICovXG5leHBvcnQgZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG5cdGNvbnN0IGFycmF5ID0gW107XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0YXJyYXkucHVzaCh7IHN0YXJ0OiByYW5nZXMuc3RhcnQoaSksIGVuZDogcmFuZ2VzLmVuZChpKSB9KTtcblx0fVxuXHRyZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7Q2hpbGROb2RlW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG5cdHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQuY2hpbGROb2Rlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBpbml0X2NsYWltX2luZm8obm9kZXMpIHtcblx0aWYgKG5vZGVzLmNsYWltX2luZm8gPT09IHVuZGVmaW5lZCkge1xuXHRcdG5vZGVzLmNsYWltX2luZm8gPSB7IGxhc3RfaW5kZXg6IDAsIHRvdGFsX2NsYWltZWQ6IDAgfTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7Q2hpbGROb2RlRXh9IFJcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0geyhub2RlOiBDaGlsZE5vZGVFeCkgPT4gbm9kZSBpcyBSfSBwcmVkaWNhdGVcbiAqIEBwYXJhbSB7KG5vZGU6IENoaWxkTm9kZUV4KSA9PiBDaGlsZE5vZGVFeCB8IHVuZGVmaW5lZH0gcHJvY2Vzc19ub2RlXG4gKiBAcGFyYW0geygpID0+IFJ9IGNyZWF0ZV9ub2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGRvbnRfdXBkYXRlX2xhc3RfaW5kZXhcbiAqIEByZXR1cm5zIHtSfVxuICovXG5mdW5jdGlvbiBjbGFpbV9ub2RlKG5vZGVzLCBwcmVkaWNhdGUsIHByb2Nlc3Nfbm9kZSwgY3JlYXRlX25vZGUsIGRvbnRfdXBkYXRlX2xhc3RfaW5kZXggPSBmYWxzZSkge1xuXHQvLyBUcnkgdG8gZmluZCBub2RlcyBpbiBhbiBvcmRlciBzdWNoIHRoYXQgd2UgbGVuZ3RoZW4gdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuXHRpbml0X2NsYWltX2luZm8obm9kZXMpO1xuXHRjb25zdCByZXN1bHRfbm9kZSA9ICgoKSA9PiB7XG5cdFx0Ly8gV2UgZmlyc3QgdHJ5IHRvIGZpbmQgYW4gZWxlbWVudCBhZnRlciB0aGUgcHJldmlvdXMgb25lXG5cdFx0Zm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0XHRpZiAocHJlZGljYXRlKG5vZGUpKSB7XG5cdFx0XHRcdGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc19ub2RlKG5vZGUpO1xuXHRcdFx0XHRpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG5vZGVzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghZG9udF91cGRhdGVfbGFzdF9pbmRleCkge1xuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIE90aGVyd2lzZSwgd2UgdHJ5IHRvIGZpbmQgb25lIGJlZm9yZVxuXHRcdC8vIFdlIGl0ZXJhdGUgaW4gcmV2ZXJzZSBzbyB0aGF0IHdlIGRvbid0IGdvIHRvbyBmYXIgYmFja1xuXHRcdGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdFx0aWYgKHByZWRpY2F0ZShub2RlKSkge1xuXHRcdFx0XHRjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3Nfbm9kZShub2RlKTtcblx0XHRcdFx0aWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRub2Rlcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bm9kZXNbaV0gPSByZXBsYWNlbWVudDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIWRvbnRfdXBkYXRlX2xhc3RfaW5kZXgpIHtcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggPSBpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHQvLyBTaW5jZSB3ZSBzcGxpY2VkIGJlZm9yZSB0aGUgbGFzdF9pbmRleCwgd2UgZGVjcmVhc2UgaXRcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gSWYgd2UgY2FuJ3QgZmluZCBhbnkgbWF0Y2hpbmcgbm9kZSwgd2UgY3JlYXRlIGEgbmV3IG9uZVxuXHRcdHJldHVybiBjcmVhdGVfbm9kZSgpO1xuXHR9KSgpO1xuXHRyZXN1bHRfbm9kZS5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcblx0bm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG5cdHJldHVybiByZXN1bHRfbm9kZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7KG5hbWU6IHN0cmluZykgPT4gRWxlbWVudCB8IFNWR0VsZW1lbnR9IGNyZWF0ZV9lbGVtZW50XG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgY3JlYXRlX2VsZW1lbnQpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIEVsZW1lbnQgfCBTVkdFbGVtZW50fSAqL1xuXHRcdChub2RlKSA9PiBub2RlLm5vZGVOYW1lID09PSBuYW1lLFxuXHRcdC8qKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgKi9cblx0XHQobm9kZSkgPT4ge1xuXHRcdFx0Y29uc3QgcmVtb3ZlID0gW107XG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRjb25zdCBhdHRyaWJ1dGUgPSBub2RlLmF0dHJpYnV0ZXNbal07XG5cdFx0XHRcdGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0pIHtcblx0XHRcdFx0XHRyZW1vdmUucHVzaChhdHRyaWJ1dGUubmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJlbW92ZS5mb3JFYWNoKCh2KSA9PiBub2RlLnJlbW92ZUF0dHJpYnV0ZSh2KSk7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH0sXG5cdFx0KCkgPT4gY3JlYXRlX2VsZW1lbnQobmFtZSlcblx0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcblx0cmV0dXJuIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgZWxlbWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3sgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9zdmdfZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuXHRyZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBzdmdfZWxlbWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHtUZXh0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fdGV4dChub2RlcywgZGF0YSkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgVGV4dH0gKi9cblx0XHQobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gMyxcblx0XHQvKiogQHBhcmFtIHtUZXh0fSBub2RlICovXG5cdFx0KG5vZGUpID0+IHtcblx0XHRcdGNvbnN0IGRhdGFfc3RyID0gJycgKyBkYXRhO1xuXHRcdFx0aWYgKG5vZGUuZGF0YS5zdGFydHNXaXRoKGRhdGFfc3RyKSkge1xuXHRcdFx0XHRpZiAobm9kZS5kYXRhLmxlbmd0aCAhPT0gZGF0YV9zdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5vZGUuc3BsaXRUZXh0KGRhdGFfc3RyLmxlbmd0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5vZGUuZGF0YSA9IGRhdGFfc3RyO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0KCkgPT4gdGV4dChkYXRhKSxcblx0XHR0cnVlIC8vIFRleHQgbm9kZXMgc2hvdWxkIG5vdCB1cGRhdGUgbGFzdCBpbmRleCBzaW5jZSBpdCBpcyBsaWtlbHkgbm90IHdvcnRoIGl0IHRvIGVsaW1pbmF0ZSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGFjdHVhbCBlbGVtZW50c1xuXHQpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3NwYWNlKG5vZGVzKSB7XG5cdHJldHVybiBjbGFpbV90ZXh0KG5vZGVzLCAnICcpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcmV0dXJucyB7Q29tbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2NvbW1lbnQobm9kZXMsIGRhdGEpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIENvbW1lbnR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDgsXG5cdFx0LyoqIEBwYXJhbSB7Q29tbWVudH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRub2RlLmRhdGEgPSAnJyArIGRhdGE7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH0sXG5cdFx0KCkgPT4gY29tbWVudChkYXRhKSxcblx0XHR0cnVlXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGdldF9jb21tZW50X2lkeChub2RlcywgdGV4dCwgc3RhcnQpIHtcblx0Zm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovICYmIG5vZGUudGV4dENvbnRlbnQudHJpbSgpID09PSB0ZXh0KSB7XG5cdFx0XHRyZXR1cm4gaTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNfc3ZnXG4gKiBAcmV0dXJucyB7SHRtbFRhZ0h5ZHJhdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2h0bWxfdGFnKG5vZGVzLCBpc19zdmcpIHtcblx0Ly8gZmluZCBodG1sIG9wZW5pbmcgdGFnXG5cdGNvbnN0IHN0YXJ0X2luZGV4ID0gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCAnSFRNTF9UQUdfU1RBUlQnLCAwKTtcblx0Y29uc3QgZW5kX2luZGV4ID0gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCAnSFRNTF9UQUdfRU5EJywgc3RhcnRfaW5kZXggKyAxKTtcblx0aWYgKHN0YXJ0X2luZGV4ID09PSAtMSB8fCBlbmRfaW5kZXggPT09IC0xKSB7XG5cdFx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2Zyk7XG5cdH1cblxuXHRpbml0X2NsYWltX2luZm8obm9kZXMpO1xuXHRjb25zdCBodG1sX3RhZ19ub2RlcyA9IG5vZGVzLnNwbGljZShzdGFydF9pbmRleCwgZW5kX2luZGV4IC0gc3RhcnRfaW5kZXggKyAxKTtcblx0ZGV0YWNoKGh0bWxfdGFnX25vZGVzWzBdKTtcblx0ZGV0YWNoKGh0bWxfdGFnX25vZGVzW2h0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDFdKTtcblx0Y29uc3QgY2xhaW1lZF9ub2RlcyA9IGh0bWxfdGFnX25vZGVzLnNsaWNlKDEsIGh0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDEpO1xuXHRmb3IgKGNvbnN0IG4gb2YgY2xhaW1lZF9ub2Rlcykge1xuXHRcdG4uY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG5cdFx0bm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG5cdH1cblx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2ZywgY2xhaW1lZF9ub2Rlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGEodGV4dCwgZGF0YSkge1xuXHRkYXRhID0gJycgKyBkYXRhO1xuXHRpZiAodGV4dC5kYXRhID09PSBkYXRhKSByZXR1cm47XG5cdHRleHQuZGF0YSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGFfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEpIHtcblx0ZGF0YSA9ICcnICsgZGF0YTtcblx0aWYgKHRleHQud2hvbGVUZXh0ID09PSBkYXRhKSByZXR1cm47XG5cdHRleHQuZGF0YSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyX3ZhbHVlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kYXRhX21heWJlX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhLCBhdHRyX3ZhbHVlKSB7XG5cdGlmICh+Y29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMuaW5kZXhPZihhdHRyX3ZhbHVlKSkge1xuXHRcdHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhKTtcblx0fSBlbHNlIHtcblx0XHRzZXRfZGF0YSh0ZXh0LCBkYXRhKTtcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9pbnB1dF92YWx1ZShpbnB1dCwgdmFsdWUpIHtcblx0aW5wdXQudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaW5wdXRfdHlwZShpbnB1dCwgdHlwZSkge1xuXHR0cnkge1xuXHRcdGlucHV0LnR5cGUgPSB0eXBlO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gZG8gbm90aGluZ1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N0eWxlKG5vZGUsIGtleSwgdmFsdWUsIGltcG9ydGFudCkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdG5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkoa2V5KTtcblx0fSBlbHNlIHtcblx0XHRub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUsIGltcG9ydGFudCA/ICdpbXBvcnRhbnQnIDogJycpO1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlLCBtb3VudGluZykge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG5cdFx0aWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuXHRcdFx0b3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblx0aWYgKCFtb3VudGluZyB8fCB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0c2VsZWN0LnNlbGVjdGVkSW5kZXggPSAtMTsgLy8gbm8gb3B0aW9uIHNob3VsZCBiZSBzZWxlY3RlZFxuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X29wdGlvbnMoc2VsZWN0LCB2YWx1ZSkge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG5cdFx0b3B0aW9uLnNlbGVjdGVkID0gfnZhbHVlLmluZGV4T2Yob3B0aW9uLl9fdmFsdWUpO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RfdmFsdWUoc2VsZWN0KSB7XG5cdGNvbnN0IHNlbGVjdGVkX29wdGlvbiA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yKCc6Y2hlY2tlZCcpO1xuXHRyZXR1cm4gc2VsZWN0ZWRfb3B0aW9uICYmIHNlbGVjdGVkX29wdGlvbi5fX3ZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X211bHRpcGxlX3ZhbHVlKHNlbGVjdCkge1xuXHRyZXR1cm4gW10ubWFwLmNhbGwoc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJzpjaGVja2VkJyksIChvcHRpb24pID0+IG9wdGlvbi5fX3ZhbHVlKTtcbn1cbi8vIHVuZm9ydHVuYXRlbHkgdGhpcyBjYW4ndCBiZSBhIGNvbnN0YW50IGFzIHRoYXQgd291bGRuJ3QgYmUgdHJlZS1zaGFrZWFibGVcbi8vIHNvIHdlIGNhY2hlIHRoZSByZXN1bHQgaW5zdGVhZFxuXG4vKipcbiAqIEB0eXBlIHtib29sZWFufSAqL1xubGV0IGNyb3Nzb3JpZ2luO1xuXG4vKipcbiAqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Nyb3Nzb3JpZ2luKCkge1xuXHRpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuXHRcdGNyb3Nzb3JpZ2luID0gZmFsc2U7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGFyZW50KSB7XG5cdFx0XHRcdHZvaWQgd2luZG93LnBhcmVudC5kb2N1bWVudDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y3Jvc3NvcmlnaW4gPSB0cnVlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gY3Jvc3NvcmlnaW47XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMgeygpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfaWZyYW1lX3Jlc2l6ZV9saXN0ZW5lcihub2RlLCBmbikge1xuXHRjb25zdCBjb21wdXRlZF9zdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG5cdGlmIChjb21wdXRlZF9zdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcblx0XHRub2RlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0fVxuXHRjb25zdCBpZnJhbWUgPSBlbGVtZW50KCdpZnJhbWUnKTtcblx0aWZyYW1lLnNldEF0dHJpYnV0ZShcblx0XHQnc3R5bGUnLFxuXHRcdCdkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7ICcgK1xuXHRcdFx0J292ZXJmbG93OiBoaWRkZW47IGJvcmRlcjogMDsgb3BhY2l0eTogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHotaW5kZXg6IC0xOydcblx0KTtcblx0aWZyYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXHRpZnJhbWUudGFiSW5kZXggPSAtMTtcblx0Y29uc3QgY3Jvc3NvcmlnaW4gPSBpc19jcm9zc29yaWdpbigpO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7KCkgPT4gdm9pZH1cblx0ICovXG5cdGxldCB1bnN1YnNjcmliZTtcblx0aWYgKGNyb3Nzb3JpZ2luKSB7XG5cdFx0aWZyYW1lLnNyYyA9IFwiZGF0YTp0ZXh0L2h0bWwsPHNjcmlwdD5vbnJlc2l6ZT1mdW5jdGlvbigpe3BhcmVudC5wb3N0TWVzc2FnZSgwLCcqJyl9PC9zY3JpcHQ+XCI7XG5cdFx0dW5zdWJzY3JpYmUgPSBsaXN0ZW4oXG5cdFx0XHR3aW5kb3csXG5cdFx0XHQnbWVzc2FnZScsXG5cdFx0XHQvKiogQHBhcmFtIHtNZXNzYWdlRXZlbnR9IGV2ZW50ICovIChldmVudCkgPT4ge1xuXHRcdFx0XHRpZiAoZXZlbnQuc291cmNlID09PSBpZnJhbWUuY29udGVudFdpbmRvdykgZm4oKTtcblx0XHRcdH1cblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnO1xuXHRcdGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG5cdFx0XHR1bnN1YnNjcmliZSA9IGxpc3RlbihpZnJhbWUuY29udGVudFdpbmRvdywgJ3Jlc2l6ZScsIGZuKTtcblx0XHRcdC8vIG1ha2Ugc3VyZSBhbiBpbml0aWFsIHJlc2l6ZSBldmVudCBpcyBmaXJlZCBfYWZ0ZXJfIHRoZSBpZnJhbWUgaXMgbG9hZGVkICh3aGljaCBpcyBhc3luY2hyb25vdXMpXG5cdFx0XHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvNDIzM1xuXHRcdFx0Zm4oKTtcblx0XHR9O1xuXHR9XG5cdGFwcGVuZChub2RlLCBpZnJhbWUpO1xuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmIChjcm9zc29yaWdpbikge1xuXHRcdFx0dW5zdWJzY3JpYmUoKTtcblx0XHR9IGVsc2UgaWYgKHVuc3Vic2NyaWJlICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7XG5cdFx0XHR1bnN1YnNjcmliZSgpO1xuXHRcdH1cblx0XHRkZXRhY2goaWZyYW1lKTtcblx0fTtcbn1cbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfY29udGVudF9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHtcblx0Ym94OiAnY29udGVudC1ib3gnXG59KTtcbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfYm9yZGVyX2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oe1xuXHRib3g6ICdib3JkZXItYm94J1xufSk7XG5leHBvcnQgY29uc3QgcmVzaXplX29ic2VydmVyX2RldmljZV9waXhlbF9jb250ZW50X2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oXG5cdHsgYm94OiAnZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94JyB9XG4pO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24gfTtcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVfY2xhc3MoZWxlbWVudCwgbmFtZSwgdG9nZ2xlKSB7XG5cdC8vIFRoZSBgISFgIGlzIHJlcXVpcmVkIGJlY2F1c2UgYW4gYHVuZGVmaW5lZGAgZmxhZyBtZWFucyBmbGlwcGluZyB0aGUgY3VycmVudCBzdGF0ZS5cblx0ZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKG5hbWUsICEhdG9nZ2xlKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7VH0gW2RldGFpbF1cbiAqIEBwYXJhbSB7eyBidWJibGVzPzogYm9vbGVhbiwgY2FuY2VsYWJsZT86IGJvb2xlYW4gfX0gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7Q3VzdG9tRXZlbnQ8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsLCB7IGJ1YmJsZXMgPSBmYWxzZSwgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkge1xuXHRyZXR1cm4gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHsgZGV0YWlsLCBidWJibGVzLCBjYW5jZWxhYmxlIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG4gKiBAcmV0dXJucyB7Q2hpbGROb2RlQXJyYXl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeV9zZWxlY3Rvcl9hbGwoc2VsZWN0b3IsIHBhcmVudCA9IGRvY3VtZW50LmJvZHkpIHtcblx0cmV0dXJuIEFycmF5LmZyb20ocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbm9kZUlkXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBoZWFkXG4gKiBAcmV0dXJucyB7YW55W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZWFkX3NlbGVjdG9yKG5vZGVJZCwgaGVhZCkge1xuXHRjb25zdCByZXN1bHQgPSBbXTtcblx0bGV0IHN0YXJ0ZWQgPSAwO1xuXHRmb3IgKGNvbnN0IG5vZGUgb2YgaGVhZC5jaGlsZE5vZGVzKSB7XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovKSB7XG5cdFx0XHRjb25zdCBjb21tZW50ID0gbm9kZS50ZXh0Q29udGVudC50cmltKCk7XG5cdFx0XHRpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X0VORGApIHtcblx0XHRcdFx0c3RhcnRlZCAtPSAxO1xuXHRcdFx0XHRyZXN1bHQucHVzaChub2RlKTtcblx0XHRcdH0gZWxzZSBpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X1NUQVJUYCkge1xuXHRcdFx0XHRzdGFydGVkICs9IDE7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoc3RhcnRlZCA+IDApIHtcblx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuLyoqICovXG5leHBvcnQgY2xhc3MgSHRtbFRhZyB7XG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAZGVmYXVsdCBmYWxzZVxuXHQgKi9cblx0aXNfc3ZnID0gZmFsc2U7XG5cdC8qKiBwYXJlbnQgZm9yIGNyZWF0aW5nIG5vZGUgKi9cblx0ZSA9IHVuZGVmaW5lZDtcblx0LyoqIGh0bWwgdGFnIG5vZGVzICovXG5cdG4gPSB1bmRlZmluZWQ7XG5cdC8qKiB0YXJnZXQgKi9cblx0dCA9IHVuZGVmaW5lZDtcblx0LyoqIGFuY2hvciAqL1xuXHRhID0gdW5kZWZpbmVkO1xuXHRjb25zdHJ1Y3Rvcihpc19zdmcgPSBmYWxzZSkge1xuXHRcdHRoaXMuaXNfc3ZnID0gaXNfc3ZnO1xuXHRcdHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRjKGh0bWwpIHtcblx0XHR0aGlzLmgoaHRtbCk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnR9IHRhcmdldFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU1ZHRWxlbWVudH0gYW5jaG9yXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0bShodG1sLCB0YXJnZXQsIGFuY2hvciA9IG51bGwpIHtcblx0XHRpZiAoIXRoaXMuZSkge1xuXHRcdFx0aWYgKHRoaXMuaXNfc3ZnKVxuXHRcdFx0XHR0aGlzLmUgPSBzdmdfZWxlbWVudCgvKiogQHR5cGUge2tleW9mIFNWR0VsZW1lbnRUYWdOYW1lTWFwfSAqLyAodGFyZ2V0Lm5vZGVOYW1lKSk7XG5cdFx0XHQvKiogIzczNjQgIHRhcmdldCBmb3IgPHRlbXBsYXRlPiBtYXkgYmUgcHJvdmlkZWQgYXMgI2RvY3VtZW50LWZyYWdtZW50KDExKSAqLyBlbHNlXG5cdFx0XHRcdHRoaXMuZSA9IGVsZW1lbnQoXG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9ICovIChcblx0XHRcdFx0XHRcdHRhcmdldC5ub2RlVHlwZSA9PT0gMTEgPyAnVEVNUExBVEUnIDogdGFyZ2V0Lm5vZGVOYW1lXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpO1xuXHRcdFx0dGhpcy50ID1cblx0XHRcdFx0dGFyZ2V0LnRhZ05hbWUgIT09ICdURU1QTEFURSdcblx0XHRcdFx0XHQ/IHRhcmdldFxuXHRcdFx0XHRcdDogLyoqIEB0eXBlIHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyAodGFyZ2V0KS5jb250ZW50O1xuXHRcdFx0dGhpcy5jKGh0bWwpO1xuXHRcdH1cblx0XHR0aGlzLmkoYW5jaG9yKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGgoaHRtbCkge1xuXHRcdHRoaXMuZS5pbm5lckhUTUwgPSBodG1sO1xuXHRcdHRoaXMubiA9IEFycmF5LmZyb20oXG5cdFx0XHR0aGlzLmUubm9kZU5hbWUgPT09ICdURU1QTEFURScgPyB0aGlzLmUuY29udGVudC5jaGlsZE5vZGVzIDogdGhpcy5lLmNoaWxkTm9kZXNcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRpKGFuY2hvcikge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRpbnNlcnQodGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0cChodG1sKSB7XG5cdFx0dGhpcy5kKCk7XG5cdFx0dGhpcy5oKGh0bWwpO1xuXHRcdHRoaXMuaSh0aGlzLmEpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRkKCkge1xuXHRcdHRoaXMubi5mb3JFYWNoKGRldGFjaCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEh0bWxUYWdIeWRyYXRpb24gZXh0ZW5kcyBIdG1sVGFnIHtcblx0LyoqIEB0eXBlIHtFbGVtZW50W119IGh5ZHJhdGlvbiBjbGFpbWVkIG5vZGVzICovXG5cdGwgPSB1bmRlZmluZWQ7XG5cblx0Y29uc3RydWN0b3IoaXNfc3ZnID0gZmFsc2UsIGNsYWltZWRfbm9kZXMpIHtcblx0XHRzdXBlcihpc19zdmcpO1xuXHRcdHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG5cdFx0dGhpcy5sID0gY2xhaW1lZF9ub2Rlcztcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGMoaHRtbCkge1xuXHRcdGlmICh0aGlzLmwpIHtcblx0XHRcdHRoaXMubiA9IHRoaXMubDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3VwZXIuYyhodG1sKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGkoYW5jaG9yKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGluc2VydF9oeWRyYXRpb24odGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOYW1lZE5vZGVNYXB9IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt7fX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dHJpYnV0ZV90b19vYmplY3QoYXR0cmlidXRlcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xuXHRcdHJlc3VsdFthdHRyaWJ1dGUubmFtZV0gPSBhdHRyaWJ1dGUudmFsdWU7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7e319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKGVsZW1lbnQpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKFxuXHRcdC8qKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgKi8gKG5vZGUpID0+IHtcblx0XHRcdHJlc3VsdFtub2RlLnNsb3QgfHwgJ2RlZmF1bHQnXSA9IHRydWU7XG5cdFx0fVxuXHQpO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnQoY29tcG9uZW50LCBwcm9wcykge1xuXHRyZXR1cm4gbmV3IGNvbXBvbmVudChwcm9wcyk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge05vZGUgJiB7XG4gKiBcdGNsYWltX29yZGVyPzogbnVtYmVyO1xuICogXHRoeWRyYXRlX2luaXQ/OiB0cnVlO1xuICogXHRhY3R1YWxfZW5kX2NoaWxkPzogTm9kZUV4O1xuICogXHRjaGlsZE5vZGVzOiBOb2RlTGlzdE9mPE5vZGVFeD47XG4gKiB9fSBOb2RlRXhcbiAqL1xuXG4vKiogQHR5cGVkZWYge0NoaWxkTm9kZSAmIE5vZGVFeH0gQ2hpbGROb2RlRXggKi9cblxuLyoqIEB0eXBlZGVmIHtOb2RlRXggJiB7IGNsYWltX29yZGVyOiBudW1iZXIgfX0gTm9kZUV4MiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtDaGlsZE5vZGVFeFtdICYge1xuICogXHRjbGFpbV9pbmZvPzoge1xuICogXHRcdGxhc3RfaW5kZXg6IG51bWJlcjtcbiAqIFx0XHR0b3RhbF9jbGFpbWVkOiBudW1iZXI7XG4gKiBcdH07XG4gKiB9fSBDaGlsZE5vZGVBcnJheVxuICovXG4iLCJpbXBvcnQgeyBjdXN0b21fZXZlbnQgfSBmcm9tICcuL2RvbS5qcyc7XG5cbmV4cG9ydCBsZXQgY3VycmVudF9jb21wb25lbnQ7XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KSB7XG5cdGN1cnJlbnRfY29tcG9uZW50ID0gY29tcG9uZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkge1xuXHRpZiAoIWN1cnJlbnRfY29tcG9uZW50KSB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIGNhbGxlZCBvdXRzaWRlIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbicpO1xuXHRyZXR1cm4gY3VycmVudF9jb21wb25lbnQ7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVwZGF0ZWQgYWZ0ZXIgYW55IHN0YXRlIGNoYW5nZS5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGJlZm9yZSB0aGUgaW5pdGlhbCBgb25Nb3VudGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjYmVmb3JldXBkYXRlXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmVmb3JlVXBkYXRlKGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmJlZm9yZV91cGRhdGUucHVzaChmbik7XG59XG5cbi8qKlxuICogVGhlIGBvbk1vdW50YCBmdW5jdGlvbiBzY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gYXMgc29vbiBhcyB0aGUgY29tcG9uZW50IGhhcyBiZWVuIG1vdW50ZWQgdG8gdGhlIERPTS5cbiAqIEl0IG11c3QgYmUgY2FsbGVkIGR1cmluZyB0aGUgY29tcG9uZW50J3MgaW5pdGlhbGlzYXRpb24gKGJ1dCBkb2Vzbid0IG5lZWQgdG8gbGl2ZSAqaW5zaWRlKiB0aGUgY29tcG9uZW50O1xuICogaXQgY2FuIGJlIGNhbGxlZCBmcm9tIGFuIGV4dGVybmFsIG1vZHVsZSkuXG4gKlxuICogSWYgYSBmdW5jdGlvbiBpcyByZXR1cm5lZCBfc3luY2hyb25vdXNseV8gZnJvbSBgb25Nb3VudGAsIGl0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogYG9uTW91bnRgIGRvZXMgbm90IHJ1biBpbnNpZGUgYSBbc2VydmVyLXNpZGUgY29tcG9uZW50XSgvZG9jcyNydW4tdGltZS1zZXJ2ZXItc2lkZS1jb21wb25lbnQtYXBpKS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjb25tb3VudFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7KCkgPT4gaW1wb3J0KCcuL3ByaXZhdGUuanMnKS5Ob3RGdW5jdGlvbjxUPiB8IFByb21pc2U8aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5Ob3RGdW5jdGlvbjxUPj4gfCAoKCkgPT4gYW55KX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25Nb3VudChmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9tb3VudC5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiB1cGRhdGVkLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYWZ0ZXIgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2FmdGVydXBkYXRlXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWZ0ZXJVcGRhdGUoZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYWZ0ZXJfdXBkYXRlLnB1c2goZm4pO1xufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogT3V0IG9mIGBvbk1vdW50YCwgYGJlZm9yZVVwZGF0ZWAsIGBhZnRlclVwZGF0ZWAgYW5kIGBvbkRlc3Ryb3lgLCB0aGlzIGlzIHRoZVxuICogb25seSBvbmUgdGhhdCBydW5zIGluc2lkZSBhIHNlcnZlci1zaWRlIGNvbXBvbmVudC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjb25kZXN0cm95XG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25EZXN0cm95KGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX2Rlc3Ryb3kucHVzaChmbik7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBldmVudCBkaXNwYXRjaGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZGlzcGF0Y2ggW2NvbXBvbmVudCBldmVudHNdKC9kb2NzI3RlbXBsYXRlLXN5bnRheC1jb21wb25lbnQtZGlyZWN0aXZlcy1vbi1ldmVudG5hbWUpLlxuICogRXZlbnQgZGlzcGF0Y2hlcnMgYXJlIGZ1bmN0aW9ucyB0aGF0IGNhbiB0YWtlIHR3byBhcmd1bWVudHM6IGBuYW1lYCBhbmQgYGRldGFpbGAuXG4gKlxuICogQ29tcG9uZW50IGV2ZW50cyBjcmVhdGVkIHdpdGggYGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcmAgY3JlYXRlIGFcbiAqIFtDdXN0b21FdmVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50KS5cbiAqIFRoZXNlIGV2ZW50cyBkbyBub3QgW2J1YmJsZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9MZWFybi9KYXZhU2NyaXB0L0J1aWxkaW5nX2Jsb2Nrcy9FdmVudHMjRXZlbnRfYnViYmxpbmdfYW5kX2NhcHR1cmUpLlxuICogVGhlIGBkZXRhaWxgIGFyZ3VtZW50IGNvcnJlc3BvbmRzIHRvIHRoZSBbQ3VzdG9tRXZlbnQuZGV0YWlsXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQvZGV0YWlsKVxuICogcHJvcGVydHkgYW5kIGNhbiBjb250YWluIGFueSB0eXBlIG9mIGRhdGEuXG4gKlxuICogVGhlIGV2ZW50IGRpc3BhdGNoZXIgY2FuIGJlIHR5cGVkIHRvIG5hcnJvdyB0aGUgYWxsb3dlZCBldmVudCBuYW1lcyBhbmQgdGhlIHR5cGUgb2YgdGhlIGBkZXRhaWxgIGFyZ3VtZW50OlxuICogYGBgdHNcbiAqIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyPHtcbiAqICBsb2FkZWQ6IG5ldmVyOyAvLyBkb2VzIG5vdCB0YWtlIGEgZGV0YWlsIGFyZ3VtZW50XG4gKiAgY2hhbmdlOiBzdHJpbmc7IC8vIHRha2VzIGEgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgc3RyaW5nLCB3aGljaCBpcyByZXF1aXJlZFxuICogIG9wdGlvbmFsOiBudW1iZXIgfCBudWxsOyAvLyB0YWtlcyBhbiBvcHRpb25hbCBkZXRhaWwgYXJndW1lbnQgb2YgdHlwZSBudW1iZXJcbiAqIH0+KCk7XG4gKiBgYGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjY3JlYXRlZXZlbnRkaXNwYXRjaGVyXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudE1hcD1hbnldXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLkV2ZW50RGlzcGF0Y2hlcjxFdmVudE1hcD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFdmVudERpc3BhdGNoZXIoKSB7XG5cdGNvbnN0IGNvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuXHRyZXR1cm4gKHR5cGUsIGRldGFpbCwgeyBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSA9PiB7XG5cdFx0Y29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1t0eXBlXTtcblx0XHRpZiAoY2FsbGJhY2tzKSB7XG5cdFx0XHQvLyBUT0RPIGFyZSB0aGVyZSBzaXR1YXRpb25zIHdoZXJlIGV2ZW50cyBjb3VsZCBiZSBkaXNwYXRjaGVkXG5cdFx0XHQvLyBpbiBhIHNlcnZlciAobm9uLURPTSkgZW52aXJvbm1lbnQ/XG5cdFx0XHRjb25zdCBldmVudCA9IGN1c3RvbV9ldmVudCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSB9KTtcblx0XHRcdGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goKGZuKSA9PiB7XG5cdFx0XHRcdGZuLmNhbGwoY29tcG9uZW50LCBldmVudCk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG59XG5cbi8qKlxuICogQXNzb2NpYXRlcyBhbiBhcmJpdHJhcnkgYGNvbnRleHRgIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudCBhbmQgdGhlIHNwZWNpZmllZCBga2V5YFxuICogYW5kIHJldHVybnMgdGhhdCBvYmplY3QuIFRoZSBjb250ZXh0IGlzIHRoZW4gYXZhaWxhYmxlIHRvIGNoaWxkcmVuIG9mIHRoZSBjb21wb25lbnRcbiAqIChpbmNsdWRpbmcgc2xvdHRlZCBjb250ZW50KSB3aXRoIGBnZXRDb250ZXh0YC5cbiAqXG4gKiBMaWtlIGxpZmVjeWNsZSBmdW5jdGlvbnMsIHRoaXMgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjc2V0Y29udGV4dFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEBwYXJhbSB7VH0gY29udGV4dFxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb250ZXh0KGtleSwgY29udGV4dCkge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LnNldChrZXksIGNvbnRleHQpO1xuXHRyZXR1cm4gY29udGV4dDtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGNvbnRleHQgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGBrZXlgLlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjZ2V0Y29udGV4dFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGV4dChrZXkpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSB3aG9sZSBjb250ZXh0IG1hcCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uIFVzZWZ1bCwgZm9yIGV4YW1wbGUsIGlmIHlvdVxuICogcHJvZ3JhbW1hdGljYWxseSBjcmVhdGUgYSBjb21wb25lbnQgYW5kIHdhbnQgdG8gcGFzcyB0aGUgZXhpc3RpbmcgY29udGV4dCB0byBpdC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjZ2V0YWxsY29udGV4dHNcbiAqIEB0ZW1wbGF0ZSB7TWFwPGFueSwgYW55Pn0gW1Q9TWFwPGFueSwgYW55Pl1cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsQ29udGV4dHMoKSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0O1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gYGtleWAgaGFzIGJlZW4gc2V0IGluIHRoZSBjb250ZXh0IG9mIGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2hhc2NvbnRleHRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzQ29udGV4dChrZXkpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuaGFzKGtleSk7XG59XG5cbi8vIFRPRE8gZmlndXJlIG91dCBpZiB3ZSBzdGlsbCB3YW50IHRvIHN1cHBvcnRcbi8vIHNob3J0aGFuZCBldmVudHMsIG9yIGlmIHdlIHdhbnQgdG8gaW1wbGVtZW50XG4vLyBhIHJlYWwgYnViYmxpbmcgbWVjaGFuaXNtXG4vKipcbiAqIEBwYXJhbSBjb21wb25lbnRcbiAqIEBwYXJhbSBldmVudFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWJibGUoY29tcG9uZW50LCBldmVudCkge1xuXHRjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW2V2ZW50LnR5cGVdO1xuXHRpZiAoY2FsbGJhY2tzKSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goKGZuKSA9PiBmbi5jYWxsKHRoaXMsIGV2ZW50KSk7XG5cdH1cbn1cbiIsImltcG9ydCB7IHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IGN1cnJlbnRfY29tcG9uZW50LCBzZXRfY3VycmVudF9jb21wb25lbnQgfSBmcm9tICcuL2xpZmVjeWNsZS5qcyc7XG5cbmV4cG9ydCBjb25zdCBkaXJ0eV9jb21wb25lbnRzID0gW107XG5leHBvcnQgY29uc3QgaW50cm9zID0geyBlbmFibGVkOiBmYWxzZSB9O1xuZXhwb3J0IGNvbnN0IGJpbmRpbmdfY2FsbGJhY2tzID0gW107XG5cbmxldCByZW5kZXJfY2FsbGJhY2tzID0gW107XG5cbmNvbnN0IGZsdXNoX2NhbGxiYWNrcyA9IFtdO1xuXG5jb25zdCByZXNvbHZlZF9wcm9taXNlID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xuXG5sZXQgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVfdXBkYXRlKCkge1xuXHRpZiAoIXVwZGF0ZV9zY2hlZHVsZWQpIHtcblx0XHR1cGRhdGVfc2NoZWR1bGVkID0gdHJ1ZTtcblx0XHRyZXNvbHZlZF9wcm9taXNlLnRoZW4oZmx1c2gpO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aWNrKCkge1xuXHRzY2hlZHVsZV91cGRhdGUoKTtcblx0cmV0dXJuIHJlc29sdmVkX3Byb21pc2U7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfcmVuZGVyX2NhbGxiYWNrKGZuKSB7XG5cdHJlbmRlcl9jYWxsYmFja3MucHVzaChmbik7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfZmx1c2hfY2FsbGJhY2soZm4pIHtcblx0Zmx1c2hfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuXG4vLyBmbHVzaCgpIGNhbGxzIGNhbGxiYWNrcyBpbiB0aGlzIG9yZGVyOlxuLy8gMS4gQWxsIGJlZm9yZVVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlblxuLy8gMi4gQWxsIGJpbmQ6dGhpcyBjYWxsYmFja3MsIGluIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gMy4gQWxsIGFmdGVyVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuLiBFWENFUFRcbi8vICAgIGZvciBhZnRlclVwZGF0ZXMgY2FsbGVkIGR1cmluZyB0aGUgaW5pdGlhbCBvbk1vdW50LCB3aGljaCBhcmUgY2FsbGVkIGluXG4vLyAgICByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIFNpbmNlIGNhbGxiYWNrcyBtaWdodCB1cGRhdGUgY29tcG9uZW50IHZhbHVlcywgd2hpY2ggY291bGQgdHJpZ2dlciBhbm90aGVyXG4vLyBjYWxsIHRvIGZsdXNoKCksIHRoZSBmb2xsb3dpbmcgc3RlcHMgZ3VhcmQgYWdhaW5zdCB0aGlzOlxuLy8gMS4gRHVyaW5nIGJlZm9yZVVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuLy8gICAgZGlydHlfY29tcG9uZW50cyBhcnJheSBhbmQgd2lsbCBjYXVzZSBhIHJlZW50cmFudCBjYWxsIHRvIGZsdXNoKCkuIEJlY2F1c2Vcbi8vICAgIHRoZSBmbHVzaCBpbmRleCBpcyBrZXB0IG91dHNpZGUgdGhlIGZ1bmN0aW9uLCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbCBwaWNrXG4vLyAgICB1cCB3aGVyZSB0aGUgZWFybGllciBjYWxsIGxlZnQgb2ZmIGFuZCBnbyB0aHJvdWdoIGFsbCBkaXJ0eSBjb21wb25lbnRzLiBUaGVcbi8vICAgIGN1cnJlbnRfY29tcG9uZW50IHZhbHVlIGlzIHNhdmVkIGFuZCByZXN0b3JlZCBzbyB0aGF0IHRoZSByZWVudHJhbnQgY2FsbCB3aWxsXG4vLyAgICBub3QgaW50ZXJmZXJlIHdpdGggdGhlIFwicGFyZW50XCIgZmx1c2goKSBjYWxsLlxuLy8gMi4gYmluZDp0aGlzIGNhbGxiYWNrcyBjYW5ub3QgdHJpZ2dlciBuZXcgZmx1c2goKSBjYWxscy5cbi8vIDMuIER1cmluZyBhZnRlclVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIE5PVCBoYXZlIHRoZWlyIGFmdGVyVXBkYXRlXG4vLyAgICBjYWxsYmFjayBjYWxsZWQgYSBzZWNvbmQgdGltZTsgdGhlIHNlZW5fY2FsbGJhY2tzIHNldCwgb3V0c2lkZSB0aGUgZmx1c2goKVxuLy8gICAgZnVuY3Rpb24sIGd1YXJhbnRlZXMgdGhpcyBiZWhhdmlvci5cbmNvbnN0IHNlZW5fY2FsbGJhY2tzID0gbmV3IFNldCgpO1xuXG5sZXQgZmx1c2hpZHggPSAwOyAvLyBEbyAqbm90KiBtb3ZlIHRoaXMgaW5zaWRlIHRoZSBmbHVzaCgpIGZ1bmN0aW9uXG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaCgpIHtcblx0Ly8gRG8gbm90IHJlZW50ZXIgZmx1c2ggd2hpbGUgZGlydHkgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgYXMgdGhpcyBjYW5cblx0Ly8gcmVzdWx0IGluIGFuIGluZmluaXRlIGxvb3AuIEluc3RlYWQsIGxldCB0aGUgaW5uZXIgZmx1c2ggaGFuZGxlIGl0LlxuXHQvLyBSZWVudHJhbmN5IGlzIG9rIGFmdGVyd2FyZHMgZm9yIGJpbmRpbmdzIGV0Yy5cblx0aWYgKGZsdXNoaWR4ICE9PSAwKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGNvbnN0IHNhdmVkX2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuXHRkbyB7XG5cdFx0Ly8gZmlyc3QsIGNhbGwgYmVmb3JlVXBkYXRlIGZ1bmN0aW9uc1xuXHRcdC8vIGFuZCB1cGRhdGUgY29tcG9uZW50c1xuXHRcdHRyeSB7XG5cdFx0XHR3aGlsZSAoZmx1c2hpZHggPCBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCkge1xuXHRcdFx0XHRjb25zdCBjb21wb25lbnQgPSBkaXJ0eV9jb21wb25lbnRzW2ZsdXNoaWR4XTtcblx0XHRcdFx0Zmx1c2hpZHgrKztcblx0XHRcdFx0c2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG5cdFx0XHRcdHVwZGF0ZShjb21wb25lbnQuJCQpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdC8vIHJlc2V0IGRpcnR5IHN0YXRlIHRvIG5vdCBlbmQgdXAgaW4gYSBkZWFkbG9ja2VkIHN0YXRlIGFuZCB0aGVuIHJldGhyb3dcblx0XHRcdGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcblx0XHRcdGZsdXNoaWR4ID0gMDtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcblx0XHRkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG5cdFx0Zmx1c2hpZHggPSAwO1xuXHRcdHdoaWxlIChiaW5kaW5nX2NhbGxiYWNrcy5sZW5ndGgpIGJpbmRpbmdfY2FsbGJhY2tzLnBvcCgpKCk7XG5cdFx0Ly8gdGhlbiwgb25jZSBjb21wb25lbnRzIGFyZSB1cGRhdGVkLCBjYWxsXG5cdFx0Ly8gYWZ0ZXJVcGRhdGUgZnVuY3Rpb25zLiBUaGlzIG1heSBjYXVzZVxuXHRcdC8vIHN1YnNlcXVlbnQgdXBkYXRlcy4uLlxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0Y29uc3QgY2FsbGJhY2sgPSByZW5kZXJfY2FsbGJhY2tzW2ldO1xuXHRcdFx0aWYgKCFzZWVuX2NhbGxiYWNrcy5oYXMoY2FsbGJhY2spKSB7XG5cdFx0XHRcdC8vIC4uLnNvIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcHNcblx0XHRcdFx0c2Vlbl9jYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVuZGVyX2NhbGxiYWNrcy5sZW5ndGggPSAwO1xuXHR9IHdoaWxlIChkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCk7XG5cdHdoaWxlIChmbHVzaF9jYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0Zmx1c2hfY2FsbGJhY2tzLnBvcCgpKCk7XG5cdH1cblx0dXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuXHRzZWVuX2NhbGxiYWNrcy5jbGVhcigpO1xuXHRzZXRfY3VycmVudF9jb21wb25lbnQoc2F2ZWRfY29tcG9uZW50KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZnVuY3Rpb24gdXBkYXRlKCQkKSB7XG5cdGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuXHRcdCQkLnVwZGF0ZSgpO1xuXHRcdHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG5cdFx0Y29uc3QgZGlydHkgPSAkJC5kaXJ0eTtcblx0XHQkJC5kaXJ0eSA9IFstMV07XG5cdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQucCgkJC5jdHgsIGRpcnR5KTtcblx0XHQkJC5hZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcblx0fVxufVxuXG4vKipcbiAqIFVzZWZ1bCBmb3IgZXhhbXBsZSB0byBleGVjdXRlIHJlbWFpbmluZyBgYWZ0ZXJVcGRhdGVgIGNhbGxiYWNrcyBiZWZvcmUgZXhlY3V0aW5nIGBkZXN0cm95YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gZm5zXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoX3JlbmRlcl9jYWxsYmFja3MoZm5zKSB7XG5cdGNvbnN0IGZpbHRlcmVkID0gW107XG5cdGNvbnN0IHRhcmdldHMgPSBbXTtcblx0cmVuZGVyX2NhbGxiYWNrcy5mb3JFYWNoKChjKSA9PiAoZm5zLmluZGV4T2YoYykgPT09IC0xID8gZmlsdGVyZWQucHVzaChjKSA6IHRhcmdldHMucHVzaChjKSkpO1xuXHR0YXJnZXRzLmZvckVhY2goKGMpID0+IGMoKSk7XG5cdHJlbmRlcl9jYWxsYmFja3MgPSBmaWx0ZXJlZDtcbn1cbiIsImltcG9ydCB7IGlkZW50aXR5IGFzIGxpbmVhciwgaXNfZnVuY3Rpb24sIG5vb3AsIHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IG5vdyB9IGZyb20gJy4vZW52aXJvbm1lbnQuanMnO1xuaW1wb3J0IHsgbG9vcCB9IGZyb20gJy4vbG9vcC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVfcnVsZSwgZGVsZXRlX3J1bGUgfSBmcm9tICcuL3N0eWxlX21hbmFnZXIuanMnO1xuaW1wb3J0IHsgY3VzdG9tX2V2ZW50IH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgYWRkX3JlbmRlcl9jYWxsYmFjayB9IGZyb20gJy4vc2NoZWR1bGVyLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7UHJvbWlzZTx2b2lkPiB8IG51bGx9XG4gKi9cbmxldCBwcm9taXNlO1xuXG4vKipcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5mdW5jdGlvbiB3YWl0KCkge1xuXHRpZiAoIXByb21pc2UpIHtcblx0XHRwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0cHJvbWlzZS50aGVuKCgpID0+IHtcblx0XHRcdHByb21pc2UgPSBudWxsO1xuXHRcdH0pO1xuXHR9XG5cdHJldHVybiBwcm9taXNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtJTlRSTyB8IE9VVFJPIHwgYm9vbGVhbn0gZGlyZWN0aW9uXG4gKiBAcGFyYW0geydzdGFydCcgfCAnZW5kJ30ga2luZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGRpc3BhdGNoKG5vZGUsIGRpcmVjdGlvbiwga2luZCkge1xuXHRub2RlLmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KGAke2RpcmVjdGlvbiA/ICdpbnRybycgOiAnb3V0cm8nfSR7a2luZH1gKSk7XG59XG5cbmNvbnN0IG91dHJvaW5nID0gbmV3IFNldCgpO1xuXG4vKipcbiAqIEB0eXBlIHtPdXRyb31cbiAqL1xubGV0IG91dHJvcztcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBncm91cF9vdXRyb3MoKSB7XG5cdG91dHJvcyA9IHtcblx0XHRyOiAwLFxuXHRcdGM6IFtdLFxuXHRcdHA6IG91dHJvcyAvLyBwYXJlbnQgZ3JvdXBcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja19vdXRyb3MoKSB7XG5cdGlmICghb3V0cm9zLnIpIHtcblx0XHRydW5fYWxsKG91dHJvcy5jKTtcblx0fVxuXHRvdXRyb3MgPSBvdXRyb3MucDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuRnJhZ21lbnR9IGJsb2NrXG4gKiBAcGFyYW0gezAgfCAxfSBbbG9jYWxdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25faW4oYmxvY2ssIGxvY2FsKSB7XG5cdGlmIChibG9jayAmJiBibG9jay5pKSB7XG5cdFx0b3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcblx0XHRibG9jay5pKGxvY2FsKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5GcmFnbWVudH0gYmxvY2tcbiAqIEBwYXJhbSB7MCB8IDF9IGxvY2FsXG4gKiBAcGFyYW0gezAgfCAxfSBbZGV0YWNoXVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25fb3V0KGJsb2NrLCBsb2NhbCwgZGV0YWNoLCBjYWxsYmFjaykge1xuXHRpZiAoYmxvY2sgJiYgYmxvY2subykge1xuXHRcdGlmIChvdXRyb2luZy5oYXMoYmxvY2spKSByZXR1cm47XG5cdFx0b3V0cm9pbmcuYWRkKGJsb2NrKTtcblx0XHRvdXRyb3MuYy5wdXNoKCgpID0+IHtcblx0XHRcdG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG5cdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0aWYgKGRldGFjaCkgYmxvY2suZCgxKTtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRibG9jay5vKGxvY2FsKTtcblx0fSBlbHNlIGlmIChjYWxsYmFjaykge1xuXHRcdGNhbGxiYWNrKCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAdHlwZSB7aW1wb3J0KCcuLi90cmFuc2l0aW9uL3B1YmxpYy5qcycpLlRyYW5zaXRpb25Db25maWd9XG4gKi9cbmNvbnN0IG51bGxfdHJhbnNpdGlvbiA9IHsgZHVyYXRpb246IDAgfTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbkZufSBmblxuICogQHBhcmFtIHthbnl9IHBhcmFtc1xuICogQHJldHVybnMge3sgc3RhcnQoKTogdm9pZDsgaW52YWxpZGF0ZSgpOiB2b2lkOyBlbmQoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9pbl90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtUcmFuc2l0aW9uT3B0aW9uc30gKi9cblx0Y29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnaW4nIH07XG5cdGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHRsZXQgcnVubmluZyA9IGZhbHNlO1xuXHRsZXQgYW5pbWF0aW9uX25hbWU7XG5cdGxldCB0YXNrO1xuXHRsZXQgdWlkID0gMDtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGNsZWFudXAoKSB7XG5cdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGdvKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblx0XHRpZiAoY3NzKSBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MsIHVpZCsrKTtcblx0XHR0aWNrKDAsIDEpO1xuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5O1xuXHRcdGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuXHRcdGlmICh0YXNrKSB0YXNrLmFib3J0KCk7XG5cdFx0cnVubmluZyA9IHRydWU7XG5cdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG5cdFx0dGFzayA9IGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKG5vdyA+PSBlbmRfdGltZSkge1xuXHRcdFx0XHRcdHRpY2soMSwgMCk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuXHRcdFx0XHRcdGNsZWFudXAoKTtcblx0XHRcdFx0XHRyZXR1cm4gKHJ1bm5pbmcgPSBmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG5cdFx0XHRcdFx0dGljayh0LCAxIC0gdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBydW5uaW5nO1xuXHRcdH0pO1xuXHR9XG5cdGxldCBzdGFydGVkID0gZmFsc2U7XG5cdHJldHVybiB7XG5cdFx0c3RhcnQoKSB7XG5cdFx0XHRpZiAoc3RhcnRlZCkgcmV0dXJuO1xuXHRcdFx0c3RhcnRlZCA9IHRydWU7XG5cdFx0XHRkZWxldGVfcnVsZShub2RlKTtcblx0XHRcdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcblx0XHRcdFx0d2FpdCgpLnRoZW4oZ28pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z28oKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGludmFsaWRhdGUoKSB7XG5cdFx0XHRzdGFydGVkID0gZmFsc2U7XG5cdFx0fSxcblx0XHRlbmQoKSB7XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEByZXR1cm5zIHt7IGVuZChyZXNldDogYW55KTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG5cdC8qKiBAdHlwZSB7VHJhbnNpdGlvbk9wdGlvbnN9ICovXG5cdGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ291dCcgfTtcblx0bGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG5cdGxldCBydW5uaW5nID0gdHJ1ZTtcblx0bGV0IGFuaW1hdGlvbl9uYW1lO1xuXHRjb25zdCBncm91cCA9IG91dHJvcztcblx0Z3JvdXAuciArPSAxO1xuXHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdGxldCBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGdvKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblxuXHRcdGlmIChjc3MpIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMSwgMCwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG5cblx0XHRjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcblx0XHRjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcblx0XHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnc3RhcnQnKSk7XG5cblx0XHRpZiAoJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRvcmlnaW5hbF9pbmVydF92YWx1ZSA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovIChub2RlKS5pbmVydDtcblx0XHRcdG5vZGUuaW5lcnQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKG5vdyA+PSBlbmRfdGltZSkge1xuXHRcdFx0XHRcdHRpY2soMCwgMSk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdlbmQnKTtcblx0XHRcdFx0XHRpZiAoIS0tZ3JvdXAucikge1xuXHRcdFx0XHRcdFx0Ly8gdGhpcyB3aWxsIHJlc3VsdCBpbiBgZW5kKClgIGJlaW5nIGNhbGxlZCxcblx0XHRcdFx0XHRcdC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gY2xlYW4gdXAgaGVyZVxuXHRcdFx0XHRcdFx0cnVuX2FsbChncm91cC5jKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuXHRcdFx0XHRcdGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuXHRcdFx0XHRcdHRpY2soMSAtIHQsIHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcnVubmluZztcblx0XHR9KTtcblx0fVxuXG5cdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0d2FpdCgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuXHRcdFx0Z28oKTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRnbygpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRlbmQocmVzZXQpIHtcblx0XHRcdGlmIChyZXNldCAmJiAnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdFx0bm9kZS5pbmVydCA9IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJlc2V0ICYmIGNvbmZpZy50aWNrKSB7XG5cdFx0XHRcdGNvbmZpZy50aWNrKDEsIDApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdFx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW50cm9cbiAqIEByZXR1cm5zIHt7IHJ1bihiOiAwIHwgMSk6IHZvaWQ7IGVuZCgpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuXHQvKipcblx0ICogQHR5cGUge1RyYW5zaXRpb25PcHRpb25zfSAqL1xuXHRjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdib3RoJyB9O1xuXHRsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0bGV0IHQgPSBpbnRybyA/IDAgOiAxO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7UHJvZ3JhbSB8IG51bGx9ICovXG5cdGxldCBydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7UGVuZGluZ1Byb2dyYW0gfCBudWxsfSAqL1xuXHRsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0bGV0IGFuaW1hdGlvbl9uYW1lID0gbnVsbDtcblxuXHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdGxldCBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcblx0XHRpZiAoYW5pbWF0aW9uX25hbWUpIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1BlbmRpbmdQcm9ncmFtfSBwcm9ncmFtXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvblxuXHQgKiBAcmV0dXJucyB7UHJvZ3JhbX1cblx0ICovXG5cdGZ1bmN0aW9uIGluaXQocHJvZ3JhbSwgZHVyYXRpb24pIHtcblx0XHRjb25zdCBkID0gLyoqIEB0eXBlIHtQcm9ncmFtWydkJ119ICovIChwcm9ncmFtLmIgLSB0KTtcblx0XHRkdXJhdGlvbiAqPSBNYXRoLmFicyhkKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0YTogdCxcblx0XHRcdGI6IHByb2dyYW0uYixcblx0XHRcdGQsXG5cdFx0XHRkdXJhdGlvbixcblx0XHRcdHN0YXJ0OiBwcm9ncmFtLnN0YXJ0LFxuXHRcdFx0ZW5kOiBwcm9ncmFtLnN0YXJ0ICsgZHVyYXRpb24sXG5cdFx0XHRncm91cDogcHJvZ3JhbS5ncm91cFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtJTlRSTyB8IE9VVFJPfSBiXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gZ28oYikge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblxuXHRcdC8qKlxuXHRcdCAqIEB0eXBlIHtQZW5kaW5nUHJvZ3JhbX0gKi9cblx0XHRjb25zdCBwcm9ncmFtID0ge1xuXHRcdFx0c3RhcnQ6IG5vdygpICsgZGVsYXksXG5cdFx0XHRiXG5cdFx0fTtcblxuXHRcdGlmICghYikge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3Ncblx0XHRcdHByb2dyYW0uZ3JvdXAgPSBvdXRyb3M7XG5cdFx0XHRvdXRyb3MuciArPSAxO1xuXHRcdH1cblxuXHRcdGlmICgnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdGlmIChiKSB7XG5cdFx0XHRcdGlmIChvcmlnaW5hbF9pbmVydF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ly8gYWJvcnRlZC9yZXZlcnNlZCBvdXRybyDigJQgcmVzdG9yZSBwcmV2aW91cyBpbmVydCB2YWx1ZVxuXHRcdFx0XHRcdG5vZGUuaW5lcnQgPSBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3JpZ2luYWxfaW5lcnRfdmFsdWUgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyAobm9kZSkuaW5lcnQ7XG5cdFx0XHRcdG5vZGUuaW5lcnQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKSB7XG5cdFx0XHRwZW5kaW5nX3Byb2dyYW0gPSBwcm9ncmFtO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpZiB0aGlzIGlzIGFuIGludHJvLCBhbmQgdGhlcmUncyBhIGRlbGF5LCB3ZSBuZWVkIHRvIGRvXG5cdFx0XHQvLyBhbiBpbml0aWFsIHRpY2sgYW5kL29yIGFwcGx5IENTUyBhbmltYXRpb24gaW1tZWRpYXRlbHlcblx0XHRcdGlmIChjc3MpIHtcblx0XHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRcdGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoYikgdGljaygwLCAxKTtcblx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocHJvZ3JhbSwgZHVyYXRpb24pO1xuXHRcdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBiLCAnc3RhcnQnKSk7XG5cdFx0XHRsb29wKChub3cpID0+IHtcblx0XHRcdFx0aWYgKHBlbmRpbmdfcHJvZ3JhbSAmJiBub3cgPiBwZW5kaW5nX3Byb2dyYW0uc3RhcnQpIHtcblx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBpbml0KHBlbmRpbmdfcHJvZ3JhbSwgZHVyYXRpb24pO1xuXHRcdFx0XHRcdHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdzdGFydCcpO1xuXHRcdFx0XHRcdGlmIChjc3MpIHtcblx0XHRcdFx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0XHRcdFx0YW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShcblx0XHRcdFx0XHRcdFx0bm9kZSxcblx0XHRcdFx0XHRcdFx0dCxcblx0XHRcdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtLmIsXG5cdFx0XHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbixcblx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0ZWFzaW5nLFxuXHRcdFx0XHRcdFx0XHRjb25maWcuY3NzXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocnVubmluZ19wcm9ncmFtKSB7XG5cdFx0XHRcdFx0aWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uZW5kKSB7XG5cdFx0XHRcdFx0XHR0aWNrKCh0ID0gcnVubmluZ19wcm9ncmFtLmIpLCAxIC0gdCk7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ2VuZCcpO1xuXHRcdFx0XHRcdFx0aWYgKCFwZW5kaW5nX3Byb2dyYW0pIHtcblx0XHRcdFx0XHRcdFx0Ly8gd2UncmUgZG9uZVxuXHRcdFx0XHRcdFx0XHRpZiAocnVubmluZ19wcm9ncmFtLmIpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBpbnRybyDigJQgd2UgY2FuIHRpZHkgdXAgaW1tZWRpYXRlbHlcblx0XHRcdFx0XHRcdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBvdXRybyDigJQgbmVlZHMgdG8gYmUgY29vcmRpbmF0ZWRcblx0XHRcdFx0XHRcdFx0XHRpZiAoIS0tcnVubmluZ19wcm9ncmFtLmdyb3VwLnIpIHJ1bl9hbGwocnVubmluZ19wcm9ncmFtLmdyb3VwLmMpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5zdGFydCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcCA9IG5vdyAtIHJ1bm5pbmdfcHJvZ3JhbS5zdGFydDtcblx0XHRcdFx0XHRcdHQgPSBydW5uaW5nX3Byb2dyYW0uYSArIHJ1bm5pbmdfcHJvZ3JhbS5kICogZWFzaW5nKHAgLyBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24pO1xuXHRcdFx0XHRcdFx0dGljayh0LCAxIC0gdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAhIShydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHJ1bihiKSB7XG5cdFx0XHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdFx0XHR3YWl0KCkudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3Qgb3B0cyA9IHsgZGlyZWN0aW9uOiBiID8gJ2luJyA6ICdvdXQnIH07XG5cdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRzKTtcblx0XHRcdFx0XHRnbyhiKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRnbyhiKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGVuZCgpIHtcblx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0cnVubmluZ19wcm9ncmFtID0gcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0XHR9XG5cdH07XG59XG5cbi8qKiBAdHlwZWRlZiB7MX0gSU5UUk8gKi9cbi8qKiBAdHlwZWRlZiB7MH0gT1VUUk8gKi9cbi8qKiBAdHlwZWRlZiB7eyBkaXJlY3Rpb246ICdpbicgfCAnb3V0JyB8ICdib3RoJyB9fSBUcmFuc2l0aW9uT3B0aW9ucyAqL1xuLyoqIEB0eXBlZGVmIHsobm9kZTogRWxlbWVudCwgcGFyYW1zOiBhbnksIG9wdGlvbnM6IFRyYW5zaXRpb25PcHRpb25zKSA9PiBpbXBvcnQoJy4uL3RyYW5zaXRpb24vcHVibGljLmpzJykuVHJhbnNpdGlvbkNvbmZpZ30gVHJhbnNpdGlvbkZuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3V0cm9cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uW119IGNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBwXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQZW5kaW5nUHJvZ3JhbVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0XG4gKiBAcHJvcGVydHkge0lOVFJPfE9VVFJPfSBiXG4gKiBAcHJvcGVydHkge091dHJvfSBbZ3JvdXBdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQcm9ncmFtXG4gKiBAcHJvcGVydHkge251bWJlcn0gYVxuICogQHByb3BlcnR5IHtJTlRST3xPVVRST30gYlxuICogQHByb3BlcnR5IHsxfC0xfSBkXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGVuZFxuICogQHByb3BlcnR5IHtPdXRyb30gW2dyb3VwXVxuICovXG4iLCJpbXBvcnQgeyB0cmFuc2l0aW9uX2luLCB0cmFuc2l0aW9uX291dCB9IGZyb20gJy4vdHJhbnNpdGlvbnMuanMnO1xuaW1wb3J0IHsgcnVuX2FsbCB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG4vLyBnZW5lcmFsIGVhY2ggZnVuY3Rpb25zOlxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlX2FycmF5X2xpa2UoYXJyYXlfbGlrZV9vcl9pdGVyYXRvcikge1xuXHRyZXR1cm4gYXJyYXlfbGlrZV9vcl9pdGVyYXRvcj8ubGVuZ3RoICE9PSB1bmRlZmluZWRcblx0XHQ/IGFycmF5X2xpa2Vfb3JfaXRlcmF0b3Jcblx0XHQ6IEFycmF5LmZyb20oYXJyYXlfbGlrZV9vcl9pdGVyYXRvcik7XG59XG5cbi8vIGtleWVkIGVhY2ggZnVuY3Rpb25zOlxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmQoMSk7XG5cdGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0dHJhbnNpdGlvbl9vdXQoYmxvY2ssIDEsIDEsICgpID0+IHtcblx0XHRsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG5cdH0pO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZml4X2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0YmxvY2suZigpO1xuXHRkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmYoKTtcblx0b3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W119ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX2tleWVkX2VhY2goXG5cdG9sZF9ibG9ja3MsXG5cdGRpcnR5LFxuXHRnZXRfa2V5LFxuXHRkeW5hbWljLFxuXHRjdHgsXG5cdGxpc3QsXG5cdGxvb2t1cCxcblx0bm9kZSxcblx0ZGVzdHJveSxcblx0Y3JlYXRlX2VhY2hfYmxvY2ssXG5cdG5leHQsXG5cdGdldF9jb250ZXh0XG4pIHtcblx0bGV0IG8gPSBvbGRfYmxvY2tzLmxlbmd0aDtcblx0bGV0IG4gPSBsaXN0Lmxlbmd0aDtcblx0bGV0IGkgPSBvO1xuXHRjb25zdCBvbGRfaW5kZXhlcyA9IHt9O1xuXHR3aGlsZSAoaS0tKSBvbGRfaW5kZXhlc1tvbGRfYmxvY2tzW2ldLmtleV0gPSBpO1xuXHRjb25zdCBuZXdfYmxvY2tzID0gW107XG5cdGNvbnN0IG5ld19sb29rdXAgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IGRlbHRhcyA9IG5ldyBNYXAoKTtcblx0Y29uc3QgdXBkYXRlcyA9IFtdO1xuXHRpID0gbjtcblx0d2hpbGUgKGktLSkge1xuXHRcdGNvbnN0IGNoaWxkX2N0eCA9IGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSk7XG5cdFx0Y29uc3Qga2V5ID0gZ2V0X2tleShjaGlsZF9jdHgpO1xuXHRcdGxldCBibG9jayA9IGxvb2t1cC5nZXQoa2V5KTtcblx0XHRpZiAoIWJsb2NrKSB7XG5cdFx0XHRibG9jayA9IGNyZWF0ZV9lYWNoX2Jsb2NrKGtleSwgY2hpbGRfY3R4KTtcblx0XHRcdGJsb2NrLmMoKTtcblx0XHR9IGVsc2UgaWYgKGR5bmFtaWMpIHtcblx0XHRcdC8vIGRlZmVyIHVwZGF0ZXMgdW50aWwgYWxsIHRoZSBET00gc2h1ZmZsaW5nIGlzIGRvbmVcblx0XHRcdHVwZGF0ZXMucHVzaCgoKSA9PiBibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpKTtcblx0XHR9XG5cdFx0bmV3X2xvb2t1cC5zZXQoa2V5LCAobmV3X2Jsb2Nrc1tpXSA9IGJsb2NrKSk7XG5cdFx0aWYgKGtleSBpbiBvbGRfaW5kZXhlcykgZGVsdGFzLnNldChrZXksIE1hdGguYWJzKGkgLSBvbGRfaW5kZXhlc1trZXldKSk7XG5cdH1cblx0Y29uc3Qgd2lsbF9tb3ZlID0gbmV3IFNldCgpO1xuXHRjb25zdCBkaWRfbW92ZSA9IG5ldyBTZXQoKTtcblx0LyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBpbnNlcnQoYmxvY2spIHtcblx0XHR0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcblx0XHRibG9jay5tKG5vZGUsIG5leHQpO1xuXHRcdGxvb2t1cC5zZXQoYmxvY2sua2V5LCBibG9jayk7XG5cdFx0bmV4dCA9IGJsb2NrLmZpcnN0O1xuXHRcdG4tLTtcblx0fVxuXHR3aGlsZSAobyAmJiBuKSB7XG5cdFx0Y29uc3QgbmV3X2Jsb2NrID0gbmV3X2Jsb2Nrc1tuIC0gMV07XG5cdFx0Y29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvIC0gMV07XG5cdFx0Y29uc3QgbmV3X2tleSA9IG5ld19ibG9jay5rZXk7XG5cdFx0Y29uc3Qgb2xkX2tleSA9IG9sZF9ibG9jay5rZXk7XG5cdFx0aWYgKG5ld19ibG9jayA9PT0gb2xkX2Jsb2NrKSB7XG5cdFx0XHQvLyBkbyBub3RoaW5nXG5cdFx0XHRuZXh0ID0gbmV3X2Jsb2NrLmZpcnN0O1xuXHRcdFx0by0tO1xuXHRcdFx0bi0tO1xuXHRcdH0gZWxzZSBpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9rZXkpKSB7XG5cdFx0XHQvLyByZW1vdmUgb2xkIGJsb2NrXG5cdFx0XHRkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcblx0XHRcdG8tLTtcblx0XHR9IGVsc2UgaWYgKCFsb29rdXAuaGFzKG5ld19rZXkpIHx8IHdpbGxfbW92ZS5oYXMobmV3X2tleSkpIHtcblx0XHRcdGluc2VydChuZXdfYmxvY2spO1xuXHRcdH0gZWxzZSBpZiAoZGlkX21vdmUuaGFzKG9sZF9rZXkpKSB7XG5cdFx0XHRvLS07XG5cdFx0fSBlbHNlIGlmIChkZWx0YXMuZ2V0KG5ld19rZXkpID4gZGVsdGFzLmdldChvbGRfa2V5KSkge1xuXHRcdFx0ZGlkX21vdmUuYWRkKG5ld19rZXkpO1xuXHRcdFx0aW5zZXJ0KG5ld19ibG9jayk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdpbGxfbW92ZS5hZGQob2xkX2tleSk7XG5cdFx0XHRvLS07XG5cdFx0fVxuXHR9XG5cdHdoaWxlIChvLS0pIHtcblx0XHRjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW29dO1xuXHRcdGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2Jsb2NrLmtleSkpIGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuXHR9XG5cdHdoaWxlIChuKSBpbnNlcnQobmV3X2Jsb2Nrc1tuIC0gMV0pO1xuXHRydW5fYWxsKHVwZGF0ZXMpO1xuXHRyZXR1cm4gbmV3X2Jsb2Nrcztcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlX2VhY2hfa2V5cyhjdHgsIGxpc3QsIGdldF9jb250ZXh0LCBnZXRfa2V5KSB7XG5cdGNvbnN0IGtleXMgPSBuZXcgTWFwKCk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdGNvbnN0IGtleSA9IGdldF9rZXkoZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKSk7XG5cdFx0aWYgKGtleXMuaGFzKGtleSkpIHtcblx0XHRcdGxldCB2YWx1ZSA9ICcnO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFsdWUgPSBgd2l0aCB2YWx1ZSAnJHtTdHJpbmcoa2V5KX0nIGA7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdC8vIGNhbid0IHN0cmluZ2lmeVxuXHRcdFx0fVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgQ2Fubm90IGhhdmUgZHVwbGljYXRlIGtleXMgaW4gYSBrZXllZCBlYWNoOiBLZXlzIGF0IGluZGV4ICR7a2V5cy5nZXQoXG5cdFx0XHRcdFx0a2V5XG5cdFx0XHRcdCl9IGFuZCAke2l9ICR7dmFsdWV9YXJlIGR1cGxpY2F0ZXNgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRrZXlzLnNldChrZXksIGkpO1xuXHR9XG59XG4iLCIvKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9zcHJlYWRfdXBkYXRlKGxldmVscywgdXBkYXRlcykge1xuXHRjb25zdCB1cGRhdGUgPSB7fTtcblx0Y29uc3QgdG9fbnVsbF9vdXQgPSB7fTtcblx0Y29uc3QgYWNjb3VudGVkX2ZvciA9IHsgJCRzY29wZTogMSB9O1xuXHRsZXQgaSA9IGxldmVscy5sZW5ndGg7XG5cdHdoaWxlIChpLS0pIHtcblx0XHRjb25zdCBvID0gbGV2ZWxzW2ldO1xuXHRcdGNvbnN0IG4gPSB1cGRhdGVzW2ldO1xuXHRcdGlmIChuKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG5cdFx0XHRcdGlmICghKGtleSBpbiBuKSkgdG9fbnVsbF9vdXRba2V5XSA9IDE7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiBuKSB7XG5cdFx0XHRcdGlmICghYWNjb3VudGVkX2ZvcltrZXldKSB7XG5cdFx0XHRcdFx0dXBkYXRlW2tleV0gPSBuW2tleV07XG5cdFx0XHRcdFx0YWNjb3VudGVkX2ZvcltrZXldID0gMTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bGV2ZWxzW2ldID0gbjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gbykge1xuXHRcdFx0XHRhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRmb3IgKGNvbnN0IGtleSBpbiB0b19udWxsX291dCkge1xuXHRcdGlmICghKGtleSBpbiB1cGRhdGUpKSB1cGRhdGVba2V5XSA9IHVuZGVmaW5lZDtcblx0fVxuXHRyZXR1cm4gdXBkYXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3NwcmVhZF9vYmplY3Qoc3ByZWFkX3Byb3BzKSB7XG5cdHJldHVybiB0eXBlb2Ygc3ByZWFkX3Byb3BzID09PSAnb2JqZWN0JyAmJiBzcHJlYWRfcHJvcHMgIT09IG51bGwgPyBzcHJlYWRfcHJvcHMgOiB7fTtcbn1cbiIsImltcG9ydCB7XG5cdGFkZF9yZW5kZXJfY2FsbGJhY2ssXG5cdGZsdXNoLFxuXHRmbHVzaF9yZW5kZXJfY2FsbGJhY2tzLFxuXHRzY2hlZHVsZV91cGRhdGUsXG5cdGRpcnR5X2NvbXBvbmVudHNcbn0gZnJvbSAnLi9zY2hlZHVsZXIuanMnO1xuaW1wb3J0IHsgY3VycmVudF9jb21wb25lbnQsIHNldF9jdXJyZW50X2NvbXBvbmVudCB9IGZyb20gJy4vbGlmZWN5Y2xlLmpzJztcbmltcG9ydCB7IGJsYW5rX29iamVjdCwgaXNfZW1wdHksIGlzX2Z1bmN0aW9uLCBydW4sIHJ1bl9hbGwsIG5vb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdGNoaWxkcmVuLFxuXHRkZXRhY2gsXG5cdHN0YXJ0X2h5ZHJhdGluZyxcblx0ZW5kX2h5ZHJhdGluZyxcblx0Z2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyxcblx0aW5zZXJ0LFxuXHRlbGVtZW50LFxuXHRhdHRyXG59IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IHRyYW5zaXRpb25faW4gfSBmcm9tICcuL3RyYW5zaXRpb25zLmpzJztcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuXHRjb25zdCBpbmRleCA9IGNvbXBvbmVudC4kJC5wcm9wc1tuYW1lXTtcblx0aWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcblx0XHRjb21wb25lbnQuJCQuYm91bmRbaW5kZXhdID0gY2FsbGJhY2s7XG5cdFx0Y2FsbGJhY2soY29tcG9uZW50LiQkLmN0eFtpbmRleF0pO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfY29tcG9uZW50KGJsb2NrKSB7XG5cdGJsb2NrICYmIGJsb2NrLmMoKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2NvbXBvbmVudChibG9jaywgcGFyZW50X25vZGVzKSB7XG5cdGJsb2NrICYmIGJsb2NrLmwocGFyZW50X25vZGVzKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yKSB7XG5cdGNvbnN0IHsgZnJhZ21lbnQsIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuXHRmcmFnbWVudCAmJiBmcmFnbWVudC5tKHRhcmdldCwgYW5jaG9yKTtcblx0Ly8gb25Nb3VudCBoYXBwZW5zIGJlZm9yZSB0aGUgaW5pdGlhbCBhZnRlclVwZGF0ZVxuXHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IHtcblx0XHRjb25zdCBuZXdfb25fZGVzdHJveSA9IGNvbXBvbmVudC4kJC5vbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuXHRcdC8vIGlmIHRoZSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseVxuXHRcdC8vIGl0IHdpbGwgdXBkYXRlIHRoZSBgJCQub25fZGVzdHJveWAgcmVmZXJlbmNlIHRvIGBudWxsYC5cblx0XHQvLyB0aGUgZGVzdHJ1Y3R1cmVkIG9uX2Rlc3Ryb3kgbWF5IHN0aWxsIHJlZmVyZW5jZSB0byB0aGUgb2xkIGFycmF5XG5cdFx0aWYgKGNvbXBvbmVudC4kJC5vbl9kZXN0cm95KSB7XG5cdFx0XHRjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKC4uLm5ld19vbl9kZXN0cm95KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gRWRnZSBjYXNlIC0gY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHksXG5cdFx0XHQvLyBtb3N0IGxpa2VseSBhcyBhIHJlc3VsdCBvZiBhIGJpbmRpbmcgaW5pdGlhbGlzaW5nXG5cdFx0XHRydW5fYWxsKG5ld19vbl9kZXN0cm95KTtcblx0XHR9XG5cdFx0Y29tcG9uZW50LiQkLm9uX21vdW50ID0gW107XG5cdH0pO1xuXHRhZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfY29tcG9uZW50KGNvbXBvbmVudCwgZGV0YWNoaW5nKSB7XG5cdGNvbnN0ICQkID0gY29tcG9uZW50LiQkO1xuXHRpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcblx0XHRmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKCQkLmFmdGVyX3VwZGF0ZSk7XG5cdFx0cnVuX2FsbCgkJC5vbl9kZXN0cm95KTtcblx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5kKGRldGFjaGluZyk7XG5cdFx0Ly8gVE9ETyBudWxsIG91dCBvdGhlciByZWZzLCBpbmNsdWRpbmcgY29tcG9uZW50LiQkIChidXQgbmVlZCB0b1xuXHRcdC8vIHByZXNlcnZlIGZpbmFsIHN0YXRlPylcblx0XHQkJC5vbl9kZXN0cm95ID0gJCQuZnJhZ21lbnQgPSBudWxsO1xuXHRcdCQkLmN0eCA9IFtdO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmZ1bmN0aW9uIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKSB7XG5cdGlmIChjb21wb25lbnQuJCQuZGlydHlbMF0gPT09IC0xKSB7XG5cdFx0ZGlydHlfY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG5cdFx0c2NoZWR1bGVfdXBkYXRlKCk7XG5cdFx0Y29tcG9uZW50LiQkLmRpcnR5LmZpbGwoMCk7XG5cdH1cblx0Y29tcG9uZW50LiQkLmRpcnR5WyhpIC8gMzEpIHwgMF0gfD0gMSA8PCBpICUgMzE7XG59XG5cbi8vIFRPRE86IERvY3VtZW50IHRoZSBvdGhlciBwYXJhbXNcbi8qKlxuICogQHBhcmFtIHtTdmVsdGVDb21wb25lbnR9IGNvbXBvbmVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuQ29tcG9uZW50Q29uc3RydWN0b3JPcHRpb25zfSBvcHRpb25zXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vdXRpbHMuanMnKVsnbm90X2VxdWFsJ119IG5vdF9lcXVhbCBVc2VkIHRvIGNvbXBhcmUgcHJvcHMgYW5kIHN0YXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7KHRhcmdldDogRWxlbWVudCB8IFNoYWRvd1Jvb3QpID0+IHZvaWR9IFthcHBlbmRfc3R5bGVzXSBGdW5jdGlvbiB0aGF0IGFwcGVuZHMgc3R5bGVzIHRvIHRoZSBET00gd2hlbiB0aGUgY29tcG9uZW50IGlzIGZpcnN0IGluaXRpYWxpc2VkLlxuICogVGhpcyB3aWxsIGJlIHRoZSBgYWRkX2Nzc2AgZnVuY3Rpb24gZnJvbSB0aGUgY29tcGlsZWQgY29tcG9uZW50LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdChcblx0Y29tcG9uZW50LFxuXHRvcHRpb25zLFxuXHRpbnN0YW5jZSxcblx0Y3JlYXRlX2ZyYWdtZW50LFxuXHRub3RfZXF1YWwsXG5cdHByb3BzLFxuXHRhcHBlbmRfc3R5bGVzID0gbnVsbCxcblx0ZGlydHkgPSBbLTFdXG4pIHtcblx0Y29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuXHRzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlQkJH0gKi9cblx0Y29uc3QgJCQgPSAoY29tcG9uZW50LiQkID0ge1xuXHRcdGZyYWdtZW50OiBudWxsLFxuXHRcdGN0eDogW10sXG5cdFx0Ly8gc3RhdGVcblx0XHRwcm9wcyxcblx0XHR1cGRhdGU6IG5vb3AsXG5cdFx0bm90X2VxdWFsLFxuXHRcdGJvdW5kOiBibGFua19vYmplY3QoKSxcblx0XHQvLyBsaWZlY3ljbGVcblx0XHRvbl9tb3VudDogW10sXG5cdFx0b25fZGVzdHJveTogW10sXG5cdFx0b25fZGlzY29ubmVjdDogW10sXG5cdFx0YmVmb3JlX3VwZGF0ZTogW10sXG5cdFx0YWZ0ZXJfdXBkYXRlOiBbXSxcblx0XHRjb250ZXh0OiBuZXcgTWFwKG9wdGlvbnMuY29udGV4dCB8fCAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSksXG5cdFx0Ly8gZXZlcnl0aGluZyBlbHNlXG5cdFx0Y2FsbGJhY2tzOiBibGFua19vYmplY3QoKSxcblx0XHRkaXJ0eSxcblx0XHRza2lwX2JvdW5kOiBmYWxzZSxcblx0XHRyb290OiBvcHRpb25zLnRhcmdldCB8fCBwYXJlbnRfY29tcG9uZW50LiQkLnJvb3Rcblx0fSk7XG5cdGFwcGVuZF9zdHlsZXMgJiYgYXBwZW5kX3N0eWxlcygkJC5yb290KTtcblx0bGV0IHJlYWR5ID0gZmFsc2U7XG5cdCQkLmN0eCA9IGluc3RhbmNlXG5cdFx0PyBpbnN0YW5jZShjb21wb25lbnQsIG9wdGlvbnMucHJvcHMgfHwge30sIChpLCByZXQsIC4uLnJlc3QpID0+IHtcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSByZXN0Lmxlbmd0aCA/IHJlc3RbMF0gOiByZXQ7XG5cdFx0XHRcdGlmICgkJC5jdHggJiYgbm90X2VxdWFsKCQkLmN0eFtpXSwgKCQkLmN0eFtpXSA9IHZhbHVlKSkpIHtcblx0XHRcdFx0XHRpZiAoISQkLnNraXBfYm91bmQgJiYgJCQuYm91bmRbaV0pICQkLmJvdW5kW2ldKHZhbHVlKTtcblx0XHRcdFx0XHRpZiAocmVhZHkpIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdCAgfSlcblx0XHQ6IFtdO1xuXHQkJC51cGRhdGUoKTtcblx0cmVhZHkgPSB0cnVlO1xuXHRydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuXHQvLyBgZmFsc2VgIGFzIGEgc3BlY2lhbCBjYXNlIG9mIG5vIERPTSBjb21wb25lbnRcblx0JCQuZnJhZ21lbnQgPSBjcmVhdGVfZnJhZ21lbnQgPyBjcmVhdGVfZnJhZ21lbnQoJCQuY3R4KSA6IGZhbHNlO1xuXHRpZiAob3B0aW9ucy50YXJnZXQpIHtcblx0XHRpZiAob3B0aW9ucy5oeWRyYXRlKSB7XG5cdFx0XHRzdGFydF9oeWRyYXRpbmcoKTtcblx0XHRcdC8vIFRPRE86IHdoYXQgaXMgdGhlIGNvcnJlY3QgdHlwZSBoZXJlP1xuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0Y29uc3Qgbm9kZXMgPSBjaGlsZHJlbihvcHRpb25zLnRhcmdldCk7XG5cdFx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5sKG5vZGVzKTtcblx0XHRcdG5vZGVzLmZvckVhY2goZGV0YWNoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cblx0XHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmMoKTtcblx0XHR9XG5cdFx0aWYgKG9wdGlvbnMuaW50cm8pIHRyYW5zaXRpb25faW4oY29tcG9uZW50LiQkLmZyYWdtZW50KTtcblx0XHRtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zLnRhcmdldCwgb3B0aW9ucy5hbmNob3IpO1xuXHRcdGVuZF9oeWRyYXRpbmcoKTtcblx0XHRmbHVzaCgpO1xuXHR9XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbn1cblxuZXhwb3J0IGxldCBTdmVsdGVFbGVtZW50O1xuXG5pZiAodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG5cdFN2ZWx0ZUVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcblx0XHQvKiogVGhlIFN2ZWx0ZSBjb21wb25lbnQgY29uc3RydWN0b3IgKi9cblx0XHQkJGN0b3I7XG5cdFx0LyoqIFNsb3RzICovXG5cdFx0JCRzO1xuXHRcdC8qKiBUaGUgU3ZlbHRlIGNvbXBvbmVudCBpbnN0YW5jZSAqL1xuXHRcdCQkYztcblx0XHQvKiogV2hldGhlciBvciBub3QgdGhlIGN1c3RvbSBlbGVtZW50IGlzIGNvbm5lY3RlZCAqL1xuXHRcdCQkY24gPSBmYWxzZTtcblx0XHQvKiogQ29tcG9uZW50IHByb3BzIGRhdGEgKi9cblx0XHQkJGQgPSB7fTtcblx0XHQvKiogYHRydWVgIGlmIGN1cnJlbnRseSBpbiB0aGUgcHJvY2VzcyBvZiByZWZsZWN0aW5nIGNvbXBvbmVudCBwcm9wcyBiYWNrIHRvIGF0dHJpYnV0ZXMgKi9cblx0XHQkJHIgPSBmYWxzZTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvbj59IFByb3BzIGRlZmluaXRpb24gKG5hbWUsIHJlZmxlY3RlZCwgdHlwZSBldGMpICovXG5cdFx0JCRwX2QgPSB7fTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEZ1bmN0aW9uW10+fSBFdmVudCBsaXN0ZW5lcnMgKi9cblx0XHQkJGwgPSB7fTtcblx0XHQvKiogQHR5cGUge01hcDxGdW5jdGlvbiwgRnVuY3Rpb24+fSBFdmVudCBsaXN0ZW5lciB1bnN1YnNjcmliZSBmdW5jdGlvbnMgKi9cblx0XHQkJGxfdSA9IG5ldyBNYXAoKTtcblxuXHRcdGNvbnN0cnVjdG9yKCQkY29tcG9uZW50Q3RvciwgJCRzbG90cywgdXNlX3NoYWRvd19kb20pIHtcblx0XHRcdHN1cGVyKCk7XG5cdFx0XHR0aGlzLiQkY3RvciA9ICQkY29tcG9uZW50Q3Rvcjtcblx0XHRcdHRoaXMuJCRzID0gJCRzbG90cztcblx0XHRcdGlmICh1c2Vfc2hhZG93X2RvbSkge1xuXHRcdFx0XHR0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG5cdFx0XHQvLyBXZSBjYW4ndCBkZXRlcm1pbmUgdXBmcm9udCBpZiB0aGUgZXZlbnQgaXMgYSBjdXN0b20gZXZlbnQgb3Igbm90LCBzbyB3ZSBoYXZlIHRvXG5cdFx0XHQvLyBsaXN0ZW4gdG8gYm90aC4gSWYgc29tZW9uZSB1c2VzIGEgY3VzdG9tIGV2ZW50IHdpdGggdGhlIHNhbWUgbmFtZSBhcyBhIHJlZ3VsYXJcblx0XHRcdC8vIGJyb3dzZXIgZXZlbnQsIHRoaXMgZmlyZXMgdHdpY2UgLSB3ZSBjYW4ndCBhdm9pZCB0aGF0LlxuXHRcdFx0dGhpcy4kJGxbdHlwZV0gPSB0aGlzLiQkbFt0eXBlXSB8fCBbXTtcblx0XHRcdHRoaXMuJCRsW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0dGhpcy4kJGxfdS5zZXQobGlzdGVuZXIsIHVuc3ViKTtcblx0XHRcdH1cblx0XHRcdHN1cGVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcblx0XHRcdHN1cGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGxfdS5nZXQobGlzdGVuZXIpO1xuXHRcdFx0XHRpZiAodW5zdWIpIHtcblx0XHRcdFx0XHR1bnN1YigpO1xuXHRcdFx0XHRcdHRoaXMuJCRsX3UuZGVsZXRlKGxpc3RlbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuXHRcdFx0dGhpcy4kJGNuID0gdHJ1ZTtcblx0XHRcdGlmICghdGhpcy4kJGMpIHtcblx0XHRcdFx0Ly8gV2Ugd2FpdCBvbmUgdGljayB0byBsZXQgcG9zc2libGUgY2hpbGQgc2xvdCBlbGVtZW50cyBiZSBjcmVhdGVkL21vdW50ZWRcblx0XHRcdFx0YXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0XHRcdGlmICghdGhpcy4kJGNuKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIGNyZWF0ZV9zbG90KG5hbWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0XHRcdFx0bGV0IG5vZGU7XG5cdFx0XHRcdFx0XHRjb25zdCBvYmogPSB7XG5cdFx0XHRcdFx0XHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbWVudCgnc2xvdCcpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChuYW1lICE9PSAnZGVmYXVsdCcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGF0dHIobm9kZSwgJ25hbWUnLCBuYW1lKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdFx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXRcblx0XHRcdFx0XHRcdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW2FuY2hvcl1cblx0XHRcdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0XHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0aW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkZXRhY2gobm9kZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9iajtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0ICQkc2xvdHMgPSB7fTtcblx0XHRcdFx0Y29uc3QgZXhpc3Rpbmdfc2xvdHMgPSBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKHRoaXMpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy4kJHMpIHtcblx0XHRcdFx0XHRpZiAobmFtZSBpbiBleGlzdGluZ19zbG90cykge1xuXHRcdFx0XHRcdFx0JCRzbG90c1tuYW1lXSA9IFtjcmVhdGVfc2xvdChuYW1lKV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xuXHRcdFx0XHRcdC8vIHRoaXMuJCRkYXRhIHRha2VzIHByZWNlZGVuY2Ugb3ZlciB0aGlzLmF0dHJpYnV0ZXNcblx0XHRcdFx0XHRjb25zdCBuYW1lID0gdGhpcy4kJGdfcChhdHRyaWJ1dGUubmFtZSk7XG5cdFx0XHRcdFx0aWYgKCEobmFtZSBpbiB0aGlzLiQkZCkpIHtcblx0XHRcdFx0XHRcdHRoaXMuJCRkW25hbWVdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKG5hbWUsIGF0dHJpYnV0ZS52YWx1ZSwgdGhpcy4kJHBfZCwgJ3RvUHJvcCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLiQkYyA9IG5ldyB0aGlzLiQkY3Rvcih7XG5cdFx0XHRcdFx0dGFyZ2V0OiB0aGlzLnNoYWRvd1Jvb3QgfHwgdGhpcyxcblx0XHRcdFx0XHRwcm9wczoge1xuXHRcdFx0XHRcdFx0Li4udGhpcy4kJGQsXG5cdFx0XHRcdFx0XHQkJHNsb3RzLFxuXHRcdFx0XHRcdFx0JCRzY29wZToge1xuXHRcdFx0XHRcdFx0XHRjdHg6IFtdXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBSZWZsZWN0IGNvbXBvbmVudCBwcm9wcyBhcyBhdHRyaWJ1dGVzXG5cdFx0XHRcdGNvbnN0IHJlZmxlY3RfYXR0cmlidXRlcyA9ICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLiQkciA9IHRydWU7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy4kJHBfZCkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSA9IHRoaXMuJCRjLiQkLmN0eFt0aGlzLiQkYy4kJC5wcm9wc1trZXldXTtcblx0XHRcdFx0XHRcdGlmICh0aGlzLiQkcF9kW2tleV0ucmVmbGVjdCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBhdHRyaWJ1dGVfdmFsdWUgPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUoXG5cdFx0XHRcdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuJCRkW2tleV0sXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4kJHBfZCxcblx0XHRcdFx0XHRcdFx0XHQndG9BdHRyaWJ1dGUnXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdGlmIChhdHRyaWJ1dGVfdmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlQXR0cmlidXRlKHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgfHwga2V5KTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSh0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlIHx8IGtleSwgYXR0cmlidXRlX3ZhbHVlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLiQkciA9IGZhbHNlO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR0aGlzLiQkYy4kJC5hZnRlcl91cGRhdGUucHVzaChyZWZsZWN0X2F0dHJpYnV0ZXMpO1xuXHRcdFx0XHRyZWZsZWN0X2F0dHJpYnV0ZXMoKTsgLy8gb25jZSBpbml0aWFsbHkgYmVjYXVzZSBhZnRlcl91cGRhdGUgaXMgYWRkZWQgdG9vIGxhdGUgZm9yIGZpcnN0IHJlbmRlclxuXG5cdFx0XHRcdGZvciAoY29uc3QgdHlwZSBpbiB0aGlzLiQkbCkge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy4kJGxbdHlwZV0pIHtcblx0XHRcdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0XHRcdHRoaXMuJCRsX3Uuc2V0KGxpc3RlbmVyLCB1bnN1Yik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuJCRsID0ge307XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gV2UgZG9uJ3QgbmVlZCB0aGlzIHdoZW4gd29ya2luZyB3aXRoaW4gU3ZlbHRlIGNvZGUsIGJ1dCBmb3IgY29tcGF0aWJpbGl0eSBvZiBwZW9wbGUgdXNpbmcgdGhpcyBvdXRzaWRlIG9mIFN2ZWx0ZVxuXHRcdC8vIGFuZCBzZXR0aW5nIGF0dHJpYnV0ZXMgdGhyb3VnaCBzZXRBdHRyaWJ1dGUgZXRjLCB0aGlzIGlzIGhlbHBmdWxcblx0XHRhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ciwgX29sZFZhbHVlLCBuZXdWYWx1ZSkge1xuXHRcdFx0aWYgKHRoaXMuJCRyKSByZXR1cm47XG5cdFx0XHRhdHRyID0gdGhpcy4kJGdfcChhdHRyKTtcblx0XHRcdHRoaXMuJCRkW2F0dHJdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKGF0dHIsIG5ld1ZhbHVlLCB0aGlzLiQkcF9kLCAndG9Qcm9wJyk7XG5cdFx0XHR0aGlzLiQkYz8uJHNldCh7IFthdHRyXTogdGhpcy4kJGRbYXR0cl0gfSk7XG5cdFx0fVxuXG5cdFx0ZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cdFx0XHR0aGlzLiQkY24gPSBmYWxzZTtcblx0XHRcdC8vIEluIGEgbWljcm90YXNrLCBiZWNhdXNlIHRoaXMgY291bGQgYmUgYSBtb3ZlIHdpdGhpbiB0aGUgRE9NXG5cdFx0XHRQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcblx0XHRcdFx0aWYgKCF0aGlzLiQkY24pIHtcblx0XHRcdFx0XHR0aGlzLiQkYy4kZGVzdHJveSgpO1xuXHRcdFx0XHRcdHRoaXMuJCRjID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQkJGdfcChhdHRyaWJ1dGVfbmFtZSkge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0T2JqZWN0LmtleXModGhpcy4kJHBfZCkuZmluZChcblx0XHRcdFx0XHQoa2V5KSA9PlxuXHRcdFx0XHRcdFx0dGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSA9PT0gYXR0cmlidXRlX25hbWUgfHxcblx0XHRcdFx0XHRcdCghdGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gYXR0cmlidXRlX25hbWUpXG5cdFx0XHRcdCkgfHwgYXR0cmlidXRlX25hbWVcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvblxuICogQHBhcmFtIHsndG9BdHRyaWJ1dGUnIHwgJ3RvUHJvcCd9IFt0cmFuc2Zvcm1dXG4gKi9cbmZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShwcm9wLCB2YWx1ZSwgcHJvcHNfZGVmaW5pdGlvbiwgdHJhbnNmb3JtKSB7XG5cdGNvbnN0IHR5cGUgPSBwcm9wc19kZWZpbml0aW9uW3Byb3BdPy50eXBlO1xuXHR2YWx1ZSA9IHR5cGUgPT09ICdCb29sZWFuJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJyA/IHZhbHVlICE9IG51bGwgOiB2YWx1ZTtcblx0aWYgKCF0cmFuc2Zvcm0gfHwgIXByb3BzX2RlZmluaXRpb25bcHJvcF0pIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0gZWxzZSBpZiAodHJhbnNmb3JtID09PSAndG9BdHRyaWJ1dGUnKSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID8gJycgOiBudWxsO1xuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBudWxsIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdGNhc2UgJ0FycmF5Jzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlICYmIEpTT04ucGFyc2UodmFsdWUpO1xuXHRcdFx0Y2FzZSAnQm9vbGVhbic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTsgLy8gY29udmVyc2lvbiBhbHJlYWR5IGhhbmRsZWQgYWJvdmVcblx0XHRcdGNhc2UgJ051bWJlcic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSAhPSBudWxsID8gK3ZhbHVlIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKlxuICogVHVybiBhIFN2ZWx0ZSBjb21wb25lbnQgaW50byBhIGN1c3RvbSBlbGVtZW50LlxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuQ29tcG9uZW50VHlwZX0gQ29tcG9uZW50ICBBIFN2ZWx0ZSBjb21wb25lbnQgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvbiAgVGhlIHByb3BzIHRvIG9ic2VydmVcbiAqIEBwYXJhbSB7c3RyaW5nW119IHNsb3RzICBUaGUgc2xvdHMgdG8gY3JlYXRlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhY2Nlc3NvcnMgIE90aGVyIGFjY2Vzc29ycyBiZXNpZGVzIHRoZSBvbmVzIGZvciBwcm9wcyB0aGUgY29tcG9uZW50IGhhc1xuICogQHBhcmFtIHtib29sZWFufSB1c2Vfc2hhZG93X2RvbSAgV2hldGhlciB0byB1c2Ugc2hhZG93IERPTVxuICogQHBhcmFtIHsoY2U6IG5ldyAoKSA9PiBIVE1MRWxlbWVudCkgPT4gbmV3ICgpID0+IEhUTUxFbGVtZW50fSBbZXh0ZW5kXVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2N1c3RvbV9lbGVtZW50KFxuXHRDb21wb25lbnQsXG5cdHByb3BzX2RlZmluaXRpb24sXG5cdHNsb3RzLFxuXHRhY2Nlc3NvcnMsXG5cdHVzZV9zaGFkb3dfZG9tLFxuXHRleHRlbmRcbikge1xuXHRsZXQgQ2xhc3MgPSBjbGFzcyBleHRlbmRzIFN2ZWx0ZUVsZW1lbnQge1xuXHRcdGNvbnN0cnVjdG9yKCkge1xuXHRcdFx0c3VwZXIoQ29tcG9uZW50LCBzbG90cywgdXNlX3NoYWRvd19kb20pO1xuXHRcdFx0dGhpcy4kJHBfZCA9IHByb3BzX2RlZmluaXRpb247XG5cdFx0fVxuXHRcdHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuXHRcdFx0cmV0dXJuIE9iamVjdC5rZXlzKHByb3BzX2RlZmluaXRpb24pLm1hcCgoa2V5KSA9PlxuXHRcdFx0XHQocHJvcHNfZGVmaW5pdGlvbltrZXldLmF0dHJpYnV0ZSB8fCBrZXkpLnRvTG93ZXJDYXNlKClcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xuXHRPYmplY3Qua2V5cyhwcm9wc19kZWZpbml0aW9uKS5mb3JFYWNoKChwcm9wKSA9PiB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgcHJvcCwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy4kJGMgJiYgcHJvcCBpbiB0aGlzLiQkYyA/IHRoaXMuJCRjW3Byb3BdIDogdGhpcy4kJGRbcHJvcF07XG5cdFx0XHR9LFxuXHRcdFx0c2V0KHZhbHVlKSB7XG5cdFx0XHRcdHZhbHVlID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKHByb3AsIHZhbHVlLCBwcm9wc19kZWZpbml0aW9uKTtcblx0XHRcdFx0dGhpcy4kJGRbcHJvcF0gPSB2YWx1ZTtcblx0XHRcdFx0dGhpcy4kJGM/LiRzZXQoeyBbcHJvcF06IHZhbHVlIH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0YWNjZXNzb3JzLmZvckVhY2goKGFjY2Vzc29yKSA9PiB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgYWNjZXNzb3IsIHtcblx0XHRcdGdldCgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuJCRjPy5bYWNjZXNzb3JdO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0aWYgKGV4dGVuZCkge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgLSBhc3NpZ25pbmcgaGVyZSBpcyBmaW5lXG5cdFx0Q2xhc3MgPSBleHRlbmQoQ2xhc3MpO1xuXHR9XG5cdENvbXBvbmVudC5lbGVtZW50ID0gLyoqIEB0eXBlIHthbnl9ICovIChDbGFzcyk7XG5cdHJldHVybiBDbGFzcztcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBTdmVsdGUgY29tcG9uZW50cy4gVXNlZCB3aGVuIGRldj1mYWxzZS5cbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtQcm9wcz1hbnldXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudHM9YW55XVxuICovXG5leHBvcnQgY2xhc3MgU3ZlbHRlQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqICMjIyBQUklWQVRFIEFQSVxuXHQgKlxuXHQgKiBEbyBub3QgdXNlLCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHthbnl9XG5cdCAqL1xuXHQkJCA9IHVuZGVmaW5lZDtcblx0LyoqXG5cdCAqICMjIyBQUklWQVRFIEFQSVxuXHQgKlxuXHQgKiBEbyBub3QgdXNlLCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHthbnl9XG5cdCAqL1xuXHQkJHNldCA9IHVuZGVmaW5lZDtcblxuXHQvKiogQHJldHVybnMge3ZvaWR9ICovXG5cdCRkZXN0cm95KCkge1xuXHRcdGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuXHRcdHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuXHR9XG5cblx0LyoqXG5cdCAqIEB0ZW1wbGF0ZSB7RXh0cmFjdDxrZXlvZiBFdmVudHMsIHN0cmluZz59IEtcblx0ICogQHBhcmFtIHtLfSB0eXBlXG5cdCAqIEBwYXJhbSB7KChlOiBFdmVudHNbS10pID0+IHZvaWQpIHwgbnVsbCB8IHVuZGVmaW5lZH0gY2FsbGJhY2tcblx0ICogQHJldHVybnMgeygpID0+IHZvaWR9XG5cdCAqL1xuXHQkb24odHlwZSwgY2FsbGJhY2spIHtcblx0XHRpZiAoIWlzX2Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuXHRcdFx0cmV0dXJuIG5vb3A7XG5cdFx0fVxuXHRcdGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKTtcblx0XHRjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuXHRcdFx0aWYgKGluZGV4ICE9PSAtMSkgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1BhcnRpYWw8UHJvcHM+fSBwcm9wc1xuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdCRzZXQocHJvcHMpIHtcblx0XHRpZiAodGhpcy4kJHNldCAmJiAhaXNfZW1wdHkocHJvcHMpKSB7XG5cdFx0XHR0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuXHRcdFx0dGhpcy4kJHNldChwcm9wcyk7XG5cdFx0XHR0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXR0cmlidXRlXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmVmbGVjdF1cbiAqIEBwcm9wZXJ0eSB7J1N0cmluZyd8J0Jvb2xlYW4nfCdOdW1iZXInfCdBcnJheSd8J09iamVjdCd9IFt0eXBlXVxuICovXG4iLCIvLyBnZW5lcmF0ZWQgZHVyaW5nIHJlbGVhc2UsIGRvIG5vdCBtb2RpZnlcblxuLyoqXG4gKiBUaGUgY3VycmVudCB2ZXJzaW9uLCBhcyBzZXQgaW4gcGFja2FnZS5qc29uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1jb21waWxlciNzdmVsdGUtdmVyc2lvblxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC4yLjEnO1xuZXhwb3J0IGNvbnN0IFBVQkxJQ19WRVJTSU9OID0gJzQnO1xuIiwiaW1wb3J0IHsgUFVCTElDX1ZFUlNJT04gfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdmVyc2lvbi5qcyc7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcblx0Ly8gQHRzLWlnbm9yZVxuXHQod2luZG93Ll9fc3ZlbHRlIHx8ICh3aW5kb3cuX19zdmVsdGUgPSB7IHY6IG5ldyBTZXQoKSB9KSkudi5hZGQoUFVCTElDX1ZFUlNJT04pO1xuIiwiPHNjcmlwdD5cbiAgZXhwb3J0IGxldCB0aXRsZSA9IG51bGw7XG4gIGV4cG9ydCBsZXQgdmlld0JveDtcbjwvc2NyaXB0PlxuXG48c3R5bGU+XG4gIHN2ZyB7XG4gICAgc3Ryb2tlOiBjdXJyZW50Q29sb3I7XG4gICAgZmlsbDogY3VycmVudENvbG9yO1xuICAgIHN0cm9rZS13aWR0aDogMDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IGF1dG87XG4gICAgbWF4LWhlaWdodDogMTAwJTtcbiAgfSAgXG48L3N0eWxlPlxuXG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB7dmlld0JveH0+XG4gIHsjaWYgdGl0bGV9XG4gICAgPHRpdGxlPnt0aXRsZX08L3RpdGxlPlxuICB7L2lmfVxuICA8c2xvdCAvPlxuPC9zdmc+XG4iLCI8c2NyaXB0PlxuICAgIGltcG9ydCBJY29uQmFzZSBmcm9tIFwiLi4vY29tcG9uZW50cy9JY29uQmFzZS5zdmVsdGVcIjtcbjwvc2NyaXB0PlxuXG48SWNvbkJhc2Ugdmlld0JveD1cIjAgMCAyNCAyNFwiIHsuLi4kJHByb3BzfT5cbiAgICA8cGF0aCBkPVwiTTIuMDEgMjFMMjMgMTIgMi4wMSAzIDIgMTBsMTUgMi0xNSAyelwiIC8+XG48L0ljb25CYXNlPlxuIiwiaW1wb3J0IHtcblx0cnVuX2FsbCxcblx0c3Vic2NyaWJlLFxuXHRub29wLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0aXNfZnVuY3Rpb24sXG5cdGdldF9zdG9yZV92YWx1ZVxufSBmcm9tICcuLi9pbnRlcm5hbC9pbmRleC5qcyc7XG5cbmNvbnN0IHN1YnNjcmliZXJfcXVldWUgPSBbXTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgYFJlYWRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjcmVhZGFibGVcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IFt2YWx1ZV0gaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3RhcnRTdG9wTm90aWZpZXI8VD59IFtzdGFydF1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkYWJsZSh2YWx1ZSwgc3RhcnQpIHtcblx0cmV0dXJuIHtcblx0XHRzdWJzY3JpYmU6IHdyaXRhYmxlKHZhbHVlLCBzdGFydCkuc3Vic2NyaWJlXG5cdH07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgYFdyaXRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyBib3RoIHVwZGF0aW5nIGFuZCByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjd3JpdGFibGVcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IFt2YWx1ZV0gaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3RhcnRTdG9wTm90aWZpZXI8VD59IFtzdGFydF1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuV3JpdGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQgPSBub29wKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlVuc3Vic2NyaWJlcn0gKi9cblx0bGV0IHN0b3A7XG5cdC8qKiBAdHlwZSB7U2V0PGltcG9ydCgnLi9wcml2YXRlLmpzJykuU3Vic2NyaWJlSW52YWxpZGF0ZVR1cGxlPFQ+Pn0gKi9cblx0Y29uc3Qgc3Vic2NyaWJlcnMgPSBuZXcgU2V0KCk7XG5cdC8qKiBAcGFyYW0ge1R9IG5ld192YWx1ZVxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIHNldChuZXdfdmFsdWUpIHtcblx0XHRpZiAoc2FmZV9ub3RfZXF1YWwodmFsdWUsIG5ld192YWx1ZSkpIHtcblx0XHRcdHZhbHVlID0gbmV3X3ZhbHVlO1xuXHRcdFx0aWYgKHN0b3ApIHtcblx0XHRcdFx0Ly8gc3RvcmUgaXMgcmVhZHlcblx0XHRcdFx0Y29uc3QgcnVuX3F1ZXVlID0gIXN1YnNjcmliZXJfcXVldWUubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHN1YnNjcmliZXIgb2Ygc3Vic2NyaWJlcnMpIHtcblx0XHRcdFx0XHRzdWJzY3JpYmVyWzFdKCk7XG5cdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZS5wdXNoKHN1YnNjcmliZXIsIHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocnVuX3F1ZXVlKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDsgaSArPSAyKSB7XG5cdFx0XHRcdFx0XHRzdWJzY3JpYmVyX3F1ZXVlW2ldWzBdKHN1YnNjcmliZXJfcXVldWVbaSArIDFdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGggPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlVwZGF0ZXI8VD59IGZuXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gdXBkYXRlKGZuKSB7XG5cdFx0c2V0KGZuKHZhbHVlKSk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3Vic2NyaWJlcjxUPn0gcnVuXG5cdCAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5JbnZhbGlkYXRvcjxUPn0gW2ludmFsaWRhdGVdXG5cdCAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuVW5zdWJzY3JpYmVyfVxuXHQgKi9cblx0ZnVuY3Rpb24gc3Vic2NyaWJlKHJ1biwgaW52YWxpZGF0ZSA9IG5vb3ApIHtcblx0XHQvKiogQHR5cGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuU3Vic2NyaWJlSW52YWxpZGF0ZVR1cGxlPFQ+fSAqL1xuXHRcdGNvbnN0IHN1YnNjcmliZXIgPSBbcnVuLCBpbnZhbGlkYXRlXTtcblx0XHRzdWJzY3JpYmVycy5hZGQoc3Vic2NyaWJlcik7XG5cdFx0aWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDEpIHtcblx0XHRcdHN0b3AgPSBzdGFydChzZXQsIHVwZGF0ZSkgfHwgbm9vcDtcblx0XHR9XG5cdFx0cnVuKHZhbHVlKTtcblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0c3Vic2NyaWJlcnMuZGVsZXRlKHN1YnNjcmliZXIpO1xuXHRcdFx0aWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDAgJiYgc3RvcCkge1xuXHRcdFx0XHRzdG9wKCk7XG5cdFx0XHRcdHN0b3AgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHsgc2V0LCB1cGRhdGUsIHN1YnNjcmliZSB9O1xufVxuXG4vKipcbiAqIERlcml2ZWQgdmFsdWUgc3RvcmUgYnkgc3luY2hyb25pemluZyBvbmUgb3IgbW9yZSByZWFkYWJsZSBzdG9yZXMgYW5kXG4gKiBhcHBseWluZyBhbiBhZ2dyZWdhdGlvbiBmdW5jdGlvbiBvdmVyIGl0cyBpbnB1dCB2YWx1ZXMuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2Rlcml2ZWRcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXN9IFNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSB7U30gc3RvcmVzIC0gaW5wdXQgc3RvcmVzXG4gKiBAcGFyYW0geyh2YWx1ZXM6IGltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzVmFsdWVzPFM+LCBzZXQ6ICh2YWx1ZTogVCkgPT4gdm9pZCwgdXBkYXRlOiAoZm46IGltcG9ydCgnLi9wdWJsaWMuanMnKS5VcGRhdGVyPFQ+KSA9PiB2b2lkKSA9PiBpbXBvcnQoJy4vcHVibGljLmpzJykuVW5zdWJzY3JpYmVyIHwgdm9pZH0gZm4gLSBmdW5jdGlvbiBjYWxsYmFjayB0aGF0IGFnZ3JlZ2F0ZXMgdGhlIHZhbHVlc1xuICogQHBhcmFtIHtUfSBbaW5pdGlhbF92YWx1ZV0gLSBpbml0aWFsIHZhbHVlXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5cbi8qKlxuICogRGVyaXZlZCB2YWx1ZSBzdG9yZSBieSBzeW5jaHJvbml6aW5nIG9uZSBvciBtb3JlIHJlYWRhYmxlIHN0b3JlcyBhbmRcbiAqIGFwcGx5aW5nIGFuIGFnZ3JlZ2F0aW9uIGZ1bmN0aW9uIG92ZXIgaXRzIGlucHV0IHZhbHVlcy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjZGVyaXZlZFxuICogQHRlbXBsYXRlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN0b3Jlc30gU1xuICogQHRlbXBsYXRlIFRcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtIHtTfSBzdG9yZXMgLSBpbnB1dCBzdG9yZXNcbiAqIEBwYXJhbSB7KHZhbHVlczogaW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXNWYWx1ZXM8Uz4pID0+IFR9IGZuIC0gZnVuY3Rpb24gY2FsbGJhY2sgdGhhdCBhZ2dyZWdhdGVzIHRoZSB2YWx1ZXNcbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdIC0gaW5pdGlhbCB2YWx1ZVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXN9IFNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1N9IHN0b3Jlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlZChzdG9yZXMsIGZuLCBpbml0aWFsX3ZhbHVlKSB7XG5cdGNvbnN0IHNpbmdsZSA9ICFBcnJheS5pc0FycmF5KHN0b3Jlcyk7XG5cdC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPGFueT4+fSAqL1xuXHRjb25zdCBzdG9yZXNfYXJyYXkgPSBzaW5nbGUgPyBbc3RvcmVzXSA6IHN0b3Jlcztcblx0aWYgKCFzdG9yZXNfYXJyYXkuZXZlcnkoQm9vbGVhbikpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2Rlcml2ZWQoKSBleHBlY3RzIHN0b3JlcyBhcyBpbnB1dCwgZ290IGEgZmFsc3kgdmFsdWUnKTtcblx0fVxuXHRjb25zdCBhdXRvID0gZm4ubGVuZ3RoIDwgMjtcblx0cmV0dXJuIHJlYWRhYmxlKGluaXRpYWxfdmFsdWUsIChzZXQsIHVwZGF0ZSkgPT4ge1xuXHRcdGxldCBzdGFydGVkID0gZmFsc2U7XG5cdFx0Y29uc3QgdmFsdWVzID0gW107XG5cdFx0bGV0IHBlbmRpbmcgPSAwO1xuXHRcdGxldCBjbGVhbnVwID0gbm9vcDtcblx0XHRjb25zdCBzeW5jID0gKCkgPT4ge1xuXHRcdFx0aWYgKHBlbmRpbmcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gZm4oc2luZ2xlID8gdmFsdWVzWzBdIDogdmFsdWVzLCBzZXQsIHVwZGF0ZSk7XG5cdFx0XHRpZiAoYXV0bykge1xuXHRcdFx0XHRzZXQocmVzdWx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsZWFudXAgPSBpc19mdW5jdGlvbihyZXN1bHQpID8gcmVzdWx0IDogbm9vcDtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGNvbnN0IHVuc3Vic2NyaWJlcnMgPSBzdG9yZXNfYXJyYXkubWFwKChzdG9yZSwgaSkgPT5cblx0XHRcdHN1YnNjcmliZShcblx0XHRcdFx0c3RvcmUsXG5cdFx0XHRcdCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHZhbHVlc1tpXSA9IHZhbHVlO1xuXHRcdFx0XHRcdHBlbmRpbmcgJj0gfigxIDw8IGkpO1xuXHRcdFx0XHRcdGlmIChzdGFydGVkKSB7XG5cdFx0XHRcdFx0XHRzeW5jKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0cGVuZGluZyB8PSAxIDw8IGk7XG5cdFx0XHRcdH1cblx0XHRcdClcblx0XHQpO1xuXHRcdHN0YXJ0ZWQgPSB0cnVlO1xuXHRcdHN5bmMoKTtcblx0XHRyZXR1cm4gZnVuY3Rpb24gc3RvcCgpIHtcblx0XHRcdHJ1bl9hbGwodW5zdWJzY3JpYmVycyk7XG5cdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHQvLyBXZSBuZWVkIHRvIHNldCB0aGlzIHRvIGZhbHNlIGJlY2F1c2UgY2FsbGJhY2tzIGNhbiBzdGlsbCBoYXBwZW4gZGVzcGl0ZSBoYXZpbmcgdW5zdWJzY3JpYmVkOlxuXHRcdFx0Ly8gQ2FsbGJhY2tzIG1pZ2h0IGFscmVhZHkgYmUgcGxhY2VkIGluIHRoZSBxdWV1ZSB3aGljaCBkb2Vzbid0IGtub3cgaXQgc2hvdWxkIG5vIGxvbmdlclxuXHRcdFx0Ly8gaW52b2tlIHRoaXMgZGVyaXZlZCBzdG9yZS5cblx0XHRcdHN0YXJ0ZWQgPSBmYWxzZTtcblx0XHR9O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBUYWtlcyBhIHN0b3JlIGFuZCByZXR1cm5zIGEgbmV3IG9uZSBkZXJpdmVkIGZyb20gdGhlIG9sZCBvbmUgdGhhdCBpcyByZWFkYWJsZS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjcmVhZG9ubHlcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn0gc3RvcmUgIC0gc3RvcmUgdG8gbWFrZSByZWFkb25seVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRvbmx5KHN0b3JlKSB7XG5cdHJldHVybiB7XG5cdFx0c3Vic2NyaWJlOiBzdG9yZS5zdWJzY3JpYmUuYmluZChzdG9yZSlcblx0fTtcbn1cblxuZXhwb3J0IHsgZ2V0X3N0b3JlX3ZhbHVlIGFzIGdldCB9O1xuIiwiZnVuY3Rpb24gUmV0cnlPcGVyYXRpb24odGltZW91dHMsIG9wdGlvbnMpIHtcbiAgLy8gQ29tcGF0aWJpbGl0eSBmb3IgdGhlIG9sZCAodGltZW91dHMsIHJldHJ5Rm9yZXZlcikgc2lnbmF0dXJlXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucyA9IHsgZm9yZXZlcjogb3B0aW9ucyB9O1xuICB9XG5cbiAgdGhpcy5fb3JpZ2luYWxUaW1lb3V0cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGltZW91dHMpKTtcbiAgdGhpcy5fdGltZW91dHMgPSB0aW1lb3V0cztcbiAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHRoaXMuX21heFJldHJ5VGltZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5tYXhSZXRyeVRpbWUgfHwgSW5maW5pdHk7XG4gIHRoaXMuX2ZuID0gbnVsbDtcbiAgdGhpcy5fZXJyb3JzID0gW107XG4gIHRoaXMuX2F0dGVtcHRzID0gMTtcbiAgdGhpcy5fb3BlcmF0aW9uVGltZW91dCA9IG51bGw7XG4gIHRoaXMuX29wZXJhdGlvblRpbWVvdXRDYiA9IG51bGw7XG4gIHRoaXMuX3RpbWVvdXQgPSBudWxsO1xuICB0aGlzLl9vcGVyYXRpb25TdGFydCA9IG51bGw7XG4gIHRoaXMuX3RpbWVyID0gbnVsbDtcblxuICBpZiAodGhpcy5fb3B0aW9ucy5mb3JldmVyKSB7XG4gICAgdGhpcy5fY2FjaGVkVGltZW91dHMgPSB0aGlzLl90aW1lb3V0cy5zbGljZSgwKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBSZXRyeU9wZXJhdGlvbjtcblxuUmV0cnlPcGVyYXRpb24ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2F0dGVtcHRzID0gMTtcbiAgdGhpcy5fdGltZW91dHMgPSB0aGlzLl9vcmlnaW5hbFRpbWVvdXRzLnNsaWNlKDApO1xufVxuXG5SZXRyeU9wZXJhdGlvbi5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5fdGltZW91dCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgfVxuICBpZiAodGhpcy5fdGltZXIpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICB9XG5cbiAgdGhpcy5fdGltZW91dHMgICAgICAgPSBbXTtcbiAgdGhpcy5fY2FjaGVkVGltZW91dHMgPSBudWxsO1xufTtcblxuUmV0cnlPcGVyYXRpb24ucHJvdG90eXBlLnJldHJ5ID0gZnVuY3Rpb24oZXJyKSB7XG4gIGlmICh0aGlzLl90aW1lb3V0KSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICB9XG5cbiAgaWYgKCFlcnIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGlmIChlcnIgJiYgY3VycmVudFRpbWUgLSB0aGlzLl9vcGVyYXRpb25TdGFydCA+PSB0aGlzLl9tYXhSZXRyeVRpbWUpIHtcbiAgICB0aGlzLl9lcnJvcnMucHVzaChlcnIpO1xuICAgIHRoaXMuX2Vycm9ycy51bnNoaWZ0KG5ldyBFcnJvcignUmV0cnlPcGVyYXRpb24gdGltZW91dCBvY2N1cnJlZCcpKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB0aGlzLl9lcnJvcnMucHVzaChlcnIpO1xuXG4gIHZhciB0aW1lb3V0ID0gdGhpcy5fdGltZW91dHMuc2hpZnQoKTtcbiAgaWYgKHRpbWVvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0aGlzLl9jYWNoZWRUaW1lb3V0cykge1xuICAgICAgLy8gcmV0cnkgZm9yZXZlciwgb25seSBrZWVwIGxhc3QgZXJyb3JcbiAgICAgIHRoaXMuX2Vycm9ycy5zcGxpY2UoMCwgdGhpcy5fZXJyb3JzLmxlbmd0aCAtIDEpO1xuICAgICAgdGltZW91dCA9IHRoaXMuX2NhY2hlZFRpbWVvdXRzLnNsaWNlKC0xKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIHNlbGYuX2F0dGVtcHRzKys7XG5cbiAgICBpZiAoc2VsZi5fb3BlcmF0aW9uVGltZW91dENiKSB7XG4gICAgICBzZWxmLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5fb3BlcmF0aW9uVGltZW91dENiKHNlbGYuX2F0dGVtcHRzKTtcbiAgICAgIH0sIHNlbGYuX29wZXJhdGlvblRpbWVvdXQpO1xuXG4gICAgICBpZiAoc2VsZi5fb3B0aW9ucy51bnJlZikge1xuICAgICAgICAgIHNlbGYuX3RpbWVvdXQudW5yZWYoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxmLl9mbihzZWxmLl9hdHRlbXB0cyk7XG4gIH0sIHRpbWVvdXQpO1xuXG4gIGlmICh0aGlzLl9vcHRpb25zLnVucmVmKSB7XG4gICAgICB0aGlzLl90aW1lci51bnJlZigpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5SZXRyeU9wZXJhdGlvbi5wcm90b3R5cGUuYXR0ZW1wdCA9IGZ1bmN0aW9uKGZuLCB0aW1lb3V0T3BzKSB7XG4gIHRoaXMuX2ZuID0gZm47XG5cbiAgaWYgKHRpbWVvdXRPcHMpIHtcbiAgICBpZiAodGltZW91dE9wcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLl9vcGVyYXRpb25UaW1lb3V0ID0gdGltZW91dE9wcy50aW1lb3V0O1xuICAgIH1cbiAgICBpZiAodGltZW91dE9wcy5jYikge1xuICAgICAgdGhpcy5fb3BlcmF0aW9uVGltZW91dENiID0gdGltZW91dE9wcy5jYjtcbiAgICB9XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmICh0aGlzLl9vcGVyYXRpb25UaW1lb3V0Q2IpIHtcbiAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuX29wZXJhdGlvblRpbWVvdXRDYigpO1xuICAgIH0sIHNlbGYuX29wZXJhdGlvblRpbWVvdXQpO1xuICB9XG5cbiAgdGhpcy5fb3BlcmF0aW9uU3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICB0aGlzLl9mbih0aGlzLl9hdHRlbXB0cyk7XG59O1xuXG5SZXRyeU9wZXJhdGlvbi5wcm90b3R5cGUudHJ5ID0gZnVuY3Rpb24oZm4pIHtcbiAgY29uc29sZS5sb2coJ1VzaW5nIFJldHJ5T3BlcmF0aW9uLnRyeSgpIGlzIGRlcHJlY2F0ZWQnKTtcbiAgdGhpcy5hdHRlbXB0KGZuKTtcbn07XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKGZuKSB7XG4gIGNvbnNvbGUubG9nKCdVc2luZyBSZXRyeU9wZXJhdGlvbi5zdGFydCgpIGlzIGRlcHJlY2F0ZWQnKTtcbiAgdGhpcy5hdHRlbXB0KGZuKTtcbn07XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5zdGFydCA9IFJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS50cnk7XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5lcnJvcnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX2Vycm9ycztcbn07XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5hdHRlbXB0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fYXR0ZW1wdHM7XG59O1xuXG5SZXRyeU9wZXJhdGlvbi5wcm90b3R5cGUubWFpbkVycm9yID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLl9lcnJvcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgY291bnRzID0ge307XG4gIHZhciBtYWluRXJyb3IgPSBudWxsO1xuICB2YXIgbWFpbkVycm9yQ291bnQgPSAwO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fZXJyb3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVycm9yID0gdGhpcy5fZXJyb3JzW2ldO1xuICAgIHZhciBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICB2YXIgY291bnQgPSAoY291bnRzW21lc3NhZ2VdIHx8IDApICsgMTtcblxuICAgIGNvdW50c1ttZXNzYWdlXSA9IGNvdW50O1xuXG4gICAgaWYgKGNvdW50ID49IG1haW5FcnJvckNvdW50KSB7XG4gICAgICBtYWluRXJyb3IgPSBlcnJvcjtcbiAgICAgIG1haW5FcnJvckNvdW50ID0gY291bnQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1haW5FcnJvcjtcbn07XG4iLCJ2YXIgUmV0cnlPcGVyYXRpb24gPSByZXF1aXJlKCcuL3JldHJ5X29wZXJhdGlvbicpO1xuXG5leHBvcnRzLm9wZXJhdGlvbiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgdmFyIHRpbWVvdXRzID0gZXhwb3J0cy50aW1lb3V0cyhvcHRpb25zKTtcbiAgcmV0dXJuIG5ldyBSZXRyeU9wZXJhdGlvbih0aW1lb3V0cywge1xuICAgICAgZm9yZXZlcjogb3B0aW9ucyAmJiAob3B0aW9ucy5mb3JldmVyIHx8IG9wdGlvbnMucmV0cmllcyA9PT0gSW5maW5pdHkpLFxuICAgICAgdW5yZWY6IG9wdGlvbnMgJiYgb3B0aW9ucy51bnJlZixcbiAgICAgIG1heFJldHJ5VGltZTogb3B0aW9ucyAmJiBvcHRpb25zLm1heFJldHJ5VGltZVxuICB9KTtcbn07XG5cbmV4cG9ydHMudGltZW91dHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICByZXR1cm4gW10uY29uY2F0KG9wdGlvbnMpO1xuICB9XG5cbiAgdmFyIG9wdHMgPSB7XG4gICAgcmV0cmllczogMTAsXG4gICAgZmFjdG9yOiAyLFxuICAgIG1pblRpbWVvdXQ6IDEgKiAxMDAwLFxuICAgIG1heFRpbWVvdXQ6IEluZmluaXR5LFxuICAgIHJhbmRvbWl6ZTogZmFsc2VcbiAgfTtcbiAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMpIHtcbiAgICBvcHRzW2tleV0gPSBvcHRpb25zW2tleV07XG4gIH1cblxuICBpZiAob3B0cy5taW5UaW1lb3V0ID4gb3B0cy5tYXhUaW1lb3V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtaW5UaW1lb3V0IGlzIGdyZWF0ZXIgdGhhbiBtYXhUaW1lb3V0Jyk7XG4gIH1cblxuICB2YXIgdGltZW91dHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRzLnJldHJpZXM7IGkrKykge1xuICAgIHRpbWVvdXRzLnB1c2godGhpcy5jcmVhdGVUaW1lb3V0KGksIG9wdHMpKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZm9yZXZlciAmJiAhdGltZW91dHMubGVuZ3RoKSB7XG4gICAgdGltZW91dHMucHVzaCh0aGlzLmNyZWF0ZVRpbWVvdXQoaSwgb3B0cykpO1xuICB9XG5cbiAgLy8gc29ydCB0aGUgYXJyYXkgbnVtZXJpY2FsbHkgYXNjZW5kaW5nXG4gIHRpbWVvdXRzLnNvcnQoZnVuY3Rpb24oYSxiKSB7XG4gICAgcmV0dXJuIGEgLSBiO1xuICB9KTtcblxuICByZXR1cm4gdGltZW91dHM7XG59O1xuXG5leHBvcnRzLmNyZWF0ZVRpbWVvdXQgPSBmdW5jdGlvbihhdHRlbXB0LCBvcHRzKSB7XG4gIHZhciByYW5kb20gPSAob3B0cy5yYW5kb21pemUpXG4gICAgPyAoTWF0aC5yYW5kb20oKSArIDEpXG4gICAgOiAxO1xuXG4gIHZhciB0aW1lb3V0ID0gTWF0aC5yb3VuZChyYW5kb20gKiBNYXRoLm1heChvcHRzLm1pblRpbWVvdXQsIDEpICogTWF0aC5wb3cob3B0cy5mYWN0b3IsIGF0dGVtcHQpKTtcbiAgdGltZW91dCA9IE1hdGgubWluKHRpbWVvdXQsIG9wdHMubWF4VGltZW91dCk7XG5cbiAgcmV0dXJuIHRpbWVvdXQ7XG59O1xuXG5leHBvcnRzLndyYXAgPSBmdW5jdGlvbihvYmosIG9wdGlvbnMsIG1ldGhvZHMpIHtcbiAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIG1ldGhvZHMgPSBvcHRpb25zO1xuICAgIG9wdGlvbnMgPSBudWxsO1xuICB9XG5cbiAgaWYgKCFtZXRob2RzKSB7XG4gICAgbWV0aG9kcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgbWV0aG9kcy5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG1ldGhvZCAgID0gbWV0aG9kc1tpXTtcbiAgICB2YXIgb3JpZ2luYWwgPSBvYmpbbWV0aG9kXTtcblxuICAgIG9ialttZXRob2RdID0gZnVuY3Rpb24gcmV0cnlXcmFwcGVyKG9yaWdpbmFsKSB7XG4gICAgICB2YXIgb3AgICAgICAgPSBleHBvcnRzLm9wZXJhdGlvbihvcHRpb25zKTtcbiAgICAgIHZhciBhcmdzICAgICA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuXG4gICAgICBhcmdzLnB1c2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGlmIChvcC5yZXRyeShlcnIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBhcmd1bWVudHNbMF0gPSBvcC5tYWluRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSk7XG5cbiAgICAgIG9wLmF0dGVtcHQoZnVuY3Rpb24oKSB7XG4gICAgICAgIG9yaWdpbmFsLmFwcGx5KG9iaiwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9LmJpbmQob2JqLCBvcmlnaW5hbCk7XG4gICAgb2JqW21ldGhvZF0ub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL3JldHJ5Jyk7IiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgcmV0cnkgPSByZXF1aXJlKCdyZXRyeScpO1xuXG5jb25zdCBuZXR3b3JrRXJyb3JNc2dzID0gW1xuXHQnRmFpbGVkIHRvIGZldGNoJywgLy8gQ2hyb21lXG5cdCdOZXR3b3JrRXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIGZldGNoIHJlc291cmNlLicsIC8vIEZpcmVmb3hcblx0J1RoZSBJbnRlcm5ldCBjb25uZWN0aW9uIGFwcGVhcnMgdG8gYmUgb2ZmbGluZS4nLCAvLyBTYWZhcmlcblx0J05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnIC8vIGBjcm9zcy1mZXRjaGBcbl07XG5cbmNsYXNzIEFib3J0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcblx0XHRzdXBlcigpO1xuXG5cdFx0aWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0dGhpcy5vcmlnaW5hbEVycm9yID0gbWVzc2FnZTtcblx0XHRcdCh7bWVzc2FnZX0gPSBtZXNzYWdlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5vcmlnaW5hbEVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuXHRcdFx0dGhpcy5vcmlnaW5hbEVycm9yLnN0YWNrID0gdGhpcy5zdGFjaztcblx0XHR9XG5cblx0XHR0aGlzLm5hbWUgPSAnQWJvcnRFcnJvcic7XG5cdFx0dGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcblx0fVxufVxuXG5jb25zdCBkZWNvcmF0ZUVycm9yV2l0aENvdW50cyA9IChlcnJvciwgYXR0ZW1wdE51bWJlciwgb3B0aW9ucykgPT4ge1xuXHQvLyBNaW51cyAxIGZyb20gYXR0ZW1wdE51bWJlciBiZWNhdXNlIHRoZSBmaXJzdCBhdHRlbXB0IGRvZXMgbm90IGNvdW50IGFzIGEgcmV0cnlcblx0Y29uc3QgcmV0cmllc0xlZnQgPSBvcHRpb25zLnJldHJpZXMgLSAoYXR0ZW1wdE51bWJlciAtIDEpO1xuXG5cdGVycm9yLmF0dGVtcHROdW1iZXIgPSBhdHRlbXB0TnVtYmVyO1xuXHRlcnJvci5yZXRyaWVzTGVmdCA9IHJldHJpZXNMZWZ0O1xuXHRyZXR1cm4gZXJyb3I7XG59O1xuXG5jb25zdCBpc05ldHdvcmtFcnJvciA9IGVycm9yTWVzc2FnZSA9PiBuZXR3b3JrRXJyb3JNc2dzLmluY2x1ZGVzKGVycm9yTWVzc2FnZSk7XG5cbmNvbnN0IHBSZXRyeSA9IChpbnB1dCwgb3B0aW9ucykgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRvcHRpb25zID0ge1xuXHRcdG9uRmFpbGVkQXR0ZW1wdDogKCkgPT4ge30sXG5cdFx0cmV0cmllczogMTAsXG5cdFx0Li4ub3B0aW9uc1xuXHR9O1xuXG5cdGNvbnN0IG9wZXJhdGlvbiA9IHJldHJ5Lm9wZXJhdGlvbihvcHRpb25zKTtcblxuXHRvcGVyYXRpb24uYXR0ZW1wdChhc3luYyBhdHRlbXB0TnVtYmVyID0+IHtcblx0XHR0cnkge1xuXHRcdFx0cmVzb2x2ZShhd2FpdCBpbnB1dChhdHRlbXB0TnVtYmVyKSk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGlmICghKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpKSB7XG5cdFx0XHRcdHJlamVjdChuZXcgVHlwZUVycm9yKGBOb24tZXJyb3Igd2FzIHRocm93bjogXCIke2Vycm9yfVwiLiBZb3Ugc2hvdWxkIG9ubHkgdGhyb3cgZXJyb3JzLmApKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiBBYm9ydEVycm9yKSB7XG5cdFx0XHRcdG9wZXJhdGlvbi5zdG9wKCk7XG5cdFx0XHRcdHJlamVjdChlcnJvci5vcmlnaW5hbEVycm9yKTtcblx0XHRcdH0gZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IgJiYgIWlzTmV0d29ya0Vycm9yKGVycm9yLm1lc3NhZ2UpKSB7XG5cdFx0XHRcdG9wZXJhdGlvbi5zdG9wKCk7XG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWNvcmF0ZUVycm9yV2l0aENvdW50cyhlcnJvciwgYXR0ZW1wdE51bWJlciwgb3B0aW9ucyk7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRhd2FpdCBvcHRpb25zLm9uRmFpbGVkQXR0ZW1wdChlcnJvcik7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIW9wZXJhdGlvbi5yZXRyeShlcnJvcikpIHtcblx0XHRcdFx0XHRyZWplY3Qob3BlcmF0aW9uLm1haW5FcnJvcigpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwUmV0cnk7XG4vLyBUT0RPOiByZW1vdmUgdGhpcyBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uXG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gcFJldHJ5O1xuXG5tb2R1bGUuZXhwb3J0cy5BYm9ydEVycm9yID0gQWJvcnRFcnJvcjtcbiIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxubGV0IGdldFJhbmRvbVZhbHVlcztcbmNvbnN0IHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG5cbmNvbnN0IGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zbGljZSgxKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICByZXR1cm4gYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV07XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgY29uc3QgdXVpZCA9IHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCk7IC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcblxuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7IiwiY29uc3QgcmFuZG9tVVVJRCA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5yYW5kb21VVUlEICYmIGNyeXB0by5yYW5kb21VVUlELmJpbmQoY3J5cHRvKTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmFuZG9tVVVJRFxufTsiLCJpbXBvcnQgbmF0aXZlIGZyb20gJy4vbmF0aXZlLmpzJztcbmltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBpZiAobmF0aXZlLnJhbmRvbVVVSUQgJiYgIWJ1ZiAmJiAhb3B0aW9ucykge1xuICAgIHJldHVybiBuYXRpdmUucmFuZG9tVVVJRCgpO1xuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpOyAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG5cbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgaWYgKGJ1Zikge1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBidWY7XG4gIH1cblxuICByZXR1cm4gdW5zYWZlU3RyaW5naWZ5KHJuZHMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2NDsiLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIsIHNlcCkge1xuXHRpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhIHN0cmluZycpO1xuXHR9XG5cblx0c2VwID0gdHlwZW9mIHNlcCA9PT0gJ3VuZGVmaW5lZCcgPyAnXycgOiBzZXA7XG5cblx0cmV0dXJuIHN0clxuXHRcdC5yZXBsYWNlKC8oW2EtelxcZF0pKFtBLVpdKS9nLCAnJDEnICsgc2VwICsgJyQyJylcblx0XHQucmVwbGFjZSgvKFtBLVpdKykoW0EtWl1bYS16XFxkXSspL2csICckMScgKyBzZXAgKyAnJDInKVxuXHRcdC50b0xvd2VyQ2FzZSgpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgVVBQRVJDQVNFID0gL1tcXHB7THV9XS91O1xuY29uc3QgTE9XRVJDQVNFID0gL1tcXHB7TGx9XS91O1xuY29uc3QgTEVBRElOR19DQVBJVEFMID0gL15bXFxwe0x1fV0oPyFbXFxwe0x1fV0pL2d1O1xuY29uc3QgSURFTlRJRklFUiA9IC8oW1xccHtBbHBoYX1cXHB7Tn1fXXwkKS91O1xuY29uc3QgU0VQQVJBVE9SUyA9IC9bXy5cXC0gXSsvO1xuXG5jb25zdCBMRUFESU5HX1NFUEFSQVRPUlMgPSBuZXcgUmVnRXhwKCdeJyArIFNFUEFSQVRPUlMuc291cmNlKTtcbmNvbnN0IFNFUEFSQVRPUlNfQU5EX0lERU5USUZJRVIgPSBuZXcgUmVnRXhwKFNFUEFSQVRPUlMuc291cmNlICsgSURFTlRJRklFUi5zb3VyY2UsICdndScpO1xuY29uc3QgTlVNQkVSU19BTkRfSURFTlRJRklFUiA9IG5ldyBSZWdFeHAoJ1xcXFxkKycgKyBJREVOVElGSUVSLnNvdXJjZSwgJ2d1Jyk7XG5cbmNvbnN0IHByZXNlcnZlQ2FtZWxDYXNlID0gKHN0cmluZywgdG9Mb3dlckNhc2UsIHRvVXBwZXJDYXNlKSA9PiB7XG5cdGxldCBpc0xhc3RDaGFyTG93ZXIgPSBmYWxzZTtcblx0bGV0IGlzTGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXHRsZXQgaXNMYXN0TGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgY2hhcmFjdGVyID0gc3RyaW5nW2ldO1xuXG5cdFx0aWYgKGlzTGFzdENoYXJMb3dlciAmJiBVUFBFUkNBU0UudGVzdChjaGFyYWN0ZXIpKSB7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgaSkgKyAnLScgKyBzdHJpbmcuc2xpY2UoaSk7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSBmYWxzZTtcblx0XHRcdGlzTGFzdExhc3RDaGFyVXBwZXIgPSBpc0xhc3RDaGFyVXBwZXI7XG5cdFx0XHRpc0xhc3RDaGFyVXBwZXIgPSB0cnVlO1xuXHRcdFx0aSsrO1xuXHRcdH0gZWxzZSBpZiAoaXNMYXN0Q2hhclVwcGVyICYmIGlzTGFzdExhc3RDaGFyVXBwZXIgJiYgTE9XRVJDQVNFLnRlc3QoY2hhcmFjdGVyKSkge1xuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIGkgLSAxKSArICctJyArIHN0cmluZy5zbGljZShpIC0gMSk7XG5cdFx0XHRpc0xhc3RMYXN0Q2hhclVwcGVyID0gaXNMYXN0Q2hhclVwcGVyO1xuXHRcdFx0aXNMYXN0Q2hhclVwcGVyID0gZmFsc2U7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSB0b0xvd2VyQ2FzZShjaGFyYWN0ZXIpID09PSBjaGFyYWN0ZXIgJiYgdG9VcHBlckNhc2UoY2hhcmFjdGVyKSAhPT0gY2hhcmFjdGVyO1xuXHRcdFx0aXNMYXN0TGFzdENoYXJVcHBlciA9IGlzTGFzdENoYXJVcHBlcjtcblx0XHRcdGlzTGFzdENoYXJVcHBlciA9IHRvVXBwZXJDYXNlKGNoYXJhY3RlcikgPT09IGNoYXJhY3RlciAmJiB0b0xvd2VyQ2FzZShjaGFyYWN0ZXIpICE9PSBjaGFyYWN0ZXI7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0cmluZztcbn07XG5cbmNvbnN0IHByZXNlcnZlQ29uc2VjdXRpdmVVcHBlcmNhc2UgPSAoaW5wdXQsIHRvTG93ZXJDYXNlKSA9PiB7XG5cdExFQURJTkdfQ0FQSVRBTC5sYXN0SW5kZXggPSAwO1xuXG5cdHJldHVybiBpbnB1dC5yZXBsYWNlKExFQURJTkdfQ0FQSVRBTCwgbTEgPT4gdG9Mb3dlckNhc2UobTEpKTtcbn07XG5cbmNvbnN0IHBvc3RQcm9jZXNzID0gKGlucHV0LCB0b1VwcGVyQ2FzZSkgPT4ge1xuXHRTRVBBUkFUT1JTX0FORF9JREVOVElGSUVSLmxhc3RJbmRleCA9IDA7XG5cdE5VTUJFUlNfQU5EX0lERU5USUZJRVIubGFzdEluZGV4ID0gMDtcblxuXHRyZXR1cm4gaW5wdXQucmVwbGFjZShTRVBBUkFUT1JTX0FORF9JREVOVElGSUVSLCAoXywgaWRlbnRpZmllcikgPT4gdG9VcHBlckNhc2UoaWRlbnRpZmllcikpXG5cdFx0LnJlcGxhY2UoTlVNQkVSU19BTkRfSURFTlRJRklFUiwgbSA9PiB0b1VwcGVyQ2FzZShtKSk7XG59O1xuXG5jb25zdCBjYW1lbENhc2UgPSAoaW5wdXQsIG9wdGlvbnMpID0+IHtcblx0aWYgKCEodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGlucHV0KSkpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgaW5wdXQgdG8gYmUgYHN0cmluZyB8IHN0cmluZ1tdYCcpO1xuXHR9XG5cblx0b3B0aW9ucyA9IHtcblx0XHRwYXNjYWxDYXNlOiBmYWxzZSxcblx0XHRwcmVzZXJ2ZUNvbnNlY3V0aXZlVXBwZXJjYXNlOiBmYWxzZSxcblx0XHQuLi5vcHRpb25zXG5cdH07XG5cblx0aWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG5cdFx0aW5wdXQgPSBpbnB1dC5tYXAoeCA9PiB4LnRyaW0oKSlcblx0XHRcdC5maWx0ZXIoeCA9PiB4Lmxlbmd0aClcblx0XHRcdC5qb2luKCctJyk7XG5cdH0gZWxzZSB7XG5cdFx0aW5wdXQgPSBpbnB1dC50cmltKCk7XG5cdH1cblxuXHRpZiAoaW5wdXQubGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0Y29uc3QgdG9Mb3dlckNhc2UgPSBvcHRpb25zLmxvY2FsZSA9PT0gZmFsc2UgP1xuXHRcdHN0cmluZyA9PiBzdHJpbmcudG9Mb3dlckNhc2UoKSA6XG5cdFx0c3RyaW5nID0+IHN0cmluZy50b0xvY2FsZUxvd2VyQ2FzZShvcHRpb25zLmxvY2FsZSk7XG5cdGNvbnN0IHRvVXBwZXJDYXNlID0gb3B0aW9ucy5sb2NhbGUgPT09IGZhbHNlID9cblx0XHRzdHJpbmcgPT4gc3RyaW5nLnRvVXBwZXJDYXNlKCkgOlxuXHRcdHN0cmluZyA9PiBzdHJpbmcudG9Mb2NhbGVVcHBlckNhc2Uob3B0aW9ucy5sb2NhbGUpO1xuXG5cdGlmIChpbnB1dC5sZW5ndGggPT09IDEpIHtcblx0XHRyZXR1cm4gb3B0aW9ucy5wYXNjYWxDYXNlID8gdG9VcHBlckNhc2UoaW5wdXQpIDogdG9Mb3dlckNhc2UoaW5wdXQpO1xuXHR9XG5cblx0Y29uc3QgaGFzVXBwZXJDYXNlID0gaW5wdXQgIT09IHRvTG93ZXJDYXNlKGlucHV0KTtcblxuXHRpZiAoaGFzVXBwZXJDYXNlKSB7XG5cdFx0aW5wdXQgPSBwcmVzZXJ2ZUNhbWVsQ2FzZShpbnB1dCwgdG9Mb3dlckNhc2UsIHRvVXBwZXJDYXNlKTtcblx0fVxuXG5cdGlucHV0ID0gaW5wdXQucmVwbGFjZShMRUFESU5HX1NFUEFSQVRPUlMsICcnKTtcblxuXHRpZiAob3B0aW9ucy5wcmVzZXJ2ZUNvbnNlY3V0aXZlVXBwZXJjYXNlKSB7XG5cdFx0aW5wdXQgPSBwcmVzZXJ2ZUNvbnNlY3V0aXZlVXBwZXJjYXNlKGlucHV0LCB0b0xvd2VyQ2FzZSk7XG5cdH0gZWxzZSB7XG5cdFx0aW5wdXQgPSB0b0xvd2VyQ2FzZShpbnB1dCk7XG5cdH1cblxuXHRpZiAob3B0aW9ucy5wYXNjYWxDYXNlKSB7XG5cdFx0aW5wdXQgPSB0b1VwcGVyQ2FzZShpbnB1dC5jaGFyQXQoMCkpICsgaW5wdXQuc2xpY2UoMSk7XG5cdH1cblxuXHRyZXR1cm4gcG9zdFByb2Nlc3MoaW5wdXQsIHRvVXBwZXJDYXNlKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY2FtZWxDYXNlO1xuLy8gVE9ETzogUmVtb3ZlIHRoaXMgZm9yIHRoZSBuZXh0IG1ham9yIHJlbGVhc2Vcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBjYW1lbENhc2U7XG4iLCJpbXBvcnQgc25ha2VDYXNlIGZyb20gXCJkZWNhbWVsaXplXCI7XG5pbXBvcnQgY2FtZWxDYXNlIGZyb20gXCJjYW1lbGNhc2VcIjtcbmV4cG9ydCBmdW5jdGlvbiBrZXlUb0pzb24oa2V5LCBtYXApIHtcbiAgICByZXR1cm4gbWFwPy5ba2V5XSB8fCBzbmFrZUNhc2Uoa2V5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBrZXlGcm9tSnNvbihrZXksIG1hcCkge1xuICAgIHJldHVybiBtYXA/LltrZXldIHx8IGNhbWVsQ2FzZShrZXkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hcEtleXMoZmllbGRzLCBtYXBwZXIsIG1hcCkge1xuICAgIGNvbnN0IG1hcHBlZCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZpZWxkcykge1xuICAgICAgICBpZiAoT2JqZWN0Lmhhc093bihmaWVsZHMsIGtleSkpIHtcbiAgICAgICAgICAgIG1hcHBlZFttYXBwZXIoa2V5LCBtYXApXSA9IGZpZWxkc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXBwZWQ7XG59XG4iLCJpbXBvcnQgeyBrZXlUb0pzb24sIG1hcEtleXMgfSBmcm9tIFwiLi9tYXBfa2V5cy5qc1wiO1xuZnVuY3Rpb24gc2hhbGxvd0NvcHkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKSA/IFsuLi5vYmpdIDogeyAuLi5vYmogfTtcbn1cbmZ1bmN0aW9uIHJlcGxhY2VTZWNyZXRzKHJvb3QsIHNlY3JldHNNYXApIHtcbiAgICBjb25zdCByZXN1bHQgPSBzaGFsbG93Q29weShyb290KTtcbiAgICBmb3IgKGNvbnN0IFtwYXRoLCBzZWNyZXRJZF0gb2YgT2JqZWN0LmVudHJpZXMoc2VjcmV0c01hcCkpIHtcbiAgICAgICAgY29uc3QgW2xhc3QsIC4uLnBhcnRzUmV2ZXJzZV0gPSBwYXRoLnNwbGl0KFwiLlwiKS5yZXZlcnNlKCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGxldCBjdXJyZW50ID0gcmVzdWx0O1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHNSZXZlcnNlLnJldmVyc2UoKSkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRbcGFydF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFtwYXJ0XSA9IHNoYWxsb3dDb3B5KGN1cnJlbnRbcGFydF0pO1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGFydF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRbbGFzdF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY3VycmVudFtsYXN0XSA9IHtcbiAgICAgICAgICAgICAgICBsYzogMSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInNlY3JldFwiLFxuICAgICAgICAgICAgICAgIGlkOiBbc2VjcmV0SWRdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBHZXQgYSB1bmlxdWUgbmFtZSBmb3IgdGhlIG1vZHVsZSwgcmF0aGVyIHRoYW4gcGFyZW50IGNsYXNzIGltcGxlbWVudGF0aW9ucy5cbiAqIFNob3VsZCBub3QgYmUgc3ViY2xhc3NlZCwgc3ViY2xhc3MgbGNfbmFtZSBhYm92ZSBpbnN0ZWFkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2xjX3VuaXF1ZV9uYW1lKFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuc2VyaWFsaXphYmxlQ2xhc3MpIHtcbiAgICAvLyBcInN1cGVyXCIgaGVyZSB3b3VsZCByZWZlciB0byB0aGUgcGFyZW50IGNsYXNzIG9mIFNlcmlhbGl6YWJsZSxcbiAgICAvLyB3aGVuIHdlIHdhbnQgdGhlIHBhcmVudCBjbGFzcyBvZiB0aGUgbW9kdWxlIGFjdHVhbGx5IGNhbGxpbmcgdGhpcyBtZXRob2QuXG4gICAgY29uc3QgcGFyZW50Q2xhc3MgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoc2VyaWFsaXphYmxlQ2xhc3MpO1xuICAgIGNvbnN0IGxjTmFtZUlzU3ViY2xhc3NlZCA9IHR5cGVvZiBzZXJpYWxpemFibGVDbGFzcy5sY19uYW1lID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgKHR5cGVvZiBwYXJlbnRDbGFzcy5sY19uYW1lICE9PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgICAgIHNlcmlhbGl6YWJsZUNsYXNzLmxjX25hbWUoKSAhPT0gcGFyZW50Q2xhc3MubGNfbmFtZSgpKTtcbiAgICBpZiAobGNOYW1lSXNTdWJjbGFzc2VkKSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemFibGVDbGFzcy5sY19uYW1lKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VyaWFsaXphYmxlQ2xhc3MubmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2VyaWFsaXphYmxlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgc2VyaWFsaXphYmxlLiBPdmVycmlkZSB0byBwcm92aWRlIGFuIGFsaWFzIG9yXG4gICAgICogdG8gcHJlc2VydmUgdGhlIHNlcmlhbGl6ZWQgbW9kdWxlIG5hbWUgaW4gbWluaWZpZWQgZW52aXJvbm1lbnRzLlxuICAgICAqXG4gICAgICogSW1wbGVtZW50ZWQgYXMgYSBzdGF0aWMgbWV0aG9kIHRvIHN1cHBvcnQgbG9hZGluZyBsb2dpYy5cbiAgICAgKi9cbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGZpbmFsIHNlcmlhbGl6ZWQgaWRlbnRpZmllciBmb3IgdGhlIG1vZHVsZS5cbiAgICAgKi9cbiAgICBnZXQgbGNfaWQoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi50aGlzLmxjX25hbWVzcGFjZSxcbiAgICAgICAgICAgIGdldF9sY191bmlxdWVfbmFtZSh0aGlzLmNvbnN0cnVjdG9yKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBtYXAgb2Ygc2VjcmV0cywgd2hpY2ggd2lsbCBiZSBvbWl0dGVkIGZyb20gc2VyaWFsaXphdGlvbi5cbiAgICAgKiBLZXlzIGFyZSBwYXRocyB0byB0aGUgc2VjcmV0IGluIGNvbnN0cnVjdG9yIGFyZ3MsIGUuZy4gXCJmb28uYmFyLmJhelwiLlxuICAgICAqIFZhbHVlcyBhcmUgdGhlIHNlY3JldCBpZHMsIHdoaWNoIHdpbGwgYmUgdXNlZCB3aGVuIGRlc2VyaWFsaXppbmcuXG4gICAgICovXG4gICAgZ2V0IGxjX3NlY3JldHMoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIGFkZGl0aW9uYWwgYXR0cmlidXRlcyB0byBtZXJnZSB3aXRoIGNvbnN0cnVjdG9yIGFyZ3MuXG4gICAgICogS2V5cyBhcmUgdGhlIGF0dHJpYnV0ZSBuYW1lcywgZS5nLiBcImZvb1wiLlxuICAgICAqIFZhbHVlcyBhcmUgdGhlIGF0dHJpYnV0ZSB2YWx1ZXMsIHdoaWNoIHdpbGwgYmUgc2VyaWFsaXplZC5cbiAgICAgKiBUaGVzZSBhdHRyaWJ1dGVzIG5lZWQgdG8gYmUgYWNjZXB0ZWQgYnkgdGhlIGNvbnN0cnVjdG9yIGFzIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBnZXQgbGNfYXR0cmlidXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgYWxpYXNlcyBmb3IgY29uc3RydWN0b3IgYXJncy5cbiAgICAgKiBLZXlzIGFyZSB0aGUgYXR0cmlidXRlIG5hbWVzLCBlLmcuIFwiZm9vXCIuXG4gICAgICogVmFsdWVzIGFyZSB0aGUgYWxpYXMgdGhhdCB3aWxsIHJlcGxhY2UgdGhlIGtleSBpbiBzZXJpYWxpemF0aW9uLlxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBlZy4gbWFrZSBhcmd1bWVudCBuYW1lcyBtYXRjaCBQeXRob24uXG4gICAgICovXG4gICAgZ2V0IGxjX2FsaWFzZXMoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGt3YXJncywgLi4uX2FyZ3MpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfa3dhcmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGNfa3dhcmdzID0ga3dhcmdzIHx8IHt9O1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGlmICghdGhpcy5sY19zZXJpYWxpemFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvSlNPTk5vdEltcGxlbWVudGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgIHRoaXMubGNfa3dhcmdzIGluc3RhbmNlb2YgU2VyaWFsaXphYmxlIHx8XG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5sY19rd2FyZ3MgIT09IFwib2JqZWN0XCIgfHxcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkodGhpcy5sY19rd2FyZ3MpKSB7XG4gICAgICAgICAgICAvLyBXZSBkbyBub3Qgc3VwcG9ydCBzZXJpYWxpemF0aW9uIG9mIGNsYXNzZXMgd2l0aCBhcmcgbm90IGEgUE9KT1xuICAgICAgICAgICAgLy8gSSdtIGF3YXJlIHRoZSBjaGVjayBhYm92ZSBpc24ndCBhcyBzdHJpY3QgYXMgaXQgY291bGQgYmVcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvSlNPTk5vdEltcGxlbWVudGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWxpYXNlcyA9IHt9O1xuICAgICAgICBjb25zdCBzZWNyZXRzID0ge307XG4gICAgICAgIGNvbnN0IGt3YXJncyA9IE9iamVjdC5rZXlzKHRoaXMubGNfa3dhcmdzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IGtleSBpbiB0aGlzID8gdGhpc1trZXldIDogdGhpcy5sY19rd2FyZ3Nba2V5XTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgLy8gZ2V0IHNlY3JldHMsIGF0dHJpYnV0ZXMgYW5kIGFsaWFzZXMgZnJvbSBhbGwgc3VwZXJjbGFzc2VzXG4gICAgICAgIGZvciAoXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICBsZXQgY3VycmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTsgY3VycmVudDsgY3VycmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjdXJyZW50KSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihhbGlhc2VzLCBSZWZsZWN0LmdldChjdXJyZW50LCBcImxjX2FsaWFzZXNcIiwgdGhpcykpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzZWNyZXRzLCBSZWZsZWN0LmdldChjdXJyZW50LCBcImxjX3NlY3JldHNcIiwgdGhpcykpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihrd2FyZ3MsIFJlZmxlY3QuZ2V0KGN1cnJlbnQsIFwibGNfYXR0cmlidXRlc1wiLCB0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5jbHVkZSBhbGwgc2VjcmV0cyB1c2VkLCBldmVuIGlmIG5vdCBpbiBrd2FyZ3MsXG4gICAgICAgIC8vIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBzZW50aW5lbCB2YWx1ZSBpbiByZXBsYWNlU2VjcmV0c1xuICAgICAgICBPYmplY3Qua2V5cyhzZWNyZXRzKS5mb3JFYWNoKChrZXlQYXRoKSA9PiB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXMsIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGxldCByZWFkID0gdGhpcztcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBsZXQgd3JpdGUgPSBrd2FyZ3M7XG4gICAgICAgICAgICBjb25zdCBbbGFzdCwgLi4ucGFydHNSZXZlcnNlXSA9IGtleVBhdGguc3BsaXQoXCIuXCIpLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHBhcnRzUmV2ZXJzZS5yZXZlcnNlKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gcmVhZCkgfHwgcmVhZFtrZXldID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gd3JpdGUpIHx8IHdyaXRlW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlYWRba2V5XSA9PT0gXCJvYmplY3RcIiAmJiByZWFkW2tleV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVba2V5XSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVhZFtrZXldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVba2V5XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlYWQgPSByZWFkW2tleV07XG4gICAgICAgICAgICAgICAgd3JpdGUgPSB3cml0ZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhc3QgaW4gcmVhZCAmJiByZWFkW2xhc3RdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB3cml0ZVtsYXN0XSA9IHdyaXRlW2xhc3RdIHx8IHJlYWRbbGFzdF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGM6IDEsXG4gICAgICAgICAgICB0eXBlOiBcImNvbnN0cnVjdG9yXCIsXG4gICAgICAgICAgICBpZDogdGhpcy5sY19pZCxcbiAgICAgICAgICAgIGt3YXJnczogbWFwS2V5cyhPYmplY3Qua2V5cyhzZWNyZXRzKS5sZW5ndGggPyByZXBsYWNlU2VjcmV0cyhrd2FyZ3MsIHNlY3JldHMpIDoga3dhcmdzLCBrZXlUb0pzb24sIGFsaWFzZXMpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0b0pTT05Ob3RJbXBsZW1lbnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxjOiAxLFxuICAgICAgICAgICAgdHlwZTogXCJub3RfaW1wbGVtZW50ZWRcIixcbiAgICAgICAgICAgIGlkOiB0aGlzLmxjX2lkLFxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIHV1aWQgZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IFNlcmlhbGl6YWJsZSwgZ2V0X2xjX3VuaXF1ZV9uYW1lLCB9IGZyb20gXCIuLi9sb2FkL3NlcmlhbGl6YWJsZS5qc1wiO1xuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyB0aGF0IHByb3ZpZGVzIGEgc2V0IG9mIG9wdGlvbmFsIG1ldGhvZHMgdGhhdCBjYW4gYmVcbiAqIG92ZXJyaWRkZW4gaW4gZGVyaXZlZCBjbGFzc2VzIHRvIGhhbmRsZSB2YXJpb3VzIGV2ZW50cyBkdXJpbmcgdGhlXG4gKiBleGVjdXRpb24gb2YgYSBMYW5nQ2hhaW4gYXBwbGljYXRpb24uXG4gKi9cbmNsYXNzIEJhc2VDYWxsYmFja0hhbmRsZXJNZXRob2RzQ2xhc3Mge1xufVxuLyoqXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciBjcmVhdGluZyBjYWxsYmFjayBoYW5kbGVycyBpbiB0aGUgTGFuZ0NoYWluXG4gKiBmcmFtZXdvcmsuIEl0IHByb3ZpZGVzIGEgc2V0IG9mIG9wdGlvbmFsIG1ldGhvZHMgdGhhdCBjYW4gYmUgb3ZlcnJpZGRlblxuICogaW4gZGVyaXZlZCBjbGFzc2VzIHRvIGhhbmRsZSB2YXJpb3VzIGV2ZW50cyBkdXJpbmcgdGhlIGV4ZWN1dGlvbiBvZiBhXG4gKiBMYW5nQ2hhaW4gYXBwbGljYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlQ2FsbGJhY2tIYW5kbGVyIGV4dGVuZHMgQmFzZUNhbGxiYWNrSGFuZGxlck1ldGhvZHNDbGFzcyB7XG4gICAgZ2V0IGxjX25hbWVzcGFjZSgpIHtcbiAgICAgICAgcmV0dXJuIFtcImxhbmdjaGFpblwiLCBcImNhbGxiYWNrc1wiLCB0aGlzLm5hbWVdO1xuICAgIH1cbiAgICBnZXQgbGNfc2VjcmV0cygpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZ2V0IGxjX2F0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGdldCBsY19hbGlhc2VzKCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgc2VyaWFsaXphYmxlLiBPdmVycmlkZSB0byBwcm92aWRlIGFuIGFsaWFzIG9yXG4gICAgICogdG8gcHJlc2VydmUgdGhlIHNlcmlhbGl6ZWQgbW9kdWxlIG5hbWUgaW4gbWluaWZpZWQgZW52aXJvbm1lbnRzLlxuICAgICAqXG4gICAgICogSW1wbGVtZW50ZWQgYXMgYSBzdGF0aWMgbWV0aG9kIHRvIHN1cHBvcnQgbG9hZGluZyBsb2dpYy5cbiAgICAgKi9cbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGZpbmFsIHNlcmlhbGl6ZWQgaWRlbnRpZmllciBmb3IgdGhlIG1vZHVsZS5cbiAgICAgKi9cbiAgICBnZXQgbGNfaWQoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi50aGlzLmxjX25hbWVzcGFjZSxcbiAgICAgICAgICAgIGdldF9sY191bmlxdWVfbmFtZSh0aGlzLmNvbnN0cnVjdG9yKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfa3dhcmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlnbm9yZUxMTVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlnbm9yZUNoYWluXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaWdub3JlQWdlbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpZ25vcmVSZXRyaWV2ZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhd2FpdEhhbmRsZXJzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgICAgID8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb2Nlc3MtZW52XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Py5MQU5HQ0hBSU5fQ0FMTEJBQ0tTX0JBQ0tHUk9VTkQgIT09IFwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxjX2t3YXJncyA9IGlucHV0IHx8IHt9O1xuICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuaWdub3JlTExNID0gaW5wdXQuaWdub3JlTExNID8/IHRoaXMuaWdub3JlTExNO1xuICAgICAgICAgICAgdGhpcy5pZ25vcmVDaGFpbiA9IGlucHV0Lmlnbm9yZUNoYWluID8/IHRoaXMuaWdub3JlQ2hhaW47XG4gICAgICAgICAgICB0aGlzLmlnbm9yZUFnZW50ID0gaW5wdXQuaWdub3JlQWdlbnQgPz8gdGhpcy5pZ25vcmVBZ2VudDtcbiAgICAgICAgICAgIHRoaXMuaWdub3JlUmV0cmlldmVyID0gaW5wdXQuaWdub3JlUmV0cmlldmVyID8/IHRoaXMuaWdub3JlUmV0cmlldmVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvcHkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4gU2VyaWFsaXphYmxlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgdG9KU09OTm90SW1wbGVtZW50ZWQoKSB7XG4gICAgICAgIHJldHVybiBTZXJpYWxpemFibGUucHJvdG90eXBlLnRvSlNPTk5vdEltcGxlbWVudGVkLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tTWV0aG9kcyhtZXRob2RzKSB7XG4gICAgICAgIGNsYXNzIEhhbmRsZXIgZXh0ZW5kcyBCYXNlQ2FsbGJhY2tIYW5kbGVyIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1dWlkLnY0KClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIG1ldGhvZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSGFuZGxlcigpO1xuICAgIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgQU5TSV9CQUNLR1JPVU5EX09GRlNFVCA9IDEwO1xuXG5jb25zdCB3cmFwQW5zaTI1NiA9IChvZmZzZXQgPSAwKSA9PiBjb2RlID0+IGBcXHUwMDFCWyR7MzggKyBvZmZzZXR9OzU7JHtjb2RlfW1gO1xuXG5jb25zdCB3cmFwQW5zaTE2bSA9IChvZmZzZXQgPSAwKSA9PiAocmVkLCBncmVlbiwgYmx1ZSkgPT4gYFxcdTAwMUJbJHszOCArIG9mZnNldH07Mjske3JlZH07JHtncmVlbn07JHtibHVlfW1gO1xuXG5mdW5jdGlvbiBhc3NlbWJsZVN0eWxlcygpIHtcblx0Y29uc3QgY29kZXMgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IHN0eWxlcyA9IHtcblx0XHRtb2RpZmllcjoge1xuXHRcdFx0cmVzZXQ6IFswLCAwXSxcblx0XHRcdC8vIDIxIGlzbid0IHdpZGVseSBzdXBwb3J0ZWQgYW5kIDIyIGRvZXMgdGhlIHNhbWUgdGhpbmdcblx0XHRcdGJvbGQ6IFsxLCAyMl0sXG5cdFx0XHRkaW06IFsyLCAyMl0sXG5cdFx0XHRpdGFsaWM6IFszLCAyM10sXG5cdFx0XHR1bmRlcmxpbmU6IFs0LCAyNF0sXG5cdFx0XHRvdmVybGluZTogWzUzLCA1NV0sXG5cdFx0XHRpbnZlcnNlOiBbNywgMjddLFxuXHRcdFx0aGlkZGVuOiBbOCwgMjhdLFxuXHRcdFx0c3RyaWtldGhyb3VnaDogWzksIDI5XVxuXHRcdH0sXG5cdFx0Y29sb3I6IHtcblx0XHRcdGJsYWNrOiBbMzAsIDM5XSxcblx0XHRcdHJlZDogWzMxLCAzOV0sXG5cdFx0XHRncmVlbjogWzMyLCAzOV0sXG5cdFx0XHR5ZWxsb3c6IFszMywgMzldLFxuXHRcdFx0Ymx1ZTogWzM0LCAzOV0sXG5cdFx0XHRtYWdlbnRhOiBbMzUsIDM5XSxcblx0XHRcdGN5YW46IFszNiwgMzldLFxuXHRcdFx0d2hpdGU6IFszNywgMzldLFxuXG5cdFx0XHQvLyBCcmlnaHQgY29sb3Jcblx0XHRcdGJsYWNrQnJpZ2h0OiBbOTAsIDM5XSxcblx0XHRcdHJlZEJyaWdodDogWzkxLCAzOV0sXG5cdFx0XHRncmVlbkJyaWdodDogWzkyLCAzOV0sXG5cdFx0XHR5ZWxsb3dCcmlnaHQ6IFs5MywgMzldLFxuXHRcdFx0Ymx1ZUJyaWdodDogWzk0LCAzOV0sXG5cdFx0XHRtYWdlbnRhQnJpZ2h0OiBbOTUsIDM5XSxcblx0XHRcdGN5YW5CcmlnaHQ6IFs5NiwgMzldLFxuXHRcdFx0d2hpdGVCcmlnaHQ6IFs5NywgMzldXG5cdFx0fSxcblx0XHRiZ0NvbG9yOiB7XG5cdFx0XHRiZ0JsYWNrOiBbNDAsIDQ5XSxcblx0XHRcdGJnUmVkOiBbNDEsIDQ5XSxcblx0XHRcdGJnR3JlZW46IFs0MiwgNDldLFxuXHRcdFx0YmdZZWxsb3c6IFs0MywgNDldLFxuXHRcdFx0YmdCbHVlOiBbNDQsIDQ5XSxcblx0XHRcdGJnTWFnZW50YTogWzQ1LCA0OV0sXG5cdFx0XHRiZ0N5YW46IFs0NiwgNDldLFxuXHRcdFx0YmdXaGl0ZTogWzQ3LCA0OV0sXG5cblx0XHRcdC8vIEJyaWdodCBjb2xvclxuXHRcdFx0YmdCbGFja0JyaWdodDogWzEwMCwgNDldLFxuXHRcdFx0YmdSZWRCcmlnaHQ6IFsxMDEsIDQ5XSxcblx0XHRcdGJnR3JlZW5CcmlnaHQ6IFsxMDIsIDQ5XSxcblx0XHRcdGJnWWVsbG93QnJpZ2h0OiBbMTAzLCA0OV0sXG5cdFx0XHRiZ0JsdWVCcmlnaHQ6IFsxMDQsIDQ5XSxcblx0XHRcdGJnTWFnZW50YUJyaWdodDogWzEwNSwgNDldLFxuXHRcdFx0YmdDeWFuQnJpZ2h0OiBbMTA2LCA0OV0sXG5cdFx0XHRiZ1doaXRlQnJpZ2h0OiBbMTA3LCA0OV1cblx0XHR9XG5cdH07XG5cblx0Ly8gQWxpYXMgYnJpZ2h0IGJsYWNrIGFzIGdyYXkgKGFuZCBncmV5KVxuXHRzdHlsZXMuY29sb3IuZ3JheSA9IHN0eWxlcy5jb2xvci5ibGFja0JyaWdodDtcblx0c3R5bGVzLmJnQ29sb3IuYmdHcmF5ID0gc3R5bGVzLmJnQ29sb3IuYmdCbGFja0JyaWdodDtcblx0c3R5bGVzLmNvbG9yLmdyZXkgPSBzdHlsZXMuY29sb3IuYmxhY2tCcmlnaHQ7XG5cdHN0eWxlcy5iZ0NvbG9yLmJnR3JleSA9IHN0eWxlcy5iZ0NvbG9yLmJnQmxhY2tCcmlnaHQ7XG5cblx0Zm9yIChjb25zdCBbZ3JvdXBOYW1lLCBncm91cF0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVzKSkge1xuXHRcdGZvciAoY29uc3QgW3N0eWxlTmFtZSwgc3R5bGVdIG9mIE9iamVjdC5lbnRyaWVzKGdyb3VwKSkge1xuXHRcdFx0c3R5bGVzW3N0eWxlTmFtZV0gPSB7XG5cdFx0XHRcdG9wZW46IGBcXHUwMDFCWyR7c3R5bGVbMF19bWAsXG5cdFx0XHRcdGNsb3NlOiBgXFx1MDAxQlske3N0eWxlWzFdfW1gXG5cdFx0XHR9O1xuXG5cdFx0XHRncm91cFtzdHlsZU5hbWVdID0gc3R5bGVzW3N0eWxlTmFtZV07XG5cblx0XHRcdGNvZGVzLnNldChzdHlsZVswXSwgc3R5bGVbMV0pO1xuXHRcdH1cblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsIGdyb3VwTmFtZSwge1xuXHRcdFx0dmFsdWU6IGdyb3VwLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0XHR9KTtcblx0fVxuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsICdjb2RlcycsIHtcblx0XHR2YWx1ZTogY29kZXMsXG5cdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0fSk7XG5cblx0c3R5bGVzLmNvbG9yLmNsb3NlID0gJ1xcdTAwMUJbMzltJztcblx0c3R5bGVzLmJnQ29sb3IuY2xvc2UgPSAnXFx1MDAxQls0OW0nO1xuXG5cdHN0eWxlcy5jb2xvci5hbnNpMjU2ID0gd3JhcEFuc2kyNTYoKTtcblx0c3R5bGVzLmNvbG9yLmFuc2kxNm0gPSB3cmFwQW5zaTE2bSgpO1xuXHRzdHlsZXMuYmdDb2xvci5hbnNpMjU2ID0gd3JhcEFuc2kyNTYoQU5TSV9CQUNLR1JPVU5EX09GRlNFVCk7XG5cdHN0eWxlcy5iZ0NvbG9yLmFuc2kxNm0gPSB3cmFwQW5zaTE2bShBTlNJX0JBQ0tHUk9VTkRfT0ZGU0VUKTtcblxuXHQvLyBGcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9RaXgtL2NvbG9yLWNvbnZlcnQvYmxvYi8zZjBlMGQ0ZTkyZTIzNTc5NmNjYjE3ZjZlODVjNzIwOTRhNjUxZjQ5L2NvbnZlcnNpb25zLmpzXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHN0eWxlcywge1xuXHRcdHJnYlRvQW5zaTI1Njoge1xuXHRcdFx0dmFsdWU6IChyZWQsIGdyZWVuLCBibHVlKSA9PiB7XG5cdFx0XHRcdC8vIFdlIHVzZSB0aGUgZXh0ZW5kZWQgZ3JleXNjYWxlIHBhbGV0dGUgaGVyZSwgd2l0aCB0aGUgZXhjZXB0aW9uIG9mXG5cdFx0XHRcdC8vIGJsYWNrIGFuZCB3aGl0ZS4gbm9ybWFsIHBhbGV0dGUgb25seSBoYXMgNCBncmV5c2NhbGUgc2hhZGVzLlxuXHRcdFx0XHRpZiAocmVkID09PSBncmVlbiAmJiBncmVlbiA9PT0gYmx1ZSkge1xuXHRcdFx0XHRcdGlmIChyZWQgPCA4KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gMTY7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHJlZCA+IDI0OCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIDIzMTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gTWF0aC5yb3VuZCgoKHJlZCAtIDgpIC8gMjQ3KSAqIDI0KSArIDIzMjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiAxNiArXG5cdFx0XHRcdFx0KDM2ICogTWF0aC5yb3VuZChyZWQgLyAyNTUgKiA1KSkgK1xuXHRcdFx0XHRcdCg2ICogTWF0aC5yb3VuZChncmVlbiAvIDI1NSAqIDUpKSArXG5cdFx0XHRcdFx0TWF0aC5yb3VuZChibHVlIC8gMjU1ICogNSk7XG5cdFx0XHR9LFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0XHR9LFxuXHRcdGhleFRvUmdiOiB7XG5cdFx0XHR2YWx1ZTogaGV4ID0+IHtcblx0XHRcdFx0Y29uc3QgbWF0Y2hlcyA9IC8oPzxjb2xvclN0cmluZz5bYS1mXFxkXXs2fXxbYS1mXFxkXXszfSkvaS5leGVjKGhleC50b1N0cmluZygxNikpO1xuXHRcdFx0XHRpZiAoIW1hdGNoZXMpIHtcblx0XHRcdFx0XHRyZXR1cm4gWzAsIDAsIDBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IHtjb2xvclN0cmluZ30gPSBtYXRjaGVzLmdyb3VwcztcblxuXHRcdFx0XHRpZiAoY29sb3JTdHJpbmcubGVuZ3RoID09PSAzKSB7XG5cdFx0XHRcdFx0Y29sb3JTdHJpbmcgPSBjb2xvclN0cmluZy5zcGxpdCgnJykubWFwKGNoYXJhY3RlciA9PiBjaGFyYWN0ZXIgKyBjaGFyYWN0ZXIpLmpvaW4oJycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgaW50ZWdlciA9IE51bWJlci5wYXJzZUludChjb2xvclN0cmluZywgMTYpO1xuXG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0KGludGVnZXIgPj4gMTYpICYgMHhGRixcblx0XHRcdFx0XHQoaW50ZWdlciA+PiA4KSAmIDB4RkYsXG5cdFx0XHRcdFx0aW50ZWdlciAmIDB4RkZcblx0XHRcdFx0XTtcblx0XHRcdH0sXG5cdFx0XHRlbnVtZXJhYmxlOiBmYWxzZVxuXHRcdH0sXG5cdFx0aGV4VG9BbnNpMjU2OiB7XG5cdFx0XHR2YWx1ZTogaGV4ID0+IHN0eWxlcy5yZ2JUb0Fuc2kyNTYoLi4uc3R5bGVzLmhleFRvUmdiKGhleCkpLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbi8vIE1ha2UgdGhlIGV4cG9ydCBpbW11dGFibGVcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsICdleHBvcnRzJywge1xuXHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRnZXQ6IGFzc2VtYmxlU3R5bGVzXG59KTtcbiIsImltcG9ydCB7IEJhc2VDYWxsYmFja0hhbmRsZXIsIH0gZnJvbSBcIi4uL2Jhc2UuanNcIjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiBfY29lcmNlVG9EaWN0KHZhbHVlLCBkZWZhdWx0S2V5KSB7XG4gICAgcmV0dXJuIHZhbHVlICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCJcbiAgICAgICAgPyB2YWx1ZVxuICAgICAgICA6IHsgW2RlZmF1bHRLZXldOiB2YWx1ZSB9O1xufVxuZXhwb3J0IGNsYXNzIEJhc2VUcmFjZXIgZXh0ZW5kcyBCYXNlQ2FsbGJhY2tIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihfZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJ1bk1hcFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogbmV3IE1hcCgpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb3B5KCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX2FkZENoaWxkUnVuKHBhcmVudFJ1biwgY2hpbGRSdW4pIHtcbiAgICAgICAgcGFyZW50UnVuLmNoaWxkX3J1bnMucHVzaChjaGlsZFJ1bik7XG4gICAgfVxuICAgIGFzeW5jIF9zdGFydFRyYWNlKHJ1bikge1xuICAgICAgICBpZiAocnVuLnBhcmVudF9ydW5faWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50UnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bi5wYXJlbnRfcnVuX2lkKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRSdW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRDaGlsZFJ1bihwYXJlbnRSdW4sIHJ1bik7XG4gICAgICAgICAgICAgICAgcGFyZW50UnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlciA9IE1hdGgubWF4KHBhcmVudFJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIsIHJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucnVuTWFwLnNldChydW4uaWQsIHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMub25SdW5DcmVhdGU/LihydW4pO1xuICAgIH1cbiAgICBhc3luYyBfZW5kVHJhY2UocnVuKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudFJ1biA9IHJ1bi5wYXJlbnRfcnVuX2lkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5ydW5NYXAuZ2V0KHJ1bi5wYXJlbnRfcnVuX2lkKTtcbiAgICAgICAgaWYgKHBhcmVudFJ1bikge1xuICAgICAgICAgICAgcGFyZW50UnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlciA9IE1hdGgubWF4KHBhcmVudFJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIsIHJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wZXJzaXN0UnVuKHJ1bik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ydW5NYXAuZGVsZXRlKHJ1bi5pZCk7XG4gICAgICAgIGF3YWl0IHRoaXMub25SdW5VcGRhdGU/LihydW4pO1xuICAgIH1cbiAgICBfZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50UnVuID0gcGFyZW50UnVuSWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnJ1bk1hcC5nZXQocGFyZW50UnVuSWQpO1xuICAgICAgICAvLyBJZiBhIHJ1biBoYXMgbm8gcGFyZW50IHRoZW4gZXhlY3V0aW9uIG9yZGVyIGlzIDFcbiAgICAgICAgaWYgKCFwYXJlbnRSdW4pIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnRSdW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyICsgMTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTExNU3RhcnQobGxtLCBwcm9tcHRzLCBydW5JZCwgcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0YWdzLCBtZXRhZGF0YSwgbmFtZSkge1xuICAgICAgICBjb25zdCBleGVjdXRpb25fb3JkZXIgPSB0aGlzLl9nZXRFeGVjdXRpb25PcmRlcihwYXJlbnRSdW5JZCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0X3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCBmaW5hbEV4dHJhUGFyYW1zID0gbWV0YWRhdGFcbiAgICAgICAgICAgID8geyAuLi5leHRyYVBhcmFtcywgbWV0YWRhdGEgfVxuICAgICAgICAgICAgOiBleHRyYVBhcmFtcztcbiAgICAgICAgY29uc3QgcnVuID0ge1xuICAgICAgICAgICAgaWQ6IHJ1bklkLFxuICAgICAgICAgICAgbmFtZTogbmFtZSA/PyBsbG0uaWRbbGxtLmlkLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgcGFyZW50X3J1bl9pZDogcGFyZW50UnVuSWQsXG4gICAgICAgICAgICBzdGFydF90aW1lLFxuICAgICAgICAgICAgc2VyaWFsaXplZDogbGxtLFxuICAgICAgICAgICAgZXZlbnRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKHN0YXJ0X3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBpbnB1dHM6IHsgcHJvbXB0cyB9LFxuICAgICAgICAgICAgZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIHJ1bl90eXBlOiBcImxsbVwiLFxuICAgICAgICAgICAgZXh0cmE6IGZpbmFsRXh0cmFQYXJhbXMgPz8ge30sXG4gICAgICAgICAgICB0YWdzOiB0YWdzIHx8IFtdLFxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCB0aGlzLl9zdGFydFRyYWNlKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMub25MTE1TdGFydD8uKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYXRNb2RlbFN0YXJ0KGxsbSwgbWVzc2FnZXMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGlvbl9vcmRlciA9IHRoaXMuX2dldEV4ZWN1dGlvbk9yZGVyKHBhcmVudFJ1bklkKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGZpbmFsRXh0cmFQYXJhbXMgPSBtZXRhZGF0YVxuICAgICAgICAgICAgPyB7IC4uLmV4dHJhUGFyYW1zLCBtZXRhZGF0YSB9XG4gICAgICAgICAgICA6IGV4dHJhUGFyYW1zO1xuICAgICAgICBjb25zdCBydW4gPSB7XG4gICAgICAgICAgICBpZDogcnVuSWQsXG4gICAgICAgICAgICBuYW1lOiBuYW1lID8/IGxsbS5pZFtsbG0uaWQubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWUsXG4gICAgICAgICAgICBzZXJpYWxpemVkOiBsbG0sXG4gICAgICAgICAgICBldmVudHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoc3RhcnRfdGltZSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGlucHV0czogeyBtZXNzYWdlcyB9LFxuICAgICAgICAgICAgZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIHJ1bl90eXBlOiBcImxsbVwiLFxuICAgICAgICAgICAgZXh0cmE6IGZpbmFsRXh0cmFQYXJhbXMgPz8ge30sXG4gICAgICAgICAgICB0YWdzOiB0YWdzIHx8IFtdLFxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCB0aGlzLl9zdGFydFRyYWNlKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMub25MTE1TdGFydD8uKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUxMTUVuZChvdXRwdXQsIHJ1bklkKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG4gICAgICAgIGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwibGxtXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIExMTSBydW4gdG8gZW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBydW4ub3V0cHV0cyA9IG91dHB1dDtcbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiZW5kXCIsXG4gICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLm9uTExNRW5kPy4ocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTExNRXJyb3IoZXJyb3IsIHJ1bklkKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG4gICAgICAgIGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwibGxtXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIExMTSBydW4gdG8gZW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBydW4uZXJyb3IgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgdGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5vbkxMTUVycm9yPy4ocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlQ2hhaW5TdGFydChjaGFpbiwgaW5wdXRzLCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBydW5UeXBlLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGlvbl9vcmRlciA9IHRoaXMuX2dldEV4ZWN1dGlvbk9yZGVyKHBhcmVudFJ1bklkKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IHJ1biA9IHtcbiAgICAgICAgICAgIGlkOiBydW5JZCxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUgPz8gY2hhaW4uaWRbY2hhaW4uaWQubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWUsXG4gICAgICAgICAgICBzZXJpYWxpemVkOiBjaGFpbixcbiAgICAgICAgICAgIGV2ZW50czogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShzdGFydF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgaW5wdXRzLFxuICAgICAgICAgICAgZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgY2hpbGRfZXhlY3V0aW9uX29yZGVyOiBleGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICBydW5fdHlwZTogcnVuVHlwZSA/PyBcImNoYWluXCIsXG4gICAgICAgICAgICBjaGlsZF9ydW5zOiBbXSxcbiAgICAgICAgICAgIGV4dHJhOiBtZXRhZGF0YSA/IHsgbWV0YWRhdGEgfSA6IHt9LFxuICAgICAgICAgICAgdGFnczogdGFncyB8fCBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgdGhpcy5fc3RhcnRUcmFjZShydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLm9uQ2hhaW5TdGFydD8uKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYWluRW5kKG91dHB1dHMsIHJ1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBrd2FyZ3MpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGNoYWluIHJ1biB0byBlbmQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHJ1bi5vdXRwdXRzID0gX2NvZXJjZVRvRGljdChvdXRwdXRzLCBcIm91dHB1dFwiKTtcbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiZW5kXCIsXG4gICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoa3dhcmdzPy5pbnB1dHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcnVuLmlucHV0cyA9IF9jb2VyY2VUb0RpY3Qoa3dhcmdzLmlucHV0cywgXCJpbnB1dFwiKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLm9uQ2hhaW5FbmQ/LihydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuICAgICAgICByZXR1cm4gcnVuO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVDaGFpbkVycm9yKGVycm9yLCBydW5JZCwgX3BhcmVudFJ1bklkLCBfdGFncywga3dhcmdzKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG4gICAgICAgIGlmICghcnVuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjaGFpbiBydW4gdG8gZW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBydW4uZXJyb3IgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgdGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGt3YXJncz8uaW5wdXRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJ1bi5pbnB1dHMgPSBfY29lcmNlVG9EaWN0KGt3YXJncy5pbnB1dHMsIFwiaW5wdXRcIik7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5vbkNoYWluRXJyb3I/LihydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuICAgICAgICByZXR1cm4gcnVuO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVUb29sU3RhcnQodG9vbCwgaW5wdXQsIHJ1bklkLCBwYXJlbnRSdW5JZCwgdGFncywgbWV0YWRhdGEsIG5hbWUpIHtcbiAgICAgICAgY29uc3QgZXhlY3V0aW9uX29yZGVyID0gdGhpcy5fZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgcnVuID0ge1xuICAgICAgICAgICAgaWQ6IHJ1bklkLFxuICAgICAgICAgICAgbmFtZTogbmFtZSA/PyB0b29sLmlkW3Rvb2wuaWQubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWUsXG4gICAgICAgICAgICBzZXJpYWxpemVkOiB0b29sLFxuICAgICAgICAgICAgZXZlbnRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKHN0YXJ0X3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBpbnB1dHM6IHsgaW5wdXQgfSxcbiAgICAgICAgICAgIGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIGNoaWxkX2V4ZWN1dGlvbl9vcmRlcjogZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgcnVuX3R5cGU6IFwidG9vbFwiLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgICAgICBleHRyYTogbWV0YWRhdGEgPyB7IG1ldGFkYXRhIH0gOiB7fSxcbiAgICAgICAgICAgIHRhZ3M6IHRhZ3MgfHwgW10sXG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IHRoaXMuX3N0YXJ0VHJhY2UocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5vblRvb2xTdGFydD8uKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVRvb2xFbmQob3V0cHV0LCBydW5JZCkge1xuICAgICAgICBjb25zdCBydW4gPSB0aGlzLnJ1bk1hcC5nZXQocnVuSWQpO1xuICAgICAgICBpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcInRvb2xcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdG9vbCBydW4gdG8gZW5kXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHJ1bi5vdXRwdXRzID0geyBvdXRwdXQgfTtcbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiZW5kXCIsXG4gICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLm9uVG9vbEVuZD8uKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVRvb2xFcnJvcihlcnJvciwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJ0b29sXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHRvb2wgcnVuIHRvIGVuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBydW4uZXJyb3IgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgdGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5vblRvb2xFcnJvcj8uKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUFnZW50QWN0aW9uKGFjdGlvbiwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJjaGFpblwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWdlbnRSdW4gPSBydW47XG4gICAgICAgIGFnZW50UnVuLmFjdGlvbnMgPSBhZ2VudFJ1bi5hY3Rpb25zIHx8IFtdO1xuICAgICAgICBhZ2VudFJ1bi5hY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgICAgYWdlbnRSdW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJhZ2VudF9hY3Rpb25cIixcbiAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGt3YXJnczogeyBhY3Rpb24gfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMub25BZ2VudEFjdGlvbj8uKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUFnZW50RW5kKGFjdGlvbiwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJjaGFpblwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiYWdlbnRfZW5kXCIsXG4gICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBrd2FyZ3M6IHsgYWN0aW9uIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLm9uQWdlbnRFbmQ/LihydW4pO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVSZXRyaWV2ZXJTdGFydChyZXRyaWV2ZXIsIHF1ZXJ5LCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGlvbl9vcmRlciA9IHRoaXMuX2dldEV4ZWN1dGlvbk9yZGVyKHBhcmVudFJ1bklkKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IHJ1biA9IHtcbiAgICAgICAgICAgIGlkOiBydW5JZCxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUgPz8gcmV0cmlldmVyLmlkW3JldHJpZXZlci5pZC5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgIHBhcmVudF9ydW5faWQ6IHBhcmVudFJ1bklkLFxuICAgICAgICAgICAgc3RhcnRfdGltZSxcbiAgICAgICAgICAgIHNlcmlhbGl6ZWQ6IHJldHJpZXZlcixcbiAgICAgICAgICAgIGV2ZW50czogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShzdGFydF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgaW5wdXRzOiB7IHF1ZXJ5IH0sXG4gICAgICAgICAgICBleGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIHJ1bl90eXBlOiBcInJldHJpZXZlclwiLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgICAgICBleHRyYTogbWV0YWRhdGEgPyB7IG1ldGFkYXRhIH0gOiB7fSxcbiAgICAgICAgICAgIHRhZ3M6IHRhZ3MgfHwgW10sXG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IHRoaXMuX3N0YXJ0VHJhY2UocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5vblJldHJpZXZlclN0YXJ0Py4ocnVuKTtcbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlUmV0cmlldmVyRW5kKGRvY3VtZW50cywgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJyZXRyaWV2ZXJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmV0cmlldmVyIHJ1biB0byBlbmRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcnVuLm91dHB1dHMgPSB7IGRvY3VtZW50cyB9O1xuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJlbmRcIixcbiAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMub25SZXRyaWV2ZXJFbmQ/LihydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuICAgICAgICByZXR1cm4gcnVuO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVSZXRyaWV2ZXJFcnJvcihlcnJvciwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJyZXRyaWV2ZXJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmV0cmlldmVyIHJ1biB0byBlbmRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcnVuLmVycm9yID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiZXJyb3JcIixcbiAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMub25SZXRyaWV2ZXJFcnJvcj8uKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVRleHQodGV4dCwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJjaGFpblwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwidGV4dFwiLFxuICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAga3dhcmdzOiB7IHRleHQgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMub25UZXh0Py4ocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTExNTmV3VG9rZW4odG9rZW4sIGlkeCwgcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGZpZWxkcykge1xuICAgICAgICBjb25zdCBydW4gPSB0aGlzLnJ1bk1hcC5nZXQocnVuSWQpO1xuICAgICAgICBpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcImxsbVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgXCJydW5JZFwiIHByb3ZpZGVkIHRvIFwiaGFuZGxlTExNTmV3VG9rZW5cIiBjYWxsYmFjay5gKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJuZXdfdG9rZW5cIixcbiAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGt3YXJnczogeyB0b2tlbiwgaWR4LCBjaHVuazogZmllbGRzPy5jaHVuayB9LFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5vbkxMTU5ld1Rva2VuPy4ocnVuLCB0b2tlbik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxufVxuIiwiaW1wb3J0IHN0eWxlcyBmcm9tIFwiYW5zaS1zdHlsZXNcIjtcbmltcG9ydCB7IEJhc2VUcmFjZXIgfSBmcm9tIFwiLi90cmFjZXIuanNcIjtcbmZ1bmN0aW9uIHdyYXAoc3R5bGUsIHRleHQpIHtcbiAgICByZXR1cm4gYCR7c3R5bGUub3Blbn0ke3RleHR9JHtzdHlsZS5jbG9zZX1gO1xufVxuZnVuY3Rpb24gdHJ5SnNvblN0cmluZ2lmeShvYmosIGZhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVsYXBzZWQocnVuKSB7XG4gICAgaWYgKCFydW4uZW5kX3RpbWUpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIGNvbnN0IGVsYXBzZWQgPSBydW4uZW5kX3RpbWUgLSBydW4uc3RhcnRfdGltZTtcbiAgICBpZiAoZWxhcHNlZCA8IDEwMDApIHtcbiAgICAgICAgcmV0dXJuIGAke2VsYXBzZWR9bXNgO1xuICAgIH1cbiAgICByZXR1cm4gYCR7KGVsYXBzZWQgLyAxMDAwKS50b0ZpeGVkKDIpfXNgO1xufVxuY29uc3QgeyBjb2xvciB9ID0gc3R5bGVzO1xuLyoqXG4gKiBBIHRyYWNlciB0aGF0IGxvZ3MgYWxsIGV2ZW50cyB0byB0aGUgY29uc29sZS4gSXQgZXh0ZW5kcyBmcm9tIHRoZVxuICogYEJhc2VUcmFjZXJgIGNsYXNzIGFuZCBvdmVycmlkZXMgaXRzIG1ldGhvZHMgdG8gcHJvdmlkZSBjdXN0b20gbG9nZ2luZ1xuICogZnVuY3Rpb25hbGl0eS5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbnNvbGVDYWxsYmFja0hhbmRsZXIgZXh0ZW5kcyBCYXNlVHJhY2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJjb25zb2xlX2NhbGxiYWNrX2hhbmRsZXJcIlxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gcGVyc2lzdCB0aGUgcnVuLiBJbiB0aGlzIGNhc2UsIGl0IHNpbXBseSByZXR1cm5zIGFcbiAgICAgKiByZXNvbHZlZCBwcm9taXNlIGFzIHRoZXJlJ3Mgbm8gcGVyc2lzdGVuY2UgbG9naWMuXG4gICAgICogQHBhcmFtIF9ydW4gVGhlIHJ1biB0byBwZXJzaXN0LlxuICAgICAqIEByZXR1cm5zIEEgcmVzb2x2ZWQgcHJvbWlzZS5cbiAgICAgKi9cbiAgICBwZXJzaXN0UnVuKF9ydW4pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICAvLyB1dGlsaXR5IG1ldGhvZHNcbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBnZXQgYWxsIHRoZSBwYXJlbnQgcnVucyBvZiBhIGdpdmVuIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBydW4gd2hvc2UgcGFyZW50cyBhcmUgdG8gYmUgcmV0cmlldmVkLlxuICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHBhcmVudCBydW5zLlxuICAgICAqL1xuICAgIGdldFBhcmVudHMocnVuKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudHMgPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnRSdW4gPSBydW47XG4gICAgICAgIHdoaWxlIChjdXJyZW50UnVuLnBhcmVudF9ydW5faWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucnVuTWFwLmdldChjdXJyZW50UnVuLnBhcmVudF9ydW5faWQpO1xuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIHBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRSdW4gPSBwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyZW50cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gZ2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBydW4ncyBsaW5lYWdlLCB3aGljaFxuICAgICAqIGlzIHVzZWQgaW4gbG9nZ2luZy5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBydW4gd2hvc2UgbGluZWFnZSBpcyB0byBiZSByZXRyaWV2ZWQuXG4gICAgICogQHJldHVybnMgQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJ1bidzIGxpbmVhZ2UuXG4gICAgICovXG4gICAgZ2V0QnJlYWRjcnVtYnMocnVuKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudHMgPSB0aGlzLmdldFBhcmVudHMocnVuKS5yZXZlcnNlKCk7XG4gICAgICAgIGNvbnN0IHN0cmluZyA9IFsuLi5wYXJlbnRzLCBydW5dXG4gICAgICAgICAgICAubWFwKChwYXJlbnQsIGksIGFycikgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke3BhcmVudC5leGVjdXRpb25fb3JkZXJ9OiR7cGFyZW50LnJ1bl90eXBlfToke3BhcmVudC5uYW1lfWA7XG4gICAgICAgICAgICByZXR1cm4gaSA9PT0gYXJyLmxlbmd0aCAtIDEgPyB3cmFwKHN0eWxlcy5ib2xkLCBuYW1lKSA6IG5hbWU7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbihcIiA+IFwiKTtcbiAgICAgICAgcmV0dXJuIHdyYXAoY29sb3IuZ3JleSwgc3RyaW5nKTtcbiAgICB9XG4gICAgLy8gbG9nZ2luZyBtZXRob2RzXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBzdGFydCBvZiBhIGNoYWluIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBjaGFpbiBydW4gdGhhdCBoYXMgc3RhcnRlZC5cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgb25DaGFpblN0YXJ0KHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW2NoYWluL3N0YXJ0XVwiKX0gWyR7Y3J1bWJzfV0gRW50ZXJpbmcgQ2hhaW4gcnVuIHdpdGggaW5wdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uaW5wdXRzLCBcIltpbnB1dHNdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIGVuZCBvZiBhIGNoYWluIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBjaGFpbiBydW4gdGhhdCBoYXMgZW5kZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uQ2hhaW5FbmQocnVuKSB7XG4gICAgICAgIGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcbiAgICAgICAgY29uc29sZS5sb2coYCR7d3JhcChjb2xvci5jeWFuLCBcIltjaGFpbi9lbmRdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBFeGl0aW5nIENoYWluIHJ1biB3aXRoIG91dHB1dDogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5vdXRwdXRzLCBcIltvdXRwdXRzXVwiKX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gbG9nIGFueSBlcnJvcnMgb2YgYSBjaGFpbiBydW4uXG4gICAgICogQHBhcmFtIHJ1biBUaGUgY2hhaW4gcnVuIHRoYXQgaGFzIGVycm9yZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uQ2hhaW5FcnJvcihydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLnJlZCwgXCJbY2hhaW4vZXJyb3JdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBDaGFpbiBydW4gZXJyb3JlZCB3aXRoIGVycm9yOiAke3RyeUpzb25TdHJpbmdpZnkocnVuLmVycm9yLCBcIltlcnJvcl1cIil9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgc3RhcnQgb2YgYW4gTExNIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBMTE0gcnVuIHRoYXQgaGFzIHN0YXJ0ZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uTExNU3RhcnQocnVuKSB7XG4gICAgICAgIGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcbiAgICAgICAgY29uc3QgaW5wdXRzID0gXCJwcm9tcHRzXCIgaW4gcnVuLmlucHV0c1xuICAgICAgICAgICAgPyB7IHByb21wdHM6IHJ1bi5pbnB1dHMucHJvbXB0cy5tYXAoKHApID0+IHAudHJpbSgpKSB9XG4gICAgICAgICAgICA6IHJ1bi5pbnB1dHM7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW2xsbS9zdGFydF1cIil9IFske2NydW1ic31dIEVudGVyaW5nIExMTSBydW4gd2l0aCBpbnB1dDogJHt0cnlKc29uU3RyaW5naWZ5KGlucHV0cywgXCJbaW5wdXRzXVwiKX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBlbmQgb2YgYW4gTExNIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBMTE0gcnVuIHRoYXQgaGFzIGVuZGVkLlxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBvbkxMTUVuZChydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmN5YW4sIFwiW2xsbS9lbmRdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBFeGl0aW5nIExMTSBydW4gd2l0aCBvdXRwdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4ub3V0cHV0cywgXCJbcmVzcG9uc2VdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgYW55IGVycm9ycyBvZiBhbiBMTE0gcnVuLlxuICAgICAqIEBwYXJhbSBydW4gVGhlIExMTSBydW4gdGhhdCBoYXMgZXJyb3JlZC5cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgb25MTE1FcnJvcihydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLnJlZCwgXCJbbGxtL2Vycm9yXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gTExNIHJ1biBlcnJvcmVkIHdpdGggZXJyb3I6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uZXJyb3IsIFwiW2Vycm9yXVwiKX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBzdGFydCBvZiBhIHRvb2wgcnVuLlxuICAgICAqIEBwYXJhbSBydW4gVGhlIHRvb2wgcnVuIHRoYXQgaGFzIHN0YXJ0ZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uVG9vbFN0YXJ0KHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW3Rvb2wvc3RhcnRdXCIpfSBbJHtjcnVtYnN9XSBFbnRlcmluZyBUb29sIHJ1biB3aXRoIGlucHV0OiBcIiR7cnVuLmlucHV0cy5pbnB1dD8udHJpbSgpfVwiYCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgZW5kIG9mIGEgdG9vbCBydW4uXG4gICAgICogQHBhcmFtIHJ1biBUaGUgdG9vbCBydW4gdGhhdCBoYXMgZW5kZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uVG9vbEVuZChydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmN5YW4sIFwiW3Rvb2wvZW5kXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gRXhpdGluZyBUb29sIHJ1biB3aXRoIG91dHB1dDogXCIke3J1bi5vdXRwdXRzPy5vdXRwdXQ/LnRyaW0oKX1cImApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgYW55IGVycm9ycyBvZiBhIHRvb2wgcnVuLlxuICAgICAqIEBwYXJhbSBydW4gVGhlIHRvb2wgcnVuIHRoYXQgaGFzIGVycm9yZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uVG9vbEVycm9yKHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IucmVkLCBcIlt0b29sL2Vycm9yXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gVG9vbCBydW4gZXJyb3JlZCB3aXRoIGVycm9yOiAke3RyeUpzb25TdHJpbmdpZnkocnVuLmVycm9yLCBcIltlcnJvcl1cIil9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgc3RhcnQgb2YgYSByZXRyaWV2ZXIgcnVuLlxuICAgICAqIEBwYXJhbSBydW4gVGhlIHJldHJpZXZlciBydW4gdGhhdCBoYXMgc3RhcnRlZC5cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgb25SZXRyaWV2ZXJTdGFydChydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmdyZWVuLCBcIltyZXRyaWV2ZXIvc3RhcnRdXCIpfSBbJHtjcnVtYnN9XSBFbnRlcmluZyBSZXRyaWV2ZXIgcnVuIHdpdGggaW5wdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uaW5wdXRzLCBcIltpbnB1dHNdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIGVuZCBvZiBhIHJldHJpZXZlciBydW4uXG4gICAgICogQHBhcmFtIHJ1biBUaGUgcmV0cmlldmVyIHJ1biB0aGF0IGhhcyBlbmRlZC5cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgb25SZXRyaWV2ZXJFbmQocnVuKSB7XG4gICAgICAgIGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcbiAgICAgICAgY29uc29sZS5sb2coYCR7d3JhcChjb2xvci5jeWFuLCBcIltyZXRyaWV2ZXIvZW5kXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gRXhpdGluZyBSZXRyaWV2ZXIgcnVuIHdpdGggb3V0cHV0OiAke3RyeUpzb25TdHJpbmdpZnkocnVuLm91dHB1dHMsIFwiW291dHB1dHNdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgYW55IGVycm9ycyBvZiBhIHJldHJpZXZlciBydW4uXG4gICAgICogQHBhcmFtIHJ1biBUaGUgcmV0cmlldmVyIHJ1biB0aGF0IGhhcyBlcnJvcmVkLlxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBvblJldHJpZXZlckVycm9yKHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IucmVkLCBcIltyZXRyaWV2ZXIvZXJyb3JdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBSZXRyaWV2ZXIgcnVuIGVycm9yZWQgd2l0aCBlcnJvcjogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5lcnJvciwgXCJbZXJyb3JdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIGFjdGlvbiBzZWxlY3RlZCBieSB0aGUgYWdlbnQuXG4gICAgICogQHBhcmFtIHJ1biBUaGUgcnVuIGluIHdoaWNoIHRoZSBhZ2VudCBhY3Rpb24gb2NjdXJyZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uQWdlbnRBY3Rpb24ocnVuKSB7XG4gICAgICAgIGNvbnN0IGFnZW50UnVuID0gcnVuO1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuYmx1ZSwgXCJbYWdlbnQvYWN0aW9uXVwiKX0gWyR7Y3J1bWJzfV0gQWdlbnQgc2VsZWN0ZWQgYWN0aW9uOiAke3RyeUpzb25TdHJpbmdpZnkoYWdlbnRSdW4uYWN0aW9uc1thZ2VudFJ1bi5hY3Rpb25zLmxlbmd0aCAtIDFdLCBcIlthY3Rpb25dXCIpfWApO1xuICAgIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gKHByb21pc2UsIG9uRmluYWxseSkgPT4ge1xuXHRvbkZpbmFsbHkgPSBvbkZpbmFsbHkgfHwgKCgpID0+IHt9KTtcblxuXHRyZXR1cm4gcHJvbWlzZS50aGVuKFxuXHRcdHZhbCA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcblx0XHRcdHJlc29sdmUob25GaW5hbGx5KCkpO1xuXHRcdH0pLnRoZW4oKCkgPT4gdmFsKSxcblx0XHRlcnIgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdFx0XHRyZXNvbHZlKG9uRmluYWxseSgpKTtcblx0XHR9KS50aGVuKCgpID0+IHtcblx0XHRcdHRocm93IGVycjtcblx0XHR9KVxuXHQpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcEZpbmFsbHkgPSByZXF1aXJlKCdwLWZpbmFsbHknKTtcblxuY2xhc3MgVGltZW91dEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG5cdFx0c3VwZXIobWVzc2FnZSk7XG5cdFx0dGhpcy5uYW1lID0gJ1RpbWVvdXRFcnJvcic7XG5cdH1cbn1cblxuY29uc3QgcFRpbWVvdXQgPSAocHJvbWlzZSwgbWlsbGlzZWNvbmRzLCBmYWxsYmFjaykgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRpZiAodHlwZW9mIG1pbGxpc2Vjb25kcyAhPT0gJ251bWJlcicgfHwgbWlsbGlzZWNvbmRzIDwgMCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGBtaWxsaXNlY29uZHNgIHRvIGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG5cdH1cblxuXHRpZiAobWlsbGlzZWNvbmRzID09PSBJbmZpbml0eSkge1xuXHRcdHJlc29sdmUocHJvbWlzZSk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRpZiAodHlwZW9mIGZhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXNvbHZlKGZhbGxiYWNrKCkpO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IG1lc3NhZ2UgPSB0eXBlb2YgZmFsbGJhY2sgPT09ICdzdHJpbmcnID8gZmFsbGJhY2sgOiBgUHJvbWlzZSB0aW1lZCBvdXQgYWZ0ZXIgJHttaWxsaXNlY29uZHN9IG1pbGxpc2Vjb25kc2A7XG5cdFx0Y29uc3QgdGltZW91dEVycm9yID0gZmFsbGJhY2sgaW5zdGFuY2VvZiBFcnJvciA/IGZhbGxiYWNrIDogbmV3IFRpbWVvdXRFcnJvcihtZXNzYWdlKTtcblxuXHRcdGlmICh0eXBlb2YgcHJvbWlzZS5jYW5jZWwgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHByb21pc2UuY2FuY2VsKCk7XG5cdFx0fVxuXG5cdFx0cmVqZWN0KHRpbWVvdXRFcnJvcik7XG5cdH0sIG1pbGxpc2Vjb25kcyk7XG5cblx0Ly8gVE9ETzogVXNlIG5hdGl2ZSBgZmluYWxseWAga2V5d29yZCB3aGVuIHRhcmdldGluZyBOb2RlLmpzIDEwXG5cdHBGaW5hbGx5KFxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcm9taXNlL3ByZWZlci1hd2FpdC10by10aGVuXG5cdFx0cHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCksXG5cdFx0KCkgPT4ge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVyKTtcblx0XHR9XG5cdCk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwVGltZW91dDtcbi8vIFRPRE86IFJlbW92ZSB0aGlzIGZvciB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gcFRpbWVvdXQ7XG5cbm1vZHVsZS5leHBvcnRzLlRpbWVvdXRFcnJvciA9IFRpbWVvdXRFcnJvcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gUG9ydCBvZiBsb3dlcl9ib3VuZCBmcm9tIGh0dHBzOi8vZW4uY3BwcmVmZXJlbmNlLmNvbS93L2NwcC9hbGdvcml0aG0vbG93ZXJfYm91bmRcbi8vIFVzZWQgdG8gY29tcHV0ZSBpbnNlcnRpb24gaW5kZXggdG8ga2VlcCBxdWV1ZSBzb3J0ZWQgYWZ0ZXIgaW5zZXJ0aW9uXG5mdW5jdGlvbiBsb3dlckJvdW5kKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIGxldCBmaXJzdCA9IDA7XG4gICAgbGV0IGNvdW50ID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlIChjb3VudCA+IDApIHtcbiAgICAgICAgY29uc3Qgc3RlcCA9IChjb3VudCAvIDIpIHwgMDtcbiAgICAgICAgbGV0IGl0ID0gZmlyc3QgKyBzdGVwO1xuICAgICAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpdF0sIHZhbHVlKSA8PSAwKSB7XG4gICAgICAgICAgICBmaXJzdCA9ICsraXQ7XG4gICAgICAgICAgICBjb3VudCAtPSBzdGVwICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvdW50ID0gc3RlcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmlyc3Q7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBsb3dlckJvdW5kO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBsb3dlcl9ib3VuZF8xID0gcmVxdWlyZShcIi4vbG93ZXItYm91bmRcIik7XG5jbGFzcyBQcmlvcml0eVF1ZXVlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTtcbiAgICB9XG4gICAgZW5xdWV1ZShydW4sIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBwcmlvcml0eTogMCB9LCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHtcbiAgICAgICAgICAgIHByaW9yaXR5OiBvcHRpb25zLnByaW9yaXR5LFxuICAgICAgICAgICAgcnVuXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnNpemUgJiYgdGhpcy5fcXVldWVbdGhpcy5zaXplIC0gMV0ucHJpb3JpdHkgPj0gb3B0aW9ucy5wcmlvcml0eSkge1xuICAgICAgICAgICAgdGhpcy5fcXVldWUucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleCA9IGxvd2VyX2JvdW5kXzEuZGVmYXVsdCh0aGlzLl9xdWV1ZSwgZWxlbWVudCwgKGEsIGIpID0+IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5KTtcbiAgICAgICAgdGhpcy5fcXVldWUuc3BsaWNlKGluZGV4LCAwLCBlbGVtZW50KTtcbiAgICB9XG4gICAgZGVxdWV1ZSgpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIHJldHVybiBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0ucnVuO1xuICAgIH1cbiAgICBmaWx0ZXIob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUuZmlsdGVyKChlbGVtZW50KSA9PiBlbGVtZW50LnByaW9yaXR5ID09PSBvcHRpb25zLnByaW9yaXR5KS5tYXAoKGVsZW1lbnQpID0+IGVsZW1lbnQucnVuKTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5sZW5ndGg7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gUHJpb3JpdHlRdWV1ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50ZW1pdHRlcjNcIik7XG5jb25zdCBwX3RpbWVvdXRfMSA9IHJlcXVpcmUoXCJwLXRpbWVvdXRcIik7XG5jb25zdCBwcmlvcml0eV9xdWV1ZV8xID0gcmVxdWlyZShcIi4vcHJpb3JpdHktcXVldWVcIik7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG5jb25zdCBlbXB0eSA9ICgpID0+IHsgfTtcbmNvbnN0IHRpbWVvdXRFcnJvciA9IG5ldyBwX3RpbWVvdXRfMS5UaW1lb3V0RXJyb3IoKTtcbi8qKlxuUHJvbWlzZSBxdWV1ZSB3aXRoIGNvbmN1cnJlbmN5IGNvbnRyb2wuXG4qL1xuY2xhc3MgUFF1ZXVlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWxDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX2ludGVydmFsRW5kID0gMDtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUVtcHR5ID0gZW1wdHk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVJZGxlID0gZW1wdHk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBjYXJyeW92ZXJDb25jdXJyZW5jeUNvdW50OiBmYWxzZSwgaW50ZXJ2YWxDYXA6IEluZmluaXR5LCBpbnRlcnZhbDogMCwgY29uY3VycmVuY3k6IEluZmluaXR5LCBhdXRvU3RhcnQ6IHRydWUsIHF1ZXVlQ2xhc3M6IHByaW9yaXR5X3F1ZXVlXzEuZGVmYXVsdCB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCEodHlwZW9mIG9wdGlvbnMuaW50ZXJ2YWxDYXAgPT09ICdudW1iZXInICYmIG9wdGlvbnMuaW50ZXJ2YWxDYXAgPj0gMSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFxcYGludGVydmFsQ2FwXFxgIHRvIGJlIGEgbnVtYmVyIGZyb20gMSBhbmQgdXAsIGdvdCBcXGAkeyhfYiA9IChfYSA9IG9wdGlvbnMuaW50ZXJ2YWxDYXApID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b1N0cmluZygpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJ31cXGAgKCR7dHlwZW9mIG9wdGlvbnMuaW50ZXJ2YWxDYXB9KWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmludGVydmFsID09PSB1bmRlZmluZWQgfHwgIShOdW1iZXIuaXNGaW5pdGUob3B0aW9ucy5pbnRlcnZhbCkgJiYgb3B0aW9ucy5pbnRlcnZhbCA+PSAwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgXFxgaW50ZXJ2YWxcXGAgdG8gYmUgYSBmaW5pdGUgbnVtYmVyID49IDAsIGdvdCBcXGAkeyhfZCA9IChfYyA9IG9wdGlvbnMuaW50ZXJ2YWwpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50b1N0cmluZygpKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAnJ31cXGAgKCR7dHlwZW9mIG9wdGlvbnMuaW50ZXJ2YWx9KWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQgPSBvcHRpb25zLmNhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQ7XG4gICAgICAgIHRoaXMuX2lzSW50ZXJ2YWxJZ25vcmVkID0gb3B0aW9ucy5pbnRlcnZhbENhcCA9PT0gSW5maW5pdHkgfHwgb3B0aW9ucy5pbnRlcnZhbCA9PT0gMDtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWxDYXAgPSBvcHRpb25zLmludGVydmFsQ2FwO1xuICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IG9wdGlvbnMuaW50ZXJ2YWw7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gbmV3IG9wdGlvbnMucXVldWVDbGFzcygpO1xuICAgICAgICB0aGlzLl9xdWV1ZUNsYXNzID0gb3B0aW9ucy5xdWV1ZUNsYXNzO1xuICAgICAgICB0aGlzLmNvbmN1cnJlbmN5ID0gb3B0aW9ucy5jb25jdXJyZW5jeTtcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IG9wdGlvbnMudGltZW91dDtcbiAgICAgICAgdGhpcy5fdGhyb3dPblRpbWVvdXQgPSBvcHRpb25zLnRocm93T25UaW1lb3V0ID09PSB0cnVlO1xuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IG9wdGlvbnMuYXV0b1N0YXJ0ID09PSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IF9kb2VzSW50ZXJ2YWxBbGxvd0Fub3RoZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0ludGVydmFsSWdub3JlZCB8fCB0aGlzLl9pbnRlcnZhbENvdW50IDwgdGhpcy5faW50ZXJ2YWxDYXA7XG4gICAgfVxuICAgIGdldCBfZG9lc0NvbmN1cnJlbnRBbGxvd0Fub3RoZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wZW5kaW5nQ291bnQgPCB0aGlzLl9jb25jdXJyZW5jeTtcbiAgICB9XG4gICAgX25leHQoKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdDb3VudC0tO1xuICAgICAgICB0aGlzLl90cnlUb1N0YXJ0QW5vdGhlcigpO1xuICAgICAgICB0aGlzLmVtaXQoJ25leHQnKTtcbiAgICB9XG4gICAgX3Jlc29sdmVQcm9taXNlcygpIHtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUVtcHR5KCk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVFbXB0eSA9IGVtcHR5O1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlSWRsZSgpO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUlkbGUgPSBlbXB0eTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnaWRsZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9vblJlc3VtZUludGVydmFsKCkge1xuICAgICAgICB0aGlzLl9vbkludGVydmFsKCk7XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVJbnRlcnZhbElmTmVlZGVkKCk7XG4gICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgX2lzSW50ZXJ2YWxQYXVzZWQoKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGlmICh0aGlzLl9pbnRlcnZhbElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5faW50ZXJ2YWxFbmQgLSBub3c7XG4gICAgICAgICAgICBpZiAoZGVsYXkgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gQWN0IGFzIHRoZSBpbnRlcnZhbCB3YXMgZG9uZVxuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gcmVzdW1lIGl0IGhlcmUgYmVjYXVzZSBpdCB3aWxsIGJlIHJlc3VtZWQgb24gbGluZSAxNjBcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcnZhbENvdW50ID0gKHRoaXMuX2NhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQpID8gdGhpcy5fcGVuZGluZ0NvdW50IDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFjdCBhcyB0aGUgaW50ZXJ2YWwgaXMgcGVuZGluZ1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90aW1lb3V0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uUmVzdW1lSW50ZXJ2YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIF90cnlUb1N0YXJ0QW5vdGhlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3F1ZXVlLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIC8vIFdlIGNhbiBjbGVhciB0aGUgaW50ZXJ2YWwgKFwicGF1c2VcIilcbiAgICAgICAgICAgIC8vIEJlY2F1c2Ugd2UgY2FuIHJlZG8gaXQgbGF0ZXIgKFwicmVzdW1lXCIpXG4gICAgICAgICAgICBpZiAodGhpcy5faW50ZXJ2YWxJZCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbElkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZVByb21pc2VzKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgICAgICAgY29uc3QgY2FuSW5pdGlhbGl6ZUludGVydmFsID0gIXRoaXMuX2lzSW50ZXJ2YWxQYXVzZWQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kb2VzSW50ZXJ2YWxBbGxvd0Fub3RoZXIgJiYgdGhpcy5fZG9lc0NvbmN1cnJlbnRBbGxvd0Fub3RoZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBqb2IgPSB0aGlzLl9xdWV1ZS5kZXF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFqb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIGpvYigpO1xuICAgICAgICAgICAgICAgIGlmIChjYW5Jbml0aWFsaXplSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZUludGVydmFsSWZOZWVkZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBfaW5pdGlhbGl6ZUludGVydmFsSWZOZWVkZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0ludGVydmFsSWdub3JlZCB8fCB0aGlzLl9pbnRlcnZhbElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25JbnRlcnZhbCgpO1xuICAgICAgICB9LCB0aGlzLl9pbnRlcnZhbCk7XG4gICAgICAgIHRoaXMuX2ludGVydmFsRW5kID0gRGF0ZS5ub3coKSArIHRoaXMuX2ludGVydmFsO1xuICAgIH1cbiAgICBfb25JbnRlcnZhbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2ludGVydmFsQ291bnQgPT09IDAgJiYgdGhpcy5fcGVuZGluZ0NvdW50ID09PSAwICYmIHRoaXMuX2ludGVydmFsSWQpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbElkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludGVydmFsQ291bnQgPSB0aGlzLl9jYXJyeW92ZXJDb25jdXJyZW5jeUNvdW50ID8gdGhpcy5fcGVuZGluZ0NvdW50IDogMDtcbiAgICAgICAgdGhpcy5fcHJvY2Vzc1F1ZXVlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEV4ZWN1dGVzIGFsbCBxdWV1ZWQgZnVuY3Rpb25zIHVudGlsIGl0IHJlYWNoZXMgdGhlIGxpbWl0LlxuICAgICovXG4gICAgX3Byb2Nlc3NRdWV1ZSgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgICAgIHdoaWxlICh0aGlzLl90cnlUb1N0YXJ0QW5vdGhlcigpKSB7IH1cbiAgICB9XG4gICAgZ2V0IGNvbmN1cnJlbmN5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uY3VycmVuY3k7XG4gICAgfVxuICAgIHNldCBjb25jdXJyZW5jeShuZXdDb25jdXJyZW5jeSkge1xuICAgICAgICBpZiAoISh0eXBlb2YgbmV3Q29uY3VycmVuY3kgPT09ICdudW1iZXInICYmIG5ld0NvbmN1cnJlbmN5ID49IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBcXGBjb25jdXJyZW5jeVxcYCB0byBiZSBhIG51bWJlciBmcm9tIDEgYW5kIHVwLCBnb3QgXFxgJHtuZXdDb25jdXJyZW5jeX1cXGAgKCR7dHlwZW9mIG5ld0NvbmN1cnJlbmN5fSlgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb25jdXJyZW5jeSA9IG5ld0NvbmN1cnJlbmN5O1xuICAgICAgICB0aGlzLl9wcm9jZXNzUXVldWUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQWRkcyBhIHN5bmMgb3IgYXN5bmMgdGFzayB0byB0aGUgcXVldWUuIEFsd2F5cyByZXR1cm5zIGEgcHJvbWlzZS5cbiAgICAqL1xuICAgIGFzeW5jIGFkZChmbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBydW4gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50Kys7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWxDb3VudCsrO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9ICh0aGlzLl90aW1lb3V0ID09PSB1bmRlZmluZWQgJiYgb3B0aW9ucy50aW1lb3V0ID09PSB1bmRlZmluZWQpID8gZm4oKSA6IHBfdGltZW91dF8xLmRlZmF1bHQoUHJvbWlzZS5yZXNvbHZlKGZuKCkpLCAob3B0aW9ucy50aW1lb3V0ID09PSB1bmRlZmluZWQgPyB0aGlzLl90aW1lb3V0IDogb3B0aW9ucy50aW1lb3V0KSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudGhyb3dPblRpbWVvdXQgPT09IHVuZGVmaW5lZCA/IHRoaXMuX3Rocm93T25UaW1lb3V0IDogb3B0aW9ucy50aHJvd09uVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh0aW1lb3V0RXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYXdhaXQgb3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX25leHQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9xdWV1ZS5lbnF1ZXVlKHJ1biwgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl90cnlUb1N0YXJ0QW5vdGhlcigpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdhZGQnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFNhbWUgYXMgYC5hZGQoKWAsIGJ1dCBhY2NlcHRzIGFuIGFycmF5IG9mIHN5bmMgb3IgYXN5bmMgZnVuY3Rpb25zLlxuXG4gICAgQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBhbGwgZnVuY3Rpb25zIGFyZSByZXNvbHZlZC5cbiAgICAqL1xuICAgIGFzeW5jIGFkZEFsbChmdW5jdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGZ1bmN0aW9ucy5tYXAoYXN5bmMgKGZ1bmN0aW9uXykgPT4gdGhpcy5hZGQoZnVuY3Rpb25fLCBvcHRpb25zKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBTdGFydCAob3IgcmVzdW1lKSBleGVjdXRpbmcgZW5xdWV1ZWQgdGFza3Mgd2l0aGluIGNvbmN1cnJlbmN5IGxpbWl0LiBObyBuZWVkIHRvIGNhbGwgdGhpcyBpZiBxdWV1ZSBpcyBub3QgcGF1c2VkICh2aWEgYG9wdGlvbnMuYXV0b1N0YXJ0ID0gZmFsc2VgIG9yIGJ5IGAucGF1c2UoKWAgbWV0aG9kLilcbiAgICAqL1xuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wcm9jZXNzUXVldWUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgIFB1dCBxdWV1ZSBleGVjdXRpb24gb24gaG9sZC5cbiAgICAqL1xuICAgIHBhdXNlKCkge1xuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgIENsZWFyIHRoZSBxdWV1ZS5cbiAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9xdWV1ZSA9IG5ldyB0aGlzLl9xdWV1ZUNsYXNzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMuIFVzZWZ1bCBpZiB5b3UgZm9yIGV4YW1wbGUgYWRkIGFkZGl0aW9uYWwgaXRlbXMgYXQgYSBsYXRlciB0aW1lLlxuXG4gICAgQHJldHVybnMgQSBwcm9taXNlIHRoYXQgc2V0dGxlcyB3aGVuIHRoZSBxdWV1ZSBiZWNvbWVzIGVtcHR5LlxuICAgICovXG4gICAgYXN5bmMgb25FbXB0eSgpIHtcbiAgICAgICAgLy8gSW5zdGFudGx5IHJlc29sdmUgaWYgdGhlIHF1ZXVlIGlzIGVtcHR5XG4gICAgICAgIGlmICh0aGlzLl9xdWV1ZS5zaXplID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdSZXNvbHZlID0gdGhpcy5fcmVzb2x2ZUVtcHR5O1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUVtcHR5ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nUmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgZGlmZmVyZW5jZSB3aXRoIGAub25FbXB0eWAgaXMgdGhhdCBgLm9uSWRsZWAgZ3VhcmFudGVlcyB0aGF0IGFsbCB3b3JrIGZyb20gdGhlIHF1ZXVlIGhhcyBmaW5pc2hlZC4gYC5vbkVtcHR5YCBtZXJlbHkgc2lnbmFscyB0aGF0IHRoZSBxdWV1ZSBpcyBlbXB0eSwgYnV0IGl0IGNvdWxkIG1lYW4gdGhhdCBzb21lIHByb21pc2VzIGhhdmVuJ3QgY29tcGxldGVkIHlldC5cblxuICAgIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHNldHRsZXMgd2hlbiB0aGUgcXVldWUgYmVjb21lcyBlbXB0eSwgYW5kIGFsbCBwcm9taXNlcyBoYXZlIGNvbXBsZXRlZDsgYHF1ZXVlLnNpemUgPT09IDAgJiYgcXVldWUucGVuZGluZyA9PT0gMGAuXG4gICAgKi9cbiAgICBhc3luYyBvbklkbGUoKSB7XG4gICAgICAgIC8vIEluc3RhbnRseSByZXNvbHZlIGlmIG5vbmUgcGVuZGluZyBhbmQgaWYgbm90aGluZyBlbHNlIGlzIHF1ZXVlZFxuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0NvdW50ID09PSAwICYmIHRoaXMuX3F1ZXVlLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1Jlc29sdmUgPSB0aGlzLl9yZXNvbHZlSWRsZTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVJZGxlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nUmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBTaXplIG9mIHRoZSBxdWV1ZS5cbiAgICAqL1xuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUuc2l6ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgU2l6ZSBvZiB0aGUgcXVldWUsIGZpbHRlcmVkIGJ5IHRoZSBnaXZlbiBvcHRpb25zLlxuXG4gICAgRm9yIGV4YW1wbGUsIHRoaXMgY2FuIGJlIHVzZWQgdG8gZmluZCB0aGUgbnVtYmVyIG9mIGl0ZW1zIHJlbWFpbmluZyBpbiB0aGUgcXVldWUgd2l0aCBhIHNwZWNpZmljIHByaW9yaXR5IGxldmVsLlxuICAgICovXG4gICAgc2l6ZUJ5KG9wdGlvbnMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vbm8tZm4tcmVmZXJlbmNlLWluLWl0ZXJhdG9yXG4gICAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5maWx0ZXIob3B0aW9ucykubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICBOdW1iZXIgb2YgcGVuZGluZyBwcm9taXNlcy5cbiAgICAqL1xuICAgIGdldCBwZW5kaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICBXaGV0aGVyIHRoZSBxdWV1ZSBpcyBjdXJyZW50bHkgcGF1c2VkLlxuICAgICovXG4gICAgZ2V0IGlzUGF1c2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNQYXVzZWQ7XG4gICAgfVxuICAgIGdldCB0aW1lb3V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGltZW91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgU2V0IHRoZSB0aW1lb3V0IGZvciBmdXR1cmUgb3BlcmF0aW9ucy5cbiAgICAqL1xuICAgIHNldCB0aW1lb3V0KG1pbGxpc2Vjb25kcykge1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gbWlsbGlzZWNvbmRzO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFBRdWV1ZTtcbiIsImltcG9ydCBwUmV0cnkgZnJvbSBcInAtcmV0cnlcIjtcbmltcG9ydCBQUXVldWVNb2QgZnJvbSBcInAtcXVldWVcIjtcbmNvbnN0IFNUQVRVU19OT19SRVRSWSA9IFtcbiAgICA0MDAsXG4gICAgNDAxLFxuICAgIDQwMyxcbiAgICA0MDQsXG4gICAgNDA1LFxuICAgIDQwNixcbiAgICA0MDcsXG4gICAgNDA4LFxuICAgIDQwOSwgLy8gQ29uZmxpY3Rcbl07XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBjYW4gYmUgdXNlZCB0byBtYWtlIGFzeW5jIGNhbGxzIHdpdGggY29uY3VycmVuY3kgYW5kIHJldHJ5IGxvZ2ljLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGZvciBtYWtpbmcgY2FsbHMgdG8gYW55IGtpbmQgb2YgXCJleHBlbnNpdmVcIiBleHRlcm5hbCByZXNvdXJjZSxcbiAqIGJlIGl0IGJlY2F1c2UgaXQncyByYXRlLWxpbWl0ZWQsIHN1YmplY3QgdG8gbmV0d29yayBpc3N1ZXMsIGV0Yy5cbiAqXG4gKiBDb25jdXJyZW50IGNhbGxzIGFyZSBsaW1pdGVkIGJ5IHRoZSBgbWF4Q29uY3VycmVuY3lgIHBhcmFtZXRlciwgd2hpY2ggZGVmYXVsdHNcbiAqIHRvIGBJbmZpbml0eWAuIFRoaXMgbWVhbnMgdGhhdCBieSBkZWZhdWx0LCBhbGwgY2FsbHMgd2lsbCBiZSBtYWRlIGluIHBhcmFsbGVsLlxuICpcbiAqIFJldHJpZXMgYXJlIGxpbWl0ZWQgYnkgdGhlIGBtYXhSZXRyaWVzYCBwYXJhbWV0ZXIsIHdoaWNoIGRlZmF1bHRzIHRvIDYuIFRoaXNcbiAqIG1lYW5zIHRoYXQgYnkgZGVmYXVsdCwgZWFjaCBjYWxsIHdpbGwgYmUgcmV0cmllZCB1cCB0byA2IHRpbWVzLCB3aXRoIGFuXG4gKiBleHBvbmVudGlhbCBiYWNrb2ZmIGJldHdlZW4gZWFjaCBhdHRlbXB0LlxuICovXG5leHBvcnQgY2xhc3MgQXN5bmNDYWxsZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhDb25jdXJyZW5jeVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhSZXRyaWVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInF1ZXVlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWF4Q29uY3VycmVuY3kgPSBwYXJhbXMubWF4Q29uY3VycmVuY3kgPz8gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4UmV0cmllcyA9IHBhcmFtcy5tYXhSZXRyaWVzID8/IDY7XG4gICAgICAgIGNvbnN0IFBRdWV1ZSA9IFwiZGVmYXVsdFwiIGluIFBRdWV1ZU1vZCA/IFBRdWV1ZU1vZC5kZWZhdWx0IDogUFF1ZXVlTW9kO1xuICAgICAgICB0aGlzLnF1ZXVlID0gbmV3IFBRdWV1ZSh7IGNvbmN1cnJlbmN5OiB0aGlzLm1heENvbmN1cnJlbmN5IH0pO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNhbGwoY2FsbGFibGUsIC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVldWUuYWRkKCgpID0+IHBSZXRyeSgoKSA9PiBjYWxsYWJsZSguLi5hcmdzKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSwge1xuICAgICAgICAgICAgb25GYWlsZWRBdHRlbXB0KGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aChcIkNhbmNlbFwiKSB8fFxuICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJUaW1lb3V0RXJyb3JcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZS5zdGFydHNXaXRoKFwiQWJvcnRFcnJvclwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3I/LmNvZGUgPT09IFwiRUNPTk5BQk9SVEVEXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gZXJyb3I/LnJlc3BvbnNlPy5zdGF0dXM7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyAmJiBTVEFUVVNfTk9fUkVUUlkuaW5jbHVkZXMoK3N0YXR1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJldHJpZXM6IHRoaXMubWF4UmV0cmllcyxcbiAgICAgICAgICAgIHJhbmRvbWl6ZTogdHJ1ZSxcbiAgICAgICAgICAgIC8vIElmIG5lZWRlZCB3ZSBjYW4gY2hhbmdlIHNvbWUgb2YgdGhlIGRlZmF1bHRzIGhlcmUsXG4gICAgICAgICAgICAvLyBidXQgdGhleSdyZSBxdWl0ZSBzZW5zaWJsZS5cbiAgICAgICAgfSksIHsgdGhyb3dPblRpbWVvdXQ6IHRydWUgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY2FsbFdpdGhPcHRpb25zKG9wdGlvbnMsIGNhbGxhYmxlLCAuLi5hcmdzKSB7XG4gICAgICAgIC8vIE5vdGUgdGhpcyBkb2Vzbid0IGNhbmNlbCB0aGUgdW5kZXJseWluZyByZXF1ZXN0LFxuICAgICAgICAvLyB3aGVuIGF2YWlsYWJsZSBwcmVmZXIgdG8gdXNlIHRoZSBzaWduYWwgb3B0aW9uIG9mIHRoZSB1bmRlcmx5aW5nIGNhbGxcbiAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGwoY2FsbGFibGUsIC4uLmFyZ3MpLFxuICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zaWduYWw/LmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiQWJvcnRFcnJvclwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbChjYWxsYWJsZSwgLi4uYXJncyk7XG4gICAgfVxuICAgIGZldGNoKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgoKSA9PiBmZXRjaCguLi5hcmdzKS50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMgOiBQcm9taXNlLnJlamVjdChyZXMpKSkpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBpc0xhbmdDaGFpbk1lc3NhZ2UobWVzc2FnZSkge1xuICAgIHJldHVybiB0eXBlb2YgbWVzc2FnZT8uX2dldFR5cGUgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0TGFuZ0NoYWluTWVzc2FnZVRvRXhhbXBsZShtZXNzYWdlKSB7XG4gICAgY29uc3QgY29udmVydGVkID0ge1xuICAgICAgICB0eXBlOiBtZXNzYWdlLl9nZXRUeXBlKCksXG4gICAgICAgIGRhdGE6IHsgY29udGVudDogbWVzc2FnZS5jb250ZW50IH0sXG4gICAgfTtcbiAgICAvLyBDaGVjayBmb3IgcHJlc2VuY2Ugb2Yga2V5cyBpbiBhZGRpdGlvbmFsX2t3YXJnc1xuICAgIGlmIChtZXNzYWdlPy5hZGRpdGlvbmFsX2t3YXJncyAmJlxuICAgICAgICBPYmplY3Qua2V5cyhtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnZlcnRlZC5kYXRhLmFkZGl0aW9uYWxfa3dhcmdzID0geyAuLi5tZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzIH07XG4gICAgfVxuICAgIHJldHVybiBjb252ZXJ0ZWQ7XG59XG4iLCJleHBvcnQgY29uc3QgaXNCcm93c2VyID0gKCkgPT4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuZXhwb3J0IGNvbnN0IGlzV2ViV29ya2VyID0gKCkgPT4gdHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIgJiZcbiAgICBnbG9iYWxUaGlzLmNvbnN0cnVjdG9yICYmXG4gICAgZ2xvYmFsVGhpcy5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIkRlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlXCI7XG5leHBvcnQgY29uc3QgaXNKc0RvbSA9ICgpID0+ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5uYW1lID09PSBcIm5vZGVqc1wiKSB8fFxuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIChuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwiTm9kZS5qc1wiKSB8fFxuICAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcyhcImpzZG9tXCIpKSk7XG4vLyBTdXBhYmFzZSBFZGdlIEZ1bmN0aW9uIHByb3ZpZGVzIGEgYERlbm9gIGdsb2JhbCBvYmplY3Rcbi8vIHdpdGhvdXQgYHZlcnNpb25gIHByb3BlcnR5XG5leHBvcnQgY29uc3QgaXNEZW5vID0gKCkgPT4gdHlwZW9mIERlbm8gIT09IFwidW5kZWZpbmVkXCI7XG4vLyBNYXJrIG5vdC1hcy1ub2RlIGlmIGluIFN1cGFiYXNlIEVkZ2UgRnVuY3Rpb25cbmV4cG9ydCBjb25zdCBpc05vZGUgPSAoKSA9PiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICFpc0Rlbm8oKTtcbmV4cG9ydCBjb25zdCBnZXRFbnYgPSAoKSA9PiB7XG4gICAgbGV0IGVudjtcbiAgICBpZiAoaXNCcm93c2VyKCkpIHtcbiAgICAgICAgZW52ID0gXCJicm93c2VyXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTm9kZSgpKSB7XG4gICAgICAgIGVudiA9IFwibm9kZVwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1dlYldvcmtlcigpKSB7XG4gICAgICAgIGVudiA9IFwid2Vid29ya2VyXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzSnNEb20oKSkge1xuICAgICAgICBlbnYgPSBcImpzZG9tXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRGVubygpKSB7XG4gICAgICAgIGVudiA9IFwiZGVub1wiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZW52ID0gXCJvdGhlclwiO1xuICAgIH1cbiAgICByZXR1cm4gZW52O1xufTtcbmxldCBydW50aW1lRW52aXJvbm1lbnQ7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UnVudGltZUVudmlyb25tZW50KCkge1xuICAgIGlmIChydW50aW1lRW52aXJvbm1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbnYgPSBnZXRFbnYoKTtcbiAgICAgICAgY29uc3QgcmVsZWFzZUVudiA9IGdldFNoYXMoKTtcbiAgICAgICAgcnVudGltZUVudmlyb25tZW50ID0ge1xuICAgICAgICAgICAgbGlicmFyeTogXCJsYW5nc21pdGhcIixcbiAgICAgICAgICAgIHJ1bnRpbWU6IGVudixcbiAgICAgICAgICAgIC4uLnJlbGVhc2VFbnYsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBydW50aW1lRW52aXJvbm1lbnQ7XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgTGFuZ0NoYWluLXNwZWNpZmljIGVudmlyb25tZW50IHZhcmlhYmxlcyBmcm9tIHRoZSBjdXJyZW50IHJ1bnRpbWUgZW52aXJvbm1lbnQuXG4gKiBTZW5zaXRpdmUga2V5cyAoY29udGFpbmluZyB0aGUgd29yZCBcImtleVwiKSBoYXZlIHRoZWlyIHZhbHVlcyByZWRhY3RlZCBmb3Igc2VjdXJpdHkuXG4gKlxuICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIHN0cmluZz59XG4gKiAgLSBBIHJlY29yZCBvZiBMYW5nQ2hhaW4tc3BlY2lmaWMgZW52aXJvbm1lbnQgdmFyaWFibGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFuZ0NoYWluRW52VmFycygpIHtcbiAgICBjb25zdCBhbGxFbnZWYXJzID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZXMoKSB8fCB7fTtcbiAgICBjb25zdCBlbnZWYXJzID0ge307XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYWxsRW52VmFycykpIHtcbiAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKFwiTEFOR0NIQUlOX1wiKSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGVudlZhcnNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGVudlZhcnMpIHtcbiAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwia2V5XCIpICYmIHR5cGVvZiBlbnZWYXJzW2tleV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZW52VmFyc1trZXldO1xuICAgICAgICAgICAgZW52VmFyc1trZXldID1cbiAgICAgICAgICAgICAgICB2YWx1ZS5zbGljZSgwLCAyKSArIFwiKlwiLnJlcGVhdCh2YWx1ZS5sZW5ndGggLSA0KSArIHZhbHVlLnNsaWNlKC0yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZW52VmFycztcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgZnJvbSB0aGUgY3VycmVudCBydW50aW1lIGVudmlyb25tZW50LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gb3BlcmF0ZSBpbiBhIHZhcmlldHkgb2YgSlMgZW52aXJvbm1lbnRzLFxuICogaW5jbHVkaW5nIE5vZGUuanMsIERlbm8sIGJyb3dzZXJzLCBldGMuXG4gKlxuICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIHN0cmluZz4gfCB1bmRlZmluZWR9XG4gKiAgLSBBIHJlY29yZCBvZiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgaWYgYXZhaWxhYmxlLlxuICogIC0gYHVuZGVmaW5lZGAgaWYgdGhlIGVudmlyb25tZW50IGRvZXMgbm90IHN1cHBvcnQgb3IgYWxsb3dzIGFjY2VzcyB0byBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlcygpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaGVjayBmb3IgTm9kZS5qcyBlbnZpcm9ubWVudFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MuZW52KSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHByb2Nlc3MuZW52KS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgYWNjW2tleV0gPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIGJyb3dzZXJzIGFuZCBvdGhlciBlbnZpcm9ubWVudHMsIHdlIG1heSBub3QgaGF2ZSBkaXJlY3QgYWNjZXNzIHRvIGVudiB2YXJpYWJsZXNcbiAgICAgICAgLy8gUmV0dXJuIHVuZGVmaW5lZCBvciBhbnkgb3RoZXIgZmFsbGJhY2sgYXMgcmVxdWlyZWQuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIENhdGNoIGFueSBlcnJvcnMgdGhhdCBtaWdodCBvY2N1ciB3aGlsZSB0cnlpbmcgdG8gYWNjZXNzIGVudmlyb25tZW50IHZhcmlhYmxlc1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKG5hbWUpIHtcbiAgICAvLyBDZXJ0YWluIERlbm8gc2V0dXBzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgeW91IHRyeSB0byBhY2Nlc3MgZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2h3Y2hhc2UxNy9sYW5nY2hhaW5qcy9pc3N1ZXMvMTQxMlxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudj8uW25hbWVdXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0RW52aXJvbm1lbnRWYXJpYWJsZShuYW1lLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgcHJvY2Vzcy5lbnZbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG59XG5sZXQgY2FjaGVkQ29tbWl0U0hBcztcbi8qKlxuICogR2V0IHRoZSBHaXQgY29tbWl0IFNIQSBmcm9tIGNvbW1vbiBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAqIHVzZWQgYnkgZGlmZmVyZW50IENJL0NEIHBsYXRmb3Jtcy5cbiAqIEByZXR1cm5zIHtzdHJpbmcgfCB1bmRlZmluZWR9IFRoZSBHaXQgY29tbWl0IFNIQSBvciB1bmRlZmluZWQgaWYgbm90IGZvdW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2hhcygpIHtcbiAgICBpZiAoY2FjaGVkQ29tbWl0U0hBcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWRDb21taXRTSEFzO1xuICAgIH1cbiAgICBjb25zdCBjb21tb25fcmVsZWFzZV9lbnZzID0gW1xuICAgICAgICBcIlZFUkNFTF9HSVRfQ09NTUlUX1NIQVwiLFxuICAgICAgICBcIk5FWFRfUFVCTElDX1ZFUkNFTF9HSVRfQ09NTUlUX1NIQVwiLFxuICAgICAgICBcIkNPTU1JVF9SRUZcIixcbiAgICAgICAgXCJSRU5ERVJfR0lUX0NPTU1JVFwiLFxuICAgICAgICBcIkNJX0NPTU1JVF9TSEFcIixcbiAgICAgICAgXCJDSVJDTEVfU0hBMVwiLFxuICAgICAgICBcIkNGX1BBR0VTX0NPTU1JVF9TSEFcIixcbiAgICAgICAgXCJSRUFDVF9BUFBfR0lUX1NIQVwiLFxuICAgICAgICBcIlNPVVJDRV9WRVJTSU9OXCIsXG4gICAgICAgIFwiR0lUSFVCX1NIQVwiLFxuICAgICAgICBcIlRSQVZJU19DT01NSVRcIixcbiAgICAgICAgXCJHSVRfQ09NTUlUXCIsXG4gICAgICAgIFwiQlVJTERfVkNTX05VTUJFUlwiLFxuICAgICAgICBcImJhbWJvb19wbGFuUmVwb3NpdG9yeV9yZXZpc2lvblwiLFxuICAgICAgICBcIkJ1aWxkLlNvdXJjZVZlcnNpb25cIixcbiAgICAgICAgXCJCSVRCVUNLRVRfQ09NTUlUXCIsXG4gICAgICAgIFwiRFJPTkVfQ09NTUlUX1NIQVwiLFxuICAgICAgICBcIlNFTUFQSE9SRV9HSVRfU0hBXCIsXG4gICAgICAgIFwiQlVJTERLSVRFX0NPTU1JVFwiLFxuICAgIF07XG4gICAgY29uc3Qgc2hhcyA9IHt9O1xuICAgIGZvciAoY29uc3QgZW52IG9mIGNvbW1vbl9yZWxlYXNlX2VudnMpIHtcbiAgICAgICAgY29uc3QgZW52VmFyID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShlbnYpO1xuICAgICAgICBpZiAoZW52VmFyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNoYXNbZW52XSA9IGVudlZhcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWNoZWRDb21taXRTSEFzID0gc2hhcztcbiAgICByZXR1cm4gc2hhcztcbn1cbiIsImltcG9ydCAqIGFzIHV1aWQgZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IEFzeW5jQ2FsbGVyIH0gZnJvbSBcIi4vdXRpbHMvYXN5bmNfY2FsbGVyLmpzXCI7XG5pbXBvcnQgeyBjb252ZXJ0TGFuZ0NoYWluTWVzc2FnZVRvRXhhbXBsZSwgaXNMYW5nQ2hhaW5NZXNzYWdlLCB9IGZyb20gXCIuL3V0aWxzL21lc3NhZ2VzLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlLCBnZXRSdW50aW1lRW52aXJvbm1lbnQgfSBmcm9tIFwiLi91dGlscy9lbnYuanNcIjtcbi8vIHV0aWxpdHkgZnVuY3Rpb25zXG5jb25zdCBpc0xvY2FsaG9zdCA9ICh1cmwpID0+IHtcbiAgICBjb25zdCBzdHJpcHBlZFVybCA9IHVybC5yZXBsYWNlKFwiaHR0cDovL1wiLCBcIlwiKS5yZXBsYWNlKFwiaHR0cHM6Ly9cIiwgXCJcIik7XG4gICAgY29uc3QgaG9zdG5hbWUgPSBzdHJpcHBlZFVybC5zcGxpdChcIi9cIilbMF0uc3BsaXQoXCI6XCIpWzBdO1xuICAgIHJldHVybiAoaG9zdG5hbWUgPT09IFwibG9jYWxob3N0XCIgfHwgaG9zdG5hbWUgPT09IFwiMTI3LjAuMC4xXCIgfHwgaG9zdG5hbWUgPT09IFwiOjoxXCIpO1xufTtcbmNvbnN0IHJhaXNlRm9yU3RhdHVzID0gYXN5bmMgKHJlc3BvbnNlLCBvcGVyYXRpb24pID0+IHtcbiAgICAvLyBjb25zdW1lIHRoZSByZXNwb25zZSBib2R5IHRvIHJlbGVhc2UgdGhlIGNvbm5lY3Rpb25cbiAgICAvLyBodHRwczovL3VuZGljaS5ub2RlanMub3JnLyMvP2lkPWdhcmJhZ2UtY29sbGVjdGlvblxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byAke29wZXJhdGlvbn06ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9ICR7Ym9keX1gKTtcbiAgICB9XG59O1xuYXN5bmMgZnVuY3Rpb24gdG9BcnJheShpdGVyYWJsZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBpdGVyYWJsZSkge1xuICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHRyaW1RdW90ZXMoc3RyKSB7XG4gICAgaWYgKHN0ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBzdHJcbiAgICAgICAgLnRyaW0oKVxuICAgICAgICAucmVwbGFjZSgvXlwiKC4qKVwiJC8sIFwiJDFcIilcbiAgICAgICAgLnJlcGxhY2UoL14nKC4qKSckLywgXCIkMVwiKTtcbn1cbmZ1bmN0aW9uIGhpZGVJbnB1dHMoaW5wdXRzKSB7XG4gICAgaWYgKGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fSElERV9JTlBVVFNcIikgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0cztcbn1cbmZ1bmN0aW9uIGhpZGVPdXRwdXRzKG91dHB1dHMpIHtcbiAgICBpZiAoZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9ISURFX09VVFBVVFNcIikgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dHM7XG59XG5leHBvcnQgY2xhc3MgQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXBpVXJsXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndlYlVybFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjYWxsZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGltZW91dF9tc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGVuYW50SWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRDb25maWcgPSBDbGllbnQuZ2V0RGVmYXVsdENsaWVudENvbmZpZygpO1xuICAgICAgICB0aGlzLmFwaVVybCA9IHRyaW1RdW90ZXMoY29uZmlnLmFwaVVybCA/PyBkZWZhdWx0Q29uZmlnLmFwaVVybCkgPz8gXCJcIjtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSB0cmltUXVvdGVzKGNvbmZpZy5hcGlLZXkgPz8gZGVmYXVsdENvbmZpZy5hcGlLZXkpO1xuICAgICAgICB0aGlzLndlYlVybCA9IHRyaW1RdW90ZXMoY29uZmlnLndlYlVybCA/PyBkZWZhdWx0Q29uZmlnLndlYlVybCk7XG4gICAgICAgIHRoaXMudmFsaWRhdGVBcGlLZXlJZkhvc3RlZCgpO1xuICAgICAgICB0aGlzLnRpbWVvdXRfbXMgPSBjb25maWcudGltZW91dF9tcyA/PyA0MDAwO1xuICAgICAgICB0aGlzLmNhbGxlciA9IG5ldyBBc3luY0NhbGxlcihjb25maWcuY2FsbGVyT3B0aW9ucyA/PyB7fSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0Q2xpZW50Q29uZmlnKCkge1xuICAgICAgICBjb25zdCBhcGlLZXkgPSBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX0FQSV9LRVlcIik7XG4gICAgICAgIGNvbnN0IGFwaVVybCA9IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fRU5EUE9JTlRcIikgPz9cbiAgICAgICAgICAgIChhcGlLZXkgPyBcImh0dHBzOi8vYXBpLnNtaXRoLmxhbmdjaGFpbi5jb21cIiA6IFwiaHR0cDovL2xvY2FsaG9zdDoxOTg0XCIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXBpVXJsOiBhcGlVcmwsXG4gICAgICAgICAgICBhcGlLZXk6IGFwaUtleSxcbiAgICAgICAgICAgIHdlYlVybDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB2YWxpZGF0ZUFwaUtleUlmSG9zdGVkKCkge1xuICAgICAgICBjb25zdCBpc0xvY2FsID0gaXNMb2NhbGhvc3QodGhpcy5hcGlVcmwpO1xuICAgICAgICBpZiAoIWlzTG9jYWwgJiYgIXRoaXMuYXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBUEkga2V5IG11c3QgYmUgcHJvdmlkZWQgd2hlbiB1c2luZyBob3N0ZWQgTGFuZ1NtaXRoIEFQSVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRIb3N0VXJsKCkge1xuICAgICAgICBpZiAodGhpcy53ZWJVcmwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndlYlVybDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0xvY2FsaG9zdCh0aGlzLmFwaVVybCkpIHtcbiAgICAgICAgICAgIHRoaXMud2ViVXJsID0gXCJodHRwOi8vbG9jYWxob3N0XCI7XG4gICAgICAgICAgICByZXR1cm4gXCJodHRwOi8vbG9jYWxob3N0XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hcGlVcmwuc3BsaXQoXCIuXCIsIDEpWzBdLmluY2x1ZGVzKFwiZGV2XCIpKSB7XG4gICAgICAgICAgICB0aGlzLndlYlVybCA9IFwiaHR0cHM6Ly9kZXYuc21pdGgubGFuZ2NoYWluLmNvbVwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiaHR0cHM6Ly9kZXYuc21pdGgubGFuZ2NoYWluLmNvbVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53ZWJVcmwgPSBcImh0dHBzOi8vc21pdGgubGFuZ2NoYWluLmNvbVwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiaHR0cHM6Ly9zbWl0aC5sYW5nY2hhaW4uY29tXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGhlYWRlcnMoKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzW1wieC1hcGkta2V5XCJdID0gYCR7dGhpcy5hcGlLZXl9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVhZGVycztcbiAgICB9XG4gICAgYXN5bmMgX2dldFJlc3BvbnNlKHBhdGgsIHF1ZXJ5UGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtc1N0cmluZyA9IHF1ZXJ5UGFyYW1zPy50b1N0cmluZygpID8/IFwiXCI7XG4gICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYXBpVXJsfSR7cGF0aH0/JHtwYXJhbXNTdHJpbmd9YDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCB1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggJHtwYXRofTogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIGFzeW5jIF9nZXQocGF0aCwgcXVlcnlQYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9nZXRSZXNwb25zZShwYXRoLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGFzeW5jICpfZ2V0UGFnaW5hdGVkKHBhdGgsIHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpKSB7XG4gICAgICAgIGxldCBvZmZzZXQgPSBOdW1iZXIocXVlcnlQYXJhbXMuZ2V0KFwib2Zmc2V0XCIpKSB8fCAwO1xuICAgICAgICBjb25zdCBsaW1pdCA9IE51bWJlcihxdWVyeVBhcmFtcy5nZXQoXCJsaW1pdFwiKSkgfHwgMTAwO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMuc2V0KFwib2Zmc2V0XCIsIFN0cmluZyhvZmZzZXQpKTtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLnNldChcImxpbWl0XCIsIFN0cmluZyhsaW1pdCkpO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5hcGlVcmx9JHtwYXRofT8ke3F1ZXJ5UGFyYW1zfWA7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIHVybCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCAke3BhdGh9OiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5aWVsZCBpdGVtcztcbiAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPCBsaW1pdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2Zmc2V0ICs9IGl0ZW1zLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjcmVhdGVSdW4ocnVuKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7IC4uLnRoaXMuaGVhZGVycywgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfTtcbiAgICAgICAgY29uc3QgZXh0cmEgPSBydW4uZXh0cmEgPz8ge307XG4gICAgICAgIGNvbnN0IHJ1bnRpbWVFbnYgPSBhd2FpdCBnZXRSdW50aW1lRW52aXJvbm1lbnQoKTtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbl9uYW1lID0gcnVuLnByb2plY3RfbmFtZTtcbiAgICAgICAgZGVsZXRlIHJ1bi5wcm9qZWN0X25hbWU7XG4gICAgICAgIGNvbnN0IHJ1bkNyZWF0ZSA9IHtcbiAgICAgICAgICAgIHNlc3Npb25fbmFtZSxcbiAgICAgICAgICAgIC4uLnJ1bixcbiAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgLi4ucnVuLmV4dHJhLFxuICAgICAgICAgICAgICAgIHJ1bnRpbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucnVudGltZUVudixcbiAgICAgICAgICAgICAgICAgICAgLi4uZXh0cmEucnVudGltZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcnVuQ3JlYXRlLmlucHV0cyA9IGhpZGVJbnB1dHMocnVuQ3JlYXRlLmlucHV0cyk7XG4gICAgICAgIGlmIChydW5DcmVhdGUub3V0cHV0cykge1xuICAgICAgICAgICAgcnVuQ3JlYXRlLm91dHB1dHMgPSBoaWRlT3V0cHV0cyhydW5DcmVhdGUub3V0cHV0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCBgJHt0aGlzLmFwaVVybH0vcnVuc2AsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocnVuQ3JlYXRlKSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgcmFpc2VGb3JTdGF0dXMocmVzcG9uc2UsIFwiY3JlYXRlIHJ1blwiKTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlUnVuKHJ1bklkLCBydW4pIHtcbiAgICAgICAgaWYgKHJ1bi5pbnB1dHMpIHtcbiAgICAgICAgICAgIHJ1bi5pbnB1dHMgPSBoaWRlSW5wdXRzKHJ1bi5pbnB1dHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChydW4ub3V0cHV0cykge1xuICAgICAgICAgICAgcnVuLm91dHB1dHMgPSBoaWRlT3V0cHV0cyhydW4ub3V0cHV0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHsgLi4udGhpcy5oZWFkZXJzLCBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9ydW5zLyR7cnVuSWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocnVuKSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgcmFpc2VGb3JTdGF0dXMocmVzcG9uc2UsIFwidXBkYXRlIHJ1blwiKTtcbiAgICB9XG4gICAgYXN5bmMgcmVhZFJ1bihydW5JZCwgeyBsb2FkQ2hpbGRSdW5zIH0gPSB7IGxvYWRDaGlsZFJ1bnM6IGZhbHNlIH0pIHtcbiAgICAgICAgbGV0IHJ1biA9IGF3YWl0IHRoaXMuX2dldChgL3J1bnMvJHtydW5JZH1gKTtcbiAgICAgICAgaWYgKGxvYWRDaGlsZFJ1bnMgJiYgcnVuLmNoaWxkX3J1bl9pZHMpIHtcbiAgICAgICAgICAgIHJ1biA9IGF3YWl0IHRoaXMuX2xvYWRDaGlsZFJ1bnMocnVuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnVuO1xuICAgIH1cbiAgICBhc3luYyBnZXRSdW5VcmwoeyBydW5JZCwgcnVuLCBwcm9qZWN0T3B0cywgfSkge1xuICAgICAgICBpZiAocnVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBzZXNzaW9uSWQ7XG4gICAgICAgICAgICBpZiAocnVuLnNlc3Npb25faWQpIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uSWQgPSBydW4uc2Vzc2lvbl9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHByb2plY3RPcHRzPy5wcm9qZWN0TmFtZSkge1xuICAgICAgICAgICAgICAgIHNlc3Npb25JZCA9IChhd2FpdCB0aGlzLnJlYWRQcm9qZWN0KHsgcHJvamVjdE5hbWU6IHByb2plY3RPcHRzPy5wcm9qZWN0TmFtZSB9KSkuaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwcm9qZWN0T3B0cz8ucHJvamVjdElkKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbklkID0gcHJvamVjdE9wdHM/LnByb2plY3RJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3QgPSBhd2FpdCB0aGlzLnJlYWRQcm9qZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdE5hbWU6IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fUFJPSkVDVFwiKSB8fCBcImRlZmF1bHRcIixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzZXNzaW9uSWQgPSBwcm9qZWN0LmlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGVuYW50SWQgPSBhd2FpdCB0aGlzLl9nZXRUZW5hbnRJZCgpO1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuZ2V0SG9zdFVybCgpfS9vLyR7dGVuYW50SWR9L3Byb2plY3RzL3AvJHtzZXNzaW9uSWR9L3IvJHtydW4uaWR9P3BvbGw9dHJ1ZWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocnVuSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgcnVuXyA9IGF3YWl0IHRoaXMucmVhZFJ1bihydW5JZCk7XG4gICAgICAgICAgICBpZiAoIXJ1bl8uYXBwX3BhdGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJ1biAke3J1bklkfSBoYXMgbm8gYXBwX3BhdGhgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGJhc2VVcmwgPSB0aGlzLmdldEhvc3RVcmwoKTtcbiAgICAgICAgICAgIHJldHVybiBgJHtiYXNlVXJsfSR7cnVuXy5hcHBfcGF0aH1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGVpdGhlciBydW5JZCBvciBydW5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2xvYWRDaGlsZFJ1bnMocnVuKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkUnVucyA9IGF3YWl0IHRvQXJyYXkodGhpcy5saXN0UnVucyh7IGlkOiBydW4uY2hpbGRfcnVuX2lkcyB9KSk7XG4gICAgICAgIGNvbnN0IHRyZWVtYXAgPSB7fTtcbiAgICAgICAgY29uc3QgcnVucyA9IHt9O1xuICAgICAgICAvLyBUT0RPOiBtYWtlIGRvdHRlZCBvcmRlciByZXF1aXJlZCB3aGVuIHRoZSBtaWdyYXRpb24gZmluaXNoZXNcbiAgICAgICAgY2hpbGRSdW5zLnNvcnQoKGEsIGIpID0+IChhPy5kb3R0ZWRfb3JkZXIgPz8gXCJcIikubG9jYWxlQ29tcGFyZShiPy5kb3R0ZWRfb3JkZXIgPz8gXCJcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkUnVuIG9mIGNoaWxkUnVucykge1xuICAgICAgICAgICAgaWYgKGNoaWxkUnVuLnBhcmVudF9ydW5faWQgPT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICBjaGlsZFJ1bi5wYXJlbnRfcnVuX2lkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoaWxkIHJ1biAke2NoaWxkUnVuLmlkfSBoYXMgbm8gcGFyZW50YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIShjaGlsZFJ1bi5wYXJlbnRfcnVuX2lkIGluIHRyZWVtYXApKSB7XG4gICAgICAgICAgICAgICAgdHJlZW1hcFtjaGlsZFJ1bi5wYXJlbnRfcnVuX2lkXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJlZW1hcFtjaGlsZFJ1bi5wYXJlbnRfcnVuX2lkXS5wdXNoKGNoaWxkUnVuKTtcbiAgICAgICAgICAgIHJ1bnNbY2hpbGRSdW4uaWRdID0gY2hpbGRSdW47XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmNoaWxkX3J1bnMgPSB0cmVlbWFwW3J1bi5pZF0gfHwgW107XG4gICAgICAgIGZvciAoY29uc3QgcnVuSWQgaW4gdHJlZW1hcCkge1xuICAgICAgICAgICAgaWYgKHJ1bklkICE9PSBydW4uaWQpIHtcbiAgICAgICAgICAgICAgICBydW5zW3J1bklkXS5jaGlsZF9ydW5zID0gdHJlZW1hcFtydW5JZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgYXN5bmMgKmxpc3RSdW5zKHsgcHJvamVjdElkLCBwcm9qZWN0TmFtZSwgcGFyZW50UnVuSWQsIHJlZmVyZW5jZUV4YW1wbGVJZCwgc3RhcnRUaW1lLCBleGVjdXRpb25PcmRlciwgcnVuVHlwZSwgZXJyb3IsIGlkLCBsaW1pdCwgb2Zmc2V0LCBxdWVyeSwgZmlsdGVyLCB9KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgcHJvamVjdElkXyA9IHByb2plY3RJZDtcbiAgICAgICAgaWYgKHByb2plY3ROYW1lKSB7XG4gICAgICAgICAgICBpZiAocHJvamVjdElkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBvbmUgb2YgcHJvamVjdElkIG9yIHByb2plY3ROYW1lIG1heSBiZSBnaXZlblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb2plY3RJZF8gPSAoYXdhaXQgdGhpcy5yZWFkUHJvamVjdCh7IHByb2plY3ROYW1lIH0pKS5pZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvamVjdElkXykge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwic2Vzc2lvblwiLCBwcm9qZWN0SWRfKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50UnVuSWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcInBhcmVudF9ydW5cIiwgcGFyZW50UnVuSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWZlcmVuY2VFeGFtcGxlSWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcInJlZmVyZW5jZV9leGFtcGxlXCIsIHJlZmVyZW5jZUV4YW1wbGVJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0VGltZSkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwic3RhcnRfdGltZVwiLCBzdGFydFRpbWUudG9JU09TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4ZWN1dGlvbk9yZGVyKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoXCJleGVjdXRpb25fb3JkZXJcIiwgZXhlY3V0aW9uT3JkZXIudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1blR5cGUpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcInJ1bl90eXBlXCIsIHJ1blR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoXCJlcnJvclwiLCBlcnJvci50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZF8gb2YgaWQpIHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoXCJpZFwiLCBpZF8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsaW1pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoXCJsaW1pdFwiLCBsaW1pdC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcIm9mZnNldFwiLCBvZmZzZXQudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHF1ZXJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcInF1ZXJ5XCIsIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcImZpbHRlclwiLCBmaWx0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgcnVucyBvZiB0aGlzLl9nZXRQYWdpbmF0ZWQoXCIvcnVuc1wiLCBxdWVyeVBhcmFtcykpIHtcbiAgICAgICAgICAgIHlpZWxkKiBydW5zO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHNoYXJlUnVuKHJ1bklkLCB7IHNoYXJlSWQgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBydW5faWQ6IHJ1bklkLFxuICAgICAgICAgICAgc2hhcmVfdG9rZW46IHNoYXJlSWQgfHwgdXVpZC52NCgpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9ydW5zLyR7cnVuSWR9L3NoYXJlYCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCAhKFwic2hhcmVfdG9rZW5cIiBpbiByZXN1bHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIGZyb20gc2VydmVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmdldEhvc3RVcmwoKX0vcHVibGljLyR7cmVzdWx0W1wic2hhcmVfdG9rZW5cIl19L3JgO1xuICAgIH1cbiAgICBhc3luYyB1bnNoYXJlUnVuKHJ1bklkKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L3J1bnMvJHtydW5JZH0vc2hhcmVgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHJhaXNlRm9yU3RhdHVzKHJlc3BvbnNlLCBcInVuc2hhcmUgcnVuXCIpO1xuICAgIH1cbiAgICBhc3luYyByZWFkUnVuU2hhcmVkTGluayhydW5JZCkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9ydW5zLyR7cnVuSWR9L3NoYXJlYCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgIShcInNoYXJlX3Rva2VuXCIgaW4gcmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7dGhpcy5nZXRIb3N0VXJsKCl9L3B1YmxpYy8ke3Jlc3VsdFtcInNoYXJlX3Rva2VuXCJdfS9yYDtcbiAgICB9XG4gICAgYXN5bmMgbGlzdFNoYXJlZFJ1bnMoc2hhcmVUb2tlbiwgeyBydW5JZHMsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgICAgICAgICAgc2hhcmVfdG9rZW46IHNoYXJlVG9rZW4sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocnVuSWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcnVuSWQgb2YgcnVuSWRzKSB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwiaWRcIiwgcnVuSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L3B1YmxpYy8ke3NoYXJlVG9rZW59L3J1bnMke3F1ZXJ5UGFyYW1zfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcnVucyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHJ1bnM7XG4gICAgfVxuICAgIGFzeW5jIHJlYWREYXRhc2V0U2hhcmVkU2NoZW1hKGRhdGFzZXRJZCwgZGF0YXNldE5hbWUpIHtcbiAgICAgICAgaWYgKCFkYXRhc2V0SWQgJiYgIWRhdGFzZXROYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFaXRoZXIgZGF0YXNldElkIG9yIGRhdGFzZXROYW1lIG11c3QgYmUgZ2l2ZW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhc2V0SWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFzZXQgPSBhd2FpdCB0aGlzLnJlYWREYXRhc2V0KHsgZGF0YXNldE5hbWUgfSk7XG4gICAgICAgICAgICBkYXRhc2V0SWQgPSBkYXRhc2V0LmlkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L2RhdGFzZXRzLyR7ZGF0YXNldElkfS9zaGFyZWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2hhcmVTY2hlbWEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNoYXJlU2NoZW1hLnVybCA9IGAke3RoaXMuZ2V0SG9zdFVybCgpfS9wdWJsaWMvJHtzaGFyZVNjaGVtYS5zaGFyZV90b2tlbn0vZGA7XG4gICAgICAgIHJldHVybiBzaGFyZVNjaGVtYTtcbiAgICB9XG4gICAgYXN5bmMgc2hhcmVEYXRhc2V0KGRhdGFzZXRJZCwgZGF0YXNldE5hbWUpIHtcbiAgICAgICAgaWYgKCFkYXRhc2V0SWQgJiYgIWRhdGFzZXROYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFaXRoZXIgZGF0YXNldElkIG9yIGRhdGFzZXROYW1lIG11c3QgYmUgZ2l2ZW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhc2V0SWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFzZXQgPSBhd2FpdCB0aGlzLnJlYWREYXRhc2V0KHsgZGF0YXNldE5hbWUgfSk7XG4gICAgICAgICAgICBkYXRhc2V0SWQgPSBkYXRhc2V0LmlkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBkYXRhc2V0X2lkOiBkYXRhc2V0SWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L2RhdGFzZXRzLyR7ZGF0YXNldElkfS9zaGFyZWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzaGFyZVNjaGVtYSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgc2hhcmVTY2hlbWEudXJsID0gYCR7dGhpcy5nZXRIb3N0VXJsKCl9L3B1YmxpYy8ke3NoYXJlU2NoZW1hLnNoYXJlX3Rva2VufS9kYDtcbiAgICAgICAgcmV0dXJuIHNoYXJlU2NoZW1hO1xuICAgIH1cbiAgICBhc3luYyB1bnNoYXJlRGF0YXNldChkYXRhc2V0SWQpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCBgJHt0aGlzLmFwaVVybH0vZGF0YXNldHMvJHtkYXRhc2V0SWR9L3NoYXJlYCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCByYWlzZUZvclN0YXR1cyhyZXNwb25zZSwgXCJ1bnNoYXJlIGRhdGFzZXRcIik7XG4gICAgfVxuICAgIGFzeW5jIHJlYWRTaGFyZWREYXRhc2V0KHNoYXJlVG9rZW4pIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCBgJHt0aGlzLmFwaVVybH0vcHVibGljLyR7c2hhcmVUb2tlbn0vZGF0YXNldHNgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGRhdGFzZXQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJldHVybiBkYXRhc2V0O1xuICAgIH1cbiAgICBhc3luYyBjcmVhdGVQcm9qZWN0KHsgcHJvamVjdE5hbWUsIHByb2plY3RFeHRyYSwgdXBzZXJ0LCByZWZlcmVuY2VEYXRhc2V0SWQsIH0pIHtcbiAgICAgICAgY29uc3QgdXBzZXJ0XyA9IHVwc2VydCA/IGA/dXBzZXJ0PXRydWVgIDogXCJcIjtcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLmFwaVVybH0vc2Vzc2lvbnMke3Vwc2VydF99YDtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIG5hbWU6IHByb2plY3ROYW1lLFxuICAgICAgICB9O1xuICAgICAgICBpZiAocHJvamVjdEV4dHJhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJvZHlbXCJleHRyYVwiXSA9IHByb2plY3RFeHRyYTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmZXJlbmNlRGF0YXNldElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJvZHlbXCJyZWZlcmVuY2VfZGF0YXNldF9pZFwiXSA9IHJlZmVyZW5jZURhdGFzZXRJZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGVuZHBvaW50LCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi50aGlzLmhlYWRlcnMsIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgc2Vzc2lvbiAke3Byb2plY3ROYW1lfTogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBhc3luYyByZWFkUHJvamVjdCh7IHByb2plY3RJZCwgcHJvamVjdE5hbWUsIH0pIHtcbiAgICAgICAgbGV0IHBhdGggPSBcIi9zZXNzaW9uc1wiO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGlmIChwcm9qZWN0SWQgIT09IHVuZGVmaW5lZCAmJiBwcm9qZWN0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgZWl0aGVyIHByb2plY3ROYW1lIG9yIHByb2plY3RJZCwgbm90IGJvdGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvamVjdElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhdGggKz0gYC8ke3Byb2plY3RJZH1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2plY3ROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJuYW1lXCIsIHByb2plY3ROYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBwcm9qZWN0TmFtZSBvciBwcm9qZWN0SWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9nZXQocGF0aCwgcGFyYW1zKTtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9qZWN0W2lkPSR7cHJvamVjdElkfSwgbmFtZT0ke3Byb2plY3ROYW1lfV0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSByZXNwb25zZVswXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIF9nZXRUZW5hbnRJZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RlbmFudElkICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGVuYW50SWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHsgbGltaXQ6IFwiMVwiIH0pO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHByb2plY3RzIG9mIHRoaXMuX2dldFBhZ2luYXRlZChcIi9zZXNzaW9uc1wiLCBxdWVyeVBhcmFtcykpIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbmFudElkID0gcHJvamVjdHNbMF0udGVuYW50X2lkO1xuICAgICAgICAgICAgcmV0dXJuIHByb2plY3RzWzBdLnRlbmFudF9pZDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBwcm9qZWN0cyBmb3VuZCB0byByZXNvbHZlIHRlbmFudC5cIik7XG4gICAgfVxuICAgIGFzeW5jICpsaXN0UHJvamVjdHMoeyBwcm9qZWN0SWRzLCBuYW1lLCBuYW1lQ29udGFpbnMsIHJlZmVyZW5jZURhdGFzZXRJZCwgcmVmZXJlbmNlRGF0YXNldE5hbWUsIHJlZmVyZW5jZUZyZWUsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGlmIChwcm9qZWN0SWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvamVjdElkIG9mIHByb2plY3RJZHMpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwiaWRcIiwgcHJvamVjdElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwibmFtZVwiLCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZUNvbnRhaW5zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJuYW1lX2NvbnRhaW5zXCIsIG5hbWVDb250YWlucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmVyZW5jZURhdGFzZXRJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwicmVmZXJlbmNlX2RhdGFzZXRcIiwgcmVmZXJlbmNlRGF0YXNldElkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWZlcmVuY2VEYXRhc2V0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhc2V0ID0gYXdhaXQgdGhpcy5yZWFkRGF0YXNldCh7XG4gICAgICAgICAgICAgICAgZGF0YXNldE5hbWU6IHJlZmVyZW5jZURhdGFzZXROYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwicmVmZXJlbmNlX2RhdGFzZXRcIiwgZGF0YXNldC5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmVyZW5jZUZyZWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFyYW1zLmFwcGVuZChcInJlZmVyZW5jZV9mcmVlXCIsIHJlZmVyZW5jZUZyZWUudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBwcm9qZWN0cyBvZiB0aGlzLl9nZXRQYWdpbmF0ZWQoXCIvc2Vzc2lvbnNcIiwgcGFyYW1zKSkge1xuICAgICAgICAgICAgeWllbGQqIHByb2plY3RzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZVByb2plY3QoeyBwcm9qZWN0SWQsIHByb2plY3ROYW1lLCB9KSB7XG4gICAgICAgIGxldCBwcm9qZWN0SWRfO1xuICAgICAgICBpZiAocHJvamVjdElkID09PSB1bmRlZmluZWQgJiYgcHJvamVjdE5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIHByb2plY3ROYW1lIG9yIHByb2plY3RJZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9qZWN0SWQgIT09IHVuZGVmaW5lZCAmJiBwcm9qZWN0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgZWl0aGVyIHByb2plY3ROYW1lIG9yIHByb2plY3RJZCwgbm90IGJvdGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvamVjdElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb2plY3RJZF8gPSAoYXdhaXQgdGhpcy5yZWFkUHJvamVjdCh7IHByb2plY3ROYW1lIH0pKS5pZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb2plY3RJZF8gPSBwcm9qZWN0SWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCBgJHt0aGlzLmFwaVVybH0vc2Vzc2lvbnMvJHtwcm9qZWN0SWRffWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgcmFpc2VGb3JTdGF0dXMocmVzcG9uc2UsIGBkZWxldGUgc2Vzc2lvbiAke3Byb2plY3RJZF99ICgke3Byb2plY3ROYW1lfSlgKTtcbiAgICB9XG4gICAgYXN5bmMgdXBsb2FkQ3N2KHsgY3N2RmlsZSwgZmlsZU5hbWUsIGlucHV0S2V5cywgb3V0cHV0S2V5cywgZGVzY3JpcHRpb24sIGRhdGFUeXBlLCBuYW1lLCB9KSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYXBpVXJsfS9kYXRhc2V0cy91cGxvYWRgO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJmaWxlXCIsIGNzdkZpbGUsIGZpbGVOYW1lKTtcbiAgICAgICAgaW5wdXRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKFwiaW5wdXRfa2V5c1wiLCBrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgb3V0cHV0S2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcIm91dHB1dF9rZXlzXCIsIGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImRlc2NyaXB0aW9uXCIsIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YVR5cGUpIHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImRhdGFfdHlwZVwiLCBkYXRhVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcIm5hbWVcIiwgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCB1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5kZXRhaWwgJiYgcmVzdWx0LmRldGFpbC5pbmNsdWRlcyhcImFscmVhZHkgZXhpc3RzXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEYXRhc2V0ICR7ZmlsZU5hbWV9IGFscmVhZHkgZXhpc3RzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGxvYWQgQ1NWOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlRGF0YXNldChuYW1lLCB7IGRlc2NyaXB0aW9uLCBkYXRhVHlwZSwgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChkYXRhVHlwZSkge1xuICAgICAgICAgICAgYm9keS5kYXRhX3R5cGUgPSBkYXRhVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9kYXRhc2V0c2AsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLnRoaXMuaGVhZGVycywgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0LmRldGFpbCAmJiByZXN1bHQuZGV0YWlsLmluY2x1ZGVzKFwiYWxyZWFkeSBleGlzdHNcIikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERhdGFzZXQgJHtuYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIGRhdGFzZXQgJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIHJlYWREYXRhc2V0KHsgZGF0YXNldElkLCBkYXRhc2V0TmFtZSwgfSkge1xuICAgICAgICBsZXQgcGF0aCA9IFwiL2RhdGFzZXRzXCI7XG4gICAgICAgIC8vIGxpbWl0IHRvIDEgcmVzdWx0XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBsaW1pdDogXCIxXCIgfSk7XG4gICAgICAgIGlmIChkYXRhc2V0SWQgIT09IHVuZGVmaW5lZCAmJiBkYXRhc2V0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgZWl0aGVyIGRhdGFzZXROYW1lIG9yIGRhdGFzZXRJZCwgbm90IGJvdGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YXNldElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhdGggKz0gYC8ke2RhdGFzZXRJZH1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJuYW1lXCIsIGRhdGFzZXROYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBkYXRhc2V0TmFtZSBvciBkYXRhc2V0SWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9nZXQocGF0aCwgcGFyYW1zKTtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEYXRhc2V0W2lkPSR7ZGF0YXNldElkfSwgbmFtZT0ke2RhdGFzZXROYW1lfV0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSByZXNwb25zZVswXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIHJlYWREYXRhc2V0T3BlbmFpRmluZXR1bmluZyh7IGRhdGFzZXRJZCwgZGF0YXNldE5hbWUsIH0pIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IFwiL2RhdGFzZXRzXCI7XG4gICAgICAgIGlmIChkYXRhc2V0SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGFzZXRJZCA9IChhd2FpdCB0aGlzLnJlYWREYXRhc2V0KHsgZGF0YXNldE5hbWUgfSkpLmlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGRhdGFzZXROYW1lIG9yIGRhdGFzZXRJZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuX2dldFJlc3BvbnNlKGAke3BhdGh9LyR7ZGF0YXNldElkfS9vcGVuYWlfZnRgKTtcbiAgICAgICAgY29uc3QgZGF0YXNldFRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnN0IGRhdGFzZXQgPSBkYXRhc2V0VGV4dFxuICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgLnNwbGl0KFwiXFxuXCIpXG4gICAgICAgICAgICAubWFwKChsaW5lKSA9PiBKU09OLnBhcnNlKGxpbmUpKTtcbiAgICAgICAgcmV0dXJuIGRhdGFzZXQ7XG4gICAgfVxuICAgIGFzeW5jICpsaXN0RGF0YXNldHMoeyBsaW1pdCA9IDEwMCwgb2Zmc2V0ID0gMCwgZGF0YXNldElkcywgZGF0YXNldE5hbWUsIGRhdGFzZXROYW1lQ29udGFpbnMsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBwYXRoID0gXCIvZGF0YXNldHNcIjtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgICAgICBsaW1pdDogbGltaXQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0LnRvU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZGF0YXNldElkcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkXyBvZiBkYXRhc2V0SWRzKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmFwcGVuZChcImlkXCIsIGlkXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJuYW1lXCIsIGRhdGFzZXROYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YXNldE5hbWVDb250YWlucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwibmFtZV9jb250YWluc1wiLCBkYXRhc2V0TmFtZUNvbnRhaW5zKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGRhdGFzZXRzIG9mIHRoaXMuX2dldFBhZ2luYXRlZChwYXRoLCBwYXJhbXMpKSB7XG4gICAgICAgICAgICB5aWVsZCogZGF0YXNldHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlRGF0YXNldCh7IGRhdGFzZXRJZCwgZGF0YXNldE5hbWUsIH0pIHtcbiAgICAgICAgbGV0IHBhdGggPSBcIi9kYXRhc2V0c1wiO1xuICAgICAgICBsZXQgZGF0YXNldElkXyA9IGRhdGFzZXRJZDtcbiAgICAgICAgaWYgKGRhdGFzZXRJZCAhPT0gdW5kZWZpbmVkICYmIGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBlaXRoZXIgZGF0YXNldE5hbWUgb3IgZGF0YXNldElkLCBub3QgYm90aFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhc2V0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhc2V0ID0gYXdhaXQgdGhpcy5yZWFkRGF0YXNldCh7IGRhdGFzZXROYW1lIH0pO1xuICAgICAgICAgICAgZGF0YXNldElkXyA9IGRhdGFzZXQuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFzZXRJZF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGF0aCArPSBgLyR7ZGF0YXNldElkX31gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGRhdGFzZXROYW1lIG9yIGRhdGFzZXRJZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIHRoaXMuYXBpVXJsICsgcGF0aCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBkZWxldGUgJHtwYXRofTogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZUV4YW1wbGUoaW5wdXRzLCBvdXRwdXRzLCB7IGRhdGFzZXRJZCwgZGF0YXNldE5hbWUsIGNyZWF0ZWRBdCwgZXhhbXBsZUlkIH0pIHtcbiAgICAgICAgbGV0IGRhdGFzZXRJZF8gPSBkYXRhc2V0SWQ7XG4gICAgICAgIGlmIChkYXRhc2V0SWRfID09PSB1bmRlZmluZWQgJiYgZGF0YXNldE5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGVpdGhlciBkYXRhc2V0TmFtZSBvciBkYXRhc2V0SWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YXNldElkXyAhPT0gdW5kZWZpbmVkICYmIGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBlaXRoZXIgZGF0YXNldE5hbWUgb3IgZGF0YXNldElkLCBub3QgYm90aFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhc2V0SWRfID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFzZXQgPSBhd2FpdCB0aGlzLnJlYWREYXRhc2V0KHsgZGF0YXNldE5hbWUgfSk7XG4gICAgICAgICAgICBkYXRhc2V0SWRfID0gZGF0YXNldC5pZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjcmVhdGVkQXRfID0gY3JlYXRlZEF0IHx8IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBkYXRhc2V0X2lkOiBkYXRhc2V0SWRfLFxuICAgICAgICAgICAgaW5wdXRzLFxuICAgICAgICAgICAgb3V0cHV0cyxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IGNyZWF0ZWRBdF8udG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGlkOiBleGFtcGxlSWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L2V4YW1wbGVzYCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgLi4udGhpcy5oZWFkZXJzLCBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBleGFtcGxlOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlTExNRXhhbXBsZShpbnB1dCwgZ2VuZXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVFeGFtcGxlKHsgaW5wdXQgfSwgeyBvdXRwdXQ6IGdlbmVyYXRpb24gfSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZUNoYXRFeGFtcGxlKGlucHV0LCBnZW5lcmF0aW9ucywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBmaW5hbElucHV0ID0gaW5wdXQubWFwKChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNMYW5nQ2hhaW5NZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRMYW5nQ2hhaW5NZXNzYWdlVG9FeGFtcGxlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmaW5hbE91dHB1dCA9IGlzTGFuZ0NoYWluTWVzc2FnZShnZW5lcmF0aW9ucylcbiAgICAgICAgICAgID8gY29udmVydExhbmdDaGFpbk1lc3NhZ2VUb0V4YW1wbGUoZ2VuZXJhdGlvbnMpXG4gICAgICAgICAgICA6IGdlbmVyYXRpb25zO1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVFeGFtcGxlKHsgaW5wdXQ6IGZpbmFsSW5wdXQgfSwgeyBvdXRwdXQ6IGZpbmFsT3V0cHV0IH0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICBhc3luYyByZWFkRXhhbXBsZShleGFtcGxlSWQpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvZXhhbXBsZXMvJHtleGFtcGxlSWR9YDtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2dldChwYXRoKTtcbiAgICB9XG4gICAgYXN5bmMgKmxpc3RFeGFtcGxlcyh7IGRhdGFzZXRJZCwgZGF0YXNldE5hbWUsIGV4YW1wbGVJZHMsIH0gPSB7fSkge1xuICAgICAgICBsZXQgZGF0YXNldElkXztcbiAgICAgICAgaWYgKGRhdGFzZXRJZCAhPT0gdW5kZWZpbmVkICYmIGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBlaXRoZXIgZGF0YXNldE5hbWUgb3IgZGF0YXNldElkLCBub3QgYm90aFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhc2V0SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YXNldElkXyA9IGRhdGFzZXRJZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhc2V0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhc2V0ID0gYXdhaXQgdGhpcy5yZWFkRGF0YXNldCh7IGRhdGFzZXROYW1lIH0pO1xuICAgICAgICAgICAgZGF0YXNldElkXyA9IGRhdGFzZXQuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgYSBkYXRhc2V0TmFtZSBvciBkYXRhc2V0SWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7IGRhdGFzZXQ6IGRhdGFzZXRJZF8gfSk7XG4gICAgICAgIGlmIChleGFtcGxlSWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWRfIG9mIGV4YW1wbGVJZHMpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwiaWRcIiwgaWRfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV4YW1wbGVzIG9mIHRoaXMuX2dldFBhZ2luYXRlZChcIi9leGFtcGxlc1wiLCBwYXJhbXMpKSB7XG4gICAgICAgICAgICB5aWVsZCogZXhhbXBsZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlRXhhbXBsZShleGFtcGxlSWQpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvZXhhbXBsZXMvJHtleGFtcGxlSWR9YDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCB0aGlzLmFwaVVybCArIHBhdGgsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlICR7cGF0aH06ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVFeGFtcGxlKGV4YW1wbGVJZCwgdXBkYXRlKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L2V4YW1wbGVzLyR7ZXhhbXBsZUlkfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi50aGlzLmhlYWRlcnMsIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1cGRhdGUpLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgZXhhbXBsZSAke2V4YW1wbGVJZH06ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBhc3luYyBldmFsdWF0ZVJ1bihydW4sIGV2YWx1YXRvciwgeyBzb3VyY2VJbmZvLCBsb2FkQ2hpbGRSdW5zLCB9ID0geyBsb2FkQ2hpbGRSdW5zOiBmYWxzZSB9KSB7XG4gICAgICAgIGxldCBydW5fO1xuICAgICAgICBpZiAodHlwZW9mIHJ1biA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcnVuXyA9IGF3YWl0IHRoaXMucmVhZFJ1bihydW4sIHsgbG9hZENoaWxkUnVucyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgcnVuID09PSBcIm9iamVjdFwiICYmIFwiaWRcIiBpbiBydW4pIHtcbiAgICAgICAgICAgIHJ1bl8gPSBydW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcnVuIHR5cGU6ICR7dHlwZW9mIHJ1bn1gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVmZXJlbmNlRXhhbXBsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHJ1bl8ucmVmZXJlbmNlX2V4YW1wbGVfaWQgIT09IG51bGwgJiZcbiAgICAgICAgICAgIHJ1bl8ucmVmZXJlbmNlX2V4YW1wbGVfaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVmZXJlbmNlRXhhbXBsZSA9IGF3YWl0IHRoaXMucmVhZEV4YW1wbGUocnVuXy5yZWZlcmVuY2VfZXhhbXBsZV9pZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmVlZGJhY2tSZXN1bHQgPSBhd2FpdCBldmFsdWF0b3IuZXZhbHVhdGVSdW4ocnVuXywgcmVmZXJlbmNlRXhhbXBsZSk7XG4gICAgICAgIGxldCBzb3VyY2VJbmZvXyA9IHNvdXJjZUluZm8gPz8ge307XG4gICAgICAgIGlmIChmZWVkYmFja1Jlc3VsdC5ldmFsdWF0b3JJbmZvKSB7XG4gICAgICAgICAgICBzb3VyY2VJbmZvXyA9IHsgLi4uc291cmNlSW5mb18sIC4uLmZlZWRiYWNrUmVzdWx0LmV2YWx1YXRvckluZm8gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jcmVhdGVGZWVkYmFjayhydW5fLmlkLCBmZWVkYmFja1Jlc3VsdC5rZXksIHtcbiAgICAgICAgICAgIHNjb3JlOiBmZWVkYmFja1Jlc3VsdC5zY29yZSxcbiAgICAgICAgICAgIHZhbHVlOiBmZWVkYmFja1Jlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgIGNvbW1lbnQ6IGZlZWRiYWNrUmVzdWx0LmNvbW1lbnQsXG4gICAgICAgICAgICBjb3JyZWN0aW9uOiBmZWVkYmFja1Jlc3VsdC5jb3JyZWN0aW9uLFxuICAgICAgICAgICAgc291cmNlSW5mbzogc291cmNlSW5mb18sXG4gICAgICAgICAgICBmZWVkYmFja1NvdXJjZVR5cGU6IFwibW9kZWxcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZUZlZWRiYWNrKHJ1bklkLCBrZXksIHsgc2NvcmUsIHZhbHVlLCBjb3JyZWN0aW9uLCBjb21tZW50LCBzb3VyY2VJbmZvLCBmZWVkYmFja1NvdXJjZVR5cGUgPSBcImFwaVwiLCBzb3VyY2VSdW5JZCwgZmVlZGJhY2tJZCwgZWFnZXIgPSBmYWxzZSwgfSkge1xuICAgICAgICBjb25zdCBmZWVkYmFja19zb3VyY2UgPSB7XG4gICAgICAgICAgICB0eXBlOiBmZWVkYmFja1NvdXJjZVR5cGUgPz8gXCJhcGlcIixcbiAgICAgICAgICAgIG1ldGFkYXRhOiBzb3VyY2VJbmZvID8/IHt9LFxuICAgICAgICB9O1xuICAgICAgICBpZiAoc291cmNlUnVuSWQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgZmVlZGJhY2tfc291cmNlPy5tZXRhZGF0YSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAhZmVlZGJhY2tfc291cmNlLm1ldGFkYXRhW1wiX19ydW5cIl0pIHtcbiAgICAgICAgICAgIGZlZWRiYWNrX3NvdXJjZS5tZXRhZGF0YVtcIl9fcnVuXCJdID0geyBydW5faWQ6IHNvdXJjZVJ1bklkIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmVlZGJhY2sgPSB7XG4gICAgICAgICAgICBpZDogZmVlZGJhY2tJZCA/PyB1dWlkLnY0KCksXG4gICAgICAgICAgICBydW5faWQ6IHJ1bklkLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgc2NvcmUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNvcnJlY3Rpb24sXG4gICAgICAgICAgICBjb21tZW50LFxuICAgICAgICAgICAgZmVlZGJhY2tfc291cmNlOiBmZWVkYmFja19zb3VyY2UsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYXBpVXJsfS9mZWVkYmFja2AgKyAoZWFnZXIgPyBcIi9lYWdlclwiIDogXCJcIik7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgdXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi50aGlzLmhlYWRlcnMsIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShmZWVkYmFjayksXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHJhaXNlRm9yU3RhdHVzKHJlc3BvbnNlLCBcImNyZWF0ZSBmZWVkYmFja1wiKTtcbiAgICAgICAgcmV0dXJuIGZlZWRiYWNrO1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVGZWVkYmFjayhmZWVkYmFja0lkLCB7IHNjb3JlLCB2YWx1ZSwgY29ycmVjdGlvbiwgY29tbWVudCwgfSkge1xuICAgICAgICBjb25zdCBmZWVkYmFja1VwZGF0ZSA9IHt9O1xuICAgICAgICBpZiAoc2NvcmUgIT09IHVuZGVmaW5lZCAmJiBzY29yZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZmVlZGJhY2tVcGRhdGVbXCJzY29yZVwiXSA9IHNjb3JlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmZWVkYmFja1VwZGF0ZVtcInZhbHVlXCJdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvcnJlY3Rpb24gIT09IHVuZGVmaW5lZCAmJiBjb3JyZWN0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmZWVkYmFja1VwZGF0ZVtcImNvcnJlY3Rpb25cIl0gPSBjb3JyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21tZW50ICE9PSB1bmRlZmluZWQgJiYgY29tbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZmVlZGJhY2tVcGRhdGVbXCJjb21tZW50XCJdID0gY29tbWVudDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9mZWVkYmFjay8ke2ZlZWRiYWNrSWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLnRoaXMuaGVhZGVycywgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGZlZWRiYWNrVXBkYXRlKSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgcmFpc2VGb3JTdGF0dXMocmVzcG9uc2UsIFwidXBkYXRlIGZlZWRiYWNrXCIpO1xuICAgIH1cbiAgICBhc3luYyByZWFkRmVlZGJhY2soZmVlZGJhY2tJZCkge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9mZWVkYmFjay8ke2ZlZWRiYWNrSWR9YDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9nZXQocGF0aCk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlRmVlZGJhY2soZmVlZGJhY2tJZCkge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9mZWVkYmFjay8ke2ZlZWRiYWNrSWR9YDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCB0aGlzLmFwaVVybCArIHBhdGgsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlICR7cGF0aH06ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICBhc3luYyAqbGlzdEZlZWRiYWNrKHsgcnVuSWRzLCBmZWVkYmFja0tleXMsIGZlZWRiYWNrU291cmNlVHlwZXMsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgaWYgKHJ1bklkcykge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwicnVuXCIsIHJ1bklkcy5qb2luKFwiLFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZlZWRiYWNrS2V5cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZmVlZGJhY2tLZXlzKSB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwia2V5XCIsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZlZWRiYWNrU291cmNlVHlwZXMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBmZWVkYmFja1NvdXJjZVR5cGVzKSB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwic291cmNlXCIsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZmVlZGJhY2tzIG9mIHRoaXMuX2dldFBhZ2luYXRlZChcIi9mZWVkYmFja1wiLCBxdWVyeVBhcmFtcykpIHtcbiAgICAgICAgICAgIHlpZWxkKiBmZWVkYmFja3M7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgaXNCcm93c2VyID0gKCkgPT4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuZXhwb3J0IGNvbnN0IGlzV2ViV29ya2VyID0gKCkgPT4gdHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIgJiZcbiAgICBnbG9iYWxUaGlzLmNvbnN0cnVjdG9yICYmXG4gICAgZ2xvYmFsVGhpcy5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIkRlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlXCI7XG5leHBvcnQgY29uc3QgaXNKc0RvbSA9ICgpID0+ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5uYW1lID09PSBcIm5vZGVqc1wiKSB8fFxuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIChuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwiTm9kZS5qc1wiKSB8fFxuICAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcyhcImpzZG9tXCIpKSk7XG4vLyBTdXBhYmFzZSBFZGdlIEZ1bmN0aW9uIHByb3ZpZGVzIGEgYERlbm9gIGdsb2JhbCBvYmplY3Rcbi8vIHdpdGhvdXQgYHZlcnNpb25gIHByb3BlcnR5XG5leHBvcnQgY29uc3QgaXNEZW5vID0gKCkgPT4gdHlwZW9mIERlbm8gIT09IFwidW5kZWZpbmVkXCI7XG4vLyBNYXJrIG5vdC1hcy1ub2RlIGlmIGluIFN1cGFiYXNlIEVkZ2UgRnVuY3Rpb25cbmV4cG9ydCBjb25zdCBpc05vZGUgPSAoKSA9PiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICFpc0Rlbm8oKTtcbmV4cG9ydCBjb25zdCBnZXRFbnYgPSAoKSA9PiB7XG4gICAgbGV0IGVudjtcbiAgICBpZiAoaXNCcm93c2VyKCkpIHtcbiAgICAgICAgZW52ID0gXCJicm93c2VyXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTm9kZSgpKSB7XG4gICAgICAgIGVudiA9IFwibm9kZVwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1dlYldvcmtlcigpKSB7XG4gICAgICAgIGVudiA9IFwid2Vid29ya2VyXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzSnNEb20oKSkge1xuICAgICAgICBlbnYgPSBcImpzZG9tXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRGVubygpKSB7XG4gICAgICAgIGVudiA9IFwiZGVub1wiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZW52ID0gXCJvdGhlclwiO1xuICAgIH1cbiAgICByZXR1cm4gZW52O1xufTtcbmxldCBydW50aW1lRW52aXJvbm1lbnQ7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UnVudGltZUVudmlyb25tZW50KCkge1xuICAgIGlmIChydW50aW1lRW52aXJvbm1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbnYgPSBnZXRFbnYoKTtcbiAgICAgICAgcnVudGltZUVudmlyb25tZW50ID0ge1xuICAgICAgICAgICAgbGlicmFyeTogXCJsYW5nY2hhaW4tanNcIixcbiAgICAgICAgICAgIHJ1bnRpbWU6IGVudixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bnRpbWVFbnZpcm9ubWVudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKG5hbWUpIHtcbiAgICAvLyBDZXJ0YWluIERlbm8gc2V0dXBzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgeW91IHRyeSB0byBhY2Nlc3MgZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2xhbmdjaGFpbi1haS9sYW5nY2hhaW5qcy9pc3N1ZXMvMTQxMlxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudj8uW25hbWVdXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDbGllbnQgfSBmcm9tIFwibGFuZ3NtaXRoXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlLCBnZXRSdW50aW1lRW52aXJvbm1lbnQsIH0gZnJvbSBcIi4uLy4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4vdHJhY2VyLmpzXCI7XG5leHBvcnQgY2xhc3MgTGFuZ0NoYWluVHJhY2VyIGV4dGVuZHMgQmFzZVRyYWNlciB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzID0ge30pIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJsYW5nY2hhaW5fdHJhY2VyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb2plY3ROYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV4YW1wbGVJZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyBleGFtcGxlSWQsIHByb2plY3ROYW1lLCBjbGllbnQgfSA9IGZpZWxkcztcbiAgICAgICAgdGhpcy5wcm9qZWN0TmFtZSA9XG4gICAgICAgICAgICBwcm9qZWN0TmFtZSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fUFJPSkVDVFwiKSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fU0VTU0lPTlwiKTtcbiAgICAgICAgdGhpcy5leGFtcGxlSWQgPSBleGFtcGxlSWQ7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50ID8/IG5ldyBDbGllbnQoe30pO1xuICAgIH1cbiAgICBhc3luYyBfY29udmVydFRvQ3JlYXRlKHJ1biwgZXhhbXBsZV9pZCA9IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucnVuLFxuICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICAuLi5ydW4uZXh0cmEsXG4gICAgICAgICAgICAgICAgcnVudGltZTogYXdhaXQgZ2V0UnVudGltZUVudmlyb25tZW50KCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hpbGRfcnVuczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2Vzc2lvbl9uYW1lOiB0aGlzLnByb2plY3ROYW1lLFxuICAgICAgICAgICAgcmVmZXJlbmNlX2V4YW1wbGVfaWQ6IHJ1bi5wYXJlbnRfcnVuX2lkID8gdW5kZWZpbmVkIDogZXhhbXBsZV9pZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgcGVyc2lzdFJ1bihfcnVuKSB7IH1cbiAgICBhc3luYyBfcGVyc2lzdFJ1blNpbmdsZShydW4pIHtcbiAgICAgICAgY29uc3QgcGVyc2lzdGVkUnVuID0gYXdhaXQgdGhpcy5fY29udmVydFRvQ3JlYXRlKHJ1biwgdGhpcy5leGFtcGxlSWQpO1xuICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC5jcmVhdGVSdW4ocGVyc2lzdGVkUnVuKTtcbiAgICB9XG4gICAgYXN5bmMgX3VwZGF0ZVJ1blNpbmdsZShydW4pIHtcbiAgICAgICAgY29uc3QgcnVuVXBkYXRlID0ge1xuICAgICAgICAgICAgZW5kX3RpbWU6IHJ1bi5lbmRfdGltZSxcbiAgICAgICAgICAgIGVycm9yOiBydW4uZXJyb3IsXG4gICAgICAgICAgICBvdXRwdXRzOiBydW4ub3V0cHV0cyxcbiAgICAgICAgICAgIGV2ZW50czogcnVuLmV2ZW50cyxcbiAgICAgICAgICAgIGlucHV0czogcnVuLmlucHV0cyxcbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQudXBkYXRlUnVuKHJ1bi5pZCwgcnVuVXBkYXRlKTtcbiAgICB9XG4gICAgYXN5bmMgb25SZXRyaWV2ZXJTdGFydChydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fcGVyc2lzdFJ1blNpbmdsZShydW4pO1xuICAgIH1cbiAgICBhc3luYyBvblJldHJpZXZlckVuZChydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlUnVuU2luZ2xlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIG9uUmV0cmlldmVyRXJyb3IocnVuKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZVJ1blNpbmdsZShydW4pO1xuICAgIH1cbiAgICBhc3luYyBvbkxMTVN0YXJ0KHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl9wZXJzaXN0UnVuU2luZ2xlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIG9uTExNRW5kKHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25MTE1FcnJvcihydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlUnVuU2luZ2xlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIG9uQ2hhaW5TdGFydChydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fcGVyc2lzdFJ1blNpbmdsZShydW4pO1xuICAgIH1cbiAgICBhc3luYyBvbkNoYWluRW5kKHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25DaGFpbkVycm9yKHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25Ub29sU3RhcnQocnVuKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3BlcnNpc3RSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25Ub29sRW5kKHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25Ub29sRXJyb3IocnVuKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZVJ1blNpbmdsZShydW4pO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQWJzdHJhY3QgYmFzZSBjbGFzcyBmb3IgbWVtb3J5IGluIExhbmdDaGFpbidzIENoYWlucy4gTWVtb3J5IHJlZmVycyB0b1xuICogdGhlIHN0YXRlIGluIENoYWlucy4gSXQgY2FuIGJlIHVzZWQgdG8gc3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgcGFzdFxuICogZXhlY3V0aW9ucyBvZiBhIENoYWluIGFuZCBpbmplY3QgdGhhdCBpbmZvcm1hdGlvbiBpbnRvIHRoZSBpbnB1dHMgb2ZcbiAqIGZ1dHVyZSBleGVjdXRpb25zIG9mIHRoZSBDaGFpbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VNZW1vcnkge1xufVxuY29uc3QgZ2V0VmFsdWUgPSAodmFsdWVzLCBrZXkpID0+IHtcbiAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1trZXldO1xuICAgIH1cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmFsdWVzKTtcbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1trZXlzWzBdXTtcbiAgICB9XG59O1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYnkgbWVtb3J5IGNsYXNzZXMgdG8gc2VsZWN0IHRoZSBpbnB1dCB2YWx1ZVxuICogdG8gdXNlIGZvciB0aGUgbWVtb3J5LiBJZiB0aGVyZSBpcyBvbmx5IG9uZSBpbnB1dCB2YWx1ZSwgaXQgaXMgdXNlZC5cbiAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBpbnB1dCB2YWx1ZXMsIHRoZSBpbnB1dEtleSBtdXN0IGJlIHNwZWNpZmllZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldElucHV0VmFsdWUgPSAoaW5wdXRWYWx1ZXMsIGlucHV0S2V5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBnZXRWYWx1ZShpbnB1dFZhbHVlcywgaW5wdXRLZXkpO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGlucHV0VmFsdWVzKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnB1dCB2YWx1ZXMgaGF2ZSAke2tleXMubGVuZ3RofSBrZXlzLCB5b3UgbXVzdCBzcGVjaWZ5IGFuIGlucHV0IGtleSBvciBwYXNzIG9ubHkgMSBrZXkgYXMgaW5wdXRgKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGJ5IG1lbW9yeSBjbGFzc2VzIHRvIHNlbGVjdCB0aGUgb3V0cHV0IHZhbHVlXG4gKiB0byB1c2UgZm9yIHRoZSBtZW1vcnkuIElmIHRoZXJlIGlzIG9ubHkgb25lIG91dHB1dCB2YWx1ZSwgaXQgaXMgdXNlZC5cbiAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBvdXRwdXQgdmFsdWVzLCB0aGUgb3V0cHV0S2V5IG11c3QgYmUgc3BlY2lmaWVkLlxuICogSWYgbm8gb3V0cHV0S2V5IGlzIHNwZWNpZmllZCwgYW4gZXJyb3IgaXMgdGhyb3duLlxuICovXG5leHBvcnQgY29uc3QgZ2V0T3V0cHV0VmFsdWUgPSAob3V0cHV0VmFsdWVzLCBvdXRwdXRLZXkpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGdldFZhbHVlKG91dHB1dFZhbHVlcywgb3V0cHV0S2V5KTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvdXRwdXRWYWx1ZXMpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG91dHB1dCB2YWx1ZXMgaGF2ZSAke2tleXMubGVuZ3RofSBrZXlzLCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dCBrZXkgb3IgcGFzcyBvbmx5IDEga2V5IGFzIG91dHB1dGApO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYnkgbWVtb3J5IGNsYXNzZXMgdG8gZ2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gKiBvZiB0aGUgY2hhdCBtZXNzYWdlIGhpc3RvcnksIGJhc2VkIG9uIHRoZSBtZXNzYWdlIGNvbnRlbnQgYW5kIHJvbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCdWZmZXJTdHJpbmcobWVzc2FnZXMsIGh1bWFuUHJlZml4ID0gXCJIdW1hblwiLCBhaVByZWZpeCA9IFwiQUlcIikge1xuICAgIGNvbnN0IHN0cmluZ19tZXNzYWdlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgbSBvZiBtZXNzYWdlcykge1xuICAgICAgICBsZXQgcm9sZTtcbiAgICAgICAgaWYgKG0uX2dldFR5cGUoKSA9PT0gXCJodW1hblwiKSB7XG4gICAgICAgICAgICByb2xlID0gaHVtYW5QcmVmaXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobS5fZ2V0VHlwZSgpID09PSBcImFpXCIpIHtcbiAgICAgICAgICAgIHJvbGUgPSBhaVByZWZpeDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtLl9nZXRUeXBlKCkgPT09IFwic3lzdGVtXCIpIHtcbiAgICAgICAgICAgIHJvbGUgPSBcIlN5c3RlbVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG0uX2dldFR5cGUoKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByb2xlID0gXCJGdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG0uX2dldFR5cGUoKSA9PT0gXCJnZW5lcmljXCIpIHtcbiAgICAgICAgICAgIHJvbGUgPSBtLnJvbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEdvdCB1bnN1cHBvcnRlZCBtZXNzYWdlIHR5cGU6ICR7bX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYW1lU3RyID0gbS5uYW1lID8gYCR7bS5uYW1lfSwgYCA6IFwiXCI7XG4gICAgICAgIHN0cmluZ19tZXNzYWdlcy5wdXNoKGAke3JvbGV9OiAke25hbWVTdHJ9JHttLmNvbnRlbnR9YCk7XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmdfbWVzc2FnZXMuam9pbihcIlxcblwiKTtcbn1cbi8qKlxuICogRnVuY3Rpb24gdXNlZCBieSBtZW1vcnkgY2xhc3NlcyB0byBnZXQgdGhlIGtleSBvZiB0aGUgcHJvbXB0IGlucHV0LFxuICogZXhjbHVkaW5nIGFueSBrZXlzIHRoYXQgYXJlIG1lbW9yeSB2YXJpYWJsZXMgb3IgdGhlIFwic3RvcFwiIGtleS4gSWZcbiAqIHRoZXJlIGlzIG5vdCBleGFjdGx5IG9uZSBwcm9tcHQgaW5wdXQga2V5LCBhbiBlcnJvciBpcyB0aHJvd24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9tcHRJbnB1dEtleShpbnB1dHMsIG1lbW9yeVZhcmlhYmxlcykge1xuICAgIGNvbnN0IHByb21wdElucHV0S2V5cyA9IE9iamVjdC5rZXlzKGlucHV0cykuZmlsdGVyKChrZXkpID0+ICFtZW1vcnlWYXJpYWJsZXMuaW5jbHVkZXMoa2V5KSAmJiBrZXkgIT09IFwic3RvcFwiKTtcbiAgICBpZiAocHJvbXB0SW5wdXRLZXlzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE9uZSBpbnB1dCBrZXkgZXhwZWN0ZWQsIGJ1dCBnb3QgJHtwcm9tcHRJbnB1dEtleXMubGVuZ3RofWApO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbXB0SW5wdXRLZXlzWzBdO1xufVxuIiwiaW1wb3J0IHsgZ2V0QnVmZmVyU3RyaW5nIH0gZnJvbSBcIi4uLy4uL21lbW9yeS9iYXNlLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uLy4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4vdHJhY2VyLmpzXCI7XG5leHBvcnQgY2xhc3MgTGFuZ0NoYWluVHJhY2VyVjEgZXh0ZW5kcyBCYXNlVHJhY2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJsYW5nY2hhaW5fdHJhY2VyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVuZHBvaW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX0VORFBPSU5UXCIpIHx8IFwiaHR0cDovL2xvY2FsaG9zdDoxOTg0XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhlYWRlcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlc3Npb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYXBpS2V5ID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9BUElfS0VZXCIpO1xuICAgICAgICBpZiAoYXBpS2V5KSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbXCJ4LWFwaS1rZXlcIl0gPSBhcGlLZXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgbmV3U2Vzc2lvbihzZXNzaW9uTmFtZSkge1xuICAgICAgICBjb25zdCBzZXNzaW9uQ3JlYXRlID0ge1xuICAgICAgICAgICAgc3RhcnRfdGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIG5hbWU6IHNlc3Npb25OYW1lLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5wZXJzaXN0U2Vzc2lvbihzZXNzaW9uQ3JlYXRlKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfVxuICAgIGFzeW5jIGxvYWRTZXNzaW9uKHNlc3Npb25OYW1lKSB7XG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7dGhpcy5lbmRwb2ludH0vc2Vzc2lvbnM/bmFtZT0ke3Nlc3Npb25OYW1lfWA7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVTZXNzaW9uUmVzcG9uc2UoZW5kcG9pbnQpO1xuICAgIH1cbiAgICBhc3luYyBsb2FkRGVmYXVsdFNlc3Npb24oKSB7XG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7dGhpcy5lbmRwb2ludH0vc2Vzc2lvbnM/bmFtZT1kZWZhdWx0YDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVNlc3Npb25SZXNwb25zZShlbmRwb2ludCk7XG4gICAgfVxuICAgIGFzeW5jIGNvbnZlcnRWMlJ1blRvUnVuKHJ1bikge1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gdGhpcy5zZXNzaW9uID8/IChhd2FpdCB0aGlzLmxvYWREZWZhdWx0U2Vzc2lvbigpKTtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IHJ1bi5zZXJpYWxpemVkO1xuICAgICAgICBsZXQgcnVuUmVzdWx0O1xuICAgICAgICBpZiAocnVuLnJ1bl90eXBlID09PSBcImxsbVwiKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9tcHRzID0gcnVuLmlucHV0cy5wcm9tcHRzXG4gICAgICAgICAgICAgICAgPyBydW4uaW5wdXRzLnByb21wdHNcbiAgICAgICAgICAgICAgICA6IHJ1bi5pbnB1dHMubWVzc2FnZXMubWFwKCh4KSA9PiBnZXRCdWZmZXJTdHJpbmcoeCkpO1xuICAgICAgICAgICAgY29uc3QgbGxtUnVuID0ge1xuICAgICAgICAgICAgICAgIHV1aWQ6IHJ1bi5pZCxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lOiBydW4uc3RhcnRfdGltZSxcbiAgICAgICAgICAgICAgICBlbmRfdGltZTogcnVuLmVuZF90aW1lLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGlvbl9vcmRlcjogcnVuLmV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IHJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICAgICAgc2VyaWFsaXplZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBydW4ucnVuX3R5cGUsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICBwcm9tcHRzLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBydW4ub3V0cHV0cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBydW5SZXN1bHQgPSBsbG1SdW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocnVuLnJ1bl90eXBlID09PSBcImNoYWluXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkX3J1bnMgPSBhd2FpdCBQcm9taXNlLmFsbChydW4uY2hpbGRfcnVucy5tYXAoKGNoaWxkX3J1bikgPT4gdGhpcy5jb252ZXJ0VjJSdW5Ub1J1bihjaGlsZF9ydW4pKSk7XG4gICAgICAgICAgICBjb25zdCBjaGFpblJ1biA9IHtcbiAgICAgICAgICAgICAgICB1dWlkOiBydW4uaWQsXG4gICAgICAgICAgICAgICAgc3RhcnRfdGltZTogcnVuLnN0YXJ0X3RpbWUsXG4gICAgICAgICAgICAgICAgZW5kX3RpbWU6IHJ1bi5lbmRfdGltZSxcbiAgICAgICAgICAgICAgICBleGVjdXRpb25fb3JkZXI6IHJ1bi5leGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICAgICAgY2hpbGRfZXhlY3V0aW9uX29yZGVyOiBydW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgICAgIHNlcmlhbGl6ZWQsXG4gICAgICAgICAgICAgICAgdHlwZTogcnVuLnJ1bl90eXBlLFxuICAgICAgICAgICAgICAgIHNlc3Npb25faWQ6IHNlc3Npb24uaWQsXG4gICAgICAgICAgICAgICAgaW5wdXRzOiBydW4uaW5wdXRzLFxuICAgICAgICAgICAgICAgIG91dHB1dHM6IHJ1bi5vdXRwdXRzLFxuICAgICAgICAgICAgICAgIGNoaWxkX2xsbV9ydW5zOiBjaGlsZF9ydW5zLmZpbHRlcigoY2hpbGRfcnVuKSA9PiBjaGlsZF9ydW4udHlwZSA9PT0gXCJsbG1cIiksXG4gICAgICAgICAgICAgICAgY2hpbGRfY2hhaW5fcnVuczogY2hpbGRfcnVucy5maWx0ZXIoKGNoaWxkX3J1bikgPT4gY2hpbGRfcnVuLnR5cGUgPT09IFwiY2hhaW5cIiksXG4gICAgICAgICAgICAgICAgY2hpbGRfdG9vbF9ydW5zOiBjaGlsZF9ydW5zLmZpbHRlcigoY2hpbGRfcnVuKSA9PiBjaGlsZF9ydW4udHlwZSA9PT0gXCJ0b29sXCIpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJ1blJlc3VsdCA9IGNoYWluUnVuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJ1bi5ydW5fdHlwZSA9PT0gXCJ0b29sXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkX3J1bnMgPSBhd2FpdCBQcm9taXNlLmFsbChydW4uY2hpbGRfcnVucy5tYXAoKGNoaWxkX3J1bikgPT4gdGhpcy5jb252ZXJ0VjJSdW5Ub1J1bihjaGlsZF9ydW4pKSk7XG4gICAgICAgICAgICBjb25zdCB0b29sUnVuID0ge1xuICAgICAgICAgICAgICAgIHV1aWQ6IHJ1bi5pZCxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lOiBydW4uc3RhcnRfdGltZSxcbiAgICAgICAgICAgICAgICBlbmRfdGltZTogcnVuLmVuZF90aW1lLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGlvbl9vcmRlcjogcnVuLmV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IHJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICAgICAgc2VyaWFsaXplZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBydW4ucnVuX3R5cGUsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICB0b29sX2lucHV0OiBydW4uaW5wdXRzLmlucHV0LFxuICAgICAgICAgICAgICAgIG91dHB1dDogcnVuLm91dHB1dHM/Lm91dHB1dCxcbiAgICAgICAgICAgICAgICBhY3Rpb246IEpTT04uc3RyaW5naWZ5KHNlcmlhbGl6ZWQpLFxuICAgICAgICAgICAgICAgIGNoaWxkX2xsbV9ydW5zOiBjaGlsZF9ydW5zLmZpbHRlcigoY2hpbGRfcnVuKSA9PiBjaGlsZF9ydW4udHlwZSA9PT0gXCJsbG1cIiksXG4gICAgICAgICAgICAgICAgY2hpbGRfY2hhaW5fcnVuczogY2hpbGRfcnVucy5maWx0ZXIoKGNoaWxkX3J1bikgPT4gY2hpbGRfcnVuLnR5cGUgPT09IFwiY2hhaW5cIiksXG4gICAgICAgICAgICAgICAgY2hpbGRfdG9vbF9ydW5zOiBjaGlsZF9ydW5zLmZpbHRlcigoY2hpbGRfcnVuKSA9PiBjaGlsZF9ydW4udHlwZSA9PT0gXCJ0b29sXCIpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJ1blJlc3VsdCA9IHRvb2xSdW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcnVuIHR5cGU6ICR7cnVuLnJ1bl90eXBlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydW5SZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIHBlcnNpc3RSdW4ocnVuKSB7XG4gICAgICAgIGxldCBlbmRwb2ludDtcbiAgICAgICAgbGV0IHYxUnVuO1xuICAgICAgICBpZiAocnVuLnJ1bl90eXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHYxUnVuID0gYXdhaXQgdGhpcy5jb252ZXJ0VjJSdW5Ub1J1bihydW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdjFSdW4gPSBydW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHYxUnVuLnR5cGUgPT09IFwibGxtXCIpIHtcbiAgICAgICAgICAgIGVuZHBvaW50ID0gYCR7dGhpcy5lbmRwb2ludH0vbGxtLXJ1bnNgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHYxUnVuLnR5cGUgPT09IFwiY2hhaW5cIikge1xuICAgICAgICAgICAgZW5kcG9pbnQgPSBgJHt0aGlzLmVuZHBvaW50fS9jaGFpbi1ydW5zYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVuZHBvaW50ID0gYCR7dGhpcy5lbmRwb2ludH0vdG9vbC1ydW5zYDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGVuZHBvaW50LCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodjFSdW4pLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHBlcnNpc3QgcnVuOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHBlcnNpc3RTZXNzaW9uKHNlc3Npb25DcmVhdGUpIHtcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLmVuZHBvaW50fS9zZXNzaW9uc2A7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZW5kcG9pbnQsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShzZXNzaW9uQ3JlYXRlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBwZXJzaXN0IHNlc3Npb246ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9LCB1c2luZyBkZWZhdWx0IHNlc3Npb24uYCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgICAgICAgIC4uLnNlc3Npb25DcmVhdGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkuaWQsXG4gICAgICAgICAgICAuLi5zZXNzaW9uQ3JlYXRlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBfaGFuZGxlU2Vzc2lvblJlc3BvbnNlKGVuZHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZW5kcG9pbnQsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCB0cmFjZXJTZXNzaW9uO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gbG9hZCBzZXNzaW9uOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgdHJhY2VyU2Vzc2lvbiA9IHtcbiAgICAgICAgICAgICAgICBpZDogMSxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IHRyYWNlclNlc3Npb247XG4gICAgICAgICAgICByZXR1cm4gdHJhY2VyU2Vzc2lvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgIGlmIChyZXNwLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdHJhY2VyU2Vzc2lvbiA9IHtcbiAgICAgICAgICAgICAgICBpZDogMSxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IHRyYWNlclNlc3Npb247XG4gICAgICAgICAgICByZXR1cm4gdHJhY2VyU2Vzc2lvbjtcbiAgICAgICAgfVxuICAgICAgICBbdHJhY2VyU2Vzc2lvbl0gPSByZXNwO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSB0cmFjZXJTZXNzaW9uO1xuICAgICAgICByZXR1cm4gdHJhY2VyU2Vzc2lvbjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBMYW5nQ2hhaW5UcmFjZXIgfSBmcm9tIFwiLi90cmFjZXJfbGFuZ2NoYWluLmpzXCI7XG5pbXBvcnQgeyBMYW5nQ2hhaW5UcmFjZXJWMSB9IGZyb20gXCIuL3RyYWNlcl9sYW5nY2hhaW5fdjEuanNcIjtcbi8qKlxuICogRnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGluc3RhbmNlIG9mIGBMYW5nQ2hhaW5UcmFjZXJWMWAuIElmIGEgc2Vzc2lvblxuICogaXMgcHJvdmlkZWQsIGl0IGxvYWRzIHRoYXQgc2Vzc2lvbiBpbnRvIHRoZSB0cmFjZXI7IG90aGVyd2lzZSwgaXQgbG9hZHNcbiAqIGEgZGVmYXVsdCBzZXNzaW9uLlxuICogQHBhcmFtIHNlc3Npb24gT3B0aW9uYWwgc2Vzc2lvbiB0byBsb2FkIGludG8gdGhlIHRyYWNlci5cbiAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIGBMYW5nQ2hhaW5UcmFjZXJWMWAuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUcmFjaW5nQ2FsbGJhY2tIYW5kbGVyKHNlc3Npb24pIHtcbiAgICBjb25zdCB0cmFjZXIgPSBuZXcgTGFuZ0NoYWluVHJhY2VyVjEoKTtcbiAgICBpZiAoc2Vzc2lvbikge1xuICAgICAgICBhd2FpdCB0cmFjZXIubG9hZFNlc3Npb24oc2Vzc2lvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhd2FpdCB0cmFjZXIubG9hZERlZmF1bHRTZXNzaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiB0cmFjZXI7XG59XG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBpbnN0YW5jZSBvZiBgTGFuZ0NoYWluVHJhY2VyYC4gSXQgZG9lcyBub3RcbiAqIGxvYWQgYW55IHNlc3Npb24gZGF0YS5cbiAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIGBMYW5nQ2hhaW5UcmFjZXJgLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VHJhY2luZ1YyQ2FsbGJhY2tIYW5kbGVyKCkge1xuICAgIHJldHVybiBuZXcgTGFuZ0NoYWluVHJhY2VyKCk7XG59XG4iLCJpbXBvcnQgUFF1ZXVlTW9kIGZyb20gXCJwLXF1ZXVlXCI7XG5sZXQgcXVldWU7XG4vKipcbiAqIENyZWF0ZXMgYSBxdWV1ZSB1c2luZyB0aGUgcC1xdWV1ZSBsaWJyYXJ5LiBUaGUgcXVldWUgaXMgY29uZmlndXJlZCB0b1xuICogYXV0by1zdGFydCBhbmQgaGFzIGEgY29uY3VycmVuY3kgb2YgMSwgbWVhbmluZyBpdCB3aWxsIHByb2Nlc3MgdGFza3NcbiAqIG9uZSBhdCBhIHRpbWUuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVF1ZXVlKCkge1xuICAgIGNvbnN0IFBRdWV1ZSA9IFwiZGVmYXVsdFwiIGluIFBRdWV1ZU1vZCA/IFBRdWV1ZU1vZC5kZWZhdWx0IDogUFF1ZXVlTW9kO1xuICAgIHJldHVybiBuZXcgUFF1ZXVlKHtcbiAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgICBjb25jdXJyZW5jeTogMSxcbiAgICB9KTtcbn1cbi8qKlxuICogQ29uc3VtZSBhIHByb21pc2UsIGVpdGhlciBhZGRpbmcgaXQgdG8gdGhlIHF1ZXVlIG9yIHdhaXRpbmcgZm9yIGl0IHRvIHJlc29sdmVcbiAqIEBwYXJhbSBwcm9taXNlIFByb21pc2UgdG8gY29uc3VtZVxuICogQHBhcmFtIHdhaXQgV2hldGhlciB0byB3YWl0IGZvciB0aGUgcHJvbWlzZSB0byByZXNvbHZlIG9yIHJlc29sdmUgaW1tZWRpYXRlbHlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbnN1bWVDYWxsYmFjayhwcm9taXNlRm4sIHdhaXQpIHtcbiAgICBpZiAod2FpdCA9PT0gdHJ1ZSkge1xuICAgICAgICBhd2FpdCBwcm9taXNlRm4oKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgcXVldWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHF1ZXVlID0gY3JlYXRlUXVldWUoKTtcbiAgICAgICAgfVxuICAgICAgICB2b2lkIHF1ZXVlLmFkZChwcm9taXNlRm4pO1xuICAgIH1cbn1cbi8qKlxuICogV2FpdHMgZm9yIGFsbCBwcm9taXNlcyBpbiB0aGUgcXVldWUgdG8gcmVzb2x2ZS4gSWYgdGhlIHF1ZXVlIGlzXG4gKiB1bmRlZmluZWQsIGl0IGltbWVkaWF0ZWx5IHJlc29sdmVzIGEgcHJvbWlzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF3YWl0QWxsQ2FsbGJhY2tzKCkge1xuICAgIHJldHVybiB0eXBlb2YgcXVldWUgIT09IFwidW5kZWZpbmVkXCIgPyBxdWV1ZS5vbklkbGUoKSA6IFByb21pc2UucmVzb2x2ZSgpO1xufVxuIiwiaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IEJhc2VDYWxsYmFja0hhbmRsZXIsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgQ29uc29sZUNhbGxiYWNrSGFuZGxlciB9IGZyb20gXCIuL2hhbmRsZXJzL2NvbnNvbGUuanNcIjtcbmltcG9ydCB7IGdldFRyYWNpbmdDYWxsYmFja0hhbmRsZXIsIGdldFRyYWNpbmdWMkNhbGxiYWNrSGFuZGxlciwgfSBmcm9tIFwiLi9oYW5kbGVycy9pbml0aWFsaXplLmpzXCI7XG5pbXBvcnQgeyBnZXRCdWZmZXJTdHJpbmcgfSBmcm9tIFwiLi4vbWVtb3J5L2Jhc2UuanNcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi4vdXRpbC9lbnYuanNcIjtcbmltcG9ydCB7IExhbmdDaGFpblRyYWNlciwgfSBmcm9tIFwiLi9oYW5kbGVycy90cmFjZXJfbGFuZ2NoYWluLmpzXCI7XG5pbXBvcnQgeyBjb25zdW1lQ2FsbGJhY2sgfSBmcm9tIFwiLi9wcm9taXNlcy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ2FsbGJhY2tDb25maWdBcmcoYXJnKSB7XG4gICAgaWYgKCFhcmcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykgfHwgXCJuYW1lXCIgaW4gYXJnKSB7XG4gICAgICAgIHJldHVybiB7IGNhbGxiYWNrczogYXJnIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYXJnO1xuICAgIH1cbn1cbi8qKlxuICogTWFuYWdlIGNhbGxiYWNrcyBmcm9tIGRpZmZlcmVudCBjb21wb25lbnRzIG9mIExhbmdDaGFpbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VDYWxsYmFja01hbmFnZXIge1xuICAgIHNldEhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRIYW5kbGVycyhbaGFuZGxlcl0pO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgcnVuIG1hbmFnZXIgaW4gTGFuZ0NoYWluLlxuICovXG5jbGFzcyBCYXNlUnVuTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IocnVuSWQsIGhhbmRsZXJzLCBpbmhlcml0YWJsZUhhbmRsZXJzLCB0YWdzLCBpbmhlcml0YWJsZVRhZ3MsIG1ldGFkYXRhLCBpbmhlcml0YWJsZU1ldGFkYXRhLCBfcGFyZW50UnVuSWQpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicnVuSWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHJ1bklkXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJoYW5kbGVyc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogaGFuZGxlcnNcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaGVyaXRhYmxlSGFuZGxlcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGluaGVyaXRhYmxlSGFuZGxlcnNcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRhZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRhZ3NcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaGVyaXRhYmxlVGFnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogaW5oZXJpdGFibGVUYWdzXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXRhZGF0YVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogbWV0YWRhdGFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaGVyaXRhYmxlTWV0YWRhdGFcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGluaGVyaXRhYmxlTWV0YWRhdGFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wYXJlbnRSdW5JZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogX3BhcmVudFJ1bklkXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVUZXh0KHRleHQpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlVGV4dD8uKHRleHQsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVUZXh0OiAke2Vycn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgIH1cbn1cbi8qKlxuICogTWFuYWdlcyBjYWxsYmFja3MgZm9yIHJldHJpZXZlciBydW5zLlxuICovXG5leHBvcnQgY2xhc3MgQ2FsbGJhY2tNYW5hZ2VyRm9yUmV0cmlldmVyUnVuIGV4dGVuZHMgQmFzZVJ1bk1hbmFnZXIge1xuICAgIGdldENoaWxkKHRhZykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHRoaXMucnVuSWQpO1xuICAgICAgICBtYW5hZ2VyLnNldEhhbmRsZXJzKHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyk7XG4gICAgICAgIG1hbmFnZXIuYWRkVGFncyh0aGlzLmluaGVyaXRhYmxlVGFncyk7XG4gICAgICAgIG1hbmFnZXIuYWRkTWV0YWRhdGEodGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhKTtcbiAgICAgICAgaWYgKHRhZykge1xuICAgICAgICAgICAgbWFuYWdlci5hZGRUYWdzKFt0YWddLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hbmFnZXI7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVJldHJpZXZlckVuZChkb2N1bWVudHMpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlUmV0cmlldmVyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVSZXRyaWV2ZXJFbmQ/Lihkb2N1bWVudHMsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVSZXRyaWV2ZXJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlUmV0cmlldmVyRXJyb3IoZXJyKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyLmlnbm9yZVJldHJpZXZlcikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlUmV0cmlldmVyRXJyb3I/LihlcnIsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZVJldHJpZXZlckVycm9yOiAke2Vycm9yfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDYWxsYmFja01hbmFnZXJGb3JMTE1SdW4gZXh0ZW5kcyBCYXNlUnVuTWFuYWdlciB7XG4gICAgYXN5bmMgaGFuZGxlTExNTmV3VG9rZW4odG9rZW4sIGlkeCwgX3J1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBmaWVsZHMpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlTExNKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVMTE1OZXdUb2tlbj8uKHRva2VuLCBpZHggPz8geyBwcm9tcHQ6IDAsIGNvbXBsZXRpb246IDAgfSwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgZmllbGRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlTExNTmV3VG9rZW46ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVMTE1FcnJvcihlcnIpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlTExNKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVMTE1FcnJvcj8uKGVyciwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUxMTUVycm9yOiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTExNRW5kKG91dHB1dCkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVMTE0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUxMTUVuZD8uKG91dHB1dCwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUxMTUVuZDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENhbGxiYWNrTWFuYWdlckZvckNoYWluUnVuIGV4dGVuZHMgQmFzZVJ1bk1hbmFnZXIge1xuICAgIGdldENoaWxkKHRhZykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHRoaXMucnVuSWQpO1xuICAgICAgICBtYW5hZ2VyLnNldEhhbmRsZXJzKHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyk7XG4gICAgICAgIG1hbmFnZXIuYWRkVGFncyh0aGlzLmluaGVyaXRhYmxlVGFncyk7XG4gICAgICAgIG1hbmFnZXIuYWRkTWV0YWRhdGEodGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhKTtcbiAgICAgICAgaWYgKHRhZykge1xuICAgICAgICAgICAgbWFuYWdlci5hZGRUYWdzKFt0YWddLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hbmFnZXI7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYWluRXJyb3IoZXJyLCBfcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGt3YXJncykge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVDaGFpbikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlQ2hhaW5FcnJvcj8uKGVyciwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywga3dhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlQ2hhaW5FcnJvcjogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYWluRW5kKG91dHB1dCwgX3J1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBrd2FyZ3MpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlQ2hhaW4pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYWluRW5kPy4ob3V0cHV0LCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCBrd2FyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVDaGFpbkVuZDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUFnZW50QWN0aW9uKGFjdGlvbikge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlQWdlbnRBY3Rpb24/LihhY3Rpb24sIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVBZ2VudEFjdGlvbjogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUFnZW50RW5kKGFjdGlvbikge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlQWdlbnRFbmQ/LihhY3Rpb24sIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVBZ2VudEVuZDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENhbGxiYWNrTWFuYWdlckZvclRvb2xSdW4gZXh0ZW5kcyBCYXNlUnVuTWFuYWdlciB7XG4gICAgZ2V0Q2hpbGQodGFnKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IG5ldyBDYWxsYmFja01hbmFnZXIodGhpcy5ydW5JZCk7XG4gICAgICAgIG1hbmFnZXIuc2V0SGFuZGxlcnModGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzKTtcbiAgICAgICAgbWFuYWdlci5hZGRUYWdzKHRoaXMuaW5oZXJpdGFibGVUYWdzKTtcbiAgICAgICAgbWFuYWdlci5hZGRNZXRhZGF0YSh0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEpO1xuICAgICAgICBpZiAodGFnKSB7XG4gICAgICAgICAgICBtYW5hZ2VyLmFkZFRhZ3MoW3RhZ10sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFuYWdlcjtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlVG9vbEVycm9yKGVycikge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlVG9vbEVycm9yPy4oZXJyLCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlVG9vbEVycm9yOiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlVG9vbEVuZChvdXRwdXQpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlQWdlbnQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZVRvb2xFbmQ/LihvdXRwdXQsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVUb29sRW5kOiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2FsbGJhY2tNYW5hZ2VyIGV4dGVuZHMgQmFzZUNhbGxiYWNrTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IocGFyZW50UnVuSWQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGFuZGxlcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5oZXJpdGFibGVIYW5kbGVyc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0YWdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5oZXJpdGFibGVUYWdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWV0YWRhdGFcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHt9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbmhlcml0YWJsZU1ldGFkYXRhXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB7fVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJjYWxsYmFja19tYW5hZ2VyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wYXJlbnRSdW5JZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLl9wYXJlbnRSdW5JZCA9IHBhcmVudFJ1bklkO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVMTE1TdGFydChsbG0sIHByb21wdHMsIF9ydW5JZCA9IHVuZGVmaW5lZCwgX3BhcmVudFJ1bklkID0gdW5kZWZpbmVkLCBleHRyYVBhcmFtcyA9IHVuZGVmaW5lZCwgX3RhZ3MgPSB1bmRlZmluZWQsIF9tZXRhZGF0YSA9IHVuZGVmaW5lZCwgcnVuTmFtZSA9IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXB0cy5tYXAoYXN5bmMgKHByb21wdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcnVuSWQgPSB1dWlkdjQoKTtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVMTE0pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlTExNU3RhcnQ/LihsbG0sIFtwcm9tcHRdLCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1bk5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVMTE1TdGFydDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvckxMTVJ1bihydW5JZCwgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLnRhZ3MsIHRoaXMuaW5oZXJpdGFibGVUYWdzLCB0aGlzLm1ldGFkYXRhLCB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVDaGF0TW9kZWxTdGFydChsbG0sIG1lc3NhZ2VzLCBfcnVuSWQgPSB1bmRlZmluZWQsIF9wYXJlbnRSdW5JZCA9IHVuZGVmaW5lZCwgZXh0cmFQYXJhbXMgPSB1bmRlZmluZWQsIF90YWdzID0gdW5kZWZpbmVkLCBfbWV0YWRhdGEgPSB1bmRlZmluZWQsIHJ1bk5hbWUgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKG1lc3NhZ2VzLm1hcChhc3luYyAobWVzc2FnZUdyb3VwKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBydW5JZCA9IHV1aWR2NCgpO1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVyLmlnbm9yZUxMTSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIuaGFuZGxlQ2hhdE1vZGVsU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYXRNb2RlbFN0YXJ0Py4obGxtLCBbbWVzc2FnZUdyb3VwXSwgcnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCBleHRyYVBhcmFtcywgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5OYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhbmRsZXIuaGFuZGxlTExNU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlU3RyaW5nID0gZ2V0QnVmZmVyU3RyaW5nKG1lc3NhZ2VHcm91cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVMTE1TdGFydD8uKGxsbSwgW21lc3NhZ2VTdHJpbmddLCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1bk5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVMTE1TdGFydDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvckxMTVJ1bihydW5JZCwgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLnRhZ3MsIHRoaXMuaW5oZXJpdGFibGVUYWdzLCB0aGlzLm1ldGFkYXRhLCB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVDaGFpblN0YXJ0KGNoYWluLCBpbnB1dHMsIHJ1bklkID0gdXVpZHY0KCksIHJ1blR5cGUgPSB1bmRlZmluZWQsIF90YWdzID0gdW5kZWZpbmVkLCBfbWV0YWRhdGEgPSB1bmRlZmluZWQsIHJ1bk5hbWUgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlQ2hhaW4pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYWluU3RhcnQ/LihjaGFpbiwgaW5wdXRzLCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuVHlwZSwgcnVuTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUNoYWluU3RhcnQ6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgICAgICByZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvckNoYWluUnVuKHJ1bklkLCB0aGlzLmhhbmRsZXJzLCB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMsIHRoaXMudGFncywgdGhpcy5pbmhlcml0YWJsZVRhZ3MsIHRoaXMubWV0YWRhdGEsIHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSwgdGhpcy5fcGFyZW50UnVuSWQpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVUb29sU3RhcnQodG9vbCwgaW5wdXQsIHJ1bklkID0gdXVpZHY0KCksIF9wYXJlbnRSdW5JZCA9IHVuZGVmaW5lZCwgX3RhZ3MgPSB1bmRlZmluZWQsIF9tZXRhZGF0YSA9IHVuZGVmaW5lZCwgcnVuTmFtZSA9IHVuZGVmaW5lZCkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlVG9vbFN0YXJ0Py4odG9vbCwgaW5wdXQsIHJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5OYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlVG9vbFN0YXJ0OiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDYWxsYmFja01hbmFnZXJGb3JUb29sUnVuKHJ1bklkLCB0aGlzLmhhbmRsZXJzLCB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMsIHRoaXMudGFncywgdGhpcy5pbmhlcml0YWJsZVRhZ3MsIHRoaXMubWV0YWRhdGEsIHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSwgdGhpcy5fcGFyZW50UnVuSWQpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVSZXRyaWV2ZXJTdGFydChyZXRyaWV2ZXIsIHF1ZXJ5LCBydW5JZCA9IHV1aWR2NCgpLCBfcGFyZW50UnVuSWQgPSB1bmRlZmluZWQsIF90YWdzID0gdW5kZWZpbmVkLCBfbWV0YWRhdGEgPSB1bmRlZmluZWQsIHJ1bk5hbWUgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlUmV0cmlldmVyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVSZXRyaWV2ZXJTdGFydD8uKHJldHJpZXZlciwgcXVlcnksIHJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5OYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlUmV0cmlldmVyU3RhcnQ6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgICAgICByZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvclJldHJpZXZlclJ1bihydW5JZCwgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLnRhZ3MsIHRoaXMuaW5oZXJpdGFibGVUYWdzLCB0aGlzLm1ldGFkYXRhLCB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICB9XG4gICAgYWRkSGFuZGxlcihoYW5kbGVyLCBpbmhlcml0ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIGlmIChpbmhlcml0KSB7XG4gICAgICAgICAgICB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZmlsdGVyKChfaGFuZGxlcikgPT4gX2hhbmRsZXIgIT09IGhhbmRsZXIpO1xuICAgICAgICB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMgPSB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMuZmlsdGVyKChfaGFuZGxlcikgPT4gX2hhbmRsZXIgIT09IGhhbmRsZXIpO1xuICAgIH1cbiAgICBzZXRIYW5kbGVycyhoYW5kbGVycywgaW5oZXJpdCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIGhhbmRsZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEhhbmRsZXIoaGFuZGxlciwgaW5oZXJpdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkVGFncyh0YWdzLCBpbmhlcml0ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnJlbW92ZVRhZ3ModGFncyk7IC8vIFJlbW92ZSBkdXBsaWNhdGVzXG4gICAgICAgIHRoaXMudGFncy5wdXNoKC4uLnRhZ3MpO1xuICAgICAgICBpZiAoaW5oZXJpdCkge1xuICAgICAgICAgICAgdGhpcy5pbmhlcml0YWJsZVRhZ3MucHVzaCguLi50YWdzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVUYWdzKHRhZ3MpIHtcbiAgICAgICAgdGhpcy50YWdzID0gdGhpcy50YWdzLmZpbHRlcigodGFnKSA9PiAhdGFncy5pbmNsdWRlcyh0YWcpKTtcbiAgICAgICAgdGhpcy5pbmhlcml0YWJsZVRhZ3MgPSB0aGlzLmluaGVyaXRhYmxlVGFncy5maWx0ZXIoKHRhZykgPT4gIXRhZ3MuaW5jbHVkZXModGFnKSk7XG4gICAgfVxuICAgIGFkZE1ldGFkYXRhKG1ldGFkYXRhLCBpbmhlcml0ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0geyAuLi50aGlzLm1ldGFkYXRhLCAuLi5tZXRhZGF0YSB9O1xuICAgICAgICBpZiAoaW5oZXJpdCkge1xuICAgICAgICAgICAgdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhID0geyAuLi50aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIC4uLm1ldGFkYXRhIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMobWV0YWRhdGEpKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5tZXRhZGF0YVtrZXldO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YVtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvcHkoYWRkaXRpb25hbEhhbmRsZXJzID0gW10sIGluaGVyaXQgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHRoaXMuaGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGluaGVyaXRhYmxlID0gdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLmluY2x1ZGVzKGhhbmRsZXIpO1xuICAgICAgICAgICAgbWFuYWdlci5hZGRIYW5kbGVyKGhhbmRsZXIsIGluaGVyaXRhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0aGlzLnRhZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGluaGVyaXRhYmxlID0gdGhpcy5pbmhlcml0YWJsZVRhZ3MuaW5jbHVkZXModGFnKTtcbiAgICAgICAgICAgIG1hbmFnZXIuYWRkVGFncyhbdGFnXSwgaW5oZXJpdGFibGUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMubWV0YWRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBpbmhlcml0YWJsZSA9IE9iamVjdC5rZXlzKHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSkuaW5jbHVkZXMoa2V5KTtcbiAgICAgICAgICAgIG1hbmFnZXIuYWRkTWV0YWRhdGEoeyBba2V5XTogdGhpcy5tZXRhZGF0YVtrZXldIH0sIGluaGVyaXRhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgYWRkaXRpb25hbEhhbmRsZXJzKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAvLyBQcmV2ZW50IG11bHRpcGxlIGNvcGllcyBvZiBjb25zb2xlX2NhbGxiYWNrX2hhbmRsZXJcbiAgICAgICAgICAgIG1hbmFnZXIuaGFuZGxlcnNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChoKSA9PiBoLm5hbWUgPT09IFwiY29uc29sZV9jYWxsYmFja19oYW5kbGVyXCIpXG4gICAgICAgICAgICAgICAgLnNvbWUoKGgpID0+IGgubmFtZSA9PT0gaGFuZGxlci5uYW1lKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFuYWdlci5hZGRIYW5kbGVyKGhhbmRsZXIsIGluaGVyaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYW5hZ2VyO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUhhbmRsZXJzKGhhbmRsZXJzKSB7XG4gICAgICAgIGNsYXNzIEhhbmRsZXIgZXh0ZW5kcyBCYXNlQ2FsbGJhY2tIYW5kbGVyIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1dWlkdjQoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgaGFuZGxlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgdGhpcygpO1xuICAgICAgICBtYW5hZ2VyLmFkZEhhbmRsZXIobmV3IEhhbmRsZXIoKSk7XG4gICAgICAgIHJldHVybiBtYW5hZ2VyO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgY29uZmlndXJlKGluaGVyaXRhYmxlSGFuZGxlcnMsIGxvY2FsSGFuZGxlcnMsIGluaGVyaXRhYmxlVGFncywgbG9jYWxUYWdzLCBpbmhlcml0YWJsZU1ldGFkYXRhLCBsb2NhbE1ldGFkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBjYWxsYmFja01hbmFnZXI7XG4gICAgICAgIGlmIChpbmhlcml0YWJsZUhhbmRsZXJzIHx8IGxvY2FsSGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGluaGVyaXRhYmxlSGFuZGxlcnMpIHx8ICFpbmhlcml0YWJsZUhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tNYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcigpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5zZXRIYW5kbGVycyhpbmhlcml0YWJsZUhhbmRsZXJzPy5tYXAoZW5zdXJlSGFuZGxlcikgPz8gW10sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tNYW5hZ2VyID0gaW5oZXJpdGFibGVIYW5kbGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlciA9IGNhbGxiYWNrTWFuYWdlci5jb3B5KEFycmF5LmlzQXJyYXkobG9jYWxIYW5kbGVycylcbiAgICAgICAgICAgICAgICA/IGxvY2FsSGFuZGxlcnMubWFwKGVuc3VyZUhhbmRsZXIpXG4gICAgICAgICAgICAgICAgOiBsb2NhbEhhbmRsZXJzPy5oYW5kbGVycywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZlcmJvc2VFbmFibGVkID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9WRVJCT1NFXCIpIHx8IG9wdGlvbnM/LnZlcmJvc2U7XG4gICAgICAgIGNvbnN0IHRyYWNpbmdWMkVuYWJsZWQgPSBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX1RSQUNJTkdfVjJcIikgPT09IFwidHJ1ZVwiO1xuICAgICAgICBjb25zdCB0cmFjaW5nRW5hYmxlZCA9IHRyYWNpbmdWMkVuYWJsZWQgfHxcbiAgICAgICAgICAgIChnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX1RSQUNJTkdcIikgPz8gZmFsc2UpO1xuICAgICAgICBpZiAodmVyYm9zZUVuYWJsZWQgfHwgdHJhY2luZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGlmICghY2FsbGJhY2tNYW5hZ2VyKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tNYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZlcmJvc2VFbmFibGVkICYmXG4gICAgICAgICAgICAgICAgIWNhbGxiYWNrTWFuYWdlci5oYW5kbGVycy5zb21lKChoYW5kbGVyKSA9PiBoYW5kbGVyLm5hbWUgPT09IENvbnNvbGVDYWxsYmFja0hhbmRsZXIucHJvdG90eXBlLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uc29sZUhhbmRsZXIgPSBuZXcgQ29uc29sZUNhbGxiYWNrSGFuZGxlcigpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5hZGRIYW5kbGVyKGNvbnNvbGVIYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmFjaW5nRW5hYmxlZCAmJlxuICAgICAgICAgICAgICAgICFjYWxsYmFja01hbmFnZXIuaGFuZGxlcnMuc29tZSgoaGFuZGxlcikgPT4gaGFuZGxlci5uYW1lID09PSBcImxhbmdjaGFpbl90cmFjZXJcIikpIHtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2luZ1YyRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja01hbmFnZXIuYWRkSGFuZGxlcihhd2FpdCBnZXRUcmFjaW5nVjJDYWxsYmFja0hhbmRsZXIoKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9QUk9KRUNUXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX1NFU1NJT05cIik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5hZGRIYW5kbGVyKGF3YWl0IGdldFRyYWNpbmdDYWxsYmFja0hhbmRsZXIoc2Vzc2lvbiksIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5oZXJpdGFibGVUYWdzIHx8IGxvY2FsVGFncykge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrTWFuYWdlcikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5hZGRUYWdzKGluaGVyaXRhYmxlVGFncyA/PyBbXSk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tNYW5hZ2VyLmFkZFRhZ3MobG9jYWxUYWdzID8/IFtdLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluaGVyaXRhYmxlTWV0YWRhdGEgfHwgbG9jYWxNZXRhZGF0YSkge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrTWFuYWdlcikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5hZGRNZXRhZGF0YShpbmhlcml0YWJsZU1ldGFkYXRhID8/IHt9KTtcbiAgICAgICAgICAgICAgICBjYWxsYmFja01hbmFnZXIuYWRkTWV0YWRhdGEobG9jYWxNZXRhZGF0YSA/PyB7fSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWxsYmFja01hbmFnZXI7XG4gICAgfVxufVxuZnVuY3Rpb24gZW5zdXJlSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgaWYgKFwibmFtZVwiIGluIGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXI7XG4gICAgfVxuICAgIHJldHVybiBCYXNlQ2FsbGJhY2tIYW5kbGVyLmZyb21NZXRob2RzKGhhbmRsZXIpO1xufVxuZXhwb3J0IGNsYXNzIFRyYWNlR3JvdXAge1xuICAgIGNvbnN0cnVjdG9yKGdyb3VwTmFtZSwgb3B0aW9ucykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJncm91cE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGdyb3VwTmFtZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3B0aW9uc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9uc1xuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicnVuTWFuYWdlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBnZXRUcmFjZUdyb3VwQ2FsbGJhY2tNYW5hZ2VyKGdyb3VwX25hbWUsIGlucHV0cywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYiA9IG5ldyBMYW5nQ2hhaW5UcmFjZXIob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGNtID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShbY2JdKTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNtPy5oYW5kbGVDaGFpblN0YXJ0KHtcbiAgICAgICAgICAgIGxjOiAxLFxuICAgICAgICAgICAgdHlwZTogXCJub3RfaW1wbGVtZW50ZWRcIixcbiAgICAgICAgICAgIGlkOiBbXCJsYW5nY2hhaW5cIiwgXCJjYWxsYmFja3NcIiwgXCJncm91cHNcIiwgZ3JvdXBfbmFtZV0sXG4gICAgICAgIH0sIGlucHV0cyA/PyB7fSk7XG4gICAgICAgIGlmICghcnVuTWFuYWdlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSBydW4gZ3JvdXAgY2FsbGJhY2sgbWFuYWdlci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1bk1hbmFnZXI7XG4gICAgfVxuICAgIGFzeW5jIHN0YXJ0KGlucHV0cykge1xuICAgICAgICBpZiAoIXRoaXMucnVuTWFuYWdlcikge1xuICAgICAgICAgICAgdGhpcy5ydW5NYW5hZ2VyID0gYXdhaXQgdGhpcy5nZXRUcmFjZUdyb3VwQ2FsbGJhY2tNYW5hZ2VyKHRoaXMuZ3JvdXBOYW1lLCBpbnB1dHMsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucnVuTWFuYWdlci5nZXRDaGlsZCgpO1xuICAgIH1cbiAgICBhc3luYyBlcnJvcihlcnIpIHtcbiAgICAgICAgaWYgKHRoaXMucnVuTWFuYWdlcikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5ydW5NYW5hZ2VyLmhhbmRsZUNoYWluRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHRoaXMucnVuTWFuYWdlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBlbmQob3V0cHV0KSB7XG4gICAgICAgIGlmICh0aGlzLnJ1bk1hbmFnZXIpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucnVuTWFuYWdlci5oYW5kbGVDaGFpbkVuZChvdXRwdXQgPz8ge30pO1xuICAgICAgICAgICAgdGhpcy5ydW5NYW5hZ2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIF9jb2VyY2VUb0RpY3QodmFsdWUsIGRlZmF1bHRLZXkpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIlxuICAgICAgICA/IHZhbHVlXG4gICAgICAgIDogeyBbZGVmYXVsdEtleV06IHZhbHVlIH07XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyYWNlQXNHcm91cChncm91cE9wdGlvbnMsIGVuY2xvc2VkQ29kZSwgLi4uYXJncykge1xuICAgIGNvbnN0IHRyYWNlR3JvdXAgPSBuZXcgVHJhY2VHcm91cChncm91cE9wdGlvbnMubmFtZSwgZ3JvdXBPcHRpb25zKTtcbiAgICBjb25zdCBjYWxsYmFja01hbmFnZXIgPSBhd2FpdCB0cmFjZUdyb3VwLnN0YXJ0KHsgLi4uYXJncyB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlbmNsb3NlZENvZGUoY2FsbGJhY2tNYW5hZ2VyLCAuLi5hcmdzKTtcbiAgICAgICAgYXdhaXQgdHJhY2VHcm91cC5lbmQoX2NvZXJjZVRvRGljdChyZXN1bHQsIFwib3V0cHV0XCIpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBhd2FpdCB0cmFjZUdyb3VwLmVycm9yKGVycik7XG4gICAgICAgIHRocm93IGVycjtcbiAgICB9XG59XG4iLCIvLyBAdHMtbm9jaGVja1xuLy8gSW5saW5lZCBiZWNhdXNlIG9mIEVTTSBpbXBvcnQgaXNzdWVzXG4vKiFcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9TdGFyY291bnRlci1KYWNrL0pTT04tUGF0Y2hcbiAqIChjKSAyMDE3LTIwMjIgSm9hY2hpbSBXZXN0ZXJcbiAqIE1JVCBsaWNlbnNlZFxuICovXG5jb25zdCBfaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuZXhwb3J0IGZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIF9oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfb2JqZWN0S2V5cyhvYmopIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBuZXcgQXJyYXkob2JqLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwga2V5cy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAga2V5c1trXSA9IFwiXCIgKyBrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXlzO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXMpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaik7XG4gICAgfVxuICAgIGxldCBrZXlzID0gW107XG4gICAgZm9yIChsZXQgaSBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KG9iaiwgaSkpIHtcbiAgICAgICAgICAgIGtleXMucHVzaChpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbn1cbi8qKlxuICogRGVlcGx5IGNsb25lIHRoZSBvYmplY3QuXG4gKiBodHRwczovL2pzcGVyZi5jb20vZGVlcC1jb3B5LXZzLWpzb24tc3RyaW5naWZ5LWpzb24tcGFyc2UvMjUgKHJlY3Vyc2l2ZURlZXBDb3B5KVxuICogQHBhcmFtICB7YW55fSBvYmogdmFsdWUgdG8gY2xvbmVcbiAqIEByZXR1cm4ge2FueX0gY2xvbmVkIG9ialxuICovXG5leHBvcnQgZnVuY3Rpb24gX2RlZXBDbG9uZShvYmopIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBvYmopIHtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7IC8vRmFzdGVyIHRoYW4gRVM1IGNsb25lIC0gaHR0cDovL2pzcGVyZi5jb20vZGVlcC1jbG9uaW5nLW9mLW9iamVjdHMvNVxuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDsgLy90aGlzIGlzIGhvdyBKU09OLnN0cmluZ2lmeSBiZWhhdmVzIGZvciBhcnJheSBpdGVtc1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG9iajsgLy9ubyBuZWVkIHRvIGNsb25lIHByaW1pdGl2ZXNcbiAgICB9XG59XG4vLzN4IGZhc3RlciB0aGFuIGNhY2hlZCAvXlxcZCskLy50ZXN0KHN0cilcbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVnZXIoc3RyKSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGxlbiA9IHN0ci5sZW5ndGg7XG4gICAgbGV0IGNoYXJDb2RlO1xuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgIGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjaGFyQ29kZSA+PSA0OCAmJiBjaGFyQ29kZSA8PSA1Nykge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogRXNjYXBlcyBhIGpzb24gcG9pbnRlciBwYXRoXG4gKiBAcGFyYW0gcGF0aCBUaGUgcmF3IHBvaW50ZXJcbiAqIEByZXR1cm4gdGhlIEVzY2FwZWQgcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUGF0aENvbXBvbmVudChwYXRoKSB7XG4gICAgaWYgKHBhdGguaW5kZXhPZihcIi9cIikgPT09IC0xICYmIHBhdGguaW5kZXhPZihcIn5cIikgPT09IC0xKVxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9+L2csIFwifjBcIikucmVwbGFjZSgvXFwvL2csIFwifjFcIik7XG59XG4vKipcbiAqIFVuZXNjYXBlcyBhIGpzb24gcG9pbnRlciBwYXRoXG4gKiBAcGFyYW0gcGF0aCBUaGUgZXNjYXBlZCBwb2ludGVyXG4gKiBAcmV0dXJuIFRoZSB1bmVzY2FwZWQgcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5lc2NhcGVQYXRoQ29tcG9uZW50KHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9+MS9nLCBcIi9cIikucmVwbGFjZSgvfjAvZywgXCJ+XCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9nZXRQYXRoUmVjdXJzaXZlKHJvb3QsIG9iaikge1xuICAgIGxldCBmb3VuZDtcbiAgICBmb3IgKGxldCBrZXkgaW4gcm9vdCkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkocm9vdCwga2V5KSkge1xuICAgICAgICAgICAgaWYgKHJvb3Rba2V5XSA9PT0gb2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVzY2FwZVBhdGhDb21wb25lbnQoa2V5KSArIFwiL1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHJvb3Rba2V5XSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gX2dldFBhdGhSZWN1cnNpdmUocm9vdFtrZXldLCBvYmopO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZCAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlc2NhcGVQYXRoQ29tcG9uZW50KGtleSkgKyBcIi9cIiArIGZvdW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRoKHJvb3QsIG9iaikge1xuICAgIGlmIChyb290ID09PSBvYmopIHtcbiAgICAgICAgcmV0dXJuIFwiL1wiO1xuICAgIH1cbiAgICBjb25zdCBwYXRoID0gX2dldFBhdGhSZWN1cnNpdmUocm9vdCwgb2JqKTtcbiAgICBpZiAocGF0aCA9PT0gXCJcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPYmplY3Qgbm90IGZvdW5kIGluIHJvb3RcIik7XG4gICAgfVxuICAgIHJldHVybiBgLyR7cGF0aH1gO1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBjaGVja3Mgd2hldGhlciBhbiBvYmplY3QgaGFzIGFueSB1bmRlZmluZWQgdmFsdWVzIGluc2lkZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc1VuZGVmaW5lZChvYmopIHtcbiAgICBpZiAob2JqID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChvYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG9iai5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChoYXNVbmRlZmluZWQob2JqW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29uc3Qgb2JqS2V5cyA9IF9vYmplY3RLZXlzKG9iaik7XG4gICAgICAgICAgICBjb25zdCBvYmpLZXlzTGVuZ3RoID0gb2JqS2V5cy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChoYXNVbmRlZmluZWQob2JqW29iaktleXNbaV1dKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gcGF0Y2hFcnJvck1lc3NhZ2VGb3JtYXR0ZXIobWVzc2FnZSwgYXJncykge1xuICAgIGNvbnN0IG1lc3NhZ2VQYXJ0cyA9IFttZXNzYWdlXTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhcmdzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdHlwZW9mIGFyZ3Nba2V5XSA9PT0gXCJvYmplY3RcIlxuICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeShhcmdzW2tleV0sIG51bGwsIDIpXG4gICAgICAgICAgICA6IGFyZ3Nba2V5XTsgLy8gcHJldHR5IHByaW50XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VQYXJ0cy5wdXNoKGAke2tleX06ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2VQYXJ0cy5qb2luKFwiXFxuXCIpO1xufVxuZXhwb3J0IGNsYXNzIFBhdGNoRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgbmFtZSwgaW5kZXgsIG9wZXJhdGlvbiwgdHJlZSkge1xuICAgICAgICBzdXBlcihwYXRjaEVycm9yTWVzc2FnZUZvcm1hdHRlcihtZXNzYWdlLCB7IG5hbWUsIGluZGV4LCBvcGVyYXRpb24sIHRyZWUgfSkpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBuYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbmRleFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogaW5kZXhcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wZXJhdGlvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogb3BlcmF0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0cmVlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cmVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpOyAvLyByZXN0b3JlIHByb3RvdHlwZSBjaGFpbiwgc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80ODM0MjM1OVxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBwYXRjaEVycm9yTWVzc2FnZUZvcm1hdHRlcihtZXNzYWdlLCB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgICB0cmVlLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCIvLyBAdHMtbm9jaGVja1xuaW1wb3J0IHsgUGF0Y2hFcnJvciwgX2RlZXBDbG9uZSwgaXNJbnRlZ2VyLCB1bmVzY2FwZVBhdGhDb21wb25lbnQsIGhhc1VuZGVmaW5lZCwgfSBmcm9tIFwiLi9oZWxwZXJzLmpzXCI7XG5leHBvcnQgY29uc3QgSnNvblBhdGNoRXJyb3IgPSBQYXRjaEVycm9yO1xuZXhwb3J0IGNvbnN0IGRlZXBDbG9uZSA9IF9kZWVwQ2xvbmU7XG4vKiBXZSB1c2UgYSBKYXZhc2NyaXB0IGhhc2ggdG8gc3RvcmUgZWFjaFxuIGZ1bmN0aW9uLiBFYWNoIGhhc2ggZW50cnkgKHByb3BlcnR5KSB1c2VzXG4gdGhlIG9wZXJhdGlvbiBpZGVudGlmaWVycyBzcGVjaWZpZWQgaW4gcmZjNjkwMi5cbiBJbiB0aGlzIHdheSwgd2UgY2FuIG1hcCBlYWNoIHBhdGNoIG9wZXJhdGlvblxuIHRvIGl0cyBkZWRpY2F0ZWQgZnVuY3Rpb24gaW4gZWZmaWNpZW50IHdheS5cbiAqL1xuLyogVGhlIG9wZXJhdGlvbnMgYXBwbGljYWJsZSB0byBhbiBvYmplY3QgKi9cbmNvbnN0IG9iak9wcyA9IHtcbiAgICBhZGQ6IGZ1bmN0aW9uIChvYmosIGtleSwgZG9jdW1lbnQpIHtcbiAgICAgICAgb2JqW2tleV0gPSB0aGlzLnZhbHVlO1xuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQgfTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gKG9iaiwga2V5LCBkb2N1bWVudCkge1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IG9ialtrZXldO1xuICAgICAgICBkZWxldGUgb2JqW2tleV07XG4gICAgICAgIHJldHVybiB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCwgcmVtb3ZlZCB9O1xuICAgIH0sXG4gICAgcmVwbGFjZTogZnVuY3Rpb24gKG9iaiwga2V5LCBkb2N1bWVudCkge1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IG9ialtrZXldO1xuICAgICAgICBvYmpba2V5XSA9IHRoaXMudmFsdWU7XG4gICAgICAgIHJldHVybiB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCwgcmVtb3ZlZCB9O1xuICAgIH0sXG4gICAgbW92ZTogZnVuY3Rpb24gKG9iaiwga2V5LCBkb2N1bWVudCkge1xuICAgICAgICAvKiBpbiBjYXNlIG1vdmUgdGFyZ2V0IG92ZXJ3cml0ZXMgYW4gZXhpc3RpbmcgdmFsdWUsXG4gICAgICAgIHJldHVybiB0aGUgcmVtb3ZlZCB2YWx1ZSwgdGhpcyBjYW4gYmUgdGF4aW5nIHBlcmZvcm1hbmNlLXdpc2UsXG4gICAgICAgIGFuZCBpcyBwb3RlbnRpYWxseSB1bm5lZWRlZCAqL1xuICAgICAgICBsZXQgcmVtb3ZlZCA9IGdldFZhbHVlQnlQb2ludGVyKGRvY3VtZW50LCB0aGlzLnBhdGgpO1xuICAgICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICAgICAgcmVtb3ZlZCA9IF9kZWVwQ2xvbmUocmVtb3ZlZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxWYWx1ZSA9IGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCB7XG4gICAgICAgICAgICBvcDogXCJyZW1vdmVcIixcbiAgICAgICAgICAgIHBhdGg6IHRoaXMuZnJvbSxcbiAgICAgICAgfSkucmVtb3ZlZDtcbiAgICAgICAgYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIHtcbiAgICAgICAgICAgIG9wOiBcImFkZFwiLFxuICAgICAgICAgICAgcGF0aDogdGhpcy5wYXRoLFxuICAgICAgICAgICAgdmFsdWU6IG9yaWdpbmFsVmFsdWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQsIHJlbW92ZWQgfTtcbiAgICB9LFxuICAgIGNvcHk6IGZ1bmN0aW9uIChvYmosIGtleSwgZG9jdW1lbnQpIHtcbiAgICAgICAgY29uc3QgdmFsdWVUb0NvcHkgPSBnZXRWYWx1ZUJ5UG9pbnRlcihkb2N1bWVudCwgdGhpcy5mcm9tKTtcbiAgICAgICAgLy8gZW5mb3JjZSBjb3B5IGJ5IHZhbHVlIHNvIGZ1cnRoZXIgb3BlcmF0aW9ucyBkb24ndCBhZmZlY3Qgc291cmNlIChzZWUgaXNzdWUgIzE3NylcbiAgICAgICAgYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIHtcbiAgICAgICAgICAgIG9wOiBcImFkZFwiLFxuICAgICAgICAgICAgcGF0aDogdGhpcy5wYXRoLFxuICAgICAgICAgICAgdmFsdWU6IF9kZWVwQ2xvbmUodmFsdWVUb0NvcHkpLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgbmV3RG9jdW1lbnQ6IGRvY3VtZW50IH07XG4gICAgfSxcbiAgICB0ZXN0OiBmdW5jdGlvbiAob2JqLCBrZXksIGRvY3VtZW50KSB7XG4gICAgICAgIHJldHVybiB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCwgdGVzdDogX2FyZUVxdWFscyhvYmpba2V5XSwgdGhpcy52YWx1ZSkgfTtcbiAgICB9LFxuICAgIF9nZXQ6IGZ1bmN0aW9uIChvYmosIGtleSwgZG9jdW1lbnQpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQgfTtcbiAgICB9LFxufTtcbi8qIFRoZSBvcGVyYXRpb25zIGFwcGxpY2FibGUgdG8gYW4gYXJyYXkuIE1hbnkgYXJlIHRoZSBzYW1lIGFzIGZvciB0aGUgb2JqZWN0ICovXG52YXIgYXJyT3BzID0ge1xuICAgIGFkZDogZnVuY3Rpb24gKGFyciwgaSwgZG9jdW1lbnQpIHtcbiAgICAgICAgaWYgKGlzSW50ZWdlcihpKSkge1xuICAgICAgICAgICAgYXJyLnNwbGljZShpLCAwLCB0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFycmF5IHByb3BzXG4gICAgICAgICAgICBhcnJbaV0gPSB0aGlzLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMgbWF5IGJlIG5lZWRlZCB3aGVuIHVzaW5nICctJyBpbiBhbiBhcnJheVxuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQsIGluZGV4OiBpIH07XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIChhcnIsIGksIGRvY3VtZW50KSB7XG4gICAgICAgIHZhciByZW1vdmVkTGlzdCA9IGFyci5zcGxpY2UoaSwgMSk7XG4gICAgICAgIHJldHVybiB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCwgcmVtb3ZlZDogcmVtb3ZlZExpc3RbMF0gfTtcbiAgICB9LFxuICAgIHJlcGxhY2U6IGZ1bmN0aW9uIChhcnIsIGksIGRvY3VtZW50KSB7XG4gICAgICAgIHZhciByZW1vdmVkID0gYXJyW2ldO1xuICAgICAgICBhcnJbaV0gPSB0aGlzLnZhbHVlO1xuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQsIHJlbW92ZWQgfTtcbiAgICB9LFxuICAgIG1vdmU6IG9iak9wcy5tb3ZlLFxuICAgIGNvcHk6IG9iak9wcy5jb3B5LFxuICAgIHRlc3Q6IG9iak9wcy50ZXN0LFxuICAgIF9nZXQ6IG9iak9wcy5fZ2V0LFxufTtcbi8qKlxuICogUmV0cmlldmVzIGEgdmFsdWUgZnJvbSBhIEpTT04gZG9jdW1lbnQgYnkgYSBKU09OIHBvaW50ZXIuXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gZG9jdW1lbnQgVGhlIGRvY3VtZW50IHRvIGdldCB0aGUgdmFsdWUgZnJvbVxuICogQHBhcmFtIHBvaW50ZXIgYW4gZXNjYXBlZCBKU09OIHBvaW50ZXJcbiAqIEByZXR1cm4gVGhlIHJldHJpZXZlZCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWVCeVBvaW50ZXIoZG9jdW1lbnQsIHBvaW50ZXIpIHtcbiAgICBpZiAocG9pbnRlciA9PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICB9XG4gICAgdmFyIGdldE9yaWdpbmFsRGVzdGluYXRpb24gPSB7IG9wOiBcIl9nZXRcIiwgcGF0aDogcG9pbnRlciB9O1xuICAgIGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCBnZXRPcmlnaW5hbERlc3RpbmF0aW9uKTtcbiAgICByZXR1cm4gZ2V0T3JpZ2luYWxEZXN0aW5hdGlvbi52YWx1ZTtcbn1cbi8qKlxuICogQXBwbHkgYSBzaW5nbGUgSlNPTiBQYXRjaCBPcGVyYXRpb24gb24gYSBKU09OIGRvY3VtZW50LlxuICogUmV0dXJucyB0aGUge25ld0RvY3VtZW50LCByZXN1bHR9IG9mIHRoZSBvcGVyYXRpb24uXG4gKiBJdCBtb2RpZmllcyB0aGUgYGRvY3VtZW50YCBhbmQgYG9wZXJhdGlvbmAgb2JqZWN0cyAtIGl0IGdldHMgdGhlIHZhbHVlcyBieSByZWZlcmVuY2UuXG4gKiBJZiB5b3Ugd291bGQgbGlrZSB0byBhdm9pZCB0b3VjaGluZyB5b3VyIHZhbHVlcywgY2xvbmUgdGhlbTpcbiAqIGBqc29ucGF0Y2guYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIGpzb25wYXRjaC5fZGVlcENsb25lKG9wZXJhdGlvbikpYC5cbiAqXG4gKiBAcGFyYW0gZG9jdW1lbnQgVGhlIGRvY3VtZW50IHRvIHBhdGNoXG4gKiBAcGFyYW0gb3BlcmF0aW9uIFRoZSBvcGVyYXRpb24gdG8gYXBwbHlcbiAqIEBwYXJhbSB2YWxpZGF0ZU9wZXJhdGlvbiBgZmFsc2VgIGlzIHdpdGhvdXQgdmFsaWRhdGlvbiwgYHRydWVgIHRvIHVzZSBkZWZhdWx0IGpzb25wYXRjaCdzIHZhbGlkYXRpb24sIG9yIHlvdSBjYW4gcGFzcyBhIGB2YWxpZGF0ZU9wZXJhdGlvbmAgY2FsbGJhY2sgdG8gYmUgdXNlZCBmb3IgdmFsaWRhdGlvbi5cbiAqIEBwYXJhbSBtdXRhdGVEb2N1bWVudCBXaGV0aGVyIHRvIG11dGF0ZSB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgb3IgY2xvbmUgaXQgYmVmb3JlIGFwcGx5aW5nXG4gKiBAcGFyYW0gYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyBXaGV0aGVyIHRvIGJhbiBtb2RpZmljYXRpb25zIHRvIGBfX3Byb3RvX19gLCBkZWZhdWx0cyB0byBgdHJ1ZWAuXG4gKiBAcmV0dXJuIGB7bmV3RG9jdW1lbnQsIHJlc3VsdH1gIGFmdGVyIHRoZSBvcGVyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCBvcGVyYXRpb24sIHZhbGlkYXRlT3BlcmF0aW9uID0gZmFsc2UsIG11dGF0ZURvY3VtZW50ID0gdHJ1ZSwgYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyA9IHRydWUsIGluZGV4ID0gMCkge1xuICAgIGlmICh2YWxpZGF0ZU9wZXJhdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIHZhbGlkYXRlT3BlcmF0aW9uID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFsaWRhdGVPcGVyYXRpb24ob3BlcmF0aW9uLCAwLCBkb2N1bWVudCwgb3BlcmF0aW9uLnBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsaWRhdG9yKG9wZXJhdGlvbiwgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogUk9PVCBPUEVSQVRJT05TICovXG4gICAgaWYgKG9wZXJhdGlvbi5wYXRoID09PSBcIlwiKSB7XG4gICAgICAgIGxldCByZXR1cm5WYWx1ZSA9IHsgbmV3RG9jdW1lbnQ6IGRvY3VtZW50IH07XG4gICAgICAgIGlmIChvcGVyYXRpb24ub3AgPT09IFwiYWRkXCIpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gb3BlcmF0aW9uLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJyZXBsYWNlXCIpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gb3BlcmF0aW9uLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlZCA9IGRvY3VtZW50OyAvL2RvY3VtZW50IHdlIHJlbW92ZWRcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwibW92ZVwiIHx8IG9wZXJhdGlvbi5vcCA9PT0gXCJjb3B5XCIpIHtcbiAgICAgICAgICAgIC8vIGl0J3MgYSBtb3ZlIG9yIGNvcHkgdG8gcm9vdFxuICAgICAgICAgICAgcmV0dXJuVmFsdWUubmV3RG9jdW1lbnQgPSBnZXRWYWx1ZUJ5UG9pbnRlcihkb2N1bWVudCwgb3BlcmF0aW9uLmZyb20pOyAvLyBnZXQgdGhlIHZhbHVlIGJ5IGpzb24tcG9pbnRlciBpbiBgZnJvbWAgZmllbGRcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24ub3AgPT09IFwibW92ZVwiKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVwb3J0IHJlbW92ZWQgaXRlbVxuICAgICAgICAgICAgICAgIHJldHVyblZhbHVlLnJlbW92ZWQgPSBkb2N1bWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwidGVzdFwiKSB7XG4gICAgICAgICAgICByZXR1cm5WYWx1ZS50ZXN0ID0gX2FyZUVxdWFscyhkb2N1bWVudCwgb3BlcmF0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZS50ZXN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRlc3Qgb3BlcmF0aW9uIGZhaWxlZFwiLCBcIlRFU1RfT1BFUkFUSU9OX0ZBSUxFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5WYWx1ZS5uZXdEb2N1bWVudCA9IGRvY3VtZW50O1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJyZW1vdmVcIikge1xuICAgICAgICAgICAgLy8gYSByZW1vdmUgb24gcm9vdFxuICAgICAgICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlZCA9IGRvY3VtZW50O1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUubmV3RG9jdW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJfZ2V0XCIpIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbi52YWx1ZSA9IGRvY3VtZW50O1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyogYmFkIG9wZXJhdGlvbiAqL1xuICAgICAgICAgICAgaWYgKHZhbGlkYXRlT3BlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiT3BlcmF0aW9uIGBvcGAgcHJvcGVydHkgaXMgbm90IG9uZSBvZiBvcGVyYXRpb25zIGRlZmluZWQgaW4gUkZDLTY5MDJcIiwgXCJPUEVSQVRJT05fT1BfSU5WQUxJRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IC8qIEVORCBST09UIE9QRVJBVElPTlMgKi9cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFtdXRhdGVEb2N1bWVudCkge1xuICAgICAgICAgICAgZG9jdW1lbnQgPSBfZGVlcENsb25lKGRvY3VtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXRoID0gb3BlcmF0aW9uLnBhdGggfHwgXCJcIjtcbiAgICAgICAgY29uc3Qga2V5cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICAgICAgICBsZXQgb2JqID0gZG9jdW1lbnQ7XG4gICAgICAgIGxldCB0ID0gMTsgLy9za2lwIGVtcHR5IGVsZW1lbnQgLSBodHRwOi8vanNwZXJmLmNvbS90by1zaGlmdC1vci1ub3QtdG8tc2hpZnRcbiAgICAgICAgbGV0IGxlbiA9IGtleXMubGVuZ3RoO1xuICAgICAgICBsZXQgZXhpc3RpbmdQYXRoRnJhZ21lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBrZXk7XG4gICAgICAgIGxldCB2YWxpZGF0ZUZ1bmN0aW9uO1xuICAgICAgICBpZiAodHlwZW9mIHZhbGlkYXRlT3BlcmF0aW9uID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFsaWRhdGVGdW5jdGlvbiA9IHZhbGlkYXRlT3BlcmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsaWRhdGVGdW5jdGlvbiA9IHZhbGlkYXRvcjtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAga2V5ID0ga2V5c1t0XTtcbiAgICAgICAgICAgIGlmIChrZXkgJiYga2V5LmluZGV4T2YoXCJ+XCIpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAga2V5ID0gdW5lc2NhcGVQYXRoQ29tcG9uZW50KGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyAmJlxuICAgICAgICAgICAgICAgIChrZXkgPT0gXCJfX3Byb3RvX19cIiB8fFxuICAgICAgICAgICAgICAgICAgICAoa2V5ID09IFwicHJvdG90eXBlXCIgJiYgdCA+IDAgJiYga2V5c1t0IC0gMV0gPT0gXCJjb25zdHJ1Y3RvclwiKSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSlNPTi1QYXRjaDogbW9kaWZ5aW5nIGBfX3Byb3RvX19gIG9yIGBjb25zdHJ1Y3Rvci9wcm90b3R5cGVgIHByb3AgaXMgYmFubmVkIGZvciBzZWN1cml0eSByZWFzb25zLCBpZiB0aGlzIHdhcyBvbiBwdXJwb3NlLCBwbGVhc2Ugc2V0IGBiYW5Qcm90b3R5cGVNb2RpZmljYXRpb25zYCBmbGFnIGZhbHNlIGFuZCBwYXNzIGl0IHRvIHRoaXMgZnVuY3Rpb24uIE1vcmUgaW5mbyBpbiBmYXN0LWpzb24tcGF0Y2ggUkVBRE1FXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbGlkYXRlT3BlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nUGF0aEZyYWdtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9ialtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUGF0aEZyYWdtZW50ID0ga2V5cy5zbGljZSgwLCB0KS5qb2luKFwiL1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ID09IGxlbiAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUGF0aEZyYWdtZW50ID0gb3BlcmF0aW9uLnBhdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nUGF0aEZyYWdtZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlRnVuY3Rpb24ob3BlcmF0aW9uLCAwLCBkb2N1bWVudCwgZXhpc3RpbmdQYXRoRnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdCsrO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwiLVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IG9iai5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGVPcGVyYXRpb24gJiYgIWlzSW50ZWdlcihrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJFeHBlY3RlZCBhbiB1bnNpZ25lZCBiYXNlLTEwIGludGVnZXIgdmFsdWUsIG1ha2luZyB0aGUgbmV3IHJlZmVyZW5jZWQgdmFsdWUgdGhlIGFycmF5IGVsZW1lbnQgd2l0aCB0aGUgemVyby1iYXNlZCBpbmRleFwiLCBcIk9QRVJBVElPTl9QQVRIX0lMTEVHQUxfQVJSQVlfSU5ERVhcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9IC8vIG9ubHkgcGFyc2Uga2V5IHdoZW4gaXQncyBhbiBpbnRlZ2VyIGZvciBgYXJyLnByb3BgIHRvIHdvcmtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNJbnRlZ2VyKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IH5+a2V5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0ID49IGxlbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGVPcGVyYXRpb24gJiYgb3BlcmF0aW9uLm9wID09PSBcImFkZFwiICYmIGtleSA+IG9iai5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRoZSBzcGVjaWZpZWQgaW5kZXggTVVTVCBOT1QgYmUgZ3JlYXRlciB0aGFuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5XCIsIFwiT1BFUkFUSU9OX1ZBTFVFX09VVF9PRl9CT1VORFNcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHVyblZhbHVlID0gYXJyT3BzW29wZXJhdGlvbi5vcF0uY2FsbChvcGVyYXRpb24sIG9iaiwga2V5LCBkb2N1bWVudCk7IC8vIEFwcGx5IHBhdGNoXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZS50ZXN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiVGVzdCBvcGVyYXRpb24gZmFpbGVkXCIsIFwiVEVTVF9PUEVSQVRJT05fRkFJTEVEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHQgPj0gbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHVyblZhbHVlID0gb2JqT3BzW29wZXJhdGlvbi5vcF0uY2FsbChvcGVyYXRpb24sIG9iaiwga2V5LCBkb2N1bWVudCk7IC8vIEFwcGx5IHBhdGNoXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZS50ZXN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiVGVzdCBvcGVyYXRpb24gZmFpbGVkXCIsIFwiVEVTVF9PUEVSQVRJT05fRkFJTEVEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqID0gb2JqW2tleV07XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG1vcmUga2V5cyBpbiB0aGUgcGF0aCwgYnV0IHRoZSBuZXh0IHZhbHVlIGlzbid0IGEgbm9uLW51bGwgb2JqZWN0LFxuICAgICAgICAgICAgLy8gdGhyb3cgYW4gT1BFUkFUSU9OX1BBVEhfVU5SRVNPTFZBQkxFIGVycm9yIGluc3RlYWQgb2YgaXRlcmF0aW5nIGFnYWluLlxuICAgICAgICAgICAgaWYgKHZhbGlkYXRlT3BlcmF0aW9uICYmIHQgPCBsZW4gJiYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gYXQgdGhlIGRlc2lyZWQgcGF0aFwiLCBcIk9QRVJBVElPTl9QQVRIX1VOUkVTT0xWQUJMRVwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEFwcGx5IGEgZnVsbCBKU09OIFBhdGNoIGFycmF5IG9uIGEgSlNPTiBkb2N1bWVudC5cbiAqIFJldHVybnMgdGhlIHtuZXdEb2N1bWVudCwgcmVzdWx0fSBvZiB0aGUgcGF0Y2guXG4gKiBJdCBtb2RpZmllcyB0aGUgYGRvY3VtZW50YCBvYmplY3QgYW5kIGBwYXRjaGAgLSBpdCBnZXRzIHRoZSB2YWx1ZXMgYnkgcmVmZXJlbmNlLlxuICogSWYgeW91IHdvdWxkIGxpa2UgdG8gYXZvaWQgdG91Y2hpbmcgeW91ciB2YWx1ZXMsIGNsb25lIHRoZW06XG4gKiBganNvbnBhdGNoLmFwcGx5UGF0Y2goZG9jdW1lbnQsIGpzb25wYXRjaC5fZGVlcENsb25lKHBhdGNoKSlgLlxuICpcbiAqIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gcGF0Y2hcbiAqIEBwYXJhbSBwYXRjaCBUaGUgcGF0Y2ggdG8gYXBwbHlcbiAqIEBwYXJhbSB2YWxpZGF0ZU9wZXJhdGlvbiBgZmFsc2VgIGlzIHdpdGhvdXQgdmFsaWRhdGlvbiwgYHRydWVgIHRvIHVzZSBkZWZhdWx0IGpzb25wYXRjaCdzIHZhbGlkYXRpb24sIG9yIHlvdSBjYW4gcGFzcyBhIGB2YWxpZGF0ZU9wZXJhdGlvbmAgY2FsbGJhY2sgdG8gYmUgdXNlZCBmb3IgdmFsaWRhdGlvbi5cbiAqIEBwYXJhbSBtdXRhdGVEb2N1bWVudCBXaGV0aGVyIHRvIG11dGF0ZSB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgb3IgY2xvbmUgaXQgYmVmb3JlIGFwcGx5aW5nXG4gKiBAcGFyYW0gYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyBXaGV0aGVyIHRvIGJhbiBtb2RpZmljYXRpb25zIHRvIGBfX3Byb3RvX19gLCBkZWZhdWx0cyB0byBgdHJ1ZWAuXG4gKiBAcmV0dXJuIEFuIGFycmF5IG9mIGB7bmV3RG9jdW1lbnQsIHJlc3VsdH1gIGFmdGVyIHRoZSBwYXRjaFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlQYXRjaChkb2N1bWVudCwgcGF0Y2gsIHZhbGlkYXRlT3BlcmF0aW9uLCBtdXRhdGVEb2N1bWVudCA9IHRydWUsIGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMgPSB0cnVlKSB7XG4gICAgaWYgKHZhbGlkYXRlT3BlcmF0aW9uKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShwYXRjaCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlBhdGNoIHNlcXVlbmNlIG11c3QgYmUgYW4gYXJyYXlcIiwgXCJTRVFVRU5DRV9OT1RfQU5fQVJSQVlcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFtdXRhdGVEb2N1bWVudCkge1xuICAgICAgICBkb2N1bWVudCA9IF9kZWVwQ2xvbmUoZG9jdW1lbnQpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHRzID0gbmV3IEFycmF5KHBhdGNoLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHBhdGNoLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gcGFzcyBtdXRhdGVEb2N1bWVudCBhcmd1bWVudCBiZWNhdXNlIGlmIGl0IHdhcyB0cnVlLCB3ZSBhbHJlYWR5IGRlZXAgY2xvbmVkIHRoZSBvYmplY3QsIHdlJ2xsIGp1c3QgcGFzcyBgdHJ1ZWBcbiAgICAgICAgcmVzdWx0c1tpXSA9IGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCBwYXRjaFtpXSwgdmFsaWRhdGVPcGVyYXRpb24sIHRydWUsIGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMsIGkpO1xuICAgICAgICBkb2N1bWVudCA9IHJlc3VsdHNbaV0ubmV3RG9jdW1lbnQ7IC8vIGluIGNhc2Ugcm9vdCB3YXMgcmVwbGFjZWRcbiAgICB9XG4gICAgcmVzdWx0cy5uZXdEb2N1bWVudCA9IGRvY3VtZW50O1xuICAgIHJldHVybiByZXN1bHRzO1xufVxuLyoqXG4gKiBBcHBseSBhIHNpbmdsZSBKU09OIFBhdGNoIE9wZXJhdGlvbiBvbiBhIEpTT04gZG9jdW1lbnQuXG4gKiBSZXR1cm5zIHRoZSB1cGRhdGVkIGRvY3VtZW50LlxuICogU3VpdGFibGUgYXMgYSByZWR1Y2VyLlxuICpcbiAqIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gcGF0Y2hcbiAqIEBwYXJhbSBvcGVyYXRpb24gVGhlIG9wZXJhdGlvbiB0byBhcHBseVxuICogQHJldHVybiBUaGUgdXBkYXRlZCBkb2N1bWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlSZWR1Y2VyKGRvY3VtZW50LCBvcGVyYXRpb24sIGluZGV4KSB7XG4gICAgY29uc3Qgb3BlcmF0aW9uUmVzdWx0ID0gYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIG9wZXJhdGlvbik7XG4gICAgaWYgKG9wZXJhdGlvblJlc3VsdC50ZXN0ID09PSBmYWxzZSkge1xuICAgICAgICAvLyBmYWlsZWQgdGVzdFxuICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJUZXN0IG9wZXJhdGlvbiBmYWlsZWRcIiwgXCJURVNUX09QRVJBVElPTl9GQUlMRURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gb3BlcmF0aW9uUmVzdWx0Lm5ld0RvY3VtZW50O1xufVxuLyoqXG4gKiBWYWxpZGF0ZXMgYSBzaW5nbGUgb3BlcmF0aW9uLiBDYWxsZWQgZnJvbSBganNvbnBhdGNoLnZhbGlkYXRlYC4gVGhyb3dzIGBKc29uUGF0Y2hFcnJvcmAgaW4gY2FzZSBvZiBhbiBlcnJvci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcGVyYXRpb24gLSBvcGVyYXRpb24gb2JqZWN0IChwYXRjaClcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIGluZGV4IG9mIG9wZXJhdGlvbiBpbiB0aGUgc2VxdWVuY2VcbiAqIEBwYXJhbSB7b2JqZWN0fSBbZG9jdW1lbnRdIC0gb2JqZWN0IHdoZXJlIHRoZSBvcGVyYXRpb24gaXMgc3VwcG9zZWQgdG8gYmUgYXBwbGllZFxuICogQHBhcmFtIHtzdHJpbmd9IFtleGlzdGluZ1BhdGhGcmFnbWVudF0gLSBjb21lcyBhbG9uZyB3aXRoIGBkb2N1bWVudGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRvcihvcGVyYXRpb24sIGluZGV4LCBkb2N1bWVudCwgZXhpc3RpbmdQYXRoRnJhZ21lbnQpIHtcbiAgICBpZiAodHlwZW9mIG9wZXJhdGlvbiAhPT0gXCJvYmplY3RcIiB8fFxuICAgICAgICBvcGVyYXRpb24gPT09IG51bGwgfHxcbiAgICAgICAgQXJyYXkuaXNBcnJheShvcGVyYXRpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBpcyBub3QgYW4gb2JqZWN0XCIsIFwiT1BFUkFUSU9OX05PVF9BTl9PQkpFQ1RcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmICghb2JqT3BzW29wZXJhdGlvbi5vcF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiT3BlcmF0aW9uIGBvcGAgcHJvcGVydHkgaXMgbm90IG9uZSBvZiBvcGVyYXRpb25zIGRlZmluZWQgaW4gUkZDLTY5MDJcIiwgXCJPUEVSQVRJT05fT1BfSU5WQUxJRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBvcGVyYXRpb24ucGF0aCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJPcGVyYXRpb24gYHBhdGhgIHByb3BlcnR5IGlzIG5vdCBhIHN0cmluZ1wiLCBcIk9QRVJBVElPTl9QQVRIX0lOVkFMSURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChvcGVyYXRpb24ucGF0aC5pbmRleE9mKFwiL1wiKSAhPT0gMCAmJiBvcGVyYXRpb24ucGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIHBhdGhzIHRoYXQgYXJlbid0IGVtcHR5IHN0cmluZyBzaG91bGQgc3RhcnQgd2l0aCBcIi9cIlxuICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoJ09wZXJhdGlvbiBgcGF0aGAgcHJvcGVydHkgbXVzdCBzdGFydCB3aXRoIFwiL1wiJywgXCJPUEVSQVRJT05fUEFUSF9JTlZBTElEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKG9wZXJhdGlvbi5vcCA9PT0gXCJtb3ZlXCIgfHwgb3BlcmF0aW9uLm9wID09PSBcImNvcHlcIikgJiZcbiAgICAgICAgdHlwZW9mIG9wZXJhdGlvbi5mcm9tICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgZnJvbWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYG1vdmVgIGFuZCBgY29weWAgb3BlcmF0aW9ucylcIiwgXCJPUEVSQVRJT05fRlJPTV9SRVFVSVJFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKChvcGVyYXRpb24ub3AgPT09IFwiYWRkXCIgfHxcbiAgICAgICAgb3BlcmF0aW9uLm9wID09PSBcInJlcGxhY2VcIiB8fFxuICAgICAgICBvcGVyYXRpb24ub3AgPT09IFwidGVzdFwiKSAmJlxuICAgICAgICBvcGVyYXRpb24udmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJPcGVyYXRpb24gYHZhbHVlYCBwcm9wZXJ0eSBpcyBub3QgcHJlc2VudCAoYXBwbGljYWJsZSBpbiBgYWRkYCwgYHJlcGxhY2VgIGFuZCBgdGVzdGAgb3BlcmF0aW9ucylcIiwgXCJPUEVSQVRJT05fVkFMVUVfUkVRVUlSRURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmICgob3BlcmF0aW9uLm9wID09PSBcImFkZFwiIHx8XG4gICAgICAgIG9wZXJhdGlvbi5vcCA9PT0gXCJyZXBsYWNlXCIgfHxcbiAgICAgICAgb3BlcmF0aW9uLm9wID09PSBcInRlc3RcIikgJiZcbiAgICAgICAgaGFzVW5kZWZpbmVkKG9wZXJhdGlvbi52YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiT3BlcmF0aW9uIGB2YWx1ZWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYGFkZGAsIGByZXBsYWNlYCBhbmQgYHRlc3RgIG9wZXJhdGlvbnMpXCIsIFwiT1BFUkFUSU9OX1ZBTFVFX0NBTk5PVF9DT05UQUlOX1VOREVGSU5FRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRvY3VtZW50KSB7XG4gICAgICAgIGlmIChvcGVyYXRpb24ub3AgPT0gXCJhZGRcIikge1xuICAgICAgICAgICAgdmFyIHBhdGhMZW4gPSBvcGVyYXRpb24ucGF0aC5zcGxpdChcIi9cIikubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGV4aXN0aW5nUGF0aExlbiA9IGV4aXN0aW5nUGF0aEZyYWdtZW50LnNwbGl0KFwiL1wiKS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAocGF0aExlbiAhPT0gZXhpc3RpbmdQYXRoTGVuICsgMSAmJiBwYXRoTGVuICE9PSBleGlzdGluZ1BhdGhMZW4pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJDYW5ub3QgcGVyZm9ybSBhbiBgYWRkYCBvcGVyYXRpb24gYXQgdGhlIGRlc2lyZWQgcGF0aFwiLCBcIk9QRVJBVElPTl9QQVRIX0NBTk5PVF9BRERcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJyZXBsYWNlXCIgfHxcbiAgICAgICAgICAgIG9wZXJhdGlvbi5vcCA9PT0gXCJyZW1vdmVcIiB8fFxuICAgICAgICAgICAgb3BlcmF0aW9uLm9wID09PSBcIl9nZXRcIikge1xuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbi5wYXRoICE9PSBleGlzdGluZ1BhdGhGcmFnbWVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIkNhbm5vdCBwZXJmb3JtIHRoZSBvcGVyYXRpb24gYXQgYSBwYXRoIHRoYXQgZG9lcyBub3QgZXhpc3RcIiwgXCJPUEVSQVRJT05fUEFUSF9VTlJFU09MVkFCTEVcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJtb3ZlXCIgfHwgb3BlcmF0aW9uLm9wID09PSBcImNvcHlcIikge1xuICAgICAgICAgICAgdmFyIGV4aXN0aW5nVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgb3A6IFwiX2dldFwiLFxuICAgICAgICAgICAgICAgIHBhdGg6IG9wZXJhdGlvbi5mcm9tLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGVycm9yID0gdmFsaWRhdGUoW2V4aXN0aW5nVmFsdWVdLCBkb2N1bWVudCk7XG4gICAgICAgICAgICBpZiAoZXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gXCJPUEVSQVRJT05fUEFUSF9VTlJFU09MVkFCTEVcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIkNhbm5vdCBwZXJmb3JtIHRoZSBvcGVyYXRpb24gZnJvbSBhIHBhdGggdGhhdCBkb2VzIG5vdCBleGlzdFwiLCBcIk9QRVJBVElPTl9GUk9NX1VOUkVTT0xWQUJMRVwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFZhbGlkYXRlcyBhIHNlcXVlbmNlIG9mIG9wZXJhdGlvbnMuIElmIGBkb2N1bWVudGAgcGFyYW1ldGVyIGlzIHByb3ZpZGVkLCB0aGUgc2VxdWVuY2UgaXMgYWRkaXRpb25hbGx5IHZhbGlkYXRlZCBhZ2FpbnN0IHRoZSBvYmplY3QgZG9jdW1lbnQuXG4gKiBJZiBlcnJvciBpcyBlbmNvdW50ZXJlZCwgcmV0dXJucyBhIEpzb25QYXRjaEVycm9yIG9iamVjdFxuICogQHBhcmFtIHNlcXVlbmNlXG4gKiBAcGFyYW0gZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtKc29uUGF0Y2hFcnJvcnx1bmRlZmluZWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZShzZXF1ZW5jZSwgZG9jdW1lbnQsIGV4dGVybmFsVmFsaWRhdG9yKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHNlcXVlbmNlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiUGF0Y2ggc2VxdWVuY2UgbXVzdCBiZSBhbiBhcnJheVwiLCBcIlNFUVVFTkNFX05PVF9BTl9BUlJBWVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIC8vY2xvbmUgZG9jdW1lbnQgYW5kIHNlcXVlbmNlIHNvIHRoYXQgd2UgY2FuIHNhZmVseSB0cnkgYXBwbHlpbmcgb3BlcmF0aW9uc1xuICAgICAgICAgICAgYXBwbHlQYXRjaChfZGVlcENsb25lKGRvY3VtZW50KSwgX2RlZXBDbG9uZShzZXF1ZW5jZSksIGV4dGVybmFsVmFsaWRhdG9yIHx8IHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXh0ZXJuYWxWYWxpZGF0b3IgPSBleHRlcm5hbFZhbGlkYXRvciB8fCB2YWxpZGF0b3I7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlcXVlbmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxWYWxpZGF0b3Ioc2VxdWVuY2VbaV0sIGksIGRvY3VtZW50LCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgSnNvblBhdGNoRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9lcG9iZXJlemtpbi9mYXN0LWRlZXAtZXF1YWxcbi8vIE1JVCBMaWNlbnNlXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTcgRXZnZW55IFBvYmVyZXpraW5cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbi8vIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbi8vIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuLy8gY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbi8vIFNPRlRXQVJFLlxuZXhwb3J0IGZ1bmN0aW9uIF9hcmVFcXVhbHMoYSwgYikge1xuICAgIGlmIChhID09PSBiKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGIgPT0gXCJvYmplY3RcIikge1xuICAgICAgICB2YXIgYXJyQSA9IEFycmF5LmlzQXJyYXkoYSksIGFyckIgPSBBcnJheS5pc0FycmF5KGIpLCBpLCBsZW5ndGgsIGtleTtcbiAgICAgICAgaWYgKGFyckEgJiYgYXJyQikge1xuICAgICAgICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOylcbiAgICAgICAgICAgICAgICBpZiAoIV9hcmVFcXVhbHMoYVtpXSwgYltpXSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcnJBICE9IGFyckIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOylcbiAgICAgICAgICAgIGlmICghYi5oYXNPd25Qcm9wZXJ0eShrZXlzW2ldKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykge1xuICAgICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIGlmICghX2FyZUVxdWFscyhhW2tleV0sIGJba2V5XSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gYSAhPT0gYSAmJiBiICE9PSBiO1xufVxuIiwiLypcbiAqIFN1cHBvcnQgYXN5bmMgaXRlcmF0b3Igc3ludGF4IGZvciBSZWFkYWJsZVN0cmVhbXMgaW4gYWxsIGVudmlyb25tZW50cy5cbiAqIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL01hdHRpYXNCdWVsZW5zL3dlYi1zdHJlYW1zLXBvbHlmaWxsL3B1bGwvMTIyI2lzc3VlY29tbWVudC0xNjI3MzU0NDkwXG4gKi9cbmV4cG9ydCBjbGFzcyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIGV4dGVuZHMgUmVhZGFibGVTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWFkZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW5zdXJlUmVhZGVyKCkge1xuICAgICAgICBpZiAoIXRoaXMucmVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRlciA9IHRoaXMuZ2V0UmVhZGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgbmV4dCgpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVSZWFkZXIoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSlcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWRlci5yZWxlYXNlTG9jaygpOyAvLyByZWxlYXNlIGxvY2sgd2hlbiBzdHJlYW0gYmVjb21lcyBjbG9zZWRcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGVycm9yZWRcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcmV0dXJuKCkge1xuICAgICAgICB0aGlzLmVuc3VyZVJlYWRlcigpO1xuICAgICAgICBjb25zdCBjYW5jZWxQcm9taXNlID0gdGhpcy5yZWFkZXIuY2FuY2VsKCk7IC8vIGNhbmNlbCBmaXJzdCwgYnV0IGRvbid0IGF3YWl0IHlldFxuICAgICAgICB0aGlzLnJlYWRlci5yZWxlYXNlTG9jaygpOyAvLyByZWxlYXNlIGxvY2sgZmlyc3RcbiAgICAgICAgYXdhaXQgY2FuY2VsUHJvbWlzZTsgLy8gbm93IGF3YWl0IGl0XG4gICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTsgLy8gVGhpcyBjYXN0IGZpeGVzIFRTIHR5cGluZywgYW5kIGNvbnZlbnRpb24gaXMgdG8gaWdub3JlIGZpbmFsIGNodW5rIHZhbHVlIGFueXdheVxuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3RhdGljIGZyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pIHtcbiAgICAgICAgLy8gRnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU3RyZWFtc19BUEkvVXNpbmdfcmVhZGFibGVfc3RyZWFtcyNyZWFkaW5nX3RoZV9zdHJlYW1cbiAgICAgICAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwdW1wKCk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcHVtcCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkKCkudGhlbigoeyBkb25lLCB2YWx1ZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIG5vIG1vcmUgZGF0YSBuZWVkcyB0byBiZSBjb25zdW1lZCwgY2xvc2UgdGhlIHN0cmVhbVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5xdWV1ZSB0aGUgbmV4dCBkYXRhIGNodW5rIGludG8gb3VyIHRhcmdldCBzdHJlYW1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHVtcCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21Bc3luY0dlbmVyYXRvcihnZW5lcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IGdlbmVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBubyBtb3JlIGRhdGEgbmVlZHMgdG8gYmUgY29uc3VtZWQsIGNsb3NlIHRoZSBzdHJlYW1cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEZpeDogYGVsc2UgaWYgKHZhbHVlKWAgd2lsbCBoYW5nIHRoZSBzdHJlYW1pbmcgd2hlbiBudWxsaXNoIHZhbHVlIChlLmcuIGVtcHR5IHN0cmluZykgaXMgcHVsbGVkXG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGFwcGx5UGF0Y2gsIH0gZnJvbSBcIi4uLy4uL3V0aWwvZmFzdC1qc29uLXBhdGNoL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4vdHJhY2VyLmpzXCI7XG5pbXBvcnQgeyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIH0gZnJvbSBcIi4uLy4uL3V0aWwvc3RyZWFtLmpzXCI7XG4vKipcbiAqIExpc3Qgb2YganNvbnBhdGNoIEpTT05QYXRjaE9wZXJhdGlvbnMsIHdoaWNoIGRlc2NyaWJlIGhvdyB0byBjcmVhdGUgdGhlIHJ1biBzdGF0ZVxuICogZnJvbSBhbiBlbXB0eSBkaWN0LiBUaGlzIGlzIHRoZSBtaW5pbWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBsb2csIGRlc2lnbmVkIHRvXG4gKiBiZSBzZXJpYWxpemVkIGFzIEpTT04gYW5kIHNlbnQgb3ZlciB0aGUgd2lyZSB0byByZWNvbnN0cnVjdCB0aGUgbG9nIG9uIHRoZSBvdGhlclxuICogc2lkZS4gUmVjb25zdHJ1Y3Rpb24gb2YgdGhlIHN0YXRlIGNhbiBiZSBkb25lIHdpdGggYW55IGpzb25wYXRjaC1jb21wbGlhbnQgbGlicmFyeSxcbiAqIHNlZSBodHRwczovL2pzb25wYXRjaC5jb20gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5Mb2dQYXRjaCB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wcyA9IGZpZWxkcy5vcHM7XG4gICAgfVxuICAgIGNvbmNhdChvdGhlcikge1xuICAgICAgICBjb25zdCBvcHMgPSB0aGlzLm9wcy5jb25jYXQob3RoZXIub3BzKTtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gYXBwbHlQYXRjaCh7fSwgb3BzKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICByZXR1cm4gbmV3IFJ1bkxvZyh7XG4gICAgICAgICAgICBvcHMsXG4gICAgICAgICAgICBzdGF0ZTogc3RhdGVzW3N0YXRlcy5sZW5ndGggLSAxXS5uZXdEb2N1bWVudCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1bkxvZyBleHRlbmRzIFJ1bkxvZ1BhdGNoIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhdGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGZpZWxkcy5zdGF0ZTtcbiAgICB9XG4gICAgY29uY2F0KG90aGVyKSB7XG4gICAgICAgIGNvbnN0IG9wcyA9IHRoaXMub3BzLmNvbmNhdChvdGhlci5vcHMpO1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSBhcHBseVBhdGNoKHRoaXMuc3RhdGUsIG90aGVyLm9wcyk7XG4gICAgICAgIHJldHVybiBuZXcgUnVuTG9nKHsgb3BzLCBzdGF0ZTogc3RhdGVzW3N0YXRlcy5sZW5ndGggLSAxXS5uZXdEb2N1bWVudCB9KTtcbiAgICB9XG59XG4vKipcbiAqIENsYXNzIHRoYXQgZXh0ZW5kcyB0aGUgYEJhc2VUcmFjZXJgIGNsYXNzIGZyb20gdGhlXG4gKiBgbGFuZ2NoYWluLmNhbGxiYWNrcy50cmFjZXJzLmJhc2VgIG1vZHVsZS4gSXQgcmVwcmVzZW50cyBhIGNhbGxiYWNrXG4gKiBoYW5kbGVyIHRoYXQgbG9ncyB0aGUgZXhlY3V0aW9uIG9mIHJ1bnMgYW5kIGVtaXRzIGBSdW5Mb2dgIGluc3RhbmNlcyB0byBhXG4gKiBgUnVuTG9nU3RyZWFtYC5cbiAqL1xuZXhwb3J0IGNsYXNzIExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlciBleHRlbmRzIEJhc2VUcmFjZXIge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhdXRvQ2xvc2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluY2x1ZGVOYW1lc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbmNsdWRlVHlwZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5jbHVkZVRhZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXhjbHVkZU5hbWVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV4Y2x1ZGVUeXBlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleGNsdWRlVGFnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJrZXlNYXBCeVJ1bklkXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB7fVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY291bnRlck1hcEJ5UnVuTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZToge31cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRyYW5zZm9ybVN0cmVhbVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3cml0ZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVjZWl2ZVN0cmVhbVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImxvZ19zdHJlYW1fdHJhY2VyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXV0b0Nsb3NlID0gZmllbGRzPy5hdXRvQ2xvc2UgPz8gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbmNsdWRlTmFtZXMgPSBmaWVsZHM/LmluY2x1ZGVOYW1lcztcbiAgICAgICAgdGhpcy5pbmNsdWRlVHlwZXMgPSBmaWVsZHM/LmluY2x1ZGVUeXBlcztcbiAgICAgICAgdGhpcy5pbmNsdWRlVGFncyA9IGZpZWxkcz8uaW5jbHVkZVRhZ3M7XG4gICAgICAgIHRoaXMuZXhjbHVkZU5hbWVzID0gZmllbGRzPy5leGNsdWRlTmFtZXM7XG4gICAgICAgIHRoaXMuZXhjbHVkZVR5cGVzID0gZmllbGRzPy5leGNsdWRlVHlwZXM7XG4gICAgICAgIHRoaXMuZXhjbHVkZVRhZ3MgPSBmaWVsZHM/LmV4Y2x1ZGVUYWdzO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybVN0cmVhbSA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oKTtcbiAgICAgICAgdGhpcy53cml0ZXIgPSB0aGlzLnRyYW5zZm9ybVN0cmVhbS53cml0YWJsZS5nZXRXcml0ZXIoKTtcbiAgICAgICAgdGhpcy5yZWNlaXZlU3RyZWFtID0gSXRlcmFibGVSZWFkYWJsZVN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0odGhpcy50cmFuc2Zvcm1TdHJlYW0ucmVhZGFibGUpO1xuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWNlaXZlU3RyZWFtO1xuICAgIH1cbiAgICBhc3luYyBwZXJzaXN0UnVuKF9ydW4pIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIGxlZ2FjeSBtZXRob2Qgb25seSBjYWxsZWQgb25jZSBmb3IgYW4gZW50aXJlIHJ1biB0cmVlXG4gICAgICAgIC8vIGFuZCBpcyB0aGVyZWZvcmUgbm90IHVzZWZ1bCBoZXJlXG4gICAgfVxuICAgIF9pbmNsdWRlUnVuKHJ1bikge1xuICAgICAgICBpZiAocnVuLnBhcmVudF9ydW5faWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJ1blRhZ3MgPSBydW4udGFncyA/PyBbXTtcbiAgICAgICAgbGV0IGluY2x1ZGUgPSB0aGlzLmluY2x1ZGVOYW1lcyA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICB0aGlzLmluY2x1ZGVUYWdzID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHRoaXMuaW5jbHVkZVR5cGVzID09PSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmluY2x1ZGVOYW1lcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpbmNsdWRlID0gaW5jbHVkZSB8fCB0aGlzLmluY2x1ZGVOYW1lcy5pbmNsdWRlcyhydW4ubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5jbHVkZVR5cGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGluY2x1ZGUgPSBpbmNsdWRlIHx8IHRoaXMuaW5jbHVkZVR5cGVzLmluY2x1ZGVzKHJ1bi5ydW5fdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5jbHVkZVRhZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5jbHVkZSA9XG4gICAgICAgICAgICAgICAgaW5jbHVkZSB8fFxuICAgICAgICAgICAgICAgICAgICBydW5UYWdzLmZpbmQoKHRhZykgPT4gdGhpcy5pbmNsdWRlVGFncz8uaW5jbHVkZXModGFnKSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5leGNsdWRlTmFtZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5jbHVkZSA9IGluY2x1ZGUgJiYgIXRoaXMuZXhjbHVkZU5hbWVzLmluY2x1ZGVzKHJ1bi5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5leGNsdWRlVHlwZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5jbHVkZSA9IGluY2x1ZGUgJiYgIXRoaXMuZXhjbHVkZVR5cGVzLmluY2x1ZGVzKHJ1bi5ydW5fdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZXhjbHVkZVRhZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5jbHVkZSA9XG4gICAgICAgICAgICAgICAgaW5jbHVkZSAmJiBydW5UYWdzLmV2ZXJ5KCh0YWcpID0+ICF0aGlzLmV4Y2x1ZGVUYWdzPy5pbmNsdWRlcyh0YWcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5jbHVkZTtcbiAgICB9XG4gICAgYXN5bmMgb25SdW5DcmVhdGUocnVuKSB7XG4gICAgICAgIGlmIChydW4ucGFyZW50X3J1bl9pZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLndyaXRlci53cml0ZShuZXcgUnVuTG9nUGF0Y2goe1xuICAgICAgICAgICAgICAgIG9wczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcnVuLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbWVkX291dHB1dDogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxfb3V0cHV0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nczoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9pbmNsdWRlUnVuKHJ1bikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb3VudGVyTWFwQnlSdW5OYW1lW3J1bi5uYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJNYXBCeVJ1bk5hbWVbcnVuLm5hbWVdID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvdW50ZXJNYXBCeVJ1bk5hbWVbcnVuLm5hbWVdICs9IDE7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5jb3VudGVyTWFwQnlSdW5OYW1lW3J1bi5uYW1lXTtcbiAgICAgICAgdGhpcy5rZXlNYXBCeVJ1bklkW3J1bi5pZF0gPVxuICAgICAgICAgICAgY291bnQgPT09IDEgPyBydW4ubmFtZSA6IGAke3J1bi5uYW1lfToke2NvdW50fWA7XG4gICAgICAgIGNvbnN0IGxvZ0VudHJ5ID0ge1xuICAgICAgICAgICAgaWQ6IHJ1bi5pZCxcbiAgICAgICAgICAgIG5hbWU6IHJ1bi5uYW1lLFxuICAgICAgICAgICAgdHlwZTogcnVuLnJ1bl90eXBlLFxuICAgICAgICAgICAgdGFnczogcnVuLnRhZ3MgPz8gW10sXG4gICAgICAgICAgICBtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fSxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWU6IG5ldyBEYXRlKHJ1bi5zdGFydF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgc3RyZWFtZWRfb3V0cHV0X3N0cjogW10sXG4gICAgICAgICAgICBmaW5hbF9vdXRwdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuZF90aW1lOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IHRoaXMud3JpdGVyLndyaXRlKG5ldyBSdW5Mb2dQYXRjaCh7XG4gICAgICAgICAgICBvcHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9wOiBcImFkZFwiLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBgL2xvZ3MvJHt0aGlzLmtleU1hcEJ5UnVuSWRbcnVuLmlkXX1gLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbG9nRW50cnksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgYXN5bmMgb25SdW5VcGRhdGUocnVuKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBydW5OYW1lID0gdGhpcy5rZXlNYXBCeVJ1bklkW3J1bi5pZF07XG4gICAgICAgICAgICBpZiAocnVuTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3BzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L2ZpbmFsX291dHB1dGAsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBydW4ub3V0cHV0cyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmIChydW4uZW5kX3RpbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG9wcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L2VuZF90aW1lYCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhdGNoID0gbmV3IFJ1bkxvZ1BhdGNoKHsgb3BzIH0pO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy53cml0ZXIud3JpdGUocGF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKHJ1bi5wYXJlbnRfcnVuX2lkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRjaCA9IG5ldyBSdW5Mb2dQYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgIG9wczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBcIi9maW5hbF9vdXRwdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcnVuLm91dHB1dHMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud3JpdGVyLndyaXRlKHBhdGNoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdXRvQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53cml0ZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgb25MTE1OZXdUb2tlbihydW4sIHRva2VuKSB7XG4gICAgICAgIGNvbnN0IHJ1bk5hbWUgPSB0aGlzLmtleU1hcEJ5UnVuSWRbcnVuLmlkXTtcbiAgICAgICAgaWYgKHJ1bk5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhdGNoID0gbmV3IFJ1bkxvZ1BhdGNoKHtcbiAgICAgICAgICAgIG9wczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L3N0cmVhbWVkX291dHB1dF9zdHIvLWAsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0b2tlbixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMud3JpdGVyLndyaXRlKHBhdGNoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDYWxsYmFja01hbmFnZXIsIH0gZnJvbSBcIi4uLy4uL2NhbGxiYWNrcy9tYW5hZ2VyLmpzXCI7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcoY29uZmlnKSB7XG4gICAgcmV0dXJuIENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUoY29uZmlnPy5jYWxsYmFja3MsIHVuZGVmaW5lZCwgY29uZmlnPy50YWdzLCB1bmRlZmluZWQsIGNvbmZpZz8ubWV0YWRhdGEpO1xufVxuIiwiaW1wb3J0IHBSZXRyeSBmcm9tIFwicC1yZXRyeVwiO1xuaW1wb3J0IFBRdWV1ZU1vZCBmcm9tIFwicC1xdWV1ZVwiO1xuY29uc3QgU1RBVFVTX05PX1JFVFJZID0gW1xuICAgIDQwMCxcbiAgICA0MDEsXG4gICAgNDAyLFxuICAgIDQwMyxcbiAgICA0MDQsXG4gICAgNDA1LFxuICAgIDQwNixcbiAgICA0MDcsXG4gICAgNDA4LFxuICAgIDQwOSwgLy8gQ29uZmxpY3Rcbl07XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuY29uc3QgZGVmYXVsdEZhaWxlZEF0dGVtcHRIYW5kbGVyID0gKGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aChcIkNhbmNlbFwiKSB8fFxuICAgICAgICBlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJUaW1lb3V0RXJyb3JcIikgfHxcbiAgICAgICAgZXJyb3IubmFtZSA9PT0gXCJUaW1lb3V0RXJyb3JcIiB8fFxuICAgICAgICBlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJBYm9ydEVycm9yXCIpIHx8XG4gICAgICAgIGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGlmIChlcnJvcj8uY29kZSA9PT0gXCJFQ09OTkFCT1JURURcIikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgY29uc3Qgc3RhdHVzID0gXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBlcnJvcj8ucmVzcG9uc2U/LnN0YXR1cyA/PyBlcnJvcj8uc3RhdHVzO1xuICAgIGlmIChzdGF0dXMgJiYgU1RBVFVTX05PX1JFVFJZLmluY2x1ZGVzKCtzdGF0dXMpKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGlmIChlcnJvcj8uZXJyb3I/LmNvZGUgPT09IFwiaW5zdWZmaWNpZW50X3F1b3RhXCIpIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGVycm9yPy5tZXNzYWdlKTtcbiAgICAgICAgZXJyLm5hbWUgPSBcIkluc3VmZmljaWVudFF1b3RhRXJyb3JcIjtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbn07XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBjYW4gYmUgdXNlZCB0byBtYWtlIGFzeW5jIGNhbGxzIHdpdGggY29uY3VycmVuY3kgYW5kIHJldHJ5IGxvZ2ljLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGZvciBtYWtpbmcgY2FsbHMgdG8gYW55IGtpbmQgb2YgXCJleHBlbnNpdmVcIiBleHRlcm5hbCByZXNvdXJjZSxcbiAqIGJlIGl0IGJlY2F1c2UgaXQncyByYXRlLWxpbWl0ZWQsIHN1YmplY3QgdG8gbmV0d29yayBpc3N1ZXMsIGV0Yy5cbiAqXG4gKiBDb25jdXJyZW50IGNhbGxzIGFyZSBsaW1pdGVkIGJ5IHRoZSBgbWF4Q29uY3VycmVuY3lgIHBhcmFtZXRlciwgd2hpY2ggZGVmYXVsdHNcbiAqIHRvIGBJbmZpbml0eWAuIFRoaXMgbWVhbnMgdGhhdCBieSBkZWZhdWx0LCBhbGwgY2FsbHMgd2lsbCBiZSBtYWRlIGluIHBhcmFsbGVsLlxuICpcbiAqIFJldHJpZXMgYXJlIGxpbWl0ZWQgYnkgdGhlIGBtYXhSZXRyaWVzYCBwYXJhbWV0ZXIsIHdoaWNoIGRlZmF1bHRzIHRvIDYuIFRoaXNcbiAqIG1lYW5zIHRoYXQgYnkgZGVmYXVsdCwgZWFjaCBjYWxsIHdpbGwgYmUgcmV0cmllZCB1cCB0byA2IHRpbWVzLCB3aXRoIGFuXG4gKiBleHBvbmVudGlhbCBiYWNrb2ZmIGJldHdlZW4gZWFjaCBhdHRlbXB0LlxuICovXG5leHBvcnQgY2xhc3MgQXN5bmNDYWxsZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhDb25jdXJyZW5jeVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhSZXRyaWVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uRmFpbGVkQXR0ZW1wdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJxdWV1ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1heENvbmN1cnJlbmN5ID0gcGFyYW1zLm1heENvbmN1cnJlbmN5ID8/IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFJldHJpZXMgPSBwYXJhbXMubWF4UmV0cmllcyA/PyA2O1xuICAgICAgICB0aGlzLm9uRmFpbGVkQXR0ZW1wdCA9XG4gICAgICAgICAgICBwYXJhbXMub25GYWlsZWRBdHRlbXB0ID8/IGRlZmF1bHRGYWlsZWRBdHRlbXB0SGFuZGxlcjtcbiAgICAgICAgY29uc3QgUFF1ZXVlID0gXCJkZWZhdWx0XCIgaW4gUFF1ZXVlTW9kID8gUFF1ZXVlTW9kLmRlZmF1bHQgOiBQUXVldWVNb2Q7XG4gICAgICAgIHRoaXMucXVldWUgPSBuZXcgUFF1ZXVlKHsgY29uY3VycmVuY3k6IHRoaXMubWF4Q29uY3VycmVuY3kgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY2FsbChjYWxsYWJsZSwgLi4uYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZS5hZGQoKCkgPT4gcFJldHJ5KCgpID0+IGNhbGxhYmxlKC4uLmFyZ3MpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWluc3RhbmNlb2Yvbm8taW5zdGFuY2VvZlxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCB7XG4gICAgICAgICAgICBvbkZhaWxlZEF0dGVtcHQ6IHRoaXMub25GYWlsZWRBdHRlbXB0LFxuICAgICAgICAgICAgcmV0cmllczogdGhpcy5tYXhSZXRyaWVzLFxuICAgICAgICAgICAgcmFuZG9taXplOiB0cnVlLFxuICAgICAgICAgICAgLy8gSWYgbmVlZGVkIHdlIGNhbiBjaGFuZ2Ugc29tZSBvZiB0aGUgZGVmYXVsdHMgaGVyZSxcbiAgICAgICAgICAgIC8vIGJ1dCB0aGV5J3JlIHF1aXRlIHNlbnNpYmxlLlxuICAgICAgICB9KSwgeyB0aHJvd09uVGltZW91dDogdHJ1ZSB9KTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjYWxsV2l0aE9wdGlvbnMob3B0aW9ucywgY2FsbGFibGUsIC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gTm90ZSB0aGlzIGRvZXNuJ3QgY2FuY2VsIHRoZSB1bmRlcmx5aW5nIHJlcXVlc3QsXG4gICAgICAgIC8vIHdoZW4gYXZhaWxhYmxlIHByZWZlciB0byB1c2UgdGhlIHNpZ25hbCBvcHRpb24gb2YgdGhlIHVuZGVybHlpbmcgY2FsbFxuICAgICAgICBpZiAob3B0aW9ucy5zaWduYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJhY2UoW1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbChjYWxsYWJsZSwgLi4uYXJncyksXG4gICAgICAgICAgICAgICAgbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnNpZ25hbD8uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJBYm9ydEVycm9yXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKGNhbGxhYmxlLCAuLi5hcmdzKTtcbiAgICB9XG4gICAgZmV0Y2goLi4uYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCgpID0+IGZldGNoKC4uLmFyZ3MpLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcyA6IFByb21pc2UucmVqZWN0KHJlcykpKSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHBSZXRyeSBmcm9tIFwicC1yZXRyeVwiO1xuaW1wb3J0IHsgQ2FsbGJhY2tNYW5hZ2VyLCB9IGZyb20gXCIuLi8uLi9jYWxsYmFja3MvbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgTG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyLCBSdW5Mb2dQYXRjaCwgfSBmcm9tIFwiLi4vLi4vY2FsbGJhY2tzL2hhbmRsZXJzL2xvZ19zdHJlYW0uanNcIjtcbmltcG9ydCB7IFNlcmlhbGl6YWJsZSB9IGZyb20gXCIuLi8uLi9sb2FkL3NlcmlhbGl6YWJsZS5qc1wiO1xuaW1wb3J0IHsgSXRlcmFibGVSZWFkYWJsZVN0cmVhbSB9IGZyb20gXCIuLi8uLi91dGlsL3N0cmVhbS5qc1wiO1xuaW1wb3J0IHsgZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcgfSBmcm9tIFwiLi9jb25maWcuanNcIjtcbmltcG9ydCB7IEFzeW5jQ2FsbGVyIH0gZnJvbSBcIi4uLy4uL3V0aWwvYXN5bmNfY2FsbGVyLmpzXCI7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gX2NvZXJjZVRvRGljdCh2YWx1ZSwgZGVmYXVsdEtleSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiXG4gICAgICAgID8gdmFsdWVcbiAgICAgICAgOiB7IFtkZWZhdWx0S2V5XTogdmFsdWUgfTtcbn1cbi8qKlxuICogQSBSdW5uYWJsZSBpcyBhIGdlbmVyaWMgdW5pdCBvZiB3b3JrIHRoYXQgY2FuIGJlIGludm9rZWQsIGJhdGNoZWQsIHN0cmVhbWVkLCBhbmQvb3JcbiAqIHRyYW5zZm9ybWVkLlxuICovXG5leHBvcnQgY2xhc3MgUnVubmFibGUgZXh0ZW5kcyBTZXJpYWxpemFibGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19ydW5uYWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmluZCBhcmd1bWVudHMgdG8gYSBSdW5uYWJsZSwgcmV0dXJuaW5nIGEgbmV3IFJ1bm5hYmxlLlxuICAgICAqIEBwYXJhbSBrd2FyZ3NcbiAgICAgKiBAcmV0dXJucyBBIG5ldyBSdW5uYWJsZUJpbmRpbmcgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIGFwcGx5IHRoZSBib3VuZCBhcmdzLlxuICAgICAqL1xuICAgIGJpbmQoa3dhcmdzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZUJpbmRpbmcoeyBib3VuZDogdGhpcywga3dhcmdzLCBjb25maWc6IHt9IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBuZXcgUnVubmFibGUgdGhhdCBtYXBzIGEgbGlzdCBvZiBpbnB1dHMgdG8gYSBsaXN0IG9mIG91dHB1dHMsXG4gICAgICogYnkgY2FsbGluZyBpbnZva2UoKSB3aXRoIGVhY2ggaW5wdXQuXG4gICAgICovXG4gICAgbWFwKCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVFYWNoKHsgYm91bmQ6IHRoaXMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCByZXRyeSBsb2dpYyB0byBhbiBleGlzdGluZyBydW5uYWJsZS5cbiAgICAgKiBAcGFyYW0ga3dhcmdzXG4gICAgICogQHJldHVybnMgQSBuZXcgUnVubmFibGVSZXRyeSB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgcmV0cnkgYWNjb3JkaW5nIHRvIHRoZSBwYXJhbWV0ZXJzLlxuICAgICAqL1xuICAgIHdpdGhSZXRyeShmaWVsZHMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICByZXR1cm4gbmV3IFJ1bm5hYmxlUmV0cnkoe1xuICAgICAgICAgICAgYm91bmQ6IHRoaXMsXG4gICAgICAgICAgICBrd2FyZ3M6IHt9LFxuICAgICAgICAgICAgY29uZmlnOiB7fSxcbiAgICAgICAgICAgIG1heEF0dGVtcHROdW1iZXI6IGZpZWxkcz8uc3RvcEFmdGVyQXR0ZW1wdCxcbiAgICAgICAgICAgIC4uLmZpZWxkcyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmQgY29uZmlnIHRvIGEgUnVubmFibGUsIHJldHVybmluZyBhIG5ldyBSdW5uYWJsZS5cbiAgICAgKiBAcGFyYW0gY29uZmlnIE5ldyBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgdG8gYXR0YWNoIHRvIHRoZSBuZXcgcnVubmFibGUuXG4gICAgICogQHJldHVybnMgQSBuZXcgUnVubmFibGVCaW5kaW5nIHdpdGggYSBjb25maWcgbWF0Y2hpbmcgd2hhdCdzIHBhc3NlZC5cbiAgICAgKi9cbiAgICB3aXRoQ29uZmlnKGNvbmZpZykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVCaW5kaW5nKHtcbiAgICAgICAgICAgIGJvdW5kOiB0aGlzLFxuICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAga3dhcmdzOiB7fSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBydW5uYWJsZSBmcm9tIHRoZSBjdXJyZW50IG9uZSB0aGF0IHdpbGwgdHJ5IGludm9raW5nXG4gICAgICogb3RoZXIgcGFzc2VkIGZhbGxiYWNrIHJ1bm5hYmxlcyBpZiB0aGUgaW5pdGlhbCBpbnZvY2F0aW9uIGZhaWxzLlxuICAgICAqIEBwYXJhbSBmaWVsZHMuZmFsbGJhY2tzIE90aGVyIHJ1bm5hYmxlcyB0byBjYWxsIGlmIHRoZSBydW5uYWJsZSBlcnJvcnMuXG4gICAgICogQHJldHVybnMgQSBuZXcgUnVubmFibGVXaXRoRmFsbGJhY2tzLlxuICAgICAqL1xuICAgIHdpdGhGYWxsYmFja3MoZmllbGRzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZVdpdGhGYWxsYmFja3Moe1xuICAgICAgICAgICAgcnVubmFibGU6IHRoaXMsXG4gICAgICAgICAgICBmYWxsYmFja3M6IGZpZWxkcy5mYWxsYmFja3MsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfZ2V0T3B0aW9uc0xpc3Qob3B0aW9ucywgbGVuZ3RoID0gMCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zKSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoICE9PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhc3NlZCBcIm9wdGlvbnNcIiBtdXN0IGJlIGFuIGFycmF5IHdpdGggdGhlIHNhbWUgbGVuZ3RoIGFzIHRoZSBpbnB1dHMsIGJ1dCBnb3QgJHtvcHRpb25zLmxlbmd0aH0gb3B0aW9ucyBmb3IgJHtsZW5ndGh9IGlucHV0c2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGggfSwgKCkgPT4gb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIGJhdGNoKGlucHV0cywgb3B0aW9ucywgYmF0Y2hPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZ0xpc3QgPSB0aGlzLl9nZXRPcHRpb25zTGlzdChvcHRpb25zID8/IHt9LCBpbnB1dHMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY2FsbGVyID0gbmV3IEFzeW5jQ2FsbGVyKHtcbiAgICAgICAgICAgIG1heENvbmN1cnJlbmN5OiBiYXRjaE9wdGlvbnM/Lm1heENvbmN1cnJlbmN5LFxuICAgICAgICAgICAgb25GYWlsZWRBdHRlbXB0OiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYmF0Y2hDYWxscyA9IGlucHV0cy5tYXAoKGlucHV0LCBpKSA9PiBjYWxsZXIuY2FsbChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuaW52b2tlKGlucHV0LCBjb25maWdMaXN0W2ldKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmF0Y2hPcHRpb25zPy5yZXR1cm5FeGNlcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChiYXRjaENhbGxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzdHJlYW1pbmcgaW1wbGVtZW50YXRpb24uXG4gICAgICogU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgdGhleSBzdXBwb3J0IHN0cmVhbWluZyBvdXRwdXQuXG4gICAgICogQHBhcmFtIGlucHV0XG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIHlpZWxkIHRoaXMuaW52b2tlKGlucHV0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RyZWFtIG91dHB1dCBpbiBjaHVua3MuXG4gICAgICogQHBhcmFtIGlucHV0XG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyBBIHJlYWRhYmxlIHN0cmVhbSB0aGF0IGlzIGFsc28gYW4gaXRlcmFibGUuXG4gICAgICovXG4gICAgYXN5bmMgc3RyZWFtKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtLmZyb21Bc3luY0dlbmVyYXRvcih0aGlzLl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykpO1xuICAgIH1cbiAgICBfc2VwYXJhdGVSdW5uYWJsZUNvbmZpZ0Zyb21DYWxsT3B0aW9ucyhvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgcnVubmFibGVDb25maWcgPSB7XG4gICAgICAgICAgICBjYWxsYmFja3M6IG9wdGlvbnMuY2FsbGJhY2tzLFxuICAgICAgICAgICAgdGFnczogb3B0aW9ucy50YWdzLFxuICAgICAgICAgICAgbWV0YWRhdGE6IG9wdGlvbnMubWV0YWRhdGEsXG4gICAgICAgICAgICBydW5OYW1lOiBvcHRpb25zLnJ1bk5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNhbGxPcHRpb25zID0geyAuLi5vcHRpb25zIH07XG4gICAgICAgIGRlbGV0ZSBjYWxsT3B0aW9ucy5jYWxsYmFja3M7XG4gICAgICAgIGRlbGV0ZSBjYWxsT3B0aW9ucy50YWdzO1xuICAgICAgICBkZWxldGUgY2FsbE9wdGlvbnMubWV0YWRhdGE7XG4gICAgICAgIGRlbGV0ZSBjYWxsT3B0aW9ucy5ydW5OYW1lO1xuICAgICAgICByZXR1cm4gW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc107XG4gICAgfVxuICAgIGFzeW5jIF9jYWxsV2l0aENvbmZpZyhmdW5jLCBpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIHVuZGVmaW5lZCwgb3B0aW9ucz8ucnVuVHlwZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9wdGlvbnM/LnJ1bk5hbWUpO1xuICAgICAgICBsZXQgb3V0cHV0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0cHV0ID0gYXdhaXQgZnVuYy5iaW5kKHRoaXMpKGlucHV0LCBvcHRpb25zLCBydW5NYW5hZ2VyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChvdXRwdXQsIFwib3V0cHV0XCIpKTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgbWV0aG9kIHRoYXQgaGFuZGxlcyBiYXRjaGluZyBhbmQgY29uZmlndXJhdGlvbiBmb3IgYSBydW5uYWJsZVxuICAgICAqIEl0IHRha2VzIGEgZnVuY3Rpb24sIGlucHV0IHZhbHVlcywgYW5kIG9wdGlvbmFsIGNvbmZpZ3VyYXRpb24sIGFuZFxuICAgICAqIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGZvciBlYWNoIGlucHV0IHZhbHVlLlxuICAgICAqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdmFsdWVzIHRvIGJlIHByb2Nlc3NlZC5cbiAgICAgKiBAcGFyYW0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBmdW5jdGlvbiBleGVjdXRpb24uXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCB2YWx1ZXMuXG4gICAgICovXG4gICAgYXN5bmMgX2JhdGNoV2l0aENvbmZpZyhmdW5jLCBpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucykge1xuICAgICAgICBjb25zdCBvcHRpb25zTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwob3B0aW9uc0xpc3QubWFwKGdldENhbGxiYWNrTWFuZ2VyRm9yQ29uZmlnKSk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwoY2FsbGJhY2tNYW5hZ2Vycy5tYXAoKGNhbGxiYWNrTWFuYWdlciwgaSkgPT4gY2FsbGJhY2tNYW5hZ2VyPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXRzW2ldLCBcImlucHV0XCIpLCB1bmRlZmluZWQsIG9wdGlvbnNMaXN0W2ldLnJ1blR5cGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvcHRpb25zTGlzdFtpXS5ydW5OYW1lKSkpO1xuICAgICAgICBsZXQgb3V0cHV0cztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG91dHB1dHMgPSBhd2FpdCBmdW5jKGlucHV0cywgb3B0aW9uc0xpc3QsIHJ1bk1hbmFnZXJzLCBiYXRjaE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSkpKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChfY29lcmNlVG9EaWN0KG91dHB1dHMsIFwib3V0cHV0XCIpKSkpO1xuICAgICAgICByZXR1cm4gb3V0cHV0cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCB0byB0cmFuc2Zvcm0gYW4gSXRlcmF0b3Igb2YgSW5wdXQgdmFsdWVzIGludG8gYW4gSXRlcmF0b3Igb2ZcbiAgICAgKiBPdXRwdXQgdmFsdWVzLCB3aXRoIGNhbGxiYWNrcy5cbiAgICAgKiBVc2UgdGhpcyB0byBpbXBsZW1lbnQgYHN0cmVhbSgpYCBvciBgdHJhbnNmb3JtKClgIGluIFJ1bm5hYmxlIHN1YmNsYXNzZXMuXG4gICAgICovXG4gICAgYXN5bmMgKl90cmFuc2Zvcm1TdHJlYW1XaXRoQ29uZmlnKGlucHV0R2VuZXJhdG9yLCB0cmFuc2Zvcm1lciwgb3B0aW9ucykge1xuICAgICAgICBsZXQgZmluYWxJbnB1dDtcbiAgICAgICAgbGV0IGZpbmFsSW5wdXRTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICBsZXQgZmluYWxPdXRwdXQ7XG4gICAgICAgIGxldCBmaW5hbE91dHB1dFN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBnZXRDYWxsYmFja01hbmdlckZvckNvbmZpZyhvcHRpb25zKTtcbiAgICAgICAgbGV0IHJ1bk1hbmFnZXI7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRSZXByZXNlbnRhdGlvbiA9IHRoaXMudG9KU09OKCk7XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uKiB3cmFwSW5wdXRGb3JUcmFjaW5nKCkge1xuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBpbnB1dEdlbmVyYXRvcikge1xuICAgICAgICAgICAgICAgIGlmICghcnVuTWFuYWdlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCB0aGUgcnVuIG1hbmFnZXIgQUZURVIgdGhlIGl0ZXJhdG9yIHN0YXJ0cyB0byBwcmVzZXJ2ZVxuICAgICAgICAgICAgICAgICAgICAvLyB0cmFjaW5nIG9yZGVyXG4gICAgICAgICAgICAgICAgICAgIHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHNlcmlhbGl6ZWRSZXByZXNlbnRhdGlvbiwgeyBpbnB1dDogXCJcIiB9LCB1bmRlZmluZWQsIG9wdGlvbnM/LnJ1blR5cGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvcHRpb25zPy5ydW5OYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZpbmFsSW5wdXRTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmFsSW5wdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxJbnB1dCA9IGNodW5rO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsSW5wdXQgPSBmaW5hbElucHV0LmNvbmNhdChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxJbnB1dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbElucHV0U3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeWllbGQgY2h1bms7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd3JhcHBlZElucHV0R2VuZXJhdG9yID0gd3JhcElucHV0Rm9yVHJhY2luZygpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0SXRlcmF0b3IgPSB0cmFuc2Zvcm1lcih3cmFwcGVkSW5wdXRHZW5lcmF0b3IsIHJ1bk1hbmFnZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBvdXRwdXRJdGVyYXRvcikge1xuICAgICAgICAgICAgICAgIHlpZWxkIGNodW5rO1xuICAgICAgICAgICAgICAgIGlmIChmaW5hbE91dHB1dFN1cHBvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmluYWxPdXRwdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxPdXRwdXQgPSBjaHVuaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbE91dHB1dCA9IGZpbmFsT3V0cHV0LmNvbmNhdChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxPdXRwdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxPdXRwdXRTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICAgICAgaW5wdXRzOiBfY29lcmNlVG9EaWN0KGZpbmFsSW5wdXQsIFwiaW5wdXRcIiksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoZmluYWxPdXRwdXQgPz8ge30sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHsgaW5wdXRzOiBfY29lcmNlVG9EaWN0KGZpbmFsSW5wdXQsIFwiaW5wdXRcIikgfSk7XG4gICAgfVxuICAgIF9wYXRjaENvbmZpZyhjb25maWcgPSB7fSwgY2FsbGJhY2tNYW5hZ2VyID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHsgLi4uY29uZmlnIH07XG4gICAgICAgIGlmIChjYWxsYmFja01hbmFnZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSdyZSByZXBsYWNpbmcgY2FsbGJhY2tzIHdlIG5lZWQgdG8gdW5zZXQgcnVuTmFtZVxuICAgICAgICAgICAgICogc2luY2UgdGhhdCBzaG91bGQgYXBwbHkgb25seSB0byB0aGUgc2FtZSBydW4gYXMgdGhlIG9yaWdpbmFsIGNhbGxiYWNrc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBkZWxldGUgbmV3Q29uZmlnLnJ1bk5hbWU7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5uZXdDb25maWcsIGNhbGxiYWNrczogY2FsbGJhY2tNYW5hZ2VyIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0NvbmZpZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHJ1bm5hYmxlIHNlcXVlbmNlIHRoYXQgcnVucyBlYWNoIGluZGl2aWR1YWwgcnVubmFibGUgaW4gc2VyaWVzLFxuICAgICAqIHBpcGluZyB0aGUgb3V0cHV0IG9mIG9uZSBydW5uYWJsZSBpbnRvIGFub3RoZXIgcnVubmFibGUgb3IgcnVubmFibGUtbGlrZS5cbiAgICAgKiBAcGFyYW0gY29lcmNlYWJsZSBBIHJ1bm5hYmxlLCBmdW5jdGlvbiwgb3Igb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgZnVuY3Rpb25zIG9yIHJ1bm5hYmxlcy5cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBydW5uYWJsZSBzZXF1ZW5jZS5cbiAgICAgKi9cbiAgICBwaXBlKGNvZXJjZWFibGUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICByZXR1cm4gbmV3IFJ1bm5hYmxlU2VxdWVuY2Uoe1xuICAgICAgICAgICAgZmlyc3Q6IHRoaXMsXG4gICAgICAgICAgICBsYXN0OiBfY29lcmNlVG9SdW5uYWJsZShjb2VyY2VhYmxlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdHJhbnNmb3JtLCB3aGljaCBidWZmZXJzIGlucHV0IGFuZCB0aGVuIGNhbGxzIHN0cmVhbS5cbiAgICAgKiBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCBpZiB0aGV5IGNhbiBzdGFydCBwcm9kdWNpbmcgb3V0cHV0IHdoaWxlXG4gICAgICogaW5wdXQgaXMgc3RpbGwgYmVpbmcgZ2VuZXJhdGVkLlxuICAgICAqIEBwYXJhbSBnZW5lcmF0b3JcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIGFzeW5jICp0cmFuc2Zvcm0oZ2VuZXJhdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBmaW5hbENodW5rO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGdlbmVyYXRvcikge1xuICAgICAgICAgICAgaWYgKGZpbmFsQ2h1bmsgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZpbmFsQ2h1bmsgPSBjaHVuaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE1ha2UgYSBiZXN0IGVmZm9ydCB0byBnYXRoZXIsIGZvciBhbnkgdHlwZSB0aGF0IHN1cHBvcnRzIGNvbmNhdC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIG1ldGhvZCBzaG91bGQgdGhyb3cgYW4gZXJyb3IgaWYgZ2F0aGVyaW5nIGZhaWxzLlxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgZmluYWxDaHVuayA9IGZpbmFsQ2h1bmsuY29uY2F0KGNodW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB5aWVsZCogdGhpcy5fc3RyZWFtSXRlcmF0b3IoZmluYWxDaHVuaywgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0cmVhbSBhbGwgb3V0cHV0IGZyb20gYSBydW5uYWJsZSwgYXMgcmVwb3J0ZWQgdG8gdGhlIGNhbGxiYWNrIHN5c3RlbS5cbiAgICAgKiBUaGlzIGluY2x1ZGVzIGFsbCBpbm5lciBydW5zIG9mIExMTXMsIFJldHJpZXZlcnMsIFRvb2xzLCBldGMuXG4gICAgICogT3V0cHV0IGlzIHN0cmVhbWVkIGFzIExvZyBvYmplY3RzLCB3aGljaCBpbmNsdWRlIGEgbGlzdCBvZlxuICAgICAqIGpzb25wYXRjaCBvcHMgdGhhdCBkZXNjcmliZSBob3cgdGhlIHN0YXRlIG9mIHRoZSBydW4gaGFzIGNoYW5nZWQgaW4gZWFjaFxuICAgICAqIHN0ZXAsIGFuZCB0aGUgZmluYWwgc3RhdGUgb2YgdGhlIHJ1bi5cbiAgICAgKiBUaGUganNvbnBhdGNoIG9wcyBjYW4gYmUgYXBwbGllZCBpbiBvcmRlciB0byBjb25zdHJ1Y3Qgc3RhdGUuXG4gICAgICogQHBhcmFtIGlucHV0XG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gc3RyZWFtT3B0aW9uc1xuICAgICAqL1xuICAgIGFzeW5jICpzdHJlYW1Mb2coaW5wdXQsIG9wdGlvbnMsIHN0cmVhbU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gbmV3IExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlcih7XG4gICAgICAgICAgICAuLi5zdHJlYW1PcHRpb25zLFxuICAgICAgICAgICAgYXV0b0Nsb3NlOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IG9wdGlvbnMgPz8ge307XG4gICAgICAgIGNvbnN0IHsgY2FsbGJhY2tzIH0gPSBjb25maWc7XG4gICAgICAgIGlmIChjYWxsYmFja3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uZmlnLmNhbGxiYWNrcyA9IFtzdHJlYW1dO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2FsbGJhY2tzKSkge1xuICAgICAgICAgICAgY29uZmlnLmNhbGxiYWNrcyA9IGNhbGxiYWNrcy5jb25jYXQoW3N0cmVhbV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29waWVkQ2FsbGJhY2tzID0gY2FsbGJhY2tzLmNvcHkoKTtcbiAgICAgICAgICAgIGNvcGllZENhbGxiYWNrcy5pbmhlcml0YWJsZUhhbmRsZXJzLnB1c2goc3RyZWFtKTtcbiAgICAgICAgICAgIGNvbmZpZy5jYWxsYmFja3MgPSBjb3BpZWRDYWxsYmFja3M7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcnVubmFibGVTdHJlYW0gPSBhd2FpdCB0aGlzLnN0cmVhbShpbnB1dCwgY29uZmlnKTtcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gY29uc3VtZVJ1bm5hYmxlU3RyZWFtKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHJ1bm5hYmxlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGNoID0gbmV3IFJ1bkxvZ1BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFwiL3N0cmVhbWVkX291dHB1dC8tXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjaHVuayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0cmVhbS53cml0ZXIud3JpdGUocGF0Y2gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHN0cmVhbS53cml0ZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBydW5uYWJsZVN0cmVhbVByb21pc2UgPSBjb25zdW1lUnVubmFibGVTdHJlYW0oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgbG9nIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIGxvZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bm5hYmxlU3RyZWFtUHJvbWlzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHN0YXRpYyBpc1J1bm5hYmxlKHRoaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGluZyA/IHRoaW5nLmxjX3J1bm5hYmxlIDogZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgZGVsZWdhdGVzIGNhbGxzIHRvIGFub3RoZXIgcnVubmFibGUgd2l0aCBhIHNldCBvZiBrd2FyZ3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5uYWJsZUJpbmRpbmcgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlJ1bm5hYmxlQmluZGluZ1wiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJzY2hlbWFcIiwgXCJydW5uYWJsZVwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJib3VuZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25maWdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwia3dhcmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYm91bmQgPSBmaWVsZHMuYm91bmQ7XG4gICAgICAgIHRoaXMua3dhcmdzID0gZmllbGRzLmt3YXJncztcbiAgICAgICAgdGhpcy5jb25maWcgPSBmaWVsZHMuY29uZmlnO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9tZXJnZUNvbmZpZyhvcHRpb25zKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IGNvcHkgPSB7IC4uLnRoaXMuY29uZmlnIH07XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvcHRpb25zKSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwibWV0YWRhdGFcIikge1xuICAgICAgICAgICAgICAgICAgICBjb3B5W2tleV0gPSB7IC4uLmNvcHlba2V5XSwgLi4ub3B0aW9uc1trZXldIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJ0YWdzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29weVtrZXldID0gKGNvcHlba2V5XSA/PyBbXSkuY29uY2F0KG9wdGlvbnNba2V5XSA/PyBbXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb3B5W2tleV0gPSBvcHRpb25zW2tleV0gPz8gY29weVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9XG4gICAgYmluZChrd2FyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3Ioe1xuICAgICAgICAgICAgYm91bmQ6IHRoaXMuYm91bmQsXG4gICAgICAgICAgICBrd2FyZ3M6IHsgLi4udGhpcy5rd2FyZ3MsIC4uLmt3YXJncyB9LFxuICAgICAgICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHdpdGhDb25maWcoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKHtcbiAgICAgICAgICAgIGJvdW5kOiB0aGlzLmJvdW5kLFxuICAgICAgICAgICAga3dhcmdzOiB0aGlzLmt3YXJncyxcbiAgICAgICAgICAgIGNvbmZpZzogeyAuLi50aGlzLmNvbmZpZywgLi4uY29uZmlnIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB3aXRoUmV0cnkoZmllbGRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKHtcbiAgICAgICAgICAgIGJvdW5kOiB0aGlzLmJvdW5kLndpdGhSZXRyeShmaWVsZHMpLFxuICAgICAgICAgICAga3dhcmdzOiB0aGlzLmt3YXJncyxcbiAgICAgICAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm91bmQuaW52b2tlKGlucHV0LCB0aGlzLl9tZXJnZUNvbmZpZyh7IC4uLm9wdGlvbnMsIC4uLnRoaXMua3dhcmdzIH0pKTtcbiAgICB9XG4gICAgYXN5bmMgYmF0Y2goaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IEFycmF5LmlzQXJyYXkob3B0aW9ucylcbiAgICAgICAgICAgID8gb3B0aW9ucy5tYXAoKGluZGl2aWR1YWxPcHRpb24pID0+IHRoaXMuX21lcmdlQ29uZmlnKHtcbiAgICAgICAgICAgICAgICAuLi5pbmRpdmlkdWFsT3B0aW9uLFxuICAgICAgICAgICAgICAgIC4uLnRoaXMua3dhcmdzLFxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICA6IHRoaXMuX21lcmdlQ29uZmlnKHsgLi4ub3B0aW9ucywgLi4udGhpcy5rd2FyZ3MgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmJvdW5kLmJhdGNoKGlucHV0cywgbWVyZ2VkT3B0aW9ucywgYmF0Y2hPcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgKl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICB5aWVsZCogdGhpcy5ib3VuZC5fc3RyZWFtSXRlcmF0b3IoaW5wdXQsIHRoaXMuX21lcmdlQ29uZmlnKHsgLi4ub3B0aW9ucywgLi4udGhpcy5rd2FyZ3MgfSkpO1xuICAgIH1cbiAgICBhc3luYyBzdHJlYW0oaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm91bmQuc3RyZWFtKGlucHV0LCB0aGlzLl9tZXJnZUNvbmZpZyh7IC4uLm9wdGlvbnMsIC4uLnRoaXMua3dhcmdzIH0pKTtcbiAgICB9XG4gICAgYXN5bmMgKnRyYW5zZm9ybShcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGdlbmVyYXRvciwgb3B0aW9ucykge1xuICAgICAgICB5aWVsZCogdGhpcy5ib3VuZC50cmFuc2Zvcm0oZ2VuZXJhdG9yLCB0aGlzLl9tZXJnZUNvbmZpZyh7IC4uLm9wdGlvbnMsIC4uLnRoaXMua3dhcmdzIH0pKTtcbiAgICB9XG4gICAgc3RhdGljIGlzUnVubmFibGVCaW5kaW5nKFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgdGhpbmdcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICkge1xuICAgICAgICByZXR1cm4gdGhpbmcuYm91bmQgJiYgUnVubmFibGUuaXNSdW5uYWJsZSh0aGluZy5ib3VuZCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgZGVsZWdhdGVzIGNhbGxzIHRvIGFub3RoZXIgcnVubmFibGVcbiAqIHdpdGggZWFjaCBlbGVtZW50IG9mIHRoZSBpbnB1dCBzZXF1ZW5jZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bm5hYmxlRWFjaCBleHRlbmRzIFJ1bm5hYmxlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVFYWNoXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwic2NoZW1hXCIsIFwicnVubmFibGVcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJvdW5kXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYm91bmQgPSBmaWVsZHMuYm91bmQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmRzIHRoZSBydW5uYWJsZSB3aXRoIHRoZSBzcGVjaWZpZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gYmluZCB0aGUgcnVubmFibGUgd2l0aC5cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBpbnN0YW5jZSBvZiB0aGUgYFJ1bm5hYmxlRWFjaGAgY2xhc3MgdGhhdCBpcyBib3VuZCB3aXRoIHRoZSBzcGVjaWZpZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGJpbmQoa3dhcmdzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVFYWNoKHtcbiAgICAgICAgICAgIGJvdW5kOiB0aGlzLmJvdW5kLmJpbmQoa3dhcmdzKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIHJ1bm5hYmxlIHdpdGggdGhlIHNwZWNpZmllZCBpbnB1dCBhbmQgY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cbiAgICAgKiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgb3V0cHV0IG9mIHRoZSBydW5uYWJsZS5cbiAgICAgKi9cbiAgICBhc3luYyBpbnZva2UoaW5wdXRzLCBjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKHRoaXMuX2ludm9rZSwgaW5wdXRzLCBjb25maWcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aCB0aGUgc3BlY2lmaWVkIGlucHV0IGFuZCBjb25maWd1cmF0aW9uLlxuICAgICAqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdG8gaW52b2tlIHRoZSBydW5uYWJsZSB3aXRoLlxuICAgICAqIEBwYXJhbSBjb25maWcgVGhlIGNvbmZpZ3VyYXRpb24gdG8gaW52b2tlIHRoZSBydW5uYWJsZSB3aXRoLlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBvdXRwdXQgb2YgdGhlIHJ1bm5hYmxlLlxuICAgICAqL1xuICAgIGFzeW5jIF9pbnZva2UoaW5wdXRzLCBjb25maWcsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm91bmQuYmF0Y2goaW5wdXRzLCB0aGlzLl9wYXRjaENvbmZpZyhjb25maWcsIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpKTtcbiAgICB9XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIHJ1bm5hYmxlcyB0aGF0IGNhbiBiZSByZXRyaWVkIGFcbiAqIHNwZWNpZmllZCBudW1iZXIgb2YgdGltZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5uYWJsZVJldHJ5IGV4dGVuZHMgUnVubmFibGVCaW5kaW5nIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVSZXRyeVwiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJzY2hlbWFcIiwgXCJydW5uYWJsZVwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4QXR0ZW1wdE51bWJlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogM1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib25GYWlsZWRBdHRlbXB0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAoKSA9PiB7IH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWF4QXR0ZW1wdE51bWJlciA9IGZpZWxkcy5tYXhBdHRlbXB0TnVtYmVyID8/IHRoaXMubWF4QXR0ZW1wdE51bWJlcjtcbiAgICAgICAgdGhpcy5vbkZhaWxlZEF0dGVtcHQgPSBmaWVsZHMub25GYWlsZWRBdHRlbXB0ID8/IHRoaXMub25GYWlsZWRBdHRlbXB0O1xuICAgIH1cbiAgICBfcGF0Y2hDb25maWdGb3JSZXRyeShhdHRlbXB0LCBjb25maWcsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgdGFnID0gYXR0ZW1wdCA+IDEgPyBgcmV0cnk6YXR0ZW1wdDoke2F0dGVtcHR9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhdGNoQ29uZmlnKGNvbmZpZywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQodGFnKSk7XG4gICAgfVxuICAgIGFzeW5jIF9pbnZva2UoaW5wdXQsIGNvbmZpZywgcnVuTWFuYWdlcikge1xuICAgICAgICByZXR1cm4gcFJldHJ5KChhdHRlbXB0TnVtYmVyKSA9PiBzdXBlci5pbnZva2UoaW5wdXQsIHRoaXMuX3BhdGNoQ29uZmlnRm9yUmV0cnkoYXR0ZW1wdE51bWJlciwgY29uZmlnLCBydW5NYW5hZ2VyKSksIHtcbiAgICAgICAgICAgIG9uRmFpbGVkQXR0ZW1wdDogdGhpcy5vbkZhaWxlZEF0dGVtcHQsXG4gICAgICAgICAgICByZXRyaWVzOiBNYXRoLm1heCh0aGlzLm1heEF0dGVtcHROdW1iZXIgLSAxLCAwKSxcbiAgICAgICAgICAgIHJhbmRvbWl6ZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0aGF0IGludm9rZXMgdGhlIHJ1bm5hYmxlIHdpdGggdGhlIHNwZWNpZmllZCBpbnB1dCwgcnVuIG1hbmFnZXIsXG4gICAgICogYW5kIGNvbmZpZy4gSXQgaGFuZGxlcyB0aGUgcmV0cnkgbG9naWMgYnkgY2F0Y2hpbmcgYW55IGVycm9ycyBhbmRcbiAgICAgKiByZWN1cnNpdmVseSBpbnZva2luZyBpdHNlbGYgd2l0aCB0aGUgdXBkYXRlZCBjb25maWcgZm9yIHRoZSBuZXh0IHJldHJ5XG4gICAgICogYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IGZvciB0aGUgcnVubmFibGUuXG4gICAgICogQHBhcmFtIHJ1bk1hbmFnZXIgVGhlIHJ1biBtYW5hZ2VyIGZvciB0aGUgcnVubmFibGUuXG4gICAgICogQHBhcmFtIGNvbmZpZyBUaGUgY29uZmlnIGZvciB0aGUgcnVubmFibGUuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCBvZiB0aGUgcnVubmFibGUuXG4gICAgICovXG4gICAgYXN5bmMgaW52b2tlKGlucHV0LCBjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKHRoaXMuX2ludm9rZSwgaW5wdXQsIGNvbmZpZyk7XG4gICAgfVxuICAgIGFzeW5jIF9iYXRjaChpbnB1dHMsIGNvbmZpZ3MsIHJ1bk1hbmFnZXJzLCBiYXRjaE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0c01hcCA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgcFJldHJ5KGFzeW5jIChhdHRlbXB0TnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nSW5kZXhlcyA9IGlucHV0c1xuICAgICAgICAgICAgICAgICAgICAubWFwKChfLCBpKSA9PiBpKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChpKSA9PiByZXN1bHRzTWFwW2kudG9TdHJpbmcoKV0gPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHNNYXBbaS50b1N0cmluZygpXSBpbnN0YW5jZW9mIEVycm9yKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdJbnB1dHMgPSByZW1haW5pbmdJbmRleGVzLm1hcCgoaSkgPT4gaW5wdXRzW2ldKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRjaGVkQ29uZmlncyA9IHJlbWFpbmluZ0luZGV4ZXMubWFwKChpKSA9PiB0aGlzLl9wYXRjaENvbmZpZ0ZvclJldHJ5KGF0dGVtcHROdW1iZXIsIGNvbmZpZ3M/LltpXSwgcnVuTWFuYWdlcnM/LltpXSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBzdXBlci5iYXRjaChyZW1haW5pbmdJbnB1dHMsIHBhdGNoZWRDb25maWdzLCB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmJhdGNoT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuRXhjZXB0aW9uczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3RFeGNlcHRpb247XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdE1hcEluZGV4ID0gcmVtYWluaW5nSW5kZXhlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWluc3RhbmNlb2Yvbm8taW5zdGFuY2VvZlxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdEV4Y2VwdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RFeGNlcHRpb24gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c01hcFtyZXN1bHRNYXBJbmRleC50b1N0cmluZygpXSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0RXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGZpcnN0RXhjZXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBvbkZhaWxlZEF0dGVtcHQ6IHRoaXMub25GYWlsZWRBdHRlbXB0LFxuICAgICAgICAgICAgICAgIHJldHJpZXM6IE1hdGgubWF4KHRoaXMubWF4QXR0ZW1wdE51bWJlciAtIDEsIDApLFxuICAgICAgICAgICAgICAgIHJhbmRvbWl6ZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoYmF0Y2hPcHRpb25zPy5yZXR1cm5FeGNlcHRpb25zICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMocmVzdWx0c01hcClcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBwYXJzZUludChhLCAxMCkgLSBwYXJzZUludChiLCAxMCkpXG4gICAgICAgICAgICAubWFwKChrZXkpID0+IHJlc3VsdHNNYXBbcGFyc2VJbnQoa2V5LCAxMCldKTtcbiAgICB9XG4gICAgYXN5bmMgYmF0Y2goaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JhdGNoV2l0aENvbmZpZyh0aGlzLl9iYXRjaC5iaW5kKHRoaXMpLCBpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucyk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHNlcXVlbmNlIG9mIHJ1bm5hYmxlcywgd2hlcmUgdGhlIG91dHB1dCBvZiBlYWNoIGlzIHRoZSBpbnB1dCBvZiB0aGUgbmV4dC5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bm5hYmxlU2VxdWVuY2UgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlJ1bm5hYmxlU2VxdWVuY2VcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZpcnN0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1pZGRsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW11cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxhc3RcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZpcnN0ID0gZmllbGRzLmZpcnN0O1xuICAgICAgICB0aGlzLm1pZGRsZSA9IGZpZWxkcy5taWRkbGUgPz8gdGhpcy5taWRkbGU7XG4gICAgICAgIHRoaXMubGFzdCA9IGZpZWxkcy5sYXN0O1xuICAgIH1cbiAgICBnZXQgc3RlcHMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5maXJzdCwgLi4udGhpcy5taWRkbGUsIHRoaXMubGFzdF07XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb3B0aW9ucz8ucnVuTmFtZSk7XG4gICAgICAgIGxldCBuZXh0U3RlcElucHV0ID0gaW5wdXQ7XG4gICAgICAgIGxldCBmaW5hbE91dHB1dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxTdGVwcyA9IFt0aGlzLmZpcnN0LCAuLi50aGlzLm1pZGRsZV07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluaXRpYWxTdGVwcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBpbml0aWFsU3RlcHNbaV07XG4gICAgICAgICAgICAgICAgbmV4dFN0ZXBJbnB1dCA9IGF3YWl0IHN0ZXAuaW52b2tlKG5leHRTdGVwSW5wdXQsIHRoaXMuX3BhdGNoQ29uZmlnKG9wdGlvbnMsIHJ1bk1hbmFnZXI/LmdldENoaWxkKGBzZXE6c3RlcDoke2kgKyAxfWApKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUeXBlU2NyaXB0IGNhbid0IGRldGVjdCB0aGF0IHRoZSBsYXN0IG91dHB1dCBvZiB0aGUgc2VxdWVuY2UgcmV0dXJucyBSdW5PdXRwdXQsIHNvIGNhbGwgaXQgb3V0IG9mIHRoZSBsb29wIGhlcmVcbiAgICAgICAgICAgIGZpbmFsT3V0cHV0ID0gYXdhaXQgdGhpcy5sYXN0Lmludm9rZShuZXh0U3RlcElucHV0LCB0aGlzLl9wYXRjaENvbmZpZyhvcHRpb25zLCBydW5NYW5hZ2VyPy5nZXRDaGlsZChgc2VxOnN0ZXA6JHt0aGlzLnN0ZXBzLmxlbmd0aH1gKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGUpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChfY29lcmNlVG9EaWN0KGZpbmFsT3V0cHV0LCBcIm91dHB1dFwiKSk7XG4gICAgICAgIHJldHVybiBmaW5hbE91dHB1dDtcbiAgICB9XG4gICAgYXN5bmMgYmF0Y2goaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY29uZmlnTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwoY29uZmlnTGlzdC5tYXAoZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcpKTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChjYWxsYmFja01hbmFnZXJzLm1hcCgoY2FsbGJhY2tNYW5hZ2VyLCBpKSA9PiBjYWxsYmFja01hbmFnZXI/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dHNbaV0sIFwiaW5wdXRcIiksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY29uZmlnTGlzdFtpXS5ydW5OYW1lKSkpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBsZXQgbmV4dFN0ZXBJbnB1dHMgPSBpbnB1dHM7XG4gICAgICAgIGxldCBmaW5hbE91dHB1dHM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpbml0aWFsU3RlcHMgPSBbdGhpcy5maXJzdCwgLi4udGhpcy5taWRkbGVdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbml0aWFsU3RlcHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGVwID0gaW5pdGlhbFN0ZXBzW2ldO1xuICAgICAgICAgICAgICAgIG5leHRTdGVwSW5wdXRzID0gYXdhaXQgc3RlcC5iYXRjaChuZXh0U3RlcElucHV0cywgcnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyLCBqKSA9PiB0aGlzLl9wYXRjaENvbmZpZyhjb25maWdMaXN0W2pdLCBydW5NYW5hZ2VyPy5nZXRDaGlsZChgc2VxOnN0ZXA6JHtpICsgMX1gKSkpLCBiYXRjaE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxPdXRwdXRzID0gYXdhaXQgdGhpcy5sYXN0LmJhdGNoKG5leHRTdGVwSW5wdXRzLCBydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIpID0+IHRoaXMuX3BhdGNoQ29uZmlnKGNvbmZpZ0xpc3RbdGhpcy5zdGVwcy5sZW5ndGggLSAxXSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYHNlcTpzdGVwOiR7dGhpcy5zdGVwcy5sZW5ndGh9YCkpKSwgYmF0Y2hPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGUpKSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlciwgaSkgPT4gcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChmaW5hbE91dHB1dHNbaV0sIFwib3V0cHV0XCIpKSkpO1xuICAgICAgICByZXR1cm4gZmluYWxPdXRwdXRzO1xuICAgIH1cbiAgICBhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBnZXRDYWxsYmFja01hbmdlckZvckNvbmZpZyhvcHRpb25zKTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dCwgXCJpbnB1dFwiKSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvcHRpb25zPy5ydW5OYW1lKTtcbiAgICAgICAgbGV0IG5leHRTdGVwSW5wdXQgPSBpbnB1dDtcbiAgICAgICAgY29uc3Qgc3RlcHMgPSBbdGhpcy5maXJzdCwgLi4udGhpcy5taWRkbGUsIHRoaXMubGFzdF07XG4gICAgICAgIC8vIEZpbmQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHJ1bm5hYmxlIGluIHRoZSBzZXF1ZW5jZSB0aGF0IGRvZXNuJ3QgaGF2ZSBhbiBvdmVycmlkZGVuIC50cmFuc2Zvcm0oKSBtZXRob2RcbiAgICAgICAgLy8gYW5kIHN0YXJ0IHN0cmVhbWluZyBmcm9tIHRoZXJlXG4gICAgICAgIGNvbnN0IHN0cmVhbWluZ1N0YXJ0U3RlcEluZGV4ID0gTWF0aC5taW4oc3RlcHMubGVuZ3RoIC0gMSwgc3RlcHMubGVuZ3RoIC1cbiAgICAgICAgICAgIFsuLi5zdGVwc10ucmV2ZXJzZSgpLmZpbmRJbmRleCgoc3RlcCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzRGVmYXVsdEltcGxlbWVudGF0aW9uID0gc3RlcC50cmFuc2Zvcm0gPT09IFJ1bm5hYmxlLnByb3RvdHlwZS50cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgY29uc3QgYm91bmRSdW5uYWJsZUlzRGVmYXVsdEltcGxlbWVudGF0aW9uID0gUnVubmFibGVCaW5kaW5nLmlzUnVubmFibGVCaW5kaW5nKHN0ZXApICYmXG4gICAgICAgICAgICAgICAgICAgIHN0ZXAuYm91bmQ/LnRyYW5zZm9ybSA9PT0gUnVubmFibGUucHJvdG90eXBlLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGlzRGVmYXVsdEltcGxlbWVudGF0aW9uIHx8IGJvdW5kUnVubmFibGVJc0RlZmF1bHRJbXBsZW1lbnRhdGlvbik7XG4gICAgICAgICAgICB9KSAtXG4gICAgICAgICAgICAxKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGludm9rZVN0ZXBzID0gc3RlcHMuc2xpY2UoMCwgc3RyZWFtaW5nU3RhcnRTdGVwSW5kZXgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnZva2VTdGVwcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBpbnZva2VTdGVwc1tpXTtcbiAgICAgICAgICAgICAgICBuZXh0U3RlcElucHV0ID0gYXdhaXQgc3RlcC5pbnZva2UobmV4dFN0ZXBJbnB1dCwgdGhpcy5fcGF0Y2hDb25maWcob3B0aW9ucywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYHNlcTpzdGVwOiR7aSArIDF9YCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbmNhdFN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIGxldCBmaW5hbE91dHB1dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBmaW5hbEdlbmVyYXRvciA9IGF3YWl0IHN0ZXBzW3N0cmVhbWluZ1N0YXJ0U3RlcEluZGV4XS5fc3RyZWFtSXRlcmF0b3IobmV4dFN0ZXBJbnB1dCwgdGhpcy5fcGF0Y2hDb25maWcob3B0aW9ucywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYHNlcTpzdGVwOiR7c3RyZWFtaW5nU3RhcnRTdGVwSW5kZXggKyAxfWApKSk7XG4gICAgICAgICAgICBjb25zdCBmaW5hbFN0ZXBzID0gc3RlcHMuc2xpY2Uoc3RyZWFtaW5nU3RhcnRTdGVwSW5kZXggKyAxKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmluYWxTdGVwcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBmaW5hbFN0ZXBzW2ldO1xuICAgICAgICAgICAgICAgIGZpbmFsR2VuZXJhdG9yID0gYXdhaXQgc3RlcC50cmFuc2Zvcm0oZmluYWxHZW5lcmF0b3IsIHRoaXMuX3BhdGNoQ29uZmlnKG9wdGlvbnMsIHJ1bk1hbmFnZXI/LmdldENoaWxkKGBzZXE6c3RlcDoke3N0cmVhbWluZ1N0YXJ0U3RlcEluZGV4ICsgaSArIDJ9YCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgZmluYWxHZW5lcmF0b3IpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBjaHVuaztcbiAgICAgICAgICAgICAgICBpZiAoY29uY2F0U3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5hbE91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbE91dHB1dCA9IGNodW5rO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsT3V0cHV0ID0gZmluYWxPdXRwdXQuY29uY2F0KGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxPdXRwdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uY2F0U3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKF9jb2VyY2VUb0RpY3QoZmluYWxPdXRwdXQsIFwib3V0cHV0XCIpKTtcbiAgICB9XG4gICAgcGlwZShjb2VyY2VhYmxlKSB7XG4gICAgICAgIGlmIChSdW5uYWJsZVNlcXVlbmNlLmlzUnVubmFibGVTZXF1ZW5jZShjb2VyY2VhYmxlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZVNlcXVlbmNlKHtcbiAgICAgICAgICAgICAgICBmaXJzdDogdGhpcy5maXJzdCxcbiAgICAgICAgICAgICAgICBtaWRkbGU6IHRoaXMubWlkZGxlLmNvbmNhdChbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdCxcbiAgICAgICAgICAgICAgICAgICAgY29lcmNlYWJsZS5maXJzdCxcbiAgICAgICAgICAgICAgICAgICAgLi4uY29lcmNlYWJsZS5taWRkbGUsXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgbGFzdDogY29lcmNlYWJsZS5sYXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1bm5hYmxlU2VxdWVuY2Uoe1xuICAgICAgICAgICAgICAgIGZpcnN0OiB0aGlzLmZpcnN0LFxuICAgICAgICAgICAgICAgIG1pZGRsZTogWy4uLnRoaXMubWlkZGxlLCB0aGlzLmxhc3RdLFxuICAgICAgICAgICAgICAgIGxhc3Q6IF9jb2VyY2VUb1J1bm5hYmxlKGNvZXJjZWFibGUpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzdGF0aWMgaXNSdW5uYWJsZVNlcXVlbmNlKHRoaW5nKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHRoaW5nLm1pZGRsZSkgJiYgUnVubmFibGUuaXNSdW5uYWJsZSh0aGluZyk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc3RhdGljIGZyb20oW2ZpcnN0LCAuLi5ydW5uYWJsZXNdKSB7XG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVTZXF1ZW5jZSh7XG4gICAgICAgICAgICBmaXJzdDogX2NvZXJjZVRvUnVubmFibGUoZmlyc3QpLFxuICAgICAgICAgICAgbWlkZGxlOiBydW5uYWJsZXMuc2xpY2UoMCwgLTEpLm1hcChfY29lcmNlVG9SdW5uYWJsZSksXG4gICAgICAgICAgICBsYXN0OiBfY29lcmNlVG9SdW5uYWJsZShydW5uYWJsZXNbcnVubmFibGVzLmxlbmd0aCAtIDFdKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgcnVucyBhIG1hcHBpbmcgb2YgcnVubmFibGVzIGluIHBhcmFsbGVsLFxuICogYW5kIHJldHVybnMgYSBtYXBwaW5nIG9mIHRoZWlyIG91dHB1dHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5uYWJsZU1hcCBleHRlbmRzIFJ1bm5hYmxlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVNYXBcIjtcbiAgICB9XG4gICAgZ2V0U3RlcHNLZXlzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5zdGVwcyk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0ZXBzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RlcHMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZmllbGRzLnN0ZXBzKSkge1xuICAgICAgICAgICAgdGhpcy5zdGVwc1trZXldID0gX2NvZXJjZVRvUnVubmFibGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKHN0ZXBzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVNYXAoeyBzdGVwcyB9KTtcbiAgICB9XG4gICAgYXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICApIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IGdldENhbGxiYWNrTWFuZ2VyRm9yQ29uZmlnKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBydW5NYW5hZ2VyID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlQ2hhaW5TdGFydCh0aGlzLnRvSlNPTigpLCB7XG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgfSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvcHRpb25zPy5ydW5OYW1lKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChPYmplY3QuZW50cmllcyh0aGlzLnN0ZXBzKS5tYXAoYXN5bmMgKFtrZXksIHJ1bm5hYmxlXSkgPT4ge1xuICAgICAgICAgICAgICAgIG91dHB1dFtrZXldID0gYXdhaXQgcnVubmFibGUuaW52b2tlKGlucHV0LCB0aGlzLl9wYXRjaENvbmZpZyhvcHRpb25zLCBydW5NYW5hZ2VyPy5nZXRDaGlsZChrZXkpKSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKG91dHB1dCk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgcnVucyBhIGNhbGxhYmxlLlxuICovXG5leHBvcnQgY2xhc3MgUnVubmFibGVMYW1iZGEgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlJ1bm5hYmxlTGFtYmRhXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmdW5jXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZnVuYyA9IGZpZWxkcy5mdW5jO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbShmdW5jKSB7XG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVMYW1iZGEoe1xuICAgICAgICAgICAgZnVuYyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIF9pbnZva2UoaW5wdXQsIGNvbmZpZywgcnVuTWFuYWdlcikge1xuICAgICAgICBsZXQgb3V0cHV0ID0gYXdhaXQgdGhpcy5mdW5jKGlucHV0KTtcbiAgICAgICAgaWYgKG91dHB1dCAmJiBSdW5uYWJsZS5pc1J1bm5hYmxlKG91dHB1dCkpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IGF3YWl0IG91dHB1dC5pbnZva2UoaW5wdXQsIHRoaXMuX3BhdGNoQ29uZmlnKGNvbmZpZywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcodGhpcy5faW52b2tlLCBpbnB1dCwgb3B0aW9ucyk7XG4gICAgfVxufVxuLyoqXG4gKiBBIFJ1bm5hYmxlIHRoYXQgY2FuIGZhbGxiYWNrIHRvIG90aGVyIFJ1bm5hYmxlcyBpZiBpdCBmYWlscy5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyBleHRlbmRzIFJ1bm5hYmxlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVXaXRoRmFsbGJhY2tzXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJ1bm5hYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZhbGxiYWNrc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJ1bm5hYmxlID0gZmllbGRzLnJ1bm5hYmxlO1xuICAgICAgICB0aGlzLmZhbGxiYWNrcyA9IGZpZWxkcy5mYWxsYmFja3M7XG4gICAgfVxuICAgICpydW5uYWJsZXMoKSB7XG4gICAgICAgIHlpZWxkIHRoaXMucnVubmFibGU7XG4gICAgICAgIGZvciAoY29uc3QgZmFsbGJhY2sgb2YgdGhpcy5mYWxsYmFja3MpIHtcbiAgICAgICAgICAgIHlpZWxkIGZhbGxiYWNrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShvcHRpb25zPy5jYWxsYmFja3MsIHVuZGVmaW5lZCwgb3B0aW9ucz8udGFncywgdW5kZWZpbmVkLCBvcHRpb25zPy5tZXRhZGF0YSk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb3B0aW9ucz8ucnVuTmFtZSk7XG4gICAgICAgIGxldCBmaXJzdEVycm9yO1xuICAgICAgICBmb3IgKGNvbnN0IHJ1bm5hYmxlIG9mIHRoaXMucnVubmFibGVzKCkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gYXdhaXQgcnVubmFibGUuaW52b2tlKGlucHV0LCB0aGlzLl9wYXRjaENvbmZpZyhvcHRpb25zLCBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpKSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChvdXRwdXQsIFwib3V0cHV0XCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RFcnJvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0RXJyb3IgPSBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RFcnJvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBlcnJvciBzdG9yZWQgYXQgZW5kIG9mIGZhbGxiYWNrLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGZpcnN0RXJyb3IpO1xuICAgICAgICB0aHJvdyBmaXJzdEVycm9yO1xuICAgIH1cbiAgICBhc3luYyBiYXRjaChpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucykge1xuICAgICAgICBpZiAoYmF0Y2hPcHRpb25zPy5yZXR1cm5FeGNlcHRpb25zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbmZpZ0xpc3QgPSB0aGlzLl9nZXRPcHRpb25zTGlzdChvcHRpb25zID8/IHt9LCBpbnB1dHMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tNYW5hZ2VycyA9IGF3YWl0IFByb21pc2UuYWxsKGNvbmZpZ0xpc3QubWFwKChjb25maWcpID0+IENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUoY29uZmlnPy5jYWxsYmFja3MsIHVuZGVmaW5lZCwgY29uZmlnPy50YWdzLCB1bmRlZmluZWQsIGNvbmZpZz8ubWV0YWRhdGEpKSk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwoY2FsbGJhY2tNYW5hZ2Vycy5tYXAoKGNhbGxiYWNrTWFuYWdlciwgaSkgPT4gY2FsbGJhY2tNYW5hZ2VyPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXRzW2ldLCBcImlucHV0XCIpLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbmZpZ0xpc3RbaV0ucnVuTmFtZSkpKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgbGV0IGZpcnN0RXJyb3I7XG4gICAgICAgIGZvciAoY29uc3QgcnVubmFibGUgb2YgdGhpcy5ydW5uYWJsZXMoKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXRzID0gYXdhaXQgcnVubmFibGUuYmF0Y2goaW5wdXRzLCBydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIsIGopID0+IHRoaXMuX3BhdGNoQ29uZmlnKGNvbmZpZ0xpc3Rbal0sIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpKSwgYmF0Y2hPcHRpb25zKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIsIGkpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKF9jb2VyY2VUb0RpY3Qob3V0cHV0c1tpXSwgXCJvdXRwdXRcIikpKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdEVycm9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RFcnJvciA9IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZmlyc3RFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZXJyb3Igc3RvcmVkIGF0IGVuZCBvZiBmYWxsYmFja3MuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihmaXJzdEVycm9yKSkpO1xuICAgICAgICB0aHJvdyBmaXJzdEVycm9yO1xuICAgIH1cbn1cbi8vIFRPRE86IEZpZ3VyZSBvdXQgd2h5IHRoZSBjb21waWxlciBuZWVkcyBoZWxwIGVsaW1pbmF0aW5nIEVycm9yIGFzIGEgUnVuT3V0cHV0IHR5cGVcbmV4cG9ydCBmdW5jdGlvbiBfY29lcmNlVG9SdW5uYWJsZShjb2VyY2VhYmxlKSB7XG4gICAgaWYgKHR5cGVvZiBjb2VyY2VhYmxlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZUxhbWJkYSh7IGZ1bmM6IGNvZXJjZWFibGUgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKFJ1bm5hYmxlLmlzUnVubmFibGUoY29lcmNlYWJsZSkpIHtcbiAgICAgICAgcmV0dXJuIGNvZXJjZWFibGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGNvZXJjZWFibGUpICYmIHR5cGVvZiBjb2VyY2VhYmxlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5hYmxlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjb2VyY2VhYmxlKSkge1xuICAgICAgICAgICAgcnVubmFibGVzW2tleV0gPSBfY29lcmNlVG9SdW5uYWJsZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZU1hcCh7XG4gICAgICAgICAgICBzdGVwczogcnVubmFibGVzLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYSBSdW5uYWJsZSwgZnVuY3Rpb24gb3Igb2JqZWN0Llxcbkluc3RlYWQgZ290IGFuIHVuc3VwcG9ydGVkIHR5cGUuYCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUnVubmFibGUsIFJ1bm5hYmxlTWFwIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgYXNzaWducyBrZXktdmFsdWUgcGFpcnMgdG8gaW5wdXRzIG9mIHR5cGUgYFJlY29yZDxzdHJpbmcsIHVua25vd24+YC5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bm5hYmxlQXNzaWduIGV4dGVuZHMgUnVubmFibGUge1xuICAgIGNvbnN0cnVjdG9yKG1hcHBlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXBwZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYXBwZXIgPSBtYXBwZXI7XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBtYXBwZXJSZXN1bHQgPSBhd2FpdCB0aGlzLm1hcHBlci5pbnZva2UoaW5wdXQsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgICAgICAuLi5tYXBwZXJSZXN1bHQsXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgcGFzc2VzIHRocm91Z2ggdGhlIGlucHV0LlxuICovXG5leHBvcnQgY2xhc3MgUnVubmFibGVQYXNzdGhyb3VnaCBleHRlbmRzIFJ1bm5hYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJzY2hlbWFcIiwgXCJydW5uYWJsZVwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVQYXNzdGhyb3VnaFwiO1xuICAgIH1cbiAgICBhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKChpbnB1dCkgPT4gUHJvbWlzZS5yZXNvbHZlKGlucHV0KSwgaW5wdXQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzaWduKG1hcHBpbmcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZUFzc2lnbihuZXcgUnVubmFibGVNYXAoeyBzdGVwczogbWFwcGluZyB9KSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC40LjAnOyAvLyB4LXJlbGVhc2UtcGxlYXNlLXZlcnNpb25cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24ubWpzLm1hcFxuIiwiZXhwb3J0IGNsYXNzIFN0cmVhbSB7XG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlLCBjb250cm9sbGVyKSB7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5kZWNvZGVyID0gbmV3IFNTRURlY29kZXIoKTtcbiAgfVxuICBhc3luYyAqaXRlck1lc3NhZ2VzKCkge1xuICAgIGlmICghdGhpcy5yZXNwb25zZS5ib2R5KSB7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQXR0ZW1wdGVkIHRvIGl0ZXJhdGUgb3ZlciBhIHJlc3BvbnNlIHdpdGggbm8gYm9keWApO1xuICAgIH1cbiAgICBjb25zdCBsaW5lRGVjb2RlciA9IG5ldyBMaW5lRGVjb2RlcigpO1xuICAgIGNvbnN0IGl0ZXIgPSByZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmFibGUodGhpcy5yZXNwb25zZS5ib2R5KTtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGl0ZXIpIHtcbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5kZWNvZGUoY2h1bmspKSB7XG4gICAgICAgIGNvbnN0IHNzZSA9IHRoaXMuZGVjb2Rlci5kZWNvZGUobGluZSk7XG4gICAgICAgIGlmIChzc2UpIHlpZWxkIHNzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmZsdXNoKCkpIHtcbiAgICAgIGNvbnN0IHNzZSA9IHRoaXMuZGVjb2Rlci5kZWNvZGUobGluZSk7XG4gICAgICBpZiAoc3NlKSB5aWVsZCBzc2U7XG4gICAgfVxuICB9XG4gIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgIGZvciBhd2FpdCAoY29uc3Qgc3NlIG9mIHRoaXMuaXRlck1lc3NhZ2VzKCkpIHtcbiAgICAgICAgaWYgKGRvbmUpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoc3NlLmRhdGEuc3RhcnRzV2l0aCgnW0RPTkVdJykpIHtcbiAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3NlLmV2ZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHlpZWxkIEpTT04ucGFyc2Uoc3NlLmRhdGEpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBwYXJzZSBtZXNzYWdlIGludG8gSlNPTjpgLCBzc2UuZGF0YSk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGcm9tIGNodW5rOmAsIHNzZS5yYXcpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIGNhbGxzIGBzdHJlYW0uY29udHJvbGxlci5hYm9ydCgpYCwgd2Ugc2hvdWxkIGV4aXQgd2l0aG91dCB0aHJvd2luZy5cbiAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHJldHVybjtcbiAgICAgIHRocm93IGU7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIGBicmVha2BzLCBhYm9ydCB0aGUgb25nb2luZyByZXF1ZXN0LlxuICAgICAgaWYgKCFkb25lKSB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB9XG4gIH1cbn1cbmNsYXNzIFNTRURlY29kZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmV2ZW50ID0gbnVsbDtcbiAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICB0aGlzLmNodW5rcyA9IFtdO1xuICB9XG4gIGRlY29kZShsaW5lKSB7XG4gICAgaWYgKGxpbmUuZW5kc1dpdGgoJ1xccicpKSB7XG4gICAgICBsaW5lID0gbGluZS5zdWJzdHJpbmcoMCwgbGluZS5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgaWYgKCFsaW5lKSB7XG4gICAgICAvLyBlbXB0eSBsaW5lIGFuZCB3ZSBkaWRuJ3QgcHJldmlvdXNseSBlbmNvdW50ZXIgYW55IG1lc3NhZ2VzXG4gICAgICBpZiAoIXRoaXMuZXZlbnQgJiYgIXRoaXMuZGF0YS5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgICAgY29uc3Qgc3NlID0ge1xuICAgICAgICBldmVudDogdGhpcy5ldmVudCxcbiAgICAgICAgZGF0YTogdGhpcy5kYXRhLmpvaW4oJ1xcbicpLFxuICAgICAgICByYXc6IHRoaXMuY2h1bmtzLFxuICAgICAgfTtcbiAgICAgIHRoaXMuZXZlbnQgPSBudWxsO1xuICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgcmV0dXJuIHNzZTtcbiAgICB9XG4gICAgdGhpcy5jaHVua3MucHVzaChsaW5lKTtcbiAgICBpZiAobGluZS5zdGFydHNXaXRoKCc6JykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgW2ZpZWxkbmFtZSwgXywgdmFsdWVdID0gcGFydGl0aW9uKGxpbmUsICc6Jyk7XG4gICAgaWYgKHZhbHVlLnN0YXJ0c1dpdGgoJyAnKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMSk7XG4gICAgfVxuICAgIGlmIChmaWVsZG5hbWUgPT09ICdldmVudCcpIHtcbiAgICAgIHRoaXMuZXZlbnQgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKGZpZWxkbmFtZSA9PT0gJ2RhdGEnKSB7XG4gICAgICB0aGlzLmRhdGEucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4vKipcbiAqIEEgcmUtaW1wbGVtZW50YXRpb24gb2YgaHR0cHgncyBgTGluZURlY29kZXJgIGluIFB5dGhvbiB0aGF0IGhhbmRsZXMgaW5jcmVtZW50YWxseVxuICogcmVhZGluZyBsaW5lcyBmcm9tIHRleHQuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2VuY29kZS9odHRweC9ibG9iLzkyMDMzM2VhOTgxMThlOWNmNjE3ZjI0NjkwNWQ3YjIwMjUxMDk0MWMvaHR0cHgvX2RlY29kZXJzLnB5I0wyNThcbiAqL1xuY2xhc3MgTGluZURlY29kZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgIHRoaXMudHJhaWxpbmdDUiA9IGZhbHNlO1xuICB9XG4gIGRlY29kZShjaHVuaykge1xuICAgIGxldCB0ZXh0ID0gdGhpcy5kZWNvZGVUZXh0KGNodW5rKTtcbiAgICBpZiAodGhpcy50cmFpbGluZ0NSKSB7XG4gICAgICB0ZXh0ID0gJ1xccicgKyB0ZXh0O1xuICAgICAgdGhpcy50cmFpbGluZ0NSID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0ZXh0LmVuZHNXaXRoKCdcXHInKSkge1xuICAgICAgdGhpcy50cmFpbGluZ0NSID0gdHJ1ZTtcbiAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICB9XG4gICAgaWYgKCF0ZXh0KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IHRyYWlsaW5nTmV3bGluZSA9IExpbmVEZWNvZGVyLk5FV0xJTkVfQ0hBUlMuaGFzKHRleHRbdGV4dC5sZW5ndGggLSAxXSB8fCAnJyk7XG4gICAgbGV0IGxpbmVzID0gdGV4dC5zcGxpdChMaW5lRGVjb2Rlci5ORVdMSU5FX1JFR0VYUCk7XG4gICAgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMSAmJiAhdHJhaWxpbmdOZXdsaW5lKSB7XG4gICAgICB0aGlzLmJ1ZmZlci5wdXNoKGxpbmVzWzBdKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgIGxpbmVzID0gW3RoaXMuYnVmZmVyLmpvaW4oJycpICsgbGluZXNbMF0sIC4uLmxpbmVzLnNsaWNlKDEpXTtcbiAgICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgfVxuICAgIGlmICghdHJhaWxpbmdOZXdsaW5lKSB7XG4gICAgICB0aGlzLmJ1ZmZlciA9IFtsaW5lcy5wb3AoKSB8fCAnJ107XG4gICAgfVxuICAgIHJldHVybiBsaW5lcztcbiAgfVxuICBkZWNvZGVUZXh0KGJ5dGVzKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChieXRlcyA9PSBudWxsKSByZXR1cm4gJyc7XG4gICAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHJldHVybiBieXRlcztcbiAgICAvLyBOb2RlOlxuICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgQnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBieXRlcy50b1N0cmluZygpO1xuICAgICAgfVxuICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oYnl0ZXMpLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBVbmV4cGVjdGVkOiByZWNlaXZlZCBub24tVWludDhBcnJheSAoJHtieXRlcy5jb25zdHJ1Y3Rvci5uYW1lfSkgc3RyZWFtIGNodW5rIGluIGFuIGVudmlyb25tZW50IHdpdGggYSBnbG9iYWwgXCJCdWZmZXJcIiBkZWZpbmVkLCB3aGljaCB0aGlzIGxpYnJhcnkgYXNzdW1lcyB0byBiZSBOb2RlLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCxcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIEJyb3dzZXJcbiAgICBpZiAodHlwZW9mIFRleHREZWNvZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBieXRlcyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIChfYSA9IHRoaXMudGV4dERlY29kZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICh0aGlzLnRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGY4JykpO1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0RGVjb2Rlci5kZWNvZGUoYnl0ZXMpO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVW5leHBlY3RlZDogcmVjZWl2ZWQgbm9uLVVpbnQ4QXJyYXkvQXJyYXlCdWZmZXIgKCR7Ynl0ZXMuY29uc3RydWN0b3IubmFtZX0pIGluIGEgd2ViIHBsYXRmb3JtLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBVbmV4cGVjdGVkOiBuZWl0aGVyIEJ1ZmZlciBub3IgVGV4dERlY29kZXIgYXJlIGF2YWlsYWJsZSBhcyBnbG9iYWxzLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCxcbiAgICApO1xuICB9XG4gIGZsdXNoKCkge1xuICAgIGlmICghdGhpcy5idWZmZXIubGVuZ3RoICYmICF0aGlzLnRyYWlsaW5nQ1IpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgbGluZXMgPSBbdGhpcy5idWZmZXIuam9pbignJyldO1xuICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgdGhpcy50cmFpbGluZ0NSID0gZmFsc2U7XG4gICAgcmV0dXJuIGxpbmVzO1xuICB9XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbkxpbmVEZWNvZGVyLk5FV0xJTkVfQ0hBUlMgPSBuZXcgU2V0KFsnXFxuJywgJ1xccicsICdcXHgwYicsICdcXHgwYycsICdcXHgxYycsICdcXHgxZCcsICdcXHgxZScsICdcXHg4NScsICdcXHUyMDI4JywgJ1xcdTIwMjknXSk7XG5MaW5lRGVjb2Rlci5ORVdMSU5FX1JFR0VYUCA9IC9cXHJcXG58W1xcblxcclxceDBiXFx4MGNcXHgxY1xceDFkXFx4MWVcXHg4NVxcdTIwMjhcXHUyMDI5XS9nO1xuZnVuY3Rpb24gcGFydGl0aW9uKHN0ciwgZGVsaW1pdGVyKSB7XG4gIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoZGVsaW1pdGVyKTtcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIHJldHVybiBbc3RyLnN1YnN0cmluZygwLCBpbmRleCksIGRlbGltaXRlciwgc3RyLnN1YnN0cmluZyhpbmRleCArIGRlbGltaXRlci5sZW5ndGgpXTtcbiAgfVxuICByZXR1cm4gW3N0ciwgJycsICcnXTtcbn1cbi8qKlxuICogTW9zdCBicm93c2VycyBkb24ndCB5ZXQgaGF2ZSBhc3luYyBpdGVyYWJsZSBzdXBwb3J0IGZvciBSZWFkYWJsZVN0cmVhbSxcbiAqIGFuZCBOb2RlIGhhcyBhIHZlcnkgZGlmZmVyZW50IHdheSBvZiByZWFkaW5nIGJ5dGVzIGZyb20gaXRzIFwiUmVhZGFibGVTdHJlYW1cIi5cbiAqXG4gKiBUaGlzIHBvbHlmaWxsIHdhcyBwdWxsZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vTWF0dGlhc0J1ZWxlbnMvd2ViLXN0cmVhbXMtcG9seWZpbGwvcHVsbC8xMjIjaXNzdWVjb21tZW50LTE2MjczNTQ0OTBcbiAqL1xuZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhYmxlKHN0cmVhbSkge1xuICBpZiAoc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSkgcmV0dXJuIHN0cmVhbTtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICByZXR1cm4ge1xuICAgIGFzeW5jIG5leHQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdWx0LmRvbmUpIHJlYWRlci5yZWxlYXNlTG9jaygpOyAvLyByZWxlYXNlIGxvY2sgd2hlbiBzdHJlYW0gYmVjb21lcyBjbG9zZWRcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGVycm9yZWRcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHJldHVybigpIHtcbiAgICAgIGNvbnN0IGNhbmNlbFByb21pc2UgPSByZWFkZXIuY2FuY2VsKCk7XG4gICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICAgIGF3YWl0IGNhbmNlbFByb21pc2U7XG4gICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gICAgfSxcbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbWluZy5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgY2FzdFRvRXJyb3IgfSBmcm9tICcuL2NvcmUubWpzJztcbmV4cG9ydCBjbGFzcyBBUElFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycykge1xuICAgIHN1cGVyKEFQSUVycm9yLm1ha2VNZXNzYWdlKGVycm9yLCBtZXNzYWdlKSk7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcbiAgICBjb25zdCBkYXRhID0gZXJyb3I7XG4gICAgdGhpcy5lcnJvciA9IGRhdGE7XG4gICAgdGhpcy5jb2RlID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhWydjb2RlJ107XG4gICAgdGhpcy5wYXJhbSA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YVsncGFyYW0nXTtcbiAgICB0aGlzLnR5cGUgPSBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGFbJ3R5cGUnXTtcbiAgfVxuICBzdGF0aWMgbWFrZU1lc3NhZ2UoZXJyb3IsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgKFxuICAgICAgICBlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZVxuICAgICAgKSA/XG4gICAgICAgIHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSAnc3RyaW5nJyA/IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgOiBKU09OLnN0cmluZ2lmeShlcnJvci5tZXNzYWdlKVxuICAgICAgOiBlcnJvciA/IEpTT04uc3RyaW5naWZ5KGVycm9yKVxuICAgICAgOiBtZXNzYWdlIHx8ICdVbmtub3duIGVycm9yIG9jY3VycmVkJ1xuICAgICk7XG4gIH1cbiAgc3RhdGljIGdlbmVyYXRlKHN0YXR1cywgZXJyb3JSZXNwb25zZSwgbWVzc2FnZSwgaGVhZGVycykge1xuICAgIGlmICghc3RhdHVzKSB7XG4gICAgICByZXR1cm4gbmV3IEFQSUNvbm5lY3Rpb25FcnJvcih7IGNhdXNlOiBjYXN0VG9FcnJvcihlcnJvclJlc3BvbnNlKSB9KTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3IgPSBlcnJvclJlc3BvbnNlID09PSBudWxsIHx8IGVycm9yUmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yUmVzcG9uc2VbJ2Vycm9yJ107XG4gICAgaWYgKHN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICByZXR1cm4gbmV3IEJhZFJlcXVlc3RFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICByZXR1cm4gbmV3IEF1dGhlbnRpY2F0aW9uRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT09IDQwMykge1xuICAgICAgcmV0dXJuIG5ldyBQZXJtaXNzaW9uRGVuaWVkRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT09IDQwNCkge1xuICAgICAgcmV0dXJuIG5ldyBOb3RGb3VuZEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID09PSA0MDkpIHtcbiAgICAgIHJldHVybiBuZXcgQ29uZmxpY3RFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gNDIyKSB7XG4gICAgICByZXR1cm4gbmV3IFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gNDI5KSB7XG4gICAgICByZXR1cm4gbmV3IFJhdGVMaW1pdEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID49IDUwMCkge1xuICAgICAgcmV0dXJuIG5ldyBJbnRlcm5hbFNlcnZlckVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEFQSUVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICB9XG59XG5leHBvcnQgY2xhc3MgQVBJVXNlckFib3J0RXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9ID0ge30pIHtcbiAgICBzdXBlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWVzc2FnZSB8fCAnUmVxdWVzdCB3YXMgYWJvcnRlZC4nLCB1bmRlZmluZWQpO1xuICAgIHRoaXMuc3RhdHVzID0gdW5kZWZpbmVkO1xuICB9XG59XG5leHBvcnQgY2xhc3MgQVBJQ29ubmVjdGlvbkVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UsIGNhdXNlIH0pIHtcbiAgICBzdXBlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWVzc2FnZSB8fCAnQ29ubmVjdGlvbiBlcnJvci4nLCB1bmRlZmluZWQpO1xuICAgIHRoaXMuc3RhdHVzID0gdW5kZWZpbmVkO1xuICAgIC8vIGluIHNvbWUgZW52aXJvbm1lbnRzIHRoZSAnY2F1c2UnIHByb3BlcnR5IGlzIGFscmVhZHkgZGVjbGFyZWRcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKGNhdXNlKSB0aGlzLmNhdXNlID0gY2F1c2U7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yIGV4dGVuZHMgQVBJQ29ubmVjdGlvbkVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoeyBtZXNzYWdlOiAnUmVxdWVzdCB0aW1lZCBvdXQuJyB9KTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEJhZFJlcXVlc3RFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnN0YXR1cyA9IDQwMDtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0aW9uRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5zdGF0dXMgPSA0MDE7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uRGVuaWVkRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5zdGF0dXMgPSA0MDM7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuc3RhdHVzID0gNDA0O1xuICB9XG59XG5leHBvcnQgY2xhc3MgQ29uZmxpY3RFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnN0YXR1cyA9IDQwOTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnN0YXR1cyA9IDQyMjtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIFJhdGVMaW1pdEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuc3RhdHVzID0gNDI5O1xuICB9XG59XG5leHBvcnQgY2xhc3MgSW50ZXJuYWxTZXJ2ZXJFcnJvciBleHRlbmRzIEFQSUVycm9yIHt9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvci5tanMubWFwXG4iLCIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKlxuICogVGhpcyBpcyBhIHN0dWIgZm9yIG5vbi1ub2RlIGVudmlyb25tZW50cy5cbiAqIEluIG5vZGUgZW52aXJvbm1lbnRzLCBpdCBnZXRzIHJlcGxhY2VkIGFnZW50Lm5vZGUudHMgYnkgdGhlIHBhY2thZ2UgZXhwb3J0IG1hcFxuICovXG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdEFnZW50ID0gKHVybCkgPT4ge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFnZW50Lm1qcy5tYXBcbiIsIi8qKlxuICogRGlzY2xhaW1lcjogbW9kdWxlcyBpbiBfc2hpbXMgYXJlbid0IGludGVuZGVkIHRvIGJlIGltcG9ydGVkIGJ5IFNESyB1c2Vycy5cbiAqL1xuXG4vLyBJZiB3ZSBhY2NpZGVudGFsbHkgY2FsbCBmZXRjaCB3aXRoIHRoZSB3cm9uZyB0aGlzIGJpbmRpbmcsXG4vLyBpbiB0aGUgYnJvd3NlciBpdCB3b3VsZCB0aHJvdzpcbi8vICAgVHlwZUVycm9yOiBGYWlsZWQgdG8gZXhlY3V0ZSAnZmV0Y2gnIG9uICdXaW5kb3cnOiBJbGxlZ2FsIGludm9jYXRpb25cbmNvbnN0IF9mZXRjaCA9IGZldGNoLmJpbmQodW5kZWZpbmVkKTtcbmNvbnN0IF9SZXF1ZXN0ID0gUmVxdWVzdDtcbmNvbnN0IF9SZXNwb25zZSA9IFJlc3BvbnNlO1xuY29uc3QgX0hlYWRlcnMgPSBIZWFkZXJzO1xuXG5leHBvcnQgY29uc3QgaXNQb2x5ZmlsbGVkID0gZmFsc2U7XG5cbmV4cG9ydCB7IF9mZXRjaCBhcyBmZXRjaCwgX1JlcXVlc3QgYXMgUmVxdWVzdCwgX1Jlc3BvbnNlIGFzIFJlc3BvbnNlLCBfSGVhZGVycyBhcyBIZWFkZXJzIH07XG4iLCIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKi9cblxuY29uc3QgX0Zvcm1EYXRhID0gRm9ybURhdGE7XG5jb25zdCBfQmxvYiA9IEJsb2I7XG5cbmNvbnN0IF9GaWxlID1cbiAgdHlwZW9mIEZpbGUgIT09ICd1bmRlZmluZWQnID8gRmlsZSA6IChcbiAgICAvLyBCdW4gZG9lc24ndCBpbXBsZW1lbnQgRmlsZSB5ZXQsIHNvIGp1c3QgbWFrZSBhIHNoaW0gdGhhdCB0aHJvd3MgYSBoZWxwZnVsIGVycm9yIG1lc3NhZ2VcbiAgICBjbGFzcyBGaWxlIGV4dGVuZHMgQmxvYiB7XG4gICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBmaWxlIHVwbG9hZHMgYXJlbid0IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50IHlldCBhcyAnRmlsZScgaXMgbm90IGRlZmluZWRgKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG5cbmV4cG9ydCB7IF9Gb3JtRGF0YSBhcyBGb3JtRGF0YSwgX0ZpbGUgYXMgRmlsZSwgX0Jsb2IgYXMgQmxvYiB9O1xuXG5leHBvcnQgY29uc3QgaXNQb2x5ZmlsbGVkID0gZmFsc2U7XG4iLCIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKi9cbmltcG9ydCB7IE11bHRpcGFydEJvZHkgfSBmcm9tICcuLi91cGxvYWRzLm1qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMoZm9ybSwgb3B0cykge1xuICByZXR1cm4geyAuLi5vcHRzLCBib2R5OiBuZXcgTXVsdGlwYXJ0Qm9keShmb3JtKSB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMubWpzLm1hcFxuIiwiLyoqXG4gKiBEaXNjbGFpbWVyOiBtb2R1bGVzIGluIF9zaGltcyBhcmVuJ3QgaW50ZW5kZWQgdG8gYmUgaW1wb3J0ZWQgYnkgU0RLIHVzZXJzLlxuICpcbiAqIFRoaXMgaXMgYSBzdHViIHRoYXQgZ2V0cyByZXBsYWNlZCBieSBmaWxlRnJvbVBhdGgubm9kZS5qcyBmb3Igbm9kZSBlbnZpcm9ubWVudHNcbiAqIGluIHRoZSBwYWNrYWdlIGV4cG9ydCBtYXBcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbGVGcm9tUGF0aCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICdUaGUgYGZpbGVGcm9tUGF0aGAgZnVuY3Rpb24gaXMgb25seSBzdXBwb3J0ZWQgaW4gTm9kZS4gU2VlIHRoZSBSRUFETUUgZm9yIG1vcmUgZGV0YWlsczogaHR0cHM6Ly93d3cuZ2l0aHViLmNvbS9vcGVuYWkvb3BlbmFpLW5vZGUjZmlsZS11cGxvYWRzJyxcbiAgKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGVGcm9tUGF0aC5tanMubWFwXG4iLCIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ZzUmVhZFN0cmVhbSh2YWx1ZSkge1xuICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub2RlLXJlYWRhYmxlLm1qcy5tYXBcbiIsImltcG9ydCB7IEZvcm1EYXRhLCBGaWxlIH0gZnJvbSAnb3BlbmFpL19zaGltcy9mb3JtZGF0YSc7XG5pbXBvcnQgeyBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJ29wZW5haS9fc2hpbXMvZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMnO1xuaW1wb3J0IHsgZmlsZUZyb21QYXRoIH0gZnJvbSAnb3BlbmFpL19zaGltcy9maWxlRnJvbVBhdGgnO1xuaW1wb3J0IHsgaXNGc1JlYWRTdHJlYW0gfSBmcm9tICdvcGVuYWkvX3NoaW1zL25vZGUtcmVhZGFibGUnO1xuZXhwb3J0IHsgZmlsZUZyb21QYXRoIH07XG5leHBvcnQgY29uc3QgaXNSZXNwb25zZUxpa2UgPSAodmFsdWUpID0+XG4gIHZhbHVlICE9IG51bGwgJiZcbiAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICB0eXBlb2YgdmFsdWUudXJsID09PSAnc3RyaW5nJyAmJlxuICB0eXBlb2YgdmFsdWUuYmxvYiA9PT0gJ2Z1bmN0aW9uJztcbmV4cG9ydCBjb25zdCBpc0ZpbGVMaWtlID0gKHZhbHVlKSA9PlxuICB2YWx1ZSAhPSBudWxsICYmXG4gIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgdHlwZW9mIHZhbHVlLm5hbWUgPT09ICdzdHJpbmcnICYmXG4gIHR5cGVvZiB2YWx1ZS5sYXN0TW9kaWZpZWQgPT09ICdudW1iZXInICYmXG4gIGlzQmxvYkxpa2UodmFsdWUpO1xuLyoqXG4gKiBUaGUgQmxvYkxpa2UgdHlwZSBvbWl0cyBhcnJheUJ1ZmZlcigpIGJlY2F1c2UgQHR5cGVzL25vZGUtZmV0Y2hAXjIuNi40IGxhY2tzIGl0OyBidXQgdGhpcyBjaGVja1xuICogYWRkcyB0aGUgYXJyYXlCdWZmZXIoKSBtZXRob2QgdHlwZSBiZWNhdXNlIGl0IGlzIGF2YWlsYWJsZSBhbmQgdXNlZCBhdCBydW50aW1lXG4gKi9cbmV4cG9ydCBjb25zdCBpc0Jsb2JMaWtlID0gKHZhbHVlKSA9PlxuICB2YWx1ZSAhPSBudWxsICYmXG4gIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgdHlwZW9mIHZhbHVlLnNpemUgPT09ICdudW1iZXInICYmXG4gIHR5cGVvZiB2YWx1ZS50eXBlID09PSAnc3RyaW5nJyAmJlxuICB0eXBlb2YgdmFsdWUudGV4dCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICB0eXBlb2YgdmFsdWUuc2xpY2UgPT09ICdmdW5jdGlvbicgJiZcbiAgdHlwZW9mIHZhbHVlLmFycmF5QnVmZmVyID09PSAnZnVuY3Rpb24nO1xuZXhwb3J0IGNvbnN0IGlzVXBsb2FkYWJsZSA9ICh2YWx1ZSkgPT4ge1xuICByZXR1cm4gaXNGaWxlTGlrZSh2YWx1ZSkgfHwgaXNSZXNwb25zZUxpa2UodmFsdWUpIHx8IGlzRnNSZWFkU3RyZWFtKHZhbHVlKTtcbn07XG4vKipcbiAqIEhlbHBlciBmb3IgY3JlYXRpbmcgYSB7QGxpbmsgRmlsZX0gdG8gcGFzcyB0byBhbiBTREsgdXBsb2FkIG1ldGhvZCBmcm9tIGEgdmFyaWV0eSBvZiBkaWZmZXJlbnQgZGF0YSBmb3JtYXRzXG4gKiBAcGFyYW0gdmFsdWUgdGhlIHJhdyBjb250ZW50IG9mIHRoZSBmaWxlLiAgQ2FuIGJlIGFuIHtAbGluayBVcGxvYWRhYmxlfSwge0BsaW5rIEJsb2JMaWtlUGFydH0sIG9yIHtAbGluayBBc3luY0l0ZXJhYmxlfSBvZiB7QGxpbmsgQmxvYkxpa2VQYXJ0fXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgZmlsZS4gSWYgb21pdHRlZCwgdG9GaWxlIHdpbGwgdHJ5IHRvIGRldGVybWluZSBhIGZpbGUgbmFtZSBmcm9tIGJpdHMgaWYgcG9zc2libGVcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBhZGRpdGlvbmFsIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0aW9ucy50eXBlIHRoZSBNSU1FIHR5cGUgb2YgdGhlIGNvbnRlbnRcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0aW9ucy5sYXN0TW9kaWZpZWQgdGhlIGxhc3QgbW9kaWZpZWQgdGltZXN0YW1wXG4gKiBAcmV0dXJucyBhIHtAbGluayBGaWxlfSB3aXRoIHRoZSBnaXZlbiBwcm9wZXJ0aWVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b0ZpbGUodmFsdWUsIG5hbWUsIG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgLy8gSWYgaXQncyBhIHByb21pc2UsIHJlc29sdmUgaXQuXG4gIHZhbHVlID0gYXdhaXQgdmFsdWU7XG4gIGlmIChpc1Jlc3BvbnNlTGlrZSh2YWx1ZSkpIHtcbiAgICBjb25zdCBibG9iID0gYXdhaXQgdmFsdWUuYmxvYigpO1xuICAgIG5hbWUgfHxcbiAgICAgIChuYW1lID1cbiAgICAgICAgKF9hID0gbmV3IFVSTCh2YWx1ZS51cmwpLnBhdGhuYW1lLnNwbGl0KC9bXFxcXC9dLykucG9wKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgP1xuICAgICAgICAgIF9hXG4gICAgICAgIDogJ3Vua25vd25fZmlsZScpO1xuICAgIHJldHVybiBuZXcgRmlsZShbYmxvYl0sIG5hbWUsIG9wdGlvbnMpO1xuICB9XG4gIGNvbnN0IGJpdHMgPSBhd2FpdCBnZXRCeXRlcyh2YWx1ZSk7XG4gIG5hbWUgfHwgKG5hbWUgPSAoX2IgPSBnZXROYW1lKHZhbHVlKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ3Vua25vd25fZmlsZScpO1xuICBpZiAoIW9wdGlvbnMudHlwZSkge1xuICAgIGNvbnN0IHR5cGUgPSAoX2MgPSBiaXRzWzBdKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudHlwZTtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHRpb25zID0geyAuLi5vcHRpb25zLCB0eXBlIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgRmlsZShiaXRzLCBuYW1lLCBvcHRpb25zKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEJ5dGVzKHZhbHVlKSB7XG4gIHZhciBfYTtcbiAgbGV0IHBhcnRzID0gW107XG4gIGlmIChcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSB8fCAvLyBpbmNsdWRlcyBVaW50OEFycmF5LCBCdWZmZXIsIGV0Yy5cbiAgICB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyXG4gICkge1xuICAgIHBhcnRzLnB1c2godmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzQmxvYkxpa2UodmFsdWUpKSB7XG4gICAgcGFydHMucHVzaChhd2FpdCB2YWx1ZS5hcnJheUJ1ZmZlcigpKTtcbiAgfSBlbHNlIGlmIChcbiAgICBpc0FzeW5jSXRlcmFibGVJdGVyYXRvcih2YWx1ZSkgLy8gaW5jbHVkZXMgUmVhZGFibGUsIFJlYWRhYmxlU3RyZWFtLCBldGMuXG4gICkge1xuICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgdmFsdWUpIHtcbiAgICAgIHBhcnRzLnB1c2goY2h1bmspOyAvLyBUT0RPLCBjb25zaWRlciB2YWxpZGF0aW5nP1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgVW5leHBlY3RlZCBkYXRhIHR5cGU6ICR7dHlwZW9mIHZhbHVlfTsgY29uc3RydWN0b3I6ICR7XG4gICAgICAgIChfYSA9IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS5jb25zdHJ1Y3RvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/XG4gICAgICAgICAgdm9pZCAwXG4gICAgICAgIDogX2EubmFtZVxuICAgICAgfTsgcHJvcHM6ICR7cHJvcHNGb3JFcnJvcih2YWx1ZSl9YCxcbiAgICApO1xuICB9XG4gIHJldHVybiBwYXJ0cztcbn1cbmZ1bmN0aW9uIHByb3BzRm9yRXJyb3IodmFsdWUpIHtcbiAgY29uc3QgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIHJldHVybiBgWyR7cHJvcHMubWFwKChwKSA9PiBgXCIke3B9XCJgKS5qb2luKCcsICcpfV1gO1xufVxuZnVuY3Rpb24gZ2V0TmFtZSh2YWx1ZSkge1xuICB2YXIgX2E7XG4gIHJldHVybiAoXG4gICAgZ2V0U3RyaW5nRnJvbU1heWJlQnVmZmVyKHZhbHVlLm5hbWUpIHx8XG4gICAgZ2V0U3RyaW5nRnJvbU1heWJlQnVmZmVyKHZhbHVlLmZpbGVuYW1lKSB8fFxuICAgIC8vIEZvciBmcy5SZWFkU3RyZWFtXG4gICAgKChfYSA9IGdldFN0cmluZ0Zyb21NYXliZUJ1ZmZlcih2YWx1ZS5wYXRoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KC9bXFxcXC9dLykucG9wKCkpXG4gICk7XG59XG5jb25zdCBnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIgPSAoeCkgPT4ge1xuICBpZiAodHlwZW9mIHggPT09ICdzdHJpbmcnKSByZXR1cm4geDtcbiAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHggaW5zdGFuY2VvZiBCdWZmZXIpIHJldHVybiBTdHJpbmcoeCk7XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuY29uc3QgaXNBc3luY0l0ZXJhYmxlSXRlcmF0b3IgPSAodmFsdWUpID0+XG4gIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xuZXhwb3J0IGNsYXNzIE11bHRpcGFydEJvZHkge1xuICBjb25zdHJ1Y3Rvcihib2R5KSB7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgfVxuICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgcmV0dXJuICdNdWx0aXBhcnRCb2R5JztcbiAgfVxufVxuZXhwb3J0IGNvbnN0IGlzTXVsdGlwYXJ0Qm9keSA9IChib2R5KSA9PlxuICBib2R5ICYmIHR5cGVvZiBib2R5ID09PSAnb2JqZWN0JyAmJiBib2R5LmJvZHkgJiYgYm9keVtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTXVsdGlwYXJ0Qm9keSc7XG4vKipcbiAqIFJldHVybnMgYSBtdWx0aXBhcnQvZm9ybS1kYXRhIHJlcXVlc3QgaWYgYW55IHBhcnQgb2YgdGhlIGdpdmVuIHJlcXVlc3QgYm9keSBjb250YWlucyBhIEZpbGUgLyBCbG9iIHZhbHVlLlxuICogT3RoZXJ3aXNlIHJldHVybnMgdGhlIHJlcXVlc3QgYXMgaXMuXG4gKi9cbmV4cG9ydCBjb25zdCBtYXliZU11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyA9IGFzeW5jIChvcHRzKSA9PiB7XG4gIGlmICghaGFzVXBsb2FkYWJsZVZhbHVlKG9wdHMuYm9keSkpIHJldHVybiBvcHRzO1xuICBjb25zdCBmb3JtID0gYXdhaXQgY3JlYXRlRm9ybShvcHRzLmJvZHkpO1xuICByZXR1cm4gZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMoZm9ybSwgb3B0cyk7XG59O1xuZXhwb3J0IGNvbnN0IG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyA9IGFzeW5jIChvcHRzKSA9PiB7XG4gIGNvbnN0IGZvcm0gPSBhd2FpdCBjcmVhdGVGb3JtKG9wdHMuYm9keSk7XG4gIHJldHVybiBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyhmb3JtLCBvcHRzKTtcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlRm9ybSA9IGFzeW5jIChib2R5KSA9PiB7XG4gIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoT2JqZWN0LmVudHJpZXMoYm9keSB8fCB7fSkubWFwKChba2V5LCB2YWx1ZV0pID0+IGFkZEZvcm1WYWx1ZShmb3JtLCBrZXksIHZhbHVlKSkpO1xuICByZXR1cm4gZm9ybTtcbn07XG5jb25zdCBoYXNVcGxvYWRhYmxlVmFsdWUgPSAodmFsdWUpID0+IHtcbiAgaWYgKGlzVXBsb2FkYWJsZSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZS5zb21lKGhhc1VwbG9hZGFibGVWYWx1ZSk7XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgZm9yIChjb25zdCBrIGluIHZhbHVlKSB7XG4gICAgICBpZiAoaGFzVXBsb2FkYWJsZVZhbHVlKHZhbHVlW2tdKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBhZGRGb3JtVmFsdWUgPSBhc3luYyAoZm9ybSwga2V5LCB2YWx1ZSkgPT4ge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICBgUmVjZWl2ZWQgbnVsbCBmb3IgXCIke2tleX1cIjsgdG8gcGFzcyBudWxsIGluIEZvcm1EYXRhLCB5b3UgbXVzdCB1c2UgdGhlIHN0cmluZyAnbnVsbCdgLFxuICAgICk7XG4gIH1cbiAgLy8gVE9ETzogbWFrZSBuZXN0ZWQgZm9ybWF0cyBjb25maWd1cmFibGVcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgIGZvcm0uYXBwZW5kKGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gIH0gZWxzZSBpZiAoaXNVcGxvYWRhYmxlKHZhbHVlKSkge1xuICAgIGNvbnN0IGZpbGUgPSBhd2FpdCB0b0ZpbGUodmFsdWUpO1xuICAgIGZvcm0uYXBwZW5kKGtleSwgZmlsZSk7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbCh2YWx1ZS5tYXAoKGVudHJ5KSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwga2V5ICsgJ1tdJywgZW50cnkpKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcCgoW25hbWUsIHByb3BdKSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwgYCR7a2V5fVske25hbWV9XWAsIHByb3ApKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICBgSW52YWxpZCB2YWx1ZSBnaXZlbiB0byBmb3JtLCBleHBlY3RlZCBhIHN0cmluZywgbnVtYmVyLCBib29sZWFuLCBvYmplY3QsIEFycmF5LCBGaWxlIG9yIEJsb2IgYnV0IGdvdCAke3ZhbHVlfSBpbnN0ZWFkYCxcbiAgICApO1xuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBsb2Fkcy5tanMubWFwXG4iLCJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZFNldCA9XG4gICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldCkgfHxcbiAgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gJ20nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGUnKTtcbiAgICBpZiAoa2luZCA9PT0gJ2EnICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXInKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSAnZnVuY3Rpb24nID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdCcpO1xuICAgIHJldHVybiAoXG4gICAgICBraW5kID09PSAnYScgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKVxuICAgICAgOiBmID8gKGYudmFsdWUgPSB2YWx1ZSlcbiAgICAgIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSksXG4gICAgICB2YWx1ZVxuICAgICk7XG4gIH07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9XG4gICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHxcbiAgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSAnYScgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlcicpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09ICdmdW5jdGlvbicgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSlcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdCcpO1xuICAgIHJldHVybiAoXG4gICAgICBraW5kID09PSAnbScgPyBmXG4gICAgICA6IGtpbmQgPT09ICdhJyA/IGYuY2FsbChyZWNlaXZlcilcbiAgICAgIDogZiA/IGYudmFsdWVcbiAgICAgIDogc3RhdGUuZ2V0KHJlY2VpdmVyKVxuICAgICk7XG4gIH07XG52YXIgX0Fic3RyYWN0UGFnZV9jbGllbnQ7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi92ZXJzaW9uLm1qcyc7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tICcuL3N0cmVhbWluZy5tanMnO1xuaW1wb3J0IHsgQVBJRXJyb3IsIEFQSUNvbm5lY3Rpb25FcnJvciwgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciwgQVBJVXNlckFib3J0RXJyb3IgfSBmcm9tICcuL2Vycm9yLm1qcyc7XG5pbXBvcnQgeyBnZXREZWZhdWx0QWdlbnQgfSBmcm9tICdvcGVuYWkvX3NoaW1zL2FnZW50JztcbmltcG9ydCB7IGZldGNoLCBpc1BvbHlmaWxsZWQgYXMgZmV0Y2hJc1BvbHlmaWxsZWQgfSBmcm9tICdvcGVuYWkvX3NoaW1zL2ZldGNoJztcbmltcG9ydCB7IGlzTXVsdGlwYXJ0Qm9keSB9IGZyb20gJy4vdXBsb2Fkcy5tanMnO1xuZXhwb3J0IHsgbWF5YmVNdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucywgY3JlYXRlRm9ybSB9IGZyb20gJy4vdXBsb2Fkcy5tanMnO1xuY29uc3QgTUFYX1JFVFJJRVMgPSAyO1xuYXN5bmMgZnVuY3Rpb24gZGVmYXVsdFBhcnNlUmVzcG9uc2UocHJvcHMpIHtcbiAgY29uc3QgeyByZXNwb25zZSB9ID0gcHJvcHM7XG4gIGlmIChwcm9wcy5vcHRpb25zLnN0cmVhbSkge1xuICAgIC8vIE5vdGU6IHRoZXJlIGlzIGFuIGludmFyaWFudCBoZXJlIHRoYXQgaXNuJ3QgcmVwcmVzZW50ZWQgaW4gdGhlIHR5cGUgc3lzdGVtXG4gICAgLy8gdGhhdCBpZiB5b3Ugc2V0IGBzdHJlYW06IHRydWVgIHRoZSByZXNwb25zZSB0eXBlIG11c3QgYWxzbyBiZSBgU3RyZWFtPFQ+YFxuICAgIHJldHVybiBuZXcgU3RyZWFtKHJlc3BvbnNlLCBwcm9wcy5jb250cm9sbGVyKTtcbiAgfVxuICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgaWYgKGNvbnRlbnRUeXBlID09PSBudWxsIHx8IGNvbnRlbnRUeXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250ZW50VHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBkZWJ1ZygncmVzcG9uc2UnLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnVybCwgcmVzcG9uc2UuaGVhZGVycywganNvbik7XG4gICAgcmV0dXJuIGpzb247XG4gIH1cbiAgLy8gVE9ETyBoYW5kbGUgYmxvYiwgYXJyYXlidWZmZXIsIG90aGVyIGNvbnRlbnQgdHlwZXMsIGV0Yy5cbiAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgZGVidWcoJ3Jlc3BvbnNlJywgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS51cmwsIHJlc3BvbnNlLmhlYWRlcnMsIHRleHQpO1xuICByZXR1cm4gdGV4dDtcbn1cbi8qKlxuICogQSBzdWJjbGFzcyBvZiBgUHJvbWlzZWAgcHJvdmlkaW5nIGFkZGl0aW9uYWwgaGVscGVyIG1ldGhvZHNcbiAqIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBTREsuXG4gKi9cbmV4cG9ydCBjbGFzcyBBUElQcm9taXNlIGV4dGVuZHMgUHJvbWlzZSB7XG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlUHJvbWlzZSwgcGFyc2VSZXNwb25zZSA9IGRlZmF1bHRQYXJzZVJlc3BvbnNlKSB7XG4gICAgc3VwZXIoKHJlc29sdmUpID0+IHtcbiAgICAgIC8vIHRoaXMgaXMgbWF5YmUgYSBiaXQgd2VpcmQgYnV0IHRoaXMgaGFzIHRvIGJlIGEgbm8tb3AgdG8gbm90IGltcGxpY2l0bHlcbiAgICAgIC8vIHBhcnNlIHRoZSByZXNwb25zZSBib2R5OyBpbnN0ZWFkIC50aGVuLCAuY2F0Y2gsIC5maW5hbGx5IGFyZSBvdmVycmlkZGVuXG4gICAgICAvLyB0byBwYXJzZSB0aGUgcmVzcG9uc2VcbiAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgfSk7XG4gICAgdGhpcy5yZXNwb25zZVByb21pc2UgPSByZXNwb25zZVByb21pc2U7XG4gICAgdGhpcy5wYXJzZVJlc3BvbnNlID0gcGFyc2VSZXNwb25zZTtcbiAgfVxuICBfdGhlblVud3JhcCh0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gbmV3IEFQSVByb21pc2UodGhpcy5yZXNwb25zZVByb21pc2UsIGFzeW5jIChwcm9wcykgPT4gdHJhbnNmb3JtKGF3YWl0IHRoaXMucGFyc2VSZXNwb25zZShwcm9wcykpKTtcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2UgaW5zdGVhZCBvZiBwYXJzaW5nIHRoZSByZXNwb25zZVxuICAgKiBkYXRhLlxuICAgKlxuICAgKiBJZiB5b3Ugd2FudCB0byBwYXJzZSB0aGUgcmVzcG9uc2UgYm9keSBidXQgc3RpbGwgZ2V0IHRoZSBgUmVzcG9uc2VgXG4gICAqIGluc3RhbmNlLCB5b3UgY2FuIHVzZSB7QGxpbmsgd2l0aFJlc3BvbnNlKCl9LlxuICAgKi9cbiAgYXNSZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZVByb21pc2UudGhlbigocCkgPT4gcC5yZXNwb25zZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIHBhcnNlZCByZXNwb25zZSBkYXRhIGFuZCB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2UuXG4gICAqXG4gICAqIElmIHlvdSBqdXN0IHdhbnQgdG8gZ2V0IHRoZSByYXcgYFJlc3BvbnNlYCBpbnN0YW5jZSB3aXRob3V0IHBhcnNpbmcgaXQsXG4gICAqIHlvdSBjYW4gdXNlIHtAbGluayBhc1Jlc3BvbnNlKCl9LlxuICAgKi9cbiAgYXN5bmMgd2l0aFJlc3BvbnNlKCkge1xuICAgIGNvbnN0IFtkYXRhLCByZXNwb25zZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wYXJzZSgpLCB0aGlzLmFzUmVzcG9uc2UoKV0pO1xuICAgIHJldHVybiB7IGRhdGEsIHJlc3BvbnNlIH07XG4gIH1cbiAgcGFyc2UoKSB7XG4gICAgaWYgKCF0aGlzLnBhcnNlZFByb21pc2UpIHtcbiAgICAgIHRoaXMucGFyc2VkUHJvbWlzZSA9IHRoaXMucmVzcG9uc2VQcm9taXNlLnRoZW4odGhpcy5wYXJzZVJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucGFyc2VkUHJvbWlzZTtcbiAgfVxuICB0aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyc2UoKS50aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKTtcbiAgfVxuICBjYXRjaChvbnJlamVjdGVkKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyc2UoKS5jYXRjaChvbnJlamVjdGVkKTtcbiAgfVxuICBmaW5hbGx5KG9uZmluYWxseSkge1xuICAgIHJldHVybiB0aGlzLnBhcnNlKCkuZmluYWxseShvbmZpbmFsbHkpO1xuICB9XG59XG5leHBvcnQgY2xhc3MgQVBJQ2xpZW50IHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGJhc2VVUkwsXG4gICAgbWF4UmV0cmllcyxcbiAgICB0aW1lb3V0ID0gNjAwMDAwLCAvLyAxMCBtaW51dGVzXG4gICAgaHR0cEFnZW50LFxuICAgIGZldGNoOiBvdmVycmlkZW5GZXRjaCxcbiAgfSkge1xuICAgIHRoaXMuYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgdGhpcy5tYXhSZXRyaWVzID0gdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoXG4gICAgICAnbWF4UmV0cmllcycsXG4gICAgICBtYXhSZXRyaWVzICE9PSBudWxsICYmIG1heFJldHJpZXMgIT09IHZvaWQgMCA/IG1heFJldHJpZXMgOiBNQVhfUkVUUklFUyxcbiAgICApO1xuICAgIHRoaXMudGltZW91dCA9IHZhbGlkYXRlUG9zaXRpdmVJbnRlZ2VyKCd0aW1lb3V0JywgdGltZW91dCk7XG4gICAgdGhpcy5odHRwQWdlbnQgPSBodHRwQWdlbnQ7XG4gICAgdGhpcy5mZXRjaCA9IG92ZXJyaWRlbkZldGNoICE9PSBudWxsICYmIG92ZXJyaWRlbkZldGNoICE9PSB2b2lkIDAgPyBvdmVycmlkZW5GZXRjaCA6IGZldGNoO1xuICB9XG4gIGF1dGhIZWFkZXJzKG9wdHMpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoaXMgdG8gYWRkIHlvdXIgb3duIGRlZmF1bHQgaGVhZGVycywgZm9yIGV4YW1wbGU6XG4gICAqXG4gICAqICB7XG4gICAqICAgIC4uLnN1cGVyLmRlZmF1bHRIZWFkZXJzKCksXG4gICAqICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgMTIzJyxcbiAgICogIH1cbiAgICovXG4gIGRlZmF1bHRIZWFkZXJzKG9wdHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgJ1VzZXItQWdlbnQnOiB0aGlzLmdldFVzZXJBZ2VudCgpLFxuICAgICAgLi4uZ2V0UGxhdGZvcm1IZWFkZXJzKCksXG4gICAgICAuLi50aGlzLmF1dGhIZWFkZXJzKG9wdHMpLFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoaXMgdG8gYWRkIHlvdXIgb3duIGhlYWRlcnMgdmFsaWRhdGlvbjpcbiAgICovXG4gIHZhbGlkYXRlSGVhZGVycyhoZWFkZXJzLCBjdXN0b21IZWFkZXJzKSB7fVxuICBkZWZhdWx0SWRlbXBvdGVuY3lLZXkoKSB7XG4gICAgcmV0dXJuIGBzdGFpbmxlc3Mtbm9kZS1yZXRyeS0ke3V1aWQ0KCl9YDtcbiAgfVxuICBnZXQocGF0aCwgb3B0cykge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ2dldCcsIHBhdGgsIG9wdHMpO1xuICB9XG4gIHBvc3QocGF0aCwgb3B0cykge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ3Bvc3QnLCBwYXRoLCBvcHRzKTtcbiAgfVxuICBwYXRjaChwYXRoLCBvcHRzKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgncGF0Y2gnLCBwYXRoLCBvcHRzKTtcbiAgfVxuICBwdXQocGF0aCwgb3B0cykge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ3B1dCcsIHBhdGgsIG9wdHMpO1xuICB9XG4gIGRlbGV0ZShwYXRoLCBvcHRzKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgnZGVsZXRlJywgcGF0aCwgb3B0cyk7XG4gIH1cbiAgbWV0aG9kUmVxdWVzdChtZXRob2QsIHBhdGgsIG9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFByb21pc2UucmVzb2x2ZShvcHRzKS50aGVuKChvcHRzKSA9PiAoeyBtZXRob2QsIHBhdGgsIC4uLm9wdHMgfSkpKTtcbiAgfVxuICBnZXRBUElMaXN0KHBhdGgsIFBhZ2UsIG9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0QVBJTGlzdChQYWdlLCB7IG1ldGhvZDogJ2dldCcsIHBhdGgsIC4uLm9wdHMgfSk7XG4gIH1cbiAgY2FsY3VsYXRlQ29udGVudExlbmd0aChib2R5KSB7XG4gICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBCdWZmZXIuYnl0ZUxlbmd0aChib2R5LCAndXRmOCcpLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIFRleHRFbmNvZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgIGNvbnN0IGVuY29kZWQgPSBlbmNvZGVyLmVuY29kZShib2R5KTtcbiAgICAgICAgcmV0dXJuIGVuY29kZWQubGVuZ3RoLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGJ1aWxkUmVxdWVzdChvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgY29uc3QgeyBtZXRob2QsIHBhdGgsIHF1ZXJ5LCBoZWFkZXJzOiBoZWFkZXJzID0ge30gfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgYm9keSA9XG4gICAgICBpc011bHRpcGFydEJvZHkob3B0aW9ucy5ib2R5KSA/IG9wdGlvbnMuYm9keS5ib2R5XG4gICAgICA6IG9wdGlvbnMuYm9keSA/IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYm9keSwgbnVsbCwgMilcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5jYWxjdWxhdGVDb250ZW50TGVuZ3RoKGJvZHkpO1xuICAgIGNvbnN0IHVybCA9IHRoaXMuYnVpbGRVUkwocGF0aCwgcXVlcnkpO1xuICAgIGlmICgndGltZW91dCcgaW4gb3B0aW9ucykgdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ3RpbWVvdXQnLCBvcHRpb25zLnRpbWVvdXQpO1xuICAgIGNvbnN0IHRpbWVvdXQgPSAoX2EgPSBvcHRpb25zLnRpbWVvdXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMudGltZW91dDtcbiAgICBjb25zdCBodHRwQWdlbnQgPVxuICAgICAgKFxuICAgICAgICAoX2MgPSAoX2IgPSBvcHRpb25zLmh0dHBBZ2VudCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5odHRwQWdlbnQpICE9PSBudWxsICYmXG4gICAgICAgIF9jICE9PSB2b2lkIDBcbiAgICAgICkgP1xuICAgICAgICBfY1xuICAgICAgOiBnZXREZWZhdWx0QWdlbnQodXJsKTtcbiAgICBjb25zdCBtaW5BZ2VudFRpbWVvdXQgPSB0aW1lb3V0ICsgMTAwMDtcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgKChcbiAgICAgICAgKF9kID0gaHR0cEFnZW50ID09PSBudWxsIHx8IGh0dHBBZ2VudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaHR0cEFnZW50Lm9wdGlvbnMpID09PSBudWxsIHx8XG4gICAgICAgIF9kID09PSB2b2lkIDBcbiAgICAgICkgP1xuICAgICAgICB2b2lkIDBcbiAgICAgIDogX2QudGltZW91dCkgPT09ICdudW1iZXInICYmXG4gICAgICBtaW5BZ2VudFRpbWVvdXQgPiAoKF9lID0gaHR0cEFnZW50Lm9wdGlvbnMudGltZW91dCkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogMClcbiAgICApIHtcbiAgICAgIC8vIEFsbG93IGFueSBnaXZlbiByZXF1ZXN0IHRvIGJ1bXAgb3VyIGFnZW50IGFjdGl2ZSBzb2NrZXQgdGltZW91dC5cbiAgICAgIC8vIFRoaXMgbWF5IHNlZW0gc3RyYW5nZSwgYnV0IGxlYWtpbmcgYWN0aXZlIHNvY2tldHMgc2hvdWxkIGJlIHJhcmUgYW5kIG5vdCBwYXJ0aWN1bGFybHkgcHJvYmxlbWF0aWMsXG4gICAgICAvLyBhbmQgd2l0aG91dCBtdXRhdGluZyBhZ2VudCB3ZSB3b3VsZCBuZWVkIHRvIGNyZWF0ZSBtb3JlIG9mIHRoZW0uXG4gICAgICAvLyBUaGlzIHRyYWRlb2ZmIG9wdGltaXplcyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICBodHRwQWdlbnQub3B0aW9ucy50aW1lb3V0ID0gbWluQWdlbnRUaW1lb3V0O1xuICAgIH1cbiAgICBpZiAodGhpcy5pZGVtcG90ZW5jeUhlYWRlciAmJiBtZXRob2QgIT09ICdnZXQnKSB7XG4gICAgICBpZiAoIW9wdGlvbnMuaWRlbXBvdGVuY3lLZXkpIG9wdGlvbnMuaWRlbXBvdGVuY3lLZXkgPSB0aGlzLmRlZmF1bHRJZGVtcG90ZW5jeUtleSgpO1xuICAgICAgaGVhZGVyc1t0aGlzLmlkZW1wb3RlbmN5SGVhZGVyXSA9IG9wdGlvbnMuaWRlbXBvdGVuY3lLZXk7XG4gICAgfVxuICAgIGNvbnN0IHJlcUhlYWRlcnMgPSB7XG4gICAgICAuLi4oY29udGVudExlbmd0aCAmJiB7ICdDb250ZW50LUxlbmd0aCc6IGNvbnRlbnRMZW5ndGggfSksXG4gICAgICAuLi50aGlzLmRlZmF1bHRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgLi4uaGVhZGVycyxcbiAgICB9O1xuICAgIC8vIGxldCBidWlsdGluIGZldGNoIHNldCB0aGUgQ29udGVudC1UeXBlIGZvciBtdWx0aXBhcnQgYm9kaWVzXG4gICAgaWYgKGlzTXVsdGlwYXJ0Qm9keShvcHRpb25zLmJvZHkpICYmICFmZXRjaElzUG9seWZpbGxlZCkge1xuICAgICAgZGVsZXRlIHJlcUhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddO1xuICAgIH1cbiAgICAvLyBTdHJpcCBhbnkgaGVhZGVycyBiZWluZyBleHBsaWNpdGx5IG9taXR0ZWQgd2l0aCBudWxsXG4gICAgT2JqZWN0LmtleXMocmVxSGVhZGVycykuZm9yRWFjaCgoa2V5KSA9PiByZXFIZWFkZXJzW2tleV0gPT09IG51bGwgJiYgZGVsZXRlIHJlcUhlYWRlcnNba2V5XSk7XG4gICAgY29uc3QgcmVxID0ge1xuICAgICAgbWV0aG9kLFxuICAgICAgLi4uKGJvZHkgJiYgeyBib2R5OiBib2R5IH0pLFxuICAgICAgaGVhZGVyczogcmVxSGVhZGVycyxcbiAgICAgIC4uLihodHRwQWdlbnQgJiYgeyBhZ2VudDogaHR0cEFnZW50IH0pLFxuICAgICAgLy8gQHRzLWlnbm9yZSBub2RlLWZldGNoIHVzZXMgYSBjdXN0b20gQWJvcnRTaWduYWwgdHlwZSB0aGF0IGlzXG4gICAgICAvLyBub3QgY29tcGF0aWJsZSB3aXRoIHN0YW5kYXJkIHdlYiB0eXBlc1xuICAgICAgc2lnbmFsOiAoX2YgPSBvcHRpb25zLnNpZ25hbCkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogbnVsbCxcbiAgICB9O1xuICAgIHRoaXMudmFsaWRhdGVIZWFkZXJzKHJlcUhlYWRlcnMsIGhlYWRlcnMpO1xuICAgIHJldHVybiB7IHJlcSwgdXJsLCB0aW1lb3V0IH07XG4gIH1cbiAgLyoqXG4gICAqIFVzZWQgYXMgYSBjYWxsYmFjayBmb3IgbXV0YXRpbmcgdGhlIGdpdmVuIGBSZXF1ZXN0SW5pdGAgb2JqZWN0LlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY2FzZXMgd2hlcmUgeW91IHdhbnQgdG8gYWRkIGNlcnRhaW4gaGVhZGVycyBiYXNlZCBvZmYgb2ZcbiAgICogdGhlIHJlcXVlc3QgcHJvcGVydGllcywgZS5nLiBgbWV0aG9kYCBvciBgdXJsYC5cbiAgICovXG4gIGFzeW5jIHByZXBhcmVSZXF1ZXN0KHJlcXVlc3QsIHsgdXJsLCBvcHRpb25zIH0pIHt9XG4gIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICFoZWFkZXJzID8ge31cbiAgICAgIDogU3ltYm9sLml0ZXJhdG9yIGluIGhlYWRlcnMgPyBPYmplY3QuZnJvbUVudHJpZXMoQXJyYXkuZnJvbShoZWFkZXJzKS5tYXAoKGhlYWRlcikgPT4gWy4uLmhlYWRlcl0pKVxuICAgICAgOiB7IC4uLmhlYWRlcnMgfVxuICAgICk7XG4gIH1cbiAgbWFrZVN0YXR1c0Vycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpIHtcbiAgICByZXR1cm4gQVBJRXJyb3IuZ2VuZXJhdGUoc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gIH1cbiAgcmVxdWVzdChvcHRpb25zLCByZW1haW5pbmdSZXRyaWVzID0gbnVsbCkge1xuICAgIHJldHVybiBuZXcgQVBJUHJvbWlzZSh0aGlzLm1ha2VSZXF1ZXN0KG9wdGlvbnMsIHJlbWFpbmluZ1JldHJpZXMpKTtcbiAgfVxuICBhc3luYyBtYWtlUmVxdWVzdChvcHRpb25zSW5wdXQsIHJldHJpZXNSZW1haW5pbmcpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgb3B0aW9uc0lucHV0O1xuICAgIGlmIChyZXRyaWVzUmVtYWluaW5nID09IG51bGwpIHtcbiAgICAgIHJldHJpZXNSZW1haW5pbmcgPSAoX2EgPSBvcHRpb25zLm1heFJldHJpZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMubWF4UmV0cmllcztcbiAgICB9XG4gICAgY29uc3QgeyByZXEsIHVybCwgdGltZW91dCB9ID0gdGhpcy5idWlsZFJlcXVlc3Qob3B0aW9ucyk7XG4gICAgYXdhaXQgdGhpcy5wcmVwYXJlUmVxdWVzdChyZXEsIHsgdXJsLCBvcHRpb25zIH0pO1xuICAgIGRlYnVnKCdyZXF1ZXN0JywgdXJsLCBvcHRpb25zLCByZXEuaGVhZGVycyk7XG4gICAgaWYgKChfYiA9IG9wdGlvbnMuc2lnbmFsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYWJvcnRlZCkge1xuICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoV2l0aFRpbWVvdXQodXJsLCByZXEsIHRpbWVvdXQsIGNvbnRyb2xsZXIpLmNhdGNoKGNhc3RUb0Vycm9yKTtcbiAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgaWYgKChfYyA9IG9wdGlvbnMuc2lnbmFsKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYWJvcnRlZCkge1xuICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXRyaWVzUmVtYWluaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXNwb25zZS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBBUElDb25uZWN0aW9uRXJyb3IoeyBjYXVzZTogcmVzcG9uc2UgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGNyZWF0ZVJlc3BvbnNlSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBpZiAocmV0cmllc1JlbWFpbmluZyAmJiB0aGlzLnNob3VsZFJldHJ5KHJlc3BvbnNlKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXRyeVJlcXVlc3Qob3B0aW9ucywgcmV0cmllc1JlbWFpbmluZywgcmVzcG9uc2VIZWFkZXJzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVyclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkuY2F0Y2goKCkgPT4gJ1Vua25vd24nKTtcbiAgICAgIGNvbnN0IGVyckpTT04gPSBzYWZlSlNPTihlcnJUZXh0KTtcbiAgICAgIGNvbnN0IGVyck1lc3NhZ2UgPSBlcnJKU09OID8gdW5kZWZpbmVkIDogZXJyVGV4dDtcbiAgICAgIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgdXJsLCByZXNwb25zZUhlYWRlcnMsIGVyck1lc3NhZ2UpO1xuICAgICAgY29uc3QgZXJyID0gdGhpcy5tYWtlU3RhdHVzRXJyb3IocmVzcG9uc2Uuc3RhdHVzLCBlcnJKU09OLCBlcnJNZXNzYWdlLCByZXNwb25zZUhlYWRlcnMpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4geyByZXNwb25zZSwgb3B0aW9ucywgY29udHJvbGxlciB9O1xuICB9XG4gIHJlcXVlc3RBUElMaXN0KFBhZ2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5tYWtlUmVxdWVzdChvcHRpb25zLCBudWxsKTtcbiAgICByZXR1cm4gbmV3IFBhZ2VQcm9taXNlKHRoaXMsIHJlcXVlc3QsIFBhZ2UpO1xuICB9XG4gIGJ1aWxkVVJMKHBhdGgsIHF1ZXJ5KSB7XG4gICAgY29uc3QgdXJsID1cbiAgICAgIGlzQWJzb2x1dGVVUkwocGF0aCkgP1xuICAgICAgICBuZXcgVVJMKHBhdGgpXG4gICAgICA6IG5ldyBVUkwodGhpcy5iYXNlVVJMICsgKHRoaXMuYmFzZVVSTC5lbmRzV2l0aCgnLycpICYmIHBhdGguc3RhcnRzV2l0aCgnLycpID8gcGF0aC5zbGljZSgxKSA6IHBhdGgpKTtcbiAgICBjb25zdCBkZWZhdWx0UXVlcnkgPSB0aGlzLmRlZmF1bHRRdWVyeSgpO1xuICAgIGlmICghaXNFbXB0eU9iaihkZWZhdWx0UXVlcnkpKSB7XG4gICAgICBxdWVyeSA9IHsgLi4uZGVmYXVsdFF1ZXJ5LCAuLi5xdWVyeSB9O1xuICAgIH1cbiAgICBpZiAocXVlcnkpIHtcbiAgICAgIHVybC5zZWFyY2ggPSB0aGlzLnN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICB9XG4gIHN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHF1ZXJ5KVxuICAgICAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJylcbiAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgcmV0dXJuIGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT0ke2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSl9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9PWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDYW5ub3Qgc3RyaW5naWZ5IHR5cGUgJHt0eXBlb2YgdmFsdWV9OyBFeHBlY3RlZCBzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgb3IgbnVsbC4gSWYgeW91IG5lZWQgdG8gcGFzcyBuZXN0ZWQgcXVlcnkgcGFyYW1ldGVycywgeW91IGNhbiBtYW51YWxseSBlbmNvZGUgdGhlbSwgZS5nLiB7IHF1ZXJ5OiB7ICdmb29ba2V5MV0nOiB2YWx1ZTEsICdmb29ba2V5Ml0nOiB2YWx1ZTIgfSB9LCBhbmQgcGxlYXNlIG9wZW4gYSBHaXRIdWIgaXNzdWUgcmVxdWVzdGluZyBiZXR0ZXIgc3VwcG9ydCBmb3IgeW91ciB1c2UgY2FzZS5gLFxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcmJyk7XG4gIH1cbiAgYXN5bmMgZmV0Y2hXaXRoVGltZW91dCh1cmwsIGluaXQsIG1zLCBjb250cm9sbGVyKSB7XG4gICAgY29uc3QgeyBzaWduYWwsIC4uLm9wdGlvbnMgfSA9IGluaXQgfHwge307XG4gICAgaWYgKHNpZ25hbCkgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIG1zKTtcbiAgICByZXR1cm4gdGhpcy5nZXRSZXF1ZXN0Q2xpZW50KClcbiAgICAgIC5mZXRjaCh1cmwsIHsgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCwgLi4ub3B0aW9ucyB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB9KTtcbiAgfVxuICBnZXRSZXF1ZXN0Q2xpZW50KCkge1xuICAgIHJldHVybiB7IGZldGNoOiB0aGlzLmZldGNoIH07XG4gIH1cbiAgc2hvdWxkUmV0cnkocmVzcG9uc2UpIHtcbiAgICAvLyBOb3RlIHRoaXMgaXMgbm90IGEgc3RhbmRhcmQgaGVhZGVyLlxuICAgIGNvbnN0IHNob3VsZFJldHJ5SGVhZGVyID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtc2hvdWxkLXJldHJ5Jyk7XG4gICAgLy8gSWYgdGhlIHNlcnZlciBleHBsaWNpdGx5IHNheXMgd2hldGhlciBvciBub3QgdG8gcmV0cnksIG9iZXkuXG4gICAgaWYgKHNob3VsZFJldHJ5SGVhZGVyID09PSAndHJ1ZScpIHJldHVybiB0cnVlO1xuICAgIGlmIChzaG91bGRSZXRyeUhlYWRlciA9PT0gJ2ZhbHNlJykgcmV0dXJuIGZhbHNlO1xuICAgIC8vIFJldHJ5IG9uIGxvY2sgdGltZW91dHMuXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBSZXRyeSBvbiByYXRlIGxpbWl0cy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjkpIHJldHVybiB0cnVlO1xuICAgIC8vIFJldHJ5IGludGVybmFsIGVycm9ycy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDUwMCkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGFzeW5jIHJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nLCByZXNwb25zZUhlYWRlcnMpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0cmllc1JlbWFpbmluZyAtPSAxO1xuICAgIC8vIEFib3V0IHRoZSBSZXRyeS1BZnRlciBoZWFkZXI6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvSGVhZGVycy9SZXRyeS1BZnRlclxuICAgIC8vXG4gICAgLy8gVE9ETzogd2UgbWF5IHdhbnQgdG8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSBoZWFkZXIgaXMgdXNpbmcgdGhlIGh0dHAtZGF0ZSBzeW50YXg6IFwiUmV0cnktQWZ0ZXI6IDxodHRwLWRhdGU+XCIuXG4gICAgLy8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvSGVhZGVycy9SZXRyeS1BZnRlciNzeW50YXggZm9yIGRldGFpbHMuXG4gICAgY29uc3QgcmV0cnlBZnRlciA9IHBhcnNlSW50KFxuICAgICAgKHJlc3BvbnNlSGVhZGVycyA9PT0gbnVsbCB8fCByZXNwb25zZUhlYWRlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlSGVhZGVyc1sncmV0cnktYWZ0ZXInXSkgfHxcbiAgICAgICAgJycsXG4gICAgKTtcbiAgICBjb25zdCBtYXhSZXRyaWVzID0gKF9hID0gb3B0aW9ucy5tYXhSZXRyaWVzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLm1heFJldHJpZXM7XG4gICAgY29uc3QgdGltZW91dCA9IHRoaXMuY2FsY3VsYXRlUmV0cnlUaW1lb3V0U2Vjb25kcyhyZXRyaWVzUmVtYWluaW5nLCByZXRyeUFmdGVyLCBtYXhSZXRyaWVzKSAqIDEwMDA7XG4gICAgYXdhaXQgc2xlZXAodGltZW91dCk7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3Qob3B0aW9ucywgcmV0cmllc1JlbWFpbmluZyk7XG4gIH1cbiAgY2FsY3VsYXRlUmV0cnlUaW1lb3V0U2Vjb25kcyhyZXRyaWVzUmVtYWluaW5nLCByZXRyeUFmdGVyLCBtYXhSZXRyaWVzKSB7XG4gICAgY29uc3QgaW5pdGlhbFJldHJ5RGVsYXkgPSAwLjU7XG4gICAgY29uc3QgbWF4UmV0cnlEZWxheSA9IDI7XG4gICAgLy8gSWYgdGhlIEFQSSBhc2tzIHVzIHRvIHdhaXQgYSBjZXJ0YWluIGFtb3VudCBvZiB0aW1lIChhbmQgaXQncyBhIHJlYXNvbmFibGUgYW1vdW50KSxcbiAgICAvLyBqdXN0IGRvIHdoYXQgaXQgc2F5cy5cbiAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihyZXRyeUFmdGVyKSAmJiByZXRyeUFmdGVyIDw9IDYwKSB7XG4gICAgICByZXR1cm4gcmV0cnlBZnRlcjtcbiAgICB9XG4gICAgY29uc3QgbnVtUmV0cmllcyA9IG1heFJldHJpZXMgLSByZXRyaWVzUmVtYWluaW5nO1xuICAgIC8vIEFwcGx5IGV4cG9uZW50aWFsIGJhY2tvZmYsIGJ1dCBub3QgbW9yZSB0aGFuIHRoZSBtYXguXG4gICAgY29uc3Qgc2xlZXBTZWNvbmRzID0gTWF0aC5taW4oaW5pdGlhbFJldHJ5RGVsYXkgKiBNYXRoLnBvdyhudW1SZXRyaWVzIC0gMSwgMiksIG1heFJldHJ5RGVsYXkpO1xuICAgIC8vIEFwcGx5IHNvbWUgaml0dGVyLCBwbHVzLW9yLW1pbnVzIGhhbGYgYSBzZWNvbmQuXG4gICAgY29uc3Qgaml0dGVyID0gTWF0aC5yYW5kb20oKSAtIDAuNTtcbiAgICByZXR1cm4gc2xlZXBTZWNvbmRzICsgaml0dGVyO1xuICB9XG4gIGdldFVzZXJBZ2VudCgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfS9KUyAke1ZFUlNJT059YDtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEFQSVJlc291cmNlIHtcbiAgY29uc3RydWN0b3IoY2xpZW50KSB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgdGhpcy5nZXQgPSBjbGllbnQuZ2V0LmJpbmQoY2xpZW50KTtcbiAgICB0aGlzLnBvc3QgPSBjbGllbnQucG9zdC5iaW5kKGNsaWVudCk7XG4gICAgdGhpcy5wYXRjaCA9IGNsaWVudC5wYXRjaC5iaW5kKGNsaWVudCk7XG4gICAgdGhpcy5wdXQgPSBjbGllbnQucHV0LmJpbmQoY2xpZW50KTtcbiAgICB0aGlzLmRlbGV0ZSA9IGNsaWVudC5kZWxldGUuYmluZChjbGllbnQpO1xuICAgIHRoaXMuZ2V0QVBJTGlzdCA9IGNsaWVudC5nZXRBUElMaXN0LmJpbmQoY2xpZW50KTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEFic3RyYWN0UGFnZSB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpIHtcbiAgICBfQWJzdHJhY3RQYWdlX2NsaWVudC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9BYnN0cmFjdFBhZ2VfY2xpZW50LCBjbGllbnQsICdmJyk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgfVxuICBoYXNOZXh0UGFnZSgpIHtcbiAgICBjb25zdCBpdGVtcyA9IHRoaXMuZ2V0UGFnaW5hdGVkSXRlbXMoKTtcbiAgICBpZiAoIWl0ZW1zLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0aGlzLm5leHRQYWdlSW5mbygpICE9IG51bGw7XG4gIH1cbiAgYXN5bmMgZ2V0TmV4dFBhZ2UoKSB7XG4gICAgY29uc3QgbmV4dEluZm8gPSB0aGlzLm5leHRQYWdlSW5mbygpO1xuICAgIGlmICghbmV4dEluZm8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ05vIG5leHQgcGFnZSBleHBlY3RlZDsgcGxlYXNlIGNoZWNrIGAuaGFzTmV4dFBhZ2UoKWAgYmVmb3JlIGNhbGxpbmcgYC5nZXROZXh0UGFnZSgpYC4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgbmV4dE9wdGlvbnMgPSB7IC4uLnRoaXMub3B0aW9ucyB9O1xuICAgIGlmICgncGFyYW1zJyBpbiBuZXh0SW5mbykge1xuICAgICAgbmV4dE9wdGlvbnMucXVlcnkgPSB7IC4uLm5leHRPcHRpb25zLnF1ZXJ5LCAuLi5uZXh0SW5mby5wYXJhbXMgfTtcbiAgICB9IGVsc2UgaWYgKCd1cmwnIGluIG5leHRJbmZvKSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBbLi4uT2JqZWN0LmVudHJpZXMobmV4dE9wdGlvbnMucXVlcnkgfHwge30pLCAuLi5uZXh0SW5mby51cmwuc2VhcmNoUGFyYW1zLmVudHJpZXMoKV07XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBwYXJhbXMpIHtcbiAgICAgICAgbmV4dEluZm8udXJsLnNlYXJjaFBhcmFtcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBuZXh0T3B0aW9ucy5xdWVyeSA9IHVuZGVmaW5lZDtcbiAgICAgIG5leHRPcHRpb25zLnBhdGggPSBuZXh0SW5mby51cmwudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0UGFnZV9jbGllbnQsICdmJykucmVxdWVzdEFQSUxpc3QoXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yLFxuICAgICAgbmV4dE9wdGlvbnMsXG4gICAgKTtcbiAgfVxuICBhc3luYyAqaXRlclBhZ2VzKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgIGxldCBwYWdlID0gdGhpcztcbiAgICB5aWVsZCBwYWdlO1xuICAgIHdoaWxlIChwYWdlLmhhc05leHRQYWdlKCkpIHtcbiAgICAgIHBhZ2UgPSBhd2FpdCBwYWdlLmdldE5leHRQYWdlKCk7XG4gICAgICB5aWVsZCBwYWdlO1xuICAgIH1cbiAgfVxuICBhc3luYyAqWygoX0Fic3RyYWN0UGFnZV9jbGllbnQgPSBuZXcgV2Vha01hcCgpKSwgU3ltYm9sLmFzeW5jSXRlcmF0b3IpXSgpIHtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IHBhZ2Ugb2YgdGhpcy5pdGVyUGFnZXMoKSkge1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHBhZ2UuZ2V0UGFnaW5hdGVkSXRlbXMoKSkge1xuICAgICAgICB5aWVsZCBpdGVtO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBUaGlzIHN1YmNsYXNzIG9mIFByb21pc2Ugd2lsbCByZXNvbHZlIHRvIGFuIGluc3RhbnRpYXRlZCBQYWdlIG9uY2UgdGhlIHJlcXVlc3QgY29tcGxldGVzLlxuICpcbiAqIEl0IGFsc28gaW1wbGVtZW50cyBBc3luY0l0ZXJhYmxlIHRvIGFsbG93IGF1dG8tcGFnaW5hdGluZyBpdGVyYXRpb24gb24gYW4gdW5hd2FpdGVkIGxpc3QgY2FsbCwgZWc6XG4gKlxuICogICAgZm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIGNsaWVudC5pdGVtcy5saXN0KCkpIHtcbiAqICAgICAgY29uc29sZS5sb2coaXRlbSlcbiAqICAgIH1cbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VQcm9taXNlIGV4dGVuZHMgQVBJUHJvbWlzZSB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgcmVxdWVzdCwgUGFnZSkge1xuICAgIHN1cGVyKFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGFzeW5jIChwcm9wcykgPT4gbmV3IFBhZ2UoY2xpZW50LCBwcm9wcy5yZXNwb25zZSwgYXdhaXQgZGVmYXVsdFBhcnNlUmVzcG9uc2UocHJvcHMpLCBwcm9wcy5vcHRpb25zKSxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBBbGxvdyBhdXRvLXBhZ2luYXRpbmcgaXRlcmF0aW9uIG9uIGFuIHVuYXdhaXRlZCBsaXN0IGNhbGwsIGVnOlxuICAgKlxuICAgKiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgY2xpZW50Lml0ZW1zLmxpc3QoKSkge1xuICAgKiAgICAgIGNvbnNvbGUubG9nKGl0ZW0pXG4gICAqICAgIH1cbiAgICovXG4gIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCB0aGlzO1xuICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBwYWdlKSB7XG4gICAgICB5aWVsZCBpdGVtO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlc3BvbnNlSGVhZGVycyA9IChoZWFkZXJzKSA9PiB7XG4gIHJldHVybiBuZXcgUHJveHkoXG4gICAgT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaGVhZGVycy5lbnRyaWVzKCksXG4gICAgKSxcbiAgICB7XG4gICAgICBnZXQodGFyZ2V0LCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5hbWUudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldFtrZXkudG9Mb3dlckNhc2UoKV0gfHwgdGFyZ2V0W2tleV07XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG59O1xuLy8gVGhpcyBpcyByZXF1aXJlZCBzbyB0aGF0IHdlIGNhbiBkZXRlcm1pbmUgaWYgYSBnaXZlbiBvYmplY3QgbWF0Y2hlcyB0aGUgUmVxdWVzdE9wdGlvbnNcbi8vIHR5cGUgYXQgcnVudGltZS4gV2hpbGUgdGhpcyByZXF1aXJlcyBkdXBsaWNhdGlvbiwgaXQgaXMgZW5mb3JjZWQgYnkgdGhlIFR5cGVTY3JpcHRcbi8vIGNvbXBpbGVyIHN1Y2ggdGhhdCBhbnkgbWlzc2luZyAvIGV4dHJhbmVvdXMga2V5cyB3aWxsIGNhdXNlIGFuIGVycm9yLlxuY29uc3QgcmVxdWVzdE9wdGlvbnNLZXlzID0ge1xuICBtZXRob2Q6IHRydWUsXG4gIHBhdGg6IHRydWUsXG4gIHF1ZXJ5OiB0cnVlLFxuICBib2R5OiB0cnVlLFxuICBoZWFkZXJzOiB0cnVlLFxuICBtYXhSZXRyaWVzOiB0cnVlLFxuICBzdHJlYW06IHRydWUsXG4gIHRpbWVvdXQ6IHRydWUsXG4gIGh0dHBBZ2VudDogdHJ1ZSxcbiAgc2lnbmFsOiB0cnVlLFxuICBpZGVtcG90ZW5jeUtleTogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3QgaXNSZXF1ZXN0T3B0aW9ucyA9IChvYmopID0+IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJlxuICAgIG9iaiAhPT0gbnVsbCAmJlxuICAgICFpc0VtcHR5T2JqKG9iaikgJiZcbiAgICBPYmplY3Qua2V5cyhvYmopLmV2ZXJ5KChrKSA9PiBoYXNPd24ocmVxdWVzdE9wdGlvbnNLZXlzLCBrKSlcbiAgKTtcbn07XG5jb25zdCBnZXRQbGF0Zm9ybVByb3BlcnRpZXMgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCcgJiYgRGVuby5idWlsZCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogbm9ybWFsaXplUGxhdGZvcm0oRGVuby5idWlsZC5vcyksXG4gICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IG5vcm1hbGl6ZUFyY2goRGVuby5idWlsZC5hcmNoKSxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ2Rlbm8nLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IERlbm8udmVyc2lvbixcbiAgICB9O1xuICB9XG4gIGlmICh0eXBlb2YgRWRnZVJ1bnRpbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBgb3RoZXI6JHtFZGdlUnVudGltZX1gLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAnZWRnZScsXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogcHJvY2Vzcy52ZXJzaW9uLFxuICAgIH07XG4gIH1cbiAgLy8gQ2hlY2sgaWYgTm9kZS5qc1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyA/IHByb2Nlc3MgOiAwKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogbm9ybWFsaXplUGxhdGZvcm0ocHJvY2Vzcy5wbGF0Zm9ybSksXG4gICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IG5vcm1hbGl6ZUFyY2gocHJvY2Vzcy5hcmNoKSxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ25vZGUnLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IHByb2Nlc3MudmVyc2lvbixcbiAgICB9O1xuICB9XG4gIGNvbnN0IGJyb3dzZXJJbmZvID0gZ2V0QnJvd3NlckluZm8oKTtcbiAgaWYgKGJyb3dzZXJJbmZvKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiAndW5rbm93bicsXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6IGBicm93c2VyOiR7YnJvd3NlckluZm8uYnJvd3Nlcn1gLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IGJyb3dzZXJJbmZvLnZlcnNpb24sXG4gICAgfTtcbiAgfVxuICAvLyBUT0RPIGFkZCBzdXBwb3J0IGZvciBDbG91ZGZsYXJlIHdvcmtlcnMsIGV0Yy5cbiAgcmV0dXJuIHtcbiAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1BcmNoJzogJ3Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ3Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiAndW5rbm93bicsXG4gIH07XG59O1xuLy8gTm90ZTogbW9kaWZpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vSlMtRGV2VG9vbHMvaG9zdC1lbnZpcm9ubWVudC9ibG9iL2IxYWI3OWVjZGUzN2RiNWQ2ZTE2M2MwNTBlNTRmZTdkMjg3ZDdjOTIvc3JjL2lzb21vcnBoaWMuYnJvd3Nlci50c1xuZnVuY3Rpb24gZ2V0QnJvd3NlckluZm8oKSB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJyB8fCAhbmF2aWdhdG9yKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLy8gTk9URTogVGhlIG9yZGVyIG1hdHRlcnMgaGVyZSFcbiAgY29uc3QgYnJvd3NlclBhdHRlcm5zID0gW1xuICAgIHsga2V5OiAnZWRnZScsIHBhdHRlcm46IC9FZGdlKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdpZScsIHBhdHRlcm46IC9NU0lFKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdpZScsIHBhdHRlcm46IC9UcmlkZW50KD86LipydlxcOihcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdjaHJvbWUnLCBwYXR0ZXJuOiAvQ2hyb21lKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdmaXJlZm94JywgcGF0dGVybjogL0ZpcmVmb3goPzpcXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICB7IGtleTogJ3NhZmFyaScsIHBhdHRlcm46IC8oPzpWZXJzaW9uXFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8oPzpcXFcrTW9iaWxlXFxTKik/XFxXK1NhZmFyaS8gfSxcbiAgXTtcbiAgLy8gRmluZCB0aGUgRklSU1QgbWF0Y2hpbmcgYnJvd3NlclxuICBmb3IgKGNvbnN0IHsga2V5LCBwYXR0ZXJuIH0gb2YgYnJvd3NlclBhdHRlcm5zKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBjb25zdCBtYWpvciA9IG1hdGNoWzFdIHx8IDA7XG4gICAgICBjb25zdCBtaW5vciA9IG1hdGNoWzJdIHx8IDA7XG4gICAgICBjb25zdCBwYXRjaCA9IG1hdGNoWzNdIHx8IDA7XG4gICAgICByZXR1cm4geyBicm93c2VyOiBrZXksIHZlcnNpb246IGAke21ham9yfS4ke21pbm9yfS4ke3BhdGNofWAgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5jb25zdCBub3JtYWxpemVBcmNoID0gKGFyY2gpID0+IHtcbiAgLy8gTm9kZSBkb2NzOlxuICAvLyAtIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NhcmNoXG4gIC8vIERlbm8gZG9jczpcbiAgLy8gLSBodHRwczovL2RvYy5kZW5vLmxhbmQvZGVuby9zdGFibGUvfi9EZW5vLmJ1aWxkXG4gIGlmIChhcmNoID09PSAneDMyJykgcmV0dXJuICd4MzInO1xuICBpZiAoYXJjaCA9PT0gJ3g4Nl82NCcgfHwgYXJjaCA9PT0gJ3g2NCcpIHJldHVybiAneDY0JztcbiAgaWYgKGFyY2ggPT09ICdhcm0nKSByZXR1cm4gJ2FybSc7XG4gIGlmIChhcmNoID09PSAnYWFyY2g2NCcgfHwgYXJjaCA9PT0gJ2FybTY0JykgcmV0dXJuICdhcm02NCc7XG4gIGlmIChhcmNoKSByZXR1cm4gYG90aGVyOiR7YXJjaH1gO1xuICByZXR1cm4gJ3Vua25vd24nO1xufTtcbmNvbnN0IG5vcm1hbGl6ZVBsYXRmb3JtID0gKHBsYXRmb3JtKSA9PiB7XG4gIC8vIE5vZGUgcGxhdGZvcm1zOlxuICAvLyAtIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NwbGF0Zm9ybVxuICAvLyBEZW5vIHBsYXRmb3JtczpcbiAgLy8gLSBodHRwczovL2RvYy5kZW5vLmxhbmQvZGVuby9zdGFibGUvfi9EZW5vLmJ1aWxkXG4gIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2Rlbm9sYW5kL2Rlbm8vaXNzdWVzLzE0Nzk5XG4gIHBsYXRmb3JtID0gcGxhdGZvcm0udG9Mb3dlckNhc2UoKTtcbiAgLy8gTk9URTogdGhpcyBpT1MgY2hlY2sgaXMgdW50ZXN0ZWQgYW5kIG1heSBub3Qgd29ya1xuICAvLyBOb2RlIGRvZXMgbm90IHdvcmsgbmF0aXZlbHkgb24gSU9TLCB0aGVyZSBpcyBhIGZvcmsgYXRcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy1tb2JpbGUvbm9kZWpzLW1vYmlsZVxuICAvLyBob3dldmVyIGl0IGlzIHVua25vd24gYXQgdGhlIHRpbWUgb2Ygd3JpdGluZyBob3cgdG8gZGV0ZWN0IGlmIGl0IGlzIHJ1bm5pbmdcbiAgaWYgKHBsYXRmb3JtLmluY2x1ZGVzKCdpb3MnKSkgcmV0dXJuICdpT1MnO1xuICBpZiAocGxhdGZvcm0gPT09ICdhbmRyb2lkJykgcmV0dXJuICdBbmRyb2lkJztcbiAgaWYgKHBsYXRmb3JtID09PSAnZGFyd2luJykgcmV0dXJuICdNYWNPUyc7XG4gIGlmIChwbGF0Zm9ybSA9PT0gJ3dpbjMyJykgcmV0dXJuICdXaW5kb3dzJztcbiAgaWYgKHBsYXRmb3JtID09PSAnZnJlZWJzZCcpIHJldHVybiAnRnJlZUJTRCc7XG4gIGlmIChwbGF0Zm9ybSA9PT0gJ29wZW5ic2QnKSByZXR1cm4gJ09wZW5CU0QnO1xuICBpZiAocGxhdGZvcm0gPT09ICdsaW51eCcpIHJldHVybiAnTGludXgnO1xuICBpZiAocGxhdGZvcm0pIHJldHVybiBgT3RoZXI6JHtwbGF0Zm9ybX1gO1xuICByZXR1cm4gJ1Vua25vd24nO1xufTtcbmxldCBfcGxhdGZvcm1IZWFkZXJzO1xuY29uc3QgZ2V0UGxhdGZvcm1IZWFkZXJzID0gKCkgPT4ge1xuICByZXR1cm4gX3BsYXRmb3JtSGVhZGVycyAhPT0gbnVsbCAmJiBfcGxhdGZvcm1IZWFkZXJzICE9PSB2b2lkIDAgP1xuICAgICAgX3BsYXRmb3JtSGVhZGVyc1xuICAgIDogKF9wbGF0Zm9ybUhlYWRlcnMgPSBnZXRQbGF0Zm9ybVByb3BlcnRpZXMoKSk7XG59O1xuZXhwb3J0IGNvbnN0IHNhZmVKU09OID0gKHRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufTtcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xOTcwOTg0NlxuY29uc3Qgc3RhcnRzV2l0aFNjaGVtZVJlZ2V4cCA9IG5ldyBSZWdFeHAoJ14oPzpbYS16XSs6KT8vLycsICdpJyk7XG5jb25zdCBpc0Fic29sdXRlVVJMID0gKHVybCkgPT4ge1xuICByZXR1cm4gc3RhcnRzV2l0aFNjaGVtZVJlZ2V4cC50ZXN0KHVybCk7XG59O1xuY29uc3Qgc2xlZXAgPSAobXMpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG5jb25zdCB2YWxpZGF0ZVBvc2l0aXZlSW50ZWdlciA9IChuYW1lLCBuKSA9PiB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgIU51bWJlci5pc0ludGVnZXIobikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7bmFtZX0gbXVzdCBiZSBhbiBpbnRlZ2VyYCk7XG4gIH1cbiAgaWYgKG4gPCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGAke25hbWV9IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyYCk7XG4gIH1cbiAgcmV0dXJuIG47XG59O1xuZXhwb3J0IGNvbnN0IGNhc3RUb0Vycm9yID0gKGVycikgPT4ge1xuICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBlcnI7XG4gIHJldHVybiBuZXcgRXJyb3IoZXJyKTtcbn07XG5leHBvcnQgY29uc3QgZW5zdXJlUHJlc2VudCA9ICh2YWx1ZSkgPT4ge1xuICBpZiAodmFsdWUgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhIHZhbHVlIHRvIGJlIGdpdmVuIGJ1dCByZWNlaXZlZCAke3ZhbHVlfSBpbnN0ZWFkLmApO1xuICByZXR1cm4gdmFsdWU7XG59O1xuLyoqXG4gKiBSZWFkIGFuIGVudmlyb25tZW50IHZhcmlhYmxlLlxuICpcbiAqIFdpbGwgcmV0dXJuIHVuZGVmaW5lZCBpZiB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGUgZG9lc24ndCBleGlzdCBvciBjYW5ub3QgYmUgYWNjZXNzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCByZWFkRW52ID0gKGVudikgPT4ge1xuICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gKF9iID0gKF9hID0gcHJvY2Vzcy5lbnYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtlbnZdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID9cbiAgICAgICAgX2JcbiAgICAgIDogdW5kZWZpbmVkO1xuICB9XG4gIGlmICh0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gKF9kID0gKF9jID0gRGVuby5lbnYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5nZXQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgP1xuICAgICAgICB2b2lkIDBcbiAgICAgIDogX2QuY2FsbChfYywgZW52KTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmV4cG9ydCBjb25zdCBjb2VyY2VJbnRlZ2VyID0gKHZhbHVlKSA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSk7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgY29lcmNlICR7dmFsdWV9ICh0eXBlOiAke3R5cGVvZiB2YWx1ZX0pIGludG8gYSBudW1iZXJgKTtcbn07XG5leHBvcnQgY29uc3QgY29lcmNlRmxvYXQgPSAodmFsdWUpID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHJldHVybiB2YWx1ZTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgY29lcmNlICR7dmFsdWV9ICh0eXBlOiAke3R5cGVvZiB2YWx1ZX0pIGludG8gYSBudW1iZXJgKTtcbn07XG5leHBvcnQgY29uc3QgY29lcmNlQm9vbGVhbiA9ICh2YWx1ZSkgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHJldHVybiB2YWx1ZTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZSA9PT0gJ3RydWUnO1xuICByZXR1cm4gQm9vbGVhbih2YWx1ZSk7XG59O1xuZXhwb3J0IGNvbnN0IG1heWJlQ29lcmNlSW50ZWdlciA9ICh2YWx1ZSkgPT4ge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGNvZXJjZUludGVnZXIodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBtYXliZUNvZXJjZUZsb2F0ID0gKHZhbHVlKSA9PiB7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gY29lcmNlRmxvYXQodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBtYXliZUNvZXJjZUJvb2xlYW4gPSAodmFsdWUpID0+IHtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBjb2VyY2VCb29sZWFuKHZhbHVlKTtcbn07XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzQ0OTEyODdcbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5T2JqKG9iaikge1xuICBpZiAoIW9iaikgcmV0dXJuIHRydWU7XG4gIGZvciAoY29uc3QgX2sgaW4gb2JqKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufVxuLy8gaHR0cHM6Ly9lc2xpbnQub3JnL2RvY3MvbGF0ZXN0L3J1bGVzL25vLXByb3RvdHlwZS1idWlsdGluc1xuZXhwb3J0IGZ1bmN0aW9uIGhhc093bihvYmosIGtleSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1ZyhhY3Rpb24sIC4uLmFyZ3MpIHtcbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVudlsnREVCVUcnXSA9PT0gJ3RydWUnKSB7XG4gICAgY29uc29sZS5sb2coYE9wZW5BSTpERUJVRzoke2FjdGlvbn1gLCAuLi5hcmdzKTtcbiAgfVxufVxuLyoqXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyM1xuICovXG5jb25zdCB1dWlkNCA9ICgpID0+IHtcbiAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgKGMpID0+IHtcbiAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwO1xuICAgIGNvbnN0IHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4O1xuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGlzUnVubmluZ0luQnJvd3NlciA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCdcbiAgKTtcbn07XG5leHBvcnQgY29uc3QgaXNIZWFkZXJzUHJvdG9jb2wgPSAoaGVhZGVycykgPT4ge1xuICByZXR1cm4gdHlwZW9mIChoZWFkZXJzID09PSBudWxsIHx8IGhlYWRlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhlYWRlcnMuZ2V0KSA9PT0gJ2Z1bmN0aW9uJztcbn07XG5leHBvcnQgY29uc3QgZ2V0SGVhZGVyID0gKGhlYWRlcnMsIGtleSkgPT4ge1xuICBjb25zdCBsb3dlcktleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoaXNIZWFkZXJzUHJvdG9jb2woaGVhZGVycykpIHJldHVybiBoZWFkZXJzLmdldChrZXkpIHx8IGhlYWRlcnMuZ2V0KGxvd2VyS2V5KTtcbiAgY29uc3QgdmFsdWUgPSBoZWFkZXJzW2tleV0gfHwgaGVhZGVyc1tsb3dlcktleV07XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIGlmICh2YWx1ZS5sZW5ndGggPD0gMSkgcmV0dXJuIHZhbHVlWzBdO1xuICAgIGNvbnNvbGUud2FybihgUmVjZWl2ZWQgJHt2YWx1ZS5sZW5ndGh9IGVudHJpZXMgZm9yIHRoZSAke2tleX0gaGVhZGVyLCB1c2luZyB0aGUgZmlyc3QgZW50cnkuYCk7XG4gICAgcmV0dXJuIHZhbHVlWzBdO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn07XG4vKipcbiAqIEVuY29kZXMgYSBzdHJpbmcgdG8gQmFzZTY0IGZvcm1hdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvQmFzZTY0ID0gKHN0cikgPT4ge1xuICBpZiAoIXN0cikgcmV0dXJuICcnO1xuICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oc3RyKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBidG9hKHN0cik7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZ2VuZXJhdGUgYjY0IHN0cmluZzsgRXhwZWN0ZWQgYEJ1ZmZlcmAgb3IgYGJ0b2FgIHRvIGJlIGRlZmluZWQnKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5pbXBvcnQgeyBBYnN0cmFjdFBhZ2UgfSBmcm9tICcuL2NvcmUubWpzJztcbi8qKlxuICogTm90ZTogbm8gcGFnaW5hdGlvbiBhY3R1YWxseSBvY2N1cnMgeWV0LCB0aGlzIGlzIGZvciBmb3J3YXJkcy1jb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgUGFnZSBleHRlbmRzIEFic3RyYWN0UGFnZSB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpIHtcbiAgICBzdXBlcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKTtcbiAgICB0aGlzLm9iamVjdCA9IGJvZHkub2JqZWN0O1xuICAgIHRoaXMuZGF0YSA9IGJvZHkuZGF0YTtcbiAgfVxuICBnZXRQYWdpbmF0ZWRJdGVtcygpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhO1xuICB9XG4gIC8vIEBkZXByZWNhdGVkIFBsZWFzZSB1c2UgYG5leHRQYWdlSW5mbygpYCBpbnN0ZWFkXG4gIC8qKlxuICAgKiBUaGlzIHBhZ2UgcmVwcmVzZW50cyBhIHJlc3BvbnNlIHRoYXQgaXNuJ3QgYWN0dWFsbHkgcGFnaW5hdGVkIGF0IHRoZSBBUEkgbGV2ZWxcbiAgICogc28gdGhlcmUgd2lsbCBuZXZlciBiZSBhbnkgbmV4dCBwYWdlIHBhcmFtcy5cbiAgICovXG4gIG5leHRQYWdlUGFyYW1zKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIG5leHRQYWdlSW5mbygpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEN1cnNvclBhZ2UgZXh0ZW5kcyBBYnN0cmFjdFBhZ2Uge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgc3VwZXIoY2xpZW50LCByZXNwb25zZSwgYm9keSwgb3B0aW9ucyk7XG4gICAgdGhpcy5kYXRhID0gYm9keS5kYXRhO1xuICB9XG4gIGdldFBhZ2luYXRlZEl0ZW1zKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGE7XG4gIH1cbiAgLy8gQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBgbmV4dFBhZ2VJbmZvKClgIGluc3RlYWRcbiAgbmV4dFBhZ2VQYXJhbXMoKSB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMubmV4dFBhZ2VJbmZvKCk7XG4gICAgaWYgKCFpbmZvKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoJ3BhcmFtcycgaW4gaW5mbykgcmV0dXJuIGluZm8ucGFyYW1zO1xuICAgIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5mcm9tRW50cmllcyhpbmZvLnVybC5zZWFyY2hQYXJhbXMpO1xuICAgIGlmICghT2JqZWN0LmtleXMocGFyYW1zKS5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cbiAgbmV4dFBhZ2VJbmZvKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKCEoKF9hID0gdGhpcy5kYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG5leHQgPSAoX2IgPSB0aGlzLmRhdGFbdGhpcy5kYXRhLmxlbmd0aCAtIDFdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaWQ7XG4gICAgaWYgKCFuZXh0KSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4geyBwYXJhbXM6IHsgYWZ0ZXI6IG5leHQgfSB9O1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdpbmF0aW9uLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5leHBvcnQgY2xhc3MgQVBJUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3RvcihjbGllbnQpIHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB0aGlzLmdldCA9IGNsaWVudC5nZXQuYmluZChjbGllbnQpO1xuICAgIHRoaXMucG9zdCA9IGNsaWVudC5wb3N0LmJpbmQoY2xpZW50KTtcbiAgICB0aGlzLnBhdGNoID0gY2xpZW50LnBhdGNoLmJpbmQoY2xpZW50KTtcbiAgICB0aGlzLnB1dCA9IGNsaWVudC5wdXQuYmluZChjbGllbnQpO1xuICAgIHRoaXMuZGVsZXRlID0gY2xpZW50LmRlbGV0ZS5iaW5kKGNsaWVudCk7XG4gICAgdGhpcy5nZXRBUElMaXN0ID0gY2xpZW50LmdldEFQSUxpc3QuYmluZChjbGllbnQpO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvdXJjZS5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuaW1wb3J0IHsgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIH0gZnJvbSAnb3BlbmFpL2NvcmUnO1xuZXhwb3J0IGNsYXNzIFRyYW5zY3JpcHRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogVHJhbnNjcmliZXMgYXVkaW8gaW50byB0aGUgaW5wdXQgbGFuZ3VhZ2UuXG4gICAqL1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9hdWRpby90cmFuc2NyaXB0aW9ucycsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMgfSkpO1xuICB9XG59XG4oZnVuY3Rpb24gKFRyYW5zY3JpcHRpb25zKSB7fSkoVHJhbnNjcmlwdGlvbnMgfHwgKFRyYW5zY3JpcHRpb25zID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zY3JpcHRpb25zLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJ29wZW5haS9yZXNvdXJjZSc7XG5pbXBvcnQgeyBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMgfSBmcm9tICdvcGVuYWkvY29yZSc7XG5leHBvcnQgY2xhc3MgVHJhbnNsYXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogVHJhbnNsYXRlcyBhdWRpbyBpbnRvIEVuZ2xpc2guXG4gICAqL1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9hdWRpby90cmFuc2xhdGlvbnMnLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgfVxufVxuKGZ1bmN0aW9uIChUcmFuc2xhdGlvbnMpIHt9KShUcmFuc2xhdGlvbnMgfHwgKFRyYW5zbGF0aW9ucyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2xhdGlvbnMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmltcG9ydCB7IFRyYW5zY3JpcHRpb25zIH0gZnJvbSAnLi90cmFuc2NyaXB0aW9ucy5tanMnO1xuaW1wb3J0IHsgVHJhbnNsYXRpb25zIH0gZnJvbSAnLi90cmFuc2xhdGlvbnMubWpzJztcbmltcG9ydCAqIGFzIEFQSSBmcm9tICcuL2luZGV4Lm1qcyc7XG5leHBvcnQgY2xhc3MgQXVkaW8gZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy50cmFuc2NyaXB0aW9ucyA9IG5ldyBUcmFuc2NyaXB0aW9ucyh0aGlzLmNsaWVudCk7XG4gICAgdGhpcy50cmFuc2xhdGlvbnMgPSBuZXcgVHJhbnNsYXRpb25zKHRoaXMuY2xpZW50KTtcbiAgfVxufVxuKGZ1bmN0aW9uIChBdWRpbykge1xuICBBdWRpby5UcmFuc2NyaXB0aW9ucyA9IEFQSS5UcmFuc2NyaXB0aW9ucztcbiAgQXVkaW8uVHJhbnNsYXRpb25zID0gQVBJLlRyYW5zbGF0aW9ucztcbn0pKEF1ZGlvIHx8IChBdWRpbyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvY2hhdC9jb21wbGV0aW9ucycsIHtcbiAgICAgIGJvZHksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgc3RyZWFtOiAoX2EgPSBib2R5LnN0cmVhbSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgfSk7XG4gIH1cbn1cbihmdW5jdGlvbiAoQ29tcGxldGlvbnMpIHt9KShDb21wbGV0aW9ucyB8fCAoQ29tcGxldGlvbnMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGxldGlvbnMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmltcG9ydCB7IENvbXBsZXRpb25zIH0gZnJvbSAnLi9jb21wbGV0aW9ucy5tanMnO1xuaW1wb3J0ICogYXMgQVBJIGZyb20gJy4vaW5kZXgubWpzJztcbmV4cG9ydCBjbGFzcyBDaGF0IGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuY29tcGxldGlvbnMgPSBuZXcgQ29tcGxldGlvbnModGhpcy5jbGllbnQpO1xuICB9XG59XG4oZnVuY3Rpb24gKENoYXQpIHtcbiAgQ2hhdC5Db21wbGV0aW9ucyA9IEFQSS5Db21wbGV0aW9ucztcbn0pKENoYXQgfHwgKENoYXQgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhdC5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvY29tcGxldGlvbnMnLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHN0cmVhbTogKF9hID0gYm9keS5zdHJlYW0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgIH0pO1xuICB9XG59XG4oZnVuY3Rpb24gKENvbXBsZXRpb25zKSB7fSkoQ29tcGxldGlvbnMgfHwgKENvbXBsZXRpb25zID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBsZXRpb25zLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJ29wZW5haS9yZXNvdXJjZSc7XG5leHBvcnQgY2xhc3MgRW1iZWRkaW5ncyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZW1iZWRkaW5nIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGlucHV0IHRleHQuXG4gICAqL1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9lbWJlZGRpbmdzJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICB9XG59XG4oZnVuY3Rpb24gKEVtYmVkZGluZ3MpIHt9KShFbWJlZGRpbmdzIHx8IChFbWJlZGRpbmdzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtYmVkZGluZ3MubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmV4cG9ydCBjbGFzcyBFZGl0cyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgZWRpdCBmb3IgdGhlIHByb3ZpZGVkIGlucHV0LCBpbnN0cnVjdGlvbiwgYW5kIHBhcmFtZXRlcnMuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIFRoZSBFZGl0cyBBUEkgaXMgZGVwcmVjYXRlZDsgcGxlYXNlIHVzZSBDaGF0IENvbXBsZXRpb25zIGluc3RlYWQuXG4gICAqXG4gICAqIGh0dHBzOi8vb3BlbmFpLmNvbS9ibG9nL2dwdC00LWFwaS1nZW5lcmFsLWF2YWlsYWJpbGl0eSNkZXByZWNhdGlvbi1vZi10aGUtZWRpdHMtYXBpXG4gICAqL1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9lZGl0cycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxufVxuKGZ1bmN0aW9uIChFZGl0cykge30pKEVkaXRzIHx8IChFZGl0cyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lZGl0cy5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuaW1wb3J0IHsgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIH0gZnJvbSAnb3BlbmFpL2NvcmUnO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gJ29wZW5haS9wYWdpbmF0aW9uJztcbmV4cG9ydCBjbGFzcyBGaWxlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIFVwbG9hZCBhIGZpbGUgdGhhdCBjb250YWlucyBkb2N1bWVudChzKSB0byBiZSB1c2VkIGFjcm9zcyB2YXJpb3VzXG4gICAqIGVuZHBvaW50cy9mZWF0dXJlcy4gQ3VycmVudGx5LCB0aGUgc2l6ZSBvZiBhbGwgdGhlIGZpbGVzIHVwbG9hZGVkIGJ5IG9uZVxuICAgKiBvcmdhbml6YXRpb24gY2FuIGJlIHVwIHRvIDEgR0IuIFBsZWFzZSBjb250YWN0IHVzIGlmIHlvdSBuZWVkIHRvIGluY3JlYXNlIHRoZVxuICAgKiBzdG9yYWdlIGxpbWl0LlxuICAgKi9cbiAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvZmlsZXMnLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBhIHNwZWNpZmljIGZpbGUuXG4gICAqL1xuICByZXRyaWV2ZShmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoYC9maWxlcy8ke2ZpbGVJZH1gLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgZmlsZXMgdGhhdCBiZWxvbmcgdG8gdGhlIHVzZXIncyBvcmdhbml6YXRpb24uXG4gICAqL1xuICBsaXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBUElMaXN0KCcvZmlsZXMnLCBGaWxlT2JqZWN0c1BhZ2UsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgYSBmaWxlLlxuICAgKi9cbiAgZGVsKGZpbGVJZCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmRlbGV0ZShgL2ZpbGVzLyR7ZmlsZUlkfWAsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjb250ZW50cyBvZiB0aGUgc3BlY2lmaWVkIGZpbGVcbiAgICovXG4gIHJldHJpZXZlQ29udGVudChmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoYC9maWxlcy8ke2ZpbGVJZH0vY29udGVudGAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAuLi4ob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmhlYWRlcnMpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufVxuLyoqXG4gKiBOb3RlOiBubyBwYWdpbmF0aW9uIGFjdHVhbGx5IG9jY3VycyB5ZXQsIHRoaXMgaXMgZm9yIGZvcndhcmRzLWNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBGaWxlT2JqZWN0c1BhZ2UgZXh0ZW5kcyBQYWdlIHt9XG4oZnVuY3Rpb24gKEZpbGVzKSB7fSkoRmlsZXMgfHwgKEZpbGVzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGVzLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJ29wZW5haS9yZXNvdXJjZSc7XG5pbXBvcnQgeyBQYWdlIH0gZnJvbSAnb3BlbmFpL3BhZ2luYXRpb24nO1xuZXhwb3J0IGNsYXNzIEZpbmVUdW5lcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBqb2IgdGhhdCBmaW5lLXR1bmVzIGEgc3BlY2lmaWVkIG1vZGVsIGZyb20gYSBnaXZlbiBkYXRhc2V0LlxuICAgKlxuICAgKiBSZXNwb25zZSBpbmNsdWRlcyBkZXRhaWxzIG9mIHRoZSBlbnF1ZXVlZCBqb2IgaW5jbHVkaW5nIGpvYiBzdGF0dXMgYW5kIHRoZSBuYW1lXG4gICAqIG9mIHRoZSBmaW5lLXR1bmVkIG1vZGVscyBvbmNlIGNvbXBsZXRlLlxuICAgKlxuICAgKiBbTGVhcm4gbW9yZSBhYm91dCBmaW5lLXR1bmluZ10oL2RvY3MvZ3VpZGVzL2xlZ2FjeS1maW5lLXR1bmluZylcbiAgICovXG4gIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zdCgnL2ZpbmUtdHVuZXMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgaW5mbyBhYm91dCB0aGUgZmluZS10dW5lIGpvYi5cbiAgICpcbiAgICogW0xlYXJuIG1vcmUgYWJvdXQgZmluZS10dW5pbmddKC9kb2NzL2d1aWRlcy9sZWdhY3ktZmluZS10dW5pbmcpXG4gICAqL1xuICByZXRyaWV2ZShmaW5lVHVuZUlkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAvZmluZS10dW5lcy8ke2ZpbmVUdW5lSWR9YCwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3QgeW91ciBvcmdhbml6YXRpb24ncyBmaW5lLXR1bmluZyBqb2JzXG4gICAqL1xuICBsaXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBUElMaXN0KCcvZmluZS10dW5lcycsIEZpbmVUdW5lc1BhZ2UsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBJbW1lZGlhdGVseSBjYW5jZWwgYSBmaW5lLXR1bmUgam9iLlxuICAgKi9cbiAgY2FuY2VsKGZpbmVUdW5lSWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5wb3N0KGAvZmluZS10dW5lcy8ke2ZpbmVUdW5lSWR9L2NhbmNlbGAsIG9wdGlvbnMpO1xuICB9XG4gIGxpc3RFdmVudHMoZmluZVR1bmVJZCwgcXVlcnksIG9wdGlvbnMpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAvZmluZS10dW5lcy8ke2ZpbmVUdW5lSWR9L2V2ZW50c2AsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgdGltZW91dDogODY0MDAwMDAsXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgc3RyZWFtOlxuICAgICAgICAoX2EgPSBxdWVyeSA9PT0gbnVsbCB8fCBxdWVyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcXVlcnkuc3RyZWFtKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID9cbiAgICAgICAgICBfYVxuICAgICAgICA6IGZhbHNlLFxuICAgIH0pO1xuICB9XG59XG4vKipcbiAqIE5vdGU6IG5vIHBhZ2luYXRpb24gYWN0dWFsbHkgb2NjdXJzIHlldCwgdGhpcyBpcyBmb3IgZm9yd2FyZHMtY29tcGF0aWJpbGl0eS5cbiAqL1xuZXhwb3J0IGNsYXNzIEZpbmVUdW5lc1BhZ2UgZXh0ZW5kcyBQYWdlIHt9XG4oZnVuY3Rpb24gKEZpbmVUdW5lcykge30pKEZpbmVUdW5lcyB8fCAoRmluZVR1bmVzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbmUtdHVuZXMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tICdvcGVuYWkvY29yZSc7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSAnb3BlbmFpL3BhZ2luYXRpb24nO1xuZXhwb3J0IGNsYXNzIEpvYnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgam9iIHRoYXQgZmluZS10dW5lcyBhIHNwZWNpZmllZCBtb2RlbCBmcm9tIGEgZ2l2ZW4gZGF0YXNldC5cbiAgICpcbiAgICogUmVzcG9uc2UgaW5jbHVkZXMgZGV0YWlscyBvZiB0aGUgZW5xdWV1ZWQgam9iIGluY2x1ZGluZyBqb2Igc3RhdHVzIGFuZCB0aGUgbmFtZVxuICAgKiBvZiB0aGUgZmluZS10dW5lZCBtb2RlbHMgb25jZSBjb21wbGV0ZS5cbiAgICpcbiAgICogW0xlYXJuIG1vcmUgYWJvdXQgZmluZS10dW5pbmddKC9kb2NzL2d1aWRlcy9maW5lLXR1bmluZylcbiAgICovXG4gIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zdCgnL2ZpbmVfdHVuaW5nL2pvYnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBpbmZvIGFib3V0IGEgZmluZS10dW5pbmcgam9iLlxuICAgKlxuICAgKiBbTGVhcm4gbW9yZSBhYm91dCBmaW5lLXR1bmluZ10oL2RvY3MvZ3VpZGVzL2ZpbmUtdHVuaW5nKVxuICAgKi9cbiAgcmV0cmlldmUoZmluZVR1bmluZ0pvYklkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAvZmluZV90dW5pbmcvam9icy8ke2ZpbmVUdW5pbmdKb2JJZH1gLCBvcHRpb25zKTtcbiAgfVxuICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0QVBJTGlzdCgnL2ZpbmVfdHVuaW5nL2pvYnMnLCBGaW5lVHVuaW5nSm9ic1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEltbWVkaWF0ZWx5IGNhbmNlbCBhIGZpbmUtdHVuZSBqb2IuXG4gICAqL1xuICBjYW5jZWwoZmluZVR1bmluZ0pvYklkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zdChgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSWR9L2NhbmNlbGAsIG9wdGlvbnMpO1xuICB9XG4gIGxpc3RFdmVudHMoZmluZVR1bmluZ0pvYklkLCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0RXZlbnRzKGZpbmVUdW5pbmdKb2JJZCwge30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0QVBJTGlzdChgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSWR9L2V2ZW50c2AsIEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlLCB7XG4gICAgICBxdWVyeSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBGaW5lVHVuaW5nSm9ic1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHt9XG5leHBvcnQgY2xhc3MgRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHt9XG4oZnVuY3Rpb24gKEpvYnMpIHt9KShKb2JzIHx8IChKb2JzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpvYnMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmltcG9ydCB7IEpvYnMgfSBmcm9tICcuL2pvYnMubWpzJztcbmltcG9ydCAqIGFzIEFQSSBmcm9tICcuL2luZGV4Lm1qcyc7XG5leHBvcnQgY2xhc3MgRmluZVR1bmluZyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmpvYnMgPSBuZXcgSm9icyh0aGlzLmNsaWVudCk7XG4gIH1cbn1cbihmdW5jdGlvbiAoRmluZVR1bmluZykge1xuICBGaW5lVHVuaW5nLkpvYnMgPSBBUEkuSm9icztcbiAgRmluZVR1bmluZy5GaW5lVHVuaW5nSm9ic1BhZ2UgPSBBUEkuRmluZVR1bmluZ0pvYnNQYWdlO1xuICBGaW5lVHVuaW5nLkZpbmVUdW5pbmdKb2JFdmVudHNQYWdlID0gQVBJLkZpbmVUdW5pbmdKb2JFdmVudHNQYWdlO1xufSkoRmluZVR1bmluZyB8fCAoRmluZVR1bmluZyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maW5lLXR1bmluZy5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuaW1wb3J0IHsgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIH0gZnJvbSAnb3BlbmFpL2NvcmUnO1xuZXhwb3J0IGNsYXNzIEltYWdlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB2YXJpYXRpb24gb2YgYSBnaXZlbiBpbWFnZS5cbiAgICovXG4gIGNyZWF0ZVZhcmlhdGlvbihib2R5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zdCgnL2ltYWdlcy92YXJpYXRpb25zJywgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucyB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZWRpdGVkIG9yIGV4dGVuZGVkIGltYWdlIGdpdmVuIGFuIG9yaWdpbmFsIGltYWdlIGFuZCBhIHByb21wdC5cbiAgICovXG4gIGVkaXQoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9pbWFnZXMvZWRpdHMnLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbWFnZSBnaXZlbiBhIHByb21wdC5cbiAgICovXG4gIGdlbmVyYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvaW1hZ2VzL2dlbmVyYXRpb25zJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICB9XG59XG4oZnVuY3Rpb24gKEltYWdlcykge30pKEltYWdlcyB8fCAoSW1hZ2VzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltYWdlcy5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gJ29wZW5haS9wYWdpbmF0aW9uJztcbmV4cG9ydCBjbGFzcyBNb2RlbHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYSBtb2RlbCBpbnN0YW5jZSwgcHJvdmlkaW5nIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IHRoZSBtb2RlbCBzdWNoIGFzXG4gICAqIHRoZSBvd25lciBhbmQgcGVybWlzc2lvbmluZy5cbiAgICovXG4gIHJldHJpZXZlKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAvbW9kZWxzLyR7bW9kZWx9YCwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3RzIHRoZSBjdXJyZW50bHkgYXZhaWxhYmxlIG1vZGVscywgYW5kIHByb3ZpZGVzIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IGVhY2hcbiAgICogb25lIHN1Y2ggYXMgdGhlIG93bmVyIGFuZCBhdmFpbGFiaWxpdHkuXG4gICAqL1xuICBsaXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBUElMaXN0KCcvbW9kZWxzJywgTW9kZWxzUGFnZSwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGZpbmUtdHVuZWQgbW9kZWwuIFlvdSBtdXN0IGhhdmUgdGhlIE93bmVyIHJvbGUgaW4geW91ciBvcmdhbml6YXRpb24uXG4gICAqL1xuICBkZWwobW9kZWwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5kZWxldGUoYC9tb2RlbHMvJHttb2RlbH1gLCBvcHRpb25zKTtcbiAgfVxufVxuLyoqXG4gKiBOb3RlOiBubyBwYWdpbmF0aW9uIGFjdHVhbGx5IG9jY3VycyB5ZXQsIHRoaXMgaXMgZm9yIGZvcndhcmRzLWNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RlbHNQYWdlIGV4dGVuZHMgUGFnZSB7fVxuKGZ1bmN0aW9uIChNb2RlbHMpIHt9KShNb2RlbHMgfHwgKE1vZGVscyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2RlbHMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmV4cG9ydCBjbGFzcyBNb2RlcmF0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENsYXNzaWZpZXMgaWYgdGV4dCB2aW9sYXRlcyBPcGVuQUkncyBDb250ZW50IFBvbGljeVxuICAgKi9cbiAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvbW9kZXJhdGlvbnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbn1cbihmdW5jdGlvbiAoTW9kZXJhdGlvbnMpIHt9KShNb2RlcmF0aW9ucyB8fCAoTW9kZXJhdGlvbnMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kZXJhdGlvbnMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbnZhciBfYTtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi9jb3JlLm1qcyc7XG5pbXBvcnQgKiBhcyBQYWdpbmF0aW9uIGZyb20gJy4vcGFnaW5hdGlvbi5tanMnO1xuaW1wb3J0ICogYXMgQVBJIGZyb20gJy4vcmVzb3VyY2VzL2luZGV4Lm1qcyc7XG5pbXBvcnQgKiBhcyBFcnJvcnMgZnJvbSAnLi9lcnJvci5tanMnO1xuaW1wb3J0ICogYXMgVXBsb2FkcyBmcm9tICcuL3VwbG9hZHMubWpzJztcbi8qKiBBUEkgQ2xpZW50IGZvciBpbnRlcmZhY2luZyB3aXRoIHRoZSBPcGVuQUkgQVBJLiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5BSSBleHRlbmRzIENvcmUuQVBJQ2xpZW50IHtcbiAgLyoqXG4gICAqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIE9wZW5BSSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5hcGlLZXk9cHJvY2Vzcy5lbnZbJ09QRU5BSV9BUElfS0VZJ11dIC0gVGhlIEFQSSBLZXkgdG8gc2VuZCB0byB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuYmFzZVVSTF0gLSBPdmVycmlkZSB0aGUgZGVmYXVsdCBiYXNlIFVSTCBmb3IgdGhlIEFQSS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRpbWVvdXQ9MTAgbWludXRlc10gLSBUaGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0aGUgY2xpZW50IHdpbGwgd2FpdCBmb3IgYSByZXNwb25zZSBiZWZvcmUgdGltaW5nIG91dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmh0dHBBZ2VudF0gLSBBbiBIVFRQIGFnZW50IHVzZWQgdG8gbWFuYWdlIEhUVFAocykgY29ubmVjdGlvbnMuXG4gICAqIEBwYXJhbSB7Q29yZS5GZXRjaH0gW29wdHMuZmV0Y2hdIC0gU3BlY2lmeSBhIGN1c3RvbSBgZmV0Y2hgIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWF4UmV0cmllcz0yXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0aW1lcyB0aGUgY2xpZW50IHdpbGwgcmV0cnkgYSByZXF1ZXN0LlxuICAgKiBAcGFyYW0ge0NvcmUuSGVhZGVyc30gb3B0cy5kZWZhdWx0SGVhZGVycyAtIERlZmF1bHQgaGVhZGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge0NvcmUuRGVmYXVsdFF1ZXJ5fSBvcHRzLmRlZmF1bHRRdWVyeSAtIERlZmF1bHQgcXVlcnkgcGFyYW1ldGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmRhbmdlcm91c2x5QWxsb3dCcm93c2VyPWZhbHNlXSAtIEJ5IGRlZmF1bHQsIGNsaWVudC1zaWRlIHVzZSBvZiB0aGlzIGxpYnJhcnkgaXMgbm90IGFsbG93ZWQsIGFzIGl0IHJpc2tzIGV4cG9zaW5nIHlvdXIgc2VjcmV0IEFQSSBjcmVkZW50aWFscyB0byBhdHRhY2tlcnMuXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbH0gW29wdHMub3JnYW5pemF0aW9uXVxuICAgKi9cbiAgY29uc3RydWN0b3IoX2IpIHtcbiAgICB2YXIgX2MsIF9kO1xuICAgIHZhciB7XG4gICAgICBhcGlLZXkgPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9BUElfS0VZJyksXG4gICAgICBvcmdhbml6YXRpb24gPSAoX2MgPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9PUkdfSUQnKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogbnVsbCxcbiAgICAgIC4uLm9wdHNcbiAgICB9ID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2I7XG4gICAgaWYgKGFwaUtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIE9QRU5BSV9BUElfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG1pc3Npbmcgb3IgZW1wdHk7IGVpdGhlciBwcm92aWRlIGl0LCBvciBpbnN0YW50aWF0ZSB0aGUgT3BlbkFJIGNsaWVudCB3aXRoIGFuIGFwaUtleSBvcHRpb24sIGxpa2UgbmV3IE9wZW5BSSh7IGFwaUtleTogJ215IGFwaUtleScgfSkuXCIsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgYXBpS2V5LFxuICAgICAgb3JnYW5pemF0aW9uLFxuICAgICAgYmFzZVVSTDogYGh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjFgLFxuICAgICAgLi4ub3B0cyxcbiAgICB9O1xuICAgIGlmICghb3B0aW9ucy5kYW5nZXJvdXNseUFsbG93QnJvd3NlciAmJiBDb3JlLmlzUnVubmluZ0luQnJvd3NlcigpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgcnVubmluZyBpbiBhIGJyb3dzZXItbGlrZSBlbnZpcm9ubWVudC5cXG5cXG5UaGlzIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQsIGFzIGl0IHJpc2tzIGV4cG9zaW5nIHlvdXIgc2VjcmV0IEFQSSBjcmVkZW50aWFscyB0byBhdHRhY2tlcnMuXFxuSWYgeW91IHVuZGVyc3RhbmQgdGhlIHJpc2tzIGFuZCBoYXZlIGFwcHJvcHJpYXRlIG1pdGlnYXRpb25zIGluIHBsYWNlLFxcbnlvdSBjYW4gc2V0IHRoZSBgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXJgIG9wdGlvbiB0byBgdHJ1ZWAsIGUuZy4sXFxuXFxubmV3IE9wZW5BSSh7IGFwaUtleSwgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUgfSk7XFxuXFxuaHR0cHM6Ly9oZWxwLm9wZW5haS5jb20vZW4vYXJ0aWNsZXMvNTExMjU5NS1iZXN0LXByYWN0aWNlcy1mb3ItYXBpLWtleS1zYWZldHlcXG5cIixcbiAgICAgICk7XG4gICAgfVxuICAgIHN1cGVyKHtcbiAgICAgIGJhc2VVUkw6IG9wdGlvbnMuYmFzZVVSTCxcbiAgICAgIHRpbWVvdXQ6IChfZCA9IG9wdGlvbnMudGltZW91dCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogNjAwMDAwIC8qIDEwIG1pbnV0ZXMgKi8sXG4gICAgICBodHRwQWdlbnQ6IG9wdGlvbnMuaHR0cEFnZW50LFxuICAgICAgbWF4UmV0cmllczogb3B0aW9ucy5tYXhSZXRyaWVzLFxuICAgICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgfSk7XG4gICAgdGhpcy5jb21wbGV0aW9ucyA9IG5ldyBBUEkuQ29tcGxldGlvbnModGhpcyk7XG4gICAgdGhpcy5jaGF0ID0gbmV3IEFQSS5DaGF0KHRoaXMpO1xuICAgIHRoaXMuZWRpdHMgPSBuZXcgQVBJLkVkaXRzKHRoaXMpO1xuICAgIHRoaXMuZW1iZWRkaW5ncyA9IG5ldyBBUEkuRW1iZWRkaW5ncyh0aGlzKTtcbiAgICB0aGlzLmZpbGVzID0gbmV3IEFQSS5GaWxlcyh0aGlzKTtcbiAgICB0aGlzLmltYWdlcyA9IG5ldyBBUEkuSW1hZ2VzKHRoaXMpO1xuICAgIHRoaXMuYXVkaW8gPSBuZXcgQVBJLkF1ZGlvKHRoaXMpO1xuICAgIHRoaXMubW9kZXJhdGlvbnMgPSBuZXcgQVBJLk1vZGVyYXRpb25zKHRoaXMpO1xuICAgIHRoaXMubW9kZWxzID0gbmV3IEFQSS5Nb2RlbHModGhpcyk7XG4gICAgdGhpcy5maW5lVHVuaW5nID0gbmV3IEFQSS5GaW5lVHVuaW5nKHRoaXMpO1xuICAgIHRoaXMuZmluZVR1bmVzID0gbmV3IEFQSS5GaW5lVHVuZXModGhpcyk7XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgdGhpcy5vcmdhbml6YXRpb24gPSBvcmdhbml6YXRpb247XG4gIH1cbiAgZGVmYXVsdFF1ZXJ5KCkge1xuICAgIHJldHVybiB0aGlzLl9vcHRpb25zLmRlZmF1bHRRdWVyeTtcbiAgfVxuICBkZWZhdWx0SGVhZGVycyhvcHRzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLmRlZmF1bHRIZWFkZXJzKG9wdHMpLFxuICAgICAgJ09wZW5BSS1Pcmdhbml6YXRpb24nOiB0aGlzLm9yZ2FuaXphdGlvbixcbiAgICAgIC4uLnRoaXMuX29wdGlvbnMuZGVmYXVsdEhlYWRlcnMsXG4gICAgfTtcbiAgfVxuICBhdXRoSGVhZGVycyhvcHRzKSB7XG4gICAgcmV0dXJuIHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAgfTtcbiAgfVxufVxuX2EgPSBPcGVuQUk7XG5PcGVuQUkuT3BlbkFJID0gX2E7XG5PcGVuQUkuQVBJRXJyb3IgPSBFcnJvcnMuQVBJRXJyb3I7XG5PcGVuQUkuQVBJQ29ubmVjdGlvbkVycm9yID0gRXJyb3JzLkFQSUNvbm5lY3Rpb25FcnJvcjtcbk9wZW5BSS5BUElDb25uZWN0aW9uVGltZW91dEVycm9yID0gRXJyb3JzLkFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3I7XG5PcGVuQUkuQVBJVXNlckFib3J0RXJyb3IgPSBFcnJvcnMuQVBJVXNlckFib3J0RXJyb3I7XG5PcGVuQUkuTm90Rm91bmRFcnJvciA9IEVycm9ycy5Ob3RGb3VuZEVycm9yO1xuT3BlbkFJLkNvbmZsaWN0RXJyb3IgPSBFcnJvcnMuQ29uZmxpY3RFcnJvcjtcbk9wZW5BSS5SYXRlTGltaXRFcnJvciA9IEVycm9ycy5SYXRlTGltaXRFcnJvcjtcbk9wZW5BSS5CYWRSZXF1ZXN0RXJyb3IgPSBFcnJvcnMuQmFkUmVxdWVzdEVycm9yO1xuT3BlbkFJLkF1dGhlbnRpY2F0aW9uRXJyb3IgPSBFcnJvcnMuQXV0aGVudGljYXRpb25FcnJvcjtcbk9wZW5BSS5JbnRlcm5hbFNlcnZlckVycm9yID0gRXJyb3JzLkludGVybmFsU2VydmVyRXJyb3I7XG5PcGVuQUkuUGVybWlzc2lvbkRlbmllZEVycm9yID0gRXJyb3JzLlBlcm1pc3Npb25EZW5pZWRFcnJvcjtcbk9wZW5BSS5VbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IgPSBFcnJvcnMuVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yO1xuZXhwb3J0IGNvbnN0IHtcbiAgQVBJRXJyb3IsXG4gIEFQSUNvbm5lY3Rpb25FcnJvcixcbiAgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvcixcbiAgQVBJVXNlckFib3J0RXJyb3IsXG4gIE5vdEZvdW5kRXJyb3IsXG4gIENvbmZsaWN0RXJyb3IsXG4gIFJhdGVMaW1pdEVycm9yLFxuICBCYWRSZXF1ZXN0RXJyb3IsXG4gIEF1dGhlbnRpY2F0aW9uRXJyb3IsXG4gIEludGVybmFsU2VydmVyRXJyb3IsXG4gIFBlcm1pc3Npb25EZW5pZWRFcnJvcixcbiAgVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yLFxufSA9IEVycm9ycztcbmV4cG9ydCB2YXIgdG9GaWxlID0gVXBsb2Fkcy50b0ZpbGU7XG5leHBvcnQgdmFyIGZpbGVGcm9tUGF0aCA9IFVwbG9hZHMuZmlsZUZyb21QYXRoO1xuKGZ1bmN0aW9uIChPcGVuQUkpIHtcbiAgLy8gSGVscGVyIGZ1bmN0aW9uc1xuICBPcGVuQUkudG9GaWxlID0gVXBsb2Fkcy50b0ZpbGU7XG4gIE9wZW5BSS5maWxlRnJvbVBhdGggPSBVcGxvYWRzLmZpbGVGcm9tUGF0aDtcbiAgT3BlbkFJLlBhZ2UgPSBQYWdpbmF0aW9uLlBhZ2U7XG4gIE9wZW5BSS5DdXJzb3JQYWdlID0gUGFnaW5hdGlvbi5DdXJzb3JQYWdlO1xuICBPcGVuQUkuQ29tcGxldGlvbnMgPSBBUEkuQ29tcGxldGlvbnM7XG4gIE9wZW5BSS5DaGF0ID0gQVBJLkNoYXQ7XG4gIE9wZW5BSS5FZGl0cyA9IEFQSS5FZGl0cztcbiAgT3BlbkFJLkVtYmVkZGluZ3MgPSBBUEkuRW1iZWRkaW5ncztcbiAgT3BlbkFJLkZpbGVzID0gQVBJLkZpbGVzO1xuICBPcGVuQUkuRmlsZU9iamVjdHNQYWdlID0gQVBJLkZpbGVPYmplY3RzUGFnZTtcbiAgT3BlbkFJLkltYWdlcyA9IEFQSS5JbWFnZXM7XG4gIE9wZW5BSS5BdWRpbyA9IEFQSS5BdWRpbztcbiAgT3BlbkFJLk1vZGVyYXRpb25zID0gQVBJLk1vZGVyYXRpb25zO1xuICBPcGVuQUkuTW9kZWxzID0gQVBJLk1vZGVscztcbiAgT3BlbkFJLk1vZGVsc1BhZ2UgPSBBUEkuTW9kZWxzUGFnZTtcbiAgT3BlbkFJLkZpbmVUdW5pbmcgPSBBUEkuRmluZVR1bmluZztcbiAgT3BlbkFJLkZpbmVUdW5lcyA9IEFQSS5GaW5lVHVuZXM7XG4gIE9wZW5BSS5GaW5lVHVuZXNQYWdlID0gQVBJLkZpbmVUdW5lc1BhZ2U7XG59KShPcGVuQUkgfHwgKE9wZW5BSSA9IHt9KSk7XG5leHBvcnQgZGVmYXVsdCBPcGVuQUk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiB7XG4gIF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbmV4cG9ydCB7IF9fcHVibGljRmllbGQgfTtcbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcbmV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IGZyb21CeXRlQXJyYXlcblxudmFyIGxvb2t1cCA9IFtdXG52YXIgcmV2TG9va3VwID0gW11cbnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblxudmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV1cbiAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpXG59XG5cbi8vIFN1cHBvcnQgZGVjb2RpbmcgVVJMLXNhZmUgYmFzZTY0IHN0cmluZ3MsIGFzIE5vZGUuanMgZG9lcy5cbi8vIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0I1VSTF9hcHBsaWNhdGlvbnNcbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIGdldExlbnMgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyBUcmltIG9mZiBleHRyYSBieXRlcyBhZnRlciBwbGFjZWhvbGRlciBieXRlcyBhcmUgZm91bmRcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvaXNzdWVzLzQyXG4gIHZhciB2YWxpZExlbiA9IGI2NC5pbmRleE9mKCc9JylcbiAgaWYgKHZhbGlkTGVuID09PSAtMSkgdmFsaWRMZW4gPSBsZW5cblxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlblxuICAgID8gMFxuICAgIDogNCAtICh2YWxpZExlbiAlIDQpXG5cbiAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXVxufVxuXG4vLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aCAoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuXG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpXG5cbiAgdmFyIGN1ckJ5dGUgPSAwXG5cbiAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMFxuICAgID8gdmFsaWRMZW4gLSA0XG4gICAgOiB2YWxpZExlblxuXG4gIHZhciBpXG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfFxuICAgICAgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gMTYpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDIpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAxKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgNCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID1cbiAgICAgICgodWludDhbaV0gPDwgMTYpICYgMHhGRjAwMDApICtcbiAgICAgICgodWludDhbaSArIDFdIDw8IDgpICYgMHhGRjAwKSArXG4gICAgICAodWludDhbaSArIDJdICYgMHhGRilcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aFxuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayh1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpKSlcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDJdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl0gK1xuICAgICAgJz09J1xuICAgIClcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAxMF0gK1xuICAgICAgbG9va3VwWyh0bXAgPj4gNCkgJiAweDNGXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCAyKSAmIDB4M0ZdICtcbiAgICAgICc9J1xuICAgIClcbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuIiwiaW1wb3J0IHsgX19wdWJsaWNGaWVsZCB9IGZyb20gJy4vY2h1bmstWFhQR1pIV1ouanMnO1xuaW1wb3J0IGJhc2U2NCBmcm9tICdiYXNlNjQtanMnO1xuXG4vLyBzcmMvdXRpbHMudHNcbmZ1bmN0aW9uIG5ldmVyKF8pIHtcbn1cbmZ1bmN0aW9uIGJ5dGVQYWlyTWVyZ2UocGllY2UsIHJhbmtzKSB7XG4gIGxldCBwYXJ0cyA9IEFycmF5LmZyb20oXG4gICAgeyBsZW5ndGg6IHBpZWNlLmxlbmd0aCB9LFxuICAgIChfLCBpKSA9PiAoeyBzdGFydDogaSwgZW5kOiBpICsgMSB9KVxuICApO1xuICB3aGlsZSAocGFydHMubGVuZ3RoID4gMSkge1xuICAgIGxldCBtaW5SYW5rID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgY29uc3Qgc2xpY2UgPSBwaWVjZS5zbGljZShwYXJ0c1tpXS5zdGFydCwgcGFydHNbaSArIDFdLmVuZCk7XG4gICAgICBjb25zdCByYW5rID0gcmFua3MuZ2V0KHNsaWNlLmpvaW4oXCIsXCIpKTtcbiAgICAgIGlmIChyYW5rID09IG51bGwpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgaWYgKG1pblJhbmsgPT0gbnVsbCB8fCByYW5rIDwgbWluUmFua1swXSkge1xuICAgICAgICBtaW5SYW5rID0gW3JhbmssIGldO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWluUmFuayAhPSBudWxsKSB7XG4gICAgICBjb25zdCBpID0gbWluUmFua1sxXTtcbiAgICAgIHBhcnRzW2ldID0geyBzdGFydDogcGFydHNbaV0uc3RhcnQsIGVuZDogcGFydHNbaSArIDFdLmVuZCB9O1xuICAgICAgcGFydHMuc3BsaWNlKGkgKyAxLCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJ0cztcbn1cbmZ1bmN0aW9uIGJ5dGVQYWlyRW5jb2RlKHBpZWNlLCByYW5rcykge1xuICBpZiAocGllY2UubGVuZ3RoID09PSAxKVxuICAgIHJldHVybiBbcmFua3MuZ2V0KHBpZWNlLmpvaW4oXCIsXCIpKV07XG4gIHJldHVybiBieXRlUGFpck1lcmdlKHBpZWNlLCByYW5rcykubWFwKChwKSA9PiByYW5rcy5nZXQocGllY2Uuc2xpY2UocC5zdGFydCwgcC5lbmQpLmpvaW4oXCIsXCIpKSkuZmlsdGVyKCh4KSA9PiB4ICE9IG51bGwpO1xufVxuZnVuY3Rpb24gZXNjYXBlUmVnZXgoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xcXFxeJCorPy4oKXxbXFxde31dL2csIFwiXFxcXCQmXCIpO1xufVxudmFyIF9UaWt0b2tlbiA9IGNsYXNzIHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzcGVjaWFsVG9rZW5zO1xuICAvKiogQGludGVybmFsICovXG4gIGludmVyc2VTcGVjaWFsVG9rZW5zO1xuICAvKiogQGludGVybmFsICovXG4gIHBhdFN0cjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICB0ZXh0RW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAvKiogQGludGVybmFsICovXG4gIHRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIik7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcmFua01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgdGV4dE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0cnVjdG9yKHJhbmtzLCBleHRlbmRlZFNwZWNpYWxUb2tlbnMpIHtcbiAgICB0aGlzLnBhdFN0ciA9IHJhbmtzLnBhdF9zdHI7XG4gICAgY29uc3QgdW5jb21wcmVzc2VkID0gcmFua3MuYnBlX3JhbmtzLnNwbGl0KFwiXFxuXCIpLmZpbHRlcihCb29sZWFuKS5yZWR1Y2UoKG1lbW8sIHgpID0+IHtcbiAgICAgIGNvbnN0IFtfLCBvZmZzZXRTdHIsIC4uLnRva2Vuc10gPSB4LnNwbGl0KFwiIFwiKTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IE51bWJlci5wYXJzZUludChvZmZzZXRTdHIsIDEwKTtcbiAgICAgIHRva2Vucy5mb3JFYWNoKCh0b2tlbiwgaSkgPT4gbWVtb1t0b2tlbl0gPSBvZmZzZXQgKyBpKTtcbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH0sIHt9KTtcbiAgICBmb3IgKGNvbnN0IFt0b2tlbiwgcmFua10gb2YgT2JqZWN0LmVudHJpZXModW5jb21wcmVzc2VkKSkge1xuICAgICAgY29uc3QgYnl0ZXMgPSBiYXNlNjQudG9CeXRlQXJyYXkodG9rZW4pO1xuICAgICAgdGhpcy5yYW5rTWFwLnNldChieXRlcy5qb2luKFwiLFwiKSwgcmFuayk7XG4gICAgICB0aGlzLnRleHRNYXAuc2V0KHJhbmssIGJ5dGVzKTtcbiAgICB9XG4gICAgdGhpcy5zcGVjaWFsVG9rZW5zID0geyAuLi5yYW5rcy5zcGVjaWFsX3Rva2VucywgLi4uZXh0ZW5kZWRTcGVjaWFsVG9rZW5zIH07XG4gICAgdGhpcy5pbnZlcnNlU3BlY2lhbFRva2VucyA9IE9iamVjdC5lbnRyaWVzKHRoaXMuc3BlY2lhbFRva2VucykucmVkdWNlKChtZW1vLCBbdGV4dCwgcmFua10pID0+IHtcbiAgICAgIG1lbW9bcmFua10gPSB0aGlzLnRleHRFbmNvZGVyLmVuY29kZSh0ZXh0KTtcbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH0sIHt9KTtcbiAgfVxuICBlbmNvZGUodGV4dCwgYWxsb3dlZFNwZWNpYWwgPSBbXSwgZGlzYWxsb3dlZFNwZWNpYWwgPSBcImFsbFwiKSB7XG4gICAgY29uc3QgcmVnZXhlcyA9IG5ldyBSZWdFeHAodGhpcy5wYXRTdHIsIFwidWdcIik7XG4gICAgY29uc3Qgc3BlY2lhbFJlZ2V4ID0gX1Rpa3Rva2VuLnNwZWNpYWxUb2tlblJlZ2V4KFxuICAgICAgT2JqZWN0LmtleXModGhpcy5zcGVjaWFsVG9rZW5zKVxuICAgICk7XG4gICAgY29uc3QgcmV0ID0gW107XG4gICAgY29uc3QgYWxsb3dlZFNwZWNpYWxTZXQgPSBuZXcgU2V0KFxuICAgICAgYWxsb3dlZFNwZWNpYWwgPT09IFwiYWxsXCIgPyBPYmplY3Qua2V5cyh0aGlzLnNwZWNpYWxUb2tlbnMpIDogYWxsb3dlZFNwZWNpYWxcbiAgICApO1xuICAgIGNvbnN0IGRpc2FsbG93ZWRTcGVjaWFsU2V0ID0gbmV3IFNldChcbiAgICAgIGRpc2FsbG93ZWRTcGVjaWFsID09PSBcImFsbFwiID8gT2JqZWN0LmtleXModGhpcy5zcGVjaWFsVG9rZW5zKS5maWx0ZXIoXG4gICAgICAgICh4KSA9PiAhYWxsb3dlZFNwZWNpYWxTZXQuaGFzKHgpXG4gICAgICApIDogZGlzYWxsb3dlZFNwZWNpYWxcbiAgICApO1xuICAgIGlmIChkaXNhbGxvd2VkU3BlY2lhbFNldC5zaXplID4gMCkge1xuICAgICAgY29uc3QgZGlzYWxsb3dlZFNwZWNpYWxSZWdleCA9IF9UaWt0b2tlbi5zcGVjaWFsVG9rZW5SZWdleChbXG4gICAgICAgIC4uLmRpc2FsbG93ZWRTcGVjaWFsU2V0XG4gICAgICBdKTtcbiAgICAgIGNvbnN0IHNwZWNpYWxNYXRjaCA9IHRleHQubWF0Y2goZGlzYWxsb3dlZFNwZWNpYWxSZWdleCk7XG4gICAgICBpZiAoc3BlY2lhbE1hdGNoICE9IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBUaGUgdGV4dCBjb250YWlucyBhIHNwZWNpYWwgdG9rZW4gdGhhdCBpcyBub3QgYWxsb3dlZDogJHtzcGVjaWFsTWF0Y2hbMF19YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgbmV4dFNwZWNpYWwgPSBudWxsO1xuICAgICAgbGV0IHN0YXJ0RmluZCA9IHN0YXJ0O1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgc3BlY2lhbFJlZ2V4Lmxhc3RJbmRleCA9IHN0YXJ0RmluZDtcbiAgICAgICAgbmV4dFNwZWNpYWwgPSBzcGVjaWFsUmVnZXguZXhlYyh0ZXh0KTtcbiAgICAgICAgaWYgKG5leHRTcGVjaWFsID09IG51bGwgfHwgYWxsb3dlZFNwZWNpYWxTZXQuaGFzKG5leHRTcGVjaWFsWzBdKSlcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgc3RhcnRGaW5kID0gbmV4dFNwZWNpYWwuaW5kZXggKyAxO1xuICAgICAgfVxuICAgICAgY29uc3QgZW5kID0gbmV4dFNwZWNpYWw/LmluZGV4ID8/IHRleHQubGVuZ3RoO1xuICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiB0ZXh0LnN1YnN0cmluZyhzdGFydCwgZW5kKS5tYXRjaEFsbChyZWdleGVzKSkge1xuICAgICAgICBjb25zdCBwaWVjZSA9IHRoaXMudGV4dEVuY29kZXIuZW5jb2RlKG1hdGNoWzBdKTtcbiAgICAgICAgY29uc3QgdG9rZW4yID0gdGhpcy5yYW5rTWFwLmdldChwaWVjZS5qb2luKFwiLFwiKSk7XG4gICAgICAgIGlmICh0b2tlbjIgIT0gbnVsbCkge1xuICAgICAgICAgIHJldC5wdXNoKHRva2VuMik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0LnB1c2goLi4uYnl0ZVBhaXJFbmNvZGUocGllY2UsIHRoaXMucmFua01hcCkpO1xuICAgICAgfVxuICAgICAgaWYgKG5leHRTcGVjaWFsID09IG51bGwpXG4gICAgICAgIGJyZWFrO1xuICAgICAgbGV0IHRva2VuID0gdGhpcy5zcGVjaWFsVG9rZW5zW25leHRTcGVjaWFsWzBdXTtcbiAgICAgIHJldC5wdXNoKHRva2VuKTtcbiAgICAgIHN0YXJ0ID0gbmV4dFNwZWNpYWwuaW5kZXggKyBuZXh0U3BlY2lhbFswXS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cbiAgZGVjb2RlKHRva2Vucykge1xuICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgIGxldCBsZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCB0b2tlbnMubGVuZ3RoOyArK2kyKSB7XG4gICAgICBjb25zdCB0b2tlbiA9IHRva2Vuc1tpMl07XG4gICAgICBjb25zdCBieXRlcyA9IHRoaXMudGV4dE1hcC5nZXQodG9rZW4pID8/IHRoaXMuaW52ZXJzZVNwZWNpYWxUb2tlbnNbdG9rZW5dO1xuICAgICAgaWYgKGJ5dGVzICE9IG51bGwpIHtcbiAgICAgICAgcmVzLnB1c2goYnl0ZXMpO1xuICAgICAgICBsZW5ndGggKz0gYnl0ZXMubGVuZ3RoO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBtZXJnZWRBcnJheSA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoY29uc3QgYnl0ZXMgb2YgcmVzKSB7XG4gICAgICBtZXJnZWRBcnJheS5zZXQoYnl0ZXMsIGkpO1xuICAgICAgaSArPSBieXRlcy5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRleHREZWNvZGVyLmRlY29kZShtZXJnZWRBcnJheSk7XG4gIH1cbn07XG52YXIgVGlrdG9rZW4gPSBfVGlrdG9rZW47XG5fX3B1YmxpY0ZpZWxkKFRpa3Rva2VuLCBcInNwZWNpYWxUb2tlblJlZ2V4XCIsICh0b2tlbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBSZWdFeHAodG9rZW5zLm1hcCgoaSkgPT4gZXNjYXBlUmVnZXgoaSkpLmpvaW4oXCJ8XCIpLCBcImdcIik7XG59KTtcbmZ1bmN0aW9uIGdldEVuY29kaW5nTmFtZUZvck1vZGVsKG1vZGVsKSB7XG4gIHN3aXRjaCAobW9kZWwpIHtcbiAgICBjYXNlIFwiZ3B0MlwiOiB7XG4gICAgICByZXR1cm4gXCJncHQyXCI7XG4gICAgfVxuICAgIGNhc2UgXCJjb2RlLWN1c2htYW4tMDAxXCI6XG4gICAgY2FzZSBcImNvZGUtY3VzaG1hbi0wMDJcIjpcbiAgICBjYXNlIFwiY29kZS1kYXZpbmNpLTAwMVwiOlxuICAgIGNhc2UgXCJjb2RlLWRhdmluY2ktMDAyXCI6XG4gICAgY2FzZSBcImN1c2htYW4tY29kZXhcIjpcbiAgICBjYXNlIFwiZGF2aW5jaS1jb2RleFwiOlxuICAgIGNhc2UgXCJ0ZXh0LWRhdmluY2ktMDAyXCI6XG4gICAgY2FzZSBcInRleHQtZGF2aW5jaS0wMDNcIjoge1xuICAgICAgcmV0dXJuIFwicDUwa19iYXNlXCI7XG4gICAgfVxuICAgIGNhc2UgXCJjb2RlLWRhdmluY2ktZWRpdC0wMDFcIjpcbiAgICBjYXNlIFwidGV4dC1kYXZpbmNpLWVkaXQtMDAxXCI6IHtcbiAgICAgIHJldHVybiBcInA1MGtfZWRpdFwiO1xuICAgIH1cbiAgICBjYXNlIFwiYWRhXCI6XG4gICAgY2FzZSBcImJhYmJhZ2VcIjpcbiAgICBjYXNlIFwiY29kZS1zZWFyY2gtYWRhLWNvZGUtMDAxXCI6XG4gICAgY2FzZSBcImNvZGUtc2VhcmNoLWJhYmJhZ2UtY29kZS0wMDFcIjpcbiAgICBjYXNlIFwiY3VyaWVcIjpcbiAgICBjYXNlIFwiZGF2aW5jaVwiOlxuICAgIGNhc2UgXCJ0ZXh0LWFkYS0wMDFcIjpcbiAgICBjYXNlIFwidGV4dC1iYWJiYWdlLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LWN1cmllLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LWRhdmluY2ktMDAxXCI6XG4gICAgY2FzZSBcInRleHQtc2VhcmNoLWFkYS1kb2MtMDAxXCI6XG4gICAgY2FzZSBcInRleHQtc2VhcmNoLWJhYmJhZ2UtZG9jLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNlYXJjaC1jdXJpZS1kb2MtMDAxXCI6XG4gICAgY2FzZSBcInRleHQtc2VhcmNoLWRhdmluY2ktZG9jLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNpbWlsYXJpdHktYWRhLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNpbWlsYXJpdHktYmFiYmFnZS0wMDFcIjpcbiAgICBjYXNlIFwidGV4dC1zaW1pbGFyaXR5LWN1cmllLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNpbWlsYXJpdHktZGF2aW5jaS0wMDFcIjoge1xuICAgICAgcmV0dXJuIFwicjUwa19iYXNlXCI7XG4gICAgfVxuICAgIGNhc2UgXCJncHQtMy41LXR1cmJvLTE2ay0wNjEzXCI6XG4gICAgY2FzZSBcImdwdC0zLjUtdHVyYm8tMTZrXCI6XG4gICAgY2FzZSBcImdwdC0zLjUtdHVyYm8tMDYxM1wiOlxuICAgIGNhc2UgXCJncHQtMy41LXR1cmJvLTAzMDFcIjpcbiAgICBjYXNlIFwiZ3B0LTMuNS10dXJib1wiOlxuICAgIGNhc2UgXCJncHQtNC0zMmstMDYxM1wiOlxuICAgIGNhc2UgXCJncHQtNC0zMmstMDMxNFwiOlxuICAgIGNhc2UgXCJncHQtNC0zMmtcIjpcbiAgICBjYXNlIFwiZ3B0LTQtMDYxM1wiOlxuICAgIGNhc2UgXCJncHQtNC0wMzE0XCI6XG4gICAgY2FzZSBcImdwdC00XCI6XG4gICAgY2FzZSBcInRleHQtZW1iZWRkaW5nLWFkYS0wMDJcIjoge1xuICAgICAgcmV0dXJuIFwiY2wxMDBrX2Jhc2VcIjtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gbW9kZWxcIik7XG4gIH1cbn1cblxuZXhwb3J0IHsgVGlrdG9rZW4sIGdldEVuY29kaW5nTmFtZUZvck1vZGVsLCBuZXZlciB9O1xuIiwiaW1wb3J0IHsgVGlrdG9rZW4sIGdldEVuY29kaW5nTmFtZUZvck1vZGVsLCB9IGZyb20gXCJqcy10aWt0b2tlbi9saXRlXCI7XG5pbXBvcnQgeyBBc3luY0NhbGxlciB9IGZyb20gXCIuL2FzeW5jX2NhbGxlci5qc1wiO1xuY29uc3QgY2FjaGUgPSB7fTtcbmNvbnN0IGNhbGxlciA9IC8qICNfX1BVUkVfXyAqLyBuZXcgQXN5bmNDYWxsZXIoe30pO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEVuY29kaW5nKGVuY29kaW5nLCBvcHRpb25zKSB7XG4gICAgaWYgKCEoZW5jb2RpbmcgaW4gY2FjaGUpKSB7XG4gICAgICAgIGNhY2hlW2VuY29kaW5nXSA9IGNhbGxlclxuICAgICAgICAgICAgLmZldGNoKGBodHRwczovL3Rpa3Rva2VuLnBhZ2VzLmRldi9qcy8ke2VuY29kaW5nfS5qc29uYCwge1xuICAgICAgICAgICAgc2lnbmFsOiBvcHRpb25zPy5zaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgY2FjaGVbZW5jb2RpbmddO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVGlrdG9rZW4oYXdhaXQgY2FjaGVbZW5jb2RpbmddLCBvcHRpb25zPy5leHRlbmRlZFNwZWNpYWxUb2tlbnMpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuY29kaW5nRm9yTW9kZWwobW9kZWwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZ2V0RW5jb2RpbmcoZ2V0RW5jb2RpbmdOYW1lRm9yTW9kZWwobW9kZWwpLCBvcHRpb25zKTtcbn1cbiIsImltcG9ydCB7IGVuY29kaW5nRm9yTW9kZWwgfSBmcm9tIFwiLi4vdXRpbC90aWt0b2tlbi5qc1wiO1xuLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvanMtdGlrdG9rZW5cbmV4cG9ydCBjb25zdCBnZXRNb2RlbE5hbWVGb3JUaWt0b2tlbiA9IChtb2RlbE5hbWUpID0+IHtcbiAgICBpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtMy41LXR1cmJvLTE2a1wiKSkge1xuICAgICAgICByZXR1cm4gXCJncHQtMy41LXR1cmJvLTE2a1wiO1xuICAgIH1cbiAgICBpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtMy41LXR1cmJvLVwiKSkge1xuICAgICAgICByZXR1cm4gXCJncHQtMy41LXR1cmJvXCI7XG4gICAgfVxuICAgIGlmIChtb2RlbE5hbWUuc3RhcnRzV2l0aChcImdwdC00LTMya1wiKSkge1xuICAgICAgICByZXR1cm4gXCJncHQtNC0zMmtcIjtcbiAgICB9XG4gICAgaWYgKG1vZGVsTmFtZS5zdGFydHNXaXRoKFwiZ3B0LTQtXCIpKSB7XG4gICAgICAgIHJldHVybiBcImdwdC00XCI7XG4gICAgfVxuICAgIHJldHVybiBtb2RlbE5hbWU7XG59O1xuZXhwb3J0IGNvbnN0IGdldEVtYmVkZGluZ0NvbnRleHRTaXplID0gKG1vZGVsTmFtZSkgPT4ge1xuICAgIHN3aXRjaCAobW9kZWxOYW1lKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0LWVtYmVkZGluZy1hZGEtMDAyXCI6XG4gICAgICAgICAgICByZXR1cm4gODE5MTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAyMDQ2O1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZ2V0TW9kZWxDb250ZXh0U2l6ZSA9IChtb2RlbE5hbWUpID0+IHtcbiAgICBzd2l0Y2ggKGdldE1vZGVsTmFtZUZvclRpa3Rva2VuKG1vZGVsTmFtZSkpIHtcbiAgICAgICAgY2FzZSBcImdwdC0zLjUtdHVyYm8tMTZrXCI6XG4gICAgICAgICAgICByZXR1cm4gMTYzODQ7XG4gICAgICAgIGNhc2UgXCJncHQtMy41LXR1cmJvXCI6XG4gICAgICAgICAgICByZXR1cm4gNDA5NjtcbiAgICAgICAgY2FzZSBcImdwdC00LTMya1wiOlxuICAgICAgICAgICAgcmV0dXJuIDMyNzY4O1xuICAgICAgICBjYXNlIFwiZ3B0LTRcIjpcbiAgICAgICAgICAgIHJldHVybiA4MTkyO1xuICAgICAgICBjYXNlIFwidGV4dC1kYXZpbmNpLTAwM1wiOlxuICAgICAgICAgICAgcmV0dXJuIDQwOTc7XG4gICAgICAgIGNhc2UgXCJ0ZXh0LWN1cmllLTAwMVwiOlxuICAgICAgICAgICAgcmV0dXJuIDIwNDg7XG4gICAgICAgIGNhc2UgXCJ0ZXh0LWJhYmJhZ2UtMDAxXCI6XG4gICAgICAgICAgICByZXR1cm4gMjA0ODtcbiAgICAgICAgY2FzZSBcInRleHQtYWRhLTAwMVwiOlxuICAgICAgICAgICAgcmV0dXJuIDIwNDg7XG4gICAgICAgIGNhc2UgXCJjb2RlLWRhdmluY2ktMDAyXCI6XG4gICAgICAgICAgICByZXR1cm4gODAwMDtcbiAgICAgICAgY2FzZSBcImNvZGUtY3VzaG1hbi0wMDFcIjpcbiAgICAgICAgICAgIHJldHVybiAyMDQ4O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIDQwOTc7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVNYXhUb2tlbnMgPSBhc3luYyAoeyBwcm9tcHQsIG1vZGVsTmFtZSwgfSkgPT4ge1xuICAgIGxldCBudW1Ub2tlbnM7XG4gICAgdHJ5IHtcbiAgICAgICAgbnVtVG9rZW5zID0gKGF3YWl0IGVuY29kaW5nRm9yTW9kZWwoZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4obW9kZWxOYW1lKSkpLmVuY29kZShwcm9tcHQpLmxlbmd0aDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBjYWxjdWxhdGUgbnVtYmVyIG9mIHRva2VucywgZmFsbGluZyBiYWNrIHRvIGFwcHJveGltYXRlIGNvdW50XCIpO1xuICAgICAgICAvLyBmYWxsYmFjayB0byBhcHByb3hpbWF0ZSBjYWxjdWxhdGlvbiBpZiB0aWt0b2tlbiBpcyBub3QgYXZhaWxhYmxlXG4gICAgICAgIC8vIGVhY2ggdG9rZW4gaXMgfjQgY2hhcmFjdGVyczogaHR0cHM6Ly9oZWxwLm9wZW5haS5jb20vZW4vYXJ0aWNsZXMvNDkzNjg1Ni13aGF0LWFyZS10b2tlbnMtYW5kLWhvdy10by1jb3VudC10aGVtI1xuICAgICAgICBudW1Ub2tlbnMgPSBNYXRoLmNlaWwocHJvbXB0Lmxlbmd0aCAvIDQpO1xuICAgIH1cbiAgICBjb25zdCBtYXhUb2tlbnMgPSBnZXRNb2RlbENvbnRleHRTaXplKG1vZGVsTmFtZSk7XG4gICAgcmV0dXJuIG1heFRva2VucyAtIG51bVRva2Vucztcbn07XG4iLCJpbXBvcnQgeyBTZXJpYWxpemFibGUgfSBmcm9tIFwiLi4vbG9hZC9zZXJpYWxpemFibGUuanNcIjtcbmV4cG9ydCBjb25zdCBSVU5fS0VZID0gXCJfX3J1blwiO1xuLyoqXG4gKiBDaHVuayBvZiBhIHNpbmdsZSBnZW5lcmF0aW9uLiBVc2VkIGZvciBzdHJlYW1pbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBHZW5lcmF0aW9uQ2h1bmsge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZXh0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdlbmVyYXRpb25JbmZvXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGV4dCA9IGZpZWxkcy50ZXh0O1xuICAgICAgICB0aGlzLmdlbmVyYXRpb25JbmZvID0gZmllbGRzLmdlbmVyYXRpb25JbmZvO1xuICAgIH1cbiAgICBjb25jYXQoY2h1bmspIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmF0aW9uQ2h1bmsoe1xuICAgICAgICAgICAgdGV4dDogdGhpcy50ZXh0ICsgY2h1bmsudGV4dCxcbiAgICAgICAgICAgIGdlbmVyYXRpb25JbmZvOiB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5nZW5lcmF0aW9uSW5mbyxcbiAgICAgICAgICAgICAgICAuLi5jaHVuay5nZW5lcmF0aW9uSW5mbyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIHR5cGVzIG9mIG1lc3NhZ2VzIGluIGEgY29udmVyc2F0aW9uLiBJdCBpbmNsdWRlc1xuICogcHJvcGVydGllcyBsaWtlIGBjb250ZW50YCwgYG5hbWVgLCBhbmQgYGFkZGl0aW9uYWxfa3dhcmdzYC4gSXQgYWxzb1xuICogaW5jbHVkZXMgbWV0aG9kcyBsaWtlIGB0b0RpY3QoKWAgYW5kIGBfZ2V0VHlwZSgpYC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VNZXNzYWdlIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIFVzZSB7QGxpbmsgQmFzZU1lc3NhZ2UuY29udGVudH0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBnZXQgdGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCBcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBrd2FyZ3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgZmllbGRzID0geyBjb250ZW50OiBmaWVsZHMsIGFkZGl0aW9uYWxfa3dhcmdzOiBrd2FyZ3MgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIGFkZGl0aW9uYWxfa3dhcmdzIGlzIHBhc3NlZCBpbnRvIHN1cGVyKCkgZm9yIHNlcmlhbGl6YXRpb25cbiAgICAgICAgaWYgKCFmaWVsZHMuYWRkaXRpb25hbF9rd2FyZ3MpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgZmllbGRzLmFkZGl0aW9uYWxfa3dhcmdzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJzY2hlbWFcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgLyoqIFRoZSB0ZXh0IG9mIHRoZSBtZXNzYWdlLiAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb250ZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKiBUaGUgbmFtZSBvZiB0aGUgbWVzc2FnZSBzZW5kZXIgaW4gYSBtdWx0aS11c2VyIGNoYXQuICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqIEFkZGl0aW9uYWwga2V5d29yZCBhcmd1bWVudHMgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYWRkaXRpb25hbF9rd2FyZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gZmllbGRzLm5hbWU7XG4gICAgICAgIHRoaXMuY29udGVudCA9IGZpZWxkcy5jb250ZW50O1xuICAgICAgICB0aGlzLmFkZGl0aW9uYWxfa3dhcmdzID0gZmllbGRzLmFkZGl0aW9uYWxfa3dhcmdzO1xuICAgIH1cbiAgICB0b0RpY3QoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLl9nZXRUeXBlKCksXG4gICAgICAgICAgICBkYXRhOiB0aGlzLnRvSlNPTigpXG4gICAgICAgICAgICAgICAgLmt3YXJncyxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYSBjaHVuayBvZiBhIG1lc3NhZ2UsIHdoaWNoIGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlclxuICogbWVzc2FnZSBjaHVua3MuIEl0IGluY2x1ZGVzIGEgbWV0aG9kIGBfbWVyZ2Vfa3dhcmdzX2RpY3QoKWAgZm9yIG1lcmdpbmdcbiAqIGFkZGl0aW9uYWwga2V5d29yZCBhcmd1bWVudHMgZnJvbSBhbm90aGVyIGBCYXNlTWVzc2FnZUNodW5rYCBpbnRvIHRoaXNcbiAqIG9uZS4gSXQgYWxzbyBvdmVycmlkZXMgdGhlIGBfX2FkZF9fKClgIG1ldGhvZCB0byBzdXBwb3J0IGNvbmNhdGVuYXRpb25cbiAqIG9mIGBCYXNlTWVzc2FnZUNodW5rYCBpbnN0YW5jZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlTWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuICAgIHN0YXRpYyBfbWVyZ2VBZGRpdGlvbmFsS3dhcmdzKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IHsgLi4ubGVmdCB9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhyaWdodCkpIHtcbiAgICAgICAgICAgIGlmIChtZXJnZWRba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtZXJnZWRba2V5XSAhPT0gdHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBhZGRpdGlvbmFsX2t3YXJnc1ske2tleX1dIGFscmVhZHkgZXhpc3RzIGluIHRoZSBtZXNzYWdlIGNodW5rLCBidXQgd2l0aCBhIGRpZmZlcmVudCB0eXBlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1lcmdlZFtrZXldID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2tleV0gPSBtZXJnZWRba2V5XSArIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkobWVyZ2VkW2tleV0pICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIG1lcmdlZFtrZXldID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2tleV0gPSB0aGlzLl9tZXJnZUFkZGl0aW9uYWxLd2FyZ3MobWVyZ2VkW2tleV0sIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgYWRkaXRpb25hbF9rd2FyZ3NbJHtrZXl9XSBhbHJlYWR5IGV4aXN0cyBpbiB0aGlzIG1lc3NhZ2UgY2h1bmsuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICB9XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYSBodW1hbiBtZXNzYWdlIGluIGEgY29udmVyc2F0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgSHVtYW5NZXNzYWdlIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJIdW1hbk1lc3NhZ2VcIjtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImh1bWFuXCI7XG4gICAgfVxufVxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYSBodW1hbiBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGhcbiAqIG90aGVyIGh1bWFuIG1lc3NhZ2UgY2h1bmtzLlxuICovXG5leHBvcnQgY2xhc3MgSHVtYW5NZXNzYWdlQ2h1bmsgZXh0ZW5kcyBCYXNlTWVzc2FnZUNodW5rIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiSHVtYW5NZXNzYWdlQ2h1bmtcIjtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImh1bWFuXCI7XG4gICAgfVxuICAgIGNvbmNhdChjaHVuaykge1xuICAgICAgICByZXR1cm4gbmV3IEh1bWFuTWVzc2FnZUNodW5rKHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuY29udGVudCArIGNodW5rLmNvbnRlbnQsXG4gICAgICAgICAgICBhZGRpdGlvbmFsX2t3YXJnczogSHVtYW5NZXNzYWdlQ2h1bmsuX21lcmdlQWRkaXRpb25hbEt3YXJncyh0aGlzLmFkZGl0aW9uYWxfa3dhcmdzLCBjaHVuay5hZGRpdGlvbmFsX2t3YXJncyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhbiBBSSBtZXNzYWdlIGluIGEgY29udmVyc2F0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQUlNZXNzYWdlIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJBSU1lc3NhZ2VcIjtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImFpXCI7XG4gICAgfVxufVxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYW4gQUkgbWVzc2FnZSwgd2hpY2ggY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoXG4gKiBvdGhlciBBSSBtZXNzYWdlIGNodW5rcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFJTWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2VDaHVuayB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkFJTWVzc2FnZUNodW5rXCI7XG4gICAgfVxuICAgIF9nZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJhaVwiO1xuICAgIH1cbiAgICBjb25jYXQoY2h1bmspIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBSU1lc3NhZ2VDaHVuayh7XG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQgKyBjaHVuay5jb250ZW50LFxuICAgICAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3M6IEFJTWVzc2FnZUNodW5rLl9tZXJnZUFkZGl0aW9uYWxLd2FyZ3ModGhpcy5hZGRpdGlvbmFsX2t3YXJncywgY2h1bmsuYWRkaXRpb25hbF9rd2FyZ3MpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYSBzeXN0ZW0gbWVzc2FnZSBpbiBhIGNvbnZlcnNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFN5c3RlbU1lc3NhZ2UgZXh0ZW5kcyBCYXNlTWVzc2FnZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlN5c3RlbU1lc3NhZ2VcIjtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcInN5c3RlbVwiO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIGNodW5rIG9mIGEgc3lzdGVtIG1lc3NhZ2UsIHdoaWNoIGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aFxuICogb3RoZXIgc3lzdGVtIG1lc3NhZ2UgY2h1bmtzLlxuICovXG5leHBvcnQgY2xhc3MgU3lzdGVtTWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2VDaHVuayB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlN5c3RlbU1lc3NhZ2VDaHVua1wiO1xuICAgIH1cbiAgICBfZ2V0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwic3lzdGVtXCI7XG4gICAgfVxuICAgIGNvbmNhdChjaHVuaykge1xuICAgICAgICByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2VDaHVuayh7XG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQgKyBjaHVuay5jb250ZW50LFxuICAgICAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3M6IFN5c3RlbU1lc3NhZ2VDaHVuay5fbWVyZ2VBZGRpdGlvbmFsS3dhcmdzKHRoaXMuYWRkaXRpb25hbF9rd2FyZ3MsIGNodW5rLmFkZGl0aW9uYWxfa3dhcmdzKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogVXNlIHtAbGluayBCYXNlTWVzc2FnZX0gaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGNvbnN0IEJhc2VDaGF0TWVzc2FnZSA9IEJhc2VNZXNzYWdlO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogVXNlIHtAbGluayBIdW1hbk1lc3NhZ2V9IGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjb25zdCBIdW1hbkNoYXRNZXNzYWdlID0gSHVtYW5NZXNzYWdlO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogVXNlIHtAbGluayBBSU1lc3NhZ2V9IGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjb25zdCBBSUNoYXRNZXNzYWdlID0gQUlNZXNzYWdlO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogVXNlIHtAbGluayBTeXN0ZW1NZXNzYWdlfSBpbnN0ZWFkLlxuICovXG5leHBvcnQgY29uc3QgU3lzdGVtQ2hhdE1lc3NhZ2UgPSBTeXN0ZW1NZXNzYWdlO1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgZnVuY3Rpb24gbWVzc2FnZSBpbiBhIGNvbnZlcnNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uTWVzc2FnZSBleHRlbmRzIEJhc2VNZXNzYWdlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiRnVuY3Rpb25NZXNzYWdlXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgbmFtZSkge1xuICAgICAgICBpZiAodHlwZW9mIGZpZWxkcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICBmaWVsZHMgPSB7IGNvbnRlbnQ6IGZpZWxkcywgbmFtZTogbmFtZSB9O1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgfVxuICAgIF9nZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJmdW5jdGlvblwiO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIGNodW5rIG9mIGEgZnVuY3Rpb24gbWVzc2FnZSwgd2hpY2ggY2FuIGJlIGNvbmNhdGVuYXRlZFxuICogd2l0aCBvdGhlciBmdW5jdGlvbiBtZXNzYWdlIGNodW5rcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uTWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2VDaHVuayB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkZ1bmN0aW9uTWVzc2FnZUNodW5rXCI7XG4gICAgfVxuICAgIF9nZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJmdW5jdGlvblwiO1xuICAgIH1cbiAgICBjb25jYXQoY2h1bmspIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbk1lc3NhZ2VDaHVuayh7XG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQgKyBjaHVuay5jb250ZW50LFxuICAgICAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3M6IEZ1bmN0aW9uTWVzc2FnZUNodW5rLl9tZXJnZUFkZGl0aW9uYWxLd2FyZ3ModGhpcy5hZGRpdGlvbmFsX2t3YXJncywgY2h1bmsuYWRkaXRpb25hbF9rd2FyZ3MpLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lID8/IFwiXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIGNoYXQgbWVzc2FnZSBpbiBhIGNvbnZlcnNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIENoYXRNZXNzYWdlIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJDaGF0TWVzc2FnZVwiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMsIHJvbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbiwgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgZmllbGRzID0geyBjb250ZW50OiBmaWVsZHMsIHJvbGU6IHJvbGUgfTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyb2xlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucm9sZSA9IGZpZWxkcy5yb2xlO1xuICAgIH1cbiAgICBfZ2V0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiZ2VuZXJpY1wiO1xuICAgIH1cbiAgICBzdGF0aWMgaXNJbnN0YW5jZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwiZ2VuZXJpY1wiO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Jhc2VNZXNzYWdlKG1lc3NhZ2VMaWtlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBtZXNzYWdlTGlrZT8uX2dldFR5cGUgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZShtZXNzYWdlTGlrZSkge1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZUxpa2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIdW1hbk1lc3NhZ2UobWVzc2FnZUxpa2UpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Jhc2VNZXNzYWdlKG1lc3NhZ2VMaWtlKSkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZUxpa2U7XG4gICAgfVxuICAgIGNvbnN0IFt0eXBlLCBjb250ZW50XSA9IG1lc3NhZ2VMaWtlO1xuICAgIGlmICh0eXBlID09PSBcImh1bWFuXCIgfHwgdHlwZSA9PT0gXCJ1c2VyXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIdW1hbk1lc3NhZ2UoeyBjb250ZW50IH0pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSBcImFpXCIgfHwgdHlwZSA9PT0gXCJhc3Npc3RhbnRcIikge1xuICAgICAgICByZXR1cm4gbmV3IEFJTWVzc2FnZSh7IGNvbnRlbnQgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwic3lzdGVtXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTeXN0ZW1NZXNzYWdlKHsgY29udGVudCB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNvZXJjZSBtZXNzYWdlIGZyb20gYXJyYXk6IG9ubHkgaHVtYW4sIEFJLCBvciBzeXN0ZW0gbWVzc2FnZSBjb2VyY2lvbiBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLmApO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIGNodW5rIG9mIGEgY2hhdCBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGhcbiAqIG90aGVyIGNoYXQgbWVzc2FnZSBjaHVua3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGF0TWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2VDaHVuayB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkNoYXRNZXNzYWdlQ2h1bmtcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCByb2xlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZmllbGRzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24sIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIGZpZWxkcyA9IHsgY29udGVudDogZmllbGRzLCByb2xlOiByb2xlIH07XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicm9sZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJvbGUgPSBmaWVsZHMucm9sZTtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImdlbmVyaWNcIjtcbiAgICB9XG4gICAgY29uY2F0KGNodW5rKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdE1lc3NhZ2VDaHVuayh7XG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQgKyBjaHVuay5jb250ZW50LFxuICAgICAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3M6IENoYXRNZXNzYWdlQ2h1bmsuX21lcmdlQWRkaXRpb25hbEt3YXJncyh0aGlzLmFkZGl0aW9uYWxfa3dhcmdzLCBjaHVuay5hZGRpdGlvbmFsX2t3YXJncyksXG4gICAgICAgICAgICByb2xlOiB0aGlzLnJvbGUsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDaGF0R2VuZXJhdGlvbkNodW5rIGV4dGVuZHMgR2VuZXJhdGlvbkNodW5rIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWVzc2FnZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBmaWVsZHMubWVzc2FnZTtcbiAgICB9XG4gICAgY29uY2F0KGNodW5rKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdEdlbmVyYXRpb25DaHVuayh7XG4gICAgICAgICAgICB0ZXh0OiB0aGlzLnRleHQgKyBjaHVuay50ZXh0LFxuICAgICAgICAgICAgZ2VuZXJhdGlvbkluZm86IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmdlbmVyYXRpb25JbmZvLFxuICAgICAgICAgICAgICAgIC4uLmNodW5rLmdlbmVyYXRpb25JbmZvLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZS5jb25jYXQoY2h1bmsubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogTWFwcyBtZXNzYWdlcyBmcm9tIGFuIG9sZGVyIGZvcm1hdCAoVjEpIHRvIHRoZSBjdXJyZW50IGBTdG9yZWRNZXNzYWdlYFxuICogZm9ybWF0LiBJZiB0aGUgbWVzc2FnZSBpcyBhbHJlYWR5IGluIHRoZSBgU3RvcmVkTWVzc2FnZWAgZm9ybWF0LCBpdCBpc1xuICogcmV0dXJuZWQgYXMgaXMuIE90aGVyd2lzZSwgaXQgdHJhbnNmb3JtcyB0aGUgVjEgbWVzc2FnZSBpbnRvIGFcbiAqIGBTdG9yZWRNZXNzYWdlYC4gVGhpcyBmdW5jdGlvbiBpcyBpbXBvcnRhbnQgZm9yIG1haW50YWluaW5nXG4gKiBjb21wYXRpYmlsaXR5IHdpdGggb2xkZXIgbWVzc2FnZSBmb3JtYXRzLlxuICovXG5mdW5jdGlvbiBtYXBWMU1lc3NhZ2VUb1N0b3JlZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzIG1hcHBlciB3aGVuIHdlIGRlcHJlY2F0ZSB0aGUgb2xkIG1lc3NhZ2UgZm9ybWF0LlxuICAgIGlmIChtZXNzYWdlLmRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHYxTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB2MU1lc3NhZ2UudHlwZSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiB2MU1lc3NhZ2UudGV4dCxcbiAgICAgICAgICAgICAgICByb2xlOiB2MU1lc3NhZ2Uucm9sZSxcbiAgICAgICAgICAgICAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXBTdG9yZWRNZXNzYWdlVG9DaGF0TWVzc2FnZShtZXNzYWdlKSB7XG4gICAgY29uc3Qgc3RvcmVkTWVzc2FnZSA9IG1hcFYxTWVzc2FnZVRvU3RvcmVkTWVzc2FnZShtZXNzYWdlKTtcbiAgICBzd2l0Y2ggKHN0b3JlZE1lc3NhZ2UudHlwZSkge1xuICAgICAgICBjYXNlIFwiaHVtYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSHVtYW5NZXNzYWdlKHN0b3JlZE1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIGNhc2UgXCJhaVwiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBSU1lc3NhZ2Uoc3RvcmVkTWVzc2FnZS5kYXRhKTtcbiAgICAgICAgY2FzZSBcInN5c3RlbVwiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTeXN0ZW1NZXNzYWdlKHN0b3JlZE1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgaWYgKHN0b3JlZE1lc3NhZ2UuZGF0YS5uYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOYW1lIG11c3QgYmUgZGVmaW5lZCBmb3IgZnVuY3Rpb24gbWVzc2FnZXNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uTWVzc2FnZShzdG9yZWRNZXNzYWdlLmRhdGEpO1xuICAgICAgICBjYXNlIFwiY2hhdFwiOiB7XG4gICAgICAgICAgICBpZiAoc3RvcmVkTWVzc2FnZS5kYXRhLnJvbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJvbGUgbXVzdCBiZSBkZWZpbmVkIGZvciBjaGF0IG1lc3NhZ2VzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGF0TWVzc2FnZShzdG9yZWRNZXNzYWdlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEdvdCB1bmV4cGVjdGVkIHR5cGU6ICR7c3RvcmVkTWVzc2FnZS50eXBlfWApO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBQcm9tcHRWYWx1ZSBjbGFzcy4gQWxsIHByb21wdCB2YWx1ZXMgc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZVByb21wdFZhbHVlIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIGNoYXQgbWVzc2FnZSBoaXN0b3JpZXMuIEFsbCBjaGF0IG1lc3NhZ2UgaGlzdG9yaWVzXG4gKiBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlQ2hhdE1lc3NhZ2VIaXN0b3J5IGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIGxpc3QgY2hhdCBtZXNzYWdlIGhpc3Rvcmllcy4gQWxsIGxpc3QgY2hhdCBtZXNzYWdlXG4gKiBoaXN0b3JpZXMgc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZUxpc3RDaGF0TWVzc2FnZUhpc3RvcnkgZXh0ZW5kcyBTZXJpYWxpemFibGUge1xuICAgIGFkZFVzZXJNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTWVzc2FnZShuZXcgSHVtYW5NZXNzYWdlKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgYWRkQUlDaGF0TWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE1lc3NhZ2UobmV3IEFJTWVzc2FnZShtZXNzYWdlKSk7XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgY2FjaGVzLiBBbGwgY2FjaGVzIHNob3VsZCBleHRlbmQgdGhpcyBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VDYWNoZSB7XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGFsbCBmaWxlIHN0b3Jlcy4gQWxsIGZpbGUgc3RvcmVzIHNob3VsZCBleHRlbmQgdGhpc1xuICogY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlRmlsZVN0b3JlIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIGVudGl0eSBzdG9yZXMuIEFsbCBlbnRpdHkgc3RvcmVzIHNob3VsZCBleHRlbmQgdGhpc1xuICogY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlRW50aXR5U3RvcmUgZXh0ZW5kcyBTZXJpYWxpemFibGUge1xufVxuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyBmb3IgYSBkb2N1bWVudCBzdG9yZS4gQWxsIGRvY3VtZW50IHN0b3JlcyBzaG91bGQgZXh0ZW5kXG4gKiB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgRG9jc3RvcmUge1xufVxuIiwiLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGdlbmVyYXRlcyBhbiBlbmRwb2ludCBVUkwgZm9yIChBenVyZSkgT3BlbkFJXG4gKiBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHByb3ZpZGVkLlxuICpcbiAqIEBwYXJhbSB7T3BlbkFJRW5kcG9pbnRDb25maWd9IGNvbmZpZyAtIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBmb3IgdGhlIChBenVyZSkgZW5kcG9pbnQuXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvbmZpZy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lIC0gVGhlIGRlcGxveW1lbnQgbmFtZSBvZiBBenVyZSBPcGVuQUkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lIC0gVGhlIGluc3RhbmNlIG5hbWUgb2YgQXp1cmUgT3BlbkFJLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvbmZpZy5henVyZU9wZW5BSUFwaUtleSAtIFRoZSBBUEkgS2V5IGZvciBBenVyZSBPcGVuQUkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmF6dXJlT3BlbkFJQmFzZVBhdGggLSBUaGUgYmFzZSBwYXRoIGZvciBBenVyZSBPcGVuQUkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmJhc2VVUkwgLSBTb21lIG90aGVyIGN1c3RvbSBiYXNlIHBhdGggVVJMLlxuICpcbiAqIFRoZSBmdW5jdGlvbiBvcGVyYXRlcyBhcyBmb2xsb3dzOlxuICogLSBJZiBib3RoIGBhenVyZU9wZW5BSUJhc2VQYXRoYCBhbmQgYGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVgIChwbHVzIGBhenVyZU9wZW5BSUFwaUtleWApIGFyZSBwcm92aWRlZCwgaXQgcmV0dXJucyBhbiBVUkwgY29tYmluaW5nIHRoZXNlIHR3byBwYXJhbWV0ZXJzIChgJHthenVyZU9wZW5BSUJhc2VQYXRofS8ke2F6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWV9YCkuXG4gKiAtIElmIGBhenVyZU9wZW5BSUFwaUtleWAgaXMgcHJvdmlkZWQsIGl0IGNoZWNrcyBmb3IgYGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lYCBhbmQgYGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVgIGFuZCB0aHJvd3MgYW4gZXJyb3IgaWYgYW55IG9mIHRoZXNlIGlzIG1pc3NpbmcuIElmIGJvdGggYXJlIHByb3ZpZGVkLCBpdCBnZW5lcmF0ZXMgYW4gVVJMIGluY29ycG9yYXRpbmcgdGhlc2UgcGFyYW1ldGVycy5cbiAqIC0gSWYgbm9uZSBvZiB0aGUgYWJvdmUgY29uZGl0aW9ucyBhcmUgbWV0LCByZXR1cm4gYW55IGN1c3RvbSBgYmFzZVVSTGAuXG4gKiAtIFRoZSBmdW5jdGlvbiByZXR1cm5zIHRoZSBnZW5lcmF0ZWQgVVJMIGFzIGEgc3RyaW5nLCBvciB1bmRlZmluZWQgaWYgbm8gY3VzdG9tIHBhdGhzIGFyZSBzcGVjaWZpZWQuXG4gKlxuICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBuZWNlc3NhcnkgcGFyYW1ldGVycyBmb3IgZ2VuZXJhdGluZyB0aGUgVVJMIGFyZSBtaXNzaW5nLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmcgfCB1bmRlZmluZWR9IFRoZSBnZW5lcmF0ZWQgKEF6dXJlKSBPcGVuQUkgZW5kcG9pbnQgVVJMLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5kcG9pbnQoY29uZmlnKSB7XG4gICAgY29uc3QgeyBhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lLCBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSwgYXp1cmVPcGVuQUlBcGlLZXksIGF6dXJlT3BlbkFJQmFzZVBhdGgsIGJhc2VVUkwsIH0gPSBjb25maWc7XG4gICAgaWYgKGF6dXJlT3BlbkFJQXBpS2V5ICYmXG4gICAgICAgIGF6dXJlT3BlbkFJQmFzZVBhdGggJiZcbiAgICAgICAgYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkge1xuICAgICAgICByZXR1cm4gYCR7YXp1cmVPcGVuQUlCYXNlUGF0aH0vJHthenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lfWA7XG4gICAgfVxuICAgIGlmIChhenVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICBpZiAoIWF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSBpcyByZXF1aXJlZCB3aGVuIHVzaW5nIGF6dXJlT3BlbkFJQXBpS2V5XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSBpcyBhIHJlcXVpcmVkIHBhcmFtZXRlciB3aGVuIHVzaW5nIGF6dXJlT3BlbkFJQXBpS2V5XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgaHR0cHM6Ly8ke2F6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lfS5vcGVuYWkuYXp1cmUuY29tL29wZW5haS9kZXBsb3ltZW50cy8ke2F6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWV9YDtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2VVUkw7XG59XG4iLCJleHBvcnQgY29uc3QgY2h1bmtBcnJheSA9IChhcnIsIGNodW5rU2l6ZSkgPT4gYXJyLnJlZHVjZSgoY2h1bmtzLCBlbGVtLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGNodW5rSW5kZXggPSBNYXRoLmZsb29yKGluZGV4IC8gY2h1bmtTaXplKTtcbiAgICBjb25zdCBjaHVuayA9IGNodW5rc1tjaHVua0luZGV4XSB8fCBbXTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBjaHVua3NbY2h1bmtJbmRleF0gPSBjaHVuay5jb25jYXQoW2VsZW1dKTtcbiAgICByZXR1cm4gY2h1bmtzO1xufSwgW10pO1xuIiwiLy8gRGVmYXVsdCBnZW5lcmljIFwiYW55XCIgdmFsdWVzIGFyZSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4vLyBSZXBsYWNlIHdpdGggXCJzdHJpbmdcIiB3aGVuIHdlIGFyZSBjb21mb3J0YWJsZSB3aXRoIGEgYnJlYWtpbmcgY2hhbmdlLlxuaW1wb3J0IHsgQmFzZVByb21wdFZhbHVlLCBIdW1hbk1lc3NhZ2UsIH0gZnJvbSBcIi4uL3NjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgU2VyaWFsaXphYmxlIH0gZnJvbSBcIi4uL2xvYWQvc2VyaWFsaXphYmxlLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuLi9zY2hlbWEvcnVubmFibGUvaW5kZXguanNcIjtcbi8qKlxuICogUmVwcmVzZW50cyBhIHByb21wdCB2YWx1ZSBhcyBhIHN0cmluZy4gSXQgZXh0ZW5kcyB0aGUgQmFzZVByb21wdFZhbHVlXG4gKiBjbGFzcyBhbmQgb3ZlcnJpZGVzIHRoZSB0b1N0cmluZyBhbmQgdG9DaGF0TWVzc2FnZXMgbWV0aG9kcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmluZ1Byb21wdFZhbHVlIGV4dGVuZHMgQmFzZVByb21wdFZhbHVlIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInByb21wdHNcIiwgXCJiYXNlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2YWx1ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgdG9DaGF0TWVzc2FnZXMoKSB7XG4gICAgICAgIHJldHVybiBbbmV3IEh1bWFuTWVzc2FnZSh0aGlzLnZhbHVlKV07XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBwcm9tcHQgdGVtcGxhdGVzLiBFeHBvc2VzIGEgZm9ybWF0IG1ldGhvZCB0aGF0IHJldHVybnMgYVxuICogc3RyaW5nIHByb21wdCBnaXZlbiBhIHNldCBvZiBpbnB1dCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlUHJvbXB0VGVtcGxhdGUgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgZ2V0IGxjX2F0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXJ0aWFsVmFyaWFibGVzOiB1bmRlZmluZWQsIC8vIHB5dGhvbiBkb2Vzbid0IHN1cHBvcnQgdGhpcyB5ZXRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoaW5wdXQpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwicHJvbXB0c1wiLCB0aGlzLl9nZXRQcm9tcHRUeXBlKCldXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dFZhcmlhYmxlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvdXRwdXRQYXJzZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGFydGlhbFZhcmlhYmxlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB7IGlucHV0VmFyaWFibGVzIH0gPSBpbnB1dDtcbiAgICAgICAgaWYgKGlucHV0VmFyaWFibGVzLmluY2x1ZGVzKFwic3RvcFwiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGhhdmUgYW4gaW5wdXQgdmFyaWFibGUgbmFtZWQgJ3N0b3AnLCBhcyBpdCBpcyB1c2VkIGludGVybmFsbHksIHBsZWFzZSByZW5hbWUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgaW5wdXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgcGFydGlhbCB2YXJpYWJsZXMgYW5kIHVzZXIgdmFyaWFibGVzLlxuICAgICAqIEBwYXJhbSB1c2VyVmFyaWFibGVzIFRoZSB1c2VyIHZhcmlhYmxlcyB0byBtZXJnZSB3aXRoIHRoZSBwYXJ0aWFsIHZhcmlhYmxlcy5cbiAgICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgbWVyZ2VkIHZhcmlhYmxlcy5cbiAgICAgKi9cbiAgICBhc3luYyBtZXJnZVBhcnRpYWxBbmRVc2VyVmFyaWFibGVzKHVzZXJWYXJpYWJsZXMpIHtcbiAgICAgICAgY29uc3QgcGFydGlhbFZhcmlhYmxlcyA9IHRoaXMucGFydGlhbFZhcmlhYmxlcyA/PyB7fTtcbiAgICAgICAgY29uc3QgcGFydGlhbFZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJ0aWFsVmFyaWFibGVzKSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxWYWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbFZhbHVlc1trZXldID0gYXdhaXQgdmFsdWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbGxLd2FyZ3MgPSB7XG4gICAgICAgICAgICAuLi5wYXJ0aWFsVmFsdWVzLFxuICAgICAgICAgICAgLi4udXNlclZhcmlhYmxlcyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGFsbEt3YXJncztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgcHJvbXB0IHRlbXBsYXRlIHdpdGggdGhlIGdpdmVuIGlucHV0IGFuZCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdG8gaW52b2tlIHRoZSBwcm9tcHQgdGVtcGxhdGUgd2l0aC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgY2FsbGJhY2suXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCBvZiB0aGUgcHJvbXB0IHRlbXBsYXRlLlxuICAgICAqL1xuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoKGlucHV0KSA9PiB0aGlzLmZvcm1hdFByb21wdFZhbHVlKGlucHV0KSwgaW5wdXQsIHsgLi4ub3B0aW9ucywgcnVuVHlwZTogXCJwcm9tcHRcIiB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEganNvbi1saWtlIG9iamVjdCByZXByZXNlbnRpbmcgdGhpcyBwcm9tcHQgdGVtcGxhdGUuXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZSAudG9KU09OKCkgaW5zdGVhZFwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBMb2FkIGEgcHJvbXB0IHRlbXBsYXRlIGZyb20gYSBqc29uLWxpa2Ugb2JqZWN0IGRlc2NyaWJpbmcgaXQuXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIERlc2VyaWFsaXppbmcgbmVlZHMgdG8gYmUgYXN5bmMgYmVjYXVzZSB0ZW1wbGF0ZXMgKGUuZy4ge0BsaW5rIEZld1Nob3RQcm9tcHRUZW1wbGF0ZX0pIGNhblxuICAgICAqIHJlZmVyZW5jZSByZW1vdGUgcmVzb3VyY2VzIHRoYXQgd2UgcmVhZCBhc3luY2hyb25vdXNseSB3aXRoIGEgd2ViXG4gICAgICogcmVxdWVzdC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBzd2l0Y2ggKGRhdGEuX3R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwcm9tcHRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgUHJvbXB0VGVtcGxhdGUgfSA9IGF3YWl0IGltcG9ydChcIi4vcHJvbXB0LmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9tcHRUZW1wbGF0ZS5kZXNlcmlhbGl6ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBQcm9tcHRUZW1wbGF0ZSB9ID0gYXdhaXQgaW1wb3J0KFwiLi9wcm9tcHQuanNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21wdFRlbXBsYXRlLmRlc2VyaWFsaXplKHsgLi4uZGF0YSwgX3R5cGU6IFwicHJvbXB0XCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiZmV3X3Nob3RcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgRmV3U2hvdFByb21wdFRlbXBsYXRlIH0gPSBhd2FpdCBpbXBvcnQoXCIuL2Zld19zaG90LmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBGZXdTaG90UHJvbXB0VGVtcGxhdGUuZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwcm9tcHQgdHlwZSBpbiBjb25maWc6ICR7ZGF0YS5fdHlwZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3Igc3RyaW5nIHByb21wdCB0ZW1wbGF0ZXMuIEl0IGV4dGVuZHMgdGhlXG4gKiBCYXNlUHJvbXB0VGVtcGxhdGUgY2xhc3MgYW5kIG92ZXJyaWRlcyB0aGUgZm9ybWF0UHJvbXB0VmFsdWUgbWV0aG9kIHRvXG4gKiByZXR1cm4gYSBTdHJpbmdQcm9tcHRWYWx1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VQcm9tcHRUZW1wbGF0ZSB7XG4gICAgLyoqXG4gICAgICogRm9ybWF0cyB0aGUgcHJvbXB0IGdpdmVuIHRoZSBpbnB1dCB2YWx1ZXMgYW5kIHJldHVybnMgYSBmb3JtYXR0ZWRcbiAgICAgKiBwcm9tcHQgdmFsdWUuXG4gICAgICogQHBhcmFtIHZhbHVlcyBUaGUgaW5wdXQgdmFsdWVzIHRvIGZvcm1hdCB0aGUgcHJvbXB0LlxuICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgZm9ybWF0dGVkIHByb21wdCB2YWx1ZS5cbiAgICAgKi9cbiAgICBhc3luYyBmb3JtYXRQcm9tcHRWYWx1ZSh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkUHJvbXB0ID0gYXdhaXQgdGhpcy5mb3JtYXQodmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTdHJpbmdQcm9tcHRWYWx1ZShmb3JtYXR0ZWRQcm9tcHQpO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgZXhhbXBsZSBzZWxlY3RvcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlRXhhbXBsZVNlbGVjdG9yIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJwcm9tcHRzXCIsIFwic2VsZWN0b3JzXCJdXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBwYXJzZUZTdHJpbmcgPSAodGVtcGxhdGUpID0+IHtcbiAgICAvLyBDb3JlIGxvZ2ljIHJlcGxpY2F0ZWQgZnJvbSBpbnRlcm5hbHMgb2YgcHl0aG9ucyBidWlsdCBpbiBGb3JtYXR0ZXIgY2xhc3MuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3B5dGhvbi9jcHl0aG9uL2Jsb2IvMTM1ZWM3Y2VmYmFmZmQ1MTZiNzczNjJhZDJiMmFkMTAyNWFmNDYyZS9PYmplY3RzL3N0cmluZ2xpYi91bmljb2RlX2Zvcm1hdC5oI0w3MDAtTDcwNlxuICAgIGNvbnN0IGNoYXJzID0gdGVtcGxhdGUuc3BsaXQoXCJcIik7XG4gICAgY29uc3Qgbm9kZXMgPSBbXTtcbiAgICBjb25zdCBuZXh0QnJhY2tldCA9IChicmFja2V0LCBzdGFydCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGFycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKGJyYWNrZXQuaW5jbHVkZXMoY2hhcnNbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgY2hhcnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChjaGFyc1tpXSA9PT0gXCJ7XCIgJiYgaSArIDEgPCBjaGFycy5sZW5ndGggJiYgY2hhcnNbaSArIDFdID09PSBcIntcIikge1xuICAgICAgICAgICAgbm9kZXMucHVzaCh7IHR5cGU6IFwibGl0ZXJhbFwiLCB0ZXh0OiBcIntcIiB9KTtcbiAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFyc1tpXSA9PT0gXCJ9XCIgJiZcbiAgICAgICAgICAgIGkgKyAxIDwgY2hhcnMubGVuZ3RoICYmXG4gICAgICAgICAgICBjaGFyc1tpICsgMV0gPT09IFwifVwiKSB7XG4gICAgICAgICAgICBub2Rlcy5wdXNoKHsgdHlwZTogXCJsaXRlcmFsXCIsIHRleHQ6IFwifVwiIH0pO1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoYXJzW2ldID09PSBcIntcIikge1xuICAgICAgICAgICAgY29uc3QgaiA9IG5leHRCcmFja2V0KFwifVwiLCBpKTtcbiAgICAgICAgICAgIGlmIChqIDwgMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuY2xvc2VkICd7JyBpbiB0ZW1wbGF0ZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2Rlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInZhcmlhYmxlXCIsXG4gICAgICAgICAgICAgICAgbmFtZTogY2hhcnMuc2xpY2UoaSArIDEsIGopLmpvaW4oXCJcIiksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGkgPSBqICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFyc1tpXSA9PT0gXCJ9XCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNpbmdsZSAnfScgaW4gdGVtcGxhdGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5leHRCcmFja2V0KFwie31cIiwgaSk7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gKG5leHQgPCAwID8gY2hhcnMuc2xpY2UoaSkgOiBjaGFycy5zbGljZShpLCBuZXh0KSkuam9pbihcIlwiKTtcbiAgICAgICAgICAgIG5vZGVzLnB1c2goeyB0eXBlOiBcImxpdGVyYWxcIiwgdGV4dCB9KTtcbiAgICAgICAgICAgIGkgPSBuZXh0IDwgMCA/IGNoYXJzLmxlbmd0aCA6IG5leHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVzO1xufTtcbmV4cG9ydCBjb25zdCBpbnRlcnBvbGF0ZUZTdHJpbmcgPSAodGVtcGxhdGUsIHZhbHVlcykgPT4gcGFyc2VGU3RyaW5nKHRlbXBsYXRlKS5yZWR1Y2UoKHJlcywgbm9kZSkgPT4ge1xuICAgIGlmIChub2RlLnR5cGUgPT09IFwidmFyaWFibGVcIikge1xuICAgICAgICBpZiAobm9kZS5uYW1lIGluIHZhbHVlcykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcyArIHZhbHVlc1tub2RlLm5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyB2YWx1ZSBmb3IgaW5wdXQgJHtub2RlLm5hbWV9YCk7XG4gICAgfVxuICAgIHJldHVybiByZXMgKyBub2RlLnRleHQ7XG59LCBcIlwiKTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HID0ge1xuICAgIFwiZi1zdHJpbmdcIjogaW50ZXJwb2xhdGVGU3RyaW5nLFxufTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1BBUlNFUl9NQVBQSU5HID0ge1xuICAgIFwiZi1zdHJpbmdcIjogcGFyc2VGU3RyaW5nLFxufTtcbmV4cG9ydCBjb25zdCByZW5kZXJUZW1wbGF0ZSA9ICh0ZW1wbGF0ZSwgdGVtcGxhdGVGb3JtYXQsIGlucHV0VmFsdWVzKSA9PiBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HW3RlbXBsYXRlRm9ybWF0XSh0ZW1wbGF0ZSwgaW5wdXRWYWx1ZXMpO1xuZXhwb3J0IGNvbnN0IHBhcnNlVGVtcGxhdGUgPSAodGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0KSA9PiBERUZBVUxUX1BBUlNFUl9NQVBQSU5HW3RlbXBsYXRlRm9ybWF0XSh0ZW1wbGF0ZSk7XG5leHBvcnQgY29uc3QgY2hlY2tWYWxpZFRlbXBsYXRlID0gKHRlbXBsYXRlLCB0ZW1wbGF0ZUZvcm1hdCwgaW5wdXRWYXJpYWJsZXMpID0+IHtcbiAgICBpZiAoISh0ZW1wbGF0ZUZvcm1hdCBpbiBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HKSkge1xuICAgICAgICBjb25zdCB2YWxpZEZvcm1hdHMgPSBPYmplY3Qua2V5cyhERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRlbXBsYXRlIGZvcm1hdC4gR290IFxcYCR7dGVtcGxhdGVGb3JtYXR9XFxgO1xuICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZCBiZSBvbmUgb2YgJHt2YWxpZEZvcm1hdHN9YCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGR1bW15SW5wdXRzID0gaW5wdXRWYXJpYWJsZXMucmVkdWNlKChhY2MsIHYpID0+IHtcbiAgICAgICAgICAgIGFjY1t2XSA9IFwiZm9vXCI7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHJlbmRlclRlbXBsYXRlKHRlbXBsYXRlLCB0ZW1wbGF0ZUZvcm1hdCwgZHVtbXlJbnB1dHMpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcHJvbXB0IHNjaGVtYTogJHtlLm1lc3NhZ2V9YCk7XG4gICAgfVxufTtcbiIsIi8vIERlZmF1bHQgZ2VuZXJpYyBcImFueVwiIHZhbHVlcyBhcmUgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuLy8gUmVwbGFjZSB3aXRoIFwic3RyaW5nXCIgd2hlbiB3ZSBhcmUgY29tZm9ydGFibGUgd2l0aCBhIGJyZWFraW5nIGNoYW5nZS5cbmltcG9ydCB7IEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSwgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBjaGVja1ZhbGlkVGVtcGxhdGUsIHBhcnNlVGVtcGxhdGUsIHJlbmRlclRlbXBsYXRlLCB9IGZyb20gXCIuL3RlbXBsYXRlLmpzXCI7XG4vKipcbiAqIFNjaGVtYSB0byByZXByZXNlbnQgYSBiYXNpYyBwcm9tcHQgZm9yIGFuIExMTS5cbiAqIEBhdWdtZW50cyBCYXNlUHJvbXB0VGVtcGxhdGVcbiAqIEBhdWdtZW50cyBQcm9tcHRUZW1wbGF0ZUlucHV0XG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCJsYW5nY2hhaW4vcHJvbXB0c1wiO1xuICpcbiAqIGNvbnN0IHByb21wdCA9IG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gKiAgIGlucHV0VmFyaWFibGVzOiBbXCJmb29cIl0sXG4gKiAgIHRlbXBsYXRlOiBcIlNheSB7Zm9vfVwiLFxuICogfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFByb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUHJvbXB0VGVtcGxhdGVcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoaW5wdXQpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZW1wbGF0ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZW1wbGF0ZUZvcm1hdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJmLXN0cmluZ1wiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2YWxpZGF0ZVRlbXBsYXRlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGlucHV0KTtcbiAgICAgICAgaWYgKHRoaXMudmFsaWRhdGVUZW1wbGF0ZSkge1xuICAgICAgICAgICAgbGV0IHRvdGFsSW5wdXRWYXJpYWJsZXMgPSB0aGlzLmlucHV0VmFyaWFibGVzO1xuICAgICAgICAgICAgaWYgKHRoaXMucGFydGlhbFZhcmlhYmxlcykge1xuICAgICAgICAgICAgICAgIHRvdGFsSW5wdXRWYXJpYWJsZXMgPSB0b3RhbElucHV0VmFyaWFibGVzLmNvbmNhdChPYmplY3Qua2V5cyh0aGlzLnBhcnRpYWxWYXJpYWJsZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoZWNrVmFsaWRUZW1wbGF0ZSh0aGlzLnRlbXBsYXRlLCB0aGlzLnRlbXBsYXRlRm9ybWF0LCB0b3RhbElucHV0VmFyaWFibGVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZ2V0UHJvbXB0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwicHJvbXB0XCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcm1hdHMgdGhlIHByb21wdCB0ZW1wbGF0ZSB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIGJlIHVzZWQgdG8gZm9ybWF0IHRoZSBwcm9tcHQgdGVtcGxhdGUuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBzdHJpbmcgd2hpY2ggaXMgdGhlIGZvcm1hdHRlZCBwcm9tcHQuXG4gICAgICovXG4gICAgYXN5bmMgZm9ybWF0KHZhbHVlcykge1xuICAgICAgICBjb25zdCBhbGxWYWx1ZXMgPSBhd2FpdCB0aGlzLm1lcmdlUGFydGlhbEFuZFVzZXJWYXJpYWJsZXModmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMudGVtcGxhdGVGb3JtYXQsIGFsbFZhbHVlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRha2UgZXhhbXBsZXMgaW4gbGlzdCBmb3JtYXQgd2l0aCBwcmVmaXggYW5kIHN1ZmZpeCB0byBjcmVhdGUgYSBwcm9tcHQuXG4gICAgICpcbiAgICAgKiBJbnRlbmRlZCB0byBiZSB1c2VkIGEgYSB3YXkgdG8gZHluYW1pY2FsbHkgY3JlYXRlIGEgcHJvbXB0IGZyb20gZXhhbXBsZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXhhbXBsZXMgLSBMaXN0IG9mIGV4YW1wbGVzIHRvIHVzZSBpbiB0aGUgcHJvbXB0LlxuICAgICAqIEBwYXJhbSBzdWZmaXggLSBTdHJpbmcgdG8gZ28gYWZ0ZXIgdGhlIGxpc3Qgb2YgZXhhbXBsZXMuIFNob3VsZCBnZW5lcmFsbHkgc2V0IHVwIHRoZSB1c2VyJ3MgaW5wdXQuXG4gICAgICogQHBhcmFtIGlucHV0VmFyaWFibGVzIC0gQSBsaXN0IG9mIHZhcmlhYmxlIG5hbWVzIHRoZSBmaW5hbCBwcm9tcHQgdGVtcGxhdGUgd2lsbCBleHBlY3RcbiAgICAgKiBAcGFyYW0gZXhhbXBsZVNlcGFyYXRvciAtIFRoZSBzZXBhcmF0b3IgdG8gdXNlIGluIGJldHdlZW4gZXhhbXBsZXNcbiAgICAgKiBAcGFyYW0gcHJlZml4IC0gU3RyaW5nIHRoYXQgc2hvdWxkIGdvIGJlZm9yZSBhbnkgZXhhbXBsZXMuIEdlbmVyYWxseSBpbmNsdWRlcyBleGFtcGxlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBmaW5hbCBwcm9tcHQgdGVtcGxhdGUgZ2VuZXJhdGVkLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tRXhhbXBsZXMoZXhhbXBsZXMsIHN1ZmZpeCwgaW5wdXRWYXJpYWJsZXMsIGV4YW1wbGVTZXBhcmF0b3IgPSBcIlxcblxcblwiLCBwcmVmaXggPSBcIlwiKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gW3ByZWZpeCwgLi4uZXhhbXBsZXMsIHN1ZmZpeF0uam9pbihleGFtcGxlU2VwYXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgICAgICAgICBpbnB1dFZhcmlhYmxlcyxcbiAgICAgICAgICAgIHRlbXBsYXRlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZCBwcm9tcHQgdGVtcGxhdGUgZnJvbSBhIHRlbXBsYXRlIGYtc3RyaW5nXG4gICAgICovXG4gICAgc3RhdGljIGZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgeyB0ZW1wbGF0ZUZvcm1hdCA9IFwiZi1zdHJpbmdcIiwgLi4ucmVzdCB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgbmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHBhcnNlVGVtcGxhdGUodGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0KS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAobm9kZS50eXBlID09PSBcInZhcmlhYmxlXCIpIHtcbiAgICAgICAgICAgICAgICBuYW1lcy5hZGQobm9kZS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuICAgICAgICAgICAgLy8gUmVseSBvbiBleHRyYWN0ZWQgdHlwZXNcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBpbnB1dFZhcmlhYmxlczogWy4uLm5hbWVzXSxcbiAgICAgICAgICAgIHRlbXBsYXRlRm9ybWF0LFxuICAgICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFydGlhbGx5IGFwcGxpZXMgdmFsdWVzIHRvIHRoZSBwcm9tcHQgdGVtcGxhdGUuXG4gICAgICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkIHRvIHRoZSBwcm9tcHQgdGVtcGxhdGUuXG4gICAgICogQHJldHVybnMgQSBuZXcgaW5zdGFuY2Ugb2YgUHJvbXB0VGVtcGxhdGUgd2l0aCB0aGUgcGFydGlhbGx5IGFwcGxpZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGFzeW5jIHBhcnRpYWwodmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IG5ld0lucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcy5maWx0ZXIoKGl2KSA9PiAhKGl2IGluIHZhbHVlcykpO1xuICAgICAgICBjb25zdCBuZXdQYXJ0aWFsVmFyaWFibGVzID0ge1xuICAgICAgICAgICAgLi4uKHRoaXMucGFydGlhbFZhcmlhYmxlcyA/PyB7fSksXG4gICAgICAgICAgICAuLi52YWx1ZXMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHByb21wdERpY3QgPSB7XG4gICAgICAgICAgICAuLi50aGlzLFxuICAgICAgICAgICAgaW5wdXRWYXJpYWJsZXM6IG5ld0lucHV0VmFyaWFibGVzLFxuICAgICAgICAgICAgcGFydGlhbFZhcmlhYmxlczogbmV3UGFydGlhbFZhcmlhYmxlcyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9tcHRUZW1wbGF0ZShwcm9tcHREaWN0KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICBpZiAodGhpcy5vdXRwdXRQYXJzZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNlcmlhbGl6ZSBhIHByb21wdCB0ZW1wbGF0ZSB3aXRoIGFuIG91dHB1dCBwYXJzZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9nZXRQcm9tcHRUeXBlKCksXG4gICAgICAgICAgICBpbnB1dF92YXJpYWJsZXM6IHRoaXMuaW5wdXRWYXJpYWJsZXMsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlX2Zvcm1hdDogdGhpcy50ZW1wbGF0ZUZvcm1hdCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhLnRlbXBsYXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm9tcHQgdGVtcGxhdGUgbXVzdCBoYXZlIGEgdGVtcGxhdGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzID0gbmV3IFByb21wdFRlbXBsYXRlKHtcbiAgICAgICAgICAgIGlucHV0VmFyaWFibGVzOiBkYXRhLmlucHV0X3ZhcmlhYmxlcyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBkYXRhLnRlbXBsYXRlLFxuICAgICAgICAgICAgdGVtcGxhdGVGb3JtYXQ6IGRhdGEudGVtcGxhdGVfZm9ybWF0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG59XG4iLCIvLyBEZWZhdWx0IGdlbmVyaWMgXCJhbnlcIiB2YWx1ZXMgYXJlIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbi8vIFJlcGxhY2Ugd2l0aCBcInN0cmluZ1wiIHdoZW4gd2UgYXJlIGNvbWZvcnRhYmxlIHdpdGggYSBicmVha2luZyBjaGFuZ2UuXG5pbXBvcnQgeyBnZXRCdWZmZXJTdHJpbmcgfSBmcm9tIFwiLi4vbWVtb3J5L2Jhc2UuanNcIjtcbmltcG9ydCB7IEFJTWVzc2FnZSwgQmFzZU1lc3NhZ2UsIEJhc2VQcm9tcHRWYWx1ZSwgQ2hhdE1lc3NhZ2UsIEh1bWFuTWVzc2FnZSwgU3lzdGVtTWVzc2FnZSwgY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UsIGlzQmFzZU1lc3NhZ2UsIH0gZnJvbSBcIi4uL3NjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGUgfSBmcm9tIFwiLi4vc2NoZW1hL3J1bm5hYmxlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYXNlUHJvbXB0VGVtcGxhdGUsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9wcm9tcHQuanNcIjtcbi8qKlxuICogQWJzdHJhY3QgY2xhc3MgdGhhdCBzZXJ2ZXMgYXMgYSBiYXNlIGZvciBjcmVhdGluZyBtZXNzYWdlIHByb21wdFxuICogdGVtcGxhdGVzLiBJdCBkZWZpbmVzIGhvdyB0byBmb3JtYXQgbWVzc2FnZXMgZm9yIGRpZmZlcmVudCByb2xlcyBpbiBhXG4gKiBjb252ZXJzYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlIGV4dGVuZHMgUnVubmFibGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInByb21wdHNcIiwgXCJjaGF0XCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBmb3JtYXRNZXNzYWdlcyBtZXRob2Qgd2l0aCB0aGUgcHJvdmlkZWQgaW5wdXQgYW5kIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIGlucHV0IElucHV0IGZvciB0aGUgZm9ybWF0TWVzc2FnZXMgbWV0aG9kXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgQmFzZUNhbGxiYWNrQ29uZmlnXG4gICAgICogQHJldHVybnMgRm9ybWF0dGVkIG91dHB1dCBtZXNzYWdlc1xuICAgICAqL1xuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoKGlucHV0KSA9PiB0aGlzLmZvcm1hdE1lc3NhZ2VzKGlucHV0KSwgaW5wdXQsIHsgLi4ub3B0aW9ucywgcnVuVHlwZTogXCJwcm9tcHRcIiB9KTtcbiAgICB9XG59XG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIGNoYXQgcHJvbXB0IHZhbHVlLiBJdCBleHRlbmRzIHRoZVxuICogQmFzZVByb21wdFZhbHVlIGFuZCBpbmNsdWRlcyBhbiBhcnJheSBvZiBCYXNlTWVzc2FnZSBpbnN0YW5jZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGF0UHJvbXB0VmFsdWUgZXh0ZW5kcyBCYXNlUHJvbXB0VmFsdWUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJDaGF0UHJvbXB0VmFsdWVcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZpZWxkcykpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgZmllbGRzID0geyBtZXNzYWdlczogZmllbGRzIH07XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJwcm9tcHRzXCIsIFwiY2hhdFwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXNzYWdlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzID0gZmllbGRzLm1lc3NhZ2VzO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGdldEJ1ZmZlclN0cmluZyh0aGlzLm1lc3NhZ2VzKTtcbiAgICB9XG4gICAgdG9DaGF0TWVzc2FnZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VzO1xuICAgIH1cbn1cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgcGxhY2Vob2xkZXIgZm9yIG1lc3NhZ2VzIGluIGEgY2hhdCBwcm9tcHQuIEl0XG4gKiBleHRlbmRzIHRoZSBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgTWVzc2FnZXNQbGFjZWhvbGRlciBleHRlbmRzIEJhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJNZXNzYWdlc1BsYWNlaG9sZGVyXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBpZiAodHlwZW9mIGZpZWxkcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgICBmaWVsZHMgPSB7IHZhcmlhYmxlTmFtZTogZmllbGRzIH07XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmFyaWFibGVOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmFyaWFibGVOYW1lID0gZmllbGRzLnZhcmlhYmxlTmFtZTtcbiAgICB9XG4gICAgZ2V0IGlucHV0VmFyaWFibGVzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMudmFyaWFibGVOYW1lXTtcbiAgICB9XG4gICAgdmFsaWRhdGVJbnB1dE9yVGhyb3coaW5wdXQsIHZhcmlhYmxlTmFtZSkge1xuICAgICAgICBsZXQgaXNJbnB1dEJhc2VNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xuICAgICAgICAgICAgaXNJbnB1dEJhc2VNZXNzYWdlID0gaW5wdXQuZXZlcnkoKG1lc3NhZ2UpID0+IGlzQmFzZU1lc3NhZ2UobWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXNJbnB1dEJhc2VNZXNzYWdlID0gaXNCYXNlTWVzc2FnZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0lucHV0QmFzZU1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWRhYmxlSW5wdXQgPSB0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIgPyBpbnB1dCA6IEpTT04uc3RyaW5naWZ5KGlucHV0LCBudWxsLCAyKTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBFcnJvcjogRmllbGQgXCIke3ZhcmlhYmxlTmFtZX1cIiBpbiBwcm9tcHQgdXNlcyBhIE1lc3NhZ2VzUGxhY2Vob2xkZXIsIHdoaWNoIGV4cGVjdHMgYW4gYXJyYXkgb2YgQmFzZU1lc3NhZ2VzIGFzIGFuIGlucHV0IHZhbHVlLiBSZWNlaXZlZDogJHtyZWFkYWJsZUlucHV0fWApO1xuICAgICAgICAgICAgZXJyb3IubmFtZSA9IFwiSW5wdXRGb3JtYXRFcnJvclwiO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGFzeW5jIGZvcm1hdE1lc3NhZ2VzKHZhbHVlcykge1xuICAgICAgICB0aGlzLnZhbGlkYXRlSW5wdXRPclRocm93KHZhbHVlc1t0aGlzLnZhcmlhYmxlTmFtZV0sIHRoaXMudmFyaWFibGVOYW1lKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1t0aGlzLnZhcmlhYmxlTmFtZV07XG4gICAgfVxufVxuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyB0aGF0IHNlcnZlcyBhcyBhIGJhc2UgZm9yIGNyZWF0aW5nIG1lc3NhZ2Ugc3RyaW5nIHByb21wdFxuICogdGVtcGxhdGVzLiBJdCBleHRlbmRzIHRoZSBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBpZiAoIShcInByb21wdFwiIGluIGZpZWxkcykpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgZmllbGRzID0geyBwcm9tcHQ6IGZpZWxkcyB9O1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb21wdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb21wdCA9IGZpZWxkcy5wcm9tcHQ7XG4gICAgfVxuICAgIGdldCBpbnB1dFZhcmlhYmxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbXB0LmlucHV0VmFyaWFibGVzO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXRNZXNzYWdlcyh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIFthd2FpdCB0aGlzLmZvcm1hdCh2YWx1ZXMpXTtcbiAgICB9XG59XG4vKipcbiAqIEFic3RyYWN0IGNsYXNzIHRoYXQgc2VydmVzIGFzIGEgYmFzZSBmb3IgY3JlYXRpbmcgY2hhdCBwcm9tcHRcbiAqIHRlbXBsYXRlcy4gSXQgZXh0ZW5kcyB0aGUgQmFzZVByb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZUNoYXRQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VQcm9tcHRUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoaW5wdXQpO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXQodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiAoYXdhaXQgdGhpcy5mb3JtYXRQcm9tcHRWYWx1ZSh2YWx1ZXMpKS50b1N0cmluZygpO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXRQcm9tcHRWYWx1ZSh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0TWVzc2FnZXMgPSBhd2FpdCB0aGlzLmZvcm1hdE1lc3NhZ2VzKHZhbHVlcyk7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdFByb21wdFZhbHVlKHJlc3VsdE1lc3NhZ2VzKTtcbiAgICB9XG59XG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIGNoYXQgbWVzc2FnZSBwcm9tcHQgdGVtcGxhdGUuIEl0IGV4dGVuZHMgdGhlXG4gKiBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgQ2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VNZXNzYWdlU3RyaW5nUHJvbXB0VGVtcGxhdGUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgcm9sZSkge1xuICAgICAgICBpZiAoIShcInByb21wdFwiIGluIGZpZWxkcykpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbiwgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgZmllbGRzID0geyBwcm9tcHQ6IGZpZWxkcywgcm9sZTogcm9sZSB9O1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJvbGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yb2xlID0gZmllbGRzLnJvbGU7XG4gICAgfVxuICAgIGFzeW5jIGZvcm1hdCh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGF0TWVzc2FnZShhd2FpdCB0aGlzLnByb21wdC5mb3JtYXQodmFsdWVzKSwgdGhpcy5yb2xlKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgcm9sZSkge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHRlbXBsYXRlKSwgcm9sZSk7XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBodW1hbiBtZXNzYWdlIHByb21wdCB0ZW1wbGF0ZS4gSXQgZXh0ZW5kcyB0aGVcbiAqIEJhc2VNZXNzYWdlU3RyaW5nUHJvbXB0VGVtcGxhdGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VNZXNzYWdlU3RyaW5nUHJvbXB0VGVtcGxhdGUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZVwiO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXQodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgSHVtYW5NZXNzYWdlKGF3YWl0IHRoaXMucHJvbXB0LmZvcm1hdCh2YWx1ZXMpKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHRlbXBsYXRlKSk7XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYW4gQUkgbWVzc2FnZSBwcm9tcHQgdGVtcGxhdGUuIEl0IGV4dGVuZHMgdGhlXG4gKiBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGUgZXh0ZW5kcyBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGVcIjtcbiAgICB9XG4gICAgYXN5bmMgZm9ybWF0KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gbmV3IEFJTWVzc2FnZShhd2FpdCB0aGlzLnByb21wdC5mb3JtYXQodmFsdWVzKSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSkpO1xuICAgIH1cbn1cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgc3lzdGVtIG1lc3NhZ2UgcHJvbXB0IHRlbXBsYXRlLiBJdCBleHRlbmRzIHRoZVxuICogQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN5c3RlbU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VNZXNzYWdlU3RyaW5nUHJvbXB0VGVtcGxhdGUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGVcIjtcbiAgICB9XG4gICAgYXN5bmMgZm9ybWF0KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2UoYXdhaXQgdGhpcy5wcm9tcHQuZm9ybWF0KHZhbHVlcykpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUodGVtcGxhdGUpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfaXNCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlKGJhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGVMaWtlKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2VcbiAgICAgICAgLmZvcm1hdE1lc3NhZ2VzID09PSBcImZ1bmN0aW9uXCIpO1xufVxuZnVuY3Rpb24gX2NvZXJjZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2UobWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZSkge1xuICAgIGlmIChfaXNCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlKG1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2UpIHx8XG4gICAgICAgIGlzQmFzZU1lc3NhZ2UobWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZSkpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2U7XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZShtZXNzYWdlUHJvbXB0VGVtcGxhdGVMaWtlKTtcbiAgICBpZiAobWVzc2FnZS5fZ2V0VHlwZSgpID09PSBcImh1bWFuXCIpIHtcbiAgICAgICAgcmV0dXJuIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShtZXNzYWdlLmNvbnRlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwiYWlcIikge1xuICAgICAgICByZXR1cm4gQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKG1lc3NhZ2UuY29udGVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgICByZXR1cm4gU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShtZXNzYWdlLmNvbnRlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChDaGF0TWVzc2FnZS5pc0luc3RhbmNlKG1lc3NhZ2UpKSB7XG4gICAgICAgIHJldHVybiBDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShtZXNzYWdlLmNvbnRlbnQsIG1lc3NhZ2Uucm9sZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgbWVzc2FnZSBwcm9tcHQgdGVtcGxhdGUgZnJvbSBpbnB1dC4gUmVjZWl2ZWQgbWVzc2FnZSB0eXBlOiBcIiR7bWVzc2FnZS5fZ2V0VHlwZSgpfVwiLmApO1xuICAgIH1cbn1cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgY2hhdCBwcm9tcHQuIEl0IGV4dGVuZHMgdGhlXG4gKiBCYXNlQ2hhdFByb21wdFRlbXBsYXRlIGFuZCB1c2VzIGFuIGFycmF5IG9mIEJhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGVcbiAqIGluc3RhbmNlcyB0byBmb3JtYXQgYSBzZXJpZXMgb2YgbWVzc2FnZXMgZm9yIGEgY29udmVyc2F0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQ2hhdFByb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZUNoYXRQcm9tcHRUZW1wbGF0ZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkNoYXRQcm9tcHRUZW1wbGF0ZVwiO1xuICAgIH1cbiAgICBnZXQgbGNfYWxpYXNlcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb21wdE1lc3NhZ2VzOiBcIm1lc3NhZ2VzXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHN1cGVyKGlucHV0KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvbXB0TWVzc2FnZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmFsaWRhdGVUZW1wbGF0ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLnZhbGlkYXRlVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0VmFyaWFibGVzTWVzc2FnZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByb21wdE1lc3NhZ2Ugb2YgdGhpcy5wcm9tcHRNZXNzYWdlcykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgICAgICAgICBpZiAocHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIEJhc2VNZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlucHV0VmFyaWFibGUgb2YgcHJvbXB0TWVzc2FnZS5pbnB1dFZhcmlhYmxlcykge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dFZhcmlhYmxlc01lc3NhZ2VzLmFkZChpbnB1dFZhcmlhYmxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0b3RhbElucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcztcbiAgICAgICAgICAgIGNvbnN0IGlucHV0VmFyaWFibGVzSW5zdGFuY2UgPSBuZXcgU2V0KHRoaXMucGFydGlhbFZhcmlhYmxlc1xuICAgICAgICAgICAgICAgID8gdG90YWxJbnB1dFZhcmlhYmxlcy5jb25jYXQoT2JqZWN0LmtleXModGhpcy5wYXJ0aWFsVmFyaWFibGVzKSlcbiAgICAgICAgICAgICAgICA6IHRvdGFsSW5wdXRWYXJpYWJsZXMpO1xuICAgICAgICAgICAgY29uc3QgZGlmZmVyZW5jZSA9IG5ldyBTZXQoWy4uLmlucHV0VmFyaWFibGVzSW5zdGFuY2VdLmZpbHRlcigoeCkgPT4gIWlucHV0VmFyaWFibGVzTWVzc2FnZXMuaGFzKHgpKSk7XG4gICAgICAgICAgICBpZiAoZGlmZmVyZW5jZS5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5wdXQgdmFyaWFibGVzIFxcYCR7W1xuICAgICAgICAgICAgICAgICAgICAuLi5kaWZmZXJlbmNlLFxuICAgICAgICAgICAgICAgIF19XFxgIGFyZSBub3QgdXNlZCBpbiBhbnkgb2YgdGhlIHByb21wdCBtZXNzYWdlcy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG90aGVyRGlmZmVyZW5jZSA9IG5ldyBTZXQoWy4uLmlucHV0VmFyaWFibGVzTWVzc2FnZXNdLmZpbHRlcigoeCkgPT4gIWlucHV0VmFyaWFibGVzSW5zdGFuY2UuaGFzKHgpKSk7XG4gICAgICAgICAgICBpZiAob3RoZXJEaWZmZXJlbmNlLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCB2YXJpYWJsZXMgXFxgJHtbXG4gICAgICAgICAgICAgICAgICAgIC4uLm90aGVyRGlmZmVyZW5jZSxcbiAgICAgICAgICAgICAgICBdfVxcYCBhcmUgdXNlZCBpbiBwcm9tcHQgbWVzc2FnZXMgYnV0IG5vdCBpbiB0aGUgcHJvbXB0IHRlbXBsYXRlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRQcm9tcHRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJjaGF0XCI7XG4gICAgfVxuICAgIGFzeW5jIGZvcm1hdE1lc3NhZ2VzKHZhbHVlcykge1xuICAgICAgICBjb25zdCBhbGxWYWx1ZXMgPSBhd2FpdCB0aGlzLm1lcmdlUGFydGlhbEFuZFVzZXJWYXJpYWJsZXModmFsdWVzKTtcbiAgICAgICAgbGV0IHJlc3VsdE1lc3NhZ2VzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcHJvbXB0TWVzc2FnZSBvZiB0aGlzLnByb21wdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgICAgICBpZiAocHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIEJhc2VNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0TWVzc2FnZXMucHVzaChwcm9tcHRNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0VmFsdWVzID0gcHJvbXB0TWVzc2FnZS5pbnB1dFZhcmlhYmxlcy5yZWR1Y2UoKGFjYywgaW5wdXRWYXJpYWJsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShpbnB1dFZhcmlhYmxlIGluIGFsbFZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyB2YWx1ZSBmb3IgaW5wdXQgdmFyaWFibGUgXFxgJHtpbnB1dFZhcmlhYmxlLnRvU3RyaW5nKCl9XFxgYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYWNjW2lucHV0VmFyaWFibGVdID0gYWxsVmFsdWVzW2lucHV0VmFyaWFibGVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgcHJvbXB0TWVzc2FnZS5mb3JtYXRNZXNzYWdlcyhpbnB1dFZhbHVlcyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0TWVzc2FnZXMgPSByZXN1bHRNZXNzYWdlcy5jb25jYXQobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdE1lc3NhZ2VzO1xuICAgIH1cbiAgICBhc3luYyBwYXJ0aWFsKHZhbHVlcykge1xuICAgICAgICAvLyBUaGlzIGlzIGltcGxlbWVudGVkIGluIGEgd2F5IGl0IGRvZXNuJ3QgcmVxdWlyZSBtYWtpbmdcbiAgICAgICAgLy8gQmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSBhd2FyZSBvZiAucGFydGlhbCgpXG4gICAgICAgIGNvbnN0IG5ld0lucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcy5maWx0ZXIoKGl2KSA9PiAhKGl2IGluIHZhbHVlcykpO1xuICAgICAgICBjb25zdCBuZXdQYXJ0aWFsVmFyaWFibGVzID0ge1xuICAgICAgICAgICAgLi4uKHRoaXMucGFydGlhbFZhcmlhYmxlcyA/PyB7fSksXG4gICAgICAgICAgICAuLi52YWx1ZXMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHByb21wdERpY3QgPSB7XG4gICAgICAgICAgICAuLi50aGlzLFxuICAgICAgICAgICAgaW5wdXRWYXJpYWJsZXM6IG5ld0lucHV0VmFyaWFibGVzLFxuICAgICAgICAgICAgcGFydGlhbFZhcmlhYmxlczogbmV3UGFydGlhbFZhcmlhYmxlcyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGF0UHJvbXB0VGVtcGxhdGUocHJvbXB0RGljdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGNoYXQgbW9kZWwtc3BlY2lmaWMgcHJvbXB0IGZyb20gaW5kaXZpZHVhbCBjaGF0IG1lc3NhZ2VzXG4gICAgICogb3IgbWVzc2FnZS1saWtlIHR1cGxlcy5cbiAgICAgKiBAcGFyYW0gcHJvbXB0TWVzc2FnZXMgTWVzc2FnZXMgdG8gYmUgcGFzc2VkIHRvIHRoZSBjaGF0IG1vZGVsXG4gICAgICogQHJldHVybnMgQSBuZXcgQ2hhdFByb21wdFRlbXBsYXRlXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzdGF0aWMgZnJvbU1lc3NhZ2VzKHByb21wdE1lc3NhZ2VzKSB7XG4gICAgICAgIGNvbnN0IGZsYXR0ZW5lZE1lc3NhZ2VzID0gcHJvbXB0TWVzc2FnZXMucmVkdWNlKChhY2MsIHByb21wdE1lc3NhZ2UpID0+IGFjYy5jb25jYXQoXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgcHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIENoYXRQcm9tcHRUZW1wbGF0ZVxuICAgICAgICAgICAgPyBwcm9tcHRNZXNzYWdlLnByb21wdE1lc3NhZ2VzXG4gICAgICAgICAgICA6IFtfY29lcmNlTWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZShwcm9tcHRNZXNzYWdlKV0pLCBbXSk7XG4gICAgICAgIGNvbnN0IGZsYXR0ZW5lZFBhcnRpYWxWYXJpYWJsZXMgPSBwcm9tcHRNZXNzYWdlcy5yZWR1Y2UoKGFjYywgcHJvbXB0TWVzc2FnZSkgPT4gXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgcHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIENoYXRQcm9tcHRUZW1wbGF0ZVxuICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKGFjYywgcHJvbXB0TWVzc2FnZS5wYXJ0aWFsVmFyaWFibGVzKVxuICAgICAgICAgICAgOiBhY2MsIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAgICBjb25zdCBpbnB1dFZhcmlhYmxlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBwcm9tcHRNZXNzYWdlIG9mIGZsYXR0ZW5lZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgICAgICBpZiAocHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIEJhc2VNZXNzYWdlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpbnB1dFZhcmlhYmxlIG9mIHByb21wdE1lc3NhZ2UuaW5wdXRWYXJpYWJsZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRWYXJpYWJsZSBpbiBmbGF0dGVuZWRQYXJ0aWFsVmFyaWFibGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnB1dFZhcmlhYmxlcy5hZGQoaW5wdXRWYXJpYWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDaGF0UHJvbXB0VGVtcGxhdGUoe1xuICAgICAgICAgICAgaW5wdXRWYXJpYWJsZXM6IFsuLi5pbnB1dFZhcmlhYmxlc10sXG4gICAgICAgICAgICBwcm9tcHRNZXNzYWdlczogZmxhdHRlbmVkTWVzc2FnZXMsXG4gICAgICAgICAgICBwYXJ0aWFsVmFyaWFibGVzOiBmbGF0dGVuZWRQYXJ0aWFsVmFyaWFibGVzLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFJlbmFtZWQgdG8gLmZyb21NZXNzYWdlcyAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc3RhdGljIGZyb21Qcm9tcHRNZXNzYWdlcyhwcm9tcHRNZXNzYWdlcykge1xuICAgICAgICByZXR1cm4gdGhpcy5mcm9tTWVzc2FnZXMocHJvbXB0TWVzc2FnZXMpO1xuICAgIH1cbn1cbiIsIiFmdW5jdGlvbihlKXt2YXIgdDtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKTooXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz90PXdpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP3Q9Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiYodD1zZWxmKSx0Lm9iamVjdEhhc2g9ZSgpKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gcihvLGksdSl7ZnVuY3Rpb24gcyhuLGUpe2lmKCFpW25dKXtpZighb1tuXSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZSYmdClyZXR1cm4gdChuLCEwKTtpZihhKXJldHVybiBhKG4sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbitcIidcIil9ZT1pW25dPXtleHBvcnRzOnt9fTtvW25dWzBdLmNhbGwoZS5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciB0PW9bbl1bMV1bZV07cmV0dXJuIHModHx8ZSl9LGUsZS5leHBvcnRzLHIsbyxpLHUpfXJldHVybiBpW25dLmV4cG9ydHN9Zm9yKHZhciBhPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsZT0wO2U8dS5sZW5ndGg7ZSsrKXModVtlXSk7cmV0dXJuIHN9KHsxOltmdW5jdGlvbih3LGIsbSl7IWZ1bmN0aW9uKGUsbixzLGMsZCxoLHAsZyx5KXtcInVzZSBzdHJpY3RcIjt2YXIgcj13KFwiY3J5cHRvXCIpO2Z1bmN0aW9uIHQoZSx0KXt0PXUoZSx0KTt2YXIgbjtyZXR1cm4gdm9pZCAwPT09KG49XCJwYXNzdGhyb3VnaFwiIT09dC5hbGdvcml0aG0/ci5jcmVhdGVIYXNoKHQuYWxnb3JpdGhtKTpuZXcgbCkud3JpdGUmJihuLndyaXRlPW4udXBkYXRlLG4uZW5kPW4udXBkYXRlKSxmKHQsbikuZGlzcGF0Y2goZSksbi51cGRhdGV8fG4uZW5kKFwiXCIpLG4uZGlnZXN0P24uZGlnZXN0KFwiYnVmZmVyXCI9PT10LmVuY29kaW5nP3ZvaWQgMDp0LmVuY29kaW5nKTooZT1uLnJlYWQoKSxcImJ1ZmZlclwiIT09dC5lbmNvZGluZz9lLnRvU3RyaW5nKHQuZW5jb2RpbmcpOmUpfShtPWIuZXhwb3J0cz10KS5zaGExPWZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfSxtLmtleXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSx7ZXhjbHVkZVZhbHVlczohMCxhbGdvcml0aG06XCJzaGExXCIsZW5jb2Rpbmc6XCJoZXhcIn0pfSxtLk1ENT1mdW5jdGlvbihlKXtyZXR1cm4gdChlLHthbGdvcml0aG06XCJtZDVcIixlbmNvZGluZzpcImhleFwifSl9LG0ua2V5c01ENT1mdW5jdGlvbihlKXtyZXR1cm4gdChlLHthbGdvcml0aG06XCJtZDVcIixlbmNvZGluZzpcImhleFwiLGV4Y2x1ZGVWYWx1ZXM6ITB9KX07dmFyIG89ci5nZXRIYXNoZXM/ci5nZXRIYXNoZXMoKS5zbGljZSgpOltcInNoYTFcIixcIm1kNVwiXSxpPShvLnB1c2goXCJwYXNzdGhyb3VnaFwiKSxbXCJidWZmZXJcIixcImhleFwiLFwiYmluYXJ5XCIsXCJiYXNlNjRcIl0pO2Z1bmN0aW9uIHUoZSx0KXt2YXIgbj17fTtpZihuLmFsZ29yaXRobT0odD10fHx7fSkuYWxnb3JpdGhtfHxcInNoYTFcIixuLmVuY29kaW5nPXQuZW5jb2Rpbmd8fFwiaGV4XCIsbi5leGNsdWRlVmFsdWVzPSEhdC5leGNsdWRlVmFsdWVzLG4uYWxnb3JpdGhtPW4uYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCksbi5lbmNvZGluZz1uLmVuY29kaW5nLnRvTG93ZXJDYXNlKCksbi5pZ25vcmVVbmtub3duPSEwPT09dC5pZ25vcmVVbmtub3duLG4ucmVzcGVjdFR5cGU9ITEhPT10LnJlc3BlY3RUeXBlLG4ucmVzcGVjdEZ1bmN0aW9uTmFtZXM9ITEhPT10LnJlc3BlY3RGdW5jdGlvbk5hbWVzLG4ucmVzcGVjdEZ1bmN0aW9uUHJvcGVydGllcz0hMSE9PXQucmVzcGVjdEZ1bmN0aW9uUHJvcGVydGllcyxuLnVub3JkZXJlZEFycmF5cz0hMD09PXQudW5vcmRlcmVkQXJyYXlzLG4udW5vcmRlcmVkU2V0cz0hMSE9PXQudW5vcmRlcmVkU2V0cyxuLnVub3JkZXJlZE9iamVjdHM9ITEhPT10LnVub3JkZXJlZE9iamVjdHMsbi5yZXBsYWNlcj10LnJlcGxhY2VyfHx2b2lkIDAsbi5leGNsdWRlS2V5cz10LmV4Y2x1ZGVLZXlzfHx2b2lkIDAsdm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJPYmplY3QgYXJndW1lbnQgcmVxdWlyZWQuXCIpO2Zvcih2YXIgcj0wO3I8by5sZW5ndGg7KytyKW9bcl0udG9Mb3dlckNhc2UoKT09PW4uYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkmJihuLmFsZ29yaXRobT1vW3JdKTtpZigtMT09PW8uaW5kZXhPZihuLmFsZ29yaXRobSkpdGhyb3cgbmV3IEVycm9yKCdBbGdvcml0aG0gXCInK24uYWxnb3JpdGhtKydcIiAgbm90IHN1cHBvcnRlZC4gc3VwcG9ydGVkIHZhbHVlczogJytvLmpvaW4oXCIsIFwiKSk7aWYoLTE9PT1pLmluZGV4T2Yobi5lbmNvZGluZykmJlwicGFzc3Rocm91Z2hcIiE9PW4uYWxnb3JpdGhtKXRocm93IG5ldyBFcnJvcignRW5jb2RpbmcgXCInK24uZW5jb2RpbmcrJ1wiICBub3Qgc3VwcG9ydGVkLiBzdXBwb3J0ZWQgdmFsdWVzOiAnK2kuam9pbihcIiwgXCIpKTtyZXR1cm4gbn1mdW5jdGlvbiBhKGUpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpcmV0dXJuIG51bGwhPS9eZnVuY3Rpb25cXHMrXFx3KlxccypcXChcXHMqXFwpXFxzKntcXHMrXFxbbmF0aXZlIGNvZGVcXF1cXHMrfSQvaS5leGVjKEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKX1mdW5jdGlvbiBmKG8sdCxpKXtpPWl8fFtdO2Z1bmN0aW9uIHUoZSl7cmV0dXJuIHQudXBkYXRlP3QudXBkYXRlKGUsXCJ1dGY4XCIpOnQud3JpdGUoZSxcInV0ZjhcIil9cmV0dXJue2Rpc3BhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzW1wiX1wiKyhudWxsPT09KGU9by5yZXBsYWNlcj9vLnJlcGxhY2VyKGUpOmUpP1wibnVsbFwiOnR5cGVvZiBlKV0oZSl9LF9vYmplY3Q6ZnVuY3Rpb24odCl7dmFyIG4sZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkscj0vXFxbb2JqZWN0ICguKilcXF0vaS5leGVjKGUpO3I9KHI9cj9yWzFdOlwidW5rbm93bjpbXCIrZStcIl1cIikudG9Mb3dlckNhc2UoKTtpZigwPD0oZT1pLmluZGV4T2YodCkpKXJldHVybiB0aGlzLmRpc3BhdGNoKFwiW0NJUkNVTEFSOlwiK2UrXCJdXCIpO2lmKGkucHVzaCh0KSx2b2lkIDAhPT1zJiZzLmlzQnVmZmVyJiZzLmlzQnVmZmVyKHQpKXJldHVybiB1KFwiYnVmZmVyOlwiKSx1KHQpO2lmKFwib2JqZWN0XCI9PT1yfHxcImZ1bmN0aW9uXCI9PT1yfHxcImFzeW5jZnVuY3Rpb25cIj09PXIpcmV0dXJuIGU9T2JqZWN0LmtleXModCksby51bm9yZGVyZWRPYmplY3RzJiYoZT1lLnNvcnQoKSksITE9PT1vLnJlc3BlY3RUeXBlfHxhKHQpfHxlLnNwbGljZSgwLDAsXCJwcm90b3R5cGVcIixcIl9fcHJvdG9fX1wiLFwiY29uc3RydWN0b3JcIiksby5leGNsdWRlS2V5cyYmKGU9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIW8uZXhjbHVkZUtleXMoZSl9KSksdShcIm9iamVjdDpcIitlLmxlbmd0aCtcIjpcIiksbj10aGlzLGUuZm9yRWFjaChmdW5jdGlvbihlKXtuLmRpc3BhdGNoKGUpLHUoXCI6XCIpLG8uZXhjbHVkZVZhbHVlc3x8bi5kaXNwYXRjaCh0W2VdKSx1KFwiLFwiKX0pO2lmKCF0aGlzW1wiX1wiK3JdKXtpZihvLmlnbm9yZVVua25vd24pcmV0dXJuIHUoXCJbXCIrcitcIl1cIik7dGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG9iamVjdCB0eXBlIFwiJytyKydcIicpfXRoaXNbXCJfXCIrcl0odCl9LF9hcnJheTpmdW5jdGlvbihlLHQpe3Q9dm9pZCAwIT09dD90OiExIT09by51bm9yZGVyZWRBcnJheXM7dmFyIG49dGhpcztpZih1KFwiYXJyYXk6XCIrZS5sZW5ndGgrXCI6XCIpLCF0fHxlLmxlbmd0aDw9MSlyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmRpc3BhdGNoKGUpfSk7dmFyIHI9W10sdD1lLm1hcChmdW5jdGlvbihlKXt2YXIgdD1uZXcgbCxuPWkuc2xpY2UoKTtyZXR1cm4gZihvLHQsbikuZGlzcGF0Y2goZSkscj1yLmNvbmNhdChuLnNsaWNlKGkubGVuZ3RoKSksdC5yZWFkKCkudG9TdHJpbmcoKX0pO3JldHVybiBpPWkuY29uY2F0KHIpLHQuc29ydCgpLHRoaXMuX2FycmF5KHQsITEpfSxfZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gdShcImRhdGU6XCIrZS50b0pTT04oKSl9LF9zeW1ib2w6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJzeW1ib2w6XCIrZS50b1N0cmluZygpKX0sX2Vycm9yOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiZXJyb3I6XCIrZS50b1N0cmluZygpKX0sX2Jvb2xlYW46ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJib29sOlwiK2UudG9TdHJpbmcoKSl9LF9zdHJpbmc6ZnVuY3Rpb24oZSl7dShcInN0cmluZzpcIitlLmxlbmd0aCtcIjpcIiksdShlLnRvU3RyaW5nKCkpfSxfZnVuY3Rpb246ZnVuY3Rpb24oZSl7dShcImZuOlwiKSxhKGUpP3RoaXMuZGlzcGF0Y2goXCJbbmF0aXZlXVwiKTp0aGlzLmRpc3BhdGNoKGUudG9TdHJpbmcoKSksITEhPT1vLnJlc3BlY3RGdW5jdGlvbk5hbWVzJiZ0aGlzLmRpc3BhdGNoKFwiZnVuY3Rpb24tbmFtZTpcIitTdHJpbmcoZS5uYW1lKSksby5yZXNwZWN0RnVuY3Rpb25Qcm9wZXJ0aWVzJiZ0aGlzLl9vYmplY3QoZSl9LF9udW1iZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJudW1iZXI6XCIrZS50b1N0cmluZygpKX0sX3htbDpmdW5jdGlvbihlKXtyZXR1cm4gdShcInhtbDpcIitlLnRvU3RyaW5nKCkpfSxfbnVsbDpmdW5jdGlvbigpe3JldHVybiB1KFwiTnVsbFwiKX0sX3VuZGVmaW5lZDpmdW5jdGlvbigpe3JldHVybiB1KFwiVW5kZWZpbmVkXCIpfSxfcmVnZXhwOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwicmVnZXg6XCIrZS50b1N0cmluZygpKX0sX3VpbnQ4YXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJ1aW50OGFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX3VpbnQ4Y2xhbXBlZGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwidWludDhjbGFtcGVkYXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfaW50OGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiaW50OGFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX3VpbnQxNmFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwidWludDE2YXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfaW50MTZhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gdShcImludDE2YXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfdWludDMyYXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJ1aW50MzJhcnJheTpcIiksdGhpcy5kaXNwYXRjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSl9LF9pbnQzMmFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiaW50MzJhcnJheTpcIiksdGhpcy5kaXNwYXRjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSl9LF9mbG9hdDMyYXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJmbG9hdDMyYXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfZmxvYXQ2NGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiZmxvYXQ2NGFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX2FycmF5YnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiYXJyYXlidWZmZXI6XCIpLHRoaXMuZGlzcGF0Y2gobmV3IFVpbnQ4QXJyYXkoZSkpfSxfdXJsOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwidXJsOlwiK2UudG9TdHJpbmcoKSl9LF9tYXA6ZnVuY3Rpb24oZSl7dShcIm1hcDpcIik7ZT1BcnJheS5mcm9tKGUpO3JldHVybiB0aGlzLl9hcnJheShlLCExIT09by51bm9yZGVyZWRTZXRzKX0sX3NldDpmdW5jdGlvbihlKXt1KFwic2V0OlwiKTtlPUFycmF5LmZyb20oZSk7cmV0dXJuIHRoaXMuX2FycmF5KGUsITEhPT1vLnVub3JkZXJlZFNldHMpfSxfZmlsZTpmdW5jdGlvbihlKXtyZXR1cm4gdShcImZpbGU6XCIpLHRoaXMuZGlzcGF0Y2goW2UubmFtZSxlLnNpemUsZS50eXBlLGUubGFzdE1vZGZpZWRdKX0sX2Jsb2I6ZnVuY3Rpb24oKXtpZihvLmlnbm9yZVVua25vd24pcmV0dXJuIHUoXCJbYmxvYl1cIik7dGhyb3cgRXJyb3IoJ0hhc2hpbmcgQmxvYiBvYmplY3RzIGlzIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkXFxuKHNlZSBodHRwczovL2dpdGh1Yi5jb20vcHVsZW9zL29iamVjdC1oYXNoL2lzc3Vlcy8yNilcXG5Vc2UgXCJvcHRpb25zLnJlcGxhY2VyXCIgb3IgXCJvcHRpb25zLmlnbm9yZVVua25vd25cIlxcbicpfSxfZG9td2luZG93OmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJkb213aW5kb3dcIil9LF9iaWdpbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJiaWdpbnQ6XCIrZS50b1N0cmluZygpKX0sX3Byb2Nlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInByb2Nlc3NcIil9LF90aW1lcjpmdW5jdGlvbigpe3JldHVybiB1KFwidGltZXJcIil9LF9waXBlOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJwaXBlXCIpfSxfdGNwOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJ0Y3BcIil9LF91ZHA6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInVkcFwiKX0sX3R0eTpmdW5jdGlvbigpe3JldHVybiB1KFwidHR5XCIpfSxfc3RhdHdhdGNoZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInN0YXR3YXRjaGVyXCIpfSxfc2VjdXJlY29udGV4dDpmdW5jdGlvbigpe3JldHVybiB1KFwic2VjdXJlY29udGV4dFwiKX0sX2Nvbm5lY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdShcImNvbm5lY3Rpb25cIil9LF96bGliOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJ6bGliXCIpfSxfY29udGV4dDpmdW5jdGlvbigpe3JldHVybiB1KFwiY29udGV4dFwiKX0sX25vZGVzY3JpcHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdShcIm5vZGVzY3JpcHRcIil9LF9odHRwcGFyc2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJodHRwcGFyc2VyXCIpfSxfZGF0YXZpZXc6ZnVuY3Rpb24oKXtyZXR1cm4gdShcImRhdGF2aWV3XCIpfSxfc2lnbmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJzaWduYWxcIil9LF9mc2V2ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJmc2V2ZW50XCIpfSxfdGxzd3JhcDpmdW5jdGlvbigpe3JldHVybiB1KFwidGxzd3JhcFwiKX19fWZ1bmN0aW9uIGwoKXtyZXR1cm57YnVmOlwiXCIsd3JpdGU6ZnVuY3Rpb24oZSl7dGhpcy5idWYrPWV9LGVuZDpmdW5jdGlvbihlKXt0aGlzLmJ1Zis9ZX0scmVhZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1Zn19fW0ud3JpdGVUb1N0cmVhbT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPXQsdD17fSksZih0PXUoZSx0KSxuKS5kaXNwYXRjaChlKX19LmNhbGwodGhpcyx3KFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sdyhcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL2Zha2VfOWE1YWE0OWQuanNcIixcIi9cIil9LHtidWZmZXI6MyxjcnlwdG86NSxsWXBvSTI6MTF9XSwyOltmdW5jdGlvbihlLHQsZil7IWZ1bmN0aW9uKGUsdCxuLHIsbyxpLHUscyxhKXshZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSx0PVwiK1wiLmNoYXJDb2RlQXQoMCksbj1cIi9cIi5jaGFyQ29kZUF0KDApLHI9XCIwXCIuY2hhckNvZGVBdCgwKSxvPVwiYVwiLmNoYXJDb2RlQXQoMCksaT1cIkFcIi5jaGFyQ29kZUF0KDApLHU9XCItXCIuY2hhckNvZGVBdCgwKSxzPVwiX1wiLmNoYXJDb2RlQXQoMCk7ZnVuY3Rpb24gZihlKXtlPWUuY2hhckNvZGVBdCgwKTtyZXR1cm4gZT09PXR8fGU9PT11PzYyOmU9PT1ufHxlPT09cz82MzplPHI/LTE6ZTxyKzEwP2UtcisyNisyNjplPGkrMjY/ZS1pOmU8bysyNj9lLW8rMjY6dm9pZCAwfWUudG9CeXRlQXJyYXk9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZigwPGUubGVuZ3RoJTQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTt2YXIgcj1lLmxlbmd0aCxyPVwiPVwiPT09ZS5jaGFyQXQoci0yKT8yOlwiPVwiPT09ZS5jaGFyQXQoci0xKT8xOjAsbz1uZXcgYSgzKmUubGVuZ3RoLzQtciksaT0wPHI/ZS5sZW5ndGgtNDplLmxlbmd0aCx1PTA7ZnVuY3Rpb24gcyhlKXtvW3UrK109ZX1mb3IodD0wO3Q8aTt0Kz00LDApcygoMTY3MTE2ODAmKG49ZihlLmNoYXJBdCh0KSk8PDE4fGYoZS5jaGFyQXQodCsxKSk8PDEyfGYoZS5jaGFyQXQodCsyKSk8PDZ8ZihlLmNoYXJBdCh0KzMpKSkpPj4xNikscygoNjUyODAmbik+PjgpLHMoMjU1Jm4pO3JldHVybiAyPT1yP3MoMjU1JihuPWYoZS5jaGFyQXQodCkpPDwyfGYoZS5jaGFyQXQodCsxKSk+PjQpKToxPT1yJiYocygobj1mKGUuY2hhckF0KHQpKTw8MTB8ZihlLmNoYXJBdCh0KzEpKTw8NHxmKGUuY2hhckF0KHQrMikpPj4yKT4+OCYyNTUpLHMoMjU1Jm4pKSxvfSxlLmZyb21CeXRlQXJyYXk9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saT1lLmxlbmd0aCUzLHU9XCJcIjtmdW5jdGlvbiBzKGUpe3JldHVyblwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLmNoYXJBdChlKX1mb3IodD0wLHI9ZS5sZW5ndGgtaTt0PHI7dCs9MyluPShlW3RdPDwxNikrKGVbdCsxXTw8OCkrZVt0KzJdLHUrPXMoKG89bik+PjE4JjYzKStzKG8+PjEyJjYzKStzKG8+PjYmNjMpK3MoNjMmbyk7c3dpdGNoKGkpe2Nhc2UgMTp1PSh1Kz1zKChuPWVbZS5sZW5ndGgtMV0pPj4yKSkrcyhuPDw0JjYzKStcIj09XCI7YnJlYWs7Y2FzZSAyOnU9KHU9KHUrPXMoKG49KGVbZS5sZW5ndGgtMl08PDgpK2VbZS5sZW5ndGgtMV0pPj4xMCkpK3Mobj4+NCY2MykpK3Mobjw8MiY2MykrXCI9XCJ9cmV0dXJuIHV9fSh2b2lkIDA9PT1mP3RoaXMuYmFzZTY0anM9e306Zil9LmNhbGwodGhpcyxlKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9saWIvYjY0LmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2xpYlwiKX0se2J1ZmZlcjozLGxZcG9JMjoxMX1dLDM6W2Z1bmN0aW9uKE8sZSxIKXshZnVuY3Rpb24oZSxuLGYscixoLHAsZyx5LHcpe3ZhciBhPU8oXCJiYXNlNjQtanNcIiksaT1PKFwiaWVlZTc1NFwiKTtmdW5jdGlvbiBmKGUsdCxuKXtpZighKHRoaXMgaW5zdGFuY2VvZiBmKSlyZXR1cm4gbmV3IGYoZSx0LG4pO3ZhciByLG8saSx1LHM9dHlwZW9mIGU7aWYoXCJiYXNlNjRcIj09PXQmJlwic3RyaW5nXCI9PXMpZm9yKGU9KHU9ZSkudHJpbT91LnRyaW0oKTp1LnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIik7ZS5sZW5ndGglNCE9MDspZSs9XCI9XCI7aWYoXCJudW1iZXJcIj09cylyPWooZSk7ZWxzZSBpZihcInN0cmluZ1wiPT1zKXI9Zi5ieXRlTGVuZ3RoKGUsdCk7ZWxzZXtpZihcIm9iamVjdFwiIT1zKXRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG5lZWRzIHRvIGJlIGEgbnVtYmVyLCBhcnJheSBvciBzdHJpbmcuXCIpO3I9aihlLmxlbmd0aCl9aWYoZi5fdXNlVHlwZWRBcnJheXM/bz1mLl9hdWdtZW50KG5ldyBVaW50OEFycmF5KHIpKTooKG89dGhpcykubGVuZ3RoPXIsby5faXNCdWZmZXI9ITApLGYuX3VzZVR5cGVkQXJyYXlzJiZcIm51bWJlclwiPT10eXBlb2YgZS5ieXRlTGVuZ3RoKW8uX3NldChlKTtlbHNlIGlmKEModT1lKXx8Zi5pc0J1ZmZlcih1KXx8dSYmXCJvYmplY3RcIj09dHlwZW9mIHUmJlwibnVtYmVyXCI9PXR5cGVvZiB1Lmxlbmd0aClmb3IoaT0wO2k8cjtpKyspZi5pc0J1ZmZlcihlKT9vW2ldPWUucmVhZFVJbnQ4KGkpOm9baV09ZVtpXTtlbHNlIGlmKFwic3RyaW5nXCI9PXMpby53cml0ZShlLDAsdCk7ZWxzZSBpZihcIm51bWJlclwiPT1zJiYhZi5fdXNlVHlwZWRBcnJheXMmJiFuKWZvcihpPTA7aTxyO2krKylvW2ldPTA7cmV0dXJuIG99ZnVuY3Rpb24gYihlLHQsbixyKXtyZXR1cm4gZi5fY2hhcnNXcml0dGVuPWMoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoO24rKyl0LnB1c2goMjU1JmUuY2hhckNvZGVBdChuKSk7cmV0dXJuIHR9KHQpLGUsbixyKX1mdW5jdGlvbiBtKGUsdCxuLHIpe3JldHVybiBmLl9jaGFyc1dyaXR0ZW49YyhmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPVtdLG89MDtvPGUubGVuZ3RoO28rKyluPWUuY2hhckNvZGVBdChvKSx0PW4+Pjgsbj1uJTI1NixyLnB1c2gobiksci5wdXNoKHQpO3JldHVybiByfSh0KSxlLG4scil9ZnVuY3Rpb24gdihlLHQsbil7dmFyIHI9XCJcIjtuPU1hdGgubWluKGUubGVuZ3RoLG4pO2Zvcih2YXIgbz10O288bjtvKyspcis9U3RyaW5nLmZyb21DaGFyQ29kZShlW29dKTtyZXR1cm4gcn1mdW5jdGlvbiBvKGUsdCxuLHIpe3J8fChkKFwiYm9vbGVhblwiPT10eXBlb2YgbixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT10LFwibWlzc2luZyBvZmZzZXRcIiksZCh0KzE8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSk7dmFyIG8scj1lLmxlbmd0aDtpZighKHI8PXQpKXJldHVybiBuPyhvPWVbdF0sdCsxPHImJihvfD1lW3QrMV08PDgpKToobz1lW3RdPDw4LHQrMTxyJiYob3w9ZVt0KzFdKSksb31mdW5jdGlvbiB1KGUsdCxuLHIpe3J8fChkKFwiYm9vbGVhblwiPT10eXBlb2YgbixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT10LFwibWlzc2luZyBvZmZzZXRcIiksZCh0KzM8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSk7dmFyIG8scj1lLmxlbmd0aDtpZighKHI8PXQpKXJldHVybiBuPyh0KzI8ciYmKG89ZVt0KzJdPDwxNiksdCsxPHImJihvfD1lW3QrMV08PDgpLG98PWVbdF0sdCszPHImJihvKz1lW3QrM108PDI0Pj4+MCkpOih0KzE8ciYmKG89ZVt0KzFdPDwxNiksdCsyPHImJihvfD1lW3QrMl08PDgpLHQrMzxyJiYob3w9ZVt0KzNdKSxvKz1lW3RdPDwyND4+PjApLG99ZnVuY3Rpb24gXyhlLHQsbixyKXtpZihyfHwoZChcImJvb2xlYW5cIj09dHlwZW9mIG4sXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9dCxcIm1pc3Npbmcgb2Zmc2V0XCIpLGQodCsxPGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLCEoZS5sZW5ndGg8PXQpKXJldHVybiByPW8oZSx0LG4sITApLDMyNzY4JnI/LTEqKDY1NTM1LXIrMSk6cn1mdW5jdGlvbiBFKGUsdCxuLHIpe2lmKHJ8fChkKFwiYm9vbGVhblwiPT10eXBlb2YgbixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT10LFwibWlzc2luZyBvZmZzZXRcIiksZCh0KzM8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSksIShlLmxlbmd0aDw9dCkpcmV0dXJuIHI9dShlLHQsbiwhMCksMjE0NzQ4MzY0OCZyPy0xKig0Mjk0OTY3Mjk1LXIrMSk6cn1mdW5jdGlvbiBJKGUsdCxuLHIpe3JldHVybiByfHwoZChcImJvb2xlYW5cIj09dHlwZW9mIG4sXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQodCszPGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLGkucmVhZChlLHQsbiwyMyw0KX1mdW5jdGlvbiBBKGUsdCxuLHIpe3JldHVybiByfHwoZChcImJvb2xlYW5cIj09dHlwZW9mIG4sXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQodCs3PGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLGkucmVhZChlLHQsbiw1Miw4KX1mdW5jdGlvbiBzKGUsdCxuLHIsbyl7b3x8KGQobnVsbCE9dCxcIm1pc3NpbmcgdmFsdWVcIiksZChcImJvb2xlYW5cIj09dHlwZW9mIHIsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9bixcIm1pc3Npbmcgb2Zmc2V0XCIpLGQobisxPGUubGVuZ3RoLFwidHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLFkodCw2NTUzNSkpO289ZS5sZW5ndGg7aWYoIShvPD1uKSlmb3IodmFyIGk9MCx1PU1hdGgubWluKG8tbiwyKTtpPHU7aSsrKWVbbitpXT0odCYyNTU8PDgqKHI/aToxLWkpKT4+PjgqKHI/aToxLWkpfWZ1bmN0aW9uIGwoZSx0LG4scixvKXtvfHwoZChudWxsIT10LFwibWlzc2luZyB2YWx1ZVwiKSxkKFwiYm9vbGVhblwiPT10eXBlb2YgcixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT1uLFwibWlzc2luZyBvZmZzZXRcIiksZChuKzM8ZS5sZW5ndGgsXCJ0cnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksWSh0LDQyOTQ5NjcyOTUpKTtvPWUubGVuZ3RoO2lmKCEobzw9bikpZm9yKHZhciBpPTAsdT1NYXRoLm1pbihvLW4sNCk7aTx1O2krKyllW24raV09dD4+PjgqKHI/aTozLWkpJjI1NX1mdW5jdGlvbiBCKGUsdCxuLHIsbyl7b3x8KGQobnVsbCE9dCxcIm1pc3NpbmcgdmFsdWVcIiksZChcImJvb2xlYW5cIj09dHlwZW9mIHIsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9bixcIm1pc3Npbmcgb2Zmc2V0XCIpLGQobisxPGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLEYodCwzMjc2NywtMzI3NjgpKSxlLmxlbmd0aDw9bnx8cyhlLDA8PXQ/dDo2NTUzNSt0KzEsbixyLG8pfWZ1bmN0aW9uIEwoZSx0LG4scixvKXtvfHwoZChudWxsIT10LFwibWlzc2luZyB2YWx1ZVwiKSxkKFwiYm9vbGVhblwiPT10eXBlb2YgcixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT1uLFwibWlzc2luZyBvZmZzZXRcIiksZChuKzM8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksRih0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpKSxlLmxlbmd0aDw9bnx8bChlLDA8PXQ/dDo0Mjk0OTY3Mjk1K3QrMSxuLHIsbyl9ZnVuY3Rpb24gVShlLHQsbixyLG8pe298fChkKG51bGwhPXQsXCJtaXNzaW5nIHZhbHVlXCIpLGQoXCJib29sZWFuXCI9PXR5cGVvZiByLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxkKG51bGwhPW4sXCJtaXNzaW5nIG9mZnNldFwiKSxkKG4rMzxlLmxlbmd0aCxcIlRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxEKHQsMzQwMjgyMzQ2NjM4NTI4ODZlMjIsLTM0MDI4MjM0NjYzODUyODg2ZTIyKSksZS5sZW5ndGg8PW58fGkud3JpdGUoZSx0LG4sciwyMyw0KX1mdW5jdGlvbiB4KGUsdCxuLHIsbyl7b3x8KGQobnVsbCE9dCxcIm1pc3NpbmcgdmFsdWVcIiksZChcImJvb2xlYW5cIj09dHlwZW9mIHIsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9bixcIm1pc3Npbmcgb2Zmc2V0XCIpLGQobis3PGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLEQodCwxNzk3NjkzMTM0ODYyMzE1N2UyOTIsLTE3OTc2OTMxMzQ4NjIzMTU3ZTI5MikpLGUubGVuZ3RoPD1ufHxpLndyaXRlKGUsdCxuLHIsNTIsOCl9SC5CdWZmZXI9ZixILlNsb3dCdWZmZXI9ZixILklOU1BFQ1RfTUFYX0JZVEVTPTUwLGYucG9vbFNpemU9ODE5MixmLl91c2VUeXBlZEFycmF5cz1mdW5jdGlvbigpe3RyeXt2YXIgZT1uZXcgQXJyYXlCdWZmZXIoMCksdD1uZXcgVWludDhBcnJheShlKTtyZXR1cm4gdC5mb289ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9LDQyPT09dC5mb28oKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5zdWJhcnJheX1jYXRjaChlKXtyZXR1cm4hMX19KCksZi5pc0VuY29kaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaChTdHJpbmcoZSkudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJyYXdcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sZi5pc0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4hKG51bGw9PWV8fCFlLl9pc0J1ZmZlcil9LGYuYnl0ZUxlbmd0aD1mdW5jdGlvbihlLHQpe3ZhciBuO3N3aXRjaChlKz1cIlwiLHR8fFwidXRmOFwiKXtjYXNlXCJoZXhcIjpuPWUubGVuZ3RoLzI7YnJlYWs7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6bj1UKGUpLmxlbmd0aDticmVhaztjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcInJhd1wiOm49ZS5sZW5ndGg7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6bj1NKGUpLmxlbmd0aDticmVhaztjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpuPTIqZS5sZW5ndGg7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nXCIpfXJldHVybiBufSxmLmNvbmNhdD1mdW5jdGlvbihlLHQpe2lmKGQoQyhlKSxcIlVzYWdlOiBCdWZmZXIuY29uY2F0KGxpc3QsIFt0b3RhbExlbmd0aF0pXFxubGlzdCBzaG91bGQgYmUgYW4gQXJyYXkuXCIpLDA9PT1lLmxlbmd0aClyZXR1cm4gbmV3IGYoMCk7aWYoMT09PWUubGVuZ3RoKXJldHVybiBlWzBdO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KWZvcihvPXQ9MDtvPGUubGVuZ3RoO28rKyl0Kz1lW29dLmxlbmd0aDtmb3IodmFyIG49bmV3IGYodCkscj0wLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGk9ZVtvXTtpLmNvcHkobixyKSxyKz1pLmxlbmd0aH1yZXR1cm4gbn0sZi5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSx0LG4scil7aXNGaW5pdGUodCk/aXNGaW5pdGUobil8fChyPW4sbj12b2lkIDApOihhPXIscj10LHQ9bixuPWEpLHQ9TnVtYmVyKHQpfHwwO3ZhciBvLGksdSxzLGE9dGhpcy5sZW5ndGgtdDtzd2l0Y2goKCFufHxhPChuPU51bWJlcihuKSkpJiYobj1hKSxyPVN0cmluZyhyfHxcInV0ZjhcIikudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6bz1mdW5jdGlvbihlLHQsbixyKXtuPU51bWJlcihuKXx8MDt2YXIgbz1lLmxlbmd0aC1uOyghcnx8bzwocj1OdW1iZXIocikpKSYmKHI9byksZCgobz10Lmxlbmd0aCklMj09MCxcIkludmFsaWQgaGV4IHN0cmluZ1wiKSxvLzI8ciYmKHI9by8yKTtmb3IodmFyIGk9MDtpPHI7aSsrKXt2YXIgdT1wYXJzZUludCh0LnN1YnN0cigyKmksMiksMTYpO2QoIWlzTmFOKHUpLFwiSW52YWxpZCBoZXggc3RyaW5nXCIpLGVbbitpXT11fXJldHVybiBmLl9jaGFyc1dyaXR0ZW49MippLGl9KHRoaXMsZSx0LG4pO2JyZWFrO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmk9dGhpcyx1PXQscz1uLG89Zi5fY2hhcnNXcml0dGVuPWMoVChlKSxpLHUscyk7YnJlYWs7Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpvPWIodGhpcyxlLHQsbik7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6aT10aGlzLHU9dCxzPW4sbz1mLl9jaGFyc1dyaXR0ZW49YyhNKGUpLGksdSxzKTticmVhaztjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpvPW0odGhpcyxlLHQsbik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nXCIpfXJldHVybiBvfSxmLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLHUscz10aGlzO2lmKGU9U3RyaW5nKGV8fFwidXRmOFwiKS50b0xvd2VyQ2FzZSgpLHQ9TnVtYmVyKHQpfHwwLChuPXZvaWQgMCE9PW4/TnVtYmVyKG4pOnMubGVuZ3RoKT09PXQpcmV0dXJuXCJcIjtzd2l0Y2goZSl7Y2FzZVwiaGV4XCI6cj1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5sZW5ndGg7KCF0fHx0PDApJiYodD0wKTsoIW58fG48MHx8cjxuKSYmKG49cik7Zm9yKHZhciBvPVwiXCIsaT10O2k8bjtpKyspbys9ayhlW2ldKTtyZXR1cm4gb30ocyx0LG4pO2JyZWFrO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVwiXCIsbz1cIlwiO249TWF0aC5taW4oZS5sZW5ndGgsbik7Zm9yKHZhciBpPXQ7aTxuO2krKyllW2ldPD0xMjc/KHIrPU4obykrU3RyaW5nLmZyb21DaGFyQ29kZShlW2ldKSxvPVwiXCIpOm8rPVwiJVwiK2VbaV0udG9TdHJpbmcoMTYpO3JldHVybiByK04obyl9KHMsdCxuKTticmVhaztjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOnI9dihzLHQsbik7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6bz1zLHU9bixyPTA9PT0oaT10KSYmdT09PW8ubGVuZ3RoP2EuZnJvbUJ5dGVBcnJheShvKTphLmZyb21CeXRlQXJyYXkoby5zbGljZShpLHUpKTticmVhaztjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9ZS5zbGljZSh0LG4pLG89XCJcIixpPTA7aTxyLmxlbmd0aDtpKz0yKW8rPVN0cmluZy5mcm9tQ2hhckNvZGUocltpXSsyNTYqcltpKzFdKTtyZXR1cm4gb30ocyx0LG4pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBlbmNvZGluZ1wiKX1yZXR1cm4gcn0sZi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6XCJCdWZmZXJcIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19LGYucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSx0LG4scil7aWYodD10fHwwLChyPXJ8fDA9PT1yP3I6dGhpcy5sZW5ndGgpIT09KG49bnx8MCkmJjAhPT1lLmxlbmd0aCYmMCE9PXRoaXMubGVuZ3RoKXtkKG48PXIsXCJzb3VyY2VFbmQgPCBzb3VyY2VTdGFydFwiKSxkKDA8PXQmJnQ8ZS5sZW5ndGgsXCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzXCIpLGQoMDw9biYmbjx0aGlzLmxlbmd0aCxcInNvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHNcIiksZCgwPD1yJiZyPD10aGlzLmxlbmd0aCxcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpLHI+dGhpcy5sZW5ndGgmJihyPXRoaXMubGVuZ3RoKTt2YXIgbz0ocj1lLmxlbmd0aC10PHItbj9lLmxlbmd0aC10K246ciktbjtpZihvPDEwMHx8IWYuX3VzZVR5cGVkQXJyYXlzKWZvcih2YXIgaT0wO2k8bztpKyspZVtpK3RdPXRoaXNbaStuXTtlbHNlIGUuX3NldCh0aGlzLnN1YmFycmF5KG4sbitvKSx0KX19LGYucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5sZW5ndGg7aWYoZT1TKGUsbiwwKSx0PVModCxuLG4pLGYuX3VzZVR5cGVkQXJyYXlzKXJldHVybiBmLl9hdWdtZW50KHRoaXMuc3ViYXJyYXkoZSx0KSk7Zm9yKHZhciByPXQtZSxvPW5ldyBmKHIsdm9pZCAwLCEwKSxpPTA7aTxyO2krKylvW2ldPXRoaXNbaStlXTtyZXR1cm4gb30sZi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLmxvZyhcIi5nZXQoKSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdXNpbmcgYXJyYXkgaW5kZXhlcyBpbnN0ZWFkLlwiKSx0aGlzLnJlYWRVSW50OChlKX0sZi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNvbnNvbGUubG9nKFwiLnNldCgpIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB1c2luZyBhcnJheSBpbmRleGVzIGluc3RlYWQuXCIpLHRoaXMud3JpdGVVSW50OChlLHQpfSxmLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24oZSx0KXtpZih0fHwoZChudWxsIT1lLFwibWlzc2luZyBvZmZzZXRcIiksZChlPHRoaXMubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLCEoZT49dGhpcy5sZW5ndGgpKXJldHVybiB0aGlzW2VdfSxmLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyh0aGlzLGUsITAsdCl9LGYucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbihlLHQpe3JldHVybiBvKHRoaXMsZSwhMSx0KX0sZi5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUodGhpcyxlLCEwLHQpfSxmLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdSh0aGlzLGUsITEsdCl9LGYucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGUsdCl7aWYodHx8KGQobnVsbCE9ZSxcIm1pc3Npbmcgb2Zmc2V0XCIpLGQoZTx0aGlzLmxlbmd0aCxcIlRyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpKSwhKGU+PXRoaXMubGVuZ3RoKSlyZXR1cm4gMTI4JnRoaXNbZV0/LTEqKDI1NS10aGlzW2VdKzEpOnRoaXNbZV19LGYucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF8odGhpcyxlLCEwLHQpfSxmLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbihlLHQpe3JldHVybiBfKHRoaXMsZSwhMSx0KX0sZi5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRSh0aGlzLGUsITAsdCl9LGYucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEUodGhpcyxlLCExLHQpfSxmLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbihlLHQpe3JldHVybiBJKHRoaXMsZSwhMCx0KX0sZi5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSSh0aGlzLGUsITEsdCl9LGYucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbihlLHQpe3JldHVybiBBKHRoaXMsZSwhMCx0KX0sZi5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEEodGhpcyxlLCExLHQpfSxmLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKGUsdCxuKXtufHwoZChudWxsIT1lLFwibWlzc2luZyB2YWx1ZVwiKSxkKG51bGwhPXQsXCJtaXNzaW5nIG9mZnNldFwiKSxkKHQ8dGhpcy5sZW5ndGgsXCJ0cnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksWShlLDI1NSkpLHQ+PXRoaXMubGVuZ3RofHwodGhpc1t0XT1lKX0sZi5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbihlLHQsbil7cyh0aGlzLGUsdCwhMCxuKX0sZi5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbihlLHQsbil7cyh0aGlzLGUsdCwhMSxuKX0sZi5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbihlLHQsbil7bCh0aGlzLGUsdCwhMCxuKX0sZi5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbihlLHQsbil7bCh0aGlzLGUsdCwhMSxuKX0sZi5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKGUsdCxuKXtufHwoZChudWxsIT1lLFwibWlzc2luZyB2YWx1ZVwiKSxkKG51bGwhPXQsXCJtaXNzaW5nIG9mZnNldFwiKSxkKHQ8dGhpcy5sZW5ndGgsXCJUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksRihlLDEyNywtMTI4KSksdD49dGhpcy5sZW5ndGh8fCgwPD1lP3RoaXMud3JpdGVVSW50OChlLHQsbik6dGhpcy53cml0ZVVJbnQ4KDI1NStlKzEsdCxuKSl9LGYucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbihlLHQsbil7Qih0aGlzLGUsdCwhMCxuKX0sZi5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxuKXtCKHRoaXMsZSx0LCExLG4pfSxmLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24oZSx0LG4pe0wodGhpcyxlLHQsITAsbil9LGYucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbihlLHQsbil7TCh0aGlzLGUsdCwhMSxuKX0sZi5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKGUsdCxuKXtVKHRoaXMsZSx0LCEwLG4pfSxmLnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24oZSx0LG4pe1UodGhpcyxlLHQsITEsbil9LGYucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oZSx0LG4pe3godGhpcyxlLHQsITAsbil9LGYucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24oZSx0LG4pe3godGhpcyxlLHQsITEsbil9LGYucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24oZSx0LG4pe2lmKHQ9dHx8MCxuPW58fHRoaXMubGVuZ3RoLGQoXCJudW1iZXJcIj09dHlwZW9mKGU9XCJzdHJpbmdcIj09dHlwZW9mKGU9ZXx8MCk/ZS5jaGFyQ29kZUF0KDApOmUpJiYhaXNOYU4oZSksXCJ2YWx1ZSBpcyBub3QgYSBudW1iZXJcIiksZCh0PD1uLFwiZW5kIDwgc3RhcnRcIiksbiE9PXQmJjAhPT10aGlzLmxlbmd0aCl7ZCgwPD10JiZ0PHRoaXMubGVuZ3RoLFwic3RhcnQgb3V0IG9mIGJvdW5kc1wiKSxkKDA8PW4mJm48PXRoaXMubGVuZ3RoLFwiZW5kIG91dCBvZiBib3VuZHNcIik7Zm9yKHZhciByPXQ7cjxuO3IrKyl0aGlzW3JdPWV9fSxmLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9dGhpcy5sZW5ndGgsbj0wO248dDtuKyspaWYoZVtuXT1rKHRoaXNbbl0pLG49PT1ILklOU1BFQ1RfTUFYX0JZVEVTKXtlW24rMV09XCIuLi5cIjticmVha31yZXR1cm5cIjxCdWZmZXIgXCIrZS5qb2luKFwiIFwiKStcIj5cIn0sZi5wcm90b3R5cGUudG9BcnJheUJ1ZmZlcj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBVaW50OEFycmF5KXRocm93IG5ldyBFcnJvcihcIkJ1ZmZlci50b0FycmF5QnVmZmVyIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO2lmKGYuX3VzZVR5cGVkQXJyYXlzKXJldHVybiBuZXcgZih0aGlzKS5idWZmZXI7Zm9yKHZhciBlPW5ldyBVaW50OEFycmF5KHRoaXMubGVuZ3RoKSx0PTAsbj1lLmxlbmd0aDt0PG47dCs9MSllW3RdPXRoaXNbdF07cmV0dXJuIGUuYnVmZmVyfTt2YXIgdD1mLnByb3RvdHlwZTtmdW5jdGlvbiBTKGUsdCxuKXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgZT9uOnQ8PShlPX5+ZSk/dDowPD1lfHwwPD0oZSs9dCk/ZTowfWZ1bmN0aW9uIGooZSl7cmV0dXJuKGU9fn5NYXRoLmNlaWwoK2UpKTwwPzA6ZX1mdW5jdGlvbiBDKGUpe3JldHVybihBcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9KShlKX1mdW5jdGlvbiBrKGUpe3JldHVybiBlPDE2P1wiMFwiK2UudG9TdHJpbmcoMTYpOmUudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIFQoZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZS5jaGFyQ29kZUF0KG4pO2lmKHI8PTEyNyl0LnB1c2goZS5jaGFyQ29kZUF0KG4pKTtlbHNlIGZvcih2YXIgbz1uLGk9KDU1Mjk2PD1yJiZyPD01NzM0MyYmbisrLGVuY29kZVVSSUNvbXBvbmVudChlLnNsaWNlKG8sbisxKSkuc3Vic3RyKDEpLnNwbGl0KFwiJVwiKSksdT0wO3U8aS5sZW5ndGg7dSsrKXQucHVzaChwYXJzZUludChpW3VdLDE2KSl9cmV0dXJuIHR9ZnVuY3Rpb24gTShlKXtyZXR1cm4gYS50b0J5dGVBcnJheShlKX1mdW5jdGlvbiBjKGUsdCxuLHIpe2Zvcih2YXIgbz0wO288ciYmIShvK24+PXQubGVuZ3RofHxvPj1lLmxlbmd0aCk7bysrKXRbbytuXT1lW29dO3JldHVybiBvfWZ1bmN0aW9uIE4oZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9Y2F0Y2goZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzMpfX1mdW5jdGlvbiBZKGUsdCl7ZChcIm51bWJlclwiPT10eXBlb2YgZSxcImNhbm5vdCB3cml0ZSBhIG5vbi1udW1iZXIgYXMgYSBudW1iZXJcIiksZCgwPD1lLFwic3BlY2lmaWVkIGEgbmVnYXRpdmUgdmFsdWUgZm9yIHdyaXRpbmcgYW4gdW5zaWduZWQgdmFsdWVcIiksZChlPD10LFwidmFsdWUgaXMgbGFyZ2VyIHRoYW4gbWF4aW11bSB2YWx1ZSBmb3IgdHlwZVwiKSxkKE1hdGguZmxvb3IoZSk9PT1lLFwidmFsdWUgaGFzIGEgZnJhY3Rpb25hbCBjb21wb25lbnRcIil9ZnVuY3Rpb24gRihlLHQsbil7ZChcIm51bWJlclwiPT10eXBlb2YgZSxcImNhbm5vdCB3cml0ZSBhIG5vbi1udW1iZXIgYXMgYSBudW1iZXJcIiksZChlPD10LFwidmFsdWUgbGFyZ2VyIHRoYW4gbWF4aW11bSBhbGxvd2VkIHZhbHVlXCIpLGQobjw9ZSxcInZhbHVlIHNtYWxsZXIgdGhhbiBtaW5pbXVtIGFsbG93ZWQgdmFsdWVcIiksZChNYXRoLmZsb29yKGUpPT09ZSxcInZhbHVlIGhhcyBhIGZyYWN0aW9uYWwgY29tcG9uZW50XCIpfWZ1bmN0aW9uIEQoZSx0LG4pe2QoXCJudW1iZXJcIj09dHlwZW9mIGUsXCJjYW5ub3Qgd3JpdGUgYSBub24tbnVtYmVyIGFzIGEgbnVtYmVyXCIpLGQoZTw9dCxcInZhbHVlIGxhcmdlciB0aGFuIG1heGltdW0gYWxsb3dlZCB2YWx1ZVwiKSxkKG48PWUsXCJ2YWx1ZSBzbWFsbGVyIHRoYW4gbWluaW11bSBhbGxvd2VkIHZhbHVlXCIpfWZ1bmN0aW9uIGQoZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IodHx8XCJGYWlsZWQgYXNzZXJ0aW9uXCIpfWYuX2F1Z21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX2lzQnVmZmVyPSEwLGUuX2dldD1lLmdldCxlLl9zZXQ9ZS5zZXQsZS5nZXQ9dC5nZXQsZS5zZXQ9dC5zZXQsZS53cml0ZT10LndyaXRlLGUudG9TdHJpbmc9dC50b1N0cmluZyxlLnRvTG9jYWxlU3RyaW5nPXQudG9TdHJpbmcsZS50b0pTT049dC50b0pTT04sZS5jb3B5PXQuY29weSxlLnNsaWNlPXQuc2xpY2UsZS5yZWFkVUludDg9dC5yZWFkVUludDgsZS5yZWFkVUludDE2TEU9dC5yZWFkVUludDE2TEUsZS5yZWFkVUludDE2QkU9dC5yZWFkVUludDE2QkUsZS5yZWFkVUludDMyTEU9dC5yZWFkVUludDMyTEUsZS5yZWFkVUludDMyQkU9dC5yZWFkVUludDMyQkUsZS5yZWFkSW50OD10LnJlYWRJbnQ4LGUucmVhZEludDE2TEU9dC5yZWFkSW50MTZMRSxlLnJlYWRJbnQxNkJFPXQucmVhZEludDE2QkUsZS5yZWFkSW50MzJMRT10LnJlYWRJbnQzMkxFLGUucmVhZEludDMyQkU9dC5yZWFkSW50MzJCRSxlLnJlYWRGbG9hdExFPXQucmVhZEZsb2F0TEUsZS5yZWFkRmxvYXRCRT10LnJlYWRGbG9hdEJFLGUucmVhZERvdWJsZUxFPXQucmVhZERvdWJsZUxFLGUucmVhZERvdWJsZUJFPXQucmVhZERvdWJsZUJFLGUud3JpdGVVSW50OD10LndyaXRlVUludDgsZS53cml0ZVVJbnQxNkxFPXQud3JpdGVVSW50MTZMRSxlLndyaXRlVUludDE2QkU9dC53cml0ZVVJbnQxNkJFLGUud3JpdGVVSW50MzJMRT10LndyaXRlVUludDMyTEUsZS53cml0ZVVJbnQzMkJFPXQud3JpdGVVSW50MzJCRSxlLndyaXRlSW50OD10LndyaXRlSW50OCxlLndyaXRlSW50MTZMRT10LndyaXRlSW50MTZMRSxlLndyaXRlSW50MTZCRT10LndyaXRlSW50MTZCRSxlLndyaXRlSW50MzJMRT10LndyaXRlSW50MzJMRSxlLndyaXRlSW50MzJCRT10LndyaXRlSW50MzJCRSxlLndyaXRlRmxvYXRMRT10LndyaXRlRmxvYXRMRSxlLndyaXRlRmxvYXRCRT10LndyaXRlRmxvYXRCRSxlLndyaXRlRG91YmxlTEU9dC53cml0ZURvdWJsZUxFLGUud3JpdGVEb3VibGVCRT10LndyaXRlRG91YmxlQkUsZS5maWxsPXQuZmlsbCxlLmluc3BlY3Q9dC5pbnNwZWN0LGUudG9BcnJheUJ1ZmZlcj10LnRvQXJyYXlCdWZmZXIsZX19LmNhbGwodGhpcyxPKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sTyhcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2J1ZmZlci9pbmRleC5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2J1ZmZlclwiKX0se1wiYmFzZTY0LWpzXCI6MixidWZmZXI6MyxpZWVlNzU0OjEwLGxZcG9JMjoxMX1dLDQ6W2Z1bmN0aW9uKGMsZCxlKXshZnVuY3Rpb24oZSx0LGEsbixyLG8saSx1LHMpe3ZhciBhPWMoXCJidWZmZXJcIikuQnVmZmVyLGY9NCxsPW5ldyBhKGYpO2wuZmlsbCgwKTtkLmV4cG9ydHM9e2hhc2g6ZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBvPXQoZnVuY3Rpb24oZSx0KXtlLmxlbmd0aCVmIT0wJiYobj1lLmxlbmd0aCsoZi1lLmxlbmd0aCVmKSxlPWEuY29uY2F0KFtlLGxdLG4pKTtmb3IodmFyIG4scj1bXSxvPXQ/ZS5yZWFkSW50MzJCRTplLnJlYWRJbnQzMkxFLGk9MDtpPGUubGVuZ3RoO2krPWYpci5wdXNoKG8uY2FsbChlLGkpKTtyZXR1cm4gcn0oZT1hLmlzQnVmZmVyKGUpP2U6bmV3IGEoZSksciksOCplLmxlbmd0aCksdD1yLGk9bmV3IGEobiksdT10P2kud3JpdGVJbnQzMkJFOmkud3JpdGVJbnQzMkxFLHM9MDtzPG8ubGVuZ3RoO3MrKyl1LmNhbGwoaSxvW3NdLDQqcywhMCk7cmV0dXJuIGl9fX0uY2FsbCh0aGlzLGMoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSxjKFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvaGVscGVycy5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5XCIpfSx7YnVmZmVyOjMsbFlwb0kyOjExfV0sNTpbZnVuY3Rpb24odixlLF8peyFmdW5jdGlvbihsLGMsdSxkLGgscCxnLHksdyl7dmFyIHU9dihcImJ1ZmZlclwiKS5CdWZmZXIsZT12KFwiLi9zaGFcIiksdD12KFwiLi9zaGEyNTZcIiksbj12KFwiLi9ybmdcIiksYj17c2hhMTplLHNoYTI1Njp0LG1kNTp2KFwiLi9tZDVcIil9LHM9NjQsYT1uZXcgdShzKTtmdW5jdGlvbiByKGUsbil7dmFyIHI9YltlPWV8fFwic2hhMVwiXSxvPVtdO3JldHVybiByfHxpKFwiYWxnb3JpdGhtOlwiLGUsXCJpcyBub3QgeWV0IHN1cHBvcnRlZFwiKSx7dXBkYXRlOmZ1bmN0aW9uKGUpe3JldHVybiB1LmlzQnVmZmVyKGUpfHwoZT1uZXcgdShlKSksby5wdXNoKGUpLGUubGVuZ3RoLHRoaXN9LGRpZ2VzdDpmdW5jdGlvbihlKXt2YXIgdD11LmNvbmNhdChvKSx0PW4/ZnVuY3Rpb24oZSx0LG4pe3UuaXNCdWZmZXIodCl8fCh0PW5ldyB1KHQpKSx1LmlzQnVmZmVyKG4pfHwobj1uZXcgdShuKSksdC5sZW5ndGg+cz90PWUodCk6dC5sZW5ndGg8cyYmKHQ9dS5jb25jYXQoW3QsYV0scykpO2Zvcih2YXIgcj1uZXcgdShzKSxvPW5ldyB1KHMpLGk9MDtpPHM7aSsrKXJbaV09NTRedFtpXSxvW2ldPTkyXnRbaV07cmV0dXJuIG49ZSh1LmNvbmNhdChbcixuXSkpLGUodS5jb25jYXQoW28sbl0pKX0ocixuLHQpOnIodCk7cmV0dXJuIG89bnVsbCxlP3QudG9TdHJpbmcoZSk6dH19fWZ1bmN0aW9uIGkoKXt2YXIgZT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbihcIiBcIik7dGhyb3cgbmV3IEVycm9yKFtlLFwid2UgYWNjZXB0IHB1bGwgcmVxdWVzdHNcIixcImh0dHA6Ly9naXRodWIuY29tL2RvbWluaWN0YXJyL2NyeXB0by1icm93c2VyaWZ5XCJdLmpvaW4oXCJcXG5cIikpfWEuZmlsbCgwKSxfLmNyZWF0ZUhhc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSl9LF8uY3JlYXRlSG1hYz1yLF8ucmFuZG9tQnl0ZXM9ZnVuY3Rpb24oZSx0KXtpZighdHx8IXQuY2FsbClyZXR1cm4gbmV3IHUobihlKSk7dHJ5e3QuY2FsbCh0aGlzLHZvaWQgMCxuZXcgdShuKGUpKSl9Y2F0Y2goZSl7dChlKX19O3ZhciBvLGY9W1wiY3JlYXRlQ3JlZGVudGlhbHNcIixcImNyZWF0ZUNpcGhlclwiLFwiY3JlYXRlQ2lwaGVyaXZcIixcImNyZWF0ZURlY2lwaGVyXCIsXCJjcmVhdGVEZWNpcGhlcml2XCIsXCJjcmVhdGVTaWduXCIsXCJjcmVhdGVWZXJpZnlcIixcImNyZWF0ZURpZmZpZUhlbGxtYW5cIixcInBia2RmMlwiXSxtPWZ1bmN0aW9uKGUpe19bZV09ZnVuY3Rpb24oKXtpKFwic29ycnksXCIsZSxcImlzIG5vdCBpbXBsZW1lbnRlZCB5ZXRcIil9fTtmb3IobyBpbiBmKW0oZltvXSxvKX0uY2FsbCh0aGlzLHYoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSx2KFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvaW5kZXguanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeVwiKX0se1wiLi9tZDVcIjo2LFwiLi9ybmdcIjo3LFwiLi9zaGFcIjo4LFwiLi9zaGEyNTZcIjo5LGJ1ZmZlcjozLGxZcG9JMjoxMX1dLDY6W2Z1bmN0aW9uKHcsYixlKXshZnVuY3Rpb24oZSxyLG8saSx1LGEsZixsLHkpe3ZhciB0PXcoXCIuL2hlbHBlcnNcIik7ZnVuY3Rpb24gbihlLHQpe2VbdD4+NV18PTEyODw8dCUzMixlWzE0Kyh0KzY0Pj4+OTw8NCldPXQ7Zm9yKHZhciBuPTE3MzI1ODQxOTMscj0tMjcxNzMzODc5LG89LTE3MzI1ODQxOTQsaT0yNzE3MzM4NzgsdT0wO3U8ZS5sZW5ndGg7dSs9MTYpe3ZhciBzPW4sYT1yLGY9byxsPWksbj1jKG4scixvLGksZVt1KzBdLDcsLTY4MDg3NjkzNiksaT1jKGksbixyLG8sZVt1KzFdLDEyLC0zODk1NjQ1ODYpLG89YyhvLGksbixyLGVbdSsyXSwxNyw2MDYxMDU4MTkpLHI9YyhyLG8saSxuLGVbdSszXSwyMiwtMTA0NDUyNTMzMCk7bj1jKG4scixvLGksZVt1KzRdLDcsLTE3NjQxODg5NyksaT1jKGksbixyLG8sZVt1KzVdLDEyLDEyMDAwODA0MjYpLG89YyhvLGksbixyLGVbdSs2XSwxNywtMTQ3MzIzMTM0MSkscj1jKHIsbyxpLG4sZVt1KzddLDIyLC00NTcwNTk4Myksbj1jKG4scixvLGksZVt1KzhdLDcsMTc3MDAzNTQxNiksaT1jKGksbixyLG8sZVt1KzldLDEyLC0xOTU4NDE0NDE3KSxvPWMobyxpLG4scixlW3UrMTBdLDE3LC00MjA2Mykscj1jKHIsbyxpLG4sZVt1KzExXSwyMiwtMTk5MDQwNDE2Miksbj1jKG4scixvLGksZVt1KzEyXSw3LDE4MDQ2MDM2ODIpLGk9YyhpLG4scixvLGVbdSsxM10sMTIsLTQwMzQxMTAxKSxvPWMobyxpLG4scixlW3UrMTRdLDE3LC0xNTAyMDAyMjkwKSxuPWQobixyPWMocixvLGksbixlW3UrMTVdLDIyLDEyMzY1MzUzMjkpLG8saSxlW3UrMV0sNSwtMTY1Nzk2NTEwKSxpPWQoaSxuLHIsbyxlW3UrNl0sOSwtMTA2OTUwMTYzMiksbz1kKG8saSxuLHIsZVt1KzExXSwxNCw2NDM3MTc3MTMpLHI9ZChyLG8saSxuLGVbdSswXSwyMCwtMzczODk3MzAyKSxuPWQobixyLG8saSxlW3UrNV0sNSwtNzAxNTU4NjkxKSxpPWQoaSxuLHIsbyxlW3UrMTBdLDksMzgwMTYwODMpLG89ZChvLGksbixyLGVbdSsxNV0sMTQsLTY2MDQ3ODMzNSkscj1kKHIsbyxpLG4sZVt1KzRdLDIwLC00MDU1Mzc4NDgpLG49ZChuLHIsbyxpLGVbdSs5XSw1LDU2ODQ0NjQzOCksaT1kKGksbixyLG8sZVt1KzE0XSw5LC0xMDE5ODAzNjkwKSxvPWQobyxpLG4scixlW3UrM10sMTQsLTE4NzM2Mzk2MSkscj1kKHIsbyxpLG4sZVt1KzhdLDIwLDExNjM1MzE1MDEpLG49ZChuLHIsbyxpLGVbdSsxM10sNSwtMTQ0NDY4MTQ2NyksaT1kKGksbixyLG8sZVt1KzJdLDksLTUxNDAzNzg0KSxvPWQobyxpLG4scixlW3UrN10sMTQsMTczNTMyODQ3Myksbj1oKG4scj1kKHIsbyxpLG4sZVt1KzEyXSwyMCwtMTkyNjYwNzczNCksbyxpLGVbdSs1XSw0LC0zNzg1NTgpLGk9aChpLG4scixvLGVbdSs4XSwxMSwtMjAyMjU3NDQ2Myksbz1oKG8saSxuLHIsZVt1KzExXSwxNiwxODM5MDMwNTYyKSxyPWgocixvLGksbixlW3UrMTRdLDIzLC0zNTMwOTU1Niksbj1oKG4scixvLGksZVt1KzFdLDQsLTE1MzA5OTIwNjApLGk9aChpLG4scixvLGVbdSs0XSwxMSwxMjcyODkzMzUzKSxvPWgobyxpLG4scixlW3UrN10sMTYsLTE1NTQ5NzYzMikscj1oKHIsbyxpLG4sZVt1KzEwXSwyMywtMTA5NDczMDY0MCksbj1oKG4scixvLGksZVt1KzEzXSw0LDY4MTI3OTE3NCksaT1oKGksbixyLG8sZVt1KzBdLDExLC0zNTg1MzcyMjIpLG89aChvLGksbixyLGVbdSszXSwxNiwtNzIyNTIxOTc5KSxyPWgocixvLGksbixlW3UrNl0sMjMsNzYwMjkxODkpLG49aChuLHIsbyxpLGVbdSs5XSw0LC02NDAzNjQ0ODcpLGk9aChpLG4scixvLGVbdSsxMl0sMTEsLTQyMTgxNTgzNSksbz1oKG8saSxuLHIsZVt1KzE1XSwxNiw1MzA3NDI1MjApLG49cChuLHI9aChyLG8saSxuLGVbdSsyXSwyMywtOTk1MzM4NjUxKSxvLGksZVt1KzBdLDYsLTE5ODYzMDg0NCksaT1wKGksbixyLG8sZVt1KzddLDEwLDExMjY4OTE0MTUpLG89cChvLGksbixyLGVbdSsxNF0sMTUsLTE0MTYzNTQ5MDUpLHI9cChyLG8saSxuLGVbdSs1XSwyMSwtNTc0MzQwNTUpLG49cChuLHIsbyxpLGVbdSsxMl0sNiwxNzAwNDg1NTcxKSxpPXAoaSxuLHIsbyxlW3UrM10sMTAsLTE4OTQ5ODY2MDYpLG89cChvLGksbixyLGVbdSsxMF0sMTUsLTEwNTE1MjMpLHI9cChyLG8saSxuLGVbdSsxXSwyMSwtMjA1NDkyMjc5OSksbj1wKG4scixvLGksZVt1KzhdLDYsMTg3MzMxMzM1OSksaT1wKGksbixyLG8sZVt1KzE1XSwxMCwtMzA2MTE3NDQpLG89cChvLGksbixyLGVbdSs2XSwxNSwtMTU2MDE5ODM4MCkscj1wKHIsbyxpLG4sZVt1KzEzXSwyMSwxMzA5MTUxNjQ5KSxuPXAobixyLG8saSxlW3UrNF0sNiwtMTQ1NTIzMDcwKSxpPXAoaSxuLHIsbyxlW3UrMTFdLDEwLC0xMTIwMjEwMzc5KSxvPXAobyxpLG4scixlW3UrMl0sMTUsNzE4Nzg3MjU5KSxyPXAocixvLGksbixlW3UrOV0sMjEsLTM0MzQ4NTU1MSksbj1nKG4scykscj1nKHIsYSksbz1nKG8sZiksaT1nKGksbCl9cmV0dXJuIEFycmF5KG4scixvLGkpfWZ1bmN0aW9uIHMoZSx0LG4scixvLGkpe3JldHVybiBnKCh0PWcoZyh0LGUpLGcocixpKSkpPDxvfHQ+Pj4zMi1vLG4pfWZ1bmN0aW9uIGMoZSx0LG4scixvLGksdSl7cmV0dXJuIHModCZufH50JnIsZSx0LG8saSx1KX1mdW5jdGlvbiBkKGUsdCxuLHIsbyxpLHUpe3JldHVybiBzKHQmcnxuJn5yLGUsdCxvLGksdSl9ZnVuY3Rpb24gaChlLHQsbixyLG8saSx1KXtyZXR1cm4gcyh0Xm5ecixlLHQsbyxpLHUpfWZ1bmN0aW9uIHAoZSx0LG4scixvLGksdSl7cmV0dXJuIHMobl4odHx+ciksZSx0LG8saSx1KX1mdW5jdGlvbiBnKGUsdCl7dmFyIG49KDY1NTM1JmUpKyg2NTUzNSZ0KTtyZXR1cm4oZT4+MTYpKyh0Pj4xNikrKG4+PjE2KTw8MTZ8NjU1MzUmbn1iLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFzaChlLG4sMTYpfX0uY2FsbCh0aGlzLHcoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSx3KFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbWQ1LmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnlcIil9LHtcIi4vaGVscGVyc1wiOjQsYnVmZmVyOjMsbFlwb0kyOjExfV0sNzpbZnVuY3Rpb24oZSxsLHQpeyFmdW5jdGlvbihlLHQsbixyLG8saSx1LHMsZil7dmFyIGE7bC5leHBvcnRzPWF8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKykwPT0oMyZyKSYmKHQ9NDI5NDk2NzI5NipNYXRoLnJhbmRvbSgpKSxuW3JdPXQ+Pj4oKDMmcik8PDMpJjI1NTtyZXR1cm4gbn19LmNhbGwodGhpcyxlKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L3JuZy5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5XCIpfSx7YnVmZmVyOjMsbFlwb0kyOjExfV0sODpbZnVuY3Rpb24oYyxkLGUpeyFmdW5jdGlvbihlLHQsbixyLG8scyxhLGYsbCl7dmFyIGk9YyhcIi4vaGVscGVyc1wiKTtmdW5jdGlvbiB1KGwsYyl7bFtjPj41XXw9MTI4PDwyNC1jJTMyLGxbMTUrKGMrNjQ+Pjk8PDQpXT1jO2Zvcih2YXIgZSx0LG4scj1BcnJheSg4MCksbz0xNzMyNTg0MTkzLGk9LTI3MTczMzg3OSx1PS0xNzMyNTg0MTk0LHM9MjcxNzMzODc4LGQ9LTEwMDk1ODk3NzYsaD0wO2g8bC5sZW5ndGg7aCs9MTYpe2Zvcih2YXIgcD1vLGc9aSx5PXUsdz1zLGI9ZCxhPTA7YTw4MDthKyspe3JbYV09YTwxNj9sW2grYV06dihyW2EtM11eclthLThdXnJbYS0xNF1eclthLTE2XSwxKTt2YXIgZj1tKG0odihvLDUpLChmPWksdD11LG49cywoZT1hKTwyMD9mJnR8fmYmbjohKGU8NDApJiZlPDYwP2YmdHxmJm58dCZuOmZedF5uKSksbShtKGQsclthXSksKGU9YSk8MjA/MTUxODUwMDI0OTplPDQwPzE4NTk3NzUzOTM6ZTw2MD8tMTg5NDAwNzU4ODotODk5NDk3NTE0KSksZD1zLHM9dSx1PXYoaSwzMCksaT1vLG89Zn1vPW0obyxwKSxpPW0oaSxnKSx1PW0odSx5KSxzPW0ocyx3KSxkPW0oZCxiKX1yZXR1cm4gQXJyYXkobyxpLHUscyxkKX1mdW5jdGlvbiBtKGUsdCl7dmFyIG49KDY1NTM1JmUpKyg2NTUzNSZ0KTtyZXR1cm4oZT4+MTYpKyh0Pj4xNikrKG4+PjE2KTw8MTZ8NjU1MzUmbn1mdW5jdGlvbiB2KGUsdCl7cmV0dXJuIGU8PHR8ZT4+PjMyLXR9ZC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpLmhhc2goZSx1LDIwLCEwKX19LmNhbGwodGhpcyxjKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sYyhcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L3NoYS5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5XCIpfSx7XCIuL2hlbHBlcnNcIjo0LGJ1ZmZlcjozLGxZcG9JMjoxMX1dLDk6W2Z1bmN0aW9uKGMsZCxlKXshZnVuY3Rpb24oZSx0LG4scix1LHMsYSxmLGwpe2Z1bmN0aW9uIGIoZSx0KXt2YXIgbj0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufWZ1bmN0aW9uIG8oZSxsKXt2YXIgYyxkPW5ldyBBcnJheSgxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOTgpLHQ9bmV3IEFycmF5KDE3NzkwMzM3MDMsMzE0NDEzNDI3NywxMDEzOTA0MjQyLDI3NzM0ODA3NjIsMTM1OTg5MzExOSwyNjAwODIyOTI0LDUyODczNDYzNSwxNTQxNDU5MjI1KSxuPW5ldyBBcnJheSg2NCk7ZVtsPj41XXw9MTI4PDwyNC1sJTMyLGVbMTUrKGwrNjQ+Pjk8PDQpXT1sO2Zvcih2YXIgcixvLGg9MDtoPGUubGVuZ3RoO2grPTE2KXtmb3IodmFyIGk9dFswXSx1PXRbMV0scz10WzJdLHA9dFszXSxhPXRbNF0sZz10WzVdLHk9dFs2XSx3PXRbN10sZj0wO2Y8NjQ7ZisrKW5bZl09ZjwxNj9lW2YraF06YihiKGIoKG89bltmLTJdLG0obywxNylebShvLDE5KV52KG8sMTApKSxuW2YtN10pLChvPW5bZi0xNV0sbShvLDcpXm0obywxOCledihvLDMpKSksbltmLTE2XSksYz1iKGIoYihiKHcsbShvPWEsNilebShvLDExKV5tKG8sMjUpKSxhJmdefmEmeSksZFtmXSksbltmXSkscj1iKG0ocj1pLDIpXm0ociwxMylebShyLDIyKSxpJnVeaSZzXnUmcyksdz15LHk9ZyxnPWEsYT1iKHAsYykscD1zLHM9dSx1PWksaT1iKGMscik7dFswXT1iKGksdFswXSksdFsxXT1iKHUsdFsxXSksdFsyXT1iKHMsdFsyXSksdFszXT1iKHAsdFszXSksdFs0XT1iKGEsdFs0XSksdFs1XT1iKGcsdFs1XSksdFs2XT1iKHksdFs2XSksdFs3XT1iKHcsdFs3XSl9cmV0dXJuIHR9dmFyIGk9YyhcIi4vaGVscGVyc1wiKSxtPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj50fGU8PDMyLXR9LHY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+PnR9O2QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaS5oYXNoKGUsbywzMiwhMCl9fS5jYWxsKHRoaXMsYyhcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGMoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9zaGEyNTYuanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeVwiKX0se1wiLi9oZWxwZXJzXCI6NCxidWZmZXI6MyxsWXBvSTI6MTF9XSwxMDpbZnVuY3Rpb24oZSx0LGYpeyFmdW5jdGlvbihlLHQsbixyLG8saSx1LHMsYSl7Zi5yZWFkPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksdSxsPTgqby1yLTEsYz0oMTw8bCktMSxkPWM+PjEscz0tNyxhPW4/by0xOjAsZj1uPy0xOjEsbz1lW3QrYV07Zm9yKGErPWYsaT1vJigxPDwtcyktMSxvPj49LXMscys9bDswPHM7aT0yNTYqaStlW3QrYV0sYSs9ZixzLT04KTtmb3IodT1pJigxPDwtcyktMSxpPj49LXMscys9cjswPHM7dT0yNTYqdStlW3QrYV0sYSs9ZixzLT04KTtpZigwPT09aSlpPTEtZDtlbHNle2lmKGk9PT1jKXJldHVybiB1P05hTjoxLzAqKG8/LTE6MSk7dSs9TWF0aC5wb3coMixyKSxpLT1kfXJldHVybihvPy0xOjEpKnUqTWF0aC5wb3coMixpLXIpfSxmLndyaXRlPWZ1bmN0aW9uKGUsdCxsLG4scixjKXt2YXIgbyxpLHU9OCpjLXItMSxzPSgxPDx1KS0xLGE9cz4+MSxkPTIzPT09cj9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsZj1uPzA6Yy0xLGg9bj8xOi0xLGM9dDwwfHwwPT09dCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhpPWlzTmFOKHQpPzE6MCxvPXMpOihvPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKG49TWF0aC5wb3coMiwtbykpPDEmJihvLS0sbio9MiksMjw9KHQrPTE8PW8rYT9kL246ZCpNYXRoLnBvdygyLDEtYSkpKm4mJihvKyssbi89Miksczw9bythPyhpPTAsbz1zKToxPD1vK2E/KGk9KHQqbi0xKSpNYXRoLnBvdygyLHIpLG8rPWEpOihpPXQqTWF0aC5wb3coMixhLTEpKk1hdGgucG93KDIsciksbz0wKSk7ODw9cjtlW2wrZl09MjU1JmksZis9aCxpLz0yNTYsci09OCk7Zm9yKG89bzw8cnxpLHUrPXI7MDx1O2VbbCtmXT0yNTUmbyxmKz1oLG8vPTI1Nix1LT04KTtlW2wrZi1oXXw9MTI4KmN9fS5jYWxsKHRoaXMsZShcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvaWVlZTc1NFwiKX0se2J1ZmZlcjozLGxZcG9JMjoxMX1dLDExOltmdW5jdGlvbihlLGgsdCl7IWZ1bmN0aW9uKGUsdCxuLHIsbyxmLGwsYyxkKXt2YXIgaSx1LHM7ZnVuY3Rpb24gYSgpe30oZT1oLmV4cG9ydHM9e30pLm5leHRUaWNrPSh1PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5zZXRJbW1lZGlhdGUscz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucG9zdE1lc3NhZ2UmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyLHU/ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5zZXRJbW1lZGlhdGUoZSl9OnM/KGk9W10sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zb3VyY2U7dCE9PXdpbmRvdyYmbnVsbCE9PXR8fFwicHJvY2Vzcy10aWNrXCIhPT1lLmRhdGF8fChlLnN0b3BQcm9wYWdhdGlvbigpLDA8aS5sZW5ndGgmJmkuc2hpZnQoKSgpKX0sITApLGZ1bmN0aW9uKGUpe2kucHVzaChlKSx3aW5kb3cucG9zdE1lc3NhZ2UoXCJwcm9jZXNzLXRpY2tcIixcIipcIil9KTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsMCl9KSxlLnRpdGxlPVwiYnJvd3NlclwiLGUuYnJvd3Nlcj0hMCxlLmVudj17fSxlLmFyZ3Y9W10sZS5vbj1hLGUuYWRkTGlzdGVuZXI9YSxlLm9uY2U9YSxlLm9mZj1hLGUucmVtb3ZlTGlzdGVuZXI9YSxlLnJlbW92ZUFsbExpc3RlbmVycz1hLGUuZW1pdD1hLGUuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sZS5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0sZS5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9fS5jYWxsKHRoaXMsZShcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzXCIpfSx7YnVmZmVyOjMsbFlwb0kyOjExfV19LHt9LFsxXSkoMSl9KTsiLCJpbXBvcnQgaGFzaCBmcm9tIFwib2JqZWN0LWhhc2hcIjtcbmltcG9ydCB7IG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlLCB9IGZyb20gXCIuLi9zY2hlbWEvaW5kZXguanNcIjtcbi8qKlxuICogVGhpcyBjYWNoZSBrZXkgc2hvdWxkIGJlIGNvbnNpc3RlbnQgYWNyb3NzIGFsbCB2ZXJzaW9ucyBvZiBsYW5nY2hhaW4uXG4gKiBJdCBpcyBjdXJyZW50bHkgTk9UIGNvbnNpc3RlbnQgYWNyb3NzIHZlcnNpb25zIG9mIGxhbmdjaGFpbi5cbiAqXG4gKiBBIGh1Z2UgYmVuZWZpdCBvZiBoYXZpbmcgYSByZW1vdGUgY2FjaGUgKGxpa2UgcmVkaXMpIGlzIHRoYXQgeW91IGNhblxuICogYWNjZXNzIHRoZSBjYWNoZSBmcm9tIGRpZmZlcmVudCBwcm9jZXNzZXMvbWFjaGluZXMuIFRoZSBhbGxvd3MgeW91IHRvXG4gKiBzZXBlcmF0ZSBjb25jZXJucyBhbmQgc2NhbGUgaG9yaXpvbnRhbGx5LlxuICpcbiAqIFRPRE86IE1ha2UgY2FjaGUga2V5IGNvbnNpc3RlbnQgYWNyb3NzIHZlcnNpb25zIG9mIGxhbmdjaGFpbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldENhY2hlS2V5ID0gKC4uLnN0cmluZ3MpID0+IGhhc2goc3RyaW5ncy5qb2luKFwiX1wiKSk7XG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVTdG9yZWRHZW5lcmF0aW9uKHN0b3JlZEdlbmVyYXRpb24pIHtcbiAgICBpZiAoc3RvcmVkR2VuZXJhdGlvbi5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRleHQ6IHN0b3JlZEdlbmVyYXRpb24udGV4dCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlKHN0b3JlZEdlbmVyYXRpb24ubWVzc2FnZSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyB0ZXh0OiBzdG9yZWRHZW5lcmF0aW9uLnRleHQgfTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplR2VuZXJhdGlvbihnZW5lcmF0aW9uKSB7XG4gICAgY29uc3Qgc2VyaWFsaXplZFZhbHVlID0ge1xuICAgICAgICB0ZXh0OiBnZW5lcmF0aW9uLnRleHQsXG4gICAgfTtcbiAgICBpZiAoZ2VuZXJhdGlvbi5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2VyaWFsaXplZFZhbHVlLm1lc3NhZ2UgPSBnZW5lcmF0aW9uLm1lc3NhZ2UudG9EaWN0KCk7XG4gICAgfVxuICAgIHJldHVybiBzZXJpYWxpemVkVmFsdWU7XG59XG4iLCJpbXBvcnQgeyBnZXRDYWNoZUtleSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IEJhc2VDYWNoZSB9IGZyb20gXCIuLi9zY2hlbWEvaW5kZXguanNcIjtcbmNvbnN0IEdMT0JBTF9NQVAgPSBuZXcgTWFwKCk7XG4vKipcbiAqIEEgY2FjaGUgZm9yIHN0b3JpbmcgTExNIGdlbmVyYXRpb25zIHRoYXQgc3RvcmVzIGRhdGEgaW4gbWVtb3J5LlxuICovXG5leHBvcnQgY2xhc3MgSW5NZW1vcnlDYWNoZSBleHRlbmRzIEJhc2VDYWNoZSB7XG4gICAgY29uc3RydWN0b3IobWFwKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNhY2hlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBtYXAgPz8gbmV3IE1hcCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgZGF0YSBmcm9tIHRoZSBjYWNoZSB1c2luZyBhIHByb21wdCBhbmQgYW4gTExNIGtleS4gSWYgdGhlXG4gICAgICogZGF0YSBpcyBub3QgZm91bmQsIGl0IHJldHVybnMgbnVsbC5cbiAgICAgKiBAcGFyYW0gcHJvbXB0IFRoZSBwcm9tcHQgdXNlZCB0byBmaW5kIHRoZSBkYXRhLlxuICAgICAqIEBwYXJhbSBsbG1LZXkgVGhlIExMTSBrZXkgdXNlZCB0byBmaW5kIHRoZSBkYXRhLlxuICAgICAqIEByZXR1cm5zIFRoZSBkYXRhIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb21wdCBhbmQgTExNIGtleSwgb3IgbnVsbCBpZiBub3QgZm91bmQuXG4gICAgICovXG4gICAgbG9va3VwKHByb21wdCwgbGxtS2V5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jYWNoZS5nZXQoZ2V0Q2FjaGVLZXkocHJvbXB0LCBsbG1LZXkpKSA/PyBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY2FjaGUgd2l0aCBuZXcgZGF0YSB1c2luZyBhIHByb21wdCBhbmQgYW4gTExNIGtleS5cbiAgICAgKiBAcGFyYW0gcHJvbXB0IFRoZSBwcm9tcHQgdXNlZCB0byBzdG9yZSB0aGUgZGF0YS5cbiAgICAgKiBAcGFyYW0gbGxtS2V5IFRoZSBMTE0ga2V5IHVzZWQgdG8gc3RvcmUgdGhlIGRhdGEuXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSBkYXRhIHRvIGJlIHN0b3JlZC5cbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGUocHJvbXB0LCBsbG1LZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY2FjaGUuc2V0KGdldENhY2hlS2V5KHByb21wdCwgbGxtS2V5KSwgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZ2xvYmFsIGluc3RhbmNlIG9mIEluTWVtb3J5Q2FjaGUgdXNpbmcgYSBwcmVkZWZpbmVkIGdsb2JhbFxuICAgICAqIG1hcCBhcyB0aGUgaW5pdGlhbCBjYWNoZS5cbiAgICAgKiBAcmV0dXJucyBBIGdsb2JhbCBpbnN0YW5jZSBvZiBJbk1lbW9yeUNhY2hlLlxuICAgICAqL1xuICAgIHN0YXRpYyBnbG9iYWwoKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW5NZW1vcnlDYWNoZShHTE9CQUxfTUFQKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSwgfSBmcm9tIFwiLi4vc2NoZW1hL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBBc3luY0NhbGxlciB9IGZyb20gXCIuLi91dGlsL2FzeW5jX2NhbGxlci5qc1wiO1xuaW1wb3J0IHsgZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4gfSBmcm9tIFwiLi9jb3VudF90b2tlbnMuanNcIjtcbmltcG9ydCB7IGVuY29kaW5nRm9yTW9kZWwgfSBmcm9tIFwiLi4vdXRpbC90aWt0b2tlbi5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGUgfSBmcm9tIFwiLi4vc2NoZW1hL3J1bm5hYmxlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBTdHJpbmdQcm9tcHRWYWx1ZSB9IGZyb20gXCIuLi9wcm9tcHRzL2Jhc2UuanNcIjtcbmltcG9ydCB7IENoYXRQcm9tcHRWYWx1ZSB9IGZyb20gXCIuLi9wcm9tcHRzL2NoYXQuanNcIjtcbmltcG9ydCB7IEluTWVtb3J5Q2FjaGUgfSBmcm9tIFwiLi4vY2FjaGUvaW5kZXguanNcIjtcbmNvbnN0IGdldFZlcmJvc2l0eSA9ICgpID0+IGZhbHNlO1xuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBsYW5ndWFnZSBtb2RlbHMsIGNoYWlucywgdG9vbHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlTGFuZ0NoYWluIGV4dGVuZHMgUnVubmFibGUge1xuICAgIGdldCBsY19hdHRyaWJ1dGVzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB2ZXJib3NlOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBzdXBlcihwYXJhbXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0byBwcmludCBvdXQgcmVzcG9uc2UgdGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZlcmJvc2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FsbGJhY2tzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRhZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWV0YWRhdGFcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZXJib3NlID0gcGFyYW1zLnZlcmJvc2UgPz8gZ2V0VmVyYm9zaXR5KCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gcGFyYW1zLmNhbGxiYWNrcztcbiAgICAgICAgdGhpcy50YWdzID0gcGFyYW1zLnRhZ3MgPz8gW107XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBwYXJhbXMubWV0YWRhdGEgPz8ge307XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBsYW5ndWFnZSBtb2RlbHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlTGFuZ3VhZ2VNb2RlbCBleHRlbmRzIEJhc2VMYW5nQ2hhaW4ge1xuICAgIC8qKlxuICAgICAqIEtleXMgdGhhdCB0aGUgbGFuZ3VhZ2UgbW9kZWwgYWNjZXB0cyBhcyBjYWxsIG9wdGlvbnMuXG4gICAgICovXG4gICAgZ2V0IGNhbGxLZXlzKCkge1xuICAgICAgICByZXR1cm4gW1wic3RvcFwiLCBcInRpbWVvdXRcIiwgXCJzaWduYWxcIiwgXCJ0YWdzXCIsIFwibWV0YWRhdGFcIiwgXCJjYWxsYmFja3NcIl07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHsgY2FsbGJhY2tzLCBjYWxsYmFja01hbmFnZXIsIC4uLnBhcmFtcyB9KSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGNhbGxiYWNrczogY2FsbGJhY2tzID8/IGNhbGxiYWNrTWFuYWdlcixcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXN5bmMgY2FsbGVyIHNob3VsZCBiZSB1c2VkIGJ5IHN1YmNsYXNzZXMgdG8gbWFrZSBhbnkgYXN5bmMgY2FsbHMsXG4gICAgICAgICAqIHdoaWNoIHdpbGwgdGh1cyBiZW5lZml0IGZyb20gdGhlIGNvbmN1cnJlbmN5IGFuZCByZXRyeSBsb2dpYy5cbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNhbGxlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjYWNoZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZW5jb2RpbmdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMuY2FjaGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUgPSBwYXJhbXMuY2FjaGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW1zLmNhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlID0gSW5NZW1vcnlDYWNoZS5nbG9iYWwoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWxsZXIgPSBuZXcgQXN5bmNDYWxsZXIocGFyYW1zID8/IHt9KTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TnVtVG9rZW5zKHRleHQpIHtcbiAgICAgICAgLy8gZmFsbGJhY2sgdG8gYXBwcm94aW1hdGUgY2FsY3VsYXRpb24gaWYgdGlrdG9rZW4gaXMgbm90IGF2YWlsYWJsZVxuICAgICAgICBsZXQgbnVtVG9rZW5zID0gTWF0aC5jZWlsKHRleHQubGVuZ3RoIC8gNCk7XG4gICAgICAgIGlmICghdGhpcy5fZW5jb2RpbmcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5jb2RpbmcgPSBhd2FpdCBlbmNvZGluZ0Zvck1vZGVsKFwibW9kZWxOYW1lXCIgaW4gdGhpc1xuICAgICAgICAgICAgICAgICAgICA/IGdldE1vZGVsTmFtZUZvclRpa3Rva2VuKHRoaXMubW9kZWxOYW1lKVxuICAgICAgICAgICAgICAgICAgICA6IFwiZ3B0MlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBjYWxjdWxhdGUgbnVtYmVyIG9mIHRva2VucywgZmFsbGluZyBiYWNrIHRvIGFwcHJveGltYXRlIGNvdW50XCIsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZW5jb2RpbmcpIHtcbiAgICAgICAgICAgIG51bVRva2VucyA9IHRoaXMuX2VuY29kaW5nLmVuY29kZSh0ZXh0KS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bVRva2VucztcbiAgICB9XG4gICAgc3RhdGljIF9jb252ZXJ0SW5wdXRUb1Byb21wdFZhbHVlKGlucHV0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyaW5nUHJvbXB0VmFsdWUoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENoYXRQcm9tcHRWYWx1ZShpbnB1dC5tYXAoY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGlkZW50aWZ5aW5nIHBhcmFtZXRlcnMgb2YgdGhlIExMTS5cbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9pZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB1bmlxdWUgY2FjaGUga2V5IGZvciBhIHNwZWNpZmljIGNhbGwgdG8gYSBzcGVjaWZpYyBsYW5ndWFnZSBtb2RlbC5cbiAgICAgKiBAcGFyYW0gY2FsbE9wdGlvbnMgQ2FsbCBvcHRpb25zIGZvciB0aGUgbW9kZWxcbiAgICAgKiBAcmV0dXJucyBBIHVuaXF1ZSBjYWNoZSBrZXkuXG4gICAgICovXG4gICAgX2dldFNlcmlhbGl6ZWRDYWNoZUtleVBhcmFtZXRlcnNGb3JDYWxsKGNhbGxPcHRpb25zKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCksXG4gICAgICAgICAgICAuLi5jYWxsT3B0aW9ucyxcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9sbG1UeXBlKCksXG4gICAgICAgICAgICBfbW9kZWw6IHRoaXMuX21vZGVsVHlwZSgpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBmaWx0ZXJlZEVudHJpZXMgPSBPYmplY3QuZW50cmllcyhwYXJhbXMpLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRFbnRyaWVzID0gZmlsdGVyZWRFbnRyaWVzXG4gICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IGAke2tleX06JHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9YClcbiAgICAgICAgICAgIC5zb3J0KClcbiAgICAgICAgICAgIC5qb2luKFwiLFwiKTtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZWRFbnRyaWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIFJldHVybiBhIGpzb24tbGlrZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoaXMgTExNLlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCksXG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fbGxtVHlwZSgpLFxuICAgICAgICAgICAgX21vZGVsOiB0aGlzLl9tb2RlbFR5cGUoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBMb2FkIGFuIExMTSBmcm9tIGEganNvbi1saWtlIG9iamVjdCBkZXNjcmliaW5nIGl0LlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgX3R5cGUsIF9tb2RlbCwgLi4ucmVzdCB9ID0gZGF0YTtcbiAgICAgICAgaWYgKF9tb2RlbCAmJiBfbW9kZWwgIT09IFwiYmFzZV9jaGF0X21vZGVsXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGxvYWQgTExNIHdpdGggbW9kZWwgJHtfbW9kZWx9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgQ2xzID0ge1xuICAgICAgICAgICAgb3BlbmFpOiAoYXdhaXQgaW1wb3J0KFwiLi4vY2hhdF9tb2RlbHMvb3BlbmFpLmpzXCIpKS5DaGF0T3BlbkFJLFxuICAgICAgICB9W190eXBlXTtcbiAgICAgICAgaWYgKENscyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBsb2FkIExMTSB3aXRoIHR5cGUgJHtfdHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENscyhyZXN0KTtcbiAgICB9XG59XG4vKlxuICogRXhwb3J0IHV0aWxpdHkgZnVuY3Rpb25zIGZvciB0b2tlbiBjYWxjdWxhdGlvbnM6XG4gKiAtIGNhbGN1bGF0ZU1heFRva2VuczogQ2FsY3VsYXRlIG1heCB0b2tlbnMgZm9yIGEgZ2l2ZW4gbW9kZWwgYW5kIHByb21wdCAodGhlIG1vZGVsIGNvbnRleHQgc2l6ZSAtIHRva2VucyBpbiBwcm9tcHQpLlxuICogLSBnZXRNb2RlbENvbnRleHRTaXplOiBHZXQgdGhlIGNvbnRleHQgc2l6ZSBmb3IgYSBzcGVjaWZpYyBtb2RlbC5cbiAqL1xuZXhwb3J0IHsgY2FsY3VsYXRlTWF4VG9rZW5zLCBnZXRNb2RlbENvbnRleHRTaXplIH0gZnJvbSBcIi4vY291bnRfdG9rZW5zLmpzXCI7XG4iLCJpbXBvcnQgeyBBSU1lc3NhZ2UsIEdlbmVyYXRpb25DaHVuaywgUlVOX0tFWSwgfSBmcm9tIFwiLi4vc2NoZW1hL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYXNlTGFuZ3VhZ2VNb2RlbCwgfSBmcm9tIFwiLi4vYmFzZV9sYW5ndWFnZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgQ2FsbGJhY2tNYW5hZ2VyLCB9IGZyb20gXCIuLi9jYWxsYmFja3MvbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgZ2V0QnVmZmVyU3RyaW5nIH0gZnJvbSBcIi4uL21lbW9yeS9iYXNlLmpzXCI7XG4vKipcbiAqIExMTSBXcmFwcGVyLiBQcm92aWRlcyBhbiB7QGxpbmsgY2FsbH0gKGFuIHtAbGluayBnZW5lcmF0ZX0pIGZ1bmN0aW9uIHRoYXQgdGFrZXMgaW4gYSBwcm9tcHQgKG9yIHByb21wdHMpIGFuZCByZXR1cm5zIGEgc3RyaW5nLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZUxMTSBleHRlbmRzIEJhc2VMYW5ndWFnZU1vZGVsIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGNvbmN1cnJlbmN5LCAuLi5yZXN0IH0pIHtcbiAgICAgICAgc3VwZXIoY29uY3VycmVuY3kgPyB7IG1heENvbmN1cnJlbmN5OiBjb25jdXJyZW5jeSwgLi4ucmVzdCB9IDogcmVzdCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwibGxtc1wiLCB0aGlzLl9sbG1UeXBlKCldXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB0YWtlcyBhbiBpbnB1dCBhbmQgb3B0aW9ucywgYW5kIHJldHVybnMgYSBzdHJpbmcuIEl0XG4gICAgICogY29udmVydHMgdGhlIGlucHV0IHRvIGEgcHJvbXB0IHZhbHVlIGFuZCBnZW5lcmF0ZXMgYSByZXN1bHQgYmFzZWQgb25cbiAgICAgKiB0aGUgcHJvbXB0LlxuICAgICAqIEBwYXJhbSBpbnB1dCBJbnB1dCBmb3IgdGhlIExMTS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgTExNIGNhbGwuXG4gICAgICogQHJldHVybnMgQSBzdHJpbmcgcmVzdWx0IGJhc2VkIG9uIHRoZSBwcm9tcHQuXG4gICAgICovXG4gICAgYXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHByb21wdFZhbHVlID0gQmFzZUxMTS5fY29udmVydElucHV0VG9Qcm9tcHRWYWx1ZShpbnB1dCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVQcm9tcHQoW3Byb21wdFZhbHVlXSwgb3B0aW9ucywgb3B0aW9ucz8uY2FsbGJhY2tzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5nZW5lcmF0aW9uc1swXVswXS50ZXh0O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVxdWlyZS15aWVsZFxuICAgIGFzeW5jICpfc3RyZWFtUmVzcG9uc2VDaHVua3MoX2lucHV0LCBfb3B0aW9ucywgX3J1bk1hbmFnZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gICAgX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBjb25zdCBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXSA9IHN1cGVyLl9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBpZiAoY2FsbE9wdGlvbnM/LnRpbWVvdXQgJiYgIWNhbGxPcHRpb25zLnNpZ25hbCkge1xuICAgICAgICAgICAgY2FsbE9wdGlvbnMuc2lnbmFsID0gQWJvcnRTaWduYWwudGltZW91dChjYWxsT3B0aW9ucy50aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc107XG4gICAgfVxuICAgIGFzeW5jICpfc3RyZWFtSXRlcmF0b3IoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gU3ViY2xhc3MgY2hlY2sgcmVxdWlyZWQgdG8gYXZvaWQgZG91YmxlIGNhbGxiYWNrcyB3aXRoIGRlZmF1bHQgaW1wbGVtZW50YXRpb25cbiAgICAgICAgaWYgKHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzID09PSBCYXNlTExNLnByb3RvdHlwZS5fc3RyZWFtUmVzcG9uc2VDaHVua3MpIHtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuaW52b2tlKGlucHV0LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IEJhc2VMTE0uX2NvbnZlcnRJbnB1dFRvUHJvbXB0VmFsdWUoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc10gPSB0aGlzLl9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUocnVubmFibGVDb25maWcuY2FsbGJhY2tzLCB0aGlzLmNhbGxiYWNrcywgcnVubmFibGVDb25maWcudGFncywgdGhpcy50YWdzLCBydW5uYWJsZUNvbmZpZy5tZXRhZGF0YSwgdGhpcy5tZXRhZGF0YSwgeyB2ZXJib3NlOiB0aGlzLnZlcmJvc2UgfSk7XG4gICAgICAgICAgICBjb25zdCBleHRyYSA9IHtcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBjYWxsT3B0aW9ucyxcbiAgICAgICAgICAgICAgICBpbnZvY2F0aW9uX3BhcmFtczogdGhpcz8uaW52b2NhdGlvblBhcmFtcyhjYWxsT3B0aW9ucyksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVMTE1TdGFydCh0aGlzLnRvSlNPTigpLCBbcHJvbXB0LnRvU3RyaW5nKCldLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZXh0cmEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBydW5uYWJsZUNvbmZpZy5ydW5OYW1lKTtcbiAgICAgICAgICAgIGxldCBnZW5lcmF0aW9uID0gbmV3IEdlbmVyYXRpb25DaHVuayh7XG4gICAgICAgICAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKGlucHV0LnRvU3RyaW5nKCksIGNhbGxPcHRpb25zLCBydW5NYW5hZ2Vycz8uWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdlbmVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb24gPSBjaHVuaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb24gPSBnZW5lcmF0aW9uLmNvbmNhdChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaHVuay50ZXh0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCBjaHVuay50ZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKChydW5NYW5hZ2VycyA/PyBbXSkubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVMTE1FcnJvcihlcnIpKSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoKHJ1bk1hbmFnZXJzID8/IFtdKS5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTUVuZCh7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnM6IFtbZ2VuZXJhdGlvbl1dLFxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB0YWtlcyBwcm9tcHQgdmFsdWVzLCBvcHRpb25zLCBhbmQgY2FsbGJhY2tzLCBhbmQgZ2VuZXJhdGVzXG4gICAgICogYSByZXN1bHQgYmFzZWQgb24gdGhlIHByb21wdHMuXG4gICAgICogQHBhcmFtIHByb21wdFZhbHVlcyBQcm9tcHQgdmFsdWVzIGZvciB0aGUgTExNLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgZm9yIHRoZSBMTE0gY2FsbC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIENhbGxiYWNrcyBmb3IgdGhlIExMTSBjYWxsLlxuICAgICAqIEByZXR1cm5zIEFuIExMTVJlc3VsdCBiYXNlZCBvbiB0aGUgcHJvbXB0cy5cbiAgICAgKi9cbiAgICBhc3luYyBnZW5lcmF0ZVByb21wdChwcm9tcHRWYWx1ZXMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICBjb25zdCBwcm9tcHRzID0gcHJvbXB0VmFsdWVzLm1hcCgocHJvbXB0VmFsdWUpID0+IHByb21wdFZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZShwcm9tcHRzLCBvcHRpb25zLCBjYWxsYmFja3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBhcmFtZXRlcnMgdXNlZCB0byBpbnZva2UgdGhlIG1vZGVsXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBpbnZvY2F0aW9uUGFyYW1zKF9vcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgX2ZsYXR0ZW5MTE1SZXN1bHQobGxtUmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IGxsbVJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsbG1SZXN1bHQuZ2VuZXJhdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGdlbkxpc3QgPSBsbG1SZXN1bHQuZ2VuZXJhdGlvbnNbaV07XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGxsbVJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb25zOiBbZ2VuTGlzdF0sXG4gICAgICAgICAgICAgICAgICAgIGxsbU91dHB1dDogbGxtUmVzdWx0LmxsbU91dHB1dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxsbU91dHB1dCA9IGxsbVJlc3VsdC5sbG1PdXRwdXRcbiAgICAgICAgICAgICAgICAgICAgPyB7IC4uLmxsbVJlc3VsdC5sbG1PdXRwdXQsIHRva2VuVXNhZ2U6IHt9IH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbGxtUmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnM6IFtnZW5MaXN0XSxcbiAgICAgICAgICAgICAgICAgICAgbGxtT3V0cHV0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsbG1SZXN1bHRzO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9nZW5lcmF0ZVVuY2FjaGVkKHByb21wdHMsIHBhcnNlZE9wdGlvbnMsIGhhbmRsZWRPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBDYWxsYmFja01hbmFnZXIuY29uZmlndXJlKGhhbmRsZWRPcHRpb25zLmNhbGxiYWNrcywgdGhpcy5jYWxsYmFja3MsIGhhbmRsZWRPcHRpb25zLnRhZ3MsIHRoaXMudGFncywgaGFuZGxlZE9wdGlvbnMubWV0YWRhdGEsIHRoaXMubWV0YWRhdGEsIHsgdmVyYm9zZTogdGhpcy52ZXJib3NlIH0pO1xuICAgICAgICBjb25zdCBleHRyYSA9IHtcbiAgICAgICAgICAgIG9wdGlvbnM6IHBhcnNlZE9wdGlvbnMsXG4gICAgICAgICAgICBpbnZvY2F0aW9uX3BhcmFtczogdGhpcz8uaW52b2NhdGlvblBhcmFtcyhwYXJzZWRPcHRpb25zKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVMTE1TdGFydCh0aGlzLnRvSlNPTigpLCBwcm9tcHRzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZXh0cmEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBoYW5kbGVkT3B0aW9ucz8ucnVuTmFtZSk7XG4gICAgICAgIGxldCBvdXRwdXQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBhd2FpdCB0aGlzLl9nZW5lcmF0ZShwcm9tcHRzLCBwYXJzZWRPcHRpb25zLCBydW5NYW5hZ2Vycz8uWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCgocnVuTWFuYWdlcnMgPz8gW10pLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlTExNRXJyb3IoZXJyKSkpO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZsYXR0ZW5lZE91dHB1dHMgPSB0aGlzLl9mbGF0dGVuTExNUmVzdWx0KG91dHB1dCk7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKChydW5NYW5hZ2VycyA/PyBbXSkubWFwKChydW5NYW5hZ2VyLCBpKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVMTE1FbmQoZmxhdHRlbmVkT3V0cHV0c1tpXSkpKTtcbiAgICAgICAgY29uc3QgcnVuSWRzID0gcnVuTWFuYWdlcnM/Lm1hcCgobWFuYWdlcikgPT4gbWFuYWdlci5ydW5JZCkgfHwgdW5kZWZpbmVkO1xuICAgICAgICAvLyBUaGlzIGRlZmluZXMgUlVOX0tFWSBhcyBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IG9uIHRoZSBvdXRwdXQgb2JqZWN0XG4gICAgICAgIC8vIHNvIHRoYXQgaXQgaXMgbm90IHNlcmlhbGl6ZWQgd2hlbiB0aGUgb3V0cHV0IGlzIHN0cmluZ2lmaWVkLCBhbmQgc28gdGhhdFxuICAgICAgICAvLyBpdCBpc250IGluY2x1ZGVkIHdoZW4gbGlzdGluZyB0aGUga2V5cyBvZiB0aGUgb3V0cHV0IG9iamVjdC5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG91dHB1dCwgUlVOX0tFWSwge1xuICAgICAgICAgICAgdmFsdWU6IHJ1bklkcyA/IHsgcnVuSWRzIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW4gdGhlIExMTSBvbiB0aGUgZ2l2ZW4gcHJvbXB0cyBhbmQgaW5wdXQsIGhhbmRsaW5nIGNhY2hpbmcuXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGUocHJvbXB0cywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9tcHRzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgJ3Byb21wdHMnIGlzIGV4cGVjdGVkIHRvIGJlIGEgc3RyaW5nW11cIik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhcnNlZE9wdGlvbnM7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0geyBzdG9wOiBvcHRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXSA9IHRoaXMuX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnMocGFyc2VkT3B0aW9ucyk7XG4gICAgICAgIHJ1bm5hYmxlQ29uZmlnLmNhbGxiYWNrcyA9IHJ1bm5hYmxlQ29uZmlnLmNhbGxiYWNrcyA/PyBjYWxsYmFja3M7XG4gICAgICAgIGlmICghdGhpcy5jYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dlbmVyYXRlVW5jYWNoZWQocHJvbXB0cywgY2FsbE9wdGlvbnMsIHJ1bm5hYmxlQ29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGNhY2hlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBsbG1TdHJpbmdLZXkgPSB0aGlzLl9nZXRTZXJpYWxpemVkQ2FjaGVLZXlQYXJhbWV0ZXJzRm9yQ2FsbChjYWxsT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG1pc3NpbmdQcm9tcHRJbmRpY2VzID0gW107XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbXB0cy5tYXAoYXN5bmMgKHByb21wdCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhY2hlLmxvb2t1cChwcm9tcHQsIGxsbVN0cmluZ0tleSk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIG1pc3NpbmdQcm9tcHRJbmRpY2VzLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSkpO1xuICAgICAgICBsZXQgbGxtT3V0cHV0ID0ge307XG4gICAgICAgIGlmIChtaXNzaW5nUHJvbXB0SW5kaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5fZ2VuZXJhdGVVbmNhY2hlZChtaXNzaW5nUHJvbXB0SW5kaWNlcy5tYXAoKGkpID0+IHByb21wdHNbaV0pLCBjYWxsT3B0aW9ucywgcnVubmFibGVDb25maWcpO1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocmVzdWx0cy5nZW5lcmF0aW9ucy5tYXAoYXN5bmMgKGdlbmVyYXRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbXB0SW5kZXggPSBtaXNzaW5nUHJvbXB0SW5kaWNlc1tpbmRleF07XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnNbcHJvbXB0SW5kZXhdID0gZ2VuZXJhdGlvbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGUudXBkYXRlKHByb21wdHNbcHJvbXB0SW5kZXhdLCBsbG1TdHJpbmdLZXksIGdlbmVyYXRpb24pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgbGxtT3V0cHV0ID0gcmVzdWx0cy5sbG1PdXRwdXQgPz8ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZ2VuZXJhdGlvbnMsIGxsbU91dHB1dCB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSB3cmFwcGVyIGZvciB7QGxpbmsgZ2VuZXJhdGV9IHRoYXQgdGFrZXMgaW4gYSBzaW5nbGUgc3RyaW5nIHByb21wdCBhbmQgcmV0dXJucyBhIHNpbmdsZSBzdHJpbmcgb3V0cHV0LlxuICAgICAqL1xuICAgIGFzeW5jIGNhbGwocHJvbXB0LCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgY29uc3QgeyBnZW5lcmF0aW9ucyB9ID0gYXdhaXQgdGhpcy5nZW5lcmF0ZShbcHJvbXB0XSwgb3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRpb25zWzBdWzBdLnRleHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHNpbWlsYXIgdG8gYGNhbGxgLCBidXQgaXQncyB1c2VkIGZvciBtYWtpbmcgcHJlZGljdGlvbnNcbiAgICAgKiBiYXNlZCBvbiB0aGUgaW5wdXQgdGV4dC5cbiAgICAgKiBAcGFyYW0gdGV4dCBJbnB1dCB0ZXh0IGZvciB0aGUgcHJlZGljdGlvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgTExNIGNhbGwuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrcyBDYWxsYmFja3MgZm9yIHRoZSBMTE0gY2FsbC5cbiAgICAgKiBAcmV0dXJucyBBIHByZWRpY3Rpb24gYmFzZWQgb24gdGhlIGlucHV0IHRleHQuXG4gICAgICovXG4gICAgYXN5bmMgcHJlZGljdCh0ZXh0LCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCh0ZXh0LCBvcHRpb25zLCBjYWxsYmFja3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB0YWtlcyBhIGxpc3Qgb2YgbWVzc2FnZXMsIG9wdGlvbnMsIGFuZCBjYWxsYmFja3MsIGFuZFxuICAgICAqIHJldHVybnMgYSBwcmVkaWN0ZWQgbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZXMgQSBsaXN0IG9mIG1lc3NhZ2VzIGZvciB0aGUgcHJlZGljdGlvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgTExNIGNhbGwuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrcyBDYWxsYmFja3MgZm9yIHRoZSBMTE0gY2FsbC5cbiAgICAgKiBAcmV0dXJucyBBIHByZWRpY3RlZCBtZXNzYWdlIGJhc2VkIG9uIHRoZSBsaXN0IG9mIG1lc3NhZ2VzLlxuICAgICAqL1xuICAgIGFzeW5jIHByZWRpY3RNZXNzYWdlcyhtZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBnZXRCdWZmZXJTdHJpbmcobWVzc2FnZXMpO1xuICAgICAgICBjb25zdCBwcmVkaWN0aW9uID0gYXdhaXQgdGhpcy5jYWxsKHRleHQsIG9wdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgICAgIHJldHVybiBuZXcgQUlNZXNzYWdlKHByZWRpY3Rpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGlkZW50aWZ5aW5nIHBhcmFtZXRlcnMgb2YgdGhlIExMTS5cbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9pZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIFJldHVybiBhIGpzb24tbGlrZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoaXMgTExNLlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCksXG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fbGxtVHlwZSgpLFxuICAgICAgICAgICAgX21vZGVsOiB0aGlzLl9tb2RlbFR5cGUoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX21vZGVsVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiYmFzZV9sbG1cIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBMb2FkIGFuIExMTSBmcm9tIGEganNvbi1saWtlIG9iamVjdCBkZXNjcmliaW5nIGl0LlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgX3R5cGUsIF9tb2RlbCwgLi4ucmVzdCB9ID0gZGF0YTtcbiAgICAgICAgaWYgKF9tb2RlbCAmJiBfbW9kZWwgIT09IFwiYmFzZV9sbG1cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgbG9hZCBMTE0gd2l0aCBtb2RlbCAke19tb2RlbH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBDbHMgPSB7XG4gICAgICAgICAgICBvcGVuYWk6IChhd2FpdCBpbXBvcnQoXCIuL29wZW5haS5qc1wiKSkuT3BlbkFJLFxuICAgICAgICB9W190eXBlXTtcbiAgICAgICAgaWYgKENscyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBsb2FkICBMTE0gd2l0aCB0eXBlICR7X3R5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDbHMocmVzdCk7XG4gICAgfVxufVxuLyoqXG4gKiBMTE0gY2xhc3MgdGhhdCBwcm92aWRlcyBhIHNpbXBsZXIgaW50ZXJmYWNlIHRvIHN1YmNsYXNzIHRoYW4ge0BsaW5rIEJhc2VMTE19LlxuICpcbiAqIFJlcXVpcmVzIG9ubHkgaW1wbGVtZW50aW5nIGEgc2ltcGxlciB7QGxpbmsgX2NhbGx9IG1ldGhvZCBpbnN0ZWFkIG9mIHtAbGluayBfZ2VuZXJhdGV9LlxuICpcbiAqIEBhdWdtZW50cyBCYXNlTExNXG4gKi9cbmV4cG9ydCBjbGFzcyBMTE0gZXh0ZW5kcyBCYXNlTExNIHtcbiAgICBhc3luYyBfZ2VuZXJhdGUocHJvbXB0cywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCBnZW5lcmF0aW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21wdHMubWFwKChwcm9tcHQsIHByb21wdEluZGV4KSA9PiB0aGlzLl9jYWxsKHByb21wdCwgeyAuLi5vcHRpb25zLCBwcm9tcHRJbmRleCB9LCBydW5NYW5hZ2VyKS50aGVuKCh0ZXh0KSA9PiBbeyB0ZXh0IH1dKSkpO1xuICAgICAgICByZXR1cm4geyBnZW5lcmF0aW9ucyB9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IsIEFQSVVzZXJBYm9ydEVycm9yIH0gZnJvbSBcIm9wZW5haVwiO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiB3cmFwT3BlbkFJQ2xpZW50RXJyb3IoZSkge1xuICAgIGxldCBlcnJvcjtcbiAgICBpZiAoZS5jb25zdHJ1Y3Rvci5uYW1lID09PSBBUElDb25uZWN0aW9uVGltZW91dEVycm9yLm5hbWUpIHtcbiAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgZXJyb3IubmFtZSA9IFwiVGltZW91dEVycm9yXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGUuY29uc3RydWN0b3IubmFtZSA9PT0gQVBJVXNlckFib3J0RXJyb3IubmFtZSkge1xuICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihlLm1lc3NhZ2UpO1xuICAgICAgICBlcnJvci5uYW1lID0gXCJBYm9ydEVycm9yXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlcnJvciA9IGU7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcjtcbn1cbiIsImltcG9ydCB7IE9wZW5BSSBhcyBPcGVuQUlDbGllbnQgfSBmcm9tIFwib3BlbmFpXCI7XG5pbXBvcnQgeyBHZW5lcmF0aW9uQ2h1bmsgfSBmcm9tIFwiLi4vc2NoZW1hL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBnZXRFbmRwb2ludCB9IGZyb20gXCIuLi91dGlsL2F6dXJlLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgeyBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCB9IGZyb20gXCIuLi91dGlsL3Byb21wdC1sYXllci5qc1wiO1xuaW1wb3J0IHsgTExNIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgd3JhcE9wZW5BSUNsaWVudEVycm9yIH0gZnJvbSBcIi4uL3V0aWwvb3BlbmFpLmpzXCI7XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIE9wZW5BSSBsYXJnZSBsYW5ndWFnZSBtb2RlbHMgdGhhdCB1c2UgdGhlIENoYXQgZW5kcG9pbnQuXG4gKlxuICogVG8gdXNlIHlvdSBzaG91bGQgaGF2ZSB0aGUgYG9wZW5haWAgcGFja2FnZSBpbnN0YWxsZWQsIHdpdGggdGhlXG4gKiBgT1BFTkFJX0FQSV9LRVlgIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBUbyB1c2Ugd2l0aCBBenVyZSB5b3Ugc2hvdWxkIGhhdmUgdGhlIGBvcGVuYWlgIHBhY2thZ2UgaW5zdGFsbGVkLCB3aXRoIHRoZVxuICogYEFaVVJFX09QRU5BSV9BUElfS0VZYCxcbiAqIGBBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVgLFxuICogYEFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FYFxuICogYW5kIGBBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05gIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBAcmVtYXJrc1xuICogQW55IHBhcmFtZXRlcnMgdGhhdCBhcmUgdmFsaWQgdG8gYmUgcGFzc2VkIHRvIHtAbGlua1xuICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9jaGF0L2NyZWF0ZSB8XG4gKiBgb3BlbmFpLmNyZWF0ZUNvbXBsZXRpb25gfSBjYW4gYmUgcGFzc2VkIHRocm91Z2gge0BsaW5rIG1vZGVsS3dhcmdzfSwgZXZlblxuICogaWYgbm90IGV4cGxpY2l0bHkgYXZhaWxhYmxlIG9uIHRoaXMgY2xhc3MuXG4gKlxuICogQGF1Z21lbnRzIEJhc2VMTE1cbiAqIEBhdWdtZW50cyBPcGVuQUlJbnB1dFxuICogQGF1Z21lbnRzIEF6dXJlT3BlbkFJQ2hhdElucHV0XG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuQUlDaGF0IGV4dGVuZHMgTExNIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiT3BlbkFJQ2hhdFwiO1xuICAgIH1cbiAgICBnZXQgY2FsbEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbLi4uc3VwZXIuY2FsbEtleXMsIFwib3B0aW9uc1wiLCBcInByb21wdEluZGV4XCJdO1xuICAgIH1cbiAgICBnZXQgbGNfc2VjcmV0cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wZW5BSUFwaUtleTogXCJPUEVOQUlfQVBJX0tFWVwiLFxuICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlLZXk6IFwiQVpVUkVfT1BFTkFJX0FQSV9LRVlcIixcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogXCJPUEVOQUlfT1JHQU5JWkFUSU9OXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCBsY19hbGlhc2VzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWxOYW1lOiBcIm1vZGVsXCIsXG4gICAgICAgICAgICBvcGVuQUlBcGlLZXk6IFwib3BlbmFpX2FwaV9rZXlcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpVmVyc2lvbjogXCJhenVyZV9vcGVuYWlfYXBpX3ZlcnNpb25cIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpS2V5OiBcImF6dXJlX29wZW5haV9hcGlfa2V5XCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTogXCJhenVyZV9vcGVuYWlfYXBpX2luc3RhbmNlX25hbWVcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IFwiYXp1cmVfb3BlbmFpX2FwaV9kZXBsb3ltZW50X25hbWVcIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCBcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyA/PyB7fSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGVtcGVyYXR1cmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcFBcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyZXF1ZW5jeVBlbmFsdHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByZXNlbmNlUGVuYWx0eVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibG9naXRCaWFzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heFRva2Vuc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiZ3B0LTMuNS10dXJib1wiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcmVmaXhNZXNzYWdlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbEt3YXJnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aW1lb3V0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJlYW1pbmdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcGVuQUlBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlWZXJzaW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpS2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlCYXNlUGF0aFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcmdhbml6YXRpb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudENvbmZpZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wZW5BSUFwaUtleSA9XG4gICAgICAgICAgICBmaWVsZHM/Lm9wZW5BSUFwaUtleSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkgPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaUtleSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0tFWVwiKTtcbiAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ICYmICF0aGlzLm9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3BlbkFJIG9yIEF6dXJlIE9wZW5BSSBBUEkga2V5IG5vdCBmb3VuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lID1cbiAgICAgICAgICAgIGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9JTlNUQU5DRV9OQU1FXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgPVxuICAgICAgICAgICAgKGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlDb21wbGV0aW9uc0RlcGxveW1lbnROYW1lIHx8XG4gICAgICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSA/P1xuICAgICAgICAgICAgICAgIChnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9DT01QTEVUSU9OU19ERVBMT1lNRU5UX05BTUVcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FXCIpKTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24gPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaVZlcnNpb24gPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9WRVJTSU9OXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGggPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUJhc2VQYXRoID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9CQVNFX1BBVEhcIik7XG4gICAgICAgIHRoaXMub3JnYW5pemF0aW9uID1cbiAgICAgICAgICAgIGZpZWxkcz8uY29uZmlndXJhdGlvbj8ub3JnYW5pemF0aW9uID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9PUkdBTklaQVRJT05cIik7XG4gICAgICAgIHRoaXMubW9kZWxOYW1lID0gZmllbGRzPy5tb2RlbE5hbWUgPz8gdGhpcy5tb2RlbE5hbWU7XG4gICAgICAgIHRoaXMucHJlZml4TWVzc2FnZXMgPSBmaWVsZHM/LnByZWZpeE1lc3NhZ2VzID8/IHRoaXMucHJlZml4TWVzc2FnZXM7XG4gICAgICAgIHRoaXMubW9kZWxLd2FyZ3MgPSBmaWVsZHM/Lm1vZGVsS3dhcmdzID8/IHt9O1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBmaWVsZHM/LnRpbWVvdXQ7XG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgPSBmaWVsZHM/LnRlbXBlcmF0dXJlID8/IHRoaXMudGVtcGVyYXR1cmU7XG4gICAgICAgIHRoaXMudG9wUCA9IGZpZWxkcz8udG9wUCA/PyB0aGlzLnRvcFA7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5UGVuYWx0eSA9IGZpZWxkcz8uZnJlcXVlbmN5UGVuYWx0eSA/PyB0aGlzLmZyZXF1ZW5jeVBlbmFsdHk7XG4gICAgICAgIHRoaXMucHJlc2VuY2VQZW5hbHR5ID0gZmllbGRzPy5wcmVzZW5jZVBlbmFsdHkgPz8gdGhpcy5wcmVzZW5jZVBlbmFsdHk7XG4gICAgICAgIHRoaXMubiA9IGZpZWxkcz8ubiA/PyB0aGlzLm47XG4gICAgICAgIHRoaXMubG9naXRCaWFzID0gZmllbGRzPy5sb2dpdEJpYXM7XG4gICAgICAgIHRoaXMubWF4VG9rZW5zID0gZmllbGRzPy5tYXhUb2tlbnM7XG4gICAgICAgIHRoaXMuc3RvcCA9IGZpZWxkcz8uc3RvcDtcbiAgICAgICAgdGhpcy51c2VyID0gZmllbGRzPy51c2VyO1xuICAgICAgICB0aGlzLnN0cmVhbWluZyA9IGZpZWxkcz8uc3RyZWFtaW5nID8/IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5uID4gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBuID4gMSBpbiBPcGVuQUlDaGF0IExMTS4gVXNlIENoYXRPcGVuQUkgQ2hhdCBNb2RlbCBpbnN0ZWFkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lICYmICF0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGluc3RhbmNlIG5hbWUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGRlcGxveW1lbnQgbmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIEFQSSB2ZXJzaW9uIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3BlbkFJQXBpS2V5ID0gdGhpcy5vcGVuQUlBcGlLZXkgPz8gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsaWVudENvbmZpZyA9IHtcbiAgICAgICAgICAgIGFwaUtleTogdGhpcy5vcGVuQUlBcGlLZXksXG4gICAgICAgICAgICBvcmdhbml6YXRpb246IHRoaXMub3JnYW5pemF0aW9uLFxuICAgICAgICAgICAgYmFzZVVSTDogY29uZmlndXJhdGlvbj8uYmFzZVBhdGggPz8gZmllbGRzPy5jb25maWd1cmF0aW9uPy5iYXNlUGF0aCxcbiAgICAgICAgICAgIGRhbmdlcm91c2x5QWxsb3dCcm93c2VyOiB0cnVlLFxuICAgICAgICAgICAgZGVmYXVsdEhlYWRlcnM6IGNvbmZpZ3VyYXRpb24/LmJhc2VPcHRpb25zPy5oZWFkZXJzID8/XG4gICAgICAgICAgICAgICAgZmllbGRzPy5jb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIGRlZmF1bHRRdWVyeTogY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LnBhcmFtcyA/P1xuICAgICAgICAgICAgICAgIGZpZWxkcz8uY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LnBhcmFtcyxcbiAgICAgICAgICAgIC4uLmNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAuLi5maWVsZHM/LmNvbmZpZ3VyYXRpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGFyYW1ldGVycyB1c2VkIHRvIGludm9rZSB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICBpbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIHRlbXBlcmF0dXJlOiB0aGlzLnRlbXBlcmF0dXJlLFxuICAgICAgICAgICAgdG9wX3A6IHRoaXMudG9wUCxcbiAgICAgICAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiB0aGlzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICBwcmVzZW5jZV9wZW5hbHR5OiB0aGlzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgIG46IHRoaXMubixcbiAgICAgICAgICAgIGxvZ2l0X2JpYXM6IHRoaXMubG9naXRCaWFzLFxuICAgICAgICAgICAgbWF4X3Rva2VuczogdGhpcy5tYXhUb2tlbnMgPT09IC0xID8gdW5kZWZpbmVkIDogdGhpcy5tYXhUb2tlbnMsXG4gICAgICAgICAgICBzdG9wOiBvcHRpb25zPy5zdG9wID8/IHRoaXMuc3RvcCxcbiAgICAgICAgICAgIHVzZXI6IHRoaXMudXNlcixcbiAgICAgICAgICAgIHN0cmVhbTogdGhpcy5zdHJlYW1pbmcsXG4gICAgICAgICAgICAuLi50aGlzLm1vZGVsS3dhcmdzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF9pZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsX25hbWU6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgLi4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpZGVudGlmeWluZyBwYXJhbWV0ZXJzIGZvciB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICBpZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsX25hbWU6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgLi4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9ybWF0cyB0aGUgbWVzc2FnZXMgZm9yIHRoZSBPcGVuQUkgQVBJLlxuICAgICAqIEBwYXJhbSBwcm9tcHQgVGhlIHByb21wdCB0byBiZSBmb3JtYXR0ZWQuXG4gICAgICogQHJldHVybnMgQXJyYXkgb2YgZm9ybWF0dGVkIG1lc3NhZ2VzLlxuICAgICAqL1xuICAgIGZvcm1hdE1lc3NhZ2VzKHByb21wdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgICBjb250ZW50OiBwcm9tcHQsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLnByZWZpeE1lc3NhZ2VzID8gWy4uLnRoaXMucHJlZml4TWVzc2FnZXMsIG1lc3NhZ2VdIDogW21lc3NhZ2VdO1xuICAgIH1cbiAgICBhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKHByb21wdCwgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmludm9jYXRpb25QYXJhbXMob3B0aW9ucyksXG4gICAgICAgICAgICBtZXNzYWdlczogdGhpcy5mb3JtYXRNZXNzYWdlcyhwcm9tcHQpLFxuICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkocGFyYW1zLCBvcHRpb25zKTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBkYXRhIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgY29uc3QgY2hvaWNlID0gZGF0YT8uY2hvaWNlc1swXTtcbiAgICAgICAgICAgIGlmICghY2hvaWNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGRlbHRhIH0gPSBjaG9pY2U7XG4gICAgICAgICAgICBjb25zdCBnZW5lcmF0aW9uQ2h1bmsgPSBuZXcgR2VuZXJhdGlvbkNodW5rKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBkZWx0YS5jb250ZW50ID8/IFwiXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHlpZWxkIGdlbmVyYXRpb25DaHVuaztcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rva2VuSW5kaWNlcyA9IHtcbiAgICAgICAgICAgICAgICBwcm9tcHQ6IG9wdGlvbnMucHJvbXB0SW5kZXggPz8gMCxcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uOiBjaG9pY2UuaW5kZXggPz8gMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdm9pZFxuICAgICAgICAgICAgdm9pZCBydW5NYW5hZ2VyPy5oYW5kbGVMTE1OZXdUb2tlbihnZW5lcmF0aW9uQ2h1bmsudGV4dCA/PyBcIlwiLCBuZXdUb2tlbkluZGljZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWJvcnRFcnJvclwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9jYWxsKHByb21wdCwgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB0aGlzLmludm9jYXRpb25QYXJhbXMob3B0aW9ucyk7XG4gICAgICAgIGlmIChwYXJhbXMuc3RyZWFtKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyhwcm9tcHQsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpO1xuICAgICAgICAgICAgbGV0IGZpbmFsQ2h1bms7XG4gICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIGlmIChmaW5hbENodW5rID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDaHVuayA9IGNodW5rO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDaHVuayA9IGZpbmFsQ2h1bmsuY29uY2F0KGNodW5rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmluYWxDaHVuaz8udGV4dCA/PyBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiB0aGlzLmZvcm1hdE1lc3NhZ2VzKHByb21wdCksXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgc2lnbmFsOiBvcHRpb25zLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLm9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZT8uY2hvaWNlc1swXT8ubWVzc2FnZT8uY29udGVudCA/PyBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHRoaXMuX2dldENsaWVudE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gd3JhcE9wZW5BSUNsaWVudEVycm9yKGUpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBfZ2V0Q2xpZW50T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wZW5BSUVuZHBvaW50Q29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTogdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaUtleTogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUJhc2VQYXRoOiB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgYmFzZVVSTDogdGhpcy5jbGllbnRDb25maWcuYmFzZVVSTCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGdldEVuZHBvaW50KG9wZW5BSUVuZHBvaW50Q29uZmlnKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgICAgICBiYXNlVVJMOiBlbmRwb2ludCxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXG4gICAgICAgICAgICAgICAgbWF4UmV0cmllczogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXBhcmFtcy5iYXNlVVJMKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcmFtcy5iYXNlVVJMO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJQ2xpZW50KHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgICAgICAgIFwiYXBpLWtleVwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3RPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMucXVlcnkgPSB7XG4gICAgICAgICAgICAgICAgXCJhcGktdmVyc2lvblwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0T3B0aW9ucy5xdWVyeSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcXVlc3RPcHRpb25zO1xuICAgIH1cbiAgICBfbGxtVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwib3BlbmFpXCI7XG4gICAgfVxufVxuLyoqXG4gKiBQcm9tcHRMYXllciB3cmFwcGVyIHRvIE9wZW5BSUNoYXRcbiAqL1xuZXhwb3J0IGNsYXNzIFByb21wdExheWVyT3BlbkFJQ2hhdCBleHRlbmRzIE9wZW5BSUNoYXQge1xuICAgIGdldCBsY19zZWNyZXRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvbXB0TGF5ZXJBcGlLZXk6IFwiUFJPTVBUTEFZRVJfQVBJX0tFWVwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvbXB0TGF5ZXJBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGxUYWdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHVyblByb21wdExheWVySWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wbFRhZ3MgPSBmaWVsZHM/LnBsVGFncyA/PyBbXTtcbiAgICAgICAgdGhpcy5yZXR1cm5Qcm9tcHRMYXllcklkID0gZmllbGRzPy5yZXR1cm5Qcm9tcHRMYXllcklkID8/IGZhbHNlO1xuICAgICAgICB0aGlzLnByb21wdExheWVyQXBpS2V5ID1cbiAgICAgICAgICAgIGZpZWxkcz8ucHJvbXB0TGF5ZXJBcGlLZXkgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiUFJPTVBUTEFZRVJfQVBJX0tFWVwiKTtcbiAgICAgICAgaWYgKCF0aGlzLnByb21wdExheWVyQXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIFByb21wdExheWVyIEFQSSBrZXlcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgbGV0IGNob2ljZTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGlvbnMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9tcHRzLm1hcChhc3luYyAocHJvbXB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLl9jYWxsKHByb21wdCwgb3B0aW9ucywgcnVuTWFuYWdlcik7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0RW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjaG9pY2UgPSBbeyB0ZXh0IH1dO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkUmVzcCA9IHtcbiAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdExheWVyUmVzcEJvZHkgPSBhd2FpdCBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCh0aGlzLmNhbGxlciwgXCJsYW5nY2hhaW4uUHJvbXB0TGF5ZXJPcGVuQUlDaGF0XCIsIFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIHsgLi4udGhpcy5faWRlbnRpZnlpbmdQYXJhbXMoKSwgcHJvbXB0IH0sIHRoaXMucGxUYWdzLCBwYXJzZWRSZXNwLCByZXF1ZXN0U3RhcnRUaW1lLCByZXF1ZXN0RW5kVGltZSwgdGhpcy5wcm9tcHRMYXllckFwaUtleSk7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXR1cm5Qcm9tcHRMYXllcklkID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgcHJvbXB0TGF5ZXJSZXNwQm9keS5zdWNjZXNzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY2hvaWNlWzBdLmdlbmVyYXRpb25JbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBwcm9tcHRMYXllclJlcXVlc3RJZDogcHJvbXB0TGF5ZXJSZXNwQm9keS5yZXF1ZXN0X2lkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hvaWNlO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiB7IGdlbmVyYXRpb25zIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgT3BlbkFJIGFzIE9wZW5BSUNsaWVudCB9IGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZU1heFRva2VucyB9IGZyb20gXCIuLi9iYXNlX2xhbmd1YWdlL2NvdW50X3Rva2Vucy5qc1wiO1xuaW1wb3J0IHsgR2VuZXJhdGlvbkNodW5rIH0gZnJvbSBcIi4uL3NjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnQgfSBmcm9tIFwiLi4vdXRpbC9henVyZS5qc1wiO1xuaW1wb3J0IHsgY2h1bmtBcnJheSB9IGZyb20gXCIuLi91dGlsL2NodW5rLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgeyBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCB9IGZyb20gXCIuLi91dGlsL3Byb21wdC1sYXllci5qc1wiO1xuaW1wb3J0IHsgQmFzZUxMTSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IE9wZW5BSUNoYXQgfSBmcm9tIFwiLi9vcGVuYWktY2hhdC5qc1wiO1xuaW1wb3J0IHsgd3JhcE9wZW5BSUNsaWVudEVycm9yIH0gZnJvbSBcIi4uL3V0aWwvb3BlbmFpLmpzXCI7XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIE9wZW5BSSBsYXJnZSBsYW5ndWFnZSBtb2RlbHMuXG4gKlxuICogVG8gdXNlIHlvdSBzaG91bGQgaGF2ZSB0aGUgYG9wZW5haWAgcGFja2FnZSBpbnN0YWxsZWQsIHdpdGggdGhlXG4gKiBgT1BFTkFJX0FQSV9LRVlgIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBUbyB1c2Ugd2l0aCBBenVyZSB5b3Ugc2hvdWxkIGhhdmUgdGhlIGBvcGVuYWlgIHBhY2thZ2UgaW5zdGFsbGVkLCB3aXRoIHRoZVxuICogYEFaVVJFX09QRU5BSV9BUElfS0VZYCxcbiAqIGBBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVgLFxuICogYEFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FYFxuICogYW5kIGBBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05gIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBAcmVtYXJrc1xuICogQW55IHBhcmFtZXRlcnMgdGhhdCBhcmUgdmFsaWQgdG8gYmUgcGFzc2VkIHRvIHtAbGlua1xuICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9jb21wbGV0aW9ucy9jcmVhdGUgfFxuICogYG9wZW5haS5jcmVhdGVDb21wbGV0aW9uYH0gY2FuIGJlIHBhc3NlZCB0aHJvdWdoIHtAbGluayBtb2RlbEt3YXJnc30sIGV2ZW5cbiAqIGlmIG5vdCBleHBsaWNpdGx5IGF2YWlsYWJsZSBvbiB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgT3BlbkFJIGV4dGVuZHMgQmFzZUxMTSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIk9wZW5BSVwiO1xuICAgIH1cbiAgICBnZXQgY2FsbEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbLi4uc3VwZXIuY2FsbEtleXMsIFwib3B0aW9uc1wiXTtcbiAgICB9XG4gICAgZ2V0IGxjX3NlY3JldHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcGVuQUlBcGlLZXk6IFwiT1BFTkFJX0FQSV9LRVlcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpS2V5OiBcIkFaVVJFX09QRU5BSV9BUElfS0VZXCIsXG4gICAgICAgICAgICBvcmdhbml6YXRpb246IFwiT1BFTkFJX09SR0FOSVpBVElPTlwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgbGNfYWxpYXNlcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsTmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgb3BlbkFJQXBpS2V5OiBcIm9wZW5haV9hcGlfa2V5XCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaVZlcnNpb246IFwiYXp1cmVfb3BlbmFpX2FwaV92ZXJzaW9uXCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaUtleTogXCJhenVyZV9vcGVuYWlfYXBpX2tleVwiLFxuICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWU6IFwiYXp1cmVfb3BlbmFpX2FwaV9pbnN0YW5jZV9uYW1lXCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lOiBcImF6dXJlX29wZW5haV9hcGlfZGVwbG95bWVudF9uYW1lXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgY29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoKGZpZWxkcz8ubW9kZWxOYW1lPy5zdGFydHNXaXRoKFwiZ3B0LTMuNS10dXJib1wiKSB8fFxuICAgICAgICAgICAgZmllbGRzPy5tb2RlbE5hbWU/LnN0YXJ0c1dpdGgoXCJncHQtNFwiKSkgJiZcbiAgICAgICAgICAgICFmaWVsZHM/Lm1vZGVsTmFtZT8uaW5jbHVkZXMoXCItaW5zdHJ1Y3RcIikpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdHJ1Y3Rvci1yZXR1cm5cbiAgICAgICAgICAgIHJldHVybiBuZXcgT3BlbkFJQ2hhdChmaWVsZHMsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGZpZWxkcyA/PyB7fSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGVtcGVyYXR1cmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDAuN1xuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4VG9rZW5zXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAyNTZcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcFBcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyZXF1ZW5jeVBlbmFsdHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByZXNlbmNlUGVuYWx0eVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYmVzdE9mXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvZ2l0Qmlhc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwidGV4dC1kYXZpbmNpLTAwM1wiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbEt3YXJnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJiYXRjaFNpemVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDIwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aW1lb3V0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJlYW1pbmdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcGVuQUlBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlWZXJzaW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpS2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlCYXNlUGF0aFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcmdhbml6YXRpb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudENvbmZpZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wZW5BSUFwaUtleSA9XG4gICAgICAgICAgICBmaWVsZHM/Lm9wZW5BSUFwaUtleSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkgPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaUtleSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0tFWVwiKTtcbiAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ICYmICF0aGlzLm9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3BlbkFJIG9yIEF6dXJlIE9wZW5BSSBBUEkga2V5IG5vdCBmb3VuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lID1cbiAgICAgICAgICAgIGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9JTlNUQU5DRV9OQU1FXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgPVxuICAgICAgICAgICAgKGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlDb21wbGV0aW9uc0RlcGxveW1lbnROYW1lIHx8XG4gICAgICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSA/P1xuICAgICAgICAgICAgICAgIChnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9DT01QTEVUSU9OU19ERVBMT1lNRU5UX05BTUVcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FXCIpKTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24gPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaVZlcnNpb24gPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9WRVJTSU9OXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGggPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUJhc2VQYXRoID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9CQVNFX1BBVEhcIik7XG4gICAgICAgIHRoaXMub3JnYW5pemF0aW9uID1cbiAgICAgICAgICAgIGZpZWxkcz8uY29uZmlndXJhdGlvbj8ub3JnYW5pemF0aW9uID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9PUkdBTklaQVRJT05cIik7XG4gICAgICAgIHRoaXMubW9kZWxOYW1lID0gZmllbGRzPy5tb2RlbE5hbWUgPz8gdGhpcy5tb2RlbE5hbWU7XG4gICAgICAgIHRoaXMubW9kZWxLd2FyZ3MgPSBmaWVsZHM/Lm1vZGVsS3dhcmdzID8/IHt9O1xuICAgICAgICB0aGlzLmJhdGNoU2l6ZSA9IGZpZWxkcz8uYmF0Y2hTaXplID8/IHRoaXMuYmF0Y2hTaXplO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBmaWVsZHM/LnRpbWVvdXQ7XG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgPSBmaWVsZHM/LnRlbXBlcmF0dXJlID8/IHRoaXMudGVtcGVyYXR1cmU7XG4gICAgICAgIHRoaXMubWF4VG9rZW5zID0gZmllbGRzPy5tYXhUb2tlbnMgPz8gdGhpcy5tYXhUb2tlbnM7XG4gICAgICAgIHRoaXMudG9wUCA9IGZpZWxkcz8udG9wUCA/PyB0aGlzLnRvcFA7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5UGVuYWx0eSA9IGZpZWxkcz8uZnJlcXVlbmN5UGVuYWx0eSA/PyB0aGlzLmZyZXF1ZW5jeVBlbmFsdHk7XG4gICAgICAgIHRoaXMucHJlc2VuY2VQZW5hbHR5ID0gZmllbGRzPy5wcmVzZW5jZVBlbmFsdHkgPz8gdGhpcy5wcmVzZW5jZVBlbmFsdHk7XG4gICAgICAgIHRoaXMubiA9IGZpZWxkcz8ubiA/PyB0aGlzLm47XG4gICAgICAgIHRoaXMuYmVzdE9mID0gZmllbGRzPy5iZXN0T2YgPz8gdGhpcy5iZXN0T2Y7XG4gICAgICAgIHRoaXMubG9naXRCaWFzID0gZmllbGRzPy5sb2dpdEJpYXM7XG4gICAgICAgIHRoaXMuc3RvcCA9IGZpZWxkcz8uc3RvcDtcbiAgICAgICAgdGhpcy51c2VyID0gZmllbGRzPy51c2VyO1xuICAgICAgICB0aGlzLnN0cmVhbWluZyA9IGZpZWxkcz8uc3RyZWFtaW5nID8/IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5zdHJlYW1pbmcgJiYgdGhpcy5iZXN0T2YgJiYgdGhpcy5iZXN0T2YgPiAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc3RyZWFtIHJlc3VsdHMgd2hlbiBiZXN0T2YgPiAxXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgJiYgIXRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkgaW5zdGFuY2UgbmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkgZGVwbG95bWVudCBuYW1lIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIHZlcnNpb24gbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vcGVuQUlBcGlLZXkgPSB0aGlzLm9wZW5BSUFwaUtleSA/PyBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xpZW50Q29uZmlnID0ge1xuICAgICAgICAgICAgYXBpS2V5OiB0aGlzLm9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogdGhpcy5vcmdhbml6YXRpb24sXG4gICAgICAgICAgICBiYXNlVVJMOiBjb25maWd1cmF0aW9uPy5iYXNlUGF0aCA/PyBmaWVsZHM/LmNvbmZpZ3VyYXRpb24/LmJhc2VQYXRoLFxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUsXG4gICAgICAgICAgICBkZWZhdWx0SGVhZGVyczogY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LmhlYWRlcnMgPz9cbiAgICAgICAgICAgICAgICBmaWVsZHM/LmNvbmZpZ3VyYXRpb24/LmJhc2VPcHRpb25zPy5oZWFkZXJzLFxuICAgICAgICAgICAgZGVmYXVsdFF1ZXJ5OiBjb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8ucGFyYW1zID8/XG4gICAgICAgICAgICAgICAgZmllbGRzPy5jb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8ucGFyYW1zLFxuICAgICAgICAgICAgLi4uY29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIC4uLmZpZWxkcz8uY29uZmlndXJhdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwYXJhbWV0ZXJzIHVzZWQgdG8gaW52b2tlIHRoZSBtb2RlbFxuICAgICAqL1xuICAgIGludm9jYXRpb25QYXJhbXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWw6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgdGVtcGVyYXR1cmU6IHRoaXMudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICBtYXhfdG9rZW5zOiB0aGlzLm1heFRva2VucyxcbiAgICAgICAgICAgIHRvcF9wOiB0aGlzLnRvcFAsXG4gICAgICAgICAgICBmcmVxdWVuY3lfcGVuYWx0eTogdGhpcy5mcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgICAgICAgcHJlc2VuY2VfcGVuYWx0eTogdGhpcy5wcmVzZW5jZVBlbmFsdHksXG4gICAgICAgICAgICBuOiB0aGlzLm4sXG4gICAgICAgICAgICBiZXN0X29mOiB0aGlzLmJlc3RPZixcbiAgICAgICAgICAgIGxvZ2l0X2JpYXM6IHRoaXMubG9naXRCaWFzLFxuICAgICAgICAgICAgc3RvcDogb3B0aW9ucz8uc3RvcCA/PyB0aGlzLnN0b3AsXG4gICAgICAgICAgICB1c2VyOiB0aGlzLnVzZXIsXG4gICAgICAgICAgICBzdHJlYW06IHRoaXMuc3RyZWFtaW5nLFxuICAgICAgICAgICAgLi4udGhpcy5tb2RlbEt3YXJncyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBfaWRlbnRpZnlpbmdQYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtb2RlbF9uYW1lOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIC4uLnRoaXMuaW52b2NhdGlvblBhcmFtcygpLFxuICAgICAgICAgICAgLi4udGhpcy5jbGllbnRDb25maWcsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaWRlbnRpZnlpbmcgcGFyYW1ldGVycyBmb3IgdGhlIG1vZGVsXG4gICAgICovXG4gICAgaWRlbnRpZnlpbmdQYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIG91dCB0byBPcGVuQUkncyBlbmRwb2ludCB3aXRoIGsgdW5pcXVlIHByb21wdHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBbcHJvbXB0c10gLSBUaGUgcHJvbXB0cyB0byBwYXNzIGludG8gdGhlIG1vZGVsLlxuICAgICAqIEBwYXJhbSBbb3B0aW9uc10gLSBPcHRpb25hbCBsaXN0IG9mIHN0b3Agd29yZHMgdG8gdXNlIHdoZW4gZ2VuZXJhdGluZy5cbiAgICAgKiBAcGFyYW0gW3J1bk1hbmFnZXJdIC0gT3B0aW9uYWwgY2FsbGJhY2sgbWFuYWdlciB0byB1c2Ugd2hlbiBnZW5lcmF0aW5nLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGZ1bGwgTExNIG91dHB1dC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBpbXBvcnQgeyBPcGVuQUkgfSBmcm9tIFwibGFuZ2NoYWluL2xsbXMvb3BlbmFpXCI7XG4gICAgICogY29uc3Qgb3BlbmFpID0gbmV3IE9wZW5BSSgpO1xuICAgICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3BlbmFpLmdlbmVyYXRlKFtcIlRlbGwgbWUgYSBqb2tlLlwiXSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgYXN5bmMgX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3Qgc3ViUHJvbXB0cyA9IGNodW5rQXJyYXkocHJvbXB0cywgdGhpcy5iYXRjaFNpemUpO1xuICAgICAgICBjb25zdCBjaG9pY2VzID0gW107XG4gICAgICAgIGNvbnN0IHRva2VuVXNhZ2UgPSB7fTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy5pbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpO1xuICAgICAgICBpZiAocGFyYW1zLm1heF90b2tlbnMgPT09IC0xKSB7XG4gICAgICAgICAgICBpZiAocHJvbXB0cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYXhfdG9rZW5zIHNldCB0byAtMSBub3Qgc3VwcG9ydGVkIGZvciBtdWx0aXBsZSBpbnB1dHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJhbXMubWF4X3Rva2VucyA9IGF3YWl0IGNhbGN1bGF0ZU1heFRva2Vucyh7XG4gICAgICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHRzWzBdLFxuICAgICAgICAgICAgICAgIC8vIENhc3QgaGVyZSB0byBhbGxvdyBmb3Igb3RoZXIgbW9kZWxzIHRoYXQgbWF5IG5vdCBmaXQgdGhlIHVuaW9uXG4gICAgICAgICAgICAgICAgbW9kZWxOYW1lOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ViUHJvbXB0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHBhcmFtcy5zdHJlYW1cbiAgICAgICAgICAgICAgICA/IGF3YWl0IChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNob2ljZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBzdWJQcm9tcHRzW2ldLFxuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBtZXNzYWdlIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhlIGZpcnN0IG1lc3NhZ2Ugc2V0IHRoZSByZXNwb25zZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IG1lc3NhZ2Uub2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkOiBtZXNzYWdlLmNyZWF0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiBtZXNzYWdlLm1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbiBhbGwgbWVzc2FnZXMsIHVwZGF0ZSBjaG9pY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBtZXNzYWdlLmNob2ljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNob2ljZXNbcGFydC5pbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlc1twYXJ0LmluZGV4XSA9IHBhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaG9pY2UgPSBjaG9pY2VzW3BhcnQuaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2UudGV4dCArPSBwYXJ0LnRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5maW5pc2hfcmVhc29uID0gcGFydC5maW5pc2hfcmVhc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2UubG9ncHJvYnMgPSBwYXJ0LmxvZ3Byb2JzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkIHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKHBhcnQudGV4dCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IE1hdGguZmxvb3IocGFydC5pbmRleCAvIHRoaXMubiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb246IHBhcnQuaW5kZXggJSB0aGlzLm4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBYm9ydEVycm9yXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLCBjaG9pY2VzIH07XG4gICAgICAgICAgICAgICAgfSkoKVxuICAgICAgICAgICAgICAgIDogYXdhaXQgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IHN1YlByb21wdHNbaV0sXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzaWduYWw6IG9wdGlvbnMuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjaG9pY2VzLnB1c2goLi4uZGF0YS5jaG9pY2VzKTtcbiAgICAgICAgICAgIGNvbnN0IHsgY29tcGxldGlvbl90b2tlbnM6IGNvbXBsZXRpb25Ub2tlbnMsIHByb21wdF90b2tlbnM6IHByb21wdFRva2VucywgdG90YWxfdG9rZW5zOiB0b3RhbFRva2VucywgfSA9IGRhdGEudXNhZ2VcbiAgICAgICAgICAgICAgICA/IGRhdGEudXNhZ2VcbiAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvbl90b2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0X3Rva2VuczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbF90b2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRpb25Ub2tlbnMpIHtcbiAgICAgICAgICAgICAgICB0b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPVxuICAgICAgICAgICAgICAgICAgICAodG9rZW5Vc2FnZS5jb21wbGV0aW9uVG9rZW5zID8/IDApICsgY29tcGxldGlvblRva2VucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9tcHRUb2tlbnMpIHtcbiAgICAgICAgICAgICAgICB0b2tlblVzYWdlLnByb21wdFRva2VucyA9ICh0b2tlblVzYWdlLnByb21wdFRva2VucyA/PyAwKSArIHByb21wdFRva2VucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b3RhbFRva2Vucykge1xuICAgICAgICAgICAgICAgIHRva2VuVXNhZ2UudG90YWxUb2tlbnMgPSAodG9rZW5Vc2FnZS50b3RhbFRva2VucyA/PyAwKSArIHRvdGFsVG9rZW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gY2h1bmtBcnJheShjaG9pY2VzLCB0aGlzLm4pLm1hcCgocHJvbXB0Q2hvaWNlcykgPT4gcHJvbXB0Q2hvaWNlcy5tYXAoKGNob2ljZSkgPT4gKHtcbiAgICAgICAgICAgIHRleHQ6IGNob2ljZS50ZXh0ID8/IFwiXCIsXG4gICAgICAgICAgICBnZW5lcmF0aW9uSW5mbzoge1xuICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogY2hvaWNlLmZpbmlzaF9yZWFzb24sXG4gICAgICAgICAgICAgICAgbG9ncHJvYnM6IGNob2ljZS5sb2dwcm9icyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZW5lcmF0aW9ucyxcbiAgICAgICAgICAgIGxsbU91dHB1dDogeyB0b2tlblVzYWdlIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFRPRE8oamFjb2JsZWUpOiBSZWZhY3RvciB3aXRoIF9nZW5lcmF0ZSguLi4sIHtzdHJlYW06IHRydWV9KSBpbXBsZW1lbnRhdGlvbj9cbiAgICBhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKGlucHV0LCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKSxcbiAgICAgICAgICAgIHByb21wdDogaW5wdXQsXG4gICAgICAgICAgICBzdHJlYW06IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IHRoaXMuY29tcGxldGlvbldpdGhSZXRyeShwYXJhbXMsIG9wdGlvbnMpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGRhdGEgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBjb25zdCBjaG9pY2UgPSBkYXRhPy5jaG9pY2VzWzBdO1xuICAgICAgICAgICAgaWYgKCFjaG9pY2UpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNodW5rID0gbmV3IEdlbmVyYXRpb25DaHVuayh7XG4gICAgICAgICAgICAgICAgdGV4dDogY2hvaWNlLnRleHQsXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbkluZm86IHtcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiBjaG9pY2UuZmluaXNoX3JlYXNvbixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB5aWVsZCBjaHVuaztcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12b2lkXG4gICAgICAgICAgICB2b2lkIHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKGNodW5rLnRleHQgPz8gXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBYm9ydEVycm9yXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHRoaXMuX2dldENsaWVudE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuY29tcGxldGlvbnMuY3JlYXRlKHJlcXVlc3QsIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IHdyYXBPcGVuQUlDbGllbnRFcnJvcihlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBPcGVuQUkgQVBJIHdpdGggcmV0cnkgbG9naWMgaW4gY2FzZSBvZiBmYWlsdXJlcy5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdCBUaGUgcmVxdWVzdCB0byBzZW5kIHRvIHRoZSBPcGVuQUkgQVBJLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBBUEkgY2FsbC5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgT3BlbkFJIEFQSS5cbiAgICAgKi9cbiAgICBfZ2V0Q2xpZW50T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wZW5BSUVuZHBvaW50Q29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTogdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaUtleTogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUJhc2VQYXRoOiB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgYmFzZVVSTDogdGhpcy5jbGllbnRDb25maWcuYmFzZVVSTCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGdldEVuZHBvaW50KG9wZW5BSUVuZHBvaW50Q29uZmlnKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgICAgICBiYXNlVVJMOiBlbmRwb2ludCxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXG4gICAgICAgICAgICAgICAgbWF4UmV0cmllczogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXBhcmFtcy5iYXNlVVJMKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcmFtcy5iYXNlVVJMO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJQ2xpZW50KHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgICAgICAgIFwiYXBpLWtleVwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3RPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMucXVlcnkgPSB7XG4gICAgICAgICAgICAgICAgXCJhcGktdmVyc2lvblwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0T3B0aW9ucy5xdWVyeSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcXVlc3RPcHRpb25zO1xuICAgIH1cbiAgICBfbGxtVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwib3BlbmFpXCI7XG4gICAgfVxufVxuLyoqXG4gKiBQcm9tcHRMYXllciB3cmFwcGVyIHRvIE9wZW5BSVxuICogQGF1Z21lbnRzIE9wZW5BSVxuICovXG5leHBvcnQgY2xhc3MgUHJvbXB0TGF5ZXJPcGVuQUkgZXh0ZW5kcyBPcGVuQUkge1xuICAgIGdldCBsY19zZWNyZXRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvbXB0TGF5ZXJBcGlLZXk6IFwiUFJPTVBUTEFZRVJfQVBJX0tFWVwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvbXB0TGF5ZXJBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGxUYWdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHVyblByb21wdExheWVySWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wbFRhZ3MgPSBmaWVsZHM/LnBsVGFncyA/PyBbXTtcbiAgICAgICAgdGhpcy5wcm9tcHRMYXllckFwaUtleSA9XG4gICAgICAgICAgICBmaWVsZHM/LnByb21wdExheWVyQXBpS2V5ID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIlBST01QVExBWUVSX0FQSV9LRVlcIik7XG4gICAgICAgIHRoaXMucmV0dXJuUHJvbXB0TGF5ZXJJZCA9IGZpZWxkcz8ucmV0dXJuUHJvbXB0TGF5ZXJJZDtcbiAgICAgICAgaWYgKCF0aGlzLnByb21wdExheWVyQXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIFByb21wdExheWVyIEFQSSBrZXlcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdFN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gYXdhaXQgc3VwZXIuX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlbmVyYXRpb25zLmdlbmVyYXRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0RW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRSZXNwID0ge1xuICAgICAgICAgICAgICAgIHRleHQ6IGdlbmVyYXRpb25zLmdlbmVyYXRpb25zW2ldWzBdLnRleHQsXG4gICAgICAgICAgICAgICAgbGxtX291dHB1dDogZ2VuZXJhdGlvbnMubGxtT3V0cHV0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdExheWVyUmVzcEJvZHkgPSBhd2FpdCBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCh0aGlzLmNhbGxlciwgXCJsYW5nY2hhaW4uUHJvbXB0TGF5ZXJPcGVuQUlcIiwgXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgeyAuLi50aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpLCBwcm9tcHQ6IHByb21wdHNbaV0gfSwgdGhpcy5wbFRhZ3MsIHBhcnNlZFJlc3AsIHJlcXVlc3RTdGFydFRpbWUsIHJlcXVlc3RFbmRUaW1lLCB0aGlzLnByb21wdExheWVyQXBpS2V5KTtcbiAgICAgICAgICAgIGxldCBwcm9tcHRMYXllclJlcXVlc3RJZDtcbiAgICAgICAgICAgIGlmICh0aGlzLnJldHVyblByb21wdExheWVySWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvbXB0TGF5ZXJSZXNwQm9keSAmJiBwcm9tcHRMYXllclJlc3BCb2R5LnN1Y2Nlc3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0TGF5ZXJSZXF1ZXN0SWQgPSBwcm9tcHRMYXllclJlc3BCb2R5LnJlcXVlc3RfaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb25zLmdlbmVyYXRpb25zW2ldWzBdLmdlbmVyYXRpb25JbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5nZW5lcmF0aW9ucy5nZW5lcmF0aW9uc1tpXVswXS5nZW5lcmF0aW9uSW5mbyxcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0TGF5ZXJSZXF1ZXN0SWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2VuZXJhdGlvbnM7XG4gICAgfVxufVxuZXhwb3J0IHsgT3BlbkFJQ2hhdCwgUHJvbXB0TGF5ZXJPcGVuQUlDaGF0IH0gZnJvbSBcIi4vb3BlbmFpLWNoYXQuanNcIjtcbiIsIi8qKlxuICogSW50ZXJmYWNlIGZvciBpbnRlcmFjdGluZyB3aXRoIGEgZG9jdW1lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEb2N1bWVudCB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBhZ2VDb250ZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1ldGFkYXRhXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGFnZUNvbnRlbnQgPSBmaWVsZHMucGFnZUNvbnRlbnRcbiAgICAgICAgICAgID8gZmllbGRzLnBhZ2VDb250ZW50LnRvU3RyaW5nKClcbiAgICAgICAgICAgIDogdGhpcy5wYWdlQ29udGVudDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IGZpZWxkcy5tZXRhZGF0YSA/PyB7fTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlU3RyaW5nUHJvbXB0VGVtcGxhdGUsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgY2hlY2tWYWxpZFRlbXBsYXRlLCByZW5kZXJUZW1wbGF0ZSwgfSBmcm9tIFwiLi90ZW1wbGF0ZS5qc1wiO1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9wcm9tcHQuanNcIjtcbi8qKlxuICogUHJvbXB0IHRlbXBsYXRlIHRoYXQgY29udGFpbnMgZmV3LXNob3QgZXhhbXBsZXMuXG4gKiBAYXVnbWVudHMgQmFzZVByb21wdFRlbXBsYXRlXG4gKiBAYXVnbWVudHMgRmV3U2hvdFByb21wdFRlbXBsYXRlSW5wdXRcbiAqL1xuZXhwb3J0IGNsYXNzIEZld1Nob3RQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoaW5wdXQpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleGFtcGxlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleGFtcGxlU2VsZWN0b3JcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXhhbXBsZVByb21wdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdWZmaXhcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV4YW1wbGVTZXBhcmF0b3JcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiXFxuXFxuXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByZWZpeFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGVtcGxhdGVGb3JtYXRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiZi1zdHJpbmdcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmFsaWRhdGVUZW1wbGF0ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLmV4YW1wbGVzICE9PSB1bmRlZmluZWQgJiYgdGhpcy5leGFtcGxlU2VsZWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBvbmUgb2YgJ2V4YW1wbGVzJyBhbmQgJ2V4YW1wbGVfc2VsZWN0b3InIHNob3VsZCBiZSBwcm92aWRlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5leGFtcGxlcyA9PT0gdW5kZWZpbmVkICYmIHRoaXMuZXhhbXBsZVNlbGVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9uZSBvZiAnZXhhbXBsZXMnIGFuZCAnZXhhbXBsZV9zZWxlY3Rvcicgc2hvdWxkIGJlIHByb3ZpZGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZhbGlkYXRlVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGxldCB0b3RhbElucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcztcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcnRpYWxWYXJpYWJsZXMpIHtcbiAgICAgICAgICAgICAgICB0b3RhbElucHV0VmFyaWFibGVzID0gdG90YWxJbnB1dFZhcmlhYmxlcy5jb25jYXQoT2JqZWN0LmtleXModGhpcy5wYXJ0aWFsVmFyaWFibGVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGVja1ZhbGlkVGVtcGxhdGUodGhpcy5wcmVmaXggKyB0aGlzLnN1ZmZpeCwgdGhpcy50ZW1wbGF0ZUZvcm1hdCwgdG90YWxJbnB1dFZhcmlhYmxlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2dldFByb21wdFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImZld19zaG90XCI7XG4gICAgfVxuICAgIGFzeW5jIGdldEV4YW1wbGVzKGlucHV0VmFyaWFibGVzKSB7XG4gICAgICAgIGlmICh0aGlzLmV4YW1wbGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV4YW1wbGVzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmV4YW1wbGVTZWxlY3RvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5leGFtcGxlU2VsZWN0b3Iuc2VsZWN0RXhhbXBsZXMoaW5wdXRWYXJpYWJsZXMpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9uZSBvZiAnZXhhbXBsZXMnIGFuZCAnZXhhbXBsZV9zZWxlY3Rvcicgc2hvdWxkIGJlIHByb3ZpZGVkXCIpO1xuICAgIH1cbiAgICBhc3luYyBwYXJ0aWFsKHZhbHVlcykge1xuICAgICAgICBjb25zdCBuZXdJbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXMuZmlsdGVyKChpdikgPT4gIShpdiBpbiB2YWx1ZXMpKTtcbiAgICAgICAgY29uc3QgbmV3UGFydGlhbFZhcmlhYmxlcyA9IHtcbiAgICAgICAgICAgIC4uLih0aGlzLnBhcnRpYWxWYXJpYWJsZXMgPz8ge30pLFxuICAgICAgICAgICAgLi4udmFsdWVzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwcm9tcHREaWN0ID0ge1xuICAgICAgICAgICAgLi4udGhpcyxcbiAgICAgICAgICAgIGlucHV0VmFyaWFibGVzOiBuZXdJbnB1dFZhcmlhYmxlcyxcbiAgICAgICAgICAgIHBhcnRpYWxWYXJpYWJsZXM6IG5ld1BhcnRpYWxWYXJpYWJsZXMsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgRmV3U2hvdFByb21wdFRlbXBsYXRlKHByb21wdERpY3QpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3JtYXRzIHRoZSBwcm9tcHQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzLlxuICAgICAqIEBwYXJhbSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBmb3JtYXQgdGhlIHByb21wdCB3aXRoLlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZm9ybWF0dGVkIHByb21wdC5cbiAgICAgKi9cbiAgICBhc3luYyBmb3JtYXQodmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IGFsbFZhbHVlcyA9IGF3YWl0IHRoaXMubWVyZ2VQYXJ0aWFsQW5kVXNlclZhcmlhYmxlcyh2YWx1ZXMpO1xuICAgICAgICBjb25zdCBleGFtcGxlcyA9IGF3YWl0IHRoaXMuZ2V0RXhhbXBsZXMoYWxsVmFsdWVzKTtcbiAgICAgICAgY29uc3QgZXhhbXBsZVN0cmluZ3MgPSBhd2FpdCBQcm9taXNlLmFsbChleGFtcGxlcy5tYXAoKGV4YW1wbGUpID0+IHRoaXMuZXhhbXBsZVByb21wdC5mb3JtYXQoZXhhbXBsZSkpKTtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBbdGhpcy5wcmVmaXgsIC4uLmV4YW1wbGVTdHJpbmdzLCB0aGlzLnN1ZmZpeF0uam9pbih0aGlzLmV4YW1wbGVTZXBhcmF0b3IpO1xuICAgICAgICByZXR1cm4gcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHRoaXMudGVtcGxhdGVGb3JtYXQsIGFsbFZhbHVlcyk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZXhhbXBsZVNlbGVjdG9yIHx8ICF0aGlzLmV4YW1wbGVzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXJpYWxpemluZyBhbiBleGFtcGxlIHNlbGVjdG9yIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFBhcnNlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXJpYWxpemluZyBhbiBvdXRwdXQgcGFyc2VyIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fZ2V0UHJvbXB0VHlwZSgpLFxuICAgICAgICAgICAgaW5wdXRfdmFyaWFibGVzOiB0aGlzLmlucHV0VmFyaWFibGVzLFxuICAgICAgICAgICAgZXhhbXBsZV9wcm9tcHQ6IHRoaXMuZXhhbXBsZVByb21wdC5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgIGV4YW1wbGVfc2VwYXJhdG9yOiB0aGlzLmV4YW1wbGVTZXBhcmF0b3IsXG4gICAgICAgICAgICBzdWZmaXg6IHRoaXMuc3VmZml4LFxuICAgICAgICAgICAgcHJlZml4OiB0aGlzLnByZWZpeCxcbiAgICAgICAgICAgIHRlbXBsYXRlX2Zvcm1hdDogdGhpcy50ZW1wbGF0ZUZvcm1hdCxcbiAgICAgICAgICAgIGV4YW1wbGVzOiB0aGlzLmV4YW1wbGVzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBjb25zdCB7IGV4YW1wbGVfcHJvbXB0IH0gPSBkYXRhO1xuICAgICAgICBpZiAoIWV4YW1wbGVfcHJvbXB0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGV4YW1wbGUgcHJvbXB0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4YW1wbGVQcm9tcHQgPSBhd2FpdCBQcm9tcHRUZW1wbGF0ZS5kZXNlcmlhbGl6ZShleGFtcGxlX3Byb21wdCk7XG4gICAgICAgIGxldCBleGFtcGxlcztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YS5leGFtcGxlcykpIHtcbiAgICAgICAgICAgIGV4YW1wbGVzID0gZGF0YS5leGFtcGxlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZXhhbXBsZXMgZm9ybWF0LiBPbmx5IGxpc3Qgb3Igc3RyaW5nIGFyZSBzdXBwb3J0ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRmV3U2hvdFByb21wdFRlbXBsYXRlKHtcbiAgICAgICAgICAgIGlucHV0VmFyaWFibGVzOiBkYXRhLmlucHV0X3ZhcmlhYmxlcyxcbiAgICAgICAgICAgIGV4YW1wbGVQcm9tcHQsXG4gICAgICAgICAgICBleGFtcGxlcyxcbiAgICAgICAgICAgIGV4YW1wbGVTZXBhcmF0b3I6IGRhdGEuZXhhbXBsZV9zZXBhcmF0b3IsXG4gICAgICAgICAgICBwcmVmaXg6IGRhdGEucHJlZml4LFxuICAgICAgICAgICAgc3VmZml4OiBkYXRhLnN1ZmZpeCxcbiAgICAgICAgICAgIHRlbXBsYXRlRm9ybWF0OiBkYXRhLnRlbXBsYXRlX2Zvcm1hdCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFNURU1NRVJTID0ge1xuICAgIGFyYWJpYzogJ2FyJyxcbiAgICBhcm1lbmlhbjogJ2FtJyxcbiAgICBidWxnYXJpYW46ICdiZycsXG4gICAgZGFuaXNoOiAnZGsnLFxuICAgIGR1dGNoOiAnbmwnLFxuICAgIGVuZ2xpc2g6ICdlbicsXG4gICAgZmlubmlzaDogJ2ZpJyxcbiAgICBmcmVuY2g6ICdmcicsXG4gICAgZ2VybWFuOiAnZGUnLFxuICAgIGdyZWVrOiAnZ3InLFxuICAgIGh1bmdhcmlhbjogJ2h1JyxcbiAgICBpbmRpYW46ICdpbicsXG4gICAgaW5kb25lc2lhbjogJ2lkJyxcbiAgICBpcmlzaDogJ2llJyxcbiAgICBpdGFsaWFuOiAnaXQnLFxuICAgIGxpdGh1YW5pYW46ICdsdCcsXG4gICAgbmVwYWxpOiAnbnAnLFxuICAgIG5vcndlZ2lhbjogJ25vJyxcbiAgICBwb3J0dWd1ZXNlOiAncHQnLFxuICAgIHJvbWFuaWFuOiAncm8nLFxuICAgIHJ1c3NpYW46ICdydScsXG4gICAgc2VyYmlhbjogJ3JzJyxcbiAgICBzbG92ZW5pYW46ICdydScsXG4gICAgc3BhbmlzaDogJ2VzJyxcbiAgICBzd2VkaXNoOiAnc2UnLFxuICAgIHRhbWlsOiAndGEnLFxuICAgIHR1cmtpc2g6ICd0cicsXG4gICAgdWtyYWluaWFuOiAndWsnLFxuICAgIHNhbnNrcml0OiAnc2snXG59O1xuZXhwb3J0IGNvbnN0IFNQTElUVEVSUyA9IHtcbiAgICBkdXRjaDogL1teQS1aYS16w6DDqMOpw6zDssOzw7kwLTlfJy1dKy9naW0sXG4gICAgZW5nbGlzaDogL1teQS1aYS16w6DDqMOpw6zDssOzw7kwLTlfJy1dKy9naW0sXG4gICAgZnJlbmNoOiAvW15hLXowLTnDpMOiw6DDqcOow6vDqsOvw67DtsO0w7nDvMO7xZPDpy1dKy9naW0sXG4gICAgaXRhbGlhbjogL1teQS1aYS16w6DDqMOpw6zDssOzw7kwLTlfJy1dKy9naW0sXG4gICAgbm9yd2VnaWFuOiAvW15hLXowLTlfw6bDuMOlw4bDmMOFw6TDhMO2w5bDvMOcXSsvZ2ltLFxuICAgIHBvcnR1Z3Vlc2U6IC9bXmEtejAtOcOgLcO6w4Atw5pdL2dpbSxcbiAgICBydXNzaWFuOiAvW15hLXowLTnQsC3Rj9CQLdCv0ZHQgV0rL2dpbSxcbiAgICBzcGFuaXNoOiAvW15hLXowLTlBLVrDoS3DusOBLcOaw7HDkcO8w5xdKy9naW0sXG4gICAgc3dlZGlzaDogL1teYS16MC05X8Olw4XDpMOEw7bDlsO8w5wtXSsvZ2ltLFxuICAgIGdlcm1hbjogL1teYS16MC05QS1aw6TDtsO8w4TDlsOcw59dKy9naW0sXG4gICAgZmlubmlzaDogL1teYS16MC05w6TDtsOEw5ZdKy9naW0sXG4gICAgZGFuaXNoOiAvW15hLXowLTnDpsO4w6XDhsOYw4VdKy9naW0sXG4gICAgaHVuZ2FyaWFuOiAvW15hLXowLTnDocOpw63Ds8O2xZHDusO8xbHDgcOJw43Dk8OWxZDDmsOcxbBdKy9naW0sXG4gICAgcm9tYW5pYW46IC9bXmEtejAtOcSDw6LDrsiZyJvEgsOCw47ImMiaXSsvZ2ltLFxuICAgIHNlcmJpYW46IC9bXmEtejAtOcSNxIfFvsWhxJHEjMSGxb3FoMSQXSsvZ2ltLFxuICAgIHR1cmtpc2g6IC9bXmEtejAtOcOnw4fEn8SexLHEsMO2w5bFn8Wew7zDnF0rL2dpbSxcbiAgICBsaXRodWFuaWFuOiAvW15hLXowLTnEhcSNxJnEl8SvxaHFs8Wrxb7EhMSMxJjElsSuxaDFssWqxb1dKy9naW0sXG4gICAgYXJhYmljOiAvW15hLXowLTnYoy3Zil0rL2dpbSxcbiAgICBuZXBhbGk6IC9bXmEtejAtOeCkhS3gpLldKy9naW0sXG4gICAgaXJpc2g6IC9bXmEtejAtOcOhw6nDrcOzw7rDgcOJw43Dk8OaXSsvZ2ltLFxuICAgIGluZGlhbjogL1teYS16MC054KSFLeCkuV0rL2dpbSxcbiAgICBhcm1lbmlhbjogL1teYS16MC051aEt1oZdKy9naW0sXG4gICAgZ3JlZWs6IC9bXmEtejAtOc6xLc+Jzqwtz45dKy9naW0sXG4gICAgaW5kb25lc2lhbjogL1teYS16MC05XSsvZ2ltLFxuICAgIHVrcmFpbmlhbjogL1teYS16MC050LAt0Y/QkC3Qr9GW0ZfRlNCG0IfQhF0rL2dpbSxcbiAgICBzbG92ZW5pYW46IC9bXmEtejAtOcSNxb7FocSMxb3FoF0rL2dpbSxcbiAgICBidWxnYXJpYW46IC9bXmEtejAtOdCwLdGP0JAt0K9dKy9naW0sXG4gICAgdGFtaWw6IC9bXmEtejAtOeCuhS3grrldKy9naW0sXG4gICAgc2Fuc2tyaXQ6IC9bXmEtejAtOUEtWsSBxKvFq+G5m+G4t+G5g+G5geG4pcWb4bmj4bmt4biN4bmH4bmFw7HhuLvhuLnhuZ1dKy9naW1cbn07XG5leHBvcnQgY29uc3QgU1VQUE9SVEVEX0xBTkdVQUdFUyA9IE9iamVjdC5rZXlzKFNURU1NRVJTKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFuZ3VhZ2VzLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi9lcnJvcnMuanMnO1xuY29uc3QgYmFzZUlkID0gRGF0ZS5ub3coKS50b1N0cmluZygpLnNsaWNlKDUpO1xubGV0IGxhc3RJZCA9IDA7XG5jb25zdCBrID0gMTAyNDtcbmNvbnN0IG5hbm8gPSBCaWdJbnQoMWUzKTtcbmNvbnN0IG1pbGxpID0gQmlnSW50KDFlNik7XG5jb25zdCBzZWNvbmQgPSBCaWdJbnQoMWU5KTtcbmV4cG9ydCBjb25zdCBpc1NlcnZlciA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnO1xuLyoqXG4gKiBUaGlzIHZhbHVlIGNhbiBiZSBpbmNyZWFzZWQgdXAgdG8gMTAwXzAwMFxuICogQnV0IGkgZG9uJ3Qga25vdyBpZiB0aGlzIHZhbHVlIGNoYW5nZSBmcm9tIG5vZGVqcyB0byBub2RlanNcbiAqIFNvIEkgd2lsbCBrZWVwIGEgc2FmZXIgdmFsdWUgaGVyZS5cbiAqLyBleHBvcnQgY29uc3QgTUFYX0FSR1VNRU5UX0ZPUl9TVEFDSyA9IDY1NTM1O1xuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBuZWVkZWQgdG8gdXNlZCBiZWNhdXNlIG9mIGlzc3VlcyBsaWtlOiBodHRwczovL2dpdGh1Yi5jb20vb3JhbWFzZWFyY2gvb3JhbWEvaXNzdWVzLzMwMVxuICogdGhhdCBpc3N1ZSBpcyBjYXVzZWQgYmVjYXVzZSB0aGUgYXJyYXkgdGhhdCBpcyBwdXNoZWQgaXMgaHVnZSAoPjEwMGspXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBzYWZlQXJyYXlQdXNoKG15QXJyYXksIFsxLCAyXSlcbiAqIGBgYFxuICovIGV4cG9ydCBmdW5jdGlvbiBzYWZlQXJyYXlQdXNoKGFyciwgbmV3QXJyKSB7XG4gICAgaWYgKG5ld0Fyci5sZW5ndGggPCBNQVhfQVJHVU1FTlRfRk9SX1NUQUNLKSB7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGFyciwgbmV3QXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbmV3QXJyLmxlbmd0aDsgaSArPSBNQVhfQVJHVU1FTlRfRk9SX1NUQUNLKXtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGFyciwgbmV3QXJyLnNsaWNlKGksIGkgKyBNQVhfQVJHVU1FTlRfRk9SX1NUQUNLKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc3ByaW50Zih0ZW1wbGF0ZSwgLi4uYXJncykge1xuICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC8lKD86KD88cG9zaXRpb24+XFxkKylcXCQpPyg/PHdpZHRoPi0/XFxkKlxcLj9cXGQqKSg/PHR5cGU+W2Rmc10pL2csIGZ1bmN0aW9uKC4uLnJlcGxhY2VBcmdzKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwcyA9IHJlcGxhY2VBcmdzW3JlcGxhY2VBcmdzLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCB7IHdpZHRoOiByYXdXaWR0aCAsIHR5cGUgLCBwb3NpdGlvbiAgfSA9IGdyb3VwcztcbiAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBwb3NpdGlvbiA/IGFyZ3NbTnVtYmVyLnBhcnNlSW50KHBvc2l0aW9uKSAtIDFdIDogYXJncy5zaGlmdCgpO1xuICAgICAgICBjb25zdCB3aWR0aCA9IHJhd1dpZHRoID09PSAnJyA/IDAgOiBOdW1iZXIucGFyc2VJbnQocmF3V2lkdGgpO1xuICAgICAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnQudG9TdHJpbmcoKS5wYWRTdGFydCh3aWR0aCwgJzAnKTtcbiAgICAgICAgICAgIGNhc2UgJ2YnOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtwYWRkaW5nLCBwcmVjaXNpb25dID0gcmF3V2lkdGguc3BsaXQoJy4nKS5tYXAoKHcpPT5OdW1iZXIucGFyc2VGbG9hdCh3KSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJlY2lzaW9uID09PSAnbnVtYmVyJyAmJiBwcmVjaXNpb24gPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0ZpeGVkKHByZWNpc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBwYWRkaW5nID09PSAnbnVtYmVyJyAmJiBwYWRkaW5nID49IDAgPyB2YWx1ZS50b1N0cmluZygpLnBhZFN0YXJ0KHdpZHRoLCAnMCcpIDogdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGggPCAwID8gcmVwbGFjZW1lbnQudG9TdHJpbmcoKS5wYWRFbmQoLXdpZHRoLCAnICcpIDogcmVwbGFjZW1lbnQudG9TdHJpbmcoKS5wYWRTdGFydCh3aWR0aCwgJyAnKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50O1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZm9ybWF0Qnl0ZXMoYnl0ZXMsIGRlY2ltYWxzID0gMikge1xuICAgIGlmIChieXRlcyA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJzAgQnl0ZXMnO1xuICAgIH1cbiAgICBjb25zdCBkbSA9IGRlY2ltYWxzIDwgMCA/IDAgOiBkZWNpbWFscztcbiAgICBjb25zdCBzaXplcyA9IFtcbiAgICAgICAgJ0J5dGVzJyxcbiAgICAgICAgJ0tCJyxcbiAgICAgICAgJ01CJyxcbiAgICAgICAgJ0dCJyxcbiAgICAgICAgJ1RCJyxcbiAgICAgICAgJ1BCJyxcbiAgICAgICAgJ0VCJyxcbiAgICAgICAgJ1pCJyxcbiAgICAgICAgJ1lCJ1xuICAgIF07XG4gICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpO1xuICAgIHJldHVybiBgJHtwYXJzZUZsb2F0KChieXRlcyAvIE1hdGgucG93KGssIGkpKS50b0ZpeGVkKGRtKSl9ICR7c2l6ZXNbaV19YDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmb3JtYXROYW5vc2Vjb25kcyh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhbHVlID0gQmlnSW50KHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlIDwgbmFubykge1xuICAgICAgICByZXR1cm4gYCR7dmFsdWV9bnNgO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPCBtaWxsaSkge1xuICAgICAgICByZXR1cm4gYCR7dmFsdWUgLyBuYW5vfc68c2A7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA8IHNlY29uZCkge1xuICAgICAgICByZXR1cm4gYCR7dmFsdWUgLyBtaWxsaX1tc2A7XG4gICAgfVxuICAgIHJldHVybiBgJHt2YWx1ZSAvIHNlY29uZH1zYDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXROYW5vc2Vjb25kc1RpbWUoKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmhydGltZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzLmhydGltZS5iaWdpbnQoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIEJpZ0ludChNYXRoLmZsb29yKHBlcmZvcm1hbmNlLm5vdygpICogMWU2KSk7XG4gICAgfVxuICAgIC8vIEB0b2RvOiBmYWxsYmFjayB0byBWOCBuYXRpdmUgbWV0aG9kIHRvIGdldCBtaWNyb3RpbWVcbiAgICByZXR1cm4gQmlnSW50KDApO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuICAgIHJldHVybiBgJHtiYXNlSWR9LSR7bGFzdElkKyt9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgLy8gQ2hlY2tzIGlmIGBoYXNPd25gIG1ldGhvZCBpcyBkZWZpbmVkIGF2b2lkaW5nIGVycm9ycyB3aXRoIG9sZGVyIE5vZGUuanMgdmVyc2lvbnNcbiAgICBpZiAoT2JqZWN0Lmhhc093biA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkgPyBvYmplY3RbcHJvcGVydHldIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0Lmhhc093bihvYmplY3QsIHByb3BlcnR5KSA/IG9iamVjdFtwcm9wZXJ0eV0gOiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9rZW5GcmVxdWVuY3kodG9rZW4sIHRva2Vucykge1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChjb25zdCB0IG9mIHRva2Vucyl7XG4gICAgICAgIGlmICh0ID09PSB0b2tlbikge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY291bnQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0U29ydGVkVmFsdWUoYXJyLCBlbCwgY29tcGFyZUZuID0gc29ydFRva2VuU2NvcmVQcmVkaWNhdGUpIHtcbiAgICBsZXQgbG93ID0gMDtcbiAgICBsZXQgaGlnaCA9IGFyci5sZW5ndGg7XG4gICAgbGV0IG1pZDtcbiAgICB3aGlsZShsb3cgPCBoaWdoKXtcbiAgICAgICAgbWlkID0gbG93ICsgaGlnaCA+Pj4gMTtcbiAgICAgICAgaWYgKGNvbXBhcmVGbihlbCwgYXJyW21pZF0pIDwgMCkge1xuICAgICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXJyLnNwbGljZShsb3csIDAsIGVsKTtcbiAgICByZXR1cm4gYXJyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRUb2tlblNjb3JlUHJlZGljYXRlKGEsIGIpIHtcbiAgICBpZiAoYlsxXSA9PT0gYVsxXSkge1xuICAgICAgICByZXR1cm4gYVswXSAtIGJbMF07XG4gICAgfVxuICAgIHJldHVybiBiWzFdIC0gYVsxXTtcbn1cbi8vIEludGVyc2VjdGlvbiBmdW5jdGlvbiB0YWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9sb3Zhc29hL2Zhc3RfYXJyYXlfaW50ZXJzZWN0LlxuLy8gTUlUIExpY2Vuc2VkIGF0IHRoZSB0aW1lIG9mIHdyaXRpbmcuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0KGFycmF5cykge1xuICAgIGlmIChhcnJheXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9IGVsc2UgaWYgKGFycmF5cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5c1swXTtcbiAgICB9XG4gICAgZm9yKGxldCBpID0gMTsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmIChhcnJheXNbaV0ubGVuZ3RoIDwgYXJyYXlzWzBdLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdG1wID0gYXJyYXlzWzBdO1xuICAgICAgICAgICAgYXJyYXlzWzBdID0gYXJyYXlzW2ldO1xuICAgICAgICAgICAgYXJyYXlzW2ldID0gdG1wO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNldCA9IG5ldyBNYXAoKTtcbiAgICBmb3IgKGNvbnN0IGVsZW0gb2YgYXJyYXlzWzBdKXtcbiAgICAgICAgc2V0LnNldChlbGVtLCAxKTtcbiAgICB9XG4gICAgZm9yKGxldCBpID0gMTsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGxldCBmb3VuZCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbSBvZiBhcnJheXNbaV0pe1xuICAgICAgICAgICAgY29uc3QgY291bnQgPSBzZXQuZ2V0KGVsZW0pO1xuICAgICAgICAgICAgaWYgKGNvdW50ID09PSBpKSB7XG4gICAgICAgICAgICAgICAgc2V0LnNldChlbGVtLCBjb3VudCArIDEpO1xuICAgICAgICAgICAgICAgIGZvdW5kKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvdW5kID09PSAwKSByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBhcnJheXNbMF0uZmlsdGVyKChlKT0+e1xuICAgICAgICBjb25zdCBjb3VudCA9IHNldC5nZXQoZSk7XG4gICAgICAgIGlmIChjb3VudCAhPT0gdW5kZWZpbmVkKSBzZXQuc2V0KGUsIDApO1xuICAgICAgICByZXR1cm4gY291bnQgPT09IGFycmF5cy5sZW5ndGg7XG4gICAgfSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzKGRvYywgcGF0aHMpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG4gICAgY29uc3QgcGF0aHNMZW5ndGggPSBwYXRocy5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHBhdGhzTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBwYXRoID0gcGF0aHNbaV07XG4gICAgICAgIGNvbnN0IHBhdGhUb2tlbnMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgICAgIGxldCBjdXJyZW50ID0gZG9jO1xuICAgICAgICBjb25zdCBwYXRoVG9rZW5zTGVuZ3RoID0gcGF0aFRva2Vucy5sZW5ndGg7XG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBwYXRoVG9rZW5zTGVuZ3RoOyBqKyspe1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGF0aFRva2Vuc1tqXV07XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCBhbiBvYmplY3QgYnV0IHdlIHdlcmUgc3VwcG9zZWQgdG8gYmUgZG9uZVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsICYmICdsYXQnIGluIGN1cnJlbnQgJiYgJ2xvbicgaW4gY3VycmVudCAmJiB0eXBlb2YgY3VycmVudC5sYXQgPT09ICdudW1iZXInICYmIHR5cGVvZiBjdXJyZW50LmxvbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHByb3BlcnRpZXNbcGF0aF0gPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGN1cnJlbnQpICYmIGN1cnJlbnQgIT09IG51bGwgJiYgaiA9PT0gcGF0aFRva2Vuc0xlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICgoY3VycmVudCA9PT0gbnVsbCB8fCB0eXBlb2YgY3VycmVudCAhPT0gJ29iamVjdCcpICYmIGogPCBwYXRoVG9rZW5zTGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGNhbid0IHJlY3Vyc2UgYW55bW9yZSBidXQgd2Ugd2VyZSBzdXBwb3NlZCB0b1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcHJvcGVydGllc1twYXRoXSA9IGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TmVzdGVkKG9iaiwgcGF0aCkge1xuICAgIGNvbnN0IHByb3BzID0gYXdhaXQgZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzKG9iaiwgW1xuICAgICAgICBwYXRoXG4gICAgXSk7XG4gICAgcmV0dXJuIHByb3BzW3BhdGhdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5PYmplY3Qob2JqLCBwcmVmaXggPSAnJykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvcihjb25zdCBrZXkgaW4gb2JqKXtcbiAgICAgICAgY29uc3QgcHJvcCA9IGAke3ByZWZpeH0ke2tleX1gO1xuICAgICAgICBjb25zdCBvYmpLZXkgPSBvYmpba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmpLZXkgPT09ICdvYmplY3QnICYmIG9iaktleSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXN1bHQsIGZsYXR0ZW5PYmplY3Qob2JqS2V5LCBgJHtwcm9wfS5gKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRbcHJvcF0gPSBvYmpLZXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IG1hcERpc3RhbmNlVG9NZXRlcnMgPSB7XG4gICAgY206IDAuMDEsXG4gICAgbTogMSxcbiAgICBrbTogMTAwMCxcbiAgICBmdDogMC4zMDQ4LFxuICAgIHlkOiAwLjkxNDQsXG4gICAgbWk6IDE2MDkuMzQ0XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnREaXN0YW5jZVRvTWV0ZXJzKGRpc3RhbmNlLCB1bml0KSB7XG4gICAgY29uc3QgcmF0aW8gPSBtYXBEaXN0YW5jZVRvTWV0ZXJzW3VuaXRdO1xuICAgIGlmIChyYXRpbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihjcmVhdGVFcnJvcignSU5WQUxJRF9ESVNUQU5DRV9TVUZGSVgnLCBkaXN0YW5jZSkubWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiBkaXN0YW5jZSAqIHJhdGlvO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiLCJpbXBvcnQgeyBTVVBQT1JURURfTEFOR1VBR0VTIH0gZnJvbSAnLi9jb21wb25lbnRzL3Rva2VuaXplci9sYW5ndWFnZXMuanMnO1xuaW1wb3J0IHsgc3ByaW50ZiB9IGZyb20gJy4vdXRpbHMuanMnO1xuY29uc3QgYWxsTGFuZ3VhZ2VzID0gU1VQUE9SVEVEX0xBTkdVQUdFUy5qb2luKCdcXG4gLSAnKTtcbmNvbnN0IGVycm9ycyA9IHtcbiAgICBOT19MQU5HVUFHRV9XSVRIX0NVU1RPTV9UT0tFTklaRVI6ICdEbyBub3QgcGFzcyB0aGUgbGFuZ3VhZ2Ugb3B0aW9uIHRvIGNyZWF0ZSB3aGVuIHVzaW5nIGEgY3VzdG9tIHRva2VuaXplci4nLFxuICAgIExBTkdVQUdFX05PVF9TVVBQT1JURUQ6IGBMYW5ndWFnZSBcIiVzXCIgaXMgbm90IHN1cHBvcnRlZC5cXG5TdXBwb3J0ZWQgbGFuZ3VhZ2VzIGFyZTpcXG4gLSAke2FsbExhbmd1YWdlc31gLFxuICAgIElOVkFMSURfU1RFTU1FUl9GVU5DVElPTl9UWVBFOiBgY29uZmlnLnN0ZW1tZXIgcHJvcGVydHkgbXVzdCBiZSBhIGZ1bmN0aW9uLmAsXG4gICAgTUlTU0lOR19TVEVNTUVSOiBgQXMgb2YgdmVyc2lvbiAxLjAuMCBAb3JhbWEvb3JhbWEgZG9lcyBub3Qgc2hpcCBub24gRW5nbGlzaCBzdGVtbWVycyBieSBkZWZhdWx0LiBUbyBzb2x2ZSB0aGlzLCBwbGVhc2UgZXhwbGljaXRseSBpbXBvcnQgYW5kIHNwZWNpZnkgdGhlIFwiJXNcIiBzdGVtbWVyIGZyb20gdGhlIHBhY2thZ2UgQG9yYW1hL3N0ZW1tZXJzLiBTZWUgaHR0cHM6Ly9kb2NzLm9yYW1hc2VhcmNoLmNvbS9vcGVuLXNvdXJjZS90ZXh0LWFuYWx5c2lzL3N0ZW1taW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLmAsXG4gICAgQ1VTVE9NX1NUT1BfV09SRFNfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWTogJ0N1c3RvbSBzdG9wIHdvcmRzIGFycmF5IG11c3Qgb25seSBjb250YWluIHN0cmluZ3MuJyxcbiAgICBVTlNVUFBPUlRFRF9DT01QT05FTlQ6IGBVbnN1cHBvcnRlZCBjb21wb25lbnQgXCIlc1wiLmAsXG4gICAgQ09NUE9ORU5UX01VU1RfQkVfRlVOQ1RJT046IGBUaGUgY29tcG9uZW50IFwiJXNcIiBtdXN0IGJlIGEgZnVuY3Rpb24uYCxcbiAgICBDT01QT05FTlRfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWV9GVU5DVElPTlM6IGBUaGUgY29tcG9uZW50IFwiJXNcIiBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgYW4gYXJyYXkgb2YgZnVuY3Rpb25zLmAsXG4gICAgSU5WQUxJRF9TQ0hFTUFfVFlQRTogYFVuc3VwcG9ydGVkIHNjaGVtYSB0eXBlIFwiJXNcIiBhdCBcIiVzXCIuIEV4cGVjdGVkIFwic3RyaW5nXCIsIFwiYm9vbGVhblwiIG9yIFwibnVtYmVyXCIgb3IgYXJyYXkgb2YgdGhlbS5gLFxuICAgIERPQ1VNRU5UX0lEX01VU1RfQkVfU1RSSU5HOiBgRG9jdW1lbnQgaWQgbXVzdCBiZSBvZiB0eXBlIFwic3RyaW5nXCIuIEdvdCBcIiVzXCIgaW5zdGVhZC5gLFxuICAgIERPQ1VNRU5UX0FMUkVBRFlfRVhJU1RTOiBgQSBkb2N1bWVudCB3aXRoIGlkIFwiJXNcIiBhbHJlYWR5IGV4aXN0cy5gLFxuICAgIERPQ1VNRU5UX0RPRVNfTk9UX0VYSVNUOiBgQSBkb2N1bWVudCB3aXRoIGlkIFwiJXNcIiBkb2VzIG5vdCBleGlzdHMuYCxcbiAgICBNSVNTSU5HX0RPQ1VNRU5UX1BST1BFUlRZOiBgTWlzc2luZyBzZWFyY2hhYmxlIHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfRE9DVU1FTlRfUFJPUEVSVFk6IGBJbnZhbGlkIGRvY3VtZW50IHByb3BlcnR5IFwiJXNcIjogZXhwZWN0ZWQgXCIlc1wiLCBnb3QgXCIlc1wiYCxcbiAgICBVTktOT1dOX0lOREVYOiBgSW52YWxpZCBwcm9wZXJ0eSBuYW1lIFwiJXNcIi4gRXhwZWN0ZWQgYSB3aWxkY2FyZCBzdHJpbmcgKFwiKlwiKSBvciBhcnJheSBjb250YWluaW5nIG9uZSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6ICVzYCxcbiAgICBJTlZBTElEX0JPT1NUX1ZBTFVFOiBgQm9vc3QgdmFsdWUgbXVzdCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4sIG9yIGxlc3MgdGhhbiAwLmAsXG4gICAgSU5WQUxJRF9GSUxURVJfT1BFUkFUSU9OOiBgWW91IGNhbiBvbmx5IHVzZSBvbmUgb3BlcmF0aW9uIHBlciBmaWx0ZXIsIHlvdSByZXF1ZXN0ZWQgJWQuYCxcbiAgICBTQ0hFTUFfVkFMSURBVElPTl9GQUlMVVJFOiBgQ2Fubm90IGluc2VydCBkb2N1bWVudCBkdWUgc2NoZW1hIHZhbGlkYXRpb24gZmFpbHVyZSBvbiBcIiVzXCIgcHJvcGVydHkuYCxcbiAgICBJTlZBTElEX1NPUlRfU0NIRU1BX1RZUEU6IGBVbnN1cHBvcnRlZCBzb3J0IHNjaGVtYSB0eXBlIFwiJXNcIiBhdCBcIiVzXCIuIEV4cGVjdGVkIFwic3RyaW5nXCIgb3IgXCJudW1iZXJcIi5gLFxuICAgIENBTk5PVF9TT1JUX0JZX0FSUkFZOiBgQ2Fubm90IGNvbmZpZ3VyZSBzb3J0IGZvciBcIiVzXCIgYmVjYXVzZSBpdCBpcyBhbiBhcnJheSAoJXMpLmAsXG4gICAgVU5BQkxFX1RPX1NPUlRfT05fVU5LTk9XTl9GSUVMRDogYFVuYWJsZSB0byBzb3J0IG9uIHVua25vd24gZmllbGQgXCIlc1wiLiBBbGxvd2VkIGZpZWxkczogJXNgLFxuICAgIFNPUlRfRElTQUJMRUQ6IGBTb3J0IGlzIGRpc2FibGVkLiBQbGVhc2UgcmVhZCB0aGUgZG9jdW1lbnRhdGlvbiBhdCBodHRwczovL2RvY3Mub3JhbWFzZWFyY2ggZm9yIG1vcmUgaW5mb3JtYXRpb24uYCxcbiAgICBVTktOT1dOX0dST1VQX0JZX1BST1BFUlRZOiBgVW5rbm93biBncm91cEJ5IHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfR1JPVVBfQllfUFJPUEVSVFk6IGBJbnZhbGlkIGdyb3VwQnkgcHJvcGVydHkgXCIlc1wiLiBBbGxvd2VkIHR5cGVzOiBcIiVzXCIsIGJ1dCBnaXZlbiBcIiVzXCIuYCxcbiAgICBVTktOT1dOX0ZJTFRFUl9QUk9QRVJUWTogYFVua25vd24gZmlsdGVyIHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfVkVDVE9SX1NJWkU6IGBWZWN0b3Igc2l6ZSBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwLiBHb3QgXCIlc1wiIGluc3RlYWQuYCxcbiAgICBJTlZBTElEX1ZFQ1RPUl9WQUxVRTogYFZlY3RvciB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwLiBHb3QgXCIlc1wiIGluc3RlYWQuYCxcbiAgICBJTlZBTElEX0lOUFVUX1ZFQ1RPUjogYFByb3BlcnR5IFwiJXNcIiB3YXMgZGVjbGFyZWQgYXMgYSAlcy1kaW1lbnNpb25hbCB2ZWN0b3IsIGJ1dCBnb3QgYSAlcy1kaW1lbnNpb25hbCB2ZWN0b3IgaW5zdGVhZC5cXG5JbnB1dCB2ZWN0b3JzIG11c3QgYmUgb2YgdGhlIHNpemUgZGVjbGFyZWQgaW4gdGhlIHNjaGVtYSwgYXMgY2FsY3VsYXRpbmcgc2ltaWxhcml0eSBiZXR3ZWVuIHZlY3RvcnMgb2YgZGlmZmVyZW50IHNpemVzIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgcmVzdWx0cy5gLFxuICAgIFdST05HX1NFQVJDSF9QUk9QRVJUWV9UWVBFOiBgUHJvcGVydHkgXCIlc1wiIGlzIG5vdCBzZWFyY2hhYmxlLiBPbmx5IFwic3RyaW5nXCIgcHJvcGVydGllcyBhcmUgc2VhcmNoYWJsZS5gLFxuICAgIEZBQ0VUX05PVF9TVVBQT1JURUQ6IGBGYWNldCBkb2Vucyd0IHN1cHBvcnQgdGhlIHR5cGUgXCIlc1wiLmAsXG4gICAgSU5WQUxJRF9ESVNUQU5DRV9TVUZGSVg6IGBJbnZhbGlkIGRpc3RhbmNlIHN1ZmZpeCBcIiVzXCIuIFZhbGlkIHN1ZmZpeGVzIGFyZTogY20sIG0sIGttLCBtaSwgeWQsIGZ0LmBcbn07XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXJyb3IoY29kZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHNwcmludGYoZXJyb3JzW2NvZGVdID8/IGBVbnN1cHBvcnRlZCBPcmFtYSBFcnJvciBjb2RlOiAke2NvZGV9YCwgLi4uYXJncykpO1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICAgIGlmICgnY2FwdHVyZVN0YWNrVHJhY2UnIGluIEVycm9yLnByb3RvdHlwZSkge1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcjtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JzLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGZvcm1hdE5hbm9zZWNvbmRzLCB1bmlxdWVJZCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmV4cG9ydCB7IGdldERvY3VtZW50UHJvcGVydGllcyB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmb3JtYXRFbGFwc2VkVGltZShuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmF3OiBOdW1iZXIobiksXG4gICAgICAgIGZvcm1hdHRlZDogYXdhaXQgZm9ybWF0TmFub3NlY29uZHMobilcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERvY3VtZW50SW5kZXhJZChkb2MpIHtcbiAgICBpZiAoZG9jLmlkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZG9jLmlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0RPQ1VNRU5UX0lEX01VU1RfQkVfU1RSSU5HJywgdHlwZW9mIGRvYy5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvYy5pZDtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHVuaXF1ZUlkKCk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVTY2hlbWEoZG9jLCBzY2hlbWEpIHtcbiAgICBmb3IgKGNvbnN0IFtwcm9wLCB0eXBlXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEpKXtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkb2NbcHJvcF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2dlb3BvaW50JyAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS5sb24gPT09ICdudW1iZXInICYmIHR5cGVvZiB2YWx1ZS5sYXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2VudW0nICYmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2VudW1bXScgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlTGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHZhbHVlTGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gIT09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZVtpXSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3AgKyAnLicgKyBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1ZlY3RvclR5cGUodHlwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZlY3RvclNpemUgPSBnZXRWZWN0b3JTaXplKHR5cGUpO1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggIT09IHZlY3RvclNpemUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9JTlBVVF9WRUNUT1InLCBwcm9wLCB2ZWN0b3JTaXplLCB2YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlUeXBlKHR5cGUpKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBnZXRJbm5lclR5cGUodHlwZSk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB2YWx1ZUxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3AgKyAnLicgKyBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXNpbmcgYXMgUmVzdWx0RG9jdW1lbnQgaXMgbm90IGV4YWN0bHkgcmlnaHQgYnV0IHRyeWluZyB0byBiZSB0eXBlLXNhZmUgaGVyZSBpcyBub3QgdXNlZnVsXG4gICAgICAgICAgICBjb25zdCBzdWJQcm9wID0gYXdhaXQgdmFsaWRhdGVTY2hlbWEodmFsdWUsIHR5cGUpO1xuICAgICAgICAgICAgaWYgKHN1YlByb3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcCArICcuJyArIHN1YlByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSB0eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuY29uc3QgSVNfQVJSQVlfVFlQRSA9IHtcbiAgICBzdHJpbmc6IGZhbHNlLFxuICAgIG51bWJlcjogZmFsc2UsXG4gICAgYm9vbGVhbjogZmFsc2UsXG4gICAgZW51bTogZmFsc2UsXG4gICAgZ2VvcG9pbnQ6IGZhbHNlLFxuICAgICdzdHJpbmdbXSc6IHRydWUsXG4gICAgJ251bWJlcltdJzogdHJ1ZSxcbiAgICAnYm9vbGVhbltdJzogdHJ1ZSxcbiAgICAnZW51bVtdJzogdHJ1ZVxufTtcbmNvbnN0IElOTkVSX1RZUEUgPSB7XG4gICAgJ3N0cmluZ1tdJzogJ3N0cmluZycsXG4gICAgJ251bWJlcltdJzogJ251bWJlcicsXG4gICAgJ2Jvb2xlYW5bXSc6ICdib29sZWFuJyxcbiAgICAnZW51bVtdJzogJ2VudW0nXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGlzR2VvUG9pbnRUeXBlKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2dlb3BvaW50Jztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ZlY3RvclR5cGUodHlwZSkge1xuICAgIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgJiYgL152ZWN0b3JcXFtcXGQrXFxdJC8udGVzdCh0eXBlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5VHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyAmJiBJU19BUlJBWV9UWVBFW3R5cGVdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldElubmVyVHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIElOTkVSX1RZUEVbdHlwZV07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VmVjdG9yU2l6ZSh0eXBlKSB7XG4gICAgY29uc3Qgc2l6ZSA9IE51bWJlcih0eXBlLnNsaWNlKDcsIC0xKSk7XG4gICAgc3dpdGNoKHRydWUpe1xuICAgICAgICBjYXNlIGlzTmFOKHNpemUpOlxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfVkVDVE9SX1ZBTFVFJywgdHlwZSk7XG4gICAgICAgIGNhc2Ugc2l6ZSA8PSAwOlxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfVkVDVE9SX1NJWkUnLCB0eXBlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdHMuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludGVybmFsRG9jdW1lbnRJRFN0b3JlKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkVG9JbnRlcm5hbElkOiBuZXcgTWFwKCksXG4gICAgICAgIGludGVybmFsSWRUb0lkOiBbXSxcbiAgICAgICAgc2F2ZSxcbiAgICAgICAgbG9hZFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2F2ZShzdG9yZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGludGVybmFsSWRUb0lkOiBzdG9yZS5pbnRlcm5hbElkVG9JZFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbG9hZChvcmFtYSwgcmF3KSB7XG4gICAgY29uc3QgeyBpbnRlcm5hbElkVG9JZCAgfSA9IHJhdztcbiAgICBvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZS5pZFRvSW50ZXJuYWxJZC5jbGVhcigpO1xuICAgIG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLmludGVybmFsSWRUb0lkID0gW107XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGludGVybmFsSWRUb0lkLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgb3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUuaWRUb0ludGVybmFsSWQuc2V0KGludGVybmFsSWRUb0lkW2ldLCBpICsgMSk7XG4gICAgICAgIG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLmludGVybmFsSWRUb0lkLnB1c2goaW50ZXJuYWxJZFRvSWRbaV0pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcm5hbERvY3VtZW50SWQoc3RvcmUsIGlkKSB7XG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZCA9IHN0b3JlLmlkVG9JbnRlcm5hbElkLmdldChpZCk7XG4gICAgICAgIGlmIChpbnRlcm5hbElkKSB7XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJuYWxJZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50SWQgPSBzdG9yZS5pZFRvSW50ZXJuYWxJZC5zaXplICsgMTtcbiAgICAgICAgc3RvcmUuaWRUb0ludGVybmFsSWQuc2V0KGlkLCBjdXJyZW50SWQpO1xuICAgICAgICBzdG9yZS5pbnRlcm5hbElkVG9JZC5wdXNoKGlkKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRJZDtcbiAgICB9XG4gICAgaWYgKGlkID4gc3RvcmUuaW50ZXJuYWxJZFRvSWQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnRlcm5hbERvY3VtZW50SWQoc3RvcmUsIGlkLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICByZXR1cm4gaWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkKHN0b3JlLCBpbnRlcm5hbElkKSB7XG4gICAgaWYgKHN0b3JlLmludGVybmFsSWRUb0lkLmxlbmd0aCA8IGludGVybmFsSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGludGVybmFsSWQgJHtpbnRlcm5hbElkfWApO1xuICAgIH1cbiAgICByZXR1cm4gc3RvcmUuaW50ZXJuYWxJZFRvSWRbaW50ZXJuYWxJZCAtIDFdO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcy5tYXAiLCJpbXBvcnQgeyBnZXRJbnRlcm5hbERvY3VtZW50SWQgfSBmcm9tICcuL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGUoXywgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICBkb2NzOiB7fSxcbiAgICAgICAgY291bnQ6IDBcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldChzdG9yZSwgaWQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHN0b3JlLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIHJldHVybiBzdG9yZS5kb2NzW2ludGVybmFsSWRdO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE11bHRpcGxlKHN0b3JlLCBpZHMpIHtcbiAgICBjb25zdCBmb3VuZCA9IEFycmF5LmZyb20oe1xuICAgICAgICBsZW5ndGg6IGlkcy5sZW5ndGhcbiAgICB9KTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChzdG9yZS5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkc1tpXSk7XG4gICAgICAgIGZvdW5kW2ldID0gc3RvcmUuZG9jc1tpbnRlcm5hbElkXTtcbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbChzdG9yZSkge1xuICAgIHJldHVybiBzdG9yZS5kb2NzO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0b3JlKHN0b3JlLCBpZCwgZG9jKSB7XG4gICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChzdG9yZS5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBpZiAodHlwZW9mIHN0b3JlLmRvY3NbaW50ZXJuYWxJZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3RvcmUuZG9jc1tpbnRlcm5hbElkXSA9IGRvYztcbiAgICBzdG9yZS5jb3VudCsrO1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZShzdG9yZSwgaWQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHN0b3JlLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGlmICh0eXBlb2Ygc3RvcmUuZG9jc1tpbnRlcm5hbElkXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkZWxldGUgc3RvcmUuZG9jc1tpbnRlcm5hbElkXTtcbiAgICBzdG9yZS5jb3VudC0tO1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvdW50KHN0b3JlKSB7XG4gICAgcmV0dXJuIHN0b3JlLmNvdW50O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWQoc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCByYXcpIHtcbiAgICBjb25zdCByYXdEb2N1bWVudCA9IHJhdztcbiAgICByZXR1cm4ge1xuICAgICAgICBkb2NzOiByYXdEb2N1bWVudC5kb2NzLFxuICAgICAgICBjb3VudDogcmF3RG9jdW1lbnQuY291bnQsXG4gICAgICAgIHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZVxuICAgIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZShzdG9yZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRvY3M6IHN0b3JlLmRvY3MsXG4gICAgICAgIGNvdW50OiBzdG9yZS5jb3VudFxuICAgIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnRzU3RvcmUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlLFxuICAgICAgICBnZXQsXG4gICAgICAgIGdldE11bHRpcGxlLFxuICAgICAgICBnZXRBbGwsXG4gICAgICAgIHN0b3JlLFxuICAgICAgICByZW1vdmUsXG4gICAgICAgIGNvdW50LFxuICAgICAgICBsb2FkLFxuICAgICAgICBzYXZlXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9jdW1lbnRzLXN0b3JlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBBVkFJTEFCTEVfUExVR0lOX0hPT0tTID0gW1xuICAgICdiZWZvcmVJbnNlcnQnLFxuICAgICdhZnRlckluc2VydCcsXG4gICAgJ2JlZm9yZVJlbW92ZScsXG4gICAgJ2FmdGVyUmVtb3ZlJyxcbiAgICAnYmVmb3JlVXBkYXRlJyxcbiAgICAnYWZ0ZXJVcGRhdGUnLFxuICAgICdiZWZvcmVTZWFyY2gnLFxuICAgICdhZnRlclNlYXJjaCcsXG4gICAgJ2JlZm9yZUluc2VydE11bHRpcGxlJyxcbiAgICAnYWZ0ZXJJbnNlcnRNdWx0aXBsZScsXG4gICAgJ2JlZm9yZVJlbW92ZU11bHRpcGxlJyxcbiAgICAnYWZ0ZXJSZW1vdmVNdWx0aXBsZScsXG4gICAgJ2JlZm9yZVVwZGF0ZU11bHRpcGxlJyxcbiAgICAnYWZ0ZXJVcGRhdGVNdWx0aXBsZScsXG4gICAgJ2JlZm9yZUxvYWQnLFxuICAgICdhZnRlckxvYWQnXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFBsdWdpbnNCeUhvb2sob3JhbWEsIGhvb2spIHtcbiAgICB2YXIgX29yYW1hX3BsdWdpbnM7XG4gICAgY29uc3QgcGx1Z2luc1RvUnVuID0gW107XG4gICAgY29uc3QgcGx1Z2luc0xlbmd0aCA9IChfb3JhbWFfcGx1Z2lucyA9IG9yYW1hLnBsdWdpbnMpID09PSBudWxsIHx8IF9vcmFtYV9wbHVnaW5zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3JhbWFfcGx1Z2lucy5sZW5ndGg7XG4gICAgaWYgKCFwbHVnaW5zTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW5zVG9SdW47XG4gICAgfVxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwbHVnaW5zTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBwbHVnaW4gPSBvcmFtYS5wbHVnaW5zW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHBsdWdpbltob29rXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcGx1Z2luc1RvUnVuLnB1c2gocGx1Z2luW2hvb2tdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGx1Z2luc1RvUnVuO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbHVnaW5zLmpzLm1hcCIsImV4cG9ydCBjb25zdCBPQkpFQ1RfQ09NUE9ORU5UUyA9IFtcbiAgICAndG9rZW5pemVyJyxcbiAgICAnaW5kZXgnLFxuICAgICdkb2N1bWVudHNTdG9yZScsXG4gICAgJ3NvcnRlcidcbl07XG5leHBvcnQgY29uc3QgRlVOQ1RJT05fQ09NUE9ORU5UUyA9IFtcbiAgICAndmFsaWRhdGVTY2hlbWEnLFxuICAgICdnZXREb2N1bWVudEluZGV4SWQnLFxuICAgICdnZXREb2N1bWVudFByb3BlcnRpZXMnLFxuICAgICdmb3JtYXRFbGFwc2VkVGltZSdcbl07XG5leHBvcnQgY29uc3QgU0lOR0xFX09SX0FSUkFZX0NPTVBPTkVOVFMgPSBbXTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5TaW5nbGVIb29rKGhvb2tzLCBvcmFtYSwgaWQsIGRvYykge1xuICAgIGNvbnN0IGhvb2tzTGVuZ3RoID0gaG9va3MubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBob29rc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgaG9va3NbaV0ob3JhbWEsIGlkLCBkb2MpO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5NdWx0aXBsZUhvb2soaG9va3MsIG9yYW1hLCBkb2NzT3JJZHMpIHtcbiAgICBjb25zdCBob29rc0xlbmd0aCA9IGhvb2tzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgaG9va3NMZW5ndGg7IGkrKyl7XG4gICAgICAgIGF3YWl0IGhvb2tzW2ldKG9yYW1hLCBkb2NzT3JJZHMpO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5BZnRlclNlYXJjaChob29rcywgZGIsIHBhcmFtcywgbGFuZ3VhZ2UsIHJlc3VsdHMpIHtcbiAgICBjb25zdCBob29rc0xlbmd0aCA9IGhvb2tzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgaG9va3NMZW5ndGg7IGkrKyl7XG4gICAgICAgIGF3YWl0IGhvb2tzW2ldKGRiLCBwYXJhbXMsIGxhbmd1YWdlLCByZXN1bHRzKTtcbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuQmVmb3JlU2VhcmNoKGhvb2tzLCBkYiwgcGFyYW1zLCBsYW5ndWFnZSkge1xuICAgIGNvbnN0IGhvb2tzTGVuZ3RoID0gaG9va3MubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBob29rc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgaG9va3NbaV0oZGIsIHBhcmFtcywgbGFuZ3VhZ2UpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9va3MuanMubWFwIiwiaW1wb3J0IHsgc2FmZUFycmF5UHVzaCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmNvbnN0IEJBTEFOQ0VfU1RBVEUgPSB7XG4gICAgVU5CQUxBTkNFRF9SSUdIVDogLTIsXG4gICAgU0xJR0hUTFlfVU5CQUxBTkNFRF9SSUdIVDogLTEsXG4gICAgQkFMQU5DRUQ6IDAsXG4gICAgU0xJR0hUTFlfVU5CQUxBTkNFRF9MRUZUOiAxLFxuICAgIFVOQkFMQU5DRURfTEVGVDogMlxufTtcbmZ1bmN0aW9uIGdldEhlaWdodChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUgIT0gbnVsbCA/IG5vZGUuaCA6IC0xO1xufVxuZnVuY3Rpb24gcm90YXRlTGVmdChub2RlKSB7XG4gICAgY29uc3QgcmlnaHQgPSBub2RlLnI7XG4gICAgbm9kZS5yID0gcmlnaHQubDtcbiAgICByaWdodC5sID0gbm9kZTtcbiAgICBub2RlLmggPSBNYXRoLm1heChnZXRIZWlnaHQobm9kZS5sKSwgZ2V0SGVpZ2h0KG5vZGUucikpICsgMTtcbiAgICByaWdodC5oID0gTWF0aC5tYXgoZ2V0SGVpZ2h0KHJpZ2h0LmwpLCBnZXRIZWlnaHQocmlnaHQucikpICsgMTtcbiAgICByZXR1cm4gcmlnaHQ7XG59XG5mdW5jdGlvbiByb3RhdGVSaWdodChub2RlKSB7XG4gICAgY29uc3QgbGVmdCA9IG5vZGUubDtcbiAgICBub2RlLmwgPSBsZWZ0LnI7XG4gICAgbGVmdC5yID0gbm9kZTtcbiAgICBub2RlLmggPSBNYXRoLm1heChnZXRIZWlnaHQobm9kZS5sKSwgZ2V0SGVpZ2h0KG5vZGUucikpICsgMTtcbiAgICBsZWZ0LmggPSBNYXRoLm1heChnZXRIZWlnaHQobGVmdC5sKSwgZ2V0SGVpZ2h0KGxlZnQucikpICsgMTtcbiAgICByZXR1cm4gbGVmdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWlucyhub2RlLCBrZXkpIHtcbiAgICByZXR1cm4gISFmaW5kKG5vZGUsIGtleSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6ZShyb290KSB7XG4gICAgbGV0IHNpemUgPSAwO1xuICAgIGNvbnN0IHF1ZXVlID0gW107XG4gICAgaWYgKHJvb3QgIT09IG51bGwpIHtcbiAgICAgICAgcXVldWUucHVzaChyb290KTtcbiAgICB9XG4gICAgd2hpbGUocXVldWUubGVuZ3RoID4gMCl7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICBzaXplKys7XG4gICAgICAgIGlmIChub2RlLmwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2gobm9kZS5sKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5yICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKG5vZGUucik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNpemU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCYWxhbmNlZChyb290KSB7XG4gICAgaWYgKHJvb3QgPT09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGNvbnN0IHN0YWNrID0gW1xuICAgICAgICByb290XG4gICAgXTtcbiAgICB3aGlsZShzdGFjay5sZW5ndGggPiAwKXtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc3QgaGVpZ2h0RGlmZiA9IGdldEhlaWdodChub2RlLmwpIC0gZ2V0SGVpZ2h0KG5vZGUucik7XG4gICAgICAgIGlmIChoZWlnaHREaWZmID4gMSB8fCBoZWlnaHREaWZmIDwgLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5yICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUucik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUubCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhY2sucHVzaChub2RlLmwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlU2VhcmNoKG5vZGUsIG1pbiwgbWF4KSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZnVuY3Rpb24gdHJhdmVyc2Uobm9kZSkge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5rID4gbWluKSB7XG4gICAgICAgICAgICB0cmF2ZXJzZShub2RlLmwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmsgPj0gbWluICYmIG5vZGUuayA8PSBtYXgpIHtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBub2RlLnYpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmsgPCBtYXgpIHtcbiAgICAgICAgICAgIHRyYXZlcnNlKG5vZGUucik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHJhdmVyc2Uobm9kZSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBncmVhdGVyVGhhbihub2RlLCBrZXksIGluY2x1c2l2ZSA9IGZhbHNlKSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZnVuY3Rpb24gdHJhdmVyc2Uobm9kZSkge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVzaXZlICYmIG5vZGUuayA+PSBrZXkpIHtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBub2RlLnYpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW5jbHVzaXZlICYmIG5vZGUuayA+IGtleSkge1xuICAgICAgICAgICAgc2FmZUFycmF5UHVzaChyZXN1bHQsIG5vZGUudik7XG4gICAgICAgIH1cbiAgICAgICAgdHJhdmVyc2Uobm9kZS5sKTtcbiAgICAgICAgdHJhdmVyc2Uobm9kZS5yKTtcbiAgICB9XG4gICAgdHJhdmVyc2Uobm9kZSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsZXNzVGhhbihub2RlLCBrZXksIGluY2x1c2l2ZSA9IGZhbHNlKSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZnVuY3Rpb24gdHJhdmVyc2Uobm9kZSkge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVzaXZlICYmIG5vZGUuayA8PSBrZXkpIHtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBub2RlLnYpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW5jbHVzaXZlICYmIG5vZGUuayA8IGtleSkge1xuICAgICAgICAgICAgc2FmZUFycmF5UHVzaChyZXN1bHQsIG5vZGUudik7XG4gICAgICAgIH1cbiAgICAgICAgdHJhdmVyc2Uobm9kZS5sKTtcbiAgICAgICAgdHJhdmVyc2Uobm9kZS5yKTtcbiAgICB9XG4gICAgdHJhdmVyc2Uobm9kZSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldE5vZGVCeUtleShub2RlLCBrZXkpIHtcbiAgICB3aGlsZShub2RlICE9PSBudWxsKXtcbiAgICAgICAgaWYgKGtleSA8IG5vZGUuaykge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUubDtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPiBub2RlLmspIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGs6IGtleSxcbiAgICAgICAgdjogdmFsdWUsXG4gICAgICAgIGw6IG51bGwsXG4gICAgICAgIHI6IG51bGwsXG4gICAgICAgIGg6IDBcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydChyb290LCBrZXksIHZhbHVlKSB7XG4gICAgbGV0IHBhcmVudCA9IG51bGw7XG4gICAgbGV0IGN1cnJlbnQgPSByb290O1xuICAgIHdoaWxlKGN1cnJlbnQgIT09IG51bGwpe1xuICAgICAgICBwYXJlbnQgPSBjdXJyZW50O1xuICAgICAgICBpZiAoa2V5IDwgY3VycmVudC5rKSB7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5sO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA+IGN1cnJlbnQuaykge1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIHZhbHVlIGlzIGFuIGFycmF5IGhlcmVcbiAgICAgICAgICAgIGN1cnJlbnQudiA9IGN1cnJlbnQudi5jb25jYXQodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV3Tm9kZSA9IGNyZWF0ZShrZXksIHZhbHVlKTtcbiAgICBpZiAocGFyZW50ID09IG51bGwpIHtcbiAgICAgICAgcm9vdCA9IG5ld05vZGUgLy8gdHJlZSB3YXMgZW1wdHlcbiAgICAgICAgO1xuICAgIH0gZWxzZSBpZiAoa2V5IDwgcGFyZW50LmspIHtcbiAgICAgICAgcGFyZW50LmwgPSBuZXdOb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudC5yID0gbmV3Tm9kZTtcbiAgICB9XG4gICAgY3VycmVudCA9IG5ld05vZGU7XG4gICAgd2hpbGUocGFyZW50ICE9IG51bGwpe1xuICAgICAgICBjb25zdCBiYWxhbmNlRmFjdG9yID0gZ2V0SGVpZ2h0KHBhcmVudC5sKSAtIGdldEhlaWdodChwYXJlbnQucik7XG4gICAgICAgIGlmIChiYWxhbmNlRmFjdG9yID09PSBCQUxBTkNFX1NUQVRFLlVOQkFMQU5DRURfTEVGVCkge1xuICAgICAgICAgICAgaWYgKGtleSA+IHBhcmVudC5sLmspIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQubCA9IHJvdGF0ZUxlZnQocGFyZW50LmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcm90YXRlUmlnaHQocGFyZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFsYW5jZUZhY3RvciA9PT0gQkFMQU5DRV9TVEFURS5VTkJBTEFOQ0VEX1JJR0hUKSB7XG4gICAgICAgICAgICBpZiAoa2V5IDwgcGFyZW50LnIuaykge1xuICAgICAgICAgICAgICAgIHBhcmVudC5yID0gcm90YXRlUmlnaHQocGFyZW50LnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcm90YXRlTGVmdChwYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnQgPT09IHJvb3QpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHBhcmVudCA9IGdldE5vZGVQYXJlbnQocm9vdCwgY3VycmVudC5rKTtcbiAgICB9XG4gICAgcmV0dXJuIHJvb3Q7XG59XG5mdW5jdGlvbiBnZXROb2RlUGFyZW50KHJvb3QsIGtleSkge1xuICAgIGxldCBjdXJyZW50ID0gcm9vdDtcbiAgICBsZXQgcGFyZW50ID0gbnVsbDtcbiAgICB3aGlsZShjdXJyZW50ICE9PSBudWxsKXtcbiAgICAgICAgaWYgKGtleSA8IGN1cnJlbnQuaykge1xuICAgICAgICAgICAgcGFyZW50ID0gY3VycmVudDtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lmw7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID4gY3VycmVudC5rKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSBjdXJyZW50O1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZChyb290LCBrZXkpIHtcbiAgICBjb25zdCBub2RlID0gZ2V0Tm9kZUJ5S2V5KHJvb3QsIGtleSk7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGUudjtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUocm9vdCwga2V5KSB7XG4gICAgbGV0IG5vZGUgPSByb290O1xuICAgIGxldCBwYXJlbnROb2RlID0gbnVsbDtcbiAgICB3aGlsZShub2RlICE9IG51bGwgJiYgbm9kZS5rICE9PSBrZXkpe1xuICAgICAgICBwYXJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgaWYgKGtleSA8IG5vZGUuaykge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUubDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKG5vZGUubCA9PSBudWxsICYmIG5vZGUuciA9PSBudWxsKSB7XG4gICAgICAgIGlmIChwYXJlbnROb2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIE5vZGUgdG8gYmUgZGVsZXRlZCBpcyByb290XG4gICAgICAgICAgICByb290ID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlLmwgPT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmwgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlLmwgIT0gbnVsbCAmJiBub2RlLnIgIT0gbnVsbCkge1xuICAgICAgICBsZXQgbWluVmFsdWVOb2RlID0gbm9kZS5yO1xuICAgICAgICBsZXQgbWluVmFsdWVQYXJlbnQgPSBub2RlO1xuICAgICAgICB3aGlsZShtaW5WYWx1ZU5vZGUubCAhPSBudWxsKXtcbiAgICAgICAgICAgIG1pblZhbHVlUGFyZW50ID0gbWluVmFsdWVOb2RlO1xuICAgICAgICAgICAgbWluVmFsdWVOb2RlID0gbWluVmFsdWVOb2RlLmw7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5rID0gbWluVmFsdWVOb2RlLms7XG4gICAgICAgIGlmIChtaW5WYWx1ZVBhcmVudCA9PT0gbm9kZSkge1xuICAgICAgICAgICAgbWluVmFsdWVQYXJlbnQuciA9IG1pblZhbHVlTm9kZS5yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWluVmFsdWVQYXJlbnQubCA9IG1pblZhbHVlTm9kZS5yO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY2hpbGROb2RlID0gbm9kZS5sICE9IG51bGwgPyBub2RlLmwgOiBub2RlLnI7XG4gICAgICAgIGlmIChwYXJlbnROb2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJvb3QgPSBjaGlsZE5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocGFyZW50Tm9kZS5sID09PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5sID0gY2hpbGROb2RlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnIgPSBjaGlsZE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJvb3Q7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRG9jdW1lbnQocm9vdCwgaWQsIGtleSkge1xuICAgIGNvbnN0IG5vZGUgPSBnZXROb2RlQnlLZXkocm9vdCwga2V5KTtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobm9kZS52Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZW1vdmUocm9vdCwga2V5KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBub2RlLnYuc3BsaWNlKG5vZGUudi5pbmRleE9mKGlkKSwgMSk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF2bC5qcy5tYXAiLCJpbXBvcnQgeyBpbnRlcnNlY3QsIHNhZmVBcnJheVB1c2ggfSBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbnVtYmVyVG9Eb2N1bWVudElkOiBuZXcgTWFwKClcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydChyb290LCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmhhcyhrZXkpKSB7XG4gICAgICAgIHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmdldChrZXkpLnB1c2godmFsdWUpO1xuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG4gICAgcm9vdC5udW1iZXJUb0RvY3VtZW50SWQuc2V0KGtleSwgW1xuICAgICAgICB2YWx1ZVxuICAgIF0pO1xuICAgIHJldHVybiByb290O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmQocm9vdCwga2V5KSB7XG4gICAgcmV0dXJuIHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmdldChrZXkpID8/IG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHJvb3QsIGtleSkge1xuICAgIGlmIChyb290ICE9IG51bGwpIHtcbiAgICAgICAgcm9vdC5udW1iZXJUb0RvY3VtZW50SWQuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIHJldHVybiByb290O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZURvY3VtZW50KHJvb3QsIGlkLCBrZXkpIHtcbiAgICB2YXIgX3Jvb3RfbnVtYmVyVG9Eb2N1bWVudElkX2dldCwgX3Jvb3RfbnVtYmVyVG9Eb2N1bWVudElkX2dldDE7XG4gICAgcm9vdCA9PT0gbnVsbCB8fCByb290ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb290Lm51bWJlclRvRG9jdW1lbnRJZC5zZXQoa2V5LCAoKF9yb290X251bWJlclRvRG9jdW1lbnRJZF9nZXQgPSByb290ID09PSBudWxsIHx8IHJvb3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmdldChrZXkpKSA9PT0gbnVsbCB8fCBfcm9vdF9udW1iZXJUb0RvY3VtZW50SWRfZ2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcm9vdF9udW1iZXJUb0RvY3VtZW50SWRfZ2V0LmZpbHRlcigodik9PnYgIT09IGlkKSkgPz8gW10pO1xuICAgIGlmICgoKF9yb290X251bWJlclRvRG9jdW1lbnRJZF9nZXQxID0gcm9vdCA9PT0gbnVsbCB8fCByb290ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb290Lm51bWJlclRvRG9jdW1lbnRJZC5nZXQoa2V5KSkgPT09IG51bGwgfHwgX3Jvb3RfbnVtYmVyVG9Eb2N1bWVudElkX2dldDEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yb290X251bWJlclRvRG9jdW1lbnRJZF9nZXQxLmxlbmd0aCkgPT09IDApIHtcbiAgICAgICAgcm9vdCA9PT0gbnVsbCB8fCByb290ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb290Lm51bWJlclRvRG9jdW1lbnRJZC5kZWxldGUoa2V5KTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnMobm9kZSwga2V5KSB7XG4gICAgcmV0dXJuICEoZmluZChub2RlLCBrZXkpID09IG51bGwpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFNpemUocm9vdCkge1xuICAgIGxldCBzaXplID0gMDtcbiAgICBmb3IgKGNvbnN0IFssIHZhbHVlXSBvZiAocm9vdCA9PT0gbnVsbCB8fCByb290ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb290Lm51bWJlclRvRG9jdW1lbnRJZCkgPz8gW10pe1xuICAgICAgICBzaXplICs9IHZhbHVlLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHNpemU7XG59XG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyKHJvb3QsIG9wZXJhdGlvbikge1xuICAgIGNvbnN0IG9wZXJhdGlvbktleXMgPSBPYmplY3Qua2V5cyhvcGVyYXRpb24pO1xuICAgIGlmIChvcGVyYXRpb25LZXlzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb3BlcmF0aW9uJyk7XG4gICAgfVxuICAgIGNvbnN0IG9wZXJhdGlvblR5cGUgPSBvcGVyYXRpb25LZXlzWzBdO1xuICAgIHN3aXRjaChvcGVyYXRpb25UeXBlKXtcbiAgICAgICAgY2FzZSAnZXEnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gb3BlcmF0aW9uW29wZXJhdGlvblR5cGVdO1xuICAgICAgICAgICAgICAgIHJldHVybiByb290Lm51bWJlclRvRG9jdW1lbnRJZC5nZXQodmFsdWUpID8/IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdpbic6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcGVyYXRpb25bb3BlcmF0aW9uVHlwZV07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB2IG9mIHZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWRzID0gcm9vdC5udW1iZXJUb0RvY3VtZW50SWQuZ2V0KHYpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWRzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBpZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ25pbic6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcGVyYXRpb25bb3BlcmF0aW9uVHlwZV07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmtleXMoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkcyA9IHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmdldChrZXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWRzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBpZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBvcGVyYXRpb24nKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJBcnIocm9vdCwgb3BlcmF0aW9uKSB7XG4gICAgY29uc3Qgb3BlcmF0aW9uS2V5cyA9IE9iamVjdC5rZXlzKG9wZXJhdGlvbik7XG4gICAgaWYgKG9wZXJhdGlvbktleXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBvcGVyYXRpb24nKTtcbiAgICB9XG4gICAgY29uc3Qgb3BlcmF0aW9uVHlwZSA9IG9wZXJhdGlvbktleXNbMF07XG4gICAgc3dpdGNoKG9wZXJhdGlvblR5cGUpe1xuICAgICAgICBjYXNlICdjb250YWluc0FsbCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gb3BlcmF0aW9uW29wZXJhdGlvblR5cGVdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkcyA9IHZhbHVlcy5tYXAoKHZhbHVlKT0+cm9vdC5udW1iZXJUb0RvY3VtZW50SWQuZ2V0KHZhbHVlKSA/PyBbXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGludGVyc2VjdChpZHMpO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb3BlcmF0aW9uJyk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZsYXQuanMubWFwIiwiLyoqXG4gKiBJbnNwaXJlZCBieTpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Zb21ndWl0aGVyZWFsL3RhbGlzbWFuL2Jsb2IvODZhZTU1Y2JkMDQwZmYwMjFkMDVlMjgyZTBlNmM3MWYyZGRlMjFmOC9zcmMvbWV0cmljcy9sZXZlbnNodGVpbi5qcyNMMjE4LUwzNDBcbiAqLyBmdW5jdGlvbiBfYm91bmRlZExldmVuc2h0ZWluKGEsIGIsIHRvbGVyYW5jZSkge1xuICAgIC8vIHRoZSBzdHJpbmdzIGFyZSB0aGUgc2FtZVxuICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAvLyBhIHNob3VsZCBiZSB0aGUgc2hvcnRlc3Qgc3RyaW5nXG4gICAgY29uc3Qgc3dhcCA9IGE7XG4gICAgaWYgKGEubGVuZ3RoID4gYi5sZW5ndGgpIHtcbiAgICAgICAgYSA9IGI7XG4gICAgICAgIGIgPSBzd2FwO1xuICAgIH1cbiAgICBsZXQgbGVuQSA9IGEubGVuZ3RoO1xuICAgIGxldCBsZW5CID0gYi5sZW5ndGg7XG4gICAgLy8gaWdub3JlIGNvbW1vbiBzdWZmaXhcbiAgICAvLyBub3RlOiBgfi1gIGRlY3JlYXNlcyBieSBhIHVuaXQgaW4gYSBiaXR3aXNlIGZhc2hpb25cbiAgICB3aGlsZShsZW5BID4gMCAmJiBhLmNoYXJDb2RlQXQofi1sZW5BKSA9PT0gYi5jaGFyQ29kZUF0KH4tbGVuQikpe1xuICAgICAgICBsZW5BLS07XG4gICAgICAgIGxlbkItLTtcbiAgICB9XG4gICAgLy8gZWFybHkgcmV0dXJuIHdoZW4gdGhlIHNtYWxsZXN0IHN0cmluZyBpcyBlbXB0eVxuICAgIGlmICghbGVuQSkge1xuICAgICAgICByZXR1cm4gbGVuQiA+IHRvbGVyYW5jZSA/IC0xIDogbGVuQjtcbiAgICB9XG4gICAgLy8gaWdub3JlIGNvbW1vbiBwcmVmaXhcbiAgICBsZXQgc3RhcnRJZHggPSAwO1xuICAgIHdoaWxlKHN0YXJ0SWR4IDwgbGVuQSAmJiBhLmNoYXJDb2RlQXQoc3RhcnRJZHgpID09PSBiLmNoYXJDb2RlQXQoc3RhcnRJZHgpKXtcbiAgICAgICAgc3RhcnRJZHgrKztcbiAgICB9XG4gICAgbGVuQSAtPSBzdGFydElkeDtcbiAgICBsZW5CIC09IHN0YXJ0SWR4O1xuICAgIC8vIGVhcmx5IHJldHVybiB3aGVuIHRoZSBzbWFsbGVzdCBzdHJpbmcgaXMgZW1wdHlcbiAgICBpZiAobGVuQSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbGVuQiA+IHRvbGVyYW5jZSA/IC0xIDogbGVuQjtcbiAgICB9XG4gICAgY29uc3QgZGVsdGEgPSBsZW5CIC0gbGVuQTtcbiAgICBpZiAodG9sZXJhbmNlID4gbGVuQikge1xuICAgICAgICB0b2xlcmFuY2UgPSBsZW5CO1xuICAgIH0gZWxzZSBpZiAoZGVsdGEgPiB0b2xlcmFuY2UpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3Qgcm93ID0gW107XG4gICAgY29uc3QgY2hhcmFjdGVyQ29kZUNhY2hlID0gW107XG4gICAgd2hpbGUoaSA8IHRvbGVyYW5jZSl7XG4gICAgICAgIGNoYXJhY3RlckNvZGVDYWNoZVtpXSA9IGIuY2hhckNvZGVBdChzdGFydElkeCArIGkpO1xuICAgICAgICByb3dbaV0gPSArK2k7XG4gICAgfVxuICAgIHdoaWxlKGkgPCBsZW5CKXtcbiAgICAgICAgY2hhcmFjdGVyQ29kZUNhY2hlW2ldID0gYi5jaGFyQ29kZUF0KHN0YXJ0SWR4ICsgaSk7XG4gICAgICAgIHJvd1tpKytdID0gdG9sZXJhbmNlICsgMTtcbiAgICB9XG4gICAgY29uc3Qgb2Zmc2V0ID0gdG9sZXJhbmNlIC0gZGVsdGE7XG4gICAgY29uc3QgaGF2ZU1heCA9IHRvbGVyYW5jZSA8IGxlbkI7XG4gICAgbGV0IGpTdGFydCA9IDA7XG4gICAgbGV0IGpFbmQgPSB0b2xlcmFuY2U7XG4gICAgbGV0IGN1cnJlbnQgPSAwO1xuICAgIGxldCBsZWZ0ID0gMDtcbiAgICBsZXQgYWJvdmUgPSAwO1xuICAgIGxldCBjaGFyQSA9IDA7XG4gICAgbGV0IGogPSAwO1xuICAgIC8vIFN0YXJ0aW5nIHRoZSBuZXN0ZWQgbG9vcHNcbiAgICBmb3IoaSA9IDA7IGkgPCBsZW5BOyBpKyspe1xuICAgICAgICBsZWZ0ID0gaTtcbiAgICAgICAgY3VycmVudCA9IGkgKyAxO1xuICAgICAgICBjaGFyQSA9IGEuY2hhckNvZGVBdChzdGFydElkeCArIGkpO1xuICAgICAgICBqU3RhcnQgKz0gaSA+IG9mZnNldCA/IDEgOiAwO1xuICAgICAgICBqRW5kICs9IGpFbmQgPCBsZW5CID8gMSA6IDA7XG4gICAgICAgIGZvcihqID0galN0YXJ0OyBqIDwgakVuZDsgaisrKXtcbiAgICAgICAgICAgIGFib3ZlID0gY3VycmVudDtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBsZWZ0O1xuICAgICAgICAgICAgbGVmdCA9IHJvd1tqXTtcbiAgICAgICAgICAgIGlmIChjaGFyQSAhPT0gY2hhcmFjdGVyQ29kZUNhY2hlW2pdKSB7XG4gICAgICAgICAgICAgICAgLy8gaW5zZXJ0IGN1cnJlbnRcbiAgICAgICAgICAgICAgICBpZiAobGVmdCA8IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBjdXJyZW50XG4gICAgICAgICAgICAgICAgaWYgKGFib3ZlIDwgY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gYWJvdmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvd1tqXSA9IGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhdmVNYXggJiYgcm93W2kgKyBkZWx0YV0gPiB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3VycmVudCA8PSB0b2xlcmFuY2UgPyBjdXJyZW50IDogLTE7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBMZXZlbnNodGVpbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBzdHJpbmdzIChhLCBiKSwgcmV0dXJuaW5nIGVhcmx5IHdpdGggLTEgaWYgdGhlIGRpc3RhbmNlXG4gKiBpcyBncmVhdGVyIHRoYW4gdGhlIGdpdmVuIHRvbGVyYW5jZS5cbiAqIEl0IGFzc3VtZXMgdGhhdDpcbiAqIC0gdG9sZXJhbmNlID49IHx8YXwgLSB8Ynx8ID49IDBcbiAqLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gYm91bmRlZExldmVuc2h0ZWluKGEsIGIsIHRvbGVyYW5jZSkge1xuICAgIGNvbnN0IGRpc3RhbmNlID0gX2JvdW5kZWRMZXZlbnNodGVpbihhLCBiLCB0b2xlcmFuY2UpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRpc3RhbmNlLFxuICAgICAgICBpc0JvdW5kZWQ6IGRpc3RhbmNlID49IDBcbiAgICB9O1xufVxuLy8gVGhpcyBpcyBvbmx5IHVzZWQgaW50ZXJuYWxseSwga2VlcCBpbiBzeW5jIHdpdGggdGhlIHByZXZpb3VzIG9uZVxuZXhwb3J0IGZ1bmN0aW9uIHN5bmNCb3VuZGVkTGV2ZW5zaHRlaW4oYSwgYiwgdG9sZXJhbmNlKSB7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBfYm91bmRlZExldmVuc2h0ZWluKGEsIGIsIHRvbGVyYW5jZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgIGlzQm91bmRlZDogZGlzdGFuY2UgPj0gMFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbGV2ZW5zaHRlaW4oYSwgYikge1xuICAgIC8qIGM4IGlnbm9yZSBuZXh0IDMgKi8gaWYgKCFhLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYi5sZW5ndGg7XG4gICAgfVxuICAgIC8qIGM4IGlnbm9yZSBuZXh0IDMgKi8gaWYgKCFiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYS5sZW5ndGg7XG4gICAgfVxuICAgIGNvbnN0IHN3YXAgPSBhO1xuICAgIGlmIChhLmxlbmd0aCA+IGIubGVuZ3RoKSB7XG4gICAgICAgIGEgPSBiO1xuICAgICAgICBiID0gc3dhcDtcbiAgICB9XG4gICAgY29uc3Qgcm93ID0gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogYS5sZW5ndGggKyAxXG4gICAgfSwgKF8sIGkpPT5pKTtcbiAgICBsZXQgdmFsID0gMDtcbiAgICBmb3IobGV0IGkgPSAxOyBpIDw9IGIubGVuZ3RoOyBpKyspe1xuICAgICAgICBsZXQgcHJldiA9IGk7XG4gICAgICAgIGZvcihsZXQgaiA9IDE7IGogPD0gYS5sZW5ndGg7IGorKyl7XG4gICAgICAgICAgICBpZiAoYltpIC0gMV0gPT09IGFbaiAtIDFdKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gcm93W2ogLSAxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsID0gTWF0aC5taW4ocm93W2ogLSAxXSArIDEsIE1hdGgubWluKHByZXYgKyAxLCByb3dbal0gKyAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3dbaiAtIDFdID0gcHJldjtcbiAgICAgICAgICAgIHByZXYgPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcm93W2EubGVuZ3RoXSA9IHByZXY7XG4gICAgfVxuICAgIHJldHVybiByb3dbYS5sZW5ndGhdO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZXZlbnNodGVpbi5qcy5tYXAiLCJpbXBvcnQgeyBzeW5jQm91bmRlZExldmVuc2h0ZWluIH0gZnJvbSAnLi4vY29tcG9uZW50cy9sZXZlbnNodGVpbi5qcyc7XG5pbXBvcnQgeyBnZXRPd25Qcm9wZXJ0eSB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmV4cG9ydCBjbGFzcyBOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihrZXksIHN1YldvcmQsIGVuZCl7XG4gICAgICAgIHRoaXMuayA9IGtleTtcbiAgICAgICAgdGhpcy5zID0gc3ViV29yZDtcbiAgICAgICAgdGhpcy5lID0gZW5kO1xuICAgIH1cbiAgICAvLyBOb2RlIGNoaWxkcmVuXG4gICAgYyA9IHt9O1xuICAgIC8vIE5vZGUgZG9jdW1lbnRzXG4gICAgZCA9IFtdO1xuICAgIC8vIE5vZGUgd29yZFxuICAgIHcgPSAnJztcbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3OiB0aGlzLncsXG4gICAgICAgICAgICBzOiB0aGlzLnMsXG4gICAgICAgICAgICBjOiB0aGlzLmMsXG4gICAgICAgICAgICBkOiB0aGlzLmQsXG4gICAgICAgICAgICBlOiB0aGlzLmVcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVQYXJlbnQobm9kZSwgcGFyZW50KSB7XG4gICAgbm9kZS53ID0gcGFyZW50LncgKyBub2RlLnM7XG59XG5mdW5jdGlvbiBhZGREb2N1bWVudChub2RlLCBkb2NJRCkge1xuICAgIG5vZGUuZC5wdXNoKGRvY0lEKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZURvY3VtZW50KG5vZGUsIGRvY0lEKSB7XG4gICAgY29uc3QgaW5kZXggPSBub2RlLmQuaW5kZXhPZihkb2NJRCk7XG4gICAgLyogYzggaWdub3JlIG5leHQgMyAqLyBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbm9kZS5kLnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBmaW5kQWxsV29yZHMobm9kZSwgb3V0cHV0LCB0ZXJtLCBleGFjdCwgdG9sZXJhbmNlKSB7XG4gICAgaWYgKG5vZGUuZSkge1xuICAgICAgICBjb25zdCB7IHcgLCBkOiBkb2NJRHMgIH0gPSBub2RlO1xuICAgICAgICBpZiAoZXhhY3QgJiYgdyAhPT0gdGVybSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsd2F5cyBjaGVjayBpbiBvd24gcHJvcGVydHkgdG8gcHJldmVudCBhY2Nlc3MgdG8gaW5oZXJpdGVkIHByb3BlcnRpZXNcbiAgICAgICAgLy8gZml4IGh0dHBzOi8vZ2l0aHViLmNvbS9PcmFtYVNlYXJjaC9vcmFtYS9pc3N1ZXMvMTM3XG4gICAgICAgIGlmIChnZXRPd25Qcm9wZXJ0eShvdXRwdXQsIHcpID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICAvLyBjb21wdXRpbmcgdGhlIGFic29sdXRlIGRpZmZlcmVuY2Ugb2YgbGV0dGVycyBiZXR3ZWVuIHRoZSB0ZXJtIGFuZCB0aGUgd29yZFxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2UgPSBNYXRoLmFicyh0ZXJtLmxlbmd0aCAtIHcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdG9sZXJhbmNlIGlzIHNldCwgY2hlY2sgd2hldGhlciB0aGUgZWRpdCBkaXN0YW5jZSBpcyB3aXRoaW4gdG9sZXJhbmNlLlxuICAgICAgICAgICAgICAgIC8vIEluIHRoYXQgY2FzZSwgd2UgZG9uJ3QgbmVlZCB0byBhZGQgdGhlIHdvcmQgdG8gdGhlIG91dHB1dFxuICAgICAgICAgICAgICAgIGlmIChkaWZmZXJlbmNlIDw9IHRvbGVyYW5jZSAmJiBzeW5jQm91bmRlZExldmVuc2h0ZWluKHRlcm0sIHcsIHRvbGVyYW5jZSkuaXNCb3VuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFt3XSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcHJldmVudCBkZWZhdWx0IHRvbGVyYW5jZSBub3Qgc2V0XG4gICAgICAgICAgICAgICAgb3V0cHV0W3ddID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgX291dHB1dFt3XSBleGlzdHMgYW5kIHRoZW4gYWRkIHRoZSBkb2MgdG8gaXRcbiAgICAgICAgLy8gYWx3YXlzIGNoZWNrIGluIG93biBwcm9wZXJ0eSB0byBwcmV2ZW50IGFjY2VzcyB0byBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAgICAvLyBmaXggaHR0cHM6Ly9naXRodWIuY29tL09yYW1hU2VhcmNoL29yYW1hL2lzc3Vlcy8xMzdcbiAgICAgICAgaWYgKGdldE93blByb3BlcnR5KG91dHB1dCwgdykgIT0gbnVsbCAmJiBkb2NJRHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZG9jcyA9IG5ldyBTZXQob3V0cHV0W3ddKTtcbiAgICAgICAgICAgIGNvbnN0IGRvY0lEc0xlbmd0aCA9IGRvY0lEcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZG9jSURzTGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGRvY3MuYWRkKGRvY0lEc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRwdXRbd10gPSBBcnJheS5mcm9tKGRvY3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCB0aGUgY2hpbGRyZW5cbiAgICBmb3IgKGNvbnN0IGNoYXJhY3RlciBvZiBPYmplY3Qua2V5cyhub2RlLmMpKXtcbiAgICAgICAgZmluZEFsbFdvcmRzKG5vZGUuY1tjaGFyYWN0ZXJdLCBvdXRwdXQsIHRlcm0sIGV4YWN0LCB0b2xlcmFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuZnVuY3Rpb24gZ2V0Q29tbW9uUHJlZml4KGEsIGIpIHtcbiAgICBsZXQgY29tbW9uUHJlZml4ID0gJyc7XG4gICAgY29uc3QgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1vblByZWZpeDtcbiAgICAgICAgfVxuICAgICAgICBjb21tb25QcmVmaXggKz0gYVtpXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbW1vblByZWZpeDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoZW5kID0gZmFsc2UsIHN1YldvcmQgPSAnJywga2V5ID0gJycpIHtcbiAgICByZXR1cm4gbmV3IE5vZGUoa2V5LCBzdWJXb3JkLCBlbmQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydChyb290LCB3b3JkLCBkb2NJZCkge1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB3b3JkLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgY3VycmVudENoYXJhY3RlciA9IHdvcmRbaV07XG4gICAgICAgIGNvbnN0IHdvcmRBdEluZGV4ID0gd29yZC5zdWJzdHJpbmcoaSk7XG4gICAgICAgIGNvbnN0IHJvb3RDaGlsZEN1cnJlbnRDaGFyID0gcm9vdC5jW2N1cnJlbnRDaGFyYWN0ZXJdO1xuICAgICAgICBpZiAocm9vdENoaWxkQ3VycmVudENoYXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVkZ2VMYWJlbCA9IHJvb3RDaGlsZEN1cnJlbnRDaGFyLnM7XG4gICAgICAgICAgICBjb25zdCBlZGdlTGFiZWxMZW5ndGggPSBlZGdlTGFiZWwubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4ID0gZ2V0Q29tbW9uUHJlZml4KGVkZ2VMYWJlbCwgd29yZEF0SW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4TGVuZ3RoID0gY29tbW9uUHJlZml4Lmxlbmd0aDtcbiAgICAgICAgICAgIC8vIHRoZSB3b3JkQXRJbmRleCBtYXRjaGVzIGV4YWN0bHkgd2l0aCBhbiBleGlzdGluZyBjaGlsZCBub2RlXG4gICAgICAgICAgICBpZiAoZWRnZUxhYmVsID09PSB3b3JkQXRJbmRleCkge1xuICAgICAgICAgICAgICAgIGFkZERvY3VtZW50KHJvb3RDaGlsZEN1cnJlbnRDaGFyLCBkb2NJZCk7XG4gICAgICAgICAgICAgICAgcm9vdENoaWxkQ3VycmVudENoYXIuZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZWRnZUxhYmVsQXRDb21tb25QcmVmaXggPSBlZGdlTGFiZWxbY29tbW9uUHJlZml4TGVuZ3RoXTtcbiAgICAgICAgICAgIC8vIHRoZSB3b3JkQXRJbmRleCBpcyBjb21wbGV0ZWx5IGNvbnRhaW5lZCBpbiB0aGUgY2hpbGQgbm9kZSBzdWJ3b3JkXG4gICAgICAgICAgICBpZiAoY29tbW9uUHJlZml4TGVuZ3RoIDwgZWRnZUxhYmVsTGVuZ3RoICYmIGNvbW1vblByZWZpeExlbmd0aCA9PT0gd29yZEF0SW5kZXgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Tm9kZSA9IGNyZWF0ZSh0cnVlLCB3b3JkQXRJbmRleCwgY3VycmVudENoYXJhY3RlcikgLy8gQ3JlYXRlIGEgbmV3IG5vZGUgd2l0aCBlbmQgc2V0IHRvIHRydWVcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgbmV3Tm9kZS5jW2VkZ2VMYWJlbEF0Q29tbW9uUHJlZml4XSA9IHJvb3RDaGlsZEN1cnJlbnRDaGFyO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGVDaGlsZCA9IG5ld05vZGUuY1tlZGdlTGFiZWxBdENvbW1vblByZWZpeF07XG4gICAgICAgICAgICAgICAgbmV3Tm9kZUNoaWxkLnMgPSBlZGdlTGFiZWwuc3Vic3RyaW5nKGNvbW1vblByZWZpeExlbmd0aCk7XG4gICAgICAgICAgICAgICAgbmV3Tm9kZUNoaWxkLmsgPSBlZGdlTGFiZWxBdENvbW1vblByZWZpeDtcbiAgICAgICAgICAgICAgICByb290LmNbY3VycmVudENoYXJhY3Rlcl0gPSBuZXdOb2RlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVBhcmVudChuZXdOb2RlLCByb290KTtcbiAgICAgICAgICAgICAgICB1cGRhdGVQYXJlbnQobmV3Tm9kZUNoaWxkLCBuZXdOb2RlKTtcbiAgICAgICAgICAgICAgICBhZGREb2N1bWVudChuZXdOb2RlLCBkb2NJZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhlIHdvcmRBdEluZGV4IGlzIHBhcnRpYWxseSBjb250YWluZWQgaW4gdGhlIGNoaWxkIG5vZGUgc3Vid29yZFxuICAgICAgICAgICAgaWYgKGNvbW1vblByZWZpeExlbmd0aCA8IGVkZ2VMYWJlbExlbmd0aCAmJiBjb21tb25QcmVmaXhMZW5ndGggPCB3b3JkQXRJbmRleC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmJldHdlZW5Ob2RlID0gY3JlYXRlKGZhbHNlLCBjb21tb25QcmVmaXgsIGN1cnJlbnRDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgICAgIGluYmV0d2Vlbk5vZGUuY1tlZGdlTGFiZWxBdENvbW1vblByZWZpeF0gPSByb290Q2hpbGRDdXJyZW50Q2hhcjtcbiAgICAgICAgICAgICAgICByb290LmNbY3VycmVudENoYXJhY3Rlcl0gPSBpbmJldHdlZW5Ob2RlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluYmV0d2Vlbk5vZGVDaGlsZCA9IGluYmV0d2Vlbk5vZGUuY1tlZGdlTGFiZWxBdENvbW1vblByZWZpeF07XG4gICAgICAgICAgICAgICAgaW5iZXR3ZWVuTm9kZUNoaWxkLnMgPSBlZGdlTGFiZWwuc3Vic3RyaW5nKGNvbW1vblByZWZpeExlbmd0aCk7XG4gICAgICAgICAgICAgICAgaW5iZXR3ZWVuTm9kZUNoaWxkLmsgPSBlZGdlTGFiZWxBdENvbW1vblByZWZpeDtcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JkQXRDb21tb25QcmVmaXggPSB3b3JkQXRJbmRleFtjb21tb25QcmVmaXhMZW5ndGhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSBjcmVhdGUodHJ1ZSwgd29yZC5zdWJzdHJpbmcoaSArIGNvbW1vblByZWZpeExlbmd0aCksIHdvcmRBdENvbW1vblByZWZpeCk7XG4gICAgICAgICAgICAgICAgYWRkRG9jdW1lbnQobmV3Tm9kZSwgZG9jSWQpO1xuICAgICAgICAgICAgICAgIGluYmV0d2Vlbk5vZGUuY1t3b3JkQXRDb21tb25QcmVmaXhdID0gbmV3Tm9kZTtcbiAgICAgICAgICAgICAgICB1cGRhdGVQYXJlbnQoaW5iZXR3ZWVuTm9kZSwgcm9vdCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlUGFyZW50KG5ld05vZGUsIGluYmV0d2Vlbk5vZGUpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVBhcmVudChpbmJldHdlZW5Ob2RlQ2hpbGQsIGluYmV0d2Vlbk5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNraXAgdG8gdGhlIG5leHQgZGl2ZXJnZW50IGNoYXJhY3RlclxuICAgICAgICAgICAgaSArPSBlZGdlTGFiZWxMZW5ndGggLSAxO1xuICAgICAgICAgICAgLy8gbmF2aWdhdGUgaW4gdGhlIGNoaWxkIG5vZGVcbiAgICAgICAgICAgIHJvb3QgPSByb290Q2hpbGRDdXJyZW50Q2hhcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBub2RlIGZvciB0aGUgY3VycmVudCBjaGFyYWN0ZXIgZG9lc24ndCBleGlzdCBjcmVhdGUgbmV3IG5vZGVcbiAgICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSBjcmVhdGUodHJ1ZSwgd29yZEF0SW5kZXgsIGN1cnJlbnRDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgYWRkRG9jdW1lbnQobmV3Tm9kZSwgZG9jSWQpO1xuICAgICAgICAgICAgcm9vdC5jW2N1cnJlbnRDaGFyYWN0ZXJdID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIHVwZGF0ZVBhcmVudChuZXdOb2RlLCByb290KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIF9maW5kTGV2ZW5zaHRlaW4obm9kZSwgdGVybSwgaW5kZXgsIHRvbGVyYW5jZSwgb3JpZ2luYWxUb2xlcmFuY2UsIG91dHB1dCkge1xuICAgIGlmICh0b2xlcmFuY2UgPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5vZGUuZSkge1xuICAgICAgICBjb25zdCB7IHcgLCBkOiBkb2NJRHMgIH0gPSBub2RlO1xuICAgICAgICBpZiAodykge1xuICAgICAgICAgICAgY29uc3QgZGlmZmVyZW5jZSA9IE1hdGguYWJzKHRlcm0ubGVuZ3RoIC0gdy5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKGRpZmZlcmVuY2UgPD0gb3JpZ2luYWxUb2xlcmFuY2UgJiYgc3luY0JvdW5kZWRMZXZlbnNodGVpbih0ZXJtLCB3LCBvcmlnaW5hbFRvbGVyYW5jZSkuaXNCb3VuZGVkKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W3ddID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2V0T3duUHJvcGVydHkob3V0cHV0LCB3KSAhPSBudWxsICYmIGRvY0lEcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9jcyA9IG5ldyBTZXQob3V0cHV0W3ddKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb2NJRHNMZW5ndGggPSBkb2NJRHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBkb2NJRHNMZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgIGRvY3MuYWRkKGRvY0lEc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dFt3XSA9IEFycmF5LmZyb20oZG9jcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluZGV4ID49IHRlcm0ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gTWF0Y2ggY3VycmVudCBjaGFyYWN0ZXIgd2l0aG91dCBjb25zdW1pbmcgdG9sZXJhbmNlXG4gICAgaWYgKHRlcm1baW5kZXhdIGluIG5vZGUuYykge1xuICAgICAgICBfZmluZExldmVuc2h0ZWluKG5vZGUuY1t0ZXJtW2luZGV4XV0sIHRlcm0sIGluZGV4ICsgMSwgdG9sZXJhbmNlLCBvcmlnaW5hbFRvbGVyYW5jZSwgb3V0cHV0KTtcbiAgICB9XG4gICAgLy8gSWYgdG9sZXJhbmNlIGlzIHN0aWxsIGF2YWlsYWJsZSwgY29uc2lkZXIgb3RoZXIgYnJhbmNoZXM6XG4gICAgLy8gMS4gRGVsZXRpb24gKHNraXAgdGhlIGN1cnJlbnQgdGVybSBjaGFyYWN0ZXIpXG4gICAgX2ZpbmRMZXZlbnNodGVpbihub2RlLCB0ZXJtLCBpbmRleCArIDEsIHRvbGVyYW5jZSAtIDEsIG9yaWdpbmFsVG9sZXJhbmNlLCBvdXRwdXQpO1xuICAgIC8vIDIuIEluc2VydGlvbiAoc2tpcCB0aGUgY3VycmVudCB0cmVlIG5vZGUgY2hhcmFjdGVyKVxuICAgIGZvcihjb25zdCBjaGFyYWN0ZXIgaW4gbm9kZS5jKXtcbiAgICAgICAgX2ZpbmRMZXZlbnNodGVpbihub2RlLmNbY2hhcmFjdGVyXSwgdGVybSwgaW5kZXgsIHRvbGVyYW5jZSAtIDEsIG9yaWdpbmFsVG9sZXJhbmNlLCBvdXRwdXQpO1xuICAgIH1cbiAgICAvLyAzLiBTdWJzdGl0dXRpb24gKHNraXAgYm90aCBjdXJyZW50IHRlcm0gY2hhcmFjdGVyIGFuZCB0cmVlIG5vZGUgY2hhcmFjdGVyKVxuICAgIGZvcihjb25zdCBjaGFyYWN0ZXIgaW4gbm9kZS5jKXtcbiAgICAgICAgaWYgKGNoYXJhY3RlciAhPT0gdGVybVtpbmRleF0pIHtcbiAgICAgICAgICAgIF9maW5kTGV2ZW5zaHRlaW4obm9kZS5jW2NoYXJhY3Rlcl0sIHRlcm0sIGluZGV4ICsgMSwgdG9sZXJhbmNlIC0gMSwgb3JpZ2luYWxUb2xlcmFuY2UsIG91dHB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZChyb290LCB7IHRlcm0gLCBleGFjdCAsIHRvbGVyYW5jZSAgfSkge1xuICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3Qgbm9kZSB0byB0aGUgdGVybVxuICAgIC8vIFVzZSBgaWZgIGNvbmRpdGlvbiBiZWNhdXNlIHRvbGVyYW5jZSBgMGAgaXMgc3VwcG9zZWQgdG8gbWF0Y2ggb25seSBwcmVmaXguXG4gICAgLy8gKGFsbG93cyBpbmZpbml0ZSBpbnNlcnRpb25zIGF0IGVuZCwgd2hpY2ggaXMgYWdhaW5zdCBub3JtYWwgbGV2ZW5zaHRlaW4gbG9naWMpLlxuICAgIC8vIChuZXcgX2ZpbmRMZXZlbnNodGVpbiBvbmx5IGhhbmRsZXMgbm90IGV4YWN0IGFuZCB0b2xlcmFuY2U+MCBjb25kaXRpb24pXG4gICAgaWYgKHRvbGVyYW5jZSAmJiAhZXhhY3QpIHtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgICAgIHRvbGVyYW5jZSA9IHRvbGVyYW5jZSB8fCAwO1xuICAgICAgICBfZmluZExldmVuc2h0ZWluKHJvb3QsIHRlcm0sIDAsIHRvbGVyYW5jZSB8fCAwLCB0b2xlcmFuY2UsIG91dHB1dCk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRlcm0ubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gdGVybVtpXTtcbiAgICAgICAgICAgIGlmIChjaGFyYWN0ZXIgaW4gcm9vdC5jKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdENoaWxkQ3VycmVudENoYXIgPSByb290LmNbY2hhcmFjdGVyXTtcbiAgICAgICAgICAgICAgICBjb25zdCBlZGdlTGFiZWwgPSByb290Q2hpbGRDdXJyZW50Q2hhci5zO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1TdWJzdHJpbmcgPSB0ZXJtLnN1YnN0cmluZyhpKTtcbiAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBjb21tb24gcHJlZml4IGJldHdlZW4gdHdvIHdvcmRzIGV4OiBwcmltZSBhbmQgcHJpbWF0ZSA9IHByaW1cbiAgICAgICAgICAgICAgICBjb25zdCBjb21tb25QcmVmaXggPSBnZXRDb21tb25QcmVmaXgoZWRnZUxhYmVsLCB0ZXJtU3Vic3RyaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21tb25QcmVmaXhMZW5ndGggPSBjb21tb25QcmVmaXgubGVuZ3RoO1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBjb21tb24gcHJlZml4IGxlbmd0aCBpcyBlcXVhbCB0byBlZGdlTGFiZWwgbGVuZ3RoICh0aGUgbm9kZSBzdWJ3b3JkKSBpdCBtZWFucyB0aGV5IGFyZSBhIG1hdGNoXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGNvbW1vbiBwcmVmaXggaXMgZXF1YWwgdG8gdGhlIHRlcm0gbWVhbnMgaXQgaXMgY29udGFpbmVkIGluIHRoZSBub2RlXG4gICAgICAgICAgICAgICAgaWYgKGNvbW1vblByZWZpeExlbmd0aCAhPT0gZWRnZUxhYmVsLmxlbmd0aCAmJiBjb21tb25QcmVmaXhMZW5ndGggIT09IHRlcm1TdWJzdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRvbGVyYW5jZSBpcyBzZXQgd2UgdGFrZSB0aGUgY3VycmVudCBub2RlIGFzIHRoZSBjbG9zZXN0XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2xlcmFuY2UpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHNraXAgdGhlIHN1YndvcmQgbGVuZ3RoIGFuZCBjaGVjayB0aGUgbmV4dCBkaXZlcmdlbnQgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgaSArPSByb290Q2hpbGRDdXJyZW50Q2hhci5zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgLy8gbmF2aWdhdGUgaW50byB0aGUgY2hpbGQgbm9kZVxuICAgICAgICAgICAgICAgIHJvb3QgPSByb290Q2hpbGRDdXJyZW50Q2hhcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHt9O1xuICAgICAgICAvLyBmb3VuZCB0aGUgY2xvc2VzdCBub2RlIHdlIHJlY3Vyc2l2ZWx5IHNlYXJjaCB0aHJvdWdoIGNoaWxkcmVuXG4gICAgICAgIGZpbmRBbGxXb3Jkcyhyb290LCBvdXRwdXQsIHRlcm0sIGV4YWN0LCB0b2xlcmFuY2UpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWlucyhyb290LCB0ZXJtKSB7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRlcm0ubGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXIgPSB0ZXJtW2ldO1xuICAgICAgICBpZiAoY2hhcmFjdGVyIGluIHJvb3QuYykge1xuICAgICAgICAgICAgY29uc3Qgcm9vdENoaWxkcmVuQ2hhciA9IHJvb3QuY1tjaGFyYWN0ZXJdO1xuICAgICAgICAgICAgY29uc3QgZWRnZUxhYmVsID0gcm9vdENoaWxkcmVuQ2hhci5zO1xuICAgICAgICAgICAgY29uc3QgdGVybVN1YnN0cmluZyA9IHRlcm0uc3Vic3RyaW5nKGkpO1xuICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4ID0gZ2V0Q29tbW9uUHJlZml4KGVkZ2VMYWJlbCwgdGVybVN1YnN0cmluZyk7XG4gICAgICAgICAgICBjb25zdCBjb21tb25QcmVmaXhMZW5ndGggPSBjb21tb25QcmVmaXgubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGNvbW1vblByZWZpeExlbmd0aCAhPT0gZWRnZUxhYmVsLmxlbmd0aCAmJiBjb21tb25QcmVmaXhMZW5ndGggIT09IHRlcm1TdWJzdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSArPSByb290Q2hpbGRyZW5DaGFyLnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHJvb3QgPSByb290Q2hpbGRyZW5DaGFyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVdvcmQocm9vdCwgdGVybSkge1xuICAgIGlmICghdGVybSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0ZXJtLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gdGVybVtpXTtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gcm9vdDtcbiAgICAgICAgaWYgKGNoYXJhY3RlciBpbiByb290LmMpIHtcbiAgICAgICAgICAgIGkgKz0gcm9vdC5jW2NoYXJhY3Rlcl0ucy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgcm9vdCA9IHJvb3QuY1tjaGFyYWN0ZXJdO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJvb3QuYykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcmVudC5jW3Jvb3Qua107XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZURvY3VtZW50QnlXb3JkKHJvb3QsIHRlcm0sIGRvY0lELCBleGFjdCA9IHRydWUpIHtcbiAgICBpZiAoIXRlcm0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0ZXJtLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gdGVybVtpXTtcbiAgICAgICAgaWYgKGNoYXJhY3RlciBpbiByb290LmMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3RDaGlsZEN1cnJlbnRDaGFyID0gcm9vdC5jW2NoYXJhY3Rlcl07XG4gICAgICAgICAgICBpICs9IHJvb3RDaGlsZEN1cnJlbnRDaGFyLnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHJvb3QgPSByb290Q2hpbGRDdXJyZW50Q2hhcjtcbiAgICAgICAgICAgIGlmIChleGFjdCAmJiByb290LncgIT09IHRlcm0pIHtcbiAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIGV4YWN0IGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1vdmVEb2N1bWVudChyb290LCBkb2NJRCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhZGl4LmpzLm1hcCIsImNvbnN0IEsgPSAyIC8vIDJEIHBvaW50c1xuO1xuY29uc3QgRUFSVEhfUkFESVVTID0gNjM3MWUzIC8vIEVhcnRoIHJhZGl1cyBpbiBtZXRlcnNcbjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcm9vdDogbnVsbFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0KHRyZWUsIHBvaW50LCBkb2NJRHMpIHtcbiAgICBjb25zdCBuZXdOb2RlID0ge1xuICAgICAgICBwb2ludCxcbiAgICAgICAgZG9jSURzXG4gICAgfTtcbiAgICBpZiAodHJlZS5yb290ID09IG51bGwpIHtcbiAgICAgICAgdHJlZS5yb290ID0gbmV3Tm9kZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbm9kZSA9IHRyZWUucm9vdDtcbiAgICBsZXQgZGVwdGggPSAwO1xuICAgIHdoaWxlKG5vZGUgIT09IG51bGwpe1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY3VycmVudCBub2RlJ3MgcG9pbnQgbWF0Y2hlcyB0aGUgbmV3IHBvaW50XG4gICAgICAgIGlmIChub2RlLnBvaW50LmxvbiA9PT0gcG9pbnQubG9uICYmIG5vZGUucG9pbnQubGF0ID09PSBwb2ludC5sYXQpIHtcbiAgICAgICAgICAgIC8vIE1lcmdlIHRoZSBuZXcgZG9jSURzIHdpdGggdGhlIGV4aXN0aW5nIG9uZXMgYW5kIHJlbW92ZSBkdXBsaWNhdGVzXG4gICAgICAgICAgICBjb25zdCBuZXdEb2NJRHMgPSBub2RlLmRvY0lEcyA/PyBbXTtcbiAgICAgICAgICAgIG5vZGUuZG9jSURzID0gQXJyYXkuZnJvbShuZXcgU2V0KFtcbiAgICAgICAgICAgICAgICAuLi5uZXdEb2NJRHMsXG4gICAgICAgICAgICAgICAgLi4uZG9jSURzIHx8IFtdXG4gICAgICAgICAgICBdKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXhpcyA9IGRlcHRoICUgSztcbiAgICAgICAgLy8gQ29tcGFyZSBieSBsb25naXR1ZGVcbiAgICAgICAgaWYgKGF4aXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwb2ludC5sb24gPCBub2RlLnBvaW50Lmxvbikge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmxlZnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmxlZnQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLnJpZ2h0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5yaWdodCA9IG5ld05vZGU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIC8vIENvbXBhcmUgYnkgbGF0aXR1ZGVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwb2ludC5sYXQgPCBub2RlLnBvaW50LmxhdCkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmxlZnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmxlZnQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLnJpZ2h0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5yaWdodCA9IG5ld05vZGU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVwdGgrKztcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnModHJlZSwgcG9pbnQpIHtcbiAgICBsZXQgbm9kZSA9IHRyZWUucm9vdDtcbiAgICBsZXQgZGVwdGggPSAwO1xuICAgIHdoaWxlKG5vZGUgIT0gbnVsbCl7XG4gICAgICAgIGlmICgobm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLnBvaW50LmxvbikgPT09IHBvaW50LmxvbiAmJiBub2RlLnBvaW50LmxhdCA9PT0gcG9pbnQubGF0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBheGlzID0gZGVwdGggJSBLO1xuICAgICAgICAvLyBDb21wYXJlIGJ5IGxvbmdpdHVkZVxuICAgICAgICBpZiAoYXhpcyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBvaW50LmxvbiA8IG5vZGUucG9pbnQubG9uKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAvLyBDb21wYXJlIGJ5IGxhdGl0dWRlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocG9pbnQubGF0IDwgbm9kZS5wb2ludC5sYXQpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVwdGgrKztcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8gQHRvZG86IHRoaXMgaXMgdmVyeSBpbmVmZmljaWVudC4gRml4IHRoaXMgbGF0ZXIuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRG9jQnlJRCh0cmVlLCBwb2ludCwgZG9jSUQpIHtcbiAgICBsZXQgbm9kZSA9IHRyZWUucm9vdDtcbiAgICBsZXQgZGVwdGggPSAwO1xuICAgIGxldCBwYXJlbnROb2RlID0gbnVsbDtcbiAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcbiAgICB3aGlsZShub2RlICE9PSBudWxsKXtcbiAgICAgICAgaWYgKChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUucG9pbnQubG9uKSA9PT0gcG9pbnQubG9uICYmIG5vZGUucG9pbnQubGF0ID09PSBwb2ludC5sYXQpIHtcbiAgICAgICAgICAgIHZhciBfbm9kZV9kb2NJRHM7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IChfbm9kZV9kb2NJRHMgPSBub2RlLmRvY0lEcykgPT09IG51bGwgfHwgX25vZGVfZG9jSURzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZV9kb2NJRHMuaW5kZXhPZihkb2NJRCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCAmJiBpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFyIC8vIFJlbW92ZSB0aGUgZG9jSUQgZnJvbSB0aGUgYXJyYXlcbiAgICAgICAgICAgICAgICBfbm9kZV9kb2NJRHMxO1xuICAgICAgICAgICAgICAgIChfbm9kZV9kb2NJRHMxID0gbm9kZS5kb2NJRHMpID09PSBudWxsIHx8IF9ub2RlX2RvY0lEczEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ub2RlX2RvY0lEczEuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kb2NJRHMgPT0gbnVsbCB8fCBub2RlLmRvY0lEcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIG5vZGUgZG9lc24ndCBoYXZlIGFueSBtb3JlIGRvY0lEcywgcmVtb3ZlIHRoZSBub2RlXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnROb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUubGVmdCA9IG5vZGUubGVmdCAhPT0gbnVsbCA/IG5vZGUubGVmdCA6IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUucmlnaHQgPSBub2RlLnJpZ2h0ICE9PSBudWxsID8gbm9kZS5yaWdodCA6IG5vZGUubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBub2RlIHRvIGJlIHJlbW92ZWQgaXMgdGhlIHJvb3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyZWUucm9vdCA9IG5vZGUubGVmdCAhPT0gbnVsbCA/IG5vZGUubGVmdCA6IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF4aXMgPSBkZXB0aCAlIEs7XG4gICAgICAgIHBhcmVudE5vZGUgPSBub2RlO1xuICAgICAgICAvLyBDb21wYXJlIGJ5IGxvbmdpdHVkZVxuICAgICAgICBpZiAoYXhpcyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBvaW50LmxvbiA8IG5vZGUucG9pbnQubG9uKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5sZWZ0O1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5yaWdodDtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAvLyBDb21wYXJlIGJ5IGxhdGl0dWRlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocG9pbnQubGF0IDwgbm9kZS5wb2ludC5sYXQpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLmxlZnQ7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVwdGgrKztcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jSURzQnlDb29yZGluYXRlcyh0cmVlLCBwb2ludCkge1xuICAgIGxldCBub2RlID0gdHJlZS5yb290O1xuICAgIGxldCBkZXB0aCA9IDA7XG4gICAgd2hpbGUobm9kZSAhPT0gbnVsbCl7XG4gICAgICAgIGlmIChub2RlLnBvaW50LmxvbiA9PT0gcG9pbnQubG9uICYmIG5vZGUucG9pbnQubGF0ID09PSBwb2ludC5sYXQpIHtcbiAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuZG9jSURzID8/IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXhpcyA9IGRlcHRoICUgSztcbiAgICAgICAgLy8gQ29tcGFyZSBieSBsb25naXR1ZGVcbiAgICAgICAgaWYgKGF4aXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwb2ludC5sb24gPCBub2RlLnBvaW50Lmxvbikge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAvLyBDb21wYXJlIGJ5IGxhdGl0dWRlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocG9pbnQubGF0IDwgbm9kZS5wb2ludC5sYXQpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZXB0aCsrO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hCeVJhZGl1cyhub2RlLCBjZW50ZXIsIHJhZGl1cywgaW5jbHVzaXZlID0gdHJ1ZSwgc29ydCA9ICdhc2MnLCBoaWdoUHJlY2lzaW9uID0gZmFsc2UpIHtcbiAgICBjb25zdCBkaXN0YW5jZUZuID0gaGlnaFByZWNpc2lvbiA/IHZpbmNlbnR5RGlzdGFuY2UgOiBoYXZlcnNpbmVEaXN0YW5jZTtcbiAgICBjb25zdCBzdGFjayA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIGRlcHRoOiAwXG4gICAgICAgIH1cbiAgICBdO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIHdoaWxlKHN0YWNrLmxlbmd0aCA+IDApe1xuICAgICAgICBjb25zdCB7IG5vZGUgLCBkZXB0aCAgfSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IGRpc3QgPSBkaXN0YW5jZUZuKGNlbnRlciwgbm9kZS5wb2ludCk7XG4gICAgICAgIGlmIChpbmNsdXNpdmUgPyBkaXN0IDw9IHJhZGl1cyA6IGRpc3QgPiByYWRpdXMpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBwb2ludDogbm9kZS5wb2ludCxcbiAgICAgICAgICAgICAgICBkb2NJRHM6IG5vZGUuZG9jSURzID8/IFtdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5sZWZ0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICAgIG5vZGU6IG5vZGUubGVmdCxcbiAgICAgICAgICAgICAgICBkZXB0aDogZGVwdGggKyAxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5yaWdodCAhPSBudWxsKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKHtcbiAgICAgICAgICAgICAgICBub2RlOiBub2RlLnJpZ2h0LFxuICAgICAgICAgICAgICAgIGRlcHRoOiBkZXB0aCArIDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzb3J0KSB7XG4gICAgICAgIHJlc3VsdC5zb3J0KChhLCBiKT0+e1xuICAgICAgICAgICAgY29uc3QgZGlzdEEgPSBkaXN0YW5jZUZuKGNlbnRlciwgYS5wb2ludCk7XG4gICAgICAgICAgICBjb25zdCBkaXN0QiA9IGRpc3RhbmNlRm4oY2VudGVyLCBiLnBvaW50KTtcbiAgICAgICAgICAgIHJldHVybiBzb3J0LnRvTG93ZXJDYXNlKCkgPT09ICdhc2MnID8gZGlzdEEgLSBkaXN0QiA6IGRpc3RCIC0gZGlzdEE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaEJ5UG9seWdvbihyb290LCBwb2x5Z29uLCBpbmNsdXNpdmUgPSB0cnVlLCBzb3J0ID0gbnVsbCwgaGlnaFByZWNpc2lvbiA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc3RhY2sgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5vZGU6IHJvb3QsXG4gICAgICAgICAgICBkZXB0aDogMFxuICAgICAgICB9XG4gICAgXTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICB3aGlsZShzdGFjay5sZW5ndGggPiAwKXtcbiAgICAgICAgY29uc3QgdGFzayA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAodGFzayA9PSBudWxsIHx8IHRhc2subm9kZSA9PSBudWxsKSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgeyBub2RlICwgZGVwdGggIH0gPSB0YXNrO1xuICAgICAgICBjb25zdCBuZXh0RGVwdGggPSBkZXB0aCArIDE7XG4gICAgICAgIGlmIChub2RlLmxlZnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgbm9kZTogbm9kZS5sZWZ0LFxuICAgICAgICAgICAgICAgIGRlcHRoOiBuZXh0RGVwdGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnJpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICAgIG5vZGU6IG5vZGUucmlnaHQsXG4gICAgICAgICAgICAgICAgZGVwdGg6IG5leHREZXB0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNJbnNpZGVQb2x5Z29uID0gaXNQb2ludEluUG9seWdvbihwb2x5Z29uLCBub2RlLnBvaW50KTtcbiAgICAgICAgaWYgKGlzSW5zaWRlUG9seWdvbiAmJiBpbmNsdXNpdmUpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBwb2ludDogbm9kZS5wb2ludCxcbiAgICAgICAgICAgICAgICBkb2NJRHM6IG5vZGUuZG9jSURzID8/IFtdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICghaXNJbnNpZGVQb2x5Z29uICYmICFpbmNsdXNpdmUpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBwb2ludDogbm9kZS5wb2ludCxcbiAgICAgICAgICAgICAgICBkb2NJRHM6IG5vZGUuZG9jSURzID8/IFtdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjZW50cm9pZCA9IGNhbGN1bGF0ZVBvbHlnb25DZW50cm9pZChwb2x5Z29uKTtcbiAgICBpZiAoc29ydCkge1xuICAgICAgICBjb25zdCBzb3J0Rm4gPSBoaWdoUHJlY2lzaW9uID8gdmluY2VudHlEaXN0YW5jZSA6IGhhdmVyc2luZURpc3RhbmNlO1xuICAgICAgICByZXN1bHQuc29ydCgoYSwgYik9PntcbiAgICAgICAgICAgIGNvbnN0IGRpc3RBID0gc29ydEZuKGNlbnRyb2lkLCBhLnBvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RCID0gc29ydEZuKGNlbnRyb2lkLCBiLnBvaW50KTtcbiAgICAgICAgICAgIHJldHVybiBzb3J0LnRvTG93ZXJDYXNlKCkgPT09ICdhc2MnID8gZGlzdEEgLSBkaXN0QiA6IGRpc3RCIC0gZGlzdEE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlUG9seWdvbkNlbnRyb2lkKHBvbHlnb24pIHtcbiAgICBsZXQgdG90YWxBcmVhID0gMDtcbiAgICBsZXQgY2VudHJvaWRYID0gMDtcbiAgICBsZXQgY2VudHJvaWRZID0gMDtcbiAgICBmb3IobGV0IGkgPSAwLCBqID0gcG9seWdvbi5sZW5ndGggLSAxOyBpIDwgcG9seWdvbi5sZW5ndGg7IGogPSBpKyspe1xuICAgICAgICBjb25zdCB4aSA9IHBvbHlnb25baV0ubG9uO1xuICAgICAgICBjb25zdCB5aSA9IHBvbHlnb25baV0ubGF0O1xuICAgICAgICBjb25zdCB4aiA9IHBvbHlnb25bal0ubG9uO1xuICAgICAgICBjb25zdCB5aiA9IHBvbHlnb25bal0ubGF0O1xuICAgICAgICBjb25zdCBhcmVhU2VnbWVudCA9IHhpICogeWogLSB4aiAqIHlpO1xuICAgICAgICB0b3RhbEFyZWEgKz0gYXJlYVNlZ21lbnQ7XG4gICAgICAgIGNlbnRyb2lkWCArPSAoeGkgKyB4aikgKiBhcmVhU2VnbWVudDtcbiAgICAgICAgY2VudHJvaWRZICs9ICh5aSArIHlqKSAqIGFyZWFTZWdtZW50O1xuICAgIH1cbiAgICB0b3RhbEFyZWEgLz0gMjtcbiAgICBjZW50cm9pZFggLz0gNiAqIHRvdGFsQXJlYTtcbiAgICBjZW50cm9pZFkgLz0gNiAqIHRvdGFsQXJlYTtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb246IGNlbnRyb2lkWCxcbiAgICAgICAgbGF0OiBjZW50cm9pZFlcbiAgICB9O1xufVxuZnVuY3Rpb24gaXNQb2ludEluUG9seWdvbihwb2x5Z29uLCBwb2ludCkge1xuICAgIGxldCBpc0luc2lkZSA9IGZhbHNlO1xuICAgIGNvbnN0IHggPSBwb2ludC5sb247XG4gICAgY29uc3QgeSA9IHBvaW50LmxhdDtcbiAgICBmb3IobGV0IGkgPSAwLCBqID0gcG9seWdvbi5sZW5ndGggLSAxOyBpIDwgcG9seWdvbi5sZW5ndGg7IGogPSBpKyspe1xuICAgICAgICBjb25zdCB4aSA9IHBvbHlnb25baV0ubG9uO1xuICAgICAgICBjb25zdCB5aSA9IHBvbHlnb25baV0ubGF0O1xuICAgICAgICBjb25zdCB4aiA9IHBvbHlnb25bal0ubG9uO1xuICAgICAgICBjb25zdCB5aiA9IHBvbHlnb25bal0ubGF0O1xuICAgICAgICBjb25zdCBpbnRlcnNlY3QgPSB5aSA+IHkgIT09IHlqID4geSAmJiB4IDwgKHhqIC0geGkpICogKHkgLSB5aSkgLyAoeWogLSB5aSkgKyB4aTtcbiAgICAgICAgaWYgKGludGVyc2VjdCkgaXNJbnNpZGUgPSAhaXNJbnNpZGU7XG4gICAgfVxuICAgIHJldHVybiBpc0luc2lkZTtcbn1cbmZ1bmN0aW9uIGhhdmVyc2luZURpc3RhbmNlKGNvb3JkMSwgY29vcmQyKSB7XG4gICAgY29uc3QgUCA9IE1hdGguUEkgLyAxODA7XG4gICAgY29uc3QgbGF0MSA9IGNvb3JkMS5sYXQgKiBQO1xuICAgIGNvbnN0IGxhdDIgPSBjb29yZDIubGF0ICogUDtcbiAgICBjb25zdCBkZWx0YUxhdCA9IChjb29yZDIubGF0IC0gY29vcmQxLmxhdCkgKiBQO1xuICAgIGNvbnN0IGRlbHRhTG9uID0gKGNvb3JkMi5sb24gLSBjb29yZDEubG9uKSAqIFA7XG4gICAgY29uc3QgYSA9IE1hdGguc2luKGRlbHRhTGF0IC8gMikgKiBNYXRoLnNpbihkZWx0YUxhdCAvIDIpICsgTWF0aC5jb3MobGF0MSkgKiBNYXRoLmNvcyhsYXQyKSAqIE1hdGguc2luKGRlbHRhTG9uIC8gMikgKiBNYXRoLnNpbihkZWx0YUxvbiAvIDIpO1xuICAgIGNvbnN0IGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xuICAgIHJldHVybiBFQVJUSF9SQURJVVMgKiBjO1xufVxuZnVuY3Rpb24gdmluY2VudHlEaXN0YW5jZShjb29yZDEsIGNvb3JkMikge1xuICAgIC8vIENvbnN0YW50cyBmb3IgV0dTIDg0IGVsbGlwc29pZGFsIEVhcnRoIG1vZGVsIChodHRwczovL2Vwc2cub3JnL2VsbGlwc29pZF83MDMwL1dHUy04NC5odG1sKVxuICAgIC8vIFNlbWktbWFqb3IgYXhpcyBvZiB0aGUgRWFydGggaW4gbWV0ZXJzXG4gICAgY29uc3QgYSA9IDYzNzgxMzc7XG4gICAgLy8gRmxhdHRlbmluZyBvZiB0aGUgZWxsaXBzb2lkXG4gICAgY29uc3QgZiA9IDEgLyAyOTguMjU3MjIzNTYzO1xuICAgIC8vIFNlbWktbWlub3IgYXhpc1xuICAgIGNvbnN0IGIgPSAoMSAtIGYpICogYTtcbiAgICAvLyBDb252ZXJ0IGRlZ3JlZXMgdG8gcmFkaWFucyBmb3IgY2FsY3VsYXRpb25zXG4gICAgY29uc3QgUCA9IE1hdGguUEkgLyAxODA7XG4gICAgY29uc3QgbGF0MSA9IGNvb3JkMS5sYXQgKiBQO1xuICAgIGNvbnN0IGxhdDIgPSBjb29yZDIubGF0ICogUDtcbiAgICBjb25zdCBkZWx0YUxvbiA9IChjb29yZDIubG9uIC0gY29vcmQxLmxvbikgKiBQO1xuICAgIC8vIFJlZHVjZWQgbGF0aXR1ZGVzIC0gYWNjb3VudCBmb3IgZmxhdHRlbmluZyBieSB0cmFuc2Zvcm1pbmcgZnJvbSBnZW9kZXRpYyB0byBhdXhpbGlhcnkgbGF0aXR1ZGVcbiAgICBjb25zdCBVMSA9IE1hdGguYXRhbigoMSAtIGYpICogTWF0aC50YW4obGF0MSkpO1xuICAgIGNvbnN0IFUyID0gTWF0aC5hdGFuKCgxIC0gZikgKiBNYXRoLnRhbihsYXQyKSk7XG4gICAgY29uc3Qgc2luVTEgPSBNYXRoLnNpbihVMSk7XG4gICAgY29uc3QgY29zVTEgPSBNYXRoLmNvcyhVMSk7XG4gICAgY29uc3Qgc2luVTIgPSBNYXRoLnNpbihVMik7XG4gICAgY29uc3QgY29zVTIgPSBNYXRoLmNvcyhVMik7XG4gICAgLy8gSW5pdGlhbCBhcHByb3hpbWF0aW9uIGZvciB0aGUgbG9uZ2l0dWRlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvIHBvaW50c1xuICAgIGxldCBsYW1iZGEgPSBkZWx0YUxvbjtcbiAgICBsZXQgcHJldkxhbWJkYTtcbiAgICAvLyBMaW1pdCB0aGUgaXRlcmF0aW9ucyB0byBlbnN1cmUgd2UgZG9uJ3QgZ2V0IHN0dWNrIGluIGFuIGluZmluaXRlIGxvb3BcbiAgICBsZXQgaXRlcmF0aW9uTGltaXQgPSAxMDAwO1xuICAgIGxldCBzaW5BbHBoYTtcbiAgICBsZXQgY29zMkFscGhhO1xuICAgIGxldCBzaW5TaWdtYTtcbiAgICBsZXQgY29zU2lnbWE7XG4gICAgbGV0IHNpZ21hO1xuICAgIC8vIFJlZmluZSB0aGUgdmFsdWUgb2YgbGFtYmRhIChsb25naXR1ZGUgZGlmZmVyZW5jZSlcbiAgICBkbyB7XG4gICAgICAgIGNvbnN0IHNpbkxhbWJkYSA9IE1hdGguc2luKGxhbWJkYSk7XG4gICAgICAgIGNvbnN0IGNvc0xhbWJkYSA9IE1hdGguY29zKGxhbWJkYSk7XG4gICAgICAgIC8vIENvbXB1dGUgdGhlIHRyaWdvbm9tZXRyaWMgdmFsdWVzIHJlcXVpcmVkIGZvciBWaW5jZW50eSBmb3JtdWxhZVxuICAgICAgICBzaW5TaWdtYSA9IE1hdGguc3FydChjb3NVMiAqIHNpbkxhbWJkYSAqIChjb3NVMiAqIHNpbkxhbWJkYSkgKyAoY29zVTEgKiBzaW5VMiAtIHNpblUxICogY29zVTIgKiBjb3NMYW1iZGEpICogKGNvc1UxICogc2luVTIgLSBzaW5VMSAqIGNvc1UyICogY29zTGFtYmRhKSk7XG4gICAgICAgIGNvc1NpZ21hID0gc2luVTEgKiBzaW5VMiArIGNvc1UxICogY29zVTIgKiBjb3NMYW1iZGE7XG4gICAgICAgIHNpZ21hID0gTWF0aC5hdGFuMihzaW5TaWdtYSwgY29zU2lnbWEpO1xuICAgICAgICAvLyBBbmd1bGFyIHNlcGFyYXRpb24gYmV0d2VlbiB0aGUgdHdvIHBvaW50cyBhbmQgdGhlIGVxdWF0b3JcbiAgICAgICAgc2luQWxwaGEgPSBjb3NVMSAqIGNvc1UyICogc2luTGFtYmRhIC8gc2luU2lnbWE7XG4gICAgICAgIGNvczJBbHBoYSA9IDEgLSBzaW5BbHBoYSAqIHNpbkFscGhhO1xuICAgICAgICBjb25zdCBjb3MyU2lnbWFNID0gY29zU2lnbWEgLSAyICogc2luVTEgKiBzaW5VMiAvIGNvczJBbHBoYTtcbiAgICAgICAgLy8gQ29tcGVuc2F0aW9uIGZhY3RvciBmb3IgdGhlIEVhcnRoJ3Mgc2hhcGVcbiAgICAgICAgY29uc3QgQyA9IGYgLyAxNiAqIGNvczJBbHBoYSAqICg0ICsgZiAqICg0IC0gMyAqIGNvczJBbHBoYSkpO1xuICAgICAgICAvLyBTdG9yZSBwcmV2aW91cyBsYW1iZGEgdG8gY2hlY2sgZm9yIGNvbnZlcmdlbmNlXG4gICAgICAgIHByZXZMYW1iZGEgPSBsYW1iZGE7XG4gICAgICAgIC8vIFJlZmluZSB0aGUgZXN0aW1hdGUgb2YgbGFtYmRhIHVzaW5nIHRoZSBWaW5jZW50eSBmb3JtdWxhXG4gICAgICAgIGxhbWJkYSA9IGRlbHRhTG9uICsgKDEgLSBDKSAqIGYgKiBzaW5BbHBoYSAqIChzaWdtYSArIEMgKiBzaW5TaWdtYSAqIChjb3MyU2lnbWFNICsgQyAqIGNvc1NpZ21hICogKC0xICsgMiAqIGNvczJTaWdtYU0gKiBjb3MyU2lnbWFNKSkpO1xuICAgIH13aGlsZSAoTWF0aC5hYnMobGFtYmRhIC0gcHJldkxhbWJkYSkgPiAxZS0xMiAmJiAtLWl0ZXJhdGlvbkxpbWl0ID4gMClcbiAgICAvLyBDb21wdXRlIGZhY3RvcnMgdGhhdCBkZXBlbmQgb24gdGhlIHNoYXBlIG9mIHRoZSBFYXJ0aCBhbmQgYW5ndWxhciBkaXN0YW5jZXNcbiAgICBjb25zdCB1MiA9IGNvczJBbHBoYSAqIChhICogYSAtIGIgKiBiKSAvIChiICogYik7XG4gICAgY29uc3QgQSA9IDEgKyB1MiAvIDE2Mzg0ICogKDQwOTYgKyB1MiAqICgtNzY4ICsgdTIgKiAoMzIwIC0gMTc1ICogdTIpKSk7XG4gICAgY29uc3QgQiA9IHUyIC8gMTAyNCAqICgyNTYgKyB1MiAqICgtMTI4ICsgdTIgKiAoNzQgLSA0NyAqIHUyKSkpO1xuICAgIC8vIENvbXB1dGUgdGhlIGNvcnJlY3Rpb24gZmFjdG9yIGZvciB0aGUgZWxsaXBzb2lkYWwgc2hhcGUgb2YgdGhlIEVhcnRoXG4gICAgY29uc3QgZGVsdGFTaWdtYSA9IEIgKiBzaW5TaWdtYSAqIChjb3NTaWdtYSAtIDIgKiBzaW5VMSAqIHNpblUyIC8gY29zMkFscGhhICsgQiAvIDQgKiAoY29zU2lnbWEgKiAoLTEgKyAyICogc2luU2lnbWEgKiBzaW5TaWdtYSkgLSBCIC8gNiAqIHNpZ21hICogKC0zICsgNCAqIHNpblNpZ21hICogc2luU2lnbWEpICogKC0zICsgNCAqIHNpZ21hICogc2lnbWEpKSk7XG4gICAgLy8gRmluYWwgY2FsY3VsYXRpb24gb2YgZGlzdGFuY2UgdXNpbmcgVmluY2VudHkgZm9ybXVsYVxuICAgIGNvbnN0IHMgPSBiICogQSAqIChzaWdtYSAtIGRlbHRhU2lnbWEpO1xuICAgIHJldHVybiBzO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1ia2QuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIHByaW9yaXRpemVUb2tlblNjb3JlcyhhcnJheXMsIGJvb3N0LCB0aHJlc2hvbGQgPSAxLCBrZXl3b3Jkc0NvdW50KSB7XG4gICAgaWYgKGJvb3N0ID09PSAwKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX0JPT1NUX1ZBTFVFJyk7XG4gICAgfVxuICAgIGNvbnN0IHRva2VuU2NvcmVzTWFwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHRva2VuS2V5d29yZHNDb3VudE1hcCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBtYXBzTGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbWFwc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgYXJyID0gYXJyYXlzW2ldO1xuICAgICAgICBjb25zdCBlbnRyaWVzTGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IGVudHJpZXNMZW5ndGg7IGorKyl7XG4gICAgICAgICAgICBjb25zdCBbdG9rZW4sIHNjb3JlXSA9IGFycltqXTtcbiAgICAgICAgICAgIGNvbnN0IGJvb3N0U2NvcmUgPSBzY29yZSAqIGJvb3N0O1xuICAgICAgICAgICAgY29uc3Qgb2xkU2NvcmUgPSB0b2tlblNjb3Jlc01hcC5nZXQodG9rZW4pO1xuICAgICAgICAgICAgaWYgKG9sZFNjb3JlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0b2tlblNjb3Jlc01hcC5zZXQodG9rZW4sIG9sZFNjb3JlICogMS41ICsgYm9vc3RTY29yZSk7XG4gICAgICAgICAgICAgICAgdG9rZW5LZXl3b3Jkc0NvdW50TWFwLnNldCh0b2tlbiwgdG9rZW5LZXl3b3Jkc0NvdW50TWFwLmdldCh0b2tlbikgKyAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9rZW5TY29yZXNNYXAuc2V0KHRva2VuLCBib29zdFNjb3JlKTtcbiAgICAgICAgICAgICAgICB0b2tlbktleXdvcmRzQ291bnRNYXAuc2V0KHRva2VuLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0b2tlblNjb3JlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgdG9rZW5TY29yZUVudHJ5IG9mIHRva2VuU2NvcmVzTWFwLmVudHJpZXMoKSl7XG4gICAgICAgIHRva2VuU2NvcmVzLnB1c2godG9rZW5TY29yZUVudHJ5KTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IHRva2VuU2NvcmVzLnNvcnQoKGEsIGIpPT5iWzFdIC0gYVsxXSk7XG4gICAgLy8gSWYgdGhyZXNob2xkIGlzIDEsIGl0IG1lYW5zIHdlIHdpbGwgcmV0dXJuIGFsbCB0aGUgcmVzdWx0cyB3aXRoIGF0IGxlYXN0IG9uZSBzZWFyY2ggdGVybSxcbiAgICAvLyBwcmlvcml0aXppZyB0aGUgb25lcyB0aGF0IGNvbnRhaW5zIG1vcmUgc2VhcmNoIHRlcm1zIChmdXp6eSBtYXRjaClcbiAgICBpZiAodGhyZXNob2xkID09PSAxKSB7XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cbiAgICAvLyBQcmVwYXJlIGtleXdvcmRzIGNvdW50IHRyYWNraW5nIGZvciB0aHJlc2hvbGQgaGFuZGxpbmdcbiAgICBjb25zdCBhbGxSZXN1bHRzID0gcmVzdWx0cy5sZW5ndGg7XG4gICAgY29uc3QgdG9rZW5LZXl3b3Jkc0NvdW50ID0gW107XG4gICAgZm9yIChjb25zdCB0b2tlbktleXdvcmRzQ291bnRFbnRyeSBvZiB0b2tlbktleXdvcmRzQ291bnRNYXAuZW50cmllcygpKXtcbiAgICAgICAgdG9rZW5LZXl3b3Jkc0NvdW50LnB1c2godG9rZW5LZXl3b3Jkc0NvdW50RW50cnkpO1xuICAgIH1cbiAgICAvLyBGaW5kIHRoZSBpbmRleCBvZiB0aGUgbGFzdCByZXN1bHQgd2l0aCBhbGwga2V5d29yZHMuXG4gICAgLy8gTm90ZSB0aGF0IHNpbmNlIHNjb3JlIGlzIG11bHRpcGxlZCBieSAxLjUgYW55IHRpbWUgdGhlIHRva2VuIGlzIGVuY291bnRlcmVkIGluIHJlc3VsdHMgaXQgbWVhbnNcbiAgICAvLyB0aGF0IHRva2VuU2NvcmVzIGFuZCB0b2tlbktleXdvcmRzQ291bnQgc2hvdWxkIGFsd2F5cyBoYXZlIHRoZSBzYW1lIG9yZGVyLlxuICAgIGNvbnN0IGtleXdvcmRzUGVyVG9rZW4gPSB0b2tlbktleXdvcmRzQ291bnQuc29ydCgoYSwgYik9PmJbMV0gLSBhWzFdKTtcbiAgICBsZXQgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID0gdW5kZWZpbmVkO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhbGxSZXN1bHRzOyBpKyspe1xuICAgICAgICBpZiAoa2V5d29yZHNQZXJUb2tlbltpXVsxXSA9PT0ga2V5d29yZHNDb3VudCkge1xuICAgICAgICAgICAgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID0gaTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIElmIG5vIHJlc3VsdHMgaGFkIGFsbCB0aGUga2V5d29yZHMsIGVpdGhlciBiYWlsIG91dCBlYXJsaWVyIG9yIG5vcm1hbGl6ZVxuICAgIGlmICh0eXBlb2YgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAodGhyZXNob2xkID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID0gMDtcbiAgICB9XG4gICAgLy8gSWYgdGhyZXNob2xkIGlzIDAsIGl0IG1lYW5zIHdlIHdpbGwgb25seSByZXR1cm4gYWxsIHRoZSByZXN1bHRzIHRoYXQgY29udGFpbnMgQUxMIHRoZSBzZWFyY2ggdGVybXMgKGV4YWN0IG1hdGNoKVxuICAgIGlmICh0aHJlc2hvbGQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHMuc2xpY2UoMCwgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzICsgMSk7XG4gICAgfVxuICAgIC8vIElmIHRoZSB0aHJlc2hvbGQgaXMgYmV0d2VlbiAwIGFuZCAxLCB3ZSB3aWxsIHJldHVybiBhbGwgdGhlIHJlc3VsdHMgdGhhdCBjb250YWlucyBhdCBsZWFzdCB0aGUgdGhyZXNob2xkIG9mIHNlYXJjaCB0ZXJtc1xuICAgIC8vIEZvciBleGFtcGxlLCBpZiB0aHJlc2hvbGQgaXMgMC41LCB3ZSB3aWxsIHJldHVybiBhbGwgdGhlIHJlc3VsdHMgdGhhdCBjb250YWlucyBhdCBsZWFzdCA1MCUgb2YgdGhlIHNlYXJjaCB0ZXJtc1xuICAgIC8vIChmdXp6eSBtYXRjaCB3aXRoIGEgbWluaW11bSB0aHJlc2hvbGQpXG4gICAgY29uc3QgdGhyZXNob2xkTGVuZ3RoID0gbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzICsgTWF0aC5jZWlsKHRocmVzaG9sZCAqIDEwMCAqIChyZXN1bHRzLmxlbmd0aCAtIGxhc3RUb2tlbldpdGhBbGxLZXl3b3JkcykgLyAxMDApO1xuICAgIHJldHVybiByZXN1bHRzLnNsaWNlKDAsIHJlc3VsdHMubGVuZ3RoICsgdGhyZXNob2xkTGVuZ3RoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBCTTI1KHRmLCBtYXRjaGluZ0NvdW50LCBkb2NzQ291bnQsIGZpZWxkTGVuZ3RoLCBhdmVyYWdlRmllbGRMZW5ndGgsIEJNMjVQYXJhbXMpIHtcbiAgICBjb25zdCB7IGsgLCBiICwgZCAgfSA9IEJNMjVQYXJhbXM7XG4gICAgY29uc3QgaWRmID0gTWF0aC5sb2coMSArIChkb2NzQ291bnQgLSBtYXRjaGluZ0NvdW50ICsgMC41KSAvIChtYXRjaGluZ0NvdW50ICsgMC41KSk7XG4gICAgcmV0dXJuIGlkZiAqIChkICsgdGYgKiAoayArIDEpKSAvICh0ZiArIGsgKiAoMSAtIGIgKyBiICogZmllbGRMZW5ndGggLyBhdmVyYWdlRmllbGRMZW5ndGgpKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWxnb3JpdGhtcy5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gZ2V0TWFnbml0dWRlKHZlY3RvciwgdmVjdG9yTGVuZ3RoKSB7XG4gICAgbGV0IG1hZ25pdHVkZSA9IDA7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHZlY3Rvckxlbmd0aDsgaSsrKXtcbiAgICAgICAgbWFnbml0dWRlICs9IHZlY3RvcltpXSAqIHZlY3RvcltpXTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGguc3FydChtYWduaXR1ZGUpO1xufVxuLy8gQHRvZG86IFdyaXRlIHBsdWdpbnMgZm9yIE5vZGUgYW5kIEJyb3dzZXJzIHRvIHVzZSBwYXJhbGxlbCBjb21wdXRhdGlvbiBmb3IgdGhpcyBmdW5jdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRTaW1pbGFyVmVjdG9ycyh0YXJnZXRWZWN0b3IsIHZlY3RvcnMsIGxlbmd0aCwgdGhyZXNob2xkID0gMC44KSB7XG4gICAgY29uc3QgdGFyZ2V0TWFnbml0dWRlID0gZ2V0TWFnbml0dWRlKHRhcmdldFZlY3RvciwgbGVuZ3RoKTtcbiAgICBjb25zdCBzaW1pbGFyVmVjdG9ycyA9IFtdO1xuICAgIGZvciAoY29uc3QgW3ZlY3RvcklkLCBbbWFnbml0dWRlLCB2ZWN0b3JdXSBvZiBPYmplY3QuZW50cmllcyh2ZWN0b3JzKSl7XG4gICAgICAgIGxldCBkb3RQcm9kdWN0ID0gMDtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGRvdFByb2R1Y3QgKz0gdGFyZ2V0VmVjdG9yW2ldICogdmVjdG9yW2ldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNpbWlsYXJpdHkgPSBkb3RQcm9kdWN0IC8gKHRhcmdldE1hZ25pdHVkZSAqIG1hZ25pdHVkZSk7XG4gICAgICAgIGlmIChzaW1pbGFyaXR5ID49IHRocmVzaG9sZCkge1xuICAgICAgICAgICAgc2ltaWxhclZlY3RvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHZlY3RvcklkLFxuICAgICAgICAgICAgICAgIHNjb3JlOiBzaW1pbGFyaXR5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2ltaWxhclZlY3RvcnMuc29ydCgoYSwgYik9PmIuc2NvcmUgLSBhLnNjb3JlKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29zaW5lLXNpbWlsYXJpdHkuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgY3JlYXRlIGFzIGF2bENyZWF0ZSwgZmluZCBhcyBhdmxGaW5kLCBncmVhdGVyVGhhbiBhcyBhdmxHcmVhdGVyVGhhbiwgaW5zZXJ0IGFzIGF2bEluc2VydCwgbGVzc1RoYW4gYXMgYXZsTGVzc1RoYW4sIHJhbmdlU2VhcmNoIGFzIGF2bFJhbmdlU2VhcmNoLCByZW1vdmVEb2N1bWVudCBhcyBhdmxSZW1vdmVEb2N1bWVudCB9IGZyb20gJy4uL3RyZWVzL2F2bC5qcyc7XG5pbXBvcnQgeyBjcmVhdGUgYXMgZmxhdENyZWF0ZSwgZmlsdGVyIGFzIGZsYXRGaWx0ZXIsIGZpbHRlckFyciBhcyBmbGF0RmlsdGVyQXJyLCBpbnNlcnQgYXMgZmxhdEluc2VydCwgcmVtb3ZlRG9jdW1lbnQgYXMgZmxhdFJlbW92ZURvY3VtZW50IH0gZnJvbSAnLi4vdHJlZXMvZmxhdC5qcyc7XG5pbXBvcnQgeyBjcmVhdGUgYXMgcmFkaXhDcmVhdGUsIGZpbmQgYXMgcmFkaXhGaW5kLCBpbnNlcnQgYXMgcmFkaXhJbnNlcnQsIHJlbW92ZURvY3VtZW50QnlXb3JkIGFzIHJhZGl4UmVtb3ZlRG9jdW1lbnQgfSBmcm9tICcuLi90cmVlcy9yYWRpeC5qcyc7XG5pbXBvcnQgeyBjcmVhdGUgYXMgYmtkQ3JlYXRlLCBpbnNlcnQgYXMgYmtkSW5zZXJ0LCByZW1vdmVEb2NCeUlEIGFzIGJrZFJlbW92ZURvY0J5SUQsIHNlYXJjaEJ5UmFkaXVzLCBzZWFyY2hCeVBvbHlnb24gfSBmcm9tICcuLi90cmVlcy9ia2QuanMnO1xuaW1wb3J0IHsgY29udmVydERpc3RhbmNlVG9NZXRlcnMsIGludGVyc2VjdCwgc2FmZUFycmF5UHVzaCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IEJNMjUgfSBmcm9tICcuL2FsZ29yaXRobXMuanMnO1xuaW1wb3J0IHsgZ2V0TWFnbml0dWRlIH0gZnJvbSAnLi9jb3NpbmUtc2ltaWxhcml0eS5qcyc7XG5pbXBvcnQgeyBnZXRJbm5lclR5cGUsIGdldFZlY3RvclNpemUsIGlzQXJyYXlUeXBlLCBpc1ZlY3RvclR5cGUgfSBmcm9tICcuL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IGdldEludGVybmFsRG9jdW1lbnRJZCB9IGZyb20gJy4vaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydERvY3VtZW50U2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCBpZCwgdG9rZW5zLCBkb2NzQ291bnQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGluZGV4LmF2Z0ZpZWxkTGVuZ3RoW3Byb3BdID0gKChpbmRleC5hdmdGaWVsZExlbmd0aFtwcm9wXSA/PyAwKSAqIChkb2NzQ291bnQgLSAxKSArIHRva2Vucy5sZW5ndGgpIC8gZG9jc0NvdW50O1xuICAgIGluZGV4LmZpZWxkTGVuZ3Roc1twcm9wXVtpbnRlcm5hbElkXSA9IHRva2Vucy5sZW5ndGg7XG4gICAgaW5kZXguZnJlcXVlbmNpZXNbcHJvcF1baW50ZXJuYWxJZF0gPSB7fTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnNlcnRUb2tlblNjb3JlUGFyYW1ldGVycyhpbmRleCwgcHJvcCwgaWQsIHRva2VucywgdG9rZW4pIHtcbiAgICBsZXQgdG9rZW5GcmVxdWVuY3kgPSAwO1xuICAgIGZvciAoY29uc3QgdCBvZiB0b2tlbnMpe1xuICAgICAgICBpZiAodCA9PT0gdG9rZW4pIHtcbiAgICAgICAgICAgIHRva2VuRnJlcXVlbmN5Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChpbmRleC5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBjb25zdCB0ZiA9IHRva2VuRnJlcXVlbmN5IC8gdG9rZW5zLmxlbmd0aDtcbiAgICBpbmRleC5mcmVxdWVuY2llc1twcm9wXVtpbnRlcm5hbElkXVt0b2tlbl0gPSB0ZjtcbiAgICBpZiAoISh0b2tlbiBpbiBpbmRleC50b2tlbk9jY3VycmVuY2VzW3Byb3BdKSkge1xuICAgICAgICBpbmRleC50b2tlbk9jY3VycmVuY2VzW3Byb3BdW3Rva2VuXSA9IDA7XG4gICAgfVxuICAgIC8vIGluY3JlYXNlIGEgdG9rZW4gY291bnRlciB0aGF0IG1heSBub3QgeWV0IGV4aXN0XG4gICAgaW5kZXgudG9rZW5PY2N1cnJlbmNlc1twcm9wXVt0b2tlbl0gPSAoaW5kZXgudG9rZW5PY2N1cnJlbmNlc1twcm9wXVt0b2tlbl0gPz8gMCkgKyAxO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZURvY3VtZW50U2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCBpZCwgZG9jc0NvdW50KSB7XG4gICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChpbmRleC5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBpbmRleC5hdmdGaWVsZExlbmd0aFtwcm9wXSA9IChpbmRleC5hdmdGaWVsZExlbmd0aFtwcm9wXSAqIGRvY3NDb3VudCAtIGluZGV4LmZpZWxkTGVuZ3Roc1twcm9wXVtpbnRlcm5hbElkXSkgLyAoZG9jc0NvdW50IC0gMSk7XG4gICAgaW5kZXguZmllbGRMZW5ndGhzW3Byb3BdW2ludGVybmFsSWRdID0gdW5kZWZpbmVkO1xuICAgIGluZGV4LmZyZXF1ZW5jaWVzW3Byb3BdW2ludGVybmFsSWRdID0gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZVRva2VuU2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCB0b2tlbikge1xuICAgIGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcHJvcF1bdG9rZW5dLS07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FsY3VsYXRlUmVzdWx0U2NvcmVzKGNvbnRleHQsIGluZGV4LCBwcm9wLCB0ZXJtLCBpZHMpIHtcbiAgICBjb25zdCBkb2N1bWVudElEcyA9IEFycmF5LmZyb20oaWRzKTtcbiAgICAvLyBFeGFjdCBmaWVsZHMgZm9yIFRGLUlERlxuICAgIGNvbnN0IGF2Z0ZpZWxkTGVuZ3RoID0gaW5kZXguYXZnRmllbGRMZW5ndGhbcHJvcF07XG4gICAgY29uc3QgZmllbGRMZW5ndGhzID0gaW5kZXguZmllbGRMZW5ndGhzW3Byb3BdO1xuICAgIGNvbnN0IG9yYW1hT2NjdXJyZW5jZXMgPSBpbmRleC50b2tlbk9jY3VycmVuY2VzW3Byb3BdO1xuICAgIGNvbnN0IG9yYW1hRnJlcXVlbmNpZXMgPSBpbmRleC5mcmVxdWVuY2llc1twcm9wXTtcbiAgICAvLyBvcmFtYU9jY3VycmVuY2VzW3Rlcm1dIGNhbiBiZSB1bmRlZmluZWQsIDAsIHN0cmluZywgb3IgeyBbazogc3RyaW5nXTogbnVtYmVyIH1cbiAgICBjb25zdCB0ZXJtT2NjdXJyZW5jZXMgPSB0eXBlb2Ygb3JhbWFPY2N1cnJlbmNlc1t0ZXJtXSA9PT0gJ251bWJlcicgPyBvcmFtYU9jY3VycmVuY2VzW3Rlcm1dID8/IDAgOiAwO1xuICAgIGNvbnN0IHNjb3JlTGlzdCA9IFtdO1xuICAgIC8vIENhbGN1bGF0ZSBURi1JREYgdmFsdWUgZm9yIGVhY2ggdGVybSwgaW4gZWFjaCBkb2N1bWVudCwgZm9yIGVhY2ggaW5kZXguXG4gICAgY29uc3QgZG9jdW1lbnRJRHNMZW5ndGggPSBkb2N1bWVudElEcy5sZW5ndGg7XG4gICAgZm9yKGxldCBrID0gMDsgayA8IGRvY3VtZW50SURzTGVuZ3RoOyBrKyspe1xuICAgICAgICB2YXIgX29yYW1hRnJlcXVlbmNpZXNfaW50ZXJuYWxJZDtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChpbmRleC5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGRvY3VtZW50SURzW2tdKTtcbiAgICAgICAgY29uc3QgdGYgPSAob3JhbWFGcmVxdWVuY2llcyA9PT0gbnVsbCB8fCBvcmFtYUZyZXF1ZW5jaWVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29yYW1hRnJlcXVlbmNpZXNfaW50ZXJuYWxJZCA9IG9yYW1hRnJlcXVlbmNpZXNbaW50ZXJuYWxJZF0pID09PSBudWxsIHx8IF9vcmFtYUZyZXF1ZW5jaWVzX2ludGVybmFsSWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcmFtYUZyZXF1ZW5jaWVzX2ludGVybmFsSWRbdGVybV0pID8/IDA7XG4gICAgICAgIGNvbnN0IGJtMjUgPSBCTTI1KHRmLCB0ZXJtT2NjdXJyZW5jZXMsIGNvbnRleHQuZG9jc0NvdW50LCBmaWVsZExlbmd0aHNbaW50ZXJuYWxJZF0sIGF2Z0ZpZWxkTGVuZ3RoLCBjb250ZXh0LnBhcmFtcy5yZWxldmFuY2UpO1xuICAgICAgICBzY29yZUxpc3QucHVzaChbXG4gICAgICAgICAgICBpbnRlcm5hbElkLFxuICAgICAgICAgICAgYm0yNVxuICAgICAgICBdKTtcbiAgICB9XG4gICAgcmV0dXJuIHNjb3JlTGlzdDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGUob3JhbWEsIHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgc2NoZW1hLCBpbmRleCwgcHJlZml4ID0gJycpIHtcbiAgICBpZiAoIWluZGV4KSB7XG4gICAgICAgIGluZGV4ID0ge1xuICAgICAgICAgICAgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICAgICAgaW5kZXhlczoge30sXG4gICAgICAgICAgICB2ZWN0b3JJbmRleGVzOiB7fSxcbiAgICAgICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzOiBbXSxcbiAgICAgICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzOiB7fSxcbiAgICAgICAgICAgIGZyZXF1ZW5jaWVzOiB7fSxcbiAgICAgICAgICAgIHRva2VuT2NjdXJyZW5jZXM6IHt9LFxuICAgICAgICAgICAgYXZnRmllbGRMZW5ndGg6IHt9LFxuICAgICAgICAgICAgZmllbGRMZW5ndGhzOiB7fVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtwcm9wLCB0eXBlXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEpKXtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAke3ByZWZpeH0ke3ByZWZpeCA/ICcuJyA6ICcnfSR7cHJvcH1gO1xuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICAgICAgICAvLyBOZXN0ZWRcbiAgICAgICAgICAgIGNyZWF0ZShvcmFtYSwgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCB0eXBlLCBpbmRleCwgcGF0aCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNWZWN0b3JUeXBlKHR5cGUpKSB7XG4gICAgICAgICAgICBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllcy5wdXNoKHBhdGgpO1xuICAgICAgICAgICAgaW5kZXguc2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXNbcGF0aF0gPSB0eXBlO1xuICAgICAgICAgICAgaW5kZXgudmVjdG9ySW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICBzaXplOiBnZXRWZWN0b3JTaXplKHR5cGUpLFxuICAgICAgICAgICAgICAgIHZlY3RvcnM6IHt9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaXNBcnJheSA9IC9cXFsvLnRlc3QodHlwZSk7XG4gICAgICAgICAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbltdJzpcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguaW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdCb29sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZTogW11cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyW10nOlxuICAgICAgICAgICAgICAgICAgICBpbmRleC5pbmRleGVzW3BhdGhdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0FWTCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiBhdmxDcmVhdGUoMCwgW10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcnJheVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZ1tdJzpcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguaW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdSYWRpeCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiByYWRpeENyZWF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcnJheVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpbmRleC5hdmdGaWVsZExlbmd0aFtwYXRoXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LmZyZXF1ZW5jaWVzW3BhdGhdID0ge307XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcGF0aF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguZmllbGRMZW5ndGhzW3BhdGhdID0ge307XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW0nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW1bXSc6XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LmluZGV4ZXNbcGF0aF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnRmxhdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiBmbGF0Q3JlYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2dlb3BvaW50JzpcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguaW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdCS0QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogYmtkQ3JlYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX1NDSEVNQV9UWVBFJywgQXJyYXkuaXNBcnJheSh0eXBlKSA/ICdhcnJheScgOiB0eXBlLCBwYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4LnNlYXJjaGFibGVQcm9wZXJ0aWVzLnB1c2gocGF0aCk7XG4gICAgICAgICAgICBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlc1twYXRoXSA9IHR5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xufVxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0U2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGNvbnN0IHsgdHlwZSAsIG5vZGUgIH0gPSBpbmRleC5pbmRleGVzW3Byb3BdO1xuICAgIHN3aXRjaCh0eXBlKXtcbiAgICAgICAgY2FzZSAnQm9vbCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbm9kZVt2YWx1ZSA/ICd0cnVlJyA6ICdmYWxzZSddLnB1c2goaW50ZXJuYWxJZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0FWTCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXZsSW5zZXJ0KG5vZGUsIHZhbHVlLCBbXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsSWRcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnUmFkaXgnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IHRva2VuaXplci50b2tlbml6ZSh2YWx1ZSwgbGFuZ3VhZ2UsIHByb3ApO1xuICAgICAgICAgICAgICAgIGF3YWl0IGltcGxlbWVudGF0aW9uLmluc2VydERvY3VtZW50U2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCBpbnRlcm5hbElkLCB0b2tlbnMsIGRvY3NDb3VudCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiB0b2tlbnMpe1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBpbXBsZW1lbnRhdGlvbi5pbnNlcnRUb2tlblNjb3JlUGFyYW1ldGVycyhpbmRleCwgcHJvcCwgaW50ZXJuYWxJZCwgdG9rZW5zLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHJhZGl4SW5zZXJ0KG5vZGUsIHRva2VuLCBpbnRlcm5hbElkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0ZsYXQnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZsYXRJbnNlcnQobm9kZSwgdmFsdWUsIGludGVybmFsSWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdCS0QnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJrZEluc2VydChub2RlLCB2YWx1ZSwgW1xuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbElkXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydChpbXBsZW1lbnRhdGlvbiwgaW5kZXgsIHByb3AsIGlkLCB2YWx1ZSwgc2NoZW1hVHlwZSwgbGFuZ3VhZ2UsIHRva2VuaXplciwgZG9jc0NvdW50KSB7XG4gICAgaWYgKGlzVmVjdG9yVHlwZShzY2hlbWFUeXBlKSkge1xuICAgICAgICByZXR1cm4gaW5zZXJ0VmVjdG9yKGluZGV4LCBwcm9wLCB2YWx1ZSwgaWQpO1xuICAgIH1cbiAgICBpZiAoIWlzQXJyYXlUeXBlKHNjaGVtYVR5cGUpKSB7XG4gICAgICAgIHJldHVybiBpbnNlcnRTY2FsYXIoaW1wbGVtZW50YXRpb24sIGluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIHNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxuICAgIGNvbnN0IGlubmVyU2NoZW1hVHlwZSA9IGdldElubmVyVHlwZShzY2hlbWFUeXBlKTtcbiAgICBjb25zdCBlbGVtZW50cyA9IHZhbHVlO1xuICAgIGNvbnN0IGVsZW1lbnRzTGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBlbGVtZW50c0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgaW5zZXJ0U2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIGVsZW1lbnRzW2ldLCBpbm5lclNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5zZXJ0VmVjdG9yKGluZGV4LCBwcm9wLCB2YWx1ZSwgaWQpIHtcbiAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkpIHtcbiAgICAgICAgdmFsdWUgPSBuZXcgRmxvYXQzMkFycmF5KHZhbHVlKTtcbiAgICB9XG4gICAgY29uc3Qgc2l6ZSA9IGluZGV4LnZlY3RvckluZGV4ZXNbcHJvcF0uc2l6ZTtcbiAgICBjb25zdCBtYWduaXR1ZGUgPSBnZXRNYWduaXR1ZGUodmFsdWUsIHNpemUpO1xuICAgIGluZGV4LnZlY3RvckluZGV4ZXNbcHJvcF0udmVjdG9yc1tpZF0gPSBbXG4gICAgICAgIG1hZ25pdHVkZSxcbiAgICAgICAgdmFsdWVcbiAgICBdO1xufVxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlU2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGlmIChpc1ZlY3RvclR5cGUoc2NoZW1hVHlwZSkpIHtcbiAgICAgICAgZGVsZXRlIGluZGV4LnZlY3RvckluZGV4ZXNbcHJvcF0udmVjdG9yc1tpZF07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB7IHR5cGUgLCBub2RlICB9ID0gaW5kZXguaW5kZXhlc1twcm9wXTtcbiAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgIGNhc2UgJ0FWTCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXZsUmVtb3ZlRG9jdW1lbnQobm9kZSwgaW50ZXJuYWxJZCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdCb29sJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib29sZWFuS2V5ID0gdmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gbm9kZVtib29sZWFuS2V5XS5pbmRleE9mKGludGVybmFsSWQpO1xuICAgICAgICAgICAgICAgIG5vZGVbdmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnXS5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdSYWRpeCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gYXdhaXQgdG9rZW5pemVyLnRva2VuaXplKHZhbHVlLCBsYW5ndWFnZSwgcHJvcCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgaW1wbGVtZW50YXRpb24ucmVtb3ZlRG9jdW1lbnRTY29yZVBhcmFtZXRlcnMoaW5kZXgsIHByb3AsIGlkLCBkb2NzQ291bnQpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKXtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaW1wbGVtZW50YXRpb24ucmVtb3ZlVG9rZW5TY29yZVBhcmFtZXRlcnMoaW5kZXgsIHByb3AsIHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgcmFkaXhSZW1vdmVEb2N1bWVudChub2RlLCB0b2tlbiwgaW50ZXJuYWxJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdGbGF0JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmbGF0UmVtb3ZlRG9jdW1lbnQobm9kZSwgaW50ZXJuYWxJZCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdCS0QnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJrZFJlbW92ZURvY0J5SUQobm9kZSwgdmFsdWUsIGludGVybmFsSWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQpIHtcbiAgICBpZiAoIWlzQXJyYXlUeXBlKHNjaGVtYVR5cGUpKSB7XG4gICAgICAgIHJldHVybiByZW1vdmVTY2FsYXIoaW1wbGVtZW50YXRpb24sIGluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIHNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxuICAgIGNvbnN0IGlubmVyU2NoZW1hVHlwZSA9IGdldElubmVyVHlwZShzY2hlbWFUeXBlKTtcbiAgICBjb25zdCBlbGVtZW50cyA9IHZhbHVlO1xuICAgIGNvbnN0IGVsZW1lbnRzTGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBlbGVtZW50c0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgcmVtb3ZlU2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIGVsZW1lbnRzW2ldLCBpbm5lclNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaChjb250ZXh0LCBpbmRleCwgcHJvcCwgdGVybSkge1xuICAgIGlmICghKHByb3AgaW4gaW5kZXgudG9rZW5PY2N1cnJlbmNlcykpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCB7IG5vZGUgLCB0eXBlICB9ID0gaW5kZXguaW5kZXhlc1twcm9wXTtcbiAgICBpZiAodHlwZSAhPT0gJ1JhZGl4Jykge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignV1JPTkdfU0VBUkNIX1BST1BFUlRZX1RZUEUnLCBwcm9wKTtcbiAgICB9XG4gICAgY29uc3QgeyBleGFjdCAsIHRvbGVyYW5jZSAgfSA9IGNvbnRleHQucGFyYW1zO1xuICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHJhZGl4RmluZChub2RlLCB7XG4gICAgICAgIHRlcm0sXG4gICAgICAgIGV4YWN0LFxuICAgICAgICB0b2xlcmFuY2VcbiAgICB9KTtcbiAgICBjb25zdCBpZHMgPSBuZXcgU2V0KCk7XG4gICAgZm9yKGNvbnN0IGtleSBpbiBzZWFyY2hSZXN1bHQpe1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHNlYXJjaFJlc3VsdFtrZXldKXtcbiAgICAgICAgICAgIGlkcy5hZGQoaWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LmluZGV4LmNhbGN1bGF0ZVJlc3VsdFNjb3Jlcyhjb250ZXh0LCBpbmRleCwgcHJvcCwgdGVybSwgQXJyYXkuZnJvbShpZHMpKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hCeVdoZXJlQ2xhdXNlKGNvbnRleHQsIGluZGV4LCBmaWx0ZXJzKSB7XG4gICAgY29uc3QgZmlsdGVyS2V5cyA9IE9iamVjdC5rZXlzKGZpbHRlcnMpO1xuICAgIGNvbnN0IGZpbHRlcnNNYXAgPSBmaWx0ZXJLZXlzLnJlZHVjZSgoYWNjLCBrZXkpPT4oe1xuICAgICAgICAgICAgW2tleV06IFtdLFxuICAgICAgICAgICAgLi4uYWNjXG4gICAgICAgIH0pLCB7fSk7XG4gICAgZm9yIChjb25zdCBwYXJhbSBvZiBmaWx0ZXJLZXlzKXtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gZmlsdGVyc1twYXJhbV07XG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXguaW5kZXhlc1twYXJhbV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5LTk9XTl9GSUxURVJfUFJPUEVSVFknLCBwYXJhbSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBub2RlICwgdHlwZSAsIGlzQXJyYXkgIH0gPSBpbmRleC5pbmRleGVzW3BhcmFtXTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdCb29sJykge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gbm9kZTtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkSURzID0gaWR4W29wZXJhdGlvbi50b1N0cmluZygpXTtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2goZmlsdGVyc01hcFtwYXJhbV0sIGZpbHRlcmVkSURzKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnQktEJykge1xuICAgICAgICAgICAgbGV0IHJlcU9wZXJhdGlvbjtcbiAgICAgICAgICAgIGlmICgncmFkaXVzJyBpbiBvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXFPcGVyYXRpb24gPSAncmFkaXVzJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJ3BvbHlnb24nIGluIG9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHJlcU9wZXJhdGlvbiA9ICdwb2x5Z29uJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG9wZXJhdGlvbiAke29wZXJhdGlvbn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXFPcGVyYXRpb24gPT09ICdyYWRpdXMnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSAsIGNvb3JkaW5hdGVzICwgdW5pdCA9J20nICwgaW5zaWRlID10cnVlICwgaGlnaFByZWNpc2lvbiA9ZmFsc2UgIH0gPSBvcGVyYXRpb25bcmVxT3BlcmF0aW9uXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZUluTWV0ZXJzID0gY29udmVydERpc3RhbmNlVG9NZXRlcnModmFsdWUsIHVuaXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkcyA9IHNlYXJjaEJ5UmFkaXVzKG5vZGUucm9vdCwgY29vcmRpbmF0ZXMsIGRpc3RhbmNlSW5NZXRlcnMsIGluc2lkZSwgdW5kZWZpbmVkLCBoaWdoUHJlY2lzaW9uKTtcbiAgICAgICAgICAgICAgICAvLyBAdG9kbzogY29udmVydCB0aGlzIGludG8gYSBmb3IgbG9vcFxuICAgICAgICAgICAgICAgIHNhZmVBcnJheVB1c2goZmlsdGVyc01hcFtwYXJhbV0sIGlkcy5tYXAoKHsgZG9jSURzICB9KT0+ZG9jSURzKS5mbGF0KCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvb3JkaW5hdGVzICwgaW5zaWRlID10cnVlICwgaGlnaFByZWNpc2lvbiA9ZmFsc2UgIH0gPSBvcGVyYXRpb25bcmVxT3BlcmF0aW9uXTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZHMgPSBzZWFyY2hCeVBvbHlnb24obm9kZS5yb290LCBjb29yZGluYXRlcywgaW5zaWRlLCB1bmRlZmluZWQsIGhpZ2hQcmVjaXNpb24pO1xuICAgICAgICAgICAgICAgIC8vIEB0b2RvOiBjb252ZXJ0IHRoaXMgaW50byBhIGZvciBsb29wXG4gICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChmaWx0ZXJzTWFwW3BhcmFtXSwgaWRzLm1hcCgoeyBkb2NJRHMgIH0pPT5kb2NJRHMpLmZsYXQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ1JhZGl4JyAmJiAodHlwZW9mIG9wZXJhdGlvbiA9PT0gJ3N0cmluZycgfHwgQXJyYXkuaXNBcnJheShvcGVyYXRpb24pKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCByYXcgb2YgW1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvblxuICAgICAgICAgICAgXS5mbGF0KCkpe1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlcm0gPSBhd2FpdCBjb250ZXh0LnRva2VuaXplci50b2tlbml6ZShyYXcsIGNvbnRleHQubGFuZ3VhZ2UsIHBhcmFtKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdGVybSl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkSURzUmVzdWx0cyA9IHJhZGl4RmluZChub2RlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtOiB0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNhZmVBcnJheVB1c2goZmlsdGVyc01hcFtwYXJhbV0sIE9iamVjdC52YWx1ZXMoZmlsdGVyZWRJRHNSZXN1bHRzKS5mbGF0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbktleXMgPSBPYmplY3Qua2V5cyhvcGVyYXRpb24pO1xuICAgICAgICBpZiAob3BlcmF0aW9uS2V5cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9GSUxURVJfT1BFUkFUSU9OJywgb3BlcmF0aW9uS2V5cy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnRmxhdCcpIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChmaWx0ZXJzTWFwW3BhcmFtXSwgZmxhdEZpbHRlckFycihub2RlLCBvcGVyYXRpb24pKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChmaWx0ZXJzTWFwW3BhcmFtXSwgZmxhdEZpbHRlcihub2RlLCBvcGVyYXRpb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnQVZMJykge1xuICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uT3B0ID0gb3BlcmF0aW9uS2V5c1swXTtcbiAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvblZhbHVlID0gb3BlcmF0aW9uW29wZXJhdGlvbk9wdF07XG4gICAgICAgICAgICBsZXQgZmlsdGVyZWRJRHMgPSBbXTtcbiAgICAgICAgICAgIHN3aXRjaChvcGVyYXRpb25PcHQpe1xuICAgICAgICAgICAgICAgIGNhc2UgJ2d0JzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRJRHMgPSBhdmxHcmVhdGVyVGhhbihub2RlLCBvcGVyYXRpb25WYWx1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdndGUnOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZElEcyA9IGF2bEdyZWF0ZXJUaGFuKG5vZGUsIG9wZXJhdGlvblZhbHVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnbHQnOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZElEcyA9IGF2bExlc3NUaGFuKG5vZGUsIG9wZXJhdGlvblZhbHVlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2x0ZSc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkSURzID0gYXZsTGVzc1RoYW4obm9kZSwgb3BlcmF0aW9uVmFsdWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdlcSc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkSURzID0gYXZsRmluZChub2RlLCBvcGVyYXRpb25WYWx1ZSkgPz8gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2JldHdlZW4nOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbbWluLCBtYXhdID0gb3BlcmF0aW9uVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZElEcyA9IGF2bFJhbmdlU2VhcmNoKG5vZGUsIG1pbiwgbWF4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYWZlQXJyYXlQdXNoKGZpbHRlcnNNYXBbcGFyYW1dLCBmaWx0ZXJlZElEcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQU5EIG9wZXJhdGlvbjogY2FsY3VsYXRlIHRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhbGwgdGhlIElEcyBpbiBmaWx0ZXJNYXBcbiAgICBjb25zdCByZXN1bHQgPSBpbnRlcnNlY3QoT2JqZWN0LnZhbHVlcyhmaWx0ZXJzTWFwKSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZWFyY2hhYmxlUHJvcGVydGllcyhpbmRleCkge1xuICAgIHJldHVybiBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllcztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyhpbmRleCkge1xuICAgIHJldHVybiBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcztcbn1cbmZ1bmN0aW9uIGxvYWRSYWRpeE5vZGUobm9kZSkge1xuICAgIGNvbnN0IGNvbnZlcnRlZE5vZGUgPSByYWRpeENyZWF0ZShub2RlLmUsIG5vZGUucywgbm9kZS5rKTtcbiAgICBjb252ZXJ0ZWROb2RlLmQgPSBub2RlLmQ7XG4gICAgY29udmVydGVkTm9kZS53ID0gbm9kZS53O1xuICAgIGZvciAoY29uc3QgY2hpbGRyZW5LZXkgb2YgT2JqZWN0LmtleXMobm9kZS5jKSl7XG4gICAgICAgIGNvbnZlcnRlZE5vZGUuY1tjaGlsZHJlbktleV0gPSBsb2FkUmFkaXhOb2RlKG5vZGUuY1tjaGlsZHJlbktleV0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udmVydGVkTm9kZTtcbn1cbmZ1bmN0aW9uIGxvYWRGbGF0Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbnVtYmVyVG9Eb2N1bWVudElkOiBuZXcgTWFwKG5vZGUpXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNhdmVGbGF0Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20obm9kZS5udW1iZXJUb0RvY3VtZW50SWQuZW50cmllcygpKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkKHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgcmF3KSB7XG4gICAgY29uc3QgeyBpbmRleGVzOiByYXdJbmRleGVzICwgdmVjdG9ySW5kZXhlczogcmF3VmVjdG9ySW5kZXhlcyAsIHNlYXJjaGFibGVQcm9wZXJ0aWVzICwgc2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMgLCBmcmVxdWVuY2llcyAsIHRva2VuT2NjdXJyZW5jZXMgLCBhdmdGaWVsZExlbmd0aCAsIGZpZWxkTGVuZ3RocyAgfSA9IHJhdztcbiAgICBjb25zdCBpbmRleGVzID0ge307XG4gICAgY29uc3QgdmVjdG9ySW5kZXhlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBPYmplY3Qua2V5cyhyYXdJbmRleGVzKSl7XG4gICAgICAgIGNvbnN0IHsgbm9kZSAsIHR5cGUgLCBpc0FycmF5ICB9ID0gcmF3SW5kZXhlc1twcm9wXTtcbiAgICAgICAgc3dpdGNoKHR5cGUpe1xuICAgICAgICAgICAgY2FzZSAnUmFkaXgnOlxuICAgICAgICAgICAgICAgIGluZGV4ZXNbcHJvcF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdSYWRpeCcsXG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IGxvYWRSYWRpeE5vZGUobm9kZSksXG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRmxhdCc6XG4gICAgICAgICAgICAgICAgaW5kZXhlc1twcm9wXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0ZsYXQnLFxuICAgICAgICAgICAgICAgICAgICBub2RlOiBsb2FkRmxhdE5vZGUobm9kZSksXG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpbmRleGVzW3Byb3BdID0gcmF3SW5kZXhlc1twcm9wXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGlkeCBvZiBPYmplY3Qua2V5cyhyYXdWZWN0b3JJbmRleGVzKSl7XG4gICAgICAgIGNvbnN0IHZlY3RvcnMgPSByYXdWZWN0b3JJbmRleGVzW2lkeF0udmVjdG9ycztcbiAgICAgICAgZm9yKGNvbnN0IHZlYyBpbiB2ZWN0b3JzKXtcbiAgICAgICAgICAgIHZlY3RvcnNbdmVjXSA9IFtcbiAgICAgICAgICAgICAgICB2ZWN0b3JzW3ZlY11bMF0sXG4gICAgICAgICAgICAgICAgbmV3IEZsb2F0MzJBcnJheSh2ZWN0b3JzW3ZlY11bMV0pXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHZlY3RvckluZGV4ZXNbaWR4XSA9IHtcbiAgICAgICAgICAgIHNpemU6IHJhd1ZlY3RvckluZGV4ZXNbaWR4XS5zaXplLFxuICAgICAgICAgICAgdmVjdG9yc1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsXG4gICAgICAgIGluZGV4ZXMsXG4gICAgICAgIHZlY3RvckluZGV4ZXMsXG4gICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzLFxuICAgICAgICBzZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgZnJlcXVlbmNpZXMsXG4gICAgICAgIHRva2VuT2NjdXJyZW5jZXMsXG4gICAgICAgIGF2Z0ZpZWxkTGVuZ3RoLFxuICAgICAgICBmaWVsZExlbmd0aHNcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmUoaW5kZXgpIHtcbiAgICBjb25zdCB7IGluZGV4ZXMgLCB2ZWN0b3JJbmRleGVzICwgc2VhcmNoYWJsZVByb3BlcnRpZXMgLCBzZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyAsIGZyZXF1ZW5jaWVzICwgdG9rZW5PY2N1cnJlbmNlcyAsIGF2Z0ZpZWxkTGVuZ3RoICwgZmllbGRMZW5ndGhzICB9ID0gaW5kZXg7XG4gICAgY29uc3QgdmVjdG9ySW5kZXhlc0FzQXJyYXlzID0ge307XG4gICAgZm9yIChjb25zdCBpZHggb2YgT2JqZWN0LmtleXModmVjdG9ySW5kZXhlcykpe1xuICAgICAgICBjb25zdCB2ZWN0b3JzID0gdmVjdG9ySW5kZXhlc1tpZHhdLnZlY3RvcnM7XG4gICAgICAgIGZvcihjb25zdCB2ZWMgaW4gdmVjdG9ycyl7XG4gICAgICAgICAgICB2ZWN0b3JzW3ZlY10gPSBbXG4gICAgICAgICAgICAgICAgdmVjdG9yc1t2ZWNdWzBdLFxuICAgICAgICAgICAgICAgIEFycmF5LmZyb20odmVjdG9yc1t2ZWNdWzFdKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICB2ZWN0b3JJbmRleGVzQXNBcnJheXNbaWR4XSA9IHtcbiAgICAgICAgICAgIHNpemU6IHZlY3RvckluZGV4ZXNbaWR4XS5zaXplLFxuICAgICAgICAgICAgdmVjdG9yc1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHNhdmVkSW5kZXhlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3Qua2V5cyhpbmRleGVzKSl7XG4gICAgICAgIGNvbnN0IHsgdHlwZSAsIG5vZGUgLCBpc0FycmF5ICB9ID0gaW5kZXhlc1tuYW1lXTtcbiAgICAgICAgaWYgKHR5cGUgIT09ICdGbGF0Jykge1xuICAgICAgICAgICAgc2F2ZWRJbmRleGVzW25hbWVdID0gaW5kZXhlc1tuYW1lXTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHNhdmVkSW5kZXhlc1tuYW1lXSA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdGbGF0JyxcbiAgICAgICAgICAgIG5vZGU6IHNhdmVGbGF0Tm9kZShub2RlKSxcbiAgICAgICAgICAgIGlzQXJyYXlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5kZXhlczogc2F2ZWRJbmRleGVzLFxuICAgICAgICB2ZWN0b3JJbmRleGVzOiB2ZWN0b3JJbmRleGVzQXNBcnJheXMsXG4gICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzLFxuICAgICAgICBzZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgZnJlcXVlbmNpZXMsXG4gICAgICAgIHRva2VuT2NjdXJyZW5jZXMsXG4gICAgICAgIGF2Z0ZpZWxkTGVuZ3RoLFxuICAgICAgICBmaWVsZExlbmd0aHNcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUluZGV4KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZSxcbiAgICAgICAgaW5zZXJ0LFxuICAgICAgICByZW1vdmUsXG4gICAgICAgIGluc2VydERvY3VtZW50U2NvcmVQYXJhbWV0ZXJzLFxuICAgICAgICBpbnNlcnRUb2tlblNjb3JlUGFyYW1ldGVycyxcbiAgICAgICAgcmVtb3ZlRG9jdW1lbnRTY29yZVBhcmFtZXRlcnMsXG4gICAgICAgIHJlbW92ZVRva2VuU2NvcmVQYXJhbWV0ZXJzLFxuICAgICAgICBjYWxjdWxhdGVSZXN1bHRTY29yZXMsXG4gICAgICAgIHNlYXJjaCxcbiAgICAgICAgc2VhcmNoQnlXaGVyZUNsYXVzZSxcbiAgICAgICAgZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXMsXG4gICAgICAgIGdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzLFxuICAgICAgICBsb2FkLFxuICAgICAgICBzYXZlXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgaXNWZWN0b3JUeXBlIH0gZnJvbSAnLi9kZWZhdWx0cy5qcyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbERvY3VtZW50SWQgfSBmcm9tICcuL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzJztcbmltcG9ydCB7IHNhZmVBcnJheVB1c2ggfSBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmZ1bmN0aW9uIGlubmVyQ3JlYXRlKG9yYW1hLCBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSwgc29ydGFibGVEZW5pZWRQcm9wZXJ0aWVzLCBwcmVmaXgpIHtcbiAgICBjb25zdCBzb3J0ZXIgPSB7XG4gICAgICAgIGxhbmd1YWdlOiBvcmFtYS50b2tlbml6ZXIubGFuZ3VhZ2UsXG4gICAgICAgIHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSxcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgaXNTb3J0ZWQ6IHRydWUsXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllczogW10sXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlczoge30sXG4gICAgICAgIHNvcnRzOiB7fVxuICAgIH07XG4gICAgZm9yIChjb25zdCBbcHJvcCwgdHlwZV0gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hKSl7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgJHtwcmVmaXh9JHtwcmVmaXggPyAnLicgOiAnJ30ke3Byb3B9YDtcbiAgICAgICAgaWYgKHNvcnRhYmxlRGVuaWVkUHJvcGVydGllcy5pbmNsdWRlcyhwYXRoKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICAgICAgLy8gTmVzdGVkXG4gICAgICAgICAgICBjb25zdCByZXQgPSBpbm5lckNyZWF0ZShvcmFtYSwgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCB0eXBlLCBzb3J0YWJsZURlbmllZFByb3BlcnRpZXMsIHBhdGgpO1xuICAgICAgICAgICAgc2FmZUFycmF5UHVzaChzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzLCByZXQuc29ydGFibGVQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIHNvcnRlci5zb3J0cyA9IHtcbiAgICAgICAgICAgICAgICAuLi5zb3J0ZXIuc29ydHMsXG4gICAgICAgICAgICAgICAgLi4ucmV0LnNvcnRzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc29ydGVyLnNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlcyA9IHtcbiAgICAgICAgICAgICAgICAuLi5zb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzLFxuICAgICAgICAgICAgICAgIC4uLnJldC5zb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVmVjdG9yVHlwZSh0eXBlKSkge1xuICAgICAgICAgICAgc3dpdGNoKHR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgc29ydGVyLnNvcnRhYmxlUHJvcGVydGllcy5wdXNoKHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzW3BhdGhdID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgc29ydGVyLnNvcnRzW3BhdGhdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jczogbmV3IE1hcCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJlZERvY3NUb1JlbW92ZTogbmV3IE1hcCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJlZERvY3M6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdnZW9wb2ludCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZW51bSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW1bXSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbltdJzpcbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXJbXSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nW10nOlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9TT1JUX1NDSEVNQV9UWVBFJywgQXJyYXkuaXNBcnJheSh0eXBlKSA/ICdhcnJheScgOiB0eXBlLCBwYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc29ydGVyO1xufVxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlKG9yYW1hLCBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSwgY29uZmlnKSB7XG4gICAgY29uc3QgaXNTb3J0RW5hYmxlZCA9IChjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcuZW5hYmxlZCkgIT09IGZhbHNlO1xuICAgIGlmICghaXNTb3J0RW5hYmxlZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGlubmVyQ3JlYXRlKG9yYW1hLCBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSwgKGNvbmZpZyB8fCB7fSkudW5zb3J0YWJsZVByb3BlcnRpZXMgfHwgW10sICcnKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGluc2VydChzb3J0ZXIsIHByb3AsIGlkLCB2YWx1ZSkge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzb3J0ZXIuaXNTb3J0ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHNvcnRlci5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBjb25zdCBzID0gc29ydGVyLnNvcnRzW3Byb3BdO1xuICAgIHMuZG9jcy5zZXQoaW50ZXJuYWxJZCwgcy5vcmRlcmVkRG9jcy5sZW5ndGgpO1xuICAgIHMub3JkZXJlZERvY3MucHVzaChbXG4gICAgICAgIGludGVybmFsSWQsXG4gICAgICAgIHZhbHVlXG4gICAgXSk7XG59XG5mdW5jdGlvbiBlbnN1cmVJc1NvcnRlZChzb3J0ZXIpIHtcbiAgICBpZiAoc29ydGVyLmlzU29ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzb3J0ZXIuZW5hYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBPYmplY3Qua2V5cyhzb3J0ZXIuc29ydHMpO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBwcm9wZXJ0aWVzKXtcbiAgICAgICAgZW5zdXJlUHJvcGVydHlJc1NvcnRlZChzb3J0ZXIsIHByb3ApO1xuICAgIH1cbiAgICBzb3J0ZXIuaXNTb3J0ZWQgPSB0cnVlO1xufVxuZnVuY3Rpb24gc3RyaW5nU29ydChsYW5ndWFnZSwgdmFsdWUsIGQpIHtcbiAgICByZXR1cm4gdmFsdWVbMV0ubG9jYWxlQ29tcGFyZShkWzFdLCBsYW5ndWFnZSk7XG59XG5mdW5jdGlvbiBudW1iZXJTb3J0KHZhbHVlLCBkKSB7XG4gICAgcmV0dXJuIHZhbHVlWzFdIC0gZFsxXTtcbn1cbmZ1bmN0aW9uIGJvb2xlYW5Tb3J0KHZhbHVlLCBkKSB7XG4gICAgcmV0dXJuIGRbMV0gPyAtMSA6IDE7XG59XG5mdW5jdGlvbiBlbnN1cmVQcm9wZXJ0eUlzU29ydGVkKHNvcnRlciwgcHJvcCkge1xuICAgIGNvbnN0IHMgPSBzb3J0ZXIuc29ydHNbcHJvcF07XG4gICAgbGV0IHByZWRpY2F0ZTtcbiAgICBzd2l0Y2gocy50eXBlKXtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IHN0cmluZ1NvcnQuYmluZChudWxsLCBzb3J0ZXIubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBudW1iZXJTb3J0LmJpbmQobnVsbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBib29sZWFuU29ydC5iaW5kKG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHMub3JkZXJlZERvY3Muc29ydChwcmVkaWNhdGUpO1xuICAgIC8vIEluY3JlbWVudCBwb3NpdGlvbiBmb3IgdGhlIGdyZWF0aGVyIGRvY3VtZW50c1xuICAgIGNvbnN0IG9yZGVyZWREb2NzTGVuZ3RoID0gcy5vcmRlcmVkRG9jcy5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG9yZGVyZWREb2NzTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBkb2NJZCA9IHMub3JkZXJlZERvY3NbaV1bMF07XG4gICAgICAgIHMuZG9jcy5zZXQoZG9jSWQsIGkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVuc3VyZU9yZGVyZWREb2NzQXJlRGVsZXRlZChzb3J0ZXIpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gT2JqZWN0LmtleXMoc29ydGVyLnNvcnRzKTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcGVydGllcyl7XG4gICAgICAgIGVuc3VyZU9yZGVyZWREb2NzQXJlRGVsZXRlZEJ5UHJvcGVydHkoc29ydGVyLCBwcm9wKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWRCeVByb3BlcnR5KHNvcnRlciwgcHJvcCkge1xuICAgIGNvbnN0IHMgPSBzb3J0ZXIuc29ydHNbcHJvcF07XG4gICAgaWYgKCFzLm9yZGVyZWREb2NzVG9SZW1vdmUuc2l6ZSkgcmV0dXJuO1xuICAgIHMub3JkZXJlZERvY3MgPSBzLm9yZGVyZWREb2NzLmZpbHRlcigoZG9jKT0+IXMub3JkZXJlZERvY3NUb1JlbW92ZS5oYXMoZG9jWzBdKSk7XG4gICAgcy5vcmRlcmVkRG9jc1RvUmVtb3ZlLmNsZWFyKCk7XG59XG5hc3luYyBmdW5jdGlvbiByZW1vdmUoc29ydGVyLCBwcm9wLCBpZCkge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzID0gc29ydGVyLnNvcnRzW3Byb3BdO1xuICAgIGNvbnN0IGludGVybmFsSWQgPSBnZXRJbnRlcm5hbERvY3VtZW50SWQoc29ydGVyLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGNvbnN0IGluZGV4ID0gcy5kb2NzLmdldChpbnRlcm5hbElkKTtcbiAgICBpZiAoIWluZGV4KSByZXR1cm47XG4gICAgcy5kb2NzLmRlbGV0ZShpbnRlcm5hbElkKTtcbiAgICBzLm9yZGVyZWREb2NzVG9SZW1vdmUuc2V0KGludGVybmFsSWQsIHRydWUpO1xufVxuYXN5bmMgZnVuY3Rpb24gc29ydEJ5KHNvcnRlciwgZG9jSWRzLCBieSkge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1NPUlRfRElTQUJMRUQnKTtcbiAgICB9XG4gICAgY29uc3QgcHJvcGVydHkgPSBieS5wcm9wZXJ0eTtcbiAgICBjb25zdCBpc0Rlc2MgPSBieS5vcmRlciA9PT0gJ0RFU0MnO1xuICAgIGNvbnN0IHMgPSBzb3J0ZXIuc29ydHNbcHJvcGVydHldO1xuICAgIGlmICghcykge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5BQkxFX1RPX1NPUlRfT05fVU5LTk9XTl9GSUVMRCcsIHByb3BlcnR5LCBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzLmpvaW4oJywgJykpO1xuICAgIH1cbiAgICBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWRCeVByb3BlcnR5KHNvcnRlciwgcHJvcGVydHkpO1xuICAgIGVuc3VyZUlzU29ydGVkKHNvcnRlcik7XG4gICAgZG9jSWRzLnNvcnQoKGEsIGIpPT57XG4gICAgICAgIC8vIFRoaXMgc29ydCBhbGdvcml0aG0gd29ya3MgbGV2ZXJhZ2luZyBvblxuICAgICAgICAvLyB0aGF0IHMuZG9jcyBpcyBhIG1hcCBvZiBkb2NJZCAtPiBwb3NpdGlvblxuICAgICAgICAvLyBJZiBhIGRvY3VtZW50IGlzIG5vdCBpbmRleGVkLCBpdCB3aWxsIGJlIG5vdCBwcmVzZW50IGluIHRoZSBtYXBcbiAgICAgICAgY29uc3QgaW5kZXhPZkEgPSBzLmRvY3MuZ2V0KGdldEludGVybmFsRG9jdW1lbnRJZChzb3J0ZXIuc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCBhWzBdKSk7XG4gICAgICAgIGNvbnN0IGluZGV4T2ZCID0gcy5kb2NzLmdldChnZXRJbnRlcm5hbERvY3VtZW50SWQoc29ydGVyLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgYlswXSkpO1xuICAgICAgICBjb25zdCBpc0FJbmRleGVkID0gdHlwZW9mIGluZGV4T2ZBICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgY29uc3QgaXNCSW5kZXhlZCA9IHR5cGVvZiBpbmRleE9mQiAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgIGlmICghaXNBSW5kZXhlZCAmJiAhaXNCSW5kZXhlZCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdW5pbmRleGVkIGRvY3VtZW50cyBhcmUgYWx3YXlzIGF0IHRoZSBlbmRcbiAgICAgICAgaWYgKCFpc0FJbmRleGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQkluZGV4ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNEZXNjID8gaW5kZXhPZkIgLSBpbmRleE9mQSA6IGluZGV4T2ZBIC0gaW5kZXhPZkI7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRvY0lkcztcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFNvcnRhYmxlUHJvcGVydGllcyhzb3J0ZXIpIHtcbiAgICBpZiAoIXNvcnRlci5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHNvcnRlci5zb3J0YWJsZVByb3BlcnRpZXM7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRTb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMoc29ydGVyKSB7XG4gICAgaWYgKCFzb3J0ZXIuZW5hYmxlZCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHJldHVybiBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWQoc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCByYXcpIHtcbiAgICBjb25zdCByYXdEb2N1bWVudCA9IHJhdztcbiAgICBpZiAoIXJhd0RvY3VtZW50LmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHNvcnRzID0gT2JqZWN0LmtleXMocmF3RG9jdW1lbnQuc29ydHMpLnJlZHVjZSgoYWNjLCBwcm9wKT0+e1xuICAgICAgICBjb25zdCB7IGRvY3MgLCBvcmRlcmVkRG9jcyAsIHR5cGUgIH0gPSByYXdEb2N1bWVudC5zb3J0c1twcm9wXTtcbiAgICAgICAgYWNjW3Byb3BdID0ge1xuICAgICAgICAgICAgZG9jczogbmV3IE1hcChPYmplY3QuZW50cmllcyhkb2NzKS5tYXAoKFtrLCB2XSk9PltcbiAgICAgICAgICAgICAgICAgICAgK2ssXG4gICAgICAgICAgICAgICAgICAgIHZcbiAgICAgICAgICAgICAgICBdKSksXG4gICAgICAgICAgICBvcmRlcmVkRG9jc1RvUmVtb3ZlOiBuZXcgTWFwKCksXG4gICAgICAgICAgICBvcmRlcmVkRG9jcyxcbiAgICAgICAgICAgIHR5cGVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICBsYW5ndWFnZTogcmF3RG9jdW1lbnQubGFuZ3VhZ2UsXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllczogcmF3RG9jdW1lbnQuc29ydGFibGVQcm9wZXJ0aWVzLFxuICAgICAgICBzb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXM6IHJhd0RvY3VtZW50LnNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgc29ydHMsXG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGlzU29ydGVkOiByYXdEb2N1bWVudC5pc1NvcnRlZFxuICAgIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZShzb3J0ZXIpIHtcbiAgICBpZiAoIXNvcnRlci5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWQoc29ydGVyKTtcbiAgICBlbnN1cmVJc1NvcnRlZChzb3J0ZXIpO1xuICAgIGNvbnN0IHNvcnRzID0gT2JqZWN0LmtleXMoc29ydGVyLnNvcnRzKS5yZWR1Y2UoKGFjYywgcHJvcCk9PntcbiAgICAgICAgY29uc3QgeyBkb2NzICwgb3JkZXJlZERvY3MgLCB0eXBlICB9ID0gc29ydGVyLnNvcnRzW3Byb3BdO1xuICAgICAgICBhY2NbcHJvcF0gPSB7XG4gICAgICAgICAgICBkb2NzOiBPYmplY3QuZnJvbUVudHJpZXMoZG9jcy5lbnRyaWVzKCkpLFxuICAgICAgICAgICAgb3JkZXJlZERvY3MsXG4gICAgICAgICAgICB0eXBlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGxhbmd1YWdlOiBzb3J0ZXIubGFuZ3VhZ2UsXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllczogc29ydGVyLnNvcnRhYmxlUHJvcGVydGllcyxcbiAgICAgICAgc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzOiBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzLFxuICAgICAgICBzb3J0cyxcbiAgICAgICAgZW5hYmxlZDogc29ydGVyLmVuYWJsZWQsXG4gICAgICAgIGlzU29ydGVkOiBzb3J0ZXIuaXNTb3J0ZWRcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNvcnRlcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGUsXG4gICAgICAgIGluc2VydCxcbiAgICAgICAgcmVtb3ZlLFxuICAgICAgICBzYXZlLFxuICAgICAgICBsb2FkLFxuICAgICAgICBzb3J0QnksXG4gICAgICAgIGdldFNvcnRhYmxlUHJvcGVydGllcyxcbiAgICAgICAgZ2V0U29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c29ydGVyLmpzLm1hcCIsImNvbnN0IERJQUNSSVRJQ1NfQ0hBUkNPREVfU1RBUlQgPSAxOTI7XG5jb25zdCBESUFDUklUSUNTX0NIQVJDT0RFX0VORCA9IDM4MztcbmNvbnN0IENIQVJDT0RFX1JFUExBQ0VfTUFQUElORyA9IFtcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NyxcbiAgICA2OSxcbiAgICA2OSxcbiAgICA2OSxcbiAgICA2OSxcbiAgICA3MyxcbiAgICA3MyxcbiAgICA3MyxcbiAgICA3MyxcbiAgICA2OSxcbiAgICA3OCxcbiAgICA3OSxcbiAgICA3OSxcbiAgICA3OSxcbiAgICA3OSxcbiAgICA3OSxcbiAgICBudWxsLFxuICAgIDc5LFxuICAgIDg1LFxuICAgIDg1LFxuICAgIDg1LFxuICAgIDg1LFxuICAgIDg5LFxuICAgIDgwLFxuICAgIDExNSxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5OSxcbiAgICAxMDEsXG4gICAgMTAxLFxuICAgIDEwMSxcbiAgICAxMDEsXG4gICAgMTA1LFxuICAgIDEwNSxcbiAgICAxMDUsXG4gICAgMTA1LFxuICAgIDEwMSxcbiAgICAxMTAsXG4gICAgMTExLFxuICAgIDExMSxcbiAgICAxMTEsXG4gICAgMTExLFxuICAgIDExMSxcbiAgICBudWxsLFxuICAgIDExMSxcbiAgICAxMTcsXG4gICAgMTE3LFxuICAgIDExNyxcbiAgICAxMTcsXG4gICAgMTIxLFxuICAgIDExMixcbiAgICAxMjEsXG4gICAgNjUsXG4gICAgOTcsXG4gICAgNjUsXG4gICAgOTcsXG4gICAgNjUsXG4gICAgOTcsXG4gICAgNjcsXG4gICAgOTksXG4gICAgNjcsXG4gICAgOTksXG4gICAgNjcsXG4gICAgOTksXG4gICAgNjcsXG4gICAgOTksXG4gICAgNjgsXG4gICAgMTAwLFxuICAgIDY4LFxuICAgIDEwMCxcbiAgICA2OSxcbiAgICAxMDEsXG4gICAgNjksXG4gICAgMTAxLFxuICAgIDY5LFxuICAgIDEwMSxcbiAgICA2OSxcbiAgICAxMDEsXG4gICAgNjksXG4gICAgMTAxLFxuICAgIDcxLFxuICAgIDEwMyxcbiAgICA3MSxcbiAgICAxMDMsXG4gICAgNzEsXG4gICAgMTAzLFxuICAgIDcxLFxuICAgIDEwMyxcbiAgICA3MixcbiAgICAxMDQsXG4gICAgNzIsXG4gICAgMTA0LFxuICAgIDczLFxuICAgIDEwNSxcbiAgICA3MyxcbiAgICAxMDUsXG4gICAgNzMsXG4gICAgMTA1LFxuICAgIDczLFxuICAgIDEwNSxcbiAgICA3MyxcbiAgICAxMDUsXG4gICAgNzMsXG4gICAgMTA1LFxuICAgIDc0LFxuICAgIDEwNixcbiAgICA3NSxcbiAgICAxMDcsXG4gICAgMTA3LFxuICAgIDc2LFxuICAgIDEwOCxcbiAgICA3NixcbiAgICAxMDgsXG4gICAgNzYsXG4gICAgMTA4LFxuICAgIDc2LFxuICAgIDEwOCxcbiAgICA3NixcbiAgICAxMDgsXG4gICAgNzgsXG4gICAgMTEwLFxuICAgIDc4LFxuICAgIDExMCxcbiAgICA3OCxcbiAgICAxMTAsXG4gICAgMTEwLFxuICAgIDc4LFxuICAgIDExMCxcbiAgICA3OSxcbiAgICAxMTEsXG4gICAgNzksXG4gICAgMTExLFxuICAgIDc5LFxuICAgIDExMSxcbiAgICA3OSxcbiAgICAxMTEsXG4gICAgODIsXG4gICAgMTE0LFxuICAgIDgyLFxuICAgIDExNCxcbiAgICA4MixcbiAgICAxMTQsXG4gICAgODMsXG4gICAgMTE1LFxuICAgIDgzLFxuICAgIDExNSxcbiAgICA4MyxcbiAgICAxMTUsXG4gICAgODMsXG4gICAgMTE1LFxuICAgIDg0LFxuICAgIDExNixcbiAgICA4NCxcbiAgICAxMTYsXG4gICAgODQsXG4gICAgMTE2LFxuICAgIDg1LFxuICAgIDExNyxcbiAgICA4NSxcbiAgICAxMTcsXG4gICAgODUsXG4gICAgMTE3LFxuICAgIDg1LFxuICAgIDExNyxcbiAgICA4NSxcbiAgICAxMTcsXG4gICAgODUsXG4gICAgMTE3LFxuICAgIDg3LFxuICAgIDExOSxcbiAgICA4OSxcbiAgICAxMjEsXG4gICAgODksXG4gICAgOTAsXG4gICAgMTIyLFxuICAgIDkwLFxuICAgIDEyMixcbiAgICA5MCxcbiAgICAxMjIsXG4gICAgMTE1XG5dO1xuZnVuY3Rpb24gcmVwbGFjZUNoYXIoY2hhckNvZGUpIHtcbiAgICBpZiAoY2hhckNvZGUgPCBESUFDUklUSUNTX0NIQVJDT0RFX1NUQVJUIHx8IGNoYXJDb2RlID4gRElBQ1JJVElDU19DSEFSQ09ERV9FTkQpIHJldHVybiBjaGFyQ29kZTtcbiAgICAvKiBjOCBpZ25vcmUgbmV4dCAgKi8gcmV0dXJuIENIQVJDT0RFX1JFUExBQ0VfTUFQUElOR1tjaGFyQ29kZSAtIERJQUNSSVRJQ1NfQ0hBUkNPREVfU1RBUlRdIHx8IGNoYXJDb2RlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VEaWFjcml0aWNzKHN0cikge1xuICAgIGNvbnN0IHN0cmluZ0NoYXJDb2RlID0gW107XG4gICAgZm9yKGxldCBpZHggPSAwOyBpZHggPCBzdHIubGVuZ3RoOyBpZHgrKyl7XG4gICAgICAgIHN0cmluZ0NoYXJDb2RlW2lkeF0gPSByZXBsYWNlQ2hhcihzdHIuY2hhckNvZGVBdChpZHgpKTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoLi4uc3RyaW5nQ2hhckNvZGUpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaWFjcml0aWNzLmpzLm1hcCIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbi8vIEB0cy1ub2NoZWNrXG5jb25zdCBzdGVwMkxpc3QgPSB7XG4gICAgYXRpb25hbDogJ2F0ZScsXG4gICAgdGlvbmFsOiAndGlvbicsXG4gICAgZW5jaTogJ2VuY2UnLFxuICAgIGFuY2k6ICdhbmNlJyxcbiAgICBpemVyOiAnaXplJyxcbiAgICBibGk6ICdibGUnLFxuICAgIGFsbGk6ICdhbCcsXG4gICAgZW50bGk6ICdlbnQnLFxuICAgIGVsaTogJ2UnLFxuICAgIG91c2xpOiAnb3VzJyxcbiAgICBpemF0aW9uOiAnaXplJyxcbiAgICBhdGlvbjogJ2F0ZScsXG4gICAgYXRvcjogJ2F0ZScsXG4gICAgYWxpc206ICdhbCcsXG4gICAgaXZlbmVzczogJ2l2ZScsXG4gICAgZnVsbmVzczogJ2Z1bCcsXG4gICAgb3VzbmVzczogJ291cycsXG4gICAgYWxpdGk6ICdhbCcsXG4gICAgaXZpdGk6ICdpdmUnLFxuICAgIGJpbGl0aTogJ2JsZScsXG4gICAgbG9naTogJ2xvZydcbn07XG5jb25zdCBzdGVwM0xpc3QgPSB7XG4gICAgaWNhdGU6ICdpYycsXG4gICAgYXRpdmU6ICcnLFxuICAgIGFsaXplOiAnYWwnLFxuICAgIGljaXRpOiAnaWMnLFxuICAgIGljYWw6ICdpYycsXG4gICAgZnVsOiAnJyxcbiAgICBuZXNzOiAnJ1xufTtcbi8vIENvbnNvbmFudFxuY29uc3QgYyA9ICdbXmFlaW91XSc7XG4vLyBWb3dlbFxuY29uc3QgdiA9ICdbYWVpb3V5XSc7XG4vLyBDb25zb25hbnQgc2VxdWVuY2VcbmNvbnN0IEMgPSBjICsgJ1teYWVpb3V5XSonO1xuLy8gVm93ZWwgc2VxdWVuY2VcbmNvbnN0IFYgPSB2ICsgJ1thZWlvdV0qJztcbi8vIFtDXVZDLi4uIGlzIG0+MFxuY29uc3QgbWdyMCA9ICdeKCcgKyBDICsgJyk/JyArIFYgKyBDO1xuLy8gW0NdVkNbVl0gaXMgbT0xXG5jb25zdCBtZXExID0gJ14oJyArIEMgKyAnKT8nICsgViArIEMgKyAnKCcgKyBWICsgJyk/JCc7XG4vLyBbQ11WQ1ZDLi4uIGlzIG0+MVxuY29uc3QgbWdyMSA9ICdeKCcgKyBDICsgJyk/JyArIFYgKyBDICsgViArIEM7XG4vLyB2b3dlbCBpbiBzdGVtXG5jb25zdCBzX3YgPSAnXignICsgQyArICcpPycgKyB2O1xuZXhwb3J0IGZ1bmN0aW9uIHN0ZW1tZXIodykge1xuICAgIGxldCBzdGVtO1xuICAgIGxldCBzdWZmaXg7XG4gICAgbGV0IHJlO1xuICAgIGxldCByZTI7XG4gICAgbGV0IHJlMztcbiAgICBsZXQgcmU0O1xuICAgIGlmICh3Lmxlbmd0aCA8IDMpIHtcbiAgICAgICAgcmV0dXJuIHc7XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0Y2ggPSB3LnN1YnN0cmluZygwLCAxKTtcbiAgICBpZiAoZmlyc3RjaCA9PSAneScpIHtcbiAgICAgICAgdyA9IGZpcnN0Y2gudG9VcHBlckNhc2UoKSArIHcuc3Vic3RyaW5nKDEpO1xuICAgIH1cbiAgICByZSA9IC9eKC4rPykoc3N8aSllcyQvO1xuICAgIHJlMiA9IC9eKC4rPykoW15zXSlzJC87XG4gICAgaWYgKHJlLnRlc3QodykpIHtcbiAgICAgICAgdyA9IHcucmVwbGFjZShyZSwgJyQxJDInKTtcbiAgICB9IGVsc2UgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICAgIHcgPSB3LnJlcGxhY2UocmUyLCAnJDEkMicpO1xuICAgIH1cbiAgICByZSA9IC9eKC4rPyllZWQkLztcbiAgICByZTIgPSAvXiguKz8pKGVkfGluZykkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChtZ3IwKTtcbiAgICAgICAgaWYgKHJlLnRlc3QoZnBbMV0pKSB7XG4gICAgICAgICAgICByZSA9IC8uJC87XG4gICAgICAgICAgICB3ID0gdy5yZXBsYWNlKHJlLCAnJyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICAgIGNvbnN0IGZwID0gcmUyLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcFsxXTtcbiAgICAgICAgcmUyID0gbmV3IFJlZ0V4cChzX3YpO1xuICAgICAgICBpZiAocmUyLnRlc3Qoc3RlbSkpIHtcbiAgICAgICAgICAgIHcgPSBzdGVtO1xuICAgICAgICAgICAgcmUyID0gLyhhdHxibHxpeikkLztcbiAgICAgICAgICAgIHJlMyA9IG5ldyBSZWdFeHAoJyhbXmFlaW91eWxzel0pXFxcXDEkJyk7XG4gICAgICAgICAgICByZTQgPSBuZXcgUmVnRXhwKCdeJyArIEMgKyB2ICsgJ1teYWVpb3V3eHldJCcpO1xuICAgICAgICAgICAgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICAgICAgICAgICAgdyA9IHcgKyAnZSc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlMy50ZXN0KHcpKSB7XG4gICAgICAgICAgICAgICAgcmUgPSAvLiQvO1xuICAgICAgICAgICAgICAgIHcgPSB3LnJlcGxhY2UocmUsICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmU0LnRlc3QodykpIHtcbiAgICAgICAgICAgICAgICB3ID0gdyArICdlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZSA9IC9eKC4rPyl5JC87XG4gICAgaWYgKHJlLnRlc3QodykpIHtcbiAgICAgICAgY29uc3QgZnAgPSByZS5leGVjKHcpO1xuICAgICAgICBzdGVtID0gZnAgPT09IG51bGwgfHwgZnAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZwWzFdO1xuICAgICAgICByZSA9IG5ldyBSZWdFeHAoc192KTtcbiAgICAgICAgaWYgKHN0ZW0gJiYgcmUudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgdyA9IHN0ZW0gKyAnaSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmUgPSAvXiguKz8pKGF0aW9uYWx8dGlvbmFsfGVuY2l8YW5jaXxpemVyfGJsaXxhbGxpfGVudGxpfGVsaXxvdXNsaXxpemF0aW9ufGF0aW9ufGF0b3J8YWxpc218aXZlbmVzc3xmdWxuZXNzfG91c25lc3N8YWxpdGl8aXZpdGl8YmlsaXRpfGxvZ2kpJC87XG4gICAgaWYgKHJlLnRlc3QodykpIHtcbiAgICAgICAgY29uc3QgZnAgPSByZS5leGVjKHcpO1xuICAgICAgICBzdGVtID0gZnAgPT09IG51bGwgfHwgZnAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZwWzFdO1xuICAgICAgICBzdWZmaXggPSBmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMl07XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChtZ3IwKTtcbiAgICAgICAgaWYgKHN0ZW0gJiYgcmUudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdyA9IHN0ZW0gKyBzdGVwMkxpc3Rbc3VmZml4XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZSA9IC9eKC4rPykoaWNhdGV8YXRpdmV8YWxpemV8aWNpdGl8aWNhbHxmdWx8bmVzcykkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMV07XG4gICAgICAgIHN1ZmZpeCA9IGZwID09PSBudWxsIHx8IGZwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcFsyXTtcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKG1ncjApO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKHN0ZW0gJiYgcmUudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdyA9IHN0ZW0gKyBzdGVwM0xpc3Rbc3VmZml4XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZSA9IC9eKC4rPykoYWx8YW5jZXxlbmNlfGVyfGljfGFibGV8aWJsZXxhbnR8ZW1lbnR8bWVudHxlbnR8b3V8aXNtfGF0ZXxpdGl8b3VzfGl2ZXxpemUpJC87XG4gICAgcmUyID0gL14oLis/KShzfHQpKGlvbikkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMV07XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChtZ3IxKTtcbiAgICAgICAgaWYgKHN0ZW0gJiYgcmUudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgdyA9IHN0ZW07XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICAgIGNvbnN0IGZwID0gcmUyLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSAoZnAgPT09IG51bGwgfHwgZnAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZwWzFdKSA/PyAnJyArIChmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMl0pID8/ICcnO1xuICAgICAgICByZTIgPSBuZXcgUmVnRXhwKG1ncjEpO1xuICAgICAgICBpZiAocmUyLnRlc3Qoc3RlbSkpIHtcbiAgICAgICAgICAgIHcgPSBzdGVtO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlID0gL14oLis/KWUkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMV07XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChtZ3IxKTtcbiAgICAgICAgcmUyID0gbmV3IFJlZ0V4cChtZXExKTtcbiAgICAgICAgcmUzID0gbmV3IFJlZ0V4cCgnXicgKyBDICsgdiArICdbXmFlaW91d3h5XSQnKTtcbiAgICAgICAgaWYgKHN0ZW0gJiYgKHJlLnRlc3Qoc3RlbSkgfHwgcmUyLnRlc3Qoc3RlbSkgJiYgIXJlMy50ZXN0KHN0ZW0pKSkge1xuICAgICAgICAgICAgdyA9IHN0ZW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmUgPSAvbGwkLztcbiAgICByZTIgPSBuZXcgUmVnRXhwKG1ncjEpO1xuICAgIGlmIChyZS50ZXN0KHcpICYmIHJlMi50ZXN0KHcpKSB7XG4gICAgICAgIHJlID0gLy4kLztcbiAgICAgICAgdyA9IHcucmVwbGFjZShyZSwgJycpO1xuICAgIH1cbiAgICBpZiAoZmlyc3RjaCA9PSAneScpIHtcbiAgICAgICAgdyA9IGZpcnN0Y2gudG9Mb3dlckNhc2UoKSArIHcuc3Vic3RyaW5nKDEpO1xuICAgIH1cbiAgICByZXR1cm4gdztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5nbGlzaC1zdGVtbWVyLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IHJlcGxhY2VEaWFjcml0aWNzIH0gZnJvbSAnLi9kaWFjcml0aWNzLmpzJztcbmltcG9ydCB7IFNQTElUVEVSUywgU1VQUE9SVEVEX0xBTkdVQUdFUyB9IGZyb20gJy4vbGFuZ3VhZ2VzLmpzJztcbmltcG9ydCB7IHN0ZW1tZXIgYXMgZW5nbGlzaCB9IGZyb20gJy4vZW5nbGlzaC1zdGVtbWVyLmpzJztcbmZ1bmN0aW9uIG5vcm1hbGl6ZVRva2VuKHByb3AsIHRva2VuKSB7XG4gICAgdmFyIF90aGlzX3N0b3BXb3JkcztcbiAgICBjb25zdCBrZXkgPSBgJHt0aGlzLmxhbmd1YWdlfToke3Byb3B9OiR7dG9rZW59YDtcbiAgICBpZiAodGhpcy5ub3JtYWxpemF0aW9uQ2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXphdGlvbkNhY2hlLmdldChrZXkpO1xuICAgIH1cbiAgICAvLyBSZW1vdmUgc3RvcHdvcmRzIGlmIGVuYWJsZWRcbiAgICBpZiAoKF90aGlzX3N0b3BXb3JkcyA9IHRoaXMuc3RvcFdvcmRzKSA9PT0gbnVsbCB8fCBfdGhpc19zdG9wV29yZHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzX3N0b3BXb3Jkcy5pbmNsdWRlcyh0b2tlbikpIHtcbiAgICAgICAgdGhpcy5ub3JtYWxpemF0aW9uQ2FjaGUuc2V0KGtleSwgJycpO1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIC8vIEFwcGx5IHN0ZW1taW5nIGlmIGVuYWJsZWRcbiAgICBpZiAodGhpcy5zdGVtbWVyICYmICF0aGlzLnN0ZW1tZXJTa2lwUHJvcGVydGllcy5oYXMocHJvcCkpIHtcbiAgICAgICAgdG9rZW4gPSB0aGlzLnN0ZW1tZXIodG9rZW4pO1xuICAgIH1cbiAgICB0b2tlbiA9IHJlcGxhY2VEaWFjcml0aWNzKHRva2VuKTtcbiAgICB0aGlzLm5vcm1hbGl6YXRpb25DYWNoZS5zZXQoa2V5LCB0b2tlbik7XG4gICAgcmV0dXJuIHRva2VuO1xufVxuLyogYzggaWdub3JlIG5leHQgMTAgKi8gZnVuY3Rpb24gdHJpbSh0ZXh0KSB7XG4gICAgd2hpbGUodGV4dFt0ZXh0Lmxlbmd0aCAtIDFdID09PSAnJyl7XG4gICAgICAgIHRleHQucG9wKCk7XG4gICAgfVxuICAgIHdoaWxlKHRleHRbMF0gPT09ICcnKXtcbiAgICAgICAgdGV4dC5zaGlmdCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbn1cbmZ1bmN0aW9uIHRva2VuaXplKGlucHV0LCBsYW5ndWFnZSwgcHJvcCkge1xuICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZSAhPT0gdGhpcy5sYW5ndWFnZSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignTEFOR1VBR0VfTk9UX1NVUFBPUlRFRCcsIGxhbmd1YWdlKTtcbiAgICB9XG4gICAgLyogYzggaWdub3JlIG5leHQgMyAqLyBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgaW5wdXRcbiAgICAgICAgXTtcbiAgICB9XG4gICAgbGV0IHRva2VucztcbiAgICBpZiAocHJvcCAmJiB0aGlzLnRva2VuaXplU2tpcFByb3BlcnRpZXMuaGFzKHByb3ApKSB7XG4gICAgICAgIHRva2VucyA9IFtcbiAgICAgICAgICAgIHRoaXMubm9ybWFsaXplVG9rZW4uYmluZCh0aGlzLCBwcm9wID8/ICcnKShpbnB1dClcbiAgICAgICAgXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzcGxpdFJ1bGUgPSBTUExJVFRFUlNbdGhpcy5sYW5ndWFnZV07XG4gICAgICAgIHRva2VucyA9IGlucHV0LnRvTG93ZXJDYXNlKCkuc3BsaXQoc3BsaXRSdWxlKS5tYXAodGhpcy5ub3JtYWxpemVUb2tlbi5iaW5kKHRoaXMsIHByb3AgPz8gJycpKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgfVxuICAgIGNvbnN0IHRyaW1Ub2tlbnMgPSB0cmltKHRva2Vucyk7XG4gICAgaWYgKCF0aGlzLmFsbG93RHVwbGljYXRlcykge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KHRyaW1Ub2tlbnMpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyaW1Ub2tlbnM7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVG9rZW5pemVyKGNvbmZpZyA9IHt9KSB7XG4gICAgaWYgKCFjb25maWcubGFuZ3VhZ2UpIHtcbiAgICAgICAgY29uZmlnLmxhbmd1YWdlID0gJ2VuZ2xpc2gnO1xuICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRFRF9MQU5HVUFHRVMuaW5jbHVkZXMoY29uZmlnLmxhbmd1YWdlKSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignTEFOR1VBR0VfTk9UX1NVUFBPUlRFRCcsIGNvbmZpZy5sYW5ndWFnZSk7XG4gICAgfVxuICAgIC8vIEhhbmRsZSBzdGVtbWluZyAtIEl0IGlzIGRpc2FibGVkIGJ5IGRlZmF1bHRcbiAgICBsZXQgc3RlbW1lcjtcbiAgICBpZiAoY29uZmlnLnN0ZW1taW5nIHx8IGNvbmZpZy5zdGVtbWVyICYmICEoJ3N0ZW1taW5nJyBpbiBjb25maWcpKSB7XG4gICAgICAgIGlmIChjb25maWcuc3RlbW1lcikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcuc3RlbW1lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX1NURU1NRVJfRlVOQ1RJT05fVFlQRScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RlbW1lciA9IGNvbmZpZy5zdGVtbWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5sYW5ndWFnZSA9PT0gJ2VuZ2xpc2gnKSB7XG4gICAgICAgICAgICAgICAgc3RlbW1lciA9IGVuZ2xpc2g7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdNSVNTSU5HX1NURU1NRVInLCBjb25maWcubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEhhbmRsZSBzdG9wd29yZHNcbiAgICBsZXQgc3RvcFdvcmRzO1xuICAgIGlmIChjb25maWcuc3RvcFdvcmRzICE9PSBmYWxzZSkge1xuICAgICAgICBzdG9wV29yZHMgPSBbXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29uZmlnLnN0b3BXb3JkcykpIHtcbiAgICAgICAgICAgIHN0b3BXb3JkcyA9IGNvbmZpZy5zdG9wV29yZHM7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZy5zdG9wV29yZHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN0b3BXb3JkcyA9IGF3YWl0IGNvbmZpZy5zdG9wV29yZHMoc3RvcFdvcmRzKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcuc3RvcFdvcmRzKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignQ1VTVE9NX1NUT1BfV09SRFNfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1ha2Ugc3VyZSBzdG9wV29yZHMgaXMganVzdCBhbiBhcnJheSBvZiBzdHJpbmdzXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdG9wV29yZHMpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignQ1VTVE9NX1NUT1BfV09SRFNfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWScpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiBzdG9wV29yZHMpe1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdDVVNUT01fU1RPUF9XT1JEU19NVVNUX0JFX0ZVTkNUSU9OX09SX0FSUkFZJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQ3JlYXRlIHRoZSB0b2tlbml6ZXJcbiAgICBjb25zdCB0b2tlbml6ZXIgPSB7XG4gICAgICAgIHRva2VuaXplLFxuICAgICAgICBsYW5ndWFnZTogY29uZmlnLmxhbmd1YWdlLFxuICAgICAgICBzdGVtbWVyLFxuICAgICAgICBzdGVtbWVyU2tpcFByb3BlcnRpZXM6IG5ldyBTZXQoY29uZmlnLnN0ZW1tZXJTa2lwUHJvcGVydGllcyA/IFtcbiAgICAgICAgICAgIGNvbmZpZy5zdGVtbWVyU2tpcFByb3BlcnRpZXNcbiAgICAgICAgXS5mbGF0KCkgOiBbXSksXG4gICAgICAgIHRva2VuaXplU2tpcFByb3BlcnRpZXM6IG5ldyBTZXQoY29uZmlnLnRva2VuaXplU2tpcFByb3BlcnRpZXMgPyBbXG4gICAgICAgICAgICBjb25maWcudG9rZW5pemVTa2lwUHJvcGVydGllc1xuICAgICAgICBdLmZsYXQoKSA6IFtdKSxcbiAgICAgICAgc3RvcFdvcmRzLFxuICAgICAgICBhbGxvd0R1cGxpY2F0ZXM6IEJvb2xlYW4oY29uZmlnLmFsbG93RHVwbGljYXRlcyksXG4gICAgICAgIG5vcm1hbGl6ZVRva2VuLFxuICAgICAgICBub3JtYWxpemF0aW9uQ2FjaGU6IG5ldyBNYXAoKVxuICAgIH07XG4gICAgdG9rZW5pemVyLnRva2VuaXplID0gdG9rZW5pemUuYmluZCh0b2tlbml6ZXIpO1xuICAgIHRva2VuaXplci5ub3JtYWxpemVUb2tlbiA9IG5vcm1hbGl6ZVRva2VuO1xuICAgIHJldHVybiB0b2tlbml6ZXI7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IGZvcm1hdEVsYXBzZWRUaW1lLCBnZXREb2N1bWVudEluZGV4SWQsIGdldERvY3VtZW50UHJvcGVydGllcywgdmFsaWRhdGVTY2hlbWEgfSBmcm9tICcuLi9jb21wb25lbnRzL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IGNyZWF0ZURvY3VtZW50c1N0b3JlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9kb2N1bWVudHMtc3RvcmUuanMnO1xuaW1wb3J0IHsgQVZBSUxBQkxFX1BMVUdJTl9IT09LUywgZ2V0QWxsUGx1Z2luc0J5SG9vayB9IGZyb20gJy4uL2NvbXBvbmVudHMvcGx1Z2lucy5qcyc7XG5pbXBvcnQgeyBGVU5DVElPTl9DT01QT05FTlRTLCBPQkpFQ1RfQ09NUE9ORU5UUyB9IGZyb20gJy4uL2NvbXBvbmVudHMvaG9va3MuanMnO1xuaW1wb3J0IHsgY3JlYXRlSW5kZXggfSBmcm9tICcuLi9jb21wb25lbnRzL2luZGV4LmpzJztcbmltcG9ydCB7IGNyZWF0ZUludGVybmFsRG9jdW1lbnRJRFN0b3JlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTb3J0ZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL3NvcnRlci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVUb2tlbml6ZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL3Rva2VuaXplci9pbmRleC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyB1bmlxdWVJZCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50cyhjb21wb25lbnRzKSB7XG4gICAgY29uc3QgZGVmYXVsdENvbXBvbmVudHMgPSB7XG4gICAgICAgIGZvcm1hdEVsYXBzZWRUaW1lLFxuICAgICAgICBnZXREb2N1bWVudEluZGV4SWQsXG4gICAgICAgIGdldERvY3VtZW50UHJvcGVydGllcyxcbiAgICAgICAgdmFsaWRhdGVTY2hlbWFcbiAgICB9O1xuICAgIGZvciAoY29uc3QgcmF3S2V5IG9mIEZVTkNUSU9OX0NPTVBPTkVOVFMpe1xuICAgICAgICBjb25zdCBrZXkgPSByYXdLZXk7XG4gICAgICAgIGlmIChjb21wb25lbnRzW2tleV0pIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50c1trZXldICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0NPTVBPTkVOVF9NVVNUX0JFX0ZVTkNUSU9OJywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVFNDIGlzIHVuYWJsZSB0byByZXNvbHZlIHRoaXNcbiAgICAgICAgICAgIGNvbXBvbmVudHNba2V5XSA9IGRlZmF1bHRDb21wb25lbnRzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCByYXdLZXkgb2YgT2JqZWN0LmtleXMoY29tcG9uZW50cykpe1xuICAgICAgICBpZiAoIU9CSkVDVF9DT01QT05FTlRTLmluY2x1ZGVzKHJhd0tleSkgJiYgIUZVTkNUSU9OX0NPTVBPTkVOVFMuaW5jbHVkZXMocmF3S2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1VOU1VQUE9SVEVEX0NPTVBPTkVOVCcsIHJhd0tleSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlKHsgc2NoZW1hICwgc29ydCAsIGxhbmd1YWdlICwgY29tcG9uZW50cyAsIGlkICwgcGx1Z2lucyAgfSkge1xuICAgIGlmICghY29tcG9uZW50cykge1xuICAgICAgICBjb21wb25lbnRzID0ge307XG4gICAgfVxuICAgIGlmICghaWQpIHtcbiAgICAgICAgaWQgPSBhd2FpdCB1bmlxdWVJZCgpO1xuICAgIH1cbiAgICBsZXQgdG9rZW5pemVyID0gY29tcG9uZW50cy50b2tlbml6ZXI7XG4gICAgbGV0IGluZGV4ID0gY29tcG9uZW50cy5pbmRleDtcbiAgICBsZXQgZG9jdW1lbnRzU3RvcmUgPSBjb21wb25lbnRzLmRvY3VtZW50c1N0b3JlO1xuICAgIGxldCBzb3J0ZXIgPSBjb21wb25lbnRzLnNvcnRlcjtcbiAgICBpZiAoIXRva2VuaXplcikge1xuICAgICAgICAvLyBVc2UgdGhlIGRlZmF1bHQgdG9rZW5pemVyXG4gICAgICAgIHRva2VuaXplciA9IGF3YWl0IGNyZWF0ZVRva2VuaXplcih7XG4gICAgICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UgPz8gJ2VuZ2xpc2gnXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIXRva2VuaXplci50b2tlbml6ZSkge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyB0b2tlbml6ZXIgZnVuY3Rpb24sIHdlIGFzc3VtZSB0aGlzIGlzIGEgVG9rZW5pemVyQ29uZmlnXG4gICAgICAgIHRva2VuaXplciA9IGF3YWl0IGNyZWF0ZVRva2VuaXplcih0b2tlbml6ZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbVRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICAgICAgdG9rZW5pemVyID0gY3VzdG9tVG9rZW5pemVyO1xuICAgIH1cbiAgICBpZiAoY29tcG9uZW50cy50b2tlbml6ZXIgJiYgbGFuZ3VhZ2UpIHtcbiAgICAgICAgLy8gQWNjZXB0IGxhbmd1YWdlIG9ubHkgaWYgYSB0b2tlbml6ZXIgaXMgbm90IHByb3ZpZGVkXG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdOT19MQU5HVUFHRV9XSVRIX0NVU1RPTV9UT0tFTklaRVInKTtcbiAgICB9XG4gICAgY29uc3QgaW50ZXJuYWxEb2N1bWVudFN0b3JlID0gY3JlYXRlSW50ZXJuYWxEb2N1bWVudElEU3RvcmUoKTtcbiAgICBpbmRleCB8fD0gYXdhaXQgY3JlYXRlSW5kZXgoKTtcbiAgICBzb3J0ZXIgfHw9IGF3YWl0IGNyZWF0ZVNvcnRlcigpO1xuICAgIGRvY3VtZW50c1N0b3JlIHx8PSBhd2FpdCBjcmVhdGVEb2N1bWVudHNTdG9yZSgpO1xuICAgIC8vIFZhbGlkYXRlIGFsbCBvdGhlciBjb21wb25lbnRzXG4gICAgdmFsaWRhdGVDb21wb25lbnRzKGNvbXBvbmVudHMpO1xuICAgIC8vIEFzc2lnbiBvbmx5IHJlY29nbml6ZWQgY29tcG9uZW50cyBhbmQgaG9va3NcbiAgICBjb25zdCB7IGdldERvY3VtZW50UHJvcGVydGllcyAsIGdldERvY3VtZW50SW5kZXhJZCAsIHZhbGlkYXRlU2NoZW1hICwgZm9ybWF0RWxhcHNlZFRpbWUgIH0gPSBjb21wb25lbnRzO1xuICAgIGNvbnN0IG9yYW1hID0ge1xuICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgY2FjaGVzOiB7fSxcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICB0b2tlbml6ZXIsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBzb3J0ZXIsXG4gICAgICAgIGRvY3VtZW50c1N0b3JlLFxuICAgICAgICBpbnRlcm5hbERvY3VtZW50SURTdG9yZTogaW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICBnZXREb2N1bWVudFByb3BlcnRpZXMsXG4gICAgICAgIGdldERvY3VtZW50SW5kZXhJZCxcbiAgICAgICAgdmFsaWRhdGVTY2hlbWEsXG4gICAgICAgIGJlZm9yZUluc2VydDogW10sXG4gICAgICAgIGFmdGVySW5zZXJ0OiBbXSxcbiAgICAgICAgYmVmb3JlUmVtb3ZlOiBbXSxcbiAgICAgICAgYWZ0ZXJSZW1vdmU6IFtdLFxuICAgICAgICBiZWZvcmVVcGRhdGU6IFtdLFxuICAgICAgICBhZnRlclVwZGF0ZTogW10sXG4gICAgICAgIGJlZm9yZVNlYXJjaDogW10sXG4gICAgICAgIGFmdGVyU2VhcmNoOiBbXSxcbiAgICAgICAgYmVmb3JlSW5zZXJ0TXVsdGlwbGU6IFtdLFxuICAgICAgICBhZnRlckluc2VydE11bHRpcGxlOiBbXSxcbiAgICAgICAgYmVmb3JlUmVtb3ZlTXVsdGlwbGU6IFtdLFxuICAgICAgICBhZnRlclJlbW92ZU11bHRpcGxlOiBbXSxcbiAgICAgICAgYWZ0ZXJVcGRhdGVNdWx0aXBsZTogW10sXG4gICAgICAgIGJlZm9yZVVwZGF0ZU11bHRpcGxlOiBbXSxcbiAgICAgICAgZm9ybWF0RWxhcHNlZFRpbWUsXG4gICAgICAgIGlkLFxuICAgICAgICBwbHVnaW5zXG4gICAgfTtcbiAgICBvcmFtYS5kYXRhID0ge1xuICAgICAgICBpbmRleDogYXdhaXQgb3JhbWEuaW5kZXguY3JlYXRlKG9yYW1hLCBpbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSksXG4gICAgICAgIGRvY3M6IGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmNyZWF0ZShvcmFtYSwgaW50ZXJuYWxEb2N1bWVudFN0b3JlKSxcbiAgICAgICAgc29ydGluZzogYXdhaXQgb3JhbWEuc29ydGVyLmNyZWF0ZShvcmFtYSwgaW50ZXJuYWxEb2N1bWVudFN0b3JlLCBzY2hlbWEsIHNvcnQpXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGhvb2sgb2YgQVZBSUxBQkxFX1BMVUdJTl9IT09LUyl7XG4gICAgICAgIG9yYW1hW2hvb2tdID0gKG9yYW1hW2hvb2tdID8/IFtdKS5jb25jYXQoZ2V0QWxsUGx1Z2luc0J5SG9vayhvcmFtYSwgaG9vaykpO1xuICAgIH1cbiAgICByZXR1cm4gb3JhbWE7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS5qcy5tYXAiLCJleHBvcnQgY29uc3Qga0luc2VydGlvbnMgPSBTeW1ib2woJ29yYW1hLmluc2VydGlvbnMnKTtcbmV4cG9ydCBjb25zdCBrUmVtb3ZhbHMgPSBTeW1ib2woJ29yYW1hLnJlbW92YWxzJyk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCIsInZhciBfZ2xvYmFsVGhpc19wcm9jZXNzO1xuaW1wb3J0IHsga0luc2VydGlvbnMsIGtSZW1vdmFscyB9IGZyb20gJy4uL3R5cGVzLmpzJztcbi8vIFdlYiBwbGF0Zm9ybXMgZG9uJ3QgaGF2ZSBwcm9jZXNzLiBSZWFjdC1OYXRpdmUgZG9lc24ndCBoYXZlIHByb2Nlc3MuZW1pdFdhcm5pbmcuXG5jb25zdCB3YXJuID0gKChfZ2xvYmFsVGhpc19wcm9jZXNzID0gZ2xvYmFsVGhpcy5wcm9jZXNzKSA9PT0gbnVsbCB8fCBfZ2xvYmFsVGhpc19wcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZ2xvYmFsVGhpc19wcm9jZXNzLmVtaXRXYXJuaW5nKSA/PyBmdW5jdGlvbiBlbWl0V2FybmluZyhtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgY29uc29sZS53YXJuKGBbV0FSTklOR10gWyR7b3B0aW9ucy5jb2RlfV0gJHttZXNzYWdlfWApO1xufTtcbmV4cG9ydCBmdW5jdGlvbiB0cmFja0luc2VydGlvbihvcmFtYSkge1xuICAgIGlmICh0eXBlb2Ygb3JhbWFba0luc2VydGlvbnNdICE9PSAnbnVtYmVyJykge1xuICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKT0+e1xuICAgICAgICAgICAgb3JhbWFba0luc2VydGlvbnNdID0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICAgICAgb3JhbWFba0luc2VydGlvbnNdID0gMDtcbiAgICB9XG4gICAgaWYgKG9yYW1hW2tJbnNlcnRpb25zXSA+IDEwMDApIHtcbiAgICAgICAgd2FybihcIk9yYW1hJ3MgaW5zZXJ0IG9wZXJhdGlvbiBpcyBzeW5jaHJvbm91cy4gUGxlYXNlIGF2b2lkIGluc2VydGluZyBhIGxhcmdlIG51bWJlciBvZiBkb2N1bWVudCBpbiBhIHNpbmdsZSBvcGVyYXRpb24gaW4gb3JkZXIgbm90IHRvIGJsb2NrIHRoZSBtYWluIHRocmVhZCBvciwgaW4gYWx0ZXJuYXRpdmUsIHBsZWFzZSB1c2UgaW5zZXJ0TXVsdGlwbGUuXCIsIHtcbiAgICAgICAgICAgIGNvZGU6ICdPUkFNQTAwMDEnXG4gICAgICAgIH0pO1xuICAgICAgICBvcmFtYVtrSW5zZXJ0aW9uc10gPSAtMTtcbiAgICB9IGVsc2UgaWYgKG9yYW1hW2tJbnNlcnRpb25zXSA+PSAwKSB7XG4gICAgICAgIG9yYW1hW2tJbnNlcnRpb25zXSsrO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmFja1JlbW92YWwob3JhbWEpIHtcbiAgICBpZiAodHlwZW9mIG9yYW1hW2tSZW1vdmFsc10gIT09ICdudW1iZXInKSB7XG4gICAgICAgIHF1ZXVlTWljcm90YXNrKCgpPT57XG4gICAgICAgICAgICBvcmFtYVtrUmVtb3ZhbHNdID0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICAgICAgb3JhbWFba1JlbW92YWxzXSA9IDA7XG4gICAgfVxuICAgIGlmIChvcmFtYVtrUmVtb3ZhbHNdID4gMTAwMCkge1xuICAgICAgICB3YXJuKFwiT3JhbWEncyByZW1vdmUgb3BlcmF0aW9uIGlzIHN5bmNocm9ub3VzLiBQbGVhc2UgYXZvaWQgcmVtb3ZpbmcgYSBsYXJnZSBudW1iZXIgb2YgZG9jdW1lbnQgaW4gYSBzaW5nbGUgb3BlcmF0aW9uIGluIG9yZGVyIG5vdCB0byBibG9jayB0aGUgbWFpbiB0aHJlYWQsIGluIGFsdGVybmF0aXZlLCBwbGVhc2UgdXNlIHVwZGF0ZU11bHRpcGxlLlwiLCB7XG4gICAgICAgICAgICBjb2RlOiAnT1JBTUEwMDAyJ1xuICAgICAgICB9KTtcbiAgICAgICAgb3JhbWFba1JlbW92YWxzXSA9IC0xO1xuICAgIH0gZWxzZSBpZiAob3JhbWFba1JlbW92YWxzXSA+PSAwKSB7XG4gICAgICAgIG9yYW1hW2tSZW1vdmFsc10rKztcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN5bmMtYmxvY2tpbmctY2hlY2tlci5qcy5tYXAiLCJpbXBvcnQgeyBpc0FycmF5VHlwZSwgaXNHZW9Qb2ludFR5cGUsIGlzVmVjdG9yVHlwZSB9IGZyb20gJy4uL2NvbXBvbmVudHMuanMnO1xuaW1wb3J0IHsgcnVuTXVsdGlwbGVIb29rLCBydW5TaW5nbGVIb29rIH0gZnJvbSAnLi4vY29tcG9uZW50cy9ob29rcy5qcyc7XG5pbXBvcnQgeyB0cmFja0luc2VydGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvc3luYy1ibG9ja2luZy1jaGVja2VyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnNlcnQob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcykge1xuICAgIGNvbnN0IGVycm9yUHJvcGVydHkgPSBhd2FpdCBvcmFtYS52YWxpZGF0ZVNjaGVtYShkb2MsIG9yYW1hLnNjaGVtYSk7XG4gICAgaWYgKGVycm9yUHJvcGVydHkpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1NDSEVNQV9WQUxJREFUSU9OX0ZBSUxVUkUnLCBlcnJvclByb3BlcnR5KTtcbiAgICB9XG4gICAgcmV0dXJuIGlubmVySW5zZXJ0KG9yYW1hLCBkb2MsIGxhbmd1YWdlLCBza2lwSG9va3MpO1xufVxuYXN5bmMgZnVuY3Rpb24gaW5uZXJJbnNlcnQob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcykge1xuICAgIGNvbnN0IHsgaW5kZXggLCBkb2NzICB9ID0gb3JhbWEuZGF0YTtcbiAgICBjb25zdCBpZCA9IGF3YWl0IG9yYW1hLmdldERvY3VtZW50SW5kZXhJZChkb2MpO1xuICAgIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdET0NVTUVOVF9JRF9NVVNUX0JFX1NUUklORycsIHR5cGVvZiBpZCk7XG4gICAgfVxuICAgIGlmICghYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUuc3RvcmUoZG9jcywgaWQsIGRvYykpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0RPQ1VNRU5UX0FMUkVBRFlfRVhJU1RTJywgaWQpO1xuICAgIH1cbiAgICBjb25zdCBkb2NzQ291bnQgPSBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5jb3VudChkb2NzKTtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBhd2FpdCBydW5TaW5nbGVIb29rKG9yYW1hLmJlZm9yZUluc2VydCwgb3JhbWEsIGlkLCBkb2MpO1xuICAgIH1cbiAgICBjb25zdCBpbmRleGFibGVQcm9wZXJ0aWVzID0gYXdhaXQgb3JhbWEuaW5kZXguZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXMoaW5kZXgpO1xuICAgIGNvbnN0IGluZGV4YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMgPSBhd2FpdCBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyhpbmRleCk7XG4gICAgY29uc3QgaW5kZXhhYmxlVmFsdWVzID0gYXdhaXQgb3JhbWEuZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzKGRvYywgaW5kZXhhYmxlUHJvcGVydGllcyk7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaW5kZXhhYmxlVmFsdWVzKSl7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY3R1YWxUeXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBpbmRleGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzW2tleV07XG4gICAgICAgIGlmIChpc0dlb1BvaW50VHlwZShleHBlY3RlZFR5cGUpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLmxvbiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbHVlLmxhdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1ZlY3RvclR5cGUoZXhwZWN0ZWRUeXBlKSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlUeXBlKGV4cGVjdGVkVHlwZSkgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZXhwZWN0ZWRUeXBlID09PSAnZW51bScgfHwgZXhwZWN0ZWRUeXBlID09PSAnZW51bVtdJykgJiYgKGFjdHVhbFR5cGUgPT09ICdzdHJpbmcnIHx8IGFjdHVhbFR5cGUgPT09ICdudW1iZXInKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdHVhbFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfRE9DVU1FTlRfUFJPUEVSVFknLCBrZXksIGV4cGVjdGVkVHlwZSwgYWN0dWFsVHlwZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIGluZGV4YWJsZVByb3BlcnRpZXMpe1xuICAgICAgICB2YXIgX29yYW1hX2luZGV4LCBfb3JhbWFfaW5kZXhfYmVmb3JlSW5zZXJ0LCBfb3JhbWFfaW5kZXgxLCBfb3JhbWFfaW5kZXhfYWZ0ZXJJbnNlcnQ7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaW5kZXhhYmxlVmFsdWVzW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gaW5kZXhhYmxlUHJvcGVydGllc1dpdGhUeXBlc1twcm9wXTtcbiAgICAgICAgYXdhaXQgKChfb3JhbWFfaW5kZXhfYmVmb3JlSW5zZXJ0ID0gKF9vcmFtYV9pbmRleCA9IG9yYW1hLmluZGV4KS5iZWZvcmVJbnNlcnQpID09PSBudWxsIHx8IF9vcmFtYV9pbmRleF9iZWZvcmVJbnNlcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcmFtYV9pbmRleF9iZWZvcmVJbnNlcnQuY2FsbChfb3JhbWFfaW5kZXgsIG9yYW1hLmRhdGEuaW5kZXgsIHByb3AsIGlkLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlLCBsYW5ndWFnZSwgb3JhbWEudG9rZW5pemVyLCBkb2NzQ291bnQpKTtcbiAgICAgICAgYXdhaXQgb3JhbWEuaW5kZXguaW5zZXJ0KG9yYW1hLmluZGV4LCBvcmFtYS5kYXRhLmluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIGV4cGVjdGVkVHlwZSwgbGFuZ3VhZ2UsIG9yYW1hLnRva2VuaXplciwgZG9jc0NvdW50KTtcbiAgICAgICAgYXdhaXQgKChfb3JhbWFfaW5kZXhfYWZ0ZXJJbnNlcnQgPSAoX29yYW1hX2luZGV4MSA9IG9yYW1hLmluZGV4KS5hZnRlckluc2VydCkgPT09IG51bGwgfHwgX29yYW1hX2luZGV4X2FmdGVySW5zZXJ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3JhbWFfaW5kZXhfYWZ0ZXJJbnNlcnQuY2FsbChfb3JhbWFfaW5kZXgxLCBvcmFtYS5kYXRhLmluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIGV4cGVjdGVkVHlwZSwgbGFuZ3VhZ2UsIG9yYW1hLnRva2VuaXplciwgZG9jc0NvdW50KSk7XG4gICAgfVxuICAgIGNvbnN0IHNvcnRhYmxlUHJvcGVydGllcyA9IGF3YWl0IG9yYW1hLnNvcnRlci5nZXRTb3J0YWJsZVByb3BlcnRpZXMob3JhbWEuZGF0YS5zb3J0aW5nKTtcbiAgICBjb25zdCBzb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMgPSBhd2FpdCBvcmFtYS5zb3J0ZXIuZ2V0U29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKG9yYW1hLmRhdGEuc29ydGluZyk7XG4gICAgY29uc3Qgc29ydGFibGVWYWx1ZXMgPSBhd2FpdCBvcmFtYS5nZXREb2N1bWVudFByb3BlcnRpZXMoZG9jLCBzb3J0YWJsZVByb3BlcnRpZXMpO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBzb3J0YWJsZVByb3BlcnRpZXMpe1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHNvcnRhYmxlVmFsdWVzW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzW3Byb3BdO1xuICAgICAgICBhd2FpdCBvcmFtYS5zb3J0ZXIuaW5zZXJ0KG9yYW1hLmRhdGEuc29ydGluZywgcHJvcCwgaWQsIHZhbHVlLCBleHBlY3RlZFR5cGUsIGxhbmd1YWdlKTtcbiAgICB9XG4gICAgaWYgKCFza2lwSG9va3MpIHtcbiAgICAgICAgYXdhaXQgcnVuU2luZ2xlSG9vayhvcmFtYS5hZnRlckluc2VydCwgb3JhbWEsIGlkLCBkb2MpO1xuICAgIH1cbiAgICB0cmFja0luc2VydGlvbihvcmFtYSk7XG4gICAgcmV0dXJuIGlkO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydE11bHRpcGxlKG9yYW1hLCBkb2NzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MsIHRpbWVvdXQpIHtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBhd2FpdCBydW5NdWx0aXBsZUhvb2sob3JhbWEuYmVmb3JlSW5zZXJ0TXVsdGlwbGUsIG9yYW1hLCBkb2NzKTtcbiAgICB9XG4gICAgLy8gVmFsaWRhdGUgYWxsIGRvY3VtZW50cyBiZWZvcmUgdGhlIGluc2VydGlvblxuICAgIGNvbnN0IGRvY3NMZW5ndGggPSBkb2NzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZG9jc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgZXJyb3JQcm9wZXJ0eSA9IGF3YWl0IG9yYW1hLnZhbGlkYXRlU2NoZW1hKGRvY3NbaV0sIG9yYW1hLnNjaGVtYSk7XG4gICAgICAgIGlmIChlcnJvclByb3BlcnR5KSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignU0NIRU1BX1ZBTElEQVRJT05fRkFJTFVSRScsIGVycm9yUHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbm5lckluc2VydE11bHRpcGxlKG9yYW1hLCBkb2NzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MsIHRpbWVvdXQpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlubmVySW5zZXJ0TXVsdGlwbGUob3JhbWEsIGRvY3MsIGJhdGNoU2l6ZSwgbGFuZ3VhZ2UsIHNraXBIb29rcywgdGltZW91dCkge1xuICAgIGlmICghYmF0Y2hTaXplKSB7XG4gICAgICAgIGJhdGNoU2l6ZSA9IDEwMDA7XG4gICAgfVxuICAgIHRpbWVvdXQgPSB0aW1lb3V0IHx8IDA7XG4gICAgY29uc3QgaWRzID0gW107XG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBhc3luYyBmdW5jdGlvbiBfaW5zZXJ0TXVsdGlwbGUoKSB7XG4gICAgICAgICAgICBjb25zdCBiYXRjaCA9IGRvY3Muc2xpY2UoaSAqIGJhdGNoU2l6ZSwgKGkgKyAxKSAqIGJhdGNoU2l6ZSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBpZiAoIWJhdGNoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRvYyBvZiBiYXRjaCl7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSBhd2FpdCBpbnNlcnQob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcyk7XG4gICAgICAgICAgICAgICAgICAgIGlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0VGltZW91dChfaW5zZXJ0TXVsdGlwbGUsIHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoX2luc2VydE11bHRpcGxlLCB0aW1lb3V0KTtcbiAgICB9KTtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBhd2FpdCBydW5NdWx0aXBsZUhvb2sob3JhbWEuYWZ0ZXJJbnNlcnRNdWx0aXBsZSwgb3JhbWEsIGRvY3MpO1xuICAgIH1cbiAgICByZXR1cm4gaWRzO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnNlcnQuanMubWFwIiwiaW1wb3J0IHsgZmluZFNpbWlsYXJWZWN0b3JzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb3NpbmUtc2ltaWxhcml0eS5qcyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbERvY3VtZW50SWQgfSBmcm9tICcuLi9jb21wb25lbnRzL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGZvcm1hdE5hbm9zZWNvbmRzLCBnZXROYW5vc2Vjb25kc1RpbWUgfSBmcm9tICcuLi91dGlscy5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoVmVjdG9yKG9yYW1hLCBwYXJhbXMpIHtcbiAgICBjb25zdCB0aW1lU3RhcnQgPSBhd2FpdCBnZXROYW5vc2Vjb25kc1RpbWUoKTtcbiAgICBsZXQgeyB2ZWN0b3IgIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgeyBwcm9wZXJ0eSAsIGxpbWl0ID0xMCAsIG9mZnNldCA9MCAsIGluY2x1ZGVWZWN0b3JzID1mYWxzZSAgfSA9IHBhcmFtcztcbiAgICBjb25zdCB2ZWN0b3JJbmRleCA9IG9yYW1hLmRhdGEuaW5kZXgudmVjdG9ySW5kZXhlc1twcm9wZXJ0eV07XG4gICAgY29uc3QgdmVjdG9yU2l6ZSA9IHZlY3RvckluZGV4LnNpemU7XG4gICAgY29uc3QgdmVjdG9ycyA9IHZlY3RvckluZGV4LnZlY3RvcnM7XG4gICAgaWYgKHZlY3Rvci5sZW5ndGggIT09IHZlY3RvclNpemUpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfSU5QVVRfVkVDVE9SJywgcHJvcGVydHksIHZlY3RvclNpemUsIHZlY3Rvci5sZW5ndGgpO1xuICAgIH1cbiAgICBpZiAoISh2ZWN0b3IgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpKSB7XG4gICAgICAgIHZlY3RvciA9IG5ldyBGbG9hdDMyQXJyYXkodmVjdG9yKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IGZpbmRTaW1pbGFyVmVjdG9ycyh2ZWN0b3IsIHZlY3RvcnMsIHZlY3RvclNpemUsIHBhcmFtcy5zaW1pbGFyaXR5KTtcbiAgICBjb25zdCBkb2NzID0gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogbGltaXRcbiAgICB9KTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGltaXQ7IGkrKyl7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdHNbaSArIG9mZnNldF07XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcmlnaW5hbElEID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCByZXN1bHQuaWQpO1xuICAgICAgICBjb25zdCBkb2MgPSBvcmFtYS5kYXRhLmRvY3MuZG9jc1tvcmlnaW5hbElEXTtcbiAgICAgICAgaWYgKGRvYykge1xuICAgICAgICAgICAgaWYgKCFpbmNsdWRlVmVjdG9ycykge1xuICAgICAgICAgICAgICAgIGRvY1twcm9wZXJ0eV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmV3RG9jID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXN1bHQuaWQsXG4gICAgICAgICAgICAgICAgc2NvcmU6IHJlc3VsdC5zY29yZSxcbiAgICAgICAgICAgICAgICBkb2N1bWVudDogZG9jXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZG9jc1tpXSA9IG5ld0RvYztcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0aW1lRW5kID0gYXdhaXQgZ2V0TmFub3NlY29uZHNUaW1lKCk7XG4gICAgY29uc3QgZWxhcHNlZFRpbWUgPSB0aW1lRW5kIC0gdGltZVN0YXJ0O1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvdW50OiByZXN1bHRzLmxlbmd0aCxcbiAgICAgICAgaGl0czogZG9jcy5maWx0ZXIoQm9vbGVhbiksXG4gICAgICAgIGVsYXBzZWQ6IHtcbiAgICAgICAgICAgIHJhdzogTnVtYmVyKGVsYXBzZWRUaW1lKSxcbiAgICAgICAgICAgIGZvcm1hdHRlZDogYXdhaXQgZm9ybWF0TmFub3NlY29uZHMoZWxhcHNlZFRpbWUpXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZWFyY2gtdmVjdG9yLmpzLm1hcCIsImV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkKG9yYW1hLCByYXcpIHtcbiAgICBvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZS5sb2FkKG9yYW1hLCByYXcuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUpO1xuICAgIG9yYW1hLmRhdGEuaW5kZXggPSBhd2FpdCBvcmFtYS5pbmRleC5sb2FkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCByYXcuaW5kZXgpO1xuICAgIG9yYW1hLmRhdGEuZG9jcyA9IGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmxvYWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIHJhdy5kb2NzKTtcbiAgICBvcmFtYS5kYXRhLnNvcnRpbmcgPSBhd2FpdCBvcmFtYS5zb3J0ZXIubG9hZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgcmF3LnNvcnRpbmcpO1xuICAgIG9yYW1hLnRva2VuaXplci5sYW5ndWFnZSA9IHJhdy5sYW5ndWFnZTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlKG9yYW1hKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW50ZXJuYWxEb2N1bWVudElEU3RvcmU6IG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLnNhdmUob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUpLFxuICAgICAgICBpbmRleDogYXdhaXQgb3JhbWEuaW5kZXguc2F2ZShvcmFtYS5kYXRhLmluZGV4KSxcbiAgICAgICAgZG9jczogYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUuc2F2ZShvcmFtYS5kYXRhLmRvY3MpLFxuICAgICAgICBzb3J0aW5nOiBhd2FpdCBvcmFtYS5zb3J0ZXIuc2F2ZShvcmFtYS5kYXRhLnNvcnRpbmcpLFxuICAgICAgICBsYW5ndWFnZTogb3JhbWEudG9rZW5pemVyLmxhbmd1YWdlXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VyaWFsaXphdGlvbi5qcy5tYXAiLCIvLyBJbnRlZ2VyIFV0aWxpdHlcbmV4cG9ydCB2YXIgVUlOVDMyX01BWCA9IDQyOTQ5NjcyOTU7XG4vLyBEYXRhVmlldyBleHRlbnNpb24gdG8gaGFuZGxlIGludDY0IC8gdWludDY0LFxuLy8gd2hlcmUgdGhlIGFjdHVhbCByYW5nZSBpcyA1My1iaXRzIGludGVnZXIgKGEuay5hLiBzYWZlIGludGVnZXIpXG5leHBvcnQgZnVuY3Rpb24gc2V0VWludDY0KHZpZXcsIG9mZnNldCwgdmFsdWUpIHtcbiAgICB2YXIgaGlnaCA9IHZhbHVlIC8gNDI5NDk2NzI5NjtcbiAgICB2YXIgbG93ID0gdmFsdWU7IC8vIGhpZ2ggYml0cyBhcmUgdHJ1bmNhdGVkIGJ5IERhdGFWaWV3XG4gICAgdmlldy5zZXRVaW50MzIob2Zmc2V0LCBoaWdoKTtcbiAgICB2aWV3LnNldFVpbnQzMihvZmZzZXQgKyA0LCBsb3cpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldEludDY0KHZpZXcsIG9mZnNldCwgdmFsdWUpIHtcbiAgICB2YXIgaGlnaCA9IE1hdGguZmxvb3IodmFsdWUgLyA0Mjk0OTY3Mjk2KTtcbiAgICB2YXIgbG93ID0gdmFsdWU7IC8vIGhpZ2ggYml0cyBhcmUgdHJ1bmNhdGVkIGJ5IERhdGFWaWV3XG4gICAgdmlldy5zZXRVaW50MzIob2Zmc2V0LCBoaWdoKTtcbiAgICB2aWV3LnNldFVpbnQzMihvZmZzZXQgKyA0LCBsb3cpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEludDY0KHZpZXcsIG9mZnNldCkge1xuICAgIHZhciBoaWdoID0gdmlldy5nZXRJbnQzMihvZmZzZXQpO1xuICAgIHZhciBsb3cgPSB2aWV3LmdldFVpbnQzMihvZmZzZXQgKyA0KTtcbiAgICByZXR1cm4gaGlnaCAqIDQyOTQ5NjcyOTYgKyBsb3c7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VWludDY0KHZpZXcsIG9mZnNldCkge1xuICAgIHZhciBoaWdoID0gdmlldy5nZXRVaW50MzIob2Zmc2V0KTtcbiAgICB2YXIgbG93ID0gdmlldy5nZXRVaW50MzIob2Zmc2V0ICsgNCk7XG4gICAgcmV0dXJuIGhpZ2ggKiA0Mjk0OTY3Mjk2ICsgbG93O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50Lm1qcy5tYXAiLCJ2YXIgX2EsIF9iLCBfYztcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS1jb25kaXRpb24gKi9cbmltcG9ydCB7IFVJTlQzMl9NQVggfSBmcm9tIFwiLi9pbnQubWpzXCI7XG52YXIgVEVYVF9FTkNPRElOR19BVkFJTEFCTEUgPSAodHlwZW9mIHByb2Nlc3MgPT09IFwidW5kZWZpbmVkXCIgfHwgKChfYSA9IHByb2Nlc3MgPT09IG51bGwgfHwgcHJvY2VzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvY2Vzcy5lbnYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtcIlRFWFRfRU5DT0RJTkdcIl0pICE9PSBcIm5ldmVyXCIpICYmXG4gICAgdHlwZW9mIFRleHRFbmNvZGVyICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIFRleHREZWNvZGVyICE9PSBcInVuZGVmaW5lZFwiO1xuZXhwb3J0IGZ1bmN0aW9uIHV0ZjhDb3VudChzdHIpIHtcbiAgICB2YXIgc3RyTGVuZ3RoID0gc3RyLmxlbmd0aDtcbiAgICB2YXIgYnl0ZUxlbmd0aCA9IDA7XG4gICAgdmFyIHBvcyA9IDA7XG4gICAgd2hpbGUgKHBvcyA8IHN0ckxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBzdHIuY2hhckNvZGVBdChwb3MrKyk7XG4gICAgICAgIGlmICgodmFsdWUgJiAweGZmZmZmZjgwKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gMS1ieXRlXG4gICAgICAgICAgICBieXRlTGVuZ3RoKys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgodmFsdWUgJiAweGZmZmZmODAwKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gMi1ieXRlc1xuICAgICAgICAgICAgYnl0ZUxlbmd0aCArPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaGFuZGxlIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICAgICAgICBpZiAodmFsdWUgPj0gMHhkODAwICYmIHZhbHVlIDw9IDB4ZGJmZikge1xuICAgICAgICAgICAgICAgIC8vIGhpZ2ggc3Vycm9nYXRlXG4gICAgICAgICAgICAgICAgaWYgKHBvcyA8IHN0ckxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0cmEgPSBzdHIuY2hhckNvZGVBdChwb3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKGV4dHJhICYgMHhmYzAwKSA9PT0gMHhkYzAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3BvcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gKCh2YWx1ZSAmIDB4M2ZmKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNmZikgKyAweDEwMDAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4ZmZmZjAwMDApID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gMy1ieXRlXG4gICAgICAgICAgICAgICAgYnl0ZUxlbmd0aCArPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gNC1ieXRlXG4gICAgICAgICAgICAgICAgYnl0ZUxlbmd0aCArPSA0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBieXRlTGVuZ3RoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHV0ZjhFbmNvZGVKcyhzdHIsIG91dHB1dCwgb3V0cHV0T2Zmc2V0KSB7XG4gICAgdmFyIHN0ckxlbmd0aCA9IHN0ci5sZW5ndGg7XG4gICAgdmFyIG9mZnNldCA9IG91dHB1dE9mZnNldDtcbiAgICB2YXIgcG9zID0gMDtcbiAgICB3aGlsZSAocG9zIDwgc3RyTGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHN0ci5jaGFyQ29kZUF0KHBvcysrKTtcbiAgICAgICAgaWYgKCh2YWx1ZSAmIDB4ZmZmZmZmODApID09PSAwKSB7XG4gICAgICAgICAgICAvLyAxLWJ5dGVcbiAgICAgICAgICAgIG91dHB1dFtvZmZzZXQrK10gPSB2YWx1ZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCh2YWx1ZSAmIDB4ZmZmZmY4MDApID09PSAwKSB7XG4gICAgICAgICAgICAvLyAyLWJ5dGVzXG4gICAgICAgICAgICBvdXRwdXRbb2Zmc2V0KytdID0gKCh2YWx1ZSA+PiA2KSAmIDB4MWYpIHwgMHhjMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBzdXJyb2dhdGUgcGFpclxuICAgICAgICAgICAgaWYgKHZhbHVlID49IDB4ZDgwMCAmJiB2YWx1ZSA8PSAweGRiZmYpIHtcbiAgICAgICAgICAgICAgICAvLyBoaWdoIHN1cnJvZ2F0ZVxuICAgICAgICAgICAgICAgIGlmIChwb3MgPCBzdHJMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dHJhID0gc3RyLmNoYXJDb2RlQXQocG9zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChleHRyYSAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKytwb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICgodmFsdWUgJiAweDNmZikgPDwgMTApICsgKGV4dHJhICYgMHgzZmYpICsgMHgxMDAwMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodmFsdWUgJiAweGZmZmYwMDAwKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIDMtYnl0ZVxuICAgICAgICAgICAgICAgIG91dHB1dFtvZmZzZXQrK10gPSAoKHZhbHVlID4+IDEyKSAmIDB4MGYpIHwgMHhlMDtcbiAgICAgICAgICAgICAgICBvdXRwdXRbb2Zmc2V0KytdID0gKCh2YWx1ZSA+PiA2KSAmIDB4M2YpIHwgMHg4MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIDQtYnl0ZVxuICAgICAgICAgICAgICAgIG91dHB1dFtvZmZzZXQrK10gPSAoKHZhbHVlID4+IDE4KSAmIDB4MDcpIHwgMHhmMDtcbiAgICAgICAgICAgICAgICBvdXRwdXRbb2Zmc2V0KytdID0gKCh2YWx1ZSA+PiAxMikgJiAweDNmKSB8IDB4ODA7XG4gICAgICAgICAgICAgICAgb3V0cHV0W29mZnNldCsrXSA9ICgodmFsdWUgPj4gNikgJiAweDNmKSB8IDB4ODA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0W29mZnNldCsrXSA9ICh2YWx1ZSAmIDB4M2YpIHwgMHg4MDtcbiAgICB9XG59XG52YXIgc2hhcmVkVGV4dEVuY29kZXIgPSBURVhUX0VOQ09ESU5HX0FWQUlMQUJMRSA/IG5ldyBUZXh0RW5jb2RlcigpIDogdW5kZWZpbmVkO1xuZXhwb3J0IHZhciBURVhUX0VOQ09ERVJfVEhSRVNIT0xEID0gIVRFWFRfRU5DT0RJTkdfQVZBSUxBQkxFXG4gICAgPyBVSU5UMzJfTUFYXG4gICAgOiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiAoKF9iID0gcHJvY2VzcyA9PT0gbnVsbCB8fCBwcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9jZXNzLmVudikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iW1wiVEVYVF9FTkNPRElOR1wiXSkgIT09IFwiZm9yY2VcIlxuICAgICAgICA/IDIwMFxuICAgICAgICA6IDA7XG5mdW5jdGlvbiB1dGY4RW5jb2RlVEVlbmNvZGUoc3RyLCBvdXRwdXQsIG91dHB1dE9mZnNldCkge1xuICAgIG91dHB1dC5zZXQoc2hhcmVkVGV4dEVuY29kZXIuZW5jb2RlKHN0ciksIG91dHB1dE9mZnNldCk7XG59XG5mdW5jdGlvbiB1dGY4RW5jb2RlVEVlbmNvZGVJbnRvKHN0ciwgb3V0cHV0LCBvdXRwdXRPZmZzZXQpIHtcbiAgICBzaGFyZWRUZXh0RW5jb2Rlci5lbmNvZGVJbnRvKHN0ciwgb3V0cHV0LnN1YmFycmF5KG91dHB1dE9mZnNldCkpO1xufVxuZXhwb3J0IHZhciB1dGY4RW5jb2RlVEUgPSAoc2hhcmVkVGV4dEVuY29kZXIgPT09IG51bGwgfHwgc2hhcmVkVGV4dEVuY29kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNoYXJlZFRleHRFbmNvZGVyLmVuY29kZUludG8pID8gdXRmOEVuY29kZVRFZW5jb2RlSW50byA6IHV0ZjhFbmNvZGVURWVuY29kZTtcbnZhciBDSFVOS19TSVpFID0gNDA5NjtcbmV4cG9ydCBmdW5jdGlvbiB1dGY4RGVjb2RlSnMoYnl0ZXMsIGlucHV0T2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gICAgdmFyIG9mZnNldCA9IGlucHV0T2Zmc2V0O1xuICAgIHZhciBlbmQgPSBvZmZzZXQgKyBieXRlTGVuZ3RoO1xuICAgIHZhciB1bml0cyA9IFtdO1xuICAgIHZhciByZXN1bHQgPSBcIlwiO1xuICAgIHdoaWxlIChvZmZzZXQgPCBlbmQpIHtcbiAgICAgICAgdmFyIGJ5dGUxID0gYnl0ZXNbb2Zmc2V0KytdO1xuICAgICAgICBpZiAoKGJ5dGUxICYgMHg4MCkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIDEgYnl0ZVxuICAgICAgICAgICAgdW5pdHMucHVzaChieXRlMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGJ5dGUxICYgMHhlMCkgPT09IDB4YzApIHtcbiAgICAgICAgICAgIC8vIDIgYnl0ZXNcbiAgICAgICAgICAgIHZhciBieXRlMiA9IGJ5dGVzW29mZnNldCsrXSAmIDB4M2Y7XG4gICAgICAgICAgICB1bml0cy5wdXNoKCgoYnl0ZTEgJiAweDFmKSA8PCA2KSB8IGJ5dGUyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoYnl0ZTEgJiAweGYwKSA9PT0gMHhlMCkge1xuICAgICAgICAgICAgLy8gMyBieXRlc1xuICAgICAgICAgICAgdmFyIGJ5dGUyID0gYnl0ZXNbb2Zmc2V0KytdICYgMHgzZjtcbiAgICAgICAgICAgIHZhciBieXRlMyA9IGJ5dGVzW29mZnNldCsrXSAmIDB4M2Y7XG4gICAgICAgICAgICB1bml0cy5wdXNoKCgoYnl0ZTEgJiAweDFmKSA8PCAxMikgfCAoYnl0ZTIgPDwgNikgfCBieXRlMyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGJ5dGUxICYgMHhmOCkgPT09IDB4ZjApIHtcbiAgICAgICAgICAgIC8vIDQgYnl0ZXNcbiAgICAgICAgICAgIHZhciBieXRlMiA9IGJ5dGVzW29mZnNldCsrXSAmIDB4M2Y7XG4gICAgICAgICAgICB2YXIgYnl0ZTMgPSBieXRlc1tvZmZzZXQrK10gJiAweDNmO1xuICAgICAgICAgICAgdmFyIGJ5dGU0ID0gYnl0ZXNbb2Zmc2V0KytdICYgMHgzZjtcbiAgICAgICAgICAgIHZhciB1bml0ID0gKChieXRlMSAmIDB4MDcpIDw8IDB4MTIpIHwgKGJ5dGUyIDw8IDB4MGMpIHwgKGJ5dGUzIDw8IDB4MDYpIHwgYnl0ZTQ7XG4gICAgICAgICAgICBpZiAodW5pdCA+IDB4ZmZmZikge1xuICAgICAgICAgICAgICAgIHVuaXQgLT0gMHgxMDAwMDtcbiAgICAgICAgICAgICAgICB1bml0cy5wdXNoKCgodW5pdCA+Pj4gMTApICYgMHgzZmYpIHwgMHhkODAwKTtcbiAgICAgICAgICAgICAgICB1bml0ID0gMHhkYzAwIHwgKHVuaXQgJiAweDNmZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bml0cy5wdXNoKHVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdW5pdHMucHVzaChieXRlMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuaXRzLmxlbmd0aCA+PSBDSFVOS19TSVpFKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIHVuaXRzKTtcbiAgICAgICAgICAgIHVuaXRzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVuaXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCB1bml0cyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG52YXIgc2hhcmVkVGV4dERlY29kZXIgPSBURVhUX0VOQ09ESU5HX0FWQUlMQUJMRSA/IG5ldyBUZXh0RGVjb2RlcigpIDogbnVsbDtcbmV4cG9ydCB2YXIgVEVYVF9ERUNPREVSX1RIUkVTSE9MRCA9ICFURVhUX0VOQ09ESU5HX0FWQUlMQUJMRVxuICAgID8gVUlOVDMyX01BWFxuICAgIDogdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgKChfYyA9IHByb2Nlc3MgPT09IG51bGwgfHwgcHJvY2VzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvY2Vzcy5lbnYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1tcIlRFWFRfREVDT0RFUlwiXSkgIT09IFwiZm9yY2VcIlxuICAgICAgICA/IDIwMFxuICAgICAgICA6IDA7XG5leHBvcnQgZnVuY3Rpb24gdXRmOERlY29kZVREKGJ5dGVzLCBpbnB1dE9mZnNldCwgYnl0ZUxlbmd0aCkge1xuICAgIHZhciBzdHJpbmdCeXRlcyA9IGJ5dGVzLnN1YmFycmF5KGlucHV0T2Zmc2V0LCBpbnB1dE9mZnNldCArIGJ5dGVMZW5ndGgpO1xuICAgIHJldHVybiBzaGFyZWRUZXh0RGVjb2Rlci5kZWNvZGUoc3RyaW5nQnl0ZXMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRmOC5tanMubWFwIiwiLyoqXG4gKiBFeHREYXRhIGlzIHVzZWQgdG8gaGFuZGxlIEV4dGVuc2lvbiBUeXBlcyB0aGF0IGFyZSBub3QgcmVnaXN0ZXJlZCB0byBFeHRlbnNpb25Db2RlYy5cbiAqL1xudmFyIEV4dERhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXh0RGF0YSh0eXBlLCBkYXRhKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuICAgIHJldHVybiBFeHREYXRhO1xufSgpKTtcbmV4cG9ydCB7IEV4dERhdGEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV4dERhdGEubWpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgRGVjb2RlRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlY29kZUVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlY29kZUVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSkgfHwgdGhpcztcbiAgICAgICAgLy8gZml4IHRoZSBwcm90b3R5cGUgY2hhaW4gaW4gYSBjcm9zcy1wbGF0Zm9ybSB3YXlcbiAgICAgICAgdmFyIHByb3RvID0gT2JqZWN0LmNyZWF0ZShEZWNvZGVFcnJvci5wcm90b3R5cGUpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIHByb3RvKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogRGVjb2RlRXJyb3IubmFtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIERlY29kZUVycm9yO1xufShFcnJvcikpO1xuZXhwb3J0IHsgRGVjb2RlRXJyb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlY29kZUVycm9yLm1qcy5tYXAiLCIvLyBodHRwczovL2dpdGh1Yi5jb20vbXNncGFjay9tc2dwYWNrL2Jsb2IvbWFzdGVyL3NwZWMubWQjdGltZXN0YW1wLWV4dGVuc2lvbi10eXBlXG5pbXBvcnQgeyBEZWNvZGVFcnJvciB9IGZyb20gXCIuL0RlY29kZUVycm9yLm1qc1wiO1xuaW1wb3J0IHsgZ2V0SW50NjQsIHNldEludDY0IH0gZnJvbSBcIi4vdXRpbHMvaW50Lm1qc1wiO1xuZXhwb3J0IHZhciBFWFRfVElNRVNUQU1QID0gLTE7XG52YXIgVElNRVNUQU1QMzJfTUFYX1NFQyA9IDB4MTAwMDAwMDAwIC0gMTsgLy8gMzItYml0IHVuc2lnbmVkIGludFxudmFyIFRJTUVTVEFNUDY0X01BWF9TRUMgPSAweDQwMDAwMDAwMCAtIDE7IC8vIDM0LWJpdCB1bnNpZ25lZCBpbnRcbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVUaW1lU3BlY1RvVGltZXN0YW1wKF9hKSB7XG4gICAgdmFyIHNlYyA9IF9hLnNlYywgbnNlYyA9IF9hLm5zZWM7XG4gICAgaWYgKHNlYyA+PSAwICYmIG5zZWMgPj0gMCAmJiBzZWMgPD0gVElNRVNUQU1QNjRfTUFYX1NFQykge1xuICAgICAgICAvLyBIZXJlIHNlYyA+PSAwICYmIG5zZWMgPj0gMFxuICAgICAgICBpZiAobnNlYyA9PT0gMCAmJiBzZWMgPD0gVElNRVNUQU1QMzJfTUFYX1NFQykge1xuICAgICAgICAgICAgLy8gdGltZXN0YW1wIDMyID0geyBzZWMzMiAodW5zaWduZWQpIH1cbiAgICAgICAgICAgIHZhciBydiA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcocnYuYnVmZmVyKTtcbiAgICAgICAgICAgIHZpZXcuc2V0VWludDMyKDAsIHNlYyk7XG4gICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0aW1lc3RhbXAgNjQgPSB7IG5zZWMzMCAodW5zaWduZWQpLCBzZWMzNCAodW5zaWduZWQpIH1cbiAgICAgICAgICAgIHZhciBzZWNIaWdoID0gc2VjIC8gMHgxMDAwMDAwMDA7XG4gICAgICAgICAgICB2YXIgc2VjTG93ID0gc2VjICYgMHhmZmZmZmZmZjtcbiAgICAgICAgICAgIHZhciBydiA9IG5ldyBVaW50OEFycmF5KDgpO1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcocnYuYnVmZmVyKTtcbiAgICAgICAgICAgIC8vIG5zZWMzMCB8IHNlY0hpZ2gyXG4gICAgICAgICAgICB2aWV3LnNldFVpbnQzMigwLCAobnNlYyA8PCAyKSB8IChzZWNIaWdoICYgMHgzKSk7XG4gICAgICAgICAgICAvLyBzZWNMb3czMlxuICAgICAgICAgICAgdmlldy5zZXRVaW50MzIoNCwgc2VjTG93KTtcbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gdGltZXN0YW1wIDk2ID0geyBuc2VjMzIgKHVuc2lnbmVkKSwgc2VjNjQgKHNpZ25lZCkgfVxuICAgICAgICB2YXIgcnYgPSBuZXcgVWludDhBcnJheSgxMik7XG4gICAgICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KHJ2LmJ1ZmZlcik7XG4gICAgICAgIHZpZXcuc2V0VWludDMyKDAsIG5zZWMpO1xuICAgICAgICBzZXRJbnQ2NCh2aWV3LCA0LCBzZWMpO1xuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZURhdGVUb1RpbWVTcGVjKGRhdGUpIHtcbiAgICB2YXIgbXNlYyA9IGRhdGUuZ2V0VGltZSgpO1xuICAgIHZhciBzZWMgPSBNYXRoLmZsb29yKG1zZWMgLyAxZTMpO1xuICAgIHZhciBuc2VjID0gKG1zZWMgLSBzZWMgKiAxZTMpICogMWU2O1xuICAgIC8vIE5vcm1hbGl6ZXMgeyBzZWMsIG5zZWMgfSB0byBlbnN1cmUgbnNlYyBpcyB1bnNpZ25lZC5cbiAgICB2YXIgbnNlY0luU2VjID0gTWF0aC5mbG9vcihuc2VjIC8gMWU5KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWM6IHNlYyArIG5zZWNJblNlYyxcbiAgICAgICAgbnNlYzogbnNlYyAtIG5zZWNJblNlYyAqIDFlOSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVRpbWVzdGFtcEV4dGVuc2lvbihvYmplY3QpIHtcbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICB2YXIgdGltZVNwZWMgPSBlbmNvZGVEYXRlVG9UaW1lU3BlYyhvYmplY3QpO1xuICAgICAgICByZXR1cm4gZW5jb2RlVGltZVNwZWNUb1RpbWVzdGFtcCh0aW1lU3BlYyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlVGltZXN0YW1wVG9UaW1lU3BlYyhkYXRhKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICAvLyBkYXRhIG1heSBiZSAzMiwgNjQsIG9yIDk2IGJpdHNcbiAgICBzd2l0Y2ggKGRhdGEuYnl0ZUxlbmd0aCkge1xuICAgICAgICBjYXNlIDQ6IHtcbiAgICAgICAgICAgIC8vIHRpbWVzdGFtcCAzMiA9IHsgc2VjMzIgfVxuICAgICAgICAgICAgdmFyIHNlYyA9IHZpZXcuZ2V0VWludDMyKDApO1xuICAgICAgICAgICAgdmFyIG5zZWMgPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgc2VjOiBzZWMsIG5zZWM6IG5zZWMgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDg6IHtcbiAgICAgICAgICAgIC8vIHRpbWVzdGFtcCA2NCA9IHsgbnNlYzMwLCBzZWMzNCB9XG4gICAgICAgICAgICB2YXIgbnNlYzMwQW5kU2VjSGlnaDIgPSB2aWV3LmdldFVpbnQzMigwKTtcbiAgICAgICAgICAgIHZhciBzZWNMb3czMiA9IHZpZXcuZ2V0VWludDMyKDQpO1xuICAgICAgICAgICAgdmFyIHNlYyA9IChuc2VjMzBBbmRTZWNIaWdoMiAmIDB4MykgKiAweDEwMDAwMDAwMCArIHNlY0xvdzMyO1xuICAgICAgICAgICAgdmFyIG5zZWMgPSBuc2VjMzBBbmRTZWNIaWdoMiA+Pj4gMjtcbiAgICAgICAgICAgIHJldHVybiB7IHNlYzogc2VjLCBuc2VjOiBuc2VjIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAxMjoge1xuICAgICAgICAgICAgLy8gdGltZXN0YW1wIDk2ID0geyBuc2VjMzIgKHVuc2lnbmVkKSwgc2VjNjQgKHNpZ25lZCkgfVxuICAgICAgICAgICAgdmFyIHNlYyA9IGdldEludDY0KHZpZXcsIDQpO1xuICAgICAgICAgICAgdmFyIG5zZWMgPSB2aWV3LmdldFVpbnQzMigwKTtcbiAgICAgICAgICAgIHJldHVybiB7IHNlYzogc2VjLCBuc2VjOiBuc2VjIH07XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBEZWNvZGVFcnJvcihcIlVucmVjb2duaXplZCBkYXRhIHNpemUgZm9yIHRpbWVzdGFtcCAoZXhwZWN0ZWQgNCwgOCwgb3IgMTIpOiBcIi5jb25jYXQoZGF0YS5sZW5ndGgpKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlVGltZXN0YW1wRXh0ZW5zaW9uKGRhdGEpIHtcbiAgICB2YXIgdGltZVNwZWMgPSBkZWNvZGVUaW1lc3RhbXBUb1RpbWVTcGVjKGRhdGEpO1xuICAgIHJldHVybiBuZXcgRGF0ZSh0aW1lU3BlYy5zZWMgKiAxZTMgKyB0aW1lU3BlYy5uc2VjIC8gMWU2KTtcbn1cbmV4cG9ydCB2YXIgdGltZXN0YW1wRXh0ZW5zaW9uID0ge1xuICAgIHR5cGU6IEVYVF9USU1FU1RBTVAsXG4gICAgZW5jb2RlOiBlbmNvZGVUaW1lc3RhbXBFeHRlbnNpb24sXG4gICAgZGVjb2RlOiBkZWNvZGVUaW1lc3RhbXBFeHRlbnNpb24sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZXN0YW1wLm1qcy5tYXAiLCIvLyBFeHRlbnNpb25Db2RlYyB0byBoYW5kbGUgTWVzc2FnZVBhY2sgZXh0ZW5zaW9uc1xuaW1wb3J0IHsgRXh0RGF0YSB9IGZyb20gXCIuL0V4dERhdGEubWpzXCI7XG5pbXBvcnQgeyB0aW1lc3RhbXBFeHRlbnNpb24gfSBmcm9tIFwiLi90aW1lc3RhbXAubWpzXCI7XG52YXIgRXh0ZW5zaW9uQ29kZWMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXh0ZW5zaW9uQ29kZWMoKSB7XG4gICAgICAgIC8vIGJ1aWx0LWluIGV4dGVuc2lvbnNcbiAgICAgICAgdGhpcy5idWlsdEluRW5jb2RlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5idWlsdEluRGVjb2RlcnMgPSBbXTtcbiAgICAgICAgLy8gY3VzdG9tIGV4dGVuc2lvbnNcbiAgICAgICAgdGhpcy5lbmNvZGVycyA9IFtdO1xuICAgICAgICB0aGlzLmRlY29kZXJzID0gW107XG4gICAgICAgIHRoaXMucmVnaXN0ZXIodGltZXN0YW1wRXh0ZW5zaW9uKTtcbiAgICB9XG4gICAgRXh0ZW5zaW9uQ29kZWMucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB0eXBlID0gX2EudHlwZSwgZW5jb2RlID0gX2EuZW5jb2RlLCBkZWNvZGUgPSBfYS5kZWNvZGU7XG4gICAgICAgIGlmICh0eXBlID49IDApIHtcbiAgICAgICAgICAgIC8vIGN1c3RvbSBleHRlbnNpb25zXG4gICAgICAgICAgICB0aGlzLmVuY29kZXJzW3R5cGVdID0gZW5jb2RlO1xuICAgICAgICAgICAgdGhpcy5kZWNvZGVyc1t0eXBlXSA9IGRlY29kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGJ1aWx0LWluIGV4dGVuc2lvbnNcbiAgICAgICAgICAgIHZhciBpbmRleCA9IDEgKyB0eXBlO1xuICAgICAgICAgICAgdGhpcy5idWlsdEluRW5jb2RlcnNbaW5kZXhdID0gZW5jb2RlO1xuICAgICAgICAgICAgdGhpcy5idWlsdEluRGVjb2RlcnNbaW5kZXhdID0gZGVjb2RlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFeHRlbnNpb25Db2RlYy5wcm90b3R5cGUudHJ5VG9FbmNvZGUgPSBmdW5jdGlvbiAob2JqZWN0LCBjb250ZXh0KSB7XG4gICAgICAgIC8vIGJ1aWx0LWluIGV4dGVuc2lvbnNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJ1aWx0SW5FbmNvZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGVuY29kZUV4dCA9IHRoaXMuYnVpbHRJbkVuY29kZXJzW2ldO1xuICAgICAgICAgICAgaWYgKGVuY29kZUV4dCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBlbmNvZGVFeHQob2JqZWN0LCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gLTEgLSBpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEV4dERhdGEodHlwZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGN1c3RvbSBleHRlbnNpb25zXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lbmNvZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGVuY29kZUV4dCA9IHRoaXMuZW5jb2RlcnNbaV07XG4gICAgICAgICAgICBpZiAoZW5jb2RlRXh0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGVuY29kZUV4dChvYmplY3QsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEV4dERhdGEodHlwZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBFeHREYXRhKSB7XG4gICAgICAgICAgICAvLyB0byBrZWVwIEV4dERhdGEgYXMgaXNcbiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBFeHRlbnNpb25Db2RlYy5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGRhdGEsIHR5cGUsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGRlY29kZUV4dCA9IHR5cGUgPCAwID8gdGhpcy5idWlsdEluRGVjb2RlcnNbLTEgLSB0eXBlXSA6IHRoaXMuZGVjb2RlcnNbdHlwZV07XG4gICAgICAgIGlmIChkZWNvZGVFeHQpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWNvZGVFeHQoZGF0YSwgdHlwZSwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBkZWNvZGUoKSBkb2VzIG5vdCBmYWlsLCByZXR1cm5zIEV4dERhdGEgaW5zdGVhZC5cbiAgICAgICAgICAgIHJldHVybiBuZXcgRXh0RGF0YSh0eXBlLCBkYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRXh0ZW5zaW9uQ29kZWMuZGVmYXVsdENvZGVjID0gbmV3IEV4dGVuc2lvbkNvZGVjKCk7XG4gICAgcmV0dXJuIEV4dGVuc2lvbkNvZGVjO1xufSgpKTtcbmV4cG9ydCB7IEV4dGVuc2lvbkNvZGVjIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FeHRlbnNpb25Db2RlYy5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVVpbnQ4QXJyYXkoYnVmZmVyKSB7XG4gICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGJ1ZmZlcikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGJ1ZmZlci5idWZmZXIsIGJ1ZmZlci5ieXRlT2Zmc2V0LCBidWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQXJyYXlMaWtlPG51bWJlcj5cbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShidWZmZXIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEYXRhVmlldyhidWZmZXIpIHtcbiAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhVmlldyhidWZmZXIpO1xuICAgIH1cbiAgICB2YXIgYnVmZmVyVmlldyA9IGVuc3VyZVVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICByZXR1cm4gbmV3IERhdGFWaWV3KGJ1ZmZlclZpZXcuYnVmZmVyLCBidWZmZXJWaWV3LmJ5dGVPZmZzZXQsIGJ1ZmZlclZpZXcuYnl0ZUxlbmd0aCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlZEFycmF5cy5tanMubWFwIiwiaW1wb3J0IHsgdXRmOEVuY29kZUpzLCB1dGY4Q291bnQsIFRFWFRfRU5DT0RFUl9USFJFU0hPTEQsIHV0ZjhFbmNvZGVURSB9IGZyb20gXCIuL3V0aWxzL3V0ZjgubWpzXCI7XG5pbXBvcnQgeyBFeHRlbnNpb25Db2RlYyB9IGZyb20gXCIuL0V4dGVuc2lvbkNvZGVjLm1qc1wiO1xuaW1wb3J0IHsgc2V0SW50NjQsIHNldFVpbnQ2NCB9IGZyb20gXCIuL3V0aWxzL2ludC5tanNcIjtcbmltcG9ydCB7IGVuc3VyZVVpbnQ4QXJyYXkgfSBmcm9tIFwiLi91dGlscy90eXBlZEFycmF5cy5tanNcIjtcbmV4cG9ydCB2YXIgREVGQVVMVF9NQVhfREVQVEggPSAxMDA7XG5leHBvcnQgdmFyIERFRkFVTFRfSU5JVElBTF9CVUZGRVJfU0laRSA9IDIwNDg7XG52YXIgRW5jb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFbmNvZGVyKGV4dGVuc2lvbkNvZGVjLCBjb250ZXh0LCBtYXhEZXB0aCwgaW5pdGlhbEJ1ZmZlclNpemUsIHNvcnRLZXlzLCBmb3JjZUZsb2F0MzIsIGlnbm9yZVVuZGVmaW5lZCwgZm9yY2VJbnRlZ2VyVG9GbG9hdCkge1xuICAgICAgICBpZiAoZXh0ZW5zaW9uQ29kZWMgPT09IHZvaWQgMCkgeyBleHRlbnNpb25Db2RlYyA9IEV4dGVuc2lvbkNvZGVjLmRlZmF1bHRDb2RlYzsgfVxuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSB1bmRlZmluZWQ7IH1cbiAgICAgICAgaWYgKG1heERlcHRoID09PSB2b2lkIDApIHsgbWF4RGVwdGggPSBERUZBVUxUX01BWF9ERVBUSDsgfVxuICAgICAgICBpZiAoaW5pdGlhbEJ1ZmZlclNpemUgPT09IHZvaWQgMCkgeyBpbml0aWFsQnVmZmVyU2l6ZSA9IERFRkFVTFRfSU5JVElBTF9CVUZGRVJfU0laRTsgfVxuICAgICAgICBpZiAoc29ydEtleXMgPT09IHZvaWQgMCkgeyBzb3J0S2V5cyA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChmb3JjZUZsb2F0MzIgPT09IHZvaWQgMCkgeyBmb3JjZUZsb2F0MzIgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoaWdub3JlVW5kZWZpbmVkID09PSB2b2lkIDApIHsgaWdub3JlVW5kZWZpbmVkID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKGZvcmNlSW50ZWdlclRvRmxvYXQgPT09IHZvaWQgMCkgeyBmb3JjZUludGVnZXJUb0Zsb2F0ID0gZmFsc2U7IH1cbiAgICAgICAgdGhpcy5leHRlbnNpb25Db2RlYyA9IGV4dGVuc2lvbkNvZGVjO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLm1heERlcHRoID0gbWF4RGVwdGg7XG4gICAgICAgIHRoaXMuaW5pdGlhbEJ1ZmZlclNpemUgPSBpbml0aWFsQnVmZmVyU2l6ZTtcbiAgICAgICAgdGhpcy5zb3J0S2V5cyA9IHNvcnRLZXlzO1xuICAgICAgICB0aGlzLmZvcmNlRmxvYXQzMiA9IGZvcmNlRmxvYXQzMjtcbiAgICAgICAgdGhpcy5pZ25vcmVVbmRlZmluZWQgPSBpZ25vcmVVbmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZm9yY2VJbnRlZ2VyVG9GbG9hdCA9IGZvcmNlSW50ZWdlclRvRmxvYXQ7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcih0aGlzLmluaXRpYWxCdWZmZXJTaXplKSk7XG4gICAgICAgIHRoaXMuYnl0ZXMgPSBuZXcgVWludDhBcnJheSh0aGlzLnZpZXcuYnVmZmVyKTtcbiAgICB9XG4gICAgRW5jb2Rlci5wcm90b3R5cGUucmVpbml0aWFsaXplU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYWxtb3N0IGVxdWl2YWxlbnQgdG8ge0BsaW5rIEVuY29kZXIjZW5jb2RlfSwgYnV0IGl0IHJldHVybnMgYW4gcmVmZXJlbmNlIG9mIHRoZSBlbmNvZGVyJ3MgaW50ZXJuYWwgYnVmZmVyIGFuZCB0aHVzIG11Y2ggZmFzdGVyIHRoYW4ge0BsaW5rIEVuY29kZXIjZW5jb2RlfS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEVuY29kZXMgdGhlIG9iamVjdCBhbmQgcmV0dXJucyBhIHNoYXJlZCByZWZlcmVuY2UgdGhlIGVuY29kZXIncyBpbnRlcm5hbCBidWZmZXIuXG4gICAgICovXG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlU2hhcmVkUmVmID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICB0aGlzLnJlaW5pdGlhbGl6ZVN0YXRlKCk7XG4gICAgICAgIHRoaXMuZG9FbmNvZGUob2JqZWN0LCAxKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZXMuc3ViYXJyYXkoMCwgdGhpcy5wb3MpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgRW5jb2RlcyB0aGUgb2JqZWN0IGFuZCByZXR1cm5zIGEgY29weSBvZiB0aGUgZW5jb2RlcidzIGludGVybmFsIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIHRoaXMucmVpbml0aWFsaXplU3RhdGUoKTtcbiAgICAgICAgdGhpcy5kb0VuY29kZShvYmplY3QsIDEpO1xuICAgICAgICByZXR1cm4gdGhpcy5ieXRlcy5zbGljZSgwLCB0aGlzLnBvcyk7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5kb0VuY29kZSA9IGZ1bmN0aW9uIChvYmplY3QsIGRlcHRoKSB7XG4gICAgICAgIGlmIChkZXB0aCA+IHRoaXMubWF4RGVwdGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvbyBkZWVwIG9iamVjdHMgaW4gZGVwdGggXCIuY29uY2F0KGRlcHRoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZU5pbCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZUJvb2xlYW4ob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZU51bWJlcihvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZW5jb2RlU3RyaW5nKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZU9iamVjdChvYmplY3QsIGRlcHRoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5zdXJlQnVmZmVyU2l6ZVRvV3JpdGUgPSBmdW5jdGlvbiAoc2l6ZVRvV3JpdGUpIHtcbiAgICAgICAgdmFyIHJlcXVpcmVkU2l6ZSA9IHRoaXMucG9zICsgc2l6ZVRvV3JpdGU7XG4gICAgICAgIGlmICh0aGlzLnZpZXcuYnl0ZUxlbmd0aCA8IHJlcXVpcmVkU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNpemVCdWZmZXIocmVxdWlyZWRTaXplICogMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLnJlc2l6ZUJ1ZmZlciA9IGZ1bmN0aW9uIChuZXdTaXplKSB7XG4gICAgICAgIHZhciBuZXdCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIobmV3U2l6ZSk7XG4gICAgICAgIHZhciBuZXdCeXRlcyA9IG5ldyBVaW50OEFycmF5KG5ld0J1ZmZlcik7XG4gICAgICAgIHZhciBuZXdWaWV3ID0gbmV3IERhdGFWaWV3KG5ld0J1ZmZlcik7XG4gICAgICAgIG5ld0J5dGVzLnNldCh0aGlzLmJ5dGVzKTtcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3VmlldztcbiAgICAgICAgdGhpcy5ieXRlcyA9IG5ld0J5dGVzO1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTmlsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndyaXRlVTgoMHhjMCk7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVCb29sZWFuID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4YzIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4YzMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVOdW1iZXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIGlmIChOdW1iZXIuaXNTYWZlSW50ZWdlcihvYmplY3QpICYmICF0aGlzLmZvcmNlSW50ZWdlclRvRmxvYXQpIHtcbiAgICAgICAgICAgIGlmIChvYmplY3QgPj0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChvYmplY3QgPCAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aXZlIGZpeGludFxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlVTgob2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqZWN0IDwgMHgxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdWludCA4XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGNjKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KG9iamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9iamVjdCA8IDB4MTAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdWludCAxNlxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhjZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVMTYob2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqZWN0IDwgMHgxMDAwMDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdWludCAzMlxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhjZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVMzIob2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVpbnQgNjRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4Y2YpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlVTY0KG9iamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdCA+PSAtMHgyMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBuZWdhdGl2ZSBmaXhpbnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZTAgfCAob2JqZWN0ICsgMHgyMCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvYmplY3QgPj0gLTB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50IDhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlSTgob2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqZWN0ID49IC0weDgwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50IDE2XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZUkxNihvYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvYmplY3QgPj0gLTB4ODAwMDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50IDMyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZUkzMihvYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50IDY0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZUk2NChvYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vbi1pbnRlZ2VyIG51bWJlcnNcbiAgICAgICAgICAgIGlmICh0aGlzLmZvcmNlRmxvYXQzMikge1xuICAgICAgICAgICAgICAgIC8vIGZsb2F0IDMyXG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4Y2EpO1xuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVGMzIob2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGZsb2F0IDY0XG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4Y2IpO1xuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVGNjQob2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUud3JpdGVTdHJpbmdIZWFkZXIgPSBmdW5jdGlvbiAoYnl0ZUxlbmd0aCkge1xuICAgICAgICBpZiAoYnl0ZUxlbmd0aCA8IDMyKSB7XG4gICAgICAgICAgICAvLyBmaXhzdHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGEwICsgYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYnl0ZUxlbmd0aCA8IDB4MTAwKSB7XG4gICAgICAgICAgICAvLyBzdHIgOFxuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZDkpO1xuICAgICAgICAgICAgdGhpcy53cml0ZVU4KGJ5dGVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJ5dGVMZW5ndGggPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAvLyBzdHIgMTZcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGRhKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMTYoYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYnl0ZUxlbmd0aCA8IDB4MTAwMDAwMDAwKSB7XG4gICAgICAgICAgICAvLyBzdHIgMzJcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGRiKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMzIoYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbG9uZyBzdHJpbmc6IFwiLmNvbmNhdChieXRlTGVuZ3RoLCBcIiBieXRlcyBpbiBVVEYtOFwiKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLmVuY29kZVN0cmluZyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgdmFyIG1heEhlYWRlclNpemUgPSAxICsgNDtcbiAgICAgICAgdmFyIHN0ckxlbmd0aCA9IG9iamVjdC5sZW5ndGg7XG4gICAgICAgIGlmIChzdHJMZW5ndGggPiBURVhUX0VOQ09ERVJfVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICB2YXIgYnl0ZUxlbmd0aCA9IHV0ZjhDb3VudChvYmplY3QpO1xuICAgICAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZShtYXhIZWFkZXJTaXplICsgYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLndyaXRlU3RyaW5nSGVhZGVyKGJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgdXRmOEVuY29kZVRFKG9iamVjdCwgdGhpcy5ieXRlcywgdGhpcy5wb3MpO1xuICAgICAgICAgICAgdGhpcy5wb3MgKz0gYnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBieXRlTGVuZ3RoID0gdXRmOENvdW50KG9iamVjdCk7XG4gICAgICAgICAgICB0aGlzLmVuc3VyZUJ1ZmZlclNpemVUb1dyaXRlKG1heEhlYWRlclNpemUgKyBieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVTdHJpbmdIZWFkZXIoYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICB1dGY4RW5jb2RlSnMob2JqZWN0LCB0aGlzLmJ5dGVzLCB0aGlzLnBvcyk7XG4gICAgICAgICAgICB0aGlzLnBvcyArPSBieXRlTGVuZ3RoO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVPYmplY3QgPSBmdW5jdGlvbiAob2JqZWN0LCBkZXB0aCkge1xuICAgICAgICAvLyB0cnkgdG8gZW5jb2RlIG9iamVjdHMgd2l0aCBjdXN0b20gY29kZWMgZmlyc3Qgb2Ygbm9uLXByaW1pdGl2ZXNcbiAgICAgICAgdmFyIGV4dCA9IHRoaXMuZXh0ZW5zaW9uQ29kZWMudHJ5VG9FbmNvZGUob2JqZWN0LCB0aGlzLmNvbnRleHQpO1xuICAgICAgICBpZiAoZXh0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZW5jb2RlRXh0ZW5zaW9uKGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZUFycmF5KG9iamVjdCwgZGVwdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhvYmplY3QpKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZUJpbmFyeShvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHRoaXMuZW5jb2RlTWFwKG9iamVjdCwgZGVwdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3ltYm9sLCBmdW5jdGlvbiBhbmQgb3RoZXIgc3BlY2lhbCBvYmplY3QgY29tZSBoZXJlIHVubGVzcyBleHRlbnNpb25Db2RlYyBoYW5kbGVzIHRoZW0uXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgb2JqZWN0OiBcIi5jb25jYXQoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShvYmplY3QpKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLmVuY29kZUJpbmFyeSA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgdmFyIHNpemUgPSBvYmplY3QuYnl0ZUxlbmd0aDtcbiAgICAgICAgaWYgKHNpemUgPCAweDEwMCkge1xuICAgICAgICAgICAgLy8gYmluIDhcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGM0KTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOChzaXplKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplIDwgMHgxMDAwMCkge1xuICAgICAgICAgICAgLy8gYmluIDE2XG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhjNSk7XG4gICAgICAgICAgICB0aGlzLndyaXRlVTE2KHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwMDAwMCkge1xuICAgICAgICAgICAgLy8gYmluIDMyXG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhjNik7XG4gICAgICAgICAgICB0aGlzLndyaXRlVTMyKHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG9vIGxhcmdlIGJpbmFyeTogXCIuY29uY2F0KHNpemUpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnl0ZXMgPSBlbnN1cmVVaW50OEFycmF5KG9iamVjdCk7XG4gICAgICAgIHRoaXMud3JpdGVVOGEoYnl0ZXMpO1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlQXJyYXkgPSBmdW5jdGlvbiAob2JqZWN0LCBkZXB0aCkge1xuICAgICAgICB2YXIgc2l6ZSA9IG9iamVjdC5sZW5ndGg7XG4gICAgICAgIGlmIChzaXplIDwgMTYpIHtcbiAgICAgICAgICAgIC8vIGZpeGFycmF5XG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHg5MCArIHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAvLyBhcnJheSAxNlxuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZGMpO1xuICAgICAgICAgICAgdGhpcy53cml0ZVUxNihzaXplKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplIDwgMHgxMDAwMDAwMDApIHtcbiAgICAgICAgICAgIC8vIGFycmF5IDMyXG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhkZCk7XG4gICAgICAgICAgICB0aGlzLndyaXRlVTMyKHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG9vIGxhcmdlIGFycmF5OiBcIi5jb25jYXQoc2l6ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgb2JqZWN0XzEgPSBvYmplY3Q7IF9pIDwgb2JqZWN0XzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IG9iamVjdF8xW19pXTtcbiAgICAgICAgICAgIHRoaXMuZG9FbmNvZGUoaXRlbSwgZGVwdGggKyAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuY291bnRXaXRob3V0VW5kZWZpbmVkID0gZnVuY3Rpb24gKG9iamVjdCwga2V5cykge1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGtleXNfMSA9IGtleXM7IF9pIDwga2V5c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNfMVtfaV07XG4gICAgICAgICAgICBpZiAob2JqZWN0W2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTWFwID0gZnVuY3Rpb24gKG9iamVjdCwgZGVwdGgpIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuICAgICAgICBpZiAodGhpcy5zb3J0S2V5cykge1xuICAgICAgICAgICAga2V5cy5zb3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLmlnbm9yZVVuZGVmaW5lZCA/IHRoaXMuY291bnRXaXRob3V0VW5kZWZpbmVkKG9iamVjdCwga2V5cykgOiBrZXlzLmxlbmd0aDtcbiAgICAgICAgaWYgKHNpemUgPCAxNikge1xuICAgICAgICAgICAgLy8gZml4bWFwXG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHg4MCArIHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAvLyBtYXAgMTZcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGRlKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMTYoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwMDAwMDAwKSB7XG4gICAgICAgICAgICAvLyBtYXAgMzJcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGRmKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMzIoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbGFyZ2UgbWFwIG9iamVjdDogXCIuY29uY2F0KHNpemUpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGtleXNfMiA9IGtleXM7IF9pIDwga2V5c18yLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNfMltfaV07XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgICAgICAgIGlmICghKHRoaXMuaWdub3JlVW5kZWZpbmVkICYmIHZhbHVlID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmNvZGVTdHJpbmcoa2V5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRvRW5jb2RlKHZhbHVlLCBkZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVFeHRlbnNpb24gPSBmdW5jdGlvbiAoZXh0KSB7XG4gICAgICAgIHZhciBzaXplID0gZXh0LmRhdGEubGVuZ3RoO1xuICAgICAgICBpZiAoc2l6ZSA9PT0gMSkge1xuICAgICAgICAgICAgLy8gZml4ZXh0IDFcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplID09PSAyKSB7XG4gICAgICAgICAgICAvLyBmaXhleHQgMlxuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZDUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPT09IDQpIHtcbiAgICAgICAgICAgIC8vIGZpeGV4dCA0XG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhkNik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA9PT0gOCkge1xuICAgICAgICAgICAgLy8gZml4ZXh0IDhcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQ3KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplID09PSAxNikge1xuICAgICAgICAgICAgLy8gZml4ZXh0IDE2XG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhkOCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwKSB7XG4gICAgICAgICAgICAvLyBleHQgOFxuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4YzcpO1xuICAgICAgICAgICAgdGhpcy53cml0ZVU4KHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAvLyBleHQgMTZcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGM4KTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMTYoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwMDAwMDAwKSB7XG4gICAgICAgICAgICAvLyBleHQgMzJcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGM5KTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMzIoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbGFyZ2UgZXh0ZW5zaW9uIG9iamVjdDogXCIuY29uY2F0KHNpemUpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndyaXRlSTgoZXh0LnR5cGUpO1xuICAgICAgICB0aGlzLndyaXRlVThhKGV4dC5kYXRhKTtcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlVTggPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSgxKTtcbiAgICAgICAgdGhpcy52aWV3LnNldFVpbnQ4KHRoaXMucG9zLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMucG9zKys7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS53cml0ZVU4YSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgdmFyIHNpemUgPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLmVuc3VyZUJ1ZmZlclNpemVUb1dyaXRlKHNpemUpO1xuICAgICAgICB0aGlzLmJ5dGVzLnNldCh2YWx1ZXMsIHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gc2l6ZTtcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlSTggPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSgxKTtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDgodGhpcy5wb3MsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5wb3MrKztcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlVTE2ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlQnVmZmVyU2l6ZVRvV3JpdGUoMik7XG4gICAgICAgIHRoaXMudmlldy5zZXRVaW50MTYodGhpcy5wb3MsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gMjtcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlSTE2ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlQnVmZmVyU2l6ZVRvV3JpdGUoMik7XG4gICAgICAgIHRoaXMudmlldy5zZXRJbnQxNih0aGlzLnBvcywgdmFsdWUpO1xuICAgICAgICB0aGlzLnBvcyArPSAyO1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUud3JpdGVVMzIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSg0KTtcbiAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMih0aGlzLnBvcywgdmFsdWUpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUud3JpdGVJMzIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSg0KTtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDMyKHRoaXMucG9zLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS53cml0ZUYzMiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmVuc3VyZUJ1ZmZlclNpemVUb1dyaXRlKDQpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0RmxvYXQzMih0aGlzLnBvcywgdmFsdWUpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUud3JpdGVGNjQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSg4KTtcbiAgICAgICAgdGhpcy52aWV3LnNldEZsb2F0NjQodGhpcy5wb3MsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlVTY0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlQnVmZmVyU2l6ZVRvV3JpdGUoOCk7XG4gICAgICAgIHNldFVpbnQ2NCh0aGlzLnZpZXcsIHRoaXMucG9zLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS53cml0ZUk2NCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmVuc3VyZUJ1ZmZlclNpemVUb1dyaXRlKDgpO1xuICAgICAgICBzZXRJbnQ2NCh0aGlzLnZpZXcsIHRoaXMucG9zLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgfTtcbiAgICByZXR1cm4gRW5jb2Rlcjtcbn0oKSk7XG5leHBvcnQgeyBFbmNvZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FbmNvZGVyLm1qcy5tYXAiLCJpbXBvcnQgeyBFbmNvZGVyIH0gZnJvbSBcIi4vRW5jb2Rlci5tanNcIjtcbnZhciBkZWZhdWx0RW5jb2RlT3B0aW9ucyA9IHt9O1xuLyoqXG4gKiBJdCBlbmNvZGVzIGB2YWx1ZWAgaW4gdGhlIE1lc3NhZ2VQYWNrIGZvcm1hdCBhbmRcbiAqIHJldHVybnMgYSBieXRlIGJ1ZmZlci5cbiAqXG4gKiBUaGUgcmV0dXJuZWQgYnVmZmVyIGlzIGEgc2xpY2Ugb2YgYSBsYXJnZXIgYEFycmF5QnVmZmVyYCwgc28geW91IGhhdmUgdG8gdXNlIGl0cyBgI2J5dGVPZmZzZXRgIGFuZCBgI2J5dGVMZW5ndGhgIGluIG9yZGVyIHRvIGNvbnZlcnQgaXQgdG8gYW5vdGhlciB0eXBlZCBhcnJheXMgaW5jbHVkaW5nIE5vZGVKUyBgQnVmZmVyYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZSh2YWx1ZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IGRlZmF1bHRFbmNvZGVPcHRpb25zOyB9XG4gICAgdmFyIGVuY29kZXIgPSBuZXcgRW5jb2RlcihvcHRpb25zLmV4dGVuc2lvbkNvZGVjLCBvcHRpb25zLmNvbnRleHQsIG9wdGlvbnMubWF4RGVwdGgsIG9wdGlvbnMuaW5pdGlhbEJ1ZmZlclNpemUsIG9wdGlvbnMuc29ydEtleXMsIG9wdGlvbnMuZm9yY2VGbG9hdDMyLCBvcHRpb25zLmlnbm9yZVVuZGVmaW5lZCwgb3B0aW9ucy5mb3JjZUludGVnZXJUb0Zsb2F0KTtcbiAgICByZXR1cm4gZW5jb2Rlci5lbmNvZGVTaGFyZWRSZWYodmFsdWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5jb2RlLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gcHJldHR5Qnl0ZShieXRlKSB7XG4gICAgcmV0dXJuIFwiXCIuY29uY2F0KGJ5dGUgPCAwID8gXCItXCIgOiBcIlwiLCBcIjB4XCIpLmNvbmNhdChNYXRoLmFicyhieXRlKS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZXR0eUJ5dGUubWpzLm1hcCIsImltcG9ydCB7IHV0ZjhEZWNvZGVKcyB9IGZyb20gXCIuL3V0aWxzL3V0ZjgubWpzXCI7XG52YXIgREVGQVVMVF9NQVhfS0VZX0xFTkdUSCA9IDE2O1xudmFyIERFRkFVTFRfTUFYX0xFTkdUSF9QRVJfS0VZID0gMTY7XG52YXIgQ2FjaGVkS2V5RGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDYWNoZWRLZXlEZWNvZGVyKG1heEtleUxlbmd0aCwgbWF4TGVuZ3RoUGVyS2V5KSB7XG4gICAgICAgIGlmIChtYXhLZXlMZW5ndGggPT09IHZvaWQgMCkgeyBtYXhLZXlMZW5ndGggPSBERUZBVUxUX01BWF9LRVlfTEVOR1RIOyB9XG4gICAgICAgIGlmIChtYXhMZW5ndGhQZXJLZXkgPT09IHZvaWQgMCkgeyBtYXhMZW5ndGhQZXJLZXkgPSBERUZBVUxUX01BWF9MRU5HVEhfUEVSX0tFWTsgfVxuICAgICAgICB0aGlzLm1heEtleUxlbmd0aCA9IG1heEtleUxlbmd0aDtcbiAgICAgICAgdGhpcy5tYXhMZW5ndGhQZXJLZXkgPSBtYXhMZW5ndGhQZXJLZXk7XG4gICAgICAgIHRoaXMuaGl0ID0gMDtcbiAgICAgICAgdGhpcy5taXNzID0gMDtcbiAgICAgICAgLy8gYXZvaWQgYG5ldyBBcnJheShOKWAsIHdoaWNoIG1ha2VzIGEgc3BhcnNlIGFycmF5LFxuICAgICAgICAvLyBiZWNhdXNlIGEgc3BhcnNlIGFycmF5IGlzIHR5cGljYWxseSBzbG93ZXIgdGhhbiBhIG5vbi1zcGFyc2UgYXJyYXkuXG4gICAgICAgIHRoaXMuY2FjaGVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tYXhLZXlMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jYWNoZXMucHVzaChbXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQ2FjaGVkS2V5RGVjb2Rlci5wcm90b3R5cGUuY2FuQmVDYWNoZWQgPSBmdW5jdGlvbiAoYnl0ZUxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYnl0ZUxlbmd0aCA+IDAgJiYgYnl0ZUxlbmd0aCA8PSB0aGlzLm1heEtleUxlbmd0aDtcbiAgICB9O1xuICAgIENhY2hlZEtleURlY29kZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoYnl0ZXMsIGlucHV0T2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gICAgICAgIHZhciByZWNvcmRzID0gdGhpcy5jYWNoZXNbYnl0ZUxlbmd0aCAtIDFdO1xuICAgICAgICBGSU5EX0NIVU5LOiBmb3IgKHZhciBfaSA9IDAsIHJlY29yZHNfMSA9IHJlY29yZHM7IF9pIDwgcmVjb3Jkc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHJlY29yZCA9IHJlY29yZHNfMVtfaV07XG4gICAgICAgICAgICB2YXIgcmVjb3JkQnl0ZXMgPSByZWNvcmQuYnl0ZXM7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJ5dGVMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmRCeXRlc1tqXSAhPT0gYnl0ZXNbaW5wdXRPZmZzZXQgKyBqXSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBGSU5EX0NIVU5LO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZWNvcmQuc3RyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgQ2FjaGVkS2V5RGVjb2Rlci5wcm90b3R5cGUuc3RvcmUgPSBmdW5jdGlvbiAoYnl0ZXMsIHZhbHVlKSB7XG4gICAgICAgIHZhciByZWNvcmRzID0gdGhpcy5jYWNoZXNbYnl0ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciByZWNvcmQgPSB7IGJ5dGVzOiBieXRlcywgc3RyOiB2YWx1ZSB9O1xuICAgICAgICBpZiAocmVjb3Jkcy5sZW5ndGggPj0gdGhpcy5tYXhMZW5ndGhQZXJLZXkpIHtcbiAgICAgICAgICAgIC8vIGByZWNvcmRzYCBhcmUgZnVsbCFcbiAgICAgICAgICAgIC8vIFNldCBgcmVjb3JkYCB0byBhbiBhcmJpdHJhcnkgcG9zaXRpb24uXG4gICAgICAgICAgICByZWNvcmRzWyhNYXRoLnJhbmRvbSgpICogcmVjb3Jkcy5sZW5ndGgpIHwgMF0gPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWNvcmRzLnB1c2gocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2FjaGVkS2V5RGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCBpbnB1dE9mZnNldCwgYnl0ZUxlbmd0aCkge1xuICAgICAgICB2YXIgY2FjaGVkVmFsdWUgPSB0aGlzLmZpbmQoYnl0ZXMsIGlucHV0T2Zmc2V0LCBieXRlTGVuZ3RoKTtcbiAgICAgICAgaWYgKGNhY2hlZFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0Kys7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taXNzKys7XG4gICAgICAgIHZhciBzdHIgPSB1dGY4RGVjb2RlSnMoYnl0ZXMsIGlucHV0T2Zmc2V0LCBieXRlTGVuZ3RoKTtcbiAgICAgICAgLy8gRW5zdXJlIHRvIGNvcHkgYSBzbGljZSBvZiBieXRlcyBiZWNhdXNlIHRoZSBieXRlIG1heSBiZSBOb2RlSlMgQnVmZmVyIGFuZCBCdWZmZXIjc2xpY2UoKSByZXR1cm5zIGEgcmVmZXJlbmNlIHRvIGl0cyBpbnRlcm5hbCBBcnJheUJ1ZmZlci5cbiAgICAgICAgdmFyIHNsaWNlZENvcHlPZkJ5dGVzID0gVWludDhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChieXRlcywgaW5wdXRPZmZzZXQsIGlucHV0T2Zmc2V0ICsgYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRoaXMuc3RvcmUoc2xpY2VkQ29weU9mQnl0ZXMsIHN0cik7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FjaGVkS2V5RGVjb2Rlcjtcbn0oKSk7XG5leHBvcnQgeyBDYWNoZWRLZXlEZWNvZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYWNoZWRLZXlEZWNvZGVyLm1qcy5tYXAiLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9fYXN5bmNWYWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fYXN5bmNWYWx1ZXMpIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxufTtcbnZhciBfX2F3YWl0ID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0KSB8fCBmdW5jdGlvbiAodikgeyByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTsgfVxudmFyIF9fYXN5bmNHZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fYXN5bmNHZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cbn07XG5pbXBvcnQgeyBwcmV0dHlCeXRlIH0gZnJvbSBcIi4vdXRpbHMvcHJldHR5Qnl0ZS5tanNcIjtcbmltcG9ydCB7IEV4dGVuc2lvbkNvZGVjIH0gZnJvbSBcIi4vRXh0ZW5zaW9uQ29kZWMubWpzXCI7XG5pbXBvcnQgeyBnZXRJbnQ2NCwgZ2V0VWludDY0LCBVSU5UMzJfTUFYIH0gZnJvbSBcIi4vdXRpbHMvaW50Lm1qc1wiO1xuaW1wb3J0IHsgdXRmOERlY29kZUpzLCBURVhUX0RFQ09ERVJfVEhSRVNIT0xELCB1dGY4RGVjb2RlVEQgfSBmcm9tIFwiLi91dGlscy91dGY4Lm1qc1wiO1xuaW1wb3J0IHsgY3JlYXRlRGF0YVZpZXcsIGVuc3VyZVVpbnQ4QXJyYXkgfSBmcm9tIFwiLi91dGlscy90eXBlZEFycmF5cy5tanNcIjtcbmltcG9ydCB7IENhY2hlZEtleURlY29kZXIgfSBmcm9tIFwiLi9DYWNoZWRLZXlEZWNvZGVyLm1qc1wiO1xuaW1wb3J0IHsgRGVjb2RlRXJyb3IgfSBmcm9tIFwiLi9EZWNvZGVFcnJvci5tanNcIjtcbnZhciBpc1ZhbGlkTWFwS2V5VHlwZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIga2V5VHlwZSA9IHR5cGVvZiBrZXk7XG4gICAgcmV0dXJuIGtleVR5cGUgPT09IFwic3RyaW5nXCIgfHwga2V5VHlwZSA9PT0gXCJudW1iZXJcIjtcbn07XG52YXIgSEVBRF9CWVRFX1JFUVVJUkVEID0gLTE7XG52YXIgRU1QVFlfVklFVyA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMCkpO1xudmFyIEVNUFRZX0JZVEVTID0gbmV3IFVpbnQ4QXJyYXkoRU1QVFlfVklFVy5idWZmZXIpO1xuLy8gSUUxMTogSGFjayB0byBzdXBwb3J0IElFMTEuXG4vLyBJRTExOiBEcm9wIHRoaXMgaGFjayBhbmQganVzdCB1c2UgUmFuZ2VFcnJvciB3aGVuIElFMTEgaXMgb2Jzb2xldGUuXG5leHBvcnQgdmFyIERhdGFWaWV3SW5kZXhPdXRPZkJvdW5kc0Vycm9yID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBJRTExOiBUaGUgc3BlYyBzYXlzIGl0IHNob3VsZCB0aHJvdyBSYW5nZUVycm9yLFxuICAgICAgICAvLyBJRTExOiBidXQgaW4gSUUxMSBpdCB0aHJvd3MgVHlwZUVycm9yLlxuICAgICAgICBFTVBUWV9WSUVXLmdldEludDgoMCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBlLmNvbnN0cnVjdG9yO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJuZXZlciByZWFjaGVkXCIpO1xufSkoKTtcbnZhciBNT1JFX0RBVEEgPSBuZXcgRGF0YVZpZXdJbmRleE91dE9mQm91bmRzRXJyb3IoXCJJbnN1ZmZpY2llbnQgZGF0YVwiKTtcbnZhciBzaGFyZWRDYWNoZWRLZXlEZWNvZGVyID0gbmV3IENhY2hlZEtleURlY29kZXIoKTtcbnZhciBEZWNvZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlY29kZXIoZXh0ZW5zaW9uQ29kZWMsIGNvbnRleHQsIG1heFN0ckxlbmd0aCwgbWF4QmluTGVuZ3RoLCBtYXhBcnJheUxlbmd0aCwgbWF4TWFwTGVuZ3RoLCBtYXhFeHRMZW5ndGgsIGtleURlY29kZXIpIHtcbiAgICAgICAgaWYgKGV4dGVuc2lvbkNvZGVjID09PSB2b2lkIDApIHsgZXh0ZW5zaW9uQ29kZWMgPSBFeHRlbnNpb25Db2RlYy5kZWZhdWx0Q29kZWM7IH1cbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gdW5kZWZpbmVkOyB9XG4gICAgICAgIGlmIChtYXhTdHJMZW5ndGggPT09IHZvaWQgMCkgeyBtYXhTdHJMZW5ndGggPSBVSU5UMzJfTUFYOyB9XG4gICAgICAgIGlmIChtYXhCaW5MZW5ndGggPT09IHZvaWQgMCkgeyBtYXhCaW5MZW5ndGggPSBVSU5UMzJfTUFYOyB9XG4gICAgICAgIGlmIChtYXhBcnJheUxlbmd0aCA9PT0gdm9pZCAwKSB7IG1heEFycmF5TGVuZ3RoID0gVUlOVDMyX01BWDsgfVxuICAgICAgICBpZiAobWF4TWFwTGVuZ3RoID09PSB2b2lkIDApIHsgbWF4TWFwTGVuZ3RoID0gVUlOVDMyX01BWDsgfVxuICAgICAgICBpZiAobWF4RXh0TGVuZ3RoID09PSB2b2lkIDApIHsgbWF4RXh0TGVuZ3RoID0gVUlOVDMyX01BWDsgfVxuICAgICAgICBpZiAoa2V5RGVjb2RlciA9PT0gdm9pZCAwKSB7IGtleURlY29kZXIgPSBzaGFyZWRDYWNoZWRLZXlEZWNvZGVyOyB9XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uQ29kZWMgPSBleHRlbnNpb25Db2RlYztcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5tYXhTdHJMZW5ndGggPSBtYXhTdHJMZW5ndGg7XG4gICAgICAgIHRoaXMubWF4QmluTGVuZ3RoID0gbWF4QmluTGVuZ3RoO1xuICAgICAgICB0aGlzLm1heEFycmF5TGVuZ3RoID0gbWF4QXJyYXlMZW5ndGg7XG4gICAgICAgIHRoaXMubWF4TWFwTGVuZ3RoID0gbWF4TWFwTGVuZ3RoO1xuICAgICAgICB0aGlzLm1heEV4dExlbmd0aCA9IG1heEV4dExlbmd0aDtcbiAgICAgICAgdGhpcy5rZXlEZWNvZGVyID0ga2V5RGVjb2RlcjtcbiAgICAgICAgdGhpcy50b3RhbFBvcyA9IDA7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgdGhpcy52aWV3ID0gRU1QVFlfVklFVztcbiAgICAgICAgdGhpcy5ieXRlcyA9IEVNUFRZX0JZVEVTO1xuICAgICAgICB0aGlzLmhlYWRCeXRlID0gSEVBRF9CWVRFX1JFUVVJUkVEO1xuICAgICAgICB0aGlzLnN0YWNrID0gW107XG4gICAgfVxuICAgIERlY29kZXIucHJvdG90eXBlLnJlaW5pdGlhbGl6ZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRvdGFsUG9zID0gMDtcbiAgICAgICAgdGhpcy5oZWFkQnl0ZSA9IEhFQURfQllURV9SRVFVSVJFRDtcbiAgICAgICAgdGhpcy5zdGFjay5sZW5ndGggPSAwO1xuICAgICAgICAvLyB2aWV3LCBieXRlcywgYW5kIHBvcyB3aWxsIGJlIHJlLWluaXRpYWxpemVkIGluIHNldEJ1ZmZlcigpXG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5zZXRCdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIHRoaXMuYnl0ZXMgPSBlbnN1cmVVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIHRoaXMudmlldyA9IGNyZWF0ZURhdGFWaWV3KHRoaXMuYnl0ZXMpO1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5hcHBlbmRCdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmhlYWRCeXRlID09PSBIRUFEX0JZVEVfUkVRVUlSRUQgJiYgIXRoaXMuaGFzUmVtYWluaW5nKDEpKSB7XG4gICAgICAgICAgICB0aGlzLnNldEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbWFpbmluZ0RhdGEgPSB0aGlzLmJ5dGVzLnN1YmFycmF5KHRoaXMucG9zKTtcbiAgICAgICAgICAgIHZhciBuZXdEYXRhID0gZW5zdXJlVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgLy8gY29uY2F0IHJlbWFpbmluZ0RhdGEgKyBuZXdEYXRhXG4gICAgICAgICAgICB2YXIgbmV3QnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkocmVtYWluaW5nRGF0YS5sZW5ndGggKyBuZXdEYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICBuZXdCdWZmZXIuc2V0KHJlbWFpbmluZ0RhdGEpO1xuICAgICAgICAgICAgbmV3QnVmZmVyLnNldChuZXdEYXRhLCByZW1haW5pbmdEYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnNldEJ1ZmZlcihuZXdCdWZmZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5oYXNSZW1haW5pbmcgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmJ5dGVMZW5ndGggLSB0aGlzLnBvcyA+PSBzaXplO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuY3JlYXRlRXh0cmFCeXRlRXJyb3IgPSBmdW5jdGlvbiAocG9zVG9TaG93KSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHZpZXcgPSBfYS52aWV3LCBwb3MgPSBfYS5wb3M7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2VFcnJvcihcIkV4dHJhIFwiLmNvbmNhdCh2aWV3LmJ5dGVMZW5ndGggLSBwb3MsIFwiIG9mIFwiKS5jb25jYXQodmlldy5ieXRlTGVuZ3RoLCBcIiBieXRlKHMpIGZvdW5kIGF0IGJ1ZmZlcltcIikuY29uY2F0KHBvc1RvU2hvdywgXCJdXCIpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEB0aHJvd3Mge0BsaW5rIERlY29kZUVycm9yfVxuICAgICAqIEB0aHJvd3Mge0BsaW5rIFJhbmdlRXJyb3J9XG4gICAgICovXG4gICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICB0aGlzLnJlaW5pdGlhbGl6ZVN0YXRlKCk7XG4gICAgICAgIHRoaXMuc2V0QnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIHZhciBvYmplY3QgPSB0aGlzLmRvRGVjb2RlU3luYygpO1xuICAgICAgICBpZiAodGhpcy5oYXNSZW1haW5pbmcoMSkpIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMuY3JlYXRlRXh0cmFCeXRlRXJyb3IodGhpcy5wb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVNdWx0aSA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWluaXRpYWxpemVTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVtYWluaW5nKDEpKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5kb0RlY29kZVN5bmMoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDFdO1xuICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmRlY29kZUFzeW5jID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICB2YXIgc3RyZWFtXzEsIHN0cmVhbV8xXzE7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGVjb2RlZCwgb2JqZWN0LCBidWZmZXIsIGVfMV8xLCBfYiwgaGVhZEJ5dGUsIHBvcywgdG90YWxQb3M7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNvZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnRyeXMucHVzaChbMSwgNiwgNywgMTJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbV8xID0gX19hc3luY1ZhbHVlcyhzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbNCAvKnlpZWxkKi8sIHN0cmVhbV8xLm5leHQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHN0cmVhbV8xXzEgPSBfYy5zZW50KCksICFzdHJlYW1fMV8xLmRvbmUpKSByZXR1cm4gWzMgLypicmVhayovLCA1XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlciA9IHN0cmVhbV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVjb2RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHRoaXMuY3JlYXRlRXh0cmFCeXRlRXJyb3IodGhpcy50b3RhbFBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRvRGVjb2RlU3luYygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY29kZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgRGF0YVZpZXdJbmRleE91dE9mQm91bmRzRXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7IC8vIHJldGhyb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmFsbHRocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxQb3MgKz0gdGhpcy5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzFfMSA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxMl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnRyeXMucHVzaChbNywgLCAxMCwgMTFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHN0cmVhbV8xXzEgJiYgIXN0cmVhbV8xXzEuZG9uZSAmJiAoX2EgPSBzdHJlYW1fMS5yZXR1cm4pKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBfYS5jYWxsKHN0cmVhbV8xKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gOTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OiByZXR1cm4gWzMgLypicmVhayovLCAxMV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExOiByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlY29kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNSZW1haW5pbmcoMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgdGhpcy5jcmVhdGVFeHRyYUJ5dGVFcnJvcih0aGlzLnRvdGFsUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG9iamVjdF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfYiA9IHRoaXMsIGhlYWRCeXRlID0gX2IuaGVhZEJ5dGUsIHBvcyA9IF9iLnBvcywgdG90YWxQb3MgPSBfYi50b3RhbFBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5zdWZmaWNpZW50IGRhdGEgaW4gcGFyc2luZyBcIi5jb25jYXQocHJldHR5Qnl0ZShoZWFkQnl0ZSksIFwiIGF0IFwiKS5jb25jYXQodG90YWxQb3MsIFwiIChcIikuY29uY2F0KHBvcywgXCIgaW4gdGhlIGN1cnJlbnQgYnVmZmVyKVwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQXJyYXlTdHJlYW0gPSBmdW5jdGlvbiAoc3RyZWFtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlY29kZU11bHRpQXN5bmMoc3RyZWFtLCB0cnVlKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmRlY29kZVN0cmVhbSA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlTXVsdGlBc3luYyhzdHJlYW0sIGZhbHNlKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmRlY29kZU11bHRpQXN5bmMgPSBmdW5jdGlvbiAoc3RyZWFtLCBpc0FycmF5KSB7XG4gICAgICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gZGVjb2RlTXVsdGlBc3luY18xKCkge1xuICAgICAgICAgICAgdmFyIGlzQXJyYXlIZWFkZXJSZXF1aXJlZCwgYXJyYXlJdGVtc0xlZnQsIHN0cmVhbV8yLCBzdHJlYW1fMl8xLCBidWZmZXIsIGVfMiwgZV8zXzE7XG4gICAgICAgICAgICB2YXIgZV8zLCBfYTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJyYXlIZWFkZXJSZXF1aXJlZCA9IGlzQXJyYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheUl0ZW1zTGVmdCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDEzLCAxNCwgMTldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbV8yID0gX19hc3luY1ZhbHVlcyhzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbNCAvKnlpZWxkKi8sIF9fYXdhaXQoc3RyZWFtXzIubmV4dCgpKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHN0cmVhbV8yXzEgPSBfYi5zZW50KCksICFzdHJlYW1fMl8xLmRvbmUpKSByZXR1cm4gWzMgLypicmVhayovLCAxMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBzdHJlYW1fMl8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkgJiYgYXJyYXlJdGVtc0xlZnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyB0aGlzLmNyZWF0ZUV4dHJhQnl0ZUVycm9yKHRoaXMudG90YWxQb3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRCdWZmZXIoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5SGVhZGVyUmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheUl0ZW1zTGVmdCA9IHRoaXMucmVhZEFycmF5U2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJyYXlIZWFkZXJSZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFs0LCA5LCAsIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDU7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdHJ1ZSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBfX2F3YWl0KHRoaXMuZG9EZWNvZGVTeW5jKCkpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzQgLyp5aWVsZCovLCBfYi5zZW50KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoLS1hcnJheUl0ZW1zTGVmdCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszIC8qYnJlYWsqLywgMTBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzIgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlXzIgaW5zdGFuY2VvZiBEYXRhVmlld0luZGV4T3V0T2ZCb3VuZHNFcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlXzI7IC8vIHJldGhyb3dcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDEwXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxQb3MgKz0gdGhpcy5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDExO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExOiByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjogcmV0dXJuIFszIC8qYnJlYWsqLywgMTldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICAgICAgZV8zXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzMgPSB7IGVycm9yOiBlXzNfMSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxNCwgLCAxNywgMThdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHN0cmVhbV8yXzEgJiYgIXN0cmVhbV8yXzEuZG9uZSAmJiAoX2EgPSBzdHJlYW1fMi5yZXR1cm4pKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgX19hd2FpdChfYS5jYWxsKHN0cmVhbV8yKSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxNjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNjogcmV0dXJuIFszIC8qYnJlYWsqLywgMThdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxODogcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmRvRGVjb2RlU3luYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgREVDT0RFOiB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgdmFyIGhlYWRCeXRlID0gdGhpcy5yZWFkSGVhZEJ5dGUoKTtcbiAgICAgICAgICAgIHZhciBvYmplY3QgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoaGVhZEJ5dGUgPj0gMHhlMCkge1xuICAgICAgICAgICAgICAgIC8vIG5lZ2F0aXZlIGZpeGludCAoMTExeCB4eHh4KSAweGUwIC0gMHhmZlxuICAgICAgICAgICAgICAgIG9iamVjdCA9IGhlYWRCeXRlIC0gMHgxMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA8IDB4YzApIHtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aXZlIGZpeGludCAoMHh4eCB4eHh4KSAweDAwIC0gMHg3ZlxuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBoZWFkQnl0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPCAweDkwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpeG1hcCAoMTAwMCB4eHh4KSAweDgwIC0gMHg4ZlxuICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGhlYWRCeXRlIC0gMHg4MDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaE1hcFN0YXRlKHNpemUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgREVDT0RFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPCAweGEwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpeGFycmF5ICgxMDAxIHh4eHgpIDB4OTAgLSAweDlmXG4gICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gaGVhZEJ5dGUgLSAweDkwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoQXJyYXlTdGF0ZShzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIERFQ09ERTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaXhzdHIgKDEwMXggeHh4eCkgMHhhMCAtIDB4YmZcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ5dGVMZW5ndGggPSBoZWFkQnl0ZSAtIDB4YTA7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMuZGVjb2RlVXRmOFN0cmluZyhieXRlTGVuZ3RoLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhjMCkge1xuICAgICAgICAgICAgICAgIC8vIG5pbFxuICAgICAgICAgICAgICAgIG9iamVjdCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhjMikge1xuICAgICAgICAgICAgICAgIC8vIGZhbHNlXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhjMykge1xuICAgICAgICAgICAgICAgIC8vIHRydWVcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4Y2EpIHtcbiAgICAgICAgICAgICAgICAvLyBmbG9hdCAzMlxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZEYzMigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4Y2IpIHtcbiAgICAgICAgICAgICAgICAvLyBmbG9hdCA2NFxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZEY2NCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4Y2MpIHtcbiAgICAgICAgICAgICAgICAvLyB1aW50IDhcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLnJlYWRVOCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4Y2QpIHtcbiAgICAgICAgICAgICAgICAvLyB1aW50IDE2XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5yZWFkVTE2KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhjZSkge1xuICAgICAgICAgICAgICAgIC8vIHVpbnQgMzJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLnJlYWRVMzIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGNmKSB7XG4gICAgICAgICAgICAgICAgLy8gdWludCA2NFxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZFU2NCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4ZDApIHtcbiAgICAgICAgICAgICAgICAvLyBpbnQgOFxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZEk4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkMSkge1xuICAgICAgICAgICAgICAgIC8vIGludCAxNlxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZEkxNigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4ZDIpIHtcbiAgICAgICAgICAgICAgICAvLyBpbnQgMzJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLnJlYWRJMzIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQzKSB7XG4gICAgICAgICAgICAgICAgLy8gaW50IDY0XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5yZWFkSTY0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkOSkge1xuICAgICAgICAgICAgICAgIC8vIHN0ciA4XG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVMZW5ndGggPSB0aGlzLmxvb2tVOCgpO1xuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMuZGVjb2RlVXRmOFN0cmluZyhieXRlTGVuZ3RoLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGRhKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RyIDE2XG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVMZW5ndGggPSB0aGlzLmxvb2tVMTYoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZVV0ZjhTdHJpbmcoYnl0ZUxlbmd0aCwgMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkYikge1xuICAgICAgICAgICAgICAgIC8vIHN0ciAzMlxuICAgICAgICAgICAgICAgIHZhciBieXRlTGVuZ3RoID0gdGhpcy5sb29rVTMyKCk7XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5kZWNvZGVVdGY4U3RyaW5nKGJ5dGVMZW5ndGgsIDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4ZGMpIHtcbiAgICAgICAgICAgICAgICAvLyBhcnJheSAxNlxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5yZWFkVTE2KCk7XG4gICAgICAgICAgICAgICAgaWYgKHNpemUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoQXJyYXlTdGF0ZShzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBERUNPREU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkZCkge1xuICAgICAgICAgICAgICAgIC8vIGFycmF5IDMyXG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLnJlYWRVMzIoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2hBcnJheVN0YXRlKHNpemUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIERFQ09ERTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGRlKSB7XG4gICAgICAgICAgICAgICAgLy8gbWFwIDE2XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLnJlYWRVMTYoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2hNYXBTdGF0ZShzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBERUNPREU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkZikge1xuICAgICAgICAgICAgICAgIC8vIG1hcCAzMlxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5yZWFkVTMyKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNpemUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoTWFwU3RhdGUoc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWUgREVDT0RFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4YzQpIHtcbiAgICAgICAgICAgICAgICAvLyBiaW4gOFxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5sb29rVTgoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUJpbmFyeShzaXplLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGM1KSB7XG4gICAgICAgICAgICAgICAgLy8gYmluIDE2XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmxvb2tVMTYoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUJpbmFyeShzaXplLCAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGM2KSB7XG4gICAgICAgICAgICAgICAgLy8gYmluIDMyXG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmxvb2tVMzIoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUJpbmFyeShzaXplLCA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ0KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDFcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbigxLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ1KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbigyLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ2KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDRcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbig0LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ3KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDhcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbig4LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ4KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDE2XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5kZWNvZGVFeHRlbnNpb24oMTYsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4YzcpIHtcbiAgICAgICAgICAgICAgICAvLyBleHQgOFxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5sb29rVTgoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbihzaXplLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGM4KSB7XG4gICAgICAgICAgICAgICAgLy8gZXh0IDE2XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmxvb2tVMTYoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbihzaXplLCAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGM5KSB7XG4gICAgICAgICAgICAgICAgLy8gZXh0IDMyXG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmxvb2tVMzIoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbihzaXplLCA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBEZWNvZGVFcnJvcihcIlVucmVjb2duaXplZCB0eXBlIGJ5dGU6IFwiLmNvbmNhdChwcmV0dHlCeXRlKGhlYWRCeXRlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgdmFyIHN0YWNrID0gdGhpcy5zdGFjaztcbiAgICAgICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gYXJyYXlzIGFuZCBtYXBzXG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLnR5cGUgPT09IDAgLyogU3RhdGUuQVJSQVkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuYXJyYXlbc3RhdGUucG9zaXRpb25dID0gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wb3NpdGlvbisrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLnNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0ID0gc3RhdGUuYXJyYXk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBERUNPREU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUudHlwZSA9PT0gMSAvKiBTdGF0ZS5NQVBfS0VZICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZE1hcEtleVR5cGUob2JqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERlY29kZUVycm9yKFwiVGhlIHR5cGUgb2Yga2V5IG11c3QgYmUgc3RyaW5nIG9yIG51bWJlciBidXQgXCIgKyB0eXBlb2Ygb2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0ID09PSBcIl9fcHJvdG9fX1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGVjb2RlRXJyb3IoXCJUaGUga2V5IF9fcHJvdG9fXyBpcyBub3QgYWxsb3dlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5rZXkgPSBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnR5cGUgPSAyIC8qIFN0YXRlLk1BUF9WQUxVRSAqLztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWUgREVDT0RFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQgbXVzdCBiZSBgc3RhdGUudHlwZSA9PT0gU3RhdGUuTUFQX1ZBTFVFYCBoZXJlXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLm1hcFtzdGF0ZS5rZXldID0gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5yZWFkQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLnJlYWRDb3VudCA9PT0gc3RhdGUuc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBzdGF0ZS5tYXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5rZXkgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUudHlwZSA9IDEgLyogU3RhdGUuTUFQX0tFWSAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIERFQ09ERTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnJlYWRIZWFkQnl0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGVhZEJ5dGUgPT09IEhFQURfQllURV9SRVFVSVJFRCkge1xuICAgICAgICAgICAgdGhpcy5oZWFkQnl0ZSA9IHRoaXMucmVhZFU4KCk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImhlYWRCeXRlXCIsIHByZXR0eUJ5dGUodGhpcy5oZWFkQnl0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmhlYWRCeXRlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaGVhZEJ5dGUgPSBIRUFEX0JZVEVfUkVRVUlSRUQ7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkQXJyYXlTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGVhZEJ5dGUgPSB0aGlzLnJlYWRIZWFkQnl0ZSgpO1xuICAgICAgICBzd2l0Y2ggKGhlYWRCeXRlKSB7XG4gICAgICAgICAgICBjYXNlIDB4ZGM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZFUxNigpO1xuICAgICAgICAgICAgY2FzZSAweGRkOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRVMzIoKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZEJ5dGUgPCAweGEwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoZWFkQnl0ZSAtIDB4OTA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGVjb2RlRXJyb3IoXCJVbnJlY29nbml6ZWQgYXJyYXkgdHlwZSBieXRlOiBcIi5jb25jYXQocHJldHR5Qnl0ZShoZWFkQnl0ZSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnB1c2hNYXBTdGF0ZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIGlmIChzaXplID4gdGhpcy5tYXhNYXBMZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBEZWNvZGVFcnJvcihcIk1heCBsZW5ndGggZXhjZWVkZWQ6IG1hcCBsZW5ndGggKFwiLmNvbmNhdChzaXplLCBcIikgPiBtYXhNYXBMZW5ndGhMZW5ndGggKFwiKS5jb25jYXQodGhpcy5tYXhNYXBMZW5ndGgsIFwiKVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFjay5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IDEgLyogU3RhdGUuTUFQX0tFWSAqLyxcbiAgICAgICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgICAgICBrZXk6IG51bGwsXG4gICAgICAgICAgICByZWFkQ291bnQ6IDAsXG4gICAgICAgICAgICBtYXA6IHt9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnB1c2hBcnJheVN0YXRlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgaWYgKHNpemUgPiB0aGlzLm1heEFycmF5TGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRGVjb2RlRXJyb3IoXCJNYXggbGVuZ3RoIGV4Y2VlZGVkOiBhcnJheSBsZW5ndGggKFwiLmNvbmNhdChzaXplLCBcIikgPiBtYXhBcnJheUxlbmd0aCAoXCIpLmNvbmNhdCh0aGlzLm1heEFycmF5TGVuZ3RoLCBcIilcIikpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhY2sucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiAwIC8qIFN0YXRlLkFSUkFZICovLFxuICAgICAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgICAgIGFycmF5OiBuZXcgQXJyYXkoc2l6ZSksXG4gICAgICAgICAgICBwb3NpdGlvbjogMCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVVdGY4U3RyaW5nID0gZnVuY3Rpb24gKGJ5dGVMZW5ndGgsIGhlYWRlck9mZnNldCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChieXRlTGVuZ3RoID4gdGhpcy5tYXhTdHJMZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBEZWNvZGVFcnJvcihcIk1heCBsZW5ndGggZXhjZWVkZWQ6IFVURi04IGJ5dGUgbGVuZ3RoIChcIi5jb25jYXQoYnl0ZUxlbmd0aCwgXCIpID4gbWF4U3RyTGVuZ3RoIChcIikuY29uY2F0KHRoaXMubWF4U3RyTGVuZ3RoLCBcIilcIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJ5dGVzLmJ5dGVMZW5ndGggPCB0aGlzLnBvcyArIGhlYWRlck9mZnNldCArIGJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IE1PUkVfREFUQTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5wb3MgKyBoZWFkZXJPZmZzZXQ7XG4gICAgICAgIHZhciBvYmplY3Q7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlSXNNYXBLZXkoKSAmJiAoKF9hID0gdGhpcy5rZXlEZWNvZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuQmVDYWNoZWQoYnl0ZUxlbmd0aCkpKSB7XG4gICAgICAgICAgICBvYmplY3QgPSB0aGlzLmtleURlY29kZXIuZGVjb2RlKHRoaXMuYnl0ZXMsIG9mZnNldCwgYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYnl0ZUxlbmd0aCA+IFRFWFRfREVDT0RFUl9USFJFU0hPTEQpIHtcbiAgICAgICAgICAgIG9iamVjdCA9IHV0ZjhEZWNvZGVURCh0aGlzLmJ5dGVzLCBvZmZzZXQsIGJ5dGVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqZWN0ID0gdXRmOERlY29kZUpzKHRoaXMuYnl0ZXMsIG9mZnNldCwgYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3MgKz0gaGVhZGVyT2Zmc2V0ICsgYnl0ZUxlbmd0aDtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnN0YXRlSXNNYXBLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS50eXBlID09PSAxIC8qIFN0YXRlLk1BUF9LRVkgKi87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVMZW5ndGgsIGhlYWRPZmZzZXQpIHtcbiAgICAgICAgaWYgKGJ5dGVMZW5ndGggPiB0aGlzLm1heEJpbkxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IERlY29kZUVycm9yKFwiTWF4IGxlbmd0aCBleGNlZWRlZDogYmluIGxlbmd0aCAoXCIuY29uY2F0KGJ5dGVMZW5ndGgsIFwiKSA+IG1heEJpbkxlbmd0aCAoXCIpLmNvbmNhdCh0aGlzLm1heEJpbkxlbmd0aCwgXCIpXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaGFzUmVtYWluaW5nKGJ5dGVMZW5ndGggKyBoZWFkT2Zmc2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgTU9SRV9EQVRBO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLnBvcyArIGhlYWRPZmZzZXQ7XG4gICAgICAgIHZhciBvYmplY3QgPSB0aGlzLmJ5dGVzLnN1YmFycmF5KG9mZnNldCwgb2Zmc2V0ICsgYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRoaXMucG9zICs9IGhlYWRPZmZzZXQgKyBieXRlTGVuZ3RoO1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlRXh0ZW5zaW9uID0gZnVuY3Rpb24gKHNpemUsIGhlYWRPZmZzZXQpIHtcbiAgICAgICAgaWYgKHNpemUgPiB0aGlzLm1heEV4dExlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IERlY29kZUVycm9yKFwiTWF4IGxlbmd0aCBleGNlZWRlZDogZXh0IGxlbmd0aCAoXCIuY29uY2F0KHNpemUsIFwiKSA+IG1heEV4dExlbmd0aCAoXCIpLmNvbmNhdCh0aGlzLm1heEV4dExlbmd0aCwgXCIpXCIpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXh0VHlwZSA9IHRoaXMudmlldy5nZXRJbnQ4KHRoaXMucG9zICsgaGVhZE9mZnNldCk7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5kZWNvZGVCaW5hcnkoc2l6ZSwgaGVhZE9mZnNldCArIDEgLyogZXh0VHlwZSAqLyk7XG4gICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbkNvZGVjLmRlY29kZShkYXRhLCBleHRUeXBlLCB0aGlzLmNvbnRleHQpO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUubG9va1U4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldFVpbnQ4KHRoaXMucG9zKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmxvb2tVMTYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDE2KHRoaXMucG9zKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmxvb2tVMzIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDMyKHRoaXMucG9zKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnJlYWRVOCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52aWV3LmdldFVpbnQ4KHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MrKztcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUucmVhZEk4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZpZXcuZ2V0SW50OCh0aGlzLnBvcyk7XG4gICAgICAgIHRoaXMucG9zKys7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnJlYWRVMTYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmlldy5nZXRVaW50MTYodGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSAyO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkSTE2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZpZXcuZ2V0SW50MTYodGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSAyO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkVTMyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZpZXcuZ2V0VWludDMyKHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUucmVhZEkzMiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52aWV3LmdldEludDMyKHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUucmVhZFU2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gZ2V0VWludDY0KHRoaXMudmlldywgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkSTY0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBnZXRJbnQ2NCh0aGlzLnZpZXcsIHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUucmVhZEYzMiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52aWV3LmdldEZsb2F0MzIodGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkRjY0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZpZXcuZ2V0RmxvYXQ2NCh0aGlzLnBvcyk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIHJldHVybiBEZWNvZGVyO1xufSgpKTtcbmV4cG9ydCB7IERlY29kZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlY29kZXIubWpzLm1hcCIsImltcG9ydCB7IERlY29kZXIgfSBmcm9tIFwiLi9EZWNvZGVyLm1qc1wiO1xuZXhwb3J0IHZhciBkZWZhdWx0RGVjb2RlT3B0aW9ucyA9IHt9O1xuLyoqXG4gKiBJdCBkZWNvZGVzIGEgc2luZ2xlIE1lc3NhZ2VQYWNrIG9iamVjdCBpbiBhIGJ1ZmZlci5cbiAqXG4gKiBUaGlzIGlzIGEgc3luY2hyb25vdXMgZGVjb2RpbmcgZnVuY3Rpb24uXG4gKiBTZWUgb3RoZXIgdmFyaWFudHMgZm9yIGFzeW5jaHJvbm91cyBkZWNvZGluZzoge0BsaW5rIGRlY29kZUFzeW5jKCl9LCB7QGxpbmsgZGVjb2RlU3RyZWFtKCl9LCBvciB7QGxpbmsgZGVjb2RlQXJyYXlTdHJlYW0oKX0uXG4gKlxuICogQHRocm93cyB7QGxpbmsgUmFuZ2VFcnJvcn0gaWYgdGhlIGJ1ZmZlciBpcyBpbmNvbXBsZXRlLCBpbmNsdWRpbmcgdGhlIGNhc2Ugd2hlcmUgdGhlIGJ1ZmZlciBpcyBlbXB0eS5cbiAqIEB0aHJvd3Mge0BsaW5rIERlY29kZUVycm9yfSBpZiB0aGUgYnVmZmVyIGNvbnRhaW5zIGludmFsaWQgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZShidWZmZXIsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBkZWZhdWx0RGVjb2RlT3B0aW9uczsgfVxuICAgIHZhciBkZWNvZGVyID0gbmV3IERlY29kZXIob3B0aW9ucy5leHRlbnNpb25Db2RlYywgb3B0aW9ucy5jb250ZXh0LCBvcHRpb25zLm1heFN0ckxlbmd0aCwgb3B0aW9ucy5tYXhCaW5MZW5ndGgsIG9wdGlvbnMubWF4QXJyYXlMZW5ndGgsIG9wdGlvbnMubWF4TWFwTGVuZ3RoLCBvcHRpb25zLm1heEV4dExlbmd0aCk7XG4gICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKGJ1ZmZlcik7XG59XG4vKipcbiAqIEl0IGRlY29kZXMgbXVsdGlwbGUgTWVzc2FnZVBhY2sgb2JqZWN0cyBpbiBhIGJ1ZmZlci5cbiAqIFRoaXMgaXMgY29ycmVzcG9uZGluZyB0byB7QGxpbmsgZGVjb2RlTXVsdGlTdHJlYW0oKX0uXG4gKlxuICogQHRocm93cyB7QGxpbmsgUmFuZ2VFcnJvcn0gaWYgdGhlIGJ1ZmZlciBpcyBpbmNvbXBsZXRlLCBpbmNsdWRpbmcgdGhlIGNhc2Ugd2hlcmUgdGhlIGJ1ZmZlciBpcyBlbXB0eS5cbiAqIEB0aHJvd3Mge0BsaW5rIERlY29kZUVycm9yfSBpZiB0aGUgYnVmZmVyIGNvbnRhaW5zIGludmFsaWQgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZU11bHRpKGJ1ZmZlciwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IGRlZmF1bHREZWNvZGVPcHRpb25zOyB9XG4gICAgdmFyIGRlY29kZXIgPSBuZXcgRGVjb2RlcihvcHRpb25zLmV4dGVuc2lvbkNvZGVjLCBvcHRpb25zLmNvbnRleHQsIG9wdGlvbnMubWF4U3RyTGVuZ3RoLCBvcHRpb25zLm1heEJpbkxlbmd0aCwgb3B0aW9ucy5tYXhBcnJheUxlbmd0aCwgb3B0aW9ucy5tYXhNYXBMZW5ndGgsIG9wdGlvbnMubWF4RXh0TGVuZ3RoKTtcbiAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGVNdWx0aShidWZmZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVjb2RlLm1qcy5tYXAiLCJcInVzZSBzdHJpY3RcIlxyXG4vLyB0aGVzZSBhcmUgdGhlIGNvZGVzIHRoYXQgYXJlIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBydWRpbWVudGFyeSB0eXBlIG9mIG51bWJlcnNcclxudmFyIFBST1BFUlRZX0NPREUgPSAwXHJcbnZhciBUWVBFX0NPREUgPSAzXHJcbnZhciBTVFJJTkdfQ09ERSA9IDJcclxudmFyIE5VTUJFUl9DT0RFID0gMVxyXG52YXIgU0VRVUVOQ0VfQ09ERSA9IDdcclxuXHJcbi8vIGNvbnN0YW50IGNvZGVzXHJcbnZhciBOVUxMID0gMCAvLyBwXHJcbnZhciBGQUxTRSA9IDMgLy8gc1xyXG52YXIgVFJVRSA9IDQgLy8gdFxyXG52YXIgVU5ERUZJTkVEID0gNSAvLyB1XHJcblxyXG4vLyB0aGVzZSBhcmUgdGhlIHN0YXJ0aW5nIGNvZGVzIChzdHJ1Y3R1cmVzIGFsc28gdXNlIHRoaXMgc3BhY2UpIGZvciBjb21wbGV0ZSB0eXBlc1xyXG52YXIgREVGQVVMVF9UWVBFID0gNlxyXG52YXIgQVJSQVlfVFlQRSA9IDdcclxudmFyIFJFRkVSRU5DSU5HX1RZUEUgPSA4XHJcbnZhciBOVU1CRVJfVFlQRSA9IDlcclxudmFyIEVYVEVOU0lPTlMgPSAxMFxyXG52YXIgTUVUQURBVEFfVFlQRSA9IDExXHJcbnZhciBDT1BZX1BST1BFUlRZID0gMTIgIC8vIGZvciBkZWZpbmluZyBhIHR5cGVkIG9iamVjdCB3aXRob3V0IHJldHVybmluZyB0aGUgdmFsdWVcclxudmFyIFJFRkVSRU5DSU5HX1BPU0lUSU9OID0gMTNcclxudmFyIFRZUEVfREVGSU5JVElPTiA9IDE0ICAvLyBmb3IgZGVmaW5pbmcgYSB0eXBlZCBvYmplY3Qgd2l0aG91dCByZXR1cm5pbmcgdGhlIHZhbHVlXHJcblxyXG52YXIgRVJST1JfTUVUQURBVEEgPSA1MDBcclxuXHJcbi8vIHNlcXVlbmNlIGNvZGVzXHJcbnZhciBPUEVOX1NFUVVFTkNFID0gMTIgLy8gPFxyXG52YXIgUEFSVElBTF9ERUZFUlJFRF9SRUZFUkVOQ0UgPSAxMiAvLyA8XHJcbnZhciBFTkRfU0VRVUVOQ0UgPSAxNCAvLyA+XHJcbnZhciBERUZFUlJFRF9SRUZFUkVOQ0UgPSAxNSAvLyA/XHJcbnZhciBuZXh0SWQgPSAxXHJcbnZhciBpdGVyYXRvclN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnID8gU3ltYm9sLml0ZXJhdG9yIDogJ19faXRlcmF0b3Jfc3ltYm9sX18nXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTZXJpYWxpemVyKG9wdGlvbnMpIHtcclxuXHRpZiAoIW9wdGlvbnMpXHJcblx0XHRvcHRpb25zID0ge31cclxuXHR2YXIgZXh0ZW5kZWRUeXBlcyA9IG9wdGlvbnMuY29udmVydGVyQnlDb25zdHJ1Y3RvclxyXG5cdGlmICghZXh0ZW5kZWRUeXBlcykge1xyXG5cdFx0ZXh0ZW5kZWRUeXBlcyA9IG5ldyBNYXAoKVxyXG5cdH1cclxuXHRleHRlbmRlZFR5cGVzLnNldChNYXAsIHtcclxuXHRcdG5hbWU6ICdNYXAnLFxyXG5cdFx0dG9WYWx1ZTogd3JpdGVNYXBcclxuXHR9KVxyXG5cdGV4dGVuZGVkVHlwZXMuc2V0KFNldCwge1xyXG5cdFx0bmFtZTogJ1NldCcsXHJcblx0XHR0b1ZhbHVlOiB3cml0ZVNldFxyXG5cdH0pXHJcblx0ZXh0ZW5kZWRUeXBlcy5zZXQoRGF0ZSwge1xyXG5cdFx0bmFtZTogJ0RhdGUnLFxyXG5cdFx0dG9WYWx1ZTogd3JpdGVEYXRlXHJcblx0fSlcclxuXHR2YXIgYXZvaWRTaGFyZVVwZGF0ZSA9IG9wdGlvbnMub3V0bGV0IHx8IG9wdGlvbnMuYXZvaWRTaGFyZVVwZGF0ZVxyXG5cdHZhciBjaGFyRW5jb2RlciA9ICh0eXBlb2YgZ2xvYmFsICE9ICd1bmRlZmluZWQnICYmIGdsb2JhbC5CdWZmZXIgJiYgIShvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RpbmcgPT09ICd1dGYxNmxlJykpID8gZXhwb3J0cy5ub2RlQ2hhckVuY29kZXIob3B0aW9ucykgOiBicm93c2VyQ2hhckVuY29kZXIob3B0aW9ucylcclxuXHR2YXIgd3JpdGVTdHJpbmcgPSBjaGFyRW5jb2Rlci53cml0ZVN0cmluZ1xyXG5cdHZhciB3cml0ZVRva2VuID0gY2hhckVuY29kZXIud3JpdGVUb2tlblxyXG5cdHZhciBzdGFydFNlcXVlbmNlID0gY2hhckVuY29kZXIuc3RhcnRTZXF1ZW5jZVxyXG5cdHZhciBlbmRTZXF1ZW5jZSA9IGNoYXJFbmNvZGVyLmVuZFNlcXVlbmNlXHJcblx0dmFyIHdyaXRlQnVmZmVyID0gY2hhckVuY29kZXIud3JpdGVCdWZmZXJcclxuXHR2YXIgZm9yUHJvcGVydHkgPSBvcHRpb25zLmZvclByb3BlcnR5XHJcblx0dmFyIHByb3BlcnR5VXNlZFxyXG5cdHZhciB2YWx1ZVVzZWRcclxuXHRpZiAob3B0aW9ucy5zaGFyZWQpIHtcclxuXHRcdHByb3BlcnR5VXNlZCA9IG9wdGlvbnMuc2hhcmVkLnByb3BlcnR5VXNlZFxyXG5cdFx0dmFsdWVVc2VkID0gb3B0aW9ucy5zaGFyZWQucHJvcGVydHlVc2VkXHJcblx0fVxyXG5cdHZhciBwZW5kaW5nRW5jb2RpbmdzID0gW11cclxuXHR2YXIgbmV4dFByb3BlcnR5SW5kZXggPSA4XHJcblx0dmFyIHByb3BlcnR5XHJcblx0dmFyIGJ1ZmZlclN5bWJvbCA9IGV4cG9ydHMuYnVmZmVyU3ltYm9sIHx8ICdfYnVmZmVyU3ltYm9sXydcclxuXHR2YXIgdGFyZ2V0U3ltYm9sID0gZXhwb3J0cy50YXJnZXRTeW1ib2wgfHwgJ190YXJnZXRTeW1ib2xfJ1xyXG5cdHZhciBwcm9wZXJ0eUNvbXBhcmlzb25zID0gMFxyXG5cdHZhciBzZXJpYWxpemVySWQgPSBuZXh0SWQrK1xyXG5cclxuXHR2YXIgd3JpdGVycyA9IFtcclxuXHRcdDAsIDEsIDIsIDMsIDQgLCA1LFxyXG5cdFx0d3JpdGVBc0RlZmF1bHQsXHJcblx0XHR3cml0ZUFzQXJyYXksXHJcblx0XHR3cml0ZUFzUmVmZXJlbmNpbmcsXHJcblx0XHR3cml0ZUFzTnVtYmVyLFxyXG5cdFx0d3JpdGVPbmx5TnVsbFxyXG5cdF1cclxuXHQvLyB3cml0ZSBhIHJ1ZGltZW50YXJ5IG51bWJlclxyXG5cdGZ1bmN0aW9uIHdyaXRlTnVtYmVyKG51bWJlcikge1xyXG5cdFx0d3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgbnVtYmVyKVxyXG5cdH1cclxuXHQvLyB3cml0ZSBhIHJ1ZGltZW50YXJ5IHN0cmluZ1xyXG5cdGZ1bmN0aW9uIHdyaXRlSW5saW5lU3RyaW5nKHN0cmluZykge1xyXG5cdFx0d3JpdGVUb2tlbihTVFJJTkdfQ09ERSwgc3RyaW5nLmxlbmd0aClcclxuXHRcdHdyaXRlU3RyaW5nKHN0cmluZylcclxuXHR9XHJcblxyXG5cdC8vIHdyaXRpbmcgYW55IHZhbHVlIGluIHJlZmVyZW5jaW5nIHNlcmlhbGl6YXRpb24gdHlwZSBtb2RlXHJcblx0ZnVuY3Rpb24gd3JpdGVBc1JlZmVyZW5jaW5nKHZhbHVlKSB7XHJcblx0XHR2YXIgdHlwZSwgdmFsdWVzID0gcHJvcGVydHkudmFsdWVzXHJcblx0XHRpZiAodmFsdWVzKSB7XHJcblx0XHRcdGlmICh2YWx1ZXMucmVzZXRUbyA+IC0xICYmIHZhbHVlcy5zZXJpYWxpemVyICE9PSBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0XHQvLyBpZiB0aGlzIGlzIGEgc2hhcmVkIHZhbHVlcywgbmVlZCB0byByZXNldCBvbiBlYWNoIHNlcmlhbGl6YXRpb25cclxuXHRcdFx0XHR2YWx1ZXMuc2VyaWFsaXplciA9IHNlcmlhbGl6ZXJJZFxyXG5cdFx0XHRcdGlmICh2YWx1ZXMucmVzZXRUbyA8IHZhbHVlcy5sZW5ndGgpXHJcblx0XHRcdFx0XHR2YWx1ZXMubGVuZ3RoID0gdmFsdWVzLnJlc2V0VG9cclxuXHRcdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgUkVGRVJFTkNJTkdfUE9TSVRJT04pXHJcblx0XHRcdFx0d3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgdmFsdWVzLnJlc2V0VG8pXHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHJlZmVyZW5jZSA9IHZhbHVlcy5pbmRleE9mKHZhbHVlKVxyXG5cdFx0XHRpZiAocmVmZXJlbmNlID4gLTEpIHtcclxuXHRcdFx0XHRyZXR1cm4gd3JpdGVOdW1iZXIocmVmZXJlbmNlKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAoKHR5cGUgPSB0eXBlb2YgdmFsdWUpID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSdvYmplY3QnICYmIHZhbHVlKSB7XHJcblx0XHRcdGlmIChwcm9wZXJ0eS53cml0ZVNoYXJlZFZhbHVlKSB7XHJcblx0XHRcdFx0aWYgKHByb3BlcnR5LndyaXRlU2hhcmVkVmFsdWUodmFsdWUsIHdyaXRlVG9rZW4sIHNlcmlhbGl6ZXJJZCkpXHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0fSBlbHNlIGlmICh2YWx1ZXMpIHtcclxuXHRcdFx0XHR2YXIgaW5kZXggPSB2YWx1ZXMubGVuZ3RoXHJcblx0XHRcdFx0aWYgKGluZGV4IDwgMTIpXHJcblx0XHRcdFx0XHR2YWx1ZXNbaW5kZXhdID0gdmFsdWVcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdHdyaXRlSW5saW5lU3RyaW5nKHZhbHVlKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0d3JpdGVBc0RlZmF1bHQodmFsdWUpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyB3cml0aW5nIGFueSB2YWx1ZSBpbiBudW1iZXIgc2VyaWFsaXphdGlvbiB0eXBlIG1vZGVcclxuXHRmdW5jdGlvbiB3cml0ZUFzTnVtYmVyKG51bWJlcikge1xyXG5cdFx0dmFyIHR5cGUgPSB0eXBlb2YgbnVtYmVyXHJcblx0XHRpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0aWYgKG51bWJlciA+Pj4gMCA9PT0gbnVtYmVyIHx8IChudW1iZXIgPiAwICYmIG51bWJlciA8IDB4NDAwMDAwMDAwMDAwICYmIG51bWJlciAlIDEgPT09IDApKSB7XHJcblx0XHRcdFx0Ly8gNDYgYml0IHVuc2lnbmVkIGludGVnZXJcclxuXHRcdFx0XHR3cml0ZVRva2VuKE5VTUJFUl9DT0RFLCBudW1iZXIpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gZGVjaW1hbCBudW1iZXIgc2VyaWFsaXplZCBhcyBhIHN0cmluZ1xyXG5cdFx0XHRcdHZhciBhc1N0cmluZyA9IG51bWJlci50b1N0cmluZygpXHJcblx0XHRcdFx0d3JpdGVJbmxpbmVTdHJpbmcoYXNTdHJpbmcpXHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0d3JpdGVBc0RlZmF1bHQobnVtYmVyKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0d3JpdGVUeXBlZFZhbHVlKG51bWJlcilcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHdyaXRlVHlwZWRWYWx1ZSh2YWx1ZSkge1xyXG5cdFx0aWYgKHZhbHVlID09PSBudWxsKVxyXG5cdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTlVMTClcclxuXHRcdGVsc2UgaWYgKHZhbHVlID09PSBmYWxzZSlcclxuXHRcdFx0d3JpdGVUb2tlbihUWVBFX0NPREUsIEZBTFNFKVxyXG5cdFx0ZWxzZSBpZiAodmFsdWUgPT09IHRydWUpXHJcblx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBUUlVFKVxyXG5cdFx0ZWxzZSBpZiAodmFsdWUgPT09IHVuZGVmaW5lZClcclxuXHRcdFx0d3JpdGVUb2tlbihUWVBFX0NPREUsIFVOREVGSU5FRClcclxuXHRcdGVsc2Uge1xyXG5cdFx0XHR3cml0ZVR5cGVkTm9uQ29uc3RhbnQodmFsdWUpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB3cml0ZVR5cGVkTm9uQ29uc3RhbnQodmFsdWUpIHtcclxuXHRcdHZhciB0eXBlID0gdHlwZW9mIHZhbHVlXHJcblx0XHR2YXIgZXh0ZW5kZWRUeXBlXHJcblx0XHRpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0aWYgKHZhbHVlKSB7XHJcblx0XHRcdFx0dmFyIGNvbnN0cnVjdG9yID0gdmFsdWUuY29uc3RydWN0b3JcclxuXHRcdFx0XHRpZiAoY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xyXG5cdFx0XHRcdFx0Ly8gbGVhdmUgdHlwZSBhcyBpc1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblx0XHRcdFx0XHR0eXBlID0gJ2FycmF5J1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRleHRlbmRlZFR5cGUgPSBleHRlbmRlZFR5cGVzLmdldChjb25zdHJ1Y3RvcilcclxuXHRcdFx0XHRcdGlmIChleHRlbmRlZFR5cGUgJiYgZXh0ZW5kZWRUeXBlLnRvVmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0dmFsdWUgPSBleHRlbmRlZFR5cGUudG9WYWx1ZSh2YWx1ZSlcclxuXHRcdFx0XHRcdFx0dHlwZSA9IHR5cGVvZiB2YWx1ZSAvLyBnbyB0aHJvdWdoIHRoZSBzYW1lIGxvZ2ljIGFkanVzdG1lbnQgaGVyZVxyXG5cdFx0XHRcdFx0XHRpZiAodmFsdWUgJiYgdHlwZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblx0XHRcdFx0XHRcdFx0dHlwZSA9ICdhcnJheSdcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAocHJvcGVydHkudHlwZSA9PT0gdHlwZSkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIGlmIHdlIGFyZSB0aGUgcmlnaHQgdHlwZSBhZnRlciBkb2luZyB0aGUgY29udmVyc2lvbiwgZ28gYmFjayB0byB0aGUgb3JpZ2luYWwgcHJvcGVydHkgdG8gc2VyaWFsaXplXHJcblx0XHRcdFx0XHRcdFx0aWYgKHByb3BlcnR5LmV4dGVuZGVkVHlwZSAhPT0gZXh0ZW5kZWRUeXBlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5leHRlbmRlZFR5cGUgPSBleHRlbmRlZFR5cGVcclxuXHRcdFx0XHRcdFx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBNRVRBREFUQV9UWVBFKVxyXG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVJbmxpbmVTdHJpbmcoZXh0ZW5kZWRUeXBlLm5hbWUpXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB3cml0ZXJzW3Byb3BlcnR5LmNvZGVdKHZhbHVlKVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRleHRlbmRlZFR5cGUgPSBmYWxzZVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7IC8vIG51bGxcclxuXHRcdFx0XHR0eXBlID0gJ3VuZGVmaW5lZCcgLy8gdHJlYXQgbnVsbCBhcyBzYW1lIHR5cGUgYXMgdW5kZWZpbmVkLCBib3RoIGNvbnN0YW50c1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09ICdib29sZWFuJykge1xyXG5cdFx0XHR0eXBlID0gJ3VuZGVmaW5lZCdcclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHR2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKClcclxuXHRcdFx0dHlwZSA9ICdzdHJpbmcnXHJcblx0XHR9XHJcblx0XHRwcm9wZXJ0eSA9IHdyaXRlUHJvcGVydHkobnVsbCwgdHlwZSwgZXh0ZW5kZWRUeXBlKVxyXG5cdFx0d3JpdGVyc1twcm9wZXJ0eS5jb2RlXSh2YWx1ZSlcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHdyaXRlT25seU51bGwoKSB7XHJcblx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTlVMTClcclxuXHR9XHJcblxyXG5cdC8vIHdyaXRpbmcgYW55IHZhbHVlIGluIGRlZmF1bHQgc2VyaWFsaXphdGlvbiB0eXBlIG1vZGVcclxuXHRmdW5jdGlvbiB3cml0ZUFzRGVmYXVsdCh2YWx1ZSwgaXNSb290KSB7XHJcblx0XHR2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZVxyXG5cdFx0aWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdGlmICghdmFsdWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gd3JpdGVUb2tlbihUWVBFX0NPREUsIE5VTEwpXHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gZWxzZSBjb250aW51ZSB3aXRoIHRoZSBvYmplY3QgY29kZVxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRyZXR1cm4gd3JpdGVJbmxpbmVTdHJpbmcodmFsdWUpXHJcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmICh2YWx1ZSA+Pj4gMCA9PT0gdmFsdWUgfHwgKHZhbHVlID4gMCAmJiB2YWx1ZSA8IDB4NDAwMDAwMDAwMDAwICYmIHZhbHVlICUgMSA9PT0gMCkpKSB7XHJcblx0XHRcdC8vIDQ2IGJpdCB1bnNpZ25lZCBpbnRlZ2VyXHJcblx0XHRcdHJldHVybiB3cml0ZVRva2VuKE5VTUJFUl9DT0RFLCB2YWx1ZSlcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiB3cml0ZVR5cGVkVmFsdWUodmFsdWUpXHJcblx0XHR9XHJcblx0XHR2YXIgb2JqZWN0ID0gdmFsdWVcclxuXHRcdHZhciBjb25zdHJ1Y3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvclxyXG5cdFx0dmFyIG5vdFBsYWluT2JqZWN0XHJcblx0XHRpZiAob2JqZWN0W3RhcmdldFN5bWJvbF0pIHtcclxuXHRcdFx0cmV0dXJuIHdyaXRlQmxvY2tSZWZlcmVuY2UodmFsdWUpXHJcblx0XHR9IGVsc2UgaWYgKGNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcclxuXHRcdFx0bm90UGxhaW5PYmplY3QgPSBmYWxzZVxyXG5cdFx0fSBlbHNlIGlmIChjb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHRcdFx0cHJvcGVydHkgPSB3cml0ZVByb3BlcnR5KHByb3BlcnR5LmtleSwgJ2FycmF5JylcclxuXHRcdFx0cmV0dXJuIHdyaXRlcnNbcHJvcGVydHkuY29kZV0odmFsdWUpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAob2JqZWN0LnRoZW4pIHtcclxuXHRcdFx0XHRyZXR1cm4gd3JpdGVCbG9ja1JlZmVyZW5jZSh2YWx1ZSlcclxuXHRcdFx0fVxyXG5cdFx0XHRleHRlbmRlZFR5cGUgPSBleHRlbmRlZFR5cGVzLmdldChjb25zdHJ1Y3RvcilcclxuXHRcdFx0aWYgKGV4dGVuZGVkVHlwZSkge1xyXG5cdFx0XHRcdGlmIChleHRlbmRlZFR5cGUudG9WYWx1ZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHdyaXRlVHlwZWRWYWx1ZShvYmplY3QpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChvYmplY3RbaXRlcmF0b3JTeW1ib2xdKSB7XHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IHdyaXRlUHJvcGVydHkocHJvcGVydHkua2V5LCAnYXJyYXknKVxyXG5cdFx0XHRcdFx0cmV0dXJuIHdyaXRlQXNJdGVyYWJsZShvYmplY3QsIGlzUm9vdClcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZXh0ZW5kZWRUeXBlcy5zZXQoY29uc3RydWN0b3IsIGV4dGVuZGVkVHlwZSA9IHtcclxuXHRcdFx0XHRcdG5hbWU6IGNvbnN0cnVjdG9yLm5hbWVcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChwcm9wZXJ0eS5jb25zdHJ1Y3RzICE9PSBjb25zdHJ1Y3Rvcikge1xyXG5cdFx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBNRVRBREFUQV9UWVBFKVxyXG5cdFx0XHRcdHdyaXRlSW5saW5lU3RyaW5nKGV4dGVuZGVkVHlwZS5uYW1lKVxyXG5cdFx0XHRcdHByb3BlcnR5LmNvbnN0cnVjdHMgPSBjb25zdHJ1Y3RvclxyXG5cdFx0XHR9XHJcblx0XHRcdG5vdFBsYWluT2JqZWN0ID0gdHJ1ZVxyXG5cdFx0fVxyXG5cdFx0dmFyIHRoaXNQcm9wZXJ0eSA9IHByb3BlcnR5XHJcblx0XHRpZiAodGhpc1Byb3BlcnR5LnJlc2V0VG8gPCB0aGlzUHJvcGVydHkubGVuZ3RoICYmIHRoaXNQcm9wZXJ0eS5zZXJpYWxpemVyICE9IHNlcmlhbGl6ZXJJZCkge1xyXG5cdFx0XHR0aGlzUHJvcGVydHkubGVuZ3RoID0gdGhpc1Byb3BlcnR5LnJlc2V0VG9cclxuXHRcdFx0dGhpc1Byb3BlcnR5LnNlcmlhbGl6ZXIgPSBzZXJpYWxpemVySWRcclxuXHRcdH1cclxuXHRcdHN0YXJ0U2VxdWVuY2UoKVxyXG5cdFx0dmFyIGkgPSAwXHJcblx0XHQvL3ZhciBzcGFyc2UgPSBmYWxzZSAvLyBkZW5zZWx5IHBhY2tlZCBwcm9wZXJ0eSByZWZlcmVuY2VzIGNhbiBiZSBzZWFyY2hlZCBtb3JlIHF1aWNrbHlcclxuXHRcdHZhciByZXN1bWVJbmRleCA9IC0yIC8vIC0yIGRlbm90ZXMgZGVuc2VseSBwYWNrZWQgcHJvcGVydHkgcmVmZXJlbmNlcyBcclxuXHRcdHZhciBwcm9wZXJ0eUluZGV4ID0gMFxyXG5cdFx0Zm9yICh2YXIga2V5IGluIG9iamVjdCkge1xyXG5cdFx0XHRpZiAobm90UGxhaW5PYmplY3QgJiYgIW9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpKVxyXG5cdFx0XHRcdGNvbnRpbnVlXHJcblx0XHRcdHZhciB2YWx1ZSA9IG9iamVjdFtrZXldXHJcblx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWVcclxuXHRcdFx0cHJvcGVydHkgPSB0aGlzUHJvcGVydHlbcHJvcGVydHlJbmRleF1cclxuXHRcdFx0dmFyIGNvbnN0cnVjdG9yXHJcblx0XHRcdHZhciBleHRlbmRlZFR5cGUgPSBmYWxzZVxyXG5cdFx0XHRpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRpZiAodmFsdWUpIHtcclxuXHRcdFx0XHRcdGNvbnN0cnVjdG9yID0gdmFsdWUuY29uc3RydWN0b3JcclxuXHRcdFx0XHRcdGlmIChjb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XHJcblx0XHRcdFx0XHRcdC8vIGxlYXZlIHR5cGUgYXMgaXNcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblx0XHRcdFx0XHRcdHR5cGUgPSAnYXJyYXknXHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRleHRlbmRlZFR5cGUgPSBleHRlbmRlZFR5cGVzLmdldChjb25zdHJ1Y3RvcilcclxuXHRcdFx0XHRcdFx0aWYgKGV4dGVuZGVkVHlwZSAmJiBleHRlbmRlZFR5cGUudG9WYWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gZXh0ZW5kZWRUeXBlLnRvVmFsdWUodmFsdWUpXHJcblx0XHRcdFx0XHRcdFx0dHlwZSA9IHR5cGVvZiB2YWx1ZSAvLyBnbyB0aHJvdWdoIHRoZSBzYW1lIGxvZ2ljIGFkanVzdG1lbnQgaGVyZVxyXG5cdFx0XHRcdFx0XHRcdGlmICh2YWx1ZSAmJiB0eXBlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHR5cGUgPSAnYXJyYXknXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHZhbHVlW2l0ZXJhdG9yU3ltYm9sXSAmJiAhdmFsdWUudGhlbikge1xyXG5cdFx0XHRcdFx0XHRcdHR5cGUgPSAnYXJyYXknXHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZXh0ZW5kZWRUeXBlID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7IC8vIG51bGxcclxuXHRcdFx0XHRcdHR5cGUgPSAndW5kZWZpbmVkJyAvLyB0cmVhdCBudWxsIGFzIHNhbWUgdHlwZSBhcyB1bmRlZmluZWQgKGFuZCBib29sZWFuKSwgYm90aCBjb25zdGFudHMgdGhhdCBjYW4gZ28gaW4gYW55IHR5cGVcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFwcm9wZXJ0eSB8fCBwcm9wZXJ0eS5rZXkgIT09IGtleSB8fFxyXG5cdFx0XHRcdChwcm9wZXJ0eS50eXBlICE9PSB0eXBlICYmIHR5cGUgIT09ICdib29sZWFuJyAmJiB0eXBlICE9PSAndW5kZWZpbmVkJyAmJiAhKHR5cGUgPT09ICdzdHJpbmcnICYmIHByb3BlcnR5LnR5cGUgIT09ICdudW1iZXInKSkgfHxcclxuXHRcdFx0XHQoZXh0ZW5kZWRUeXBlICYmIHByb3BlcnR5LmV4dGVuZGVkVHlwZSAhPT0gY29uc3RydWN0b3IpKSB7XHJcblx0XHRcdFx0dmFyIGxhc3RQcm9wZXJ0eUluZGV4ID0gcHJvcGVydHlJbmRleFxyXG5cdFx0XHRcdC8vIHByb3BlcnR5IGRvZXNuJ3QgbWF0Y2gsIHNlYXJjaCBmb3IgaXQgdGhyb3VnaCBleGlzdGluZyBwcm9wZXJ0aWVzXHJcblx0XHRcdFx0Ly8gbm90ZSB0aGF0IHdlIGFyZSBzdGFydGluZyBhdCB0aGUgY3VycmVudCBwcm9wZXJ0eUluZGV4LCBzbyB0aGlzIG1ha2VzIHRoZSBhc3N1bXB0aW9uIHRoYXRcclxuXHRcdFx0XHQvLyBwcm9wZXJ0aWVzIGFyZSByYXJlbHkgZXZlciBzd2FwcGVkLCBzbyBwb3NzaWJsZSBwcm9wZXJ0eSBzbG90cyBhcmUgYWx3YXlzIGZvcndhcmRcclxuXHRcdFx0XHRpZiAocmVzdW1lSW5kZXggPiAtMilcclxuXHRcdFx0XHRcdHByb3BlcnR5SW5kZXggPSByZXN1bWVJbmRleFxyXG5cdFx0XHRcdGRvIHtcclxuXHRcdFx0XHRcdHByb3BlcnR5ID0gdGhpc1Byb3BlcnR5WysrcHJvcGVydHlJbmRleF1cclxuXHRcdFx0XHR9IHdoaWxlKHByb3BlcnR5ICYmIChwcm9wZXJ0eS5rZXkgIT09IGtleSB8fFxyXG5cdFx0XHRcdFx0XHQocHJvcGVydHkudHlwZSAhPT0gdHlwZSAmJiB0eXBlICE9PSAnYm9vbGVhbicgJiYgdHlwZSAhPT0gJ3VuZGVmaW5lZCcgJiYgISh0eXBlID09PSAnc3RyaW5nJyAmJiBwcm9wZXJ0eS50eXBlICE9PSAnbnVtYmVyJykpIHx8XHJcblx0XHRcdFx0XHRcdChleHRlbmRlZFR5cGUgJiYgcHJvcGVydHkuZXh0ZW5kZWRUeXBlICE9PSBjb25zdHJ1Y3RvcikpKVxyXG5cdFx0XHRcdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdFx0Ly8gZm91bmQgYSBtYXRjaCwgcmVmZXJlbmNlIGl0XHJcblx0XHRcdFx0XHR3cml0ZVRva2VuKFBST1BFUlRZX0NPREUsIHByb3BlcnR5SW5kZXgpXHJcblx0XHRcdFx0XHRpZiAocmVzdW1lSW5kZXggPT09IC0yKSB7XHJcblx0XHRcdFx0XHRcdHJlc3VtZUluZGV4ID0gbGFzdFByb3BlcnR5SW5kZXggLSAxXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzUHJvcGVydHkuZ2V0UHJvcGVydHkpIHtcclxuXHRcdFx0XHRcdC8vIGEgc2hhcmVkIHByb3BlcnR5LCBsZXQgaXQgYWxsb2NhdGUgaWRzXHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IHRoaXNQcm9wZXJ0eS5nZXRQcm9wZXJ0eSh2YWx1ZSwga2V5LCB0eXBlLCBleHRlbmRlZFR5cGUsIHdyaXRlUHJvcGVydHksIHdyaXRlVG9rZW4sIGxhc3RQcm9wZXJ0eUluZGV4KVxyXG5cdFx0XHRcdFx0cHJvcGVydHlJbmRleCA9IHByb3BlcnR5LmluZGV4XHJcblx0XHRcdFx0XHRpZiAobGFzdFByb3BlcnR5SW5kZXggIT09IHByb3BlcnR5SW5kZXggJiYgcmVzdW1lSW5kZXggPT09IC0yKSB7XHJcblx0XHRcdFx0XHRcdHJlc3VtZUluZGV4ID0gbGFzdFByb3BlcnR5SW5kZXggLSAxXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGlmIChsYXN0UHJvcGVydHlJbmRleCA9PT0gdGhpc1Byb3BlcnR5Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4ID0gbGFzdFByb3BlcnR5SW5kZXhcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHdyaXRlVG9rZW4oUFJPUEVSVFlfQ09ERSwgcHJvcGVydHlJbmRleCA9IHRoaXNQcm9wZXJ0eS5sZW5ndGgpXHJcblx0XHRcdFx0XHRcdGlmIChyZXN1bWVJbmRleCA9PT0gLTIpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXN1bWVJbmRleCA9IGxhc3RQcm9wZXJ0eUluZGV4IC0gMVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAocHJvcGVydHlJbmRleCA8IHRoaXNQcm9wZXJ0eS5yZXNldFRvKSB7XHJcblx0XHRcdFx0XHRcdGRlYnVnZ2VyXHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignb3ZlcndyaXRpbmcgZnJvemVuIHByb3BlcnR5JylcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IHRoaXNQcm9wZXJ0eVtwcm9wZXJ0eUluZGV4XSA9IHdyaXRlUHJvcGVydHkoa2V5LCB0eXBlLCBleHRlbmRlZFR5cGUpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChwcm9wZXJ0eVVzZWQpXHJcblx0XHRcdFx0cHJvcGVydHlVc2VkKHByb3BlcnR5LCBvYmplY3QsIHNlcmlhbGl6ZXJJZCwgaSlcclxuLy9cdFx0XHRpZiAocHJvcGVydHkucmVzdW1lSW5kZXgpIC8vIFRPRE86IGFkZCBhIGZsYWcgdG8gZW5hYmxlIHRoaXMgd2hlbiBwcm9wZXJ0eSBvcmRlcmluZyBjYW4gYmUgYXNzdW1lZFxyXG4vL1x0XHRcdFx0cmVzdW1lSW5kZXggPSBwcm9wZXJ0eS5yZXN1bWVJbmRleFxyXG5cdFx0XHR2YXIgY29kZSA9IHByb3BlcnR5LmNvZGVcclxuXHRcdFx0aWYgKGNvZGUgPiA3KSB7XHJcblx0XHRcdFx0aWYgKGNvZGUgPT09IDgpXHJcblx0XHRcdFx0XHR3cml0ZUFzUmVmZXJlbmNpbmcodmFsdWUpXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0d3JpdGVBc051bWJlcih2YWx1ZSlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAoY29kZSA9PT0gNikgXHJcblx0XHRcdFx0XHR3cml0ZUFzRGVmYXVsdCh2YWx1ZSlcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR3cml0ZUFzQXJyYXkodmFsdWUpXHJcblx0XHRcdH1cclxuXHRcdFx0cHJvcGVydHlJbmRleCsrXHJcblx0XHRcdGkrK1xyXG5cdFx0fVxyXG5cdFx0cHJvcGVydHkgPSB0aGlzUHJvcGVydHlcclxuXHRcdGVuZFNlcXVlbmNlKGkpXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB3cml0ZVByb3BlcnR5KGtleSwgdHlwZSwgZXh0ZW5kZWRUeXBlKSB7XHJcblx0XHR2YXIgcHJvcGVydHlcclxuXHRcdHByb3BlcnR5ID0gW11cclxuXHRcdHByb3BlcnR5LmtleSA9IGtleVxyXG5cdFx0cHJvcGVydHkudHlwZSA9IHR5cGVcclxuXHRcdGlmICh0eXBlID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgUkVGRVJFTkNJTkdfVFlQRSlcclxuXHRcdFx0cHJvcGVydHkudmFsdWVzID0gW11cclxuXHRcdFx0cHJvcGVydHkuY29kZSA9IFJFRkVSRU5DSU5HX1RZUEVcclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0d3JpdGVUb2tlbihUWVBFX0NPREUsIE5VTUJFUl9UWVBFKVxyXG5cdFx0XHRwcm9wZXJ0eS5jb2RlID0gTlVNQkVSX1RZUEVcclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0d3JpdGVUb2tlbihUWVBFX0NPREUsIERFRkFVTFRfVFlQRSlcclxuXHRcdFx0cHJvcGVydHkuY29kZSA9IERFRkFVTFRfVFlQRVxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnYXJyYXknKSB7XHJcblx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBBUlJBWV9UWVBFKVxyXG5cdFx0XHRwcm9wZXJ0eS5jb2RlID0gQVJSQVlfVFlQRVxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnYm9vbGVhbicgfHwgdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0cHJvcGVydHkudHlwZSA9ICdvYmplY3QnXHJcblx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBERUZBVUxUX1RZUEUpXHJcblx0XHRcdHByb3BlcnR5LmNvZGUgPSBERUZBVUxUX1RZUEVcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBERUZBVUxUX1RZUEUpXHJcblx0XHRcdHByb3BlcnR5LmNvZGUgPSAxMFxyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gd3JpdGUgdmFsdWUgb2YgdHlwZSAnICsgdHlwZSlcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0d3JpdGVJbmxpbmVTdHJpbmcoa2V5KVxyXG5cdFx0fSBlbHNlIGlmICghKGtleSA9PT0gbnVsbCAmJiAodHlwZSA9PT0gJ29iamVjdCcgfHwgdHlwZSA9PT0gJ2FycmF5JykpKSB7IC8vIGlmIGtleSBpcyBudWxsIGZvbGxvd2VkIGJ5IHNlcXVlbmNlLCB3ZSBjYW4gZWxpZGUgdGhlIGtleVxyXG5cdFx0XHR3cml0ZUFzRGVmYXVsdChrZXkpXHJcblx0XHR9XHJcblx0XHRpZiAoZXh0ZW5kZWRUeXBlKSB7XHJcblx0XHRcdHByb3BlcnR5LmV4dGVuZGVkVHlwZSA9IGV4dGVuZGVkVHlwZVxyXG5cdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTUVUQURBVEFfVFlQRSlcclxuXHRcdFx0d3JpdGVJbmxpbmVTdHJpbmcoZXh0ZW5kZWRUeXBlLm5hbWUpXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcHJvcGVydHlcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHdyaXRlQXNJdGVyYWJsZShpdGVyYWJsZSwgaXNSb290LCBpdGVyYXRvcikge1xyXG5cdFx0Ly8gVE9ETzogV2l0aCB0b3AgbGV2ZWwgaXRlcmFibGVzIHdlIGNvdWxkIHBhdXNlIGZvciBiYWNrLXByZXNzdXJlXHJcblx0XHR0cnkge1xyXG5cdFx0XHRpZiAoIWl0ZXJhdG9yKSB7XHJcblx0XHRcdFx0d3JpdGVUb2tlbihTRVFVRU5DRV9DT0RFLCBPUEVOX1NFUVVFTkNFKVxyXG5cdFx0XHRcdGl0ZXJhdG9yID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdKClcclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgYXJyYXlQcm9wZXJ0eSA9IHByb3BlcnR5XHJcblx0XHRcdHByb3BlcnR5ID0gYXJyYXlQcm9wZXJ0eS5jaGlsZCB8fCAoYXJyYXlQcm9wZXJ0eS5jaGlsZCA9IGFycmF5UHJvcGVydHkpIC8vIHNldCB0aGUgY3VycmVudCBwcm9wZXJ0eSB0byB0aGUgY2hpbGQgcHJvcGVydHlcclxuXHRcdFx0Ly8gd3JpdGUgb3V0IHRoZSBlbGVtZW50c1xyXG5cdFx0XHR2YXIgcmVzdWx0XHJcblx0XHRcdHdoaWxlKCEocmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XHJcblx0XHRcdFx0d3JpdGVyc1twcm9wZXJ0eS5jb2RlXShyZXN1bHQudmFsdWUsIGFycmF5UHJvcGVydHkpXHJcblx0XHRcdFx0aWYgKGlzUm9vdCAmJiBjaGFyRW5jb2Rlci5oYXNXcml0dGVuKSB7XHJcblx0XHRcdFx0XHRjaGFyRW5jb2Rlci5oYXNXcml0dGVuID0gZmFsc2UgLy8gcmVzZXQgdGhpcyBwcm9wZXJ0eVxyXG5cdFx0XHRcdFx0cHJvcGVydHkgPSBhcnJheVByb3BlcnR5IC8vIHJlc3RvcmUgY3VycmVudCBwcm9wZXJ0eVxyXG5cdFx0XHRcdFx0cGVuZGluZ0VuY29kaW5ncy51bnNoaWZ0KHtcclxuXHRcdFx0XHRcdFx0dGhlbjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuXHRcdFx0XHRcdFx0XHR3cml0ZUFzSXRlcmFibGUobnVsbCwgdHJ1ZSwgaXRlcmF0b3IpXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKClcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaChlcnJvcikge1xyXG5cdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTUVUQURBVEFfVFlQRSlcclxuXHRcdFx0d3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgRVJST1JfTUVUQURBVEEpXHJcblx0XHRcdHdyaXRlQXNEZWZhdWx0KE9iamVjdC5hc3NpZ24obmV3ICgodHlwZW9mIGVycm9yID09ICdvYmplY3QnICYmIGVycm9yKSA/IGVycm9yLmNvbnN0cnVjdG9yIDogRXJyb3IpKCksIHtcclxuXHRcdFx0XHRuYW1lOiBlcnJvciAmJiBlcnJvci5uYW1lLCAvLyBtYWtlIHRoZXNlIGVudW1lcmFibGUgc28gdGhleSB3aWxsIHNlcmlhbGl6ZVxyXG5cdFx0XHRcdG1lc3NhZ2U6IGVycm9yICYmIGVycm9yLm1lc3NhZ2UgfHwgZXJyb3JcclxuXHRcdFx0fSkpXHJcblx0XHRcdHRocm93IGVycm9yXHJcblx0XHR9XHJcblx0XHRpZiAocHJvcGVydHkgIT09IGFycmF5UHJvcGVydHkuY2hpbGQpIHtcclxuXHRcdFx0Ly8gVE9ETzogVGhpcyByZWFsbHkgbmVlZHMgdG8gaGFwcGVuIGltbWVkaWF0ZWx5IHdoZW4gYSBwcm9wZXJ0eSBjaGFuZ2VzLCB0byBtYXRjaCB0aGUgcGFyc2luZyBiZWhhdmlvclxyXG5cdFx0XHRhcnJheVByb3BlcnR5LmNoaWxkID0gcHJvcGVydHlcclxuXHRcdH1cclxuXHRcdHByb3BlcnR5ID0gYXJyYXlQcm9wZXJ0eSAvLyByZXN0b3JlIGN1cnJlbnQgcHJvcGVydHlcclxuXHRcdHdyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgRU5EX1NFUVVFTkNFKSAvLyBlbmQgc2VxdWVuY2VcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHdyaXRlQXNBcnJheShhcnJheSkge1xyXG5cdFx0aWYgKCFhcnJheSkge1xyXG5cdFx0XHR3cml0ZVR5cGVkVmFsdWUoYXJyYXkpXHJcblx0XHR9IGVsc2UgaWYgKGFycmF5W3RhcmdldFN5bWJvbF0pIHtcclxuXHRcdFx0cmV0dXJuIHdyaXRlQmxvY2tSZWZlcmVuY2UoYXJyYXkpXHJcblx0XHR9IGVsc2UgaWYgKGFycmF5LmNvbnN0cnVjdG9yID09PSBBcnJheSkgeyAvLyBjaGVjayB0byBtYWtlIHN1cmUgaXQgaXMgYW4gYXJyYXlcclxuXHRcdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aFxyXG5cdFx0XHR2YXIgbmVlZHNDbG9zaW5nXHJcblx0XHRcdGlmIChsZW5ndGggPiAxMSkge1xyXG5cdFx0XHRcdHdyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgT1BFTl9TRVFVRU5DRSkgLy8gc3RhcnQgc2VxdWVuY2UgPFxyXG5cdFx0XHRcdG5lZWRzQ2xvc2luZyA9IHRydWVcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR3cml0ZVRva2VuKFNFUVVFTkNFX0NPREUsIGxlbmd0aCkgLy8gd3JpdGUgb3V0IHRoZSBoZWFkZXIgdG9rZW5cclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgYXJyYXlQcm9wZXJ0eSA9IHByb3BlcnR5XHJcblx0XHRcdHByb3BlcnR5ID0gYXJyYXlQcm9wZXJ0eVswXSAvLyBzZXQgdGhlIGN1cnJlbnQgcHJvcGVydHkgdG8gdGhlIGNoaWxkIHByb3BlcnR5XHJcblx0XHRcdC8vIGNoZWNrIHRvIHNlZSBpZiBuZWVkcyB0byBiZSByZXNldCBiZWZvcmUgc3RhcnRpbmdcclxuXHRcdFx0aWYgKGFycmF5UHJvcGVydHkucmVzZXRUbyA8IGFycmF5UHJvcGVydHkubGVuZ3RoICYmIGFycmF5UHJvcGVydHkuc2VyaWFsaXplciAhPSBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0XHRhcnJheVByb3BlcnR5Lmxlbmd0aCA9IGFycmF5UHJvcGVydHkucmVzZXRUb1xyXG5cdFx0XHRcdGFycmF5UHJvcGVydHkuc2VyaWFsaXplciA9IHNlcmlhbGl6ZXJJZFxyXG5cdFx0XHR9XHJcblx0XHRcdHZhciBwcm9wZXJ0eUluZGV4ID0gMFxyXG5cdFx0XHQvLyB3cml0ZSBvdXQgdGhlIGVsZW1lbnRzXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgdmFsdWUgPSBhcnJheVtpXVxyXG5cdFx0XHRcdHZhciB0eXBlID0gdHlwZW9mIHZhbHVlXHJcblx0XHRcdFx0aWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0XHRpZiAodmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGNvbnN0cnVjdG9yID0gdmFsdWUuY29uc3RydWN0b3JcclxuXHRcdFx0XHRcdFx0aWYgKGNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBsZWF2ZSB0eXBlIGFzIGlzXHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblx0XHRcdFx0XHRcdFx0dHlwZSA9ICdhcnJheSdcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZXh0ZW5kZWRUeXBlID0gZXh0ZW5kZWRUeXBlcy5nZXQoY29uc3RydWN0b3IpXHJcblx0XHRcdFx0XHRcdFx0aWYgKGV4dGVuZGVkVHlwZSAmJiBleHRlbmRlZFR5cGUudG9WYWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBleHRlbmRlZFR5cGUudG9WYWx1ZSh2YWx1ZSlcclxuXHRcdFx0XHRcdFx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWUgLy8gZ28gdGhyb3VnaCB0aGUgc2FtZSBsb2dpYyBhZGp1c3RtZW50IGhlcmVcclxuXHRcdFx0XHRcdFx0XHRcdGlmICh2YWx1ZSAmJiB0eXBlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZSA9ICdhcnJheSdcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZXh0ZW5kZWRUeXBlID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2UgeyAvLyBudWxsXHJcblx0XHRcdFx0XHRcdHR5cGUgPSAndW5kZWZpbmVkJyAvLyB0cmVhdCBudWxsIGFzIHNhbWUgdHlwZSBhcyB1bmRlZmluZWQsIGJvdGggY29uc3RhbnRzXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICghcHJvcGVydHkpIHtcclxuXHRcdFx0XHRcdGlmIChhcnJheVByb3BlcnR5LmdldFByb3BlcnR5KSB7XHJcblx0XHRcdFx0XHRcdC8vIGEgc2hhcmVkIHByb3BlcnR5XHJcblx0XHRcdFx0XHRcdHByb3BlcnR5ID0gYXJyYXlQcm9wZXJ0eS5nZXRQcm9wZXJ0eSh2YWx1ZSwgbnVsbCwgdHlwZSwgZXh0ZW5kZWRUeXBlLCB3cml0ZVByb3BlcnR5LCB3cml0ZVRva2VuLCAwKVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0aWYgKHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGUgPT09ICdudW1iZXInIHx8IHR5cGUgPT09ICdhcnJheScpXHJcblx0XHRcdFx0XHRcdFx0cHJvcGVydHkgPSB3cml0ZVByb3BlcnR5KG51bGwsIHR5cGUsIGV4dGVuZGVkVHlwZSlcclxuXHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gZGVmYXVsdCBkb2Vzbid0IGhhdmUgdG8gYmUgd3JpdHRlblxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5ID0gW11cclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS50eXBlID0gdHlwZVxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5LmtleSA9IG51bGxcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5jb2RlID0gREVGQVVMVF9UWVBFXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0YXJyYXlQcm9wZXJ0eVswXSA9IHByb3BlcnR5XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmICgocHJvcGVydHkudHlwZSAhPT0gdHlwZSAmJiB0eXBlICE9PSAnYm9vbGVhbicgJiYgdHlwZSAhPT0gJ3VuZGVmaW5lZCcgJiYgISh0eXBlID09PSAnc3RyaW5nJyAmJiBwcm9wZXJ0eS50eXBlICE9PSAnbnVtYmVyJykpIHx8XHJcblx0XHRcdFx0XHQoZXh0ZW5kZWRUeXBlICYmIHByb3BlcnR5LmV4dGVuZGVkVHlwZSAhPT0gY29uc3RydWN0b3IpKSB7XHJcblx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4ID0gLTFcclxuXHRcdFx0XHRcdGRvIHtcclxuXHRcdFx0XHRcdFx0cHJvcGVydHkgPSBhcnJheVByb3BlcnR5WysrcHJvcGVydHlJbmRleF1cclxuXHRcdFx0XHRcdH0gd2hpbGUocHJvcGVydHkgJiYgKChwcm9wZXJ0eS50eXBlICE9PSB0eXBlICYmIHR5cGUgIT09ICdib29sZWFuJyAmJiB0eXBlICE9PSAndW5kZWZpbmVkJyAmJiAhKHR5cGUgPT09ICdzdHJpbmcnICYmIHByb3BlcnR5LnR5cGUgIT09ICdudW1iZXInKSkgfHxcclxuXHRcdFx0XHRcdFx0XHQoZXh0ZW5kZWRUeXBlICYmIHByb3BlcnR5LmV4dGVuZGVkVHlwZSAhPT0gY29uc3RydWN0b3IpKSlcclxuXHRcdFx0XHRcdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdFx0XHR3cml0ZVRva2VuKFBST1BFUlRZX0NPREUsIHByb3BlcnR5SW5kZXgpXHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGFycmF5UHJvcGVydHkuZ2V0UHJvcGVydHkpIHtcclxuXHRcdFx0XHRcdFx0Ly8gYSBzaGFyZWQgcHJvcGVydHlcclxuXHRcdFx0XHRcdFx0cHJvcGVydHkgPSBhcnJheVByb3BlcnR5LmdldFByb3BlcnR5KHZhbHVlLCBudWxsLCB0eXBlLCBleHRlbmRlZFR5cGUsIHdyaXRlUHJvcGVydHksIHdyaXRlVG9rZW4sIC0xKVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0d3JpdGVUb2tlbihQUk9QRVJUWV9DT0RFLCBwcm9wZXJ0eUluZGV4KVxyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eSA9IHdyaXRlUHJvcGVydHkobnVsbCwgdHlwZSwgZXh0ZW5kZWRUeXBlKVxyXG5cdFx0XHRcdFx0XHRhcnJheVByb3BlcnR5W3Byb3BlcnR5SW5kZXhdID0gcHJvcGVydHlcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHByb3BlcnR5VXNlZClcclxuXHRcdFx0XHRcdHByb3BlcnR5VXNlZChwcm9wZXJ0eSwgYXJyYXksIHNlcmlhbGl6ZXJJZCwgaSlcclxuXHRcdFx0XHR2YXIgY29kZSA9IHByb3BlcnR5LmNvZGVcclxuXHRcdFx0XHRpZiAoY29kZSA+IDcpIHtcclxuXHRcdFx0XHRcdGlmIChjb2RlID09PSA4KVxyXG5cdFx0XHRcdFx0XHR3cml0ZUFzUmVmZXJlbmNpbmcodmFsdWUpXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHdyaXRlQXNOdW1iZXIodmFsdWUpXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGlmIChjb2RlID09PSA2KSBcclxuXHRcdFx0XHRcdFx0d3JpdGVBc0RlZmF1bHQodmFsdWUpXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHdyaXRlQXNBcnJheSh2YWx1ZSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKG5lZWRzQ2xvc2luZykge1xyXG5cdFx0XHRcdHdyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgRU5EX1NFUVVFTkNFKSAvLyBlbmQgc2VxdWVuY2VcclxuXHRcdFx0fVxyXG5cdFx0XHRwcm9wZXJ0eSA9IGFycmF5UHJvcGVydHkgLy8gcmVzdG9yZSBjdXJyZW50IHByb3BlcnR5XHJcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBhcnJheSA9PSAnb2JqZWN0JyAmJiBhcnJheVtpdGVyYXRvclN5bWJvbF0pIHtcclxuXHRcdFx0cmV0dXJuIHdyaXRlQXNJdGVyYWJsZShhcnJheSlcclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0cmV0dXJuIHdyaXRlSW5saW5lU3RyaW5nKHZhbHVlKVxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiAodmFsdWUgPj4+IDAgPT09IHZhbHVlIHx8ICh2YWx1ZSA+IDAgJiYgdmFsdWUgPCAweDQwMDAwMDAwMDAwMCAmJiB2YWx1ZSAlIDEgPT09IDApKSkge1xyXG5cdFx0XHRyZXR1cm4gd3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgdmFsdWUpXHJcblx0XHR9IGVsc2UgeyAvLyBiYWlsIHRvIGRlZmF1bHQgbW9kZSBiZWhhdmlvclxyXG5cdFx0XHR3cml0ZVR5cGVkVmFsdWUoYXJyYXkpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2YXIgYmxvY2tQcm9wZXJ0eVxyXG5cclxuXHRmdW5jdGlvbiB3cml0ZUJsb2NrUmVmZXJlbmNlKGJsb2NrLCB3cml0ZXIpIHtcclxuXHRcdHdyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgREVGRVJSRURfUkVGRVJFTkNFKVxyXG5cdFx0dmFyIGJsb2NrUHJvcGVydHkgPSBwcm9wZXJ0eVxyXG5cdFx0dmFyIGxhenlQcm9taXNlID0gYmxvY2tbdGFyZ2V0U3ltYm9sXSA/IHtcclxuXHRcdFx0dGhlbjogdGhlblxyXG5cdFx0fSA6IHtcclxuXHRcdFx0dGhlbjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuXHRcdFx0XHRyZXR1cm4gYmxvY2sudGhlbihmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0YmxvY2sgPSB2YWx1ZVxyXG5cdFx0XHRcdFx0dGhlbihjYWxsYmFjaylcclxuXHRcdFx0XHR9LCBmdW5jdGlvbihlcnJvcikge1xyXG5cdFx0XHRcdFx0YmxvY2sgPSBPYmplY3QuYXNzaWduKG5ldyAoKHR5cGVvZiBlcnJvciA9PSAnb2JqZWN0JyAmJiBlcnJvcikgPyBlcnJvci5jb25zdHJ1Y3RvciA6IEVycm9yKSgpLCB7XHJcblx0XHRcdFx0XHRcdG5hbWU6IGVycm9yICYmIGVycm9yLm5hbWUsIC8vIG1ha2UgdGhlc2UgZW51bWVyYWJsZSBzbyB0aGV5IHdpbGwgc2VyaWFsaXplXHJcblx0XHRcdFx0XHRcdG1lc3NhZ2U6IGVycm9yICYmIGVycm9yLm1lc3NhZ2UgfHwgZXJyb3JcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRpZiAoIWJsb2NrUHJvcGVydHkudXBncmFkZSkge1xyXG5cdFx0XHRcdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTUVUQURBVEFfVFlQRSlcclxuXHRcdFx0XHRcdFx0d3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgRVJST1JfTUVUQURBVEEpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGVuKGNhbGxiYWNrKVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIHRoZW4oY2FsbGJhY2spIHtcclxuXHRcdFx0aWYgKG9wdGlvbnMuZm9yQmxvY2sgJiYgYmxvY2spIHtcclxuXHRcdFx0XHQvLyB0aGlzIGlzIHVzZWQgYnkgdGhlIHNpemVUYWJsZSBzZXJpYWxpemVyIHRvIHJlY29yZCB0aGUgc2l6ZSBvZiBlYWNoIGJsb2NrXHJcblx0XHRcdFx0b3B0aW9ucy5mb3JCbG9jayhibG9jaywgYmxvY2tQcm9wZXJ0eSlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgYnVmZmVyID0gYmxvY2sgJiYgYmxvY2tbYnVmZmVyU3ltYm9sXSAmJiBibG9ja1tidWZmZXJTeW1ib2xdKGJsb2NrUHJvcGVydHkpXHJcblx0XHRcdFx0aWYgKGJ1ZmZlcikge1xyXG5cdFx0XHRcdFx0d3JpdGVCdWZmZXIoYnVmZmVyKVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IGJsb2NrUHJvcGVydHlcclxuXHRcdFx0XHRcdHZhciBsYXN0UGVuZGluZ0VuY29kaW5ncyA9IHBlbmRpbmdFbmNvZGluZ3NcclxuXHRcdFx0XHRcdHBlbmRpbmdFbmNvZGluZ3MgPSBbXSAvLyByZWNvcmQgYW55IG5lc3RlZCBwZW5kaW5nIGVuY29kaW5nIHNlcGFyYXRlbHlcclxuXHRcdFx0XHRcdHdyaXRlQXNEZWZhdWx0KGJsb2NrLCB0cnVlKSAvLyB3cml0ZSBpdCBvdXQgYXMgdGhlIG5leHQgYmxvY2tcclxuXHRcdFx0XHRcdGxhc3RQZW5kaW5nRW5jb2RpbmdzLnVuc2hpZnQuYXBwbHkobGFzdFBlbmRpbmdFbmNvZGluZ3MsIHBlbmRpbmdFbmNvZGluZ3MpIC8vIGFuZCBzcGxpY2UgdGhlbSBpbiBmcm9udFxyXG5cdFx0XHRcdFx0cGVuZGluZ0VuY29kaW5ncyA9IGxhc3RQZW5kaW5nRW5jb2RpbmdzXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGNhbGxiYWNrKClcclxuXHRcdH1cclxuXHRcdHBlbmRpbmdFbmNvZGluZ3MucHVzaChsYXp5UHJvbWlzZSlcclxuXHR9XHJcblxyXG5cdHZhciBzZXJpYWxpemVyID0ge1xyXG5cdFx0c2VyaWFsaXplOiBmdW5jdGlvbih2YWx1ZSwgc2hhcmVkUHJvcGVydHkpIHtcclxuXHRcdFx0dmFyIGJ1ZmZlciA9IHZhbHVlICYmIHZhbHVlW2J1ZmZlclN5bWJvbF0gJiYgdmFsdWVbYnVmZmVyU3ltYm9sXShzaGFyZWRQcm9wZXJ0eSlcclxuXHJcblx0XHRcdGlmIChidWZmZXIpIHtcclxuXHRcdFx0XHRjaGFyRW5jb2Rlci53cml0ZUJ1ZmZlcihidWZmZXIpXHJcblx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHNoYXJlZFByb3BlcnR5KSB7XHJcblx0XHRcdFx0cHJvcGVydHkgPSBzaGFyZWRQcm9wZXJ0eVxyXG5cdFx0XHRcdHdyaXRlcnNbcHJvcGVydHkuY29kZV0odmFsdWUpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cHJvcGVydHkgPSBbXVxyXG5cdFx0XHRcdHByb3BlcnR5LmtleSA9IG51bGxcclxuXHRcdFx0XHR3cml0ZUFzRGVmYXVsdCh2YWx1ZSwgdHJ1ZSlcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGdldFNlcmlhbGl6ZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAocGVuZGluZ0VuY29kaW5ncy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0dmFyIHByb21pc2VzID0gW11cclxuXHRcdFx0XHR3aGlsZSAocGVuZGluZ0VuY29kaW5ncy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHR2YXIgZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0XHRcdFx0dmFyIHByb21pc2UgPSBwZW5kaW5nRW5jb2RpbmdzLnNoaWZ0KCkudGhlbihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0ZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0aWYgKCFmaW5pc2hlZCkge1xyXG5cdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHByb21pc2UpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChwcm9taXNlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBzZXJpYWxpemVyLmdldFNlcmlhbGl6ZWQoKVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5lbmNvZGluZyA9PT0gJ3V0ZjE2bGUnKSB7XHJcblx0XHRcdFx0cmV0dXJuIEJ1ZmZlci5mcm9tKGNoYXJFbmNvZGVyLmdldFNlcmlhbGl6ZWQoKSwgJ3V0ZjE2bGUnKVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBjaGFyRW5jb2Rlci5nZXRTZXJpYWxpemVkKClcclxuXHRcdH0sXHJcblx0XHRmbHVzaDogY2hhckVuY29kZXIuZmx1c2gsXHJcblx0XHRzZXRPZmZzZXQ6IGNoYXJFbmNvZGVyLnNldE9mZnNldCxcclxuXHRcdGZpbmlzaDogY2hhckVuY29kZXIuZmluaXNoLFxyXG5cdFx0cGVuZGluZ0VuY29kaW5nczogcGVuZGluZ0VuY29kaW5ncyxcclxuXHRcdGdldFdyaXRlcnM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHdyaXRlUHJvcGVydHk6IHdyaXRlUHJvcGVydHksXHJcblx0XHRcdFx0d3JpdGVUb2tlbjogd3JpdGVUb2tlbixcclxuXHRcdFx0XHR3cml0ZUFzRGVmYXVsdDogd3JpdGVBc0RlZmF1bHQsXHJcblx0XHRcdFx0d3JpdGVCdWZmZXI6IHdyaXRlQnVmZmVyXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIHNlcmlhbGl6ZXJcclxufVxyXG5mdW5jdGlvbiBzZXJpYWxpemUodmFsdWUsIG9wdGlvbnMpIHtcclxuXHR2YXIgc2VyaWFsaXplciA9IGNyZWF0ZVNlcmlhbGl6ZXIob3B0aW9ucylcclxuXHR2YXIgc2hhcmVkUHJvcGVydHkgPSBvcHRpb25zICYmIG9wdGlvbnMuc2hhcmVkXHJcblx0dmFyIGJ1ZmZlclxyXG5cdGlmIChzaGFyZWRQcm9wZXJ0eSAmJiBzaGFyZWRQcm9wZXJ0eS5zdGFydFdyaXRlKSB7XHJcblx0XHQvLyByZWNvcmQgdGhlIHN0YXJ0IG9mIGVhY2ggd3JpdGVcclxuXHRcdHNoYXJlZFByb3BlcnR5LnN0YXJ0V3JpdGUob3B0aW9ucy5hdm9pZFNoYXJlVXBkYXRlLCB2YWx1ZSlcclxuXHR9XHJcblx0c2VyaWFsaXplci5zZXJpYWxpemUodmFsdWUsIHNoYXJlZFByb3BlcnR5KVxyXG5cdGJ1ZmZlciA9IHNlcmlhbGl6ZXIuZ2V0U2VyaWFsaXplZCgpXHJcblx0aWYgKHNoYXJlZFByb3BlcnR5ICYmIHNoYXJlZFByb3BlcnR5LmVuZFdyaXRlKSB7XHJcblx0XHQvLyByZWNvcmQgdGhlIGVuZCBvZiBlYWNoIHdyaXRlXHJcblx0XHRzaGFyZWRQcm9wZXJ0eS5lbmRXcml0ZShvcHRpb25zLmF2b2lkU2hhcmVVcGRhdGUsIHZhbHVlKVxyXG5cdH1cclxuXHRpZiAoc2VyaWFsaXplci5maW5pc2gpXHJcblx0XHRzZXJpYWxpemVyLmZpbmlzaCgpXHJcblx0dmFyIHNpemVUYWJsZSA9IHZhbHVlICYmIHZhbHVlW2V4cG9ydHMuc2l6ZVRhYmxlU3ltYm9sXVxyXG5cdGlmIChzaXplVGFibGUpIHtcclxuXHRcdGJ1ZmZlci5zaXplVGFibGUgPSBzaXplVGFibGVcclxuXHR9XHJcblxyXG5cdGlmIChvcHRpb25zICYmIG9wdGlvbnMubGF6eSkge1xyXG5cdFx0cmV0dXJuIEJ1ZmZlci5jb25jYXQoW3ZhbHVlW2V4cG9ydHMuc2l6ZVRhYmxlU3ltYm9sXSwgYnVmZmVyXSlcclxuXHR9XHJcblx0cmV0dXJuIGJ1ZmZlclxyXG59XHJcbmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplXHJcbmV4cG9ydHMuY3JlYXRlU2VyaWFsaXplciA9IGNyZWF0ZVNlcmlhbGl6ZXJcclxuZnVuY3Rpb24gYnJvd3NlckNoYXJFbmNvZGVyKCkge1xyXG5cdHZhciBzZXJpYWxpemVkID0gJydcclxuXHRmdW5jdGlvbiB3cml0ZVRva2VuKHR5cGUsIG51bWJlcikge1xyXG5cdFx0dmFyIHNlcmlhbGl6ZWRUb2tlblxyXG5cdFx0aWYgKG51bWJlciA8IDB4MTApIHsgLy8gNCBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRzZXJpYWxpemVkVG9rZW4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgodHlwZSA8PCA0KSB8IG51bWJlcikgXiAweDQwKVxyXG5cdFx0fSBlbHNlIGlmIChudW1iZXIgPCAweDQwMCkgeyAvLyAxMCBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRzZXJpYWxpemVkVG9rZW4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxyXG5cdFx0XHRcdCh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gNiksXHJcblx0XHRcdFx0KG51bWJlciAmIDB4M2YpICsgMHg0MClcclxuXHRcdH0gZWxzZSBpZiAobnVtYmVyIDwgMHgxMDAwMCkgeyAvLyAxNiBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRzZXJpYWxpemVkVG9rZW4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxyXG5cdFx0XHRcdCh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gMTIpLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDYpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyICYgMHgzZikgKyAweDQwKVxyXG5cdFx0fSBlbHNlIGlmIChudW1iZXIgPCAweDQwMDAwMCkgeyAvLyAyMiBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRzZXJpYWxpemVkVG9rZW4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxyXG5cdFx0XHRcdCh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gMTgpLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4MTAwMDAwMDApIHsgLy8gMjggYml0cyBvZiBudW1iZXJcclxuXHRcdFx0c2VyaWFsaXplZFRva2VuID0gU3RyaW5nLmZyb21DaGFyQ29kZShcclxuXHRcdFx0XHQodHlwZSA8PCA0KSArIChudW1iZXIgPj4+IDI0KSxcclxuXHRcdFx0XHQobnVtYmVyID4+PiAxOCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4MTAwMDAwMDAwKSB7IC8vIDMyIGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdHNlcmlhbGl6ZWRUb2tlbiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcblx0XHRcdFx0KHR5cGUgPDwgNCkgKyAobnVtYmVyID4+PiAzMCksXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gMjQpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiAxOCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4NDAwMDAwMDAwKSB7IC8vIDM0IGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdHNlcmlhbGl6ZWRUb2tlbiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcblx0XHRcdFx0KHR5cGUgPDwgNCkgKyAobnVtYmVyIC8gMHg0MDAwMDAwMCA+Pj4gMCksXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gMjQpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiAxOCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4MTAwMDAwMDAwMDApIHsgLy8gNDAgYml0cyBvZiBudW1iZXJcclxuXHRcdFx0c2VyaWFsaXplZFRva2VuID0gU3RyaW5nLmZyb21DaGFyQ29kZShcclxuXHRcdFx0XHQodHlwZSA8PCA0KSArIChudW1iZXIgLyAweDEwMDAwMDAwMDAgPj4+IDApLFxyXG5cdFx0XHRcdChudW1iZXIgLyAweDQwMDAwMDAwKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gMjQpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiAxOCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4NDAwMDAwMDAwMDAwKSB7IC8vIDQ2IGJpdHMgb2YgbnVtYmVyIChuZWVkZWQgZm9yIGRhdGVzISlcclxuXHRcdFx0c2VyaWFsaXplZFRva2VuID0gU3RyaW5nLmZyb21DaGFyQ29kZShcclxuXHRcdFx0XHQodHlwZSA8PCA0KSArIChudW1iZXIgLyAweDQwMDAwMDAwMDAwID4+PiAwKSxcclxuXHRcdFx0XHQobnVtYmVyIC8gMHgxMDAwMDAwMDAwKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciAvIDB4NDAwMDAwMDApICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiAyNCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDE4KSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gMTIpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiA2KSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciAmIDB4M2YpICsgMHg0MClcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignVG9vIGJpZyBvZiBudW1iZXInKVxyXG5cdFx0fVxyXG5cdFx0c2VyaWFsaXplZCArPSBzZXJpYWxpemVkVG9rZW5cclxuXHR9XHJcblx0ZnVuY3Rpb24gd3JpdGVTdHJpbmcoc3RyaW5nKSB7XHJcblx0XHRzZXJpYWxpemVkICs9IHN0cmluZ1xyXG5cdH1cclxuXHRmdW5jdGlvbiBnZXRTZXJpYWxpemVkKCkge1xyXG5cdFx0cmV0dXJuIHNlcmlhbGl6ZWRcclxuXHR9XHJcblx0cmV0dXJuIHtcclxuXHRcdHdyaXRlVG9rZW46IHdyaXRlVG9rZW4sXHJcblx0XHR3cml0ZVN0cmluZzogd3JpdGVTdHJpbmcsXHJcblx0XHQvL3dyaXRlQnVmZmVyLFxyXG5cdFx0Z2V0U2VyaWFsaXplZDogZ2V0U2VyaWFsaXplZCxcclxuXHRcdC8vaW5zZXJ0QnVmZmVyLFxyXG5cdFx0Ly9mbHVzaCxcclxuXHRcdHN0YXJ0U2VxdWVuY2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR3cml0ZVRva2VuKFNFUVVFTkNFX0NPREUsIE9QRU5fU0VRVUVOQ0UpXHJcblx0XHR9LFxyXG5cdFx0ZW5kU2VxdWVuY2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR3cml0ZVRva2VuKFNFUVVFTkNFX0NPREUsIEVORF9TRVFVRU5DRSlcclxuXHRcdH0sXHJcblx0XHRnZXRPZmZzZXQ6IGZ1bmN0aW9uKCkgey8vIHVuc3VwcG9ydGVkXHJcblx0XHRcdHJldHVybiAtMVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG52YXIgQXJyYXlGcm9tID0gQXJyYXkuZnJvbSB8fCBmdW5jdGlvbihpdGVyYWJsZSwga2V5VmFsdWUpIHtcclxuXHR2YXIgYXJyYXkgPSBbXVxyXG5cdHZhciBrZXlWYWx1ZSA9IGl0ZXJhYmxlLmNvbnN0cnVjdG9yID09PSBNYXBcclxuXHRpdGVyYWJsZS5mb3JFYWNoKGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuXHRcdGlmIChrZXlWYWx1ZSkge1xyXG5cdFx0XHRhcnJheS5wdXNoKFt2YWx1ZSwga2V5XSlcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGFycmF5LnB1c2goa2V5KVxyXG5cdFx0fVxyXG5cdH0pXHJcblx0cmV0dXJuIGFycmF5XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdyaXRlTWFwKG1hcCkge1xyXG5cdHZhciBrZXlWYWx1ZXMgPSBBcnJheUZyb20obWFwKVxyXG5cdGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlWYWx1ZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBrZXlWYWx1ZSA9IGtleVZhbHVlc1tpXVxyXG5cdFx0a2V5VmFsdWVzW2ldID0ge1xyXG5cdFx0XHRrZXk6IGtleVZhbHVlWzBdLFxyXG5cdFx0XHR2YWx1ZToga2V5VmFsdWVbMV1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIGtleVZhbHVlc1xyXG59XHJcbmZ1bmN0aW9uIHdyaXRlU2V0KHNldCkge1xyXG5cdHJldHVybiBBcnJheUZyb20oc2V0KVxyXG59XHJcbmZ1bmN0aW9uIHdyaXRlRGF0ZShkYXRlKSB7XHJcblx0cmV0dXJuIGRhdGUuZ2V0VGltZSgpXHJcbn0iLCJcInVzZSBzdHJpY3RcIlxyXG5cclxuLy8gdHlwZSBjb2RlczpcclxuLy8gdGhlc2UgYXJlIHRoZSBjb2RlcyB0aGF0IGFyZSB1c2VkIHRvIGRldGVybWluZSB0aGUgcnVkaW1lbnRhcnkgdHlwZSBvZiBudW1iZXJzXHJcbnZhciBQUk9QRVJUWV9DT0RFID0gMFxyXG52YXIgVFlQRV9DT0RFID0gM1xyXG52YXIgU1RSSU5HX0NPREUgPSAyXHJcbnZhciBOVU1CRVJfQ09ERSA9IDFcclxudmFyIFNFUVVFTkNFX0NPREUgPSA3XHJcblxyXG4vLyBjb25zdGFudCBjb2Rlc1xyXG52YXIgTlVMTCA9IDAgLy8gcFxyXG52YXIgRkFMU0UgPSAzIC8vIHNcclxudmFyIFRSVUUgPSA0IC8vIHRcclxudmFyIFVOREVGSU5FRCA9IDUgLy8gdVxyXG5cclxuLy8gdGhlc2UgYXJlIHRoZSBzdGFydGluZyBjb2RlcyAoc3RydWN0dXJlcyBhbHNvIHVzZSB0aGlzIHNwYWNlKSBmb3IgY29tcGxldGUgdHlwZXNcclxudmFyIERFRkFVTFRfVFlQRSA9IDZcclxudmFyIEFSUkFZX1RZUEUgPSA3XHJcbnZhciBSRUZFUkVOQ0lOR19UWVBFID0gOFxyXG52YXIgTlVNQkVSX1RZUEUgPSA5XHJcbnZhciBFWFRFTlNJT05TID0gMTBcclxudmFyIE1FVEFEQVRBX1RZUEUgPSAxMVxyXG52YXIgQ09QWV9QUk9QRVJUWSA9IDEyICAvLyBmb3IgZGVmaW5pbmcgYSB0eXBlZCBvYmplY3Qgd2l0aG91dCByZXR1cm5pbmcgdGhlIHZhbHVlXHJcbnZhciBSRUZFUkVOQ0lOR19QT1NJVElPTiA9IDEzXHJcbnZhciBUWVBFX0RFRklOSVRJT04gPSAxNCAgLy8gZm9yIGRlZmluaW5nIGEgdHlwZWQgb2JqZWN0IHdpdGhvdXQgcmV0dXJuaW5nIHRoZSB2YWx1ZVxyXG5cclxudmFyIEVSUk9SX01FVEFEQVRBID0gNTAwXHJcbi8vIHNlcXVlbmNlIGNvZGVzXHJcbnZhciBPUEVOX1NFUVVFTkNFID0gMTIgLy8gPFxyXG52YXIgUEFSVElBTF9ERUZFUlJFRF9SRUZFUkVOQ0UgPSAxMiAvLyA8XHJcbnZhciBFTkRfU0VRVUVOQ0UgPSAxNCAvLyA+XHJcbnZhciBERUZFUlJFRF9SRUZFUkVOQ0UgPSAxNSAvLyA/XHJcblxyXG52YXIgTUFYX0xFTkdUSCA9IDEwMjQqMTAyNCoxNlxyXG52YXIgUEFVU0VEID0ge31cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVBhcnNlcihvcHRpb25zKSB7XHJcblx0aWYgKCFvcHRpb25zKVxyXG5cdFx0b3B0aW9ucyA9IHt9XHJcblx0dmFyIG9mZnNldFxyXG5cdHZhciBzb3VyY2VcclxuXHR2YXIgaXNQYXJ0aWFsXHJcblx0dmFyIGNsYXNzQnlOYW1lID0gb3B0aW9ucy5jbGFzc0J5TmFtZSB8fCBuZXcgTWFwKClcclxuXHRjbGFzc0J5TmFtZS5zZXQoJ01hcCcsIHJlYWRNYXApXHJcblx0Y2xhc3NCeU5hbWUuc2V0KCdTZXQnLCByZWFkU2V0KVxyXG5cdGNsYXNzQnlOYW1lLnNldCgnRGF0ZScsIHJlYWREYXRlKVxyXG5cdHZhciBwYXVzZWRTdGF0ZVxyXG5cdHZhciBkZWZlcnJlZFJlYWRzXHJcblxyXG5cdGZ1bmN0aW9uIHBhdXNlKHN0YXRlLCBsYXN0UmVhZCkge1xyXG5cdFx0c3RhdGUucHJldmlvdXMgPSBwYXVzZWRTdGF0ZVxyXG5cdFx0c3RhdGUucmVzdW1lID0gdHJ1ZVxyXG5cdFx0cGF1c2VkU3RhdGUgPSBzdGF0ZVxyXG5cdFx0aWYgKCFpc1BhcnRpYWwpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBlbmQgb2YgZHBhY2sgc3RyZWFtJylcclxuXHJcblx0XHRpZiAoIXBhcnNlci5vblJlc3VtZSkgLy8gb25seSBpZiBub3QgYWxyZWFkeSBkZWZpbmVkLCBvdGhlcndpc2Ugd2UganVzdCB3YW50IHRvIHVzZSB0aGUgb25lIGZyb20gdGhlIHRvcCBvZiB0aGUgY2FsbCBzdGFja1xyXG5cdFx0XHRwYXJzZXIub25SZXN1bWUgPSBmdW5jdGlvbihuZXh0U3RyaW5nLCBpc1BhcnRpYWxTdHJpbmcsIHJlYnVpbGRTdHJpbmcpIHtcclxuXHRcdFx0XHQvLyB0b3Agb2YgdGhlIHJlc3VtZSBzdGFja1xyXG5cdFx0XHRcdHZhciByZXN1bWVTdGF0ZSA9IHBhdXNlZFN0YXRlXHJcblx0XHRcdFx0cGF1c2VkU3RhdGUgPSBudWxsXHJcblx0XHRcdFx0cGFyc2VyLm9uUmVzdW1lID0gbnVsbFxyXG5cdFx0XHRcdC8vIHdlIHNsaWNlIGFuZCBhZGQgdGhlc2UgdG9nZXRoZXIgdG8gZ2VuZXJhdGUgYW4gZW50aXJlbHkgbmV3IHN0cmluZ1xyXG5cdFx0XHRcdC8vIHNvIHdlIGRvbid0IGNhdXNlIGEgbWVtb3J5IGxlYWsgd2l0aCByZWR1bmRhbnQgc3RyaW5ncyB0aGF0IGEgcmV0YWluZWQgYSBzbGljZSBwYXJlbnRzXHJcblx0XHRcdFx0aWYgKGxhc3RSZWFkIDwgc291cmNlLmxlbmd0aClcclxuXHRcdFx0XHRcdHNvdXJjZSA9IHNvdXJjZS5zbGljZShsYXN0UmVhZCkgKyBuZXh0U3RyaW5nXHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRpZiAocmVidWlsZFN0cmluZykgLy8gaWYgd2UgaGF2ZSByZWFkIGFsbCBvZiBzb3VyY2UsIHdlIHdhbnQgdG8gc2xpY2UgYW5kIHJlLWNvbmNhdGVuYXRlIHRvIGVsaW1pbmF0ZSB0aGUgc2xpY2UgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQsIHdlIHJlYWxseSBkb24ndCB3YW50IHRoYXQgcmV0YWluZWQgaW4gbWVtb3J5XHJcblx0XHRcdFx0XHRcdHNvdXJjZSA9IG5leHRTdHJpbmcuc2xpY2UoMCwgMSkgKyBuZXh0U3RyaW5nLnNsaWNlKDEpXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHNvdXJjZSA9IG5leHRTdHJpbmdcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aXNQYXJ0aWFsID0gaXNQYXJ0aWFsU3RyaW5nXHJcblx0XHRcdFx0ZGlzcG9zZWRDaGFycyArPSBsYXN0UmVhZFxyXG5cdFx0XHRcdG9mZnNldCA9IDBcclxuXHRcdFx0XHRyZXR1cm4gcmVzdW1lU3RhdGUucmVhZGVyID8gcmVzdW1lU3RhdGUucmVhZGVyKHJlc3VtZVN0YXRlKSA6IHJlYWRTZXF1ZW5jZShyZXN1bWVTdGF0ZS5sZW5ndGgsIHJlc3VtZVN0YXRlKVxyXG5cdFx0XHR9XHJcblx0XHRyZXR1cm4gc3RhdGUub2JqZWN0XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZWFkU2VxdWVuY2UobGVuZ3RoLCB0aGlzUHJvcGVydHkpIHtcclxuXHRcdC8qIHByb3BlcnR5U3RhdGVzOlxyXG5cdFx0MCAtIHN0YXJ0aW5nIG5leHQgcHJvcGVydHkgc2xvdFxyXG5cdFx0MSAtIHByb3BlcnR5IGNyZWF0ZWQsIHN1Y2NlZWRpbmcgdmFsdWUgc2hvdWxkIGJlIHZhbHVlIG9mIHByb3BlcnR5XHJcblx0XHQyIC0gcHJvcGVydHkgY3JlYXRpb24gaW4gcHJvZ3Jlc3MsIG5leHQgdmFsdWUgc2hvdWxkIGRlZmluZSBrZXlcclxuXHRcdDExKyAtIG1vZGlmeWluZyBwcm9wZXJ0eSwgbmV4dCB2YWx1ZSBtb2RpZmllcyBwcm9wZXJ0eSAoYWRkcyBtZXRhZGF0YSwgcG9zaXRpb24sIHR5cGUsIGV0Yy4pXHJcblx0XHQqL1xyXG5cdFx0dmFyIHByb3BlcnR5U3RhdGUgPSAwXHJcblx0XHR0aGlzUHJvcGVydHkgPSB0aGlzUHJvcGVydHkgfHwgW11cclxuXHRcdHZhciBwcm9wZXJ0eSwgaXNBcnJheSwgb2JqZWN0LCB2YWx1ZSwgaSA9IDAsIHByb3BlcnR5SW5kZXggPSAwXHJcblx0XHRpZiAodGhpc1Byb3BlcnR5LnJlc3VtZSkgeyAvLyByZXN1bWluZywgdGhpc1Byb3BlcnR5IGlzIHRoZSByZXN1bWUgc3RhdGUuXHJcblx0XHRcdHByb3BlcnR5ID0gdGhpc1Byb3BlcnR5LnByZXZpb3VzXHJcblx0XHRcdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdC8vIGRvIHRoZSBwcmV2aW91cy91cHBlciBzdGFjayBmcmFtZSBmaXJzdFxyXG5cdFx0XHRcdHZhciB2YWx1ZSA9IHByb3BlcnR5LnJlYWRlciA/IHByb3BlcnR5LnJlYWRlcihwcm9wZXJ0eSkgOiByZWFkU2VxdWVuY2UocHJvcGVydHkubGVuZ3RoLCBwcm9wZXJ0eSlcclxuXHRcdFx0XHR2YXIgdmFsdWVzID0gcHJvcGVydHkudmFsdWVzXHJcblx0XHRcdFx0aWYgKHZhbHVlcykge1xyXG5cdFx0XHRcdFx0Ly8gd2UgaGF2ZSBhbiBhc3NpZ25tZW50IHRvIHJlZmVyZW5jaW5nIHZhbHVlcyB0aGF0IGlzIHdhaXRpbmcgZm9yIHBhdXNpbmcgdG8gY29tcGxldGVcclxuXHRcdFx0XHRcdGlmIChwYXVzZWRTdGF0ZSkge1xyXG5cdFx0XHRcdFx0XHQvLyBpZiBzdGlsbCBwYXVzZWQsIHBhc3Mgb24gdG8gbmV4dCBwYXVzZWRTdGF0ZVxyXG5cdFx0XHRcdFx0XHRwYXVzZWRTdGF0ZS52YWx1ZXMgPSB2YWx1ZXNcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGlmICh2YWx1ZS5uZXh0UG9zaXRpb24gPiAtMSkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIHdlIHVzZSB0aGlzIHBhdGggZm9yIGZ1bGZpbGxpbmcgZm9yd2FyZCByZWZlcmVuY2VzLCBhbmQgd2hlbiB0aGUgcG9zaXRpb24gaXMgcmVzZXRcclxuXHRcdFx0XHRcdFx0XHR2YWx1ZXNbdmFsdWVzLm5leHRQb3NpdGlvbisrXSA9IHZhbHVlXHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0dmFsdWVzLnB1c2godmFsdWUpXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXNQcm9wZXJ0eS5jb2RlICYmIHRoaXNQcm9wZXJ0eS5jb2RlICE9PSB0aGlzUHJvcGVydHkudGhpc1Byb3BlcnR5LmNvZGUpIHtcclxuXHRcdFx0XHR0aGlzUHJvcGVydHkucmVzdW1lID0gZmFsc2UgLy8gaWYgdGhlIHJlc3VtZSBwcm9wZXJ0eSBoYXMgYmVlbiByZWFzc2lnbmVkIHRvIGFuIGluY29tcGF0aWJsZSB0eXBlLCBjYW4ndCBzd2l0Y2hcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRpID0gdGhpc1Byb3BlcnR5LmkgfHwgMFxyXG5cdFx0XHRcdG9iamVjdCA9IHRoaXNQcm9wZXJ0eS5vYmplY3RcclxuXHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gdGhpc1Byb3BlcnR5LnByb3BlcnR5U3RhdGUgfHwgMFxyXG5cdFx0XHRcdHByb3BlcnR5SW5kZXggPSB0aGlzUHJvcGVydHkucHJvcGVydHlJbmRleCB8fCAwXHJcblx0XHRcdFx0dGhpc1Byb3BlcnR5ID0gdGhpc1Byb3BlcnR5LnRoaXNQcm9wZXJ0eVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpc0FycmF5ID0gdGhpc1Byb3BlcnR5LmNvZGUgPT09IEFSUkFZX1RZUEUvKkFSUkFZX1RZUEUqL1xyXG5cdFx0b2JqZWN0ID0gb2JqZWN0IHx8ICh0aGlzUHJvcGVydHkuY29uc3RydWN0cyA/IG5ldyB0aGlzUHJvcGVydHkuY29uc3RydWN0cygpIDogaXNBcnJheSA/IFtdIDoge30pIC8vIFRPRE86IHdlIGNvdWxkIHByb2JhYmx5IGNvbnN0cnVjdCBhIG5ldyByZWFkZXIgdGhhdCBkb2VzIHRoaXMgYSBsaXR0bGUgZmFzdGVyXHJcblx0XHRmb3IgKDsgaSA8IGxlbmd0aDspIHtcclxuXHRcdFx0dmFyIHR5cGUsIG51bWJlclxyXG5cdFx0XHR2YXIgbGFzdFJlYWQgPSBvZmZzZXRcclxuXHRcdFx0dmFyIHRva2VuID0gc291cmNlLmNoYXJDb2RlQXQob2Zmc2V0KyspXHJcblx0XHRcdGlmICh0b2tlbiA+PSAweDMwKSB7IC8vIGZhc3QgcGF0aCBmb3Igb25lIGJ5dGUgd2l0aCBzdG9wIGJpdFxyXG5cdFx0XHRcdGlmICh0b2tlbiA+IDB4MzAwMCkgeyAvLyBsb25nLXRva2VuIGhhbmRsaW5nXHJcblx0XHRcdFx0XHR0eXBlID0gKHRva2VuID4+PiAxMikgXiA0XHJcblx0XHRcdFx0XHRudW1iZXIgPSB0b2tlbiAmIDB4ZmZmXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHR5cGUgPSAodG9rZW4gPj4+IDQpIF4gNFxyXG5cdFx0XHRcdFx0bnVtYmVyID0gdG9rZW4gJiAweGZcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dHlwZSA9ICh0b2tlbiA+Pj4gNCkgJiAxMSAvLyBzaGlmdCBhbmQgb21pdCB0aGUgc3RvcCBiaXQgKGJpdCAzKVxyXG5cdFx0XHRcdG51bWJlciA9IHRva2VuICYgMHhmXHJcblx0XHRcdFx0dG9rZW4gPSBzb3VyY2UuY2hhckNvZGVBdChvZmZzZXQrKylcclxuXHRcdFx0XHRudW1iZXIgPSAobnVtYmVyIDw8IDYpICsgKHRva2VuICYgMHgzZikgLy8gMTAgYml0IG51bWJlclxyXG5cdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHR0b2tlbiA9IHNvdXJjZS5jaGFyQ29kZUF0KG9mZnNldCsrKVxyXG5cdFx0XHRcdFx0bnVtYmVyID0gKG51bWJlciA8PCA2KSArICh0b2tlbiAmIDB4M2YpIC8vIDE2IGJpdCBudW1iZXJcclxuXHRcdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHRcdHRva2VuID0gc291cmNlLmNoYXJDb2RlQXQob2Zmc2V0KyspXHJcblx0XHRcdFx0XHRcdG51bWJlciA9IChudW1iZXIgPDwgNikgKyAodG9rZW4gJiAweDNmKSAvLyAyMiBiaXQgbnVtYmVyXHJcblx0XHRcdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHRcdFx0dG9rZW4gPSBzb3VyY2UuY2hhckNvZGVBdChvZmZzZXQrKylcclxuXHRcdFx0XHRcdFx0XHRudW1iZXIgPSAobnVtYmVyIDw8IDYpICsgKHRva2VuICYgMHgzZikgLy8gMjggYml0IG51bWJlclxyXG5cdFx0XHRcdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0b2tlbiA9IHNvdXJjZS5jaGFyQ29kZUF0KG9mZnNldCsrKVxyXG5cdFx0XHRcdFx0XHRcdFx0bnVtYmVyID0gKG51bWJlciAqIDB4NDApICsgKHRva2VuICYgMHgzZikgLy8gMzQgYml0IG51bWJlciAod2UgY2FuJ3QgdXNlIDMyLWJpdCBzaGlmdGluZyBvcGVyYXRvcnMgYW55bW9yZSlcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRva2VuID0gc291cmNlLmNoYXJDb2RlQXQob2Zmc2V0KyspXHJcblx0XHRcdFx0XHRcdFx0XHRcdG51bWJlciA9IChudW1iZXIgKiAweDQwKSArICh0b2tlbiAmIDB4M2YpIC8vIDQwIGJpdCBudW1iZXJcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEodG9rZW4gPj0gMHg0MCkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0b2tlbiA9IHNvdXJjZS5jaGFyQ29kZUF0KG9mZnNldCsrKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG51bWJlciA9IChudW1iZXIgKiAweDQwKSArICh0b2tlbiAmIDB4M2YpIC8vIDQ2IGJpdCBudW1iZXIsIHdlIGRvbid0IGdvIGJleW9uZCB0aGlzXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEodG9rZW4gPj0gMCkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChvZmZzZXQgPiBzb3VyY2UubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBwYXVzZSh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGVuZ3RoOiBsZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpc1Byb3BlcnR5OiB0aGlzUHJvcGVydHksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aTogaSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvYmplY3Q6IG9iamVjdCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4OiBwcm9wZXJ0eUluZGV4LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHByb3BlcnR5U3RhdGU6IHByb3BlcnR5U3RhdGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGxhc3RSZWFkKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodHlwZSA9PT0gMCkgeyAvKlBST1BFUlRZX0NPREUqL1xyXG5cdFx0XHRcdHByb3BlcnR5SW5kZXggPSBudW1iZXJcclxuXHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gMFxyXG5cdFx0XHRcdGNvbnRpbnVlXHJcblx0XHRcdH1cclxuXHRcdFx0cHJvcGVydHkgPSB0aGlzUHJvcGVydHlbcHJvcGVydHlJbmRleF1cclxuXHRcdFx0aWYgKHR5cGUgPT09IDMpIHsgLypUWVBFX0NPREUqL1xyXG5cdFx0XHRcdC8vIHdlIHN0b3JlIHRoZSBwcmV2aW91cyBwcm9wZXJ0eSBzdGF0ZSBpbiB0b2tlbiwgc28gd2UgY2FuIGFzc2lnbiB0aGUgbmV4dCBvbmVcclxuXHRcdFx0XHRpZiAobnVtYmVyIDwgNikge1xyXG5cdFx0XHRcdFx0Ly8gc3BlY2lhbCB2YWx1ZXMgKGNvbnN0YW50cywgZGVmZXJyZWRzKVxyXG5cdFx0XHRcdFx0aWYgKG51bWJlciA8IDMpIHtcclxuXHRcdFx0XHRcdFx0aWYgKG51bWJlciA9PT0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gbnVsbFxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gJ1Vua25vd24gdG9rZW4sIHR5cGU6ICcgKyB0eXBlICsgJyBudW1iZXI6ICcgKyBudW1iZXJcclxuXHRcdFx0XHRcdFx0fSBcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGlmIChudW1iZXIgPT09IFRSVUUpIHtcclxuXHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHRydWVcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChudW1iZXIgPT09IEZBTFNFKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYgKG51bWJlciA8PSBOVU1CRVJfVFlQRSkge1xyXG5cdFx0XHRcdFx0XHQvLyBwcm9wZXJ0eSBkZWZpbml0aW9uXHJcblx0XHRcdFx0XHRcdGlmIChwcm9wZXJ0eVN0YXRlID09PSAxKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gd2Ugd2VyZSBpbiBwcm9wZXJ0eSB2YWx1ZSBwb3NpdGlvbiwgYnV0IG5vIHZhbHVlLCBzbyB3ZSBpbmNyZW1lbnQgcG9zaXRpb24gaGVyZVxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5SW5kZXgrK1xyXG5cdFx0XHRcdFx0XHRcdGkrK1xyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5ID0gdGhpc1Byb3BlcnR5W3Byb3BlcnR5SW5kZXhdXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKHByb3BlcnR5SW5kZXggPCB0aGlzUHJvcGVydHkucmVzZXRUbykge1xyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignT3ZlcndyaXRpbmcgZnJvemVuIHByb3BlcnR5JylcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAocHJvcGVydHkpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXByb3BlcnR5LnJlc3VtZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBwcm9wZXJ0eS5rZXkgLy8gaW5oZXJpdCB0aGUgZXhpc3Rpbmcga2V5XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eSA9IHRoaXNQcm9wZXJ0eVtwcm9wZXJ0eUluZGV4XSA9IFtdXHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5rZXkgPSB2YWx1ZVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSBlbHNlIHsgLy8gbm8gcHJvcGVydHkgZXhpc3RlZCBpbiBzbG90LCBzdGFydCB3aXRoIGRlZmF1bHQga2V5IG9mIG51bGxcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eSA9IHRoaXNQcm9wZXJ0eVtwcm9wZXJ0eUluZGV4XSA9IFtdXHJcblx0XHRcdFx0XHRcdFx0cHJvcGVydHkua2V5ID0gbnVsbFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHByb3BlcnR5LmNvZGUgPSBudW1iZXJcclxuXHRcdFx0XHRcdFx0cHJvcGVydHkucGFyZW50ID0gdGhpc1Byb3BlcnR5XHJcblx0XHRcdFx0XHRcdC8vcHJvcGVydHkua2V5ID0gbnVsbFxyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gMiAvLyByZWFkIG5leHQgdmFsdWUgYXMgdGhlIGtleVxyXG5cdFx0XHRcdFx0XHRpZiAobnVtYmVyID09PSBSRUZFUkVOQ0lOR19UWVBFLypSRUZFUkVOQ0lOR19UWVBFKi8pIHtcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS52YWx1ZXMgPSBbXVxyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKG51bWJlciA9PT0gQVJSQVlfVFlQRSkge1xyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5WzBdID0gW11cclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eVswXS5rZXkgPSBudWxsXHJcblx0XHRcdFx0XHRcdFx0cHJvcGVydHlbMF0uY29kZSA9IERFRkFVTFRfVFlQRVxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5WzBdLnBhcmVudCA9IHByb3BlcnR5XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdC8vIHByb3BlcnR5IG1vZGlmaWNhdGlvblxyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gbnVtYmVyXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjb250aW51ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAodHlwZSA9PT0gMiAvKlNUUklOR19DT0RFKi8pIHtcclxuXHRcdFx0XHRcdHZhbHVlID0gc291cmNlLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICs9IG51bWJlcilcclxuXHRcdFx0XHRcdGlmIChvZmZzZXQgPiBzb3VyY2UubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBwYXVzZSh7XHJcblx0XHRcdFx0XHRcdFx0bGVuZ3RoOiBsZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0dGhpc1Byb3BlcnR5OiB0aGlzUHJvcGVydHksXHJcblx0XHRcdFx0XHRcdFx0aTogaSxcclxuXHRcdFx0XHRcdFx0XHRvYmplY3Q6IG9iamVjdCxcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4OiBwcm9wZXJ0eUluZGV4LFxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5U3RhdGU6IHByb3BlcnR5U3RhdGVcclxuXHRcdFx0XHRcdFx0fSwgbGFzdFJlYWQpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAocHJvcGVydHlTdGF0ZSA8IDIpIHtcclxuXHRcdFx0XHRcdFx0aWYgKHByb3BlcnR5LmNvZGUgPT09IE5VTUJFUl9UWVBFLypOVU1CRVJfVFlQRSovKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSArdmFsdWVcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gMSkgeyAvKk5VTUJFUl9DT0RFKi9cclxuXHRcdFx0XHRcdHZhbHVlID0gbnVtYmVyXHJcblx0XHRcdFx0fSBlbHNlIHsgLyppZiB0eXBlID09IDcgU0VRVUVOQ0VfQ09ERSovXHJcblx0XHRcdFx0XHRpZiAobnVtYmVyID4gMTMpIHtcclxuXHRcdFx0XHRcdFx0aWYgKG51bWJlciA9PT0gRU5EX1NFUVVFTkNFKVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBvYmplY3RcclxuXHRcdFx0XHRcdFx0ZWxzZSBpZiAobnVtYmVyID09PSBERUZFUlJFRF9SRUZFUkVOQ0UpIHtcclxuXHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHJlYWRTZXF1ZW5jZSgwLCBwcm9wZXJ0eSlcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gMFxyXG5cdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLmZvckRlZmVycmVkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG9wdGlvbnMuZm9yRGVmZXJyZWQodmFsdWUsIHByb3BlcnR5KVxyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHQoZGVmZXJyZWRSZWFkcyB8fCAoZGVmZXJyZWRSZWFkcyA9IFtdKSkucHVzaCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHByb3BlcnR5OiBwcm9wZXJ0eSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlXHJcblx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0aWYgKG51bWJlciA+PSBPUEVOX1NFUVVFTkNFKSB7XHJcblx0XHRcdFx0XHRcdFx0bnVtYmVyID0gMjAwMDAwMDAwMFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmIChwcm9wZXJ0eVN0YXRlID4gMSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChwcm9wZXJ0eVN0YXRlID09PSAyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gMCAvLyBpZiB0aGUgcHJvcGVydHkga2V5IHdhcyBza2lwcGVkLCBnbyBkaXJlY3RseSBpbnRvIHZhbHVlIG1vZGVcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gcmVhZFNlcXVlbmNlKG51bWJlciwgcHJvcGVydHkpXHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmIChwcm9wZXJ0eVN0YXRlID09PSBNRVRBREFUQV9UWVBFKVxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSByZWFkU2VxdWVuY2UobnVtYmVyLCBbeyBrZXk6IG51bGwsIGNvZGU6IDYgfV0pXHJcblx0XHRcdFx0XHRcdFx0ZWxzZSBpZiAocHJvcGVydHkucmVzdW1lICYmIChwcm9wZXJ0eS5jb2RlIHx8IERFRkFVTFRfVFlQRSkgPT09IHByb3BlcnR5LnRoaXNQcm9wZXJ0eS5jb2RlKVxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSByZWFkU2VxdWVuY2UobnVtYmVyLCBwcm9wZXJ0eS50aGlzUHJvcGVydHkpXHJcblx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSByZWFkU2VxdWVuY2UobnVtYmVyLCBwcm9wZXJ0eSlcclxuXHRcdFx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSByZWFkU2VxdWVuY2UobnVtYmVyLCBwcm9wZXJ0eSlcclxuXHRcdFx0XHRcdFx0aWYgKHBhdXNlZFN0YXRlKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsgLy8gb3IgYSBQQVVTRUQgb2JqZWN0XHJcblx0XHRcdFx0XHRcdFx0XHRwYXVzZWRTdGF0ZSA9IG51bGwgLy8gZXJhc2UgYW55dGhpbmcgZnVydGhlciB1cCBpbiB0aGUgc3RhY2ssIGFzIHRoaXMgbWVhbnMgdGhlIHNlcXVlbmNlIGNvdWxkbid0IHN0YXJ0LCBzbyB3ZSBuZWVkIHRvIHJlLXBhcnNlIGZyb20gaGVyZVxyXG5cdFx0XHRcdFx0XHRcdFx0cGFyc2VyLm9uUmVzdW1lID0gbnVsbFxyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHBhdXNlKHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bGVuZ3RoOiBsZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXNQcm9wZXJ0eTogdGhpc1Byb3BlcnR5LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpOiBpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRvYmplY3Q6IG9iamVjdCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0cHJvcGVydHk6IHByb3BlcnR5LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4OiBwcm9wZXJ0eUluZGV4LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRwcmV2aW91c1Byb3BlcnR5OiBwcmV2aW91c1Byb3BlcnR5LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlOiBwcm9wZXJ0eVN0YXRlLFxyXG5cdFx0XHRcdFx0XHRcdFx0fSwgbGFzdFJlYWQpXHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIG5lZWQgdG8gYXNzaWduIHRoZSB2YWx1ZXMgKmFmdGVyKiB0aGUgY29tcGxldGlvbiBvZiB0aGUgc2VxdWVuY2UgaWYgaXQgaXMgYSBmb3J3YXJkIHJlZmVyZW5jZVxyXG5cdFx0XHRcdFx0XHRcdFx0cGF1c2VkU3RhdGUudmFsdWVzID0gcHJvcGVydHkudmFsdWVzIGluc3RhbmNlb2YgQXJyYXkgPyBwcm9wZXJ0eS52YWx1ZXMgOiB1bmRlZmluZWRcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0vKmVsc2UgaWYgKHZhbHVlcykge1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR9Ki9cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignTm8gcHJvcGVydHkgZGVmaW5lZCBmb3Igc2xvdCcgKyAodGhpc1Byb3BlcnR5LmtleSA/ICcgaW4gJyArIHRoaXNQcm9wZXJ0eS5rZXkgOiAnJykpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHByb3BlcnR5U3RhdGUgPCAyICYmIHByb3BlcnR5ICYmIHByb3BlcnR5LmNvZGUgPT09IFJFRkVSRU5DSU5HX1RZUEUvKlJFRkVSRU5DSU5HX1RZUEUqLykge1xyXG5cdFx0XHRcdHZhciB2YWx1ZXMgPSBwcm9wZXJ0eS52YWx1ZXNcclxuXHRcdFx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZXNbbnVtYmVyXVxyXG5cdFx0XHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgISgobnVtYmVyKSBpbiB2YWx1ZXMpKSB7XHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignUmVmZXJlbmNpbmcgdmFsdWUgdGhhdCBoYXMgbm90IGJlZW4gcmVhZCB5ZXQnKVxyXG5cdFx0XHRcdFx0fVx0XHRcdFx0XHRcclxuXHRcdFx0XHR9IGVsc2UgaWYgKCh0eXBlID09PSAyIHx8IHR5cGUgPT09IDcpICYmIHZhbHVlcykgeyAvLyBvbmx5IHN0cmluZ3MgYW5kIHNlcXVlbmNlc1xyXG5cdFx0XHRcdFx0aWYgKHZhbHVlcy5uZXh0UG9zaXRpb24gPiAtMSkge1xyXG5cdFx0XHRcdFx0XHQvLyB3ZSB1c2UgdGhpcyBwYXRoIGZvciBmdWxmaWxsaW5nIGZvcndhcmQgcmVmZXJlbmNlc1xyXG5cdFx0XHRcdFx0XHRpZiAocHJvcGVydHkucmVjb3JkVmFsdWVSZWZlcmVuY2UpIHtcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5yZWNvcmRWYWx1ZVJlZmVyZW5jZSh2YWx1ZXMpXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0dmFsdWVzW3ZhbHVlcy5uZXh0UG9zaXRpb24rK10gPSB2YWx1ZVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0dmFsdWVzLnB1c2godmFsdWUpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAocHJvcGVydHlTdGF0ZSA+IDEpIHtcclxuXHRcdFx0XHQvLyAwLCAxOiB2YWx1ZXMgYXJlIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHlcclxuXHRcdFx0XHRpZiAocHJvcGVydHlTdGF0ZSA9PT0gMikgeyAvLyBwcm9wZXJ0eSBrZXlcclxuXHRcdFx0XHRcdHByb3BlcnR5LmtleSA9IHZhbHVlXHJcblx0XHRcdFx0fSBlbHNlIGlmIChwcm9wZXJ0eVN0YXRlID09PSBNRVRBREFUQV9UWVBFKSB7IC8vIDM6IG1ldGFkYXRhIHBhcmFtYXRlclxyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGV4dGVuZGVkVHlwZSA9IGNsYXNzQnlOYW1lLmdldCh2YWx1ZSlcclxuXHRcdFx0XHRcdFx0aWYgKGV4dGVuZGVkVHlwZSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChleHRlbmRlZFR5cGUuZnJvbVZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5mcm9tVmFsdWUgPSBleHRlbmRlZFR5cGUuZnJvbVZhbHVlXHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdHByb3BlcnR5LmNvbnN0cnVjdHMgPSBleHRlbmRlZFR5cGVcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvck9uVW5rbm93bkNsYXNzKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0IHRvIGRlc2VyaWFsaXplIHRvIHVua25vd24gY2xhc3MgJyArIHBhcmFtZXRlcilcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBpZiBubyB3YXJuaW5nLCBqdXN0IHBhcnNlIGFzIGEgcGxhaW4gdmFsdWUvb2JqZWN0XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0cHJvcGVydHkuZXh0ZW5kZWRUeXBlID0gZXh0ZW5kZWRUeXBlIC8vIGlmIHRoaXMgZ2V0cyB1c2VkIGZvciBzZXJpYWxpemF0aW9uLCB0aGlzIGlzIG5lZWRlZFxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Ly8gZXh0ZW5kZWQgbWV0YWRhdGEgYXNzaWdubWVudCAodXNlZCBieSBzaGFyZWQgc3RydWN0dXJlcyB0byBtYXJrIG9iamVjdHMgYXMgdW5zdHJ1Y3R1cmVkKVxyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eS5tZXRhZGF0YSA9IHZhbHVlXHJcblx0XHRcdFx0XHRcdGlmICh2YWx1ZSA9PT0gRVJST1JfTUVUQURBVEEpXHJcblx0XHRcdFx0XHRcdFx0cHJvcGVydHkuZnJvbVZhbHVlID0gb25FcnJvclxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAocHJvcGVydHlTdGF0ZSA9PT0gUkVGRVJFTkNJTkdfUE9TSVRJT04pIHtcclxuXHRcdFx0XHRcdHZhciB2YWx1ZXMgPSBwcm9wZXJ0eS52YWx1ZXMgfHwgKHByb3BlcnR5LnZhbHVlcyA9IFtdKVxyXG5cdFx0XHRcdFx0Ly92YWx1ZXMuc3BsaWNlKHZhbHVlLCB2YWx1ZXMubGVuZ3RoKVxyXG5cdFx0XHRcdFx0dmFsdWVzLm5leHRQb3NpdGlvbiA9IHZhbHVlXHJcblx0XHRcdFx0fSBlbHNlIGlmIChwcm9wZXJ0eVN0YXRlID09PSBUWVBFX0RFRklOSVRJT04pIHsgLy8gZm9yIHR5cGUtb25seSBzdGF0ZVxyXG5cdFx0XHRcdFx0Ly8gdGhyb3cgYXdheSB0aGlzIHZhbHVlIGFuZCByZWFkIG5leHQgdmFsdWUgYXMgdGhlIHJlYWwgdmFsdWVcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHByb3BlcnR5IHR5cGUgJyArIHByb3BlcnR5U3RhdGUpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHByb3BlcnR5U3RhdGUgPSAxIC8vIHByb3BlcnR5IHZhbHVlIGFmdGVyIGRlZmluaXRpb24gcG9zaXRpb25cclxuXHRcdFx0XHRjb250aW51ZSAvLyByZWFkIG5leHQgdmFsdWUgYXMgdGhlIHByb3BlcnR5IHZhbHVlXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cHJvcGVydHlTdGF0ZSA9IDBcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAocHJvcGVydHkuZnJvbVZhbHVlKSB7XHJcblx0XHRcdFx0dmFsdWUgPSBwcm9wZXJ0eS5mcm9tVmFsdWUodmFsdWUpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGlzQXJyYXkgJiYgcHJvcGVydHkua2V5ID09PSBudWxsKSB7XHJcblx0XHRcdFx0b2JqZWN0LnB1c2godmFsdWUpXHJcblx0XHRcdH0gZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdG9iamVjdFtwcm9wZXJ0eS5rZXldID0gdmFsdWVcclxuXHRcdFx0fVxyXG5cdFx0XHRpKytcclxuXHRcdFx0aWYgKCFpc0FycmF5KVxyXG5cdFx0XHRcdHByb3BlcnR5SW5kZXgrK1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG9iamVjdFxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gdW5rbm93blR5cGUobnVtYmVyKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdHlwZSAnICsgbnVtYmVyKVxyXG5cdH1cclxuXHR2YXIgbm9uUGFyc2luZ0Vycm9yXHJcblx0ZnVuY3Rpb24gb25FcnJvcihlcnJvcikge1xyXG5cdFx0dmFyIGcgPSB0eXBlb2YgZ2xvYmFsICE9ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93XHJcblx0XHRpZiAoZXJyb3IgJiYgZXJyb3IubmFtZSAmJiBnW2Vycm9yLm5hbWVdKVxyXG5cdFx0XHRlcnJvciA9IG5ldyBnW2Vycm9yLm5hbWVdKGVycm9yLm1lc3NhZ2UpXHJcblx0XHRlbHNlIGlmICh0eXBlb2YgZXJyb3IgPT0gJ3N0cmluZycpXHJcblx0XHRcdGVycm9yID0gbmV3IEVycm9yKGVycm9yKVxyXG5cdFx0aWYgKG9wdGlvbnMub25FcnJvcilcclxuXHRcdFx0b3B0aW9ucy5vbkVycm9yKGVycm9yKVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdG5vblBhcnNpbmdFcnJvciA9IHRydWVcclxuXHRcdFx0dGhyb3cgZXJyb3JcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBkaXNwb3NlZENoYXJzID0gMFxyXG5cdGZ1bmN0aW9uIHJlYWQocHJvcGVydHkpIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGlmIChwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5yZXN1bWUpIHtcclxuXHRcdFx0XHR2YXIgcHJldmlvdXMgPSBwcm9wZXJ0eS5wcmV2aW91c1xyXG5cdFx0XHRcdHZhbHVlID0gcmVhZFNlcXVlbmNlKHByZXZpb3VzLmxlbmd0aCwgcHJldmlvdXMpXHJcblx0XHRcdFx0Ly8gb25jZSB3ZSBnZXQgdGhlIHZhbHVlLCB3ZSBkb24ndCBrbm93IHdoaWNoIHBvaW50IGluIHRoZSBzdGFjayBjb3VsZCBzdGlsbCBiZSByZXNvbHZpbmdcclxuXHRcdFx0XHR2YWx1ZSA9IHByb3BlcnR5Lm9iamVjdCB8fCB2YWx1ZVxyXG5cdFx0XHRcdHByb3BlcnR5ID0gcHJvcGVydHkucHJvcGVydHlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRwcm9wZXJ0eSA9IHByb3BlcnR5IHx8IFtvcHRpb25zICYmIG9wdGlvbnMuc2hhcmVkIHx8IHtcclxuXHRcdFx0XHRcdGtleTogbnVsbCxcclxuXHRcdFx0XHRcdGNvZGU6IDZcclxuXHRcdFx0XHR9XVxyXG5cdFx0XHRcdHZhciB2YWx1ZSA9IHJlYWRTZXF1ZW5jZSgxLCBwcm9wZXJ0eSlbcHJvcGVydHlbMF0ua2V5XVxyXG5cdFx0XHR9XHJcblx0XHRcdHdoaWxlICh0cnVlKSB7XHJcblx0XHRcdFx0aWYgKHBhdXNlZFN0YXRlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcGF1c2Uoe1xyXG5cdFx0XHRcdFx0XHRyZWFkZXI6IHJlYWQsXHJcblx0XHRcdFx0XHRcdG9iamVjdDogdmFsdWUsXHJcblx0XHRcdFx0XHRcdHByb3BlcnR5OiBwcm9wZXJ0eVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCFkZWZlcnJlZFJlYWRzKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIGluZGV4ID0gZGVmZXJyZWRSZWFkcy5pbmRleCB8fCAwXHJcblx0XHRcdFx0dmFyIGRlZmVycmVkUmVhZCA9IGRlZmVycmVkUmVhZHNbaW5kZXhdXHJcblx0XHRcdFx0ZGVmZXJyZWRSZWFkcy5pbmRleCA9IGluZGV4ICsgMVxyXG5cdFx0XHRcdGlmICghZGVmZXJyZWRSZWFkKSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZFJlYWRzID0gZGVmZXJyZWRSZWFkcy5wYXJlbnRcclxuXHRcdFx0XHRcdGNvbnRpbnVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciB0YXJnZXQgPSBkZWZlcnJlZFJlYWQudmFsdWVcclxuXHRcdFx0XHR2YXIgcGFyZW50RGVmZXJyZWRSZWFkcyA9IGRlZmVycmVkUmVhZHNcclxuXHRcdFx0XHRkZWZlcnJlZFJlYWRzID0gW11cclxuXHRcdFx0XHRkZWZlcnJlZFJlYWRzLnBhcmVudCA9IHBhcmVudERlZmVycmVkUmVhZHNcclxuXHRcdFx0XHR2YXIgdGFyZ2V0UHJvcGVydHkgPSBkZWZlcnJlZFJlYWQucHJvcGVydHlcclxuXHRcdFx0XHR2YXIgcmVzdWx0ID0gcmVhZFNlcXVlbmNlKDEsIHByb3BlcnR5ID0gW3tcclxuXHRcdFx0XHRcdHJlc3VtZTogdHJ1ZSxcclxuXHRcdFx0XHRcdGtleTogbnVsbCxcclxuXHRcdFx0XHRcdHRoaXNQcm9wZXJ0eTogdGFyZ2V0UHJvcGVydHksXHJcblx0XHRcdFx0XHRvYmplY3Q6IHRhcmdldFxyXG5cdFx0XHRcdH1dKVxyXG5cdFx0XHRcdHJlc3VsdCA9IHJlc3VsdC5udWxsIHx8IHJlc3VsdFt0YXJnZXRQcm9wZXJ0eS5rZXldIC8vIEJsb2NrcyBzaG91bGQgdXNlIG51bGwgYXMgdGhlIHJvb3Qga2V5LCBidXQgY291bGQgaGF2ZSB0aGUgdGFyZ2V0IHByb3BlcnR5IGtleSBhcyB3ZWxsXHJcblx0XHRcdFx0aWYgKHJlc3VsdCAhPSB0YXJnZXQpIHsgLy8gVGhpcyBzaG91bGQgb25seSBvY2N1ciB3aXRoIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgZGlmZmVyZW50IHR5cGUsIGFuIGFycmF5XHJcblx0XHRcdFx0XHQvLyBvYmplY3Qgd2FzIHJlcGxhY2VkIHdpdGggc29tZXRoaW5nIGVsc2UgKGFuIGFycmF5LCBwcmVzdW1hYmx5KVxyXG5cdFx0XHRcdFx0T2JqZWN0LmFzc2lnbih0YXJnZXQsIHJlc3VsdClcclxuXHRcdFx0XHRcdGlmIChwYXVzZWRTdGF0ZSAmJiBwYXVzZWRTdGF0ZS5vYmplY3QgPT09IHJlc3VsdCkge1xyXG5cdFx0XHRcdFx0XHRwYXVzZWRTdGF0ZS5vYmplY3QgPSB0YXJnZXRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmIChyZXN1bHQgJiYgcmVzdWx0LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG5cdFx0XHRcdFx0XHR0YXJnZXQubGVuZ3RoID0gcmVzdWx0Lmxlbmd0aFxyXG5cdFx0XHRcdFx0XHRPYmplY3Quc2V0UHJvdG90eXBlT2YodGFyZ2V0LCBPYmplY3QuZ2V0UHJvdG90eXBlT2YocmVzdWx0KSkgLy8gZG8gb3VyIGJlc3QgdG8gbWFrZSBpdCBhcnJheSBsaWtlXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoKGVycm9yKSB7XHJcblx0XHRcdGlmICghbm9uUGFyc2luZ0Vycm9yKVxyXG5cdFx0XHRcdGVycm9yLm1lc3NhZ2UgPSAnRFBhY2sgcGFyc2luZyBlcnJvcjogJyArIGVycm9yLm1lc3NhZ2UgKyAnIGF0IHBvc2l0aW9uOiAnICsgKG9mZnNldCArIGRpc3Bvc2VkQ2hhcnMpICsgJyBuZWFyOiAnICsgc291cmNlLnNsaWNlKG9mZnNldCAtIDEwLCBvZmZzZXQgKyAxMClcclxuXHRcdFx0dGhyb3cgZXJyb3JcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBwYXJzZXIgPSB7XHJcblx0XHRzZXRTb3VyY2U6IGZ1bmN0aW9uKHN0cmluZywgc3RhcnRPZmZzZXQsIGlzUGFydGlhbFN0cmluZykge1xyXG5cdFx0XHRzb3VyY2UgPSBzdHJpbmdcclxuXHRcdFx0b2Zmc2V0ID0gc3RhcnRPZmZzZXQgfHwgMFxyXG5cdFx0XHRkaXNwb3NlZENoYXJzID0gMFxyXG5cdFx0XHRpc1BhcnRpYWwgPSBpc1BhcnRpYWxTdHJpbmdcclxuXHRcdFx0cmV0dXJuIHRoaXNcclxuXHRcdH0sXHJcblx0XHRoYXNNb3JlRGF0YTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiBzb3VyY2UubGVuZ3RoID4gb2Zmc2V0XHJcblx0XHR9LFxyXG5cdFx0aXNQYXVzZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gcGF1c2VkU3RhdGVcclxuXHRcdH0sXHJcblx0XHRoYXNVbmZ1bGZpbGxlZFJlZmVyZW5jZXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gZGVmZXJyZWRSZWFkcyAmJiBkZWZlcnJlZFJlYWRzLmxlbmd0aCA+IGRlZmVycmVkUmVhZHMuaW5kZXhcclxuXHRcdH0sXHJcblx0XHRnZXRPZmZzZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gb2Zmc2V0ICsgZGlzcG9zZWRDaGFyc1xyXG5cdFx0fSxcclxuXHRcdHJlYWQ6IHJlYWRcclxuXHR9XHJcblx0cmV0dXJuIHBhcnNlclxyXG59XHJcbmV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbihzdHJpbmdPckJ1ZmZlciwgb3B0aW9ucykge1xyXG5cdHZhciBzb3VyY2VcclxuXHRpZiAodHlwZW9mIHN0cmluZ09yQnVmZmVyID09PSAnc3RyaW5nJykge1xyXG5cdFx0c291cmNlID0gc3RyaW5nT3JCdWZmZXJcclxuXHR9IGVsc2UgaWYgKHN0cmluZ09yQnVmZmVyICYmIHN0cmluZ09yQnVmZmVyLnRvU3RyaW5nKSB7XHJcblx0XHRzb3VyY2UgPSBzdHJpbmdPckJ1ZmZlci50b1N0cmluZyhvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RpbmcgfHwgJ3V0ZjgnKVxyXG5cdH0gZWxzZSB7IC8vIHdoYXRldmVyICh1bmRlZmluZWQgb3IgbnVsbCBvciB3aGF0ZXZlciksIGp1c3QgcmV0dXJuIGl0XHJcblx0XHRyZXR1cm4gc3RyaW5nT3JCdWZmZXJcclxuXHR9XHJcblx0dmFyIHBhcnNlciA9IGNyZWF0ZVBhcnNlcihvcHRpb25zKS5zZXRTb3VyY2Uoc291cmNlKVxyXG5cdGlmIChvcHRpb25zICYmIG9wdGlvbnMuc2hhcmVkKVxyXG5cdFx0cmV0dXJuIHBhcnNlci5yZWFkKFtvcHRpb25zLnNoYXJlZF0pXHJcblx0cmV0dXJuIHBhcnNlci5yZWFkKClcclxufVxyXG5leHBvcnRzLmNyZWF0ZVBhcnNlciA9IGNyZWF0ZVBhcnNlclxyXG5cclxudmFyIHJlYWRNYXAgPSB7XHJcblx0ZnJvbVZhbHVlOiBmdW5jdGlvbihlbnRyaWVzKSB7XHJcblx0XHR2YXIgbWFwID0gbmV3IE1hcCgpXHJcblx0XHRmb3IgKHZhciBpID0gMCwgbCA9IGVudHJpZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRcdHZhciBlbnRyeSA9IGVudHJpZXNbaV1cclxuXHRcdFx0bWFwLnNldChlbnRyeS5rZXksIGVudHJ5LnZhbHVlKVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1hcFxyXG5cdH1cclxufVxyXG52YXIgcmVhZFNldCA9IHtcclxuXHRmcm9tVmFsdWU6IGZ1bmN0aW9uKHZhbHVlcykge1xyXG5cdFx0dmFyIHNldCA9IG5ldyBTZXQodmFsdWVzKVxyXG5cdFx0aWYgKHNldC5zaXplID09PSAwICYmIHZhbHVlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0XHRcdHNldC5hZGQodmFsdWVzW2ldKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc2V0XHJcblx0fVxyXG59XHJcbnZhciByZWFkRGF0ZSA9IHtcclxuXHRmcm9tVmFsdWU6IGZ1bmN0aW9uKHRpbWUpIHtcclxuXHRcdHJldHVybiBuZXcgRGF0ZSh0aW1lKVxyXG5cdH1cclxufVxyXG5cclxuIiwiXCJ1c2Ugc3RyaWN0XCJcclxudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJ3N0cmVhbScpLlRyYW5zZm9ybVxyXG52YXIgY3JlYXRlUGFyc2VyID0gcmVxdWlyZSgnLi9wYXJzZScpLmNyZWF0ZVBhcnNlclxyXG52YXIgREVGQVVMVF9PUFRJT05TID0ge29iamVjdE1vZGU6IHRydWV9XHJcblxyXG5jbGFzcyBEUGFja1BhcnNlU3RyZWFtIGV4dGVuZHMgVHJhbnNmb3JtIHtcclxuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcblx0XHRpZiAob3B0aW9ucykge1xyXG5cdFx0XHRvcHRpb25zLm9iamVjdE1vZGUgPSB0cnVlXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRvcHRpb25zID0gREVGQVVMVF9PUFRJT05TXHJcblx0XHR9XHJcblx0XHRzdXBlcihvcHRpb25zKVxyXG5cdFx0dGhpcy5wYXJzZXIgPSBjcmVhdGVQYXJzZXIob3B0aW9ucylcclxuXHRcdHRoaXMud2FpdGluZ1ZhbHVlcyA9IFtdXHJcblx0fVxyXG5cdF90cmFuc2Zvcm0oY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjaykge1xyXG5cdFx0dmFyIHZhbHVlXHJcblx0XHR0cnkge1xyXG5cdFx0XHR2YXIgc291cmNlU3RyaW5nID0gY2h1bmsudG9TdHJpbmcoKVxyXG5cdFx0XHR2YXIgcGFyc2VyID0gdGhpcy5wYXJzZXJcclxuXHRcdFx0aWYgKHBhcnNlci5vblJlc3VtZSkge1xyXG5cdFx0XHRcdHZhbHVlID0gcGFyc2VyLm9uUmVzdW1lKHNvdXJjZVN0cmluZywgdHJ1ZSlcclxuXHRcdFx0XHRpZiAoIXBhcnNlci5pc1BhdXNlZCgpKVxyXG5cdFx0XHRcdFx0dGhpcy5zZW5kVmFsdWUodmFsdWUpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cGFyc2VyLnNldFNvdXJjZShzb3VyY2VTdHJpbmcsIDAsIHRydWUpXHJcblx0XHRcdH1cclxuXHRcdFx0d2hpbGUgKHBhcnNlci5oYXNNb3JlRGF0YSgpKSB7XHJcblx0XHRcdFx0dmFsdWUgPSBwYXJzZXIucmVhZCgpXHJcblx0XHRcdFx0aWYgKHBhcnNlci5pc1BhdXNlZCgpKVxyXG5cdFx0XHRcdFx0YnJlYWtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0aGlzLnNlbmRWYWx1ZSh2YWx1ZSlcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHsgLy8gbXVzdCBjYXRjaCBlcnJvcnMgaGVyZSwgYW5kIHN0aWxsIGNhbGwgY2FsbGJhY2tcclxuXHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcilcclxuXHRcdH1cclxuXHRcdGlmIChjYWxsYmFjaykgY2FsbGJhY2soKVxyXG5cdH1cclxuXHRzZW5kVmFsdWUodmFsdWUpIHtcclxuXHRcdGlmICh0aGlzLnBhcnNlci5oYXNVbmZ1bGZpbGxlZFJlZmVyZW5jZXMoKSkge1xyXG5cdFx0XHRpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHRoaXMud2FpdGluZ1ZhbHVlcy5wdXNoKHZhbHVlKVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR3aGlsZSAodGhpcy53YWl0aW5nVmFsdWVzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHR0aGlzLnB1c2godGhpcy53YWl0aW5nVmFsdWVzLnNoaWZ0KCkpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHR0aGlzLnB1c2godmFsdWUpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydHMuY3JlYXRlUGFyc2VTdHJlYW0gPSAoKSA9PiBuZXcgRFBhY2tQYXJzZVN0cmVhbSgpXHJcbiIsInZhciBQUkVGRVJSRURfTUFYX0JVRkZFUl9TSVpFID0gMHg4MDAwXHJcbnZhciBhdmFpbGFibGVCdWZmZXJzID0gW11cclxuZnVuY3Rpb24gbm9kZUNoYXJFbmNvZGVyKG9wdGlvbnMpIHtcclxuXHR2YXIgb2Zmc2V0ID0gb3B0aW9ucy5zdGFydE9mZnNldCB8fCAwXHJcblx0dmFyIGJ1ZmZlclNpemVcclxuXHR2YXIgb3V0bGV0ID0gb3B0aW9ucy5vdXRsZXRcclxuXHR2YXIgYnVmZmVyID0gYXZhaWxhYmxlQnVmZmVycy5wb3AoKVxyXG5cdGlmIChidWZmZXIgJiYgYnVmZmVyLmxlbmd0aCA+IG9mZnNldCArIDB4ODApIHtcclxuXHRcdC8vIHJldXNlIGV4aXN0aW5nIGJ1ZmZlciBpZiB3ZSBjYW5cclxuXHRcdGJ1ZmZlclNpemUgPSBidWZmZXIubGVuZ3RoXHJcblx0fSBlbHNlIHtcclxuXHRcdGJ1ZmZlclNpemUgPSAob2Zmc2V0ID4+IDEyIDw8IDEyKSArIDB4MjAwMFxyXG5cdFx0YnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyhidWZmZXJTaXplKVxyXG5cdH1cclxuXHR2YXIgZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nXHJcblx0dmFyIHNlcXVlbmNlcyA9IFtdXHJcblx0ZnVuY3Rpb24gbWFrZVJvb20oYnl0ZXNOZWVkZWQpIHtcclxuXHRcdGlmIChvdXRsZXQpIHtcclxuXHRcdFx0b3V0bGV0LndyaXRlQnl0ZXMoYnVmZmVyLnNsaWNlKDAsIG9mZnNldCkpXHJcblx0XHRcdGlmIChidWZmZXJTaXplIDwgUFJFRkVSUkVEX01BWF9CVUZGRVJfU0laRSB8fCBieXRlc05lZWRlZCA+IFBSRUZFUlJFRF9NQVhfQlVGRkVSX1NJWkUpIHtcclxuXHRcdFx0XHRidWZmZXJTaXplID0gTWF0aC5tYXgoYnVmZmVyU2l6ZSAqIDQsIGJ5dGVzTmVlZGVkKVxyXG5cdFx0XHR9XHJcblx0XHRcdGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3coYnVmZmVyU2l6ZSlcclxuXHRcdFx0b2Zmc2V0ID0gMFxyXG5cdFx0XHRzZXF1ZW5jZXMgPSBbXSAvLyBjbGVhciBpbnNlcnRpb24gcG9pbnRzXHJcblx0XHRcdGVuY29kZXIuaGFzV3JpdHRlbiA9IHRydWVcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGJ1ZmZlclNpemUgPSBNYXRoLm1heChidWZmZXJTaXplICogNCwgYnVmZmVyU2l6ZSArIGJ5dGVzTmVlZGVkLCAweDIwMDApXHJcblx0XHRcdHZhciBvbGRCdWZmZXIgPSBidWZmZXJcclxuXHRcdFx0YnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyhidWZmZXJTaXplKVxyXG5cdFx0XHRvbGRCdWZmZXIuY29weShidWZmZXIsIDAsIDAsIG9mZnNldClcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gZmx1c2goc3BlY2lmaWVkT3V0bGV0KSB7XHJcblx0XHQoc3BlY2lmaWVkT3V0bGV0IHx8IG91dGxldCkud3JpdGVCeXRlcyhidWZmZXIuc2xpY2UoMCwgb2Zmc2V0KSlcclxuXHRcdGlmIChvZmZzZXQgKyAweDgwID4gYnVmZmVyLmxlbmd0aClcclxuXHRcdFx0YnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyhidWZmZXJTaXplID0gTWF0aC5taW4oTWF0aC5tYXgoKG9mZnNldCA+PiAxMCA8PCAxMCkgKyAweDIwMDAsIGJ1ZmZlclNpemUpLCAweDgwMDApKSAvLyBhbGxvY2F0ZSBhIG5ldyBidWZmZXIsIGRvbid0IHdhbnQgdG8gb3ZlcndyaXRlIHRoZSBieXRlcyBpbiB0aGUgb2xkIG9uZSB3aGlsZSB0aGV5IGFyZSBpbiB1c2UhXHJcblx0XHRlbHNlIHsvLyBvciBjb250aW51ZSB0byB1c2UgdGhlIHJlbWFpbmluZyBzcGFjZSBpbiB0aGlzIGJ1ZmZlciwgaWYgdGhlcmUgaXMgYSBsb3Qgb2Ygcm9vbSBsZWZ0XHJcblx0XHRcdGJ1ZmZlciA9IGJ1ZmZlci5zbGljZShvZmZzZXQpXHJcblx0XHRcdGJ1ZmZlclNpemUgPSBidWZmZXIubGVuZ3RoXHJcblx0XHR9XHJcblx0XHRvZmZzZXQgPSAwXHJcblx0XHRzZXF1ZW5jZXMgPSBbXSAvLyBjbGVhciBpbnNlcnRpb24gcG9pbnRzXHJcblx0fVxyXG5cdGZ1bmN0aW9uIHdyaXRlVG9rZW4odHlwZSwgbnVtYmVyKSB7XHJcblx0XHRpZiAobnVtYmVyIDwgMHgxMCkgeyAvLyA0IGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAoKHR5cGUgPDwgNCkgKyBudW1iZXIpIF4gMHg0MFxyXG5cdFx0fSBlbHNlIGlmIChudW1iZXIgPCAweDQwMCkgeyAvLyAxMCBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKHR5cGUgPDwgNCkgKyAobnVtYmVyID4+PiA2KVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciAmIDB4M2YpICsgMHg0MFxyXG5cdFx0fSBlbHNlIGlmIChudW1iZXIgPCAweDEwMDAwKSB7IC8vIDE2IGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAodHlwZSA8PCA0KSArIChudW1iZXIgPj4+IDEyKVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gNikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyICYgMHgzZikgKyAweDQwXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4NDAwMDAwKSB7IC8vIDIyIGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAodHlwZSA8PCA0KSArIChudW1iZXIgPj4+IDE4KVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gMTIpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gNikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyICYgMHgzZikgKyAweDQwXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4MTAwMDAwMDApIHsgLy8gMjggYml0cyBvZiBudW1iZXJcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9ICh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gMjQpXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxOCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxMikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiA2KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgJiAweDNmKSArIDB4NDBcclxuXHRcdH0gZWxzZSBpZiAobnVtYmVyIDwgMHgxMDAwMDAwMDApIHsgLy8gMzIgYml0cyBvZiBudW1iZXJcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9ICh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gMzApXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAyNCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxOCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxMikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiA2KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgJiAweDNmKSArIDB4NDBcclxuXHRcdH0gZWxzZSBpZiAobnVtYmVyIDwgMHg0MDAwMDAwMDApIHsgLy8gMzQgYml0cyBvZiBudW1iZXJcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9ICh0eXBlIDw8IDQpICsgKG51bWJlciAvIDB4NDAwMDAwMDAgPj4+IDApXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAyNCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxOCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxMikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiA2KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgJiAweDNmKSArIDB4NDBcclxuXHRcdH0gZWxzZSBpZiAobnVtYmVyIDwgMHgxMDAwMDAwMDAwMCkgeyAvLyA0MCBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKHR5cGUgPDwgNCkgKyAobnVtYmVyIC8gMHgxMDAwMDAwMDAwID4+PiAwKVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciAvIDB4NDAwMDAwMDApICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gMjQpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gMTgpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gMTIpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gNikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyICYgMHgzZikgKyAweDQwXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4NDAwMDAwMDAwMDAwKSB7IC8vIDQ2IGJpdHMgb2YgbnVtYmVyIChuZWVkZWQgZm9yIGRhdGVzISlcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9ICh0eXBlIDw8IDQpICsgKG51bWJlciAvIDB4NDAwMDAwMDAwMDAgPj4+IDApXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyIC8gMHgxMDAwMDAwMDAwKSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgLyAweDQwMDAwMDAwKSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgPj4+IDI0KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgPj4+IDE4KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgPj4+IDEyKSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgPj4+IDYpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciAmIDB4M2YpICsgMHg0MFxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG51bWJlciAnICsgbnVtYmVyKVxyXG5cdFx0fVxyXG5cdFx0aWYgKG9mZnNldCA+IGJ1ZmZlclNpemUgLSAxMCkge1xyXG5cdFx0XHRtYWtlUm9vbSgwKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gd3JpdGVCdWZmZXIoc291cmNlKSB7XHJcblx0XHR2YXIgc291cmNlTGVuZ3RoID0gc291cmNlLmxlbmd0aFxyXG5cdFx0aWYgKHNvdXJjZUxlbmd0aCArIG9mZnNldCArIDEwID4gYnVmZmVyU2l6ZSkge1xyXG5cdFx0XHRtYWtlUm9vbShzb3VyY2VMZW5ndGggKyAxMClcclxuXHRcdH1cclxuXHRcdHNvdXJjZS5jb3B5KGJ1ZmZlciwgb2Zmc2V0KVxyXG5cdFx0b2Zmc2V0ICs9IHNvdXJjZUxlbmd0aFxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gd3JpdGVTdHJpbmcoc3RyaW5nKSB7XHJcblx0XHR2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxyXG5cdFx0dmFyIG1heFN0cmluZ0xlbmd0aCA9IGxlbmd0aCAqIDMgKyAxMFxyXG5cdFx0aWYgKG9mZnNldCArIG1heFN0cmluZ0xlbmd0aCA+IGJ1ZmZlclNpemUpIHtcclxuXHRcdFx0bWFrZVJvb20obWF4U3RyaW5nTGVuZ3RoICsgMTApXHJcblx0XHR9XHJcblx0XHR2YXIgYnl0ZXNXcml0dGVuID0gZW5jb2RpbmcgPyBidWZmZXIud3JpdGUoc3RyaW5nLCBvZmZzZXQsIGJ1ZmZlci5sZW5ndGgsIGVuY29kaW5nKSA6XHJcblx0XHRcdGJ1ZmZlci51dGY4V3JpdGUoc3RyaW5nLCBvZmZzZXQsIGJ1ZmZlci5sZW5ndGgpXHJcblx0XHRvZmZzZXQgKz0gYnl0ZXNXcml0dGVuXHJcblx0fVxyXG5cdGZ1bmN0aW9uIGdldFNlcmlhbGl6ZWQoKSB7XHJcblx0XHRyZXR1cm4gYnVmZmVyLnNsaWNlKDAsIG9mZnNldClcclxuXHR9XHJcblx0ZnVuY3Rpb24gaW5zZXJ0QnVmZmVyKGhlYWRlckJ1ZmZlciwgcG9zaXRpb24pIHtcclxuXHRcdHZhciBoZWFkZXJMZW5ndGggPSBoZWFkZXJCdWZmZXIubGVuZ3RoXHJcblx0XHRpZiAob2Zmc2V0ICsgaGVhZGVyTGVuZ3RoICsgMTAgPiBidWZmZXJTaXplKSB7XHJcblx0XHRcdG1ha2VSb29tKGhlYWRlckxlbmd0aCArIDEwKVxyXG5cdFx0fVxyXG5cdFx0YnVmZmVyLmNvcHkoYnVmZmVyLCBoZWFkZXJMZW5ndGggKyBwb3NpdGlvbiwgcG9zaXRpb24sIG9mZnNldClcclxuXHRcdGhlYWRlckJ1ZmZlci5jb3B5KGJ1ZmZlciwgcG9zaXRpb24pXHJcblx0XHRvZmZzZXQgKz0gaGVhZGVyTGVuZ3RoXHJcblx0fVxyXG5cclxuXHR2YXIgZW5jb2RlciA9IHtcclxuXHRcdHdyaXRlVG9rZW4sXHJcblx0XHR3cml0ZVN0cmluZyxcclxuXHRcdHdyaXRlQnVmZmVyLFxyXG5cdFx0Z2V0U2VyaWFsaXplZCxcclxuXHRcdGluc2VydEJ1ZmZlcixcclxuXHRcdGZsdXNoLFxyXG5cdFx0c3RhcnRTZXF1ZW5jZSgpIHtcclxuXHRcdFx0dmFyIGN1cnJlbnRPZmZzZXQgPSBvZmZzZXRcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IDYwXHJcblx0XHRcdHNlcXVlbmNlcy5wdXNoKGN1cnJlbnRPZmZzZXQpXHJcblx0XHRcdGlmIChvZmZzZXQgPiBidWZmZXJTaXplIC0gMTApIHtcclxuXHRcdFx0XHRtYWtlUm9vbSgwKVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0ZW5kU2VxdWVuY2UobGVuZ3RoKSB7XHJcblx0XHRcdHZhciBzdGFydE9mZnNldCA9IHNlcXVlbmNlcy5wb3AoKVxyXG5cdFx0XHRpZiAobGVuZ3RoIDwgMTIgJiYgc3RhcnRPZmZzZXQgPiAtMSkgeyAvLyBpZiBpdCBpcyBzaG9ydCBlbm91Z2gsIGFuZCBoYXNuJ3QgYmVlbiBjbGVhcmVkLCB3ZSBjYW4gc2V0IHRoZSBiZWdpbm5pbmcgYnl0ZSBsZW5ndGhcclxuXHRcdFx0XHRidWZmZXJbc3RhcnRPZmZzZXRdID0gNDggKyBsZW5ndGhcclxuXHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0fVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gNjIgLy8gZWxzZSB3ZSBuZWVkIHRvIHB1dCBhbiBlbmQgc2VxdWVuY2UgdG9rZW4gaW5cclxuXHRcdH0sXHJcblx0XHRmaW5pc2goKSB7XHJcblx0XHRcdGlmIChidWZmZXIubGVuZ3RoIC0gb2Zmc2V0ID4gMHg5MClcclxuXHRcdFx0XHRhdmFpbGFibGVCdWZmZXJzLnB1c2goYnVmZmVyLnNsaWNlKG9mZnNldCkpXHJcblx0XHR9LFxyXG5cdFx0Z2V0T2Zmc2V0KCkge1xyXG5cdFx0XHRyZXR1cm4gb2Zmc2V0XHJcblx0XHR9LFxyXG5cdFx0c2V0T2Zmc2V0KG5ld09mZnNldCkge1xyXG5cdFx0XHRvZmZzZXQgPSBuZXdPZmZzZXRcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKGZhbHNlKSB7XHJcblx0XHRnbG9iYWwudHlwZUNvdW50ID0gW11cclxuXHRcdGVuY29kZXIud3JpdGVUb2tlbiA9IGZ1bmN0aW9uKHR5cGUsIG51bWJlcikge1xyXG5cdFx0XHR0eXBlQ291bnRbdHlwZV0gPSAodHlwZUNvdW50W3R5cGVdIHx8IDApICsgMVxyXG5cdFx0XHR3cml0ZVRva2VuKHR5cGUsIG51bWJlcilcclxuXHRcdH1cclxuXHRcdGdsb2JhbC5zdHJpbmdDb3VudCA9IG5ldyBNYXAoKVxyXG5cdFx0ZW5jb2Rlci53cml0ZVN0cmluZyA9IGZ1bmN0aW9uKHN0cmluZykge1xyXG5cdFx0XHRzdHJpbmdDb3VudC5zZXQoc3RyaW5nLCAoc3RyaW5nQ291bnQuZ2V0KHN0cmluZykgfHwgMCkgKyAxKVxyXG5cdFx0XHR3cml0ZVN0cmluZyhzdHJpbmcpXHJcblx0XHR9XHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc3RyaW5nRHVwbGljYXRpb25Db3VudCA9IDBcclxuXHRcdFx0Y29uc29sZS5sb2coJ3N0cmluZ0NvdW50JywgQXJyYXkuZnJvbShzdHJpbmdDb3VudCkuZmlsdGVyKChbc3RyaW5nLCBjb3VudF0pID0+IHtcclxuXHRcdFx0XHRpZiAoY291bnQgPiAxICYgc3RyaW5nLmxlbmd0aCA+IDMpIHtcclxuXHRcdFx0XHRcdHN0cmluZ0R1cGxpY2F0aW9uQ291bnQgKz0gKGNvdW50IC0gMSkgKiBzdHJpbmcubGVuZ3RoXHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkpXHJcblx0XHRcdGNvbnNvbGUubG9nKCdzdHJpbmdEdXBsaWNhdGlvbkNvdW50Jywgc3RyaW5nRHVwbGljYXRpb25Db3VudClcclxuXHRcdFx0Y29uc29sZS5sb2coJ3R5cGVDb3VudCcsIHR5cGVDb3VudClcclxuXHRcdH0pXHJcblx0fVxyXG5cdHJldHVybiBlbmNvZGVyXHJcbn1cclxuZXhwb3J0cy5ub2RlQ2hhckVuY29kZXIgPSBub2RlQ2hhckVuY29kZXJcclxuIiwiXCJ1c2Ugc3RyaWN0XCJcclxuZnVuY3Rpb24gT3B0aW9ucygpIHtcclxuXHR2YXIgY2xhc3NCeU5hbWUgPSB0aGlzLmNsYXNzQnlOYW1lID0gbmV3IE1hcCgpXHJcblx0dGhpcy5jb252ZXJ0ZXJCeUNvbnN0cnVjdG9yID0gbmV3IE1hcCgpXHJcblx0Ly93cml0ZXJCeUNvbnN0cnVjdG9yLnNldChNYXAsIHdyaXRlTWFwKVxyXG5cdC8vd3JpdGVyQnlDb25zdHJ1Y3Rvci5zZXQoU2V0LCB3cml0ZVNldClcclxufVxyXG5PcHRpb25zLnByb3RvdHlwZS5hZGRFeHRlbnNpb24gPSBmdW5jdGlvbihDbGFzcywgbmFtZSwgb3B0aW9ucykge1xyXG5cdGlmIChuYW1lICYmIENsYXNzLm5hbWUgIT09IG5hbWUpIHtcclxuXHRcdENsYXNzLm5hbWUgPSBuYW1lXHJcblx0fVxyXG5cdHRoaXMuY2xhc3NCeU5hbWUuc2V0KENsYXNzLm5hbWUsIChvcHRpb25zICYmIG9wdGlvbnMuZnJvbUFycmF5KSA/IG9wdGlvbnMgOiBDbGFzcylcclxuXHR0aGlzLmNvbnZlcnRlckJ5Q29uc3RydWN0b3Iuc2V0KENsYXNzLCAob3B0aW9ucyAmJiBvcHRpb25zLnRvQXJyYXkpID8gb3B0aW9ucyA6IENsYXNzKVxyXG59XHJcbmV4cG9ydHMuT3B0aW9ucyA9IE9wdGlvbnNcclxuIiwiY29uc3QgY3JlYXRlU2VyaWFsaXplciA9IHJlcXVpcmUoJy4vc2VyaWFsaXplJykuY3JlYXRlU2VyaWFsaXplclxyXG5jb25zdCBzZXJpYWxpemUgPSByZXF1aXJlKCcuL3NlcmlhbGl6ZScpLnNlcmlhbGl6ZVxyXG5jb25zdCBjcmVhdGVQYXJzZXIgPSByZXF1aXJlKCcuL3BhcnNlJykuY3JlYXRlUGFyc2VyXHJcbmNvbnN0IE9wdGlvbnMgPSByZXF1aXJlKCcuL09wdGlvbnMnKS5PcHRpb25zXHJcbmNvbnN0IFNUUklOR19DT0RFID0gMlxyXG52YXIgUFJPUEVSVFlfQ09ERSA9IDBcclxudmFyIE5VTUJFUl9DT0RFID0gMVxyXG52YXIgVFlQRV9DT0RFID0gM1xyXG52YXIgU0VRVUVOQ0VfQ09ERSA9IDdcclxuXHJcbnZhciBERUZBVUxUX1RZUEUgPSA2XHJcbnZhciBBUlJBWV9UWVBFID0gN1xyXG52YXIgUkVGRVJFTkNJTkdfVFlQRSA9IDhcclxudmFyIE5VTUJFUl9UWVBFID0gOVxyXG5cclxudmFyIE5VTEwgPSAwIC8vIHBcclxuXHJcbnZhciBNRVRBREFUQV9UWVBFID0gMTFcclxudmFyIFJFRkVSRU5DSU5HX1BPU0lUSU9OID0gMTNcclxudmFyIFRZUEVfREVGSU5JVElPTiA9IDE0IC8vIH4gIC8vIGZvciBkZWZpbmluZyBhIHR5cGVkIG9iamVjdCB3aXRob3V0IHJldHVybmluZyB0aGUgdmFsdWVcclxudmFyIFVOU1RSVUNUVVJFRF9NQVJLRVIgPSAxMVxyXG5cclxudmFyIE9QRU5fU0VRVUVOQ0UgPSAxMiAvLyA8XHJcbnZhciBFTkRfU0VRVUVOQ0UgPSAxNCAvLyA+XHJcblxyXG52YXIgQ09VTlRfVEhSRVNIT0xEID0gMlxyXG5cclxuZXhwb3J0cy5jcmVhdGVTaGFyZWRTdHJ1Y3R1cmUgPSBjcmVhdGVTaGFyZWRTdHJ1Y3R1cmVcclxuZXhwb3J0cy5yZWFkU2hhcmVkU3RydWN0dXJlID0gcmVhZFNoYXJlZFN0cnVjdHVyZVxyXG5mdW5jdGlvbiByZWFkU2hhcmVkU3RydWN0dXJlKGZyb20pIHtcclxuXHR2YXIgcGFyc2VyID0gY3JlYXRlUGFyc2VyKClcclxuXHR2YXIgc2hhcmVkUHJvcGVydHkgPSBbXVxyXG5cdHNoYXJlZFByb3BlcnR5LmNvZGUgPSA2XHJcblx0c2hhcmVkUHJvcGVydHkua2V5ID0gbnVsbFxyXG5cdC8vIGVuZCB3aXRoIHdpdGggTlVMTCAocCkgdmFsdWUgdG8gcmV0dXJuIHNvbWV0aGluZyBmcm9tIHR5cGUgZGVmaW5pdGlvblxyXG5cdHBhcnNlci5zZXRTb3VyY2UoZnJvbSArICdwJykucmVhZChbc2hhcmVkUHJvcGVydHldKVxyXG5cdHNldHVwU2hhcmVkKHNoYXJlZFByb3BlcnR5KVxyXG5cdHNoYXJlZFByb3BlcnR5LnNlcmlhbGl6ZWQgPSBmcm9tXHJcblx0cmV0dXJuIHNoYXJlZFByb3BlcnR5XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldHVwU2hhcmVkKHByb3BlcnR5KSB7XHJcblx0cHJvcGVydHkucmVzZXRUbyA9IHByb3BlcnR5Lmxlbmd0aFxyXG5cdHByb3BlcnR5LnVwZ3JhZGUgPSB1cGdyYWRlXHJcblx0cHJvcGVydHkudHlwZSA9IHR5cGVzW3Byb3BlcnR5LmNvZGVdXHJcblx0cHJvcGVydHkuaXNGcm96ZW4gPSB0cnVlXHJcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BlcnR5LCAnc2VyaWFsaXplZCcsIHtcclxuXHRcdGdldCgpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX3NlcmlhbGl6ZWQgfHwgKHRoaXMuX3NlcmlhbGl6ZWQgPSBzZXJpYWxpemVTaGFyZWRTdHJ1Y3R1cmUodGhpcykpXHJcblx0XHR9XHJcblx0fSlcclxuXHJcblx0aWYgKHR5cGVvZiBwcm9wZXJ0eS52YWx1ZXMgPT09ICdvYmplY3QnICYmIHByb3BlcnR5LnZhbHVlcykge1xyXG5cdFx0cHJvcGVydHkudmFsdWVzLnJlc2V0VG8gPSBwcm9wZXJ0eS52YWx1ZXMubGVuZ3RoXHJcblx0XHRwcm9wZXJ0eS5sYXN0SW5kZXggPSBwcm9wZXJ0eS52YWx1ZXMubGVuZ3RoXHJcblx0fVxyXG5cdGZvciAodmFyIGkgPSAwLCBsID0gcHJvcGVydHkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRwcm9wZXJ0eVtpXS5pbmRleCA9IGlcclxuXHRcdHByb3BlcnR5W2ldLnJlc3VtZUluZGV4ID0gaVxyXG5cdFx0c2V0dXBTaGFyZWQocHJvcGVydHlbaV0pXHJcblx0fVxyXG59XHJcbmZ1bmN0aW9uIHN0YXJ0V3JpdGUoKSB7XHJcblx0Zm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0c3RhcnRXcml0ZS5jYWxsKHRoaXNbaV0pXHJcblx0fVxyXG5cdHRoaXMubGVuZ3RoID0gdGhpcy5yZXNldFRvIHx8IDBcclxuXHRpZiAodHlwZW9mIHRoaXMudmFsdWVzID09PSAnb2JqZWN0JyAmJiB0aGlzLnZhbHVlcykge1xyXG5cdFx0dGhpcy52YWx1ZXMubGVuZ3RoID0gdGhpcy52YWx1ZXMucmVzZXRUbyB8fCAwXHJcblx0fVxyXG59XHJcblxyXG5cclxuXHJcblx0XHQvLyB1cGdyYWRlcyB0aGUgcHJvcGVydHkgdG8gb3V0cHV0IHRoaXMgYmxvY2tcclxuXHRcdC8vIHJldHVybiAwIGlmIHRoZSBwcm9wZXJ0eSB3YXMgdXBncmFkZWQsIG9yIGlzIGNvbXBhdGlibGUsXHJcblx0XHQvLyAxIGlmIHRoZSBzaGFyZWQgaW5mb3JtYXRpb24gbmVlZHMgdG8gYmUgd3JpdHRlbiBvdXQsIGJ1dCB0aGUgcHJvcGVydHkgd2FzIHVwZ3JhZGVkXHJcblx0XHQvLyAyIGlmIHRoZSBzaGFyZWQgaW5mb3JtYXRpb24gbmVlZHMgdG8gYmUgcmVzZXJpYWxpemVkXHJcbmZ1bmN0aW9uIHVwZ3JhZGUocHJvcGVydHkpIHtcclxuXHRpZiAoIXByb3BlcnR5KSB7XHJcblx0XHRyZXR1cm4gMVxyXG5cdH1cclxuXHR2YXIgY29tcGF0aWJpbGl0eVxyXG5cdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0Ly8gc2FtZSBibG9jayB3YXMgc2VyaWFsaXplZCBsYXN0IHRpbWUsIGZhc3QgcGF0aCB0byBjb21wYXRpbGl0eVxyXG5cdFx0aWYgKHByb3BlcnR5Lmluc2VydGVkRnJvbSA9PT0gdGhpcyAmJiBwcm9wZXJ0eS5pbnNlcnRlZFZlcnNpb24gPT09IHRoaXMudmVyc2lvbiAmJiAoXHJcblx0XHRcdFx0cHJvcGVydHkucmVjb3JkVXBkYXRlIHx8IHByb3BlcnR5LmlzRnJvemVuIHx8IChwcm9wZXJ0eS5sZW5ndGggPT0gMCAmJiBwcm9wZXJ0eS5jb2RlID09IHRoaXMuY29kZSAmJiBwcm9wZXJ0eS52YWx1ZXMgPT0gbnVsbClcclxuXHRcdFx0KSkge1xyXG5cdFx0XHQvLyBidXQgaWYgdGhlIHZlcnNpb24gaW5jcmVtZW50ZWQsIHdlIG5lZWQgdG8gdXBkYXRlXHJcblx0XHRcdHJldHVybiAwXHJcblx0XHR9XHJcblx0XHR2YXIgY2hhbmdlZENvZGVcclxuXHRcdGlmICh0aGlzLmNvZGUgIT09IHByb3BlcnR5LmNvZGUpXHJcblx0XHRcdGNoYW5nZWRDb2RlID0gdHJ1ZVxyXG5cdFx0aWYgKHByb3BlcnR5LnVwZ3JhZGUpIHtcclxuXHRcdFx0dmFyIGNvbXBhdGliaWxpdHkgPSBjb3B5UHJvcGVydHkodGhpcywgcHJvcGVydHkpXHJcblx0XHRcdGlmIChjaGFuZ2VkQ29kZSlcclxuXHRcdFx0XHRjb21wYXRpYmlsaXR5ID0gMlxyXG5cdFx0XHRpZiAocHJvcGVydHkuaXNGcm96ZW4gJiYgY29tcGF0aWJpbGl0eSA+IDApIHtcclxuXHRcdFx0XHRyZXR1cm4gMlxyXG5cdFx0XHR9XHJcblx0XHRcdHByb3BlcnR5Lmluc2VydGVkRnJvbSA9IHRoaXNcclxuXHRcdFx0cHJvcGVydHkuaW5zZXJ0ZWRWZXJzaW9uID0gdGhpcy52ZXJzaW9uXHJcblx0XHRcdGlmIChjb21wYXRpYmlsaXR5ID09PSAyKSB7XHJcblx0XHRcdFx0ZGVidWdnZXJcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdJbnNlcnRpbmcgaW5jb21wYXRpYmxlIGJsb2NrIGludG8gcHJvcGVydHknKVxyXG5cdFx0XHRcdHJldHVybiAyXHJcblx0XHRcdH0gZWxzZSBcclxuXHRcdFx0cmV0dXJuIDBcclxuXHRcdH0gZWxzZSB7IC8vIHVwZ3JhZGluZyBpbnRvIG5vbi1zaGFyZWQgcHJvcGVydHksXHJcblx0XHRcdHByb3BlcnR5Lmluc2VydGVkRnJvbSA9IHRoaXNcclxuXHRcdFx0cHJvcGVydHkuaW5zZXJ0ZWRWZXJzaW9uID0gdGhpcy52ZXJzaW9uXHJcblx0XHRcdC8vIGlmIHRoaXMgaXMgbm90IGEgc2hhcmVkIHByb3BlcnR5IHRoYXQgdHJhY2tzIGNoYW5nZXMsIHdlIGhhdmUgcmVzZXQgYW5kIGVuc3VyZSB0aGF0IGl0IGRvZXNuJ3QgY2hhbmdlIHdoZW4gd2UgcmV1c2UgaXRcclxuXHRcdFx0cHJvcGVydHkubGVuZ3RoID0gMFxyXG5cdFx0XHRwcm9wZXJ0eS52YWx1ZXMgPSBudWxsXHJcblx0XHRcdGlmIChwcm9wZXJ0eS5mcm9tVmFsdWUpXHJcblx0XHRcdFx0cHJvcGVydHkuZnJvbVZhbHVlID0gbnVsbFxyXG5cdFx0XHRyZXR1cm4gMVxyXG5cdFx0fVxyXG5cdH0gZWxzZSB7XHJcblx0XHRpZiAodGhpcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdC8vIG5vIHByb3BlcnR5LCAoYnV0IGJsb2NrIGlzIHNoYXJlZCkgc28ganVzdCB3cml0ZSB0aGUgYnVmZmVyIHdpdGggaXRzIHNoYXJlZCBwYXJ0IChpZiB0aGVyZSBpcyBvbmUpXHJcblx0XHRcdGJsb2NrQnVmZmVyID0gQnVmZmVyLmNvbmNhdChbdGhpcy5zZXJpYWxpemVkLCBibG9ja0J1ZmZlcl0pXHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiAxXHJcbn1cclxuXHJcbnZhciB0eXBlVG9Db2RlID0ge1xyXG5cdHN0cmluZzogUkVGRVJFTkNJTkdfVFlQRSxcclxuXHRudW1iZXI6IE5VTUJFUl9UWVBFLFxyXG5cdG9iamVjdDogREVGQVVMVF9UWVBFLFxyXG5cdGJvb2xlYW46IERFRkFVTFRfVFlQRSxcclxuXHR1bmRlZmluZWQ6IERFRkFVTFRfVFlQRSxcclxuXHRhcnJheTogQVJSQVlfVFlQRVxyXG59XHJcblxyXG52YXIgbGFzdFByb3BlcnR5T25PYmplY3QgPSBuZXcgV2Vha01hcCgpXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTaGFyZWRTdHJ1Y3R1cmUoZnJvbSwgb3B0aW9ucykge1xyXG5cdHZhciBpbnN0YW5jZVByb3BlcnR5ID0gW11cclxuXHRpbnN0YW5jZVByb3BlcnR5LmtleSA9IG51bGxcclxuXHRpbnN0YW5jZVByb3BlcnR5LmNvZGUgPSA2XHJcblx0aW5zdGFuY2VQcm9wZXJ0eS50eXBlID0gJ29iamVjdCdcclxuXHRsZXQgYWN0aXZlTGlzdCA9IFtdXHJcblx0bGV0IG5lZWRzQ2xlYW51cCA9IFtdXHJcblx0YWN0aXZlTGlzdC5pdGVyYXRpb24gPSAwXHJcblx0dmFyIHByZXZpb3VzQXZvaWRTaGFyZVVwZGF0ZVxyXG5cclxuLy8gcHJvcGVydHkgaWQgcmFuZ2VzOlxyXG4vLyBzaGFyZWQ6IDAgLSA1MTFcclxuLy8gaW5zdGFuY2U6IDUxMitcclxuLy8gc2hhcmVkOiBcclxuXHJcblx0Y2xhc3MgU2hhcmVkIGV4dGVuZHMgQXJyYXkge1xyXG5cdFx0Y29uc3RydWN0b3IoaW5zdGFuY2VQcm9wZXJ0eSkge1xyXG5cdFx0XHRzdXBlcigpXHJcblx0XHRcdGxldCBoYXNVcGRhdGVzXHJcblx0XHRcdHRoaXMua2V5ID0gdHlwZW9mIGluc3RhbmNlUHJvcGVydHkua2V5ID09ICdzdHJpbmcnID8gaXNvbGF0ZVN0cmluZyhpbnN0YW5jZVByb3BlcnR5LmtleSkgOiBpbnN0YW5jZVByb3BlcnR5LmtleVxyXG5cdFx0XHR0aGlzLnR5cGUgPSBpbnN0YW5jZVByb3BlcnR5LnR5cGVcclxuXHRcdFx0dGhpcy5jb2RlID0gaW5zdGFuY2VQcm9wZXJ0eS5jb2RlXHJcblx0XHRcdHRoaXMuY291bnQgPSAwXHJcblx0XHRcdHRoaXMuY29tZXNBZnRlciA9IFtdXHJcblx0XHRcdGlmICh0aGlzLmNvZGUgPT0gUkVGRVJFTkNJTkdfVFlQRSkge1xyXG5cdFx0XHRcdHRoaXMudmFsdWVzID0gW11cclxuXHRcdFx0XHR0aGlzLnZhbHVlcy5yZXNldFRvID0gNTEyXHJcblx0XHRcdFx0dGhpcy52YWx1ZXMubmV4dFBvc2l0aW9uID0gNTEyXHJcblx0XHRcdFx0dGhpcy5wcmV2aW91c1ZhbHVlcyA9IG5ldyBNYXAoKVxyXG5cdFx0XHRcdHRoaXMubGFzdEluZGV4ID0gMFxyXG5cdFx0XHRcdHRoaXMucmVwZXRpdGlvbnMgPSAwXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdG5ld1Byb3BlcnR5KGluc3RhbmNlKSB7XHJcblx0XHRcdHJldHVybiBuZXcgU2hhcmVkKGluc3RhbmNlKVxyXG5cclxuXHRcdH1cclxuXHRcdGdldFByb3BlcnR5KHZhbHVlLCBrZXksIHR5cGUsIGV4dGVuZGVkVHlwZSwgd3JpdGVQcm9wZXJ0eSwgd3JpdGVUb2tlbiwgbGFzdFByb3BlcnR5SW5kZXgpIHtcclxuXHRcdFx0bGV0IHByb3BlcnR5XHJcblx0XHRcdGlmICh0aGlzLmluc2VydGVkRnJvbSkge1xyXG5cdFx0XHRcdHByb3BlcnR5U2VhcmNoKHRoaXMuaW5zZXJ0ZWRGcm9tKVxyXG5cdFx0XHRcdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdFx0aWYgKGxhc3RQcm9wZXJ0eUluZGV4ICE9PSBwcm9wZXJ0eS5pbmRleCkge1xyXG5cdFx0XHRcdFx0XHR3cml0ZVRva2VuKFBST1BFUlRZX0NPREUsIHByb3BlcnR5SW5kZXgpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gcHJvcGVydHlcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHRoaXMuaW5zZXJ0ZWRGcm9tLmdldFByb3BlcnR5KSB7XHJcblx0XHRcdFx0XHQvL3RoaXMucmVjb3JkVXBkYXRlKClcclxuXHRcdFx0XHRcdHJldHVybiB0aGlzLmluc2VydGVkRnJvbS5nZXRQcm9wZXJ0eSh2YWx1ZSwga2V5LCB0eXBlLCBleHRlbmRlZFR5cGUsIHdyaXRlUHJvcGVydHksIHdyaXRlVG9rZW4sIGxhc3RQcm9wZXJ0eUluZGV4KVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRkZWJ1Z2dlclxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLnJlY29yZFVwZGF0ZSgpXHJcblx0XHRcdGxldCBwcm9wZXJ0eUluZGV4ID0gdGhpcy5sZW5ndGhcclxuXHRcdFx0aWYgKGxhc3RQcm9wZXJ0eUluZGV4ICE9PSBwcm9wZXJ0eUluZGV4KSB7XHJcblx0XHRcdFx0d3JpdGVUb2tlbihQUk9QRVJUWV9DT0RFLCBwcm9wZXJ0eUluZGV4KVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0eXBlID09PSAnYm9vbGVhbicgfHwgdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHR0eXBlID0gJ29iamVjdCdcclxuXHRcdFx0fVxyXG5cdFx0XHRwcm9wZXJ0eSA9IHRoaXNbcHJvcGVydHlJbmRleF0gPSBuZXcgU2hhcmVkKHtcclxuXHRcdFx0XHRrZXksXHJcblx0XHRcdFx0dHlwZSxcclxuXHRcdFx0XHRjb2RlOiB0eXBlVG9Db2RlW3R5cGVdXHJcblx0XHRcdH0pXHJcblx0XHRcdHByb3BlcnR5LnBhcmVudCA9IHRoaXNcclxuXHRcdFx0cHJvcGVydHkuaW5kZXggPSBwcm9wZXJ0eUluZGV4XHJcblx0XHRcdHJldHVybiBwcm9wZXJ0eVxyXG5cdFx0XHRmdW5jdGlvbiBwcm9wZXJ0eVNlYXJjaChwYXJlbnRQcm9wZXJ0eSkge1xyXG5cdFx0XHRcdGxldCBwcm9wZXJ0eUluZGV4ID0gLTFcclxuXHRcdFx0XHRkbyB7XHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IHBhcmVudFByb3BlcnR5WysrcHJvcGVydHlJbmRleF1cclxuXHRcdFx0XHR9IHdoaWxlKHByb3BlcnR5ICYmIChwcm9wZXJ0eS5rZXkgIT09IGtleSB8fFxyXG5cdFx0XHRcdFx0XHQocHJvcGVydHkudHlwZSAhPT0gdHlwZSAmJiB0eXBlICE9PSAnYm9vbGVhbicgJiYgdHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHx8XHJcblx0XHRcdFx0XHRcdChleHRlbmRlZFR5cGUgJiYgcHJvcGVydHkuZXh0ZW5kZWRUeXBlICE9PSBjb25zdHJ1Y3RvcikpKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHR3cml0ZVNoYXJlZFZhbHVlKHZhbHVlLCB3cml0ZVRva2VuLCBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0Ly8gdGhlcmUgYXJlIHNldmVyYWwgcG9zc2libGUgc3RhdGVzIG9mIGEgcHJvcGVydHk6XHJcblx0XHRcdC8vIDEpIE5vbi1yZWZlcmVuY2luZyBzdGF0ZSAoaW5pdGlhbCBzdGF0ZSkgLSBXZSBkb24ndCByZXNldCBwb3NpdGlvbiBpbmRpY2VzLCBhbmQgd2UgbmV2ZXIgcmVmZXJlbmNlIHByZXZpb3VzIHZhbHVlc1xyXG5cdFx0XHQvLyAyKSBTaGFyZWQvcmVwZXRpdGl2ZSBzdGF0ZSAtIFdlIGNhbiBoYXZlIHNoYXJlZCB2YWx1ZXMgKDwxMiBwb3NpdGlvbikgYW5kIHdlIGNhbiByZWZlcmVuY2UgcHJvcGVydGllcyBpbiBhbiBpbnN0YW5jZSAoPj0xMiBwb3NpdGlvbilcclxuXHRcdFx0Ly8gMykgTm9uLXJlcGV0aXRpdmUgLSBJZiByZXBldGl0aW9uIGlzIHJhcmUsIGdvZXMgdG8gZGVmYXVsdCB0eXBlXHJcblx0XHRcdGxldCB2YWx1ZUVudHJ5ID0gdGhpcy5wcmV2aW91c1ZhbHVlcy5nZXQodmFsdWUpXHJcblx0XHRcdGlmICh2YWx1ZUVudHJ5KSB7XHJcblx0XHRcdFx0aWYgKHZhbHVlRW50cnkuc2VyaWFsaXplciA9PSBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0XHRcdHRoaXMucmVwZXRpdGlvbnMrK1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR2YWx1ZUVudHJ5LnNlcmlhbGl6YXRpb25zKytcclxuXHRcdFx0XHRcdHZhbHVlRW50cnkuc2VyaWFsaXplciA9IHNlcmlhbGl6ZXJJZFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnByZXZpb3VzVmFsdWVzLnNldCh2YWx1ZSwgdmFsdWVFbnRyeSA9IHtcclxuXHRcdFx0XHRcdHNlcmlhbGl6YXRpb25zOiAxLFxyXG5cdFx0XHRcdFx0c2VyaWFsaXplcjogc2VyaWFsaXplcklkXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIXRoaXMuYWN0aXZlKSB7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmUgPSAyXHJcblx0XHRcdFx0YWN0aXZlTGlzdC5wdXNoKHRoaXMpXHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdC8qdmFyIGluZGV4ID0gdGhpcy52YWx1ZXMubGVuZ3RoXHJcblx0XHRcdGlmIChpbmRleCA8IDEyKVxyXG5cdFx0XHRcdHRoaXMudmFsdWVzW2luZGV4XSA9IHZhbHVlKi9cclxuXHRcdH1cclxuXHRcdHByb3BlcnR5VXNlZChwcm9wZXJ0eSwgb2JqZWN0LCBzZXJpYWxpemVySWQsIGkpIHtcclxuXHRcdFx0aWYgKHByb3BlcnR5Lmxhc3RTZXJpYWxpemVyICE9PSBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0XHRwcm9wZXJ0eS5sYXN0U2VyaWFsaXplciA9IHNlcmlhbGl6ZXJJZFxyXG5cdFx0XHRcdHByb3BlcnR5LmNvdW50KytcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaSAhPT0gMCkge1xyXG5cdFx0XHRcdGxldCBsYXN0UHJvcGVydHkgPSBsYXN0UHJvcGVydHlPbk9iamVjdC5nZXQob2JqZWN0KVxyXG5cdFx0XHRcdC8vIHJlY29yZCB3aGF0IGhhcyBjb21lIGJlZm9yZSBzbyB3ZSBjYW4gb3JkZXIgdGhlbSB3aGVuIGNyZWF0aW5nIGEgY29tbW9uIHN0cnVjdHVyZVxyXG5cdFx0XHRcdGlmIChsYXN0UHJvcGVydHkgJiYgcHJvcGVydHkuY29tZXNBZnRlci5pbmRleE9mKGxhc3RQcm9wZXJ0eSkgPT09IC0xKVxyXG5cdFx0XHRcdFx0cHJvcGVydHkuY29tZXNBZnRlci5wdXNoKGxhc3RQcm9wZXJ0eSlcclxuXHRcdFx0fVxyXG5cdFx0XHRsYXN0UHJvcGVydHlPbk9iamVjdC5zZXQob2JqZWN0LCBwcm9wZXJ0eSlcclxuXHRcdH1cclxuXHRcdHJlY29yZFVwZGF0ZSgpIHtcclxuXHRcdFx0dmFyIHByb3BlcnR5ID0gdGhpc1xyXG5cdFx0XHRkbyB7XHJcblx0XHRcdFx0cHJvcGVydHkudmVyc2lvbiA9IChwcm9wZXJ0eS52ZXJzaW9uIHx8IDApICsgMVxyXG5cdFx0XHRcdGlmIChwcm9wZXJ0eS5pbnNlcnRlZEZyb20pIHtcclxuXHRcdFx0XHRcdC8vIG9yIHdlIGNvdWxkIHRyeSB0byB1cGdyYWRlIHRoZSBsYXRlc3QgaW5zZXJ0ZWQgcHJvcGVydHk/XHJcblx0XHRcdFx0XHRwcm9wZXJ0eS5pbnNlcnRlZEZyb20gPSBudWxsXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChwcm9wZXJ0eS5fc2VyaWFsaXplZClcclxuXHRcdFx0XHRcdHByb3BlcnR5Ll9zZXJpYWxpemVkID0gbnVsbFxyXG5cdFx0XHR9IHdoaWxlKHByb3BlcnR5ID0gcHJvcGVydHkucGFyZW50KVxyXG5cdFx0fVxyXG5cclxuXHRcdHJlYWRpbmdCbG9jayhwYXJzZSkge1xyXG5cdFx0XHQvL3ZhciBibG9ja1N0cnVjdHVyZSA9IHRoaXMuYXNCbG9ja1N0cnVjdHVyZSgpXHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0cmV0dXJuIHBhcnNlKClcclxuXHRcdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0XHR0aGlzLnJlYWRSZXNldCgpXHJcblx0XHRcdFx0aWYgKHRoaXMubGVuZ3RoID4gNTAwKSB7XHJcblx0XHRcdFx0XHRkZWJ1Z2dlclxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Ly9hY3RpdmU6XHJcblx0XHQvLyAwIC0gbm90LWFjdGl2ZWx5IGJlaW5nIG1vbml0b3JlZFxyXG5cdFx0Ly8gMSAtIGJlaW5nIG1vbml0b3JlZCwgYnV0IGFuIGl0ZXJhdGlvbiBoYXNuJ3Qgc3RhcnRlZCBmb3IgdGhpc1xyXG5cdFx0Ly8gMiAtIGJlaW5nIG1vbml0b3JlZCwgYW5kIGFuIGl0ZXJhdGlvbiBoYXMgc3RhcnRlZFxyXG5cdFx0c3RhcnRXcml0ZShhdm9pZFNoYXJlVXBkYXRlLCB2YWx1ZSkge1xyXG5cdFx0XHRhY3RpdmVMaXN0Lml0ZXJhdGlvbisrXHJcblx0XHRcdGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5jb2RlICE9PSBBUlJBWV9UWVBFICYmIHRoaXMudmVyc2lvbiA+IDApIHtcclxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCBjaGFuZ2UgdGhlIHJvb3QgdHlwZSBvZiBhIHNoYXJlZCBvYmplY3QgdG8gYW4gYXJyYXknKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAodGhpcy5jb2RlICE9IEFSUkFZX1RZUEUpXHJcblx0XHRcdFx0XHR0aGlzLnJlY29yZFVwZGF0ZSgpXHJcblx0XHRcdFx0dGhpcy5jb2RlID0gQVJSQVlfVFlQRVxyXG5cdFx0XHRcdHRoaXMudHlwZSA9ICdhcnJheSdcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGhpcy53cml0aW5nKVxyXG5cdFx0XHRcdHJldHVyblxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dGhpcy53cml0aW5nID0gdHJ1ZVxyXG5cdFx0XHRyZXR1cm5cclxuXHRcdFx0cHJldmlvdXNBdm9pZFNoYXJlVXBkYXRlID0gY3VycmVudEF2b2lkU2hhcmVVcGRhdGVcclxuXHRcdFx0aWYgKGF2b2lkU2hhcmVVcGRhdGUpXHJcblx0XHRcdFx0Y3VycmVudEF2b2lkU2hhcmVVcGRhdGUgPSB0cnVlXHJcblx0XHR9XHJcblx0XHRlbmRXcml0ZSgpIHtcclxuXHRcdFx0aWYgKHRoaXMud3JpdGluZylcclxuXHRcdFx0XHR0aGlzLndyaXRpbmcgPSBmYWxzZVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0XHRsZXQgaXRlcmF0aW9ucyA9IHRoaXMuaXRlcmF0aW9ucyA9ICh0aGlzLml0ZXJhdGlvbnMgfHwgMCkgKyAxXHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlTGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGxldCBhY3RpdmVTaGFyZWRQcm9wZXJ0eSA9IGFjdGl2ZUxpc3RbaV1cclxuXHRcdFx0XHRsZXQgcHJldmlvdXNWYWx1ZXMgPSBhY3RpdmVTaGFyZWRQcm9wZXJ0eS5wcmV2aW91c1ZhbHVlc1xyXG5cdFx0XHRcdGlmIChwcmV2aW91c1ZhbHVlcyAmJiBwcmV2aW91c1ZhbHVlcy5zaXplICYmICFhY3RpdmVTaGFyZWRQcm9wZXJ0eS5pc0Zyb3plbikge1xyXG5cdFx0XHRcdFx0aWYgKCFjdXJyZW50QXZvaWRTaGFyZVVwZGF0ZSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoYWN0aXZlU2hhcmVkUHJvcGVydHkudmFsdWVzLmxlbmd0aCA9PSAwICYmXHJcblx0XHRcdFx0XHRcdFx0aXRlcmF0aW9ucyA+ICgoYWN0aXZlU2hhcmVkUHJvcGVydHkucmVwZXRpdGlvbnMgfHwgMCkgKyAxMCkgKiA1KSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gbW92ZSB0byBwZXJtYW5lbnRseSBub24tcmVwZXRpdGl2ZVxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdjaGFuZ2luZyByZWZlcmVuY2VhYmxlIHRvIGRlZmF1bHQnLCBhY3RpdmVTaGFyZWRQcm9wZXJ0eS5rZXkpXHJcblx0XHRcdFx0XHRcdFx0YWN0aXZlU2hhcmVkUHJvcGVydHkucHJldmlvdXNWYWx1ZXMgPSBudWxsXHJcblx0XHRcdFx0XHRcdFx0YWN0aXZlU2hhcmVkUHJvcGVydHkuY29kZSA9IERFRkFVTFRfVFlQRVxyXG5cdFx0XHRcdFx0XHRcdGFjdGl2ZVNoYXJlZFByb3BlcnR5LnR5cGUgPSAnb2JqZWN0J1xyXG5cdFx0XHRcdFx0XHRcdGFjdGl2ZVNoYXJlZFByb3BlcnR5LnJlY29yZFVwZGF0ZSgpXHJcblx0XHRcdFx0XHRcdFx0YWN0aXZlTGlzdC5zcGxpY2UoaS0tLCAxKVxyXG5cdFx0XHRcdFx0XHRcdHByZXZpb3VzVmFsdWVzID0gW11cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Zm9yIChsZXQgW3ZhbHVlLCBlbnRyeV0gb2YgcHJldmlvdXNWYWx1ZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgdmFsdWVzID0gYWN0aXZlU2hhcmVkUHJvcGVydHkudmFsdWVzXHJcblx0XHRcdFx0XHRcdFx0aWYgKChlbnRyeS5zZXJpYWxpemF0aW9ucyArIDMpICogOCA8IGl0ZXJhdGlvbnMgLSAoZW50cnkuc3RhcnRpbmdJdGVyYXRpb24gfHwgKGVudHJ5LnN0YXJ0aW5nSXRlcmF0aW9uID0gaXRlcmF0aW9ucykpIHx8IHZhbHVlcy5sZW5ndGggPiA1MDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHByZXZpb3VzVmFsdWVzLmRlbGV0ZSh2YWx1ZSlcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0aWYgKGVudHJ5LnNlcmlhbGl6YXRpb25zID4gNTAgJiYgZW50cnkuc2VyaWFsaXphdGlvbnMgKiAzID4gaXRlcmF0aW9ucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWVzW2FjdGl2ZVNoYXJlZFByb3BlcnR5Lmxhc3RJbmRleCsrXSA9IHZhbHVlXHJcblx0XHRcdFx0XHRcdFx0XHRhY3RpdmVTaGFyZWRQcm9wZXJ0eS5yZWNvcmRVcGRhdGUoKVxyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2FkZGluZyB2YWx1ZScsIHZhbHVlLCAndG8nLCBhY3RpdmVTaGFyZWRQcm9wZXJ0eS5rZXkpXHJcblx0XHRcdFx0XHRcdFx0XHRwcmV2aW91c1ZhbHVlcy5kZWxldGUodmFsdWUpIC8vIGRvbmUgd2l0aCB0cmFja2luZywgaXQgaGFzIGJlZW4gYWNjZXB0ZWQgYXMgYSBjb21tb24gdmFsdWVcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0YWN0aXZlU2hhcmVkUHJvcGVydHkuYWN0aXZlID0gMFxyXG5cdFx0XHRcdFx0YWN0aXZlTGlzdC5zcGxpY2UoaS0tLCAxKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoYWN0aXZlTGlzdC5oYXNVcGRhdGVzKSB7XHJcblx0XHRcdFx0YWN0aXZlTGlzdC5oYXNVcGRhdGVzID0gZmFsc2VcclxuXHRcdFx0XHR0aGlzLnZlcnNpb24rK1xyXG5cdFx0XHRcdGlmICghdGhpcy5fc2VyaWFsaXplZClcclxuXHRcdFx0XHRcdHRoaXMuX3NlcmlhbGl6ZWQgPSBudWxsXHJcblx0XHRcdFx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5vblVwZGF0ZSlcclxuXHRcdFx0XHRcdG9wdGlvbnMub25VcGRhdGUoKVxyXG5cdFx0XHR9XHJcblx0XHRcdGN1cnJlbnRBdm9pZFNoYXJlVXBkYXRlID0gcHJldmlvdXNBdm9pZFNoYXJlVXBkYXRlXHJcblx0XHR9XHJcblxyXG5cdFx0dXBncmFkZShwcm9wZXJ0eSkge1xyXG5cdFx0XHRyZXR1cm4gdXBncmFkZS5jYWxsKHRoaXMsIHByb3BlcnR5KVxyXG5cdFx0fVxyXG5cclxuXHRcdGdldCBzZXJpYWxpemVkKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5fc2VyaWFsaXplZCB8fCAodGhpcy5fc2VyaWFsaXplZCA9IHNlcmlhbGl6ZVNoYXJlZFN0cnVjdHVyZSh0aGlzKSlcclxuXHRcdH1cclxuXHRcdHNlcmlhbGl6ZUNvbW1vblN0cnVjdHVyZShlbWJlZGRlZCkge1xyXG5cdFx0XHR2YXIgdXNhZ2VUaHJlc2hvbGQgPSBNYXRoLnNxcnQoYWN0aXZlTGlzdC5pdGVyYXRpb24pXHJcblx0XHRcdHJldHVybiBzZXJpYWxpemVTaGFyZWRTdHJ1Y3R1cmUodGhpcywgY2hpbGRQcm9wZXJ0eSA9PiBjaGlsZFByb3BlcnR5LmNvdW50ID49IHVzYWdlVGhyZXNob2xkLCBlbWJlZGRlZClcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBzaGFyZWRTdHJ1Y3R1cmUgPSBuZXcgU2hhcmVkKGluc3RhbmNlUHJvcGVydHkpXHJcblx0c2hhcmVkU3RydWN0dXJlLnZlcnNpb24gPSAwXHJcblxyXG5cdHNoYXJlZFN0cnVjdHVyZS5mcmVlemUgPSBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuaXNGcm96ZW4gPSB0cnVlXHJcblx0XHR0aGlzLnJlc2V0KClcclxuXHR9XHJcblxyXG5cdGlmIChmcm9tKSB7XHJcblx0XHR2YXIgcGFyc2VyID0gY3JlYXRlUGFyc2VyKHtcclxuXHRcdFx0Zm9yRGVmZXJyZWQoYmxvY2ssIHByb3BlcnR5KSB7XHJcblx0XHRcdFx0cHJvcGVydHkuaXNCbG9jayA9IHRydWVcclxuXHRcdFx0XHRyZXR1cm4gYmxvY2tcclxuXHRcdFx0fSxcclxuXHRcdFx0cGFyc2VEZWZlcnJlZHM6IHRydWVcclxuXHRcdH0pXHJcblx0XHQvLyBjb25jYXRlbmF0ZSBzaGFyZWQgc3RydWN0dXJlIHdpdGggbnVsbCBzbyB0aGVyZSBpcyBhIHZhbHVlIHRvIHBhcnNlXHJcblx0XHR2YXIgcmVhZFByb3BlcnR5ID0gW11cclxuXHRcdHJlYWRQcm9wZXJ0eS5jb2RlID0gNlxyXG5cdFx0cmVhZFByb3BlcnR5LmtleSA9IG51bGxcclxuXHRcdC8vIGVuZCB3aXRoIHdpdGggTlVMTCAocCkgdmFsdWUgdG8gcmV0dXJuIHNvbWV0aGluZyBmcm9tIHR5cGUgZGVmaW5pdGlvblxyXG5cdFx0cGFyc2VyLnNldFNvdXJjZShmcm9tICsgJ3AnKS5yZWFkKFtyZWFkUHJvcGVydHldKVxyXG5cdFx0Y29weVByb3BlcnR5KHJlYWRQcm9wZXJ0eSwgc2hhcmVkU3RydWN0dXJlKVxyXG5cdFx0YWN0aXZlTGlzdC5oYXNVcGRhdGVzID0gZmFsc2VcclxuXHRcdHNoYXJlZFN0cnVjdHVyZS52ZXJzaW9uID0gMVxyXG5cdH1cclxuXHRzaGFyZWRTdHJ1Y3R1cmUua2V5ID0gbnVsbCAvLyByb290IG11c3QgYmUgbnVsbCAoZm9yIHRoZSBwYXJzZXIgdG8gd29yayBwcm9wZXJseSlcclxuXHJcblx0cmV0dXJuIHNoYXJlZFN0cnVjdHVyZVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc0Rlc2NlbmRhbnQocHJvcGVydHksIHBvc3NpYmxlUGFyZW50KSB7XHJcblx0ZG8ge1xyXG5cdFx0aWYgKHByb3BlcnR5ID09PSBwb3NzaWJsZVBhcmVudClcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHR9IHdoaWxlIChwcm9wZXJ0eSA9IHByb3BlcnR5LnBhcmVudClcclxufVxyXG4vLyBkZWZhdWx0IHR5cGUgZm9yIGVhY2ggY29kZVxyXG52YXIgdHlwZXMgPSB7XHJcblx0Ni8qREVGQVVMVF9UWVBFKi86ICdvYmplY3QnLFxyXG5cdDcvKkFSUkFZX1RZUEUqLzogJ2FycmF5JyxcclxuXHQ4LypSRUZFUkVOQ0lOR19UWVBFKi86ICdzdHJpbmcnLFxyXG5cdDkvKk5VTUJFUl9UWVBFKi86ICdudW1iZXInXHJcbn1cclxuXHJcbnZhciBjdXJyZW50QXZvaWRTaGFyZVVwZGF0ZVxyXG5mdW5jdGlvbiBzZXJpYWxpemVTaGFyZWRTdHJ1Y3R1cmUocHJvcGVydHksIGNvbmRpdGlvbiwgZW1iZWRkZWQpIHtcclxuXHR2YXIgc2VyaWFsaXplciA9IGNyZWF0ZVNlcmlhbGl6ZXIoKVxyXG5cdHZhciB3cml0ZXJzID0gc2VyaWFsaXplci5nZXRXcml0ZXJzKClcclxuXHRzZXJpYWxpemVTaGFyZWRQcm9wZXJ0eShwcm9wZXJ0eSwgIWVtYmVkZGVkLCAhZW1iZWRkZWQpXHJcblx0ZnVuY3Rpb24gc2VyaWFsaXplU2hhcmVkUHJvcGVydHkocHJvcGVydHksIGV4cGVjdHNPYmplY3RXaXRoTnVsbEtleSwgaXNSb290KSB7XHJcblx0XHRpZiAocHJvcGVydHkuaW5zZXJ0ZWRGcm9tICYmIHByb3BlcnR5Lmluc2VydGVkRnJvbS5zZXJpYWxpemVDb21tb25TdHJ1Y3R1cmUpIHtcclxuXHRcdFx0cHJvcGVydHkgPSBwcm9wZXJ0eS5pbnNlcnRlZEZyb21cclxuXHRcdFx0cmV0dXJuIHdyaXRlcnMud3JpdGVCdWZmZXIocHJvcGVydHkuc2VyaWFsaXplQ29tbW9uU3RydWN0dXJlKCFpc1Jvb3QpKVxyXG5cdFx0fVxyXG5cdFx0dmFyIGlzQXJyYXkgPSBwcm9wZXJ0eS5jb2RlID09PSBBUlJBWV9UWVBFXHJcblx0XHR2YXIgY29tbW9uUHJvcGVydGllcyA9IGNvbmRpdGlvbiA/IG9yZGVyUHJvcGVydGllcyhwcm9wZXJ0eS5maWx0ZXIoY29uZGl0aW9uKSkgOiBwcm9wZXJ0eVxyXG5cdFx0dmFyIGxlbmd0aCA9IGNvbW1vblByb3BlcnRpZXMubGVuZ3RoXHJcblx0XHRpZiAoIShleHBlY3RzT2JqZWN0V2l0aE51bGxLZXkgJiYgcHJvcGVydHkuY29kZSA9PT0gREVGQVVMVF9UWVBFKSkge1xyXG5cdFx0XHRsZXQga2V5ID0gaXNSb290ID8gbnVsbCA6IHByb3BlcnR5LmtleVxyXG5cdFx0XHR3cml0ZXJzLndyaXRlUHJvcGVydHkoa2V5LCB0eXBlc1twcm9wZXJ0eS5jb2RlXSlcclxuXHRcdFx0aWYgKGxlbmd0aCA9PT0gMCAmJiBrZXkgPT09IG51bGwgJiYgKHByb3BlcnR5LmNvZGUgPT09IERFRkFVTFRfVFlQRSB8fCBwcm9wZXJ0eS5jb2RlID09PSBBUlJBWV9UWVBFKSkge1xyXG5cdFx0XHRcdC8vIHRoZSBrZXkgd2FzIGVsaWRlZCwgYnV0IHdvbid0IGJlIGZvbGxvd2VkIGJ5IHNlcXVlbmNlLCBzbyB3cml0ZSBvbmUgbm93XHJcblx0XHRcdFx0d3JpdGVycy53cml0ZVRva2VuKFNFUVVFTkNFX0NPREUsIDApXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmIChpc1Jvb3QgJiYgbGVuZ3RoID4gMCkge1xyXG5cdFx0XHR3cml0ZXJzLndyaXRlVG9rZW4oVFlQRV9DT0RFLCBUWVBFX0RFRklOSVRJT04pXHJcblx0XHR9XHJcblx0XHRpZiAobGVuZ3RoID4gMCkge1xyXG5cdFx0XHQvLyB3ZSBhbHdheXMgdXNlIG9wZW4gc2VxdWVuY2UsIGJlY2F1c2Ugd3JpdGluZyBtdWx0aXBsZSB2YWx1ZXMgb2YgYSBwcm9wZXJ0eSB1c2UgZXh0cmEgcHJvcGVydHkgY291bnRzLFxyXG5cdFx0XHQvLyBwbHVzIGl0IGlzIGVhc2llciB0byBkZWFsIHdpdGggcHJvcGVydGllcyB3aXRob3V0IHZhbHVlc1xyXG5cdFx0XHR3cml0ZXJzLndyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgT1BFTl9TRVFVRU5DRSlcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBjaGlsZFByb3BlcnR5ID0gY29tbW9uUHJvcGVydGllc1tpXVxyXG5cdFx0XHRcdGNoaWxkUHJvcGVydHkuaW5kZXggPSBpXHJcblx0XHRcdFx0aWYgKGlzQXJyYXkgJiYgaSA+IDApIHtcclxuXHRcdFx0XHRcdHdyaXRlcnMud3JpdGVUb2tlbihQUk9QRVJUWV9DT0RFLCBpKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZXJpYWxpemVTaGFyZWRQcm9wZXJ0eShjaGlsZFByb3BlcnR5LCBjb21tb25Qcm9wZXJ0aWVzLmNvZGUgPT09IEFSUkFZX1RZUEUgJiYgaSA9PT0gMCwgZmFsc2UsIGNvbmRpdGlvbilcclxuXHRcdFx0fVxyXG5cdFx0XHR3cml0ZXJzLndyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgRU5EX1NFUVVFTkNFKVxyXG5cdFx0fVxyXG5cdFx0dmFyIGZpcnN0ID0gdHJ1ZVxyXG4vKlx0XHRpZiAocHJvcGVydHkucHJldmlvdXNWYWx1ZXMpIHtcclxuXHRcdFx0Zm9yIChsZXQgW3ZhbHVlLCBjb3VudF0gb2YgcHJvcGVydHkucHJldmlvdXNWYWx1ZXMpIHtcclxuXHRcdFx0XHRpZiAoY291bnQgPj0gdXNhZ2VUaHJlc2hvbGQgKiAyKSB7XHJcblx0XHRcdFx0XHRpZiAoZmlyc3QpXHJcblx0XHRcdFx0XHRcdGZpcnN0ID0gZmFsc2VcclxuXHRcdFx0XHRcdGVsc2UgLy8gcmVzZXQgcHJvcGVydHkgY29kZSBmb3IgZWFjaCBzdWJzZXF1ZW50IHZhbHVlIHNvIHdlIGRvbid0IG1vdmUgb24gdG8gdGhlIG5leHQgcHJvcGVydHkgaW4gcGFyc2luZ1xyXG5cdFx0XHRcdFx0XHR3cml0ZXJzLndyaXRlVG9rZW4oUFJPUEVSVFlfQ09ERSwgcHJvcGVydHkuaW5kZXgpXHJcblx0XHRcdFx0XHR3cml0ZXJzLndyaXRlQXNEZWZhdWx0KHZhbHVlKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlICovXHJcblx0XHRpZiAocHJvcGVydHkubGFzdEluZGV4ID4gMCkge1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbCA9IHByb3BlcnR5Lmxhc3RJbmRleDsgaSA8IGw7IGkrKykge1xyXG5cdFx0XHRcdHZhciB2YWx1ZSA9IHByb3BlcnR5LnZhbHVlc1tpXVxyXG5cdFx0XHRcdGlmIChmaXJzdClcclxuXHRcdFx0XHRcdGZpcnN0ID0gZmFsc2VcclxuXHRcdFx0XHRlbHNlIC8vIHJlc2V0IHByb3BlcnR5IGNvZGUgZm9yIGVhY2ggc3Vic2VxdWVudCB2YWx1ZSBzbyB3ZSBkb24ndCBtb3ZlIG9uIHRvIHRoZSBuZXh0IHByb3BlcnR5IGluIHBhcnNpbmdcclxuXHRcdFx0XHRcdHdyaXRlcnMud3JpdGVUb2tlbihQUk9QRVJUWV9DT0RFLCBwcm9wZXJ0eS5pbmRleClcclxuXHRcdFx0XHR3cml0ZXJzLndyaXRlQXNEZWZhdWx0KHZhbHVlKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHRsZXQgc2VyaWFsaXplZCA9IHNlcmlhbGl6ZXIuZ2V0U2VyaWFsaXplZCgpXHJcblx0cmV0dXJuIHNlcmlhbGl6ZWRcclxufVxyXG5mdW5jdGlvbiBjb3B5UHJvcGVydHkoc291cmNlLCB0YXJnZXQsIGZyZWV6ZVRhcmdldCwgc3RhcnRpbmdJbmRleCkge1xyXG5cdHZhciBjb21wYXRpYmlsaXR5ID0gMFxyXG5cdHRhcmdldC5jb2RlID0gc291cmNlLmNvZGVcclxuXHR0YXJnZXQudHlwZSA9IHNvdXJjZS50eXBlIHx8IHR5cGVzW3NvdXJjZS5jb2RlXVxyXG5cdGlmIChmcmVlemVUYXJnZXQpIHtcclxuXHRcdHRhcmdldC5pc0Zyb3plbiA9IHRydWVcclxuXHRcdGlmICh0YXJnZXQucHJldmlvdXNWYWx1ZXMpXHJcblx0XHRcdHRhcmdldC5wcmV2aW91c1ZhbHVlcyA9IG51bGxcclxuXHR9XHJcblx0bGV0IHNvdXJjZUxlbmd0aCA9IHNvdXJjZS5yZXNldFRvID4gLTEgPyBzb3VyY2UucmVzZXRUbyA6IHNvdXJjZS5sZW5ndGhcclxuXHRpZiAodGFyZ2V0LnJlc2V0VG8gPiAtMSAmJiB0YXJnZXQucmVzZXRUbyA8IHRhcmdldC5sZW5ndGgpXHJcblx0XHR0YXJnZXQubGVuZ3RoID0gdGFyZ2V0LnJlc2V0VG9cclxuXHRmb3IgKHZhciBpID0gc3RhcnRpbmdJbmRleCB8fCAwOyBpIDwgc291cmNlTGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciB0YXJnZXRDaGlsZCA9IHRhcmdldFtpXVxyXG5cdFx0dmFyIGNoaWxkUHJvcGVydHkgPSBzb3VyY2VbaV1cclxuXHRcdGlmICh0YXJnZXRDaGlsZCAmJiAodGFyZ2V0Q2hpbGQua2V5ICE9IGNoaWxkUHJvcGVydHkua2V5IHx8IHRhcmdldENoaWxkLmV4dGVuZGVkVHlwZSAhPSBjaGlsZFByb3BlcnR5LmV4dGVuZGVkVHlwZSB8fFxyXG5cdFx0XHR0YXJnZXRDaGlsZC5jb2RlICE9IGNoaWxkUHJvcGVydHkuY29kZSAmJlxyXG5cdFx0XHRcdCEodGFyZ2V0Q2hpbGQuY29kZSA9PSA4ICYmIGNoaWxkUHJvcGVydHkuY29kZSA9PT0gNiAmJiAoIXRhcmdldENoaWxkLnZhbHVlcyB8fCAhdGFyZ2V0Q2hpbGQudmFsdWVzLmxlbmd0aCkpKSkgeyAvLyBvayB0byB1cGdyYWRlIGZyb20gc3RyaW5nIHRvIGRlZmF1bHRcclxuXHRcdFx0aWYgKHRhcmdldC5pc0Zyb3plbilcclxuXHRcdFx0XHRyZXR1cm4gMlxyXG5cdFx0XHRjb21wYXRpYmlsaXR5ID0gMlxyXG5cdFx0fVxyXG5cdFx0aWYgKCF0YXJnZXRDaGlsZCkge1xyXG5cdFx0XHRpZiAodGFyZ2V0LmlzRnJvemVuKVxyXG5cdFx0XHRcdHJldHVybiAyXHJcblx0XHRcdHZhciB0YXJnZXRDaGlsZCA9IFtdXHJcblx0XHRcdHRhcmdldENoaWxkLmNvZGUgPSBjaGlsZFByb3BlcnR5LmNvZGVcclxuXHRcdFx0aWYgKHRhcmdldC5uZXdQcm9wZXJ0eSkge1xyXG5cdFx0XHRcdHRhcmdldENoaWxkID0gdGFyZ2V0Lm5ld1Byb3BlcnR5KHRhcmdldENoaWxkKVxyXG5cdFx0XHR9XHJcblx0XHRcdHRhcmdldFtpXSA9IHRhcmdldENoaWxkXHJcblx0XHRcdGlmIChjaGlsZFByb3BlcnR5Lm1ldGFkYXRhKVxyXG5cdFx0XHRcdHRhcmdldENoaWxkLm1ldGFkYXRhID0gY2hpbGRQcm9wZXJ0eS5tZXRhZGF0YVxyXG5cdFx0XHRpZiAoY2hpbGRQcm9wZXJ0eS5pbnNlcnRlZEZyb20pIHtcclxuXHRcdFx0XHR0YXJnZXRDaGlsZC5pbnNlcnRlZEZyb20gPSBjaGlsZFByb3BlcnR5Lmluc2VydGVkRnJvbVxyXG5cdFx0XHRcdHRhcmdldENoaWxkLmluc2VydGVkVmVyc2lvbiA9IGNoaWxkUHJvcGVydHkuaW5zZXJ0ZWRWZXJzaW9uXHJcblx0XHRcdH1cclxuXHRcdFx0dGFyZ2V0Q2hpbGQucGFyZW50ID0gdGFyZ2V0XHJcblx0XHR9XHJcblx0XHR0YXJnZXRDaGlsZC5rZXkgPSBjaGlsZFByb3BlcnR5LmtleVxyXG5cclxuLy8gVE9ETzogQ2hlY2sgdG8gbWFrZSBzdXJlIHRoZSB2YWx1ZXMgYXJlIGNvbXBhdGlibGVcclxuXHRcdGlmIChjaGlsZFByb3BlcnR5LnZhbHVlcyAmJiBjaGlsZFByb3BlcnR5LnZhbHVlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGlmIChjaGlsZFByb3BlcnR5LnZhbHVlcy5yZXNldFRvID4gLTEpIHtcclxuXHRcdFx0XHRjaGlsZFByb3BlcnR5LnZhbHVlcy5sZW5ndGggPSBjaGlsZFByb3BlcnR5LnZhbHVlcy5yZXNldFRvXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCF0YXJnZXRDaGlsZC52YWx1ZXMgfHwgY2hpbGRQcm9wZXJ0eS52YWx1ZXMubGVuZ3RoID4gKHRhcmdldENoaWxkLnZhbHVlcy5yZXNldFRvID4gLTEgPyB0YXJnZXRDaGlsZC52YWx1ZXMucmVzZXRUbyA6IHRhcmdldENoaWxkLnZhbHVlcy5sZW5ndGgpKSB7XHJcblx0XHRcdFx0dGFyZ2V0Q2hpbGQudmFsdWVzID0gY2hpbGRQcm9wZXJ0eS52YWx1ZXMuc2xpY2UoMClcclxuXHRcdFx0XHR0YXJnZXRDaGlsZC52YWx1ZXMubmV4dFBvc2l0aW9uID0gY2hpbGRQcm9wZXJ0eS52YWx1ZXMubGVuZ3RoXHJcblx0XHRcdFx0aWYgKHRhcmdldENoaWxkLnZhbHVlcy5sZW5ndGggPj0gMTIpIHtcclxuXHRcdFx0XHRcdHRhcmdldENoaWxkLnByZXZpb3VzVmFsdWVzID0gbnVsbFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoY29tcGF0aWJpbGl0eSA9PSAwKSB7XHJcblx0XHRcdFx0XHRjb21wYXRpYmlsaXR5ID0gMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0dmFyIGNoaWxkQ29tcGF0aWJpbGl0eSA9IGNvcHlQcm9wZXJ0eShjaGlsZFByb3BlcnR5LCB0YXJnZXRDaGlsZCwgZnJlZXplVGFyZ2V0KVxyXG5cdFx0aWYgKGNoaWxkQ29tcGF0aWJpbGl0eSA+IGNvbXBhdGliaWxpdHkpXHJcblx0XHRcdGNvbXBhdGliaWxpdHkgPSBjaGlsZENvbXBhdGliaWxpdHlcclxuXHR9XHJcblx0bGV0IHRhcmdldExlbmd0aCA9IHRhcmdldC5yZXNldFRvID4gLTEgPyB0YXJnZXQucmVzZXRUbyA6IHRhcmdldC5sZW5ndGhcclxuXHRpZiAodGFyZ2V0TGVuZ3RoID4gc291cmNlTGVuZ3RoKSB7XHJcblx0XHRpZiAodGFyZ2V0LnJlY29yZFVwZGF0ZSkge1xyXG5cdFx0XHQvLyByZXZlcnNlIGZyZWV6ZSBpZiB0aGUgdGFyZ2V0IGhhcyBtb3JlIHZhbHVlcywgd2UgZG9uJ3Qgd2FudCB0aGUgc291cmNlIGJlY29taW5nIGluY29tcGF0aWJsZVxyXG5cdFx0XHRzb3VyY2UubWV0YWRhdGEgPSBVTlNUUlVDVFVSRURfTUFSS0VSXHJcblx0XHRcdHNvdXJjZS5yZWNvcmRVcGRhdGUoKVxyXG5cdFx0fSBlbHNlIGlmICh0YXJnZXQuaXNGcm96ZW4pIHtcclxuXHRcdFx0cmV0dXJuIDJcclxuXHRcdH1cclxuXHRcdC8vIG1lcmdlIGJhY2sgdG8gdGhlIHNvdXJjZSBpZiB0aGVyZSBhcmUgZXh0cmEgcHJvcGVydGllcyBvbiB0aGUgdGFyZ2V0XHJcblx0XHQvL2NvcHlQcm9wZXJ0eSh0YXJnZXQsIHNvdXJjZSwgaSlcclxuXHRcdC8vc291cmNlLnJlY29yZFVwZGF0ZSgpXHJcblx0fVxyXG5cdC8qaWYgKHRhcmdldC5wcmV2aW91c1ZhbHVlcykge1xyXG5cdFx0dGFyZ2V0LnZhbHVlcyA9IHRhcmdldC5wcmV2aW91c1ZhbHVlc1xyXG5cdFx0dGFyZ2V0LnByZXZpb3VzVmFsdWVzID0gW11cclxuXHR9Ki9cclxuXHQvL3RhcmdldC5sZW5ndGggPSBzb3VyY2UubGVuZ3RoXHJcblx0cmV0dXJuIGNvbXBhdGliaWxpdHlcclxufVxyXG5cclxuLy8gcmV0dXJuIHZhbHVlczpcclxuLy8gMDogaWRlbnRpY2FsIHByb3BlcnR5IHN0cnVjdHVyZXNcclxuLy8gLTE6IGEgaGFzIGxlc3MgcHJvcGVydGllcywgYnV0IGNhbiBiZSBzYWZlbHkgdXBncmFkZWQgdG8gYiBhbmQgc3RpbGwgYmUgY29tcGF0aWJsZSB3aXRoIGFcclxuLy8gMTogYSBoYXMgbW9yZSBwcm9wZXJ0aWVzLCBidXQgaXMgY29tcGF0aWJsZSBhbmQgY2FuIGJlIHVzZWQgdG8gZGVjb2RlIGJcclxuLy8gLTI6IGluY29tcGF0aWJsZSBwcm9wZXJ0eSBzdHJ1Y3R1cmVzLCBjYW4gbm90IGJlIHVzZWRcclxuZnVuY3Rpb24gaXNDb21wYXRpYmxlUHJvcGVydHkoYSwgYikge1xyXG5cdGlmIChhLmJsb2NrU3RydWN0dXJlID09PSBiKSB7XHJcblx0XHRyZXR1cm4gYS52ZXJzaW9uID4gYi52ZXJzaW9uID8gMSA6IDBcclxuXHR9XHJcblx0aWYgKGEuY29kZSA9PT0gYi5jb2RlICYmIGEuZXh0ZW5kZWRUeXBlID09PSBiLmV4dGVuZGVkVHlwZSkge1xyXG5cdFx0dmFyIHNoYXJlZExlbmd0aCA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aClcclxuXHRcdHZhciBjb21wYXRpYmlsaXR5ID0gMFxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzaGFyZWRMZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoYVtpXS5rZXkgIT09IGJbaV0ua2V5KVxyXG5cdFx0XHRcdHJldHVybiAtMlxyXG5cdFx0XHR2YXIgY2hpbGRDb21wYXRpYmlsaXR5ID0gaXNDb21wYXRpYmxlUHJvcGVydHkoYVtpXSwgYltpXSlcclxuXHRcdFx0aWYgKGNoaWxkQ29tcGF0aWJpbGl0eSA9PT0gLTIpXHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdGlmIChjaGlsZENvbXBhdGliaWxpdHkgPT09IC0xKSB7XHJcblx0XHRcdFx0aWYgKGNvbXBhdGliaWxpdHkgPT09IDEpXHJcblx0XHRcdFx0XHRyZXR1cm4gLTJcclxuXHRcdFx0XHRjb21wYXRpYmlsaXR5ID0gLTFcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoY2hpbGRDb21wYXRpYmlsaXR5ID09PSAxKSB7XHJcblx0XHRcdFx0aWYgKGNvbXBhdGliaWxpdHkgPT09IC0xKVxyXG5cdFx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdFx0Y29tcGF0aWJpbGl0eSA9IDFcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0dmFyIHNoYXJlZFZhbHVlc0xlbmd0aCA9IE1hdGgubWluKGEudmFsdWVzID8gYS52YWx1ZXMubGVuZ3RoIDogMCwgYi52YWx1ZXMgPyBiLnZhbHVlcy5sZW5ndGggOiAwKVxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzaGFyZWRWYWx1ZXNMZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoYS52YWx1ZXNbaV0gIT09IGIudmFsdWVzW2ldKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmIChhLmxlbmd0aCA8IGIubGVuZ3RoKSB7XHJcblx0XHRcdGlmIChjb21wYXRpYmlsaXR5ID09PSAxKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdH1cclxuXHRcdFx0Y29tcGF0aWJpbGl0eSA9IC0xXHJcblx0XHR9IGVsc2UgaWYgKGEubGVuZ3RoIDwgYi5sZW5ndGgpIHtcclxuXHRcdFx0aWYgKGNvbXBhdGliaWxpdHkgPT09IC0xKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdH1cclxuXHRcdFx0Y29tcGF0aWJpbGl0eSA9IDFcclxuXHRcdH1cclxuXHRcdC8qaWYgKGEudmFsdWVzLmxlbmd0aCA8IGIudmFsdWVzLmxlbmd0aCkge1xyXG5cdFx0XHRpZiAoY29tcGF0aWJpbGl0eSA9PT0gMSkge1xyXG5cdFx0XHRcdHJldHVybiAtMlxyXG5cdFx0XHR9XHJcblx0XHRcdGNvbXBhdGliaWxpdHkgPSAtMVxyXG5cdFx0fSBlbHNlIGlmIChhLnZhbHVlcy5sZW5ndGggPCBiLnZhbHVlcy5sZW5ndGgpIHtcclxuXHRcdFx0aWYgKGNvbXBhdGliaWxpdHkgPT09IC0xKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdH1cclxuXHRcdFx0Y29tcGF0aWJpbGl0eSA9IDFcclxuXHRcdH0qL1xyXG5cdFx0cmV0dXJuIGNvbXBhdGliaWxpdHlcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIC0yXHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc29sYXRlU3RyaW5nKHN0cmluZykge1xyXG5cdC8vIHRoaXMgaXMgYSB0ZWNobmlxdWUgdG8gZm9yY2VmdWxseSByZWNyZWF0ZSBhIHN0cmluZyBzbyBpdCBpc24ndCBhIHNsaWNlIG9mIGEgbGFyZ2VyIHN0cmluZy4gQmVjYXVzZSBzaGFyZWRcclxuXHQvLyBzdHJ1Y3R1cmVzIGFyZSBsb25nLWxpdmVkIGFuZCBjcmVhdGVkIGZyb20gaW5zdGFuY2Ugc3RydWN0dXJlcyB0aGF0IGFyZSBzaG9ydC1saXZlZCwgdGhlIGxvbmctbGl2ZWQgc21hbGxcclxuXHQvLyBzbGljZWQgc3RyaW5ncyBjYW4gZW5kIHVwIHBpbm5pbmcgKG90aGVyd2lzZSBzaG9ydC1saXZlZCkgbGFyZ2Ugc3RyaW5ncyBpbiBtZW1vcnkuXHJcblx0cmV0dXJuIHN0cmluZy5zbGljZSgwLCAxKSArIHN0cmluZy5zbGljZSgxKVxyXG59XHJcblxyXG4vLyBvcmRlciBwcm9wZXJ0aWVzIGJ5IHRoZWlyIGNvbWVzQWZ0ZXIgbGlzdCwgdG8gZW5zdXJlIGVhY2ggcHJvcGVydGllcyBjb21lcyBhZnRlciBldmVyeXRoaW5nIGluIHRoZWlyIGNvbWVzQWZ0ZXIgbGlzdFxyXG5mdW5jdGlvbiBvcmRlclByb3BlcnRpZXMocHJvcGVydGllcykge1xyXG5cdHZhciBvcmRlcmVkID0gW11cclxuXHR2YXIgdHJhdmVyc2VkID0gbmV3IFNldCgpXHJcblx0ZnVuY3Rpb24gYWRkUHJvcGVydHkocHJvcGVydHkpIHtcclxuXHRcdGlmICh0cmF2ZXJzZWQuaGFzKHByb3BlcnR5KSkgLy8gZG8gdGhpcyBmaXJzdCBpbiBjYXNlIG9mIGNpcmN1bGFyIG9yZGVyaW5nXHJcblx0XHRcdHJldHVyblxyXG5cdFx0dHJhdmVyc2VkLmFkZChwcm9wZXJ0eSlcclxuXHRcdGZvciAodmFyIHByb3BlcnR5QmVmb3JlIG9mIHByb3BlcnR5LmNvbWVzQWZ0ZXIpIHtcclxuXHRcdFx0YWRkUHJvcGVydHkocHJvcGVydHlCZWZvcmUpXHJcblx0XHR9XHJcblx0XHRvcmRlcmVkLnB1c2gocHJvcGVydHkpXHJcblx0fVxyXG5cdGZvciAobGV0IHByb3BlcnR5IG9mIHByb3BlcnRpZXMpIHtcclxuXHRcdGFkZFByb3BlcnR5KHByb3BlcnR5KVxyXG5cdH1cclxuXHRyZXR1cm4gb3JkZXJlZFxyXG59IiwiXCJ1c2Ugc3RyaWN0XCJcclxuY29uc3QgQkxPQ0tfVFlQRSA9IDVcclxudmFyIG1ha2VTeW1ib2wgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyA/IFN5bWJvbCA6IGZ1bmN0aW9uKG5hbWUpIHtcclxuXHRyZXR1cm4gJ3N5bWJvbC0nICsgbmFtZVxyXG59XHJcblxyXG4vKlxyXG5Ud28gdHlwZXMgb2YgYmxvY2tzLCBmcm96ZW4gYW5kIGNvcHktb24td3JpdGVcclxuRnJvemVuIC0gb3JpZ2luYXRpbmcgZnJvbSBKUyBvYmplY3RzXHJcblx0T2JqZWN0LmZyZWV6ZSgpIGpzIG9iamVjdHMgYW5kIHVzZSBzeW1ib2wgZm9yIHNlcmlhbGl6ZWQgcmVwcmVzZW50YXRpb25cclxuRnJvemVuIC0gb3JpZ2luYXRpbmcgZnJvbSBkcGFjaywgbGF6eSBldmFsdWF0aW9uXHJcblx0UHJveHkgLSBnZXQsaGFzLGV0Yy4gdHJpZ2dlcnMgcGFyc2UsIHNldCB0aHJvd3NcclxuQ29weS1vbi13cml0ZSBmcm9tIEpTIG9iamVjdHNcclxuXHRQcm94eSAtIGdldCxoYXMsZXRjLiByZXRyaWV2ZXMgZnJvbSBzb3VyY2UgSlMgb2JqZWN0LCBzZXQgY29waWVzXHJcbkNvcHktb24td3JpdGUgb3JpZ2luYXRpbmcgZnJvbSBkcGFja1xyXG5cdFNhbWVcclxuKi9cclxuXHJcbnZhciBuZXh0VmVyc2lvbiA9IDFcclxudmFyIGJ1ZmZlclN5bWJvbCA9IG1ha2VTeW1ib2woJ2J1ZmZlcicpXHJcbnZhciBzaXplVGFibGVTeW1ib2wgPSBtYWtlU3ltYm9sKCdzaXplVGFibGUnKVxyXG52YXIgaGVhZGVyU3ltYm9sID0gbWFrZVN5bWJvbCgnaGVhZGVyJylcclxudmFyIHBhcnNlZFN5bWJvbCA9IG1ha2VTeW1ib2woJ3BhcnNlZCcpXHJcbnZhciBzaGFyZWRTeW1ib2wgPSBtYWtlU3ltYm9sKCdzaGFyZWQnKVxyXG52YXIgdGFyZ2V0U3ltYm9sID0gbWFrZVN5bWJvbCgndGFyZ2V0JylcclxuY29uc3QgZnJlZXplT2JqZWN0cyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9ICdwcm9kdWN0aW9uJ1xyXG5cclxudmFyIERFRkFVTFRfVFlQRSA9IDZcclxudmFyIEFSUkFZX1RZUEUgPSA3XHJcblxyXG4vKlxyXG5zaXplIHRhYmxlIHNpemUgdHlwZXMgaW4gZmlyc3QgMiBiaXRzOlxyXG5cclxuZmlyc3QgYnl0ZVxyXG4wIC0gbGVhZiBtb2RlLCA2IGJpdCBsZW5ndGhcclxuMSAtIGxlYWYgbW9kZSwgMTQgYml0IGxlbmd0aFxyXG4yIC0gYnJhbmNoL2xlYWYgbW9kZSwgMTQsIDE2LCAxNiBiaXQgb3VyLXNpemUgbGVuZ3RoXHJcbjMgLSBicmFuY2gvbGVhZiBtb2RlLCAzMCwgNDgsIDQ4IGJpdCBvdXItc2l6ZSBsZW5ndGhcclxuKi9cclxuZnVuY3Rpb24gQmxvY2soKSB7fVxyXG52YXIgc2VyaWFsaXplTW9kdWxlID0gcmVxdWlyZSgnLi9zZXJpYWxpemUnKVxyXG5cclxuZXhwb3J0cy5CbG9jayA9IEJsb2NrXHJcbmV4cG9ydHMuYnVmZmVyU3ltYm9sID0gc2VyaWFsaXplTW9kdWxlLmJ1ZmZlclN5bWJvbCA9IGJ1ZmZlclN5bWJvbFxyXG5leHBvcnRzLnBhcnNlZFN5bWJvbCA9IHBhcnNlZFN5bWJvbFxyXG5leHBvcnRzLnNoYXJlZFN5bWJvbCA9IHNoYXJlZFN5bWJvbFxyXG5leHBvcnRzLnRhcmdldFN5bWJvbCA9IHNlcmlhbGl6ZU1vZHVsZS50YXJnZXRTeW1ib2wgPSB0YXJnZXRTeW1ib2xcclxuZXhwb3J0cy5zaXplVGFibGVTeW1ib2wgPSBzZXJpYWxpemVNb2R1bGUuc2l6ZVRhYmxlU3ltYm9sID0gc2l6ZVRhYmxlU3ltYm9sXHJcbnZhciBzZXJpYWxpemUgPSBzZXJpYWxpemVNb2R1bGUuc2VyaWFsaXplXHJcbnZhciBjcmVhdGVTZXJpYWxpemVyID0gc2VyaWFsaXplTW9kdWxlLmNyZWF0ZVNlcmlhbGl6ZXJcclxuZXhwb3J0cy5hc0Jsb2NrID0gYXNCbG9ja1xyXG5mdW5jdGlvbiBhc0Jsb2NrKG9iamVjdCwgc2hhcmVkKSB7XHJcblx0aWYgKG9iamVjdCAmJiBvYmplY3RbdGFyZ2V0U3ltYm9sXSkge1xyXG5cdFx0cmV0dXJuIG9iamVjdCAvLyBhbHJlYWR5IGEgYmxvY2tcclxuXHR9XHJcblx0aWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xyXG5cdFx0Ly8gaWYgdGhlIG9iamVjdCBpcyBhbiBhcnJheSwgbWFrZSB0aGUgdGFnZXQgYW4gYXJyYXkgc28gaXQgcGFzc2VzIEFycmF5LmlzQXJyYXkgY2hlY2tzXHJcblx0XHRsZXQgdGFyZ2V0ID0gW11cclxuXHRcdHRhcmdldC5wYXJzZWQgPSBvYmplY3RcclxuXHRcdHRhcmdldC5zaGFyZWQgPSBzaGFyZWRcclxuXHRcdHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCBvbkRlbWFuZEhhbmRsZXIpXHJcblx0fVxyXG5cdHJldHVybiBuZXcgUHJveHkoe1xyXG5cdFx0cGFyc2VkOiBvYmplY3QsXHJcblx0XHRzaGFyZWQ6IHNoYXJlZFxyXG5cdH0sIG9uRGVtYW5kSGFuZGxlcilcclxufVxyXG5leHBvcnRzLmlzQmxvY2sgPSBpc0Jsb2NrXHJcbmZ1bmN0aW9uIGlzQmxvY2sob2JqZWN0KSB7XHJcblx0cmV0dXJuIG9iamVjdCAmJiBvYmplY3RbdGFyZ2V0U3ltYm9sXVxyXG59XHJcblxyXG5leHBvcnRzLm1ha2VCbG9ja0Zyb21CdWZmZXIgPSBtYWtlQmxvY2tGcm9tQnVmZmVyXHJcbmZ1bmN0aW9uIG1ha2VCbG9ja0Zyb21CdWZmZXIoYnVmZmVyLCBzaGFyZWQpIHtcclxuXHR2YXIgZHBhY2tCdWZmZXIsIHNpemVUYWJsZUJ1ZmZlclxyXG5cdGlmIChidWZmZXJbMF0gPCAweDgwKSB7XHJcblx0XHRkcGFja0J1ZmZlciA9IGJ1ZmZlclxyXG5cdH0gZWxzZSB7IC8vIGEgYnJhbmNoIHR5cGUgd2lsbCBhbHdheXMgYmUgZ3JlYXRlciB0aGFuIDB4ODBcclxuXHRcdHZhciB0eXBlID0gYnVmZmVyWzBdID4+IDZcclxuXHRcdHZhciBkcGFja09mZnNldFxyXG5cdFx0aWYgKHR5cGUgPT09IDIpIHtcclxuXHRcdFx0ZHBhY2tPZmZzZXQgPSBidWZmZXIucmVhZFVJbnQxNkJFKDApICYgMHgzZmZmXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRkcGFja09mZnNldCA9IGJ1ZmZlci5yZWFkVUludDMyQkUoMCkgJiAweDNmZmZmZmZmXHJcblx0XHR9XHJcblx0XHRkcGFja0J1ZmZlciA9IGJ1ZmZlci5zbGljZShkcGFja09mZnNldClcclxuXHRcdHNpemVUYWJsZUJ1ZmZlciA9IGJ1ZmZlci5zbGljZSgwLCBkcGFja09mZnNldClcclxuXHR9XHJcblxyXG5cdHZhciB0YXJnZXQgPSB7XHJcblx0XHRkcGFja0J1ZmZlcjogZHBhY2tCdWZmZXIsXHJcblx0XHRzaXplVGFibGVCdWZmZXI6IHNpemVUYWJsZUJ1ZmZlcixcclxuXHRcdHNoYXJlZDogc2hhcmVkLFxyXG5cdFx0cmVhc3NpZ246IGZ1bmN0aW9uKGJ1ZmZlcikgeyAvLyBUT0RPOiBkb24ndCBjcmVhdGUgZWFjaCB0aW1lXHJcblx0XHRcdHRoaXMuYnVmZmVyID0gYnVmZmVyXHJcblx0XHR9XHJcblx0fVxyXG5cdGJ1ZmZlci5vd25lciA9IHRhcmdldFxyXG5cdHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCBvbkRlbWFuZEhhbmRsZXIpXHJcbn1cclxuXHJcbmV4cG9ydHMuZ2V0TGF6eUhlYWRlciA9IGZ1bmN0aW9uKGJsb2NrKSB7XHJcblx0cmV0dXJuIGJsb2NrW3NpemVUYWJsZVN5bWJvbF1cclxufVxyXG5cclxudmFyIG9uRGVtYW5kSGFuZGxlciA9IHtcclxuXHRnZXQ6IGZ1bmN0aW9uKHRhcmdldCwga2V5KSB7XHJcblx0XHRpZiAoc3BlY2lhbEdldHRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRyZXR1cm4gc3BlY2lhbEdldHRlcnNba2V5XS5jYWxsKHRhcmdldClcclxuXHRcdH1cclxuXHRcdHZhciBwYXJzZWQgPSB0YXJnZXQucGFyc2VkXHJcblx0XHRpZiAoIXBhcnNlZCkge1xyXG5cdFx0XHRwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHBhcnNlZFtrZXldXHJcblx0fSxcclxuXHRzZXQ6IGZ1bmN0aW9uKHRhcmdldCwga2V5LCB2YWx1ZSkge1xyXG5cdFx0Ly8gd2UgYWxsb3cgc3ltYm9scyB0byBzZXQgYXMgYSBmb3JtIG9mIG1ldGFkYXRhIG9iamVjdHMgZXZlbiB0aG91Z2ggdGhlIG1haW4gc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgYXJlIGZyb3plblxyXG5cdFx0aWYgKHR5cGVvZiBrZXkgPT09ICdzeW1ib2wnKSB7XHJcblx0XHRcdHRhcmdldFtrZXldID0gdmFsdWVcclxuXHRcdFx0bWFrZVN5bWJvbEdldHRlcihrZXkpXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHR9XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ05vIGNoYW5nZXMgYXJlIGFsbG93ZWQgb24gZnJvemVuIHBhcnNlZCBvYmplY3QsIFVzZSBkcGFjayBjb3B5KCkgZnVuY3Rpb24gdG8gbW9kaWZ5JylcclxuXHR9LFxyXG5cdGRlbGV0ZVByb3BlcnR5OiBmdW5jdGlvbigpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignTm8gY2hhbmdlcyBhcmUgYWxsb3dlZCBvbiBmcm96ZW4gcGFyc2VkIG9iamVjdCwgVXNlIGRwYWNrIGNvcHkoKSBmdW5jdGlvbiB0byBtb2RpZnknKVxyXG5cdH0sXHJcblx0Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiBmdW5jdGlvbih0YXJnZXQsIGtleSkge1xyXG5cdFx0dmFyIHBhcnNlZCA9IGdldFBhcnNlZCh0YXJnZXQpXHJcblx0XHRyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwYXJzZWQsIGtleSlcclxuXHR9LFxyXG5cdGhhczogZnVuY3Rpb24odGFyZ2V0LCBrZXkpIHtcclxuXHRcdHZhciBwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIGtleSBpbiBwYXJzZWRcclxuXHR9LFxyXG5cdG93bktleXM6IGZ1bmN0aW9uKHRhcmdldCkge1xyXG5cdFx0dmFyIHBhcnNlZCA9IGdldFBhcnNlZCh0YXJnZXQpXHJcblx0XHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKHBhcnNlZClcclxuXHRcdGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcclxuXHRcdFx0a2V5cy5wdXNoKCdsZW5ndGgnKVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGtleXNcclxuXHR9LFxyXG5cdGdldFByb3RvdHlwZU9mOiBmdW5jdGlvbih0YXJnZXQpIHtcclxuXHRcdHZhciBwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJzZWQpXHJcblx0fVxyXG59XHJcblxyXG5leHBvcnRzLnJlYXNzaWduQnVmZmVycyA9IHJlYXNzaWduQnVmZmVyc1xyXG5mdW5jdGlvbiByZWFzc2lnbkJ1ZmZlcnMoYmxvY2ssIG5ld1BhcmVudE5vZGVCdWZmZXIsIHBhcmVudEFycmF5QnVmZmVyKSB7XHJcblx0XHQvLyBpZiBhIGJ1ZmZlciBuZWVkcyB0byBiZSBtb3ZlZCB0byBhIG5ldyBidWZmZXIgZHVlIHRvIGl0IHNvb24gYmVpbmcgbm8gbG9uZ2VyIHJlZmVyZW5jZWFibGUsIHdlIGNhbiByZWZlcmVuY2UgdGhlIG5ldyBjb3B5XHJcblx0XHR2YXIgdGFyZ2V0ID0gYmxvY2tbdGFyZ2V0U3ltYm9sXVxyXG5cdFx0dmFyIGJ1ZmZlciA9IHRhcmdldC5kcGFja0J1ZmZlclxyXG5cdFx0aWYgKCFwYXJlbnRBcnJheUJ1ZmZlcilcclxuXHRcdFx0cGFyZW50QXJyYXlCdWZmZXIgPSBidWZmZXIuYnVmZmVyXHJcblx0XHRpZiAoYnVmZmVyICYmIGJ1ZmZlci5idWZmZXIgPT09IHBhcmVudEFycmF5QnVmZmVyKSB7XHJcblx0XHRcdHZhciBieXRlT2Zmc2V0ID0gYnVmZmVyLmJ5dGVPZmZzZXRcclxuXHRcdFx0dGFyZ2V0LmRwYWNrQnVmZmVyID0gbmV3UGFyZW50Tm9kZUJ1ZmZlci5zbGljZShieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgYnVmZmVyLmxlbmd0aClcclxuXHRcdH1cclxuXHRcdHZhciBidWZmZXIgPSB0YXJnZXQuc2l6ZVRhYmxlQnVmZmVyXHJcblx0XHRpZiAoYnVmZmVyICYmIGJ1ZmZlci5idWZmZXIgPT09IHBhcmVudEFycmF5QnVmZmVyKSB7XHJcblx0XHRcdHZhciBieXRlT2Zmc2V0ID0gYnVmZmVyLmJ5dGVPZmZzZXRcclxuXHRcdFx0dGFyZ2V0LnNpemVUYWJsZUJ1ZmZlciA9IG5ld1BhcmVudE5vZGVCdWZmZXIuc2xpY2UoYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGJ1ZmZlci5sZW5ndGgpXHJcblx0XHR9XHJcblx0XHRpZiAodGFyZ2V0LnBhcnNlZCkge1xyXG5cdFx0XHR2YXIgcGFyc2VkID0gdGFyZ2V0LnBhcnNlZFxyXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gcGFyc2VkKSB7XHJcblx0XHRcdFx0dmFyIHZhbHVlID0gcGFyc2VkW2tleV1cclxuXHRcdFx0XHRpZiAoaXNCbG9jayh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdHJlYXNzaWduQnVmZmVycyh2YWx1ZSwgbmV3UGFyZW50Tm9kZUJ1ZmZlciwgcGFyZW50QXJyYXlCdWZmZXIpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxudmFyIGNvcHlPbldyaXRlSGFuZGxlciA9IHtcclxuXHRnZXQ6IGZ1bmN0aW9uKHRhcmdldCwga2V5KSB7XHJcblx0XHRpZiAoc3BlY2lhbEdldHRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRyZXR1cm4gc3BlY2lhbEdldHRlcnNba2V5XS5jYWxsKHRhcmdldClcclxuXHRcdH1cclxuXHRcdHZhciBjYWNoZWRQYXJzZWQgPSB0YXJnZXQuY2FjaGVkUGFyc2VkXHJcblx0XHRpZiAoY2FjaGVkUGFyc2VkICYmIGNhY2hlZFBhcnNlZC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICEoa2V5ID09ICdsZW5ndGgnICYmIEFycmF5LmlzQXJyYXkoY2FjaGVkUGFyc2VkKSkpIHtcclxuXHRcdFx0cmV0dXJuIGNhY2hlZFBhcnNlZFtrZXldXHJcblx0XHR9XHJcblx0XHR2YXIgcGFyc2VkID0gdGFyZ2V0LnBhcnNlZFxyXG5cdFx0aWYgKCFwYXJzZWQpIHtcclxuXHRcdFx0cGFyc2VkID0gZ2V0UGFyc2VkKHRhcmdldClcclxuXHRcdH1cclxuXHRcdHZhciB2YWx1ZSA9IHBhcnNlZFtrZXldXHJcblx0XHQvKmlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcclxuXHRcdFx0aWYgKCFjYWNoZWRQYXJzZWQpIHtcclxuXHRcdFx0XHR0YXJnZXQuY2FjaGVkUGFyc2VkID0gY2FjaGVkUGFyc2VkID0gcGFyc2VkIGluc3RhbmNlb2YgQXJyYXkgPyBbXSA6IHt9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHZhbHVlIGluc3RhbmNlb2YgTWFwKVxyXG5cdFx0XHRcdGNhY2hlZFBhcnNlZFtrZXldID0gdmFsdWVcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGNhY2hlZFBhcnNlZFtrZXldID0gdmFsdWUgPSBjb3B5V2l0aFBhcmVudCh2YWx1ZSwgdGFyZ2V0KVxyXG5cdFx0fSovXHJcblx0XHRpZiAodmFsdWUgJiYgdmFsdWVbdGFyZ2V0U3ltYm9sXSkge1xyXG5cdFx0XHRpZiAoIWNhY2hlZFBhcnNlZCkge1xyXG5cdFx0XHRcdHRhcmdldC5jYWNoZWRQYXJzZWQgPSBjYWNoZWRQYXJzZWQgPSBwYXJzZWQgaW5zdGFuY2VvZiBBcnJheSA/IFtdIDoge31cclxuXHRcdFx0fVxyXG5cdFx0XHRjYWNoZWRQYXJzZWRba2V5XSA9IHZhbHVlID0gY29weVdpdGhQYXJlbnQodmFsdWUsIHRhcmdldClcclxuXHRcdH1cclxuXHRcdHJldHVybiB2YWx1ZVxyXG5cdH0sXHJcblx0Y2hhbmdlZDogZnVuY3Rpb24odGFyZ2V0KSB7XHJcblx0XHR0YXJnZXQuZHBhY2tCdWZmZXIgPSBudWxsXHJcblx0XHR0YXJnZXQuc2l6ZVRhYmxlQnVmZmVyID0gbnVsbFxyXG5cdFx0dGFyZ2V0LnNoYXJlZCA9IG51bGxcclxuXHRcdHZhciBwYXJzZWQgPSB0YXJnZXQucGFyc2VkXHJcblx0XHRpZiAoIXBhcnNlZCkge1xyXG5cdFx0XHRwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0fVxyXG5cdFx0aWYgKCF0YXJnZXQuY29waWVkKSB7XHJcblx0XHRcdHZhciBjYWNoZWRQYXJzZWQgPSB0YXJnZXQuY2FjaGVkUGFyc2VkXHJcblx0XHRcdHZhciBjb3BpZWQgPSB0YXJnZXQucGFyc2VkID0gdGFyZ2V0LmNhY2hlZFBhcnNlZCA9IHBhcnNlZCBpbnN0YW5jZW9mIEFycmF5ID8gW10gOiB7fVxyXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gcGFyc2VkKSB7XHJcblx0XHRcdFx0dmFyIHZhbHVlID0gY2FjaGVkUGFyc2VkICYmIGNhY2hlZFBhcnNlZFtrZXldXHJcblx0XHRcdFx0aWYgKCF2YWx1ZSkge1xyXG5cdFx0XHRcdFx0dmFsdWUgPSBwYXJzZWRba2V5XVxyXG5cdFx0XHRcdFx0aWYgKHZhbHVlICYmIHZhbHVlW3RhcmdldFN5bWJvbF0pIHtcclxuXHRcdFx0XHRcdFx0dmFsdWUgPSBjb3B5V2l0aFBhcmVudCh2YWx1ZSwgdGFyZ2V0KVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjb3BpZWRba2V5XSA9IHZhbHVlXHJcblx0XHRcdH1cclxuXHRcdFx0cGFyc2VkID0gY29waWVkXHJcblx0XHRcdHRhcmdldC5jb3BpZWQgPSB0cnVlXHJcblx0XHR9XHJcblx0XHR0YXJnZXQudmVyc2lvbiA9IG5leHRWZXJzaW9uKytcclxuXHRcdHJldHVybiBwYXJzZWRcclxuXHR9LFxyXG5cdGNoZWNrVmVyc2lvbjogZnVuY3Rpb24odGFyZ2V0KSB7XHJcblx0XHR2YXIgY2FjaGVkUGFyc2VkID0gdGFyZ2V0LmNhY2hlZFBhcnNlZFxyXG5cdFx0bGV0IHZlcnNpb24gPSB0YXJnZXQudmVyc2lvbiB8fCAwXHJcblx0XHRpZiAoY2FjaGVkUGFyc2VkKSB7XHJcblx0XHRcdGZvciAobGV0IGtleSBpbiBjYWNoZWRQYXJzZWQpIHtcclxuXHRcdFx0XHR2YXIgdmFsdWUgPSBjYWNoZWRQYXJzZWRba2V5XVxyXG5cdFx0XHRcdGlmICh2YWx1ZSAmJiB2YWx1ZVt0YXJnZXRTeW1ib2xdKSB7XHJcblx0XHRcdFx0XHR2ZXJzaW9uID0gTWF0aC5tYXgodmVyc2lvbiwgdGhpcy5jaGVja1ZlcnNpb24odmFsdWVbdGFyZ2V0U3ltYm9sXSkpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAodmVyc2lvbiAhPSAodGFyZ2V0LnZlcnNpb24gfHwgMCkpIHtcclxuXHRcdFx0dGhpcy5jaGFuZ2VkKHRhcmdldClcclxuXHRcdFx0dGFyZ2V0LnZlcnNpb24gPSB2ZXJzaW9uXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdmVyc2lvblxyXG5cdH0sXHJcblx0c2V0OiBmdW5jdGlvbih0YXJnZXQsIGtleSwgdmFsdWUsIHByb3h5KSB7XHJcblx0XHRpZiAoc3BlY2lhbFNldHRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRzcGVjaWFsU2V0dGVyc1trZXldLmNhbGwodGFyZ2V0LCB2YWx1ZSlcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdH1cclxuXHRcdHZhciBwYXJzZWQgPSBjb3B5T25Xcml0ZUhhbmRsZXIuY2hhbmdlZCh0YXJnZXQpXHJcblx0XHRwYXJzZWRba2V5XSA9IHZhbHVlXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cdH0sXHJcblx0ZGVsZXRlUHJvcGVydHk6IGZ1bmN0aW9uKHRhcmdldCwga2V5KSB7XHJcblx0XHR2YXIgcGFyc2VkID0gY29weU9uV3JpdGVIYW5kbGVyLmNoYW5nZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIGRlbGV0ZSBwYXJzZWRba2V5XVxyXG5cdH0sXHJcblx0Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiBmdW5jdGlvbih0YXJnZXQsIGtleSkge1xyXG5cdFx0dmFyIHBhcnNlZCA9IGdldFBhcnNlZCh0YXJnZXQpXHJcblx0XHRyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwYXJzZWQsIGtleSlcclxuXHR9LFxyXG5cdGhhczogZnVuY3Rpb24odGFyZ2V0LCBrZXkpIHtcclxuXHRcdHZhciBwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIGtleSBpbiBwYXJzZWRcclxuXHR9LFxyXG5cdG93bktleXM6IGZ1bmN0aW9uKHRhcmdldCkge1xyXG5cdFx0dmFyIHBhcnNlZCA9IGdldFBhcnNlZCh0YXJnZXQpXHJcblx0XHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKHBhcnNlZClcclxuXHRcdGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcclxuXHRcdFx0a2V5cy5wdXNoKCdsZW5ndGgnKVxyXG5cdFx0fVxyXG5cdFx0aWYgKHRhcmdldC5jb3BpZWQpIHtcclxuXHRcdFx0Zm9yICh2YXIga2V5IGluIHRhcmdldC5jb3BpZWQpIHtcclxuXHRcdFx0XHRpZiAoa2V5cy5pbmRleE9mKGtleSkgPT09IC0xKSB7XHJcblx0XHRcdFx0XHRrZXlzLnB1c2goa2V5KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGtleXNcclxuXHR9LFxyXG5cdGdldFByb3RvdHlwZU9mOiBmdW5jdGlvbih0YXJnZXQpIHtcclxuXHRcdHZhciBwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJzZWQpXHJcblx0fVxyXG59XHJcblxyXG52YXIgc3BlY2lhbEdldHRlcnMgPSB7XHJcbn1cclxuc3BlY2lhbEdldHRlcnNbYnVmZmVyU3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiBmdW5jdGlvbihwcm9wZXJ0eSwgcmFuZG9tQWNjZXNzKSB7XHJcblx0XHR2YXIgcHJvcGVydHlJc1NoYXJlZCA9IHByb3BlcnR5ICYmIHByb3BlcnR5LnVwZ3JhZGVcclxuXHRcdHZhciBidWZmZXJcclxuXHJcblx0XHRpZiAodGhpcy5jYWNoZWRQYXJzZWQgJiYgdGhpcy5kcGFja0J1ZmZlcikge1xyXG5cdFx0XHRjb3B5T25Xcml0ZUhhbmRsZXIuY2hlY2tWZXJzaW9uKHRoaXMpXHJcblx0XHR9XHJcblx0XHRpZiAoISh0aGlzLnNoYXJlZCAmJiB0aGlzLnNoYXJlZC51cGdyYWRlKSAmJiBwcm9wZXJ0eUlzU2hhcmVkKSB7XHJcblx0XHRcdGlmICh0aGlzLmRwYWNrQnVmZmVyKSB7XHJcblx0XHRcdFx0Ly8gaWYgdGhlIGJsb2NrIGhhcyBiZWVuIHNlcmlhbGl6ZWQgd2l0aG91dCBhIHNoYXJlZCBzdHJ1Y3R1cmUsIGFuZCBpdCB3aWxsIGJlIHVzZWQgaW4gYSBzaGFyZWQgc3RydWN0dXJlLFxyXG5cdFx0XHRcdC8vIHdlIHB1dCBpdCBpbiBhIHNlcGFyYXRlIHByb3BlcnR5XHJcblx0XHRcdFx0dGhpcy5zaXplVGFibGVCdWZmZXIgPSBudWxsXHJcblx0XHRcdFx0cmV0dXJuIGluU2VwYXJhdGVQcm9wZXJ0eSh0aGlzLmRwYWNrQnVmZmVyLCB0cnVlKVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBnZXRTZXJpYWxpemVkKHRoaXMsIHRoaXMuc2hhcmVkID0gcHJvcGVydHkpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmICghdGhpcy5kcGFja0J1ZmZlcikge1xyXG5cdFx0XHRnZXRTZXJpYWxpemVkKHRoaXMsIHRoaXMuc2hhcmVkKVxyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuc2hhcmVkICYmIHRoaXMuc2hhcmVkLnVwZ3JhZGUgJiYgdGhpcy5zaGFyZWQgIT09IHByb3BlcnR5KSB7XHJcblx0XHRcdHZhciBjb21wYXRpYmlsaXR5ID0gdGhpcy5zaGFyZWQudXBncmFkZShwcm9wZXJ0eSwgcmFuZG9tQWNjZXNzKVxyXG5cdFx0XHRpZiAoY29tcGF0aWJpbGl0eSA+IDApIHtcclxuXHRcdFx0XHQvLyBpZiB0aGUgcHJvcGVydHkgdXBncmFkZSB3YXMgaW5jb21wYXRpYmxlLCB3ZSBoYXZlIHRvIGluY2x1ZGVkIHRoZSBzaGFyZWQgc3RydWN0dXJlLCBhbmQgZm9yY2Ugc2VxdWVudGlhbCByZWFkaW5nXHJcblx0XHRcdFx0dGhpcy5zaXplVGFibGVCdWZmZXIgPSBudWxsXHJcblx0XHRcdFx0dmFyIHNoYXJlZEJ1ZmZlciA9IHRoaXMuc2hhcmVkLnNlcmlhbGl6ZWRcclxuXHRcdFx0XHRpZiAoc2hhcmVkQnVmZmVyLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdGlmIChjb21wYXRpYmlsaXR5ID09IDIgJiYgIShwcm9wZXJ0eS5pc0Zyb3plbiAmJiBwcm9wZXJ0eS5yZXNldFRvID09PSAwKSlcclxuXHRcdFx0XHRcdFx0c2hhcmVkQnVmZmVyID0gaW5TZXBhcmF0ZVByb3BlcnR5KHNoYXJlZEJ1ZmZlcilcclxuXHRcdFx0XHRcdGJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoW3NoYXJlZEJ1ZmZlciwgdGhpcy5kcGFja0J1ZmZlcl0pXHJcblx0XHRcdFx0XHRidWZmZXIubXVzdFNlcXVlbmNlID0gdHJ1ZVxyXG5cdFx0XHRcdFx0cmV0dXJuIGJ1ZmZlclxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRpZiAoIXByb3BlcnR5SXNTaGFyZWQpIHtcclxuXHRcdFx0XHQvLyBuZWVkIHRvIHJlc2V0IHRoaXMgcHJvcGVydHksIGlmIGl0IGlzIGEgcGxhaW4gc2VxdWVudGlhbCBwcm9wZXJ0eVxyXG5cdFx0XHRcdHByb3BlcnR5Lmxlbmd0aCA9IDBcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAocHJvcGVydHkuaW5zZXJ0ZWRGcm9tKVxyXG5cdFx0XHRcdHByb3BlcnR5Lmluc2VydGVkRnJvbSA9IG51bGxcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLmRwYWNrQnVmZmVyXHJcblxyXG5cdFx0ZnVuY3Rpb24gaW5TZXBhcmF0ZVByb3BlcnR5KGRwYWNrQnVmZmVyKSB7XHJcblx0XHRcdHZhciBzZXJpYWxpemVyID0gY3JlYXRlU2VyaWFsaXplcigpXHJcblx0XHRcdHZhciBpc0FycmF5ID0gZHBhY2tCdWZmZXJbMF0gPT09IDExOVxyXG5cdFx0XHR2YXIgd3JpdGVUb2tlbiA9IHNlcmlhbGl6ZXIuZ2V0V3JpdGVycygpLndyaXRlVG9rZW5cclxuXHRcdFx0aWYgKGlzQXJyYXkpIHtcclxuXHRcdFx0XHRkcGFja0J1ZmZlciA9IGRwYWNrQnVmZmVyLnNsaWNlKDEpIC8vIHJlcGxhY2luZyB0aGUgcHJvcGVydHkgZGVjbGFyYXRpb25cclxuXHRcdFx0fVxyXG5cdFx0XHR3cml0ZVRva2VuKDAsIDEwMDApLy8gdXNlIGEgaG9wZWZ1bGx5IHVudXNlZCBzbG90IChzaG91bGQgYmUgdW51c2VkLCBibG9jayBhbHdheXMgaGFzIGEgc2luZ2xlIGluaXRpYWwgc3RhcnRpbmcgc2xvdClcclxuXHRcdFx0d3JpdGVUb2tlbigzLCBpc0FycmF5ID8gQVJSQVlfVFlQRSA6IERFRkFVTFRfVFlQRSkgLy8gcHJvcGVydHkgdHlwZVxyXG5cdFx0XHRpZiAocHJvcGVydHkgJiYgcHJvcGVydHkua2V5ICE9PSBudWxsKVxyXG5cdFx0XHRcdHNlcmlhbGl6ZXIuc2VyaWFsaXplKHByb3BlcnR5LmtleSlcclxuXHRcdFx0ZHBhY2tCdWZmZXIgPSBCdWZmZXIuY29uY2F0KFtzZXJpYWxpemVyLmdldFNlcmlhbGl6ZWQoKSwgZHBhY2tCdWZmZXJdKVxyXG5cdFx0XHRkcGFja0J1ZmZlci5tdXN0U2VxdWVuY2UgPSB0cnVlXHJcblx0XHRcdHJldHVybiBkcGFja0J1ZmZlclxyXG5cdFx0fVxyXG5cclxuXHR9LmJpbmQodGhpcylcclxufVxyXG5zcGVjaWFsR2V0dGVyc1t0YXJnZXRTeW1ib2xdID0gZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXNcclxufVxyXG5zcGVjaWFsR2V0dGVyc1tzaGFyZWRTeW1ib2xdID0gZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXMuc2hhcmVkXHJcbn1cclxuc3BlY2lhbEdldHRlcnNbcGFyc2VkU3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzLnBhcnNlZCB8fCBnZXRQYXJzZWQodGhpcylcclxufVxyXG5zcGVjaWFsR2V0dGVyc1tzaXplVGFibGVTeW1ib2xdID0gZnVuY3Rpb24oKSB7XHJcblx0aWYgKCF0aGlzLmRwYWNrQnVmZmVyKSB7XHJcblx0XHRnZXRTZXJpYWxpemVkKHRoaXMpXHJcblx0fVxyXG5cdHJldHVybiB0aGlzLnNpemVUYWJsZUJ1ZmZlclxyXG59XHJcbnNwZWNpYWxHZXR0ZXJzLnRoZW4gPSBmdW5jdGlvbigpIHtcclxuXHQvLyByZXR1cm4gdW5kZWZpbmVkLCB0aGlzIGlzIG5vdCBhIHByb21pc2VcclxufVxyXG5zcGVjaWFsR2V0dGVycy50b0pTT04gPSBmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdmFsdWVPZlxyXG59XHJcblxyXG5zcGVjaWFsR2V0dGVycy52YWx1ZU9mID0gZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHZhbHVlT2ZcclxufVxyXG5zcGVjaWFsR2V0dGVycy5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIGVudHJpZXNcclxufVxyXG5mdW5jdGlvbiBlbnRyaWVzKCkge1xyXG5cdHJldHVybiB0aGlzW3BhcnNlZFN5bWJvbF0uZW50cmllcygpXHJcbn1cclxuc3BlY2lhbEdldHRlcnNbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xyXG5cdHZhciBwYXJzZWQgPSB0aGlzLnBhcnNlZCB8fCBnZXRQYXJzZWQodGhpcylcclxuXHRyZXR1cm4gcGFyc2VkICYmIHBhcnNlZFtTeW1ib2wuaXRlcmF0b3JdICYmIGl0ZXJhdG9yXHJcbn1cclxuZnVuY3Rpb24gaXRlcmF0b3IoKSB7XHJcblx0dmFyIHBhcnNlZCA9IHRoaXNbcGFyc2VkU3ltYm9sXVxyXG5cdHJldHVybiBwYXJzZWQgJiYgcGFyc2VkW1N5bWJvbC5pdGVyYXRvcl0gPyBwYXJzZWRbU3ltYm9sLml0ZXJhdG9yXSgpIDogW11bU3ltYm9sLml0ZXJhdG9yXSgpXHJcbn1cclxuc3BlY2lhbEdldHRlcnMuY29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcclxuXHRpZiAodGhpcy5wYXJzZWQpIHtcclxuXHRcdHJldHVybiB0aGlzLnBhcnNlZC5jb25zdHJ1Y3RvclxyXG5cdH1cclxuXHQvLyB0aGlzIGlzIGEgZmFzdCBwYXRoIGZvciBnZXR0aW5nIHRoZSBjb25zdHJ1Y3RvciB3aXRob3V0IGhhdmluZyB0byBwYXJzZS4gdGhpcyBpcyBpbXBvcnRhbnRcclxuXHQvLyBhcyBpdCBlbmFibGVzIGJsb2NrcyB0byBiZSBnbyB0aHJvdWdoIHRoZSBzZXJpYWxpemVyLCBoYXZlIGl0IGNoZWNrIHRoZSBjb25zdHJ1Y3Rvciwgd2l0aG91dFxyXG5cdC8vIHJlcXVpcmluZyBwYXJzaW5nLCBhbmQgdGhlbiB0aGV5IGNhbiBiZSBkaXJlY3RseSB3cml0dGVuIGZyb20gdGhlaXIgYmluYXJ5IGJ1ZmZlclxyXG5cdGlmICh0aGlzLmRwYWNrQnVmZmVyKSB7XHJcblx0XHRsZXQgZmlyc3RCeXRlID0gdGhpcy5kcGFja0J1ZmZlclswXVxyXG5cdFx0aWYgKGZpcnN0Qnl0ZSA+PSA0OCAmJiBmaXJzdEJ5dGUgPD0gNjApIHtcclxuXHRcdFx0Ly8gc2VxdWVuY2VcclxuXHRcdFx0aWYgKHRoaXMuc2hhcmVkKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMuc2hhcmVkLmNvZGUgPT0gREVGQVVMVF9UWVBFKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gT2JqZWN0XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnNoYXJlZC5jb2RlID09IEFSUkFZX1RZUEUpIHtcclxuXHRcdFx0XHRcdHJldHVybiBBcnJheVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gT2JqZWN0XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAoZmlyc3RCeXRlID09PSAxMTkpIHtcclxuXHRcdFx0cmV0dXJuIEFycmF5XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBnZXRQYXJzZWQodGhpcykuY29uc3RydWN0b3JcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIG1ha2VTeW1ib2xHZXR0ZXIoc3ltYm9sKSB7XHJcblx0aWYgKCFzcGVjaWFsR2V0dGVyc1tzeW1ib2xdKVxyXG5cdFx0c3BlY2lhbEdldHRlcnNbc3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpc1tzeW1ib2xdXHJcblx0XHR9XHJcbn1cclxuZnVuY3Rpb24gdmFsdWVPZigpIHtcclxuXHRyZXR1cm4gdGhpc1twYXJzZWRTeW1ib2xdXHJcbn1cclxuZnVuY3Rpb24gY29weShzb3VyY2UpIHtcclxuXHRyZXR1cm4gY29weVdpdGhQYXJlbnQoc291cmNlKVxyXG59XHJcbmZ1bmN0aW9uIGNvcHlXaXRoUGFyZW50KHNvdXJjZSwgcGFyZW50KSB7XHJcblx0aWYgKCFpc0Jsb2NrKHNvdXJjZSkpIHtcclxuXHRcdC8qaWYgKHNvdXJjZSAmJiB0eXBlb2Ygc291cmNlID09ICdvYmplY3QnKVxyXG5cdFx0XHRzb3VyY2UgPSBhc0Jsb2NrKHNvdXJjZSlcclxuXHRcdGVsc2UqL1xyXG5cdFx0XHRyZXR1cm4gc291cmNlXHJcblx0fVxyXG5cdGxldCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShzb3VyY2UpXHJcblx0bGV0IHRhcmdldCA9IGlzQXJyYXkgPyBbXSA6IHt9XHJcblx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCB7XHJcblx0XHRwYXJzZWQ6IHtcclxuXHRcdFx0Z2V0KCkge1xyXG5cdFx0XHRcdHJldHVybiBzb3VyY2VbcGFyc2VkU3ltYm9sXVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzZXQodmFsdWUpIHtcclxuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3BhcnNlZCcsIHtcclxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcclxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0sXHJcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHRcdH0sXHJcblx0XHRzaGFyZWQ6IHtcclxuXHRcdFx0Z2V0KCkge1xyXG5cdFx0XHRcdHJldHVybiBzb3VyY2Vbc2hhcmVkU3ltYm9sXVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzZXQodmFsdWUpIHtcclxuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3NoYXJlZCcsIHtcclxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcclxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0dGhpcy5kcGFja0J1ZmZlciA9IG51bGxcclxuXHRcdFx0XHR0aGlzLnNpemVUYWJsZUJ1ZmZlciA9IG51bGxcclxuXHRcdFx0fSxcclxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxyXG5cdFx0fSxcclxuXHRcdGRwYWNrQnVmZmVyOiB7XHJcblx0XHRcdGdldCgpIHtcclxuXHRcdFx0XHRyZXR1cm4gc291cmNlW3RhcmdldFN5bWJvbF0uZHBhY2tCdWZmZXJcclxuXHRcdFx0fSxcclxuXHRcdFx0c2V0KHZhbHVlKSB7XHJcblx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdkcGFja0J1ZmZlcicsIHtcclxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcclxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0sXHJcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHRcdH0sXHJcblx0XHRzaXplVGFibGVCdWZmZXI6IHtcclxuXHRcdFx0Z2V0KCkge1xyXG5cdFx0XHRcdHJldHVybiBzb3VyY2Vbc2l6ZVRhYmxlU3ltYm9sXVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzZXQodmFsdWUpIHtcclxuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3NpemVUYWJsZUJ1ZmZlcicsIHtcclxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcclxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0sXHJcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHRcdH1cclxuXHR9KVxyXG5cdGlmIChpc0FycmF5KSB7XHJcblx0XHRPYmplY3QuZGVmaW5lXHJcblx0fVxyXG5cdHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCBjb3B5T25Xcml0ZUhhbmRsZXIpXHJcbn1cclxuZXhwb3J0cy5jb3B5ID0gY29weVxyXG5cclxudmFyIHNwZWNpYWxTZXR0ZXJzID0ge1xyXG59XHJcbi8qc3BlY2lhbFNldHRlcnNbc2hhcmVkU3ltYm9sXSA9IGZ1bmN0aW9uKHNoYXJlZCkge1xyXG5cdHJldHVybiB0aGlzLnNoYXJlZCA9IHNoYXJlZFxyXG59Ki9cclxuXHJcbmZ1bmN0aW9uIGdldFBhcnNlZCh0YXJnZXQpIHtcclxuXHR2YXIgcGFyc2VkID0gdGFyZ2V0LnBhcnNlZFxyXG5cdGlmIChwYXJzZWQpXHJcblx0XHRyZXR1cm4gcGFyc2VkXHJcblx0Ly8gd2UgY2hlY2sgdG8gc2VlIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBibG9ja3MgdGhhdCBzaG91bGQgYmUgZGVmZXJyZWQgaW50byBzZXBhcmF0ZSBibG9ja3NcclxuXHR2YXIgc2l6ZVRhYmxlQnVmZmVyID0gdGFyZ2V0LnNpemVUYWJsZUJ1ZmZlclxyXG5cdHZhciBkcGFja0J1ZmZlciA9IHRhcmdldC5kcGFja0J1ZmZlclxyXG5cdGlmICghc2l6ZVRhYmxlQnVmZmVyKSB7XHJcblx0XHQvLyBubyBjaGlsZCBibG9ja3MsIGp1c3QgZHBhY2ssIHNvIGRpcmVjdGx5IHBhcnNlXHJcblx0XHRyZXR1cm4gdGFyZ2V0LnBhcnNlZCA9IHBhcnNlKGRwYWNrQnVmZmVyLCB7XHJcblx0XHRcdGZyZWV6ZU9iamVjdHM6IGZyZWV6ZU9iamVjdHMsXHJcblx0XHRcdHNoYXJlZDogdGFyZ2V0LnNoYXJlZFxyXG5cdFx0fSlcclxuXHR9XHJcblx0dmFyIHRvdGFsU2l6ZVRhYmxlTGVuZ3RoID0gc2l6ZVRhYmxlQnVmZmVyLmxlbmd0aFxyXG5cdHZhciB0b3RhbERQYWNrTGVuZ3RoXHJcblx0dmFyIHJvb3RCbG9ja0xlbmd0aFxyXG5cdHZhciB0eXBlID0gc2l6ZVRhYmxlQnVmZmVyWzBdID4+IDZcclxuXHR2YXIgb2Zmc2V0XHJcblx0aWYgKHR5cGUgPT09IDIpIHtcclxuXHRcdHJvb3RCbG9ja0xlbmd0aCA9IHNpemVUYWJsZUJ1ZmZlci5yZWFkVUludDE2QkUoNClcclxuXHRcdG9mZnNldCA9IDZcclxuXHR9IGVsc2Uge1xyXG5cdFx0cm9vdEJsb2NrTGVuZ3RoID0gc2l6ZVRhYmxlQnVmZmVyLnJlYWRVSW50QkUoMTAsIDYpXHJcblx0XHRvZmZzZXQgPSAxNlxyXG5cdH1cclxuXHQvLyByZWFkIGNoaWxkIGJsb2NrIGxlbmd0aHM6IChjb3VsZCBkZWZlciB0aGlzIHVudGlsIGNoaWxkIGFjY2VzcylcclxuXHR2YXIgY2hpbGRTaXplVGFibGVzID0gW11cclxuXHR2YXIgY2hpbGREcGFja0Jsb2NrcyA9IFtdXHJcblx0dmFyIGRwYWNrQ2hpbGRPZmZzZXQgPSByb290QmxvY2tMZW5ndGhcclxuXHR3aGlsZSAob2Zmc2V0IDwgdG90YWxTaXplVGFibGVMZW5ndGgpIHtcclxuXHRcdHZhciB0eXBlID0gc2l6ZVRhYmxlQnVmZmVyW29mZnNldF0gPj4gNlxyXG5cdFx0dmFyIHNpemVUYWJsZUxlbmd0aFxyXG5cdFx0dmFyIGRwYWNrTGVuZ3RoXHJcblx0XHRpZiAodHlwZSA8IDIpIHsgLy8gbGVhZiBub2RlXHJcblx0XHRcdGlmICh0eXBlID09IDApIHtcclxuXHRcdFx0XHQvLyA2IGJpdFxyXG5cdFx0XHRcdHNpemVUYWJsZUxlbmd0aCA9IDFcclxuXHRcdFx0XHRkcGFja0xlbmd0aCA9IHNpemVUYWJsZUJ1ZmZlcltvZmZzZXRdXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gMTQgYml0XHJcblx0XHRcdFx0c2l6ZVRhYmxlTGVuZ3RoID0gMlxyXG5cdFx0XHRcdGRwYWNrTGVuZ3RoID0gc2l6ZVRhYmxlQnVmZmVyLnJlYWRVSW50MTZCRShvZmZzZXQpICYgMHgzZmZmXHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gMikge1xyXG5cdFx0XHRzaXplVGFibGVMZW5ndGggPSBzaXplVGFibGVCdWZmZXIucmVhZFVJbnQxNkJFKG9mZnNldCkgJiAweDNmZmZcclxuXHRcdFx0ZHBhY2tMZW5ndGggPSBzaXplVGFibGVCdWZmZXIucmVhZFVJbnQxNkJFKG9mZnNldCArIDIpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzaXplVGFibGVMZW5ndGggPSBzaXplVGFibGVCdWZmZXIucmVhZFVJbnQzMkJFKG9mZnNldCkgJiAweDNmZmZmZmZmXHJcblx0XHRcdGRwYWNrTGVuZ3RoID0gc2l6ZVRhYmxlQnVmZmVyLnJlYWRVSW50QkUob2Zmc2V0ICsgNCwgNilcclxuXHRcdH1cclxuXHRcdGNoaWxkU2l6ZVRhYmxlcy5wdXNoKHR5cGUgPCAyIHx8XHJcblx0XHRcdCh0eXBlID09IDMgJiYgc2l6ZVRhYmxlTGVuZ3RoID09IDE2KSA/IC8vIHR5cGUgMyB3aXRoIGEgbGVuZ3RoIG9mIDE2IGlzIGEgbG9uZyBsZWFmIG5vZGVcclxuXHRcdFx0dW5kZWZpbmVkIDogc2l6ZVRhYmxlQnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgc2l6ZVRhYmxlTGVuZ3RoKSlcclxuXHRcdG9mZnNldCArPSBzaXplVGFibGVMZW5ndGhcclxuXHRcdGNoaWxkRHBhY2tCbG9ja3MucHVzaChkcGFja0J1ZmZlci5zbGljZShkcGFja0NoaWxkT2Zmc2V0LCBkcGFja0NoaWxkT2Zmc2V0ICs9IGRwYWNrTGVuZ3RoKSlcclxuXHR9XHJcblx0dmFyIGJsb2NrSW5kZXggPSAwXHJcblx0dmFyIHJvb3RCbG9jayA9IHRhcmdldC5kcGFja0J1ZmZlci5zbGljZSgwLCByb290QmxvY2tMZW5ndGgpXHJcblx0cmV0dXJuIHRhcmdldC5wYXJzZWQgPSBwYXJzZShyb290QmxvY2ssIGNoaWxkRHBhY2tCbG9ja3MubGVuZ3RoID4gMCA/IHsgLy8gaWYgbm8gY2hpbGQgYmxvY2tzLCB1c2Ugbm9ybWFsIGRlZmVycmVkIHBhcnNpbmdcclxuXHRcdHNoYXJlZDogdGFyZ2V0LnNoYXJlZCxcclxuXHRcdGZvckRlZmVycmVkOiBmdW5jdGlvbih2YWx1ZSwgcHJvcGVydHkpIHtcclxuXHRcdFx0bGV0IHRhcmdldCA9IG5ldyB2YWx1ZS5jb25zdHJ1Y3RvclxyXG5cdFx0XHR0YXJnZXQuZHBhY2tCdWZmZXIgPSBjaGlsZERwYWNrQmxvY2tzW2Jsb2NrSW5kZXhdXHJcblx0XHRcdHRhcmdldC5zaXplVGFibGVCdWZmZXIgPSBjaGlsZFNpemVUYWJsZXNbYmxvY2tJbmRleCsrXVxyXG5cdFx0XHR0YXJnZXQuc2hhcmVkID0gcHJvcGVydHkgP1xyXG5cdFx0XHRcdFx0cHJvcGVydHkudXBncmFkZSA/XHJcblx0XHRcdFx0XHRcdHByb3BlcnR5IDpcclxuXHRcdFx0XHRcdFx0eyBjb2RlOiBwcm9wZXJ0eS5jb2RlLCBrZXk6IG51bGwsIHR5cGU6IHByb3BlcnR5LnR5cGUgfSA6XHJcblx0XHRcdFx0XHRudWxsXHJcblx0XHRcdHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCBvbkRlbWFuZEhhbmRsZXIpXHJcblx0XHR9LFxyXG5cdFx0ZnJlZXplT2JqZWN0czogZnJlZXplT2JqZWN0c1xyXG5cdH0gOiB7XHJcblx0XHRzaGFyZWQ6IHRhcmdldC5zaGFyZWRcclxuXHR9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTZXJpYWxpemVkKHRhcmdldCwgc2hhcmVQcm9wZXJ0eSkge1xyXG5cdHZhciBjaGlsZEJsb2NrcyA9IFtdXHJcblx0dmFyIGNoaWxkU2l6ZVRhYmxlcyA9IFtdXHJcblx0dmFyIGNoaWxkRHBhY2tTaXplcyA9IDBcclxuXHR2YXIgbXVzdFNlcXVlbmNlIC8vIG11c3RTZXF1ZW5jZSBpcyBhbiBpbmRpY2F0aW9uIHRoYXQgdGhlIGJsb2NrcyBtdXN0IGJlIHJlYWQgaW4gc2VxdWVuY2UgYW5kIGNhbid0IGJlIHJhbmRvbWx5IGFjY2Vzc2VkXHJcblx0dmFyIHNlcmlhbGl6ZXJPcHRpb25zID0ge1xyXG5cdFx0Zm9yQmxvY2s6IGZ1bmN0aW9uKGJsb2NrLCBwcm9wZXJ0eSkge1xyXG5cdFx0XHR2YXIgZHBhY2tCdWZmZXIgPSBibG9ja1tidWZmZXJTeW1ib2xdKHByb3BlcnR5LCB0cnVlKVxyXG5cdFx0XHRpZiAoZHBhY2tCdWZmZXIubXVzdFNlcXVlbmNlKSB7XHJcblx0XHRcdFx0bXVzdFNlcXVlbmNlID0gdHJ1ZVxyXG5cdFx0XHRcdGNoaWxkQmxvY2tzLnB1c2goZHBhY2tCdWZmZXIpXHJcblx0XHRcdFx0cmV0dXJuIGRwYWNrQnVmZmVyXHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHNpemVUYWJsZUJ1ZmZlciA9IGJsb2NrW3NpemVUYWJsZVN5bWJvbF1cclxuXHRcdFx0aWYgKCFzaXplVGFibGVCdWZmZXIpIHtcclxuXHRcdFx0XHQvLyBpZiB0aGlzIGNoaWxkIGhhcyBubyBjaGlsZHJlbiwgaXQgd29uJ3QgaGF2ZSBoYXZlIHNpemUgdGFibGUsIGp1c3QgY3JlYXRlIGEgbGVhZiBicmFuY2ggYnVmZmVyXHJcblx0XHRcdFx0dmFyIGJ1ZmZlckxlbmd0aCA9IGRwYWNrQnVmZmVyLmxlbmd0aFxyXG5cdFx0XHRcdGlmIChidWZmZXJMZW5ndGggPCA2NCkge1xyXG5cdFx0XHRcdFx0Ly8gb25lIGJ5dGUgbGVhZiBub2RlXHJcblx0XHRcdFx0XHRzaXplVGFibGVCdWZmZXIgPSBCdWZmZXIuZnJvbShbYnVmZmVyTGVuZ3RoXSlcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGJ1ZmZlckxlbmd0aCA8IDB4NDAwMCkge1xyXG5cdFx0XHRcdFx0Ly8gYmluYXJ5LTEwIGFuZCB0aGVuIDE0IGJpdHNcclxuXHRcdFx0XHRcdHNpemVUYWJsZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFsoYnVmZmVyTGVuZ3RoID4+IDgpIHwgMHg0MCwgYnVmZmVyTGVuZ3RoICYgMHhmZl0pXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHNpemVUYWJsZUJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgxNilcclxuXHRcdFx0XHRcdHNpemVUYWJsZUJ1ZmZlci53cml0ZVVJbnQzMkJFKDB4YzAwMDAwMTApIC8vIGJpbmFyeS0xMSBhbmQgdGhlbiBpbmRpY2F0ZSBhIHNpemUgb2YgMTZcclxuXHRcdFx0XHRcdHNpemVUYWJsZUJ1ZmZlci53cml0ZVVJbnRCRShidWZmZXJMZW5ndGgsIDQsIDYpXHJcblx0XHRcdFx0XHRzaXplVGFibGVCdWZmZXIud3JpdGVVSW50QkUoYnVmZmVyTGVuZ3RoLCAxMCwgNilcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Y2hpbGRTaXplVGFibGVzLnB1c2goc2l6ZVRhYmxlQnVmZmVyKVxyXG5cdFx0XHRjaGlsZERwYWNrU2l6ZXMgKz0gZHBhY2tCdWZmZXIubGVuZ3RoXHJcblx0XHRcdGNoaWxkQmxvY2tzLnB1c2goZHBhY2tCdWZmZXIpXHJcblx0XHRcdHJldHVybiBkcGFja0J1ZmZlclxyXG5cdFx0fSxcclxuXHRcdHNoYXJlZDogc2hhcmVQcm9wZXJ0eSxcclxuXHRcdGZyZWV6ZU9iamVjdHM6IGZyZWV6ZU9iamVjdHNcclxuXHR9XHJcblx0dmFyIHJvb3RCbG9jayA9IHNlcmlhbGl6ZSh0YXJnZXQucGFyc2VkLCBzZXJpYWxpemVyT3B0aW9ucylcclxuXHRpZiAoY2hpbGRCbG9ja3MubGVuZ3RoID09IDApIHtcclxuXHRcdC8vIG5vIGNoaWxkIGJsb2NrcywganVzdCB1c2UgdGhlIHJvb3QgYmxvY2tcclxuXHRcdHJldHVybiB0YXJnZXQuZHBhY2tCdWZmZXIgPSByb290QmxvY2tcclxuXHR9XHJcblx0Y2hpbGRCbG9ja3MudW5zaGlmdChyb290QmxvY2spXHJcblx0Ly8gVE9ETzogRG8gd29yZCBhbGlnbWVudCB3aXRoIGFueSBidWZmZXIgY29weWluZywgdG8gbWFrZSBzdXJlIENQVSBjYW4gY29weSB3b3JkcyBpbnN0ZWFkIG9mIGJ5dGVzXHJcblx0dmFyIGRwYWNrQnVmZmVyID0gdGFyZ2V0LmRwYWNrQnVmZmVyID0gQnVmZmVyLmNvbmNhdChjaGlsZEJsb2NrcylcclxuXHRpZiAobXVzdFNlcXVlbmNlKSB7XHJcblx0XHRyZXR1cm4gZHBhY2tCdWZmZXJcclxuXHR9XHJcblx0dmFyIG91clNpemVCbG9jayA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShkcGFja0J1ZmZlci5sZW5ndGggPj0gMHgxMDAwMCA/IDE2IDogNilcclxuXHRjaGlsZFNpemVUYWJsZXMudW5zaGlmdChvdXJTaXplQmxvY2spXHJcblx0Ly8gVE9ETzogQWRkIGxlbmd0aCBwYXJhbWV0ZXIgdG8gY29uY2F0IHNvIGl0IGlzIGxlbmd0aCAlIDggPSAwXHJcblx0b3VyU2l6ZUJsb2NrID0gdGFyZ2V0LnNpemVUYWJsZUJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoY2hpbGRTaXplVGFibGVzKVxyXG5cdGlmIChkcGFja0J1ZmZlci5sZW5ndGggPj0gMHgxMDAwMCkgeyAvLyB8fCBvdXJTaXplQmxvY2subGVuZ3RoID4gMHg0MDAwXHJcblx0XHRvdXJTaXplQmxvY2sud3JpdGVVSW50MzJCRShvdXJTaXplQmxvY2subGVuZ3RoICsgMHhjMDAwMDAwMCwgMCkgLy8gYmluYXJ5LTExIGFuZCB0aGVuIDMwIGJpdHNcclxuXHRcdG91clNpemVCbG9jay53cml0ZVVJbnRCRShkcGFja0J1ZmZlci5sZW5ndGgsIDQsIDYpIC8vIDQ4IGJpdHNcclxuXHRcdG91clNpemVCbG9jay53cml0ZVVJbnRCRShyb290QmxvY2subGVuZ3RoLCAxMCwgNikgLy8gNDggYml0c1xyXG5cdH0gZWxzZSB7XHJcblx0XHRvdXJTaXplQmxvY2sud3JpdGVVSW50MTZCRShvdXJTaXplQmxvY2subGVuZ3RoIHwgMHg4MDAwLCAwKSAvLyBiaW5hcnktMTAgYW5kIHRoZW4gMTQgYml0c1xyXG5cdFx0b3VyU2l6ZUJsb2NrLndyaXRlVUludDE2QkUoZHBhY2tCdWZmZXIubGVuZ3RoLCAyKSAvLyAxNiBiaXRzXHJcblx0XHRvdXJTaXplQmxvY2sud3JpdGVVSW50MTZCRShyb290QmxvY2subGVuZ3RoLCA0KSAvLyAxNiBiaXRzXHJcblxyXG5cdH1cclxuXHRyZXR1cm4gZHBhY2tCdWZmZXJcclxufVxyXG5cclxuZnVuY3Rpb24gZGVlcENvcHkoc291cmNlKSB7XHJcblx0bGV0IHRhcmdldCA9IG5ldyBzb3VyY2UuY29uc3RydWN0b3IoKVxyXG5cdGZvciAobGV0IGtleSBpbiBzb3VyY2UpIHtcclxuXHRcdGxldCB2YWx1ZSA9IHNvdXJjZVtrZXldXHJcblx0XHRpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnKVxyXG5cdFx0XHR2YWx1ZSA9IGRlZXBDb3B5KHZhbHVlKVxyXG5cdFx0dGFyZ2V0W2tleV0gPSB2YWx1ZVxyXG5cdH1cclxuXHRyZXR1cm4gdGFyZ2V0XHJcbn1cclxudmFyIHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpLnBhcnNlXHJcbnZhciBzZXJpYWxpemVTaGFyZWRCbG9jayA9IHJlcXVpcmUoJy4vc2hhcmVkJykuc2VyaWFsaXplU2hhcmVkQmxvY2tcclxuXHJcbmV4cG9ydHMucGFyc2VMYXp5ID0gZnVuY3Rpb24oYnVmZmVyLCBvcHRpb25zKSB7XHJcblx0aWYgKChidWZmZXJbMF0gJiAweDgwKSB8fCAvLyBzdGFydHMgd2l0aCBzaXplIHRhYmxlXHJcblx0XHQoYnVmZmVyWzBdID4+IDQgPT09IDMpIHx8IC8vIHNlcXVlbmNlIChvYmplY3QpXHJcblx0XHQoYnVmZmVyWzBdID09PSAweDc3KSkgeyAvLyBhcnJheSB0eXBlXHJcblx0XHRyZXR1cm4gbWFrZUJsb2NrRnJvbUJ1ZmZlcihidWZmZXIsIG9wdGlvbnMgJiYgb3B0aW9ucy5zaGFyZWQpXHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBwYXJzZShidWZmZXIsIG9wdGlvbnMpXHJcblx0fVxyXG59XHJcbiIsIi8qXHJcbkRQYWNrIC0gRmFzdCwgY29tcGFjdCBvYmplY3Qgc3RydWN0dXJlIGVuY29kaW5nLlxyXG4qL1xyXG5cclxuZXhwb3J0cy5jcmVhdGVTZXJpYWxpemVTdHJlYW0gPSByZXF1aXJlKCcuL2xpYi9zZXJpYWxpemUtc3RyZWFtJykuY3JlYXRlU2VyaWFsaXplU3RyZWFtXHJcbmV4cG9ydHMuY3JlYXRlUGFyc2VTdHJlYW0gPSByZXF1aXJlKCcuL2xpYi9wYXJzZS1zdHJlYW0nKS5jcmVhdGVQYXJzZVN0cmVhbVxyXG5jb25zdCBzZXJpYWxpemUgPSByZXF1aXJlKCcuL2xpYi9zZXJpYWxpemUnKVxyXG5zZXJpYWxpemUubm9kZUNoYXJFbmNvZGVyID0gcmVxdWlyZSgnLi9saWIvbm9kZS1lbmNvZGVyJykubm9kZUNoYXJFbmNvZGVyXHJcbmNvbnN0IHBhcnNlID0gcmVxdWlyZSgnLi9saWIvcGFyc2UnKVxyXG5jb25zdCBPcHRpb25zID0gcmVxdWlyZSgnLi9saWIvT3B0aW9ucycpLk9wdGlvbnNcclxuXHJcbmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplLnNlcmlhbGl6ZVxyXG5leHBvcnRzLnBhcnNlID0gcGFyc2UucGFyc2VcclxuZXhwb3J0cy5jcmVhdGVTZXJpYWxpemVyID0gc2VyaWFsaXplLmNyZWF0ZVNlcmlhbGl6ZXJcclxuZXhwb3J0cy5jcmVhdGVQYXJzZXIgPSBwYXJzZS5jcmVhdGVQYXJzZXJcclxuY29uc3QgQmxvY2sgPSByZXF1aXJlKCcuL2xpYi9CbG9jaycpXHJcbmV4cG9ydHMucGFyc2VMYXp5ID0gQmxvY2sucGFyc2VMYXp5XHJcbmV4cG9ydHMuYXNCbG9jayA9IEJsb2NrLmFzQmxvY2tcclxuZXhwb3J0cy5pc0Jsb2NrID0gQmxvY2suaXNCbG9ja1xyXG5leHBvcnRzLmNvcHkgPSBCbG9jay5jb3B5XHJcbmV4cG9ydHMucmVhc3NpZ25CdWZmZXJzID0gQmxvY2sucmVhc3NpZ25CdWZmZXJzXHJcbmV4cG9ydHMuT3B0aW9ucyA9IE9wdGlvbnNcclxuZXhwb3J0cy5jcmVhdGVTaGFyZWRTdHJ1Y3R1cmUgPSByZXF1aXJlKCcuL2xpYi9zaGFyZWQnKS5jcmVhdGVTaGFyZWRTdHJ1Y3R1cmVcclxuZXhwb3J0cy5yZWFkU2hhcmVkU3RydWN0dXJlID0gcmVxdWlyZSgnLi9saWIvc2hhcmVkJykucmVhZFNoYXJlZFN0cnVjdHVyZVxyXG4iLCJmdW5jdGlvbiBjYXBpdGFsaXplKHdvcmQpIHtcbiAgICByZXR1cm4gYCR7d29yZC5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpfSR7d29yZC5zbGljZSgxKS50b0xvd2VyQ2FzZSgpfWA7XG59XG5leHBvcnQgZnVuY3Rpb24gVU5TVVBQT1JURURfRk9STUFUKGZvcm1hdCkge1xuICAgIHJldHVybiBgVW5zdXBwb3J0ZWQgc2VyaWFsaXphdGlvbiBmb3JtYXQ6ICR7Zm9ybWF0fWA7XG59XG5leHBvcnQgZnVuY3Rpb24gRklMRVNZU1RFTV9OT1RfU1VQUE9SVEVEX09OX1JVTlRJTUUocnVudGltZSkge1xuICAgIHJldHVybiBgRmlsZXN5c3RlbSBhY2Nlc3MgaXMgbm90IHN1cHBvcnRlZCBvbiAke2NhcGl0YWxpemUocnVudGltZSl9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBNRVRIT0RfTU9WRUQobWV0aG9kKSB7XG4gICAgcmV0dXJuIGBGdW5jdGlvbiAke21ldGhvZH0gaGFzIGJlZW4gbW92ZWQgdG8gdGhlIFwiL3NlcnZlclwiIG1vZHVsZS4gXFxuXFxuSW1wb3J0IGl0IHZpYSBcImltcG9ydCB7ICR7bWV0aG9kfSB9IGZyb20gJ29yYW1hL3BsdWdpbi1kYXRhLXBlcnNpc3RlbmNlL3NlcnZlcidcIi4gXFxuXFxuUmVhZCBtb3JlIGF0IGh0dHBzOi8vZG9jcy5vcmFtYXNlYXJjaC5jb20vb3Blbi1zb3VyY2UvcGx1Z2lucy9wbHVnaW4tZGF0YS1wZXJzaXN0ZW5jZS5gO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGRldGVjdFJ1bnRpbWUoKSB7XG4gICAgLyogYzggaWdub3JlIG5leHQgMTEgKi8gaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLnZlcnNpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuICdub2RlJztcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFwiRGVub1wiIGdsb2JhbCB2YXJpYWJsZSBpcyBkZWZpbmVkIGluIERlbm8gb25seVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIERlbm8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiAnZGVubyc7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBcIkJ1blwiIGdsb2JhbCB2YXJpYWJsZSBpcyBkZWZpbmVkIGluIEJ1biBvbmx5XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgQnVuICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gJ2J1bic7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gJ2Jyb3dzZXInO1xuICAgIH1cbiAgICByZXR1cm4gJ3Vua25vd24nO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiLCJpbXBvcnQgeyBkZWNvZGUsIGVuY29kZSB9IGZyb20gJ0Btc2dwYWNrL21zZ3BhY2snO1xuaW1wb3J0IHsgY3JlYXRlLCBsb2FkLCBzYXZlIH0gZnJvbSAnQG9yYW1hL29yYW1hJztcbi8vIEB0cy1leHBlY3QtZXJyb3IgZHBhY2sgZG9lcyBub3QgZXhwb3NlIHR5cGVzXG5pbXBvcnQgKiBhcyBkcGFjayBmcm9tICdkcGFjayc7XG5pbXBvcnQgeyBNRVRIT0RfTU9WRUQsIFVOU1VQUE9SVEVEX0ZPUk1BVCB9IGZyb20gJy4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGRldGVjdFJ1bnRpbWUgfSBmcm9tICcuL3V0aWxzLmpzJztcbmNvbnN0IGhleEZyb21NYXAgPSB7XG4gICAgMDogMCxcbiAgICAxOiAxLFxuICAgIDI6IDIsXG4gICAgMzogMyxcbiAgICA0OiA0LFxuICAgIDU6IDUsXG4gICAgNjogNixcbiAgICA3OiA3LFxuICAgIDg6IDgsXG4gICAgOTogOSxcbiAgICBhOiAxMCxcbiAgICBiOiAxMSxcbiAgICBjOiAxMixcbiAgICBkOiAxMyxcbiAgICBlOiAxNCxcbiAgICBmOiAxNVxufTtcbmNvbnN0IGhleFRvTWFwID0gT2JqZWN0LmtleXMoaGV4RnJvbU1hcCk7XG4vKiBjOCBpZ25vcmUgbmV4dCAxMyAqLyBmdW5jdGlvbiBzbG93SGV4VG9CdWZmZXIoaGV4KSB7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShNYXRoLmZsb29yKGhleC5sZW5ndGggLyAyKSk7XG4gICAgaGV4ID0gaGV4LnRvTG93ZXJDYXNlKCk7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGhleC5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IGEgPSBoZXhGcm9tTWFwW2hleFtpICogMl1dO1xuICAgICAgICBjb25zdCBiID0gaGV4RnJvbU1hcFtoZXhbaSAqIDIgKyAxXV07XG4gICAgICAgIGlmIChhID09PSB1bmRlZmluZWQgfHwgYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBieXRlc1tpXSA9IGEgPDwgNCB8IGI7XG4gICAgfVxuICAgIHJldHVybiBieXRlcztcbn1cbi8qIGM4IGlnbm9yZSBuZXh0IDUgKi8gZnVuY3Rpb24gc2xvd0hleFRvU3RyaW5nKGJ5dGVzKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYnl0ZXMgfHwgW10pLm1hcCgoYik9PmhleFRvTWFwW2IgPj4gNF0gKyBoZXhUb01hcFtiICYgMTVdKS5qb2luKCcnKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwZXJzaXN0KGRiLCBmb3JtYXQgPSAnYmluYXJ5JywgcnVudGltZSkge1xuICAgIGlmICghcnVudGltZSkge1xuICAgICAgICBydW50aW1lID0gZGV0ZWN0UnVudGltZSgpO1xuICAgIH1cbiAgICBjb25zdCBkYkV4cG9ydCA9IGF3YWl0IHNhdmUoZGIpO1xuICAgIGxldCBzZXJpYWxpemVkO1xuICAgIHN3aXRjaChmb3JtYXQpe1xuICAgICAgICBjYXNlICdqc29uJzpcbiAgICAgICAgICAgIHNlcmlhbGl6ZWQgPSBKU09OLnN0cmluZ2lmeShkYkV4cG9ydCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZHBhY2snOlxuICAgICAgICAgICAgc2VyaWFsaXplZCA9IGRwYWNrLnNlcmlhbGl6ZShkYkV4cG9ydCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtc2dwYWNrID0gZW5jb2RlKGRiRXhwb3J0KTtcbiAgICAgICAgICAgICAgICBpZiAocnVudGltZSA9PT0gJ25vZGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlcmlhbGl6ZWQgPSBCdWZmZXIuZnJvbShtc2dwYWNrLmJ1ZmZlciwgbXNncGFjay5ieXRlT2Zmc2V0LCBtc2dwYWNrLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemVkID0gc2VyaWFsaXplZC50b1N0cmluZygnaGV4Jyk7XG4gICAgICAgICAgICAgICAgLyogYzggaWdub3JlIG5leHQgMyAqLyB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemVkID0gc2xvd0hleFRvU3RyaW5nKG1zZ3BhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFVOU1VQUE9SVEVEX0ZPUk1BVChmb3JtYXQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzdG9yZShmb3JtYXQsIGRhdGEsIHJ1bnRpbWUpIHtcbiAgICBpZiAoIXJ1bnRpbWUpIHtcbiAgICAgICAgcnVudGltZSA9IGRldGVjdFJ1bnRpbWUoKTtcbiAgICB9XG4gICAgY29uc3QgZGIgPSBhd2FpdCBjcmVhdGUoe1xuICAgICAgICBzY2hlbWE6IHtcbiAgICAgICAgICAgIF9fcGxhY2Vob2xkZXI6ICdzdHJpbmcnXG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgZGVzZXJpYWxpemVkO1xuICAgIHN3aXRjaChmb3JtYXQpe1xuICAgICAgICBjYXNlICdqc29uJzpcbiAgICAgICAgICAgIGRlc2VyaWFsaXplZCA9IEpTT04ucGFyc2UoZGF0YS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkcGFjayc6XG4gICAgICAgICAgICBkZXNlcmlhbGl6ZWQgPSBkcGFjay5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICAgICAgaWYgKHJ1bnRpbWUgPT09ICdub2RlJykge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBCdWZmZXIuZnJvbShkYXRhLnRvU3RyaW5nKCksICdoZXgnKTtcbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBuZXh0IDMgKi8gfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gc2xvd0hleFRvQnVmZmVyKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVzZXJpYWxpemVkID0gZGVjb2RlKGRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoVU5TVVBQT1JURURfRk9STUFUKGZvcm1hdCkpO1xuICAgIH1cbiAgICBhd2FpdCBsb2FkKGRiLCBkZXNlcmlhbGl6ZWQpO1xuICAgIHJldHVybiBkYjtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwZXJzaXN0VG9GaWxlKGRiLCBmb3JtYXQgPSAnYmluYXJ5JywgcGF0aCwgcnVudGltZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihNRVRIT0RfTU9WRUQoJ3BlcnNpc3RUb0ZpbGUnKSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzdG9yZUZyb21GaWxlKGZvcm1hdCA9ICdiaW5hcnknLCBwYXRoLCBydW50aW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKE1FVEhPRF9NT1ZFRCgncmVzdG9yZUZyb21GaWxlJykpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBDYWxsYmFja01hbmFnZXIsIHBhcnNlQ2FsbGJhY2tDb25maWdBcmcsIH0gZnJvbSBcIi4uL2NhbGxiYWNrcy9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuL3J1bm5hYmxlL2luZGV4LmpzXCI7XG4vKipcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIGEgRG9jdW1lbnQgcmV0cmlldmFsIHN5c3RlbS4gQSByZXRyaWV2YWwgc3lzdGVtXG4gKiBpcyBkZWZpbmVkIGFzIHNvbWV0aGluZyB0aGF0IGNhbiB0YWtlIHN0cmluZyBxdWVyaWVzIGFuZCByZXR1cm4gdGhlXG4gKiBtb3N0ICdyZWxldmFudCcgRG9jdW1lbnRzIGZyb20gc29tZSBzb3VyY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlUmV0cmlldmVyIGV4dGVuZHMgUnVubmFibGUge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjYWxsYmFja3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGFnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXRhZGF0YVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2ZXJib3NlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gZmllbGRzPy5jYWxsYmFja3M7XG4gICAgICAgIHRoaXMudGFncyA9IGZpZWxkcz8udGFncyA/PyBbXTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IGZpZWxkcz8ubWV0YWRhdGEgPz8ge307XG4gICAgICAgIHRoaXMudmVyYm9zZSA9IGZpZWxkcz8udmVyYm9zZSA/PyBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVE9ETzogVGhpcyBzaG91bGQgYmUgYW4gYWJzdHJhY3QgbWV0aG9kLCBidXQgd2UnZCBsaWtlIHRvIGF2b2lkIGJyZWFraW5nXG4gICAgICogY2hhbmdlcyB0byBwZW9wbGUgY3VycmVudGx5IHVzaW5nIHN1YmNsYXNzZWQgY3VzdG9tIHJldHJpZXZlcnMuXG4gICAgICogQ2hhbmdlIGl0IG9uIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICAgKi9cbiAgICBfZ2V0UmVsZXZhbnREb2N1bWVudHMoX3F1ZXJ5LCBfY2FsbGJhY2tzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZCFcIik7XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZWxldmFudERvY3VtZW50cyhpbnB1dCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1haW4gbWV0aG9kIHVzZWQgdG8gcmV0cmlldmUgcmVsZXZhbnQgZG9jdW1lbnRzLiBJdCB0YWtlcyBhIHF1ZXJ5XG4gICAgICogc3RyaW5nIGFuZCBhbiBvcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdCwgYW5kIHJldHVybnMgYSBwcm9taXNlIHRoYXRcbiAgICAgKiByZXNvbHZlcyB0byBhbiBhcnJheSBvZiBgRG9jdW1lbnRgIG9iamVjdHMuIFRoaXMgbWV0aG9kIGhhbmRsZXMgdGhlXG4gICAgICogcmV0cmlldmFsIHByb2Nlc3MsIGluY2x1ZGluZyBzdGFydGluZyBhbmQgZW5kaW5nIGNhbGxiYWNrcywgYW5kIGVycm9yXG4gICAgICogaGFuZGxpbmcuXG4gICAgICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSBzdHJpbmcgdG8gcmV0cmlldmUgcmVsZXZhbnQgZG9jdW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciB0aGUgcmV0cmlldmFsIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXJyYXkgb2YgYERvY3VtZW50YCBvYmplY3RzLlxuICAgICAqL1xuICAgIGFzeW5jIGdldFJlbGV2YW50RG9jdW1lbnRzKHF1ZXJ5LCBjb25maWcpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkQ29uZmlnID0gcGFyc2VDYWxsYmFja0NvbmZpZ0FyZyhjb25maWcpO1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShwYXJzZWRDb25maWcuY2FsbGJhY2tzLCB0aGlzLmNhbGxiYWNrcywgcGFyc2VkQ29uZmlnLnRhZ3MsIHRoaXMudGFncywgcGFyc2VkQ29uZmlnLm1ldGFkYXRhLCB0aGlzLm1ldGFkYXRhLCB7IHZlcmJvc2U6IHRoaXMudmVyYm9zZSB9KTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZVJldHJpZXZlclN0YXJ0KHRoaXMudG9KU09OKCksIHF1ZXJ5LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHBhcnNlZENvbmZpZy5ydW5OYW1lKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLl9nZXRSZWxldmFudERvY3VtZW50cyhxdWVyeSwgcnVuTWFuYWdlcik7XG4gICAgICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVSZXRyaWV2ZXJFbmQocmVzdWx0cyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZVJldHJpZXZlckVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZVJldHJpZXZlciB9IGZyb20gXCIuLi9zY2hlbWEvcmV0cmlldmVyLmpzXCI7XG5pbXBvcnQgeyBTZXJpYWxpemFibGUgfSBmcm9tIFwiLi4vbG9hZC9zZXJpYWxpemFibGUuanNcIjtcbi8qKlxuICogQ2xhc3MgZm9yIHBlcmZvcm1pbmcgZG9jdW1lbnQgcmV0cmlldmFsIGZyb20gYSBWZWN0b3JTdG9yZS4gQ2FuIHBlcmZvcm1cbiAqIHNpbWlsYXJpdHkgc2VhcmNoIG9yIG1heGltYWwgbWFyZ2luYWwgcmVsZXZhbmNlIHNlYXJjaC5cbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvclN0b3JlUmV0cmlldmVyIGV4dGVuZHMgQmFzZVJldHJpZXZlciB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlZlY3RvclN0b3JlUmV0cmlldmVyXCI7XG4gICAgfVxuICAgIGdldCBsY19uYW1lc3BhY2UoKSB7XG4gICAgICAgIHJldHVybiBbXCJsYW5nY2hhaW5cIiwgXCJyZXRyaWV2ZXJzXCIsIFwiYmFzZVwiXTtcbiAgICB9XG4gICAgX3ZlY3RvcnN0b3JlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVjdG9yU3RvcmUuX3ZlY3RvcnN0b3JlVHlwZSgpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmVjdG9yU3RvcmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwia1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogNFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2VhcmNoVHlwZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJzaW1pbGFyaXR5XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlYXJjaEt3YXJnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmaWx0ZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZWN0b3JTdG9yZSA9IGZpZWxkcy52ZWN0b3JTdG9yZTtcbiAgICAgICAgdGhpcy5rID0gZmllbGRzLmsgPz8gdGhpcy5rO1xuICAgICAgICB0aGlzLnNlYXJjaFR5cGUgPSBmaWVsZHMuc2VhcmNoVHlwZSA/PyB0aGlzLnNlYXJjaFR5cGU7XG4gICAgICAgIHRoaXMuZmlsdGVyID0gZmllbGRzLmZpbHRlcjtcbiAgICAgICAgaWYgKGZpZWxkcy5zZWFyY2hUeXBlID09PSBcIm1tclwiKSB7XG4gICAgICAgICAgICB0aGlzLnNlYXJjaEt3YXJncyA9IGZpZWxkcy5zZWFyY2hLd2FyZ3M7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2dldFJlbGV2YW50RG9jdW1lbnRzKHF1ZXJ5LCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGlmICh0aGlzLnNlYXJjaFR5cGUgPT09IFwibW1yXCIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy52ZWN0b3JTdG9yZS5tYXhNYXJnaW5hbFJlbGV2YW5jZVNlYXJjaCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgdmVjdG9yIHN0b3JlIGJhY2tpbmcgdGhpcyByZXRyaWV2ZXIsICR7dGhpcy5fdmVjdG9yc3RvcmVUeXBlKCl9IGRvZXMgbm90IHN1cHBvcnQgbWF4IG1hcmdpbmFsIHJlbGV2YW5jZSBzZWFyY2guYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52ZWN0b3JTdG9yZS5tYXhNYXJnaW5hbFJlbGV2YW5jZVNlYXJjaChxdWVyeSwge1xuICAgICAgICAgICAgICAgIGs6IHRoaXMuayxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHRoaXMuZmlsdGVyLFxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2VhcmNoS3dhcmdzLFxuICAgICAgICAgICAgfSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoXCJ2ZWN0b3JzdG9yZVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmVjdG9yU3RvcmUuc2ltaWxhcml0eVNlYXJjaChxdWVyeSwgdGhpcy5rLCB0aGlzLmZpbHRlciwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoXCJ2ZWN0b3JzdG9yZVwiKSk7XG4gICAgfVxuICAgIGFzeW5jIGFkZERvY3VtZW50cyhkb2N1bWVudHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVjdG9yU3RvcmUuYWRkRG9jdW1lbnRzKGRvY3VtZW50cywgb3B0aW9ucyk7XG4gICAgfVxufVxuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyByZXByZXNlbnRpbmcgYSBzdG9yZSBvZiB2ZWN0b3JzLiBQcm92aWRlcyBtZXRob2RzIGZvclxuICogYWRkaW5nIHZlY3RvcnMgYW5kIGRvY3VtZW50cywgZGVsZXRpbmcgZnJvbSB0aGUgc3RvcmUsIGFuZCBzZWFyY2hpbmdcbiAqIHRoZSBzdG9yZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvclN0b3JlIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0cnVjdG9yKGVtYmVkZGluZ3MsIGRiQ29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGRiQ29uZmlnKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJ2ZWN0b3JzdG9yZXNcIiwgdGhpcy5fdmVjdG9yc3RvcmVUeXBlKCldXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJlbWJlZGRpbmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZW1iZWRkaW5ncyA9IGVtYmVkZGluZ3M7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgYXN5bmMgZGVsZXRlKF9wYXJhbXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gICAgYXN5bmMgc2ltaWxhcml0eVNlYXJjaChxdWVyeSwgayA9IDQsIGZpbHRlciA9IHVuZGVmaW5lZCwgX2NhbGxiYWNrcyA9IHVuZGVmaW5lZCAvLyBpbXBsZW1lbnQgcGFzc2luZyB0byBlbWJlZFF1ZXJ5IGxhdGVyXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLnNpbWlsYXJpdHlTZWFyY2hWZWN0b3JXaXRoU2NvcmUoYXdhaXQgdGhpcy5lbWJlZGRpbmdzLmVtYmVkUXVlcnkocXVlcnkpLCBrLCBmaWx0ZXIpO1xuICAgICAgICByZXR1cm4gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gcmVzdWx0WzBdKTtcbiAgICB9XG4gICAgYXN5bmMgc2ltaWxhcml0eVNlYXJjaFdpdGhTY29yZShxdWVyeSwgayA9IDQsIGZpbHRlciA9IHVuZGVmaW5lZCwgX2NhbGxiYWNrcyA9IHVuZGVmaW5lZCAvLyBpbXBsZW1lbnQgcGFzc2luZyB0byBlbWJlZFF1ZXJ5IGxhdGVyXG4gICAgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpbWlsYXJpdHlTZWFyY2hWZWN0b3JXaXRoU2NvcmUoYXdhaXQgdGhpcy5lbWJlZGRpbmdzLmVtYmVkUXVlcnkocXVlcnkpLCBrLCBmaWx0ZXIpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVRleHRzKF90ZXh0cywgX21ldGFkYXRhcywgX2VtYmVkZGluZ3MsIFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgX2RiQ29uZmlnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInRoZSBMYW5nY2hhaW4gdmVjdG9yc3RvcmUgaW1wbGVtZW50YXRpb24geW91IGFyZSB1c2luZyBmb3Jnb3QgdG8gb3ZlcnJpZGUgdGhpcywgcGxlYXNlIHJlcG9ydCBhIGJ1Z1wiKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21Eb2N1bWVudHMoX2RvY3MsIF9lbWJlZGRpbmdzLCBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9kYkNvbmZpZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0aGUgTGFuZ2NoYWluIHZlY3RvcnN0b3JlIGltcGxlbWVudGF0aW9uIHlvdSBhcmUgdXNpbmcgZm9yZ290IHRvIG92ZXJyaWRlIHRoaXMsIHBsZWFzZSByZXBvcnQgYSBidWdcIik7XG4gICAgfVxuICAgIGFzUmV0cmlldmVyKGtPckZpZWxkcywgZmlsdGVyLCBjYWxsYmFja3MsIHRhZ3MsIG1ldGFkYXRhLCB2ZXJib3NlKSB7XG4gICAgICAgIGlmICh0eXBlb2Yga09yRmllbGRzID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZlY3RvclN0b3JlUmV0cmlldmVyKHtcbiAgICAgICAgICAgICAgICB2ZWN0b3JTdG9yZTogdGhpcyxcbiAgICAgICAgICAgICAgICBrOiBrT3JGaWVsZHMsXG4gICAgICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgICAgIHRhZ3M6IFsuLi4odGFncyA/PyBbXSksIHRoaXMuX3ZlY3RvcnN0b3JlVHlwZSgpXSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB2ZXJib3NlLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHZlY3RvclN0b3JlOiB0aGlzLFxuICAgICAgICAgICAgICAgIGs6IGtPckZpZWxkcz8uayxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IGtPckZpZWxkcz8uZmlsdGVyLFxuICAgICAgICAgICAgICAgIHRhZ3M6IFsuLi4oa09yRmllbGRzPy50YWdzID8/IFtdKSwgdGhpcy5fdmVjdG9yc3RvcmVUeXBlKCldLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBrT3JGaWVsZHM/Lm1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIHZlcmJvc2U6IGtPckZpZWxkcz8udmVyYm9zZSxcbiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IGtPckZpZWxkcz8uY2FsbGJhY2tzLFxuICAgICAgICAgICAgICAgIHNlYXJjaFR5cGU6IGtPckZpZWxkcz8uc2VhcmNoVHlwZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoa09yRmllbGRzPy5zZWFyY2hUeXBlID09PSBcIm1tclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3JTdG9yZVJldHJpZXZlcih7XG4gICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoS3dhcmdzOiBrT3JGaWVsZHMuc2VhcmNoS3dhcmdzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3JTdG9yZVJldHJpZXZlcih7IC4uLnBhcmFtcyB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQWJzdHJhY3QgY2xhc3MgZXh0ZW5kaW5nIFZlY3RvclN0b3JlIHdpdGggZnVuY3Rpb25hbGl0eSBmb3Igc2F2aW5nIGFuZFxuICogbG9hZGluZyB0aGUgdmVjdG9yIHN0b3JlLlxuICovXG5leHBvcnQgY2xhc3MgU2F2ZWFibGVWZWN0b3JTdG9yZSBleHRlbmRzIFZlY3RvclN0b3JlIHtcbiAgICBzdGF0aWMgbG9hZChfZGlyZWN0b3J5LCBfZW1iZWRkaW5ncykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQXN5bmNDYWxsZXIgfSBmcm9tIFwiLi4vdXRpbC9hc3luY19jYWxsZXIuanNcIjtcbi8qKlxuICogQW4gYWJzdHJhY3QgY2xhc3MgdGhhdCBwcm92aWRlcyBtZXRob2RzIGZvciBlbWJlZGRpbmcgZG9jdW1lbnRzIGFuZFxuICogcXVlcmllcyB1c2luZyBMYW5nQ2hhaW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBFbWJlZGRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhc3luYyBjYWxsZXIgc2hvdWxkIGJlIHVzZWQgYnkgc3ViY2xhc3NlcyB0byBtYWtlIGFueSBhc3luYyBjYWxscyxcbiAgICAgICAgICogd2hpY2ggd2lsbCB0aHVzIGJlbmVmaXQgZnJvbSB0aGUgY29uY3VycmVuY3kgYW5kIHJldHJ5IGxvZ2ljLlxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FsbGVyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2FsbGVyID0gbmV3IEFzeW5jQ2FsbGVyKHBhcmFtcyA/PyB7fSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgT3BlbkFJIGFzIE9wZW5BSUNsaWVudCB9IGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi4vdXRpbC9lbnYuanNcIjtcbmltcG9ydCB7IGNodW5rQXJyYXkgfSBmcm9tIFwiLi4vdXRpbC9jaHVuay5qc1wiO1xuaW1wb3J0IHsgRW1iZWRkaW5ncyB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IGdldEVuZHBvaW50IH0gZnJvbSBcIi4uL3V0aWwvYXp1cmUuanNcIjtcbmltcG9ydCB7IHdyYXBPcGVuQUlDbGllbnRFcnJvciB9IGZyb20gXCIuLi91dGlsL29wZW5haS5qc1wiO1xuLyoqXG4gKiBDbGFzcyBmb3IgZ2VuZXJhdGluZyBlbWJlZGRpbmdzIHVzaW5nIHRoZSBPcGVuQUkgQVBJLiBFeHRlbmRzIHRoZVxuICogRW1iZWRkaW5ncyBjbGFzcyBhbmQgaW1wbGVtZW50cyBPcGVuQUlFbWJlZGRpbmdzUGFyYW1zIGFuZFxuICogQXp1cmVPcGVuQUlJbnB1dC5cbiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5BSUVtYmVkZGluZ3MgZXh0ZW5kcyBFbWJlZGRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgY29uc3QgZmllbGRzV2l0aERlZmF1bHRzID0geyBtYXhDb25jdXJyZW5jeTogMiwgLi4uZmllbGRzIH07XG4gICAgICAgIHN1cGVyKGZpZWxkc1dpdGhEZWZhdWx0cyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1vZGVsTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJ0ZXh0LWVtYmVkZGluZy1hZGEtMDAyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJhdGNoU2l6ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogNTEyXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJpcE5ld0xpbmVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aW1lb3V0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpVmVyc2lvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaUtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQmFzZVBhdGhcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudENvbmZpZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgYXBpS2V5ID0gZmllbGRzV2l0aERlZmF1bHRzPy5vcGVuQUlBcGlLZXkgPz9cbiAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJPUEVOQUlfQVBJX0tFWVwiKTtcbiAgICAgICAgY29uc3QgYXp1cmVBcGlLZXkgPSBmaWVsZHNXaXRoRGVmYXVsdHM/LmF6dXJlT3BlbkFJQXBpS2V5ID8/XG4gICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIGlmICghYXp1cmVBcGlLZXkgJiYgIWFwaUtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3BlbkFJIG9yIEF6dXJlIE9wZW5BSSBBUEkga2V5IG5vdCBmb3VuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhenVyZUFwaUluc3RhbmNlTmFtZSA9IGZpZWxkc1dpdGhEZWZhdWx0cz8uYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPz9cbiAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVcIik7XG4gICAgICAgIGNvbnN0IGF6dXJlQXBpRGVwbG95bWVudE5hbWUgPSAoZmllbGRzV2l0aERlZmF1bHRzPy5henVyZU9wZW5BSUFwaUVtYmVkZGluZ3NEZXBsb3ltZW50TmFtZSB8fFxuICAgICAgICAgICAgZmllbGRzV2l0aERlZmF1bHRzPy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSA/P1xuICAgICAgICAgICAgKGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0VNQkVERElOR1NfREVQTE9ZTUVOVF9OQU1FXCIpIHx8XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FXCIpKTtcbiAgICAgICAgY29uc3QgYXp1cmVBcGlWZXJzaW9uID0gZmllbGRzV2l0aERlZmF1bHRzPy5henVyZU9wZW5BSUFwaVZlcnNpb24gPz9cbiAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05cIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aCA9XG4gICAgICAgICAgICBmaWVsZHNXaXRoRGVmYXVsdHM/LmF6dXJlT3BlbkFJQmFzZVBhdGggPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0JBU0VfUEFUSFwiKTtcbiAgICAgICAgdGhpcy5tb2RlbE5hbWUgPSBmaWVsZHNXaXRoRGVmYXVsdHM/Lm1vZGVsTmFtZSA/PyB0aGlzLm1vZGVsTmFtZTtcbiAgICAgICAgdGhpcy5iYXRjaFNpemUgPVxuICAgICAgICAgICAgZmllbGRzV2l0aERlZmF1bHRzPy5iYXRjaFNpemUgPz8gKGF6dXJlQXBpS2V5ID8gMSA6IHRoaXMuYmF0Y2hTaXplKTtcbiAgICAgICAgdGhpcy5zdHJpcE5ld0xpbmVzID1cbiAgICAgICAgICAgIGZpZWxkc1dpdGhEZWZhdWx0cz8uc3RyaXBOZXdMaW5lcyA/PyB0aGlzLnN0cmlwTmV3TGluZXM7XG4gICAgICAgIHRoaXMudGltZW91dCA9IGZpZWxkc1dpdGhEZWZhdWx0cz8udGltZW91dDtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24gPSBhenVyZUFwaVZlcnNpb247XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkgPSBhenVyZUFwaUtleTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSA9IGF6dXJlQXBpSW5zdGFuY2VOYW1lO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgPSBhenVyZUFwaURlcGxveW1lbnROYW1lO1xuICAgICAgICBpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lICYmICF0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGluc3RhbmNlIG5hbWUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGRlcGxveW1lbnQgbmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIEFQSSB2ZXJzaW9uIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFwaUtleSA9IGFwaUtleSA/PyBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xpZW50Q29uZmlnID0ge1xuICAgICAgICAgICAgYXBpS2V5LFxuICAgICAgICAgICAgYmFzZVVSTDogY29uZmlndXJhdGlvbj8uYmFzZVBhdGgsXG4gICAgICAgICAgICBkYW5nZXJvdXNseUFsbG93QnJvd3NlcjogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmF1bHRIZWFkZXJzOiBjb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIGRlZmF1bHRRdWVyeTogY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LnBhcmFtcyxcbiAgICAgICAgICAgIC4uLmNvbmZpZ3VyYXRpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBnZW5lcmF0ZSBlbWJlZGRpbmdzIGZvciBhbiBhcnJheSBvZiBkb2N1bWVudHMuIFNwbGl0cyB0aGVcbiAgICAgKiBkb2N1bWVudHMgaW50byBiYXRjaGVzIGFuZCBtYWtlcyByZXF1ZXN0cyB0byB0aGUgT3BlbkFJIEFQSSB0byBnZW5lcmF0ZVxuICAgICAqIGVtYmVkZGluZ3MuXG4gICAgICogQHBhcmFtIHRleHRzIEFycmF5IG9mIGRvY3VtZW50cyB0byBnZW5lcmF0ZSBlbWJlZGRpbmdzIGZvci5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSAyRCBhcnJheSBvZiBlbWJlZGRpbmdzIGZvciBlYWNoIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGFzeW5jIGVtYmVkRG9jdW1lbnRzKHRleHRzKSB7XG4gICAgICAgIGNvbnN0IGJhdGNoZXMgPSBjaHVua0FycmF5KHRoaXMuc3RyaXBOZXdMaW5lcyA/IHRleHRzLm1hcCgodCkgPT4gdC5yZXBsYWNlKC9cXG4vZywgXCIgXCIpKSA6IHRleHRzLCB0aGlzLmJhdGNoU2l6ZSk7XG4gICAgICAgIGNvbnN0IGJhdGNoUmVxdWVzdHMgPSBiYXRjaGVzLm1hcCgoYmF0Y2gpID0+IHRoaXMuZW1iZWRkaW5nV2l0aFJldHJ5KHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIGlucHV0OiBiYXRjaCxcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBiYXRjaFJlc3BvbnNlcyA9IGF3YWl0IFByb21pc2UuYWxsKGJhdGNoUmVxdWVzdHMpO1xuICAgICAgICBjb25zdCBlbWJlZGRpbmdzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmF0Y2hSZXNwb25zZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogYmF0Y2hSZXNwb25zZSB9ID0gYmF0Y2hSZXNwb25zZXNbaV07XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJhdGNoLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgZW1iZWRkaW5ncy5wdXNoKGJhdGNoUmVzcG9uc2Vbal0uZW1iZWRkaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW1iZWRkaW5ncztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdlbmVyYXRlIGFuIGVtYmVkZGluZyBmb3IgYSBzaW5nbGUgZG9jdW1lbnQuIENhbGxzIHRoZVxuICAgICAqIGVtYmVkZGluZ1dpdGhSZXRyeSBtZXRob2Qgd2l0aCB0aGUgZG9jdW1lbnQgYXMgdGhlIGlucHV0LlxuICAgICAqIEBwYXJhbSB0ZXh0IERvY3VtZW50IHRvIGdlbmVyYXRlIGFuIGVtYmVkZGluZyBmb3IuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIGVtYmVkZGluZyBmb3IgdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGFzeW5jIGVtYmVkUXVlcnkodGV4dCkge1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuZW1iZWRkaW5nV2l0aFJldHJ5KHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIGlucHV0OiB0aGlzLnN0cmlwTmV3TGluZXMgPyB0ZXh0LnJlcGxhY2UoL1xcbi9nLCBcIiBcIikgOiB0ZXh0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRhdGFbMF0uZW1iZWRkaW5nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcml2YXRlIG1ldGhvZCB0byBtYWtlIGEgcmVxdWVzdCB0byB0aGUgT3BlbkFJIEFQSSB0byBnZW5lcmF0ZVxuICAgICAqIGVtYmVkZGluZ3MuIEhhbmRsZXMgdGhlIHJldHJ5IGxvZ2ljIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZSBmcm9tIHRoZVxuICAgICAqIEFQSS5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdCBSZXF1ZXN0IHRvIHNlbmQgdG8gdGhlIE9wZW5BSSBBUEkuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gICAgICovXG4gICAgYXN5bmMgZW1iZWRkaW5nV2l0aFJldHJ5KHJlcXVlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgY29uc3Qgb3BlbkFJRW5kcG9pbnRDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZTogdGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lLFxuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lOiB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lLFxuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpS2V5OiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQmFzZVBhdGg6IHRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aCxcbiAgICAgICAgICAgICAgICBiYXNlVVJMOiB0aGlzLmNsaWVudENvbmZpZy5iYXNlVVJMLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50ID0gZ2V0RW5kcG9pbnQob3BlbkFJRW5kcG9pbnRDb25maWcpO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuY2xpZW50Q29uZmlnLFxuICAgICAgICAgICAgICAgIGJhc2VVUkw6IGVuZHBvaW50LFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IHRoaXMudGltZW91dCxcbiAgICAgICAgICAgICAgICBtYXhSZXRyaWVzOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICghcGFyYW1zLmJhc2VVUkwpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW1zLmJhc2VVUkw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNsaWVudCA9IG5ldyBPcGVuQUlDbGllbnQocGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHt9O1xuICAgICAgICBpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgICBcImFwaS1rZXlcIjogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0T3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLnF1ZXJ5ID0ge1xuICAgICAgICAgICAgICAgIFwiYXBpLXZlcnNpb25cIjogdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24sXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdE9wdGlvbnMucXVlcnksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZW1iZWRkaW5ncy5jcmVhdGUocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gd3JhcE9wZW5BSUNsaWVudEVycm9yKGUpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuL3J1bm5hYmxlL2luZGV4LmpzXCI7XG4vKipcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIHBhcnNpbmcgdGhlIG91dHB1dCBvZiBhIExhcmdlIExhbmd1YWdlIE1vZGVsXG4gKiAoTExNKSBjYWxsLiBJdCBwcm92aWRlcyBtZXRob2RzIGZvciBwYXJzaW5nIHRoZSByZXN1bHQgb2YgYW4gTExNIGNhbGxcbiAqIGFuZCBpbnZva2luZyB0aGUgcGFyc2VyIHdpdGggYSBnaXZlbiBpbnB1dC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VMTE1PdXRwdXRQYXJzZXIgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRoZSByZXN1bHQgb2YgYW4gTExNIGNhbGwgd2l0aCBhIGdpdmVuIHByb21wdC4gQnkgZGVmYXVsdCwgaXRcbiAgICAgKiBzaW1wbHkgY2FsbHMgYHBhcnNlUmVzdWx0YC5cbiAgICAgKiBAcGFyYW0gZ2VuZXJhdGlvbnMgVGhlIGdlbmVyYXRpb25zIGZyb20gYW4gTExNIGNhbGwuXG4gICAgICogQHBhcmFtIF9wcm9tcHQgVGhlIHByb21wdCB1c2VkIGluIHRoZSBMTE0gY2FsbC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIE9wdGlvbmFsIGNhbGxiYWNrcy5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIHBhcnNlZCBvdXRwdXQuXG4gICAgICovXG4gICAgcGFyc2VSZXN1bHRXaXRoUHJvbXB0KGdlbmVyYXRpb25zLCBfcHJvbXB0LCBjYWxsYmFja3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VSZXN1bHQoZ2VuZXJhdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBwYXJzZXIgd2l0aCBhIGdpdmVuIGlucHV0IGFuZCBvcHRpb25hbCBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAgICogSWYgdGhlIGlucHV0IGlzIGEgc3RyaW5nLCBpdCBjcmVhdGVzIGEgZ2VuZXJhdGlvbiB3aXRoIHRoZSBpbnB1dCBhc1xuICAgICAqIHRleHQgYW5kIGNhbGxzIGBwYXJzZVJlc3VsdGAuIElmIHRoZSBpbnB1dCBpcyBhIGBCYXNlTWVzc2FnZWAsIGl0XG4gICAgICogY3JlYXRlcyBhIGdlbmVyYXRpb24gd2l0aCB0aGUgaW5wdXQgYXMgYSBtZXNzYWdlIGFuZCB0aGUgY29udGVudCBvZiB0aGVcbiAgICAgKiBpbnB1dCBhcyB0ZXh0LCBhbmQgdGhlbiBjYWxscyBgcGFyc2VSZXN1bHRgLlxuICAgICAqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdG8gdGhlIHBhcnNlciwgd2hpY2ggY2FuIGJlIGEgc3RyaW5nIG9yIGEgYEJhc2VNZXNzYWdlYC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBwYXJzZWQgb3V0cHV0LlxuICAgICAqL1xuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoYXN5bmMgKGlucHV0KSA9PiB0aGlzLnBhcnNlUmVzdWx0KFt7IHRleHQ6IGlucHV0IH1dKSwgaW5wdXQsIHsgLi4ub3B0aW9ucywgcnVuVHlwZTogXCJwYXJzZXJcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWxsV2l0aENvbmZpZyhhc3luYyAoaW5wdXQpID0+IHRoaXMucGFyc2VSZXN1bHQoW3sgbWVzc2FnZTogaW5wdXQsIHRleHQ6IGlucHV0LmNvbnRlbnQgfV0pLCBpbnB1dCwgeyAuLi5vcHRpb25zLCBydW5UeXBlOiBcInBhcnNlclwiIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyB0byBwYXJzZSB0aGUgb3V0cHV0IG9mIGFuIExMTSBjYWxsLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZU91dHB1dFBhcnNlciBleHRlbmRzIEJhc2VMTE1PdXRwdXRQYXJzZXIge1xuICAgIHBhcnNlUmVzdWx0KGdlbmVyYXRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2UoZ2VuZXJhdGlvbnNbMF0udGV4dCwgY2FsbGJhY2tzKTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VXaXRoUHJvbXB0KHRleHQsIF9wcm9tcHQsIGNhbGxiYWNrcykge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZSh0ZXh0LCBjYWxsYmFja3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHN0cmluZyB0eXBlIGtleSB1bmlxdWVseSBpZGVudGlmeWluZyB0aGlzIGNsYXNzIG9mIHBhcnNlclxuICAgICAqL1xuICAgIF90eXBlKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJfdHlwZSBub3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyB0byBwYXJzZSB0aGUgb3V0cHV0IG9mIGFuIExMTSBjYWxsIHRoYXQgYWxzbyBhbGxvd3Mgc3RyZWFtaW5nIGlucHV0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXIgZXh0ZW5kcyBCYXNlT3V0cHV0UGFyc2VyIHtcbiAgICBhc3luYyAqX3RyYW5zZm9ybShpbnB1dEdlbmVyYXRvcikge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGlucHV0R2VuZXJhdG9yKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNodW5rID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5wYXJzZVJlc3VsdChbeyB0ZXh0OiBjaHVuayB9XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLnBhcnNlUmVzdWx0KFt7IG1lc3NhZ2U6IGNodW5rLCB0ZXh0OiBjaHVuay5jb250ZW50IH1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGFuIGFzeW5jaHJvbm91cyBnZW5lcmF0b3Igb2YgaW5wdXQgaW50byBhbiBhc3luY2hyb25vdXNcbiAgICAgKiBnZW5lcmF0b3Igb2YgcGFyc2VkIG91dHB1dC5cbiAgICAgKiBAcGFyYW0gaW5wdXRHZW5lcmF0b3IgQW4gYXN5bmNocm9ub3VzIGdlbmVyYXRvciBvZiBpbnB1dC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBBIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIEFuIGFzeW5jaHJvbm91cyBnZW5lcmF0b3Igb2YgcGFyc2VkIG91dHB1dC5cbiAgICAgKi9cbiAgICBhc3luYyAqdHJhbnNmb3JtKGlucHV0R2VuZXJhdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIHlpZWxkKiB0aGlzLl90cmFuc2Zvcm1TdHJlYW1XaXRoQ29uZmlnKGlucHV0R2VuZXJhdG9yLCB0aGlzLl90cmFuc2Zvcm0uYmluZCh0aGlzKSwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIHJ1blR5cGU6IFwicGFyc2VyXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogT3V0cHV0UGFyc2VyIHRoYXQgcGFyc2VzIExMTVJlc3VsdCBpbnRvIHRoZSB0b3AgbGlrZWx5IHN0cmluZy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmluZ091dHB1dFBhcnNlciBleHRlbmRzIEJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcIm91dHB1dF9wYXJzZXJcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlN0ck91dHB1dFBhcnNlclwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBzdHJpbmcgb3V0cHV0IGZyb20gYW4gTExNIGNhbGwuIFRoaXMgbWV0aG9kIGlzIG1lYW50IHRvIGJlXG4gICAgICogaW1wbGVtZW50ZWQgYnkgc3ViY2xhc3NlcyB0byBkZWZpbmUgaG93IGEgc3RyaW5nIG91dHB1dCBmcm9tIGFuIExMTVxuICAgICAqIHNob3VsZCBiZSBwYXJzZWQuXG4gICAgICogQHBhcmFtIHRleHQgVGhlIHN0cmluZyBvdXRwdXQgZnJvbSBhbiBMTE0gY2FsbC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIE9wdGlvbmFsIGNhbGxiYWNrcy5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIHBhcnNlZCBvdXRwdXQuXG4gICAgICovXG4gICAgcGFyc2UodGV4dCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRleHQpO1xuICAgIH1cbiAgICBnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbn1cbi8qKlxuICogT3V0cHV0UGFyc2VyIHRoYXQgcGFyc2VzIExMTVJlc3VsdCBpbnRvIHRoZSB0b3AgbGlrZWx5IHN0cmluZyBhbmRcbiAqIGVuY29kZXMgaXQgaW50byBieXRlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJ5dGVzT3V0cHV0UGFyc2VyIGV4dGVuZHMgQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwic2NoZW1hXCIsIFwib3V0cHV0X3BhcnNlclwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZXh0RW5jb2RlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogbmV3IFRleHRFbmNvZGVyKClcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJCeXRlc091dHB1dFBhcnNlclwiO1xuICAgIH1cbiAgICBwYXJzZSh0ZXh0KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy50ZXh0RW5jb2Rlci5lbmNvZGUodGV4dCkpO1xuICAgIH1cbiAgICBnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbn1cbi8qKlxuICogRXhjZXB0aW9uIHRoYXQgb3V0cHV0IHBhcnNlcnMgc2hvdWxkIHJhaXNlIHRvIHNpZ25pZnkgYSBwYXJzaW5nIGVycm9yLlxuICpcbiAqIFRoaXMgZXhpc3RzIHRvIGRpZmZlcmVudGlhdGUgcGFyc2luZyBlcnJvcnMgZnJvbSBvdGhlciBjb2RlIG9yIGV4ZWN1dGlvbiBlcnJvcnNcbiAqIHRoYXQgYWxzbyBtYXkgYXJpc2UgaW5zaWRlIHRoZSBvdXRwdXQgcGFyc2VyLiBPdXRwdXRQYXJzZXJFeGNlcHRpb25zIHdpbGwgYmVcbiAqIGF2YWlsYWJsZSB0byBjYXRjaCBhbmQgaGFuZGxlIGluIHdheXMgdG8gZml4IHRoZSBwYXJzaW5nIGVycm9yLCB3aGlsZSBvdGhlclxuICogZXJyb3JzIHdpbGwgYmUgcmFpc2VkLlxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIC0gVGhlIGVycm9yIHRoYXQncyBiZWluZyByZS1yYWlzZWQgb3IgYW4gZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSBsbG1PdXRwdXQgLSBTdHJpbmcgbW9kZWwgb3V0cHV0IHdoaWNoIGlzIGVycm9yLWluZy5cbiAqIEBwYXJhbSBvYnNlcnZhdGlvbiAtIFN0cmluZyBleHBsYW5hdGlvbiBvZiBlcnJvciB3aGljaCBjYW4gYmUgcGFzc2VkIHRvIGFcbiAqICAgICBtb2RlbCB0byB0cnkgYW5kIHJlbWVkaWF0ZSB0aGUgaXNzdWUuXG4gKiBAcGFyYW0gc2VuZFRvTExNIC0gV2hldGhlciB0byBzZW5kIHRoZSBvYnNlcnZhdGlvbiBhbmQgbGxtX291dHB1dCBiYWNrIHRvIGFuIEFnZW50XG4gKiAgICAgYWZ0ZXIgYW4gT3V0cHV0UGFyc2VyRXhjZXB0aW9uIGhhcyBiZWVuIHJhaXNlZC4gVGhpcyBnaXZlcyB0aGUgdW5kZXJseWluZ1xuICogICAgIG1vZGVsIGRyaXZpbmcgdGhlIGFnZW50IHRoZSBjb250ZXh0IHRoYXQgdGhlIHByZXZpb3VzIG91dHB1dCB3YXMgaW1wcm9wZXJseVxuICogICAgIHN0cnVjdHVyZWQsIGluIHRoZSBob3BlcyB0aGF0IGl0IHdpbGwgdXBkYXRlIHRoZSBvdXRwdXQgdG8gdGhlIGNvcnJlY3RcbiAqICAgICBmb3JtYXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBPdXRwdXRQYXJzZXJFeGNlcHRpb24gZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgbGxtT3V0cHV0LCBvYnNlcnZhdGlvbiwgc2VuZFRvTExNID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxsbU91dHB1dFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvYnNlcnZhdGlvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZW5kVG9MTE1cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sbG1PdXRwdXQgPSBsbG1PdXRwdXQ7XG4gICAgICAgIHRoaXMub2JzZXJ2YXRpb24gPSBvYnNlcnZhdGlvbjtcbiAgICAgICAgdGhpcy5zZW5kVG9MTE0gPSBzZW5kVG9MTE07XG4gICAgICAgIGlmIChzZW5kVG9MTE0pIHtcbiAgICAgICAgICAgIGlmIChvYnNlcnZhdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGxsbU91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnRzICdvYnNlcnZhdGlvbicgJiAnbGxtT3V0cHV0JyBhcmUgcmVxdWlyZWQgaWYgJ3NlbmRUb0xsbScgaXMgdHJ1ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIHNyYy9TZWNvbmRCcmFpbi50c1xuaW1wb3J0IHsgUnVubmFibGVQYXNzdGhyb3VnaCwgUnVubmFibGVTZXF1ZW5jZSB9IGZyb20gXCJsYW5nY2hhaW4vc2NoZW1hL3J1bm5hYmxlXCI7XG5pbXBvcnQgeyBPcGVuQUlDaGF0IH0gZnJvbSBcImxhbmdjaGFpbi9sbG1zL29wZW5haVwiO1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwibGFuZ2NoYWluL3Byb21wdHNcIjtcblxuLy8gc3JjL1ZlY3RvclN0b3JlLnRzXG5pbXBvcnQgeyBjcmVhdGUsIGluc2VydE11bHRpcGxlLCBzZWFyY2hWZWN0b3IgfSBmcm9tIFwiQG9yYW1hL29yYW1hXCI7XG5pbXBvcnQgeyBwZXJzaXN0LCByZXN0b3JlIH0gZnJvbSBcIkBvcmFtYS9wbHVnaW4tZGF0YS1wZXJzaXN0ZW5jZVwiO1xuaW1wb3J0IHsgVmVjdG9yU3RvcmUgfSBmcm9tIFwibGFuZ2NoYWluL3ZlY3RvcnN0b3Jlcy9iYXNlXCI7XG5pbXBvcnQgeyBEb2N1bWVudCB9IGZyb20gXCJsYW5nY2hhaW4vZG9jdW1lbnRcIjtcbnZhciB2ZWN0b3JTdG9yZVNjaGVtYSA9IHtcbiAgbWV0YWRhdGE6IHtcbiAgICBpbml0aWFsUGFnZUNvbnRlbnQ6IFwic3RyaW5nXCJcbiAgfSxcbiAgZW1iZWRkaW5nOiBcInZlY3RvclsxNTM2XVwiXG59O1xudmFyIE9yYW1hU3RvcmUgPSBjbGFzcyBleHRlbmRzIFZlY3RvclN0b3JlIHtcbiAgY29uc3RydWN0b3IoZW1iZWRkaW5ncywgYXJncykge1xuICAgIHN1cGVyKGVtYmVkZGluZ3MsIGFyZ3MpO1xuICAgIHRoaXMuZW1iZWRkaW5ncyA9IGVtYmVkZGluZ3M7XG4gICAgdGhpcy5kYiA9IGNyZWF0ZSh7XG4gICAgICBzY2hlbWE6IHZlY3RvclN0b3JlU2NoZW1hLFxuICAgICAgaWQ6IGFyZ3MuaW5kZXhOYW1lXG4gICAgfSk7XG4gIH1cbiAgX3ZlY3RvcnN0b3JlVHlwZSgpIHtcbiAgICByZXR1cm4gXCJPcmFtYVN0b3JlXCI7XG4gIH1cbiAgYXN5bmMgYWRkVmVjdG9ycyh2ZWN0b3JzLCBkb2N1bWVudHMpIHtcbiAgICBjb25zdCBkb2NzID0gZG9jdW1lbnRzLm1hcCgoZG9jdW1lbnQsIGluZGV4KSA9PiAoe1xuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgaW5pdGlhbFBhZ2VDb250ZW50OiBkb2N1bWVudC5wYWdlQ29udGVudFxuICAgICAgfSxcbiAgICAgIGVtYmVkZGluZzogdmVjdG9yc1tpbmRleF1cbiAgICB9KSk7XG4gICAgY29uc3QgaWRzID0gYXdhaXQgaW5zZXJ0TXVsdGlwbGUoYXdhaXQgdGhpcy5kYiwgZG9jcyk7XG4gICAgcmV0dXJuIGlkcztcbiAgfVxuICBhc3luYyBhZGREb2N1bWVudHMoZG9jdW1lbnRzKSB7XG4gICAgdGhpcy5hZGRWZWN0b3JzKGF3YWl0IHRoaXMuZW1iZWRkaW5ncy5lbWJlZERvY3VtZW50cyhkb2N1bWVudHMubWFwKChkb2N1bWVudCkgPT4gZG9jdW1lbnQucGFnZUNvbnRlbnQpKSwgZG9jdW1lbnRzKTtcbiAgfVxuICBzdGF0aWMgYXN5bmMgZnJvbURvY3VtZW50cyhkb2N1bWVudHMsIGVtYmVkZGluZ3MsIGFyZ3MpIHtcbiAgICBjb25zdCBzdG9yZSA9IG5ldyB0aGlzKGVtYmVkZGluZ3MsIGFyZ3MpO1xuICAgIGF3YWl0IHN0b3JlLmFkZERvY3VtZW50cyhkb2N1bWVudHMpO1xuICAgIHJldHVybiBzdG9yZTtcbiAgfVxuICBhc3luYyBzaW1pbGFyaXR5U2VhcmNoVmVjdG9yV2l0aFNjb3JlKHF1ZXJ5LCBrKSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHNlYXJjaFZlY3Rvcihhd2FpdCB0aGlzLmRiLCB7IHZlY3RvcjogcXVlcnksIHByb3BlcnR5OiBcImVtYmVkZGluZ1wiLCBsaW1pdDogaywgc2ltaWxhcml0eTogMC4zIH0pO1xuICAgIHJldHVybiByZXN1bHRzLmhpdHMubWFwKChyZXN1bHQpID0+IHtcbiAgICAgIHJldHVybiBbbmV3IERvY3VtZW50KHsgcGFnZUNvbnRlbnQ6IHJlc3VsdC5kb2N1bWVudC5tZXRhZGF0YS5pbml0aWFsUGFnZUNvbnRlbnQgfSksIHJlc3VsdC5zY29yZV07XG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgZ2V0SnNvbigpIHtcbiAgICByZXR1cm4gYXdhaXQgcGVyc2lzdChhd2FpdCB0aGlzLmRiLCBcImpzb25cIik7XG4gIH1cbiAgYXN5bmMgbG9hZEZyb21Kc29uKHZlY3RvclN0b3JlSnNvbikge1xuICAgIHRoaXMuZGIgPSByZXN0b3JlKFwianNvblwiLCB2ZWN0b3JTdG9yZUpzb24pO1xuICB9XG59O1xuXG4vLyBzcmMvU2Vjb25kQnJhaW4udHNcbmltcG9ydCB7IE9wZW5BSUVtYmVkZGluZ3MgfSBmcm9tIFwibGFuZ2NoYWluL2VtYmVkZGluZ3Mvb3BlbmFpXCI7XG5pbXBvcnQgeyBTdHJpbmdPdXRwdXRQYXJzZXIgfSBmcm9tIFwibGFuZ2NoYWluL3NjaGVtYS9vdXRwdXRfcGFyc2VyXCI7XG52YXIgU2Vjb25kQnJhaW4gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEub3BlbkFJQXBpS2V5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBPcGVuQUkgQVBJIGtleSBwcm92aWRlZFwiKTtcbiAgICB9XG4gICAgdGhpcy52ZWN0b3JTdG9yZSA9IG5ldyBPcmFtYVN0b3JlKG5ldyBPcGVuQUlFbWJlZGRpbmdzKHsgb3BlbkFJQXBpS2V5OiBkYXRhLm9wZW5BSUFwaUtleSwgYmF0Y2hTaXplOiAyMDQ4IH0pLCB7XG4gICAgICBpbmRleE5hbWU6IFwib2JzaWRpYW5kYlwiXG4gICAgfSk7XG4gICAgaWYgKGRhdGEudmVjdG9yU3RvcmVKc29uKSB7XG4gICAgICB0aGlzLnZlY3RvclN0b3JlLmxvYWRGcm9tSnNvbihkYXRhLnZlY3RvclN0b3JlSnNvbik7XG4gICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCB2ZWN0b3Igc3RvcmUgZnJvbSBKU09OXCIpO1xuICAgIH1cbiAgICB0aGlzLnJldHJpZXZlciA9IHRoaXMudmVjdG9yU3RvcmUuYXNSZXRyaWV2ZXIoeyBrOiA3IH0pO1xuICAgIGNvbnN0IG1vZGVsID0gbmV3IE9wZW5BSUNoYXQoeyBvcGVuQUlBcGlLZXk6IGRhdGEub3BlbkFJQXBpS2V5IH0pO1xuICAgIGNvbnN0IHByb21wdCA9IFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShgQW50d29ydGUgYWxzIG1laW4gQXNzaXN0ZW50IGF1ZiBtZWluZSBGcmFnZSBhdXNzY2hsaWVcXHhERmxpY2ggYmFzaWVyZW5kIGF1ZiBtZWluZW0gV2lzc2VuIGltIGZvbGdlbmRlbiBNYXJrZG93biBmb3JtYXRpZXJ0ZW4gS29udGV4dC4gQml0dGUgZXJzdGVsbGUgbGlua3MgaW0gZm9sZ2VuZGVuIGZvcm1hdCBbW05vdGVuYW1lI0hlYWRlcjEjI0hlYWRlcjJdXSBhdXMgZGVuIE5vdGUgSGVhZGVybiB1bmQgZlxceEZDZ2Ugc2llIGRlaW5lciBBbnR3b3J0IGFscyBSZWZlcmVueiBiZWk6XG4gICAgICAgIHtjb250ZXh0fVxuXG4gICAgICAgIEZyYWdlOiB7cXVlc3Rpb259YCk7XG4gICAgdGhpcy5yYWdDaGFpbiA9IFJ1bm5hYmxlU2VxdWVuY2UuZnJvbShbXG4gICAgICB7XG4gICAgICAgIGNvbnRleHQ6IHRoaXMucmV0cmlldmVyLnBpcGUoKGRvY3VtZW50cykgPT4gZG9jdW1lbnRzLm1hcCgoZG9jKSA9PiBkb2MucGFnZUNvbnRlbnQpLmpvaW4oXCJcXG5cXG5cIikpLFxuICAgICAgICBxdWVzdGlvbjogbmV3IFJ1bm5hYmxlUGFzc3Rocm91Z2goKVxuICAgICAgfSxcbiAgICAgIHByb21wdCxcbiAgICAgIG1vZGVsLFxuICAgICAgbmV3IFN0cmluZ091dHB1dFBhcnNlcigpXG4gICAgXSk7XG4gIH1cbiAgYXN5bmMgZW1iZWREb2N1bWVudHMoZG9jdW1lbnRzKSB7XG4gICAgY29uc29sZS5sb2coXCJFbWJlZGRpbmcgZG9jdW1lbnRzLi4uXCIpO1xuICAgIGF3YWl0IHRoaXMudmVjdG9yU3RvcmUuYWRkRG9jdW1lbnRzKGRvY3VtZW50cyk7XG4gICAgY29uc29sZS5sb2coXCJEb25lIGVtYmVkZGluZyBkb2N1bWVudHNcIik7XG4gIH1cbiAgYXN5bmMgcnVuUkFHKHF1ZXJ5KSB7XG4gICAgY29uc29sZS5sb2coXCJSdW5uaW5nIFJBRy4uLlwiKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJhZ0NoYWluLmludm9rZShxdWVyeSwge1xuICAgICAgY2FsbGJhY2tzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBoYW5kbGVSZXRyaWV2ZXJFbmQ6IGFzeW5jIChkb2N1bWVudHMpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRvY3VtZW50cywgbnVsbCwgMikpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGFuZGxlTExNU3RhcnQ6IGFzeW5jIChsbG0sIHByb21wdHMpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHByb21wdHMsIG51bGwsIDIpKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGhhbmRsZUxMTUVuZDogYXN5bmMgKG91dHB1dCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkob3V0cHV0LCBudWxsLCAyKSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBoYW5kbGVMTE1FcnJvcjogYXN5bmMgKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgYXN5bmMgcmV0cmlldmVEb2N1bWVudHMocXVlcnkpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy52ZWN0b3JTdG9yZS5zaW1pbGFyaXR5U2VhcmNoKHF1ZXJ5LCAzKTtcbiAgfVxuICBhc3luYyBnZXRWZWN0b3JTdG9yZUpzb24oKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudmVjdG9yU3RvcmUuZ2V0SnNvbigpO1xuICB9XG4gIHN0YXRpYyBhc3luYyBsb2FkRnJvbURhdGEoZGF0YSkge1xuICAgIHJldHVybiBuZXcgdGhpcyhkYXRhKTtcbiAgfVxufTtcblxuLy8gc3JjL09ic2lkaWFuRG9jdW1lbnRMb2FkZXIudHNcbmFzeW5jIGZ1bmN0aW9uIG9ic2lkaWFuRG9jdW1lbnRMb2FkZXIob2JzaWRpYW5BcHApIHtcbiAgbGV0IGRvY3MgPSBbXTtcbiAgZm9yIChjb25zdCBmaWxlIG9mIG9ic2lkaWFuQXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKSkge1xuICAgIGNvbnN0IGZpbGVNZXRhZGF0YSA9IG9ic2lkaWFuQXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgIGlmICghZmlsZU1ldGFkYXRhKVxuICAgICAgY29udGludWU7XG4gICAgZG9jcy5wdXNoKHtcbiAgICAgIG1ldGFkYXRhOiB7fSxcbiAgICAgIHBhZ2VDb250ZW50OiBcIk5vdGU6IFwiICsgZmlsZS5iYXNlbmFtZSArIFwiXFxuRXJzdGVsbHQgYW06IFwiICsgbmV3IERhdGUoZmlsZS5zdGF0LmN0aW1lKSArIFwiXFxuTWV0YWRhdGVuOiBcIiArIEpTT04uc3RyaW5naWZ5KGZpbGVNZXRhZGF0YS5mcm9udG1hdHRlciB8fCB7fSlcbiAgICB9KTtcbiAgICBjb25zdCBwYWdlQ29udGVudCA9IGF3YWl0IG9ic2lkaWFuQXBwLnZhdWx0LmNhY2hlZFJlYWQoZmlsZSk7XG4gICAgbGV0IGhlYWRlckNvdW50ID0gMDtcbiAgICBsZXQgaGVhZGluZ1RyZWUgPSBbXTtcbiAgICBoZWFkaW5nVHJlZS5wdXNoKGZpbGUuYmFzZW5hbWUpO1xuICAgIGxldCBjdXJyZW50SGVhZGluZ0xldmVsID0gMDtcbiAgICBmb3IgKGNvbnN0IHNlY3Rpb24gb2YgZmlsZU1ldGFkYXRhLnNlY3Rpb25zIHx8IFtdKSB7XG4gICAgICBpZiAoc2VjdGlvbi50eXBlID09PSBcImhlYWRpbmdcIikge1xuICAgICAgICBjb25zdCBjdXJyZW50SGVhZGluZyA9IGZpbGVNZXRhZGF0YS5oZWFkaW5nc1toZWFkZXJDb3VudF07XG4gICAgICAgIGlmIChjdXJyZW50SGVhZGluZy5sZXZlbCA+IGN1cnJlbnRIZWFkaW5nTGV2ZWwpIHtcbiAgICAgICAgICBoZWFkaW5nVHJlZS5wdXNoKHBhZ2VDb250ZW50LnNsaWNlKGN1cnJlbnRIZWFkaW5nLnBvc2l0aW9uLnN0YXJ0Lm9mZnNldCwgY3VycmVudEhlYWRpbmcucG9zaXRpb24uZW5kLm9mZnNldCkpO1xuICAgICAgICAgIGN1cnJlbnRIZWFkaW5nTGV2ZWwgPSBjdXJyZW50SGVhZGluZy5sZXZlbDtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50SGVhZGluZy5sZXZlbCA8IGN1cnJlbnRIZWFkaW5nTGV2ZWwpIHtcbiAgICAgICAgICBoZWFkaW5nVHJlZS5wb3AoKTtcbiAgICAgICAgICBoZWFkaW5nVHJlZS5wb3AoKTtcbiAgICAgICAgICBoZWFkaW5nVHJlZS5wdXNoKHBhZ2VDb250ZW50LnNsaWNlKGN1cnJlbnRIZWFkaW5nLnBvc2l0aW9uLnN0YXJ0Lm9mZnNldCwgY3VycmVudEhlYWRpbmcucG9zaXRpb24uZW5kLm9mZnNldCkpO1xuICAgICAgICAgIGN1cnJlbnRIZWFkaW5nTGV2ZWwgPSBjdXJyZW50SGVhZGluZy5sZXZlbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoZWFkaW5nVHJlZS5wb3AoKTtcbiAgICAgICAgICBoZWFkaW5nVHJlZS5wdXNoKHBhZ2VDb250ZW50LnNsaWNlKGN1cnJlbnRIZWFkaW5nLnBvc2l0aW9uLnN0YXJ0Lm9mZnNldCwgY3VycmVudEhlYWRpbmcucG9zaXRpb24uZW5kLm9mZnNldCkpO1xuICAgICAgICB9XG4gICAgICAgIGhlYWRlckNvdW50Kys7XG4gICAgICB9IGVsc2VcbiAgICAgICAgZG9jcy5wdXNoKHtcbiAgICAgICAgICBtZXRhZGF0YToge30sXG4gICAgICAgICAgcGFnZUNvbnRlbnQ6IFwiTm90ZW5hbWU6IFwiICsgaGVhZGluZ1RyZWUuam9pbihcIlxcblwiKSArIFwiXFxuXCIgKyBwYWdlQ29udGVudC5zbGljZShzZWN0aW9uLnBvc2l0aW9uLnN0YXJ0Lm9mZnNldCwgc2VjdGlvbi5wb3NpdGlvbi5lbmQub2Zmc2V0KVxuICAgICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRvY3M7XG59XG5leHBvcnQge1xuICBTZWNvbmRCcmFpbixcbiAgb2JzaWRpYW5Eb2N1bWVudExvYWRlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IHdyaXRhYmxlIH0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcbmltcG9ydCB7IFNlY29uZEJyYWluIH0gZnJvbSAnc2Vjb25kLWJyYWluLXRzJztcblxuZXhwb3J0IHR5cGUgTWVzc2FnZSA9IHtcbiAgICByb2xlOiAnc3lzdGVtJyB8ICdhc3Npc3RhbnQnIHwgJ3VzZXInO1xuICAgIGNvbnRlbnQ6IHN0cmluZztcbiAgICBjb250ZXh0Pzogc3RyaW5nO1xufTtcblxuZXhwb3J0IGxldCBtZXNzYWdlcyA9IHdyaXRhYmxlPE1lc3NhZ2VbXT4oW3sgcm9sZTogJ3N5c3RlbScsIGNvbnRlbnQ6ICdIaSwgdGhpcyBpcyB5b3VyIFNlY29uZCBCcmFpbiEnLCBjb250ZXh0OiBudWxsIH1dKTtcblxuZXhwb3J0IGxldCBzZWNvbmRCcmFpbiA9IHdyaXRhYmxlPFNlY29uZEJyYWluPigpO1xuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgICBpbXBvcnQgTWRTZW5kIGZyb20gJ3N2ZWx0ZS1pY29ucy9tZC9NZFNlbmQuc3ZlbHRlJztcbiAgICBpbXBvcnQgeyBzZWNvbmRCcmFpbiB9IGZyb20gJy4uL3N0b3JlJztcbiAgICBpbXBvcnQgeyBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG4gICAgaW1wb3J0IHsgbWVzc2FnZXMsIHR5cGUgTWVzc2FnZSB9IGZyb20gJy4uL3N0b3JlJztcbiAgICBpbXBvcnQgdHlwZSB7IEtleWJvYXJkRXZlbnRIYW5kbGVyIH0gZnJvbSAnc3ZlbHRlL2VsZW1lbnRzJztcbiAgICBpbXBvcnQgeyBGaWxlU2VsZWN0TW9kYWwgfSBmcm9tICcuLi9tYWluJztcblxuICAgIGV4cG9ydCBsZXQgYXBwO1xuXG4gICAgbGV0IGlucHV0UGxhY2Vob2xkZXIgPSAnQ2hhdCB3aXRoIHlvdXIgc2Vjb25kIEJyYWluLi4uJztcbiAgICBsZXQgbWVzc2FnZVRleHQgPSAnJztcbiAgICBsZXQgaXNQcm9jZXNjY2luZzogYm9vbGVhbjtcblxuICAgIGFzeW5jIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKCkge1xuICAgICAgICBpZiAoaXNQcm9jZXNjY2luZykge1xuICAgICAgICAgICAgbmV3IE5vdGljZSgnUGxlYXNlIHdhaXQgd2hpbGUgeW91ciBTZWNvbmQgQnJhaW4gaXMgdGhpbmtpbmcuLi4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpc1Byb2Nlc2NjaW5nID0gdHJ1ZTtcbiAgICAgICAgLy9UT0RPIGRhcyBpcyBrYWthXG4gICAgICAgIGNvbnN0IHRlc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdC12aWV3LXVzZXItaW5wdXQtZWxlbWVudCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIC8vbWVzc2FnZVRleHQgPSB0ZXN0LnZhbHVlO1xuXG4gICAgICAgIGlmIChtZXNzYWdlVGV4dC50cmltKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAvLyBsZXQgbWVzc2FnZTogTWVzc2FnZSA9IHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiBtZXNzYWdlVGV4dCB9O1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBtZXNzYWdlVGV4dDtcbiAgICAgICAgICAgIG1lc3NhZ2VUZXh0ID0gJyc7XG4gICAgICAgICAgICBtZXNzYWdlcy51cGRhdGUoKG1lc3NhZ2VzKSA9PiBbLi4ubWVzc2FnZXMsIHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiBtZXNzYWdlIH1dKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRtZXNzYWdlcyk7XG4gICAgICAgICAgICBzZWNvbmRCcmFpbi5zdWJzY3JpYmUoYXN5bmMgKHNlY29uZEJyYWluKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgc2Vjb25kQnJhaW4ucnVuUkFHKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMudXBkYXRlKChtZXNzYWdlcykgPT4gWy4uLm1lc3NhZ2VzLCB7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiByZXMgfV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3IE5vdGljZSgnWW91ciBTZWNvbmQgQnJhaW4gZG9lcyBub3QgdW5kZXJzdGFuZCBlbXB0eSBtZXNzYWdlcyEnKTtcbiAgICAgICAgfVxuICAgICAgICBpc1Byb2Nlc2NjaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluamVjdENvbnRleHQoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiBLZXlib2FyZEV2ZW50SGFuZGxlcjxIVE1MSW5wdXRFbGVtZW50PiB7XG4gICAgICAgIGlmIChldmVudC5rZXkgIT09ICdbJykgcmV0dXJuO1xuICAgICAgICBuZXcgRmlsZVNlbGVjdE1vZGFsKGFwcCkub3BlbigpO1xuICAgIH1cbjwvc2NyaXB0PlxuXG48Zm9ybSBvbjpzdWJtaXR8cHJldmVudERlZmF1bHQ9e3NlbmRNZXNzYWdlfSBjbGFzcz1cInN0aWNreSBmbGV4IHctZnVsbCBnYXAtMVwiPlxuICAgIDxpbnB1dCBpZD1cImNoYXQtdmlldy11c2VyLWlucHV0LWVsZW1lbnRcIiB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZmxleC0xXCIgcGxhY2Vob2xkZXI9e2lucHV0UGxhY2Vob2xkZXJ9IGJpbmQ6dmFsdWU9e21lc3NhZ2VUZXh0fSBvbjprZXl1cD17aW5qZWN0Q29udGV4dH0gLz5cbiAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cInB4LTQgcHktMiByb3VuZGVkLXItbWQgaG92ZXI6YmctcHJpbWFyeSB0cmFuc2l0aW9uIGR1cmF0aW9uLTMwMCBlYXNlLWluLW91dFwiPlxuICAgICAgICA8TWRTZW5kIC8+XG4gICAgPC9idXR0b24+XG48L2Zvcm0+XG4iLCJpbXBvcnQgeyBBcHAsIE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG5pbXBvcnQgSW5wdXRDb21wb25lbnQgZnJvbSAnLi4vY29tcG9uZW50cy9JbnB1dC5zdmVsdGUnO1xuXG5leHBvcnQgY2xhc3MgQ2hhdE1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICAgIGNvbXBvbmVudDogSW5wdXRDb21wb25lbnQ7XG5cbiAgICBvblN1Ym1pdDogKHJlc3VsdDogc3RyaW5nKSA9PiB2b2lkO1xuICAgIC8vb25TdWJtaXQ6IChyZXN1bHQ6IHN0cmluZykgPT4gdm9pZFxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IG5ldyBJbnB1dENvbXBvbmVudCh7XG4gICAgICAgICAgICB0YXJnZXQ6IHRoaXMuY29udGVudEVsLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBvbkNsb3NlKCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC4kZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsIjxzY3JpcHQ+XG4gICAgICAgIGltcG9ydCBJY29uQmFzZSBmcm9tICcuLi9jb21wb25lbnRzL0ljb25CYXNlLnN2ZWx0ZSc7XG4gICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8SWNvbkJhc2Ugdmlld0JveD1cIjAgMCAyNCAyNFwiIHsuLi4kJHByb3BzfT5cbiAgICAgICAgICA8cGF0aCBkPVwiTTE2IDFINGMtMS4xIDAtMiAuOS0yIDJ2MTRoMlYzaDEyVjF6bTMgNEg4Yy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDExYzEuMSAwIDItLjkgMi0yVjdjMC0xLjEtLjktMi0yLTJ6bTAgMTZIOFY3aDExdjE0elwiIC8+XG4gICAgICAgIDwvSWNvbkJhc2U+XG4gICAgICAiLCI8c2NyaXB0PlxuICAgICAgICBpbXBvcnQgSWNvbkJhc2UgZnJvbSAnLi4vY29tcG9uZW50cy9JY29uQmFzZS5zdmVsdGUnO1xuICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPEljb25CYXNlIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB7Li4uJCRwcm9wc30+XG4gICAgICAgICAgPHBhdGggZD1cIk00IDZIMnYxNGMwIDEuMS45IDIgMiAyaDE0di0ySDRWNnptMTYtNEg4Yy0xLjEgMC0yIC45LTIgMnYxMmMwIDEuMS45IDIgMiAyaDEyYzEuMSAwIDItLjkgMi0yVjRjMC0xLjEtLjktMi0yLTJ6bS0xIDlIOVY5aDEwdjJ6bS00IDRIOXYtMmg2djJ6bTQtOEg5VjVoMTB2MnpcIiAvPlxuICAgICAgICA8L0ljb25CYXNlPlxuICAgICAgIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgICBpbXBvcnQgeyBtZXNzYWdlcyB9IGZyb20gJy4uL3N0b3JlJztcbiAgICBpbXBvcnQgTWRDb250ZW50Q29weSBmcm9tICdzdmVsdGUtaWNvbnMvbWQvTWRDb250ZW50Q29weS5zdmVsdGUnO1xuICAgIGltcG9ydCBNZExpYnJhcnlCb29rcyBmcm9tICdzdmVsdGUtaWNvbnMvbWQvTWRMaWJyYXJ5Qm9va3Muc3ZlbHRlJztcbiAgICBpbXBvcnQgRWxlY3Ryb24gZnJvbSAnZWxlY3Ryb24nO1xuICAgIGltcG9ydCB0eXBlIHsgTW91c2VFdmVudEhhbmRsZXIgfSBmcm9tICdzdmVsdGUvZWxlbWVudHMnO1xuICAgIGltcG9ydCB7IE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbiAgICBleHBvcnQgbGV0IEFpQnViYmxlQ29sb3I6IHN0cmluZztcbiAgICBleHBvcnQgbGV0IFVzZXJCdWJibGVDb2xvcjogc3RyaW5nO1xuXG4gICAgZnVuY3Rpb24gdG9DbGlwYm9hcmQobWVzc2FnZVRleHQ6IHN0cmluZyk6IE1vdXNlRXZlbnRIYW5kbGVyPEhUTUxCdXR0b25FbGVtZW50PiB7XG4gICAgICAgIGlmICghbWVzc2FnZVRleHQpIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ09ubHkgZm9yIFZhbGlkIE1lc3NhZ2VzISBJbXBsZW1lbnQgdGhhdCB5b3UgbGF6eSBmdWNrIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIEVsZWN0cm9uLmNsaXBib2FyZC53cml0ZVRleHQobWVzc2FnZVRleHQpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJjaGF0LXdpbmRvdyBmbGV4LWdyb3cgdy1mdWxsIG92ZXJmbG93LXNjcm9sbCBib3JkZXItMiBib3JkZXItc29saWQgcm91bmRlZC1tZCBib3JkZXItc2xhdGUtMzAgbWItMSBwLTRcIj5cbiAgICB7I2VhY2ggJG1lc3NhZ2VzIGFzIG1lc3NhZ2UgKG1lc3NhZ2UuY29udGVudCl9XG4gICAgICAgIHsjaWYgbWVzc2FnZS5yb2xlID09PSAndXNlcid9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWVuZCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJwLTIgYnJlYWstd29yZHMgcm91bmRlZC10LW1kIHJvdW5kZWQtYmwtbWQgbWF4LXctWzgwJV0gdGV4dC1zbGF0ZS0wXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiB7VXNlckJ1YmJsZUNvbG9yfTtcIj57bWVzc2FnZS5jb250ZW50fTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ0ZXN0XCIgY2xhc3M9XCJwLTIgYnJlYWstd29yZHMgcm91bmRlZC10LW1kIHJvdW5kZWQtYnItbWQgdy1maXQgbWF4LXctWzgwJV1cIiBzdHlsZT1cImJhY2tncm91bmQ6IHtBaUJ1YmJsZUNvbG9yfTtcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNsYXRlLTBcIj57bWVzc2FnZS5jb250ZW50fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1wiIG9uOmNsaWNrfHByZXZlbnREZWZhdWx0PXt0b0NsaXBib2FyZChtZXNzYWdlLmNvbnRlbnQpfT48TWRDb250ZW50Q29weSAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XCIgb246Y2xpY2t8cHJldmVudERlZmF1bHQ9e3RvQ2xpcGJvYXJkKG1lc3NhZ2UuY29udGV4dCl9PjxNZExpYnJhcnlCb29rcyAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIHsvaWZ9XG4gICAgey9lYWNofVxuPC9kaXY+XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICAgIGV4cG9ydCBsZXQgQWlCdWJibGVDb2xvcjogc3RyaW5nO1xuICAgIGV4cG9ydCBsZXQgVXNlckJ1YmJsZUNvbG9yOiBzdHJpbmc7XG4gICAgZXhwb3J0IGxldCBhcHA7XG5cbiAgICBpbXBvcnQgSW5wdXRDb21wb25lbnQgZnJvbSAnLi9JbnB1dC5zdmVsdGUnO1xuICAgIGltcG9ydCBNZXNzYWdlc0NvbXBvbmVudCBmcm9tICcuL01lc3NhZ2VzLnN2ZWx0ZSc7XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImgtZnVsbCBmbGV4IGZsZXgtY29sIC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXJcIj5cbiAgICA8aDE+U2Vjb25kIEJyYWluIEludGVyZmFjZTwvaDE+XG4gICAgPE1lc3NhZ2VzQ29tcG9uZW50IHtBaUJ1YmJsZUNvbG9yfSB7VXNlckJ1YmJsZUNvbG9yfSAvPlxuICAgIDxJbnB1dENvbXBvbmVudCB7YXBwfSAvPlxuPC9kaXY+XG4iLCJpbXBvcnQgeyBBcHAsIEl0ZW1WaWV3LCBNYXJrZG93blJlbmRlcmVyLCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG5pbXBvcnQgQ2hhdFZpZXdDb21wb25lbnQgZnJvbSAnLi4vY29tcG9uZW50cy9DaGF0Vmlldy5zdmVsdGUnO1xuXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0NIQVQgPSAnY2hhdC12aWV3JztcblxuZXhwb3J0IGNsYXNzIENoYXRWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuICAgIGNvbXBvbmVudDogQ2hhdFZpZXdDb21wb25lbnQ7XG4gICAgQWlCdWJibGVDb2xvcjogc3RyaW5nO1xuICAgIFVzZXJCdWJibGVDb2xvcjogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIGxlYWY6IFdvcmtzcGFjZUxlYWYsIEFpQnViYmxlQ29sb3I6IHN0cmluZywgVXNlckJ1YmJsZUNvbG9yOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobGVhZik7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLkFpQnViYmxlQ29sb3IgPSBBaUJ1YmJsZUNvbG9yO1xuICAgICAgICB0aGlzLlVzZXJCdWJibGVDb2xvciA9IFVzZXJCdWJibGVDb2xvcjtcbiAgICAgICAgdGhpcy5pY29uID0gJ21lc3NhZ2Utc3F1YXJlJztcbiAgICB9XG5cbiAgICBnZXRWaWV3VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFZJRVdfVFlQRV9DSEFUO1xuICAgIH1cblxuICAgIGdldERpc3BsYXlUZXh0KCkge1xuICAgICAgICByZXR1cm4gJ0NoYXQgdmlldyc7XG4gICAgfVxuXG4gICAgYXN5bmMgb25PcGVuKCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IG5ldyBDaGF0Vmlld0NvbXBvbmVudCh7XG4gICAgICAgICAgICB0YXJnZXQ6IHRoaXMuY29udGVudEVsLFxuICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICBhcHA6IHRoaXMuYXBwLFxuICAgICAgICAgICAgICAgIEFpQnViYmxlQ29sb3I6IHRoaXMuQWlCdWJibGVDb2xvcixcbiAgICAgICAgICAgICAgICBVc2VyQnViYmxlQ29sb3I6IHRoaXMuVXNlckJ1YmJsZUNvbG9yLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgb25DbG9zZSgpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQuJGRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNlYXJjaENvbXBvbmVudCwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MgfSBmcm9tICcuLi9tYWluJztcbmltcG9ydCB0eXBlIEJyYWluUGx1Z2luIGZyb20gJy4uL21haW4nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICAgIHBsdWdpbjogQnJhaW5QbHVnaW47XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBCcmFpblBsdWdpbikge1xuICAgICAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgICAgIGxldCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnQUkgQ29sb3InKVxuICAgICAgICAgICAgLmFkZEV4dHJhQnV0dG9uKCh2YWx1ZSkgPT5cbiAgICAgICAgICAgICAgICB2YWx1ZS5zZXRJY29uKCdyZXNldCcpLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5kYXRhLkFJY29sb3IgPSBERUZBVUxUX1NFVFRJTkdTLkFJY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuYWRkQ29sb3JQaWNrZXIoKGNvbG9yKSA9PlxuICAgICAgICAgICAgICAgIGNvbG9yLnNldFZhbHVlKHRoaXMucGx1Z2luLmRhdGEuQUljb2xvcikub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmRhdGEuQUljb2xvciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdVc2VyIENvbG9yJylcbiAgICAgICAgICAgIC5hZGRFeHRyYUJ1dHRvbigodmFsdWUpID0+IHZhbHVlLnNldEljb24oJ3Jlc2V0Jykub25DbGljaygoKSA9PiAodGhpcy5wbHVnaW4uZGF0YS5Vc2VyQ29sb3IgPSBERUZBVUxUX1NFVFRJTkdTLlVzZXJDb2xvcikpKVxuICAgICAgICAgICAgLmFkZENvbG9yUGlja2VyKChjb2xvcikgPT5cbiAgICAgICAgICAgICAgICBjb2xvci5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5kYXRhLlVzZXJDb2xvcikub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmRhdGEuVXNlckNvbG9yID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKCdMTE0nKS5hZGREcm9wZG93bigodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbnMoe1xuICAgICAgICAgICAgICAgICAgICBMTGFtYTogJ0xMYW1hJyxcbiAgICAgICAgICAgICAgICAgICAgQW50aHJvcGljOiAnQW50aHJvcGljJyxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5kYXRhLmxsbSlcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmRhdGEubGxtID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZSgnT3BlbkFJIEFQSSBLZXknKS5hZGRUZXh0KCh0ZXh0KSA9PlxuICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignT3BlbkFJIEFQSSBLZXknKVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5kYXRhLnNlY29uZEJyYWluLm9wZW5BSUFwaUtleSB8fCAnJylcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmRhdGEuc2Vjb25kQnJhaW4ub3BlbkFJQXBpS2V5ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0ICcuL3N0eWxlcy5jc3MnO1xuaW1wb3J0IHsgQ2hhdE1vZGFsIH0gZnJvbSAnLi92aWV3cy9DaGF0TW9kYWwnO1xuaW1wb3J0IHsgQ2hhdFZpZXcsIFZJRVdfVFlQRV9DSEFUIH0gZnJvbSAnLi92aWV3cy9DaGF0Vmlldyc7XG5pbXBvcnQgU2V0dGluZ3NUYWIgZnJvbSAnLi92aWV3cy9TZXR0aW5ncyc7XG5pbXBvcnQgeyBGdXp6eVN1Z2dlc3RNb2RhbCwgVEZpbGUsIEFwcCwgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgc2Vjb25kQnJhaW4gfSBmcm9tICcuL3N0b3JlJztcbmltcG9ydCB7IFNlY29uZEJyYWluLCBvYnNpZGlhbkRvY3VtZW50TG9hZGVyLCB0eXBlIFNlY29uZEJyYWluRGF0YSB9IGZyb20gJ3NlY29uZC1icmFpbi10cyc7XG5cbmludGVyZmFjZSBQbHVnaW5EYXRhIHtcbiAgICBBSWNvbG9yOiBzdHJpbmc7XG4gICAgVXNlckNvbG9yOiBzdHJpbmc7XG4gICAgbGxtOiBzdHJpbmc7XG4gICAgc2Vjb25kQnJhaW46IFNlY29uZEJyYWluRGF0YTtcbn1cblxuY29uc3QgZ2V0VGhlbWVDb2xvciA9IChuYW1lOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpO1xufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFBhcnRpYWw8UGx1Z2luRGF0YT4gPSB7XG4gICAgQUljb2xvcjogZ2V0VGhlbWVDb2xvcignLS1jb2xvci1hY2NlbnQnKSxcbiAgICBVc2VyQ29sb3I6IGdldFRoZW1lQ29sb3IoJy0tY29sb3ItYmFzZS00MCcpLFxuICAgIHNlY29uZEJyYWluOiB7XG4gICAgICAgIG9wZW5BSUFwaUtleTogJ1lvdXIga2V5JyxcbiAgICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW5QbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICAgIGRhdGE6IFBsdWdpbkRhdGE7XG5cbiAgICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuZGF0YSk7XG4gICAgfVxuXG4gICAgYXN5bmMgb25sb2FkKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuICAgICAgICBzZWNvbmRCcmFpbi5zZXQoYXdhaXQgU2Vjb25kQnJhaW4ubG9hZEZyb21EYXRhKHRoaXMuZGF0YS5zZWNvbmRCcmFpbikpO1xuXG4gICAgICAgIHRoaXMuYXBwLnZhdWx0Lm9uKCdtb2RpZnknLCAoZmlsZTogVEFic3RyYWN0RmlsZSkgPT4ge1xuICAgICAgICAgICAgc2Vjb25kQnJhaW4uc3Vic2NyaWJlKGFzeW5jIChzZWNvbmRCcmFpbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGaWxlIG1vZGlmaWVkLCByZWxvYWRpbmcnLCBmaWxlLmJhc2VuYW1lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb2NzID0gYXdhaXQgb2JzaWRpYW5Eb2N1bWVudExvYWRlcih0aGlzLmFwcCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgc2Vjb25kQnJhaW4uZW1iZWREb2N1bWVudHMoZG9jcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNlY29uZEJyYWluLnZlY3RvclN0b3JlSnNvbiA9IGF3YWl0IHNlY29uZEJyYWluLmdldFZlY3RvclN0b3JlSnNvbigpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlclZpZXcoVklFV19UWVBFX0NIQVQsIChsZWFmKSA9PiBuZXcgQ2hhdFZpZXcoYXBwLCBsZWFmLCB0aGlzLmRhdGEuQUljb2xvciwgdGhpcy5kYXRhLlVzZXJDb2xvcikpO1xuXG4gICAgICAgIHRoaXMuYWRkUmliYm9uSWNvbignYnJhaW4tY2lyY3VpdCcsICdTbWFydCBTZWNvbmQgQnJhaW4nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlVmlldygpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiAnY2hhdC1tb2RhbCcsXG4gICAgICAgICAgICBuYW1lOiAnQ2hhdCB3aXRoIEFJJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbmV3IENoYXRNb2RhbCh0aGlzLmFwcCkub3BlbigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiAnZmluZC1maWxlcycsXG4gICAgICAgICAgICBuYW1lOiAnZmYnLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBuZXcgRmlsZVNlbGVjdE1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbnVubG9hZCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3VubG9hZGluZyBwbHVnaW4nKTtcbiAgICB9XG5cbiAgICBhc3luYyBhY3RpdmF0ZVZpZXcoKSB7XG4gICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5kZXRhY2hMZWF2ZXNPZlR5cGUoVklFV19UWVBFX0NIQVQpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpLnNldFZpZXdTdGF0ZSh7XG4gICAgICAgICAgICB0eXBlOiBWSUVXX1RZUEVfQ0hBVCxcbiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLnJldmVhbExlYWYodGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfQ0hBVClbMF0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbGVTZWxlY3RNb2RhbCBleHRlbmRzIEZ1enp5U3VnZ2VzdE1vZGFsPFRGaWxlPiB7XG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgICAgIHRoaXMuc2V0UGxhY2Vob2xkZXIoJ1R5cGUgdGhlIG5hbWUgb2YgYSBmaWxlLi4uJyk7XG4gICAgfVxuICAgIGdldEl0ZW1zKCk6IFRGaWxlW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpLnNvcnQoKGEsIGIpID0+IGEuYmFzZW5hbWUubG9jYWxlQ29tcGFyZShiLmJhc2VuYW1lKSk7XG4gICAgfVxuICAgIGdldEl0ZW1UZXh0KGl0ZW06IFRGaWxlKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0uYmFzZW5hbWU7XG4gICAgfVxuICAgIG9uQ2hvb3NlSXRlbShmaWxlOiBURmlsZSkge1xuICAgICAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXQtdmlldy11c2VyLWlucHV0LWVsZW1lbnQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICBlbGVtLnZhbHVlID0gZWxlbS52YWx1ZSArIGBbJHtmaWxlLmJhc2VuYW1lfV1dYDtcbiAgICB9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0UGFyc2VkVHlwZSA9IGV4cG9ydHMuWm9kUGFyc2VkVHlwZSA9IGV4cG9ydHMub2JqZWN0VXRpbCA9IGV4cG9ydHMudXRpbCA9IHZvaWQgMDtcbnZhciB1dGlsO1xuKGZ1bmN0aW9uICh1dGlsKSB7XG4gICAgdXRpbC5hc3NlcnRFcXVhbCA9ICh2YWwpID0+IHZhbDtcbiAgICBmdW5jdGlvbiBhc3NlcnRJcyhfYXJnKSB7IH1cbiAgICB1dGlsLmFzc2VydElzID0gYXNzZXJ0SXM7XG4gICAgZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3gpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgfVxuICAgIHV0aWwuYXNzZXJ0TmV2ZXIgPSBhc3NlcnROZXZlcjtcbiAgICB1dGlsLmFycmF5VG9FbnVtID0gKGl0ZW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIG9ialtpdGVtXSA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICAgIHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzID0gKG9iaikgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZEtleXMgPSB1dGlsLm9iamVjdEtleXMob2JqKS5maWx0ZXIoKGspID0+IHR5cGVvZiBvYmpbb2JqW2tdXSAhPT0gXCJudW1iZXJcIik7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkID0ge307XG4gICAgICAgIGZvciAoY29uc3QgayBvZiB2YWxpZEtleXMpIHtcbiAgICAgICAgICAgIGZpbHRlcmVkW2tdID0gb2JqW2tdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdFZhbHVlcyhmaWx0ZXJlZCk7XG4gICAgfTtcbiAgICB1dGlsLm9iamVjdFZhbHVlcyA9IChvYmopID0+IHtcbiAgICAgICAgcmV0dXJuIHV0aWwub2JqZWN0S2V5cyhvYmopLm1hcChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9ialtlXTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB1dGlsLm9iamVjdEtleXMgPSB0eXBlb2YgT2JqZWN0LmtleXMgPT09IFwiZnVuY3Rpb25cIiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgPyAob2JqKSA9PiBPYmplY3Qua2V5cyhvYmopIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYmFuL2JhblxuICAgICAgICA6IChvYmplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICB9O1xuICAgIHV0aWwuZmluZCA9IChhcnIsIGNoZWNrZXIpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFycikge1xuICAgICAgICAgICAgaWYgKGNoZWNrZXIoaXRlbSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHV0aWwuaXNJbnRlZ2VyID0gdHlwZW9mIE51bWJlci5pc0ludGVnZXIgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICA/ICh2YWwpID0+IE51bWJlci5pc0ludGVnZXIodmFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgOiAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiICYmIGlzRmluaXRlKHZhbCkgJiYgTWF0aC5mbG9vcih2YWwpID09PSB2YWw7XG4gICAgZnVuY3Rpb24gam9pblZhbHVlcyhhcnJheSwgc2VwYXJhdG9yID0gXCIgfCBcIikge1xuICAgICAgICByZXR1cm4gYXJyYXlcbiAgICAgICAgICAgIC5tYXAoKHZhbCkgPT4gKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgPyBgJyR7dmFsfSdgIDogdmFsKSlcbiAgICAgICAgICAgIC5qb2luKHNlcGFyYXRvcik7XG4gICAgfVxuICAgIHV0aWwuam9pblZhbHVlcyA9IGpvaW5WYWx1ZXM7XG4gICAgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIgPSAoXywgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG59KSh1dGlsID0gZXhwb3J0cy51dGlsIHx8IChleHBvcnRzLnV0aWwgPSB7fSkpO1xudmFyIG9iamVjdFV0aWw7XG4oZnVuY3Rpb24gKG9iamVjdFV0aWwpIHtcbiAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzID0gKGZpcnN0LCBzZWNvbmQpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmZpcnN0LFxuICAgICAgICAgICAgLi4uc2Vjb25kLCAvLyBzZWNvbmQgb3ZlcndyaXRlcyBmaXJzdFxuICAgICAgICB9O1xuICAgIH07XG59KShvYmplY3RVdGlsID0gZXhwb3J0cy5vYmplY3RVdGlsIHx8IChleHBvcnRzLm9iamVjdFV0aWwgPSB7fSkpO1xuZXhwb3J0cy5ab2RQYXJzZWRUeXBlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJzdHJpbmdcIixcbiAgICBcIm5hblwiLFxuICAgIFwibnVtYmVyXCIsXG4gICAgXCJpbnRlZ2VyXCIsXG4gICAgXCJmbG9hdFwiLFxuICAgIFwiYm9vbGVhblwiLFxuICAgIFwiZGF0ZVwiLFxuICAgIFwiYmlnaW50XCIsXG4gICAgXCJzeW1ib2xcIixcbiAgICBcImZ1bmN0aW9uXCIsXG4gICAgXCJ1bmRlZmluZWRcIixcbiAgICBcIm51bGxcIixcbiAgICBcImFycmF5XCIsXG4gICAgXCJvYmplY3RcIixcbiAgICBcInVua25vd25cIixcbiAgICBcInByb21pc2VcIixcbiAgICBcInZvaWRcIixcbiAgICBcIm5ldmVyXCIsXG4gICAgXCJtYXBcIixcbiAgICBcInNldFwiLFxuXSk7XG5jb25zdCBnZXRQYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUudW5kZWZpbmVkO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLnN0cmluZztcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIGlzTmFOKGRhdGEpID8gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLm5hbiA6IGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5udW1iZXI7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLmJvb2xlYW47XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5mdW5jdGlvbjtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5iaWdpbnQ7XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuc3ltYm9sO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuYXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUubnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnRoZW4gJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZGF0YS50aGVuID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICBkYXRhLmNhdGNoICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUucHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgTWFwICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLm1hcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgU2V0ICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuZGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUub2JqZWN0O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS51bmtub3duO1xuICAgIH1cbn07XG5leHBvcnRzLmdldFBhcnNlZFR5cGUgPSBnZXRQYXJzZWRUeXBlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlpvZEVycm9yID0gZXhwb3J0cy5xdW90ZWxlc3NKc29uID0gZXhwb3J0cy5ab2RJc3N1ZUNvZGUgPSB2b2lkIDA7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi9oZWxwZXJzL3V0aWxcIik7XG5leHBvcnRzLlpvZElzc3VlQ29kZSA9IHV0aWxfMS51dGlsLmFycmF5VG9FbnVtKFtcbiAgICBcImludmFsaWRfdHlwZVwiLFxuICAgIFwiaW52YWxpZF9saXRlcmFsXCIsXG4gICAgXCJjdXN0b21cIixcbiAgICBcImludmFsaWRfdW5pb25cIixcbiAgICBcImludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvclwiLFxuICAgIFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIsXG4gICAgXCJ1bnJlY29nbml6ZWRfa2V5c1wiLFxuICAgIFwiaW52YWxpZF9hcmd1bWVudHNcIixcbiAgICBcImludmFsaWRfcmV0dXJuX3R5cGVcIixcbiAgICBcImludmFsaWRfZGF0ZVwiLFxuICAgIFwiaW52YWxpZF9zdHJpbmdcIixcbiAgICBcInRvb19zbWFsbFwiLFxuICAgIFwidG9vX2JpZ1wiLFxuICAgIFwiaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXNcIixcbiAgICBcIm5vdF9tdWx0aXBsZV9vZlwiLFxuICAgIFwibm90X2Zpbml0ZVwiLFxuXSk7XG5jb25zdCBxdW90ZWxlc3NKc29uID0gKG9iaikgPT4ge1xuICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpO1xuICAgIHJldHVybiBqc29uLnJlcGxhY2UoL1wiKFteXCJdKylcIjovZywgXCIkMTpcIik7XG59O1xuZXhwb3J0cy5xdW90ZWxlc3NKc29uID0gcXVvdGVsZXNzSnNvbjtcbmNsYXNzIFpvZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGlzc3Vlcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlzc3VlcyA9IFtdO1xuICAgICAgICB0aGlzLmFkZElzc3VlID0gKHN1YikgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc3N1ZXMgPSBbLi4udGhpcy5pc3N1ZXMsIHN1Yl07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWRkSXNzdWVzID0gKHN1YnMgPSBbXSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc3N1ZXMgPSBbLi4udGhpcy5pc3N1ZXMsIC4uLnN1YnNdO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhY3R1YWxQcm90byA9IG5ldy50YXJnZXQucHJvdG90eXBlO1xuICAgICAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYmFuL2JhblxuICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIGFjdHVhbFByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX19wcm90b19fID0gYWN0dWFsUHJvdG87XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gXCJab2RFcnJvclwiO1xuICAgICAgICB0aGlzLmlzc3VlcyA9IGlzc3VlcztcbiAgICB9XG4gICAgZ2V0IGVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNzdWVzO1xuICAgIH1cbiAgICBmb3JtYXQoX21hcHBlcikge1xuICAgICAgICBjb25zdCBtYXBwZXIgPSBfbWFwcGVyIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoaXNzdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNzdWUubWVzc2FnZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNvbnN0IGZpZWxkRXJyb3JzID0geyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICBjb25zdCBwcm9jZXNzRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXNzdWUgb2YgZXJyb3IuaXNzdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF91bmlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlLnVuaW9uRXJyb3JzLm1hcChwcm9jZXNzRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfcmV0dXJuX3R5cGVcIikge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoaXNzdWUucmV0dXJuVHlwZUVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX2FyZ3VtZW50c1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5hcmd1bWVudHNFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJyID0gZmllbGRFcnJvcnM7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBpc3N1ZS5wYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSBpc3N1ZS5wYXRoW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSBpID09PSBpc3N1ZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiBlbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIGlmICh0eXBlb2YgZWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGNvbnN0IGVycm9yQXJyYXk6IGFueSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZXJyb3JBcnJheS5fZXJyb3JzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IGVycm9yQXJyYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0uX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyciA9IGN1cnJbZWxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBwcm9jZXNzRXJyb3IodGhpcyk7XG4gICAgICAgIHJldHVybiBmaWVsZEVycm9ycztcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2U7XG4gICAgfVxuICAgIGdldCBtZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5pc3N1ZXMsIHV0aWxfMS51dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgfVxuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBmbGF0dGVuKG1hcHBlciA9IChpc3N1ZSkgPT4gaXNzdWUubWVzc2FnZSkge1xuICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IHt9O1xuICAgICAgICBjb25zdCBmb3JtRXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgc3ViIG9mIHRoaXMuaXNzdWVzKSB7XG4gICAgICAgICAgICBpZiAoc3ViLnBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXSA9IGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXSB8fCBbXTtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0ucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3JtRXJyb3JzLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGZvcm1FcnJvcnMsIGZpZWxkRXJyb3JzIH07XG4gICAgfVxuICAgIGdldCBmb3JtRXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mbGF0dGVuKCk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RFcnJvciA9IFpvZEVycm9yO1xuWm9kRXJyb3IuY3JlYXRlID0gKGlzc3VlcykgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKGlzc3Vlcyk7XG4gICAgcmV0dXJuIGVycm9yO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdXRpbFwiKTtcbmNvbnN0IFpvZEVycm9yXzEgPSByZXF1aXJlKFwiLi4vWm9kRXJyb3JcIik7XG5jb25zdCBlcnJvck1hcCA9IChpc3N1ZSwgX2N0eCkgPT4ge1xuICAgIGxldCBtZXNzYWdlO1xuICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZTpcbiAgICAgICAgICAgIGlmIChpc3N1ZS5yZWNlaXZlZCA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiUmVxdWlyZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRXhwZWN0ZWQgJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2VpdmVkICR7aXNzdWUucmVjZWl2ZWR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBsaXRlcmFsIHZhbHVlLCBleHBlY3RlZCAke0pTT04uc3RyaW5naWZ5KGlzc3VlLmV4cGVjdGVkLCB1dGlsXzEudXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5czpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgVW5yZWNvZ25pemVkIGtleShzKSBpbiBvYmplY3Q6ICR7dXRpbF8xLnV0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvcjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBkaXNjcmltaW5hdG9yIHZhbHVlLiBFeHBlY3RlZCAke3V0aWxfMS51dGlsLmpvaW5WYWx1ZXMoaXNzdWUub3B0aW9ucyl9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBlbnVtIHZhbHVlLiBFeHBlY3RlZCAke3V0aWxfMS51dGlsLmpvaW5WYWx1ZXMoaXNzdWUub3B0aW9ucyl9LCByZWNlaXZlZCAnJHtpc3N1ZS5yZWNlaXZlZH0nYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfYXJndW1lbnRzOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGZ1bmN0aW9uIGFyZ3VtZW50c2A7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGZ1bmN0aW9uIHJldHVybiB0eXBlYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBkYXRlYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nOlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpc3N1ZS52YWxpZGF0aW9uID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiaW5jbHVkZXNcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBpbmNsdWRlIFwiJHtpc3N1ZS52YWxpZGF0aW9uLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpc3N1ZS52YWxpZGF0aW9uLnBvc2l0aW9uID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYCR7bWVzc2FnZX0gYXQgb25lIG9yIG1vcmUgcG9zaXRpb25zIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAke2lzc3VlLnZhbGlkYXRpb24ucG9zaXRpb259YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChcInN0YXJ0c1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBzdGFydCB3aXRoIFwiJHtpc3N1ZS52YWxpZGF0aW9uLnN0YXJ0c1dpdGh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChcImVuZHNXaXRoXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3QgZW5kIHdpdGggXCIke2lzc3VlLnZhbGlkYXRpb24uZW5kc1dpdGh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXRpbF8xLnV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUudmFsaWRhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudmFsaWRhdGlvbiAhPT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkICR7aXNzdWUudmFsaWRhdGlvbn1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gXCJleGFjdGx5XCIgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbGVhc3RgIDogYG1vcmUgdGhhbmB9ICR7aXNzdWUubWluaW11bX0gZWxlbWVudChzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gXCJleGFjdGx5XCIgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbGVhc3RgIDogYG92ZXJgfSAke2lzc3VlLm1pbmltdW19IGNoYXJhY3RlcihzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgJHtpc3N1ZS5leGFjdFxuICAgICAgICAgICAgICAgICAgICA/IGBleGFjdGx5IGVxdWFsIHRvIGBcbiAgICAgICAgICAgICAgICAgICAgOiBpc3N1ZS5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgPyBgZXhhY3RseSBlcXVhbCB0byBgXG4gICAgICAgICAgICAgICAgICAgIDogaXNzdWUuaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgZ3JlYXRlciB0aGFuIGB9JHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWluaW11bSkpfWA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZzpcbiAgICAgICAgICAgIGlmIChpc3N1ZS50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBBcnJheSBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBtb3N0YCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19IGVsZW1lbnQocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFN0cmluZyBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBtb3N0YCA6IGB1bmRlcmB9ICR7aXNzdWUubWF4aW11bX0gY2hhcmFjdGVyKHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0XG4gICAgICAgICAgICAgICAgICAgID8gYGV4YWN0bHlgXG4gICAgICAgICAgICAgICAgICAgIDogaXNzdWUuaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGBsZXNzIHRoYW4gb3IgZXF1YWwgdG9gXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBCaWdJbnQgbXVzdCBiZSAke2lzc3VlLmV4YWN0XG4gICAgICAgICAgICAgICAgICAgID8gYGV4YWN0bHlgXG4gICAgICAgICAgICAgICAgICAgIDogaXNzdWUuaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGBsZXNzIHRoYW4gb3IgZXF1YWwgdG9gXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgPyBgZXhhY3RseWBcbiAgICAgICAgICAgICAgICAgICAgOiBpc3N1ZS5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYHNtYWxsZXIgdGhhbiBvciBlcXVhbCB0b2BcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYHNtYWxsZXIgdGhhbmB9ICR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1heGltdW0pKX1gO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmN1c3RvbTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlczpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW50ZXJzZWN0aW9uIHJlc3VsdHMgY291bGQgbm90IGJlIG1lcmdlZGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2Y6XG4gICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgJHtpc3N1ZS5tdWx0aXBsZU9mfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5ub3RfZmluaXRlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiTnVtYmVyIG11c3QgYmUgZmluaXRlXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBfY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgIHV0aWxfMS51dGlsLmFzc2VydE5ldmVyKGlzc3VlKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IGVycm9yTWFwO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldEVycm9yTWFwID0gZXhwb3J0cy5zZXRFcnJvck1hcCA9IGV4cG9ydHMuZGVmYXVsdEVycm9yTWFwID0gdm9pZCAwO1xuY29uc3QgZW5fMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9sb2NhbGVzL2VuXCIpKTtcbmV4cG9ydHMuZGVmYXVsdEVycm9yTWFwID0gZW5fMS5kZWZhdWx0O1xubGV0IG92ZXJyaWRlRXJyb3JNYXAgPSBlbl8xLmRlZmF1bHQ7XG5mdW5jdGlvbiBzZXRFcnJvck1hcChtYXApIHtcbiAgICBvdmVycmlkZUVycm9yTWFwID0gbWFwO1xufVxuZXhwb3J0cy5zZXRFcnJvck1hcCA9IHNldEVycm9yTWFwO1xuZnVuY3Rpb24gZ2V0RXJyb3JNYXAoKSB7XG4gICAgcmV0dXJuIG92ZXJyaWRlRXJyb3JNYXA7XG59XG5leHBvcnRzLmdldEVycm9yTWFwID0gZ2V0RXJyb3JNYXA7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNBc3luYyA9IGV4cG9ydHMuaXNWYWxpZCA9IGV4cG9ydHMuaXNEaXJ0eSA9IGV4cG9ydHMuaXNBYm9ydGVkID0gZXhwb3J0cy5PSyA9IGV4cG9ydHMuRElSVFkgPSBleHBvcnRzLklOVkFMSUQgPSBleHBvcnRzLlBhcnNlU3RhdHVzID0gZXhwb3J0cy5hZGRJc3N1ZVRvQ29udGV4dCA9IGV4cG9ydHMuRU1QVFlfUEFUSCA9IGV4cG9ydHMubWFrZUlzc3VlID0gdm9pZCAwO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi4vZXJyb3JzXCIpO1xuY29uc3QgZW5fMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vbG9jYWxlcy9lblwiKSk7XG5jb25zdCBtYWtlSXNzdWUgPSAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBwYXRoLCBlcnJvck1hcHMsIGlzc3VlRGF0YSB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IGZ1bGxQYXRoID0gWy4uLnBhdGgsIC4uLihpc3N1ZURhdGEucGF0aCB8fCBbXSldO1xuICAgIGNvbnN0IGZ1bGxJc3N1ZSA9IHtcbiAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICB9O1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBcIlwiO1xuICAgIGNvbnN0IG1hcHMgPSBlcnJvck1hcHNcbiAgICAgICAgLmZpbHRlcigobSkgPT4gISFtKVxuICAgICAgICAuc2xpY2UoKVxuICAgICAgICAucmV2ZXJzZSgpO1xuICAgIGZvciAoY29uc3QgbWFwIG9mIG1hcHMpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gbWFwKGZ1bGxJc3N1ZSwgeyBkYXRhLCBkZWZhdWx0RXJyb3I6IGVycm9yTWVzc2FnZSB9KS5tZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICBtZXNzYWdlOiBpc3N1ZURhdGEubWVzc2FnZSB8fCBlcnJvck1lc3NhZ2UsXG4gICAgfTtcbn07XG5leHBvcnRzLm1ha2VJc3N1ZSA9IG1ha2VJc3N1ZTtcbmV4cG9ydHMuRU1QVFlfUEFUSCA9IFtdO1xuZnVuY3Rpb24gYWRkSXNzdWVUb0NvbnRleHQoY3R4LCBpc3N1ZURhdGEpIHtcbiAgICBjb25zdCBpc3N1ZSA9ICgwLCBleHBvcnRzLm1ha2VJc3N1ZSkoe1xuICAgICAgICBpc3N1ZURhdGE6IGlzc3VlRGF0YSxcbiAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgICAgICAgKDAsIGVycm9yc18xLmdldEVycm9yTWFwKSgpLFxuICAgICAgICAgICAgZW5fMS5kZWZhdWx0LCAvLyB0aGVuIGdsb2JhbCBkZWZhdWx0IG1hcFxuICAgICAgICBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICB9KTtcbiAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKGlzc3VlKTtcbn1cbmV4cG9ydHMuYWRkSXNzdWVUb0NvbnRleHQgPSBhZGRJc3N1ZVRvQ29udGV4dDtcbmNsYXNzIFBhcnNlU3RhdHVzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IFwidmFsaWRcIjtcbiAgICB9XG4gICAgZGlydHkoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlID09PSBcInZhbGlkXCIpXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJkaXJ0eVwiO1xuICAgIH1cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgIT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiYWJvcnRlZFwiO1xuICAgIH1cbiAgICBzdGF0aWMgbWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpIHtcbiAgICAgICAgY29uc3QgYXJyYXlWYWx1ZSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHMgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5JTlZBTElEO1xuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBhcnJheVZhbHVlLnB1c2gocy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBhcnJheVZhbHVlIH07XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBtZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpIHtcbiAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgc3luY1BhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtleTogYXdhaXQgcGFpci5rZXksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGF3YWl0IHBhaXIudmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IGZpbmFsT2JqZWN0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgY29uc3QgeyBrZXksIHZhbHVlIH0gPSBwYWlyO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLklOVkFMSUQ7XG4gICAgICAgICAgICBpZiAodmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5JTlZBTElEO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmIChrZXkudmFsdWUgIT09IFwiX19wcm90b19fXCIgJiZcbiAgICAgICAgICAgICAgICAodHlwZW9mIHZhbHVlLnZhbHVlICE9PSBcInVuZGVmaW5lZFwiIHx8IHBhaXIuYWx3YXlzU2V0KSkge1xuICAgICAgICAgICAgICAgIGZpbmFsT2JqZWN0W2tleS52YWx1ZV0gPSB2YWx1ZS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsT2JqZWN0IH07XG4gICAgfVxufVxuZXhwb3J0cy5QYXJzZVN0YXR1cyA9IFBhcnNlU3RhdHVzO1xuZXhwb3J0cy5JTlZBTElEID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgc3RhdHVzOiBcImFib3J0ZWRcIixcbn0pO1xuY29uc3QgRElSVFkgPSAodmFsdWUpID0+ICh7IHN0YXR1czogXCJkaXJ0eVwiLCB2YWx1ZSB9KTtcbmV4cG9ydHMuRElSVFkgPSBESVJUWTtcbmNvbnN0IE9LID0gKHZhbHVlKSA9PiAoeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWUgfSk7XG5leHBvcnRzLk9LID0gT0s7XG5jb25zdCBpc0Fib3J0ZWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiO1xuZXhwb3J0cy5pc0Fib3J0ZWQgPSBpc0Fib3J0ZWQ7XG5jb25zdCBpc0RpcnR5ID0gKHgpID0+IHguc3RhdHVzID09PSBcImRpcnR5XCI7XG5leHBvcnRzLmlzRGlydHkgPSBpc0RpcnR5O1xuY29uc3QgaXNWYWxpZCA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJ2YWxpZFwiO1xuZXhwb3J0cy5pc1ZhbGlkID0gaXNWYWxpZDtcbmNvbnN0IGlzQXN5bmMgPSAoeCkgPT4gdHlwZW9mIFByb21pc2UgIT09IFwidW5kZWZpbmVkXCIgJiYgeCBpbnN0YW5jZW9mIFByb21pc2U7XG5leHBvcnRzLmlzQXN5bmMgPSBpc0FzeW5jO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXJyb3JVdGlsID0gdm9pZCAwO1xudmFyIGVycm9yVXRpbDtcbihmdW5jdGlvbiAoZXJyb3JVdGlsKSB7XG4gICAgZXJyb3JVdGlsLmVyclRvT2JqID0gKG1lc3NhZ2UpID0+IHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlIH0gOiBtZXNzYWdlIHx8IHt9O1xuICAgIGVycm9yVXRpbC50b1N0cmluZyA9IChtZXNzYWdlKSA9PiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IG1lc3NhZ2UgOiBtZXNzYWdlID09PSBudWxsIHx8IG1lc3NhZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lc3NhZ2UubWVzc2FnZTtcbn0pKGVycm9yVXRpbCA9IGV4cG9ydHMuZXJyb3JVdGlsIHx8IChleHBvcnRzLmVycm9yVXRpbCA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGF0ZSA9IGV4cG9ydHMuYm9vbGVhbiA9IGV4cG9ydHMuYmlnaW50ID0gZXhwb3J0cy5hcnJheSA9IGV4cG9ydHMuYW55ID0gZXhwb3J0cy5jb2VyY2UgPSBleHBvcnRzLlpvZEZpcnN0UGFydHlUeXBlS2luZCA9IGV4cG9ydHMubGF0ZSA9IGV4cG9ydHMuWm9kU2NoZW1hID0gZXhwb3J0cy5TY2hlbWEgPSBleHBvcnRzLmN1c3RvbSA9IGV4cG9ydHMuWm9kUmVhZG9ubHkgPSBleHBvcnRzLlpvZFBpcGVsaW5lID0gZXhwb3J0cy5ab2RCcmFuZGVkID0gZXhwb3J0cy5CUkFORCA9IGV4cG9ydHMuWm9kTmFOID0gZXhwb3J0cy5ab2RDYXRjaCA9IGV4cG9ydHMuWm9kRGVmYXVsdCA9IGV4cG9ydHMuWm9kTnVsbGFibGUgPSBleHBvcnRzLlpvZE9wdGlvbmFsID0gZXhwb3J0cy5ab2RUcmFuc2Zvcm1lciA9IGV4cG9ydHMuWm9kRWZmZWN0cyA9IGV4cG9ydHMuWm9kUHJvbWlzZSA9IGV4cG9ydHMuWm9kTmF0aXZlRW51bSA9IGV4cG9ydHMuWm9kRW51bSA9IGV4cG9ydHMuWm9kTGl0ZXJhbCA9IGV4cG9ydHMuWm9kTGF6eSA9IGV4cG9ydHMuWm9kRnVuY3Rpb24gPSBleHBvcnRzLlpvZFNldCA9IGV4cG9ydHMuWm9kTWFwID0gZXhwb3J0cy5ab2RSZWNvcmQgPSBleHBvcnRzLlpvZFR1cGxlID0gZXhwb3J0cy5ab2RJbnRlcnNlY3Rpb24gPSBleHBvcnRzLlpvZERpc2NyaW1pbmF0ZWRVbmlvbiA9IGV4cG9ydHMuWm9kVW5pb24gPSBleHBvcnRzLlpvZE9iamVjdCA9IGV4cG9ydHMuWm9kQXJyYXkgPSBleHBvcnRzLlpvZFZvaWQgPSBleHBvcnRzLlpvZE5ldmVyID0gZXhwb3J0cy5ab2RVbmtub3duID0gZXhwb3J0cy5ab2RBbnkgPSBleHBvcnRzLlpvZE51bGwgPSBleHBvcnRzLlpvZFVuZGVmaW5lZCA9IGV4cG9ydHMuWm9kU3ltYm9sID0gZXhwb3J0cy5ab2REYXRlID0gZXhwb3J0cy5ab2RCb29sZWFuID0gZXhwb3J0cy5ab2RCaWdJbnQgPSBleHBvcnRzLlpvZE51bWJlciA9IGV4cG9ydHMuWm9kU3RyaW5nID0gZXhwb3J0cy5ab2RUeXBlID0gdm9pZCAwO1xuZXhwb3J0cy5ORVZFUiA9IGV4cG9ydHMudm9pZCA9IGV4cG9ydHMudW5rbm93biA9IGV4cG9ydHMudW5pb24gPSBleHBvcnRzLnVuZGVmaW5lZCA9IGV4cG9ydHMudHVwbGUgPSBleHBvcnRzLnRyYW5zZm9ybWVyID0gZXhwb3J0cy5zeW1ib2wgPSBleHBvcnRzLnN0cmluZyA9IGV4cG9ydHMuc3RyaWN0T2JqZWN0ID0gZXhwb3J0cy5zZXQgPSBleHBvcnRzLnJlY29yZCA9IGV4cG9ydHMucHJvbWlzZSA9IGV4cG9ydHMucHJlcHJvY2VzcyA9IGV4cG9ydHMucGlwZWxpbmUgPSBleHBvcnRzLm9zdHJpbmcgPSBleHBvcnRzLm9wdGlvbmFsID0gZXhwb3J0cy5vbnVtYmVyID0gZXhwb3J0cy5vYm9vbGVhbiA9IGV4cG9ydHMub2JqZWN0ID0gZXhwb3J0cy5udW1iZXIgPSBleHBvcnRzLm51bGxhYmxlID0gZXhwb3J0cy5udWxsID0gZXhwb3J0cy5uZXZlciA9IGV4cG9ydHMubmF0aXZlRW51bSA9IGV4cG9ydHMubmFuID0gZXhwb3J0cy5tYXAgPSBleHBvcnRzLmxpdGVyYWwgPSBleHBvcnRzLmxhenkgPSBleHBvcnRzLmludGVyc2VjdGlvbiA9IGV4cG9ydHMuaW5zdGFuY2VvZiA9IGV4cG9ydHMuZnVuY3Rpb24gPSBleHBvcnRzLmVudW0gPSBleHBvcnRzLmVmZmVjdCA9IGV4cG9ydHMuZGlzY3JpbWluYXRlZFVuaW9uID0gdm9pZCAwO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi9lcnJvcnNcIik7XG5jb25zdCBlcnJvclV0aWxfMSA9IHJlcXVpcmUoXCIuL2hlbHBlcnMvZXJyb3JVdGlsXCIpO1xuY29uc3QgcGFyc2VVdGlsXzEgPSByZXF1aXJlKFwiLi9oZWxwZXJzL3BhcnNlVXRpbFwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL2hlbHBlcnMvdXRpbFwiKTtcbmNvbnN0IFpvZEVycm9yXzEgPSByZXF1aXJlKFwiLi9ab2RFcnJvclwiKTtcbmNsYXNzIFBhcnNlSW5wdXRMYXp5UGF0aCB7XG4gICAgY29uc3RydWN0b3IocGFyZW50LCB2YWx1ZSwgcGF0aCwga2V5KSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZFBhdGggPSBbXTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuZGF0YSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy5fa2V5ID0ga2V5O1xuICAgIH1cbiAgICBnZXQgcGF0aCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZWRQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2tleSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkUGF0aC5wdXNoKC4uLnRoaXMuX3BhdGgsIC4uLnRoaXMuX2tleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRQYXRoLnB1c2goLi4udGhpcy5fcGF0aCwgdGhpcy5fa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkUGF0aDtcbiAgICB9XG59XG5jb25zdCBoYW5kbGVSZXN1bHQgPSAoY3R4LCByZXN1bHQpID0+IHtcbiAgICBpZiAoKDAsIHBhcnNlVXRpbF8xLmlzVmFsaWQpKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LnZhbHVlIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoIWN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmFsaWRhdGlvbiBmYWlsZWQgYnV0IG5vIGlzc3VlcyBkZXRlY3RlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IoY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZnVuY3Rpb24gcHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGNvbnN0IHsgZXJyb3JNYXAsIGludmFsaWRfdHlwZV9lcnJvciwgcmVxdWlyZWRfZXJyb3IsIGRlc2NyaXB0aW9uIH0gPSBwYXJhbXM7XG4gICAgaWYgKGVycm9yTWFwICYmIChpbnZhbGlkX3R5cGVfZXJyb3IgfHwgcmVxdWlyZWRfZXJyb3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgdXNlIFwiaW52YWxpZF90eXBlX2Vycm9yXCIgb3IgXCJyZXF1aXJlZF9lcnJvclwiIGluIGNvbmp1bmN0aW9uIHdpdGggY3VzdG9tIGVycm9yIG1hcC5gKTtcbiAgICB9XG4gICAgaWYgKGVycm9yTWFwKVxuICAgICAgICByZXR1cm4geyBlcnJvck1hcDogZXJyb3JNYXAsIGRlc2NyaXB0aW9uIH07XG4gICAgY29uc3QgY3VzdG9tTWFwID0gKGlzcywgY3R4KSA9PiB7XG4gICAgICAgIGlmIChpc3MuY29kZSAhPT0gXCJpbnZhbGlkX3R5cGVcIilcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgaWYgKHR5cGVvZiBjdHguZGF0YSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogcmVxdWlyZWRfZXJyb3IgIT09IG51bGwgJiYgcmVxdWlyZWRfZXJyb3IgIT09IHZvaWQgMCA/IHJlcXVpcmVkX2Vycm9yIDogY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IGludmFsaWRfdHlwZV9lcnJvciAhPT0gbnVsbCAmJiBpbnZhbGlkX3R5cGVfZXJyb3IgIT09IHZvaWQgMCA/IGludmFsaWRfdHlwZV9lcnJvciA6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICB9O1xuICAgIHJldHVybiB7IGVycm9yTWFwOiBjdXN0b21NYXAsIGRlc2NyaXB0aW9uIH07XG59XG5jbGFzcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcihkZWYpIHtcbiAgICAgICAgLyoqIEFsaWFzIG9mIHNhZmVQYXJzZUFzeW5jICovXG4gICAgICAgIHRoaXMuc3BhID0gdGhpcy5zYWZlUGFyc2VBc3luYztcbiAgICAgICAgdGhpcy5fZGVmID0gZGVmO1xuICAgICAgICB0aGlzLnBhcnNlID0gdGhpcy5wYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZSA9IHRoaXMuc2FmZVBhcnNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGFyc2VBc3luYyA9IHRoaXMucGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZUFzeW5jID0gdGhpcy5zYWZlUGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc3BhLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lID0gdGhpcy5yZWZpbmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZpbmVtZW50ID0gdGhpcy5yZWZpbmVtZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc3VwZXJSZWZpbmUgPSB0aGlzLnN1cGVyUmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3B0aW9uYWwgPSB0aGlzLm9wdGlvbmFsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGFibGUgPSB0aGlzLm51bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGlzaCA9IHRoaXMubnVsbGlzaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFycmF5ID0gdGhpcy5hcnJheS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb21pc2UgPSB0aGlzLnByb21pc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vciA9IHRoaXMub3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hbmQgPSB0aGlzLmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYnJhbmQgPSB0aGlzLmJyYW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IHRoaXMuZGVmYXVsdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNhdGNoID0gdGhpcy5jYXRjaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlc2NyaWJlID0gdGhpcy5kZXNjcmliZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBpcGUgPSB0aGlzLnBpcGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWFkb25seSA9IHRoaXMucmVhZG9ubHkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc051bGxhYmxlID0gdGhpcy5pc051bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNPcHRpb25hbCA9IHRoaXMuaXNPcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZGVzY3JpcHRpb247XG4gICAgfVxuICAgIF9nZXRUeXBlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiAoMCwgdXRpbF8xLmdldFBhcnNlZFR5cGUpKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBfZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCkge1xuICAgICAgICByZXR1cm4gKGN0eCB8fCB7XG4gICAgICAgICAgICBjb21tb246IGlucHV0LnBhcmVudC5jb21tb24sXG4gICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgcGFyc2VkVHlwZTogKDAsIHV0aWxfMS5nZXRQYXJzZWRUeXBlKShpbnB1dC5kYXRhKSxcbiAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBpbnB1dC5wYXJlbnQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IG5ldyBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cygpLFxuICAgICAgICAgICAgY3R4OiB7XG4gICAgICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgICAgIGRhdGE6IGlucHV0LmRhdGEsXG4gICAgICAgICAgICAgICAgcGFyc2VkVHlwZTogKDAsIHV0aWxfMS5nZXRQYXJzZWRUeXBlKShpbnB1dC5kYXRhKSxcbiAgICAgICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgICAgIHBhdGg6IGlucHV0LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBpbnB1dC5wYXJlbnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfcGFyc2VTeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgaWYgKCgwLCBwYXJzZVV0aWxfMS5pc0FzeW5jKShyZXN1bHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTeW5jaHJvbm91cyBwYXJzZSBlbmNvdW50ZXJlZCBwcm9taXNlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBfcGFyc2VBc3luYyhpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICB9XG4gICAgcGFyc2UoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuc2FmZVBhcnNlKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBzYWZlUGFyc2UoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogKF9hID0gcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmFzeW5jKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5lcnJvck1hcCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLnBhdGgpIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiAoMCwgdXRpbF8xLmdldFBhcnNlZFR5cGUpKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBhc3luYyBzYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLnBhdGgpIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiAoMCwgdXRpbF8xLmdldFBhcnNlZFR5cGUpKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtYXliZUFzeW5jUmVzdWx0ID0gdGhpcy5fcGFyc2UoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0ICgoMCwgcGFyc2VVdGlsXzEuaXNBc3luYykobWF5YmVBc3luY1Jlc3VsdClcbiAgICAgICAgICAgID8gbWF5YmVBc3luY1Jlc3VsdFxuICAgICAgICAgICAgOiBQcm9taXNlLnJlc29sdmUobWF5YmVBc3luY1Jlc3VsdCkpO1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVzdWx0KGN0eCwgcmVzdWx0KTtcbiAgICB9XG4gICAgcmVmaW5lKGNoZWNrLCBtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IGdldElzc3VlUHJvcGVydGllcyA9ICh2YWwpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgbWVzc2FnZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZSh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KCh2YWwsIGN0eCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2hlY2sodmFsKTtcbiAgICAgICAgICAgIGNvbnN0IHNldEVycm9yID0gKCkgPT4gY3R4LmFkZElzc3VlKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5jdXN0b20sXG4gICAgICAgICAgICAgICAgLi4uZ2V0SXNzdWVQcm9wZXJ0aWVzKHZhbCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiByZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHNldEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWZpbmVtZW50KGNoZWNrLCByZWZpbmVtZW50RGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGlmICghY2hlY2sodmFsKSkge1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh0eXBlb2YgcmVmaW5lbWVudERhdGEgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgICAgICAgICA/IHJlZmluZW1lbnREYXRhKHZhbCwgY3R4KVxuICAgICAgICAgICAgICAgICAgICA6IHJlZmluZW1lbnREYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9yZWZpbmVtZW50KHJlZmluZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInJlZmluZW1lbnRcIiwgcmVmaW5lbWVudCB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3VwZXJSZWZpbmUocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudChyZWZpbmVtZW50KTtcbiAgICB9XG4gICAgb3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGlzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVsbGFibGUoKS5vcHRpb25hbCgpO1xuICAgIH1cbiAgICBhcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZEFycmF5LmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBwcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gWm9kUHJvbWlzZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgb3Iob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiBab2RVbmlvbi5jcmVhdGUoW3RoaXMsIG9wdGlvbl0sIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIGFuZChpbmNvbWluZykge1xuICAgICAgICByZXR1cm4gWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZSh0aGlzLCBpbmNvbWluZywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgdHJhbnNmb3JtKHRyYW5zZm9ybSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwidHJhbnNmb3JtXCIsIHRyYW5zZm9ybSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVmYXVsdChkZWYpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlRnVuYyA9IHR5cGVvZiBkZWYgPT09IFwiZnVuY3Rpb25cIiA/IGRlZiA6ICgpID0+IGRlZjtcbiAgICAgICAgcmV0dXJuIG5ldyBab2REZWZhdWx0KHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIGlubmVyVHlwZTogdGhpcyxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlRnVuYyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGJyYW5kKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJyYW5kZWQoe1xuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCcmFuZGVkLFxuICAgICAgICAgICAgdHlwZTogdGhpcyxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoKGRlZikge1xuICAgICAgICBjb25zdCBjYXRjaFZhbHVlRnVuYyA9IHR5cGVvZiBkZWYgPT09IFwiZnVuY3Rpb25cIiA/IGRlZiA6ICgpID0+IGRlZjtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RDYXRjaCh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBpbm5lclR5cGU6IHRoaXMsXG4gICAgICAgICAgICBjYXRjaFZhbHVlOiBjYXRjaFZhbHVlRnVuYyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2gsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZXNjcmliZShkZXNjcmlwdGlvbikge1xuICAgICAgICBjb25zdCBUaGlzID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgcmV0dXJuIG5ldyBUaGlzKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGlwZSh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIFpvZFBpcGVsaW5lLmNyZWF0ZSh0aGlzLCB0YXJnZXQpO1xuICAgIH1cbiAgICByZWFkb25seSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZFJlYWRvbmx5LmNyZWF0ZSh0aGlzKTtcbiAgICB9XG4gICAgaXNPcHRpb25hbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2FmZVBhcnNlKHVuZGVmaW5lZCkuc3VjY2VzcztcbiAgICB9XG4gICAgaXNOdWxsYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2FmZVBhcnNlKG51bGwpLnN1Y2Nlc3M7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RUeXBlID0gWm9kVHlwZTtcbmV4cG9ydHMuU2NoZW1hID0gWm9kVHlwZTtcbmV4cG9ydHMuWm9kU2NoZW1hID0gWm9kVHlwZTtcbmNvbnN0IGN1aWRSZWdleCA9IC9eY1teXFxzLV17OCx9JC9pO1xuY29uc3QgY3VpZDJSZWdleCA9IC9eW2Etel1bYS16MC05XSokLztcbmNvbnN0IHVsaWRSZWdleCA9IC9eWzAtOUEtSEpLTU5QLVRWLVpdezI2fSQvO1xuLy8gY29uc3QgdXVpZFJlZ2V4ID1cbi8vICAgL14oW2EtZjAtOV17OH0tW2EtZjAtOV17NH0tWzEtNV1bYS1mMC05XXszfS1bYS1mMC05XXs0fS1bYS1mMC05XXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtcbmNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZkEtRl17OH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17MTJ9JC9pO1xuLy8gZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDYxODEvMTU1MDE1NVxuLy8gb2xkIHZlcnNpb246IHRvbyBzbG93LCBkaWRuJ3Qgc3VwcG9ydCB1bmljb2RlXG4vLyBjb25zdCBlbWFpbFJlZ2V4ID0gL14oKChbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKFxcLihbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKSopfCgoXFx4MjIpKCgoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oKFtcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDdmXXxcXHgyMXxbXFx4MjMtXFx4NWJdfFtcXHg1ZC1cXHg3ZV18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfChcXFxcKFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZC1cXHg3Zl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkpKigoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oXFx4MjIpKSlAKCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKVxcLikrKChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpJC9pO1xuLy9vbGQgZW1haWwgcmVnZXhcbi8vIGNvbnN0IGVtYWlsUmVnZXggPSAvXigoW148PigpW1xcXS4sOzpcXHNAXCJdKyhcXC5bXjw+KClbXFxdLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKD8hLSkoW148PigpW1xcXS4sOzpcXHNAXCJdK1xcLikrW148PigpW1xcXS4sOzpcXHNAXCJdezEsfSlbXi08PigpW1xcXS4sOzpcXHNAXCJdJC9pO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoXFxbKCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFxdKXwoXFxbSVB2NjooKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpXFxdKXwoW0EtWmEtejAtOV0oW0EtWmEtejAtOS1dKltBLVphLXowLTldKSooXFwuW0EtWmEtel17Mix9KSspKSQvO1xuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eW2EtekEtWjAtOVxcLlxcIVxcI1xcJFxcJVxcJlxcJ1xcKlxcK1xcL1xcPVxcP1xcXlxcX1xcYFxce1xcfFxcfVxcflxcLV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC87XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL14oPzpbYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKD86XFwuW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKykqfFwiKD86W1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4MjFcXHgyMy1cXHg1YlxceDVkLVxceDdmXXxcXFxcW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBlLVxceDdmXSkqXCIpQCg/Oig/OlthLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT9cXC4pK1thLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT98XFxbKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT98W2EtejAtOS1dKlthLXowLTldOig/OltcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDIxLVxceDVhXFx4NTMtXFx4N2ZdfFxcXFxbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGUtXFx4N2ZdKSspXFxdKSQvaTtcbmNvbnN0IGVtYWlsUmVnZXggPSAvXig/IVxcLikoPyEuKlxcLlxcLikoW0EtWjAtOV8rLVxcLl0qKVtBLVowLTlfKy1dQChbQS1aMC05XVtBLVowLTlcXC1dKlxcLikrW0EtWl17Mix9JC9pO1xuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eW2EtejAtOS4hIyQlJuKAmSorLz0/Xl9ge3x9fi1dK0BbYS16MC05LV0rKD86XFwuW2EtejAtOVxcLV0rKSokL2k7XG4vLyBmcm9tIGh0dHBzOi8vdGhla2V2aW5zY290dC5jb20vZW1vamlzLWluLWphdmFzY3JpcHQvI3dyaXRpbmctYS1yZWd1bGFyLWV4cHJlc3Npb25cbmNvbnN0IF9lbW9qaVJlZ2V4ID0gYF4oXFxcXHB7RXh0ZW5kZWRfUGljdG9ncmFwaGljfXxcXFxccHtFbW9qaV9Db21wb25lbnR9KSskYDtcbmxldCBlbW9qaVJlZ2V4O1xuY29uc3QgaXB2NFJlZ2V4ID0gL14oKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkkLztcbmNvbnN0IGlwdjZSZWdleCA9IC9eKChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKSQvO1xuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMTQzMjMxXG5jb25zdCBkYXRldGltZVJlZ2V4ID0gKGFyZ3MpID0+IHtcbiAgICBpZiAoYXJncy5wcmVjaXNpb24pIHtcbiAgICAgICAgaWYgKGFyZ3Mub2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXlxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9VFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9XFxcXC5cXFxcZHske2FyZ3MucHJlY2lzaW9ufX0oKFsrLV1cXFxcZHsyfSg6P1xcXFxkezJ9KT8pfFopJGApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF5cXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfVRcXFxcZHsyfTpcXFxcZHsyfTpcXFxcZHsyfVxcXFwuXFxcXGR7JHthcmdzLnByZWNpc2lvbn19WiRgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhcmdzLnByZWNpc2lvbiA9PT0gMCkge1xuICAgICAgICBpZiAoYXJncy5vZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKGBeXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1UXFxcXGR7Mn06XFxcXGR7Mn06XFxcXGR7Mn0oKFsrLV1cXFxcZHsyfSg6P1xcXFxkezJ9KT8pfFopJGApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF5cXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfVRcXFxcZHsyfTpcXFxcZHsyfTpcXFxcZHsyfVokYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChhcmdzLm9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF5cXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfVRcXFxcZHsyfTpcXFxcZHsyfTpcXFxcZHsyfShcXFxcLlxcXFxkKyk/KChbKy1dXFxcXGR7Mn0oOj9cXFxcZHsyfSk/KXxaKSRgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKGBeXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1UXFxcXGR7Mn06XFxcXGR7Mn06XFxcXGR7Mn0oXFxcXC5cXFxcZCspP1okYCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuZnVuY3Rpb24gaXNWYWxpZElQKGlwLCB2ZXJzaW9uKSB7XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY0XCIgfHwgIXZlcnNpb24pICYmIGlwdjRSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY2XCIgfHwgIXZlcnNpb24pICYmIGlwdjZSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuY2xhc3MgWm9kU3RyaW5nIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gU3RyaW5nKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnN0cmluZyxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cygpO1xuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImxlbmd0aFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gaW5wdXQuZGF0YS5sZW5ndGggPiBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbW9qaVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgICAgIGVtb2ppUmVnZXggPSBuZXcgUmVnRXhwKF9lbW9qaVJlZ2V4LCBcInVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZW1vamlSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbW9qaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1dWlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXV1aWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1dWlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImN1aWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghY3VpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZDJcIikge1xuICAgICAgICAgICAgICAgIGlmICghY3VpZDJSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjdWlkMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1bGlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVsaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1bGlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVybFwiKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFVSTChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1cmxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIGNoZWNrLnJlZ2V4Lmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdFJlc3VsdCA9IGNoZWNrLnJlZ2V4LnRlc3QoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKCF0ZXN0UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJyZWdleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0cmltXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50cmltKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImluY2x1ZGVzXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuaW5jbHVkZXMoY2hlY2sudmFsdWUsIGNoZWNrLnBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBpbmNsdWRlczogY2hlY2sudmFsdWUsIHBvc2l0aW9uOiBjaGVjay5wb3NpdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidG9Mb3dlckNhc2VcIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvVXBwZXJDYXNlXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJzdGFydHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuc3RhcnRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgc3RhcnRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVuZHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuZW5kc1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGVuZHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZGF0ZXRpbWVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gZGF0ZXRpbWVSZWdleChjaGVjayk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpcFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkSVAoaW5wdXQuZGF0YSwgY2hlY2sudmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImlwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsXzEudXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIF9yZWdleChyZWdleCwgdmFsaWRhdGlvbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZpbmVtZW50KChkYXRhKSA9PiByZWdleC50ZXN0KGRhdGEpLCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uLFxuICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW1haWwobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImVtYWlsXCIsIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdXJsKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1cmxcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBlbW9qaShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1vamlcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1dWlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1dWlkXCIsIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgY3VpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZFwiLCAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGN1aWQyKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjdWlkMlwiLCAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHVsaWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInVsaWRcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBpcChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiaXBcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBkYXRldGltZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAgICAgIGtpbmQ6IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgIHByZWNpc2lvbjogdHlwZW9mIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucHJlY2lzaW9uKSA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucHJlY2lzaW9uLFxuICAgICAgICAgICAgb2Zmc2V0OiAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMub2Zmc2V0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdleChyZWdleCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJyZWdleFwiLFxuICAgICAgICAgICAgcmVnZXg6IHJlZ2V4LFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW5jbHVkZXModmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaW5jbHVkZXNcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucG9zaXRpb24sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhcnRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJzdGFydHNXaXRoXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbmRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJlbmRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBtaW5MZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IG1heExlbmd0aCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibGVuZ3RoXCIsXG4gICAgICAgICAgICB2YWx1ZTogbGVuLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHouc3RyaW5nKCkubWluKDEpIGluc3RlYWQuXG4gICAgICogQHNlZSB7QGxpbmsgWm9kU3RyaW5nLm1pbn1cbiAgICAgKi9cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBlcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkpO1xuICAgIH1cbiAgICB0cmltKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidHJpbVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9Mb3dlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b0xvd2VyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9VcHBlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b1VwcGVyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZXRpbWUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZXRpbWVcIik7XG4gICAgfVxuICAgIGdldCBpc0VtYWlsKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtYWlsXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVUkwoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidXJsXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbW9qaSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJlbW9qaVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVVVJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1dWlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImN1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc0NVSUQyKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImN1aWQyXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVTElEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVsaWRcIik7XG4gICAgfVxuICAgIGdldCBpc0lQKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImlwXCIpO1xuICAgIH1cbiAgICBnZXQgbWluTGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhMZW5ndGgoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG59XG5leHBvcnRzLlpvZFN0cmluZyA9IFpvZFN0cmluZztcblpvZFN0cmluZy5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcsXG4gICAgICAgIGNvZXJjZTogKF9hID0gcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zOTY2NDg0L3doeS1kb2VzLW1vZHVsdXMtb3BlcmF0b3ItcmV0dXJuLWZyYWN0aW9uYWwtbnVtYmVyLWluLWphdmFzY3JpcHQvMzE3MTEwMzQjMzE3MTEwMzRcbmZ1bmN0aW9uIGZsb2F0U2FmZVJlbWFpbmRlcih2YWwsIHN0ZXApIHtcbiAgICBjb25zdCB2YWxEZWNDb3VudCA9ICh2YWwudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IHN0ZXBEZWNDb3VudCA9IChzdGVwLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBjb25zdCBkZWNDb3VudCA9IHZhbERlY0NvdW50ID4gc3RlcERlY0NvdW50ID8gdmFsRGVjQ291bnQgOiBzdGVwRGVjQ291bnQ7XG4gICAgY29uc3QgdmFsSW50ID0gcGFyc2VJbnQodmFsLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICBjb25zdCBzdGVwSW50ID0gcGFyc2VJbnQoc3RlcC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgcmV0dXJuICh2YWxJbnQgJSBzdGVwSW50KSAvIE1hdGgucG93KDEwLCBkZWNDb3VudCk7XG59XG5jbGFzcyBab2ROdW1iZXIgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICAgICAgdGhpcy5tYXggPSB0aGlzLmx0ZTtcbiAgICAgICAgdGhpcy5zdGVwID0gdGhpcy5tdWx0aXBsZU9mO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBOdW1iZXIoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUubnVtYmVyLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW50XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXV0aWxfMS51dGlsLmlzSW50ZWdlcihpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcImludGVnZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBcImZsb2F0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY2hlY2suaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgID8gaW5wdXQuZGF0YSA+IGNoZWNrLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogaW5wdXQuZGF0YSA+PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZsb2F0U2FmZVJlbWFpbmRlcihpbnB1dC5kYXRhLCBjaGVjay52YWx1ZSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImZpbml0ZVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5ub3RfZmluaXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWxfMS51dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ3RlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW50KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaW50XCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbm5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibXVsdGlwbGVPZlwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZmluaXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZmluaXRlXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzYWZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbiAgICBnZXQgaXNJbnQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiaW50XCIgfHxcbiAgICAgICAgICAgIChjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIiAmJiB1dGlsXzEudXRpbC5pc0ludGVnZXIoY2gudmFsdWUpKSk7XG4gICAgfVxuICAgIGdldCBpc0Zpbml0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGwsIG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwiZmluaXRlXCIgfHxcbiAgICAgICAgICAgICAgICBjaC5raW5kID09PSBcImludFwiIHx8XG4gICAgICAgICAgICAgICAgY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG1pbikgJiYgTnVtYmVyLmlzRmluaXRlKG1heCk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2ROdW1iZXIgPSBab2ROdW1iZXI7XG5ab2ROdW1iZXIuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdW1iZXIsXG4gICAgICAgIGNvZXJjZTogKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5jb2VyY2UpIHx8IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kQmlnSW50IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWluID0gdGhpcy5ndGU7XG4gICAgICAgIHRoaXMubWF4ID0gdGhpcy5sdGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IEJpZ0ludChpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5iaWdpbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5iaWdpbnQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY2hlY2suaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgID8gaW5wdXQuZGF0YSA+IGNoZWNrLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogaW5wdXQuZGF0YSA+PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEgJSBjaGVjay52YWx1ZSAhPT0gQmlnSW50KDApKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbF8xLnV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBndGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHRlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25wb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbm5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbXVsdGlwbGVPZih2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5WYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG59XG5leHBvcnRzLlpvZEJpZ0ludCA9IFpvZEJpZ0ludDtcblpvZEJpZ0ludC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCaWdJbnQsXG4gICAgICAgIGNvZXJjZTogKF9hID0gcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RCb29sZWFuIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gQm9vbGVhbihpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5ib29sZWFuKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUuYm9vbGVhbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kQm9vbGVhbiA9IFpvZEJvb2xlYW47XG5ab2RCb29sZWFuLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEJvb2xlYW4oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJvb2xlYW4sXG4gICAgICAgIGNvZXJjZTogKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5jb2VyY2UpIHx8IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kRGF0ZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IG5ldyBEYXRlKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmRhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5kYXRlLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmFOKGlucHV0LmRhdGEuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2RhdGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cygpO1xuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEuZ2V0VGltZSgpIDwgY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5nZXRUaW1lKCkgPiBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWxfMS51dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoaW5wdXQuZGF0YS5nZXRUaW1lKCkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2REYXRlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1pbihtaW5EYXRlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IG1pbkRhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heERhdGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogbWF4RGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluRGF0ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluICE9IG51bGwgPyBuZXcgRGF0ZShtaW4pIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IG1heERhdGUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heCAhPSBudWxsID8gbmV3IERhdGUobWF4KSA6IG51bGw7XG4gICAgfVxufVxuZXhwb3J0cy5ab2REYXRlID0gWm9kRGF0ZTtcblpvZERhdGUuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIGNvZXJjZTogKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5jb2VyY2UpIHx8IGZhbHNlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGUsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RTeW1ib2wgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuc3ltYm9sKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUuc3ltYm9sLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RTeW1ib2wgPSBab2RTeW1ib2w7XG5ab2RTeW1ib2wuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU3ltYm9sKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTeW1ib2wsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RVbmRlZmluZWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUudW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RVbmRlZmluZWQgPSBab2RVbmRlZmluZWQ7XG5ab2RVbmRlZmluZWQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5kZWZpbmVkKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmRlZmluZWQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2ROdWxsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5udWxsLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2ROdWxsID0gWm9kTnVsbDtcblpvZE51bGwuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVsbCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEFueSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvLyB0byBwcmV2ZW50IGluc3RhbmNlcyBvZiBvdGhlciBjbGFzc2VzIGZyb20gZXh0ZW5kaW5nIFpvZEFueS4gdGhpcyBjYXVzZXMgaXNzdWVzIHdpdGggY2F0Y2hhbGwgaW4gWm9kT2JqZWN0LlxuICAgICAgICB0aGlzLl9hbnkgPSB0cnVlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RBbnkgPSBab2RBbnk7XG5ab2RBbnkuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQW55KHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RVbmtub3duIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8vIHJlcXVpcmVkXG4gICAgICAgIHRoaXMuX3Vua25vd24gPSB0cnVlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RVbmtub3duID0gWm9kVW5rbm93bjtcblpvZFVua25vd24uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5rbm93bih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE5ldmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5uZXZlcixcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kTmV2ZXIgPSBab2ROZXZlcjtcblpvZE5ldmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5ldmVyKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROZXZlcixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFZvaWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUudm9pZCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kVm9pZCA9IFpvZFZvaWQ7XG5ab2RWb2lkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFZvaWQoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFZvaWQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RBcnJheSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCwgc3RhdHVzIH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5hcnJheSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYuZXhhY3RMZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGN0eC5kYXRhLmxlbmd0aCA+IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY3R4LmRhdGEubGVuZ3RoIDwgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IHRvb0JpZyA/IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcgOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06ICh0b29TbWFsbCA/IGRlZi5leGFjdExlbmd0aC52YWx1ZSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06ICh0b29CaWcgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5leGFjdExlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWluTGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoIDwgZGVmLm1pbkxlbmd0aC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pbkxlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pbkxlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWF4TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoID4gZGVmLm1heExlbmd0aC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhMZW5ndGgudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhMZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZUFzeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICAgICAgfSkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZGVmLnR5cGUuX3BhcnNlU3luYyhuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0KTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1pbkxlbmd0aDogeyB2YWx1ZTogbWluTGVuZ3RoLCBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhMZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtYXhMZW5ndGg6IHsgdmFsdWU6IG1heExlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgZXhhY3RMZW5ndGg6IHsgdmFsdWU6IGxlbiwgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZEFycmF5ID0gWm9kQXJyYXk7XG5ab2RBcnJheS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgdHlwZTogc2NoZW1hLFxuICAgICAgICBtaW5MZW5ndGg6IG51bGwsXG4gICAgICAgIG1heExlbmd0aDogbnVsbCxcbiAgICAgICAgZXhhY3RMZW5ndGg6IG51bGwsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQXJyYXksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5mdW5jdGlvbiBkZWVwUGFydGlhbGlmeShzY2hlbWEpIHtcbiAgICBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYS5zaGFwZSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSBzY2hlbWEuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoZmllbGRTY2hlbWEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZEFycmF5KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4uc2NoZW1hLl9kZWYsXG4gICAgICAgICAgICB0eXBlOiBkZWVwUGFydGlhbGlmeShzY2hlbWEuZWxlbWVudCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS51bndyYXAoKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2ROdWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gWm9kTnVsbGFibGUuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS51bndyYXAoKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RUdXBsZSkge1xuICAgICAgICByZXR1cm4gWm9kVHVwbGUuY3JlYXRlKHNjaGVtYS5pdGVtcy5tYXAoKGl0ZW0pID0+IGRlZXBQYXJ0aWFsaWZ5KGl0ZW0pKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cbn1cbmNsYXNzIFpvZE9iamVjdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLl9jYWNoZWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgSW4gbW9zdCBjYXNlcywgdGhpcyBpcyBubyBsb25nZXIgbmVlZGVkIC0gdW5rbm93biBwcm9wZXJ0aWVzIGFyZSBub3cgc2lsZW50bHkgc3RyaXBwZWQuXG4gICAgICAgICAqIElmIHlvdSB3YW50IHRvIHBhc3MgdGhyb3VnaCB1bmtub3duIHByb3BlcnRpZXMsIHVzZSBgLnBhc3N0aHJvdWdoKClgIGluc3RlYWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5vbnN0cmljdCA9IHRoaXMucGFzc3Rocm91Z2g7XG4gICAgICAgIC8vIGV4dGVuZDxcbiAgICAgICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZSxcbiAgICAgICAgLy8gICBOZXdPdXRwdXQgZXh0ZW5kcyB1dGlsLmZsYXR0ZW48e1xuICAgICAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgT3V0cHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgICAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9vdXRwdXRcIl1cbiAgICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgICAgIC8vICAgICAgID8gT3V0cHV0W2tdXG4gICAgICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgICAgIC8vICAgfT4sXG4gICAgICAgIC8vICAgTmV3SW5wdXQgZXh0ZW5kcyB1dGlsLmZsYXR0ZW48e1xuICAgICAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgSW5wdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX2lucHV0XCJdXG4gICAgICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgICAgIC8vICAgICAgID8gSW5wdXRba11cbiAgICAgICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAgICAgLy8gICB9PlxuICAgICAgICAvLyA+KFxuICAgICAgICAvLyAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICk6IFpvZE9iamVjdDxcbiAgICAgICAgLy8gICBleHRlbmRTaGFwZTxULCBBdWdtZW50YXRpb24+LFxuICAgICAgICAvLyAgIFVua25vd25LZXlzLFxuICAgICAgICAvLyAgIENhdGNoYWxsLFxuICAgICAgICAvLyAgIE5ld091dHB1dCxcbiAgICAgICAgLy8gICBOZXdJbnB1dFxuICAgICAgICAvLyA+IHtcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIC8vICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgIC8vICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgLy8gICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgIC8vICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAgICAgLy8gICAgIH0pLFxuICAgICAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgVXNlIGAuZXh0ZW5kYCBpbnN0ZWFkXG4gICAgICAgICAqICAqL1xuICAgICAgICB0aGlzLmF1Z21lbnQgPSB0aGlzLmV4dGVuZDtcbiAgICB9XG4gICAgX2dldENhY2hlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlZCAhPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWQ7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gdGhpcy5fZGVmLnNoYXBlKCk7XG4gICAgICAgIGNvbnN0IGtleXMgPSB1dGlsXzEudXRpbC5vYmplY3RLZXlzKHNoYXBlKTtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9jYWNoZWQgPSB7IHNoYXBlLCBrZXlzIH0pO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgeyBzaGFwZSwga2V5czogc2hhcGVLZXlzIH0gPSB0aGlzLl9nZXRDYWNoZWQoKTtcbiAgICAgICAgY29uc3QgZXh0cmFLZXlzID0gW107XG4gICAgICAgIGlmICghKHRoaXMuX2RlZi5jYXRjaGFsbCBpbnN0YW5jZW9mIFpvZE5ldmVyICYmXG4gICAgICAgICAgICB0aGlzLl9kZWYudW5rbm93bktleXMgPT09IFwic3RyaXBcIikpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzaGFwZUtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBleHRyYUtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFwZUtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleVZhbGlkYXRvciA9IHNoYXBlW2tleV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eC5kYXRhW2tleV07XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICB2YWx1ZToga2V5VmFsaWRhdG9yLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlcikge1xuICAgICAgICAgICAgY29uc3QgdW5rbm93bktleXMgPSB0aGlzLl9kZWYudW5rbm93bktleXM7XG4gICAgICAgICAgICBpZiAodW5rbm93bktleXMgPT09IFwicGFzc3Rocm91Z2hcIikge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGV4dHJhS2V5cykge1xuICAgICAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBjdHguZGF0YVtrZXldIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmljdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4dHJhS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IGV4dHJhS2V5cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmlwXCIpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW50ZXJuYWwgWm9kT2JqZWN0IGVycm9yOiBpbnZhbGlkIHVua25vd25LZXlzIHZhbHVlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcnVuIGNhdGNoYWxsIHZhbGlkYXRpb25cbiAgICAgICAgICAgIGNvbnN0IGNhdGNoYWxsID0gdGhpcy5fZGVmLmNhdGNoYWxsO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhdGNoYWxsLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpIC8vLCBjdHguY2hpbGQoa2V5KSwgdmFsdWUsIGdldFBhcnNlZFR5cGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgICAgICAudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgICAgICBzeW5jUGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYXdhaXQgcGFpci52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsd2F5c1NldDogcGFpci5hbHdheXNTZXQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3luY1BhaXJzO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoc3luY1BhaXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNoYXBlKCk7XG4gICAgfVxuICAgIHN0cmljdChtZXNzYWdlKSB7XG4gICAgICAgIGVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iajtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICAgICAgICAuLi4obWVzc2FnZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWFwOiAoaXNzdWUsIGN0eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEVycm9yID0gKF9jID0gKF9iID0gKF9hID0gdGhpcy5fZGVmKS5lcnJvck1hcCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIGlzc3VlLCBjdHgpLm1lc3NhZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGN0eC5kZWZhdWx0RXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJ1bnJlY29nbml6ZWRfa2V5c1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IChfZCA9IGVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKS5tZXNzYWdlKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBkZWZhdWx0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmYXVsdEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdHJpcCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBhc3N0aHJvdWdoKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJwYXNzdGhyb3VnaFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gY29uc3QgQXVnbWVudEZhY3RvcnkgPVxuICAgIC8vICAgPERlZiBleHRlbmRzIFpvZE9iamVjdERlZj4oZGVmOiBEZWYpID0+XG4gICAgLy8gICA8QXVnbWVudGF0aW9uIGV4dGVuZHMgWm9kUmF3U2hhcGU+KFxuICAgIC8vICAgICBhdWdtZW50YXRpb246IEF1Z21lbnRhdGlvblxuICAgIC8vICAgKTogWm9kT2JqZWN0PFxuICAgIC8vICAgICBleHRlbmRTaGFwZTxSZXR1cm5UeXBlPERlZltcInNoYXBlXCJdPiwgQXVnbWVudGF0aW9uPixcbiAgICAvLyAgICAgRGVmW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICAgIERlZltcImNhdGNoYWxsXCJdXG4gICAgLy8gICA+ID0+IHtcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICAgIC4uLmRlZixcbiAgICAvLyAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAvLyAgICAgICAgIC4uLmRlZi5zaGFwZSgpLFxuICAgIC8vICAgICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgIC8vICAgICAgIH0pLFxuICAgIC8vICAgICB9KSBhcyBhbnk7XG4gICAgLy8gICB9O1xuICAgIGV4dGVuZChhdWdtZW50YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmlvciB0byB6b2RAMS4wLjEyIHRoZXJlIHdhcyBhIGJ1ZyBpbiB0aGVcbiAgICAgKiBpbmZlcnJlZCB0eXBlIG9mIG1lcmdlZCBvYmplY3RzLiBQbGVhc2VcbiAgICAgKiB1cGdyYWRlIGlmIHlvdSBhcmUgZXhwZXJpZW5jaW5nIGlzc3Vlcy5cbiAgICAgKi9cbiAgICBtZXJnZShtZXJnaW5nKSB7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAgICAgICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgICAgICAuLi5tZXJnaW5nLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgIH1cbiAgICAvLyBtZXJnZTxcbiAgICAvLyAgIEluY29taW5nIGV4dGVuZHMgQW55Wm9kT2JqZWN0LFxuICAgIC8vICAgQXVnbWVudGF0aW9uIGV4dGVuZHMgSW5jb21pbmdbXCJzaGFwZVwiXSxcbiAgICAvLyAgIE5ld091dHB1dCBleHRlbmRzIHtcbiAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgT3V0cHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX291dHB1dFwiXVxuICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIE91dHB1dFxuICAgIC8vICAgICAgID8gT3V0cHV0W2tdXG4gICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAvLyAgIH0sXG4gICAgLy8gICBOZXdJbnB1dCBleHRlbmRzIHtcbiAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgSW5wdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfaW5wdXRcIl1cbiAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBJbnB1dFxuICAgIC8vICAgICAgID8gSW5wdXRba11cbiAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgIC8vICAgfVxuICAgIC8vID4oXG4gICAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAgIC8vICk6IFpvZE9iamVjdDxcbiAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIFJldHVyblR5cGU8SW5jb21pbmdbXCJfZGVmXCJdW1wic2hhcGVcIl0+PixcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1wiY2F0Y2hhbGxcIl0sXG4gICAgLy8gICBOZXdPdXRwdXQsXG4gICAgLy8gICBOZXdJbnB1dFxuICAgIC8vID4ge1xuICAgIC8vICAgY29uc3QgbWVyZ2VkOiBhbnkgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAvLyAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAvLyAgICAgc2hhcGU6ICgpID0+XG4gICAgLy8gICAgICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyh0aGlzLl9kZWYuc2hhcGUoKSwgbWVyZ2luZy5fZGVmLnNoYXBlKCkpLFxuICAgIC8vICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAvLyAgIHJldHVybiBtZXJnZWQ7XG4gICAgLy8gfVxuICAgIHNldEtleShrZXksIHNjaGVtYSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdWdtZW50KHsgW2tleV06IHNjaGVtYSB9KTtcbiAgICB9XG4gICAgLy8gbWVyZ2U8SW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3Q+KFxuICAgIC8vICAgbWVyZ2luZzogSW5jb21pbmdcbiAgICAvLyApOiAvL1pvZE9iamVjdDxUICYgSW5jb21pbmdbXCJfc2hhcGVcIl0sIFVua25vd25LZXlzLCBDYXRjaGFsbD4gPSAobWVyZ2luZykgPT4ge1xuICAgIC8vIFpvZE9iamVjdDxcbiAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIFJldHVyblR5cGU8SW5jb21pbmdbXCJfZGVmXCJdW1wic2hhcGVcIl0+PixcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyA+IHtcbiAgICAvLyAgIC8vIGNvbnN0IG1lcmdlZFNoYXBlID0gb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyhcbiAgICAvLyAgIC8vICAgdGhpcy5fZGVmLnNoYXBlKCksXG4gICAgLy8gICAvLyAgIG1lcmdpbmcuX2RlZi5zaGFwZSgpXG4gICAgLy8gICAvLyApO1xuICAgIC8vICAgY29uc3QgbWVyZ2VkOiBhbnkgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAvLyAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAvLyAgICAgc2hhcGU6ICgpID0+XG4gICAgLy8gICAgICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyh0aGlzLl9kZWYuc2hhcGUoKSwgbWVyZ2luZy5fZGVmLnNoYXBlKCkpLFxuICAgIC8vICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAvLyAgIHJldHVybiBtZXJnZWQ7XG4gICAgLy8gfVxuICAgIGNhdGNoYWxsKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNhdGNoYWxsOiBpbmRleCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBpY2sobWFzaykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IHt9O1xuICAgICAgICB1dGlsXzEudXRpbC5vYmplY3RLZXlzKG1hc2spLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKG1hc2tba2V5XSAmJiB0aGlzLnNoYXBlW2tleV0pIHtcbiAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgb21pdChtYXNrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICAgIHV0aWxfMS51dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIGRlZXBQYXJ0aWFsKCkge1xuICAgICAgICByZXR1cm4gZGVlcFBhcnRpYWxpZnkodGhpcyk7XG4gICAgfVxuICAgIHBhcnRpYWwobWFzaykge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICB1dGlsXzEudXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICBpZiAobWFzayAmJiAhbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IGZpZWxkU2NoZW1hO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IGZpZWxkU2NoZW1hLm9wdGlvbmFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXF1aXJlZChtYXNrKSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIHV0aWxfMS51dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAobWFzayAmJiAhbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgICAgIGxldCBuZXdGaWVsZCA9IGZpZWxkU2NoZW1hO1xuICAgICAgICAgICAgICAgIHdoaWxlIChuZXdGaWVsZCBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0ZpZWxkID0gbmV3RmllbGQuX2RlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBuZXdGaWVsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGtleW9mKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlWm9kRW51bSh1dGlsXzEudXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZE9iamVjdCA9IFpvZE9iamVjdDtcblpvZE9iamVjdC5jcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kT2JqZWN0LnN0cmljdENyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmljdFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kT2JqZWN0LmxhenljcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RVbmlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX2RlZi5vcHRpb25zO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVSZXN1bHRzKHJlc3VsdHMpIHtcbiAgICAgICAgICAgIC8vIHJldHVybiBmaXJzdCBpc3N1ZS1mcmVlIHZhbGlkYXRpb24gaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBpc3N1ZXMgZnJvbSBkaXJ0eSBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5yZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZXR1cm4gaW52YWxpZFxuICAgICAgICAgICAgY29uc3QgdW5pb25FcnJvcnMgPSByZXN1bHRzLm1hcCgocmVzdWx0KSA9PiBuZXcgWm9kRXJyb3JfMS5ab2RFcnJvcihyZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpKTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgICAgICAgICB1bmlvbkVycm9ycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChvcHRpb25zLm1hcChhc3luYyAob3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRDdHggPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBhd2FpdCBvcHRpb24uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBjdHg6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSkudGhlbihoYW5kbGVSZXN1bHRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkaXJ0eSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IGlzc3VlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG9wdGlvbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiICYmICFkaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICBkaXJ0eSA9IHsgcmVzdWx0LCBjdHg6IGNoaWxkQ3R4IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZEN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXMucHVzaChjaGlsZEN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlydHkpIHtcbiAgICAgICAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLmRpcnR5LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlydHkucmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdW5pb25FcnJvcnMgPSBpc3N1ZXMubWFwKChpc3N1ZXMpID0+IG5ldyBab2RFcnJvcl8xLlpvZEVycm9yKGlzc3VlcykpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uLFxuICAgICAgICAgICAgICAgIHVuaW9uRXJyb3JzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kVW5pb24gPSBab2RVbmlvbjtcblpvZFVuaW9uLmNyZWF0ZSA9ICh0eXBlcywgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmlvbih7XG4gICAgICAgIG9wdGlvbnM6IHR5cGVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuaW9uLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmNvbnN0IGdldERpc2NyaW1pbmF0b3IgPSAodHlwZSkgPT4ge1xuICAgIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTGF6eSkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNjaGVtYSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RFZmZlY3RzKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuaW5uZXJUeXBlKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTGl0ZXJhbCkge1xuICAgICAgICByZXR1cm4gW3R5cGUudmFsdWVdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRW51bSkge1xuICAgICAgICByZXR1cm4gdHlwZS5vcHRpb25zO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTmF0aXZlRW51bSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYmFuL2JhblxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModHlwZS5lbnVtKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZERlZmF1bHQpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RVbmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWRdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTnVsbCkge1xuICAgICAgICByZXR1cm4gW251bGxdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufTtcbmNsYXNzIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yID0gdGhpcy5kaXNjcmltaW5hdG9yO1xuICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWUgPSBjdHguZGF0YVtkaXNjcmltaW5hdG9yXTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gdGhpcy5vcHRpb25zTWFwLmdldChkaXNjcmltaW5hdG9yVmFsdWUpO1xuICAgICAgICBpZiAoIW9wdGlvbikge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQXJyYXkuZnJvbSh0aGlzLm9wdGlvbnNNYXAua2V5cygpKSxcbiAgICAgICAgICAgICAgICBwYXRoOiBbZGlzY3JpbWluYXRvcl0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBkaXNjcmltaW5hdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRpc2NyaW1pbmF0b3I7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgfVxuICAgIGdldCBvcHRpb25zTWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnNNYXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgZGlzY3JpbWluYXRlZCB1bmlvbiBzY2hlbWEuIEl0cyBiZWhhdmlvdXIgaXMgdmVyeSBzaW1pbGFyIHRvIHRoYXQgb2YgdGhlIG5vcm1hbCB6LnVuaW9uKCkgY29uc3RydWN0b3IuXG4gICAgICogSG93ZXZlciwgaXQgb25seSBhbGxvd3MgYSB1bmlvbiBvZiBvYmplY3RzLCBhbGwgb2Ygd2hpY2ggbmVlZCB0byBzaGFyZSBhIGRpc2NyaW1pbmF0b3IgcHJvcGVydHkuIFRoaXMgcHJvcGVydHkgbXVzdFxuICAgICAqIGhhdmUgYSBkaWZmZXJlbnQgdmFsdWUgZm9yIGVhY2ggb2JqZWN0IGluIHRoZSB1bmlvbi5cbiAgICAgKiBAcGFyYW0gZGlzY3JpbWluYXRvciB0aGUgbmFtZSBvZiB0aGUgZGlzY3JpbWluYXRvciBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB0eXBlcyBhbiBhcnJheSBvZiBvYmplY3Qgc2NoZW1hc1xuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGRpc2NyaW1pbmF0b3IsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgICAgICAvLyBHZXQgYWxsIHRoZSB2YWxpZCBkaXNjcmltaW5hdG9yIHZhbHVlc1xuICAgICAgICBjb25zdCBvcHRpb25zTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyB0cnkge1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvclZhbHVlcyA9IGdldERpc2NyaW1pbmF0b3IodHlwZS5zaGFwZVtkaXNjcmltaW5hdG9yXSk7XG4gICAgICAgICAgICBpZiAoIWRpc2NyaW1pbmF0b3JWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEEgZGlzY3JpbWluYXRvciB2YWx1ZSBmb3Iga2V5IFxcYCR7ZGlzY3JpbWluYXRvcn1cXGAgY291bGQgbm90IGJlIGV4dHJhY3RlZCBmcm9tIGFsbCBzY2hlbWEgb3B0aW9uc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBkaXNjcmltaW5hdG9yVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNNYXAuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERpc2NyaW1pbmF0b3IgcHJvcGVydHkgJHtTdHJpbmcoZGlzY3JpbWluYXRvcil9IGhhcyBkdXBsaWNhdGUgdmFsdWUgJHtTdHJpbmcodmFsdWUpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRpb25zTWFwLnNldCh2YWx1ZSwgdHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2REaXNjcmltaW5hdGVkVW5pb24oe1xuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REaXNjcmltaW5hdGVkVW5pb24sXG4gICAgICAgICAgICBkaXNjcmltaW5hdG9yLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG9wdGlvbnNNYXAsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kRGlzY3JpbWluYXRlZFVuaW9uID0gWm9kRGlzY3JpbWluYXRlZFVuaW9uO1xuZnVuY3Rpb24gbWVyZ2VWYWx1ZXMoYSwgYikge1xuICAgIGNvbnN0IGFUeXBlID0gKDAsIHV0aWxfMS5nZXRQYXJzZWRUeXBlKShhKTtcbiAgICBjb25zdCBiVHlwZSA9ICgwLCB1dGlsXzEuZ2V0UGFyc2VkVHlwZSkoYik7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm9iamVjdCAmJiBiVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGJLZXlzID0gdXRpbF8xLnV0aWwub2JqZWN0S2V5cyhiKTtcbiAgICAgICAgY29uc3Qgc2hhcmVkS2V5cyA9IHV0aWxfMS51dGlsXG4gICAgICAgICAgICAub2JqZWN0S2V5cyhhKVxuICAgICAgICAgICAgLmZpbHRlcigoa2V5KSA9PiBiS2V5cy5pbmRleE9mKGtleSkgIT09IC0xKTtcbiAgICAgICAgY29uc3QgbmV3T2JqID0geyAuLi5hLCAuLi5iIH07XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXJlZEtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoYVtrZXldLCBiW2tleV0pO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBzaGFyZWRWYWx1ZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdPYmogfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmFycmF5ICYmIGJUeXBlID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdBcnJheSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1BID0gYVtpbmRleF07XG4gICAgICAgICAgICBjb25zdCBpdGVtQiA9IGJbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhpdGVtQSwgaXRlbUIpO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3QXJyYXkucHVzaChzaGFyZWRWYWx1ZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3QXJyYXkgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmRhdGUgJiZcbiAgICAgICAgYlR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmRhdGUgJiZcbiAgICAgICAgK2EgPT09ICtiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICB9XG59XG5jbGFzcyBab2RJbnRlcnNlY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgaGFuZGxlUGFyc2VkID0gKHBhcnNlZExlZnQsIHBhcnNlZFJpZ2h0KSA9PiB7XG4gICAgICAgICAgICBpZiAoKDAsIHBhcnNlVXRpbF8xLmlzQWJvcnRlZCkocGFyc2VkTGVmdCkgfHwgKDAsIHBhcnNlVXRpbF8xLmlzQWJvcnRlZCkocGFyc2VkUmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBtZXJnZVZhbHVlcyhwYXJzZWRMZWZ0LnZhbHVlLCBwYXJzZWRSaWdodC52YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIW1lcmdlZC52YWxpZCkge1xuICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCgwLCBwYXJzZVV0aWxfMS5pc0RpcnR5KShwYXJzZWRMZWZ0KSB8fCAoMCwgcGFyc2VVdGlsXzEuaXNEaXJ0eSkocGFyc2VkUmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IG1lcmdlZC5kYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZi5sZWZ0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWYucmlnaHQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSkudGhlbigoW2xlZnQsIHJpZ2h0XSkgPT4gaGFuZGxlUGFyc2VkKGxlZnQsIHJpZ2h0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlUGFyc2VkKHRoaXMuX2RlZi5sZWZ0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSksIHRoaXMuX2RlZi5yaWdodC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuWm9kSW50ZXJzZWN0aW9uID0gWm9kSW50ZXJzZWN0aW9uO1xuWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZSA9IChsZWZ0LCByaWdodCwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RJbnRlcnNlY3Rpb24oe1xuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICByaWdodDogcmlnaHQsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kSW50ZXJzZWN0aW9uLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kVHVwbGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgIG1pbmltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3QgPSB0aGlzLl9kZWYucmVzdDtcbiAgICAgICAgaWYgKCFyZXN0ICYmIGN0eC5kYXRhLmxlbmd0aCA+IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICBtYXhpbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtcyA9IFsuLi5jdHguZGF0YV1cbiAgICAgICAgICAgIC5tYXAoKGl0ZW0sIGl0ZW1JbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy5fZGVmLml0ZW1zW2l0ZW1JbmRleF0gfHwgdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgICAgICBpZiAoIXNjaGVtYSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWEuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaXRlbUluZGV4KSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKCh4KSA9PiAhIXgpOyAvLyBmaWx0ZXIgbnVsbHNcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChpdGVtcykudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgaXRlbXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pdGVtcztcbiAgICB9XG4gICAgcmVzdChyZXN0KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgcmVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RUdXBsZSA9IFpvZFR1cGxlO1xuWm9kVHVwbGUuY3JlYXRlID0gKHNjaGVtYXMsIHBhcmFtcykgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWFzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IG9mIHNjaGVtYXMgdG8gei50dXBsZShbIC4uLiBdKVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICAgIGl0ZW1zOiBzY2hlbWFzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFR1cGxlLFxuICAgICAgICByZXN0OiBudWxsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kUmVjb3JkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgY3R4LmRhdGFba2V5XSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cy5tZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoZmlyc3QsIHNlY29uZCwgdGhpcmQpIHtcbiAgICAgICAgaWYgKHNlY29uZCBpbnN0YW5jZW9mIFpvZFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgICAgICBrZXlUeXBlOiBmaXJzdCxcbiAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IHNlY29uZCxcbiAgICAgICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXJkKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgIGtleVR5cGU6IFpvZFN0cmluZy5jcmVhdGUoKSxcbiAgICAgICAgICAgIHZhbHVlVHlwZTogZmlyc3QsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMoc2Vjb25kKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RSZWNvcmQgPSBab2RSZWNvcmQ7XG5jbGFzcyBab2RNYXAgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQga2V5U2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgfVxuICAgIGdldCB2YWx1ZVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm1hcCkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm1hcCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleVR5cGUgPSB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgY29uc3QgcGFpcnMgPSBbLi4uY3R4LmRhdGEuZW50cmllcygpXS5tYXAoKFtrZXksIHZhbHVlXSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAga2V5OiBrZXlUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwga2V5LCBjdHgucGF0aCwgW2luZGV4LCBcImtleVwiXSkpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIFtpbmRleCwgXCJ2YWx1ZVwiXSkpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBmaW5hbE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsTWFwLnNldChrZXkudmFsdWUsIHZhbHVlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE1hcCB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmaW5hbE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE1hcCB9O1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5ab2RNYXAgPSBab2RNYXA7XG5ab2RNYXAuY3JlYXRlID0gKGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RNYXAoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIGtleVR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTWFwLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kU2V0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuc2V0KSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUuc2V0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoZGVmLm1pblNpemUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5zaXplIDwgZGVmLm1pblNpemUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5TaXplLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pblNpemUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1heFNpemUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5zaXplID4gZGVmLm1heFNpemUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4U2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhTaXplLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgZnVuY3Rpb24gZmluYWxpemVTZXQoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICBwYXJzZWRTZXQuYWRkKGVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBwYXJzZWRTZXQgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IFsuLi5jdHguZGF0YS52YWx1ZXMoKV0ubWFwKChpdGVtLCBpKSA9PiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpKTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChlbGVtZW50cykudGhlbigoZWxlbWVudHMpID0+IGZpbmFsaXplU2V0KGVsZW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmluYWxpemVTZXQoZWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1pbihtaW5TaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1pblNpemU6IHsgdmFsdWU6IG1pblNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heFNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWF4U2l6ZTogeyB2YWx1ZTogbWF4U2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaXplKHNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKHNpemUsIG1lc3NhZ2UpLm1heChzaXplLCBtZXNzYWdlKTtcbiAgICB9XG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgbWVzc2FnZSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RTZXQgPSBab2RTZXQ7XG5ab2RTZXQuY3JlYXRlID0gKHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIG1pblNpemU6IG51bGwsXG4gICAgICAgIG1heFNpemU6IG51bGwsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kRnVuY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSA9IHRoaXMuaW1wbGVtZW50O1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuZnVuY3Rpb24pIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5mdW5jdGlvbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VBcmdzSXNzdWUoYXJncywgZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEubWFrZUlzc3VlKSh7XG4gICAgICAgICAgICAgICAgZGF0YTogYXJncyxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCxcbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yc18xLmdldEVycm9yTWFwKSgpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcnNfMS5kZWZhdWx0RXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgICAgICAgICAgICAgaXNzdWVEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VSZXR1cm5zSXNzdWUocmV0dXJucywgZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEubWFrZUlzc3VlKSh7XG4gICAgICAgICAgICAgICAgZGF0YTogcmV0dXJucyxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCxcbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yc18xLmdldEVycm9yTWFwKSgpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcnNfMS5kZWZhdWx0RXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgICAgICAgICAgICAgaXNzdWVEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGVFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHsgZXJyb3JNYXA6IGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwIH07XG4gICAgICAgIGNvbnN0IGZuID0gY3R4LmRhdGE7XG4gICAgICAgIGlmICh0aGlzLl9kZWYucmV0dXJucyBpbnN0YW5jZW9mIFpvZFByb21pc2UpIHtcbiAgICAgICAgICAgIC8vIFdvdWxkIGxvdmUgYSB3YXkgdG8gYXZvaWQgZGlzYWJsaW5nIHRoaXMgcnVsZSwgYnV0IHdlIG5lZWRcbiAgICAgICAgICAgIC8vIGFuIGFsaWFzICh1c2luZyBhbiBhcnJvdyBmdW5jdGlvbiB3YXMgd2hhdCBjYXVzZWQgMjY1MSkuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGFzeW5jIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3JfMS5ab2RFcnJvcihbXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IGF3YWl0IG1lLl9kZWYuYXJnc1xuICAgICAgICAgICAgICAgICAgICAucGFyc2VBc3luYyhhcmdzLCBwYXJhbXMpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5hZGRJc3N1ZShtYWtlQXJnc0lzc3VlKGFyZ3MsIGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUmVmbGVjdC5hcHBseShmbiwgdGhpcywgcGFyc2VkQXJncyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IGF3YWl0IG1lLl9kZWYucmV0dXJucy5fZGVmLnR5cGVcbiAgICAgICAgICAgICAgICAgICAgLnBhcnNlQXN5bmMocmVzdWx0LCBwYXJhbXMpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5hZGRJc3N1ZShtYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV291bGQgbG92ZSBhIHdheSB0byBhdm9pZCBkaXNhYmxpbmcgdGhpcyBydWxlLCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gYW4gYWxpYXMgKHVzaW5nIGFuIGFycm93IGZ1bmN0aW9uIHdhcyB3aGF0IGNhdXNlZCAyNjUxKS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gbWUuX2RlZi5hcmdzLnNhZmVQYXJzZShhcmdzLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkQXJncy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcl8xLlpvZEVycm9yKFttYWtlQXJnc0lzc3VlKGFyZ3MsIHBhcnNlZEFyZ3MuZXJyb3IpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkoZm4sIHRoaXMsIHBhcnNlZEFyZ3MuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IG1lLl9kZWYucmV0dXJucy5zYWZlUGFyc2UocmVzdWx0LCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkUmV0dXJucy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcl8xLlpvZEVycm9yKFttYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgcGFyc2VkUmV0dXJucy5lcnJvcildKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnMuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhcmFtZXRlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuYXJncztcbiAgICB9XG4gICAgcmV0dXJuVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5yZXR1cm5zO1xuICAgIH1cbiAgICBhcmdzKC4uLml0ZW1zKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgYXJnczogWm9kVHVwbGUuY3JlYXRlKGl0ZW1zKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJucyhyZXR1cm5UeXBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgcmV0dXJuczogcmV0dXJuVHlwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGltcGxlbWVudChmdW5jKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgICB9XG4gICAgc3RyaWN0SW1wbGVtZW50KGZ1bmMpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkRnVuYyA9IHRoaXMucGFyc2UoZnVuYyk7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRGdW5jO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGFyZ3MsIHJldHVybnMsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIGFyZ3M6IChhcmdzXG4gICAgICAgICAgICAgICAgPyBhcmdzXG4gICAgICAgICAgICAgICAgOiBab2RUdXBsZS5jcmVhdGUoW10pLnJlc3QoWm9kVW5rbm93bi5jcmVhdGUoKSkpLFxuICAgICAgICAgICAgcmV0dXJuczogcmV0dXJucyB8fCBab2RVbmtub3duLmNyZWF0ZSgpLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RGdW5jdGlvbixcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RGdW5jdGlvbiA9IFpvZEZ1bmN0aW9uO1xuY2xhc3MgWm9kTGF6eSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgbGF6eVNjaGVtYSA9IHRoaXMuX2RlZi5nZXR0ZXIoKTtcbiAgICAgICAgcmV0dXJuIGxhenlTY2hlbWEuX3BhcnNlKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICB9XG59XG5leHBvcnRzLlpvZExhenkgPSBab2RMYXp5O1xuWm9kTGF6eS5jcmVhdGUgPSAoZ2V0dGVyLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExhenkoe1xuICAgICAgICBnZXR0ZXI6IGdldHRlcixcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kTGl0ZXJhbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuZGF0YSAhPT0gdGhpcy5fZGVmLnZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWwsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHRoaXMuX2RlZi52YWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZTtcbiAgICB9XG59XG5leHBvcnRzLlpvZExpdGVyYWwgPSBab2RMaXRlcmFsO1xuWm9kTGl0ZXJhbC5jcmVhdGUgPSAodmFsdWUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTGl0ZXJhbCh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMaXRlcmFsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZnVuY3Rpb24gY3JlYXRlWm9kRW51bSh2YWx1ZXMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kRW51bSh7XG4gICAgICAgIHZhbHVlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5jbGFzcyBab2RFbnVtIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLnV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RlZi52YWx1ZXMuaW5kZXhPZihpbnB1dC5kYXRhKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdGhpcy5fZGVmLnZhbHVlcztcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBnZXQgVmFsdWVzKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IEVudW0oKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBleHRyYWN0KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodmFsdWVzKTtcbiAgICB9XG4gICAgZXhjbHVkZSh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIFpvZEVudW0uY3JlYXRlKHRoaXMub3B0aW9ucy5maWx0ZXIoKG9wdCkgPT4gIXZhbHVlcy5pbmNsdWRlcyhvcHQpKSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RFbnVtID0gWm9kRW51bTtcblpvZEVudW0uY3JlYXRlID0gY3JlYXRlWm9kRW51bTtcbmNsYXNzIFpvZE5hdGl2ZUVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlRW51bVZhbHVlcyA9IHV0aWxfMS51dGlsLmdldFZhbGlkRW51bVZhbHVlcyh0aGlzLl9kZWYudmFsdWVzKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnN0cmluZyAmJlxuICAgICAgICAgICAgY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB1dGlsXzEudXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEudXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmF0aXZlRW51bVZhbHVlcy5pbmRleE9mKGlucHV0LmRhdGEpID09PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB1dGlsXzEudXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBnZXQgZW51bSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgfVxufVxuZXhwb3J0cy5ab2ROYXRpdmVFbnVtID0gWm9kTmF0aXZlRW51bTtcblpvZE5hdGl2ZUVudW0uY3JlYXRlID0gKHZhbHVlcywgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROYXRpdmVFbnVtKHtcbiAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmF0aXZlRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFByb21pc2UgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnByb21pc2UgJiZcbiAgICAgICAgICAgIGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUucHJvbWlzZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21pc2lmaWVkID0gY3R4LnBhcnNlZFR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnByb21pc2VcbiAgICAgICAgICAgID8gY3R4LmRhdGFcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKGN0eC5kYXRhKTtcbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykocHJvbWlzaWZpZWQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLnBhcnNlQXN5bmMoZGF0YSwge1xuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RQcm9taXNlID0gWm9kUHJvbWlzZTtcblpvZFByb21pc2UuY3JlYXRlID0gKHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RQcm9taXNlKHtcbiAgICAgICAgdHlwZTogc2NoZW1hLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFByb21pc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RFZmZlY3RzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgaW5uZXJUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgc291cmNlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHNcbiAgICAgICAgICAgID8gdGhpcy5fZGVmLnNjaGVtYS5zb3VyY2VUeXBlKClcbiAgICAgICAgICAgIDogdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGVmZmVjdCA9IHRoaXMuX2RlZi5lZmZlY3QgfHwgbnVsbDtcbiAgICAgICAgY29uc3QgY2hlY2tDdHggPSB7XG4gICAgICAgICAgICBhZGRJc3N1ZTogKGFyZykgPT4ge1xuICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCBhcmcpO1xuICAgICAgICAgICAgICAgIGlmIChhcmcuZmF0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eC5wYXRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY2hlY2tDdHguYWRkSXNzdWUgPSBjaGVja0N0eC5hZGRJc3N1ZS5iaW5kKGNoZWNrQ3R4KTtcbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInByZXByb2Nlc3NcIikge1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkID0gZWZmZWN0LnRyYW5zZm9ybShjdHguZGF0YSwgY2hlY2tDdHgpO1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJkaXJ0eVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwcm9jZXNzZWQpLnRoZW4oKHByb2Nlc3NlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBwcm9jZXNzZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBwcm9jZXNzZWQsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwicmVmaW5lbWVudFwiKSB7XG4gICAgICAgICAgICBjb25zdCBleGVjdXRlUmVmaW5lbWVudCA9IChhY2NcbiAgICAgICAgICAgIC8vIGVmZmVjdDogUmVmaW5lbWVudEVmZmVjdDxhbnk+XG4gICAgICAgICAgICApID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QucmVmaW5lbWVudChhY2MsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFzeW5jIHJlZmluZW1lbnQgZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdmFsdWUgaXMgaWdub3JlZFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyLnZhbHVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYVxuICAgICAgICAgICAgICAgICAgICAuX3BhcnNlQXN5bmMoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChpbm5lcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyLnZhbHVlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoISgwLCBwYXJzZVV0aWxfMS5pc1ZhbGlkKShiYXNlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBc3luY2hyb25vdXMgdHJhbnNmb3JtIGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHJlc3VsdCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWFcbiAgICAgICAgICAgICAgICAgICAgLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoYmFzZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoISgwLCBwYXJzZVV0aWxfMS5pc1ZhbGlkKShiYXNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGVmZmVjdC50cmFuc2Zvcm0oYmFzZS52YWx1ZSwgY2hlY2tDdHgpKS50aGVuKChyZXN1bHQpID0+ICh7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcmVzdWx0IH0pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB1dGlsXzEudXRpbC5hc3NlcnROZXZlcihlZmZlY3QpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kRWZmZWN0cyA9IFpvZEVmZmVjdHM7XG5leHBvcnRzLlpvZFRyYW5zZm9ybWVyID0gWm9kRWZmZWN0cztcblpvZEVmZmVjdHMuY3JlYXRlID0gKHNjaGVtYSwgZWZmZWN0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgZWZmZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcyA9IChwcmVwcm9jZXNzLCBzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicHJlcHJvY2Vzc1wiLCB0cmFuc2Zvcm06IHByZXByb2Nlc3MgfSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kT3B0aW9uYWwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKSh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RPcHRpb25hbCA9IFpvZE9wdGlvbmFsO1xuWm9kT3B0aW9uYWwuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT3B0aW9uYWwoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT3B0aW9uYWwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2ROdWxsYWJsZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5udWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kTnVsbGFibGUgPSBab2ROdWxsYWJsZTtcblpvZE51bGxhYmxlLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGxhYmxlKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGxhYmxlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kRGVmYXVsdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgbGV0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9kZWYuZGVmYXVsdFZhbHVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlRGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuZXhwb3J0cy5ab2REZWZhdWx0ID0gWm9kRGVmYXVsdDtcblpvZERlZmF1bHQuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0LFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHR5cGVvZiBwYXJhbXMuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICA/IHBhcmFtcy5kZWZhdWx0XG4gICAgICAgICAgICA6ICgpID0+IHBhcmFtcy5kZWZhdWx0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kQ2F0Y2ggZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIC8vIG5ld0N0eCBpcyB1c2VkIHRvIG5vdCBjb2xsZWN0IGlzc3VlcyBmcm9tIGlubmVyIHR5cGVzIGluIGN0eFxuICAgICAgICBjb25zdCBuZXdDdHggPSB7XG4gICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhOiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IG5ld0N0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiB7XG4gICAgICAgICAgICAgICAgLi4ubmV3Q3R4LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICgoMCwgcGFyc2VVdGlsXzEuaXNBc3luYykocmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZXN1bHQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RFcnJvcl8xLlpvZEVycm9yKG5ld0N0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIlxuICAgICAgICAgICAgICAgICAgICA/IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUNhdGNoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5leHBvcnRzLlpvZENhdGNoID0gWm9kQ2F0Y2g7XG5ab2RDYXRjaC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RDYXRjaCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaCxcbiAgICAgICAgY2F0Y2hWYWx1ZTogdHlwZW9mIHBhcmFtcy5jYXRjaCA9PT0gXCJmdW5jdGlvblwiID8gcGFyYW1zLmNhdGNoIDogKCkgPT4gcGFyYW1zLmNhdGNoLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kTmFOIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm5hbikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm5hbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kTmFOID0gWm9kTmFOO1xuWm9kTmFOLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5hTih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmFOLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0cy5CUkFORCA9IFN5bWJvbChcInpvZF9icmFuZFwiKTtcbmNsYXNzIFpvZEJyYW5kZWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kQnJhbmRlZCA9IFpvZEJyYW5kZWQ7XG5jbGFzcyBab2RQaXBlbGluZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlQXN5bmMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5SZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuaW4uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuRElSVFkpKGluUmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVBc3luYygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5SZXN1bHQgPSB0aGlzLl9kZWYuaW4uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcImRpcnR5XCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShhLCBiKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kUGlwZWxpbmUoe1xuICAgICAgICAgICAgaW46IGEsXG4gICAgICAgICAgICBvdXQ6IGIsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFBpcGVsaW5lLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlpvZFBpcGVsaW5lID0gWm9kUGlwZWxpbmU7XG5jbGFzcyBab2RSZWFkb25seSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGlmICgoMCwgcGFyc2VVdGlsXzEuaXNWYWxpZCkocmVzdWx0KSkge1xuICAgICAgICAgICAgcmVzdWx0LnZhbHVlID0gT2JqZWN0LmZyZWV6ZShyZXN1bHQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RSZWFkb25seSA9IFpvZFJlYWRvbmx5O1xuWm9kUmVhZG9ubHkuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kUmVhZG9ubHkoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVhZG9ubHksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jb25zdCBjdXN0b20gPSAoY2hlY2ssIHBhcmFtcyA9IHt9LCBcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqXG4gKiBQYXNzIGBmYXRhbGAgaW50byB0aGUgcGFyYW1zIG9iamVjdCBpbnN0ZWFkOlxuICpcbiAqIGBgYHRzXG4gKiB6LnN0cmluZygpLmN1c3RvbSgodmFsKSA9PiB2YWwubGVuZ3RoID4gNSwgeyBmYXRhbDogZmFsc2UgfSlcbiAqIGBgYFxuICpcbiAqL1xuZmF0YWwpID0+IHtcbiAgICBpZiAoY2hlY2spXG4gICAgICAgIHJldHVybiBab2RBbnkuY3JlYXRlKCkuc3VwZXJSZWZpbmUoKGRhdGEsIGN0eCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmICghY2hlY2soZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICAgICAgID8gcGFyYW1zKGRhdGEpXG4gICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIHBhcmFtcyA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7IG1lc3NhZ2U6IHBhcmFtcyB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHBhcmFtcztcbiAgICAgICAgICAgICAgICBjb25zdCBfZmF0YWwgPSAoX2IgPSAoX2EgPSBwLmZhdGFsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYXRhbCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBwMiA9IHR5cGVvZiBwID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlOiBwIH0gOiBwO1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh7IGNvZGU6IFwiY3VzdG9tXCIsIC4uLnAyLCBmYXRhbDogX2ZhdGFsIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpO1xufTtcbmV4cG9ydHMuY3VzdG9tID0gY3VzdG9tO1xuZXhwb3J0cy5sYXRlID0ge1xuICAgIG9iamVjdDogWm9kT2JqZWN0LmxhenljcmVhdGUsXG59O1xudmFyIFpvZEZpcnN0UGFydHlUeXBlS2luZDtcbihmdW5jdGlvbiAoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kKSB7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU3RyaW5nXCJdID0gXCJab2RTdHJpbmdcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdW1iZXJcIl0gPSBcIlpvZE51bWJlclwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5hTlwiXSA9IFwiWm9kTmFOXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQmlnSW50XCJdID0gXCJab2RCaWdJbnRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCb29sZWFuXCJdID0gXCJab2RCb29sZWFuXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGF0ZVwiXSA9IFwiWm9kRGF0ZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFN5bWJvbFwiXSA9IFwiWm9kU3ltYm9sXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5kZWZpbmVkXCJdID0gXCJab2RVbmRlZmluZWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdWxsXCJdID0gXCJab2ROdWxsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQW55XCJdID0gXCJab2RBbnlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmtub3duXCJdID0gXCJab2RVbmtub3duXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmV2ZXJcIl0gPSBcIlpvZE5ldmVyXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVm9pZFwiXSA9IFwiWm9kVm9pZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEFycmF5XCJdID0gXCJab2RBcnJheVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE9iamVjdFwiXSA9IFwiWm9kT2JqZWN0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5pb25cIl0gPSBcIlpvZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCJdID0gXCJab2REaXNjcmltaW5hdGVkVW5pb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RJbnRlcnNlY3Rpb25cIl0gPSBcIlpvZEludGVyc2VjdGlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFR1cGxlXCJdID0gXCJab2RUdXBsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFJlY29yZFwiXSA9IFwiWm9kUmVjb3JkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTWFwXCJdID0gXCJab2RNYXBcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTZXRcIl0gPSBcIlpvZFNldFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEZ1bmN0aW9uXCJdID0gXCJab2RGdW5jdGlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZExhenlcIl0gPSBcIlpvZExhenlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RMaXRlcmFsXCJdID0gXCJab2RMaXRlcmFsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRW51bVwiXSA9IFwiWm9kRW51bVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEVmZmVjdHNcIl0gPSBcIlpvZEVmZmVjdHNcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROYXRpdmVFbnVtXCJdID0gXCJab2ROYXRpdmVFbnVtXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kT3B0aW9uYWxcIl0gPSBcIlpvZE9wdGlvbmFsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVsbGFibGVcIl0gPSBcIlpvZE51bGxhYmxlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGVmYXVsdFwiXSA9IFwiWm9kRGVmYXVsdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZENhdGNoXCJdID0gXCJab2RDYXRjaFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFByb21pc2VcIl0gPSBcIlpvZFByb21pc2VcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCcmFuZGVkXCJdID0gXCJab2RCcmFuZGVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUGlwZWxpbmVcIl0gPSBcIlpvZFBpcGVsaW5lXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUmVhZG9ubHlcIl0gPSBcIlpvZFJlYWRvbmx5XCI7XG59KShab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSBleHBvcnRzLlpvZEZpcnN0UGFydHlUeXBlS2luZCB8fCAoZXhwb3J0cy5ab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSB7fSkpO1xuLy8gcmVxdWlyZXMgVFMgNC40K1xuY2xhc3MgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKC4uLl8pIHsgfVxufVxuY29uc3QgaW5zdGFuY2VPZlR5cGUgPSAoXG4vLyBjb25zdCBpbnN0YW5jZU9mVHlwZSA9IDxUIGV4dGVuZHMgbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PihcbmNscywgcGFyYW1zID0ge1xuICAgIG1lc3NhZ2U6IGBJbnB1dCBub3QgaW5zdGFuY2Ugb2YgJHtjbHMubmFtZX1gLFxufSkgPT4gKDAsIGV4cG9ydHMuY3VzdG9tKSgoZGF0YSkgPT4gZGF0YSBpbnN0YW5jZW9mIGNscywgcGFyYW1zKTtcbmV4cG9ydHMuaW5zdGFuY2VvZiA9IGluc3RhbmNlT2ZUeXBlO1xuY29uc3Qgc3RyaW5nVHlwZSA9IFpvZFN0cmluZy5jcmVhdGU7XG5leHBvcnRzLnN0cmluZyA9IHN0cmluZ1R5cGU7XG5jb25zdCBudW1iZXJUeXBlID0gWm9kTnVtYmVyLmNyZWF0ZTtcbmV4cG9ydHMubnVtYmVyID0gbnVtYmVyVHlwZTtcbmNvbnN0IG5hblR5cGUgPSBab2ROYU4uY3JlYXRlO1xuZXhwb3J0cy5uYW4gPSBuYW5UeXBlO1xuY29uc3QgYmlnSW50VHlwZSA9IFpvZEJpZ0ludC5jcmVhdGU7XG5leHBvcnRzLmJpZ2ludCA9IGJpZ0ludFR5cGU7XG5jb25zdCBib29sZWFuVHlwZSA9IFpvZEJvb2xlYW4uY3JlYXRlO1xuZXhwb3J0cy5ib29sZWFuID0gYm9vbGVhblR5cGU7XG5jb25zdCBkYXRlVHlwZSA9IFpvZERhdGUuY3JlYXRlO1xuZXhwb3J0cy5kYXRlID0gZGF0ZVR5cGU7XG5jb25zdCBzeW1ib2xUeXBlID0gWm9kU3ltYm9sLmNyZWF0ZTtcbmV4cG9ydHMuc3ltYm9sID0gc3ltYm9sVHlwZTtcbmNvbnN0IHVuZGVmaW5lZFR5cGUgPSBab2RVbmRlZmluZWQuY3JlYXRlO1xuZXhwb3J0cy51bmRlZmluZWQgPSB1bmRlZmluZWRUeXBlO1xuY29uc3QgbnVsbFR5cGUgPSBab2ROdWxsLmNyZWF0ZTtcbmV4cG9ydHMubnVsbCA9IG51bGxUeXBlO1xuY29uc3QgYW55VHlwZSA9IFpvZEFueS5jcmVhdGU7XG5leHBvcnRzLmFueSA9IGFueVR5cGU7XG5jb25zdCB1bmtub3duVHlwZSA9IFpvZFVua25vd24uY3JlYXRlO1xuZXhwb3J0cy51bmtub3duID0gdW5rbm93blR5cGU7XG5jb25zdCBuZXZlclR5cGUgPSBab2ROZXZlci5jcmVhdGU7XG5leHBvcnRzLm5ldmVyID0gbmV2ZXJUeXBlO1xuY29uc3Qgdm9pZFR5cGUgPSBab2RWb2lkLmNyZWF0ZTtcbmV4cG9ydHMudm9pZCA9IHZvaWRUeXBlO1xuY29uc3QgYXJyYXlUeXBlID0gWm9kQXJyYXkuY3JlYXRlO1xuZXhwb3J0cy5hcnJheSA9IGFycmF5VHlwZTtcbmNvbnN0IG9iamVjdFR5cGUgPSBab2RPYmplY3QuY3JlYXRlO1xuZXhwb3J0cy5vYmplY3QgPSBvYmplY3RUeXBlO1xuY29uc3Qgc3RyaWN0T2JqZWN0VHlwZSA9IFpvZE9iamVjdC5zdHJpY3RDcmVhdGU7XG5leHBvcnRzLnN0cmljdE9iamVjdCA9IHN0cmljdE9iamVjdFR5cGU7XG5jb25zdCB1bmlvblR5cGUgPSBab2RVbmlvbi5jcmVhdGU7XG5leHBvcnRzLnVuaW9uID0gdW5pb25UeXBlO1xuY29uc3QgZGlzY3JpbWluYXRlZFVuaW9uVHlwZSA9IFpvZERpc2NyaW1pbmF0ZWRVbmlvbi5jcmVhdGU7XG5leHBvcnRzLmRpc2NyaW1pbmF0ZWRVbmlvbiA9IGRpc2NyaW1pbmF0ZWRVbmlvblR5cGU7XG5jb25zdCBpbnRlcnNlY3Rpb25UeXBlID0gWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZTtcbmV4cG9ydHMuaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uVHlwZTtcbmNvbnN0IHR1cGxlVHlwZSA9IFpvZFR1cGxlLmNyZWF0ZTtcbmV4cG9ydHMudHVwbGUgPSB0dXBsZVR5cGU7XG5jb25zdCByZWNvcmRUeXBlID0gWm9kUmVjb3JkLmNyZWF0ZTtcbmV4cG9ydHMucmVjb3JkID0gcmVjb3JkVHlwZTtcbmNvbnN0IG1hcFR5cGUgPSBab2RNYXAuY3JlYXRlO1xuZXhwb3J0cy5tYXAgPSBtYXBUeXBlO1xuY29uc3Qgc2V0VHlwZSA9IFpvZFNldC5jcmVhdGU7XG5leHBvcnRzLnNldCA9IHNldFR5cGU7XG5jb25zdCBmdW5jdGlvblR5cGUgPSBab2RGdW5jdGlvbi5jcmVhdGU7XG5leHBvcnRzLmZ1bmN0aW9uID0gZnVuY3Rpb25UeXBlO1xuY29uc3QgbGF6eVR5cGUgPSBab2RMYXp5LmNyZWF0ZTtcbmV4cG9ydHMubGF6eSA9IGxhenlUeXBlO1xuY29uc3QgbGl0ZXJhbFR5cGUgPSBab2RMaXRlcmFsLmNyZWF0ZTtcbmV4cG9ydHMubGl0ZXJhbCA9IGxpdGVyYWxUeXBlO1xuY29uc3QgZW51bVR5cGUgPSBab2RFbnVtLmNyZWF0ZTtcbmV4cG9ydHMuZW51bSA9IGVudW1UeXBlO1xuY29uc3QgbmF0aXZlRW51bVR5cGUgPSBab2ROYXRpdmVFbnVtLmNyZWF0ZTtcbmV4cG9ydHMubmF0aXZlRW51bSA9IG5hdGl2ZUVudW1UeXBlO1xuY29uc3QgcHJvbWlzZVR5cGUgPSBab2RQcm9taXNlLmNyZWF0ZTtcbmV4cG9ydHMucHJvbWlzZSA9IHByb21pc2VUeXBlO1xuY29uc3QgZWZmZWN0c1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZTtcbmV4cG9ydHMuZWZmZWN0ID0gZWZmZWN0c1R5cGU7XG5leHBvcnRzLnRyYW5zZm9ybWVyID0gZWZmZWN0c1R5cGU7XG5jb25zdCBvcHRpb25hbFR5cGUgPSBab2RPcHRpb25hbC5jcmVhdGU7XG5leHBvcnRzLm9wdGlvbmFsID0gb3B0aW9uYWxUeXBlO1xuY29uc3QgbnVsbGFibGVUeXBlID0gWm9kTnVsbGFibGUuY3JlYXRlO1xuZXhwb3J0cy5udWxsYWJsZSA9IG51bGxhYmxlVHlwZTtcbmNvbnN0IHByZXByb2Nlc3NUeXBlID0gWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcztcbmV4cG9ydHMucHJlcHJvY2VzcyA9IHByZXByb2Nlc3NUeXBlO1xuY29uc3QgcGlwZWxpbmVUeXBlID0gWm9kUGlwZWxpbmUuY3JlYXRlO1xuZXhwb3J0cy5waXBlbGluZSA9IHBpcGVsaW5lVHlwZTtcbmNvbnN0IG9zdHJpbmcgPSAoKSA9PiBzdHJpbmdUeXBlKCkub3B0aW9uYWwoKTtcbmV4cG9ydHMub3N0cmluZyA9IG9zdHJpbmc7XG5jb25zdCBvbnVtYmVyID0gKCkgPT4gbnVtYmVyVHlwZSgpLm9wdGlvbmFsKCk7XG5leHBvcnRzLm9udW1iZXIgPSBvbnVtYmVyO1xuY29uc3Qgb2Jvb2xlYW4gPSAoKSA9PiBib29sZWFuVHlwZSgpLm9wdGlvbmFsKCk7XG5leHBvcnRzLm9ib29sZWFuID0gb2Jvb2xlYW47XG5leHBvcnRzLmNvZXJjZSA9IHtcbiAgICBzdHJpbmc6ICgoYXJnKSA9PiBab2RTdHJpbmcuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIG51bWJlcjogKChhcmcpID0+IFpvZE51bWJlci5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgYm9vbGVhbjogKChhcmcpID0+IFpvZEJvb2xlYW4uY3JlYXRlKHtcbiAgICAgICAgLi4uYXJnLFxuICAgICAgICBjb2VyY2U6IHRydWUsXG4gICAgfSkpLFxuICAgIGJpZ2ludDogKChhcmcpID0+IFpvZEJpZ0ludC5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgZGF0ZTogKChhcmcpID0+IFpvZERhdGUuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxufTtcbmV4cG9ydHMuTkVWRVIgPSBwYXJzZVV0aWxfMS5JTlZBTElEO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9lcnJvcnNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2hlbHBlcnMvcGFyc2VVdGlsXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9oZWxwZXJzL3R5cGVBbGlhc2VzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9oZWxwZXJzL3V0aWxcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3R5cGVzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9ab2RFcnJvclwiKSwgZXhwb3J0cyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMueiA9IHZvaWQgMDtcbmNvbnN0IHogPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vZXh0ZXJuYWxcIikpO1xuZXhwb3J0cy56ID0gejtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9leHRlcm5hbFwiKSwgZXhwb3J0cyk7XG5leHBvcnRzLmRlZmF1bHQgPSB6O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlQW55RGVmID0gdm9pZCAwO1xuZnVuY3Rpb24gcGFyc2VBbnlEZWYoKSB7XG4gICAgcmV0dXJuIHt9O1xufVxuZXhwb3J0cy5wYXJzZUFueURlZiA9IHBhcnNlQW55RGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgPSBleHBvcnRzLmFkZEVycm9yTWVzc2FnZSA9IHZvaWQgMDtcbmZ1bmN0aW9uIGFkZEVycm9yTWVzc2FnZShyZXMsIGtleSwgZXJyb3JNZXNzYWdlLCByZWZzKSB7XG4gICAgaWYgKCEocmVmcyA9PT0gbnVsbCB8fCByZWZzID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWZzLmVycm9yTWVzc2FnZXMpKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgICAgICByZXMuZXJyb3JNZXNzYWdlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXMuZXJyb3JNZXNzYWdlKSwgeyBba2V5XTogZXJyb3JNZXNzYWdlIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuYWRkRXJyb3JNZXNzYWdlID0gYWRkRXJyb3JNZXNzYWdlO1xuZnVuY3Rpb24gc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIGtleSwgdmFsdWUsIGVycm9yTWVzc2FnZSwgcmVmcykge1xuICAgIHJlc1trZXldID0gdmFsdWU7XG4gICAgYWRkRXJyb3JNZXNzYWdlKHJlcywga2V5LCBlcnJvck1lc3NhZ2UsIHJlZnMpO1xufVxuZXhwb3J0cy5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzID0gc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZUFycmF5RGVmID0gdm9pZCAwO1xuY29uc3Qgem9kXzEgPSByZXF1aXJlKFwiem9kXCIpO1xuY29uc3QgZXJyb3JNZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL2Vycm9yTWVzc2FnZXNcIik7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuZnVuY3Rpb24gcGFyc2VBcnJheURlZihkZWYsIHJlZnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgIH07XG4gICAgaWYgKCgoX2IgPSAoX2EgPSBkZWYudHlwZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLl9kZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50eXBlTmFtZSkgIT09IHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnkpIHtcbiAgICAgICAgcmVzLml0ZW1zID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi50eXBlLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIml0ZW1zXCJdIH0pKTtcbiAgICB9XG4gICAgaWYgKGRlZi5taW5MZW5ndGgpIHtcbiAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWluSXRlbXNcIiwgZGVmLm1pbkxlbmd0aC52YWx1ZSwgZGVmLm1pbkxlbmd0aC5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgaWYgKGRlZi5tYXhMZW5ndGgpIHtcbiAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWF4SXRlbXNcIiwgZGVmLm1heExlbmd0aC52YWx1ZSwgZGVmLm1heExlbmd0aC5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgaWYgKGRlZi5leGFjdExlbmd0aCkge1xuICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtaW5JdGVtc1wiLCBkZWYuZXhhY3RMZW5ndGgudmFsdWUsIGRlZi5leGFjdExlbmd0aC5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWF4SXRlbXNcIiwgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlLCBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSwgcmVmcyk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5leHBvcnRzLnBhcnNlQXJyYXlEZWYgPSBwYXJzZUFycmF5RGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlQmlnaW50RGVmID0gdm9pZCAwO1xuY29uc3QgZXJyb3JNZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL2Vycm9yTWVzc2FnZXNcIik7XG5mdW5jdGlvbiBwYXJzZUJpZ2ludERlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6IFwiaW50ZWdlclwiLFxuICAgICAgICBmb3JtYXQ6IFwiaW50NjRcIixcbiAgICB9O1xuICAgIGlmICghZGVmLmNoZWNrcylcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwibWluXCI6XG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJleGNsdXNpdmVNaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5leGNsdXNpdmVNaW5pbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWF4XCI6XG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJleGNsdXNpdmVNYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5leGNsdXNpdmVNYXhpbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVPZlwiOlxuICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm11bHRpcGxlT2ZcIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5leHBvcnRzLnBhcnNlQmlnaW50RGVmID0gcGFyc2VCaWdpbnREZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VCb29sZWFuRGVmID0gdm9pZCAwO1xuZnVuY3Rpb24gcGFyc2VCb29sZWFuRGVmKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgIH07XG59XG5leHBvcnRzLnBhcnNlQm9vbGVhbkRlZiA9IHBhcnNlQm9vbGVhbkRlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZUJyYW5kZWREZWYgPSB2b2lkIDA7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuZnVuY3Rpb24gcGFyc2VCcmFuZGVkRGVmKF9kZWYsIHJlZnMpIHtcbiAgICByZXR1cm4gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKF9kZWYudHlwZS5fZGVmLCByZWZzKTtcbn1cbmV4cG9ydHMucGFyc2VCcmFuZGVkRGVmID0gcGFyc2VCcmFuZGVkRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlQ2F0Y2hEZWYgPSB2b2lkIDA7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuY29uc3QgcGFyc2VDYXRjaERlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICByZXR1cm4gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyk7XG59O1xuZXhwb3J0cy5wYXJzZUNhdGNoRGVmID0gcGFyc2VDYXRjaERlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZURhdGVEZWYgPSB2b2lkIDA7XG5jb25zdCBlcnJvck1lc3NhZ2VzXzEgPSByZXF1aXJlKFwiLi4vZXJyb3JNZXNzYWdlc1wiKTtcbmZ1bmN0aW9uIHBhcnNlRGF0ZURlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAocmVmcy5kYXRlU3RyYXRlZ3kgPT0gXCJpbnRlZ2VyXCIpIHtcbiAgICAgICAgcmV0dXJuIGludGVnZXJEYXRlUGFyc2VyKGRlZiwgcmVmcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGZvcm1hdDogXCJkYXRlLXRpbWVcIixcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLnBhcnNlRGF0ZURlZiA9IHBhcnNlRGF0ZURlZjtcbmNvbnN0IGludGVnZXJEYXRlUGFyc2VyID0gKGRlZiwgcmVmcykgPT4ge1xuICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgdHlwZTogXCJpbnRlZ2VyXCIsXG4gICAgICAgIGZvcm1hdDogXCJ1bml4LXRpbWVcIixcbiAgICB9O1xuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgICAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtaW5cIjpcbiAgICAgICAgICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikge1xuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCAvLyBUaGlzIGlzIGluIG1pbGxpc2Vjb25kc1xuICAgICAgICAgICAgICAgICAgICBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWF4XCI6XG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWF4aW11bVwiLCBjaGVjay52YWx1ZSwgLy8gVGhpcyBpcyBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgICAgICAgICAgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlRGVmYXVsdERlZiA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5mdW5jdGlvbiBwYXJzZURlZmF1bHREZWYoX2RlZiwgcmVmcykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShfZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKSksIHsgZGVmYXVsdDogX2RlZi5kZWZhdWx0VmFsdWUoKSB9KTtcbn1cbmV4cG9ydHMucGFyc2VEZWZhdWx0RGVmID0gcGFyc2VEZWZhdWx0RGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlRWZmZWN0c0RlZiA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5mdW5jdGlvbiBwYXJzZUVmZmVjdHNEZWYoX2RlZiwgcmVmcykge1xuICAgIHJldHVybiByZWZzLmVmZmVjdFN0cmF0ZWd5ID09PSBcImlucHV0XCJcbiAgICAgICAgPyAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoX2RlZi5zY2hlbWEuX2RlZiwgcmVmcylcbiAgICAgICAgOiB7fTtcbn1cbmV4cG9ydHMucGFyc2VFZmZlY3RzRGVmID0gcGFyc2VFZmZlY3RzRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlRW51bURlZiA9IHZvaWQgMDtcbmZ1bmN0aW9uIHBhcnNlRW51bURlZihkZWYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBlbnVtOiBkZWYudmFsdWVzLFxuICAgIH07XG59XG5leHBvcnRzLnBhcnNlRW51bURlZiA9IHBhcnNlRW51bURlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZUludGVyc2VjdGlvbkRlZiA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5jb25zdCBpc0pzb25TY2hlbWE3QWxsT2ZUeXBlID0gKHR5cGUpID0+IHtcbiAgICBpZiAoXCJ0eXBlXCIgaW4gdHlwZSAmJiB0eXBlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gXCJhbGxPZlwiIGluIHR5cGU7XG59O1xuZnVuY3Rpb24gcGFyc2VJbnRlcnNlY3Rpb25EZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgYWxsT2YgPSBbXG4gICAgICAgICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYubGVmdC5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhbGxPZlwiLCBcIjBcIl0gfSkpLFxuICAgICAgICAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLnJpZ2h0Ll9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFsbE9mXCIsIFwiMVwiXSB9KSksXG4gICAgXS5maWx0ZXIoKHgpID0+ICEheCk7XG4gICAgbGV0IHVuZXZhbHVhdGVkUHJvcGVydGllcyA9IHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWEyMDE5LTA5XCJcbiAgICAgICAgPyB7IHVuZXZhbHVhdGVkUHJvcGVydGllczogZmFsc2UgfVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBtZXJnZWRBbGxPZiA9IFtdO1xuICAgIC8vIElmIGVpdGhlciBvZiB0aGUgc2NoZW1hcyBpcyBhbiBhbGxPZiwgbWVyZ2UgdGhlbSBpbnRvIGEgc2luZ2xlIGFsbE9mXG4gICAgYWxsT2YuZm9yRWFjaCgoc2NoZW1hKSA9PiB7XG4gICAgICAgIGlmIChpc0pzb25TY2hlbWE3QWxsT2ZUeXBlKHNjaGVtYSkpIHtcbiAgICAgICAgICAgIG1lcmdlZEFsbE9mLnB1c2goLi4uc2NoZW1hLmFsbE9mKTtcbiAgICAgICAgICAgIGlmIChzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBvbmUgb2YgdGhlIHNjaGVtYXMgaGFzIG5vIHVuZXZhbHVhdGVkUHJvcGVydGllcyBzZXQsXG4gICAgICAgICAgICAgICAgLy8gdGhlIG1lcmdlZCBzY2hlbWEgc2hvdWxkIGFsc28gaGF2ZSBubyB1bmV2YWx1YXRlZFByb3BlcnRpZXMgc2V0XG4gICAgICAgICAgICAgICAgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IG5lc3RlZFNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgICAgIGlmIChcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCIgaW4gc2NoZW1hICYmXG4gICAgICAgICAgICAgICAgc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYWRkaXRpb25hbFByb3BlcnRpZXMgfSA9IHNjaGVtYSwgcmVzdCA9IF9fcmVzdChzY2hlbWEsIFtcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdKTtcbiAgICAgICAgICAgICAgICBuZXN0ZWRTY2hlbWEgPSByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQXMgc29vbiBhcyBvbmUgb2YgdGhlIHNjaGVtYXMgaGFzIGFkZGl0aW9uYWxQcm9wZXJ0aWVzIHNldCBub3QgdG8gZmFsc2UsIHdlIGFsbG93IHVuZXZhbHVhdGVkUHJvcGVydGllc1xuICAgICAgICAgICAgICAgIHVuZXZhbHVhdGVkUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lcmdlZEFsbE9mLnB1c2gobmVzdGVkU2NoZW1hKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBtZXJnZWRBbGxPZi5sZW5ndGhcbiAgICAgICAgPyBPYmplY3QuYXNzaWduKHsgYWxsT2Y6IG1lcmdlZEFsbE9mIH0sIHVuZXZhbHVhdGVkUHJvcGVydGllcykgOiB1bmRlZmluZWQ7XG59XG5leHBvcnRzLnBhcnNlSW50ZXJzZWN0aW9uRGVmID0gcGFyc2VJbnRlcnNlY3Rpb25EZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VMaXRlcmFsRGVmID0gdm9pZCAwO1xuZnVuY3Rpb24gcGFyc2VMaXRlcmFsRGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0eXBlb2YgZGVmLnZhbHVlO1xuICAgIGlmIChwYXJzZWRUeXBlICE9PSBcImJpZ2ludFwiICYmXG4gICAgICAgIHBhcnNlZFR5cGUgIT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgcGFyc2VkVHlwZSAhPT0gXCJib29sZWFuXCIgJiZcbiAgICAgICAgcGFyc2VkVHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogQXJyYXkuaXNBcnJheShkZWYudmFsdWUpID8gXCJhcnJheVwiIDogXCJvYmplY3RcIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IHBhcnNlZFR5cGUgPT09IFwiYmlnaW50XCIgPyBcImludGVnZXJcIiA6IHBhcnNlZFR5cGUsXG4gICAgICAgICAgICBlbnVtOiBbZGVmLnZhbHVlXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogcGFyc2VkVHlwZSA9PT0gXCJiaWdpbnRcIiA/IFwiaW50ZWdlclwiIDogcGFyc2VkVHlwZSxcbiAgICAgICAgY29uc3Q6IGRlZi52YWx1ZSxcbiAgICB9O1xufVxuZXhwb3J0cy5wYXJzZUxpdGVyYWxEZWYgPSBwYXJzZUxpdGVyYWxEZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VNYXBEZWYgPSB2b2lkIDA7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuZnVuY3Rpb24gcGFyc2VNYXBEZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3Qga2V5cyA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYua2V5VHlwZS5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJpdGVtc1wiLCBcIml0ZW1zXCIsIFwiMFwiXSB9KSkgfHwge307XG4gICAgY29uc3QgdmFsdWVzID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi52YWx1ZVR5cGUuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIiwgXCJpdGVtc1wiLCBcIjFcIl0gfSkpIHx8IHt9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgbWF4SXRlbXM6IDEyNSxcbiAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIGl0ZW1zOiBba2V5cywgdmFsdWVzXSxcbiAgICAgICAgICAgIG1pbkl0ZW1zOiAyLFxuICAgICAgICAgICAgbWF4SXRlbXM6IDIsXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydHMucGFyc2VNYXBEZWYgPSBwYXJzZU1hcERlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZU5hdGl2ZUVudW1EZWYgPSB2b2lkIDA7XG5mdW5jdGlvbiBwYXJzZU5hdGl2ZUVudW1EZWYoZGVmKSB7XG4gICAgY29uc3Qgb2JqZWN0ID0gZGVmLnZhbHVlcztcbiAgICBjb25zdCBhY3R1YWxLZXlzID0gT2JqZWN0LmtleXMoZGVmLnZhbHVlcykuZmlsdGVyKChrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmplY3Rbb2JqZWN0W2tleV1dICE9PSBcIm51bWJlclwiO1xuICAgIH0pO1xuICAgIGNvbnN0IGFjdHVhbFZhbHVlcyA9IGFjdHVhbEtleXMubWFwKChrZXkpID0+IG9iamVjdFtrZXldKTtcbiAgICBjb25zdCBwYXJzZWRUeXBlcyA9IEFycmF5LmZyb20obmV3IFNldChhY3R1YWxWYWx1ZXMubWFwKCh2YWx1ZXMpID0+IHR5cGVvZiB2YWx1ZXMpKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogcGFyc2VkVHlwZXMubGVuZ3RoID09PSAxXG4gICAgICAgICAgICA/IHBhcnNlZFR5cGVzWzBdID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgPyBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgOiBcIm51bWJlclwiXG4gICAgICAgICAgICA6IFtcInN0cmluZ1wiLCBcIm51bWJlclwiXSxcbiAgICAgICAgZW51bTogYWN0dWFsVmFsdWVzLFxuICAgIH07XG59XG5leHBvcnRzLnBhcnNlTmF0aXZlRW51bURlZiA9IHBhcnNlTmF0aXZlRW51bURlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZU5ldmVyRGVmID0gdm9pZCAwO1xuZnVuY3Rpb24gcGFyc2VOZXZlckRlZigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBub3Q6IHt9LFxuICAgIH07XG59XG5leHBvcnRzLnBhcnNlTmV2ZXJEZWYgPSBwYXJzZU5ldmVyRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlTnVsbERlZiA9IHZvaWQgMDtcbmZ1bmN0aW9uIHBhcnNlTnVsbERlZihyZWZzKSB7XG4gICAgcmV0dXJuIHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCJcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBlbnVtOiBbXCJudWxsXCJdLFxuICAgICAgICAgICAgbnVsbGFibGU6IHRydWUsXG4gICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICB0eXBlOiBcIm51bGxcIixcbiAgICAgICAgfTtcbn1cbmV4cG9ydHMucGFyc2VOdWxsRGVmID0gcGFyc2VOdWxsRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlVW5pb25EZWYgPSBleHBvcnRzLnByaW1pdGl2ZU1hcHBpbmdzID0gdm9pZCAwO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmV4cG9ydHMucHJpbWl0aXZlTWFwcGluZ3MgPSB7XG4gICAgWm9kU3RyaW5nOiBcInN0cmluZ1wiLFxuICAgIFpvZE51bWJlcjogXCJudW1iZXJcIixcbiAgICBab2RCaWdJbnQ6IFwiaW50ZWdlclwiLFxuICAgIFpvZEJvb2xlYW46IFwiYm9vbGVhblwiLFxuICAgIFpvZE51bGw6IFwibnVsbFwiLFxufTtcbmZ1bmN0aW9uIHBhcnNlVW5pb25EZWYoZGVmLCByZWZzKSB7XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpXG4gICAgICAgIHJldHVybiBhc0FueU9mKGRlZiwgcmVmcyk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGRlZi5vcHRpb25zIGluc3RhbmNlb2YgTWFwID8gQXJyYXkuZnJvbShkZWYub3B0aW9ucy52YWx1ZXMoKSkgOiBkZWYub3B0aW9ucztcbiAgICAvLyBUaGlzIGJsb2NrcyB0cmllcyB0byBsb29rIGFoZWFkIGEgYml0IHRvIHByb2R1Y2UgbmljZXIgbG9va2luZyBzY2hlbWFzIHdpdGggdHlwZSBhcnJheSBpbnN0ZWFkIG9mIGFueU9mLlxuICAgIGlmIChvcHRpb25zLmV2ZXJ5KCh4KSA9PiB4Ll9kZWYudHlwZU5hbWUgaW4gZXhwb3J0cy5wcmltaXRpdmVNYXBwaW5ncyAmJlxuICAgICAgICAoIXguX2RlZi5jaGVja3MgfHwgIXguX2RlZi5jaGVja3MubGVuZ3RoKSkpIHtcbiAgICAgICAgLy8gYWxsIHR5cGVzIGluIHVuaW9uIGFyZSBwcmltaXRpdmUgYW5kIGxhY2sgY2hlY2tzLCBzbyBtaWdodCBhcyB3ZWxsIHNxdWFzaCBpbnRvIHt0eXBlOiBbLi4uXX1cbiAgICAgICAgY29uc3QgdHlwZXMgPSBvcHRpb25zLnJlZHVjZSgodHlwZXMsIHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBleHBvcnRzLnByaW1pdGl2ZU1hcHBpbmdzW3guX2RlZi50eXBlTmFtZV07IC8vQ2FuIGJlIHNhZmVseSBjYXN0ZWQgZHVlIHRvIHJvdyA0M1xuICAgICAgICAgICAgcmV0dXJuIHR5cGUgJiYgIXR5cGVzLmluY2x1ZGVzKHR5cGUpID8gWy4uLnR5cGVzLCB0eXBlXSA6IHR5cGVzO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlcy5sZW5ndGggPiAxID8gdHlwZXMgOiB0eXBlc1swXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3B0aW9ucy5ldmVyeSgoeCkgPT4geC5fZGVmLnR5cGVOYW1lID09PSBcIlpvZExpdGVyYWxcIiAmJiAheC5kZXNjcmlwdGlvbikpIHtcbiAgICAgICAgLy8gYWxsIG9wdGlvbnMgbGl0ZXJhbHNcbiAgICAgICAgY29uc3QgdHlwZXMgPSBvcHRpb25zLnJlZHVjZSgoYWNjLCB4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mIHguX2RlZi52YWx1ZTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIHR5cGVdO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIFwiaW50ZWdlclwiXTtcbiAgICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh4Ll9kZWYudmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgXCJudWxsXCJdO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgW10pO1xuICAgICAgICBpZiAodHlwZXMubGVuZ3RoID09PSBvcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gYWxsIHRoZSBsaXRlcmFscyBhcmUgcHJpbWl0aXZlLCBhcyBmYXIgYXMgbnVsbCBjYW4gYmUgY29uc2lkZXJlZCBwcmltaXRpdmVcbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZVR5cGVzID0gdHlwZXMuZmlsdGVyKCh4LCBpLCBhKSA9PiBhLmluZGV4T2YoeCkgPT09IGkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB1bmlxdWVUeXBlcy5sZW5ndGggPiAxID8gdW5pcXVlVHlwZXMgOiB1bmlxdWVUeXBlc1swXSxcbiAgICAgICAgICAgICAgICBlbnVtOiBvcHRpb25zLnJlZHVjZSgoYWNjLCB4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2MuaW5jbHVkZXMoeC5fZGVmLnZhbHVlKSA/IGFjYyA6IFsuLi5hY2MsIHguX2RlZi52YWx1ZV07XG4gICAgICAgICAgICAgICAgfSwgW10pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChvcHRpb25zLmV2ZXJ5KCh4KSA9PiB4Ll9kZWYudHlwZU5hbWUgPT09IFwiWm9kRW51bVwiKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGVudW06IG9wdGlvbnMucmVkdWNlKChhY2MsIHgpID0+IFtcbiAgICAgICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICAgICAgLi4ueC5fZGVmLnZhbHVlcy5maWx0ZXIoKHgpID0+ICFhY2MuaW5jbHVkZXMoeCkpLFxuICAgICAgICAgICAgXSwgW10pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYXNBbnlPZihkZWYsIHJlZnMpO1xufVxuZXhwb3J0cy5wYXJzZVVuaW9uRGVmID0gcGFyc2VVbmlvbkRlZjtcbmNvbnN0IGFzQW55T2YgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgY29uc3QgYW55T2YgPSAoZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXBcbiAgICAgICAgPyBBcnJheS5mcm9tKGRlZi5vcHRpb25zLnZhbHVlcygpKVxuICAgICAgICA6IGRlZi5vcHRpb25zKVxuICAgICAgICAubWFwKCh4LCBpKSA9PiAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoeC5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhbnlPZlwiLCBgJHtpfWBdIH0pKSlcbiAgICAgICAgLmZpbHRlcigoeCkgPT4gISF4ICYmXG4gICAgICAgICghcmVmcy5zdHJpY3RVbmlvbnMgfHxcbiAgICAgICAgICAgICh0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3Qua2V5cyh4KS5sZW5ndGggPiAwKSkpO1xuICAgIHJldHVybiBhbnlPZi5sZW5ndGggPyB7IGFueU9mIH0gOiB1bmRlZmluZWQ7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlTnVsbGFibGVEZWYgPSB2b2lkIDA7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuY29uc3QgdW5pb25fMSA9IHJlcXVpcmUoXCIuL3VuaW9uXCIpO1xuZnVuY3Rpb24gcGFyc2VOdWxsYWJsZURlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAoW1wiWm9kU3RyaW5nXCIsIFwiWm9kTnVtYmVyXCIsIFwiWm9kQmlnSW50XCIsIFwiWm9kQm9vbGVhblwiLCBcIlpvZE51bGxcIl0uaW5jbHVkZXMoZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lKSAmJlxuICAgICAgICAoIWRlZi5pbm5lclR5cGUuX2RlZi5jaGVja3MgfHwgIWRlZi5pbm5lclR5cGUuX2RlZi5jaGVja3MubGVuZ3RoKSkge1xuICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB1bmlvbl8xLnByaW1pdGl2ZU1hcHBpbmdzW2RlZi5pbm5lclR5cGUuX2RlZi50eXBlTmFtZV0sXG4gICAgICAgICAgICAgICAgbnVsbGFibGU6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBbXG4gICAgICAgICAgICAgICAgdW5pb25fMS5wcmltaXRpdmVNYXBwaW5nc1tkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWVdLFxuICAgICAgICAgICAgICAgIFwibnVsbFwiLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpIHtcbiAgICAgICAgY29uc3QgYmFzZSA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYuaW5uZXJUeXBlLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoXSB9KSk7XG4gICAgICAgIHJldHVybiBiYXNlICYmIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYmFzZSksIHsgbnVsbGFibGU6IHRydWUgfSk7XG4gICAgfVxuICAgIGNvbnN0IGJhc2UgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmlubmVyVHlwZS5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhbnlPZlwiLCBcIjBcIl0gfSkpO1xuICAgIHJldHVybiBiYXNlICYmIHsgYW55T2Y6IFtiYXNlLCB7IHR5cGU6IFwibnVsbFwiIH1dIH07XG59XG5leHBvcnRzLnBhcnNlTnVsbGFibGVEZWYgPSBwYXJzZU51bGxhYmxlRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlTnVtYmVyRGVmID0gdm9pZCAwO1xuY29uc3QgZXJyb3JNZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL2Vycm9yTWVzc2FnZXNcIik7XG5mdW5jdGlvbiBwYXJzZU51bWJlckRlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgfTtcbiAgICBpZiAoIWRlZi5jaGVja3MpXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgY2FzZSBcImludFwiOlxuICAgICAgICAgICAgICAgIHJlcy50eXBlID0gXCJpbnRlZ2VyXCI7XG4gICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5hZGRFcnJvck1lc3NhZ2UpKHJlcywgXCJ0eXBlXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1pblwiOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwiZXhjbHVzaXZlTWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWluaW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1heFwiOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwiZXhjbHVzaXZlTWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWF4aW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlT2ZcIjpcbiAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtdWx0aXBsZU9mXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZXhwb3J0cy5wYXJzZU51bWJlckRlZiA9IHBhcnNlTnVtYmVyRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlT2JqZWN0RGVmID0gZXhwb3J0cy5wYXJzZU9iamVjdERlZlggPSB2b2lkIDA7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuZnVuY3Rpb24gcGFyc2VPYmplY3REZWZYKGRlZiwgcmVmcykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgT2JqZWN0LmtleXMoZGVmLnNoYXBlKCkpLnJlZHVjZSgoc2NoZW1hLCBrZXkpID0+IHtcbiAgICAgICAgbGV0IHByb3AgPSBkZWYuc2hhcGUoKVtrZXldO1xuICAgICAgICBjb25zdCBpc09wdGlvbmFsID0gcHJvcC5pc09wdGlvbmFsKCk7XG4gICAgICAgIGlmICghaXNPcHRpb25hbCkge1xuICAgICAgICAgICAgcHJvcCA9IE9iamVjdC5hc3NpZ24oe30sIHByb3AuX2RlZi5pbm5lclNjaGVtYSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvcFNjaGVtYSA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShwcm9wLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcInByb3BlcnRpZXNcIiwga2V5XSwgcHJvcGVydHlQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJwcm9wZXJ0aWVzXCIsIGtleV0gfSkpO1xuICAgICAgICBpZiAocHJvcFNjaGVtYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzY2hlbWEucHJvcGVydGllc1trZXldID0gcHJvcFNjaGVtYTtcbiAgICAgICAgICAgIGlmICghaXNPcHRpb25hbCkge1xuICAgICAgICAgICAgICAgIGlmICghc2NoZW1hLnJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5yZXF1aXJlZCA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzY2hlbWEucmVxdWlyZWQucHVzaChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfSwge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGRlZi5jYXRjaGFsbC5fZGVmLnR5cGVOYW1lID09PSBcIlpvZE5ldmVyXCJcbiAgICAgICAgICAgID8gZGVmLnVua25vd25LZXlzID09PSBcInBhc3N0aHJvdWdoXCJcbiAgICAgICAgICAgIDogKF9hID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5jYXRjaGFsbC5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXSB9KSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRydWUsXG4gICAgfSk7XG4gICAgY29uc3QgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgdHlwZTogXCJvYmplY3RcIiB9LCBPYmplY3QuZW50cmllcyhkZWYuc2hhcGUoKSkucmVkdWNlKChhY2MsIFtwcm9wTmFtZSwgcHJvcERlZl0pID0+IHtcbiAgICAgICAgaWYgKHByb3BEZWYgPT09IHVuZGVmaW5lZCB8fCBwcm9wRGVmLl9kZWYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIGNvbnN0IHBhcnNlZERlZiA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShwcm9wRGVmLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcInByb3BlcnRpZXNcIiwgcHJvcE5hbWVdLCBwcm9wZXJ0eVBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcInByb3BlcnRpZXNcIiwgcHJvcE5hbWVdIH0pKTtcbiAgICAgICAgaWYgKHBhcnNlZERlZiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYWNjLnByb3BlcnRpZXMpLCB7IFtwcm9wTmFtZV06IHBhcnNlZERlZiB9KSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBwcm9wRGVmLmlzT3B0aW9uYWwoKVxuICAgICAgICAgICAgICAgID8gYWNjLnJlcXVpcmVkXG4gICAgICAgICAgICAgICAgOiBbLi4uYWNjLnJlcXVpcmVkLCBwcm9wTmFtZV0sXG4gICAgICAgIH07XG4gICAgfSwgeyBwcm9wZXJ0aWVzOiB7fSwgcmVxdWlyZWQ6IFtdIH0pKSwgeyBhZGRpdGlvbmFsUHJvcGVydGllczogZGVmLmNhdGNoYWxsLl9kZWYudHlwZU5hbWUgPT09IFwiWm9kTmV2ZXJcIlxuICAgICAgICAgICAgPyBkZWYudW5rbm93bktleXMgPT09IFwicGFzc3Rocm91Z2hcIlxuICAgICAgICAgICAgOiAoX2IgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmNhdGNoYWxsLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdIH0pKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZSB9KTtcbiAgICBpZiAoIXJlc3VsdC5yZXF1aXJlZC5sZW5ndGgpXG4gICAgICAgIGRlbGV0ZSByZXN1bHQucmVxdWlyZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMucGFyc2VPYmplY3REZWZYID0gcGFyc2VPYmplY3REZWZYO1xuZnVuY3Rpb24gcGFyc2VPYmplY3REZWYoZGVmLCByZWZzKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IHR5cGU6IFwib2JqZWN0XCIgfSwgT2JqZWN0LmVudHJpZXMoZGVmLnNoYXBlKCkpLnJlZHVjZSgoYWNjLCBbcHJvcE5hbWUsIHByb3BEZWZdKSA9PiB7XG4gICAgICAgIGlmIChwcm9wRGVmID09PSB1bmRlZmluZWQgfHwgcHJvcERlZi5fZGVmID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICBjb25zdCBwYXJzZWREZWYgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikocHJvcERlZi5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJwcm9wZXJ0aWVzXCIsIHByb3BOYW1lXSwgcHJvcGVydHlQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJwcm9wZXJ0aWVzXCIsIHByb3BOYW1lXSB9KSk7XG4gICAgICAgIGlmIChwYXJzZWREZWYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGFjYy5wcm9wZXJ0aWVzKSwgeyBbcHJvcE5hbWVdOiBwYXJzZWREZWYgfSksXG4gICAgICAgICAgICByZXF1aXJlZDogcHJvcERlZi5pc09wdGlvbmFsKClcbiAgICAgICAgICAgICAgICA/IGFjYy5yZXF1aXJlZFxuICAgICAgICAgICAgICAgIDogWy4uLmFjYy5yZXF1aXJlZCwgcHJvcE5hbWVdLFxuICAgICAgICB9O1xuICAgIH0sIHsgcHJvcGVydGllczoge30sIHJlcXVpcmVkOiBbXSB9KSksIHsgYWRkaXRpb25hbFByb3BlcnRpZXM6IGRlZi5jYXRjaGFsbC5fZGVmLnR5cGVOYW1lID09PSBcIlpvZE5ldmVyXCJcbiAgICAgICAgICAgID8gZGVmLnVua25vd25LZXlzID09PSBcInBhc3N0aHJvdWdoXCJcbiAgICAgICAgICAgIDogKF9hID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5jYXRjaGFsbC5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXSB9KSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRydWUgfSk7XG4gICAgaWYgKCFyZXN1bHQucmVxdWlyZWQubGVuZ3RoKVxuICAgICAgICBkZWxldGUgcmVzdWx0LnJlcXVpcmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLnBhcnNlT2JqZWN0RGVmID0gcGFyc2VPYmplY3REZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VPcHRpb25hbERlZiA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5jb25zdCBwYXJzZU9wdGlvbmFsRGVmID0gKGRlZiwgcmVmcykgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpZiAocmVmcy5jdXJyZW50UGF0aC50b1N0cmluZygpID09PSAoKF9hID0gcmVmcy5wcm9wZXJ0eVBhdGgpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b1N0cmluZygpKSkge1xuICAgICAgICByZXR1cm4gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyk7XG4gICAgfVxuICAgIGNvbnN0IGlubmVyU2NoZW1hID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5pbm5lclR5cGUuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYW55T2ZcIiwgXCIxXCJdIH0pKTtcbiAgICByZXR1cm4gaW5uZXJTY2hlbWFcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBhbnlPZjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbm90OiB7fSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlubmVyU2NoZW1hLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgICA6IHt9O1xufTtcbmV4cG9ydHMucGFyc2VPcHRpb25hbERlZiA9IHBhcnNlT3B0aW9uYWxEZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VQaXBlbGluZURlZiA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5jb25zdCBwYXJzZVBpcGVsaW5lRGVmID0gKGRlZiwgcmVmcykgPT4ge1xuICAgIGlmIChyZWZzLnBpcGVTdHJhdGVneSA9PT0gXCJpbnB1dFwiKSB7XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmluLl9kZWYsIHJlZnMpO1xuICAgIH1cbiAgICBjb25zdCBhID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5pbi5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhbGxPZlwiLCBcIjBcIl0gfSkpO1xuICAgIGNvbnN0IGIgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLm91dC5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhbGxPZlwiLCBhID8gXCIxXCIgOiBcIjBcIl0gfSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFsbE9mOiBbYSwgYl0uZmlsdGVyKCh4KSA9PiB4ICE9PSB1bmRlZmluZWQpLFxuICAgIH07XG59O1xuZXhwb3J0cy5wYXJzZVBpcGVsaW5lRGVmID0gcGFyc2VQaXBlbGluZURlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZVByb21pc2VEZWYgPSB2b2lkIDA7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuZnVuY3Rpb24gcGFyc2VQcm9taXNlRGVmKGRlZiwgcmVmcykge1xuICAgIHJldHVybiAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLnR5cGUuX2RlZiwgcmVmcyk7XG59XG5leHBvcnRzLnBhcnNlUHJvbWlzZURlZiA9IHBhcnNlUHJvbWlzZURlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZVN0cmluZ0RlZiA9IGV4cG9ydHMuZW1vamlQYXR0ZXJuID0gZXhwb3J0cy51bGlkUGF0dGVybiA9IGV4cG9ydHMuY3VpZDJQYXR0ZXJuID0gZXhwb3J0cy5jdWlkUGF0dGVybiA9IGV4cG9ydHMuZW1haWxQYXR0ZXJuID0gdm9pZCAwO1xuY29uc3QgZXJyb3JNZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL2Vycm9yTWVzc2FnZXNcIik7XG5leHBvcnRzLmVtYWlsUGF0dGVybiA9ICdeKChbXjw+KClbXFxcXF1cXFxcXFxcXC4sOzpcXFxcc0BcXFxcXCJdKyhcXFxcLltePD4oKVtcXFxcXVxcXFxcXFxcLiw7OlxcXFxzQFxcXFxcIl0rKSopfChcXFxcXCIuK1xcXFxcIikpQCgoXFxcXFsoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXFxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcXFxdKXwoXFxcXFtJUHY2OigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKVxcXFxdKXwoW0EtWmEtejAtOV0oW0EtWmEtejAtOS1dKltBLVphLXowLTldKSooXFxcXC5bQS1aYS16XXsyLH0pKykpJCc7XG5leHBvcnRzLmN1aWRQYXR0ZXJuID0gXCJeY1teXFxcXHMtXXs4LH0kXCI7XG5leHBvcnRzLmN1aWQyUGF0dGVybiA9IFwiXlthLXpdW2EtejAtOV0qJFwiO1xuZXhwb3J0cy51bGlkUGF0dGVybiA9IFwiL1swLTlBLUhKS01OUC1UVi1aXXsyNn0vXCI7XG5leHBvcnRzLmVtb2ppUGF0dGVybiA9IFwiL14ocHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fHB7RW1vamlfQ29tcG9uZW50fSkrJC91XCI7XG5mdW5jdGlvbiBwYXJzZVN0cmluZ0RlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgfTtcbiAgICBpZiAoZGVmLmNoZWNrcykge1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtaW5cIjpcbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWluTGVuZ3RoXCIsIHR5cGVvZiByZXMubWluTGVuZ3RoID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtYXhcIjpcbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWF4TGVuZ3RoXCIsIHR5cGVvZiByZXMubWF4TGVuZ3RoID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWluKHJlcy5tYXhMZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlbWFpbFwiOlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlZnMuZW1haWxTdHJhdGVneSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZvcm1hdDplbWFpbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiZW1haWxcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZm9ybWF0Omlkbi1lbWFpbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiaWRuLWVtYWlsXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBhdHRlcm46em9kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIGV4cG9ydHMuZW1haWxQYXR0ZXJuLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwidXJsXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwidXJpXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwidXVpZFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCBcInV1aWRcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyZWdleFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgY2hlY2sucmVnZXguc291cmNlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImN1aWRcIjpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIGV4cG9ydHMuY3VpZFBhdHRlcm4sIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY3VpZDJcIjpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIGV4cG9ydHMuY3VpZDJQYXR0ZXJuLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0YXJ0c1dpdGhcIjpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIFwiXlwiICsgZXNjYXBlTm9uQWxwaGFOdW1lcmljKGNoZWNrLnZhbHVlKSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRzV2l0aFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgZXNjYXBlTm9uQWxwaGFOdW1lcmljKGNoZWNrLnZhbHVlKSArIFwiJFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhdGV0aW1lXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiZGF0ZS10aW1lXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibGVuZ3RoXCI6XG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1pbkxlbmd0aFwiLCB0eXBlb2YgcmVzLm1pbkxlbmd0aCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBNYXRoLm1heChyZXMubWluTGVuZ3RoLCBjaGVjay52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtYXhMZW5ndGhcIiwgdHlwZW9mIHJlcy5tYXhMZW5ndGggPT09IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gTWF0aC5taW4ocmVzLm1heExlbmd0aCwgY2hlY2sudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImluY2x1ZGVzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIGVzY2FwZU5vbkFscGhhTnVtZXJpYyhjaGVjay52YWx1ZSksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcImlwXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLnZlcnNpb24gIT09IFwidjZcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgXCJpcHY0XCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSBcInY0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiaXB2NlwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcImVtb2ppXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBleHBvcnRzLmVtb2ppUGF0dGVybiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ1bGlkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIGV4cG9ydHMudWxpZFBhdHRlcm4sIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcInRvTG93ZXJDYXNlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInRvVXBwZXJDYXNlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInRyaW1cIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gSSBoYXZlIG5vIGlkZWEgd2h5IHRoZXNlIGFyZSBjaGVja3MgaW4gWm9kIPCfpLdcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgKChfKSA9PiB7IH0pKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZXhwb3J0cy5wYXJzZVN0cmluZ0RlZiA9IHBhcnNlU3RyaW5nRGVmO1xuY29uc3QgZXNjYXBlTm9uQWxwaGFOdW1lcmljID0gKHZhbHVlKSA9PiBBcnJheS5mcm9tKHZhbHVlKVxuICAgIC5tYXAoKGMpID0+ICgvW2EtekEtWjAtOV0vLnRlc3QoYykgPyBjIDogYFxcXFwke2N9YCkpXG4gICAgLmpvaW4oXCJcIik7XG5jb25zdCBhZGRGb3JtYXQgPSAoc2NoZW1hLCB2YWx1ZSwgbWVzc2FnZSwgcmVmcykgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpZiAoc2NoZW1hLmZvcm1hdCB8fCAoKF9hID0gc2NoZW1hLmFueU9mKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc29tZSgoeCkgPT4geC5mb3JtYXQpKSkge1xuICAgICAgICBpZiAoIXNjaGVtYS5hbnlPZikge1xuICAgICAgICAgICAgc2NoZW1hLmFueU9mID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYS5mb3JtYXQpIHtcbiAgICAgICAgICAgIHNjaGVtYS5hbnlPZi5wdXNoKE9iamVjdC5hc3NpZ24oeyBmb3JtYXQ6IHNjaGVtYS5mb3JtYXQgfSwgKHNjaGVtYS5lcnJvck1lc3NhZ2UgJiZcbiAgICAgICAgICAgICAgICByZWZzLmVycm9yTWVzc2FnZXMgJiYge1xuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogeyBmb3JtYXQ6IHNjaGVtYS5lcnJvck1lc3NhZ2UuZm9ybWF0IH0sXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5mb3JtYXQ7XG4gICAgICAgICAgICBpZiAoc2NoZW1hLmVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlLmZvcm1hdDtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoc2NoZW1hLmVycm9yTWVzc2FnZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY2hlbWEuYW55T2YucHVzaChPYmplY3QuYXNzaWduKHsgZm9ybWF0OiB2YWx1ZSB9LCAobWVzc2FnZSAmJlxuICAgICAgICAgICAgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHsgZXJyb3JNZXNzYWdlOiB7IGZvcm1hdDogbWVzc2FnZSB9IH0pKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHNjaGVtYSwgXCJmb3JtYXRcIiwgdmFsdWUsIG1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbn07XG5jb25zdCBhZGRQYXR0ZXJuID0gKHNjaGVtYSwgdmFsdWUsIG1lc3NhZ2UsIHJlZnMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHNjaGVtYS5wYXR0ZXJuIHx8ICgoX2EgPSBzY2hlbWEuYWxsT2YpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zb21lKCh4KSA9PiB4LnBhdHRlcm4pKSkge1xuICAgICAgICBpZiAoIXNjaGVtYS5hbGxPZikge1xuICAgICAgICAgICAgc2NoZW1hLmFsbE9mID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYS5wYXR0ZXJuKSB7XG4gICAgICAgICAgICBzY2hlbWEuYWxsT2YucHVzaChPYmplY3QuYXNzaWduKHsgcGF0dGVybjogc2NoZW1hLnBhdHRlcm4gfSwgKHNjaGVtYS5lcnJvck1lc3NhZ2UgJiZcbiAgICAgICAgICAgICAgICByZWZzLmVycm9yTWVzc2FnZXMgJiYge1xuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBzY2hlbWEuZXJyb3JNZXNzYWdlLnBhdHRlcm4gfSxcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICBkZWxldGUgc2NoZW1hLnBhdHRlcm47XG4gICAgICAgICAgICBpZiAoc2NoZW1hLmVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlLnBhdHRlcm47XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNjaGVtYS5lcnJvck1lc3NhZ2UpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2NoZW1hLmFsbE9mLnB1c2goT2JqZWN0LmFzc2lnbih7IHBhdHRlcm46IHZhbHVlIH0sIChtZXNzYWdlICYmXG4gICAgICAgICAgICByZWZzLmVycm9yTWVzc2FnZXMgJiYgeyBlcnJvck1lc3NhZ2U6IHsgcGF0dGVybjogbWVzc2FnZSB9IH0pKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHNjaGVtYSwgXCJwYXR0ZXJuXCIsIHZhbHVlLCBtZXNzYWdlLCByZWZzKTtcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlUmVjb3JkRGVmID0gdm9pZCAwO1xuY29uc3Qgem9kXzEgPSByZXF1aXJlKFwiem9kXCIpO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmNvbnN0IHN0cmluZ18xID0gcmVxdWlyZShcIi4vc3RyaW5nXCIpO1xuZnVuY3Rpb24gcGFyc2VSZWNvcmREZWYoZGVmLCByZWZzKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIiAmJlxuICAgICAgICAoKF9hID0gZGVmLmtleVR5cGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5fZGVmLnR5cGVOYW1lKSA9PT0gem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICByZXF1aXJlZDogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBkZWYua2V5VHlwZS5fZGVmLnZhbHVlcy5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIHJldHVybiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhY2MpLCB7IFtrZXldOiAoX2EgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLnZhbHVlVHlwZS5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJwcm9wZXJ0aWVzXCIsIGtleV0gfSkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSB9KSk7XG4gICAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHNjaGVtYSA9IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IChfYiA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYudmFsdWVUeXBlLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdIH0pKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDoge30sXG4gICAgfTtcbiAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cbiAgICBpZiAoKChfYyA9IGRlZi5rZXlUeXBlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuX2RlZi50eXBlTmFtZSkgPT09IHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcgJiZcbiAgICAgICAgKChfZCA9IGRlZi5rZXlUeXBlLl9kZWYuY2hlY2tzKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QubGVuZ3RoKSkge1xuICAgICAgICBjb25zdCBrZXlUeXBlID0gT2JqZWN0LmVudHJpZXMoKDAsIHN0cmluZ18xLnBhcnNlU3RyaW5nRGVmKShkZWYua2V5VHlwZS5fZGVmLCByZWZzKSkucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKGtleSA9PT0gXCJ0eXBlXCIgPyBhY2MgOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGFjYyksIHsgW2tleV06IHZhbHVlIH0pKSwge30pO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzY2hlbWEpLCB7IHByb3BlcnR5TmFtZXM6IGtleVR5cGUgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCgoX2UgPSBkZWYua2V5VHlwZSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLl9kZWYudHlwZU5hbWUpID09PSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzY2hlbWEpLCB7IHByb3BlcnR5TmFtZXM6IHtcbiAgICAgICAgICAgICAgICBlbnVtOiBkZWYua2V5VHlwZS5fZGVmLnZhbHVlcyxcbiAgICAgICAgICAgIH0gfSk7XG4gICAgfVxuICAgIHJldHVybiBzY2hlbWE7XG59XG5leHBvcnRzLnBhcnNlUmVjb3JkRGVmID0gcGFyc2VSZWNvcmREZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VTZXREZWYgPSB2b2lkIDA7XG5jb25zdCBlcnJvck1lc3NhZ2VzXzEgPSByZXF1aXJlKFwiLi4vZXJyb3JNZXNzYWdlc1wiKTtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5mdW5jdGlvbiBwYXJzZVNldERlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCBpdGVtcyA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYudmFsdWVUeXBlLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIml0ZW1zXCJdIH0pKTtcbiAgICBjb25zdCBzY2hlbWEgPSB7XG4gICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgdW5pcXVlSXRlbXM6IHRydWUsXG4gICAgICAgIGl0ZW1zLFxuICAgIH07XG4gICAgaWYgKGRlZi5taW5TaXplKSB7XG4gICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykoc2NoZW1hLCBcIm1pbkl0ZW1zXCIsIGRlZi5taW5TaXplLnZhbHVlLCBkZWYubWluU2l6ZS5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgaWYgKGRlZi5tYXhTaXplKSB7XG4gICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykoc2NoZW1hLCBcIm1heEl0ZW1zXCIsIGRlZi5tYXhTaXplLnZhbHVlLCBkZWYubWF4U2l6ZS5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbmV4cG9ydHMucGFyc2VTZXREZWYgPSBwYXJzZVNldERlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZVR1cGxlRGVmID0gdm9pZCAwO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmZ1bmN0aW9uIHBhcnNlVHVwbGVEZWYoZGVmLCByZWZzKSB7XG4gICAgaWYgKGRlZi5yZXN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICBtaW5JdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgIGl0ZW1zOiBkZWYuaXRlbXNcbiAgICAgICAgICAgICAgICAubWFwKCh4LCBpKSA9PiAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoeC5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJpdGVtc1wiLCBgJHtpfWBdIH0pKSlcbiAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIHgpID0+ICh4ID09PSB1bmRlZmluZWQgPyBhY2MgOiBbLi4uYWNjLCB4XSksIFtdKSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxJdGVtczogKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5yZXN0Ll9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFkZGl0aW9uYWxJdGVtc1wiXSB9KSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgbWluSXRlbXM6IGRlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICBtYXhJdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgIGl0ZW1zOiBkZWYuaXRlbXNcbiAgICAgICAgICAgICAgICAubWFwKCh4LCBpKSA9PiAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoeC5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJpdGVtc1wiLCBgJHtpfWBdIH0pKSlcbiAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIHgpID0+ICh4ID09PSB1bmRlZmluZWQgPyBhY2MgOiBbLi4uYWNjLCB4XSksIFtdKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLnBhcnNlVHVwbGVEZWYgPSBwYXJzZVR1cGxlRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlVW5kZWZpbmVkRGVmID0gdm9pZCAwO1xuZnVuY3Rpb24gcGFyc2VVbmRlZmluZWREZWYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbm90OiB7fSxcbiAgICB9O1xufVxuZXhwb3J0cy5wYXJzZVVuZGVmaW5lZERlZiA9IHBhcnNlVW5kZWZpbmVkRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlVW5rbm93bkRlZiA9IHZvaWQgMDtcbmZ1bmN0aW9uIHBhcnNlVW5rbm93bkRlZigpIHtcbiAgICByZXR1cm4ge307XG59XG5leHBvcnRzLnBhcnNlVW5rbm93bkRlZiA9IHBhcnNlVW5rbm93bkRlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZURlZiA9IHZvaWQgMDtcbmNvbnN0IHpvZF8xID0gcmVxdWlyZShcInpvZFwiKTtcbmNvbnN0IGFueV8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9hbnlcIik7XG5jb25zdCBhcnJheV8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9hcnJheVwiKTtcbmNvbnN0IGJpZ2ludF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9iaWdpbnRcIik7XG5jb25zdCBib29sZWFuXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2Jvb2xlYW5cIik7XG5jb25zdCBicmFuZGVkXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2JyYW5kZWRcIik7XG5jb25zdCBjYXRjaF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9jYXRjaFwiKTtcbmNvbnN0IGRhdGVfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvZGF0ZVwiKTtcbmNvbnN0IGRlZmF1bHRfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvZGVmYXVsdFwiKTtcbmNvbnN0IGVmZmVjdHNfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvZWZmZWN0c1wiKTtcbmNvbnN0IGVudW1fMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvZW51bVwiKTtcbmNvbnN0IGludGVyc2VjdGlvbl8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9pbnRlcnNlY3Rpb25cIik7XG5jb25zdCBsaXRlcmFsXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2xpdGVyYWxcIik7XG5jb25zdCBtYXBfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvbWFwXCIpO1xuY29uc3QgbmF0aXZlRW51bV8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9uYXRpdmVFbnVtXCIpO1xuY29uc3QgbmV2ZXJfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvbmV2ZXJcIik7XG5jb25zdCBudWxsXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL251bGxcIik7XG5jb25zdCBudWxsYWJsZV8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9udWxsYWJsZVwiKTtcbmNvbnN0IG51bWJlcl8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9udW1iZXJcIik7XG5jb25zdCBvYmplY3RfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvb2JqZWN0XCIpO1xuY29uc3Qgb3B0aW9uYWxfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvb3B0aW9uYWxcIik7XG5jb25zdCBwaXBlbGluZV8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9waXBlbGluZVwiKTtcbmNvbnN0IHByb21pc2VfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvcHJvbWlzZVwiKTtcbmNvbnN0IHJlY29yZF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9yZWNvcmRcIik7XG5jb25zdCBzZXRfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvc2V0XCIpO1xuY29uc3Qgc3RyaW5nXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL3N0cmluZ1wiKTtcbmNvbnN0IHR1cGxlXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL3R1cGxlXCIpO1xuY29uc3QgdW5kZWZpbmVkXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL3VuZGVmaW5lZFwiKTtcbmNvbnN0IHVuaW9uXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL3VuaW9uXCIpO1xuY29uc3QgdW5rbm93bl8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy91bmtub3duXCIpO1xuZnVuY3Rpb24gcGFyc2VEZWYoZGVmLCByZWZzLCBmb3JjZVJlc29sdXRpb24gPSBmYWxzZSAvLyBGb3JjZXMgYSBuZXcgc2NoZW1hIHRvIGJlIGluc3RhbnRpYXRlZCBldmVuIHRob3VnaCBpdHMgZGVmIGhhcyBiZWVuIHNlZW4uIFVzZWQgZm9yIGltcHJvdmluZyByZWZzIGluIGRlZmluaXRpb25zLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1N0ZWZhblRlcmRlbGwvem9kLXRvLWpzb24tc2NoZW1hL3B1bGwvNjEuXG4pIHtcbiAgICBjb25zdCBzZWVuSXRlbSA9IHJlZnMuc2Vlbi5nZXQoZGVmKTtcbiAgICBpZiAoc2Vlbkl0ZW0gJiYgIWZvcmNlUmVzb2x1dGlvbikge1xuICAgICAgICBjb25zdCBzZWVuU2NoZW1hID0gZ2V0JHJlZihzZWVuSXRlbSwgcmVmcyk7XG4gICAgICAgIGlmIChzZWVuU2NoZW1hICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWVuU2NoZW1hO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG5ld0l0ZW0gPSB7IGRlZiwgcGF0aDogcmVmcy5jdXJyZW50UGF0aCwganNvblNjaGVtYTogdW5kZWZpbmVkIH07XG4gICAgcmVmcy5zZWVuLnNldChkZWYsIG5ld0l0ZW0pO1xuICAgIGNvbnN0IGpzb25TY2hlbWEgPSBzZWxlY3RQYXJzZXIoZGVmLCBkZWYudHlwZU5hbWUsIHJlZnMpO1xuICAgIGlmIChqc29uU2NoZW1hKSB7XG4gICAgICAgIGFkZE1ldGEoZGVmLCByZWZzLCBqc29uU2NoZW1hKTtcbiAgICB9XG4gICAgbmV3SXRlbS5qc29uU2NoZW1hID0ganNvblNjaGVtYTtcbiAgICByZXR1cm4ganNvblNjaGVtYTtcbn1cbmV4cG9ydHMucGFyc2VEZWYgPSBwYXJzZURlZjtcbmNvbnN0IGdldCRyZWYgPSAoaXRlbSwgcmVmcykgPT4ge1xuICAgIHN3aXRjaCAocmVmcy4kcmVmU3RyYXRlZ3kpIHtcbiAgICAgICAgY2FzZSBcInJvb3RcIjpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgJHJlZjogaXRlbS5wYXRoLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICA/IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnBhdGgubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGAke2l0ZW0ucGF0aFswXX0vYFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnBhdGguam9pbihcIi9cIiksXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIFwicmVsYXRpdmVcIjpcbiAgICAgICAgICAgIHJldHVybiB7ICRyZWY6IGdldFJlbGF0aXZlUGF0aChyZWZzLmN1cnJlbnRQYXRoLCBpdGVtLnBhdGgpIH07XG4gICAgICAgIGNhc2UgXCJub25lXCI6IHtcbiAgICAgICAgICAgIGlmIChpdGVtLnBhdGgubGVuZ3RoIDwgcmVmcy5jdXJyZW50UGF0aC5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICBpdGVtLnBhdGguZXZlcnkoKHZhbHVlLCBpbmRleCkgPT4gcmVmcy5jdXJyZW50UGF0aFtpbmRleF0gPT09IHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgUmVjdXJzaXZlIHJlZmVyZW5jZSBkZXRlY3RlZCBhdCAke3JlZnMuY3VycmVudFBhdGguam9pbihcIi9cIil9ISBEZWZhdWx0aW5nIHRvIGFueWApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInNlZW5cIjoge1xuICAgICAgICAgICAgaWYgKGl0ZW0ucGF0aC5sZW5ndGggPCByZWZzLmN1cnJlbnRQYXRoLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIGl0ZW0ucGF0aC5ldmVyeSgodmFsdWUsIGluZGV4KSA9PiByZWZzLmN1cnJlbnRQYXRoW2luZGV4XSA9PT0gdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBSZWN1cnNpdmUgcmVmZXJlbmNlIGRldGVjdGVkIGF0ICR7cmVmcy5jdXJyZW50UGF0aC5qb2luKFwiL1wiKX0hIERlZmF1bHRpbmcgdG8gYW55YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uanNvblNjaGVtYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBnZXRSZWxhdGl2ZVBhdGggPSAocGF0aEEsIHBhdGhCKSA9PiB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoOyBpIDwgcGF0aEEubGVuZ3RoICYmIGkgPCBwYXRoQi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocGF0aEFbaV0gIT09IHBhdGhCW2ldKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBbKHBhdGhBLmxlbmd0aCAtIGkpLnRvU3RyaW5nKCksIC4uLnBhdGhCLnNsaWNlKGkpXS5qb2luKFwiL1wiKTtcbn07XG5jb25zdCBzZWxlY3RQYXJzZXIgPSAoZGVmLCB0eXBlTmFtZSwgcmVmcykgPT4ge1xuICAgIHN3aXRjaCAodHlwZU5hbWUpIHtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBzdHJpbmdfMS5wYXJzZVN0cmluZ0RlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVtYmVyOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBudW1iZXJfMS5wYXJzZU51bWJlckRlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0OlxuICAgICAgICAgICAgcmV0dXJuICgwLCBvYmplY3RfMS5wYXJzZU9iamVjdERlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQmlnSW50OlxuICAgICAgICAgICAgcmV0dXJuICgwLCBiaWdpbnRfMS5wYXJzZUJpZ2ludERlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbjpcbiAgICAgICAgICAgIHJldHVybiAoMCwgYm9vbGVhbl8xLnBhcnNlQm9vbGVhbkRlZikoKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGF0ZTpcbiAgICAgICAgICAgIHJldHVybiAoMCwgZGF0ZV8xLnBhcnNlRGF0ZURlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5kZWZpbmVkOlxuICAgICAgICAgICAgcmV0dXJuICgwLCB1bmRlZmluZWRfMS5wYXJzZVVuZGVmaW5lZERlZikoKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgbnVsbF8xLnBhcnNlTnVsbERlZikocmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFycmF5OlxuICAgICAgICAgICAgcmV0dXJuICgwLCBhcnJheV8xLnBhcnNlQXJyYXlEZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuaW9uOlxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REaXNjcmltaW5hdGVkVW5pb246XG4gICAgICAgICAgICByZXR1cm4gKDAsIHVuaW9uXzEucGFyc2VVbmlvbkRlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kSW50ZXJzZWN0aW9uOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBpbnRlcnNlY3Rpb25fMS5wYXJzZUludGVyc2VjdGlvbkRlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVHVwbGU6XG4gICAgICAgICAgICByZXR1cm4gKDAsIHR1cGxlXzEucGFyc2VUdXBsZURlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkOlxuICAgICAgICAgICAgcmV0dXJuICgwLCByZWNvcmRfMS5wYXJzZVJlY29yZERlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGl0ZXJhbDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgbGl0ZXJhbF8xLnBhcnNlTGl0ZXJhbERlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bTpcbiAgICAgICAgICAgIHJldHVybiAoMCwgZW51bV8xLnBhcnNlRW51bURlZikoZGVmKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmF0aXZlRW51bTpcbiAgICAgICAgICAgIHJldHVybiAoMCwgbmF0aXZlRW51bV8xLnBhcnNlTmF0aXZlRW51bURlZikoZGVmKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbGFibGU6XG4gICAgICAgICAgICByZXR1cm4gKDAsIG51bGxhYmxlXzEucGFyc2VOdWxsYWJsZURlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT3B0aW9uYWw6XG4gICAgICAgICAgICByZXR1cm4gKDAsIG9wdGlvbmFsXzEucGFyc2VPcHRpb25hbERlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTWFwOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBtYXBfMS5wYXJzZU1hcERlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0OlxuICAgICAgICAgICAgcmV0dXJuICgwLCBzZXRfMS5wYXJzZVNldERlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGF6eTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZURlZihkZWYuZ2V0dGVyKCkuX2RlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFByb21pc2U6XG4gICAgICAgICAgICByZXR1cm4gKDAsIHByb21pc2VfMS5wYXJzZVByb21pc2VEZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hTjpcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXI6XG4gICAgICAgICAgICByZXR1cm4gKDAsIG5ldmVyXzEucGFyc2VOZXZlckRlZikoKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0czpcbiAgICAgICAgICAgIHJldHVybiAoMCwgZWZmZWN0c18xLnBhcnNlRWZmZWN0c0RlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55OlxuICAgICAgICAgICAgcmV0dXJuICgwLCBhbnlfMS5wYXJzZUFueURlZikoKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bjpcbiAgICAgICAgICAgIHJldHVybiAoMCwgdW5rbm93bl8xLnBhcnNlVW5rbm93bkRlZikoKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgZGVmYXVsdF8xLnBhcnNlRGVmYXVsdERlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgYnJhbmRlZF8xLnBhcnNlQnJhbmRlZERlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2g6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGNhdGNoXzEucGFyc2VDYXRjaERlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUGlwZWxpbmU6XG4gICAgICAgICAgICByZXR1cm4gKDAsIHBpcGVsaW5lXzEucGFyc2VQaXBlbGluZURlZikoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb246XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFZvaWQ6XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbDpcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gKChfKSA9PiB1bmRlZmluZWQpKHR5cGVOYW1lKTtcbiAgICB9XG59O1xuY29uc3QgYWRkTWV0YSA9IChkZWYsIHJlZnMsIGpzb25TY2hlbWEpID0+IHtcbiAgICBpZiAoZGVmLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGpzb25TY2hlbWEuZGVzY3JpcHRpb24gPSBkZWYuZGVzY3JpcHRpb247XG4gICAgICAgIGlmIChyZWZzLm1hcmtkb3duRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGpzb25TY2hlbWEubWFya2Rvd25EZXNjcmlwdGlvbiA9IGRlZi5kZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ganNvblNjaGVtYTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0RGVmYXVsdE9wdGlvbnMgPSBleHBvcnRzLmRlZmF1bHRPcHRpb25zID0gdm9pZCAwO1xuZXhwb3J0cy5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgJHJlZlN0cmF0ZWd5OiBcInJvb3RcIixcbiAgICBiYXNlUGF0aDogW1wiI1wiXSxcbiAgICBlZmZlY3RTdHJhdGVneTogXCJpbnB1dFwiLFxuICAgIHBpcGVTdHJhdGVneTogXCJhbGxcIixcbiAgICBkYXRlU3RyYXRlZ3k6IFwic3RyaW5nXCIsXG4gICAgZGVmaW5pdGlvblBhdGg6IFwiZGVmaW5pdGlvbnNcIixcbiAgICB0YXJnZXQ6IFwianNvblNjaGVtYTdcIixcbiAgICBzdHJpY3RVbmlvbnM6IGZhbHNlLFxuICAgIGRlZmluaXRpb25zOiB7fSxcbiAgICBlcnJvck1lc3NhZ2VzOiBmYWxzZSxcbiAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBmYWxzZSxcbiAgICBlbWFpbFN0cmF0ZWd5OiBcImZvcm1hdDplbWFpbFwiLFxufTtcbmNvbnN0IGdldERlZmF1bHRPcHRpb25zID0gKG9wdGlvbnMpID0+ICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIlxuICAgID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBleHBvcnRzLmRlZmF1bHRPcHRpb25zKSwgeyBuYW1lOiBvcHRpb25zIH0pIDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBleHBvcnRzLmRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucykpO1xuZXhwb3J0cy5nZXREZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldFJlZnMgPSB2b2lkIDA7XG5jb25zdCBPcHRpb25zXzEgPSByZXF1aXJlKFwiLi9PcHRpb25zXCIpO1xuY29uc3QgZ2V0UmVmcyA9IChvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgX29wdGlvbnMgPSAoMCwgT3B0aW9uc18xLmdldERlZmF1bHRPcHRpb25zKShvcHRpb25zKTtcbiAgICBjb25zdCBjdXJyZW50UGF0aCA9IF9vcHRpb25zLm5hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IFsuLi5fb3B0aW9ucy5iYXNlUGF0aCwgX29wdGlvbnMuZGVmaW5pdGlvblBhdGgsIF9vcHRpb25zLm5hbWVdXG4gICAgICAgIDogX29wdGlvbnMuYmFzZVBhdGg7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgX29wdGlvbnMpLCB7IGN1cnJlbnRQYXRoOiBjdXJyZW50UGF0aCwgcHJvcGVydHlQYXRoOiB1bmRlZmluZWQsIHNlZW46IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoX29wdGlvbnMuZGVmaW5pdGlvbnMpLm1hcCgoW25hbWUsIGRlZl0pID0+IFtcbiAgICAgICAgICAgIGRlZi5fZGVmLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlZjogZGVmLl9kZWYsXG4gICAgICAgICAgICAgICAgcGF0aDogWy4uLl9vcHRpb25zLmJhc2VQYXRoLCBfb3B0aW9ucy5kZWZpbml0aW9uUGF0aCwgbmFtZV0sXG4gICAgICAgICAgICAgICAgLy8gUmVzb2x1dGlvbiBvZiByZWZlcmVuY2VzIHdpbGwgYmUgZm9yY2VkIGV2ZW4gdGhvdWdoIHNlZW4sIHNvIGl0J3Mgb2sgdGhhdCB0aGUgc2NoZW1hIGlzIHVuZGVmaW5lZCBoZXJlIGZvciBub3cuXG4gICAgICAgICAgICAgICAganNvblNjaGVtYTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSkpIH0pO1xufTtcbmV4cG9ydHMuZ2V0UmVmcyA9IGdldFJlZnM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuem9kVG9Kc29uU2NoZW1hID0gdm9pZCAwO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuL3BhcnNlRGVmXCIpO1xuY29uc3QgUmVmc18xID0gcmVxdWlyZShcIi4vUmVmc1wiKTtcbmNvbnN0IHpvZFRvSnNvblNjaGVtYSA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmVmcyA9ICgwLCBSZWZzXzEuZ2V0UmVmcykob3B0aW9ucyk7XG4gICAgY29uc3QgZGVmaW5pdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmRlZmluaXRpb25zXG4gICAgICAgID8gT2JqZWN0LmVudHJpZXMob3B0aW9ucy5kZWZpbml0aW9ucykucmVkdWNlKChhY2MsIFtuYW1lLCBzY2hlbWFdKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYWNjKSwgeyBbbmFtZV06IChfYSA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShzY2hlbWEuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuYmFzZVBhdGgsIHJlZnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdIH0pLCB0cnVlKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge30gfSkpO1xuICAgICAgICB9LCB7fSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgbmFtZSA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiID8gb3B0aW9ucyA6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5uYW1lO1xuICAgIGNvbnN0IG1haW4gPSAoX2EgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoc2NoZW1hLl9kZWYsIG5hbWUgPT09IHVuZGVmaW5lZFxuICAgICAgICA/IHJlZnNcbiAgICAgICAgOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5iYXNlUGF0aCwgcmVmcy5kZWZpbml0aW9uUGF0aCwgbmFtZV0gfSksIGZhbHNlKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgY29uc3QgY29tYmluZWQgPSBuYW1lID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBkZWZpbml0aW9uc1xuICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG1haW4pLCB7IFtyZWZzLmRlZmluaXRpb25QYXRoXTogZGVmaW5pdGlvbnMgfSkgOiBtYWluXG4gICAgICAgIDoge1xuICAgICAgICAgICAgJHJlZjogW1xuICAgICAgICAgICAgICAgIC4uLihyZWZzLiRyZWZTdHJhdGVneSA9PT0gXCJyZWxhdGl2ZVwiID8gW10gOiByZWZzLmJhc2VQYXRoKSxcbiAgICAgICAgICAgICAgICByZWZzLmRlZmluaXRpb25QYXRoLFxuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBdLmpvaW4oXCIvXCIpLFxuICAgICAgICAgICAgW3JlZnMuZGVmaW5pdGlvblBhdGhdOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmluaXRpb25zKSwgeyBbbmFtZV06IG1haW4gfSksXG4gICAgICAgIH07XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIHtcbiAgICAgICAgY29tYmluZWQuJHNjaGVtYSA9IFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWEyMDE5LTA5XCIpIHtcbiAgICAgICAgY29tYmluZWQuJHNjaGVtYSA9IFwiaHR0cHM6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQvMjAxOS0wOS9zY2hlbWEjXCI7XG4gICAgfVxuICAgIHJldHVybiBjb21iaW5lZDtcbn07XG5leHBvcnRzLnpvZFRvSnNvblNjaGVtYSA9IHpvZFRvSnNvblNjaGVtYTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy56b2RUb0pzb25TY2hlbWEgPSB2b2lkIDA7XG5jb25zdCB6b2RUb0pzb25TY2hlbWFfMSA9IHJlcXVpcmUoXCIuL3NyYy96b2RUb0pzb25TY2hlbWFcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ6b2RUb0pzb25TY2hlbWFcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHpvZFRvSnNvblNjaGVtYV8xLnpvZFRvSnNvblNjaGVtYTsgfSB9KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHpvZFRvSnNvblNjaGVtYV8xLnpvZFRvSnNvblNjaGVtYTtcbiIsImltcG9ydCB7IHpvZFRvSnNvblNjaGVtYSB9IGZyb20gXCJ6b2QtdG8tanNvbi1zY2hlbWFcIjtcbi8qKlxuICogRm9ybWF0cyBhIGBTdHJ1Y3R1cmVkVG9vbGAgaW5zdGFuY2UgaW50byBhIGZvcm1hdCB0aGF0IGlzIGNvbXBhdGlibGVcbiAqIHdpdGggT3BlbkFJJ3MgQ2hhdENvbXBsZXRpb25GdW5jdGlvbnMuIEl0IHVzZXMgdGhlIGB6b2RUb0pzb25TY2hlbWFgXG4gKiBmdW5jdGlvbiB0byBjb252ZXJ0IHRoZSBzY2hlbWEgb2YgdGhlIGBTdHJ1Y3R1cmVkVG9vbGAgaW50byBhIEpTT05cbiAqIHNjaGVtYSwgd2hpY2ggaXMgdGhlbiB1c2VkIGFzIHRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgT3BlbkFJIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VG9PcGVuQUlGdW5jdGlvbih0b29sKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogdG9vbC5uYW1lLFxuICAgICAgICBkZXNjcmlwdGlvbjogdG9vbC5kZXNjcmlwdGlvbixcbiAgICAgICAgcGFyYW1ldGVyczogem9kVG9Kc29uU2NoZW1hKHRvb2wuc2NoZW1hKSxcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgQUlNZXNzYWdlLCBIdW1hbk1lc3NhZ2UsIFJVTl9LRVksIGNvZXJjZU1lc3NhZ2VMaWtlVG9NZXNzYWdlLCB9IGZyb20gXCIuLi9zY2hlbWEvaW5kZXguanNcIjtcbmltcG9ydCB7IEJhc2VMYW5ndWFnZU1vZGVsLCB9IGZyb20gXCIuLi9iYXNlX2xhbmd1YWdlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBDYWxsYmFja01hbmFnZXIsIH0gZnJvbSBcIi4uL2NhbGxiYWNrcy9tYW5hZ2VyLmpzXCI7XG4vKipcbiAqIENyZWF0ZXMgYSB0cmFuc2Zvcm0gc3RyZWFtIGZvciBlbmNvZGluZyBjaGF0IG1lc3NhZ2UgY2h1bmtzLlxuICogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBCeXRlc091dHB1dFBhcnNlcn0gaW5zdGVhZFxuICogQHJldHVybnMgQSBUcmFuc2Zvcm1TdHJlYW0gaW5zdGFuY2UgdGhhdCBlbmNvZGVzIGNoYXQgbWVzc2FnZSBjaHVua3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDaGF0TWVzc2FnZUNodW5rRW5jb2RlclN0cmVhbSgpIHtcbiAgICBjb25zdCB0ZXh0RW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgIHJldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUodGV4dEVuY29kZXIuZW5jb2RlKGNodW5rLmNvbnRlbnQpKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgY2hhdCBtb2RlbHMuIEl0IGV4dGVuZHMgdGhlIEJhc2VMYW5ndWFnZU1vZGVsIGNsYXNzIGFuZFxuICogcHJvdmlkZXMgbWV0aG9kcyBmb3IgZ2VuZXJhdGluZyBjaGF0IGJhc2VkIG9uIGlucHV0IG1lc3NhZ2VzLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZUNoYXRNb2RlbCBleHRlbmRzIEJhc2VMYW5ndWFnZU1vZGVsIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJjaGF0X21vZGVsc1wiLCB0aGlzLl9sbG1UeXBlKCldXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfc2VwYXJhdGVSdW5uYWJsZUNvbmZpZ0Zyb21DYWxsT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IFtydW5uYWJsZUNvbmZpZywgY2FsbE9wdGlvbnNdID0gc3VwZXIuX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIGlmIChjYWxsT3B0aW9ucz8udGltZW91dCAmJiAhY2FsbE9wdGlvbnMuc2lnbmFsKSB7XG4gICAgICAgICAgICBjYWxsT3B0aW9ucy5zaWduYWwgPSBBYm9ydFNpZ25hbC50aW1lb3V0KGNhbGxPcHRpb25zLnRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgY2hhdCBtb2RlbCB3aXRoIGEgc2luZ2xlIGlucHV0LlxuICAgICAqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgZm9yIHRoZSBsYW5ndWFnZSBtb2RlbC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgY2FsbCBvcHRpb25zLlxuICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgQmFzZU1lc3NhZ2VDaHVuay5cbiAgICAgKi9cbiAgICBhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcHJvbXB0VmFsdWUgPSBCYXNlQ2hhdE1vZGVsLl9jb252ZXJ0SW5wdXRUb1Byb21wdFZhbHVlKGlucHV0KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVByb21wdChbcHJvbXB0VmFsdWVdLCBvcHRpb25zLCBvcHRpb25zPy5jYWxsYmFja3MpO1xuICAgICAgICBjb25zdCBjaGF0R2VuZXJhdGlvbiA9IHJlc3VsdC5nZW5lcmF0aW9uc1swXVswXTtcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3QgYWZ0ZXIgZmlndXJpbmcgb3V0IGluaGVyaXRhbmNlXG4gICAgICAgIHJldHVybiBjaGF0R2VuZXJhdGlvbi5tZXNzYWdlO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVxdWlyZS15aWVsZFxuICAgIGFzeW5jICpfc3RyZWFtUmVzcG9uc2VDaHVua3MoX21lc3NhZ2VzLCBfb3B0aW9ucywgX3J1bk1hbmFnZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gICAgYXN5bmMgKl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICAvLyBTdWJjbGFzcyBjaGVjayByZXF1aXJlZCB0byBhdm9pZCBkb3VibGUgY2FsbGJhY2tzIHdpdGggZGVmYXVsdCBpbXBsZW1lbnRhdGlvblxuICAgICAgICBpZiAodGhpcy5fc3RyZWFtUmVzcG9uc2VDaHVua3MgPT09XG4gICAgICAgICAgICBCYXNlQ2hhdE1vZGVsLnByb3RvdHlwZS5fc3RyZWFtUmVzcG9uc2VDaHVua3MpIHtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuaW52b2tlKGlucHV0LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IEJhc2VDaGF0TW9kZWwuX2NvbnZlcnRJbnB1dFRvUHJvbXB0VmFsdWUoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBwcm9tcHQudG9DaGF0TWVzc2FnZXMoKTtcbiAgICAgICAgICAgIGNvbnN0IFtydW5uYWJsZUNvbmZpZywgY2FsbE9wdGlvbnNdID0gdGhpcy5fc2VwYXJhdGVSdW5uYWJsZUNvbmZpZ0Zyb21DYWxsT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBDYWxsYmFja01hbmFnZXIuY29uZmlndXJlKHJ1bm5hYmxlQ29uZmlnLmNhbGxiYWNrcywgdGhpcy5jYWxsYmFja3MsIHJ1bm5hYmxlQ29uZmlnLnRhZ3MsIHRoaXMudGFncywgcnVubmFibGVDb25maWcubWV0YWRhdGEsIHRoaXMubWV0YWRhdGEsIHsgdmVyYm9zZTogdGhpcy52ZXJib3NlIH0pO1xuICAgICAgICAgICAgY29uc3QgZXh0cmEgPSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uczogY2FsbE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaW52b2NhdGlvbl9wYXJhbXM6IHRoaXM/Lmludm9jYXRpb25QYXJhbXMoY2FsbE9wdGlvbnMpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJ1bk1hbmFnZXJzID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlQ2hhdE1vZGVsU3RhcnQodGhpcy50b0pTT04oKSwgW21lc3NhZ2VzXSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGV4dHJhLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgcnVubmFibGVDb25maWcucnVuTmFtZSk7XG4gICAgICAgICAgICBsZXQgZ2VuZXJhdGlvbkNodW5rO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKG1lc3NhZ2VzLCBjYWxsT3B0aW9ucywgcnVuTWFuYWdlcnM/LlswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgY2h1bmsubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFnZW5lcmF0aW9uQ2h1bmspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb25DaHVuayA9IGNodW5rO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGlvbkNodW5rID0gZ2VuZXJhdGlvbkNodW5rLmNvbmNhdChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoKHJ1bk1hbmFnZXJzID8/IFtdKS5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTUVycm9yKGVycikpKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCgocnVuTWFuYWdlcnMgPz8gW10pLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlTExNRW5kKHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdCBhZnRlciBmaWd1cmluZyBvdXQgaW5oZXJpdGFuY2VcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uczogW1tnZW5lcmF0aW9uQ2h1bmtdXSxcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfZ2VuZXJhdGVVbmNhY2hlZChtZXNzYWdlcywgcGFyc2VkT3B0aW9ucywgaGFuZGxlZE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYmFzZU1lc3NhZ2VzID0gbWVzc2FnZXMubWFwKChtZXNzYWdlTGlzdCkgPT4gbWVzc2FnZUxpc3QubWFwKGNvZXJjZU1lc3NhZ2VMaWtlVG9NZXNzYWdlKSk7XG4gICAgICAgIC8vIGNyZWF0ZSBjYWxsYmFjayBtYW5hZ2VyIGFuZCBzdGFydCBydW5cbiAgICAgICAgY29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUoaGFuZGxlZE9wdGlvbnMuY2FsbGJhY2tzLCB0aGlzLmNhbGxiYWNrcywgaGFuZGxlZE9wdGlvbnMudGFncywgdGhpcy50YWdzLCBoYW5kbGVkT3B0aW9ucy5tZXRhZGF0YSwgdGhpcy5tZXRhZGF0YSwgeyB2ZXJib3NlOiB0aGlzLnZlcmJvc2UgfSk7XG4gICAgICAgIGNvbnN0IGV4dHJhID0ge1xuICAgICAgICAgICAgb3B0aW9uczogcGFyc2VkT3B0aW9ucyxcbiAgICAgICAgICAgIGludm9jYXRpb25fcGFyYW1zOiB0aGlzPy5pbnZvY2F0aW9uUGFyYW1zKHBhcnNlZE9wdGlvbnMpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBydW5NYW5hZ2VycyA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYXRNb2RlbFN0YXJ0KHRoaXMudG9KU09OKCksIGJhc2VNZXNzYWdlcywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGV4dHJhLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaGFuZGxlZE9wdGlvbnMucnVuTmFtZSk7XG4gICAgICAgIC8vIGdlbmVyYXRlIHJlc3VsdHNcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChiYXNlTWVzc2FnZXMubWFwKChtZXNzYWdlTGlzdCwgaSkgPT4gdGhpcy5fZ2VuZXJhdGUobWVzc2FnZUxpc3QsIHsgLi4ucGFyc2VkT3B0aW9ucywgcHJvbXB0SW5kZXg6IGkgfSwgcnVuTWFuYWdlcnM/LltpXSkpKTtcbiAgICAgICAgLy8gaGFuZGxlIHJlc3VsdHNcbiAgICAgICAgY29uc3QgZ2VuZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgY29uc3QgbGxtT3V0cHV0cyA9IFtdO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChyZXN1bHRzLm1hcChhc3luYyAocFJlc3VsdCwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKHBSZXN1bHQuc3RhdHVzID09PSBcImZ1bGZpbGxlZFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gcFJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uc1tpXSA9IHJlc3VsdC5nZW5lcmF0aW9ucztcbiAgICAgICAgICAgICAgICBsbG1PdXRwdXRzW2ldID0gcmVzdWx0LmxsbU91dHB1dDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcnVuTWFuYWdlcnM/LltpXT8uaGFuZGxlTExNRW5kKHtcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnM6IFtyZXN1bHQuZ2VuZXJhdGlvbnNdLFxuICAgICAgICAgICAgICAgICAgICBsbG1PdXRwdXQ6IHJlc3VsdC5sbG1PdXRwdXQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzdGF0dXMgPT09IFwicmVqZWN0ZWRcIlxuICAgICAgICAgICAgICAgIGF3YWl0IHJ1bk1hbmFnZXJzPy5baV0/LmhhbmRsZUxMTUVycm9yKHBSZXN1bHQucmVhc29uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocFJlc3VsdC5yZWFzb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIC8vIGNyZWF0ZSBjb21iaW5lZCBvdXRwdXRcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0ge1xuICAgICAgICAgICAgZ2VuZXJhdGlvbnMsXG4gICAgICAgICAgICBsbG1PdXRwdXQ6IGxsbU91dHB1dHMubGVuZ3RoXG4gICAgICAgICAgICAgICAgPyB0aGlzLl9jb21iaW5lTExNT3V0cHV0Py4oLi4ubGxtT3V0cHV0cylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG91dHB1dCwgUlVOX0tFWSwge1xuICAgICAgICAgICAgdmFsdWU6IHJ1bk1hbmFnZXJzXG4gICAgICAgICAgICAgICAgPyB7IHJ1bklkczogcnVuTWFuYWdlcnM/Lm1hcCgobWFuYWdlcikgPT4gbWFuYWdlci5ydW5JZCkgfVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGNoYXQgYmFzZWQgb24gdGhlIGlucHV0IG1lc3NhZ2VzLlxuICAgICAqIEBwYXJhbSBtZXNzYWdlcyBBbiBhcnJheSBvZiBhcnJheXMgb2YgQmFzZU1lc3NhZ2UgaW5zdGFuY2VzLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIFRoZSBjYWxsIG9wdGlvbnMgb3IgYW4gYXJyYXkgb2Ygc3RvcCBzZXF1ZW5jZXMuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrcyBUaGUgY2FsbGJhY2tzIGZvciB0aGUgbGFuZ3VhZ2UgbW9kZWwuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gTExNUmVzdWx0LlxuICAgICAqL1xuICAgIGFzeW5jIGdlbmVyYXRlKG1lc3NhZ2VzLCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgLy8gcGFyc2UgY2FsbCBvcHRpb25zXG4gICAgICAgIGxldCBwYXJzZWRPcHRpb25zO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zKSkge1xuICAgICAgICAgICAgcGFyc2VkT3B0aW9ucyA9IHsgc3RvcDogb3B0aW9ucyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VkT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmFzZU1lc3NhZ2VzID0gbWVzc2FnZXMubWFwKChtZXNzYWdlTGlzdCkgPT4gbWVzc2FnZUxpc3QubWFwKGNvZXJjZU1lc3NhZ2VMaWtlVG9NZXNzYWdlKSk7XG4gICAgICAgIGNvbnN0IFtydW5uYWJsZUNvbmZpZywgY2FsbE9wdGlvbnNdID0gdGhpcy5fc2VwYXJhdGVSdW5uYWJsZUNvbmZpZ0Zyb21DYWxsT3B0aW9ucyhwYXJzZWRPcHRpb25zKTtcbiAgICAgICAgcnVubmFibGVDb25maWcuY2FsbGJhY2tzID0gcnVubmFibGVDb25maWcuY2FsbGJhY2tzID8/IGNhbGxiYWNrcztcbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2VuZXJhdGVVbmNhY2hlZChiYXNlTWVzc2FnZXMsIGNhbGxPcHRpb25zLCBydW5uYWJsZUNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBjYWNoZSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgbGxtU3RyaW5nS2V5ID0gdGhpcy5fZ2V0U2VyaWFsaXplZENhY2hlS2V5UGFyYW1ldGVyc0ZvckNhbGwoY2FsbE9wdGlvbnMpO1xuICAgICAgICBjb25zdCBtaXNzaW5nUHJvbXB0SW5kaWNlcyA9IFtdO1xuICAgICAgICBjb25zdCBnZW5lcmF0aW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKGJhc2VNZXNzYWdlcy5tYXAoYXN5bmMgKGJhc2VNZXNzYWdlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgLy8gSm9pbiBhbGwgY29udGVudCBpbnRvIG9uZSBzdHJpbmcgZm9yIHRoZSBwcm9tcHQgaW5kZXhcbiAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IEJhc2VDaGF0TW9kZWwuX2NvbnZlcnRJbnB1dFRvUHJvbXB0VmFsdWUoYmFzZU1lc3NhZ2UpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWNoZS5sb29rdXAocHJvbXB0LCBsbG1TdHJpbmdLZXkpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBtaXNzaW5nUHJvbXB0SW5kaWNlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pKTtcbiAgICAgICAgbGV0IGxsbU91dHB1dCA9IHt9O1xuICAgICAgICBpZiAobWlzc2luZ1Byb21wdEluZGljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMuX2dlbmVyYXRlVW5jYWNoZWQobWlzc2luZ1Byb21wdEluZGljZXMubWFwKChpKSA9PiBiYXNlTWVzc2FnZXNbaV0pLCBjYWxsT3B0aW9ucywgcnVubmFibGVDb25maWcpO1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocmVzdWx0cy5nZW5lcmF0aW9ucy5tYXAoYXN5bmMgKGdlbmVyYXRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbXB0SW5kZXggPSBtaXNzaW5nUHJvbXB0SW5kaWNlc1tpbmRleF07XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnNbcHJvbXB0SW5kZXhdID0gZ2VuZXJhdGlvbjtcbiAgICAgICAgICAgICAgICAvLyBKb2luIGFsbCBjb250ZW50IGludG8gb25lIHN0cmluZyBmb3IgdGhlIHByb21wdCBpbmRleFxuICAgICAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IEJhc2VDaGF0TW9kZWwuX2NvbnZlcnRJbnB1dFRvUHJvbXB0VmFsdWUoYmFzZU1lc3NhZ2VzW3Byb21wdEluZGV4XSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGUudXBkYXRlKHByb21wdCwgbGxtU3RyaW5nS2V5LCBnZW5lcmF0aW9uKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGxsbU91dHB1dCA9IHJlc3VsdHMubGxtT3V0cHV0ID8/IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGdlbmVyYXRpb25zLCBsbG1PdXRwdXQgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwYXJhbWV0ZXJzIHVzZWQgdG8gaW52b2tlIHRoZSBtb2RlbFxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgaW52b2NhdGlvblBhcmFtcyhfb3B0aW9ucykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIF9tb2RlbFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImJhc2VfY2hhdF9tb2RlbFwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIFJldHVybiBhIGpzb24tbGlrZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoaXMgTExNLlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnRoaXMuaW52b2NhdGlvblBhcmFtcygpLFxuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2xsbVR5cGUoKSxcbiAgICAgICAgICAgIF9tb2RlbDogdGhpcy5fbW9kZWxUeXBlKCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIHByb21wdCBiYXNlZCBvbiB0aGUgaW5wdXQgcHJvbXB0IHZhbHVlcy5cbiAgICAgKiBAcGFyYW0gcHJvbXB0VmFsdWVzIEFuIGFycmF5IG9mIEJhc2VQcm9tcHRWYWx1ZSBpbnN0YW5jZXMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgVGhlIGNhbGwgb3B0aW9ucyBvciBhbiBhcnJheSBvZiBzdG9wIHNlcXVlbmNlcy5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIFRoZSBjYWxsYmFja3MgZm9yIHRoZSBsYW5ndWFnZSBtb2RlbC5cbiAgICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBMTE1SZXN1bHQuXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGVQcm9tcHQocHJvbXB0VmFsdWVzLCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgY29uc3QgcHJvbXB0TWVzc2FnZXMgPSBwcm9tcHRWYWx1ZXMubWFwKChwcm9tcHRWYWx1ZSkgPT4gcHJvbXB0VmFsdWUudG9DaGF0TWVzc2FnZXMoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlKHByb21wdE1lc3NhZ2VzLCBvcHRpb25zLCBjYWxsYmFja3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIHNpbmdsZSBjYWxsIHRvIHRoZSBjaGF0IG1vZGVsLlxuICAgICAqIEBwYXJhbSBtZXNzYWdlcyBBbiBhcnJheSBvZiBCYXNlTWVzc2FnZSBpbnN0YW5jZXMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgVGhlIGNhbGwgb3B0aW9ucyBvciBhbiBhcnJheSBvZiBzdG9wIHNlcXVlbmNlcy5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIFRoZSBjYWxsYmFja3MgZm9yIHRoZSBsYW5ndWFnZSBtb2RlbC5cbiAgICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIEJhc2VNZXNzYWdlLlxuICAgICAqL1xuICAgIGFzeW5jIGNhbGwobWVzc2FnZXMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlKFttZXNzYWdlcy5tYXAoY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UpXSwgb3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGlvbnMgPSByZXN1bHQuZ2VuZXJhdGlvbnM7XG4gICAgICAgIHJldHVybiBnZW5lcmF0aW9uc1swXVswXS5tZXNzYWdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIHNpbmdsZSBjYWxsIHRvIHRoZSBjaGF0IG1vZGVsIHdpdGggYSBwcm9tcHQgdmFsdWUuXG4gICAgICogQHBhcmFtIHByb21wdFZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgcHJvbXB0LlxuICAgICAqIEBwYXJhbSBvcHRpb25zIFRoZSBjYWxsIG9wdGlvbnMgb3IgYW4gYXJyYXkgb2Ygc3RvcCBzZXF1ZW5jZXMuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrcyBUaGUgY2FsbGJhY2tzIGZvciB0aGUgbGFuZ3VhZ2UgbW9kZWwuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBCYXNlTWVzc2FnZS5cbiAgICAgKi9cbiAgICBhc3luYyBjYWxsUHJvbXB0KHByb21wdFZhbHVlLCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgY29uc3QgcHJvbXB0TWVzc2FnZXMgPSBwcm9tcHRWYWx1ZS50b0NoYXRNZXNzYWdlcygpO1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKHByb21wdE1lc3NhZ2VzLCBvcHRpb25zLCBjYWxsYmFja3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmVkaWN0cyB0aGUgbmV4dCBtZXNzYWdlIGJhc2VkIG9uIHRoZSBpbnB1dCBtZXNzYWdlcy5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZXMgQW4gYXJyYXkgb2YgQmFzZU1lc3NhZ2UgaW5zdGFuY2VzLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIFRoZSBjYWxsIG9wdGlvbnMgb3IgYW4gYXJyYXkgb2Ygc3RvcCBzZXF1ZW5jZXMuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrcyBUaGUgY2FsbGJhY2tzIGZvciB0aGUgbGFuZ3VhZ2UgbW9kZWwuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBCYXNlTWVzc2FnZS5cbiAgICAgKi9cbiAgICBhc3luYyBwcmVkaWN0TWVzc2FnZXMobWVzc2FnZXMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKG1lc3NhZ2VzLCBvcHRpb25zLCBjYWxsYmFja3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmVkaWN0cyB0aGUgbmV4dCBtZXNzYWdlIGJhc2VkIG9uIGEgdGV4dCBpbnB1dC5cbiAgICAgKiBAcGFyYW0gdGV4dCBUaGUgdGV4dCBpbnB1dC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgY2FsbCBvcHRpb25zIG9yIGFuIGFycmF5IG9mIHN0b3Agc2VxdWVuY2VzLlxuICAgICAqIEBwYXJhbSBjYWxsYmFja3MgVGhlIGNhbGxiYWNrcyBmb3IgdGhlIGxhbmd1YWdlIG1vZGVsLlxuICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgc3RyaW5nLlxuICAgICAqL1xuICAgIGFzeW5jIHByZWRpY3QodGV4dCwgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgSHVtYW5NZXNzYWdlKHRleHQpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNhbGwoW21lc3NhZ2VdLCBvcHRpb25zLCBjYWxsYmFja3MpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmNvbnRlbnQ7XG4gICAgfVxufVxuLyoqXG4gKiBBbiBhYnN0cmFjdCBjbGFzcyB0aGF0IGV4dGVuZHMgQmFzZUNoYXRNb2RlbCBhbmQgcHJvdmlkZXMgYSBzaW1wbGVcbiAqIGltcGxlbWVudGF0aW9uIG9mIF9nZW5lcmF0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFNpbXBsZUNoYXRNb2RlbCBleHRlbmRzIEJhc2VDaGF0TW9kZWwge1xuICAgIGFzeW5jIF9nZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgdGhpcy5fY2FsbChtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcik7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgQUlNZXNzYWdlKHRleHQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2VuZXJhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBPcGVuQUkgYXMgT3BlbkFJQ2xpZW50IH0gZnJvbSBcIm9wZW5haVwiO1xuaW1wb3J0IHsgZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4gfSBmcm9tIFwiLi4vYmFzZV9sYW5ndWFnZS9jb3VudF90b2tlbnMuanNcIjtcbmltcG9ydCB7IEFJTWVzc2FnZSwgQUlNZXNzYWdlQ2h1bmssIENoYXRHZW5lcmF0aW9uQ2h1bmssIENoYXRNZXNzYWdlLCBDaGF0TWVzc2FnZUNodW5rLCBGdW5jdGlvbk1lc3NhZ2VDaHVuaywgSHVtYW5NZXNzYWdlLCBIdW1hbk1lc3NhZ2VDaHVuaywgU3lzdGVtTWVzc2FnZSwgU3lzdGVtTWVzc2FnZUNodW5rLCB9IGZyb20gXCIuLi9zY2hlbWEvaW5kZXguanNcIjtcbmltcG9ydCB7IGZvcm1hdFRvT3BlbkFJRnVuY3Rpb24gfSBmcm9tIFwiLi4vdG9vbHMvY29udmVydF90b19vcGVuYWkuanNcIjtcbmltcG9ydCB7IGdldEVuZHBvaW50IH0gZnJvbSBcIi4uL3V0aWwvYXp1cmUuanNcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi4vdXRpbC9lbnYuanNcIjtcbmltcG9ydCB7IHByb21wdExheWVyVHJhY2tSZXF1ZXN0IH0gZnJvbSBcIi4uL3V0aWwvcHJvbXB0LWxheWVyLmpzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhdE1vZGVsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgd3JhcE9wZW5BSUNsaWVudEVycm9yIH0gZnJvbSBcIi4uL3V0aWwvb3BlbmFpLmpzXCI7XG5mdW5jdGlvbiBleHRyYWN0R2VuZXJpY01lc3NhZ2VDdXN0b21Sb2xlKG1lc3NhZ2UpIHtcbiAgICBpZiAobWVzc2FnZS5yb2xlICE9PSBcInN5c3RlbVwiICYmXG4gICAgICAgIG1lc3NhZ2Uucm9sZSAhPT0gXCJhc3Npc3RhbnRcIiAmJlxuICAgICAgICBtZXNzYWdlLnJvbGUgIT09IFwidXNlclwiICYmXG4gICAgICAgIG1lc3NhZ2Uucm9sZSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgVW5rbm93biBtZXNzYWdlIHJvbGU6ICR7bWVzc2FnZS5yb2xlfWApO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZS5yb2xlO1xufVxuZnVuY3Rpb24gbWVzc2FnZVRvT3BlbkFJUm9sZShtZXNzYWdlKSB7XG4gICAgY29uc3QgdHlwZSA9IG1lc3NhZ2UuX2dldFR5cGUoKTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcInN5c3RlbVwiOlxuICAgICAgICAgICAgcmV0dXJuIFwic3lzdGVtXCI7XG4gICAgICAgIGNhc2UgXCJhaVwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiYXNzaXN0YW50XCI7XG4gICAgICAgIGNhc2UgXCJodW1hblwiOlxuICAgICAgICAgICAgcmV0dXJuIFwidXNlclwiO1xuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBcImZ1bmN0aW9uXCI7XG4gICAgICAgIGNhc2UgXCJnZW5lcmljXCI6IHtcbiAgICAgICAgICAgIGlmICghQ2hhdE1lc3NhZ2UuaXNJbnN0YW5jZShtZXNzYWdlKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGdlbmVyaWMgY2hhdCBtZXNzYWdlXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGV4dHJhY3RHZW5lcmljTWVzc2FnZUN1c3RvbVJvbGUobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBtZXNzYWdlIHR5cGU6ICR7dHlwZX1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBvcGVuQUlSZXNwb25zZVRvQ2hhdE1lc3NhZ2UobWVzc2FnZSkge1xuICAgIHN3aXRjaCAobWVzc2FnZS5yb2xlKSB7XG4gICAgICAgIGNhc2UgXCJ1c2VyXCI6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEh1bWFuTWVzc2FnZShtZXNzYWdlLmNvbnRlbnQgfHwgXCJcIik7XG4gICAgICAgIGNhc2UgXCJhc3Npc3RhbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgQUlNZXNzYWdlKG1lc3NhZ2UuY29udGVudCB8fCBcIlwiLCB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb25fY2FsbDogbWVzc2FnZS5mdW5jdGlvbl9jYWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgXCJzeXN0ZW1cIjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3lzdGVtTWVzc2FnZShtZXNzYWdlLmNvbnRlbnQgfHwgXCJcIik7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IENoYXRNZXNzYWdlKG1lc3NhZ2UuY29udGVudCB8fCBcIlwiLCBtZXNzYWdlLnJvbGUgPz8gXCJ1bmtub3duXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIF9jb252ZXJ0RGVsdGFUb01lc3NhZ2VDaHVuayhcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5kZWx0YSwgZGVmYXVsdFJvbGUpIHtcbiAgICBjb25zdCByb2xlID0gZGVsdGEucm9sZSA/PyBkZWZhdWx0Um9sZTtcbiAgICBjb25zdCBjb250ZW50ID0gZGVsdGEuY29udGVudCA/PyBcIlwiO1xuICAgIGxldCBhZGRpdGlvbmFsX2t3YXJncztcbiAgICBpZiAoZGVsdGEuZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICBhZGRpdGlvbmFsX2t3YXJncyA9IHtcbiAgICAgICAgICAgIGZ1bmN0aW9uX2NhbGw6IGRlbHRhLmZ1bmN0aW9uX2NhbGwsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhZGRpdGlvbmFsX2t3YXJncyA9IHt9O1xuICAgIH1cbiAgICBpZiAocm9sZSA9PT0gXCJ1c2VyXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIdW1hbk1lc3NhZ2VDaHVuayh7IGNvbnRlbnQgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJvbGUgPT09IFwiYXNzaXN0YW50XCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBSU1lc3NhZ2VDaHVuayh7IGNvbnRlbnQsIGFkZGl0aW9uYWxfa3dhcmdzIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChyb2xlID09PSBcInN5c3RlbVwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3lzdGVtTWVzc2FnZUNodW5rKHsgY29udGVudCB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAocm9sZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb25NZXNzYWdlQ2h1bmsoe1xuICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxfa3dhcmdzLFxuICAgICAgICAgICAgbmFtZTogZGVsdGEubmFtZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IENoYXRNZXNzYWdlQ2h1bmsoeyBjb250ZW50LCByb2xlIH0pO1xuICAgIH1cbn1cbi8qKlxuICogV3JhcHBlciBhcm91bmQgT3BlbkFJIGxhcmdlIGxhbmd1YWdlIG1vZGVscyB0aGF0IHVzZSB0aGUgQ2hhdCBlbmRwb2ludC5cbiAqXG4gKiBUbyB1c2UgeW91IHNob3VsZCBoYXZlIHRoZSBgb3BlbmFpYCBwYWNrYWdlIGluc3RhbGxlZCwgd2l0aCB0aGVcbiAqIGBPUEVOQUlfQVBJX0tFWWAgZW52aXJvbm1lbnQgdmFyaWFibGUgc2V0LlxuICpcbiAqIFRvIHVzZSB3aXRoIEF6dXJlIHlvdSBzaG91bGQgaGF2ZSB0aGUgYG9wZW5haWAgcGFja2FnZSBpbnN0YWxsZWQsIHdpdGggdGhlXG4gKiBgQVpVUkVfT1BFTkFJX0FQSV9LRVlgLFxuICogYEFaVVJFX09QRU5BSV9BUElfSU5TVEFOQ0VfTkFNRWAsXG4gKiBgQVpVUkVfT1BFTkFJX0FQSV9ERVBMT1lNRU5UX05BTUVgXG4gKiBhbmQgYEFaVVJFX09QRU5BSV9BUElfVkVSU0lPTmAgZW52aXJvbm1lbnQgdmFyaWFibGUgc2V0LlxuICogYEFaVVJFX09QRU5BSV9CQVNFX1BBVEhgIGlzIG9wdGlvbmFsIGFuZCB3aWxsIG92ZXJyaWRlIGBBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVgIGlmIHlvdSBuZWVkIHRvIHVzZSBhIGN1c3RvbSBlbmRwb2ludC5cbiAqXG4gKiBAcmVtYXJrc1xuICogQW55IHBhcmFtZXRlcnMgdGhhdCBhcmUgdmFsaWQgdG8gYmUgcGFzc2VkIHRvIHtAbGlua1xuICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9jaGF0L2NyZWF0ZSB8XG4gKiBgb3BlbmFpLmNyZWF0ZUNoYXRDb21wbGV0aW9uYH0gY2FuIGJlIHBhc3NlZCB0aHJvdWdoIHtAbGluayBtb2RlbEt3YXJnc30sIGV2ZW5cbiAqIGlmIG5vdCBleHBsaWNpdGx5IGF2YWlsYWJsZSBvbiB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgQ2hhdE9wZW5BSSBleHRlbmRzIEJhc2VDaGF0TW9kZWwge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJDaGF0T3BlbkFJXCI7XG4gICAgfVxuICAgIGdldCBjYWxsS2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIC4uLnN1cGVyLmNhbGxLZXlzLFxuICAgICAgICAgICAgXCJvcHRpb25zXCIsXG4gICAgICAgICAgICBcImZ1bmN0aW9uX2NhbGxcIixcbiAgICAgICAgICAgIFwiZnVuY3Rpb25zXCIsXG4gICAgICAgICAgICBcInRvb2xzXCIsXG4gICAgICAgICAgICBcInByb21wdEluZGV4XCIsXG4gICAgICAgIF07XG4gICAgfVxuICAgIGdldCBsY19zZWNyZXRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3BlbkFJQXBpS2V5OiBcIk9QRU5BSV9BUElfS0VZXCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaUtleTogXCJBWlVSRV9PUEVOQUlfQVBJX0tFWVwiLFxuICAgICAgICAgICAgb3JnYW5pemF0aW9uOiBcIk9QRU5BSV9PUkdBTklaQVRJT05cIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IGxjX2FsaWFzZXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtb2RlbE5hbWU6IFwibW9kZWxcIixcbiAgICAgICAgICAgIG9wZW5BSUFwaUtleTogXCJvcGVuYWlfYXBpX2tleVwiLFxuICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlWZXJzaW9uOiBcImF6dXJlX29wZW5haV9hcGlfdmVyc2lvblwiLFxuICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlLZXk6IFwiYXp1cmVfb3BlbmFpX2FwaV9rZXlcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lOiBcImF6dXJlX29wZW5haV9hcGlfaW5zdGFuY2VfbmFtZVwiLFxuICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZTogXCJhenVyZV9vcGVuYWlfYXBpX2RlcGxveW1lbnRfbmFtZVwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMsIFxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgc3VwZXIoZmllbGRzID8/IHt9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZW1wZXJhdHVyZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9wUFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZnJlcXVlbmN5UGVuYWx0eVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJlc2VuY2VQZW5hbHR5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAxXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsb2dpdEJpYXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibW9kZWxOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImdwdC0zLjUtdHVyYm9cIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibW9kZWxLd2FyZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RvcFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1c2VyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRpbWVvdXRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RyZWFtaW5nXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4VG9rZW5zXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wZW5BSUFwaUtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaVZlcnNpb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUJhc2VQYXRoXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9yZ2FuaXphdGlvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50Q29uZmlnXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub3BlbkFJQXBpS2V5ID1cbiAgICAgICAgICAgIGZpZWxkcz8ub3BlbkFJQXBpS2V5ID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJPUEVOQUlfQVBJX0tFWVwiKTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaUtleSA9XG4gICAgICAgICAgICBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpS2V5ID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfS0VZXCIpO1xuICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlLZXkgJiYgIXRoaXMub3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPcGVuQUkgb3IgQXp1cmUgT3BlbkFJIEFQSSBrZXkgbm90IGZvdW5kXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVcIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSA9XG4gICAgICAgICAgICBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9ERVBMT1lNRU5UX05BTUVcIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uID1cbiAgICAgICAgICAgIGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlWZXJzaW9uID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfVkVSU0lPTlwiKTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUJhc2VQYXRoID1cbiAgICAgICAgICAgIGZpZWxkcz8uYXp1cmVPcGVuQUlCYXNlUGF0aCA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQkFTRV9QQVRIXCIpO1xuICAgICAgICB0aGlzLm9yZ2FuaXphdGlvbiA9XG4gICAgICAgICAgICBmaWVsZHM/LmNvbmZpZ3VyYXRpb24/Lm9yZ2FuaXphdGlvbiA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJPUEVOQUlfT1JHQU5JWkFUSU9OXCIpO1xuICAgICAgICB0aGlzLm1vZGVsTmFtZSA9IGZpZWxkcz8ubW9kZWxOYW1lID8/IHRoaXMubW9kZWxOYW1lO1xuICAgICAgICB0aGlzLm1vZGVsS3dhcmdzID0gZmllbGRzPy5tb2RlbEt3YXJncyA/PyB7fTtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gZmllbGRzPy50aW1lb3V0O1xuICAgICAgICB0aGlzLnRlbXBlcmF0dXJlID0gZmllbGRzPy50ZW1wZXJhdHVyZSA/PyB0aGlzLnRlbXBlcmF0dXJlO1xuICAgICAgICB0aGlzLnRvcFAgPSBmaWVsZHM/LnRvcFAgPz8gdGhpcy50b3BQO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeVBlbmFsdHkgPSBmaWVsZHM/LmZyZXF1ZW5jeVBlbmFsdHkgPz8gdGhpcy5mcmVxdWVuY3lQZW5hbHR5O1xuICAgICAgICB0aGlzLnByZXNlbmNlUGVuYWx0eSA9IGZpZWxkcz8ucHJlc2VuY2VQZW5hbHR5ID8/IHRoaXMucHJlc2VuY2VQZW5hbHR5O1xuICAgICAgICB0aGlzLm1heFRva2VucyA9IGZpZWxkcz8ubWF4VG9rZW5zO1xuICAgICAgICB0aGlzLm4gPSBmaWVsZHM/Lm4gPz8gdGhpcy5uO1xuICAgICAgICB0aGlzLmxvZ2l0QmlhcyA9IGZpZWxkcz8ubG9naXRCaWFzO1xuICAgICAgICB0aGlzLnN0b3AgPSBmaWVsZHM/LnN0b3A7XG4gICAgICAgIHRoaXMudXNlciA9IGZpZWxkcz8udXNlcjtcbiAgICAgICAgdGhpcy5zdHJlYW1pbmcgPSBmaWVsZHM/LnN0cmVhbWluZyA/PyBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSAmJiAhdGhpcy5henVyZU9wZW5BSUJhc2VQYXRoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIEFQSSBpbnN0YW5jZSBuYW1lIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIEFQSSBkZXBsb3ltZW50IG5hbWUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkgdmVyc2lvbiBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9wZW5BSUFwaUtleSA9IHRoaXMub3BlbkFJQXBpS2V5ID8/IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGllbnRDb25maWcgPSB7XG4gICAgICAgICAgICBhcGlLZXk6IHRoaXMub3BlbkFJQXBpS2V5LFxuICAgICAgICAgICAgb3JnYW5pemF0aW9uOiB0aGlzLm9yZ2FuaXphdGlvbixcbiAgICAgICAgICAgIGJhc2VVUkw6IGNvbmZpZ3VyYXRpb24/LmJhc2VQYXRoID8/IGZpZWxkcz8uY29uZmlndXJhdGlvbj8uYmFzZVBhdGgsXG4gICAgICAgICAgICBkYW5nZXJvdXNseUFsbG93QnJvd3NlcjogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmF1bHRIZWFkZXJzOiBjb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8uaGVhZGVycyA/P1xuICAgICAgICAgICAgICAgIGZpZWxkcz8uY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LmhlYWRlcnMsXG4gICAgICAgICAgICBkZWZhdWx0UXVlcnk6IGNvbmZpZ3VyYXRpb24/LmJhc2VPcHRpb25zPy5wYXJhbXMgPz9cbiAgICAgICAgICAgICAgICBmaWVsZHM/LmNvbmZpZ3VyYXRpb24/LmJhc2VPcHRpb25zPy5wYXJhbXMsXG4gICAgICAgICAgICAuLi5jb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgLi4uZmllbGRzPy5jb25maWd1cmF0aW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBhcmFtZXRlcnMgdXNlZCB0byBpbnZva2UgdGhlIG1vZGVsXG4gICAgICovXG4gICAgaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtb2RlbDogdGhpcy5tb2RlbE5hbWUsXG4gICAgICAgICAgICB0ZW1wZXJhdHVyZTogdGhpcy50ZW1wZXJhdHVyZSxcbiAgICAgICAgICAgIHRvcF9wOiB0aGlzLnRvcFAsXG4gICAgICAgICAgICBmcmVxdWVuY3lfcGVuYWx0eTogdGhpcy5mcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgICAgICAgcHJlc2VuY2VfcGVuYWx0eTogdGhpcy5wcmVzZW5jZVBlbmFsdHksXG4gICAgICAgICAgICBtYXhfdG9rZW5zOiB0aGlzLm1heFRva2VucyA9PT0gLTEgPyB1bmRlZmluZWQgOiB0aGlzLm1heFRva2VucyxcbiAgICAgICAgICAgIG46IHRoaXMubixcbiAgICAgICAgICAgIGxvZ2l0X2JpYXM6IHRoaXMubG9naXRCaWFzLFxuICAgICAgICAgICAgc3RvcDogb3B0aW9ucz8uc3RvcCA/PyB0aGlzLnN0b3AsXG4gICAgICAgICAgICB1c2VyOiB0aGlzLnVzZXIsXG4gICAgICAgICAgICBzdHJlYW06IHRoaXMuc3RyZWFtaW5nLFxuICAgICAgICAgICAgZnVuY3Rpb25zOiBvcHRpb25zPy5mdW5jdGlvbnMgPz9cbiAgICAgICAgICAgICAgICAob3B0aW9ucz8udG9vbHNcbiAgICAgICAgICAgICAgICAgICAgPyBvcHRpb25zPy50b29scy5tYXAoZm9ybWF0VG9PcGVuQUlGdW5jdGlvbilcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgZnVuY3Rpb25fY2FsbDogb3B0aW9ucz8uZnVuY3Rpb25fY2FsbCxcbiAgICAgICAgICAgIC4uLnRoaXMubW9kZWxLd2FyZ3MsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgX2lkZW50aWZ5aW5nUGFyYW1zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWxfbmFtZTogdGhpcy5tb2RlbE5hbWUsXG4gICAgICAgICAgICAuLi50aGlzLmludm9jYXRpb25QYXJhbXMoKSxcbiAgICAgICAgICAgIC4uLnRoaXMuY2xpZW50Q29uZmlnLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzTWFwcGVkID0gbWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiAoe1xuICAgICAgICAgICAgcm9sZTogbWVzc2FnZVRvT3BlbkFJUm9sZShtZXNzYWdlKSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgIG5hbWU6IG1lc3NhZ2UubmFtZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uX2NhbGw6IG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3NcbiAgICAgICAgICAgICAgICAuZnVuY3Rpb25fY2FsbCxcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmludm9jYXRpb25QYXJhbXMob3B0aW9ucyksXG4gICAgICAgICAgICBtZXNzYWdlczogbWVzc2FnZXNNYXBwZWQsXG4gICAgICAgICAgICBzdHJlYW06IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBkZWZhdWx0Um9sZTtcbiAgICAgICAgY29uc3Qgc3RyZWFtSXRlcmFibGUgPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkocGFyYW1zLCBvcHRpb25zKTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBkYXRhIG9mIHN0cmVhbUl0ZXJhYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBjaG9pY2UgPSBkYXRhPy5jaG9pY2VzWzBdO1xuICAgICAgICAgICAgaWYgKCFjaG9pY2UpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgZGVsdGEgfSA9IGNob2ljZTtcbiAgICAgICAgICAgIGNvbnN0IGNodW5rID0gX2NvbnZlcnREZWx0YVRvTWVzc2FnZUNodW5rKGRlbHRhLCBkZWZhdWx0Um9sZSk7XG4gICAgICAgICAgICBkZWZhdWx0Um9sZSA9IGRlbHRhLnJvbGUgPz8gZGVmYXVsdFJvbGU7XG4gICAgICAgICAgICBjb25zdCBuZXdUb2tlbkluZGljZXMgPSB7XG4gICAgICAgICAgICAgICAgcHJvbXB0OiBvcHRpb25zLnByb21wdEluZGV4ID8/IDAsXG4gICAgICAgICAgICAgICAgY29tcGxldGlvbjogY2hvaWNlLmluZGV4ID8/IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZ2VuZXJhdGlvbkNodW5rID0gbmV3IENoYXRHZW5lcmF0aW9uQ2h1bmsoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNodW5rLFxuICAgICAgICAgICAgICAgIHRleHQ6IGNodW5rLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbkluZm86IG5ld1Rva2VuSW5kaWNlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgeWllbGQgZ2VuZXJhdGlvbkNodW5rO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZvaWRcbiAgICAgICAgICAgIHZvaWQgcnVuTWFuYWdlcj8uaGFuZGxlTExNTmV3VG9rZW4oZ2VuZXJhdGlvbkNodW5rLnRleHQgPz8gXCJcIiwgbmV3VG9rZW5JbmRpY2VzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7IGNodW5rOiBnZW5lcmF0aW9uQ2h1bmsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBYm9ydEVycm9yXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaWRlbnRpZnlpbmcgcGFyYW1ldGVycyBmb3IgdGhlIG1vZGVsXG4gICAgICovXG4gICAgaWRlbnRpZnlpbmdQYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9nZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCB0b2tlblVzYWdlID0ge307XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZXNNYXBwZWQgPSBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+ICh7XG4gICAgICAgICAgICByb2xlOiBtZXNzYWdlVG9PcGVuQUlSb2xlKG1lc3NhZ2UpLFxuICAgICAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgICAgbmFtZTogbWVzc2FnZS5uYW1lLFxuICAgICAgICAgICAgZnVuY3Rpb25fY2FsbDogbWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJnc1xuICAgICAgICAgICAgICAgIC5mdW5jdGlvbl9jYWxsLFxuICAgICAgICB9KSk7XG4gICAgICAgIGlmIChwYXJhbXMuc3RyZWFtKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyhtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcik7XG4gICAgICAgICAgICBjb25zdCBmaW5hbENodW5rcyA9IHt9O1xuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGNodW5rLmdlbmVyYXRpb25JbmZvPy5jb21wbGV0aW9uID8/IDA7XG4gICAgICAgICAgICAgICAgaWYgKGZpbmFsQ2h1bmtzW2luZGV4XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsQ2h1bmtzW2luZGV4XSA9IGNodW5rO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDaHVua3NbaW5kZXhdID0gZmluYWxDaHVua3NbaW5kZXhdLmNvbmNhdChjaHVuayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZ2VuZXJhdGlvbnMgPSBPYmplY3QuZW50cmllcyhmaW5hbENodW5rcylcbiAgICAgICAgICAgICAgICAuc29ydCgoW2FLZXldLCBbYktleV0pID0+IHBhcnNlSW50KGFLZXksIDEwKSAtIHBhcnNlSW50KGJLZXksIDEwKSlcbiAgICAgICAgICAgICAgICAubWFwKChbXywgdmFsdWVdKSA9PiB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4geyBnZW5lcmF0aW9ucyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuY29tcGxldGlvbldpdGhSZXRyeSh7XG4gICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgIHN0cmVhbTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IG1lc3NhZ2VzTWFwcGVkLFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHNpZ25hbDogb3B0aW9ucz8uc2lnbmFsLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnM/Lm9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHsgY29tcGxldGlvbl90b2tlbnM6IGNvbXBsZXRpb25Ub2tlbnMsIHByb21wdF90b2tlbnM6IHByb21wdFRva2VucywgdG90YWxfdG9rZW5zOiB0b3RhbFRva2VucywgfSA9IGRhdGE/LnVzYWdlID8/IHt9O1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRpb25Ub2tlbnMpIHtcbiAgICAgICAgICAgICAgICB0b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPVxuICAgICAgICAgICAgICAgICAgICAodG9rZW5Vc2FnZS5jb21wbGV0aW9uVG9rZW5zID8/IDApICsgY29tcGxldGlvblRva2VucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9tcHRUb2tlbnMpIHtcbiAgICAgICAgICAgICAgICB0b2tlblVzYWdlLnByb21wdFRva2VucyA9ICh0b2tlblVzYWdlLnByb21wdFRva2VucyA/PyAwKSArIHByb21wdFRva2VucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b3RhbFRva2Vucykge1xuICAgICAgICAgICAgICAgIHRva2VuVXNhZ2UudG90YWxUb2tlbnMgPSAodG9rZW5Vc2FnZS50b3RhbFRva2VucyA/PyAwKSArIHRvdGFsVG9rZW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZ2VuZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBkYXRhPy5jaG9pY2VzID8/IFtdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHBhcnQubWVzc2FnZT8uY29udGVudCA/PyBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wZW5BSVJlc3BvbnNlVG9DaGF0TWVzc2FnZShwYXJ0Lm1lc3NhZ2UgPz8geyByb2xlOiBcImFzc2lzdGFudFwiIH0pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHBhcnQuZmluaXNoX3JlYXNvbikge1xuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uLmdlbmVyYXRpb25JbmZvID0geyBmaW5pc2hfcmVhc29uOiBwYXJ0LmZpbmlzaF9yZWFzb24gfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnMucHVzaChnZW5lcmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnMsXG4gICAgICAgICAgICAgICAgbGxtT3V0cHV0OiB7IHRva2VuVXNhZ2UgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZ2V0TnVtVG9rZW5zRnJvbU1lc3NhZ2VzKG1lc3NhZ2VzKSB7XG4gICAgICAgIGxldCB0b3RhbENvdW50ID0gMDtcbiAgICAgICAgbGV0IHRva2Vuc1Blck1lc3NhZ2UgPSAwO1xuICAgICAgICBsZXQgdG9rZW5zUGVyTmFtZSA9IDA7XG4gICAgICAgIC8vIEZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuYWkvb3BlbmFpLWNvb2tib29rL2Jsb2IvbWFpbi9leGFtcGxlcy9Ib3dfdG9fZm9ybWF0X2lucHV0c190b19DaGF0R1BUX21vZGVscy5pcHluYlxuICAgICAgICBpZiAoZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4odGhpcy5tb2RlbE5hbWUpID09PSBcImdwdC0zLjUtdHVyYm9cIikge1xuICAgICAgICAgICAgdG9rZW5zUGVyTWVzc2FnZSA9IDQ7XG4gICAgICAgICAgICB0b2tlbnNQZXJOYW1lID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4odGhpcy5tb2RlbE5hbWUpLnN0YXJ0c1dpdGgoXCJncHQtNFwiKSkge1xuICAgICAgICAgICAgdG9rZW5zUGVyTWVzc2FnZSA9IDM7XG4gICAgICAgICAgICB0b2tlbnNQZXJOYW1lID0gMTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb3VudFBlck1lc3NhZ2UgPSBhd2FpdCBQcm9taXNlLmFsbChtZXNzYWdlcy5tYXAoYXN5bmMgKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRleHRDb3VudCA9IGF3YWl0IHRoaXMuZ2V0TnVtVG9rZW5zKG1lc3NhZ2UuY29udGVudCk7XG4gICAgICAgICAgICBjb25zdCByb2xlQ291bnQgPSBhd2FpdCB0aGlzLmdldE51bVRva2VucyhtZXNzYWdlVG9PcGVuQUlSb2xlKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVDb3VudCA9IG1lc3NhZ2UubmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyB0b2tlbnNQZXJOYW1lICsgKGF3YWl0IHRoaXMuZ2V0TnVtVG9rZW5zKG1lc3NhZ2UubmFtZSkpXG4gICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgY29uc3QgY291bnQgPSB0ZXh0Q291bnQgKyB0b2tlbnNQZXJNZXNzYWdlICsgcm9sZUNvdW50ICsgbmFtZUNvdW50O1xuICAgICAgICAgICAgdG90YWxDb3VudCArPSBjb3VudDtcbiAgICAgICAgICAgIHJldHVybiBjb3VudDtcbiAgICAgICAgfSkpO1xuICAgICAgICB0b3RhbENvdW50ICs9IDM7IC8vIGV2ZXJ5IHJlcGx5IGlzIHByaW1lZCB3aXRoIDx8c3RhcnR8PmFzc2lzdGFudDx8bWVzc2FnZXw+XG4gICAgICAgIHJldHVybiB7IHRvdGFsQ291bnQsIGNvdW50UGVyTWVzc2FnZSB9O1xuICAgIH1cbiAgICBhc3luYyBjb21wbGV0aW9uV2l0aFJldHJ5KHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB0aGlzLl9nZXRDbGllbnRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsZXIuY2FsbChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHJlcXVlc3QsIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IHdyYXBPcGVuQUlDbGllbnRFcnJvcihlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9nZXRDbGllbnRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgY29uc3Qgb3BlbkFJRW5kcG9pbnRDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZTogdGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lLFxuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lOiB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lLFxuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpS2V5OiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQmFzZVBhdGg6IHRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aCxcbiAgICAgICAgICAgICAgICBiYXNlVVJMOiB0aGlzLmNsaWVudENvbmZpZy5iYXNlVVJMLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50ID0gZ2V0RW5kcG9pbnQob3BlbkFJRW5kcG9pbnRDb25maWcpO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuY2xpZW50Q29uZmlnLFxuICAgICAgICAgICAgICAgIGJhc2VVUkw6IGVuZHBvaW50LFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IHRoaXMudGltZW91dCxcbiAgICAgICAgICAgICAgICBtYXhSZXRyaWVzOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICghcGFyYW1zLmJhc2VVUkwpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW1zLmJhc2VVUkw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNsaWVudCA9IG5ldyBPcGVuQUlDbGllbnQocGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuY2xpZW50Q29uZmlnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgXCJhcGkta2V5XCI6IHRoaXMuYXp1cmVPcGVuQUlBcGlLZXksXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdE9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5xdWVyeSA9IHtcbiAgICAgICAgICAgICAgICBcImFwaS12ZXJzaW9uXCI6IHRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uLFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3RPcHRpb25zLnF1ZXJ5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVxdWVzdE9wdGlvbnM7XG4gICAgfVxuICAgIF9sbG1UeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJvcGVuYWlcIjtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBfY29tYmluZUxMTU91dHB1dCguLi5sbG1PdXRwdXRzKSB7XG4gICAgICAgIHJldHVybiBsbG1PdXRwdXRzLnJlZHVjZSgoYWNjLCBsbG1PdXRwdXQpID0+IHtcbiAgICAgICAgICAgIGlmIChsbG1PdXRwdXQgJiYgbGxtT3V0cHV0LnRva2VuVXNhZ2UpIHtcbiAgICAgICAgICAgICAgICBhY2MudG9rZW5Vc2FnZS5jb21wbGV0aW9uVG9rZW5zICs9XG4gICAgICAgICAgICAgICAgICAgIGxsbU91dHB1dC50b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPz8gMDtcbiAgICAgICAgICAgICAgICBhY2MudG9rZW5Vc2FnZS5wcm9tcHRUb2tlbnMgKz0gbGxtT3V0cHV0LnRva2VuVXNhZ2UucHJvbXB0VG9rZW5zID8/IDA7XG4gICAgICAgICAgICAgICAgYWNjLnRva2VuVXNhZ2UudG90YWxUb2tlbnMgKz0gbGxtT3V0cHV0LnRva2VuVXNhZ2UudG90YWxUb2tlbnMgPz8gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuVXNhZ2U6IHtcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiAwLFxuICAgICAgICAgICAgICAgIHByb21wdFRva2VuczogMCxcbiAgICAgICAgICAgICAgICB0b3RhbFRva2VuczogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQcm9tcHRMYXllckNoYXRPcGVuQUkgZXh0ZW5kcyBDaGF0T3BlbkFJIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvbXB0TGF5ZXJBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGxUYWdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHVyblByb21wdExheWVySWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wcm9tcHRMYXllckFwaUtleSA9XG4gICAgICAgICAgICBmaWVsZHM/LnByb21wdExheWVyQXBpS2V5ID8/XG4gICAgICAgICAgICAgICAgKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICAgICAgICAgID8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb2Nlc3MtZW52XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudj8uUFJPTVBUTEFZRVJfQVBJX0tFWVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHRoaXMucGxUYWdzID0gZmllbGRzPy5wbFRhZ3MgPz8gW107XG4gICAgICAgIHRoaXMucmV0dXJuUHJvbXB0TGF5ZXJJZCA9IGZpZWxkcz8ucmV0dXJuUHJvbXB0TGF5ZXJJZCA/PyBmYWxzZTtcbiAgICB9XG4gICAgYXN5bmMgX2dlbmVyYXRlKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBsZXQgcGFyc2VkT3B0aW9ucztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgICAgICAgIHBhcnNlZE9wdGlvbnMgPSB7IHN0b3A6IG9wdGlvbnMgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zPy50aW1lb3V0ICYmICFvcHRpb25zLnNpZ25hbCkge1xuICAgICAgICAgICAgcGFyc2VkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dChvcHRpb25zLnRpbWVvdXQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlZE9wdGlvbnMgPSBvcHRpb25zID8/IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlZFJlc3BvbnNlcyA9IGF3YWl0IHN1cGVyLl9nZW5lcmF0ZShtZXNzYWdlcywgcGFyc2VkT3B0aW9ucywgcnVuTWFuYWdlcik7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RFbmRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgX2NvbnZlcnRNZXNzYWdlVG9EaWN0ID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBsZXQgbWVzc2FnZURpY3Q7XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5fZ2V0VHlwZSgpID09PSBcImh1bWFuXCIpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlRGljdCA9IHsgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5fZ2V0VHlwZSgpID09PSBcImFpXCIpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlRGljdCA9IHsgcm9sZTogXCJhc3Npc3RhbnRcIiwgY29udGVudDogbWVzc2FnZS5jb250ZW50IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VEaWN0ID0geyByb2xlOiBcImFzc2lzdGFudFwiLCBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VEaWN0ID0geyByb2xlOiBcInN5c3RlbVwiLCBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJnZW5lcmljXCIpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlRGljdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogbWVzc2FnZS5yb2xlLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgR290IHVua25vd24gdHlwZSAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZURpY3Q7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IF9jcmVhdGVNZXNzYWdlRGljdHMgPSAobWVzc2FnZXMsIGNhbGxPcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG4gICAgICAgICAgICAgICAgbW9kZWw6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjYWxsT3B0aW9ucz8uc3RvcCkge1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhwYXJhbXMpLmluY2x1ZGVzKFwic3RvcFwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJgc3RvcGAgZm91bmQgaW4gYm90aCB0aGUgaW5wdXQgYW5kIGRlZmF1bHQgcGFyYW1zLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlRGljdHMgPSBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IF9jb252ZXJ0TWVzc2FnZVRvRGljdChtZXNzYWdlKSk7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZURpY3RzO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlbmVyYXRlZFJlc3BvbnNlcy5nZW5lcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgZ2VuZXJhdGlvbiA9IGdlbmVyYXRlZFJlc3BvbnNlcy5nZW5lcmF0aW9uc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VEaWN0cyA9IF9jcmVhdGVNZXNzYWdlRGljdHMobWVzc2FnZXMsIHBhcnNlZE9wdGlvbnMpO1xuICAgICAgICAgICAgbGV0IHByb21wdExheWVyUmVxdWVzdElkO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkUmVzcCA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGdlbmVyYXRpb24udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogbWVzc2FnZVRvT3BlbkFJUm9sZShnZW5lcmF0aW9uLm1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3QgcHJvbXB0TGF5ZXJSZXNwQm9keSA9IGF3YWl0IHByb21wdExheWVyVHJhY2tSZXF1ZXN0KHRoaXMuY2FsbGVyLCBcImxhbmdjaGFpbi5Qcm9tcHRMYXllckNoYXRPcGVuQUlcIiwgeyAuLi50aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpLCBtZXNzYWdlczogbWVzc2FnZURpY3RzLCBzdHJlYW06IGZhbHNlIH0sIHRoaXMucGxUYWdzLCBwYXJzZWRSZXNwLCByZXF1ZXN0U3RhcnRUaW1lLCByZXF1ZXN0RW5kVGltZSwgdGhpcy5wcm9tcHRMYXllckFwaUtleSk7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXR1cm5Qcm9tcHRMYXllcklkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb21wdExheWVyUmVzcEJvZHkuc3VjY2VzcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9tcHRMYXllclJlcXVlc3RJZCA9IHByb21wdExheWVyUmVzcEJvZHkucmVxdWVzdF9pZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFnZW5lcmF0aW9uLmdlbmVyYXRpb25JbmZvIHx8XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBnZW5lcmF0aW9uLmdlbmVyYXRpb25JbmZvICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb24uZ2VuZXJhdGlvbkluZm8gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbi5nZW5lcmF0aW9uSW5mby5wcm9tcHRMYXllclJlcXVlc3RJZCA9IHByb21wdExheWVyUmVxdWVzdElkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW5lcmF0ZWRSZXNwb25zZXM7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIm5vb3AiLCJhc3NpZ24iLCJ0YXIiLCJzcmMiLCJrIiwicnVuIiwiZm4iLCJibGFua19vYmplY3QiLCJydW5fYWxsIiwiZm5zIiwiaXNfZnVuY3Rpb24iLCJ0aGluZyIsInNhZmVfbm90X2VxdWFsIiwiYSIsImIiLCJpc19lbXB0eSIsIm9iaiIsInN1YnNjcmliZSIsInN0b3JlIiwiY2FsbGJhY2tzIiwiY2FsbGJhY2siLCJ1bnN1YiIsImNvbXBvbmVudF9zdWJzY3JpYmUiLCJjb21wb25lbnQiLCJjcmVhdGVfc2xvdCIsImRlZmluaXRpb24iLCJjdHgiLCIkJHNjb3BlIiwic2xvdF9jdHgiLCJnZXRfc2xvdF9jb250ZXh0IiwiZ2V0X3Nsb3RfY2hhbmdlcyIsImRpcnR5IiwibGV0cyIsIm1lcmdlZCIsImxlbiIsImkiLCJ1cGRhdGVfc2xvdF9iYXNlIiwic2xvdCIsInNsb3RfZGVmaW5pdGlvbiIsInNsb3RfY2hhbmdlcyIsImdldF9zbG90X2NvbnRleHRfZm4iLCJzbG90X2NvbnRleHQiLCJnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUiLCJsZW5ndGgiLCJleGNsdWRlX2ludGVybmFsX3Byb3BzIiwicHJvcHMiLCJyZXN1bHQiLCJhcHBlbmQiLCJ0YXJnZXQiLCJub2RlIiwiaW5zZXJ0IiwiYW5jaG9yIiwiZGV0YWNoIiwiZWxlbWVudCIsIm5hbWUiLCJzdmdfZWxlbWVudCIsInRleHQiLCJkYXRhIiwic3BhY2UiLCJlbXB0eSIsImxpc3RlbiIsImV2ZW50IiwiaGFuZGxlciIsIm9wdGlvbnMiLCJwcmV2ZW50X2RlZmF1bHQiLCJhdHRyIiwiYXR0cmlidXRlIiwidmFsdWUiLCJjaGlsZHJlbiIsInNldF9kYXRhIiwic2V0X2lucHV0X3ZhbHVlIiwiaW5wdXQiLCJzZXRfc3R5bGUiLCJrZXkiLCJpbXBvcnRhbnQiLCJjdXJyZW50X2NvbXBvbmVudCIsInNldF9jdXJyZW50X2NvbXBvbmVudCIsImRpcnR5X2NvbXBvbmVudHMiLCJiaW5kaW5nX2NhbGxiYWNrcyIsInJlbmRlcl9jYWxsYmFja3MiLCJmbHVzaF9jYWxsYmFja3MiLCJyZXNvbHZlZF9wcm9taXNlIiwidXBkYXRlX3NjaGVkdWxlZCIsInNjaGVkdWxlX3VwZGF0ZSIsImZsdXNoIiwiYWRkX3JlbmRlcl9jYWxsYmFjayIsInNlZW5fY2FsbGJhY2tzIiwiZmx1c2hpZHgiLCJzYXZlZF9jb21wb25lbnQiLCJ1cGRhdGUiLCIkJCIsImZsdXNoX3JlbmRlcl9jYWxsYmFja3MiLCJmaWx0ZXJlZCIsInRhcmdldHMiLCJjIiwib3V0cm9pbmciLCJvdXRyb3MiLCJncm91cF9vdXRyb3MiLCJjaGVja19vdXRyb3MiLCJ0cmFuc2l0aW9uX2luIiwiYmxvY2siLCJsb2NhbCIsInRyYW5zaXRpb25fb3V0IiwiZW5zdXJlX2FycmF5X2xpa2UiLCJhcnJheV9saWtlX29yX2l0ZXJhdG9yIiwib3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2siLCJsb29rdXAiLCJ1cGRhdGVfa2V5ZWRfZWFjaCIsIm9sZF9ibG9ja3MiLCJnZXRfa2V5IiwiZHluYW1pYyIsImxpc3QiLCJkZXN0cm95IiwiY3JlYXRlX2VhY2hfYmxvY2siLCJuZXh0IiwiZ2V0X2NvbnRleHQiLCJvIiwibiIsIm9sZF9pbmRleGVzIiwibmV3X2Jsb2NrcyIsIm5ld19sb29rdXAiLCJkZWx0YXMiLCJ1cGRhdGVzIiwiY2hpbGRfY3R4Iiwid2lsbF9tb3ZlIiwiZGlkX21vdmUiLCJuZXdfYmxvY2siLCJvbGRfYmxvY2siLCJuZXdfa2V5Iiwib2xkX2tleSIsImdldF9zcHJlYWRfdXBkYXRlIiwibGV2ZWxzIiwidG9fbnVsbF9vdXQiLCJhY2NvdW50ZWRfZm9yIiwiZ2V0X3NwcmVhZF9vYmplY3QiLCJzcHJlYWRfcHJvcHMiLCJjcmVhdGVfY29tcG9uZW50IiwibW91bnRfY29tcG9uZW50IiwiZnJhZ21lbnQiLCJhZnRlcl91cGRhdGUiLCJuZXdfb25fZGVzdHJveSIsImRlc3Ryb3lfY29tcG9uZW50IiwiZGV0YWNoaW5nIiwibWFrZV9kaXJ0eSIsImluaXQiLCJpbnN0YW5jZSIsImNyZWF0ZV9mcmFnbWVudCIsIm5vdF9lcXVhbCIsImFwcGVuZF9zdHlsZXMiLCJwYXJlbnRfY29tcG9uZW50IiwicmVhZHkiLCJyZXQiLCJyZXN0Iiwibm9kZXMiLCJTdmVsdGVDb21wb25lbnQiLCJfX3B1YmxpY0ZpZWxkIiwidHlwZSIsImluZGV4IiwiUFVCTElDX1ZFUlNJT04iLCJ0aXRsZV8xIiwiY3JlYXRlX2lmX2Jsb2NrIiwic3ZnIiwidGl0bGUiLCIkJHByb3BzIiwidmlld0JveCIsInBhdGgiLCJzdWJzY3JpYmVyX3F1ZXVlIiwid3JpdGFibGUiLCJzdGFydCIsInN0b3AiLCJzdWJzY3JpYmVycyIsInNldCIsIm5ld192YWx1ZSIsInJ1bl9xdWV1ZSIsInN1YnNjcmliZXIiLCJpbnZhbGlkYXRlIiwiUmV0cnlPcGVyYXRpb24iLCJ0aW1lb3V0cyIsInJldHJ5X29wZXJhdGlvbiIsImVyciIsImN1cnJlbnRUaW1lIiwidGltZW91dCIsInNlbGYiLCJ0aW1lb3V0T3BzIiwiY291bnRzIiwibWFpbkVycm9yIiwibWFpbkVycm9yQ291bnQiLCJlcnJvciIsIm1lc3NhZ2UiLCJjb3VudCIsInJlcXVpcmUkJDAiLCJleHBvcnRzIiwib3B0cyIsImF0dGVtcHQiLCJyYW5kb20iLCJtZXRob2RzIiwibWV0aG9kIiwib3JpZ2luYWwiLCJvcCIsImFyZ3MiLCJyZXRyeSIsIm5ldHdvcmtFcnJvck1zZ3MiLCJBYm9ydEVycm9yIiwiZGVjb3JhdGVFcnJvcldpdGhDb3VudHMiLCJhdHRlbXB0TnVtYmVyIiwicmV0cmllc0xlZnQiLCJpc05ldHdvcmtFcnJvciIsImVycm9yTWVzc2FnZSIsInBSZXRyeSIsInJlc29sdmUiLCJyZWplY3QiLCJvcGVyYXRpb24iLCJwUmV0cnlNb2R1bGUiLCJnZXRSYW5kb21WYWx1ZXMiLCJybmRzOCIsInJuZyIsImJ5dGVUb0hleCIsInVuc2FmZVN0cmluZ2lmeSIsImFyciIsIm9mZnNldCIsInJhbmRvbVVVSUQiLCJuYXRpdmUiLCJ2NCIsImJ1ZiIsInJuZHMiLCJkZWNhbWVsaXplIiwic3RyIiwic2VwIiwiVVBQRVJDQVNFIiwiTE9XRVJDQVNFIiwiTEVBRElOR19DQVBJVEFMIiwiSURFTlRJRklFUiIsIlNFUEFSQVRPUlMiLCJMRUFESU5HX1NFUEFSQVRPUlMiLCJTRVBBUkFUT1JTX0FORF9JREVOVElGSUVSIiwiTlVNQkVSU19BTkRfSURFTlRJRklFUiIsInByZXNlcnZlQ2FtZWxDYXNlIiwic3RyaW5nIiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsImlzTGFzdENoYXJMb3dlciIsImlzTGFzdENoYXJVcHBlciIsImlzTGFzdExhc3RDaGFyVXBwZXIiLCJjaGFyYWN0ZXIiLCJwcmVzZXJ2ZUNvbnNlY3V0aXZlVXBwZXJjYXNlIiwibTEiLCJwb3N0UHJvY2VzcyIsIl8iLCJpZGVudGlmaWVyIiwibSIsImNhbWVsQ2FzZSIsIngiLCJjYW1lbGNhc2VNb2R1bGUiLCJrZXlUb0pzb24iLCJtYXAiLCJzbmFrZUNhc2UiLCJtYXBLZXlzIiwiZmllbGRzIiwibWFwcGVyIiwibWFwcGVkIiwic2hhbGxvd0NvcHkiLCJyZXBsYWNlU2VjcmV0cyIsInJvb3QiLCJzZWNyZXRzTWFwIiwic2VjcmV0SWQiLCJsYXN0IiwicGFydHNSZXZlcnNlIiwiY3VycmVudCIsInBhcnQiLCJnZXRfbGNfdW5pcXVlX25hbWUiLCJzZXJpYWxpemFibGVDbGFzcyIsInBhcmVudENsYXNzIiwiU2VyaWFsaXphYmxlIiwia3dhcmdzIiwiX2FyZ3MiLCJhbGlhc2VzIiwic2VjcmV0cyIsImFjYyIsImtleVBhdGgiLCJyZWFkIiwid3JpdGUiLCJCYXNlQ2FsbGJhY2tIYW5kbGVyTWV0aG9kc0NsYXNzIiwiQmFzZUNhbGxiYWNrSGFuZGxlciIsIl9hIiwiSGFuZGxlciIsInV1aWQudjQiLCJ3cmFwQW5zaTI1NiIsImNvZGUiLCJ3cmFwQW5zaTE2bSIsInJlZCIsImdyZWVuIiwiYmx1ZSIsImFzc2VtYmxlU3R5bGVzIiwiY29kZXMiLCJzdHlsZXMiLCJncm91cE5hbWUiLCJncm91cCIsInN0eWxlTmFtZSIsInN0eWxlIiwiaGV4IiwibWF0Y2hlcyIsImNvbG9yU3RyaW5nIiwiaW50ZWdlciIsIm1vZHVsZSIsIl9jb2VyY2VUb0RpY3QiLCJkZWZhdWx0S2V5IiwiQmFzZVRyYWNlciIsIl9maWVsZHMiLCJwYXJlbnRSdW4iLCJjaGlsZFJ1biIsInBhcmVudFJ1bklkIiwibGxtIiwicHJvbXB0cyIsInJ1bklkIiwiZXh0cmFQYXJhbXMiLCJ0YWdzIiwibWV0YWRhdGEiLCJleGVjdXRpb25fb3JkZXIiLCJzdGFydF90aW1lIiwiZmluYWxFeHRyYVBhcmFtcyIsIm1lc3NhZ2VzIiwib3V0cHV0IiwiY2hhaW4iLCJpbnB1dHMiLCJydW5UeXBlIiwib3V0cHV0cyIsIl9wYXJlbnRSdW5JZCIsIl90YWdzIiwidG9vbCIsImFjdGlvbiIsImFnZW50UnVuIiwicmV0cmlldmVyIiwicXVlcnkiLCJkb2N1bWVudHMiLCJ0b2tlbiIsImlkeCIsIndyYXAiLCJ0cnlKc29uU3RyaW5naWZ5IiwiZmFsbGJhY2siLCJlbGFwc2VkIiwiY29sb3IiLCJDb25zb2xlQ2FsbGJhY2tIYW5kbGVyIiwiX3J1biIsInBhcmVudHMiLCJjdXJyZW50UnVuIiwicGFyZW50IiwiY3J1bWJzIiwicCIsIl9iIiwiaGFzIiwicHJlZml4IiwiRXZlbnRzIiwiRUUiLCJjb250ZXh0Iiwib25jZSIsImFkZExpc3RlbmVyIiwiZW1pdHRlciIsImxpc3RlbmVyIiwiZXZ0IiwiY2xlYXJFdmVudCIsIkV2ZW50RW1pdHRlciIsIm5hbWVzIiwiZXZlbnRzIiwiaGFuZGxlcnMiLCJsIiwiZWUiLCJsaXN0ZW5lcnMiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwiaiIsInBGaW5hbGx5IiwicHJvbWlzZSIsIm9uRmluYWxseSIsInZhbCIsIlRpbWVvdXRFcnJvciIsInBUaW1lb3V0IiwibWlsbGlzZWNvbmRzIiwidGltZXIiLCJ0aW1lb3V0RXJyb3IiLCJwVGltZW91dE1vZHVsZSIsImxvd2VyQm91bmRfMSIsImxvd2VyQm91bmQiLCJhcnJheSIsImNvbXBhcmF0b3IiLCJmaXJzdCIsInN0ZXAiLCJpdCIsInByaW9yaXR5UXVldWUiLCJsb3dlcl9ib3VuZF8xIiwiUHJpb3JpdHlRdWV1ZSIsIml0ZW0iLCJkaXN0IiwicF90aW1lb3V0XzEiLCJyZXF1aXJlJCQxIiwicHJpb3JpdHlfcXVldWVfMSIsInJlcXVpcmUkJDIiLCJQUXVldWUiLCJfYyIsIl9kIiwibm93IiwiZGVsYXkiLCJjYW5Jbml0aWFsaXplSW50ZXJ2YWwiLCJqb2IiLCJuZXdDb25jdXJyZW5jeSIsImZ1bmN0aW9ucyIsImZ1bmN0aW9uXyIsImV4aXN0aW5nUmVzb2x2ZSIsIl9kZWZhdWx0IiwiU1RBVFVTX05PX1JFVFJZIiwiQXN5bmNDYWxsZXIkMSIsInBhcmFtcyIsIlBRdWV1ZU1vZCIsImNhbGxhYmxlIiwic3RhdHVzIiwicmVzIiwiaXNMYW5nQ2hhaW5NZXNzYWdlIiwiY29udmVydExhbmdDaGFpbk1lc3NhZ2VUb0V4YW1wbGUiLCJjb252ZXJ0ZWQiLCJpc0Jyb3dzZXIiLCJpc1dlYldvcmtlciIsImlzSnNEb20iLCJpc0Rlbm8iLCJpc05vZGUiLCJnZXRFbnYiLCJlbnYiLCJydW50aW1lRW52aXJvbm1lbnQiLCJnZXRSdW50aW1lRW52aXJvbm1lbnQiLCJyZWxlYXNlRW52IiwiZ2V0U2hhcyIsImdldEVudmlyb25tZW50VmFyaWFibGUiLCJjYWNoZWRDb21taXRTSEFzIiwiY29tbW9uX3JlbGVhc2VfZW52cyIsInNoYXMiLCJlbnZWYXIiLCJpc0xvY2FsaG9zdCIsInVybCIsImhvc3RuYW1lIiwicmFpc2VGb3JTdGF0dXMiLCJyZXNwb25zZSIsImJvZHkiLCJ0b0FycmF5IiwiaXRlcmFibGUiLCJ0cmltUXVvdGVzIiwiaGlkZUlucHV0cyIsImhpZGVPdXRwdXRzIiwiQ2xpZW50IiwiY29uZmlnIiwiZGVmYXVsdENvbmZpZyIsIkFzeW5jQ2FsbGVyIiwiYXBpS2V5IiwiaGVhZGVycyIsInF1ZXJ5UGFyYW1zIiwicGFyYW1zU3RyaW5nIiwibGltaXQiLCJpdGVtcyIsImV4dHJhIiwicnVudGltZUVudiIsInNlc3Npb25fbmFtZSIsInJ1bkNyZWF0ZSIsImxvYWRDaGlsZFJ1bnMiLCJwcm9qZWN0T3B0cyIsInNlc3Npb25JZCIsInRlbmFudElkIiwicnVuXyIsImNoaWxkUnVucyIsInRyZWVtYXAiLCJydW5zIiwicHJvamVjdElkIiwicHJvamVjdE5hbWUiLCJyZWZlcmVuY2VFeGFtcGxlSWQiLCJzdGFydFRpbWUiLCJleGVjdXRpb25PcmRlciIsImlkIiwiZmlsdGVyIiwicHJvamVjdElkXyIsImlkXyIsInNoYXJlSWQiLCJzaGFyZVRva2VuIiwicnVuSWRzIiwiZGF0YXNldElkIiwiZGF0YXNldE5hbWUiLCJzaGFyZVNjaGVtYSIsInByb2plY3RFeHRyYSIsInVwc2VydCIsInJlZmVyZW5jZURhdGFzZXRJZCIsInVwc2VydF8iLCJlbmRwb2ludCIsInByb2plY3RzIiwicHJvamVjdElkcyIsIm5hbWVDb250YWlucyIsInJlZmVyZW5jZURhdGFzZXROYW1lIiwicmVmZXJlbmNlRnJlZSIsImRhdGFzZXQiLCJjc3ZGaWxlIiwiZmlsZU5hbWUiLCJpbnB1dEtleXMiLCJvdXRwdXRLZXlzIiwiZGVzY3JpcHRpb24iLCJkYXRhVHlwZSIsImZvcm1EYXRhIiwibGluZSIsImRhdGFzZXRJZHMiLCJkYXRhc2V0TmFtZUNvbnRhaW5zIiwiZGF0YXNldHMiLCJkYXRhc2V0SWRfIiwiY3JlYXRlZEF0IiwiZXhhbXBsZUlkIiwiZ2VuZXJhdGlvbiIsImdlbmVyYXRpb25zIiwiZmluYWxJbnB1dCIsImZpbmFsT3V0cHV0IiwiZXhhbXBsZUlkcyIsImV4YW1wbGVzIiwiZXZhbHVhdG9yIiwic291cmNlSW5mbyIsInJlZmVyZW5jZUV4YW1wbGUiLCJmZWVkYmFja1Jlc3VsdCIsInNvdXJjZUluZm9fIiwic2NvcmUiLCJjb3JyZWN0aW9uIiwiY29tbWVudCIsImZlZWRiYWNrU291cmNlVHlwZSIsInNvdXJjZVJ1bklkIiwiZmVlZGJhY2tJZCIsImVhZ2VyIiwiZmVlZGJhY2tfc291cmNlIiwiZmVlZGJhY2siLCJmZWVkYmFja1VwZGF0ZSIsImZlZWRiYWNrS2V5cyIsImZlZWRiYWNrU291cmNlVHlwZXMiLCJmZWVkYmFja3MiLCJMYW5nQ2hhaW5UcmFjZXIiLCJjbGllbnQiLCJleGFtcGxlX2lkIiwicGVyc2lzdGVkUnVuIiwicnVuVXBkYXRlIiwiZ2V0QnVmZmVyU3RyaW5nIiwiaHVtYW5QcmVmaXgiLCJhaVByZWZpeCIsInN0cmluZ19tZXNzYWdlcyIsInJvbGUiLCJuYW1lU3RyIiwiTGFuZ0NoYWluVHJhY2VyVjEiLCJzZXNzaW9uTmFtZSIsInNlc3Npb25DcmVhdGUiLCJzZXNzaW9uIiwic2VyaWFsaXplZCIsInJ1blJlc3VsdCIsImNoaWxkX3J1bnMiLCJjaGlsZF9ydW4iLCJ2MVJ1biIsInRyYWNlclNlc3Npb24iLCJyZXNwIiwiZ2V0VHJhY2luZ0NhbGxiYWNrSGFuZGxlciIsInRyYWNlciIsImdldFRyYWNpbmdWMkNhbGxiYWNrSGFuZGxlciIsInF1ZXVlIiwiY3JlYXRlUXVldWUiLCJjb25zdW1lQ2FsbGJhY2siLCJwcm9taXNlRm4iLCJ3YWl0IiwicGFyc2VDYWxsYmFja0NvbmZpZ0FyZyIsImFyZyIsIkJhc2VDYWxsYmFja01hbmFnZXIiLCJCYXNlUnVuTWFuYWdlciIsImluaGVyaXRhYmxlSGFuZGxlcnMiLCJpbmhlcml0YWJsZVRhZ3MiLCJpbmhlcml0YWJsZU1ldGFkYXRhIiwiQ2FsbGJhY2tNYW5hZ2VyRm9yUmV0cmlldmVyUnVuIiwidGFnIiwibWFuYWdlciIsIkNhbGxiYWNrTWFuYWdlciIsIkNhbGxiYWNrTWFuYWdlckZvckxMTVJ1biIsIl9ydW5JZCIsIkNhbGxiYWNrTWFuYWdlckZvckNoYWluUnVuIiwiQ2FsbGJhY2tNYW5hZ2VyRm9yVG9vbFJ1biIsIl9tZXRhZGF0YSIsInJ1bk5hbWUiLCJwcm9tcHQiLCJ1dWlkdjQiLCJtZXNzYWdlR3JvdXAiLCJtZXNzYWdlU3RyaW5nIiwiaW5oZXJpdCIsIl9oYW5kbGVyIiwiYWRkaXRpb25hbEhhbmRsZXJzIiwiaW5oZXJpdGFibGUiLCJoIiwibG9jYWxIYW5kbGVycyIsImxvY2FsVGFncyIsImxvY2FsTWV0YWRhdGEiLCJjYWxsYmFja01hbmFnZXIiLCJlbnN1cmVIYW5kbGVyIiwidmVyYm9zZUVuYWJsZWQiLCJ0cmFjaW5nVjJFbmFibGVkIiwidHJhY2luZ0VuYWJsZWQiLCJjb25zb2xlSGFuZGxlciIsIl9oYXNPd25Qcm9wZXJ0eSIsImhhc093blByb3BlcnR5IiwiX29iamVjdEtleXMiLCJrZXlzIiwiX2RlZXBDbG9uZSIsImlzSW50ZWdlciIsImNoYXJDb2RlIiwidW5lc2NhcGVQYXRoQ29tcG9uZW50IiwiaGFzVW5kZWZpbmVkIiwib2JqS2V5cyIsIm9iaktleXNMZW5ndGgiLCJwYXRjaEVycm9yTWVzc2FnZUZvcm1hdHRlciIsIm1lc3NhZ2VQYXJ0cyIsIlBhdGNoRXJyb3IiLCJ0cmVlIiwiSnNvblBhdGNoRXJyb3IiLCJvYmpPcHMiLCJkb2N1bWVudCIsInJlbW92ZWQiLCJnZXRWYWx1ZUJ5UG9pbnRlciIsIm9yaWdpbmFsVmFsdWUiLCJhcHBseU9wZXJhdGlvbiIsInZhbHVlVG9Db3B5IiwiX2FyZUVxdWFscyIsImFyck9wcyIsInJlbW92ZWRMaXN0IiwicG9pbnRlciIsImdldE9yaWdpbmFsRGVzdGluYXRpb24iLCJ2YWxpZGF0ZU9wZXJhdGlvbiIsIm11dGF0ZURvY3VtZW50IiwiYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyIsInZhbGlkYXRvciIsInJldHVyblZhbHVlIiwidCIsImV4aXN0aW5nUGF0aEZyYWdtZW50IiwidmFsaWRhdGVGdW5jdGlvbiIsImFwcGx5UGF0Y2giLCJwYXRjaCIsInJlc3VsdHMiLCJwYXRoTGVuIiwiZXhpc3RpbmdQYXRoTGVuIiwiZXhpc3RpbmdWYWx1ZSIsInZhbGlkYXRlIiwic2VxdWVuY2UiLCJleHRlcm5hbFZhbGlkYXRvciIsImUiLCJhcnJBIiwiYXJyQiIsIkl0ZXJhYmxlUmVhZGFibGVTdHJlYW0iLCJjYW5jZWxQcm9taXNlIiwic3RyZWFtIiwicmVhZGVyIiwiY29udHJvbGxlciIsInB1bXAiLCJkb25lIiwiZ2VuZXJhdG9yIiwiUnVuTG9nUGF0Y2giLCJvdGhlciIsIm9wcyIsInN0YXRlcyIsIlJ1bkxvZyIsIkxvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlciIsInJ1blRhZ3MiLCJpbmNsdWRlIiwibG9nRW50cnkiLCJnZXRDYWxsYmFja01hbmdlckZvckNvbmZpZyIsImRlZmF1bHRGYWlsZWRBdHRlbXB0SGFuZGxlciIsIlJ1bm5hYmxlIiwiUnVubmFibGVCaW5kaW5nIiwiUnVubmFibGVFYWNoIiwiUnVubmFibGVSZXRyeSIsIlJ1bm5hYmxlV2l0aEZhbGxiYWNrcyIsImJhdGNoT3B0aW9ucyIsImNvbmZpZ0xpc3QiLCJjYWxsZXIiLCJiYXRjaENhbGxzIiwicnVubmFibGVDb25maWciLCJjYWxsT3B0aW9ucyIsImZ1bmMiLCJjYWxsYmFja01hbmFnZXJfIiwicnVuTWFuYWdlciIsIm9wdGlvbnNMaXN0IiwiY2FsbGJhY2tNYW5hZ2VycyIsInJ1bk1hbmFnZXJzIiwiaW5wdXRHZW5lcmF0b3IiLCJ0cmFuc2Zvcm1lciIsImZpbmFsSW5wdXRTdXBwb3J0ZWQiLCJmaW5hbE91dHB1dFN1cHBvcnRlZCIsInNlcmlhbGl6ZWRSZXByZXNlbnRhdGlvbiIsIndyYXBJbnB1dEZvclRyYWNpbmciLCJjaHVuayIsIndyYXBwZWRJbnB1dEdlbmVyYXRvciIsIm91dHB1dEl0ZXJhdG9yIiwibmV3Q29uZmlnIiwiY29lcmNlYWJsZSIsIlJ1bm5hYmxlU2VxdWVuY2UiLCJfY29lcmNlVG9SdW5uYWJsZSIsImZpbmFsQ2h1bmsiLCJzdHJlYW1PcHRpb25zIiwiY29waWVkQ2FsbGJhY2tzIiwicnVubmFibGVTdHJlYW0iLCJjb25zdW1lUnVubmFibGVTdHJlYW0iLCJydW5uYWJsZVN0cmVhbVByb21pc2UiLCJsb2ciLCJjb3B5IiwibWVyZ2VkT3B0aW9ucyIsImluZGl2aWR1YWxPcHRpb24iLCJjb25maWdzIiwicmVzdWx0c01hcCIsInJlbWFpbmluZ0luZGV4ZXMiLCJyZW1haW5pbmdJbnB1dHMiLCJwYXRjaGVkQ29uZmlncyIsImZpcnN0RXhjZXB0aW9uIiwicmVzdWx0TWFwSW5kZXgiLCJuZXh0U3RlcElucHV0IiwiaW5pdGlhbFN0ZXBzIiwibmV4dFN0ZXBJbnB1dHMiLCJmaW5hbE91dHB1dHMiLCJzdGVwcyIsInN0cmVhbWluZ1N0YXJ0U3RlcEluZGV4IiwiaXNEZWZhdWx0SW1wbGVtZW50YXRpb24iLCJib3VuZFJ1bm5hYmxlSXNEZWZhdWx0SW1wbGVtZW50YXRpb24iLCJpbnZva2VTdGVwcyIsImNvbmNhdFN1cHBvcnRlZCIsImZpbmFsR2VuZXJhdG9yIiwiZmluYWxTdGVwcyIsInJ1bm5hYmxlcyIsIlJ1bm5hYmxlTWFwIiwicnVubmFibGUiLCJSdW5uYWJsZUxhbWJkYSIsImZpcnN0RXJyb3IiLCJSdW5uYWJsZUFzc2lnbiIsIm1hcHBlclJlc3VsdCIsIlJ1bm5hYmxlUGFzc3Rocm91Z2giLCJtYXBwaW5nIiwiVkVSU0lPTiIsIlN0cmVhbSIsIlNTRURlY29kZXIiLCJsaW5lRGVjb2RlciIsIkxpbmVEZWNvZGVyIiwiaXRlciIsInJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYWJsZSIsInNzZSIsImZpZWxkbmFtZSIsInBhcnRpdGlvbiIsInRyYWlsaW5nTmV3bGluZSIsImxpbmVzIiwiYnl0ZXMiLCJkZWxpbWl0ZXIiLCJBUElFcnJvciIsImVycm9yUmVzcG9uc2UiLCJBUElDb25uZWN0aW9uRXJyb3IiLCJjYXN0VG9FcnJvciIsIkJhZFJlcXVlc3RFcnJvciIsIkF1dGhlbnRpY2F0aW9uRXJyb3IiLCJQZXJtaXNzaW9uRGVuaWVkRXJyb3IiLCJOb3RGb3VuZEVycm9yIiwiQ29uZmxpY3RFcnJvciIsIlVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciIsIlJhdGVMaW1pdEVycm9yIiwiSW50ZXJuYWxTZXJ2ZXJFcnJvciIsImNhdXNlIiwiZ2V0RGVmYXVsdEFnZW50IiwiX2ZldGNoIiwiaXNQb2x5ZmlsbGVkIiwiX0Zvcm1EYXRhIiwiX0ZpbGUiLCJnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyIsImZvcm0iLCJNdWx0aXBhcnRCb2R5IiwiZmlsZUZyb21QYXRoIiwiaXNGc1JlYWRTdHJlYW0iLCJpc1Jlc3BvbnNlTGlrZSIsImlzRmlsZUxpa2UiLCJpc0Jsb2JMaWtlIiwiaXNVcGxvYWRhYmxlIiwidG9GaWxlIiwiYmxvYiIsIkZpbGUiLCJiaXRzIiwiZ2V0Qnl0ZXMiLCJnZXROYW1lIiwicGFydHMiLCJpc0FzeW5jSXRlcmFibGVJdGVyYXRvciIsInByb3BzRm9yRXJyb3IiLCJnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIiLCJpc011bHRpcGFydEJvZHkiLCJtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMiLCJjcmVhdGVGb3JtIiwiRm9ybURhdGEiLCJhZGRGb3JtVmFsdWUiLCJmaWxlIiwiZW50cnkiLCJwcm9wIiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsInRoaXMiLCJyZWNlaXZlciIsInN0YXRlIiwia2luZCIsImYiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwiX0Fic3RyYWN0UGFnZV9jbGllbnQiLCJNQVhfUkVUUklFUyIsImRlZmF1bHRQYXJzZVJlc3BvbnNlIiwiY29udGVudFR5cGUiLCJqc29uIiwiZGVidWciLCJBUElQcm9taXNlIiwicmVzcG9uc2VQcm9taXNlIiwicGFyc2VSZXNwb25zZSIsInRyYW5zZm9ybSIsIm9uZnVsZmlsbGVkIiwib25yZWplY3RlZCIsIm9uZmluYWxseSIsIkFQSUNsaWVudCIsImJhc2VVUkwiLCJtYXhSZXRyaWVzIiwiaHR0cEFnZW50Iiwib3ZlcnJpZGVuRmV0Y2giLCJ2YWxpZGF0ZVBvc2l0aXZlSW50ZWdlciIsImZldGNoIiwiZ2V0UGxhdGZvcm1IZWFkZXJzIiwiY3VzdG9tSGVhZGVycyIsInV1aWQ0IiwiUGFnZSIsIl9lIiwiX2YiLCJjb250ZW50TGVuZ3RoIiwibWluQWdlbnRUaW1lb3V0IiwicmVxSGVhZGVycyIsImZldGNoSXNQb2x5ZmlsbGVkIiwicmVxIiwicmVxdWVzdCIsImhlYWRlciIsInJlbWFpbmluZ1JldHJpZXMiLCJvcHRpb25zSW5wdXQiLCJyZXRyaWVzUmVtYWluaW5nIiwiQVBJVXNlckFib3J0RXJyb3IiLCJBUElDb25uZWN0aW9uVGltZW91dEVycm9yIiwicmVzcG9uc2VIZWFkZXJzIiwiY3JlYXRlUmVzcG9uc2VIZWFkZXJzIiwiZXJyVGV4dCIsImVyckpTT04iLCJzYWZlSlNPTiIsImVyck1lc3NhZ2UiLCJQYWdlUHJvbWlzZSIsImlzQWJzb2x1dGVVUkwiLCJkZWZhdWx0UXVlcnkiLCJpc0VtcHR5T2JqIiwibXMiLCJzaWduYWwiLCJzaG91bGRSZXRyeUhlYWRlciIsInJldHJ5QWZ0ZXIiLCJzbGVlcCIsIm51bVJldHJpZXMiLCJzbGVlcFNlY29uZHMiLCJqaXR0ZXIiLCJBYnN0cmFjdFBhZ2UiLCJuZXh0SW5mbyIsIm5leHRPcHRpb25zIiwicGFnZSIsInJlcXVlc3RPcHRpb25zS2V5cyIsImlzUmVxdWVzdE9wdGlvbnMiLCJoYXNPd24iLCJnZXRQbGF0Zm9ybVByb3BlcnRpZXMiLCJub3JtYWxpemVQbGF0Zm9ybSIsIm5vcm1hbGl6ZUFyY2giLCJicm93c2VySW5mbyIsImdldEJyb3dzZXJJbmZvIiwiYnJvd3NlclBhdHRlcm5zIiwicGF0dGVybiIsIm1hdGNoIiwibWFqb3IiLCJtaW5vciIsImFyY2giLCJwbGF0Zm9ybSIsIl9wbGF0Zm9ybUhlYWRlcnMiLCJzdGFydHNXaXRoU2NoZW1lUmVnZXhwIiwicmVhZEVudiIsIl9rIiwiciIsImlzUnVubmluZ0luQnJvd3NlciIsIkN1cnNvclBhZ2UiLCJpbmZvIiwiQVBJUmVzb3VyY2UiLCJUcmFuc2NyaXB0aW9ucyIsIlRyYW5zbGF0aW9ucyIsIkF1ZGlvIiwiQVBJLlRyYW5zY3JpcHRpb25zIiwiQVBJLlRyYW5zbGF0aW9ucyIsIkNvbXBsZXRpb25zIiwiQ2hhdCIsIkFQSS5Db21wbGV0aW9ucyIsIkVtYmVkZGluZ3MiLCJFZGl0cyIsIkZpbGVzIiwiZmlsZUlkIiwiRmlsZU9iamVjdHNQYWdlIiwiRmluZVR1bmVzIiwiZmluZVR1bmVJZCIsIkZpbmVUdW5lc1BhZ2UiLCJKb2JzIiwiZmluZVR1bmluZ0pvYklkIiwiRmluZVR1bmluZ0pvYnNQYWdlIiwiRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UiLCJGaW5lVHVuaW5nIiwiQVBJLkpvYnMiLCJBUEkuRmluZVR1bmluZ0pvYnNQYWdlIiwiQVBJLkZpbmVUdW5pbmdKb2JFdmVudHNQYWdlIiwiSW1hZ2VzIiwiTW9kZWxzIiwibW9kZWwiLCJNb2RlbHNQYWdlIiwiTW9kZXJhdGlvbnMiLCJDb3JlLkFQSUNsaWVudCIsIkNvcmUucmVhZEVudiIsIm9yZ2FuaXphdGlvbiIsIkNvcmUuaXNSdW5uaW5nSW5Ccm93c2VyIiwiQVBJLkNoYXQiLCJBUEkuRWRpdHMiLCJBUEkuRW1iZWRkaW5ncyIsIkFQSS5GaWxlcyIsIkFQSS5JbWFnZXMiLCJBUEkuQXVkaW8iLCJBUEkuTW9kZXJhdGlvbnMiLCJBUEkuTW9kZWxzIiwiQVBJLkZpbmVUdW5pbmciLCJBUEkuRmluZVR1bmVzIiwiT3BlbkFJIiwiRXJyb3JzLkFQSUVycm9yIiwiRXJyb3JzLkFQSUNvbm5lY3Rpb25FcnJvciIsIkVycm9ycy5BUElDb25uZWN0aW9uVGltZW91dEVycm9yIiwiRXJyb3JzLkFQSVVzZXJBYm9ydEVycm9yIiwiRXJyb3JzLk5vdEZvdW5kRXJyb3IiLCJFcnJvcnMuQ29uZmxpY3RFcnJvciIsIkVycm9ycy5SYXRlTGltaXRFcnJvciIsIkVycm9ycy5CYWRSZXF1ZXN0RXJyb3IiLCJFcnJvcnMuQXV0aGVudGljYXRpb25FcnJvciIsIkVycm9ycy5JbnRlcm5hbFNlcnZlckVycm9yIiwiRXJyb3JzLlBlcm1pc3Npb25EZW5pZWRFcnJvciIsIkVycm9ycy5VbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IiLCJFcnJvcnMiLCJVcGxvYWRzLnRvRmlsZSIsIlVwbG9hZHMuZmlsZUZyb21QYXRoIiwiUGFnaW5hdGlvbi5QYWdlIiwiUGFnaW5hdGlvbi5DdXJzb3JQYWdlIiwiQVBJLkZpbGVPYmplY3RzUGFnZSIsIkFQSS5Nb2RlbHNQYWdlIiwiQVBJLkZpbmVUdW5lc1BhZ2UiLCJfX2RlZlByb3AiLCJfX2RlZk5vcm1hbFByb3AiLCJiYXNlNjRKcyIsImJ5dGVMZW5ndGgiLCJ0b0J5dGVBcnJheSIsImZyb21CeXRlQXJyYXkiLCJyZXZMb29rdXAiLCJBcnIiLCJnZXRMZW5zIiwiYjY0IiwidmFsaWRMZW4iLCJwbGFjZUhvbGRlcnNMZW4iLCJsZW5zIiwiX2J5dGVMZW5ndGgiLCJ0bXAiLCJjdXJCeXRlIiwidHJpcGxldFRvQmFzZTY0IiwibnVtIiwiZW5jb2RlQ2h1bmsiLCJ1aW50OCIsImVuZCIsImV4dHJhQnl0ZXMiLCJtYXhDaHVua0xlbmd0aCIsImxlbjIiLCJieXRlUGFpck1lcmdlIiwicGllY2UiLCJyYW5rcyIsIm1pblJhbmsiLCJzbGljZSIsInJhbmsiLCJieXRlUGFpckVuY29kZSIsImVzY2FwZVJlZ2V4IiwiX1Rpa3Rva2VuIiwiZXh0ZW5kZWRTcGVjaWFsVG9rZW5zIiwidW5jb21wcmVzc2VkIiwibWVtbyIsIm9mZnNldFN0ciIsInRva2VucyIsImJhc2U2NCIsImFsbG93ZWRTcGVjaWFsIiwiZGlzYWxsb3dlZFNwZWNpYWwiLCJyZWdleGVzIiwic3BlY2lhbFJlZ2V4IiwiYWxsb3dlZFNwZWNpYWxTZXQiLCJkaXNhbGxvd2VkU3BlY2lhbFNldCIsImRpc2FsbG93ZWRTcGVjaWFsUmVnZXgiLCJzcGVjaWFsTWF0Y2giLCJuZXh0U3BlY2lhbCIsInN0YXJ0RmluZCIsInRva2VuMiIsImkyIiwibWVyZ2VkQXJyYXkiLCJUaWt0b2tlbiIsImdldEVuY29kaW5nTmFtZUZvck1vZGVsIiwiY2FjaGUiLCJnZXRFbmNvZGluZyIsImVuY29kaW5nIiwiZW5jb2RpbmdGb3JNb2RlbCIsImdldE1vZGVsTmFtZUZvclRpa3Rva2VuIiwibW9kZWxOYW1lIiwiZ2V0TW9kZWxDb250ZXh0U2l6ZSIsImNhbGN1bGF0ZU1heFRva2VucyIsIm51bVRva2VucyIsIlJVTl9LRVkiLCJHZW5lcmF0aW9uQ2h1bmsiLCJCYXNlTWVzc2FnZSIsIkJhc2VNZXNzYWdlQ2h1bmsiLCJsZWZ0IiwicmlnaHQiLCJIdW1hbk1lc3NhZ2UiLCJIdW1hbk1lc3NhZ2VDaHVuayIsIkFJTWVzc2FnZSIsIkFJTWVzc2FnZUNodW5rIiwiU3lzdGVtTWVzc2FnZSIsIlN5c3RlbU1lc3NhZ2VDaHVuayIsIkZ1bmN0aW9uTWVzc2FnZUNodW5rIiwiQ2hhdE1lc3NhZ2UiLCJpc0Jhc2VNZXNzYWdlIiwibWVzc2FnZUxpa2UiLCJjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSIsImNvbnRlbnQiLCJDaGF0TWVzc2FnZUNodW5rIiwiQ2hhdEdlbmVyYXRpb25DaHVuayIsIkJhc2VQcm9tcHRWYWx1ZSIsIkJhc2VDYWNoZSIsImdldEVuZHBvaW50IiwiYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSIsImF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lIiwiYXp1cmVPcGVuQUlBcGlLZXkiLCJhenVyZU9wZW5BSUJhc2VQYXRoIiwiY2h1bmtBcnJheSIsImNodW5rU2l6ZSIsImNodW5rcyIsImVsZW0iLCJjaHVua0luZGV4IiwiU3RyaW5nUHJvbXB0VmFsdWUiLCJCYXNlUHJvbXB0VGVtcGxhdGUiLCJpbnB1dFZhcmlhYmxlcyIsInVzZXJWYXJpYWJsZXMiLCJwYXJ0aWFsVmFyaWFibGVzIiwicGFydGlhbFZhbHVlcyIsIlByb21wdFRlbXBsYXRlIiwiRmV3U2hvdFByb21wdFRlbXBsYXRlIiwiQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlIiwidmFsdWVzIiwiZm9ybWF0dGVkUHJvbXB0IiwicGFyc2VGU3RyaW5nIiwidGVtcGxhdGUiLCJjaGFycyIsIm5leHRCcmFja2V0IiwiYnJhY2tldCIsImludGVycG9sYXRlRlN0cmluZyIsIkRFRkFVTFRfRk9STUFUVEVSX01BUFBJTkciLCJERUZBVUxUX1BBUlNFUl9NQVBQSU5HIiwicmVuZGVyVGVtcGxhdGUiLCJ0ZW1wbGF0ZUZvcm1hdCIsImlucHV0VmFsdWVzIiwicGFyc2VUZW1wbGF0ZSIsImNoZWNrVmFsaWRUZW1wbGF0ZSIsInZhbGlkRm9ybWF0cyIsImR1bW15SW5wdXRzIiwidiIsInRvdGFsSW5wdXRWYXJpYWJsZXMiLCJhbGxWYWx1ZXMiLCJzdWZmaXgiLCJleGFtcGxlU2VwYXJhdG9yIiwibmV3SW5wdXRWYXJpYWJsZXMiLCJpdiIsIm5ld1BhcnRpYWxWYXJpYWJsZXMiLCJwcm9tcHREaWN0IiwiQ2hhdFByb21wdFZhbHVlIiwidSIsInMiLCJyZXF1aXJlIiwidyIsImQiLCJnIiwieSIsIk8iLCJIIiwiQyIsIkUiLCJJIiwiQSIsIlkiLCJCIiwiRiIsIkwiLCJVIiwiRCIsIlQiLCJNIiwiTiIsIlMiLCJnZXRDYWNoZUtleSIsInN0cmluZ3MiLCJoYXNoIiwiR0xPQkFMX01BUCIsIkluTWVtb3J5Q2FjaGUiLCJsbG1LZXkiLCJnZXRWZXJib3NpdHkiLCJCYXNlTGFuZ0NoYWluIiwiQmFzZUxhbmd1YWdlTW9kZWwiLCJfdHlwZSIsIl9tb2RlbCIsIkNscyIsIm9wZW5haSIsIkJhc2VMTE0iLCJjb25jdXJyZW5jeSIsInByb21wdFZhbHVlIiwiX2lucHV0IiwiX29wdGlvbnMiLCJfcnVuTWFuYWdlciIsInByb21wdFZhbHVlcyIsImxsbVJlc3VsdCIsImxsbVJlc3VsdHMiLCJnZW5MaXN0IiwibGxtT3V0cHV0IiwicGFyc2VkT3B0aW9ucyIsImhhbmRsZWRPcHRpb25zIiwiZmxhdHRlbmVkT3V0cHV0cyIsImxsbVN0cmluZ0tleSIsIm1pc3NpbmdQcm9tcHRJbmRpY2VzIiwicHJvbXB0SW5kZXgiLCJwcmVkaWN0aW9uIiwib3BlbmFpJDEiLCJMTE0iLCJ3cmFwT3BlbkFJQ2xpZW50RXJyb3IiLCJPcGVuQUlDaGF0IiwiY29uZmlndXJhdGlvbiIsIl9oIiwiX2ciLCJjaG9pY2UiLCJkZWx0YSIsImdlbmVyYXRpb25DaHVuayIsIm5ld1Rva2VuSW5kaWNlcyIsInJlcXVlc3RPcHRpb25zIiwib3BlbkFJRW5kcG9pbnRDb25maWciLCJPcGVuQUlDbGllbnQiLCJfaSIsIl9qIiwic3ViUHJvbXB0cyIsImNob2ljZXMiLCJ0b2tlblVzYWdlIiwiY29tcGxldGlvblRva2VucyIsInByb21wdFRva2VucyIsInRvdGFsVG9rZW5zIiwicHJvbXB0Q2hvaWNlcyIsIkRvY3VtZW50IiwiZXhhbXBsZVN0cmluZ3MiLCJleGFtcGxlIiwiZXhhbXBsZV9wcm9tcHQiLCJleGFtcGxlUHJvbXB0IiwiU1RFTU1FUlMiLCJTUExJVFRFUlMiLCJTVVBQT1JURURfTEFOR1VBR0VTIiwiYmFzZUlkIiwibGFzdElkIiwibmFubyIsIm1pbGxpIiwic2Vjb25kIiwiTUFYX0FSR1VNRU5UX0ZPUl9TVEFDSyIsInNhZmVBcnJheVB1c2giLCJuZXdBcnIiLCJzcHJpbnRmIiwicmVwbGFjZUFyZ3MiLCJncm91cHMiLCJyYXdXaWR0aCIsInBvc2l0aW9uIiwicmVwbGFjZW1lbnQiLCJ3aWR0aCIsInBhZGRpbmciLCJwcmVjaXNpb24iLCJmb3JtYXROYW5vc2Vjb25kcyIsImdldE5hbm9zZWNvbmRzVGltZSIsInVuaXF1ZUlkIiwiZ2V0T3duUHJvcGVydHkiLCJvYmplY3QiLCJwcm9wZXJ0eSIsImludGVyc2VjdCIsImFycmF5cyIsImZvdW5kIiwiZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzIiwiZG9jIiwicGF0aHMiLCJwcm9wZXJ0aWVzIiwicGF0aHNMZW5ndGgiLCJwYXRoVG9rZW5zIiwicGF0aFRva2Vuc0xlbmd0aCIsIm1hcERpc3RhbmNlVG9NZXRlcnMiLCJjb252ZXJ0RGlzdGFuY2VUb01ldGVycyIsImRpc3RhbmNlIiwidW5pdCIsInJhdGlvIiwiY3JlYXRlRXJyb3IiLCJhbGxMYW5ndWFnZXMiLCJlcnJvcnMiLCJmb3JtYXRFbGFwc2VkVGltZSIsImdldERvY3VtZW50SW5kZXhJZCIsInZhbGlkYXRlU2NoZW1hIiwic2NoZW1hIiwidmFsdWVMZW5ndGgiLCJpc1ZlY3RvclR5cGUiLCJ2ZWN0b3JTaXplIiwiZ2V0VmVjdG9yU2l6ZSIsImlzQXJyYXlUeXBlIiwiZXhwZWN0ZWRUeXBlIiwiZ2V0SW5uZXJUeXBlIiwic3ViUHJvcCIsIklTX0FSUkFZX1RZUEUiLCJJTk5FUl9UWVBFIiwiaXNHZW9Qb2ludFR5cGUiLCJzaXplIiwiY3JlYXRlSW50ZXJuYWxEb2N1bWVudElEU3RvcmUiLCJzYXZlIiwibG9hZCIsIm9yYW1hIiwicmF3IiwiaW50ZXJuYWxJZFRvSWQiLCJnZXRJbnRlcm5hbERvY3VtZW50SWQiLCJpbnRlcm5hbElkIiwiY3VycmVudElkIiwiY3JlYXRlIiwic2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlIiwiZ2V0IiwiZ2V0TXVsdGlwbGUiLCJpZHMiLCJnZXRBbGwiLCJyZW1vdmUiLCJyYXdEb2N1bWVudCIsImNyZWF0ZURvY3VtZW50c1N0b3JlIiwiQVZBSUxBQkxFX1BMVUdJTl9IT09LUyIsImdldEFsbFBsdWdpbnNCeUhvb2siLCJob29rIiwiX29yYW1hX3BsdWdpbnMiLCJwbHVnaW5zVG9SdW4iLCJwbHVnaW5zTGVuZ3RoIiwicGx1Z2luIiwiT0JKRUNUX0NPTVBPTkVOVFMiLCJGVU5DVElPTl9DT01QT05FTlRTIiwicnVuU2luZ2xlSG9vayIsImhvb2tzIiwiaG9va3NMZW5ndGgiLCJydW5NdWx0aXBsZUhvb2siLCJkb2NzT3JJZHMiLCJCQUxBTkNFX1NUQVRFIiwiZ2V0SGVpZ2h0Iiwicm90YXRlTGVmdCIsInJvdGF0ZVJpZ2h0IiwicmFuZ2VTZWFyY2giLCJtaW4iLCJtYXgiLCJ0cmF2ZXJzZSIsImdyZWF0ZXJUaGFuIiwiaW5jbHVzaXZlIiwibGVzc1RoYW4iLCJnZXROb2RlQnlLZXkiLCJuZXdOb2RlIiwiYmFsYW5jZUZhY3RvciIsImdldE5vZGVQYXJlbnQiLCJmaW5kIiwicGFyZW50Tm9kZSIsIm1pblZhbHVlTm9kZSIsIm1pblZhbHVlUGFyZW50IiwiY2hpbGROb2RlIiwicmVtb3ZlRG9jdW1lbnQiLCJfcm9vdF9udW1iZXJUb0RvY3VtZW50SWRfZ2V0IiwiX3Jvb3RfbnVtYmVyVG9Eb2N1bWVudElkX2dldDEiLCJvcGVyYXRpb25LZXlzIiwib3BlcmF0aW9uVHlwZSIsImZpbHRlckFyciIsIl9ib3VuZGVkTGV2ZW5zaHRlaW4iLCJ0b2xlcmFuY2UiLCJzd2FwIiwibGVuQSIsImxlbkIiLCJzdGFydElkeCIsInJvdyIsImNoYXJhY3RlckNvZGVDYWNoZSIsImhhdmVNYXgiLCJqU3RhcnQiLCJqRW5kIiwiYWJvdmUiLCJjaGFyQSIsInN5bmNCb3VuZGVkTGV2ZW5zaHRlaW4iLCJOb2RlIiwic3ViV29yZCIsInVwZGF0ZVBhcmVudCIsImFkZERvY3VtZW50IiwiZG9jSUQiLCJmaW5kQWxsV29yZHMiLCJ0ZXJtIiwiZXhhY3QiLCJkb2NJRHMiLCJkb2NzIiwiZG9jSURzTGVuZ3RoIiwiZ2V0Q29tbW9uUHJlZml4IiwiY29tbW9uUHJlZml4Iiwid29yZCIsImRvY0lkIiwiY3VycmVudENoYXJhY3RlciIsIndvcmRBdEluZGV4Iiwicm9vdENoaWxkQ3VycmVudENoYXIiLCJlZGdlTGFiZWwiLCJlZGdlTGFiZWxMZW5ndGgiLCJjb21tb25QcmVmaXhMZW5ndGgiLCJlZGdlTGFiZWxBdENvbW1vblByZWZpeCIsIm5ld05vZGVDaGlsZCIsImluYmV0d2Vlbk5vZGUiLCJpbmJldHdlZW5Ob2RlQ2hpbGQiLCJ3b3JkQXRDb21tb25QcmVmaXgiLCJfZmluZExldmVuc2h0ZWluIiwib3JpZ2luYWxUb2xlcmFuY2UiLCJ0ZXJtU3Vic3RyaW5nIiwicmVtb3ZlRG9jdW1lbnRCeVdvcmQiLCJLIiwiRUFSVEhfUkFESVVTIiwicG9pbnQiLCJkZXB0aCIsIm5ld0RvY0lEcyIsInJlbW92ZURvY0J5SUQiLCJkaXJlY3Rpb24iLCJfbm9kZV9kb2NJRHMiLCJfbm9kZV9kb2NJRHMxIiwiYXhpcyIsInNlYXJjaEJ5UmFkaXVzIiwiY2VudGVyIiwicmFkaXVzIiwic29ydCIsImhpZ2hQcmVjaXNpb24iLCJkaXN0YW5jZUZuIiwidmluY2VudHlEaXN0YW5jZSIsImhhdmVyc2luZURpc3RhbmNlIiwic3RhY2siLCJkaXN0QSIsImRpc3RCIiwic2VhcmNoQnlQb2x5Z29uIiwicG9seWdvbiIsInRhc2siLCJuZXh0RGVwdGgiLCJpc0luc2lkZVBvbHlnb24iLCJpc1BvaW50SW5Qb2x5Z29uIiwiY2VudHJvaWQiLCJjYWxjdWxhdGVQb2x5Z29uQ2VudHJvaWQiLCJzb3J0Rm4iLCJ0b3RhbEFyZWEiLCJjZW50cm9pZFgiLCJjZW50cm9pZFkiLCJ4aSIsInlpIiwieGoiLCJ5aiIsImFyZWFTZWdtZW50IiwiaXNJbnNpZGUiLCJjb29yZDEiLCJjb29yZDIiLCJQIiwibGF0MSIsImxhdDIiLCJkZWx0YUxhdCIsImRlbHRhTG9uIiwiVTEiLCJVMiIsInNpblUxIiwiY29zVTEiLCJzaW5VMiIsImNvc1UyIiwibGFtYmRhIiwicHJldkxhbWJkYSIsIml0ZXJhdGlvbkxpbWl0Iiwic2luQWxwaGEiLCJjb3MyQWxwaGEiLCJzaW5TaWdtYSIsImNvc1NpZ21hIiwic2lnbWEiLCJzaW5MYW1iZGEiLCJjb3NMYW1iZGEiLCJjb3MyU2lnbWFNIiwidTIiLCJkZWx0YVNpZ21hIiwiQk0yNSIsInRmIiwibWF0Y2hpbmdDb3VudCIsImRvY3NDb3VudCIsImZpZWxkTGVuZ3RoIiwiYXZlcmFnZUZpZWxkTGVuZ3RoIiwiQk0yNVBhcmFtcyIsImdldE1hZ25pdHVkZSIsInZlY3RvciIsInZlY3Rvckxlbmd0aCIsIm1hZ25pdHVkZSIsImZpbmRTaW1pbGFyVmVjdG9ycyIsInRhcmdldFZlY3RvciIsInZlY3RvcnMiLCJ0aHJlc2hvbGQiLCJ0YXJnZXRNYWduaXR1ZGUiLCJzaW1pbGFyVmVjdG9ycyIsInZlY3RvcklkIiwiZG90UHJvZHVjdCIsInNpbWlsYXJpdHkiLCJpbnNlcnREb2N1bWVudFNjb3JlUGFyYW1ldGVycyIsImluc2VydFRva2VuU2NvcmVQYXJhbWV0ZXJzIiwidG9rZW5GcmVxdWVuY3kiLCJyZW1vdmVEb2N1bWVudFNjb3JlUGFyYW1ldGVycyIsInJlbW92ZVRva2VuU2NvcmVQYXJhbWV0ZXJzIiwiY2FsY3VsYXRlUmVzdWx0U2NvcmVzIiwiZG9jdW1lbnRJRHMiLCJhdmdGaWVsZExlbmd0aCIsImZpZWxkTGVuZ3RocyIsIm9yYW1hT2NjdXJyZW5jZXMiLCJvcmFtYUZyZXF1ZW5jaWVzIiwidGVybU9jY3VycmVuY2VzIiwic2NvcmVMaXN0IiwiZG9jdW1lbnRJRHNMZW5ndGgiLCJfb3JhbWFGcmVxdWVuY2llc19pbnRlcm5hbElkIiwiYm0yNSIsImlzQXJyYXkiLCJhdmxDcmVhdGUiLCJyYWRpeENyZWF0ZSIsImZsYXRDcmVhdGUiLCJia2RDcmVhdGUiLCJpbnNlcnRTY2FsYXIiLCJpbXBsZW1lbnRhdGlvbiIsInNjaGVtYVR5cGUiLCJsYW5ndWFnZSIsInRva2VuaXplciIsImF2bEluc2VydCIsInJhZGl4SW5zZXJ0IiwiZmxhdEluc2VydCIsImJrZEluc2VydCIsImluc2VydFZlY3RvciIsImlubmVyU2NoZW1hVHlwZSIsImVsZW1lbnRzIiwiZWxlbWVudHNMZW5ndGgiLCJyZW1vdmVTY2FsYXIiLCJhdmxSZW1vdmVEb2N1bWVudCIsInJhZGl4UmVtb3ZlRG9jdW1lbnQiLCJmbGF0UmVtb3ZlRG9jdW1lbnQiLCJia2RSZW1vdmVEb2NCeUlEIiwic2VhcmNoIiwic2VhcmNoUmVzdWx0IiwicmFkaXhGaW5kIiwic2VhcmNoQnlXaGVyZUNsYXVzZSIsImZpbHRlcnMiLCJmaWx0ZXJLZXlzIiwiZmlsdGVyc01hcCIsInBhcmFtIiwiZmlsdGVyZWRJRHMiLCJyZXFPcGVyYXRpb24iLCJjb29yZGluYXRlcyIsImluc2lkZSIsImRpc3RhbmNlSW5NZXRlcnMiLCJmaWx0ZXJlZElEc1Jlc3VsdHMiLCJmbGF0RmlsdGVyQXJyIiwiZmxhdEZpbHRlciIsIm9wZXJhdGlvbk9wdCIsIm9wZXJhdGlvblZhbHVlIiwiYXZsR3JlYXRlclRoYW4iLCJhdmxMZXNzVGhhbiIsImF2bEZpbmQiLCJhdmxSYW5nZVNlYXJjaCIsImdldFNlYXJjaGFibGVQcm9wZXJ0aWVzIiwiZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMiLCJsb2FkUmFkaXhOb2RlIiwiY29udmVydGVkTm9kZSIsImNoaWxkcmVuS2V5IiwibG9hZEZsYXROb2RlIiwic2F2ZUZsYXROb2RlIiwicmF3SW5kZXhlcyIsInJhd1ZlY3RvckluZGV4ZXMiLCJzZWFyY2hhYmxlUHJvcGVydGllcyIsInNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzIiwiZnJlcXVlbmNpZXMiLCJ0b2tlbk9jY3VycmVuY2VzIiwiaW5kZXhlcyIsInZlY3RvckluZGV4ZXMiLCJ2ZWMiLCJ2ZWN0b3JJbmRleGVzQXNBcnJheXMiLCJzYXZlZEluZGV4ZXMiLCJjcmVhdGVJbmRleCIsImlubmVyQ3JlYXRlIiwic29ydGFibGVEZW5pZWRQcm9wZXJ0aWVzIiwic29ydGVyIiwiZW5zdXJlSXNTb3J0ZWQiLCJlbnN1cmVQcm9wZXJ0eUlzU29ydGVkIiwic3RyaW5nU29ydCIsIm51bWJlclNvcnQiLCJib29sZWFuU29ydCIsInByZWRpY2F0ZSIsIm9yZGVyZWREb2NzTGVuZ3RoIiwiZW5zdXJlT3JkZXJlZERvY3NBcmVEZWxldGVkIiwiZW5zdXJlT3JkZXJlZERvY3NBcmVEZWxldGVkQnlQcm9wZXJ0eSIsInNvcnRCeSIsImRvY0lkcyIsImJ5IiwiaXNEZXNjIiwiaW5kZXhPZkEiLCJpbmRleE9mQiIsImlzQUluZGV4ZWQiLCJpc0JJbmRleGVkIiwiZ2V0U29ydGFibGVQcm9wZXJ0aWVzIiwiZ2V0U29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzIiwic29ydHMiLCJvcmRlcmVkRG9jcyIsImNyZWF0ZVNvcnRlciIsIkRJQUNSSVRJQ1NfQ0hBUkNPREVfU1RBUlQiLCJESUFDUklUSUNTX0NIQVJDT0RFX0VORCIsIkNIQVJDT0RFX1JFUExBQ0VfTUFQUElORyIsInJlcGxhY2VDaGFyIiwicmVwbGFjZURpYWNyaXRpY3MiLCJzdHJpbmdDaGFyQ29kZSIsInN0ZXAyTGlzdCIsInN0ZXAzTGlzdCIsIlYiLCJtZ3IwIiwibWVxMSIsIm1ncjEiLCJzX3YiLCJzdGVtbWVyIiwic3RlbSIsInJlIiwicmUyIiwicmUzIiwicmU0IiwiZmlyc3RjaCIsImZwIiwibm9ybWFsaXplVG9rZW4iLCJfdGhpc19zdG9wV29yZHMiLCJ0cmltIiwidG9rZW5pemUiLCJzcGxpdFJ1bGUiLCJ0cmltVG9rZW5zIiwiY3JlYXRlVG9rZW5pemVyIiwiZW5nbGlzaCIsInN0b3BXb3JkcyIsInZhbGlkYXRlQ29tcG9uZW50cyIsImNvbXBvbmVudHMiLCJkZWZhdWx0Q29tcG9uZW50cyIsInJhd0tleSIsInBsdWdpbnMiLCJkb2N1bWVudHNTdG9yZSIsImludGVybmFsRG9jdW1lbnRTdG9yZSIsImtJbnNlcnRpb25zIiwiX2dsb2JhbFRoaXNfcHJvY2VzcyIsIndhcm4iLCJ0cmFja0luc2VydGlvbiIsInNraXBIb29rcyIsImVycm9yUHJvcGVydHkiLCJpbm5lckluc2VydCIsImluZGV4YWJsZVByb3BlcnRpZXMiLCJpbmRleGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzIiwiaW5kZXhhYmxlVmFsdWVzIiwiYWN0dWFsVHlwZSIsIl9vcmFtYV9pbmRleCIsIl9vcmFtYV9pbmRleF9iZWZvcmVJbnNlcnQiLCJfb3JhbWFfaW5kZXgxIiwiX29yYW1hX2luZGV4X2FmdGVySW5zZXJ0Iiwic29ydGFibGVQcm9wZXJ0aWVzIiwic29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzIiwic29ydGFibGVWYWx1ZXMiLCJpbnNlcnRNdWx0aXBsZSIsImJhdGNoU2l6ZSIsImRvY3NMZW5ndGgiLCJpbm5lckluc2VydE11bHRpcGxlIiwiX2luc2VydE11bHRpcGxlIiwiYmF0Y2giLCJzZWFyY2hWZWN0b3IiLCJ0aW1lU3RhcnQiLCJpbmNsdWRlVmVjdG9ycyIsInZlY3RvckluZGV4Iiwib3JpZ2luYWxJRCIsIm5ld0RvYyIsImVsYXBzZWRUaW1lIiwiVUlOVDMyX01BWCIsInNldFVpbnQ2NCIsInZpZXciLCJoaWdoIiwibG93Iiwic2V0SW50NjQiLCJnZXRJbnQ2NCIsImdldFVpbnQ2NCIsIlRFWFRfRU5DT0RJTkdfQVZBSUxBQkxFIiwidXRmOENvdW50Iiwic3RyTGVuZ3RoIiwicG9zIiwidXRmOEVuY29kZUpzIiwib3V0cHV0T2Zmc2V0Iiwic2hhcmVkVGV4dEVuY29kZXIiLCJURVhUX0VOQ09ERVJfVEhSRVNIT0xEIiwidXRmOEVuY29kZVRFZW5jb2RlIiwidXRmOEVuY29kZVRFZW5jb2RlSW50byIsInV0ZjhFbmNvZGVURSIsIkNIVU5LX1NJWkUiLCJ1dGY4RGVjb2RlSnMiLCJpbnB1dE9mZnNldCIsInVuaXRzIiwiYnl0ZTEiLCJieXRlMiIsImJ5dGUzIiwiYnl0ZTQiLCJzaGFyZWRUZXh0RGVjb2RlciIsIlRFWFRfREVDT0RFUl9USFJFU0hPTEQiLCJ1dGY4RGVjb2RlVEQiLCJzdHJpbmdCeXRlcyIsIkV4dERhdGEiLCJfX2V4dGVuZHMiLCJleHRlbmRTdGF0aWNzIiwiX18iLCJEZWNvZGVFcnJvciIsIl9zdXBlciIsIl90aGlzIiwicHJvdG8iLCJFWFRfVElNRVNUQU1QIiwiVElNRVNUQU1QMzJfTUFYX1NFQyIsIlRJTUVTVEFNUDY0X01BWF9TRUMiLCJlbmNvZGVUaW1lU3BlY1RvVGltZXN0YW1wIiwic2VjIiwibnNlYyIsInJ2Iiwic2VjSGlnaCIsInNlY0xvdyIsImVuY29kZURhdGVUb1RpbWVTcGVjIiwiZGF0ZSIsIm1zZWMiLCJuc2VjSW5TZWMiLCJlbmNvZGVUaW1lc3RhbXBFeHRlbnNpb24iLCJ0aW1lU3BlYyIsImRlY29kZVRpbWVzdGFtcFRvVGltZVNwZWMiLCJuc2VjMzBBbmRTZWNIaWdoMiIsInNlY0xvdzMyIiwiZGVjb2RlVGltZXN0YW1wRXh0ZW5zaW9uIiwidGltZXN0YW1wRXh0ZW5zaW9uIiwiRXh0ZW5zaW9uQ29kZWMiLCJlbmNvZGUiLCJkZWNvZGUiLCJlbmNvZGVFeHQiLCJkZWNvZGVFeHQiLCJlbnN1cmVVaW50OEFycmF5IiwiYnVmZmVyIiwiY3JlYXRlRGF0YVZpZXciLCJidWZmZXJWaWV3IiwiREVGQVVMVF9NQVhfREVQVEgiLCJERUZBVUxUX0lOSVRJQUxfQlVGRkVSX1NJWkUiLCJFbmNvZGVyIiwiZXh0ZW5zaW9uQ29kZWMiLCJtYXhEZXB0aCIsImluaXRpYWxCdWZmZXJTaXplIiwic29ydEtleXMiLCJmb3JjZUZsb2F0MzIiLCJpZ25vcmVVbmRlZmluZWQiLCJmb3JjZUludGVnZXJUb0Zsb2F0Iiwic2l6ZVRvV3JpdGUiLCJyZXF1aXJlZFNpemUiLCJuZXdTaXplIiwibmV3QnVmZmVyIiwibmV3Qnl0ZXMiLCJuZXdWaWV3IiwibWF4SGVhZGVyU2l6ZSIsImV4dCIsIm9iamVjdF8xIiwia2V5c18xIiwia2V5c18yIiwiZGVmYXVsdEVuY29kZU9wdGlvbnMiLCJlbmNvZGVyIiwicHJldHR5Qnl0ZSIsImJ5dGUiLCJERUZBVUxUX01BWF9LRVlfTEVOR1RIIiwiREVGQVVMVF9NQVhfTEVOR1RIX1BFUl9LRVkiLCJDYWNoZWRLZXlEZWNvZGVyIiwibWF4S2V5TGVuZ3RoIiwibWF4TGVuZ3RoUGVyS2V5IiwicmVjb3JkcyIsIkZJTkRfQ0hVTksiLCJyZWNvcmRzXzEiLCJyZWNvcmQiLCJyZWNvcmRCeXRlcyIsImNhY2hlZFZhbHVlIiwic2xpY2VkQ29weU9mQnl0ZXMiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsImFkb3B0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJfX2dlbmVyYXRvciIsInZlcmIiLCJfX2FzeW5jVmFsdWVzIiwic2V0dGxlIiwiX19hd2FpdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJxIiwicmVzdW1lIiwiZnVsZmlsbCIsImlzVmFsaWRNYXBLZXlUeXBlIiwia2V5VHlwZSIsIkhFQURfQllURV9SRVFVSVJFRCIsIkVNUFRZX1ZJRVciLCJFTVBUWV9CWVRFUyIsIkRhdGFWaWV3SW5kZXhPdXRPZkJvdW5kc0Vycm9yIiwiTU9SRV9EQVRBIiwic2hhcmVkQ2FjaGVkS2V5RGVjb2RlciIsIkRlY29kZXIiLCJtYXhTdHJMZW5ndGgiLCJtYXhCaW5MZW5ndGgiLCJtYXhBcnJheUxlbmd0aCIsIm1heE1hcExlbmd0aCIsIm1heEV4dExlbmd0aCIsImtleURlY29kZXIiLCJyZW1haW5pbmdEYXRhIiwibmV3RGF0YSIsInBvc1RvU2hvdyIsInN0cmVhbV8xIiwic3RyZWFtXzFfMSIsImVfMSIsImRlY29kZWQiLCJlXzFfMSIsImhlYWRCeXRlIiwidG90YWxQb3MiLCJpc0FycmF5SGVhZGVyUmVxdWlyZWQiLCJhcnJheUl0ZW1zTGVmdCIsInN0cmVhbV8yIiwic3RyZWFtXzJfMSIsImVfMiIsImVfM18xIiwiZV8zIiwiREVDT0RFIiwiaGVhZGVyT2Zmc2V0IiwiaGVhZE9mZnNldCIsImV4dFR5cGUiLCJkZWZhdWx0RGVjb2RlT3B0aW9ucyIsImRlY29kZXIiLCJQUk9QRVJUWV9DT0RFIiwiVFlQRV9DT0RFIiwiU1RSSU5HX0NPREUiLCJOVU1CRVJfQ09ERSIsIlNFUVVFTkNFX0NPREUiLCJOVUxMIiwiRkFMU0UiLCJUUlVFIiwiVU5ERUZJTkVEIiwiREVGQVVMVF9UWVBFIiwiQVJSQVlfVFlQRSIsIlJFRkVSRU5DSU5HX1RZUEUiLCJOVU1CRVJfVFlQRSIsIk1FVEFEQVRBX1RZUEUiLCJSRUZFUkVOQ0lOR19QT1NJVElPTiIsIkVSUk9SX01FVEFEQVRBIiwiT1BFTl9TRVFVRU5DRSIsIkVORF9TRVFVRU5DRSIsIkRFRkVSUkVEX1JFRkVSRU5DRSIsIm5leHRJZCIsIml0ZXJhdG9yU3ltYm9sIiwiY3JlYXRlU2VyaWFsaXplciIsImV4dGVuZGVkVHlwZXMiLCJ3cml0ZU1hcCIsIndyaXRlU2V0Iiwid3JpdGVEYXRlIiwiY2hhckVuY29kZXIiLCJnbG9iYWwiLCJicm93c2VyQ2hhckVuY29kZXIiLCJ3cml0ZVN0cmluZyIsIndyaXRlVG9rZW4iLCJzdGFydFNlcXVlbmNlIiwiZW5kU2VxdWVuY2UiLCJ3cml0ZUJ1ZmZlciIsInByb3BlcnR5VXNlZCIsInBlbmRpbmdFbmNvZGluZ3MiLCJidWZmZXJTeW1ib2wiLCJ0YXJnZXRTeW1ib2wiLCJzZXJpYWxpemVySWQiLCJ3cml0ZXJzIiwid3JpdGVBc0RlZmF1bHQiLCJ3cml0ZUFzQXJyYXkiLCJ3cml0ZUFzUmVmZXJlbmNpbmciLCJ3cml0ZUFzTnVtYmVyIiwid3JpdGVPbmx5TnVsbCIsIndyaXRlTnVtYmVyIiwibnVtYmVyIiwid3JpdGVJbmxpbmVTdHJpbmciLCJyZWZlcmVuY2UiLCJhc1N0cmluZyIsIndyaXRlVHlwZWRWYWx1ZSIsIndyaXRlVHlwZWROb25Db25zdGFudCIsImV4dGVuZGVkVHlwZSIsImNvbnN0cnVjdG9yIiwid3JpdGVQcm9wZXJ0eSIsImlzUm9vdCIsIm5vdFBsYWluT2JqZWN0Iiwid3JpdGVCbG9ja1JlZmVyZW5jZSIsIndyaXRlQXNJdGVyYWJsZSIsInRoaXNQcm9wZXJ0eSIsInJlc3VtZUluZGV4IiwicHJvcGVydHlJbmRleCIsImxhc3RQcm9wZXJ0eUluZGV4IiwiaXRlcmF0b3IiLCJhcnJheVByb3BlcnR5IiwibmVlZHNDbG9zaW5nIiwid3JpdGVyIiwiYmxvY2tQcm9wZXJ0eSIsImxhenlQcm9taXNlIiwidGhlbiIsImxhc3RQZW5kaW5nRW5jb2RpbmdzIiwic2VyaWFsaXplciIsInNoYXJlZFByb3BlcnR5IiwicHJvbWlzZXMiLCJmaW5pc2hlZCIsInNlcmlhbGl6ZSIsInNpemVUYWJsZSIsInNlcmlhbGl6ZWRUb2tlbiIsImdldFNlcmlhbGl6ZWQiLCJBcnJheUZyb20iLCJrZXlWYWx1ZSIsImtleVZhbHVlcyIsIlRZUEVfREVGSU5JVElPTiIsImNyZWF0ZVBhcnNlciIsInNvdXJjZSIsImlzUGFydGlhbCIsImNsYXNzQnlOYW1lIiwicmVhZE1hcCIsInJlYWRTZXQiLCJyZWFkRGF0ZSIsInBhdXNlZFN0YXRlIiwiZGVmZXJyZWRSZWFkcyIsInBhdXNlIiwibGFzdFJlYWQiLCJwYXJzZXIiLCJuZXh0U3RyaW5nIiwiaXNQYXJ0aWFsU3RyaW5nIiwicmVidWlsZFN0cmluZyIsInJlc3VtZVN0YXRlIiwiZGlzcG9zZWRDaGFycyIsInJlYWRTZXF1ZW5jZSIsInByb3BlcnR5U3RhdGUiLCJvbkVycm9yIiwibm9uUGFyc2luZ0Vycm9yIiwicHJldmlvdXMiLCJkZWZlcnJlZFJlYWQiLCJwYXJlbnREZWZlcnJlZFJlYWRzIiwidGFyZ2V0UHJvcGVydHkiLCJzdGFydE9mZnNldCIsInBhcnNlIiwic3RyaW5nT3JCdWZmZXIiLCJlbnRyaWVzIiwidGltZSIsIlBSRUZFUlJFRF9NQVhfQlVGRkVSX1NJWkUiLCJhdmFpbGFibGVCdWZmZXJzIiwibm9kZUNoYXJFbmNvZGVyIiwiYnVmZmVyU2l6ZSIsIm91dGxldCIsInNlcXVlbmNlcyIsIm1ha2VSb29tIiwiYnl0ZXNOZWVkZWQiLCJvbGRCdWZmZXIiLCJzcGVjaWZpZWRPdXRsZXQiLCJzb3VyY2VMZW5ndGgiLCJtYXhTdHJpbmdMZW5ndGgiLCJieXRlc1dyaXR0ZW4iLCJpbnNlcnRCdWZmZXIiLCJoZWFkZXJCdWZmZXIiLCJoZWFkZXJMZW5ndGgiLCJjdXJyZW50T2Zmc2V0IiwibmV3T2Zmc2V0Iiwibm9kZUVuY29kZXIiLCJPcHRpb25zIiwiQ2xhc3MiLCJtYWtlU3ltYm9sIiwic2l6ZVRhYmxlU3ltYm9sIiwic2VyaWFsaXplTW9kdWxlIiwicmVxdWlyZSQkMyIsInJlcXVpcmUkJDQiLCJzZXJpYWxpemVfMSIsInBhcnNlXzEiLCJVTlNVUFBPUlRFRF9GT1JNQVQiLCJmb3JtYXQiLCJkZXRlY3RSdW50aW1lIiwiaGV4RnJvbU1hcCIsImhleFRvTWFwIiwic2xvd0hleFRvQnVmZmVyIiwic2xvd0hleFRvU3RyaW5nIiwicGVyc2lzdCIsImRiIiwicnVudGltZSIsImRiRXhwb3J0IiwiZHBhY2suc2VyaWFsaXplIiwibXNncGFjayIsInJlc3RvcmUiLCJkZXNlcmlhbGl6ZWQiLCJkcGFjay5wYXJzZSIsIkJhc2VSZXRyaWV2ZXIiLCJfcXVlcnkiLCJfY2FsbGJhY2tzIiwicGFyc2VkQ29uZmlnIiwiVmVjdG9yU3RvcmVSZXRyaWV2ZXIiLCJWZWN0b3JTdG9yZSIsImVtYmVkZGluZ3MiLCJkYkNvbmZpZyIsIl9wYXJhbXMiLCJfdGV4dHMiLCJfbWV0YWRhdGFzIiwiX2VtYmVkZGluZ3MiLCJfZGJDb25maWciLCJfZG9jcyIsImtPckZpZWxkcyIsInZlcmJvc2UiLCJPcGVuQUlFbWJlZGRpbmdzIiwiZmllbGRzV2l0aERlZmF1bHRzIiwiYXp1cmVBcGlLZXkiLCJhenVyZUFwaUluc3RhbmNlTmFtZSIsImF6dXJlQXBpRGVwbG95bWVudE5hbWUiLCJhenVyZUFwaVZlcnNpb24iLCJ0ZXh0cyIsImJhdGNoZXMiLCJiYXRjaFJlcXVlc3RzIiwiYmF0Y2hSZXNwb25zZXMiLCJiYXRjaFJlc3BvbnNlIiwiQmFzZUxMTU91dHB1dFBhcnNlciIsIl9wcm9tcHQiLCJCYXNlT3V0cHV0UGFyc2VyIiwiQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlciIsIlN0cmluZ091dHB1dFBhcnNlciIsInZlY3RvclN0b3JlU2NoZW1hIiwiT3JhbWFTdG9yZSIsInZlY3RvclN0b3JlSnNvbiIsIlNlY29uZEJyYWluIiwib2JzaWRpYW5Eb2N1bWVudExvYWRlciIsIm9ic2lkaWFuQXBwIiwiZmlsZU1ldGFkYXRhIiwicGFnZUNvbnRlbnQiLCJoZWFkZXJDb3VudCIsImhlYWRpbmdUcmVlIiwiY3VycmVudEhlYWRpbmdMZXZlbCIsInNlY3Rpb24iLCJjdXJyZW50SGVhZGluZyIsInNlY29uZEJyYWluIiwiaW5wdXRQbGFjZWhvbGRlciIsImJ1dHRvbiIsImFwcCIsIm1lc3NhZ2VUZXh0IiwiaXNQcm9jZXNjY2luZyIsInNlbmRNZXNzYWdlIiwiTm90aWNlIiwiJG1lc3NhZ2VzIiwiaW5qZWN0Q29udGV4dCIsIkZpbGVTZWxlY3RNb2RhbCIsIkNoYXRNb2RhbCIsIk1vZGFsIiwiSW5wdXRDb21wb25lbnQiLCJ0MF92YWx1ZSIsImRpdjEiLCJkaXYwIiwiYnV0dG9uMCIsImJ1dHRvbjEiLCJ0MCIsImRpdiIsIkFpQnViYmxlQ29sb3IiLCJVc2VyQnViYmxlQ29sb3IiLCJ0b0NsaXBib2FyZCIsIkVsZWN0cm9uIiwiaDEiLCJWSUVXX1RZUEVfQ0hBVCIsIkNoYXRWaWV3IiwiSXRlbVZpZXciLCJsZWFmIiwiQ2hhdFZpZXdDb21wb25lbnQiLCJTZXR0aW5nc1RhYiIsIlBsdWdpblNldHRpbmdUYWIiLCJjb250YWluZXJFbCIsIlNldHRpbmciLCJERUZBVUxUX1NFVFRJTkdTIiwiZ2V0VGhlbWVDb2xvciIsIkJyYWluUGx1Z2luIiwiUGx1Z2luIiwiRnV6enlTdWdnZXN0TW9kYWwiLCJ1dGlsIiwiYXNzZXJ0SXMiLCJfYXJnIiwiYXNzZXJ0TmV2ZXIiLCJfeCIsInZhbGlkS2V5cyIsImNoZWNrZXIiLCJqb2luVmFsdWVzIiwic2VwYXJhdG9yIiwib2JqZWN0VXRpbCIsImdldFBhcnNlZFR5cGUiLCJab2RFcnJvcl8xIiwidXRpbF8xIiwicXVvdGVsZXNzSnNvbiIsIlpvZEVycm9yIiwiaXNzdWVzIiwic3ViIiwic3VicyIsImFjdHVhbFByb3RvIiwiX21hcHBlciIsImlzc3VlIiwiZmllbGRFcnJvcnMiLCJwcm9jZXNzRXJyb3IiLCJjdXJyIiwiZWwiLCJmb3JtRXJyb3JzIiwiZW4iLCJlcnJvck1hcCIsIl9jdHgiLCJfX2ltcG9ydERlZmF1bHQiLCJtb2QiLCJlbl8xIiwib3ZlcnJpZGVFcnJvck1hcCIsInNldEVycm9yTWFwIiwiZ2V0RXJyb3JNYXAiLCJlcnJvcnNfMSIsIm1ha2VJc3N1ZSIsImVycm9yTWFwcyIsImlzc3VlRGF0YSIsImZ1bGxQYXRoIiwiZnVsbElzc3VlIiwibWFwcyIsImFkZElzc3VlVG9Db250ZXh0IiwiUGFyc2VTdGF0dXMiLCJhcnJheVZhbHVlIiwicGFpcnMiLCJzeW5jUGFpcnMiLCJwYWlyIiwiZmluYWxPYmplY3QiLCJESVJUWSIsIk9LIiwiaXNBYm9ydGVkIiwiaXNEaXJ0eSIsImlzVmFsaWQiLCJpc0FzeW5jIiwidHlwZUFsaWFzZXMiLCJlcnJvclV0aWwiLCJlcnJvclV0aWxfMSIsInBhcnNlVXRpbF8xIiwiUGFyc2VJbnB1dExhenlQYXRoIiwiaGFuZGxlUmVzdWx0IiwicHJvY2Vzc0NyZWF0ZVBhcmFtcyIsImludmFsaWRfdHlwZV9lcnJvciIsInJlcXVpcmVkX2Vycm9yIiwiaXNzIiwiWm9kVHlwZSIsImRlZiIsIm1heWJlQXN5bmNSZXN1bHQiLCJjaGVjayIsImdldElzc3VlUHJvcGVydGllcyIsInNldEVycm9yIiwicmVmaW5lbWVudERhdGEiLCJyZWZpbmVtZW50IiwiWm9kRWZmZWN0cyIsIlpvZEZpcnN0UGFydHlUeXBlS2luZCIsIlpvZE9wdGlvbmFsIiwiWm9kTnVsbGFibGUiLCJab2RBcnJheSIsIlpvZFByb21pc2UiLCJvcHRpb24iLCJab2RVbmlvbiIsImluY29taW5nIiwiWm9kSW50ZXJzZWN0aW9uIiwiZGVmYXVsdFZhbHVlRnVuYyIsIlpvZERlZmF1bHQiLCJab2RCcmFuZGVkIiwiY2F0Y2hWYWx1ZUZ1bmMiLCJab2RDYXRjaCIsIlRoaXMiLCJab2RQaXBlbGluZSIsIlpvZFJlYWRvbmx5IiwiY3VpZFJlZ2V4IiwiY3VpZDJSZWdleCIsInVsaWRSZWdleCIsInV1aWRSZWdleCIsImVtYWlsUmVnZXgiLCJfZW1vamlSZWdleCIsImVtb2ppUmVnZXgiLCJpcHY0UmVnZXgiLCJpcHY2UmVnZXgiLCJkYXRldGltZVJlZ2V4IiwiaXNWYWxpZElQIiwiaXAiLCJ2ZXJzaW9uIiwiWm9kU3RyaW5nIiwidG9vQmlnIiwidG9vU21hbGwiLCJyZWdleCIsInZhbGlkYXRpb24iLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJjaCIsImZsb2F0U2FmZVJlbWFpbmRlciIsInZhbERlY0NvdW50Iiwic3RlcERlY0NvdW50IiwiZGVjQ291bnQiLCJ2YWxJbnQiLCJzdGVwSW50IiwiWm9kTnVtYmVyIiwiWm9kQmlnSW50IiwiWm9kQm9vbGVhbiIsIlpvZERhdGUiLCJtaW5EYXRlIiwibWF4RGF0ZSIsIlpvZFN5bWJvbCIsIlpvZFVuZGVmaW5lZCIsIlpvZE51bGwiLCJab2RBbnkiLCJab2RVbmtub3duIiwiWm9kTmV2ZXIiLCJab2RWb2lkIiwiZGVlcFBhcnRpYWxpZnkiLCJab2RPYmplY3QiLCJuZXdTaGFwZSIsImZpZWxkU2NoZW1hIiwiWm9kVHVwbGUiLCJzaGFwZSIsInNoYXBlS2V5cyIsImV4dHJhS2V5cyIsImtleVZhbGlkYXRvciIsInVua25vd25LZXlzIiwiY2F0Y2hhbGwiLCJkZWZhdWx0RXJyb3IiLCJhdWdtZW50YXRpb24iLCJtZXJnaW5nIiwibWFzayIsIm5ld0ZpZWxkIiwiY3JlYXRlWm9kRW51bSIsImhhbmRsZVJlc3VsdHMiLCJ1bmlvbkVycm9ycyIsImNoaWxkQ3R4IiwidHlwZXMiLCJnZXREaXNjcmltaW5hdG9yIiwiWm9kTGF6eSIsIlpvZExpdGVyYWwiLCJab2RFbnVtIiwiWm9kTmF0aXZlRW51bSIsIlpvZERpc2NyaW1pbmF0ZWRVbmlvbiIsImRpc2NyaW1pbmF0b3IiLCJkaXNjcmltaW5hdG9yVmFsdWUiLCJvcHRpb25zTWFwIiwiZGlzY3JpbWluYXRvclZhbHVlcyIsIm1lcmdlVmFsdWVzIiwiYVR5cGUiLCJiVHlwZSIsImJLZXlzIiwic2hhcmVkS2V5cyIsIm5ld09iaiIsInNoYXJlZFZhbHVlIiwibmV3QXJyYXkiLCJpdGVtQSIsIml0ZW1CIiwiaGFuZGxlUGFyc2VkIiwicGFyc2VkTGVmdCIsInBhcnNlZFJpZ2h0IiwiaXRlbUluZGV4Iiwic2NoZW1hcyIsIlpvZFJlY29yZCIsInZhbHVlVHlwZSIsInRoaXJkIiwiWm9kTWFwIiwiZmluYWxNYXAiLCJab2RTZXQiLCJmaW5hbGl6ZVNldCIsInBhcnNlZFNldCIsIm1pblNpemUiLCJtYXhTaXplIiwiWm9kRnVuY3Rpb24iLCJtYWtlQXJnc0lzc3VlIiwibWFrZVJldHVybnNJc3N1ZSIsInJldHVybnMiLCJtZSIsInBhcnNlZEFyZ3MiLCJwYXJzZWRSZXR1cm5zIiwicmV0dXJuVHlwZSIsImdldHRlciIsImV4cGVjdGVkVmFsdWVzIiwiZW51bVZhbHVlcyIsIm9wdCIsIm5hdGl2ZUVudW1WYWx1ZXMiLCJwcm9taXNpZmllZCIsImVmZmVjdCIsImNoZWNrQ3R4IiwicHJvY2Vzc2VkIiwiZXhlY3V0ZVJlZmluZW1lbnQiLCJpbm5lciIsImJhc2UiLCJwcmVwcm9jZXNzIiwibmV3Q3R4IiwiWm9kTmFOIiwiaW5SZXN1bHQiLCJjdXN0b20iLCJmYXRhbCIsIl9mYXRhbCIsInAyIiwiaW5zdGFuY2VPZlR5cGUiLCJjbHMiLCJzdHJpbmdUeXBlIiwibnVtYmVyVHlwZSIsIm5hblR5cGUiLCJiaWdJbnRUeXBlIiwiYm9vbGVhblR5cGUiLCJkYXRlVHlwZSIsInN5bWJvbFR5cGUiLCJ1bmRlZmluZWRUeXBlIiwibnVsbFR5cGUiLCJhbnlUeXBlIiwidW5rbm93blR5cGUiLCJuZXZlclR5cGUiLCJ2b2lkVHlwZSIsImFycmF5VHlwZSIsIm9iamVjdFR5cGUiLCJzdHJpY3RPYmplY3RUeXBlIiwidW5pb25UeXBlIiwiZGlzY3JpbWluYXRlZFVuaW9uVHlwZSIsImludGVyc2VjdGlvblR5cGUiLCJ0dXBsZVR5cGUiLCJyZWNvcmRUeXBlIiwibWFwVHlwZSIsInNldFR5cGUiLCJmdW5jdGlvblR5cGUiLCJsYXp5VHlwZSIsImxpdGVyYWxUeXBlIiwiZW51bVR5cGUiLCJuYXRpdmVFbnVtVHlwZSIsInByb21pc2VUeXBlIiwiZWZmZWN0c1R5cGUiLCJvcHRpb25hbFR5cGUiLCJudWxsYWJsZVR5cGUiLCJwcmVwcm9jZXNzVHlwZSIsInBpcGVsaW5lVHlwZSIsIm9zdHJpbmciLCJvbnVtYmVyIiwib2Jvb2xlYW4iLCJfX2NyZWF0ZUJpbmRpbmciLCJrMiIsIl9fZXhwb3J0U3RhciIsInJlcXVpcmUkJDUiLCJfX3NldE1vZHVsZURlZmF1bHQiLCJfX2ltcG9ydFN0YXIiLCJ6IiwiYW55IiwicGFyc2VBbnlEZWYiLCJlcnJvck1lc3NhZ2VzIiwiYWRkRXJyb3JNZXNzYWdlIiwicmVmcyIsInNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMiLCJ6b2RfMSIsImVycm9yTWVzc2FnZXNfMSIsInBhcnNlRGVmXzEiLCJwYXJzZUFycmF5RGVmIiwiYmlnaW50IiwicGFyc2VCaWdpbnREZWYiLCJib29sZWFuIiwicGFyc2VCb29sZWFuRGVmIiwiYnJhbmRlZCIsInBhcnNlQnJhbmRlZERlZiIsIl9kZWYiLCJfY2F0Y2giLCJwYXJzZUNhdGNoRGVmIiwicGFyc2VEYXRlRGVmIiwiaW50ZWdlckRhdGVQYXJzZXIiLCJwYXJzZURlZmF1bHREZWYiLCJlZmZlY3RzIiwicGFyc2VFZmZlY3RzRGVmIiwiX2VudW0iLCJwYXJzZUVudW1EZWYiLCJfX3Jlc3QiLCJpbnRlcnNlY3Rpb24iLCJpc0pzb25TY2hlbWE3QWxsT2ZUeXBlIiwicGFyc2VJbnRlcnNlY3Rpb25EZWYiLCJhbGxPZiIsInVuZXZhbHVhdGVkUHJvcGVydGllcyIsIm1lcmdlZEFsbE9mIiwibmVzdGVkU2NoZW1hIiwibGl0ZXJhbCIsInBhcnNlTGl0ZXJhbERlZiIsInBhcnNlZFR5cGUiLCJwYXJzZU1hcERlZiIsIm5hdGl2ZUVudW0iLCJwYXJzZU5hdGl2ZUVudW1EZWYiLCJhY3R1YWxWYWx1ZXMiLCJwYXJzZWRUeXBlcyIsIm5ldmVyIiwicGFyc2VOZXZlckRlZiIsIl9udWxsIiwicGFyc2VOdWxsRGVmIiwicGFyc2VVbmlvbkRlZiIsImFzQW55T2YiLCJ1bmlxdWVUeXBlcyIsImFueU9mIiwibnVsbGFibGUiLCJ1bmlvbl8xIiwicGFyc2VOdWxsYWJsZURlZiIsInBhcnNlTnVtYmVyRGVmIiwicGFyc2VPYmplY3REZWZYIiwiaXNPcHRpb25hbCIsInByb3BTY2hlbWEiLCJwcm9wTmFtZSIsInByb3BEZWYiLCJwYXJzZWREZWYiLCJwYXJzZU9iamVjdERlZiIsIm9wdGlvbmFsIiwicGFyc2VPcHRpb25hbERlZiIsImlubmVyU2NoZW1hIiwicGlwZWxpbmUiLCJwYXJzZVBpcGVsaW5lRGVmIiwicGFyc2VQcm9taXNlRGVmIiwicGFyc2VTdHJpbmdEZWYiLCJhZGRGb3JtYXQiLCJhZGRQYXR0ZXJuIiwiZXNjYXBlTm9uQWxwaGFOdW1lcmljIiwic3RyaW5nXzEiLCJwYXJzZVJlY29yZERlZiIsInBhcnNlU2V0RGVmIiwidHVwbGUiLCJwYXJzZVR1cGxlRGVmIiwiX3VuZGVmaW5lZCIsInBhcnNlVW5kZWZpbmVkRGVmIiwidW5rbm93biIsInBhcnNlVW5rbm93bkRlZiIsImFueV8xIiwiYXJyYXlfMSIsImJpZ2ludF8xIiwiYm9vbGVhbl8xIiwiYnJhbmRlZF8xIiwiY2F0Y2hfMSIsInJlcXVpcmUkJDYiLCJkYXRlXzEiLCJyZXF1aXJlJCQ3IiwiZGVmYXVsdF8xIiwicmVxdWlyZSQkOCIsImVmZmVjdHNfMSIsInJlcXVpcmUkJDkiLCJlbnVtXzEiLCJyZXF1aXJlJCQxMCIsImludGVyc2VjdGlvbl8xIiwicmVxdWlyZSQkMTEiLCJsaXRlcmFsXzEiLCJyZXF1aXJlJCQxMiIsIm1hcF8xIiwicmVxdWlyZSQkMTMiLCJuYXRpdmVFbnVtXzEiLCJyZXF1aXJlJCQxNCIsIm5ldmVyXzEiLCJyZXF1aXJlJCQxNSIsIm51bGxfMSIsInJlcXVpcmUkJDE2IiwibnVsbGFibGVfMSIsInJlcXVpcmUkJDE3IiwibnVtYmVyXzEiLCJyZXF1aXJlJCQxOCIsInJlcXVpcmUkJDE5Iiwib3B0aW9uYWxfMSIsInJlcXVpcmUkJDIwIiwicGlwZWxpbmVfMSIsInJlcXVpcmUkJDIxIiwicHJvbWlzZV8xIiwicmVxdWlyZSQkMjIiLCJyZWNvcmRfMSIsInJlcXVpcmUkJDIzIiwic2V0XzEiLCJyZXF1aXJlJCQyNCIsInJlcXVpcmUkJDI1IiwidHVwbGVfMSIsInJlcXVpcmUkJDI2IiwidW5kZWZpbmVkXzEiLCJyZXF1aXJlJCQyNyIsInJlcXVpcmUkJDI4IiwidW5rbm93bl8xIiwicmVxdWlyZSQkMjkiLCJwYXJzZURlZiIsImZvcmNlUmVzb2x1dGlvbiIsInNlZW5JdGVtIiwic2VlblNjaGVtYSIsImdldCRyZWYiLCJuZXdJdGVtIiwianNvblNjaGVtYSIsInNlbGVjdFBhcnNlciIsImFkZE1ldGEiLCJnZXRSZWxhdGl2ZVBhdGgiLCJwYXRoQSIsInBhdGhCIiwidHlwZU5hbWUiLCJnZXREZWZhdWx0T3B0aW9ucyIsIlJlZnMiLCJPcHRpb25zXzEiLCJnZXRSZWZzIiwiY3VycmVudFBhdGgiLCJ6b2RUb0pzb25TY2hlbWFfMSIsIlJlZnNfMSIsInpvZFRvSnNvblNjaGVtYSIsImRlZmluaXRpb25zIiwibWFpbiIsImNvbWJpbmVkIiwiZm9ybWF0VG9PcGVuQUlGdW5jdGlvbiIsIkJhc2VDaGF0TW9kZWwiLCJfbWVzc2FnZXMiLCJiYXNlTWVzc2FnZXMiLCJtZXNzYWdlTGlzdCIsImxsbU91dHB1dHMiLCJwUmVzdWx0IiwiYmFzZU1lc3NhZ2UiLCJwcm9tcHRNZXNzYWdlcyIsImV4dHJhY3RHZW5lcmljTWVzc2FnZUN1c3RvbVJvbGUiLCJtZXNzYWdlVG9PcGVuQUlSb2xlIiwib3BlbkFJUmVzcG9uc2VUb0NoYXRNZXNzYWdlIiwiX2NvbnZlcnREZWx0YVRvTWVzc2FnZUNodW5rIiwiZGVmYXVsdFJvbGUiLCJhZGRpdGlvbmFsX2t3YXJncyIsIkNoYXRPcGVuQUkiLCJtZXNzYWdlc01hcHBlZCIsInN0cmVhbUl0ZXJhYmxlIiwiZmluYWxDaHVua3MiLCJhS2V5IiwiYktleSIsInRvdGFsQ291bnQiLCJ0b2tlbnNQZXJNZXNzYWdlIiwidG9rZW5zUGVyTmFtZSIsImNvdW50UGVyTWVzc2FnZSIsInRleHRDb3VudCIsInJvbGVDb3VudCIsIm5hbWVDb3VudCJdLCJtYXBwaW5ncyI6ImtXQUNPLFNBQVNBLElBQU8sQ0FBRSxDQVdsQixTQUFTQyxHQUFPQyxFQUFLQyxFQUFLLENBRWhDLFVBQVdDLEtBQUtELEVBQUtELEVBQUlFLENBQUMsRUFBSUQsRUFBSUMsQ0FBQyxFQUNuQyxPQUE2QkYsQ0FDOUIsQ0F1Qk8sU0FBU0csR0FBSUMsRUFBSSxDQUN2QixPQUFPQSxFQUFFLENBQ1YsQ0FFTyxTQUFTQyxJQUFlLENBQzlCLE9BQU8sT0FBTyxPQUFPLElBQUksQ0FDMUIsQ0FNTyxTQUFTQyxHQUFRQyxFQUFLLENBQzVCQSxFQUFJLFFBQVFKLEVBQUcsQ0FDaEIsQ0FNTyxTQUFTSyxHQUFZQyxFQUFPLENBQ2xDLE9BQU8sT0FBT0EsR0FBVSxVQUN6QixDQUdPLFNBQVNDLEdBQWVDLEVBQUdDLEVBQUcsQ0FDcEMsT0FBT0QsR0FBS0EsRUFBSUMsR0FBS0EsRUFBSUQsSUFBTUMsR0FBTUQsR0FBSyxPQUFPQSxHQUFNLFVBQWEsT0FBT0EsR0FBTSxVQUNsRixDQXNETyxT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QUFDLEdBQUcsQ0FBQ1ksRUFBRSxNQUFNLElBQUksTUFBTVosR0FBRyxrQkFBa0IsQ0FBQyxDQUFDc0ssRUFBRSxTQUFTLFNBQVMxSixFQUFFLENBQUMsT0FBT0EsRUFBRSxVQUFVLEdBQUdBLEVBQUUsS0FBS0EsRUFBRSxJQUFJQSxFQUFFLEtBQUtBLEVBQUUsSUFBSUEsRUFBRSxJQUFJWixFQUFFLElBQUlZLEVBQUUsSUFBSVosRUFBRSxJQUFJWSxFQUFFLE1BQU1aLEVBQUUsTUFBTVksRUFBRSxTQUFTWixFQUFFLFNBQVNZLEVBQUUsZUFBZVosRUFBRSxTQUFTWSxFQUFFLE9BQU9aLEVBQUUsT0FBT1ksRUFBRSxLQUFLWixFQUFFLEtBQUtZLEVBQUUsTUFBTVosRUFBRSxNQUFNWSxFQUFFLFVBQVVaLEVBQUUsVUFBVVksRUFBRSxhQUFhWixFQUFFLGFBQWFZLEVBQUUsYUFBYVosRUFBRSxhQUFhWSxFQUFFLGFBQWFaLEVBQUUsYUFBYVksRUFBRSxhQUFhWixFQUFFLGFBQWFZLEVBQUUsU0FBU1osRUFBRSxTQUFTWSxFQUFFLFlBQVlaLEVBQUUsWUFBWVksRUFBRSxZQUFZWixFQUFFLFlBQVlZLEVBQUUsWUFBWVosRUFBRSxZQUFZWSxFQUFFLFlBQVlaLEVBQUUsWUFBWVksRUFBRSxZQUFZWixFQUFFLFlBQVlZLEVBQUUsWUFBWVosRUFBRSxZQUFZWSxFQUFFLGFBQWFaLEVBQUUsYUFBYVksRUFBRSxhQUFhWixFQUFFLGFBQWFZLEVBQUUsV0FBV1osRUFBRSxXQUFXWSxFQUFFLGNBQWNaLEVBQUUsY0FBY1ksRUFBRSxjQUFjWixFQUFFLGNBQWNZLEVBQUUsY0FBY1osRUFBRSxjQUFjWSxFQUFFLGNBQWNaLEVBQUUsY0FBY1ksRUFBRSxVQUFVWixFQUFFLFVBQVVZLEVBQUUsYUFBYVosRUFBRSxhQUFhWSxFQUFFLGFBQWFaLEVBQUUsYUFBYVksRUFBRSxhQUFhWixFQUFFLGFBQWFZLEVBQUUsYUFBYVosRUFBRSxhQUFhWSxFQUFFLGFBQWFaLEVBQUUsYUFBYVksRUFBRSxhQUFhWixFQUFFLGFBQWFZLEVBQUUsY0FBY1osRUFBRSxjQUFjWSxFQUFFLGNBQWNaLEVBQUUsY0FBY1ksRUFBRSxLQUFLWixFQUFFLEtBQUtZLEVBQUUsUUFBUVosRUFBRSxRQUFRWSxFQUFFLGNBQWNaLEVBQUUsY0FBY1ksQ0FBQyxDQUFDLEdBQUUsS0FBSyxLQUFLMGIsRUFBRSxRQUFRLEVBQWUsT0FBTyxLQUFwQixJQUF5QixLQUFrQixPQUFPLE9BQXBCLElBQTJCLE9BQU8sQ0FBRSxFQUFDQSxFQUFFLFFBQVEsRUFBRSxPQUFPLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLDZEQUE2RCxtREFBbUQsQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLE9BQU8sRUFBRSxRQUFRLEdBQUcsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsU0FBU2grQixFQUFFNjlCLEVBQUV2YixFQUFFLEVBQUUsU0FBU0EsRUFBRVosRUFBRTNtQixFQUFFd0csRUFBRTB2QixFQUFFM3ZCLEVBQUVqRixFQUFFb2hDLEVBQUVDLEVBQUUsQ0FBQyxJQUFJM2lDLEVBQUVpRixFQUFFLFFBQVEsRUFBRSxPQUFPZ3NCLEVBQUUsRUFBRWxiLEVBQUUsSUFBSS9WLEVBQUVpeEIsQ0FBQyxFQUFFbGIsRUFBRSxLQUFLLENBQUMsRUFBRStzQixFQUFFLFFBQVEsQ0FBQyxLQUFLLFNBQVN2YixFQUFFWixFQUFFbmdCLEVBQUUwdkIsRUFBRSxDQUFDLFFBQVEzdkIsRUFBRW9nQixFQUFFLFNBQVNZLEVBQUVaLEVBQUUsQ0FBQ1ksRUFBRSxPQUFPMEosR0FBRyxJQUFJenFCLEVBQUUrZ0IsRUFBRSxRQUFRMEosRUFBRTFKLEVBQUUsT0FBTzBKLEdBQUcxSixFQUFFdm5CLEVBQUUsT0FBTyxDQUFDdW5CLEVBQUV4UixDQUFDLEVBQUV2UCxDQUFDLEdBQUcsUUFBUUEsRUFBRTB2QixFQUFFLENBQUUsRUFBQzN2QixFQUFFb2dCLEVBQUVZLEVBQUUsWUFBWUEsRUFBRSxZQUFZam1CLEVBQUUsRUFBRUEsRUFBRWltQixFQUFFLE9BQU9qbUIsR0FBRzJ2QixFQUFFaUYsRUFBRSxLQUFLM3ZCLEVBQUUsS0FBS2doQixFQUFFam1CLENBQUMsQ0FBQyxFQUFFLE9BQU80MEIsQ0FBQyxFQUFFM08sRUFBRXZuQixFQUFFLFNBQVN1bkIsQ0FBQyxFQUFFQSxFQUFFLElBQUl2bkIsRUFBRXVuQixDQUFDLEVBQUUyTyxDQUFDLEVBQUUsRUFBRTNPLEVBQUUsTUFBTSxFQUFFWixFQUFFdVAsRUFBRTUwQixFQUFFLElBQUl0QixFQUFFd0csQ0FBQyxFQUFFazhCLEVBQUUvYixFQUFFcmxCLEVBQUUsYUFBYUEsRUFBRSxhQUFhcWhDLEVBQUUsRUFBRUEsRUFBRXA4QixFQUFFLE9BQU9vOEIsSUFBSUQsRUFBRSxLQUFLcGhDLEVBQUVpRixFQUFFbzhCLENBQUMsRUFBRSxFQUFFQSxFQUFFLEVBQUUsRUFBRSxPQUFPcmhDLENBQUMsQ0FBQyxDQUFDLEdBQUUsS0FBSyxLQUFLMkQsRUFBRSxRQUFRLEVBQWUsT0FBTyxLQUFwQixJQUF5QixLQUFrQixPQUFPLE9BQXBCLElBQTJCLE9BQU8sQ0FBQSxFQUFHQSxFQUFFLFFBQVEsRUFBRSxPQUFPLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLDBFQUEwRSw4REFBOEQsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLFNBQVMrOEIsRUFBRXphLEVBQUU3WSxFQUFFLEVBQUUsU0FBU3FILEVBQUU5USxFQUFFeTlCLEVBQUVJLEVBQUU5ZSxFQUFFbFAsRUFBRWl1QixFQUFFQyxFQUFFSCxFQUFFLENBQUMsSUFBSUgsRUFBRVYsRUFBRSxRQUFRLEVBQUUsT0FBT3phLEVBQUV5YSxFQUFFLE9BQU8sRUFBRXJiLEVBQUVxYixFQUFFLFVBQVUsRUFBRXg3QixFQUFFdzdCLEVBQUUsT0FBTyxFQUFFL2hDLEVBQUUsQ0FBQyxLQUFLc25CLEVBQUUsT0FBT1osRUFBRSxJQUFJcWIsRUFBRSxPQUFPLENBQUMsRUFBRVcsRUFBRSxHQUFHM2lDLEVBQUUsSUFBSTBpQyxFQUFFQyxDQUFDLEVBQUUsU0FBU3pNLEVBQUUzTyxFQUFFL2dCLEVBQUUsQ0FBQyxJQUFJMHZCLEVBQUVqMkIsRUFBRXNuQixFQUFFQSxHQUFHLE1BQU0sRUFBRWhoQixFQUFFLENBQUUsRUFBQyxPQUFPMnZCLEdBQUc1MEIsRUFBRSxhQUFhaW1CLEVBQUUsc0JBQXNCLEVBQUUsQ0FBQyxPQUFPLFNBQVNBLEVBQUUsQ0FBQyxPQUFPbWIsRUFBRSxTQUFTbmIsQ0FBQyxJQUFJQSxFQUFFLElBQUltYixFQUFFbmIsQ0FBQyxHQUFHaGhCLEVBQUUsS0FBS2doQixDQUFDLEVBQUVBLEVBQUUsT0FBTyxJQUFJLEVBQUUsT0FBTyxTQUFTQSxFQUFFLENBQUMsSUFBSVosRUFBRStiLEVBQUUsT0FBT244QixDQUFDLEVBQUVvZ0IsRUFBRW5nQixFQUFFLFNBQVMrZ0IsRUFBRVosRUFBRW5nQixFQUFFLENBQUNrOEIsRUFBRSxTQUFTL2IsQ0FBQyxJQUFJQSxFQUFFLElBQUkrYixFQUFFL2IsQ0FBQyxHQUFHK2IsRUFBRSxTQUFTbDhCLENBQUMsSUFBSUEsRUFBRSxJQUFJazhCLEVBQUVsOEIsQ0FBQyxHQUFHbWdCLEVBQUUsT0FBT2djLEVBQUVoYyxFQUFFWSxFQUFFWixDQUFDLEVBQUVBLEVBQUUsT0FBT2djLElBQUloYyxFQUFFK2IsRUFBRSxPQUFPLENBQUMvYixFQUFFM21CLENBQUMsRUFBRTJpQyxDQUFDLEdBQUcsUUFBUXpNLEVBQUUsSUFBSXdNLEVBQUVDLENBQUMsRUFBRXA4QixHQUFFLElBQUltOEIsRUFBRUMsQ0FBQyxFQUFFcmhDLEdBQUUsRUFBRUEsR0FBRXFoQyxFQUFFcmhDLEtBQUk0MEIsRUFBRTUwQixFQUFDLEVBQUUsR0FBR3FsQixFQUFFcmxCLEVBQUMsRUFBRWlGLEdBQUVqRixFQUFDLEVBQUUsR0FBR3FsQixFQUFFcmxCLEVBQUMsRUFBRSxPQUFPa0YsRUFBRStnQixFQUFFbWIsRUFBRSxPQUFPLENBQUN4TSxFQUFFMXZCLENBQUMsQ0FBQyxDQUFDLEVBQUUrZ0IsRUFBRW1iLEVBQUUsT0FBTyxDQUFDbjhCLEdBQUVDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTB2QixFQUFFMXZCLEVBQUVtZ0IsQ0FBQyxFQUFFdVAsRUFBRXZQLENBQUMsRUFBRSxPQUFPcGdCLEVBQUUsS0FBS2doQixFQUFFWixFQUFFLFNBQVNZLENBQUMsRUFBRVosQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTcmxCLEdBQUcsQ0FBQyxJQUFJaW1CLEVBQUUsR0FBRyxNQUFNLEtBQUssU0FBUyxFQUFFLEtBQUssR0FBRyxFQUFFLE1BQU0sSUFBSSxNQUFNLENBQUNBLEVBQUUsMEJBQTBCLGlEQUFpRCxFQUFFLEtBQUs7QUFBQSxDQUFJLENBQUMsQ0FBQyxDQUFDdm5CLEVBQUUsS0FBSyxDQUFDLEVBQUUwTyxFQUFFLFdBQVcsU0FBUzZZLEVBQUUsQ0FBQyxPQUFPMk8sRUFBRTNPLENBQUMsQ0FBQyxFQUFFN1ksRUFBRSxXQUFXd25CLEVBQUV4bkIsRUFBRSxZQUFZLFNBQVM2WSxFQUFFWixFQUFFLENBQUMsR0FBRyxDQUFDQSxHQUFHLENBQUNBLEVBQUUsS0FBSyxPQUFPLElBQUkrYixFQUFFbDhCLEVBQUUrZ0IsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDWixFQUFFLEtBQUssS0FBSyxPQUFPLElBQUkrYixFQUFFbDhCLEVBQUUrZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPQSxFQUFFLENBQUNaLEVBQUVZLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSWhoQixFQUFFMHFCLEVBQUUsQ0FBQyxvQkFBb0IsZUFBZSxpQkFBaUIsaUJBQWlCLG1CQUFtQixhQUFhLGVBQWUsc0JBQXNCLFFBQVEsRUFBRXJpQixFQUFFLFNBQVMyWSxFQUFFLENBQUM3WSxFQUFFNlksQ0FBQyxFQUFFLFVBQVUsQ0FBQ2ptQixFQUFFLFNBQVNpbUIsRUFBRSx3QkFBd0IsQ0FBQyxDQUFDLEVBQUUsSUFBSWhoQixLQUFLMHFCLEVBQUVyaUIsRUFBRXFpQixFQUFFMXFCLENBQUMsQ0FBRyxDQUFDLEdBQUUsS0FBSyxLQUFLeTdCLEVBQUUsUUFBUSxFQUFlLE9BQU8sS0FBcEIsSUFBeUIsS0FBa0IsT0FBTyxPQUFwQixJQUEyQixPQUFPLENBQUUsRUFBQ0EsRUFBRSxRQUFRLEVBQUUsT0FBTyxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSx3RUFBd0UsOERBQThELENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsU0FBU2EsRUFBRTVpQyxFQUFFc25CLEVBQUUsRUFBRSxTQUFTQSxFQUFFMk8sRUFBRSxFQUFFNTBCLEVBQUVvaEMsRUFBRTFpQyxFQUFFLEVBQUUrVixFQUFFaXRCLEVBQUUsQ0FBQyxJQUFJcmMsRUFBRWtjLEVBQUUsV0FBVyxFQUFFLFNBQVNyOEIsRUFBRStnQixFQUFFWixFQUFFLENBQUNZLEVBQUVaLEdBQUcsQ0FBQyxHQUFHLEtBQUtBLEVBQUUsR0FBR1ksRUFBRSxJQUFJWixFQUFFLEtBQUssR0FBRyxFQUFFLEVBQUVBLEVBQUUsUUFBUW5nQixFQUFFLFdBQVcwdkIsRUFBRSxXQUFXM3ZCLEVBQUUsWUFBWWpGLEVBQUUsVUFBVW9oQyxFQUFFLEVBQUVBLEVBQUVuYixFQUFFLE9BQU9tYixHQUFHLEdBQUcsQ0FBQyxJQUFJQyxFQUFFbjhCLEVBQUV4RyxFQUFFazJCLEVBQUVqRixFQUFFMXFCLEVBQUV3UCxFQUFFelUsRUFBRWtGLEVBQUV2QixFQUFFdUIsRUFBRTB2QixFQUFFM3ZCLEVBQUVqRixFQUFFaW1CLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsRUFBRXBoQyxFQUFFMkQsRUFBRTNELEVBQUVrRixFQUFFMHZCLEVBQUUzdkIsRUFBRWdoQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxVQUFVLEVBQUVuOEIsRUFBRXRCLEVBQUVzQixFQUFFakYsRUFBRWtGLEVBQUUwdkIsRUFBRTNPLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFNBQVMsRUFBRXhNLEVBQUVqeEIsRUFBRWl4QixFQUFFM3ZCLEVBQUVqRixFQUFFa0YsRUFBRStnQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxXQUFXLEVBQUVsOEIsRUFBRXZCLEVBQUV1QixFQUFFMHZCLEVBQUUzdkIsRUFBRWpGLEVBQUVpbUIsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEVBQUUsVUFBVSxFQUFFcGhDLEVBQUUyRCxFQUFFM0QsRUFBRWtGLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFVBQVUsRUFBRW44QixFQUFFdEIsRUFBRXNCLEVBQUVqRixFQUFFa0YsRUFBRTB2QixFQUFFM08sRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsV0FBVyxFQUFFeE0sRUFBRWp4QixFQUFFaXhCLEVBQUUzdkIsRUFBRWpGLEVBQUVrRixFQUFFK2dCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFNBQVMsRUFBRWw4QixFQUFFdkIsRUFBRXVCLEVBQUUwdkIsRUFBRTN2QixFQUFFakYsRUFBRWltQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLEVBQUVwaEMsRUFBRTJELEVBQUUzRCxFQUFFa0YsRUFBRTB2QixFQUFFM3ZCLEVBQUVnaEIsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsV0FBVyxFQUFFbjhCLEVBQUV0QixFQUFFc0IsRUFBRWpGLEVBQUVrRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxFQUFFLEVBQUUsR0FBRyxNQUFNLEVBQUV4TSxFQUFFanhCLEVBQUVpeEIsRUFBRTN2QixFQUFFakYsRUFBRWtGLEVBQUUrZ0IsRUFBRW1iLEVBQUUsRUFBRSxFQUFFLEdBQUcsV0FBVyxFQUFFbDhCLEVBQUV2QixFQUFFdUIsRUFBRTB2QixFQUFFM3ZCLEVBQUVqRixFQUFFaW1CLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRXBoQyxFQUFFMkQsRUFBRTNELEVBQUVrRixFQUFFMHZCLEVBQUUzdkIsRUFBRWdoQixFQUFFbWIsRUFBRSxFQUFFLEVBQUUsR0FBRyxTQUFTLEVBQUVuOEIsRUFBRXRCLEVBQUVzQixFQUFFakYsRUFBRWtGLEVBQUUwdkIsRUFBRTNPLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxHQUFHLFdBQVcsRUFBRWw4QixFQUFFczhCLEVBQUV0OEIsRUFBRTB2QixFQUFFanhCLEVBQUVpeEIsRUFBRTN2QixFQUFFakYsRUFBRWtGLEVBQUUrZ0IsRUFBRW1iLEVBQUUsRUFBRSxFQUFFLEdBQUcsVUFBVSxFQUFFbjhCLEVBQUVqRixFQUFFaW1CLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsRUFBRXBoQyxFQUFFd2hDLEVBQUV4aEMsRUFBRWtGLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLFdBQVcsRUFBRW44QixFQUFFdThCLEVBQUV2OEIsRUFBRWpGLEVBQUVrRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxFQUFFLEVBQUUsR0FBRyxTQUFTLEVBQUV4TSxFQUFFNE0sRUFBRTVNLEVBQUUzdkIsRUFBRWpGLEVBQUVrRixFQUFFK2dCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFVBQVUsRUFBRWw4QixFQUFFczhCLEVBQUV0OEIsRUFBRTB2QixFQUFFM3ZCLEVBQUVqRixFQUFFaW1CLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsRUFBRXBoQyxFQUFFd2hDLEVBQUV4aEMsRUFBRWtGLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRW44QixFQUFFdThCLEVBQUV2OEIsRUFBRWpGLEVBQUVrRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxFQUFFLEVBQUUsR0FBRyxVQUFVLEVBQUV4TSxFQUFFNE0sRUFBRTVNLEVBQUUzdkIsRUFBRWpGLEVBQUVrRixFQUFFK2dCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFVBQVUsRUFBRWw4QixFQUFFczhCLEVBQUV0OEIsRUFBRTB2QixFQUFFM3ZCLEVBQUVqRixFQUFFaW1CLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRXBoQyxFQUFFd2hDLEVBQUV4aEMsRUFBRWtGLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRW44QixFQUFFdThCLEVBQUV2OEIsRUFBRWpGLEVBQUVrRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxVQUFVLEVBQUV4TSxFQUFFNE0sRUFBRTVNLEVBQUUzdkIsRUFBRWpGLEVBQUVrRixFQUFFK2dCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFVBQVUsRUFBRWw4QixFQUFFczhCLEVBQUV0OEIsRUFBRTB2QixFQUFFM3ZCLEVBQUVqRixFQUFFaW1CLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRXBoQyxFQUFFd2hDLEVBQUV4aEMsRUFBRWtGLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRW44QixFQUFFdThCLEVBQUV2OEIsRUFBRWpGLEVBQUVrRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxVQUFVLEVBQUVsOEIsRUFBRXdkLEVBQUV4ZCxFQUFFMHZCLEVBQUU0TSxFQUFFNU0sRUFBRTN2QixFQUFFakYsRUFBRWtGLEVBQUUrZ0IsRUFBRW1iLEVBQUUsRUFBRSxFQUFFLEdBQUcsV0FBVyxFQUFFbjhCLEVBQUVqRixFQUFFaW1CLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRXBoQyxFQUFFMGlCLEVBQUUxaUIsRUFBRWtGLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFdBQVcsRUFBRW44QixFQUFFeWQsRUFBRXpkLEVBQUVqRixFQUFFa0YsRUFBRTB2QixFQUFFM08sRUFBRW1iLEVBQUUsRUFBRSxFQUFFLEdBQUcsVUFBVSxFQUFFeE0sRUFBRWxTLEVBQUVrUyxFQUFFM3ZCLEVBQUVqRixFQUFFa0YsRUFBRStnQixFQUFFbWIsRUFBRSxFQUFFLEVBQUUsR0FBRyxTQUFTLEVBQUVsOEIsRUFBRXdkLEVBQUV4ZCxFQUFFMHZCLEVBQUUzdkIsRUFBRWpGLEVBQUVpbUIsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEVBQUUsV0FBVyxFQUFFcGhDLEVBQUUwaUIsRUFBRTFpQixFQUFFa0YsRUFBRTB2QixFQUFFM3ZCLEVBQUVnaEIsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsVUFBVSxFQUFFbjhCLEVBQUV5ZCxFQUFFemQsRUFBRWpGLEVBQUVrRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxVQUFVLEVBQUV4TSxFQUFFbFMsRUFBRWtTLEVBQUUzdkIsRUFBRWpGLEVBQUVrRixFQUFFK2dCLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxHQUFHLFdBQVcsRUFBRWw4QixFQUFFd2QsRUFBRXhkLEVBQUUwdkIsRUFBRTN2QixFQUFFakYsRUFBRWltQixFQUFFbWIsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUVwaEMsRUFBRTBpQixFQUFFMWlCLEVBQUVrRixFQUFFMHZCLEVBQUUzdkIsRUFBRWdoQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxVQUFVLEVBQUVuOEIsRUFBRXlkLEVBQUV6ZCxFQUFFakYsRUFBRWtGLEVBQUUwdkIsRUFBRTNPLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFVBQVUsRUFBRXhNLEVBQUVsUyxFQUFFa1MsRUFBRTN2QixFQUFFakYsRUFBRWtGLEVBQUUrZ0IsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsUUFBUSxFQUFFbDhCLEVBQUV3ZCxFQUFFeGQsRUFBRTB2QixFQUFFM3ZCLEVBQUVqRixFQUFFaW1CLEVBQUVtYixFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsRUFBRXBoQyxFQUFFMGlCLEVBQUUxaUIsRUFBRWtGLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxHQUFHLFVBQVUsRUFBRW44QixFQUFFeWQsRUFBRXpkLEVBQUVqRixFQUFFa0YsRUFBRTB2QixFQUFFM08sRUFBRW1iLEVBQUUsRUFBRSxFQUFFLEdBQUcsU0FBUyxFQUFFbDhCLEVBQUVzTyxFQUFFdE8sRUFBRTB2QixFQUFFbFMsRUFBRWtTLEVBQUUzdkIsRUFBRWpGLEVBQUVrRixFQUFFK2dCLEVBQUVtYixFQUFFLENBQUMsRUFBRSxHQUFHLFVBQVUsRUFBRW44QixFQUFFakYsRUFBRWltQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLEVBQUVwaEMsRUFBRXdULEVBQUV4VCxFQUFFa0YsRUFBRTB2QixFQUFFM3ZCLEVBQUVnaEIsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsVUFBVSxFQUFFbjhCLEVBQUV1TyxFQUFFdk8sRUFBRWpGLEVBQUVrRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxFQUFFLEVBQUUsR0FBRyxXQUFXLEVBQUV4TSxFQUFFcGhCLEVBQUVvaEIsRUFBRTN2QixFQUFFakYsRUFBRWtGLEVBQUUrZ0IsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsU0FBUyxFQUFFbDhCLEVBQUVzTyxFQUFFdE8sRUFBRTB2QixFQUFFM3ZCLEVBQUVqRixFQUFFaW1CLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRXBoQyxFQUFFd1QsRUFBRXhULEVBQUVrRixFQUFFMHZCLEVBQUUzdkIsRUFBRWdoQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxXQUFXLEVBQUVuOEIsRUFBRXVPLEVBQUV2TyxFQUFFakYsRUFBRWtGLEVBQUUwdkIsRUFBRTNPLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxHQUFHLFFBQVEsRUFBRXhNLEVBQUVwaEIsRUFBRW9oQixFQUFFM3ZCLEVBQUVqRixFQUFFa0YsRUFBRStnQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxXQUFXLEVBQUVsOEIsRUFBRXNPLEVBQUV0TyxFQUFFMHZCLEVBQUUzdkIsRUFBRWpGLEVBQUVpbUIsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEVBQUUsVUFBVSxFQUFFcGhDLEVBQUV3VCxFQUFFeFQsRUFBRWtGLEVBQUUwdkIsRUFBRTN2QixFQUFFZ2hCLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxHQUFHLFNBQVMsRUFBRW44QixFQUFFdU8sRUFBRXZPLEVBQUVqRixFQUFFa0YsRUFBRTB2QixFQUFFM08sRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsV0FBVyxFQUFFeE0sRUFBRXBoQixFQUFFb2hCLEVBQUUzdkIsRUFBRWpGLEVBQUVrRixFQUFFK2dCLEVBQUVtYixFQUFFLEVBQUUsRUFBRSxHQUFHLFVBQVUsRUFBRWw4QixFQUFFc08sRUFBRXRPLEVBQUUwdkIsRUFBRTN2QixFQUFFakYsRUFBRWltQixFQUFFbWIsRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLEVBQUVwaEMsRUFBRXdULEVBQUV4VCxFQUFFa0YsRUFBRTB2QixFQUFFM3ZCLEVBQUVnaEIsRUFBRW1iLEVBQUUsRUFBRSxFQUFFLEdBQUcsV0FBVyxFQUFFbjhCLEVBQUV1TyxFQUFFdk8sRUFBRWpGLEVBQUVrRixFQUFFMHZCLEVBQUUzTyxFQUFFbWIsRUFBRSxDQUFDLEVBQUUsR0FBRyxTQUFTLEVBQUV4TSxFQUFFcGhCLEVBQUVvaEIsRUFBRTN2QixFQUFFakYsRUFBRWtGLEVBQUUrZ0IsRUFBRW1iLEVBQUUsQ0FBQyxFQUFFLEdBQUcsVUFBVSxFQUFFbDhCLEVBQUV1OEIsRUFBRXY4QixFQUFFbThCLENBQUMsRUFBRXpNLEVBQUU2TSxFQUFFN00sRUFBRWwyQixDQUFDLEVBQUV1RyxFQUFFdzhCLEVBQUV4OEIsRUFBRTBxQixDQUFDLEVBQUUzdkIsRUFBRXloQyxFQUFFemhDLEVBQUV5VSxDQUFDLENBQUMsQ0FBQyxPQUFPLE1BQU12UCxFQUFFMHZCLEVBQUUzdkIsRUFBRWpGLENBQUMsQ0FBQyxDQUFDLFNBQVNxaEMsRUFBRXBiLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFM3ZCLEVBQUVqRixFQUFFLENBQUMsT0FBT3loQyxHQUFHcGMsRUFBRW9jLEVBQUVBLEVBQUVwYyxFQUFFWSxDQUFDLEVBQUV3YixFQUFFN00sRUFBRTUwQixDQUFDLENBQUMsSUFBSWlGLEVBQUVvZ0IsSUFBSSxHQUFHcGdCLEVBQUVDLENBQUMsQ0FBQyxDQUFDLFNBQVN2QixFQUFFc2lCLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFM3ZCLEVBQUVqRixFQUFFb2hDLEVBQUUsQ0FBQyxPQUFPQyxFQUFFaGMsRUFBRW5nQixFQUFFLENBQUNtZ0IsRUFBRXVQLEVBQUUzTyxFQUFFWixFQUFFcGdCLEVBQUVqRixFQUFFb2hDLENBQUMsQ0FBQyxDQUFDLFNBQVNJLEVBQUV2YixFQUFFWixFQUFFbmdCLEVBQUUwdkIsRUFBRTN2QixFQUFFakYsRUFBRW9oQyxFQUFFLENBQUMsT0FBT0MsRUFBRWhjLEVBQUV1UCxFQUFFMXZCLEVBQUUsQ0FBQzB2QixFQUFFM08sRUFBRVosRUFBRXBnQixFQUFFakYsRUFBRW9oQyxDQUFDLENBQUMsQ0FBQyxTQUFTMWUsRUFBRXVELEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFM3ZCLEVBQUVqRixFQUFFb2hDLEVBQUUsQ0FBQyxPQUFPQyxFQUFFaGMsRUFBRW5nQixFQUFFMHZCLEVBQUUzTyxFQUFFWixFQUFFcGdCLEVBQUVqRixFQUFFb2hDLENBQUMsQ0FBQyxDQUFDLFNBQVM1dEIsRUFBRXlTLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFM3ZCLEVBQUVqRixFQUFFb2hDLEVBQUUsQ0FBQyxPQUFPQyxFQUFFbjhCLEdBQUdtZ0IsRUFBRSxDQUFDdVAsR0FBRzNPLEVBQUVaLEVBQUVwZ0IsRUFBRWpGLEVBQUVvaEMsQ0FBQyxDQUFDLENBQUMsU0FBU0ssRUFBRXhiLEVBQUVaLEVBQUUsQ0FBQyxJQUFJbmdCLEdBQUcsTUFBTStnQixJQUFJLE1BQU1aLEdBQUcsT0FBT1ksR0FBRyxLQUFLWixHQUFHLEtBQUtuZ0IsR0FBRyxLQUFLLEdBQUcsTUFBTUEsQ0FBQyxDQUFDdkcsRUFBRSxRQUFRLFNBQVNzbkIsRUFBRSxDQUFDLE9BQU9aLEVBQUUsS0FBS1ksRUFBRS9nQixFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUUsS0FBSyxLQUFLcThCLEVBQUUsUUFBUSxFQUFlLE9BQU8sS0FBcEIsSUFBeUIsS0FBa0IsT0FBTyxPQUFwQixJQUEyQixPQUFPLENBQUUsRUFBQ0EsRUFBRSxRQUFRLEVBQUUsT0FBTyxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxzRUFBc0UsOERBQThELENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsU0FBU3RiLEVBQUV4UixFQUFFNFEsRUFBRSxFQUFFLFNBQVNZLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFM3ZCLEVBQUVqRixFQUFFb2hDLEVBQUVDLEVBQUUxUixFQUFFLENBQU9sYixFQUFFLFFBQVcsU0FBU3dSLEVBQUUsQ0FBQyxRQUFRWixFQUFFbmdCLEVBQUUsSUFBSSxNQUFNK2dCLENBQUMsRUFBRTJPLEVBQUUsRUFBRUEsRUFBRTNPLEVBQUUyTyxJQUFRLElBQUVBLEtBQUt2UCxFQUFFLFdBQVcsS0FBSyxPQUFNLEdBQUluZ0IsRUFBRTB2QixDQUFDLEVBQUV2UCxNQUFNLEVBQUV1UCxJQUFJLEdBQUcsSUFBSSxPQUFPMXZCLENBQUMsQ0FBQyxHQUFFLEtBQUssS0FBSytnQixFQUFFLFFBQVEsRUFBZSxPQUFPLEtBQXBCLElBQXlCLEtBQWtCLE9BQU8sT0FBcEIsSUFBMkIsT0FBTyxDQUFFLEVBQUNBLEVBQUUsUUFBUSxFQUFFLE9BQU8sVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsc0VBQXNFLDhEQUE4RCxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsU0FBU3RpQixFQUFFNjlCLEVBQUV2YixFQUFFLEVBQUUsU0FBU0EsRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUzdkIsRUFBRW84QixFQUFFM2lDLEVBQUVpeEIsRUFBRWxiLEVBQUUsQ0FBQyxJQUFJelUsRUFBRTJELEVBQUUsV0FBVyxFQUFFLFNBQVN5OUIsRUFBRTNzQixFQUFFOVEsRUFBRSxDQUFDOFEsRUFBRTlRLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBR0EsRUFBRSxHQUFHOFEsRUFBRSxJQUFJOVEsRUFBRSxJQUFJLEdBQUcsRUFBRSxFQUFFQSxFQUFFLFFBQVFzaUIsRUFBRVosRUFBRW5nQixFQUFFMHZCLEVBQUUsTUFBTSxFQUFFLEVBQUUzdkIsRUFBRSxXQUFXakYsRUFBRSxXQUFXb2hDLEVBQUUsWUFBWUMsRUFBRSxVQUFVRyxFQUFFLFlBQVk5ZSxFQUFFLEVBQUVBLEVBQUVqTyxFQUFFLE9BQU9pTyxHQUFHLEdBQUcsQ0FBQyxRQUFRbFAsRUFBRXZPLEVBQUV3OEIsRUFBRXpoQyxFQUFFMGhDLEVBQUVOLEVBQUVHLEVBQUVGLEVBQUUxaUMsRUFBRTZpQyxFQUFFOWlDLEVBQUUsRUFBRUEsRUFBRSxHQUFHQSxJQUFJLENBQUNrMkIsRUFBRWwyQixDQUFDLEVBQUVBLEVBQUUsR0FBRytWLEVBQUVpTyxFQUFFaGtCLENBQUMsRUFBRWdpQyxFQUFFOUwsRUFBRWwyQixFQUFFLENBQUMsRUFBRWsyQixFQUFFbDJCLEVBQUUsQ0FBQyxFQUFFazJCLEVBQUVsMkIsRUFBRSxFQUFFLEVBQUVrMkIsRUFBRWwyQixFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSWl4QixHQUFFcmlCLEVBQUVBLEVBQUVvekIsRUFBRXo3QixFQUFFLENBQUMsR0FBRzBxQixHQUFFM3ZCLEVBQUVxbEIsRUFBRStiLEVBQUVsOEIsRUFBRW04QixHQUFHcGIsRUFBRXZuQixHQUFHLEdBQUdpeEIsR0FBRXRLLEVBQUUsQ0FBQ3NLLEdBQUV6cUIsRUFBRSxFQUFFK2dCLEVBQUUsS0FBS0EsRUFBRSxHQUFHMEosR0FBRXRLLEVBQUVzSyxHQUFFenFCLEVBQUVtZ0IsRUFBRW5nQixFQUFFeXFCLEdBQUV0SyxFQUFFbmdCLEVBQUcsRUFBQ29JLEVBQUVBLEVBQUVrMEIsRUFBRTVNLEVBQUVsMkIsQ0FBQyxDQUFDLEdBQUd1bkIsRUFBRXZuQixHQUFHLEdBQUcsV0FBV3VuQixFQUFFLEdBQUcsV0FBV0EsRUFBRSxHQUFHLFlBQVksVUFBVSxDQUFDLEVBQUV1YixFQUFFSCxFQUFFQSxFQUFFRCxFQUFFQSxFQUFFVixFQUFFMWdDLEVBQUUsRUFBRSxFQUFFQSxFQUFFaUYsRUFBRUEsRUFBRTBxQixFQUFDLENBQUMxcUIsRUFBRXFJLEVBQUVySSxFQUFFdU8sQ0FBQyxFQUFFeFQsRUFBRXNOLEVBQUV0TixFQUFFeWhDLENBQUMsRUFBRUwsRUFBRTl6QixFQUFFOHpCLEVBQUVNLENBQUMsRUFBRUwsRUFBRS96QixFQUFFK3pCLEVBQUVFLENBQUMsRUFBRUMsRUFBRWwwQixFQUFFazBCLEVBQUU3aUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxNQUFNc0csRUFBRWpGLEVBQUVvaEMsRUFBRUMsRUFBRUcsQ0FBQyxDQUFDLENBQUMsU0FBU2wwQixFQUFFMlksRUFBRVosRUFBRSxDQUFDLElBQUluZ0IsR0FBRyxNQUFNK2dCLElBQUksTUFBTVosR0FBRyxPQUFPWSxHQUFHLEtBQUtaLEdBQUcsS0FBS25nQixHQUFHLEtBQUssR0FBRyxNQUFNQSxDQUFDLENBQUMsU0FBU3c3QixFQUFFemEsRUFBRVosRUFBRSxDQUFDLE9BQU9ZLEdBQUdaLEVBQUVZLElBQUksR0FBR1osQ0FBQyxDQUFDbWMsRUFBRSxRQUFRLFNBQVN2YixFQUFFLENBQUMsT0FBT2ptQixFQUFFLEtBQUtpbUIsRUFBRW1iLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFFLEtBQUssS0FBS3o5QixFQUFFLFFBQVEsRUFBZSxPQUFPLEtBQXBCLElBQXlCLEtBQWtCLE9BQU8sT0FBcEIsSUFBMkIsT0FBTyxDQUFFLEVBQUNBLEVBQUUsUUFBUSxFQUFFLE9BQU8sVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQUUsc0VBQXNFLDhEQUE4RCxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLFNBQVNBLEVBQUU2OUIsRUFBRXZiLEVBQUUsRUFBRSxTQUFTQSxFQUFFWixFQUFFbmdCLEVBQUUwdkIsRUFBRXdNLEVBQUVDLEVBQUUzaUMsRUFBRWl4QixFQUFFbGIsRUFBRSxDQUFDLFNBQVM5VixFQUFFc25CLEVBQUVaLEVBQUUsQ0FBQyxJQUFJbmdCLEdBQUcsTUFBTStnQixJQUFJLE1BQU1aLEdBQUcsT0FBT1ksR0FBRyxLQUFLWixHQUFHLEtBQUtuZ0IsR0FBRyxLQUFLLEdBQUcsTUFBTUEsQ0FBQyxDQUFDLFNBQVNELEVBQUVnaEIsRUFBRXhSLEVBQUUsQ0FBQyxJQUFJOVEsRUFBRTY5QixFQUFFLElBQUksTUFBTSxXQUFXLFdBQVcsV0FBVyxXQUFXLFVBQVUsV0FBVyxXQUFXLFdBQVcsV0FBVyxVQUFVLFVBQVUsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxVQUFVLFVBQVUsVUFBVSxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxVQUFVLFVBQVUsVUFBVSxVQUFVLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxVQUFVLEVBQUVuYyxFQUFFLElBQUksTUFBTSxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxVQUFVLFVBQVUsRUFBRW5nQixFQUFFLElBQUksTUFBTSxFQUFFLEVBQUUrZ0IsRUFBRXhSLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBR0EsRUFBRSxHQUFHd1IsRUFBRSxJQUFJeFIsRUFBRSxJQUFJLEdBQUcsRUFBRSxFQUFFQSxFQUFFLFFBQVFtZ0IsRUFBRTN2QixFQUFFeWQsRUFBRSxFQUFFQSxFQUFFdUQsRUFBRSxPQUFPdkQsR0FBRyxHQUFHLENBQUMsUUFBUTFpQixFQUFFcWxCLEVBQUUsQ0FBQyxFQUFFK2IsRUFBRS9iLEVBQUUsQ0FBQyxFQUFFZ2MsRUFBRWhjLEVBQUUsQ0FBQyxFQUFFN1IsRUFBRTZSLEVBQUUsQ0FBQyxFQUFFM21CLEVBQUUybUIsRUFBRSxDQUFDLEVBQUVvYyxFQUFFcGMsRUFBRSxDQUFDLEVBQUVxYyxFQUFFcmMsRUFBRSxDQUFDLEVBQUVrYyxFQUFFbGMsRUFBRSxDQUFDLEVBQUVzSyxHQUFFLEVBQUVBLEdBQUUsR0FBR0EsS0FBSXpxQixFQUFFeXFCLEVBQUMsRUFBRUEsR0FBRSxHQUFHMUosRUFBRTBKLEdBQUVqTixDQUFDLEVBQUUvakIsRUFBRUEsRUFBRUEsR0FBR3NHLEVBQUVDLEVBQUV5cUIsR0FBRSxDQUFDLEVBQUVyaUIsRUFBRXJJLEVBQUUsRUFBRSxFQUFFcUksRUFBRXJJLEVBQUUsRUFBRSxFQUFFeTdCLEVBQUV6N0IsRUFBRSxFQUFFLEdBQUdDLEVBQUV5cUIsR0FBRSxDQUFDLENBQUMsR0FBRzFxQixFQUFFQyxFQUFFeXFCLEdBQUUsRUFBRSxFQUFFcmlCLEVBQUVySSxFQUFFLENBQUMsRUFBRXFJLEVBQUVySSxFQUFFLEVBQUUsRUFBRXk3QixFQUFFejdCLEVBQUUsQ0FBQyxFQUFHLEVBQUNDLEVBQUV5cUIsR0FBRSxFQUFFLENBQUMsRUFBRWhzQixFQUFFaEYsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRTRpQyxFQUFFajBCLEVBQUVySSxFQUFFdkcsRUFBRSxDQUFDLEVBQUU0TyxFQUFFckksRUFBRSxFQUFFLEVBQUVxSSxFQUFFckksRUFBRSxFQUFFLENBQUMsRUFBRXZHLEVBQUUraUMsRUFBRSxDQUFDL2lDLEVBQUVnakMsQ0FBQyxFQUFFRixFQUFFN1IsRUFBQyxDQUFDLEVBQUV6cUIsRUFBRXlxQixFQUFDLENBQUMsRUFBRWlGLEVBQUVqMkIsRUFBRTJPLEVBQUVzbkIsRUFBRTUwQixFQUFFLENBQUMsRUFBRXNOLEVBQUVzbkIsRUFBRSxFQUFFLEVBQUV0bkIsRUFBRXNuQixFQUFFLEVBQUUsRUFBRTUwQixFQUFFb2hDLEVBQUVwaEMsRUFBRXFoQyxFQUFFRCxFQUFFQyxDQUFDLEVBQUVFLEVBQUVHLEVBQUVBLEVBQUVELEVBQUVBLEVBQUUvaUMsRUFBRUEsRUFBRUMsRUFBRTZVLEVBQUU3UCxDQUFDLEVBQUU2UCxFQUFFNnRCLEVBQUVBLEVBQUVELEVBQUVBLEVBQUVwaEMsRUFBRUEsRUFBRXJCLEVBQUVnRixFQUFFaXhCLENBQUMsRUFBRXZQLEVBQUUsQ0FBQyxFQUFFMW1CLEVBQUVxQixFQUFFcWxCLEVBQUUsQ0FBQyxDQUFDLEVBQUVBLEVBQUUsQ0FBQyxFQUFFMW1CLEVBQUV5aUMsRUFBRS9iLEVBQUUsQ0FBQyxDQUFDLEVBQUVBLEVBQUUsQ0FBQyxFQUFFMW1CLEVBQUUwaUMsRUFBRWhjLEVBQUUsQ0FBQyxDQUFDLEVBQUVBLEVBQUUsQ0FBQyxFQUFFMW1CLEVBQUU2VSxFQUFFNlIsRUFBRSxDQUFDLENBQUMsRUFBRUEsRUFBRSxDQUFDLEVBQUUxbUIsRUFBRUQsRUFBRTJtQixFQUFFLENBQUMsQ0FBQyxFQUFFQSxFQUFFLENBQUMsRUFBRTFtQixFQUFFOGlDLEVBQUVwYyxFQUFFLENBQUMsQ0FBQyxFQUFFQSxFQUFFLENBQUMsRUFBRTFtQixFQUFFK2lDLEVBQUVyYyxFQUFFLENBQUMsQ0FBQyxFQUFFQSxFQUFFLENBQUMsRUFBRTFtQixFQUFFNGlDLEVBQUVsYyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBT0EsQ0FBQyxDQUFDLElBQUlybEIsRUFBRTJELEVBQUUsV0FBVyxFQUFFMkosRUFBRSxTQUFTMlksRUFBRVosRUFBRSxDQUFDLE9BQU9ZLElBQUlaLEVBQUVZLEdBQUcsR0FBR1osQ0FBQyxFQUFFcWIsRUFBRSxTQUFTemEsRUFBRVosRUFBRSxDQUFDLE9BQU9ZLElBQUlaLENBQUMsRUFBRW1jLEVBQUUsUUFBUSxTQUFTdmIsRUFBRSxDQUFDLE9BQU9qbUIsRUFBRSxLQUFLaW1CLEVBQUVoaEIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUUsS0FBSyxLQUFLdEIsRUFBRSxRQUFRLEVBQWUsT0FBTyxLQUFwQixJQUF5QixLQUFrQixPQUFPLE9BQXBCLElBQTJCLE9BQU8sR0FBR0EsRUFBRSxRQUFRLEVBQUUsT0FBTyxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSx5RUFBeUUsOERBQThELENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsU0FBU3NpQixFQUFFWixFQUFFc0ssRUFBRSxFQUFFLFNBQVMxSixFQUFFWixFQUFFbmdCLEVBQUUwdkIsRUFBRTN2QixFQUFFakYsRUFBRW9oQyxFQUFFQyxFQUFFM2lDLEVBQUUsQ0FBQ2l4QixFQUFFLEtBQUssU0FBUzFKLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFM3ZCLEVBQUUsQ0FBQyxJQUFJakYsRUFBRW9oQyxFQUFFM3NCLEVBQUUsRUFBRXhQLEVBQUUydkIsRUFBRSxFQUFFanhCLEdBQUcsR0FBRzhRLEdBQUcsRUFBRStzQixFQUFFNzlCLEdBQUcsRUFBRTA5QixFQUFFLEdBQUczaUMsRUFBRXdHLEVBQUVELEVBQUUsRUFBRSxFQUFFMHFCLEVBQUV6cUIsRUFBRSxHQUFHLEVBQUVELEVBQUVnaEIsRUFBRVosRUFBRTNtQixDQUFDLEVBQUUsSUFBSUEsR0FBR2l4QixFQUFFM3ZCLEVBQUVpRixHQUFHLEdBQUcsQ0FBQ284QixHQUFHLEVBQUVwOEIsSUFBSSxDQUFDbzhCLEVBQUVBLEdBQUc1c0IsRUFBRSxFQUFFNHNCLEVBQUVyaEMsRUFBRSxJQUFJQSxFQUFFaW1CLEVBQUVaLEVBQUUzbUIsQ0FBQyxFQUFFQSxHQUFHaXhCLEVBQUUwUixHQUFHLEVBQUUsQ0FBQyxJQUFJRCxFQUFFcGhDLEdBQUcsR0FBRyxDQUFDcWhDLEdBQUcsRUFBRXJoQyxJQUFJLENBQUNxaEMsRUFBRUEsR0FBR3pNLEVBQUUsRUFBRXlNLEVBQUVELEVBQUUsSUFBSUEsRUFBRW5iLEVBQUVaLEVBQUUzbUIsQ0FBQyxFQUFFQSxHQUFHaXhCLEVBQUUwUixHQUFHLEVBQUUsQ0FBQyxHQUFPcmhDLElBQUosRUFBTUEsRUFBRSxFQUFFd2hDLE1BQU0sQ0FBQyxHQUFHeGhDLElBQUkyRCxFQUFFLE9BQU95OUIsRUFBRSxJQUFJLEVBQUUsR0FBR244QixFQUFFLEdBQUcsR0FBR204QixHQUFHLEtBQUssSUFBSSxFQUFFeE0sQ0FBQyxFQUFFNTBCLEdBQUd3aEMsQ0FBQyxDQUFDLE9BQU92OEIsRUFBRSxHQUFHLEdBQUdtOEIsRUFBRSxLQUFLLElBQUksRUFBRXBoQyxFQUFFNDBCLENBQUMsQ0FBQyxFQUFFakYsRUFBRSxNQUFNLFNBQVMxSixFQUFFWixFQUFFNVEsRUFBRXZQLEVBQUUwdkIsRUFBRWp4QixFQUFFLENBQUMsSUFBSXNCLEVBQUVqRixFQUFFb2hDLEVBQUUsRUFBRXo5QixFQUFFaXhCLEVBQUUsRUFBRXlNLEdBQUcsR0FBR0QsR0FBRyxFQUFFMWlDLEVBQUUyaUMsR0FBRyxFQUFFRyxFQUFPNU0sSUFBTCxHQUFPLEtBQUssSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLElBQUksRUFBRSxHQUFHLEVBQUUsRUFBRWpGLEVBQUV6cUIsRUFBRSxFQUFFdkIsRUFBRSxFQUFFK2UsRUFBRXhkLEVBQUUsRUFBRSxHQUFHdkIsRUFBRTBoQixFQUFFLEdBQU9BLElBQUosR0FBTyxFQUFFQSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUlBLEVBQUUsS0FBSyxJQUFJQSxDQUFDLEVBQUUsTUFBTUEsQ0FBQyxHQUFHQSxJQUFJLEVBQUUsR0FBR3JsQixFQUFFLE1BQU1xbEIsQ0FBQyxFQUFFLEVBQUUsRUFBRXBnQixFQUFFbzhCLElBQUlwOEIsRUFBRSxLQUFLLE1BQU0sS0FBSyxJQUFJb2dCLENBQUMsRUFBRSxLQUFLLEdBQUcsRUFBRUEsR0FBR25nQixFQUFFLEtBQUssSUFBSSxFQUFFLENBQUNELENBQUMsR0FBRyxJQUFJQSxJQUFJQyxHQUFHLEdBQUcsSUFBSW1nQixHQUFHLEdBQUdwZ0IsRUFBRXZHLEVBQUU4aUMsRUFBRXQ4QixFQUFFczhCLEVBQUUsS0FBSyxJQUFJLEVBQUUsRUFBRTlpQyxDQUFDLEdBQUd3RyxJQUFJRCxJQUFJQyxHQUFHLEdBQUdtOEIsR0FBR3A4QixFQUFFdkcsR0FBR3NCLEVBQUUsRUFBRWlGLEVBQUVvOEIsR0FBRyxHQUFHcDhCLEVBQUV2RyxHQUFHc0IsR0FBR3FsQixFQUFFbmdCLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRTB2QixDQUFDLEVBQUUzdkIsR0FBR3ZHLElBQUlzQixFQUFFcWxCLEVBQUUsS0FBSyxJQUFJLEVBQUUzbUIsRUFBRSxDQUFDLEVBQUUsS0FBSyxJQUFJLEVBQUVrMkIsQ0FBQyxFQUFFM3ZCLEVBQUUsSUFBSSxHQUFHMnZCLEVBQUUzTyxFQUFFeFIsRUFBRWtiLENBQUMsRUFBRSxJQUFJM3ZCLEVBQUUydkIsR0FBR2pOLEVBQUUxaUIsR0FBRyxJQUFJNDBCLEdBQUcsRUFBRSxDQUFDLElBQUkzdkIsRUFBRUEsR0FBRzJ2QixFQUFFNTBCLEVBQUVvaEMsR0FBR3hNLEVBQUUsRUFBRXdNLEVBQUVuYixFQUFFeFIsRUFBRWtiLENBQUMsRUFBRSxJQUFJMXFCLEVBQUUwcUIsR0FBR2pOLEVBQUV6ZCxHQUFHLElBQUltOEIsR0FBRyxFQUFFLENBQUNuYixFQUFFeFIsRUFBRWtiLEVBQUVqTixDQUFDLEdBQUcsSUFBSS9lLENBQUMsQ0FBQyxHQUFFLEtBQUssS0FBS3NpQixFQUFFLFFBQVEsRUFBZSxPQUFPLEtBQXBCLElBQXlCLEtBQWtCLE9BQU8sT0FBcEIsSUFBMkIsT0FBTyxHQUFHQSxFQUFFLFFBQVEsRUFBRSxPQUFPLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLDhEQUE4RCxvREFBb0QsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLFNBQVNBLEVBQUV2RCxFQUFFMkMsRUFBRSxFQUFFLFNBQVNZLEVBQUVaLEVBQUVuZ0IsRUFBRTB2QixFQUFFM3ZCLEVBQUUwcUIsRUFBRWxiLEVBQUU5USxFQUFFNjlCLEVBQUUsQ0FBQyxJQUFJeGhDLEVBQUVvaEMsRUFBRUMsRUFBRSxTQUFTM2lDLEdBQUcsQ0FBRSxFQUFDdW5CLEVBQUV2RCxFQUFFLFFBQVEsQ0FBQSxHQUFJLFVBQVUwZSxFQUFlLE9BQU8sT0FBcEIsS0FBNEIsT0FBTyxhQUFhQyxFQUFlLE9BQU8sT0FBcEIsS0FBNEIsT0FBTyxhQUFhLE9BQU8saUJBQWlCRCxFQUFFLFNBQVNuYixFQUFFLENBQUMsT0FBTyxPQUFPLGFBQWFBLENBQUMsQ0FBQyxFQUFFb2IsR0FBR3JoQyxFQUFFLEdBQUcsT0FBTyxpQkFBaUIsVUFBVSxTQUFTaW1CLEVBQUUsQ0FBQyxJQUFJWixFQUFFWSxFQUFFLE9BQU9aLElBQUksUUFBZUEsSUFBUCxNQUEyQlksRUFBRSxPQUFuQixpQkFBMEJBLEVBQUUsa0JBQWtCLEVBQUVqbUIsRUFBRSxRQUFRQSxFQUFFLE1BQU8sRUFBQSxFQUFHLEVBQUUsRUFBRSxFQUFFLFNBQVNpbUIsRUFBRSxDQUFDam1CLEVBQUUsS0FBS2ltQixDQUFDLEVBQUUsT0FBTyxZQUFZLGVBQWUsR0FBRyxDQUFDLEdBQUcsU0FBU0EsRUFBRSxDQUFDLFdBQVdBLEVBQUUsQ0FBQyxDQUFDLEdBQUdBLEVBQUUsTUFBTSxVQUFVQSxFQUFFLFFBQVEsR0FBR0EsRUFBRSxJQUFJLENBQUUsRUFBQ0EsRUFBRSxLQUFLLENBQUEsRUFBR0EsRUFBRSxHQUFHdm5CLEVBQUV1bkIsRUFBRSxZQUFZdm5CLEVBQUV1bkIsRUFBRSxLQUFLdm5CLEVBQUV1bkIsRUFBRSxJQUFJdm5CLEVBQUV1bkIsRUFBRSxlQUFldm5CLEVBQUV1bkIsRUFBRSxtQkFBbUJ2bkIsRUFBRXVuQixFQUFFLEtBQUt2bkIsRUFBRXVuQixFQUFFLFFBQVEsU0FBU0EsRUFBRSxDQUFDLE1BQU0sSUFBSSxNQUFNLGtDQUFrQyxDQUFDLEVBQUVBLEVBQUUsSUFBSSxVQUFVLENBQUMsTUFBTSxHQUFHLEVBQUVBLEVBQUUsTUFBTSxTQUFTQSxFQUFFLENBQUMsTUFBTSxJQUFJLE1BQU0sZ0NBQWdDLENBQUMsQ0FBQyxHQUFFLEtBQUssS0FBS0EsRUFBRSxRQUFRLEVBQWUsT0FBTyxLQUFwQixJQUF5QixLQUFrQixPQUFPLE9BQXBCLElBQTJCLE9BQU8sQ0FBRSxFQUFDQSxFQUFFLFFBQVEsRUFBRSxPQUFPLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLGdFQUFnRSxvREFBb0QsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFBLEVBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQywwQ0NZejhqQzBjLEdBQWMsSUFBSUMsSUFBWUMsR0FBS0QsRUFBUSxLQUFLLEdBQUcsQ0FBQyxFQ1YzREUsR0FBYSxJQUFJLElBSWhCLE1BQU1DLFdBQXNCMUUsRUFBVSxDQUN6QyxZQUFZMXdCLEVBQUssQ0FDYixRQUNBLE9BQU8sZUFBZSxLQUFNLFFBQVMsQ0FDakMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsS0FBSyxNQUFRQSxHQUFPLElBQUksR0FDM0IsQ0FRRCxPQUFPdVUsRUFBUThnQixFQUFRLENBQ25CLE9BQU8sUUFBUSxRQUFRLEtBQUssTUFBTSxJQUFJTCxHQUFZemdCLEVBQVE4Z0IsQ0FBTSxDQUFDLEdBQUssSUFBSSxDQUM3RSxDQU9ELE1BQU0sT0FBTzlnQixFQUFROGdCLEVBQVFoaEMsRUFBTyxDQUNoQyxLQUFLLE1BQU0sSUFBSTJnQyxHQUFZemdCLEVBQVE4Z0IsQ0FBTSxFQUFHaGhDLENBQUssQ0FDcEQsQ0FNRCxPQUFPLFFBQVMsQ0FDWixPQUFPLElBQUkrZ0MsR0FBY0QsRUFBVSxDQUN0QyxDQUNMLENDcENBLE1BQU1HLEdBQWUsSUFBTSxHQUlwQixNQUFNQyxXQUFzQjNiLEVBQVMsQ0FDeEMsSUFBSSxlQUFnQixDQUNoQixNQUFPLENBQ0gsVUFBVyxPQUNYLFFBQVMsTUFDckIsQ0FDSyxDQUNELFlBQVk3UCxFQUFRLENBQ2hCLE1BQU1BLENBQU0sRUFJWixPQUFPLGVBQWUsS0FBTSxVQUFXLENBQ25DLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFlBQWEsQ0FDckMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sT0FBUSxDQUNoQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxXQUFZLENBQ3BDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELEtBQUssUUFBVUEsRUFBTyxTQUFXdXJCLEdBQVksRUFDN0MsS0FBSyxVQUFZdnJCLEVBQU8sVUFDeEIsS0FBSyxLQUFPQSxFQUFPLE1BQVEsQ0FBQSxFQUMzQixLQUFLLFNBQVdBLEVBQU8sVUFBWSxDQUFBLENBQ3RDLENBQ0wsQ0FJTyxNQUFNeXJCLFdBQTBCRCxFQUFjLENBSWpELElBQUksVUFBVyxDQUNYLE1BQU8sQ0FBQyxPQUFRLFVBQVcsU0FBVSxPQUFRLFdBQVksV0FBVyxDQUN2RSxDQUNELFlBQVksQ0FBRSxVQUFBbGtDLEVBQVcsZ0JBQUE4akIsRUFBaUIsR0FBR3BMLENBQU0sRUFBSSxDQUNuRCxNQUFNLENBQ0YsVUFBVzFZLEdBQWE4akIsRUFDeEIsR0FBR3BMLENBQ2YsQ0FBUyxFQUtELE9BQU8sZUFBZSxLQUFNLFNBQVUsQ0FDbEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sUUFBUyxDQUNqQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxZQUFhLENBQ3JDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNHLE9BQU9BLEVBQU8sT0FBVSxTQUN4QixLQUFLLE1BQVFBLEVBQU8sTUFFZkEsRUFBTyxNQUNaLEtBQUssTUFBUXFyQixHQUFjLFNBRzNCLEtBQUssTUFBUSxPQUVqQixLQUFLLE9BQVMsSUFBSS9vQixHQUFZdEMsR0FBVSxDQUFFLENBQUEsQ0FDN0MsQ0FDRCxNQUFNLGFBQWFyVyxFQUFNLENBRXJCLElBQUkwN0IsRUFBWSxLQUFLLEtBQUsxN0IsRUFBSyxPQUFTLENBQUMsRUFDekMsR0FBSSxDQUFDLEtBQUssVUFDTixHQUFJLENBQ0EsS0FBSyxVQUFZLE1BQU1xN0IsR0FBaUIsY0FBZSxLQUNqREMsR0FBd0IsS0FBSyxTQUFTLEVBQ3RDLE1BQU0sQ0FDZixPQUNNbnpCLEVBQU8sQ0FDVixRQUFRLEtBQUssMEVBQTJFQSxDQUFLLENBQ2hHLENBRUwsT0FBSSxLQUFLLFlBQ0x1ekIsRUFBWSxLQUFLLFVBQVUsT0FBTzE3QixDQUFJLEVBQUUsUUFFckMwN0IsQ0FDVixDQUNELE9BQU8sMkJBQTJCMzZCLEVBQU8sQ0FDckMsT0FBSSxPQUFPQSxHQUFVLFNBQ1YsSUFBSTQ4QixHQUFrQjU4QixDQUFLLEVBRTdCLE1BQU0sUUFBUUEsQ0FBSyxFQUNqQixJQUFJKytCLEdBQWdCLytCLEVBQU0sSUFBSTQ3QixFQUEwQixDQUFDLEVBR3pENTdCLENBRWQsQ0FLRCxvQkFBcUIsQ0FDakIsTUFBTyxFQUNWLENBTUQsd0NBQXdDNmxCLEVBQWEsQ0FFakQsTUFBTXZRLEVBQVMsQ0FDWCxHQUFHLEtBQUssbUJBQW9CLEVBQzVCLEdBQUd1USxFQUNILE1BQU8sS0FBSyxTQUFVLEVBQ3RCLE9BQVEsS0FBSyxXQUFZLENBQ3JDLEVBTVEsT0FMd0IsT0FBTyxRQUFRdlEsQ0FBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDdEssRUFBR3BMLENBQUssSUFBTUEsSUFBVSxNQUFTLEVBRXBGLElBQUksQ0FBQyxDQUFDTSxFQUFLTixDQUFLLElBQU0sR0FBR00sQ0FBRyxJQUFJLEtBQUssVUFBVU4sQ0FBSyxDQUFDLEVBQUUsRUFDdkQsS0FBTSxFQUNOLEtBQUssR0FBRyxDQUVoQixDQUtELFdBQVksQ0FDUixNQUFPLENBQ0gsR0FBRyxLQUFLLG1CQUFvQixFQUM1QixNQUFPLEtBQUssU0FBVSxFQUN0QixPQUFRLEtBQUssV0FBWSxDQUNyQyxDQUNLLENBS0QsYUFBYSxZQUFZVixFQUFNLENBQzNCLEtBQU0sQ0FBRSxNQUFBOGhDLEVBQU8sT0FBQUMsRUFBUSxHQUFHaDhCLENBQUksRUFBSy9GLEVBQ25DLEdBQUkraEMsR0FBVUEsSUFBVyxrQkFDckIsTUFBTSxJQUFJLE1BQU0sOEJBQThCQSxDQUFNLEVBQUUsRUFFMUQsTUFBTUMsRUFBTSxDQUNSLFFBQVMsTUFBTSxRQUFBLFFBQUEsRUFBQSxLQUFBLElBQUFDLEVBQUEsR0FBb0MsVUFDdEQsRUFBQ0gsQ0FBSyxFQUNQLEdBQUlFLElBQVEsT0FDUixNQUFNLElBQUksTUFBTSw2QkFBNkJGLENBQUssRUFBRSxFQUV4RCxPQUFPLElBQUlFLEVBQUlqOEIsQ0FBSSxDQUN0QixDQUNMLENDbkxPLE1BQU1tOEIsV0FBZ0JMLEVBQWtCLENBQzNDLFlBQVksQ0FBRSxZQUFBTSxFQUFhLEdBQUdwOEIsR0FBUSxDQUNsQyxNQUFNbzhCLEVBQWMsQ0FBRSxlQUFnQkEsRUFBYSxHQUFHcDhCLENBQUksRUFBS0EsQ0FBSSxFQUNuRSxPQUFPLGVBQWUsS0FBTSxlQUFnQixDQUN4QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLENBQUMsWUFBYSxPQUFRLEtBQUssU0FBUSxDQUFFLENBQ3hELENBQVMsQ0FDSixDQVNELE1BQU0sT0FBT2pGLEVBQU9SLEVBQVMsQ0FDekIsTUFBTThoQyxFQUFjRixHQUFRLDJCQUEyQnBoQyxDQUFLLEVBRTVELE9BRGUsTUFBTSxLQUFLLGVBQWUsQ0FBQ3NoQyxDQUFXLEVBQUc5aEMsRUFBU0EsR0FBQSxZQUFBQSxFQUFTLFNBQVMsR0FDckUsWUFBWSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQ25DLENBRUQsTUFBTyxzQkFBc0IraEMsRUFBUUMsRUFBVUMsRUFBYSxDQUN4RCxNQUFNLElBQUksTUFBTSxrQkFBa0IsQ0FDckMsQ0FDRCx1Q0FBdUNqaUMsRUFBUyxDQUM1QyxLQUFNLENBQUNvbUIsRUFBZ0JDLENBQVcsRUFBSSxNQUFNLHVDQUF1Q3JtQixDQUFPLEVBQzFGLE9BQUlxbUIsR0FBQSxNQUFBQSxFQUFhLFNBQVcsQ0FBQ0EsRUFBWSxTQUNyQ0EsRUFBWSxPQUFTLFlBQVksUUFBUUEsRUFBWSxPQUFPLEdBRXpELENBQUNELEVBQWdCQyxDQUFXLENBQ3RDLENBQ0QsTUFBTyxnQkFBZ0I3bEIsRUFBT1IsRUFBUyxDQUVuQyxHQUFJLEtBQUssd0JBQTBCNGhDLEdBQVEsVUFBVSxzQkFDakQsTUFBTSxLQUFLLE9BQU9waEMsRUFBT1IsQ0FBTyxNQUUvQixDQUNELE1BQU1zZ0IsRUFBU3NoQixHQUFRLDJCQUEyQnBoQyxDQUFLLEVBQ2pELENBQUM0bEIsRUFBZ0JDLENBQVcsRUFBSSxLQUFLLHVDQUF1Q3JtQixDQUFPLEVBQ25GdW1CLEVBQW1CLE1BQU14RyxHQUFnQixVQUFVcUcsRUFBZSxVQUFXLEtBQUssVUFBV0EsRUFBZSxLQUFNLEtBQUssS0FBTUEsRUFBZSxTQUFVLEtBQUssU0FBVSxDQUFFLFFBQVMsS0FBSyxPQUFPLENBQUUsRUFDOUx6TixFQUFRLENBQ1YsUUFBUzBOLEVBQ1Qsa0JBQW1CLHVCQUFNLGlCQUFpQkEsRUFDMUQsRUFDa0JNLEVBQWMsTUFBTUosR0FBQSxZQUFBQSxFQUFrQixlQUFlLEtBQUssT0FBTSxFQUFJLENBQUNqRyxFQUFPLFNBQVUsQ0FBQSxFQUFHLE9BQVcsT0FBVzNILEVBQU8sT0FBVyxPQUFXeU4sRUFBZSxVQUNqSyxJQUFJckssRUFBYSxJQUFJc2YsR0FBZ0IsQ0FDakMsS0FBTSxFQUN0QixDQUFhLEVBQ0QsR0FBSSxDQUNBLGdCQUFpQm5VLEtBQVMsS0FBSyxzQkFBc0IxbUIsRUFBTSxTQUFVLEVBQUU2bEIsRUFBYU0sR0FBQSxZQUFBQSxFQUFjLEVBQUUsRUFDM0Y1SyxFQUlEQSxFQUFhQSxFQUFXLE9BQU9tTCxDQUFLLEVBSHBDbkwsRUFBYW1MLEVBS2IsT0FBT0EsRUFBTSxNQUFTLFdBQ3RCLE1BQU1BLEVBQU0sS0FHdkIsT0FDTTlmLEVBQUssQ0FDUixZQUFNLFFBQVEsS0FBS3VmLEdBQWUsQ0FBQSxHQUFJLElBQUtILEdBQWVBLEdBQUEsWUFBQUEsRUFBWSxlQUFlcGYsRUFBSSxDQUFDLEVBQ3BGQSxDQUNULENBQ0QsTUFBTSxRQUFRLEtBQUt1ZixHQUFlLENBQUEsR0FBSSxJQUFLSCxHQUFlQSxHQUFBLFlBQUFBLEVBQVksYUFBYSxDQUMvRSxZQUFhLENBQUMsQ0FBQ3pLLENBQVUsQ0FBQyxDQUM3QixFQUFDLENBQUMsQ0FDTixDQUNKLENBU0QsTUFBTSxlQUFlbW1CLEVBQWNsaUMsRUFBUzVDLEVBQVcsQ0FDbkQsTUFBTXFTLEVBQVV5eUIsRUFBYSxJQUFLSixHQUFnQkEsRUFBWSxTQUFRLENBQUUsRUFDeEUsT0FBTyxLQUFLLFNBQVNyeUIsRUFBU3pQLEVBQVM1QyxDQUFTLENBQ25ELENBS0QsaUJBQWlCNGtDLEVBQVUsQ0FDdkIsTUFBTyxFQUNWLENBQ0Qsa0JBQWtCRyxFQUFXLENBQ3pCLE1BQU1DLEVBQWEsQ0FBQSxFQUNuQixRQUFTaGtDLEVBQUksRUFBR0EsRUFBSStqQyxFQUFVLFlBQVksT0FBUS9qQyxHQUFLLEVBQUcsQ0FDdEQsTUFBTWlrQyxFQUFVRixFQUFVLFlBQVkvakMsQ0FBQyxFQUN2QyxHQUFJQSxJQUFNLEVBQ05na0MsRUFBVyxLQUFLLENBQ1osWUFBYSxDQUFDQyxDQUFPLEVBQ3JCLFVBQVdGLEVBQVUsU0FDekMsQ0FBaUIsTUFFQSxDQUNELE1BQU1HLEVBQVlILEVBQVUsVUFDdEIsQ0FBRSxHQUFHQSxFQUFVLFVBQVcsV0FBWSxDQUFBLENBQUksRUFDMUMsT0FDTkMsRUFBVyxLQUFLLENBQ1osWUFBYSxDQUFDQyxDQUFPLEVBQ3JCLFVBQUFDLENBQ3BCLENBQWlCLENBQ0osQ0FDSixDQUNELE9BQU9GLENBQ1YsQ0FFRCxNQUFNLGtCQUFrQjN5QixFQUFTOHlCLEVBQWVDLEVBQWdCLENBQzVELE1BQU1qYyxFQUFtQixNQUFNeEcsR0FBZ0IsVUFBVXlpQixFQUFlLFVBQVcsS0FBSyxVQUFXQSxFQUFlLEtBQU0sS0FBSyxLQUFNQSxFQUFlLFNBQVUsS0FBSyxTQUFVLENBQUUsUUFBUyxLQUFLLE9BQU8sQ0FBRSxFQUM5TDdwQixFQUFRLENBQ1YsUUFBUzRwQixFQUNULGtCQUFtQix1QkFBTSxpQkFBaUJBLEVBQ3RELEVBQ2M1YixFQUFjLE1BQU1KLEdBQUEsWUFBQUEsRUFBa0IsZUFBZSxLQUFLLE9BQU0sRUFBSTlXLEVBQVMsT0FBVyxPQUFXa0osRUFBTyxPQUFXLE9BQVc2cEIsR0FBQSxZQUFBQSxFQUFnQixVQUN0SixJQUFJdHlCLEVBQ0osR0FBSSxDQUNBQSxFQUFTLE1BQU0sS0FBSyxVQUFVVCxFQUFTOHlCLEVBQWU1YixHQUFBLFlBQUFBLEVBQWMsRUFBRSxDQUN6RSxPQUNNdmYsRUFBSyxDQUNSLFlBQU0sUUFBUSxLQUFLdWYsR0FBZSxDQUFBLEdBQUksSUFBS0gsR0FBZUEsR0FBQSxZQUFBQSxFQUFZLGVBQWVwZixFQUFJLENBQUMsRUFDcEZBLENBQ1QsQ0FDRCxNQUFNcTdCLEVBQW1CLEtBQUssa0JBQWtCdnlCLENBQU0sRUFDdEQsTUFBTSxRQUFRLEtBQUt5VyxHQUFlLENBQUUsR0FBRSxJQUFJLENBQUNILEVBQVlwb0IsSUFBTW9vQixHQUFBLFlBQUFBLEVBQVksYUFBYWljLEVBQWlCcmtDLENBQUMsRUFBRSxDQUFDLEVBQzNHLE1BQU04YixHQUFTeU0sR0FBQSxZQUFBQSxFQUFhLElBQUs3RyxHQUFZQSxFQUFRLFNBQVUsT0FJL0QsY0FBTyxlQUFlNVAsRUFBUWtyQixHQUFTLENBQ25DLE1BQU9saEIsRUFBUyxDQUFFLE9BQUFBLENBQU0sRUFBSyxPQUM3QixhQUFjLEVBQzFCLENBQVMsRUFDTWhLLENBQ1YsQ0FJRCxNQUFNLFNBQVNULEVBQVN6UCxFQUFTNUMsRUFBVyxDQUN4QyxHQUFJLENBQUMsTUFBTSxRQUFRcVMsQ0FBTyxFQUN0QixNQUFNLElBQUksTUFBTSxpREFBaUQsRUFFckUsSUFBSTh5QixFQUNBLE1BQU0sUUFBUXZpQyxDQUFPLEVBQ3JCdWlDLEVBQWdCLENBQUUsS0FBTXZpQyxHQUd4QnVpQyxFQUFnQnZpQyxFQUVwQixLQUFNLENBQUNvbUIsRUFBZ0JDLENBQVcsRUFBSSxLQUFLLHVDQUF1Q2tjLENBQWEsRUFFL0YsR0FEQW5jLEVBQWUsVUFBWUEsRUFBZSxXQUFhaHBCLEVBQ25ELENBQUMsS0FBSyxNQUNOLE9BQU8sS0FBSyxrQkFBa0JxUyxFQUFTNFcsRUFBYUQsQ0FBYyxFQUV0RSxLQUFNLENBQUUsTUFBQXVVLENBQU8sRUFBRyxLQUNaK0gsRUFBZSxLQUFLLHdDQUF3Q3JjLENBQVcsRUFDdkVzYyxFQUF1QixDQUFBLEVBQ3ZCM21CLEVBQWMsTUFBTSxRQUFRLElBQUl2TSxFQUFRLElBQUksTUFBTzZRLEVBQVF4YSxJQUFVLENBQ3ZFLE1BQU0vRyxFQUFTLE1BQU00N0IsRUFBTSxPQUFPcmEsRUFBUW9pQixDQUFZLEVBQ3RELE9BQUszakMsR0FDRDRqQyxFQUFxQixLQUFLNzhCLENBQUssRUFFNUIvRyxDQUNWLENBQUEsQ0FBQyxFQUNGLElBQUl1akMsRUFBWSxDQUFBLEVBQ2hCLEdBQUlLLEVBQXFCLE9BQVMsRUFBRyxDQUNqQyxNQUFNN2UsRUFBVSxNQUFNLEtBQUssa0JBQWtCNmUsRUFBcUIsSUFBS3ZrQyxHQUFNcVIsRUFBUXJSLENBQUMsQ0FBQyxFQUFHaW9CLEVBQWFELENBQWMsRUFDckgsTUFBTSxRQUFRLElBQUl0QyxFQUFRLFlBQVksSUFBSSxNQUFPL0gsRUFBWWpXLElBQVUsQ0FDbkUsTUFBTTg4QixFQUFjRCxFQUFxQjc4QixDQUFLLEVBQzlDLE9BQUFrVyxFQUFZNG1CLENBQVcsRUFBSTdtQixFQUNwQjRlLEVBQU0sT0FBT2xyQixFQUFRbXpCLENBQVcsRUFBR0YsRUFBYzNtQixDQUFVLENBQ3JFLENBQUEsQ0FBQyxFQUNGdW1CLEVBQVl4ZSxFQUFRLFdBQWEsRUFDcEMsQ0FDRCxNQUFPLENBQUUsWUFBQTlILEVBQWEsVUFBQXNtQixFQUN6QixDQUlELE1BQU0sS0FBS2hpQixFQUFRdGdCLEVBQVM1QyxFQUFXLENBQ25DLEtBQU0sQ0FBRSxZQUFBNGUsR0FBZ0IsTUFBTSxLQUFLLFNBQVMsQ0FBQ3NFLENBQU0sRUFBR3RnQixFQUFTNUMsQ0FBUyxFQUN4RSxPQUFPNGUsRUFBWSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQzVCLENBU0QsTUFBTSxRQUFRdmMsRUFBTU8sRUFBUzVDLEVBQVcsQ0FDcEMsT0FBTyxLQUFLLEtBQUtxQyxFQUFNTyxFQUFTNUMsQ0FBUyxDQUM1QyxDQVNELE1BQU0sZ0JBQWdCNlMsRUFBVWpRLEVBQVM1QyxFQUFXLENBQ2hELE1BQU1xQyxFQUFPbWUsR0FBZ0IzTixDQUFRLEVBQy9CNHlCLEVBQWEsTUFBTSxLQUFLLEtBQUtwakMsRUFBTU8sRUFBUzVDLENBQVMsRUFDM0QsT0FBTyxJQUFJdytCLEdBQVVpSCxDQUFVLENBQ2xDLENBS0Qsb0JBQXFCLENBQ2pCLE1BQU8sRUFDVixDQUtELFdBQVksQ0FDUixNQUFPLENBQ0gsR0FBRyxLQUFLLG1CQUFvQixFQUM1QixNQUFPLEtBQUssU0FBVSxFQUN0QixPQUFRLEtBQUssV0FBWSxDQUNyQyxDQUNLLENBQ0QsWUFBYSxDQUNULE1BQU8sVUFDVixDQUtELGFBQWEsWUFBWW5qQyxFQUFNLENBQzNCLEtBQU0sQ0FBRSxNQUFBOGhDLEVBQU8sT0FBQUMsRUFBUSxHQUFHaDhCLENBQUksRUFBSy9GLEVBQ25DLEdBQUkraEMsR0FBVUEsSUFBVyxXQUNyQixNQUFNLElBQUksTUFBTSw4QkFBOEJBLENBQU0sRUFBRSxFQUUxRCxNQUFNQyxFQUFNLENBQ1IsUUFBUyxNQUFNLFFBQUEsUUFBQSxFQUFBLEtBQUEsSUFBQW9CLEVBQUEsR0FBdUIsTUFDekMsRUFBQ3RCLENBQUssRUFDUCxHQUFJRSxJQUFRLE9BQ1IsTUFBTSxJQUFJLE1BQU0sOEJBQThCRixDQUFLLEVBQUUsRUFFekQsT0FBTyxJQUFJRSxFQUFJajhCLENBQUksQ0FDdEIsQ0FDTCxDQVFPLE1BQU1zOUIsV0FBWW5CLEVBQVEsQ0FDN0IsTUFBTSxVQUFVbnlCLEVBQVN6UCxFQUFTd21CLEVBQVksQ0FFMUMsTUFBTyxDQUFFLFlBRFcsTUFBTSxRQUFRLElBQUkvVyxFQUFRLElBQUksQ0FBQzZRLEVBQVFzaUIsSUFBZ0IsS0FBSyxNQUFNdGlCLEVBQVEsQ0FBRSxHQUFHdGdCLEVBQVMsWUFBQTRpQyxDQUFXLEVBQUlwYyxDQUFVLEVBQUUsS0FBTS9tQixHQUFTLENBQUMsQ0FBRSxLQUFBQSxFQUFNLENBQUMsQ0FBQyxDQUFDLENBQzlJLENBQ3ZCLENBQ0wsQ0M5UU8sU0FBU3VqQyxHQUFzQjNlLEVBQUcsQ0FDckMsSUFBSXpjLEVBQ0osT0FBSXljLEVBQUUsWUFBWSxPQUFTaU0sR0FBMEIsTUFDakQxb0IsRUFBUSxJQUFJLE1BQU15YyxFQUFFLE9BQU8sRUFDM0J6YyxFQUFNLEtBQU8sZ0JBRVJ5YyxFQUFFLFlBQVksT0FBU2dNLEdBQWtCLE1BQzlDem9CLEVBQVEsSUFBSSxNQUFNeWMsRUFBRSxPQUFPLEVBQzNCemMsRUFBTSxLQUFPLGNBR2JBLEVBQVF5YyxFQUVMemMsQ0FDWCxDQ2FPLE1BQU1xN0IsV0FBbUJGLEVBQUksQ0FDaEMsT0FBTyxTQUFVLENBQ2IsTUFBTyxZQUNWLENBQ0QsSUFBSSxVQUFXLENBQ1gsTUFBTyxDQUFDLEdBQUcsTUFBTSxTQUFVLFVBQVcsYUFBYSxDQUN0RCxDQUNELElBQUksWUFBYSxDQUNiLE1BQU8sQ0FDSCxhQUFjLGlCQUNkLGtCQUFtQix1QkFDbkIsYUFBYyxxQkFDMUIsQ0FDSyxDQUNELElBQUksWUFBYSxDQUNiLE1BQU8sQ0FDSCxVQUFXLFFBQ1gsYUFBYyxpQkFDZCxzQkFBdUIsMkJBQ3ZCLGtCQUFtQix1QkFDbkIsMkJBQTRCLGlDQUM1Qiw2QkFBOEIsa0NBQzFDLENBQ0ssQ0FDRCxZQUFZNzJCLEVBRVpnM0IsRUFBZSxxQkF1SlgsR0F0SkEsTUFBTWgzQixHQUFVLENBQUEsQ0FBRSxFQUNsQixPQUFPLGVBQWUsS0FBTSxrQkFBbUIsQ0FDM0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxFQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sY0FBZSxDQUN2QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLENBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxPQUFRLENBQ2hDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sQ0FDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLG1CQUFvQixDQUM1QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLENBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxrQkFBbUIsQ0FDM0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxDQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sSUFBSyxDQUM3QixXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLENBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxZQUFhLENBQ3JDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFlBQWEsQ0FDckMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sWUFBYSxDQUNyQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLGVBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxpQkFBa0IsQ0FDMUMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sY0FBZSxDQUN2QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxVQUFXLENBQ25DLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLE9BQVEsQ0FDaEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sT0FBUSxDQUNoQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxZQUFhLENBQ3JDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sRUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLGVBQWdCLENBQ3hDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLHdCQUF5QixDQUNqRCxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxvQkFBcUIsQ0FDN0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sNkJBQThCLENBQ3RELFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLCtCQUFnQyxDQUN4RCxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxzQkFBdUIsQ0FDL0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sZUFBZ0IsQ0FDeEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sU0FBVSxDQUNsQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxlQUFnQixDQUN4QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxLQUFLLGNBQ0RBLEdBQUEsWUFBQUEsRUFBUSxlQUFnQitLLEdBQXVCLGdCQUFnQixFQUNuRSxLQUFLLG1CQUNEL0ssR0FBQSxZQUFBQSxFQUFRLG9CQUNKK0ssR0FBdUIsc0JBQXNCLEVBQ2pELENBQUMsS0FBSyxtQkFBcUIsQ0FBQyxLQUFLLGFBQ2pDLE1BQU0sSUFBSSxNQUFNLDBDQUEwQyxFQWlDOUQsR0EvQkEsS0FBSyw0QkFDRC9LLEdBQUEsWUFBQUEsRUFBUSw2QkFDSitLLEdBQXVCLGdDQUFnQyxFQUMvRCxLQUFLLCtCQUNBL0ssR0FBQSxZQUFBQSxFQUFRLDJDQUNMQSxHQUFBLFlBQUFBLEVBQVEsaUNBQ1ArSyxHQUF1Qiw4Q0FBOEMsR0FDbEVBLEdBQXVCLGtDQUFrQyxHQUNyRSxLQUFLLHVCQUNEL0ssR0FBQSxZQUFBQSxFQUFRLHdCQUNKK0ssR0FBdUIsMEJBQTBCLEVBQ3pELEtBQUsscUJBQ0QvSyxHQUFBLFlBQUFBLEVBQVEsc0JBQ0orSyxHQUF1Qix3QkFBd0IsRUFDdkQsS0FBSyxlQUNEckosRUFBQTFCLEdBQUEsWUFBQUEsRUFBUSxnQkFBUixZQUFBMEIsRUFBdUIsZUFDbkJxSixHQUF1QixxQkFBcUIsRUFDcEQsS0FBSyxXQUFZL0ssR0FBQSxZQUFBQSxFQUFRLFlBQWEsS0FBSyxVQUMzQyxLQUFLLGdCQUFpQkEsR0FBQSxZQUFBQSxFQUFRLGlCQUFrQixLQUFLLGVBQ3JELEtBQUssYUFBY0EsR0FBQSxZQUFBQSxFQUFRLGNBQWUsQ0FBQSxFQUMxQyxLQUFLLFFBQVVBLEdBQUEsWUFBQUEsRUFBUSxRQUN2QixLQUFLLGFBQWNBLEdBQUEsWUFBQUEsRUFBUSxjQUFlLEtBQUssWUFDL0MsS0FBSyxNQUFPQSxHQUFBLFlBQUFBLEVBQVEsT0FBUSxLQUFLLEtBQ2pDLEtBQUssa0JBQW1CQSxHQUFBLFlBQUFBLEVBQVEsbUJBQW9CLEtBQUssaUJBQ3pELEtBQUssaUJBQWtCQSxHQUFBLFlBQUFBLEVBQVEsa0JBQW1CLEtBQUssZ0JBQ3ZELEtBQUssR0FBSUEsR0FBQSxZQUFBQSxFQUFRLElBQUssS0FBSyxFQUMzQixLQUFLLFVBQVlBLEdBQUEsWUFBQUEsRUFBUSxVQUN6QixLQUFLLFVBQVlBLEdBQUEsWUFBQUEsRUFBUSxVQUN6QixLQUFLLEtBQU9BLEdBQUEsWUFBQUEsRUFBUSxLQUNwQixLQUFLLEtBQU9BLEdBQUEsWUFBQUEsRUFBUSxLQUNwQixLQUFLLFdBQVlBLEdBQUEsWUFBQUEsRUFBUSxZQUFhLEdBQ2xDLEtBQUssRUFBSSxFQUNULE1BQU0sSUFBSSxNQUFNLHdFQUF3RSxFQUU1RixHQUFJLEtBQUssa0JBQW1CLENBQ3hCLEdBQUksQ0FBQyxLQUFLLDRCQUE4QixDQUFDLEtBQUssb0JBQzFDLE1BQU0sSUFBSSxNQUFNLDBDQUEwQyxFQUU5RCxHQUFJLENBQUMsS0FBSyw2QkFDTixNQUFNLElBQUksTUFBTSw0Q0FBNEMsRUFFaEUsR0FBSSxDQUFDLEtBQUssc0JBQ04sTUFBTSxJQUFJLE1BQU0sb0NBQW9DLEVBRXhELEtBQUssYUFBZSxLQUFLLGNBQWdCLEVBQzVDLENBQ0QsS0FBSyxhQUFlLENBQ2hCLE9BQVEsS0FBSyxhQUNiLGFBQWMsS0FBSyxhQUNuQixTQUFTZzNCLEdBQUEsWUFBQUEsRUFBZSxhQUFZcnhCLEVBQUEzRixHQUFBLFlBQUFBLEVBQVEsZ0JBQVIsWUFBQTJGLEVBQXVCLFVBQzNELHdCQUF5QixHQUN6QixpQkFBZ0JvRCxFQUFBaXVCLEdBQUEsWUFBQUEsRUFBZSxjQUFmLFlBQUFqdUIsRUFBNEIsWUFDeEN3YSxHQUFBdmEsRUFBQWhKLEdBQUEsWUFBQUEsRUFBUSxnQkFBUixZQUFBZ0osRUFBdUIsY0FBdkIsWUFBQXVhLEVBQW9DLFNBQ3hDLGVBQWNDLEVBQUF3VCxHQUFBLFlBQUFBLEVBQWUsY0FBZixZQUFBeFQsRUFBNEIsV0FDdEN5VCxHQUFBQyxFQUFBbDNCLEdBQUEsWUFBQUEsRUFBUSxnQkFBUixZQUFBazNCLEVBQXVCLGNBQXZCLFlBQUFELEVBQW9DLFFBQ3hDLEdBQUdELEVBQ0gsR0FBR2gzQixHQUFBLFlBQUFBLEVBQVEsYUFDdkIsQ0FDSyxDQUlELGlCQUFpQmxNLEVBQVMsQ0FDdEIsTUFBTyxDQUNILE1BQU8sS0FBSyxVQUNaLFlBQWEsS0FBSyxZQUNsQixNQUFPLEtBQUssS0FDWixrQkFBbUIsS0FBSyxpQkFDeEIsaUJBQWtCLEtBQUssZ0JBQ3ZCLEVBQUcsS0FBSyxFQUNSLFdBQVksS0FBSyxVQUNqQixXQUFZLEtBQUssWUFBYyxHQUFLLE9BQVksS0FBSyxVQUNyRCxNQUFNQSxHQUFBLFlBQUFBLEVBQVMsT0FBUSxLQUFLLEtBQzVCLEtBQU0sS0FBSyxLQUNYLE9BQVEsS0FBSyxVQUNiLEdBQUcsS0FBSyxXQUNwQixDQUNLLENBRUQsb0JBQXFCLENBQ2pCLE1BQU8sQ0FDSCxXQUFZLEtBQUssVUFDakIsR0FBRyxLQUFLLGlCQUFrQixFQUMxQixHQUFHLEtBQUssWUFDcEIsQ0FDSyxDQUlELG1CQUFvQixDQUNoQixNQUFPLENBQ0gsV0FBWSxLQUFLLFVBQ2pCLEdBQUcsS0FBSyxpQkFBa0IsRUFDMUIsR0FBRyxLQUFLLFlBQ3BCLENBQ0ssQ0FNRCxlQUFlc2dCLEVBQVEsQ0FDbkIsTUFBTXpZLEVBQVUsQ0FDWixLQUFNLE9BQ04sUUFBU3lZLENBQ3JCLEVBQ1EsT0FBTyxLQUFLLGVBQWlCLENBQUMsR0FBRyxLQUFLLGVBQWdCelksQ0FBTyxFQUFJLENBQUNBLENBQU8sQ0FDNUUsQ0FDRCxNQUFPLHNCQUFzQnlZLEVBQVF0Z0IsRUFBU3dtQixFQUFZLE9BQ3RELE1BQU0xUSxFQUFTLENBQ1gsR0FBRyxLQUFLLGlCQUFpQjlWLENBQU8sRUFDaEMsU0FBVSxLQUFLLGVBQWVzZ0IsQ0FBTSxFQUNwQyxPQUFRLEVBQ3BCLEVBQ2NvRSxFQUFTLE1BQU0sS0FBSyxvQkFBb0I1TyxFQUFROVYsQ0FBTyxFQUM3RCxnQkFBaUJOLEtBQVFnbEIsRUFBUSxDQUM3QixNQUFNMmUsRUFBUzNqQyxHQUFBLFlBQUFBLEVBQU0sUUFBUSxHQUM3QixHQUFJLENBQUMyakMsRUFDRCxTQUVKLEtBQU0sQ0FBRSxNQUFBQyxDQUFPLEVBQUdELEVBQ1pFLEVBQWtCLElBQUlsSSxHQUFnQixDQUN4QyxLQUFNaUksRUFBTSxTQUFXLEVBQ3ZDLENBQWEsRUFDRCxNQUFNQyxFQUNOLE1BQU1DLEVBQWtCLENBQ3BCLE9BQVF4akMsRUFBUSxhQUFlLEVBQy9CLFdBQVlxakMsRUFBTyxPQUFTLENBQzVDLEVBRWlCN2MsR0FBQSxNQUFBQSxFQUFZLGtCQUFrQitjLEVBQWdCLE1BQVEsR0FBSUMsRUFDbEUsQ0FDRCxJQUFJNTFCLEVBQUE1TixFQUFRLFNBQVIsTUFBQTROLEVBQWdCLFFBQ2hCLE1BQU0sSUFBSSxNQUFNLFlBQVksQ0FFbkMsQ0FFRCxNQUFNLE1BQU0wUyxFQUFRdGdCLEVBQVN3bUIsRUFBWSxTQUNyQyxNQUFNMVEsRUFBUyxLQUFLLGlCQUFpQjlWLENBQU8sRUFDNUMsR0FBSThWLEVBQU8sT0FBUSxDQUNmLE1BQU00TyxFQUFTLE1BQU0sS0FBSyxzQkFBc0JwRSxFQUFRdGdCLEVBQVN3bUIsQ0FBVSxFQUMzRSxJQUFJaUIsRUFDSixnQkFBaUJQLEtBQVN4QyxFQUNsQitDLElBQWUsT0FDZkEsRUFBYVAsRUFHYk8sRUFBYUEsRUFBVyxPQUFPUCxDQUFLLEVBRzVDLE9BQU9PLEdBQUEsWUFBQUEsRUFBWSxPQUFRLEVBQzlCLEtBQ0ksQ0FDRCxNQUFNL1AsRUFBVyxNQUFNLEtBQUssb0JBQW9CLENBQzVDLEdBQUc1QixFQUNILE9BQVEsR0FDUixTQUFVLEtBQUssZUFBZXdLLENBQU0sQ0FDcEQsRUFBZSxDQUNDLE9BQVF0Z0IsRUFBUSxPQUNoQixHQUFHQSxFQUFRLE9BQzNCLENBQWEsRUFDRCxRQUFPNlIsR0FBQWpFLEVBQUE4SixHQUFBLFlBQUFBLEVBQVUsUUFBUSxLQUFsQixZQUFBOUosRUFBc0IsVUFBdEIsWUFBQWlFLEVBQStCLFVBQVcsRUFDcEQsQ0FDSixDQUNELE1BQU0sb0JBQW9CbWUsRUFBU2h3QixFQUFTLENBQ3hDLE1BQU15akMsRUFBaUIsS0FBSyxrQkFBa0J6akMsQ0FBTyxFQUNyRCxPQUFPLEtBQUssT0FBTyxLQUFLLFNBQVksQ0FDaEMsR0FBSSxDQUVBLE9BRFksTUFBTSxLQUFLLE9BQU8sS0FBSyxZQUFZLE9BQU9nd0IsRUFBU3lULENBQWMsQ0FFaEYsT0FDTXBmLEVBQUcsQ0FFTixNQURjMmUsR0FBc0IzZSxDQUFDLENBRXhDLENBQ2IsQ0FBUyxDQUNKLENBRUQsa0JBQWtCcmtCLEVBQVMsQ0FDdkIsR0FBSSxDQUFDLEtBQUssT0FBUSxDQUNkLE1BQU0wakMsRUFBdUIsQ0FDekIsNkJBQThCLEtBQUssNkJBQ25DLDJCQUE0QixLQUFLLDJCQUNqQyxrQkFBbUIsS0FBSyxrQkFDeEIsb0JBQXFCLEtBQUssb0JBQzFCLFFBQVMsS0FBSyxhQUFhLE9BQzNDLEVBQ2tCaHBCLEVBQVdnaUIsR0FBWWdILENBQW9CLEVBQzNDNXRCLEVBQVMsQ0FDWCxHQUFHLEtBQUssYUFDUixRQUFTNEUsRUFDVCxRQUFTLEtBQUssUUFDZCxXQUFZLENBQzVCLEVBQ2lCNUUsRUFBTyxTQUNSLE9BQU9BLEVBQU8sUUFFbEIsS0FBSyxPQUFTLElBQUk2dEIsR0FBYTd0QixDQUFNLENBQ3hDLENBQ0QsTUFBTTJ0QixFQUFpQixDQUNuQixHQUFHLEtBQUssYUFDUixHQUFHempDLENBQ2YsRUFDUSxPQUFJLEtBQUssb0JBQ0x5akMsRUFBZSxRQUFVLENBQ3JCLFVBQVcsS0FBSyxrQkFDaEIsR0FBR0EsRUFBZSxPQUNsQyxFQUNZQSxFQUFlLE1BQVEsQ0FDbkIsY0FBZSxLQUFLLHNCQUNwQixHQUFHQSxFQUFlLEtBQ2xDLEdBRWVBLENBQ1YsQ0FDRCxVQUFXLENBQ1AsTUFBTyxRQUNWLENBQ0wsQ0MvWU8sTUFBTXpOLFdBQWU0TCxFQUFRLENBQ2hDLE9BQU8sU0FBVSxDQUNiLE1BQU8sUUFDVixDQUNELElBQUksVUFBVyxDQUNYLE1BQU8sQ0FBQyxHQUFHLE1BQU0sU0FBVSxTQUFTLENBQ3ZDLENBQ0QsSUFBSSxZQUFhLENBQ2IsTUFBTyxDQUNILGFBQWMsaUJBQ2Qsa0JBQW1CLHVCQUNuQixhQUFjLHFCQUMxQixDQUNLLENBQ0QsSUFBSSxZQUFhLENBQ2IsTUFBTyxDQUNILFVBQVcsUUFDWCxhQUFjLGlCQUNkLHNCQUF1QiwyQkFDdkIsa0JBQW1CLHVCQUNuQiwyQkFBNEIsaUNBQzVCLDZCQUE4QixrQ0FDMUMsQ0FDSyxDQUNELFlBQVkxMUIsRUFFWmczQixFQUFlLDJCQUNYLEtBQUt0MUIsRUFBQTFCLEdBQUEsWUFBQUEsRUFBUSxZQUFSLE1BQUEwQixFQUFtQixXQUFXLG1CQUMvQmlFLEVBQUEzRixHQUFBLFlBQUFBLEVBQVEsWUFBUixNQUFBMkYsRUFBbUIsV0FBVyxXQUM5QixHQUFDb0QsRUFBQS9JLEdBQUEsWUFBQUEsRUFBUSxZQUFSLE1BQUErSSxFQUFtQixTQUFTLGNBRTdCLE9BQU8sSUFBSWd1QixHQUFXLzJCLEVBQVFnM0IsQ0FBYSxFQThKL0MsR0E1SkEsTUFBTWgzQixHQUFVLENBQUEsQ0FBRSxFQUNsQixPQUFPLGVBQWUsS0FBTSxrQkFBbUIsQ0FDM0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxFQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sY0FBZSxDQUN2QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLEVBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxZQUFhLENBQ3JDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sR0FDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLE9BQVEsQ0FDaEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxDQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sbUJBQW9CLENBQzVDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sQ0FDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLGtCQUFtQixDQUMzQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLENBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxJQUFLLENBQzdCLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sQ0FDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFNBQVUsQ0FDbEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sWUFBYSxDQUNyQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxZQUFhLENBQ3JDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sa0JBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxjQUFlLENBQ3ZDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFlBQWEsQ0FDckMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxFQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sVUFBVyxDQUNuQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxPQUFRLENBQ2hDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLE9BQVEsQ0FDaEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sWUFBYSxDQUNyQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLEVBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxlQUFnQixDQUN4QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSx3QkFBeUIsQ0FDakQsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sb0JBQXFCLENBQzdDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLDZCQUE4QixDQUN0RCxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSwrQkFBZ0MsQ0FDeEQsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sc0JBQXVCLENBQy9DLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLGVBQWdCLENBQ3hDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFNBQVUsQ0FDbEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sZUFBZ0IsQ0FDeEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsS0FBSyxjQUNEQSxHQUFBLFlBQUFBLEVBQVEsZUFBZ0IrSyxHQUF1QixnQkFBZ0IsRUFDbkUsS0FBSyxtQkFDRC9LLEdBQUEsWUFBQUEsRUFBUSxvQkFDSitLLEdBQXVCLHNCQUFzQixFQUNqRCxDQUFDLEtBQUssbUJBQXFCLENBQUMsS0FBSyxhQUNqQyxNQUFNLElBQUksTUFBTSwwQ0FBMEMsRUFrQzlELEdBaENBLEtBQUssNEJBQ0QvSyxHQUFBLFlBQUFBLEVBQVEsNkJBQ0orSyxHQUF1QixnQ0FBZ0MsRUFDL0QsS0FBSywrQkFDQS9LLEdBQUEsWUFBQUEsRUFBUSwyQ0FDTEEsR0FBQSxZQUFBQSxFQUFRLGlDQUNQK0ssR0FBdUIsOENBQThDLEdBQ2xFQSxHQUF1QixrQ0FBa0MsR0FDckUsS0FBSyx1QkFDRC9LLEdBQUEsWUFBQUEsRUFBUSx3QkFDSitLLEdBQXVCLDBCQUEwQixFQUN6RCxLQUFLLHFCQUNEL0ssR0FBQSxZQUFBQSxFQUFRLHNCQUNKK0ssR0FBdUIsd0JBQXdCLEVBQ3ZELEtBQUssZUFDRC9CLEVBQUFoSixHQUFBLFlBQUFBLEVBQVEsZ0JBQVIsWUFBQWdKLEVBQXVCLGVBQ25CK0IsR0FBdUIscUJBQXFCLEVBQ3BELEtBQUssV0FBWS9LLEdBQUEsWUFBQUEsRUFBUSxZQUFhLEtBQUssVUFDM0MsS0FBSyxhQUFjQSxHQUFBLFlBQUFBLEVBQVEsY0FBZSxDQUFBLEVBQzFDLEtBQUssV0FBWUEsR0FBQSxZQUFBQSxFQUFRLFlBQWEsS0FBSyxVQUMzQyxLQUFLLFFBQVVBLEdBQUEsWUFBQUEsRUFBUSxRQUN2QixLQUFLLGFBQWNBLEdBQUEsWUFBQUEsRUFBUSxjQUFlLEtBQUssWUFDL0MsS0FBSyxXQUFZQSxHQUFBLFlBQUFBLEVBQVEsWUFBYSxLQUFLLFVBQzNDLEtBQUssTUFBT0EsR0FBQSxZQUFBQSxFQUFRLE9BQVEsS0FBSyxLQUNqQyxLQUFLLGtCQUFtQkEsR0FBQSxZQUFBQSxFQUFRLG1CQUFvQixLQUFLLGlCQUN6RCxLQUFLLGlCQUFrQkEsR0FBQSxZQUFBQSxFQUFRLGtCQUFtQixLQUFLLGdCQUN2RCxLQUFLLEdBQUlBLEdBQUEsWUFBQUEsRUFBUSxJQUFLLEtBQUssRUFDM0IsS0FBSyxRQUFTQSxHQUFBLFlBQUFBLEVBQVEsU0FBVSxLQUFLLE9BQ3JDLEtBQUssVUFBWUEsR0FBQSxZQUFBQSxFQUFRLFVBQ3pCLEtBQUssS0FBT0EsR0FBQSxZQUFBQSxFQUFRLEtBQ3BCLEtBQUssS0FBT0EsR0FBQSxZQUFBQSxFQUFRLEtBQ3BCLEtBQUssV0FBWUEsR0FBQSxZQUFBQSxFQUFRLFlBQWEsR0FDbEMsS0FBSyxXQUFhLEtBQUssUUFBVSxLQUFLLE9BQVMsRUFDL0MsTUFBTSxJQUFJLE1BQU0sdUNBQXVDLEVBRTNELEdBQUksS0FBSyxrQkFBbUIsQ0FDeEIsR0FBSSxDQUFDLEtBQUssNEJBQThCLENBQUMsS0FBSyxvQkFDMUMsTUFBTSxJQUFJLE1BQU0sMENBQTBDLEVBRTlELEdBQUksQ0FBQyxLQUFLLDZCQUNOLE1BQU0sSUFBSSxNQUFNLDRDQUE0QyxFQUVoRSxHQUFJLENBQUMsS0FBSyxzQkFDTixNQUFNLElBQUksTUFBTSxvQ0FBb0MsRUFFeEQsS0FBSyxhQUFlLEtBQUssY0FBZ0IsRUFDNUMsQ0FDRCxLQUFLLGFBQWUsQ0FDaEIsT0FBUSxLQUFLLGFBQ2IsYUFBYyxLQUFLLGFBQ25CLFNBQVNnM0IsR0FBQSxZQUFBQSxFQUFlLGFBQVl6VCxFQUFBdmpCLEdBQUEsWUFBQUEsRUFBUSxnQkFBUixZQUFBdWpCLEVBQXVCLFVBQzNELHdCQUF5QixHQUN6QixpQkFBZ0JDLEVBQUF3VCxHQUFBLFlBQUFBLEVBQWUsY0FBZixZQUFBeFQsRUFBNEIsWUFDeEN5VCxHQUFBQyxFQUFBbDNCLEdBQUEsWUFBQUEsRUFBUSxnQkFBUixZQUFBazNCLEVBQXVCLGNBQXZCLFlBQUFELEVBQW9DLFNBQ3hDLGVBQWNTLEVBQUFWLEdBQUEsWUFBQUEsRUFBZSxjQUFmLFlBQUFVLEVBQTRCLFdBQ3RDN1EsR0FBQThRLEVBQUEzM0IsR0FBQSxZQUFBQSxFQUFRLGdCQUFSLFlBQUEyM0IsRUFBdUIsY0FBdkIsWUFBQTlRLEVBQW9DLFFBQ3hDLEdBQUdtUSxFQUNILEdBQUdoM0IsR0FBQSxZQUFBQSxFQUFRLGFBQ3ZCLENBQ0ssQ0FJRCxpQkFBaUJsTSxFQUFTLENBQ3RCLE1BQU8sQ0FDSCxNQUFPLEtBQUssVUFDWixZQUFhLEtBQUssWUFDbEIsV0FBWSxLQUFLLFVBQ2pCLE1BQU8sS0FBSyxLQUNaLGtCQUFtQixLQUFLLGlCQUN4QixpQkFBa0IsS0FBSyxnQkFDdkIsRUFBRyxLQUFLLEVBQ1IsUUFBUyxLQUFLLE9BQ2QsV0FBWSxLQUFLLFVBQ2pCLE1BQU1BLEdBQUEsWUFBQUEsRUFBUyxPQUFRLEtBQUssS0FDNUIsS0FBTSxLQUFLLEtBQ1gsT0FBUSxLQUFLLFVBQ2IsR0FBRyxLQUFLLFdBQ3BCLENBQ0ssQ0FFRCxvQkFBcUIsQ0FDakIsTUFBTyxDQUNILFdBQVksS0FBSyxVQUNqQixHQUFHLEtBQUssaUJBQWtCLEVBQzFCLEdBQUcsS0FBSyxZQUNwQixDQUNLLENBSUQsbUJBQW9CLENBQ2hCLE9BQU8sS0FBSyxvQkFDZixDQWlCRCxNQUFNLFVBQVV5UCxFQUFTelAsRUFBU3dtQixFQUFZLENBQzFDLE1BQU1zZCxFQUFhL0csR0FBV3R0QixFQUFTLEtBQUssU0FBUyxFQUMvQ3MwQixFQUFVLENBQUEsRUFDVkMsRUFBYSxDQUFBLEVBQ2JsdUIsRUFBUyxLQUFLLGlCQUFpQjlWLENBQU8sRUFDNUMsR0FBSThWLEVBQU8sYUFBZSxHQUFJLENBQzFCLEdBQUlyRyxFQUFRLFNBQVcsRUFDbkIsTUFBTSxJQUFJLE1BQU0sd0RBQXdELEVBRTVFcUcsRUFBTyxXQUFhLE1BQU1vbEIsR0FBbUIsQ0FDekMsT0FBUXpyQixFQUFRLENBQUMsRUFFakIsVUFBVyxLQUFLLFNBQ2hDLENBQWEsQ0FDSixDQUNELFFBQVNyUixFQUFJLEVBQUdBLEVBQUkwbEMsRUFBVyxPQUFRMWxDLEdBQUssRUFBRyxDQUMzQyxNQUFNc0IsRUFBT29XLEVBQU8sT0FDZCxNQUFPLFNBQVksT0FDakIsTUFBTWl1QixFQUFVLENBQUEsRUFDaEIsSUFBSXJzQixFQUNKLE1BQU1nTixFQUFTLE1BQU0sS0FBSyxvQkFBb0IsQ0FDMUMsR0FBRzVPLEVBQ0gsT0FBUSxHQUNSLE9BQVFndUIsRUFBVzFsQyxDQUFDLENBQ3ZCLEVBQUU0QixDQUFPLEVBQ1YsZ0JBQWlCNkgsS0FBVzZjLEVBQVEsQ0FFM0JoTixJQUNEQSxFQUFXLENBQ1AsR0FBSTdQLEVBQVEsR0FDWixPQUFRQSxFQUFRLE9BQ2hCLFFBQVNBLEVBQVEsUUFDakIsTUFBT0EsRUFBUSxLQUMvQyxHQUd3QixVQUFXZ0YsS0FBUWhGLEVBQVEsUUFBUyxDQUNoQyxHQUFJLENBQUNrOEIsRUFBUWwzQixFQUFLLEtBQUssRUFDbkJrM0IsRUFBUWwzQixFQUFLLEtBQUssRUFBSUEsTUFFckIsQ0FDRCxNQUFNdzJCLEVBQVNVLEVBQVFsM0IsRUFBSyxLQUFLLEVBQ2pDdzJCLEVBQU8sTUFBUXgyQixFQUFLLEtBQ3BCdzJCLEVBQU8sY0FBZ0J4MkIsRUFBSyxjQUM1QncyQixFQUFPLFNBQVd4MkIsRUFBSyxRQUMxQixDQUNJMlosR0FBQSxNQUFBQSxFQUFZLGtCQUFrQjNaLEVBQUssS0FBTSxDQUMxQyxPQUFRLEtBQUssTUFBTUEsRUFBSyxNQUFRLEtBQUssQ0FBQyxFQUN0QyxXQUFZQSxFQUFLLE1BQVEsS0FBSyxDQUM5RCxFQUN5QixDQUNKLENBQ0QsSUFBSWUsRUFBQTVOLEVBQVEsU0FBUixNQUFBNE4sRUFBZ0IsUUFDaEIsTUFBTSxJQUFJLE1BQU0sWUFBWSxFQUVoQyxNQUFPLENBQUUsR0FBRzhKLEVBQVUsUUFBQXFzQixFQUMxQyxHQUFvQixFQUNGLE1BQU0sS0FBSyxvQkFBb0IsQ0FDN0IsR0FBR2p1QixFQUNILE9BQVEsR0FDUixPQUFRZ3VCLEVBQVcxbEMsQ0FBQyxDQUN4QyxFQUFtQixDQUNDLE9BQVE0QixFQUFRLE9BQ2hCLEdBQUdBLEVBQVEsT0FDL0IsQ0FBaUIsRUFDTCtqQyxFQUFRLEtBQUssR0FBR3JrQyxFQUFLLE9BQU8sRUFDNUIsS0FBTSxDQUFFLGtCQUFtQnVrQyxFQUFrQixjQUFlQyxFQUFjLGFBQWNDLEdBQWlCemtDLEVBQUssTUFDeEdBLEVBQUssTUFDTCxDQUNFLGtCQUFtQixPQUNuQixjQUFlLE9BQ2YsYUFBYyxNQUNsQyxFQUNnQnVrQyxJQUNBRCxFQUFXLGtCQUNOQSxFQUFXLGtCQUFvQixHQUFLQyxHQUV6Q0MsSUFDQUYsRUFBVyxjQUFnQkEsRUFBVyxjQUFnQixHQUFLRSxHQUUzREMsSUFDQUgsRUFBVyxhQUFlQSxFQUFXLGFBQWUsR0FBS0csRUFFaEUsQ0FRRCxNQUFPLENBQ0gsWUFSZ0JwSCxHQUFXZ0gsRUFBUyxLQUFLLENBQUMsRUFBRSxJQUFLSyxHQUFrQkEsRUFBYyxJQUFLZixJQUFZLENBQ2xHLEtBQU1BLEVBQU8sTUFBUSxHQUNyQixlQUFnQixDQUNaLGFBQWNBLEVBQU8sY0FDckIsU0FBVUEsRUFBTyxRQUNwQixDQUNKLEVBQUMsQ0FBQyxFQUdDLFVBQVcsQ0FBRSxXQUFBVyxDQUFZLENBQ3JDLENBQ0ssQ0FFRCxNQUFPLHNCQUFzQnhqQyxFQUFPUixFQUFTd21CLEVBQVksT0FDckQsTUFBTTFRLEVBQVMsQ0FDWCxHQUFHLEtBQUssaUJBQWlCOVYsQ0FBTyxFQUNoQyxPQUFRUSxFQUNSLE9BQVEsRUFDcEIsRUFDY2trQixFQUFTLE1BQU0sS0FBSyxvQkFBb0I1TyxFQUFROVYsQ0FBTyxFQUM3RCxnQkFBaUJOLEtBQVFnbEIsRUFBUSxDQUM3QixNQUFNMmUsRUFBUzNqQyxHQUFBLFlBQUFBLEVBQU0sUUFBUSxHQUM3QixHQUFJLENBQUMyakMsRUFDRCxTQUVKLE1BQU1uYyxFQUFRLElBQUltVSxHQUFnQixDQUM5QixLQUFNZ0ksRUFBTyxLQUNiLGVBQWdCLENBQ1osYUFBY0EsRUFBTyxhQUN4QixDQUNqQixDQUFhLEVBQ0QsTUFBTW5jLEVBRURWLEdBQUEsTUFBQUEsRUFBWSxrQkFBa0JVLEVBQU0sTUFBUSxHQUNwRCxDQUNELElBQUl0WixFQUFBNU4sRUFBUSxTQUFSLE1BQUE0TixFQUFnQixRQUNoQixNQUFNLElBQUksTUFBTSxZQUFZLENBRW5DLENBQ0QsTUFBTSxvQkFBb0JvaUIsRUFBU2h3QixFQUFTLENBQ3hDLE1BQU15akMsRUFBaUIsS0FBSyxrQkFBa0J6akMsQ0FBTyxFQUNyRCxPQUFPLEtBQUssT0FBTyxLQUFLLFNBQVksQ0FDaEMsR0FBSSxDQUVBLE9BRFksTUFBTSxLQUFLLE9BQU8sWUFBWSxPQUFPZ3dCLEVBQVN5VCxDQUFjLENBRTNFLE9BQ01wZixFQUFHLENBRU4sTUFEYzJlLEdBQXNCM2UsQ0FBQyxDQUV4QyxDQUNiLENBQVMsQ0FDSixDQU9ELGtCQUFrQnJrQixFQUFTLENBQ3ZCLEdBQUksQ0FBQyxLQUFLLE9BQVEsQ0FDZCxNQUFNMGpDLEVBQXVCLENBQ3pCLDZCQUE4QixLQUFLLDZCQUNuQywyQkFBNEIsS0FBSywyQkFDakMsa0JBQW1CLEtBQUssa0JBQ3hCLG9CQUFxQixLQUFLLG9CQUMxQixRQUFTLEtBQUssYUFBYSxPQUMzQyxFQUNrQmhwQixFQUFXZ2lCLEdBQVlnSCxDQUFvQixFQUMzQzV0QixFQUFTLENBQ1gsR0FBRyxLQUFLLGFBQ1IsUUFBUzRFLEVBQ1QsUUFBUyxLQUFLLFFBQ2QsV0FBWSxDQUM1QixFQUNpQjVFLEVBQU8sU0FDUixPQUFPQSxFQUFPLFFBRWxCLEtBQUssT0FBUyxJQUFJNnRCLEdBQWE3dEIsQ0FBTSxDQUN4QyxDQUNELE1BQU0ydEIsRUFBaUIsQ0FDbkIsR0FBRyxLQUFLLGFBQ1IsR0FBR3pqQyxDQUNmLEVBQ1EsT0FBSSxLQUFLLG9CQUNMeWpDLEVBQWUsUUFBVSxDQUNyQixVQUFXLEtBQUssa0JBQ2hCLEdBQUdBLEVBQWUsT0FDbEMsRUFDWUEsRUFBZSxNQUFRLENBQ25CLGNBQWUsS0FBSyxzQkFDcEIsR0FBR0EsRUFBZSxLQUNsQyxHQUVlQSxDQUNWLENBQ0QsVUFBVyxDQUNQLE1BQU8sUUFDVixDQUNMLDZIQzdmTyxNQUFNWSxFQUFTLENBQ2xCLFlBQVluNEIsRUFBUSxDQUNoQixPQUFPLGVBQWUsS0FBTSxjQUFlLENBQ3ZDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFdBQVksQ0FDcEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsS0FBSyxZQUFjQSxFQUFPLFlBQ3BCQSxFQUFPLFlBQVksU0FBVSxFQUM3QixLQUFLLFlBQ1gsS0FBSyxTQUFXQSxFQUFPLFVBQVksQ0FBQSxDQUN0QyxDQUNMLENDZE8sTUFBTXl4QixXQUE4QkMsRUFBeUIsQ0FDaEUsWUFBWXA5QixFQUFPLENBeURmLEdBeERBLE1BQU1BLENBQUssRUFDWCxPQUFPLGVBQWUsS0FBTSxrQkFBbUIsQ0FDM0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxFQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sV0FBWSxDQUNwQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxrQkFBbUIsQ0FDM0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sZ0JBQWlCLENBQ3pDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFNBQVUsQ0FDbEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxFQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sbUJBQW9CLENBQzVDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU87QUFBQTtBQUFBLENBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxTQUFVLENBQ2xDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sRUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLGlCQUFrQixDQUMxQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLFVBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxtQkFBb0IsQ0FDNUMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxFQUNuQixDQUFTLEVBQ0QsT0FBTyxPQUFPLEtBQU1BLENBQUssRUFDckIsS0FBSyxXQUFhLFFBQWEsS0FBSyxrQkFBb0IsT0FDeEQsTUFBTSxJQUFJLE1BQU0sa0VBQWtFLEVBRXRGLEdBQUksS0FBSyxXQUFhLFFBQWEsS0FBSyxrQkFBb0IsT0FDeEQsTUFBTSxJQUFJLE1BQU0sNkRBQTZELEVBRWpGLEdBQUksS0FBSyxpQkFBa0IsQ0FDdkIsSUFBSXUrQixFQUFzQixLQUFLLGVBQzNCLEtBQUssbUJBQ0xBLEVBQXNCQSxFQUFvQixPQUFPLE9BQU8sS0FBSyxLQUFLLGdCQUFnQixDQUFDLEdBRXZGSixHQUFtQixLQUFLLE9BQVMsS0FBSyxPQUFRLEtBQUssZUFBZ0JJLENBQW1CLENBQ3pGLENBQ0osQ0FDRCxnQkFBaUIsQ0FDYixNQUFPLFVBQ1YsQ0FDRCxNQUFNLFlBQVl6QixFQUFnQixDQUM5QixHQUFJLEtBQUssV0FBYSxPQUNsQixPQUFPLEtBQUssU0FFaEIsR0FBSSxLQUFLLGtCQUFvQixPQUN6QixPQUFPLEtBQUssZ0JBQWdCLGVBQWVBLENBQWMsRUFFN0QsTUFBTSxJQUFJLE1BQU0sNkRBQTZELENBQ2hGLENBQ0QsTUFBTSxRQUFRTyxFQUFRLENBQ2xCLE1BQU1zQixFQUFvQixLQUFLLGVBQWUsT0FBUUMsR0FBTyxFQUFFQSxLQUFNdkIsRUFBTyxFQUN0RXdCLEVBQXNCLENBQ3hCLEdBQUksS0FBSyxrQkFBb0IsR0FDN0IsR0FBR3hCLENBQ2YsRUFDY3lCLEVBQWEsQ0FDZixHQUFHLEtBQ0gsZUFBZ0JILEVBQ2hCLGlCQUFrQkUsQ0FDOUIsRUFDUSxPQUFPLElBQUkxQixHQUFzQjJCLENBQVUsQ0FDOUMsQ0FNRCxNQUFNLE9BQU96QixFQUFRLENBQ2pCLE1BQU1tQixFQUFZLE1BQU0sS0FBSyw2QkFBNkJuQixDQUFNLEVBQzFEemhCLEVBQVcsTUFBTSxLQUFLLFlBQVk0aUIsQ0FBUyxFQUMzQ3NGLEVBQWlCLE1BQU0sUUFBUSxJQUFJbG9CLEVBQVMsSUFBS21vQixHQUFZLEtBQUssY0FBYyxPQUFPQSxDQUFPLENBQUMsQ0FBQyxFQUNoR3ZHLEVBQVcsQ0FBQyxLQUFLLE9BQVEsR0FBR3NHLEVBQWdCLEtBQUssTUFBTSxFQUFFLEtBQUssS0FBSyxnQkFBZ0IsRUFDekYsT0FBTy9GLEdBQWVQLEVBQVUsS0FBSyxlQUFnQmdCLENBQVMsQ0FDakUsQ0FDRCxXQUFZLENBQ1IsR0FBSSxLQUFLLGlCQUFtQixDQUFDLEtBQUssU0FDOUIsTUFBTSxJQUFJLE1BQU0sNERBQTRELEVBRWhGLEdBQUksS0FBSyxlQUFpQixPQUN0QixNQUFNLElBQUksTUFBTSx5REFBeUQsRUFFN0UsTUFBTyxDQUNILE1BQU8sS0FBSyxlQUFnQixFQUM1QixnQkFBaUIsS0FBSyxlQUN0QixlQUFnQixLQUFLLGNBQWMsVUFBVyxFQUM5QyxrQkFBbUIsS0FBSyxpQkFDeEIsT0FBUSxLQUFLLE9BQ2IsT0FBUSxLQUFLLE9BQ2IsZ0JBQWlCLEtBQUssZUFDdEIsU0FBVSxLQUFLLFFBQzNCLENBQ0ssQ0FDRCxhQUFhLFlBQVl0L0IsRUFBTSxDQUMzQixLQUFNLENBQUUsZUFBQThrQyxDQUFnQixFQUFHOWtDLEVBQzNCLEdBQUksQ0FBQzhrQyxFQUNELE1BQU0sSUFBSSxNQUFNLHdCQUF3QixFQUU1QyxNQUFNQyxFQUFnQixNQUFNL0csR0FBZSxZQUFZOEcsQ0FBYyxFQUNyRSxJQUFJcG9CLEVBQ0osR0FBSSxNQUFNLFFBQVExYyxFQUFLLFFBQVEsRUFDM0IwYyxFQUFXMWMsRUFBSyxhQUdoQixPQUFNLElBQUksTUFBTSw2REFBNkQsRUFFakYsT0FBTyxJQUFJaStCLEdBQXNCLENBQzdCLGVBQWdCaitCLEVBQUssZ0JBQ3JCLGNBQUEra0MsRUFDQSxTQUFBcm9CLEVBQ0EsaUJBQWtCMWMsRUFBSyxrQkFDdkIsT0FBUUEsRUFBSyxPQUNiLE9BQVFBLEVBQUssT0FDYixlQUFnQkEsRUFBSyxlQUNqQyxDQUFTLENBQ0osQ0FDTCw4SEM5SmFnbEMsR0FBVyxDQUNwQixPQUFRLEtBQ1IsU0FBVSxLQUNWLFVBQVcsS0FDWCxPQUFRLEtBQ1IsTUFBTyxLQUNQLFFBQVMsS0FDVCxRQUFTLEtBQ1QsT0FBUSxLQUNSLE9BQVEsS0FDUixNQUFPLEtBQ1AsVUFBVyxLQUNYLE9BQVEsS0FDUixXQUFZLEtBQ1osTUFBTyxLQUNQLFFBQVMsS0FDVCxXQUFZLEtBQ1osT0FBUSxLQUNSLFVBQVcsS0FDWCxXQUFZLEtBQ1osU0FBVSxLQUNWLFFBQVMsS0FDVCxRQUFTLEtBQ1QsVUFBVyxLQUNYLFFBQVMsS0FDVCxRQUFTLEtBQ1QsTUFBTyxLQUNQLFFBQVMsS0FDVCxVQUFXLEtBQ1gsU0FBVSxJQUNkLEVBQ2FDLEdBQVksQ0FDckIsTUFBTyw2QkFDUCxRQUFTLDZCQUNULE9BQVEsaUNBQ1IsUUFBUyw2QkFDVCxVQUFXLDZCQUNYLFdBQVkscUJBQ1osUUFBUyx3QkFDVCxRQUFTLDZCQUNULFFBQVMsMEJBQ1QsT0FBUSwwQkFDUixRQUFTLG9CQUNULE9BQVEsc0JBQ1IsVUFBVyxrQ0FDWCxTQUFVLDBCQUNWLFFBQVMsMEJBQ1QsUUFBUyw0QkFDVCxXQUFZLGtDQUNaLE9BQVEsbUJBQ1IsT0FBUSxtQkFDUixNQUFPLDBCQUNQLE9BQVEsbUJBQ1IsU0FBVSxtQkFDVixNQUFPLHNCQUNQLFdBQVksZ0JBQ1osVUFBVyw0QkFDWCxVQUFXLHNCQUNYLFVBQVcsc0JBQ1gsTUFBTyxtQkFDUCxTQUFVLG9DQUNkLEVBQ2FDLEdBQXNCLE9BQU8sS0FBS0YsRUFBUSxFQzdEakRHLEdBQVMsS0FBSyxJQUFLLEVBQUMsU0FBUSxFQUFHLE1BQU0sQ0FBQyxFQUM1QyxJQUFJQyxHQUFTLEVBRWIsTUFBTUMsR0FBTyxPQUFPLEdBQUcsRUFDakJDLEdBQVEsT0FBTyxHQUFHLEVBQ2xCQyxHQUFTLE9BQU8sR0FBRyxFQU1SQyxHQUF5QixNQVMvQixTQUFTQyxHQUFjeDdCLEVBQUt5N0IsRUFBUSxDQUMzQyxHQUFJQSxFQUFPLE9BQVNGLEdBQ2hCLE1BQU0sVUFBVSxLQUFLLE1BQU12N0IsRUFBS3k3QixDQUFNLE1BRXRDLFNBQVFobkMsRUFBSSxFQUFHQSxFQUFJZ25DLEVBQU8sT0FBUWhuQyxHQUFLOG1DLEdBQ25DLE1BQU0sVUFBVSxLQUFLLE1BQU12N0IsRUFBS3k3QixFQUFPLE1BQU1obkMsRUFBR0EsRUFBSThtQyxFQUFzQixDQUFDLENBR3ZGLENBQ08sU0FBU0csR0FBUXJILEtBQWF4MUIsRUFBTSxDQUN2QyxPQUFPdzFCLEVBQVMsUUFBUSwrREFBZ0UsWUFBWXNILEVBQWEsQ0FDN0csTUFBTUMsRUFBU0QsRUFBWUEsRUFBWSxPQUFTLENBQUMsRUFDM0MsQ0FBRSxNQUFPRSxFQUFXLEtBQUEzL0IsRUFBTyxTQUFBNC9CLENBQVEsRUFBTUYsRUFDekNHLEVBQWNELEVBQVdqOUIsRUFBSyxPQUFPLFNBQVNpOUIsQ0FBUSxFQUFJLENBQUMsRUFBSWo5QixFQUFLLE1BQUssRUFDekVtOUIsRUFBUUgsSUFBYSxHQUFLLEVBQUksT0FBTyxTQUFTQSxDQUFRLEVBQzVELE9BQU8zL0IsRUFBSSxDQUNQLElBQUssSUFDRCxPQUFPNi9CLEVBQVksU0FBVSxFQUFDLFNBQVNDLEVBQU8sR0FBRyxFQUNyRCxJQUFLLElBQ0QsQ0FDSSxJQUFJdmxDLEVBQVFzbEMsRUFDWixLQUFNLENBQUNFLEVBQVNDLENBQVMsRUFBSUwsRUFBUyxNQUFNLEdBQUcsRUFBRSxJQUFLN0YsR0FBSSxPQUFPLFdBQVdBLENBQUMsQ0FBQyxFQUM5RSxPQUFJLE9BQU9rRyxHQUFjLFVBQVlBLEdBQWEsSUFDOUN6bEMsRUFBUUEsRUFBTSxRQUFReWxDLENBQVMsR0FFNUIsT0FBT0QsR0FBWSxVQUFZQSxHQUFXLEVBQUl4bEMsRUFBTSxXQUFXLFNBQVN1bEMsRUFBTyxHQUFHLEVBQUl2bEMsRUFBTSxTQUFRLENBQzlHLENBQ0wsSUFBSyxJQUNELE9BQU91bEMsRUFBUSxFQUFJRCxFQUFZLFNBQVUsRUFBQyxPQUFPLENBQUNDLEVBQU8sR0FBRyxFQUFJRCxFQUFZLFNBQVEsRUFBRyxTQUFTQyxFQUFPLEdBQUcsRUFDOUcsUUFDSSxPQUFPRCxDQUNkLENBQ1QsQ0FBSyxDQUNMLENBb0JPLGVBQWVJLEdBQWtCMWxDLEVBQU8sQ0FJM0MsT0FISSxPQUFPQSxHQUFVLFdBQ2pCQSxFQUFRLE9BQU9BLENBQUssR0FFcEJBLEVBQVEya0MsR0FDRCxHQUFHM2tDLENBQUssS0FDUkEsRUFBUTRrQyxHQUNSLEdBQUc1a0MsRUFBUTJrQyxFQUFJLEtBQ2Yza0MsRUFBUTZrQyxHQUNSLEdBQUc3a0MsRUFBUTRrQyxFQUFLLEtBRXBCLEdBQUc1a0MsRUFBUTZrQyxFQUFNLEdBQzVCLENBQ08sZUFBZWMsSUFBcUIsQ0FDdkMsT0FBSSxPQUFPLFFBQVksS0FBZSxRQUFRLFNBQVcsT0FDOUMsUUFBUSxPQUFPLFNBR2YsT0FEUCxPQUFPLFlBQWdCLElBQ1QsS0FBSyxNQUFNLFlBQVksSUFBSyxFQUFHLEdBQUcsRUFHdEMsQ0FIdUMsQ0FJekQsQ0FDTyxlQUFlQyxJQUFXLENBQzdCLE1BQU8sR0FBR25CLEVBQU0sSUFBSUMsSUFBUSxFQUNoQyxDQUNPLFNBQVNtQixHQUFlQyxFQUFRQyxFQUFVLENBRTdDLE9BQUksT0FBTyxTQUFXLE9BQ1gsT0FBTyxVQUFVLGVBQWUsS0FBS0QsRUFBUUMsQ0FBUSxFQUFJRCxFQUFPQyxDQUFRLEVBQUksT0FFaEYsT0FBTyxPQUFPRCxFQUFRQyxDQUFRLEVBQUlELEVBQU9DLENBQVEsRUFBSSxNQUNoRSxDQWlDTyxTQUFTQyxHQUFVQyxFQUFRLENBQzlCLEdBQUlBLEVBQU8sU0FBVyxFQUNsQixNQUFPLEdBQ0osR0FBSUEsRUFBTyxTQUFXLEVBQ3pCLE9BQU9BLEVBQU8sQ0FBQyxFQUVuQixRQUFRam9DLEVBQUksRUFBR0EsRUFBSWlvQyxFQUFPLE9BQVFqb0MsSUFDOUIsR0FBSWlvQyxFQUFPam9DLENBQUMsRUFBRSxPQUFTaW9DLEVBQU8sQ0FBQyxFQUFFLE9BQVEsQ0FDckMsTUFBTWxPLEVBQU1rTyxFQUFPLENBQUMsRUFDcEJBLEVBQU8sQ0FBQyxFQUFJQSxFQUFPam9DLENBQUMsRUFDcEJpb0MsRUFBT2pvQyxDQUFDLEVBQUkrNUIsQ0FDZixDQUVMLE1BQU12eEIsRUFBTSxJQUFJLElBQ2hCLFVBQVdzMkIsS0FBUW1KLEVBQU8sQ0FBQyxFQUN2QnovQixFQUFJLElBQUlzMkIsRUFBTSxDQUFDLEVBRW5CLFFBQVE5K0IsRUFBSSxFQUFHQSxFQUFJaW9DLEVBQU8sT0FBUWpvQyxJQUFJLENBQ2xDLElBQUlrb0MsRUFBUSxFQUNaLFVBQVdwSixLQUFRbUosRUFBT2pvQyxDQUFDLEVBQUUsQ0FDekIsTUFBTTBKLEVBQVFsQixFQUFJLElBQUlzMkIsQ0FBSSxFQUN0QnAxQixJQUFVMUosSUFDVndJLEVBQUksSUFBSXMyQixFQUFNcDFCLEVBQVEsQ0FBQyxFQUN2QncrQixJQUVQLENBQ0QsR0FBSUEsSUFBVSxFQUFHLE1BQU8sRUFDM0IsQ0FDRCxPQUFPRCxFQUFPLENBQUMsRUFBRSxPQUFRaGlCLEdBQUksQ0FDekIsTUFBTXZjLEVBQVFsQixFQUFJLElBQUl5ZCxDQUFDLEVBQ3ZCLE9BQUl2YyxJQUFVLFFBQVdsQixFQUFJLElBQUl5ZCxFQUFHLENBQUMsRUFDOUJ2YyxJQUFVdStCLEVBQU8sTUFDaEMsQ0FBSyxDQUNMLENBQ08sZUFBZUUsR0FBc0JDLEVBQUtDLEVBQU8sQ0FDcEQsTUFBTUMsRUFBYSxDQUFBLEVBQ2JDLEVBQWNGLEVBQU0sT0FDMUIsUUFBUSxFQUFJLEVBQUcsRUFBSUUsRUFBYSxJQUFJLENBQ2hDLE1BQU1yZ0MsRUFBT21nQyxFQUFNLENBQUMsRUFDZEcsRUFBYXRnQyxFQUFLLE1BQU0sR0FBRyxFQUNqQyxJQUFJc0csRUFBVTQ1QixFQUNkLE1BQU1LLEVBQW1CRCxFQUFXLE9BQ3BDLFFBQVF2ekIsRUFBSSxFQUFHQSxFQUFJd3pCLEVBQWtCeHpCLElBR2pDLEdBRkF6RyxFQUFVQSxFQUFRZzZCLEVBQVd2ekIsQ0FBQyxDQUFDLEVBRTNCLE9BQU96RyxHQUFZLFVBQ25CLEdBQUlBLElBQVksTUFBUSxRQUFTQSxHQUFXLFFBQVNBLEdBQVcsT0FBT0EsRUFBUSxLQUFRLFVBQVksT0FBT0EsRUFBUSxLQUFRLFNBQVUsQ0FDaElBLEVBQVU4NUIsRUFBV3BnQyxDQUFJLEVBQUlzRyxFQUM3QixLQUNwQixTQUEyQixDQUFDLE1BQU0sUUFBUUEsQ0FBTyxHQUFLQSxJQUFZLE1BQVF5RyxJQUFNd3pCLEVBQW1CLEVBQUcsQ0FDbEZqNkIsRUFBVSxPQUNWLEtBQ0gsV0FDT0EsSUFBWSxNQUFRLE9BQU9BLEdBQVksV0FBYXlHLEVBQUl3ekIsRUFBbUIsRUFBRyxDQUV0Rmo2QixFQUFVLE9BQ1YsS0FDSCxDQUVELE9BQU9BLEVBQVksTUFDbkI4NUIsRUFBV3BnQyxDQUFJLEVBQUlzRyxFQUUxQixDQUNELE9BQU84NUIsQ0FDWCxDQW9CQSxNQUFNSSxHQUFzQixDQUN4QixHQUFJLElBQ0osRUFBRyxFQUNILEdBQUksSUFDSixHQUFJLE1BQ0osR0FBSSxNQUNKLEdBQUksUUFDUixFQUNPLFNBQVNDLEdBQXdCQyxFQUFVQyxFQUFNLENBQ3BELE1BQU1DLEVBQVFKLEdBQW9CRyxDQUFJLEVBQ3RDLEdBQUlDLElBQVUsT0FDVixNQUFNLElBQUksTUFBTUMsR0FBWSwwQkFBMkJILENBQVEsRUFBRSxPQUFPLEVBRTVFLE9BQU9BLEVBQVdFLENBQ3RCLENDM09BLE1BQU1FLEdBQWV4QyxHQUFvQixLQUFLO0FBQUEsSUFBTyxFQUMvQ3lDLEdBQVMsQ0FDWCxrQ0FBbUMsMkVBQ25DLHVCQUF3QjtBQUFBO0FBQUEsS0FBaUVELEVBQVksR0FDckcsOEJBQStCLDhDQUMvQixnQkFBaUIsbVJBQ2pCLDRDQUE2QyxxREFDN0Msc0JBQXVCLDhCQUN2QiwyQkFBNEIseUNBQzVCLDhDQUErQyxrRUFDL0Msb0JBQXFCLG1HQUNyQiwyQkFBNEIsMERBQzVCLHdCQUF5QiwwQ0FDekIsd0JBQXlCLDJDQUN6QiwwQkFBMkIsb0NBQzNCLDBCQUEyQiwwREFDM0IsY0FBZSx1SEFDZixvQkFBcUIsNkRBQ3JCLHlCQUEwQiwrREFDMUIsMEJBQTJCLHlFQUMzQix5QkFBMEIsNEVBQzFCLHFCQUFzQiw4REFDdEIsZ0NBQWlDLDJEQUNqQyxjQUFlLG9HQUNmLDBCQUEyQixpQ0FDM0IsMEJBQTJCLHNFQUMzQix3QkFBeUIsZ0NBQ3pCLG9CQUFxQixpRUFDckIscUJBQXNCLGtFQUN0QixxQkFBc0I7QUFBQSx3SkFDdEIsMkJBQTRCLDRFQUM1QixvQkFBcUIsdUNBQ3JCLHdCQUF5QiwwRUFDN0IsRUFDTyxTQUFTRCxHQUFZbjVCLEtBQVN4RixFQUFNLENBQ3ZDLE1BQU1aLEVBQVEsSUFBSSxNQUFNeTlCLEdBQVFnQyxHQUFPcjVCLENBQUksR0FBSyxpQ0FBaUNBLENBQUksR0FBSSxHQUFHeEYsQ0FBSSxDQUFDLEVBQ2pHLE9BQUFaLEVBQU0sS0FBT29HLEVBQ1Qsc0JBQXVCLE1BQU0sV0FDN0IsTUFBTSxrQkFBa0JwRyxDQUFLLEVBRTFCQSxDQUNYLENDeENPLGVBQWUwL0IsR0FBa0Joa0MsRUFBRyxDQUN2QyxNQUFPLENBQ0gsSUFBSyxPQUFPQSxDQUFDLEVBQ2IsVUFBVyxNQUFNd2lDLEdBQWtCeGlDLENBQUMsQ0FDNUMsQ0FDQSxDQUNPLGVBQWVpa0MsR0FBbUJmLEVBQUssQ0FDMUMsR0FBSUEsRUFBSSxHQUFJLENBQ1IsR0FBSSxPQUFPQSxFQUFJLElBQU8sU0FDbEIsTUFBTVcsR0FBWSw2QkFBOEIsT0FBT1gsRUFBSSxFQUFFLEVBRWpFLE9BQU9BLEVBQUksRUFDZCxDQUNELE9BQU8sTUFBTVIsR0FBUSxDQUN6QixDQUNPLGVBQWV3QixHQUFlaEIsRUFBS2lCLEVBQVEsQ0FDOUMsU0FBVyxDQUFDaGEsRUFBTTVuQixDQUFJLElBQUssT0FBTyxRQUFRNGhDLENBQU0sRUFBRSxDQUM5QyxNQUFNcm5DLEVBQVFvbUMsRUFBSS9ZLENBQUksRUFDdEIsR0FBSSxTQUFPcnRCLEVBQVUsTUFHakIsRUFBQXlGLElBQVMsWUFBYyxPQUFPekYsR0FBVSxVQUFZLE9BQU9BLEVBQU0sS0FBUSxVQUFZLE9BQU9BLEVBQU0sS0FBUSxXQUcxRyxFQUFBeUYsSUFBUyxTQUFXLE9BQU96RixHQUFVLFVBQVksT0FBT0EsR0FBVSxXQUd0RSxJQUFJeUYsSUFBUyxVQUFZLE1BQU0sUUFBUXpGLENBQUssRUFBRyxDQUMzQyxNQUFNc25DLEVBQWN0bkMsRUFBTSxPQUMxQixRQUFRaEMsRUFBSSxFQUFHQSxFQUFJc3BDLEVBQWF0cEMsSUFDNUIsR0FBSSxPQUFPZ0MsRUFBTWhDLENBQUMsR0FBTSxVQUFZLE9BQU9nQyxFQUFNaEMsQ0FBQyxHQUFNLFNBQ3BELE9BQU9xdkIsRUFBTyxJQUFNcnZCLEVBRzVCLFFBQ0gsQ0FDRCxHQUFJdXBDLEdBQWE5aEMsQ0FBSSxFQUFHLENBQ3BCLE1BQU0raEMsRUFBYUMsR0FBY2hpQyxDQUFJLEVBQ3JDLEdBQUksQ0FBQyxNQUFNLFFBQVF6RixDQUFLLEdBQUtBLEVBQU0sU0FBV3duQyxFQUMxQyxNQUFNVCxHQUFZLHVCQUF3QjFaLEVBQU1tYSxFQUFZeG5DLEVBQU0sTUFBTSxFQUU1RSxRQUNILENBQ0QsR0FBSTBuQyxHQUFZamlDLENBQUksRUFBRyxDQUNuQixHQUFJLENBQUMsTUFBTSxRQUFRekYsQ0FBSyxFQUNwQixPQUFPcXRCLEVBRVgsTUFBTXNhLEVBQWVDLEdBQWFuaUMsQ0FBSSxFQUNoQzZoQyxFQUFjdG5DLEVBQU0sT0FDMUIsUUFBUWhDLEVBQUksRUFBR0EsRUFBSXNwQyxFQUFhdHBDLElBQzVCLEdBQUksT0FBT2dDLEVBQU1oQyxDQUFDLElBQU0ycEMsRUFDcEIsT0FBT3RhLEVBQU8sSUFBTXJ2QixFQUc1QixRQUNILENBQ0QsR0FBSSxPQUFPeUgsR0FBUyxTQUFVLENBQzFCLEdBQUksQ0FBQ3pGLEdBQVMsT0FBT0EsR0FBVSxTQUMzQixPQUFPcXRCLEVBR1gsTUFBTXdhLEVBQVUsTUFBTVQsR0FBZXBuQyxFQUFPeUYsQ0FBSSxFQUNoRCxHQUFJb2lDLEVBQ0EsT0FBT3hhLEVBQU8sSUFBTXdhLEVBRXhCLFFBQ0gsQ0FDRCxHQUFJLE9BQU83bkMsSUFBVXlGLEVBQ2pCLE9BQU80bkIsRUFFZCxDQUVMLENBQ0EsTUFBTXlhLEdBQWdCLENBQ2xCLE9BQVEsR0FDUixPQUFRLEdBQ1IsUUFBUyxHQUNULEtBQU0sR0FDTixTQUFVLEdBQ1YsV0FBWSxHQUNaLFdBQVksR0FDWixZQUFhLEdBQ2IsU0FBVSxFQUNkLEVBQ01DLEdBQWEsQ0FDZixXQUFZLFNBQ1osV0FBWSxTQUNaLFlBQWEsVUFDYixTQUFVLE1BQ2QsRUFDTyxTQUFTQyxHQUFldmlDLEVBQU0sQ0FDakMsT0FBT0EsSUFBUyxVQUNwQixDQUNPLFNBQVM4aEMsR0FBYTloQyxFQUFNLENBQy9CLE9BQU8sT0FBT0EsR0FBUyxVQUFZLGtCQUFrQixLQUFLQSxDQUFJLENBQ2xFLENBQ08sU0FBU2lpQyxHQUFZamlDLEVBQU0sQ0FDOUIsT0FBTyxPQUFPQSxHQUFTLFVBQVlxaUMsR0FBY3JpQyxDQUFJLENBQ3pELENBQ08sU0FBU21pQyxHQUFhbmlDLEVBQU0sQ0FDL0IsT0FBT3NpQyxHQUFXdGlDLENBQUksQ0FDMUIsQ0FDTyxTQUFTZ2lDLEdBQWNoaUMsRUFBTSxDQUNoQyxNQUFNd2lDLEVBQU8sT0FBT3hpQyxFQUFLLE1BQU0sRUFBRyxFQUFFLENBQUMsRUFDckMsT0FBTyxHQUFJLENBQ1AsS0FBSyxNQUFNd2lDLENBQUksRUFDWCxNQUFNbEIsR0FBWSx1QkFBd0J0aEMsQ0FBSSxFQUNsRCxLQUFLd2lDLEdBQVEsRUFDVCxNQUFNbEIsR0FBWSxzQkFBdUJ0aEMsQ0FBSSxFQUNqRCxRQUNJLE9BQU93aUMsQ0FDZCxDQUNMLENDbkhPLFNBQVNDLElBQWdDLENBQzVDLE1BQU8sQ0FDSCxlQUFnQixJQUFJLElBQ3BCLGVBQWdCLENBQUUsRUFDMUIsS0FBUUMsR0FDUixLQUFRQyxFQUNSLENBQ0EsQ0FDTyxTQUFTRCxHQUFLcHJDLEVBQU8sQ0FDeEIsTUFBTyxDQUNILGVBQWdCQSxFQUFNLGNBQzlCLENBQ0EsQ0FDTyxTQUFTcXJDLEdBQUtDLEVBQU9DLEVBQUssQ0FDN0IsS0FBTSxDQUFFLGVBQUFDLENBQWlCLEVBQUdELEVBQzVCRCxFQUFNLHdCQUF3QixlQUFlLFFBQzdDQSxFQUFNLHdCQUF3QixlQUFpQixHQUMvQyxRQUFRcnFDLEVBQUksRUFBR0EsRUFBSXVxQyxFQUFlLE9BQVF2cUMsSUFDdENxcUMsRUFBTSx3QkFBd0IsZUFBZSxJQUFJRSxFQUFldnFDLENBQUMsRUFBR0EsRUFBSSxDQUFDLEVBQ3pFcXFDLEVBQU0sd0JBQXdCLGVBQWUsS0FBS0UsRUFBZXZxQyxDQUFDLENBQUMsQ0FFM0UsQ0FDTyxTQUFTd3FDLEdBQXNCenJDLEVBQU95YyxFQUFJLENBQzdDLEdBQUksT0FBT0EsR0FBTyxTQUFVLENBQ3hCLE1BQU1pdkIsRUFBYTFyQyxFQUFNLGVBQWUsSUFBSXljLENBQUUsRUFDOUMsR0FBSWl2QixFQUNBLE9BQU9BLEVBRVgsTUFBTUMsRUFBWTNyQyxFQUFNLGVBQWUsS0FBTyxFQUM5QyxPQUFBQSxFQUFNLGVBQWUsSUFBSXljLEVBQUlrdkIsQ0FBUyxFQUN0QzNyQyxFQUFNLGVBQWUsS0FBS3ljLENBQUUsRUFDckJrdkIsQ0FDVixDQUNELE9BQUlsdkIsRUFBS3pjLEVBQU0sZUFBZSxPQUNuQnlyQyxHQUFzQnpyQyxFQUFPeWMsRUFBRyxTQUFVLENBQUEsRUFFOUNBLENBQ1gsQ0NwQ08sZUFBZW12QixHQUFPdjlCLEVBQUd3OUIsRUFBNkIsQ0FDekQsTUFBTyxDQUNILDRCQUFBQSxFQUNBLEtBQU0sQ0FBRSxFQUNSLE1BQU8sQ0FDZixDQUNBLENBQ08sZUFBZUMsR0FBSTlyQyxFQUFPeWMsRUFBSSxDQUNqQyxNQUFNaXZCLEVBQWFELEdBQXNCenJDLEVBQU0sNEJBQTZCeWMsQ0FBRSxFQUM5RSxPQUFPemMsRUFBTSxLQUFLMHJDLENBQVUsQ0FDaEMsQ0FDTyxlQUFlSyxHQUFZL3JDLEVBQU9nc0MsRUFBSyxDQUMxQyxNQUFNN0MsRUFBUSxNQUFNLEtBQUssQ0FDckIsT0FBUTZDLEVBQUksTUFDcEIsQ0FBSyxFQUNELFFBQVEvcUMsRUFBSSxFQUFHQSxFQUFJK3FDLEVBQUksT0FBUS9xQyxJQUFJLENBQy9CLE1BQU15cUMsRUFBYUQsR0FBc0J6ckMsRUFBTSw0QkFBNkJnc0MsRUFBSS9xQyxDQUFDLENBQUMsRUFDbEZrb0MsRUFBTWxvQyxDQUFDLEVBQUlqQixFQUFNLEtBQUswckMsQ0FBVSxDQUNuQyxDQUNELE9BQU92QyxDQUNYLENBQ08sZUFBZThDLEdBQU9qc0MsRUFBTyxDQUNoQyxPQUFPQSxFQUFNLElBQ2pCLENBQ08sZUFBZUEsR0FBTUEsRUFBT3ljLEVBQUk0c0IsRUFBSyxDQUN4QyxNQUFNcUMsRUFBYUQsR0FBc0J6ckMsRUFBTSw0QkFBNkJ5YyxDQUFFLEVBQzlFLE9BQUksT0FBT3pjLEVBQU0sS0FBSzByQyxDQUFVLEVBQU0sSUFDM0IsSUFFWDFyQyxFQUFNLEtBQUswckMsQ0FBVSxFQUFJckMsRUFDekJycEMsRUFBTSxRQUNDLEdBQ1gsQ0FDTyxlQUFla3NDLEdBQU9sc0MsRUFBT3ljLEVBQUksQ0FDcEMsTUFBTWl2QixFQUFhRCxHQUFzQnpyQyxFQUFNLDRCQUE2QnljLENBQUUsRUFDOUUsT0FBSSxPQUFPemMsRUFBTSxLQUFLMHJDLENBQVUsRUFBTSxJQUMzQixJQUVYLE9BQU8xckMsRUFBTSxLQUFLMHJDLENBQVUsRUFDNUIxckMsRUFBTSxRQUNDLEdBQ1gsQ0FDTyxlQUFlMkssR0FBTTNLLEVBQU8sQ0FDL0IsT0FBT0EsRUFBTSxLQUNqQixDQUNPLGVBQWVxckMsR0FBS1EsRUFBNkJOLEVBQUssQ0FDekQsTUFBTVksRUFBY1osRUFDcEIsTUFBTyxDQUNILEtBQU1ZLEVBQVksS0FDbEIsTUFBT0EsRUFBWSxNQUNuQiw0QkFBQU4sQ0FDUixDQUNBLENBQ08sZUFBZVQsR0FBS3ByQyxFQUFPLENBQzlCLE1BQU8sQ0FDSCxLQUFNQSxFQUFNLEtBQ1osTUFBT0EsRUFBTSxLQUNyQixDQUNBLENBQ08sZUFBZW9zQyxJQUF1QixDQUN6QyxNQUFPLENBQ1gsT0FBUVIsR0FDQSxJQUFBRSxHQUNBLFlBQUFDLEdBQ0EsT0FBQUUsR0FDQSxNQUFBanNDLEdBQ1IsT0FBUWtzQyxHQUNBLE1BQUF2aEMsR0FDUixLQUFRMGdDLEdBQ1IsS0FBUUQsRUFDUixDQUNBLENDeEVPLE1BQU1pQixHQUF5QixDQUNsQyxlQUNBLGNBQ0EsZUFDQSxjQUNBLGVBQ0EsY0FDQSxlQUNBLGNBQ0EsdUJBQ0Esc0JBQ0EsdUJBQ0Esc0JBQ0EsdUJBQ0Esc0JBQ0EsYUFDQSxXQUNKLEVBQ08sU0FBU0MsR0FBb0JoQixFQUFPaUIsRUFBTSxDQUM3QyxJQUFJQyxFQUNKLE1BQU1DLEVBQWUsQ0FBQSxFQUNmQyxHQUFpQkYsRUFBaUJsQixFQUFNLFdBQWEsTUFBUWtCLElBQW1CLE9BQVMsT0FBU0EsRUFBZSxPQUN2SCxHQUFJLENBQUNFLEVBQ0QsT0FBT0QsRUFFWCxRQUFReHJDLEVBQUksRUFBR0EsRUFBSXlyQyxFQUFlenJDLElBQUksQ0FDbEMsTUFBTTByQyxFQUFTckIsRUFBTSxRQUFRcnFDLENBQUMsRUFDMUIsT0FBTzByQyxFQUFPSixDQUFJLEdBQU0sWUFDeEJFLEVBQWEsS0FBS0UsRUFBT0osQ0FBSSxDQUFDLENBRXJDLENBQ0QsT0FBT0UsQ0FDWCxDQ2hDTyxNQUFNRyxHQUFvQixDQUM3QixZQUNBLFFBQ0EsaUJBQ0EsUUFDSixFQUNhQyxHQUFzQixDQUMvQixpQkFDQSxxQkFDQSx3QkFDQSxtQkFDSixFQUVPLGVBQWVDLEdBQWNDLEVBQU96QixFQUFPN3VCLEVBQUk0c0IsRUFBSyxDQUN2RCxNQUFNMkQsRUFBY0QsRUFBTSxPQUMxQixRQUFROXJDLEVBQUksRUFBR0EsRUFBSStyQyxFQUFhL3JDLElBQzVCLE1BQU04ckMsRUFBTTlyQyxDQUFDLEVBQUVxcUMsRUFBTzd1QixFQUFJNHNCLENBQUcsQ0FFckMsQ0FDTyxlQUFlNEQsR0FBZ0JGLEVBQU96QixFQUFPNEIsRUFBVyxDQUMzRCxNQUFNRixFQUFjRCxFQUFNLE9BQzFCLFFBQVEsRUFBSSxFQUFHLEVBQUlDLEVBQWEsSUFDNUIsTUFBTUQsRUFBTSxDQUFDLEVBQUV6QixFQUFPNEIsQ0FBUyxDQUV2QyxDQ3ZCQSxNQUFNQyxHQUFnQixDQUNsQixpQkFBa0IsR0FDbEIsMEJBQTJCLEdBQzNCLFNBQVUsRUFDVix5QkFBMEIsRUFDMUIsZ0JBQWlCLENBQ3JCLEVBQ0EsU0FBU0MsR0FBVXJyQyxFQUFNLENBQ3JCLE9BQU9BLEdBQVEsS0FBT0EsRUFBSyxFQUFJLEVBQ25DLENBQ0EsU0FBU3NyQyxHQUFXdHJDLEVBQU0sQ0FDdEIsTUFBTXU4QixFQUFRdjhCLEVBQUssRUFDbkIsT0FBQUEsRUFBSyxFQUFJdThCLEVBQU0sRUFDZkEsRUFBTSxFQUFJdjhCLEVBQ1ZBLEVBQUssRUFBSSxLQUFLLElBQUlxckMsR0FBVXJyQyxFQUFLLENBQUMsRUFBR3FyQyxHQUFVcnJDLEVBQUssQ0FBQyxDQUFDLEVBQUksRUFDMUR1OEIsRUFBTSxFQUFJLEtBQUssSUFBSThPLEdBQVU5TyxFQUFNLENBQUMsRUFBRzhPLEdBQVU5TyxFQUFNLENBQUMsQ0FBQyxFQUFJLEVBQ3REQSxDQUNYLENBQ0EsU0FBU2dQLEdBQVl2ckMsRUFBTSxDQUN2QixNQUFNczhCLEVBQU90OEIsRUFBSyxFQUNsQixPQUFBQSxFQUFLLEVBQUlzOEIsRUFBSyxFQUNkQSxFQUFLLEVBQUl0OEIsRUFDVEEsRUFBSyxFQUFJLEtBQUssSUFBSXFyQyxHQUFVcnJDLEVBQUssQ0FBQyxFQUFHcXJDLEdBQVVyckMsRUFBSyxDQUFDLENBQUMsRUFBSSxFQUMxRHM4QixFQUFLLEVBQUksS0FBSyxJQUFJK08sR0FBVS9PLEVBQUssQ0FBQyxFQUFHK08sR0FBVS9PLEVBQUssQ0FBQyxDQUFDLEVBQUksRUFDbkRBLENBQ1gsQ0EyQ08sU0FBU2tQLEdBQVl4ckMsRUFBTXlyQyxFQUFLQyxFQUFLLENBQ3hDLEdBQUksQ0FBQzFyQyxFQUNELE1BQU8sR0FFWCxNQUFNSCxFQUFTLENBQUEsRUFDZixTQUFTOHJDLEVBQVMzckMsRUFBTSxDQUNmQSxJQUdEQSxFQUFLLEVBQUl5ckMsR0FDVEUsRUFBUzNyQyxFQUFLLENBQUMsRUFFZkEsRUFBSyxHQUFLeXJDLEdBQU96ckMsRUFBSyxHQUFLMHJDLEdBQzNCekYsR0FBY3BtQyxFQUFRRyxFQUFLLENBQUMsRUFFNUJBLEVBQUssRUFBSTByQyxHQUNUQyxFQUFTM3JDLEVBQUssQ0FBQyxFQUV0QixDQUNELE9BQUEyckMsRUFBUzNyQyxDQUFJLEVBQ05ILENBQ1gsQ0FDTyxTQUFTK3JDLEdBQVk1ckMsRUFBTXdCLEVBQUtxcUMsRUFBWSxHQUFPLENBQ3RELEdBQUksQ0FBQzdyQyxFQUNELE1BQU8sR0FFWCxNQUFNSCxFQUFTLENBQUEsRUFDZixTQUFTOHJDLEVBQVMzckMsRUFBTSxDQUNmQSxJQUdENnJDLEdBQWE3ckMsRUFBSyxHQUFLd0IsR0FDdkJ5a0MsR0FBY3BtQyxFQUFRRyxFQUFLLENBQUMsRUFFNUIsQ0FBQzZyQyxHQUFhN3JDLEVBQUssRUFBSXdCLEdBQ3ZCeWtDLEdBQWNwbUMsRUFBUUcsRUFBSyxDQUFDLEVBRWhDMnJDLEVBQVMzckMsRUFBSyxDQUFDLEVBQ2YyckMsRUFBUzNyQyxFQUFLLENBQUMsRUFDbEIsQ0FDRCxPQUFBMnJDLEVBQVMzckMsQ0FBSSxFQUNOSCxDQUNYLENBQ08sU0FBU2lzQyxHQUFTOXJDLEVBQU13QixFQUFLcXFDLEVBQVksR0FBTyxDQUNuRCxHQUFJLENBQUM3ckMsRUFDRCxNQUFPLEdBRVgsTUFBTUgsRUFBUyxDQUFBLEVBQ2YsU0FBUzhyQyxFQUFTM3JDLEVBQU0sQ0FDZkEsSUFHRDZyQyxHQUFhN3JDLEVBQUssR0FBS3dCLEdBQ3ZCeWtDLEdBQWNwbUMsRUFBUUcsRUFBSyxDQUFDLEVBRTVCLENBQUM2ckMsR0FBYTdyQyxFQUFLLEVBQUl3QixHQUN2QnlrQyxHQUFjcG1DLEVBQVFHLEVBQUssQ0FBQyxFQUVoQzJyQyxFQUFTM3JDLEVBQUssQ0FBQyxFQUNmMnJDLEVBQVMzckMsRUFBSyxDQUFDLEVBQ2xCLENBQ0QsT0FBQTJyQyxFQUFTM3JDLENBQUksRUFDTkgsQ0FDWCxDQUNBLFNBQVNrc0MsR0FBYS9yQyxFQUFNd0IsRUFBSyxDQUM3QixLQUFNeEIsSUFBUyxNQUNYLEdBQUl3QixFQUFNeEIsRUFBSyxFQUNYQSxFQUFPQSxFQUFLLFVBQ0x3QixFQUFNeEIsRUFBSyxFQUNsQkEsRUFBT0EsRUFBSyxNQUVaLFFBQU9BLEVBR2YsT0FBTyxJQUNYLENBQ08sU0FBUzZwQyxHQUFPcm9DLEVBQUtOLEVBQU8sQ0FDL0IsTUFBTyxDQUNILEVBQUdNLEVBQ0gsRUFBR04sRUFDSCxFQUFHLEtBQ0gsRUFBRyxLQUNILEVBQUcsQ0FDWCxDQUNBLENBQ08sU0FBU2pCLEdBQU9vTixFQUFNN0wsRUFBS04sRUFBTyxDQUNyQyxJQUFJc1IsRUFBUyxLQUNUOUUsRUFBVUwsRUFDZCxLQUFNSyxJQUFZLE1BRWQsR0FEQThFLEVBQVM5RSxFQUNMbE0sRUFBTWtNLEVBQVEsRUFDZEEsRUFBVUEsRUFBUSxVQUNYbE0sRUFBTWtNLEVBQVEsRUFDckJBLEVBQVVBLEVBQVEsTUFHbEIsUUFBQUEsRUFBUSxFQUFJQSxFQUFRLEVBQUUsT0FBT3hNLENBQUssRUFDM0JtTSxFQUdmLE1BQU0yK0IsRUFBVW5DLEdBQU9yb0MsRUFBS04sQ0FBSyxFQVVqQyxJQVRJc1IsR0FBVSxLQUNWbkYsRUFBTzIrQixFQUVBeHFDLEVBQU1nUixFQUFPLEVBQ3BCQSxFQUFPLEVBQUl3NUIsRUFFWHg1QixFQUFPLEVBQUl3NUIsRUFFZnQrQixFQUFVcytCLEVBQ0p4NUIsR0FBVSxNQUFLLENBQ2pCLE1BQU15NUIsRUFBZ0JaLEdBQVU3NEIsRUFBTyxDQUFDLEVBQUk2NEIsR0FBVTc0QixFQUFPLENBQUMsRUFhOUQsR0FaSXk1QixJQUFrQmIsR0FBYyxrQkFDNUI1cEMsRUFBTWdSLEVBQU8sRUFBRSxJQUNmQSxFQUFPLEVBQUk4NEIsR0FBVzk0QixFQUFPLENBQUMsR0FFbENBLEVBQVMrNEIsR0FBWS80QixDQUFNLEdBRTNCeTVCLElBQWtCYixHQUFjLG1CQUM1QjVwQyxFQUFNZ1IsRUFBTyxFQUFFLElBQ2ZBLEVBQU8sRUFBSSs0QixHQUFZLzRCLEVBQU8sQ0FBQyxHQUVuQ0EsRUFBUzg0QixHQUFXOTRCLENBQU0sR0FFMUJBLElBQVduRixFQUNYLE1BRUpLLEVBQVU4RSxFQUNWQSxFQUFTMDVCLEdBQWM3K0IsRUFBTUssRUFBUSxDQUFDLENBQ3pDLENBQ0QsT0FBT0wsQ0FDWCxDQUNBLFNBQVM2K0IsR0FBYzcrQixFQUFNN0wsRUFBSyxDQUM5QixJQUFJa00sRUFBVUwsRUFDVm1GLEVBQVMsS0FDYixLQUFNOUUsSUFBWSxNQUNkLEdBQUlsTSxFQUFNa00sRUFBUSxFQUNkOEUsRUFBUzlFLEVBQ1RBLEVBQVVBLEVBQVEsVUFDWGxNLEVBQU1rTSxFQUFRLEVBQ3JCOEUsRUFBUzlFLEVBQ1RBLEVBQVVBLEVBQVEsTUFFbEIsT0FHUixPQUFPOEUsQ0FDWCxDQUNPLFNBQVMyNUIsR0FBSzkrQixFQUFNN0wsRUFBSyxDQUM1QixNQUFNeEIsRUFBTytyQyxHQUFhMStCLEVBQU03TCxDQUFHLEVBQ25DLE9BQUl4QixHQUFRLEtBQ0QsS0FFSkEsRUFBSyxDQUNoQixDQUNPLFNBQVNtcUMsR0FBTzk4QixFQUFNN0wsRUFBSyxDQUM5QixJQUFJeEIsRUFBT3FOLEVBQ1ArK0IsRUFBYSxLQUNqQixLQUFNcHNDLEdBQVEsTUFBUUEsRUFBSyxJQUFNd0IsR0FDN0I0cUMsRUFBYXBzQyxFQUNUd0IsRUFBTXhCLEVBQUssRUFDWEEsRUFBT0EsRUFBSyxFQUVaQSxFQUFPQSxFQUFLLEVBR3BCLEdBQUlBLEdBQVEsS0FDUixPQUFPLEtBRVgsR0FBSUEsRUFBSyxHQUFLLE1BQVFBLEVBQUssR0FBSyxLQUN4Qm9zQyxHQUFjLEtBRWQvK0IsRUFBTyxLQUVIKytCLEVBQVcsSUFBTXBzQyxFQUNqQm9zQyxFQUFXLEVBQUksS0FFZkEsRUFBVyxFQUFJLGFBR2hCcHNDLEVBQUssR0FBSyxNQUFRQSxFQUFLLEdBQUssS0FBTSxDQUN6QyxJQUFJcXNDLEVBQWVyc0MsRUFBSyxFQUNwQnNzQyxFQUFpQnRzQyxFQUNyQixLQUFNcXNDLEVBQWEsR0FBSyxNQUNwQkMsRUFBaUJELEVBQ2pCQSxFQUFlQSxFQUFhLEVBRWhDcnNDLEVBQUssRUFBSXFzQyxFQUFhLEVBQ2xCQyxJQUFtQnRzQyxFQUNuQnNzQyxFQUFlLEVBQUlELEVBQWEsRUFFaENDLEVBQWUsRUFBSUQsRUFBYSxDQUU1QyxLQUFXLENBQ0gsTUFBTUUsRUFBWXZzQyxFQUFLLEdBQUssS0FBT0EsRUFBSyxFQUFJQSxFQUFLLEVBQzdDb3NDLEdBQWMsS0FDZC8rQixFQUFPay9CLEVBRUhILEVBQVcsSUFBTXBzQyxFQUNqQm9zQyxFQUFXLEVBQUlHLEVBRWZILEVBQVcsRUFBSUcsQ0FHMUIsQ0FDRCxPQUFPbC9CLENBQ1gsQ0FDTyxTQUFTbS9CLEdBQWVuL0IsRUFBTXFOLEVBQUlsWixFQUFLLENBQzFDLE1BQU14QixFQUFPK3JDLEdBQWExK0IsRUFBTTdMLENBQUcsRUFDbkMsR0FBS3hCLEVBR0wsSUFBSUEsRUFBSyxFQUFFLFNBQVcsRUFBRyxDQUNyQm1xQyxHQUFPOThCLEVBQU03TCxDQUFHLEVBQ2hCLE1BQ0gsQ0FDRHhCLEVBQUssRUFBRSxPQUFPQSxFQUFLLEVBQUUsUUFBUTBhLENBQUUsRUFBRyxDQUFDLEVBQ3ZDLENDN1JPLFNBQVNtdkIsSUFBUyxDQUNyQixNQUFPLENBQ0gsbUJBQW9CLElBQUksR0FDaEMsQ0FDQSxDQUNPLFNBQVM1cEMsR0FBT29OLEVBQU03TCxFQUFLTixFQUFPLENBQ3JDLE9BQUltTSxFQUFLLG1CQUFtQixJQUFJN0wsQ0FBRyxHQUMvQjZMLEVBQUssbUJBQW1CLElBQUk3TCxDQUFHLEVBQUUsS0FBS04sQ0FBSyxFQUNwQ21NLElBRVhBLEVBQUssbUJBQW1CLElBQUk3TCxFQUFLLENBQzdCTixDQUNSLENBQUssRUFDTW1NLEVBQ1gsQ0FVTyxTQUFTbS9CLEdBQWVuL0IsRUFBTXFOLEVBQUlsWixFQUFLLENBQzFDLElBQUlpckMsRUFBOEJDLEVBQ2xDci9CLEdBQVMsTUFBbUNBLEVBQUssbUJBQW1CLElBQUk3TCxJQUFPaXJDLEVBQStCcC9CLEdBQVMsS0FBMEIsT0FBU0EsRUFBSyxtQkFBbUIsSUFBSTdMLENBQUcsS0FBTyxNQUFRaXJDLElBQWlDLE9BQVMsT0FBU0EsRUFBNkIsT0FBUTdNLEdBQUlBLElBQU1sbEIsQ0FBRSxJQUFNLENBQUEsQ0FBRSxJQUM5U2d5QixFQUFnQ3IvQixHQUFTLEtBQTBCLE9BQVNBLEVBQUssbUJBQW1CLElBQUk3TCxDQUFHLEtBQU8sTUFBUWtyQyxJQUFrQyxPQUFTLE9BQVNBLEVBQThCLFVBQVksSUFDMU5yL0IsR0FBUyxNQUFtQ0EsRUFBSyxtQkFBbUIsT0FBTzdMLENBQUcsRUFFdEYsQ0FXTyxTQUFTbVosR0FBT3ROLEVBQU1uRCxFQUFXLENBQ3BDLE1BQU15aUMsRUFBZ0IsT0FBTyxLQUFLemlDLENBQVMsRUFDM0MsR0FBSXlpQyxFQUFjLFNBQVcsRUFDekIsTUFBTSxJQUFJLE1BQU0sbUJBQW1CLEVBRXZDLE1BQU1DLEVBQWdCRCxFQUFjLENBQUMsRUFDckMsT0FBT0MsRUFBYSxDQUNoQixJQUFLLEtBQ0QsQ0FDSSxNQUFNMXJDLEVBQVFnSixFQUFVMGlDLENBQWEsRUFDckMsT0FBT3YvQixFQUFLLG1CQUFtQixJQUFJbk0sQ0FBSyxHQUFLLENBQUEsQ0FDaEQsQ0FDTCxJQUFLLEtBQ0QsQ0FDSSxNQUFNQSxFQUFRZ0osRUFBVTBpQyxDQUFhLEVBQy9CL3NDLEVBQVMsQ0FBQSxFQUNmLFVBQVcrL0IsS0FBSzErQixFQUFNLENBQ2xCLE1BQU0rb0MsRUFBTTU4QixFQUFLLG1CQUFtQixJQUFJdXlCLENBQUMsRUFDckNxSyxHQUFPLE1BQ1BoRSxHQUFjcG1DLEVBQVFvcUMsQ0FBRyxDQUVoQyxDQUNELE9BQU9wcUMsQ0FDVixDQUNMLElBQUssTUFDRCxDQUNJLE1BQU1xQixFQUFRZ0osRUFBVTBpQyxDQUFhLEVBQy9CL3NDLEVBQVMsQ0FBQSxFQUNUNGlCLEVBQU9wVixFQUFLLG1CQUFtQixLQUFJLEVBQ3pDLFVBQVc3TCxLQUFPaWhCLEVBQUssQ0FDbkIsR0FBSXZoQixFQUFNLFNBQVNNLENBQUcsRUFDbEIsU0FFSixNQUFNeW9DLEVBQU01OEIsRUFBSyxtQkFBbUIsSUFBSTdMLENBQUcsRUFDdkN5b0MsR0FBTyxNQUNQaEUsR0FBY3BtQyxFQUFRb3FDLENBQUcsQ0FFaEMsQ0FDRCxPQUFPcHFDLENBQ1YsQ0FDUixDQUNELE1BQU0sSUFBSSxNQUFNLG1CQUFtQixDQUN2QyxDQUNPLFNBQVNndEMsR0FBVXgvQixFQUFNbkQsRUFBVyxDQUN2QyxNQUFNeWlDLEVBQWdCLE9BQU8sS0FBS3ppQyxDQUFTLEVBQzNDLEdBQUl5aUMsRUFBYyxTQUFXLEVBQ3pCLE1BQU0sSUFBSSxNQUFNLG1CQUFtQixFQUV2QyxNQUFNQyxFQUFnQkQsRUFBYyxDQUFDLEVBQ3JDLE9BQU9DLEVBQWEsQ0FDaEIsSUFBSyxjQUNELENBRUksTUFBTTNDLEVBRFMvL0IsRUFBVTBpQyxDQUFhLEVBQ25CLElBQUsxckMsR0FBUW1NLEVBQUssbUJBQW1CLElBQUluTSxDQUFLLEdBQUssQ0FBRSxDQUFBLEVBQ3hFLE9BQU9nbUMsR0FBVStDLENBQUcsQ0FDdkIsQ0FDUixDQUNELE1BQU0sSUFBSSxNQUFNLG1CQUFtQixDQUN2QyxDQ2pHSSxTQUFTNkMsR0FBb0JsdkMsRUFBR0MsRUFBR2t2QyxFQUFXLENBRTlDLEdBQUludkMsSUFBTUMsRUFDTixNQUFPLEdBR1gsTUFBTW12QyxFQUFPcHZDLEVBQ1RBLEVBQUUsT0FBU0MsRUFBRSxTQUNiRCxFQUFJQyxFQUNKQSxFQUFJbXZDLEdBRVIsSUFBSUMsRUFBT3J2QyxFQUFFLE9BQ1RzdkMsRUFBT3J2QyxFQUFFLE9BR2IsS0FBTW92QyxFQUFPLEdBQUtydkMsRUFBRSxXQUFXLENBQUMsQ0FBQ3F2QyxDQUFJLElBQU1wdkMsRUFBRSxXQUFXLENBQUMsQ0FBQ3F2QyxDQUFJLEdBQzFERCxJQUNBQyxJQUdKLEdBQUksQ0FBQ0QsRUFDRCxPQUFPQyxFQUFPSCxFQUFZLEdBQUtHLEVBR25DLElBQUlDLEVBQVcsRUFDZixLQUFNQSxFQUFXRixHQUFRcnZDLEVBQUUsV0FBV3V2QyxDQUFRLElBQU10dkMsRUFBRSxXQUFXc3ZDLENBQVEsR0FDckVBLElBS0osR0FIQUYsR0FBUUUsRUFDUkQsR0FBUUMsRUFFSkYsSUFBUyxFQUNULE9BQU9DLEVBQU9ILEVBQVksR0FBS0csRUFFbkMsTUFBTTlJLEVBQVE4SSxFQUFPRCxFQUNyQixHQUFJRixFQUFZRyxFQUNaSCxFQUFZRyxVQUNMOUksRUFBUTJJLEVBQ2YsTUFBTyxHQUVYLElBQUk3dEMsRUFBSSxFQUNSLE1BQU1rdUMsRUFBTSxDQUFBLEVBQ05DLEVBQXFCLENBQUEsRUFDM0IsS0FBTW51QyxFQUFJNnRDLEdBQ05NLEVBQW1CbnVDLENBQUMsRUFBSXJCLEVBQUUsV0FBV3N2QyxFQUFXanVDLENBQUMsRUFDakRrdUMsRUFBSWx1QyxDQUFDLEVBQUksRUFBRUEsRUFFZixLQUFNQSxFQUFJZ3VDLEdBQ05HLEVBQW1CbnVDLENBQUMsRUFBSXJCLEVBQUUsV0FBV3N2QyxFQUFXanVDLENBQUMsRUFDakRrdUMsRUFBSWx1QyxHQUFHLEVBQUk2dEMsRUFBWSxFQUUzQixNQUFNcmlDLEVBQVNxaUMsRUFBWTNJLEVBQ3JCa0osRUFBVVAsRUFBWUcsRUFDNUIsSUFBSUssRUFBUyxFQUNUQyxFQUFPVCxFQUNQci9CLEVBQVUsRUFDVjR1QixFQUFPLEVBQ1BtUixFQUFRLEVBQ1JDLEVBQVEsRUFDUnY1QixFQUFJLEVBRVIsSUFBSWpWLEVBQUksRUFBR0EsRUFBSSt0QyxFQUFNL3RDLElBQUksQ0FNckIsSUFMQW85QixFQUFPcDlCLEVBQ1B3TyxFQUFVeE8sRUFBSSxFQUNkd3VDLEVBQVE5dkMsRUFBRSxXQUFXdXZDLEVBQVdqdUMsQ0FBQyxFQUNqQ3F1QyxHQUFVcnVDLEVBQUl3TCxFQUFTLEVBQUksRUFDM0I4aUMsR0FBUUEsRUFBT04sRUFBTyxFQUFJLEVBQ3RCLzRCLEVBQUlvNUIsRUFBUXA1QixFQUFJcTVCLEVBQU1yNUIsSUFDdEJzNUIsRUFBUS8vQixFQUNSQSxFQUFVNHVCLEVBQ1ZBLEVBQU84USxFQUFJajVCLENBQUMsRUFDUnU1QixJQUFVTCxFQUFtQmw1QixDQUFDLElBRTFCbW9CLEVBQU81dUIsSUFDUEEsRUFBVTR1QixHQUdWbVIsRUFBUS8vQixJQUNSQSxFQUFVKy9CLEdBRWQvL0IsS0FFSjAvQixFQUFJajVCLENBQUMsRUFBSXpHLEVBRWIsR0FBSTQvQixHQUFXRixFQUFJbHVDLEVBQUlrbEMsQ0FBSyxFQUFJMkksRUFDNUIsTUFBTyxFQUVkLENBQ0QsT0FBT3IvQixHQUFXcS9CLEVBQVlyL0IsRUFBVSxFQUM1QyxDQWNPLFNBQVNpZ0MsR0FBdUIvdkMsRUFBR0MsRUFBR2t2QyxFQUFXLENBQ3BELE1BQU1qRixFQUFXZ0YsR0FBb0JsdkMsRUFBR0MsRUFBR2t2QyxDQUFTLEVBQ3BELE1BQU8sQ0FDSCxTQUFBakYsRUFDQSxVQUFXQSxHQUFZLENBQy9CLENBQ0EsQ0M5R08sTUFBTThGLEVBQUssQ0FDZCxZQUFZcHNDLEVBQUtxc0MsRUFBU3RVLEVBQUksQ0FNOUI3eUIsR0FBQSxTQUFJLENBQUEsR0FFSkEsR0FBQSxTQUFJLENBQUEsR0FFSkEsR0FBQSxTQUFJLElBVEEsS0FBSyxFQUFJbEYsRUFDVCxLQUFLLEVBQUlxc0MsRUFDVCxLQUFLLEVBQUl0VSxDQUNaLENBT0QsUUFBUyxDQUNMLE1BQU8sQ0FDSCxFQUFHLEtBQUssRUFDUixFQUFHLEtBQUssRUFDUixFQUFHLEtBQUssRUFDUixFQUFHLEtBQUssRUFDUixFQUFHLEtBQUssQ0FDcEIsQ0FDSyxDQUNMLENBQ0EsU0FBU3VVLEdBQWE5dEMsRUFBTXdTLEVBQVEsQ0FDaEN4UyxFQUFLLEVBQUl3UyxFQUFPLEVBQUl4UyxFQUFLLENBQzdCLENBQ0EsU0FBUyt0QyxHQUFZL3RDLEVBQU1ndUMsRUFBTyxDQUM5Qmh1QyxFQUFLLEVBQUUsS0FBS2d1QyxDQUFLLENBQ3JCLENBQ0EsU0FBU3hCLEdBQWV4c0MsRUFBTWd1QyxFQUFPLENBQ2pDLE1BQU1wbkMsRUFBUTVHLEVBQUssRUFBRSxRQUFRZ3VDLENBQUssRUFDWCxPQUFJcG5DLElBQVUsR0FDMUIsSUFFWDVHLEVBQUssRUFBRSxPQUFPNEcsRUFBTyxDQUFDLEVBQ2YsR0FDWCxDQUNBLFNBQVNxbkMsR0FBYWp1QyxFQUFNZ1IsRUFBUWs5QixFQUFNQyxFQUFPcEIsRUFBVyxDQUN4RCxHQUFJL3NDLEVBQUssRUFBRyxDQUNSLEtBQU0sQ0FBRSxFQUFBeWdDLEVBQUksRUFBRzJOLENBQU0sRUFBTXB1QyxFQUMzQixHQUFJbXVDLEdBQVMxTixJQUFNeU4sRUFDZixNQUFPLEdBcUJYLEdBakJJbkgsR0FBZS8xQixFQUFReXZCLENBQUMsR0FBSyxPQUN6QnNNLEVBRW1CLEtBQUssSUFBSW1CLEVBQUssT0FBU3pOLEVBQUUsTUFBTSxHQUdoQ3NNLEdBQWFZLEdBQXVCTyxFQUFNek4sRUFBR3NNLENBQVMsRUFBRSxZQUN0RS83QixFQUFPeXZCLENBQUMsRUFBSSxJQUloQnp2QixFQUFPeXZCLENBQUMsRUFBSSxJQU1oQnNHLEdBQWUvMUIsRUFBUXl2QixDQUFDLEdBQUssTUFBUTJOLEVBQU8sT0FBUyxFQUFHLENBQ3hELE1BQU1DLEVBQU8sSUFBSSxJQUFJcjlCLEVBQU95dkIsQ0FBQyxDQUFDLEVBQ3hCNk4sRUFBZUYsRUFBTyxPQUM1QixRQUFRbHZDLEVBQUksRUFBR0EsRUFBSW92QyxFQUFjcHZDLElBQzdCbXZDLEVBQUssSUFBSUQsRUFBT2x2QyxDQUFDLENBQUMsRUFFdEI4UixFQUFPeXZCLENBQUMsRUFBSSxNQUFNLEtBQUs0TixDQUFJLENBQzlCLENBQ0osQ0FFRCxVQUFXbmlDLEtBQWEsT0FBTyxLQUFLbE0sRUFBSyxDQUFDLEVBQ3RDaXVDLEdBQWFqdUMsRUFBSyxFQUFFa00sQ0FBUyxFQUFHOEUsRUFBUWs5QixFQUFNQyxFQUFPcEIsQ0FBUyxFQUVsRSxPQUFPLzdCLENBQ1gsQ0FDQSxTQUFTdTlCLEdBQWdCM3dDLEVBQUdDLEVBQUcsQ0FDM0IsSUFBSTJ3QyxFQUFlLEdBQ25CLE1BQU12dkMsRUFBTSxLQUFLLElBQUlyQixFQUFFLE9BQVFDLEVBQUUsTUFBTSxFQUN2QyxRQUFRLEVBQUksRUFBRyxFQUFJb0IsRUFBSyxJQUFJLENBQ3hCLEdBQUlyQixFQUFFLENBQUMsSUFBTUMsRUFBRSxDQUFDLEVBQ1osT0FBTzJ3QyxFQUVYQSxHQUFnQjV3QyxFQUFFLENBQUMsQ0FDdEIsQ0FDRCxPQUFPNHdDLENBQ1gsQ0FDTyxTQUFTM0UsR0FBT3RRLEVBQU0sR0FBT3NVLEVBQVUsR0FBSXJzQyxFQUFNLEdBQUksQ0FDeEQsT0FBTyxJQUFJb3NDLEdBQUtwc0MsRUFBS3FzQyxFQUFTdFUsQ0FBRyxDQUNyQyxDQUNPLFNBQVN0NUIsR0FBT29OLEVBQU1vaEMsRUFBTUMsRUFBTyxDQUN0QyxRQUFReHZDLEVBQUksRUFBR0EsRUFBSXV2QyxFQUFLLE9BQVF2dkMsSUFBSSxDQUNoQyxNQUFNeXZDLEVBQW1CRixFQUFLdnZDLENBQUMsRUFDekIwdkMsRUFBY0gsRUFBSyxVQUFVdnZDLENBQUMsRUFDOUIydkMsRUFBdUJ4aEMsRUFBSyxFQUFFc2hDLENBQWdCLEVBQ3BELEdBQUlFLEVBQXNCLENBQ3RCLE1BQU1DLEVBQVlELEVBQXFCLEVBQ2pDRSxFQUFrQkQsRUFBVSxPQUM1Qk4sRUFBZUQsR0FBZ0JPLEVBQVdGLENBQVcsRUFDckRJLEVBQXFCUixFQUFhLE9BRXhDLEdBQUlNLElBQWNGLEVBQWEsQ0FDM0JiLEdBQVljLEVBQXNCSCxDQUFLLEVBQ3ZDRyxFQUFxQixFQUFJLEdBQ3pCLE1BQ0gsQ0FDRCxNQUFNSSxFQUEwQkgsRUFBVUUsQ0FBa0IsRUFFNUQsR0FBSUEsRUFBcUJELEdBQW1CQyxJQUF1QkosRUFBWSxPQUFRLENBQ25GLE1BQU01QyxFQUFVbkMsR0FBTyxHQUFNK0UsRUFBYUQsQ0FBZ0IsRUFFMUQzQyxFQUFRLEVBQUVpRCxDQUF1QixFQUFJSixFQUNyQyxNQUFNSyxFQUFlbEQsRUFBUSxFQUFFaUQsQ0FBdUIsRUFDdERDLEVBQWEsRUFBSUosRUFBVSxVQUFVRSxDQUFrQixFQUN2REUsRUFBYSxFQUFJRCxFQUNqQjVoQyxFQUFLLEVBQUVzaEMsQ0FBZ0IsRUFBSTNDLEVBQzNCOEIsR0FBYTlCLEVBQVMzK0IsQ0FBSSxFQUMxQnlnQyxHQUFhb0IsRUFBY2xELENBQU8sRUFDbEMrQixHQUFZL0IsRUFBUzBDLENBQUssRUFDMUIsTUFDSCxDQUVELEdBQUlNLEVBQXFCRCxHQUFtQkMsRUFBcUJKLEVBQVksT0FBUSxDQUNqRixNQUFNTyxFQUFnQnRGLEdBQU8sR0FBTzJFLEVBQWNHLENBQWdCLEVBQ2xFUSxFQUFjLEVBQUVGLENBQXVCLEVBQUlKLEVBQzNDeGhDLEVBQUssRUFBRXNoQyxDQUFnQixFQUFJUSxFQUMzQixNQUFNQyxFQUFxQkQsRUFBYyxFQUFFRixDQUF1QixFQUNsRUcsRUFBbUIsRUFBSU4sRUFBVSxVQUFVRSxDQUFrQixFQUM3REksRUFBbUIsRUFBSUgsRUFDdkIsTUFBTUksRUFBcUJULEVBQVlJLENBQWtCLEVBQ25EaEQsRUFBVW5DLEdBQU8sR0FBTTRFLEVBQUssVUFBVXZ2QyxFQUFJOHZDLENBQWtCLEVBQUdLLENBQWtCLEVBQ3ZGdEIsR0FBWS9CLEVBQVMwQyxDQUFLLEVBQzFCUyxFQUFjLEVBQUVFLENBQWtCLEVBQUlyRCxFQUN0QzhCLEdBQWFxQixFQUFlOWhDLENBQUksRUFDaEN5Z0MsR0FBYTlCLEVBQVNtRCxDQUFhLEVBQ25DckIsR0FBYXNCLEVBQW9CRCxDQUFhLEVBQzlDLE1BQ0gsQ0FFRGp3QyxHQUFLNnZDLEVBQWtCLEVBRXZCMWhDLEVBQU93aEMsQ0FDbkIsS0FBZSxDQUVILE1BQU03QyxFQUFVbkMsR0FBTyxHQUFNK0UsRUFBYUQsQ0FBZ0IsRUFDMURaLEdBQVkvQixFQUFTMEMsQ0FBSyxFQUMxQnJoQyxFQUFLLEVBQUVzaEMsQ0FBZ0IsRUFBSTNDLEVBQzNCOEIsR0FBYTlCLEVBQVMzK0IsQ0FBSSxFQUMxQixNQUNILENBQ0osQ0FDTCxDQUNBLFNBQVNpaUMsR0FBaUJ0dkMsRUFBTWt1QyxFQUFNdG5DLEVBQU9tbUMsRUFBV3dDLEVBQW1CditCLEVBQVEsQ0FDL0UsR0FBSSxFQUFBKzdCLEVBQVksR0FHaEIsSUFBSS9zQyxFQUFLLEVBQUcsQ0FDUixLQUFNLENBQUUsRUFBQXlnQyxFQUFJLEVBQUcyTixDQUFNLEVBQU1wdUMsRUFDM0IsR0FBSXlnQyxJQUNtQixLQUFLLElBQUl5TixFQUFLLE9BQVN6TixFQUFFLE1BQU0sR0FDaEM4TyxHQUFxQjVCLEdBQXVCTyxFQUFNek4sRUFBRzhPLENBQWlCLEVBQUUsWUFDdEZ2K0IsRUFBT3l2QixDQUFDLEVBQUksSUFFWnNHLEdBQWUvMUIsRUFBUXl2QixDQUFDLEdBQUssTUFBUTJOLEVBQU8sT0FBUyxHQUFHLENBQ3hELE1BQU1DLEVBQU8sSUFBSSxJQUFJcjlCLEVBQU95dkIsQ0FBQyxDQUFDLEVBQ3hCNk4sRUFBZUYsRUFBTyxPQUM1QixRQUFRbHZDLEVBQUksRUFBR0EsRUFBSW92QyxFQUFjcHZDLElBQzdCbXZDLEVBQUssSUFBSUQsRUFBT2x2QyxDQUFDLENBQUMsRUFFdEI4UixFQUFPeXZCLENBQUMsRUFBSSxNQUFNLEtBQUs0TixDQUFJLENBQzlCLENBRVIsQ0FDRCxHQUFJLEVBQUF6bkMsR0FBU3NuQyxFQUFLLFFBSWxCLENBQUlBLEVBQUt0bkMsQ0FBSyxJQUFLNUcsRUFBSyxHQUNwQnN2QyxHQUFpQnR2QyxFQUFLLEVBQUVrdUMsRUFBS3RuQyxDQUFLLENBQUMsRUFBR3NuQyxFQUFNdG5DLEVBQVEsRUFBR21tQyxFQUFXd0MsRUFBbUJ2K0IsQ0FBTSxFQUkvRnMrQixHQUFpQnR2QyxFQUFNa3VDLEVBQU10bkMsRUFBUSxFQUFHbW1DLEVBQVksRUFBR3dDLEVBQW1CditCLENBQU0sRUFFaEYsVUFBVTlFLEtBQWFsTSxFQUFLLEVBQ3hCc3ZDLEdBQWlCdHZDLEVBQUssRUFBRWtNLENBQVMsRUFBR2dpQyxFQUFNdG5DLEVBQU9tbUMsRUFBWSxFQUFHd0MsRUFBbUJ2K0IsQ0FBTSxFQUc3RixVQUFVOUUsS0FBYWxNLEVBQUssRUFDcEJrTSxJQUFjZ2lDLEVBQUt0bkMsQ0FBSyxHQUN4QjBvQyxHQUFpQnR2QyxFQUFLLEVBQUVrTSxDQUFTLEVBQUdnaUMsRUFBTXRuQyxFQUFRLEVBQUdtbUMsRUFBWSxFQUFHd0MsRUFBbUJ2K0IsQ0FBTSxHQUd6RyxDQUNPLFNBQVNtN0IsR0FBSzkrQixFQUFNLENBQUUsS0FBQTZnQyxFQUFPLE1BQUFDLEVBQVEsVUFBQXBCLENBQVMsRUFBSyxDQUt0RCxHQUFJQSxHQUFhLENBQUNvQixFQUFPLENBQ3JCLE1BQU1uOUIsRUFBUyxDQUFBLEVBQ2YsT0FBQSs3QixFQUFZQSxHQUFhLEVBQ3pCdUMsR0FBaUJqaUMsRUFBTTZnQyxFQUFNLEVBQUduQixHQUFhLEVBQUdBLEVBQVcvN0IsQ0FBTSxFQUMxREEsQ0FDZixLQUFXLENBQ0gsUUFBUTlSLEVBQUksRUFBR0EsRUFBSWd2QyxFQUFLLE9BQVFodkMsSUFBSSxDQUNoQyxNQUFNZ04sRUFBWWdpQyxFQUFLaHZDLENBQUMsRUFDeEIsR0FBSWdOLEtBQWFtQixFQUFLLEVBQUcsQ0FDckIsTUFBTXdoQyxFQUF1QnhoQyxFQUFLLEVBQUVuQixDQUFTLEVBQ3ZDNGlDLEVBQVlELEVBQXFCLEVBQ2pDVyxFQUFnQnRCLEVBQUssVUFBVWh2QyxDQUFDLEVBR2hDOHZDLEVBRGVULEdBQWdCTyxFQUFXVSxDQUFhLEVBQ3JCLE9BR3hDLEdBQUlSLElBQXVCRixFQUFVLFFBQVVFLElBQXVCUSxFQUFjLE9BQVEsQ0FFeEYsR0FBSXpDLEVBQVcsTUFDZixNQUFPLEVBQ1YsQ0FFRDd0QyxHQUFLMnZDLEVBQXFCLEVBQUUsT0FBUyxFQUVyQ3hoQyxFQUFPd2hDLENBQ3ZCLEtBQ2dCLE9BQU8sRUFFZCxDQUNELE1BQU03OUIsRUFBUyxDQUFBLEVBRWYsT0FBQWk5QixHQUFhNWdDLEVBQU0yRCxFQUFRazlCLEVBQU1DLEVBQU9wQixDQUFTLEVBQzFDLzdCLENBQ1YsQ0FDTCxDQXlDTyxTQUFTeStCLEdBQXFCcGlDLEVBQU02Z0MsRUFBTUYsRUFBT0csRUFBUSxHQUFNLENBQ2xFLEdBQUksQ0FBQ0QsRUFDRCxNQUFPLEdBRVgsUUFBUSxFQUFJLEVBQUcsRUFBSUEsRUFBSyxPQUFRLElBQUksQ0FDaEMsTUFBTWhpQyxFQUFZZ2lDLEVBQUssQ0FBQyxFQUN4QixHQUFJaGlDLEtBQWFtQixFQUFLLEVBQUcsQ0FDckIsTUFBTXdoQyxFQUF1QnhoQyxFQUFLLEVBQUVuQixDQUFTLEVBQzdDLEdBQUsyaUMsRUFBcUIsRUFBRSxPQUFTLEVBQ3JDeGhDLEVBQU93aEMsRUFDSFYsR0FBUzlnQyxFQUFLLElBQU02Z0MsR0FHcEIxQixHQUFlbi9CLEVBQU0yZ0MsQ0FBSyxDQUUxQyxLQUNZLE9BQU8sRUFFZCxDQUNELE1BQU8sRUFDWCxDQ3pTQSxNQUFNMEIsR0FBSSxFQUVKQyxHQUFlLE9BRWQsU0FBUzlGLElBQVMsQ0FDckIsTUFBTyxDQUNILEtBQU0sSUFDZCxDQUNBLENBQ08sU0FBUzVwQyxHQUFPbWpCLEVBQU13c0IsRUFBT3hCLEVBQVEsQ0FDeEMsTUFBTXBDLEVBQVUsQ0FDWixNQUFBNEQsRUFDQSxPQUFBeEIsQ0FDUixFQUNJLEdBQUlockIsRUFBSyxNQUFRLEtBQU0sQ0FDbkJBLEVBQUssS0FBTzRvQixFQUNaLE1BQ0gsQ0FDRCxJQUFJaHNDLEVBQU9vakIsRUFBSyxLQUNaeXNCLEVBQVEsRUFDWixLQUFNN3ZDLElBQVMsTUFBSyxDQUVoQixHQUFJQSxFQUFLLE1BQU0sTUFBUTR2QyxFQUFNLEtBQU81dkMsRUFBSyxNQUFNLE1BQVE0dkMsRUFBTSxJQUFLLENBRTlELE1BQU1FLEVBQVk5dkMsRUFBSyxRQUFVLEdBQ2pDQSxFQUFLLE9BQVMsTUFBTSxLQUFLLElBQUksSUFBSSxDQUM3QixHQUFHOHZDLEVBQ0gsR0FBRzFCLEdBQVUsQ0FBRSxDQUNsQixDQUFBLENBQUMsRUFDRixNQUNILENBR0QsR0FGYXlCLEVBQVFILEtBRVIsRUFDVCxHQUFJRSxFQUFNLElBQU01dkMsRUFBSyxNQUFNLElBQUssQ0FDNUIsR0FBSUEsRUFBSyxNQUFRLEtBQU0sQ0FDbkJBLEVBQUssS0FBT2dzQyxFQUNaLE1BQ0gsQ0FDRGhzQyxFQUFPQSxFQUFLLElBQzVCLEtBQW1CLENBQ0gsR0FBSUEsRUFBSyxPQUFTLEtBQU0sQ0FDcEJBLEVBQUssTUFBUWdzQyxFQUNiLE1BQ0gsQ0FDRGhzQyxFQUFPQSxFQUFLLEtBQ2YsU0FHRzR2QyxFQUFNLElBQU01dkMsRUFBSyxNQUFNLElBQUssQ0FDNUIsR0FBSUEsRUFBSyxNQUFRLEtBQU0sQ0FDbkJBLEVBQUssS0FBT2dzQyxFQUNaLE1BQ0gsQ0FDRGhzQyxFQUFPQSxFQUFLLElBQzVCLEtBQW1CLENBQ0gsR0FBSUEsRUFBSyxPQUFTLEtBQU0sQ0FDcEJBLEVBQUssTUFBUWdzQyxFQUNiLE1BQ0gsQ0FDRGhzQyxFQUFPQSxFQUFLLEtBQ2YsQ0FFTDZ2QyxHQUNILENBQ0wsQ0E2Qk8sU0FBU0UsR0FBYzNzQixFQUFNd3NCLEVBQU81QixFQUFPLENBQzlDLElBQUlodUMsRUFBT29qQixFQUFLLEtBQ1p5c0IsRUFBUSxFQUNSekQsRUFBYSxLQUNiNEQsRUFBWSxLQUNoQixLQUFNaHdDLElBQVMsTUFBSyxDQUNoQixJQUFLQSxHQUFTLEtBQTBCLE9BQVNBLEVBQUssTUFBTSxPQUFTNHZDLEVBQU0sS0FBTzV2QyxFQUFLLE1BQU0sTUFBUTR2QyxFQUFNLElBQUssQ0FDNUcsSUFBSUssRUFDSixNQUFNcnBDLEdBQVNxcEMsRUFBZWp3QyxFQUFLLFVBQVksTUFBUWl3QyxJQUFpQixPQUFTLE9BQVNBLEVBQWEsUUFBUWpDLENBQUssRUFDcEgsR0FBSXBuQyxJQUFVLFFBQWFBLEVBQVEsR0FBSSxDQUNuQyxJQUNBc3BDLEdBQ0NBLEVBQWdCbHdDLEVBQUssVUFBWSxNQUFRa3dDLElBQWtCLFFBQWtCQSxFQUFjLE9BQU90cEMsRUFBTyxDQUFDLEdBQ3ZHNUcsRUFBSyxRQUFVLE1BQVFBLEVBQUssT0FBTyxTQUFXLEtBRTFDb3NDLEdBQWMsS0FDVjRELElBQWMsT0FDZDVELEVBQVcsS0FBT3BzQyxFQUFLLE9BQVMsS0FBT0EsRUFBSyxLQUFPQSxFQUFLLE1BQ2pEZ3dDLElBQWMsVUFDckI1RCxFQUFXLE1BQVFwc0MsRUFBSyxRQUFVLEtBQU9BLEVBQUssTUFBUUEsRUFBSyxNQUkvRG9qQixFQUFLLEtBQU9wakIsRUFBSyxPQUFTLEtBQU9BLEVBQUssS0FBT0EsRUFBSyxPQUcxRCxNQUNILENBQ0osQ0FDRCxNQUFNbXdDLEVBQU9OLEVBQVFILEdBQ3JCdEQsRUFBYXBzQyxFQUVUbXdDLElBQVMsRUFDTFAsRUFBTSxJQUFNNXZDLEVBQUssTUFBTSxLQUN2QkEsRUFBT0EsR0FBUyxLQUEwQixPQUFTQSxFQUFLLEtBQ3hEZ3dDLEVBQVksU0FFWmh3QyxFQUFPQSxHQUFTLEtBQTBCLE9BQVNBLEVBQUssTUFDeERnd0MsRUFBWSxTQUlaSixFQUFNLElBQU01dkMsRUFBSyxNQUFNLEtBQ3ZCQSxFQUFPQSxHQUFTLEtBQTBCLE9BQVNBLEVBQUssS0FDeERnd0MsRUFBWSxTQUVaaHdDLEVBQU9BLEdBQVMsS0FBMEIsT0FBU0EsRUFBSyxNQUN4RGd3QyxFQUFZLFNBR3BCSCxHQUNILENBQ0wsQ0E2Qk8sU0FBU08sR0FBZXB3QyxFQUFNcXdDLEVBQVFDLEVBQVF6RSxFQUFZLEdBQU0wRSxFQUFPLE1BQU9DLEVBQWdCLEdBQU8sQ0FDeEcsTUFBTUMsRUFBYUQsRUFBZ0JFLEdBQW1CQyxHQUNoREMsRUFBUSxDQUNWLENBQ0ksS0FBQTV3QyxFQUNBLE1BQU8sQ0FDVixDQUNULEVBQ1VILEVBQVMsQ0FBQSxFQUNmLEtBQU0rd0MsRUFBTSxPQUFTLEdBQUUsQ0FDbkIsS0FBTSxDQUFFLEtBQUE1d0MsRUFBTyxNQUFBNnZDLENBQVEsRUFBR2UsRUFBTSxJQUFHLEVBQ25DLEdBQUk1d0MsSUFBUyxLQUFNLFNBQ25CLE1BQU15VixFQUFPZzdCLEVBQVdKLEVBQVFyd0MsRUFBSyxLQUFLLEdBQ3RDNnJDLEVBQVlwMkIsR0FBUTY2QixFQUFTNzZCLEVBQU82NkIsSUFDcEN6d0MsRUFBTyxLQUFLLENBQ1IsTUFBT0csRUFBSyxNQUNaLE9BQVFBLEVBQUssUUFBVSxDQUFFLENBQ3pDLENBQWEsRUFFREEsRUFBSyxNQUFRLE1BQ2I0d0MsRUFBTSxLQUFLLENBQ1AsS0FBTTV3QyxFQUFLLEtBQ1gsTUFBTzZ2QyxFQUFRLENBQy9CLENBQWEsRUFFRDd2QyxFQUFLLE9BQVMsTUFDZDR3QyxFQUFNLEtBQUssQ0FDUCxLQUFNNXdDLEVBQUssTUFDWCxNQUFPNnZDLEVBQVEsQ0FDL0IsQ0FBYSxDQUVSLENBQ0QsT0FBSVUsR0FDQTF3QyxFQUFPLEtBQUssQ0FBQ2pDLEVBQUdDLElBQUksQ0FDaEIsTUFBTWd6QyxFQUFRSixFQUFXSixFQUFRenlDLEVBQUUsS0FBSyxFQUNsQ2t6QyxFQUFRTCxFQUFXSixFQUFReHlDLEVBQUUsS0FBSyxFQUN4QyxPQUFPMHlDLEVBQUssZ0JBQWtCLE1BQVFNLEVBQVFDLEVBQVFBLEVBQVFELENBQzFFLENBQVMsRUFFRWh4QyxDQUNYLENBQ08sU0FBU2t4QyxHQUFnQjFqQyxFQUFNMmpDLEVBQVNuRixFQUFZLEdBQU0wRSxFQUFPLEtBQU1DLEVBQWdCLEdBQU8sQ0FDakcsTUFBTUksRUFBUSxDQUNWLENBQ0ksS0FBTXZqQyxFQUNOLE1BQU8sQ0FDVixDQUNULEVBQ1V4TixFQUFTLENBQUEsRUFDZixLQUFNK3dDLEVBQU0sT0FBUyxHQUFFLENBQ25CLE1BQU1LLEVBQU9MLEVBQU0sTUFDbkIsR0FBSUssR0FBUSxNQUFRQSxFQUFLLE1BQVEsS0FBTSxTQUN2QyxLQUFNLENBQUUsS0FBQWp4QyxFQUFPLE1BQUE2dkMsQ0FBUSxFQUFHb0IsRUFDcEJDLEVBQVlyQixFQUFRLEVBQ3RCN3ZDLEVBQUssTUFBUSxNQUNiNHdDLEVBQU0sS0FBSyxDQUNQLEtBQU01d0MsRUFBSyxLQUNYLE1BQU9reEMsQ0FDdkIsQ0FBYSxFQUVEbHhDLEVBQUssT0FBUyxNQUNkNHdDLEVBQU0sS0FBSyxDQUNQLEtBQU01d0MsRUFBSyxNQUNYLE1BQU9reEMsQ0FDdkIsQ0FBYSxFQUVMLE1BQU1DLEVBQWtCQyxHQUFpQkosRUFBU2h4QyxFQUFLLEtBQUssRUFDeERteEMsR0FBbUJ0RixFQUNuQmhzQyxFQUFPLEtBQUssQ0FDUixNQUFPRyxFQUFLLE1BQ1osT0FBUUEsRUFBSyxRQUFVLENBQUUsQ0FDekMsQ0FBYSxFQUNNLENBQUNteEMsR0FBbUIsQ0FBQ3RGLEdBQzVCaHNDLEVBQU8sS0FBSyxDQUNSLE1BQU9HLEVBQUssTUFDWixPQUFRQSxFQUFLLFFBQVUsQ0FBRSxDQUN6QyxDQUFhLENBRVIsQ0FDRCxNQUFNcXhDLEVBQVdDLEdBQXlCTixDQUFPLEVBQ2pELEdBQUlULEVBQU0sQ0FDTixNQUFNZ0IsRUFBU2YsRUFBZ0JFLEdBQW1CQyxHQUNsRDl3QyxFQUFPLEtBQUssQ0FBQ2pDLEVBQUdDLElBQUksQ0FDaEIsTUFBTWd6QyxFQUFRVSxFQUFPRixFQUFVenpDLEVBQUUsS0FBSyxFQUNoQ2t6QyxFQUFRUyxFQUFPRixFQUFVeHpDLEVBQUUsS0FBSyxFQUN0QyxPQUFPMHlDLEVBQUssZ0JBQWtCLE1BQVFNLEVBQVFDLEVBQVFBLEVBQVFELENBQzFFLENBQVMsQ0FDSixDQUNELE9BQU9oeEMsQ0FDWCxDQUNBLFNBQVN5eEMsR0FBeUJOLEVBQVMsQ0FDdkMsSUFBSVEsRUFBWSxFQUNaQyxFQUFZLEVBQ1pDLEVBQVksRUFDaEIsUUFBUSxFQUFJLEVBQUd2OUIsRUFBSTY4QixFQUFRLE9BQVMsRUFBRyxFQUFJQSxFQUFRLE9BQVE3OEIsRUFBSSxJQUFJLENBQy9ELE1BQU13OUIsRUFBS1gsRUFBUSxDQUFDLEVBQUUsSUFDaEJZLEVBQUtaLEVBQVEsQ0FBQyxFQUFFLElBQ2hCYSxFQUFLYixFQUFRNzhCLENBQUMsRUFBRSxJQUNoQjI5QixFQUFLZCxFQUFRNzhCLENBQUMsRUFBRSxJQUNoQjQ5QixFQUFjSixFQUFLRyxFQUFLRCxFQUFLRCxFQUNuQ0osR0FBYU8sRUFDYk4sSUFBY0UsRUFBS0UsR0FBTUUsRUFDekJMLElBQWNFLEVBQUtFLEdBQU1DLENBQzVCLENBQ0QsT0FBQVAsR0FBYSxFQUNiQyxHQUFhLEVBQUlELEVBQ2pCRSxHQUFhLEVBQUlGLEVBQ1YsQ0FDSCxJQUFLQyxFQUNMLElBQUtDLENBQ2IsQ0FDQSxDQUNBLFNBQVNOLEdBQWlCSixFQUFTcEIsRUFBTyxDQUN0QyxJQUFJb0MsRUFBVyxHQUNmLE1BQU10bEMsRUFBSWtqQyxFQUFNLElBQ1ZoUCxFQUFJZ1AsRUFBTSxJQUNoQixRQUFRMXdDLEVBQUksRUFBR2lWLEVBQUk2OEIsRUFBUSxPQUFTLEVBQUc5eEMsRUFBSTh4QyxFQUFRLE9BQVE3OEIsRUFBSWpWLElBQUksQ0FDL0QsTUFBTXl5QyxFQUFLWCxFQUFROXhDLENBQUMsRUFBRSxJQUNoQjB5QyxFQUFLWixFQUFROXhDLENBQUMsRUFBRSxJQUNoQjJ5QyxFQUFLYixFQUFRNzhCLENBQUMsRUFBRSxJQUNoQjI5QixFQUFLZCxFQUFRNzhCLENBQUMsRUFBRSxJQUNKeTlCLEVBQUtoUixHQUFNa1IsRUFBS2xSLEdBQUtsMEIsR0FBS21sQyxFQUFLRixJQUFPL1EsRUFBSWdSLElBQU9FLEVBQUtGLEdBQU1ELElBQy9ESyxFQUFXLENBQUNBLEVBQzlCLENBQ0QsT0FBT0EsQ0FDWCxDQUNBLFNBQVNyQixHQUFrQnNCLEVBQVFDLEVBQVEsQ0FDdkMsTUFBTUMsRUFBSSxLQUFLLEdBQUssSUFDZEMsRUFBT0gsRUFBTyxJQUFNRSxFQUNwQkUsRUFBT0gsRUFBTyxJQUFNQyxFQUNwQkcsR0FBWUosRUFBTyxJQUFNRCxFQUFPLEtBQU9FLEVBQ3ZDSSxHQUFZTCxFQUFPLElBQU1ELEVBQU8sS0FBT0UsRUFDdkN2MEMsRUFBSSxLQUFLLElBQUkwMEMsRUFBVyxDQUFDLEVBQUksS0FBSyxJQUFJQSxFQUFXLENBQUMsRUFBSSxLQUFLLElBQUlGLENBQUksRUFBSSxLQUFLLElBQUlDLENBQUksRUFBSSxLQUFLLElBQUlFLEVBQVcsQ0FBQyxFQUFJLEtBQUssSUFBSUEsRUFBVyxDQUFDLEVBQ3RJMXZDLEVBQUksRUFBSSxLQUFLLE1BQU0sS0FBSyxLQUFLakYsQ0FBQyxFQUFHLEtBQUssS0FBSyxFQUFJQSxDQUFDLENBQUMsRUFDdkQsT0FBTyt4QyxHQUFlOXNDLENBQzFCLENBQ0EsU0FBUzZ0QyxHQUFpQnVCLEVBQVFDLEVBQVEsQ0FLdEMsTUFBTXJqQixFQUFJLHFCQUVKaHhCLEdBQUssRUFBSWd4QixHQUFLLFFBRWRzakIsRUFBSSxLQUFLLEdBQUssSUFDZEMsRUFBT0gsRUFBTyxJQUFNRSxFQUNwQkUsRUFBT0gsRUFBTyxJQUFNQyxFQUNwQkksR0FBWUwsRUFBTyxJQUFNRCxFQUFPLEtBQU9FLEVBRXZDSyxFQUFLLEtBQUssTUFBTSxFQUFJM2pCLEdBQUssS0FBSyxJQUFJdWpCLENBQUksQ0FBQyxFQUN2Q0ssRUFBSyxLQUFLLE1BQU0sRUFBSTVqQixHQUFLLEtBQUssSUFBSXdqQixDQUFJLENBQUMsRUFDdkNLLEVBQVEsS0FBSyxJQUFJRixDQUFFLEVBQ25CRyxFQUFRLEtBQUssSUFBSUgsQ0FBRSxFQUNuQkksRUFBUSxLQUFLLElBQUlILENBQUUsRUFDbkJJLEVBQVEsS0FBSyxJQUFJSixDQUFFLEVBRXpCLElBQUlLLEVBQVNQLEVBQ1RRLEVBRUFDLEVBQWlCLElBQ2pCQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUVKLEVBQUcsQ0FDQyxNQUFNQyxFQUFZLEtBQUssSUFBSVIsQ0FBTSxFQUMzQlMsRUFBWSxLQUFLLElBQUlULENBQU0sRUFFakNLLEVBQVcsS0FBSyxLQUFLTixFQUFRUyxHQUFhVCxFQUFRUyxJQUFjWCxFQUFRQyxFQUFRRixFQUFRRyxFQUFRVSxJQUFjWixFQUFRQyxFQUFRRixFQUFRRyxFQUFRVSxFQUFVLEVBQ3hKSCxFQUFXVixFQUFRRSxFQUFRRCxFQUFRRSxFQUFRVSxFQUMzQ0YsRUFBUSxLQUFLLE1BQU1GLEVBQVVDLENBQVEsRUFFckNILEVBQVdOLEVBQVFFLEVBQVFTLEVBQVlILEVBQ3ZDRCxFQUFZLEVBQUlELEVBQVdBLEVBQzNCLE1BQU1PLEVBQWFKLEVBQVcsRUFBSVYsRUFBUUUsRUFBUU0sRUFFNUNuUyxFQUFJbFMsRUFBSSxHQUFLcWtCLEdBQWEsRUFBSXJrQixHQUFLLEVBQUksRUFBSXFrQixJQUVqREgsRUFBYUQsRUFFYkEsRUFBU1AsR0FBWSxFQUFJeFIsR0FBS2xTLEVBQUlva0IsR0FBWUksRUFBUXRTLEVBQUlvUyxHQUFZSyxFQUFhelMsRUFBSXFTLEdBQVksR0FBSyxFQUFJSSxFQUFhQSxJQUNqSSxPQUFZLEtBQUssSUFBSVYsRUFBU0MsQ0FBVSxFQUFJLE9BQVMsRUFBRUMsRUFBaUIsR0FFcEUsTUFBTVMsRUFBS1AsR0FBYSxRQUFJLFFBQUlyMUMsRUFBSUEsSUFBTUEsRUFBSUEsR0FDeENxakMsRUFBSSxFQUFJdVMsRUFBSyxPQUFTLEtBQU9BLEdBQU0sS0FBT0EsR0FBTSxJQUFNLElBQU1BLEtBQzVEclMsRUFBSXFTLEVBQUssTUFBUSxJQUFNQSxHQUFNLEtBQU9BLEdBQU0sR0FBSyxHQUFLQSxLQUVwREMsRUFBYXRTLEVBQUkrUixHQUFZQyxFQUFXLEVBQUlWLEVBQVFFLEVBQVFNLEVBQVk5UixFQUFJLEdBQUtnUyxHQUFZLEdBQUssRUFBSUQsRUFBV0EsR0FBWS9SLEVBQUksRUFBSWlTLEdBQVMsR0FBSyxFQUFJRixFQUFXQSxJQUFhLEdBQUssRUFBSUUsRUFBUUEsS0FHdE0sT0FEVXgxQyxFQUFJcWpDLEdBQUttUyxFQUFRSyxFQUUvQixDQzVTTyxTQUFTQyxHQUFLQyxFQUFJQyxFQUFlQyxFQUFXQyxFQUFhQyxFQUFvQkMsRUFBWSxDQUM1RixLQUFNLENBQUUsRUFBQTkyQyxFQUFJLEVBQUFVLEVBQUksRUFBQTZpQyxDQUFDLEVBQU11VCxFQUV2QixPQURZLEtBQUssSUFBSSxHQUFLSCxFQUFZRCxFQUFnQixLQUFRQSxFQUFnQixHQUFJLEdBQ3BFblQsRUFBSWtULEdBQU16MkMsRUFBSSxLQUFPeTJDLEVBQUt6MkMsR0FBSyxFQUFJVSxFQUFJQSxFQUFJazJDLEVBQWNDLEdBQzNFLENDekVPLFNBQVNFLEdBQWFDLEVBQVFDLEVBQWMsQ0FDL0MsSUFBSUMsRUFBWSxFQUNoQixRQUFRbjFDLEVBQUksRUFBR0EsRUFBSWsxQyxFQUFjbDFDLElBQzdCbTFDLEdBQWFGLEVBQU9qMUMsQ0FBQyxFQUFJaTFDLEVBQU9qMUMsQ0FBQyxFQUVyQyxPQUFPLEtBQUssS0FBS20xQyxDQUFTLENBQzlCLENBRU8sU0FBU0MsR0FBbUJDLEVBQWNDLEVBQVM5MEMsRUFBUSswQyxFQUFZLEdBQUssQ0FDL0UsTUFBTUMsRUFBa0JSLEdBQWFLLEVBQWM3MEMsQ0FBTSxFQUNuRGkxQyxFQUFpQixDQUFBLEVBQ3ZCLFNBQVcsQ0FBQ0MsRUFBVSxDQUFDUCxFQUFXRixDQUFNLENBQUMsSUFBSyxPQUFPLFFBQVFLLENBQU8sRUFBRSxDQUNsRSxJQUFJSyxFQUFhLEVBQ2pCLFFBQVEzMUMsRUFBSSxFQUFHQSxFQUFJUSxFQUFRUixJQUN2QjIxQyxHQUFjTixFQUFhcjFDLENBQUMsRUFBSWkxQyxFQUFPajFDLENBQUMsRUFFNUMsTUFBTTQxQyxFQUFhRCxHQUFjSCxFQUFrQkwsR0FDL0NTLEdBQWNMLEdBQ2RFLEVBQWUsS0FBSyxDQUNoQixHQUFJQyxFQUNKLE1BQU9FLENBQ3ZCLENBQWEsQ0FFUixDQUNELE9BQU9ILEVBQWUsS0FBSyxDQUFDLEVBQUc5MkMsSUFBSUEsRUFBRSxNQUFRLEVBQUUsS0FBSyxDQUN4RCxDQ2ZPLGVBQWVrM0MsR0FBOEJudUMsRUFBTzJuQixFQUFNN1QsRUFBSThmLEVBQVFzWixFQUFXLENBQ3BGLE1BQU1uSyxFQUFhRCxHQUFzQjlpQyxFQUFNLDRCQUE2QjhULENBQUUsRUFDOUU5VCxFQUFNLGVBQWUybkIsQ0FBSSxJQUFNM25CLEVBQU0sZUFBZTJuQixDQUFJLEdBQUssSUFBTXVsQixFQUFZLEdBQUt0WixFQUFPLFFBQVVzWixFQUNyR2x0QyxFQUFNLGFBQWEybkIsQ0FBSSxFQUFFb2IsQ0FBVSxFQUFJblAsRUFBTyxPQUM5QzV6QixFQUFNLFlBQVkybkIsQ0FBSSxFQUFFb2IsQ0FBVSxFQUFJLENBQUEsQ0FDMUMsQ0FDTyxlQUFlcUwsR0FBMkJwdUMsRUFBTzJuQixFQUFNN1QsRUFBSThmLEVBQVEzb0IsRUFBTyxDQUM3RSxJQUFJb2pDLEVBQWlCLEVBQ3JCLFVBQVcxd0IsS0FBS2lXLEVBQ1JqVyxJQUFNMVMsR0FDTm9qQyxJQUdSLE1BQU10TCxFQUFhRCxHQUFzQjlpQyxFQUFNLDRCQUE2QjhULENBQUUsRUFDeEVrNUIsRUFBS3FCLEVBQWlCemEsRUFBTyxPQUNuQzV6QixFQUFNLFlBQVkybkIsQ0FBSSxFQUFFb2IsQ0FBVSxFQUFFOTNCLENBQUssRUFBSStoQyxFQUN2Qy9oQyxLQUFTakwsRUFBTSxpQkFBaUIybkIsQ0FBSSxJQUN0QzNuQixFQUFNLGlCQUFpQjJuQixDQUFJLEVBQUUxYyxDQUFLLEVBQUksR0FHMUNqTCxFQUFNLGlCQUFpQjJuQixDQUFJLEVBQUUxYyxDQUFLLEdBQUtqTCxFQUFNLGlCQUFpQjJuQixDQUFJLEVBQUUxYyxDQUFLLEdBQUssR0FBSyxDQUN2RixDQUNPLGVBQWVxakMsR0FBOEJ0dUMsRUFBTzJuQixFQUFNN1QsRUFBSW81QixFQUFXLENBQzVFLE1BQU1uSyxFQUFhRCxHQUFzQjlpQyxFQUFNLDRCQUE2QjhULENBQUUsRUFDOUU5VCxFQUFNLGVBQWUybkIsQ0FBSSxHQUFLM25CLEVBQU0sZUFBZTJuQixDQUFJLEVBQUl1bEIsRUFBWWx0QyxFQUFNLGFBQWEybkIsQ0FBSSxFQUFFb2IsQ0FBVSxJQUFNbUssRUFBWSxHQUM1SGx0QyxFQUFNLGFBQWEybkIsQ0FBSSxFQUFFb2IsQ0FBVSxFQUFJLE9BQ3ZDL2lDLEVBQU0sWUFBWTJuQixDQUFJLEVBQUVvYixDQUFVLEVBQUksTUFDMUMsQ0FDTyxlQUFld0wsR0FBMkJ2dUMsRUFBTzJuQixFQUFNMWMsRUFBTyxDQUNqRWpMLEVBQU0saUJBQWlCMm5CLENBQUksRUFBRTFjLENBQUssR0FDdEMsQ0FDTyxlQUFldWpDLEdBQXNCcGlDLEVBQVNwTSxFQUFPMm5CLEVBQU0yZixFQUFNakUsRUFBSyxDQUN6RSxNQUFNb0wsRUFBYyxNQUFNLEtBQUtwTCxDQUFHLEVBRTVCcUwsRUFBaUIxdUMsRUFBTSxlQUFlMm5CLENBQUksRUFDMUNnbkIsRUFBZTN1QyxFQUFNLGFBQWEybkIsQ0FBSSxFQUN0Q2luQixFQUFtQjV1QyxFQUFNLGlCQUFpQjJuQixDQUFJLEVBQzlDa25CLEVBQW1CN3VDLEVBQU0sWUFBWTJuQixDQUFJLEVBRXpDbW5CLEVBQWtCLE9BQU9GLEVBQWlCdEgsQ0FBSSxHQUFNLFNBQVdzSCxFQUFpQnRILENBQUksR0FBSyxFQUFJLEVBQzdGeUgsRUFBWSxDQUFBLEVBRVpDLEVBQW9CUCxFQUFZLE9BQ3RDLFFBQVFsNEMsRUFBSSxFQUFHQSxFQUFJeTRDLEVBQW1CejRDLElBQUksQ0FDdEMsSUFBSTA0QyxFQUNKLE1BQU1sTSxFQUFhRCxHQUFzQjlpQyxFQUFNLDRCQUE2Qnl1QyxFQUFZbDRDLENBQUMsQ0FBQyxFQUNwRnkyQyxHQUFNNkIsR0FBcUIsT0FBZ0RJLEVBQStCSixFQUFpQjlMLENBQVUsS0FBTyxNQUFRa00sSUFBaUMsT0FBcEgsT0FBc0lBLEVBQTZCM0gsQ0FBSSxJQUFNLEVBQzlPNEgsRUFBT25DLEdBQUtDLEVBQUk4QixFQUFpQjFpQyxFQUFRLFVBQVd1aUMsRUFBYTVMLENBQVUsRUFBRzJMLEVBQWdCdGlDLEVBQVEsT0FBTyxTQUFTLEVBQzVIMmlDLEVBQVUsS0FBSyxDQUNYaE0sRUFDQW1NLENBQ1osQ0FBUyxDQUNKLENBQ0QsT0FBT0gsQ0FDWCxDQUNPLGVBQWU5TCxHQUFPTixFQUFPTyxFQUE2QnZCLEVBQVEzaEMsRUFBT2lNLEVBQVMsR0FBSSxDQUNwRmpNLElBQ0RBLEVBQVEsQ0FDSiw0QkFBQWtqQyxFQUNBLFFBQVMsQ0FBRSxFQUNYLGNBQWUsQ0FBRSxFQUNqQixxQkFBc0IsQ0FBRSxFQUN4Qiw4QkFBK0IsQ0FBRSxFQUNqQyxZQUFhLENBQUUsRUFDZixpQkFBa0IsQ0FBRSxFQUNwQixlQUFnQixDQUFFLEVBQ2xCLGFBQWMsQ0FBRSxDQUM1QixHQUVJLFNBQVcsQ0FBQ3ZiLEVBQU01bkIsQ0FBSSxJQUFLLE9BQU8sUUFBUTRoQyxDQUFNLEVBQUUsQ0FDOUMsTUFBTW5oQyxFQUFPLEdBQUd5TCxDQUFNLEdBQUdBLEVBQVMsSUFBTSxFQUFFLEdBQUcwYixDQUFJLEdBQ2pELEdBQUksT0FBTzVuQixHQUFTLFVBQVksQ0FBQyxNQUFNLFFBQVFBLENBQUksRUFBRyxDQUVsRGtqQyxHQUFPTixFQUFPTyxFQUE2Qm5qQyxFQUFNQyxFQUFPUSxDQUFJLEVBQzVELFFBQ0gsQ0FDRCxHQUFJcWhDLEdBQWE5aEMsQ0FBSSxFQUNqQkMsRUFBTSxxQkFBcUIsS0FBS1EsQ0FBSSxFQUNwQ1IsRUFBTSw4QkFBOEJRLENBQUksRUFBSVQsRUFDNUNDLEVBQU0sY0FBY1EsQ0FBSSxFQUFJLENBQ3hCLEtBQU11aEMsR0FBY2hpQyxDQUFJLEVBQ3hCLFFBQVMsQ0FBRSxDQUMzQixNQUNlLENBQ0gsTUFBTW92QyxFQUFVLEtBQUssS0FBS3B2QyxDQUFJLEVBQzlCLE9BQU9BLEVBQUksQ0FDUCxJQUFLLFVBQ0wsSUFBSyxZQUNEQyxFQUFNLFFBQVFRLENBQUksRUFBSSxDQUNsQixLQUFNLE9BQ04sS0FBTSxDQUNGLEtBQU0sQ0FBRSxFQUNSLE1BQU8sQ0FBRSxDQUNaLEVBQ0QsUUFBQTJ1QyxDQUN4QixFQUNvQixNQUNKLElBQUssU0FDTCxJQUFLLFdBQ0RudkMsRUFBTSxRQUFRUSxDQUFJLEVBQUksQ0FDbEIsS0FBTSxNQUNOLEtBQU00dUMsR0FBVSxFQUFHLEVBQUUsRUFDckIsUUFBQUQsQ0FDeEIsRUFDb0IsTUFDSixJQUFLLFNBQ0wsSUFBSyxXQUNEbnZDLEVBQU0sUUFBUVEsQ0FBSSxFQUFJLENBQ2xCLEtBQU0sUUFDTixLQUFNNnVDLEdBQWEsRUFDbkIsUUFBQUYsQ0FDeEIsRUFDb0JudkMsRUFBTSxlQUFlUSxDQUFJLEVBQUksRUFDN0JSLEVBQU0sWUFBWVEsQ0FBSSxFQUFJLEdBQzFCUixFQUFNLGlCQUFpQlEsQ0FBSSxFQUFJLEdBQy9CUixFQUFNLGFBQWFRLENBQUksRUFBSSxHQUMzQixNQUNKLElBQUssT0FDTCxJQUFLLFNBQ0RSLEVBQU0sUUFBUVEsQ0FBSSxFQUFJLENBQ2xCLEtBQU0sT0FDTixLQUFNOHVDLEdBQVksRUFDbEIsUUFBQUgsQ0FDeEIsRUFDb0IsTUFDSixJQUFLLFdBQ0RudkMsRUFBTSxRQUFRUSxDQUFJLEVBQUksQ0FDbEIsS0FBTSxNQUNOLEtBQU0rdUMsR0FBVyxFQUNqQixRQUFBSixDQUN4QixFQUNvQixNQUNKLFFBQ0ksTUFBTTlOLEdBQVksc0JBQXVCLE1BQU0sUUFBUXRoQyxDQUFJLEVBQUksUUFBVUEsRUFBTVMsQ0FBSSxDQUMxRixDQUNEUixFQUFNLHFCQUFxQixLQUFLUSxDQUFJLEVBQ3BDUixFQUFNLDhCQUE4QlEsQ0FBSSxFQUFJVCxDQUMvQyxDQUNKLENBQ0QsT0FBT0MsQ0FDWCxDQUNBLGVBQWV3dkMsR0FBYUMsRUFBZ0J6dkMsRUFBTzJuQixFQUFNN1QsRUFBSXhaLEVBQU9vMUMsRUFBWUMsRUFBVUMsRUFBVzFDLEVBQVcsQ0FDNUcsTUFBTW5LLEVBQWFELEdBQXNCOWlDLEVBQU0sNEJBQTZCOFQsQ0FBRSxFQUN4RSxDQUFFLEtBQUEvVCxFQUFPLEtBQUEzRyxDQUFJLEVBQU00RyxFQUFNLFFBQVEybkIsQ0FBSSxFQUMzQyxPQUFPNW5CLEVBQUksQ0FDUCxJQUFLLE9BQ0QsQ0FDSTNHLEVBQUtrQixFQUFRLE9BQVMsT0FBTyxFQUFFLEtBQUt5b0MsQ0FBVSxFQUM5QyxLQUNILENBQ0wsSUFBSyxNQUNELENBQ0k4TSxHQUFVejJDLEVBQU1rQixFQUFPLENBQ25CeW9DLENBQ3BCLENBQWlCLEVBQ0QsS0FDSCxDQUNMLElBQUssUUFDRCxDQUNJLE1BQU1uUCxFQUFTLE1BQU1nYyxFQUFVLFNBQVN0MUMsRUFBT3ExQyxFQUFVaG9CLENBQUksRUFDN0QsTUFBTThuQixFQUFlLDhCQUE4Qnp2QyxFQUFPMm5CLEVBQU1vYixFQUFZblAsRUFBUXNaLENBQVMsRUFDN0YsVUFBV2ppQyxLQUFTMm9CLEVBQ2hCLE1BQU02YixFQUFlLDJCQUEyQnp2QyxFQUFPMm5CLEVBQU1vYixFQUFZblAsRUFBUTNvQixDQUFLLEVBQ3RGNmtDLEdBQVkxMkMsRUFBTTZSLEVBQU84M0IsQ0FBVSxFQUV2QyxLQUNILENBQ0wsSUFBSyxPQUNELENBQ0lnTixHQUFXMzJDLEVBQU1rQixFQUFPeW9DLENBQVUsRUFDbEMsS0FDSCxDQUNMLElBQUssTUFDRCxDQUNJaU4sR0FBVTUyQyxFQUFNa0IsRUFBTyxDQUNuQnlvQyxDQUNwQixDQUFpQixFQUNELEtBQ0gsQ0FDUixDQUNMLENBQ08sZUFBZTFwQyxHQUFPbzJDLEVBQWdCenZDLEVBQU8ybkIsRUFBTTdULEVBQUl4WixFQUFPbzFDLEVBQVlDLEVBQVVDLEVBQVcxQyxFQUFXLENBQzdHLEdBQUlyTCxHQUFhNk4sQ0FBVSxFQUN2QixPQUFPTyxHQUFhandDLEVBQU8ybkIsRUFBTXJ0QixFQUFPd1osQ0FBRSxFQUU5QyxHQUFJLENBQUNrdUIsR0FBWTBOLENBQVUsRUFDdkIsT0FBT0YsR0FBYUMsRUFBZ0J6dkMsRUFBTzJuQixFQUFNN1QsRUFBSXhaLEVBQU9vMUMsRUFBWUMsRUFBVUMsRUFBVzFDLENBQVMsRUFFMUcsTUFBTWdELEVBQWtCaE8sR0FBYXdOLENBQVUsRUFDekNTLEVBQVc3MUMsRUFDWDgxQyxFQUFpQkQsRUFBUyxPQUNoQyxRQUFRNzNDLEVBQUksRUFBR0EsRUFBSTgzQyxFQUFnQjkzQyxJQUMvQixNQUFNazNDLEdBQWFDLEVBQWdCenZDLEVBQU8ybkIsRUFBTTdULEVBQUlxOEIsRUFBUzczQyxDQUFDLEVBQUc0M0MsRUFBaUJQLEVBQVVDLEVBQVcxQyxDQUFTLENBRXhILENBQ0EsU0FBUytDLEdBQWFqd0MsRUFBTzJuQixFQUFNcnRCLEVBQU93WixFQUFJLENBQ3BDeFosYUFBaUIsZUFDbkJBLEVBQVEsSUFBSSxhQUFhQSxDQUFLLEdBRWxDLE1BQU1pb0MsRUFBT3ZpQyxFQUFNLGNBQWMybkIsQ0FBSSxFQUFFLEtBQ2pDOGxCLEVBQVlILEdBQWFoekMsRUFBT2lvQyxDQUFJLEVBQzFDdmlDLEVBQU0sY0FBYzJuQixDQUFJLEVBQUUsUUFBUTdULENBQUUsRUFBSSxDQUNwQzI1QixFQUNBbnpDLENBQ1IsQ0FDQSxDQUNBLGVBQWUrMUMsR0FBYVosRUFBZ0J6dkMsRUFBTzJuQixFQUFNN1QsRUFBSXhaLEVBQU9vMUMsRUFBWUMsRUFBVUMsRUFBVzFDLEVBQVcsQ0FDNUcsTUFBTW5LLEVBQWFELEdBQXNCOWlDLEVBQU0sNEJBQTZCOFQsQ0FBRSxFQUM5RSxHQUFJK3RCLEdBQWE2TixDQUFVLEVBQ3ZCLGNBQU8xdkMsRUFBTSxjQUFjMm5CLENBQUksRUFBRSxRQUFRN1QsQ0FBRSxFQUNwQyxHQUVYLEtBQU0sQ0FBRSxLQUFBL1QsRUFBTyxLQUFBM0csQ0FBSSxFQUFNNEcsRUFBTSxRQUFRMm5CLENBQUksRUFDM0MsT0FBTzVuQixFQUFJLENBQ1AsSUFBSyxNQUVHdXdDLE9BQUFBLEdBQWtCbDNDLEVBQU0ycEMsRUFBWXpvQyxDQUFLLEVBQ2xDLEdBRWYsSUFBSyxPQUNELENBRUksTUFBTXFsQyxFQUFXdm1DLEVBREVrQixFQUFRLE9BQVMsT0FDSixFQUFFLFFBQVF5b0MsQ0FBVSxFQUNwRCxPQUFBM3BDLEVBQUtrQixFQUFRLE9BQVMsT0FBTyxFQUFFLE9BQU9xbEMsRUFBVSxDQUFDLEVBQzFDLEVBQ1YsQ0FDTCxJQUFLLFFBQ0QsQ0FDSSxNQUFNL0wsRUFBUyxNQUFNZ2MsRUFBVSxTQUFTdDFDLEVBQU9xMUMsRUFBVWhvQixDQUFJLEVBQzdELE1BQU04bkIsRUFBZSw4QkFBOEJ6dkMsRUFBTzJuQixFQUFNN1QsRUFBSW81QixDQUFTLEVBQzdFLFVBQVdqaUMsS0FBUzJvQixFQUNoQixNQUFNNmIsRUFBZSwyQkFBMkJ6dkMsRUFBTzJuQixFQUFNMWMsQ0FBSyxFQUNsRXNsQyxHQUFvQm4zQyxFQUFNNlIsRUFBTzgzQixDQUFVLEVBRS9DLE1BQU8sRUFDVixDQUNMLElBQUssT0FFR3lOLE9BQUFBLEdBQW1CcDNDLEVBQU0ycEMsRUFBWXpvQyxDQUFLLEVBQ25DLEdBRWYsSUFBSyxNQUVHbTJDLE9BQUFBLEdBQWlCcjNDLEVBQU1rQixFQUFPeW9DLENBQVUsRUFDakMsRUFFbEIsQ0FDTCxDQUNPLGVBQWVRLEdBQU9rTSxFQUFnQnp2QyxFQUFPMm5CLEVBQU03VCxFQUFJeFosRUFBT28xQyxFQUFZQyxFQUFVQyxFQUFXMUMsRUFBVyxDQUM3RyxHQUFJLENBQUNsTCxHQUFZME4sQ0FBVSxFQUN2QixPQUFPVyxHQUFhWixFQUFnQnp2QyxFQUFPMm5CLEVBQU03VCxFQUFJeFosRUFBT28xQyxFQUFZQyxFQUFVQyxFQUFXMUMsQ0FBUyxFQUUxRyxNQUFNZ0QsRUFBa0JoTyxHQUFhd04sQ0FBVSxFQUN6Q1MsRUFBVzcxQyxFQUNYODFDLEVBQWlCRCxFQUFTLE9BQ2hDLFFBQVE3M0MsRUFBSSxFQUFHQSxFQUFJODNDLEVBQWdCOTNDLElBQy9CLE1BQU0rM0MsR0FBYVosRUFBZ0J6dkMsRUFBTzJuQixFQUFNN1QsRUFBSXE4QixFQUFTNzNDLENBQUMsRUFBRzQzQyxFQUFpQlAsRUFBVUMsRUFBVzFDLENBQVMsRUFFcEgsTUFBTyxFQUNYLENBQ08sZUFBZXdELEdBQU90a0MsRUFBU3BNLEVBQU8ybkIsRUFBTTJmLEVBQU0sQ0FDckQsR0FBSSxFQUFFM2YsS0FBUTNuQixFQUFNLGtCQUNoQixNQUFPLEdBRVgsS0FBTSxDQUFFLEtBQUE1RyxFQUFPLEtBQUEyRyxDQUFJLEVBQU1DLEVBQU0sUUFBUTJuQixDQUFJLEVBQzNDLEdBQUk1bkIsSUFBUyxRQUNULE1BQU1zaEMsR0FBWSw2QkFBOEIxWixDQUFJLEVBRXhELEtBQU0sQ0FBRSxNQUFBNGYsRUFBUSxVQUFBcEIsR0FBZS81QixFQUFRLE9BQ2pDdWtDLEVBQWVDLEdBQVV4M0MsRUFBTSxDQUNqQyxLQUFBa3VDLEVBQ0EsTUFBQUMsRUFDQSxVQUFBcEIsQ0FDUixDQUFLLEVBQ0s5QyxFQUFNLElBQUksSUFDaEIsVUFBVXpvQyxLQUFPKzFDLEVBQ2IsVUFBVzc4QixLQUFNNjhCLEVBQWEvMUMsQ0FBRyxFQUM3QnlvQyxFQUFJLElBQUl2dkIsQ0FBRSxFQUdsQixPQUFPMUgsRUFBUSxNQUFNLHNCQUFzQkEsRUFBU3BNLEVBQU8ybkIsRUFBTTJmLEVBQU0sTUFBTSxLQUFLakUsQ0FBRyxDQUFDLENBQzFGLENBQ08sZUFBZXdOLEdBQW9CemtDLEVBQVNwTSxFQUFPOHdDLEVBQVMsQ0FDL0QsTUFBTUMsRUFBYSxPQUFPLEtBQUtELENBQU8sRUFDaENFLEVBQWFELEVBQVcsT0FBTyxDQUFDdnBDLEVBQUs1TSxLQUFPLENBQzFDLENBQUNBLENBQUcsRUFBRyxDQUFFLEVBQ1QsR0FBRzRNLENBQ2YsR0FBWSxDQUFFLENBQUEsRUFDVixVQUFXeXBDLEtBQVNGLEVBQVcsQ0FDM0IsTUFBTXp0QyxFQUFZd3RDLEVBQVFHLENBQUssRUFDL0IsR0FBSSxPQUFPanhDLEVBQU0sUUFBUWl4QyxDQUFLLEVBQU0sSUFDaEMsTUFBTTVQLEdBQVksMEJBQTJCNFAsQ0FBSyxFQUV0RCxLQUFNLENBQUUsS0FBQTczQyxFQUFPLEtBQUEyRyxFQUFPLFFBQUFvdkMsQ0FBVSxFQUFHbnZDLEVBQU0sUUFBUWl4QyxDQUFLLEVBQ3RELEdBQUlseEMsSUFBUyxPQUFRLENBRWpCLE1BQU1teEMsRUFETTkzQyxFQUNZa0ssRUFBVSxTQUFVLENBQUEsRUFDNUMrN0IsR0FBYzJSLEVBQVdDLENBQUssRUFBR0MsQ0FBVyxFQUM1QyxRQUNILENBQ0QsR0FBSW54QyxJQUFTLE1BQU8sQ0FDaEIsSUFBSW94QyxFQUNKLEdBQUksV0FBWTd0QyxFQUNaNnRDLEVBQWUsaUJBQ1IsWUFBYTd0QyxFQUNwQjZ0QyxFQUFlLGNBRWYsT0FBTSxJQUFJLE1BQU0scUJBQXFCN3RDLENBQVMsRUFBRSxFQUVwRCxHQUFJNnRDLElBQWlCLFNBQVUsQ0FDM0IsS0FBTSxDQUFFLE1BQUE3MkMsRUFBUSxZQUFBODJDLEVBQWMsS0FBQWpRLEVBQU0sSUFBTSxPQUFBa1EsRUFBUSxHQUFPLGNBQUF6SCxFQUFlLEVBQUssRUFBTXRtQyxFQUFVNnRDLENBQVksRUFDbkdHLEVBQW1CclEsR0FBd0IzbUMsRUFBTzZtQyxDQUFJLEVBQ3REa0MsRUFBTW1HLEdBQWVwd0MsRUFBSyxLQUFNZzRDLEVBQWFFLEVBQWtCRCxFQUFRLE9BQVd6SCxDQUFhLEVBRXJHdkssR0FBYzJSLEVBQVdDLENBQUssRUFBRzVOLEVBQUksSUFBSSxDQUFDLENBQUUsT0FBQW1FLEtBQVlBLENBQU0sRUFBRSxLQUFNLENBQUEsQ0FDdEYsS0FBbUIsQ0FDSCxLQUFNLENBQUUsWUFBQTRKLEVBQWMsT0FBQUMsRUFBUSxHQUFPLGNBQUF6SCxFQUFlLEVBQVEsRUFBR3RtQyxFQUFVNnRDLENBQVksRUFDL0U5TixFQUFNOEcsR0FBZ0Ivd0MsRUFBSyxLQUFNZzRDLEVBQWFDLEVBQVEsT0FBV3pILENBQWEsRUFFcEZ2SyxHQUFjMlIsRUFBV0MsQ0FBSyxFQUFHNU4sRUFBSSxJQUFJLENBQUMsQ0FBRSxPQUFBbUUsS0FBWUEsQ0FBTSxFQUFFLEtBQU0sQ0FBQSxDQUN6RSxDQUNELFFBQ0gsQ0FDRCxHQUFJem5DLElBQVMsVUFBWSxPQUFPdUQsR0FBYyxVQUFZLE1BQU0sUUFBUUEsQ0FBUyxHQUFJLENBQ2pGLFVBQVdzL0IsSUFBTyxDQUNkdC9CLENBQ0gsRUFBQyxLQUFJLEVBQUcsQ0FDTCxNQUFNZ2tDLEVBQU8sTUFBTWw3QixFQUFRLFVBQVUsU0FBU3cyQixFQUFLeDJCLEVBQVEsU0FBVTZrQyxDQUFLLEVBQzFFLFVBQVd0ekIsS0FBSzJwQixFQUFLLENBQ2pCLE1BQU1pSyxFQUFxQlgsR0FBVXgzQyxFQUFNLENBQ3ZDLEtBQU11a0IsRUFDTixNQUFPLEVBQy9CLENBQXFCLEVBQ0QwaEIsR0FBYzJSLEVBQVdDLENBQUssRUFBRyxPQUFPLE9BQU9NLENBQWtCLEVBQUUsS0FBSSxDQUFFLENBQzVFLENBQ0osQ0FDRCxRQUNILENBQ0QsTUFBTXhMLEVBQWdCLE9BQU8sS0FBS3ppQyxDQUFTLEVBQzNDLEdBQUl5aUMsRUFBYyxPQUFTLEVBQ3ZCLE1BQU0xRSxHQUFZLDJCQUE0QjBFLEVBQWMsTUFBTSxFQUV0RSxHQUFJaG1DLElBQVMsT0FBUSxDQUNib3ZDLEVBQ0E5UCxHQUFjMlIsRUFBV0MsQ0FBSyxFQUFHTyxHQUFjcDRDLEVBQU1rSyxDQUFTLENBQUMsRUFFL0QrN0IsR0FBYzJSLEVBQVdDLENBQUssRUFBR1EsR0FBV3I0QyxFQUFNa0ssQ0FBUyxDQUFDLEVBRWhFLFFBQ0gsQ0FDRCxHQUFJdkQsSUFBUyxNQUFPLENBQ2hCLE1BQU0yeEMsRUFBZTNMLEVBQWMsQ0FBQyxFQUM5QjRMLEVBQWlCcnVDLEVBQVVvdUMsQ0FBWSxFQUM3QyxJQUFJUixFQUFjLENBQUEsRUFDbEIsT0FBT1EsRUFBWSxDQUNmLElBQUssS0FDRCxDQUNJUixFQUFjVSxHQUFleDRDLEVBQU11NEMsRUFBZ0IsRUFBSyxFQUN4RCxLQUNILENBQ0wsSUFBSyxNQUNELENBQ0lULEVBQWNVLEdBQWV4NEMsRUFBTXU0QyxFQUFnQixFQUFJLEVBQ3ZELEtBQ0gsQ0FDTCxJQUFLLEtBQ0QsQ0FDSVQsRUFBY1csR0FBWXo0QyxFQUFNdTRDLEVBQWdCLEVBQUssRUFDckQsS0FDSCxDQUNMLElBQUssTUFDRCxDQUNJVCxFQUFjVyxHQUFZejRDLEVBQU11NEMsRUFBZ0IsRUFBSSxFQUNwRCxLQUNILENBQ0wsSUFBSyxLQUNELENBQ0lULEVBQWNZLEdBQVExNEMsRUFBTXU0QyxDQUFjLEdBQUssQ0FBQSxFQUMvQyxLQUNILENBQ0wsSUFBSyxVQUNELENBQ0ksS0FBTSxDQUFDOU0sRUFBS0MsQ0FBRyxFQUFJNk0sRUFDbkJULEVBQWNhLEdBQWUzNEMsRUFBTXlyQyxFQUFLQyxDQUFHLEVBQzNDLEtBQ0gsQ0FDUixDQUNEekYsR0FBYzJSLEVBQVdDLENBQUssRUFBR0MsQ0FBVyxDQUMvQyxDQUNKLENBR0QsT0FEZTVRLEdBQVUsT0FBTyxPQUFPMFEsQ0FBVSxDQUFDLENBRXRELENBQ08sZUFBZWdCLEdBQXdCaHlDLEVBQU8sQ0FDakQsT0FBT0EsRUFBTSxvQkFDakIsQ0FDTyxlQUFlaXlDLEdBQWlDanlDLEVBQU8sQ0FDMUQsT0FBT0EsRUFBTSw2QkFDakIsQ0FDQSxTQUFTa3lDLEdBQWM5NEMsRUFBTSxDQUN6QixNQUFNKzRDLEVBQWdCOUMsR0FBWWoyQyxFQUFLLEVBQUdBLEVBQUssRUFBR0EsRUFBSyxDQUFDLEVBQ3hEKzRDLEVBQWMsRUFBSS80QyxFQUFLLEVBQ3ZCKzRDLEVBQWMsRUFBSS80QyxFQUFLLEVBQ3ZCLFVBQVdnNUMsS0FBZSxPQUFPLEtBQUtoNUMsRUFBSyxDQUFDLEVBQ3hDKzRDLEVBQWMsRUFBRUMsQ0FBVyxFQUFJRixHQUFjOTRDLEVBQUssRUFBRWc1QyxDQUFXLENBQUMsRUFFcEUsT0FBT0QsQ0FDWCxDQUNBLFNBQVNFLEdBQWFqNUMsRUFBTSxDQUN4QixNQUFPLENBQ0gsbUJBQW9CLElBQUksSUFBSUEsQ0FBSSxDQUN4QyxDQUNBLENBQ0EsU0FBU2s1QyxHQUFhbDVDLEVBQU0sQ0FDeEIsT0FBTyxNQUFNLEtBQUtBLEVBQUssbUJBQW1CLFFBQVMsQ0FBQSxDQUN2RCxDQUNPLGVBQWVzcEMsR0FBS1EsRUFBNkJOLEVBQUssQ0FDekQsS0FBTSxDQUFFLFFBQVMyUCxFQUFhLGNBQWVDLEVBQW1CLHFCQUFBQyxFQUF1Qiw4QkFBQUMsRUFBZ0MsWUFBQUMsRUFBYyxpQkFBQUMsRUFBbUIsZUFBQWxFLEVBQWlCLGFBQUFDLENBQVksRUFBTS9MLEVBQ3JMaVEsRUFBVSxDQUFBLEVBQ1ZDLEVBQWdCLENBQUEsRUFDdEIsVUFBV25yQixLQUFRLE9BQU8sS0FBSzRxQixDQUFVLEVBQUUsQ0FDdkMsS0FBTSxDQUFFLEtBQUFuNUMsRUFBTyxLQUFBMkcsRUFBTyxRQUFBb3ZDLENBQU8sRUFBTW9ELEVBQVc1cUIsQ0FBSSxFQUNsRCxPQUFPNW5CLEVBQUksQ0FDUCxJQUFLLFFBQ0Q4eUMsRUFBUWxyQixDQUFJLEVBQUksQ0FDWixLQUFNLFFBQ04sS0FBTXVxQixHQUFjOTRDLENBQUksRUFDeEIsUUFBQSsxQyxDQUNwQixFQUNnQixNQUNKLElBQUssT0FDRDBELEVBQVFsckIsQ0FBSSxFQUFJLENBQ1osS0FBTSxPQUNOLEtBQU0wcUIsR0FBYWo1QyxDQUFJLEVBQ3ZCLFFBQUErMUMsQ0FDcEIsRUFDZ0IsTUFDSixRQUNJMEQsRUFBUWxyQixDQUFJLEVBQUk0cUIsRUFBVzVxQixDQUFJLENBQ3RDLENBQ0osQ0FDRCxVQUFXemMsS0FBTyxPQUFPLEtBQUtzbkMsQ0FBZ0IsRUFBRSxDQUM1QyxNQUFNNUUsRUFBVTRFLEVBQWlCdG5DLENBQUcsRUFBRSxRQUN0QyxVQUFVNm5DLEtBQU9uRixFQUNiQSxFQUFRbUYsQ0FBRyxFQUFJLENBQ1huRixFQUFRbUYsQ0FBRyxFQUFFLENBQUMsRUFDZCxJQUFJLGFBQWFuRixFQUFRbUYsQ0FBRyxFQUFFLENBQUMsQ0FBQyxDQUNoRCxFQUVRRCxFQUFjNW5DLENBQUcsRUFBSSxDQUNqQixLQUFNc25DLEVBQWlCdG5DLENBQUcsRUFBRSxLQUM1QixRQUFBMGlDLENBQ1osQ0FDSyxDQUNELE1BQU8sQ0FDSCw0QkFBQTFLLEVBQ0EsUUFBQTJQLEVBQ0EsY0FBQUMsRUFDQSxxQkFBQUwsRUFDQSw4QkFBQUMsRUFDQSxZQUFBQyxFQUNBLGlCQUFBQyxFQUNBLGVBQUFsRSxFQUNBLGFBQUFDLENBQ1IsQ0FDQSxDQUNPLGVBQWVsTSxHQUFLemlDLEVBQU8sQ0FDOUIsS0FBTSxDQUFFLFFBQUE2eUMsRUFBVSxjQUFBQyxFQUFnQixxQkFBQUwsRUFBdUIsOEJBQUFDLEVBQWdDLFlBQUFDLEVBQWMsaUJBQUFDLEVBQW1CLGVBQUFsRSxFQUFpQixhQUFBQyxDQUFlLEVBQUczdUMsRUFDdkpnekMsRUFBd0IsQ0FBQSxFQUM5QixVQUFXOW5DLEtBQU8sT0FBTyxLQUFLNG5DLENBQWEsRUFBRSxDQUN6QyxNQUFNbEYsRUFBVWtGLEVBQWM1bkMsQ0FBRyxFQUFFLFFBQ25DLFVBQVU2bkMsS0FBT25GLEVBQ2JBLEVBQVFtRixDQUFHLEVBQUksQ0FDWG5GLEVBQVFtRixDQUFHLEVBQUUsQ0FBQyxFQUNkLE1BQU0sS0FBS25GLEVBQVFtRixDQUFHLEVBQUUsQ0FBQyxDQUFDLENBQzFDLEVBRVFDLEVBQXNCOW5DLENBQUcsRUFBSSxDQUN6QixLQUFNNG5DLEVBQWM1bkMsQ0FBRyxFQUFFLEtBQ3pCLFFBQUEwaUMsQ0FDWixDQUNLLENBRUQsTUFBTXFGLEVBQWUsQ0FBQSxFQUNyQixVQUFXeDVDLEtBQVEsT0FBTyxLQUFLbzVDLENBQU8sRUFBRSxDQUNwQyxLQUFNLENBQUUsS0FBQTl5QyxFQUFPLEtBQUEzRyxFQUFPLFFBQUErMUMsQ0FBTyxFQUFNMEQsRUFBUXA1QyxDQUFJLEVBQy9DLEdBQUlzRyxJQUFTLE9BQVEsQ0FDakJrekMsRUFBYXg1QyxDQUFJLEVBQUlvNUMsRUFBUXA1QyxDQUFJLEVBQ2pDLFFBQ0gsQ0FDRHc1QyxFQUFheDVDLENBQUksRUFBSSxDQUNqQixLQUFNLE9BQ04sS0FBTTY0QyxHQUFhbDVDLENBQUksRUFDdkIsUUFBQSsxQyxDQUNaLENBQ0ssQ0FDRCxNQUFPLENBQ0gsUUFBUzhELEVBQ1QsY0FBZUQsRUFDZixxQkFBQVAsRUFDQSw4QkFBQUMsRUFDQSxZQUFBQyxFQUNBLGlCQUFBQyxFQUNBLGVBQUFsRSxFQUNBLGFBQUFDLENBQ1IsQ0FDQSxDQUNPLGVBQWV1RSxJQUFjLENBQ2hDLE1BQU8sQ0FDWCxPQUFRalEsR0FDUixPQUFRNXBDLEdBQ1IsT0FBUWtxQyxHQUNBLDhCQUFBNEssR0FDQSwyQkFBQUMsR0FDQSw4QkFBQUUsR0FDQSwyQkFBQUMsR0FDQSxzQkFBQUMsR0FDQSxPQUFBa0MsR0FDQSxvQkFBQUcsR0FDQSx3QkFBQW1CLEdBQ0EsaUNBQUFDLEdBQ1IsS0FBUXZQLEdBQ1IsS0FBUUQsRUFDUixDQUNBLENDbmhCQSxTQUFTMFEsR0FBWXhRLEVBQU9PLEVBQTZCdkIsRUFBUXlSLEVBQTBCbm5DLEVBQVEsQ0FDL0YsTUFBTW9uQyxFQUFTLENBQ1gsU0FBVTFRLEVBQU0sVUFBVSxTQUMxQiw0QkFBQU8sRUFDQSxRQUFTLEdBQ1QsU0FBVSxHQUNWLG1CQUFvQixDQUFFLEVBQ3RCLDRCQUE2QixDQUFFLEVBQy9CLE1BQU8sQ0FBRSxDQUNqQixFQUNJLFNBQVcsQ0FBQ3ZiLEVBQU01bkIsQ0FBSSxJQUFLLE9BQU8sUUFBUTRoQyxDQUFNLEVBQUUsQ0FDOUMsTUFBTW5oQyxFQUFPLEdBQUd5TCxDQUFNLEdBQUdBLEVBQVMsSUFBTSxFQUFFLEdBQUcwYixDQUFJLEdBQ2pELEdBQUksQ0FBQXlyQixFQUF5QixTQUFTNXlDLENBQUksRUFHMUMsSUFBSSxPQUFPVCxHQUFTLFVBQVksQ0FBQyxNQUFNLFFBQVFBLENBQUksRUFBRyxDQUVsRCxNQUFNTCxFQUFNeXpDLEdBQVl4USxFQUFPTyxFQUE2Qm5qQyxFQUFNcXpDLEVBQTBCNXlDLENBQUksRUFDaEc2K0IsR0FBY2dVLEVBQU8sbUJBQW9CM3pDLEVBQUksa0JBQWtCLEVBQy9EMnpDLEVBQU8sTUFBUSxDQUNYLEdBQUdBLEVBQU8sTUFDVixHQUFHM3pDLEVBQUksS0FDdkIsRUFDWTJ6QyxFQUFPLDRCQUE4QixDQUNqQyxHQUFHQSxFQUFPLDRCQUNWLEdBQUczekMsRUFBSSwyQkFDdkIsRUFDWSxRQUNILENBQ0QsR0FBSSxDQUFDbWlDLEdBQWE5aEMsQ0FBSSxFQUNsQixPQUFPQSxFQUFJLENBQ1AsSUFBSyxVQUNMLElBQUssU0FDTCxJQUFLLFNBQ0RzekMsRUFBTyxtQkFBbUIsS0FBSzd5QyxDQUFJLEVBQ25DNnlDLEVBQU8sNEJBQTRCN3lDLENBQUksRUFBSVQsRUFDM0NzekMsRUFBTyxNQUFNN3lDLENBQUksRUFBSSxDQUNqQixLQUFNLElBQUksSUFDVixvQkFBcUIsSUFBSSxJQUN6QixZQUFhLENBQUUsRUFDZixLQUFNVCxDQUM5QixFQUNvQixNQUNKLElBQUssV0FDTCxJQUFLLE9BQ0QsU0FDSixJQUFLLFNBQ0wsSUFBSyxZQUNMLElBQUssV0FDTCxJQUFLLFdBQ0QsU0FDSixRQUNJLE1BQU1zaEMsR0FBWSwyQkFBNEIsTUFBTSxRQUFRdGhDLENBQUksRUFBSSxRQUFVQSxFQUFNUyxDQUFJLENBQy9GLEVBRVIsQ0FDRCxPQUFPNnlDLENBQ1gsQ0FDQSxlQUFlcFEsR0FBT04sRUFBT08sRUFBNkJ2QixFQUFRdnZCLEVBQVEsQ0FFdEUsT0FEdUJBLEdBQVcsS0FBNEIsT0FBU0EsRUFBTyxXQUFhLEdBTXBGK2dDLEdBQVl4USxFQUFPTyxFQUE2QnZCLEdBQVN2dkIsR0FBVSxDQUFBLEdBQUksc0JBQXdCLEdBQUksRUFBRSxFQUpqRyxDQUNILFNBQVUsRUFDdEIsQ0FHQSxDQUNBLGVBQWUvWSxHQUFPZzZDLEVBQVExckIsRUFBTTdULEVBQUl4WixFQUFPLENBQzNDLEdBQUksQ0FBQys0QyxFQUFPLFFBQ1IsT0FFSkEsRUFBTyxTQUFXLEdBQ2xCLE1BQU10USxFQUFhRCxHQUFzQnVRLEVBQU8sNEJBQTZCdi9CLENBQUUsRUFDekUsRUFBSXUvQixFQUFPLE1BQU0xckIsQ0FBSSxFQUMzQixFQUFFLEtBQUssSUFBSW9iLEVBQVksRUFBRSxZQUFZLE1BQU0sRUFDM0MsRUFBRSxZQUFZLEtBQUssQ0FDZkEsRUFDQXpvQyxDQUNSLENBQUssQ0FDTCxDQUNBLFNBQVNnNUMsR0FBZUQsRUFBUSxDQUk1QixHQUhJQSxFQUFPLFVBR1AsQ0FBQ0EsRUFBTyxRQUNSLE9BRUosTUFBTXpTLEVBQWEsT0FBTyxLQUFLeVMsRUFBTyxLQUFLLEVBQzNDLFVBQVcxckIsS0FBUWlaLEVBQ2YyUyxHQUF1QkYsRUFBUTFyQixDQUFJLEVBRXZDMHJCLEVBQU8sU0FBVyxFQUN0QixDQUNBLFNBQVNHLEdBQVc3RCxFQUFVcjFDLEVBQU93L0IsRUFBRyxDQUNwQyxPQUFPeC9CLEVBQU0sQ0FBQyxFQUFFLGNBQWN3L0IsRUFBRSxDQUFDLEVBQUc2VixDQUFRLENBQ2hELENBQ0EsU0FBUzhELEdBQVduNUMsRUFBT3cvQixFQUFHLENBQzFCLE9BQU94L0IsRUFBTSxDQUFDLEVBQUl3L0IsRUFBRSxDQUFDLENBQ3pCLENBQ0EsU0FBUzRaLEdBQVlwNUMsRUFBT3cvQixFQUFHLENBQzNCLE9BQU9BLEVBQUUsQ0FBQyxFQUFJLEdBQUssQ0FDdkIsQ0FDQSxTQUFTeVosR0FBdUJGLEVBQVExckIsRUFBTSxDQUMxQyxNQUFNZ1MsRUFBSTBaLEVBQU8sTUFBTTFyQixDQUFJLEVBQzNCLElBQUlnc0IsRUFDSixPQUFPaGEsRUFBRSxLQUFJLENBQ1QsSUFBSyxTQUNEZ2EsRUFBWUgsR0FBVyxLQUFLLEtBQU1ILEVBQU8sUUFBUSxFQUNqRCxNQUNKLElBQUssU0FDRE0sRUFBWUYsR0FBVyxLQUFLLElBQUksRUFDaEMsTUFDSixJQUFLLFVBQ0RFLEVBQVlELEdBQVksS0FBSyxJQUFJLEVBQ2pDLEtBQ1AsQ0FDRC9aLEVBQUUsWUFBWSxLQUFLZ2EsQ0FBUyxFQUU1QixNQUFNQyxFQUFvQmphLEVBQUUsWUFBWSxPQUN4QyxRQUFRcmhDLEVBQUksRUFBR0EsRUFBSXM3QyxFQUFtQnQ3QyxJQUFJLENBQ3RDLE1BQU13dkMsRUFBUW5PLEVBQUUsWUFBWXJoQyxDQUFDLEVBQUUsQ0FBQyxFQUNoQ3FoQyxFQUFFLEtBQUssSUFBSW1PLEVBQU94dkMsQ0FBQyxDQUN0QixDQUNMLENBQ0EsU0FBU3U3QyxHQUE0QlIsRUFBUSxDQUN6QyxNQUFNelMsRUFBYSxPQUFPLEtBQUt5UyxFQUFPLEtBQUssRUFDM0MsVUFBVzFyQixLQUFRaVosRUFDZmtULEdBQXNDVCxFQUFRMXJCLENBQUksQ0FFMUQsQ0FDQSxTQUFTbXNCLEdBQXNDVCxFQUFRMXJCLEVBQU0sQ0FDekQsTUFBTWdTLEVBQUkwWixFQUFPLE1BQU0xckIsQ0FBSSxFQUN0QmdTLEVBQUUsb0JBQW9CLE9BQzNCQSxFQUFFLFlBQWNBLEVBQUUsWUFBWSxPQUFRK0csR0FBTSxDQUFDL0csRUFBRSxvQkFBb0IsSUFBSStHLEVBQUksQ0FBQyxDQUFDLENBQUMsRUFDOUUvRyxFQUFFLG9CQUFvQixRQUMxQixDQUNBLGVBQWU0SixHQUFPOFAsRUFBUTFyQixFQUFNN1QsRUFBSSxDQUNwQyxHQUFJLENBQUN1L0IsRUFBTyxRQUNSLE9BRUosTUFBTTFaLEVBQUkwWixFQUFPLE1BQU0xckIsQ0FBSSxFQUNyQm9iLEVBQWFELEdBQXNCdVEsRUFBTyw0QkFBNkJ2L0IsQ0FBRSxFQUNqRTZsQixFQUFFLEtBQUssSUFBSW9KLENBQVUsSUFFbkNwSixFQUFFLEtBQUssT0FBT29KLENBQVUsRUFDeEJwSixFQUFFLG9CQUFvQixJQUFJb0osRUFBWSxFQUFJLEVBQzlDLENBQ0EsZUFBZWdSLEdBQU9WLEVBQVFXLEVBQVFDLEVBQUksQ0FDdEMsR0FBSSxDQUFDWixFQUFPLFFBQ1IsTUFBTWhTLEdBQVksZUFBZSxFQUVyQyxNQUFNaEIsRUFBVzRULEVBQUcsU0FDZEMsRUFBU0QsRUFBRyxRQUFVLE9BQ3RCLEVBQUlaLEVBQU8sTUFBTWhULENBQVEsRUFDL0IsR0FBSSxDQUFDLEVBQ0QsTUFBTWdCLEdBQVksa0NBQW1DaEIsRUFBVWdULEVBQU8sbUJBQW1CLEtBQUssSUFBSSxDQUFDLEVBRXZHLE9BQUFTLEdBQXNDVCxFQUFRaFQsQ0FBUSxFQUN0RGlULEdBQWVELENBQU0sRUFDckJXLEVBQU8sS0FBSyxDQUFDLEVBQUcvOEMsSUFBSSxDQUloQixNQUFNazlDLEVBQVcsRUFBRSxLQUFLLElBQUlyUixHQUFzQnVRLEVBQU8sNEJBQTZCLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFDckZlLEVBQVcsRUFBRSxLQUFLLElBQUl0UixHQUFzQnVRLEVBQU8sNEJBQTZCcDhDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFDckZvOUMsRUFBYSxPQUFPRixFQUFhLElBQ2pDRyxFQUFhLE9BQU9GLEVBQWEsSUFDdkMsTUFBSSxDQUFDQyxHQUFjLENBQUNDLEVBQ1QsRUFHTkQsRUFHQUMsRUFHRUosRUFBU0UsRUFBV0QsRUFBV0EsRUFBV0MsRUFGdEMsR0FIQSxDQU1uQixDQUFLLEVBQ01KLENBQ1gsQ0FDQSxlQUFlTyxHQUFzQmxCLEVBQVEsQ0FDekMsT0FBS0EsRUFBTyxRQUdMQSxFQUFPLG1CQUZILEVBR2YsQ0FDQSxlQUFlbUIsR0FBK0JuQixFQUFRLENBQ2xELE9BQUtBLEVBQU8sUUFHTEEsRUFBTyw0QkFGSCxFQUdmLENBQ08sZUFBZTNRLEdBQUtRLEVBQTZCTixFQUFLLENBQ3pELE1BQU1ZLEVBQWNaLEVBQ3BCLEdBQUksQ0FBQ1ksRUFBWSxRQUNiLE1BQU8sQ0FDSCxRQUFTLEVBQ3JCLEVBRUksTUFBTWlSLEVBQVEsT0FBTyxLQUFLalIsRUFBWSxLQUFLLEVBQUUsT0FBTyxDQUFDaDhCLEVBQUttZ0IsSUFBTyxDQUM3RCxLQUFNLENBQUUsS0FBQThmLEVBQU8sWUFBQWlOLEVBQWMsS0FBQTMwQyxDQUFPLEVBQUd5akMsRUFBWSxNQUFNN2IsQ0FBSSxFQUM3RCxPQUFBbmdCLEVBQUltZ0IsQ0FBSSxFQUFJLENBQ1IsS0FBTSxJQUFJLElBQUksT0FBTyxRQUFROGYsQ0FBSSxFQUFFLElBQUksQ0FBQyxDQUFDbHhDLEVBQUd5aUMsQ0FBQyxJQUFJLENBQ3pDLENBQUN6aUMsRUFDRHlpQyxDQUNwQixDQUFpQixDQUFDLEVBQ04sb0JBQXFCLElBQUksSUFDekIsWUFBQTBiLEVBQ0EsS0FBQTMwQyxDQUNaLEVBQ2V5SCxDQUNWLEVBQUUsQ0FBRSxDQUFBLEVBQ0wsTUFBTyxDQUNILDRCQUFBMDdCLEVBQ0EsU0FBVU0sRUFBWSxTQUN0QixtQkFBb0JBLEVBQVksbUJBQ2hDLDRCQUE2QkEsRUFBWSw0QkFDekMsTUFBQWlSLEVBQ0EsUUFBUyxHQUNULFNBQVVqUixFQUFZLFFBQzlCLENBQ0EsQ0FDTyxlQUFlZixHQUFLNFEsRUFBUSxDQUMvQixHQUFJLENBQUNBLEVBQU8sUUFDUixNQUFPLENBQ0gsUUFBUyxFQUNyQixFQUVJUSxHQUE0QlIsQ0FBTSxFQUNsQ0MsR0FBZUQsQ0FBTSxFQUNyQixNQUFNb0IsRUFBUSxPQUFPLEtBQUtwQixFQUFPLEtBQUssRUFBRSxPQUFPLENBQUM3ckMsRUFBS21nQixJQUFPLENBQ3hELEtBQU0sQ0FBRSxLQUFBOGYsRUFBTyxZQUFBaU4sRUFBYyxLQUFBMzBDLENBQU8sRUFBR3N6QyxFQUFPLE1BQU0xckIsQ0FBSSxFQUN4RCxPQUFBbmdCLEVBQUltZ0IsQ0FBSSxFQUFJLENBQ1IsS0FBTSxPQUFPLFlBQVk4ZixFQUFLLFFBQU8sQ0FBRSxFQUN2QyxZQUFBaU4sRUFDQSxLQUFBMzBDLENBQ1osRUFDZXlILENBQ1YsRUFBRSxDQUFFLENBQUEsRUFDTCxNQUFPLENBQ0gsU0FBVTZyQyxFQUFPLFNBQ2pCLG1CQUFvQkEsRUFBTyxtQkFDM0IsNEJBQTZCQSxFQUFPLDRCQUNwQyxNQUFBb0IsRUFDQSxRQUFTcEIsRUFBTyxRQUNoQixTQUFVQSxFQUFPLFFBQ3pCLENBQ0EsQ0FDTyxlQUFlc0IsSUFBZSxDQUNqQyxNQUFPLENBQ1gsT0FBUTFSLEdBQ1IsT0FBUTVwQyxHQUNBLE9BQUFrcUMsR0FDUixLQUFRZCxHQUNSLEtBQVFDLEdBQ0EsT0FBQXFSLEdBQ0Esc0JBQUFRLEdBQ0EsK0JBQUFDLEVBQ1IsQ0FDQSxDQ3hRQSxNQUFNSSxHQUE0QixJQUM1QkMsR0FBMEIsSUFDMUJDLEdBQTJCLENBQzdCLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxLQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsSUFDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsS0FDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNKLEVBQ0EsU0FBU0MsR0FBWS80QixFQUFVLENBQzNCLE9BQUlBLEVBQVc0NEIsSUFBNkI1NEIsRUFBVzY0QixHQUFnQzc0QixFQUMxRDg0QixHQUF5Qjk0QixFQUFXNDRCLEVBQXlCLEdBQUs1NEIsQ0FDbkcsQ0FDTyxTQUFTZzVCLEdBQWtCM3dDLEVBQUssQ0FDbkMsTUFBTTR3QyxFQUFpQixDQUFBLEVBQ3ZCLFFBQVEvcEMsRUFBTSxFQUFHQSxFQUFNN0csRUFBSSxPQUFRNkcsSUFDL0IrcEMsRUFBZS9wQyxDQUFHLEVBQUk2cEMsR0FBWTF3QyxFQUFJLFdBQVc2RyxDQUFHLENBQUMsRUFFekQsT0FBTyxPQUFPLGFBQWEsR0FBRytwQyxDQUFjLENBQ2hELENDNU1BLE1BQU1DLEdBQVksQ0FDZCxRQUFTLE1BQ1QsT0FBUSxPQUNSLEtBQU0sT0FDTixLQUFNLE9BQ04sS0FBTSxNQUNOLElBQUssTUFDTCxLQUFNLEtBQ04sTUFBTyxNQUNQLElBQUssSUFDTCxNQUFPLE1BQ1AsUUFBUyxNQUNULE1BQU8sTUFDUCxLQUFNLE1BQ04sTUFBTyxLQUNQLFFBQVMsTUFDVCxRQUFTLE1BQ1QsUUFBUyxNQUNULE1BQU8sS0FDUCxNQUFPLE1BQ1AsT0FBUSxNQUNSLEtBQU0sS0FDVixFQUNNQyxHQUFZLENBQ2QsTUFBTyxLQUNQLE1BQU8sR0FDUCxNQUFPLEtBQ1AsTUFBTyxLQUNQLEtBQU0sS0FDTixJQUFLLEdBQ0wsS0FBTSxFQUNWLEVBRU1sNUMsR0FBSSxXQUVKKzhCLEdBQUksV0FFSm1CLEdBQUlsK0IsR0FBSSxhQUVSbTVDLEdBQUlwYyxHQUFJLFdBRVJxYyxHQUFPLEtBQU9sYixHQUFJLEtBQU9pYixHQUFJamIsR0FFN0JtYixHQUFPLEtBQU9uYixHQUFJLEtBQU9pYixHQUFJamIsR0FBSSxJQUFNaWIsR0FBSSxNQUUzQ0csR0FBTyxLQUFPcGIsR0FBSSxLQUFPaWIsR0FBSWpiLEdBQUlpYixHQUFJamIsR0FFckNxYixHQUFNLEtBQU9yYixHQUFJLEtBQU9uQixHQUN2QixTQUFTeWMsR0FBUTViLEVBQUcsQ0FDdkIsSUFBSTZiLEVBQ0F2YyxFQUNBd2MsRUFDQUMsRUFDQUMsRUFDQUMsRUFDSixHQUFJamMsRUFBRSxPQUFTLEVBQ1gsT0FBT0EsRUFFWCxNQUFNa2MsRUFBVWxjLEVBQUUsVUFBVSxFQUFHLENBQUMsRUFhaEMsR0FaSWtjLEdBQVcsTUFDWGxjLEVBQUlrYyxFQUFRLFlBQVcsRUFBS2xjLEVBQUUsVUFBVSxDQUFDLEdBRTdDOGIsRUFBSyxrQkFDTEMsRUFBTSxpQkFDRkQsRUFBRyxLQUFLOWIsQ0FBQyxFQUNUQSxFQUFJQSxFQUFFLFFBQVE4YixFQUFJLE1BQU0sRUFDakJDLEVBQUksS0FBSy9iLENBQUMsSUFDakJBLEVBQUlBLEVBQUUsUUFBUStiLEVBQUssTUFBTSxHQUU3QkQsRUFBSyxhQUNMQyxFQUFNLGtCQUNGRCxFQUFHLEtBQUs5YixDQUFDLEVBQUcsQ0FDWixNQUFNbWMsRUFBS0wsRUFBRyxLQUFLOWIsQ0FBQyxFQUNwQjhiLEVBQUssSUFBSSxPQUFPTixFQUFJLEVBQ2hCTSxFQUFHLEtBQUtLLEVBQUcsQ0FBQyxDQUFDLElBQ2JMLEVBQUssS0FDTDliLEVBQUlBLEVBQUUsUUFBUThiLEVBQUksRUFBRSxFQUUzQixNQUFVQyxFQUFJLEtBQUsvYixDQUFDLElBRWpCNmIsRUFEV0UsRUFBSSxLQUFLL2IsQ0FBQyxFQUNYLENBQUMsRUFDWCtiLEVBQU0sSUFBSSxPQUFPSixFQUFHLEVBQ2hCSSxFQUFJLEtBQUtGLENBQUksSUFDYjdiLEVBQUk2YixFQUNKRSxFQUFNLGNBQ05DLEVBQU0sSUFBSSxPQUFPLG9CQUFvQixFQUNyQ0MsRUFBTSxJQUFJLE9BQU8sSUFBTTNiLEdBQUluQixHQUFJLGNBQWMsRUFDekM0YyxFQUFJLEtBQUsvYixDQUFDLEVBQ1ZBLEVBQUlBLEVBQUksSUFDRGdjLEVBQUksS0FBS2hjLENBQUMsR0FDakI4YixFQUFLLEtBQ0w5YixFQUFJQSxFQUFFLFFBQVE4YixFQUFJLEVBQUUsR0FDYkcsRUFBSSxLQUFLamMsQ0FBQyxJQUNqQkEsRUFBSUEsRUFBSSxPQUtwQixHQURBOGIsRUFBSyxXQUNEQSxFQUFHLEtBQUs5YixDQUFDLEVBQUcsQ0FDWixNQUFNbWMsRUFBS0wsRUFBRyxLQUFLOWIsQ0FBQyxFQUNwQjZiLEVBQU9NLEdBQU8sS0FBd0IsT0FBU0EsRUFBRyxDQUFDLEVBQ25ETCxFQUFLLElBQUksT0FBT0gsRUFBRyxFQUNmRSxHQUFRQyxFQUFHLEtBQUtELENBQUksSUFDcEI3YixFQUFJNmIsRUFBTyxJQUVsQixDQUVELEdBREFDLEVBQUssMklBQ0RBLEVBQUcsS0FBSzliLENBQUMsRUFBRyxDQUNaLE1BQU1tYyxFQUFLTCxFQUFHLEtBQUs5YixDQUFDLEVBQ3BCNmIsRUFBT00sR0FBTyxLQUF3QixPQUFTQSxFQUFHLENBQUMsRUFDbkQ3YyxFQUFTNmMsR0FBTyxLQUF3QixPQUFTQSxFQUFHLENBQUMsRUFDckRMLEVBQUssSUFBSSxPQUFPTixFQUFJLEVBQ2hCSyxHQUFRQyxFQUFHLEtBQUtELENBQUksSUFHcEI3YixFQUFJNmIsRUFBT1IsR0FBVS9iLENBQU0sRUFFbEMsQ0FFRCxHQURBd2MsRUFBSyxpREFDREEsRUFBRyxLQUFLOWIsQ0FBQyxFQUFHLENBQ1osTUFBTW1jLEVBQUtMLEVBQUcsS0FBSzliLENBQUMsRUFDcEI2YixFQUFPTSxHQUFPLEtBQXdCLE9BQVNBLEVBQUcsQ0FBQyxFQUNuRDdjLEVBQVM2YyxHQUFPLEtBQXdCLE9BQVNBLEVBQUcsQ0FBQyxFQUNyREwsRUFBSyxJQUFJLE9BQU9OLEVBQUksRUFHaEJLLEdBQVFDLEVBQUcsS0FBS0QsQ0FBSSxJQUdwQjdiLEVBQUk2YixFQUFPUCxHQUFVaGMsQ0FBTSxFQUVsQyxDQUdELEdBRkF3YyxFQUFLLHNGQUNMQyxFQUFNLG9CQUNGRCxFQUFHLEtBQUs5YixDQUFDLEVBQUcsQ0FDWixNQUFNbWMsRUFBS0wsRUFBRyxLQUFLOWIsQ0FBQyxFQUNwQjZiLEVBQU9NLEdBQU8sS0FBd0IsT0FBU0EsRUFBRyxDQUFDLEVBQ25ETCxFQUFLLElBQUksT0FBT0osRUFBSSxFQUNoQkcsR0FBUUMsRUFBRyxLQUFLRCxDQUFJLElBQ3BCN2IsRUFBSTZiLEVBRVgsU0FBVUUsRUFBSSxLQUFLL2IsQ0FBQyxFQUFHLENBQ3BCLE1BQU1tYyxFQUFLSixFQUFJLEtBQUsvYixDQUFDLEVBQ3JCNmIsR0FBUU0sR0FBTyxLQUF3QixPQUFTQSxFQUFHLENBQUMsSUFBTSxJQUFNQSxHQUFPLEtBQXdCLE9BQVNBLEVBQUcsQ0FBQyxJQUFNLEdBQ2xISixFQUFNLElBQUksT0FBT0wsRUFBSSxFQUNqQkssRUFBSSxLQUFLRixDQUFJLElBQ2I3YixFQUFJNmIsRUFFWCxDQUVELEdBREFDLEVBQUssV0FDREEsRUFBRyxLQUFLOWIsQ0FBQyxFQUFHLENBQ1osTUFBTW1jLEVBQUtMLEVBQUcsS0FBSzliLENBQUMsRUFDcEI2YixFQUFPTSxHQUFPLEtBQXdCLE9BQVNBLEVBQUcsQ0FBQyxFQUNuREwsRUFBSyxJQUFJLE9BQU9KLEVBQUksRUFDcEJLLEVBQU0sSUFBSSxPQUFPTixFQUFJLEVBQ3JCTyxFQUFNLElBQUksT0FBTyxJQUFNMWIsR0FBSW5CLEdBQUksY0FBYyxFQUN6QzBjLElBQVNDLEVBQUcsS0FBS0QsQ0FBSSxHQUFLRSxFQUFJLEtBQUtGLENBQUksR0FBSyxDQUFDRyxFQUFJLEtBQUtILENBQUksS0FDMUQ3YixFQUFJNmIsRUFFWCxDQUNELE9BQUFDLEVBQUssTUFDTEMsRUFBTSxJQUFJLE9BQU9MLEVBQUksRUFDakJJLEVBQUcsS0FBSzliLENBQUMsR0FBSytiLEVBQUksS0FBSy9iLENBQUMsSUFDeEI4YixFQUFLLEtBQ0w5YixFQUFJQSxFQUFFLFFBQVE4YixFQUFJLEVBQUUsR0FFcEJJLEdBQVcsTUFDWGxjLEVBQUlrYyxFQUFRLFlBQVcsRUFBS2xjLEVBQUUsVUFBVSxDQUFDLEdBRXRDQSxDQUNYLENDeEtBLFNBQVNvYyxHQUFldHVCLEVBQU0xYyxFQUFPLENBQ2pDLElBQUlpckMsRUFDSixNQUFNdDdDLEVBQU0sR0FBRyxLQUFLLFFBQVEsSUFBSStzQixDQUFJLElBQUkxYyxDQUFLLEdBQzdDLE9BQUksS0FBSyxtQkFBbUIsSUFBSXJRLENBQUcsRUFDeEIsS0FBSyxtQkFBbUIsSUFBSUEsQ0FBRyxFQUdyQyxHQUFBczdDLEVBQWtCLEtBQUssYUFBZSxNQUFRQSxJQUFvQixTQUFrQkEsRUFBZ0IsU0FBU2pyQyxDQUFLLEdBQ25ILEtBQUssbUJBQW1CLElBQUlyUSxFQUFLLEVBQUUsRUFDNUIsS0FHUCxLQUFLLFNBQVcsQ0FBQyxLQUFLLHNCQUFzQixJQUFJK3NCLENBQUksSUFDcEQxYyxFQUFRLEtBQUssUUFBUUEsQ0FBSyxHQUU5QkEsRUFBUStwQyxHQUFrQi9wQyxDQUFLLEVBQy9CLEtBQUssbUJBQW1CLElBQUlyUSxFQUFLcVEsQ0FBSyxFQUMvQkEsRUFDWCxDQUN3QixTQUFTa3JDLEdBQUt4OEMsRUFBTSxDQUN4QyxLQUFNQSxFQUFLQSxFQUFLLE9BQVMsQ0FBQyxJQUFNLElBQzVCQSxFQUFLLElBQUcsRUFFWixLQUFNQSxFQUFLLENBQUMsSUFBTSxJQUNkQSxFQUFLLE1BQUssRUFFZCxPQUFPQSxDQUNYLENBQ0EsU0FBU3k4QyxHQUFTMTdDLEVBQU9pMUMsRUFBVWhvQixFQUFNLENBQ3JDLEdBQUlnb0IsR0FBWUEsSUFBYSxLQUFLLFNBQzlCLE1BQU10TyxHQUFZLHlCQUEwQnNPLENBQVEsRUFFakMsR0FBSSxPQUFPajFDLEdBQVUsU0FDeEMsTUFBTyxDQUNIQSxDQUNaLEVBRUksSUFBSWs1QixFQUNKLEdBQUlqTSxHQUFRLEtBQUssdUJBQXVCLElBQUlBLENBQUksRUFDNUNpTSxFQUFTLENBQ0wsS0FBSyxlQUFlLEtBQUssS0FBTWpNLEdBQVEsRUFBRSxFQUFFanRCLENBQUssQ0FDNUQsTUFDVyxDQUNILE1BQU0yN0MsRUFBWXhYLEdBQVUsS0FBSyxRQUFRLEVBQ3pDakwsRUFBU2w1QixFQUFNLFlBQWEsRUFBQyxNQUFNMjdDLENBQVMsRUFBRSxJQUFJLEtBQUssZUFBZSxLQUFLLEtBQU0xdUIsR0FBUSxFQUFFLENBQUMsRUFBRSxPQUFPLE9BQU8sQ0FDL0csQ0FDRCxNQUFNMnVCLEVBQWFILEdBQUt2aUIsQ0FBTSxFQUM5QixPQUFLLEtBQUssZ0JBR0gwaUIsRUFGSSxNQUFNLEtBQUssSUFBSSxJQUFJQSxDQUFVLENBQUMsQ0FHN0MsQ0FDTyxlQUFlQyxHQUFnQm5rQyxFQUFTLEdBQUksQ0FDL0MsR0FBSSxDQUFDQSxFQUFPLFNBQ1JBLEVBQU8sU0FBVyxrQkFDWCxDQUFDMHNCLEdBQW9CLFNBQVMxc0IsRUFBTyxRQUFRLEVBQ3BELE1BQU1pdkIsR0FBWSx5QkFBMEJqdkIsRUFBTyxRQUFRLEVBRy9ELElBQUlxakMsRUFDSixHQUFJcmpDLEVBQU8sVUFBWUEsRUFBTyxTQUFXLEVBQUUsYUFBY0EsR0FDckQsR0FBSUEsRUFBTyxRQUFTLENBQ2hCLEdBQUksT0FBT0EsRUFBTyxTQUFZLFdBQzFCLE1BQU1pdkIsR0FBWSwrQkFBK0IsRUFFckRvVSxFQUFVcmpDLEVBQU8sT0FDN0IsU0FDZ0JBLEVBQU8sV0FBYSxVQUNwQnFqQyxFQUFVZSxPQUVWLE9BQU1uVixHQUFZLGtCQUFtQmp2QixFQUFPLFFBQVEsRUFLaEUsSUFBSXFrQyxFQUNKLEdBQUlya0MsRUFBTyxZQUFjLEdBQU8sQ0FFNUIsR0FEQXFrQyxFQUFZLENBQUEsRUFDUixNQUFNLFFBQVFya0MsRUFBTyxTQUFTLEVBQzlCcWtDLEVBQVlya0MsRUFBTyxrQkFDWixPQUFPQSxFQUFPLFdBQWMsV0FDbkNxa0MsRUFBWSxNQUFNcmtDLEVBQU8sVUFBVXFrQyxDQUFTLFVBQ3JDcmtDLEVBQU8sVUFDZCxNQUFNaXZCLEdBQVksNkNBQTZDLEVBR25FLEdBQUksQ0FBQyxNQUFNLFFBQVFvVixDQUFTLEVBQ3hCLE1BQU1wVixHQUFZLDZDQUE2QyxFQUVuRSxVQUFXMUgsS0FBSzhjLEVBQ1osR0FBSSxPQUFPOWMsR0FBTSxTQUNiLE1BQU0wSCxHQUFZLDZDQUE2QyxDQUcxRSxDQUVELE1BQU11TyxFQUFZLENBQ2QsU0FBQXdHLEdBQ0EsU0FBVWhrQyxFQUFPLFNBQ3pCLFFBQVFxakMsRUFDQSxzQkFBdUIsSUFBSSxJQUFJcmpDLEVBQU8sc0JBQXdCLENBQzFEQSxFQUFPLHFCQUNuQixFQUFVLEtBQU0sRUFBRyxFQUFFLEVBQ2IsdUJBQXdCLElBQUksSUFBSUEsRUFBTyx1QkFBeUIsQ0FDNURBLEVBQU8sc0JBQ25CLEVBQVUsS0FBTSxFQUFHLEVBQUUsRUFDYixVQUFBcWtDLEVBQ0EsZ0JBQWlCLEVBQVFya0MsRUFBTyxnQkFDaEMsZUFBQTZqQyxHQUNBLG1CQUFvQixJQUFJLEdBQ2hDLEVBQ0ksT0FBQXJHLEVBQVUsU0FBV3dHLEdBQVMsS0FBS3hHLENBQVMsRUFDNUNBLEVBQVUsZUFBaUJxRyxHQUNwQnJHLENBQ1gsQ0M1R0EsU0FBUzhHLEdBQW1CQyxFQUFZLENBQ3BDLE1BQU1DLEVBQW9CLENBQ3RCLGtCQUFBcFYsR0FDQSxtQkFBQUMsR0FDQSxzQkFBQWhCLEdBQ0EsZUFBQWlCLEVBQ1IsRUFDSSxVQUFXbVYsS0FBVTNTLEdBQW9CLENBQ3JDLE1BQU10cEMsRUFBTWk4QyxFQUNaLEdBQUlGLEVBQVcvN0MsQ0FBRyxHQUNkLEdBQUksT0FBTys3QyxFQUFXLzdDLENBQUcsR0FBTSxXQUMzQixNQUFNeW1DLEdBQVksNkJBQThCem1DLENBQUcsT0FJdkQrN0MsRUFBVy83QyxDQUFHLEVBQUlnOEMsRUFBa0JoOEMsQ0FBRyxDQUU5QyxDQUNELFVBQVdpOEMsS0FBVSxPQUFPLEtBQUtGLENBQVUsRUFDdkMsR0FBSSxDQUFDMVMsR0FBa0IsU0FBUzRTLENBQU0sR0FBSyxDQUFDM1MsR0FBb0IsU0FBUzJTLENBQU0sRUFDM0UsTUFBTXhWLEdBQVksd0JBQXlCd1YsQ0FBTSxDQUc3RCxDQUNPLGVBQWU1VCxHQUFPLENBQUUsT0FBQXRCLEVBQVMsS0FBQWdJLEVBQU8sU0FBQWdHLEVBQVcsV0FBQWdILEVBQWEsR0FBQTdpQyxFQUFLLFFBQUFnakMsR0FBWSxDQUMvRUgsSUFDREEsRUFBYSxDQUFBLEdBRVo3aUMsSUFDREEsRUFBSyxNQUFNb3NCLE1BRWYsSUFBSTBQLEVBQVkrRyxFQUFXLFVBQ3ZCMzJDLEVBQVEyMkMsRUFBVyxNQUNuQkksRUFBaUJKLEVBQVcsZUFDNUJ0RCxFQUFTc0QsRUFBVyxPQWF4QixHQVpLL0csRUFLT0EsRUFBVSxTQUtsQkEsRUFEd0JBLEVBRnhCQSxFQUFZLE1BQU0yRyxHQUFnQjNHLENBQVMsRUFMM0NBLEVBQVksTUFBTTJHLEdBQWdCLENBQzlCLFNBQVU1RyxHQUFZLFNBQ2xDLENBQVMsRUFRRGdILEVBQVcsV0FBYWhILEVBRXhCLE1BQU10TyxHQUFZLG1DQUFtQyxFQUV6RCxNQUFNMlYsRUFBd0J4VSxLQUM5QnhpQyxNQUFVLE1BQU1rekMsTUFDaEJHLE1BQVcsTUFBTXNCLE1BQ2pCb0MsTUFBbUIsTUFBTXRULE1BRXpCaVQsR0FBbUJDLENBQVUsRUFFN0IsS0FBTSxDQUFFLHNCQUFBbFcsRUFBd0IsbUJBQUFnQixFQUFxQixlQUFBQyxFQUFpQixrQkFBQUYsQ0FBaUIsRUFBTW1WLEVBQ3ZGaFUsRUFBUSxDQUNWLEtBQU0sQ0FBRSxFQUNSLE9BQVEsQ0FBRSxFQUNWLE9BQUFoQixFQUNBLFVBQUFpTyxFQUNBLE1BQUE1dkMsRUFDQSxPQUFBcXpDLEVBQ0EsZUFBQTBELEVBQ0Esd0JBQXlCQyxFQUN6QixzQkFBQXZXLEVBQ0EsbUJBQUFnQixFQUNBLGVBQUFDLEVBQ0EsYUFBYyxDQUFFLEVBQ2hCLFlBQWEsQ0FBRSxFQUNmLGFBQWMsQ0FBRSxFQUNoQixZQUFhLENBQUUsRUFDZixhQUFjLENBQUUsRUFDaEIsWUFBYSxDQUFFLEVBQ2YsYUFBYyxDQUFFLEVBQ2hCLFlBQWEsQ0FBRSxFQUNmLHFCQUFzQixDQUFFLEVBQ3hCLG9CQUFxQixDQUFFLEVBQ3ZCLHFCQUFzQixDQUFFLEVBQ3hCLG9CQUFxQixDQUFFLEVBQ3ZCLG9CQUFxQixDQUFFLEVBQ3ZCLHFCQUFzQixDQUFFLEVBQ3hCLGtCQUFBRixFQUNBLEdBQUExdEIsRUFDQSxRQUFBZ2pDLENBQ1IsRUFDSW5VLEVBQU0sS0FBTyxDQUNULE1BQU8sTUFBTUEsRUFBTSxNQUFNLE9BQU9BLEVBQU9xVSxFQUF1QnJWLENBQU0sRUFDcEUsS0FBTSxNQUFNZ0IsRUFBTSxlQUFlLE9BQU9BLEVBQU9xVSxDQUFxQixFQUNwRSxRQUFTLE1BQU1yVSxFQUFNLE9BQU8sT0FBT0EsRUFBT3FVLEVBQXVCclYsRUFBUWdJLENBQUksQ0FDckYsRUFDSSxVQUFXL0YsS0FBUUYsR0FDZmYsRUFBTWlCLENBQUksR0FBS2pCLEVBQU1pQixDQUFJLEdBQUssSUFBSSxPQUFPRCxHQUFvQmhCLEVBQU9pQixDQUFJLENBQUMsRUFFN0UsT0FBT2pCLENBQ1gsQ0M1R08sTUFBTXNVLEdBQWMsT0FBTyxrQkFBa0IsRUNBcEQsSUFBSUMsR0FHSixNQUFNQyxLQUFTRCxHQUFzQixXQUFXLFdBQWEsTUFBUUEsS0FBd0IsT0FBUyxPQUFTQSxHQUFvQixjQUFnQixTQUFxQm4xQyxFQUFTN0gsRUFBUyxDQUN0TCxRQUFRLEtBQUssY0FBY0EsRUFBUSxJQUFJLEtBQUs2SCxDQUFPLEVBQUUsQ0FDekQsRUFDTyxTQUFTcTFDLEdBQWV6VSxFQUFPLENBQzlCLE9BQU9BLEVBQU1zVSxFQUFXLEdBQU0sV0FDOUIsZUFBZSxJQUFJLENBQ2Z0VSxFQUFNc1UsRUFBVyxFQUFJLE1BQ2pDLENBQVMsRUFDRHRVLEVBQU1zVSxFQUFXLEVBQUksR0FFckJ0VSxFQUFNc1UsRUFBVyxFQUFJLEtBQ3JCRSxHQUFLLHdNQUF5TSxDQUMxTSxLQUFNLFdBQ2xCLENBQVMsRUFDRHhVLEVBQU1zVSxFQUFXLEVBQUksSUFDZHRVLEVBQU1zVSxFQUFXLEdBQUssR0FDN0J0VSxFQUFNc1UsRUFBVyxHQUV6QixDQ2pCTyxlQUFlNTlDLEdBQU9zcEMsRUFBT2pDLEVBQUtpUCxFQUFVMEgsRUFBVyxDQUMxRCxNQUFNQyxFQUFnQixNQUFNM1UsRUFBTSxlQUFlakMsRUFBS2lDLEVBQU0sTUFBTSxFQUNsRSxHQUFJMlUsRUFDQSxNQUFNalcsR0FBWSw0QkFBNkJpVyxDQUFhLEVBRWhFLE9BQU9DLEdBQVk1VSxFQUFPakMsRUFBS2lQLEVBQVUwSCxDQUFTLENBQ3RELENBQ0EsZUFBZUUsR0FBWTVVLEVBQU9qQyxFQUFLaVAsRUFBVTBILEVBQVcsQ0FDeEQsS0FBTSxDQUFFLE1BQUFyM0MsRUFBUSxLQUFBeW5DLEdBQVU5RSxFQUFNLEtBQzFCN3VCLEVBQUssTUFBTTZ1QixFQUFNLG1CQUFtQmpDLENBQUcsRUFDN0MsR0FBSSxPQUFPNXNCLEdBQU8sU0FDZCxNQUFNdXRCLEdBQVksNkJBQThCLE9BQU92dEIsQ0FBRSxFQUU3RCxHQUFJLENBQUMsTUFBTTZ1QixFQUFNLGVBQWUsTUFBTThFLEVBQU0zekIsRUFBSTRzQixDQUFHLEVBQy9DLE1BQU1XLEdBQVksMEJBQTJCdnRCLENBQUUsRUFFbkQsTUFBTW81QixFQUFZLE1BQU12SyxFQUFNLGVBQWUsTUFBTThFLENBQUksRUFDbEQ0UCxHQUNELE1BQU1sVCxHQUFjeEIsRUFBTSxhQUFjQSxFQUFPN3VCLEVBQUk0c0IsQ0FBRyxFQUUxRCxNQUFNOFcsRUFBc0IsTUFBTTdVLEVBQU0sTUFBTSx3QkFBd0IzaUMsQ0FBSyxFQUNyRXkzQyxFQUErQixNQUFNOVUsRUFBTSxNQUFNLGlDQUFpQzNpQyxDQUFLLEVBQ3ZGMDNDLEVBQWtCLE1BQU0vVSxFQUFNLHNCQUFzQmpDLEVBQUs4VyxDQUFtQixFQUNsRixTQUFXLENBQUM1OEMsRUFBS04sQ0FBSyxJQUFLLE9BQU8sUUFBUW85QyxDQUFlLEVBQUUsQ0FDdkQsR0FBSSxPQUFPcDlDLEVBQVUsSUFDakIsU0FFSixNQUFNcTlDLEVBQWEsT0FBT3I5QyxFQUNwQjJuQyxFQUFld1YsRUFBNkI3OEMsQ0FBRyxFQUNyRCxHQUFJLEVBQUEwbkMsR0FBZUwsQ0FBWSxHQUFLLE9BQU8zbkMsR0FBVSxVQUFZLE9BQU9BLEVBQU0sS0FBUSxVQUFZLE9BQU9BLEVBQU0sS0FBUSxXQUduSCxFQUFBdW5DLEdBQWFJLENBQVksR0FBSyxNQUFNLFFBQVEzbkMsQ0FBSyxJQUdqRCxFQUFBMG5DLEdBQVlDLENBQVksR0FBSyxNQUFNLFFBQVEzbkMsQ0FBSyxJQUcvQyxHQUFBMm5DLElBQWlCLFFBQVVBLElBQWlCLFlBQWMwVixJQUFlLFVBQVlBLElBQWUsWUFHckdBLElBQWUxVixFQUNmLE1BQU1aLEdBQVksNEJBQTZCem1DLEVBQUtxbkMsRUFBYzBWLENBQVUsQ0FFbkYsQ0FDRCxVQUFXaHdCLEtBQVE2dkIsRUFBb0IsQ0FDbkMsSUFBSUksRUFBY0MsRUFBMkJDLEVBQWVDLEVBQzVELE1BQU16OUMsRUFBUW85QyxFQUFnQi92QixDQUFJLEVBQ2xDLEdBQUksT0FBT3J0QixFQUFVLElBQ2pCLFNBRUosTUFBTTJuQyxFQUFld1YsRUFBNkI5dkIsQ0FBSSxFQUN0RCxPQUFRa3dCLEdBQTZCRCxFQUFlalYsRUFBTSxPQUFPLGdCQUFrQixNQUFRa1YsSUFBOEIsT0FBUyxPQUFTQSxFQUEwQixLQUFLRCxFQUFjalYsRUFBTSxLQUFLLE1BQU9oYixFQUFNN1QsRUFBSXhaLEVBQU8ybkMsRUFBYzBOLEVBQVVoTixFQUFNLFVBQVd1SyxDQUFTLEdBQzdRLE1BQU12SyxFQUFNLE1BQU0sT0FBT0EsRUFBTSxNQUFPQSxFQUFNLEtBQUssTUFBT2hiLEVBQU03VCxFQUFJeFosRUFBTzJuQyxFQUFjME4sRUFBVWhOLEVBQU0sVUFBV3VLLENBQVMsRUFDM0gsT0FBUTZLLEdBQTRCRCxFQUFnQm5WLEVBQU0sT0FBTyxlQUFpQixNQUFRb1YsSUFBNkIsT0FBUyxPQUFTQSxFQUF5QixLQUFLRCxFQUFlblYsRUFBTSxLQUFLLE1BQU9oYixFQUFNN1QsRUFBSXhaLEVBQU8ybkMsRUFBYzBOLEVBQVVoTixFQUFNLFVBQVd1SyxDQUFTLEVBQzlRLENBQ0QsTUFBTThLLEVBQXFCLE1BQU1yVixFQUFNLE9BQU8sc0JBQXNCQSxFQUFNLEtBQUssT0FBTyxFQUNoRnNWLEVBQThCLE1BQU10VixFQUFNLE9BQU8sK0JBQStCQSxFQUFNLEtBQUssT0FBTyxFQUNsR3VWLEVBQWlCLE1BQU12VixFQUFNLHNCQUFzQmpDLEVBQUtzWCxDQUFrQixFQUNoRixVQUFXcndCLEtBQVFxd0IsRUFBbUIsQ0FDbEMsTUFBTTE5QyxFQUFRNDlDLEVBQWV2d0IsQ0FBSSxFQUNqQyxHQUFJLE9BQU9ydEIsRUFBVSxJQUNqQixTQUVKLE1BQU0ybkMsRUFBZWdXLEVBQTRCdHdCLENBQUksRUFDckQsTUFBTWdiLEVBQU0sT0FBTyxPQUFPQSxFQUFNLEtBQUssUUFBU2hiLEVBQU03VCxFQUFJeFosRUFBTzJuQyxFQUFjME4sQ0FBUSxDQUN4RixDQUNELE9BQUswSCxHQUNELE1BQU1sVCxHQUFjeEIsRUFBTSxZQUFhQSxFQUFPN3VCLEVBQUk0c0IsQ0FBRyxFQUV6RDBXLEdBQWV6VSxDQUFLLEVBQ2I3dUIsQ0FDWCxDQUNPLGVBQWVxa0MsR0FBZXhWLEVBQU84RSxFQUFNMlEsRUFBV3pJLEVBQVUwSCxFQUFXNzFDLEVBQVMsQ0FDbEY2MUMsR0FDRCxNQUFNL1MsR0FBZ0IzQixFQUFNLHFCQUFzQkEsRUFBTzhFLENBQUksRUFHakUsTUFBTTRRLEVBQWE1USxFQUFLLE9BQ3hCLFFBQVFudkMsRUFBSSxFQUFHQSxFQUFJKy9DLEVBQVkvL0MsSUFBSSxDQUMvQixNQUFNZy9DLEVBQWdCLE1BQU0zVSxFQUFNLGVBQWU4RSxFQUFLbnZDLENBQUMsRUFBR3FxQyxFQUFNLE1BQU0sRUFDdEUsR0FBSTJVLEVBQ0EsTUFBTWpXLEdBQVksNEJBQTZCaVcsQ0FBYSxDQUVuRSxDQUNELE9BQU9nQixHQUFvQjNWLEVBQU84RSxFQUFNMlEsRUFBV3pJLEVBQVUwSCxFQUFXNzFDLENBQU8sQ0FDbkYsQ0FDTyxlQUFlODJDLEdBQW9CM1YsRUFBTzhFLEVBQU0yUSxFQUFXekksRUFBVTBILEVBQVc3MUMsRUFBUyxDQUN2RjQyQyxJQUNEQSxFQUFZLEtBRWhCNTJDLEVBQVVBLEdBQVcsRUFDckIsTUFBTTZoQyxFQUFNLENBQUEsRUFDWixhQUFNLElBQUksUUFBUSxDQUFDamdDLEVBQVNDLElBQVMsQ0FDakMsSUFBSS9LLEVBQUksRUFDUixlQUFlaWdELEdBQWtCLENBQzdCLE1BQU1DLEVBQVEvUSxFQUFLLE1BQU1udkMsRUFBSTgvQyxHQUFZOS9DLEVBQUksR0FBSzgvQyxDQUFTLEVBRTNELEdBREE5L0MsSUFDSSxDQUFDa2dELEVBQU0sT0FDUCxPQUFPcDFDLEVBQU8sRUFFbEIsVUFBV3M5QixLQUFPOFgsRUFDZCxHQUFJLENBQ0EsTUFBTTFrQyxFQUFLLE1BQU16YSxHQUFPc3BDLEVBQU9qQyxFQUFLaVAsRUFBVTBILENBQVMsRUFDdkRoVSxFQUFJLEtBQUt2dkIsQ0FBRSxDQUNkLE9BQVF4UyxFQUFLLENBQ1YrQixFQUFPL0IsQ0FBRyxDQUNiLENBRUwsV0FBV2kzQyxFQUFpQi8yQyxDQUFPLENBQ3RDLENBQ0QsV0FBVysyQyxFQUFpQi8yQyxDQUFPLENBQzNDLENBQUssRUFDSTYxQyxHQUNELE1BQU0vUyxHQUFnQjNCLEVBQU0sb0JBQXFCQSxFQUFPOEUsQ0FBSSxFQUV6RHBFLENBQ1gsQ0NySE8sZUFBZW9WLEdBQWE5VixFQUFPM3lCLEVBQVEsQ0FDOUMsTUFBTTBvQyxFQUFZLE1BQU16WSxLQUN4QixHQUFJLENBQUUsT0FBQXNOLENBQVMsRUFBR3Y5QixFQUNsQixLQUFNLENBQUUsU0FBQXF3QixFQUFXLE1BQUExdEIsRUFBTyxHQUFLLE9BQUE3TyxFQUFRLEVBQUksZUFBQTYwQyxFQUFnQixFQUFRLEVBQUczb0MsRUFDaEU0b0MsRUFBY2pXLEVBQU0sS0FBSyxNQUFNLGNBQWN0QyxDQUFRLEVBQ3JEeUIsRUFBYThXLEVBQVksS0FDekJoTCxFQUFVZ0wsRUFBWSxRQUM1QixHQUFJckwsRUFBTyxTQUFXekwsRUFDbEIsTUFBTVQsR0FBWSx1QkFBd0JoQixFQUFVeUIsRUFBWXlMLEVBQU8sTUFBTSxFQUUzRUEsYUFBa0IsZUFDcEJBLEVBQVMsSUFBSSxhQUFhQSxDQUFNLEdBRXBDLE1BQU12dkIsRUFBVTB2QixHQUFtQkgsRUFBUUssRUFBUzlMLEVBQVk5eEIsRUFBTyxVQUFVLEVBQzNFeTNCLEVBQU8sTUFBTSxLQUFLLENBQ3BCLE9BQVE5MEIsQ0FDaEIsQ0FBSyxFQUNELFFBQVFyYSxFQUFJLEVBQUdBLEVBQUlxYSxFQUFPcmEsSUFBSSxDQUMxQixNQUFNVyxFQUFTK2tCLEVBQVExbEIsRUFBSXdMLENBQU0sRUFDakMsR0FBSSxDQUFDN0ssRUFDRCxNQUVKLE1BQU00L0MsRUFBYS9WLEdBQXNCSCxFQUFNLHdCQUF5QjFwQyxFQUFPLEVBQUUsRUFDM0V5bkMsRUFBTWlDLEVBQU0sS0FBSyxLQUFLLEtBQUtrVyxDQUFVLEVBQzNDLEdBQUluWSxFQUFLLENBQ0FpWSxJQUNEalksRUFBSUwsQ0FBUSxFQUFJLE1BRXBCLE1BQU15WSxFQUFTLENBQ1gsR0FBSTcvQyxFQUFPLEdBQ1gsTUFBT0EsRUFBTyxNQUNkLFNBQVV5bkMsQ0FDMUIsRUFDWStHLEVBQUtudkMsQ0FBQyxFQUFJd2dELENBQ2IsQ0FDSixDQUVELE1BQU1DLEVBRFUsTUFBTTlZLEtBQ1F5WSxFQUM5QixNQUFPLENBQ0gsTUFBTzE2QixFQUFRLE9BQ2YsS0FBTXlwQixFQUFLLE9BQU8sT0FBTyxFQUN6QixRQUFTLENBQ0wsSUFBSyxPQUFPc1IsQ0FBVyxFQUN2QixVQUFXLE1BQU0vWSxHQUFrQitZLENBQVcsQ0FDakQsQ0FDVCxDQUNBLENDbERPLGVBQWVyVyxHQUFLQyxFQUFPQyxFQUFLLENBQ25DRCxFQUFNLHdCQUF3QixLQUFLQSxFQUFPQyxFQUFJLHVCQUF1QixFQUNyRUQsRUFBTSxLQUFLLE1BQVEsTUFBTUEsRUFBTSxNQUFNLEtBQUtBLEVBQU0sd0JBQXlCQyxFQUFJLEtBQUssRUFDbEZELEVBQU0sS0FBSyxLQUFPLE1BQU1BLEVBQU0sZUFBZSxLQUFLQSxFQUFNLHdCQUF5QkMsRUFBSSxJQUFJLEVBQ3pGRCxFQUFNLEtBQUssUUFBVSxNQUFNQSxFQUFNLE9BQU8sS0FBS0EsRUFBTSx3QkFBeUJDLEVBQUksT0FBTyxFQUN2RkQsRUFBTSxVQUFVLFNBQVdDLEVBQUksUUFDbkMsQ0FDTyxlQUFlSCxHQUFLRSxFQUFPLENBQzlCLE1BQU8sQ0FDSCx3QkFBeUJBLEVBQU0sd0JBQXdCLEtBQUtBLEVBQU0sdUJBQXVCLEVBQ3pGLE1BQU8sTUFBTUEsRUFBTSxNQUFNLEtBQUtBLEVBQU0sS0FBSyxLQUFLLEVBQzlDLEtBQU0sTUFBTUEsRUFBTSxlQUFlLEtBQUtBLEVBQU0sS0FBSyxJQUFJLEVBQ3JELFFBQVMsTUFBTUEsRUFBTSxPQUFPLEtBQUtBLEVBQU0sS0FBSyxPQUFPLEVBQ25ELFNBQVVBLEVBQU0sVUFBVSxRQUNsQyxDQUNBLENDZE8sSUFBSXFXLEdBQWEsV0FHakIsU0FBU0MsR0FBVUMsRUFBTXAxQyxFQUFReEosRUFBTyxDQUMzQyxJQUFJNitDLEVBQU83K0MsRUFBUSxXQUNmOCtDLEVBQU05K0MsRUFDVjQrQyxFQUFLLFVBQVVwMUMsRUFBUXExQyxDQUFJLEVBQzNCRCxFQUFLLFVBQVVwMUMsRUFBUyxFQUFHczFDLENBQUcsQ0FDbEMsQ0FDTyxTQUFTQyxHQUFTSCxFQUFNcDFDLEVBQVF4SixFQUFPLENBQzFDLElBQUk2K0MsRUFBTyxLQUFLLE1BQU03K0MsRUFBUSxVQUFVLEVBQ3BDOCtDLEVBQU05K0MsRUFDVjQrQyxFQUFLLFVBQVVwMUMsRUFBUXExQyxDQUFJLEVBQzNCRCxFQUFLLFVBQVVwMUMsRUFBUyxFQUFHczFDLENBQUcsQ0FDbEMsQ0FDTyxTQUFTRSxHQUFTSixFQUFNcDFDLEVBQVEsQ0FDbkMsSUFBSXExQyxFQUFPRCxFQUFLLFNBQVNwMUMsQ0FBTSxFQUMzQnMxQyxFQUFNRixFQUFLLFVBQVVwMUMsRUFBUyxDQUFDLEVBQ25DLE9BQU9xMUMsRUFBTyxXQUFhQyxDQUMvQixDQUNPLFNBQVNHLEdBQVVMLEVBQU1wMUMsRUFBUSxDQUNwQyxJQUFJcTFDLEVBQU9ELEVBQUssVUFBVXAxQyxDQUFNLEVBQzVCczFDLEVBQU1GLEVBQUssVUFBVXAxQyxFQUFTLENBQUMsRUFDbkMsT0FBT3ExQyxFQUFPLFdBQWFDLENBQy9CLENDekJBLElBQUl0eEMsR0FBSWlFLEdBQUlvRCxHQUdScXFDLElBQTJCLE9BQU8sUUFBWSxPQUFpQjF4QyxHQUFLLFNBQVksS0FBNkIsT0FBUyxRQUFRLE9BQVMsTUFBUUEsS0FBTyxPQUFTLE9BQVNBLEdBQUcsaUJBQXNCLFVBQ2pNLE9BQU8sWUFBZ0IsS0FDdkIsT0FBTyxZQUFnQixJQUNwQixTQUFTMnhDLEdBQVVwMUMsRUFBSyxDQUkzQixRQUhJcTFDLEVBQVlyMUMsRUFBSSxPQUNoQnF0QixFQUFhLEVBQ2Jpb0IsRUFBTSxFQUNIQSxFQUFNRCxHQUFXLENBQ3BCLElBQUlwL0MsRUFBUStKLEVBQUksV0FBV3MxQyxHQUFLLEVBQ2hDLEdBQUtyL0MsRUFBUSxXQUtSLEdBQUssRUFBQUEsRUFBUSxZQUVkbzNCLEdBQWMsTUFFYixDQUVELEdBQUlwM0IsR0FBUyxPQUFVQSxHQUFTLE9BRXhCcS9DLEVBQU1ELEVBQVcsQ0FDakIsSUFBSTdtQyxFQUFReE8sRUFBSSxXQUFXczFDLENBQUcsR0FDekI5bUMsRUFBUSxTQUFZLFFBQ3JCLEVBQUU4bUMsRUFDRnIvQyxJQUFVQSxFQUFRLE9BQVUsS0FBT3VZLEVBQVEsTUFBUyxNQUUzRCxDQUVBdlksRUFBUSxXQU1UbzNCLEdBQWMsRUFKZEEsR0FBYyxDQU1yQixLQTdCK0IsQ0FFNUJBLElBQ0EsUUFDSCxDQTBCSixDQUNELE9BQU9BLENBQ1gsQ0FDTyxTQUFTa29CLEdBQWF2MUMsRUFBSytGLEVBQVF5dkMsRUFBYyxDQUlwRCxRQUhJSCxFQUFZcjFDLEVBQUksT0FDaEJQLEVBQVMrMUMsRUFDVEYsRUFBTSxFQUNIQSxFQUFNRCxHQUFXLENBQ3BCLElBQUlwL0MsRUFBUStKLEVBQUksV0FBV3MxQyxHQUFLLEVBQ2hDLEdBQUtyL0MsRUFBUSxXQUtSLEdBQUssRUFBQUEsRUFBUSxZQUVkOFAsRUFBT3RHLEdBQVEsRUFBTXhKLEdBQVMsRUFBSyxHQUFRLFFBRTFDLENBRUQsR0FBSUEsR0FBUyxPQUFVQSxHQUFTLE9BRXhCcS9DLEVBQU1ELEVBQVcsQ0FDakIsSUFBSTdtQyxFQUFReE8sRUFBSSxXQUFXczFDLENBQUcsR0FDekI5bUMsRUFBUSxTQUFZLFFBQ3JCLEVBQUU4bUMsRUFDRnIvQyxJQUFVQSxFQUFRLE9BQVUsS0FBT3VZLEVBQVEsTUFBUyxNQUUzRCxDQUVBdlksRUFBUSxZQU9UOFAsRUFBT3RHLEdBQVEsRUFBTXhKLEdBQVMsR0FBTSxFQUFRLElBQzVDOFAsRUFBT3RHLEdBQVEsRUFBTXhKLEdBQVMsR0FBTSxHQUFRLElBQzVDOFAsRUFBT3RHLEdBQVEsRUFBTXhKLEdBQVMsRUFBSyxHQUFRLE1BUDNDOFAsRUFBT3RHLEdBQVEsRUFBTXhKLEdBQVMsR0FBTSxHQUFRLElBQzVDOFAsRUFBT3RHLEdBQVEsRUFBTXhKLEdBQVMsRUFBSyxHQUFRLElBUWxELEtBaEMrQixDQUU1QjhQLEVBQU90RyxHQUFRLEVBQUl4SixFQUNuQixRQUNILENBNkJEOFAsRUFBT3RHLEdBQVEsRUFBS3hKLEVBQVEsR0FBUSxHQUN2QyxDQUNMLENBQ0EsSUFBSXcvQyxHQUFvQk4sR0FBMEIsSUFBSSxZQUFnQixPQUMzRE8sR0FBMEJQLEdBRS9CLE9BQU8sUUFBWSxPQUFpQnp0QyxHQUFLLFNBQVksS0FBNkIsT0FBUyxRQUFRLE9BQVMsTUFBUUEsS0FBTyxPQUFTLE9BQVNBLEdBQUcsaUJBQXNCLFFBQ2xLLElBQ0EsRUFISml0QyxHQUlOLFNBQVNnQixHQUFtQjMxQyxFQUFLK0YsRUFBUXl2QyxFQUFjLENBQ25EenZDLEVBQU8sSUFBSTB2QyxHQUFrQixPQUFPejFDLENBQUcsRUFBR3cxQyxDQUFZLENBQzFELENBQ0EsU0FBU0ksR0FBdUI1MUMsRUFBSytGLEVBQVF5dkMsRUFBYyxDQUN2REMsR0FBa0IsV0FBV3oxQyxFQUFLK0YsRUFBTyxTQUFTeXZDLENBQVksQ0FBQyxDQUNuRSxDQUNPLElBQUlLLEdBQWdCSixJQUFzQixNQUFnREEsR0FBa0IsV0FBY0csR0FBeUJELEdBQ3RKRyxHQUFhLEtBQ1YsU0FBU0MsR0FBYXYxQixFQUFPdzFCLEVBQWEzb0IsRUFBWSxDQUt6RCxRQUpJNXRCLEVBQVN1MkMsRUFDVDFuQixFQUFNN3VCLEVBQVM0dEIsRUFDZjRvQixFQUFRLENBQUEsRUFDUnJoRCxFQUFTLEdBQ042SyxFQUFTNnVCLEdBQUssQ0FDakIsSUFBSTRuQixFQUFRMTFCLEVBQU0vZ0IsR0FBUSxFQUMxQixHQUFLLEVBQUF5MkMsRUFBUSxLQUVURCxFQUFNLEtBQUtDLENBQUssV0FFVkEsRUFBUSxPQUFVLElBQU0sQ0FFOUIsSUFBSUMsRUFBUTMxQixFQUFNL2dCLEdBQVEsRUFBSSxHQUM5QncyQyxFQUFNLE1BQU9DLEVBQVEsS0FBUyxFQUFLQyxDQUFLLENBQzNDLFVBQ1NELEVBQVEsT0FBVSxJQUFNLENBRTlCLElBQUlDLEVBQVEzMUIsRUFBTS9nQixHQUFRLEVBQUksR0FDMUIyMkMsRUFBUTUxQixFQUFNL2dCLEdBQVEsRUFBSSxHQUM5QncyQyxFQUFNLE1BQU9DLEVBQVEsS0FBUyxHQUFPQyxHQUFTLEVBQUtDLENBQUssQ0FDM0QsVUFDU0YsRUFBUSxPQUFVLElBQU0sQ0FFOUIsSUFBSUMsRUFBUTMxQixFQUFNL2dCLEdBQVEsRUFBSSxHQUMxQjIyQyxFQUFRNTFCLEVBQU0vZ0IsR0FBUSxFQUFJLEdBQzFCNDJDLEVBQVE3MUIsRUFBTS9nQixHQUFRLEVBQUksR0FDMUJxOUIsR0FBU29aLEVBQVEsSUFBUyxHQUFTQyxHQUFTLEdBQVNDLEdBQVMsRUFBUUMsRUFDdEV2WixFQUFPLFFBQ1BBLEdBQVEsTUFDUm1aLEVBQU0sS0FBT25aLElBQVMsR0FBTSxLQUFTLEtBQU0sRUFDM0NBLEVBQU8sTUFBVUEsRUFBTyxNQUU1Qm1aLEVBQU0sS0FBS25aLENBQUksQ0FDbEIsTUFFR21aLEVBQU0sS0FBS0MsQ0FBSyxFQUVoQkQsRUFBTSxRQUFVSCxLQUNoQmxoRCxHQUFVLE9BQU8sYUFBYSxNQUFNLE9BQVFxaEQsQ0FBSyxFQUNqREEsRUFBTSxPQUFTLEVBRXRCLENBQ0QsT0FBSUEsRUFBTSxPQUFTLElBQ2ZyaEQsR0FBVSxPQUFPLGFBQWEsTUFBTSxPQUFRcWhELENBQUssR0FFOUNyaEQsQ0FDWCxDQUNBLElBQUkwaEQsR0FBb0JuQixHQUEwQixJQUFJLFlBQWdCLEtBQzNEb0IsR0FBMEJwQixHQUUvQixPQUFPLFFBQVksT0FBaUJycUMsR0FBSyxTQUFZLEtBQTZCLE9BQVMsUUFBUSxPQUFTLE1BQVFBLEtBQU8sT0FBUyxPQUFTQSxHQUFHLGdCQUFxQixRQUNqSyxJQUNBLEVBSEo2cEMsR0FJQyxTQUFTNkIsR0FBYWgyQixFQUFPdzFCLEVBQWEzb0IsRUFBWSxDQUN6RCxJQUFJb3BCLEVBQWNqMkIsRUFBTSxTQUFTdzFCLEVBQWFBLEVBQWMzb0IsQ0FBVSxFQUN0RSxPQUFPaXBCLEdBQWtCLE9BQU9HLENBQVcsQ0FDL0MsQ0MzSkEsSUFBSUMsR0FBeUIsVUFBWSxDQUNyQyxTQUFTQSxFQUFRaDdDLEVBQU1uRyxFQUFNLENBQ3pCLEtBQUssS0FBT21HLEVBQ1osS0FBSyxLQUFPbkcsQ0FDZixDQUNELE9BQU9taEQsQ0FDWCxJQ1RJQyxHQUFhbnpCLFlBQVFBLFdBQUssV0FBZSxVQUFZLENBQ3JELElBQUlvekIsRUFBZ0IsU0FBVW5oQixFQUFHN2lDLEVBQUcsQ0FDaEMsT0FBQWdrRCxFQUFnQixPQUFPLGdCQUNsQixDQUFFLFVBQVcsQ0FBQSxhQUFnQixPQUFTLFNBQVVuaEIsRUFBRzdpQyxFQUFHLENBQUU2aUMsRUFBRSxVQUFZN2lDLENBQUUsR0FDekUsU0FBVTZpQyxFQUFHN2lDLEVBQUcsQ0FBRSxRQUFTNlUsS0FBSzdVLEVBQU8sT0FBTyxVQUFVLGVBQWUsS0FBS0EsRUFBRzZVLENBQUMsSUFBR2d1QixFQUFFaHVCLENBQUMsRUFBSTdVLEVBQUU2VSxDQUFDLElBQzFGbXZDLEVBQWNuaEIsRUFBRzdpQyxDQUFDLENBQ2pDLEVBQ0ksT0FBTyxTQUFVNmlDLEVBQUc3aUMsRUFBRyxDQUNuQixHQUFJLE9BQU9BLEdBQU0sWUFBY0EsSUFBTSxLQUNqQyxNQUFNLElBQUksVUFBVSx1QkFBeUIsT0FBT0EsQ0FBQyxFQUFJLCtCQUErQixFQUM1RmdrRCxFQUFjbmhCLEVBQUc3aUMsQ0FBQyxFQUNsQixTQUFTaWtELEdBQUssQ0FBRSxLQUFLLFlBQWNwaEIsQ0FBSSxDQUN2Q0EsRUFBRSxVQUFZN2lDLElBQU0sS0FBTyxPQUFPLE9BQU9BLENBQUMsR0FBS2lrRCxFQUFHLFVBQVlqa0QsRUFBRSxVQUFXLElBQUlpa0QsRUFDdkYsQ0FDQSxJQUNJQyxHQUE2QixTQUFVQyxFQUFRLENBQy9DSixHQUFVRyxFQUFhQyxDQUFNLEVBQzdCLFNBQVNELEVBQVlwNUMsRUFBUyxDQUMxQixJQUFJczVDLEVBQVFELEVBQU8sS0FBSyxLQUFNcjVDLENBQU8sR0FBSyxLQUV0Q3U1QyxFQUFRLE9BQU8sT0FBT0gsRUFBWSxTQUFTLEVBQy9DLGNBQU8sZUFBZUUsRUFBT0MsQ0FBSyxFQUNsQyxPQUFPLGVBQWVELEVBQU8sT0FBUSxDQUNqQyxhQUFjLEdBQ2QsV0FBWSxHQUNaLE1BQU9GLEVBQVksSUFDL0IsQ0FBUyxFQUNNRSxDQUNWLENBQ0QsT0FBT0YsQ0FDWCxFQUFFLEtBQUssRUMzQklJLEdBQWdCLEdBQ3ZCQyxHQUFzQixXQUFjLEVBQ3BDQyxHQUFzQixZQUFjLEVBQ2pDLFNBQVNDLEdBQTBCNXpDLEVBQUksQ0FDMUMsSUFBSTZ6QyxFQUFNN3pDLEVBQUcsSUFBSzh6QyxFQUFPOXpDLEVBQUcsS0FDNUIsR0FBSTZ6QyxHQUFPLEdBQUtDLEdBQVEsR0FBS0QsR0FBT0YsR0FFaEMsR0FBSUcsSUFBUyxHQUFLRCxHQUFPSCxHQUFxQixDQUUxQyxJQUFJSyxFQUFLLElBQUksV0FBVyxDQUFDLEVBQ3JCM0MsRUFBTyxJQUFJLFNBQVMyQyxFQUFHLE1BQU0sRUFDakMsT0FBQTNDLEVBQUssVUFBVSxFQUFHeUMsQ0FBRyxFQUNkRSxDQUNWLEtBQ0ksQ0FFRCxJQUFJQyxFQUFVSCxFQUFNLFdBQ2hCSSxFQUFTSixFQUFNLFdBQ2ZFLEVBQUssSUFBSSxXQUFXLENBQUMsRUFDckIzQyxFQUFPLElBQUksU0FBUzJDLEVBQUcsTUFBTSxFQUVqQyxPQUFBM0MsRUFBSyxVQUFVLEVBQUkwQyxHQUFRLEVBQU1FLEVBQVUsQ0FBSSxFQUUvQzVDLEVBQUssVUFBVSxFQUFHNkMsQ0FBTSxFQUNqQkYsQ0FDVixLQUVBLENBRUQsSUFBSUEsRUFBSyxJQUFJLFdBQVcsRUFBRSxFQUN0QjNDLEVBQU8sSUFBSSxTQUFTMkMsRUFBRyxNQUFNLEVBQ2pDLE9BQUEzQyxFQUFLLFVBQVUsRUFBRzBDLENBQUksRUFDdEJ2QyxHQUFTSCxFQUFNLEVBQUd5QyxDQUFHLEVBQ2RFLENBQ1YsQ0FDTCxDQUNPLFNBQVNHLEdBQXFCQyxFQUFNLENBQ3ZDLElBQUlDLEVBQU9ELEVBQUssVUFDWk4sRUFBTSxLQUFLLE1BQU1PLEVBQU8sR0FBRyxFQUMzQk4sR0FBUU0sRUFBT1AsRUFBTSxLQUFPLElBRTVCUSxFQUFZLEtBQUssTUFBTVAsRUFBTyxHQUFHLEVBQ3JDLE1BQU8sQ0FDSCxJQUFLRCxFQUFNUSxFQUNYLEtBQU1QLEVBQU9PLEVBQVksR0FDakMsQ0FDQSxDQUNPLFNBQVNDLEdBQXlCaGMsRUFBUSxDQUM3QyxHQUFJQSxhQUFrQixLQUFNLENBQ3hCLElBQUlpYyxFQUFXTCxHQUFxQjViLENBQU0sRUFDMUMsT0FBT3NiLEdBQTBCVyxDQUFRLENBQzVDLEtBRUcsUUFBTyxJQUVmLENBQ08sU0FBU0MsR0FBMEIxaUQsRUFBTSxDQUM1QyxJQUFJcy9DLEVBQU8sSUFBSSxTQUFTdC9DLEVBQUssT0FBUUEsRUFBSyxXQUFZQSxFQUFLLFVBQVUsRUFFckUsT0FBUUEsRUFBSyxXQUFVLENBQ25CLElBQUssR0FBRyxDQUVKLElBQUkraEQsRUFBTXpDLEVBQUssVUFBVSxDQUFDLEVBQ3RCMEMsRUFBTyxFQUNYLE1BQU8sQ0FBRSxJQUFLRCxFQUFLLEtBQU1DLENBQUksQ0FDaEMsQ0FDRCxJQUFLLEdBQUcsQ0FFSixJQUFJVyxFQUFvQnJELEVBQUssVUFBVSxDQUFDLEVBQ3BDc0QsRUFBV3RELEVBQUssVUFBVSxDQUFDLEVBQzNCeUMsR0FBT1ksRUFBb0IsR0FBTyxXQUFjQyxFQUNoRFosRUFBT1csSUFBc0IsRUFDakMsTUFBTyxDQUFFLElBQUtaLEVBQUssS0FBTUMsQ0FBSSxDQUNoQyxDQUNELElBQUssSUFBSSxDQUVMLElBQUlELEVBQU1yQyxHQUFTSixFQUFNLENBQUMsRUFDdEIwQyxFQUFPMUMsRUFBSyxVQUFVLENBQUMsRUFDM0IsTUFBTyxDQUFFLElBQUt5QyxFQUFLLEtBQU1DLENBQUksQ0FDaEMsQ0FDRCxRQUNJLE1BQU0sSUFBSVQsR0FBWSxnRUFBZ0UsT0FBT3ZoRCxFQUFLLE1BQU0sQ0FBQyxDQUNoSCxDQUNMLENBQ08sU0FBUzZpRCxHQUF5QjdpRCxFQUFNLENBQzNDLElBQUl5aUQsRUFBV0MsR0FBMEIxaUQsQ0FBSSxFQUM3QyxPQUFPLElBQUksS0FBS3lpRCxFQUFTLElBQU0sSUFBTUEsRUFBUyxLQUFPLEdBQUcsQ0FDNUQsQ0FDTyxJQUFJSyxHQUFxQixDQUM1QixLQUFNbkIsR0FDTixPQUFRYSxHQUNSLE9BQVFLLEVBQ1osRUM1RklFLEdBQWdDLFVBQVksQ0FDNUMsU0FBU0EsR0FBaUIsQ0FFdEIsS0FBSyxnQkFBa0IsR0FDdkIsS0FBSyxnQkFBa0IsR0FFdkIsS0FBSyxTQUFXLEdBQ2hCLEtBQUssU0FBVyxHQUNoQixLQUFLLFNBQVNELEVBQWtCLENBQ25DLENBQ0QsT0FBQUMsRUFBZSxVQUFVLFNBQVcsU0FBVTcwQyxFQUFJLENBQzlDLElBQUkvSCxFQUFPK0gsRUFBRyxLQUFNODBDLEVBQVM5MEMsRUFBRyxPQUFRKzBDLEVBQVMvMEMsRUFBRyxPQUNwRCxHQUFJL0gsR0FBUSxFQUVSLEtBQUssU0FBU0EsQ0FBSSxFQUFJNjhDLEVBQ3RCLEtBQUssU0FBUzc4QyxDQUFJLEVBQUk4OEMsTUFFckIsQ0FFRCxJQUFJNzhDLEVBQVEsRUFBSUQsRUFDaEIsS0FBSyxnQkFBZ0JDLENBQUssRUFBSTQ4QyxFQUM5QixLQUFLLGdCQUFnQjU4QyxDQUFLLEVBQUk2OEMsQ0FDakMsQ0FDVCxFQUNJRixFQUFlLFVBQVUsWUFBYyxTQUFVdmMsRUFBUWgwQixFQUFTLENBRTlELFFBQVM5VCxFQUFJLEVBQUdBLEVBQUksS0FBSyxnQkFBZ0IsT0FBUUEsSUFBSyxDQUNsRCxJQUFJd2tELEVBQVksS0FBSyxnQkFBZ0J4a0QsQ0FBQyxFQUN0QyxHQUFJd2tELEdBQWEsS0FBTSxDQUNuQixJQUFJbGpELEVBQU9rakQsRUFBVTFjLEVBQVFoMEIsQ0FBTyxFQUNwQyxHQUFJeFMsR0FBUSxLQUFNLENBQ2QsSUFBSW1HLEVBQU8sR0FBS3pILEVBQ2hCLE9BQU8sSUFBSXlpRCxHQUFRaDdDLEVBQU1uRyxDQUFJLENBQ2hDLENBQ0osQ0FDSixDQUVELFFBQVN0QixFQUFJLEVBQUdBLEVBQUksS0FBSyxTQUFTLE9BQVFBLElBQUssQ0FDM0MsSUFBSXdrRCxFQUFZLEtBQUssU0FBU3hrRCxDQUFDLEVBQy9CLEdBQUl3a0QsR0FBYSxLQUFNLENBQ25CLElBQUlsakQsRUFBT2tqRCxFQUFVMWMsRUFBUWgwQixDQUFPLEVBQ3BDLEdBQUl4UyxHQUFRLEtBQU0sQ0FDZCxJQUFJbUcsRUFBT3pILEVBQ1gsT0FBTyxJQUFJeWlELEdBQVFoN0MsRUFBTW5HLENBQUksQ0FDaEMsQ0FDSixDQUNKLENBQ0QsT0FBSXdtQyxhQUFrQjJhLEdBRVgzYSxFQUVKLElBQ2YsRUFDSXVjLEVBQWUsVUFBVSxPQUFTLFNBQVUvaUQsRUFBTW1HLEVBQU1xTSxFQUFTLENBQzdELElBQUkyd0MsRUFBWWg5QyxFQUFPLEVBQUksS0FBSyxnQkFBZ0IsR0FBS0EsQ0FBSSxFQUFJLEtBQUssU0FBU0EsQ0FBSSxFQUMvRSxPQUFJZzlDLEVBQ09BLEVBQVVuakQsRUFBTW1HLEVBQU1xTSxDQUFPLEVBSTdCLElBQUkydUMsR0FBUWg3QyxFQUFNbkcsQ0FBSSxDQUV6QyxFQUNJK2lELEVBQWUsYUFBZSxJQUFJQSxFQUMzQkEsQ0FDWCxJQ3BFTyxTQUFTSyxHQUFpQkMsRUFBUSxDQUNyQyxPQUFJQSxhQUFrQixXQUNYQSxFQUVGLFlBQVksT0FBT0EsQ0FBTSxFQUN2QixJQUFJLFdBQVdBLEVBQU8sT0FBUUEsRUFBTyxXQUFZQSxFQUFPLFVBQVUsRUFFcEVBLGFBQWtCLFlBQ2hCLElBQUksV0FBV0EsQ0FBTSxFQUlyQixXQUFXLEtBQUtBLENBQU0sQ0FFckMsQ0FDTyxTQUFTQyxHQUFlRCxFQUFRLENBQ25DLEdBQUlBLGFBQWtCLFlBQ2xCLE9BQU8sSUFBSSxTQUFTQSxDQUFNLEVBRTlCLElBQUlFLEVBQWFILEdBQWlCQyxDQUFNLEVBQ3hDLE9BQU8sSUFBSSxTQUFTRSxFQUFXLE9BQVFBLEVBQVcsV0FBWUEsRUFBVyxVQUFVLENBQ3ZGLENDakJPLElBQUlDLEdBQW9CLElBQ3BCQyxHQUE4QixLQUNyQ0MsR0FBeUIsVUFBWSxDQUNyQyxTQUFTQSxFQUFRQyxFQUFnQm54QyxFQUFTb3hDLEVBQVVDLEVBQW1CQyxFQUFVQyxFQUFjQyxFQUFpQkMsRUFBcUIsQ0FDN0hOLElBQW1CLFNBQVVBLEVBQWlCWixHQUFlLGNBQzdEdndDLElBQVksU0FBVUEsRUFBVSxRQUNoQ294QyxJQUFhLFNBQVVBLEVBQVdKLElBQ2xDSyxJQUFzQixTQUFVQSxFQUFvQkosSUFDcERLLElBQWEsU0FBVUEsRUFBVyxJQUNsQ0MsSUFBaUIsU0FBVUEsRUFBZSxJQUMxQ0MsSUFBb0IsU0FBVUEsRUFBa0IsSUFDaERDLElBQXdCLFNBQVVBLEVBQXNCLElBQzVELEtBQUssZUFBaUJOLEVBQ3RCLEtBQUssUUFBVW54QyxFQUNmLEtBQUssU0FBV294QyxFQUNoQixLQUFLLGtCQUFvQkMsRUFDekIsS0FBSyxTQUFXQyxFQUNoQixLQUFLLGFBQWVDLEVBQ3BCLEtBQUssZ0JBQWtCQyxFQUN2QixLQUFLLG9CQUFzQkMsRUFDM0IsS0FBSyxJQUFNLEVBQ1gsS0FBSyxLQUFPLElBQUksU0FBUyxJQUFJLFlBQVksS0FBSyxpQkFBaUIsQ0FBQyxFQUNoRSxLQUFLLE1BQVEsSUFBSSxXQUFXLEtBQUssS0FBSyxNQUFNLENBQy9DLENBQ0QsT0FBQVAsRUFBUSxVQUFVLGtCQUFvQixVQUFZLENBQzlDLEtBQUssSUFBTSxDQUNuQixFQU1JQSxFQUFRLFVBQVUsZ0JBQWtCLFNBQVVsZCxFQUFRLENBQ2xELFlBQUssa0JBQWlCLEVBQ3RCLEtBQUssU0FBU0EsRUFBUSxDQUFDLEVBQ2hCLEtBQUssTUFBTSxTQUFTLEVBQUcsS0FBSyxHQUFHLENBQzlDLEVBSUlrZCxFQUFRLFVBQVUsT0FBUyxTQUFVbGQsRUFBUSxDQUN6QyxZQUFLLGtCQUFpQixFQUN0QixLQUFLLFNBQVNBLEVBQVEsQ0FBQyxFQUNoQixLQUFLLE1BQU0sTUFBTSxFQUFHLEtBQUssR0FBRyxDQUMzQyxFQUNJa2QsRUFBUSxVQUFVLFNBQVcsU0FBVWxkLEVBQVE2SSxFQUFPLENBQ2xELEdBQUlBLEVBQVEsS0FBSyxTQUNiLE1BQU0sSUFBSSxNQUFNLDZCQUE2QixPQUFPQSxDQUFLLENBQUMsRUFFMUQ3SSxHQUFVLEtBQ1YsS0FBSyxVQUFTLEVBRVQsT0FBT0EsR0FBVyxVQUN2QixLQUFLLGNBQWNBLENBQU0sRUFFcEIsT0FBT0EsR0FBVyxTQUN2QixLQUFLLGFBQWFBLENBQU0sRUFFbkIsT0FBT0EsR0FBVyxTQUN2QixLQUFLLGFBQWFBLENBQU0sRUFHeEIsS0FBSyxhQUFhQSxFQUFRNkksQ0FBSyxDQUUzQyxFQUNJcVUsRUFBUSxVQUFVLHdCQUEwQixTQUFVUSxFQUFhLENBQy9ELElBQUlDLEVBQWUsS0FBSyxJQUFNRCxFQUMxQixLQUFLLEtBQUssV0FBYUMsR0FDdkIsS0FBSyxhQUFhQSxFQUFlLENBQUMsQ0FFOUMsRUFDSVQsRUFBUSxVQUFVLGFBQWUsU0FBVVUsRUFBUyxDQUNoRCxJQUFJQyxFQUFZLElBQUksWUFBWUQsQ0FBTyxFQUNuQ0UsRUFBVyxJQUFJLFdBQVdELENBQVMsRUFDbkNFLEVBQVUsSUFBSSxTQUFTRixDQUFTLEVBQ3BDQyxFQUFTLElBQUksS0FBSyxLQUFLLEVBQ3ZCLEtBQUssS0FBT0MsRUFDWixLQUFLLE1BQVFELENBQ3JCLEVBQ0laLEVBQVEsVUFBVSxVQUFZLFVBQVksQ0FDdEMsS0FBSyxRQUFRLEdBQUksQ0FDekIsRUFDSUEsRUFBUSxVQUFVLGNBQWdCLFNBQVVsZCxFQUFRLENBQzVDQSxJQUFXLEdBQ1gsS0FBSyxRQUFRLEdBQUksRUFHakIsS0FBSyxRQUFRLEdBQUksQ0FFN0IsRUFDSWtkLEVBQVEsVUFBVSxhQUFlLFNBQVVsZCxFQUFRLENBQzNDLE9BQU8sY0FBY0EsQ0FBTSxHQUFLLENBQUMsS0FBSyxvQkFDbENBLEdBQVUsRUFDTkEsRUFBUyxJQUVULEtBQUssUUFBUUEsQ0FBTSxFQUVkQSxFQUFTLEtBRWQsS0FBSyxRQUFRLEdBQUksRUFDakIsS0FBSyxRQUFRQSxDQUFNLEdBRWRBLEVBQVMsT0FFZCxLQUFLLFFBQVEsR0FBSSxFQUNqQixLQUFLLFNBQVNBLENBQU0sR0FFZkEsRUFBUyxZQUVkLEtBQUssUUFBUSxHQUFJLEVBQ2pCLEtBQUssU0FBU0EsQ0FBTSxJQUlwQixLQUFLLFFBQVEsR0FBSSxFQUNqQixLQUFLLFNBQVNBLENBQU0sR0FJcEJBLEdBQVUsSUFFVixLQUFLLFFBQVEsSUFBUUEsRUFBUyxFQUFLLEVBRTlCQSxHQUFVLE1BRWYsS0FBSyxRQUFRLEdBQUksRUFDakIsS0FBSyxRQUFRQSxDQUFNLEdBRWRBLEdBQVUsUUFFZixLQUFLLFFBQVEsR0FBSSxFQUNqQixLQUFLLFNBQVNBLENBQU0sR0FFZkEsR0FBVSxhQUVmLEtBQUssUUFBUSxHQUFJLEVBQ2pCLEtBQUssU0FBU0EsQ0FBTSxJQUlwQixLQUFLLFFBQVEsR0FBSSxFQUNqQixLQUFLLFNBQVNBLENBQU0sR0FNeEIsS0FBSyxjQUVMLEtBQUssUUFBUSxHQUFJLEVBQ2pCLEtBQUssU0FBU0EsQ0FBTSxJQUlwQixLQUFLLFFBQVEsR0FBSSxFQUNqQixLQUFLLFNBQVNBLENBQU0sRUFHcEMsRUFDSWtkLEVBQVEsVUFBVSxrQkFBb0IsU0FBVTVyQixFQUFZLENBQ3hELEdBQUlBLEVBQWEsR0FFYixLQUFLLFFBQVEsSUFBT0EsQ0FBVSxVQUV6QkEsRUFBYSxJQUVsQixLQUFLLFFBQVEsR0FBSSxFQUNqQixLQUFLLFFBQVFBLENBQVUsVUFFbEJBLEVBQWEsTUFFbEIsS0FBSyxRQUFRLEdBQUksRUFDakIsS0FBSyxTQUFTQSxDQUFVLFVBRW5CQSxFQUFhLFdBRWxCLEtBQUssUUFBUSxHQUFJLEVBQ2pCLEtBQUssU0FBU0EsQ0FBVSxNQUd4QixPQUFNLElBQUksTUFBTSxvQkFBb0IsT0FBT0EsRUFBWSxpQkFBaUIsQ0FBQyxDQUVyRixFQUNJNHJCLEVBQVEsVUFBVSxhQUFlLFNBQVVsZCxFQUFRLENBQy9DLElBQUlnZSxFQUFnQixFQUNoQjFFLEVBQVl0WixFQUFPLE9BQ3ZCLEdBQUlzWixFQUFZSyxHQUF3QixDQUNwQyxJQUFJcm9CLEVBQWErbkIsR0FBVXJaLENBQU0sRUFDakMsS0FBSyx3QkFBd0JnZSxFQUFnQjFzQixDQUFVLEVBQ3ZELEtBQUssa0JBQWtCQSxDQUFVLEVBQ2pDd29CLEdBQWE5WixFQUFRLEtBQUssTUFBTyxLQUFLLEdBQUcsRUFDekMsS0FBSyxLQUFPMU8sQ0FDZixLQUNJLENBQ0QsSUFBSUEsRUFBYStuQixHQUFVclosQ0FBTSxFQUNqQyxLQUFLLHdCQUF3QmdlLEVBQWdCMXNCLENBQVUsRUFDdkQsS0FBSyxrQkFBa0JBLENBQVUsRUFDakNrb0IsR0FBYXhaLEVBQVEsS0FBSyxNQUFPLEtBQUssR0FBRyxFQUN6QyxLQUFLLEtBQU8xTyxDQUNmLENBQ1QsRUFDSTRyQixFQUFRLFVBQVUsYUFBZSxTQUFVbGQsRUFBUTZJLEVBQU8sQ0FFdEQsSUFBSW9WLEVBQU0sS0FBSyxlQUFlLFlBQVlqZSxFQUFRLEtBQUssT0FBTyxFQUM5RCxHQUFJaWUsR0FBTyxLQUNQLEtBQUssZ0JBQWdCQSxDQUFHLFVBRW5CLE1BQU0sUUFBUWplLENBQU0sRUFDekIsS0FBSyxZQUFZQSxFQUFRNkksQ0FBSyxVQUV6QixZQUFZLE9BQU83SSxDQUFNLEVBQzlCLEtBQUssYUFBYUEsQ0FBTSxVQUVuQixPQUFPQSxHQUFXLFNBQ3ZCLEtBQUssVUFBVUEsRUFBUTZJLENBQUssTUFJNUIsT0FBTSxJQUFJLE1BQU0sd0JBQXdCLE9BQU8sT0FBTyxVQUFVLFNBQVMsTUFBTTdJLENBQU0sQ0FBQyxDQUFDLENBRW5HLEVBQ0lrZCxFQUFRLFVBQVUsYUFBZSxTQUFVbGQsRUFBUSxDQUMvQyxJQUFJbUMsRUFBT25DLEVBQU8sV0FDbEIsR0FBSW1DLEVBQU8sSUFFUCxLQUFLLFFBQVEsR0FBSSxFQUNqQixLQUFLLFFBQVFBLENBQUksVUFFWkEsRUFBTyxNQUVaLEtBQUssUUFBUSxHQUFJLEVBQ2pCLEtBQUssU0FBU0EsQ0FBSSxVQUViQSxFQUFPLFdBRVosS0FBSyxRQUFRLEdBQUksRUFDakIsS0FBSyxTQUFTQSxDQUFJLE1BR2xCLE9BQU0sSUFBSSxNQUFNLHFCQUFxQixPQUFPQSxDQUFJLENBQUMsRUFFckQsSUFBSTFkLEVBQVFtNEIsR0FBaUI1YyxDQUFNLEVBQ25DLEtBQUssU0FBU3ZiLENBQUssQ0FDM0IsRUFDSXk0QixFQUFRLFVBQVUsWUFBYyxTQUFVbGQsRUFBUTZJLEVBQU8sQ0FDckQsSUFBSTFHLEVBQU9uQyxFQUFPLE9BQ2xCLEdBQUltQyxFQUFPLEdBRVAsS0FBSyxRQUFRLElBQU9BLENBQUksVUFFbkJBLEVBQU8sTUFFWixLQUFLLFFBQVEsR0FBSSxFQUNqQixLQUFLLFNBQVNBLENBQUksVUFFYkEsRUFBTyxXQUVaLEtBQUssUUFBUSxHQUFJLEVBQ2pCLEtBQUssU0FBU0EsQ0FBSSxNQUdsQixPQUFNLElBQUksTUFBTSxvQkFBb0IsT0FBT0EsQ0FBSSxDQUFDLEVBRXBELFFBQVN6RSxFQUFLLEVBQUd3Z0IsRUFBV2xlLEVBQVF0QyxFQUFLd2dCLEVBQVMsT0FBUXhnQixJQUFNLENBQzVELElBQUlsdkIsRUFBTzB2QyxFQUFTeGdCLENBQUUsRUFDdEIsS0FBSyxTQUFTbHZCLEVBQU1xNkIsRUFBUSxDQUFDLENBQ2hDLENBQ1QsRUFDSXFVLEVBQVEsVUFBVSxzQkFBd0IsU0FBVWxkLEVBQVF2a0IsRUFBTSxDQUU5RCxRQURJN1osRUFBUSxFQUNIODdCLEVBQUssRUFBR3lnQixFQUFTMWlDLEVBQU1paUIsRUFBS3lnQixFQUFPLE9BQVF6Z0IsSUFBTSxDQUN0RCxJQUFJbGpDLEVBQU0yakQsRUFBT3pnQixDQUFFLEVBQ2ZzQyxFQUFPeGxDLENBQUcsSUFBTSxRQUNoQm9ILEdBRVAsQ0FDRCxPQUFPQSxDQUNmLEVBQ0lzN0MsRUFBUSxVQUFVLFVBQVksU0FBVWxkLEVBQVE2SSxFQUFPLENBQ25ELElBQUlwdEIsRUFBTyxPQUFPLEtBQUt1a0IsQ0FBTSxFQUN6QixLQUFLLFVBQ0x2a0IsRUFBSyxLQUFJLEVBRWIsSUFBSTBtQixFQUFPLEtBQUssZ0JBQWtCLEtBQUssc0JBQXNCbkMsRUFBUXZrQixDQUFJLEVBQUlBLEVBQUssT0FDbEYsR0FBSTBtQixFQUFPLEdBRVAsS0FBSyxRQUFRLElBQU9BLENBQUksVUFFbkJBLEVBQU8sTUFFWixLQUFLLFFBQVEsR0FBSSxFQUNqQixLQUFLLFNBQVNBLENBQUksVUFFYkEsRUFBTyxXQUVaLEtBQUssUUFBUSxHQUFJLEVBQ2pCLEtBQUssU0FBU0EsQ0FBSSxNQUdsQixPQUFNLElBQUksTUFBTSx5QkFBeUIsT0FBT0EsQ0FBSSxDQUFDLEVBRXpELFFBQVN6RSxFQUFLLEVBQUcwZ0IsRUFBUzNpQyxFQUFNaWlCLEVBQUswZ0IsRUFBTyxPQUFRMWdCLElBQU0sQ0FDdEQsSUFBSWxqQyxFQUFNNGpELEVBQU8xZ0IsQ0FBRSxFQUNmeGpDLEVBQVE4bEMsRUFBT3hsQyxDQUFHLEVBQ2hCLEtBQUssaUJBQW1CTixJQUFVLFNBQ3BDLEtBQUssYUFBYU0sQ0FBRyxFQUNyQixLQUFLLFNBQVNOLEVBQU8ydUMsRUFBUSxDQUFDLEVBRXJDLENBQ1QsRUFDSXFVLEVBQVEsVUFBVSxnQkFBa0IsU0FBVWUsRUFBSyxDQUMvQyxJQUFJOWIsRUFBTzhiLEVBQUksS0FBSyxPQUNwQixHQUFJOWIsSUFBUyxFQUVULEtBQUssUUFBUSxHQUFJLFVBRVpBLElBQVMsRUFFZCxLQUFLLFFBQVEsR0FBSSxVQUVaQSxJQUFTLEVBRWQsS0FBSyxRQUFRLEdBQUksVUFFWkEsSUFBUyxFQUVkLEtBQUssUUFBUSxHQUFJLFVBRVpBLElBQVMsR0FFZCxLQUFLLFFBQVEsR0FBSSxVQUVaQSxFQUFPLElBRVosS0FBSyxRQUFRLEdBQUksRUFDakIsS0FBSyxRQUFRQSxDQUFJLFVBRVpBLEVBQU8sTUFFWixLQUFLLFFBQVEsR0FBSSxFQUNqQixLQUFLLFNBQVNBLENBQUksVUFFYkEsRUFBTyxXQUVaLEtBQUssUUFBUSxHQUFJLEVBQ2pCLEtBQUssU0FBU0EsQ0FBSSxNQUdsQixPQUFNLElBQUksTUFBTSwrQkFBK0IsT0FBT0EsQ0FBSSxDQUFDLEVBRS9ELEtBQUssUUFBUThiLEVBQUksSUFBSSxFQUNyQixLQUFLLFNBQVNBLEVBQUksSUFBSSxDQUM5QixFQUNJZixFQUFRLFVBQVUsUUFBVSxTQUFVaGpELEVBQU8sQ0FDekMsS0FBSyx3QkFBd0IsQ0FBQyxFQUM5QixLQUFLLEtBQUssU0FBUyxLQUFLLElBQUtBLENBQUssRUFDbEMsS0FBSyxLQUNiLEVBQ0lnakQsRUFBUSxVQUFVLFNBQVcsU0FBVXZsQixFQUFRLENBQzNDLElBQUl3SyxFQUFPeEssRUFBTyxPQUNsQixLQUFLLHdCQUF3QndLLENBQUksRUFDakMsS0FBSyxNQUFNLElBQUl4SyxFQUFRLEtBQUssR0FBRyxFQUMvQixLQUFLLEtBQU93SyxDQUNwQixFQUNJK2EsRUFBUSxVQUFVLFFBQVUsU0FBVWhqRCxFQUFPLENBQ3pDLEtBQUssd0JBQXdCLENBQUMsRUFDOUIsS0FBSyxLQUFLLFFBQVEsS0FBSyxJQUFLQSxDQUFLLEVBQ2pDLEtBQUssS0FDYixFQUNJZ2pELEVBQVEsVUFBVSxTQUFXLFNBQVVoakQsRUFBTyxDQUMxQyxLQUFLLHdCQUF3QixDQUFDLEVBQzlCLEtBQUssS0FBSyxVQUFVLEtBQUssSUFBS0EsQ0FBSyxFQUNuQyxLQUFLLEtBQU8sQ0FDcEIsRUFDSWdqRCxFQUFRLFVBQVUsU0FBVyxTQUFVaGpELEVBQU8sQ0FDMUMsS0FBSyx3QkFBd0IsQ0FBQyxFQUM5QixLQUFLLEtBQUssU0FBUyxLQUFLLElBQUtBLENBQUssRUFDbEMsS0FBSyxLQUFPLENBQ3BCLEVBQ0lnakQsRUFBUSxVQUFVLFNBQVcsU0FBVWhqRCxFQUFPLENBQzFDLEtBQUssd0JBQXdCLENBQUMsRUFDOUIsS0FBSyxLQUFLLFVBQVUsS0FBSyxJQUFLQSxDQUFLLEVBQ25DLEtBQUssS0FBTyxDQUNwQixFQUNJZ2pELEVBQVEsVUFBVSxTQUFXLFNBQVVoakQsRUFBTyxDQUMxQyxLQUFLLHdCQUF3QixDQUFDLEVBQzlCLEtBQUssS0FBSyxTQUFTLEtBQUssSUFBS0EsQ0FBSyxFQUNsQyxLQUFLLEtBQU8sQ0FDcEIsRUFDSWdqRCxFQUFRLFVBQVUsU0FBVyxTQUFVaGpELEVBQU8sQ0FDMUMsS0FBSyx3QkFBd0IsQ0FBQyxFQUM5QixLQUFLLEtBQUssV0FBVyxLQUFLLElBQUtBLENBQUssRUFDcEMsS0FBSyxLQUFPLENBQ3BCLEVBQ0lnakQsRUFBUSxVQUFVLFNBQVcsU0FBVWhqRCxFQUFPLENBQzFDLEtBQUssd0JBQXdCLENBQUMsRUFDOUIsS0FBSyxLQUFLLFdBQVcsS0FBSyxJQUFLQSxDQUFLLEVBQ3BDLEtBQUssS0FBTyxDQUNwQixFQUNJZ2pELEVBQVEsVUFBVSxTQUFXLFNBQVVoakQsRUFBTyxDQUMxQyxLQUFLLHdCQUF3QixDQUFDLEVBQzlCMitDLEdBQVUsS0FBSyxLQUFNLEtBQUssSUFBSzMrQyxDQUFLLEVBQ3BDLEtBQUssS0FBTyxDQUNwQixFQUNJZ2pELEVBQVEsVUFBVSxTQUFXLFNBQVVoakQsRUFBTyxDQUMxQyxLQUFLLHdCQUF3QixDQUFDLEVBQzlCKytDLEdBQVMsS0FBSyxLQUFNLEtBQUssSUFBSy8rQyxDQUFLLEVBQ25DLEtBQUssS0FBTyxDQUNwQixFQUNXZ2pELENBQ1gsSUM3WkltQixHQUF1QixDQUFBLEVBT3BCLFNBQVM3QixHQUFPdGlELEVBQU9KLEVBQVMsQ0FDL0JBLElBQVksU0FBVUEsRUFBVXVrRCxJQUNwQyxJQUFJQyxFQUFVLElBQUlwQixHQUFRcGpELEVBQVEsZUFBZ0JBLEVBQVEsUUFBU0EsRUFBUSxTQUFVQSxFQUFRLGtCQUFtQkEsRUFBUSxTQUFVQSxFQUFRLGFBQWNBLEVBQVEsZ0JBQWlCQSxFQUFRLG1CQUFtQixFQUM1TSxPQUFPd2tELEVBQVEsZ0JBQWdCcGtELENBQUssQ0FDeEMsQ0NaTyxTQUFTcWtELEdBQVdDLEVBQU0sQ0FDN0IsTUFBTyxHQUFHLE9BQU9BLEVBQU8sRUFBSSxJQUFNLEdBQUksSUFBSSxFQUFFLE9BQU8sS0FBSyxJQUFJQSxDQUFJLEVBQUUsU0FBUyxFQUFFLEVBQUUsU0FBUyxFQUFHLEdBQUcsQ0FBQyxDQUNuRyxDQ0RBLElBQUlDLEdBQXlCLEdBQ3pCQyxHQUE2QixHQUM3QkMsR0FBa0MsVUFBWSxDQUM5QyxTQUFTQSxFQUFpQkMsRUFBY0MsRUFBaUIsQ0FDakRELElBQWlCLFNBQVVBLEVBQWVILElBQzFDSSxJQUFvQixTQUFVQSxFQUFrQkgsSUFDcEQsS0FBSyxhQUFlRSxFQUNwQixLQUFLLGdCQUFrQkMsRUFDdkIsS0FBSyxJQUFNLEVBQ1gsS0FBSyxLQUFPLEVBR1osS0FBSyxPQUFTLEdBQ2QsUUFBUzNtRCxFQUFJLEVBQUdBLEVBQUksS0FBSyxhQUFjQSxJQUNuQyxLQUFLLE9BQU8sS0FBSyxDQUFBLENBQUUsQ0FFMUIsQ0FDRCxPQUFBeW1ELEVBQWlCLFVBQVUsWUFBYyxTQUFVcnRCLEVBQVksQ0FDM0QsT0FBT0EsRUFBYSxHQUFLQSxHQUFjLEtBQUssWUFDcEQsRUFDSXF0QixFQUFpQixVQUFVLEtBQU8sU0FBVWw2QixFQUFPdzFCLEVBQWEzb0IsRUFBWSxDQUN4RSxJQUFJd3RCLEVBQVUsS0FBSyxPQUFPeHRCLEVBQWEsQ0FBQyxFQUN4Q3l0QixFQUFZLFFBQVNyaEIsRUFBSyxFQUFHc2hCLEVBQVlGLEVBQVNwaEIsRUFBS3NoQixFQUFVLE9BQVF0aEIsSUFBTSxDQUczRSxRQUZJdWhCLEVBQVNELEVBQVV0aEIsQ0FBRSxFQUNyQndoQixFQUFjRCxFQUFPLE1BQ2hCOXhDLEVBQUksRUFBR0EsRUFBSW1rQixFQUFZbmtCLElBQzVCLEdBQUkreEMsRUFBWS94QyxDQUFDLElBQU1zWCxFQUFNdzFCLEVBQWM5c0MsQ0FBQyxFQUN4QyxTQUFTNHhDLEVBR2pCLE9BQU9FLEVBQU8sR0FDakIsQ0FDRCxPQUFPLElBQ2YsRUFDSU4sRUFBaUIsVUFBVSxNQUFRLFNBQVVsNkIsRUFBT3ZxQixFQUFPLENBQ3ZELElBQUk0a0QsRUFBVSxLQUFLLE9BQU9yNkIsRUFBTSxPQUFTLENBQUMsRUFDdEN3NkIsRUFBUyxDQUFFLE1BQU94NkIsRUFBTyxJQUFLdnFCLENBQUssRUFDbkM0a0QsRUFBUSxRQUFVLEtBQUssZ0JBR3ZCQSxFQUFTLEtBQUssT0FBUSxFQUFHQSxFQUFRLE9BQVUsQ0FBQyxFQUFJRyxFQUdoREgsRUFBUSxLQUFLRyxDQUFNLENBRS9CLEVBQ0lOLEVBQWlCLFVBQVUsT0FBUyxTQUFVbDZCLEVBQU93MUIsRUFBYTNvQixFQUFZLENBQzFFLElBQUk2dEIsRUFBYyxLQUFLLEtBQUsxNkIsRUFBT3cxQixFQUFhM29CLENBQVUsRUFDMUQsR0FBSTZ0QixHQUFlLEtBQ2YsWUFBSyxNQUNFQSxFQUVYLEtBQUssT0FDTCxJQUFJbDdDLEVBQU0rMUMsR0FBYXYxQixFQUFPdzFCLEVBQWEzb0IsQ0FBVSxFQUVqRDh0QixFQUFvQixXQUFXLFVBQVUsTUFBTSxLQUFLMzZCLEVBQU93MUIsRUFBYUEsRUFBYzNvQixDQUFVLEVBQ3BHLFlBQUssTUFBTTh0QixFQUFtQm43QyxDQUFHLEVBQzFCQSxDQUNmLEVBQ1cwNkMsQ0FDWCxJQzdESVUsR0FBYTUzQixZQUFRQSxXQUFLLFdBQWMsU0FBVTYzQixFQUFTQyxFQUFZcFUsRUFBR3RzQixFQUFXLENBQ3JGLFNBQVMyZ0MsRUFBTXRsRCxFQUFPLENBQUUsT0FBT0EsYUFBaUJpeEMsRUFBSWp4QyxFQUFRLElBQUlpeEMsRUFBRSxTQUFVbm9DLEVBQVMsQ0FBRUEsRUFBUTlJLENBQUssQ0FBRSxDQUFFLENBQUksQ0FDNUcsT0FBTyxJQUFLaXhDLElBQU1BLEVBQUksVUFBVSxTQUFVbm9DLEVBQVNDLEVBQVEsQ0FDdkQsU0FBU3c4QyxFQUFVdmxELEVBQU8sQ0FBRSxHQUFJLENBQUVpVSxFQUFLMFEsRUFBVSxLQUFLM2tCLENBQUssQ0FBQyxDQUFFLE9BQVVpa0IsRUFBRyxDQUFFbGIsRUFBT2tiLENBQUMsRUFBTSxDQUMzRixTQUFTdWhDLEVBQVN4bEQsRUFBTyxDQUFFLEdBQUksQ0FBRWlVLEVBQUswUSxFQUFVLE1BQVMza0IsQ0FBSyxDQUFDLENBQUksT0FBUWlrQixFQUFHLENBQUVsYixFQUFPa2IsQ0FBQyxFQUFNLENBQzlGLFNBQVNoUSxFQUFLdFYsRUFBUSxDQUFFQSxFQUFPLEtBQU9tSyxFQUFRbkssRUFBTyxLQUFLLEVBQUkybUQsRUFBTTNtRCxFQUFPLEtBQUssRUFBRSxLQUFLNG1ELEVBQVdDLENBQVEsQ0FBSSxDQUM5R3Z4QyxHQUFNMFEsRUFBWUEsRUFBVSxNQUFNeWdDLEVBQVNDLEdBQWMsQ0FBRSxDQUFBLEdBQUcsS0FBSSxDQUFFLENBQzVFLENBQUssQ0FDTCxFQUNJSSxHQUFlbDRCLFlBQVFBLFdBQUssYUFBZ0IsU0FBVTYzQixFQUFTN3RDLEVBQU0sQ0FDckUsSUFBSW5NLEVBQUksQ0FBRSxNQUFPLEVBQUcsS0FBTSxVQUFXLENBQUUsR0FBSWlZLEVBQUUsQ0FBQyxFQUFJLEVBQUcsTUFBTUEsRUFBRSxDQUFDLEVBQUcsT0FBT0EsRUFBRSxDQUFDLENBQUksRUFBRSxLQUFNLENBQUUsRUFBRSxJQUFLLENBQUEsQ0FBSSxFQUFFc0ssRUFBRytSLEVBQUdyYyxFQUFHb2MsRUFDL0csT0FBT0EsRUFBSSxDQUFFLEtBQU1pbUIsRUFBSyxDQUFDLEVBQUcsTUFBU0EsRUFBSyxDQUFDLEVBQUcsT0FBVUEsRUFBSyxDQUFDLENBQUcsRUFBRSxPQUFPLFFBQVcsYUFBZWptQixFQUFFLE9BQU8sUUFBUSxFQUFJLFVBQVcsQ0FBRSxPQUFPLElBQU8sR0FBR0EsRUFDdkosU0FBU2ltQixFQUFLeGlELEVBQUcsQ0FBRSxPQUFPLFNBQVV3N0IsRUFBRyxDQUFFLE9BQU96cUIsRUFBSyxDQUFDL1EsRUFBR3c3QixDQUFDLENBQUMsQ0FBSSxDQUFHLENBQ2xFLFNBQVN6cUIsRUFBSzlMLEVBQUksQ0FDZCxHQUFJd2xCLEVBQUcsTUFBTSxJQUFJLFVBQVUsaUNBQWlDLEVBQzVELEtBQU92aUIsR0FBRyxHQUFJLENBQ1YsR0FBSXVpQixFQUFJLEVBQUcrUixJQUFNcmMsRUFBSWxiLEVBQUcsQ0FBQyxFQUFJLEVBQUl1M0IsRUFBRSxPQUFZdjNCLEVBQUcsQ0FBQyxFQUFJdTNCLEVBQUUsU0FBY3JjLEVBQUlxYyxFQUFFLFNBQWNyYyxFQUFFLEtBQUtxYyxDQUFDLEVBQUcsR0FBS0EsRUFBRSxPQUFTLEVBQUVyYyxFQUFJQSxFQUFFLEtBQUtxYyxFQUFHdjNCLEVBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBTSxPQUFPa2IsRUFFM0osT0FESXFjLEVBQUksRUFBR3JjLElBQUdsYixFQUFLLENBQUNBLEVBQUcsQ0FBQyxFQUFJLEVBQUdrYixFQUFFLEtBQUssR0FDOUJsYixFQUFHLENBQUMsRUFBQyxDQUNULElBQUssR0FBRyxJQUFLLEdBQUdrYixFQUFJbGIsRUFBSSxNQUN4QixJQUFLLEdBQUcsT0FBQWlELEVBQUUsUUFBZ0IsQ0FBRSxNQUFPakQsRUFBRyxDQUFDLEVBQUcsS0FBTSxFQUFLLEVBQ3JELElBQUssR0FBR2lELEVBQUUsUUFBU3MwQixFQUFJdjNCLEVBQUcsQ0FBQyxFQUFHQSxFQUFLLENBQUMsQ0FBQyxFQUFHLFNBQ3hDLElBQUssR0FBR0EsRUFBS2lELEVBQUUsSUFBSSxNQUFPQSxFQUFFLEtBQUssSUFBRyxFQUFJLFNBQ3hDLFFBQ0ksR0FBTWlZLEVBQUlqWSxFQUFFLEtBQU0sRUFBQWlZLEVBQUlBLEVBQUUsT0FBUyxHQUFLQSxFQUFFQSxFQUFFLE9BQVMsQ0FBQyxLQUFPbGIsRUFBRyxDQUFDLElBQU0sR0FBS0EsRUFBRyxDQUFDLElBQU0sR0FBSSxDQUFFaUQsRUFBSSxFQUFHLFFBQVcsQ0FDNUcsR0FBSWpELEVBQUcsQ0FBQyxJQUFNLElBQU0sQ0FBQ2tiLEdBQU1sYixFQUFHLENBQUMsRUFBSWtiLEVBQUUsQ0FBQyxHQUFLbGIsRUFBRyxDQUFDLEVBQUlrYixFQUFFLENBQUMsR0FBSyxDQUFFalksRUFBRSxNQUFRakQsRUFBRyxDQUFDLEVBQUcsS0FBUSxDQUN0RixHQUFJQSxFQUFHLENBQUMsSUFBTSxHQUFLaUQsRUFBRSxNQUFRaVksRUFBRSxDQUFDLEVBQUcsQ0FBRWpZLEVBQUUsTUFBUWlZLEVBQUUsQ0FBQyxFQUFHQSxFQUFJbGIsRUFBSSxLQUFRLENBQ3JFLEdBQUlrYixHQUFLalksRUFBRSxNQUFRaVksRUFBRSxDQUFDLEVBQUcsQ0FBRWpZLEVBQUUsTUFBUWlZLEVBQUUsQ0FBQyxFQUFHalksRUFBRSxJQUFJLEtBQUtqRCxDQUFFLEVBQUcsS0FBUSxDQUMvRGtiLEVBQUUsQ0FBQyxHQUFHalksRUFBRSxJQUFJLElBQUcsRUFDbkJBLEVBQUUsS0FBSyxJQUFLLEVBQUUsUUFDckIsQ0FDRGpELEVBQUtvUCxFQUFLLEtBQUs2dEMsRUFBU2g2QyxDQUFDLENBQzVCLE9BQVE2WSxFQUFHLENBQUU5YixFQUFLLENBQUMsRUFBRzhiLENBQUMsRUFBR3liLEVBQUksQ0FBRSxRQUFXLENBQUUvUixFQUFJdEssRUFBSSxDQUFJLENBQzFELEdBQUlsYixFQUFHLENBQUMsRUFBSSxFQUFHLE1BQU1BLEVBQUcsQ0FBQyxFQUFHLE1BQU8sQ0FBRSxNQUFPQSxFQUFHLENBQUMsRUFBSUEsRUFBRyxDQUFDLEVBQUksT0FBUSxLQUFNLEdBQzdFLENBQ0wsRUFDSXc5QyxHQUFpQnA0QixZQUFRQSxXQUFLLGVBQWtCLFNBQVV0cUIsRUFBRyxDQUM3RCxHQUFJLENBQUMsT0FBTyxjQUFlLE1BQU0sSUFBSSxVQUFVLHNDQUFzQyxFQUNyRixJQUFJcUksRUFBSXJJLEVBQUUsT0FBTyxhQUFhLEVBQUdqRixFQUNqQyxPQUFPc04sRUFBSUEsRUFBRSxLQUFLckksQ0FBQyxHQUFLQSxFQUFJLE9BQU8sVUFBYSxXQUFhLFNBQVNBLENBQUMsRUFBSUEsRUFBRSxPQUFPLFFBQVEsRUFBQyxFQUFJakYsRUFBSSxDQUFFLEVBQUUwbkQsRUFBSyxNQUFNLEVBQUdBLEVBQUssT0FBTyxFQUFHQSxFQUFLLFFBQVEsRUFBRzFuRCxFQUFFLE9BQU8sYUFBYSxFQUFJLFVBQVksQ0FBRSxPQUFPLElBQUssRUFBSUEsR0FDOU0sU0FBUzBuRCxFQUFLeGlELEVBQUcsQ0FBRWxGLEVBQUVrRixDQUFDLEVBQUlELEVBQUVDLENBQUMsR0FBSyxTQUFVdzdCLEVBQUcsQ0FBRSxPQUFPLElBQUksUUFBUSxTQUFVNTFCLEVBQVNDLEVBQVEsQ0FBRTIxQixFQUFJejdCLEVBQUVDLENBQUMsRUFBRXc3QixDQUFDLEVBQUdrbkIsRUFBTzk4QyxFQUFTQyxFQUFRMjFCLEVBQUUsS0FBTUEsRUFBRSxLQUFLLENBQUUsQ0FBRSxDQUFJLENBQUcsQ0FDaEssU0FBU2tuQixFQUFPOThDLEVBQVNDLEVBQVF5MkIsRUFBR2QsRUFBRyxDQUFFLFFBQVEsUUFBUUEsQ0FBQyxFQUFFLEtBQUssU0FBU0EsRUFBRyxDQUFFNTFCLEVBQVEsQ0FBRSxNQUFPNDFCLEVBQUcsS0FBTWMsQ0FBQyxDQUFFLENBQUUsRUFBSXoyQixDQUFNLENBQUksQ0FDaEksRUFDSTg4QyxHQUFXdDRCLFlBQVFBLFdBQUssU0FBWSxTQUFVbVIsRUFBRyxDQUFFLE9BQU8sZ0JBQWdCbW5CLElBQVcsS0FBSyxFQUFJbm5CLEVBQUcsTUFBUSxJQUFJbW5CLEdBQVFubkIsQ0FBQyxDQUFJLEVBQzFIb25CLEdBQW9CdjRCLFlBQVFBLFdBQUssa0JBQXFCLFNBQVU2M0IsRUFBU0MsRUFBWTFnQyxFQUFXLENBQ2hHLEdBQUksQ0FBQyxPQUFPLGNBQWUsTUFBTSxJQUFJLFVBQVUsc0NBQXNDLEVBQ3JGLElBQUk4YSxFQUFJOWEsRUFBVSxNQUFNeWdDLEVBQVNDLEdBQWMsQ0FBQSxDQUFFLEVBQUcsRUFBR1UsRUFBSSxHQUMzRCxPQUFPLEVBQUksQ0FBQSxFQUFJTCxFQUFLLE1BQU0sRUFBR0EsRUFBSyxPQUFPLEVBQUdBLEVBQUssUUFBUSxFQUFHLEVBQUUsT0FBTyxhQUFhLEVBQUksVUFBWSxDQUFFLE9BQU8sSUFBTyxFQUFFLEVBQ3BILFNBQVNBLEVBQUt4aUQsRUFBRyxDQUFNdThCLEVBQUV2OEIsQ0FBQyxJQUFHLEVBQUVBLENBQUMsRUFBSSxTQUFVdzdCLEVBQUcsQ0FBRSxPQUFPLElBQUksUUFBUSxTQUFVaGlDLEVBQUdDLEVBQUcsQ0FBRW9wRCxFQUFFLEtBQUssQ0FBQzdpRCxFQUFHdzdCLEVBQUdoaUMsRUFBR0MsQ0FBQyxDQUFDLEVBQUksR0FBS3FwRCxFQUFPOWlELEVBQUd3N0IsQ0FBQyxDQUFFLENBQUUsQ0FBSSxFQUFHLENBQzFJLFNBQVNzbkIsRUFBTzlpRCxFQUFHdzdCLEVBQUcsQ0FBRSxHQUFJLENBQUV6cUIsRUFBS3dyQixFQUFFdjhCLENBQUMsRUFBRXc3QixDQUFDLENBQUMsQ0FBRSxPQUFVemEsRUFBRyxDQUFFMmhDLEVBQU9HLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRzloQyxDQUFDLEVBQU0sQ0FDbEYsU0FBU2hRLEVBQUsyZSxFQUFHLENBQUVBLEVBQUUsaUJBQWlCaXpCLEdBQVUsUUFBUSxRQUFRanpCLEVBQUUsTUFBTSxDQUFDLEVBQUUsS0FBS3F6QixFQUFTbDlDLENBQU0sRUFBSTY4QyxFQUFPRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUduekIsQ0FBQyxDQUFJLENBQ3hILFNBQVNxekIsRUFBUWptRCxFQUFPLENBQUVnbUQsRUFBTyxPQUFRaG1ELENBQUssQ0FBSSxDQUNsRCxTQUFTK0ksRUFBTy9JLEVBQU8sQ0FBRWdtRCxFQUFPLFFBQVNobUQsQ0FBSyxDQUFJLENBQ2xELFNBQVM0bEQsRUFBT2o0QixFQUFHK1EsRUFBRyxDQUFNL1EsRUFBRStRLENBQUMsRUFBR3FuQixFQUFFLE1BQUssRUFBSUEsRUFBRSxRQUFRQyxFQUFPRCxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUdBLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFJLENBQ3RGLEVBUUlHLEdBQW9CLFNBQVU1bEQsRUFBSyxDQUNuQyxJQUFJNmxELEVBQVUsT0FBTzdsRCxFQUNyQixPQUFPNmxELElBQVksVUFBWUEsSUFBWSxRQUMvQyxFQUNJQyxHQUFxQixHQUNyQkMsR0FBYSxJQUFJLFNBQVMsSUFBSSxZQUFZLENBQUMsQ0FBQyxFQUM1Q0MsR0FBYyxJQUFJLFdBQVdELEdBQVcsTUFBTSxFQUd2Q0UsR0FBaUMsVUFBWSxDQUNwRCxHQUFJLENBR0FGLEdBQVcsUUFBUSxDQUFDLENBQ3ZCLE9BQ01waUMsRUFBRyxDQUNOLE9BQU9BLEVBQUUsV0FDWixDQUNELE1BQU0sSUFBSSxNQUFNLGVBQWUsQ0FDbkMsSUFDSXVpQyxHQUFZLElBQUlELEdBQThCLG1CQUFtQixFQUNqRUUsR0FBeUIsSUFBSWhDLEdBQzdCaUMsR0FBeUIsVUFBWSxDQUNyQyxTQUFTQSxFQUFRekQsRUFBZ0JueEMsRUFBUzYwQyxFQUFjQyxFQUFjQyxFQUFnQkMsRUFBY0MsRUFBY0MsRUFBWSxDQUN0SC9ELElBQW1CLFNBQVVBLEVBQWlCWixHQUFlLGNBQzdEdndDLElBQVksU0FBVUEsRUFBVSxRQUNoQzYwQyxJQUFpQixTQUFVQSxFQUFlakksSUFDMUNrSSxJQUFpQixTQUFVQSxFQUFlbEksSUFDMUNtSSxJQUFtQixTQUFVQSxFQUFpQm5JLElBQzlDb0ksSUFBaUIsU0FBVUEsRUFBZXBJLElBQzFDcUksSUFBaUIsU0FBVUEsRUFBZXJJLElBQzFDc0ksSUFBZSxTQUFVQSxFQUFhUCxJQUMxQyxLQUFLLGVBQWlCeEQsRUFDdEIsS0FBSyxRQUFVbnhDLEVBQ2YsS0FBSyxhQUFlNjBDLEVBQ3BCLEtBQUssYUFBZUMsRUFDcEIsS0FBSyxlQUFpQkMsRUFDdEIsS0FBSyxhQUFlQyxFQUNwQixLQUFLLGFBQWVDLEVBQ3BCLEtBQUssV0FBYUMsRUFDbEIsS0FBSyxTQUFXLEVBQ2hCLEtBQUssSUFBTSxFQUNYLEtBQUssS0FBT1gsR0FDWixLQUFLLE1BQVFDLEdBQ2IsS0FBSyxTQUFXRixHQUNoQixLQUFLLE1BQVEsRUFDaEIsQ0FDRCxPQUFBTSxFQUFRLFVBQVUsa0JBQW9CLFVBQVksQ0FDOUMsS0FBSyxTQUFXLEVBQ2hCLEtBQUssU0FBV04sR0FDaEIsS0FBSyxNQUFNLE9BQVMsQ0FFNUIsRUFDSU0sRUFBUSxVQUFVLFVBQVksU0FBVS9ELEVBQVEsQ0FDNUMsS0FBSyxNQUFRRCxHQUFpQkMsQ0FBTSxFQUNwQyxLQUFLLEtBQU9DLEdBQWUsS0FBSyxLQUFLLEVBQ3JDLEtBQUssSUFBTSxDQUNuQixFQUNJOEQsRUFBUSxVQUFVLGFBQWUsU0FBVS9ELEVBQVEsQ0FDL0MsR0FBSSxLQUFLLFdBQWF5RCxJQUFzQixDQUFDLEtBQUssYUFBYSxDQUFDLEVBQzVELEtBQUssVUFBVXpELENBQU0sTUFFcEIsQ0FDRCxJQUFJc0UsRUFBZ0IsS0FBSyxNQUFNLFNBQVMsS0FBSyxHQUFHLEVBQzVDQyxFQUFVeEUsR0FBaUJDLENBQU0sRUFFakNnQixFQUFZLElBQUksV0FBV3NELEVBQWMsT0FBU0MsRUFBUSxNQUFNLEVBQ3BFdkQsRUFBVSxJQUFJc0QsQ0FBYSxFQUMzQnRELEVBQVUsSUFBSXVELEVBQVNELEVBQWMsTUFBTSxFQUMzQyxLQUFLLFVBQVV0RCxDQUFTLENBQzNCLENBQ1QsRUFDSStDLEVBQVEsVUFBVSxhQUFlLFNBQVV6ZSxFQUFNLENBQzdDLE9BQU8sS0FBSyxLQUFLLFdBQWEsS0FBSyxLQUFPQSxDQUNsRCxFQUNJeWUsRUFBUSxVQUFVLHFCQUF1QixTQUFVUyxFQUFXLENBQzFELElBQUkzNUMsRUFBSyxLQUFNb3hDLEVBQU9weEMsRUFBRyxLQUFNNnhDLEVBQU03eEMsRUFBRyxJQUN4QyxPQUFPLElBQUksV0FBVyxTQUFTLE9BQU9veEMsRUFBSyxXQUFhUyxFQUFLLE1BQU0sRUFBRSxPQUFPVCxFQUFLLFdBQVksMkJBQTJCLEVBQUUsT0FBT3VJLEVBQVcsR0FBRyxDQUFDLENBQ3hKLEVBS0lULEVBQVEsVUFBVSxPQUFTLFNBQVUvRCxFQUFRLENBQ3pDLEtBQUssa0JBQWlCLEVBQ3RCLEtBQUssVUFBVUEsQ0FBTSxFQUNyQixJQUFJN2MsRUFBUyxLQUFLLGVBQ2xCLEdBQUksS0FBSyxhQUFhLENBQUMsRUFDbkIsTUFBTSxLQUFLLHFCQUFxQixLQUFLLEdBQUcsRUFFNUMsT0FBT0EsQ0FDZixFQUNJNGdCLEVBQVEsVUFBVSxZQUFjLFNBQVUvRCxFQUFRLENBQzlDLE9BQU84QyxHQUFZLEtBQU0sU0FBVWo0QyxFQUFJLENBQ25DLE9BQVFBLEVBQUcsTUFBSyxDQUNaLElBQUssR0FDRCxLQUFLLGtCQUFpQixFQUN0QixLQUFLLFVBQVVtMUMsQ0FBTSxFQUNyQm4xQyxFQUFHLE1BQVEsRUFDZixJQUFLLEdBQ0QsT0FBSyxLQUFLLGFBQWEsQ0FBQyxFQUNqQixDQUFDLEVBQWEsS0FBSyxhQUFjLENBQUEsRUFETixDQUFDLEVBQWEsQ0FBQyxFQUVyRCxJQUFLLEdBQ0QsT0FBQUEsRUFBRyxLQUFJLEVBQ0EsQ0FBQyxFQUFhLENBQUMsRUFDMUIsSUFBSyxHQUFHLE1BQU8sQ0FBQyxFQUNuQixDQUNiLENBQVMsQ0FDVCxFQUNJazVDLEVBQVEsVUFBVSxZQUFjLFNBQVVwaUMsRUFBUSxDQUM5QyxJQUFJOGlDLEVBQVVDLEVBQ1ZDLEVBQUs5NUMsRUFDVCxPQUFPMjNDLEdBQVUsS0FBTSxPQUFRLE9BQVEsVUFBWSxDQUMvQyxJQUFJb0MsRUFBU3poQixFQUFRNmMsRUFBUTZFLEVBQU8vMUMsRUFBSWcyQyxFQUFVcEksRUFBS3FJLEVBQ3ZELE9BQU9qQyxHQUFZLEtBQU0sU0FBVTV3QyxFQUFJLENBQ25DLE9BQVFBLEVBQUcsTUFBSyxDQUNaLElBQUssR0FDRDB5QyxFQUFVLEdBQ1YxeUMsRUFBRyxNQUFRLEVBQ2YsSUFBSyxHQUNEQSxFQUFHLEtBQUssS0FBSyxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUUsQ0FBQyxFQUMxQnV5QyxFQUFXekIsR0FBY3JoQyxDQUFNLEVBQy9CelAsRUFBRyxNQUFRLEVBQ2YsSUFBSyxHQUFHLE1BQU8sQ0FBQyxFQUFhdXlDLEVBQVMsS0FBTSxDQUFBLEVBQzVDLElBQUssR0FDRCxHQUFNQyxFQUFheHlDLEVBQUcsT0FBUSxFQUFDd3lDLEVBQVcsS0FBTyxNQUFPLENBQUMsRUFBYSxDQUFDLEVBRXZFLEdBREExRSxFQUFTMEUsRUFBVyxNQUNoQkUsRUFDQSxNQUFNLEtBQUsscUJBQXFCLEtBQUssUUFBUSxFQUVqRCxLQUFLLGFBQWE1RSxDQUFNLEVBQ3hCLEdBQUksQ0FDQTdjLEVBQVMsS0FBSyxlQUNkeWhCLEVBQVUsRUFDYixPQUNNdGpDLEVBQUcsQ0FDTixHQUFJLEVBQUVBLGFBQWFzaUMsSUFDZixNQUFNdGlDLENBR2IsQ0FDRCxLQUFLLFVBQVksS0FBSyxJQUN0QnBQLEVBQUcsTUFBUSxFQUNmLElBQUssR0FBRyxNQUFPLENBQUMsRUFBYSxDQUFDLEVBQzlCLElBQUssR0FBRyxNQUFPLENBQUMsRUFBYSxFQUFFLEVBQy9CLElBQUssR0FDRCxPQUFBMnlDLEVBQVEzeUMsRUFBRyxPQUNYeXlDLEVBQU0sQ0FBRSxNQUFPRSxHQUNSLENBQUMsRUFBYSxFQUFFLEVBQzNCLElBQUssR0FFRCxPQURBM3lDLEVBQUcsS0FBSyxLQUFLLENBQUMsRUFBQyxDQUFJLEdBQUksRUFBRSxDQUFDLEVBQ3BCd3lDLEdBQWMsQ0FBQ0EsRUFBVyxPQUFTNzVDLEVBQUs0NUMsRUFBUyxRQUNoRCxDQUFDLEVBQWE1NUMsRUFBRyxLQUFLNDVDLENBQVEsQ0FBQyxFQURrQyxDQUFDLEVBQWEsQ0FBQyxFQUUzRixJQUFLLEdBQ0R2eUMsRUFBRyxLQUFJLEVBQ1BBLEVBQUcsTUFBUSxFQUNmLElBQUssR0FBRyxNQUFPLENBQUMsRUFBYSxFQUFFLEVBQy9CLElBQUssSUFDRCxHQUFJeXlDLEVBQUssTUFBTUEsRUFBSSxNQUNuQixNQUFPLENBQUMsQ0FBQyxFQUNiLElBQUssSUFBSSxNQUFPLENBQUMsR0FDakIsSUFBSyxJQUNELEdBQUlDLEVBQVMsQ0FDVCxHQUFJLEtBQUssYUFBYSxDQUFDLEVBQ25CLE1BQU0sS0FBSyxxQkFBcUIsS0FBSyxRQUFRLEVBRWpELE1BQU8sQ0FBQyxFQUFjemhCLENBQU0sQ0FDL0IsQ0FDRCxNQUFBcjBCLEVBQUssS0FBTWcyQyxFQUFXaDJDLEVBQUcsU0FBVTR0QyxFQUFNNXRDLEVBQUcsSUFBS2kyQyxFQUFXajJDLEVBQUcsU0FDekQsSUFBSSxXQUFXLGdDQUFnQyxPQUFPNHlDLEdBQVdvRCxDQUFRLEVBQUcsTUFBTSxFQUFFLE9BQU9DLEVBQVUsSUFBSSxFQUFFLE9BQU9ySSxFQUFLLHlCQUF5QixDQUFDLENBQzlKLENBQ2pCLENBQWEsQ0FDYixDQUFTLENBQ1QsRUFDSXFILEVBQVEsVUFBVSxrQkFBb0IsU0FBVXBpQyxFQUFRLENBQ3BELE9BQU8sS0FBSyxpQkFBaUJBLEVBQVEsRUFBSSxDQUNqRCxFQUNJb2lDLEVBQVEsVUFBVSxhQUFlLFNBQVVwaUMsRUFBUSxDQUMvQyxPQUFPLEtBQUssaUJBQWlCQSxFQUFRLEVBQUssQ0FDbEQsRUFDSW9pQyxFQUFRLFVBQVUsaUJBQW1CLFNBQVVwaUMsRUFBUXV3QixFQUFTLENBQzVELE9BQU9pUixHQUFpQixLQUFNLFVBQVcsVUFBOEIsQ0FDbkUsSUFBSTZCLEVBQXVCQyxFQUFnQkMsRUFBVUMsRUFBWW5GLEVBQVFvRixFQUFLQyxFQUMxRUMsRUFBS3o2QyxFQUNULE9BQU9pNEMsR0FBWSxLQUFNLFNBQVVoMEMsRUFBSSxDQUNuQyxPQUFRQSxFQUFHLE1BQUssQ0FDWixJQUFLLEdBQ0RrMkMsRUFBd0I5UyxFQUN4QitTLEVBQWlCLEdBQ2pCbjJDLEVBQUcsTUFBUSxFQUNmLElBQUssR0FDREEsRUFBRyxLQUFLLEtBQUssQ0FBQyxFQUFHLEdBQUksR0FBSSxFQUFFLENBQUMsRUFDNUJvMkMsRUFBV2xDLEdBQWNyaEMsQ0FBTSxFQUMvQjdTLEVBQUcsTUFBUSxFQUNmLElBQUssR0FBRyxNQUFPLENBQUMsRUFBYW8wQyxHQUFRZ0MsRUFBUyxLQUFNLENBQUEsQ0FBQyxFQUNyRCxJQUFLLEdBQ0QsR0FBTUMsRUFBYXIyQyxFQUFHLE9BQVEsRUFBQ3EyQyxFQUFXLEtBQU8sTUFBTyxDQUFDLEVBQWEsRUFBRSxFQUV4RSxHQURBbkYsRUFBU21GLEVBQVcsTUFDaEJqVCxHQUFXK1MsSUFBbUIsRUFDOUIsTUFBTSxLQUFLLHFCQUFxQixLQUFLLFFBQVEsRUFFakQsS0FBSyxhQUFhakYsQ0FBTSxFQUNwQmdGLElBQ0FDLEVBQWlCLEtBQUssZ0JBQ3RCRCxFQUF3QixHQUN4QixLQUFLLFNBQVEsR0FFakJsMkMsRUFBRyxNQUFRLEVBQ2YsSUFBSyxHQUNEQSxFQUFHLEtBQUssS0FBSyxDQUFDLEVBQUcsRUFBQyxDQUFJLEVBQUUsQ0FBQyxFQUN6QkEsRUFBRyxNQUFRLEVBQ2YsSUFBSyxHQUVELE1BQU8sQ0FBQyxFQUFhbzBDLEdBQVEsS0FBSyxhQUFZLENBQUUsQ0FBQyxFQUNyRCxJQUFLLEdBQUcsTUFBTyxDQUFDLEVBQWFwMEMsRUFBRyxLQUFNLENBQUEsRUFDdEMsSUFBSyxHQUVELE9BREFBLEVBQUcsS0FBSSxFQUNILEVBQUVtMkMsSUFBbUIsRUFDZCxDQUFDLEVBQWEsQ0FBQyxFQUVuQixDQUFDLEVBQWEsQ0FBQyxFQUMxQixJQUFLLEdBQUcsTUFBTyxDQUFDLEVBQWEsRUFBRSxFQUMvQixJQUFLLEdBRUQsR0FEQUcsRUFBTXQyQyxFQUFHLE9BQ0wsRUFBRXMyQyxhQUFleEIsSUFDakIsTUFBTXdCLEVBRVYsTUFBTyxDQUFDLEVBQWEsRUFBRSxFQUMzQixJQUFLLElBQ0QsS0FBSyxVQUFZLEtBQUssSUFDdEJ0MkMsRUFBRyxNQUFRLEdBQ2YsSUFBSyxJQUFJLE1BQU8sQ0FBQyxFQUFhLENBQUMsRUFDL0IsSUFBSyxJQUFJLE1BQU8sQ0FBQyxFQUFhLEVBQUUsRUFDaEMsSUFBSyxJQUNELE9BQUF1MkMsRUFBUXYyQyxFQUFHLE9BQ1h3MkMsRUFBTSxDQUFFLE1BQU9ELEdBQ1IsQ0FBQyxFQUFhLEVBQUUsRUFDM0IsSUFBSyxJQUVELE9BREF2MkMsRUFBRyxLQUFLLEtBQUssQ0FBQyxHQUFFLENBQUksR0FBSSxFQUFFLENBQUMsRUFDckJxMkMsR0FBYyxDQUFDQSxFQUFXLE9BQVN0NkMsRUFBS3E2QyxFQUFTLFFBQ2hELENBQUMsRUFBYWhDLEdBQVFyNEMsRUFBRyxLQUFLcTZDLENBQVEsQ0FBQyxDQUFDLEVBRHlCLENBQUMsRUFBYSxFQUFFLEVBRTVGLElBQUssSUFDRHAyQyxFQUFHLEtBQUksRUFDUEEsRUFBRyxNQUFRLEdBQ2YsSUFBSyxJQUFJLE1BQU8sQ0FBQyxFQUFhLEVBQUUsRUFDaEMsSUFBSyxJQUNELEdBQUl3MkMsRUFBSyxNQUFNQSxFQUFJLE1BQ25CLE1BQU8sQ0FBQyxDQUFDLEVBQ2IsSUFBSyxJQUFJLE1BQU8sQ0FBQyxHQUNqQixJQUFLLElBQUksTUFBTyxDQUFDLEVBQ3BCLENBQ2pCLENBQWEsQ0FDYixDQUFTLENBQ1QsRUFDSXZCLEVBQVEsVUFBVSxhQUFlLFVBQVksQ0FDekN3QixFQUFRLE9BQWEsQ0FDakIsSUFBSVQsRUFBVyxLQUFLLGVBQ2hCM2hCLEVBQVMsT0FDYixHQUFJMmhCLEdBQVksSUFFWjNoQixFQUFTMmhCLEVBQVcsWUFFZkEsRUFBVyxJQUNoQixHQUFJQSxFQUFXLElBRVgzaEIsRUFBUzJoQixVQUVKQSxFQUFXLElBQU0sQ0FFdEIsSUFBSXhmLEVBQU93ZixFQUFXLElBQ3RCLEdBQUl4ZixJQUFTLEVBQUcsQ0FDWixLQUFLLGFBQWFBLENBQUksRUFDdEIsS0FBSyxTQUFRLEVBQ2IsU0FBU2lnQixDQUNaLE1BRUdwaUIsRUFBUyxDQUFBLENBRWhCLFNBQ1EyaEIsRUFBVyxJQUFNLENBRXRCLElBQUl4ZixFQUFPd2YsRUFBVyxJQUN0QixHQUFJeGYsSUFBUyxFQUFHLENBQ1osS0FBSyxlQUFlQSxDQUFJLEVBQ3hCLEtBQUssU0FBUSxFQUNiLFNBQVNpZ0IsQ0FDWixNQUVHcGlCLEVBQVMsQ0FBQSxDQUVoQixLQUNJLENBRUQsSUFBSTFPLEVBQWFxd0IsRUFBVyxJQUM1QjNoQixFQUFTLEtBQUssaUJBQWlCMU8sRUFBWSxDQUFDLENBQy9DLFNBRUlxd0IsSUFBYSxJQUVsQjNoQixFQUFTLGFBRUoyaEIsSUFBYSxJQUVsQjNoQixFQUFTLFdBRUoyaEIsSUFBYSxJQUVsQjNoQixFQUFTLFdBRUoyaEIsSUFBYSxJQUVsQjNoQixFQUFTLEtBQUssa0JBRVQyaEIsSUFBYSxJQUVsQjNoQixFQUFTLEtBQUssa0JBRVQyaEIsSUFBYSxJQUVsQjNoQixFQUFTLEtBQUssaUJBRVQyaEIsSUFBYSxJQUVsQjNoQixFQUFTLEtBQUssa0JBRVQyaEIsSUFBYSxJQUVsQjNoQixFQUFTLEtBQUssa0JBRVQyaEIsSUFBYSxJQUVsQjNoQixFQUFTLEtBQUssa0JBRVQyaEIsSUFBYSxJQUVsQjNoQixFQUFTLEtBQUssaUJBRVQyaEIsSUFBYSxJQUVsQjNoQixFQUFTLEtBQUssa0JBRVQyaEIsSUFBYSxJQUVsQjNoQixFQUFTLEtBQUssa0JBRVQyaEIsSUFBYSxJQUVsQjNoQixFQUFTLEtBQUssa0JBRVQyaEIsSUFBYSxJQUFNLENBRXhCLElBQUlyd0IsRUFBYSxLQUFLLFNBQ3RCME8sRUFBUyxLQUFLLGlCQUFpQjFPLEVBQVksQ0FBQyxDQUMvQyxTQUNRcXdCLElBQWEsSUFBTSxDQUV4QixJQUFJcndCLEVBQWEsS0FBSyxVQUN0QjBPLEVBQVMsS0FBSyxpQkFBaUIxTyxFQUFZLENBQUMsQ0FDL0MsU0FDUXF3QixJQUFhLElBQU0sQ0FFeEIsSUFBSXJ3QixFQUFhLEtBQUssVUFDdEIwTyxFQUFTLEtBQUssaUJBQWlCMU8sRUFBWSxDQUFDLENBQy9DLFNBQ1Fxd0IsSUFBYSxJQUFNLENBRXhCLElBQUl4ZixFQUFPLEtBQUssVUFDaEIsR0FBSUEsSUFBUyxFQUFHLENBQ1osS0FBSyxlQUFlQSxDQUFJLEVBQ3hCLEtBQUssU0FBUSxFQUNiLFNBQVNpZ0IsQ0FDWixNQUVHcGlCLEVBQVMsQ0FBQSxDQUVoQixTQUNRMmhCLElBQWEsSUFBTSxDQUV4QixJQUFJeGYsRUFBTyxLQUFLLFVBQ2hCLEdBQUlBLElBQVMsRUFBRyxDQUNaLEtBQUssZUFBZUEsQ0FBSSxFQUN4QixLQUFLLFNBQVEsRUFDYixTQUFTaWdCLENBQ1osTUFFR3BpQixFQUFTLENBQUEsQ0FFaEIsU0FDUTJoQixJQUFhLElBQU0sQ0FFeEIsSUFBSXhmLEVBQU8sS0FBSyxVQUNoQixHQUFJQSxJQUFTLEVBQUcsQ0FDWixLQUFLLGFBQWFBLENBQUksRUFDdEIsS0FBSyxTQUFRLEVBQ2IsU0FBU2lnQixDQUNaLE1BRUdwaUIsRUFBUyxDQUFBLENBRWhCLFNBQ1EyaEIsSUFBYSxJQUFNLENBRXhCLElBQUl4ZixFQUFPLEtBQUssVUFDaEIsR0FBSUEsSUFBUyxFQUFHLENBQ1osS0FBSyxhQUFhQSxDQUFJLEVBQ3RCLEtBQUssU0FBUSxFQUNiLFNBQVNpZ0IsQ0FDWixNQUVHcGlCLEVBQVMsQ0FBQSxDQUVoQixTQUNRMmhCLElBQWEsSUFBTSxDQUV4QixJQUFJeGYsRUFBTyxLQUFLLFNBQ2hCbkMsRUFBUyxLQUFLLGFBQWFtQyxFQUFNLENBQUMsQ0FDckMsU0FDUXdmLElBQWEsSUFBTSxDQUV4QixJQUFJeGYsRUFBTyxLQUFLLFVBQ2hCbkMsRUFBUyxLQUFLLGFBQWFtQyxFQUFNLENBQUMsQ0FDckMsU0FDUXdmLElBQWEsSUFBTSxDQUV4QixJQUFJeGYsRUFBTyxLQUFLLFVBQ2hCbkMsRUFBUyxLQUFLLGFBQWFtQyxFQUFNLENBQUMsQ0FDckMsU0FDUXdmLElBQWEsSUFFbEIzaEIsRUFBUyxLQUFLLGdCQUFnQixFQUFHLENBQUMsVUFFN0IyaEIsSUFBYSxJQUVsQjNoQixFQUFTLEtBQUssZ0JBQWdCLEVBQUcsQ0FBQyxVQUU3QjJoQixJQUFhLElBRWxCM2hCLEVBQVMsS0FBSyxnQkFBZ0IsRUFBRyxDQUFDLFVBRTdCMmhCLElBQWEsSUFFbEIzaEIsRUFBUyxLQUFLLGdCQUFnQixFQUFHLENBQUMsVUFFN0IyaEIsSUFBYSxJQUVsQjNoQixFQUFTLEtBQUssZ0JBQWdCLEdBQUksQ0FBQyxVQUU5QjJoQixJQUFhLElBQU0sQ0FFeEIsSUFBSXhmLEVBQU8sS0FBSyxTQUNoQm5DLEVBQVMsS0FBSyxnQkFBZ0JtQyxFQUFNLENBQUMsQ0FDeEMsU0FDUXdmLElBQWEsSUFBTSxDQUV4QixJQUFJeGYsRUFBTyxLQUFLLFVBQ2hCbkMsRUFBUyxLQUFLLGdCQUFnQm1DLEVBQU0sQ0FBQyxDQUN4QyxTQUNRd2YsSUFBYSxJQUFNLENBRXhCLElBQUl4ZixFQUFPLEtBQUssVUFDaEJuQyxFQUFTLEtBQUssZ0JBQWdCbUMsRUFBTSxDQUFDLENBQ3hDLEtBRUcsT0FBTSxJQUFJNFksR0FBWSwyQkFBMkIsT0FBT3dELEdBQVdvRCxDQUFRLENBQUMsQ0FBQyxFQUVqRixLQUFLLFNBQVEsRUFFYixRQURJL1gsRUFBUSxLQUFLLE1BQ1ZBLEVBQU0sT0FBUyxHQUFHLENBRXJCLElBQUlqaUIsRUFBUWlpQixFQUFNQSxFQUFNLE9BQVMsQ0FBQyxFQUNsQyxHQUFJamlCLEVBQU0sT0FBUyxFQUdmLEdBRkFBLEVBQU0sTUFBTUEsRUFBTSxRQUFRLEVBQUlxWSxFQUM5QnJZLEVBQU0sV0FDRkEsRUFBTSxXQUFhQSxFQUFNLEtBQ3pCaWlCLEVBQU0sSUFBRyxFQUNUNUosRUFBU3JZLEVBQU0sVUFHZixVQUFTeTZCLFVBR1J6NkIsRUFBTSxPQUFTLEVBQXVCLENBQzNDLEdBQUksQ0FBQ3k0QixHQUFrQnBnQixDQUFNLEVBQ3pCLE1BQU0sSUFBSSthLEdBQVksZ0RBQWtELE9BQU8vYSxDQUFNLEVBRXpGLEdBQUlBLElBQVcsWUFDWCxNQUFNLElBQUkrYSxHQUFZLGtDQUFrQyxFQUU1RHB6QixFQUFNLElBQU1xWSxFQUNaclksRUFBTSxLQUFPLEVBQ2IsU0FBU3k2QixDQUNaLFNBR0d6NkIsRUFBTSxJQUFJQSxFQUFNLEdBQUcsRUFBSXFZLEVBQ3ZCclksRUFBTSxZQUNGQSxFQUFNLFlBQWNBLEVBQU0sS0FDMUJpaUIsRUFBTSxJQUFHLEVBQ1Q1SixFQUFTclksRUFBTSxRQUVkLENBQ0RBLEVBQU0sSUFBTSxLQUNaQSxFQUFNLEtBQU8sRUFDYixTQUFTeTZCLENBQ1osQ0FFUixDQUNELE9BQU9waUIsQ0FDVixDQUNULEVBQ0k0Z0IsRUFBUSxVQUFVLGFBQWUsVUFBWSxDQUN6QyxPQUFJLEtBQUssV0FBYU4sS0FDbEIsS0FBSyxTQUFXLEtBQUssVUFHbEIsS0FBSyxRQUNwQixFQUNJTSxFQUFRLFVBQVUsU0FBVyxVQUFZLENBQ3JDLEtBQUssU0FBV04sRUFDeEIsRUFDSU0sRUFBUSxVQUFVLGNBQWdCLFVBQVksQ0FDMUMsSUFBSWUsRUFBVyxLQUFLLGVBQ3BCLE9BQVFBLEVBQVEsQ0FDWixJQUFLLEtBQ0QsT0FBTyxLQUFLLFVBQ2hCLElBQUssS0FDRCxPQUFPLEtBQUssVUFDaEIsUUFBUyxDQUNMLEdBQUlBLEVBQVcsSUFDWCxPQUFPQSxFQUFXLElBR2xCLE1BQU0sSUFBSTVHLEdBQVksaUNBQWlDLE9BQU93RCxHQUFXb0QsQ0FBUSxDQUFDLENBQUMsQ0FFMUYsQ0FDSixDQUNULEVBQ0lmLEVBQVEsVUFBVSxhQUFlLFNBQVV6ZSxFQUFNLENBQzdDLEdBQUlBLEVBQU8sS0FBSyxhQUNaLE1BQU0sSUFBSTRZLEdBQVksb0NBQW9DLE9BQU81WSxFQUFNLDBCQUEwQixFQUFFLE9BQU8sS0FBSyxhQUFjLEdBQUcsQ0FBQyxFQUVySSxLQUFLLE1BQU0sS0FBSyxDQUNaLEtBQU0sRUFDTixLQUFNQSxFQUNOLElBQUssS0FDTCxVQUFXLEVBQ1gsSUFBSyxDQUFFLENBQ25CLENBQVMsQ0FDVCxFQUNJeWUsRUFBUSxVQUFVLGVBQWlCLFNBQVV6ZSxFQUFNLENBQy9DLEdBQUlBLEVBQU8sS0FBSyxlQUNaLE1BQU0sSUFBSTRZLEdBQVksc0NBQXNDLE9BQU81WSxFQUFNLHNCQUFzQixFQUFFLE9BQU8sS0FBSyxlQUFnQixHQUFHLENBQUMsRUFFckksS0FBSyxNQUFNLEtBQUssQ0FDWixLQUFNLEVBQ04sS0FBTUEsRUFDTixNQUFPLElBQUksTUFBTUEsQ0FBSSxFQUNyQixTQUFVLENBQ3RCLENBQVMsQ0FDVCxFQUNJeWUsRUFBUSxVQUFVLGlCQUFtQixTQUFVdHZCLEVBQVkrd0IsRUFBYyxDQUNyRSxJQUFJMzZDLEVBQ0osR0FBSTRwQixFQUFhLEtBQUssYUFDbEIsTUFBTSxJQUFJeXBCLEdBQVksMkNBQTJDLE9BQU96cEIsRUFBWSxvQkFBb0IsRUFBRSxPQUFPLEtBQUssYUFBYyxHQUFHLENBQUMsRUFFNUksR0FBSSxLQUFLLE1BQU0sV0FBYSxLQUFLLElBQU0rd0IsRUFBZS93QixFQUNsRCxNQUFNb3ZCLEdBRVYsSUFBSWg5QyxFQUFTLEtBQUssSUFBTTIrQyxFQUNwQnJpQixFQUNKLE9BQUksS0FBSyxjQUFlLElBQU0sR0FBQXQ0QixFQUFLLEtBQUssY0FBZ0IsTUFBUUEsSUFBTyxTQUFrQkEsRUFBRyxZQUFZNHBCLENBQVUsR0FDOUcwTyxFQUFTLEtBQUssV0FBVyxPQUFPLEtBQUssTUFBT3Q4QixFQUFRNHRCLENBQVUsRUFFekRBLEVBQWFrcEIsR0FDbEJ4YSxFQUFTeWEsR0FBYSxLQUFLLE1BQU8vMkMsRUFBUTR0QixDQUFVLEVBR3BEME8sRUFBU2dhLEdBQWEsS0FBSyxNQUFPdDJDLEVBQVE0dEIsQ0FBVSxFQUV4RCxLQUFLLEtBQU8rd0IsRUFBZS93QixFQUNwQjBPLENBQ2YsRUFDSTRnQixFQUFRLFVBQVUsY0FBZ0IsVUFBWSxDQUMxQyxHQUFJLEtBQUssTUFBTSxPQUFTLEVBQUcsQ0FDdkIsSUFBSWo1QixFQUFRLEtBQUssTUFBTSxLQUFLLE1BQU0sT0FBUyxDQUFDLEVBQzVDLE9BQU9BLEVBQU0sT0FBUyxDQUN6QixDQUNELE1BQU8sRUFDZixFQUNJaTVCLEVBQVEsVUFBVSxhQUFlLFNBQVV0dkIsRUFBWWd4QixFQUFZLENBQy9ELEdBQUloeEIsRUFBYSxLQUFLLGFBQ2xCLE1BQU0sSUFBSXlwQixHQUFZLG9DQUFvQyxPQUFPenBCLEVBQVksb0JBQW9CLEVBQUUsT0FBTyxLQUFLLGFBQWMsR0FBRyxDQUFDLEVBRXJJLEdBQUksQ0FBQyxLQUFLLGFBQWFBLEVBQWFneEIsQ0FBVSxFQUMxQyxNQUFNNUIsR0FFVixJQUFJaDlDLEVBQVMsS0FBSyxJQUFNNCtDLEVBQ3BCdGlCLEVBQVMsS0FBSyxNQUFNLFNBQVN0OEIsRUFBUUEsRUFBUzR0QixDQUFVLEVBQzVELFlBQUssS0FBT2d4QixFQUFhaHhCLEVBQ2xCME8sQ0FDZixFQUNJNGdCLEVBQVEsVUFBVSxnQkFBa0IsU0FBVXplLEVBQU1tZ0IsRUFBWSxDQUM1RCxHQUFJbmdCLEVBQU8sS0FBSyxhQUNaLE1BQU0sSUFBSTRZLEdBQVksb0NBQW9DLE9BQU81WSxFQUFNLG9CQUFvQixFQUFFLE9BQU8sS0FBSyxhQUFjLEdBQUcsQ0FBQyxFQUUvSCxJQUFJb2dCLEVBQVUsS0FBSyxLQUFLLFFBQVEsS0FBSyxJQUFNRCxDQUFVLEVBQ2pEOW9ELEVBQU8sS0FBSyxhQUFhMm9DLEVBQU1tZ0IsRUFBYSxHQUNoRCxPQUFPLEtBQUssZUFBZSxPQUFPOW9ELEVBQU0rb0QsRUFBUyxLQUFLLE9BQU8sQ0FDckUsRUFDSTNCLEVBQVEsVUFBVSxPQUFTLFVBQVksQ0FDbkMsT0FBTyxLQUFLLEtBQUssU0FBUyxLQUFLLEdBQUcsQ0FDMUMsRUFDSUEsRUFBUSxVQUFVLFFBQVUsVUFBWSxDQUNwQyxPQUFPLEtBQUssS0FBSyxVQUFVLEtBQUssR0FBRyxDQUMzQyxFQUNJQSxFQUFRLFVBQVUsUUFBVSxVQUFZLENBQ3BDLE9BQU8sS0FBSyxLQUFLLFVBQVUsS0FBSyxHQUFHLENBQzNDLEVBQ0lBLEVBQVEsVUFBVSxPQUFTLFVBQVksQ0FDbkMsSUFBSTFtRCxFQUFRLEtBQUssS0FBSyxTQUFTLEtBQUssR0FBRyxFQUN2QyxZQUFLLE1BQ0VBLENBQ2YsRUFDSTBtRCxFQUFRLFVBQVUsT0FBUyxVQUFZLENBQ25DLElBQUkxbUQsRUFBUSxLQUFLLEtBQUssUUFBUSxLQUFLLEdBQUcsRUFDdEMsWUFBSyxNQUNFQSxDQUNmLEVBQ0kwbUQsRUFBUSxVQUFVLFFBQVUsVUFBWSxDQUNwQyxJQUFJMW1ELEVBQVEsS0FBSyxLQUFLLFVBQVUsS0FBSyxHQUFHLEVBQ3hDLFlBQUssS0FBTyxFQUNMQSxDQUNmLEVBQ0kwbUQsRUFBUSxVQUFVLFFBQVUsVUFBWSxDQUNwQyxJQUFJMW1ELEVBQVEsS0FBSyxLQUFLLFNBQVMsS0FBSyxHQUFHLEVBQ3ZDLFlBQUssS0FBTyxFQUNMQSxDQUNmLEVBQ0kwbUQsRUFBUSxVQUFVLFFBQVUsVUFBWSxDQUNwQyxJQUFJMW1ELEVBQVEsS0FBSyxLQUFLLFVBQVUsS0FBSyxHQUFHLEVBQ3hDLFlBQUssS0FBTyxFQUNMQSxDQUNmLEVBQ0kwbUQsRUFBUSxVQUFVLFFBQVUsVUFBWSxDQUNwQyxJQUFJMW1ELEVBQVEsS0FBSyxLQUFLLFNBQVMsS0FBSyxHQUFHLEVBQ3ZDLFlBQUssS0FBTyxFQUNMQSxDQUNmLEVBQ0kwbUQsRUFBUSxVQUFVLFFBQVUsVUFBWSxDQUNwQyxJQUFJMW1ELEVBQVFpL0MsR0FBVSxLQUFLLEtBQU0sS0FBSyxHQUFHLEVBQ3pDLFlBQUssS0FBTyxFQUNMai9DLENBQ2YsRUFDSTBtRCxFQUFRLFVBQVUsUUFBVSxVQUFZLENBQ3BDLElBQUkxbUQsRUFBUWcvQyxHQUFTLEtBQUssS0FBTSxLQUFLLEdBQUcsRUFDeEMsWUFBSyxLQUFPLEVBQ0xoL0MsQ0FDZixFQUNJMG1ELEVBQVEsVUFBVSxRQUFVLFVBQVksQ0FDcEMsSUFBSTFtRCxFQUFRLEtBQUssS0FBSyxXQUFXLEtBQUssR0FBRyxFQUN6QyxZQUFLLEtBQU8sRUFDTEEsQ0FDZixFQUNJMG1ELEVBQVEsVUFBVSxRQUFVLFVBQVksQ0FDcEMsSUFBSTFtRCxFQUFRLEtBQUssS0FBSyxXQUFXLEtBQUssR0FBRyxFQUN6QyxZQUFLLEtBQU8sRUFDTEEsQ0FDZixFQUNXMG1ELENBQ1gsSUMxdEJXNEIsR0FBdUIsQ0FBQSxFQVUzQixTQUFTL0YsR0FBT0ksRUFBUS9pRCxFQUFTLENBQ2hDQSxJQUFZLFNBQVVBLEVBQVUwb0QsSUFDcEMsSUFBSUMsRUFBVSxJQUFJN0IsR0FBUTltRCxFQUFRLGVBQWdCQSxFQUFRLFFBQVNBLEVBQVEsYUFBY0EsRUFBUSxhQUFjQSxFQUFRLGVBQWdCQSxFQUFRLGFBQWNBLEVBQVEsWUFBWSxFQUNqTCxPQUFPMm9ELEVBQVEsT0FBTzVGLENBQU0sQ0FDaEMsd0JDYkEsSUFBSTZGLEVBQWdCLEVBQ2hCQyxFQUFZLEVBQ1pDLEVBQWMsRUFDZEMsRUFBYyxFQUNkQyxFQUFnQixFQUdoQkMsRUFBTyxFQUNQQyxFQUFRLEVBQ1JDLEVBQU8sRUFDUEMsRUFBWSxFQUdaQyxFQUFlLEVBQ2ZDLEVBQWEsRUFDYkMsRUFBbUIsRUFDbkJDLEVBQWMsRUFFZEMsRUFBZ0IsR0FFaEJDLEVBQXVCLEdBR3ZCQyxFQUFpQixJQUdqQkMsRUFBZ0IsR0FFaEJDLEVBQWUsR0FDZkMsRUFBcUIsR0FDckJDLEVBQVMsRUFDVEMsRUFBaUIsT0FBTyxPQUFXLElBQWMsT0FBTyxTQUFXLHNCQUV2RSxTQUFTQyxFQUFpQmpxRCxFQUFTLENBQzdCQSxJQUNKQSxFQUFVLENBQUUsR0FDYixJQUFJa3FELEVBQWdCbHFELEVBQVEsdUJBQ3ZCa3FELElBQ0pBLEVBQWdCLElBQUksS0FFckJBLEVBQWMsSUFBSSxJQUFLLENBQ3RCLEtBQU0sTUFDTixRQUFTQyxDQUNYLENBQUUsRUFDREQsRUFBYyxJQUFJLElBQUssQ0FDdEIsS0FBTSxNQUNOLFFBQVNFLENBQ1gsQ0FBRSxFQUNERixFQUFjLElBQUksS0FBTSxDQUN2QixLQUFNLE9BQ04sUUFBU0csQ0FDWCxDQUFFLEVBQ3NCcnFELEVBQVEsUUFBVUEsRUFBUSxpQkFDakQsSUFBSXNxRCxFQUFlLE9BQU9DLEdBQVUsS0FBZUEsR0FBTyxRQUFVLEVBQUV2cUQsR0FBV0EsRUFBUSxXQUFhLFdBQWNnSSxFQUFRLGdCQUFnQmhJLENBQU8sRUFBSXdxRCxFQUEwQixFQUM3S0MsRUFBY0gsRUFBWSxZQUMxQkksRUFBYUosRUFBWSxXQUN6QkssRUFBZ0JMLEVBQVksY0FDNUJNLEVBQWNOLEVBQVksWUFDMUJPLEdBQWNQLEVBQVksWUFDWnRxRCxFQUFRLFlBQzFCLElBQUk4cUQsR0FFQTlxRCxFQUFRLFNBQ1g4cUQsR0FBZTlxRCxFQUFRLE9BQU8sYUFDbEJBLEVBQVEsT0FBTyxjQUU1QixJQUFJK3FELEdBQW1CLENBQUUsRUFFckI1a0IsRUFDQTZrQixHQUFlaGpELEVBQVEsY0FBZ0IsaUJBQ3ZDaWpELEdBQWVqakQsRUFBUSxjQUFnQixpQkFFdkNrakQsR0FBZW5CLElBRWZvQixHQUFVLENBQ2IsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFJLEVBQ2hCQyxHQUNBQyxHQUNBQyxFQUNBQyxFQUNBQyxDQUNBLEVBRUQsU0FBU0MsRUFBWUMsRUFBUSxDQUM1QmhCLEVBQVczQixFQUFhMkMsQ0FBTSxDQUM5QixDQUVELFNBQVNDLEVBQWtCN2dELEVBQVEsQ0FDbEM0L0MsRUFBVzVCLEVBQWFoK0MsRUFBTyxNQUFNLEVBQ3JDMi9DLEVBQVkzL0MsQ0FBTSxDQUNsQixDQUdELFNBQVN3Z0QsRUFBbUJsckQsRUFBTyxDQUNsQyxJQUFJeUYsR0FBTWc0QixHQUFTc0ksRUFBUyxPQUM1QixHQUFJdEksR0FBUSxDQUNQQSxHQUFPLFFBQVUsSUFBTUEsR0FBTyxhQUFlcXRCLEtBRWhEcnRCLEdBQU8sV0FBYXF0QixHQUNoQnJ0QixHQUFPLFFBQVVBLEdBQU8sU0FDM0JBLEdBQU8sT0FBU0EsR0FBTyxTQUN4QjZzQixFQUFXN0IsRUFBV2EsQ0FBb0IsRUFDMUNnQixFQUFXM0IsRUFBYWxyQixHQUFPLE9BQU8sR0FFdkMsSUFBSSt0QixHQUFZL3RCLEdBQU8sUUFBUXo5QixDQUFLLEVBQ3BDLEdBQUl3ckQsR0FBWSxHQUNmLE9BQU9ILEVBQVlHLEVBQVMsQ0FFN0IsQ0FDRCxJQUFLL2xELEdBQU8sT0FBT3pGLElBQVcsVUFBWXlGLEtBQVEsVUFBWXpGLEdBQzdELEdBQUkrbEMsRUFBUyxrQkFDWixHQUFJQSxFQUFTLGlCQUFpQi9sQyxFQUFPc3FELEVBQVlRLEVBQVksRUFDNUQsZUFDU3J0QixHQUFRLENBQ2xCLElBQUkvM0IsR0FBUSszQixHQUFPLE9BQ2YvM0IsR0FBUSxLQUNYKzNCLEdBQU8vM0IsRUFBSyxFQUFJMUYsRUFDakIsRUFFRXlGLEtBQVMsU0FDWjhsRCxFQUFrQnZyRCxDQUFLLEVBRXZCZ3JELEdBQWVockQsQ0FBSyxDQUVyQixDQUdELFNBQVNtckQsRUFBY0csRUFBUSxDQUM5QixJQUFJN2xELEdBQU8sT0FBTzZsRCxFQUNsQixHQUFJN2xELEtBQVMsU0FDWixHQUFJNmxELElBQVcsSUFBTUEsR0FBV0EsRUFBUyxHQUFLQSxFQUFTLGdCQUFrQkEsRUFBUyxJQUFNLEVBRXZGaEIsRUFBVzNCLEVBQWEyQyxDQUFNLE1BQ3hCLENBRU4sSUFBSUcsR0FBV0gsRUFBTyxTQUFVLEVBQ2hDQyxFQUFrQkUsRUFBUSxDQUMxQixNQUNTaG1ELEtBQVMsU0FDbkJ1bEQsR0FBZU0sQ0FBTSxFQUVyQkksRUFBZ0JKLENBQU0sQ0FFdkIsQ0FFRCxTQUFTSSxFQUFnQjFyRCxFQUFPLENBQzNCQSxJQUFVLEtBQ2JzcUQsRUFBVzdCLEVBQVdJLENBQUksRUFDbEI3b0QsSUFBVSxHQUNsQnNxRCxFQUFXN0IsRUFBV0ssQ0FBSyxFQUNuQjlvRCxJQUFVLEdBQ2xCc3FELEVBQVc3QixFQUFXTSxDQUFJLEVBQ2xCL29ELElBQVUsT0FDbEJzcUQsRUFBVzdCLEVBQVdPLENBQVMsRUFFL0IyQyxFQUFzQjNyRCxDQUFLLENBRTVCLENBRUQsU0FBUzJyRCxFQUFzQjNyRCxFQUFPLENBQ3JDLElBQUl5RixHQUFPLE9BQU96RixFQUNkNHJELEdBQ0osR0FBSW5tRCxLQUFTLFNBQ1osR0FBSXpGLEVBQU8sQ0FDVixJQUFJNnJELEdBQWM3ckQsRUFBTSxZQUN4QixHQUFJNnJELEtBQWdCLE9BRWIsR0FBSUEsS0FBZ0IsTUFDMUJwbUQsR0FBTyxnQkFFUG1tRCxHQUFlOUIsRUFBYyxJQUFJK0IsRUFBVyxFQUN4Q0QsSUFBZ0JBLEdBQWEsU0FNaEMsR0FMQTVyRCxFQUFRNHJELEdBQWEsUUFBUTVyRCxDQUFLLEVBQ2xDeUYsR0FBTyxPQUFPekYsRUFDVkEsR0FBU3lGLEtBQVMsVUFBWXpGLEVBQU0sY0FBZ0IsUUFDdkR5RixHQUFPLFNBRUpzZ0MsRUFBUyxPQUFTdGdDLEdBRXJCLE9BQUlzZ0MsRUFBUyxlQUFpQjZsQixLQUM3QjdsQixFQUFTLGFBQWU2bEIsR0FDeEJ0QixFQUFXN0IsRUFBV1ksQ0FBYSxFQUNuQ2tDLEVBQWtCSyxHQUFhLElBQUksR0FFN0JiLEdBQVFobEIsRUFBUyxJQUFJLEVBQUUvbEMsQ0FBSyxPQUdwQzRyRCxHQUFlLEVBSXJCLE1BQ0lubUQsR0FBTyxpQkFFRUEsS0FBUyxVQUNuQkEsR0FBTyxZQUNHQSxLQUFTLGFBQ25CekYsRUFBUUEsRUFBTSxTQUFVLEVBQ3hCeUYsR0FBTyxVQUVSc2dDLEVBQVcrbEIsR0FBYyxLQUFNcm1ELEdBQU1tbUQsRUFBWSxFQUNqRGIsR0FBUWhsQixFQUFTLElBQUksRUFBRS9sQyxDQUFLLENBQzVCLENBRUQsU0FBU29yRCxHQUFnQixDQUN4QmQsRUFBVzdCLEVBQVdJLENBQUksQ0FDMUIsQ0FHRCxTQUFTbUMsR0FBZWhyRCxFQUFPK3JELEdBQVEsQ0FDdEMsSUFBSXRtRCxHQUFPLE9BQU96RixFQUNsQixHQUFJeUYsS0FBUyxVQUNaLEdBQUksQ0FBQ3pGLEVBQ0osT0FBT3NxRCxFQUFXN0IsRUFBV0ksQ0FBSSxNQUc1QixRQUFJcGpELEtBQVMsU0FDWjhsRCxFQUFrQnZyRCxDQUFLLEVBQ3BCeUYsS0FBUyxXQUFhekYsSUFBVSxJQUFNQSxHQUFVQSxFQUFRLEdBQUtBLEVBQVEsZ0JBQWtCQSxFQUFRLElBQU0sR0FFeEdzcUQsRUFBVzNCLEVBQWEzb0QsQ0FBSyxFQUU3QjByRCxFQUFnQjFyRCxDQUFLLEVBRTdCLElBQUk4bEMsR0FBUzlsQyxFQUNUNnJELEdBQWMvbEIsR0FBTyxZQUNyQmttQixHQUNKLEdBQUlsbUIsR0FBTytrQixFQUFZLEVBQ3RCLE9BQU9vQixHQUFvQmpzRCxDQUFLLEVBQzFCLEdBQUk2ckQsS0FBZ0IsT0FDMUJHLEdBQWlCLE9BQ1gsSUFBSUgsS0FBZ0IsTUFDMUIsT0FBQTlsQixFQUFXK2xCLEdBQWMvbEIsRUFBUyxJQUFLLE9BQU8sRUFDdkNnbEIsR0FBUWhsQixFQUFTLElBQUksRUFBRS9sQyxDQUFLLEVBRW5DLEdBQUk4bEMsR0FBTyxLQUNWLE9BQU9tbUIsR0FBb0Jqc0QsQ0FBSyxFQUdqQyxHQURBNHJELEdBQWU5QixFQUFjLElBQUkrQixFQUFXLEVBQ3hDRCxJQUNILEdBQUlBLEdBQWEsUUFDaEIsT0FBT0YsRUFBZ0I1bEIsRUFBTSxNQUV4QixDQUNOLEdBQUlBLEdBQU84akIsQ0FBYyxFQUN4QixPQUFBN2pCLEVBQVcrbEIsR0FBYy9sQixFQUFTLElBQUssT0FBTyxFQUN2Q21tQixHQUFnQnBtQixHQUFRaW1CLEVBQU0sRUFFdENqQyxFQUFjLElBQUkrQixHQUFhRCxHQUFlLENBQzdDLEtBQU1DLEdBQVksSUFDdkIsQ0FBSyxDQUNELENBQ0c5bEIsRUFBUyxhQUFlOGxCLEtBQzNCdkIsRUFBVzdCLEVBQVdZLENBQWEsRUFDbkNrQyxFQUFrQkssR0FBYSxJQUFJLEVBQ25DN2xCLEVBQVMsV0FBYThsQixJQUV2QkcsR0FBaUIsR0FFbEIsSUFBSUcsRUFBZXBtQixFQUNmb21CLEVBQWEsUUFBVUEsRUFBYSxRQUFVQSxFQUFhLFlBQWNyQixLQUM1RXFCLEVBQWEsT0FBU0EsRUFBYSxRQUNuQ0EsRUFBYSxXQUFhckIsSUFFM0JQLEVBQWUsRUFDZixJQUFJdnNELEdBQUksRUFFSm91RCxHQUFjLEdBQ2RDLEdBQWdCLEVBQ3BCLFFBQVMvckQsTUFBT3dsQyxHQUNmLEdBQUksRUFBQWttQixJQUFrQixDQUFDbG1CLEdBQU8sZUFBZXhsQyxFQUFHLEdBRWhELEtBQUlOLEVBQVE4bEMsR0FBT3hsQyxFQUFHLEVBQ3RCbUYsR0FBTyxPQUFPekYsRUFDZCtsQyxFQUFXb21CLEVBQWFFLEVBQWEsRUFDckMsSUFBSVIsR0FDQUQsR0FBZSxHQTBCbkIsR0F6QklubUQsS0FBUyxXQUNSekYsR0FDSDZyRCxHQUFjN3JELEVBQU0sWUFDaEI2ckQsS0FBZ0IsU0FFVEEsS0FBZ0IsTUFDMUJwbUQsR0FBTyxTQUVQbW1ELEdBQWU5QixFQUFjLElBQUkrQixFQUFXLEVBQ3hDRCxJQUFnQkEsR0FBYSxTQUNoQzVyRCxFQUFRNHJELEdBQWEsUUFBUTVyRCxDQUFLLEVBQ2xDeUYsR0FBTyxPQUFPekYsRUFDVkEsR0FBU3lGLEtBQVMsVUFBWXpGLEVBQU0sY0FBZ0IsUUFDdkR5RixHQUFPLFVBRUV6RixFQUFNNHBELENBQWMsR0FBSyxDQUFDNXBELEVBQU0sS0FDMUN5RixHQUFPLFFBRVBtbUQsR0FBZSxNQUlqQm5tRCxHQUFPLGFBR0wsQ0FBQ3NnQyxHQUFZQSxFQUFTLE1BQVF6bEMsSUFDaEN5bEMsRUFBUyxPQUFTdGdDLElBQVFBLEtBQVMsV0FBYUEsS0FBUyxhQUFlLEVBQUVBLEtBQVMsVUFBWXNnQyxFQUFTLE9BQVMsV0FDakg2bEIsSUFBZ0I3bEIsRUFBUyxlQUFpQjhsQixHQUFjLENBQ3pELElBQUlTLEdBQW9CRCxHQUlwQkQsR0FBYyxLQUNqQkMsR0FBZ0JELElBQ2pCLEdBQ0NybUIsRUFBV29tQixFQUFhLEVBQUVFLEVBQWEsUUFDaEN0bUIsSUFBYUEsRUFBUyxNQUFRemxDLElBQ25DeWxDLEVBQVMsT0FBU3RnQyxJQUFRQSxLQUFTLFdBQWFBLEtBQVMsYUFBZSxFQUFFQSxLQUFTLFVBQVlzZ0MsRUFBUyxPQUFTLFdBQ2pINmxCLElBQWdCN2xCLEVBQVMsZUFBaUI4bEIsS0FDN0MsR0FBSTlsQixFQUVIdWtCLEVBQVc5QixFQUFlNkQsRUFBYSxFQUNuQ0QsS0FBZ0IsS0FDbkJBLEdBQWNFLEdBQW9CLFdBRXpCSCxFQUFhLFlBRXZCcG1CLEVBQVdvbUIsRUFBYSxZQUFZbnNELEVBQU9NLEdBQUttRixHQUFNbW1ELEdBQWNFLEdBQWV4QixFQUFZZ0MsRUFBaUIsRUFDaEhELEdBQWdCdG1CLEVBQVMsTUFDckJ1bUIsS0FBc0JELElBQWlCRCxLQUFnQixLQUMxREEsR0FBY0UsR0FBb0IsT0FFN0IsQ0FTTixHQVJJQSxLQUFzQkgsRUFBYSxPQUN0Q0UsR0FBZ0JDLElBRWhCaEMsRUFBVzlCLEVBQWU2RCxHQUFnQkYsRUFBYSxNQUFNLEVBQ3pEQyxLQUFnQixLQUNuQkEsR0FBY0UsR0FBb0IsSUFHaENELEdBQWdCRixFQUFhLFFBQVMsQ0FDekMsU0FDQSxNQUFNLElBQUksTUFBTSw2QkFBNkIsQ0FDN0MsQ0FFRHBtQixFQUFXb21CLEVBQWFFLEVBQWEsRUFBSVAsR0FBY3hyRCxHQUFLbUYsR0FBTW1tRCxFQUFZLENBQzlFLENBQ0QsQ0FDR2xCLElBQ0hBLEdBQWEza0IsRUFBVUQsR0FBUWdsQixHQUFjOXNELEVBQUMsRUFHL0MsSUFBSTRQLEdBQU9tNEIsRUFBUyxLQUNoQm40QixHQUFPLEVBQ05BLEtBQVMsRUFDWnM5QyxFQUFtQmxyRCxDQUFLLEVBRXhCbXJELEVBQWNuckQsQ0FBSyxFQUVoQjROLEtBQVMsRUFDWm85QyxHQUFlaHJELENBQUssRUFFcEJpckQsR0FBYWpyRCxDQUFLLEVBRXBCcXNELEtBQ0FydUQsS0FFRCtuQyxFQUFXb21CLEVBQ1gzQixFQUFZeHNELEVBQUMsQ0FDYixDQUVELFNBQVM4dEQsR0FBY3hyRCxFQUFLbUYsR0FBTW1tRCxHQUFjLENBQy9DLElBQUk3bEIsR0FDSixPQUFBQSxHQUFXLENBQUUsRUFDYkEsR0FBUyxJQUFNemxDLEVBQ2Z5bEMsR0FBUyxLQUFPdGdDLEdBQ1pBLEtBQVMsVUFDWjZrRCxFQUFXN0IsRUFBV1UsQ0FBZ0IsRUFDdENwakIsR0FBUyxPQUFTLENBQUUsRUFDcEJBLEdBQVMsS0FBT29qQixHQUNOMWpELEtBQVMsVUFDbkI2a0QsRUFBVzdCLEVBQVdXLENBQVcsRUFDakNyakIsR0FBUyxLQUFPcWpCLEdBQ04zakQsS0FBUyxVQUNuQjZrRCxFQUFXN0IsRUFBV1EsQ0FBWSxFQUNsQ2xqQixHQUFTLEtBQU9rakIsR0FDTnhqRCxLQUFTLFNBQ25CNmtELEVBQVc3QixFQUFXUyxDQUFVLEVBQ2hDbmpCLEdBQVMsS0FBT21qQixHQUNOempELEtBQVMsV0FBYUEsS0FBUyxhQUN6Q3NnQyxHQUFTLEtBQU8sU0FDaEJ1a0IsRUFBVzdCLEVBQVdRLENBQVksRUFDbENsakIsR0FBUyxLQUFPa2pCLElBRWhCcUIsRUFBVzdCLEVBQVdRLENBQVksRUFDbENsakIsR0FBUyxLQUFPLEdBQ2hCLFFBQVEsTUFBTSxpQ0FBbUN0Z0MsRUFBSSxHQUdsRCxPQUFPbkYsR0FBUSxTQUNsQmlyRCxFQUFrQmpyRCxDQUFHLEVBQ1RBLElBQVEsT0FBU21GLEtBQVMsVUFBWUEsS0FBUyxVQUMzRHVsRCxHQUFlMXFELENBQUcsRUFFZnNyRCxLQUNIN2xCLEdBQVMsYUFBZTZsQixHQUN4QnRCLEVBQVc3QixFQUFXWSxDQUFhLEVBQ25Da0MsRUFBa0JLLEdBQWEsSUFBSSxHQUU3QjdsQixFQUNQLENBRUQsU0FBU21tQixHQUFnQnowQyxFQUFVczBDLEdBQVFRLEdBQVUsQ0FFcEQsR0FBSSxDQUNFQSxLQUNKakMsRUFBVzFCLEVBQWVZLENBQWEsRUFDdkMrQyxHQUFXOTBDLEVBQVNteUMsQ0FBYyxFQUFHLEdBRXRDLElBQUk0QyxHQUFnQnptQixFQUNwQkEsRUFBV3ltQixHQUFjLFFBQVVBLEdBQWMsTUFBUUEsSUFHekQsUUFESTd0RCxHQUNFLEVBQUVBLEdBQVM0dEQsR0FBUyxLQUFJLEdBQUksTUFFakMsR0FEQXhCLEdBQVFobEIsRUFBUyxJQUFJLEVBQUVwbkMsR0FBTyxNQUFPNnRELEVBQWEsRUFDOUNULElBQVU3QixFQUFZLFdBQVksQ0FDckNBLEVBQVksV0FBYSxHQUN6Qm5rQixFQUFXeW1CLEdBQ1g3QixHQUFpQixRQUFRLENBQ3hCLEtBQU0sU0FBUzF0RCxHQUFVLENBQ3hCLE9BQUFpdkQsR0FBZ0IsS0FBTSxHQUFNSyxFQUFRLEVBQzdCdHZELEdBQVUsQ0FDakIsQ0FDUCxDQUFNLEVBQ0QsTUFDQSxDQUVGLE9BQU91SyxHQUFPLENBQ2QsTUFBQThpRCxFQUFXN0IsRUFBV1ksQ0FBYSxFQUNuQ2lCLEVBQVczQixFQUFhWSxDQUFjLEVBQ3RDeUIsR0FBZSxPQUFPLE9BQU8sSUFBTSxPQUFPeGpELElBQVMsVUFBWUEsR0FBU0EsR0FBTSxZQUFjLE9BQVUsQ0FDckcsS0FBTUEsSUFBU0EsR0FBTSxLQUNyQixRQUFTQSxJQUFTQSxHQUFNLFNBQVdBLEVBQ3ZDLENBQUksQ0FBQyxFQUNJQSxFQUNOLENBQ0d1K0IsSUFBYXltQixHQUFjLFFBRTlCQSxHQUFjLE1BQVF6bUIsR0FFdkJBLEVBQVd5bUIsR0FDWGxDLEVBQVcxQixFQUFlYSxDQUFZLENBQ3RDLENBRUQsU0FBU3dCLEdBQWFuM0MsRUFBTyxDQUM1QixHQUFJLENBQUNBLEVBQ0o0M0MsRUFBZ0I1M0MsQ0FBSyxNQUNmLElBQUlBLEVBQU0rMkMsRUFBWSxFQUM1QixPQUFPb0IsR0FBb0JuNEMsQ0FBSyxFQUMxQixHQUFJQSxFQUFNLGNBQWdCLE1BQU8sQ0FDdkMsSUFBSXRWLEdBQVNzVixFQUFNLE9BQ2YyNEMsR0FDQWp1RCxHQUFTLElBQ1o4ckQsRUFBVzFCLEVBQWVZLENBQWEsRUFDdkNpRCxHQUFlLElBRWZuQyxFQUFXMUIsRUFBZXBxRCxFQUFNLEVBRWpDLElBQUlndUQsR0FBZ0J6bUIsRUFDcEJBLEVBQVd5bUIsR0FBYyxDQUFDLEVBRXRCQSxHQUFjLFFBQVVBLEdBQWMsUUFBVUEsR0FBYyxZQUFjMUIsS0FDL0UwQixHQUFjLE9BQVNBLEdBQWMsUUFDckNBLEdBQWMsV0FBYTFCLElBSTVCLFFBRkl1QixHQUFnQixFQUVYcnVELEdBQUksRUFBR0EsR0FBSVEsR0FBUVIsS0FBSyxDQUNoQyxJQUFJZ0MsRUFBUThULEVBQU05VixFQUFDLEVBQ2Z5SCxHQUFPLE9BQU96RixFQUNsQixHQUFJeUYsS0FBUyxTQUNaLEdBQUl6RixFQUFPLENBQ1YsSUFBSTZyRCxHQUFjN3JELEVBQU0sWUFDeEIsR0FBSTZyRCxLQUFnQixPQUViLEdBQUlBLEtBQWdCLE1BQzFCcG1ELEdBQU8sWUFDRCxDQUNOLElBQUltbUQsR0FBZTlCLEVBQWMsSUFBSStCLEVBQVcsRUFDNUNELElBQWdCQSxHQUFhLFNBQ2hDNXJELEVBQVE0ckQsR0FBYSxRQUFRNXJELENBQUssRUFDbEN5RixHQUFPLE9BQU96RixFQUNWQSxHQUFTeUYsS0FBUyxVQUFZekYsRUFBTSxjQUFnQixRQUN2RHlGLEdBQU8sVUFHUm1tRCxHQUFlLEVBR2hCLENBQ1AsTUFDTW5tRCxHQUFPLFlBR1QsR0FBSSxDQUFDc2dDLEVBQ0F5bUIsR0FBYyxZQUVqQnptQixFQUFXeW1CLEdBQWMsWUFBWXhzRCxFQUFPLEtBQU15RixHQUFNbW1ELEdBQWNFLEdBQWV4QixFQUFZLENBQUMsR0FFOUY3a0QsS0FBUyxVQUFZQSxLQUFTLFVBQVlBLEtBQVMsUUFDdERzZ0MsRUFBVytsQixHQUFjLEtBQU1ybUQsR0FBTW1tRCxFQUFZLEdBR2pEN2xCLEVBQVcsQ0FBRSxFQUNiQSxFQUFTLEtBQU90Z0MsR0FDaEJzZ0MsRUFBUyxJQUFNLEtBQ2ZBLEVBQVMsS0FBT2tqQixHQUVqQnVELEdBQWMsQ0FBQyxFQUFJem1CLFdBRVRBLEVBQVMsT0FBU3RnQyxJQUFRQSxLQUFTLFdBQWFBLEtBQVMsYUFBZSxFQUFFQSxLQUFTLFVBQVlzZ0MsRUFBUyxPQUFTLFdBQzNINmxCLElBQWdCN2xCLEVBQVMsZUFBaUI4bEIsR0FBYyxDQUN6RFEsR0FBZ0IsR0FDaEIsR0FDQ3RtQixFQUFXeW1CLEdBQWMsRUFBRUgsRUFBYSxRQUNqQ3RtQixJQUFjQSxFQUFTLE9BQVN0Z0MsSUFBUUEsS0FBUyxXQUFhQSxLQUFTLGFBQWUsRUFBRUEsS0FBUyxVQUFZc2dDLEVBQVMsT0FBUyxXQUNwSTZsQixJQUFnQjdsQixFQUFTLGVBQWlCOGxCLEtBQ3pDOWxCLEVBQ0h1a0IsRUFBVzlCLEVBQWU2RCxFQUFhLEVBQzdCRyxHQUFjLFlBRXhCem1CLEVBQVd5bUIsR0FBYyxZQUFZeHNELEVBQU8sS0FBTXlGLEdBQU1tbUQsR0FBY0UsR0FBZXhCLEVBQVksRUFBRSxHQUVuR0EsRUFBVzlCLEVBQWU2RCxFQUFhLEVBQ3ZDdG1CLEVBQVcrbEIsR0FBYyxLQUFNcm1ELEdBQU1tbUQsRUFBWSxFQUNqRFksR0FBY0gsRUFBYSxFQUFJdG1CLEVBRWhDLENBQ0cya0IsSUFDSEEsR0FBYTNrQixFQUFVanlCLEVBQU9nM0MsR0FBYzlzRCxFQUFDLEVBQzlDLElBQUk0UCxHQUFPbTRCLEVBQVMsS0FDaEJuNEIsR0FBTyxFQUNOQSxLQUFTLEVBQ1pzOUMsRUFBbUJsckQsQ0FBSyxFQUV4Qm1yRCxFQUFjbnJELENBQUssRUFFaEI0TixLQUFTLEVBQ1pvOUMsR0FBZWhyRCxDQUFLLEVBRXBCaXJELEdBQWFqckQsQ0FBSyxDQUVwQixDQUNHeXNELElBQ0huQyxFQUFXMUIsRUFBZWEsQ0FBWSxFQUV2QzFqQixFQUFXeW1CLEVBQ1gsS0FBTSxJQUFJLE9BQU8xNEMsR0FBUyxVQUFZQSxFQUFNODFDLENBQWMsRUFDMUQsT0FBT3NDLEdBQWdCcDRDLENBQUssRUFDdEIsR0FBSXJPLEtBQVMsU0FDbkIsT0FBTzhsRCxFQUFrQnZyRCxDQUFLLEVBQ3hCLEdBQUl5RixLQUFTLFdBQWF6RixJQUFVLElBQU1BLEdBQVVBLEVBQVEsR0FBS0EsRUFBUSxnQkFBa0JBLEVBQVEsSUFBTSxHQUMvRyxPQUFPc3FELEVBQVczQixFQUFhM29ELENBQUssRUFFcEMwckQsRUFBZ0I1M0MsQ0FBSyxHQUV0QixDQUlELFNBQVNtNEMsR0FBb0JocUQsRUFBT3lxRCxHQUFRLENBQzNDcEMsRUFBVzFCLEVBQWVjLENBQWtCLEVBQzVDLElBQUlpRCxHQUFnQjVtQixFQUNoQjZtQixHQUFjM3FELEVBQU00b0QsRUFBWSxFQUFJLENBQ3ZDLEtBQU1nQyxFQUNULEVBQU0sQ0FDSCxLQUFNLFNBQVM1dkQsR0FBVSxDQUN4QixPQUFPZ0YsRUFBTSxLQUFLLFNBQVNqQyxFQUFPLENBQ2pDaUMsRUFBUWpDLEVBQ1I2c0QsR0FBSzV2RCxFQUFRLENBQ2IsRUFBRSxTQUFTdUssRUFBTyxDQUNsQnZGLEVBQVEsT0FBTyxPQUFPLElBQU0sT0FBT3VGLEdBQVMsVUFBWUEsRUFBU0EsRUFBTSxZQUFjLE9BQVUsQ0FDOUYsS0FBTUEsR0FBU0EsRUFBTSxLQUNyQixRQUFTQSxHQUFTQSxFQUFNLFNBQVdBLENBQ3pDLENBQU0sRUFDSW1sRCxHQUFjLFVBQ2xCckMsRUFBVzdCLEVBQVdZLENBQWEsRUFDbkNpQixFQUFXM0IsRUFBYVksQ0FBYyxHQUV2Q3NELEdBQUs1dkQsRUFBUSxDQUNsQixDQUFLLENBQ0QsQ0FDRCxFQUNELFNBQVM0dkQsR0FBSzV2RCxHQUFVLENBQ3ZCLEdBQUkyQyxFQUFRLFVBQVlxQyxFQUV2QnJDLEVBQVEsU0FBU3FDLEVBQU8wcUQsRUFBYSxNQUMvQixDQUNOLElBQUloSyxFQUFTMWdELEdBQVNBLEVBQU0yb0QsRUFBWSxHQUFLM29ELEVBQU0yb0QsRUFBWSxFQUFFK0IsRUFBYSxFQUM5RSxHQUFJaEssRUFDSDhILEdBQVk5SCxDQUFNLE1BQ1osQ0FDTjVjLEVBQVc0bUIsR0FDWCxJQUFJRyxHQUF1Qm5DLEdBQzNCQSxHQUFtQixDQUFFLEVBQ3JCSyxHQUFlL29ELEVBQU8sRUFBSSxFQUMxQjZxRCxHQUFxQixRQUFRLE1BQU1BLEdBQXNCbkMsRUFBZ0IsRUFDekVBLEdBQW1CbUMsRUFDbkIsQ0FDRCxDQUNEN3ZELEdBQVUsQ0FDVixDQUNEMHRELEdBQWlCLEtBQUtpQyxFQUFXLENBQ2pDLENBRUQsSUFBSUcsR0FBYSxDQUNoQixVQUFXLFNBQVMvc0QsRUFBT2d0RCxHQUFnQixDQUMxQyxJQUFJckssR0FBUzNpRCxHQUFTQSxFQUFNNHFELEVBQVksR0FBSzVxRCxFQUFNNHFELEVBQVksRUFBRW9DLEVBQWMsRUFFL0UsR0FBSXJLLEdBQVEsQ0FDWHVILEVBQVksWUFBWXZILEVBQU0sRUFDOUIsTUFDQSxDQUNHcUssSUFDSGpuQixFQUFXaW5CLEdBQ1hqQyxHQUFRaGxCLEVBQVMsSUFBSSxFQUFFL2xDLENBQUssSUFFNUIrbEMsRUFBVyxDQUFFLEVBQ2JBLEVBQVMsSUFBTSxLQUNmaWxCLEdBQWVockQsRUFBTyxFQUFJLEVBRTNCLEVBQ0QsY0FBZSxVQUFXLENBQ3pCLEdBQUkycUQsR0FBaUIsT0FBUyxFQUFHLENBRWhDLFFBRElzQyxFQUFXLENBQUUsRUFDVnRDLEdBQWlCLE9BQVMsR0FBRyxDQUNuQyxJQUFJdUMsR0FBVyxHQUNYLzVDLEdBQVV3M0MsR0FBaUIsTUFBTyxFQUFDLEtBQUssVUFBVyxDQUN0RHVDLEdBQVcsRUFDakIsQ0FBTSxFQUNJQSxJQUNKRCxFQUFTLEtBQUs5NUMsRUFBTyxDQUV0QixDQUNELEdBQUk4NUMsRUFBUyxPQUFTLEVBQ3JCLE9BQU8sUUFBUSxJQUFJQSxDQUFRLEVBQUUsS0FBSyxVQUFXLENBQzVDLE9BQU9GLEdBQVcsY0FBZSxDQUN2QyxDQUFNLENBRUYsQ0FDRCxPQUFJbnRELEdBQVdBLEVBQVEsV0FBYSxVQUM1QixPQUFPLEtBQUtzcUQsRUFBWSxjQUFhLEVBQUksU0FBUyxFQUVuREEsRUFBWSxjQUFlLENBQ2xDLEVBQ0QsTUFBT0EsRUFBWSxNQUNuQixVQUFXQSxFQUFZLFVBQ3ZCLE9BQVFBLEVBQVksT0FDcEIsaUJBQWtCUyxHQUNsQixXQUFZLFVBQVcsQ0FDdEIsTUFBTyxDQUNOLGNBQWVtQixHQUNmLFdBQVl4QixFQUNaLGVBQWdCVSxHQUNoQixZQUFhUCxFQUNiLENBQ0QsQ0FDRCxFQUNELE9BQU9zQyxFQUNQLENBQ0QsU0FBU0ksRUFBVW50RCxFQUFPSixFQUFTLENBQ2xDLElBQUltdEQsRUFBYWxELEVBQWlCanFELENBQU8sRUFDckNvdEQsRUFBaUJwdEQsR0FBV0EsRUFBUSxPQUNwQytpRCxFQUNBcUssR0FBa0JBLEVBQWUsWUFFcENBLEVBQWUsV0FBV3B0RCxFQUFRLGlCQUFrQkksQ0FBSyxFQUUxRCtzRCxFQUFXLFVBQVUvc0QsRUFBT2d0RCxDQUFjLEVBQzFDckssRUFBU29LLEVBQVcsY0FBZSxFQUMvQkMsR0FBa0JBLEVBQWUsVUFFcENBLEVBQWUsU0FBU3B0RCxFQUFRLGlCQUFrQkksQ0FBSyxFQUVwRCtzRCxFQUFXLFFBQ2RBLEVBQVcsT0FBUSxFQUNwQixJQUFJSyxFQUFZcHRELEdBQVNBLEVBQU00SCxFQUFRLGVBQWUsRUFLdEQsT0FKSXdsRCxJQUNIekssRUFBTyxVQUFZeUssR0FHaEJ4dEQsR0FBV0EsRUFBUSxLQUNmLE9BQU8sT0FBTyxDQUFDSSxFQUFNNEgsRUFBUSxlQUFlLEVBQUcrNkMsQ0FBTSxDQUFDLEVBRXZEQSxDQUNQLENBQ0QvNkMsRUFBQSxVQUFvQnVsRCxFQUNwQnZsRCxFQUFBLGlCQUEyQmlpRCxFQUMzQixTQUFTTyxHQUFxQixDQUM3QixJQUFJbHNDLEVBQWEsR0FDakIsU0FBU29zQyxFQUFXN2tELEVBQU02bEQsRUFBUSxDQUNqQyxJQUFJK0IsRUFDSixHQUFJL0IsRUFBUyxHQUNaK0IsRUFBa0IsT0FBTyxjQUFlNW5ELEdBQVEsRUFBSzZsRCxHQUFVLEVBQUksVUFDekRBLEVBQVMsS0FDbkIrQixFQUFrQixPQUFPLGNBQ3ZCNW5ELEdBQVEsSUFBTTZsRCxJQUFXLElBQ3pCQSxFQUFTLElBQVEsRUFBSSxVQUNiQSxFQUFTLE1BQ25CK0IsRUFBa0IsT0FBTyxjQUN2QjVuRCxHQUFRLElBQU02bEQsSUFBVyxJQUN6QkEsSUFBVyxFQUFLLElBQ2hCQSxFQUFTLElBQVEsRUFBSSxVQUNiQSxFQUFTLFFBQ25CK0IsRUFBa0IsT0FBTyxjQUN2QjVuRCxHQUFRLElBQU02bEQsSUFBVyxJQUN6QkEsSUFBVyxHQUFNLEdBQ2pCQSxJQUFXLEVBQUssSUFDaEJBLEVBQVMsSUFBUSxFQUFJLFVBQ2JBLEVBQVMsVUFDbkIrQixFQUFrQixPQUFPLGNBQ3ZCNW5ELEdBQVEsSUFBTTZsRCxJQUFXLElBQ3pCQSxJQUFXLEdBQU0sR0FDakJBLElBQVcsR0FBTSxHQUNqQkEsSUFBVyxFQUFLLElBQ2hCQSxFQUFTLElBQVEsRUFBSSxVQUNiQSxFQUFTLFdBQ25CK0IsRUFBa0IsT0FBTyxjQUN2QjVuRCxHQUFRLElBQU02bEQsSUFBVyxJQUN6QkEsSUFBVyxHQUFNLEdBQ2pCQSxJQUFXLEdBQU0sR0FDakJBLElBQVcsR0FBTSxHQUNqQkEsSUFBVyxFQUFLLElBQ2hCQSxFQUFTLElBQVEsRUFBSSxVQUNiQSxFQUFTLFlBQ25CK0IsRUFBa0IsT0FBTyxjQUN2QjVuRCxHQUFRLElBQU02bEQsRUFBUyxhQUFlLEdBQ3RDQSxJQUFXLEdBQU0sR0FDakJBLElBQVcsR0FBTSxHQUNqQkEsSUFBVyxHQUFNLEdBQ2pCQSxJQUFXLEVBQUssSUFDaEJBLEVBQVMsSUFBUSxFQUFJLFVBQ2JBLEVBQVMsY0FDbkIrQixFQUFrQixPQUFPLGNBQ3ZCNW5ELEdBQVEsSUFBTTZsRCxFQUFTLGNBQWlCLEdBQ3hDQSxFQUFTLFdBQWMsR0FDdkJBLElBQVcsR0FBTSxHQUNqQkEsSUFBVyxHQUFNLEdBQ2pCQSxJQUFXLEdBQU0sR0FDakJBLElBQVcsRUFBSyxJQUNoQkEsRUFBUyxJQUFRLEVBQUksVUFDYkEsRUFBUyxlQUNuQitCLEVBQWtCLE9BQU8sY0FDdkI1bkQsR0FBUSxJQUFNNmxELEVBQVMsZ0JBQWtCLEdBQ3pDQSxFQUFTLFlBQWdCLEdBQ3pCQSxFQUFTLFdBQWMsR0FDdkJBLElBQVcsR0FBTSxHQUNqQkEsSUFBVyxHQUFNLEdBQ2pCQSxJQUFXLEdBQU0sR0FDakJBLElBQVcsRUFBSyxJQUNoQkEsRUFBUyxJQUFRLEVBQUksTUFFdkIsT0FBTSxJQUFJLE1BQU0sbUJBQW1CLEVBRXBDcHRDLEdBQWNtdkMsQ0FDZCxDQUNELFNBQVNoRCxFQUFZMy9DLEVBQVEsQ0FDNUJ3VCxHQUFjeFQsQ0FDZCxDQUNELFNBQVM0aUQsR0FBZ0IsQ0FDeEIsT0FBT3B2QyxDQUNQLENBQ0QsTUFBTyxDQUNOLFdBQVlvc0MsRUFDWixZQUFhRCxFQUViLGNBQWVpRCxFQUdmLGNBQWUsVUFBVyxDQUN6QmhELEVBQVcxQixFQUFlWSxDQUFhLENBQ3ZDLEVBQ0QsWUFBYSxVQUFXLENBQ3ZCYyxFQUFXMUIsRUFBZWEsQ0FBWSxDQUN0QyxFQUNELFVBQVcsVUFBVyxDQUNyQixNQUFPLEVBQ1AsQ0FDRCxDQUNELENBQ0QsSUFBSThELEVBQVksTUFBTSxNQUFRLFNBQVM5MUMsRUFBVSsxQyxFQUFVLENBQzFELElBQUkxNUMsRUFBUSxDQUFFLEVBQ1YwNUMsRUFBVy8xQyxFQUFTLGNBQWdCLElBQ3hDLE9BQUFBLEVBQVMsUUFBUSxTQUFTblgsRUFBS04sRUFBTyxDQUNqQ3d0RCxFQUNIMTVDLEVBQU0sS0FBSyxDQUFDOVQsRUFBT00sQ0FBRyxDQUFDLEVBRXZCd1QsRUFBTSxLQUFLeFQsQ0FBRyxDQUVqQixDQUFFLEVBQ013VCxDQUNQLEVBRUQsU0FBU2kyQyxFQUFTcCtDLEVBQUssQ0FFdEIsUUFESThoRCxFQUFZRixFQUFVNWhELENBQUcsRUFDcEIzTixFQUFJLEVBQUdRLEVBQVNpdkQsRUFBVSxPQUFRenZELEVBQUlRLEVBQVFSLElBQUssQ0FDM0QsSUFBSXd2RCxFQUFXQyxFQUFVenZELENBQUMsRUFDMUJ5dkQsRUFBVXp2RCxDQUFDLEVBQUksQ0FDZCxJQUFLd3ZELEVBQVMsQ0FBQyxFQUNmLE1BQU9BLEVBQVMsQ0FBQyxDQUNqQixDQUNELENBQ0QsT0FBT0MsQ0FDUCxDQUNELFNBQVN6RCxFQUFTeGpELEVBQUssQ0FDdEIsT0FBTyttRCxFQUFVL21ELENBQUcsQ0FDcEIsQ0FDRCxTQUFTeWpELEVBQVV0SSxFQUFNLENBQ3hCLE9BQU9BLEVBQUssUUFBUyxDQUN0QixrQkN2eUJJbUgsR0FBUSxFQUNSQyxHQUFPLEVBSVBFLEdBQWUsRUFDZkMsR0FBYSxFQUNiQyxHQUFtQixFQUNuQkMsR0FBYyxFQUVkQyxHQUFnQixHQUVoQkMsR0FBdUIsR0FDdkJvRSxHQUFrQixHQUVsQm5FLEdBQWlCLElBRWpCQyxHQUFnQixHQUVoQkMsR0FBZSxHQUNmQyxHQUFxQixHQUt6QixTQUFTaUUsR0FBYS90RCxFQUFTLENBQ3pCQSxJQUNKQSxFQUFVLENBQUUsR0FDYixJQUFJNEosRUFDQW9rRCxFQUNBQyxFQUNBQyxFQUFjbHVELEVBQVEsYUFBZSxJQUFJLElBQzdDa3VELEVBQVksSUFBSSxNQUFPQyxFQUFPLEVBQzlCRCxFQUFZLElBQUksTUFBT0UsRUFBTyxFQUM5QkYsRUFBWSxJQUFJLE9BQVFHLEVBQVEsRUFDaEMsSUFBSUMsRUFDQUMsRUFFSixTQUFTQyxFQUFNM2dDLEVBQU80Z0MsRUFBVSxDQUkvQixHQUhBNWdDLEVBQU0sU0FBV3lnQyxFQUNqQnpnQyxFQUFNLE9BQVMsR0FDZnlnQyxFQUFjemdDLEVBQ1YsQ0FBQ29nQyxFQUNKLE1BQU0sSUFBSSxNQUFNLGdDQUFnQyxFQUVqRCxPQUFLUyxFQUFPLFdBQ1hBLEVBQU8sU0FBVyxTQUFTQyxFQUFZQyxFQUFpQkMsRUFBZSxDQUV0RSxJQUFJQyxFQUFjUixFQUNsQixPQUFBQSxFQUFjLEtBQ2RJLEVBQU8sU0FBVyxLQUdkRCxFQUFXVCxFQUFPLE9BQ3JCQSxFQUFTQSxFQUFPLE1BQU1TLENBQVEsRUFBSUUsRUFFOUJFLEVBQ0hiLEVBQVNXLEVBQVcsTUFBTSxFQUFHLENBQUMsRUFBSUEsRUFBVyxNQUFNLENBQUMsRUFFcERYLEVBQVNXLEVBRVhWLEVBQVlXLEVBQ1pHLEdBQWlCTixFQUNqQjdrRCxFQUFTLEVBQ0ZrbEQsRUFBWSxPQUFTQSxFQUFZLE9BQU9BLENBQVcsRUFBSUUsRUFBYUYsRUFBWSxPQUFRQSxDQUFXLENBQzFHLEdBQ0tqaEMsRUFBTSxNQUNiLENBRUQsU0FBU21oQyxFQUFhcHdELEVBQVEydEQsRUFBYyxDQU8zQyxJQUFJMEMsRUFBZ0IsRUFDcEIxQyxFQUFlQSxHQUFnQixDQUFFLEVBQ2pDLElBQUlwbUIsRUFBVThPLEVBQVMvTyxFQUFROWxDLEVBQU9oQyxFQUFJLEVBQUdxdUQsRUFBZ0IsRUFDN0QsR0FBSUYsRUFBYSxPQUFRLENBRXhCLEdBREFwbUIsRUFBV29tQixFQUFhLFNBQ3BCcG1CLEVBQVUsQ0FFYixJQUFJL2xDLEVBQVErbEMsRUFBUyxPQUFTQSxFQUFTLE9BQU9BLENBQVEsRUFBSTZvQixFQUFhN29CLEVBQVMsT0FBUUEsQ0FBUSxFQUM1RnRJLEVBQVNzSSxFQUFTLE9BQ2xCdEksSUFFQ3l3QixFQUVIQSxFQUFZLE9BQVN6d0IsRUFFakJ6OUIsRUFBTSxhQUFlLEdBRXhCeTlCLEVBQU9BLEVBQU8sY0FBYyxFQUFJejlCLEVBRWhDeTlCLEVBQU8sS0FBS3o5QixDQUFLLEVBSXBCLENBQ0dtc0QsRUFBYSxNQUFRQSxFQUFhLE9BQVNBLEVBQWEsYUFBYSxLQUN4RUEsRUFBYSxPQUFTLElBR3RCbnVELEVBQUltdUQsRUFBYSxHQUFLLEVBQ3RCcm1CLEVBQVNxbUIsRUFBYSxPQUN0QjBDLEVBQWdCMUMsRUFBYSxlQUFpQixFQUM5Q0UsRUFBZ0JGLEVBQWEsZUFBaUIsRUFDOUNBLEVBQWVBLEVBQWEsYUFFN0IsQ0FHRCxJQUZBdFgsRUFBVXNYLEVBQWEsT0FBU2pELEdBQ2hDcGpCLEVBQVNBLElBQVdxbUIsRUFBYSxXQUFhLElBQUlBLEVBQWEsV0FBZXRYLEVBQVUsQ0FBRSxFQUFHLElBQ3RGNzJDLEVBQUlRLEdBQVMsQ0FDbkIsSUFBSWlILEVBQU02bEQsRUFDTitDLEVBQVc3a0QsRUFDWG1ILEVBQVFpOUMsRUFBTyxXQUFXcGtELEdBQVEsRUFDdEMsR0FBSW1ILEdBQVMsR0FDUkEsRUFBUSxPQUNYbEwsRUFBUWtMLElBQVUsR0FBTSxFQUN4QjI2QyxFQUFTMzZDLEVBQVEsT0FFakJsTCxFQUFRa0wsSUFBVSxFQUFLLEVBQ3ZCMjZDLEVBQVMzNkMsRUFBUSxZQUdsQmxMLEVBQVFrTCxJQUFVLEVBQUssR0FDdkIyNkMsRUFBUzM2QyxFQUFRLEdBQ2pCQSxFQUFRaTlDLEVBQU8sV0FBV3BrRCxHQUFRLEVBQ2xDOGhELEdBQVVBLEdBQVUsSUFBTTM2QyxFQUFRLElBQzlCLEVBQUVBLEdBQVMsTUFDZEEsRUFBUWk5QyxFQUFPLFdBQVdwa0QsR0FBUSxFQUNsQzhoRCxHQUFVQSxHQUFVLElBQU0zNkMsRUFBUSxJQUM5QixFQUFFQSxHQUFTLE1BQ2RBLEVBQVFpOUMsRUFBTyxXQUFXcGtELEdBQVEsRUFDbEM4aEQsR0FBVUEsR0FBVSxJQUFNMzZDLEVBQVEsSUFDOUIsRUFBRUEsR0FBUyxNQUNkQSxFQUFRaTlDLEVBQU8sV0FBV3BrRCxHQUFRLEVBQ2xDOGhELEdBQVVBLEdBQVUsSUFBTTM2QyxFQUFRLElBQzlCLEVBQUVBLEdBQVMsTUFDZEEsRUFBUWk5QyxFQUFPLFdBQVdwa0QsR0FBUSxFQUNsQzhoRCxFQUFVQSxFQUFTLElBQVMzNkMsRUFBUSxJQUNoQyxFQUFFQSxHQUFTLE1BQ2RBLEVBQVFpOUMsRUFBTyxXQUFXcGtELEdBQVEsRUFDbEM4aEQsRUFBVUEsRUFBUyxJQUFTMzZDLEVBQVEsSUFDaEMsRUFBRUEsR0FBUyxNQUNkQSxFQUFRaTlDLEVBQU8sV0FBV3BrRCxHQUFRLEVBQ2xDOGhELEVBQVVBLEVBQVMsSUFBUzM2QyxFQUFRLElBQ2hDLEVBQUVBLEdBQVMsSUFDVm5ILEVBQVNva0QsRUFBTyxhQUNuQixPQUFPUSxFQUFNLENBQ1osT0FBUTV2RCxFQUNSLGFBQWMydEQsRUFDZCxFQUFHbnVELEVBQ0gsT0FBUThuQyxFQUNSLGNBQWV1bUIsRUFDZixjQUFld0MsQ0FDZixFQUFFUixDQUFRLEVBVXBCLEdBQUk1b0QsSUFBUyxFQUFHLENBQ2Y0bUQsRUFBZ0JmLEVBQ2hCdUQsRUFBZ0IsRUFDaEIsUUFDQSxDQUVELEdBREE5b0IsRUFBV29tQixFQUFhRSxDQUFhLEVBQ2pDNW1ELElBQVMsRUFFWixHQUFJNmxELEVBQVMsRUFFUkEsRUFBUyxFQUNSQSxJQUFXLEVBQ2R0ckQsRUFBUSxLQUVSQSxFQUFRLHdCQUEwQnlGLEVBQU8sWUFBYzZsRCxFQUdwREEsSUFBV3ZDLEdBQ2Qvb0QsRUFBUSxHQUNFc3JELElBQVd4QyxHQUNyQjlvRCxFQUFRLEdBRVJBLEVBQVEsV0FHSixDQUNOLEdBQUlzckQsR0FBVWxDLEdBQWEsQ0FRMUIsR0FOSXlGLElBQWtCLElBRXJCeEMsSUFDQXJ1RCxJQUNBK25DLEVBQVdvbUIsRUFBYUUsQ0FBYSxHQUVsQ0EsRUFBZ0JGLEVBQWEsUUFDaEMsTUFBTSxJQUFJLE1BQU0sNkJBQTZCLEVBRTFDcG1CLEVBQ0VBLEVBQVMsU0FDYi9sQyxFQUFRK2xDLEVBQVMsSUFDakJBLEVBQVdvbUIsRUFBYUUsQ0FBYSxFQUFJLENBQUUsRUFDM0N0bUIsRUFBUyxJQUFNL2xDLElBR2hCK2xDLEVBQVdvbUIsRUFBYUUsQ0FBYSxFQUFJLENBQUUsRUFDM0N0bUIsRUFBUyxJQUFNLE1BRWhCQSxFQUFTLEtBQU91bEIsRUFDaEJ2bEIsRUFBUyxPQUFTb21CLEVBRWxCMEMsRUFBZ0IsRUFDWnZELElBQVduQyxHQUNkcGpCLEVBQVMsT0FBUyxDQUFFLEVBQ1Z1bEIsSUFBV3BDLEtBQ3JCbmpCLEVBQVMsQ0FBQyxFQUFJLENBQUUsRUFDaEJBLEVBQVMsQ0FBQyxFQUFFLElBQU0sS0FDbEJBLEVBQVMsQ0FBQyxFQUFFLEtBQU9rakIsR0FDbkJsakIsRUFBUyxDQUFDLEVBQUUsT0FBU0EsRUFFNUIsTUFFTThvQixFQUFnQnZELEVBRWpCLFFBQ0EsU0FFRzdsRCxJQUFTLEVBQW1CLENBRS9CLEdBREF6RixFQUFRNHRELEVBQU8sTUFBTXBrRCxFQUFRQSxHQUFVOGhELENBQU0sRUFDekM5aEQsRUFBU29rRCxFQUFPLE9BQ25CLE9BQU9RLEVBQU0sQ0FDWixPQUFRNXZELEVBQ1IsYUFBYzJ0RCxFQUNkLEVBQUdudUQsRUFDSCxPQUFROG5DLEVBQ1IsY0FBZXVtQixFQUNmLGNBQWV3QyxDQUNmLEVBQUVSLENBQVEsRUFFUlEsRUFBZ0IsR0FDZjlvQixFQUFTLE9BQVNxakIsS0FDckJwcEQsRUFBUSxDQUFDQSxFQUdoQixTQUFleUYsSUFBUyxFQUNuQnpGLEVBQVFzckQsVUFFSkEsRUFBUyxHQUFJLENBQ2hCLEdBQUlBLElBQVc3QixHQUNkLE9BQU8zakIsRUFDQ3dsQixJQUFXNUIsS0FDbkIxcEQsRUFBUTR1RCxFQUFhLEVBQUc3b0IsQ0FBUSxFQUNoQzhvQixFQUFnQixFQUNaanZELEVBQVEsWUFDWEksRUFBUUosRUFBUSxZQUFZSSxFQUFPK2xDLENBQVEsR0FFMUNvb0IsSUFBa0JBLEVBQWdCLENBQUUsSUFBRyxLQUFLLENBQzVDLFNBQVVwb0IsRUFDVixNQUFPL2xDLENBQ2hCLENBQVMsRUFHVCxTQUNVc3JELEdBQVU5QixLQUNiOEIsRUFBUyxLQUVOdUQsRUFBZ0IsRUFDZkEsSUFBa0IsR0FDckJBLEVBQWdCLEVBQ2hCN3VELEVBQVE0dUQsRUFBYXRELEVBQVF2bEIsQ0FBUSxHQUMzQjhvQixJQUFrQnhGLEdBQzVCcnBELEVBQVE0dUQsRUFBYXRELEVBQVEsQ0FBQyxDQUFFLElBQUssS0FBTSxLQUFNLENBQUMsQ0FBRSxDQUFDLEVBQzdDdmxCLEVBQVMsU0FBV0EsRUFBUyxNQUFRa2pCLE1BQWtCbGpCLEVBQVMsYUFBYSxLQUNyRi9sQyxFQUFRNHVELEVBQWF0RCxFQUFRdmxCLEVBQVMsWUFBWSxFQUVsRC9sQyxFQUFRNHVELEVBQWF0RCxFQUFRdmxCLENBQVEsRUFFdEMvbEMsRUFBUTR1RCxFQUFhdEQsRUFBUXZsQixDQUFRLEVBQ2xDbW9CLEVBQWEsQ0FDaEIsR0FBSWx1RCxJQUFVLE9BQ2IsT0FBQWt1RCxFQUFjLEtBQ2RJLEVBQU8sU0FBVyxLQUNYRixFQUFNLENBQ1osT0FBUTV2RCxFQUNSLGFBQWMydEQsRUFDZCxFQUFHbnVELEVBQ0gsT0FBUThuQyxFQUNSLFNBQVVDLEVBQ1YsY0FBZXNtQixFQUNmLGlCQUNBLGNBQWV3QyxDQUNmLEVBQUVSLENBQVEsRUFHWEgsRUFBWSxPQUFTbm9CLEVBQVMsa0JBQWtCLE1BQVFBLEVBQVMsT0FBUyxNQUUzRSxDQU1KLEdBQUksQ0FBQ0EsRUFDSixNQUFNLElBQUksTUFBTSxnQ0FBa0NvbUIsRUFBYSxJQUFNLE9BQVNBLEVBQWEsSUFBTSxHQUFHLEVBRXJHLEdBQUkwQyxFQUFnQixHQUFLOW9CLEdBQVlBLEVBQVMsT0FBU29qQixHQUFzQyxDQUM1RixJQUFJMXJCLEVBQVNzSSxFQUFTLE9BQ3RCLEdBQUksT0FBTy9sQyxHQUFVLFVBRXBCLEdBREFBLEVBQVF5OUIsRUFBTzZ0QixDQUFNLEVBQ2pCdHJELElBQVUsUUFBYSxFQUFHc3JELEtBQVc3dEIsR0FDeEMsTUFBTSxJQUFJLE1BQU0sOENBQThDLE9BRXBEaDRCLElBQVMsR0FBS0EsSUFBUyxJQUFNZzRCLElBQ3BDQSxFQUFPLGFBQWUsSUFFckJzSSxFQUFTLHNCQUNaQSxFQUFTLHFCQUFxQnRJLENBQU0sRUFFckNBLEVBQU9BLEVBQU8sY0FBYyxFQUFJejlCLEdBRWhDeTlCLEVBQU8sS0FBS3o5QixDQUFLLEVBR25CLENBRUQsR0FBSTZ1RCxFQUFnQixFQUFHLENBRXRCLEdBQUlBLElBQWtCLEVBQ3JCOW9CLEVBQVMsSUFBTS9sQyxVQUNMNnVELElBQWtCeEYsR0FDNUIsR0FBSSxPQUFPcnBELEdBQVUsU0FBVSxDQUM5QixJQUFJNHJELEVBQWVrQyxFQUFZLElBQUk5dEQsQ0FBSyxFQUN4QyxHQUFJNHJELEVBQ0NBLEVBQWEsVUFDaEI3bEIsRUFBUyxVQUFZNmxCLEVBQWEsVUFFbEM3bEIsRUFBUyxXQUFhNmxCLFVBRWJoc0QsRUFBUSxvQkFDbEIsTUFBTSxJQUFJLE1BQU0sMkNBQTZDLFNBQVMsRUFJdkVtbUMsRUFBUyxhQUFlNmxCLENBQzlCLE1BRU03bEIsRUFBUyxTQUFXL2xDLEVBQ2hCQSxJQUFVdXBELEtBQ2J4akIsRUFBUyxVQUFZK29CLFdBRWJELElBQWtCdkYsR0FBc0IsQ0FDbEQsSUFBSTdyQixFQUFTc0ksRUFBUyxTQUFXQSxFQUFTLE9BQVMsQ0FBQSxHQUVuRHRJLEVBQU8sYUFBZXo5QixDQUMzQixTQUFlNnVELElBQWtCbkIsR0FHNUIsTUFBTSxJQUFJLE1BQU0seUJBQTJCbUIsQ0FBYSxFQUV6REEsRUFBZ0IsRUFDaEIsUUFDSixNQUNJQSxFQUFnQixFQUViOW9CLEVBQVMsWUFDWi9sQyxFQUFRK2xDLEVBQVMsVUFBVS9sQyxDQUFLLEdBRTdCNjBDLEdBQVc5TyxFQUFTLE1BQVEsS0FDL0JELEVBQU8sS0FBSzlsQyxDQUFLLEVBQ1BBLElBQVUsU0FDcEI4bEMsRUFBT0MsRUFBUyxHQUFHLEVBQUkvbEMsR0FFeEJoQyxJQUNLNjJDLEdBQ0p3WCxHQUNELENBQ0QsT0FBT3ZtQixDQUNQLENBS0QsSUFBSWlwQixFQUNKLFNBQVNELEVBQVF0bkQsRUFBTyxDQUN2QixJQUFJaTRCLEVBQUksT0FBTzBxQixHQUFVLElBQWNBLEdBQVMsT0FLaEQsR0FKSTNpRCxHQUFTQSxFQUFNLE1BQVFpNEIsRUFBRWo0QixFQUFNLElBQUksRUFDdENBLEVBQVEsSUFBSWk0QixFQUFFajRCLEVBQU0sSUFBSSxFQUFFQSxFQUFNLE9BQU8sRUFDL0IsT0FBT0EsR0FBUyxXQUN4QkEsRUFBUSxJQUFJLE1BQU1BLENBQUssR0FDcEI1SCxFQUFRLFFBQ1hBLEVBQVEsUUFBUTRILENBQUssTUFFckIsT0FBQXVuRCxFQUFrQixHQUNadm5ELENBRVAsQ0FFRCxJQUFJbW5ELEVBQWdCLEVBQ3BCLFNBQVN2aEQsRUFBSzI0QixFQUFVLENBQ3ZCLEdBQUksQ0FDSCxHQUFJQSxHQUFZQSxFQUFTLE9BQVEsQ0FDaEMsSUFBSWlwQixFQUFXanBCLEVBQVMsU0FDeEIvbEMsRUFBUTR1RCxFQUFhSSxFQUFTLE9BQVFBLENBQVEsRUFFOUNodkQsRUFBUStsQyxFQUFTLFFBQVUvbEMsRUFDM0IrbEMsRUFBV0EsRUFBUyxRQUN4QixLQUFVLENBQ05BLEVBQVdBLEdBQVksQ0FBQ25tQyxHQUFXQSxFQUFRLFFBQVUsQ0FDcEQsSUFBSyxLQUNMLEtBQU0sQ0FDWCxDQUFLLEVBQ0QsSUFBSUksRUFBUTR1RCxFQUFhLEVBQUc3b0IsQ0FBUSxFQUFFQSxFQUFTLENBQUMsRUFBRSxHQUFHLENBQ3JELENBQ0QsT0FBYSxDQUNaLEdBQUltb0IsRUFDSCxPQUFPRSxFQUFNLENBQ1osT0FBUWhoRCxFQUNSLE9BQVFwTixFQUNSLFNBQVUrbEMsQ0FDaEIsQ0FBTSxFQUVGLEdBQUksQ0FBQ29vQixFQUNKLE9BQU9udUQsRUFFUixJQUFJMEYsRUFBUXlvRCxFQUFjLE9BQVMsRUFDL0JjLEVBQWVkLEVBQWN6b0QsQ0FBSyxFQUV0QyxHQURBeW9ELEVBQWMsTUFBUXpvRCxFQUFRLEVBQzFCLENBQUN1cEQsRUFBYyxDQUNsQmQsRUFBZ0JBLEVBQWMsT0FDOUIsUUFDQSxDQUNELElBQUl0dkQsRUFBU293RCxFQUFhLE1BQ3RCQyxFQUFzQmYsRUFDMUJBLEVBQWdCLENBQUUsRUFDbEJBLEVBQWMsT0FBU2UsRUFDdkIsSUFBSUMsRUFBaUJGLEVBQWEsU0FDOUJ0d0QsRUFBU2l3RCxFQUFhLEVBQUc3b0IsRUFBVyxDQUFDLENBQ3hDLE9BQVEsR0FDUixJQUFLLEtBQ0wsYUFBY29wQixFQUNkLE9BQVF0d0QsQ0FDYixDQUFLLENBQUMsRUFDRkYsRUFBU0EsRUFBTyxNQUFRQSxFQUFPd3dELEVBQWUsR0FBRyxFQUM3Q3h3RCxHQUFVRSxJQUViLE9BQU8sT0FBT0EsRUFBUUYsQ0FBTSxFQUN4QnV2RCxHQUFlQSxFQUFZLFNBQVd2dkQsSUFDekN1dkQsRUFBWSxPQUFTcnZELEdBRWxCRixHQUFVQSxFQUFPLGNBQWdCLFFBQ3BDRSxFQUFPLE9BQVNGLEVBQU8sT0FDdkIsT0FBTyxlQUFlRSxFQUFRLE9BQU8sZUFBZUYsQ0FBTSxDQUFDLEdBRzdELENBQ0QsT0FBTzZJLEVBQU8sQ0FDZCxNQUFLdW5ELElBQ0p2bkQsRUFBTSxRQUFVLHdCQUEwQkEsRUFBTSxRQUFVLGtCQUFvQmdDLEVBQVNtbEQsR0FBaUIsVUFBWWYsRUFBTyxNQUFNcGtELEVBQVMsR0FBSUEsRUFBUyxFQUFFLEdBQ3BKaEMsQ0FDTixDQUNELENBRUQsSUFBSThtRCxFQUFTLENBQ1osVUFBVyxTQUFTNWpELEVBQVEwa0QsRUFBYVosRUFBaUIsQ0FDekQsT0FBQVosRUFBU2xqRCxFQUNUbEIsRUFBUzRsRCxHQUFlLEVBQ3hCVCxFQUFnQixFQUNoQmQsRUFBWVcsRUFDTCxJQUNQLEVBQ0QsWUFBYSxVQUFXLENBQ3ZCLE9BQU9aLEVBQU8sT0FBU3BrRCxDQUN2QixFQUNELFNBQVUsVUFBVyxDQUNwQixPQUFPMGtELENBQ1AsRUFDRCx5QkFBMEIsVUFBVyxDQUNwQyxPQUFPQyxHQUFpQkEsRUFBYyxPQUFTQSxFQUFjLEtBQzdELEVBQ0QsVUFBVyxVQUFXLENBQ3JCLE9BQU8za0QsRUFBU21sRCxDQUNoQixFQUNELEtBQU12aEQsQ0FDTixFQUNELE9BQU9raEQsQ0FDUixDQUNBZSxHQUFBLE1BQWdCLFNBQVNDLEVBQWdCMXZELEVBQVMsQ0FDakQsSUFBSWd1RCxFQUNKLEdBQUksT0FBTzBCLEdBQW1CLFNBQzdCMUIsRUFBUzBCLFVBQ0NBLEdBQWtCQSxFQUFlLFNBQzNDMUIsRUFBUzBCLEVBQWUsU0FBUzF2RCxHQUFXQSxFQUFRLFVBQVksTUFBTSxNQUV0RSxRQUFPMHZELEVBRVIsSUFBSWhCLEVBQVNYLEdBQWEvdEQsQ0FBTyxFQUFFLFVBQVVndUQsQ0FBTSxFQUNuRCxPQUFJaHVELEdBQVdBLEVBQVEsT0FDZjB1RCxFQUFPLEtBQUssQ0FBQzF1RCxFQUFRLE1BQU0sQ0FBQyxFQUM3QjB1RCxFQUFPLEtBQU0sQ0FDckIsRUFDQWUsR0FBQSxhQUF1QjFCLEdBRXZCLElBQUlJLEdBQVUsQ0FDYixVQUFXLFNBQVN3QixFQUFTLENBRTVCLFFBREk1akQsRUFBTSxJQUFJLElBQ0wzTixFQUFJLEVBQUd5VSxFQUFJODhDLEVBQVEsT0FBUXZ4RCxFQUFJeVUsRUFBR3pVLElBQUssQ0FDL0MsSUFBSW92QixFQUFRbWlDLEVBQVF2eEQsQ0FBQyxFQUNyQjJOLEVBQUksSUFBSXloQixFQUFNLElBQUtBLEVBQU0sS0FBSyxDQUM5QixDQUNELE9BQU96aEIsQ0FDUCxDQUNGLEVBQ0lxaUQsR0FBVSxDQUNiLFVBQVcsU0FBU3Z3QixFQUFRLENBQzNCLElBQUlqM0IsRUFBTSxJQUFJLElBQUlpM0IsQ0FBTSxFQUN4QixHQUFJajNCLEVBQUksT0FBUyxHQUFLaTNCLEVBQU8sT0FBUyxFQUNyQyxRQUFTei9CLEVBQUksRUFBR3lVLEVBQUlnckIsRUFBTyxPQUFRei9CLEVBQUl5VSxFQUFHelUsSUFDekN3SSxFQUFJLElBQUlpM0IsRUFBT3ovQixDQUFDLENBQUMsRUFHbkIsT0FBT3dJLENBQ1AsQ0FDRixFQUNJeW5ELEdBQVcsQ0FDZCxVQUFXLFNBQVN1QixFQUFNLENBQ3pCLE9BQU8sSUFBSSxLQUFLQSxDQUFJLENBQ3BCLENBQ0YsRUNoaUJnQjduRCxHQUFrQixvQkNEOUI4bkQsR0FBNEIsTUFDNUJDLEdBQW1CLENBQUUsRUFDekIsU0FBU0MsR0FBZ0IvdkQsRUFBUyxDQUNqQyxJQUFJNEosRUFBUzVKLEVBQVEsYUFBZSxFQUNoQ2d3RCxFQUNBQyxFQUFTandELEVBQVEsT0FDakIraUQsRUFBUytNLEdBQWlCLElBQUssRUFDL0IvTSxHQUFVQSxFQUFPLE9BQVNuNUMsRUFBUyxJQUV0Q29tRCxFQUFhak4sRUFBTyxRQUVwQmlOLEdBQWNwbUQsR0FBVSxJQUFNLElBQU0sS0FDcENtNUMsRUFBUyxPQUFPLGdCQUFnQmlOLENBQVUsR0FFM0MsSUFBSW4xQixFQUFXNzZCLEVBQVEsU0FDbkJrd0QsRUFBWSxDQUFFLEVBQ2xCLFNBQVNDLEVBQVNDLEVBQWEsQ0FDOUIsR0FBSUgsRUFDSEEsRUFBTyxXQUFXbE4sRUFBTyxNQUFNLEVBQUduNUMsQ0FBTSxDQUFDLEdBQ3JDb21ELEVBQWFILElBQTZCTyxFQUFjUCxNQUMzREcsRUFBYSxLQUFLLElBQUlBLEVBQWEsRUFBR0ksQ0FBVyxHQUVsRHJOLEVBQVMsT0FBTyxnQkFBZ0JpTixDQUFVLEVBQzFDcG1ELEVBQVMsRUFDVHNtRCxFQUFZLENBQUUsRUFDZDFMLEVBQVEsV0FBYSxPQUNmLENBQ053TCxFQUFhLEtBQUssSUFBSUEsRUFBYSxFQUFHQSxFQUFhSSxFQUFhLElBQU0sRUFDdEUsSUFBSUMsRUFBWXROLEVBQ2hCQSxFQUFTLE9BQU8sZ0JBQWdCaU4sQ0FBVSxFQUMxQ0ssRUFBVSxLQUFLdE4sRUFBUSxFQUFHLEVBQUduNUMsQ0FBTSxDQUNuQyxDQUNELENBQ0QsU0FBU3ZJLEVBQU1pdkQsRUFBaUIsRUFDOUJBLEdBQW1CTCxHQUFRLFdBQVdsTixFQUFPLE1BQU0sRUFBR241QyxDQUFNLENBQUMsRUFDMURBLEVBQVMsSUFBT201QyxFQUFPLE9BQzFCQSxFQUFTLE9BQU8sZ0JBQWdCaU4sRUFBYSxLQUFLLElBQUksS0FBSyxLQUFLcG1ELEdBQVUsSUFBTSxJQUFNLEtBQVFvbUQsQ0FBVSxFQUFHLEtBQU0sQ0FBQyxHQUVsSGpOLEVBQVNBLEVBQU8sTUFBTW41QyxDQUFNLEVBQzVCb21ELEVBQWFqTixFQUFPLFFBRXJCbjVDLEVBQVMsRUFDVHNtRCxFQUFZLENBQUUsQ0FDZCxDQUNELFNBQVN4RixFQUFXN2tELEVBQU02bEQsRUFBUSxDQUNqQyxHQUFJQSxFQUFTLEdBQ1ozSSxFQUFPbjVDLEdBQVEsR0FBTS9ELEdBQVEsR0FBSzZsRCxFQUFVLFdBQ2xDQSxFQUFTLEtBQ25CM0ksRUFBT241QyxHQUFRLEdBQUsvRCxHQUFRLElBQU02bEQsSUFBVyxHQUM3QzNJLEVBQU9uNUMsR0FBUSxHQUFLOGhELEVBQVMsSUFBUSxXQUMzQkEsRUFBUyxNQUNuQjNJLEVBQU9uNUMsR0FBUSxHQUFLL0QsR0FBUSxJQUFNNmxELElBQVcsSUFDN0MzSSxFQUFPbjVDLEdBQVEsRUFBSzhoRCxJQUFXLEVBQUssR0FDcEMzSSxFQUFPbjVDLEdBQVEsR0FBSzhoRCxFQUFTLElBQVEsV0FDM0JBLEVBQVMsUUFDbkIzSSxFQUFPbjVDLEdBQVEsR0FBSy9ELEdBQVEsSUFBTTZsRCxJQUFXLElBQzdDM0ksRUFBT241QyxHQUFRLEVBQUs4aEQsSUFBVyxHQUFNLEdBQ3JDM0ksRUFBT241QyxHQUFRLEVBQUs4aEQsSUFBVyxFQUFLLEdBQ3BDM0ksRUFBT241QyxHQUFRLEdBQUs4aEQsRUFBUyxJQUFRLFdBQzNCQSxFQUFTLFVBQ25CM0ksRUFBT241QyxHQUFRLEdBQUsvRCxHQUFRLElBQU02bEQsSUFBVyxJQUM3QzNJLEVBQU9uNUMsR0FBUSxFQUFLOGhELElBQVcsR0FBTSxHQUNyQzNJLEVBQU9uNUMsR0FBUSxFQUFLOGhELElBQVcsR0FBTSxHQUNyQzNJLEVBQU9uNUMsR0FBUSxFQUFLOGhELElBQVcsRUFBSyxHQUNwQzNJLEVBQU9uNUMsR0FBUSxHQUFLOGhELEVBQVMsSUFBUSxXQUMzQkEsRUFBUyxXQUNuQjNJLEVBQU9uNUMsR0FBUSxHQUFLL0QsR0FBUSxJQUFNNmxELElBQVcsSUFDN0MzSSxFQUFPbjVDLEdBQVEsRUFBSzhoRCxJQUFXLEdBQU0sR0FDckMzSSxFQUFPbjVDLEdBQVEsRUFBSzhoRCxJQUFXLEdBQU0sR0FDckMzSSxFQUFPbjVDLEdBQVEsRUFBSzhoRCxJQUFXLEdBQU0sR0FDckMzSSxFQUFPbjVDLEdBQVEsRUFBSzhoRCxJQUFXLEVBQUssR0FDcEMzSSxFQUFPbjVDLEdBQVEsR0FBSzhoRCxFQUFTLElBQVEsV0FDM0JBLEVBQVMsWUFDbkIzSSxFQUFPbjVDLEdBQVEsR0FBSy9ELEdBQVEsSUFBTTZsRCxFQUFTLGFBQWUsR0FDMUQzSSxFQUFPbjVDLEdBQVEsRUFBSzhoRCxJQUFXLEdBQU0sR0FDckMzSSxFQUFPbjVDLEdBQVEsRUFBSzhoRCxJQUFXLEdBQU0sR0FDckMzSSxFQUFPbjVDLEdBQVEsRUFBSzhoRCxJQUFXLEdBQU0sR0FDckMzSSxFQUFPbjVDLEdBQVEsRUFBSzhoRCxJQUFXLEVBQUssR0FDcEMzSSxFQUFPbjVDLEdBQVEsR0FBSzhoRCxFQUFTLElBQVEsV0FDM0JBLEVBQVMsY0FDbkIzSSxFQUFPbjVDLEdBQVEsR0FBSy9ELEdBQVEsSUFBTTZsRCxFQUFTLGNBQWlCLEdBQzVEM0ksRUFBT241QyxHQUFRLEVBQUs4aEQsRUFBUyxXQUFjLEdBQzNDM0ksRUFBT241QyxHQUFRLEVBQUs4aEQsSUFBVyxHQUFNLEdBQ3JDM0ksRUFBT241QyxHQUFRLEVBQUs4aEQsSUFBVyxHQUFNLEdBQ3JDM0ksRUFBT241QyxHQUFRLEVBQUs4aEQsSUFBVyxHQUFNLEdBQ3JDM0ksRUFBT241QyxHQUFRLEVBQUs4aEQsSUFBVyxFQUFLLEdBQ3BDM0ksRUFBT241QyxHQUFRLEdBQUs4aEQsRUFBUyxJQUFRLFdBQzNCQSxFQUFTLGVBQ25CM0ksRUFBT241QyxHQUFRLEdBQUsvRCxHQUFRLElBQU02bEQsRUFBUyxnQkFBa0IsR0FDN0QzSSxFQUFPbjVDLEdBQVEsRUFBSzhoRCxFQUFTLFlBQWdCLEdBQzdDM0ksRUFBT241QyxHQUFRLEVBQUs4aEQsRUFBUyxXQUFjLEdBQzNDM0ksRUFBT241QyxHQUFRLEVBQUs4aEQsSUFBVyxHQUFNLEdBQ3JDM0ksRUFBT241QyxHQUFRLEVBQUs4aEQsSUFBVyxHQUFNLEdBQ3JDM0ksRUFBT241QyxHQUFRLEVBQUs4aEQsSUFBVyxHQUFNLEdBQ3JDM0ksRUFBT241QyxHQUFRLEVBQUs4aEQsSUFBVyxFQUFLLEdBQ3BDM0ksRUFBT241QyxHQUFRLEdBQUs4aEQsRUFBUyxJQUFRLE9BRXJDLE9BQU0sSUFBSSxNQUFNLGtCQUFvQkEsQ0FBTSxFQUV2QzloRCxFQUFTb21ELEVBQWEsSUFDekJHLEVBQVMsQ0FBQyxDQUVYLENBRUQsU0FBU3RGLEVBQVltRCxFQUFRLENBQzVCLElBQUl1QyxFQUFldkMsRUFBTyxPQUN0QnVDLEVBQWUzbUQsRUFBUyxHQUFLb21ELEdBQ2hDRyxFQUFTSSxFQUFlLEVBQUUsRUFFM0J2QyxFQUFPLEtBQUtqTCxFQUFRbjVDLENBQU0sRUFDMUJBLEdBQVUybUQsQ0FDVixDQUVELFNBQVM5RixFQUFZMy9DLEVBQVEsQ0FDNUIsSUFBSWxNLEVBQVNrTSxFQUFPLE9BQ2hCMGxELEVBQWtCNXhELEVBQVMsRUFBSSxHQUMvQmdMLEVBQVM0bUQsRUFBa0JSLEdBQzlCRyxFQUFTSyxFQUFrQixFQUFFLEVBRTlCLElBQUlDLEVBQWU1MUIsRUFBV2tvQixFQUFPLE1BQU1qNEMsRUFBUWxCLEVBQVFtNUMsRUFBTyxPQUFRbG9CLENBQVEsRUFDakZrb0IsRUFBTyxVQUFVajRDLEVBQVFsQixFQUFRbTVDLEVBQU8sTUFBTSxFQUMvQ241QyxHQUFVNm1ELENBQ1YsQ0FDRCxTQUFTL0MsR0FBZ0IsQ0FDeEIsT0FBTzNLLEVBQU8sTUFBTSxFQUFHbjVDLENBQU0sQ0FDN0IsQ0FDRCxTQUFTOG1ELEVBQWFDLEVBQWNsckIsRUFBVSxDQUM3QyxJQUFJbXJCLEVBQWVELEVBQWEsT0FDNUIvbUQsRUFBU2duRCxFQUFlLEdBQUtaLEdBQ2hDRyxFQUFTUyxFQUFlLEVBQUUsRUFFM0I3TixFQUFPLEtBQUtBLEVBQVE2TixFQUFlbnJCLEVBQVVBLEVBQVU3N0IsQ0FBTSxFQUM3RCttRCxFQUFhLEtBQUs1TixFQUFRdGQsQ0FBUSxFQUNsQzc3QixHQUFVZ25ELENBQ1YsQ0FFRCxJQUFJcE0sRUFBVSxDQUNiLFdBQUFrRyxFQUNBLFlBQUFELEVBQ0EsWUFBQUksRUFDQSxjQUFBNkMsRUFDQSxhQUFBZ0QsRUFDQSxNQUFBcnZELEVBQ0EsZUFBZ0IsQ0FDZixJQUFJd3ZELEVBQWdCam5ELEVBQ3BCbTVDLEVBQU9uNUMsR0FBUSxFQUFJLEdBQ25Cc21ELEVBQVUsS0FBS1csQ0FBYSxFQUN4QmpuRCxFQUFTb21ELEVBQWEsSUFDekJHLEVBQVMsQ0FBQyxDQUVYLEVBQ0QsWUFBWXZ4RCxFQUFRLENBQ25CLElBQUk0d0QsRUFBY1UsRUFBVSxJQUFLLEVBQ2pDLEdBQUl0eEQsRUFBUyxJQUFNNHdELEVBQWMsR0FBSSxDQUNwQ3pNLEVBQU95TSxDQUFXLEVBQUksR0FBSzV3RCxFQUMzQixNQUNBLENBQ0Rta0QsRUFBT241QyxHQUFRLEVBQUksRUFDbkIsRUFDRCxRQUFTLENBQ0ptNUMsRUFBTyxPQUFTbjVDLEVBQVMsS0FDNUJrbUQsR0FBaUIsS0FBSy9NLEVBQU8sTUFBTW41QyxDQUFNLENBQUMsQ0FDM0MsRUFDRCxXQUFZLENBQ1gsT0FBT0EsQ0FDUCxFQUNELFVBQVVrbkQsRUFBVyxDQUNwQmxuRCxFQUFTa25ELENBQ1QsQ0FDRCxFQXdCRCxPQUFPdE0sQ0FDUixDQUNBdU0sR0FBQSxnQkFBMEJoQixHQ2xNMUIsU0FBU2lCLElBQVUsQ0FDQSxLQUFLLFlBQWMsSUFBSSxJQUN6QyxLQUFLLHVCQUF5QixJQUFJLEdBR25DLENBQ0FBLEdBQVEsVUFBVSxhQUFlLFNBQVNDLEVBQU8xeEQsRUFBTVMsRUFBUyxDQUMzRFQsR0FBUTB4RCxFQUFNLE9BQVMxeEQsSUFDMUIweEQsRUFBTSxLQUFPMXhELEdBRWQsS0FBSyxZQUFZLElBQUkweEQsRUFBTSxLQUFPanhELEdBQVdBLEVBQVEsVUFBYUEsRUFBVWl4RCxDQUFLLEVBQ2pGLEtBQUssdUJBQXVCLElBQUlBLEVBQVFqeEQsR0FBV0EsRUFBUSxRQUFXQSxFQUFVaXhELENBQUssQ0FDdEYsRUNieUJscEQsR0FBdUIsaUJBQzlCQSxHQUF1QixVQ0N6QyxJQUFJbXBELEdBQWEsT0FBTyxPQUFXLElBQWMsT0FBUyxTQUFTM3hELEVBQU0sQ0FDeEUsTUFBTyxVQUFZQSxDQUNwQixFQWVJeXJELEdBQWVrRyxHQUFXLFFBQVEsRUFDbENDLEdBQWtCRCxHQUFXLFdBQVcsRUFJeENqRyxHQUFlaUcsR0FBVyxRQUFRLEVBQ2hCLFFBQVEsSUFBSSxVQUFZLGFBZTlDLElBQUlFLEdBQWtCcnBELEdBR0NxcEQsR0FBZ0IsYUFBZXBHLEdBRy9Cb0csR0FBZ0IsYUFBZW5HLEdBQzVCbUcsR0FBZ0IsZ0JBQWtCRCxHQUM1Q0MsR0FBZ0IsVUFDVEEsR0FBZ0IsaUJDM0N2QyxNQUFNN0QsR0FBWXg0QyxHQUNsQnc0QyxHQUFVLGdCQUFrQjhELEdBQThCLGdCQUMxRCxNQUFNNUIsR0FBUTZCLEdBR2QsSUFBaUJDLEdBQUdoRSxHQUFVLFVBQ2pCaUUsR0FBRy9CLEdBQU0sTUFDS2xDLEdBQVUsaUJDVjlCLFNBQVNrRSxHQUFtQkMsRUFBUSxDQUN2QyxNQUFPLHFDQUFxQ0EsQ0FBTSxFQUN0RCxDQ0xPLFNBQVNDLElBQWdCLENBQ0osT0FBSSxPQUFPLFFBQVksS0FBZSxRQUFRLFdBQWEsT0FDeEUsT0FFQSxPQUFPLEtBQVMsSUFDaEIsT0FFQSxPQUFPLElBQVEsSUFDZixNQUNBLE9BQU8sT0FBVyxJQUNsQixVQUVKLFNBQ1gsQ0NQQSxNQUFNQyxHQUFhLENBQ2YsRUFBRyxFQUNILEVBQUcsRUFDSCxFQUFHLEVBQ0gsRUFBRyxFQUNILEVBQUcsRUFDSCxFQUFHLEVBQ0gsRUFBRyxFQUNILEVBQUcsRUFDSCxFQUFHLEVBQ0gsRUFBRyxFQUNILEVBQUcsR0FDSCxFQUFHLEdBQ0gsRUFBRyxHQUNILEVBQUcsR0FDSCxFQUFHLEdBQ0gsRUFBRyxFQUNQLEVBQ01DLEdBQVcsT0FBTyxLQUFLRCxFQUFVLEVBQ2YsU0FBU0UsR0FBZ0JsakQsRUFBSyxDQUNsRCxNQUFNK2IsRUFBUSxJQUFJLFdBQVcsS0FBSyxNQUFNL2IsRUFBSSxPQUFTLENBQUMsQ0FBQyxFQUN2REEsRUFBTUEsRUFBSSxjQUNWLFFBQVF4USxFQUFJLEVBQUdBLEVBQUl3USxFQUFJLE9BQVF4USxJQUFJLENBQy9CLE1BQU10QixFQUFJODBELEdBQVdoakQsRUFBSXhRLEVBQUksQ0FBQyxDQUFDLEVBQ3pCckIsRUFBSTYwRCxHQUFXaGpELEVBQUl4USxFQUFJLEVBQUksQ0FBQyxDQUFDLEVBQ25DLEdBQUl0QixJQUFNLFFBQWFDLElBQU0sT0FDekIsTUFFSjR0QixFQUFNdnNCLENBQUMsRUFBSXRCLEdBQUssRUFBSUMsQ0FDdkIsQ0FDRCxPQUFPNHRCLENBQ1gsQ0FDdUIsU0FBU29uQyxHQUFnQnBuQyxFQUFPLENBQ25ELE9BQU8sTUFBTSxLQUFLQSxHQUFTLENBQUUsQ0FBQSxFQUFFLElBQUs1dEIsR0FBSTgwRCxHQUFTOTBELEdBQUssQ0FBQyxFQUFJODBELEdBQVM5MEQsRUFBSSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FDeEYsQ0FDTyxlQUFlaTFELEdBQVFDLEVBQUlQLEVBQVMsU0FBVVEsRUFBUyxDQUNyREEsSUFDREEsRUFBVVAsR0FBYSxHQUUzQixNQUFNUSxFQUFXLE1BQU01cEIsR0FBSzBwQixDQUFFLEVBQzlCLElBQUkzekMsRUFDSixPQUFPb3pDLEVBQU0sQ0FDVCxJQUFLLE9BQ0RwekMsRUFBYSxLQUFLLFVBQVU2ekMsQ0FBUSxFQUNwQyxNQUNKLElBQUssUUFDRDd6QyxFQUFhOHpDLEdBQWdCRCxDQUFRLEVBQ3JDLE1BQ0osSUFBSyxTQUNELENBQ0ksTUFBTUUsRUFBVTNQLEdBQU95UCxDQUFRLEVBQzNCRCxJQUFZLFFBQ1o1ekMsRUFBYSxPQUFPLEtBQUsrekMsRUFBUSxPQUFRQSxFQUFRLFdBQVlBLEVBQVEsVUFBVSxFQUMvRS96QyxFQUFhQSxFQUFXLFNBQVMsS0FBSyxHQUV0Q0EsRUFBYXl6QyxHQUFnQk0sQ0FBTyxDQUUzQyxDQUNELE1BQ0osUUFDSSxNQUFNLElBQUksTUFBTVosR0FBbUJDLENBQU0sQ0FBQyxDQUNqRCxDQUNELE9BQU9wekMsQ0FDWCxDQUNPLGVBQWVnMEMsR0FBUVosRUFBUWh5RCxFQUFNd3lELEVBQVMsQ0FDNUNBLElBQ0RBLEVBQVVQLEdBQWEsR0FFM0IsTUFBTU0sRUFBSyxNQUFNbHBCLEdBQU8sQ0FDcEIsT0FBUSxDQUNKLGNBQWUsUUFDbEIsQ0FDVCxDQUFLLEVBQ0QsSUFBSXdwQixFQUNKLE9BQU9iLEVBQU0sQ0FDVCxJQUFLLE9BQ0RhLEVBQWUsS0FBSyxNQUFNN3lELEVBQUssU0FBVSxDQUFBLEVBQ3pDLE1BQ0osSUFBSyxRQUNENnlELEVBQWVDLEdBQVk5eUQsQ0FBSSxFQUMvQixNQUNKLElBQUssU0FDR3d5RCxJQUFZLE9BQ1p4eUQsRUFBTyxPQUFPLEtBQUtBLEVBQUssU0FBUSxFQUFJLEtBQUssRUFFekNBLEVBQU9veUQsR0FBZ0JweUQsQ0FBSSxFQUUvQjZ5RCxFQUFlNVAsR0FBT2pqRCxDQUFJLEVBQzFCLE1BQ0osUUFDSSxNQUFNLElBQUksTUFBTSt4RCxHQUFtQkMsQ0FBTSxDQUFDLENBQ2pELENBQ0QsYUFBTWxwQixHQUFLeXBCLEVBQUlNLENBQVksRUFDcEJOLENBQ1gsQ0M3Rk8sTUFBTVEsV0FBc0I5c0MsRUFBUyxDQUN4QyxZQUFZelosRUFBUSxDQUNoQixNQUFNQSxDQUFNLEVBQ1osT0FBTyxlQUFlLEtBQU0sWUFBYSxDQUNyQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxPQUFRLENBQ2hDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFdBQVksQ0FDcEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sVUFBVyxDQUNuQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxLQUFLLFVBQVlBLEdBQUEsWUFBQUEsRUFBUSxVQUN6QixLQUFLLE1BQU9BLEdBQUEsWUFBQUEsRUFBUSxPQUFRLENBQUEsRUFDNUIsS0FBSyxVQUFXQSxHQUFBLFlBQUFBLEVBQVEsV0FBWSxDQUFBLEVBQ3BDLEtBQUssU0FBVUEsR0FBQSxZQUFBQSxFQUFRLFVBQVcsRUFDckMsQ0FNRCxzQkFBc0J3bUQsRUFBUUMsRUFBWSxDQUN0QyxNQUFNLElBQUksTUFBTSxrQkFBa0IsQ0FDckMsQ0FDRCxNQUFNLE9BQU9ueUQsRUFBT1IsRUFBUyxDQUN6QixPQUFPLEtBQUsscUJBQXFCUSxFQUFPUixDQUFPLENBQ2xELENBV0QsTUFBTSxxQkFBcUI2USxFQUFPcUgsRUFBUSxDQUN0QyxNQUFNMDZDLEVBQWV2ekMsR0FBdUJuSCxDQUFNLEVBQzVDcU8sRUFBbUIsTUFBTXhHLEdBQWdCLFVBQVU2eUMsRUFBYSxVQUFXLEtBQUssVUFBV0EsRUFBYSxLQUFNLEtBQUssS0FBTUEsRUFBYSxTQUFVLEtBQUssU0FBVSxDQUFFLFFBQVMsS0FBSyxPQUFPLENBQUUsRUFDeExwc0MsRUFBYSxNQUFNRCxHQUFBLFlBQUFBLEVBQWtCLHFCQUFxQixLQUFLLE9BQVEsRUFBRTFWLEVBQU8sT0FBVyxPQUFXLE9BQVcsT0FBVytoRCxFQUFhLFVBQy9JLEdBQUksQ0FDQSxNQUFNOXVDLEVBQVUsTUFBTSxLQUFLLHNCQUFzQmpULEVBQU8yVixDQUFVLEVBQ2xFLGFBQU1BLEdBQUEsWUFBQUEsRUFBWSxtQkFBbUIxQyxJQUM5QkEsQ0FDVixPQUNNbGMsRUFBTyxDQUNWLFlBQU00ZSxHQUFBLFlBQUFBLEVBQVkscUJBQXFCNWUsSUFDakNBLENBQ1QsQ0FDSixDQUNMLENDcEVPLE1BQU1pckQsV0FBNkJKLEVBQWMsQ0FDcEQsT0FBTyxTQUFVLENBQ2IsTUFBTyxzQkFDVixDQUNELElBQUksY0FBZSxDQUNmLE1BQU8sQ0FBQyxZQUFhLGFBQWMsTUFBTSxDQUM1QyxDQUNELGtCQUFtQixDQUNmLE9BQU8sS0FBSyxZQUFZLGtCQUMzQixDQUNELFlBQVl2bUQsRUFBUSxDQUNoQixNQUFNQSxDQUFNLEVBQ1osT0FBTyxlQUFlLEtBQU0sY0FBZSxDQUN2QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxJQUFLLENBQzdCLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sQ0FDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLGFBQWMsQ0FDdEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxZQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sZUFBZ0IsQ0FDeEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sU0FBVSxDQUNsQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxLQUFLLFlBQWNBLEVBQU8sWUFDMUIsS0FBSyxFQUFJQSxFQUFPLEdBQUssS0FBSyxFQUMxQixLQUFLLFdBQWFBLEVBQU8sWUFBYyxLQUFLLFdBQzVDLEtBQUssT0FBU0EsRUFBTyxPQUNqQkEsRUFBTyxhQUFlLFFBQ3RCLEtBQUssYUFBZUEsRUFBTyxhQUVsQyxDQUNELE1BQU0sc0JBQXNCMkUsRUFBTzJWLEVBQVksQ0FDM0MsR0FBSSxLQUFLLGFBQWUsTUFBTyxDQUMzQixHQUFJLE9BQU8sS0FBSyxZQUFZLDRCQUErQixXQUN2RCxNQUFNLElBQUksTUFBTSw0Q0FBNEMsS0FBSyxpQkFBa0IsQ0FBQSxrREFBa0QsRUFFekksT0FBTyxLQUFLLFlBQVksMkJBQTJCM1YsRUFBTyxDQUN0RCxFQUFHLEtBQUssRUFDUixPQUFRLEtBQUssT0FDYixHQUFHLEtBQUssWUFDWCxFQUFFMlYsR0FBQSxZQUFBQSxFQUFZLFNBQVMsY0FBYyxDQUN6QyxDQUNELE9BQU8sS0FBSyxZQUFZLGlCQUFpQjNWLEVBQU8sS0FBSyxFQUFHLEtBQUssT0FBUTJWLEdBQUEsWUFBQUEsRUFBWSxTQUFTLGNBQWMsQ0FDM0csQ0FDRCxNQUFNLGFBQWExVixFQUFXOVEsRUFBUyxDQUNuQyxPQUFPLEtBQUssWUFBWSxhQUFhOFEsRUFBVzlRLENBQU8sQ0FDMUQsQ0FDTCxDQU1PLE1BQU04eUQsV0FBb0I3bEQsRUFBYSxDQUUxQyxZQUFZOGxELEVBQVlDLEVBQVUsQ0FDOUIsTUFBTUEsQ0FBUSxFQUNkLE9BQU8sZUFBZSxLQUFNLGVBQWdCLENBQ3hDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sQ0FBQyxZQUFhLGVBQWdCLEtBQUssaUJBQWdCLENBQUUsQ0FDeEUsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLGFBQWMsQ0FDdEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsS0FBSyxXQUFhRCxDQUNyQixDQUVELE1BQU0sT0FBT0UsRUFBUyxDQUNsQixNQUFNLElBQUksTUFBTSxrQkFBa0IsQ0FDckMsQ0FDRCxNQUFNLGlCQUFpQnBpRCxFQUFPeFUsRUFBSSxFQUFHd2QsRUFBUyxPQUFXODRDLEVBQWEsT0FDcEUsQ0FFRSxPQURnQixNQUFNLEtBQUssZ0NBQWdDLE1BQU0sS0FBSyxXQUFXLFdBQVc5aEQsQ0FBSyxFQUFHeFUsRUFBR3dkLENBQU0sR0FDOUYsSUFBSzlhLEdBQVdBLEVBQU8sQ0FBQyxDQUFDLENBQzNDLENBQ0QsTUFBTSwwQkFBMEI4UixFQUFPeFUsRUFBSSxFQUFHd2QsRUFBUyxPQUFXODRDLEVBQWEsT0FDN0UsQ0FDRSxPQUFPLEtBQUssZ0NBQWdDLE1BQU0sS0FBSyxXQUFXLFdBQVc5aEQsQ0FBSyxFQUFHeFUsRUFBR3dkLENBQU0sQ0FDakcsQ0FDRCxPQUFPLFVBQVVxNUMsRUFBUUMsRUFBWUMsRUFFckNDLEVBQVcsQ0FDUCxNQUFNLElBQUksTUFBTSxxR0FBcUcsQ0FDeEgsQ0FDRCxPQUFPLGNBQWNDLEVBQU9GLEVBRTVCQyxFQUFXLENBQ1AsTUFBTSxJQUFJLE1BQU0scUdBQXFHLENBQ3hILENBQ0QsWUFBWUUsRUFBVzE1QyxFQUFRemMsRUFBV3dTLEVBQU1DLEVBQVUyakQsRUFBUyxDQUMvRCxHQUFJLE9BQU9ELEdBQWMsU0FDckIsT0FBTyxJQUFJVixHQUFxQixDQUM1QixZQUFhLEtBQ2IsRUFBR1UsRUFDSCxPQUFBMTVDLEVBQ0EsS0FBTSxDQUFDLEdBQUlqSyxHQUFRLENBQUUsRUFBRyxLQUFLLGtCQUFrQixFQUMvQyxTQUFBQyxFQUNBLFFBQUEyakQsRUFDQSxVQUFBcDJELENBQ2hCLENBQWEsRUFFQSxDQUNELE1BQU0wWSxFQUFTLENBQ1gsWUFBYSxLQUNiLEVBQUd5OUMsR0FBQSxZQUFBQSxFQUFXLEVBQ2QsT0FBUUEsR0FBQSxZQUFBQSxFQUFXLE9BQ25CLEtBQU0sQ0FBQyxJQUFJQSxHQUFBLFlBQUFBLEVBQVcsT0FBUSxDQUFBLEVBQUssS0FBSyxrQkFBa0IsRUFDMUQsU0FBVUEsR0FBQSxZQUFBQSxFQUFXLFNBQ3JCLFFBQVNBLEdBQUEsWUFBQUEsRUFBVyxRQUNwQixVQUFXQSxHQUFBLFlBQUFBLEVBQVcsVUFDdEIsV0FBWUEsR0FBQSxZQUFBQSxFQUFXLFVBQ3ZDLEVBQ1ksT0FBSUEsR0FBQSxZQUFBQSxFQUFXLGNBQWUsTUFDbkIsSUFBSVYsR0FBcUIsQ0FDNUIsR0FBRy84QyxFQUNILGFBQWN5OUMsRUFBVSxZQUM1QyxDQUFpQixFQUVFLElBQUlWLEdBQXFCLENBQUUsR0FBRy84QyxDQUFRLENBQUEsQ0FDaEQsQ0FDSixDQUNMLENDbEpPLE1BQU0rZCxFQUFXLENBQ3BCLFlBQVkvZCxFQUFRLENBS2hCLE9BQU8sZUFBZSxLQUFNLFNBQVUsQ0FDbEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsS0FBSyxPQUFTLElBQUlzQyxHQUFZdEMsR0FBVSxDQUFFLENBQUEsQ0FDN0MsQ0FDTCxDQ1JPLE1BQU0yOUMsV0FBeUI1L0IsRUFBVyxDQUM3QyxZQUFZM25CLEVBQVFnM0IsRUFBZSxTQUMvQixNQUFNd3dCLEVBQXFCLENBQUUsZUFBZ0IsRUFBRyxHQUFHeG5ELENBQU0sRUFDekQsTUFBTXduRCxDQUFrQixFQUN4QixPQUFPLGVBQWUsS0FBTSxZQUFhLENBQ3JDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sd0JBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxZQUFhLENBQ3JDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sR0FDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLGdCQUFpQixDQUN6QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLEVBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxVQUFXLENBQ25DLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLHdCQUF5QixDQUNqRCxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxvQkFBcUIsQ0FDN0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sNkJBQThCLENBQ3RELFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLCtCQUFnQyxDQUN4RCxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxzQkFBdUIsQ0FDL0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sU0FBVSxDQUNsQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxlQUFnQixDQUN4QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxJQUFJcjdDLEdBQVNxN0MsR0FBQSxZQUFBQSxFQUFvQixlQUM3Qno4QyxHQUF1QixnQkFBZ0IsRUFDM0MsTUFBTTA4QyxHQUFjRCxHQUFBLFlBQUFBLEVBQW9CLG9CQUNwQ3o4QyxHQUF1QixzQkFBc0IsRUFDakQsR0FBSSxDQUFDMDhDLEdBQWUsQ0FBQ3Q3QyxFQUNqQixNQUFNLElBQUksTUFBTSwwQ0FBMEMsRUFFOUQsTUFBTXU3QyxHQUF1QkYsR0FBQSxZQUFBQSxFQUFvQiw2QkFDN0N6OEMsR0FBdUIsZ0NBQWdDLEVBQ3JENDhDLElBQTBCSCxHQUFBLFlBQUFBLEVBQW9CLDBDQUNoREEsR0FBQSxZQUFBQSxFQUFvQixpQ0FDbkJ6OEMsR0FBdUIsNkNBQTZDLEdBQ2pFQSxHQUF1QixrQ0FBa0MsR0FDM0Q2OEMsR0FBa0JKLEdBQUEsWUFBQUEsRUFBb0Isd0JBQ3hDejhDLEdBQXVCLDBCQUEwQixFQWNyRCxHQWJBLEtBQUsscUJBQ0R5OEMsR0FBQSxZQUFBQSxFQUFvQixzQkFDaEJ6OEMsR0FBdUIsd0JBQXdCLEVBQ3ZELEtBQUssV0FBWXk4QyxHQUFBLFlBQUFBLEVBQW9CLFlBQWEsS0FBSyxVQUN2RCxLQUFLLFdBQ0RBLEdBQUEsWUFBQUEsRUFBb0IsYUFBY0MsRUFBYyxFQUFJLEtBQUssV0FDN0QsS0FBSyxlQUNERCxHQUFBLFlBQUFBLEVBQW9CLGdCQUFpQixLQUFLLGNBQzlDLEtBQUssUUFBVUEsR0FBQSxZQUFBQSxFQUFvQixRQUNuQyxLQUFLLHNCQUF3QkksRUFDN0IsS0FBSyxrQkFBb0JILEVBQ3pCLEtBQUssMkJBQTZCQyxFQUNsQyxLQUFLLDZCQUErQkMsRUFDaEMsS0FBSyxrQkFBbUIsQ0FDeEIsR0FBSSxDQUFDLEtBQUssNEJBQThCLENBQUMsS0FBSyxvQkFDMUMsTUFBTSxJQUFJLE1BQU0sMENBQTBDLEVBRTlELEdBQUksQ0FBQyxLQUFLLDZCQUNOLE1BQU0sSUFBSSxNQUFNLDRDQUE0QyxFQUVoRSxHQUFJLENBQUMsS0FBSyxzQkFDTixNQUFNLElBQUksTUFBTSxvQ0FBb0MsRUFFeER4N0MsRUFBU0EsR0FBVSxFQUN0QixDQUNELEtBQUssYUFBZSxDQUNoQixPQUFBQSxFQUNBLFFBQVM2cUIsR0FBQSxZQUFBQSxFQUFlLFNBQ3hCLHdCQUF5QixHQUN6QixnQkFBZ0J0MUIsRUFBQXMxQixHQUFBLFlBQUFBLEVBQWUsY0FBZixZQUFBdDFCLEVBQTRCLFFBQzVDLGNBQWNpRSxFQUFBcXhCLEdBQUEsWUFBQUEsRUFBZSxjQUFmLFlBQUFyeEIsRUFBNEIsT0FDMUMsR0FBR3F4QixDQUNmLENBQ0ssQ0FRRCxNQUFNLGVBQWU2d0IsRUFBTyxDQUN4QixNQUFNQyxFQUFVajNCLEdBQVcsS0FBSyxjQUFnQmczQixFQUFNLElBQUt0d0MsR0FBTUEsRUFBRSxRQUFRLE1BQU8sR0FBRyxDQUFDLEVBQUlzd0MsRUFBTyxLQUFLLFNBQVMsRUFDekdFLEVBQWdCRCxFQUFRLElBQUsxVixHQUFVLEtBQUssbUJBQW1CLENBQ2pFLE1BQU8sS0FBSyxVQUNaLE1BQU9BLENBQ1YsQ0FBQSxDQUFDLEVBQ0k0VixFQUFpQixNQUFNLFFBQVEsSUFBSUQsQ0FBYSxFQUNoRGxCLEVBQWEsQ0FBQSxFQUNuQixRQUFTMzBELEVBQUksRUFBR0EsRUFBSTgxRCxFQUFlLE9BQVE5MUQsR0FBSyxFQUFHLENBQy9DLE1BQU1rZ0QsRUFBUTBWLEVBQVE1MUQsQ0FBQyxFQUNqQixDQUFFLEtBQU0rMUQsQ0FBZSxFQUFHRCxFQUFlOTFELENBQUMsRUFDaEQsUUFBU2lWLEVBQUksRUFBR0EsRUFBSWlyQyxFQUFNLE9BQVFqckMsR0FBSyxFQUNuQzAvQyxFQUFXLEtBQUtvQixFQUFjOWdELENBQUMsRUFBRSxTQUFTLENBRWpELENBQ0QsT0FBTzAvQyxDQUNWLENBT0QsTUFBTSxXQUFXdHpELEVBQU0sQ0FDbkIsS0FBTSxDQUFFLEtBQUFDLENBQUksRUFBSyxNQUFNLEtBQUssbUJBQW1CLENBQzNDLE1BQU8sS0FBSyxVQUNaLE1BQU8sS0FBSyxjQUFnQkQsRUFBSyxRQUFRLE1BQU8sR0FBRyxFQUFJQSxDQUNuRSxDQUFTLEVBQ0QsT0FBT0MsRUFBSyxDQUFDLEVBQUUsU0FDbEIsQ0FRRCxNQUFNLG1CQUFtQnN3QixFQUFTLENBQzlCLEdBQUksQ0FBQyxLQUFLLE9BQVEsQ0FDZCxNQUFNMFQsRUFBdUIsQ0FDekIsNkJBQThCLEtBQUssNkJBQ25DLDJCQUE0QixLQUFLLDJCQUNqQyxrQkFBbUIsS0FBSyxrQkFDeEIsb0JBQXFCLEtBQUssb0JBQzFCLFFBQVMsS0FBSyxhQUFhLE9BQzNDLEVBQ2tCaHBCLEVBQVdnaUIsR0FBWWdILENBQW9CLEVBQzNDNXRCLEVBQVMsQ0FDWCxHQUFHLEtBQUssYUFDUixRQUFTNEUsRUFDVCxRQUFTLEtBQUssUUFDZCxXQUFZLENBQzVCLEVBQ2lCNUUsRUFBTyxTQUNSLE9BQU9BLEVBQU8sUUFFbEIsS0FBSyxPQUFTLElBQUk2dEIsR0FBYTd0QixDQUFNLENBQ3hDLENBQ0QsTUFBTTJ0QixFQUFpQixDQUFBLEVBQ3ZCLE9BQUksS0FBSyxvQkFDTEEsRUFBZSxRQUFVLENBQ3JCLFVBQVcsS0FBSyxrQkFDaEIsR0FBR0EsRUFBZSxPQUNsQyxFQUNZQSxFQUFlLE1BQVEsQ0FDbkIsY0FBZSxLQUFLLHNCQUNwQixHQUFHQSxFQUFlLEtBQ2xDLEdBRWUsS0FBSyxPQUFPLEtBQUssU0FBWSxDQUNoQyxHQUFJLENBRUEsT0FEWSxNQUFNLEtBQUssT0FBTyxXQUFXLE9BQU96VCxFQUFTeVQsQ0FBYyxDQUUxRSxPQUNNcGYsRUFBRyxDQUVOLE1BRGMyZSxHQUFzQjNlLENBQUMsQ0FFeEMsQ0FDYixDQUFTLENBQ0osQ0FDTCxDQ25OTyxNQUFNK3ZDLFdBQTRCenVDLEVBQVMsQ0FTOUMsc0JBQXNCM0osRUFBYXE0QyxFQUFTajNELEVBQVcsQ0FDbkQsT0FBTyxLQUFLLFlBQVk0ZSxFQUFhNWUsQ0FBUyxDQUNqRCxDQVdELE1BQU0sT0FBT29ELEVBQU9SLEVBQVMsQ0FDekIsT0FBSSxPQUFPUSxHQUFVLFNBQ1YsS0FBSyxnQkFBZ0IsTUFBT0EsR0FBVSxLQUFLLFlBQVksQ0FBQyxDQUFFLEtBQU1BLENBQUssQ0FBRSxDQUFDLEVBQUdBLEVBQU8sQ0FBRSxHQUFHUixFQUFTLFFBQVMsUUFBUSxDQUFFLEVBR25ILEtBQUssZ0JBQWdCLE1BQU9RLEdBQVUsS0FBSyxZQUFZLENBQUMsQ0FBRSxRQUFTQSxFQUFPLEtBQU1BLEVBQU0sT0FBTyxDQUFFLENBQUMsRUFBR0EsRUFBTyxDQUFFLEdBQUdSLEVBQVMsUUFBUyxRQUFRLENBQUUsQ0FFekosQ0FDTCxDQUlPLE1BQU1zMEQsV0FBeUJGLEVBQW9CLENBQ3RELFlBQVlwNEMsRUFBYTVlLEVBQVcsQ0FDaEMsT0FBTyxLQUFLLE1BQU00ZSxFQUFZLENBQUMsRUFBRSxLQUFNNWUsQ0FBUyxDQUNuRCxDQUNELE1BQU0sZ0JBQWdCcUMsRUFBTTQwRCxFQUFTajNELEVBQVcsQ0FDNUMsT0FBTyxLQUFLLE1BQU1xQyxFQUFNckMsQ0FBUyxDQUNwQyxDQUlELE9BQVEsQ0FDSixNQUFNLElBQUksTUFBTSx1QkFBdUIsQ0FDMUMsQ0FDTCxDQUlPLE1BQU1tM0QsV0FBa0NELEVBQWlCLENBQzVELE1BQU8sV0FBVzF0QyxFQUFnQixDQUM5QixnQkFBaUJNLEtBQVNOLEVBQ2xCLE9BQU9NLEdBQVUsU0FDakIsTUFBTSxLQUFLLFlBQVksQ0FBQyxDQUFFLEtBQU1BLENBQU8sQ0FBQSxDQUFDLEVBR3hDLE1BQU0sS0FBSyxZQUFZLENBQUMsQ0FBRSxRQUFTQSxFQUFPLEtBQU1BLEVBQU0sT0FBUyxDQUFBLENBQUMsQ0FHM0UsQ0FRRCxNQUFPLFVBQVVOLEVBQWdCNW1CLEVBQVMsQ0FDdEMsTUFBTyxLQUFLLDJCQUEyQjRtQixFQUFnQixLQUFLLFdBQVcsS0FBSyxJQUFJLEVBQUcsQ0FDL0UsR0FBRzVtQixFQUNILFFBQVMsUUFDckIsQ0FBUyxDQUNKLENBQ0wsQ0FJTyxNQUFNdzBELFdBQTJCRCxFQUEwQixDQUM5RCxhQUFjLENBQ1YsTUFBTSxHQUFHLFNBQVMsRUFDbEIsT0FBTyxlQUFlLEtBQU0sZUFBZ0IsQ0FDeEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxDQUFDLFlBQWEsU0FBVSxlQUFlLENBQzFELENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxrQkFBbUIsQ0FDM0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxFQUNuQixDQUFTLENBQ0osQ0FDRCxPQUFPLFNBQVUsQ0FDYixNQUFPLGlCQUNWLENBU0QsTUFBTTkwRCxFQUFNLENBQ1IsT0FBTyxRQUFRLFFBQVFBLENBQUksQ0FDOUIsQ0FDRCx1QkFBd0IsQ0FDcEIsTUFBTyxFQUNWLENBQ0wsQ0M1R0EsSUFBSWcxRCxHQUFvQixDQUN0QixTQUFVLENBQ1IsbUJBQW9CLFFBQ3JCLEVBQ0QsVUFBVyxjQUNiLEVBQ0lDLEdBQWEsY0FBYzVCLEVBQVksQ0FDekMsWUFBWUMsRUFBWXZxRCxFQUFNLENBQzVCLE1BQU11cUQsRUFBWXZxRCxDQUFJLEVBQ3RCLEtBQUssV0FBYXVxRCxFQUNsQixLQUFLLEdBQUtocUIsR0FBTyxDQUNmLE9BQVEwckIsR0FDUixHQUFJanNELEVBQUssU0FDZixDQUFLLENBQ0YsQ0FDRCxrQkFBbUIsQ0FDakIsTUFBTyxZQUNSLENBQ0QsTUFBTSxXQUFXa3JDLEVBQVM1aUMsRUFBVyxDQUNuQyxNQUFNeThCLEVBQU96OEIsRUFBVSxJQUFJLENBQUMyUixFQUFVM2MsS0FBVyxDQUMvQyxTQUFVLENBQ1IsbUJBQW9CMmMsRUFBUyxXQUM5QixFQUNELFVBQVdpeEIsRUFBUTV0QyxDQUFLLENBQ3pCLEVBQUMsRUFFRixPQURZLE1BQU1tNEMsR0FBZSxNQUFNLEtBQUssR0FBSTFRLENBQUksQ0FFckQsQ0FDRCxNQUFNLGFBQWF6OEIsRUFBVyxDQUM1QixLQUFLLFdBQVcsTUFBTSxLQUFLLFdBQVcsZUFBZUEsRUFBVSxJQUFLMlIsR0FBYUEsRUFBUyxXQUFXLENBQUMsRUFBRzNSLENBQVMsQ0FDbkgsQ0FDRCxhQUFhLGNBQWNBLEVBQVdpaUQsRUFBWXZxRCxFQUFNLENBQ3RELE1BQU1yTCxFQUFRLElBQUksS0FBSzQxRCxFQUFZdnFELENBQUksRUFDdkMsYUFBTXJMLEVBQU0sYUFBYTJULENBQVMsRUFDM0IzVCxDQUNSLENBQ0QsTUFBTSxnQ0FBZ0MwVCxFQUFPeFUsRUFBRyxDQUU5QyxPQURnQixNQUFNa2lELEdBQWEsTUFBTSxLQUFLLEdBQUksQ0FBRSxPQUFRMXRDLEVBQU8sU0FBVSxZQUFhLE1BQU94VSxFQUFHLFdBQVksRUFBRyxDQUFFLEdBQ3RHLEtBQUssSUFBSzBDLEdBQ2hCLENBQUMsSUFBSXNsQyxHQUFTLENBQUUsWUFBYXRsQyxFQUFPLFNBQVMsU0FBUyxrQkFBb0IsQ0FBQSxFQUFHQSxFQUFPLEtBQUssQ0FDakcsQ0FDRixDQUNELE1BQU0sU0FBVSxDQUNkLE9BQU8sTUFBTWl6RCxHQUFRLE1BQU0sS0FBSyxHQUFJLE1BQU0sQ0FDM0MsQ0FDRCxNQUFNLGFBQWEyQyxFQUFpQixDQUNsQyxLQUFLLEdBQUtyQyxHQUFRLE9BQVFxQyxDQUFlLENBQzFDLENBQ0gsRUFLSUMsR0FBYyxLQUFNLENBQ3RCLFlBQVlsMUQsRUFBTSxDQUNoQixHQUFJLENBQUNBLEVBQUssYUFDUixNQUFNLElBQUksTUFBTSw0QkFBNEIsRUFFOUMsS0FBSyxZQUFjLElBQUlnMUQsR0FBVyxJQUFJakIsR0FBaUIsQ0FBRSxhQUFjL3pELEVBQUssYUFBYyxVQUFXLElBQU0sQ0FBQSxFQUFHLENBQzVHLFVBQVcsWUFDakIsQ0FBSyxFQUNHQSxFQUFLLGtCQUNQLEtBQUssWUFBWSxhQUFhQSxFQUFLLGVBQWUsRUFDbEQsUUFBUSxJQUFJLCtCQUErQixHQUU3QyxLQUFLLFVBQVksS0FBSyxZQUFZLFlBQVksQ0FBRSxFQUFHLENBQUMsQ0FBRSxFQUN0RCxNQUFNcTFCLEVBQVEsSUFBSWtPLEdBQVcsQ0FBRSxhQUFjdmpDLEVBQUssWUFBWSxDQUFFLEVBQzFENGdCLEVBQVNvZCxHQUFlLGFBQWE7QUFBQTtBQUFBO0FBQUEsMEJBR3JCLEVBQ3RCLEtBQUssU0FBV25XLEdBQWlCLEtBQUssQ0FDcEMsQ0FDRSxRQUFTLEtBQUssVUFBVSxLQUFNelcsR0FBY0EsRUFBVSxJQUFLMDFCLEdBQVFBLEVBQUksV0FBVyxFQUFFLEtBQUs7QUFBQTtBQUFBLENBQU0sQ0FBQyxFQUNoRyxTQUFVLElBQUkzYyxFQUNmLEVBQ0R2SixFQUNBeVUsRUFDQSxJQUFJeS9CLEVBQ1YsQ0FBSyxDQUNGLENBQ0QsTUFBTSxlQUFlMWpELEVBQVcsQ0FDOUIsUUFBUSxJQUFJLHdCQUF3QixFQUNwQyxNQUFNLEtBQUssWUFBWSxhQUFhQSxDQUFTLEVBQzdDLFFBQVEsSUFBSSwwQkFBMEIsQ0FDdkMsQ0FDRCxNQUFNLE9BQU9ELEVBQU8sQ0FDbEIsZUFBUSxJQUFJLGdCQUFnQixFQUNiLEtBQUssU0FBUyxPQUFPQSxFQUFPLENBQ3pDLFVBQVcsQ0FDVCxDQUNFLG1CQUFvQixNQUFPQyxHQUFjLENBQ3ZDLFFBQVEsSUFBSSxLQUFLLFVBQVVBLEVBQVcsS0FBTSxDQUFDLENBQUMsQ0FDL0MsRUFDRCxlQUFnQixNQUFPdEIsRUFBS0MsSUFBWSxDQUN0QyxRQUFRLElBQUksS0FBSyxVQUFVQSxFQUFTLEtBQU0sQ0FBQyxDQUFDLENBQzdDLEVBQ0QsYUFBYyxNQUFPUyxHQUFXLENBQzlCLFFBQVEsSUFBSSxLQUFLLFVBQVVBLEVBQVEsS0FBTSxDQUFDLENBQUMsQ0FDNUMsRUFDRCxlQUFnQixNQUFPOUksR0FBUSxDQUM3QixRQUFRLE1BQU1BLENBQUcsQ0FDbEIsQ0FDRixDQUNGLENBQ1AsQ0FBSyxDQUVGLENBQ0QsTUFBTSxrQkFBa0J5SixFQUFPLENBQzdCLE9BQU8sTUFBTSxLQUFLLFlBQVksaUJBQWlCQSxFQUFPLENBQUMsQ0FDeEQsQ0FDRCxNQUFNLG9CQUFxQixDQUN6QixPQUFPLE1BQU0sS0FBSyxZQUFZLFNBQy9CLENBQ0QsYUFBYSxhQUFhblIsRUFBTSxDQUM5QixPQUFPLElBQUksS0FBS0EsQ0FBSSxDQUNyQixDQUNILEVBR0EsZUFBZW0xRCxHQUF1QkMsRUFBYSxDQUNqRCxJQUFJdm5CLEVBQU8sQ0FBQSxFQUNYLFVBQVdoZ0IsS0FBUXVuQyxFQUFZLE1BQU0saUJBQWdCLEVBQUksQ0FDdkQsTUFBTUMsRUFBZUQsRUFBWSxjQUFjLGFBQWF2bkMsQ0FBSSxFQUNoRSxHQUFJLENBQUN3bkMsRUFDSCxTQUNGeG5CLEVBQUssS0FBSyxDQUNSLFNBQVUsQ0FBRSxFQUNaLFlBQWEsU0FBV2hnQixFQUFLLFNBQVc7QUFBQSxlQUFvQixJQUFJLEtBQUtBLEVBQUssS0FBSyxLQUFLLEVBQUk7QUFBQSxhQUFrQixLQUFLLFVBQVV3bkMsRUFBYSxhQUFlLEVBQUUsQ0FDN0osQ0FBSyxFQUNELE1BQU1DLEVBQWMsTUFBTUYsRUFBWSxNQUFNLFdBQVd2bkMsQ0FBSSxFQUMzRCxJQUFJMG5DLEVBQWMsRUFDZEMsRUFBYyxDQUFBLEVBQ2xCQSxFQUFZLEtBQUszbkMsRUFBSyxRQUFRLEVBQzlCLElBQUk0bkMsRUFBc0IsRUFDMUIsVUFBV0MsS0FBV0wsRUFBYSxVQUFZLENBQUEsRUFDN0MsR0FBSUssRUFBUSxPQUFTLFVBQVcsQ0FDOUIsTUFBTUMsRUFBaUJOLEVBQWEsU0FBU0UsQ0FBVyxFQUNwREksRUFBZSxNQUFRRixHQUN6QkQsRUFBWSxLQUFLRixFQUFZLE1BQU1LLEVBQWUsU0FBUyxNQUFNLE9BQVFBLEVBQWUsU0FBUyxJQUFJLE1BQU0sQ0FBQyxFQUM1R0YsRUFBc0JFLEVBQWUsT0FDNUJBLEVBQWUsTUFBUUYsR0FDaENELEVBQVksSUFBRyxFQUNmQSxFQUFZLElBQUcsRUFDZkEsRUFBWSxLQUFLRixFQUFZLE1BQU1LLEVBQWUsU0FBUyxNQUFNLE9BQVFBLEVBQWUsU0FBUyxJQUFJLE1BQU0sQ0FBQyxFQUM1R0YsRUFBc0JFLEVBQWUsUUFFckNILEVBQVksSUFBRyxFQUNmQSxFQUFZLEtBQUtGLEVBQVksTUFBTUssRUFBZSxTQUFTLE1BQU0sT0FBUUEsRUFBZSxTQUFTLElBQUksTUFBTSxDQUFDLEdBRTlHSixHQUNELE1BQ0MxbkIsRUFBSyxLQUFLLENBQ1IsU0FBVSxDQUFFLEVBQ1osWUFBYSxhQUFlMm5CLEVBQVksS0FBSztBQUFBLENBQUksRUFBSTtBQUFBLEVBQU9GLEVBQVksTUFBTUksRUFBUSxTQUFTLE1BQU0sT0FBUUEsRUFBUSxTQUFTLElBQUksTUFBTSxDQUNsSixDQUFTLENBRU4sQ0FDRCxPQUFPN25CLENBQ1QsQ0NoS1csSUFBQXQ5QixHQUFXekosR0FBb0IsQ0FBQyxDQUFFLEtBQU0sU0FBVSxRQUFTLGlDQUFrQyxRQUFTLElBQU0sQ0FBQSxDQUFDLEVBRTdHOHVELEdBQWM5dUQsR0FBc0IseU9DcUNzQyt1RCxFQUFnQixxS0FEckdwMkQsR0FLTUYsRUFBQStzQixFQUFBNXNCLENBQUEsRUFKRkosR0FBc0pndEIsRUFBQXhyQixDQUFBLE9BQXZDN0MsRUFBVyxDQUFBLENBQUEsVUFDMUhxQixHQUVRZ3RCLEVBQUF3cEMsQ0FBQSwyREFIOEg3M0QsRUFBYSxDQUFBLENBQUEsbUJBRHZIQSxFQUFXLENBQUEsQ0FBQSxDQUFBLGtDQUN3RUEsRUFBVyxDQUFBLFFBQVhBLEVBQVcsQ0FBQSxDQUFBLDJHQXRDdEg0M0QsR0FBbUIsK0VBRlosR0FBQSxDQUFBLElBQUFFLENBQUEsRUFBQXJ2RCxFQUdQc3ZELEVBQWMsR0FDZEMsRUFFVyxlQUFBQyxHQUFBLENBQ1AsR0FBQUQsRUFBQSxDQUNJLElBQUFFLEdBQUFBLE9BQU8sb0RBQW9ELFNBUS9ELEdBTEpGLEVBQWdCLEdBRUgsU0FBUyxlQUFlLDhCQUE4QixFQUcvREQsRUFBWSxLQUFXLElBQUEsR0FBQSxLQUVuQjd0RCxFQUFVNnRELE1BQ2RBLEVBQWMsRUFBQSxFQUNkemxELEdBQVMsT0FBUUEsR0FBQUEsQ0FBQUEsR0FBaUJBLEVBQVksQ0FBQSxLQUFNLE9BQVEsUUFBU3BJLENBQUEsQ0FBQSxDQUFBLEVBQ3JFLFFBQVEsSUFBSWl1RCxDQUFTLEVBQ3JCUixHQUFZLFVBQWlCQSxNQUFBQSxHQUFBQSxPQUNuQnAvQyxFQUFZby9DLE1BQUFBLEVBQVksT0FBT3p0RCxDQUFPLEVBQ3hDcU8sR0FDQWpHLEdBQVMsT0FBUUEsR0FBQUEsQ0FBQUEsR0FBaUJBLEVBQVksQ0FBQSxLQUFNLFlBQWEsUUFBU2lHLENBQUEsQ0FBQSxDQUFBLFNBSTlFLElBQUEyL0MsR0FBQUEsT0FBTyx1REFBdUQsRUFFdEVGLEVBQWdCLFlBRVhJLEVBQWNqMkQsRUFBQSxDQUNmQSxFQUFNLE1BQVEsS0FDZCxJQUFBazJELEdBQWdCUCxDQUFHLEVBQUUsb0JBS2tGQyxFQUFXLEtBQUEsNklDNUN2SCxNQUFNTyxXQUFrQkMsR0FBQUEsS0FBTSxDQUtqQyxZQUFZVCxFQUFVLENBQ2xCLE1BQU1BLENBQUcsRUFMYjd2RCxHQUFBLGtCQUVBQSxHQUFBLGdCQUlBLENBRUEsUUFBUyxDQUNBLEtBQUEsVUFBWSxJQUFJdXdELEdBQWUsQ0FDaEMsT0FBUSxLQUFLLFNBQUEsQ0FDaEIsQ0FDTCxDQUVBLE1BQU0sU0FBVSxDQUNaLEtBQUssVUFBVSxVQUNuQixDQUNKLGtNQ2xCVWgzRCxHQUEySUYsRUFBQXFILEVBQUFsSCxDQUFBLDhFQUQzR3pCLEVBQU8sQ0FBQSxDQUFBLHVNQUFQQSxFQUFPLENBQUEsQ0FBQSxDQUFBLENBQUEsK2VDQ3ZDd0IsR0FBc0tGLEVBQUFxSCxFQUFBbEgsQ0FBQSw4RUFEdEl6QixFQUFPLENBQUEsQ0FBQSx1TUFBUEEsRUFBTyxDQUFBLENBQUEsQ0FBQSxDQUFBLG9XQzBCSnk0RCxFQUFBejRELEtBQVEsUUFBTyw0WkFENERBLEVBQWEsQ0FBQSxDQUFBLCtCQUR6SHdCLEdBTUtGLEVBQUFvM0QsRUFBQWozRCxDQUFBLEVBTERKLEdBSUtxM0QsRUFBQUMsQ0FBQSxFQUhEdDNELEdBQTRDczNELEVBQUExa0QsQ0FBQSxrQkFDNUM1UyxHQUErSHMzRCxFQUFBQyxDQUFBLHVCQUMvSHYzRCxHQUFnSXMzRCxFQUFBRSxDQUFBLGlFQUR4RDc0RCxFQUFXLENBQUEsRUFBQ0EsRUFBUSxDQUFBLEVBQUEsT0FBTyxJQUEzQkEsRUFBVyxDQUFBLEVBQUNBLEVBQU8sQ0FBQSxFQUFDLE9BQU8sRUFBQSxNQUFBLEtBQUEsU0FBQSxtQ0FDM0JBLEVBQVcsQ0FBQSxFQUFDQSxFQUFRLENBQUEsRUFBQSxPQUFPLElBQTNCQSxFQUFXLENBQUEsRUFBQ0EsRUFBTyxDQUFBLEVBQUMsT0FBTyxFQUFBLE1BQUEsS0FBQSxTQUFBLHlCQUYxRSxDQUFBaVAsR0FBQTVPLEVBQUEsSUFBQW80RCxLQUFBQSxFQUFBejRELEtBQVEsUUFBTyxLQUFBMkMsR0FBQW0yRCxFQUFBTCxDQUFBLCtCQUQ0RHo0RCxFQUFhLENBQUEsQ0FBQSw0S0FKRXk0RCxFQUFBejRELEtBQVEsUUFBTyw2SkFBbkNBLEVBQWUsQ0FBQSxDQUFBLGdEQUR0SHdCLEdBRUtGLEVBQUF5M0QsRUFBQXQzRCxDQUFBLEVBRERKLEdBQTBJMDNELEVBQUE5a0QsQ0FBQSwwQkFBbkI1VCxFQUFBLEdBQUFvNEQsS0FBQUEsRUFBQXo0RCxLQUFRLFFBQU8sS0FBQTJDLEdBQUFtMkQsRUFBQUwsQ0FBQSx5QkFBbkN6NEQsRUFBZSxDQUFBLENBQUEsd0dBRnJIQSxFQUFPLENBQUEsRUFBQyxPQUFTLE9BQU0scVpBRHpCQSxFQUFTLENBQUEsQ0FBQSxFQUFhLE1BQUFtRixFQUFBbkYsR0FBQUEsS0FBUSx3QkFBbkMsT0FBSVMsR0FBQSxFQUFBLHlPQURWZSxHQWdCS0YsRUFBQXkzRCxFQUFBdDNELENBQUEsOEVBZk16QixFQUFTLENBQUEsQ0FBQSw4RUFBZCxPQUFJUyxHQUFBLHFLQWRLLEdBQUEsQ0FBQSxjQUFBdTRELENBQUEsRUFBQXZ3RCxFQUNBLENBQUEsZ0JBQUF3d0QsQ0FBQSxFQUFBeHdELFdBRUZ5d0QsRUFBWW5CLEVBQUEsQ0FDWixHQUFBLENBQUFBLEVBQUEsQ0FDRyxJQUFBRyxHQUFBQSxPQUFPLHdEQUF3RCxTQUd2RWlCLEdBQVMsVUFBVSxVQUFVcEIsQ0FBVyxnaUJDTmhEdjJELEdBSUtGLEVBQUF5M0QsRUFBQXQzRCxDQUFBLEVBSERKLEdBQThCMDNELEVBQUFLLENBQUEsNFVBVG5CLEdBQUEsQ0FBQSxjQUFBSixDQUFBLEVBQUF2d0QsRUFDQSxDQUFBLGdCQUFBd3dELENBQUEsRUFBQXh3RCxFQUNBLENBQUEsSUFBQXF2RCxDQUFBLEVBQUFydkQsaVFDQ1IsTUFBTTR3RCxHQUFpQixZQUV2QixNQUFNQyxXQUFpQkMsR0FBQUEsUUFBUyxDQUtuQyxZQUFZekIsRUFBVTBCLEVBQXFCUixFQUF1QkMsRUFBeUIsQ0FDdkYsTUFBTU8sQ0FBSSxFQUxkdnhELEdBQUEsa0JBQ0FBLEdBQUEsc0JBQ0FBLEdBQUEsd0JBSUksS0FBSyxJQUFNNnZELEVBQ1gsS0FBSyxjQUFnQmtCLEVBQ3JCLEtBQUssZ0JBQWtCQyxFQUN2QixLQUFLLEtBQU8sZ0JBQ2hCLENBRUEsYUFBYyxDQUNILE9BQUFJLEVBQ1gsQ0FFQSxnQkFBaUIsQ0FDTixNQUFBLFdBQ1gsQ0FFQSxNQUFNLFFBQVMsQ0FDTixLQUFBLFVBQVksSUFBSUksR0FBa0IsQ0FDbkMsT0FBUSxLQUFLLFVBQ2IsTUFBTyxDQUNILElBQUssS0FBSyxJQUNWLGNBQWUsS0FBSyxjQUNwQixnQkFBaUIsS0FBSyxlQUMxQixDQUFBLENBQ0gsQ0FDTCxDQUVBLE1BQU0sU0FBVSxDQUNaLEtBQUssVUFBVSxVQUNuQixDQUNKLENDckNBLE1BQXFCQyxXQUFvQkMsR0FBQUEsZ0JBQWlCLENBR3RELFlBQVk3QixFQUFVM3JCLEVBQXFCLENBQ3ZDLE1BQU0yckIsRUFBSzNyQixDQUFNLEVBSHJCbGtDLEdBQUEsZUFJSSxLQUFLLE9BQVNra0MsQ0FDbEIsQ0FFQSxTQUFnQixDQUNSLEdBQUEsQ0FBRSxZQUFBeXRCLENBQWdCLEVBQUEsS0FFdEJBLEVBQVksTUFBTSxFQUVsQixJQUFJQyxHQUFRLFFBQUFELENBQVcsRUFDbEIsUUFBUSxVQUFVLEVBQ2xCLGVBQWdCbjNELEdBQ2JBLEVBQU0sUUFBUSxPQUFPLEVBQUUsUUFBUSxTQUFZLENBQ2xDLEtBQUEsT0FBTyxLQUFLLFFBQVVxM0QsR0FBaUIsUUFDdEMsTUFBQSxLQUFLLE9BQU8sY0FBYSxDQUNsQyxDQUFBLEVBRUosZUFBZ0JwbUQsR0FDYkEsRUFBTSxTQUFTLEtBQUssT0FBTyxLQUFLLE9BQU8sRUFBRSxTQUFTLE1BQU9qUixHQUFVLENBQzFELEtBQUEsT0FBTyxLQUFLLFFBQVVBLEVBQ3JCLE1BQUEsS0FBSyxPQUFPLGNBQWEsQ0FDbEMsQ0FBQSxFQUdMLElBQUFvM0QsR0FBQSxRQUFRRCxDQUFXLEVBQ2xCLFFBQVEsWUFBWSxFQUNwQixlQUFnQm4zRCxHQUFVQSxFQUFNLFFBQVEsT0FBTyxFQUFFLFFBQVEsSUFBTyxLQUFLLE9BQU8sS0FBSyxVQUFZcTNELEdBQWlCLFNBQVUsQ0FBQyxFQUN6SCxlQUFnQnBtRCxHQUNiQSxFQUFNLFNBQVMsS0FBSyxPQUFPLEtBQUssU0FBUyxFQUFFLFNBQVMsTUFBT2pSLEdBQVUsQ0FDNUQsS0FBQSxPQUFPLEtBQUssVUFBWUEsRUFDdkIsTUFBQSxLQUFLLE9BQU8sY0FBYSxDQUNsQyxDQUFBLEVBR0wsSUFBQW8zRCxHQUFBQSxRQUFRRCxDQUFXLEVBQUUsUUFBUSxLQUFLLEVBQUUsWUFBYW4zRCxHQUFVLENBQzNEQSxFQUNLLFdBQVcsQ0FDUixNQUFPLFFBQ1AsVUFBVyxXQUFBLENBQ2QsRUFDQSxTQUFTLEtBQUssT0FBTyxLQUFLLEdBQUcsRUFDN0IsU0FBUyxNQUFPQSxHQUFVLENBQ2xCLEtBQUEsT0FBTyxLQUFLLElBQU1BLEVBQ2pCLE1BQUEsS0FBSyxPQUFPLGNBQWEsQ0FDbEMsQ0FBQSxDQUNSLEVBRUQsSUFBSW8zRCxHQUFRLFFBQUFELENBQVcsRUFBRSxRQUFRLGdCQUFnQixFQUFFLFFBQVM5M0QsR0FDeERBLEVBQ0ssZUFBZSxnQkFBZ0IsRUFDL0IsU0FBUyxLQUFLLE9BQU8sS0FBSyxZQUFZLGNBQWdCLEVBQUUsRUFDeEQsU0FBUyxNQUFPVyxHQUFVLENBQ2xCLEtBQUEsT0FBTyxLQUFLLFlBQVksYUFBZUEsRUFDdEMsTUFBQSxLQUFLLE9BQU8sY0FBYSxDQUNsQyxDQUFBLENBRWIsQ0FDSixDQ2xEQSxNQUFNczNELEdBQWlCbjRELEdBQ1osaUJBQWlCLFNBQVMsSUFBSSxFQUFFLGlCQUFpQkEsQ0FBSSxFQUduRGs0RCxHQUF3QyxDQUNqRCxRQUFTQyxHQUFjLGdCQUFnQixFQUN2QyxVQUFXQSxHQUFjLGlCQUFpQixFQUMxQyxZQUFhLENBQ1QsYUFBYyxVQUNsQixDQUNKLEVBRUEsTUFBcUJDLFdBQW9CQyxHQUFBQSxNQUFPLENBQWhELGtDQUNJaHlELEdBQUEsYUFFQSxNQUFNLGNBQWUsQ0FDWixLQUFBLEtBQU8sT0FBTyxPQUFPLENBQUEsRUFBSTZ4RCxHQUFrQixNQUFNLEtBQUssU0FBQSxDQUFVLENBQ3pFLENBRUEsTUFBTSxjQUFlLENBQ1gsTUFBQSxLQUFLLFNBQVMsS0FBSyxJQUFJLENBQ2pDLENBRUEsTUFBTSxRQUFTLENBQ1gsTUFBTSxLQUFLLGVBQ1huQyxHQUFZLElBQUksTUFBTVYsR0FBWSxhQUFhLEtBQUssS0FBSyxXQUFXLENBQUMsRUFFckUsS0FBSyxJQUFJLE1BQU0sR0FBRyxTQUFXcm5DLEdBQXdCLENBQ3JDK25DLEdBQUEsVUFBVSxNQUFPQSxHQUFnQixDQUNqQyxRQUFBLElBQUksMkJBQTRCL25DLEVBQUssUUFBUSxFQUNyRCxNQUFNZ2dCLEVBQU8sTUFBTXNuQixHQUF1QixLQUFLLEdBQUcsRUFDNUNTLE1BQUFBLEVBQVksZUFBZS9uQixDQUFJLEVBQ3JDLEtBQUssS0FBSyxZQUFZLGdCQUFrQixNQUFNK25CLEVBQVkscUJBQzFELE1BQU0sS0FBSyxjQUFhLENBQzNCLENBQUEsQ0FDSixFQUVELEtBQUssYUFBYTBCLEdBQWlCRyxHQUFTLElBQUlGLEdBQVMsSUFBS0UsRUFBTSxLQUFLLEtBQUssUUFBUyxLQUFLLEtBQUssU0FBUyxDQUFDLEVBRXRHLEtBQUEsY0FBYyxnQkFBaUIscUJBQXNCLElBQU0sQ0FDNUQsS0FBSyxhQUFhLENBQUEsQ0FDckIsRUFFRCxLQUFLLGNBQWMsSUFBSUUsR0FBWSxLQUFLLElBQUssSUFBSSxDQUFDLEVBRWxELEtBQUssV0FBVyxDQUNaLEdBQUksYUFDSixLQUFNLGVBQ04sU0FBVSxJQUFNLENBQ1osSUFBSXBCLEdBQVUsS0FBSyxHQUFHLEVBQUUsS0FBSyxDQUNqQyxDQUFBLENBQ0gsRUFFRCxLQUFLLFdBQVcsQ0FDWixHQUFJLGFBQ0osS0FBTSxLQUNOLFNBQVUsSUFBTSxDQUNaLElBQUlELEdBQWdCLEtBQUssR0FBRyxFQUFFLEtBQUssQ0FDdkMsQ0FBQSxDQUNILENBQ0wsQ0FFQSxVQUFXLENBQ1AsUUFBUSxJQUFJLGtCQUFrQixDQUNsQyxDQUVBLE1BQU0sY0FBZSxDQUNaLEtBQUEsSUFBSSxVQUFVLG1CQUFtQmdCLEVBQWMsRUFFcEQsTUFBTSxLQUFLLElBQUksVUFBVSxhQUFhLEVBQUssRUFBRSxhQUFhLENBQ3RELEtBQU1BLEdBQ04sT0FBUSxFQUFBLENBQ1gsRUFFSSxLQUFBLElBQUksVUFBVSxXQUFXLEtBQUssSUFBSSxVQUFVLGdCQUFnQkEsRUFBYyxFQUFFLENBQUMsQ0FBQyxDQUN2RixDQUNKLENBRU8sTUFBTWhCLFdBQXdCNkIsR0FBQUEsaUJBQXlCLENBQzFELFlBQVlwQyxFQUFVLENBQ2xCLE1BQU1BLENBQUcsRUFDVCxLQUFLLElBQU1BLEVBQ1gsS0FBSyxlQUFlLDRCQUE0QixDQUNwRCxDQUNBLFVBQW9CLENBQ2hCLE9BQU8sS0FBSyxJQUFJLE1BQU0sbUJBQW1CLEtBQUssQ0FBQzM0RCxFQUFHQyxJQUFNRCxFQUFFLFNBQVMsY0FBY0MsRUFBRSxRQUFRLENBQUMsQ0FDaEcsQ0FDQSxZQUFZMlgsRUFBcUIsQ0FDN0IsT0FBT0EsRUFBSyxRQUNoQixDQUNBLGFBQWE2WSxFQUFhLENBQ2hCLE1BQUEyUCxFQUFPLFNBQVMsZUFBZSw4QkFBOEIsRUFDbkVBLEVBQUssTUFBUUEsRUFBSyxNQUFRLElBQUkzUCxFQUFLLFFBQVEsSUFDL0MsQ0FDSixrRUM1R0EsT0FBTyxlQUFjdmxCLEVBQVUsYUFBYyxDQUFFLE1BQU8sRUFBSSxDQUFFLEVBQzVEQSxFQUFBLGNBQXdCQSxFQUF3QixjQUFBQSxFQUFBLFdBQXFCQSxFQUFlLEtBQUEsT0FDcEYsSUFBSTh2RCxHQUNILFNBQVVBLEVBQU0sQ0FDYkEsRUFBSyxZQUFlcmtELEdBQVFBLEVBQzVCLFNBQVNza0QsRUFBU0MsRUFBTSxDQUFHLENBQzNCRixFQUFLLFNBQVdDLEVBQ2hCLFNBQVNFLEVBQVlDLEVBQUksQ0FDckIsTUFBTSxJQUFJLEtBQ2IsQ0FDREosRUFBSyxZQUFjRyxFQUNuQkgsRUFBSyxZQUFlcC9DLEdBQVUsQ0FDMUIsTUFBTXpiLEVBQU0sQ0FBQSxFQUNaLFVBQVd5WCxLQUFRZ0UsRUFDZnpiLEVBQUl5WCxDQUFJLEVBQUlBLEVBRWhCLE9BQU96WCxDQUNmLEVBQ0k2NkQsRUFBSyxtQkFBc0I3NkQsR0FBUSxDQUMvQixNQUFNazdELEVBQVlMLEVBQUssV0FBVzc2RCxDQUFHLEVBQUUsT0FBUVosR0FBTSxPQUFPWSxFQUFJQSxFQUFJWixDQUFDLENBQUMsR0FBTSxRQUFRLEVBQzlFd0YsRUFBVyxDQUFBLEVBQ2pCLFVBQVd4RixLQUFLODdELEVBQ1p0MkQsRUFBU3hGLENBQUMsRUFBSVksRUFBSVosQ0FBQyxFQUV2QixPQUFPeTdELEVBQUssYUFBYWoyRCxDQUFRLENBQ3pDLEVBQ0lpMkQsRUFBSyxhQUFnQjc2RCxHQUNWNjZELEVBQUssV0FBVzc2RCxDQUFHLEVBQUUsSUFBSSxTQUFVb25CLEVBQUcsQ0FDekMsT0FBT3BuQixFQUFJb25CLENBQUMsQ0FDeEIsQ0FBUyxFQUVMeXpDLEVBQUssV0FBYSxPQUFPLE9BQU8sTUFBUyxXQUNsQzc2RCxHQUFRLE9BQU8sS0FBS0EsQ0FBRyxFQUN2QmlwQyxHQUFXLENBQ1YsTUFBTXZrQixFQUFPLENBQUEsRUFDYixVQUFXamhCLEtBQU93bEMsRUFDVixPQUFPLFVBQVUsZUFBZSxLQUFLQSxFQUFReGxDLENBQUcsR0FDaERpaEIsRUFBSyxLQUFLamhCLENBQUcsRUFHckIsT0FBT2loQixDQUNuQixFQUNJbTJDLEVBQUssS0FBTyxDQUFDbnVELEVBQUt5dUQsSUFBWSxDQUMxQixVQUFXMWpELEtBQVEvSyxFQUNmLEdBQUl5dUQsRUFBUTFqRCxDQUFJLEVBQ1osT0FBT0EsQ0FHdkIsRUFDSW9qRCxFQUFLLFVBQVksT0FBTyxPQUFPLFdBQWMsV0FDdENya0QsR0FBUSxPQUFPLFVBQVVBLENBQUcsRUFDNUJBLEdBQVEsT0FBT0EsR0FBUSxVQUFZLFNBQVNBLENBQUcsR0FBSyxLQUFLLE1BQU1BLENBQUcsSUFBTUEsRUFDL0UsU0FBUzRrRCxFQUFXbmtELEVBQU9va0QsRUFBWSxNQUFPLENBQzFDLE9BQU9wa0QsRUFDRixJQUFLVCxHQUFTLE9BQU9BLEdBQVEsU0FBVyxJQUFJQSxDQUFHLElBQU1BLENBQUksRUFDekQsS0FBSzZrRCxDQUFTLENBQ3RCLENBQ0RSLEVBQUssV0FBYU8sRUFDbEJQLEVBQUssc0JBQXdCLENBQUN0c0QsRUFBR3BMLElBQ3pCLE9BQU9BLEdBQVUsU0FDVkEsRUFBTSxXQUVWQSxJQUVaMDNELEVBQU85dkQsRUFBUSxPQUFTQSxFQUFlLEtBQUEsQ0FBRSxFQUFDLEVBRTVDLFNBQVV1d0QsRUFBWSxDQUNuQkEsRUFBVyxZQUFjLENBQUNua0QsRUFBTzZ3QixLQUN0QixDQUNILEdBQUc3d0IsRUFDSCxHQUFHNndCLENBQ2YsSUFFZ0JqOUIsRUFBUSxhQUFlQSxFQUFxQixXQUFBLENBQUEsRUFBRyxFQUMvREEsRUFBd0IsY0FBQTh2RCxFQUFLLFlBQVksQ0FDckMsU0FDQSxNQUNBLFNBQ0EsVUFDQSxRQUNBLFVBQ0EsT0FDQSxTQUNBLFNBQ0EsV0FDQSxZQUNBLE9BQ0EsUUFDQSxTQUNBLFVBQ0EsVUFDQSxPQUNBLFFBQ0EsTUFDQSxLQUNKLENBQUMsRUFDRCxNQUFNVSxFQUFpQjk0RCxHQUFTLENBRTVCLE9BRFUsT0FBT0EsRUFDUixDQUNMLElBQUssWUFDRCxPQUFPc0ksRUFBUSxjQUFjLFVBQ2pDLElBQUssU0FDRCxPQUFPQSxFQUFRLGNBQWMsT0FDakMsSUFBSyxTQUNELE9BQU8sTUFBTXRJLENBQUksRUFBSXNJLEVBQVEsY0FBYyxJQUFNQSxFQUFRLGNBQWMsT0FDM0UsSUFBSyxVQUNELE9BQU9BLEVBQVEsY0FBYyxRQUNqQyxJQUFLLFdBQ0QsT0FBT0EsRUFBUSxjQUFjLFNBQ2pDLElBQUssU0FDRCxPQUFPQSxFQUFRLGNBQWMsT0FDakMsSUFBSyxTQUNELE9BQU9BLEVBQVEsY0FBYyxPQUNqQyxJQUFLLFNBQ0QsT0FBSSxNQUFNLFFBQVF0SSxDQUFJLEVBQ1hzSSxFQUFRLGNBQWMsTUFFN0J0SSxJQUFTLEtBQ0ZzSSxFQUFRLGNBQWMsS0FFN0J0SSxFQUFLLE1BQ0wsT0FBT0EsRUFBSyxNQUFTLFlBQ3JCQSxFQUFLLE9BQ0wsT0FBT0EsRUFBSyxPQUFVLFdBQ2ZzSSxFQUFRLGNBQWMsUUFFN0IsT0FBTyxJQUFRLEtBQWV0SSxhQUFnQixJQUN2Q3NJLEVBQVEsY0FBYyxJQUU3QixPQUFPLElBQVEsS0FBZXRJLGFBQWdCLElBQ3ZDc0ksRUFBUSxjQUFjLElBRTdCLE9BQU8sS0FBUyxLQUFldEksYUFBZ0IsS0FDeENzSSxFQUFRLGNBQWMsS0FFMUJBLEVBQVEsY0FBYyxPQUNqQyxRQUNJLE9BQU9BLEVBQVEsY0FBYyxPQUNwQyxDQUNMLEVBQ0FBLEVBQUEsY0FBd0J3d0Qsa0JDNUl4QixPQUFPLGVBQWVDLEdBQVMsYUFBYyxDQUFFLE1BQU8sRUFBSSxDQUFFLEVBQzVEQSxHQUFBLFNBQXdDQSxHQUFBLDhCQUEwQixPQUNsRSxNQUFNQyxHQUFTM3dELEdBQ2Ywd0QsR0FBQSxhQUF1QkMsR0FBTyxLQUFLLFlBQVksQ0FDM0MsZUFDQSxrQkFDQSxTQUNBLGdCQUNBLDhCQUNBLHFCQUNBLG9CQUNBLG9CQUNBLHNCQUNBLGVBQ0EsaUJBQ0EsWUFDQSxVQUNBLDZCQUNBLGtCQUNBLFlBQ0osQ0FBQyxFQUNELE1BQU1DLEdBQWlCMTdELEdBQ04sS0FBSyxVQUFVQSxFQUFLLEtBQU0sQ0FBQyxFQUM1QixRQUFRLGNBQWUsS0FBSyxFQUV2Qnc3RCxHQUFBLGNBQUdFLEdBQ3hCLE1BQU1DLFdBQWlCLEtBQU0sQ0FDekIsWUFBWUMsRUFBUSxDQUNoQixRQUNBLEtBQUssT0FBUyxHQUNkLEtBQUssU0FBWUMsR0FBUSxDQUNyQixLQUFLLE9BQVMsQ0FBQyxHQUFHLEtBQUssT0FBUUEsQ0FBRyxDQUM5QyxFQUNRLEtBQUssVUFBWSxDQUFDQyxFQUFPLEtBQU8sQ0FDNUIsS0FBSyxPQUFTLENBQUMsR0FBRyxLQUFLLE9BQVEsR0FBR0EsQ0FBSSxDQUNsRCxFQUNRLE1BQU1DLEVBQWMsV0FBVyxVQUMzQixPQUFPLGVBRVAsT0FBTyxlQUFlLEtBQU1BLENBQVcsRUFHdkMsS0FBSyxVQUFZQSxFQUVyQixLQUFLLEtBQU8sV0FDWixLQUFLLE9BQVNILENBQ2pCLENBQ0QsSUFBSSxRQUFTLENBQ1QsT0FBTyxLQUFLLE1BQ2YsQ0FDRCxPQUFPSSxFQUFTLENBQ1osTUFBTTlzRCxFQUFTOHNELEdBQ1gsU0FBVUMsRUFBTyxDQUNiLE9BQU9BLEVBQU0sT0FDN0IsRUFDY0MsRUFBYyxDQUFFLFFBQVMsQ0FBQSxHQUN6QkMsRUFBZ0J4eEQsR0FBVSxDQUM1QixVQUFXc3hELEtBQVN0eEQsRUFBTSxPQUN0QixHQUFJc3hELEVBQU0sT0FBUyxnQkFDZkEsRUFBTSxZQUFZLElBQUlFLENBQVksVUFFN0JGLEVBQU0sT0FBUyxzQkFDcEJFLEVBQWFGLEVBQU0sZUFBZSxVQUU3QkEsRUFBTSxPQUFTLG9CQUNwQkUsRUFBYUYsRUFBTSxjQUFjLFVBRTVCQSxFQUFNLEtBQUssU0FBVyxFQUMzQkMsRUFBWSxRQUFRLEtBQUtodEQsRUFBTytzRCxDQUFLLENBQUMsTUFFckMsQ0FDRCxJQUFJRyxFQUFPRixFQUNQLzZELEVBQUksRUFDUixLQUFPQSxFQUFJODZELEVBQU0sS0FBSyxRQUFRLENBQzFCLE1BQU1JLEVBQUtKLEVBQU0sS0FBSzk2RCxDQUFDLEVBQ05BLElBQU04NkQsRUFBTSxLQUFLLE9BQVMsR0FZdkNHLEVBQUtDLENBQUUsRUFBSUQsRUFBS0MsQ0FBRSxHQUFLLENBQUUsUUFBUyxDQUFBLEdBQ2xDRCxFQUFLQyxDQUFFLEVBQUUsUUFBUSxLQUFLbnRELEVBQU8rc0QsQ0FBSyxDQUFDLEdBWG5DRyxFQUFLQyxDQUFFLEVBQUlELEVBQUtDLENBQUUsR0FBSyxDQUFFLFFBQVMsQ0FBQSxHQWF0Q0QsRUFBT0EsRUFBS0MsQ0FBRSxFQUNkbDdELEdBQ0gsQ0FDSixDQUVqQixFQUNRLE9BQUFnN0QsRUFBYSxJQUFJLEVBQ1ZELENBQ1YsQ0FDRCxVQUFXLENBQ1AsT0FBTyxLQUFLLE9BQ2YsQ0FDRCxJQUFJLFNBQVUsQ0FDVixPQUFPLEtBQUssVUFBVSxLQUFLLE9BQVFULEdBQU8sS0FBSyxzQkFBdUIsQ0FBQyxDQUMxRSxDQUNELElBQUksU0FBVSxDQUNWLE9BQU8sS0FBSyxPQUFPLFNBQVcsQ0FDakMsQ0FDRCxRQUFRdnNELEVBQVUrc0QsR0FBVUEsRUFBTSxRQUFTLENBQ3ZDLE1BQU1DLEVBQWMsQ0FBQSxFQUNkSSxFQUFhLENBQUEsRUFDbkIsVUFBV1QsS0FBTyxLQUFLLE9BQ2ZBLEVBQUksS0FBSyxPQUFTLEdBQ2xCSyxFQUFZTCxFQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUlLLEVBQVlMLEVBQUksS0FBSyxDQUFDLENBQUMsR0FBSyxDQUFBLEVBQ3ZESyxFQUFZTCxFQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSzNzRCxFQUFPMnNELENBQUcsQ0FBQyxHQUd6Q1MsRUFBVyxLQUFLcHRELEVBQU8yc0QsQ0FBRyxDQUFDLEVBR25DLE1BQU8sQ0FBRSxXQUFBUyxFQUFZLFlBQUFKLEVBQ3hCLENBQ0QsSUFBSSxZQUFhLENBQ2IsT0FBTyxLQUFLLFNBQ2YsQ0FDTCxDQUNnQlYsR0FBQSxTQUFHRyxHQUNuQkEsR0FBUyxPQUFVQyxHQUNELElBQUlELEdBQVNDLENBQU0sRUNoSXJDLE9BQU8sZUFBZVcsR0FBUyxhQUFjLENBQUUsTUFBTyxFQUFJLENBQUUsRUFDNUQsTUFBTWQsR0FBUzN3RCxHQUNUMHdELEdBQWE1akQsR0FDYjRrRCxHQUFXLENBQUNQLEVBQU9RLElBQVMsQ0FDOUIsSUFBSTd4RCxFQUNKLE9BQVFxeEQsRUFBTSxLQUFJLENBQ2QsS0FBS1QsR0FBVyxhQUFhLGFBQ3JCUyxFQUFNLFdBQWFSLEdBQU8sY0FBYyxVQUN4Qzd3RCxFQUFVLFdBR1ZBLEVBQVUsWUFBWXF4RCxFQUFNLFFBQVEsY0FBY0EsRUFBTSxRQUFRLEdBRXBFLE1BQ0osS0FBS1QsR0FBVyxhQUFhLGdCQUN6QjV3RCxFQUFVLG1DQUFtQyxLQUFLLFVBQVVxeEQsRUFBTSxTQUFVUixHQUFPLEtBQUsscUJBQXFCLENBQUMsR0FDOUcsTUFDSixLQUFLRCxHQUFXLGFBQWEsa0JBQ3pCNXdELEVBQVUsa0NBQWtDNndELEdBQU8sS0FBSyxXQUFXUSxFQUFNLEtBQU0sSUFBSSxDQUFDLEdBQ3BGLE1BQ0osS0FBS1QsR0FBVyxhQUFhLGNBQ3pCNXdELEVBQVUsZ0JBQ1YsTUFDSixLQUFLNHdELEdBQVcsYUFBYSw0QkFDekI1d0QsRUFBVSx5Q0FBeUM2d0QsR0FBTyxLQUFLLFdBQVdRLEVBQU0sT0FBTyxDQUFDLEdBQ3hGLE1BQ0osS0FBS1QsR0FBVyxhQUFhLG1CQUN6QjV3RCxFQUFVLGdDQUFnQzZ3RCxHQUFPLEtBQUssV0FBV1EsRUFBTSxPQUFPLENBQUMsZUFBZUEsRUFBTSxRQUFRLElBQzVHLE1BQ0osS0FBS1QsR0FBVyxhQUFhLGtCQUN6QjV3RCxFQUFVLDZCQUNWLE1BQ0osS0FBSzR3RCxHQUFXLGFBQWEsb0JBQ3pCNXdELEVBQVUsK0JBQ1YsTUFDSixLQUFLNHdELEdBQVcsYUFBYSxhQUN6QjV3RCxFQUFVLGVBQ1YsTUFDSixLQUFLNHdELEdBQVcsYUFBYSxlQUNyQixPQUFPUyxFQUFNLFlBQWUsU0FDeEIsYUFBY0EsRUFBTSxZQUNwQnJ4RCxFQUFVLGdDQUFnQ3F4RCxFQUFNLFdBQVcsUUFBUSxJQUMvRCxPQUFPQSxFQUFNLFdBQVcsVUFBYSxXQUNyQ3J4RCxFQUFVLEdBQUdBLENBQU8sc0RBQXNEcXhELEVBQU0sV0FBVyxRQUFRLEtBR2xHLGVBQWdCQSxFQUFNLFdBQzNCcnhELEVBQVUsbUNBQW1DcXhELEVBQU0sV0FBVyxVQUFVLElBRW5FLGFBQWNBLEVBQU0sV0FDekJyeEQsRUFBVSxpQ0FBaUNxeEQsRUFBTSxXQUFXLFFBQVEsSUFHcEVSLEdBQU8sS0FBSyxZQUFZUSxFQUFNLFVBQVUsRUFHdkNBLEVBQU0sYUFBZSxRQUMxQnJ4RCxFQUFVLFdBQVdxeEQsRUFBTSxVQUFVLEdBR3JDcnhELEVBQVUsVUFFZCxNQUNKLEtBQUs0d0QsR0FBVyxhQUFhLFVBQ3JCUyxFQUFNLE9BQVMsUUFDZnJ4RCxFQUFVLHNCQUFzQnF4RCxFQUFNLE1BQVEsVUFBWUEsRUFBTSxVQUFZLFdBQWEsV0FBVyxJQUFJQSxFQUFNLE9BQU8sY0FDaEhBLEVBQU0sT0FBUyxTQUNwQnJ4RCxFQUFVLHVCQUF1QnF4RCxFQUFNLE1BQVEsVUFBWUEsRUFBTSxVQUFZLFdBQWEsTUFBTSxJQUFJQSxFQUFNLE9BQU8sZ0JBQzVHQSxFQUFNLE9BQVMsU0FDcEJyeEQsRUFBVSxrQkFBa0JxeEQsRUFBTSxNQUM1QixvQkFDQUEsRUFBTSxVQUNGLDRCQUNBLGVBQWUsR0FBR0EsRUFBTSxPQUFPLEdBQ3BDQSxFQUFNLE9BQVMsT0FDcEJyeEQsRUFBVSxnQkFBZ0JxeEQsRUFBTSxNQUMxQixvQkFDQUEsRUFBTSxVQUNGLDRCQUNBLGVBQWUsR0FBRyxJQUFJLEtBQUssT0FBT0EsRUFBTSxPQUFPLENBQUMsQ0FBQyxHQUUzRHJ4RCxFQUFVLGdCQUNkLE1BQ0osS0FBSzR3RCxHQUFXLGFBQWEsUUFDckJTLEVBQU0sT0FBUyxRQUNmcnhELEVBQVUsc0JBQXNCcXhELEVBQU0sTUFBUSxVQUFZQSxFQUFNLFVBQVksVUFBWSxXQUFXLElBQUlBLEVBQU0sT0FBTyxjQUMvR0EsRUFBTSxPQUFTLFNBQ3BCcnhELEVBQVUsdUJBQXVCcXhELEVBQU0sTUFBUSxVQUFZQSxFQUFNLFVBQVksVUFBWSxPQUFPLElBQUlBLEVBQU0sT0FBTyxnQkFDNUdBLEVBQU0sT0FBUyxTQUNwQnJ4RCxFQUFVLGtCQUFrQnF4RCxFQUFNLE1BQzVCLFVBQ0FBLEVBQU0sVUFDRix3QkFDQSxXQUFXLElBQUlBLEVBQU0sT0FBTyxHQUNqQ0EsRUFBTSxPQUFTLFNBQ3BCcnhELEVBQVUsa0JBQWtCcXhELEVBQU0sTUFDNUIsVUFDQUEsRUFBTSxVQUNGLHdCQUNBLFdBQVcsSUFBSUEsRUFBTSxPQUFPLEdBQ2pDQSxFQUFNLE9BQVMsT0FDcEJyeEQsRUFBVSxnQkFBZ0JxeEQsRUFBTSxNQUMxQixVQUNBQSxFQUFNLFVBQ0YsMkJBQ0EsY0FBYyxJQUFJLElBQUksS0FBSyxPQUFPQSxFQUFNLE9BQU8sQ0FBQyxDQUFDLEdBRTNEcnhELEVBQVUsZ0JBQ2QsTUFDSixLQUFLNHdELEdBQVcsYUFBYSxPQUN6QjV3RCxFQUFVLGdCQUNWLE1BQ0osS0FBSzR3RCxHQUFXLGFBQWEsMkJBQ3pCNXdELEVBQVUsMkNBQ1YsTUFDSixLQUFLNHdELEdBQVcsYUFBYSxnQkFDekI1d0QsRUFBVSxnQ0FBZ0NxeEQsRUFBTSxVQUFVLEdBQzFELE1BQ0osS0FBS1QsR0FBVyxhQUFhLFdBQ3pCNXdELEVBQVUsd0JBQ1YsTUFDSixRQUNJQSxFQUFVNnhELEVBQUssYUFDZmhCLEdBQU8sS0FBSyxZQUFZUSxDQUFLLENBQ3BDLENBQ0QsTUFBTyxDQUFFLFFBQUFyeEQsQ0FBTyxDQUNwQixFQUNBMnhELEdBQUEsUUFBa0JDLEdDL0hsQixJQUFJRSxHQUFtQmhzQyxJQUFRQSxHQUFLLGlCQUFvQixTQUFVaXNDLEVBQUssQ0FDbkUsT0FBUUEsR0FBT0EsRUFBSSxXQUFjQSxFQUFNLENBQUUsUUFBV0EsRUFDeEQsRUFDQSxPQUFPLGVBQWV2eUIsR0FBUyxhQUFjLENBQUUsTUFBTyxFQUFJLENBQUUsRUFDNURBLEdBQUEsWUFBeUNBLEdBQUEsK0JBQTZCLE9BQ3RFLE1BQU13eUIsR0FBT0YsR0FBZ0I1eEQsRUFBdUIsRUFDcERzL0IsR0FBQSxnQkFBMEJ3eUIsR0FBSyxRQUMvQixJQUFJQyxHQUFtQkQsR0FBSyxRQUM1QixTQUFTRSxHQUFZaHVELEVBQUssQ0FDdEIrdEQsR0FBbUIvdEQsQ0FDdkIsQ0FDbUJzN0IsR0FBQSxZQUFHMHlCLEdBQ3RCLFNBQVNDLElBQWMsQ0FDbkIsT0FBT0YsRUFDWCxDQUNBenlCLEdBQUEsWUFBc0IyeUIsMEJDZnRCLElBQUlMLEVBQW1CaHNDLElBQVFBLEdBQUssaUJBQW9CLFNBQVVpc0MsRUFBSyxDQUNuRSxPQUFRQSxHQUFPQSxFQUFJLFdBQWNBLEVBQU0sQ0FBRSxRQUFXQSxFQUN4RCxFQUNBLE9BQU8sZUFBYzV4RCxFQUFVLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUM1REEsRUFBQSxRQUFrQkEsRUFBa0IsUUFBQUEsRUFBQSxRQUFrQkEsRUFBb0IsVUFBQUEsRUFBQSxHQUFhQSxFQUFnQixNQUFBQSxFQUFBLFFBQWtCQSxFQUFzQixZQUFBQSxFQUFBLGtCQUE0QkEsRUFBcUIsV0FBQUEsRUFBQSxVQUFvQixPQUNwTixNQUFNaXlELEVBQVdseUQsR0FDWDh4RCxFQUFPRixFQUFnQjlrRCxFQUF3QixFQUMvQ3FsRCxFQUFhcGtELEdBQVcsQ0FDMUIsS0FBTSxDQUFFLEtBQUFwVyxFQUFNLEtBQUE0RyxFQUFNLFVBQUE2ekQsRUFBVyxVQUFBQyxDQUFTLEVBQUt0a0QsRUFDdkN1a0QsRUFBVyxDQUFDLEdBQUcvekQsRUFBTSxHQUFJOHpELEVBQVUsTUFBUSxDQUFFLENBQUMsRUFDOUNFLEVBQVksQ0FDZCxHQUFHRixFQUNILEtBQU1DLENBQ2QsRUFDSSxJQUFJcnhELEVBQWUsR0FDbkIsTUFBTXV4RCxFQUFPSixFQUNSLE9BQVF6dUQsR0FBTSxDQUFDLENBQUNBLENBQUMsRUFDakIsTUFBTyxFQUNQLFVBQ0wsVUFBV0ssS0FBT3d1RCxFQUNkdnhELEVBQWUrQyxFQUFJdXVELEVBQVcsQ0FBRSxLQUFBNTZELEVBQU0sYUFBY3NKLENBQVksQ0FBRSxFQUFFLFFBRXhFLE1BQU8sQ0FDSCxHQUFHb3hELEVBQ0gsS0FBTUMsRUFDTixRQUFTRCxFQUFVLFNBQVdweEQsQ0FDdEMsQ0FDQSxFQUNBaEIsRUFBQSxVQUFvQmt5RCxFQUNwQmx5RCxFQUFBLFdBQXFCLEdBQ3JCLFNBQVN3eUQsRUFBa0I3OEQsRUFBS3k4RCxFQUFXLENBQ3ZDLE1BQU1sQixLQUFZbHhELEVBQVEsV0FBVyxDQUNqQyxVQUFXb3lELEVBQ1gsS0FBTXo4RCxFQUFJLEtBQ1YsS0FBTUEsRUFBSSxLQUNWLFVBQVcsQ0FDUEEsRUFBSSxPQUFPLG1CQUNYQSxFQUFJLGtCQUNBczhELEVBQVMsYUFBYyxFQUMzQkosRUFBSyxPQUNSLEVBQUMsT0FBUWp1RCxHQUFNLENBQUMsQ0FBQ0EsQ0FBQyxDQUMzQixDQUFLLEVBQ0RqTyxFQUFJLE9BQU8sT0FBTyxLQUFLdTdELENBQUssQ0FDL0IsQ0FDRGx4RCxFQUFBLGtCQUE0Qnd5RCxFQUM1QixNQUFNQyxDQUFZLENBQ2QsYUFBYyxDQUNWLEtBQUssTUFBUSxPQUNoQixDQUNELE9BQVEsQ0FDQSxLQUFLLFFBQVUsVUFDZixLQUFLLE1BQVEsUUFDcEIsQ0FDRCxPQUFRLENBQ0EsS0FBSyxRQUFVLFlBQ2YsS0FBSyxNQUFRLFVBQ3BCLENBQ0QsT0FBTyxXQUFXeGtELEVBQVE2TixFQUFTLENBQy9CLE1BQU00MkMsRUFBYSxDQUFBLEVBQ25CLFVBQVdqN0IsS0FBSzNiLEVBQVMsQ0FDckIsR0FBSTJiLEVBQUUsU0FBVyxVQUNiLE9BQU96M0IsRUFBUSxRQUNmeTNCLEVBQUUsU0FBVyxTQUNieHBCLEVBQU8sTUFBSyxFQUNoQnlrRCxFQUFXLEtBQUtqN0IsRUFBRSxLQUFLLENBQzFCLENBQ0QsTUFBTyxDQUFFLE9BQVF4cEIsRUFBTyxNQUFPLE1BQU95a0QsQ0FBVSxDQUNuRCxDQUNELGFBQWEsaUJBQWlCemtELEVBQVEwa0QsRUFBTyxDQUN6QyxNQUFNQyxFQUFZLENBQUEsRUFDbEIsVUFBV0MsS0FBUUYsRUFDZkMsRUFBVSxLQUFLLENBQ1gsSUFBSyxNQUFNQyxFQUFLLElBQ2hCLE1BQU8sTUFBTUEsRUFBSyxLQUNsQyxDQUFhLEVBRUwsT0FBT0osRUFBWSxnQkFBZ0J4a0QsRUFBUTJrRCxDQUFTLENBQ3ZELENBQ0QsT0FBTyxnQkFBZ0Iza0QsRUFBUTBrRCxFQUFPLENBQ2xDLE1BQU1HLEVBQWMsQ0FBQSxFQUNwQixVQUFXRCxLQUFRRixFQUFPLENBQ3RCLEtBQU0sQ0FBRSxJQUFBajZELEVBQUssTUFBQU4sQ0FBTyxFQUFHeTZELEVBR3ZCLEdBRkluNkQsRUFBSSxTQUFXLFdBRWZOLEVBQU0sU0FBVyxVQUNqQixPQUFPNEgsRUFBUSxRQUNmdEgsRUFBSSxTQUFXLFNBQ2Z1VixFQUFPLE1BQUssRUFDWjdWLEVBQU0sU0FBVyxTQUNqQjZWLEVBQU8sTUFBSyxFQUNadlYsRUFBSSxRQUFVLGNBQ2IsT0FBT04sRUFBTSxNQUFVLEtBQWV5NkQsRUFBSyxhQUM1Q0MsRUFBWXA2RCxFQUFJLEtBQUssRUFBSU4sRUFBTSxNQUV0QyxDQUNELE1BQU8sQ0FBRSxPQUFRNlYsRUFBTyxNQUFPLE1BQU82a0QsQ0FBVyxDQUNwRCxDQUNKLENBQ0Q5eUQsRUFBQSxZQUFzQnl5RCxFQUN0Qnp5RCxFQUFrQixRQUFBLE9BQU8sT0FBTyxDQUM1QixPQUFRLFNBQ1osQ0FBQyxFQUNELE1BQU0reUQsRUFBUzM2RCxJQUFXLENBQUUsT0FBUSxRQUFTLE1BQUFBLENBQUssR0FDbEQ0SCxFQUFBLE1BQWdCK3lELEVBQ2hCLE1BQU1DLEVBQU01NkQsSUFBVyxDQUFFLE9BQVEsUUFBUyxNQUFBQSxDQUFLLEdBQy9DNEgsRUFBQSxHQUFhZ3pELEVBQ2IsTUFBTUMsRUFBYXJ2RCxHQUFNQSxFQUFFLFNBQVcsVUFDdEM1RCxFQUFBLFVBQW9CaXpELEVBQ3BCLE1BQU1DLEVBQVd0dkQsR0FBTUEsRUFBRSxTQUFXLFFBQ3BDNUQsRUFBQSxRQUFrQmt6RCxFQUNsQixNQUFNQyxFQUFXdnZELEdBQU1BLEVBQUUsU0FBVyxRQUNwQzVELEVBQUEsUUFBa0JtekQsRUFDbEIsTUFBTUMsRUFBV3h2RCxHQUFNLE9BQU8sUUFBWSxLQUFlQSxhQUFhLFFBQ3RFNUQsRUFBQSxRQUFrQm96RCxrQkNqSGxCLE9BQU8sZUFBZUMsR0FBUyxhQUFjLENBQUUsTUFBTyxFQUFJLENBQUUsK0JDQTVELE9BQU8sZUFBY3J6RCxFQUFVLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUM1REEsRUFBb0IsVUFBQSxPQUVuQixTQUFVc3pELEVBQVcsQ0FDbEJBLEVBQVUsU0FBWXp6RCxHQUFZLE9BQU9BLEdBQVksU0FBVyxDQUFFLFFBQUFBLENBQU8sRUFBS0EsR0FBVyxHQUN6Rnl6RCxFQUFVLFNBQVl6ekQsR0FBWSxPQUFPQSxHQUFZLFNBQVdBLEVBQVVBLEdBQVksS0FBNkIsT0FBU0EsRUFBUSxTQUN6SEcsRUFBUSxZQUFjQSxFQUFBLFVBQW9CLENBQUEsRUFBRyxxQkNONUQsT0FBTyxlQUFjQSxFQUFVLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUM1REEsRUFBZSxLQUFBQSxFQUFBLFFBQWtCQSxTQUFpQkEsRUFBZ0IsTUFBQUEsRUFBQSxJQUFjQSxTQUFpQkEsRUFBZ0Msc0JBQUFBLEVBQUEsS0FBZUEsRUFBb0IsVUFBQUEsRUFBQSxPQUFpQkEsRUFBaUIsT0FBQUEsRUFBQSxZQUFzQkEsY0FBc0JBLEVBQXFCLFdBQUFBLEVBQUEsTUFBZ0JBLEVBQWlCLE9BQUFBLEVBQUEsU0FBbUJBLEVBQXFCLFdBQUFBLEVBQUEsWUFBc0JBLGNBQXNCQSxFQUF5QixlQUFBQSxFQUFBLFdBQXFCQSxFQUFxQixXQUFBQSxFQUFBLGNBQXdCQSxFQUFrQixRQUFBQSxFQUFBLFdBQXFCQSxVQUFrQkEsRUFBc0IsWUFBQUEsRUFBQSxPQUFpQkEsRUFBaUIsT0FBQUEsRUFBQSxVQUFvQkEsRUFBbUIsU0FBQUEsRUFBQSxnQkFBMEJBLHdCQUFnQ0EsRUFBbUIsU0FBQUEsRUFBQSxVQUFvQkEsRUFBbUIsU0FBQUEsRUFBQSxRQUFrQkEsRUFBbUIsU0FBQUEsRUFBQSxXQUFxQkEsU0FBaUJBLEVBQWtCLFFBQUFBLEVBQUEsYUFBdUJBLEVBQW9CLFVBQUFBLEVBQUEsUUFBa0JBLEVBQXFCLFdBQUFBLEVBQUEsVUFBb0JBLFlBQW9CQSxFQUFvQixVQUFBQSxFQUFBLFFBQWtCLE9BQ2grQkEsRUFBQSxNQUFnQkEsT0FBZUEsRUFBa0IsUUFBQUEsRUFBQSxNQUFnQkEsRUFBb0IsVUFBQUEsRUFBQSxNQUFnQkEsY0FBc0JBLEVBQWlCLE9BQUFBLEVBQUEsT0FBaUJBLEVBQXVCLGFBQUFBLEVBQUEsSUFBY0EsU0FBaUJBLEVBQWtCLFFBQUFBLEVBQUEsV0FBcUJBLEVBQW1CLFNBQUFBLEVBQUEsUUFBa0JBLFdBQW1CQSxFQUFrQixRQUFBQSxFQUFBLFNBQW1CQSxFQUFpQixPQUFBQSxFQUFBLE9BQWlCQSxXQUFtQkEsRUFBZSxLQUFBQSxFQUFBLE1BQWdCQSxFQUFxQixXQUFBQSxFQUFBLElBQWNBLE1BQWNBLEVBQWtCLFFBQUFBLEVBQUEsS0FBZUEsRUFBdUIsYUFBQUEsRUFBQSxXQUFxQkEsV0FBbUJBLEVBQWUsS0FBQUEsRUFBQSxPQUFpQkEsRUFBNkIsbUJBQUEsT0FDem5CLE1BQU1peUQsRUFBV2x5RCxHQUNYd3pELEVBQWMxbUQsR0FDZDJtRCxFQUFjem1ELEdBQ2QyakQsRUFBU3JILEdBQ1RvSCxFQUFhbkgsR0FDbkIsTUFBTW1LLENBQW1CLENBQ3JCLFlBQVkvcEQsRUFBUXRSLEVBQU9rRyxFQUFNNUYsRUFBSyxDQUNsQyxLQUFLLFlBQWMsR0FDbkIsS0FBSyxPQUFTZ1IsRUFDZCxLQUFLLEtBQU90UixFQUNaLEtBQUssTUFBUWtHLEVBQ2IsS0FBSyxLQUFPNUYsQ0FDZixDQUNELElBQUksTUFBTyxDQUNQLE9BQUssS0FBSyxZQUFZLFNBQ2QsS0FBSyxnQkFBZ0IsTUFDckIsS0FBSyxZQUFZLEtBQUssR0FBRyxLQUFLLE1BQU8sR0FBRyxLQUFLLElBQUksRUFHakQsS0FBSyxZQUFZLEtBQUssR0FBRyxLQUFLLE1BQU8sS0FBSyxJQUFJLEdBRy9DLEtBQUssV0FDZixDQUNKLENBQ0QsTUFBTWc3RCxFQUFlLENBQUMvOUQsRUFBS29CLElBQVcsQ0FDbEMsTUFBUXk4RCxFQUFZLFNBQVN6OEQsQ0FBTSxFQUMvQixNQUFPLENBQUUsUUFBUyxHQUFNLEtBQU1BLEVBQU8sS0FBSyxFQUcxQyxHQUFJLENBQUNwQixFQUFJLE9BQU8sT0FBTyxPQUNuQixNQUFNLElBQUksTUFBTSwyQ0FBMkMsRUFFL0QsTUFBTyxDQUNILFFBQVMsR0FDVCxJQUFJLE9BQVEsQ0FDUixHQUFJLEtBQUssT0FDTCxPQUFPLEtBQUssT0FDaEIsTUFBTWlLLEVBQVEsSUFBSTZ3RCxFQUFXLFNBQVM5NkQsRUFBSSxPQUFPLE1BQU0sRUFDdkQsWUFBSyxPQUFTaUssRUFDUCxLQUFLLE1BQ2YsQ0FDYixDQUVBLEVBQ0EsU0FBUyt6RCxFQUFvQjdsRCxFQUFRLENBQ2pDLEdBQUksQ0FBQ0EsRUFDRCxNQUFPLEdBQ1gsS0FBTSxDQUFFLFNBQUEyakQsRUFBVSxtQkFBQW1DLEVBQW9CLGVBQUFDLEVBQWdCLFlBQUF4Z0QsQ0FBVyxFQUFLdkYsRUFDdEUsR0FBSTJqRCxJQUFhbUMsR0FBc0JDLEdBQ25DLE1BQU0sSUFBSSxNQUFNLDBGQUEwRixFQUU5RyxPQUFJcEMsRUFDTyxDQUFFLFNBQVVBLEVBQVUsWUFBQXArQyxHQVMxQixDQUFFLFNBUlMsQ0FBQ3lnRCxFQUFLbitELElBQ2hCbStELEVBQUksT0FBUyxlQUNOLENBQUUsUUFBU24rRCxFQUFJLGNBQ3RCLE9BQU9BLEVBQUksS0FBUyxJQUNiLENBQUUsUUFBU2srRCxHQUF3RWwrRCxFQUFJLGNBRTNGLENBQUUsUUFBU2krRCxHQUFvRmorRCxFQUFJLGNBRWhGLFlBQUEwZCxFQUNqQyxDQUNELE1BQU0wZ0QsQ0FBUSxDQUNWLFlBQVlDLEVBQUssQ0FFYixLQUFLLElBQU0sS0FBSyxlQUNoQixLQUFLLEtBQU9BLEVBQ1osS0FBSyxNQUFRLEtBQUssTUFBTSxLQUFLLElBQUksRUFDakMsS0FBSyxVQUFZLEtBQUssVUFBVSxLQUFLLElBQUksRUFDekMsS0FBSyxXQUFhLEtBQUssV0FBVyxLQUFLLElBQUksRUFDM0MsS0FBSyxlQUFpQixLQUFLLGVBQWUsS0FBSyxJQUFJLEVBQ25ELEtBQUssSUFBTSxLQUFLLElBQUksS0FBSyxJQUFJLEVBQzdCLEtBQUssT0FBUyxLQUFLLE9BQU8sS0FBSyxJQUFJLEVBQ25DLEtBQUssV0FBYSxLQUFLLFdBQVcsS0FBSyxJQUFJLEVBQzNDLEtBQUssWUFBYyxLQUFLLFlBQVksS0FBSyxJQUFJLEVBQzdDLEtBQUssU0FBVyxLQUFLLFNBQVMsS0FBSyxJQUFJLEVBQ3ZDLEtBQUssU0FBVyxLQUFLLFNBQVMsS0FBSyxJQUFJLEVBQ3ZDLEtBQUssUUFBVSxLQUFLLFFBQVEsS0FBSyxJQUFJLEVBQ3JDLEtBQUssTUFBUSxLQUFLLE1BQU0sS0FBSyxJQUFJLEVBQ2pDLEtBQUssUUFBVSxLQUFLLFFBQVEsS0FBSyxJQUFJLEVBQ3JDLEtBQUssR0FBSyxLQUFLLEdBQUcsS0FBSyxJQUFJLEVBQzNCLEtBQUssSUFBTSxLQUFLLElBQUksS0FBSyxJQUFJLEVBQzdCLEtBQUssVUFBWSxLQUFLLFVBQVUsS0FBSyxJQUFJLEVBQ3pDLEtBQUssTUFBUSxLQUFLLE1BQU0sS0FBSyxJQUFJLEVBQ2pDLEtBQUssUUFBVSxLQUFLLFFBQVEsS0FBSyxJQUFJLEVBQ3JDLEtBQUssTUFBUSxLQUFLLE1BQU0sS0FBSyxJQUFJLEVBQ2pDLEtBQUssU0FBVyxLQUFLLFNBQVMsS0FBSyxJQUFJLEVBQ3ZDLEtBQUssS0FBTyxLQUFLLEtBQUssS0FBSyxJQUFJLEVBQy9CLEtBQUssU0FBVyxLQUFLLFNBQVMsS0FBSyxJQUFJLEVBQ3ZDLEtBQUssV0FBYSxLQUFLLFdBQVcsS0FBSyxJQUFJLEVBQzNDLEtBQUssV0FBYSxLQUFLLFdBQVcsS0FBSyxJQUFJLENBQzlDLENBQ0QsSUFBSSxhQUFjLENBQ2QsT0FBTyxLQUFLLEtBQUssV0FDcEIsQ0FDRCxTQUFTeDdELEVBQU8sQ0FDWixTQUFXazRELEVBQU8sZUFBZWw0RCxFQUFNLElBQUksQ0FDOUMsQ0FDRCxnQkFBZ0JBLEVBQU83QyxFQUFLLENBQ3hCLE9BQVFBLEdBQU8sQ0FDWCxPQUFRNkMsRUFBTSxPQUFPLE9BQ3JCLEtBQU1BLEVBQU0sS0FDWixjQUFnQms0RCxFQUFPLGVBQWVsNEQsRUFBTSxJQUFJLEVBQ2hELGVBQWdCLEtBQUssS0FBSyxTQUMxQixLQUFNQSxFQUFNLEtBQ1osT0FBUUEsRUFBTSxNQUMxQixDQUNLLENBQ0Qsb0JBQW9CQSxFQUFPLENBQ3ZCLE1BQU8sQ0FDSCxPQUFRLElBQUlnN0QsRUFBWSxZQUN4QixJQUFLLENBQ0QsT0FBUWg3RCxFQUFNLE9BQU8sT0FDckIsS0FBTUEsRUFBTSxLQUNaLGNBQWdCazRELEVBQU8sZUFBZWw0RCxFQUFNLElBQUksRUFDaEQsZUFBZ0IsS0FBSyxLQUFLLFNBQzFCLEtBQU1BLEVBQU0sS0FDWixPQUFRQSxFQUFNLE1BQ2pCLENBQ2IsQ0FDSyxDQUNELFdBQVdBLEVBQU8sQ0FDZCxNQUFNekIsRUFBUyxLQUFLLE9BQU95QixDQUFLLEVBQ2hDLE1BQVFnN0QsRUFBWSxTQUFTejhELENBQU0sRUFDL0IsTUFBTSxJQUFJLE1BQU0sd0NBQXdDLEVBRTVELE9BQU9BLENBQ1YsQ0FDRCxZQUFZeUIsRUFBTyxDQUNmLE1BQU16QixFQUFTLEtBQUssT0FBT3lCLENBQUssRUFDaEMsT0FBTyxRQUFRLFFBQVF6QixDQUFNLENBQ2hDLENBQ0QsTUFBTVcsRUFBTW9XLEVBQVEsQ0FDaEIsTUFBTS9XLEVBQVMsS0FBSyxVQUFVVyxFQUFNb1csQ0FBTSxFQUMxQyxHQUFJL1csRUFBTyxRQUNQLE9BQU9BLEVBQU8sS0FDbEIsTUFBTUEsRUFBTyxLQUNoQixDQUNELFVBQVVXLEVBQU1vVyxFQUFRLENBQ3BCLElBQUlsSSxFQUNKLE1BQU1qUSxFQUFNLENBQ1IsT0FBUSxDQUNKLE9BQVEsQ0FBRSxFQUNWLE9BQVFpUSxFQUFLa0ksR0FBVyxLQUE0QixPQUFTQSxFQUFPLFNBQVcsTUFBUWxJLElBQU8sT0FBU0EsRUFBSyxHQUM1RyxtQkFBb0JrSSxHQUFXLEtBQTRCLE9BQVNBLEVBQU8sUUFDOUUsRUFDRCxNQUFPQSxHQUFXLEtBQTRCLE9BQVNBLEVBQU8sT0FBUyxDQUFFLEVBQ3pFLGVBQWdCLEtBQUssS0FBSyxTQUMxQixPQUFRLEtBQ1IsS0FBQXBXLEVBQ0EsY0FBZ0JnNUQsRUFBTyxlQUFlaDVELENBQUksQ0FDdEQsRUFDY1gsRUFBUyxLQUFLLFdBQVcsQ0FBRSxLQUFBVyxFQUFNLEtBQU0vQixFQUFJLEtBQU0sT0FBUUEsQ0FBSyxDQUFBLEVBQ3BFLE9BQU8rOUQsRUFBYS85RCxFQUFLb0IsQ0FBTSxDQUNsQyxDQUNELE1BQU0sV0FBV1csRUFBTW9XLEVBQVEsQ0FDM0IsTUFBTS9XLEVBQVMsTUFBTSxLQUFLLGVBQWVXLEVBQU1vVyxDQUFNLEVBQ3JELEdBQUkvVyxFQUFPLFFBQ1AsT0FBT0EsRUFBTyxLQUNsQixNQUFNQSxFQUFPLEtBQ2hCLENBQ0QsTUFBTSxlQUFlVyxFQUFNb1csRUFBUSxDQUMvQixNQUFNblksRUFBTSxDQUNSLE9BQVEsQ0FDSixPQUFRLENBQUUsRUFDVixtQkFBb0JtWSxHQUFXLEtBQTRCLE9BQVNBLEVBQU8sU0FDM0UsTUFBTyxFQUNWLEVBQ0QsTUFBT0EsR0FBVyxLQUE0QixPQUFTQSxFQUFPLE9BQVMsQ0FBRSxFQUN6RSxlQUFnQixLQUFLLEtBQUssU0FDMUIsT0FBUSxLQUNSLEtBQUFwVyxFQUNBLGNBQWdCZzVELEVBQU8sZUFBZWg1RCxDQUFJLENBQ3RELEVBQ2N1OEQsRUFBbUIsS0FBSyxPQUFPLENBQUUsS0FBQXY4RCxFQUFNLEtBQU0vQixFQUFJLEtBQU0sT0FBUUEsQ0FBSyxDQUFBLEVBQ3BFb0IsRUFBUyxTQUFXeThELEVBQVksU0FBU1MsQ0FBZ0IsRUFDekRBLEVBQ0EsUUFBUSxRQUFRQSxDQUFnQixHQUN0QyxPQUFPUCxFQUFhLzlELEVBQUtvQixDQUFNLENBQ2xDLENBQ0QsT0FBT205RCxFQUFPcjBELEVBQVMsQ0FDbkIsTUFBTXMwRCxFQUFzQjFvRCxHQUNwQixPQUFPNUwsR0FBWSxVQUFZLE9BQU9BLEVBQVksSUFDM0MsQ0FBRSxRQUFBQSxDQUFPLEVBRVgsT0FBT0EsR0FBWSxXQUNqQkEsRUFBUTRMLENBQUcsRUFHWDVMLEVBR2YsT0FBTyxLQUFLLFlBQVksQ0FBQzRMLEVBQUs5VixJQUFRLENBQ2xDLE1BQU1vQixFQUFTbTlELEVBQU16b0QsQ0FBRyxFQUNsQjJvRCxFQUFXLElBQU16K0QsRUFBSSxTQUFTLENBQ2hDLEtBQU04NkQsRUFBVyxhQUFhLE9BQzlCLEdBQUcwRCxFQUFtQjFvRCxDQUFHLENBQ3pDLENBQWEsRUFDRCxPQUFJLE9BQU8sUUFBWSxLQUFlMVUsYUFBa0IsUUFDN0NBLEVBQU8sS0FBTVcsSUFDWEEsR0FLTSxJQUpQMDhELElBQ08sR0FLZCxFQUVBcjlELEVBS00sSUFKUHE5RCxJQUNPLEdBS3ZCLENBQVMsQ0FDSixDQUNELFdBQVdGLEVBQU9HLEVBQWdCLENBQzlCLE9BQU8sS0FBSyxZQUFZLENBQUM1b0QsRUFBSzlWLElBQ3JCdStELEVBQU16b0QsQ0FBRyxFQU9ILElBTlA5VixFQUFJLFNBQVMsT0FBTzArRCxHQUFtQixXQUNqQ0EsRUFBZTVvRCxFQUFLOVYsQ0FBRyxFQUN2QjArRCxDQUFjLEVBQ2IsR0FLZCxDQUNKLENBQ0QsWUFBWUMsRUFBWSxDQUNwQixPQUFPLElBQUlDLEdBQVcsQ0FDbEIsT0FBUSxLQUNSLFNBQVVDLEVBQXNCLFdBQ2hDLE9BQVEsQ0FBRSxLQUFNLGFBQWMsV0FBQUYsQ0FBWSxDQUN0RCxDQUFTLENBQ0osQ0FDRCxZQUFZQSxFQUFZLENBQ3BCLE9BQU8sS0FBSyxZQUFZQSxDQUFVLENBQ3JDLENBQ0QsVUFBVyxDQUNQLE9BQU9HLEdBQVksT0FBTyxLQUFNLEtBQUssSUFBSSxDQUM1QyxDQUNELFVBQVcsQ0FDUCxPQUFPQyxHQUFZLE9BQU8sS0FBTSxLQUFLLElBQUksQ0FDNUMsQ0FDRCxTQUFVLENBQ04sT0FBTyxLQUFLLFdBQVcsVUFDMUIsQ0FDRCxPQUFRLENBQ0osT0FBT0MsRUFBUyxPQUFPLEtBQU0sS0FBSyxJQUFJLENBQ3pDLENBQ0QsU0FBVSxDQUNOLE9BQU9DLEdBQVcsT0FBTyxLQUFNLEtBQUssSUFBSSxDQUMzQyxDQUNELEdBQUdDLEVBQVEsQ0FDUCxPQUFPQyxHQUFTLE9BQU8sQ0FBQyxLQUFNRCxDQUFNLEVBQUcsS0FBSyxJQUFJLENBQ25ELENBQ0QsSUFBSUUsRUFBVSxDQUNWLE9BQU9DLEdBQWdCLE9BQU8sS0FBTUQsRUFBVSxLQUFLLElBQUksQ0FDMUQsQ0FDRCxVQUFVcnVDLEVBQVcsQ0FDakIsT0FBTyxJQUFJNnRDLEdBQVcsQ0FDbEIsR0FBR1osRUFBb0IsS0FBSyxJQUFJLEVBQ2hDLE9BQVEsS0FDUixTQUFVYSxFQUFzQixXQUNoQyxPQUFRLENBQUUsS0FBTSxZQUFhLFVBQUE5dEMsQ0FBVyxDQUNwRCxDQUFTLENBQ0osQ0FDRCxRQUFRc3RDLEVBQUssQ0FDVCxNQUFNaUIsRUFBbUIsT0FBT2pCLEdBQVEsV0FBYUEsRUFBTSxJQUFNQSxFQUNqRSxPQUFPLElBQUlrQixHQUFXLENBQ2xCLEdBQUd2QixFQUFvQixLQUFLLElBQUksRUFDaEMsVUFBVyxLQUNYLGFBQWNzQixFQUNkLFNBQVVULEVBQXNCLFVBQzVDLENBQVMsQ0FDSixDQUNELE9BQVEsQ0FDSixPQUFPLElBQUlXLEdBQVcsQ0FDbEIsU0FBVVgsRUFBc0IsV0FDaEMsS0FBTSxLQUNOLEdBQUdiLEVBQW9CLEtBQUssSUFBSSxDQUM1QyxDQUFTLENBQ0osQ0FDRCxNQUFNSyxFQUFLLENBQ1AsTUFBTW9CLEVBQWlCLE9BQU9wQixHQUFRLFdBQWFBLEVBQU0sSUFBTUEsRUFDL0QsT0FBTyxJQUFJcUIsRUFBUyxDQUNoQixHQUFHMUIsRUFBb0IsS0FBSyxJQUFJLEVBQ2hDLFVBQVcsS0FDWCxXQUFZeUIsRUFDWixTQUFVWixFQUFzQixRQUM1QyxDQUFTLENBQ0osQ0FDRCxTQUFTbmhELEVBQWEsQ0FDbEIsTUFBTWlpRCxFQUFPLEtBQUssWUFDbEIsT0FBTyxJQUFJQSxFQUFLLENBQ1osR0FBRyxLQUFLLEtBQ1IsWUFBQWppRCxDQUNaLENBQVMsQ0FDSixDQUNELEtBQUtwYyxFQUFRLENBQ1QsT0FBT3MrRCxHQUFZLE9BQU8sS0FBTXQrRCxDQUFNLENBQ3pDLENBQ0QsVUFBVyxDQUNQLE9BQU91K0QsR0FBWSxPQUFPLElBQUksQ0FDakMsQ0FDRCxZQUFhLENBQ1QsT0FBTyxLQUFLLFVBQVUsTUFBUyxFQUFFLE9BQ3BDLENBQ0QsWUFBYSxDQUNULE9BQU8sS0FBSyxVQUFVLElBQUksRUFBRSxPQUMvQixDQUNKLENBQ0R4MUQsRUFBQSxRQUFrQit6RCxFQUNsQi96RCxFQUFBLE9BQWlCK3pELEVBQ2pCL3pELEVBQUEsVUFBb0IrekQsRUFDcEIsTUFBTTBCLEVBQVksaUJBQ1pDLEVBQWEsbUJBQ2JDLEVBQVksMkJBR1pDLEVBQVkseUZBYVpDLEVBQWEsbUZBSWJDLEVBQWMsdURBQ3BCLElBQUlDLEVBQ0osTUFBTUMsRUFBWSxnSEFDWkMsRUFBWSwrWEFFWkMsRUFBaUIxMUQsR0FDZkEsRUFBSyxVQUNEQSxFQUFLLE9BQ0UsSUFBSSxPQUFPLG9EQUFvREEsRUFBSyxTQUFTLCtCQUErQixFQUc1RyxJQUFJLE9BQU8sb0RBQW9EQSxFQUFLLFNBQVMsS0FBSyxFQUd4RkEsRUFBSyxZQUFjLEVBQ3BCQSxFQUFLLE9BQ0UsSUFBSSxPQUFPLHdFQUF3RSxFQUduRixJQUFJLE9BQU8sOENBQThDLEVBSWhFQSxFQUFLLE9BQ0UsSUFBSSxPQUFPLGtGQUFrRixFQUc3RixJQUFJLE9BQU8sd0RBQXdELEVBSXRGLFNBQVMyMUQsRUFBVUMsRUFBSUMsRUFBUyxDQUk1QixNQUhLLElBQUFBLElBQVksTUFBUSxDQUFDQSxJQUFZTCxFQUFVLEtBQUtJLENBQUUsSUFHbERDLElBQVksTUFBUSxDQUFDQSxJQUFZSixFQUFVLEtBQUtHLENBQUUsRUFJMUQsQ0FDRCxNQUFNRSxVQUFrQnZDLENBQVEsQ0FDNUIsT0FBT3Y3RCxFQUFPLENBS1YsR0FKSSxLQUFLLEtBQUssU0FDVkEsRUFBTSxLQUFPLE9BQU9BLEVBQU0sSUFBSSxHQUVmLEtBQUssU0FBU0EsQ0FBSyxJQUNuQms0RCxFQUFPLGNBQWMsT0FBUSxDQUM1QyxNQUFNLzZELEVBQU0sS0FBSyxnQkFBZ0I2QyxDQUFLLEVBQ3RDLFNBQUlnN0QsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxhQUM5QixTQUFVQyxFQUFPLGNBQWMsT0FDL0IsU0FBVS82RCxFQUFJLFVBQ2pCLENBRWIsRUFDbUI2OUQsRUFBWSxPQUN0QixDQUNELE1BQU12bEQsRUFBUyxJQUFJdWxELEVBQVksWUFDL0IsSUFBSTc5RCxFQUNKLFVBQVd1K0QsS0FBUyxLQUFLLEtBQUssT0FDMUIsR0FBSUEsRUFBTSxPQUFTLE1BQ1gxN0QsRUFBTSxLQUFLLE9BQVMwN0QsRUFBTSxRQUMxQnYrRCxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxVQUM5QixRQUFTeUQsRUFBTSxNQUNmLEtBQU0sU0FDTixVQUFXLEdBQ1gsTUFBTyxHQUNQLFFBQVNBLEVBQU0sT0FDdkMsQ0FBcUIsRUFDRGptRCxFQUFPLE1BQUssV0FHWGltRCxFQUFNLE9BQVMsTUFDaEIxN0QsRUFBTSxLQUFLLE9BQVMwN0QsRUFBTSxRQUMxQnYrRCxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxRQUM5QixRQUFTeUQsRUFBTSxNQUNmLEtBQU0sU0FDTixVQUFXLEdBQ1gsTUFBTyxHQUNQLFFBQVNBLEVBQU0sT0FDdkMsQ0FBcUIsRUFDRGptRCxFQUFPLE1BQUssV0FHWGltRCxFQUFNLE9BQVMsU0FBVSxDQUM5QixNQUFNcUMsRUFBUy85RCxFQUFNLEtBQUssT0FBUzA3RCxFQUFNLE1BQ25Dc0MsRUFBV2grRCxFQUFNLEtBQUssT0FBUzA3RCxFQUFNLE9BQ3ZDcUMsR0FBVUMsS0FDVjdnRSxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsRUFDakM0Z0UsS0FDSS9DLEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsUUFDOUIsUUFBU3lELEVBQU0sTUFDZixLQUFNLFNBQ04sVUFBVyxHQUNYLE1BQU8sR0FDUCxRQUFTQSxFQUFNLE9BQzNDLENBQXlCLEVBRUlzQyxNQUNEaEQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxVQUM5QixRQUFTeUQsRUFBTSxNQUNmLEtBQU0sU0FDTixVQUFXLEdBQ1gsTUFBTyxHQUNQLFFBQVNBLEVBQU0sT0FDM0MsQ0FBeUIsRUFFTGptRCxFQUFPLE1BQUssRUFFbkIsU0FDUWltRCxFQUFNLE9BQVMsUUFDZjJCLEVBQVcsS0FBS3I5RCxFQUFNLElBQUksSUFDM0I3QyxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxXQUFZLFFBQ1osS0FBTTg2RCxFQUFXLGFBQWEsZUFDOUIsUUFBU3lELEVBQU0sT0FDdkMsQ0FBcUIsRUFDRGptRCxFQUFPLE1BQUssV0FHWGltRCxFQUFNLE9BQVMsUUFDZjZCLElBQ0RBLEVBQWEsSUFBSSxPQUFPRCxFQUFhLEdBQUcsR0FFdkNDLEVBQVcsS0FBS3Y5RCxFQUFNLElBQUksSUFDM0I3QyxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxXQUFZLFFBQ1osS0FBTTg2RCxFQUFXLGFBQWEsZUFDOUIsUUFBU3lELEVBQU0sT0FDdkMsQ0FBcUIsRUFDRGptRCxFQUFPLE1BQUssV0FHWGltRCxFQUFNLE9BQVMsT0FDZjBCLEVBQVUsS0FBS3A5RCxFQUFNLElBQUksSUFDMUI3QyxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxXQUFZLE9BQ1osS0FBTTg2RCxFQUFXLGFBQWEsZUFDOUIsUUFBU3lELEVBQU0sT0FDdkMsQ0FBcUIsRUFDRGptRCxFQUFPLE1BQUssV0FHWGltRCxFQUFNLE9BQVMsT0FDZnVCLEVBQVUsS0FBS2o5RCxFQUFNLElBQUksSUFDMUI3QyxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxXQUFZLE9BQ1osS0FBTTg2RCxFQUFXLGFBQWEsZUFDOUIsUUFBU3lELEVBQU0sT0FDdkMsQ0FBcUIsRUFDRGptRCxFQUFPLE1BQUssV0FHWGltRCxFQUFNLE9BQVMsUUFDZndCLEVBQVcsS0FBS2w5RCxFQUFNLElBQUksSUFDM0I3QyxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxXQUFZLFFBQ1osS0FBTTg2RCxFQUFXLGFBQWEsZUFDOUIsUUFBU3lELEVBQU0sT0FDdkMsQ0FBcUIsRUFDRGptRCxFQUFPLE1BQUssV0FHWGltRCxFQUFNLE9BQVMsT0FDZnlCLEVBQVUsS0FBS245RCxFQUFNLElBQUksSUFDMUI3QyxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxXQUFZLE9BQ1osS0FBTTg2RCxFQUFXLGFBQWEsZUFDOUIsUUFBU3lELEVBQU0sT0FDdkMsQ0FBcUIsRUFDRGptRCxFQUFPLE1BQUssV0FHWGltRCxFQUFNLE9BQVMsTUFDcEIsR0FBSSxDQUNBLElBQUksSUFBSTE3RCxFQUFNLElBQUksQ0FDckIsTUFDVSxDQUNQN0MsRUFBTSxLQUFLLGdCQUFnQjZDLEVBQU83QyxDQUFHLEtBQ2pDNjlELEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsV0FBWSxNQUNaLEtBQU04NkQsRUFBVyxhQUFhLGVBQzlCLFFBQVN5RCxFQUFNLE9BQ3ZDLENBQXFCLEVBQ0RqbUQsRUFBTyxNQUFLLENBQ2YsTUFFSWltRCxFQUFNLE9BQVMsU0FDcEJBLEVBQU0sTUFBTSxVQUFZLEVBQ0xBLEVBQU0sTUFBTSxLQUFLMTdELEVBQU0sSUFBSSxJQUUxQzdDLEVBQU0sS0FBSyxnQkFBZ0I2QyxFQUFPN0MsQ0FBRyxLQUNqQzY5RCxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLFdBQVksUUFDWixLQUFNODZELEVBQVcsYUFBYSxlQUM5QixRQUFTeUQsRUFBTSxPQUN2QyxDQUFxQixFQUNEam1ELEVBQU8sTUFBSyxJQUdYaW1ELEVBQU0sT0FBUyxPQUNwQjE3RCxFQUFNLEtBQU9BLEVBQU0sS0FBSyxLQUFJLEVBRXZCMDdELEVBQU0sT0FBUyxXQUNmMTdELEVBQU0sS0FBSyxTQUFTMDdELEVBQU0sTUFBT0EsRUFBTSxRQUFRLElBQ2hEditELEVBQU0sS0FBSyxnQkFBZ0I2QyxFQUFPN0MsQ0FBRyxLQUNqQzY5RCxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU04NkQsRUFBVyxhQUFhLGVBQzlCLFdBQVksQ0FBRSxTQUFVeUQsRUFBTSxNQUFPLFNBQVVBLEVBQU0sUUFBVSxFQUMvRCxRQUFTQSxFQUFNLE9BQ3ZDLENBQXFCLEVBQ0RqbUQsRUFBTyxNQUFLLEdBR1hpbUQsRUFBTSxPQUFTLGNBQ3BCMTdELEVBQU0sS0FBT0EsRUFBTSxLQUFLLFlBQVcsRUFFOUIwN0QsRUFBTSxPQUFTLGNBQ3BCMTdELEVBQU0sS0FBT0EsRUFBTSxLQUFLLFlBQVcsRUFFOUIwN0QsRUFBTSxPQUFTLGFBQ2YxN0QsRUFBTSxLQUFLLFdBQVcwN0QsRUFBTSxLQUFLLElBQ2xDditELEVBQU0sS0FBSyxnQkFBZ0I2QyxFQUFPN0MsQ0FBRyxLQUNqQzY5RCxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU04NkQsRUFBVyxhQUFhLGVBQzlCLFdBQVksQ0FBRSxXQUFZeUQsRUFBTSxLQUFPLEVBQ3ZDLFFBQVNBLEVBQU0sT0FDdkMsQ0FBcUIsRUFDRGptRCxFQUFPLE1BQUssR0FHWGltRCxFQUFNLE9BQVMsV0FDZjE3RCxFQUFNLEtBQUssU0FBUzA3RCxFQUFNLEtBQUssSUFDaEN2K0QsRUFBTSxLQUFLLGdCQUFnQjZDLEVBQU83QyxDQUFHLEtBQ2pDNjlELEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsZUFDOUIsV0FBWSxDQUFFLFNBQVV5RCxFQUFNLEtBQU8sRUFDckMsUUFBU0EsRUFBTSxPQUN2QyxDQUFxQixFQUNEam1ELEVBQU8sTUFBSyxHQUdYaW1ELEVBQU0sT0FBUyxXQUNOZ0MsRUFBY2hDLENBQUssRUFDdEIsS0FBSzE3RCxFQUFNLElBQUksSUFDdEI3QyxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxlQUM5QixXQUFZLFdBQ1osUUFBU3lELEVBQU0sT0FDdkMsQ0FBcUIsRUFDRGptRCxFQUFPLE1BQUssR0FHWGltRCxFQUFNLE9BQVMsS0FDZmlDLEVBQVUzOUQsRUFBTSxLQUFNMDdELEVBQU0sT0FBTyxJQUNwQ3YrRCxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxXQUFZLEtBQ1osS0FBTTg2RCxFQUFXLGFBQWEsZUFDOUIsUUFBU3lELEVBQU0sT0FDdkMsQ0FBcUIsRUFDRGptRCxFQUFPLE1BQUssR0FJaEJ5aUQsRUFBTyxLQUFLLFlBQVl3RCxDQUFLLEVBR3JDLE1BQU8sQ0FBRSxPQUFRam1ELEVBQU8sTUFBTyxNQUFPelYsRUFBTSxLQUMvQyxDQUNELE9BQU9pK0QsRUFBT0MsRUFBWTcyRCxFQUFTLENBQy9CLE9BQU8sS0FBSyxXQUFZbkksR0FBUysrRCxFQUFNLEtBQUsvK0QsQ0FBSSxFQUFHLENBQy9DLFdBQUFnL0QsRUFDQSxLQUFNakcsRUFBVyxhQUFhLGVBQzlCLEdBQUc4QyxFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQ3JELENBQVMsQ0FDSixDQUNELFVBQVVxMEQsRUFBTyxDQUNiLE9BQU8sSUFBSW9DLEVBQVUsQ0FDakIsR0FBRyxLQUFLLEtBQ1IsT0FBUSxDQUFDLEdBQUcsS0FBSyxLQUFLLE9BQVFwQyxDQUFLLENBQy9DLENBQVMsQ0FDSixDQUNELE1BQU1yMEQsRUFBUyxDQUNYLE9BQU8sS0FBSyxVQUFVLENBQUUsS0FBTSxRQUFTLEdBQUcwekQsRUFBWSxVQUFVLFNBQVMxekQsQ0FBTyxDQUFHLENBQUEsQ0FDdEYsQ0FDRCxJQUFJQSxFQUFTLENBQ1QsT0FBTyxLQUFLLFVBQVUsQ0FBRSxLQUFNLE1BQU8sR0FBRzB6RCxFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQUcsQ0FBQSxDQUNwRixDQUNELE1BQU1BLEVBQVMsQ0FDWCxPQUFPLEtBQUssVUFBVSxDQUFFLEtBQU0sUUFBUyxHQUFHMHpELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FBRyxDQUFBLENBQ3RGLENBQ0QsS0FBS0EsRUFBUyxDQUNWLE9BQU8sS0FBSyxVQUFVLENBQUUsS0FBTSxPQUFRLEdBQUcwekQsRUFBWSxVQUFVLFNBQVMxekQsQ0FBTyxDQUFHLENBQUEsQ0FDckYsQ0FDRCxLQUFLQSxFQUFTLENBQ1YsT0FBTyxLQUFLLFVBQVUsQ0FBRSxLQUFNLE9BQVEsR0FBRzB6RCxFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQUcsQ0FBQSxDQUNyRixDQUNELE1BQU1BLEVBQVMsQ0FDWCxPQUFPLEtBQUssVUFBVSxDQUFFLEtBQU0sUUFBUyxHQUFHMHpELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FBRyxDQUFBLENBQ3RGLENBQ0QsS0FBS0EsRUFBUyxDQUNWLE9BQU8sS0FBSyxVQUFVLENBQUUsS0FBTSxPQUFRLEdBQUcwekQsRUFBWSxVQUFVLFNBQVMxekQsQ0FBTyxDQUFHLENBQUEsQ0FDckYsQ0FDRCxHQUFHN0gsRUFBUyxDQUNSLE9BQU8sS0FBSyxVQUFVLENBQUUsS0FBTSxLQUFNLEdBQUd1N0QsRUFBWSxVQUFVLFNBQVN2N0QsQ0FBTyxDQUFHLENBQUEsQ0FDbkYsQ0FDRCxTQUFTQSxFQUFTLENBQ2QsSUFBSTROLEVBQ0osT0FBSSxPQUFPNU4sR0FBWSxTQUNaLEtBQUssVUFBVSxDQUNsQixLQUFNLFdBQ04sVUFBVyxLQUNYLE9BQVEsR0FDUixRQUFTQSxDQUN6QixDQUFhLEVBRUUsS0FBSyxVQUFVLENBQ2xCLEtBQU0sV0FDTixVQUFXLE9BQVFBLEdBQVksS0FBNkIsT0FBU0EsRUFBUSxXQUFlLElBQWMsS0FBT0EsR0FBWSxLQUE2QixPQUFTQSxFQUFRLFVBQzNLLFFBQVM0TixFQUFLNU4sR0FBWSxLQUE2QixPQUFTQSxFQUFRLFVBQVksTUFBUTROLElBQU8sT0FBU0EsRUFBSyxHQUNqSCxHQUFHMnRELEVBQVksVUFBVSxTQUFTdjdELEdBQVksS0FBNkIsT0FBU0EsRUFBUSxPQUFPLENBQy9HLENBQVMsQ0FDSixDQUNELE1BQU15K0QsRUFBTzUyRCxFQUFTLENBQ2xCLE9BQU8sS0FBSyxVQUFVLENBQ2xCLEtBQU0sUUFDTixNQUFPNDJELEVBQ1AsR0FBR2xELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FDckQsQ0FBUyxDQUNKLENBQ0QsU0FBU3pILEVBQU9KLEVBQVMsQ0FDckIsT0FBTyxLQUFLLFVBQVUsQ0FDbEIsS0FBTSxXQUNOLE1BQU9JLEVBQ1AsU0FBVUosR0FBWSxLQUE2QixPQUFTQSxFQUFRLFNBQ3BFLEdBQUd1N0QsRUFBWSxVQUFVLFNBQVN2N0QsR0FBWSxLQUE2QixPQUFTQSxFQUFRLE9BQU8sQ0FDL0csQ0FBUyxDQUNKLENBQ0QsV0FBV0ksRUFBT3lILEVBQVMsQ0FDdkIsT0FBTyxLQUFLLFVBQVUsQ0FDbEIsS0FBTSxhQUNOLE1BQU96SCxFQUNQLEdBQUdtN0QsRUFBWSxVQUFVLFNBQVMxekQsQ0FBTyxDQUNyRCxDQUFTLENBQ0osQ0FDRCxTQUFTekgsRUFBT3lILEVBQVMsQ0FDckIsT0FBTyxLQUFLLFVBQVUsQ0FDbEIsS0FBTSxXQUNOLE1BQU96SCxFQUNQLEdBQUdtN0QsRUFBWSxVQUFVLFNBQVMxekQsQ0FBTyxDQUNyRCxDQUFTLENBQ0osQ0FDRCxJQUFJODJELEVBQVc5MkQsRUFBUyxDQUNwQixPQUFPLEtBQUssVUFBVSxDQUNsQixLQUFNLE1BQ04sTUFBTzgyRCxFQUNQLEdBQUdwRCxFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQ3JELENBQVMsQ0FDSixDQUNELElBQUkrMkQsRUFBVy8yRCxFQUFTLENBQ3BCLE9BQU8sS0FBSyxVQUFVLENBQ2xCLEtBQU0sTUFDTixNQUFPKzJELEVBQ1AsR0FBR3JELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FDckQsQ0FBUyxDQUNKLENBQ0QsT0FBTzFKLEVBQUswSixFQUFTLENBQ2pCLE9BQU8sS0FBSyxVQUFVLENBQ2xCLEtBQU0sU0FDTixNQUFPMUosRUFDUCxHQUFHbzlELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FDckQsQ0FBUyxDQUNKLENBS0QsU0FBU0EsRUFBUyxDQUNkLE9BQU8sS0FBSyxJQUFJLEVBQUcwekQsRUFBWSxVQUFVLFNBQVMxekQsQ0FBTyxDQUFDLENBQzdELENBQ0QsTUFBTyxDQUNILE9BQU8sSUFBSXkyRCxFQUFVLENBQ2pCLEdBQUcsS0FBSyxLQUNSLE9BQVEsQ0FBQyxHQUFHLEtBQUssS0FBSyxPQUFRLENBQUUsS0FBTSxPQUFRLENBQzFELENBQVMsQ0FDSixDQUNELGFBQWMsQ0FDVixPQUFPLElBQUlBLEVBQVUsQ0FDakIsR0FBRyxLQUFLLEtBQ1IsT0FBUSxDQUFDLEdBQUcsS0FBSyxLQUFLLE9BQVEsQ0FBRSxLQUFNLGNBQWUsQ0FDakUsQ0FBUyxDQUNKLENBQ0QsYUFBYyxDQUNWLE9BQU8sSUFBSUEsRUFBVSxDQUNqQixHQUFHLEtBQUssS0FDUixPQUFRLENBQUMsR0FBRyxLQUFLLEtBQUssT0FBUSxDQUFFLEtBQU0sY0FBZSxDQUNqRSxDQUFTLENBQ0osQ0FDRCxJQUFJLFlBQWEsQ0FDYixNQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFNTyxHQUFPQSxFQUFHLE9BQVMsVUFBVSxDQUNoRSxDQUNELElBQUksU0FBVSxDQUNWLE1BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQU1BLEdBQU9BLEVBQUcsT0FBUyxPQUFPLENBQzdELENBQ0QsSUFBSSxPQUFRLENBQ1IsTUFBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBTUEsR0FBT0EsRUFBRyxPQUFTLEtBQUssQ0FDM0QsQ0FDRCxJQUFJLFNBQVUsQ0FDVixNQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFNQSxHQUFPQSxFQUFHLE9BQVMsT0FBTyxDQUM3RCxDQUNELElBQUksUUFBUyxDQUNULE1BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQU1BLEdBQU9BLEVBQUcsT0FBUyxNQUFNLENBQzVELENBQ0QsSUFBSSxRQUFTLENBQ1QsTUFBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBTUEsR0FBT0EsRUFBRyxPQUFTLE1BQU0sQ0FDNUQsQ0FDRCxJQUFJLFNBQVUsQ0FDVixNQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFNQSxHQUFPQSxFQUFHLE9BQVMsT0FBTyxDQUM3RCxDQUNELElBQUksUUFBUyxDQUNULE1BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQU1BLEdBQU9BLEVBQUcsT0FBUyxNQUFNLENBQzVELENBQ0QsSUFBSSxNQUFPLENBQ1AsTUFBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBTUEsR0FBT0EsRUFBRyxPQUFTLElBQUksQ0FDMUQsQ0FDRCxJQUFJLFdBQVksQ0FDWixJQUFJbDBCLEVBQU0sS0FDVixVQUFXazBCLEtBQU0sS0FBSyxLQUFLLE9BQ25CQSxFQUFHLE9BQVMsUUFDUmwwQixJQUFRLE1BQVFrMEIsRUFBRyxNQUFRbDBCLEtBQzNCQSxFQUFNazBCLEVBQUcsT0FHckIsT0FBT2wwQixDQUNWLENBQ0QsSUFBSSxXQUFZLENBQ1osSUFBSUMsRUFBTSxLQUNWLFVBQVdpMEIsS0FBTSxLQUFLLEtBQUssT0FDbkJBLEVBQUcsT0FBUyxRQUNSajBCLElBQVEsTUFBUWkwQixFQUFHLE1BQVFqMEIsS0FDM0JBLEVBQU1pMEIsRUFBRyxPQUdyQixPQUFPajBCLENBQ1YsQ0FDSixDQUNENWlDLEVBQUEsVUFBb0JzMkQsRUFDcEJBLEVBQVUsT0FBVXhvRCxHQUFXLENBQzNCLElBQUlsSSxFQUNKLE9BQU8sSUFBSTB3RCxFQUFVLENBQ2pCLE9BQVEsQ0FBRSxFQUNWLFNBQVU5QixFQUFzQixVQUNoQyxRQUFTNXVELEVBQUtrSSxHQUFXLEtBQTRCLE9BQVNBLEVBQU8sVUFBWSxNQUFRbEksSUFBTyxPQUFTQSxFQUFLLEdBQzlHLEdBQUcrdEQsRUFBb0I3bEQsQ0FBTSxDQUNyQyxDQUFLLENBQ0wsRUFFQSxTQUFTZ3BELEVBQW1CcnJELEVBQUtZLEVBQU0sQ0FDbkMsTUFBTTBxRCxHQUFldHJELEVBQUksV0FBVyxNQUFNLEdBQUcsRUFBRSxDQUFDLEdBQUssSUFBSSxPQUNuRHVyRCxHQUFnQjNxRCxFQUFLLFdBQVcsTUFBTSxHQUFHLEVBQUUsQ0FBQyxHQUFLLElBQUksT0FDckQ0cUQsRUFBV0YsRUFBY0MsRUFBZUQsRUFBY0MsRUFDdERFLEVBQVMsU0FBU3pyRCxFQUFJLFFBQVF3ckQsQ0FBUSxFQUFFLFFBQVEsSUFBSyxFQUFFLENBQUMsRUFDeERFLEVBQVUsU0FBUzlxRCxFQUFLLFFBQVE0cUQsQ0FBUSxFQUFFLFFBQVEsSUFBSyxFQUFFLENBQUMsRUFDaEUsT0FBUUMsRUFBU0MsRUFBVyxLQUFLLElBQUksR0FBSUYsQ0FBUSxDQUNwRCxDQUNELE1BQU1HLFVBQWtCckQsQ0FBUSxDQUM1QixhQUFjLENBQ1YsTUFBTSxHQUFHLFNBQVMsRUFDbEIsS0FBSyxJQUFNLEtBQUssSUFDaEIsS0FBSyxJQUFNLEtBQUssSUFDaEIsS0FBSyxLQUFPLEtBQUssVUFDcEIsQ0FDRCxPQUFPdjdELEVBQU8sQ0FLVixHQUpJLEtBQUssS0FBSyxTQUNWQSxFQUFNLEtBQU8sT0FBT0EsRUFBTSxJQUFJLEdBRWYsS0FBSyxTQUFTQSxDQUFLLElBQ25CazRELEVBQU8sY0FBYyxPQUFRLENBQzVDLE1BQU0vNkQsRUFBTSxLQUFLLGdCQUFnQjZDLENBQUssRUFDdEMsU0FBSWc3RCxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU04NkQsRUFBVyxhQUFhLGFBQzlCLFNBQVVDLEVBQU8sY0FBYyxPQUMvQixTQUFVLzZELEVBQUksVUFDOUIsQ0FBYSxFQUNNNjlELEVBQVksT0FDdEIsQ0FDRCxJQUFJNzlELEVBQ0osTUFBTXNZLEVBQVMsSUFBSXVsRCxFQUFZLFlBQy9CLFVBQVdVLEtBQVMsS0FBSyxLQUFLLE9BQ3RCQSxFQUFNLE9BQVMsTUFDVnhELEVBQU8sS0FBSyxVQUFVbDRELEVBQU0sSUFBSSxJQUNqQzdDLEVBQU0sS0FBSyxnQkFBZ0I2QyxFQUFPN0MsQ0FBRyxLQUNqQzY5RCxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU04NkQsRUFBVyxhQUFhLGFBQzlCLFNBQVUsVUFDVixTQUFVLFFBQ1YsUUFBU3lELEVBQU0sT0FDdkMsQ0FBcUIsRUFDRGptRCxFQUFPLE1BQUssR0FHWGltRCxFQUFNLE9BQVMsT0FDSEEsRUFBTSxVQUNqQjE3RCxFQUFNLEtBQU8wN0QsRUFBTSxNQUNuQjE3RCxFQUFNLE1BQVEwN0QsRUFBTSxTQUV0QnYrRCxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxVQUM5QixRQUFTeUQsRUFBTSxNQUNmLEtBQU0sU0FDTixVQUFXQSxFQUFNLFVBQ2pCLE1BQU8sR0FDUCxRQUFTQSxFQUFNLE9BQ3ZDLENBQXFCLEVBQ0RqbUQsRUFBTyxNQUFLLEdBR1hpbUQsRUFBTSxPQUFTLE9BQ0xBLEVBQU0sVUFDZjE3RCxFQUFNLEtBQU8wN0QsRUFBTSxNQUNuQjE3RCxFQUFNLE1BQVEwN0QsRUFBTSxTQUV0QnYrRCxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxRQUM5QixRQUFTeUQsRUFBTSxNQUNmLEtBQU0sU0FDTixVQUFXQSxFQUFNLFVBQ2pCLE1BQU8sR0FDUCxRQUFTQSxFQUFNLE9BQ3ZDLENBQXFCLEVBQ0RqbUQsRUFBTyxNQUFLLEdBR1hpbUQsRUFBTSxPQUFTLGFBQ2hCNEMsRUFBbUJ0K0QsRUFBTSxLQUFNMDdELEVBQU0sS0FBSyxJQUFNLElBQ2hEditELEVBQU0sS0FBSyxnQkFBZ0I2QyxFQUFPN0MsQ0FBRyxLQUNqQzY5RCxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU04NkQsRUFBVyxhQUFhLGdCQUM5QixXQUFZeUQsRUFBTSxNQUNsQixRQUFTQSxFQUFNLE9BQ3ZDLENBQXFCLEVBQ0RqbUQsRUFBTyxNQUFLLEdBR1hpbUQsRUFBTSxPQUFTLFNBQ2YsT0FBTyxTQUFTMTdELEVBQU0sSUFBSSxJQUMzQjdDLEVBQU0sS0FBSyxnQkFBZ0I2QyxFQUFPN0MsQ0FBRyxLQUNqQzY5RCxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU04NkQsRUFBVyxhQUFhLFdBQzlCLFFBQVN5RCxFQUFNLE9BQ3ZDLENBQXFCLEVBQ0RqbUQsRUFBTyxNQUFLLEdBSWhCeWlELEVBQU8sS0FBSyxZQUFZd0QsQ0FBSyxFQUdyQyxNQUFPLENBQUUsT0FBUWptRCxFQUFPLE1BQU8sTUFBT3pWLEVBQU0sS0FDL0MsQ0FDRCxJQUFJSixFQUFPeUgsRUFBUyxDQUNoQixPQUFPLEtBQUssU0FBUyxNQUFPekgsRUFBTyxHQUFNbTdELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FBQyxDQUNuRixDQUNELEdBQUd6SCxFQUFPeUgsRUFBUyxDQUNmLE9BQU8sS0FBSyxTQUFTLE1BQU96SCxFQUFPLEdBQU9tN0QsRUFBWSxVQUFVLFNBQVMxekQsQ0FBTyxDQUFDLENBQ3BGLENBQ0QsSUFBSXpILEVBQU95SCxFQUFTLENBQ2hCLE9BQU8sS0FBSyxTQUFTLE1BQU96SCxFQUFPLEdBQU1tN0QsRUFBWSxVQUFVLFNBQVMxekQsQ0FBTyxDQUFDLENBQ25GLENBQ0QsR0FBR3pILEVBQU95SCxFQUFTLENBQ2YsT0FBTyxLQUFLLFNBQVMsTUFBT3pILEVBQU8sR0FBT203RCxFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQUMsQ0FDcEYsQ0FDRCxTQUFTaW1CLEVBQU0xdEIsRUFBTzJxQyxFQUFXbGpDLEVBQVMsQ0FDdEMsT0FBTyxJQUFJdTNELEVBQVUsQ0FDakIsR0FBRyxLQUFLLEtBQ1IsT0FBUSxDQUNKLEdBQUcsS0FBSyxLQUFLLE9BQ2IsQ0FDSSxLQUFBdHhDLEVBQ0EsTUFBQTF0QixFQUNBLFVBQUEycUMsRUFDQSxRQUFTd3dCLEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FDbEQsQ0FDSixDQUNiLENBQVMsQ0FDSixDQUNELFVBQVVxMEQsRUFBTyxDQUNiLE9BQU8sSUFBSWtELEVBQVUsQ0FDakIsR0FBRyxLQUFLLEtBQ1IsT0FBUSxDQUFDLEdBQUcsS0FBSyxLQUFLLE9BQVFsRCxDQUFLLENBQy9DLENBQVMsQ0FDSixDQUNELElBQUlyMEQsRUFBUyxDQUNULE9BQU8sS0FBSyxVQUFVLENBQ2xCLEtBQU0sTUFDTixRQUFTMHpELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FDM0QsQ0FBUyxDQUNKLENBQ0QsU0FBU0EsRUFBUyxDQUNkLE9BQU8sS0FBSyxVQUFVLENBQ2xCLEtBQU0sTUFDTixNQUFPLEVBQ1AsVUFBVyxHQUNYLFFBQVMwekQsRUFBWSxVQUFVLFNBQVMxekQsQ0FBTyxDQUMzRCxDQUFTLENBQ0osQ0FDRCxTQUFTQSxFQUFTLENBQ2QsT0FBTyxLQUFLLFVBQVUsQ0FDbEIsS0FBTSxNQUNOLE1BQU8sRUFDUCxVQUFXLEdBQ1gsUUFBUzB6RCxFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQzNELENBQVMsQ0FDSixDQUNELFlBQVlBLEVBQVMsQ0FDakIsT0FBTyxLQUFLLFVBQVUsQ0FDbEIsS0FBTSxNQUNOLE1BQU8sRUFDUCxVQUFXLEdBQ1gsUUFBUzB6RCxFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQzNELENBQVMsQ0FDSixDQUNELFlBQVlBLEVBQVMsQ0FDakIsT0FBTyxLQUFLLFVBQVUsQ0FDbEIsS0FBTSxNQUNOLE1BQU8sRUFDUCxVQUFXLEdBQ1gsUUFBUzB6RCxFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQzNELENBQVMsQ0FDSixDQUNELFdBQVd6SCxFQUFPeUgsRUFBUyxDQUN2QixPQUFPLEtBQUssVUFBVSxDQUNsQixLQUFNLGFBQ04sTUFBT3pILEVBQ1AsUUFBU203RCxFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQzNELENBQVMsQ0FDSixDQUNELE9BQU9BLEVBQVMsQ0FDWixPQUFPLEtBQUssVUFBVSxDQUNsQixLQUFNLFNBQ04sUUFBUzB6RCxFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQzNELENBQVMsQ0FDSixDQUNELEtBQUtBLEVBQVMsQ0FDVixPQUFPLEtBQUssVUFBVSxDQUNsQixLQUFNLE1BQ04sVUFBVyxHQUNYLE1BQU8sT0FBTyxpQkFDZCxRQUFTMHpELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FDbEQsQ0FBQSxFQUFFLFVBQVUsQ0FDVCxLQUFNLE1BQ04sVUFBVyxHQUNYLE1BQU8sT0FBTyxpQkFDZCxRQUFTMHpELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FDM0QsQ0FBUyxDQUNKLENBQ0QsSUFBSSxVQUFXLENBQ1gsSUFBSThpQyxFQUFNLEtBQ1YsVUFBV2swQixLQUFNLEtBQUssS0FBSyxPQUNuQkEsRUFBRyxPQUFTLFFBQ1JsMEIsSUFBUSxNQUFRazBCLEVBQUcsTUFBUWwwQixLQUMzQkEsRUFBTWswQixFQUFHLE9BR3JCLE9BQU9sMEIsQ0FDVixDQUNELElBQUksVUFBVyxDQUNYLElBQUlDLEVBQU0sS0FDVixVQUFXaTBCLEtBQU0sS0FBSyxLQUFLLE9BQ25CQSxFQUFHLE9BQVMsUUFDUmowQixJQUFRLE1BQVFpMEIsRUFBRyxNQUFRajBCLEtBQzNCQSxFQUFNaTBCLEVBQUcsT0FHckIsT0FBT2owQixDQUNWLENBQ0QsSUFBSSxPQUFRLENBQ1IsTUFBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBTWkwQixHQUFPQSxFQUFHLE9BQVMsT0FDOUNBLEVBQUcsT0FBUyxjQUFnQm5HLEVBQU8sS0FBSyxVQUFVbUcsRUFBRyxLQUFLLENBQUUsQ0FDcEUsQ0FDRCxJQUFJLFVBQVcsQ0FDWCxJQUFJajBCLEVBQU0sS0FBTUQsRUFBTSxLQUN0QixVQUFXazBCLEtBQU0sS0FBSyxLQUFLLE9BQVEsQ0FDL0IsR0FBSUEsRUFBRyxPQUFTLFVBQ1pBLEVBQUcsT0FBUyxPQUNaQSxFQUFHLE9BQVMsYUFDWixNQUFPLEdBRUZBLEVBQUcsT0FBUyxPQUNibDBCLElBQVEsTUFBUWswQixFQUFHLE1BQVFsMEIsS0FDM0JBLEVBQU1rMEIsRUFBRyxPQUVSQSxFQUFHLE9BQVMsUUFDYmowQixJQUFRLE1BQVFpMEIsRUFBRyxNQUFRajBCLEtBQzNCQSxFQUFNaTBCLEVBQUcsTUFFcEIsQ0FDRCxPQUFPLE9BQU8sU0FBU2wwQixDQUFHLEdBQUssT0FBTyxTQUFTQyxDQUFHLENBQ3JELENBQ0osQ0FDRDVpQyxFQUFBLFVBQW9CbzNELEVBQ3BCQSxFQUFVLE9BQVV0cEQsR0FDVCxJQUFJc3BELEVBQVUsQ0FDakIsT0FBUSxDQUFFLEVBQ1YsU0FBVTVDLEVBQXNCLFVBQ2hDLFFBQVMxbUQsR0FBVyxLQUE0QixPQUFTQSxFQUFPLFNBQVcsR0FDM0UsR0FBRzZsRCxFQUFvQjdsRCxDQUFNLENBQ3JDLENBQUssRUFFTCxNQUFNdXBELFVBQWtCdEQsQ0FBUSxDQUM1QixhQUFjLENBQ1YsTUFBTSxHQUFHLFNBQVMsRUFDbEIsS0FBSyxJQUFNLEtBQUssSUFDaEIsS0FBSyxJQUFNLEtBQUssR0FDbkIsQ0FDRCxPQUFPdjdELEVBQU8sQ0FLVixHQUpJLEtBQUssS0FBSyxTQUNWQSxFQUFNLEtBQU8sT0FBT0EsRUFBTSxJQUFJLEdBRWYsS0FBSyxTQUFTQSxDQUFLLElBQ25CazRELEVBQU8sY0FBYyxPQUFRLENBQzVDLE1BQU0vNkQsRUFBTSxLQUFLLGdCQUFnQjZDLENBQUssRUFDdEMsU0FBSWc3RCxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU04NkQsRUFBVyxhQUFhLGFBQzlCLFNBQVVDLEVBQU8sY0FBYyxPQUMvQixTQUFVLzZELEVBQUksVUFDOUIsQ0FBYSxFQUNNNjlELEVBQVksT0FDdEIsQ0FDRCxJQUFJNzlELEVBQ0osTUFBTXNZLEVBQVMsSUFBSXVsRCxFQUFZLFlBQy9CLFVBQVdVLEtBQVMsS0FBSyxLQUFLLE9BQ3RCQSxFQUFNLE9BQVMsT0FDRUEsRUFBTSxVQUNqQjE3RCxFQUFNLEtBQU8wN0QsRUFBTSxNQUNuQjE3RCxFQUFNLE1BQVEwN0QsRUFBTSxTQUV0QnYrRCxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxVQUM5QixLQUFNLFNBQ04sUUFBU3lELEVBQU0sTUFDZixVQUFXQSxFQUFNLFVBQ2pCLFFBQVNBLEVBQU0sT0FDdkMsQ0FBcUIsRUFDRGptRCxFQUFPLE1BQUssR0FHWGltRCxFQUFNLE9BQVMsT0FDTEEsRUFBTSxVQUNmMTdELEVBQU0sS0FBTzA3RCxFQUFNLE1BQ25CMTdELEVBQU0sTUFBUTA3RCxFQUFNLFNBRXRCditELEVBQU0sS0FBSyxnQkFBZ0I2QyxFQUFPN0MsQ0FBRyxLQUNqQzY5RCxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU04NkQsRUFBVyxhQUFhLFFBQzlCLEtBQU0sU0FDTixRQUFTeUQsRUFBTSxNQUNmLFVBQVdBLEVBQU0sVUFDakIsUUFBU0EsRUFBTSxPQUN2QyxDQUFxQixFQUNEam1ELEVBQU8sTUFBSyxHQUdYaW1ELEVBQU0sT0FBUyxhQUNoQjE3RCxFQUFNLEtBQU8wN0QsRUFBTSxRQUFVLE9BQU8sQ0FBQyxJQUNyQ3YrRCxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxnQkFDOUIsV0FBWXlELEVBQU0sTUFDbEIsUUFBU0EsRUFBTSxPQUN2QyxDQUFxQixFQUNEam1ELEVBQU8sTUFBSyxHQUloQnlpRCxFQUFPLEtBQUssWUFBWXdELENBQUssRUFHckMsTUFBTyxDQUFFLE9BQVFqbUQsRUFBTyxNQUFPLE1BQU96VixFQUFNLEtBQy9DLENBQ0QsSUFBSUosRUFBT3lILEVBQVMsQ0FDaEIsT0FBTyxLQUFLLFNBQVMsTUFBT3pILEVBQU8sR0FBTW03RCxFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQUMsQ0FDbkYsQ0FDRCxHQUFHekgsRUFBT3lILEVBQVMsQ0FDZixPQUFPLEtBQUssU0FBUyxNQUFPekgsRUFBTyxHQUFPbTdELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FBQyxDQUNwRixDQUNELElBQUl6SCxFQUFPeUgsRUFBUyxDQUNoQixPQUFPLEtBQUssU0FBUyxNQUFPekgsRUFBTyxHQUFNbTdELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FBQyxDQUNuRixDQUNELEdBQUd6SCxFQUFPeUgsRUFBUyxDQUNmLE9BQU8sS0FBSyxTQUFTLE1BQU96SCxFQUFPLEdBQU9tN0QsRUFBWSxVQUFVLFNBQVMxekQsQ0FBTyxDQUFDLENBQ3BGLENBQ0QsU0FBU2ltQixFQUFNMXRCLEVBQU8ycUMsRUFBV2xqQyxFQUFTLENBQ3RDLE9BQU8sSUFBSXczRCxFQUFVLENBQ2pCLEdBQUcsS0FBSyxLQUNSLE9BQVEsQ0FDSixHQUFHLEtBQUssS0FBSyxPQUNiLENBQ0ksS0FBQXZ4QyxFQUNBLE1BQUExdEIsRUFDQSxVQUFBMnFDLEVBQ0EsUUFBU3d3QixFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQ2xELENBQ0osQ0FDYixDQUFTLENBQ0osQ0FDRCxVQUFVcTBELEVBQU8sQ0FDYixPQUFPLElBQUltRCxFQUFVLENBQ2pCLEdBQUcsS0FBSyxLQUNSLE9BQVEsQ0FBQyxHQUFHLEtBQUssS0FBSyxPQUFRbkQsQ0FBSyxDQUMvQyxDQUFTLENBQ0osQ0FDRCxTQUFTcjBELEVBQVMsQ0FDZCxPQUFPLEtBQUssVUFBVSxDQUNsQixLQUFNLE1BQ04sTUFBTyxPQUFPLENBQUMsRUFDZixVQUFXLEdBQ1gsUUFBUzB6RCxFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQzNELENBQVMsQ0FDSixDQUNELFNBQVNBLEVBQVMsQ0FDZCxPQUFPLEtBQUssVUFBVSxDQUNsQixLQUFNLE1BQ04sTUFBTyxPQUFPLENBQUMsRUFDZixVQUFXLEdBQ1gsUUFBUzB6RCxFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQzNELENBQVMsQ0FDSixDQUNELFlBQVlBLEVBQVMsQ0FDakIsT0FBTyxLQUFLLFVBQVUsQ0FDbEIsS0FBTSxNQUNOLE1BQU8sT0FBTyxDQUFDLEVBQ2YsVUFBVyxHQUNYLFFBQVMwekQsRUFBWSxVQUFVLFNBQVMxekQsQ0FBTyxDQUMzRCxDQUFTLENBQ0osQ0FDRCxZQUFZQSxFQUFTLENBQ2pCLE9BQU8sS0FBSyxVQUFVLENBQ2xCLEtBQU0sTUFDTixNQUFPLE9BQU8sQ0FBQyxFQUNmLFVBQVcsR0FDWCxRQUFTMHpELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FDM0QsQ0FBUyxDQUNKLENBQ0QsV0FBV3pILEVBQU95SCxFQUFTLENBQ3ZCLE9BQU8sS0FBSyxVQUFVLENBQ2xCLEtBQU0sYUFDTixNQUFBekgsRUFDQSxRQUFTbTdELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FDM0QsQ0FBUyxDQUNKLENBQ0QsSUFBSSxVQUFXLENBQ1gsSUFBSThpQyxFQUFNLEtBQ1YsVUFBV2swQixLQUFNLEtBQUssS0FBSyxPQUNuQkEsRUFBRyxPQUFTLFFBQ1JsMEIsSUFBUSxNQUFRazBCLEVBQUcsTUFBUWwwQixLQUMzQkEsRUFBTWswQixFQUFHLE9BR3JCLE9BQU9sMEIsQ0FDVixDQUNELElBQUksVUFBVyxDQUNYLElBQUlDLEVBQU0sS0FDVixVQUFXaTBCLEtBQU0sS0FBSyxLQUFLLE9BQ25CQSxFQUFHLE9BQVMsUUFDUmowQixJQUFRLE1BQVFpMEIsRUFBRyxNQUFRajBCLEtBQzNCQSxFQUFNaTBCLEVBQUcsT0FHckIsT0FBT2owQixDQUNWLENBQ0osQ0FDRDVpQyxFQUFBLFVBQW9CcTNELEVBQ3BCQSxFQUFVLE9BQVV2cEQsR0FBVyxDQUMzQixJQUFJbEksRUFDSixPQUFPLElBQUl5eEQsRUFBVSxDQUNqQixPQUFRLENBQUUsRUFDVixTQUFVN0MsRUFBc0IsVUFDaEMsUUFBUzV1RCxFQUFLa0ksR0FBVyxLQUE0QixPQUFTQSxFQUFPLFVBQVksTUFBUWxJLElBQU8sT0FBU0EsRUFBSyxHQUM5RyxHQUFHK3RELEVBQW9CN2xELENBQU0sQ0FDckMsQ0FBSyxDQUNMLEVBQ0EsTUFBTXdwRCxVQUFtQnZELENBQVEsQ0FDN0IsT0FBT3Y3RCxFQUFPLENBS1YsR0FKSSxLQUFLLEtBQUssU0FDVkEsRUFBTSxLQUFPLEVBQVFBLEVBQU0sTUFFWixLQUFLLFNBQVNBLENBQUssSUFDbkJrNEQsRUFBTyxjQUFjLFFBQVMsQ0FDN0MsTUFBTS82RCxFQUFNLEtBQUssZ0JBQWdCNkMsQ0FBSyxFQUN0QyxTQUFJZzdELEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsYUFDOUIsU0FBVUMsRUFBTyxjQUFjLFFBQy9CLFNBQVUvNkQsRUFBSSxVQUM5QixDQUFhLEVBQ002OUQsRUFBWSxPQUN0QixDQUNELFNBQVdBLEVBQVksSUFBSWg3RCxFQUFNLElBQUksQ0FDeEMsQ0FDSixDQUNEd0gsRUFBQSxXQUFxQnMzRCxFQUNyQkEsRUFBVyxPQUFVeHBELEdBQ1YsSUFBSXdwRCxFQUFXLENBQ2xCLFNBQVU5QyxFQUFzQixXQUNoQyxRQUFTMW1ELEdBQVcsS0FBNEIsT0FBU0EsRUFBTyxTQUFXLEdBQzNFLEdBQUc2bEQsRUFBb0I3bEQsQ0FBTSxDQUNyQyxDQUFLLEVBRUwsTUFBTXlwRCxVQUFnQnhELENBQVEsQ0FDMUIsT0FBT3Y3RCxFQUFPLENBS1YsR0FKSSxLQUFLLEtBQUssU0FDVkEsRUFBTSxLQUFPLElBQUksS0FBS0EsRUFBTSxJQUFJLEdBRWpCLEtBQUssU0FBU0EsQ0FBSyxJQUNuQms0RCxFQUFPLGNBQWMsS0FBTSxDQUMxQyxNQUFNLzZELEVBQU0sS0FBSyxnQkFBZ0I2QyxDQUFLLEVBQ3RDLFNBQUlnN0QsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxhQUM5QixTQUFVQyxFQUFPLGNBQWMsS0FDL0IsU0FBVS82RCxFQUFJLFVBQzlCLENBQWEsRUFDTTY5RCxFQUFZLE9BQ3RCLENBQ0QsR0FBSSxNQUFNaDdELEVBQU0sS0FBSyxRQUFTLENBQUEsRUFBRyxDQUM3QixNQUFNN0MsRUFBTSxLQUFLLGdCQUFnQjZDLENBQUssRUFDdEMsU0FBSWc3RCxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU04NkQsRUFBVyxhQUFhLFlBQzlDLENBQWEsRUFDTStDLEVBQVksT0FDdEIsQ0FDRCxNQUFNdmxELEVBQVMsSUFBSXVsRCxFQUFZLFlBQy9CLElBQUk3OUQsRUFDSixVQUFXdStELEtBQVMsS0FBSyxLQUFLLE9BQ3RCQSxFQUFNLE9BQVMsTUFDWDE3RCxFQUFNLEtBQUssUUFBTyxFQUFLMDdELEVBQU0sUUFDN0J2K0QsRUFBTSxLQUFLLGdCQUFnQjZDLEVBQU83QyxDQUFHLEtBQ2pDNjlELEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsVUFDOUIsUUFBU3lELEVBQU0sUUFDZixVQUFXLEdBQ1gsTUFBTyxHQUNQLFFBQVNBLEVBQU0sTUFDZixLQUFNLE1BQzlCLENBQXFCLEVBQ0RqbUQsRUFBTyxNQUFLLEdBR1hpbUQsRUFBTSxPQUFTLE1BQ2hCMTdELEVBQU0sS0FBSyxRQUFPLEVBQUswN0QsRUFBTSxRQUM3QnYrRCxFQUFNLEtBQUssZ0JBQWdCNkMsRUFBTzdDLENBQUcsS0FDakM2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxRQUM5QixRQUFTeUQsRUFBTSxRQUNmLFVBQVcsR0FDWCxNQUFPLEdBQ1AsUUFBU0EsRUFBTSxNQUNmLEtBQU0sTUFDOUIsQ0FBcUIsRUFDRGptRCxFQUFPLE1BQUssR0FJaEJ5aUQsRUFBTyxLQUFLLFlBQVl3RCxDQUFLLEVBR3JDLE1BQU8sQ0FDSCxPQUFRam1ELEVBQU8sTUFDZixNQUFPLElBQUksS0FBS3pWLEVBQU0sS0FBSyxRQUFPLENBQUUsQ0FDaEQsQ0FDSyxDQUNELFVBQVUwN0QsRUFBTyxDQUNiLE9BQU8sSUFBSXFELEVBQVEsQ0FDZixHQUFHLEtBQUssS0FDUixPQUFRLENBQUMsR0FBRyxLQUFLLEtBQUssT0FBUXJELENBQUssQ0FDL0MsQ0FBUyxDQUNKLENBQ0QsSUFBSXNELEVBQVMzM0QsRUFBUyxDQUNsQixPQUFPLEtBQUssVUFBVSxDQUNsQixLQUFNLE1BQ04sTUFBTzIzRCxFQUFRLFFBQVMsRUFDeEIsUUFBU2pFLEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FDM0QsQ0FBUyxDQUNKLENBQ0QsSUFBSTQzRCxFQUFTNTNELEVBQVMsQ0FDbEIsT0FBTyxLQUFLLFVBQVUsQ0FDbEIsS0FBTSxNQUNOLE1BQU80M0QsRUFBUSxRQUFTLEVBQ3hCLFFBQVNsRSxFQUFZLFVBQVUsU0FBUzF6RCxDQUFPLENBQzNELENBQVMsQ0FDSixDQUNELElBQUksU0FBVSxDQUNWLElBQUk4aUMsRUFBTSxLQUNWLFVBQVdrMEIsS0FBTSxLQUFLLEtBQUssT0FDbkJBLEVBQUcsT0FBUyxRQUNSbDBCLElBQVEsTUFBUWswQixFQUFHLE1BQVFsMEIsS0FDM0JBLEVBQU1rMEIsRUFBRyxPQUdyQixPQUFPbDBCLEdBQU8sS0FBTyxJQUFJLEtBQUtBLENBQUcsRUFBSSxJQUN4QyxDQUNELElBQUksU0FBVSxDQUNWLElBQUlDLEVBQU0sS0FDVixVQUFXaTBCLEtBQU0sS0FBSyxLQUFLLE9BQ25CQSxFQUFHLE9BQVMsUUFDUmowQixJQUFRLE1BQVFpMEIsRUFBRyxNQUFRajBCLEtBQzNCQSxFQUFNaTBCLEVBQUcsT0FHckIsT0FBT2owQixHQUFPLEtBQU8sSUFBSSxLQUFLQSxDQUFHLEVBQUksSUFDeEMsQ0FDSixDQUNENWlDLEVBQUEsUUFBa0J1M0QsRUFDbEJBLEVBQVEsT0FBVXpwRCxHQUNQLElBQUl5cEQsRUFBUSxDQUNmLE9BQVEsQ0FBRSxFQUNWLFFBQVN6cEQsR0FBVyxLQUE0QixPQUFTQSxFQUFPLFNBQVcsR0FDM0UsU0FBVTBtRCxFQUFzQixRQUNoQyxHQUFHYixFQUFvQjdsRCxDQUFNLENBQ3JDLENBQUssRUFFTCxNQUFNNHBELFVBQWtCM0QsQ0FBUSxDQUM1QixPQUFPdjdELEVBQU8sQ0FFVixHQURtQixLQUFLLFNBQVNBLENBQUssSUFDbkJrNEQsRUFBTyxjQUFjLE9BQVEsQ0FDNUMsTUFBTS82RCxFQUFNLEtBQUssZ0JBQWdCNkMsQ0FBSyxFQUN0QyxTQUFJZzdELEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsYUFDOUIsU0FBVUMsRUFBTyxjQUFjLE9BQy9CLFNBQVUvNkQsRUFBSSxVQUM5QixDQUFhLEVBQ002OUQsRUFBWSxPQUN0QixDQUNELFNBQVdBLEVBQVksSUFBSWg3RCxFQUFNLElBQUksQ0FDeEMsQ0FDSixDQUNEd0gsRUFBQSxVQUFvQjAzRCxFQUNwQkEsRUFBVSxPQUFVNXBELEdBQ1QsSUFBSTRwRCxFQUFVLENBQ2pCLFNBQVVsRCxFQUFzQixVQUNoQyxHQUFHYixFQUFvQjdsRCxDQUFNLENBQ3JDLENBQUssRUFFTCxNQUFNNnBELFVBQXFCNUQsQ0FBUSxDQUMvQixPQUFPdjdELEVBQU8sQ0FFVixHQURtQixLQUFLLFNBQVNBLENBQUssSUFDbkJrNEQsRUFBTyxjQUFjLFVBQVcsQ0FDL0MsTUFBTS82RCxFQUFNLEtBQUssZ0JBQWdCNkMsQ0FBSyxFQUN0QyxTQUFJZzdELEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsYUFDOUIsU0FBVUMsRUFBTyxjQUFjLFVBQy9CLFNBQVUvNkQsRUFBSSxVQUM5QixDQUFhLEVBQ002OUQsRUFBWSxPQUN0QixDQUNELFNBQVdBLEVBQVksSUFBSWg3RCxFQUFNLElBQUksQ0FDeEMsQ0FDSixDQUNEd0gsRUFBQSxhQUF1QjIzRCxFQUN2QkEsRUFBYSxPQUFVN3BELEdBQ1osSUFBSTZwRCxFQUFhLENBQ3BCLFNBQVVuRCxFQUFzQixhQUNoQyxHQUFHYixFQUFvQjdsRCxDQUFNLENBQ3JDLENBQUssRUFFTCxNQUFNOHBELFVBQWdCN0QsQ0FBUSxDQUMxQixPQUFPdjdELEVBQU8sQ0FFVixHQURtQixLQUFLLFNBQVNBLENBQUssSUFDbkJrNEQsRUFBTyxjQUFjLEtBQU0sQ0FDMUMsTUFBTS82RCxFQUFNLEtBQUssZ0JBQWdCNkMsQ0FBSyxFQUN0QyxTQUFJZzdELEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsYUFDOUIsU0FBVUMsRUFBTyxjQUFjLEtBQy9CLFNBQVUvNkQsRUFBSSxVQUM5QixDQUFhLEVBQ002OUQsRUFBWSxPQUN0QixDQUNELFNBQVdBLEVBQVksSUFBSWg3RCxFQUFNLElBQUksQ0FDeEMsQ0FDSixDQUNEd0gsRUFBQSxRQUFrQjQzRCxFQUNsQkEsRUFBUSxPQUFVOXBELEdBQ1AsSUFBSThwRCxFQUFRLENBQ2YsU0FBVXBELEVBQXNCLFFBQ2hDLEdBQUdiLEVBQW9CN2xELENBQU0sQ0FDckMsQ0FBSyxFQUVMLE1BQU0rcEQsVUFBZTlELENBQVEsQ0FDekIsYUFBYyxDQUNWLE1BQU0sR0FBRyxTQUFTLEVBRWxCLEtBQUssS0FBTyxFQUNmLENBQ0QsT0FBT3Y3RCxFQUFPLENBQ1YsU0FBV2c3RCxFQUFZLElBQUloN0QsRUFBTSxJQUFJLENBQ3hDLENBQ0osQ0FDRHdILEVBQUEsT0FBaUI2M0QsRUFDakJBLEVBQU8sT0FBVS9wRCxHQUNOLElBQUkrcEQsRUFBTyxDQUNkLFNBQVVyRCxFQUFzQixPQUNoQyxHQUFHYixFQUFvQjdsRCxDQUFNLENBQ3JDLENBQUssRUFFTCxNQUFNZ3FELFVBQW1CL0QsQ0FBUSxDQUM3QixhQUFjLENBQ1YsTUFBTSxHQUFHLFNBQVMsRUFFbEIsS0FBSyxTQUFXLEVBQ25CLENBQ0QsT0FBT3Y3RCxFQUFPLENBQ1YsU0FBV2c3RCxFQUFZLElBQUloN0QsRUFBTSxJQUFJLENBQ3hDLENBQ0osQ0FDRHdILEVBQUEsV0FBcUI4M0QsRUFDckJBLEVBQVcsT0FBVWhxRCxHQUNWLElBQUlncUQsRUFBVyxDQUNsQixTQUFVdEQsRUFBc0IsV0FDaEMsR0FBR2IsRUFBb0I3bEQsQ0FBTSxDQUNyQyxDQUFLLEVBRUwsTUFBTWlxRCxVQUFpQmhFLENBQVEsQ0FDM0IsT0FBT3Y3RCxFQUFPLENBQ1YsTUFBTTdDLEVBQU0sS0FBSyxnQkFBZ0I2QyxDQUFLLEVBQ3RDLFNBQUlnN0QsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxhQUM5QixTQUFVQyxFQUFPLGNBQWMsTUFDL0IsU0FBVS82RCxFQUFJLFVBQzFCLENBQVMsRUFDTTY5RCxFQUFZLE9BQ3RCLENBQ0osQ0FDRHh6RCxFQUFBLFNBQW1CKzNELEVBQ25CQSxFQUFTLE9BQVVqcUQsR0FDUixJQUFJaXFELEVBQVMsQ0FDaEIsU0FBVXZELEVBQXNCLFNBQ2hDLEdBQUdiLEVBQW9CN2xELENBQU0sQ0FDckMsQ0FBSyxFQUVMLE1BQU1rcUQsVUFBZ0JqRSxDQUFRLENBQzFCLE9BQU92N0QsRUFBTyxDQUVWLEdBRG1CLEtBQUssU0FBU0EsQ0FBSyxJQUNuQms0RCxFQUFPLGNBQWMsVUFBVyxDQUMvQyxNQUFNLzZELEVBQU0sS0FBSyxnQkFBZ0I2QyxDQUFLLEVBQ3RDLFNBQUlnN0QsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxhQUM5QixTQUFVQyxFQUFPLGNBQWMsS0FDL0IsU0FBVS82RCxFQUFJLFVBQzlCLENBQWEsRUFDTTY5RCxFQUFZLE9BQ3RCLENBQ0QsU0FBV0EsRUFBWSxJQUFJaDdELEVBQU0sSUFBSSxDQUN4QyxDQUNKLENBQ0R3SCxFQUFBLFFBQWtCZzRELEVBQ2xCQSxFQUFRLE9BQVVscUQsR0FDUCxJQUFJa3FELEVBQVEsQ0FDZixTQUFVeEQsRUFBc0IsUUFDaEMsR0FBR2IsRUFBb0I3bEQsQ0FBTSxDQUNyQyxDQUFLLEVBRUwsTUFBTTZtRCxVQUFpQlosQ0FBUSxDQUMzQixPQUFPdjdELEVBQU8sQ0FDVixLQUFNLENBQUUsSUFBQTdDLEVBQUssT0FBQXNZLENBQU0sRUFBSyxLQUFLLG9CQUFvQnpWLENBQUssRUFDaER3N0QsRUFBTSxLQUFLLEtBQ2pCLEdBQUlyK0QsRUFBSSxhQUFlKzZELEVBQU8sY0FBYyxNQUN4QyxTQUFJOEMsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxhQUM5QixTQUFVQyxFQUFPLGNBQWMsTUFDL0IsU0FBVS82RCxFQUFJLFVBQzlCLENBQWEsRUFDTTY5RCxFQUFZLFFBRXZCLEdBQUlRLEVBQUksY0FBZ0IsS0FBTSxDQUMxQixNQUFNdUMsRUFBUzVnRSxFQUFJLEtBQUssT0FBU3ErRCxFQUFJLFlBQVksTUFDM0N3QyxFQUFXN2dFLEVBQUksS0FBSyxPQUFTcStELEVBQUksWUFBWSxPQUMvQ3VDLEdBQVVDLFFBQ05oRCxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU00Z0UsRUFBUzlGLEVBQVcsYUFBYSxRQUFVQSxFQUFXLGFBQWEsVUFDekUsUUFBVStGLEVBQVd4QyxFQUFJLFlBQVksTUFBUSxPQUM3QyxRQUFVdUMsRUFBU3ZDLEVBQUksWUFBWSxNQUFRLE9BQzNDLEtBQU0sUUFDTixVQUFXLEdBQ1gsTUFBTyxHQUNQLFFBQVNBLEVBQUksWUFBWSxPQUM3QyxDQUFpQixFQUNEL2xELEVBQU8sTUFBSyxFQUVuQixDQTJCRCxHQTFCSStsRCxFQUFJLFlBQWMsTUFDZHIrRCxFQUFJLEtBQUssT0FBU3ErRCxFQUFJLFVBQVUsV0FDNUJSLEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsVUFDOUIsUUFBU3VELEVBQUksVUFBVSxNQUN2QixLQUFNLFFBQ04sVUFBVyxHQUNYLE1BQU8sR0FDUCxRQUFTQSxFQUFJLFVBQVUsT0FDM0MsQ0FBaUIsRUFDRC9sRCxFQUFPLE1BQUssR0FHaEIrbEQsRUFBSSxZQUFjLE1BQ2RyK0QsRUFBSSxLQUFLLE9BQVNxK0QsRUFBSSxVQUFVLFdBQzVCUixFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU04NkQsRUFBVyxhQUFhLFFBQzlCLFFBQVN1RCxFQUFJLFVBQVUsTUFDdkIsS0FBTSxRQUNOLFVBQVcsR0FDWCxNQUFPLEdBQ1AsUUFBU0EsRUFBSSxVQUFVLE9BQzNDLENBQWlCLEVBQ0QvbEQsRUFBTyxNQUFLLEdBR2hCdFksRUFBSSxPQUFPLE1BQ1gsT0FBTyxRQUFRLElBQUksQ0FBQyxHQUFHQSxFQUFJLElBQUksRUFBRSxJQUFJLENBQUMrVyxFQUFNdFcsSUFDakM0OUQsRUFBSSxLQUFLLFlBQVksSUFBSVAsRUFBbUI5OUQsRUFBSytXLEVBQU0vVyxFQUFJLEtBQU1TLENBQUMsQ0FBQyxDQUM3RSxDQUFDLEVBQUUsS0FBTVcsR0FDQ3k4RCxFQUFZLFlBQVksV0FBV3ZsRCxFQUFRbFgsQ0FBTSxDQUMzRCxFQUVMLE1BQU1BLEVBQVMsQ0FBQyxHQUFHcEIsRUFBSSxJQUFJLEVBQUUsSUFBSSxDQUFDK1csRUFBTXRXLElBQzdCNDlELEVBQUksS0FBSyxXQUFXLElBQUlQLEVBQW1COTlELEVBQUsrVyxFQUFNL1csRUFBSSxLQUFNUyxDQUFDLENBQUMsQ0FDNUUsRUFDRCxPQUFPbzlELEVBQVksWUFBWSxXQUFXdmxELEVBQVFsWCxDQUFNLENBQzNELENBQ0QsSUFBSSxTQUFVLENBQ1YsT0FBTyxLQUFLLEtBQUssSUFDcEIsQ0FDRCxJQUFJNC9ELEVBQVc5MkQsRUFBUyxDQUNwQixPQUFPLElBQUk4MEQsRUFBUyxDQUNoQixHQUFHLEtBQUssS0FDUixVQUFXLENBQUUsTUFBT2dDLEVBQVcsUUFBU3BELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FBRyxDQUM3RixDQUFTLENBQ0osQ0FDRCxJQUFJKzJELEVBQVcvMkQsRUFBUyxDQUNwQixPQUFPLElBQUk4MEQsRUFBUyxDQUNoQixHQUFHLEtBQUssS0FDUixVQUFXLENBQUUsTUFBT2lDLEVBQVcsUUFBU3JELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FBRyxDQUM3RixDQUFTLENBQ0osQ0FDRCxPQUFPMUosRUFBSzBKLEVBQVMsQ0FDakIsT0FBTyxJQUFJODBELEVBQVMsQ0FDaEIsR0FBRyxLQUFLLEtBQ1IsWUFBYSxDQUFFLE1BQU94K0QsRUFBSyxRQUFTbzlELEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FBRyxDQUN6RixDQUFTLENBQ0osQ0FDRCxTQUFTQSxFQUFTLENBQ2QsT0FBTyxLQUFLLElBQUksRUFBR0EsQ0FBTyxDQUM3QixDQUNKLENBQ0RHLEVBQUEsU0FBbUIyMEQsRUFDbkJBLEVBQVMsT0FBUyxDQUFDbDFCLEVBQVEzeEIsSUFDaEIsSUFBSTZtRCxFQUFTLENBQ2hCLEtBQU1sMUIsRUFDTixVQUFXLEtBQ1gsVUFBVyxLQUNYLFlBQWEsS0FDYixTQUFVKzBCLEVBQXNCLFNBQ2hDLEdBQUdiLEVBQW9CN2xELENBQU0sQ0FDckMsQ0FBSyxFQUVMLFNBQVNtcUQsRUFBZXg0QixFQUFRLENBQzVCLEdBQUlBLGFBQWtCeTRCLEdBQVcsQ0FDN0IsTUFBTUMsRUFBVyxDQUFBLEVBQ2pCLFVBQVd6L0QsS0FBTyttQyxFQUFPLE1BQU8sQ0FDNUIsTUFBTTI0QixFQUFjMzRCLEVBQU8sTUFBTS9tQyxDQUFHLEVBQ3BDeS9ELEVBQVN6L0QsQ0FBRyxFQUFJKzdELEdBQVksT0FBT3dELEVBQWVHLENBQVcsQ0FBQyxDQUNqRSxDQUNELE9BQU8sSUFBSUYsR0FBVSxDQUNqQixHQUFHejRCLEVBQU8sS0FDVixNQUFPLElBQU0wNEIsQ0FDekIsQ0FBUyxDQUNKLEtBQ0ksUUFBSTE0QixhQUFrQmsxQixFQUNoQixJQUFJQSxFQUFTLENBQ2hCLEdBQUdsMUIsRUFBTyxLQUNWLEtBQU13NEIsRUFBZXg0QixFQUFPLE9BQU8sQ0FDL0MsQ0FBUyxFQUVJQSxhQUFrQmcxQixHQUNoQkEsR0FBWSxPQUFPd0QsRUFBZXg0QixFQUFPLE9BQVEsQ0FBQSxDQUFDLEVBRXBEQSxhQUFrQmkxQixHQUNoQkEsR0FBWSxPQUFPdUQsRUFBZXg0QixFQUFPLE9BQVEsQ0FBQSxDQUFDLEVBRXBEQSxhQUFrQjQ0QixHQUNoQkEsR0FBUyxPQUFPNTRCLEVBQU8sTUFBTSxJQUFLL3lCLEdBQVN1ckQsRUFBZXZyRCxDQUFJLENBQUMsQ0FBQyxFQUdoRSt5QixDQUVkLENBQ0QsTUFBTXk0QixXQUFrQm5FLENBQVEsQ0FDNUIsYUFBYyxDQUNWLE1BQU0sR0FBRyxTQUFTLEVBQ2xCLEtBQUssUUFBVSxLQUtmLEtBQUssVUFBWSxLQUFLLFlBcUN0QixLQUFLLFFBQVUsS0FBSyxNQUN2QixDQUNELFlBQWEsQ0FDVCxHQUFJLEtBQUssVUFBWSxLQUNqQixPQUFPLEtBQUssUUFDaEIsTUFBTXVFLEVBQVEsS0FBSyxLQUFLLE1BQUssRUFDdkIzK0MsRUFBTysyQyxFQUFPLEtBQUssV0FBVzRILENBQUssRUFDekMsT0FBUSxLQUFLLFFBQVUsQ0FBRSxNQUFBQSxFQUFPLEtBQUEzK0MsQ0FBSSxDQUN2QyxDQUNELE9BQU9uaEIsRUFBTyxDQUVWLEdBRG1CLEtBQUssU0FBU0EsQ0FBSyxJQUNuQms0RCxFQUFPLGNBQWMsT0FBUSxDQUM1QyxNQUFNLzZELEdBQU0sS0FBSyxnQkFBZ0I2QyxDQUFLLEVBQ3RDLFNBQUlnN0QsRUFBWSxtQkFBbUI3OUQsR0FBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxhQUM5QixTQUFVQyxFQUFPLGNBQWMsT0FDL0IsU0FBVS82RCxHQUFJLFVBQzlCLENBQWEsRUFDTTY5RCxFQUFZLE9BQ3RCLENBQ0QsS0FBTSxDQUFFLE9BQUF2bEQsRUFBUSxJQUFBdFksQ0FBRyxFQUFLLEtBQUssb0JBQW9CNkMsQ0FBSyxFQUNoRCxDQUFFLE1BQUE4L0QsRUFBTyxLQUFNQyxDQUFTLEVBQUssS0FBSyxhQUNsQ0MsRUFBWSxDQUFBLEVBQ2xCLEdBQUksRUFBRSxLQUFLLEtBQUssb0JBQW9CVCxHQUNoQyxLQUFLLEtBQUssY0FBZ0IsU0FDMUIsVUFBV3IvRCxNQUFPL0MsRUFBSSxLQUNiNGlFLEVBQVUsU0FBUzcvRCxFQUFHLEdBQ3ZCOC9ELEVBQVUsS0FBSzkvRCxFQUFHLEVBSTlCLE1BQU1pNkQsR0FBUSxDQUFBLEVBQ2QsVUFBV2o2RCxNQUFPNi9ELEVBQVcsQ0FDekIsTUFBTUUsR0FBZUgsRUFBTTUvRCxFQUFHLEVBQ3hCTixHQUFRekMsRUFBSSxLQUFLK0MsRUFBRyxFQUMxQmk2RCxHQUFNLEtBQUssQ0FDUCxJQUFLLENBQUUsT0FBUSxRQUFTLE1BQU9qNkQsRUFBSyxFQUNwQyxNQUFPKy9ELEdBQWEsT0FBTyxJQUFJaEYsRUFBbUI5OUQsRUFBS3lDLEdBQU96QyxFQUFJLEtBQU0rQyxFQUFHLENBQUMsRUFDNUUsVUFBV0EsTUFBTy9DLEVBQUksSUFDdEMsQ0FBYSxDQUNKLENBQ0QsR0FBSSxLQUFLLEtBQUssb0JBQW9Cb2lFLEVBQVUsQ0FDeEMsTUFBTVcsR0FBYyxLQUFLLEtBQUssWUFDOUIsR0FBSUEsS0FBZ0IsY0FDaEIsVUFBV2hnRSxNQUFPOC9ELEVBQ2Q3RixHQUFNLEtBQUssQ0FDUCxJQUFLLENBQUUsT0FBUSxRQUFTLE1BQU9qNkQsRUFBSyxFQUNwQyxNQUFPLENBQUUsT0FBUSxRQUFTLE1BQU8vQyxFQUFJLEtBQUsrQyxFQUFHLENBQUcsQ0FDeEUsQ0FBcUIsVUFHQWdnRSxLQUFnQixTQUNqQkYsRUFBVSxPQUFTLE9BQ2ZoRixFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU04NkQsRUFBVyxhQUFhLGtCQUM5QixLQUFNK0gsQ0FDOUIsQ0FBcUIsRUFDRHZxRCxFQUFPLE1BQUssV0FHWHlxRCxLQUFnQixRQUdyQixNQUFNLElBQUksTUFBTSxzREFBc0QsQ0FFN0UsS0FDSSxDQUVELE1BQU1DLEdBQVcsS0FBSyxLQUFLLFNBQzNCLFVBQVdqZ0UsTUFBTzgvRCxFQUFXLENBQ3pCLE1BQU1wZ0UsR0FBUXpDLEVBQUksS0FBSytDLEVBQUcsRUFDMUJpNkQsR0FBTSxLQUFLLENBQ1AsSUFBSyxDQUFFLE9BQVEsUUFBUyxNQUFPajZELEVBQUssRUFDcEMsTUFBT2lnRSxHQUFTLE9BQU8sSUFBSWxGLEVBQW1COTlELEVBQUt5QyxHQUFPekMsRUFBSSxLQUFNK0MsRUFBRyxDQUN0RSxFQUNELFVBQVdBLE1BQU8vQyxFQUFJLElBQzFDLENBQWlCLENBQ0osQ0FDSixDQUNELE9BQUlBLEVBQUksT0FBTyxNQUNKLFFBQVEsUUFBUyxFQUNuQixLQUFLLFNBQVksQ0FDbEIsTUFBTWk5RCxHQUFZLENBQUEsRUFDbEIsVUFBV0MsTUFBUUYsR0FBTyxDQUN0QixNQUFNajZELEdBQU0sTUFBTW02RCxHQUFLLElBQ3ZCRCxHQUFVLEtBQUssQ0FDWCxJQUFBbDZELEdBQ0EsTUFBTyxNQUFNbTZELEdBQUssTUFDbEIsVUFBV0EsR0FBSyxTQUN4QyxDQUFxQixDQUNKLENBQ0QsT0FBT0QsRUFDdkIsQ0FBYSxFQUNJLEtBQU1BLElBQ0FZLEVBQVksWUFBWSxnQkFBZ0J2bEQsRUFBUTJrRCxFQUFTLENBQ25FLEVBR01ZLEVBQVksWUFBWSxnQkFBZ0J2bEQsRUFBUTBrRCxFQUFLLENBRW5FLENBQ0QsSUFBSSxPQUFRLENBQ1IsT0FBTyxLQUFLLEtBQUssT0FDcEIsQ0FDRCxPQUFPOXlELEVBQVMsQ0FDWixPQUFBMHpELEVBQVksVUFBVSxTQUNmLElBQUkyRSxHQUFVLENBQ2pCLEdBQUcsS0FBSyxLQUNSLFlBQWEsU0FDYixHQUFJcjRELElBQVksT0FDVixDQUNFLFNBQVUsQ0FBQ3F4RCxFQUFPdjdELElBQVEsQ0FDdEIsSUFBSWlRLEVBQUlpRSxFQUFJb0QsRUFBSUMsRUFDaEIsTUFBTTByRCxJQUFnQjNyRCxHQUFNcEQsR0FBTWpFLEVBQUssS0FBSyxNQUFNLFlBQWMsTUFBUWlFLElBQU8sT0FBUyxPQUFTQSxFQUFHLEtBQUtqRSxFQUFJc3JELEVBQU92N0QsQ0FBRyxFQUFFLFdBQWEsTUFBUXNYLElBQU8sT0FBU0EsRUFBS3RYLEVBQUksYUFDdkssT0FBSXU3RCxFQUFNLE9BQVMsb0JBQ1IsQ0FDSCxTQUFVaGtELEVBQUtxbUQsRUFBWSxVQUFVLFNBQVMxekQsQ0FBTyxFQUFFLFdBQWEsTUFBUXFOLElBQU8sT0FBU0EsRUFBSzByRCxFQUNqSSxFQUMrQixDQUNILFFBQVNBLEVBQ3JDLENBQ3FCLENBQ0osRUFDQyxFQUNsQixDQUFTLENBQ0osQ0FDRCxPQUFRLENBQ0osT0FBTyxJQUFJVixHQUFVLENBQ2pCLEdBQUcsS0FBSyxLQUNSLFlBQWEsT0FDekIsQ0FBUyxDQUNKLENBQ0QsYUFBYyxDQUNWLE9BQU8sSUFBSUEsR0FBVSxDQUNqQixHQUFHLEtBQUssS0FDUixZQUFhLGFBQ3pCLENBQVMsQ0FDSixDQWtCRCxPQUFPVyxFQUFjLENBQ2pCLE9BQU8sSUFBSVgsR0FBVSxDQUNqQixHQUFHLEtBQUssS0FDUixNQUFPLEtBQU8sQ0FDVixHQUFHLEtBQUssS0FBSyxNQUFPLEVBQ3BCLEdBQUdXLENBQ25CLEVBQ0EsQ0FBUyxDQUNKLENBTUQsTUFBTUMsRUFBUyxDQVVYLE9BVGUsSUFBSVosR0FBVSxDQUN6QixZQUFhWSxFQUFRLEtBQUssWUFDMUIsU0FBVUEsRUFBUSxLQUFLLFNBQ3ZCLE1BQU8sS0FBTyxDQUNWLEdBQUcsS0FBSyxLQUFLLE1BQU8sRUFDcEIsR0FBR0EsRUFBUSxLQUFLLE1BQU8sQ0FDdkMsR0FDWSxTQUFVdEUsRUFBc0IsU0FDNUMsQ0FBUyxDQUVKLENBb0NELE9BQU85N0QsRUFBSyttQyxFQUFRLENBQ2hCLE9BQU8sS0FBSyxRQUFRLENBQUUsQ0FBQy9tQyxDQUFHLEVBQUcrbUMsQ0FBUSxDQUFBLENBQ3hDLENBc0JELFNBQVMzaEMsRUFBTyxDQUNaLE9BQU8sSUFBSW82RCxHQUFVLENBQ2pCLEdBQUcsS0FBSyxLQUNSLFNBQVVwNkQsQ0FDdEIsQ0FBUyxDQUNKLENBQ0QsS0FBS2k3RCxFQUFNLENBQ1AsTUFBTVQsRUFBUSxDQUFBLEVBQ2QsT0FBQTVILEVBQU8sS0FBSyxXQUFXcUksQ0FBSSxFQUFFLFFBQVNyZ0UsR0FBUSxDQUN0Q3FnRSxFQUFLcmdFLENBQUcsR0FBSyxLQUFLLE1BQU1BLENBQUcsSUFDM0I0L0QsRUFBTTUvRCxDQUFHLEVBQUksS0FBSyxNQUFNQSxDQUFHLEVBRTNDLENBQVMsRUFDTSxJQUFJdy9ELEdBQVUsQ0FDakIsR0FBRyxLQUFLLEtBQ1IsTUFBTyxJQUFNSSxDQUN6QixDQUFTLENBQ0osQ0FDRCxLQUFLUyxFQUFNLENBQ1AsTUFBTVQsRUFBUSxDQUFBLEVBQ2QsT0FBQTVILEVBQU8sS0FBSyxXQUFXLEtBQUssS0FBSyxFQUFFLFFBQVNoNEQsR0FBUSxDQUMzQ3FnRSxFQUFLcmdFLENBQUcsSUFDVDQvRCxFQUFNNS9ELENBQUcsRUFBSSxLQUFLLE1BQU1BLENBQUcsRUFFM0MsQ0FBUyxFQUNNLElBQUl3L0QsR0FBVSxDQUNqQixHQUFHLEtBQUssS0FDUixNQUFPLElBQU1JLENBQ3pCLENBQVMsQ0FDSixDQUlELGFBQWMsQ0FDVixPQUFPTCxFQUFlLElBQUksQ0FDN0IsQ0FDRCxRQUFRYyxFQUFNLENBQ1YsTUFBTVosRUFBVyxDQUFBLEVBQ2pCLE9BQUF6SCxFQUFPLEtBQUssV0FBVyxLQUFLLEtBQUssRUFBRSxRQUFTaDRELEdBQVEsQ0FDaEQsTUFBTTAvRCxFQUFjLEtBQUssTUFBTTEvRCxDQUFHLEVBQzlCcWdFLEdBQVEsQ0FBQ0EsRUFBS3JnRSxDQUFHLEVBQ2pCeS9ELEVBQVN6L0QsQ0FBRyxFQUFJMC9ELEVBR2hCRCxFQUFTei9ELENBQUcsRUFBSTAvRCxFQUFZLFNBQVEsQ0FFcEQsQ0FBUyxFQUNNLElBQUlGLEdBQVUsQ0FDakIsR0FBRyxLQUFLLEtBQ1IsTUFBTyxJQUFNQyxDQUN6QixDQUFTLENBQ0osQ0FDRCxTQUFTWSxFQUFNLENBQ1gsTUFBTVosRUFBVyxDQUFBLEVBQ2pCLE9BQUF6SCxFQUFPLEtBQUssV0FBVyxLQUFLLEtBQUssRUFBRSxRQUFTaDRELEdBQVEsQ0FDaEQsR0FBSXFnRSxHQUFRLENBQUNBLEVBQUtyZ0UsQ0FBRyxFQUNqQnkvRCxFQUFTei9ELENBQUcsRUFBSSxLQUFLLE1BQU1BLENBQUcsTUFFN0IsQ0FFRCxJQUFJc2dFLEVBRGdCLEtBQUssTUFBTXRnRSxDQUFHLEVBRWxDLEtBQU9zZ0UsYUFBb0J2RSxJQUN2QnVFLEVBQVdBLEVBQVMsS0FBSyxVQUU3QmIsRUFBU3ovRCxDQUFHLEVBQUlzZ0UsQ0FDbkIsQ0FDYixDQUFTLEVBQ00sSUFBSWQsR0FBVSxDQUNqQixHQUFHLEtBQUssS0FDUixNQUFPLElBQU1DLENBQ3pCLENBQVMsQ0FDSixDQUNELE9BQVEsQ0FDSixPQUFPYyxFQUFjdkksRUFBTyxLQUFLLFdBQVcsS0FBSyxLQUFLLENBQUMsQ0FDMUQsQ0FDSixDQUNEMXdELEVBQUEsVUFBb0JrNEQsR0FDcEJBLEdBQVUsT0FBUyxDQUFDSSxFQUFPeHFELElBQ2hCLElBQUlvcUQsR0FBVSxDQUNqQixNQUFPLElBQU1JLEVBQ2IsWUFBYSxRQUNiLFNBQVVQLEVBQVMsT0FBUSxFQUMzQixTQUFVdkQsRUFBc0IsVUFDaEMsR0FBR2IsRUFBb0I3bEQsQ0FBTSxDQUNyQyxDQUFLLEVBRUxvcUQsR0FBVSxhQUFlLENBQUNJLEVBQU94cUQsSUFDdEIsSUFBSW9xRCxHQUFVLENBQ2pCLE1BQU8sSUFBTUksRUFDYixZQUFhLFNBQ2IsU0FBVVAsRUFBUyxPQUFRLEVBQzNCLFNBQVV2RCxFQUFzQixVQUNoQyxHQUFHYixFQUFvQjdsRCxDQUFNLENBQ3JDLENBQUssRUFFTG9xRCxHQUFVLFdBQWEsQ0FBQ0ksRUFBT3hxRCxJQUNwQixJQUFJb3FELEdBQVUsQ0FDakIsTUFBQUksRUFDQSxZQUFhLFFBQ2IsU0FBVVAsRUFBUyxPQUFRLEVBQzNCLFNBQVV2RCxFQUFzQixVQUNoQyxHQUFHYixFQUFvQjdsRCxDQUFNLENBQ3JDLENBQUssRUFFTCxNQUFNZ25ELFdBQWlCZixDQUFRLENBQzNCLE9BQU92N0QsRUFBTyxDQUNWLEtBQU0sQ0FBRSxJQUFBN0MsQ0FBSyxFQUFHLEtBQUssb0JBQW9CNkMsQ0FBSyxFQUN4Q1IsRUFBVSxLQUFLLEtBQUssUUFDMUIsU0FBU2toRSxFQUFjcDlDLEVBQVMsQ0FFNUIsVUFBVy9rQixLQUFVK2tCLEVBQ2pCLEdBQUkva0IsRUFBTyxPQUFPLFNBQVcsUUFDekIsT0FBT0EsRUFBTyxPQUd0QixVQUFXQSxLQUFVK2tCLEVBQ2pCLEdBQUkva0IsRUFBTyxPQUFPLFNBQVcsUUFFekIsT0FBQXBCLEVBQUksT0FBTyxPQUFPLEtBQUssR0FBR29CLEVBQU8sSUFBSSxPQUFPLE1BQU0sRUFDM0NBLEVBQU8sT0FJdEIsTUFBTW9pRSxFQUFjcjlDLEVBQVEsSUFBSy9rQixHQUFXLElBQUkwNUQsRUFBVyxTQUFTMTVELEVBQU8sSUFBSSxPQUFPLE1BQU0sQ0FBQyxFQUM3RixTQUFJeThELEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsY0FDOUIsWUFBQTBJLENBQ2hCLENBQWEsRUFDTTNGLEVBQVksT0FDdEIsQ0FDRCxHQUFJNzlELEVBQUksT0FBTyxNQUNYLE9BQU8sUUFBUSxJQUFJcUMsRUFBUSxJQUFJLE1BQU82OEQsR0FBVyxDQUM3QyxNQUFNdUUsRUFBVyxDQUNiLEdBQUd6akUsRUFDSCxPQUFRLENBQ0osR0FBR0EsRUFBSSxPQUNQLE9BQVEsQ0FBRSxDQUNiLEVBQ0QsT0FBUSxJQUM1QixFQUNnQixNQUFPLENBQ0gsT0FBUSxNQUFNay9ELEVBQU8sWUFBWSxDQUM3QixLQUFNbC9ELEVBQUksS0FDVixLQUFNQSxFQUFJLEtBQ1YsT0FBUXlqRSxDQUNoQyxDQUFxQixFQUNELElBQUtBLENBQ3pCLENBQ0EsQ0FBYSxDQUFDLEVBQUUsS0FBS0YsQ0FBYSxFQUVyQixDQUNELElBQUlsakUsRUFDSixNQUFNNjZELEVBQVMsQ0FBQSxFQUNmLFVBQVdnRSxNQUFVNzhELEVBQVMsQ0FDMUIsTUFBTW9oRSxHQUFXLENBQ2IsR0FBR3pqRSxFQUNILE9BQVEsQ0FDSixHQUFHQSxFQUFJLE9BQ1AsT0FBUSxDQUFFLENBQ2IsRUFDRCxPQUFRLElBQzVCLEVBQ3NCb0IsR0FBUzg5RCxHQUFPLFdBQVcsQ0FDN0IsS0FBTWwvRCxFQUFJLEtBQ1YsS0FBTUEsRUFBSSxLQUNWLE9BQVF5akUsRUFDNUIsQ0FBaUIsRUFDRCxHQUFJcmlFLEdBQU8sU0FBVyxRQUNsQixPQUFPQSxHQUVGQSxHQUFPLFNBQVcsU0FBVyxDQUFDZixJQUNuQ0EsRUFBUSxDQUFFLE9BQUFlLEdBQVEsSUFBS3FpRSxFQUFRLEdBRS9CQSxHQUFTLE9BQU8sT0FBTyxRQUN2QnZJLEVBQU8sS0FBS3VJLEdBQVMsT0FBTyxNQUFNLENBRXpDLENBQ0QsR0FBSXBqRSxFQUNBLE9BQUFMLEVBQUksT0FBTyxPQUFPLEtBQUssR0FBR0ssRUFBTSxJQUFJLE9BQU8sTUFBTSxFQUMxQ0EsRUFBTSxPQUVqQixNQUFNbWpFLEVBQWN0SSxFQUFPLElBQUtBLElBQVcsSUFBSUosRUFBVyxTQUFTSSxFQUFNLENBQUMsRUFDMUUsU0FBSTJDLEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsY0FDOUIsWUFBQTBJLENBQ2hCLENBQWEsRUFDTTNGLEVBQVksT0FDdEIsQ0FDSixDQUNELElBQUksU0FBVSxDQUNWLE9BQU8sS0FBSyxLQUFLLE9BQ3BCLENBQ0osQ0FDRHh6RCxFQUFBLFNBQW1CODBELEdBQ25CQSxHQUFTLE9BQVMsQ0FBQ3VFLEVBQU92ckQsSUFDZixJQUFJZ25ELEdBQVMsQ0FDaEIsUUFBU3VFLEVBQ1QsU0FBVTdFLEVBQXNCLFNBQ2hDLEdBQUdiLEVBQW9CN2xELENBQU0sQ0FDckMsQ0FBSyxFQVNMLE1BQU13ckQsR0FBb0J6N0QsR0FDbEJBLGFBQWdCMDdELEVBQ1RELEdBQWlCejdELEVBQUssTUFBTSxFQUU5QkEsYUFBZ0IwMkQsR0FDZCtFLEdBQWlCejdELEVBQUssVUFBUyxDQUFFLEVBRW5DQSxhQUFnQjI3RCxFQUNkLENBQUMzN0QsRUFBSyxLQUFLLEVBRWJBLGFBQWdCNDdELEVBQ2Q1N0QsRUFBSyxRQUVQQSxhQUFnQjY3RCxHQUVkLE9BQU8sS0FBSzc3RCxFQUFLLElBQUksRUFFdkJBLGFBQWdCcTNELEdBQ2RvRSxHQUFpQno3RCxFQUFLLEtBQUssU0FBUyxFQUV0Q0EsYUFBZ0I4NUQsRUFDZCxDQUFDLE1BQVMsRUFFWjk1RCxhQUFnQis1RCxFQUNkLENBQUMsSUFBSSxFQUdMLEtBR2YsTUFBTStCLFVBQThCNUYsQ0FBUSxDQUN4QyxPQUFPdjdELEVBQU8sQ0FDVixLQUFNLENBQUUsSUFBQTdDLENBQUssRUFBRyxLQUFLLG9CQUFvQjZDLENBQUssRUFDOUMsR0FBSTdDLEVBQUksYUFBZSs2RCxFQUFPLGNBQWMsT0FDeEMsU0FBSThDLEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsYUFDOUIsU0FBVUMsRUFBTyxjQUFjLE9BQy9CLFNBQVUvNkQsRUFBSSxVQUM5QixDQUFhLEVBQ002OUQsRUFBWSxRQUV2QixNQUFNb0csRUFBZ0IsS0FBSyxjQUNyQkMsRUFBcUJsa0UsRUFBSSxLQUFLaWtFLENBQWEsRUFDM0MvRSxFQUFTLEtBQUssV0FBVyxJQUFJZ0YsQ0FBa0IsRUFDckQsT0FBS2hGLEVBUURsL0QsRUFBSSxPQUFPLE1BQ0prL0QsRUFBTyxZQUFZLENBQ3RCLEtBQU1sL0QsRUFBSSxLQUNWLEtBQU1BLEVBQUksS0FDVixPQUFRQSxDQUN4QixDQUFhLEVBR01rL0QsRUFBTyxXQUFXLENBQ3JCLEtBQU1sL0QsRUFBSSxLQUNWLEtBQU1BLEVBQUksS0FDVixPQUFRQSxDQUN4QixDQUFhLE1BbkJHNjlELEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsNEJBQzlCLFFBQVMsTUFBTSxLQUFLLEtBQUssV0FBVyxLQUFJLENBQUUsRUFDMUMsS0FBTSxDQUFDbUosQ0FBYSxDQUNwQyxDQUFhLEVBQ01wRyxFQUFZLFFBZ0IxQixDQUNELElBQUksZUFBZ0IsQ0FDaEIsT0FBTyxLQUFLLEtBQUssYUFDcEIsQ0FDRCxJQUFJLFNBQVUsQ0FDVixPQUFPLEtBQUssS0FBSyxPQUNwQixDQUNELElBQUksWUFBYSxDQUNiLE9BQU8sS0FBSyxLQUFLLFVBQ3BCLENBU0QsT0FBTyxPQUFPb0csRUFBZTVoRSxFQUFTOFYsRUFBUSxDQUUxQyxNQUFNZ3NELEVBQWEsSUFBSSxJQUV2QixVQUFXajhELEtBQVE3RixFQUFTLENBQ3hCLE1BQU0raEUsRUFBc0JULEdBQWlCejdELEVBQUssTUFBTSs3RCxDQUFhLENBQUMsRUFDdEUsR0FBSSxDQUFDRyxFQUNELE1BQU0sSUFBSSxNQUFNLG1DQUFtQ0gsQ0FBYSxtREFBbUQsRUFFdkgsVUFBV3hoRSxLQUFTMmhFLEVBQXFCLENBQ3JDLEdBQUlELEVBQVcsSUFBSTFoRSxDQUFLLEVBQ3BCLE1BQU0sSUFBSSxNQUFNLDBCQUEwQixPQUFPd2hFLENBQWEsQ0FBQyx3QkFBd0IsT0FBT3hoRSxDQUFLLENBQUMsRUFBRSxFQUUxRzBoRSxFQUFXLElBQUkxaEUsRUFBT3lGLENBQUksQ0FDN0IsQ0FDSixDQUNELE9BQU8sSUFBSTg3RCxFQUFzQixDQUM3QixTQUFVbkYsRUFBc0Isc0JBQ2hDLGNBQUFvRixFQUNBLFFBQUE1aEUsRUFDQSxXQUFBOGhFLEVBQ0EsR0FBR25HLEVBQW9CN2xELENBQU0sQ0FDekMsQ0FBUyxDQUNKLENBQ0osQ0FDRDlOLEVBQUEsc0JBQWdDMjVELEVBQ2hDLFNBQVNLLEdBQVlsbEUsRUFBR0MsRUFBRyxDQUN2QixNQUFNa2xFLEtBQVl2SixFQUFPLGVBQWU1N0QsQ0FBQyxFQUNuQ29sRSxLQUFZeEosRUFBTyxlQUFlMzdELENBQUMsRUFDekMsR0FBSUQsSUFBTUMsRUFDTixNQUFPLENBQUUsTUFBTyxHQUFNLEtBQU1ELENBQUMsRUFFNUIsR0FBSW1sRSxJQUFVdkosRUFBTyxjQUFjLFFBQVV3SixJQUFVeEosRUFBTyxjQUFjLE9BQVEsQ0FDckYsTUFBTXlKLEVBQVF6SixFQUFPLEtBQUssV0FBVzM3RCxDQUFDLEVBQ2hDcWxFLEVBQWExSixFQUFPLEtBQ3JCLFdBQVc1N0QsQ0FBQyxFQUNaLE9BQVE0RCxHQUFReWhFLEVBQU0sUUFBUXpoRSxDQUFHLElBQU0sRUFBRSxFQUN4QzJoRSxFQUFTLENBQUUsR0FBR3ZsRSxFQUFHLEdBQUdDLENBQUMsRUFDM0IsVUFBVzJELEtBQU8waEUsRUFBWSxDQUMxQixNQUFNRSxHQUFjTixHQUFZbGxFLEVBQUU0RCxDQUFHLEVBQUczRCxFQUFFMkQsQ0FBRyxDQUFDLEVBQzlDLEdBQUksQ0FBQzRoRSxHQUFZLE1BQ2IsTUFBTyxDQUFFLE1BQU8sSUFFcEJELEVBQU8zaEUsQ0FBRyxFQUFJNGhFLEdBQVksSUFDN0IsQ0FDRCxNQUFPLENBQUUsTUFBTyxHQUFNLEtBQU1ELENBQU0sQ0FDckMsU0FDUUosSUFBVXZKLEVBQU8sY0FBYyxPQUFTd0osSUFBVXhKLEVBQU8sY0FBYyxNQUFPLENBQ25GLEdBQUk1N0QsRUFBRSxTQUFXQyxFQUFFLE9BQ2YsTUFBTyxDQUFFLE1BQU8sSUFFcEIsTUFBTXdsRSxFQUFXLENBQUEsRUFDakIsUUFBU3o4RCxFQUFRLEVBQUdBLEVBQVFoSixFQUFFLE9BQVFnSixJQUFTLENBQzNDLE1BQU0wOEQsRUFBUTFsRSxFQUFFZ0osQ0FBSyxFQUNmMjhELEVBQVExbEUsRUFBRStJLENBQUssRUFDZnc4RCxHQUFjTixHQUFZUSxFQUFPQyxDQUFLLEVBQzVDLEdBQUksQ0FBQ0gsR0FBWSxNQUNiLE1BQU8sQ0FBRSxNQUFPLElBRXBCQyxFQUFTLEtBQUtELEdBQVksSUFBSSxDQUNqQyxDQUNELE1BQU8sQ0FBRSxNQUFPLEdBQU0sS0FBTUMsQ0FBUSxDQUN2QyxLQUNJLFFBQUlOLElBQVV2SixFQUFPLGNBQWMsTUFDcEN3SixJQUFVeEosRUFBTyxjQUFjLE1BQy9CLENBQUM1N0QsR0FBTSxDQUFDQyxFQUNELENBQUUsTUFBTyxHQUFNLEtBQU1ELENBQUMsRUFHdEIsQ0FBRSxNQUFPLEdBRXZCLENBQ0QsTUFBTWtnRSxXQUF3QmpCLENBQVEsQ0FDbEMsT0FBT3Y3RCxFQUFPLENBQ1YsS0FBTSxDQUFFLE9BQUF5VixFQUFRLElBQUF0WSxDQUFHLEVBQUssS0FBSyxvQkFBb0I2QyxDQUFLLEVBQ2hEa2lFLEVBQWUsQ0FBQ0MsRUFBWUMsSUFBZ0IsQ0FDOUMsTUFBUXBILEVBQVksV0FBV21ILENBQVUsTUFBU25ILEVBQVksV0FBV29ILENBQVcsRUFDaEYsT0FBT3BILEVBQVksUUFFdkIsTUFBTXQ5RCxFQUFTOGpFLEdBQVlXLEVBQVcsTUFBT0MsRUFBWSxLQUFLLEVBQzlELE9BQUsxa0UsRUFBTyxXQU1KczlELEVBQVksU0FBU21ILENBQVUsTUFBU25ILEVBQVksU0FBU29ILENBQVcsSUFDNUUzc0QsRUFBTyxNQUFLLEVBRVQsQ0FBRSxPQUFRQSxFQUFPLE1BQU8sTUFBTy9YLEVBQU8sV0FSckNzOUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSwwQkFDbEQsQ0FBaUIsRUFDTStDLEVBQVksUUFNbkMsRUFDUSxPQUFJNzlELEVBQUksT0FBTyxNQUNKLFFBQVEsSUFBSSxDQUNmLEtBQUssS0FBSyxLQUFLLFlBQVksQ0FDdkIsS0FBTUEsRUFBSSxLQUNWLEtBQU1BLEVBQUksS0FDVixPQUFRQSxDQUM1QixDQUFpQixFQUNELEtBQUssS0FBSyxNQUFNLFlBQVksQ0FDeEIsS0FBTUEsRUFBSSxLQUNWLEtBQU1BLEVBQUksS0FDVixPQUFRQSxDQUM1QixDQUFpQixDQUNqQixDQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM2OUIsRUFBTUMsQ0FBSyxJQUFNaW5DLEVBQWFsbkMsRUFBTUMsQ0FBSyxDQUFDLEVBRzdDaW5DLEVBQWEsS0FBSyxLQUFLLEtBQUssV0FBVyxDQUMxQyxLQUFNL2tFLEVBQUksS0FDVixLQUFNQSxFQUFJLEtBQ1YsT0FBUUEsQ0FDWCxDQUFBLEVBQUcsS0FBSyxLQUFLLE1BQU0sV0FBVyxDQUMzQixLQUFNQSxFQUFJLEtBQ1YsS0FBTUEsRUFBSSxLQUNWLE9BQVFBLENBQ1gsQ0FBQSxDQUFDLENBRVQsQ0FDSixDQUNEcUssRUFBQSxnQkFBMEJnMUQsR0FDMUJBLEdBQWdCLE9BQVMsQ0FBQ3hoQyxFQUFNQyxFQUFPM2xCLElBQzVCLElBQUlrbkQsR0FBZ0IsQ0FDdkIsS0FBTXhoQyxFQUNOLE1BQU9DLEVBQ1AsU0FBVStnQyxFQUFzQixnQkFDaEMsR0FBR2IsRUFBb0I3bEQsQ0FBTSxDQUNyQyxDQUFLLEVBRUwsTUFBTXVxRCxXQUFpQnRFLENBQVEsQ0FDM0IsT0FBT3Y3RCxFQUFPLENBQ1YsS0FBTSxDQUFFLE9BQUF5VixFQUFRLElBQUF0WSxDQUFHLEVBQUssS0FBSyxvQkFBb0I2QyxDQUFLLEVBQ3RELEdBQUk3QyxFQUFJLGFBQWUrNkQsRUFBTyxjQUFjLE1BQ3hDLFNBQUk4QyxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU04NkQsRUFBVyxhQUFhLGFBQzlCLFNBQVVDLEVBQU8sY0FBYyxNQUMvQixTQUFVLzZELEVBQUksVUFDOUIsQ0FBYSxFQUNNNjlELEVBQVksUUFFdkIsR0FBSTc5RCxFQUFJLEtBQUssT0FBUyxLQUFLLEtBQUssTUFBTSxPQUNsQyxTQUFJNjlELEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsVUFDOUIsUUFBUyxLQUFLLEtBQUssTUFBTSxPQUN6QixVQUFXLEdBQ1gsTUFBTyxHQUNQLEtBQU0sT0FDdEIsQ0FBYSxFQUNNK0MsRUFBWSxRQUduQixDQURTLEtBQUssS0FBSyxNQUNWNzlELEVBQUksS0FBSyxPQUFTLEtBQUssS0FBSyxNQUFNLFlBQ3ZDNjlELEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsUUFDOUIsUUFBUyxLQUFLLEtBQUssTUFBTSxPQUN6QixVQUFXLEdBQ1gsTUFBTyxHQUNQLEtBQU0sT0FDdEIsQ0FBYSxFQUNEeGlELEVBQU8sTUFBSyxHQUVoQixNQUFNeUMsRUFBUSxDQUFDLEdBQUcvYSxFQUFJLElBQUksRUFDckIsSUFBSSxDQUFDK1csRUFBTW11RCxJQUFjLENBQzFCLE1BQU1wN0IsR0FBUyxLQUFLLEtBQUssTUFBTW83QixDQUFTLEdBQUssS0FBSyxLQUFLLEtBQ3ZELE9BQUtwN0IsR0FFRUEsR0FBTyxPQUFPLElBQUlnMEIsRUFBbUI5OUQsRUFBSytXLEVBQU0vVyxFQUFJLEtBQU1rbEUsQ0FBUyxDQUFDLEVBRGhFLElBRXZCLENBQVMsRUFDSSxPQUFRajNELEdBQU0sQ0FBQyxDQUFDQSxDQUFDLEVBQ3RCLE9BQUlqTyxFQUFJLE9BQU8sTUFDSixRQUFRLElBQUkrYSxDQUFLLEVBQUUsS0FBTW9MLEdBQ3JCMDNDLEVBQVksWUFBWSxXQUFXdmxELEVBQVE2TixDQUFPLENBQzVELEVBR00wM0MsRUFBWSxZQUFZLFdBQVd2bEQsRUFBUXlDLENBQUssQ0FFOUQsQ0FDRCxJQUFJLE9BQVEsQ0FDUixPQUFPLEtBQUssS0FBSyxLQUNwQixDQUNELEtBQUtqVCxFQUFNLENBQ1AsT0FBTyxJQUFJNDZELEdBQVMsQ0FDaEIsR0FBRyxLQUFLLEtBQ1IsS0FBQTU2RCxDQUNaLENBQVMsQ0FDSixDQUNKLENBQ0R1QyxFQUFBLFNBQW1CcTRELEdBQ25CQSxHQUFTLE9BQVMsQ0FBQ3lDLEVBQVNodEQsSUFBVyxDQUNuQyxHQUFJLENBQUMsTUFBTSxRQUFRZ3RELENBQU8sRUFDdEIsTUFBTSxJQUFJLE1BQU0sdURBQXVELEVBRTNFLE9BQU8sSUFBSXpDLEdBQVMsQ0FDaEIsTUFBT3lDLEVBQ1AsU0FBVXRHLEVBQXNCLFNBQ2hDLEtBQU0sS0FDTixHQUFHYixFQUFvQjdsRCxDQUFNLENBQ3JDLENBQUssQ0FDTCxFQUNBLE1BQU1pdEQsV0FBa0JoSCxDQUFRLENBQzVCLElBQUksV0FBWSxDQUNaLE9BQU8sS0FBSyxLQUFLLE9BQ3BCLENBQ0QsSUFBSSxhQUFjLENBQ2QsT0FBTyxLQUFLLEtBQUssU0FDcEIsQ0FDRCxPQUFPdjdELEVBQU8sQ0FDVixLQUFNLENBQUUsT0FBQXlWLEVBQVEsSUFBQXRZLENBQUcsRUFBSyxLQUFLLG9CQUFvQjZDLENBQUssRUFDdEQsR0FBSTdDLEVBQUksYUFBZSs2RCxFQUFPLGNBQWMsT0FDeEMsU0FBSThDLEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsYUFDOUIsU0FBVUMsRUFBTyxjQUFjLE9BQy9CLFNBQVUvNkQsRUFBSSxVQUM5QixDQUFhLEVBQ002OUQsRUFBWSxRQUV2QixNQUFNYixFQUFRLENBQUEsRUFDUnBVLEVBQVUsS0FBSyxLQUFLLFFBQ3BCeWMsRUFBWSxLQUFLLEtBQUssVUFDNUIsVUFBV3RpRSxLQUFPL0MsRUFBSSxLQUNsQmc5RCxFQUFNLEtBQUssQ0FDUCxJQUFLcFUsRUFBUSxPQUFPLElBQUlrVixFQUFtQjk5RCxFQUFLK0MsRUFBSy9DLEVBQUksS0FBTStDLENBQUcsQ0FBQyxFQUNuRSxNQUFPc2lFLEVBQVUsT0FBTyxJQUFJdkgsRUFBbUI5OUQsRUFBS0EsRUFBSSxLQUFLK0MsQ0FBRyxFQUFHL0MsRUFBSSxLQUFNK0MsQ0FBRyxDQUFDLENBQ2pHLENBQWEsRUFFTCxPQUFJL0MsRUFBSSxPQUFPLE1BQ0o2OUQsRUFBWSxZQUFZLGlCQUFpQnZsRCxFQUFRMGtELENBQUssRUFHdERhLEVBQVksWUFBWSxnQkFBZ0J2bEQsRUFBUTBrRCxDQUFLLENBRW5FLENBQ0QsSUFBSSxTQUFVLENBQ1YsT0FBTyxLQUFLLEtBQUssU0FDcEIsQ0FDRCxPQUFPLE9BQU92bUQsRUFBTzZ3QixFQUFRZytCLEVBQU8sQ0FDaEMsT0FBSWgrQixhQUFrQjgyQixFQUNYLElBQUlnSCxHQUFVLENBQ2pCLFFBQVMzdUQsRUFDVCxVQUFXNndCLEVBQ1gsU0FBVXUzQixFQUFzQixVQUNoQyxHQUFHYixFQUFvQnNILENBQUssQ0FDNUMsQ0FBYSxFQUVFLElBQUlGLEdBQVUsQ0FDakIsUUFBU3pFLEVBQVUsT0FBUSxFQUMzQixVQUFXbHFELEVBQ1gsU0FBVW9vRCxFQUFzQixVQUNoQyxHQUFHYixFQUFvQjEyQixDQUFNLENBQ3pDLENBQVMsQ0FDSixDQUNKLENBQ0RqOUIsRUFBQSxVQUFvQis2RCxHQUNwQixNQUFNRyxVQUFlbkgsQ0FBUSxDQUN6QixJQUFJLFdBQVksQ0FDWixPQUFPLEtBQUssS0FBSyxPQUNwQixDQUNELElBQUksYUFBYyxDQUNkLE9BQU8sS0FBSyxLQUFLLFNBQ3BCLENBQ0QsT0FBT3Y3RCxFQUFPLENBQ1YsS0FBTSxDQUFFLE9BQUF5VixFQUFRLElBQUF0WSxDQUFHLEVBQUssS0FBSyxvQkFBb0I2QyxDQUFLLEVBQ3RELEdBQUk3QyxFQUFJLGFBQWUrNkQsRUFBTyxjQUFjLElBQ3hDLFNBQUk4QyxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU04NkQsRUFBVyxhQUFhLGFBQzlCLFNBQVVDLEVBQU8sY0FBYyxJQUMvQixTQUFVLzZELEVBQUksVUFDOUIsQ0FBYSxFQUNNNjlELEVBQVksUUFFdkIsTUFBTWpWLEVBQVUsS0FBSyxLQUFLLFFBQ3BCeWMsRUFBWSxLQUFLLEtBQUssVUFDdEJySSxFQUFRLENBQUMsR0FBR2g5RCxFQUFJLEtBQUssUUFBTyxDQUFFLEVBQUUsSUFBSSxDQUFDLENBQUMrQyxFQUFLTixFQUFLLEVBQUcwRixNQUM5QyxDQUNILElBQUt5Z0QsRUFBUSxPQUFPLElBQUlrVixFQUFtQjk5RCxFQUFLK0MsRUFBSy9DLEVBQUksS0FBTSxDQUFDbUksR0FBTyxLQUFLLENBQUMsQ0FBQyxFQUM5RSxNQUFPazlELEVBQVUsT0FBTyxJQUFJdkgsRUFBbUI5OUQsRUFBS3lDLEdBQU96QyxFQUFJLEtBQU0sQ0FBQ21JLEdBQU8sT0FBTyxDQUFDLENBQUMsQ0FDdEcsRUFDUyxFQUNELEdBQUluSSxFQUFJLE9BQU8sTUFBTyxDQUNsQixNQUFNd2xFLEVBQVcsSUFBSSxJQUNyQixPQUFPLFFBQVEsVUFBVSxLQUFLLFNBQVksQ0FDdEMsVUFBV3RJLE1BQVFGLEVBQU8sQ0FDdEIsTUFBTWo2RCxHQUFNLE1BQU1tNkQsR0FBSyxJQUNqQno2RCxHQUFRLE1BQU15NkQsR0FBSyxNQUN6QixHQUFJbjZELEdBQUksU0FBVyxXQUFhTixHQUFNLFNBQVcsVUFDN0MsT0FBT283RCxFQUFZLFNBRW5COTZELEdBQUksU0FBVyxTQUFXTixHQUFNLFNBQVcsVUFDM0M2VixFQUFPLE1BQUssRUFFaEJrdEQsRUFBUyxJQUFJemlFLEdBQUksTUFBT04sR0FBTSxLQUFLLENBQ3RDLENBQ0QsTUFBTyxDQUFFLE9BQVE2VixFQUFPLE1BQU8sTUFBT2t0RCxDQUFRLENBQzlELENBQWEsQ0FDSixLQUNJLENBQ0QsTUFBTUEsRUFBVyxJQUFJLElBQ3JCLFVBQVd0SSxNQUFRRixFQUFPLENBQ3RCLE1BQU1qNkQsR0FBTW02RCxHQUFLLElBQ1h6NkQsR0FBUXk2RCxHQUFLLE1BQ25CLEdBQUluNkQsR0FBSSxTQUFXLFdBQWFOLEdBQU0sU0FBVyxVQUM3QyxPQUFPbzdELEVBQVksU0FFbkI5NkQsR0FBSSxTQUFXLFNBQVdOLEdBQU0sU0FBVyxVQUMzQzZWLEVBQU8sTUFBSyxFQUVoQmt0RCxFQUFTLElBQUl6aUUsR0FBSSxNQUFPTixHQUFNLEtBQUssQ0FDdEMsQ0FDRCxNQUFPLENBQUUsT0FBUTZWLEVBQU8sTUFBTyxNQUFPa3RELENBQVEsQ0FDakQsQ0FDSixDQUNKLENBQ0RuN0QsRUFBQSxPQUFpQms3RCxFQUNqQkEsRUFBTyxPQUFTLENBQUMzYyxFQUFTeWMsRUFBV2x0RCxJQUMxQixJQUFJb3RELEVBQU8sQ0FDZCxVQUFBRixFQUNBLFFBQUF6YyxFQUNBLFNBQVVpVyxFQUFzQixPQUNoQyxHQUFHYixFQUFvQjdsRCxDQUFNLENBQ3JDLENBQUssRUFFTCxNQUFNc3RELFVBQWVySCxDQUFRLENBQ3pCLE9BQU92N0QsRUFBTyxDQUNWLEtBQU0sQ0FBRSxPQUFBeVYsRUFBUSxJQUFBdFksQ0FBRyxFQUFLLEtBQUssb0JBQW9CNkMsQ0FBSyxFQUN0RCxHQUFJN0MsRUFBSSxhQUFlKzZELEVBQU8sY0FBYyxJQUN4QyxTQUFJOEMsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxhQUM5QixTQUFVQyxFQUFPLGNBQWMsSUFDL0IsU0FBVS82RCxFQUFJLFVBQzlCLENBQWEsRUFDTTY5RCxFQUFZLFFBRXZCLE1BQU1RLEVBQU0sS0FBSyxLQUNiQSxFQUFJLFVBQVksTUFDWnIrRCxFQUFJLEtBQUssS0FBT3ErRCxFQUFJLFFBQVEsV0FDeEJSLEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsVUFDOUIsUUFBU3VELEVBQUksUUFBUSxNQUNyQixLQUFNLE1BQ04sVUFBVyxHQUNYLE1BQU8sR0FDUCxRQUFTQSxFQUFJLFFBQVEsT0FDekMsQ0FBaUIsRUFDRC9sRCxFQUFPLE1BQUssR0FHaEIrbEQsRUFBSSxVQUFZLE1BQ1pyK0QsRUFBSSxLQUFLLEtBQU9xK0QsRUFBSSxRQUFRLFdBQ3hCUixFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLEtBQU04NkQsRUFBVyxhQUFhLFFBQzlCLFFBQVN1RCxFQUFJLFFBQVEsTUFDckIsS0FBTSxNQUNOLFVBQVcsR0FDWCxNQUFPLEdBQ1AsUUFBU0EsRUFBSSxRQUFRLE9BQ3pDLENBQWlCLEVBQ0QvbEQsRUFBTyxNQUFLLEdBR3BCLE1BQU0rc0QsRUFBWSxLQUFLLEtBQUssVUFDNUIsU0FBU0ssRUFBWXB0QixHQUFVLENBQzNCLE1BQU1xdEIsR0FBWSxJQUFJLElBQ3RCLFVBQVdoa0UsTUFBVzIyQyxHQUFVLENBQzVCLEdBQUkzMkMsR0FBUSxTQUFXLFVBQ25CLE9BQU9rOEQsRUFBWSxRQUNuQmw4RCxHQUFRLFNBQVcsU0FDbkIyVyxFQUFPLE1BQUssRUFDaEJxdEQsR0FBVSxJQUFJaGtFLEdBQVEsS0FBSyxDQUM5QixDQUNELE1BQU8sQ0FBRSxPQUFRMlcsRUFBTyxNQUFPLE1BQU9xdEQsRUFBUyxDQUNsRCxDQUNELE1BQU1ydEIsRUFBVyxDQUFDLEdBQUd0NEMsRUFBSSxLQUFLLFFBQVEsRUFBRSxJQUFJLENBQUMrVyxHQUFNdFcsS0FBTTRrRSxFQUFVLE9BQU8sSUFBSXZILEVBQW1COTlELEVBQUsrVyxHQUFNL1csRUFBSSxLQUFNUyxFQUFDLENBQUMsQ0FBQyxFQUN6SCxPQUFJVCxFQUFJLE9BQU8sTUFDSixRQUFRLElBQUlzNEMsQ0FBUSxFQUFFLEtBQU1BLElBQWFvdEIsRUFBWXB0QixFQUFRLENBQUMsRUFHOURvdEIsRUFBWXB0QixDQUFRLENBRWxDLENBQ0QsSUFBSXN0QixFQUFTMTdELEVBQVMsQ0FDbEIsT0FBTyxJQUFJdTdELEVBQU8sQ0FDZCxHQUFHLEtBQUssS0FDUixRQUFTLENBQUUsTUFBT0csRUFBUyxRQUFTaEksRUFBWSxVQUFVLFNBQVMxekQsQ0FBTyxDQUFHLENBQ3pGLENBQVMsQ0FDSixDQUNELElBQUkyN0QsRUFBUzM3RCxFQUFTLENBQ2xCLE9BQU8sSUFBSXU3RCxFQUFPLENBQ2QsR0FBRyxLQUFLLEtBQ1IsUUFBUyxDQUFFLE1BQU9JLEVBQVMsUUFBU2pJLEVBQVksVUFBVSxTQUFTMXpELENBQU8sQ0FBRyxDQUN6RixDQUFTLENBQ0osQ0FDRCxLQUFLd2dDLEVBQU14Z0MsRUFBUyxDQUNoQixPQUFPLEtBQUssSUFBSXdnQyxFQUFNeGdDLENBQU8sRUFBRSxJQUFJd2dDLEVBQU14Z0MsQ0FBTyxDQUNuRCxDQUNELFNBQVNBLEVBQVMsQ0FDZCxPQUFPLEtBQUssSUFBSSxFQUFHQSxDQUFPLENBQzdCLENBQ0osQ0FDREcsRUFBQSxPQUFpQm83RCxFQUNqQkEsRUFBTyxPQUFTLENBQUNKLEVBQVdsdEQsSUFDakIsSUFBSXN0RCxFQUFPLENBQ2QsVUFBQUosRUFDQSxRQUFTLEtBQ1QsUUFBUyxLQUNULFNBQVV4RyxFQUFzQixPQUNoQyxHQUFHYixFQUFvQjdsRCxDQUFNLENBQ3JDLENBQUssRUFFTCxNQUFNMnRELFVBQW9CMUgsQ0FBUSxDQUM5QixhQUFjLENBQ1YsTUFBTSxHQUFHLFNBQVMsRUFDbEIsS0FBSyxTQUFXLEtBQUssU0FDeEIsQ0FDRCxPQUFPdjdELEVBQU8sQ0FDVixLQUFNLENBQUUsSUFBQTdDLENBQUssRUFBRyxLQUFLLG9CQUFvQjZDLENBQUssRUFDOUMsR0FBSTdDLEVBQUksYUFBZSs2RCxFQUFPLGNBQWMsU0FDeEMsU0FBSThDLEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsS0FBTTg2RCxFQUFXLGFBQWEsYUFDOUIsU0FBVUMsRUFBTyxjQUFjLFNBQy9CLFNBQVUvNkQsRUFBSSxVQUM5QixDQUFhLEVBQ002OUQsRUFBWSxRQUV2QixTQUFTa0ksRUFBY2w3RCxFQUFNWixHQUFPLENBQ2hDLFNBQVc0ekQsRUFBWSxXQUFXLENBQzlCLEtBQU1oekQsRUFDTixLQUFNN0ssRUFBSSxLQUNWLFVBQVcsQ0FDUEEsRUFBSSxPQUFPLG1CQUNYQSxFQUFJLGtCQUNBczhELEVBQVMsYUFBYyxFQUMzQkEsRUFBUyxlQUNaLEVBQUMsT0FBUXJ1RCxJQUFNLENBQUMsQ0FBQ0EsRUFBQyxFQUNuQixVQUFXLENBQ1AsS0FBTTZzRCxFQUFXLGFBQWEsa0JBQzlCLGVBQWdCN3dELEVBQ25CLENBQ2pCLENBQWEsQ0FDSixDQUNELFNBQVMrN0QsRUFBaUJDLEVBQVNoOEQsR0FBTyxDQUN0QyxTQUFXNHpELEVBQVksV0FBVyxDQUM5QixLQUFNb0ksRUFDTixLQUFNam1FLEVBQUksS0FDVixVQUFXLENBQ1BBLEVBQUksT0FBTyxtQkFDWEEsRUFBSSxrQkFDQXM4RCxFQUFTLGFBQWMsRUFDM0JBLEVBQVMsZUFDWixFQUFDLE9BQVFydUQsSUFBTSxDQUFDLENBQUNBLEVBQUMsRUFDbkIsVUFBVyxDQUNQLEtBQU02c0QsRUFBVyxhQUFhLG9CQUM5QixnQkFBaUI3d0QsRUFDcEIsQ0FDakIsQ0FBYSxDQUNKLENBQ0QsTUFBTWtPLEVBQVMsQ0FBRSxTQUFVblksRUFBSSxPQUFPLGtCQUFrQixFQUNsRHBCLEVBQUtvQixFQUFJLEtBQ2YsR0FBSSxLQUFLLEtBQUssbUJBQW1CaS9ELEdBQVksQ0FJekMsTUFBTWlILEVBQUssS0FDWCxTQUFXckksRUFBWSxJQUFJLGtCQUFtQmh6RCxHQUFNLENBQ2hELE1BQU1aLEdBQVEsSUFBSTZ3RCxFQUFXLFNBQVMsQ0FBRSxDQUFBLEVBQ2xDcUwsR0FBYSxNQUFNRCxFQUFHLEtBQUssS0FDNUIsV0FBV3I3RCxHQUFNc04sQ0FBTSxFQUN2QixNQUFPdU8sSUFBTSxDQUNkLE1BQUF6YyxHQUFNLFNBQVM4N0QsRUFBY2w3RCxHQUFNNmIsRUFBQyxDQUFDLEVBQy9CemMsRUFDMUIsQ0FBaUIsRUFDSzdJLEdBQVMsTUFBTSxRQUFRLE1BQU14QyxFQUFJLEtBQU11bkUsRUFBVSxFQU92RCxPQU5zQixNQUFNRCxFQUFHLEtBQUssUUFBUSxLQUFLLEtBQzVDLFdBQVc5a0UsR0FBUStXLENBQU0sRUFDekIsTUFBT3VPLElBQU0sQ0FDZCxNQUFBemMsR0FBTSxTQUFTKzdELEVBQWlCNWtFLEdBQVFzbEIsRUFBQyxDQUFDLEVBQ3BDemMsRUFDMUIsQ0FBaUIsQ0FFakIsQ0FBYSxDQUNKLEtBQ0ksQ0FJRCxNQUFNaThELEVBQUssS0FDWCxTQUFXckksRUFBWSxJQUFJLFlBQWFoekQsR0FBTSxDQUMxQyxNQUFNczdELEdBQWFELEVBQUcsS0FBSyxLQUFLLFVBQVVyN0QsR0FBTXNOLENBQU0sRUFDdEQsR0FBSSxDQUFDZ3VELEdBQVcsUUFDWixNQUFNLElBQUlyTCxFQUFXLFNBQVMsQ0FBQ2lMLEVBQWNsN0QsR0FBTXM3RCxHQUFXLEtBQUssQ0FBQyxDQUFDLEVBRXpFLE1BQU0va0UsR0FBUyxRQUFRLE1BQU14QyxFQUFJLEtBQU11bkUsR0FBVyxJQUFJLEVBQ2hEQyxHQUFnQkYsRUFBRyxLQUFLLFFBQVEsVUFBVTlrRSxHQUFRK1csQ0FBTSxFQUM5RCxHQUFJLENBQUNpdUQsR0FBYyxRQUNmLE1BQU0sSUFBSXRMLEVBQVcsU0FBUyxDQUFDa0wsRUFBaUI1a0UsR0FBUWdsRSxHQUFjLEtBQUssQ0FBQyxDQUFDLEVBRWpGLE9BQU9BLEdBQWMsSUFDckMsQ0FBYSxDQUNKLENBQ0osQ0FDRCxZQUFhLENBQ1QsT0FBTyxLQUFLLEtBQUssSUFDcEIsQ0FDRCxZQUFhLENBQ1QsT0FBTyxLQUFLLEtBQUssT0FDcEIsQ0FDRCxRQUFRcnJELEVBQU8sQ0FDWCxPQUFPLElBQUkrcUQsRUFBWSxDQUNuQixHQUFHLEtBQUssS0FDUixLQUFNcEQsR0FBUyxPQUFPM25ELENBQUssRUFBRSxLQUFLb25ELEVBQVcsUUFBUSxDQUNqRSxDQUFTLENBQ0osQ0FDRCxRQUFRa0UsRUFBWSxDQUNoQixPQUFPLElBQUlQLEVBQVksQ0FDbkIsR0FBRyxLQUFLLEtBQ1IsUUFBU08sQ0FDckIsQ0FBUyxDQUNKLENBQ0QsVUFBVTE5QyxFQUFNLENBRVosT0FEc0IsS0FBSyxNQUFNQSxDQUFJLENBRXhDLENBQ0QsZ0JBQWdCQSxFQUFNLENBRWxCLE9BRHNCLEtBQUssTUFBTUEsQ0FBSSxDQUV4QyxDQUNELE9BQU8sT0FBTzlkLEVBQU1vN0QsRUFBUzl0RCxFQUFRLENBQ2pDLE9BQU8sSUFBSTJ0RCxFQUFZLENBQ25CLEtBQU9qN0QsR0FFRDYzRCxHQUFTLE9BQU8sRUFBRSxFQUFFLEtBQUtQLEVBQVcsT0FBTSxDQUFFLEVBQ2xELFFBQVM4RCxHQUFXOUQsRUFBVyxPQUFRLEVBQ3ZDLFNBQVV0RCxFQUFzQixZQUNoQyxHQUFHYixFQUFvQjdsRCxDQUFNLENBQ3pDLENBQVMsQ0FDSixDQUNKLENBQ0Q5TixFQUFBLFlBQXNCeTdELEVBQ3RCLE1BQU1sQyxVQUFnQnhGLENBQVEsQ0FDMUIsSUFBSSxRQUFTLENBQ1QsT0FBTyxLQUFLLEtBQUssUUFDcEIsQ0FDRCxPQUFPdjdELEVBQU8sQ0FDVixLQUFNLENBQUUsSUFBQTdDLENBQUssRUFBRyxLQUFLLG9CQUFvQjZDLENBQUssRUFFOUMsT0FEbUIsS0FBSyxLQUFLLE9BQU0sRUFDakIsT0FBTyxDQUFFLEtBQU03QyxFQUFJLEtBQU0sS0FBTUEsRUFBSSxLQUFNLE9BQVFBLENBQUssQ0FBQSxDQUMzRSxDQUNKLENBQ0RxSyxFQUFBLFFBQWtCdTVELEVBQ2xCQSxFQUFRLE9BQVMsQ0FBQzBDLEVBQVFudUQsSUFDZixJQUFJeXJELEVBQVEsQ0FDZixPQUFRMEMsRUFDUixTQUFVekgsRUFBc0IsUUFDaEMsR0FBR2IsRUFBb0I3bEQsQ0FBTSxDQUNyQyxDQUFLLEVBRUwsTUFBTTByRCxVQUFtQnpGLENBQVEsQ0FDN0IsT0FBT3Y3RCxFQUFPLENBQ1YsR0FBSUEsRUFBTSxPQUFTLEtBQUssS0FBSyxNQUFPLENBQ2hDLE1BQU03QyxFQUFNLEtBQUssZ0JBQWdCNkMsQ0FBSyxFQUN0QyxTQUFJZzdELEVBQVksbUJBQW1CNzlELEVBQUssQ0FDcEMsU0FBVUEsRUFBSSxLQUNkLEtBQU04NkQsRUFBVyxhQUFhLGdCQUM5QixTQUFVLEtBQUssS0FBSyxLQUNwQyxDQUFhLEVBQ00rQyxFQUFZLE9BQ3RCLENBQ0QsTUFBTyxDQUFFLE9BQVEsUUFBUyxNQUFPaDdELEVBQU0sSUFBSSxDQUM5QyxDQUNELElBQUksT0FBUSxDQUNSLE9BQU8sS0FBSyxLQUFLLEtBQ3BCLENBQ0osQ0FDRHdILEVBQUEsV0FBcUJ3NUQsRUFDckJBLEVBQVcsT0FBUyxDQUFDcGhFLEVBQU8wVixJQUNqQixJQUFJMHJELEVBQVcsQ0FDbEIsTUFBT3BoRSxFQUNQLFNBQVVvOEQsRUFBc0IsV0FDaEMsR0FBR2IsRUFBb0I3bEQsQ0FBTSxDQUNyQyxDQUFLLEVBRUwsU0FBU21yRCxFQUFjcGpDLEVBQVEvbkIsRUFBUSxDQUNuQyxPQUFPLElBQUkyckQsRUFBUSxDQUNmLE9BQUE1akMsRUFDQSxTQUFVMitCLEVBQXNCLFFBQ2hDLEdBQUdiLEVBQW9CN2xELENBQU0sQ0FDckMsQ0FBSyxDQUNKLENBQ0QsTUFBTTJyRCxVQUFnQjFGLENBQVEsQ0FDMUIsT0FBT3Y3RCxFQUFPLENBQ1YsR0FBSSxPQUFPQSxFQUFNLE1BQVMsU0FBVSxDQUNoQyxNQUFNN0MsRUFBTSxLQUFLLGdCQUFnQjZDLENBQUssRUFDaEMwakUsRUFBaUIsS0FBSyxLQUFLLE9BQ2pDLFNBQUkxSSxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLFNBQVUrNkQsRUFBTyxLQUFLLFdBQVd3TCxDQUFjLEVBQy9DLFNBQVV2bUUsRUFBSSxXQUNkLEtBQU04NkQsRUFBVyxhQUFhLFlBQzlDLENBQWEsRUFDTStDLEVBQVksT0FDdEIsQ0FDRCxHQUFJLEtBQUssS0FBSyxPQUFPLFFBQVFoN0QsRUFBTSxJQUFJLElBQU0sR0FBSSxDQUM3QyxNQUFNN0MsRUFBTSxLQUFLLGdCQUFnQjZDLENBQUssRUFDaEMwakUsRUFBaUIsS0FBSyxLQUFLLE9BQ2pDLFNBQUkxSSxFQUFZLG1CQUFtQjc5RCxFQUFLLENBQ3BDLFNBQVVBLEVBQUksS0FDZCxLQUFNODZELEVBQVcsYUFBYSxtQkFDOUIsUUFBU3lMLENBQ3pCLENBQWEsRUFDTTFJLEVBQVksT0FDdEIsQ0FDRCxTQUFXQSxFQUFZLElBQUloN0QsRUFBTSxJQUFJLENBQ3hDLENBQ0QsSUFBSSxTQUFVLENBQ1YsT0FBTyxLQUFLLEtBQUssTUFDcEIsQ0FDRCxJQUFJLE1BQU8sQ0FDUCxNQUFNMmpFLEVBQWEsQ0FBQSxFQUNuQixVQUFXMXdELEtBQU8sS0FBSyxLQUFLLE9BQ3hCMHdELEVBQVcxd0QsQ0FBRyxFQUFJQSxFQUV0QixPQUFPMHdELENBQ1YsQ0FDRCxJQUFJLFFBQVMsQ0FDVCxNQUFNQSxFQUFhLENBQUEsRUFDbkIsVUFBVzF3RCxLQUFPLEtBQUssS0FBSyxPQUN4QjB3RCxFQUFXMXdELENBQUcsRUFBSUEsRUFFdEIsT0FBTzB3RCxDQUNWLENBQ0QsSUFBSSxNQUFPLENBQ1AsTUFBTUEsRUFBYSxDQUFBLEVBQ25CLFVBQVcxd0QsS0FBTyxLQUFLLEtBQUssT0FDeEIwd0QsRUFBVzF3RCxDQUFHLEVBQUlBLEVBRXRCLE9BQU8wd0QsQ0FDVixDQUNELFFBQVF0bUMsRUFBUSxDQUNaLE9BQU80akMsRUFBUSxPQUFPNWpDLENBQU0sQ0FDL0IsQ0FDRCxRQUFRQSxFQUFRLENBQ1osT0FBTzRqQyxFQUFRLE9BQU8sS0FBSyxRQUFRLE9BQVEyQyxHQUFRLENBQUN2bUMsRUFBTyxTQUFTdW1DLENBQUcsQ0FBQyxDQUFDLENBQzVFLENBQ0osQ0FDRHA4RCxFQUFBLFFBQWtCeTVELEVBQ2xCQSxFQUFRLE9BQVNSLEVBQ2pCLE1BQU1TLFdBQXNCM0YsQ0FBUSxDQUNoQyxPQUFPdjdELEVBQU8sQ0FDVixNQUFNNmpFLEVBQW1CM0wsRUFBTyxLQUFLLG1CQUFtQixLQUFLLEtBQUssTUFBTSxFQUNsRS82RCxFQUFNLEtBQUssZ0JBQWdCNkMsQ0FBSyxFQUN0QyxHQUFJN0MsRUFBSSxhQUFlKzZELEVBQU8sY0FBYyxRQUN4Qy82RCxFQUFJLGFBQWUrNkQsRUFBTyxjQUFjLE9BQVEsQ0FDaEQsTUFBTXdMLEVBQWlCeEwsRUFBTyxLQUFLLGFBQWEyTCxDQUFnQixFQUNoRSxTQUFJN0ksRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxTQUFVKzZELEVBQU8sS0FBSyxXQUFXd0wsQ0FBYyxFQUMvQyxTQUFVdm1FLEVBQUksV0FDZCxLQUFNODZELEVBQVcsYUFBYSxZQUM5QyxDQUFhLEVBQ00rQyxFQUFZLE9BQ3RCLENBQ0QsR0FBSTZJLEVBQWlCLFFBQVE3akUsRUFBTSxJQUFJLElBQU0sR0FBSSxDQUM3QyxNQUFNMGpFLEVBQWlCeEwsRUFBTyxLQUFLLGFBQWEyTCxDQUFnQixFQUNoRSxTQUFJN0ksRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxTQUFVQSxFQUFJLEtBQ2QsS0FBTTg2RCxFQUFXLGFBQWEsbUJBQzlCLFFBQVN5TCxDQUN6QixDQUFhLEVBQ00xSSxFQUFZLE9BQ3RCLENBQ0QsU0FBV0EsRUFBWSxJQUFJaDdELEVBQU0sSUFBSSxDQUN4QyxDQUNELElBQUksTUFBTyxDQUNQLE9BQU8sS0FBSyxLQUFLLE1BQ3BCLENBQ0osQ0FDRHdILEVBQUEsY0FBd0IwNUQsR0FDeEJBLEdBQWMsT0FBUyxDQUFDN2pDLEVBQVEvbkIsSUFDckIsSUFBSTRyRCxHQUFjLENBQ3JCLE9BQVE3akMsRUFDUixTQUFVMitCLEVBQXNCLGNBQ2hDLEdBQUdiLEVBQW9CN2xELENBQU0sQ0FDckMsQ0FBSyxFQUVMLE1BQU04bUQsV0FBbUJiLENBQVEsQ0FDN0IsUUFBUyxDQUNMLE9BQU8sS0FBSyxLQUFLLElBQ3BCLENBQ0QsT0FBT3Y3RCxFQUFPLENBQ1YsS0FBTSxDQUFFLElBQUE3QyxDQUFLLEVBQUcsS0FBSyxvQkFBb0I2QyxDQUFLLEVBQzlDLEdBQUk3QyxFQUFJLGFBQWUrNkQsRUFBTyxjQUFjLFNBQ3hDLzZELEVBQUksT0FBTyxRQUFVLEdBQ3JCLFNBQUk2OUQsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxhQUM5QixTQUFVQyxFQUFPLGNBQWMsUUFDL0IsU0FBVS82RCxFQUFJLFVBQzlCLENBQWEsRUFDTTY5RCxFQUFZLFFBRXZCLE1BQU04SSxFQUFjM21FLEVBQUksYUFBZSs2RCxFQUFPLGNBQWMsUUFDdEQvNkQsRUFBSSxLQUNKLFFBQVEsUUFBUUEsRUFBSSxJQUFJLEVBQzlCLFNBQVc2OUQsRUFBWSxJQUFJOEksRUFBWSxLQUFNNWtFLEdBQ2xDLEtBQUssS0FBSyxLQUFLLFdBQVdBLEVBQU0sQ0FDbkMsS0FBTS9CLEVBQUksS0FDVixTQUFVQSxFQUFJLE9BQU8sa0JBQ3JDLENBQWEsQ0FDSixDQUFDLENBQ0wsQ0FDSixDQUNEcUssRUFBQSxXQUFxQjQwRCxHQUNyQkEsR0FBVyxPQUFTLENBQUNuMUIsRUFBUTN4QixJQUNsQixJQUFJOG1ELEdBQVcsQ0FDbEIsS0FBTW4xQixFQUNOLFNBQVUrMEIsRUFBc0IsV0FDaEMsR0FBR2IsRUFBb0I3bEQsQ0FBTSxDQUNyQyxDQUFLLEVBRUwsTUFBTXltRCxXQUFtQlIsQ0FBUSxDQUM3QixXQUFZLENBQ1IsT0FBTyxLQUFLLEtBQUssTUFDcEIsQ0FDRCxZQUFhLENBQ1QsT0FBTyxLQUFLLEtBQUssT0FBTyxLQUFLLFdBQWFTLEVBQXNCLFdBQzFELEtBQUssS0FBSyxPQUFPLFdBQVksRUFDN0IsS0FBSyxLQUFLLE1BQ25CLENBQ0QsT0FBT2g4RCxFQUFPLENBQ1YsS0FBTSxDQUFFLE9BQUF5VixFQUFRLElBQUF0WSxDQUFHLEVBQUssS0FBSyxvQkFBb0I2QyxDQUFLLEVBQ2hEK2pFLEVBQVMsS0FBSyxLQUFLLFFBQVUsS0FDN0JDLEVBQVcsQ0FDYixTQUFXbGxELEdBQVEsSUFDWGs4QyxFQUFZLG1CQUFtQjc5RCxFQUFLMmhCLENBQUcsRUFDdkNBLEVBQUksTUFDSnJKLEVBQU8sTUFBSyxFQUdaQSxFQUFPLE1BQUssQ0FFbkIsRUFDRCxJQUFJLE1BQU8sQ0FDUCxPQUFPdFksRUFBSSxJQUNkLENBQ2IsRUFFUSxHQURBNm1FLEVBQVMsU0FBV0EsRUFBUyxTQUFTLEtBQUtBLENBQVEsRUFDL0NELEVBQU8sT0FBUyxhQUFjLENBQzlCLE1BQU1FLEVBQVlGLEVBQU8sVUFBVTVtRSxFQUFJLEtBQU02bUUsQ0FBUSxFQUNyRCxPQUFJN21FLEVBQUksT0FBTyxPQUFPLE9BQ1gsQ0FDSCxPQUFRLFFBQ1IsTUFBT0EsRUFBSSxJQUMvQixFQUVnQkEsRUFBSSxPQUFPLE1BQ0osUUFBUSxRQUFROG1FLENBQVMsRUFBRSxLQUFNQSxHQUM3QixLQUFLLEtBQUssT0FBTyxZQUFZLENBQ2hDLEtBQU1BLEVBQ04sS0FBTTltRSxFQUFJLEtBQ1YsT0FBUUEsQ0FDaEMsQ0FBcUIsQ0FDSixFQUdNLEtBQUssS0FBSyxPQUFPLFdBQVcsQ0FDL0IsS0FBTThtRSxFQUNOLEtBQU05bUUsRUFBSSxLQUNWLE9BQVFBLENBQzVCLENBQWlCLENBRVIsQ0FDRCxHQUFJNG1FLEVBQU8sT0FBUyxhQUFjLENBQzlCLE1BQU1HLEVBQXFCcDNELEdBRXRCLENBQ0QsTUFBTXZPLEdBQVN3bEUsRUFBTyxXQUFXajNELEVBQUtrM0QsQ0FBUSxFQUM5QyxHQUFJN21FLEVBQUksT0FBTyxNQUNYLE9BQU8sUUFBUSxRQUFRb0IsRUFBTSxFQUVqQyxHQUFJQSxjQUFrQixRQUNsQixNQUFNLElBQUksTUFBTSwyRkFBMkYsRUFFL0csT0FBT3VPLENBQ3ZCLEVBQ1ksR0FBSTNQLEVBQUksT0FBTyxRQUFVLEdBQU8sQ0FDNUIsTUFBTWduRSxFQUFRLEtBQUssS0FBSyxPQUFPLFdBQVcsQ0FDdEMsS0FBTWhuRSxFQUFJLEtBQ1YsS0FBTUEsRUFBSSxLQUNWLE9BQVFBLENBQzVCLENBQWlCLEVBQ0QsT0FBSWduRSxFQUFNLFNBQVcsVUFDVm5KLEVBQVksU0FDbkJtSixFQUFNLFNBQVcsU0FDakIxdUQsRUFBTyxNQUFLLEVBRWhCeXVELEVBQWtCQyxFQUFNLEtBQUssRUFDdEIsQ0FBRSxPQUFRMXVELEVBQU8sTUFBTyxNQUFPMHVELEVBQU0sT0FDL0MsS0FFRyxRQUFPLEtBQUssS0FBSyxPQUNaLFlBQVksQ0FBRSxLQUFNaG5FLEVBQUksS0FBTSxLQUFNQSxFQUFJLEtBQU0sT0FBUUEsRUFBSyxFQUMzRCxLQUFNZ25FLEdBQ0hBLEVBQU0sU0FBVyxVQUNWbkosRUFBWSxTQUNuQm1KLEVBQU0sU0FBVyxTQUNqQjF1RCxFQUFPLE1BQUssRUFDVHl1RCxFQUFrQkMsRUFBTSxLQUFLLEVBQUUsS0FBSyxLQUNoQyxDQUFFLE9BQVExdUQsRUFBTyxNQUFPLE1BQU8wdUQsRUFBTSxPQUMvQyxFQUNKLENBRVIsQ0FDRCxHQUFJSixFQUFPLE9BQVMsWUFDaEIsR0FBSTVtRSxFQUFJLE9BQU8sUUFBVSxHQUFPLENBQzVCLE1BQU1pbkUsRUFBTyxLQUFLLEtBQUssT0FBTyxXQUFXLENBQ3JDLEtBQU1qbkUsRUFBSSxLQUNWLEtBQU1BLEVBQUksS0FDVixPQUFRQSxDQUM1QixDQUFpQixFQUNELEdBQUksSUFBSzY5RCxFQUFZLFNBQVNvSixDQUFJLEVBQzlCLE9BQU9BLEVBQ1gsTUFBTTdsRSxFQUFTd2xFLEVBQU8sVUFBVUssRUFBSyxNQUFPSixDQUFRLEVBQ3BELEdBQUl6bEUsYUFBa0IsUUFDbEIsTUFBTSxJQUFJLE1BQU0saUdBQWlHLEVBRXJILE1BQU8sQ0FBRSxPQUFRa1gsRUFBTyxNQUFPLE1BQU9sWCxDQUFNLENBQy9DLEtBRUcsUUFBTyxLQUFLLEtBQUssT0FDWixZQUFZLENBQUUsS0FBTXBCLEVBQUksS0FBTSxLQUFNQSxFQUFJLEtBQU0sT0FBUUEsRUFBSyxFQUMzRCxLQUFNaW5FLE1BQ0VwSixFQUFZLFNBQVNvSixDQUFJLEVBRTNCLFFBQVEsUUFBUUwsRUFBTyxVQUFVSyxFQUFLLE1BQU9KLENBQVEsQ0FBQyxFQUFFLEtBQU16bEUsSUFBWSxDQUFFLE9BQVFrWCxFQUFPLE1BQU8sTUFBT2xYLENBQVEsRUFBQyxFQUQ5RzZsRSxDQUVkLEVBR1RsTSxFQUFPLEtBQUssWUFBWTZMLENBQU0sQ0FDakMsQ0FDSixDQUNEdjhELEVBQUEsV0FBcUJ1MEQsR0FDckJ2MEQsRUFBQSxlQUF5QnUwRCxHQUN6QkEsR0FBVyxPQUFTLENBQUM5MEIsRUFBUTg4QixFQUFRenVELElBQzFCLElBQUl5bUQsR0FBVyxDQUNsQixPQUFBOTBCLEVBQ0EsU0FBVSswQixFQUFzQixXQUNoQyxPQUFBK0gsRUFDQSxHQUFHNUksRUFBb0I3bEQsQ0FBTSxDQUNyQyxDQUFLLEVBRUx5bUQsR0FBVyxxQkFBdUIsQ0FBQ3NJLEVBQVlwOUIsRUFBUTN4QixJQUM1QyxJQUFJeW1ELEdBQVcsQ0FDbEIsT0FBQTkwQixFQUNBLE9BQVEsQ0FBRSxLQUFNLGFBQWMsVUFBV285QixDQUFZLEVBQ3JELFNBQVVySSxFQUFzQixXQUNoQyxHQUFHYixFQUFvQjdsRCxDQUFNLENBQ3JDLENBQUssRUFFTCxNQUFNMm1ELFdBQW9CVixDQUFRLENBQzlCLE9BQU92N0QsRUFBTyxDQUVWLE9BRG1CLEtBQUssU0FBU0EsQ0FBSyxJQUNuQms0RCxFQUFPLGNBQWMsYUFDekI4QyxFQUFZLElBQUksTUFBUyxFQUVqQyxLQUFLLEtBQUssVUFBVSxPQUFPaDdELENBQUssQ0FDMUMsQ0FDRCxRQUFTLENBQ0wsT0FBTyxLQUFLLEtBQUssU0FDcEIsQ0FDSixDQUNEd0gsRUFBQSxZQUFzQnkwRCxHQUN0QkEsR0FBWSxPQUFTLENBQUM1MkQsRUFBTWlRLElBQ2pCLElBQUkybUQsR0FBWSxDQUNuQixVQUFXNTJELEVBQ1gsU0FBVTIyRCxFQUFzQixZQUNoQyxHQUFHYixFQUFvQjdsRCxDQUFNLENBQ3JDLENBQUssRUFFTCxNQUFNNG1ELFdBQW9CWCxDQUFRLENBQzlCLE9BQU92N0QsRUFBTyxDQUVWLE9BRG1CLEtBQUssU0FBU0EsQ0FBSyxJQUNuQms0RCxFQUFPLGNBQWMsUUFDekI4QyxFQUFZLElBQUksSUFBSSxFQUU1QixLQUFLLEtBQUssVUFBVSxPQUFPaDdELENBQUssQ0FDMUMsQ0FDRCxRQUFTLENBQ0wsT0FBTyxLQUFLLEtBQUssU0FDcEIsQ0FDSixDQUNEd0gsRUFBQSxZQUFzQjAwRCxHQUN0QkEsR0FBWSxPQUFTLENBQUM3MkQsRUFBTWlRLElBQ2pCLElBQUk0bUQsR0FBWSxDQUNuQixVQUFXNzJELEVBQ1gsU0FBVTIyRCxFQUFzQixZQUNoQyxHQUFHYixFQUFvQjdsRCxDQUFNLENBQ3JDLENBQUssRUFFTCxNQUFNb25ELFdBQW1CbkIsQ0FBUSxDQUM3QixPQUFPdjdELEVBQU8sQ0FDVixLQUFNLENBQUUsSUFBQTdDLENBQUssRUFBRyxLQUFLLG9CQUFvQjZDLENBQUssRUFDOUMsSUFBSWQsRUFBTy9CLEVBQUksS0FDZixPQUFJQSxFQUFJLGFBQWUrNkQsRUFBTyxjQUFjLFlBQ3hDaDVELEVBQU8sS0FBSyxLQUFLLGdCQUVkLEtBQUssS0FBSyxVQUFVLE9BQU8sQ0FDOUIsS0FBQUEsRUFDQSxLQUFNL0IsRUFBSSxLQUNWLE9BQVFBLENBQ3BCLENBQVMsQ0FDSixDQUNELGVBQWdCLENBQ1osT0FBTyxLQUFLLEtBQUssU0FDcEIsQ0FDSixDQUNEcUssRUFBQSxXQUFxQmsxRCxHQUNyQkEsR0FBVyxPQUFTLENBQUNyM0QsRUFBTWlRLElBQ2hCLElBQUlvbkQsR0FBVyxDQUNsQixVQUFXcjNELEVBQ1gsU0FBVTIyRCxFQUFzQixXQUNoQyxhQUFjLE9BQU8xbUQsRUFBTyxTQUFZLFdBQ2xDQSxFQUFPLFFBQ1AsSUFBTUEsRUFBTyxRQUNuQixHQUFHNmxELEVBQW9CN2xELENBQU0sQ0FDckMsQ0FBSyxFQUVMLE1BQU11bkQsVUFBaUJ0QixDQUFRLENBQzNCLE9BQU92N0QsRUFBTyxDQUNWLEtBQU0sQ0FBRSxJQUFBN0MsQ0FBSyxFQUFHLEtBQUssb0JBQW9CNkMsQ0FBSyxFQUV4Q3NrRSxFQUFTLENBQ1gsR0FBR25uRSxFQUNILE9BQVEsQ0FDSixHQUFHQSxFQUFJLE9BQ1AsT0FBUSxDQUFFLENBQ2IsQ0FDYixFQUNjb0IsRUFBUyxLQUFLLEtBQUssVUFBVSxPQUFPLENBQ3RDLEtBQU0rbEUsRUFBTyxLQUNiLEtBQU1BLEVBQU8sS0FDYixPQUFRLENBQ0osR0FBR0EsQ0FDTixDQUNiLENBQVMsRUFDRCxTQUFRdEosRUFBWSxTQUFTejhELENBQU0sRUFDeEJBLEVBQU8sS0FBTUEsSUFDVCxDQUNILE9BQVEsUUFDUixNQUFPQSxFQUFPLFNBQVcsUUFDbkJBLEVBQU8sTUFDUCxLQUFLLEtBQUssV0FBVyxDQUNuQixJQUFJLE9BQVEsQ0FDUixPQUFPLElBQUkwNUQsRUFBVyxTQUFTcU0sRUFBTyxPQUFPLE1BQU0sQ0FDdEQsRUFDRCxNQUFPQSxFQUFPLElBQzFDLENBQXlCLENBQ3pCLEVBQ2EsRUFHTSxDQUNILE9BQVEsUUFDUixNQUFPL2xFLEVBQU8sU0FBVyxRQUNuQkEsRUFBTyxNQUNQLEtBQUssS0FBSyxXQUFXLENBQ25CLElBQUksT0FBUSxDQUNSLE9BQU8sSUFBSTA1RCxFQUFXLFNBQVNxTSxFQUFPLE9BQU8sTUFBTSxDQUN0RCxFQUNELE1BQU9BLEVBQU8sSUFDdEMsQ0FBcUIsQ0FDckIsQ0FFSyxDQUNELGFBQWMsQ0FDVixPQUFPLEtBQUssS0FBSyxTQUNwQixDQUNKLENBQ0Q5OEQsRUFBQSxTQUFtQnExRCxFQUNuQkEsRUFBUyxPQUFTLENBQUN4M0QsRUFBTWlRLElBQ2QsSUFBSXVuRCxFQUFTLENBQ2hCLFVBQVd4M0QsRUFDWCxTQUFVMjJELEVBQXNCLFNBQ2hDLFdBQVksT0FBTzFtRCxFQUFPLE9BQVUsV0FBYUEsRUFBTyxNQUFRLElBQU1BLEVBQU8sTUFDN0UsR0FBRzZsRCxFQUFvQjdsRCxDQUFNLENBQ3JDLENBQUssRUFFTCxNQUFNaXZELFdBQWVoSixDQUFRLENBQ3pCLE9BQU92N0QsRUFBTyxDQUVWLEdBRG1CLEtBQUssU0FBU0EsQ0FBSyxJQUNuQms0RCxFQUFPLGNBQWMsSUFBSyxDQUN6QyxNQUFNLzZELEVBQU0sS0FBSyxnQkFBZ0I2QyxDQUFLLEVBQ3RDLFNBQUlnN0QsRUFBWSxtQkFBbUI3OUQsRUFBSyxDQUNwQyxLQUFNODZELEVBQVcsYUFBYSxhQUM5QixTQUFVQyxFQUFPLGNBQWMsSUFDL0IsU0FBVS82RCxFQUFJLFVBQzlCLENBQWEsRUFDTTY5RCxFQUFZLE9BQ3RCLENBQ0QsTUFBTyxDQUFFLE9BQVEsUUFBUyxNQUFPaDdELEVBQU0sSUFBSSxDQUM5QyxDQUNKLENBQ0R3SCxFQUFBLE9BQWlCKzhELEdBQ2pCQSxHQUFPLE9BQVVqdkQsR0FDTixJQUFJaXZELEdBQU8sQ0FDZCxTQUFVdkksRUFBc0IsT0FDaEMsR0FBR2IsRUFBb0I3bEQsQ0FBTSxDQUNyQyxDQUFLLEVBRUw5TixFQUFBLE1BQWdCLE9BQU8sV0FBVyxFQUNsQyxNQUFNbTFELFdBQW1CcEIsQ0FBUSxDQUM3QixPQUFPdjdELEVBQU8sQ0FDVixLQUFNLENBQUUsSUFBQTdDLENBQUssRUFBRyxLQUFLLG9CQUFvQjZDLENBQUssRUFDeENkLEVBQU8vQixFQUFJLEtBQ2pCLE9BQU8sS0FBSyxLQUFLLEtBQUssT0FBTyxDQUN6QixLQUFBK0IsRUFDQSxLQUFNL0IsRUFBSSxLQUNWLE9BQVFBLENBQ3BCLENBQVMsQ0FDSixDQUNELFFBQVMsQ0FDTCxPQUFPLEtBQUssS0FBSyxJQUNwQixDQUNKLENBQ0RxSyxFQUFBLFdBQXFCbTFELEdBQ3JCLE1BQU1JLFdBQW9CeEIsQ0FBUSxDQUM5QixPQUFPdjdELEVBQU8sQ0FDVixLQUFNLENBQUUsT0FBQXlWLEVBQVEsSUFBQXRZLENBQUcsRUFBSyxLQUFLLG9CQUFvQjZDLENBQUssRUFDdEQsR0FBSTdDLEVBQUksT0FBTyxNQXFCWCxPQXBCb0IsU0FBWSxDQUM1QixNQUFNcW5FLEVBQVcsTUFBTSxLQUFLLEtBQUssR0FBRyxZQUFZLENBQzVDLEtBQU1ybkUsRUFBSSxLQUNWLEtBQU1BLEVBQUksS0FDVixPQUFRQSxDQUM1QixDQUFpQixFQUNELE9BQUlxbkUsRUFBUyxTQUFXLFVBQ2J4SixFQUFZLFFBQ25Cd0osRUFBUyxTQUFXLFNBQ3BCL3VELEVBQU8sTUFBSyxLQUNEdWxELEVBQVksT0FBT3dKLEVBQVMsS0FBSyxHQUdyQyxLQUFLLEtBQUssSUFBSSxZQUFZLENBQzdCLEtBQU1BLEVBQVMsTUFDZixLQUFNcm5FLEVBQUksS0FDVixPQUFRQSxDQUNoQyxDQUFxQixDQUVyQixHQUM4QixFQUVqQixDQUNELE1BQU1xbkUsRUFBVyxLQUFLLEtBQUssR0FBRyxXQUFXLENBQ3JDLEtBQU1ybkUsRUFBSSxLQUNWLEtBQU1BLEVBQUksS0FDVixPQUFRQSxDQUN4QixDQUFhLEVBQ0QsT0FBSXFuRSxFQUFTLFNBQVcsVUFDYnhKLEVBQVksUUFDbkJ3SixFQUFTLFNBQVcsU0FDcEIvdUQsRUFBTyxNQUFLLEVBQ0wsQ0FDSCxPQUFRLFFBQ1IsTUFBTyt1RCxFQUFTLEtBQ3BDLEdBR3VCLEtBQUssS0FBSyxJQUFJLFdBQVcsQ0FDNUIsS0FBTUEsRUFBUyxNQUNmLEtBQU1ybkUsRUFBSSxLQUNWLE9BQVFBLENBQzVCLENBQWlCLENBRVIsQ0FDSixDQUNELE9BQU8sT0FBT2IsRUFBR0MsRUFBRyxDQUNoQixPQUFPLElBQUl3Z0UsR0FBWSxDQUNuQixHQUFJemdFLEVBQ0osSUFBS0MsRUFDTCxTQUFVeS9ELEVBQXNCLFdBQzVDLENBQVMsQ0FDSixDQUNKLENBQ0R4MEQsRUFBQSxZQUFzQnUxRCxHQUN0QixNQUFNQyxXQUFvQnpCLENBQVEsQ0FDOUIsT0FBT3Y3RCxFQUFPLENBQ1YsTUFBTXpCLEVBQVMsS0FBSyxLQUFLLFVBQVUsT0FBT3lCLENBQUssRUFDL0MsU0FBUWc3RCxFQUFZLFNBQVN6OEQsQ0FBTSxJQUMvQkEsRUFBTyxNQUFRLE9BQU8sT0FBT0EsRUFBTyxLQUFLLEdBRXRDQSxDQUNWLENBQ0osQ0FDRGlKLEVBQUEsWUFBc0J3MUQsR0FDdEJBLEdBQVksT0FBUyxDQUFDMzNELEVBQU1pUSxJQUNqQixJQUFJMG5ELEdBQVksQ0FDbkIsVUFBVzMzRCxFQUNYLFNBQVUyMkQsRUFBc0IsWUFDaEMsR0FBR2IsRUFBb0I3bEQsQ0FBTSxDQUNyQyxDQUFLLEVBRUwsTUFBTW12RCxHQUFTLENBQUMvSSxFQUFPcG1ELEVBQVMsQ0FBRSxFQVdsQ292RCxJQUNRaEosRUFDTzJELEVBQU8sT0FBUSxFQUFDLFlBQVksQ0FBQ25nRSxFQUFNL0IsSUFBUSxDQUM5QyxJQUFJaVEsRUFBSWlFLEVBQ1IsR0FBSSxDQUFDcXFELEVBQU14OEQsQ0FBSSxFQUFHLENBQ2QsTUFBTWtTLEVBQUksT0FBT2tFLEdBQVcsV0FDdEJBLEVBQU9wVyxDQUFJLEVBQ1gsT0FBT29XLEdBQVcsU0FDZCxDQUFFLFFBQVNBLENBQVEsRUFDbkJBLEVBQ0pxdkQsSUFBVXR6RCxHQUFNakUsRUFBS2dFLEVBQUUsU0FBVyxNQUFRaEUsSUFBTyxPQUFTQSxFQUFLczNELEtBQVcsTUFBUXJ6RCxJQUFPLE9BQVNBLEVBQUssR0FDdkd1ekQsR0FBSyxPQUFPeHpELEdBQU0sU0FBVyxDQUFFLFFBQVNBLENBQUcsRUFBR0EsRUFDcERqVSxFQUFJLFNBQVMsQ0FBRSxLQUFNLFNBQVUsR0FBR3luRSxHQUFJLE1BQU9ELEVBQU0sQ0FBRSxDQUN4RCxDQUNiLENBQVMsRUFDRXRGLEVBQU8sU0FFbEI3M0QsRUFBQSxPQUFpQmk5RCxHQUNqQmo5RCxFQUFlLEtBQUEsQ0FDWCxPQUFRazRELEdBQVUsVUFDdEIsRUFDQSxJQUFJMUQsR0FDSCxTQUFVQSxFQUF1QixDQUM5QkEsRUFBc0IsVUFBZSxZQUNyQ0EsRUFBc0IsVUFBZSxZQUNyQ0EsRUFBc0IsT0FBWSxTQUNsQ0EsRUFBc0IsVUFBZSxZQUNyQ0EsRUFBc0IsV0FBZ0IsYUFDdENBLEVBQXNCLFFBQWEsVUFDbkNBLEVBQXNCLFVBQWUsWUFDckNBLEVBQXNCLGFBQWtCLGVBQ3hDQSxFQUFzQixRQUFhLFVBQ25DQSxFQUFzQixPQUFZLFNBQ2xDQSxFQUFzQixXQUFnQixhQUN0Q0EsRUFBc0IsU0FBYyxXQUNwQ0EsRUFBc0IsUUFBYSxVQUNuQ0EsRUFBc0IsU0FBYyxXQUNwQ0EsRUFBc0IsVUFBZSxZQUNyQ0EsRUFBc0IsU0FBYyxXQUNwQ0EsRUFBc0Isc0JBQTJCLHdCQUNqREEsRUFBc0IsZ0JBQXFCLGtCQUMzQ0EsRUFBc0IsU0FBYyxXQUNwQ0EsRUFBc0IsVUFBZSxZQUNyQ0EsRUFBc0IsT0FBWSxTQUNsQ0EsRUFBc0IsT0FBWSxTQUNsQ0EsRUFBc0IsWUFBaUIsY0FDdkNBLEVBQXNCLFFBQWEsVUFDbkNBLEVBQXNCLFdBQWdCLGFBQ3RDQSxFQUFzQixRQUFhLFVBQ25DQSxFQUFzQixXQUFnQixhQUN0Q0EsRUFBc0IsY0FBbUIsZ0JBQ3pDQSxFQUFzQixZQUFpQixjQUN2Q0EsRUFBc0IsWUFBaUIsY0FDdkNBLEVBQXNCLFdBQWdCLGFBQ3RDQSxFQUFzQixTQUFjLFdBQ3BDQSxFQUFzQixXQUFnQixhQUN0Q0EsRUFBc0IsV0FBZ0IsYUFDdENBLEVBQXNCLFlBQWlCLGNBQ3ZDQSxFQUFzQixZQUFpQixnQkFDeENBLEVBQXdCeDBELEVBQVEsd0JBQTBCQSxFQUFnQyxzQkFBQSxDQUFFLEVBQUMsRUFLaEcsTUFBTXE5RCxHQUFpQixDQUV2QkMsRUFBS3h2RCxFQUFTLENBQ1YsUUFBUyx5QkFBeUJ3dkQsRUFBSSxJQUFJLEVBQzlDLE9BQVV0OUQsRUFBUSxRQUFTdEksR0FBU0EsYUFBZ0I0bEUsRUFBS3h2RCxDQUFNLEVBQy9EOU4sRUFBQSxXQUFxQnE5RCxHQUNyQixNQUFNRSxHQUFhakgsRUFBVSxPQUM3QnQyRCxFQUFBLE9BQWlCdTlELEdBQ2pCLE1BQU1DLEdBQWFwRyxFQUFVLE9BQzdCcDNELEVBQUEsT0FBaUJ3OUQsR0FDakIsTUFBTUMsR0FBVVYsR0FBTyxPQUN2Qi84RCxFQUFBLElBQWN5OUQsR0FDZCxNQUFNQyxHQUFhckcsRUFBVSxPQUM3QnIzRCxFQUFBLE9BQWlCMDlELEdBQ2pCLE1BQU1DLEdBQWNyRyxFQUFXLE9BQy9CdDNELEVBQUEsUUFBa0IyOUQsR0FDbEIsTUFBTUMsR0FBV3JHLEVBQVEsT0FDekJ2M0QsRUFBQSxLQUFlNDlELEdBQ2YsTUFBTUMsR0FBYW5HLEVBQVUsT0FDN0IxM0QsRUFBQSxPQUFpQjY5RCxHQUNqQixNQUFNQyxHQUFnQm5HLEVBQWEsT0FDbkMzM0QsRUFBQSxVQUFvQjg5RCxHQUNwQixNQUFNQyxHQUFXbkcsRUFBUSxPQUN6QjUzRCxFQUFBLEtBQWUrOUQsR0FDZixNQUFNQyxHQUFVbkcsRUFBTyxPQUN2QjczRCxFQUFBLElBQWNnK0QsR0FDZCxNQUFNQyxHQUFjbkcsRUFBVyxPQUMvQjkzRCxFQUFBLFFBQWtCaStELEdBQ2xCLE1BQU1DLEdBQVluRyxFQUFTLE9BQzNCLzNELEVBQUEsTUFBZ0JrK0QsR0FDaEIsTUFBTUMsR0FBV25HLEVBQVEsT0FDekJoNEQsRUFBQSxLQUFlbStELEdBQ2YsTUFBTUMsR0FBWXpKLEVBQVMsT0FDM0IzMEQsRUFBQSxNQUFnQm8rRCxHQUNoQixNQUFNQyxHQUFhbkcsR0FBVSxPQUM3Qmw0RCxFQUFBLE9BQWlCcStELEdBQ2pCLE1BQU1DLEdBQW1CcEcsR0FBVSxhQUNuQ2w0RCxFQUFBLGFBQXVCcytELEdBQ3ZCLE1BQU1DLEdBQVl6SixHQUFTLE9BQzNCOTBELEVBQUEsTUFBZ0J1K0QsR0FDaEIsTUFBTUMsR0FBeUI3RSxFQUFzQixPQUNyRDM1RCxFQUFBLG1CQUE2QncrRCxHQUM3QixNQUFNQyxHQUFtQnpKLEdBQWdCLE9BQ3pDaDFELEVBQUEsYUFBdUJ5K0QsR0FDdkIsTUFBTUMsR0FBWXJHLEdBQVMsT0FDM0JyNEQsRUFBQSxNQUFnQjArRCxHQUNoQixNQUFNQyxHQUFhNUQsR0FBVSxPQUM3Qi82RCxFQUFBLE9BQWlCMitELEdBQ2pCLE1BQU1DLEdBQVUxRCxFQUFPLE9BQ3ZCbDdELEVBQUEsSUFBYzQrRCxHQUNkLE1BQU1DLEdBQVV6RCxFQUFPLE9BQ3ZCcDdELEVBQUEsSUFBYzYrRCxHQUNkLE1BQU1DLEdBQWVyRCxFQUFZLE9BQ2pDejdELEVBQUEsU0FBbUI4K0QsR0FDbkIsTUFBTUMsR0FBV3hGLEVBQVEsT0FDekJ2NUQsRUFBQSxLQUFlKytELEdBQ2YsTUFBTUMsR0FBY3hGLEVBQVcsT0FDL0J4NUQsRUFBQSxRQUFrQmcvRCxHQUNsQixNQUFNQyxHQUFXeEYsRUFBUSxPQUN6Qno1RCxFQUFBLEtBQWVpL0QsR0FDZixNQUFNQyxHQUFpQnhGLEdBQWMsT0FDckMxNUQsRUFBQSxXQUFxQmsvRCxHQUNyQixNQUFNQyxHQUFjdkssR0FBVyxPQUMvQjUwRCxFQUFBLFFBQWtCbS9ELEdBQ2xCLE1BQU1DLEdBQWM3SyxHQUFXLE9BQy9CdjBELEVBQUEsT0FBaUJvL0QsR0FDakJwL0QsRUFBQSxZQUFzQm8vRCxHQUN0QixNQUFNQyxHQUFlNUssR0FBWSxPQUNqQ3owRCxFQUFBLFNBQW1CcS9ELEdBQ25CLE1BQU1DLEdBQWU1SyxHQUFZLE9BQ2pDMTBELEVBQUEsU0FBbUJzL0QsR0FDbkIsTUFBTUMsR0FBaUJoTCxHQUFXLHFCQUNsQ3YwRCxFQUFBLFdBQXFCdS9ELEdBQ3JCLE1BQU1DLEdBQWVqSyxHQUFZLE9BQ2pDdjFELEVBQUEsU0FBbUJ3L0QsR0FDbkIsTUFBTUMsR0FBVSxJQUFNbEMsR0FBWSxFQUFDLFNBQVEsRUFDM0N2OUQsRUFBQSxRQUFrQnkvRCxHQUNsQixNQUFNQyxHQUFVLElBQU1sQyxHQUFZLEVBQUMsU0FBUSxFQUMzQ3g5RCxFQUFBLFFBQWtCMC9ELEdBQ2xCLE1BQU1DLEdBQVcsSUFBTWhDLEdBQWEsRUFBQyxTQUFRLEVBQzdDMzlELEVBQUEsU0FBbUIyL0QsR0FDbkIzL0QsRUFBaUIsT0FBQSxDQUNiLE9BQVVzWCxHQUFRZy9DLEVBQVUsT0FBTyxDQUFFLEdBQUdoL0MsRUFBSyxPQUFRLEVBQUksQ0FBRSxFQUMzRCxPQUFVQSxHQUFROC9DLEVBQVUsT0FBTyxDQUFFLEdBQUc5L0MsRUFBSyxPQUFRLEVBQUksQ0FBRSxFQUMzRCxRQUFXQSxHQUFRZ2dELEVBQVcsT0FBTyxDQUNqQyxHQUFHaGdELEVBQ0gsT0FBUSxFQUNoQixDQUFLLEVBQ0QsT0FBVUEsR0FBUSsvQyxFQUFVLE9BQU8sQ0FBRSxHQUFHLy9DLEVBQUssT0FBUSxFQUFJLENBQUUsRUFDM0QsS0FBUUEsR0FBUWlnRCxFQUFRLE9BQU8sQ0FBRSxHQUFHamdELEVBQUssT0FBUSxFQUFJLENBQUUsQ0FDM0QsRUFDQXRYLEVBQWdCLE1BQUF3ekQsRUFBWSwyQkNyNkc1QixJQUFJb00sRUFBbUJqNkMsSUFBUUEsR0FBSyxrQkFBcUIsT0FBTyxPQUFVLFNBQVN0cUIsRUFBR3FJLEVBQUdyUCxFQUFHd3JFLEVBQUksQ0FDeEZBLElBQU8sU0FBV0EsRUFBS3hyRSxHQUMzQixPQUFPLGVBQWVnSCxFQUFHd2tFLEVBQUksQ0FBRSxXQUFZLEdBQU0sSUFBSyxVQUFXLENBQUUsT0FBT244RCxFQUFFclAsQ0FBQyxDQUFFLENBQUksQ0FBQSxDQUN0RixFQUFLLFNBQVNnSCxFQUFHcUksRUFBR3JQLEVBQUd3ckUsRUFBSSxDQUNwQkEsSUFBTyxTQUFXQSxFQUFLeHJFLEdBQzNCZ0gsRUFBRXdrRSxDQUFFLEVBQUluOEQsRUFBRXJQLENBQUMsQ0FDZCxHQUNHeXJFLEVBQWdCbjZDLElBQVFBLEdBQUssY0FBaUIsU0FBU2ppQixFQUFHMUQsRUFBUyxDQUNuRSxRQUFTNEosS0FBS2xHLEVBQU9rRyxJQUFNLFdBQWEsQ0FBQyxPQUFPLFVBQVUsZUFBZSxLQUFLNUosRUFBUzRKLENBQUMsR0FBR2cyRCxFQUFnQjUvRCxFQUFTMEQsRUFBR2tHLENBQUMsQ0FDNUgsRUFDQSxPQUFPLGVBQWM1SixFQUFVLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUM1RDgvRCxFQUFhLy9ELEdBQXFCQyxDQUFPLEVBQ3pDOC9ELEVBQWFqekQsR0FBZ0M3TSxDQUFPLEVBQ3BEOC9ELEVBQWEveUQsR0FBa0MvTSxDQUFPLEVBQ3REOC9ELEVBQWF6VyxHQUEyQnJwRCxDQUFPLEVBQy9DOC9ELEVBQWF4VyxHQUFvQnRwRCxDQUFPLEVBQ3hDOC9ELEVBQWFDLEdBQXVCLy9ELENBQU8scUJDaEIzQyxJQUFJNC9ELEVBQW1CajZDLElBQVFBLEdBQUssa0JBQXFCLE9BQU8sT0FBVSxTQUFTdHFCLEVBQUdxSSxFQUFHclAsRUFBR3dyRSxFQUFJLENBQ3hGQSxJQUFPLFNBQVdBLEVBQUt4ckUsR0FDM0IsT0FBTyxlQUFlZ0gsRUFBR3drRSxFQUFJLENBQUUsV0FBWSxHQUFNLElBQUssVUFBVyxDQUFFLE9BQU9uOEQsRUFBRXJQLENBQUMsQ0FBRSxDQUFJLENBQUEsQ0FDdEYsRUFBSyxTQUFTZ0gsRUFBR3FJLEVBQUdyUCxFQUFHd3JFLEVBQUksQ0FDcEJBLElBQU8sU0FBV0EsRUFBS3hyRSxHQUMzQmdILEVBQUV3a0UsQ0FBRSxFQUFJbjhELEVBQUVyUCxDQUFDLENBQ2QsR0FDRzJyRSxFQUFzQnI2QyxJQUFRQSxHQUFLLHFCQUF3QixPQUFPLE9BQVUsU0FBU3RxQixFQUFHeTdCLEVBQUcsQ0FDM0YsT0FBTyxlQUFlejdCLEVBQUcsVUFBVyxDQUFFLFdBQVksR0FBTSxNQUFPeTdCLENBQUMsQ0FBRSxDQUN0RSxFQUFLLFNBQVN6N0IsRUFBR3k3QixFQUFHLENBQ2hCejdCLEVBQUUsUUFBYXk3QixDQUNuQixHQUNJbXBDLEVBQWdCdDZDLElBQVFBLEdBQUssY0FBaUIsU0FBVWlzQyxFQUFLLENBQzdELEdBQUlBLEdBQU9BLEVBQUksV0FBWSxPQUFPQSxFQUNsQyxJQUFJNzZELEVBQVMsQ0FBQSxFQUNiLEdBQUk2NkQsR0FBTyxLQUFNLFFBQVN2OUQsS0FBS3U5RCxFQUFTdjlELElBQU0sV0FBYSxPQUFPLFVBQVUsZUFBZSxLQUFLdTlELEVBQUt2OUQsQ0FBQyxHQUFHdXJFLEVBQWdCN29FLEVBQVE2NkQsRUFBS3Y5RCxDQUFDLEVBQ3ZJLE9BQUEyckUsRUFBbUJqcEUsRUFBUTY2RCxDQUFHLEVBQ3ZCNzZELENBQ1gsRUFDSStvRSxFQUFnQm42QyxJQUFRQSxHQUFLLGNBQWlCLFNBQVNqaUIsRUFBRzFELEVBQVMsQ0FDbkUsUUFBUzRKLEtBQUtsRyxFQUFPa0csSUFBTSxXQUFhLENBQUMsT0FBTyxVQUFVLGVBQWUsS0FBSzVKLEVBQVM0SixDQUFDLEdBQUdnMkQsRUFBZ0I1L0QsRUFBUzBELEVBQUdrRyxDQUFDLENBQzVILEVBQ0EsT0FBTyxlQUFjNUosRUFBVSxhQUFjLENBQUUsTUFBTyxFQUFJLENBQUUsRUFDNURBLEVBQVksRUFBQSxPQUNaLE1BQU1rZ0UsRUFBSUQsRUFBYWxnRSxFQUFxQixFQUM1Q0MsRUFBQSxFQUFZa2dFLEVBQ1pKLEVBQWEvL0QsR0FBdUJDLENBQU8sRUFDM0NBLEVBQUEsUUFBa0JrZ0Usa0JDM0JsQixPQUFPLGVBQWVDLEdBQVMsYUFBYyxDQUFFLE1BQU8sRUFBSSxDQUFFLEVBQ3pDQSxHQUFBLFlBQUcsT0FDdEIsU0FBU0MsSUFBYyxDQUNuQixNQUFPLEVBQ1gsQ0FDQUQsR0FBQSxZQUFzQkMsbUJDTHRCLE9BQU8sZUFBZUMsR0FBUyxhQUFjLENBQUUsTUFBTyxFQUFJLENBQUUsRUFDNURBLEdBQUEsMEJBQW9DQSxHQUFBLGdCQUEwQixPQUM5RCxTQUFTQyxHQUFnQnB5RCxFQUFLeFYsRUFBS3NJLEVBQWN1L0QsRUFBTSxDQUM3Q0EsR0FBUyxNQUFtQ0EsRUFBSyxlQUVuRHYvRCxJQUNBa04sRUFBSSxhQUFlLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBQSxFQUFJQSxFQUFJLFlBQVksRUFBRyxDQUFFLENBQUN4VixDQUFHLEVBQUdzSSxDQUFjLENBQUEsRUFFckcsQ0FDdUJxL0QsR0FBQSxnQkFBR0MsR0FDMUIsU0FBU0UsR0FBMEJ0eUQsRUFBS3hWLEVBQUtOLEVBQU80SSxFQUFjdS9ELEVBQU0sQ0FDcEVyeUQsRUFBSXhWLENBQUcsRUFBSU4sRUFDWGtvRSxHQUFnQnB5RCxFQUFLeFYsRUFBS3NJLEVBQWN1L0QsQ0FBSSxDQUNoRCxDQUNBRixHQUFBLDBCQUFvQ0csNkNDZHBDLE9BQU8sZUFBZXQwRCxHQUFTLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUN2Q0EsR0FBQSxjQUFHLE9BQ3hCLE1BQU11MEQsRUFBUTFnRSxHQUNSMmdFLEVBQWtCN3pELEdBQ2xCOHpELEVBQWE1ekQsS0FDbkIsU0FBUzZ6RCxFQUFjNU0sRUFBS3VNLEVBQU0sQ0FDOUIsSUFBSTM2RCxFQUFJaUUsRUFDUixNQUFNcUUsRUFBTSxDQUNSLEtBQU0sT0FDZCxFQUNJLFFBQU1yRSxHQUFNakUsRUFBS291RCxFQUFJLFFBQVUsTUFBUXB1RCxJQUFPLE9BQVMsT0FBU0EsRUFBRyxRQUFVLE1BQVFpRSxJQUFPLE9BQVMsT0FBU0EsRUFBRyxZQUFjNDJELEVBQU0sc0JBQXNCLFNBQ3ZKdnlELEVBQUksU0FBWXl5RCxFQUFXLFVBQVUzTSxFQUFJLEtBQUssS0FBTSxPQUFPLE9BQU8sT0FBTyxPQUFPLEdBQUl1TSxDQUFJLEVBQUcsQ0FBRSxZQUFhLENBQUMsR0FBR0EsRUFBSyxZQUFhLE9BQU8sQ0FBRyxDQUFBLENBQUMsR0FFM0l2TSxFQUFJLGNBQ0EwTSxFQUFnQiwyQkFBMkJ4eUQsRUFBSyxXQUFZOGxELEVBQUksVUFBVSxNQUFPQSxFQUFJLFVBQVUsUUFBU3VNLENBQUksRUFFaEh2TSxFQUFJLGNBQ0EwTSxFQUFnQiwyQkFBMkJ4eUQsRUFBSyxXQUFZOGxELEVBQUksVUFBVSxNQUFPQSxFQUFJLFVBQVUsUUFBU3VNLENBQUksRUFFaEh2TSxFQUFJLGlCQUNBME0sRUFBZ0IsMkJBQTJCeHlELEVBQUssV0FBWThsRCxFQUFJLFlBQVksTUFBT0EsRUFBSSxZQUFZLFFBQVN1TSxDQUFJLEtBQ2hIRyxFQUFnQiwyQkFBMkJ4eUQsRUFBSyxXQUFZOGxELEVBQUksWUFBWSxNQUFPQSxFQUFJLFlBQVksUUFBU3VNLENBQUksR0FFakhyeUQsQ0FDVixDQUNELE9BQUFoQyxHQUFBLGNBQXdCMDBELGVDekJ4QixPQUFPLGVBQWVDLEdBQVMsYUFBYyxDQUFFLE1BQU8sRUFBSSxDQUFFLEVBQ3RDQSxHQUFBLGVBQUcsT0FDekIsTUFBTUgsR0FBa0IzZ0UsR0FDeEIsU0FBUytnRSxHQUFlOU0sRUFBS3VNLEVBQU0sQ0FDL0IsTUFBTXJ5RCxFQUFNLENBQ1IsS0FBTSxVQUNOLE9BQVEsT0FDaEIsRUFDSSxHQUFJLENBQUM4bEQsRUFBSSxPQUNMLE9BQU85bEQsRUFDWCxVQUFXZ21ELEtBQVNGLEVBQUksT0FDcEIsT0FBUUUsRUFBTSxLQUFJLENBQ2QsSUFBSyxNQUNHcU0sRUFBSyxTQUFXLGNBQ1pyTSxFQUFNLGFBQ0Z3TSxHQUFnQiwyQkFBMkJ4eUQsRUFBSyxVQUFXZ21ELEVBQU0sTUFBT0EsRUFBTSxRQUFTcU0sQ0FBSSxLQUczRkcsR0FBZ0IsMkJBQTJCeHlELEVBQUssbUJBQW9CZ21ELEVBQU0sTUFBT0EsRUFBTSxRQUFTcU0sQ0FBSSxHQUl2R3JNLEVBQU0sWUFDUGhtRCxFQUFJLGlCQUFtQixPQUV2Qnd5RCxHQUFnQiwyQkFBMkJ4eUQsRUFBSyxVQUFXZ21ELEVBQU0sTUFBT0EsRUFBTSxRQUFTcU0sQ0FBSSxHQUVuRyxNQUNKLElBQUssTUFDR0EsRUFBSyxTQUFXLGNBQ1pyTSxFQUFNLGFBQ0Z3TSxHQUFnQiwyQkFBMkJ4eUQsRUFBSyxVQUFXZ21ELEVBQU0sTUFBT0EsRUFBTSxRQUFTcU0sQ0FBSSxLQUczRkcsR0FBZ0IsMkJBQTJCeHlELEVBQUssbUJBQW9CZ21ELEVBQU0sTUFBT0EsRUFBTSxRQUFTcU0sQ0FBSSxHQUl2R3JNLEVBQU0sWUFDUGhtRCxFQUFJLGlCQUFtQixPQUV2Qnd5RCxHQUFnQiwyQkFBMkJ4eUQsRUFBSyxVQUFXZ21ELEVBQU0sTUFBT0EsRUFBTSxRQUFTcU0sQ0FBSSxHQUVuRyxNQUNKLElBQUssZ0JBQ0dHLEdBQWdCLDJCQUEyQnh5RCxFQUFLLGFBQWNnbUQsRUFBTSxNQUFPQSxFQUFNLFFBQVNxTSxDQUFJLEVBQ2xHLEtBQ1AsQ0FFTCxPQUFPcnlELENBQ1gsQ0FDQTJ5RCxHQUFBLGVBQXlCQyxhQ25EekIsT0FBTyxlQUFlQyxHQUFTLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUNyQ0EsR0FBQSxnQkFBRyxPQUMxQixTQUFTQyxJQUFrQixDQUN2QixNQUFPLENBQ0gsS0FBTSxTQUNkLENBQ0EsQ0FDQUQsR0FBQSxnQkFBMEJDLG1EQ1AxQixPQUFPLGVBQWVDLEdBQVMsYUFBYyxDQUFFLE1BQU8sRUFBSSxDQUFFLEVBQ3JDQSxHQUFBLGdCQUFHLE9BQzFCLE1BQU1OLEVBQWE1Z0UsS0FDbkIsU0FBU21oRSxFQUFnQkMsRUFBTVosRUFBTSxDQUNqQyxTQUFXSSxFQUFXLFVBQVVRLEVBQUssS0FBSyxLQUFNWixDQUFJLENBQ3ZELENBQ0QsT0FBQVUsR0FBQSxnQkFBMEJDLHFEQ04xQixPQUFPLGVBQWVFLEdBQVMsYUFBYyxDQUFFLE1BQU8sRUFBSSxDQUFFLEVBQ3ZDQSxHQUFBLGNBQUcsT0FDeEIsTUFBTVQsRUFBYTVnRSxLQUNic2hFLEVBQWdCLENBQUNyTixFQUFLdU0sT0FDYkksRUFBVyxVQUFVM00sRUFBSSxVQUFVLEtBQU11TSxDQUFJLEVBRTVELE9BQUFhLEdBQUEsY0FBd0JDLGVDTnhCLE9BQU8sZUFBZXRuQixHQUFTLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUN4Q0EsR0FBQSxhQUFHLE9BQ3ZCLE1BQU0ybUIsR0FBa0IzZ0UsR0FDeEIsU0FBU3VoRSxHQUFhdE4sRUFBS3VNLEVBQU0sQ0FDN0IsT0FBSUEsRUFBSyxjQUFnQixVQUNkZ0IsR0FBa0J2TixFQUFLdU0sQ0FBSSxFQUczQixDQUNILEtBQU0sU0FDTixPQUFRLFdBQ3BCLENBRUEsQ0FDb0J4bUIsR0FBQSxhQUFHdW5CLEdBQ3ZCLE1BQU1DLEdBQW9CLENBQUN2TixFQUFLdU0sSUFBUyxDQUNyQyxNQUFNcnlELEVBQU0sQ0FDUixLQUFNLFVBQ04sT0FBUSxXQUNoQixFQUNJLFVBQVdnbUQsS0FBU0YsRUFBSSxPQUNwQixPQUFRRSxFQUFNLEtBQUksQ0FDZCxJQUFLLE1BQ0dxTSxFQUFLLFNBQVcsa0JBQ1pHLEdBQWdCLDJCQUEyQnh5RCxFQUFLLFVBQVdnbUQsRUFBTSxNQUNyRUEsRUFBTSxRQUFTcU0sQ0FBSSxFQUV2QixNQUNKLElBQUssTUFDR0EsRUFBSyxTQUFXLGtCQUNaRyxHQUFnQiwyQkFBMkJ4eUQsRUFBSyxVQUFXZ21ELEVBQU0sTUFDckVBLEVBQU0sUUFBU3FNLENBQUksRUFFdkIsS0FDUCxDQUVMLE9BQU9yeUQsQ0FDWCxrRENyQ0EsT0FBTyxlQUFlUCxHQUFTLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUNyQ0EsR0FBQSxnQkFBRyxPQUMxQixNQUFNZ3pELEVBQWE1Z0UsS0FDbkIsU0FBU3loRSxFQUFnQkwsRUFBTVosRUFBTSxDQUNqQyxPQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sTUFBUUksRUFBVyxVQUFVUSxFQUFLLFVBQVUsS0FBTVosQ0FBSSxDQUFDLEVBQUcsQ0FBRSxRQUFTWSxFQUFLLGFBQWMsQ0FBQSxDQUFFLENBQ2hJLENBQ0QsT0FBQXh6RCxHQUFBLGdCQUEwQjZ6RCxxRENOMUIsT0FBTyxlQUFlQyxHQUFTLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUNyQ0EsR0FBQSxnQkFBRyxPQUMxQixNQUFNZCxFQUFhNWdFLEtBQ25CLFNBQVMyaEUsRUFBZ0JQLEVBQU1aLEVBQU0sQ0FDakMsT0FBT0EsRUFBSyxpQkFBbUIsV0FDckJJLEVBQVcsVUFBVVEsRUFBSyxPQUFPLEtBQU1aLENBQUksRUFDL0MsRUFDVCxDQUNELE9BQUFrQixHQUFBLGdCQUEwQkMsZUNSMUIsT0FBTyxlQUFlQyxHQUFTLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUN4Q0EsR0FBQSxhQUFHLE9BQ3ZCLFNBQVNDLEdBQWE1TixFQUFLLENBQ3ZCLE1BQU8sQ0FDSCxLQUFNLFNBQ04sS0FBTUEsRUFBSSxNQUNsQixDQUNBLENBQ0EyTixHQUFBLGFBQXVCQyxtRENSdkIsSUFBSUMsRUFBVWw4QyxJQUFRQSxHQUFLLFFBQVcsU0FBVThSLEVBQUdwYixFQUFHLENBQ2xELElBQUlaLEVBQUksQ0FBQSxFQUNSLFFBQVM3UixLQUFLNnRCLEVBQU8sT0FBTyxVQUFVLGVBQWUsS0FBS0EsRUFBRzd0QixDQUFDLEdBQUt5UyxFQUFFLFFBQVF6UyxDQUFDLEVBQUksSUFDOUU2UixFQUFFN1IsQ0FBQyxFQUFJNnRCLEVBQUU3dEIsQ0FBQyxHQUNkLEdBQUk2dEIsR0FBSyxNQUFRLE9BQU8sT0FBTyx1QkFBMEIsV0FDckQsUUFBU3JoQyxFQUFJLEVBQUd3VCxFQUFJLE9BQU8sc0JBQXNCNnRCLENBQUMsRUFBR3JoQyxFQUFJd1QsRUFBRSxPQUFReFQsSUFDM0RpbUIsRUFBRSxRQUFRelMsRUFBRXhULENBQUMsQ0FBQyxFQUFJLEdBQUssT0FBTyxVQUFVLHFCQUFxQixLQUFLcWhDLEVBQUc3dEIsRUFBRXhULENBQUMsQ0FBQyxJQUN6RXFsQixFQUFFN1IsRUFBRXhULENBQUMsQ0FBQyxFQUFJcWhDLEVBQUU3dEIsRUFBRXhULENBQUMsQ0FBQyxHQUU1QixPQUFPcWxCLENBQ1gsRUFDQSxPQUFPLGVBQWVxbUQsR0FBUyxhQUFjLENBQUUsTUFBTyxFQUFJLENBQUUsRUFDaENBLEdBQUEscUJBQUcsT0FDL0IsTUFBTW5CLEVBQWE1Z0UsS0FDYmdpRSxFQUEwQmxrRSxHQUN4QixTQUFVQSxHQUFRQSxFQUFLLE9BQVMsU0FDekIsR0FDSixVQUFXQSxFQUV0QixTQUFTbWtFLEVBQXFCaE8sRUFBS3VNLEVBQU0sQ0FDckMsTUFBTTBCLEVBQVEsSUFDTnRCLEVBQVcsVUFBVTNNLEVBQUksS0FBSyxLQUFNLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBRSxFQUFFdU0sQ0FBSSxFQUFHLENBQUUsWUFBYSxDQUFDLEdBQUdBLEVBQUssWUFBYSxRQUFTLEdBQUcsQ0FBQyxDQUFFLENBQUMsS0FDaElJLEVBQVcsVUFBVTNNLEVBQUksTUFBTSxLQUFNLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBRSxFQUFFdU0sQ0FBSSxFQUFHLENBQUUsWUFBYSxDQUFDLEdBQUdBLEVBQUssWUFBYSxRQUFTLEdBQUcsQ0FBQyxDQUFFLENBQUMsQ0FDeEksRUFBQyxPQUFRMzhELEdBQU0sQ0FBQyxDQUFDQSxDQUFDLEVBQ25CLElBQUlzK0QsRUFBd0IzQixFQUFLLFNBQVcsb0JBQ3RDLENBQUUsc0JBQXVCLEVBQU8sRUFDaEMsT0FDTixNQUFNNEIsRUFBYyxDQUFBLEVBRXBCLE9BQUFGLEVBQU0sUUFBU3hpQyxHQUFXLENBQ3RCLEdBQUlzaUMsRUFBdUJ0aUMsQ0FBTSxFQUM3QjBpQyxFQUFZLEtBQUssR0FBRzFpQyxFQUFPLEtBQUssRUFDNUJBLEVBQU8sd0JBQTBCLFNBR2pDeWlDLEVBQXdCLFlBRzNCLENBQ0QsSUFBSUUsRUFBZTNpQyxFQUNmLHlCQUEwQkEsR0FDMUJBLEVBQU8sdUJBQXlCLEdBRWhDMmlDLEVBRGdEUCxFQUFPcGlDLEVBQVEsQ0FBQyxzQkFBc0IsQ0FBQyxFQUt2RnlpQyxFQUF3QixPQUU1QkMsRUFBWSxLQUFLQyxDQUFZLENBQ2hDLENBQ1QsQ0FBSyxFQUNNRCxFQUFZLE9BQ2IsT0FBTyxPQUFPLENBQUUsTUFBT0EsQ0FBVyxFQUFJRCxDQUFxQixFQUFJLE1BQ3hFLENBQ0QsT0FBQUosR0FBQSxxQkFBK0JFLGVDdkQvQixPQUFPLGVBQWVLLEdBQVMsYUFBYyxDQUFFLE1BQU8sRUFBSSxDQUFFLEVBQ3JDQSxHQUFBLGdCQUFHLE9BQzFCLFNBQVNDLEdBQWdCdE8sRUFBS3VNLEVBQU0sQ0FDaEMsTUFBTWdDLEVBQWEsT0FBT3ZPLEVBQUksTUFDOUIsT0FBSXVPLElBQWUsVUFDZkEsSUFBZSxVQUNmQSxJQUFlLFdBQ2ZBLElBQWUsU0FDUixDQUNILEtBQU0sTUFBTSxRQUFRdk8sRUFBSSxLQUFLLEVBQUksUUFBVSxRQUN2RCxFQUVRdU0sRUFBSyxTQUFXLFdBQ1QsQ0FDSCxLQUFNZ0MsSUFBZSxTQUFXLFVBQVlBLEVBQzVDLEtBQU0sQ0FBQ3ZPLEVBQUksS0FBSyxDQUM1QixFQUVXLENBQ0gsS0FBTXVPLElBQWUsU0FBVyxVQUFZQSxFQUM1QyxNQUFPdk8sRUFBSSxLQUNuQixDQUNBLENBQ0FxTyxHQUFBLGdCQUEwQkMsbURDdkIxQixPQUFPLGVBQWV2K0QsR0FBUyxhQUFjLENBQUUsTUFBTyxFQUFJLENBQUUsRUFDekNBLEdBQUEsWUFBRyxPQUN0QixNQUFNNDhELEVBQWE1Z0UsS0FDbkIsU0FBU3lpRSxFQUFZeE8sRUFBS3VNLEVBQU0sQ0FDNUIsTUFBTTVtRCxLQUFXZ25ELEVBQVcsVUFBVTNNLEVBQUksUUFBUSxLQUFNLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBQSxFQUFJdU0sQ0FBSSxFQUFHLENBQUUsWUFBYSxDQUFDLEdBQUdBLEVBQUssWUFBYSxRQUFTLFFBQVMsR0FBRyxFQUFHLENBQUMsR0FBSyxDQUFBLEVBQzVKMXFDLEtBQWE4cUMsRUFBVyxVQUFVM00sRUFBSSxVQUFVLEtBQU0sT0FBTyxPQUFPLE9BQU8sT0FBTyxDQUFBLEVBQUl1TSxDQUFJLEVBQUcsQ0FBRSxZQUFhLENBQUMsR0FBR0EsRUFBSyxZQUFhLFFBQVMsUUFBUyxHQUFHLEVBQUcsQ0FBQyxHQUFLLENBQUEsRUFDdEssTUFBTyxDQUNILEtBQU0sUUFDTixTQUFVLElBQ1YsTUFBTyxDQUNILEtBQU0sUUFDTixNQUFPLENBQUM1bUQsRUFBTWtjLENBQU0sRUFDcEIsU0FBVSxFQUNWLFNBQVUsQ0FDYixDQUNULENBQ0MsQ0FDRCxPQUFBOXhCLEdBQUEsWUFBc0J5K0QsZUNqQnRCLE9BQU8sZUFBZUMsR0FBUyxhQUFjLENBQUUsTUFBTyxFQUFJLENBQUUsRUFDbENBLEdBQUEsbUJBQUcsT0FDN0IsU0FBU0MsR0FBbUIxTyxFQUFLLENBQzdCLE1BQU05MUIsRUFBUzgxQixFQUFJLE9BSWIyTyxFQUhhLE9BQU8sS0FBSzNPLEVBQUksTUFBTSxFQUFFLE9BQVF0N0QsR0FDeEMsT0FBT3dsQyxFQUFPQSxFQUFPeGxDLENBQUcsQ0FBQyxHQUFNLFFBQ3pDLEVBQytCLElBQUtBLEdBQVF3bEMsRUFBT3hsQyxDQUFHLENBQUMsRUFDbERrcUUsRUFBYyxNQUFNLEtBQUssSUFBSSxJQUFJRCxFQUFhLElBQUs5c0MsR0FBVyxPQUFPQSxDQUFNLENBQUMsQ0FBQyxFQUNuRixNQUFPLENBQ0gsS0FBTStzQyxFQUFZLFNBQVcsRUFDdkJBLEVBQVksQ0FBQyxJQUFNLFNBQ2YsU0FDQSxTQUNKLENBQUMsU0FBVSxRQUFRLEVBQ3pCLEtBQU1ELENBQ2QsQ0FDQSxDQUNBRixHQUFBLG1CQUE2QkMsYUNsQjdCLE9BQU8sZUFBZUcsR0FBUyxhQUFjLENBQUUsTUFBTyxFQUFJLENBQUUsRUFDdkNBLEdBQUEsY0FBRyxPQUN4QixTQUFTQyxJQUFnQixDQUNyQixNQUFPLENBQ0gsSUFBSyxDQUFFLENBQ2YsQ0FDQSxDQUNBRCxHQUFBLGNBQXdCQyxhQ1B4QixPQUFPLGVBQWVDLEdBQVMsYUFBYyxDQUFFLE1BQU8sRUFBSSxDQUFFLEVBQ3hDQSxHQUFBLGFBQUcsT0FDdkIsU0FBU0MsR0FBYXpDLEVBQU0sQ0FDeEIsT0FBT0EsRUFBSyxTQUFXLFdBQ2pCLENBQ0UsS0FBTSxDQUFDLE1BQU0sRUFDYixTQUFVLEVBQ2IsRUFDQyxDQUNFLEtBQU0sTUFDbEIsQ0FDQSxDQUNBd0MsR0FBQSxhQUF1QkMsaUVDWnZCLE9BQU8sZUFBY2hqRSxFQUFVLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUM1REEsRUFBd0IsY0FBQUEsRUFBQSxrQkFBNEIsT0FDcEQsTUFBTTJnRSxFQUFhNWdFLEtBQ25CQyxFQUE0QixrQkFBQSxDQUN4QixVQUFXLFNBQ1gsVUFBVyxTQUNYLFVBQVcsVUFDWCxXQUFZLFVBQ1osUUFBUyxNQUNiLEVBQ0EsU0FBU2lqRSxFQUFjalAsRUFBS3VNLEVBQU0sQ0FDOUIsR0FBSUEsRUFBSyxTQUFXLFdBQ2hCLE9BQU8yQyxFQUFRbFAsRUFBS3VNLENBQUksRUFDNUIsTUFBTXZvRSxFQUFVZzhELEVBQUksbUJBQW1CLElBQU0sTUFBTSxLQUFLQSxFQUFJLFFBQVEsT0FBTSxDQUFFLEVBQUlBLEVBQUksUUFFcEYsR0FBSWg4RCxFQUFRLE1BQU80TCxHQUFNQSxFQUFFLEtBQUssWUFBWTVELEVBQVEsb0JBQy9DLENBQUM0RCxFQUFFLEtBQUssUUFBVSxDQUFDQSxFQUFFLEtBQUssT0FBTyxPQUFPLEVBQUcsQ0FFNUMsTUFBTXkxRCxFQUFRcmhFLEVBQVEsT0FBTyxDQUFDcWhFLEVBQU96MUQsSUFBTSxDQUN2QyxNQUFNL0YsRUFBT21DLEVBQVEsa0JBQWtCNEQsRUFBRSxLQUFLLFFBQVEsRUFDdEQsT0FBTy9GLEdBQVEsQ0FBQ3c3RCxFQUFNLFNBQVN4N0QsQ0FBSSxFQUFJLENBQUMsR0FBR3c3RCxFQUFPeDdELENBQUksRUFBSXc3RCxDQUM3RCxFQUFFLENBQUUsQ0FBQSxFQUNMLE1BQU8sQ0FDSCxLQUFNQSxFQUFNLE9BQVMsRUFBSUEsRUFBUUEsRUFBTSxDQUFDLENBQ3BELENBQ0ssU0FDUXJoRSxFQUFRLE1BQU80TCxHQUFNQSxFQUFFLEtBQUssV0FBYSxjQUFnQixDQUFDQSxFQUFFLFdBQVcsRUFBRyxDQUUvRSxNQUFNeTFELEVBQVFyaEUsRUFBUSxPQUFPLENBQUNzTixFQUFLMUIsSUFBTSxDQUNyQyxNQUFNL0YsRUFBTyxPQUFPK0YsRUFBRSxLQUFLLE1BQzNCLE9BQVEvRixFQUFJLENBQ1IsSUFBSyxTQUNMLElBQUssU0FDTCxJQUFLLFVBQ0QsTUFBTyxDQUFDLEdBQUd5SCxFQUFLekgsQ0FBSSxFQUN4QixJQUFLLFNBQ0QsTUFBTyxDQUFDLEdBQUd5SCxFQUFLLFNBQVMsRUFDN0IsSUFBSyxTQUNELEdBQUkxQixFQUFFLEtBQUssUUFBVSxLQUNqQixNQUFPLENBQUMsR0FBRzBCLEVBQUssTUFBTSxFQUM5QixJQUFLLFNBQ0wsSUFBSyxZQUNMLElBQUssV0FDTCxRQUNJLE9BQU9BLENBQ2QsQ0FDSixFQUFFLENBQUUsQ0FBQSxFQUNMLEdBQUkrekQsRUFBTSxTQUFXcmhFLEVBQVEsT0FBUSxDQUVqQyxNQUFNbXJFLEVBQWM5SixFQUFNLE9BQU8sQ0FBQ3oxRCxFQUFHeE4sRUFBR3RCLElBQU1BLEVBQUUsUUFBUThPLENBQUMsSUFBTXhOLENBQUMsRUFDaEUsTUFBTyxDQUNILEtBQU0rc0UsRUFBWSxPQUFTLEVBQUlBLEVBQWNBLEVBQVksQ0FBQyxFQUMxRCxLQUFNbnJFLEVBQVEsT0FBTyxDQUFDc04sRUFBSzFCLElBQ2hCMEIsRUFBSSxTQUFTMUIsRUFBRSxLQUFLLEtBQUssRUFBSTBCLEVBQU0sQ0FBQyxHQUFHQSxFQUFLMUIsRUFBRSxLQUFLLEtBQUssRUFDaEUsRUFBRSxDQUNyQixDQUNTLENBQ0osU0FDUTVMLEVBQVEsTUFBTzRMLEdBQU1BLEVBQUUsS0FBSyxXQUFhLFNBQVMsRUFDdkQsTUFBTyxDQUNILEtBQU0sU0FDTixLQUFNNUwsRUFBUSxPQUFPLENBQUNzTixFQUFLMUIsSUFBTSxDQUM3QixHQUFHMEIsRUFDSCxHQUFHMUIsRUFBRSxLQUFLLE9BQU8sT0FBUUEsR0FBTSxDQUFDMEIsRUFBSSxTQUFTMUIsQ0FBQyxDQUFDLENBQ2xELEVBQUUsRUFBRSxDQUNqQixFQUVJLE9BQU9zL0QsRUFBUWxQLEVBQUt1TSxDQUFJLENBQzNCLENBQ0R2Z0UsRUFBQSxjQUF3QmlqRSxFQUN4QixNQUFNQyxFQUFVLENBQUNsUCxFQUFLdU0sSUFBUyxDQUMzQixNQUFNNkMsR0FBU3BQLEVBQUksbUJBQW1CLElBQ2hDLE1BQU0sS0FBS0EsRUFBSSxRQUFRLE9BQU0sQ0FBRSxFQUMvQkEsRUFBSSxTQUNMLElBQUksQ0FBQ3B3RCxFQUFHeE4sT0FBVXVxRSxFQUFXLFVBQVUvOEQsRUFBRSxLQUFNLE9BQU8sT0FBTyxPQUFPLE9BQU8sR0FBSTI4RCxDQUFJLEVBQUcsQ0FBRSxZQUFhLENBQUMsR0FBR0EsRUFBSyxZQUFhLFFBQVMsR0FBR25xRSxDQUFDLEVBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxFQUMvSSxPQUFRd04sR0FBTSxDQUFDLENBQUNBLElBQ2hCLENBQUMyOEQsRUFBSyxjQUNGLE9BQU8zOEQsR0FBTSxVQUFZLE9BQU8sS0FBS0EsQ0FBQyxFQUFFLE9BQVMsRUFBRyxFQUM3RCxPQUFPdy9ELEVBQU0sT0FBUyxDQUFFLE1BQUFBLENBQUssRUFBSywyREM5RXRDLE9BQU8sZUFBZUMsR0FBUyxhQUFjLENBQUUsTUFBTyxFQUFJLENBQUUsRUFDcENBLEdBQUEsaUJBQUcsT0FDM0IsTUFBTTFDLEVBQWE1Z0UsS0FDYnVqRSxFQUFVejJELEtBQ2hCLFNBQVMwMkQsRUFBaUJ2UCxFQUFLdU0sRUFBTSxDQUNqQyxHQUFJLENBQUMsWUFBYSxZQUFhLFlBQWEsYUFBYyxTQUFTLEVBQUUsU0FBU3ZNLEVBQUksVUFBVSxLQUFLLFFBQVEsSUFDcEcsQ0FBQ0EsRUFBSSxVQUFVLEtBQUssUUFBVSxDQUFDQSxFQUFJLFVBQVUsS0FBSyxPQUFPLFFBQzFELE9BQUl1TSxFQUFLLFNBQVcsV0FDVCxDQUNILEtBQU0rQyxFQUFRLGtCQUFrQnRQLEVBQUksVUFBVSxLQUFLLFFBQVEsRUFDM0QsU0FBVSxFQUMxQixFQUVlLENBQ0gsS0FBTSxDQUNGc1AsRUFBUSxrQkFBa0J0UCxFQUFJLFVBQVUsS0FBSyxRQUFRLEVBQ3JELE1BQ0gsQ0FDYixFQUVJLEdBQUl1TSxFQUFLLFNBQVcsV0FBWSxDQUM1QixNQUFNM0QsS0FBVytELEVBQVcsVUFBVTNNLEVBQUksVUFBVSxLQUFNLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBRSxFQUFFdU0sQ0FBSSxFQUFHLENBQUUsWUFBYSxDQUFDLEdBQUdBLEVBQUssV0FBVyxDQUFHLENBQUEsQ0FBQyxFQUN4SSxPQUFPM0QsR0FBUSxPQUFPLE9BQU8sT0FBTyxPQUFPLEdBQUlBLENBQUksRUFBRyxDQUFFLFNBQVUsRUFBTSxDQUFBLENBQzNFLENBQ0QsTUFBTUEsS0FBVytELEVBQVcsVUFBVTNNLEVBQUksVUFBVSxLQUFNLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBRSxFQUFFdU0sQ0FBSSxFQUFHLENBQUUsWUFBYSxDQUFDLEdBQUdBLEVBQUssWUFBYSxRQUFTLEdBQUcsQ0FBRyxDQUFBLENBQUMsRUFDdEosT0FBTzNELEdBQVEsQ0FBRSxNQUFPLENBQUNBLEVBQU0sQ0FBRSxLQUFNLE1BQVEsQ0FBQSxFQUNsRCxDQUNELE9BQUF5RyxHQUFBLGlCQUEyQkUsZUMzQjNCLE9BQU8sZUFBZTdmLEdBQVMsYUFBYyxDQUFFLE1BQU8sRUFBSSxDQUFFLEVBQ3RDQSxHQUFBLGVBQUcsT0FDekIsTUFBTWdkLEdBQWtCM2dFLEdBQ3hCLFNBQVN5akUsR0FBZXhQLEVBQUt1TSxFQUFNLENBQy9CLE1BQU1yeUQsRUFBTSxDQUNSLEtBQU0sUUFDZCxFQUNJLEdBQUksQ0FBQzhsRCxFQUFJLE9BQ0wsT0FBTzlsRCxFQUNYLFVBQVdnbUQsS0FBU0YsRUFBSSxPQUNwQixPQUFRRSxFQUFNLEtBQUksQ0FDZCxJQUFLLE1BQ0RobUQsRUFBSSxLQUFPLGFBQ1B3eUQsR0FBZ0IsaUJBQWlCeHlELEVBQUssT0FBUWdtRCxFQUFNLFFBQVNxTSxDQUFJLEVBQ3JFLE1BQ0osSUFBSyxNQUNHQSxFQUFLLFNBQVcsY0FDWnJNLEVBQU0sYUFDRndNLEdBQWdCLDJCQUEyQnh5RCxFQUFLLFVBQVdnbUQsRUFBTSxNQUFPQSxFQUFNLFFBQVNxTSxDQUFJLEtBRzNGRyxHQUFnQiwyQkFBMkJ4eUQsRUFBSyxtQkFBb0JnbUQsRUFBTSxNQUFPQSxFQUFNLFFBQVNxTSxDQUFJLEdBSXZHck0sRUFBTSxZQUNQaG1ELEVBQUksaUJBQW1CLE9BRXZCd3lELEdBQWdCLDJCQUEyQnh5RCxFQUFLLFVBQVdnbUQsRUFBTSxNQUFPQSxFQUFNLFFBQVNxTSxDQUFJLEdBRW5HLE1BQ0osSUFBSyxNQUNHQSxFQUFLLFNBQVcsY0FDWnJNLEVBQU0sYUFDRndNLEdBQWdCLDJCQUEyQnh5RCxFQUFLLFVBQVdnbUQsRUFBTSxNQUFPQSxFQUFNLFFBQVNxTSxDQUFJLEtBRzNGRyxHQUFnQiwyQkFBMkJ4eUQsRUFBSyxtQkFBb0JnbUQsRUFBTSxNQUFPQSxFQUFNLFFBQVNxTSxDQUFJLEdBSXZHck0sRUFBTSxZQUNQaG1ELEVBQUksaUJBQW1CLE9BRXZCd3lELEdBQWdCLDJCQUEyQnh5RCxFQUFLLFVBQVdnbUQsRUFBTSxNQUFPQSxFQUFNLFFBQVNxTSxDQUFJLEdBRW5HLE1BQ0osSUFBSyxnQkFDR0csR0FBZ0IsMkJBQTJCeHlELEVBQUssYUFBY2dtRCxFQUFNLE1BQU9BLEVBQU0sUUFBU3FNLENBQUksRUFDbEcsS0FDUCxDQUVMLE9BQU9yeUQsQ0FDWCxDQUNBdzFDLEdBQUEsZUFBeUI4ZixtREN0RHpCLE9BQU8sZUFBZXRsQyxHQUFTLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUM1REEsR0FBQSxlQUF5QkEsR0FBQSxnQkFBMEIsT0FDbkQsTUFBTXlpQyxFQUFhNWdFLEtBQ25CLFNBQVMwakUsRUFBZ0J6UCxFQUFLdU0sRUFBTSxDQUNoQyxJQUFJMzZELEVBQUlpRSxFQUNSLE9BQU8sS0FBS21xRCxFQUFJLE1BQUssQ0FBRSxFQUFFLE9BQU8sQ0FBQ3YwQixFQUFRL21DLElBQVEsQ0FDN0MsSUFBSStzQixFQUFPdXVDLEVBQUksTUFBTyxFQUFDdDdELENBQUcsRUFDMUIsTUFBTWdyRSxFQUFhaitDLEVBQUssYUFDbkJpK0MsSUFDRGorQyxFQUFPLE9BQU8sT0FBTyxDQUFBLEVBQUlBLEVBQUssS0FBSyxXQUFXLEdBRWxELE1BQU1rK0MsS0FBaUJoRCxFQUFXLFVBQVVsN0MsRUFBSyxLQUFNLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBQSxFQUFJODZDLENBQUksRUFBRyxDQUFFLFlBQWEsQ0FBQyxHQUFHQSxFQUFLLFlBQWEsYUFBYzduRSxDQUFHLEVBQUcsYUFBYyxDQUFDLEdBQUc2bkUsRUFBSyxZQUFhLGFBQWM3bkUsQ0FBRyxDQUFDLENBQUUsQ0FBQyxFQUNoTixPQUFJaXJFLElBQWUsU0FDZmxrQyxFQUFPLFdBQVcvbUMsQ0FBRyxFQUFJaXJFLEVBQ3BCRCxJQUNJamtDLEVBQU8sV0FDUkEsRUFBTyxTQUFXLElBRXRCQSxFQUFPLFNBQVMsS0FBSy9tQyxDQUFHLElBR3pCK21DLENBQ2YsRUFBTyxDQUNDLEtBQU0sU0FDTixXQUFZLENBQUUsRUFDZCxxQkFBc0J1MEIsRUFBSSxTQUFTLEtBQUssV0FBYSxXQUMvQ0EsRUFBSSxjQUFnQixlQUNuQnB1RCxLQUFTKzZELEVBQVcsVUFBVTNNLEVBQUksU0FBUyxLQUFNLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBQSxFQUFJdU0sQ0FBSSxFQUFHLENBQUUsWUFBYSxDQUFDLEdBQUdBLEVBQUssWUFBYSxzQkFBc0IsQ0FBQyxDQUFFLENBQUMsS0FBTyxNQUFRMzZELElBQU8sT0FBU0EsRUFBSyxFQUMxTSxDQUFLLEVBQ0QsTUFBTTdPLEVBQVMsT0FBTyxPQUFPLE9BQU8sT0FBTyxDQUFFLEtBQU0sVUFBWSxPQUFPLFFBQVFpOUQsRUFBSSxNQUFLLENBQUUsRUFBRSxPQUFPLENBQUMxdUQsRUFBSyxDQUFDcytELEVBQVVDLENBQU8sSUFBTSxDQUM1SCxHQUFJQSxJQUFZLFFBQWFBLEVBQVEsT0FBUyxPQUMxQyxPQUFPditELEVBQ1gsTUFBTXcrRCxLQUFnQm5ELEVBQVcsVUFBVWtELEVBQVEsS0FBTSxPQUFPLE9BQU8sT0FBTyxPQUFPLENBQUEsRUFBSXRELENBQUksRUFBRyxDQUFFLFlBQWEsQ0FBQyxHQUFHQSxFQUFLLFlBQWEsYUFBY3FELENBQVEsRUFBRyxhQUFjLENBQUMsR0FBR3JELEVBQUssWUFBYSxhQUFjcUQsQ0FBUSxDQUFDLENBQUUsQ0FBQyxFQUM1TixPQUFJRSxJQUFjLE9BQ1B4K0QsRUFDSixDQUNILFdBQVksT0FBTyxPQUFPLE9BQU8sT0FBTyxDQUFBLEVBQUlBLEVBQUksVUFBVSxFQUFHLENBQUUsQ0FBQ3MrRCxDQUFRLEVBQUdFLENBQVMsQ0FBRSxFQUN0RixTQUFVRCxFQUFRLFdBQVksRUFDeEJ2K0QsRUFBSSxTQUNKLENBQUMsR0FBR0EsRUFBSSxTQUFVcytELENBQVEsQ0FDNUMsQ0FDSyxFQUFFLENBQUUsV0FBWSxDQUFBLEVBQUksU0FBVSxDQUFFLENBQUEsQ0FBRSxDQUFDLEVBQUcsQ0FBRSxxQkFBc0I1UCxFQUFJLFNBQVMsS0FBSyxXQUFhLFdBQ3BGQSxFQUFJLGNBQWdCLGVBQ25CbnFELEtBQVM4MkQsRUFBVyxVQUFVM00sRUFBSSxTQUFTLEtBQU0sT0FBTyxPQUFPLE9BQU8sT0FBTyxDQUFBLEVBQUl1TSxDQUFJLEVBQUcsQ0FBRSxZQUFhLENBQUMsR0FBR0EsRUFBSyxZQUFhLHNCQUFzQixDQUFDLENBQUUsQ0FBQyxLQUFPLE1BQVExMkQsSUFBTyxPQUFTQSxFQUFLLEVBQU0sQ0FBQSxFQUM1TSxPQUFLOVMsRUFBTyxTQUFTLFFBQ2pCLE9BQU9BLEVBQU8sU0FDWEEsQ0FDVixDQUNzQm1uQyxHQUFBLGdCQUFHdWxDLEVBQzFCLFNBQVNNLEVBQWUvUCxFQUFLdU0sRUFBTSxDQUMvQixJQUFJMzZELEVBQ0osTUFBTTdPLEVBQVMsT0FBTyxPQUFPLE9BQU8sT0FBTyxDQUFFLEtBQU0sVUFBWSxPQUFPLFFBQVFpOUQsRUFBSSxNQUFLLENBQUUsRUFBRSxPQUFPLENBQUMxdUQsRUFBSyxDQUFDcytELEVBQVVDLENBQU8sSUFBTSxDQUM1SCxHQUFJQSxJQUFZLFFBQWFBLEVBQVEsT0FBUyxPQUMxQyxPQUFPditELEVBQ1gsTUFBTXcrRCxLQUFnQm5ELEVBQVcsVUFBVWtELEVBQVEsS0FBTSxPQUFPLE9BQU8sT0FBTyxPQUFPLENBQUEsRUFBSXRELENBQUksRUFBRyxDQUFFLFlBQWEsQ0FBQyxHQUFHQSxFQUFLLFlBQWEsYUFBY3FELENBQVEsRUFBRyxhQUFjLENBQUMsR0FBR3JELEVBQUssWUFBYSxhQUFjcUQsQ0FBUSxDQUFDLENBQUUsQ0FBQyxFQUM1TixPQUFJRSxJQUFjLE9BQ1B4K0QsRUFDSixDQUNILFdBQVksT0FBTyxPQUFPLE9BQU8sT0FBTyxDQUFBLEVBQUlBLEVBQUksVUFBVSxFQUFHLENBQUUsQ0FBQ3MrRCxDQUFRLEVBQUdFLENBQVMsQ0FBRSxFQUN0RixTQUFVRCxFQUFRLFdBQVksRUFDeEJ2K0QsRUFBSSxTQUNKLENBQUMsR0FBR0EsRUFBSSxTQUFVcytELENBQVEsQ0FDNUMsQ0FDSyxFQUFFLENBQUUsV0FBWSxDQUFBLEVBQUksU0FBVSxDQUFFLENBQUEsQ0FBRSxDQUFDLEVBQUcsQ0FBRSxxQkFBc0I1UCxFQUFJLFNBQVMsS0FBSyxXQUFhLFdBQ3BGQSxFQUFJLGNBQWdCLGVBQ25CcHVELEtBQVMrNkQsRUFBVyxVQUFVM00sRUFBSSxTQUFTLEtBQU0sT0FBTyxPQUFPLE9BQU8sT0FBTyxDQUFBLEVBQUl1TSxDQUFJLEVBQUcsQ0FBRSxZQUFhLENBQUMsR0FBR0EsRUFBSyxZQUFhLHNCQUFzQixDQUFDLENBQUUsQ0FBQyxLQUFPLE1BQVEzNkQsSUFBTyxPQUFTQSxFQUFLLEVBQU0sQ0FBQSxFQUM1TSxPQUFLN08sRUFBTyxTQUFTLFFBQ2pCLE9BQU9BLEVBQU8sU0FDWEEsQ0FDVixDQUNELE9BQUFtbkMsR0FBQSxlQUF5QjZsQyxxREN0RXpCLE9BQU8sZUFBZUMsR0FBUyxhQUFjLENBQUUsTUFBTyxFQUFJLENBQUUsRUFDcENBLEdBQUEsaUJBQUcsT0FDM0IsTUFBTXJELEVBQWE1Z0UsS0FDYmtrRSxFQUFtQixDQUFDalEsRUFBS3VNLElBQVMsQ0FDcEMsSUFBSTM2RCxFQUNKLEdBQUkyNkQsRUFBSyxZQUFZLFNBQVUsTUFBTzM2RCxFQUFLMjZELEVBQUssZ0JBQWtCLE1BQVEzNkQsSUFBTyxPQUFTLE9BQVNBLEVBQUcsU0FBUSxHQUMxRyxTQUFXKzZELEVBQVcsVUFBVTNNLEVBQUksVUFBVSxLQUFNdU0sQ0FBSSxFQUU1RCxNQUFNMkQsS0FBa0J2RCxFQUFXLFVBQVUzTSxFQUFJLFVBQVUsS0FBTSxPQUFPLE9BQU8sT0FBTyxPQUFPLENBQUUsRUFBRXVNLENBQUksRUFBRyxDQUFFLFlBQWEsQ0FBQyxHQUFHQSxFQUFLLFlBQWEsUUFBUyxHQUFHLENBQUcsQ0FBQSxDQUFDLEVBQzdKLE9BQU8yRCxFQUNELENBQ0UsTUFBTyxDQUNILENBQ0ksSUFBSyxDQUFFLENBQ1YsRUFDREEsQ0FDSCxDQUNKLEVBQ0MsRUFDVixFQUNBLE9BQUFGLEdBQUEsaUJBQTJCQyxxRENwQjNCLE9BQU8sZUFBZUUsR0FBUyxhQUFjLENBQUUsTUFBTyxFQUFJLENBQUUsRUFDcENBLEdBQUEsaUJBQUcsT0FDM0IsTUFBTXhELEVBQWE1Z0UsS0FDYnFrRSxFQUFtQixDQUFDcFEsRUFBS3VNLElBQVMsQ0FDcEMsR0FBSUEsRUFBSyxlQUFpQixRQUN0QixTQUFXSSxFQUFXLFVBQVUzTSxFQUFJLEdBQUcsS0FBTXVNLENBQUksRUFFckQsTUFBTXpyRSxLQUFRNnJFLEVBQVcsVUFBVTNNLEVBQUksR0FBRyxLQUFNLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBRSxFQUFFdU0sQ0FBSSxFQUFHLENBQUUsWUFBYSxDQUFDLEdBQUdBLEVBQUssWUFBYSxRQUFTLEdBQUcsQ0FBRyxDQUFBLENBQUMsRUFDdEl4ckUsS0FBUTRyRSxFQUFXLFVBQVUzTSxFQUFJLElBQUksS0FBTSxPQUFPLE9BQU8sT0FBTyxPQUFPLENBQUEsRUFBSXVNLENBQUksRUFBRyxDQUFFLFlBQWEsQ0FBQyxHQUFHQSxFQUFLLFlBQWEsUUFBU3pyRSxFQUFJLElBQU0sR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUN2SixNQUFPLENBQ0gsTUFBTyxDQUFDQSxFQUFHQyxDQUFDLEVBQUUsT0FBUTZPLEdBQU1BLElBQU0sTUFBUyxDQUNuRCxDQUNBLEVBQ0EsT0FBQXVnRSxHQUFBLGlCQUEyQkMscURDYjNCLE9BQU8sZUFBZTc0RCxHQUFTLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUNyQ0EsR0FBQSxnQkFBRyxPQUMxQixNQUFNbzFELEVBQWE1Z0UsS0FDbkIsU0FBU3NrRSxFQUFnQnJRLEVBQUt1TSxFQUFNLENBQ2hDLFNBQVdJLEVBQVcsVUFBVTNNLEVBQUksS0FBSyxLQUFNdU0sQ0FBSSxDQUN0RCxDQUNELE9BQUFoMUQsR0FBQSxnQkFBMEI4NEQsa0NDTjFCLE9BQU8sZUFBY3JrRSxFQUFVLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUM1REEsRUFBQSxlQUF5QkEsZUFBdUJBLEVBQXNCLFlBQUFBLEVBQUEsYUFBdUJBLGNBQXNCQSxFQUF1QixhQUFBLE9BQzFJLE1BQU0wZ0UsRUFBa0IzZ0UsR0FDeEJDLEVBQUEsYUFBdUIsMm9CQUN2QkEsRUFBQSxZQUFzQixpQkFDdEJBLEVBQUEsYUFBdUIsbUJBQ3ZCQSxFQUFBLFlBQXNCLDJCQUN0QkEsRUFBQSxhQUF1QixzREFDdkIsU0FBU3NrRSxFQUFldFEsRUFBS3VNLEVBQU0sQ0FDL0IsTUFBTXJ5RCxFQUFNLENBQ1IsS0FBTSxRQUNkLEVBQ0ksR0FBSThsRCxFQUFJLE9BQ0osVUFBV0UsS0FBU0YsRUFBSSxPQUNwQixPQUFRRSxFQUFNLEtBQUksQ0FDZCxJQUFLLFNBQ0d3TSxFQUFnQiwyQkFBMkJ4eUQsRUFBSyxZQUFhLE9BQU9BLEVBQUksV0FBYyxTQUNwRixLQUFLLElBQUlBLEVBQUksVUFBV2dtRCxFQUFNLEtBQUssRUFDbkNBLEVBQU0sTUFBT0EsRUFBTSxRQUFTcU0sQ0FBSSxFQUN0QyxNQUNKLElBQUssU0FDR0csRUFBZ0IsMkJBQTJCeHlELEVBQUssWUFBYSxPQUFPQSxFQUFJLFdBQWMsU0FDcEYsS0FBSyxJQUFJQSxFQUFJLFVBQVdnbUQsRUFBTSxLQUFLLEVBQ25DQSxFQUFNLE1BQU9BLEVBQU0sUUFBU3FNLENBQUksRUFDdEMsTUFDSixJQUFLLFFBQ0QsT0FBUUEsRUFBSyxjQUFhLENBQ3RCLElBQUssZUFDRGdFLEVBQVVyMkQsRUFBSyxRQUFTZ21ELEVBQU0sUUFBU3FNLENBQUksRUFDM0MsTUFDSixJQUFLLG1CQUNEZ0UsRUFBVXIyRCxFQUFLLFlBQWFnbUQsRUFBTSxRQUFTcU0sQ0FBSSxFQUMvQyxNQUNKLElBQUssY0FDRGlFLEVBQVd0MkQsRUFBS2xPLEVBQVEsYUFBY2swRCxFQUFNLFFBQVNxTSxDQUFJLEVBQ3pELEtBQ1AsQ0FDRCxNQUNKLElBQUssTUFDRGdFLEVBQVVyMkQsRUFBSyxNQUFPZ21ELEVBQU0sUUFBU3FNLENBQUksRUFDekMsTUFDSixJQUFLLE9BQ0RnRSxFQUFVcjJELEVBQUssT0FBUWdtRCxFQUFNLFFBQVNxTSxDQUFJLEVBQzFDLE1BQ0osSUFBSyxRQUNEaUUsRUFBV3QyRCxFQUFLZ21ELEVBQU0sTUFBTSxPQUFRQSxFQUFNLFFBQVNxTSxDQUFJLEVBQ3ZELE1BQ0osSUFBSyxPQUNEaUUsRUFBV3QyRCxFQUFLbE8sRUFBUSxZQUFhazBELEVBQU0sUUFBU3FNLENBQUksRUFDeEQsTUFDSixJQUFLLFFBQ0RpRSxFQUFXdDJELEVBQUtsTyxFQUFRLGFBQWNrMEQsRUFBTSxRQUFTcU0sQ0FBSSxFQUN6RCxNQUNKLElBQUssYUFDRGlFLEVBQVd0MkQsRUFBSyxJQUFNdTJELEVBQXNCdlEsRUFBTSxLQUFLLEVBQUdBLEVBQU0sUUFBU3FNLENBQUksRUFDN0UsTUFDSixJQUFLLFdBQ0RpRSxFQUFXdDJELEVBQUt1MkQsRUFBc0J2USxFQUFNLEtBQUssRUFBSSxJQUFLQSxFQUFNLFFBQVNxTSxDQUFJLEVBQzdFLE1BQ0osSUFBSyxXQUNEZ0UsRUFBVXIyRCxFQUFLLFlBQWFnbUQsRUFBTSxRQUFTcU0sQ0FBSSxFQUMvQyxNQUNKLElBQUssWUFDR0csRUFBZ0IsMkJBQTJCeHlELEVBQUssWUFBYSxPQUFPQSxFQUFJLFdBQWMsU0FDcEYsS0FBSyxJQUFJQSxFQUFJLFVBQVdnbUQsRUFBTSxLQUFLLEVBQ25DQSxFQUFNLE1BQU9BLEVBQU0sUUFBU3FNLENBQUksS0FDbENHLEVBQWdCLDJCQUEyQnh5RCxFQUFLLFlBQWEsT0FBT0EsRUFBSSxXQUFjLFNBQ3BGLEtBQUssSUFBSUEsRUFBSSxVQUFXZ21ELEVBQU0sS0FBSyxFQUNuQ0EsRUFBTSxNQUFPQSxFQUFNLFFBQVNxTSxDQUFJLEVBQ3RDLE1BQ0osSUFBSyxXQUFZLENBQ2JpRSxFQUFXdDJELEVBQUt1MkQsRUFBc0J2USxFQUFNLEtBQUssRUFBR0EsRUFBTSxRQUFTcU0sQ0FBSSxFQUN2RSxLQUNILENBQ0QsSUFBSyxLQUFNLENBQ0hyTSxFQUFNLFVBQVksTUFDbEJxUSxFQUFVcjJELEVBQUssT0FBUWdtRCxFQUFNLFFBQVNxTSxDQUFJLEVBRTFDck0sRUFBTSxVQUFZLE1BQ2xCcVEsRUFBVXIyRCxFQUFLLE9BQVFnbUQsRUFBTSxRQUFTcU0sQ0FBSSxFQUU5QyxLQUNILENBQ0QsSUFBSyxRQUNEaUUsRUFBV3QyRCxFQUFLbE8sRUFBUSxhQUFjazBELEVBQU0sUUFBU3FNLENBQUksRUFDekQsTUFDSixJQUFLLE9BQVEsQ0FDVGlFLEVBQVd0MkQsRUFBS2xPLEVBQVEsWUFBYWswRCxFQUFNLFFBQVNxTSxDQUFJLEVBQ3hELEtBQ0gsQ0FRSixDQUdULE9BQU9yeUQsQ0FDVixDQUNEbE8sRUFBQSxlQUF5QnNrRSxFQUN6QixNQUFNRyxFQUF5QnJzRSxHQUFVLE1BQU0sS0FBS0EsQ0FBSyxFQUNwRCxJQUFLMkIsR0FBTyxjQUFjLEtBQUtBLENBQUMsRUFBSUEsRUFBSSxLQUFLQSxDQUFDLEVBQUcsRUFDakQsS0FBSyxFQUFFLEVBQ053cUUsRUFBWSxDQUFDOWtDLEVBQVFybkMsRUFBT3lILEVBQVMwZ0UsSUFBUyxDQUNoRCxJQUFJMzZELEVBQ0E2NUIsRUFBTyxRQUFZLEdBQUE3NUIsRUFBSzY1QixFQUFPLFNBQVcsTUFBUTc1QixJQUFPLFNBQWtCQSxFQUFHLEtBQU1oQyxHQUFNQSxFQUFFLE1BQU0sR0FDN0Y2N0IsRUFBTyxRQUNSQSxFQUFPLE1BQVEsSUFFZkEsRUFBTyxTQUNQQSxFQUFPLE1BQU0sS0FBSyxPQUFPLE9BQU8sQ0FBRSxPQUFRQSxFQUFPLFFBQVdBLEVBQU8sY0FDL0Q4Z0MsRUFBSyxlQUFpQixDQUN0QixhQUFjLENBQUUsT0FBUTlnQyxFQUFPLGFBQWEsTUFBUSxDQUN2RCxDQUFBLENBQUUsRUFDSCxPQUFPQSxFQUFPLE9BQ1ZBLEVBQU8sZUFDUCxPQUFPQSxFQUFPLGFBQWEsT0FDdkIsT0FBTyxLQUFLQSxFQUFPLFlBQVksRUFBRSxTQUFXLEdBQzVDLE9BQU9BLEVBQU8sZUFJMUJBLEVBQU8sTUFBTSxLQUFLLE9BQU8sT0FBTyxDQUFFLE9BQVFybkMsQ0FBSyxFQUFLeUgsR0FDaEQwZ0UsRUFBSyxlQUFpQixDQUFFLGFBQWMsQ0FBRSxPQUFRMWdFLENBQU8sQ0FBSSxDQUFBLENBQUUsTUFHN0Q2Z0UsRUFBZ0IsMkJBQTJCamhDLEVBQVEsU0FBVXJuQyxFQUFPeUgsRUFBUzBnRSxDQUFJLENBRTdGLEVBQ01pRSxFQUFhLENBQUMva0MsRUFBUXJuQyxFQUFPeUgsRUFBUzBnRSxJQUFTLENBQ2pELElBQUkzNkQsRUFDQTY1QixFQUFPLFNBQWEsR0FBQTc1QixFQUFLNjVCLEVBQU8sU0FBVyxNQUFRNzVCLElBQU8sU0FBa0JBLEVBQUcsS0FBTWhDLEdBQU1BLEVBQUUsT0FBTyxHQUMvRjY3QixFQUFPLFFBQ1JBLEVBQU8sTUFBUSxJQUVmQSxFQUFPLFVBQ1BBLEVBQU8sTUFBTSxLQUFLLE9BQU8sT0FBTyxDQUFFLFFBQVNBLEVBQU8sU0FBWUEsRUFBTyxjQUNqRThnQyxFQUFLLGVBQWlCLENBQ3RCLGFBQWMsQ0FBRSxRQUFTOWdDLEVBQU8sYUFBYSxPQUFTLENBQ3pELENBQUEsQ0FBRSxFQUNILE9BQU9BLEVBQU8sUUFDVkEsRUFBTyxlQUNQLE9BQU9BLEVBQU8sYUFBYSxRQUN2QixPQUFPLEtBQUtBLEVBQU8sWUFBWSxFQUFFLFNBQVcsR0FDNUMsT0FBT0EsRUFBTyxlQUkxQkEsRUFBTyxNQUFNLEtBQUssT0FBTyxPQUFPLENBQUUsUUFBU3JuQyxDQUFLLEVBQUt5SCxHQUNqRDBnRSxFQUFLLGVBQWlCLENBQUUsYUFBYyxDQUFFLFFBQVMxZ0UsQ0FBTyxDQUFJLENBQUEsQ0FBRSxNQUc5RDZnRSxFQUFnQiwyQkFBMkJqaEMsRUFBUSxVQUFXcm5DLEVBQU95SCxFQUFTMGdFLENBQUksbURDM0o5RixPQUFPLGVBQWVwakIsR0FBUyxhQUFjLENBQUUsTUFBTyxFQUFJLENBQUUsRUFDdENBLEdBQUEsZUFBRyxPQUN6QixNQUFNc2pCLEVBQVExZ0UsR0FDUjRnRSxFQUFhOXpELEtBQ2I2M0QsRUFBVzMzRCxHQUNqQixTQUFTNDNELEVBQWUzUSxFQUFLdU0sRUFBTSxDQUMvQixJQUFJMzZELEVBQUlpRSxFQUFJb0QsRUFBSUMsRUFBSXVhLEVBQ3BCLEdBQUk4NEMsRUFBSyxTQUFXLGNBQ2QzNkQsRUFBS291RCxFQUFJLFdBQWEsTUFBUXB1RCxJQUFPLE9BQVMsT0FBU0EsRUFBRyxLQUFLLFlBQWM2NkQsRUFBTSxzQkFBc0IsUUFDM0csTUFBTyxDQUNILEtBQU0sU0FDTixTQUFVek0sRUFBSSxRQUFRLEtBQUssT0FDM0IsV0FBWUEsRUFBSSxRQUFRLEtBQUssT0FBTyxPQUFPLENBQUMxdUQsRUFBSzVNLElBQVEsQ0FDckQsSUFBSWtOLEVBQ0osT0FBUSxPQUFPLE9BQU8sT0FBTyxPQUFPLEdBQUlOLENBQUcsRUFBRyxDQUFFLENBQUM1TSxDQUFHLEdBQUlrTixLQUFTKzZELEVBQVcsVUFBVTNNLEVBQUksVUFBVSxLQUFNLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBQSxFQUFJdU0sQ0FBSSxFQUFHLENBQUUsWUFBYSxDQUFDLEdBQUdBLEVBQUssWUFBYSxhQUFjN25FLENBQUcsRUFBRyxDQUFDLEtBQU8sTUFBUWtOLElBQU8sT0FBU0EsRUFBSyxDQUFFLENBQUEsQ0FBRSxDQUN0UCxFQUFFLEVBQUUsRUFDTCxxQkFBc0IsRUFDbEMsRUFFSSxNQUFNNjVCLEVBQVMsQ0FDWCxLQUFNLFNBQ04sc0JBQXVCNTFCLEtBQVM4MkQsRUFBVyxVQUFVM00sRUFBSSxVQUFVLEtBQU0sT0FBTyxPQUFPLE9BQU8sT0FBTyxDQUFFLEVBQUV1TSxDQUFJLEVBQUcsQ0FBRSxZQUFhLENBQUMsR0FBR0EsRUFBSyxZQUFhLHNCQUFzQixFQUFHLENBQUMsS0FBTyxNQUFRMTJELElBQU8sT0FBU0EsRUFBSyxDQUFFLENBQzdOLEVBQ0ksR0FBSTAyRCxFQUFLLFNBQVcsV0FDaEIsT0FBTzlnQyxFQUVYLEtBQU14eUIsRUFBSyttRCxFQUFJLFdBQWEsTUFBUS9tRCxJQUFPLE9BQVMsT0FBU0EsRUFBRyxLQUFLLFlBQWN3ekQsRUFBTSxzQkFBc0IsWUFDekcsR0FBQXZ6RCxFQUFLOG1ELEVBQUksUUFBUSxLQUFLLFVBQVksTUFBUTltRCxJQUFPLFNBQWtCQSxFQUFHLFFBQVMsQ0FDakYsTUFBTXF4QyxFQUFVLE9BQU8sV0FBWW1tQixFQUFTLGdCQUFnQjFRLEVBQUksUUFBUSxLQUFNdU0sQ0FBSSxDQUFDLEVBQUUsT0FBTyxDQUFDajdELEVBQUssQ0FBQzVNLEVBQUtOLENBQUssSUFBT00sSUFBUSxPQUFTNE0sRUFBTSxPQUFPLE9BQU8sT0FBTyxPQUFPLENBQUEsRUFBSUEsQ0FBRyxFQUFHLENBQUUsQ0FBQzVNLENBQUcsRUFBR04sQ0FBSyxDQUFFLEVBQUksQ0FBQSxDQUFFLEVBQ3ZNLE9BQU8sT0FBTyxPQUFPLE9BQU8sT0FBTyxDQUFBLEVBQUlxbkMsQ0FBTSxFQUFHLENBQUUsY0FBZThlLENBQU8sQ0FBRSxDQUM3RSxXQUNVOTJCLEVBQUt1c0MsRUFBSSxXQUFhLE1BQVF2c0MsSUFBTyxPQUFTLE9BQVNBLEVBQUcsS0FBSyxZQUFjZzVDLEVBQU0sc0JBQXNCLFFBQ2hILE9BQU8sT0FBTyxPQUFPLE9BQU8sT0FBTyxDQUFBLEVBQUloaEMsQ0FBTSxFQUFHLENBQUUsY0FBZSxDQUN6RCxLQUFNdTBCLEVBQUksUUFBUSxLQUFLLE1BQzFCLENBQUEsQ0FBRSxFQUVYLE9BQU92MEIsQ0FDVixDQUNELE9BQUEwZCxHQUFBLGVBQXlCd25CLHFEQ3RDekIsT0FBTyxlQUFlL2xFLEdBQVMsYUFBYyxDQUFFLE1BQU8sRUFBSSxDQUFFLEVBQ3pDQSxHQUFBLFlBQUcsT0FDdEIsTUFBTThoRSxFQUFrQjNnRSxHQUNsQjRnRSxFQUFhOXpELEtBQ25CLFNBQVMrM0QsRUFBWTVRLEVBQUt1TSxFQUFNLENBRTVCLE1BQU05Z0MsRUFBUyxDQUNYLEtBQU0sUUFDTixZQUFhLEdBQ2IsU0FKY2toQyxFQUFXLFVBQVUzTSxFQUFJLFVBQVUsS0FBTSxPQUFPLE9BQU8sT0FBTyxPQUFPLEdBQUl1TSxDQUFJLEVBQUcsQ0FBRSxZQUFhLENBQUMsR0FBR0EsRUFBSyxZQUFhLE9BQU8sQ0FBRyxDQUFBLENBQUMsQ0FLdEosRUFDSSxPQUFJdk0sRUFBSSxZQUNBME0sRUFBZ0IsMkJBQTJCamhDLEVBQVEsV0FBWXUwQixFQUFJLFFBQVEsTUFBT0EsRUFBSSxRQUFRLFFBQVN1TSxDQUFJLEVBRS9Hdk0sRUFBSSxZQUNBME0sRUFBZ0IsMkJBQTJCamhDLEVBQVEsV0FBWXUwQixFQUFJLFFBQVEsTUFBT0EsRUFBSSxRQUFRLFFBQVN1TSxDQUFJLEVBRTVHOWdDLENBQ1YsQ0FDRCxPQUFBN2dDLEdBQUEsWUFBc0JnbUUscURDbkJ0QixPQUFPLGVBQWVDLEdBQVMsYUFBYyxDQUFFLE1BQU8sRUFBSSxDQUFFLEVBQ3ZDQSxHQUFBLGNBQUcsT0FDeEIsTUFBTWxFLEVBQWE1Z0UsS0FDbkIsU0FBUytrRSxFQUFjOVEsRUFBS3VNLEVBQU0sQ0FDOUIsT0FBSXZNLEVBQUksS0FDRyxDQUNILEtBQU0sUUFDTixTQUFVQSxFQUFJLE1BQU0sT0FDcEIsTUFBT0EsRUFBSSxNQUNOLElBQUksQ0FBQ3B3RCxFQUFHeE4sT0FBVXVxRSxFQUFXLFVBQVUvOEQsRUFBRSxLQUFNLE9BQU8sT0FBTyxPQUFPLE9BQU8sR0FBSTI4RCxDQUFJLEVBQUcsQ0FBRSxZQUFhLENBQUMsR0FBR0EsRUFBSyxZQUFhLFFBQVMsR0FBR25xRSxDQUFDLEVBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxFQUMvSSxPQUFPLENBQUNrUCxFQUFLMUIsSUFBT0EsSUFBTSxPQUFZMEIsRUFBTSxDQUFDLEdBQUdBLEVBQUsxQixDQUFDLEVBQUksQ0FBQSxDQUFFLEVBQ2pFLG1CQUFxQis4RCxFQUFXLFVBQVUzTSxFQUFJLEtBQUssS0FBTSxPQUFPLE9BQU8sT0FBTyxPQUFPLEdBQUl1TSxDQUFJLEVBQUcsQ0FBRSxZQUFhLENBQUMsR0FBR0EsRUFBSyxZQUFhLGlCQUFpQixDQUFDLENBQUUsQ0FBQyxDQUN0SyxFQUdlLENBQ0gsS0FBTSxRQUNOLFNBQVV2TSxFQUFJLE1BQU0sT0FDcEIsU0FBVUEsRUFBSSxNQUFNLE9BQ3BCLE1BQU9BLEVBQUksTUFDTixJQUFJLENBQUNwd0QsRUFBR3hOLE9BQVV1cUUsRUFBVyxVQUFVLzhELEVBQUUsS0FBTSxPQUFPLE9BQU8sT0FBTyxPQUFPLEdBQUkyOEQsQ0FBSSxFQUFHLENBQUUsWUFBYSxDQUFDLEdBQUdBLEVBQUssWUFBYSxRQUFTLEdBQUducUUsQ0FBQyxFQUFFLENBQUMsQ0FBRSxDQUFDLENBQUMsRUFDL0ksT0FBTyxDQUFDa1AsRUFBSzFCLElBQU9BLElBQU0sT0FBWTBCLEVBQU0sQ0FBQyxHQUFHQSxFQUFLMUIsQ0FBQyxFQUFJLENBQUEsQ0FBRSxDQUM3RSxDQUVDLENBQ0QsT0FBQWloRSxHQUFBLGNBQXdCQyxlQ3pCeEIsT0FBTyxlQUFlQyxHQUFTLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUNuQ0EsR0FBQSxrQkFBRyxPQUM1QixTQUFTQyxJQUFvQixDQUN6QixNQUFPLENBQ0gsSUFBSyxDQUFFLENBQ2YsQ0FDQSxDQUNBRCxHQUFBLGtCQUE0QkMsYUNQNUIsT0FBTyxlQUFlQyxHQUFTLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUNyQ0EsR0FBQSxnQkFBRyxPQUMxQixTQUFTQyxJQUFrQixDQUN2QixNQUFPLEVBQ1gsQ0FDQUQsR0FBQSxnQkFBMEJDLDZDQ0wxQixPQUFPLGVBQWV2RSxHQUFTLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUM1Q0EsR0FBQSxTQUFHLE9BQ25CLE1BQU1GLEVBQVExZ0UsR0FDUm9sRSxFQUFRdDRELEdBQ1J1NEQsRUFBVXI0RCxLQUNWczRELEVBQVdoYyxHQUNYaWMsRUFBWWhjLEdBQ1ppYyxFQUFZeEYsS0FDWnlGLEVBQVVDLEtBQ1ZDLEVBQVNDLEdBQ1RDLEVBQVlDLEtBQ1pDLEVBQVlDLEtBQ1pDLEVBQVNDLEdBQ1RDLEVBQWlCQyxLQUNqQkMsRUFBWUMsR0FDWkMsRUFBUUMsS0FDUkMsRUFBZUMsR0FDZkMsRUFBVUMsR0FDVkMsRUFBU0MsR0FDVEMsRUFBYUMsS0FDYkMsRUFBV0MsR0FDWDdxQixFQUFXOHFCLEtBQ1hDLEVBQWFDLEtBQ2JDLEVBQWFDLEtBQ2JDLEVBQVlDLEtBQ1pDLEVBQVdDLEtBQ1hDLEVBQVFDLEtBQ1JsRCxFQUFXbUQsR0FDWEMsRUFBVUMsS0FDVkMsRUFBY0MsR0FDZDNFLEVBQVU0RSxLQUNWQyxFQUFZQyxHQUNsQixTQUFTQyxFQUFTclUsRUFBS3VNLEdBQU0rSCxHQUFrQixHQUM3QyxDQUNFLE1BQU1DLEdBQVdoSSxHQUFLLEtBQUssSUFBSXZNLENBQUcsRUFDbEMsR0FBSXVVLElBQVksQ0FBQ0QsR0FBaUIsQ0FDOUIsTUFBTUUsR0FBYUMsRUFBUUYsR0FBVWhJLEVBQUksRUFDekMsR0FBSWlJLEtBQWUsT0FDZixPQUFPQSxFQUVkLENBQ0QsTUFBTUUsRUFBVSxDQUFFLElBQUExVSxFQUFLLEtBQU11TSxHQUFLLFlBQWEsV0FBWSxRQUMzREEsR0FBSyxLQUFLLElBQUl2TSxFQUFLMFUsQ0FBTyxFQUMxQixNQUFNQyxHQUFhQyxFQUFhNVUsRUFBS0EsRUFBSSxTQUFVdU0sRUFBSSxFQUN2RCxPQUFJb0ksSUFDQUUsRUFBUTdVLEVBQUt1TSxHQUFNb0ksRUFBVSxFQUVqQ0QsRUFBUSxXQUFhQyxHQUNkQSxFQUNWLENBQ2VoSSxHQUFBLFNBQUcwSCxFQUNuQixNQUFNSSxFQUFVLENBQUMvN0QsRUFBTTZ6RCxLQUFTLENBQzVCLE9BQVFBLEdBQUssYUFBWSxDQUNyQixJQUFLLE9BQ0QsTUFBTyxDQUNILEtBQU03ekQsRUFBSyxLQUFLLFNBQVcsRUFDckIsR0FDQUEsRUFBSyxLQUFLLFNBQVcsRUFDakIsR0FBR0EsRUFBSyxLQUFLLENBQUMsQ0FBQyxJQUNmQSxFQUFLLEtBQUssS0FBSyxHQUFHLENBQzVDLEVBQ1EsSUFBSyxXQUNELE1BQU8sQ0FBRSxLQUFNbzhELEVBQWdCdkksR0FBSyxZQUFhN3pELEVBQUssSUFBSSxHQUM5RCxJQUFLLE9BQ0QsT0FBSUEsRUFBSyxLQUFLLE9BQVM2ekQsR0FBSyxZQUFZLFFBQ3BDN3pELEVBQUssS0FBSyxNQUFNLENBQUN0VSxHQUFPMEYsS0FBVXlpRSxHQUFLLFlBQVl6aUUsRUFBSyxJQUFNMUYsRUFBSyxHQUNuRSxRQUFRLEtBQUssbUNBQW1DbW9FLEdBQUssWUFBWSxLQUFLLEdBQUcsQ0FBQyxxQkFBcUIsRUFDeEYsSUFFWCxPQUVKLElBQUssT0FDRCxPQUFJN3pELEVBQUssS0FBSyxPQUFTNnpELEdBQUssWUFBWSxRQUNwQzd6RCxFQUFLLEtBQUssTUFBTSxDQUFDdFUsR0FBTzBGLEtBQVV5aUUsR0FBSyxZQUFZemlFLEVBQUssSUFBTTFGLEVBQUssR0FDbkUsUUFBUSxLQUFLLG1DQUFtQ21vRSxHQUFLLFlBQVksS0FBSyxHQUFHLENBQUMscUJBQXFCLEVBQ3hGLElBR0E3ekQsRUFBSyxVQUd2QixDQUNMLEVBQ01vOEQsRUFBa0IsQ0FBQ0MsRUFBT0MsS0FBVSxDQUN0QyxJQUFJNXlFLEdBQUksRUFDUixLQUFPQSxHQUFJMnlFLEVBQU0sUUFBVTN5RSxHQUFJNHlFLEdBQU0sUUFDN0JELEVBQU0zeUUsRUFBQyxJQUFNNHlFLEdBQU01eUUsRUFBQyxFQURpQkEsS0FDekMsQ0FHSixNQUFPLEVBQUUyeUUsRUFBTSxPQUFTM3lFLElBQUcsU0FBVSxFQUFFLEdBQUc0eUUsR0FBTSxNQUFNNXlFLEVBQUMsQ0FBQyxFQUFFLEtBQUssR0FBRyxDQUN0RSxFQUNNd3lFLEVBQWUsQ0FBQzVVLEVBQUtpVixHQUFVMUksS0FBUyxDQUMxQyxPQUFRMEksR0FBUSxDQUNaLEtBQUt4SSxFQUFNLHNCQUFzQixVQUM3QixTQUFXaUUsRUFBUyxnQkFBZ0IxUSxFQUFLdU0sRUFBSSxFQUNqRCxLQUFLRSxFQUFNLHNCQUFzQixVQUM3QixTQUFXdUcsRUFBUyxnQkFBZ0JoVCxFQUFLdU0sRUFBSSxFQUNqRCxLQUFLRSxFQUFNLHNCQUFzQixVQUM3QixTQUFXcmtCLEVBQVMsZ0JBQWdCNFgsRUFBS3VNLEVBQUksRUFDakQsS0FBS0UsRUFBTSxzQkFBc0IsVUFDN0IsU0FBVzRFLEVBQVMsZ0JBQWdCclIsRUFBS3VNLEVBQUksRUFDakQsS0FBS0UsRUFBTSxzQkFBc0IsV0FDN0IsU0FBVzZFLEVBQVUsbUJBQ3pCLEtBQUs3RSxFQUFNLHNCQUFzQixRQUM3QixTQUFXaUYsRUFBTyxjQUFjMVIsRUFBS3VNLEVBQUksRUFDN0MsS0FBS0UsRUFBTSxzQkFBc0IsYUFDN0IsU0FBV3VILEVBQVkscUJBQzNCLEtBQUt2SCxFQUFNLHNCQUFzQixRQUM3QixTQUFXbUcsRUFBTyxjQUFjckcsRUFBSSxFQUN4QyxLQUFLRSxFQUFNLHNCQUFzQixTQUM3QixTQUFXMkUsRUFBUSxlQUFlcFIsRUFBS3VNLEVBQUksRUFDL0MsS0FBS0UsRUFBTSxzQkFBc0IsU0FDakMsS0FBS0EsRUFBTSxzQkFBc0Isc0JBQzdCLFNBQVc2QyxFQUFRLGVBQWV0UCxFQUFLdU0sRUFBSSxFQUMvQyxLQUFLRSxFQUFNLHNCQUFzQixnQkFDN0IsU0FBV3lGLEVBQWUsc0JBQXNCbFMsRUFBS3VNLEVBQUksRUFDN0QsS0FBS0UsRUFBTSxzQkFBc0IsU0FDN0IsU0FBV3FILEVBQVEsZUFBZTlULEVBQUt1TSxFQUFJLEVBQy9DLEtBQUtFLEVBQU0sc0JBQXNCLFVBQzdCLFNBQVdnSCxFQUFTLGdCQUFnQnpULEVBQUt1TSxFQUFJLEVBQ2pELEtBQUtFLEVBQU0sc0JBQXNCLFdBQzdCLFNBQVcyRixFQUFVLGlCQUFpQnBTLEVBQUt1TSxFQUFJLEVBQ25ELEtBQUtFLEVBQU0sc0JBQXNCLFFBQzdCLFNBQVd1RixFQUFPLGNBQWNoUyxDQUFHLEVBQ3ZDLEtBQUt5TSxFQUFNLHNCQUFzQixjQUM3QixTQUFXK0YsRUFBYSxvQkFBb0J4UyxDQUFHLEVBQ25ELEtBQUt5TSxFQUFNLHNCQUFzQixZQUM3QixTQUFXcUcsRUFBVyxrQkFBa0I5UyxFQUFLdU0sRUFBSSxFQUNyRCxLQUFLRSxFQUFNLHNCQUFzQixZQUM3QixTQUFXMEcsRUFBVyxrQkFBa0JuVCxFQUFLdU0sRUFBSSxFQUNyRCxLQUFLRSxFQUFNLHNCQUFzQixPQUM3QixTQUFXNkYsRUFBTSxhQUFhdFMsRUFBS3VNLEVBQUksRUFDM0MsS0FBS0UsRUFBTSxzQkFBc0IsT0FDN0IsU0FBV2tILEVBQU0sYUFBYTNULEVBQUt1TSxFQUFJLEVBQzNDLEtBQUtFLEVBQU0sc0JBQXNCLFFBQzdCLE9BQU80SCxFQUFTclUsRUFBSSxPQUFRLEVBQUMsS0FBTXVNLEVBQUksRUFDM0MsS0FBS0UsRUFBTSxzQkFBc0IsV0FDN0IsU0FBVzhHLEVBQVUsaUJBQWlCdlQsRUFBS3VNLEVBQUksRUFDbkQsS0FBS0UsRUFBTSxzQkFBc0IsT0FDakMsS0FBS0EsRUFBTSxzQkFBc0IsU0FDN0IsU0FBV2lHLEVBQVEsaUJBQ3ZCLEtBQUtqRyxFQUFNLHNCQUFzQixXQUM3QixTQUFXcUYsRUFBVSxpQkFBaUI5UixFQUFLdU0sRUFBSSxFQUNuRCxLQUFLRSxFQUFNLHNCQUFzQixPQUM3QixTQUFXMEUsRUFBTSxlQUNyQixLQUFLMUUsRUFBTSxzQkFBc0IsV0FDN0IsU0FBVzBILEVBQVUsbUJBQ3pCLEtBQUsxSCxFQUFNLHNCQUFzQixXQUM3QixTQUFXbUYsRUFBVSxpQkFBaUI1UixFQUFLdU0sRUFBSSxFQUNuRCxLQUFLRSxFQUFNLHNCQUFzQixXQUM3QixTQUFXOEUsRUFBVSxpQkFBaUJ2UixFQUFLdU0sRUFBSSxFQUNuRCxLQUFLRSxFQUFNLHNCQUFzQixTQUM3QixTQUFXK0UsRUFBUSxlQUFleFIsRUFBS3VNLEVBQUksRUFDL0MsS0FBS0UsRUFBTSxzQkFBc0IsWUFDN0IsU0FBVzRHLEVBQVcsa0JBQWtCclQsRUFBS3VNLEVBQUksRUFDckQsS0FBS0UsRUFBTSxzQkFBc0IsWUFDakMsS0FBS0EsRUFBTSxzQkFBc0IsUUFDakMsS0FBS0EsRUFBTSxzQkFBc0IsVUFDN0IsT0FDSixRQUNJLE9BQVNqOUQsUUFBeUIsQ0FDekMsQ0FDTCxFQUNNcWxFLEVBQVUsQ0FBQzdVLEVBQUt1TSxHQUFNb0ksTUFDcEIzVSxFQUFJLGNBQ0oyVSxHQUFXLFlBQWMzVSxFQUFJLFlBQ3pCdU0sR0FBSyxzQkFDTG9JLEdBQVcsb0JBQXNCM1UsRUFBSSxjQUd0QzJVLDJDQzFLWCxPQUFPLGVBQWMzb0UsRUFBVSxhQUFjLENBQUUsTUFBTyxFQUFJLENBQUUsRUFDNURBLEVBQTRCLGtCQUFBQSxFQUFBLGVBQXlCLE9BQ3JEQSxFQUF5QixlQUFBLENBQ3JCLEtBQU0sT0FDTixhQUFjLE9BQ2QsU0FBVSxDQUFDLEdBQUcsRUFDZCxlQUFnQixRQUNoQixhQUFjLE1BQ2QsYUFBYyxTQUNkLGVBQWdCLGNBQ2hCLE9BQVEsY0FDUixhQUFjLEdBQ2QsWUFBYSxDQUFFLEVBQ2YsY0FBZSxHQUNmLG9CQUFxQixHQUNyQixjQUFlLGNBQ25CLEVBQ0EsTUFBTWtwRSxFQUFxQmx4RSxHQUFhLE9BQU9BLEdBQVksU0FDckQsT0FBTyxPQUFPLE9BQU8sT0FBTyxDQUFBLEVBQUlnSSxFQUFRLGNBQWMsRUFBRyxDQUFFLEtBQU1oSSxDQUFPLENBQUUsRUFBSSxPQUFPLE9BQU8sT0FBTyxPQUFPLENBQUEsRUFBSWdJLEVBQVEsY0FBYyxFQUFHaEksQ0FBTyxFQUNwSmdJLEVBQUEsa0JBQTRCa3BFLFFDbkI1QixPQUFPLGVBQWVDLEdBQVMsYUFBYyxDQUFFLE1BQU8sRUFBSSxDQUFFLEVBQzdDQSxHQUFBLFFBQUcsT0FDbEIsTUFBTUMsR0FBWXJwRSxHQUNac3BFLEdBQVdyeEUsR0FBWSxDQUN6QixNQUFNZ2lDLEtBQWVvdkMsR0FBVSxtQkFBbUJweEUsQ0FBTyxFQUNuRHN4RSxFQUFjdHZDLEVBQVMsT0FBUyxPQUNoQyxDQUFDLEdBQUdBLEVBQVMsU0FBVUEsRUFBUyxlQUFnQkEsRUFBUyxJQUFJLEVBQzdEQSxFQUFTLFNBQ2YsT0FBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLENBQUEsRUFBSUEsQ0FBUSxFQUFHLENBQUUsWUFBYXN2QyxFQUFhLGFBQWMsT0FBVyxLQUFNLElBQUksSUFBSSxPQUFPLFFBQVF0dkMsRUFBUyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUN6aUMsRUFBTXk4RCxDQUFHLElBQU0sQ0FDdktBLEVBQUksS0FDSixDQUNJLElBQUtBLEVBQUksS0FDVCxLQUFNLENBQUMsR0FBR2g2QixFQUFTLFNBQVVBLEVBQVMsZUFBZ0J6aUMsQ0FBSSxFQUUxRCxXQUFZLE1BQ2YsQ0FDYixDQUFTLENBQUMsQ0FBRyxDQUFBLENBQ2IsRUFDQTR4RSxHQUFBLFFBQWtCRSxHQ2xCbEIsT0FBTyxlQUFlRSxHQUFTLGFBQWMsQ0FBRSxNQUFPLEVBQUksQ0FBRSxFQUNyQ0EsR0FBQSxnQkFBRyxPQUMxQixNQUFNNUksR0FBYTVnRSxHQUFBLEVBQ2J5cEUsR0FBUzM4RCxHQUNUNDhELEdBQWtCLENBQUNocUMsRUFBUXpuQyxJQUFZLENBQ3pDLElBQUk0TixFQUNKLE1BQU0yNkQsS0FBV2lKLEdBQU8sU0FBU3h4RSxDQUFPLEVBQ2xDMHhFLEVBQWMsT0FBTzF4RSxHQUFZLFVBQVlBLEVBQVEsWUFDckQsT0FBTyxRQUFRQSxFQUFRLFdBQVcsRUFBRSxPQUFPLENBQUNzTixFQUFLLENBQUMvTixFQUFNa29DLENBQU0sSUFBTSxDQUNsRSxJQUFJNzVCLEVBQ0osT0FBUSxPQUFPLE9BQU8sT0FBTyxPQUFPLENBQUEsRUFBSU4sQ0FBRyxFQUFHLENBQUUsQ0FBQy9OLENBQUksR0FBSXFPLEtBQVMrNkQsR0FBVyxVQUFVbGhDLEVBQU8sS0FBTSxPQUFPLE9BQU8sT0FBTyxPQUFPLENBQUUsRUFBRThnQyxDQUFJLEVBQUcsQ0FBRSxZQUFhLENBQUMsR0FBR0EsRUFBSyxTQUFVQSxFQUFLLGVBQWdCaHBFLENBQUksQ0FBRyxDQUFBLEVBQUcsRUFBSSxLQUFPLE1BQVFxTyxJQUFPLE9BQVNBLEVBQUssQ0FBRSxDQUFBLENBQUUsQ0FDM1AsRUFBRSxFQUFFLEVBQ0gsT0FDQXJPLEVBQU8sT0FBT1MsR0FBWSxTQUFXQSxFQUFVQSxHQUFZLEtBQTZCLE9BQVNBLEVBQVEsS0FDekcyeEUsR0FBUS9qRSxLQUFTKzZELEdBQVcsVUFBVWxoQyxFQUFPLEtBQU1sb0MsSUFBUyxPQUM1RGdwRSxFQUNBLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBRSxFQUFFQSxDQUFJLEVBQUcsQ0FBRSxZQUFhLENBQUMsR0FBR0EsRUFBSyxTQUFVQSxFQUFLLGVBQWdCaHBFLENBQUksRUFBRyxFQUFHLEVBQUssS0FBTyxNQUFRcU8sSUFBTyxPQUFTQSxFQUFLLEdBQ2pKZ2tFLEVBQVdyeUUsSUFBUyxPQUNwQm15RSxFQUNJLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBQSxFQUFJQyxDQUFJLEVBQUcsQ0FBRSxDQUFDcEosRUFBSyxjQUFjLEVBQUdtSixDQUFXLENBQUUsRUFBSUMsRUFDckYsQ0FDRSxLQUFNLENBQ0YsR0FBSXBKLEVBQUssZUFBaUIsV0FBYSxDQUFBLEVBQUtBLEVBQUssU0FDakRBLEVBQUssZUFDTGhwRSxDQUNoQixFQUFjLEtBQUssR0FBRyxFQUNWLENBQUNncEUsRUFBSyxjQUFjLEVBQUcsT0FBTyxPQUFPLE9BQU8sT0FBTyxDQUFFLEVBQUVtSixDQUFXLEVBQUcsQ0FBRSxDQUFDbnlFLENBQUksRUFBR295RSxDQUFJLENBQUUsQ0FDakcsRUFDSSxPQUFJcEosRUFBSyxTQUFXLGNBQ2hCcUosRUFBUyxRQUFVLDBDQUVkckosRUFBSyxTQUFXLHNCQUNyQnFKLEVBQVMsUUFBVSxpREFFaEJBLENBQ1gsRUFDQUwsR0FBQSxnQkFBMEJFLGdCQ3BDMUIsT0FBTyxlQUFjenBFLEVBQVUsYUFBYyxDQUFFLE1BQU8sRUFBSSxDQUFFLEVBQzVEQSxFQUEwQixnQkFBQSxPQUMxQixNQUFNdXBFLEVBQW9CeHBFLEdBQzFCLE9BQU8sZUFBZUMsRUFBUyxrQkFBbUIsQ0FBRSxXQUFZLEdBQU0sSUFBSyxVQUFZLENBQUUsT0FBT3VwRSxFQUFrQixlQUFnQixDQUFJLENBQUEsRUFDdEl2cEUsRUFBa0IsUUFBQXVwRSxFQUFrQixzQkNFN0IsU0FBU00sR0FBdUJwaEUsRUFBTSxDQUN6QyxNQUFPLENBQ0gsS0FBTUEsRUFBSyxLQUNYLFlBQWFBLEVBQUssWUFDbEIsV0FBWWdoRSxHQUFBQSxnQkFBZ0JoaEUsRUFBSyxNQUFNLENBQy9DLENBQ0EsQ0NPTyxNQUFNcWhFLFdBQXNCdndDLEVBQWtCLENBQ2pELFlBQVlyMUIsRUFBUSxDQUNoQixNQUFNQSxDQUFNLEVBQ1osT0FBTyxlQUFlLEtBQU0sZUFBZ0IsQ0FDeEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxDQUFDLFlBQWEsY0FBZSxLQUFLLFNBQVEsQ0FBRSxDQUMvRCxDQUFTLENBQ0osQ0FDRCx1Q0FBdUNsTSxFQUFTLENBQzVDLEtBQU0sQ0FBQ29tQixFQUFnQkMsQ0FBVyxFQUFJLE1BQU0sdUNBQXVDcm1CLENBQU8sRUFDMUYsT0FBSXFtQixHQUFBLE1BQUFBLEVBQWEsU0FBVyxDQUFDQSxFQUFZLFNBQ3JDQSxFQUFZLE9BQVMsWUFBWSxRQUFRQSxFQUFZLE9BQU8sR0FFekQsQ0FBQ0QsRUFBZ0JDLENBQVcsQ0FDdEMsQ0FPRCxNQUFNLE9BQU83bEIsRUFBT1IsRUFBUyxDQUN6QixNQUFNOGhDLEVBQWNnd0MsR0FBYywyQkFBMkJ0eEUsQ0FBSyxFQUlsRSxPQUhlLE1BQU0sS0FBSyxlQUFlLENBQUNzaEMsQ0FBVyxFQUFHOWhDLEVBQVNBLEdBQUEsWUFBQUEsRUFBUyxTQUFTLEdBQ3JELFlBQVksQ0FBQyxFQUFFLENBQUMsRUFFeEIsT0FDekIsQ0FFRCxNQUFPLHNCQUFzQit4RSxFQUFXL3ZDLEVBQVVDLEVBQWEsQ0FDM0QsTUFBTSxJQUFJLE1BQU0sa0JBQWtCLENBQ3JDLENBQ0QsTUFBTyxnQkFBZ0J6aEMsRUFBT1IsRUFBUyxDQUVuQyxHQUFJLEtBQUssd0JBQ0w4eEUsR0FBYyxVQUFVLHNCQUN4QixNQUFNLEtBQUssT0FBT3R4RSxFQUFPUixDQUFPLE1BRS9CLENBRUQsTUFBTWlRLEVBRFM2aEUsR0FBYywyQkFBMkJ0eEUsQ0FBSyxFQUNyQyxpQkFDbEIsQ0FBQzRsQixFQUFnQkMsQ0FBVyxFQUFJLEtBQUssdUNBQXVDcm1CLENBQU8sRUFDbkZ1bUIsRUFBbUIsTUFBTXhHLEdBQWdCLFVBQVVxRyxFQUFlLFVBQVcsS0FBSyxVQUFXQSxFQUFlLEtBQU0sS0FBSyxLQUFNQSxFQUFlLFNBQVUsS0FBSyxTQUFVLENBQUUsUUFBUyxLQUFLLE9BQU8sQ0FBRSxFQUM5THpOLEVBQVEsQ0FDVixRQUFTME4sRUFDVCxrQkFBbUIsdUJBQU0saUJBQWlCQSxFQUMxRCxFQUNrQk0sRUFBYyxNQUFNSixHQUFBLFlBQUFBLEVBQWtCLHFCQUFxQixLQUFLLE9BQU0sRUFBSSxDQUFDdFcsQ0FBUSxFQUFHLE9BQVcsT0FBVzBJLEVBQU8sT0FBVyxPQUFXeU4sRUFBZSxVQUM5SixJQUFJbWQsRUFDSixHQUFJLENBQ0EsZ0JBQWlCcmMsS0FBUyxLQUFLLHNCQUFzQmpYLEVBQVVvVyxFQUFhTSxHQUFBLFlBQUFBLEVBQWMsRUFBRSxFQUN4RixNQUFNTyxFQUFNLFFBQ1BxYyxFQUlEQSxFQUFrQkEsRUFBZ0IsT0FBT3JjLENBQUssRUFIOUNxYyxFQUFrQnJjLENBTTdCLE9BQ005ZixFQUFLLENBQ1IsWUFBTSxRQUFRLEtBQUt1ZixHQUFlLENBQUEsR0FBSSxJQUFLSCxHQUFlQSxHQUFBLFlBQUFBLEVBQVksZUFBZXBmLEVBQUksQ0FBQyxFQUNwRkEsQ0FDVCxDQUNELE1BQU0sUUFBUSxLQUFLdWYsR0FBZSxDQUFBLEdBQUksSUFBS0gsR0FBZUEsR0FBQSxZQUFBQSxFQUFZLGFBQWEsQ0FFL0UsWUFBYSxDQUFDLENBQUMrYyxDQUFlLENBQUMsQ0FDbEMsRUFBQyxDQUFDLENBQ04sQ0FDSixDQUVELE1BQU0sa0JBQWtCdHpCLEVBQVVzeUIsRUFBZUMsRUFBZ0IsT0FDN0QsTUFBTXd2QyxFQUFlL2hFLEVBQVMsSUFBS2dpRSxHQUFnQkEsRUFBWSxJQUFJNzFDLEVBQTBCLENBQUMsRUFFeEY3VixFQUFtQixNQUFNeEcsR0FBZ0IsVUFBVXlpQixFQUFlLFVBQVcsS0FBSyxVQUFXQSxFQUFlLEtBQU0sS0FBSyxLQUFNQSxFQUFlLFNBQVUsS0FBSyxTQUFVLENBQUUsUUFBUyxLQUFLLE9BQU8sQ0FBRSxFQUM5TDdwQixFQUFRLENBQ1YsUUFBUzRwQixFQUNULGtCQUFtQix1QkFBTSxpQkFBaUJBLEVBQ3RELEVBQ2M1YixFQUFjLE1BQU1KLEdBQUEsWUFBQUEsRUFBa0IscUJBQXFCLEtBQUssT0FBTSxFQUFJeXJELEVBQWMsT0FBVyxPQUFXcjVELEVBQU8sT0FBVyxPQUFXNnBCLEVBQWUsVUFFMUoxZSxFQUFVLE1BQU0sUUFBUSxXQUFXa3VELEVBQWEsSUFBSSxDQUFDQyxFQUFhN3pFLElBQU0sS0FBSyxVQUFVNnpFLEVBQWEsQ0FBRSxHQUFHMXZDLEVBQWUsWUFBYW5rQyxDQUFHLEVBQUV1b0IsR0FBQSxZQUFBQSxFQUFjdm9CLEVBQUUsQ0FBQyxDQUFDLEVBRTVKNGQsRUFBYyxDQUFBLEVBQ2RrMkQsRUFBYSxDQUFBLEVBQ25CLE1BQU0sUUFBUSxJQUFJcHVELEVBQVEsSUFBSSxNQUFPcXVELEVBQVMvekUsSUFBTSxTQUNoRCxHQUFJK3pFLEVBQVEsU0FBVyxZQUFhLENBQ2hDLE1BQU1wekUsRUFBU296RSxFQUFRLE1BQ3ZCLE9BQUFuMkQsRUFBWTVkLENBQUMsRUFBSVcsRUFBTyxZQUN4Qm16RSxFQUFXOXpFLENBQUMsRUFBSVcsRUFBTyxXQUNoQjZPLEVBQUErWSxHQUFBLFlBQUFBLEVBQWN2b0IsS0FBZCxZQUFBd1AsRUFBa0IsYUFBYSxDQUNsQyxZQUFhLENBQUM3TyxFQUFPLFdBQVcsRUFDaEMsVUFBV0EsRUFBTyxTQUN0QyxFQUNhLEtBR0csZUFBTThTLEVBQUE4VSxHQUFBLFlBQUFBLEVBQWN2b0IsS0FBZCxZQUFBeVQsRUFBa0IsZUFBZXNnRSxFQUFRLFNBQ3hDLFFBQVEsT0FBT0EsRUFBUSxNQUFNLENBRTNDLENBQUEsQ0FBQyxFQUVGLE1BQU1qaUUsRUFBUyxDQUNYLFlBQUE4TCxFQUNBLFVBQVdrMkQsRUFBVyxRQUNoQnRrRSxFQUFBLEtBQUssb0JBQUwsWUFBQUEsRUFBQSxVQUF5QixHQUFHc2tFLEdBQzVCLE1BQ2xCLEVBQ1EsY0FBTyxlQUFlaGlFLEVBQVFrckIsR0FBUyxDQUNuQyxNQUFPelUsRUFDRCxDQUFFLE9BQVFBLEdBQUEsWUFBQUEsRUFBYSxJQUFLN0csR0FBWUEsRUFBUSxNQUFRLEVBQ3hELE9BQ04sYUFBYyxFQUMxQixDQUFTLEVBQ001UCxDQUNWLENBUUQsTUFBTSxTQUFTRCxFQUFValEsRUFBUzVDLEVBQVcsQ0FFekMsSUFBSW1sQyxFQUNBLE1BQU0sUUFBUXZpQyxDQUFPLEVBQ3JCdWlDLEVBQWdCLENBQUUsS0FBTXZpQyxHQUd4QnVpQyxFQUFnQnZpQyxFQUVwQixNQUFNZ3lFLEVBQWUvaEUsRUFBUyxJQUFLZ2lFLEdBQWdCQSxFQUFZLElBQUk3MUMsRUFBMEIsQ0FBQyxFQUN4RixDQUFDaFcsRUFBZ0JDLENBQVcsRUFBSSxLQUFLLHVDQUF1Q2tjLENBQWEsRUFFL0YsR0FEQW5jLEVBQWUsVUFBWUEsRUFBZSxXQUFhaHBCLEVBQ25ELENBQUMsS0FBSyxNQUNOLE9BQU8sS0FBSyxrQkFBa0I0MEUsRUFBYzNyRCxFQUFhRCxDQUFjLEVBRTNFLEtBQU0sQ0FBRSxNQUFBdVUsQ0FBTyxFQUFHLEtBQ1orSCxFQUFlLEtBQUssd0NBQXdDcmMsQ0FBVyxFQUN2RXNjLEVBQXVCLENBQUEsRUFDdkIzbUIsRUFBYyxNQUFNLFFBQVEsSUFBSWcyRCxFQUFhLElBQUksTUFBT0ksRUFBYXRzRSxJQUFVLENBRWpGLE1BQU13YSxFQUFTd3hELEdBQWMsMkJBQTJCTSxDQUFXLEVBQUUsU0FBUSxFQUN2RXJ6RSxFQUFTLE1BQU00N0IsRUFBTSxPQUFPcmEsRUFBUW9pQixDQUFZLEVBQ3RELE9BQUszakMsR0FDRDRqQyxFQUFxQixLQUFLNzhCLENBQUssRUFFNUIvRyxDQUNWLENBQUEsQ0FBQyxFQUNGLElBQUl1akMsRUFBWSxDQUFBLEVBQ2hCLEdBQUlLLEVBQXFCLE9BQVMsRUFBRyxDQUNqQyxNQUFNN2UsRUFBVSxNQUFNLEtBQUssa0JBQWtCNmUsRUFBcUIsSUFBS3ZrQyxHQUFNNHpFLEVBQWE1ekUsQ0FBQyxDQUFDLEVBQUdpb0IsRUFBYUQsQ0FBYyxFQUMxSCxNQUFNLFFBQVEsSUFBSXRDLEVBQVEsWUFBWSxJQUFJLE1BQU8vSCxFQUFZalcsSUFBVSxDQUNuRSxNQUFNODhCLEVBQWNELEVBQXFCNzhCLENBQUssRUFDOUNrVyxFQUFZNG1CLENBQVcsRUFBSTdtQixFQUUzQixNQUFNdUUsRUFBU3d4RCxHQUFjLDJCQUEyQkUsRUFBYXB2QyxDQUFXLENBQUMsRUFBRSxXQUNuRixPQUFPakksRUFBTSxPQUFPcmEsRUFBUW9pQixFQUFjM21CLENBQVUsQ0FDdkQsQ0FBQSxDQUFDLEVBQ0Z1bUIsRUFBWXhlLEVBQVEsV0FBYSxFQUNwQyxDQUNELE1BQU8sQ0FBRSxZQUFBOUgsRUFBYSxVQUFBc21CLEVBQ3pCLENBS0QsaUJBQWlCTixFQUFVLENBQ3ZCLE1BQU8sRUFDVixDQUNELFlBQWEsQ0FDVCxNQUFPLGlCQUNWLENBS0QsV0FBWSxDQUNSLE1BQU8sQ0FDSCxHQUFHLEtBQUssaUJBQWtCLEVBQzFCLE1BQU8sS0FBSyxTQUFVLEVBQ3RCLE9BQVEsS0FBSyxXQUFZLENBQ3JDLENBQ0ssQ0FRRCxNQUFNLGVBQWVFLEVBQWNsaUMsRUFBUzVDLEVBQVcsQ0FDbkQsTUFBTWkxRSxFQUFpQm53QyxFQUFhLElBQUtKLEdBQWdCQSxFQUFZLGVBQWMsQ0FBRSxFQUNyRixPQUFPLEtBQUssU0FBU3V3QyxFQUFnQnJ5RSxFQUFTNUMsQ0FBUyxDQUMxRCxDQVFELE1BQU0sS0FBSzZTLEVBQVVqUSxFQUFTNUMsRUFBVyxDQUdyQyxPQUZlLE1BQU0sS0FBSyxTQUFTLENBQUM2UyxFQUFTLElBQUltc0IsRUFBMEIsQ0FBQyxFQUFHcDhCLEVBQVM1QyxDQUFTLEdBQ3RFLFlBQ1IsQ0FBQyxFQUFFLENBQUMsRUFBRSxPQUM1QixDQVFELE1BQU0sV0FBVzBrQyxFQUFhOWhDLEVBQVM1QyxFQUFXLENBQzlDLE1BQU1pMUUsRUFBaUJ2d0MsRUFBWSxpQkFDbkMsT0FBTyxLQUFLLEtBQUt1d0MsRUFBZ0JyeUUsRUFBUzVDLENBQVMsQ0FDdEQsQ0FRRCxNQUFNLGdCQUFnQjZTLEVBQVVqUSxFQUFTNUMsRUFBVyxDQUNoRCxPQUFPLEtBQUssS0FBSzZTLEVBQVVqUSxFQUFTNUMsQ0FBUyxDQUNoRCxDQVFELE1BQU0sUUFBUXFDLEVBQU1PLEVBQVM1QyxFQUFXLENBQ3BDLE1BQU15SyxFQUFVLElBQUk2ekIsR0FBYWo4QixDQUFJLEVBRXJDLE9BRGUsTUFBTSxLQUFLLEtBQUssQ0FBQ29JLENBQU8sRUFBRzdILEVBQVM1QyxDQUFTLEdBQzlDLE9BQ2pCLENBQ0wsQ0M5UEEsU0FBU2sxRSxHQUFnQ3pxRSxFQUFTLENBQzlDLE9BQUlBLEVBQVEsT0FBUyxVQUNqQkEsRUFBUSxPQUFTLGFBQ2pCQSxFQUFRLE9BQVMsUUFDakJBLEVBQVEsT0FBUyxZQUNqQixRQUFRLEtBQUsseUJBQXlCQSxFQUFRLElBQUksRUFBRSxFQUVqREEsRUFBUSxJQUNuQixDQUNBLFNBQVMwcUUsR0FBb0IxcUUsRUFBUyxDQUNsQyxNQUFNaEMsRUFBT2dDLEVBQVEsV0FDckIsT0FBUWhDLEVBQUksQ0FDUixJQUFLLFNBQ0QsTUFBTyxTQUNYLElBQUssS0FDRCxNQUFPLFlBQ1gsSUFBSyxRQUNELE1BQU8sT0FDWCxJQUFLLFdBQ0QsTUFBTyxXQUNYLElBQUssVUFBVyxDQUNaLEdBQUksQ0FBQ28yQixHQUFZLFdBQVdwMEIsQ0FBTyxFQUMvQixNQUFNLElBQUksTUFBTSw4QkFBOEIsRUFDbEQsT0FBT3lxRSxHQUFnQ3pxRSxDQUFPLENBQ2pELENBQ0QsUUFDSSxNQUFNLElBQUksTUFBTSx5QkFBeUJoQyxDQUFJLEVBQUUsQ0FDdEQsQ0FDTCxDQUNBLFNBQVMyc0UsR0FBNEIzcUUsRUFBUyxDQUMxQyxPQUFRQSxFQUFRLEtBQUksQ0FDaEIsSUFBSyxPQUNELE9BQU8sSUFBSTZ6QixHQUFhN3pCLEVBQVEsU0FBVyxFQUFFLEVBQ2pELElBQUssWUFDRCxPQUFPLElBQUkrekIsR0FBVS96QixFQUFRLFNBQVcsR0FBSSxDQUN4QyxjQUFlQSxFQUFRLGFBQ3ZDLENBQWEsRUFDTCxJQUFLLFNBQ0QsT0FBTyxJQUFJaTBCLEdBQWNqMEIsRUFBUSxTQUFXLEVBQUUsRUFDbEQsUUFDSSxPQUFPLElBQUlvMEIsR0FBWXAwQixFQUFRLFNBQVcsR0FBSUEsRUFBUSxNQUFRLFNBQVMsQ0FDOUUsQ0FDTCxDQUNBLFNBQVM0cUUsR0FFVG52QyxFQUFPb3ZDLEVBQWEsQ0FDaEIsTUFBTTEwRCxFQUFPc2xCLEVBQU0sTUFBUW92QyxFQUNyQnIyQyxFQUFVaUgsRUFBTSxTQUFXLEdBQ2pDLElBQUlxdkMsRUFTSixPQVJJcnZDLEVBQU0sY0FDTnF2QyxFQUFvQixDQUNoQixjQUFlcnZDLEVBQU0sYUFDakMsRUFHUXF2QyxFQUFvQixDQUFBLEVBRXBCMzBELElBQVMsT0FDRixJQUFJMmQsR0FBa0IsQ0FBRSxRQUFBVSxDQUFPLENBQUUsRUFFbkNyZSxJQUFTLFlBQ1AsSUFBSTZkLEdBQWUsQ0FBRSxRQUFBUSxFQUFTLGtCQUFBczJDLENBQW1CLENBQUEsRUFFbkQzMEQsSUFBUyxTQUNQLElBQUkrZCxHQUFtQixDQUFFLFFBQUFNLENBQU8sQ0FBRSxFQUVwQ3JlLElBQVMsV0FDUCxJQUFJZ2UsR0FBcUIsQ0FDNUIsUUFBQUssRUFDQSxrQkFBQXMyQyxFQUNBLEtBQU1ydkMsRUFBTSxJQUN4QixDQUFTLEVBR00sSUFBSWhILEdBQWlCLENBQUUsUUFBQUQsRUFBUyxLQUFBcmUsQ0FBTSxDQUFBLENBRXJELENBb0JPLE1BQU00MEQsV0FBbUJkLEVBQWMsQ0FDMUMsT0FBTyxTQUFVLENBQ2IsTUFBTyxZQUNWLENBQ0QsSUFBSSxVQUFXLENBQ1gsTUFBTyxDQUNILEdBQUcsTUFBTSxTQUNULFVBQ0EsZ0JBQ0EsWUFDQSxRQUNBLGFBQ1osQ0FDSyxDQUNELElBQUksWUFBYSxDQUNiLE1BQU8sQ0FDSCxhQUFjLGlCQUNkLGtCQUFtQix1QkFDbkIsYUFBYyxxQkFDMUIsQ0FDSyxDQUNELElBQUksWUFBYSxDQUNiLE1BQU8sQ0FDSCxVQUFXLFFBQ1gsYUFBYyxpQkFDZCxzQkFBdUIsMkJBQ3ZCLGtCQUFtQix1QkFDbkIsMkJBQTRCLGlDQUM1Qiw2QkFBOEIsa0NBQzFDLENBQ0ssQ0FDRCxZQUFZNWxFLEVBRVpnM0IsRUFBZSxxQkFpSlgsR0FoSkEsTUFBTWgzQixHQUFVLENBQUEsQ0FBRSxFQUNsQixPQUFPLGVBQWUsS0FBTSxrQkFBbUIsQ0FDM0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxFQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sY0FBZSxDQUN2QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLENBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxPQUFRLENBQ2hDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sQ0FDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLG1CQUFvQixDQUM1QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLENBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxrQkFBbUIsQ0FDM0MsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxDQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sSUFBSyxDQUM3QixXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLENBQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxZQUFhLENBQ3JDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFlBQWEsQ0FDckMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxlQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sY0FBZSxDQUN2QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxPQUFRLENBQ2hDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLE9BQVEsQ0FDaEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sVUFBVyxDQUNuQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxZQUFhLENBQ3JDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sRUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLFlBQWEsQ0FDckMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sZUFBZ0IsQ0FDeEMsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sd0JBQXlCLENBQ2pELFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLG9CQUFxQixDQUM3QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSw2QkFBOEIsQ0FDdEQsV0FBWSxHQUNaLGFBQWMsR0FDZCxTQUFVLEdBQ1YsTUFBTyxNQUNuQixDQUFTLEVBQ0QsT0FBTyxlQUFlLEtBQU0sK0JBQWdDLENBQ3hELFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLHNCQUF1QixDQUMvQyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxlQUFnQixDQUN4QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsR0FDVixNQUFPLE1BQ25CLENBQVMsRUFDRCxPQUFPLGVBQWUsS0FBTSxTQUFVLENBQ2xDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELE9BQU8sZUFBZSxLQUFNLGVBQWdCLENBQ3hDLFdBQVksR0FDWixhQUFjLEdBQ2QsU0FBVSxHQUNWLE1BQU8sTUFDbkIsQ0FBUyxFQUNELEtBQUssY0FDREEsR0FBQSxZQUFBQSxFQUFRLGVBQWdCK0ssR0FBdUIsZ0JBQWdCLEVBQ25FLEtBQUssbUJBQ0QvSyxHQUFBLFlBQUFBLEVBQVEsb0JBQ0orSyxHQUF1QixzQkFBc0IsRUFDakQsQ0FBQyxLQUFLLG1CQUFxQixDQUFDLEtBQUssYUFDakMsTUFBTSxJQUFJLE1BQU0sMENBQTBDLEVBOEI5RCxHQTVCQSxLQUFLLDRCQUNEL0ssR0FBQSxZQUFBQSxFQUFRLDZCQUNKK0ssR0FBdUIsZ0NBQWdDLEVBQy9ELEtBQUssOEJBQ0QvSyxHQUFBLFlBQUFBLEVBQVEsK0JBQ0orSyxHQUF1QixrQ0FBa0MsRUFDakUsS0FBSyx1QkFDRC9LLEdBQUEsWUFBQUEsRUFBUSx3QkFDSitLLEdBQXVCLDBCQUEwQixFQUN6RCxLQUFLLHFCQUNEL0ssR0FBQSxZQUFBQSxFQUFRLHNCQUNKK0ssR0FBdUIsd0JBQXdCLEVBQ3ZELEtBQUssZUFDRHJKLEVBQUExQixHQUFBLFlBQUFBLEVBQVEsZ0JBQVIsWUFBQTBCLEVBQXVCLGVBQ25CcUosR0FBdUIscUJBQXFCLEVBQ3BELEtBQUssV0FBWS9LLEdBQUEsWUFBQUEsRUFBUSxZQUFhLEtBQUssVUFDM0MsS0FBSyxhQUFjQSxHQUFBLFlBQUFBLEVBQVEsY0FBZSxDQUFBLEVBQzFDLEtBQUssUUFBVUEsR0FBQSxZQUFBQSxFQUFRLFFBQ3ZCLEtBQUssYUFBY0EsR0FBQSxZQUFBQSxFQUFRLGNBQWUsS0FBSyxZQUMvQyxLQUFLLE1BQU9BLEdBQUEsWUFBQUEsRUFBUSxPQUFRLEtBQUssS0FDakMsS0FBSyxrQkFBbUJBLEdBQUEsWUFBQUEsRUFBUSxtQkFBb0IsS0FBSyxpQkFDekQsS0FBSyxpQkFBa0JBLEdBQUEsWUFBQUEsRUFBUSxrQkFBbUIsS0FBSyxnQkFDdkQsS0FBSyxVQUFZQSxHQUFBLFlBQUFBLEVBQVEsVUFDekIsS0FBSyxHQUFJQSxHQUFBLFlBQUFBLEVBQVEsSUFBSyxLQUFLLEVBQzNCLEtBQUssVUFBWUEsR0FBQSxZQUFBQSxFQUFRLFVBQ3pCLEtBQUssS0FBT0EsR0FBQSxZQUFBQSxFQUFRLEtBQ3BCLEtBQUssS0FBT0EsR0FBQSxZQUFBQSxFQUFRLEtBQ3BCLEtBQUssV0FBWUEsR0FBQSxZQUFBQSxFQUFRLFlBQWEsR0FDbEMsS0FBSyxrQkFBbUIsQ0FDeEIsR0FBSSxDQUFDLEtBQUssNEJBQThCLENBQUMsS0FBSyxvQkFDMUMsTUFBTSxJQUFJLE1BQU0sMENBQTBDLEVBRTlELEdBQUksQ0FBQyxLQUFLLDZCQUNOLE1BQU0sSUFBSSxNQUFNLDRDQUE0QyxFQUVoRSxHQUFJLENBQUMsS0FBSyxzQkFDTixNQUFNLElBQUksTUFBTSxvQ0FBb0MsRUFFeEQsS0FBSyxhQUFlLEtBQUssY0FBZ0IsRUFDNUMsQ0FDRCxLQUFLLGFBQWUsQ0FDaEIsT0FBUSxLQUFLLGFBQ2IsYUFBYyxLQUFLLGFBQ25CLFNBQVNnM0IsR0FBQSxZQUFBQSxFQUFlLGFBQVlyeEIsRUFBQTNGLEdBQUEsWUFBQUEsRUFBUSxnQkFBUixZQUFBMkYsRUFBdUIsVUFDM0Qsd0JBQXlCLEdBQ3pCLGlCQUFnQm9ELEVBQUFpdUIsR0FBQSxZQUFBQSxFQUFlLGNBQWYsWUFBQWp1QixFQUE0QixZQUN4Q3dhLEdBQUF2YSxFQUFBaEosR0FBQSxZQUFBQSxFQUFRLGdCQUFSLFlBQUFnSixFQUF1QixjQUF2QixZQUFBdWEsRUFBb0MsU0FDeEMsZUFBY0MsRUFBQXdULEdBQUEsWUFBQUEsRUFBZSxjQUFmLFlBQUF4VCxFQUE0QixXQUN0Q3lULEdBQUFDLEVBQUFsM0IsR0FBQSxZQUFBQSxFQUFRLGdCQUFSLFlBQUFrM0IsRUFBdUIsY0FBdkIsWUFBQUQsRUFBb0MsUUFDeEMsR0FBR0QsRUFDSCxHQUFHaDNCLEdBQUEsWUFBQUEsRUFBUSxhQUN2QixDQUNLLENBSUQsaUJBQWlCbE0sRUFBUyxDQUN0QixNQUFPLENBQ0gsTUFBTyxLQUFLLFVBQ1osWUFBYSxLQUFLLFlBQ2xCLE1BQU8sS0FBSyxLQUNaLGtCQUFtQixLQUFLLGlCQUN4QixpQkFBa0IsS0FBSyxnQkFDdkIsV0FBWSxLQUFLLFlBQWMsR0FBSyxPQUFZLEtBQUssVUFDckQsRUFBRyxLQUFLLEVBQ1IsV0FBWSxLQUFLLFVBQ2pCLE1BQU1BLEdBQUEsWUFBQUEsRUFBUyxPQUFRLEtBQUssS0FDNUIsS0FBTSxLQUFLLEtBQ1gsT0FBUSxLQUFLLFVBQ2IsV0FBV0EsR0FBQSxZQUFBQSxFQUFTLGFBQ2ZBLEdBQUEsTUFBQUEsRUFBUyxNQUNKQSxHQUFBLFlBQUFBLEVBQVMsTUFBTSxJQUFJNnhFLElBQ25CLFFBQ1YsY0FBZTd4RSxHQUFBLFlBQUFBLEVBQVMsY0FDeEIsR0FBRyxLQUFLLFdBQ3BCLENBQ0ssQ0FFRCxvQkFBcUIsQ0FDakIsTUFBTyxDQUNILFdBQVksS0FBSyxVQUNqQixHQUFHLEtBQUssaUJBQWtCLEVBQzFCLEdBQUcsS0FBSyxZQUNwQixDQUNLLENBQ0QsTUFBTyxzQkFBc0JpUSxFQUFValEsRUFBU3dtQixFQUFZLE9BQ3hELE1BQU1xc0QsRUFBaUI1aUUsRUFBUyxJQUFLcEksSUFBYSxDQUM5QyxLQUFNMHFFLEdBQW9CMXFFLENBQU8sRUFDakMsUUFBU0EsRUFBUSxRQUNqQixLQUFNQSxFQUFRLEtBQ2QsY0FBZUEsRUFBUSxrQkFDbEIsYUFDUixFQUFDLEVBQ0lpTyxFQUFTLENBQ1gsR0FBRyxLQUFLLGlCQUFpQjlWLENBQU8sRUFDaEMsU0FBVTZ5RSxFQUNWLE9BQVEsRUFDcEIsRUFDUSxJQUFJSCxFQUNKLE1BQU1JLEVBQWlCLE1BQU0sS0FBSyxvQkFBb0JoOUQsRUFBUTlWLENBQU8sRUFDckUsZ0JBQWlCTixLQUFRb3pFLEVBQWdCLENBQ3JDLE1BQU16dkMsRUFBUzNqQyxHQUFBLFlBQUFBLEVBQU0sUUFBUSxHQUM3QixHQUFJLENBQUMyakMsRUFDRCxTQUVKLEtBQU0sQ0FBRSxNQUFBQyxDQUFPLEVBQUdELEVBQ1puYyxFQUFRdXJELEdBQTRCbnZDLEVBQU9vdkMsQ0FBVyxFQUM1REEsRUFBY3B2QyxFQUFNLE1BQVFvdkMsRUFDNUIsTUFBTWx2QyxFQUFrQixDQUNwQixPQUFReGpDLEVBQVEsYUFBZSxFQUMvQixXQUFZcWpDLEVBQU8sT0FBUyxDQUM1QyxFQUNrQkUsRUFBa0IsSUFBSWhILEdBQW9CLENBQzVDLFFBQVNyVixFQUNULEtBQU1BLEVBQU0sUUFDWixlQUFnQnNjLENBQ2hDLENBQWEsRUFDRCxNQUFNRCxFQUVEL2MsR0FBQSxNQUFBQSxFQUFZLGtCQUFrQitjLEVBQWdCLE1BQVEsR0FBSUMsRUFBaUIsT0FBVyxPQUFXLE9BQVcsQ0FBRSxNQUFPRCxDQUFpQixFQUM5SSxDQUNELElBQUkzMUIsRUFBQTVOLEVBQVEsU0FBUixNQUFBNE4sRUFBZ0IsUUFDaEIsTUFBTSxJQUFJLE1BQU0sWUFBWSxDQUVuQyxDQUlELG1CQUFvQixDQUNoQixPQUFPLEtBQUssb0JBQ2YsQ0FFRCxNQUFNLFVBQVVxQyxFQUFValEsRUFBU3dtQixFQUFZLFNBQzNDLE1BQU13ZCxFQUFhLENBQUEsRUFDYmx1QixFQUFTLEtBQUssaUJBQWlCOVYsQ0FBTyxFQUN0QzZ5RSxFQUFpQjVpRSxFQUFTLElBQUtwSSxJQUFhLENBQzlDLEtBQU0wcUUsR0FBb0IxcUUsQ0FBTyxFQUNqQyxRQUFTQSxFQUFRLFFBQ2pCLEtBQU1BLEVBQVEsS0FDZCxjQUFlQSxFQUFRLGtCQUNsQixhQUNSLEVBQUMsRUFDRixHQUFJaU8sRUFBTyxPQUFRLENBQ2YsTUFBTTRPLEVBQVMsTUFBTSxLQUFLLHNCQUFzQnpVLEVBQVVqUSxFQUFTd21CLENBQVUsRUFDdkV1c0QsRUFBYyxDQUFBLEVBQ3BCLGdCQUFpQjdyRCxLQUFTeEMsRUFBUSxDQUM5QixNQUFNNWUsSUFBUThILEVBQUFzWixFQUFNLGlCQUFOLFlBQUF0WixFQUFzQixhQUFjLEVBQzlDbWxFLEVBQVlqdEUsQ0FBSyxJQUFNLE9BQ3ZCaXRFLEVBQVlqdEUsQ0FBSyxFQUFJb2hCLEVBR3JCNnJELEVBQVlqdEUsQ0FBSyxFQUFJaXRFLEVBQVlqdEUsQ0FBSyxFQUFFLE9BQU9vaEIsQ0FBSyxDQUUzRCxDQUlELE1BQU8sQ0FBRSxZQUhXLE9BQU8sUUFBUTZyRCxDQUFXLEVBQ3pDLEtBQUssQ0FBQyxDQUFDQyxDQUFJLEVBQUcsQ0FBQ0MsQ0FBSSxJQUFNLFNBQVNELEVBQU0sRUFBRSxFQUFJLFNBQVNDLEVBQU0sRUFBRSxDQUFDLEVBQ2hFLElBQUksQ0FBQyxDQUFDem5FLEVBQUdwTCxDQUFLLElBQU1BLENBQUssQ0FDVixDQUN2QixLQUNJLENBQ0QsTUFBTVYsRUFBTyxNQUFNLEtBQUssb0JBQW9CLENBQ3hDLEdBQUdvVyxFQUNILE9BQVEsR0FDUixTQUFVKzhELENBQzFCLEVBQWUsQ0FDQyxPQUFRN3lFLEdBQUEsWUFBQUEsRUFBUyxPQUNqQixHQUFHQSxHQUFBLFlBQUFBLEVBQVMsT0FDNUIsQ0FBYSxFQUNLLENBQUUsa0JBQW1CaWtDLEVBQWtCLGNBQWVDLEVBQWMsYUFBY0MsSUFBaUJ6a0MsR0FBQSxZQUFBQSxFQUFNLFFBQVMsR0FDcEh1a0MsSUFDQUQsRUFBVyxrQkFDTkEsRUFBVyxrQkFBb0IsR0FBS0MsR0FFekNDLElBQ0FGLEVBQVcsY0FBZ0JBLEVBQVcsY0FBZ0IsR0FBS0UsR0FFM0RDLElBQ0FILEVBQVcsYUFBZUEsRUFBVyxhQUFlLEdBQUtHLEdBRTdELE1BQU1ub0IsRUFBYyxDQUFBLEVBQ3BCLFVBQVduUCxLQUFRbk4sR0FBQSxZQUFBQSxFQUFNLFVBQVcsQ0FBQSxFQUFJLENBRXBDLE1BQU1xYyxFQUFhLENBQ2YsT0FGU2xLLEVBQUFoRixFQUFLLFVBQUwsWUFBQWdGLEVBQWMsVUFBVyxHQUdsQyxRQUFTMmdFLEdBQTRCM2xFLEVBQUssU0FBVyxDQUFFLEtBQU0sWUFBYSxDQUM5RixFQUNvQkEsRUFBSyxnQkFDTGtQLEVBQVcsZUFBaUIsQ0FBRSxjQUFlbFAsRUFBSyxhQUFhLEdBRW5FbVAsRUFBWSxLQUFLRCxDQUFVLENBQzlCLENBQ0QsTUFBTyxDQUNILFlBQUFDLEVBQ0EsVUFBVyxDQUFFLFdBQUFnb0IsQ0FBWSxDQUN6QyxDQUNTLENBQ0osQ0FDRCxNQUFNLHlCQUF5Qi96QixFQUFVLENBQ3JDLElBQUlpakUsRUFBYSxFQUNiQyxFQUFtQixFQUNuQkMsRUFBZ0IsRUFFaEJyNEMsR0FBd0IsS0FBSyxTQUFTLElBQU0saUJBQzVDbzRDLEVBQW1CLEVBQ25CQyxFQUFnQixJQUVYcjRDLEdBQXdCLEtBQUssU0FBUyxFQUFFLFdBQVcsT0FBTyxJQUMvRG80QyxFQUFtQixFQUNuQkMsRUFBZ0IsR0FFcEIsTUFBTUMsRUFBa0IsTUFBTSxRQUFRLElBQUlwakUsRUFBUyxJQUFJLE1BQU9wSSxHQUFZLENBQ3RFLE1BQU15ckUsRUFBWSxNQUFNLEtBQUssYUFBYXpyRSxFQUFRLE9BQU8sRUFDbkQwckUsRUFBWSxNQUFNLEtBQUssYUFBYWhCLEdBQW9CMXFFLENBQU8sQ0FBQyxFQUNoRTJyRSxFQUFZM3JFLEVBQVEsT0FBUyxPQUM3QnVyRSxFQUFpQixNQUFNLEtBQUssYUFBYXZyRSxFQUFRLElBQUksRUFDckQsRUFDQUMsRUFBUXdyRSxFQUFZSCxFQUFtQkksRUFBWUMsRUFDekQsT0FBQU4sR0FBY3ByRSxFQUNQQSxDQUNWLENBQUEsQ0FBQyxFQUNGLE9BQUFvckUsR0FBYyxFQUNQLENBQUUsV0FBQUEsRUFBWSxnQkFBQUcsRUFDeEIsQ0FDRCxNQUFNLG9CQUFvQnJqRCxFQUFTaHdCLEVBQVMsQ0FDeEMsTUFBTXlqQyxFQUFpQixLQUFLLGtCQUFrQnpqQyxDQUFPLEVBQ3JELE9BQU8sS0FBSyxPQUFPLEtBQUssU0FBWSxDQUNoQyxHQUFJLENBRUEsT0FEWSxNQUFNLEtBQUssT0FBTyxLQUFLLFlBQVksT0FBT2d3QixFQUFTeVQsQ0FBYyxDQUVoRixPQUNNcGYsRUFBRyxDQUVOLE1BRGMyZSxHQUFzQjNlLENBQUMsQ0FFeEMsQ0FDYixDQUFTLENBQ0osQ0FDRCxrQkFBa0Jya0IsRUFBUyxDQUN2QixHQUFJLENBQUMsS0FBSyxPQUFRLENBQ2QsTUFBTTBqQyxFQUF1QixDQUN6Qiw2QkFBOEIsS0FBSyw2QkFDbkMsMkJBQTRCLEtBQUssMkJBQ2pDLGtCQUFtQixLQUFLLGtCQUN4QixvQkFBcUIsS0FBSyxvQkFDMUIsUUFBUyxLQUFLLGFBQWEsT0FDM0MsRUFDa0JocEIsRUFBV2dpQixHQUFZZ0gsQ0FBb0IsRUFDM0M1dEIsRUFBUyxDQUNYLEdBQUcsS0FBSyxhQUNSLFFBQVM0RSxFQUNULFFBQVMsS0FBSyxRQUNkLFdBQVksQ0FDNUIsRUFDaUI1RSxFQUFPLFNBQ1IsT0FBT0EsRUFBTyxRQUVsQixLQUFLLE9BQVMsSUFBSTZ0QixHQUFhN3RCLENBQU0sQ0FDeEMsQ0FDRCxNQUFNMnRCLEVBQWlCLENBQ25CLEdBQUcsS0FBSyxhQUNSLEdBQUd6akMsQ0FDZixFQUNRLE9BQUksS0FBSyxvQkFDTHlqQyxFQUFlLFFBQVUsQ0FDckIsVUFBVyxLQUFLLGtCQUNoQixHQUFHQSxFQUFlLE9BQ2xDLEVBQ1lBLEVBQWUsTUFBUSxDQUNuQixjQUFlLEtBQUssc0JBQ3BCLEdBQUdBLEVBQWUsS0FDbEMsR0FFZUEsQ0FDVixDQUNELFVBQVcsQ0FDUCxNQUFPLFFBQ1YsQ0FFRCxxQkFBcUJ5dUMsRUFBWSxDQUM3QixPQUFPQSxFQUFXLE9BQU8sQ0FBQzVrRSxFQUFLZzFCLEtBQ3ZCQSxHQUFhQSxFQUFVLGFBQ3ZCaDFCLEVBQUksV0FBVyxrQkFDWGcxQixFQUFVLFdBQVcsa0JBQW9CLEVBQzdDaDFCLEVBQUksV0FBVyxjQUFnQmcxQixFQUFVLFdBQVcsY0FBZ0IsRUFDcEVoMUIsRUFBSSxXQUFXLGFBQWVnMUIsRUFBVSxXQUFXLGFBQWUsR0FFL0RoMUIsR0FDUixDQUNDLFdBQVksQ0FDUixpQkFBa0IsRUFDbEIsYUFBYyxFQUNkLFlBQWEsQ0FDaEIsQ0FDYixDQUFTLENBQ0osQ0FDTCIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDQ5LDUwLDUxLDUyLDUzLDU0LDU1LDU2LDU3LDU4LDU5LDYwLDYxLDYyLDYzLDY0LDY1LDY2LDY3LDY4LDY5LDcwLDcxLDcyLDczLDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgxLDgyLDgzLDg0LDg1LDg2LDg3LDg4LDg5LDkwLDkxLDkyLDkzLDk0LDk1LDk2LDk3LDk4LDk5LDEwMCwxMDEsMTAyLDEwMywxMDQsMTA1LDEwNiwxMDcsMTA4LDEwOSwxMTAsMTExLDExMiwxMTMsMTE0LDExNSwxMTYsMTE3LDExOCwxMTksMTIwLDEyMSwxMjIsMTIzLDEyNCwxMjUsMTI2LDEyNywxMjgsMTI5LDEzMCwxMzEsMTMyLDEzMywxMzQsMTM1LDEzNiwxMzcsMTM4LDEzOSwxNDAsMTQxLDE0MiwxNDMsMTQ0LDE0NSwxNDYsMTQ3LDE0OCwxNDksMTUwLDE1MSwxNTIsMTUzLDE1NCwxNTUsMTU2LDE1NywxNTgsMTU5LDE2NCwxNjUsMTcxLDE3MiwxNzMsMTc0LDE3NSwxNzYsMTc3LDE3OCwxNzksMTgwLDE4MSwxODIsMTgzLDE4NCwxODUsMTg2LDE4NywxODgsMTg5LDE5MCwxOTEsMTkyLDE5MywxOTQsMTk1LDE5NiwxOTcsMTk4LDE5OSwyMDAsMjAxLDIwMiwyMDMsMjA0LDIwNSwyMDYsMjA3LDIwOCwyMDksMjEwLDIxMSwyMTIsMjEzLDIxNCwyMTUsMjE2LDIxNywyMThdfQ==
