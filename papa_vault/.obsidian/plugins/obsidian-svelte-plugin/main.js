"use strict";var Pc=Object.defineProperty;var Oc=(r,e,t)=>e in r?Pc(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ee=(r,e,t)=>(Oc(r,typeof e!="symbol"?e+"":e,t),t);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const Ke=require("obsidian"),xc=require("electron"),Sc=require("stream");function qe(){}function ft(r,e){for(const t in e)r[t]=e[t];return r}function fo(r){return r()}function $s(){return Object.create(null)}function It(r){r.forEach(fo)}function Lt(r){return typeof r=="function"}function At(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function Cc(r){return Object.keys(r).length===0}function kc(r,...e){if(r==null){for(const n of e)n(void 0);return qe}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Di(r,e,t){r.$$.on_destroy.push(kc(e,t))}function Nc(r,e,t,n){if(r){const i=ho(r,e,t,n);return r[0](i)}}function ho(r,e,t,n){return r[1]&&n?ft(t.ctx.slice(),r[1](n(e))):t.ctx}function Rc(r,e,t,n){if(r[2]&&n){const i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],a=Math.max(e.dirty.length,i.length);for(let o=0;o<a;o+=1)s[o]=e.dirty[o]|i[o];return s}return e.dirty|i}return e.dirty}function Dc(r,e,t,n,i,s){if(i){const a=ho(e,t,n,s);r.p(a,i)}}function jc(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function Qt(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function po(r){return r&&Lt(r.destroy)?r.destroy:qe}function Ne(r,e){r.appendChild(e)}function tt(r,e,t){r.insertBefore(e,t||null)}function Ge(r){r.parentNode&&r.parentNode.removeChild(r)}function We(r){return document.createElement(r)}function Rr(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Qi(r){return document.createTextNode(r)}function Ut(){return Qi(" ")}function ji(){return Qi("")}function Er(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function Li(r){return function(e){return e.preventDefault(),r.call(this,e)}}function Ae(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Lc(r){return Array.from(r.childNodes)}function Uc(r,e){e=""+e,r.data!==e&&(r.data=e)}function zs(r,e){r.value=e??""}function Jr(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}let es;function Tr(r){es=r}const Kt=[],Bs=[];let Gt=[];const Zs=[],Mc=Promise.resolve();let Ui=!1;function $c(){Ui||(Ui=!0,Mc.then(mo))}function Mi(r){Gt.push(r)}const fi=new Set;let Bt=0;function mo(){if(Bt!==0)return;const r=es;do{try{for(;Bt<Kt.length;){const e=Kt[Bt];Bt++,Tr(e),zc(e.$$)}}catch(e){throw Kt.length=0,Bt=0,e}for(Tr(null),Kt.length=0,Bt=0;Bs.length;)Bs.pop()();for(let e=0;e<Gt.length;e+=1){const t=Gt[e];fi.has(t)||(fi.add(t),t())}Gt.length=0}while(Kt.length);for(;Zs.length;)Zs.pop()();Ui=!1,fi.clear(),Tr(r)}function zc(r){if(r.fragment!==null){r.update(),It(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Mi)}}function Bc(r){const e=[],t=[];Gt.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Gt=e}const Xr=new Set;let Rt;function go(){Rt={r:0,c:[],p:Rt}}function yo(){Rt.r||It(Rt.c),Rt=Rt.p}function He(r,e){r&&r.i&&(Xr.delete(r),r.i(e))}function Ye(r,e,t,n){if(r&&r.o){if(Xr.has(r))return;Xr.add(r),Rt.c.push(()=>{Xr.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function Vs(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Zc(r,e){Ye(r,1,1,()=>{e.delete(r.key)})}function Vc(r,e,t,n,i,s,a,o,u,c,d,f){let m=r.length,b=s.length,g=m;const _={};for(;g--;)_[r[g].key]=g;const h=[],T=new Map,j=new Map,S=[];for(g=b;g--;){const C=f(i,s,g),v=t(C);let A=a.get(v);A?n&&S.push(()=>A.p(C,e)):(A=c(v,C),A.c()),T.set(v,h[g]=A),v in _&&j.set(v,Math.abs(g-_[v]))}const R=new Set,M=new Set;function O(C){He(C,1),C.m(o,d),a.set(C.key,C),d=C.first,b--}for(;m&&b;){const C=h[b-1],v=r[m-1],A=C.key,I=v.key;C===v?(d=C.first,m--,b--):T.has(I)?!a.has(A)||R.has(A)?O(C):M.has(I)?m--:j.get(A)>j.get(I)?(M.add(A),O(C)):(R.add(I),m--):(u(v,a),m--)}for(;m--;){const C=r[m];T.has(C.key)||u(C,a)}for(;b;)O(h[b-1]);return It(S),h}function ts(r,e){const t={},n={},i={$$scope:1};let s=r.length;for(;s--;){const a=r[s],o=e[s];if(o){for(const u in a)u in o||(n[u]=1);for(const u in o)i[u]||(t[u]=o[u],i[u]=1);r[s]=o}else for(const u in a)i[u]=1}for(const a in n)a in t||(t[a]=void 0);return t}function rs(r){return typeof r=="object"&&r!==null?r:{}}function wt(r){r&&r.c()}function mt(r,e,t){const{fragment:n,after_update:i}=r.$$;n&&n.m(e,t),Mi(()=>{const s=r.$$.on_mount.map(fo).filter(Lt);r.$$.on_destroy?r.$$.on_destroy.push(...s):It(s),r.$$.on_mount=[]}),i.forEach(Mi)}function gt(r,e){const t=r.$$;t.fragment!==null&&(Bc(t.after_update),It(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Fc(r,e){r.$$.dirty[0]===-1&&(Kt.push(r),$c(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function $t(r,e,t,n,i,s,a=null,o=[-1]){const u=es;Tr(r);const c=r.$$={fragment:null,ctx:[],props:s,update:qe,not_equal:i,bound:$s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:$s(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};a&&a(c.root);let d=!1;if(c.ctx=t?t(r,e.props||{},(f,m,...b)=>{const g=b.length?b[0]:m;return c.ctx&&i(c.ctx[f],c.ctx[f]=g)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](g),d&&Fc(r,f)),m}):[],c.update(),d=!0,It(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=Lc(e.target);c.fragment&&c.fragment.l(f),f.forEach(Ge)}else c.fragment&&c.fragment.c();e.intro&&He(r.$$.fragment),mt(r,e.target,e.anchor),mo()}Tr(u)}class zt{constructor(){Ee(this,"$$");Ee(this,"$$set")}$destroy(){gt(this,1),this.$destroy=qe}$on(e,t){if(!Lt(t))return qe;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Cc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Kc="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Kc);function Fs(r){let e,t;return{c(){e=Rr("title"),t=Qi(r[0])},m(n,i){tt(n,e,i),Ne(e,t)},p(n,i){i&1&&Uc(t,n[0])},d(n){n&&Ge(e)}}}function qc(r){let e,t,n,i=r[0]&&Fs(r);const s=r[3].default,a=Nc(s,r,r[2],null);return{c(){e=Rr("svg"),i&&i.c(),t=ji(),a&&a.c(),Ae(e,"xmlns","http://www.w3.org/2000/svg"),Ae(e,"viewBox",r[1]),Ae(e,"class","svelte-c8tyih")},m(o,u){tt(o,e,u),i&&i.m(e,null),Ne(e,t),a&&a.m(e,null),n=!0},p(o,[u]){o[0]?i?i.p(o,u):(i=Fs(o),i.c(),i.m(e,t)):i&&(i.d(1),i=null),a&&a.p&&(!n||u&4)&&Dc(a,s,o,o[2],n?Rc(s,o[2],u,null):jc(o[2]),null),(!n||u&2)&&Ae(e,"viewBox",o[1])},i(o){n||(He(a,o),n=!0)},o(o){Ye(a,o),n=!1},d(o){o&&Ge(e),i&&i.d(),a&&a.d(o)}}}function Hc(r,e,t){let{$$slots:n={},$$scope:i}=e,{title:s=null}=e,{viewBox:a}=e;return r.$$set=o=>{"title"in o&&t(0,s=o.title),"viewBox"in o&&t(1,a=o.viewBox),"$$scope"in o&&t(2,i=o.$$scope)},[s,a,i,n]}class ns extends zt{constructor(e){super(),$t(this,e,Hc,qc,At,{title:0,viewBox:1})}}function Wc(r){let e;return{c(){e=Rr("path"),Ae(e,"d","M2.01 21L23 12 2.01 3 2 10l15 2-15 2z")},m(t,n){tt(t,e,n)},p:qe,d(t){t&&Ge(e)}}}function Gc(r){let e,t;const n=[{viewBox:"0 0 24 24"},r[0]];let i={$$slots:{default:[Wc]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=ft(i,n[s]);return e=new ns({props:i}),{c(){wt(e.$$.fragment)},m(s,a){mt(e,s,a),t=!0},p(s,[a]){const o=a&1?ts(n,[n[0],rs(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){t||(He(e.$$.fragment,s),t=!0)},o(s){Ye(e.$$.fragment,s),t=!1},d(s){gt(e,s)}}}function Yc(r,e,t){return r.$$set=n=>{t(0,e=ft(ft({},e),Qt(n)))},e=Qt(e),[e]}class Jc extends zt{constructor(e){super(),$t(this,e,Yc,Gc,At,{})}}const Zt=[];function is(r,e=qe){let t;const n=new Set;function i(o){if(At(r,o)&&(r=o,t)){const u=!Zt.length;for(const c of n)c[1](),Zt.push(c,r);if(u){for(let c=0;c<Zt.length;c+=2)Zt[c][0](Zt[c+1]);Zt.length=0}}}function s(o){i(o(r))}function a(o,u=qe){const c=[o,u];return n.add(c),n.size===1&&(t=e(i,s)||qe),o(r),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:a}}var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dn(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jn={exports:{}},bo={};function rt(r,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(r)),this._timeouts=r,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Xc=rt;rt.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};rt.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};rt.prototype.retry=function(r){if(this._timeout&&clearTimeout(this._timeout),!r)return!1;var e=new Date().getTime();if(r&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(r),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(r);var t=this._timeouts.shift();if(t===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),t=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},t),this._options.unref&&this._timer.unref(),!0};rt.prototype.attempt=function(r,e){this._fn=r,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var t=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){t._operationTimeoutCb()},t._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};rt.prototype.try=function(r){console.log("Using RetryOperation.try() is deprecated"),this.attempt(r)};rt.prototype.start=function(r){console.log("Using RetryOperation.start() is deprecated"),this.attempt(r)};rt.prototype.start=rt.prototype.try;rt.prototype.errors=function(){return this._errors};rt.prototype.attempts=function(){return this._attempts};rt.prototype.mainError=function(){if(this._errors.length===0)return null;for(var r={},e=null,t=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,a=(r[s]||0)+1;r[s]=a,a>=t&&(e=i,t=a)}return e};(function(r){var e=Xc;r.operation=function(t){var n=r.timeouts(t);return new e(n,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},r.timeouts=function(t){if(t instanceof Array)return[].concat(t);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in t)n[i]=t[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],a=0;a<n.retries;a++)s.push(this.createTimeout(a,n));return t&&t.forever&&!s.length&&s.push(this.createTimeout(a,n)),s.sort(function(o,u){return o-u}),s},r.createTimeout=function(t,n){var i=n.randomize?Math.random()+1:1,s=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,t));return s=Math.min(s,n.maxTimeout),s},r.wrap=function(t,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var s in t)typeof t[s]=="function"&&i.push(s)}for(var a=0;a<i.length;a++){var o=i[a],u=t[o];t[o]=(function(d){var f=r.operation(n),m=Array.prototype.slice.call(arguments,1),b=m.pop();m.push(function(g){f.retry(g)||(g&&(arguments[0]=f.mainError()),b.apply(this,arguments))}),f.attempt(function(){d.apply(t,m)})}).bind(t,u),t[o].options=n}}})(bo);var Qc=bo;const el=Qc,tl=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class vo extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const rl=(r,e,t)=>{const n=t.retries-(e-1);return r.attemptNumber=e,r.retriesLeft=n,r},nl=r=>tl.includes(r),wo=(r,e)=>new Promise((t,n)=>{e={onFailedAttempt:()=>{},retries:10,...e};const i=el.operation(e);i.attempt(async s=>{try{t(await r(s))}catch(a){if(!(a instanceof Error)){n(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof vo)i.stop(),n(a.originalError);else if(a instanceof TypeError&&!nl(a.message))i.stop(),n(a);else{rl(a,s,e);try{await e.onFailedAttempt(a)}catch(o){n(o);return}i.retry(a)||n(i.mainError())}}})});jn.exports=wo;jn.exports.default=wo;jn.exports.AbortError=vo;var il=jn.exports;const tn=Dn(il);let Zr;const sl=new Uint8Array(16);function al(){if(!Zr&&(Zr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Zr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zr(sl)}const ke=[];for(let r=0;r<256;++r)ke.push((r+256).toString(16).slice(1));function ol(r,e=0){return ke[r[e+0]]+ke[r[e+1]]+ke[r[e+2]]+ke[r[e+3]]+"-"+ke[r[e+4]]+ke[r[e+5]]+"-"+ke[r[e+6]]+ke[r[e+7]]+"-"+ke[r[e+8]]+ke[r[e+9]]+"-"+ke[r[e+10]]+ke[r[e+11]]+ke[r[e+12]]+ke[r[e+13]]+ke[r[e+14]]+ke[r[e+15]]}const ul=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ks={randomUUID:ul};function ht(r,e,t){if(Ks.randomUUID&&!e&&!r)return Ks.randomUUID();r=r||{};const n=r.random||(r.rng||al)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=n[i];return e}return ol(n)}var cl=function(r,e){if(typeof r!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,r.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()};const ll=Dn(cl);var _o={exports:{}};const dl=/[\p{Lu}]/u,fl=/[\p{Ll}]/u,qs=/^[\p{Lu}](?![\p{Lu}])/gu,Io=/([\p{Alpha}\p{N}_]|$)/u,Ao=/[_.\- ]+/,hl=new RegExp("^"+Ao.source),Hs=new RegExp(Ao.source+Io.source,"gu"),Ws=new RegExp("\\d+"+Io.source,"gu"),pl=(r,e,t)=>{let n=!1,i=!1,s=!1;for(let a=0;a<r.length;a++){const o=r[a];n&&dl.test(o)?(r=r.slice(0,a)+"-"+r.slice(a),n=!1,s=i,i=!0,a++):i&&s&&fl.test(o)?(r=r.slice(0,a-1)+"-"+r.slice(a-1),s=i,i=!1,n=!0):(n=e(o)===o&&t(o)!==o,s=i,i=t(o)===o&&e(o)!==o)}return r},ml=(r,e)=>(qs.lastIndex=0,r.replace(qs,t=>e(t))),gl=(r,e)=>(Hs.lastIndex=0,Ws.lastIndex=0,r.replace(Hs,(t,n)=>e(n)).replace(Ws,t=>e(t))),Eo=(r,e)=>{if(!(typeof r=="string"||Array.isArray(r)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(r)?r=r.map(s=>s.trim()).filter(s=>s.length).join("-"):r=r.trim(),r.length===0)return"";const t=e.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(e.locale),n=e.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(e.locale);return r.length===1?e.pascalCase?n(r):t(r):(r!==t(r)&&(r=pl(r,t,n)),r=r.replace(hl,""),e.preserveConsecutiveUppercase?r=ml(r,t):r=t(r),e.pascalCase&&(r=n(r.charAt(0))+r.slice(1)),gl(r,n))};_o.exports=Eo;_o.exports.default=Eo;function yl(r,e){return(e==null?void 0:e[r])||ll(r)}function bl(r,e,t){const n={};for(const i in r)Object.hasOwn(r,i)&&(n[e(i,t)]=r[i]);return n}function Gs(r){return Array.isArray(r)?[...r]:{...r}}function vl(r,e){const t=Gs(r);for(const[n,i]of Object.entries(e)){const[s,...a]=n.split(".").reverse();let o=t;for(const u of a.reverse()){if(o[u]===void 0)break;o[u]=Gs(o[u]),o=o[u]}o[s]!==void 0&&(o[s]={lc:1,type:"secret",id:[i]})}return t}function To(r){const e=Object.getPrototypeOf(r);return typeof r.lc_name=="function"&&(typeof e.lc_name!="function"||r.lc_name()!==e.lc_name())?r.lc_name():r.name}class _t{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,To(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...t){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof _t||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},t={},n=Object.keys(this.lc_kwargs).reduce((i,s)=>(i[s]=s in this?this[s]:this.lc_kwargs[s],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(t,Reflect.get(i,"lc_secrets",this)),Object.assign(n,Reflect.get(i,"lc_attributes",this));return Object.keys(t).forEach(i=>{let s=this,a=n;const[o,...u]=i.split(".").reverse();for(const c of u.reverse()){if(!(c in s)||s[c]===void 0)return;(!(c in a)||a[c]===void 0)&&(typeof s[c]=="object"&&s[c]!=null?a[c]={}:Array.isArray(s[c])&&(a[c]=[])),s=s[c],a=a[c]}o in s&&s[o]!==void 0&&(a[o]=a[o]||s[o])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:bl(Object.keys(t).length?vl(n,t):n,yl,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}class wl{}class Dr extends wl{get lc_namespace(){return["langchain","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,To(this.constructor)]}constructor(e){var t;super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:typeof process<"u"?((t=process.env)==null?void 0:t.LANGCHAIN_CALLBACKS_BACKGROUND)!=="true":!0}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever)}copy(){return new this.constructor(this)}toJSON(){return _t.prototype.toJSON.call(this)}toJSONNotImplemented(){return _t.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class t extends Dr{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:ht()}),Object.assign(this,e)}}return new t}}var ss={exports:{}};ss.exports;(function(r){const t=(s=0)=>a=>`\x1B[${38+s};5;${a}m`,n=(s=0)=>(a,o,u)=>`\x1B[${38+s};2;${a};${o};${u}m`;function i(){const s=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[o,u]of Object.entries(a)){for(const[c,d]of Object.entries(u))a[c]={open:`\x1B[${d[0]}m`,close:`\x1B[${d[1]}m`},u[c]=a[c],s.set(d[0],d[1]);Object.defineProperty(a,o,{value:u,enumerable:!1})}return Object.defineProperty(a,"codes",{value:s,enumerable:!1}),a.color.close="\x1B[39m",a.bgColor.close="\x1B[49m",a.color.ansi256=t(),a.color.ansi16m=n(),a.bgColor.ansi256=t(10),a.bgColor.ansi16m=n(10),Object.defineProperties(a,{rgbToAnsi256:{value:(o,u,c)=>o===u&&u===c?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(u/255*5)+Math.round(c/255*5),enumerable:!1},hexToRgb:{value:o=>{const u=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!u)return[0,0,0];let{colorString:c}=u.groups;c.length===3&&(c=c.split("").map(f=>f+f).join(""));const d=Number.parseInt(c,16);return[d>>16&255,d>>8&255,d&255]},enumerable:!1},hexToAnsi256:{value:o=>a.rgbToAnsi256(...a.hexToRgb(o)),enumerable:!1}}),a}Object.defineProperty(r,"exports",{enumerable:!0,get:i})})(ss);var _l=ss.exports;const Po=Dn(_l);function hi(r,e){return r&&!Array.isArray(r)&&typeof r=="object"?r:{[e]:r}}class Ln extends Dr{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}_addChildRun(e,t){e.child_runs.push(t)}async _startTrace(e){var t;if(e.parent_run_id!==void 0){const n=this.runMap.get(e.parent_run_id);n&&(this._addChildRun(n,e),n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order))}this.runMap.set(e.id,e),await((t=this.onRunCreate)==null?void 0:t.call(this,e))}async _endTrace(e){var n;const t=e.parent_run_id!==void 0&&this.runMap.get(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await((n=this.onRunUpdate)==null?void 0:n.call(this,e))}_getExecutionOrder(e){const t=e!==void 0&&this.runMap.get(e);return t?t.child_execution_order+1:1}async handleLLMStart(e,t,n,i,s,a,o,u){var b;const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...s,metadata:o}:s,m={id:n,name:u??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{prompts:t},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:a||[]};return await this._startTrace(m),await((b=this.onLLMStart)==null?void 0:b.call(this,m)),m}async handleChatModelStart(e,t,n,i,s,a,o,u){var b;const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...s,metadata:o}:s,m={id:n,name:u??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{messages:t},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:a||[]};return await this._startTrace(m),await((b=this.onLLMStart)==null?void 0:b.call(this,m)),m}async handleLLMEnd(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="llm")throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.outputs=e,n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onLLMEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleLLMError(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="llm")throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onLLMError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleChainStart(e,t,n,i,s,a,o,u){var m;const c=this._getExecutionOrder(i),d=Date.now(),f={id:n,name:u??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:t,execution_order:c,child_execution_order:c,run_type:o??"chain",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(f),await((m=this.onChainStart)==null?void 0:m.call(this,f)),f}async handleChainEnd(e,t,n,i,s){var o;const a=this.runMap.get(t);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.outputs=hi(e,"output"),a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),(s==null?void 0:s.inputs)!==void 0&&(a.inputs=hi(s.inputs,"input")),await((o=this.onChainEnd)==null?void 0:o.call(this,a)),await this._endTrace(a),a}async handleChainError(e,t,n,i,s){var o;const a=this.runMap.get(t);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.error=e.message,a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),(s==null?void 0:s.inputs)!==void 0&&(a.inputs=hi(s.inputs,"input")),await((o=this.onChainError)==null?void 0:o.call(this,a)),await this._endTrace(a),a}async handleToolStart(e,t,n,i,s,a,o){var f;const u=this._getExecutionOrder(i),c=Date.now(),d={id:n,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{input:t},execution_order:u,child_execution_order:u,run_type:"tool",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(d),await((f=this.onToolStart)==null?void 0:f.call(this,d)),d}async handleToolEnd(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="tool")throw new Error("No tool run to end");return n.end_time=Date.now(),n.outputs={output:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleToolError(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="tool")throw new Error("No tool run to end");return n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleAgentAction(e,t){var s;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="chain")return;const i=n;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((s=this.onAgentAction)==null?void 0:s.call(this,n))}async handleAgentEnd(e,t){var i;const n=this.runMap.get(t);!n||(n==null?void 0:n.run_type)!=="chain"||(n.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,n)))}async handleRetrieverStart(e,t,n,i,s,a,o){var f;const u=this._getExecutionOrder(i),c=Date.now(),d={id:n,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{query:t},execution_order:u,child_execution_order:u,run_type:"retriever",child_runs:[],extra:a?{metadata:a}:{},tags:s||[]};return await this._startTrace(d),await((f=this.onRetrieverStart)==null?void 0:f.call(this,d)),d}async handleRetrieverEnd(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="retriever")throw new Error("No retriever run to end");return n.end_time=Date.now(),n.outputs={documents:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleRetrieverError(e,t){var i;const n=this.runMap.get(t);if(!n||(n==null?void 0:n.run_type)!=="retriever")throw new Error("No retriever run to end");return n.end_time=Date.now(),n.error=e.message,n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleText(e,t){var i;const n=this.runMap.get(t);!n||(n==null?void 0:n.run_type)!=="chain"||(n.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,n)))}async handleLLMNewToken(e,t,n,i,s,a){var u;const o=this.runMap.get(n);if(!o||(o==null?void 0:o.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:t,chunk:a==null?void 0:a.chunk}}),await((u=this.onLLMNewToken)==null?void 0:u.call(this,o,e)),o}}function ze(r,e){return`${r.open}${e}${r.close}`}function nt(r,e){try{return JSON.stringify(r,null,2)}catch{return e}}function yt(r){if(!r.end_time)return"";const e=r.end_time-r.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:Fe}=Po;class Ys extends Ln{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const t=[];let n=e;for(;n.parent_run_id;){const i=this.runMap.get(n.parent_run_id);if(i)t.push(i),n=i;else break}return t}getBreadcrumbs(e){const n=[...this.getParents(e).reverse(),e].map((i,s,a)=>{const o=`${i.execution_order}:${i.run_type}:${i.name}`;return s===a.length-1?ze(Po.bold,o):o}).join(" > ");return ze(Fe.grey,n)}onChainStart(e){const t=this.getBreadcrumbs(e);console.log(`${ze(Fe.green,"[chain/start]")} [${t}] Entering Chain run with input: ${nt(e.inputs,"[inputs]")}`)}onChainEnd(e){const t=this.getBreadcrumbs(e);console.log(`${ze(Fe.cyan,"[chain/end]")} [${t}] [${yt(e)}] Exiting Chain run with output: ${nt(e.outputs,"[outputs]")}`)}onChainError(e){const t=this.getBreadcrumbs(e);console.log(`${ze(Fe.red,"[chain/error]")} [${t}] [${yt(e)}] Chain run errored with error: ${nt(e.error,"[error]")}`)}onLLMStart(e){const t=this.getBreadcrumbs(e),n="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${ze(Fe.green,"[llm/start]")} [${t}] Entering LLM run with input: ${nt(n,"[inputs]")}`)}onLLMEnd(e){const t=this.getBreadcrumbs(e);console.log(`${ze(Fe.cyan,"[llm/end]")} [${t}] [${yt(e)}] Exiting LLM run with output: ${nt(e.outputs,"[response]")}`)}onLLMError(e){const t=this.getBreadcrumbs(e);console.log(`${ze(Fe.red,"[llm/error]")} [${t}] [${yt(e)}] LLM run errored with error: ${nt(e.error,"[error]")}`)}onToolStart(e){var n;const t=this.getBreadcrumbs(e);console.log(`${ze(Fe.green,"[tool/start]")} [${t}] Entering Tool run with input: "${(n=e.inputs.input)==null?void 0:n.trim()}"`)}onToolEnd(e){var n,i;const t=this.getBreadcrumbs(e);console.log(`${ze(Fe.cyan,"[tool/end]")} [${t}] [${yt(e)}] Exiting Tool run with output: "${(i=(n=e.outputs)==null?void 0:n.output)==null?void 0:i.trim()}"`)}onToolError(e){const t=this.getBreadcrumbs(e);console.log(`${ze(Fe.red,"[tool/error]")} [${t}] [${yt(e)}] Tool run errored with error: ${nt(e.error,"[error]")}`)}onRetrieverStart(e){const t=this.getBreadcrumbs(e);console.log(`${ze(Fe.green,"[retriever/start]")} [${t}] Entering Retriever run with input: ${nt(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const t=this.getBreadcrumbs(e);console.log(`${ze(Fe.cyan,"[retriever/end]")} [${t}] [${yt(e)}] Exiting Retriever run with output: ${nt(e.outputs,"[outputs]")}`)}onRetrieverError(e){const t=this.getBreadcrumbs(e);console.log(`${ze(Fe.red,"[retriever/error]")} [${t}] [${yt(e)}] Retriever run errored with error: ${nt(e.error,"[error]")}`)}onAgentAction(e){const t=e,n=this.getBreadcrumbs(e);console.log(`${ze(Fe.blue,"[agent/action]")} [${n}] Agent selected action: ${nt(t.actions[t.actions.length-1],"[action]")}`)}}var Oo={},xo={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var b=new i(d,f||u,m),g=t?t+c:c;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],b]:u._events[g].push(b):(u._events[g]=b,u._eventsCount++),u}function a(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=t?t+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,b=f.length,g=new Array(b);m<b;m++)g[m]=f[m].fn;return g},o.prototype.listenerCount=function(c){var d=t?t+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,m,b,g){var _=t?t+c:c;if(!this._events[_])return!1;var h=this._events[_],T=arguments.length,j,S;if(h.fn){switch(h.once&&this.removeListener(c,h.fn,void 0,!0),T){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,d),!0;case 3:return h.fn.call(h.context,d,f),!0;case 4:return h.fn.call(h.context,d,f,m),!0;case 5:return h.fn.call(h.context,d,f,m,b),!0;case 6:return h.fn.call(h.context,d,f,m,b,g),!0}for(S=1,j=new Array(T-1);S<T;S++)j[S-1]=arguments[S];h.fn.apply(h.context,j)}else{var R=h.length,M;for(S=0;S<R;S++)switch(h[S].once&&this.removeListener(c,h[S].fn,void 0,!0),T){case 1:h[S].fn.call(h[S].context);break;case 2:h[S].fn.call(h[S].context,d);break;case 3:h[S].fn.call(h[S].context,d,f);break;case 4:h[S].fn.call(h[S].context,d,f,m);break;default:if(!j)for(M=1,j=new Array(T-1);M<T;M++)j[M-1]=arguments[M];h[S].fn.apply(h[S].context,j)}}return!0},o.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,m){var b=t?t+c:c;if(!this._events[b])return this;if(!d)return a(this,b),this;var g=this._events[b];if(g.fn)g.fn===d&&(!m||g.once)&&(!f||g.context===f)&&a(this,b);else{for(var _=0,h=[],T=g.length;_<T;_++)(g[_].fn!==d||m&&!g[_].once||f&&g[_].context!==f)&&h.push(g[_]);h.length?this._events[b]=h.length===1?h[0]:h:a(this,b)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=t?t+c:c,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,r.exports=o})(xo);var Il=xo.exports,Un={exports:{}},Al=(r,e)=>(e=e||(()=>{}),r.then(t=>new Promise(n=>{n(e())}).then(()=>t),t=>new Promise(n=>{n(e())}).then(()=>{throw t})));const El=Al;class So extends Error{constructor(e){super(e),this.name="TimeoutError"}}const Co=(r,e,t)=>new Promise((n,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){n(r);return}const s=setTimeout(()=>{if(typeof t=="function"){try{n(t())}catch(u){i(u)}return}const a=typeof t=="string"?t:`Promise timed out after ${e} milliseconds`,o=t instanceof Error?t:new So(a);typeof r.cancel=="function"&&r.cancel(),i(o)},e);El(r.then(n,i),()=>{clearTimeout(s)})});Un.exports=Co;Un.exports.default=Co;Un.exports.TimeoutError=So;var Tl=Un.exports,as={},os={};Object.defineProperty(os,"__esModule",{value:!0});function Pl(r,e,t){let n=0,i=r.length;for(;i>0;){const s=i/2|0;let a=n+s;t(r[a],e)<=0?(n=++a,i-=s+1):i=s}return n}os.default=Pl;Object.defineProperty(as,"__esModule",{value:!0});const Ol=os;class xl{constructor(){this._queue=[]}enqueue(e,t){t=Object.assign({priority:0},t);const n={priority:t.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority){this._queue.push(n);return}const i=Ol.default(this._queue,n,(s,a)=>a.priority-s.priority);this._queue.splice(i,0,n)}dequeue(){const e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(t=>t.run)}get size(){return this._queue.length}}as.default=xl;Object.defineProperty(Oo,"__esModule",{value:!0});const Sl=Il,ko=Tl,Cl=as,Vr=()=>{},kl=new ko.TimeoutError;class Nl extends Sl{constructor(e){var t,n,i,s;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Vr,this._resolveIdle=Vr,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:Cl.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(t=e.intervalCap)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Vr,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Vr,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(this._intervalId===void 0){const t=this._intervalEnd-e;if(t<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return t?(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((n,i)=>{const s=async()=>{this._pendingCount++,this._intervalCount++;try{const a=this._timeout===void 0&&t.timeout===void 0?e():ko.default(Promise.resolve(e()),t.timeout===void 0?this._timeout:t.timeout,()=>{(t.throwOnTimeout===void 0?this._throwOnTimeout:t.throwOnTimeout)&&i(kl)});n(await a)}catch(a){i(a)}this._next()};this._queue.enqueue(s,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async n=>this.add(n,t)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var pt=Oo.default=Nl;const Rl=[400,401,403,404,405,406,407,408,409];let Dl=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6;const t="default"in pt?pt.default:pt;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>tn(()=>e(...t).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt(n){var s;if(n.message.startsWith("Cancel")||n.message.startsWith("TimeoutError")||n.message.startsWith("AbortError")||(n==null?void 0:n.code)==="ECONNABORTED")throw n;const i=(s=n==null?void 0:n.response)==null?void 0:s.status;if(i&&Rl.includes(+i))throw n},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...n){return e.signal?Promise.race([this.call(t,...n),new Promise((i,s)=>{var a;(a=e.signal)==null||a.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(t,...n)}fetch(...e){return this.call(()=>fetch(...e).then(t=>t.ok?t:Promise.reject(t)))}};function Js(r){return typeof(r==null?void 0:r._getType)=="function"}function Xs(r){const e={type:r._getType(),data:{content:r.content}};return r!=null&&r.additional_kwargs&&Object.keys(r.additional_kwargs).length>0&&(e.data.additional_kwargs={...r.additional_kwargs}),e}const jl=()=>typeof window<"u"&&typeof window.document<"u",Ll=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Ul=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),No=()=>typeof Deno<"u",Ml=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!No(),$l=()=>{let r;return jl()?r="browser":Ml()?r="node":Ll()?r="webworker":Ul()?r="jsdom":No()?r="deno":r="other",r};let pi;async function zl(){if(pi===void 0){const r=$l(),e=Bl();pi={library:"langsmith",runtime:r,...e}}return pi}function Yt(r){var e;try{return typeof process<"u"?(e=process.env)==null?void 0:e[r]:void 0}catch{return}}let mi;function Bl(){if(mi!==void 0)return mi;const r=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const t of r){const n=Yt(t);n!==void 0&&(e[t]=n)}return mi=e,e}const Qs=r=>{const t=r.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return t==="localhost"||t==="127.0.0.1"||t==="::1"},Et=async(r,e)=>{const t=await r.text();if(!r.ok)throw new Error(`Failed to ${e}: ${r.status} ${r.statusText} ${t}`)};async function Zl(r){const e=[];for await(const t of r)e.push(t);return e}function gi(r){if(r!==void 0)return r.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}function ea(r){return Yt("LANGCHAIN_HIDE_INPUTS")==="true"?{}:r}function ta(r){return Yt("LANGCHAIN_HIDE_OUTPUTS")==="true"?{}:r}class us{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null});const t=us.getDefaultClientConfig();this.apiUrl=gi(e.apiUrl??t.apiUrl)??"",this.apiKey=gi(e.apiKey??t.apiKey),this.webUrl=gi(e.webUrl??t.webUrl),this.validateApiKeyIfHosted(),this.timeout_ms=e.timeout_ms??4e3,this.caller=new Dl(e.callerOptions??{})}static getDefaultClientConfig(){const e=Yt("LANGCHAIN_API_KEY");return{apiUrl:Yt("LANGCHAIN_ENDPOINT")??(e?"https://api.smith.langchain.com":"http://localhost:1984"),apiKey:e,webUrl:void 0}}validateApiKeyIfHosted(){if(!Qs(this.apiUrl)&&!this.apiKey)throw new Error("API key must be provided when using hosted LangSmith API")}getHostUrl(){return this.webUrl?this.webUrl:Qs(this.apiUrl)?(this.webUrl="http://localhost","http://localhost"):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com","https://dev.smith.langchain.com"):(this.webUrl="https://smith.langchain.com","https://smith.langchain.com")}get headers(){const e={};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}async _getResponse(e,t){const n=(t==null?void 0:t.toString())??"",i=`${this.apiUrl}${e}?${n}`,s=await this.caller.call(fetch,i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok)throw new Error(`Failed to fetch ${e}: ${s.status} ${s.statusText}`);return s}async _get(e,t){return(await this._getResponse(e,t)).json()}async*_getPaginated(e,t=new URLSearchParams){let n=Number(t.get("offset"))||0;const i=Number(t.get("limit"))||100;for(;;){t.set("offset",String(n)),t.set("limit",String(i));const s=`${this.apiUrl}${e}?${t}`,a=await this.caller.call(fetch,s,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!a.ok)throw new Error(`Failed to fetch ${e}: ${a.status} ${a.statusText}`);const o=await a.json();if(o.length===0||(yield o,o.length<i))break;n+=o.length}}async createRun(e){const t={...this.headers,"Content-Type":"application/json"},n=e.extra??{},i=await zl(),s=e.project_name;delete e.project_name;const a={session_name:s,...e,extra:{...e.extra,runtime:{...i,...n.runtime}}};a.inputs=ea(a.inputs),a.outputs&&(a.outputs=ta(a.outputs));const o=await this.caller.call(fetch,`${this.apiUrl}/runs`,{method:"POST",headers:t,body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms)});await Et(o,"create run")}async updateRun(e,t){t.inputs&&(t.inputs=ea(t.inputs)),t.outputs&&(t.outputs=ta(t.outputs));const n={...this.headers,"Content-Type":"application/json"},i=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:n,body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});await Et(i,"update run")}async readRun(e,{loadChildRuns:t}={loadChildRuns:!1}){let n=await this._get(`/runs/${e}`);return t&&n.child_run_ids&&(n=await this._loadChildRuns(n)),n}async getRunUrl({runId:e,run:t,projectOpts:n}){if(t!==void 0){let i;t.session_id?i=t.session_id:n!=null&&n.projectName?i=(await this.readProject({projectName:n==null?void 0:n.projectName})).id:n!=null&&n.projectId?i=n==null?void 0:n.projectId:i=(await this.readProject({projectName:Yt("LANGCHAIN_PROJECT")||"default"})).id;const s=await this._getTenantId();return`${this.getHostUrl()}/o/${s}/projects/p/${i}/r/${t.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const t=await Zl(this.listRuns({id:e.child_run_ids})),n={},i={};t.sort((s,a)=>((s==null?void 0:s.dotted_order)??"").localeCompare((a==null?void 0:a.dotted_order)??""));for(const s of t){if(s.parent_run_id===null||s.parent_run_id===void 0)throw new Error(`Child run ${s.id} has no parent`);s.parent_run_id in n||(n[s.parent_run_id]=[]),n[s.parent_run_id].push(s),i[s.id]=s}e.child_runs=n[e.id]||[];for(const s in n)s!==e.id&&(i[s].child_runs=n[s]);return e}async*listRuns({projectId:e,projectName:t,parentRunId:n,referenceExampleId:i,startTime:s,executionOrder:a,runType:o,error:u,id:c,limit:d,offset:f,query:m,filter:b}){const g=new URLSearchParams;let _=e;if(t){if(e)throw new Error("Only one of projectId or projectName may be given");_=(await this.readProject({projectName:t})).id}if(_&&g.append("session",_),n&&g.append("parent_run",n),i&&g.append("reference_example",i),s&&g.append("start_time",s.toISOString()),a&&g.append("execution_order",a.toString()),o&&g.append("run_type",o),u!==void 0&&g.append("error",u.toString()),c!==void 0)for(const h of c)g.append("id",h);d!==void 0&&g.append("limit",d.toString()),f!==void 0&&g.append("offset",f.toString()),m!==void 0&&g.append("query",m),b!==void 0&&g.append("filter",b);for await(const h of this._getPaginated("/runs",g))yield*h}async shareRun(e,{shareId:t}={}){const n={run_id:e,share_token:t||ht()},s=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms)})).json();if(s===null||!("share_token"in s))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${s.share_token}/r`}async unshareRun(e){const t=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Et(t,"unshare run")}async readRunSharedLink(e){const n=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json();if(!(n===null||!("share_token"in n)))return`${this.getHostUrl()}/public/${n.share_token}/r`}async listSharedRuns(e,{runIds:t}={}){const n=new URLSearchParams({share_token:e});if(t!==void 0)for(const a of t)n.append("id",a);return await(await this.caller.call(fetch,`${this.apiUrl}/public/${e}/runs${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json()}async readDatasetSharedSchema(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:t})).id);const i=await(await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:t})).id);const n={dataset_id:e},s=await(await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms)})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async unshareDataset(e){const t=await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Et(t,"unshare dataset")}async readSharedDataset(e){return await(await this.caller.call(fetch,`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json()}async createProject({projectName:e,projectExtra:t,upsert:n,referenceDatasetId:i}){const s=n?"?upsert=true":"",a=`${this.apiUrl}/sessions${s}`,o={name:e};t!==void 0&&(o.extra=t),i!==void 0&&(o.reference_dataset_id=i);const u=await this.caller.call(fetch,a,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms)}),c=await u.json();if(!u.ok)throw new Error(`Failed to create session ${e}: ${u.status} ${u.statusText}`);return c}async readProject({projectId:e,projectName:t}){let n="/sessions";const i=new URLSearchParams;if(e!==void 0&&t!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)n+=`/${e}`;else if(t!==void 0)i.append("name",t);else throw new Error("Must provide projectName or projectId");const s=await this._get(n,i);let a;if(Array.isArray(s)){if(s.length===0)throw new Error(`Project[id=${e}, name=${t}] not found`);a=s[0]}else a=s;return a}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const t of this._getPaginated("/sessions",e))return this._tenantId=t[0].tenant_id,t[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:t,nameContains:n,referenceDatasetId:i,referenceDatasetName:s,referenceFree:a}={}){const o=new URLSearchParams;if(e!==void 0)for(const u of e)o.append("id",u);if(t!==void 0&&o.append("name",t),n!==void 0&&o.append("name_contains",n),i!==void 0)o.append("reference_dataset",i);else if(s!==void 0){const u=await this.readDataset({datasetName:s});o.append("reference_dataset",u.id)}a!==void 0&&o.append("reference_free",a.toString());for await(const u of this._getPaginated("/sessions",o))yield*u}async deleteProject({projectId:e,projectName:t}){let n;if(e===void 0&&t===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&t!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?n=(await this.readProject({projectName:t})).id:n=e;const i=await this.caller.call(fetch,`${this.apiUrl}/sessions/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Et(i,`delete session ${n} (${t})`)}async uploadCsv({csvFile:e,fileName:t,inputKeys:n,outputKeys:i,description:s,dataType:a,name:o}){const u=`${this.apiUrl}/datasets/upload`,c=new FormData;c.append("file",e,t),n.forEach(m=>{c.append("input_keys",m)}),i.forEach(m=>{c.append("output_keys",m)}),s&&c.append("description",s),a&&c.append("data_type",a),o&&c.append("name",o);const d=await this.caller.call(fetch,u,{method:"POST",headers:this.headers,body:c,signal:AbortSignal.timeout(this.timeout_ms)});if(!d.ok){const m=await d.json();throw m.detail&&m.detail.includes("already exists")?new Error(`Dataset ${t} already exists`):new Error(`Failed to upload CSV: ${d.status} ${d.statusText}`)}return await d.json()}async createDataset(e,{description:t,dataType:n}={}){const i={name:e,description:t};n&&(i.data_type=n);const s=await this.caller.call(fetch,`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok){const o=await s.json();throw o.detail&&o.detail.includes("already exists")?new Error(`Dataset ${e} already exists`):new Error(`Failed to create dataset ${s.status} ${s.statusText}`)}return await s.json()}async readDataset({datasetId:e,datasetName:t}){let n="/datasets";const i=new URLSearchParams({limit:"1"});if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)n+=`/${e}`;else if(t!==void 0)i.append("name",t);else throw new Error("Must provide datasetName or datasetId");const s=await this._get(n,i);let a;if(Array.isArray(s)){if(s.length===0)throw new Error(`Dataset[id=${e}, name=${t}] not found`);a=s[0]}else a=s;return a}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:t}){const n="/datasets";if(e===void 0)if(t!==void 0)e=(await this.readDataset({datasetName:t})).id;else throw new Error("Must provide datasetName or datasetId");return(await(await this._getResponse(`${n}/${e}/openai_ft`)).text()).trim().split(`
`).map(o=>JSON.parse(o))}async*listDatasets({limit:e=100,offset:t=0,datasetIds:n,datasetName:i,datasetNameContains:s}={}){const a="/datasets",o=new URLSearchParams({limit:e.toString(),offset:t.toString()});if(n!==void 0)for(const u of n)o.append("id",u);i!==void 0&&o.append("name",i),s!==void 0&&o.append("name_contains",s);for await(const u of this._getPaginated(a,o))yield*u}async deleteDataset({datasetId:e,datasetName:t}){let n="/datasets",i=e;if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(t!==void 0&&(i=(await this.readDataset({datasetName:t})).id),i!==void 0)n+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");const s=await this.caller.call(fetch,this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok)throw new Error(`Failed to delete ${n}: ${s.status} ${s.statusText}`);await s.json()}async createExample(e,t,{datasetId:n,datasetName:i,createdAt:s,exampleId:a}){let o=n;if(o===void 0&&i===void 0)throw new Error("Must provide either datasetName or datasetId");if(o!==void 0&&i!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");o===void 0&&(o=(await this.readDataset({datasetName:i})).id);const c={dataset_id:o,inputs:e,outputs:t,created_at:(s||new Date).toISOString(),id:a},d=await this.caller.call(fetch,`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms)});if(!d.ok)throw new Error(`Failed to create example: ${d.status} ${d.statusText}`);return await d.json()}async createLLMExample(e,t,n){return this.createExample({input:e},{output:t},n)}async createChatExample(e,t,n){const i=e.map(a=>Js(a)?Xs(a):a),s=Js(t)?Xs(t):t;return this.createExample({input:i},{output:s},n)}async readExample(e){const t=`/examples/${e}`;return await this._get(t)}async*listExamples({datasetId:e,datasetName:t,exampleIds:n}={}){let i;if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)i=e;else if(t!==void 0)i=(await this.readDataset({datasetName:t})).id;else throw new Error("Must provide a datasetName or datasetId");const s=new URLSearchParams({dataset:i});if(n!==void 0)for(const a of n)s.append("id",a);for await(const a of this._getPaginated("/examples",s))yield*a}async deleteExample(e){const t=`/examples/${e}`,n=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to delete ${t}: ${n.status} ${n.statusText}`);await n.json()}async updateExample(e,t){const n=await this.caller.call(fetch,`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to update example ${e}: ${n.status} ${n.statusText}`);return await n.json()}async evaluateRun(e,t,{sourceInfo:n,loadChildRuns:i}={loadChildRuns:!1}){let s;if(typeof e=="string")s=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)s=e;else throw new Error(`Invalid run type: ${typeof e}`);let a;s.reference_example_id!==null&&s.reference_example_id!==void 0&&(a=await this.readExample(s.reference_example_id));const o=await t.evaluateRun(s,a);let u=n??{};return o.evaluatorInfo&&(u={...u,...o.evaluatorInfo}),await this.createFeedback(s.id,o.key,{score:o.score,value:o.value,comment:o.comment,correction:o.correction,sourceInfo:u,feedbackSourceType:"model"})}async createFeedback(e,t,{score:n,value:i,correction:s,comment:a,sourceInfo:o,feedbackSourceType:u="api",sourceRunId:c,feedbackId:d,eager:f=!1}){const m={type:u??"api",metadata:o??{}};c!==void 0&&(m==null?void 0:m.metadata)!==void 0&&!m.metadata.__run&&(m.metadata.__run={run_id:c});const b={id:d??ht(),run_id:e,key:t,score:n,value:i,correction:s,comment:a,feedback_source:m},g=`${this.apiUrl}/feedback`+(f?"/eager":""),_=await this.caller.call(fetch,g,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(b),signal:AbortSignal.timeout(this.timeout_ms)});return await Et(_,"create feedback"),b}async updateFeedback(e,{score:t,value:n,correction:i,comment:s}){const a={};t!=null&&(a.score=t),n!=null&&(a.value=n),i!=null&&(a.correction=i),s!=null&&(a.comment=s);const o=await this.caller.call(fetch,`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms)});await Et(o,"update feedback")}async readFeedback(e){const t=`/feedback/${e}`;return await this._get(t)}async deleteFeedback(e){const t=`/feedback/${e}`,n=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!n.ok)throw new Error(`Failed to delete ${t}: ${n.status} ${n.statusText}`);await n.json()}async*listFeedback({runIds:e,feedbackKeys:t,feedbackSourceTypes:n}={}){const i=new URLSearchParams;if(e&&i.append("run",e.join(",")),t)for(const s of t)i.append("key",s);if(n)for(const s of n)i.append("source",s);for await(const s of this._getPaginated("/feedback",i))yield*s}}const Vl=()=>typeof window<"u"&&typeof window.document<"u",Fl=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Kl=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Ro=()=>typeof Deno<"u",ql=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Ro(),Hl=()=>{let r;return Vl()?r="browser":ql()?r="node":Fl()?r="webworker":Kl()?r="jsdom":Ro()?r="deno":r="other",r};let yi;async function Wl(){return yi===void 0&&(yi={library:"langchain-js",runtime:Hl()}),yi}function ce(r){var e;try{return typeof process<"u"?(e=process.env)==null?void 0:e[r]:void 0}catch{return}}class Gl extends Ln{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:t,projectName:n,client:i}=e;this.projectName=n??ce("LANGCHAIN_PROJECT")??ce("LANGCHAIN_SESSION"),this.exampleId=t,this.client=i??new us({})}async _convertToCreate(e,t=void 0){return{...e,extra:{...e.extra,runtime:await Wl()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:t}}async persistRun(e){}async _persistRunSingle(e){const t=await this._convertToCreate(e,this.exampleId);await this.client.createRun(t)}async _updateRunSingle(e){const t={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs};await this.client.updateRun(e.id,t)}async onRetrieverStart(e){await this._persistRunSingle(e)}async onRetrieverEnd(e){await this._updateRunSingle(e)}async onRetrieverError(e){await this._updateRunSingle(e)}async onLLMStart(e){await this._persistRunSingle(e)}async onLLMEnd(e){await this._updateRunSingle(e)}async onLLMError(e){await this._updateRunSingle(e)}async onChainStart(e){await this._persistRunSingle(e)}async onChainEnd(e){await this._updateRunSingle(e)}async onChainError(e){await this._updateRunSingle(e)}async onToolStart(e){await this._persistRunSingle(e)}async onToolEnd(e){await this._updateRunSingle(e)}async onToolError(e){await this._updateRunSingle(e)}}function Mn(r,e="Human",t="AI"){const n=[];for(const i of r){let s;if(i._getType()==="human")s=e;else if(i._getType()==="ai")s=t;else if(i._getType()==="system")s="System";else if(i._getType()==="function")s="Function";else if(i._getType()==="generic")s=i.role;else throw new Error(`Got unsupported message type: ${i}`);const a=i.name?`${i.name}, `:"";n.push(`${s}: ${a}${i.content}`)}return n.join(`
`)}class Yl extends Ln{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:ce("LANGCHAIN_ENDPOINT")||"http://localhost:1984"}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:{"Content-Type":"application/json"}}),Object.defineProperty(this,"session",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const e=ce("LANGCHAIN_API_KEY");e&&(this.headers["x-api-key"]=e)}async newSession(e){const t={start_time:Date.now(),name:e},n=await this.persistSession(t);return this.session=n,n}async loadSession(e){const t=`${this.endpoint}/sessions?name=${e}`;return this._handleSessionResponse(t)}async loadDefaultSession(){const e=`${this.endpoint}/sessions?name=default`;return this._handleSessionResponse(e)}async convertV2RunToRun(e){var s;const t=this.session??await this.loadDefaultSession(),n=e.serialized;let i;if(e.run_type==="llm"){const a=e.inputs.prompts?e.inputs.prompts:e.inputs.messages.map(u=>Mn(u));i={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,prompts:a,response:e.outputs}}else if(e.run_type==="chain"){const a=await Promise.all(e.child_runs.map(u=>this.convertV2RunToRun(u)));i={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,inputs:e.inputs,outputs:e.outputs,child_llm_runs:a.filter(u=>u.type==="llm"),child_chain_runs:a.filter(u=>u.type==="chain"),child_tool_runs:a.filter(u=>u.type==="tool")}}else if(e.run_type==="tool"){const a=await Promise.all(e.child_runs.map(u=>this.convertV2RunToRun(u)));i={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:n,type:e.run_type,session_id:t.id,tool_input:e.inputs.input,output:(s=e.outputs)==null?void 0:s.output,action:JSON.stringify(n),child_llm_runs:a.filter(u=>u.type==="llm"),child_chain_runs:a.filter(u=>u.type==="chain"),child_tool_runs:a.filter(u=>u.type==="tool")}}else throw new Error(`Unknown run type: ${e.run_type}`);return i}async persistRun(e){let t,n;e.run_type!==void 0?n=await this.convertV2RunToRun(e):n=e,n.type==="llm"?t=`${this.endpoint}/llm-runs`:n.type==="chain"?t=`${this.endpoint}/chain-runs`:t=`${this.endpoint}/tool-runs`;const i=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(n)});i.ok||console.error(`Failed to persist run: ${i.status} ${i.statusText}`)}async persistSession(e){const t=`${this.endpoint}/sessions`,n=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(e)});return n.ok?{id:(await n.json()).id,...e}:(console.error(`Failed to persist session: ${n.status} ${n.statusText}, using default session.`),{id:1,...e})}async _handleSessionResponse(e){const t=await fetch(e,{method:"GET",headers:this.headers});let n;if(!t.ok)return console.error(`Failed to load session: ${t.status} ${t.statusText}`),n={id:1,start_time:Date.now()},this.session=n,n;const i=await t.json();return i.length===0?(n={id:1,start_time:Date.now()},this.session=n,n):([n]=i,this.session=n,n)}}async function Jl(r){const e=new Yl;return r?await e.loadSession(r):await e.loadDefaultSession(),e}async function Xl(){return new Gl}let bi;function Ql(){const r="default"in pt?pt.default:pt;return new r({autoStart:!0,concurrency:1})}async function Re(r,e){e===!0?await r():(typeof bi>"u"&&(bi=Ql()),bi.add(r))}function ed(r){return r?Array.isArray(r)||"name"in r?{callbacks:r}:r:{}}class td{setHandler(e){return this.setHandlers([e])}}class $n{constructor(e,t,n,i,s,a,o,u){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:u})}async handleText(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;try{await((n=t.handleText)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleText: ${i}`)}},t.awaitHandlers)))}}class rd extends $n{getChild(e){const t=new Be(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreRetriever)try{await((n=t.handleRetrieverEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch{console.error(`Error in handler ${t.constructor.name}, handleRetriever`)}},t.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreRetriever)try{await((n=t.handleRetrieverError)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleRetrieverError: ${i}`)}},t.awaitHandlers)))}}class ra extends $n{async handleLLMNewToken(e,t,n,i,s,a){await Promise.all(this.handlers.map(o=>Re(async()=>{var u;if(!o.ignoreLLM)try{await((u=o.handleLLMNewToken)==null?void 0:u.call(o,e,t??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a))}catch(c){console.error(`Error in handler ${o.constructor.name}, handleLLMNewToken: ${c}`)}},o.awaitHandlers)))}async handleLLMError(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreLLM)try{await((n=t.handleLLMError)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleLLMError: ${i}`)}},t.awaitHandlers)))}async handleLLMEnd(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreLLM)try{await((n=t.handleLLMEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleLLMEnd: ${i}`)}},t.awaitHandlers)))}}class nd extends $n{getChild(e){const t=new Be(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e,t,n,i,s){await Promise.all(this.handlers.map(a=>Re(async()=>{var o;if(!a.ignoreChain)try{await((o=a.handleChainError)==null?void 0:o.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleChainError: ${u}`)}},a.awaitHandlers)))}async handleChainEnd(e,t,n,i,s){await Promise.all(this.handlers.map(a=>Re(async()=>{var o;if(!a.ignoreChain)try{await((o=a.handleChainEnd)==null?void 0:o.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleChainEnd: ${u}`)}},a.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleAgentAction)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleAgentAction: ${i}`)}},t.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleAgentEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleAgentEnd: ${i}`)}},t.awaitHandlers)))}}class id extends $n{getChild(e){const t=new Be(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleToolError)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleToolError: ${i}`)}},t.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(t=>Re(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleToolEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleToolEnd: ${i}`)}},t.awaitHandlers)))}}class Be extends td{constructor(e){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=[],this.inheritableHandlers=[],this._parentRunId=e}async handleLLMStart(e,t,n=void 0,i=void 0,s=void 0,a=void 0,o=void 0,u=void 0){return Promise.all(t.map(async c=>{const d=ht();return await Promise.all(this.handlers.map(f=>Re(async()=>{var m;if(!f.ignoreLLM)try{await((m=f.handleLLMStart)==null?void 0:m.call(f,e,[c],d,this._parentRunId,s,this.tags,this.metadata,u))}catch(b){console.error(`Error in handler ${f.constructor.name}, handleLLMStart: ${b}`)}},f.awaitHandlers))),new ra(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,t,n=void 0,i=void 0,s=void 0,a=void 0,o=void 0,u=void 0){return Promise.all(t.map(async c=>{const d=ht();return await Promise.all(this.handlers.map(f=>Re(async()=>{var m,b;if(!f.ignoreLLM)try{if(f.handleChatModelStart)await((m=f.handleChatModelStart)==null?void 0:m.call(f,e,[c],d,this._parentRunId,s,this.tags,this.metadata,u));else if(f.handleLLMStart){const g=Mn(c);await((b=f.handleLLMStart)==null?void 0:b.call(f,e,[g],d,this._parentRunId,s,this.tags,this.metadata,u))}}catch(g){console.error(`Error in handler ${f.constructor.name}, handleLLMStart: ${g}`)}},f.awaitHandlers))),new ra(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,t,n=ht(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(u=>Re(async()=>{var c;if(!u.ignoreChain)try{await((c=u.handleChainStart)==null?void 0:c.call(u,e,t,n,this._parentRunId,this.tags,this.metadata,i,o))}catch(d){console.error(`Error in handler ${u.constructor.name}, handleChainStart: ${d}`)}},u.awaitHandlers))),new nd(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,t,n=ht(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(u=>Re(async()=>{var c;if(!u.ignoreAgent)try{await((c=u.handleToolStart)==null?void 0:c.call(u,e,t,n,this._parentRunId,this.tags,this.metadata,o))}catch(d){console.error(`Error in handler ${u.constructor.name}, handleToolStart: ${d}`)}},u.awaitHandlers))),new id(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,t,n=ht(),i=void 0,s=void 0,a=void 0,o=void 0){return await Promise.all(this.handlers.map(u=>Re(async()=>{var c;if(!u.ignoreRetriever)try{await((c=u.handleRetrieverStart)==null?void 0:c.call(u,e,t,n,this._parentRunId,this.tags,this.metadata,o))}catch(d){console.error(`Error in handler ${u.constructor.name}, handleRetrieverStart: ${d}`)}},u.awaitHandlers))),new rd(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}addHandler(e,t=!0){this.handlers.push(e),t&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(t=>t!==e),this.inheritableHandlers=this.inheritableHandlers.filter(t=>t!==e)}setHandlers(e,t=!0){this.handlers=[],this.inheritableHandlers=[];for(const n of e)this.addHandler(n,t)}addTags(e,t=!0){this.removeTags(e),this.tags.push(...e),t&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(t=>!e.includes(t)),this.inheritableTags=this.inheritableTags.filter(t=>!e.includes(t))}addMetadata(e,t=!0){this.metadata={...this.metadata,...e},t&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const t of Object.keys(e))delete this.metadata[t],delete this.inheritableMetadata[t]}copy(e=[],t=!0){const n=new Be(this._parentRunId);for(const i of this.handlers){const s=this.inheritableHandlers.includes(i);n.addHandler(i,s)}for(const i of this.tags){const s=this.inheritableTags.includes(i);n.addTags([i],s)}for(const i of Object.keys(this.metadata)){const s=Object.keys(this.inheritableMetadata).includes(i);n.addMetadata({[i]:this.metadata[i]},s)}for(const i of e)n.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===i.name)||n.addHandler(i,t);return n}static fromHandlers(e){class t extends Dr{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:ht()}),Object.assign(this,e)}}const n=new this;return n.addHandler(new t),n}static async configure(e,t,n,i,s,a,o){let u;(e||t)&&(Array.isArray(e)||!e?(u=new Be,u.setHandlers((e==null?void 0:e.map(na))??[],!0)):u=e,u=u.copy(Array.isArray(t)?t.map(na):t==null?void 0:t.handlers,!1));const c=ce("LANGCHAIN_VERBOSE")||(o==null?void 0:o.verbose),d=ce("LANGCHAIN_TRACING_V2")==="true",f=d||(ce("LANGCHAIN_TRACING")??!1);if(c||f){if(u||(u=new Be),c&&!u.handlers.some(m=>m.name===Ys.prototype.name)){const m=new Ys;u.addHandler(m,!0)}if(f&&!u.handlers.some(m=>m.name==="langchain_tracer"))if(d)u.addHandler(await Xl(),!0);else{const m=ce("LANGCHAIN_PROJECT")&&ce("LANGCHAIN_SESSION");u.addHandler(await Jl(m),!0)}}return(n||i)&&u&&(u.addTags(n??[]),u.addTags(i??[],!1)),(s||a)&&u&&(u.addMetadata(s??{}),u.addMetadata(a??{},!1)),u}}function na(r){return"name"in r?r:Dr.fromMethods(r)}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const sd=Object.prototype.hasOwnProperty;function ad(r,e){return sd.call(r,e)}function od(r){if(Array.isArray(r)){const t=new Array(r.length);for(let n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(r);let e=[];for(let t in r)ad(r,t)&&e.push(t);return e}function er(r){switch(typeof r){case"object":return JSON.parse(JSON.stringify(r));case"undefined":return null;default:return r}}function $i(r){let e=0;const t=r.length;let n;for(;e<t;){if(n=r.charCodeAt(e),n>=48&&n<=57){e++;continue}return!1}return!0}function ud(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}function zi(r){if(r===void 0)return!0;if(r){if(Array.isArray(r)){for(let t=0,n=r.length;t<n;t++)if(zi(r[t]))return!0}else if(typeof r=="object"){const t=od(r),n=t.length;for(var e=0;e<n;e++)if(zi(r[t[e]]))return!0}}return!1}function ia(r,e){const t=[r];for(const n in e){const i=typeof e[n]=="object"?JSON.stringify(e[n],null,2):e[n];typeof i<"u"&&t.push(`${n}: ${i}`)}return t.join(`
`)}class cd extends Error{constructor(e,t,n,i,s){super(ia(e,{name:t,index:n,operation:i,tree:s})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.setPrototypeOf(this,new.target.prototype),this.message=ia(e,{name:t,index:n,operation:i,tree:s})}}const Te=cd,Ht={add:function(r,e,t){return r[e]=this.value,{newDocument:t}},remove:function(r,e,t){var n=r[e];return delete r[e],{newDocument:t,removed:n}},replace:function(r,e,t){var n=r[e];return r[e]=this.value,{newDocument:t,removed:n}},move:function(r,e,t){let n=Bi(t,this.path);n&&(n=er(n));const i=Pr(t,{op:"remove",path:this.from}).removed;return Pr(t,{op:"add",path:this.path,value:i}),{newDocument:t,removed:n}},copy:function(r,e,t){const n=Bi(t,this.from);return Pr(t,{op:"add",path:this.path,value:er(n)}),{newDocument:t}},test:function(r,e,t){return{newDocument:t,test:rn(r[e],this.value)}},_get:function(r,e,t){return this.value=r[e],{newDocument:t}}};var ld={add:function(r,e,t){return $i(e)?r.splice(e,0,this.value):r[e]=this.value,{newDocument:t,index:e}},remove:function(r,e,t){var n=r.splice(e,1);return{newDocument:t,removed:n[0]}},replace:function(r,e,t){var n=r[e];return r[e]=this.value,{newDocument:t,removed:n}},move:Ht.move,copy:Ht.copy,test:Ht.test,_get:Ht._get};function Bi(r,e){if(e=="")return r;var t={op:"_get",path:e};return Pr(r,t),t.value}function Pr(r,e,t=!1,n=!0,i=!0,s=0){if(t&&(typeof t=="function"?t(e,0,r,e.path):Zi(e,0)),e.path===""){let a={newDocument:r};if(e.op==="add")return a.newDocument=e.value,a;if(e.op==="replace")return a.newDocument=e.value,a.removed=r,a;if(e.op==="move"||e.op==="copy")return a.newDocument=Bi(r,e.from),e.op==="move"&&(a.removed=r),a;if(e.op==="test"){if(a.test=rn(r,e.value),a.test===!1)throw new Te("Test operation failed","TEST_OPERATION_FAILED",s,e,r);return a.newDocument=r,a}else{if(e.op==="remove")return a.removed=r,a.newDocument=null,a;if(e.op==="_get")return e.value=r,a;if(t)throw new Te("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,e,r);return a}}else{n||(r=er(r));const o=(e.path||"").split("/");let u=r,c=1,d=o.length,f,m,b;for(typeof t=="function"?b=t:b=Zi;;){if(m=o[c],m&&m.indexOf("~")!=-1&&(m=ud(m)),i&&(m=="__proto__"||m=="prototype"&&c>0&&o[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(t&&f===void 0&&(u[m]===void 0?f=o.slice(0,c).join("/"):c==d-1&&(f=e.path),f!==void 0&&b(e,0,r,f)),c++,Array.isArray(u)){if(m==="-")m=u.length;else{if(t&&!$i(m))throw new Te("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,e,r);$i(m)&&(m=~~m)}if(c>=d){if(t&&e.op==="add"&&m>u.length)throw new Te("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,e,r);const g=ld[e.op].call(e,u,m,r);if(g.test===!1)throw new Te("Test operation failed","TEST_OPERATION_FAILED",s,e,r);return g}}else if(c>=d){const g=Ht[e.op].call(e,u,m,r);if(g.test===!1)throw new Te("Test operation failed","TEST_OPERATION_FAILED",s,e,r);return g}if(u=u[m],t&&c<d&&(!u||typeof u!="object"))throw new Te("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,e,r)}}}function cs(r,e,t,n=!0,i=!0){if(t&&!Array.isArray(e))throw new Te("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(r=er(r));const s=new Array(e.length);for(let a=0,o=e.length;a<o;a++)s[a]=Pr(r,e[a],t,!0,i,a),r=s[a].newDocument;return s.newDocument=r,s}function Zi(r,e,t,n){if(typeof r!="object"||r===null||Array.isArray(r))throw new Te("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,r,t);if(Ht[r.op]){if(typeof r.path!="string")throw new Te("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,r,t);if(r.path.indexOf("/")!==0&&r.path.length>0)throw new Te('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,r,t);if((r.op==="move"||r.op==="copy")&&typeof r.from!="string")throw new Te("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,r,t);if((r.op==="add"||r.op==="replace"||r.op==="test")&&r.value===void 0)throw new Te("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,r,t);if((r.op==="add"||r.op==="replace"||r.op==="test")&&zi(r.value))throw new Te("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,r,t);if(t){if(r.op=="add"){var i=r.path.split("/").length,s=n.split("/").length;if(i!==s+1&&i!==s)throw new Te("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,r,t)}else if(r.op==="replace"||r.op==="remove"||r.op==="_get"){if(r.path!==n)throw new Te("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,r,t)}else if(r.op==="move"||r.op==="copy"){var a={op:"_get",path:r.from,value:void 0},o=dd([a],t);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new Te("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,r,t)}}}else throw new Te("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,r,t)}function dd(r,e,t){try{if(!Array.isArray(r))throw new Te("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)cs(er(e),er(r),t||!0);else{t=t||Zi;for(var n=0;n<r.length;n++)t(r[n],n,e,void 0)}}catch(i){if(i instanceof Te)return i;throw i}}function rn(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){var t=Array.isArray(r),n=Array.isArray(e),i,s,a;if(t&&n){if(s=r.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!rn(r[i],e[i]))return!1;return!0}if(t!=n)return!1;var o=Object.keys(r);if(s=o.length,s!==Object.keys(e).length)return!1;for(i=s;i--!==0;)if(!e.hasOwnProperty(o[i]))return!1;for(i=s;i--!==0;)if(a=o[i],!rn(r[a],e[a]))return!1;return!0}return r!==r&&e!==e}class xr extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done&&this.reader.releaseLock(),e}catch(e){throw this.reader.releaseLock(),e}}async return(){this.ensureReader();const e=this.reader.cancel();return this.reader.releaseLock(),await e,{done:!0,value:void 0}}[Symbol.asyncIterator](){return this}static fromReadableStream(e){const t=e.getReader();return new xr({start(n){return i();function i(){return t.read().then(({done:s,value:a})=>{if(s){n.close();return}return n.enqueue(a),i()})}}})}static fromAsyncGenerator(e){return new xr({async pull(t){const{value:n,done:i}=await e.next();i&&t.close(),t.enqueue(n)}})}}class Ct{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops}concat(e){const t=this.ops.concat(e.ops),n=cs({},t);return new ls({ops:t,state:n[n.length-1].newDocument})}}class ls extends Ct{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const t=this.ops.concat(e.ops),n=cs(this.state,e.ops);return new ls({ops:t,state:n[n.length-1].newDocument})}}class fd extends Ln{constructor(e){super(e),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=xr.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.parent_run_id===void 0)return!1;const t=e.tags??[];let n=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(n=n||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(n=n||t.find(i=>{var s;return(s=this.includeTags)==null?void 0:s.includes(i)})!==void 0),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(n=n&&t.every(i=>{var s;return!((s=this.excludeTags)!=null&&s.includes(i))})),n}async onRunCreate(e){var i;if(e.parent_run_id===void 0&&await this.writer.write(new Ct({ops:[{op:"replace",path:"",value:{id:e.id,streamed_output:[],final_output:void 0,logs:{}}}]})),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const t=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=t===1?e.name:`${e.name}:${t}`;const n={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output_str:[],final_output:void 0,end_time:void 0};await this.writer.write(new Ct({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:n}]}))}async onRunUpdate(e){try{const t=this.keyMapByRunId[e.id];if(t===void 0)return;const n=[{op:"add",path:`/logs/${t}/final_output`,value:e.outputs}];e.end_time!==void 0&&n.push({op:"add",path:`/logs/${t}/end_time`,value:new Date(e.end_time).toISOString()});const i=new Ct({ops:n});await this.writer.write(i)}finally{if(e.parent_run_id===void 0){const t=new Ct({ops:[{op:"replace",path:"/final_output",value:e.outputs}]});await this.writer.write(t),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,t){const n=this.keyMapByRunId[e.id];if(n===void 0)return;const i=new Ct({ops:[{op:"add",path:`/logs/${n}/streamed_output_str/-`,value:t}]});await this.writer.write(i)}}async function Mt(r){return Be.configure(r==null?void 0:r.callbacks,void 0,r==null?void 0:r.tags,void 0,r==null?void 0:r.metadata)}const hd=[400,401,402,403,404,405,406,407,408,409],pd=r=>{var t,n;if(r.message.startsWith("Cancel")||r.message.startsWith("TimeoutError")||r.name==="TimeoutError"||r.message.startsWith("AbortError")||r.name==="AbortError"||(r==null?void 0:r.code)==="ECONNABORTED")throw r;const e=((t=r==null?void 0:r.response)==null?void 0:t.status)??(r==null?void 0:r.status);if(e&&hd.includes(+e))throw r;if(((n=r==null?void 0:r.error)==null?void 0:n.code)==="insufficient_quota"){const i=new Error(r==null?void 0:r.message);throw i.name="InsufficientQuotaError",i}};class zn{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??pd;const t="default"in pt?pt.default:pt;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>tn(()=>e(...t).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...n){return e.signal?Promise.race([this.call(t,...n),new Promise((i,s)=>{var a;(a=e.signal)==null||a.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(t,...n)}fetch(...e){return this.call(()=>fetch(...e).then(t=>t.ok?t:Promise.reject(t)))}}function $e(r,e){return r&&!Array.isArray(r)&&typeof r=="object"?r:{[e]:r}}class Se extends _t{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}bind(e){return new nn({bound:this,kwargs:e,config:{}})}map(){return new ds({bound:this})}withRetry(e){return new md({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new nn({bound:this,config:e,kwargs:{}})}withFallbacks(e){return new gd({runnable:this,fallbacks:e.fallbacks})}_getOptionsList(e,t=0){if(Array.isArray(e)){if(e.length!==t)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${t} inputs`);return e}return Array.from({length:t},()=>e)}async batch(e,t,n){const i=this._getOptionsList(t??{},e.length),s=new zn({maxConcurrency:n==null?void 0:n.maxConcurrency,onFailedAttempt:o=>{throw o}}),a=e.map((o,u)=>s.call(async()=>{try{return await this.invoke(o,i[u])}catch(c){if(n!=null&&n.returnExceptions)return c;throw c}}));return Promise.all(a)}async*_streamIterator(e,t){yield this.invoke(e,t)}async stream(e,t){return xr.fromAsyncGenerator(this._streamIterator(e,t))}_separateRunnableConfigFromCallOptions(e={}){const t={callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName},n={...e};return delete n.callbacks,delete n.tags,delete n.metadata,delete n.runName,[t,n]}async _callWithConfig(e,t,n){const i=await Mt(n),s=await(i==null?void 0:i.handleChainStart(this.toJSON(),$e(t,"input"),void 0,n==null?void 0:n.runType,void 0,void 0,n==null?void 0:n.runName));let a;try{a=await e.bind(this)(t,n,s)}catch(o){throw await(s==null?void 0:s.handleChainError(o)),o}return await(s==null?void 0:s.handleChainEnd($e(a,"output"))),a}async _batchWithConfig(e,t,n,i){const s=this._getOptionsList(n??{},t.length),a=await Promise.all(s.map(Mt)),o=await Promise.all(a.map((c,d)=>c==null?void 0:c.handleChainStart(this.toJSON(),$e(t[d],"input"),void 0,s[d].runType,void 0,void 0,s[d].runName)));let u;try{u=await e(t,s,o,i)}catch(c){throw await Promise.all(o.map(d=>d==null?void 0:d.handleChainError(c))),c}return await Promise.all(o.map(c=>c==null?void 0:c.handleChainEnd($e(u,"output")))),u}async*_transformStreamWithConfig(e,t,n){let i,s=!0,a,o=!0;const u=await Mt(n);let c;const d=this.toJSON();async function*f(){for await(const b of e){if(c||(c=await(u==null?void 0:u.handleChainStart(d,{input:""},void 0,n==null?void 0:n.runType,void 0,void 0,n==null?void 0:n.runName))),s)if(i===void 0)i=b;else try{i=i.concat(b)}catch{i=void 0,s=!1}yield b}}const m=f();try{const b=t(m,c,n);for await(const g of b)if(yield g,o)if(a===void 0)a=g;else try{a=a.concat(g)}catch{a=void 0,o=!1}}catch(b){throw await(c==null?void 0:c.handleChainError(b,void 0,void 0,void 0,{inputs:$e(i,"input")})),b}await(c==null?void 0:c.handleChainEnd(a??{},void 0,void 0,void 0,{inputs:$e(i,"input")}))}_patchConfig(e={},t=void 0){const n={...e};return t!==void 0?(delete n.runName,{...n,callbacks:t}):n}pipe(e){return new Dt({first:this,last:jt(e)})}async*transform(e,t){let n;for await(const i of e)n===void 0?n=i:n=n.concat(i);yield*this._streamIterator(n,t)}async*streamLog(e,t,n){const i=new fd({...n,autoClose:!1}),s=t??{},{callbacks:a}=s;if(a===void 0)s.callbacks=[i];else if(Array.isArray(a))s.callbacks=a.concat([i]);else{const d=a.copy();d.inheritableHandlers.push(i),s.callbacks=d}const o=await this.stream(e,s);async function u(){try{for await(const d of o){const f=new Ct({ops:[{op:"add",path:"/streamed_output/-",value:d}]});await i.writer.write(f)}}finally{await i.writer.close()}}const c=u();try{for await(const d of i)yield d}finally{await c}}static isRunnable(e){return e?e.lc_runnable:!1}}class nn extends Se{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config}_mergeConfig(e){const t={...this.config};if(e)for(const n of Object.keys(e))n==="metadata"?t[n]={...t[n],...e[n]}:n==="tags"?t[n]=(t[n]??[]).concat(e[n]??[]):t[n]=e[n]??t[n];return t}bind(e){return this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,t){return this.bound.invoke(e,this._mergeConfig({...t,...this.kwargs}))}async batch(e,t,n){const i=Array.isArray(t)?t.map(s=>this._mergeConfig({...s,...this.kwargs})):this._mergeConfig({...t,...this.kwargs});return this.bound.batch(e,i,n)}async*_streamIterator(e,t){yield*this.bound._streamIterator(e,this._mergeConfig({...t,...this.kwargs}))}async stream(e,t){return this.bound.stream(e,this._mergeConfig({...t,...this.kwargs}))}async*transform(e,t){yield*this.bound.transform(e,this._mergeConfig({...t,...this.kwargs}))}static isRunnableBinding(e){return e.bound&&Se.isRunnable(e.bound)}}class ds extends Se{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new ds({bound:this.bound.bind(e)})}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}async _invoke(e,t,n){return this.bound.batch(e,this._patchConfig(t,n==null?void 0:n.getChild()))}}class md extends nn{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,t,n){const i=e>1?`retry:attempt:${e}`:void 0;return this._patchConfig(t,n==null?void 0:n.getChild(i))}async _invoke(e,t,n){return tn(i=>super.invoke(e,this._patchConfigForRetry(i,t,n)),{onFailedAttempt:this.onFailedAttempt,retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}async _batch(e,t,n,i){const s={};try{await tn(async a=>{const o=e.map((m,b)=>b).filter(m=>s[m.toString()]===void 0||s[m.toString()]instanceof Error),u=o.map(m=>e[m]),c=o.map(m=>this._patchConfigForRetry(a,t==null?void 0:t[m],n==null?void 0:n[m])),d=await super.batch(u,c,{...i,returnExceptions:!0});let f;for(let m=0;m<d.length;m+=1){const b=d[m],g=o[m];b instanceof Error&&f===void 0&&(f=b),s[g.toString()]=b}if(f)throw f;return d},{onFailedAttempt:this.onFailedAttempt,retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(a){if((i==null?void 0:i.returnExceptions)!==!0)throw a}return Object.keys(s).sort((a,o)=>parseInt(a,10)-parseInt(o,10)).map(a=>s[parseInt(a,10)])}async batch(e,t,n){return this._batchWithConfig(this._batch.bind(this),e,t,n)}}class Dt extends Se{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,t){const n=await Mt(t),i=await(n==null?void 0:n.handleChainStart(this.toJSON(),$e(e,"input"),void 0,void 0,void 0,void 0,t==null?void 0:t.runName));let s=e,a;try{const o=[this.first,...this.middle];for(let u=0;u<o.length;u+=1)s=await o[u].invoke(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${u+1}`)));a=await this.last.invoke(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${this.steps.length}`)))}catch(o){throw await(i==null?void 0:i.handleChainError(o)),o}return await(i==null?void 0:i.handleChainEnd($e(a,"output"))),a}async batch(e,t,n){const i=this._getOptionsList(t??{},e.length),s=await Promise.all(i.map(Mt)),a=await Promise.all(s.map((c,d)=>c==null?void 0:c.handleChainStart(this.toJSON(),$e(e[d],"input"),void 0,void 0,void 0,void 0,i[d].runName)));let o=e,u;try{const c=[this.first,...this.middle];for(let d=0;d<c.length;d+=1)o=await c[d].batch(o,a.map((m,b)=>this._patchConfig(i[b],m==null?void 0:m.getChild(`seq:step:${d+1}`))),n);u=await this.last.batch(o,a.map(d=>this._patchConfig(i[this.steps.length-1],d==null?void 0:d.getChild(`seq:step:${this.steps.length}`))),n)}catch(c){throw await Promise.all(a.map(d=>d==null?void 0:d.handleChainError(c))),c}return await Promise.all(a.map((c,d)=>c==null?void 0:c.handleChainEnd($e(u[d],"output")))),u}async*_streamIterator(e,t){const n=await Mt(t),i=await(n==null?void 0:n.handleChainStart(this.toJSON(),$e(e,"input"),void 0,void 0,void 0,void 0,t==null?void 0:t.runName));let s=e;const a=[this.first,...this.middle,this.last],o=Math.min(a.length-1,a.length-[...a].reverse().findIndex(d=>{var b;const f=d.transform===Se.prototype.transform,m=nn.isRunnableBinding(d)&&((b=d.bound)==null?void 0:b.transform)===Se.prototype.transform;return f||m})-1);try{const d=a.slice(0,o);for(let f=0;f<d.length;f+=1)s=await d[f].invoke(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${f+1}`)))}catch(d){throw await(i==null?void 0:i.handleChainError(d)),d}let u=!0,c;try{let d=await a[o]._streamIterator(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${o+1}`)));const f=a.slice(o+1);for(let m=0;m<f.length;m+=1)d=await f[m].transform(d,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${o+m+2}`)));for await(const m of d)if(yield m,u)if(c===void 0)c=m;else try{c=c.concat(m)}catch{c=void 0,u=!1}}catch(d){throw await(i==null?void 0:i.handleChainError(d)),d}await(i==null?void 0:i.handleChainEnd($e(c,"output")))}pipe(e){return Dt.isRunnableSequence(e)?new Dt({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last}):new Dt({first:this.first,middle:[...this.middle,this.last],last:jt(e)})}static isRunnableSequence(e){return Array.isArray(e.middle)&&Se.isRunnable(e)}static from([e,...t]){return new Dt({first:jt(e),middle:t.slice(0,-1).map(jt),last:jt(t[t.length-1])})}}class Bn extends Se{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[t,n]of Object.entries(e.steps))this.steps[t]=jt(n)}static from(e){return new Bn({steps:e})}async invoke(e,t){const n=await Mt(t),i=await(n==null?void 0:n.handleChainStart(this.toJSON(),{input:e},void 0,void 0,void 0,void 0,t==null?void 0:t.runName)),s={};try{await Promise.all(Object.entries(this.steps).map(async([a,o])=>{s[a]=await o.invoke(e,this._patchConfig(t,i==null?void 0:i.getChild(a)))}))}catch(a){throw await(i==null?void 0:i.handleChainError(a)),a}return await(i==null?void 0:i.handleChainEnd(s)),s}}class fs extends Se{static lc_name(){return"RunnableLambda"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.func=e.func}static from(e){return new fs({func:e})}async _invoke(e,t,n){let i=await this.func(e);return i&&Se.isRunnable(i)&&(i=await i.invoke(e,this._patchConfig(t,n==null?void 0:n.getChild()))),i}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}}class gd extends Se{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,t){const n=await Be.configure(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata),i=await(n==null?void 0:n.handleChainStart(this.toJSON(),$e(e,"input"),void 0,void 0,void 0,void 0,t==null?void 0:t.runName));let s;for(const a of this.runnables())try{const o=await a.invoke(e,this._patchConfig(t,i==null?void 0:i.getChild()));return await(i==null?void 0:i.handleChainEnd($e(o,"output"))),o}catch(o){s===void 0&&(s=o)}throw s===void 0?new Error("No error stored at end of fallback."):(await(i==null?void 0:i.handleChainError(s)),s)}async batch(e,t,n){if(n!=null&&n.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(t??{},e.length),s=await Promise.all(i.map(u=>Be.configure(u==null?void 0:u.callbacks,void 0,u==null?void 0:u.tags,void 0,u==null?void 0:u.metadata))),a=await Promise.all(s.map((u,c)=>u==null?void 0:u.handleChainStart(this.toJSON(),$e(e[c],"input"),void 0,void 0,void 0,void 0,i[c].runName)));let o;for(const u of this.runnables())try{const c=await u.batch(e,a.map((d,f)=>this._patchConfig(i[f],d==null?void 0:d.getChild())),n);return await Promise.all(a.map((d,f)=>d==null?void 0:d.handleChainEnd($e(c[f],"output")))),c}catch(c){o===void 0&&(o=c)}throw o?(await Promise.all(a.map(u=>u==null?void 0:u.handleChainError(o))),o):new Error("No error stored at end of fallbacks.")}}function jt(r){if(typeof r=="function")return new fs({func:r});if(Se.isRunnable(r))return r;if(!Array.isArray(r)&&typeof r=="object"){const e={};for(const[t,n]of Object.entries(r))e[t]=jt(n);return new Bn({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class yd extends Se{constructor(e){super(),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e}async invoke(e,t){const n=await this.mapper.invoke(e,t);return{...e,...n}}}class bd extends Se{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"RunnablePassthrough"}async invoke(e,t){return this._callWithConfig(n=>Promise.resolve(n),e,t)}static assign(e){return new yd(new Bn({steps:e}))}}const qt="4.4.0";class vd{constructor(e,t){this.response=e,this.controller=t,this.decoder=new wd}async*iterMessages(){if(!this.response.body)throw this.controller.abort(),new Error("Attempted to iterate over a response with no body");const e=new tr,t=Id(this.response.body);for await(const n of t)for(const i of e.decode(n)){const s=this.decoder.decode(i);s&&(yield s)}for(const n of e.flush()){const i=this.decoder.decode(n);i&&(yield i)}}async*[Symbol.asyncIterator](){let e=!1;try{for await(const t of this.iterMessages())if(!e){if(t.data.startsWith("[DONE]")){e=!0;continue}if(t.event===null)try{yield JSON.parse(t.data)}catch(n){throw console.error("Could not parse message into JSON:",t.data),console.error("From chunk:",t.raw),n}}e=!0}catch(t){if(t instanceof Error&&t.name==="AbortError")return;throw t}finally{e||this.controller.abort()}}}class wd{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,i]=_d(e,":");return i.startsWith(" ")&&(i=i.substring(1)),t==="event"?this.event=i:t==="data"&&this.data.push(i),null}}class tr{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=tr.NEWLINE_CHARS.has(t[t.length-1]||"");let i=t.split(tr.NEWLINE_REGEXP);return i.length===1&&!n?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),n||(this.buffer=[i.pop()||""]),i)}decodeText(e){var t;if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Error(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return(t=this.textDecoder)!==null&&t!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Error(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Error("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}tr.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);tr.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function _d(r,e){const t=r.indexOf(e);return t!==-1?[r.substring(0,t),e,r.substring(t+e.length)]:[r,"",""]}function Id(r){if(r[Symbol.asyncIterator])return r;const e=r.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}let Je=class Vi extends Error{constructor(e,t,n,i){super(Vi.makeMessage(t,n)),this.status=e,this.headers=i;const s=t;this.error=s,this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,t){return e!=null&&e.message?typeof e.message=="string"?e.message:JSON.stringify(e.message):e?JSON.stringify(e):t||"Unknown error occurred"}static generate(e,t,n,i){if(!e)return new jr({cause:$o(t)});const s=t==null?void 0:t.error;return e===400?new ps(e,s,n,i):e===401?new ms(e,s,n,i):e===403?new gs(e,s,n,i):e===404?new ys(e,s,n,i):e===409?new bs(e,s,n,i):e===422?new vs(e,s,n,i):e===429?new ws(e,s,n,i):e>=500?new _s(e,s,n,i):new Vi(e,s,n,i)}},sn=class extends Je{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}},jr=class extends Je{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,t&&(this.cause=t)}},hs=class extends jr{constructor(){super({message:"Request timed out."})}},ps=class extends Je{constructor(){super(...arguments),this.status=400}},ms=class extends Je{constructor(){super(...arguments),this.status=401}},gs=class extends Je{constructor(){super(...arguments),this.status=403}},ys=class extends Je{constructor(){super(...arguments),this.status=404}},bs=class extends Je{constructor(){super(...arguments),this.status=409}},vs=class extends Je{constructor(){super(...arguments),this.status=422}},ws=class extends Je{constructor(){super(...arguments),this.status=429}},_s=class extends Je{};const Ad=Object.freeze(Object.defineProperty({__proto__:null,APIConnectionError:jr,APIConnectionTimeoutError:hs,APIError:Je,APIUserAbortError:sn,AuthenticationError:ms,BadRequestError:ps,ConflictError:bs,InternalServerError:_s,NotFoundError:ys,PermissionDeniedError:gs,RateLimitError:ws,UnprocessableEntityError:vs},Symbol.toStringTag,{value:"Module"})),Ed=r=>{},Td=fetch.bind(void 0),Pd=!1,Od=FormData,sa=typeof File<"u"?File:class extends Blob{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'File' is not defined")}};async function xd(r,e){return{...e,body:new Ud(r)}}async function Sd(){throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")}function Cd(r){return!1}const Do=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function",kd=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&jo(r),jo=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",Nd=r=>kd(r)||Do(r)||Cd();async function Lo(r,e,t={}){var n,i,s;if(r=await r,Do(r)){const o=await r.blob();return e||(e=(n=new URL(r.url).pathname.split(/[\\/]/).pop())!==null&&n!==void 0?n:"unknown_file"),new sa([o],e,t)}const a=await Rd(r);if(e||(e=(i=jd(r))!==null&&i!==void 0?i:"unknown_file"),!t.type){const o=(s=a[0])===null||s===void 0?void 0:s.type;typeof o=="string"&&(t={...t,type:o})}return new sa(a,e,t)}async function Rd(r){var e;let t=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)t.push(r);else if(jo(r))t.push(await r.arrayBuffer());else if(Ld(r))for await(const n of r)t.push(n);else throw new Error(`Unexpected data type: ${typeof r}; constructor: ${(e=r==null?void 0:r.constructor)===null||e===void 0?void 0:e.name}; props: ${Dd(r)}`);return t}function Dd(r){return`[${Object.getOwnPropertyNames(r).map(t=>`"${t}"`).join(", ")}]`}function jd(r){var e;return vi(r.name)||vi(r.filename)||((e=vi(r.path))===null||e===void 0?void 0:e.split(/[\\/]/).pop())}const vi=r=>{if(typeof r=="string")return r;if(typeof Buffer<"u"&&r instanceof Buffer)return String(r)},Ld=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function";class Ud{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}const aa=r=>r&&typeof r=="object"&&r.body&&r[Symbol.toStringTag]==="MultipartBody",Sr=async r=>{const e=await Md(r.body);return xd(e,r)},Md=async r=>{const e=new Od;return await Promise.all(Object.entries(r||{}).map(([t,n])=>Fi(e,t,n))),e},Fi=async(r,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")r.append(e,String(t));else if(Nd(t)){const n=await Lo(t);r.append(e,n)}else if(Array.isArray(t))await Promise.all(t.map(n=>Fi(r,e+"[]",n)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([n,i])=>Fi(r,`${e}[${n}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}};var $d=globalThis&&globalThis.__classPrivateFieldSet||function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},zd=globalThis&&globalThis.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Fr;const Bd=2;async function Uo(r){const{response:e}=r;if(r.options.stream)return new vd(e,r.controller);const t=e.headers.get("content-type");if(t!=null&&t.includes("application/json")){const i=await e.json();return an("response",e.status,e.url,e.headers,i),i}const n=await e.text();return an("response",e.status,e.url,e.headers,n),n}class Zn extends Promise{constructor(e,t=Uo){super(n=>{n(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Zn(this.responsePromise,async t=>e(await this.parseResponse(t)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Zd{constructor({baseURL:e,maxRetries:t,timeout:n=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=wi("maxRetries",t??Bd),this.timeout=wi("timeout",n),this.httpAgent=i,this.fetch=s??Td}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Wd(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${ef()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(i=>({method:e,path:t,...i})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}return null}buildRequest(e){var t,n,i,s,a,o;const{method:u,path:c,query:d,headers:f={}}=e,m=aa(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,b=this.calculateContentLength(m),g=this.buildURL(c,d);"timeout"in e&&wi("timeout",e.timeout);const _=(t=e.timeout)!==null&&t!==void 0?t:this.timeout,h=(i=(n=e.httpAgent)!==null&&n!==void 0?n:this.httpAgent)!==null&&i!==void 0?i:Ed(),T=_+1e3;typeof((s=h==null?void 0:h.options)===null||s===void 0?void 0:s.timeout)=="number"&&T>((a=h.options.timeout)!==null&&a!==void 0?a:0)&&(h.options.timeout=T),this.idempotencyHeader&&u!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=e.idempotencyKey);const j={...b&&{"Content-Length":b},...this.defaultHeaders(e),...f};aa(e.body)&&!Pd&&delete j["Content-Type"],Object.keys(j).forEach(R=>j[R]===null&&delete j[R]);const S={method:u,...m&&{body:m},headers:j,...h&&{agent:h},signal:(o=e.signal)!==null&&o!==void 0?o:null};return this.validateHeaders(j,f),{req:S,url:g,timeout:_}}async prepareRequest(e,{url:t,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(t=>[...t])):{...e}:{}}makeStatusError(e,t,n,i){return Je.generate(e,t,n,i)}request(e,t=null){return new Zn(this.makeRequest(e,t))}async makeRequest(e,t){var n,i,s;const a=await e;t==null&&(t=(n=a.maxRetries)!==null&&n!==void 0?n:this.maxRetries);const{req:o,url:u,timeout:c}=this.buildRequest(a);if(await this.prepareRequest(o,{url:u,options:a}),an("request",u,a,o.headers),!((i=a.signal)===null||i===void 0)&&i.aborted)throw new sn;const d=new AbortController,f=await this.fetchWithTimeout(u,o,c,d).catch($o);if(f instanceof Error){if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new sn;if(t)return this.retryRequest(a,t);throw f.name==="AbortError"?new hs:new jr({cause:f})}const m=Fd(f.headers);if(!f.ok){if(t&&this.shouldRetry(f))return this.retryRequest(a,t,m);const b=await f.text().catch(()=>"Unknown"),g=Gd(b),_=g?void 0:b;throw an("response",f.status,u,m,_),this.makeStatusError(f.status,g,_,m)}return{response:f,options:a,controller:d}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new Vd(this,n,e)}buildURL(e,t){const n=Jd(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return zo(i)||(t={...i,...t}),t&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter(([t,n])=>typeof n<"u").map(([t,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(t)}=`;throw new Error(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,n,i){const{signal:s,...a}=t||{};s&&s.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),n);return this.getRequestClient().fetch(e,{signal:i.signal,...a}).finally(()=>{clearTimeout(o)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,n){var i;t-=1;const s=parseInt((n==null?void 0:n["retry-after"])||""),a=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries,o=this.calculateRetryTimeoutSeconds(t,s,a)*1e3;return await Xd(o),this.makeRequest(e,t)}calculateRetryTimeoutSeconds(e,t,n){if(Number.isInteger(t)&&t<=60)return t;const a=n-e,o=Math.min(.5*Math.pow(a-1,2),2),u=Math.random()-.5;return o+u}getUserAgent(){return`${this.constructor.name}/JS ${qt}`}}class Mo{constructor(e,t,n,i){Fr.set(this,void 0),$d(this,Fr,e,"f"),this.options=i,this.response=t,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Error("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e)t.query={...t.query,...e.params};else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[i,s]of n)e.url.searchParams.set(i,s);t.query=void 0,t.path=e.url.toString()}return await zd(this,Fr,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Fr=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class Vd extends Zn{constructor(e,t,n){super(t,async i=>new n(e,i.response,await Uo(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}const Fd=r=>new Proxy(Object.fromEntries(r.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),Kd={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0},oa=r=>typeof r=="object"&&r!==null&&!zo(r)&&Object.keys(r).every(e=>Qd(Kd,e)),qd=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qt,"X-Stainless-OS":ca(Deno.build.os),"X-Stainless-Arch":ua(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":Deno.version};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qt,"X-Stainless-OS":ca(process.platform),"X-Stainless-Arch":ua(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const r=Hd();return r?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${r.browser}`,"X-Stainless-Runtime-Version":r.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Hd(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of r){const n=t.exec(navigator.userAgent);if(n){const i=n[1]||0,s=n[2]||0,a=n[3]||0;return{browser:e,version:`${i}.${s}.${a}`}}}return null}const ua=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",ca=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let Kr;const Wd=()=>Kr??(Kr=qd()),Gd=r=>{try{return JSON.parse(r)}catch{return}},Yd=new RegExp("^(?:[a-z]+:)?//","i"),Jd=r=>Yd.test(r),Xd=r=>new Promise(e=>setTimeout(e,r)),wi=(r,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Error(`${r} must be an integer`);if(e<0)throw new Error(`${r} must be a positive integer`);return e},$o=r=>r instanceof Error?r:new Error(r),la=r=>{var e,t,n,i;if(typeof process<"u")return(t=(e=process.env)===null||e===void 0?void 0:e[r])!==null&&t!==void 0?t:void 0;if(typeof Deno<"u")return(i=(n=Deno.env)===null||n===void 0?void 0:n.get)===null||i===void 0?void 0:i.call(n,r)};function zo(r){if(!r)return!0;for(const e in r)return!1;return!0}function Qd(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function an(r,...e){typeof process<"u"&&process.env.DEBUG==="true"&&console.log(`OpenAI:DEBUG:${r}`,...e)}const ef=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)}),tf=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class Vn extends Mo{constructor(e,t,n,i){super(e,t,n,i),this.object=n.object,this.data=n.data}getPaginatedItems(){return this.data}nextPageParams(){return null}nextPageInfo(){return null}}class Is extends Mo{constructor(e,t,n,i){super(e,t,n,i),this.data=n.data}getPaginatedItems(){return this.data}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var e,t;if(!(!((e=this.data)===null||e===void 0)&&e.length))return null;const n=(t=this.data[this.data.length-1])===null||t===void 0?void 0:t.id;return n?{params:{after:n}}:null}}class Ze{constructor(e){this.client=e,this.get=e.get.bind(e),this.post=e.post.bind(e),this.patch=e.patch.bind(e),this.put=e.put.bind(e),this.delete=e.delete.bind(e),this.getAPIList=e.getAPIList.bind(e)}}class on extends Ze{create(e,t){return this.post("/audio/transcriptions",Sr({body:e,...t}))}}on||(on={});class un extends Ze{create(e,t){return this.post("/audio/translations",Sr({body:e,...t}))}}un||(un={});class cn extends Ze{constructor(){super(...arguments),this.transcriptions=new on(this.client),this.translations=new un(this.client)}}(function(r){r.Transcriptions=on,r.Translations=un})(cn||(cn={}));let ln=class extends Ze{create(e,t){var n;return this.post("/chat/completions",{body:e,...t,stream:(n=e.stream)!==null&&n!==void 0?n:!1})}};ln||(ln={});class dn extends Ze{constructor(){super(...arguments),this.completions=new ln(this.client)}}(function(r){r.Completions=ln})(dn||(dn={}));class fn extends Ze{create(e,t){var n;return this.post("/completions",{body:e,...t,stream:(n=e.stream)!==null&&n!==void 0?n:!1})}}fn||(fn={});let hn=class extends Ze{create(e,t){return this.post("/embeddings",{body:e,...t})}};hn||(hn={});class pn extends Ze{create(e,t){return this.post("/edits",{body:e,...t})}}pn||(pn={});class mn extends Ze{create(e,t){return this.post("/files",Sr({body:e,...t}))}retrieve(e,t){return this.get(`/files/${e}`,t)}list(e){return this.getAPIList("/files",Bo,e)}del(e,t){return this.delete(`/files/${e}`,t)}retrieveContent(e,t){return this.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t==null?void 0:t.headers}})}}class Bo extends Vn{}mn||(mn={});class gn extends Ze{create(e,t){return this.post("/fine-tunes",{body:e,...t})}retrieve(e,t){return this.get(`/fine-tunes/${e}`,t)}list(e){return this.getAPIList("/fine-tunes",Zo,e)}cancel(e,t){return this.post(`/fine-tunes/${e}/cancel`,t)}listEvents(e,t,n){var i;return this.get(`/fine-tunes/${e}/events`,{query:t,timeout:864e5,...n,stream:(i=t==null?void 0:t.stream)!==null&&i!==void 0?i:!1})}}class Zo extends Vn{}gn||(gn={});class yn extends Ze{create(e,t){return this.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return oa(e)?this.list({},e):this.getAPIList("/fine_tuning/jobs",Vo,{query:e,...t})}cancel(e,t){return this.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},n){return oa(t)?this.listEvents(e,{},t):this.getAPIList(`/fine_tuning/jobs/${e}/events`,Fo,{query:t,...n})}}class Vo extends Is{}class Fo extends Is{}yn||(yn={});class bn extends Ze{constructor(){super(...arguments),this.jobs=new yn(this.client)}}(function(r){r.Jobs=yn,r.FineTuningJobsPage=Vo,r.FineTuningJobEventsPage=Fo})(bn||(bn={}));class vn extends Ze{createVariation(e,t){return this.post("/images/variations",Sr({body:e,...t}))}edit(e,t){return this.post("/images/edits",Sr({body:e,...t}))}generate(e,t){return this.post("/images/generations",{body:e,...t})}}vn||(vn={});class wn extends Ze{retrieve(e,t){return this.get(`/models/${e}`,t)}list(e){return this.getAPIList("/models",Ko,e)}del(e,t){return this.delete(`/models/${e}`,t)}}class Ko extends Vn{}wn||(wn={});class _n extends Ze{create(e,t){return this.post("/moderations",{body:e,...t})}}_n||(_n={});var qo;let Pe=class extends Zd{constructor(e){var t,n,{apiKey:i=la("OPENAI_API_KEY"),organization:s=(t=la("OPENAI_ORG_ID"))!==null&&t!==void 0?t:null,...a}=e===void 0?{}:e;if(i===void 0)throw new Error("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'my apiKey' }).");const o={apiKey:i,organization:s,baseURL:"https://api.openai.com/v1",...a};if(!o.dangerouslyAllowBrowser&&tf())throw new Error(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:(n=o.timeout)!==null&&n!==void 0?n:6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new fn(this),this.chat=new dn(this),this.edits=new pn(this),this.embeddings=new hn(this),this.files=new mn(this),this.images=new vn(this),this.audio=new cn(this),this.moderations=new _n(this),this.models=new wn(this),this.fineTuning=new bn(this),this.fineTunes=new gn(this),this._options=o,this.apiKey=i,this.organization=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}};qo=Pe;Pe.OpenAI=qo;Pe.APIError=Je;Pe.APIConnectionError=jr;Pe.APIConnectionTimeoutError=hs;Pe.APIUserAbortError=sn;Pe.NotFoundError=ys;Pe.ConflictError=bs;Pe.RateLimitError=ws;Pe.BadRequestError=ps;Pe.AuthenticationError=ms;Pe.InternalServerError=_s;Pe.PermissionDeniedError=gs;Pe.UnprocessableEntityError=vs;const{APIError:Gy,APIConnectionError:Yy,APIConnectionTimeoutError:rf,APIUserAbortError:nf,NotFoundError:Jy,ConflictError:Xy,RateLimitError:Qy,BadRequestError:eb,AuthenticationError:tb,InternalServerError:rb,PermissionDeniedError:nb,UnprocessableEntityError:ib}=Ad;(function(r){r.toFile=Lo,r.fileFromPath=Sd,r.Page=Vn,r.CursorPage=Is,r.Completions=fn,r.Chat=dn,r.Edits=pn,r.Embeddings=hn,r.Files=mn,r.FileObjectsPage=Bo,r.Images=vn,r.Audio=cn,r.Moderations=_n,r.Models=wn,r.ModelsPage=Ko,r.FineTuning=bn,r.FineTunes=gn,r.FineTunesPage=Zo})(Pe||(Pe={}));var sf=Object.defineProperty,af=(r,e,t)=>e in r?sf(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,of=(r,e,t)=>(af(r,typeof e!="symbol"?e+"":e,t),t),Fn={};Fn.byteLength=lf;Fn.toByteArray=ff;Fn.fromByteArray=mf;var ot=[],et=[],uf=typeof Uint8Array<"u"?Uint8Array:Array,_i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Vt=0,cf=_i.length;Vt<cf;++Vt)ot[Vt]=_i[Vt],et[_i.charCodeAt(Vt)]=Vt;et["-".charCodeAt(0)]=62;et["_".charCodeAt(0)]=63;function Ho(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function lf(r){var e=Ho(r),t=e[0],n=e[1];return(t+n)*3/4-n}function df(r,e,t){return(e+t)*3/4-t}function ff(r){var e,t=Ho(r),n=t[0],i=t[1],s=new uf(df(r,n,i)),a=0,o=i>0?n-4:n,u;for(u=0;u<o;u+=4)e=et[r.charCodeAt(u)]<<18|et[r.charCodeAt(u+1)]<<12|et[r.charCodeAt(u+2)]<<6|et[r.charCodeAt(u+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=et[r.charCodeAt(u)]<<2|et[r.charCodeAt(u+1)]>>4,s[a++]=e&255),i===1&&(e=et[r.charCodeAt(u)]<<10|et[r.charCodeAt(u+1)]<<4|et[r.charCodeAt(u+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function hf(r){return ot[r>>18&63]+ot[r>>12&63]+ot[r>>6&63]+ot[r&63]}function pf(r,e,t){for(var n,i=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(hf(n));return i.join("")}function mf(r){for(var e,t=r.length,n=t%3,i=[],s=16383,a=0,o=t-n;a<o;a+=s)i.push(pf(r,a,a+s>o?o:a+s));return n===1?(e=r[t-1],i.push(ot[e>>2]+ot[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(ot[e>>10]+ot[e>>4&63]+ot[e<<2&63]+"=")),i.join("")}function gf(r,e){let t=Array.from({length:r.length},(n,i)=>({start:i,end:i+1}));for(;t.length>1;){let n=null;for(let i=0;i<t.length-1;i++){const s=r.slice(t[i].start,t[i+1].end),a=e.get(s.join(","));a!=null&&(n==null||a<n[0])&&(n=[a,i])}if(n!=null){const i=n[1];t[i]={start:t[i].start,end:t[i+1].end},t.splice(i+1,1)}else break}return t}function yf(r,e){return r.length===1?[e.get(r.join(","))]:gf(r,e).map(t=>e.get(r.slice(t.start,t.end).join(","))).filter(t=>t!=null)}function bf(r){return r.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var Ki=class{constructor(r,e){Ee(this,"specialTokens");Ee(this,"inverseSpecialTokens");Ee(this,"patStr");Ee(this,"textEncoder",new TextEncoder);Ee(this,"textDecoder",new TextDecoder("utf-8"));Ee(this,"rankMap",new Map);Ee(this,"textMap",new Map);this.patStr=r.pat_str;const t=r.bpe_ranks.split(`
`).filter(Boolean).reduce((n,i)=>{const[s,a,...o]=i.split(" "),u=Number.parseInt(a,10);return o.forEach((c,d)=>n[c]=u+d),n},{});for(const[n,i]of Object.entries(t)){const s=Fn.toByteArray(n);this.rankMap.set(s.join(","),i),this.textMap.set(i,s)}this.specialTokens={...r.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((n,[i,s])=>(n[s]=this.textEncoder.encode(i),n),{})}encode(r,e=[],t="all"){const n=new RegExp(this.patStr,"ug"),i=Ki.specialTokenRegex(Object.keys(this.specialTokens)),s=[],a=new Set(e==="all"?Object.keys(this.specialTokens):e),o=new Set(t==="all"?Object.keys(this.specialTokens).filter(c=>!a.has(c)):t);if(o.size>0){const c=Ki.specialTokenRegex([...o]),d=r.match(c);if(d!=null)throw new Error(`The text contains a special token that is not allowed: ${d[0]}`)}let u=0;for(;;){let c=null,d=u;for(;i.lastIndex=d,c=i.exec(r),!(c==null||a.has(c[0]));)d=c.index+1;const f=(c==null?void 0:c.index)??r.length;for(const b of r.substring(u,f).matchAll(n)){const g=this.textEncoder.encode(b[0]),_=this.rankMap.get(g.join(","));if(_!=null){s.push(_);continue}s.push(...yf(g,this.rankMap))}if(c==null)break;let m=this.specialTokens[c[0]];s.push(m),u=c.index+c[0].length}return s}decode(r){const e=[];let t=0;for(let s=0;s<r.length;++s){const a=r[s],o=this.textMap.get(a)??this.inverseSpecialTokens[a];o!=null&&(e.push(o),t+=o.length)}const n=new Uint8Array(t);let i=0;for(const s of e)n.set(s,i),i+=s.length;return this.textDecoder.decode(n)}},Wo=Ki;of(Wo,"specialTokenRegex",r=>new RegExp(r.map(e=>bf(e)).join("|"),"g"));function vf(r){switch(r){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"text-embedding-ada-002":return"cl100k_base";default:throw new Error("Unknown model")}}const qr={},wf=new zn({});async function _f(r,e){return r in qr||(qr[r]=wf.fetch(`https://tiktoken.pages.dev/js/${r}.json`,{signal:e==null?void 0:e.signal}).then(t=>t.json()).catch(t=>{throw delete qr[r],t})),new Wo(await qr[r],e==null?void 0:e.extendedSpecialTokens)}async function Go(r,e){return _f(vf(r),e)}const Cr=r=>r.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":r.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":r.startsWith("gpt-4-32k")?"gpt-4-32k":r.startsWith("gpt-4-")?"gpt-4":r,If=r=>{switch(Cr(r)){case"gpt-3.5-turbo-16k":return 16384;case"gpt-3.5-turbo":return 4096;case"gpt-4-32k":return 32768;case"gpt-4":return 8192;case"text-davinci-003":return 4097;case"text-curie-001":return 2048;case"text-babbage-001":return 2048;case"text-ada-001":return 2048;case"code-davinci-002":return 8e3;case"code-cushman-001":return 2048;default:return 4097}},Af=async({prompt:r,modelName:e})=>{let t;try{t=(await Go(Cr(e))).encode(r).length}catch{console.warn("Failed to calculate number of tokens, falling back to approximate count"),t=Math.ceil(r.length/4)}return If(e)-t},Yo="__run";class rr{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new rr({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class Lr extends _t{get text(){return this.content}constructor(e,t){typeof e=="string"&&(e={content:e,additional_kwargs:t}),e.additional_kwargs||(e.additional_kwargs={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}}class Ur extends Lr{static _mergeAdditionalKwargs(e,t){const n={...e};for(const[i,s]of Object.entries(t))if(n[i]===void 0)n[i]=s;else{if(typeof n[i]!=typeof s)throw new Error(`additional_kwargs[${i}] already exists in the message chunk, but with a different type.`);if(typeof n[i]=="string")n[i]=n[i]+s;else if(!Array.isArray(n[i])&&typeof n[i]=="object")n[i]=this._mergeAdditionalKwargs(n[i],s);else throw new Error(`additional_kwargs[${i}] already exists in this message chunk.`)}return n}}class kr extends Lr{static lc_name(){return"HumanMessage"}_getType(){return"human"}}class In extends Ur{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(e){return new In({content:this.content+e.content,additional_kwargs:In._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class As extends Lr{static lc_name(){return"AIMessage"}_getType(){return"ai"}}class An extends Ur{static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}concat(e){return new An({content:this.content+e.content,additional_kwargs:An._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class Jo extends Lr{static lc_name(){return"SystemMessage"}_getType(){return"system"}}class En extends Ur{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(e){return new En({content:this.content+e.content,additional_kwargs:En._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class Tn extends Ur{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new Tn({content:this.content+e.content,additional_kwargs:Tn._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs),name:this.name??""})}}class Xo extends Lr{static lc_name(){return"ChatMessage"}constructor(e,t){typeof e=="string"&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}}function Ef(r){return typeof(r==null?void 0:r._getType)=="function"}function Qr(r){if(typeof r=="string")return new kr(r);if(Ef(r))return r;const[e,t]=r;if(e==="human"||e==="user")return new kr({content:t});if(e==="ai"||e==="assistant")return new As({content:t});if(e==="system")return new Jo({content:t});throw new Error("Unable to coerce message from array: only human, AI, or system message coercion is currently supported.")}class Pn extends Ur{static lc_name(){return"ChatMessageChunk"}constructor(e,t){typeof e=="string"&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new Pn({content:this.content+e.content,additional_kwargs:Pn._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs),role:this.role})}}class Es extends rr{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new Es({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}class Qo extends _t{}class Tf{}function Kn(r){const{azureOpenAIApiDeploymentName:e,azureOpenAIApiInstanceName:t,azureOpenAIApiKey:n,azureOpenAIBasePath:i,baseURL:s}=r;if(n&&i&&e)return`${i}/${e}`;if(n){if(!t)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!e)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${t}.openai.azure.com/openai/deployments/${e}`}return s}const qi=(r,e)=>r.reduce((t,n,i)=>{const s=Math.floor(i/e),a=t[s]||[];return t[s]=a.concat([n]),t},[]);class eu extends Qo{constructor(e){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","base"]}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new kr(this.value)]}}class Pf extends Se{get lc_attributes(){return{partialVariables:void 0}}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{inputVariables:t}=e;if(t.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){const t=this.partialVariables??{},n={};for(const[s,a]of Object.entries(t))typeof a=="string"?n[s]=a:n[s]=await a();return{...n,...e}}async invoke(e,t){return this._callWithConfig(n=>this.formatPromptValue(n),e,{...t,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(e){switch(e._type){case"prompt":{const{PromptTemplate:t}=await Promise.resolve().then(()=>da);return t.deserialize(e)}case void 0:{const{PromptTemplate:t}=await Promise.resolve().then(()=>da);return t.deserialize({...e,_type:"prompt"})}case"few_shot":{const{FewShotPromptTemplate:t}=await Promise.resolve().then(()=>zf);return t.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}class tu extends Pf{async formatPromptValue(e){const t=await this.format(e);return new eu(t)}}const ru=r=>{const e=r.split(""),t=[],n=(s,a)=>{for(let o=a;o<e.length;o+=1)if(s.includes(e[o]))return o;return-1};let i=0;for(;i<e.length;)if(e[i]==="{"&&i+1<e.length&&e[i+1]==="{")t.push({type:"literal",text:"{"}),i+=2;else if(e[i]==="}"&&i+1<e.length&&e[i+1]==="}")t.push({type:"literal",text:"}"}),i+=2;else if(e[i]==="{"){const s=n("}",i);if(s<0)throw new Error("Unclosed '{' in template.");t.push({type:"variable",name:e.slice(i+1,s).join("")}),i=s+1}else{if(e[i]==="}")throw new Error("Single '}' in template.");{const s=n("{}",i),a=(s<0?e.slice(i):e.slice(i,s)).join("");t.push({type:"literal",text:a}),i=s<0?e.length:s}}return t},Of=(r,e)=>ru(r).reduce((t,n)=>{if(n.type==="variable"){if(n.name in e)return t+e[n.name];throw new Error(`Missing value for input ${n.name}`)}return t+n.text},""),Hi={"f-string":Of},xf={"f-string":ru},Ts=(r,e,t)=>Hi[e](r,t),Sf=(r,e)=>xf[e](r),nu=(r,e,t)=>{if(!(e in Hi)){const n=Object.keys(Hi);throw new Error(`Invalid template format. Got \`${e}\`;
                         should be one of ${n}`)}try{const n=t.reduce((i,s)=>(i[s]="foo",i),{});Ts(r,e,n)}catch(n){throw new Error(`Invalid prompt schema: ${n.message}`)}};class vt extends tu{static lc_name(){return"PromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.validateTemplate){let t=this.inputVariables;this.partialVariables&&(t=t.concat(Object.keys(this.partialVariables))),nu(this.template,this.templateFormat,t)}}_getPromptType(){return"prompt"}async format(e){const t=await this.mergePartialAndUserVariables(e);return Ts(this.template,this.templateFormat,t)}static fromExamples(e,t,n,i=`

`,s=""){const a=[s,...e,t].join(i);return new vt({inputVariables:n,template:a})}static fromTemplate(e,{templateFormat:t="f-string",...n}={}){const i=new Set;return Sf(e,t).forEach(s=>{s.type==="variable"&&i.add(s.name)}),new vt({inputVariables:[...i],templateFormat:t,template:e,...n})}async partial(e){const t=this.inputVariables.filter(s=>!(s in e)),n={...this.partialVariables??{},...e},i={...this,inputVariables:t,partialVariables:n};return new vt(i)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw new Error("Prompt template must have a template");return new vt({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format})}}const da=Object.freeze(Object.defineProperty({__proto__:null,PromptTemplate:vt},Symbol.toStringTag,{value:"Module"}));class Cf extends Qo{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return Mn(this.messages)}toChatMessages(){return this.messages}}function Hr(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var iu={exports:{}};(function(r,e){(function(t){r.exports=t()})(function(){return function t(n,i,s){function a(c,d){if(!i[c]){if(!n[c]){var f=typeof Hr=="function"&&Hr;if(!d&&f)return f(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+c+"'")}d=i[c]={exports:{}},n[c][0].call(d.exports,function(m){var b=n[c][1][m];return a(b||m)},d,d.exports,t,n,i,s)}return i[c].exports}for(var o=typeof Hr=="function"&&Hr,u=0;u<s.length;u++)a(s[u]);return a}({1:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){var g=t("crypto");function _(O,C){C=j(O,C);var v;return(v=C.algorithm!=="passthrough"?g.createHash(C.algorithm):new M).write===void 0&&(v.write=v.update,v.end=v.update),R(C,v).dispatch(O),v.update||v.end(""),v.digest?v.digest(C.encoding==="buffer"?void 0:C.encoding):(O=v.read(),C.encoding!=="buffer"?O.toString(C.encoding):O)}(i=n.exports=_).sha1=function(O){return _(O)},i.keys=function(O){return _(O,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},i.MD5=function(O){return _(O,{algorithm:"md5",encoding:"hex"})},i.keysMD5=function(O){return _(O,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var h=g.getHashes?g.getHashes().slice():["sha1","md5"],T=(h.push("passthrough"),["buffer","hex","binary","base64"]);function j(O,C){var v={};if(v.algorithm=(C=C||{}).algorithm||"sha1",v.encoding=C.encoding||"hex",v.excludeValues=!!C.excludeValues,v.algorithm=v.algorithm.toLowerCase(),v.encoding=v.encoding.toLowerCase(),v.ignoreUnknown=C.ignoreUnknown===!0,v.respectType=C.respectType!==!1,v.respectFunctionNames=C.respectFunctionNames!==!1,v.respectFunctionProperties=C.respectFunctionProperties!==!1,v.unorderedArrays=C.unorderedArrays===!0,v.unorderedSets=C.unorderedSets!==!1,v.unorderedObjects=C.unorderedObjects!==!1,v.replacer=C.replacer||void 0,v.excludeKeys=C.excludeKeys||void 0,O===void 0)throw new Error("Object argument required.");for(var A=0;A<h.length;++A)h[A].toLowerCase()===v.algorithm.toLowerCase()&&(v.algorithm=h[A]);if(h.indexOf(v.algorithm)===-1)throw new Error('Algorithm "'+v.algorithm+'"  not supported. supported values: '+h.join(", "));if(T.indexOf(v.encoding)===-1&&v.algorithm!=="passthrough")throw new Error('Encoding "'+v.encoding+'"  not supported. supported values: '+T.join(", "));return v}function S(O){if(typeof O=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(O))!=null}function R(O,C,v){v=v||[];function A(I){return C.update?C.update(I,"utf8"):C.write(I,"utf8")}return{dispatch:function(I){return this["_"+((I=O.replacer?O.replacer(I):I)===null?"null":typeof I)](I)},_object:function(I){var N,L=Object.prototype.toString.call(I),q=/\[object (.*)\]/i.exec(L);if(q=(q=q?q[1]:"unknown:["+L+"]").toLowerCase(),0<=(L=v.indexOf(I)))return this.dispatch("[CIRCULAR:"+L+"]");if(v.push(I),o!==void 0&&o.isBuffer&&o.isBuffer(I))return A("buffer:"),A(I);if(q==="object"||q==="function"||q==="asyncfunction")return L=Object.keys(I),O.unorderedObjects&&(L=L.sort()),O.respectType===!1||S(I)||L.splice(0,0,"prototype","__proto__","constructor"),O.excludeKeys&&(L=L.filter(function(Y){return!O.excludeKeys(Y)})),A("object:"+L.length+":"),N=this,L.forEach(function(Y){N.dispatch(Y),A(":"),O.excludeValues||N.dispatch(I[Y]),A(",")});if(!this["_"+q]){if(O.ignoreUnknown)return A("["+q+"]");throw new Error('Unknown object type "'+q+'"')}this["_"+q](I)},_array:function(I,Y){Y=Y!==void 0?Y:O.unorderedArrays!==!1;var L=this;if(A("array:"+I.length+":"),!Y||I.length<=1)return I.forEach(function(K){return L.dispatch(K)});var q=[],Y=I.map(function(K){var V=new M,B=v.slice();return R(O,V,B).dispatch(K),q=q.concat(B.slice(v.length)),V.read().toString()});return v=v.concat(q),Y.sort(),this._array(Y,!1)},_date:function(I){return A("date:"+I.toJSON())},_symbol:function(I){return A("symbol:"+I.toString())},_error:function(I){return A("error:"+I.toString())},_boolean:function(I){return A("bool:"+I.toString())},_string:function(I){A("string:"+I.length+":"),A(I.toString())},_function:function(I){A("fn:"),S(I)?this.dispatch("[native]"):this.dispatch(I.toString()),O.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(I.name)),O.respectFunctionProperties&&this._object(I)},_number:function(I){return A("number:"+I.toString())},_xml:function(I){return A("xml:"+I.toString())},_null:function(){return A("Null")},_undefined:function(){return A("Undefined")},_regexp:function(I){return A("regex:"+I.toString())},_uint8array:function(I){return A("uint8array:"),this.dispatch(Array.prototype.slice.call(I))},_uint8clampedarray:function(I){return A("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(I))},_int8array:function(I){return A("int8array:"),this.dispatch(Array.prototype.slice.call(I))},_uint16array:function(I){return A("uint16array:"),this.dispatch(Array.prototype.slice.call(I))},_int16array:function(I){return A("int16array:"),this.dispatch(Array.prototype.slice.call(I))},_uint32array:function(I){return A("uint32array:"),this.dispatch(Array.prototype.slice.call(I))},_int32array:function(I){return A("int32array:"),this.dispatch(Array.prototype.slice.call(I))},_float32array:function(I){return A("float32array:"),this.dispatch(Array.prototype.slice.call(I))},_float64array:function(I){return A("float64array:"),this.dispatch(Array.prototype.slice.call(I))},_arraybuffer:function(I){return A("arraybuffer:"),this.dispatch(new Uint8Array(I))},_url:function(I){return A("url:"+I.toString())},_map:function(I){return A("map:"),I=Array.from(I),this._array(I,O.unorderedSets!==!1)},_set:function(I){return A("set:"),I=Array.from(I),this._array(I,O.unorderedSets!==!1)},_file:function(I){return A("file:"),this.dispatch([I.name,I.size,I.type,I.lastModfied])},_blob:function(){if(O.ignoreUnknown)return A("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return A("domwindow")},_bigint:function(I){return A("bigint:"+I.toString())},_process:function(){return A("process")},_timer:function(){return A("timer")},_pipe:function(){return A("pipe")},_tcp:function(){return A("tcp")},_udp:function(){return A("udp")},_tty:function(){return A("tty")},_statwatcher:function(){return A("statwatcher")},_securecontext:function(){return A("securecontext")},_connection:function(){return A("connection")},_zlib:function(){return A("zlib")},_context:function(){return A("context")},_nodescript:function(){return A("nodescript")},_httpparser:function(){return A("httpparser")},_dataview:function(){return A("dataview")},_signal:function(){return A("signal")},_fsevent:function(){return A("fsevent")},_tlswrap:function(){return A("tlswrap")}}}function M(){return{buf:"",write:function(O){this.buf+=O},end:function(O){this.buf+=O},read:function(){return this.buf}}}i.writeToStream=function(O,C,v){return v===void 0&&(v=C,C={}),R(C=j(O,C),v).dispatch(O)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){(function(g){var _=typeof Uint8Array<"u"?Uint8Array:Array,h="+".charCodeAt(0),T="/".charCodeAt(0),j="0".charCodeAt(0),S="a".charCodeAt(0),R="A".charCodeAt(0),M="-".charCodeAt(0),O="_".charCodeAt(0);function C(v){return v=v.charCodeAt(0),v===h||v===M?62:v===T||v===O?63:v<j?-1:v<j+10?v-j+26+26:v<R+26?v-R:v<S+26?v-S+26:void 0}g.toByteArray=function(v){var A,I;if(0<v.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var N=v.length,N=v.charAt(N-2)==="="?2:v.charAt(N-1)==="="?1:0,L=new _(3*v.length/4-N),q=0<N?v.length-4:v.length,Y=0;function K(V){L[Y++]=V}for(A=0;A<q;A+=4,0)K((16711680&(I=C(v.charAt(A))<<18|C(v.charAt(A+1))<<12|C(v.charAt(A+2))<<6|C(v.charAt(A+3))))>>16),K((65280&I)>>8),K(255&I);return N==2?K(255&(I=C(v.charAt(A))<<2|C(v.charAt(A+1))>>4)):N==1&&(K((I=C(v.charAt(A))<<10|C(v.charAt(A+1))<<4|C(v.charAt(A+2))>>2)>>8&255),K(255&I)),L},g.fromByteArray=function(v){var A,I,N,L,q=v.length%3,Y="";function K(V){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(V)}for(A=0,N=v.length-q;A<N;A+=3)I=(v[A]<<16)+(v[A+1]<<8)+v[A+2],Y+=K((L=I)>>18&63)+K(L>>12&63)+K(L>>6&63)+K(63&L);switch(q){case 1:Y=(Y+=K((I=v[v.length-1])>>2))+K(I<<4&63)+"==";break;case 2:Y=(Y=(Y+=K((I=(v[v.length-2]<<8)+v[v.length-1])>>10))+K(I>>4&63))+K(I<<2&63)+"="}return Y}})(i===void 0?this.base64js={}:i)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,n,i){(function(s,a,h,u,c,d,f,m,b){var g=t("base64-js"),_=t("ieee754");function h(y,E,D){if(!(this instanceof h))return new h(y,E,D);var z,F,X,ae,ue=typeof y;if(E==="base64"&&ue=="string")for(y=(ae=y).trim?ae.trim():ae.replace(/^\s+|\s+$/g,"");y.length%4!=0;)y+="=";if(ue=="number")z=G(y);else if(ue=="string")z=h.byteLength(y,E);else{if(ue!="object")throw new Error("First argument needs to be a number, array or string.");z=G(y.length)}if(h._useTypedArrays?F=h._augment(new Uint8Array(z)):((F=this).length=z,F._isBuffer=!0),h._useTypedArrays&&typeof y.byteLength=="number")F._set(y);else if(W(ae=y)||h.isBuffer(ae)||ae&&typeof ae=="object"&&typeof ae.length=="number")for(X=0;X<z;X++)h.isBuffer(y)?F[X]=y.readUInt8(X):F[X]=y[X];else if(ue=="string")F.write(y,0,E);else if(ue=="number"&&!h._useTypedArrays&&!D)for(X=0;X<z;X++)F[X]=0;return F}function T(y,E,D,z){return h._charsWritten=J(function(F){for(var X=[],ae=0;ae<F.length;ae++)X.push(255&F.charCodeAt(ae));return X}(E),y,D,z)}function j(y,E,D,z){return h._charsWritten=J(function(F){for(var X,ae,ue=[],fe=0;fe<F.length;fe++)ae=F.charCodeAt(fe),X=ae>>8,ae=ae%256,ue.push(ae),ue.push(X);return ue}(E),y,D,z)}function S(y,E,D){var z="";D=Math.min(y.length,D);for(var F=E;F<D;F++)z+=String.fromCharCode(y[F]);return z}function R(y,E,D,X){X||(Q(typeof D=="boolean","missing or invalid endian"),Q(E!=null,"missing offset"),Q(E+1<y.length,"Trying to read beyond buffer length"));var F,X=y.length;if(!(X<=E))return D?(F=y[E],E+1<X&&(F|=y[E+1]<<8)):(F=y[E]<<8,E+1<X&&(F|=y[E+1])),F}function M(y,E,D,X){X||(Q(typeof D=="boolean","missing or invalid endian"),Q(E!=null,"missing offset"),Q(E+3<y.length,"Trying to read beyond buffer length"));var F,X=y.length;if(!(X<=E))return D?(E+2<X&&(F=y[E+2]<<16),E+1<X&&(F|=y[E+1]<<8),F|=y[E],E+3<X&&(F+=y[E+3]<<24>>>0)):(E+1<X&&(F=y[E+1]<<16),E+2<X&&(F|=y[E+2]<<8),E+3<X&&(F|=y[E+3]),F+=y[E]<<24>>>0),F}function O(y,E,D,z){if(z||(Q(typeof D=="boolean","missing or invalid endian"),Q(E!=null,"missing offset"),Q(E+1<y.length,"Trying to read beyond buffer length")),!(y.length<=E))return z=R(y,E,D,!0),32768&z?-1*(65535-z+1):z}function C(y,E,D,z){if(z||(Q(typeof D=="boolean","missing or invalid endian"),Q(E!=null,"missing offset"),Q(E+3<y.length,"Trying to read beyond buffer length")),!(y.length<=E))return z=M(y,E,D,!0),2147483648&z?-1*(4294967295-z+1):z}function v(y,E,D,z){return z||(Q(typeof D=="boolean","missing or invalid endian"),Q(E+3<y.length,"Trying to read beyond buffer length")),_.read(y,E,D,23,4)}function A(y,E,D,z){return z||(Q(typeof D=="boolean","missing or invalid endian"),Q(E+7<y.length,"Trying to read beyond buffer length")),_.read(y,E,D,52,8)}function I(y,E,D,z,F){if(F||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(D!=null,"missing offset"),Q(D+1<y.length,"trying to write beyond buffer length"),Le(E,65535)),F=y.length,!(F<=D))for(var X=0,ae=Math.min(F-D,2);X<ae;X++)y[D+X]=(E&255<<8*(z?X:1-X))>>>8*(z?X:1-X)}function N(y,E,D,z,F){if(F||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(D!=null,"missing offset"),Q(D+3<y.length,"trying to write beyond buffer length"),Le(E,4294967295)),F=y.length,!(F<=D))for(var X=0,ae=Math.min(F-D,4);X<ae;X++)y[D+X]=E>>>8*(z?X:3-X)&255}function L(y,E,D,z,F){F||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(D!=null,"missing offset"),Q(D+1<y.length,"Trying to write beyond buffer length"),we(E,32767,-32768)),y.length<=D||I(y,0<=E?E:65535+E+1,D,z,F)}function q(y,E,D,z,F){F||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(D!=null,"missing offset"),Q(D+3<y.length,"Trying to write beyond buffer length"),we(E,2147483647,-2147483648)),y.length<=D||N(y,0<=E?E:4294967295+E+1,D,z,F)}function Y(y,E,D,z,F){F||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(D!=null,"missing offset"),Q(D+3<y.length,"Trying to write beyond buffer length"),Ve(E,34028234663852886e22,-34028234663852886e22)),y.length<=D||_.write(y,E,D,z,23,4)}function K(y,E,D,z,F){F||(Q(E!=null,"missing value"),Q(typeof z=="boolean","missing or invalid endian"),Q(D!=null,"missing offset"),Q(D+7<y.length,"Trying to write beyond buffer length"),Ve(E,17976931348623157e292,-17976931348623157e292)),y.length<=D||_.write(y,E,D,z,52,8)}i.Buffer=h,i.SlowBuffer=h,i.INSPECT_MAX_BYTES=50,h.poolSize=8192,h._useTypedArrays=function(){try{var y=new ArrayBuffer(0),E=new Uint8Array(y);return E.foo=function(){return 42},E.foo()===42&&typeof E.subarray=="function"}catch{return!1}}(),h.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.isBuffer=function(y){return!(y==null||!y._isBuffer)},h.byteLength=function(y,E){var D;switch(y+="",E||"utf8"){case"hex":D=y.length/2;break;case"utf8":case"utf-8":D=ie(y).length;break;case"ascii":case"binary":case"raw":D=y.length;break;case"base64":D=ge(y).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":D=2*y.length;break;default:throw new Error("Unknown encoding")}return D},h.concat=function(y,E){if(Q(W(y),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),y.length===0)return new h(0);if(y.length===1)return y[0];if(typeof E!="number")for(F=E=0;F<y.length;F++)E+=y[F].length;for(var D=new h(E),z=0,F=0;F<y.length;F++){var X=y[F];X.copy(D,z),z+=X.length}return D},h.prototype.write=function(y,E,D,z){isFinite(E)?isFinite(D)||(z=D,D=void 0):(fe=z,z=E,E=D,D=fe),E=Number(E)||0;var F,X,ae,ue,fe=this.length-E;switch((!D||fe<(D=Number(D)))&&(D=fe),z=String(z||"utf8").toLowerCase()){case"hex":F=function(ve,ye,_e,U){_e=Number(_e)||0;var re=ve.length-_e;(!U||re<(U=Number(U)))&&(U=re),Q((re=ye.length)%2==0,"Invalid hex string"),re/2<U&&(U=re/2);for(var ee=0;ee<U;ee++){var ne=parseInt(ye.substr(2*ee,2),16);Q(!isNaN(ne),"Invalid hex string"),ve[_e+ee]=ne}return h._charsWritten=2*ee,ee}(this,y,E,D);break;case"utf8":case"utf-8":X=this,ae=E,ue=D,F=h._charsWritten=J(ie(y),X,ae,ue);break;case"ascii":case"binary":F=T(this,y,E,D);break;case"base64":X=this,ae=E,ue=D,F=h._charsWritten=J(ge(y),X,ae,ue);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":F=j(this,y,E,D);break;default:throw new Error("Unknown encoding")}return F},h.prototype.toString=function(y,E,D){var z,F,X,ae,ue=this;if(y=String(y||"utf8").toLowerCase(),E=Number(E)||0,(D=D!==void 0?Number(D):ue.length)===E)return"";switch(y){case"hex":z=function(fe,ve,ye){var _e=fe.length;(!ve||ve<0)&&(ve=0),(!ye||ye<0||_e<ye)&&(ye=_e);for(var U="",re=ve;re<ye;re++)U+=te(fe[re]);return U}(ue,E,D);break;case"utf8":case"utf-8":z=function(fe,ve,ye){var _e="",U="";ye=Math.min(fe.length,ye);for(var re=ve;re<ye;re++)fe[re]<=127?(_e+=je(U)+String.fromCharCode(fe[re]),U=""):U+="%"+fe[re].toString(16);return _e+je(U)}(ue,E,D);break;case"ascii":case"binary":z=S(ue,E,D);break;case"base64":F=ue,ae=D,z=(X=E)===0&&ae===F.length?g.fromByteArray(F):g.fromByteArray(F.slice(X,ae));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":z=function(fe,ve,ye){for(var _e=fe.slice(ve,ye),U="",re=0;re<_e.length;re+=2)U+=String.fromCharCode(_e[re]+256*_e[re+1]);return U}(ue,E,D);break;default:throw new Error("Unknown encoding")}return z},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},h.prototype.copy=function(y,E,D,z){if(E=E||0,(z=z||z===0?z:this.length)!==(D=D||0)&&y.length!==0&&this.length!==0){Q(D<=z,"sourceEnd < sourceStart"),Q(0<=E&&E<y.length,"targetStart out of bounds"),Q(0<=D&&D<this.length,"sourceStart out of bounds"),Q(0<=z&&z<=this.length,"sourceEnd out of bounds"),z>this.length&&(z=this.length);var F=(z=y.length-E<z-D?y.length-E+D:z)-D;if(F<100||!h._useTypedArrays)for(var X=0;X<F;X++)y[X+E]=this[X+D];else y._set(this.subarray(D,D+F),E)}},h.prototype.slice=function(y,E){var D=this.length;if(y=B(y,D,0),E=B(E,D,D),h._useTypedArrays)return h._augment(this.subarray(y,E));for(var z=E-y,F=new h(z,void 0,!0),X=0;X<z;X++)F[X]=this[X+y];return F},h.prototype.get=function(y){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(y)},h.prototype.set=function(y,E){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(y,E)},h.prototype.readUInt8=function(y,E){if(E||(Q(y!=null,"missing offset"),Q(y<this.length,"Trying to read beyond buffer length")),!(y>=this.length))return this[y]},h.prototype.readUInt16LE=function(y,E){return R(this,y,!0,E)},h.prototype.readUInt16BE=function(y,E){return R(this,y,!1,E)},h.prototype.readUInt32LE=function(y,E){return M(this,y,!0,E)},h.prototype.readUInt32BE=function(y,E){return M(this,y,!1,E)},h.prototype.readInt8=function(y,E){if(E||(Q(y!=null,"missing offset"),Q(y<this.length,"Trying to read beyond buffer length")),!(y>=this.length))return 128&this[y]?-1*(255-this[y]+1):this[y]},h.prototype.readInt16LE=function(y,E){return O(this,y,!0,E)},h.prototype.readInt16BE=function(y,E){return O(this,y,!1,E)},h.prototype.readInt32LE=function(y,E){return C(this,y,!0,E)},h.prototype.readInt32BE=function(y,E){return C(this,y,!1,E)},h.prototype.readFloatLE=function(y,E){return v(this,y,!0,E)},h.prototype.readFloatBE=function(y,E){return v(this,y,!1,E)},h.prototype.readDoubleLE=function(y,E){return A(this,y,!0,E)},h.prototype.readDoubleBE=function(y,E){return A(this,y,!1,E)},h.prototype.writeUInt8=function(y,E,D){D||(Q(y!=null,"missing value"),Q(E!=null,"missing offset"),Q(E<this.length,"trying to write beyond buffer length"),Le(y,255)),E>=this.length||(this[E]=y)},h.prototype.writeUInt16LE=function(y,E,D){I(this,y,E,!0,D)},h.prototype.writeUInt16BE=function(y,E,D){I(this,y,E,!1,D)},h.prototype.writeUInt32LE=function(y,E,D){N(this,y,E,!0,D)},h.prototype.writeUInt32BE=function(y,E,D){N(this,y,E,!1,D)},h.prototype.writeInt8=function(y,E,D){D||(Q(y!=null,"missing value"),Q(E!=null,"missing offset"),Q(E<this.length,"Trying to write beyond buffer length"),we(y,127,-128)),E>=this.length||(0<=y?this.writeUInt8(y,E,D):this.writeUInt8(255+y+1,E,D))},h.prototype.writeInt16LE=function(y,E,D){L(this,y,E,!0,D)},h.prototype.writeInt16BE=function(y,E,D){L(this,y,E,!1,D)},h.prototype.writeInt32LE=function(y,E,D){q(this,y,E,!0,D)},h.prototype.writeInt32BE=function(y,E,D){q(this,y,E,!1,D)},h.prototype.writeFloatLE=function(y,E,D){Y(this,y,E,!0,D)},h.prototype.writeFloatBE=function(y,E,D){Y(this,y,E,!1,D)},h.prototype.writeDoubleLE=function(y,E,D){K(this,y,E,!0,D)},h.prototype.writeDoubleBE=function(y,E,D){K(this,y,E,!1,D)},h.prototype.fill=function(y,E,D){if(E=E||0,D=D||this.length,Q(typeof(y=typeof(y=y||0)=="string"?y.charCodeAt(0):y)=="number"&&!isNaN(y),"value is not a number"),Q(E<=D,"end < start"),D!==E&&this.length!==0){Q(0<=E&&E<this.length,"start out of bounds"),Q(0<=D&&D<=this.length,"end out of bounds");for(var z=E;z<D;z++)this[z]=y}},h.prototype.inspect=function(){for(var y=[],E=this.length,D=0;D<E;D++)if(y[D]=te(this[D]),D===i.INSPECT_MAX_BYTES){y[D+1]="...";break}return"<Buffer "+y.join(" ")+">"},h.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(h._useTypedArrays)return new h(this).buffer;for(var y=new Uint8Array(this.length),E=0,D=y.length;E<D;E+=1)y[E]=this[E];return y.buffer};var V=h.prototype;function B(y,E,D){return typeof y!="number"?D:E<=(y=~~y)?E:0<=y||0<=(y+=E)?y:0}function G(y){return(y=~~Math.ceil(+y))<0?0:y}function W(y){return(Array.isArray||function(E){return Object.prototype.toString.call(E)==="[object Array]"})(y)}function te(y){return y<16?"0"+y.toString(16):y.toString(16)}function ie(y){for(var E=[],D=0;D<y.length;D++){var z=y.charCodeAt(D);if(z<=127)E.push(y.charCodeAt(D));else for(var F=D,X=(55296<=z&&z<=57343&&D++,encodeURIComponent(y.slice(F,D+1)).substr(1).split("%")),ae=0;ae<X.length;ae++)E.push(parseInt(X[ae],16))}return E}function ge(y){return g.toByteArray(y)}function J(y,E,D,z){for(var F=0;F<z&&!(F+D>=E.length||F>=y.length);F++)E[F+D]=y[F];return F}function je(y){try{return decodeURIComponent(y)}catch{return String.fromCharCode(65533)}}function Le(y,E){Q(typeof y=="number","cannot write a non-number as a number"),Q(0<=y,"specified a negative value for writing an unsigned value"),Q(y<=E,"value is larger than maximum value for type"),Q(Math.floor(y)===y,"value has a fractional component")}function we(y,E,D){Q(typeof y=="number","cannot write a non-number as a number"),Q(y<=E,"value larger than maximum allowed value"),Q(D<=y,"value smaller than minimum allowed value"),Q(Math.floor(y)===y,"value has a fractional component")}function Ve(y,E,D){Q(typeof y=="number","cannot write a non-number as a number"),Q(y<=E,"value larger than maximum allowed value"),Q(D<=y,"value smaller than minimum allowed value")}function Q(y,E){if(!y)throw new Error(E||"Failed assertion")}h._augment=function(y){return y._isBuffer=!0,y._get=y.get,y._set=y.set,y.get=V.get,y.set=V.set,y.write=V.write,y.toString=V.toString,y.toLocaleString=V.toString,y.toJSON=V.toJSON,y.copy=V.copy,y.slice=V.slice,y.readUInt8=V.readUInt8,y.readUInt16LE=V.readUInt16LE,y.readUInt16BE=V.readUInt16BE,y.readUInt32LE=V.readUInt32LE,y.readUInt32BE=V.readUInt32BE,y.readInt8=V.readInt8,y.readInt16LE=V.readInt16LE,y.readInt16BE=V.readInt16BE,y.readInt32LE=V.readInt32LE,y.readInt32BE=V.readInt32BE,y.readFloatLE=V.readFloatLE,y.readFloatBE=V.readFloatBE,y.readDoubleLE=V.readDoubleLE,y.readDoubleBE=V.readDoubleBE,y.writeUInt8=V.writeUInt8,y.writeUInt16LE=V.writeUInt16LE,y.writeUInt16BE=V.writeUInt16BE,y.writeUInt32LE=V.writeUInt32LE,y.writeUInt32BE=V.writeUInt32BE,y.writeInt8=V.writeInt8,y.writeInt16LE=V.writeInt16LE,y.writeInt16BE=V.writeInt16BE,y.writeInt32LE=V.writeInt32LE,y.writeInt32BE=V.writeInt32BE,y.writeFloatLE=V.writeFloatLE,y.writeFloatBE=V.writeFloatBE,y.writeDoubleLE=V.writeDoubleLE,y.writeDoubleBE=V.writeDoubleBE,y.fill=V.fill,y.inspect=V.inspect,y.toArrayBuffer=V.toArrayBuffer,y}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,n,i){(function(s,a,g,u,c,d,f,m,b){var g=t("buffer").Buffer,_=4,h=new g(_);h.fill(0),n.exports={hash:function(T,j,S,R){for(var M=j(function(I,N){I.length%_!=0&&(L=I.length+(_-I.length%_),I=g.concat([I,h],L));for(var L,q=[],Y=N?I.readInt32BE:I.readInt32LE,K=0;K<I.length;K+=_)q.push(Y.call(I,K));return q}(T=g.isBuffer(T)?T:new g(T),R),8*T.length),j=R,O=new g(S),C=j?O.writeInt32BE:O.writeInt32LE,v=0;v<M.length;v++)C.call(O,M[v],4*v,!0);return O}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,n,i){(function(s,a,g,u,c,d,f,m,b){var g=t("buffer").Buffer,_=t("./sha"),h=t("./sha256"),T=t("./rng"),j={sha1:_,sha256:h,md5:t("./md5")},S=64,R=new g(S);function M(I,N){var L=j[I=I||"sha1"],q=[];return L||O("algorithm:",I,"is not yet supported"),{update:function(Y){return g.isBuffer(Y)||(Y=new g(Y)),q.push(Y),Y.length,this},digest:function(Y){var K=g.concat(q),K=N?function(V,B,G){g.isBuffer(B)||(B=new g(B)),g.isBuffer(G)||(G=new g(G)),B.length>S?B=V(B):B.length<S&&(B=g.concat([B,R],S));for(var W=new g(S),te=new g(S),ie=0;ie<S;ie++)W[ie]=54^B[ie],te[ie]=92^B[ie];return G=V(g.concat([W,G])),V(g.concat([te,G]))}(L,N,K):L(K);return q=null,Y?K.toString(Y):K}}}function O(){var I=[].slice.call(arguments).join(" ");throw new Error([I,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}R.fill(0),i.createHash=function(I){return M(I)},i.createHmac=M,i.randomBytes=function(I,N){if(!N||!N.call)return new g(T(I));try{N.call(this,void 0,new g(T(I)))}catch(L){N(L)}};var C,v=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],A=function(I){i[I]=function(){O("sorry,",I,"is not implemented yet")}};for(C in v)A(v[C])}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){var g=t("./helpers");function _(O,C){O[C>>5]|=128<<C%32,O[14+(C+64>>>9<<4)]=C;for(var v=1732584193,A=-271733879,I=-1732584194,N=271733878,L=0;L<O.length;L+=16){var q=v,Y=A,K=I,V=N,v=T(v,A,I,N,O[L+0],7,-680876936),N=T(N,v,A,I,O[L+1],12,-389564586),I=T(I,N,v,A,O[L+2],17,606105819),A=T(A,I,N,v,O[L+3],22,-1044525330);v=T(v,A,I,N,O[L+4],7,-176418897),N=T(N,v,A,I,O[L+5],12,1200080426),I=T(I,N,v,A,O[L+6],17,-1473231341),A=T(A,I,N,v,O[L+7],22,-45705983),v=T(v,A,I,N,O[L+8],7,1770035416),N=T(N,v,A,I,O[L+9],12,-1958414417),I=T(I,N,v,A,O[L+10],17,-42063),A=T(A,I,N,v,O[L+11],22,-1990404162),v=T(v,A,I,N,O[L+12],7,1804603682),N=T(N,v,A,I,O[L+13],12,-40341101),I=T(I,N,v,A,O[L+14],17,-1502002290),v=j(v,A=T(A,I,N,v,O[L+15],22,1236535329),I,N,O[L+1],5,-165796510),N=j(N,v,A,I,O[L+6],9,-1069501632),I=j(I,N,v,A,O[L+11],14,643717713),A=j(A,I,N,v,O[L+0],20,-373897302),v=j(v,A,I,N,O[L+5],5,-701558691),N=j(N,v,A,I,O[L+10],9,38016083),I=j(I,N,v,A,O[L+15],14,-660478335),A=j(A,I,N,v,O[L+4],20,-405537848),v=j(v,A,I,N,O[L+9],5,568446438),N=j(N,v,A,I,O[L+14],9,-1019803690),I=j(I,N,v,A,O[L+3],14,-187363961),A=j(A,I,N,v,O[L+8],20,1163531501),v=j(v,A,I,N,O[L+13],5,-1444681467),N=j(N,v,A,I,O[L+2],9,-51403784),I=j(I,N,v,A,O[L+7],14,1735328473),v=S(v,A=j(A,I,N,v,O[L+12],20,-1926607734),I,N,O[L+5],4,-378558),N=S(N,v,A,I,O[L+8],11,-2022574463),I=S(I,N,v,A,O[L+11],16,1839030562),A=S(A,I,N,v,O[L+14],23,-35309556),v=S(v,A,I,N,O[L+1],4,-1530992060),N=S(N,v,A,I,O[L+4],11,1272893353),I=S(I,N,v,A,O[L+7],16,-155497632),A=S(A,I,N,v,O[L+10],23,-1094730640),v=S(v,A,I,N,O[L+13],4,681279174),N=S(N,v,A,I,O[L+0],11,-358537222),I=S(I,N,v,A,O[L+3],16,-722521979),A=S(A,I,N,v,O[L+6],23,76029189),v=S(v,A,I,N,O[L+9],4,-640364487),N=S(N,v,A,I,O[L+12],11,-421815835),I=S(I,N,v,A,O[L+15],16,530742520),v=R(v,A=S(A,I,N,v,O[L+2],23,-995338651),I,N,O[L+0],6,-198630844),N=R(N,v,A,I,O[L+7],10,1126891415),I=R(I,N,v,A,O[L+14],15,-1416354905),A=R(A,I,N,v,O[L+5],21,-57434055),v=R(v,A,I,N,O[L+12],6,1700485571),N=R(N,v,A,I,O[L+3],10,-1894986606),I=R(I,N,v,A,O[L+10],15,-1051523),A=R(A,I,N,v,O[L+1],21,-2054922799),v=R(v,A,I,N,O[L+8],6,1873313359),N=R(N,v,A,I,O[L+15],10,-30611744),I=R(I,N,v,A,O[L+6],15,-1560198380),A=R(A,I,N,v,O[L+13],21,1309151649),v=R(v,A,I,N,O[L+4],6,-145523070),N=R(N,v,A,I,O[L+11],10,-1120210379),I=R(I,N,v,A,O[L+2],15,718787259),A=R(A,I,N,v,O[L+9],21,-343485551),v=M(v,q),A=M(A,Y),I=M(I,K),N=M(N,V)}return Array(v,A,I,N)}function h(O,C,v,A,I,N){return M((C=M(M(C,O),M(A,N)))<<I|C>>>32-I,v)}function T(O,C,v,A,I,N,L){return h(C&v|~C&A,O,C,I,N,L)}function j(O,C,v,A,I,N,L){return h(C&A|v&~A,O,C,I,N,L)}function S(O,C,v,A,I,N,L){return h(C^v^A,O,C,I,N,L)}function R(O,C,v,A,I,N,L){return h(v^(C|~A),O,C,I,N,L)}function M(O,C){var v=(65535&O)+(65535&C);return(O>>16)+(C>>16)+(v>>16)<<16|65535&v}n.exports=function(O){return g.hash(O,_,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){n.exports=function(g){for(var _,h=new Array(g),T=0;T<g;T++)!(3&T)&&(_=4294967296*Math.random()),h[T]=_>>>((3&T)<<3)&255;return h}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){var g=t("./helpers");function _(j,S){j[S>>5]|=128<<24-S%32,j[15+(S+64>>9<<4)]=S;for(var R,M,O,C=Array(80),v=1732584193,A=-271733879,I=-1732584194,N=271733878,L=-1009589776,q=0;q<j.length;q+=16){for(var Y=v,K=A,V=I,B=N,G=L,W=0;W<80;W++){C[W]=W<16?j[q+W]:T(C[W-3]^C[W-8]^C[W-14]^C[W-16],1);var te=h(h(T(v,5),(te=A,M=I,O=N,(R=W)<20?te&M|~te&O:!(R<40)&&R<60?te&M|te&O|M&O:te^M^O)),h(h(L,C[W]),(R=W)<20?1518500249:R<40?1859775393:R<60?-1894007588:-899497514)),L=N,N=I,I=T(A,30),A=v,v=te}v=h(v,Y),A=h(A,K),I=h(I,V),N=h(N,B),L=h(L,G)}return Array(v,A,I,N,L)}function h(j,S){var R=(65535&j)+(65535&S);return(j>>16)+(S>>16)+(R>>16)<<16|65535&R}function T(j,S){return j<<S|j>>>32-S}n.exports=function(j){return g.hash(j,_,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){function g(S,R){var M=(65535&S)+(65535&R);return(S>>16)+(R>>16)+(M>>16)<<16|65535&M}function _(S,R){var M,O=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),C=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),v=new Array(64);S[R>>5]|=128<<24-R%32,S[15+(R+64>>9<<4)]=R;for(var A,I,N=0;N<S.length;N+=16){for(var L=C[0],q=C[1],Y=C[2],K=C[3],V=C[4],B=C[5],G=C[6],W=C[7],te=0;te<64;te++)v[te]=te<16?S[te+N]:g(g(g((I=v[te-2],T(I,17)^T(I,19)^j(I,10)),v[te-7]),(I=v[te-15],T(I,7)^T(I,18)^j(I,3))),v[te-16]),M=g(g(g(g(W,T(I=V,6)^T(I,11)^T(I,25)),V&B^~V&G),O[te]),v[te]),A=g(T(A=L,2)^T(A,13)^T(A,22),L&q^L&Y^q&Y),W=G,G=B,B=V,V=g(K,M),K=Y,Y=q,q=L,L=g(M,A);C[0]=g(L,C[0]),C[1]=g(q,C[1]),C[2]=g(Y,C[2]),C[3]=g(K,C[3]),C[4]=g(V,C[4]),C[5]=g(B,C[5]),C[6]=g(G,C[6]),C[7]=g(W,C[7])}return C}var h=t("./helpers"),T=function(S,R){return S>>>R|S<<32-R},j=function(S,R){return S>>>R};n.exports=function(S){return h.hash(S,_,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){i.read=function(g,_,h,T,N){var S,R,M=8*N-T-1,O=(1<<M)-1,C=O>>1,v=-7,A=h?N-1:0,I=h?-1:1,N=g[_+A];for(A+=I,S=N&(1<<-v)-1,N>>=-v,v+=M;0<v;S=256*S+g[_+A],A+=I,v-=8);for(R=S&(1<<-v)-1,S>>=-v,v+=T;0<v;R=256*R+g[_+A],A+=I,v-=8);if(S===0)S=1-C;else{if(S===O)return R?NaN:1/0*(N?-1:1);R+=Math.pow(2,T),S-=C}return(N?-1:1)*R*Math.pow(2,S-T)},i.write=function(g,_,h,T,j,L){var R,M,O=8*L-j-1,C=(1<<O)-1,v=C>>1,A=j===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=T?0:L-1,N=T?1:-1,L=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(M=isNaN(_)?1:0,R=C):(R=Math.floor(Math.log(_)/Math.LN2),_*(T=Math.pow(2,-R))<1&&(R--,T*=2),2<=(_+=1<=R+v?A/T:A*Math.pow(2,1-v))*T&&(R++,T/=2),C<=R+v?(M=0,R=C):1<=R+v?(M=(_*T-1)*Math.pow(2,j),R+=v):(M=_*Math.pow(2,v-1)*Math.pow(2,j),R=0));8<=j;g[h+I]=255&M,I+=N,M/=256,j-=8);for(R=R<<j|M,O+=j;0<O;g[h+I]=255&R,I+=N,R/=256,O-=8);g[h+I-N]|=128*L}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,n,i){(function(s,a,o,u,c,d,f,m,b){var g,_,h;function T(){}(s=n.exports={}).nextTick=(_=typeof window<"u"&&window.setImmediate,h=typeof window<"u"&&window.postMessage&&window.addEventListener,_?function(j){return window.setImmediate(j)}:h?(g=[],window.addEventListener("message",function(j){var S=j.source;S!==window&&S!==null||j.data!=="process-tick"||(j.stopPropagation(),0<g.length&&g.shift()())},!0),function(j){g.push(j),window.postMessage("process-tick","*")}):function(j){setTimeout(j,0)}),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.on=T,s.addListener=T,s.once=T,s.off=T,s.removeListener=T,s.removeAllListeners=T,s.emit=T,s.binding=function(j){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(j){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(iu);var kf=iu.exports;const Nf=Dn(kf),fa=(...r)=>Nf(r.join("_")),Rf=new Map;class Ps extends Tf{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,t){return Promise.resolve(this.cache.get(fa(e,t))??null)}async update(e,t,n){this.cache.set(fa(e,t),n)}static global(){return new Ps(Rf)}}const Df=()=>!1;class jf extends Se{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??Df(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class su extends jf{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:t,...n}){super({callbacks:e??t,...n}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof n.cache=="object"?this.cache=n.cache:n.cache?this.cache=Ps.global():this.cache=void 0,this.caller=new zn(n??{})}async getNumTokens(e){let t=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await Go("modelName"in this?Cr(this.modelName):"gpt2")}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}return this._encoding&&(t=this._encoding.encode(e).length),t}static _convertInputToPromptValue(e){return typeof e=="string"?new eu(e):Array.isArray(e)?new Cf(e.map(Qr)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall(e){const t={...this._identifyingParams(),...e,_type:this._llmType(),_model:this._modelType()};return Object.entries(t).filter(([s,a])=>a!==void 0).map(([s,a])=>`${s}:${JSON.stringify(a)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){const{_type:t,_model:n,...i}=e;if(n&&n!=="base_chat_model")throw new Error(`Cannot load LLM with model ${n}`);const s={openai:(await Promise.resolve().then(()=>Cy)).ChatOpenAI}[t];if(s===void 0)throw new Error(`Cannot load LLM with type ${t}`);return new s(i)}}class Jt extends su{constructor({concurrency:e,...t}){super(e?{maxConcurrency:e,...t}:t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","llms",this._llmType()]})}async invoke(e,t){const n=Jt._convertInputToPromptValue(e);return(await this.generatePrompt([n],t,t==null?void 0:t.callbacks)).generations[0][0].text}async*_streamResponseChunks(e,t,n){throw new Error("Not implemented.")}_separateRunnableConfigFromCallOptions(e){const[t,n]=super._separateRunnableConfigFromCallOptions(e);return n!=null&&n.timeout&&!n.signal&&(n.signal=AbortSignal.timeout(n.timeout)),[t,n]}async*_streamIterator(e,t){if(this._streamResponseChunks===Jt.prototype._streamResponseChunks)yield this.invoke(e,t);else{const n=Jt._convertInputToPromptValue(e),[i,s]=this._separateRunnableConfigFromCallOptions(t),a=await Be.configure(i.callbacks,this.callbacks,i.tags,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),o={options:s,invocation_params:this==null?void 0:this.invocationParams(s)},u=await(a==null?void 0:a.handleLLMStart(this.toJSON(),[n.toString()],void 0,void 0,o,void 0,void 0,i.runName));let c=new rr({text:""});try{for await(const d of this._streamResponseChunks(e.toString(),s,u==null?void 0:u[0]))c?c=c.concat(d):c=d,typeof d.text=="string"&&(yield d.text)}catch(d){throw await Promise.all((u??[]).map(f=>f==null?void 0:f.handleLLMError(d))),d}await Promise.all((u??[]).map(d=>d==null?void 0:d.handleLLMEnd({generations:[[c]]})))}}async generatePrompt(e,t,n){const i=e.map(s=>s.toString());return this.generate(i,t,n)}invocationParams(e){return{}}_flattenLLMResult(e){const t=[];for(let n=0;n<e.generations.length;n+=1){const i=e.generations[n];if(n===0)t.push({generations:[i],llmOutput:e.llmOutput});else{const s=e.llmOutput?{...e.llmOutput,tokenUsage:{}}:void 0;t.push({generations:[i],llmOutput:s})}}return t}async _generateUncached(e,t,n){const i=await Be.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),s={options:t,invocation_params:this==null?void 0:this.invocationParams(t)},a=await(i==null?void 0:i.handleLLMStart(this.toJSON(),e,void 0,void 0,s,void 0,void 0,n==null?void 0:n.runName));let o;try{o=await this._generate(e,t,a==null?void 0:a[0])}catch(d){throw await Promise.all((a??[]).map(f=>f==null?void 0:f.handleLLMError(d))),d}const u=this._flattenLLMResult(o);await Promise.all((a??[]).map((d,f)=>d==null?void 0:d.handleLLMEnd(u[f])));const c=(a==null?void 0:a.map(d=>d.runId))||void 0;return Object.defineProperty(o,Yo,{value:c?{runIds:c}:void 0,configurable:!0}),o}async generate(e,t,n){if(!Array.isArray(e))throw new Error("Argument 'prompts' is expected to be a string[]");let i;Array.isArray(t)?i={stop:t}:i=t;const[s,a]=this._separateRunnableConfigFromCallOptions(i);if(s.callbacks=s.callbacks??n,!this.cache)return this._generateUncached(e,a,s);const{cache:o}=this,u=this._getSerializedCacheKeyParametersForCall(a),c=[],d=await Promise.all(e.map(async(m,b)=>{const g=await o.lookup(m,u);return g||c.push(b),g}));let f={};if(c.length>0){const m=await this._generateUncached(c.map(b=>e[b]),a,s);await Promise.all(m.generations.map(async(b,g)=>{const _=c[g];return d[_]=b,o.update(e[_],u,b)})),f=m.llmOutput??{}}return{generations:d,llmOutput:f}}async call(e,t,n){const{generations:i}=await this.generate([e],t,n);return i[0][0].text}async predict(e,t,n){return this.call(e,t,n)}async predictMessages(e,t,n){const i=Mn(e),s=await this.call(i,t,n);return new As(s)}_identifyingParams(){return{}}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}_modelType(){return"base_llm"}static async deserialize(e){const{_type:t,_model:n,...i}=e;if(n&&n!=="base_llm")throw new Error(`Cannot load LLM with model ${n}`);const s={openai:(await Promise.resolve().then(()=>Mf)).OpenAI}[t];if(s===void 0)throw new Error(`Cannot load  LLM with type ${t}`);return new s(i)}}class Lf extends Jt{async _generate(e,t,n){return{generations:await Promise.all(e.map((s,a)=>this._call(s,{...t,promptIndex:a},n).then(o=>[{text:o}])))}}}function qn(r){let e;return r.constructor.name===rf.name?(e=new Error(r.message),e.name="TimeoutError"):r.constructor.name===nf.name?(e=new Error(r.message),e.name="AbortError"):e=r,e}class Os extends Lf{static lc_name(){return"OpenAIChat"}get callKeys(){return[...super.callKeys,"options","promptIndex"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){var n,i,s,a,o,u,c,d;if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"prefixMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.openAIApiKey)??ce("OPENAI_API_KEY"),this.azureOpenAIApiKey=(e==null?void 0:e.azureOpenAIApiKey)??ce("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=(e==null?void 0:e.azureOpenAIApiInstanceName)??ce("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=((e==null?void 0:e.azureOpenAIApiCompletionsDeploymentName)||(e==null?void 0:e.azureOpenAIApiDeploymentName))??(ce("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME")||ce("AZURE_OPENAI_API_DEPLOYMENT_NAME")),this.azureOpenAIApiVersion=(e==null?void 0:e.azureOpenAIApiVersion)??ce("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??ce("AZURE_OPENAI_BASE_PATH"),this.organization=((n=e==null?void 0:e.configuration)==null?void 0:n.organization)??ce("OPENAI_ORGANIZATION"),this.modelName=(e==null?void 0:e.modelName)??this.modelName,this.prefixMessages=(e==null?void 0:e.prefixMessages)??this.prefixMessages,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.n=(e==null?void 0:e.n)??this.n,this.logitBias=e==null?void 0:e.logitBias,this.maxTokens=e==null?void 0:e.maxTokens,this.stop=e==null?void 0:e.stop,this.user=e==null?void 0:e.user,this.streaming=(e==null?void 0:e.streaming)??!1,this.n>1)throw new Error("Cannot use n > 1 in OpenAIChat LLM. Use ChatOpenAI Chat Model instead.");if(this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.openAIApiKey=this.openAIApiKey??""}this.clientConfig={apiKey:this.openAIApiKey,organization:this.organization,baseURL:(t==null?void 0:t.basePath)??((i=e==null?void 0:e.configuration)==null?void 0:i.basePath),dangerouslyAllowBrowser:!0,defaultHeaders:((s=t==null?void 0:t.baseOptions)==null?void 0:s.headers)??((o=(a=e==null?void 0:e.configuration)==null?void 0:a.baseOptions)==null?void 0:o.headers),defaultQuery:((u=t==null?void 0:t.baseOptions)==null?void 0:u.params)??((d=(c=e==null?void 0:e.configuration)==null?void 0:c.baseOptions)==null?void 0:d.params),...t,...e==null?void 0:e.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,n:this.n,logit_bias:this.logitBias,max_tokens:this.maxTokens===-1?void 0:this.maxTokens,stop:(e==null?void 0:e.stop)??this.stop,user:this.user,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}formatMessages(e){const t={role:"user",content:e};return this.prefixMessages?[...this.prefixMessages,t]:[t]}async*_streamResponseChunks(e,t,n){var a;const i={...this.invocationParams(t),messages:this.formatMessages(e),stream:!0},s=await this.completionWithRetry(i,t);for await(const o of s){const u=o==null?void 0:o.choices[0];if(!u)continue;const{delta:c}=u,d=new rr({text:c.content??""});yield d;const f={prompt:t.promptIndex??0,completion:u.index??0};n==null||n.handleLLMNewToken(d.text??"",f)}if((a=t.signal)!=null&&a.aborted)throw new Error("AbortError")}async _call(e,t,n){var s,a;const i=this.invocationParams(t);if(i.stream){const o=await this._streamResponseChunks(e,t,n);let u;for await(const c of o)u===void 0?u=c:u=u.concat(c);return(u==null?void 0:u.text)??""}else{const o=await this.completionWithRetry({...i,stream:!1,messages:this.formatMessages(e)},{signal:t.signal,...t.options});return((a=(s=o==null?void 0:o.choices[0])==null?void 0:s.message)==null?void 0:a.content)??""}}async completionWithRetry(e,t){const n=this._getClientOptions(t);return this.caller.call(async()=>{try{return await this.client.chat.completions.create(e,n)}catch(i){throw qn(i)}})}_getClientOptions(e){if(!this.client){const n={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=Kn(n),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new Pe(s)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}}class Uf extends Jt{static lc_name(){return"OpenAI"}get callKeys(){return[...super.callKeys,"options"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){var n,i,s,a,o,u,c,d,f,m,b;if(((n=e==null?void 0:e.modelName)!=null&&n.startsWith("gpt-3.5-turbo")||(i=e==null?void 0:e.modelName)!=null&&i.startsWith("gpt-4"))&&!((s=e==null?void 0:e.modelName)!=null&&s.includes("-instruct")))return new Os(e,t);if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:256}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"bestOf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"text-davinci-003"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:20}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.openAIApiKey)??ce("OPENAI_API_KEY"),this.azureOpenAIApiKey=(e==null?void 0:e.azureOpenAIApiKey)??ce("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=(e==null?void 0:e.azureOpenAIApiInstanceName)??ce("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=((e==null?void 0:e.azureOpenAIApiCompletionsDeploymentName)||(e==null?void 0:e.azureOpenAIApiDeploymentName))??(ce("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME")||ce("AZURE_OPENAI_API_DEPLOYMENT_NAME")),this.azureOpenAIApiVersion=(e==null?void 0:e.azureOpenAIApiVersion)??ce("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??ce("AZURE_OPENAI_BASE_PATH"),this.organization=((a=e==null?void 0:e.configuration)==null?void 0:a.organization)??ce("OPENAI_ORGANIZATION"),this.modelName=(e==null?void 0:e.modelName)??this.modelName,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.batchSize=(e==null?void 0:e.batchSize)??this.batchSize,this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.maxTokens=(e==null?void 0:e.maxTokens)??this.maxTokens,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.n=(e==null?void 0:e.n)??this.n,this.bestOf=(e==null?void 0:e.bestOf)??this.bestOf,this.logitBias=e==null?void 0:e.logitBias,this.stop=e==null?void 0:e.stop,this.user=e==null?void 0:e.user,this.streaming=(e==null?void 0:e.streaming)??!1,this.streaming&&this.bestOf&&this.bestOf>1)throw new Error("Cannot stream results when bestOf > 1");if(this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.openAIApiKey=this.openAIApiKey??""}this.clientConfig={apiKey:this.openAIApiKey,organization:this.organization,baseURL:(t==null?void 0:t.basePath)??((o=e==null?void 0:e.configuration)==null?void 0:o.basePath),dangerouslyAllowBrowser:!0,defaultHeaders:((u=t==null?void 0:t.baseOptions)==null?void 0:u.headers)??((d=(c=e==null?void 0:e.configuration)==null?void 0:c.baseOptions)==null?void 0:d.headers),defaultQuery:((f=t==null?void 0:t.baseOptions)==null?void 0:f.params)??((b=(m=e==null?void 0:e.configuration)==null?void 0:m.baseOptions)==null?void 0:b.params),...t,...e==null?void 0:e.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,max_tokens:this.maxTokens,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,n:this.n,best_of:this.bestOf,logit_bias:this.logitBias,stop:(e==null?void 0:e.stop)??this.stop,user:this.user,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return this._identifyingParams()}async _generate(e,t,n){const i=qi(e,this.batchSize),s=[],a={},o=this.invocationParams(t);if(o.max_tokens===-1){if(e.length!==1)throw new Error("max_tokens set to -1 not supported for multiple inputs");o.max_tokens=await Af({prompt:e[0],modelName:this.modelName})}for(let c=0;c<i.length;c+=1){const d=o.stream?await(async()=>{var T;const g=[];let _;const h=await this.completionWithRetry({...o,stream:!0,prompt:i[c]},t);for await(const j of h){_||(_={id:j.id,object:j.object,created:j.created,model:j.model});for(const S of j.choices){if(!g[S.index])g[S.index]=S;else{const R=g[S.index];R.text+=S.text,R.finish_reason=S.finish_reason,R.logprobs=S.logprobs}n==null||n.handleLLMNewToken(S.text,{prompt:Math.floor(S.index/this.n),completion:S.index%this.n})}}if((T=t.signal)!=null&&T.aborted)throw new Error("AbortError");return{..._,choices:g}})():await this.completionWithRetry({...o,stream:!1,prompt:i[c]},{signal:t.signal,...t.options});s.push(...d.choices);const{completion_tokens:f,prompt_tokens:m,total_tokens:b}=d.usage?d.usage:{completion_tokens:void 0,prompt_tokens:void 0,total_tokens:void 0};f&&(a.completionTokens=(a.completionTokens??0)+f),m&&(a.promptTokens=(a.promptTokens??0)+m),b&&(a.totalTokens=(a.totalTokens??0)+b)}return{generations:qi(s,this.n).map(c=>c.map(d=>({text:d.text??"",generationInfo:{finishReason:d.finish_reason,logprobs:d.logprobs}}))),llmOutput:{tokenUsage:a}}}async*_streamResponseChunks(e,t,n){var a;const i={...this.invocationParams(t),prompt:e,stream:!0},s=await this.completionWithRetry(i,t);for await(const o of s){const u=o==null?void 0:o.choices[0];if(!u)continue;const c=new rr({text:u.text,generationInfo:{finishReason:u.finish_reason}});yield c,n==null||n.handleLLMNewToken(c.text??"")}if((a=t.signal)!=null&&a.aborted)throw new Error("AbortError")}async completionWithRetry(e,t){const n=this._getClientOptions(t);return this.caller.call(async()=>{try{return await this.client.completions.create(e,n)}catch(i){throw qn(i)}})}_getClientOptions(e){if(!this.client){const n={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=Kn(n),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new Pe(s)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}}const Mf=Object.freeze(Object.defineProperty({__proto__:null,OpenAI:Uf,OpenAIChat:Os},Symbol.toStringTag,{value:"Module"}));class $f{constructor(e){Object.defineProperty(this,"pageContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pageContent=e.pageContent?e.pageContent.toString():this.pageContent,this.metadata=e.metadata??{}}}class On extends tu{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"examples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleSelector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"examplePrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suffix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"exampleSeparator",{enumerable:!0,configurable:!0,writable:!0,value:`

`}),Object.defineProperty(this,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.examples!==void 0&&this.exampleSelector!==void 0)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(this.examples===void 0&&this.exampleSelector===void 0)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let t=this.inputVariables;this.partialVariables&&(t=t.concat(Object.keys(this.partialVariables))),nu(this.prefix+this.suffix,this.templateFormat,t)}}_getPromptType(){return"few_shot"}async getExamples(e){if(this.examples!==void 0)return this.examples;if(this.exampleSelector!==void 0)return this.exampleSelector.selectExamples(e);throw new Error("One of 'examples' and 'example_selector' should be provided")}async partial(e){const t=this.inputVariables.filter(s=>!(s in e)),n={...this.partialVariables??{},...e},i={...this,inputVariables:t,partialVariables:n};return new On(i)}async format(e){const t=await this.mergePartialAndUserVariables(e),n=await this.getExamples(t),i=await Promise.all(n.map(a=>this.examplePrompt.format(a))),s=[this.prefix,...i,this.suffix].join(this.exampleSeparator);return Ts(s,this.templateFormat,t)}serialize(){if(this.exampleSelector||!this.examples)throw new Error("Serializing an example selector is not currently supported");if(this.outputParser!==void 0)throw new Error("Serializing an output parser is not currently supported");return{_type:this._getPromptType(),input_variables:this.inputVariables,example_prompt:this.examplePrompt.serialize(),example_separator:this.exampleSeparator,suffix:this.suffix,prefix:this.prefix,template_format:this.templateFormat,examples:this.examples}}static async deserialize(e){const{example_prompt:t}=e;if(!t)throw new Error("Missing example prompt");const n=await vt.deserialize(t);let i;if(Array.isArray(e.examples))i=e.examples;else throw new Error("Invalid examples format. Only list or string are supported.");return new On({inputVariables:e.input_variables,examplePrompt:n,examples:i,exampleSeparator:e.example_separator,prefix:e.prefix,suffix:e.suffix,templateFormat:e.template_format})}}const zf=Object.freeze(Object.defineProperty({__proto__:null,FewShotPromptTemplate:On},Symbol.toStringTag,{value:"Module"})),Bf={arabic:"ar",armenian:"am",bulgarian:"bg",danish:"dk",dutch:"nl",english:"en",finnish:"fi",french:"fr",german:"de",greek:"gr",hungarian:"hu",indian:"in",indonesian:"id",irish:"ie",italian:"it",lithuanian:"lt",nepali:"np",norwegian:"no",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"rs",slovenian:"ru",spanish:"es",swedish:"se",tamil:"ta",turkish:"tr",ukrainian:"uk",sanskrit:"sk"},Zf={dutch:/[^A-Za-zàèéìòóù0-9_'-]+/gim,english:/[^A-Za-zàèéìòóù0-9_'-]+/gim,french:/[^a-z0-9äâàéèëêïîöôùüûœç-]+/gim,italian:/[^A-Za-zàèéìòóù0-9_'-]+/gim,norwegian:/[^a-z0-9_æøåÆØÅäÄöÖüÜ]+/gim,portuguese:/[^a-z0-9à-úÀ-Ú]/gim,russian:/[^a-z0-9а-яА-ЯёЁ]+/gim,spanish:/[^a-z0-9A-Zá-úÁ-ÚñÑüÜ]+/gim,swedish:/[^a-z0-9_åÅäÄöÖüÜ-]+/gim,german:/[^a-z0-9A-ZäöüÄÖÜß]+/gim,finnish:/[^a-z0-9äöÄÖ]+/gim,danish:/[^a-z0-9æøåÆØÅ]+/gim,hungarian:/[^a-z0-9áéíóöőúüűÁÉÍÓÖŐÚÜŰ]+/gim,romanian:/[^a-z0-9ăâîșțĂÂÎȘȚ]+/gim,serbian:/[^a-z0-9čćžšđČĆŽŠĐ]+/gim,turkish:/[^a-z0-9çÇğĞıİöÖşŞüÜ]+/gim,lithuanian:/[^a-z0-9ąčęėįšųūžĄČĘĖĮŠŲŪŽ]+/gim,arabic:/[^a-z0-9أ-ي]+/gim,nepali:/[^a-z0-9अ-ह]+/gim,irish:/[^a-z0-9áéíóúÁÉÍÓÚ]+/gim,indian:/[^a-z0-9अ-ह]+/gim,armenian:/[^a-z0-9ա-ֆ]+/gim,greek:/[^a-z0-9α-ωά-ώ]+/gim,indonesian:/[^a-z0-9]+/gim,ukrainian:/[^a-z0-9а-яА-ЯіїєІЇЄ]+/gim,slovenian:/[^a-z0-9čžšČŽŠ]+/gim,bulgarian:/[^a-z0-9а-яА-Я]+/gim,tamil:/[^a-z0-9அ-ஹ]+/gim,sanskrit:/[^a-z0-9A-Zāīūṛḷṃṁḥśṣṭḍṇṅñḻḹṝ]+/gim},au=Object.keys(Bf),Vf=Date.now().toString().slice(5);let Ff=0;const ha=BigInt(1e3),pa=BigInt(1e6),ma=BigInt(1e9),Ii=65535;function xe(r,e){if(e.length<Ii)Array.prototype.push.apply(r,e);else for(let t=0;t<e.length;t+=Ii)Array.prototype.push.apply(r,e.slice(t,t+Ii))}function Kf(r,...e){return r.replace(/%(?:(?<position>\d+)\$)?(?<width>-?\d*\.?\d*)(?<type>[dfs])/g,function(...t){const n=t[t.length-1],{width:i,type:s,position:a}=n,o=a?e[Number.parseInt(a)-1]:e.shift(),u=i===""?0:Number.parseInt(i);switch(s){case"d":return o.toString().padStart(u,"0");case"f":{let c=o;const[d,f]=i.split(".").map(m=>Number.parseFloat(m));return typeof f=="number"&&f>=0&&(c=c.toFixed(f)),typeof d=="number"&&d>=0?c.toString().padStart(u,"0"):c.toString()}case"s":return u<0?o.toString().padEnd(-u," "):o.toString().padStart(u," ");default:return o}})}async function ou(r){return typeof r=="number"&&(r=BigInt(r)),r<ha?`${r}ns`:r<pa?`${r/ha}μs`:r<ma?`${r/pa}ms`:`${r/ma}s`}async function xn(){return typeof process<"u"&&process.hrtime!==void 0?process.hrtime.bigint():BigInt(typeof performance<"u"?Math.floor(performance.now()*1e6):0)}async function uu(){return`${Vf}-${Ff++}`}function Wi(r,e){return Object.hasOwn===void 0?Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0:Object.hasOwn(r,e)?r[e]:void 0}function qf(r,e){return e[1]===r[1]?r[0]-e[0]:e[1]-r[1]}function xs(r){if(r.length===0)return[];if(r.length===1)return r[0];for(let t=1;t<r.length;t++)if(r[t].length<r[0].length){const n=r[0];r[0]=r[t],r[t]=n}const e=new Map;for(const t of r[0])e.set(t,1);for(let t=1;t<r.length;t++){let n=0;for(const i of r[t]){const s=e.get(i);s===t&&(e.set(i,s+1),n++)}if(n===0)return[]}return r[0].filter(t=>{const n=e.get(t);return n!==void 0&&e.set(t,0),n===r.length})}async function cu(r,e){const t={},n=e.length;for(let i=0;i<n;i++){const s=e[i],a=s.split(".");let o=r;const u=a.length;for(let c=0;c<u;c++)if(o=o[a[c]],typeof o=="object"){if(o!==null&&"lat"in o&&"lon"in o&&typeof o.lat=="number"&&typeof o.lon=="number"){o=t[s]=o;break}else if(!Array.isArray(o)&&o!==null&&c===u-1){o=void 0;break}}else if((o===null||typeof o!="object")&&c<u-1){o=void 0;break}typeof o<"u"&&(t[s]=o)}return t}async function Ss(r,e){return(await cu(r,[e]))[e]}const Hf={cm:.01,m:1,km:1e3,ft:.3048,yd:.9144,mi:1609.344};function Wf(r,e){const t=Hf[e];if(t===void 0)throw new Error(pe("INVALID_DISTANCE_SUFFIX",r).message);return r*t}const Gf=au.join(`
 - `),Yf={NO_LANGUAGE_WITH_CUSTOM_TOKENIZER:"Do not pass the language option to create when using a custom tokenizer.",LANGUAGE_NOT_SUPPORTED:`Language "%s" is not supported.
Supported languages are:
 - ${Gf}`,INVALID_STEMMER_FUNCTION_TYPE:"config.stemmer property must be a function.",MISSING_STEMMER:'As of version 1.0.0 @orama/orama does not ship non English stemmers by default. To solve this, please explicitly import and specify the "%s" stemmer from the package @orama/stemmers. See https://docs.oramasearch.com/open-source/text-analysis/stemming for more information.',CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY:"Custom stop words array must only contain strings.",UNSUPPORTED_COMPONENT:'Unsupported component "%s".',COMPONENT_MUST_BE_FUNCTION:'The component "%s" must be a function.',COMPONENT_MUST_BE_FUNCTION_OR_ARRAY_FUNCTIONS:'The component "%s" must be a function or an array of functions.',INVALID_SCHEMA_TYPE:'Unsupported schema type "%s" at "%s". Expected "string", "boolean" or "number" or array of them.',DOCUMENT_ID_MUST_BE_STRING:'Document id must be of type "string". Got "%s" instead.',DOCUMENT_ALREADY_EXISTS:'A document with id "%s" already exists.',DOCUMENT_DOES_NOT_EXIST:'A document with id "%s" does not exists.',MISSING_DOCUMENT_PROPERTY:'Missing searchable property "%s".',INVALID_DOCUMENT_PROPERTY:'Invalid document property "%s": expected "%s", got "%s"',UNKNOWN_INDEX:'Invalid property name "%s". Expected a wildcard string ("*") or array containing one of the following properties: %s',INVALID_BOOST_VALUE:"Boost value must be a number greater than, or less than 0.",INVALID_FILTER_OPERATION:"You can only use one operation per filter, you requested %d.",SCHEMA_VALIDATION_FAILURE:'Cannot insert document due schema validation failure on "%s" property.',INVALID_SORT_SCHEMA_TYPE:'Unsupported sort schema type "%s" at "%s". Expected "string" or "number".',CANNOT_SORT_BY_ARRAY:'Cannot configure sort for "%s" because it is an array (%s).',UNABLE_TO_SORT_ON_UNKNOWN_FIELD:'Unable to sort on unknown field "%s". Allowed fields: %s',SORT_DISABLED:"Sort is disabled. Please read the documentation at https://docs.oramasearch for more information.",UNKNOWN_GROUP_BY_PROPERTY:'Unknown groupBy property "%s".',INVALID_GROUP_BY_PROPERTY:'Invalid groupBy property "%s". Allowed types: "%s", but given "%s".',UNKNOWN_FILTER_PROPERTY:'Unknown filter property "%s".',INVALID_VECTOR_SIZE:'Vector size must be a number greater than 0. Got "%s" instead.',INVALID_VECTOR_VALUE:'Vector value must be a number greater than 0. Got "%s" instead.',INVALID_INPUT_VECTOR:`Property "%s" was declared as a %s-dimensional vector, but got a %s-dimensional vector instead.
Input vectors must be of the size declared in the schema, as calculating similarity between vectors of different sizes can lead to unexpected results.`,WRONG_SEARCH_PROPERTY_TYPE:'Property "%s" is not searchable. Only "string" properties are searchable.',FACET_NOT_SUPPORTED:`Facet doens't support the type "%s".`,INVALID_DISTANCE_SUFFIX:'Invalid distance suffix "%s". Valid suffixes are: cm, m, km, mi, yd, ft.'};function pe(r,...e){const t=new Error(Kf(Yf[r]??`Unsupported Orama Error code: ${r}`,...e));return t.code=r,"captureStackTrace"in Error.prototype&&Error.captureStackTrace(t),t}async function Jf(r){return{raw:Number(r),formatted:await ou(r)}}async function Xf(r){if(r.id){if(typeof r.id!="string")throw pe("DOCUMENT_ID_MUST_BE_STRING",typeof r.id);return r.id}return await uu()}async function lu(r,e){for(const[t,n]of Object.entries(e)){const i=r[t];if(!(typeof i>"u")&&!(n==="geopoint"&&typeof i=="object"&&typeof i.lon=="number"&&typeof i.lat=="number")&&!(n==="enum"&&(typeof i=="string"||typeof i=="number"))){if(n==="enum[]"&&Array.isArray(i)){const s=i.length;for(let a=0;a<s;a++)if(typeof i[a]!="string"&&typeof i[a]!="number")return t+"."+a;continue}if(nr(n)){const s=du(n);if(!Array.isArray(i)||i.length!==s)throw pe("INVALID_INPUT_VECTOR",t,s,i.length);continue}if(Hn(n)){if(!Array.isArray(i))return t;const s=Cs(n),a=i.length;for(let o=0;o<a;o++)if(typeof i[o]!==s)return t+"."+o;continue}if(typeof n=="object"){if(!i||typeof i!="object")return t;const s=await lu(i,n);if(s)return t+"."+s;continue}if(typeof i!==n)return t}}}const Qf={string:!1,number:!1,boolean:!1,enum:!1,geopoint:!1,"string[]":!0,"number[]":!0,"boolean[]":!0,"enum[]":!0},eh={"string[]":"string","number[]":"number","boolean[]":"boolean","enum[]":"enum"};function th(r){return r==="geopoint"}function nr(r){return typeof r=="string"&&/^vector\[\d+\]$/.test(r)}function Hn(r){return typeof r=="string"&&Qf[r]}function Cs(r){return eh[r]}function du(r){const e=Number(r.slice(7,-1));switch(!0){case isNaN(e):throw pe("INVALID_VECTOR_VALUE",r);case e<=0:throw pe("INVALID_VECTOR_SIZE",r);default:return e}}function rh(){return{idToInternalId:new Map,internalIdToId:[],save:nh,load:ih}}function nh(r){return{internalIdToId:r.internalIdToId}}function ih(r,e){const{internalIdToId:t}=e;r.internalDocumentIDStore.idToInternalId.clear(),r.internalDocumentIDStore.internalIdToId=[];for(let n=0;n<t.length;n++)r.internalDocumentIDStore.idToInternalId.set(t[n],n+1),r.internalDocumentIDStore.internalIdToId.push(t[n])}function Oe(r,e){if(typeof e=="string"){const t=r.idToInternalId.get(e);if(t)return t;const n=r.idToInternalId.size+1;return r.idToInternalId.set(e,n),r.internalIdToId.push(e),n}return e>r.internalIdToId.length?Oe(r,e.toString()):e}function Mr(r,e){if(r.internalIdToId.length<e)throw new Error(`Invalid internalId ${e}`);return r.internalIdToId[e-1]}async function sh(r,e){return{sharedInternalDocumentStore:e,docs:{},count:0}}async function ah(r,e){const t=Oe(r.sharedInternalDocumentStore,e);return r.docs[t]}async function oh(r,e){const t=Array.from({length:e.length});for(let n=0;n<e.length;n++){const i=Oe(r.sharedInternalDocumentStore,e[n]);t[n]=r.docs[i]}return t}async function uh(r){return r.docs}async function ch(r,e,t){const n=Oe(r.sharedInternalDocumentStore,e);return typeof r.docs[n]<"u"?!1:(r.docs[n]=t,r.count++,!0)}async function lh(r,e){const t=Oe(r.sharedInternalDocumentStore,e);return typeof r.docs[t]>"u"?!1:(delete r.docs[t],r.count--,!0)}async function dh(r){return r.count}async function fh(r,e){const t=e;return{docs:t.docs,count:t.count,sharedInternalDocumentStore:r}}async function hh(r){return{docs:r.docs,count:r.count}}async function ph(){return{create:sh,get:ah,getMultiple:oh,getAll:uh,store:ch,remove:lh,count:dh,load:fh,save:hh}}const mh=["beforeInsert","afterInsert","beforeRemove","afterRemove","beforeUpdate","afterUpdate","beforeSearch","afterSearch","beforeInsertMultiple","afterInsertMultiple","beforeRemoveMultiple","afterRemoveMultiple","beforeUpdateMultiple","afterUpdateMultiple","beforeLoad","afterLoad"];function gh(r,e){var t;const n=[],i=(t=r.plugins)===null||t===void 0?void 0:t.length;if(!i)return n;for(let s=0;s<i;s++){const a=r.plugins[s];typeof a[e]=="function"&&n.push(a[e])}return n}const yh=["tokenizer","index","documentsStore","sorter"],ga=["validateSchema","getDocumentIndexId","getDocumentProperties","formatElapsedTime"];async function Sn(r,e,t,n){const i=r.length;for(let s=0;s<i;s++)await r[s](e,t,n)}async function Cn(r,e,t){const n=r.length;for(let i=0;i<n;i++)await r[i](e,t)}async function bh(r,e,t,n,i){const s=r.length;for(let a=0;a<s;a++)await r[a](e,t,n,i)}async function vh(r,e,t,n){const i=r.length;for(let s=0;s<i;s++)await r[s](e,t,n)}const ya={UNBALANCED_RIGHT:-2,SLIGHTLY_UNBALANCED_RIGHT:-1,BALANCED:0,SLIGHTLY_UNBALANCED_LEFT:1,UNBALANCED_LEFT:2};function ut(r){return r!=null?r.h:-1}function ba(r){const e=r.r;return r.r=e.l,e.l=r,r.h=Math.max(ut(r.l),ut(r.r))+1,e.h=Math.max(ut(e.l),ut(e.r))+1,e}function va(r){const e=r.l;return r.l=e.r,e.r=r,r.h=Math.max(ut(r.l),ut(r.r))+1,e.h=Math.max(ut(e.l),ut(e.r))+1,e}function wh(r,e,t){if(!r)return[];const n=[];function i(s){s&&(s.k>e&&i(s.l),s.k>=e&&s.k<=t&&xe(n,s.v),s.k<t&&i(s.r))}return i(r),n}function wa(r,e,t=!1){if(!r)return[];const n=[];function i(s){s&&(t&&s.k>=e&&xe(n,s.v),!t&&s.k>e&&xe(n,s.v),i(s.l),i(s.r))}return i(r),n}function _a(r,e,t=!1){if(!r)return[];const n=[];function i(s){s&&(t&&s.k<=e&&xe(n,s.v),!t&&s.k<e&&xe(n,s.v),i(s.l),i(s.r))}return i(r),n}function fu(r,e){for(;r!==null;)if(e<r.k)r=r.l;else if(e>r.k)r=r.r;else return r;return null}function hu(r,e){return{k:r,v:e,l:null,r:null,h:0}}function _h(r,e,t){let n=null,i=r;for(;i!==null;)if(n=i,e<i.k)i=i.l;else if(e>i.k)i=i.r;else return i.v=i.v.concat(t),r;const s=hu(e,t);for(n==null?r=s:e<n.k?n.l=s:n.r=s,i=s;n!=null;){const a=ut(n.l)-ut(n.r);if(a===ya.UNBALANCED_LEFT&&(e>n.l.k&&(n.l=ba(n.l)),n=va(n)),a===ya.UNBALANCED_RIGHT&&(e<n.r.k&&(n.r=va(n.r)),n=ba(n)),n===r)break;i=n,n=Ih(r,i.k)}return r}function Ih(r,e){let t=r,n=null;for(;t!==null;)if(e<t.k)n=t,t=t.l;else if(e>t.k)n=t,t=t.r;else break;return n}function Ah(r,e){const t=fu(r,e);return t==null?null:t.v}function Eh(r,e){let t=r,n=null;for(;t!=null&&t.k!==e;)n=t,e<t.k?t=t.l:t=t.r;if(t==null)return null;if(t.l==null&&t.r==null)n==null?r=null:n.l===t?n.l=null:n.r=null;else if(t.l!=null&&t.r!=null){let i=t.r,s=t;for(;i.l!=null;)s=i,i=i.l;t.k=i.k,s===t?s.r=i.r:s.l=i.r}else{const i=t.l!=null?t.l:t.r;n==null?r=i:n.l===t?n.l=i:n.r=i}return r}function Th(r,e,t){const n=fu(r,t);if(n){if(n.v.length===1){Eh(r,t);return}n.v.splice(n.v.indexOf(e),1)}}function Ph(){return{numberToDocumentId:new Map}}function Oh(r,e,t){return r.numberToDocumentId.has(e)?(r.numberToDocumentId.get(e).push(t),r):(r.numberToDocumentId.set(e,[t]),r)}function xh(r,e,t){var n,i;r==null||r.numberToDocumentId.set(t,((n=r==null?void 0:r.numberToDocumentId.get(t))===null||n===void 0?void 0:n.filter(s=>s!==e))??[]),((i=r==null?void 0:r.numberToDocumentId.get(t))===null||i===void 0?void 0:i.length)===0&&(r==null||r.numberToDocumentId.delete(t))}function Sh(r,e){const t=Object.keys(e);if(t.length!==1)throw new Error("Invalid operation");const n=t[0];switch(n){case"eq":{const i=e[n];return r.numberToDocumentId.get(i)??[]}case"in":{const i=e[n],s=[];for(const a of i){const o=r.numberToDocumentId.get(a);o!=null&&xe(s,o)}return s}case"nin":{const i=e[n],s=[],a=r.numberToDocumentId.keys();for(const o of a){if(i.includes(o))continue;const u=r.numberToDocumentId.get(o);u!=null&&xe(s,u)}return s}}throw new Error("Invalid operation")}function Ch(r,e){const t=Object.keys(e);if(t.length!==1)throw new Error("Invalid operation");const n=t[0];switch(n){case"containsAll":{const s=e[n].map(a=>r.numberToDocumentId.get(a)??[]);return xs(s)}}throw new Error("Invalid operation")}function kh(r,e,t){if(r===e)return 0;const n=r;r.length>e.length&&(r=e,e=n);let i=r.length,s=e.length;for(;i>0&&r.charCodeAt(~-i)===e.charCodeAt(~-s);)i--,s--;if(!i)return s>t?-1:s;let a=0;for(;a<i&&r.charCodeAt(a)===e.charCodeAt(a);)a++;if(i-=a,s-=a,i===0)return s>t?-1:s;const o=s-i;if(t>s)t=s;else if(o>t)return-1;let u=0;const c=[],d=[];for(;u<t;)d[u]=e.charCodeAt(a+u),c[u]=++u;for(;u<s;)d[u]=e.charCodeAt(a+u),c[u++]=t+1;const f=t-o,m=t<s;let b=0,g=t,_=0,h=0,T=0,j=0,S=0;for(u=0;u<i;u++){for(h=u,_=u+1,j=r.charCodeAt(a+u),b+=u>f?1:0,g+=g<s?1:0,S=b;S<g;S++)T=_,_=h,h=c[S],j!==d[S]&&(h<_&&(_=h),T<_&&(_=T),_++),c[S]=_;if(m&&c[u+o]>t)return-1}return _<=t?_:-1}function pu(r,e,t){const n=kh(r,e,t);return{distance:n,isBounded:n>=0}}class Nh{constructor(e,t,n){Ee(this,"c",{});Ee(this,"d",[]);Ee(this,"w","");this.k=e,this.s=t,this.e=n}toJSON(){return{w:this.w,s:this.s,c:this.c,d:this.d,e:this.e}}}function Ft(r,e){r.w=e.w+r.s}function Wr(r,e){r.d.push(e)}function Rh(r,e){const t=r.d.indexOf(e);return t===-1?!1:(r.d.splice(t,1),!0)}function mu(r,e,t,n,i){if(r.e){const{w:s,d:a}=r;if(n&&s!==t)return{};if(Wi(e,s)==null&&(i?Math.abs(t.length-s.length)<=i&&pu(t,s,i).isBounded&&(e[s]=[]):e[s]=[]),Wi(e,s)!=null&&a.length>0){const o=new Set(e[s]),u=a.length;for(let c=0;c<u;c++)o.add(a[c]);e[s]=Array.from(o)}}for(const s of Object.keys(r.c))mu(r.c[s],e,t,n,i);return e}function gu(r,e){let t="";const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){if(r[i]!==e[i])return t;t+=r[i]}return t}function Wt(r=!1,e="",t=""){return new Nh(t,e,r)}function Dh(r,e,t){for(let n=0;n<e.length;n++){const i=e[n],s=e.substring(n),a=r.c[i];if(a){const o=a.s,u=o.length,c=gu(o,s),d=c.length;if(o===s){Wr(a,t),a.e=!0;return}const f=o[d];if(d<u&&d===s.length){const m=Wt(!0,s,i);m.c[f]=a;const b=m.c[f];b.s=o.substring(d),b.k=f,r.c[i]=m,Ft(m,r),Ft(b,m),Wr(m,t);return}if(d<u&&d<s.length){const m=Wt(!1,c,i);m.c[f]=a,r.c[i]=m;const b=m.c[f];b.s=o.substring(d),b.k=f;const g=s[d],_=Wt(!0,e.substring(n+d),g);Wr(_,t),m.c[g]=_,Ft(m,r),Ft(_,m),Ft(b,m);return}n+=u-1,r=a}else{const o=Wt(!0,s,i);Wr(o,t),r.c[i]=o,Ft(o,r);return}}}function _r(r,e,t,n,i,s){if(!(n<0)){if(r.e){const{w:a,d:o}=r;if(a&&(Math.abs(e.length-a.length)<=i&&pu(e,a,i).isBounded&&(s[a]=[]),Wi(s,a)!=null&&o.length>0)){const c=new Set(s[a]),d=o.length;for(let f=0;f<d;f++)c.add(o[f]);s[a]=Array.from(c)}}if(!(t>=e.length)){e[t]in r.c&&_r(r.c[e[t]],e,t+1,n,i,s),_r(r,e,t+1,n-1,i,s);for(const a in r.c)_r(r.c[a],e,t,n-1,i,s);for(const a in r.c)a!==e[t]&&_r(r.c[a],e,t+1,n-1,i,s)}}}function yu(r,{term:e,exact:t,tolerance:n}){if(n&&!t){const i={};return n=n||0,_r(r,e,0,n||0,n,i),i}else{for(let s=0;s<e.length;s++){const a=e[s];if(a in r.c){const o=r.c[a],u=o.s,c=e.substring(s),f=gu(u,c).length;if(f!==u.length&&f!==c.length){if(n)break;return{}}s+=o.s.length-1,r=o}else return{}}const i={};return mu(r,i,e,t,n),i}}function jh(r,e,t,n=!0){if(!e)return!0;for(let i=0;i<e.length;i++){const s=e[i];if(s in r.c){const a=r.c[s];i+=a.s.length-1,r=a,n&&r.w!==e||Rh(r,t)}else return!1}return!0}const bu=2,Lh=6371e3;function Uh(){return{root:null}}function Mh(r,e,t){const n={point:e,docIDs:t};if(r.root==null){r.root=n;return}let i=r.root,s=0;for(;i!==null;){if(i.point.lon===e.lon&&i.point.lat===e.lat){const o=i.docIDs??[];i.docIDs=Array.from(new Set([...o,...t||[]]));return}if(s%bu===0)if(e.lon<i.point.lon){if(i.left==null){i.left=n;return}i=i.left}else{if(i.right==null){i.right=n;return}i=i.right}else if(e.lat<i.point.lat){if(i.left==null){i.left=n;return}i=i.left}else{if(i.right==null){i.right=n;return}i=i.right}s++}}function $h(r,e,t){let n=r.root,i=0,s=null,a=null;for(;n!==null;){if((n==null?void 0:n.point.lon)===e.lon&&n.point.lat===e.lat){var o;const d=(o=n.docIDs)===null||o===void 0?void 0:o.indexOf(t);if(d!==void 0&&d>-1){var u;(u=n.docIDs)===null||u===void 0||u.splice(d,1),(n.docIDs==null||n.docIDs.length===0)&&(s!=null?a==="left"?s.left=n.left!==null?n.left:n.right:a==="right"&&(s.right=n.right!==null?n.right:n.left):r.root=n.left!==null?n.left:n.right);return}}const c=i%bu;s=n,c===0?e.lon<n.point.lon?(n=n==null?void 0:n.left,a="left"):(n=n==null?void 0:n.right,a="right"):e.lat<n.point.lat?(n=n==null?void 0:n.left,a="left"):(n=n==null?void 0:n.right,a="right"),i++}}function zh(r,e,t,n=!0,i="asc",s=!1){const a=s?wu:vu,o=[{node:r,depth:0}],u=[];for(;o.length>0;){const{node:c,depth:d}=o.pop();if(c===null)continue;const f=a(e,c.point);(n?f<=t:f>t)&&u.push({point:c.point,docIDs:c.docIDs??[]}),c.left!=null&&o.push({node:c.left,depth:d+1}),c.right!=null&&o.push({node:c.right,depth:d+1})}return i&&u.sort((c,d)=>{const f=a(e,c.point),m=a(e,d.point);return i.toLowerCase()==="asc"?f-m:m-f}),u}function Bh(r,e,t=!0,n=null,i=!1){const s=[{node:r,depth:0}],a=[];for(;s.length>0;){const u=s.pop();if(u==null||u.node==null)continue;const{node:c,depth:d}=u,f=d+1;c.left!=null&&s.push({node:c.left,depth:f}),c.right!=null&&s.push({node:c.right,depth:f});const m=Vh(e,c.point);m&&t?a.push({point:c.point,docIDs:c.docIDs??[]}):!m&&!t&&a.push({point:c.point,docIDs:c.docIDs??[]})}const o=Zh(e);if(n){const u=i?wu:vu;a.sort((c,d)=>{const f=u(o,c.point),m=u(o,d.point);return n.toLowerCase()==="asc"?f-m:m-f})}return a}function Zh(r){let e=0,t=0,n=0;for(let i=0,s=r.length-1;i<r.length;s=i++){const a=r[i].lon,o=r[i].lat,u=r[s].lon,c=r[s].lat,d=a*c-u*o;e+=d,t+=(a+u)*d,n+=(o+c)*d}return e/=2,t/=6*e,n/=6*e,{lon:t,lat:n}}function Vh(r,e){let t=!1;const n=e.lon,i=e.lat;for(let s=0,a=r.length-1;s<r.length;a=s++){const o=r[s].lon,u=r[s].lat,c=r[a].lon,d=r[a].lat;u>i!=d>i&&n<(c-o)*(i-u)/(d-u)+o&&(t=!t)}return t}function vu(r,e){const t=Math.PI/180,n=r.lat*t,i=e.lat*t,s=(e.lat-r.lat)*t,a=(e.lon-r.lon)*t,o=Math.sin(s/2)*Math.sin(s/2)+Math.cos(n)*Math.cos(i)*Math.sin(a/2)*Math.sin(a/2),u=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return Lh*u}function wu(r,e){const n=.0033528106647474805,i=(1-n)*6378137,s=Math.PI/180,a=r.lat*s,o=e.lat*s,u=(e.lon-r.lon)*s,c=Math.atan((1-n)*Math.tan(a)),d=Math.atan((1-n)*Math.tan(o)),f=Math.sin(c),m=Math.cos(c),b=Math.sin(d),g=Math.cos(d);let _=u,h,T=1e3,j,S,R,M,O;do{const L=Math.sin(_),q=Math.cos(_);R=Math.sqrt(g*L*(g*L)+(m*b-f*g*q)*(m*b-f*g*q)),M=f*b+m*g*q,O=Math.atan2(R,M),j=m*g*L/R,S=1-j*j;const Y=M-2*f*b/S,K=n/16*S*(4+n*(4-3*S));h=_,_=u+(1-K)*n*j*(O+K*R*(Y+K*M*(-1+2*Y*Y)))}while(Math.abs(_-h)>1e-12&&--T>0);const C=S*(6378137*6378137-i*i)/(i*i),v=1+C/16384*(4096+C*(-768+C*(320-175*C))),A=C/1024*(256+C*(-128+C*(74-47*C))),I=A*R*(M-2*f*b/S+A/4*(M*(-1+2*R*R)-A/6*O*(-3+4*R*R)*(-3+4*O*O)));return i*v*(O-I)}function Fh(r,e,t=1,n){if(e===0)throw pe("INVALID_BOOST_VALUE");const i=new Map,s=new Map,a=r.length;for(let g=0;g<a;g++){const _=r[g],h=_.length;for(let T=0;T<h;T++){const[j,S]=_[T],R=S*e,M=i.get(j);M!==void 0?(i.set(j,M*1.5+R),s.set(j,s.get(j)+1)):(i.set(j,R),s.set(j,1))}}const o=[];for(const g of i.entries())o.push(g);const u=o.sort((g,_)=>_[1]-g[1]);if(t===1)return u;const c=u.length,d=[];for(const g of s.entries())d.push(g);const f=d.sort((g,_)=>_[1]-g[1]);let m;for(let g=0;g<c&&f[g][1]===n;g++)m=g;if(typeof m>"u"){if(t===0)return[];m=0}if(t===0)return u.slice(0,m+1);const b=m+Math.ceil(t*100*(u.length-m)/100);return u.slice(0,u.length+b)}function Kh(r,e,t,n,i,s){const{k:a,b:o,d:u}=s;return Math.log(1+(t-e+.5)/(e+.5))*(u+r*(a+1))/(r+a*(1-o+o*n/i))}function _u(r,e){let t=0;for(let n=0;n<e;n++)t+=r[n]*r[n];return Math.sqrt(t)}function qh(r,e,t,n=.8){const i=_u(r,t),s=[];for(const[a,[o,u]]of Object.entries(e)){let c=0;for(let f=0;f<t;f++)c+=r[f]*u[f];const d=c/(i*o);d>=n&&s.push({id:a,score:d})}return s.sort((a,o)=>o.score-a.score)}async function Hh(r,e,t,n,i){const s=Oe(r.sharedInternalDocumentStore,t);r.avgFieldLength[e]=((r.avgFieldLength[e]??0)*(i-1)+n.length)/i,r.fieldLengths[e][s]=n.length,r.frequencies[e][s]={}}async function Wh(r,e,t,n,i){let s=0;for(const u of n)u===i&&s++;const a=Oe(r.sharedInternalDocumentStore,t),o=s/n.length;r.frequencies[e][a][i]=o,i in r.tokenOccurrences[e]||(r.tokenOccurrences[e][i]=0),r.tokenOccurrences[e][i]=(r.tokenOccurrences[e][i]??0)+1}async function Gh(r,e,t,n){const i=Oe(r.sharedInternalDocumentStore,t);r.avgFieldLength[e]=(r.avgFieldLength[e]*n-r.fieldLengths[e][i])/(n-1),r.fieldLengths[e][i]=void 0,r.frequencies[e][i]=void 0}async function Yh(r,e,t){r.tokenOccurrences[e][t]--}async function Jh(r,e,t,n,i){const s=Array.from(i),a=e.avgFieldLength[t],o=e.fieldLengths[t],u=e.tokenOccurrences[t],c=e.frequencies[t],d=typeof u[n]=="number"?u[n]??0:0,f=[],m=s.length;for(let g=0;g<m;g++){var b;const _=Oe(e.sharedInternalDocumentStore,s[g]),h=(c==null||(b=c[_])===null||b===void 0?void 0:b[n])??0,T=Kh(h,d,r.docsCount,o[_],a,r.params.relevance);f.push([_,T])}return f}async function Iu(r,e,t,n,i=""){n||(n={sharedInternalDocumentStore:e,indexes:{},vectorIndexes:{},searchableProperties:[],searchablePropertiesWithTypes:{},frequencies:{},tokenOccurrences:{},avgFieldLength:{},fieldLengths:{}});for(const[s,a]of Object.entries(t)){const o=`${i}${i?".":""}${s}`;if(typeof a=="object"&&!Array.isArray(a)){Iu(r,e,a,n,o);continue}if(nr(a))n.searchableProperties.push(o),n.searchablePropertiesWithTypes[o]=a,n.vectorIndexes[o]={size:du(a),vectors:{}};else{const u=/\[/.test(a);switch(a){case"boolean":case"boolean[]":n.indexes[o]={type:"Bool",node:{true:[],false:[]},isArray:u};break;case"number":case"number[]":n.indexes[o]={type:"AVL",node:hu(0,[]),isArray:u};break;case"string":case"string[]":n.indexes[o]={type:"Radix",node:Wt(),isArray:u},n.avgFieldLength[o]=0,n.frequencies[o]={},n.tokenOccurrences[o]={},n.fieldLengths[o]={};break;case"enum":case"enum[]":n.indexes[o]={type:"Flat",node:Ph(),isArray:u};break;case"geopoint":n.indexes[o]={type:"BKD",node:Uh(),isArray:u};break;default:throw pe("INVALID_SCHEMA_TYPE",Array.isArray(a)?"array":a,o)}n.searchableProperties.push(o),n.searchablePropertiesWithTypes[o]=a}}return n}async function Ia(r,e,t,n,i,s,a,o,u){const c=Oe(e.sharedInternalDocumentStore,n),{type:d,node:f}=e.indexes[t];switch(d){case"Bool":{f[i?"true":"false"].push(c);break}case"AVL":{_h(f,i,[c]);break}case"Radix":{const m=await o.tokenize(i,a,t);await r.insertDocumentScoreParameters(e,t,c,m,u);for(const b of m)await r.insertTokenScoreParameters(e,t,c,m,b),Dh(f,b,c);break}case"Flat":{Oh(f,i,c);break}case"BKD":{Mh(f,i,[c]);break}}}async function Xh(r,e,t,n,i,s,a,o,u){if(nr(s))return Qh(e,t,i,n);if(!Hn(s))return Ia(r,e,t,n,i,s,a,o,u);const c=Cs(s),d=i,f=d.length;for(let m=0;m<f;m++)await Ia(r,e,t,n,d[m],c,a,o,u)}function Qh(r,e,t,n){t instanceof Float32Array||(t=new Float32Array(t));const i=r.vectorIndexes[e].size,s=_u(t,i);r.vectorIndexes[e].vectors[n]=[s,t]}async function Aa(r,e,t,n,i,s,a,o,u){const c=Oe(e.sharedInternalDocumentStore,n);if(nr(s))return delete e.vectorIndexes[t].vectors[n],!0;const{type:d,node:f}=e.indexes[t];switch(d){case"AVL":return Th(f,c,i),!0;case"Bool":{const b=f[i?"true":"false"].indexOf(c);return f[i?"true":"false"].splice(b,1),!0}case"Radix":{const m=await o.tokenize(i,a,t);await r.removeDocumentScoreParameters(e,t,n,u);for(const b of m)await r.removeTokenScoreParameters(e,t,b),jh(f,b,c);return!0}case"Flat":return xh(f,c,i),!0;case"BKD":return $h(f,i,c),!1}}async function ep(r,e,t,n,i,s,a,o,u){if(!Hn(s))return Aa(r,e,t,n,i,s,a,o,u);const c=Cs(s),d=i,f=d.length;for(let m=0;m<f;m++)await Aa(r,e,t,n,d[m],c,a,o,u);return!0}async function tp(r,e,t,n){if(!(t in e.tokenOccurrences))return[];const{node:i,type:s}=e.indexes[t];if(s!=="Radix")throw pe("WRONG_SEARCH_PROPERTY_TYPE",t);const{exact:a,tolerance:o}=r.params,u=yu(i,{term:n,exact:a,tolerance:o}),c=new Set;for(const d in u)for(const f of u[d])c.add(f);return r.index.calculateResultScores(r,e,t,n,Array.from(c))}async function rp(r,e,t){const n=Object.keys(t),i=n.reduce((a,o)=>({[o]:[],...a}),{});for(const a of n){const o=t[a];if(typeof e.indexes[a]>"u")throw pe("UNKNOWN_FILTER_PROPERTY",a);const{node:u,type:c,isArray:d}=e.indexes[a];if(c==="Bool"){const b=u[o.toString()];xe(i[a],b);continue}if(c==="BKD"){let m;if("radius"in o)m="radius";else if("polygon"in o)m="polygon";else throw new Error(`Invalid operation ${o}`);if(m==="radius"){const{value:b,coordinates:g,unit:_="m",inside:h=!0,highPrecision:T=!1}=o[m],j=Wf(b,_),S=zh(u.root,g,j,h,void 0,T);xe(i[a],S.map(({docIDs:R})=>R).flat())}else{const{coordinates:b,inside:g=!0,highPrecision:_=!1}=o[m],h=Bh(u.root,b,g,void 0,_);xe(i[a],h.map(({docIDs:T})=>T).flat())}continue}if(c==="Radix"&&(typeof o=="string"||Array.isArray(o))){for(const m of[o].flat()){const b=await r.tokenizer.tokenize(m,r.language,a);for(const g of b){const _=yu(u,{term:g,exact:!0});xe(i[a],Object.values(_).flat())}}continue}const f=Object.keys(o);if(f.length>1)throw pe("INVALID_FILTER_OPERATION",f.length);if(c==="Flat"){d?xe(i[a],Ch(u,o)):xe(i[a],Sh(u,o));continue}if(c==="AVL"){const m=f[0],b=o[m];let g=[];switch(m){case"gt":{g=wa(u,b,!1);break}case"gte":{g=wa(u,b,!0);break}case"lt":{g=_a(u,b,!1);break}case"lte":{g=_a(u,b,!0);break}case"eq":{g=Ah(u,b)??[];break}case"between":{const[_,h]=b;g=wh(u,_,h);break}}xe(i[a],g)}}return xs(Object.values(i))}async function np(r){return r.searchableProperties}async function ip(r){return r.searchablePropertiesWithTypes}function Au(r){const e=Wt(r.e,r.s,r.k);e.d=r.d,e.w=r.w;for(const t of Object.keys(r.c))e.c[t]=Au(r.c[t]);return e}function sp(r){return{numberToDocumentId:new Map(r)}}function ap(r){return Array.from(r.numberToDocumentId.entries())}async function op(r,e){const{indexes:t,vectorIndexes:n,searchableProperties:i,searchablePropertiesWithTypes:s,frequencies:a,tokenOccurrences:o,avgFieldLength:u,fieldLengths:c}=e,d={},f={};for(const m of Object.keys(t)){const{node:b,type:g,isArray:_}=t[m];switch(g){case"Radix":d[m]={type:"Radix",node:Au(b),isArray:_};break;case"Flat":d[m]={type:"Flat",node:sp(b),isArray:_};break;default:d[m]=t[m]}}for(const m of Object.keys(n)){const b=n[m].vectors;for(const g in b)b[g]=[b[g][0],new Float32Array(b[g][1])];f[m]={size:n[m].size,vectors:b}}return{sharedInternalDocumentStore:r,indexes:d,vectorIndexes:f,searchableProperties:i,searchablePropertiesWithTypes:s,frequencies:a,tokenOccurrences:o,avgFieldLength:u,fieldLengths:c}}async function up(r){const{indexes:e,vectorIndexes:t,searchableProperties:n,searchablePropertiesWithTypes:i,frequencies:s,tokenOccurrences:a,avgFieldLength:o,fieldLengths:u}=r,c={};for(const f of Object.keys(t)){const m=t[f].vectors;for(const b in m)m[b]=[m[b][0],Array.from(m[b][1])];c[f]={size:t[f].size,vectors:m}}const d={};for(const f of Object.keys(e)){const{type:m,node:b,isArray:g}=e[f];if(m!=="Flat"){d[f]=e[f];continue}d[f]={type:"Flat",node:ap(b),isArray:g}}return{indexes:d,vectorIndexes:c,searchableProperties:n,searchablePropertiesWithTypes:i,frequencies:s,tokenOccurrences:a,avgFieldLength:o,fieldLengths:u}}async function cp(){return{create:Iu,insert:Xh,remove:ep,insertDocumentScoreParameters:Hh,insertTokenScoreParameters:Wh,removeDocumentScoreParameters:Gh,removeTokenScoreParameters:Yh,calculateResultScores:Jh,search:tp,searchByWhereClause:rp,getSearchableProperties:np,getSearchablePropertiesWithTypes:ip,load:op,save:up}}function Eu(r,e,t,n,i){const s={language:r.tokenizer.language,sharedInternalDocumentStore:e,enabled:!0,isSorted:!0,sortableProperties:[],sortablePropertiesWithTypes:{},sorts:{}};for(const[a,o]of Object.entries(t)){const u=`${i}${i?".":""}${a}`;if(!n.includes(u)){if(typeof o=="object"&&!Array.isArray(o)){const c=Eu(r,e,o,n,u);xe(s.sortableProperties,c.sortableProperties),s.sorts={...s.sorts,...c.sorts},s.sortablePropertiesWithTypes={...s.sortablePropertiesWithTypes,...c.sortablePropertiesWithTypes};continue}if(!nr(o))switch(o){case"boolean":case"number":case"string":s.sortableProperties.push(u),s.sortablePropertiesWithTypes[u]=o,s.sorts[u]={docs:new Map,orderedDocsToRemove:new Map,orderedDocs:[],type:o};break;case"geopoint":case"enum":continue;case"enum[]":case"boolean[]":case"number[]":case"string[]":continue;default:throw pe("INVALID_SORT_SCHEMA_TYPE",Array.isArray(o)?"array":o,u)}}}return s}async function lp(r,e,t,n){return(n==null?void 0:n.enabled)!==!1?Eu(r,e,t,(n||{}).unsortableProperties||[],""):{disabled:!0}}async function dp(r,e,t,n){if(!r.enabled)return;r.isSorted=!1;const i=Oe(r.sharedInternalDocumentStore,t),s=r.sorts[e];s.docs.set(i,s.orderedDocs.length),s.orderedDocs.push([i,n])}function Tu(r){if(r.isSorted||!r.enabled)return;const e=Object.keys(r.sorts);for(const t of e)mp(r,t);r.isSorted=!0}function fp(r,e,t){return e[1].localeCompare(t[1],r)}function hp(r,e){return r[1]-e[1]}function pp(r,e){return e[1]?-1:1}function mp(r,e){const t=r.sorts[e];let n;switch(t.type){case"string":n=fp.bind(null,r.language);break;case"number":n=hp.bind(null);break;case"boolean":n=pp.bind(null);break}t.orderedDocs.sort(n);const i=t.orderedDocs.length;for(let s=0;s<i;s++){const a=t.orderedDocs[s][0];t.docs.set(a,s)}}function gp(r){const e=Object.keys(r.sorts);for(const t of e)Pu(r,t)}function Pu(r,e){const t=r.sorts[e];t.orderedDocsToRemove.size&&(t.orderedDocs=t.orderedDocs.filter(n=>!t.orderedDocsToRemove.has(n[0])),t.orderedDocsToRemove.clear())}async function yp(r,e,t){if(!r.enabled)return;const n=r.sorts[e],i=Oe(r.sharedInternalDocumentStore,t);n.docs.get(i)&&(n.docs.delete(i),n.orderedDocsToRemove.set(i,!0))}async function bp(r,e,t){if(!r.enabled)throw pe("SORT_DISABLED");const n=t.property,i=t.order==="DESC",s=r.sorts[n];if(!s)throw pe("UNABLE_TO_SORT_ON_UNKNOWN_FIELD",n,r.sortableProperties.join(", "));return Pu(r,n),Tu(r),e.sort((a,o)=>{const u=s.docs.get(Oe(r.sharedInternalDocumentStore,a[0])),c=s.docs.get(Oe(r.sharedInternalDocumentStore,o[0])),d=typeof u<"u",f=typeof c<"u";return!d&&!f?0:d?f?i?c-u:u-c:-1:1}),e}async function vp(r){return r.enabled?r.sortableProperties:[]}async function wp(r){return r.enabled?r.sortablePropertiesWithTypes:{}}async function _p(r,e){const t=e;if(!t.enabled)return{enabled:!1};const n=Object.keys(t.sorts).reduce((i,s)=>{const{docs:a,orderedDocs:o,type:u}=t.sorts[s];return i[s]={docs:new Map(Object.entries(a).map(([c,d])=>[+c,d])),orderedDocsToRemove:new Map,orderedDocs:o,type:u},i},{});return{sharedInternalDocumentStore:r,language:t.language,sortableProperties:t.sortableProperties,sortablePropertiesWithTypes:t.sortablePropertiesWithTypes,sorts:n,enabled:!0,isSorted:t.isSorted}}async function Ip(r){if(!r.enabled)return{enabled:!1};gp(r),Tu(r);const e=Object.keys(r.sorts).reduce((t,n)=>{const{docs:i,orderedDocs:s,type:a}=r.sorts[n];return t[n]={docs:Object.fromEntries(i.entries()),orderedDocs:s,type:a},t},{});return{language:r.language,sortableProperties:r.sortableProperties,sortablePropertiesWithTypes:r.sortablePropertiesWithTypes,sorts:e,enabled:r.enabled,isSorted:r.isSorted}}async function Ap(){return{create:lp,insert:dp,remove:yp,save:Ip,load:_p,sortBy:bp,getSortableProperties:vp,getSortablePropertiesWithTypes:wp}}const Ea=192,Ep=383,Tp=[65,65,65,65,65,65,65,67,69,69,69,69,73,73,73,73,69,78,79,79,79,79,79,null,79,85,85,85,85,89,80,115,97,97,97,97,97,97,97,99,101,101,101,101,105,105,105,105,101,110,111,111,111,111,111,null,111,117,117,117,117,121,112,121,65,97,65,97,65,97,67,99,67,99,67,99,67,99,68,100,68,100,69,101,69,101,69,101,69,101,69,101,71,103,71,103,71,103,71,103,72,104,72,104,73,105,73,105,73,105,73,105,73,105,73,105,74,106,75,107,107,76,108,76,108,76,108,76,108,76,108,78,110,78,110,78,110,110,78,110,79,111,79,111,79,111,79,111,82,114,82,114,82,114,83,115,83,115,83,115,83,115,84,116,84,116,84,116,85,117,85,117,85,117,85,117,85,117,85,117,87,119,89,121,89,90,122,90,122,90,122,115];function Pp(r){return r<Ea||r>Ep?r:Tp[r-Ea]||r}function Op(r){const e=[];for(let t=0;t<r.length;t++)e[t]=Pp(r.charCodeAt(t));return String.fromCharCode(...e)}const xp={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},Sp={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},Cp="[^aeiou]",kn="[aeiouy]",ct=Cp+"[^aeiouy]*",Nr=kn+"[aeiou]*",Ai="^("+ct+")?"+Nr+ct,kp="^("+ct+")?"+Nr+ct+"("+Nr+")?$",Gr="^("+ct+")?"+Nr+ct+Nr+ct,Ta="^("+ct+")?"+kn;function Np(r){let e,t,n,i,s,a;if(r.length<3)return r;const o=r.substring(0,1);if(o=="y"&&(r=o.toUpperCase()+r.substring(1)),n=/^(.+?)(ss|i)es$/,i=/^(.+?)([^s])s$/,n.test(r)?r=r.replace(n,"$1$2"):i.test(r)&&(r=r.replace(i,"$1$2")),n=/^(.+?)eed$/,i=/^(.+?)(ed|ing)$/,n.test(r)){const u=n.exec(r);n=new RegExp(Ai),n.test(u[1])&&(n=/.$/,r=r.replace(n,""))}else i.test(r)&&(e=i.exec(r)[1],i=new RegExp(Ta),i.test(e)&&(r=e,i=/(at|bl|iz)$/,s=new RegExp("([^aeiouylsz])\\1$"),a=new RegExp("^"+ct+kn+"[^aeiouwxy]$"),i.test(r)?r=r+"e":s.test(r)?(n=/.$/,r=r.replace(n,"")):a.test(r)&&(r=r+"e")));if(n=/^(.+?)y$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],n=new RegExp(Ta),e&&n.test(e)&&(r=e+"i")}if(n=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],t=u==null?void 0:u[2],n=new RegExp(Ai),e&&n.test(e)&&(r=e+xp[t])}if(n=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],t=u==null?void 0:u[2],n=new RegExp(Ai),e&&n.test(e)&&(r=e+Sp[t])}if(n=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,i=/^(.+?)(s|t)(ion)$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],n=new RegExp(Gr),e&&n.test(e)&&(r=e)}else if(i.test(r)){const u=i.exec(r);e=(u==null?void 0:u[1])??""+(u==null?void 0:u[2])??"",i=new RegExp(Gr),i.test(e)&&(r=e)}if(n=/^(.+?)e$/,n.test(r)){const u=n.exec(r);e=u==null?void 0:u[1],n=new RegExp(Gr),i=new RegExp(kp),s=new RegExp("^"+ct+kn+"[^aeiouwxy]$"),e&&(n.test(e)||i.test(e)&&!s.test(e))&&(r=e)}return n=/ll$/,i=new RegExp(Gr),n.test(r)&&i.test(r)&&(n=/.$/,r=r.replace(n,"")),o=="y"&&(r=o.toLowerCase()+r.substring(1)),r}function Pa(r,e){var t;const n=`${this.language}:${r}:${e}`;return this.normalizationCache.has(n)?this.normalizationCache.get(n):!((t=this.stopWords)===null||t===void 0)&&t.includes(e)?(this.normalizationCache.set(n,""),""):(this.stemmer&&!this.stemmerSkipProperties.has(r)&&(e=this.stemmer(e)),e=Op(e),this.normalizationCache.set(n,e),e)}function Rp(r){for(;r[r.length-1]==="";)r.pop();for(;r[0]==="";)r.shift();return r}function Oa(r,e,t){if(e&&e!==this.language)throw pe("LANGUAGE_NOT_SUPPORTED",e);if(typeof r!="string")return[r];let n;if(t&&this.tokenizeSkipProperties.has(t))n=[this.normalizeToken.bind(this,t??"")(r)];else{const s=Zf[this.language];n=r.toLowerCase().split(s).map(this.normalizeToken.bind(this,t??"")).filter(Boolean)}const i=Rp(n);return this.allowDuplicates?i:Array.from(new Set(i))}async function xa(r={}){if(!r.language)r.language="english";else if(!au.includes(r.language))throw pe("LANGUAGE_NOT_SUPPORTED",r.language);let e;if(r.stemming||r.stemmer&&!("stemming"in r))if(r.stemmer){if(typeof r.stemmer!="function")throw pe("INVALID_STEMMER_FUNCTION_TYPE");e=r.stemmer}else if(r.language==="english")e=Np;else throw pe("MISSING_STEMMER",r.language);let t;if(r.stopWords!==!1){if(t=[],Array.isArray(r.stopWords))t=r.stopWords;else if(typeof r.stopWords=="function")t=await r.stopWords(t);else if(r.stopWords)throw pe("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");if(!Array.isArray(t))throw pe("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");for(const i of t)if(typeof i!="string")throw pe("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY")}const n={tokenize:Oa,language:r.language,stemmer:e,stemmerSkipProperties:new Set(r.stemmerSkipProperties?[r.stemmerSkipProperties].flat():[]),tokenizeSkipProperties:new Set(r.tokenizeSkipProperties?[r.tokenizeSkipProperties].flat():[]),stopWords:t,allowDuplicates:!!r.allowDuplicates,normalizeToken:Pa,normalizationCache:new Map};return n.tokenize=Oa.bind(n),n.normalizeToken=Pa,n}function Dp(r){const e={formatElapsedTime:Jf,getDocumentIndexId:Xf,getDocumentProperties:cu,validateSchema:lu};for(const t of ga){const n=t;if(r[n]){if(typeof r[n]!="function")throw pe("COMPONENT_MUST_BE_FUNCTION",n)}else r[n]=e[n]}for(const t of Object.keys(r))if(!yh.includes(t)&&!ga.includes(t))throw pe("UNSUPPORTED_COMPONENT",t)}async function Ou({schema:r,sort:e,language:t,components:n,id:i,plugins:s}){n||(n={}),i||(i=await uu());let a=n.tokenizer,o=n.index,u=n.documentsStore,c=n.sorter;if(a?a.tokenize?a=a:a=await xa(a):a=await xa({language:t??"english"}),n.tokenizer&&t)throw pe("NO_LANGUAGE_WITH_CUSTOM_TOKENIZER");const d=rh();o||(o=await cp()),c||(c=await Ap()),u||(u=await ph()),Dp(n);const{getDocumentProperties:f,getDocumentIndexId:m,validateSchema:b,formatElapsedTime:g}=n,_={data:{},caches:{},schema:r,tokenizer:a,index:o,sorter:c,documentsStore:u,internalDocumentIDStore:d,getDocumentProperties:f,getDocumentIndexId:m,validateSchema:b,beforeInsert:[],afterInsert:[],beforeRemove:[],afterRemove:[],beforeUpdate:[],afterUpdate:[],beforeSearch:[],afterSearch:[],beforeInsertMultiple:[],afterInsertMultiple:[],beforeRemoveMultiple:[],afterRemoveMultiple:[],afterUpdateMultiple:[],beforeUpdateMultiple:[],formatElapsedTime:g,id:i,plugins:s};_.data={index:await _.index.create(_,d,r),docs:await _.documentsStore.create(_,d),sorting:await _.sorter.create(_,d,r,e)};for(const h of mh)_[h]=(_[h]??[]).concat(gh(_,h));return _}const Tt=Symbol("orama.insertions"),Pt=Symbol("orama.removals");var Ei;const xu=((Ei=globalThis.process)===null||Ei===void 0?void 0:Ei.emitWarning)??function(e,t){console.warn(`[WARNING] [${t.code}] ${e}`)};function jp(r){typeof r[Tt]!="number"&&(queueMicrotask(()=>{r[Tt]=void 0}),r[Tt]=0),r[Tt]>1e3?(xu("Orama's insert operation is synchronous. Please avoid inserting a large number of document in a single operation in order not to block the main thread or, in alternative, please use insertMultiple.",{code:"ORAMA0001"}),r[Tt]=-1):r[Tt]>=0&&r[Tt]++}function Lp(r){typeof r[Pt]!="number"&&(queueMicrotask(()=>{r[Pt]=void 0}),r[Pt]=0),r[Pt]>1e3?(xu("Orama's remove operation is synchronous. Please avoid removing a large number of document in a single operation in order not to block the main thread, in alternative, please use updateMultiple.",{code:"ORAMA0002"}),r[Pt]=-1):r[Pt]>=0&&r[Pt]++}async function Up(r,e,t,n){const i=await r.validateSchema(e,r.schema);if(i)throw pe("SCHEMA_VALIDATION_FAILURE",i);return Mp(r,e,t,n)}async function Mp(r,e,t,n){const{index:i,docs:s}=r.data,a=await r.getDocumentIndexId(e);if(typeof a!="string")throw pe("DOCUMENT_ID_MUST_BE_STRING",typeof a);if(!await r.documentsStore.store(s,a,e))throw pe("DOCUMENT_ALREADY_EXISTS",a);const o=await r.documentsStore.count(s);n||await Sn(r.beforeInsert,r,a,e);const u=await r.index.getSearchableProperties(i),c=await r.index.getSearchablePropertiesWithTypes(i),d=await r.getDocumentProperties(e,u);for(const[j,S]of Object.entries(d)){if(typeof S>"u")continue;const R=typeof S,M=c[j];if(!(th(M)&&typeof S=="object"&&typeof S.lon=="number"&&typeof S.lat=="number")&&!(nr(M)&&Array.isArray(S))&&!(Hn(M)&&Array.isArray(S))&&!((M==="enum"||M==="enum[]")&&(R==="string"||R==="number"))&&R!==M)throw pe("INVALID_DOCUMENT_PROPERTY",j,M,R)}for(const j of u){var f,m,b,g;const S=d[j];if(typeof S>"u")continue;const R=c[j];await((m=(f=r.index).beforeInsert)===null||m===void 0?void 0:m.call(f,r.data.index,j,a,S,R,t,r.tokenizer,o)),await r.index.insert(r.index,r.data.index,j,a,S,R,t,r.tokenizer,o),await((g=(b=r.index).afterInsert)===null||g===void 0?void 0:g.call(b,r.data.index,j,a,S,R,t,r.tokenizer,o))}const _=await r.sorter.getSortableProperties(r.data.sorting),h=await r.sorter.getSortablePropertiesWithTypes(r.data.sorting),T=await r.getDocumentProperties(e,_);for(const j of _){const S=T[j];if(typeof S>"u")continue;const R=h[j];await r.sorter.insert(r.data.sorting,j,a,S,R,t)}return n||await Sn(r.afterInsert,r,a,e),jp(r),a}async function $p(r,e,t,n,i,s){i||await Cn(r.beforeInsertMultiple,r,e);const a=e.length;for(let o=0;o<a;o++){const u=await r.validateSchema(e[o],r.schema);if(u)throw pe("SCHEMA_VALIDATION_FAILURE",u)}return zp(r,e,t,n,i,s)}async function zp(r,e,t,n,i,s){t||(t=1e3),s=s||0;const a=[];return await new Promise((o,u)=>{let c=0;async function d(){const f=e.slice(c*t,(c+1)*t);if(c++,!f.length)return o();for(const m of f)try{const b=await Up(r,m,n,i);a.push(b)}catch(b){u(b)}setTimeout(d,s)}setTimeout(d,s)}),i||await Cn(r.afterInsertMultiple,r,e),a}async function Bp(r,e,t,n){let i=!0;const{index:s,docs:a}=r.data,o=await r.documentsStore.get(a,e);if(!o)return!1;const u=Mr(r.internalDocumentIDStore,Oe(r.internalDocumentIDStore,e)),c=await r.documentsStore.count(a);n||await Sn(r.beforeRemove,r,u);const d=await r.index.getSearchableProperties(s),f=await r.index.getSearchablePropertiesWithTypes(s),m=await r.getDocumentProperties(o,d);for(const S of d){var b,g,_,h;const R=m[S];if(typeof R>"u")continue;const M=f[S];await((g=(b=r.index).beforeRemove)===null||g===void 0?void 0:g.call(b,r.data.index,S,u,R,M,t,r.tokenizer,c)),await r.index.remove(r.index,r.data.index,S,e,R,M,t,r.tokenizer,c)||(i=!1),await((h=(_=r.index).afterRemove)===null||h===void 0?void 0:h.call(_,r.data.index,S,u,R,M,t,r.tokenizer,c))}const T=await r.sorter.getSortableProperties(r.data.sorting),j=await r.getDocumentProperties(o,T);for(const S of T)typeof j[S]>"u"||await r.sorter.remove(r.data.sorting,S,e);return n||await Sn(r.afterRemove,r,u),await r.documentsStore.remove(r.data.docs,e),Lp(r),i}async function Sa(r,e,t,n,i){let s=0;t||(t=1e3);const a=i?[]:e.map(o=>Mr(r.internalDocumentIDStore,Oe(r.internalDocumentIDStore,o)));return i||await Cn(r.beforeRemoveMultiple,r,a),await new Promise((o,u)=>{let c=0;async function d(){const f=e.slice(c*t,(c+1)*t);if(c++,!f.length)return o();for(const m of f)try{await Bp(r,m,n,i)&&s++}catch(b){u(b)}setTimeout(d,0)}setTimeout(d,0)}),i||await Cn(r.afterRemoveMultiple,r,a),s}function Zp(r="desc",e,t){return r.toLowerCase()==="asc"?e[1]-t[1]:t[1]-e[1]}async function Vp(r,e,t){const n={},i=e.map(([c])=>c),s=await r.documentsStore.getMultiple(r.data.docs,i),a=Object.keys(t),o=await r.index.getSearchablePropertiesWithTypes(r.data.index);for(const c of a){let d={};if(o[c]==="number"){const{ranges:f}=t[c],m=[];for(const b of f)m.push([`${b.from}-${b.to}`,0]);d=Object.fromEntries(m)}n[c]={count:0,values:d}}const u=s.length;for(let c=0;c<u;c++){const d=s[c];for(const f of a){const m=f.includes(".")?await Ss(d,f):d[f],b=o[f];switch(b){case"number":{const g=t[f].ranges;Ca(g,n[f].values,m);break}case"number[]":{const g=new Set,_=t[f].ranges;for(const h of m)Ca(_,n[f].values,h,g);break}case"boolean":case"enum":case"string":{ka(n[f].values,m,b);break}case"boolean[]":case"enum[]":case"string[]":{const g=new Set,_=b==="boolean[]"?"boolean":"string";for(const h of m)ka(n[f].values,h,_,g);break}default:throw pe("FACET_NOT_SUPPORTED",b)}}}for(const c of a)if(n[c].count=Object.keys(n[c].values).length,o[c]==="string"){const d=t;n[c].values=Object.fromEntries(Object.entries(n[c].values).sort((f,m)=>Zp(d.sort,f,m)).slice(d.offset??0,d.limit??10))}return n}function Ca(r,e,t,n){for(const i of r){const s=`${i.from}-${i.to}`;n&&n.has(s)||t>=i.from&&t<=i.to&&(e[s]===void 0?e[s]=1:(e[s]++,n&&n.add(s)))}}function ka(r,e,t,n){const i=(e==null?void 0:e.toString())??(t==="boolean"?"false":"");n&&n.has(i)||(r[i]=(r[i]??0)+1,n&&n.add(i))}function Fp(r,e){const t=new Map,n=[];for(const i of r)t.set(i,!0);for(const[i,s]of e)t.has(i)&&(n.push([i,s]),t.delete(i));return n}const Kp={reducer:(r,e,t,n)=>(e[n]=t,e),getInitialValue:r=>Array.from({length:r})},Na=["string","number","boolean"];async function qp(r,e,t){const n=t.properties,i=n.length,s=await r.index.getSearchablePropertiesWithTypes(r.data.index);for(let T=0;T<i;T++){const j=n[T];if(typeof s[j]>"u")throw pe("UNKNOWN_GROUP_BY_PROPERTY",j);if(!Na.includes(s[j]))throw pe("INVALID_GROUP_BY_PROPERTY",j,Na.join(", "),s[j])}const a=e.map(([T])=>Mr(r.internalDocumentIDStore,T)),o=await r.documentsStore.getMultiple(r.data.docs,a),u=o.length,c=t.maxResult||Number.MAX_SAFE_INTEGER,d=[],f={};for(let T=0;T<i;T++){const j=n[T],S={property:j,perValue:{}},R=new Set;for(let M=0;M<u;M++){const O=o[M],C=await Ss(O,j);if(typeof C>"u")continue;const v=typeof C!="boolean"?C:""+C;typeof S.perValue[v]>"u"&&(S.perValue[v]={indexes:[],count:0}),!(S.perValue[v].count>=c)&&(S.perValue[v].indexes.push(M),S.perValue[v].count++,R.add(C))}d.push(Array.from(R)),f[j]=S}const m=Su(d),b=m.length,g=[];for(let T=0;T<b;T++){const j=m[T],S=j.length,R={values:[],indexes:[]},M=[];for(let O=0;O<S;O++){const C=j[O],v=n[O];M.push(f[v].perValue[typeof C!="boolean"?C:""+C].indexes),R.values.push(C)}R.indexes=xs(M).sort((O,C)=>O-C),R.indexes.length!==0&&g.push(R)}const _=g.length,h=Array.from({length:_});for(let T=0;T<_;T++){const j=g[T],S=t.reduce||Kp,R=j.indexes.map(v=>({id:a[v],score:e[v][1],document:o[v]})),M=S.reducer.bind(null,j.values),O=S.getInitialValue(j.indexes.length),C=R.reduce(M,O);h[T]={values:j.values,result:C}}return h}function Su(r,e=0){if(e+1===r.length)return r[e].map(s=>[s]);const t=r[e],n=Su(r,e+1),i=[];for(const s of t)for(const a of n){const o=[s];xe(o,a),i.push(o)}return i}const Hp={k:1.2,b:.75,d:.5};async function Wp(r,e,t,n,i,s,a,o,u){const c={},d={};for(const f of s){const m={};for(const b of a)m[b]=[];c[f]=m,d[f]=[]}return{timeStart:u,tokenizer:r,index:e,documentsStore:t,language:n,params:i,docsCount:o,uniqueDocsIDs:{},indexMap:c,docsIntersection:d}}async function Gp(r,e,t){const n=await xn();e.relevance=Object.assign(e.relevance??{},Hp);const i=e.facets&&Object.keys(e.facets).length>0,{limit:s=10,offset:a=0,term:o,properties:u,threshold:c=1,distinctOn:d}=e,f=e.preflight===!0,{index:m,docs:b}=r.data,g=await r.tokenizer.tokenize(o??"",t);let _=r.caches.propertiesToSearch;if(!_){const v=await r.index.getSearchablePropertiesWithTypes(m);_=await r.index.getSearchableProperties(m),_=_.filter(A=>v[A].startsWith("string")),r.caches.propertiesToSearch=_}if(u&&u!=="*"){for(const v of u)if(!_.includes(v))throw pe("UNKNOWN_INDEX",v,_.join(", "));_=_.filter(v=>u.includes(v))}const h=await Wp(r.tokenizer,r.index,r.documentsStore,t,e,_,g,await r.documentsStore.count(b),n),T=Object.keys(e.where??{}).length>0;let j=[];T&&(j=await r.index.searchByWhereClause(h,m,e.where));const S=g.length;if(S||u&&u.length>0){const v=_.length;for(let A=0;A<v;A++){var R;const I=_[A];if(S!==0)for(let K=0;K<S;K++){const V=g[K],B=await r.index.search(h,m,I,V);xe(h.indexMap[I][V],B)}else{h.indexMap[I][""]=[];const K=await r.index.search(h,m,I,"");xe(h.indexMap[I][""],K)}const N=h.indexMap[I],L=Object.values(N);h.docsIntersection[I]=Fh(L,(e==null||(R=e.boost)===null||R===void 0?void 0:R[I])??1,c,S);const q=h.docsIntersection[I],Y=q.length;for(let K=0;K<Y;K++){const[V,B]=q[K],G=h.uniqueDocsIDs[V];G?h.uniqueDocsIDs[V]=G+B+.5:h.uniqueDocsIDs[V]=B}}}else g.length===0&&o?h.uniqueDocsIDs={}:h.uniqueDocsIDs=Object.fromEntries(Object.keys(await r.documentsStore.getAll(r.data.docs)).map(v=>[v,0]));let M=Object.entries(h.uniqueDocsIDs).map(([v,A])=>[+v,A]);if(T&&(M=Fp(j,M)),e.sortBy)if(typeof e.sortBy=="function"){const v=M.map(([N])=>N),I=(await r.documentsStore.getMultiple(r.data.docs,v)).map((N,L)=>[M[L][0],M[L][1],N]);I.sort(e.sortBy),M=I.map(([N,L])=>[N,L])}else M=await r.sorter.sortBy(r.data.sorting,M,e.sortBy).then(v=>v.map(([A,I])=>[Oe(r.internalDocumentIDStore,A),I]));else M=M.sort(qf);let O;!f&&d?O=await Yp(r,M,a,s,d):f||(O=await Jp(r,M,a,s));const C={elapsed:{formatted:"",raw:0},hits:[],count:M.length};if(typeof O<"u"&&(C.hits=O.filter(Boolean)),i){const v=await Vp(r,M,e.facets);C.facets=v}return e.groupBy&&(C.groups=await qp(r,M,e.groupBy)),r.beforeSearch&&await vh(r.beforeSearch,r,e,t),r.afterSearch&&await bh(r.afterSearch,r,e,t,C),C.elapsed=await r.formatElapsedTime(await xn()-h.timeStart),C}async function Yp(r,e,t,n,i){const s=r.data.docs,a=new Map,o=[],u=new Set,c=e.length;let d=0;for(let f=0;f<c;f++){const m=e[f];if(typeof m>"u")continue;const[b,g]=m;if(u.has(b))continue;const _=await r.documentsStore.get(s,b),h=await Ss(_,i);if(!(typeof h>"u"||a.has(h))&&(a.set(h,!0),d++,!(d<=t)&&(o.push({id:Mr(r.internalDocumentIDStore,b),score:g,document:_}),u.add(b),d>=t+n)))break}return o}async function Jp(r,e,t,n){const i=r.data.docs,s=Array.from({length:n}),a=new Set;for(let o=t;o<n+t;o++){const u=e[o];if(typeof u>"u")break;const[c,d]=u;if(!a.has(c)){const f=await r.documentsStore.get(i,c);s[o]={id:Mr(r.internalDocumentIDStore,c),score:d,document:f},a.add(c)}}return s}async function Xp(r,e){const t=await xn();let{vector:n}=e;const{property:i,limit:s=10,offset:a=0,includeVectors:o=!1}=e,u=r.data.index.vectorIndexes[i],c=u.size,d=u.vectors;if(n.length!==c)throw pe("INVALID_INPUT_VECTOR",i,c,n.length);n instanceof Float32Array||(n=new Float32Array(n));const f=qh(n,d,c,e.similarity),m=Array.from({length:s});for(let _=0;_<s;_++){const h=f[_+a];if(!h)break;const T=Oe(r.internalDocumentIDStore,h.id),j=r.data.docs.docs[T];if(j){o||(j[i]=null);const S={id:h.id,score:h.score,document:j};m[_]=S}}const g=await xn()-t;return{count:f.length,hits:m.filter(Boolean),elapsed:{raw:Number(g),formatted:await ou(g)}}}async function Qp(r,e){r.internalDocumentIDStore.load(r,e.internalDocumentIDStore),r.data.index=await r.index.load(r.internalDocumentIDStore,e.index),r.data.docs=await r.documentsStore.load(r.internalDocumentIDStore,e.docs),r.data.sorting=await r.sorter.load(r.internalDocumentIDStore,e.sorting),r.tokenizer.language=e.language}async function em(r){return{internalDocumentIDStore:r.internalDocumentIDStore.save(r.internalDocumentIDStore),index:await r.index.save(r.data.index),docs:await r.documentsStore.save(r.data.docs),sorting:await r.sorter.save(r.data.sorting),language:r.tokenizer.language}}var kt=4294967295;function tm(r,e,t){var n=t/4294967296,i=t;r.setUint32(e,n),r.setUint32(e+4,i)}function Cu(r,e,t){var n=Math.floor(t/4294967296),i=t;r.setUint32(e,n),r.setUint32(e+4,i)}function ku(r,e){var t=r.getInt32(e),n=r.getUint32(e+4);return t*4294967296+n}function rm(r,e){var t=r.getUint32(e),n=r.getUint32(e+4);return t*4294967296+n}var Ti,Pi,Oi,Wn=(typeof process>"u"||((Ti=process==null?void 0:process.env)===null||Ti===void 0?void 0:Ti.TEXT_ENCODING)!=="never")&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function Ra(r){for(var e=r.length,t=0,n=0;n<e;){var i=r.charCodeAt(n++);if(i&4294967168)if(!(i&4294965248))t+=2;else{if(i>=55296&&i<=56319&&n<e){var s=r.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?t+=4:t+=3}else{t++;continue}}return t}function nm(r,e,t){for(var n=r.length,i=t,s=0;s<n;){var a=r.charCodeAt(s++);if(a&4294967168)if(!(a&4294965248))e[i++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&s<n){var o=r.charCodeAt(s);(o&64512)===56320&&(++s,a=((a&1023)<<10)+(o&1023)+65536)}a&4294901760?(e[i++]=a>>18&7|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128):(e[i++]=a>>12&15|224,e[i++]=a>>6&63|128)}else{e[i++]=a;continue}e[i++]=a&63|128}}var Or=Wn?new TextEncoder:void 0,im=Wn?typeof process<"u"&&((Pi=process==null?void 0:process.env)===null||Pi===void 0?void 0:Pi.TEXT_ENCODING)!=="force"?200:0:kt;function sm(r,e,t){e.set(Or.encode(r),t)}function am(r,e,t){Or.encodeInto(r,e.subarray(t))}var om=Or!=null&&Or.encodeInto?am:sm,um=4096;function Nu(r,e,t){for(var n=e,i=n+t,s=[],a="";n<i;){var o=r[n++];if(!(o&128))s.push(o);else if((o&224)===192){var u=r[n++]&63;s.push((o&31)<<6|u)}else if((o&240)===224){var u=r[n++]&63,c=r[n++]&63;s.push((o&31)<<12|u<<6|c)}else if((o&248)===240){var u=r[n++]&63,c=r[n++]&63,d=r[n++]&63,f=(o&7)<<18|u<<12|c<<6|d;f>65535&&(f-=65536,s.push(f>>>10&1023|55296),f=56320|f&1023),s.push(f)}else s.push(o);s.length>=um&&(a+=String.fromCharCode.apply(String,s),s.length=0)}return s.length>0&&(a+=String.fromCharCode.apply(String,s)),a}var cm=Wn?new TextDecoder:null,lm=Wn?typeof process<"u"&&((Oi=process==null?void 0:process.env)===null||Oi===void 0?void 0:Oi.TEXT_DECODER)!=="force"?200:0:kt;function dm(r,e,t){var n=r.subarray(e,e+t);return cm.decode(n)}var Yr=function(){function r(e,t){this.type=e,this.data=t}return r}(),fm=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),at=function(r){fm(e,r);function e(t){var n=r.call(this,t)||this,i=Object.create(e.prototype);return Object.setPrototypeOf(n,i),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:e.name}),n}return e}(Error),hm=-1,pm=4294967296-1,mm=17179869184-1;function gm(r){var e=r.sec,t=r.nsec;if(e>=0&&t>=0&&e<=mm)if(t===0&&e<=pm){var n=new Uint8Array(4),i=new DataView(n.buffer);return i.setUint32(0,e),n}else{var s=e/4294967296,a=e&4294967295,n=new Uint8Array(8),i=new DataView(n.buffer);return i.setUint32(0,t<<2|s&3),i.setUint32(4,a),n}else{var n=new Uint8Array(12),i=new DataView(n.buffer);return i.setUint32(0,t),Cu(i,4,e),n}}function ym(r){var e=r.getTime(),t=Math.floor(e/1e3),n=(e-t*1e3)*1e6,i=Math.floor(n/1e9);return{sec:t+i,nsec:n-i*1e9}}function bm(r){if(r instanceof Date){var e=ym(r);return gm(e)}else return null}function vm(r){var e=new DataView(r.buffer,r.byteOffset,r.byteLength);switch(r.byteLength){case 4:{var t=e.getUint32(0),n=0;return{sec:t,nsec:n}}case 8:{var i=e.getUint32(0),s=e.getUint32(4),t=(i&3)*4294967296+s,n=i>>>2;return{sec:t,nsec:n}}case 12:{var t=ku(e,4),n=e.getUint32(0);return{sec:t,nsec:n}}default:throw new at("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(r.length))}}function wm(r){var e=vm(r);return new Date(e.sec*1e3+e.nsec/1e6)}var _m={type:hm,encode:bm,decode:wm},Ru=function(){function r(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(_m)}return r.prototype.register=function(e){var t=e.type,n=e.encode,i=e.decode;if(t>=0)this.encoders[t]=n,this.decoders[t]=i;else{var s=1+t;this.builtInEncoders[s]=n,this.builtInDecoders[s]=i}},r.prototype.tryToEncode=function(e,t){for(var n=0;n<this.builtInEncoders.length;n++){var i=this.builtInEncoders[n];if(i!=null){var s=i(e,t);if(s!=null){var a=-1-n;return new Yr(a,s)}}}for(var n=0;n<this.encoders.length;n++){var i=this.encoders[n];if(i!=null){var s=i(e,t);if(s!=null){var a=n;return new Yr(a,s)}}}return e instanceof Yr?e:null},r.prototype.decode=function(e,t,n){var i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,n):new Yr(t,e)},r.defaultCodec=new r,r}();function Nn(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer?new Uint8Array(r):Uint8Array.from(r)}function Im(r){if(r instanceof ArrayBuffer)return new DataView(r);var e=Nn(r);return new DataView(e.buffer,e.byteOffset,e.byteLength)}var Am=100,Em=2048,Tm=function(){function r(e,t,n,i,s,a,o,u){e===void 0&&(e=Ru.defaultCodec),t===void 0&&(t=void 0),n===void 0&&(n=Am),i===void 0&&(i=Em),s===void 0&&(s=!1),a===void 0&&(a=!1),o===void 0&&(o=!1),u===void 0&&(u=!1),this.extensionCodec=e,this.context=t,this.maxDepth=n,this.initialBufferSize=i,this.sortKeys=s,this.forceFloat32=a,this.ignoreUndefined=o,this.forceIntegerToFloat=u,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return r.prototype.reinitializeState=function(){this.pos=0},r.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},r.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},r.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,t)},r.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(t*2)},r.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t),i=new DataView(t);n.set(this.bytes),this.view=i,this.bytes=n},r.prototype.encodeNil=function(){this.writeU8(192)},r.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},r.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},r.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},r.prototype.encodeString=function(e){var t=5,n=e.length;if(n>im){var i=Ra(e);this.ensureBufferSizeToWrite(t+i),this.writeStringHeader(i),om(e,this.bytes,this.pos),this.pos+=i}else{var i=Ra(e);this.ensureBufferSizeToWrite(t+i),this.writeStringHeader(i),nm(e,this.bytes,this.pos),this.pos+=i}},r.prototype.encodeObject=function(e,t){var n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,t);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},r.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<4294967296)this.writeU8(198),this.writeU32(t);else throw new Error("Too large binary: ".concat(t));var n=Nn(e);this.writeU8a(n)},r.prototype.encodeArray=function(e,t){var n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error("Too large array: ".concat(n));for(var i=0,s=e;i<s.length;i++){var a=s[i];this.doEncode(a,t+1)}},r.prototype.countWithoutUndefined=function(e,t){for(var n=0,i=0,s=t;i<s.length;i++){var a=s[i];e[a]!==void 0&&n++}return n},r.prototype.encodeMap=function(e,t){var n=Object.keys(e);this.sortKeys&&n.sort();var i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error("Too large map object: ".concat(i));for(var s=0,a=n;s<a.length;s++){var o=a[s],u=e[o];this.ignoreUndefined&&u===void 0||(this.encodeString(o),this.doEncode(u,t+1))}},r.prototype.encodeExtension=function(e){var t=e.data.length;if(t===1)this.writeU8(212);else if(t===2)this.writeU8(213);else if(t===4)this.writeU8(214);else if(t===8)this.writeU8(215);else if(t===16)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<4294967296)this.writeU8(201),this.writeU32(t);else throw new Error("Too large extension object: ".concat(t));this.writeI8(e.type),this.writeU8a(e.data)},r.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},r.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},r.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},r.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},r.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},r.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},r.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},r.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},r.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},r.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),tm(this.view,this.pos,e),this.pos+=8},r.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),Cu(this.view,this.pos,e),this.pos+=8},r}(),Pm={};function Om(r,e){e===void 0&&(e=Pm);var t=new Tm(e.extensionCodec,e.context,e.maxDepth,e.initialBufferSize,e.sortKeys,e.forceFloat32,e.ignoreUndefined,e.forceIntegerToFloat);return t.encodeSharedRef(r)}function xi(r){return"".concat(r<0?"-":"","0x").concat(Math.abs(r).toString(16).padStart(2,"0"))}var xm=16,Sm=16,Cm=function(){function r(e,t){e===void 0&&(e=xm),t===void 0&&(t=Sm),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return r.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},r.prototype.find=function(e,t,n){var i=this.caches[n-1];e:for(var s=0,a=i;s<a.length;s++){for(var o=a[s],u=o.bytes,c=0;c<n;c++)if(u[c]!==e[t+c])continue e;return o.str}return null},r.prototype.store=function(e,t){var n=this.caches[e.length-1],i={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)},r.prototype.decode=function(e,t,n){var i=this.find(e,t,n);if(i!=null)return this.hit++,i;this.miss++;var s=Nu(e,t,n),a=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(a,s),s},r}(),km=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):i(d.value).then(o,u)}c((n=n.apply(r,e||[])).next())})},Si=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Da=globalThis&&globalThis.__asyncValues||function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(a){return new Promise(function(o,u){a=r[s](a),i(o,u,a.done,a.value)})}}function i(s,a,o,u){Promise.resolve(u).then(function(c){s({value:c,done:o})},a)}},Xt=globalThis&&globalThis.__await||function(r){return this instanceof Xt?(this.v=r,this):new Xt(r)},Nm=globalThis&&globalThis.__asyncGenerator||function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(m){n[m]&&(i[m]=function(b){return new Promise(function(g,_){s.push([m,b,g,_])>1||o(m,b)})})}function o(m,b){try{u(n[m](b))}catch(g){f(s[0][3],g)}}function u(m){m.value instanceof Xt?Promise.resolve(m.value.v).then(c,d):f(s[0][2],m)}function c(m){o("next",m)}function d(m){o("throw",m)}function f(m,b){m(b),s.shift(),s.length&&o(s[0][0],s[0][1])}},Rm=function(r){var e=typeof r;return e==="string"||e==="number"},sr=-1,ks=new DataView(new ArrayBuffer(0)),Dm=new Uint8Array(ks.buffer),Gi=function(){try{ks.getInt8(0)}catch(r){return r.constructor}throw new Error("never reached")}(),ja=new Gi("Insufficient data"),jm=new Cm,Lm=function(){function r(e,t,n,i,s,a,o,u){e===void 0&&(e=Ru.defaultCodec),t===void 0&&(t=void 0),n===void 0&&(n=kt),i===void 0&&(i=kt),s===void 0&&(s=kt),a===void 0&&(a=kt),o===void 0&&(o=kt),u===void 0&&(u=jm),this.extensionCodec=e,this.context=t,this.maxStrLength=n,this.maxBinLength=i,this.maxArrayLength=s,this.maxMapLength=a,this.maxExtLength=o,this.keyDecoder=u,this.totalPos=0,this.pos=0,this.view=ks,this.bytes=Dm,this.headByte=sr,this.stack=[]}return r.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=sr,this.stack.length=0},r.prototype.setBuffer=function(e){this.bytes=Nn(e),this.view=Im(this.bytes),this.pos=0},r.prototype.appendBuffer=function(e){if(this.headByte===sr&&!this.hasRemaining(1))this.setBuffer(e);else{var t=this.bytes.subarray(this.pos),n=Nn(e),i=new Uint8Array(t.length+n.length);i.set(t),i.set(n,t.length),this.setBuffer(i)}},r.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},r.prototype.createExtraByteError=function(e){var t=this,n=t.view,i=t.pos;return new RangeError("Extra ".concat(n.byteLength-i," of ").concat(n.byteLength," byte(s) found at buffer[").concat(e,"]"))},r.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},r.prototype.decodeMulti=function(e){return Si(this,function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}})},r.prototype.decodeAsync=function(e){var t,n,i,s;return km(this,void 0,void 0,function(){var a,o,u,c,d,f,m,b;return Si(this,function(g){switch(g.label){case 0:a=!1,g.label=1;case 1:g.trys.push([1,6,7,12]),t=Da(e),g.label=2;case 2:return[4,t.next()];case 3:if(n=g.sent(),!!n.done)return[3,5];if(u=n.value,a)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u);try{o=this.doDecodeSync(),a=!0}catch(_){if(!(_ instanceof Gi))throw _}this.totalPos+=this.pos,g.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=g.sent(),i={error:c},[3,12];case 7:return g.trys.push([7,,10,11]),n&&!n.done&&(s=t.return)?[4,s.call(t)]:[3,9];case 8:g.sent(),g.label=9;case 9:return[3,11];case 10:if(i)throw i.error;return[7];case 11:return[7];case 12:if(a){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,o]}throw d=this,f=d.headByte,m=d.pos,b=d.totalPos,new RangeError("Insufficient data in parsing ".concat(xi(f)," at ").concat(b," (").concat(m," in the current buffer)"))}})})},r.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},r.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},r.prototype.decodeMultiAsync=function(e,t){return Nm(this,arguments,function(){var i,s,a,o,u,c,d,f,m;return Si(this,function(b){switch(b.label){case 0:i=t,s=-1,b.label=1;case 1:b.trys.push([1,13,14,19]),a=Da(e),b.label=2;case 2:return[4,Xt(a.next())];case 3:if(o=b.sent(),!!o.done)return[3,12];if(u=o.value,t&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u),i&&(s=this.readArraySize(),i=!1,this.complete()),b.label=4;case 4:b.trys.push([4,9,,10]),b.label=5;case 5:return[4,Xt(this.doDecodeSync())];case 6:return[4,b.sent()];case 7:return b.sent(),--s===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(c=b.sent(),!(c instanceof Gi))throw c;return[3,10];case 10:this.totalPos+=this.pos,b.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return d=b.sent(),f={error:d},[3,19];case 14:return b.trys.push([14,,17,18]),o&&!o.done&&(m=a.return)?[4,Xt(m.call(a))]:[3,16];case 15:b.sent(),b.label=16;case 16:return[3,18];case 17:if(f)throw f.error;return[7];case 18:return[7];case 19:return[2]}})})},r.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){var n=e-128;if(n!==0){this.pushMapState(n),this.complete();continue e}else t={}}else if(e<160){var n=e-144;if(n!==0){this.pushArrayState(n),this.complete();continue e}else t=[]}else{var i=e-160;t=this.decodeUtf8String(i,0)}else if(e===192)t=null;else if(e===194)t=!1;else if(e===195)t=!0;else if(e===202)t=this.readF32();else if(e===203)t=this.readF64();else if(e===204)t=this.readU8();else if(e===205)t=this.readU16();else if(e===206)t=this.readU32();else if(e===207)t=this.readU64();else if(e===208)t=this.readI8();else if(e===209)t=this.readI16();else if(e===210)t=this.readI32();else if(e===211)t=this.readI64();else if(e===217){var i=this.lookU8();t=this.decodeUtf8String(i,1)}else if(e===218){var i=this.lookU16();t=this.decodeUtf8String(i,2)}else if(e===219){var i=this.lookU32();t=this.decodeUtf8String(i,4)}else if(e===220){var n=this.readU16();if(n!==0){this.pushArrayState(n),this.complete();continue e}else t=[]}else if(e===221){var n=this.readU32();if(n!==0){this.pushArrayState(n),this.complete();continue e}else t=[]}else if(e===222){var n=this.readU16();if(n!==0){this.pushMapState(n),this.complete();continue e}else t={}}else if(e===223){var n=this.readU32();if(n!==0){this.pushMapState(n),this.complete();continue e}else t={}}else if(e===196){var n=this.lookU8();t=this.decodeBinary(n,1)}else if(e===197){var n=this.lookU16();t=this.decodeBinary(n,2)}else if(e===198){var n=this.lookU32();t=this.decodeBinary(n,4)}else if(e===212)t=this.decodeExtension(1,0);else if(e===213)t=this.decodeExtension(2,0);else if(e===214)t=this.decodeExtension(4,0);else if(e===215)t=this.decodeExtension(8,0);else if(e===216)t=this.decodeExtension(16,0);else if(e===199){var n=this.lookU8();t=this.decodeExtension(n,1)}else if(e===200){var n=this.lookU16();t=this.decodeExtension(n,2)}else if(e===201){var n=this.lookU32();t=this.decodeExtension(n,4)}else throw new at("Unrecognized type byte: ".concat(xi(e)));this.complete();for(var s=this.stack;s.length>0;){var a=s[s.length-1];if(a.type===0)if(a.array[a.position]=t,a.position++,a.position===a.size)s.pop(),t=a.array;else continue e;else if(a.type===1){if(!Rm(t))throw new at("The type of key must be string or number but "+typeof t);if(t==="__proto__")throw new at("The key __proto__ is not allowed");a.key=t,a.type=2;continue e}else if(a.map[a.key]=t,a.readCount++,a.readCount===a.size)s.pop(),t=a.map;else{a.key=null,a.type=1;continue e}}return t}},r.prototype.readHeadByte=function(){return this.headByte===sr&&(this.headByte=this.readU8()),this.headByte},r.prototype.complete=function(){this.headByte=sr},r.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new at("Unrecognized array type byte: ".concat(xi(e)))}}},r.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new at("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},r.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new at("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},r.prototype.decodeUtf8String=function(e,t){var n;if(e>this.maxStrLength)throw new at("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw ja;var i=this.pos+t,s;return this.stateIsMapKey()&&(!((n=this.keyDecoder)===null||n===void 0)&&n.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,i,e):e>lm?s=dm(this.bytes,i,e):s=Nu(this.bytes,i,e),this.pos+=t+e,s},r.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},r.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new at("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw ja;var n=this.pos+t,i=this.bytes.subarray(n,n+e);return this.pos+=t+e,i},r.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new at("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var n=this.view.getInt8(this.pos+t),i=this.decodeBinary(e,t+1);return this.extensionCodec.decode(i,n,this.context)},r.prototype.lookU8=function(){return this.view.getUint8(this.pos)},r.prototype.lookU16=function(){return this.view.getUint16(this.pos)},r.prototype.lookU32=function(){return this.view.getUint32(this.pos)},r.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},r.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},r.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},r.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},r.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},r.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},r.prototype.readU64=function(){var e=rm(this.view,this.pos);return this.pos+=8,e},r.prototype.readI64=function(){var e=ku(this.view,this.pos);return this.pos+=8,e},r.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},r.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},r}(),Um={};function Mm(r,e){e===void 0&&(e=Um);var t=new Lm(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return t.decode(r)}var $r={};(function(r){var e=0,t=3,n=2,i=1,s=7,a=0,o=3,u=4,c=5,d=6,f=7,m=8,b=9,g=11,_=13,h=500,T=12,j=14,S=15,R=1,M=typeof Symbol<"u"?Symbol.iterator:"__iterator_symbol__";function O(q){q||(q={});var Y=q.converterByConstructor;Y||(Y=new Map),Y.set(Map,{name:"Map",toValue:I}),Y.set(Set,{name:"Set",toValue:N}),Y.set(Date,{name:"Date",toValue:L}),q.outlet||q.avoidShareUpdate;var K=typeof Ie<"u"&&Ie.Buffer&&!(q&&q.encoding==="utf16le")?r.nodeCharEncoder(q):v(),V=K.writeString,B=K.writeToken,G=K.startSequence,W=K.endSequence,te=K.writeBuffer;q.forProperty;var ie;q.shared&&(ie=q.shared.propertyUsed,q.shared.propertyUsed);var ge=[],J,je=r.bufferSymbol||"_bufferSymbol_",Le=r.targetSymbol||"_targetSymbol_",we=R++,Ve=[0,1,2,3,4,5,ae,ve,E,D,X];function Q(U){B(i,U)}function y(U){B(n,U.length),V(U)}function E(U){var re,ee=J.values;if(ee){ee.resetTo>-1&&ee.serializer!==we&&(ee.serializer=we,ee.resetTo<ee.length&&(ee.length=ee.resetTo),B(t,_),B(i,ee.resetTo));var ne=ee.indexOf(U);if(ne>-1)return Q(ne)}if((re=typeof U)=="string"||re==="object"&&U){if(J.writeSharedValue){if(J.writeSharedValue(U,B,we))return}else if(ee){var le=ee.length;le<12&&(ee[le]=U)}}re==="string"?y(U):ae(U)}function D(U){var re=typeof U;if(re==="number")if(U>>>0===U||U>0&&U<70368744177664&&U%1===0)B(i,U);else{var ee=U.toString();y(ee)}else re==="object"?ae(U):z(U)}function z(U){U===null?B(t,a):U===!1?B(t,o):U===!0?B(t,u):U===void 0?B(t,c):F(U)}function F(U){var re=typeof U,ee;if(re==="object")if(U){var ne=U.constructor;if(ne!==Object)if(ne===Array)re="array";else if(ee=Y.get(ne),ee&&ee.toValue){if(U=ee.toValue(U),re=typeof U,U&&re==="object"&&U.constructor===Array&&(re="array"),J.type===re)return J.extendedType!==ee&&(J.extendedType=ee,B(t,g),y(ee.name)),Ve[J.code](U)}else ee=!1}else re="undefined";else re==="boolean"?re="undefined":re==="function"&&(U=U.toString(),re="string");J=ue(null,re,ee),Ve[J.code](U)}function X(){B(t,a)}function ae(U,re){var ee=typeof U;if(ee==="object"){if(!U)return B(t,a)}else return ee==="string"?y(U):ee==="number"&&(U>>>0===U||U>0&&U<70368744177664&&U%1===0)?B(i,U):z(U);var ne=U,le=ne.constructor,me;if(ne[Le])return ye(U);if(le===Object)me=!1;else{if(le===Array)return J=ue(J.key,"array"),Ve[J.code](U);if(ne.then)return ye(U);if(Ue=Y.get(le),Ue){if(Ue.toValue)return z(ne)}else{if(ne[M])return J=ue(J.key,"array"),fe(ne,re);Y.set(le,Ue={name:le.name})}J.constructs!==le&&(B(t,g),y(Ue.name),J.constructs=le),me=!0}var Z=J;Z.resetTo<Z.length&&Z.serializer!=we&&(Z.length=Z.resetTo,Z.serializer=we),G();var he=0,Ce=-2,be=0;for(var Xe in ne)if(!(me&&!ne.hasOwnProperty(Xe))){var U=ne[Xe];ee=typeof U,J=Z[be];var le,Ue=!1;if(ee==="object"&&(U?(le=U.constructor,le===Object||(le===Array?ee="array":(Ue=Y.get(le),Ue&&Ue.toValue?(U=Ue.toValue(U),ee=typeof U,U&&ee==="object"&&U.constructor===Array&&(ee="array")):U[M]&&!U.then?ee="array":Ue=!1))):ee="undefined"),!J||J.key!==Xe||J.type!==ee&&ee!=="boolean"&&ee!=="undefined"&&!(ee==="string"&&J.type!=="number")||Ue&&J.extendedType!==le){var st=be;Ce>-2&&(be=Ce);do J=Z[++be];while(J&&(J.key!==Xe||J.type!==ee&&ee!=="boolean"&&ee!=="undefined"&&!(ee==="string"&&J.type!=="number")||Ue&&J.extendedType!==le));if(J)B(e,be),Ce===-2&&(Ce=st-1);else if(Z.getProperty)J=Z.getProperty(U,Xe,ee,Ue,ue,B,st),be=J.index,st!==be&&Ce===-2&&(Ce=st-1);else{if(st===Z.length?be=st:(B(e,be=Z.length),Ce===-2&&(Ce=st-1)),be<Z.resetTo){debugger;throw new Error("overwriting frozen property")}J=Z[be]=ue(Xe,ee,Ue)}}ie&&ie(J,ne,we,he);var ir=J.code;ir>7?ir===8?E(U):D(U):ir===6?ae(U):ve(U),be++,he++}J=Z,W(he)}function ue(U,re,ee){var ne;return ne=[],ne.key=U,ne.type=re,re==="string"?(B(t,m),ne.values=[],ne.code=m):re==="number"?(B(t,b),ne.code=b):re==="object"?(B(t,d),ne.code=d):re==="array"?(B(t,f),ne.code=f):re==="boolean"||re==="undefined"?(ne.type="object",B(t,d),ne.code=d):(B(t,d),ne.code=10,console.error("Unable to write value of type "+re)),typeof U=="string"?y(U):U===null&&(re==="object"||re==="array")||ae(U),ee&&(ne.extendedType=ee,B(t,g),y(ee.name)),ne}function fe(U,re,ee){try{ee||(B(s,T),ee=U[M]());var ne=J;J=ne.child||(ne.child=ne);for(var le;!(le=ee.next()).done;)if(Ve[J.code](le.value,ne),re&&K.hasWritten){K.hasWritten=!1,J=ne,ge.unshift({then:function(me){return fe(null,!0,ee),me()}});return}}catch(me){throw B(t,g),B(i,h),ae(Object.assign(new(typeof me=="object"&&me?me.constructor:Error),{name:me&&me.name,message:me&&me.message||me})),me}J!==ne.child&&(ne.child=J),J=ne,B(s,j)}function ve(U){if(!U)z(U);else{if(U[Le])return ye(U);if(U.constructor===Array){var re=U.length,ee;re>11?(B(s,T),ee=!0):B(s,re);var ne=J;J=ne[0],ne.resetTo<ne.length&&ne.serializer!=we&&(ne.length=ne.resetTo,ne.serializer=we);for(var le=0,me=0;me<re;me++){var Z=U[me],he=typeof Z;if(he==="object")if(Z){var Ce=Z.constructor;if(Ce!==Object)if(Ce===Array)he="array";else{var be=Y.get(Ce);be&&be.toValue?(Z=be.toValue(Z),he=typeof Z,Z&&he==="object"&&Z.constructor===Array&&(he="array")):be=!1}}else he="undefined";if(!J)ne.getProperty?J=ne.getProperty(Z,null,he,be,ue,B,0):(he==="string"||he==="number"||he==="array"?J=ue(null,he,be):(J=[],J.type=he,J.key=null,J.code=d),ne[0]=J);else if(J.type!==he&&he!=="boolean"&&he!=="undefined"&&!(he==="string"&&J.type!=="number")||be&&J.extendedType!==Ce){le=-1;do J=ne[++le];while(J&&(J.type!==he&&he!=="boolean"&&he!=="undefined"&&!(he==="string"&&J.type!=="number")||be&&J.extendedType!==Ce));J?B(e,le):ne.getProperty?J=ne.getProperty(Z,null,he,be,ue,B,-1):(B(e,le),J=ue(null,he,be),ne[le]=J)}ie&&ie(J,U,we,me);var Xe=J.code;Xe>7?Xe===8?E(Z):D(Z):Xe===6?ae(Z):ve(Z)}ee&&B(s,j),J=ne}else{if(typeof U=="object"&&U[M])return fe(U);if(he==="string")return y(Z);if(he==="number"&&(Z>>>0===Z||Z>0&&Z<70368744177664&&Z%1===0))return B(i,Z);z(U)}}}function ye(U,re){B(s,S);var ee=J,ne=U[Le]?{then:le}:{then:function(me){return U.then(function(Z){U=Z,le(me)},function(Z){U=Object.assign(new(typeof Z=="object"&&Z?Z.constructor:Error),{name:Z&&Z.name,message:Z&&Z.message||Z}),ee.upgrade||(B(t,g),B(i,h)),le(me)})}};function le(me){if(q.forBlock&&U)q.forBlock(U,ee);else{var Z=U&&U[je]&&U[je](ee);if(Z)te(Z);else{J=ee;var he=ge;ge=[],ae(U,!0),he.unshift.apply(he,ge),ge=he}}me()}ge.push(ne)}var _e={serialize:function(U,re){var ee=U&&U[je]&&U[je](re);if(ee){K.writeBuffer(ee);return}re?(J=re,Ve[J.code](U)):(J=[],J.key=null,ae(U,!0))},getSerialized:function(){if(ge.length>0){for(var U=[];ge.length>0;){var re=!1,ee=ge.shift().then(function(){re=!0});re||U.push(ee)}if(U.length>0)return Promise.all(U).then(function(){return _e.getSerialized()})}return q&&q.encoding==="utf16le"?Buffer.from(K.getSerialized(),"utf16le"):K.getSerialized()},flush:K.flush,setOffset:K.setOffset,finish:K.finish,pendingEncodings:ge,getWriters:function(){return{writeProperty:ue,writeToken:B,writeAsDefault:ae,writeBuffer:te}}};return _e}function C(q,Y){var K=O(Y),V=Y&&Y.shared,B;V&&V.startWrite&&V.startWrite(Y.avoidShareUpdate,q),K.serialize(q,V),B=K.getSerialized(),V&&V.endWrite&&V.endWrite(Y.avoidShareUpdate,q),K.finish&&K.finish();var G=q&&q[r.sizeTableSymbol];return G&&(B.sizeTable=G),Y&&Y.lazy?Buffer.concat([q[r.sizeTableSymbol],B]):B}r.serialize=C,r.createSerializer=O;function v(){var q="";function Y(B,G){var W;if(G<16)W=String.fromCharCode((B<<4|G)^64);else if(G<1024)W=String.fromCharCode((B<<4)+(G>>>6),(G&63)+64);else if(G<65536)W=String.fromCharCode((B<<4)+(G>>>12),G>>>6&63,(G&63)+64);else if(G<4194304)W=String.fromCharCode((B<<4)+(G>>>18),G>>>12&63,G>>>6&63,(G&63)+64);else if(G<268435456)W=String.fromCharCode((B<<4)+(G>>>24),G>>>18&63,G>>>12&63,G>>>6&63,(G&63)+64);else if(G<4294967296)W=String.fromCharCode((B<<4)+(G>>>30),G>>>24&63,G>>>18&63,G>>>12&63,G>>>6&63,(G&63)+64);else if(G<17179869184)W=String.fromCharCode((B<<4)+(G/1073741824>>>0),G>>>24&63,G>>>18&63,G>>>12&63,G>>>6&63,(G&63)+64);else if(G<1099511627776)W=String.fromCharCode((B<<4)+(G/68719476736>>>0),G/1073741824&63,G>>>24&63,G>>>18&63,G>>>12&63,G>>>6&63,(G&63)+64);else if(G<70368744177664)W=String.fromCharCode((B<<4)+(G/4398046511104>>>0),G/68719476736&63,G/1073741824&63,G>>>24&63,G>>>18&63,G>>>12&63,G>>>6&63,(G&63)+64);else throw new Error("Too big of number");q+=W}function K(B){q+=B}function V(){return q}return{writeToken:Y,writeString:K,getSerialized:V,startSequence:function(){Y(s,T)},endSequence:function(){Y(s,j)},getOffset:function(){return-1}}}var A=Array.from||function(q,V){var K=[],V=q.constructor===Map;return q.forEach(function(B,G){V?K.push([G,B]):K.push(B)}),K};function I(q){for(var Y=A(q),K=0,V=Y.length;K<V;K++){var B=Y[K];Y[K]={key:B[0],value:B[1]}}return Y}function N(q){return A(q)}function L(q){return q.getTime()}})($r);var Ns={},$m=3,zm=4,La=6,Ua=7,Ma=8,$a=9,za=11,Bm=13,Zm=14,Vm=500,Fm=12,Km=14,qm=15;function Du(r){r||(r={});var e,t,n,i=r.classByName||new Map;i.set("Map",Hm),i.set("Set",Wm),i.set("Date",Gm);var s,a;function o(g,_){if(g.previous=s,g.resume=!0,s=g,!n)throw new Error("Unexpected end of dpack stream");return b.onResume||(b.onResume=function(h,T,j){var S=s;return s=null,b.onResume=null,_<t.length?t=t.slice(_)+h:j?t=h.slice(0,1)+h.slice(1):t=h,n=T,f+=_,e=0,S.reader?S.reader(S):u(S.length,S)}),g.object}function u(g,_){var h=0;_=_||[];var T,j,S,R,M=0,O=0;if(_.resume){if(T=_.previous,T){var R=T.reader?T.reader(T):u(T.length,T),C=T.values;C&&(s?s.values=C:R.nextPosition>-1?C[C.nextPosition++]=R:C.push(R))}_.code&&_.code!==_.thisProperty.code?_.resume=!1:(M=_.i||0,S=_.object,h=_.propertyState||0,O=_.propertyIndex||0,_=_.thisProperty)}for(j=_.code===Ua,S=S||(_.constructs?new _.constructs:j?[]:{});M<g;){var v,A,I=e,N=t.charCodeAt(e++);if(N>=48)N>12288?(v=N>>>12^4,A=N&4095):(v=N>>>4^4,A=N&15);else if(v=N>>>4&11,A=N&15,N=t.charCodeAt(e++),A=(A<<6)+(N&63),!(N>=64)&&(N=t.charCodeAt(e++),A=(A<<6)+(N&63),!(N>=64)&&(N=t.charCodeAt(e++),A=(A<<6)+(N&63),!(N>=64)&&(N=t.charCodeAt(e++),A=(A<<6)+(N&63),!(N>=64)&&(N=t.charCodeAt(e++),A=A*64+(N&63),!(N>=64)&&(N=t.charCodeAt(e++),A=A*64+(N&63),!(N>=64)&&(N=t.charCodeAt(e++),A=A*64+(N&63),!(N>=0)&&e>t.length)))))))return o({length:g,thisProperty:_,i:M,object:S,propertyIndex:O,propertyState:h},I);if(v===0){O=A,h=0;continue}if(T=_[O],v===3)if(A<6)A<3?A===0?R=null:R="Unknown token, type: "+v+" number: "+A:A===zm?R=!0:A===$m?R=!1:R=void 0;else{if(A<=$a){if(h===1&&(O++,M++,T=_[O]),O<_.resetTo)throw new Error("Overwriting frozen property");T?T.resume||(R=T.key,T=_[O]=[],T.key=R):(T=_[O]=[],T.key=null),T.code=A,T.parent=_,h=2,A===Ma?T.values=[]:A===Ua&&(T[0]=[],T[0].key=null,T[0].code=La,T[0].parent=T)}else h=A;continue}else if(v===2){if(R=t.slice(e,e+=A),e>t.length)return o({length:g,thisProperty:_,i:M,object:S,propertyIndex:O,propertyState:h},I);h<2&&T.code===$a&&(R=+R)}else if(v===1)R=A;else if(A>13){if(A===Km)return S;A===qm&&(R=u(0,T),h=0,r.forDeferred?R=r.forDeferred(R,T):(a||(a=[])).push({property:T,value:R}))}else if(A>=Fm&&(A=2e9),h>1?h===2?(h=0,R=u(A,T)):h===za?R=u(A,[{key:null,code:6}]):T.resume&&(T.code||La)===T.thisProperty.code?R=u(A,T.thisProperty):R=u(A,T):R=u(A,T),s){if(R===void 0)return s=null,b.onResume=null,o({length:g,thisProperty:_,i:M,object:S,property:T,propertyIndex:O,previousProperty,propertyState:h},I);s.values=T.values instanceof Array?T.values:void 0}if(!T)throw new Error("No property defined for slot"+(_.key?" in "+_.key:""));if(h<2&&T&&T.code===Ma){var C=T.values;if(typeof R=="number"){if(R=C[A],R===void 0&&!(A in C))throw new Error("Referencing value that has not been read yet")}else(v===2||v===7)&&C&&(C.nextPosition>-1?(T.recordValueReference&&T.recordValueReference(C),C[C.nextPosition++]=R):C.push(R))}if(h>1){if(h===2)T.key=R;else if(h===za)if(typeof R=="string"){var L=i.get(R);if(L)L.fromValue?T.fromValue=L.fromValue:T.constructs=L;else if(r.errorOnUnknownClass)throw new Error("Attempt to deserialize to unknown class "+parameter);T.extendedType=L}else T.metadata=R,R===Vm&&(T.fromValue=d);else if(h===Bm){var C=T.values||(T.values=[]);C.nextPosition=R}else if(h!==Zm)throw new Error("Unknown property type "+h);h=1;continue}else h=0;T.fromValue&&(R=T.fromValue(R)),j&&T.key===null?S.push(R):R!==void 0&&(S[T.key]=R),M++,j||O++}return S}var c;function d(g){var _=typeof Ie<"u"?Ie:window;if(g&&g.name&&_[g.name]?g=new _[g.name](g.message):typeof g=="string"&&(g=new Error(g)),r.onError)r.onError(g);else throw c=!0,g}var f=0;function m(g){try{if(g&&g.resume){var _=g.previous;h=u(_.length,_),h=g.object||h,g=g.property}else{g=g||[r&&r.shared||{key:null,code:6}];var h=u(1,g)[g[0].key]}for(;;){if(s)return o({reader:m,object:h,property:g});if(!a)return h;var T=a.index||0,j=a[T];if(a.index=T+1,!j){a=a.parent;continue}var S=j.value,R=a;a=[],a.parent=R;var M=j.property,O=u(1,g=[{resume:!0,key:null,thisProperty:M,object:S}]);O=O.null||O[M.key],O!=S&&(Object.assign(S,O),s&&s.object===O&&(s.object=S),O&&O.constructor===Array&&(S.length=O.length,Object.setPrototypeOf(S,Object.getPrototypeOf(O))))}}catch(C){throw c||(C.message="DPack parsing error: "+C.message+" at position: "+(e+f)+" near: "+t.slice(e-10,e+10)),C}}var b={setSource:function(g,_,h){return t=g,e=_||0,f=0,n=h,this},hasMoreData:function(){return t.length>e},isPaused:function(){return s},hasUnfulfilledReferences:function(){return a&&a.length>a.index},getOffset:function(){return e+f},read:m};return b}Ns.parse=function(r,e){var t;if(typeof r=="string")t=r;else if(r&&r.toString)t=r.toString(e&&e.encoding||"utf8");else return r;var n=Du(e).setSource(t);return e&&e.shared?n.read([e.shared]):n.read()};Ns.createParser=Du;var Hm={fromValue:function(r){for(var e=new Map,t=0,n=r.length;t<n;t++){var i=r[t];e.set(i.key,i.value)}return e}},Wm={fromValue:function(r){var e=new Set(r);if(e.size===0&&r.length>0)for(var t=0,n=r.length;t<n;t++)e.add(r[t]);return e}},Gm={fromValue:function(r){return new Date(r)}};Sc.Transform;var ju={},Ba=32768,Za=[];function Ym(r){var e=r.startOffset||0,t,n=r.outlet,i=Za.pop();i&&i.length>e+128?t=i.length:(t=(e>>12<<12)+8192,i=Buffer.allocUnsafeSlow(t));var s=r.encoding,a=[];function o(_){if(n)n.writeBytes(i.slice(0,e)),(t<Ba||_>Ba)&&(t=Math.max(t*4,_)),i=Buffer.allocUnsafeSlow(t),e=0,a=[],g.hasWritten=!0;else{t=Math.max(t*4,t+_,8192);var h=i;i=Buffer.allocUnsafeSlow(t),h.copy(i,0,0,e)}}function u(_){(_||n).writeBytes(i.slice(0,e)),e+128>i.length?i=Buffer.allocUnsafeSlow(t=Math.min(Math.max((e>>10<<10)+8192,t),32768)):(i=i.slice(e),t=i.length),e=0,a=[]}function c(_,h){if(h<16)i[e++]=(_<<4)+h^64;else if(h<1024)i[e++]=(_<<4)+(h>>>6),i[e++]=(h&63)+64;else if(h<65536)i[e++]=(_<<4)+(h>>>12),i[e++]=h>>>6&63,i[e++]=(h&63)+64;else if(h<4194304)i[e++]=(_<<4)+(h>>>18),i[e++]=h>>>12&63,i[e++]=h>>>6&63,i[e++]=(h&63)+64;else if(h<268435456)i[e++]=(_<<4)+(h>>>24),i[e++]=h>>>18&63,i[e++]=h>>>12&63,i[e++]=h>>>6&63,i[e++]=(h&63)+64;else if(h<4294967296)i[e++]=(_<<4)+(h>>>30),i[e++]=h>>>24&63,i[e++]=h>>>18&63,i[e++]=h>>>12&63,i[e++]=h>>>6&63,i[e++]=(h&63)+64;else if(h<17179869184)i[e++]=(_<<4)+(h/1073741824>>>0),i[e++]=h>>>24&63,i[e++]=h>>>18&63,i[e++]=h>>>12&63,i[e++]=h>>>6&63,i[e++]=(h&63)+64;else if(h<1099511627776)i[e++]=(_<<4)+(h/68719476736>>>0),i[e++]=h/1073741824&63,i[e++]=h>>>24&63,i[e++]=h>>>18&63,i[e++]=h>>>12&63,i[e++]=h>>>6&63,i[e++]=(h&63)+64;else if(h<70368744177664)i[e++]=(_<<4)+(h/4398046511104>>>0),i[e++]=h/68719476736&63,i[e++]=h/1073741824&63,i[e++]=h>>>24&63,i[e++]=h>>>18&63,i[e++]=h>>>12&63,i[e++]=h>>>6&63,i[e++]=(h&63)+64;else throw new Error("Invalid number "+h);e>t-10&&o(0)}function d(_){var h=_.length;h+e+10>t&&o(h+10),_.copy(i,e),e+=h}function f(_){var h=_.length,T=h*3+10;e+T>t&&o(T+10);var j=s?i.write(_,e,i.length,s):i.utf8Write(_,e,i.length);e+=j}function m(){return i.slice(0,e)}function b(_,h){var T=_.length;e+T+10>t&&o(T+10),i.copy(i,T+h,h,e),_.copy(i,h),e+=T}var g={writeToken:c,writeString:f,writeBuffer:d,getSerialized:m,insertBuffer:b,flush:u,startSequence(){var _=e;i[e++]=60,a.push(_),e>t-10&&o(0)},endSequence(_){var h=a.pop();if(_<12&&h>-1){i[h]=48+_;return}i[e++]=62},finish(){i.length-e>144&&Za.push(i.slice(e))},getOffset(){return e},setOffset(_){e=_}};return g}ju.nodeCharEncoder=Ym;function Jm(){this.classByName=new Map,this.converterByConstructor=new Map}Jm.prototype.addExtension=function(r,e,t){e&&r.name!==e&&(r.name=e),this.classByName.set(r.name,t&&t.fromArray?t:r),this.converterByConstructor.set(r,t&&t.toArray?t:r)};$r.createSerializer;$r.serialize;var Rs=typeof Symbol<"u"?Symbol:function(r){return"symbol-"+r},Xm=Rs("buffer"),Qm=Rs("sizeTable"),eg=Rs("target");process.env.NODE_ENV!="production";var zr=$r;zr.bufferSymbol=Xm;zr.targetSymbol=eg;zr.sizeTableSymbol=Qm;zr.serialize;zr.createSerializer;const Ds=$r;Ds.nodeCharEncoder=ju.nodeCharEncoder;const tg=Ns;var rg=Ds.serialize,ng=tg.parse;Ds.createSerializer;function Lu(r){return`Unsupported serialization format: ${r}`}function Uu(){return typeof process<"u"&&process.versions!==void 0?"node":typeof Deno<"u"?"deno":typeof Bun<"u"?"bun":typeof window<"u"?"browser":"unknown"}const Yi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15},Va=Object.keys(Yi);function ig(r){const e=new Uint8Array(Math.floor(r.length/2));r=r.toLowerCase();for(let t=0;t<r.length;t++){const n=Yi[r[t*2]],i=Yi[r[t*2+1]];if(n===void 0||i===void 0)break;e[t]=n<<4|i}return e}function sg(r){return Array.from(r||[]).map(e=>Va[e>>4]+Va[e&15]).join("")}async function ag(r,e="binary",t){t||(t=Uu());const n=await em(r);let i;switch(e){case"json":i=JSON.stringify(n);break;case"dpack":i=rg(n);break;case"binary":{const s=Om(n);t==="node"?(i=Buffer.from(s.buffer,s.byteOffset,s.byteLength),i=i.toString("hex")):i=sg(s)}break;default:throw new Error(Lu(e))}return i}async function og(r,e,t){t||(t=Uu());const n=await Ou({schema:{__placeholder:"string"}});let i;switch(r){case"json":i=JSON.parse(e.toString());break;case"dpack":i=ng(e);break;case"binary":t==="node"?e=Buffer.from(e.toString(),"hex"):e=ig(e),i=Mm(e);break;default:throw new Error(Lu(r))}return await Qp(n,i),n}class ug extends Se{constructor(e){super(e),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callbacks=e==null?void 0:e.callbacks,this.tags=(e==null?void 0:e.tags)??[],this.metadata=(e==null?void 0:e.metadata)??{},this.verbose=(e==null?void 0:e.verbose)??!1}_getRelevantDocuments(e,t){throw new Error("Not implemented!")}async invoke(e,t){return this.getRelevantDocuments(e,t)}async getRelevantDocuments(e,t){const n=ed(t),i=await Be.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),s=await(i==null?void 0:i.handleRetrieverStart(this.toJSON(),e,void 0,void 0,void 0,void 0,n.runName));try{const a=await this._getRelevantDocuments(e,s);return await(s==null?void 0:s.handleRetrieverEnd(a)),a}catch(a){throw await(s==null?void 0:s.handleRetrieverError(a)),a}}}class Ci extends ug{static lc_name(){return"VectorStoreRetriever"}get lc_namespace(){return["langchain","retrievers","base"]}_vectorstoreType(){return this.vectorStore._vectorstoreType()}constructor(e){super(e),Object.defineProperty(this,"vectorStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"k",{enumerable:!0,configurable:!0,writable:!0,value:4}),Object.defineProperty(this,"searchType",{enumerable:!0,configurable:!0,writable:!0,value:"similarity"}),Object.defineProperty(this,"searchKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.vectorStore=e.vectorStore,this.k=e.k??this.k,this.searchType=e.searchType??this.searchType,this.filter=e.filter,e.searchType==="mmr"&&(this.searchKwargs=e.searchKwargs)}async _getRelevantDocuments(e,t){if(this.searchType==="mmr"){if(typeof this.vectorStore.maxMarginalRelevanceSearch!="function")throw new Error(`The vector store backing this retriever, ${this._vectorstoreType()} does not support max marginal relevance search.`);return this.vectorStore.maxMarginalRelevanceSearch(e,{k:this.k,filter:this.filter,...this.searchKwargs},t==null?void 0:t.getChild("vectorstore"))}return this.vectorStore.similaritySearch(e,this.k,this.filter,t==null?void 0:t.getChild("vectorstore"))}async addDocuments(e,t){return this.vectorStore.addDocuments(e,t)}}class cg extends _t{constructor(e,t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","vectorstores",this._vectorstoreType()]}),Object.defineProperty(this,"embeddings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.embeddings=e}async delete(e){throw new Error("Not implemented.")}async similaritySearch(e,t=4,n=void 0,i=void 0){return(await this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(e),t,n)).map(a=>a[0])}async similaritySearchWithScore(e,t=4,n=void 0,i=void 0){return this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(e),t,n)}static fromTexts(e,t,n,i){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}static fromDocuments(e,t,n){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}asRetriever(e,t,n,i,s,a){if(typeof e=="number")return new Ci({vectorStore:this,k:e,filter:t,tags:[...i??[],this._vectorstoreType()],metadata:s,verbose:a,callbacks:n});{const o={vectorStore:this,k:e==null?void 0:e.k,filter:e==null?void 0:e.filter,tags:[...(e==null?void 0:e.tags)??[],this._vectorstoreType()],metadata:e==null?void 0:e.metadata,verbose:e==null?void 0:e.verbose,callbacks:e==null?void 0:e.callbacks,searchType:e==null?void 0:e.searchType};return(e==null?void 0:e.searchType)==="mmr"?new Ci({...o,searchKwargs:e.searchKwargs}):new Ci({...o})}}}class lg{constructor(e){Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.caller=new zn(e??{})}}class dg extends lg{constructor(e,t){var c,d;const n={maxConcurrency:2,...e};super(n),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"text-embedding-ada-002"}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:512}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let i=(n==null?void 0:n.openAIApiKey)??ce("OPENAI_API_KEY");const s=(n==null?void 0:n.azureOpenAIApiKey)??ce("AZURE_OPENAI_API_KEY");if(!s&&!i)throw new Error("OpenAI or Azure OpenAI API key not found");const a=(n==null?void 0:n.azureOpenAIApiInstanceName)??ce("AZURE_OPENAI_API_INSTANCE_NAME"),o=((n==null?void 0:n.azureOpenAIApiEmbeddingsDeploymentName)||(n==null?void 0:n.azureOpenAIApiDeploymentName))??(ce("AZURE_OPENAI_API_EMBEDDINGS_DEPLOYMENT_NAME")||ce("AZURE_OPENAI_API_DEPLOYMENT_NAME")),u=(n==null?void 0:n.azureOpenAIApiVersion)??ce("AZURE_OPENAI_API_VERSION");if(this.azureOpenAIBasePath=(n==null?void 0:n.azureOpenAIBasePath)??ce("AZURE_OPENAI_BASE_PATH"),this.modelName=(n==null?void 0:n.modelName)??this.modelName,this.batchSize=(n==null?void 0:n.batchSize)??(s?1:this.batchSize),this.stripNewLines=(n==null?void 0:n.stripNewLines)??this.stripNewLines,this.timeout=n==null?void 0:n.timeout,this.azureOpenAIApiVersion=u,this.azureOpenAIApiKey=s,this.azureOpenAIApiInstanceName=a,this.azureOpenAIApiDeploymentName=o,this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");i=i??""}this.clientConfig={apiKey:i,baseURL:t==null?void 0:t.basePath,dangerouslyAllowBrowser:!0,defaultHeaders:(c=t==null?void 0:t.baseOptions)==null?void 0:c.headers,defaultQuery:(d=t==null?void 0:t.baseOptions)==null?void 0:d.params,...t}}async embedDocuments(e){const t=qi(this.stripNewLines?e.map(a=>a.replace(/\n/g," ")):e,this.batchSize),n=t.map(a=>this.embeddingWithRetry({model:this.modelName,input:a})),i=await Promise.all(n),s=[];for(let a=0;a<i.length;a+=1){const o=t[a],{data:u}=i[a];for(let c=0;c<o.length;c+=1)s.push(u[c].embedding)}return s}async embedQuery(e){const{data:t}=await this.embeddingWithRetry({model:this.modelName,input:this.stripNewLines?e.replace(/\n/g," "):e});return t[0].embedding}async embeddingWithRetry(e){if(!this.client){const n={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=Kn(n),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new Pe(s)}const t={};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),this.caller.call(async()=>{try{return await this.client.embeddings.create(e,t)}catch(n){throw qn(n)}})}}class fg extends Se{parseResultWithPrompt(e,t,n){return this.parseResult(e,n)}async invoke(e,t){return typeof e=="string"?this._callWithConfig(async n=>this.parseResult([{text:n}]),e,{...t,runType:"parser"}):this._callWithConfig(async n=>this.parseResult([{message:n,text:n.content}]),e,{...t,runType:"parser"})}}class hg extends fg{parseResult(e,t){return this.parse(e[0].text,t)}async parseWithPrompt(e,t,n){return this.parse(e,n)}_type(){throw new Error("_type not implemented")}}class pg extends hg{async*_transform(e){for await(const t of e)typeof t=="string"?yield this.parseResult([{text:t}]):yield this.parseResult([{message:t,text:t.content}])}async*transform(e,t){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...t,runType:"parser"})}}class mg extends pg{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","output_parser"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"StrOutputParser"}parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}}var gg={id:"string",filename:"string",content:"string",embedding:"vector[1536]"},yg=class extends cg{constructor(r,e){super(r,e),this.embeddings=r,this.db=Ou({schema:gg,id:e.indexName})}_vectorstoreType(){return"OramaStore"}async removeDocuments(r){console.log("Removing documents",r);const e=await Sa(await this.db,r.map(t=>t.metadata.id));console.log("Removed documents with ids",e)}async addVectors(r,e){const n=e.map(a=>a.metadata.filename).filter((a,o,u)=>u.indexOf(a)===o);for(const a of n){const o=await Gp(await this.db,{properties:["filename"],term:a,exact:!0,limit:1e4});console.log("Removed documents",o,"for filename",a),await Sa(await this.db,o.hits.map(u=>u.document.id))}const i=e.map((a,o)=>({id:a.metadata.id,filename:a.metadata.filename,content:a.pageContent,embedding:r[o]})),s=await $p(await this.db,i);return console.log("Inserted documents with ids",s),s}async addDocuments(r){await this.addVectors(await this.embeddings.embedDocuments(r.map(e=>e.pageContent)),r),console.log((await this.db).data.docs)}static async fromDocuments(r,e,t){const n=new this(e,t);return await n.addDocuments(r),n}async similaritySearchVectorWithScore(r,e){return(await Xp(await this.db,{vector:r,property:"embedding",limit:e,similarity:.3})).hits.map(n=>[new $f({pageContent:n.document.content}),n.score])}async getJson(){return await ag(await this.db,"json")}async loadFromJson(r){this.db=og("json",r),console.log("Loaded vector store from JSON",await this.db)}},bg=class{constructor(r){if(!r.openAIApiKey)throw new Error("No OpenAI API key provided");this.vectorStore=new yg(new dg({openAIApiKey:r.openAIApiKey,batchSize:2048}),{indexName:"obsidiandb"}),r.vectorStoreJson&&this.vectorStore.loadFromJson(r.vectorStoreJson),this.retriever=this.vectorStore.asRetriever({k:7});const e=new Os({openAIApiKey:r.openAIApiKey}),t=vt.fromTemplate(`Antworte als mein Assistent auf meine Frage ausschließlich basierend auf meinem Wissen im folgenden Markdown formatierten Kontext. Bitte erstelle links im folgenden format [[<Notename>#<Header1>##<Header2>###...]] aus den Note Headern und füge sie deiner Antwort als Referenz bei:
        {context}

        Frage: {question}`);this.ragChain=Dt.from([{context:this.retriever.pipe(n=>n.map(i=>i.pageContent).join(`

`)),question:new bd},t,e,new mg])}async embedDocuments(r){console.log("Embedding documents..."),await this.vectorStore.addDocuments(r),console.log("Done embedding documents")}async removeDocuments(r){await this.vectorStore.removeDocuments(r)}async runRAG(r){return console.log("Running RAG..."),this.ragChain.invoke(r,{callbacks:[{handleRetrieverEnd:async t=>{console.log(JSON.stringify(t,null,2))},handleLLMStart:async(t,n)=>{console.log(JSON.stringify(n,null,2))},handleLLMEnd:async t=>{console.log(JSON.stringify(t,null,2))},handleLLMError:async t=>{console.error(t)}}]})}async retrieveDocuments(r){return await this.vectorStore.similaritySearch(r,3)}async getVectorStoreJson(){return await this.vectorStore.getJson()}static async loadFromData(r){return new this(r)}};async function ki(r,e){let t=[];for(const n of e){const i=r.metadataCache.getFileCache(n);if(!i)continue;t.push({metadata:{id:n.basename+" metadata",filename:n.basename},pageContent:"Note: "+n.basename+`
Erstellt am: `+new Date(n.stat.ctime)+`
Metadaten: `+JSON.stringify(i.frontmatter||{})});const s=await r.vault.cachedRead(n);let a=0,o=0,u=[];u.push(n.basename);let c=0;for(const d of i.sections||[])if(d.type==="heading"){const f=i.headings[a];f.level>c?(u.push(s.slice(f.position.start.offset,f.position.end.offset)),c=f.level):f.level<c?(u.pop(),u.pop(),u.push(s.slice(f.position.start.offset,f.position.end.offset)),c=f.level):(u.pop(),u.push(s.slice(f.position.start.offset,f.position.end.offset))),o=0,a++}else t.push({metadata:{id:u.join("")+" ID"+o,filename:n.basename},pageContent:"Notename: "+u.join(`
`)+`
`+s.slice(d.position.start.offset,d.position.end.offset)}),o++}return console.log("Loaded "+t.length+" documents from Obsidian",t),t}let en=is([{role:"system",content:"Hi, this is your Second Brain!",context:null}]),Ir=is();const Mu=is();function vg(r){let e,t,n,i,s,a,o,u;return s=new Jc({}),{c(){e=We("form"),t=We("input"),n=Ut(),i=We("button"),wt(s.$$.fragment),Ae(t,"id","chat-view-user-input-element"),Ae(t,"type","text"),Ae(t,"class","flex-1"),Ae(t,"placeholder",wg),Ae(i,"type","submit"),Ae(i,"class","px-4 py-2 rounded-r-md hover:bg-primary transition duration-300 ease-in-out"),Ae(e,"class","sticky flex w-full gap-1")},m(c,d){tt(c,e,d),Ne(e,t),zs(t,r[0]),Ne(e,n),Ne(e,i),mt(s,i,null),a=!0,o||(u=[Er(t,"input",r[3]),Er(t,"keyup",r[2]),Er(e,"submit",Li(r[1]))],o=!0)},p(c,[d]){d&1&&t.value!==c[0]&&zs(t,c[0])},i(c){a||(He(s.$$.fragment,c),a=!0)},o(c){Ye(s.$$.fragment,c),a=!1},d(c){c&&Ge(e),gt(s),o=!1,It(u)}}}let wg="Chat with your second Brain...";function _g(r,e,t){let n;Di(r,en,c=>t(5,n=c));let i="",s;async function a(){if(s){new Ke.Notice("Please wait while your Second Brain is thinking...");return}if(s=!0,document.getElementById("chat-view-user-input-element"),i.trim()!==""){let c=i;t(0,i=""),en.update(d=>[...d,{role:"user",content:c}]),console.log(n),Ir.subscribe(async d=>{const f=await d.runRAG(c);f&&en.update(m=>[...m,{role:"assistant",content:f}])})}else new Ke.Notice("Your Second Brain does not understand empty messages!");s=!1}function o(c){c.key==="["&&new js(app).open()}function u(){i=this.value,t(0,i)}return[i,a,o,u]}class $u extends zt{constructor(e){super(),$t(this,e,_g,vg,At,{})}}class Ig extends Ke.Modal{constructor(t){super(t);Ee(this,"component");Ee(this,"onSubmit")}onOpen(){this.component=new $u({target:this.contentEl})}async onClose(){this.component.$destroy()}}function Ag(r){let e;return{c(){e=Rr("path"),Ae(e,"d","M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z")},m(t,n){tt(t,e,n)},p:qe,d(t){t&&Ge(e)}}}function Eg(r){let e,t;const n=[{viewBox:"0 0 24 24"},r[0]];let i={$$slots:{default:[Ag]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=ft(i,n[s]);return e=new ns({props:i}),{c(){wt(e.$$.fragment)},m(s,a){mt(e,s,a),t=!0},p(s,[a]){const o=a&1?ts(n,[n[0],rs(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){t||(He(e.$$.fragment,s),t=!0)},o(s){Ye(e.$$.fragment,s),t=!1},d(s){gt(e,s)}}}function Tg(r,e,t){return r.$$set=n=>{t(0,e=ft(ft({},e),Qt(n)))},e=Qt(e),[e]}class Pg extends zt{constructor(e){super(),$t(this,e,Tg,Eg,At,{})}}function Og(r){let e;return{c(){e=Rr("path"),Ae(e,"d","M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z")},m(t,n){tt(t,e,n)},p:qe,d(t){t&&Ge(e)}}}function xg(r){let e,t;const n=[{viewBox:"0 0 24 24"},r[0]];let i={$$slots:{default:[Og]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=ft(i,n[s]);return e=new ns({props:i}),{c(){wt(e.$$.fragment)},m(s,a){mt(e,s,a),t=!0},p(s,[a]){const o=a&1?ts(n,[n[0],rs(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){t||(He(e.$$.fragment,s),t=!0)},o(s){Ye(e.$$.fragment,s),t=!1},d(s){gt(e,s)}}}function Sg(r,e,t){return r.$$set=n=>{t(0,e=ft(ft({},e),Qt(n)))},e=Qt(e),[e]}class Cg extends zt{constructor(e){super(),$t(this,e,Sg,xg,At,{})}}function Fa(r,e,t){const n=r.slice();return n[7]=e[t],n}function kg(r){let e,t,n,i,s,a,o,u,c,d,f,m,b,g;return o=new Pg({}),d=new Cg({}),{c(){e=We("div"),t=We("div"),n=We("p"),s=Ut(),a=We("button"),wt(o.$$.fragment),u=Ut(),c=We("button"),wt(d.$$.fragment),f=Ut(),Ae(n,"class","text-slate-0"),Jr(a,"background-color","transparent"),Jr(c,"background-color","transparent"),Ae(t,"id","test"),Ae(t,"class","p-2 break-words rounded-t-md rounded-br-md w-fit max-w-[80%]"),Jr(t,"background",r[1]),Ae(e,"class","mb-3")},m(_,h){tt(_,e,h),Ne(e,t),Ne(t,n),Ne(t,s),Ne(t,a),mt(o,a,null),Ne(t,u),Ne(t,c),mt(d,c,null),Ne(e,f),m=!0,b||(g=[po(i=r[4].call(null,n,r[7].content)),Er(a,"click",Li(function(){Lt(r[3](r[7].content))&&r[3](r[7].content).apply(this,arguments)})),Er(c,"click",Li(function(){Lt(r[3](r[7].context))&&r[3](r[7].context).apply(this,arguments)}))],b=!0)},p(_,h){r=_,i&&Lt(i.update)&&h&1&&i.update.call(null,r[7].content)},i(_){m||(He(o.$$.fragment,_),He(d.$$.fragment,_),m=!0)},o(_){Ye(o.$$.fragment,_),Ye(d.$$.fragment,_),m=!1},d(_){_&&Ge(e),gt(o),gt(d),b=!1,It(g)}}}function Ng(r){let e,t,n,i,s,a;return{c(){e=We("div"),t=We("p"),i=Ut(),Ae(t,"class","p-2 break-words rounded-t-md rounded-bl-md max-w-[80%] text-slate-0"),Jr(t,"background",r[2]),Ae(e,"class","flex justify-end mb-3")},m(o,u){tt(o,e,u),Ne(e,t),Ne(e,i),s||(a=po(n=r[4].call(null,t,r[7].content)),s=!0)},p(o,u){r=o,n&&Lt(n.update)&&u&1&&n.update.call(null,r[7].content)},i:qe,o:qe,d(o){o&&Ge(e),s=!1,a()}}}function Ka(r,e){let t,n,i,s,a;const o=[Ng,kg],u=[];function c(d,f){return d[7].role==="user"?0:1}return n=c(e),i=u[n]=o[n](e),{key:r,first:null,c(){t=ji(),i.c(),s=ji(),this.first=t},m(d,f){tt(d,t,f),u[n].m(d,f),tt(d,s,f),a=!0},p(d,f){e=d;let m=n;n=c(e),n===m?u[n].p(e,f):(go(),Ye(u[m],1,1,()=>{u[m]=null}),yo(),i=u[n],i?i.p(e,f):(i=u[n]=o[n](e),i.c()),He(i,1),i.m(s.parentNode,s))},i(d){a||(He(i),a=!0)},o(d){Ye(i),a=!1},d(d){d&&(Ge(t),Ge(s)),u[n].d(d)}}}function Rg(r){let e,t=[],n=new Map,i,s=Vs(r[0]);const a=o=>o[7].content;for(let o=0;o<s.length;o+=1){let u=Fa(r,s,o),c=a(u);n.set(c,t[o]=Ka(c,u))}return{c(){e=We("div");for(let o=0;o<t.length;o+=1)t[o].c();Ae(e,"class","chat-window flex-grow w-full overflow-scroll border-2 border-solid rounded-md border-slate-30 mb-1 p-4")},m(o,u){tt(o,e,u);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);i=!0},p(o,[u]){u&15&&(s=Vs(o[0]),go(),t=Vc(t,u,a,1,o,s,n,e,Zc,Ka,null,Fa),yo())},i(o){if(!i){for(let u=0;u<s.length;u+=1)He(t[u]);i=!0}},o(o){for(let u=0;u<t.length;u+=1)Ye(t[u]);i=!1},d(o){o&&Ge(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function Dg(r,e,t){let n,i;Di(r,Mu,d=>t(5,n=d)),Di(r,en,d=>t(0,i=d));const s=d=>getComputedStyle(document.body).getPropertyValue(d),a=s("--color-accent"),o=s("--color-base-40");function u(d){if(!d){new Ke.Notice("Only for Valid Messages! Implement that you lazy fuck!");return}xc.clipboard.writeText(d)}return[i,a,o,u,(d,f)=>{Ke.MarkdownRenderer.render(n.app,Ke.htmlToMarkdown(f),d,"",n)}]}class jg extends zt{constructor(e){super(),$t(this,e,Dg,Rg,At,{})}}function Lg(r){let e,t,n,i,s,a,o;return i=new jg({}),a=new $u({}),{c(){e=We("div"),t=We("h1"),t.textContent="Second Brain Interface",n=Ut(),wt(i.$$.fragment),s=Ut(),wt(a.$$.fragment),Ae(e,"class","h-full flex flex-col --background-modifier-border")},m(u,c){tt(u,e,c),Ne(e,t),Ne(e,n),mt(i,e,null),Ne(e,s),mt(a,e,null),o=!0},p:qe,i(u){o||(He(i.$$.fragment,u),He(a.$$.fragment,u),o=!0)},o(u){Ye(i.$$.fragment,u),Ye(a.$$.fragment,u),o=!1},d(u){u&&Ge(e),gt(i),gt(a)}}}let Ug=class extends zt{constructor(e){super(),$t(this,e,null,Lg,At,{})}};const Ar="chat-view";class Mg extends Ke.ItemView{constructor(t){super(t);Ee(this,"component");Ee(this,"AiBubbleColor");Ee(this,"UserBubbleColor");this.icon="message-square"}getViewType(){return Ar}getDisplayText(){return"Chat view"}async onOpen(){this.component=new Ug({target:this.contentEl})}async onClose(){this.component.$destroy()}}class $g extends Ke.PluginSettingTab{constructor(t,n){super(t,n);Ee(this,"plugin");this.plugin=n}display(){let{containerEl:t}=this;t.empty(),new Ke.Setting(t).setName("AI Color").addExtraButton(n=>n.setIcon("reset").onClick(async()=>{this.plugin.data.AIcolor=Rn.AIcolor,await this.plugin.saveSettings()})).addColorPicker(n=>n.setValue(this.plugin.data.AIcolor).onChange(async i=>{this.plugin.data.AIcolor=i,await this.plugin.saveSettings()})),new Ke.Setting(t).setName("User Color").addExtraButton(n=>n.setIcon("reset").onClick(()=>this.plugin.data.UserColor=Rn.UserColor)).addColorPicker(n=>n.setValue(this.plugin.data.UserColor).onChange(async i=>{this.plugin.data.UserColor=i,await this.plugin.saveSettings()})),new Ke.Setting(t).setName("LLM").addDropdown(n=>{n.addOptions({LLama:"LLama",Anthropic:"Anthropic"}).setValue(this.plugin.data.llm).onChange(async i=>{this.plugin.data.llm=i,await this.plugin.saveSettings()})}),new Ke.Setting(t).setName("OpenAI API Key").addText(n=>n.setPlaceholder("OpenAI API Key").setValue(this.plugin.data.secondBrain.openAIApiKey||"").onChange(async i=>{this.plugin.data.secondBrain.openAIApiKey=i,await this.plugin.saveSettings()}))}}const Rn={secondBrain:{openAIApiKey:"Your key"}};class zg extends Ke.Plugin{constructor(){super(...arguments);Ee(this,"data")}async loadSettings(){this.data=Object.assign({},Rn,await this.loadData())}async saveSettings(){await this.saveData(this.data)}async onload(){await this.loadSettings(),Ir.set(await bg.loadFromData(this.data.secondBrain)),Mu.set(this),this.app.vault.on("modify",t=>{setTimeout(async()=>{Ir.subscribe(async n=>{const i=await ki(this.app,[t]);await n.embedDocuments(i),this.data.secondBrain.vectorStoreJson=await n.getVectorStoreJson(),await this.saveSettings()})},1e3)}),this.app.vault.on("delete",t=>{Ir.subscribe(async n=>{const i=await ki(this.app,[t]);await n.removeDocuments(i),this.data.secondBrain.vectorStoreJson=await n.getVectorStoreJson(),await this.saveSettings()})}),this.registerView(Ar,t=>new Mg(t)),this.addRibbonIcon("brain-circuit","Smart Second Brain",()=>{this.activateView()}),this.addSettingTab(new $g(this.app,this)),this.addCommand({id:"chat-modal",name:"Chat with AI",callback:()=>{new Ig(this.app).open()}}),this.addCommand({id:"find-files",name:"ff",callback:()=>{new js(this.app).open()}}),this.data.embeddedAllOnce||(setTimeout(()=>{Ir.subscribe(async t=>{const n=await ki(this.app,this.app.vault.getMarkdownFiles());await t.embedDocuments(n),this.data.secondBrain.vectorStoreJson=await t.getVectorStoreJson(),await this.saveSettings()})},1e3),this.data.embeddedAllOnce=!0,await this.saveSettings())}onunload(){console.log("unloading plugin")}async activateView(){this.app.workspace.detachLeavesOfType(Ar),await this.app.workspace.getRightLeaf(!1).setViewState({type:Ar,active:!0}),this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(Ar)[0])}}class js extends Ke.FuzzySuggestModal{constructor(e){super(e),this.app=e,this.setPlaceholder("Type the name of a file...")}getItems(){return this.app.vault.getMarkdownFiles().sort((e,t)=>e.basename.localeCompare(t.basename))}getItemText(e){return e.basename}onChooseItem(e){const t=document.getElementById("chat-view-user-input-element");t.value=t.value+`[${e.basename}]]`}}var zu={},Gn={},ar={},Yn={},Ji={},lt={},Jn={},Br={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getParsedType=r.ZodParsedType=r.objectUtil=r.util=void 0;var e;(function(n){n.assertEqual=o=>o;function i(o){}n.assertIs=i;function s(o){throw new Error}n.assertNever=s,n.arrayToEnum=o=>{const u={};for(const c of o)u[c]=c;return u},n.getValidEnumValues=o=>{const u=n.objectKeys(o).filter(d=>typeof o[o[d]]!="number"),c={};for(const d of u)c[d]=o[d];return n.objectValues(c)},n.objectValues=o=>n.objectKeys(o).map(function(u){return o[u]}),n.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const u=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&u.push(c);return u},n.find=(o,u)=>{for(const c of o)if(u(c))return c},n.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function a(o,u=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(u)}n.joinValues=a,n.jsonStringifyReplacer=(o,u)=>typeof u=="bigint"?u.toString():u})(e=r.util||(r.util={})),function(n){n.mergeShapes=(i,s)=>({...i,...s})}(r.objectUtil||(r.objectUtil={})),r.ZodParsedType=e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);const t=n=>{switch(typeof n){case"undefined":return r.ZodParsedType.undefined;case"string":return r.ZodParsedType.string;case"number":return isNaN(n)?r.ZodParsedType.nan:r.ZodParsedType.number;case"boolean":return r.ZodParsedType.boolean;case"function":return r.ZodParsedType.function;case"bigint":return r.ZodParsedType.bigint;case"symbol":return r.ZodParsedType.symbol;case"object":return Array.isArray(n)?r.ZodParsedType.array:n===null?r.ZodParsedType.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?r.ZodParsedType.promise:typeof Map<"u"&&n instanceof Map?r.ZodParsedType.map:typeof Set<"u"&&n instanceof Set?r.ZodParsedType.set:typeof Date<"u"&&n instanceof Date?r.ZodParsedType.date:r.ZodParsedType.object;default:return r.ZodParsedType.unknown}};r.getParsedType=t})(Br);var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.ZodError=dt.quotelessJson=dt.ZodIssueCode=void 0;const Bu=Br;dt.ZodIssueCode=Bu.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);const Bg=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");dt.quotelessJson=Bg;class Xi extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(t(a));else{let o=n,u=0;for(;u<a.path.length;){const c=a.path[u];u===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(a))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Bu.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}dt.ZodError=Xi;Xi.create=r=>new Xi(r);Object.defineProperty(Jn,"__esModule",{value:!0});const Ot=Br,Me=dt,Zg=(r,e)=>{let t;switch(r.code){case Me.ZodIssueCode.invalid_type:r.received===Ot.ZodParsedType.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case Me.ZodIssueCode.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Ot.util.jsonStringifyReplacer)}`;break;case Me.ZodIssueCode.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ot.util.joinValues(r.keys,", ")}`;break;case Me.ZodIssueCode.invalid_union:t="Invalid input";break;case Me.ZodIssueCode.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ot.util.joinValues(r.options)}`;break;case Me.ZodIssueCode.invalid_enum_value:t=`Invalid enum value. Expected ${Ot.util.joinValues(r.options)}, received '${r.received}'`;break;case Me.ZodIssueCode.invalid_arguments:t="Invalid function arguments";break;case Me.ZodIssueCode.invalid_return_type:t="Invalid function return type";break;case Me.ZodIssueCode.invalid_date:t="Invalid date";break;case Me.ZodIssueCode.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Ot.util.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case Me.ZodIssueCode.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case Me.ZodIssueCode.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case Me.ZodIssueCode.custom:t="Invalid input";break;case Me.ZodIssueCode.invalid_intersection_types:t="Intersection results could not be merged";break;case Me.ZodIssueCode.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case Me.ZodIssueCode.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ot.util.assertNever(r)}return{message:t}};Jn.default=Zg;var Vg=Ie&&Ie.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lt,"__esModule",{value:!0});lt.getErrorMap=lt.setErrorMap=lt.defaultErrorMap=void 0;const Zu=Vg(Jn);lt.defaultErrorMap=Zu.default;let Vu=Zu.default;function Fg(r){Vu=r}lt.setErrorMap=Fg;function Kg(){return Vu}lt.getErrorMap=Kg;var Ls={};(function(r){var e=Ie&&Ie.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(r,"__esModule",{value:!0}),r.isAsync=r.isValid=r.isDirty=r.isAborted=r.OK=r.DIRTY=r.INVALID=r.ParseStatus=r.addIssueToContext=r.EMPTY_PATH=r.makeIssue=void 0;const t=lt,n=e(Jn),i=b=>{const{data:g,path:_,errorMaps:h,issueData:T}=b,j=[..._,...T.path||[]],S={...T,path:j};let R="";const M=h.filter(O=>!!O).slice().reverse();for(const O of M)R=O(S,{data:g,defaultError:R}).message;return{...T,path:j,message:T.message||R}};r.makeIssue=i,r.EMPTY_PATH=[];function s(b,g){const _=(0,r.makeIssue)({issueData:g,data:b.data,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,(0,t.getErrorMap)(),n.default].filter(h=>!!h)});b.common.issues.push(_)}r.addIssueToContext=s;class a{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(g,_){const h=[];for(const T of _){if(T.status==="aborted")return r.INVALID;T.status==="dirty"&&g.dirty(),h.push(T.value)}return{status:g.value,value:h}}static async mergeObjectAsync(g,_){const h=[];for(const T of _)h.push({key:await T.key,value:await T.value});return a.mergeObjectSync(g,h)}static mergeObjectSync(g,_){const h={};for(const T of _){const{key:j,value:S}=T;if(j.status==="aborted"||S.status==="aborted")return r.INVALID;j.status==="dirty"&&g.dirty(),S.status==="dirty"&&g.dirty(),j.value!=="__proto__"&&(typeof S.value<"u"||T.alwaysSet)&&(h[j.value]=S.value)}return{status:g.value,value:h}}}r.ParseStatus=a,r.INVALID=Object.freeze({status:"aborted"});const o=b=>({status:"dirty",value:b});r.DIRTY=o;const u=b=>({status:"valid",value:b});r.OK=u;const c=b=>b.status==="aborted";r.isAborted=c;const d=b=>b.status==="dirty";r.isDirty=d;const f=b=>b.status==="valid";r.isValid=f;const m=b=>typeof Promise<"u"&&b instanceof Promise;r.isAsync=m})(Ls);var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});var Ku={},qu={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.errorUtil=void 0,function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message}(r.errorUtil||(r.errorUtil={}))})(qu);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.date=r.boolean=r.bigint=r.array=r.any=r.coerce=r.ZodFirstPartyTypeKind=r.late=r.ZodSchema=r.Schema=r.custom=r.ZodReadonly=r.ZodPipeline=r.ZodBranded=r.BRAND=r.ZodNaN=r.ZodCatch=r.ZodDefault=r.ZodNullable=r.ZodOptional=r.ZodTransformer=r.ZodEffects=r.ZodPromise=r.ZodNativeEnum=r.ZodEnum=r.ZodLiteral=r.ZodLazy=r.ZodFunction=r.ZodSet=r.ZodMap=r.ZodRecord=r.ZodTuple=r.ZodIntersection=r.ZodDiscriminatedUnion=r.ZodUnion=r.ZodObject=r.ZodArray=r.ZodVoid=r.ZodNever=r.ZodUnknown=r.ZodAny=r.ZodNull=r.ZodUndefined=r.ZodSymbol=r.ZodDate=r.ZodBoolean=r.ZodBigInt=r.ZodNumber=r.ZodString=r.ZodType=void 0,r.NEVER=r.void=r.unknown=r.union=r.undefined=r.tuple=r.transformer=r.symbol=r.string=r.strictObject=r.set=r.record=r.promise=r.preprocess=r.pipeline=r.ostring=r.optional=r.onumber=r.oboolean=r.object=r.number=r.nullable=r.null=r.never=r.nativeEnum=r.nan=r.map=r.literal=r.lazy=r.intersection=r.instanceof=r.function=r.enum=r.effect=r.discriminatedUnion=void 0;const e=lt,t=qu,n=Ls,i=Br,s=dt;class a{constructor(l,p,w,k){this._cachedPath=[],this.parent=l,this.data=p,this._path=w,this._key=k}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const o=(P,l)=>{if((0,n.isValid)(l))return{success:!0,data:l.value};if(!P.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const p=new s.ZodError(P.common.issues);return this._error=p,this._error}}};function u(P){if(!P)return{};const{errorMap:l,invalid_type_error:p,required_error:w,description:k}=P;if(l&&(p||w))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return l?{errorMap:l,description:k}:{errorMap:(H,$)=>H.code!=="invalid_type"?{message:$.defaultError}:typeof $.data>"u"?{message:w??$.defaultError}:{message:p??$.defaultError},description:k}}class c{constructor(l){this.spa=this.safeParseAsync,this._def=l,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(l){return(0,i.getParsedType)(l.data)}_getOrReturnCtx(l,p){return p||{common:l.parent.common,data:l.data,parsedType:(0,i.getParsedType)(l.data),schemaErrorMap:this._def.errorMap,path:l.path,parent:l.parent}}_processInputParams(l){return{status:new n.ParseStatus,ctx:{common:l.parent.common,data:l.data,parsedType:(0,i.getParsedType)(l.data),schemaErrorMap:this._def.errorMap,path:l.path,parent:l.parent}}}_parseSync(l){const p=this._parse(l);if((0,n.isAsync)(p))throw new Error("Synchronous parse encountered promise.");return p}_parseAsync(l){const p=this._parse(l);return Promise.resolve(p)}parse(l,p){const w=this.safeParse(l,p);if(w.success)return w.data;throw w.error}safeParse(l,p){var w;const k={common:{issues:[],async:(w=p==null?void 0:p.async)!==null&&w!==void 0?w:!1,contextualErrorMap:p==null?void 0:p.errorMap},path:(p==null?void 0:p.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:l,parsedType:(0,i.getParsedType)(l)},x=this._parseSync({data:l,path:k.path,parent:k});return o(k,x)}async parseAsync(l,p){const w=await this.safeParseAsync(l,p);if(w.success)return w.data;throw w.error}async safeParseAsync(l,p){const w={common:{issues:[],contextualErrorMap:p==null?void 0:p.errorMap,async:!0},path:(p==null?void 0:p.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:l,parsedType:(0,i.getParsedType)(l)},k=this._parse({data:l,path:w.path,parent:w}),x=await((0,n.isAsync)(k)?k:Promise.resolve(k));return o(w,x)}refine(l,p){const w=k=>typeof p=="string"||typeof p>"u"?{message:p}:typeof p=="function"?p(k):p;return this._refinement((k,x)=>{const H=l(k),$=()=>x.addIssue({code:s.ZodIssueCode.custom,...w(k)});return typeof Promise<"u"&&H instanceof Promise?H.then(oe=>oe?!0:($(),!1)):H?!0:($(),!1)})}refinement(l,p){return this._refinement((w,k)=>l(w)?!0:(k.addIssue(typeof p=="function"?p(w,k):p),!1))}_refinement(l){return new fe({schema:this,typeName:Z.ZodEffects,effect:{type:"refinement",refinement:l}})}superRefine(l){return this._refinement(l)}optional(){return ve.create(this,this._def)}nullable(){return ye.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return G.create(this,this._def)}promise(){return ue.create(this,this._def)}or(l){return ie.create([this,l],this._def)}and(l){return Le.create(this,l,this._def)}transform(l){return new fe({...u(this._def),schema:this,typeName:Z.ZodEffects,effect:{type:"transform",transform:l}})}default(l){const p=typeof l=="function"?l:()=>l;return new _e({...u(this._def),innerType:this,defaultValue:p,typeName:Z.ZodDefault})}brand(){return new ee({typeName:Z.ZodBranded,type:this,...u(this._def)})}catch(l){const p=typeof l=="function"?l:()=>l;return new U({...u(this._def),innerType:this,catchValue:p,typeName:Z.ZodCatch})}describe(l){const p=this.constructor;return new p({...this._def,description:l})}pipe(l){return ne.create(this,l)}readonly(){return le.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}r.ZodType=c,r.Schema=c,r.ZodSchema=c;const d=/^c[^\s-]{8,}$/i,f=/^[a-z][a-z0-9]*$/,m=/^[0-9A-HJKMNP-TV-Z]{26}$/,b=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,g=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let h;const T=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,j=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,S=P=>P.precision?P.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${P.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${P.precision}}Z$`):P.precision===0?P.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):P.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function R(P,l){return!!((l==="v4"||!l)&&T.test(P)||(l==="v6"||!l)&&j.test(P))}class M extends c{_parse(l){if(this._def.coerce&&(l.data=String(l.data)),this._getType(l)!==i.ZodParsedType.string){const x=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(x,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.string,received:x.parsedType}),n.INVALID}const w=new n.ParseStatus;let k;for(const x of this._def.checks)if(x.kind==="min")l.data.length<x.value&&(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.too_small,minimum:x.value,type:"string",inclusive:!0,exact:!1,message:x.message}),w.dirty());else if(x.kind==="max")l.data.length>x.value&&(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.too_big,maximum:x.value,type:"string",inclusive:!0,exact:!1,message:x.message}),w.dirty());else if(x.kind==="length"){const H=l.data.length>x.value,$=l.data.length<x.value;(H||$)&&(k=this._getOrReturnCtx(l,k),H?(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.too_big,maximum:x.value,type:"string",inclusive:!0,exact:!0,message:x.message}):$&&(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.too_small,minimum:x.value,type:"string",inclusive:!0,exact:!0,message:x.message}),w.dirty())}else if(x.kind==="email")g.test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"email",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty());else if(x.kind==="emoji")h||(h=new RegExp(_,"u")),h.test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"emoji",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty());else if(x.kind==="uuid")b.test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"uuid",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty());else if(x.kind==="cuid")d.test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"cuid",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty());else if(x.kind==="cuid2")f.test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"cuid2",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty());else if(x.kind==="ulid")m.test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"ulid",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty());else if(x.kind==="url")try{new URL(l.data)}catch{k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"url",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty()}else x.kind==="regex"?(x.regex.lastIndex=0,x.regex.test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"regex",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty())):x.kind==="trim"?l.data=l.data.trim():x.kind==="includes"?l.data.includes(x.value,x.position)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.invalid_string,validation:{includes:x.value,position:x.position},message:x.message}),w.dirty()):x.kind==="toLowerCase"?l.data=l.data.toLowerCase():x.kind==="toUpperCase"?l.data=l.data.toUpperCase():x.kind==="startsWith"?l.data.startsWith(x.value)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.invalid_string,validation:{startsWith:x.value},message:x.message}),w.dirty()):x.kind==="endsWith"?l.data.endsWith(x.value)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.invalid_string,validation:{endsWith:x.value},message:x.message}),w.dirty()):x.kind==="datetime"?S(x).test(l.data)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.invalid_string,validation:"datetime",message:x.message}),w.dirty()):x.kind==="ip"?R(l.data,x.version)||(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{validation:"ip",code:s.ZodIssueCode.invalid_string,message:x.message}),w.dirty()):i.util.assertNever(x);return{status:w.value,value:l.data}}_regex(l,p,w){return this.refinement(k=>l.test(k),{validation:p,code:s.ZodIssueCode.invalid_string,...t.errorUtil.errToObj(w)})}_addCheck(l){return new M({...this._def,checks:[...this._def.checks,l]})}email(l){return this._addCheck({kind:"email",...t.errorUtil.errToObj(l)})}url(l){return this._addCheck({kind:"url",...t.errorUtil.errToObj(l)})}emoji(l){return this._addCheck({kind:"emoji",...t.errorUtil.errToObj(l)})}uuid(l){return this._addCheck({kind:"uuid",...t.errorUtil.errToObj(l)})}cuid(l){return this._addCheck({kind:"cuid",...t.errorUtil.errToObj(l)})}cuid2(l){return this._addCheck({kind:"cuid2",...t.errorUtil.errToObj(l)})}ulid(l){return this._addCheck({kind:"ulid",...t.errorUtil.errToObj(l)})}ip(l){return this._addCheck({kind:"ip",...t.errorUtil.errToObj(l)})}datetime(l){var p;return typeof l=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:l}):this._addCheck({kind:"datetime",precision:typeof(l==null?void 0:l.precision)>"u"?null:l==null?void 0:l.precision,offset:(p=l==null?void 0:l.offset)!==null&&p!==void 0?p:!1,...t.errorUtil.errToObj(l==null?void 0:l.message)})}regex(l,p){return this._addCheck({kind:"regex",regex:l,...t.errorUtil.errToObj(p)})}includes(l,p){return this._addCheck({kind:"includes",value:l,position:p==null?void 0:p.position,...t.errorUtil.errToObj(p==null?void 0:p.message)})}startsWith(l,p){return this._addCheck({kind:"startsWith",value:l,...t.errorUtil.errToObj(p)})}endsWith(l,p){return this._addCheck({kind:"endsWith",value:l,...t.errorUtil.errToObj(p)})}min(l,p){return this._addCheck({kind:"min",value:l,...t.errorUtil.errToObj(p)})}max(l,p){return this._addCheck({kind:"max",value:l,...t.errorUtil.errToObj(p)})}length(l,p){return this._addCheck({kind:"length",value:l,...t.errorUtil.errToObj(p)})}nonempty(l){return this.min(1,t.errorUtil.errToObj(l))}trim(){return new M({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new M({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new M({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(l=>l.kind==="datetime")}get isEmail(){return!!this._def.checks.find(l=>l.kind==="email")}get isURL(){return!!this._def.checks.find(l=>l.kind==="url")}get isEmoji(){return!!this._def.checks.find(l=>l.kind==="emoji")}get isUUID(){return!!this._def.checks.find(l=>l.kind==="uuid")}get isCUID(){return!!this._def.checks.find(l=>l.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(l=>l.kind==="cuid2")}get isULID(){return!!this._def.checks.find(l=>l.kind==="ulid")}get isIP(){return!!this._def.checks.find(l=>l.kind==="ip")}get minLength(){let l=null;for(const p of this._def.checks)p.kind==="min"&&(l===null||p.value>l)&&(l=p.value);return l}get maxLength(){let l=null;for(const p of this._def.checks)p.kind==="max"&&(l===null||p.value<l)&&(l=p.value);return l}}r.ZodString=M,M.create=P=>{var l;return new M({checks:[],typeName:Z.ZodString,coerce:(l=P==null?void 0:P.coerce)!==null&&l!==void 0?l:!1,...u(P)})};function O(P,l){const p=(P.toString().split(".")[1]||"").length,w=(l.toString().split(".")[1]||"").length,k=p>w?p:w,x=parseInt(P.toFixed(k).replace(".","")),H=parseInt(l.toFixed(k).replace(".",""));return x%H/Math.pow(10,k)}class C extends c{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(l){if(this._def.coerce&&(l.data=Number(l.data)),this._getType(l)!==i.ZodParsedType.number){const x=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(x,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.number,received:x.parsedType}),n.INVALID}let w;const k=new n.ParseStatus;for(const x of this._def.checks)x.kind==="int"?i.util.isInteger(l.data)||(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:x.message}),k.dirty()):x.kind==="min"?(x.inclusive?l.data<x.value:l.data<=x.value)&&(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_small,minimum:x.value,type:"number",inclusive:x.inclusive,exact:!1,message:x.message}),k.dirty()):x.kind==="max"?(x.inclusive?l.data>x.value:l.data>=x.value)&&(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_big,maximum:x.value,type:"number",inclusive:x.inclusive,exact:!1,message:x.message}),k.dirty()):x.kind==="multipleOf"?O(l.data,x.value)!==0&&(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.not_multiple_of,multipleOf:x.value,message:x.message}),k.dirty()):x.kind==="finite"?Number.isFinite(l.data)||(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.not_finite,message:x.message}),k.dirty()):i.util.assertNever(x);return{status:k.value,value:l.data}}gte(l,p){return this.setLimit("min",l,!0,t.errorUtil.toString(p))}gt(l,p){return this.setLimit("min",l,!1,t.errorUtil.toString(p))}lte(l,p){return this.setLimit("max",l,!0,t.errorUtil.toString(p))}lt(l,p){return this.setLimit("max",l,!1,t.errorUtil.toString(p))}setLimit(l,p,w,k){return new C({...this._def,checks:[...this._def.checks,{kind:l,value:p,inclusive:w,message:t.errorUtil.toString(k)}]})}_addCheck(l){return new C({...this._def,checks:[...this._def.checks,l]})}int(l){return this._addCheck({kind:"int",message:t.errorUtil.toString(l)})}positive(l){return this._addCheck({kind:"min",value:0,inclusive:!1,message:t.errorUtil.toString(l)})}negative(l){return this._addCheck({kind:"max",value:0,inclusive:!1,message:t.errorUtil.toString(l)})}nonpositive(l){return this._addCheck({kind:"max",value:0,inclusive:!0,message:t.errorUtil.toString(l)})}nonnegative(l){return this._addCheck({kind:"min",value:0,inclusive:!0,message:t.errorUtil.toString(l)})}multipleOf(l,p){return this._addCheck({kind:"multipleOf",value:l,message:t.errorUtil.toString(p)})}finite(l){return this._addCheck({kind:"finite",message:t.errorUtil.toString(l)})}safe(l){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:t.errorUtil.toString(l)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:t.errorUtil.toString(l)})}get minValue(){let l=null;for(const p of this._def.checks)p.kind==="min"&&(l===null||p.value>l)&&(l=p.value);return l}get maxValue(){let l=null;for(const p of this._def.checks)p.kind==="max"&&(l===null||p.value<l)&&(l=p.value);return l}get isInt(){return!!this._def.checks.find(l=>l.kind==="int"||l.kind==="multipleOf"&&i.util.isInteger(l.value))}get isFinite(){let l=null,p=null;for(const w of this._def.checks){if(w.kind==="finite"||w.kind==="int"||w.kind==="multipleOf")return!0;w.kind==="min"?(p===null||w.value>p)&&(p=w.value):w.kind==="max"&&(l===null||w.value<l)&&(l=w.value)}return Number.isFinite(p)&&Number.isFinite(l)}}r.ZodNumber=C,C.create=P=>new C({checks:[],typeName:Z.ZodNumber,coerce:(P==null?void 0:P.coerce)||!1,...u(P)});class v extends c{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(l){if(this._def.coerce&&(l.data=BigInt(l.data)),this._getType(l)!==i.ZodParsedType.bigint){const x=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(x,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.bigint,received:x.parsedType}),n.INVALID}let w;const k=new n.ParseStatus;for(const x of this._def.checks)x.kind==="min"?(x.inclusive?l.data<x.value:l.data<=x.value)&&(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_small,type:"bigint",minimum:x.value,inclusive:x.inclusive,message:x.message}),k.dirty()):x.kind==="max"?(x.inclusive?l.data>x.value:l.data>=x.value)&&(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_big,type:"bigint",maximum:x.value,inclusive:x.inclusive,message:x.message}),k.dirty()):x.kind==="multipleOf"?l.data%x.value!==BigInt(0)&&(w=this._getOrReturnCtx(l,w),(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.not_multiple_of,multipleOf:x.value,message:x.message}),k.dirty()):i.util.assertNever(x);return{status:k.value,value:l.data}}gte(l,p){return this.setLimit("min",l,!0,t.errorUtil.toString(p))}gt(l,p){return this.setLimit("min",l,!1,t.errorUtil.toString(p))}lte(l,p){return this.setLimit("max",l,!0,t.errorUtil.toString(p))}lt(l,p){return this.setLimit("max",l,!1,t.errorUtil.toString(p))}setLimit(l,p,w,k){return new v({...this._def,checks:[...this._def.checks,{kind:l,value:p,inclusive:w,message:t.errorUtil.toString(k)}]})}_addCheck(l){return new v({...this._def,checks:[...this._def.checks,l]})}positive(l){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:t.errorUtil.toString(l)})}negative(l){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:t.errorUtil.toString(l)})}nonpositive(l){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:t.errorUtil.toString(l)})}nonnegative(l){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:t.errorUtil.toString(l)})}multipleOf(l,p){return this._addCheck({kind:"multipleOf",value:l,message:t.errorUtil.toString(p)})}get minValue(){let l=null;for(const p of this._def.checks)p.kind==="min"&&(l===null||p.value>l)&&(l=p.value);return l}get maxValue(){let l=null;for(const p of this._def.checks)p.kind==="max"&&(l===null||p.value<l)&&(l=p.value);return l}}r.ZodBigInt=v,v.create=P=>{var l;return new v({checks:[],typeName:Z.ZodBigInt,coerce:(l=P==null?void 0:P.coerce)!==null&&l!==void 0?l:!1,...u(P)})};class A extends c{_parse(l){if(this._def.coerce&&(l.data=!!l.data),this._getType(l)!==i.ZodParsedType.boolean){const w=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.boolean,received:w.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodBoolean=A,A.create=P=>new A({typeName:Z.ZodBoolean,coerce:(P==null?void 0:P.coerce)||!1,...u(P)});class I extends c{_parse(l){if(this._def.coerce&&(l.data=new Date(l.data)),this._getType(l)!==i.ZodParsedType.date){const x=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(x,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.date,received:x.parsedType}),n.INVALID}if(isNaN(l.data.getTime())){const x=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(x,{code:s.ZodIssueCode.invalid_date}),n.INVALID}const w=new n.ParseStatus;let k;for(const x of this._def.checks)x.kind==="min"?l.data.getTime()<x.value&&(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.too_small,message:x.message,inclusive:!0,exact:!1,minimum:x.value,type:"date"}),w.dirty()):x.kind==="max"?l.data.getTime()>x.value&&(k=this._getOrReturnCtx(l,k),(0,n.addIssueToContext)(k,{code:s.ZodIssueCode.too_big,message:x.message,inclusive:!0,exact:!1,maximum:x.value,type:"date"}),w.dirty()):i.util.assertNever(x);return{status:w.value,value:new Date(l.data.getTime())}}_addCheck(l){return new I({...this._def,checks:[...this._def.checks,l]})}min(l,p){return this._addCheck({kind:"min",value:l.getTime(),message:t.errorUtil.toString(p)})}max(l,p){return this._addCheck({kind:"max",value:l.getTime(),message:t.errorUtil.toString(p)})}get minDate(){let l=null;for(const p of this._def.checks)p.kind==="min"&&(l===null||p.value>l)&&(l=p.value);return l!=null?new Date(l):null}get maxDate(){let l=null;for(const p of this._def.checks)p.kind==="max"&&(l===null||p.value<l)&&(l=p.value);return l!=null?new Date(l):null}}r.ZodDate=I,I.create=P=>new I({checks:[],coerce:(P==null?void 0:P.coerce)||!1,typeName:Z.ZodDate,...u(P)});class N extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.symbol){const w=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.symbol,received:w.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodSymbol=N,N.create=P=>new N({typeName:Z.ZodSymbol,...u(P)});class L extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.undefined){const w=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.undefined,received:w.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodUndefined=L,L.create=P=>new L({typeName:Z.ZodUndefined,...u(P)});class q extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.null){const w=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.null,received:w.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodNull=q,q.create=P=>new q({typeName:Z.ZodNull,...u(P)});class Y extends c{constructor(){super(...arguments),this._any=!0}_parse(l){return(0,n.OK)(l.data)}}r.ZodAny=Y,Y.create=P=>new Y({typeName:Z.ZodAny,...u(P)});class K extends c{constructor(){super(...arguments),this._unknown=!0}_parse(l){return(0,n.OK)(l.data)}}r.ZodUnknown=K,K.create=P=>new K({typeName:Z.ZodUnknown,...u(P)});class V extends c{_parse(l){const p=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.never,received:p.parsedType}),n.INVALID}}r.ZodNever=V,V.create=P=>new V({typeName:Z.ZodNever,...u(P)});class B extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.undefined){const w=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.void,received:w.parsedType}),n.INVALID}return(0,n.OK)(l.data)}}r.ZodVoid=B,B.create=P=>new B({typeName:Z.ZodVoid,...u(P)});class G extends c{_parse(l){const{ctx:p,status:w}=this._processInputParams(l),k=this._def;if(p.parsedType!==i.ZodParsedType.array)return(0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:p.parsedType}),n.INVALID;if(k.exactLength!==null){const H=p.data.length>k.exactLength.value,$=p.data.length<k.exactLength.value;(H||$)&&((0,n.addIssueToContext)(p,{code:H?s.ZodIssueCode.too_big:s.ZodIssueCode.too_small,minimum:$?k.exactLength.value:void 0,maximum:H?k.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:k.exactLength.message}),w.dirty())}if(k.minLength!==null&&p.data.length<k.minLength.value&&((0,n.addIssueToContext)(p,{code:s.ZodIssueCode.too_small,minimum:k.minLength.value,type:"array",inclusive:!0,exact:!1,message:k.minLength.message}),w.dirty()),k.maxLength!==null&&p.data.length>k.maxLength.value&&((0,n.addIssueToContext)(p,{code:s.ZodIssueCode.too_big,maximum:k.maxLength.value,type:"array",inclusive:!0,exact:!1,message:k.maxLength.message}),w.dirty()),p.common.async)return Promise.all([...p.data].map((H,$)=>k.type._parseAsync(new a(p,H,p.path,$)))).then(H=>n.ParseStatus.mergeArray(w,H));const x=[...p.data].map((H,$)=>k.type._parseSync(new a(p,H,p.path,$)));return n.ParseStatus.mergeArray(w,x)}get element(){return this._def.type}min(l,p){return new G({...this._def,minLength:{value:l,message:t.errorUtil.toString(p)}})}max(l,p){return new G({...this._def,maxLength:{value:l,message:t.errorUtil.toString(p)}})}length(l,p){return new G({...this._def,exactLength:{value:l,message:t.errorUtil.toString(p)}})}nonempty(l){return this.min(1,l)}}r.ZodArray=G,G.create=(P,l)=>new G({type:P,minLength:null,maxLength:null,exactLength:null,typeName:Z.ZodArray,...u(l)});function W(P){if(P instanceof te){const l={};for(const p in P.shape){const w=P.shape[p];l[p]=ve.create(W(w))}return new te({...P._def,shape:()=>l})}else return P instanceof G?new G({...P._def,type:W(P.element)}):P instanceof ve?ve.create(W(P.unwrap())):P instanceof ye?ye.create(W(P.unwrap())):P instanceof we?we.create(P.items.map(l=>W(l))):P}class te extends c{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const l=this._def.shape(),p=i.util.objectKeys(l);return this._cached={shape:l,keys:p}}_parse(l){if(this._getType(l)!==i.ZodParsedType.object){const se=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(se,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:se.parsedType}),n.INVALID}const{status:w,ctx:k}=this._processInputParams(l),{shape:x,keys:H}=this._getCached(),$=[];if(!(this._def.catchall instanceof V&&this._def.unknownKeys==="strip"))for(const se in k.data)H.includes(se)||$.push(se);const oe=[];for(const se of H){const de=x[se],Qe=k.data[se];oe.push({key:{status:"valid",value:se},value:de._parse(new a(k,Qe,k.path,se)),alwaysSet:se in k.data})}if(this._def.catchall instanceof V){const se=this._def.unknownKeys;if(se==="passthrough")for(const de of $)oe.push({key:{status:"valid",value:de},value:{status:"valid",value:k.data[de]}});else if(se==="strict")$.length>0&&((0,n.addIssueToContext)(k,{code:s.ZodIssueCode.unrecognized_keys,keys:$}),w.dirty());else if(se!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const se=this._def.catchall;for(const de of $){const Qe=k.data[de];oe.push({key:{status:"valid",value:de},value:se._parse(new a(k,Qe,k.path,de)),alwaysSet:de in k.data})}}return k.common.async?Promise.resolve().then(async()=>{const se=[];for(const de of oe){const Qe=await de.key;se.push({key:Qe,value:await de.value,alwaysSet:de.alwaysSet})}return se}).then(se=>n.ParseStatus.mergeObjectSync(w,se)):n.ParseStatus.mergeObjectSync(w,oe)}get shape(){return this._def.shape()}strict(l){return t.errorUtil.errToObj,new te({...this._def,unknownKeys:"strict",...l!==void 0?{errorMap:(p,w)=>{var k,x,H,$;const oe=(H=(x=(k=this._def).errorMap)===null||x===void 0?void 0:x.call(k,p,w).message)!==null&&H!==void 0?H:w.defaultError;return p.code==="unrecognized_keys"?{message:($=t.errorUtil.errToObj(l).message)!==null&&$!==void 0?$:oe}:{message:oe}}}:{}})}strip(){return new te({...this._def,unknownKeys:"strip"})}passthrough(){return new te({...this._def,unknownKeys:"passthrough"})}extend(l){return new te({...this._def,shape:()=>({...this._def.shape(),...l})})}merge(l){return new te({unknownKeys:l._def.unknownKeys,catchall:l._def.catchall,shape:()=>({...this._def.shape(),...l._def.shape()}),typeName:Z.ZodObject})}setKey(l,p){return this.augment({[l]:p})}catchall(l){return new te({...this._def,catchall:l})}pick(l){const p={};return i.util.objectKeys(l).forEach(w=>{l[w]&&this.shape[w]&&(p[w]=this.shape[w])}),new te({...this._def,shape:()=>p})}omit(l){const p={};return i.util.objectKeys(this.shape).forEach(w=>{l[w]||(p[w]=this.shape[w])}),new te({...this._def,shape:()=>p})}deepPartial(){return W(this)}partial(l){const p={};return i.util.objectKeys(this.shape).forEach(w=>{const k=this.shape[w];l&&!l[w]?p[w]=k:p[w]=k.optional()}),new te({...this._def,shape:()=>p})}required(l){const p={};return i.util.objectKeys(this.shape).forEach(w=>{if(l&&!l[w])p[w]=this.shape[w];else{let x=this.shape[w];for(;x instanceof ve;)x=x._def.innerType;p[w]=x}}),new te({...this._def,shape:()=>p})}keyof(){return F(i.util.objectKeys(this.shape))}}r.ZodObject=te,te.create=(P,l)=>new te({shape:()=>P,unknownKeys:"strip",catchall:V.create(),typeName:Z.ZodObject,...u(l)}),te.strictCreate=(P,l)=>new te({shape:()=>P,unknownKeys:"strict",catchall:V.create(),typeName:Z.ZodObject,...u(l)}),te.lazycreate=(P,l)=>new te({shape:P,unknownKeys:"strip",catchall:V.create(),typeName:Z.ZodObject,...u(l)});class ie extends c{_parse(l){const{ctx:p}=this._processInputParams(l),w=this._def.options;function k(x){for(const $ of x)if($.result.status==="valid")return $.result;for(const $ of x)if($.result.status==="dirty")return p.common.issues.push(...$.ctx.common.issues),$.result;const H=x.map($=>new s.ZodError($.ctx.common.issues));return(0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_union,unionErrors:H}),n.INVALID}if(p.common.async)return Promise.all(w.map(async x=>{const H={...p,common:{...p.common,issues:[]},parent:null};return{result:await x._parseAsync({data:p.data,path:p.path,parent:H}),ctx:H}})).then(k);{let x;const H=[];for(const oe of w){const se={...p,common:{...p.common,issues:[]},parent:null},de=oe._parseSync({data:p.data,path:p.path,parent:se});if(de.status==="valid")return de;de.status==="dirty"&&!x&&(x={result:de,ctx:se}),se.common.issues.length&&H.push(se.common.issues)}if(x)return p.common.issues.push(...x.ctx.common.issues),x.result;const $=H.map(oe=>new s.ZodError(oe));return(0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_union,unionErrors:$}),n.INVALID}}get options(){return this._def.options}}r.ZodUnion=ie,ie.create=(P,l)=>new ie({options:P,typeName:Z.ZodUnion,...u(l)});const ge=P=>P instanceof D?ge(P.schema):P instanceof fe?ge(P.innerType()):P instanceof z?[P.value]:P instanceof X?P.options:P instanceof ae?Object.keys(P.enum):P instanceof _e?ge(P._def.innerType):P instanceof L?[void 0]:P instanceof q?[null]:null;class J extends c{_parse(l){const{ctx:p}=this._processInputParams(l);if(p.parsedType!==i.ZodParsedType.object)return(0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:p.parsedType}),n.INVALID;const w=this.discriminator,k=p.data[w],x=this.optionsMap.get(k);return x?p.common.async?x._parseAsync({data:p.data,path:p.path,parent:p}):x._parseSync({data:p.data,path:p.path,parent:p}):((0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[w]}),n.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(l,p,w){const k=new Map;for(const x of p){const H=ge(x.shape[l]);if(!H)throw new Error(`A discriminator value for key \`${l}\` could not be extracted from all schema options`);for(const $ of H){if(k.has($))throw new Error(`Discriminator property ${String(l)} has duplicate value ${String($)}`);k.set($,x)}}return new J({typeName:Z.ZodDiscriminatedUnion,discriminator:l,options:p,optionsMap:k,...u(w)})}}r.ZodDiscriminatedUnion=J;function je(P,l){const p=(0,i.getParsedType)(P),w=(0,i.getParsedType)(l);if(P===l)return{valid:!0,data:P};if(p===i.ZodParsedType.object&&w===i.ZodParsedType.object){const k=i.util.objectKeys(l),x=i.util.objectKeys(P).filter($=>k.indexOf($)!==-1),H={...P,...l};for(const $ of x){const oe=je(P[$],l[$]);if(!oe.valid)return{valid:!1};H[$]=oe.data}return{valid:!0,data:H}}else if(p===i.ZodParsedType.array&&w===i.ZodParsedType.array){if(P.length!==l.length)return{valid:!1};const k=[];for(let x=0;x<P.length;x++){const H=P[x],$=l[x],oe=je(H,$);if(!oe.valid)return{valid:!1};k.push(oe.data)}return{valid:!0,data:k}}else return p===i.ZodParsedType.date&&w===i.ZodParsedType.date&&+P==+l?{valid:!0,data:P}:{valid:!1}}class Le extends c{_parse(l){const{status:p,ctx:w}=this._processInputParams(l),k=(x,H)=>{if((0,n.isAborted)(x)||(0,n.isAborted)(H))return n.INVALID;const $=je(x.value,H.value);return $.valid?(((0,n.isDirty)(x)||(0,n.isDirty)(H))&&p.dirty(),{status:p.value,value:$.data}):((0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_intersection_types}),n.INVALID)};return w.common.async?Promise.all([this._def.left._parseAsync({data:w.data,path:w.path,parent:w}),this._def.right._parseAsync({data:w.data,path:w.path,parent:w})]).then(([x,H])=>k(x,H)):k(this._def.left._parseSync({data:w.data,path:w.path,parent:w}),this._def.right._parseSync({data:w.data,path:w.path,parent:w}))}}r.ZodIntersection=Le,Le.create=(P,l,p)=>new Le({left:P,right:l,typeName:Z.ZodIntersection,...u(p)});class we extends c{_parse(l){const{status:p,ctx:w}=this._processInputParams(l);if(w.parsedType!==i.ZodParsedType.array)return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:w.parsedType}),n.INVALID;if(w.data.length<this._def.items.length)return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.INVALID;!this._def.rest&&w.data.length>this._def.items.length&&((0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),p.dirty());const x=[...w.data].map((H,$)=>{const oe=this._def.items[$]||this._def.rest;return oe?oe._parse(new a(w,H,w.path,$)):null}).filter(H=>!!H);return w.common.async?Promise.all(x).then(H=>n.ParseStatus.mergeArray(p,H)):n.ParseStatus.mergeArray(p,x)}get items(){return this._def.items}rest(l){return new we({...this._def,rest:l})}}r.ZodTuple=we,we.create=(P,l)=>{if(!Array.isArray(P))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new we({items:P,typeName:Z.ZodTuple,rest:null,...u(l)})};class Ve extends c{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(l){const{status:p,ctx:w}=this._processInputParams(l);if(w.parsedType!==i.ZodParsedType.object)return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:w.parsedType}),n.INVALID;const k=[],x=this._def.keyType,H=this._def.valueType;for(const $ in w.data)k.push({key:x._parse(new a(w,$,w.path,$)),value:H._parse(new a(w,w.data[$],w.path,$))});return w.common.async?n.ParseStatus.mergeObjectAsync(p,k):n.ParseStatus.mergeObjectSync(p,k)}get element(){return this._def.valueType}static create(l,p,w){return p instanceof c?new Ve({keyType:l,valueType:p,typeName:Z.ZodRecord,...u(w)}):new Ve({keyType:M.create(),valueType:l,typeName:Z.ZodRecord,...u(p)})}}r.ZodRecord=Ve;class Q extends c{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(l){const{status:p,ctx:w}=this._processInputParams(l);if(w.parsedType!==i.ZodParsedType.map)return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.map,received:w.parsedType}),n.INVALID;const k=this._def.keyType,x=this._def.valueType,H=[...w.data.entries()].map(([$,oe],se)=>({key:k._parse(new a(w,$,w.path,[se,"key"])),value:x._parse(new a(w,oe,w.path,[se,"value"]))}));if(w.common.async){const $=new Map;return Promise.resolve().then(async()=>{for(const oe of H){const se=await oe.key,de=await oe.value;if(se.status==="aborted"||de.status==="aborted")return n.INVALID;(se.status==="dirty"||de.status==="dirty")&&p.dirty(),$.set(se.value,de.value)}return{status:p.value,value:$}})}else{const $=new Map;for(const oe of H){const se=oe.key,de=oe.value;if(se.status==="aborted"||de.status==="aborted")return n.INVALID;(se.status==="dirty"||de.status==="dirty")&&p.dirty(),$.set(se.value,de.value)}return{status:p.value,value:$}}}}r.ZodMap=Q,Q.create=(P,l,p)=>new Q({valueType:l,keyType:P,typeName:Z.ZodMap,...u(p)});class y extends c{_parse(l){const{status:p,ctx:w}=this._processInputParams(l);if(w.parsedType!==i.ZodParsedType.set)return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.set,received:w.parsedType}),n.INVALID;const k=this._def;k.minSize!==null&&w.data.size<k.minSize.value&&((0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_small,minimum:k.minSize.value,type:"set",inclusive:!0,exact:!1,message:k.minSize.message}),p.dirty()),k.maxSize!==null&&w.data.size>k.maxSize.value&&((0,n.addIssueToContext)(w,{code:s.ZodIssueCode.too_big,maximum:k.maxSize.value,type:"set",inclusive:!0,exact:!1,message:k.maxSize.message}),p.dirty());const x=this._def.valueType;function H(oe){const se=new Set;for(const de of oe){if(de.status==="aborted")return n.INVALID;de.status==="dirty"&&p.dirty(),se.add(de.value)}return{status:p.value,value:se}}const $=[...w.data.values()].map((oe,se)=>x._parse(new a(w,oe,w.path,se)));return w.common.async?Promise.all($).then(oe=>H(oe)):H($)}min(l,p){return new y({...this._def,minSize:{value:l,message:t.errorUtil.toString(p)}})}max(l,p){return new y({...this._def,maxSize:{value:l,message:t.errorUtil.toString(p)}})}size(l,p){return this.min(l,p).max(l,p)}nonempty(l){return this.min(1,l)}}r.ZodSet=y,y.create=(P,l)=>new y({valueType:P,minSize:null,maxSize:null,typeName:Z.ZodSet,...u(l)});class E extends c{constructor(){super(...arguments),this.validate=this.implement}_parse(l){const{ctx:p}=this._processInputParams(l);if(p.parsedType!==i.ZodParsedType.function)return(0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.function,received:p.parsedType}),n.INVALID;function w($,oe){return(0,n.makeIssue)({data:$,path:p.path,errorMaps:[p.common.contextualErrorMap,p.schemaErrorMap,(0,e.getErrorMap)(),e.defaultErrorMap].filter(se=>!!se),issueData:{code:s.ZodIssueCode.invalid_arguments,argumentsError:oe}})}function k($,oe){return(0,n.makeIssue)({data:$,path:p.path,errorMaps:[p.common.contextualErrorMap,p.schemaErrorMap,(0,e.getErrorMap)(),e.defaultErrorMap].filter(se=>!!se),issueData:{code:s.ZodIssueCode.invalid_return_type,returnTypeError:oe}})}const x={errorMap:p.common.contextualErrorMap},H=p.data;if(this._def.returns instanceof ue){const $=this;return(0,n.OK)(async function(...oe){const se=new s.ZodError([]),de=await $._def.args.parseAsync(oe,x).catch(di=>{throw se.addIssue(w(oe,di)),se}),Qe=await Reflect.apply(H,this,de);return await $._def.returns._def.type.parseAsync(Qe,x).catch(di=>{throw se.addIssue(k(Qe,di)),se})})}else{const $=this;return(0,n.OK)(function(...oe){const se=$._def.args.safeParse(oe,x);if(!se.success)throw new s.ZodError([w(oe,se.error)]);const de=Reflect.apply(H,this,se.data),Qe=$._def.returns.safeParse(de,x);if(!Qe.success)throw new s.ZodError([k(de,Qe.error)]);return Qe.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...l){return new E({...this._def,args:we.create(l).rest(K.create())})}returns(l){return new E({...this._def,returns:l})}implement(l){return this.parse(l)}strictImplement(l){return this.parse(l)}static create(l,p,w){return new E({args:l||we.create([]).rest(K.create()),returns:p||K.create(),typeName:Z.ZodFunction,...u(w)})}}r.ZodFunction=E;class D extends c{get schema(){return this._def.getter()}_parse(l){const{ctx:p}=this._processInputParams(l);return this._def.getter()._parse({data:p.data,path:p.path,parent:p})}}r.ZodLazy=D,D.create=(P,l)=>new D({getter:P,typeName:Z.ZodLazy,...u(l)});class z extends c{_parse(l){if(l.data!==this._def.value){const p=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(p,{received:p.data,code:s.ZodIssueCode.invalid_literal,expected:this._def.value}),n.INVALID}return{status:"valid",value:l.data}}get value(){return this._def.value}}r.ZodLiteral=z,z.create=(P,l)=>new z({value:P,typeName:Z.ZodLiteral,...u(l)});function F(P,l){return new X({values:P,typeName:Z.ZodEnum,...u(l)})}class X extends c{_parse(l){if(typeof l.data!="string"){const p=this._getOrReturnCtx(l),w=this._def.values;return(0,n.addIssueToContext)(p,{expected:i.util.joinValues(w),received:p.parsedType,code:s.ZodIssueCode.invalid_type}),n.INVALID}if(this._def.values.indexOf(l.data)===-1){const p=this._getOrReturnCtx(l),w=this._def.values;return(0,n.addIssueToContext)(p,{received:p.data,code:s.ZodIssueCode.invalid_enum_value,options:w}),n.INVALID}return(0,n.OK)(l.data)}get options(){return this._def.values}get enum(){const l={};for(const p of this._def.values)l[p]=p;return l}get Values(){const l={};for(const p of this._def.values)l[p]=p;return l}get Enum(){const l={};for(const p of this._def.values)l[p]=p;return l}extract(l){return X.create(l)}exclude(l){return X.create(this.options.filter(p=>!l.includes(p)))}}r.ZodEnum=X,X.create=F;class ae extends c{_parse(l){const p=i.util.getValidEnumValues(this._def.values),w=this._getOrReturnCtx(l);if(w.parsedType!==i.ZodParsedType.string&&w.parsedType!==i.ZodParsedType.number){const k=i.util.objectValues(p);return(0,n.addIssueToContext)(w,{expected:i.util.joinValues(k),received:w.parsedType,code:s.ZodIssueCode.invalid_type}),n.INVALID}if(p.indexOf(l.data)===-1){const k=i.util.objectValues(p);return(0,n.addIssueToContext)(w,{received:w.data,code:s.ZodIssueCode.invalid_enum_value,options:k}),n.INVALID}return(0,n.OK)(l.data)}get enum(){return this._def.values}}r.ZodNativeEnum=ae,ae.create=(P,l)=>new ae({values:P,typeName:Z.ZodNativeEnum,...u(l)});class ue extends c{unwrap(){return this._def.type}_parse(l){const{ctx:p}=this._processInputParams(l);if(p.parsedType!==i.ZodParsedType.promise&&p.common.async===!1)return(0,n.addIssueToContext)(p,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.promise,received:p.parsedType}),n.INVALID;const w=p.parsedType===i.ZodParsedType.promise?p.data:Promise.resolve(p.data);return(0,n.OK)(w.then(k=>this._def.type.parseAsync(k,{path:p.path,errorMap:p.common.contextualErrorMap})))}}r.ZodPromise=ue,ue.create=(P,l)=>new ue({type:P,typeName:Z.ZodPromise,...u(l)});class fe extends c{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Z.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(l){const{status:p,ctx:w}=this._processInputParams(l),k=this._def.effect||null,x={addIssue:H=>{(0,n.addIssueToContext)(w,H),H.fatal?p.abort():p.dirty()},get path(){return w.path}};if(x.addIssue=x.addIssue.bind(x),k.type==="preprocess"){const H=k.transform(w.data,x);return w.common.issues.length?{status:"dirty",value:w.data}:w.common.async?Promise.resolve(H).then($=>this._def.schema._parseAsync({data:$,path:w.path,parent:w})):this._def.schema._parseSync({data:H,path:w.path,parent:w})}if(k.type==="refinement"){const H=$=>{const oe=k.refinement($,x);if(w.common.async)return Promise.resolve(oe);if(oe instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return $};if(w.common.async===!1){const $=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});return $.status==="aborted"?n.INVALID:($.status==="dirty"&&p.dirty(),H($.value),{status:p.value,value:$.value})}else return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then($=>$.status==="aborted"?n.INVALID:($.status==="dirty"&&p.dirty(),H($.value).then(()=>({status:p.value,value:$.value}))))}if(k.type==="transform")if(w.common.async===!1){const H=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});if(!(0,n.isValid)(H))return H;const $=k.transform(H.value,x);if($ instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:p.value,value:$}}else return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then(H=>(0,n.isValid)(H)?Promise.resolve(k.transform(H.value,x)).then($=>({status:p.value,value:$})):H);i.util.assertNever(k)}}r.ZodEffects=fe,r.ZodTransformer=fe,fe.create=(P,l,p)=>new fe({schema:P,typeName:Z.ZodEffects,effect:l,...u(p)}),fe.createWithPreprocess=(P,l,p)=>new fe({schema:l,effect:{type:"preprocess",transform:P},typeName:Z.ZodEffects,...u(p)});class ve extends c{_parse(l){return this._getType(l)===i.ZodParsedType.undefined?(0,n.OK)(void 0):this._def.innerType._parse(l)}unwrap(){return this._def.innerType}}r.ZodOptional=ve,ve.create=(P,l)=>new ve({innerType:P,typeName:Z.ZodOptional,...u(l)});class ye extends c{_parse(l){return this._getType(l)===i.ZodParsedType.null?(0,n.OK)(null):this._def.innerType._parse(l)}unwrap(){return this._def.innerType}}r.ZodNullable=ye,ye.create=(P,l)=>new ye({innerType:P,typeName:Z.ZodNullable,...u(l)});class _e extends c{_parse(l){const{ctx:p}=this._processInputParams(l);let w=p.data;return p.parsedType===i.ZodParsedType.undefined&&(w=this._def.defaultValue()),this._def.innerType._parse({data:w,path:p.path,parent:p})}removeDefault(){return this._def.innerType}}r.ZodDefault=_e,_e.create=(P,l)=>new _e({innerType:P,typeName:Z.ZodDefault,defaultValue:typeof l.default=="function"?l.default:()=>l.default,...u(l)});class U extends c{_parse(l){const{ctx:p}=this._processInputParams(l),w={...p,common:{...p.common,issues:[]}},k=this._def.innerType._parse({data:w.data,path:w.path,parent:{...w}});return(0,n.isAsync)(k)?k.then(x=>({status:"valid",value:x.status==="valid"?x.value:this._def.catchValue({get error(){return new s.ZodError(w.common.issues)},input:w.data})})):{status:"valid",value:k.status==="valid"?k.value:this._def.catchValue({get error(){return new s.ZodError(w.common.issues)},input:w.data})}}removeCatch(){return this._def.innerType}}r.ZodCatch=U,U.create=(P,l)=>new U({innerType:P,typeName:Z.ZodCatch,catchValue:typeof l.catch=="function"?l.catch:()=>l.catch,...u(l)});class re extends c{_parse(l){if(this._getType(l)!==i.ZodParsedType.nan){const w=this._getOrReturnCtx(l);return(0,n.addIssueToContext)(w,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.nan,received:w.parsedType}),n.INVALID}return{status:"valid",value:l.data}}}r.ZodNaN=re,re.create=P=>new re({typeName:Z.ZodNaN,...u(P)}),r.BRAND=Symbol("zod_brand");class ee extends c{_parse(l){const{ctx:p}=this._processInputParams(l),w=p.data;return this._def.type._parse({data:w,path:p.path,parent:p})}unwrap(){return this._def.type}}r.ZodBranded=ee;class ne extends c{_parse(l){const{status:p,ctx:w}=this._processInputParams(l);if(w.common.async)return(async()=>{const x=await this._def.in._parseAsync({data:w.data,path:w.path,parent:w});return x.status==="aborted"?n.INVALID:x.status==="dirty"?(p.dirty(),(0,n.DIRTY)(x.value)):this._def.out._parseAsync({data:x.value,path:w.path,parent:w})})();{const k=this._def.in._parseSync({data:w.data,path:w.path,parent:w});return k.status==="aborted"?n.INVALID:k.status==="dirty"?(p.dirty(),{status:"dirty",value:k.value}):this._def.out._parseSync({data:k.value,path:w.path,parent:w})}}static create(l,p){return new ne({in:l,out:p,typeName:Z.ZodPipeline})}}r.ZodPipeline=ne;class le extends c{_parse(l){const p=this._def.innerType._parse(l);return(0,n.isValid)(p)&&(p.value=Object.freeze(p.value)),p}}r.ZodReadonly=le,le.create=(P,l)=>new le({innerType:P,typeName:Z.ZodReadonly,...u(l)});const me=(P,l={},p)=>P?Y.create().superRefine((w,k)=>{var x,H;if(!P(w)){const $=typeof l=="function"?l(w):typeof l=="string"?{message:l}:l,oe=(H=(x=$.fatal)!==null&&x!==void 0?x:p)!==null&&H!==void 0?H:!0,se=typeof $=="string"?{message:$}:$;k.addIssue({code:"custom",...se,fatal:oe})}}):Y.create();r.custom=me,r.late={object:te.lazycreate};var Z;(function(P){P.ZodString="ZodString",P.ZodNumber="ZodNumber",P.ZodNaN="ZodNaN",P.ZodBigInt="ZodBigInt",P.ZodBoolean="ZodBoolean",P.ZodDate="ZodDate",P.ZodSymbol="ZodSymbol",P.ZodUndefined="ZodUndefined",P.ZodNull="ZodNull",P.ZodAny="ZodAny",P.ZodUnknown="ZodUnknown",P.ZodNever="ZodNever",P.ZodVoid="ZodVoid",P.ZodArray="ZodArray",P.ZodObject="ZodObject",P.ZodUnion="ZodUnion",P.ZodDiscriminatedUnion="ZodDiscriminatedUnion",P.ZodIntersection="ZodIntersection",P.ZodTuple="ZodTuple",P.ZodRecord="ZodRecord",P.ZodMap="ZodMap",P.ZodSet="ZodSet",P.ZodFunction="ZodFunction",P.ZodLazy="ZodLazy",P.ZodLiteral="ZodLiteral",P.ZodEnum="ZodEnum",P.ZodEffects="ZodEffects",P.ZodNativeEnum="ZodNativeEnum",P.ZodOptional="ZodOptional",P.ZodNullable="ZodNullable",P.ZodDefault="ZodDefault",P.ZodCatch="ZodCatch",P.ZodPromise="ZodPromise",P.ZodBranded="ZodBranded",P.ZodPipeline="ZodPipeline",P.ZodReadonly="ZodReadonly"})(Z=r.ZodFirstPartyTypeKind||(r.ZodFirstPartyTypeKind={}));const he=(P,l={message:`Input not instance of ${P.name}`})=>(0,r.custom)(p=>p instanceof P,l);r.instanceof=he;const Ce=M.create;r.string=Ce;const be=C.create;r.number=be;const Xe=re.create;r.nan=Xe;const Ue=v.create;r.bigint=Ue;const st=A.create;r.boolean=st;const ir=I.create;r.date=ir;const Yu=N.create;r.symbol=Yu;const Ju=L.create;r.undefined=Ju;const Xu=q.create;r.null=Xu;const Qu=Y.create;r.any=Qu;const ec=K.create;r.unknown=ec;const tc=V.create;r.never=tc;const rc=B.create;r.void=rc;const nc=G.create;r.array=nc;const ic=te.create;r.object=ic;const sc=te.strictCreate;r.strictObject=sc;const ac=ie.create;r.union=ac;const oc=J.create;r.discriminatedUnion=oc;const uc=Le.create;r.intersection=uc;const cc=we.create;r.tuple=cc;const lc=Ve.create;r.record=lc;const dc=Q.create;r.map=dc;const fc=y.create;r.set=fc;const hc=E.create;r.function=hc;const pc=D.create;r.lazy=pc;const mc=z.create;r.literal=mc;const gc=X.create;r.enum=gc;const yc=ae.create;r.nativeEnum=yc;const bc=ue.create;r.promise=bc;const Ms=fe.create;r.effect=Ms,r.transformer=Ms;const vc=ve.create;r.optional=vc;const wc=ye.create;r.nullable=wc;const _c=fe.createWithPreprocess;r.preprocess=_c;const Ic=ne.create;r.pipeline=Ic;const Ac=()=>Ce().optional();r.ostring=Ac;const Ec=()=>be().optional();r.onumber=Ec;const Tc=()=>st().optional();r.oboolean=Tc,r.coerce={string:P=>M.create({...P,coerce:!0}),number:P=>C.create({...P,coerce:!0}),boolean:P=>A.create({...P,coerce:!0}),bigint:P=>v.create({...P,coerce:!0}),date:P=>I.create({...P,coerce:!0})},r.NEVER=n.INVALID})(Ku);(function(r){var e=Ie&&Ie.__createBinding||(Object.create?function(n,i,s,a){a===void 0&&(a=s),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,a){a===void 0&&(a=s),n[a]=i[s]}),t=Ie&&Ie.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(r,"__esModule",{value:!0}),t(lt,r),t(Ls,r),t(Fu,r),t(Br,r),t(Ku,r),t(dt,r)})(Ji);(function(r){var e=Ie&&Ie.__createBinding||(Object.create?function(a,o,u,c){c===void 0&&(c=u),Object.defineProperty(a,c,{enumerable:!0,get:function(){return o[u]}})}:function(a,o,u,c){c===void 0&&(c=u),a[c]=o[u]}),t=Ie&&Ie.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),n=Ie&&Ie.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var u in a)u!=="default"&&Object.prototype.hasOwnProperty.call(a,u)&&e(o,a,u);return t(o,a),o},i=Ie&&Ie.__exportStar||function(a,o){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,a,u)};Object.defineProperty(r,"__esModule",{value:!0}),r.z=void 0;const s=n(Ji);r.z=s,i(Ji,r),r.default=s})(Yn);var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.parseAnyDef=void 0;function qg(){return{}}Xn.parseAnyDef=qg;var or={},it={};Object.defineProperty(it,"__esModule",{value:!0});it.setResponseValueAndErrors=it.addErrorMessage=void 0;function Hu(r,e,t,n){n!=null&&n.errorMessages&&t&&(r.errorMessage=Object.assign(Object.assign({},r.errorMessage),{[e]:t}))}it.addErrorMessage=Hu;function Hg(r,e,t,n,i){r[e]=t,Hu(r,e,n,i)}it.setResponseValueAndErrors=Hg;var qa;function Wg(){if(qa)return or;qa=1,Object.defineProperty(or,"__esModule",{value:!0}),or.parseArrayDef=void 0;const r=Yn,e=it,t=De();function n(i,s){var a,o;const u={type:"array"};return((o=(a=i.type)===null||a===void 0?void 0:a._def)===null||o===void 0?void 0:o.typeName)!==r.ZodFirstPartyTypeKind.ZodAny&&(u.items=(0,t.parseDef)(i.type._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"items"]}))),i.minLength&&(0,e.setResponseValueAndErrors)(u,"minItems",i.minLength.value,i.minLength.message,s),i.maxLength&&(0,e.setResponseValueAndErrors)(u,"maxItems",i.maxLength.value,i.maxLength.message,s),i.exactLength&&((0,e.setResponseValueAndErrors)(u,"minItems",i.exactLength.value,i.exactLength.message,s),(0,e.setResponseValueAndErrors)(u,"maxItems",i.exactLength.value,i.exactLength.message,s)),u}return or.parseArrayDef=n,or}var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.parseBigintDef=void 0;const xt=it;function Gg(r,e){const t={type:"integer",format:"int64"};if(!r.checks)return t;for(const n of r.checks)switch(n.kind){case"min":e.target==="jsonSchema7"?n.inclusive?(0,xt.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e):(0,xt.setResponseValueAndErrors)(t,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(t.exclusiveMinimum=!0),(0,xt.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?(0,xt.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e):(0,xt.setResponseValueAndErrors)(t,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(t.exclusiveMaximum=!0),(0,xt.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e));break;case"multipleOf":(0,xt.setResponseValueAndErrors)(t,"multipleOf",n.value,n.message,e);break}return t}Qn.parseBigintDef=Gg;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.parseBooleanDef=void 0;function Yg(){return{type:"boolean"}}ei.parseBooleanDef=Yg;var ur={},Ha;function Jg(){if(Ha)return ur;Ha=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.parseBrandedDef=void 0;const r=De();function e(t,n){return(0,r.parseDef)(t.type._def,n)}return ur.parseBrandedDef=e,ur}var cr={},Wa;function Xg(){if(Wa)return cr;Wa=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.parseCatchDef=void 0;const r=De(),e=(t,n)=>(0,r.parseDef)(t.innerType._def,n);return cr.parseCatchDef=e,cr}var ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.parseDateDef=void 0;const Ga=it;function Qg(r,e){return e.dateStrategy=="integer"?ey(r,e):{type:"string",format:"date-time"}}ti.parseDateDef=Qg;const ey=(r,e)=>{const t={type:"integer",format:"unix-time"};for(const n of r.checks)switch(n.kind){case"min":e.target==="jsonSchema7"&&(0,Ga.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e);break;case"max":e.target==="jsonSchema7"&&(0,Ga.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e);break}return t};var lr={},Ya;function ty(){if(Ya)return lr;Ya=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.parseDefaultDef=void 0;const r=De();function e(t,n){return Object.assign(Object.assign({},(0,r.parseDef)(t.innerType._def,n)),{default:t.defaultValue()})}return lr.parseDefaultDef=e,lr}var dr={},Ja;function ry(){if(Ja)return dr;Ja=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.parseEffectsDef=void 0;const r=De();function e(t,n){return n.effectStrategy==="input"?(0,r.parseDef)(t.schema._def,n):{}}return dr.parseEffectsDef=e,dr}var ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.parseEnumDef=void 0;function ny(r){return{type:"string",enum:r.values}}ri.parseEnumDef=ny;var fr={},Xa;function iy(){if(Xa)return fr;Xa=1;var r=Ie&&Ie.__rest||function(i,s){var a={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.indexOf(o)<0&&(a[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(i);u<o.length;u++)s.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(i,o[u])&&(a[o[u]]=i[o[u]]);return a};Object.defineProperty(fr,"__esModule",{value:!0}),fr.parseIntersectionDef=void 0;const e=De(),t=i=>"type"in i&&i.type==="string"?!1:"allOf"in i;function n(i,s){const a=[(0,e.parseDef)(i.left._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"allOf","0"]})),(0,e.parseDef)(i.right._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"allOf","1"]}))].filter(c=>!!c);let o=s.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const u=[];return a.forEach(c=>{if(t(c))u.push(...c.allOf),c.unevaluatedProperties===void 0&&(o=void 0);else{let d=c;"additionalProperties"in c&&c.additionalProperties===!1?d=r(c,["additionalProperties"]):o=void 0,u.push(d)}}),u.length?Object.assign({allOf:u},o):void 0}return fr.parseIntersectionDef=n,fr}var ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.parseLiteralDef=void 0;function sy(r,e){const t=typeof r.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(r.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[r.value]}:{type:t==="bigint"?"integer":t,const:r.value}}ni.parseLiteralDef=sy;var hr={},Qa;function ay(){if(Qa)return hr;Qa=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.parseMapDef=void 0;const r=De();function e(t,n){const i=(0,r.parseDef)(t.keyType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items","items","0"]}))||{},s=(0,r.parseDef)(t.valueType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items","items","1"]}))||{};return{type:"array",maxItems:125,items:{type:"array",items:[i,s],minItems:2,maxItems:2}}}return hr.parseMapDef=e,hr}var ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.parseNativeEnumDef=void 0;function oy(r){const e=r.values,n=Object.keys(r.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),i=Array.from(new Set(n.map(s=>typeof s)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:n}}ii.parseNativeEnumDef=oy;var si={};Object.defineProperty(si,"__esModule",{value:!0});si.parseNeverDef=void 0;function uy(){return{not:{}}}si.parseNeverDef=uy;var ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.parseNullDef=void 0;function cy(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}ai.parseNullDef=cy;var pr={},Ni={},eo;function Wu(){return eo||(eo=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseUnionDef=r.primitiveMappings=void 0;const e=De();r.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function t(i,s){if(s.target==="openApi3")return n(i,s);const a=i.options instanceof Map?Array.from(i.options.values()):i.options;if(a.every(o=>o._def.typeName in r.primitiveMappings&&(!o._def.checks||!o._def.checks.length))){const o=a.reduce((u,c)=>{const d=r.primitiveMappings[c._def.typeName];return d&&!u.includes(d)?[...u,d]:u},[]);return{type:o.length>1?o:o[0]}}else if(a.every(o=>o._def.typeName==="ZodLiteral"&&!o.description)){const o=a.reduce((u,c)=>{const d=typeof c._def.value;switch(d){case"string":case"number":case"boolean":return[...u,d];case"bigint":return[...u,"integer"];case"object":if(c._def.value===null)return[...u,"null"];case"symbol":case"undefined":case"function":default:return u}},[]);if(o.length===a.length){const u=o.filter((c,d,f)=>f.indexOf(c)===d);return{type:u.length>1?u:u[0],enum:a.reduce((c,d)=>c.includes(d._def.value)?c:[...c,d._def.value],[])}}}else if(a.every(o=>o._def.typeName==="ZodEnum"))return{type:"string",enum:a.reduce((o,u)=>[...o,...u._def.values.filter(c=>!o.includes(c))],[])};return n(i,s)}r.parseUnionDef=t;const n=(i,s)=>{const a=(i.options instanceof Map?Array.from(i.options.values()):i.options).map((o,u)=>(0,e.parseDef)(o._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"anyOf",`${u}`]}))).filter(o=>!!o&&(!s.strictUnions||typeof o=="object"&&Object.keys(o).length>0));return a.length?{anyOf:a}:void 0}}(Ni)),Ni}var to;function ly(){if(to)return pr;to=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.parseNullableDef=void 0;const r=De(),e=Wu();function t(n,i){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return i.target==="openApi3"?{type:e.primitiveMappings[n.innerType._def.typeName],nullable:!0}:{type:[e.primitiveMappings[n.innerType._def.typeName],"null"]};if(i.target==="openApi3"){const a=(0,r.parseDef)(n.innerType._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath]}));return a&&Object.assign(Object.assign({},a),{nullable:!0})}const s=(0,r.parseDef)(n.innerType._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"anyOf","0"]}));return s&&{anyOf:[s,{type:"null"}]}}return pr.parseNullableDef=t,pr}var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.parseNumberDef=void 0;const bt=it;function dy(r,e){const t={type:"number"};if(!r.checks)return t;for(const n of r.checks)switch(n.kind){case"int":t.type="integer",(0,bt.addErrorMessage)(t,"type",n.message,e);break;case"min":e.target==="jsonSchema7"?n.inclusive?(0,bt.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e):(0,bt.setResponseValueAndErrors)(t,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(t.exclusiveMinimum=!0),(0,bt.setResponseValueAndErrors)(t,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?(0,bt.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e):(0,bt.setResponseValueAndErrors)(t,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(t.exclusiveMaximum=!0),(0,bt.setResponseValueAndErrors)(t,"maximum",n.value,n.message,e));break;case"multipleOf":(0,bt.setResponseValueAndErrors)(t,"multipleOf",n.value,n.message,e);break}return t}oi.parseNumberDef=dy;var St={},ro;function fy(){if(ro)return St;ro=1,Object.defineProperty(St,"__esModule",{value:!0}),St.parseObjectDef=St.parseObjectDefX=void 0;const r=De();function e(n,i){var s,a;Object.keys(n.shape()).reduce((u,c)=>{let d=n.shape()[c];const f=d.isOptional();f||(d=Object.assign({},d._def.innerSchema));const m=(0,r.parseDef)(d._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"properties",c],propertyPath:[...i.currentPath,"properties",c]}));return m!==void 0&&(u.properties[c]=m,f||(u.required||(u.required=[]),u.required.push(c))),u},{type:"object",properties:{},additionalProperties:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":(s=(0,r.parseDef)(n.catchall._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"additionalProperties"]})))!==null&&s!==void 0?s:!0});const o=Object.assign(Object.assign({type:"object"},Object.entries(n.shape()).reduce((u,[c,d])=>{if(d===void 0||d._def===void 0)return u;const f=(0,r.parseDef)(d._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"properties",c],propertyPath:[...i.currentPath,"properties",c]}));return f===void 0?u:{properties:Object.assign(Object.assign({},u.properties),{[c]:f}),required:d.isOptional()?u.required:[...u.required,c]}},{properties:{},required:[]})),{additionalProperties:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":(a=(0,r.parseDef)(n.catchall._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"additionalProperties"]})))!==null&&a!==void 0?a:!0});return o.required.length||delete o.required,o}St.parseObjectDefX=e;function t(n,i){var s;const a=Object.assign(Object.assign({type:"object"},Object.entries(n.shape()).reduce((o,[u,c])=>{if(c===void 0||c._def===void 0)return o;const d=(0,r.parseDef)(c._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"properties",u],propertyPath:[...i.currentPath,"properties",u]}));return d===void 0?o:{properties:Object.assign(Object.assign({},o.properties),{[u]:d}),required:c.isOptional()?o.required:[...o.required,u]}},{properties:{},required:[]})),{additionalProperties:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":(s=(0,r.parseDef)(n.catchall._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"additionalProperties"]})))!==null&&s!==void 0?s:!0});return a.required.length||delete a.required,a}return St.parseObjectDef=t,St}var mr={},no;function hy(){if(no)return mr;no=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.parseOptionalDef=void 0;const r=De(),e=(t,n)=>{var i;if(n.currentPath.toString()===((i=n.propertyPath)===null||i===void 0?void 0:i.toString()))return(0,r.parseDef)(t.innerType._def,n);const s=(0,r.parseDef)(t.innerType._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"anyOf","1"]}));return s?{anyOf:[{not:{}},s]}:{}};return mr.parseOptionalDef=e,mr}var gr={},io;function py(){if(io)return gr;io=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.parsePipelineDef=void 0;const r=De(),e=(t,n)=>{if(n.pipeStrategy==="input")return(0,r.parseDef)(t.in._def,n);const i=(0,r.parseDef)(t.in._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"allOf","0"]})),s=(0,r.parseDef)(t.out._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"allOf",i?"1":"0"]}));return{allOf:[i,s].filter(a=>a!==void 0)}};return gr.parsePipelineDef=e,gr}var yr={},so;function my(){if(so)return yr;so=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.parsePromiseDef=void 0;const r=De();function e(t,n){return(0,r.parseDef)(t.type._def,n)}return yr.parsePromiseDef=e,yr}var br={},Us={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseStringDef=r.emojiPattern=r.ulidPattern=r.cuid2Pattern=r.cuidPattern=r.emailPattern=void 0;const e=it;r.emailPattern='^(([^<>()[\\]\\\\.,;:\\s@\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\"]+)*)|(\\".+\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$',r.cuidPattern="^c[^\\s-]{8,}$",r.cuid2Pattern="^[a-z][a-z0-9]*$",r.ulidPattern="/[0-9A-HJKMNP-TV-Z]{26}/",r.emojiPattern="/^(p{Extended_Pictographic}|p{Emoji_Component})+$/u";function t(a,o){const u={type:"string"};if(a.checks)for(const c of a.checks)switch(c.kind){case"min":(0,e.setResponseValueAndErrors)(u,"minLength",typeof u.minLength=="number"?Math.max(u.minLength,c.value):c.value,c.message,o);break;case"max":(0,e.setResponseValueAndErrors)(u,"maxLength",typeof u.maxLength=="number"?Math.min(u.maxLength,c.value):c.value,c.message,o);break;case"email":switch(o.emailStrategy){case"format:email":i(u,"email",c.message,o);break;case"format:idn-email":i(u,"idn-email",c.message,o);break;case"pattern:zod":s(u,r.emailPattern,c.message,o);break}break;case"url":i(u,"uri",c.message,o);break;case"uuid":i(u,"uuid",c.message,o);break;case"regex":s(u,c.regex.source,c.message,o);break;case"cuid":s(u,r.cuidPattern,c.message,o);break;case"cuid2":s(u,r.cuid2Pattern,c.message,o);break;case"startsWith":s(u,"^"+n(c.value),c.message,o);break;case"endsWith":s(u,n(c.value)+"$",c.message,o);break;case"datetime":i(u,"date-time",c.message,o);break;case"length":(0,e.setResponseValueAndErrors)(u,"minLength",typeof u.minLength=="number"?Math.max(u.minLength,c.value):c.value,c.message,o),(0,e.setResponseValueAndErrors)(u,"maxLength",typeof u.maxLength=="number"?Math.min(u.maxLength,c.value):c.value,c.message,o);break;case"includes":{s(u,n(c.value),c.message,o);break}case"ip":{c.version!=="v6"&&i(u,"ipv4",c.message,o),c.version!=="v4"&&i(u,"ipv6",c.message,o);break}case"emoji":s(u,r.emojiPattern,c.message,o);break;case"ulid":{s(u,r.ulidPattern,c.message,o);break}}return u}r.parseStringDef=t;const n=a=>Array.from(a).map(o=>/[a-zA-Z0-9]/.test(o)?o:`\\${o}`).join(""),i=(a,o,u,c)=>{var d;a.format||!((d=a.anyOf)===null||d===void 0)&&d.some(f=>f.format)?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push(Object.assign({format:a.format},a.errorMessage&&c.errorMessages&&{errorMessage:{format:a.errorMessage.format}})),delete a.format,a.errorMessage&&(delete a.errorMessage.format,Object.keys(a.errorMessage).length===0&&delete a.errorMessage)),a.anyOf.push(Object.assign({format:o},u&&c.errorMessages&&{errorMessage:{format:u}}))):(0,e.setResponseValueAndErrors)(a,"format",o,u,c)},s=(a,o,u,c)=>{var d;a.pattern||!((d=a.allOf)===null||d===void 0)&&d.some(f=>f.pattern)?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push(Object.assign({pattern:a.pattern},a.errorMessage&&c.errorMessages&&{errorMessage:{pattern:a.errorMessage.pattern}})),delete a.pattern,a.errorMessage&&(delete a.errorMessage.pattern,Object.keys(a.errorMessage).length===0&&delete a.errorMessage)),a.allOf.push(Object.assign({pattern:o},u&&c.errorMessages&&{errorMessage:{pattern:u}}))):(0,e.setResponseValueAndErrors)(a,"pattern",o,u,c)}})(Us);var ao;function gy(){if(ao)return br;ao=1,Object.defineProperty(br,"__esModule",{value:!0}),br.parseRecordDef=void 0;const r=Yn,e=De(),t=Us;function n(i,s){var a,o,u,c,d;if(s.target==="openApi3"&&((a=i.keyType)===null||a===void 0?void 0:a._def.typeName)===r.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:i.keyType._def.values,properties:i.keyType._def.values.reduce((m,b)=>{var g;return Object.assign(Object.assign({},m),{[b]:(g=(0,e.parseDef)(i.valueType._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"properties",b]})))!==null&&g!==void 0?g:{}})},{}),additionalProperties:!1};const f={type:"object",additionalProperties:(o=(0,e.parseDef)(i.valueType._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"additionalProperties"]})))!==null&&o!==void 0?o:{}};if(s.target==="openApi3")return f;if(((u=i.keyType)===null||u===void 0?void 0:u._def.typeName)===r.ZodFirstPartyTypeKind.ZodString&&(!((c=i.keyType._def.checks)===null||c===void 0)&&c.length)){const m=Object.entries((0,t.parseStringDef)(i.keyType._def,s)).reduce((b,[g,_])=>g==="type"?b:Object.assign(Object.assign({},b),{[g]:_}),{});return Object.assign(Object.assign({},f),{propertyNames:m})}else if(((d=i.keyType)===null||d===void 0?void 0:d._def.typeName)===r.ZodFirstPartyTypeKind.ZodEnum)return Object.assign(Object.assign({},f),{propertyNames:{enum:i.keyType._def.values}});return f}return br.parseRecordDef=n,br}var vr={},oo;function yy(){if(oo)return vr;oo=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.parseSetDef=void 0;const r=it,e=De();function t(n,i){const a={type:"array",uniqueItems:!0,items:(0,e.parseDef)(n.valueType._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"items"]}))};return n.minSize&&(0,r.setResponseValueAndErrors)(a,"minItems",n.minSize.value,n.minSize.message,i),n.maxSize&&(0,r.setResponseValueAndErrors)(a,"maxItems",n.maxSize.value,n.maxSize.message,i),a}return vr.parseSetDef=t,vr}var wr={},uo;function by(){if(uo)return wr;uo=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.parseTupleDef=void 0;const r=De();function e(t,n){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((i,s)=>(0,r.parseDef)(i._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items",`${s}`]}))).reduce((i,s)=>s===void 0?i:[...i,s],[]),additionalItems:(0,r.parseDef)(t.rest._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"additionalItems"]}))}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((i,s)=>(0,r.parseDef)(i._def,Object.assign(Object.assign({},n),{currentPath:[...n.currentPath,"items",`${s}`]}))).reduce((i,s)=>s===void 0?i:[...i,s],[])}}return wr.parseTupleDef=e,wr}var ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.parseUndefinedDef=void 0;function vy(){return{not:{}}}ui.parseUndefinedDef=vy;var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.parseUnknownDef=void 0;function wy(){return{}}ci.parseUnknownDef=wy;var co;function De(){if(co)return ar;co=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.parseDef=void 0;const r=Yn,e=Xn,t=Wg(),n=Qn,i=ei,s=Jg(),a=Xg(),o=ti,u=ty(),c=ry(),d=ri,f=iy(),m=ni,b=ay(),g=ii,_=si,h=ai,T=ly(),j=oi,S=fy(),R=hy(),M=py(),O=my(),C=gy(),v=yy(),A=Us,I=by(),N=ui,L=Wu(),q=ci;function Y(W,te,ie=!1){const ge=te.seen.get(W);if(ge&&!ie){const Le=K(ge,te);if(Le!==void 0)return Le}const J={def:W,path:te.currentPath,jsonSchema:void 0};te.seen.set(W,J);const je=B(W,W.typeName,te);return je&&G(W,te,je),J.jsonSchema=je,je}ar.parseDef=Y;const K=(W,te)=>{switch(te.$refStrategy){case"root":return{$ref:W.path.length===0?"":W.path.length===1?`${W.path[0]}/`:W.path.join("/")};case"relative":return{$ref:V(te.currentPath,W.path)};case"none":return W.path.length<te.currentPath.length&&W.path.every((ie,ge)=>te.currentPath[ge]===ie)?(console.warn(`Recursive reference detected at ${te.currentPath.join("/")}! Defaulting to any`),{}):void 0;case"seen":return W.path.length<te.currentPath.length&&W.path.every((ie,ge)=>te.currentPath[ge]===ie)?(console.warn(`Recursive reference detected at ${te.currentPath.join("/")}! Defaulting to any`),{}):W.jsonSchema}},V=(W,te)=>{let ie=0;for(;ie<W.length&&ie<te.length&&W[ie]===te[ie];ie++);return[(W.length-ie).toString(),...te.slice(ie)].join("/")},B=(W,te,ie)=>{switch(te){case r.ZodFirstPartyTypeKind.ZodString:return(0,A.parseStringDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodNumber:return(0,j.parseNumberDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodObject:return(0,S.parseObjectDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodBigInt:return(0,n.parseBigintDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodBoolean:return(0,i.parseBooleanDef)();case r.ZodFirstPartyTypeKind.ZodDate:return(0,o.parseDateDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodUndefined:return(0,N.parseUndefinedDef)();case r.ZodFirstPartyTypeKind.ZodNull:return(0,h.parseNullDef)(ie);case r.ZodFirstPartyTypeKind.ZodArray:return(0,t.parseArrayDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodUnion:case r.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,L.parseUnionDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodIntersection:return(0,f.parseIntersectionDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodTuple:return(0,I.parseTupleDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodRecord:return(0,C.parseRecordDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodLiteral:return(0,m.parseLiteralDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodEnum:return(0,d.parseEnumDef)(W);case r.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,g.parseNativeEnumDef)(W);case r.ZodFirstPartyTypeKind.ZodNullable:return(0,T.parseNullableDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodOptional:return(0,R.parseOptionalDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodMap:return(0,b.parseMapDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodSet:return(0,v.parseSetDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodLazy:return Y(W.getter()._def,ie);case r.ZodFirstPartyTypeKind.ZodPromise:return(0,O.parsePromiseDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodNaN:case r.ZodFirstPartyTypeKind.ZodNever:return(0,_.parseNeverDef)();case r.ZodFirstPartyTypeKind.ZodEffects:return(0,c.parseEffectsDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodAny:return(0,e.parseAnyDef)();case r.ZodFirstPartyTypeKind.ZodUnknown:return(0,q.parseUnknownDef)();case r.ZodFirstPartyTypeKind.ZodDefault:return(0,u.parseDefaultDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodBranded:return(0,s.parseBrandedDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodCatch:return(0,a.parseCatchDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodPipeline:return(0,M.parsePipelineDef)(W,ie);case r.ZodFirstPartyTypeKind.ZodFunction:case r.ZodFirstPartyTypeKind.ZodVoid:case r.ZodFirstPartyTypeKind.ZodSymbol:return;default:return(ge=>{})()}},G=(W,te,ie)=>(W.description&&(ie.description=W.description,te.markdownDescription&&(ie.markdownDescription=W.description)),ie);return ar}var li={},Gu={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultOptions=r.defaultOptions=void 0,r.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"string",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,emailStrategy:"format:email"};const e=t=>typeof t=="string"?Object.assign(Object.assign({},r.defaultOptions),{name:t}):Object.assign(Object.assign({},r.defaultOptions),t);r.getDefaultOptions=e})(Gu);Object.defineProperty(li,"__esModule",{value:!0});li.getRefs=void 0;const _y=Gu,Iy=r=>{const e=(0,_y.getDefaultOptions)(r),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return Object.assign(Object.assign({},e),{currentPath:t,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([n,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,n],jsonSchema:void 0}]))})};li.getRefs=Iy;Object.defineProperty(Gn,"__esModule",{value:!0});Gn.zodToJsonSchema=void 0;const lo=De(),Ay=li,Ey=(r,e)=>{var t;const n=(0,Ay.getRefs)(e),i=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((u,[c,d])=>{var f;return Object.assign(Object.assign({},u),{[c]:(f=(0,lo.parseDef)(d._def,Object.assign(Object.assign({},n),{currentPath:[...n.basePath,n.definitionPath,c]}),!0))!==null&&f!==void 0?f:{}})},{}):void 0,s=typeof e=="string"?e:e==null?void 0:e.name,a=(t=(0,lo.parseDef)(r._def,s===void 0?n:Object.assign(Object.assign({},n),{currentPath:[...n.basePath,n.definitionPath,s]}),!1))!==null&&t!==void 0?t:{},o=s===void 0?i?Object.assign(Object.assign({},a),{[n.definitionPath]:i}):a:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:Object.assign(Object.assign({},i),{[s]:a})};return n.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":n.target==="jsonSchema2019-09"&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),o};Gn.zodToJsonSchema=Ey;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.zodToJsonSchema=void 0;const e=Gn;Object.defineProperty(r,"zodToJsonSchema",{enumerable:!0,get:function(){return e.zodToJsonSchema}}),r.default=e.zodToJsonSchema})(zu);function Ty(r){return{name:r.name,description:r.description,parameters:zu.zodToJsonSchema(r.schema)}}class Nt extends su{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}_separateRunnableConfigFromCallOptions(e){const[t,n]=super._separateRunnableConfigFromCallOptions(e);return n!=null&&n.timeout&&!n.signal&&(n.signal=AbortSignal.timeout(n.timeout)),[t,n]}async invoke(e,t){const n=Nt._convertInputToPromptValue(e);return(await this.generatePrompt([n],t,t==null?void 0:t.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,t,n){throw new Error("Not implemented.")}async*_streamIterator(e,t){if(this._streamResponseChunks===Nt.prototype._streamResponseChunks)yield this.invoke(e,t);else{const i=Nt._convertInputToPromptValue(e).toChatMessages(),[s,a]=this._separateRunnableConfigFromCallOptions(t),o=await Be.configure(s.callbacks,this.callbacks,s.tags,this.tags,s.metadata,this.metadata,{verbose:this.verbose}),u={options:a,invocation_params:this==null?void 0:this.invocationParams(a)},c=await(o==null?void 0:o.handleChatModelStart(this.toJSON(),[i],void 0,void 0,u,void 0,void 0,s.runName));let d;try{for await(const f of this._streamResponseChunks(i,a,c==null?void 0:c[0]))yield f.message,d?d=d.concat(f):d=f}catch(f){throw await Promise.all((c??[]).map(m=>m==null?void 0:m.handleLLMError(f))),f}await Promise.all((c??[]).map(f=>f==null?void 0:f.handleLLMEnd({generations:[[d]]})))}}async _generateUncached(e,t,n){var m;const i=e.map(b=>b.map(Qr)),s=await Be.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),a={options:t,invocation_params:this==null?void 0:this.invocationParams(t)},o=await(s==null?void 0:s.handleChatModelStart(this.toJSON(),i,void 0,void 0,a,void 0,void 0,n.runName)),u=await Promise.allSettled(i.map((b,g)=>this._generate(b,{...t,promptIndex:g},o==null?void 0:o[g]))),c=[],d=[];await Promise.all(u.map(async(b,g)=>{var _,h;if(b.status==="fulfilled"){const T=b.value;return c[g]=T.generations,d[g]=T.llmOutput,(_=o==null?void 0:o[g])==null?void 0:_.handleLLMEnd({generations:[T.generations],llmOutput:T.llmOutput})}else return await((h=o==null?void 0:o[g])==null?void 0:h.handleLLMError(b.reason)),Promise.reject(b.reason)}));const f={generations:c,llmOutput:d.length?(m=this._combineLLMOutput)==null?void 0:m.call(this,...d):void 0};return Object.defineProperty(f,Yo,{value:o?{runIds:o==null?void 0:o.map(b=>b.runId)}:void 0,configurable:!0}),f}async generate(e,t,n){let i;Array.isArray(t)?i={stop:t}:i=t;const s=e.map(b=>b.map(Qr)),[a,o]=this._separateRunnableConfigFromCallOptions(i);if(a.callbacks=a.callbacks??n,!this.cache)return this._generateUncached(s,o,a);const{cache:u}=this,c=this._getSerializedCacheKeyParametersForCall(o),d=[],f=await Promise.all(s.map(async(b,g)=>{const _=Nt._convertInputToPromptValue(b).toString(),h=await u.lookup(_,c);return h||d.push(g),h}));let m={};if(d.length>0){const b=await this._generateUncached(d.map(g=>s[g]),o,a);await Promise.all(b.generations.map(async(g,_)=>{const h=d[_];f[h]=g;const T=Nt._convertInputToPromptValue(s[h]).toString();return u.update(T,c,g)})),m=b.llmOutput??{}}return{generations:f,llmOutput:m}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,t,n){const i=e.map(s=>s.toChatMessages());return this.generate(i,t,n)}async call(e,t,n){return(await this.generate([e.map(Qr)],t,n)).generations[0][0].message}async callPrompt(e,t,n){const i=e.toChatMessages();return this.call(i,t,n)}async predictMessages(e,t,n){return this.call(e,t,n)}async predict(e,t,n){const i=new kr(e);return(await this.call([i],t,n)).content}}function Py(r){return r.role!=="system"&&r.role!=="assistant"&&r.role!=="user"&&r.role!=="function"&&console.warn(`Unknown message role: ${r.role}`),r.role}function Ri(r){const e=r._getType();switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"generic":{if(!Xo.isInstance(r))throw new Error("Invalid generic chat message");return Py(r)}default:throw new Error(`Unknown message type: ${e}`)}}function Oy(r){switch(r.role){case"user":return new kr(r.content||"");case"assistant":return new As(r.content||"",{function_call:r.function_call});case"system":return new Jo(r.content||"");default:return new Xo(r.content||"",r.role??"unknown")}}function xy(r,e){const t=r.role??e,n=r.content??"";let i;return r.function_call?i={function_call:r.function_call}:i={},t==="user"?new In({content:n}):t==="assistant"?new An({content:n,additional_kwargs:i}):t==="system"?new En({content:n}):t==="function"?new Tn({content:n,additional_kwargs:i,name:r.name}):new Pn({content:n,role:t})}class Sy extends Nt{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","promptIndex"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){var n,i,s,a,o,u,c,d;if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.openAIApiKey)??ce("OPENAI_API_KEY"),this.azureOpenAIApiKey=(e==null?void 0:e.azureOpenAIApiKey)??ce("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=(e==null?void 0:e.azureOpenAIApiInstanceName)??ce("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=(e==null?void 0:e.azureOpenAIApiDeploymentName)??ce("AZURE_OPENAI_API_DEPLOYMENT_NAME"),this.azureOpenAIApiVersion=(e==null?void 0:e.azureOpenAIApiVersion)??ce("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??ce("AZURE_OPENAI_BASE_PATH"),this.organization=((n=e==null?void 0:e.configuration)==null?void 0:n.organization)??ce("OPENAI_ORGANIZATION"),this.modelName=(e==null?void 0:e.modelName)??this.modelName,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.maxTokens=e==null?void 0:e.maxTokens,this.n=(e==null?void 0:e.n)??this.n,this.logitBias=e==null?void 0:e.logitBias,this.stop=e==null?void 0:e.stop,this.user=e==null?void 0:e.user,this.streaming=(e==null?void 0:e.streaming)??!1,this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.openAIApiKey=this.openAIApiKey??""}this.clientConfig={apiKey:this.openAIApiKey,organization:this.organization,baseURL:(t==null?void 0:t.basePath)??((i=e==null?void 0:e.configuration)==null?void 0:i.basePath),dangerouslyAllowBrowser:!0,defaultHeaders:((s=t==null?void 0:t.baseOptions)==null?void 0:s.headers)??((o=(a=e==null?void 0:e.configuration)==null?void 0:a.baseOptions)==null?void 0:o.headers),defaultQuery:((u=t==null?void 0:t.baseOptions)==null?void 0:u.params)??((d=(c=e==null?void 0:e.configuration)==null?void 0:c.baseOptions)==null?void 0:d.params),...t,...e==null?void 0:e.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,max_tokens:this.maxTokens===-1?void 0:this.maxTokens,n:this.n,logit_bias:this.logitBias,stop:(e==null?void 0:e.stop)??this.stop,user:this.user,stream:this.streaming,functions:(e==null?void 0:e.functions)??(e!=null&&e.tools?e==null?void 0:e.tools.map(Ty):void 0),function_call:e==null?void 0:e.function_call,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(e,t,n){var u;const i=e.map(c=>({role:Ri(c),content:c.content,name:c.name,function_call:c.additional_kwargs.function_call})),s={...this.invocationParams(t),messages:i,stream:!0};let a;const o=await this.completionWithRetry(s,t);for await(const c of o){const d=c==null?void 0:c.choices[0];if(!d)continue;const{delta:f}=d,m=xy(f,a);a=f.role??a;const b={prompt:t.promptIndex??0,completion:d.index??0},g=new Es({message:m,text:m.content,generationInfo:b});yield g,n==null||n.handleLLMNewToken(g.text??"",b,void 0,void 0,void 0,{chunk:g})}if((u=t.signal)!=null&&u.aborted)throw new Error("AbortError")}identifyingParams(){return this._identifyingParams()}async _generate(e,t,n){var o,u;const i={},s=this.invocationParams(t),a=e.map(c=>({role:Ri(c),content:c.content,name:c.name,function_call:c.additional_kwargs.function_call}));if(s.stream){const c=await this._streamResponseChunks(e,t,n),d={};for await(const m of c){const b=((o=m.generationInfo)==null?void 0:o.completion)??0;d[b]===void 0?d[b]=m:d[b]=d[b].concat(m)}return{generations:Object.entries(d).sort(([m],[b])=>parseInt(m,10)-parseInt(b,10)).map(([m,b])=>b)}}else{const c=await this.completionWithRetry({...s,stream:!1,messages:a},{signal:t==null?void 0:t.signal,...t==null?void 0:t.options}),{completion_tokens:d,prompt_tokens:f,total_tokens:m}=(c==null?void 0:c.usage)??{};d&&(i.completionTokens=(i.completionTokens??0)+d),f&&(i.promptTokens=(i.promptTokens??0)+f),m&&(i.totalTokens=(i.totalTokens??0)+m);const b=[];for(const g of(c==null?void 0:c.choices)??[]){const h={text:((u=g.message)==null?void 0:u.content)??"",message:Oy(g.message??{role:"assistant"})};g.finish_reason&&(h.generationInfo={finish_reason:g.finish_reason}),b.push(h)}return{generations:b,llmOutput:{tokenUsage:i}}}}async getNumTokensFromMessages(e){let t=0,n=0,i=0;Cr(this.modelName)==="gpt-3.5-turbo"?(n=4,i=-1):Cr(this.modelName).startsWith("gpt-4")&&(n=3,i=1);const s=await Promise.all(e.map(async a=>{const o=await this.getNumTokens(a.content),u=await this.getNumTokens(Ri(a)),c=a.name!==void 0?i+await this.getNumTokens(a.name):0,d=o+n+u+c;return t+=d,d}));return t+=3,{totalCount:t,countPerMessage:s}}async completionWithRetry(e,t){const n=this._getClientOptions(t);return this.caller.call(async()=>{try{return await this.client.chat.completions.create(e,n)}catch(i){throw qn(i)}})}_getClientOptions(e){if(!this.client){const n={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=Kn(n),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new Pe(s)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce((t,n)=>(n&&n.tokenUsage&&(t.tokenUsage.completionTokens+=n.tokenUsage.completionTokens??0,t.tokenUsage.promptTokens+=n.tokenUsage.promptTokens??0,t.tokenUsage.totalTokens+=n.tokenUsage.totalTokens??0),t),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}}const Cy=Object.freeze(Object.defineProperty({__proto__:null,ChatOpenAI:Sy},Symbol.toStringTag,{value:"Module"}));exports.DEFAULT_SETTINGS=Rn;exports.FileSelectModal=js;exports.default=zg;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC91dGlscy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZG9tLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9saWZlY3ljbGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3NjaGVkdWxlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvdHJhbnNpdGlvbnMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2VhY2guanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3NwcmVhZC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvQ29tcG9uZW50LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvc2hhcmVkL3ZlcnNpb24uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2Rpc2Nsb3NlLXZlcnNpb24vaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlLWljb25zL2NvbXBvbmVudHMvSWNvbkJhc2Uuc3ZlbHRlIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS1pY29ucy9tZC9NZFNlbmQuc3ZlbHRlIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9zdG9yZS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvcmV0cnkvbGliL3JldHJ5X29wZXJhdGlvbi5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvcmV0cnkvbGliL3JldHJ5LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9yZXRyeS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvcC1yZXRyeS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL25hdGl2ZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kZWNhbWVsaXplL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9jYW1lbGNhc2UvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xvYWQvbWFwX2tleXMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xvYWQvc2VyaWFsaXphYmxlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvYW5zaS1zdHlsZXMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NhbGxiYWNrcy9oYW5kbGVycy90cmFjZXIuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NhbGxiYWNrcy9oYW5kbGVycy9jb25zb2xlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9wLWZpbmFsbHkvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3AtdGltZW91dC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvcC1xdWV1ZS9kaXN0L2xvd2VyLWJvdW5kLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9wLXF1ZXVlL2Rpc3QvcHJpb3JpdHktcXVldWUuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3AtcXVldWUvZGlzdC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ3NtaXRoL2Rpc3QvdXRpbHMvYXN5bmNfY2FsbGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nc21pdGgvZGlzdC91dGlscy9tZXNzYWdlcy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ3NtaXRoL2Rpc3QvdXRpbHMvZW52LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nc21pdGgvZGlzdC9jbGllbnQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvZW52LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvaGFuZGxlcnMvdHJhY2VyX2xhbmdjaGFpbi5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvbWVtb3J5L2Jhc2UuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NhbGxiYWNrcy9oYW5kbGVycy90cmFjZXJfbGFuZ2NoYWluX3YxLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvaGFuZGxlcnMvaW5pdGlhbGl6ZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2FsbGJhY2tzL3Byb21pc2VzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvbWFuYWdlci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdXRpbC9mYXN0LWpzb24tcGF0Y2gvc3JjL2hlbHBlcnMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvZmFzdC1qc29uLXBhdGNoL3NyYy9jb3JlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC91dGlsL3N0cmVhbS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2FsbGJhY2tzL2hhbmRsZXJzL2xvZ19zdHJlYW0uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3NjaGVtYS9ydW5uYWJsZS9jb25maWcuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvYXN5bmNfY2FsbGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9zY2hlbWEvcnVubmFibGUvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvc2NoZW1hL3J1bm5hYmxlL3Bhc3N0aHJvdWdoLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvdmVyc2lvbi5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9zdHJlYW1pbmcubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvZXJyb3IubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL2FnZW50Lm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9mZXRjaC5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9fc2hpbXMvZm9ybWRhdGEubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL2dldE11bHRpcGFydFJlcXVlc3RPcHRpb25zLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9maWxlRnJvbVBhdGgubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL25vZGUtcmVhZGFibGUubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvdXBsb2Fkcy5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9jb3JlLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3BhZ2luYXRpb24ubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2UubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL3RyYW5zY3JpcHRpb25zLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9hdWRpby90cmFuc2xhdGlvbnMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL2F1ZGlvLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jaGF0L2NvbXBsZXRpb25zLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jaGF0L2NoYXQubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NvbXBsZXRpb25zLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9lbWJlZGRpbmdzLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9lZGl0cy5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZmlsZXMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuZXMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2ZpbmUtdHVuaW5nLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9pbWFnZXMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL21vZGVscy5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvbW9kZXJhdGlvbnMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9vcGVuYWkvaW5kZXgubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9qcy10aWt0b2tlbi9kaXN0L2NodW5rLVhYUEdaSFdaLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2pzLXRpa3Rva2VuL2Rpc3QvY2h1bmstVEhHWlNPTkYuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvdGlrdG9rZW4uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2Jhc2VfbGFuZ3VhZ2UvY291bnRfdG9rZW5zLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9zY2hlbWEvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvYXp1cmUuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvY2h1bmsuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3Byb21wdHMvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvcHJvbXB0cy90ZW1wbGF0ZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvcHJvbXB0cy9wcm9tcHQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3Byb21wdHMvY2hhdC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvb2JqZWN0LWhhc2gvZGlzdC9vYmplY3RfaGFzaC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2FjaGUvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2FjaGUvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2Jhc2VfbGFuZ3VhZ2UvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xsbXMvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdXRpbC9vcGVuYWkuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xsbXMvb3BlbmFpLWNoYXQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2xsbXMvb3BlbmFpLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9kb2N1bWVudC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvcHJvbXB0cy9mZXdfc2hvdC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy90b2tlbml6ZXIvbGFuZ3VhZ2VzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC91dGlscy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvZXJyb3JzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2RlZmF1bHRzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2RvY3VtZW50cy1zdG9yZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9wbHVnaW5zLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2hvb2tzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC90cmVlcy9hdmwuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L3RyZWVzL2ZsYXQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvbGV2ZW5zaHRlaW4uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L3RyZWVzL3JhZGl4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC90cmVlcy9ia2QuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvYWxnb3JpdGhtcy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9jb3NpbmUtc2ltaWxhcml0eS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9zb3J0ZXIuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvdG9rZW5pemVyL2RpYWNyaXRpY3MuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvdG9rZW5pemVyL2VuZ2xpc2gtc3RlbW1lci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy90b2tlbml6ZXIvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L21ldGhvZHMvY3JlYXRlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC90eXBlcy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9zeW5jLWJsb2NraW5nLWNoZWNrZXIuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L21ldGhvZHMvaW5zZXJ0LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9tZXRob2RzL3JlbW92ZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9mYWNldHMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvZmlsdGVycy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9ncm91cHMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L21ldGhvZHMvc2VhcmNoLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9tZXRob2RzL3NlYXJjaC12ZWN0b3IuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L21ldGhvZHMvc2VyaWFsaXphdGlvbi5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vdXRpbHMvaW50Lm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vdXRpbHMvdXRmOC5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0Btc2dwYWNrL21zZ3BhY2svZGlzdC5lczUrZXNtL0V4dERhdGEubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9AbXNncGFjay9tc2dwYWNrL2Rpc3QuZXM1K2VzbS9EZWNvZGVFcnJvci5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0Btc2dwYWNrL21zZ3BhY2svZGlzdC5lczUrZXNtL3RpbWVzdGFtcC5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0Btc2dwYWNrL21zZ3BhY2svZGlzdC5lczUrZXNtL0V4dGVuc2lvbkNvZGVjLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vdXRpbHMvdHlwZWRBcnJheXMubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9AbXNncGFjay9tc2dwYWNrL2Rpc3QuZXM1K2VzbS9FbmNvZGVyLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vZW5jb2RlLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vdXRpbHMvcHJldHR5Qnl0ZS5tanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL0Btc2dwYWNrL21zZ3BhY2svZGlzdC5lczUrZXNtL0NhY2hlZEtleURlY29kZXIubWpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9AbXNncGFjay9tc2dwYWNrL2Rpc3QuZXM1K2VzbS9EZWNvZGVyLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG1zZ3BhY2svbXNncGFjay9kaXN0LmVzNStlc20vZGVjb2RlLm1qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvZHBhY2svbGliL3NlcmlhbGl6ZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvZHBhY2svbGliL3BhcnNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kcGFjay9saWIvcGFyc2Utc3RyZWFtLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kcGFjay9saWIvbm9kZS1lbmNvZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kcGFjay9saWIvT3B0aW9ucy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvZHBhY2svbGliL3NoYXJlZC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvZHBhY2svbGliL0Jsb2NrLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9kcGFjay9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL3BsdWdpbi1kYXRhLXBlcnNpc3RlbmNlL2Rpc3QvZXJyb3JzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9Ab3JhbWEvcGx1Z2luLWRhdGEtcGVyc2lzdGVuY2UvZGlzdC91dGlscy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvQG9yYW1hL3BsdWdpbi1kYXRhLXBlcnNpc3RlbmNlL2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3NjaGVtYS9yZXRyaWV2ZXIuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3ZlY3RvcnN0b3Jlcy9iYXNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9lbWJlZGRpbmdzL2Jhc2UuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2VtYmVkZGluZ3Mvb3BlbmFpLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9zY2hlbWEvb3V0cHV0X3BhcnNlci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9kaXN0L2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vc3JjL3N0b3JlLnRzIiwiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvSW5wdXQuc3ZlbHRlIiwiLi4vLi4vLi4vLi4vc3JjL3ZpZXdzL0NoYXRNb2RhbC50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUtaWNvbnMvbWQvTWRDb250ZW50Q29weS5zdmVsdGUiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlLWljb25zL21kL01kTGlicmFyeUJvb2tzLnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL01lc3NhZ2VzLnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0NoYXRWaWV3LnN2ZWx0ZSIsIi4uLy4uLy4uLy4uL3NyYy92aWV3cy9DaGF0Vmlldy50cyIsIi4uLy4uLy4uLy4uL3NyYy92aWV3cy9TZXR0aW5ncy50cyIsIi4uLy4uLy4uLy4uL3NyYy9tYWluLnRzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2hlbHBlcnMvdXRpbC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kL2xpYi9ab2RFcnJvci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kL2xpYi9sb2NhbGVzL2VuLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2Vycm9ycy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kL2xpYi9oZWxwZXJzL3BhcnNlVXRpbC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kL2xpYi9oZWxwZXJzL3R5cGVBbGlhc2VzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2hlbHBlcnMvZXJyb3JVdGlsLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL3R5cGVzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2V4dGVybmFsLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QvbGliL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvYW55LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL2Vycm9yTWVzc2FnZXMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9hcnJheS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL2JpZ2ludC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL2Jvb2xlYW4uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9icmFuZGVkLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvY2F0Y2guanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9kYXRlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvZGVmYXVsdC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL2VmZmVjdHMuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9lbnVtLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvaW50ZXJzZWN0aW9uLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvbGl0ZXJhbC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL21hcC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL25hdGl2ZUVudW0uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9uZXZlci5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL251bGwuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy91bmlvbi5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL251bGxhYmxlLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvbnVtYmVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvb2JqZWN0LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvb3B0aW9uYWwuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9waXBlbGluZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL3Byb21pc2UuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9zdHJpbmcuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9yZWNvcmQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9zZXQuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy90dXBsZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL3VuZGVmaW5lZC5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL3Vua25vd24uanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2VEZWYuanMiLCIuLi8uLi8uLi8uLi8uLi9wYXBhLWJhY2tlbmQtdHMvbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvT3B0aW9ucy5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9SZWZzLmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3pvZFRvSnNvblNjaGVtYS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vcGFwYS1iYWNrZW5kLXRzL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC90b29scy9jb252ZXJ0X3RvX29wZW5haS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhdF9tb2RlbHMvYmFzZS5qcyIsIi4uLy4uLy4uLy4uLy4uL3BhcGEtYmFja2VuZC10cy9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhdF9tb2RlbHMvb3BlbmFpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkge31cblxuZXhwb3J0IGNvbnN0IGlkZW50aXR5ID0gKHgpID0+IHg7XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSBTXG4gKiBAcGFyYW0ge1R9IHRhclxuICogQHBhcmFtIHtTfSBzcmNcbiAqIEByZXR1cm5zIHtUICYgU31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbih0YXIsIHNyYykge1xuXHQvLyBAdHMtaWdub3JlXG5cdGZvciAoY29uc3QgayBpbiBzcmMpIHRhcltrXSA9IHNyY1trXTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7VCAmIFN9ICovICh0YXIpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9pbmRleC5qc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgTUlUIExpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9MSUNFTlNFXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHJldHVybnMge3ZhbHVlIGlzIFByb21pc2VMaWtlPGFueT59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19wcm9taXNlKHZhbHVlKSB7XG5cdHJldHVybiAoXG5cdFx0ISF2YWx1ZSAmJlxuXHRcdCh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgJiZcblx0XHR0eXBlb2YgKC8qKiBAdHlwZSB7YW55fSAqLyAodmFsdWUpLnRoZW4pID09PSAnZnVuY3Rpb24nXG5cdCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfbG9jYXRpb24oZWxlbWVudCwgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyKSB7XG5cdGVsZW1lbnQuX19zdmVsdGVfbWV0YSA9IHtcblx0XHRsb2M6IHsgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyIH1cblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bihmbikge1xuXHRyZXR1cm4gZm4oKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsYW5rX29iamVjdCgpIHtcblx0cmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtGdW5jdGlvbltdfSBmbnNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuX2FsbChmbnMpIHtcblx0Zm5zLmZvckVhY2gocnVuKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gdGhpbmdcbiAqIEByZXR1cm5zIHt0aGluZyBpcyBGdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Z1bmN0aW9uKHRoaW5nKSB7XG5cdHJldHVybiB0eXBlb2YgdGhpbmcgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlX25vdF9lcXVhbChhLCBiKSB7XG5cdHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiIHx8IChhICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JykgfHwgdHlwZW9mIGEgPT09ICdmdW5jdGlvbic7XG59XG5cbmxldCBzcmNfdXJsX2VxdWFsX2FuY2hvcjtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudF9zcmNcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3JjX3VybF9lcXVhbChlbGVtZW50X3NyYywgdXJsKSB7XG5cdGlmIChlbGVtZW50X3NyYyA9PT0gdXJsKSByZXR1cm4gdHJ1ZTtcblx0aWYgKCFzcmNfdXJsX2VxdWFsX2FuY2hvcikge1xuXHRcdHNyY191cmxfZXF1YWxfYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHR9XG5cdC8vIFRoaXMgaXMgYWN0dWFsbHkgZmFzdGVyIHRoYW4gZG9pbmcgVVJMKC4uKS5ocmVmXG5cdHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWYgPSB1cmw7XG5cdHJldHVybiBlbGVtZW50X3NyYyA9PT0gc3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZjtcbn1cblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBzcmNzZXQgKi9cbmZ1bmN0aW9uIHNwbGl0X3NyY3NldChzcmNzZXQpIHtcblx0cmV0dXJuIHNyY3NldC5zcGxpdCgnLCcpLm1hcCgoc3JjKSA9PiBzcmMudHJpbSgpLnNwbGl0KCcgJykuZmlsdGVyKEJvb2xlYW4pKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxTb3VyY2VFbGVtZW50IHwgSFRNTEltYWdlRWxlbWVudH0gZWxlbWVudF9zcmNzZXRcbiAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbH0gc3Jjc2V0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNyY3NldF91cmxfZXF1YWwoZWxlbWVudF9zcmNzZXQsIHNyY3NldCkge1xuXHRjb25zdCBlbGVtZW50X3VybHMgPSBzcGxpdF9zcmNzZXQoZWxlbWVudF9zcmNzZXQuc3Jjc2V0KTtcblx0Y29uc3QgdXJscyA9IHNwbGl0X3NyY3NldChzcmNzZXQgfHwgJycpO1xuXG5cdHJldHVybiAoXG5cdFx0dXJscy5sZW5ndGggPT09IGVsZW1lbnRfdXJscy5sZW5ndGggJiZcblx0XHR1cmxzLmV2ZXJ5KFxuXHRcdFx0KFt1cmwsIHdpZHRoXSwgaSkgPT5cblx0XHRcdFx0d2lkdGggPT09IGVsZW1lbnRfdXJsc1tpXVsxXSAmJlxuXHRcdFx0XHQvLyBXZSBuZWVkIHRvIHRlc3QgYm90aCB3YXlzIGJlY2F1c2UgVml0ZSB3aWxsIGNyZWF0ZSBhbiBhIGZ1bGwgVVJMIHdpdGhcblx0XHRcdFx0Ly8gYG5ldyBVUkwoYXNzZXQsIGltcG9ydC5tZXRhLnVybCkuaHJlZmAgZm9yIHRoZSBjbGllbnQgd2hlbiBgYmFzZTogJy4vJ2AsIGFuZCB0aGVcblx0XHRcdFx0Ly8gcmVsYXRpdmUgVVJMcyBpbnNpZGUgc3Jjc2V0IGFyZSBub3QgYXV0b21hdGljYWxseSByZXNvbHZlZCB0byBhYnNvbHV0ZSBVUkxzIGJ5XG5cdFx0XHRcdC8vIGJyb3dzZXJzIChpbiBjb250cmFzdCB0byBpbWcuc3JjKS4gVGhpcyBtZWFucyBib3RoIFNTUiBhbmQgRE9NIGNvZGUgY291bGRcblx0XHRcdFx0Ly8gY29udGFpbiByZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkxzLlxuXHRcdFx0XHQoc3JjX3VybF9lcXVhbChlbGVtZW50X3VybHNbaV1bMF0sIHVybCkgfHwgc3JjX3VybF9lcXVhbCh1cmwsIGVsZW1lbnRfdXJsc1tpXVswXSkpXG5cdFx0KVxuXHQpO1xufVxuXG4vKiogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcblx0cmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGI7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19lbXB0eShvYmopIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVfc3RvcmUoc3RvcmUsIG5hbWUpIHtcblx0aWYgKHN0b3JlICE9IG51bGwgJiYgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHRocm93IG5ldyBFcnJvcihgJyR7bmFtZX0nIGlzIG5vdCBhIHN0b3JlIHdpdGggYSAnc3Vic2NyaWJlJyBtZXRob2RgKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCAuLi5jYWxsYmFja3MpIHtcblx0aWYgKHN0b3JlID09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGNhbGxiYWNrcykge1xuXHRcdFx0Y2FsbGJhY2sodW5kZWZpbmVkKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5vb3A7XG5cdH1cblx0Y29uc3QgdW5zdWIgPSBzdG9yZS5zdWJzY3JpYmUoLi4uY2FsbGJhY2tzKTtcblx0cmV0dXJuIHVuc3ViLnVuc3Vic2NyaWJlID8gKCkgPT4gdW5zdWIudW5zdWJzY3JpYmUoKSA6IHVuc3ViO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIGEgc3RvcmUgYnkgc3Vic2NyaWJpbmcgYW5kIGltbWVkaWF0ZWx5IHVuc3Vic2NyaWJpbmcuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2dldFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9zdG9yZS9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn0gc3RvcmVcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3N0b3JlX3ZhbHVlKHN0b3JlKSB7XG5cdGxldCB2YWx1ZTtcblx0c3Vic2NyaWJlKHN0b3JlLCAoXykgPT4gKHZhbHVlID0gXykpKCk7XG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudF9zdWJzY3JpYmUoY29tcG9uZW50LCBzdG9yZSwgY2FsbGJhY2spIHtcblx0Y29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG5cdGlmIChkZWZpbml0aW9uKSB7XG5cdFx0Y29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pO1xuXHRcdHJldHVybiBkZWZpbml0aW9uWzBdKHNsb3RfY3R4KTtcblx0fVxufVxuXG5mdW5jdGlvbiBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcblx0cmV0dXJuIGRlZmluaXRpb25bMV0gJiYgZm4gPyBhc3NpZ24oJCRzY29wZS5jdHguc2xpY2UoKSwgZGVmaW5pdGlvblsxXShmbihjdHgpKSkgOiAkJHNjb3BlLmN0eDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9zbG90X2NoYW5nZXMoZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGZuKSB7XG5cdGlmIChkZWZpbml0aW9uWzJdICYmIGZuKSB7XG5cdFx0Y29uc3QgbGV0cyA9IGRlZmluaXRpb25bMl0oZm4oZGlydHkpKTtcblx0XHRpZiAoJCRzY29wZS5kaXJ0eSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gbGV0cztcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBsZXRzID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Y29uc3QgbWVyZ2VkID0gW107XG5cdFx0XHRjb25zdCBsZW4gPSBNYXRoLm1heCgkJHNjb3BlLmRpcnR5Lmxlbmd0aCwgbGV0cy5sZW5ndGgpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuXHRcdFx0XHRtZXJnZWRbaV0gPSAkJHNjb3BlLmRpcnR5W2ldIHwgbGV0c1tpXTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtZXJnZWQ7XG5cdFx0fVxuXHRcdHJldHVybiAkJHNjb3BlLmRpcnR5IHwgbGV0cztcblx0fVxuXHRyZXR1cm4gJCRzY29wZS5kaXJ0eTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9zbG90X2Jhc2UoXG5cdHNsb3QsXG5cdHNsb3RfZGVmaW5pdGlvbixcblx0Y3R4LFxuXHQkJHNjb3BlLFxuXHRzbG90X2NoYW5nZXMsXG5cdGdldF9zbG90X2NvbnRleHRfZm5cbikge1xuXHRpZiAoc2xvdF9jaGFuZ2VzKSB7XG5cdFx0Y29uc3Qgc2xvdF9jb250ZXh0ID0gZ2V0X3Nsb3RfY29udGV4dChzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG5cdFx0c2xvdC5wKHNsb3RfY29udGV4dCwgc2xvdF9jaGFuZ2VzKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3Nsb3QoXG5cdHNsb3QsXG5cdHNsb3RfZGVmaW5pdGlvbixcblx0Y3R4LFxuXHQkJHNjb3BlLFxuXHRkaXJ0eSxcblx0Z2V0X3Nsb3RfY2hhbmdlc19mbixcblx0Z2V0X3Nsb3RfY29udGV4dF9mblxuKSB7XG5cdGNvbnN0IHNsb3RfY2hhbmdlcyA9IGdldF9zbG90X2NoYW5nZXMoc2xvdF9kZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZ2V0X3Nsb3RfY2hhbmdlc19mbik7XG5cdHVwZGF0ZV9zbG90X2Jhc2Uoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIHNsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W10gfCAtMX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUoJCRzY29wZSkge1xuXHRpZiAoJCRzY29wZS5jdHgubGVuZ3RoID4gMzIpIHtcblx0XHRjb25zdCBkaXJ0eSA9IFtdO1xuXHRcdGNvbnN0IGxlbmd0aCA9ICQkc2NvcGUuY3R4Lmxlbmd0aCAvIDMyO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdGRpcnR5W2ldID0gLTE7XG5cdFx0fVxuXHRcdHJldHVybiBkaXJ0eTtcblx0fVxuXHRyZXR1cm4gLTE7XG59XG5cbi8qKiBAcmV0dXJucyB7e319ICovXG5leHBvcnQgZnVuY3Rpb24gZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyhwcm9wcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBrIGluIHByb3BzKSBpZiAoa1swXSAhPT0gJyQnKSByZXN1bHRba10gPSBwcm9wc1trXTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlX3Jlc3RfcHJvcHMocHJvcHMsIGtleXMpIHtcblx0Y29uc3QgcmVzdCA9IHt9O1xuXHRrZXlzID0gbmV3IFNldChrZXlzKTtcblx0Zm9yIChjb25zdCBrIGluIHByb3BzKSBpZiAoIWtleXMuaGFzKGspICYmIGtbMF0gIT09ICckJykgcmVzdFtrXSA9IHByb3BzW2tdO1xuXHRyZXR1cm4gcmVzdDtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlX3Nsb3RzKHNsb3RzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuXHRcdHJlc3VsdFtrZXldID0gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogQHJldHVybnMgeyh0aGlzOiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uY2UoZm4pIHtcblx0bGV0IHJhbiA9IGZhbHNlO1xuXHRyZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcblx0XHRpZiAocmFuKSByZXR1cm47XG5cdFx0cmFuID0gdHJ1ZTtcblx0XHRmbi5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc3RvcmVfdmFsdWUoc3RvcmUsIHJldCwgdmFsdWUpIHtcblx0c3RvcmUuc2V0KHZhbHVlKTtcblx0cmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGNvbnN0IGhhc19wcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhY3Rpb25fZGVzdHJveWVyKGFjdGlvbl9yZXN1bHQpIHtcblx0cmV0dXJuIGFjdGlvbl9yZXN1bHQgJiYgaXNfZnVuY3Rpb24oYWN0aW9uX3Jlc3VsdC5kZXN0cm95KSA/IGFjdGlvbl9yZXN1bHQuZGVzdHJveSA6IG5vb3A7XG59XG5cbi8qKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEByZXR1cm5zIHtbbnVtYmVyLCBzdHJpbmddfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRfY3NzX3VuaXQodmFsdWUpIHtcblx0Y29uc3Qgc3BsaXQgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLm1hdGNoKC9eXFxzKigtP1tcXGQuXSspKFteXFxzXSopXFxzKiQvKTtcblx0cmV0dXJuIHNwbGl0ID8gW3BhcnNlRmxvYXQoc3BsaXRbMV0pLCBzcGxpdFsyXSB8fCAncHgnXSA6IFsvKiogQHR5cGUge251bWJlcn0gKi8gKHZhbHVlKSwgJ3B4J107XG59XG5cbmV4cG9ydCBjb25zdCBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcyA9IFsnJywgdHJ1ZSwgMSwgJ3RydWUnLCAnY29udGVudGVkaXRhYmxlJ107XG4iLCJpbXBvcnQgeyBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcywgaGFzX3Byb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24gfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmVyU2luZ2xldG9uLmpzJztcblxuLy8gVHJhY2sgd2hpY2ggbm9kZXMgYXJlIGNsYWltZWQgZHVyaW5nIGh5ZHJhdGlvbi4gVW5jbGFpbWVkIG5vZGVzIGNhbiB0aGVuIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4vLyBhdCB0aGUgZW5kIG9mIGh5ZHJhdGlvbiB3aXRob3V0IHRvdWNoaW5nIHRoZSByZW1haW5pbmcgbm9kZXMuXG5sZXQgaXNfaHlkcmF0aW5nID0gZmFsc2U7XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydF9oeWRyYXRpbmcoKSB7XG5cdGlzX2h5ZHJhdGluZyA9IHRydWU7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRfaHlkcmF0aW5nKCkge1xuXHRpc19oeWRyYXRpbmcgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbG93XG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaFxuICogQHBhcmFtIHsoaW5kZXg6IG51bWJlcikgPT4gbnVtYmVyfSBrZXlcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gdXBwZXJfYm91bmQobG93LCBoaWdoLCBrZXksIHZhbHVlKSB7XG5cdC8vIFJldHVybiBmaXJzdCBpbmRleCBvZiB2YWx1ZSBsYXJnZXIgdGhhbiBpbnB1dCB2YWx1ZSBpbiB0aGUgcmFuZ2UgW2xvdywgaGlnaClcblx0d2hpbGUgKGxvdyA8IGhpZ2gpIHtcblx0XHRjb25zdCBtaWQgPSBsb3cgKyAoKGhpZ2ggLSBsb3cpID4+IDEpO1xuXHRcdGlmIChrZXkobWlkKSA8PSB2YWx1ZSkge1xuXHRcdFx0bG93ID0gbWlkICsgMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aGlnaCA9IG1pZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGxvdztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGVFeH0gdGFyZ2V0XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gaW5pdF9oeWRyYXRlKHRhcmdldCkge1xuXHRpZiAodGFyZ2V0Lmh5ZHJhdGVfaW5pdCkgcmV0dXJuO1xuXHR0YXJnZXQuaHlkcmF0ZV9pbml0ID0gdHJ1ZTtcblx0Ly8gV2Uga25vdyB0aGF0IGFsbCBjaGlsZHJlbiBoYXZlIGNsYWltX29yZGVyIHZhbHVlcyBzaW5jZSB0aGUgdW5jbGFpbWVkIGhhdmUgYmVlbiBkZXRhY2hlZCBpZiB0YXJnZXQgaXMgbm90IDxoZWFkPlxuXG5cdGxldCBjaGlsZHJlbiA9IC8qKiBAdHlwZSB7QXJyYXlMaWtlPE5vZGVFeDI+fSAqLyAodGFyZ2V0LmNoaWxkTm9kZXMpO1xuXHQvLyBJZiB0YXJnZXQgaXMgPGhlYWQ+LCB0aGVyZSBtYXkgYmUgY2hpbGRyZW4gd2l0aG91dCBjbGFpbV9vcmRlclxuXHRpZiAodGFyZ2V0Lm5vZGVOYW1lID09PSAnSEVBRCcpIHtcblx0XHRjb25zdCBteV9jaGlsZHJlbiA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG5vZGUgPSBjaGlsZHJlbltpXTtcblx0XHRcdGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bXlfY2hpbGRyZW4ucHVzaChub2RlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y2hpbGRyZW4gPSBteV9jaGlsZHJlbjtcblx0fVxuXHQvKlxuXHQgKiBSZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5LlxuXHQgKiBXZSBjYW4gcmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseSBieSBmaW5kaW5nIHRoZSBsb25nZXN0IHN1YnNlcXVlbmNlIG9mXG5cdCAqIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgY2xhaW1lZCBpbiBvcmRlciBhbmQgb25seSBtb3ZpbmcgdGhlIHJlc3QuIFRoZSBsb25nZXN0XG5cdCAqIHN1YnNlcXVlbmNlIG9mIG5vZGVzIHRoYXQgYXJlIGNsYWltZWQgaW4gb3JkZXIgY2FuIGJlIGZvdW5kIGJ5XG5cdCAqIGNvbXB1dGluZyB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIC5jbGFpbV9vcmRlciB2YWx1ZXMuXG5cdCAqXG5cdCAqIFRoaXMgYWxnb3JpdGhtIGlzIG9wdGltYWwgaW4gZ2VuZXJhdGluZyB0aGUgbGVhc3QgYW1vdW50IG9mIHJlb3JkZXIgb3BlcmF0aW9uc1xuXHQgKiBwb3NzaWJsZS5cblx0ICpcblx0ICogUHJvb2Y6XG5cdCAqIFdlIGtub3cgdGhhdCwgZ2l2ZW4gYSBzZXQgb2YgcmVvcmRlcmluZyBvcGVyYXRpb25zLCB0aGUgbm9kZXMgdGhhdCBkbyBub3QgbW92ZVxuXHQgKiBhbHdheXMgZm9ybSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLCBzaW5jZSB0aGV5IGRvIG5vdCBtb3ZlIGFtb25nIGVhY2ggb3RoZXJcblx0ICogbWVhbmluZyB0aGF0IHRoZXkgbXVzdCBiZSBhbHJlYWR5IG9yZGVyZWQgYW1vbmcgZWFjaCBvdGhlci4gVGh1cywgdGhlIG1heGltYWxcblx0ICogc2V0IG9mIG5vZGVzIHRoYXQgZG8gbm90IG1vdmUgZm9ybSBhIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZS5cblx0ICovXG5cdC8vIENvbXB1dGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG5cdC8vIG06IHN1YnNlcXVlbmNlIGxlbmd0aCBqID0+IGluZGV4IGsgb2Ygc21hbGxlc3QgdmFsdWUgdGhhdCBlbmRzIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgbGVuZ3RoIGpcblx0Y29uc3QgbSA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCArIDEpO1xuXHQvLyBQcmVkZWNlc3NvciBpbmRpY2VzICsgMVxuXHRjb25zdCBwID0gbmV3IEludDMyQXJyYXkoY2hpbGRyZW4ubGVuZ3RoKTtcblx0bVswXSA9IC0xO1xuXHRsZXQgbG9uZ2VzdCA9IDA7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBjdXJyZW50ID0gY2hpbGRyZW5baV0uY2xhaW1fb3JkZXI7XG5cdFx0Ly8gRmluZCB0aGUgbGFyZ2VzdCBzdWJzZXF1ZW5jZSBsZW5ndGggc3VjaCB0aGF0IGl0IGVuZHMgaW4gYSB2YWx1ZSBsZXNzIHRoYW4gb3VyIGN1cnJlbnQgdmFsdWVcblx0XHQvLyB1cHBlcl9ib3VuZCByZXR1cm5zIGZpcnN0IGdyZWF0ZXIgdmFsdWUsIHNvIHdlIHN1YnRyYWN0IG9uZVxuXHRcdC8vIHdpdGggZmFzdCBwYXRoIGZvciB3aGVuIHdlIGFyZSBvbiB0aGUgY3VycmVudCBsb25nZXN0IHN1YnNlcXVlbmNlXG5cdFx0Y29uc3Qgc2VxX2xlbiA9XG5cdFx0XHQobG9uZ2VzdCA+IDAgJiYgY2hpbGRyZW5bbVtsb25nZXN0XV0uY2xhaW1fb3JkZXIgPD0gY3VycmVudFxuXHRcdFx0XHQ/IGxvbmdlc3QgKyAxXG5cdFx0XHRcdDogdXBwZXJfYm91bmQoMSwgbG9uZ2VzdCwgKGlkeCkgPT4gY2hpbGRyZW5bbVtpZHhdXS5jbGFpbV9vcmRlciwgY3VycmVudCkpIC0gMTtcblx0XHRwW2ldID0gbVtzZXFfbGVuXSArIDE7XG5cdFx0Y29uc3QgbmV3X2xlbiA9IHNlcV9sZW4gKyAxO1xuXHRcdC8vIFdlIGNhbiBndWFyYW50ZWUgdGhhdCBjdXJyZW50IGlzIHRoZSBzbWFsbGVzdCB2YWx1ZS4gT3RoZXJ3aXNlLCB3ZSB3b3VsZCBoYXZlIGdlbmVyYXRlZCBhIGxvbmdlciBzZXF1ZW5jZS5cblx0XHRtW25ld19sZW5dID0gaTtcblx0XHRsb25nZXN0ID0gTWF0aC5tYXgobmV3X2xlbiwgbG9uZ2VzdCk7XG5cdH1cblx0Ly8gVGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBub2RlcyAoaW5pdGlhbGx5IHJldmVyc2VkKVxuXG5cdC8qKlxuXHQgKiBAdHlwZSB7Tm9kZUV4MltdfVxuXHQgKi9cblx0Y29uc3QgbGlzID0gW107XG5cdC8vIFRoZSByZXN0IG9mIHRoZSBub2Rlcywgbm9kZXMgdGhhdCB3aWxsIGJlIG1vdmVkXG5cblx0LyoqXG5cdCAqIEB0eXBlIHtOb2RlRXgyW119XG5cdCAqL1xuXHRjb25zdCB0b19tb3ZlID0gW107XG5cdGxldCBsYXN0ID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTtcblx0Zm9yIChsZXQgY3VyID0gbVtsb25nZXN0XSArIDE7IGN1ciAhPSAwOyBjdXIgPSBwW2N1ciAtIDFdKSB7XG5cdFx0bGlzLnB1c2goY2hpbGRyZW5bY3VyIC0gMV0pO1xuXHRcdGZvciAoOyBsYXN0ID49IGN1cjsgbGFzdC0tKSB7XG5cdFx0XHR0b19tb3ZlLnB1c2goY2hpbGRyZW5bbGFzdF0pO1xuXHRcdH1cblx0XHRsYXN0LS07XG5cdH1cblx0Zm9yICg7IGxhc3QgPj0gMDsgbGFzdC0tKSB7XG5cdFx0dG9fbW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcblx0fVxuXHRsaXMucmV2ZXJzZSgpO1xuXHQvLyBXZSBzb3J0IHRoZSBub2RlcyBiZWluZyBtb3ZlZCB0byBndWFyYW50ZWUgdGhhdCB0aGVpciBpbnNlcnRpb24gb3JkZXIgbWF0Y2hlcyB0aGUgY2xhaW0gb3JkZXJcblx0dG9fbW92ZS5zb3J0KChhLCBiKSA9PiBhLmNsYWltX29yZGVyIC0gYi5jbGFpbV9vcmRlcik7XG5cdC8vIEZpbmFsbHksIHdlIG1vdmUgdGhlIG5vZGVzXG5cdGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvX21vdmUubGVuZ3RoOyBpKyspIHtcblx0XHR3aGlsZSAoaiA8IGxpcy5sZW5ndGggJiYgdG9fbW92ZVtpXS5jbGFpbV9vcmRlciA+PSBsaXNbal0uY2xhaW1fb3JkZXIpIHtcblx0XHRcdGorKztcblx0XHR9XG5cdFx0Y29uc3QgYW5jaG9yID0gaiA8IGxpcy5sZW5ndGggPyBsaXNbal0gOiBudWxsO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUodG9fbW92ZVtpXSwgYW5jaG9yKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuXHR0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZV9zaGVldF9pZFxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfc3R5bGVzKHRhcmdldCwgc3R5bGVfc2hlZXRfaWQsIHN0eWxlcykge1xuXHRjb25zdCBhcHBlbmRfc3R5bGVzX3RvID0gZ2V0X3Jvb3RfZm9yX3N0eWxlKHRhcmdldCk7XG5cdGlmICghYXBwZW5kX3N0eWxlc190by5nZXRFbGVtZW50QnlJZChzdHlsZV9zaGVldF9pZCkpIHtcblx0XHRjb25zdCBzdHlsZSA9IGVsZW1lbnQoJ3N0eWxlJyk7XG5cdFx0c3R5bGUuaWQgPSBzdHlsZV9zaGVldF9pZDtcblx0XHRzdHlsZS50ZXh0Q29udGVudCA9IHN0eWxlcztcblx0XHRhcHBlbmRfc3R5bGVzaGVldChhcHBlbmRfc3R5bGVzX3RvLCBzdHlsZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtTaGFkb3dSb290IHwgRG9jdW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSkge1xuXHRpZiAoIW5vZGUpIHJldHVybiBkb2N1bWVudDtcblx0Y29uc3Qgcm9vdCA9IG5vZGUuZ2V0Um9vdE5vZGUgPyBub2RlLmdldFJvb3ROb2RlKCkgOiBub2RlLm93bmVyRG9jdW1lbnQ7XG5cdGlmIChyb290ICYmIC8qKiBAdHlwZSB7U2hhZG93Um9vdH0gKi8gKHJvb3QpLmhvc3QpIHtcblx0XHRyZXR1cm4gLyoqIEB0eXBlIHtTaGFkb3dSb290fSAqLyAocm9vdCk7XG5cdH1cblx0cmV0dXJuIG5vZGUub3duZXJEb2N1bWVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtDU1NTdHlsZVNoZWV0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSkge1xuXHRjb25zdCBzdHlsZV9lbGVtZW50ID0gZWxlbWVudCgnc3R5bGUnKTtcblx0Ly8gRm9yIHRyYW5zaXRpb25zIHRvIHdvcmsgd2l0aG91dCAnc3R5bGUtc3JjOiB1bnNhZmUtaW5saW5lJyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSxcblx0Ly8gdGhlc2UgZW1wdHkgdGFncyBuZWVkIHRvIGJlIGFsbG93ZWQgd2l0aCBhIGhhc2ggYXMgYSB3b3JrYXJvdW5kIHVudGlsIHdlIG1vdmUgdG8gdGhlIFdlYiBBbmltYXRpb25zIEFQSS5cblx0Ly8gVXNpbmcgdGhlIGhhc2ggZm9yIHRoZSBlbXB0eSBzdHJpbmcgKGZvciBhbiBlbXB0eSB0YWcpIHdvcmtzIGluIGFsbCBicm93c2VycyBleGNlcHQgU2FmYXJpLlxuXHQvLyBTbyBhcyBhIHdvcmthcm91bmQgZm9yIHRoZSB3b3JrYXJvdW5kLCB3aGVuIHdlIGFwcGVuZCBlbXB0eSBzdHlsZSB0YWdzIHdlIHNldCB0aGVpciBjb250ZW50IHRvIC8qIGVtcHR5ICovLlxuXHQvLyBUaGUgaGFzaCAnc2hhMjU2LTlPbE5PMERORWVhVnpITDRSWndDTHNCSEE4V0JROHRvQnAvNEY1WFYybmM9JyB3aWxsIHRoZW4gd29yayBldmVuIGluIFNhZmFyaS5cblx0c3R5bGVfZWxlbWVudC50ZXh0Q29udGVudCA9ICcvKiBlbXB0eSAqLyc7XG5cdGFwcGVuZF9zdHlsZXNoZWV0KGdldF9yb290X2Zvcl9zdHlsZShub2RlKSwgc3R5bGVfZWxlbWVudCk7XG5cdHJldHVybiBzdHlsZV9lbGVtZW50LnNoZWV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U2hhZG93Um9vdCB8IERvY3VtZW50fSBub2RlXG4gKiBAcGFyYW0ge0hUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJucyB7Q1NTU3R5bGVTaGVldH1cbiAqL1xuZnVuY3Rpb24gYXBwZW5kX3N0eWxlc2hlZXQobm9kZSwgc3R5bGUpIHtcblx0YXBwZW5kKC8qKiBAdHlwZSB7RG9jdW1lbnR9ICovIChub2RlKS5oZWFkIHx8IG5vZGUsIHN0eWxlKTtcblx0cmV0dXJuIHN0eWxlLnNoZWV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZUV4fSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZUV4fSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKSB7XG5cdGlmIChpc19oeWRyYXRpbmcpIHtcblx0XHRpbml0X2h5ZHJhdGUodGFyZ2V0KTtcblx0XHRpZiAoXG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHQodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwgJiYgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KVxuXHRcdCkge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuZmlyc3RDaGlsZDtcblx0XHR9XG5cdFx0Ly8gU2tpcCBub2RlcyBvZiB1bmRlZmluZWQgb3JkZXJpbmdcblx0XHR3aGlsZSAodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwgJiYgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQuY2xhaW1fb3JkZXIgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5uZXh0U2libGluZztcblx0XHR9XG5cdFx0aWYgKG5vZGUgIT09IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGluc2VydCBpZiB0aGUgb3JkZXJpbmcgb2YgdGhpcyBub2RlIHNob3VsZCBiZSBtb2RpZmllZCBvciB0aGUgcGFyZW50IG5vZGUgaXMgbm90IHRhcmdldFxuXHRcdFx0aWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCB8fCBub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCkge1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSBub2RlLm5leHRTaWJsaW5nO1xuXHRcdH1cblx0fSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9PSBudWxsKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHBhcmFtIHtOb2RlfSBbYW5jaG9yXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcblx0dGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlRXh9IG5vZGVcbiAqIEBwYXJhbSB7Tm9kZUV4fSBbYW5jaG9yXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG5cdGlmIChpc19oeWRyYXRpbmcgJiYgIWFuY2hvcikge1xuXHRcdGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKTtcblx0fSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9IGFuY2hvcikge1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG5cdGlmIChub2RlLnBhcmVudE5vZGUpIHtcblx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2VhY2goaXRlcmF0aW9ucywgZGV0YWNoaW5nKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGlmIChpdGVyYXRpb25zW2ldKSBpdGVyYXRpb25zW2ldLmQoZGV0YWNoaW5nKTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwfSBLXG4gKiBAcGFyYW0ge0t9IG5hbWVcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFRhZ05hbWVNYXBbS119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9IEtcbiAqIEBwYXJhbSB7S30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGlzXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRUYWdOYW1lTWFwW0tdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudF9pcyhuYW1lLCBpcykge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lLCB7IGlzIH0pO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUge2tleW9mIFR9IEtcbiAqIEBwYXJhbSB7VH0gb2JqXG4gKiBAcGFyYW0ge0tbXX0gZXhjbHVkZVxuICogQHJldHVybnMge1BpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzKG9iaiwgZXhjbHVkZSkge1xuXHRjb25zdCB0YXJnZXQgPSAvKiogQHR5cGUge1BpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj59ICovICh7fSk7XG5cdGZvciAoY29uc3QgayBpbiBvYmopIHtcblx0XHRpZiAoXG5cdFx0XHRoYXNfcHJvcChvYmosIGspICYmXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRleGNsdWRlLmluZGV4T2YoaykgPT09IC0xXG5cdFx0KSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHR0YXJnZXRba10gPSBvYmpba107XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBTVkdFbGVtZW50VGFnTmFtZU1hcH0gS1xuICogQHBhcmFtIHtLfSBuYW1lXG4gKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN2Z19lbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBuYW1lKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVxuICogQHJldHVybnMge1RleHR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0KGRhdGEpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwYWNlKCkge1xuXHRyZXR1cm4gdGV4dCgnICcpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KCkge1xuXHRyZXR1cm4gdGV4dCgnJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAqIEByZXR1cm5zIHtDb21tZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tbWVudChjb250ZW50KSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbnRlbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0fSBoYW5kbGVyXG4gKiBAcGFyYW0ge2Jvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyB8IEV2ZW50TGlzdGVuZXJPcHRpb25zfSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG5cdG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG5cdHJldHVybiAoKSA9PiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnRfZGVmYXVsdChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BfcHJvcGFnYXRpb24oZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcF9pbW1lZGlhdGVfcHJvcGFnYXRpb24oZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGYoZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzKSBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdHJ1c3RlZChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGlmIChldmVudC5pc1RydXN0ZWQpIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZVxuICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZV1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cdGlmICh2YWx1ZSA9PSBudWxsKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuXHRlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSkgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG4vKipcbiAqIExpc3Qgb2YgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBhbHdheXMgYmUgc2V0IHRocm91Z2ggdGhlIGF0dHIgbWV0aG9kLFxuICogYmVjYXVzZSB1cGRhdGluZyB0aGVtIHRocm91Z2ggdGhlIHByb3BlcnR5IHNldHRlciBkb2Vzbid0IHdvcmsgcmVsaWFibHkuXG4gKiBJbiB0aGUgZXhhbXBsZSBvZiBgd2lkdGhgL2BoZWlnaHRgLCB0aGUgcHJvYmxlbSBpcyB0aGF0IHRoZSBzZXR0ZXIgb25seVxuICogYWNjZXB0cyBudW1lcmljIHZhbHVlcywgYnV0IHRoZSBhdHRyaWJ1dGUgY2FuIGFsc28gYmUgc2V0IHRvIGEgc3RyaW5nIGxpa2UgYDUwJWAuXG4gKiBJZiB0aGlzIGxpc3QgYmVjb21lcyB0b28gYmlnLCByZXRoaW5rIHRoaXMgYXBwcm9hY2guXG4gKi9cbmNvbnN0IGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlID0gWyd3aWR0aCcsICdoZWlnaHQnXTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7eyBbeDogc3RyaW5nXTogc3RyaW5nIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuXHQvLyBAdHMtaWdub3JlXG5cdGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobm9kZS5fX3Byb3RvX18pO1xuXHRmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0aWYgKGF0dHJpYnV0ZXNba2V5XSA9PSBudWxsKSB7XG5cdFx0XHRub2RlLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG5cdFx0XHRub2RlLnN0eWxlLmNzc1RleHQgPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0fSBlbHNlIGlmIChrZXkgPT09ICdfX3ZhbHVlJykge1xuXHRcdFx0LyoqIEB0eXBlIHthbnl9ICovIChub2RlKS52YWx1ZSA9IG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0ZGVzY3JpcHRvcnNba2V5XSAmJlxuXHRcdFx0ZGVzY3JpcHRvcnNba2V5XS5zZXQgJiZcblx0XHRcdGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlLmluZGV4T2Yoa2V5KSA9PT0gLTFcblx0XHQpIHtcblx0XHRcdG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YXR0cihub2RlLCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge3sgW3g6IHN0cmluZ106IHN0cmluZyB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdmdfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG5cdGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj59IGRhdGFfbWFwXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcChub2RlLCBkYXRhX21hcCkge1xuXHRPYmplY3Qua2V5cyhkYXRhX21hcCkuZm9yRWFjaCgoa2V5KSA9PiB7XG5cdFx0c2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwga2V5LCBkYXRhX21hcFtrZXldKTtcblx0fSk7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwgcHJvcCwgdmFsdWUpIHtcblx0aWYgKHByb3AgaW4gbm9kZSkge1xuXHRcdG5vZGVbcHJvcF0gPSB0eXBlb2Ygbm9kZVtwcm9wXSA9PT0gJ2Jvb2xlYW4nICYmIHZhbHVlID09PSAnJyA/IHRydWUgOiB2YWx1ZTtcblx0fSBlbHNlIHtcblx0XHRhdHRyKG5vZGUsIHByb3AsIHZhbHVlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9keW5hbWljX2VsZW1lbnRfZGF0YSh0YWcpIHtcblx0cmV0dXJuIC8tLy50ZXN0KHRhZykgPyBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAgOiBzZXRfYXR0cmlidXRlcztcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHhsaW5rX2F0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuXHRub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9zdmVsdGVfZGF0YXNldChub2RlKSB7XG5cdHJldHVybiBub2RlLmRhdGFzZXQuc3ZlbHRlSDtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dW5rbm93bltdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlKGdyb3VwLCBfX3ZhbHVlLCBjaGVja2VkKSB7XG5cdGNvbnN0IHZhbHVlID0gbmV3IFNldCgpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGdyb3VwW2ldLmNoZWNrZWQpIHZhbHVlLmFkZChncm91cFtpXS5fX3ZhbHVlKTtcblx0fVxuXHRpZiAoIWNoZWNrZWQpIHtcblx0XHR2YWx1ZS5kZWxldGUoX192YWx1ZSk7XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20odmFsdWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudFtdfSBncm91cFxuICogQHJldHVybnMge3sgcCguLi5pbnB1dHM6IEhUTUxJbnB1dEVsZW1lbnRbXSk6IHZvaWQ7IHIoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRfYmluZGluZ19ncm91cChncm91cCkge1xuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9pbnB1dHM7XG5cdHJldHVybiB7XG5cdFx0LyogcHVzaCAqLyBwKC4uLmlucHV0cykge1xuXHRcdFx0X2lucHV0cyA9IGlucHV0cztcblx0XHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IGdyb3VwLnB1c2goaW5wdXQpKTtcblx0XHR9LFxuXHRcdC8qIHJlbW92ZSAqLyByKCkge1xuXHRcdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gZ3JvdXAuc3BsaWNlKGdyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXNcbiAqIEByZXR1cm5zIHt7IHUobmV3X2luZGV4ZXM6IG51bWJlcltdKTogdm9pZDsgcCguLi5pbnB1dHM6IEhUTUxJbnB1dEVsZW1lbnRbXSk6IHZvaWQ7IHI6ICgpID0+IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0X2JpbmRpbmdfZ3JvdXBfZHluYW1pYyhncm91cCwgaW5kZXhlcykge1xuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcblxuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9pbnB1dHM7XG5cblx0ZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGdyb3VwID0gZ3JvdXBbaW5kZXhlc1tpXV0gPSBncm91cFtpbmRleGVzW2ldXSB8fCBbXTtcblx0XHR9XG5cdFx0cmV0dXJuIGdyb3VwO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBwdXNoKCkge1xuXHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IF9ncm91cC5wdXNoKGlucHV0KSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIHJlbW92ZSgpIHtcblx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBfZ3JvdXAuc3BsaWNlKF9ncm91cC5pbmRleE9mKGlucHV0KSwgMSkpO1xuXHR9XG5cdHJldHVybiB7XG5cdFx0LyogdXBkYXRlICovIHUobmV3X2luZGV4ZXMpIHtcblx0XHRcdGluZGV4ZXMgPSBuZXdfaW5kZXhlcztcblx0XHRcdGNvbnN0IG5ld19ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcblx0XHRcdGlmIChuZXdfZ3JvdXAgIT09IF9ncm91cCkge1xuXHRcdFx0XHRyZW1vdmUoKTtcblx0XHRcdFx0X2dyb3VwID0gbmV3X2dyb3VwO1xuXHRcdFx0XHRwdXNoKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG5cdFx0XHRfaW5wdXRzID0gaW5wdXRzO1xuXHRcdFx0cHVzaCgpO1xuXHRcdH0sXG5cdFx0LyogcmVtb3ZlICovIHI6IHJlbW92ZVxuXHR9O1xufVxuXG4vKiogQHJldHVybnMge251bWJlcn0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b19udW1iZXIodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlID09PSAnJyA/IG51bGwgOiArdmFsdWU7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W119ICovXG5leHBvcnQgZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG5cdGNvbnN0IGFycmF5ID0gW107XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0YXJyYXkucHVzaCh7IHN0YXJ0OiByYW5nZXMuc3RhcnQoaSksIGVuZDogcmFuZ2VzLmVuZChpKSB9KTtcblx0fVxuXHRyZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7Q2hpbGROb2RlW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG5cdHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQuY2hpbGROb2Rlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBpbml0X2NsYWltX2luZm8obm9kZXMpIHtcblx0aWYgKG5vZGVzLmNsYWltX2luZm8gPT09IHVuZGVmaW5lZCkge1xuXHRcdG5vZGVzLmNsYWltX2luZm8gPSB7IGxhc3RfaW5kZXg6IDAsIHRvdGFsX2NsYWltZWQ6IDAgfTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7Q2hpbGROb2RlRXh9IFJcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0geyhub2RlOiBDaGlsZE5vZGVFeCkgPT4gbm9kZSBpcyBSfSBwcmVkaWNhdGVcbiAqIEBwYXJhbSB7KG5vZGU6IENoaWxkTm9kZUV4KSA9PiBDaGlsZE5vZGVFeCB8IHVuZGVmaW5lZH0gcHJvY2Vzc19ub2RlXG4gKiBAcGFyYW0geygpID0+IFJ9IGNyZWF0ZV9ub2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGRvbnRfdXBkYXRlX2xhc3RfaW5kZXhcbiAqIEByZXR1cm5zIHtSfVxuICovXG5mdW5jdGlvbiBjbGFpbV9ub2RlKG5vZGVzLCBwcmVkaWNhdGUsIHByb2Nlc3Nfbm9kZSwgY3JlYXRlX25vZGUsIGRvbnRfdXBkYXRlX2xhc3RfaW5kZXggPSBmYWxzZSkge1xuXHQvLyBUcnkgdG8gZmluZCBub2RlcyBpbiBhbiBvcmRlciBzdWNoIHRoYXQgd2UgbGVuZ3RoZW4gdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuXHRpbml0X2NsYWltX2luZm8obm9kZXMpO1xuXHRjb25zdCByZXN1bHRfbm9kZSA9ICgoKSA9PiB7XG5cdFx0Ly8gV2UgZmlyc3QgdHJ5IHRvIGZpbmQgYW4gZWxlbWVudCBhZnRlciB0aGUgcHJldmlvdXMgb25lXG5cdFx0Zm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0XHRpZiAocHJlZGljYXRlKG5vZGUpKSB7XG5cdFx0XHRcdGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc19ub2RlKG5vZGUpO1xuXHRcdFx0XHRpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG5vZGVzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghZG9udF91cGRhdGVfbGFzdF9pbmRleCkge1xuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIE90aGVyd2lzZSwgd2UgdHJ5IHRvIGZpbmQgb25lIGJlZm9yZVxuXHRcdC8vIFdlIGl0ZXJhdGUgaW4gcmV2ZXJzZSBzbyB0aGF0IHdlIGRvbid0IGdvIHRvbyBmYXIgYmFja1xuXHRcdGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdFx0aWYgKHByZWRpY2F0ZShub2RlKSkge1xuXHRcdFx0XHRjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3Nfbm9kZShub2RlKTtcblx0XHRcdFx0aWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRub2Rlcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bm9kZXNbaV0gPSByZXBsYWNlbWVudDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIWRvbnRfdXBkYXRlX2xhc3RfaW5kZXgpIHtcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggPSBpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHQvLyBTaW5jZSB3ZSBzcGxpY2VkIGJlZm9yZSB0aGUgbGFzdF9pbmRleCwgd2UgZGVjcmVhc2UgaXRcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gSWYgd2UgY2FuJ3QgZmluZCBhbnkgbWF0Y2hpbmcgbm9kZSwgd2UgY3JlYXRlIGEgbmV3IG9uZVxuXHRcdHJldHVybiBjcmVhdGVfbm9kZSgpO1xuXHR9KSgpO1xuXHRyZXN1bHRfbm9kZS5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcblx0bm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG5cdHJldHVybiByZXN1bHRfbm9kZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7KG5hbWU6IHN0cmluZykgPT4gRWxlbWVudCB8IFNWR0VsZW1lbnR9IGNyZWF0ZV9lbGVtZW50XG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgY3JlYXRlX2VsZW1lbnQpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIEVsZW1lbnQgfCBTVkdFbGVtZW50fSAqL1xuXHRcdChub2RlKSA9PiBub2RlLm5vZGVOYW1lID09PSBuYW1lLFxuXHRcdC8qKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgKi9cblx0XHQobm9kZSkgPT4ge1xuXHRcdFx0Y29uc3QgcmVtb3ZlID0gW107XG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRjb25zdCBhdHRyaWJ1dGUgPSBub2RlLmF0dHJpYnV0ZXNbal07XG5cdFx0XHRcdGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0pIHtcblx0XHRcdFx0XHRyZW1vdmUucHVzaChhdHRyaWJ1dGUubmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJlbW92ZS5mb3JFYWNoKCh2KSA9PiBub2RlLnJlbW92ZUF0dHJpYnV0ZSh2KSk7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH0sXG5cdFx0KCkgPT4gY3JlYXRlX2VsZW1lbnQobmFtZSlcblx0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcblx0cmV0dXJuIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgZWxlbWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3sgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9zdmdfZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuXHRyZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBzdmdfZWxlbWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHtUZXh0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fdGV4dChub2RlcywgZGF0YSkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgVGV4dH0gKi9cblx0XHQobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gMyxcblx0XHQvKiogQHBhcmFtIHtUZXh0fSBub2RlICovXG5cdFx0KG5vZGUpID0+IHtcblx0XHRcdGNvbnN0IGRhdGFfc3RyID0gJycgKyBkYXRhO1xuXHRcdFx0aWYgKG5vZGUuZGF0YS5zdGFydHNXaXRoKGRhdGFfc3RyKSkge1xuXHRcdFx0XHRpZiAobm9kZS5kYXRhLmxlbmd0aCAhPT0gZGF0YV9zdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5vZGUuc3BsaXRUZXh0KGRhdGFfc3RyLmxlbmd0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5vZGUuZGF0YSA9IGRhdGFfc3RyO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0KCkgPT4gdGV4dChkYXRhKSxcblx0XHR0cnVlIC8vIFRleHQgbm9kZXMgc2hvdWxkIG5vdCB1cGRhdGUgbGFzdCBpbmRleCBzaW5jZSBpdCBpcyBsaWtlbHkgbm90IHdvcnRoIGl0IHRvIGVsaW1pbmF0ZSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGFjdHVhbCBlbGVtZW50c1xuXHQpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3NwYWNlKG5vZGVzKSB7XG5cdHJldHVybiBjbGFpbV90ZXh0KG5vZGVzLCAnICcpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcmV0dXJucyB7Q29tbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2NvbW1lbnQobm9kZXMsIGRhdGEpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIENvbW1lbnR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDgsXG5cdFx0LyoqIEBwYXJhbSB7Q29tbWVudH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRub2RlLmRhdGEgPSAnJyArIGRhdGE7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH0sXG5cdFx0KCkgPT4gY29tbWVudChkYXRhKSxcblx0XHR0cnVlXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGdldF9jb21tZW50X2lkeChub2RlcywgdGV4dCwgc3RhcnQpIHtcblx0Zm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovICYmIG5vZGUudGV4dENvbnRlbnQudHJpbSgpID09PSB0ZXh0KSB7XG5cdFx0XHRyZXR1cm4gaTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNfc3ZnXG4gKiBAcmV0dXJucyB7SHRtbFRhZ0h5ZHJhdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2h0bWxfdGFnKG5vZGVzLCBpc19zdmcpIHtcblx0Ly8gZmluZCBodG1sIG9wZW5pbmcgdGFnXG5cdGNvbnN0IHN0YXJ0X2luZGV4ID0gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCAnSFRNTF9UQUdfU1RBUlQnLCAwKTtcblx0Y29uc3QgZW5kX2luZGV4ID0gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCAnSFRNTF9UQUdfRU5EJywgc3RhcnRfaW5kZXggKyAxKTtcblx0aWYgKHN0YXJ0X2luZGV4ID09PSAtMSB8fCBlbmRfaW5kZXggPT09IC0xKSB7XG5cdFx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2Zyk7XG5cdH1cblxuXHRpbml0X2NsYWltX2luZm8obm9kZXMpO1xuXHRjb25zdCBodG1sX3RhZ19ub2RlcyA9IG5vZGVzLnNwbGljZShzdGFydF9pbmRleCwgZW5kX2luZGV4IC0gc3RhcnRfaW5kZXggKyAxKTtcblx0ZGV0YWNoKGh0bWxfdGFnX25vZGVzWzBdKTtcblx0ZGV0YWNoKGh0bWxfdGFnX25vZGVzW2h0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDFdKTtcblx0Y29uc3QgY2xhaW1lZF9ub2RlcyA9IGh0bWxfdGFnX25vZGVzLnNsaWNlKDEsIGh0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDEpO1xuXHRmb3IgKGNvbnN0IG4gb2YgY2xhaW1lZF9ub2Rlcykge1xuXHRcdG4uY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG5cdFx0bm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG5cdH1cblx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2ZywgY2xhaW1lZF9ub2Rlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGEodGV4dCwgZGF0YSkge1xuXHRkYXRhID0gJycgKyBkYXRhO1xuXHRpZiAodGV4dC5kYXRhID09PSBkYXRhKSByZXR1cm47XG5cdHRleHQuZGF0YSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGFfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEpIHtcblx0ZGF0YSA9ICcnICsgZGF0YTtcblx0aWYgKHRleHQud2hvbGVUZXh0ID09PSBkYXRhKSByZXR1cm47XG5cdHRleHQuZGF0YSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyX3ZhbHVlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kYXRhX21heWJlX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhLCBhdHRyX3ZhbHVlKSB7XG5cdGlmICh+Y29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMuaW5kZXhPZihhdHRyX3ZhbHVlKSkge1xuXHRcdHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhKTtcblx0fSBlbHNlIHtcblx0XHRzZXRfZGF0YSh0ZXh0LCBkYXRhKTtcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9pbnB1dF92YWx1ZShpbnB1dCwgdmFsdWUpIHtcblx0aW5wdXQudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaW5wdXRfdHlwZShpbnB1dCwgdHlwZSkge1xuXHR0cnkge1xuXHRcdGlucHV0LnR5cGUgPSB0eXBlO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gZG8gbm90aGluZ1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N0eWxlKG5vZGUsIGtleSwgdmFsdWUsIGltcG9ydGFudCkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdG5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkoa2V5KTtcblx0fSBlbHNlIHtcblx0XHRub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUsIGltcG9ydGFudCA/ICdpbXBvcnRhbnQnIDogJycpO1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlLCBtb3VudGluZykge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG5cdFx0aWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuXHRcdFx0b3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblx0aWYgKCFtb3VudGluZyB8fCB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0c2VsZWN0LnNlbGVjdGVkSW5kZXggPSAtMTsgLy8gbm8gb3B0aW9uIHNob3VsZCBiZSBzZWxlY3RlZFxuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X29wdGlvbnMoc2VsZWN0LCB2YWx1ZSkge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG5cdFx0b3B0aW9uLnNlbGVjdGVkID0gfnZhbHVlLmluZGV4T2Yob3B0aW9uLl9fdmFsdWUpO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RfdmFsdWUoc2VsZWN0KSB7XG5cdGNvbnN0IHNlbGVjdGVkX29wdGlvbiA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yKCc6Y2hlY2tlZCcpO1xuXHRyZXR1cm4gc2VsZWN0ZWRfb3B0aW9uICYmIHNlbGVjdGVkX29wdGlvbi5fX3ZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X211bHRpcGxlX3ZhbHVlKHNlbGVjdCkge1xuXHRyZXR1cm4gW10ubWFwLmNhbGwoc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJzpjaGVja2VkJyksIChvcHRpb24pID0+IG9wdGlvbi5fX3ZhbHVlKTtcbn1cbi8vIHVuZm9ydHVuYXRlbHkgdGhpcyBjYW4ndCBiZSBhIGNvbnN0YW50IGFzIHRoYXQgd291bGRuJ3QgYmUgdHJlZS1zaGFrZWFibGVcbi8vIHNvIHdlIGNhY2hlIHRoZSByZXN1bHQgaW5zdGVhZFxuXG4vKipcbiAqIEB0eXBlIHtib29sZWFufSAqL1xubGV0IGNyb3Nzb3JpZ2luO1xuXG4vKipcbiAqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Nyb3Nzb3JpZ2luKCkge1xuXHRpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuXHRcdGNyb3Nzb3JpZ2luID0gZmFsc2U7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGFyZW50KSB7XG5cdFx0XHRcdHZvaWQgd2luZG93LnBhcmVudC5kb2N1bWVudDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y3Jvc3NvcmlnaW4gPSB0cnVlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gY3Jvc3NvcmlnaW47XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMgeygpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfaWZyYW1lX3Jlc2l6ZV9saXN0ZW5lcihub2RlLCBmbikge1xuXHRjb25zdCBjb21wdXRlZF9zdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG5cdGlmIChjb21wdXRlZF9zdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcblx0XHRub2RlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0fVxuXHRjb25zdCBpZnJhbWUgPSBlbGVtZW50KCdpZnJhbWUnKTtcblx0aWZyYW1lLnNldEF0dHJpYnV0ZShcblx0XHQnc3R5bGUnLFxuXHRcdCdkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7ICcgK1xuXHRcdFx0J292ZXJmbG93OiBoaWRkZW47IGJvcmRlcjogMDsgb3BhY2l0eTogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHotaW5kZXg6IC0xOydcblx0KTtcblx0aWZyYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXHRpZnJhbWUudGFiSW5kZXggPSAtMTtcblx0Y29uc3QgY3Jvc3NvcmlnaW4gPSBpc19jcm9zc29yaWdpbigpO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7KCkgPT4gdm9pZH1cblx0ICovXG5cdGxldCB1bnN1YnNjcmliZTtcblx0aWYgKGNyb3Nzb3JpZ2luKSB7XG5cdFx0aWZyYW1lLnNyYyA9IFwiZGF0YTp0ZXh0L2h0bWwsPHNjcmlwdD5vbnJlc2l6ZT1mdW5jdGlvbigpe3BhcmVudC5wb3N0TWVzc2FnZSgwLCcqJyl9PC9zY3JpcHQ+XCI7XG5cdFx0dW5zdWJzY3JpYmUgPSBsaXN0ZW4oXG5cdFx0XHR3aW5kb3csXG5cdFx0XHQnbWVzc2FnZScsXG5cdFx0XHQvKiogQHBhcmFtIHtNZXNzYWdlRXZlbnR9IGV2ZW50ICovIChldmVudCkgPT4ge1xuXHRcdFx0XHRpZiAoZXZlbnQuc291cmNlID09PSBpZnJhbWUuY29udGVudFdpbmRvdykgZm4oKTtcblx0XHRcdH1cblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnO1xuXHRcdGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG5cdFx0XHR1bnN1YnNjcmliZSA9IGxpc3RlbihpZnJhbWUuY29udGVudFdpbmRvdywgJ3Jlc2l6ZScsIGZuKTtcblx0XHRcdC8vIG1ha2Ugc3VyZSBhbiBpbml0aWFsIHJlc2l6ZSBldmVudCBpcyBmaXJlZCBfYWZ0ZXJfIHRoZSBpZnJhbWUgaXMgbG9hZGVkICh3aGljaCBpcyBhc3luY2hyb25vdXMpXG5cdFx0XHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvNDIzM1xuXHRcdFx0Zm4oKTtcblx0XHR9O1xuXHR9XG5cdGFwcGVuZChub2RlLCBpZnJhbWUpO1xuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmIChjcm9zc29yaWdpbikge1xuXHRcdFx0dW5zdWJzY3JpYmUoKTtcblx0XHR9IGVsc2UgaWYgKHVuc3Vic2NyaWJlICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7XG5cdFx0XHR1bnN1YnNjcmliZSgpO1xuXHRcdH1cblx0XHRkZXRhY2goaWZyYW1lKTtcblx0fTtcbn1cbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfY29udGVudF9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHtcblx0Ym94OiAnY29udGVudC1ib3gnXG59KTtcbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfYm9yZGVyX2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oe1xuXHRib3g6ICdib3JkZXItYm94J1xufSk7XG5leHBvcnQgY29uc3QgcmVzaXplX29ic2VydmVyX2RldmljZV9waXhlbF9jb250ZW50X2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oXG5cdHsgYm94OiAnZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94JyB9XG4pO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24gfTtcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVfY2xhc3MoZWxlbWVudCwgbmFtZSwgdG9nZ2xlKSB7XG5cdC8vIFRoZSBgISFgIGlzIHJlcXVpcmVkIGJlY2F1c2UgYW4gYHVuZGVmaW5lZGAgZmxhZyBtZWFucyBmbGlwcGluZyB0aGUgY3VycmVudCBzdGF0ZS5cblx0ZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKG5hbWUsICEhdG9nZ2xlKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7VH0gW2RldGFpbF1cbiAqIEBwYXJhbSB7eyBidWJibGVzPzogYm9vbGVhbiwgY2FuY2VsYWJsZT86IGJvb2xlYW4gfX0gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7Q3VzdG9tRXZlbnQ8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsLCB7IGJ1YmJsZXMgPSBmYWxzZSwgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkge1xuXHRyZXR1cm4gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHsgZGV0YWlsLCBidWJibGVzLCBjYW5jZWxhYmxlIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG4gKiBAcmV0dXJucyB7Q2hpbGROb2RlQXJyYXl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeV9zZWxlY3Rvcl9hbGwoc2VsZWN0b3IsIHBhcmVudCA9IGRvY3VtZW50LmJvZHkpIHtcblx0cmV0dXJuIEFycmF5LmZyb20ocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbm9kZUlkXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBoZWFkXG4gKiBAcmV0dXJucyB7YW55W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZWFkX3NlbGVjdG9yKG5vZGVJZCwgaGVhZCkge1xuXHRjb25zdCByZXN1bHQgPSBbXTtcblx0bGV0IHN0YXJ0ZWQgPSAwO1xuXHRmb3IgKGNvbnN0IG5vZGUgb2YgaGVhZC5jaGlsZE5vZGVzKSB7XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovKSB7XG5cdFx0XHRjb25zdCBjb21tZW50ID0gbm9kZS50ZXh0Q29udGVudC50cmltKCk7XG5cdFx0XHRpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X0VORGApIHtcblx0XHRcdFx0c3RhcnRlZCAtPSAxO1xuXHRcdFx0XHRyZXN1bHQucHVzaChub2RlKTtcblx0XHRcdH0gZWxzZSBpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X1NUQVJUYCkge1xuXHRcdFx0XHRzdGFydGVkICs9IDE7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoc3RhcnRlZCA+IDApIHtcblx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuLyoqICovXG5leHBvcnQgY2xhc3MgSHRtbFRhZyB7XG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAZGVmYXVsdCBmYWxzZVxuXHQgKi9cblx0aXNfc3ZnID0gZmFsc2U7XG5cdC8qKiBwYXJlbnQgZm9yIGNyZWF0aW5nIG5vZGUgKi9cblx0ZSA9IHVuZGVmaW5lZDtcblx0LyoqIGh0bWwgdGFnIG5vZGVzICovXG5cdG4gPSB1bmRlZmluZWQ7XG5cdC8qKiB0YXJnZXQgKi9cblx0dCA9IHVuZGVmaW5lZDtcblx0LyoqIGFuY2hvciAqL1xuXHRhID0gdW5kZWZpbmVkO1xuXHRjb25zdHJ1Y3Rvcihpc19zdmcgPSBmYWxzZSkge1xuXHRcdHRoaXMuaXNfc3ZnID0gaXNfc3ZnO1xuXHRcdHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRjKGh0bWwpIHtcblx0XHR0aGlzLmgoaHRtbCk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnR9IHRhcmdldFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU1ZHRWxlbWVudH0gYW5jaG9yXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0bShodG1sLCB0YXJnZXQsIGFuY2hvciA9IG51bGwpIHtcblx0XHRpZiAoIXRoaXMuZSkge1xuXHRcdFx0aWYgKHRoaXMuaXNfc3ZnKVxuXHRcdFx0XHR0aGlzLmUgPSBzdmdfZWxlbWVudCgvKiogQHR5cGUge2tleW9mIFNWR0VsZW1lbnRUYWdOYW1lTWFwfSAqLyAodGFyZ2V0Lm5vZGVOYW1lKSk7XG5cdFx0XHQvKiogIzczNjQgIHRhcmdldCBmb3IgPHRlbXBsYXRlPiBtYXkgYmUgcHJvdmlkZWQgYXMgI2RvY3VtZW50LWZyYWdtZW50KDExKSAqLyBlbHNlXG5cdFx0XHRcdHRoaXMuZSA9IGVsZW1lbnQoXG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9ICovIChcblx0XHRcdFx0XHRcdHRhcmdldC5ub2RlVHlwZSA9PT0gMTEgPyAnVEVNUExBVEUnIDogdGFyZ2V0Lm5vZGVOYW1lXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpO1xuXHRcdFx0dGhpcy50ID1cblx0XHRcdFx0dGFyZ2V0LnRhZ05hbWUgIT09ICdURU1QTEFURSdcblx0XHRcdFx0XHQ/IHRhcmdldFxuXHRcdFx0XHRcdDogLyoqIEB0eXBlIHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyAodGFyZ2V0KS5jb250ZW50O1xuXHRcdFx0dGhpcy5jKGh0bWwpO1xuXHRcdH1cblx0XHR0aGlzLmkoYW5jaG9yKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGgoaHRtbCkge1xuXHRcdHRoaXMuZS5pbm5lckhUTUwgPSBodG1sO1xuXHRcdHRoaXMubiA9IEFycmF5LmZyb20oXG5cdFx0XHR0aGlzLmUubm9kZU5hbWUgPT09ICdURU1QTEFURScgPyB0aGlzLmUuY29udGVudC5jaGlsZE5vZGVzIDogdGhpcy5lLmNoaWxkTm9kZXNcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRpKGFuY2hvcikge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRpbnNlcnQodGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0cChodG1sKSB7XG5cdFx0dGhpcy5kKCk7XG5cdFx0dGhpcy5oKGh0bWwpO1xuXHRcdHRoaXMuaSh0aGlzLmEpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRkKCkge1xuXHRcdHRoaXMubi5mb3JFYWNoKGRldGFjaCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEh0bWxUYWdIeWRyYXRpb24gZXh0ZW5kcyBIdG1sVGFnIHtcblx0LyoqIEB0eXBlIHtFbGVtZW50W119IGh5ZHJhdGlvbiBjbGFpbWVkIG5vZGVzICovXG5cdGwgPSB1bmRlZmluZWQ7XG5cblx0Y29uc3RydWN0b3IoaXNfc3ZnID0gZmFsc2UsIGNsYWltZWRfbm9kZXMpIHtcblx0XHRzdXBlcihpc19zdmcpO1xuXHRcdHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG5cdFx0dGhpcy5sID0gY2xhaW1lZF9ub2Rlcztcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGMoaHRtbCkge1xuXHRcdGlmICh0aGlzLmwpIHtcblx0XHRcdHRoaXMubiA9IHRoaXMubDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3VwZXIuYyhodG1sKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGkoYW5jaG9yKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGluc2VydF9oeWRyYXRpb24odGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOYW1lZE5vZGVNYXB9IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt7fX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dHJpYnV0ZV90b19vYmplY3QoYXR0cmlidXRlcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xuXHRcdHJlc3VsdFthdHRyaWJ1dGUubmFtZV0gPSBhdHRyaWJ1dGUudmFsdWU7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7e319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKGVsZW1lbnQpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKFxuXHRcdC8qKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgKi8gKG5vZGUpID0+IHtcblx0XHRcdHJlc3VsdFtub2RlLnNsb3QgfHwgJ2RlZmF1bHQnXSA9IHRydWU7XG5cdFx0fVxuXHQpO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnQoY29tcG9uZW50LCBwcm9wcykge1xuXHRyZXR1cm4gbmV3IGNvbXBvbmVudChwcm9wcyk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge05vZGUgJiB7XG4gKiBcdGNsYWltX29yZGVyPzogbnVtYmVyO1xuICogXHRoeWRyYXRlX2luaXQ/OiB0cnVlO1xuICogXHRhY3R1YWxfZW5kX2NoaWxkPzogTm9kZUV4O1xuICogXHRjaGlsZE5vZGVzOiBOb2RlTGlzdE9mPE5vZGVFeD47XG4gKiB9fSBOb2RlRXhcbiAqL1xuXG4vKiogQHR5cGVkZWYge0NoaWxkTm9kZSAmIE5vZGVFeH0gQ2hpbGROb2RlRXggKi9cblxuLyoqIEB0eXBlZGVmIHtOb2RlRXggJiB7IGNsYWltX29yZGVyOiBudW1iZXIgfX0gTm9kZUV4MiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtDaGlsZE5vZGVFeFtdICYge1xuICogXHRjbGFpbV9pbmZvPzoge1xuICogXHRcdGxhc3RfaW5kZXg6IG51bWJlcjtcbiAqIFx0XHR0b3RhbF9jbGFpbWVkOiBudW1iZXI7XG4gKiBcdH07XG4gKiB9fSBDaGlsZE5vZGVBcnJheVxuICovXG4iLCJpbXBvcnQgeyBjdXN0b21fZXZlbnQgfSBmcm9tICcuL2RvbS5qcyc7XG5cbmV4cG9ydCBsZXQgY3VycmVudF9jb21wb25lbnQ7XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KSB7XG5cdGN1cnJlbnRfY29tcG9uZW50ID0gY29tcG9uZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkge1xuXHRpZiAoIWN1cnJlbnRfY29tcG9uZW50KSB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIGNhbGxlZCBvdXRzaWRlIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbicpO1xuXHRyZXR1cm4gY3VycmVudF9jb21wb25lbnQ7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVwZGF0ZWQgYWZ0ZXIgYW55IHN0YXRlIGNoYW5nZS5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGJlZm9yZSB0aGUgaW5pdGlhbCBgb25Nb3VudGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjYmVmb3JldXBkYXRlXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmVmb3JlVXBkYXRlKGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmJlZm9yZV91cGRhdGUucHVzaChmbik7XG59XG5cbi8qKlxuICogVGhlIGBvbk1vdW50YCBmdW5jdGlvbiBzY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gYXMgc29vbiBhcyB0aGUgY29tcG9uZW50IGhhcyBiZWVuIG1vdW50ZWQgdG8gdGhlIERPTS5cbiAqIEl0IG11c3QgYmUgY2FsbGVkIGR1cmluZyB0aGUgY29tcG9uZW50J3MgaW5pdGlhbGlzYXRpb24gKGJ1dCBkb2Vzbid0IG5lZWQgdG8gbGl2ZSAqaW5zaWRlKiB0aGUgY29tcG9uZW50O1xuICogaXQgY2FuIGJlIGNhbGxlZCBmcm9tIGFuIGV4dGVybmFsIG1vZHVsZSkuXG4gKlxuICogSWYgYSBmdW5jdGlvbiBpcyByZXR1cm5lZCBfc3luY2hyb25vdXNseV8gZnJvbSBgb25Nb3VudGAsIGl0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogYG9uTW91bnRgIGRvZXMgbm90IHJ1biBpbnNpZGUgYSBbc2VydmVyLXNpZGUgY29tcG9uZW50XSgvZG9jcyNydW4tdGltZS1zZXJ2ZXItc2lkZS1jb21wb25lbnQtYXBpKS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjb25tb3VudFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7KCkgPT4gaW1wb3J0KCcuL3ByaXZhdGUuanMnKS5Ob3RGdW5jdGlvbjxUPiB8IFByb21pc2U8aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5Ob3RGdW5jdGlvbjxUPj4gfCAoKCkgPT4gYW55KX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25Nb3VudChmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9tb3VudC5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiB1cGRhdGVkLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYWZ0ZXIgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2FmdGVydXBkYXRlXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWZ0ZXJVcGRhdGUoZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYWZ0ZXJfdXBkYXRlLnB1c2goZm4pO1xufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogT3V0IG9mIGBvbk1vdW50YCwgYGJlZm9yZVVwZGF0ZWAsIGBhZnRlclVwZGF0ZWAgYW5kIGBvbkRlc3Ryb3lgLCB0aGlzIGlzIHRoZVxuICogb25seSBvbmUgdGhhdCBydW5zIGluc2lkZSBhIHNlcnZlci1zaWRlIGNvbXBvbmVudC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjb25kZXN0cm95XG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25EZXN0cm95KGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX2Rlc3Ryb3kucHVzaChmbik7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBldmVudCBkaXNwYXRjaGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZGlzcGF0Y2ggW2NvbXBvbmVudCBldmVudHNdKC9kb2NzI3RlbXBsYXRlLXN5bnRheC1jb21wb25lbnQtZGlyZWN0aXZlcy1vbi1ldmVudG5hbWUpLlxuICogRXZlbnQgZGlzcGF0Y2hlcnMgYXJlIGZ1bmN0aW9ucyB0aGF0IGNhbiB0YWtlIHR3byBhcmd1bWVudHM6IGBuYW1lYCBhbmQgYGRldGFpbGAuXG4gKlxuICogQ29tcG9uZW50IGV2ZW50cyBjcmVhdGVkIHdpdGggYGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcmAgY3JlYXRlIGFcbiAqIFtDdXN0b21FdmVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50KS5cbiAqIFRoZXNlIGV2ZW50cyBkbyBub3QgW2J1YmJsZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9MZWFybi9KYXZhU2NyaXB0L0J1aWxkaW5nX2Jsb2Nrcy9FdmVudHMjRXZlbnRfYnViYmxpbmdfYW5kX2NhcHR1cmUpLlxuICogVGhlIGBkZXRhaWxgIGFyZ3VtZW50IGNvcnJlc3BvbmRzIHRvIHRoZSBbQ3VzdG9tRXZlbnQuZGV0YWlsXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQvZGV0YWlsKVxuICogcHJvcGVydHkgYW5kIGNhbiBjb250YWluIGFueSB0eXBlIG9mIGRhdGEuXG4gKlxuICogVGhlIGV2ZW50IGRpc3BhdGNoZXIgY2FuIGJlIHR5cGVkIHRvIG5hcnJvdyB0aGUgYWxsb3dlZCBldmVudCBuYW1lcyBhbmQgdGhlIHR5cGUgb2YgdGhlIGBkZXRhaWxgIGFyZ3VtZW50OlxuICogYGBgdHNcbiAqIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyPHtcbiAqICBsb2FkZWQ6IG5ldmVyOyAvLyBkb2VzIG5vdCB0YWtlIGEgZGV0YWlsIGFyZ3VtZW50XG4gKiAgY2hhbmdlOiBzdHJpbmc7IC8vIHRha2VzIGEgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgc3RyaW5nLCB3aGljaCBpcyByZXF1aXJlZFxuICogIG9wdGlvbmFsOiBudW1iZXIgfCBudWxsOyAvLyB0YWtlcyBhbiBvcHRpb25hbCBkZXRhaWwgYXJndW1lbnQgb2YgdHlwZSBudW1iZXJcbiAqIH0+KCk7XG4gKiBgYGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjY3JlYXRlZXZlbnRkaXNwYXRjaGVyXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudE1hcD1hbnldXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLkV2ZW50RGlzcGF0Y2hlcjxFdmVudE1hcD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFdmVudERpc3BhdGNoZXIoKSB7XG5cdGNvbnN0IGNvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuXHRyZXR1cm4gKHR5cGUsIGRldGFpbCwgeyBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSA9PiB7XG5cdFx0Y29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1t0eXBlXTtcblx0XHRpZiAoY2FsbGJhY2tzKSB7XG5cdFx0XHQvLyBUT0RPIGFyZSB0aGVyZSBzaXR1YXRpb25zIHdoZXJlIGV2ZW50cyBjb3VsZCBiZSBkaXNwYXRjaGVkXG5cdFx0XHQvLyBpbiBhIHNlcnZlciAobm9uLURPTSkgZW52aXJvbm1lbnQ/XG5cdFx0XHRjb25zdCBldmVudCA9IGN1c3RvbV9ldmVudCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSB9KTtcblx0XHRcdGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goKGZuKSA9PiB7XG5cdFx0XHRcdGZuLmNhbGwoY29tcG9uZW50LCBldmVudCk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG59XG5cbi8qKlxuICogQXNzb2NpYXRlcyBhbiBhcmJpdHJhcnkgYGNvbnRleHRgIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudCBhbmQgdGhlIHNwZWNpZmllZCBga2V5YFxuICogYW5kIHJldHVybnMgdGhhdCBvYmplY3QuIFRoZSBjb250ZXh0IGlzIHRoZW4gYXZhaWxhYmxlIHRvIGNoaWxkcmVuIG9mIHRoZSBjb21wb25lbnRcbiAqIChpbmNsdWRpbmcgc2xvdHRlZCBjb250ZW50KSB3aXRoIGBnZXRDb250ZXh0YC5cbiAqXG4gKiBMaWtlIGxpZmVjeWNsZSBmdW5jdGlvbnMsIHRoaXMgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjc2V0Y29udGV4dFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEBwYXJhbSB7VH0gY29udGV4dFxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb250ZXh0KGtleSwgY29udGV4dCkge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LnNldChrZXksIGNvbnRleHQpO1xuXHRyZXR1cm4gY29udGV4dDtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGNvbnRleHQgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGBrZXlgLlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjZ2V0Y29udGV4dFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGV4dChrZXkpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSB3aG9sZSBjb250ZXh0IG1hcCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uIFVzZWZ1bCwgZm9yIGV4YW1wbGUsIGlmIHlvdVxuICogcHJvZ3JhbW1hdGljYWxseSBjcmVhdGUgYSBjb21wb25lbnQgYW5kIHdhbnQgdG8gcGFzcyB0aGUgZXhpc3RpbmcgY29udGV4dCB0byBpdC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjZ2V0YWxsY29udGV4dHNcbiAqIEB0ZW1wbGF0ZSB7TWFwPGFueSwgYW55Pn0gW1Q9TWFwPGFueSwgYW55Pl1cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsQ29udGV4dHMoKSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0O1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gYGtleWAgaGFzIGJlZW4gc2V0IGluIHRoZSBjb250ZXh0IG9mIGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2hhc2NvbnRleHRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzQ29udGV4dChrZXkpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuaGFzKGtleSk7XG59XG5cbi8vIFRPRE8gZmlndXJlIG91dCBpZiB3ZSBzdGlsbCB3YW50IHRvIHN1cHBvcnRcbi8vIHNob3J0aGFuZCBldmVudHMsIG9yIGlmIHdlIHdhbnQgdG8gaW1wbGVtZW50XG4vLyBhIHJlYWwgYnViYmxpbmcgbWVjaGFuaXNtXG4vKipcbiAqIEBwYXJhbSBjb21wb25lbnRcbiAqIEBwYXJhbSBldmVudFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWJibGUoY29tcG9uZW50LCBldmVudCkge1xuXHRjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW2V2ZW50LnR5cGVdO1xuXHRpZiAoY2FsbGJhY2tzKSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goKGZuKSA9PiBmbi5jYWxsKHRoaXMsIGV2ZW50KSk7XG5cdH1cbn1cbiIsImltcG9ydCB7IHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IGN1cnJlbnRfY29tcG9uZW50LCBzZXRfY3VycmVudF9jb21wb25lbnQgfSBmcm9tICcuL2xpZmVjeWNsZS5qcyc7XG5cbmV4cG9ydCBjb25zdCBkaXJ0eV9jb21wb25lbnRzID0gW107XG5leHBvcnQgY29uc3QgaW50cm9zID0geyBlbmFibGVkOiBmYWxzZSB9O1xuZXhwb3J0IGNvbnN0IGJpbmRpbmdfY2FsbGJhY2tzID0gW107XG5cbmxldCByZW5kZXJfY2FsbGJhY2tzID0gW107XG5cbmNvbnN0IGZsdXNoX2NhbGxiYWNrcyA9IFtdO1xuXG5jb25zdCByZXNvbHZlZF9wcm9taXNlID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xuXG5sZXQgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVfdXBkYXRlKCkge1xuXHRpZiAoIXVwZGF0ZV9zY2hlZHVsZWQpIHtcblx0XHR1cGRhdGVfc2NoZWR1bGVkID0gdHJ1ZTtcblx0XHRyZXNvbHZlZF9wcm9taXNlLnRoZW4oZmx1c2gpO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aWNrKCkge1xuXHRzY2hlZHVsZV91cGRhdGUoKTtcblx0cmV0dXJuIHJlc29sdmVkX3Byb21pc2U7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfcmVuZGVyX2NhbGxiYWNrKGZuKSB7XG5cdHJlbmRlcl9jYWxsYmFja3MucHVzaChmbik7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfZmx1c2hfY2FsbGJhY2soZm4pIHtcblx0Zmx1c2hfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuXG4vLyBmbHVzaCgpIGNhbGxzIGNhbGxiYWNrcyBpbiB0aGlzIG9yZGVyOlxuLy8gMS4gQWxsIGJlZm9yZVVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlblxuLy8gMi4gQWxsIGJpbmQ6dGhpcyBjYWxsYmFja3MsIGluIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gMy4gQWxsIGFmdGVyVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuLiBFWENFUFRcbi8vICAgIGZvciBhZnRlclVwZGF0ZXMgY2FsbGVkIGR1cmluZyB0aGUgaW5pdGlhbCBvbk1vdW50LCB3aGljaCBhcmUgY2FsbGVkIGluXG4vLyAgICByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIFNpbmNlIGNhbGxiYWNrcyBtaWdodCB1cGRhdGUgY29tcG9uZW50IHZhbHVlcywgd2hpY2ggY291bGQgdHJpZ2dlciBhbm90aGVyXG4vLyBjYWxsIHRvIGZsdXNoKCksIHRoZSBmb2xsb3dpbmcgc3RlcHMgZ3VhcmQgYWdhaW5zdCB0aGlzOlxuLy8gMS4gRHVyaW5nIGJlZm9yZVVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuLy8gICAgZGlydHlfY29tcG9uZW50cyBhcnJheSBhbmQgd2lsbCBjYXVzZSBhIHJlZW50cmFudCBjYWxsIHRvIGZsdXNoKCkuIEJlY2F1c2Vcbi8vICAgIHRoZSBmbHVzaCBpbmRleCBpcyBrZXB0IG91dHNpZGUgdGhlIGZ1bmN0aW9uLCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbCBwaWNrXG4vLyAgICB1cCB3aGVyZSB0aGUgZWFybGllciBjYWxsIGxlZnQgb2ZmIGFuZCBnbyB0aHJvdWdoIGFsbCBkaXJ0eSBjb21wb25lbnRzLiBUaGVcbi8vICAgIGN1cnJlbnRfY29tcG9uZW50IHZhbHVlIGlzIHNhdmVkIGFuZCByZXN0b3JlZCBzbyB0aGF0IHRoZSByZWVudHJhbnQgY2FsbCB3aWxsXG4vLyAgICBub3QgaW50ZXJmZXJlIHdpdGggdGhlIFwicGFyZW50XCIgZmx1c2goKSBjYWxsLlxuLy8gMi4gYmluZDp0aGlzIGNhbGxiYWNrcyBjYW5ub3QgdHJpZ2dlciBuZXcgZmx1c2goKSBjYWxscy5cbi8vIDMuIER1cmluZyBhZnRlclVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIE5PVCBoYXZlIHRoZWlyIGFmdGVyVXBkYXRlXG4vLyAgICBjYWxsYmFjayBjYWxsZWQgYSBzZWNvbmQgdGltZTsgdGhlIHNlZW5fY2FsbGJhY2tzIHNldCwgb3V0c2lkZSB0aGUgZmx1c2goKVxuLy8gICAgZnVuY3Rpb24sIGd1YXJhbnRlZXMgdGhpcyBiZWhhdmlvci5cbmNvbnN0IHNlZW5fY2FsbGJhY2tzID0gbmV3IFNldCgpO1xuXG5sZXQgZmx1c2hpZHggPSAwOyAvLyBEbyAqbm90KiBtb3ZlIHRoaXMgaW5zaWRlIHRoZSBmbHVzaCgpIGZ1bmN0aW9uXG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaCgpIHtcblx0Ly8gRG8gbm90IHJlZW50ZXIgZmx1c2ggd2hpbGUgZGlydHkgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgYXMgdGhpcyBjYW5cblx0Ly8gcmVzdWx0IGluIGFuIGluZmluaXRlIGxvb3AuIEluc3RlYWQsIGxldCB0aGUgaW5uZXIgZmx1c2ggaGFuZGxlIGl0LlxuXHQvLyBSZWVudHJhbmN5IGlzIG9rIGFmdGVyd2FyZHMgZm9yIGJpbmRpbmdzIGV0Yy5cblx0aWYgKGZsdXNoaWR4ICE9PSAwKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGNvbnN0IHNhdmVkX2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuXHRkbyB7XG5cdFx0Ly8gZmlyc3QsIGNhbGwgYmVmb3JlVXBkYXRlIGZ1bmN0aW9uc1xuXHRcdC8vIGFuZCB1cGRhdGUgY29tcG9uZW50c1xuXHRcdHRyeSB7XG5cdFx0XHR3aGlsZSAoZmx1c2hpZHggPCBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCkge1xuXHRcdFx0XHRjb25zdCBjb21wb25lbnQgPSBkaXJ0eV9jb21wb25lbnRzW2ZsdXNoaWR4XTtcblx0XHRcdFx0Zmx1c2hpZHgrKztcblx0XHRcdFx0c2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG5cdFx0XHRcdHVwZGF0ZShjb21wb25lbnQuJCQpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdC8vIHJlc2V0IGRpcnR5IHN0YXRlIHRvIG5vdCBlbmQgdXAgaW4gYSBkZWFkbG9ja2VkIHN0YXRlIGFuZCB0aGVuIHJldGhyb3dcblx0XHRcdGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcblx0XHRcdGZsdXNoaWR4ID0gMDtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcblx0XHRkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG5cdFx0Zmx1c2hpZHggPSAwO1xuXHRcdHdoaWxlIChiaW5kaW5nX2NhbGxiYWNrcy5sZW5ndGgpIGJpbmRpbmdfY2FsbGJhY2tzLnBvcCgpKCk7XG5cdFx0Ly8gdGhlbiwgb25jZSBjb21wb25lbnRzIGFyZSB1cGRhdGVkLCBjYWxsXG5cdFx0Ly8gYWZ0ZXJVcGRhdGUgZnVuY3Rpb25zLiBUaGlzIG1heSBjYXVzZVxuXHRcdC8vIHN1YnNlcXVlbnQgdXBkYXRlcy4uLlxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0Y29uc3QgY2FsbGJhY2sgPSByZW5kZXJfY2FsbGJhY2tzW2ldO1xuXHRcdFx0aWYgKCFzZWVuX2NhbGxiYWNrcy5oYXMoY2FsbGJhY2spKSB7XG5cdFx0XHRcdC8vIC4uLnNvIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcHNcblx0XHRcdFx0c2Vlbl9jYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVuZGVyX2NhbGxiYWNrcy5sZW5ndGggPSAwO1xuXHR9IHdoaWxlIChkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCk7XG5cdHdoaWxlIChmbHVzaF9jYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0Zmx1c2hfY2FsbGJhY2tzLnBvcCgpKCk7XG5cdH1cblx0dXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuXHRzZWVuX2NhbGxiYWNrcy5jbGVhcigpO1xuXHRzZXRfY3VycmVudF9jb21wb25lbnQoc2F2ZWRfY29tcG9uZW50KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZnVuY3Rpb24gdXBkYXRlKCQkKSB7XG5cdGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuXHRcdCQkLnVwZGF0ZSgpO1xuXHRcdHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG5cdFx0Y29uc3QgZGlydHkgPSAkJC5kaXJ0eTtcblx0XHQkJC5kaXJ0eSA9IFstMV07XG5cdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQucCgkJC5jdHgsIGRpcnR5KTtcblx0XHQkJC5hZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcblx0fVxufVxuXG4vKipcbiAqIFVzZWZ1bCBmb3IgZXhhbXBsZSB0byBleGVjdXRlIHJlbWFpbmluZyBgYWZ0ZXJVcGRhdGVgIGNhbGxiYWNrcyBiZWZvcmUgZXhlY3V0aW5nIGBkZXN0cm95YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gZm5zXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoX3JlbmRlcl9jYWxsYmFja3MoZm5zKSB7XG5cdGNvbnN0IGZpbHRlcmVkID0gW107XG5cdGNvbnN0IHRhcmdldHMgPSBbXTtcblx0cmVuZGVyX2NhbGxiYWNrcy5mb3JFYWNoKChjKSA9PiAoZm5zLmluZGV4T2YoYykgPT09IC0xID8gZmlsdGVyZWQucHVzaChjKSA6IHRhcmdldHMucHVzaChjKSkpO1xuXHR0YXJnZXRzLmZvckVhY2goKGMpID0+IGMoKSk7XG5cdHJlbmRlcl9jYWxsYmFja3MgPSBmaWx0ZXJlZDtcbn1cbiIsImltcG9ydCB7IGlkZW50aXR5IGFzIGxpbmVhciwgaXNfZnVuY3Rpb24sIG5vb3AsIHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IG5vdyB9IGZyb20gJy4vZW52aXJvbm1lbnQuanMnO1xuaW1wb3J0IHsgbG9vcCB9IGZyb20gJy4vbG9vcC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVfcnVsZSwgZGVsZXRlX3J1bGUgfSBmcm9tICcuL3N0eWxlX21hbmFnZXIuanMnO1xuaW1wb3J0IHsgY3VzdG9tX2V2ZW50IH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgYWRkX3JlbmRlcl9jYWxsYmFjayB9IGZyb20gJy4vc2NoZWR1bGVyLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7UHJvbWlzZTx2b2lkPiB8IG51bGx9XG4gKi9cbmxldCBwcm9taXNlO1xuXG4vKipcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5mdW5jdGlvbiB3YWl0KCkge1xuXHRpZiAoIXByb21pc2UpIHtcblx0XHRwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0cHJvbWlzZS50aGVuKCgpID0+IHtcblx0XHRcdHByb21pc2UgPSBudWxsO1xuXHRcdH0pO1xuXHR9XG5cdHJldHVybiBwcm9taXNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtJTlRSTyB8IE9VVFJPIHwgYm9vbGVhbn0gZGlyZWN0aW9uXG4gKiBAcGFyYW0geydzdGFydCcgfCAnZW5kJ30ga2luZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGRpc3BhdGNoKG5vZGUsIGRpcmVjdGlvbiwga2luZCkge1xuXHRub2RlLmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KGAke2RpcmVjdGlvbiA/ICdpbnRybycgOiAnb3V0cm8nfSR7a2luZH1gKSk7XG59XG5cbmNvbnN0IG91dHJvaW5nID0gbmV3IFNldCgpO1xuXG4vKipcbiAqIEB0eXBlIHtPdXRyb31cbiAqL1xubGV0IG91dHJvcztcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBncm91cF9vdXRyb3MoKSB7XG5cdG91dHJvcyA9IHtcblx0XHRyOiAwLFxuXHRcdGM6IFtdLFxuXHRcdHA6IG91dHJvcyAvLyBwYXJlbnQgZ3JvdXBcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja19vdXRyb3MoKSB7XG5cdGlmICghb3V0cm9zLnIpIHtcblx0XHRydW5fYWxsKG91dHJvcy5jKTtcblx0fVxuXHRvdXRyb3MgPSBvdXRyb3MucDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuRnJhZ21lbnR9IGJsb2NrXG4gKiBAcGFyYW0gezAgfCAxfSBbbG9jYWxdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25faW4oYmxvY2ssIGxvY2FsKSB7XG5cdGlmIChibG9jayAmJiBibG9jay5pKSB7XG5cdFx0b3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcblx0XHRibG9jay5pKGxvY2FsKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5GcmFnbWVudH0gYmxvY2tcbiAqIEBwYXJhbSB7MCB8IDF9IGxvY2FsXG4gKiBAcGFyYW0gezAgfCAxfSBbZGV0YWNoXVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25fb3V0KGJsb2NrLCBsb2NhbCwgZGV0YWNoLCBjYWxsYmFjaykge1xuXHRpZiAoYmxvY2sgJiYgYmxvY2subykge1xuXHRcdGlmIChvdXRyb2luZy5oYXMoYmxvY2spKSByZXR1cm47XG5cdFx0b3V0cm9pbmcuYWRkKGJsb2NrKTtcblx0XHRvdXRyb3MuYy5wdXNoKCgpID0+IHtcblx0XHRcdG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG5cdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0aWYgKGRldGFjaCkgYmxvY2suZCgxKTtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRibG9jay5vKGxvY2FsKTtcblx0fSBlbHNlIGlmIChjYWxsYmFjaykge1xuXHRcdGNhbGxiYWNrKCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAdHlwZSB7aW1wb3J0KCcuLi90cmFuc2l0aW9uL3B1YmxpYy5qcycpLlRyYW5zaXRpb25Db25maWd9XG4gKi9cbmNvbnN0IG51bGxfdHJhbnNpdGlvbiA9IHsgZHVyYXRpb246IDAgfTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbkZufSBmblxuICogQHBhcmFtIHthbnl9IHBhcmFtc1xuICogQHJldHVybnMge3sgc3RhcnQoKTogdm9pZDsgaW52YWxpZGF0ZSgpOiB2b2lkOyBlbmQoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9pbl90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtUcmFuc2l0aW9uT3B0aW9uc30gKi9cblx0Y29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnaW4nIH07XG5cdGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHRsZXQgcnVubmluZyA9IGZhbHNlO1xuXHRsZXQgYW5pbWF0aW9uX25hbWU7XG5cdGxldCB0YXNrO1xuXHRsZXQgdWlkID0gMDtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGNsZWFudXAoKSB7XG5cdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGdvKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblx0XHRpZiAoY3NzKSBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MsIHVpZCsrKTtcblx0XHR0aWNrKDAsIDEpO1xuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5O1xuXHRcdGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuXHRcdGlmICh0YXNrKSB0YXNrLmFib3J0KCk7XG5cdFx0cnVubmluZyA9IHRydWU7XG5cdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG5cdFx0dGFzayA9IGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKG5vdyA+PSBlbmRfdGltZSkge1xuXHRcdFx0XHRcdHRpY2soMSwgMCk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuXHRcdFx0XHRcdGNsZWFudXAoKTtcblx0XHRcdFx0XHRyZXR1cm4gKHJ1bm5pbmcgPSBmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG5cdFx0XHRcdFx0dGljayh0LCAxIC0gdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBydW5uaW5nO1xuXHRcdH0pO1xuXHR9XG5cdGxldCBzdGFydGVkID0gZmFsc2U7XG5cdHJldHVybiB7XG5cdFx0c3RhcnQoKSB7XG5cdFx0XHRpZiAoc3RhcnRlZCkgcmV0dXJuO1xuXHRcdFx0c3RhcnRlZCA9IHRydWU7XG5cdFx0XHRkZWxldGVfcnVsZShub2RlKTtcblx0XHRcdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcblx0XHRcdFx0d2FpdCgpLnRoZW4oZ28pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z28oKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGludmFsaWRhdGUoKSB7XG5cdFx0XHRzdGFydGVkID0gZmFsc2U7XG5cdFx0fSxcblx0XHRlbmQoKSB7XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEByZXR1cm5zIHt7IGVuZChyZXNldDogYW55KTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG5cdC8qKiBAdHlwZSB7VHJhbnNpdGlvbk9wdGlvbnN9ICovXG5cdGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ291dCcgfTtcblx0bGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG5cdGxldCBydW5uaW5nID0gdHJ1ZTtcblx0bGV0IGFuaW1hdGlvbl9uYW1lO1xuXHRjb25zdCBncm91cCA9IG91dHJvcztcblx0Z3JvdXAuciArPSAxO1xuXHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdGxldCBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGdvKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblxuXHRcdGlmIChjc3MpIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMSwgMCwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG5cblx0XHRjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcblx0XHRjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcblx0XHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnc3RhcnQnKSk7XG5cblx0XHRpZiAoJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRvcmlnaW5hbF9pbmVydF92YWx1ZSA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovIChub2RlKS5pbmVydDtcblx0XHRcdG5vZGUuaW5lcnQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKG5vdyA+PSBlbmRfdGltZSkge1xuXHRcdFx0XHRcdHRpY2soMCwgMSk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdlbmQnKTtcblx0XHRcdFx0XHRpZiAoIS0tZ3JvdXAucikge1xuXHRcdFx0XHRcdFx0Ly8gdGhpcyB3aWxsIHJlc3VsdCBpbiBgZW5kKClgIGJlaW5nIGNhbGxlZCxcblx0XHRcdFx0XHRcdC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gY2xlYW4gdXAgaGVyZVxuXHRcdFx0XHRcdFx0cnVuX2FsbChncm91cC5jKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuXHRcdFx0XHRcdGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuXHRcdFx0XHRcdHRpY2soMSAtIHQsIHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcnVubmluZztcblx0XHR9KTtcblx0fVxuXG5cdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0d2FpdCgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuXHRcdFx0Z28oKTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRnbygpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRlbmQocmVzZXQpIHtcblx0XHRcdGlmIChyZXNldCAmJiAnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdFx0bm9kZS5pbmVydCA9IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJlc2V0ICYmIGNvbmZpZy50aWNrKSB7XG5cdFx0XHRcdGNvbmZpZy50aWNrKDEsIDApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdFx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW50cm9cbiAqIEByZXR1cm5zIHt7IHJ1bihiOiAwIHwgMSk6IHZvaWQ7IGVuZCgpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuXHQvKipcblx0ICogQHR5cGUge1RyYW5zaXRpb25PcHRpb25zfSAqL1xuXHRjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdib3RoJyB9O1xuXHRsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0bGV0IHQgPSBpbnRybyA/IDAgOiAxO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7UHJvZ3JhbSB8IG51bGx9ICovXG5cdGxldCBydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7UGVuZGluZ1Byb2dyYW0gfCBudWxsfSAqL1xuXHRsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0bGV0IGFuaW1hdGlvbl9uYW1lID0gbnVsbDtcblxuXHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdGxldCBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcblx0XHRpZiAoYW5pbWF0aW9uX25hbWUpIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1BlbmRpbmdQcm9ncmFtfSBwcm9ncmFtXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvblxuXHQgKiBAcmV0dXJucyB7UHJvZ3JhbX1cblx0ICovXG5cdGZ1bmN0aW9uIGluaXQocHJvZ3JhbSwgZHVyYXRpb24pIHtcblx0XHRjb25zdCBkID0gLyoqIEB0eXBlIHtQcm9ncmFtWydkJ119ICovIChwcm9ncmFtLmIgLSB0KTtcblx0XHRkdXJhdGlvbiAqPSBNYXRoLmFicyhkKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0YTogdCxcblx0XHRcdGI6IHByb2dyYW0uYixcblx0XHRcdGQsXG5cdFx0XHRkdXJhdGlvbixcblx0XHRcdHN0YXJ0OiBwcm9ncmFtLnN0YXJ0LFxuXHRcdFx0ZW5kOiBwcm9ncmFtLnN0YXJ0ICsgZHVyYXRpb24sXG5cdFx0XHRncm91cDogcHJvZ3JhbS5ncm91cFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtJTlRSTyB8IE9VVFJPfSBiXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gZ28oYikge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblxuXHRcdC8qKlxuXHRcdCAqIEB0eXBlIHtQZW5kaW5nUHJvZ3JhbX0gKi9cblx0XHRjb25zdCBwcm9ncmFtID0ge1xuXHRcdFx0c3RhcnQ6IG5vdygpICsgZGVsYXksXG5cdFx0XHRiXG5cdFx0fTtcblxuXHRcdGlmICghYikge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3Ncblx0XHRcdHByb2dyYW0uZ3JvdXAgPSBvdXRyb3M7XG5cdFx0XHRvdXRyb3MuciArPSAxO1xuXHRcdH1cblxuXHRcdGlmICgnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdGlmIChiKSB7XG5cdFx0XHRcdGlmIChvcmlnaW5hbF9pbmVydF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ly8gYWJvcnRlZC9yZXZlcnNlZCBvdXRybyDigJQgcmVzdG9yZSBwcmV2aW91cyBpbmVydCB2YWx1ZVxuXHRcdFx0XHRcdG5vZGUuaW5lcnQgPSBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3JpZ2luYWxfaW5lcnRfdmFsdWUgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyAobm9kZSkuaW5lcnQ7XG5cdFx0XHRcdG5vZGUuaW5lcnQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKSB7XG5cdFx0XHRwZW5kaW5nX3Byb2dyYW0gPSBwcm9ncmFtO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpZiB0aGlzIGlzIGFuIGludHJvLCBhbmQgdGhlcmUncyBhIGRlbGF5LCB3ZSBuZWVkIHRvIGRvXG5cdFx0XHQvLyBhbiBpbml0aWFsIHRpY2sgYW5kL29yIGFwcGx5IENTUyBhbmltYXRpb24gaW1tZWRpYXRlbHlcblx0XHRcdGlmIChjc3MpIHtcblx0XHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRcdGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoYikgdGljaygwLCAxKTtcblx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocHJvZ3JhbSwgZHVyYXRpb24pO1xuXHRcdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBiLCAnc3RhcnQnKSk7XG5cdFx0XHRsb29wKChub3cpID0+IHtcblx0XHRcdFx0aWYgKHBlbmRpbmdfcHJvZ3JhbSAmJiBub3cgPiBwZW5kaW5nX3Byb2dyYW0uc3RhcnQpIHtcblx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBpbml0KHBlbmRpbmdfcHJvZ3JhbSwgZHVyYXRpb24pO1xuXHRcdFx0XHRcdHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdzdGFydCcpO1xuXHRcdFx0XHRcdGlmIChjc3MpIHtcblx0XHRcdFx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0XHRcdFx0YW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShcblx0XHRcdFx0XHRcdFx0bm9kZSxcblx0XHRcdFx0XHRcdFx0dCxcblx0XHRcdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtLmIsXG5cdFx0XHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbixcblx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0ZWFzaW5nLFxuXHRcdFx0XHRcdFx0XHRjb25maWcuY3NzXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocnVubmluZ19wcm9ncmFtKSB7XG5cdFx0XHRcdFx0aWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uZW5kKSB7XG5cdFx0XHRcdFx0XHR0aWNrKCh0ID0gcnVubmluZ19wcm9ncmFtLmIpLCAxIC0gdCk7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ2VuZCcpO1xuXHRcdFx0XHRcdFx0aWYgKCFwZW5kaW5nX3Byb2dyYW0pIHtcblx0XHRcdFx0XHRcdFx0Ly8gd2UncmUgZG9uZVxuXHRcdFx0XHRcdFx0XHRpZiAocnVubmluZ19wcm9ncmFtLmIpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBpbnRybyDigJQgd2UgY2FuIHRpZHkgdXAgaW1tZWRpYXRlbHlcblx0XHRcdFx0XHRcdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBvdXRybyDigJQgbmVlZHMgdG8gYmUgY29vcmRpbmF0ZWRcblx0XHRcdFx0XHRcdFx0XHRpZiAoIS0tcnVubmluZ19wcm9ncmFtLmdyb3VwLnIpIHJ1bl9hbGwocnVubmluZ19wcm9ncmFtLmdyb3VwLmMpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5zdGFydCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcCA9IG5vdyAtIHJ1bm5pbmdfcHJvZ3JhbS5zdGFydDtcblx0XHRcdFx0XHRcdHQgPSBydW5uaW5nX3Byb2dyYW0uYSArIHJ1bm5pbmdfcHJvZ3JhbS5kICogZWFzaW5nKHAgLyBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24pO1xuXHRcdFx0XHRcdFx0dGljayh0LCAxIC0gdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAhIShydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHJ1bihiKSB7XG5cdFx0XHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdFx0XHR3YWl0KCkudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3Qgb3B0cyA9IHsgZGlyZWN0aW9uOiBiID8gJ2luJyA6ICdvdXQnIH07XG5cdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRzKTtcblx0XHRcdFx0XHRnbyhiKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRnbyhiKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGVuZCgpIHtcblx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0cnVubmluZ19wcm9ncmFtID0gcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0XHR9XG5cdH07XG59XG5cbi8qKiBAdHlwZWRlZiB7MX0gSU5UUk8gKi9cbi8qKiBAdHlwZWRlZiB7MH0gT1VUUk8gKi9cbi8qKiBAdHlwZWRlZiB7eyBkaXJlY3Rpb246ICdpbicgfCAnb3V0JyB8ICdib3RoJyB9fSBUcmFuc2l0aW9uT3B0aW9ucyAqL1xuLyoqIEB0eXBlZGVmIHsobm9kZTogRWxlbWVudCwgcGFyYW1zOiBhbnksIG9wdGlvbnM6IFRyYW5zaXRpb25PcHRpb25zKSA9PiBpbXBvcnQoJy4uL3RyYW5zaXRpb24vcHVibGljLmpzJykuVHJhbnNpdGlvbkNvbmZpZ30gVHJhbnNpdGlvbkZuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3V0cm9cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uW119IGNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBwXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQZW5kaW5nUHJvZ3JhbVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0XG4gKiBAcHJvcGVydHkge0lOVFJPfE9VVFJPfSBiXG4gKiBAcHJvcGVydHkge091dHJvfSBbZ3JvdXBdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQcm9ncmFtXG4gKiBAcHJvcGVydHkge251bWJlcn0gYVxuICogQHByb3BlcnR5IHtJTlRST3xPVVRST30gYlxuICogQHByb3BlcnR5IHsxfC0xfSBkXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGVuZFxuICogQHByb3BlcnR5IHtPdXRyb30gW2dyb3VwXVxuICovXG4iLCJpbXBvcnQgeyB0cmFuc2l0aW9uX2luLCB0cmFuc2l0aW9uX291dCB9IGZyb20gJy4vdHJhbnNpdGlvbnMuanMnO1xuaW1wb3J0IHsgcnVuX2FsbCB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG4vLyBnZW5lcmFsIGVhY2ggZnVuY3Rpb25zOlxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlX2FycmF5X2xpa2UoYXJyYXlfbGlrZV9vcl9pdGVyYXRvcikge1xuXHRyZXR1cm4gYXJyYXlfbGlrZV9vcl9pdGVyYXRvcj8ubGVuZ3RoICE9PSB1bmRlZmluZWRcblx0XHQ/IGFycmF5X2xpa2Vfb3JfaXRlcmF0b3Jcblx0XHQ6IEFycmF5LmZyb20oYXJyYXlfbGlrZV9vcl9pdGVyYXRvcik7XG59XG5cbi8vIGtleWVkIGVhY2ggZnVuY3Rpb25zOlxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmQoMSk7XG5cdGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0dHJhbnNpdGlvbl9vdXQoYmxvY2ssIDEsIDEsICgpID0+IHtcblx0XHRsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG5cdH0pO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZml4X2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0YmxvY2suZigpO1xuXHRkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmYoKTtcblx0b3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W119ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX2tleWVkX2VhY2goXG5cdG9sZF9ibG9ja3MsXG5cdGRpcnR5LFxuXHRnZXRfa2V5LFxuXHRkeW5hbWljLFxuXHRjdHgsXG5cdGxpc3QsXG5cdGxvb2t1cCxcblx0bm9kZSxcblx0ZGVzdHJveSxcblx0Y3JlYXRlX2VhY2hfYmxvY2ssXG5cdG5leHQsXG5cdGdldF9jb250ZXh0XG4pIHtcblx0bGV0IG8gPSBvbGRfYmxvY2tzLmxlbmd0aDtcblx0bGV0IG4gPSBsaXN0Lmxlbmd0aDtcblx0bGV0IGkgPSBvO1xuXHRjb25zdCBvbGRfaW5kZXhlcyA9IHt9O1xuXHR3aGlsZSAoaS0tKSBvbGRfaW5kZXhlc1tvbGRfYmxvY2tzW2ldLmtleV0gPSBpO1xuXHRjb25zdCBuZXdfYmxvY2tzID0gW107XG5cdGNvbnN0IG5ld19sb29rdXAgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IGRlbHRhcyA9IG5ldyBNYXAoKTtcblx0Y29uc3QgdXBkYXRlcyA9IFtdO1xuXHRpID0gbjtcblx0d2hpbGUgKGktLSkge1xuXHRcdGNvbnN0IGNoaWxkX2N0eCA9IGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSk7XG5cdFx0Y29uc3Qga2V5ID0gZ2V0X2tleShjaGlsZF9jdHgpO1xuXHRcdGxldCBibG9jayA9IGxvb2t1cC5nZXQoa2V5KTtcblx0XHRpZiAoIWJsb2NrKSB7XG5cdFx0XHRibG9jayA9IGNyZWF0ZV9lYWNoX2Jsb2NrKGtleSwgY2hpbGRfY3R4KTtcblx0XHRcdGJsb2NrLmMoKTtcblx0XHR9IGVsc2UgaWYgKGR5bmFtaWMpIHtcblx0XHRcdC8vIGRlZmVyIHVwZGF0ZXMgdW50aWwgYWxsIHRoZSBET00gc2h1ZmZsaW5nIGlzIGRvbmVcblx0XHRcdHVwZGF0ZXMucHVzaCgoKSA9PiBibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpKTtcblx0XHR9XG5cdFx0bmV3X2xvb2t1cC5zZXQoa2V5LCAobmV3X2Jsb2Nrc1tpXSA9IGJsb2NrKSk7XG5cdFx0aWYgKGtleSBpbiBvbGRfaW5kZXhlcykgZGVsdGFzLnNldChrZXksIE1hdGguYWJzKGkgLSBvbGRfaW5kZXhlc1trZXldKSk7XG5cdH1cblx0Y29uc3Qgd2lsbF9tb3ZlID0gbmV3IFNldCgpO1xuXHRjb25zdCBkaWRfbW92ZSA9IG5ldyBTZXQoKTtcblx0LyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBpbnNlcnQoYmxvY2spIHtcblx0XHR0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcblx0XHRibG9jay5tKG5vZGUsIG5leHQpO1xuXHRcdGxvb2t1cC5zZXQoYmxvY2sua2V5LCBibG9jayk7XG5cdFx0bmV4dCA9IGJsb2NrLmZpcnN0O1xuXHRcdG4tLTtcblx0fVxuXHR3aGlsZSAobyAmJiBuKSB7XG5cdFx0Y29uc3QgbmV3X2Jsb2NrID0gbmV3X2Jsb2Nrc1tuIC0gMV07XG5cdFx0Y29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvIC0gMV07XG5cdFx0Y29uc3QgbmV3X2tleSA9IG5ld19ibG9jay5rZXk7XG5cdFx0Y29uc3Qgb2xkX2tleSA9IG9sZF9ibG9jay5rZXk7XG5cdFx0aWYgKG5ld19ibG9jayA9PT0gb2xkX2Jsb2NrKSB7XG5cdFx0XHQvLyBkbyBub3RoaW5nXG5cdFx0XHRuZXh0ID0gbmV3X2Jsb2NrLmZpcnN0O1xuXHRcdFx0by0tO1xuXHRcdFx0bi0tO1xuXHRcdH0gZWxzZSBpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9rZXkpKSB7XG5cdFx0XHQvLyByZW1vdmUgb2xkIGJsb2NrXG5cdFx0XHRkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcblx0XHRcdG8tLTtcblx0XHR9IGVsc2UgaWYgKCFsb29rdXAuaGFzKG5ld19rZXkpIHx8IHdpbGxfbW92ZS5oYXMobmV3X2tleSkpIHtcblx0XHRcdGluc2VydChuZXdfYmxvY2spO1xuXHRcdH0gZWxzZSBpZiAoZGlkX21vdmUuaGFzKG9sZF9rZXkpKSB7XG5cdFx0XHRvLS07XG5cdFx0fSBlbHNlIGlmIChkZWx0YXMuZ2V0KG5ld19rZXkpID4gZGVsdGFzLmdldChvbGRfa2V5KSkge1xuXHRcdFx0ZGlkX21vdmUuYWRkKG5ld19rZXkpO1xuXHRcdFx0aW5zZXJ0KG5ld19ibG9jayk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdpbGxfbW92ZS5hZGQob2xkX2tleSk7XG5cdFx0XHRvLS07XG5cdFx0fVxuXHR9XG5cdHdoaWxlIChvLS0pIHtcblx0XHRjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW29dO1xuXHRcdGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2Jsb2NrLmtleSkpIGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuXHR9XG5cdHdoaWxlIChuKSBpbnNlcnQobmV3X2Jsb2Nrc1tuIC0gMV0pO1xuXHRydW5fYWxsKHVwZGF0ZXMpO1xuXHRyZXR1cm4gbmV3X2Jsb2Nrcztcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlX2VhY2hfa2V5cyhjdHgsIGxpc3QsIGdldF9jb250ZXh0LCBnZXRfa2V5KSB7XG5cdGNvbnN0IGtleXMgPSBuZXcgTWFwKCk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdGNvbnN0IGtleSA9IGdldF9rZXkoZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKSk7XG5cdFx0aWYgKGtleXMuaGFzKGtleSkpIHtcblx0XHRcdGxldCB2YWx1ZSA9ICcnO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFsdWUgPSBgd2l0aCB2YWx1ZSAnJHtTdHJpbmcoa2V5KX0nIGA7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdC8vIGNhbid0IHN0cmluZ2lmeVxuXHRcdFx0fVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgQ2Fubm90IGhhdmUgZHVwbGljYXRlIGtleXMgaW4gYSBrZXllZCBlYWNoOiBLZXlzIGF0IGluZGV4ICR7a2V5cy5nZXQoXG5cdFx0XHRcdFx0a2V5XG5cdFx0XHRcdCl9IGFuZCAke2l9ICR7dmFsdWV9YXJlIGR1cGxpY2F0ZXNgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRrZXlzLnNldChrZXksIGkpO1xuXHR9XG59XG4iLCIvKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9zcHJlYWRfdXBkYXRlKGxldmVscywgdXBkYXRlcykge1xuXHRjb25zdCB1cGRhdGUgPSB7fTtcblx0Y29uc3QgdG9fbnVsbF9vdXQgPSB7fTtcblx0Y29uc3QgYWNjb3VudGVkX2ZvciA9IHsgJCRzY29wZTogMSB9O1xuXHRsZXQgaSA9IGxldmVscy5sZW5ndGg7XG5cdHdoaWxlIChpLS0pIHtcblx0XHRjb25zdCBvID0gbGV2ZWxzW2ldO1xuXHRcdGNvbnN0IG4gPSB1cGRhdGVzW2ldO1xuXHRcdGlmIChuKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG5cdFx0XHRcdGlmICghKGtleSBpbiBuKSkgdG9fbnVsbF9vdXRba2V5XSA9IDE7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiBuKSB7XG5cdFx0XHRcdGlmICghYWNjb3VudGVkX2ZvcltrZXldKSB7XG5cdFx0XHRcdFx0dXBkYXRlW2tleV0gPSBuW2tleV07XG5cdFx0XHRcdFx0YWNjb3VudGVkX2ZvcltrZXldID0gMTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bGV2ZWxzW2ldID0gbjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gbykge1xuXHRcdFx0XHRhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRmb3IgKGNvbnN0IGtleSBpbiB0b19udWxsX291dCkge1xuXHRcdGlmICghKGtleSBpbiB1cGRhdGUpKSB1cGRhdGVba2V5XSA9IHVuZGVmaW5lZDtcblx0fVxuXHRyZXR1cm4gdXBkYXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3NwcmVhZF9vYmplY3Qoc3ByZWFkX3Byb3BzKSB7XG5cdHJldHVybiB0eXBlb2Ygc3ByZWFkX3Byb3BzID09PSAnb2JqZWN0JyAmJiBzcHJlYWRfcHJvcHMgIT09IG51bGwgPyBzcHJlYWRfcHJvcHMgOiB7fTtcbn1cbiIsImltcG9ydCB7XG5cdGFkZF9yZW5kZXJfY2FsbGJhY2ssXG5cdGZsdXNoLFxuXHRmbHVzaF9yZW5kZXJfY2FsbGJhY2tzLFxuXHRzY2hlZHVsZV91cGRhdGUsXG5cdGRpcnR5X2NvbXBvbmVudHNcbn0gZnJvbSAnLi9zY2hlZHVsZXIuanMnO1xuaW1wb3J0IHsgY3VycmVudF9jb21wb25lbnQsIHNldF9jdXJyZW50X2NvbXBvbmVudCB9IGZyb20gJy4vbGlmZWN5Y2xlLmpzJztcbmltcG9ydCB7IGJsYW5rX29iamVjdCwgaXNfZW1wdHksIGlzX2Z1bmN0aW9uLCBydW4sIHJ1bl9hbGwsIG5vb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdGNoaWxkcmVuLFxuXHRkZXRhY2gsXG5cdHN0YXJ0X2h5ZHJhdGluZyxcblx0ZW5kX2h5ZHJhdGluZyxcblx0Z2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyxcblx0aW5zZXJ0LFxuXHRlbGVtZW50LFxuXHRhdHRyXG59IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IHRyYW5zaXRpb25faW4gfSBmcm9tICcuL3RyYW5zaXRpb25zLmpzJztcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuXHRjb25zdCBpbmRleCA9IGNvbXBvbmVudC4kJC5wcm9wc1tuYW1lXTtcblx0aWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcblx0XHRjb21wb25lbnQuJCQuYm91bmRbaW5kZXhdID0gY2FsbGJhY2s7XG5cdFx0Y2FsbGJhY2soY29tcG9uZW50LiQkLmN0eFtpbmRleF0pO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfY29tcG9uZW50KGJsb2NrKSB7XG5cdGJsb2NrICYmIGJsb2NrLmMoKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2NvbXBvbmVudChibG9jaywgcGFyZW50X25vZGVzKSB7XG5cdGJsb2NrICYmIGJsb2NrLmwocGFyZW50X25vZGVzKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yKSB7XG5cdGNvbnN0IHsgZnJhZ21lbnQsIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuXHRmcmFnbWVudCAmJiBmcmFnbWVudC5tKHRhcmdldCwgYW5jaG9yKTtcblx0Ly8gb25Nb3VudCBoYXBwZW5zIGJlZm9yZSB0aGUgaW5pdGlhbCBhZnRlclVwZGF0ZVxuXHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IHtcblx0XHRjb25zdCBuZXdfb25fZGVzdHJveSA9IGNvbXBvbmVudC4kJC5vbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuXHRcdC8vIGlmIHRoZSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseVxuXHRcdC8vIGl0IHdpbGwgdXBkYXRlIHRoZSBgJCQub25fZGVzdHJveWAgcmVmZXJlbmNlIHRvIGBudWxsYC5cblx0XHQvLyB0aGUgZGVzdHJ1Y3R1cmVkIG9uX2Rlc3Ryb3kgbWF5IHN0aWxsIHJlZmVyZW5jZSB0byB0aGUgb2xkIGFycmF5XG5cdFx0aWYgKGNvbXBvbmVudC4kJC5vbl9kZXN0cm95KSB7XG5cdFx0XHRjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKC4uLm5ld19vbl9kZXN0cm95KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gRWRnZSBjYXNlIC0gY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHksXG5cdFx0XHQvLyBtb3N0IGxpa2VseSBhcyBhIHJlc3VsdCBvZiBhIGJpbmRpbmcgaW5pdGlhbGlzaW5nXG5cdFx0XHRydW5fYWxsKG5ld19vbl9kZXN0cm95KTtcblx0XHR9XG5cdFx0Y29tcG9uZW50LiQkLm9uX21vdW50ID0gW107XG5cdH0pO1xuXHRhZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfY29tcG9uZW50KGNvbXBvbmVudCwgZGV0YWNoaW5nKSB7XG5cdGNvbnN0ICQkID0gY29tcG9uZW50LiQkO1xuXHRpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcblx0XHRmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKCQkLmFmdGVyX3VwZGF0ZSk7XG5cdFx0cnVuX2FsbCgkJC5vbl9kZXN0cm95KTtcblx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5kKGRldGFjaGluZyk7XG5cdFx0Ly8gVE9ETyBudWxsIG91dCBvdGhlciByZWZzLCBpbmNsdWRpbmcgY29tcG9uZW50LiQkIChidXQgbmVlZCB0b1xuXHRcdC8vIHByZXNlcnZlIGZpbmFsIHN0YXRlPylcblx0XHQkJC5vbl9kZXN0cm95ID0gJCQuZnJhZ21lbnQgPSBudWxsO1xuXHRcdCQkLmN0eCA9IFtdO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmZ1bmN0aW9uIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKSB7XG5cdGlmIChjb21wb25lbnQuJCQuZGlydHlbMF0gPT09IC0xKSB7XG5cdFx0ZGlydHlfY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG5cdFx0c2NoZWR1bGVfdXBkYXRlKCk7XG5cdFx0Y29tcG9uZW50LiQkLmRpcnR5LmZpbGwoMCk7XG5cdH1cblx0Y29tcG9uZW50LiQkLmRpcnR5WyhpIC8gMzEpIHwgMF0gfD0gMSA8PCBpICUgMzE7XG59XG5cbi8vIFRPRE86IERvY3VtZW50IHRoZSBvdGhlciBwYXJhbXNcbi8qKlxuICogQHBhcmFtIHtTdmVsdGVDb21wb25lbnR9IGNvbXBvbmVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuQ29tcG9uZW50Q29uc3RydWN0b3JPcHRpb25zfSBvcHRpb25zXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vdXRpbHMuanMnKVsnbm90X2VxdWFsJ119IG5vdF9lcXVhbCBVc2VkIHRvIGNvbXBhcmUgcHJvcHMgYW5kIHN0YXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7KHRhcmdldDogRWxlbWVudCB8IFNoYWRvd1Jvb3QpID0+IHZvaWR9IFthcHBlbmRfc3R5bGVzXSBGdW5jdGlvbiB0aGF0IGFwcGVuZHMgc3R5bGVzIHRvIHRoZSBET00gd2hlbiB0aGUgY29tcG9uZW50IGlzIGZpcnN0IGluaXRpYWxpc2VkLlxuICogVGhpcyB3aWxsIGJlIHRoZSBgYWRkX2Nzc2AgZnVuY3Rpb24gZnJvbSB0aGUgY29tcGlsZWQgY29tcG9uZW50LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdChcblx0Y29tcG9uZW50LFxuXHRvcHRpb25zLFxuXHRpbnN0YW5jZSxcblx0Y3JlYXRlX2ZyYWdtZW50LFxuXHRub3RfZXF1YWwsXG5cdHByb3BzLFxuXHRhcHBlbmRfc3R5bGVzID0gbnVsbCxcblx0ZGlydHkgPSBbLTFdXG4pIHtcblx0Y29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuXHRzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlQkJH0gKi9cblx0Y29uc3QgJCQgPSAoY29tcG9uZW50LiQkID0ge1xuXHRcdGZyYWdtZW50OiBudWxsLFxuXHRcdGN0eDogW10sXG5cdFx0Ly8gc3RhdGVcblx0XHRwcm9wcyxcblx0XHR1cGRhdGU6IG5vb3AsXG5cdFx0bm90X2VxdWFsLFxuXHRcdGJvdW5kOiBibGFua19vYmplY3QoKSxcblx0XHQvLyBsaWZlY3ljbGVcblx0XHRvbl9tb3VudDogW10sXG5cdFx0b25fZGVzdHJveTogW10sXG5cdFx0b25fZGlzY29ubmVjdDogW10sXG5cdFx0YmVmb3JlX3VwZGF0ZTogW10sXG5cdFx0YWZ0ZXJfdXBkYXRlOiBbXSxcblx0XHRjb250ZXh0OiBuZXcgTWFwKG9wdGlvbnMuY29udGV4dCB8fCAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSksXG5cdFx0Ly8gZXZlcnl0aGluZyBlbHNlXG5cdFx0Y2FsbGJhY2tzOiBibGFua19vYmplY3QoKSxcblx0XHRkaXJ0eSxcblx0XHRza2lwX2JvdW5kOiBmYWxzZSxcblx0XHRyb290OiBvcHRpb25zLnRhcmdldCB8fCBwYXJlbnRfY29tcG9uZW50LiQkLnJvb3Rcblx0fSk7XG5cdGFwcGVuZF9zdHlsZXMgJiYgYXBwZW5kX3N0eWxlcygkJC5yb290KTtcblx0bGV0IHJlYWR5ID0gZmFsc2U7XG5cdCQkLmN0eCA9IGluc3RhbmNlXG5cdFx0PyBpbnN0YW5jZShjb21wb25lbnQsIG9wdGlvbnMucHJvcHMgfHwge30sIChpLCByZXQsIC4uLnJlc3QpID0+IHtcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSByZXN0Lmxlbmd0aCA/IHJlc3RbMF0gOiByZXQ7XG5cdFx0XHRcdGlmICgkJC5jdHggJiYgbm90X2VxdWFsKCQkLmN0eFtpXSwgKCQkLmN0eFtpXSA9IHZhbHVlKSkpIHtcblx0XHRcdFx0XHRpZiAoISQkLnNraXBfYm91bmQgJiYgJCQuYm91bmRbaV0pICQkLmJvdW5kW2ldKHZhbHVlKTtcblx0XHRcdFx0XHRpZiAocmVhZHkpIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdCAgfSlcblx0XHQ6IFtdO1xuXHQkJC51cGRhdGUoKTtcblx0cmVhZHkgPSB0cnVlO1xuXHRydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuXHQvLyBgZmFsc2VgIGFzIGEgc3BlY2lhbCBjYXNlIG9mIG5vIERPTSBjb21wb25lbnRcblx0JCQuZnJhZ21lbnQgPSBjcmVhdGVfZnJhZ21lbnQgPyBjcmVhdGVfZnJhZ21lbnQoJCQuY3R4KSA6IGZhbHNlO1xuXHRpZiAob3B0aW9ucy50YXJnZXQpIHtcblx0XHRpZiAob3B0aW9ucy5oeWRyYXRlKSB7XG5cdFx0XHRzdGFydF9oeWRyYXRpbmcoKTtcblx0XHRcdC8vIFRPRE86IHdoYXQgaXMgdGhlIGNvcnJlY3QgdHlwZSBoZXJlP1xuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0Y29uc3Qgbm9kZXMgPSBjaGlsZHJlbihvcHRpb25zLnRhcmdldCk7XG5cdFx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5sKG5vZGVzKTtcblx0XHRcdG5vZGVzLmZvckVhY2goZGV0YWNoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cblx0XHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmMoKTtcblx0XHR9XG5cdFx0aWYgKG9wdGlvbnMuaW50cm8pIHRyYW5zaXRpb25faW4oY29tcG9uZW50LiQkLmZyYWdtZW50KTtcblx0XHRtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zLnRhcmdldCwgb3B0aW9ucy5hbmNob3IpO1xuXHRcdGVuZF9oeWRyYXRpbmcoKTtcblx0XHRmbHVzaCgpO1xuXHR9XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbn1cblxuZXhwb3J0IGxldCBTdmVsdGVFbGVtZW50O1xuXG5pZiAodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG5cdFN2ZWx0ZUVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcblx0XHQvKiogVGhlIFN2ZWx0ZSBjb21wb25lbnQgY29uc3RydWN0b3IgKi9cblx0XHQkJGN0b3I7XG5cdFx0LyoqIFNsb3RzICovXG5cdFx0JCRzO1xuXHRcdC8qKiBUaGUgU3ZlbHRlIGNvbXBvbmVudCBpbnN0YW5jZSAqL1xuXHRcdCQkYztcblx0XHQvKiogV2hldGhlciBvciBub3QgdGhlIGN1c3RvbSBlbGVtZW50IGlzIGNvbm5lY3RlZCAqL1xuXHRcdCQkY24gPSBmYWxzZTtcblx0XHQvKiogQ29tcG9uZW50IHByb3BzIGRhdGEgKi9cblx0XHQkJGQgPSB7fTtcblx0XHQvKiogYHRydWVgIGlmIGN1cnJlbnRseSBpbiB0aGUgcHJvY2VzcyBvZiByZWZsZWN0aW5nIGNvbXBvbmVudCBwcm9wcyBiYWNrIHRvIGF0dHJpYnV0ZXMgKi9cblx0XHQkJHIgPSBmYWxzZTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvbj59IFByb3BzIGRlZmluaXRpb24gKG5hbWUsIHJlZmxlY3RlZCwgdHlwZSBldGMpICovXG5cdFx0JCRwX2QgPSB7fTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEZ1bmN0aW9uW10+fSBFdmVudCBsaXN0ZW5lcnMgKi9cblx0XHQkJGwgPSB7fTtcblx0XHQvKiogQHR5cGUge01hcDxGdW5jdGlvbiwgRnVuY3Rpb24+fSBFdmVudCBsaXN0ZW5lciB1bnN1YnNjcmliZSBmdW5jdGlvbnMgKi9cblx0XHQkJGxfdSA9IG5ldyBNYXAoKTtcblxuXHRcdGNvbnN0cnVjdG9yKCQkY29tcG9uZW50Q3RvciwgJCRzbG90cywgdXNlX3NoYWRvd19kb20pIHtcblx0XHRcdHN1cGVyKCk7XG5cdFx0XHR0aGlzLiQkY3RvciA9ICQkY29tcG9uZW50Q3Rvcjtcblx0XHRcdHRoaXMuJCRzID0gJCRzbG90cztcblx0XHRcdGlmICh1c2Vfc2hhZG93X2RvbSkge1xuXHRcdFx0XHR0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG5cdFx0XHQvLyBXZSBjYW4ndCBkZXRlcm1pbmUgdXBmcm9udCBpZiB0aGUgZXZlbnQgaXMgYSBjdXN0b20gZXZlbnQgb3Igbm90LCBzbyB3ZSBoYXZlIHRvXG5cdFx0XHQvLyBsaXN0ZW4gdG8gYm90aC4gSWYgc29tZW9uZSB1c2VzIGEgY3VzdG9tIGV2ZW50IHdpdGggdGhlIHNhbWUgbmFtZSBhcyBhIHJlZ3VsYXJcblx0XHRcdC8vIGJyb3dzZXIgZXZlbnQsIHRoaXMgZmlyZXMgdHdpY2UgLSB3ZSBjYW4ndCBhdm9pZCB0aGF0LlxuXHRcdFx0dGhpcy4kJGxbdHlwZV0gPSB0aGlzLiQkbFt0eXBlXSB8fCBbXTtcblx0XHRcdHRoaXMuJCRsW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0dGhpcy4kJGxfdS5zZXQobGlzdGVuZXIsIHVuc3ViKTtcblx0XHRcdH1cblx0XHRcdHN1cGVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcblx0XHRcdHN1cGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGxfdS5nZXQobGlzdGVuZXIpO1xuXHRcdFx0XHRpZiAodW5zdWIpIHtcblx0XHRcdFx0XHR1bnN1YigpO1xuXHRcdFx0XHRcdHRoaXMuJCRsX3UuZGVsZXRlKGxpc3RlbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuXHRcdFx0dGhpcy4kJGNuID0gdHJ1ZTtcblx0XHRcdGlmICghdGhpcy4kJGMpIHtcblx0XHRcdFx0Ly8gV2Ugd2FpdCBvbmUgdGljayB0byBsZXQgcG9zc2libGUgY2hpbGQgc2xvdCBlbGVtZW50cyBiZSBjcmVhdGVkL21vdW50ZWRcblx0XHRcdFx0YXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0XHRcdGlmICghdGhpcy4kJGNuKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIGNyZWF0ZV9zbG90KG5hbWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0XHRcdFx0bGV0IG5vZGU7XG5cdFx0XHRcdFx0XHRjb25zdCBvYmogPSB7XG5cdFx0XHRcdFx0XHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbWVudCgnc2xvdCcpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChuYW1lICE9PSAnZGVmYXVsdCcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGF0dHIobm9kZSwgJ25hbWUnLCBuYW1lKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdFx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXRcblx0XHRcdFx0XHRcdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW2FuY2hvcl1cblx0XHRcdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0XHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0aW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkZXRhY2gobm9kZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9iajtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0ICQkc2xvdHMgPSB7fTtcblx0XHRcdFx0Y29uc3QgZXhpc3Rpbmdfc2xvdHMgPSBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKHRoaXMpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy4kJHMpIHtcblx0XHRcdFx0XHRpZiAobmFtZSBpbiBleGlzdGluZ19zbG90cykge1xuXHRcdFx0XHRcdFx0JCRzbG90c1tuYW1lXSA9IFtjcmVhdGVfc2xvdChuYW1lKV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xuXHRcdFx0XHRcdC8vIHRoaXMuJCRkYXRhIHRha2VzIHByZWNlZGVuY2Ugb3ZlciB0aGlzLmF0dHJpYnV0ZXNcblx0XHRcdFx0XHRjb25zdCBuYW1lID0gdGhpcy4kJGdfcChhdHRyaWJ1dGUubmFtZSk7XG5cdFx0XHRcdFx0aWYgKCEobmFtZSBpbiB0aGlzLiQkZCkpIHtcblx0XHRcdFx0XHRcdHRoaXMuJCRkW25hbWVdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKG5hbWUsIGF0dHJpYnV0ZS52YWx1ZSwgdGhpcy4kJHBfZCwgJ3RvUHJvcCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLiQkYyA9IG5ldyB0aGlzLiQkY3Rvcih7XG5cdFx0XHRcdFx0dGFyZ2V0OiB0aGlzLnNoYWRvd1Jvb3QgfHwgdGhpcyxcblx0XHRcdFx0XHRwcm9wczoge1xuXHRcdFx0XHRcdFx0Li4udGhpcy4kJGQsXG5cdFx0XHRcdFx0XHQkJHNsb3RzLFxuXHRcdFx0XHRcdFx0JCRzY29wZToge1xuXHRcdFx0XHRcdFx0XHRjdHg6IFtdXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBSZWZsZWN0IGNvbXBvbmVudCBwcm9wcyBhcyBhdHRyaWJ1dGVzXG5cdFx0XHRcdGNvbnN0IHJlZmxlY3RfYXR0cmlidXRlcyA9ICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLiQkciA9IHRydWU7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy4kJHBfZCkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSA9IHRoaXMuJCRjLiQkLmN0eFt0aGlzLiQkYy4kJC5wcm9wc1trZXldXTtcblx0XHRcdFx0XHRcdGlmICh0aGlzLiQkcF9kW2tleV0ucmVmbGVjdCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBhdHRyaWJ1dGVfdmFsdWUgPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUoXG5cdFx0XHRcdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuJCRkW2tleV0sXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4kJHBfZCxcblx0XHRcdFx0XHRcdFx0XHQndG9BdHRyaWJ1dGUnXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdGlmIChhdHRyaWJ1dGVfdmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlQXR0cmlidXRlKHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgfHwga2V5KTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSh0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlIHx8IGtleSwgYXR0cmlidXRlX3ZhbHVlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLiQkciA9IGZhbHNlO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR0aGlzLiQkYy4kJC5hZnRlcl91cGRhdGUucHVzaChyZWZsZWN0X2F0dHJpYnV0ZXMpO1xuXHRcdFx0XHRyZWZsZWN0X2F0dHJpYnV0ZXMoKTsgLy8gb25jZSBpbml0aWFsbHkgYmVjYXVzZSBhZnRlcl91cGRhdGUgaXMgYWRkZWQgdG9vIGxhdGUgZm9yIGZpcnN0IHJlbmRlclxuXG5cdFx0XHRcdGZvciAoY29uc3QgdHlwZSBpbiB0aGlzLiQkbCkge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy4kJGxbdHlwZV0pIHtcblx0XHRcdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0XHRcdHRoaXMuJCRsX3Uuc2V0KGxpc3RlbmVyLCB1bnN1Yik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuJCRsID0ge307XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gV2UgZG9uJ3QgbmVlZCB0aGlzIHdoZW4gd29ya2luZyB3aXRoaW4gU3ZlbHRlIGNvZGUsIGJ1dCBmb3IgY29tcGF0aWJpbGl0eSBvZiBwZW9wbGUgdXNpbmcgdGhpcyBvdXRzaWRlIG9mIFN2ZWx0ZVxuXHRcdC8vIGFuZCBzZXR0aW5nIGF0dHJpYnV0ZXMgdGhyb3VnaCBzZXRBdHRyaWJ1dGUgZXRjLCB0aGlzIGlzIGhlbHBmdWxcblx0XHRhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ciwgX29sZFZhbHVlLCBuZXdWYWx1ZSkge1xuXHRcdFx0aWYgKHRoaXMuJCRyKSByZXR1cm47XG5cdFx0XHRhdHRyID0gdGhpcy4kJGdfcChhdHRyKTtcblx0XHRcdHRoaXMuJCRkW2F0dHJdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKGF0dHIsIG5ld1ZhbHVlLCB0aGlzLiQkcF9kLCAndG9Qcm9wJyk7XG5cdFx0XHR0aGlzLiQkYz8uJHNldCh7IFthdHRyXTogdGhpcy4kJGRbYXR0cl0gfSk7XG5cdFx0fVxuXG5cdFx0ZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cdFx0XHR0aGlzLiQkY24gPSBmYWxzZTtcblx0XHRcdC8vIEluIGEgbWljcm90YXNrLCBiZWNhdXNlIHRoaXMgY291bGQgYmUgYSBtb3ZlIHdpdGhpbiB0aGUgRE9NXG5cdFx0XHRQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcblx0XHRcdFx0aWYgKCF0aGlzLiQkY24pIHtcblx0XHRcdFx0XHR0aGlzLiQkYy4kZGVzdHJveSgpO1xuXHRcdFx0XHRcdHRoaXMuJCRjID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQkJGdfcChhdHRyaWJ1dGVfbmFtZSkge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0T2JqZWN0LmtleXModGhpcy4kJHBfZCkuZmluZChcblx0XHRcdFx0XHQoa2V5KSA9PlxuXHRcdFx0XHRcdFx0dGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSA9PT0gYXR0cmlidXRlX25hbWUgfHxcblx0XHRcdFx0XHRcdCghdGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gYXR0cmlidXRlX25hbWUpXG5cdFx0XHRcdCkgfHwgYXR0cmlidXRlX25hbWVcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvblxuICogQHBhcmFtIHsndG9BdHRyaWJ1dGUnIHwgJ3RvUHJvcCd9IFt0cmFuc2Zvcm1dXG4gKi9cbmZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShwcm9wLCB2YWx1ZSwgcHJvcHNfZGVmaW5pdGlvbiwgdHJhbnNmb3JtKSB7XG5cdGNvbnN0IHR5cGUgPSBwcm9wc19kZWZpbml0aW9uW3Byb3BdPy50eXBlO1xuXHR2YWx1ZSA9IHR5cGUgPT09ICdCb29sZWFuJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJyA/IHZhbHVlICE9IG51bGwgOiB2YWx1ZTtcblx0aWYgKCF0cmFuc2Zvcm0gfHwgIXByb3BzX2RlZmluaXRpb25bcHJvcF0pIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0gZWxzZSBpZiAodHJhbnNmb3JtID09PSAndG9BdHRyaWJ1dGUnKSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID8gJycgOiBudWxsO1xuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBudWxsIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdGNhc2UgJ0FycmF5Jzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlICYmIEpTT04ucGFyc2UodmFsdWUpO1xuXHRcdFx0Y2FzZSAnQm9vbGVhbic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTsgLy8gY29udmVyc2lvbiBhbHJlYWR5IGhhbmRsZWQgYWJvdmVcblx0XHRcdGNhc2UgJ051bWJlcic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSAhPSBudWxsID8gK3ZhbHVlIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKlxuICogVHVybiBhIFN2ZWx0ZSBjb21wb25lbnQgaW50byBhIGN1c3RvbSBlbGVtZW50LlxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuQ29tcG9uZW50VHlwZX0gQ29tcG9uZW50ICBBIFN2ZWx0ZSBjb21wb25lbnQgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvbiAgVGhlIHByb3BzIHRvIG9ic2VydmVcbiAqIEBwYXJhbSB7c3RyaW5nW119IHNsb3RzICBUaGUgc2xvdHMgdG8gY3JlYXRlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhY2Nlc3NvcnMgIE90aGVyIGFjY2Vzc29ycyBiZXNpZGVzIHRoZSBvbmVzIGZvciBwcm9wcyB0aGUgY29tcG9uZW50IGhhc1xuICogQHBhcmFtIHtib29sZWFufSB1c2Vfc2hhZG93X2RvbSAgV2hldGhlciB0byB1c2Ugc2hhZG93IERPTVxuICogQHBhcmFtIHsoY2U6IG5ldyAoKSA9PiBIVE1MRWxlbWVudCkgPT4gbmV3ICgpID0+IEhUTUxFbGVtZW50fSBbZXh0ZW5kXVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2N1c3RvbV9lbGVtZW50KFxuXHRDb21wb25lbnQsXG5cdHByb3BzX2RlZmluaXRpb24sXG5cdHNsb3RzLFxuXHRhY2Nlc3NvcnMsXG5cdHVzZV9zaGFkb3dfZG9tLFxuXHRleHRlbmRcbikge1xuXHRsZXQgQ2xhc3MgPSBjbGFzcyBleHRlbmRzIFN2ZWx0ZUVsZW1lbnQge1xuXHRcdGNvbnN0cnVjdG9yKCkge1xuXHRcdFx0c3VwZXIoQ29tcG9uZW50LCBzbG90cywgdXNlX3NoYWRvd19kb20pO1xuXHRcdFx0dGhpcy4kJHBfZCA9IHByb3BzX2RlZmluaXRpb247XG5cdFx0fVxuXHRcdHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuXHRcdFx0cmV0dXJuIE9iamVjdC5rZXlzKHByb3BzX2RlZmluaXRpb24pLm1hcCgoa2V5KSA9PlxuXHRcdFx0XHQocHJvcHNfZGVmaW5pdGlvbltrZXldLmF0dHJpYnV0ZSB8fCBrZXkpLnRvTG93ZXJDYXNlKClcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xuXHRPYmplY3Qua2V5cyhwcm9wc19kZWZpbml0aW9uKS5mb3JFYWNoKChwcm9wKSA9PiB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgcHJvcCwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy4kJGMgJiYgcHJvcCBpbiB0aGlzLiQkYyA/IHRoaXMuJCRjW3Byb3BdIDogdGhpcy4kJGRbcHJvcF07XG5cdFx0XHR9LFxuXHRcdFx0c2V0KHZhbHVlKSB7XG5cdFx0XHRcdHZhbHVlID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKHByb3AsIHZhbHVlLCBwcm9wc19kZWZpbml0aW9uKTtcblx0XHRcdFx0dGhpcy4kJGRbcHJvcF0gPSB2YWx1ZTtcblx0XHRcdFx0dGhpcy4kJGM/LiRzZXQoeyBbcHJvcF06IHZhbHVlIH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0YWNjZXNzb3JzLmZvckVhY2goKGFjY2Vzc29yKSA9PiB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgYWNjZXNzb3IsIHtcblx0XHRcdGdldCgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuJCRjPy5bYWNjZXNzb3JdO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0aWYgKGV4dGVuZCkge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgLSBhc3NpZ25pbmcgaGVyZSBpcyBmaW5lXG5cdFx0Q2xhc3MgPSBleHRlbmQoQ2xhc3MpO1xuXHR9XG5cdENvbXBvbmVudC5lbGVtZW50ID0gLyoqIEB0eXBlIHthbnl9ICovIChDbGFzcyk7XG5cdHJldHVybiBDbGFzcztcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBTdmVsdGUgY29tcG9uZW50cy4gVXNlZCB3aGVuIGRldj1mYWxzZS5cbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtQcm9wcz1hbnldXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudHM9YW55XVxuICovXG5leHBvcnQgY2xhc3MgU3ZlbHRlQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqICMjIyBQUklWQVRFIEFQSVxuXHQgKlxuXHQgKiBEbyBub3QgdXNlLCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHthbnl9XG5cdCAqL1xuXHQkJCA9IHVuZGVmaW5lZDtcblx0LyoqXG5cdCAqICMjIyBQUklWQVRFIEFQSVxuXHQgKlxuXHQgKiBEbyBub3QgdXNlLCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHthbnl9XG5cdCAqL1xuXHQkJHNldCA9IHVuZGVmaW5lZDtcblxuXHQvKiogQHJldHVybnMge3ZvaWR9ICovXG5cdCRkZXN0cm95KCkge1xuXHRcdGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuXHRcdHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuXHR9XG5cblx0LyoqXG5cdCAqIEB0ZW1wbGF0ZSB7RXh0cmFjdDxrZXlvZiBFdmVudHMsIHN0cmluZz59IEtcblx0ICogQHBhcmFtIHtLfSB0eXBlXG5cdCAqIEBwYXJhbSB7KChlOiBFdmVudHNbS10pID0+IHZvaWQpIHwgbnVsbCB8IHVuZGVmaW5lZH0gY2FsbGJhY2tcblx0ICogQHJldHVybnMgeygpID0+IHZvaWR9XG5cdCAqL1xuXHQkb24odHlwZSwgY2FsbGJhY2spIHtcblx0XHRpZiAoIWlzX2Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuXHRcdFx0cmV0dXJuIG5vb3A7XG5cdFx0fVxuXHRcdGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKTtcblx0XHRjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuXHRcdFx0aWYgKGluZGV4ICE9PSAtMSkgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1BhcnRpYWw8UHJvcHM+fSBwcm9wc1xuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdCRzZXQocHJvcHMpIHtcblx0XHRpZiAodGhpcy4kJHNldCAmJiAhaXNfZW1wdHkocHJvcHMpKSB7XG5cdFx0XHR0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuXHRcdFx0dGhpcy4kJHNldChwcm9wcyk7XG5cdFx0XHR0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXR0cmlidXRlXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmVmbGVjdF1cbiAqIEBwcm9wZXJ0eSB7J1N0cmluZyd8J0Jvb2xlYW4nfCdOdW1iZXInfCdBcnJheSd8J09iamVjdCd9IFt0eXBlXVxuICovXG4iLCIvLyBnZW5lcmF0ZWQgZHVyaW5nIHJlbGVhc2UsIGRvIG5vdCBtb2RpZnlcblxuLyoqXG4gKiBUaGUgY3VycmVudCB2ZXJzaW9uLCBhcyBzZXQgaW4gcGFja2FnZS5qc29uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1jb21waWxlciNzdmVsdGUtdmVyc2lvblxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC4yLjEnO1xuZXhwb3J0IGNvbnN0IFBVQkxJQ19WRVJTSU9OID0gJzQnO1xuIiwiaW1wb3J0IHsgUFVCTElDX1ZFUlNJT04gfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdmVyc2lvbi5qcyc7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcblx0Ly8gQHRzLWlnbm9yZVxuXHQod2luZG93Ll9fc3ZlbHRlIHx8ICh3aW5kb3cuX19zdmVsdGUgPSB7IHY6IG5ldyBTZXQoKSB9KSkudi5hZGQoUFVCTElDX1ZFUlNJT04pO1xuIiwiPHNjcmlwdD5cbiAgZXhwb3J0IGxldCB0aXRsZSA9IG51bGw7XG4gIGV4cG9ydCBsZXQgdmlld0JveDtcbjwvc2NyaXB0PlxuXG48c3R5bGU+XG4gIHN2ZyB7XG4gICAgc3Ryb2tlOiBjdXJyZW50Q29sb3I7XG4gICAgZmlsbDogY3VycmVudENvbG9yO1xuICAgIHN0cm9rZS13aWR0aDogMDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IGF1dG87XG4gICAgbWF4LWhlaWdodDogMTAwJTtcbiAgfSAgXG48L3N0eWxlPlxuXG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB7dmlld0JveH0+XG4gIHsjaWYgdGl0bGV9XG4gICAgPHRpdGxlPnt0aXRsZX08L3RpdGxlPlxuICB7L2lmfVxuICA8c2xvdCAvPlxuPC9zdmc+XG4iLCI8c2NyaXB0PlxuICAgICAgICBpbXBvcnQgSWNvbkJhc2UgZnJvbSAnLi4vY29tcG9uZW50cy9JY29uQmFzZS5zdmVsdGUnO1xuICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPEljb25CYXNlIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB7Li4uJCRwcm9wc30+XG4gICAgICAgICAgPHBhdGggZD1cIk0yLjAxIDIxTDIzIDEyIDIuMDEgMyAyIDEwbDE1IDItMTUgMnpcIiAvPlxuICAgICAgICA8L0ljb25CYXNlPlxuICAgICAgIiwiaW1wb3J0IHtcblx0cnVuX2FsbCxcblx0c3Vic2NyaWJlLFxuXHRub29wLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0aXNfZnVuY3Rpb24sXG5cdGdldF9zdG9yZV92YWx1ZVxufSBmcm9tICcuLi9pbnRlcm5hbC9pbmRleC5qcyc7XG5cbmNvbnN0IHN1YnNjcmliZXJfcXVldWUgPSBbXTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgYFJlYWRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjcmVhZGFibGVcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IFt2YWx1ZV0gaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3RhcnRTdG9wTm90aWZpZXI8VD59IFtzdGFydF1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkYWJsZSh2YWx1ZSwgc3RhcnQpIHtcblx0cmV0dXJuIHtcblx0XHRzdWJzY3JpYmU6IHdyaXRhYmxlKHZhbHVlLCBzdGFydCkuc3Vic2NyaWJlXG5cdH07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgYFdyaXRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyBib3RoIHVwZGF0aW5nIGFuZCByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjd3JpdGFibGVcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IFt2YWx1ZV0gaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3RhcnRTdG9wTm90aWZpZXI8VD59IFtzdGFydF1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuV3JpdGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQgPSBub29wKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlVuc3Vic2NyaWJlcn0gKi9cblx0bGV0IHN0b3A7XG5cdC8qKiBAdHlwZSB7U2V0PGltcG9ydCgnLi9wcml2YXRlLmpzJykuU3Vic2NyaWJlSW52YWxpZGF0ZVR1cGxlPFQ+Pn0gKi9cblx0Y29uc3Qgc3Vic2NyaWJlcnMgPSBuZXcgU2V0KCk7XG5cdC8qKiBAcGFyYW0ge1R9IG5ld192YWx1ZVxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIHNldChuZXdfdmFsdWUpIHtcblx0XHRpZiAoc2FmZV9ub3RfZXF1YWwodmFsdWUsIG5ld192YWx1ZSkpIHtcblx0XHRcdHZhbHVlID0gbmV3X3ZhbHVlO1xuXHRcdFx0aWYgKHN0b3ApIHtcblx0XHRcdFx0Ly8gc3RvcmUgaXMgcmVhZHlcblx0XHRcdFx0Y29uc3QgcnVuX3F1ZXVlID0gIXN1YnNjcmliZXJfcXVldWUubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHN1YnNjcmliZXIgb2Ygc3Vic2NyaWJlcnMpIHtcblx0XHRcdFx0XHRzdWJzY3JpYmVyWzFdKCk7XG5cdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZS5wdXNoKHN1YnNjcmliZXIsIHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocnVuX3F1ZXVlKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDsgaSArPSAyKSB7XG5cdFx0XHRcdFx0XHRzdWJzY3JpYmVyX3F1ZXVlW2ldWzBdKHN1YnNjcmliZXJfcXVldWVbaSArIDFdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGggPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlVwZGF0ZXI8VD59IGZuXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gdXBkYXRlKGZuKSB7XG5cdFx0c2V0KGZuKHZhbHVlKSk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3Vic2NyaWJlcjxUPn0gcnVuXG5cdCAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5JbnZhbGlkYXRvcjxUPn0gW2ludmFsaWRhdGVdXG5cdCAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuVW5zdWJzY3JpYmVyfVxuXHQgKi9cblx0ZnVuY3Rpb24gc3Vic2NyaWJlKHJ1biwgaW52YWxpZGF0ZSA9IG5vb3ApIHtcblx0XHQvKiogQHR5cGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuU3Vic2NyaWJlSW52YWxpZGF0ZVR1cGxlPFQ+fSAqL1xuXHRcdGNvbnN0IHN1YnNjcmliZXIgPSBbcnVuLCBpbnZhbGlkYXRlXTtcblx0XHRzdWJzY3JpYmVycy5hZGQoc3Vic2NyaWJlcik7XG5cdFx0aWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDEpIHtcblx0XHRcdHN0b3AgPSBzdGFydChzZXQsIHVwZGF0ZSkgfHwgbm9vcDtcblx0XHR9XG5cdFx0cnVuKHZhbHVlKTtcblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0c3Vic2NyaWJlcnMuZGVsZXRlKHN1YnNjcmliZXIpO1xuXHRcdFx0aWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDAgJiYgc3RvcCkge1xuXHRcdFx0XHRzdG9wKCk7XG5cdFx0XHRcdHN0b3AgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHsgc2V0LCB1cGRhdGUsIHN1YnNjcmliZSB9O1xufVxuXG4vKipcbiAqIERlcml2ZWQgdmFsdWUgc3RvcmUgYnkgc3luY2hyb25pemluZyBvbmUgb3IgbW9yZSByZWFkYWJsZSBzdG9yZXMgYW5kXG4gKiBhcHBseWluZyBhbiBhZ2dyZWdhdGlvbiBmdW5jdGlvbiBvdmVyIGl0cyBpbnB1dCB2YWx1ZXMuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2Rlcml2ZWRcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXN9IFNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSB7U30gc3RvcmVzIC0gaW5wdXQgc3RvcmVzXG4gKiBAcGFyYW0geyh2YWx1ZXM6IGltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzVmFsdWVzPFM+LCBzZXQ6ICh2YWx1ZTogVCkgPT4gdm9pZCwgdXBkYXRlOiAoZm46IGltcG9ydCgnLi9wdWJsaWMuanMnKS5VcGRhdGVyPFQ+KSA9PiB2b2lkKSA9PiBpbXBvcnQoJy4vcHVibGljLmpzJykuVW5zdWJzY3JpYmVyIHwgdm9pZH0gZm4gLSBmdW5jdGlvbiBjYWxsYmFjayB0aGF0IGFnZ3JlZ2F0ZXMgdGhlIHZhbHVlc1xuICogQHBhcmFtIHtUfSBbaW5pdGlhbF92YWx1ZV0gLSBpbml0aWFsIHZhbHVlXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5cbi8qKlxuICogRGVyaXZlZCB2YWx1ZSBzdG9yZSBieSBzeW5jaHJvbml6aW5nIG9uZSBvciBtb3JlIHJlYWRhYmxlIHN0b3JlcyBhbmRcbiAqIGFwcGx5aW5nIGFuIGFnZ3JlZ2F0aW9uIGZ1bmN0aW9uIG92ZXIgaXRzIGlucHV0IHZhbHVlcy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjZGVyaXZlZFxuICogQHRlbXBsYXRlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN0b3Jlc30gU1xuICogQHRlbXBsYXRlIFRcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtIHtTfSBzdG9yZXMgLSBpbnB1dCBzdG9yZXNcbiAqIEBwYXJhbSB7KHZhbHVlczogaW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXNWYWx1ZXM8Uz4pID0+IFR9IGZuIC0gZnVuY3Rpb24gY2FsbGJhY2sgdGhhdCBhZ2dyZWdhdGVzIHRoZSB2YWx1ZXNcbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdIC0gaW5pdGlhbCB2YWx1ZVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXN9IFNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1N9IHN0b3Jlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlZChzdG9yZXMsIGZuLCBpbml0aWFsX3ZhbHVlKSB7XG5cdGNvbnN0IHNpbmdsZSA9ICFBcnJheS5pc0FycmF5KHN0b3Jlcyk7XG5cdC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPGFueT4+fSAqL1xuXHRjb25zdCBzdG9yZXNfYXJyYXkgPSBzaW5nbGUgPyBbc3RvcmVzXSA6IHN0b3Jlcztcblx0aWYgKCFzdG9yZXNfYXJyYXkuZXZlcnkoQm9vbGVhbikpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2Rlcml2ZWQoKSBleHBlY3RzIHN0b3JlcyBhcyBpbnB1dCwgZ290IGEgZmFsc3kgdmFsdWUnKTtcblx0fVxuXHRjb25zdCBhdXRvID0gZm4ubGVuZ3RoIDwgMjtcblx0cmV0dXJuIHJlYWRhYmxlKGluaXRpYWxfdmFsdWUsIChzZXQsIHVwZGF0ZSkgPT4ge1xuXHRcdGxldCBzdGFydGVkID0gZmFsc2U7XG5cdFx0Y29uc3QgdmFsdWVzID0gW107XG5cdFx0bGV0IHBlbmRpbmcgPSAwO1xuXHRcdGxldCBjbGVhbnVwID0gbm9vcDtcblx0XHRjb25zdCBzeW5jID0gKCkgPT4ge1xuXHRcdFx0aWYgKHBlbmRpbmcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gZm4oc2luZ2xlID8gdmFsdWVzWzBdIDogdmFsdWVzLCBzZXQsIHVwZGF0ZSk7XG5cdFx0XHRpZiAoYXV0bykge1xuXHRcdFx0XHRzZXQocmVzdWx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsZWFudXAgPSBpc19mdW5jdGlvbihyZXN1bHQpID8gcmVzdWx0IDogbm9vcDtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGNvbnN0IHVuc3Vic2NyaWJlcnMgPSBzdG9yZXNfYXJyYXkubWFwKChzdG9yZSwgaSkgPT5cblx0XHRcdHN1YnNjcmliZShcblx0XHRcdFx0c3RvcmUsXG5cdFx0XHRcdCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHZhbHVlc1tpXSA9IHZhbHVlO1xuXHRcdFx0XHRcdHBlbmRpbmcgJj0gfigxIDw8IGkpO1xuXHRcdFx0XHRcdGlmIChzdGFydGVkKSB7XG5cdFx0XHRcdFx0XHRzeW5jKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0cGVuZGluZyB8PSAxIDw8IGk7XG5cdFx0XHRcdH1cblx0XHRcdClcblx0XHQpO1xuXHRcdHN0YXJ0ZWQgPSB0cnVlO1xuXHRcdHN5bmMoKTtcblx0XHRyZXR1cm4gZnVuY3Rpb24gc3RvcCgpIHtcblx0XHRcdHJ1bl9hbGwodW5zdWJzY3JpYmVycyk7XG5cdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHQvLyBXZSBuZWVkIHRvIHNldCB0aGlzIHRvIGZhbHNlIGJlY2F1c2UgY2FsbGJhY2tzIGNhbiBzdGlsbCBoYXBwZW4gZGVzcGl0ZSBoYXZpbmcgdW5zdWJzY3JpYmVkOlxuXHRcdFx0Ly8gQ2FsbGJhY2tzIG1pZ2h0IGFscmVhZHkgYmUgcGxhY2VkIGluIHRoZSBxdWV1ZSB3aGljaCBkb2Vzbid0IGtub3cgaXQgc2hvdWxkIG5vIGxvbmdlclxuXHRcdFx0Ly8gaW52b2tlIHRoaXMgZGVyaXZlZCBzdG9yZS5cblx0XHRcdHN0YXJ0ZWQgPSBmYWxzZTtcblx0XHR9O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBUYWtlcyBhIHN0b3JlIGFuZCByZXR1cm5zIGEgbmV3IG9uZSBkZXJpdmVkIGZyb20gdGhlIG9sZCBvbmUgdGhhdCBpcyByZWFkYWJsZS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjcmVhZG9ubHlcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn0gc3RvcmUgIC0gc3RvcmUgdG8gbWFrZSByZWFkb25seVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRvbmx5KHN0b3JlKSB7XG5cdHJldHVybiB7XG5cdFx0c3Vic2NyaWJlOiBzdG9yZS5zdWJzY3JpYmUuYmluZChzdG9yZSlcblx0fTtcbn1cblxuZXhwb3J0IHsgZ2V0X3N0b3JlX3ZhbHVlIGFzIGdldCB9O1xuIiwiZnVuY3Rpb24gUmV0cnlPcGVyYXRpb24odGltZW91dHMsIG9wdGlvbnMpIHtcbiAgLy8gQ29tcGF0aWJpbGl0eSBmb3IgdGhlIG9sZCAodGltZW91dHMsIHJldHJ5Rm9yZXZlcikgc2lnbmF0dXJlXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucyA9IHsgZm9yZXZlcjogb3B0aW9ucyB9O1xuICB9XG5cbiAgdGhpcy5fb3JpZ2luYWxUaW1lb3V0cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGltZW91dHMpKTtcbiAgdGhpcy5fdGltZW91dHMgPSB0aW1lb3V0cztcbiAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHRoaXMuX21heFJldHJ5VGltZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5tYXhSZXRyeVRpbWUgfHwgSW5maW5pdHk7XG4gIHRoaXMuX2ZuID0gbnVsbDtcbiAgdGhpcy5fZXJyb3JzID0gW107XG4gIHRoaXMuX2F0dGVtcHRzID0gMTtcbiAgdGhpcy5fb3BlcmF0aW9uVGltZW91dCA9IG51bGw7XG4gIHRoaXMuX29wZXJhdGlvblRpbWVvdXRDYiA9IG51bGw7XG4gIHRoaXMuX3RpbWVvdXQgPSBudWxsO1xuICB0aGlzLl9vcGVyYXRpb25TdGFydCA9IG51bGw7XG4gIHRoaXMuX3RpbWVyID0gbnVsbDtcblxuICBpZiAodGhpcy5fb3B0aW9ucy5mb3JldmVyKSB7XG4gICAgdGhpcy5fY2FjaGVkVGltZW91dHMgPSB0aGlzLl90aW1lb3V0cy5zbGljZSgwKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBSZXRyeU9wZXJhdGlvbjtcblxuUmV0cnlPcGVyYXRpb24ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2F0dGVtcHRzID0gMTtcbiAgdGhpcy5fdGltZW91dHMgPSB0aGlzLl9vcmlnaW5hbFRpbWVvdXRzLnNsaWNlKDApO1xufVxuXG5SZXRyeU9wZXJhdGlvbi5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5fdGltZW91dCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgfVxuICBpZiAodGhpcy5fdGltZXIpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICB9XG5cbiAgdGhpcy5fdGltZW91dHMgICAgICAgPSBbXTtcbiAgdGhpcy5fY2FjaGVkVGltZW91dHMgPSBudWxsO1xufTtcblxuUmV0cnlPcGVyYXRpb24ucHJvdG90eXBlLnJldHJ5ID0gZnVuY3Rpb24oZXJyKSB7XG4gIGlmICh0aGlzLl90aW1lb3V0KSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICB9XG5cbiAgaWYgKCFlcnIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGlmIChlcnIgJiYgY3VycmVudFRpbWUgLSB0aGlzLl9vcGVyYXRpb25TdGFydCA+PSB0aGlzLl9tYXhSZXRyeVRpbWUpIHtcbiAgICB0aGlzLl9lcnJvcnMucHVzaChlcnIpO1xuICAgIHRoaXMuX2Vycm9ycy51bnNoaWZ0KG5ldyBFcnJvcignUmV0cnlPcGVyYXRpb24gdGltZW91dCBvY2N1cnJlZCcpKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB0aGlzLl9lcnJvcnMucHVzaChlcnIpO1xuXG4gIHZhciB0aW1lb3V0ID0gdGhpcy5fdGltZW91dHMuc2hpZnQoKTtcbiAgaWYgKHRpbWVvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0aGlzLl9jYWNoZWRUaW1lb3V0cykge1xuICAgICAgLy8gcmV0cnkgZm9yZXZlciwgb25seSBrZWVwIGxhc3QgZXJyb3JcbiAgICAgIHRoaXMuX2Vycm9ycy5zcGxpY2UoMCwgdGhpcy5fZXJyb3JzLmxlbmd0aCAtIDEpO1xuICAgICAgdGltZW91dCA9IHRoaXMuX2NhY2hlZFRpbWVvdXRzLnNsaWNlKC0xKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIHNlbGYuX2F0dGVtcHRzKys7XG5cbiAgICBpZiAoc2VsZi5fb3BlcmF0aW9uVGltZW91dENiKSB7XG4gICAgICBzZWxmLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5fb3BlcmF0aW9uVGltZW91dENiKHNlbGYuX2F0dGVtcHRzKTtcbiAgICAgIH0sIHNlbGYuX29wZXJhdGlvblRpbWVvdXQpO1xuXG4gICAgICBpZiAoc2VsZi5fb3B0aW9ucy51bnJlZikge1xuICAgICAgICAgIHNlbGYuX3RpbWVvdXQudW5yZWYoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxmLl9mbihzZWxmLl9hdHRlbXB0cyk7XG4gIH0sIHRpbWVvdXQpO1xuXG4gIGlmICh0aGlzLl9vcHRpb25zLnVucmVmKSB7XG4gICAgICB0aGlzLl90aW1lci51bnJlZigpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5SZXRyeU9wZXJhdGlvbi5wcm90b3R5cGUuYXR0ZW1wdCA9IGZ1bmN0aW9uKGZuLCB0aW1lb3V0T3BzKSB7XG4gIHRoaXMuX2ZuID0gZm47XG5cbiAgaWYgKHRpbWVvdXRPcHMpIHtcbiAgICBpZiAodGltZW91dE9wcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLl9vcGVyYXRpb25UaW1lb3V0ID0gdGltZW91dE9wcy50aW1lb3V0O1xuICAgIH1cbiAgICBpZiAodGltZW91dE9wcy5jYikge1xuICAgICAgdGhpcy5fb3BlcmF0aW9uVGltZW91dENiID0gdGltZW91dE9wcy5jYjtcbiAgICB9XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmICh0aGlzLl9vcGVyYXRpb25UaW1lb3V0Q2IpIHtcbiAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuX29wZXJhdGlvblRpbWVvdXRDYigpO1xuICAgIH0sIHNlbGYuX29wZXJhdGlvblRpbWVvdXQpO1xuICB9XG5cbiAgdGhpcy5fb3BlcmF0aW9uU3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICB0aGlzLl9mbih0aGlzLl9hdHRlbXB0cyk7XG59O1xuXG5SZXRyeU9wZXJhdGlvbi5wcm90b3R5cGUudHJ5ID0gZnVuY3Rpb24oZm4pIHtcbiAgY29uc29sZS5sb2coJ1VzaW5nIFJldHJ5T3BlcmF0aW9uLnRyeSgpIGlzIGRlcHJlY2F0ZWQnKTtcbiAgdGhpcy5hdHRlbXB0KGZuKTtcbn07XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKGZuKSB7XG4gIGNvbnNvbGUubG9nKCdVc2luZyBSZXRyeU9wZXJhdGlvbi5zdGFydCgpIGlzIGRlcHJlY2F0ZWQnKTtcbiAgdGhpcy5hdHRlbXB0KGZuKTtcbn07XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5zdGFydCA9IFJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS50cnk7XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5lcnJvcnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX2Vycm9ycztcbn07XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5hdHRlbXB0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fYXR0ZW1wdHM7XG59O1xuXG5SZXRyeU9wZXJhdGlvbi5wcm90b3R5cGUubWFpbkVycm9yID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLl9lcnJvcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgY291bnRzID0ge307XG4gIHZhciBtYWluRXJyb3IgPSBudWxsO1xuICB2YXIgbWFpbkVycm9yQ291bnQgPSAwO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fZXJyb3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVycm9yID0gdGhpcy5fZXJyb3JzW2ldO1xuICAgIHZhciBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICB2YXIgY291bnQgPSAoY291bnRzW21lc3NhZ2VdIHx8IDApICsgMTtcblxuICAgIGNvdW50c1ttZXNzYWdlXSA9IGNvdW50O1xuXG4gICAgaWYgKGNvdW50ID49IG1haW5FcnJvckNvdW50KSB7XG4gICAgICBtYWluRXJyb3IgPSBlcnJvcjtcbiAgICAgIG1haW5FcnJvckNvdW50ID0gY291bnQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1haW5FcnJvcjtcbn07XG4iLCJ2YXIgUmV0cnlPcGVyYXRpb24gPSByZXF1aXJlKCcuL3JldHJ5X29wZXJhdGlvbicpO1xuXG5leHBvcnRzLm9wZXJhdGlvbiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgdmFyIHRpbWVvdXRzID0gZXhwb3J0cy50aW1lb3V0cyhvcHRpb25zKTtcbiAgcmV0dXJuIG5ldyBSZXRyeU9wZXJhdGlvbih0aW1lb3V0cywge1xuICAgICAgZm9yZXZlcjogb3B0aW9ucyAmJiAob3B0aW9ucy5mb3JldmVyIHx8IG9wdGlvbnMucmV0cmllcyA9PT0gSW5maW5pdHkpLFxuICAgICAgdW5yZWY6IG9wdGlvbnMgJiYgb3B0aW9ucy51bnJlZixcbiAgICAgIG1heFJldHJ5VGltZTogb3B0aW9ucyAmJiBvcHRpb25zLm1heFJldHJ5VGltZVxuICB9KTtcbn07XG5cbmV4cG9ydHMudGltZW91dHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICByZXR1cm4gW10uY29uY2F0KG9wdGlvbnMpO1xuICB9XG5cbiAgdmFyIG9wdHMgPSB7XG4gICAgcmV0cmllczogMTAsXG4gICAgZmFjdG9yOiAyLFxuICAgIG1pblRpbWVvdXQ6IDEgKiAxMDAwLFxuICAgIG1heFRpbWVvdXQ6IEluZmluaXR5LFxuICAgIHJhbmRvbWl6ZTogZmFsc2VcbiAgfTtcbiAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMpIHtcbiAgICBvcHRzW2tleV0gPSBvcHRpb25zW2tleV07XG4gIH1cblxuICBpZiAob3B0cy5taW5UaW1lb3V0ID4gb3B0cy5tYXhUaW1lb3V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtaW5UaW1lb3V0IGlzIGdyZWF0ZXIgdGhhbiBtYXhUaW1lb3V0Jyk7XG4gIH1cblxuICB2YXIgdGltZW91dHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRzLnJldHJpZXM7IGkrKykge1xuICAgIHRpbWVvdXRzLnB1c2godGhpcy5jcmVhdGVUaW1lb3V0KGksIG9wdHMpKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZm9yZXZlciAmJiAhdGltZW91dHMubGVuZ3RoKSB7XG4gICAgdGltZW91dHMucHVzaCh0aGlzLmNyZWF0ZVRpbWVvdXQoaSwgb3B0cykpO1xuICB9XG5cbiAgLy8gc29ydCB0aGUgYXJyYXkgbnVtZXJpY2FsbHkgYXNjZW5kaW5nXG4gIHRpbWVvdXRzLnNvcnQoZnVuY3Rpb24oYSxiKSB7XG4gICAgcmV0dXJuIGEgLSBiO1xuICB9KTtcblxuICByZXR1cm4gdGltZW91dHM7XG59O1xuXG5leHBvcnRzLmNyZWF0ZVRpbWVvdXQgPSBmdW5jdGlvbihhdHRlbXB0LCBvcHRzKSB7XG4gIHZhciByYW5kb20gPSAob3B0cy5yYW5kb21pemUpXG4gICAgPyAoTWF0aC5yYW5kb20oKSArIDEpXG4gICAgOiAxO1xuXG4gIHZhciB0aW1lb3V0ID0gTWF0aC5yb3VuZChyYW5kb20gKiBNYXRoLm1heChvcHRzLm1pblRpbWVvdXQsIDEpICogTWF0aC5wb3cob3B0cy5mYWN0b3IsIGF0dGVtcHQpKTtcbiAgdGltZW91dCA9IE1hdGgubWluKHRpbWVvdXQsIG9wdHMubWF4VGltZW91dCk7XG5cbiAgcmV0dXJuIHRpbWVvdXQ7XG59O1xuXG5leHBvcnRzLndyYXAgPSBmdW5jdGlvbihvYmosIG9wdGlvbnMsIG1ldGhvZHMpIHtcbiAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIG1ldGhvZHMgPSBvcHRpb25zO1xuICAgIG9wdGlvbnMgPSBudWxsO1xuICB9XG5cbiAgaWYgKCFtZXRob2RzKSB7XG4gICAgbWV0aG9kcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgbWV0aG9kcy5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG1ldGhvZCAgID0gbWV0aG9kc1tpXTtcbiAgICB2YXIgb3JpZ2luYWwgPSBvYmpbbWV0aG9kXTtcblxuICAgIG9ialttZXRob2RdID0gZnVuY3Rpb24gcmV0cnlXcmFwcGVyKG9yaWdpbmFsKSB7XG4gICAgICB2YXIgb3AgICAgICAgPSBleHBvcnRzLm9wZXJhdGlvbihvcHRpb25zKTtcbiAgICAgIHZhciBhcmdzICAgICA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuXG4gICAgICBhcmdzLnB1c2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGlmIChvcC5yZXRyeShlcnIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBhcmd1bWVudHNbMF0gPSBvcC5tYWluRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSk7XG5cbiAgICAgIG9wLmF0dGVtcHQoZnVuY3Rpb24oKSB7XG4gICAgICAgIG9yaWdpbmFsLmFwcGx5KG9iaiwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9LmJpbmQob2JqLCBvcmlnaW5hbCk7XG4gICAgb2JqW21ldGhvZF0ub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL3JldHJ5Jyk7IiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgcmV0cnkgPSByZXF1aXJlKCdyZXRyeScpO1xuXG5jb25zdCBuZXR3b3JrRXJyb3JNc2dzID0gW1xuXHQnRmFpbGVkIHRvIGZldGNoJywgLy8gQ2hyb21lXG5cdCdOZXR3b3JrRXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIGZldGNoIHJlc291cmNlLicsIC8vIEZpcmVmb3hcblx0J1RoZSBJbnRlcm5ldCBjb25uZWN0aW9uIGFwcGVhcnMgdG8gYmUgb2ZmbGluZS4nLCAvLyBTYWZhcmlcblx0J05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnIC8vIGBjcm9zcy1mZXRjaGBcbl07XG5cbmNsYXNzIEFib3J0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcblx0XHRzdXBlcigpO1xuXG5cdFx0aWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0dGhpcy5vcmlnaW5hbEVycm9yID0gbWVzc2FnZTtcblx0XHRcdCh7bWVzc2FnZX0gPSBtZXNzYWdlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5vcmlnaW5hbEVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuXHRcdFx0dGhpcy5vcmlnaW5hbEVycm9yLnN0YWNrID0gdGhpcy5zdGFjaztcblx0XHR9XG5cblx0XHR0aGlzLm5hbWUgPSAnQWJvcnRFcnJvcic7XG5cdFx0dGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcblx0fVxufVxuXG5jb25zdCBkZWNvcmF0ZUVycm9yV2l0aENvdW50cyA9IChlcnJvciwgYXR0ZW1wdE51bWJlciwgb3B0aW9ucykgPT4ge1xuXHQvLyBNaW51cyAxIGZyb20gYXR0ZW1wdE51bWJlciBiZWNhdXNlIHRoZSBmaXJzdCBhdHRlbXB0IGRvZXMgbm90IGNvdW50IGFzIGEgcmV0cnlcblx0Y29uc3QgcmV0cmllc0xlZnQgPSBvcHRpb25zLnJldHJpZXMgLSAoYXR0ZW1wdE51bWJlciAtIDEpO1xuXG5cdGVycm9yLmF0dGVtcHROdW1iZXIgPSBhdHRlbXB0TnVtYmVyO1xuXHRlcnJvci5yZXRyaWVzTGVmdCA9IHJldHJpZXNMZWZ0O1xuXHRyZXR1cm4gZXJyb3I7XG59O1xuXG5jb25zdCBpc05ldHdvcmtFcnJvciA9IGVycm9yTWVzc2FnZSA9PiBuZXR3b3JrRXJyb3JNc2dzLmluY2x1ZGVzKGVycm9yTWVzc2FnZSk7XG5cbmNvbnN0IHBSZXRyeSA9IChpbnB1dCwgb3B0aW9ucykgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRvcHRpb25zID0ge1xuXHRcdG9uRmFpbGVkQXR0ZW1wdDogKCkgPT4ge30sXG5cdFx0cmV0cmllczogMTAsXG5cdFx0Li4ub3B0aW9uc1xuXHR9O1xuXG5cdGNvbnN0IG9wZXJhdGlvbiA9IHJldHJ5Lm9wZXJhdGlvbihvcHRpb25zKTtcblxuXHRvcGVyYXRpb24uYXR0ZW1wdChhc3luYyBhdHRlbXB0TnVtYmVyID0+IHtcblx0XHR0cnkge1xuXHRcdFx0cmVzb2x2ZShhd2FpdCBpbnB1dChhdHRlbXB0TnVtYmVyKSk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGlmICghKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpKSB7XG5cdFx0XHRcdHJlamVjdChuZXcgVHlwZUVycm9yKGBOb24tZXJyb3Igd2FzIHRocm93bjogXCIke2Vycm9yfVwiLiBZb3Ugc2hvdWxkIG9ubHkgdGhyb3cgZXJyb3JzLmApKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiBBYm9ydEVycm9yKSB7XG5cdFx0XHRcdG9wZXJhdGlvbi5zdG9wKCk7XG5cdFx0XHRcdHJlamVjdChlcnJvci5vcmlnaW5hbEVycm9yKTtcblx0XHRcdH0gZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IgJiYgIWlzTmV0d29ya0Vycm9yKGVycm9yLm1lc3NhZ2UpKSB7XG5cdFx0XHRcdG9wZXJhdGlvbi5zdG9wKCk7XG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWNvcmF0ZUVycm9yV2l0aENvdW50cyhlcnJvciwgYXR0ZW1wdE51bWJlciwgb3B0aW9ucyk7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRhd2FpdCBvcHRpb25zLm9uRmFpbGVkQXR0ZW1wdChlcnJvcik7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIW9wZXJhdGlvbi5yZXRyeShlcnJvcikpIHtcblx0XHRcdFx0XHRyZWplY3Qob3BlcmF0aW9uLm1haW5FcnJvcigpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwUmV0cnk7XG4vLyBUT0RPOiByZW1vdmUgdGhpcyBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uXG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gcFJldHJ5O1xuXG5tb2R1bGUuZXhwb3J0cy5BYm9ydEVycm9yID0gQWJvcnRFcnJvcjtcbiIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxubGV0IGdldFJhbmRvbVZhbHVlcztcbmNvbnN0IHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG5cbmNvbnN0IGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zbGljZSgxKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICByZXR1cm4gYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV07XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgY29uc3QgdXVpZCA9IHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCk7IC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcblxuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7IiwiY29uc3QgcmFuZG9tVVVJRCA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5yYW5kb21VVUlEICYmIGNyeXB0by5yYW5kb21VVUlELmJpbmQoY3J5cHRvKTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmFuZG9tVVVJRFxufTsiLCJpbXBvcnQgbmF0aXZlIGZyb20gJy4vbmF0aXZlLmpzJztcbmltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBpZiAobmF0aXZlLnJhbmRvbVVVSUQgJiYgIWJ1ZiAmJiAhb3B0aW9ucykge1xuICAgIHJldHVybiBuYXRpdmUucmFuZG9tVVVJRCgpO1xuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpOyAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG5cbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgaWYgKGJ1Zikge1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBidWY7XG4gIH1cblxuICByZXR1cm4gdW5zYWZlU3RyaW5naWZ5KHJuZHMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2NDsiLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIsIHNlcCkge1xuXHRpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhIHN0cmluZycpO1xuXHR9XG5cblx0c2VwID0gdHlwZW9mIHNlcCA9PT0gJ3VuZGVmaW5lZCcgPyAnXycgOiBzZXA7XG5cblx0cmV0dXJuIHN0clxuXHRcdC5yZXBsYWNlKC8oW2EtelxcZF0pKFtBLVpdKS9nLCAnJDEnICsgc2VwICsgJyQyJylcblx0XHQucmVwbGFjZSgvKFtBLVpdKykoW0EtWl1bYS16XFxkXSspL2csICckMScgKyBzZXAgKyAnJDInKVxuXHRcdC50b0xvd2VyQ2FzZSgpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgVVBQRVJDQVNFID0gL1tcXHB7THV9XS91O1xuY29uc3QgTE9XRVJDQVNFID0gL1tcXHB7TGx9XS91O1xuY29uc3QgTEVBRElOR19DQVBJVEFMID0gL15bXFxwe0x1fV0oPyFbXFxwe0x1fV0pL2d1O1xuY29uc3QgSURFTlRJRklFUiA9IC8oW1xccHtBbHBoYX1cXHB7Tn1fXXwkKS91O1xuY29uc3QgU0VQQVJBVE9SUyA9IC9bXy5cXC0gXSsvO1xuXG5jb25zdCBMRUFESU5HX1NFUEFSQVRPUlMgPSBuZXcgUmVnRXhwKCdeJyArIFNFUEFSQVRPUlMuc291cmNlKTtcbmNvbnN0IFNFUEFSQVRPUlNfQU5EX0lERU5USUZJRVIgPSBuZXcgUmVnRXhwKFNFUEFSQVRPUlMuc291cmNlICsgSURFTlRJRklFUi5zb3VyY2UsICdndScpO1xuY29uc3QgTlVNQkVSU19BTkRfSURFTlRJRklFUiA9IG5ldyBSZWdFeHAoJ1xcXFxkKycgKyBJREVOVElGSUVSLnNvdXJjZSwgJ2d1Jyk7XG5cbmNvbnN0IHByZXNlcnZlQ2FtZWxDYXNlID0gKHN0cmluZywgdG9Mb3dlckNhc2UsIHRvVXBwZXJDYXNlKSA9PiB7XG5cdGxldCBpc0xhc3RDaGFyTG93ZXIgPSBmYWxzZTtcblx0bGV0IGlzTGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXHRsZXQgaXNMYXN0TGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgY2hhcmFjdGVyID0gc3RyaW5nW2ldO1xuXG5cdFx0aWYgKGlzTGFzdENoYXJMb3dlciAmJiBVUFBFUkNBU0UudGVzdChjaGFyYWN0ZXIpKSB7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgaSkgKyAnLScgKyBzdHJpbmcuc2xpY2UoaSk7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSBmYWxzZTtcblx0XHRcdGlzTGFzdExhc3RDaGFyVXBwZXIgPSBpc0xhc3RDaGFyVXBwZXI7XG5cdFx0XHRpc0xhc3RDaGFyVXBwZXIgPSB0cnVlO1xuXHRcdFx0aSsrO1xuXHRcdH0gZWxzZSBpZiAoaXNMYXN0Q2hhclVwcGVyICYmIGlzTGFzdExhc3RDaGFyVXBwZXIgJiYgTE9XRVJDQVNFLnRlc3QoY2hhcmFjdGVyKSkge1xuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIGkgLSAxKSArICctJyArIHN0cmluZy5zbGljZShpIC0gMSk7XG5cdFx0XHRpc0xhc3RMYXN0Q2hhclVwcGVyID0gaXNMYXN0Q2hhclVwcGVyO1xuXHRcdFx0aXNMYXN0Q2hhclVwcGVyID0gZmFsc2U7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSB0b0xvd2VyQ2FzZShjaGFyYWN0ZXIpID09PSBjaGFyYWN0ZXIgJiYgdG9VcHBlckNhc2UoY2hhcmFjdGVyKSAhPT0gY2hhcmFjdGVyO1xuXHRcdFx0aXNMYXN0TGFzdENoYXJVcHBlciA9IGlzTGFzdENoYXJVcHBlcjtcblx0XHRcdGlzTGFzdENoYXJVcHBlciA9IHRvVXBwZXJDYXNlKGNoYXJhY3RlcikgPT09IGNoYXJhY3RlciAmJiB0b0xvd2VyQ2FzZShjaGFyYWN0ZXIpICE9PSBjaGFyYWN0ZXI7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0cmluZztcbn07XG5cbmNvbnN0IHByZXNlcnZlQ29uc2VjdXRpdmVVcHBlcmNhc2UgPSAoaW5wdXQsIHRvTG93ZXJDYXNlKSA9PiB7XG5cdExFQURJTkdfQ0FQSVRBTC5sYXN0SW5kZXggPSAwO1xuXG5cdHJldHVybiBpbnB1dC5yZXBsYWNlKExFQURJTkdfQ0FQSVRBTCwgbTEgPT4gdG9Mb3dlckNhc2UobTEpKTtcbn07XG5cbmNvbnN0IHBvc3RQcm9jZXNzID0gKGlucHV0LCB0b1VwcGVyQ2FzZSkgPT4ge1xuXHRTRVBBUkFUT1JTX0FORF9JREVOVElGSUVSLmxhc3RJbmRleCA9IDA7XG5cdE5VTUJFUlNfQU5EX0lERU5USUZJRVIubGFzdEluZGV4ID0gMDtcblxuXHRyZXR1cm4gaW5wdXQucmVwbGFjZShTRVBBUkFUT1JTX0FORF9JREVOVElGSUVSLCAoXywgaWRlbnRpZmllcikgPT4gdG9VcHBlckNhc2UoaWRlbnRpZmllcikpXG5cdFx0LnJlcGxhY2UoTlVNQkVSU19BTkRfSURFTlRJRklFUiwgbSA9PiB0b1VwcGVyQ2FzZShtKSk7XG59O1xuXG5jb25zdCBjYW1lbENhc2UgPSAoaW5wdXQsIG9wdGlvbnMpID0+IHtcblx0aWYgKCEodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGlucHV0KSkpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgaW5wdXQgdG8gYmUgYHN0cmluZyB8IHN0cmluZ1tdYCcpO1xuXHR9XG5cblx0b3B0aW9ucyA9IHtcblx0XHRwYXNjYWxDYXNlOiBmYWxzZSxcblx0XHRwcmVzZXJ2ZUNvbnNlY3V0aXZlVXBwZXJjYXNlOiBmYWxzZSxcblx0XHQuLi5vcHRpb25zXG5cdH07XG5cblx0aWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG5cdFx0aW5wdXQgPSBpbnB1dC5tYXAoeCA9PiB4LnRyaW0oKSlcblx0XHRcdC5maWx0ZXIoeCA9PiB4Lmxlbmd0aClcblx0XHRcdC5qb2luKCctJyk7XG5cdH0gZWxzZSB7XG5cdFx0aW5wdXQgPSBpbnB1dC50cmltKCk7XG5cdH1cblxuXHRpZiAoaW5wdXQubGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0Y29uc3QgdG9Mb3dlckNhc2UgPSBvcHRpb25zLmxvY2FsZSA9PT0gZmFsc2UgP1xuXHRcdHN0cmluZyA9PiBzdHJpbmcudG9Mb3dlckNhc2UoKSA6XG5cdFx0c3RyaW5nID0+IHN0cmluZy50b0xvY2FsZUxvd2VyQ2FzZShvcHRpb25zLmxvY2FsZSk7XG5cdGNvbnN0IHRvVXBwZXJDYXNlID0gb3B0aW9ucy5sb2NhbGUgPT09IGZhbHNlID9cblx0XHRzdHJpbmcgPT4gc3RyaW5nLnRvVXBwZXJDYXNlKCkgOlxuXHRcdHN0cmluZyA9PiBzdHJpbmcudG9Mb2NhbGVVcHBlckNhc2Uob3B0aW9ucy5sb2NhbGUpO1xuXG5cdGlmIChpbnB1dC5sZW5ndGggPT09IDEpIHtcblx0XHRyZXR1cm4gb3B0aW9ucy5wYXNjYWxDYXNlID8gdG9VcHBlckNhc2UoaW5wdXQpIDogdG9Mb3dlckNhc2UoaW5wdXQpO1xuXHR9XG5cblx0Y29uc3QgaGFzVXBwZXJDYXNlID0gaW5wdXQgIT09IHRvTG93ZXJDYXNlKGlucHV0KTtcblxuXHRpZiAoaGFzVXBwZXJDYXNlKSB7XG5cdFx0aW5wdXQgPSBwcmVzZXJ2ZUNhbWVsQ2FzZShpbnB1dCwgdG9Mb3dlckNhc2UsIHRvVXBwZXJDYXNlKTtcblx0fVxuXG5cdGlucHV0ID0gaW5wdXQucmVwbGFjZShMRUFESU5HX1NFUEFSQVRPUlMsICcnKTtcblxuXHRpZiAob3B0aW9ucy5wcmVzZXJ2ZUNvbnNlY3V0aXZlVXBwZXJjYXNlKSB7XG5cdFx0aW5wdXQgPSBwcmVzZXJ2ZUNvbnNlY3V0aXZlVXBwZXJjYXNlKGlucHV0LCB0b0xvd2VyQ2FzZSk7XG5cdH0gZWxzZSB7XG5cdFx0aW5wdXQgPSB0b0xvd2VyQ2FzZShpbnB1dCk7XG5cdH1cblxuXHRpZiAob3B0aW9ucy5wYXNjYWxDYXNlKSB7XG5cdFx0aW5wdXQgPSB0b1VwcGVyQ2FzZShpbnB1dC5jaGFyQXQoMCkpICsgaW5wdXQuc2xpY2UoMSk7XG5cdH1cblxuXHRyZXR1cm4gcG9zdFByb2Nlc3MoaW5wdXQsIHRvVXBwZXJDYXNlKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY2FtZWxDYXNlO1xuLy8gVE9ETzogUmVtb3ZlIHRoaXMgZm9yIHRoZSBuZXh0IG1ham9yIHJlbGVhc2Vcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBjYW1lbENhc2U7XG4iLCJpbXBvcnQgc25ha2VDYXNlIGZyb20gXCJkZWNhbWVsaXplXCI7XG5pbXBvcnQgY2FtZWxDYXNlIGZyb20gXCJjYW1lbGNhc2VcIjtcbmV4cG9ydCBmdW5jdGlvbiBrZXlUb0pzb24oa2V5LCBtYXApIHtcbiAgICByZXR1cm4gbWFwPy5ba2V5XSB8fCBzbmFrZUNhc2Uoa2V5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBrZXlGcm9tSnNvbihrZXksIG1hcCkge1xuICAgIHJldHVybiBtYXA/LltrZXldIHx8IGNhbWVsQ2FzZShrZXkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hcEtleXMoZmllbGRzLCBtYXBwZXIsIG1hcCkge1xuICAgIGNvbnN0IG1hcHBlZCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZpZWxkcykge1xuICAgICAgICBpZiAoT2JqZWN0Lmhhc093bihmaWVsZHMsIGtleSkpIHtcbiAgICAgICAgICAgIG1hcHBlZFttYXBwZXIoa2V5LCBtYXApXSA9IGZpZWxkc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXBwZWQ7XG59XG4iLCJpbXBvcnQgeyBrZXlUb0pzb24sIG1hcEtleXMgfSBmcm9tIFwiLi9tYXBfa2V5cy5qc1wiO1xuZnVuY3Rpb24gc2hhbGxvd0NvcHkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKSA/IFsuLi5vYmpdIDogeyAuLi5vYmogfTtcbn1cbmZ1bmN0aW9uIHJlcGxhY2VTZWNyZXRzKHJvb3QsIHNlY3JldHNNYXApIHtcbiAgICBjb25zdCByZXN1bHQgPSBzaGFsbG93Q29weShyb290KTtcbiAgICBmb3IgKGNvbnN0IFtwYXRoLCBzZWNyZXRJZF0gb2YgT2JqZWN0LmVudHJpZXMoc2VjcmV0c01hcCkpIHtcbiAgICAgICAgY29uc3QgW2xhc3QsIC4uLnBhcnRzUmV2ZXJzZV0gPSBwYXRoLnNwbGl0KFwiLlwiKS5yZXZlcnNlKCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGxldCBjdXJyZW50ID0gcmVzdWx0O1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHNSZXZlcnNlLnJldmVyc2UoKSkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRbcGFydF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFtwYXJ0XSA9IHNoYWxsb3dDb3B5KGN1cnJlbnRbcGFydF0pO1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGFydF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRbbGFzdF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY3VycmVudFtsYXN0XSA9IHtcbiAgICAgICAgICAgICAgICBsYzogMSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInNlY3JldFwiLFxuICAgICAgICAgICAgICAgIGlkOiBbc2VjcmV0SWRdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBHZXQgYSB1bmlxdWUgbmFtZSBmb3IgdGhlIG1vZHVsZSwgcmF0aGVyIHRoYW4gcGFyZW50IGNsYXNzIGltcGxlbWVudGF0aW9ucy5cbiAqIFNob3VsZCBub3QgYmUgc3ViY2xhc3NlZCwgc3ViY2xhc3MgbGNfbmFtZSBhYm92ZSBpbnN0ZWFkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2xjX3VuaXF1ZV9uYW1lKFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuc2VyaWFsaXphYmxlQ2xhc3MpIHtcbiAgICAvLyBcInN1cGVyXCIgaGVyZSB3b3VsZCByZWZlciB0byB0aGUgcGFyZW50IGNsYXNzIG9mIFNlcmlhbGl6YWJsZSxcbiAgICAvLyB3aGVuIHdlIHdhbnQgdGhlIHBhcmVudCBjbGFzcyBvZiB0aGUgbW9kdWxlIGFjdHVhbGx5IGNhbGxpbmcgdGhpcyBtZXRob2QuXG4gICAgY29uc3QgcGFyZW50Q2xhc3MgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoc2VyaWFsaXphYmxlQ2xhc3MpO1xuICAgIGNvbnN0IGxjTmFtZUlzU3ViY2xhc3NlZCA9IHR5cGVvZiBzZXJpYWxpemFibGVDbGFzcy5sY19uYW1lID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgKHR5cGVvZiBwYXJlbnRDbGFzcy5sY19uYW1lICE9PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgICAgIHNlcmlhbGl6YWJsZUNsYXNzLmxjX25hbWUoKSAhPT0gcGFyZW50Q2xhc3MubGNfbmFtZSgpKTtcbiAgICBpZiAobGNOYW1lSXNTdWJjbGFzc2VkKSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemFibGVDbGFzcy5sY19uYW1lKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VyaWFsaXphYmxlQ2xhc3MubmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2VyaWFsaXphYmxlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgc2VyaWFsaXphYmxlLiBPdmVycmlkZSB0byBwcm92aWRlIGFuIGFsaWFzIG9yXG4gICAgICogdG8gcHJlc2VydmUgdGhlIHNlcmlhbGl6ZWQgbW9kdWxlIG5hbWUgaW4gbWluaWZpZWQgZW52aXJvbm1lbnRzLlxuICAgICAqXG4gICAgICogSW1wbGVtZW50ZWQgYXMgYSBzdGF0aWMgbWV0aG9kIHRvIHN1cHBvcnQgbG9hZGluZyBsb2dpYy5cbiAgICAgKi9cbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGZpbmFsIHNlcmlhbGl6ZWQgaWRlbnRpZmllciBmb3IgdGhlIG1vZHVsZS5cbiAgICAgKi9cbiAgICBnZXQgbGNfaWQoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi50aGlzLmxjX25hbWVzcGFjZSxcbiAgICAgICAgICAgIGdldF9sY191bmlxdWVfbmFtZSh0aGlzLmNvbnN0cnVjdG9yKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBtYXAgb2Ygc2VjcmV0cywgd2hpY2ggd2lsbCBiZSBvbWl0dGVkIGZyb20gc2VyaWFsaXphdGlvbi5cbiAgICAgKiBLZXlzIGFyZSBwYXRocyB0byB0aGUgc2VjcmV0IGluIGNvbnN0cnVjdG9yIGFyZ3MsIGUuZy4gXCJmb28uYmFyLmJhelwiLlxuICAgICAqIFZhbHVlcyBhcmUgdGhlIHNlY3JldCBpZHMsIHdoaWNoIHdpbGwgYmUgdXNlZCB3aGVuIGRlc2VyaWFsaXppbmcuXG4gICAgICovXG4gICAgZ2V0IGxjX3NlY3JldHMoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIGFkZGl0aW9uYWwgYXR0cmlidXRlcyB0byBtZXJnZSB3aXRoIGNvbnN0cnVjdG9yIGFyZ3MuXG4gICAgICogS2V5cyBhcmUgdGhlIGF0dHJpYnV0ZSBuYW1lcywgZS5nLiBcImZvb1wiLlxuICAgICAqIFZhbHVlcyBhcmUgdGhlIGF0dHJpYnV0ZSB2YWx1ZXMsIHdoaWNoIHdpbGwgYmUgc2VyaWFsaXplZC5cbiAgICAgKiBUaGVzZSBhdHRyaWJ1dGVzIG5lZWQgdG8gYmUgYWNjZXB0ZWQgYnkgdGhlIGNvbnN0cnVjdG9yIGFzIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBnZXQgbGNfYXR0cmlidXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgYWxpYXNlcyBmb3IgY29uc3RydWN0b3IgYXJncy5cbiAgICAgKiBLZXlzIGFyZSB0aGUgYXR0cmlidXRlIG5hbWVzLCBlLmcuIFwiZm9vXCIuXG4gICAgICogVmFsdWVzIGFyZSB0aGUgYWxpYXMgdGhhdCB3aWxsIHJlcGxhY2UgdGhlIGtleSBpbiBzZXJpYWxpemF0aW9uLlxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBlZy4gbWFrZSBhcmd1bWVudCBuYW1lcyBtYXRjaCBQeXRob24uXG4gICAgICovXG4gICAgZ2V0IGxjX2FsaWFzZXMoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGt3YXJncywgLi4uX2FyZ3MpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfa3dhcmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGNfa3dhcmdzID0ga3dhcmdzIHx8IHt9O1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGlmICghdGhpcy5sY19zZXJpYWxpemFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvSlNPTk5vdEltcGxlbWVudGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgIHRoaXMubGNfa3dhcmdzIGluc3RhbmNlb2YgU2VyaWFsaXphYmxlIHx8XG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5sY19rd2FyZ3MgIT09IFwib2JqZWN0XCIgfHxcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkodGhpcy5sY19rd2FyZ3MpKSB7XG4gICAgICAgICAgICAvLyBXZSBkbyBub3Qgc3VwcG9ydCBzZXJpYWxpemF0aW9uIG9mIGNsYXNzZXMgd2l0aCBhcmcgbm90IGEgUE9KT1xuICAgICAgICAgICAgLy8gSSdtIGF3YXJlIHRoZSBjaGVjayBhYm92ZSBpc24ndCBhcyBzdHJpY3QgYXMgaXQgY291bGQgYmVcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvSlNPTk5vdEltcGxlbWVudGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWxpYXNlcyA9IHt9O1xuICAgICAgICBjb25zdCBzZWNyZXRzID0ge307XG4gICAgICAgIGNvbnN0IGt3YXJncyA9IE9iamVjdC5rZXlzKHRoaXMubGNfa3dhcmdzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IGtleSBpbiB0aGlzID8gdGhpc1trZXldIDogdGhpcy5sY19rd2FyZ3Nba2V5XTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgLy8gZ2V0IHNlY3JldHMsIGF0dHJpYnV0ZXMgYW5kIGFsaWFzZXMgZnJvbSBhbGwgc3VwZXJjbGFzc2VzXG4gICAgICAgIGZvciAoXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICBsZXQgY3VycmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTsgY3VycmVudDsgY3VycmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjdXJyZW50KSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihhbGlhc2VzLCBSZWZsZWN0LmdldChjdXJyZW50LCBcImxjX2FsaWFzZXNcIiwgdGhpcykpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzZWNyZXRzLCBSZWZsZWN0LmdldChjdXJyZW50LCBcImxjX3NlY3JldHNcIiwgdGhpcykpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihrd2FyZ3MsIFJlZmxlY3QuZ2V0KGN1cnJlbnQsIFwibGNfYXR0cmlidXRlc1wiLCB0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5jbHVkZSBhbGwgc2VjcmV0cyB1c2VkLCBldmVuIGlmIG5vdCBpbiBrd2FyZ3MsXG4gICAgICAgIC8vIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBzZW50aW5lbCB2YWx1ZSBpbiByZXBsYWNlU2VjcmV0c1xuICAgICAgICBPYmplY3Qua2V5cyhzZWNyZXRzKS5mb3JFYWNoKChrZXlQYXRoKSA9PiB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXMsIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGxldCByZWFkID0gdGhpcztcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBsZXQgd3JpdGUgPSBrd2FyZ3M7XG4gICAgICAgICAgICBjb25zdCBbbGFzdCwgLi4ucGFydHNSZXZlcnNlXSA9IGtleVBhdGguc3BsaXQoXCIuXCIpLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHBhcnRzUmV2ZXJzZS5yZXZlcnNlKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gcmVhZCkgfHwgcmVhZFtrZXldID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gd3JpdGUpIHx8IHdyaXRlW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlYWRba2V5XSA9PT0gXCJvYmplY3RcIiAmJiByZWFkW2tleV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVba2V5XSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVhZFtrZXldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVba2V5XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlYWQgPSByZWFkW2tleV07XG4gICAgICAgICAgICAgICAgd3JpdGUgPSB3cml0ZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhc3QgaW4gcmVhZCAmJiByZWFkW2xhc3RdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB3cml0ZVtsYXN0XSA9IHdyaXRlW2xhc3RdIHx8IHJlYWRbbGFzdF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGM6IDEsXG4gICAgICAgICAgICB0eXBlOiBcImNvbnN0cnVjdG9yXCIsXG4gICAgICAgICAgICBpZDogdGhpcy5sY19pZCxcbiAgICAgICAgICAgIGt3YXJnczogbWFwS2V5cyhPYmplY3Qua2V5cyhzZWNyZXRzKS5sZW5ndGggPyByZXBsYWNlU2VjcmV0cyhrd2FyZ3MsIHNlY3JldHMpIDoga3dhcmdzLCBrZXlUb0pzb24sIGFsaWFzZXMpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0b0pTT05Ob3RJbXBsZW1lbnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxjOiAxLFxuICAgICAgICAgICAgdHlwZTogXCJub3RfaW1wbGVtZW50ZWRcIixcbiAgICAgICAgICAgIGlkOiB0aGlzLmxjX2lkLFxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIHV1aWQgZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IFNlcmlhbGl6YWJsZSwgZ2V0X2xjX3VuaXF1ZV9uYW1lLCB9IGZyb20gXCIuLi9sb2FkL3NlcmlhbGl6YWJsZS5qc1wiO1xuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyB0aGF0IHByb3ZpZGVzIGEgc2V0IG9mIG9wdGlvbmFsIG1ldGhvZHMgdGhhdCBjYW4gYmVcbiAqIG92ZXJyaWRkZW4gaW4gZGVyaXZlZCBjbGFzc2VzIHRvIGhhbmRsZSB2YXJpb3VzIGV2ZW50cyBkdXJpbmcgdGhlXG4gKiBleGVjdXRpb24gb2YgYSBMYW5nQ2hhaW4gYXBwbGljYXRpb24uXG4gKi9cbmNsYXNzIEJhc2VDYWxsYmFja0hhbmRsZXJNZXRob2RzQ2xhc3Mge1xufVxuLyoqXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciBjcmVhdGluZyBjYWxsYmFjayBoYW5kbGVycyBpbiB0aGUgTGFuZ0NoYWluXG4gKiBmcmFtZXdvcmsuIEl0IHByb3ZpZGVzIGEgc2V0IG9mIG9wdGlvbmFsIG1ldGhvZHMgdGhhdCBjYW4gYmUgb3ZlcnJpZGRlblxuICogaW4gZGVyaXZlZCBjbGFzc2VzIHRvIGhhbmRsZSB2YXJpb3VzIGV2ZW50cyBkdXJpbmcgdGhlIGV4ZWN1dGlvbiBvZiBhXG4gKiBMYW5nQ2hhaW4gYXBwbGljYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlQ2FsbGJhY2tIYW5kbGVyIGV4dGVuZHMgQmFzZUNhbGxiYWNrSGFuZGxlck1ldGhvZHNDbGFzcyB7XG4gICAgZ2V0IGxjX25hbWVzcGFjZSgpIHtcbiAgICAgICAgcmV0dXJuIFtcImxhbmdjaGFpblwiLCBcImNhbGxiYWNrc1wiLCB0aGlzLm5hbWVdO1xuICAgIH1cbiAgICBnZXQgbGNfc2VjcmV0cygpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZ2V0IGxjX2F0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGdldCBsY19hbGlhc2VzKCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgc2VyaWFsaXphYmxlLiBPdmVycmlkZSB0byBwcm92aWRlIGFuIGFsaWFzIG9yXG4gICAgICogdG8gcHJlc2VydmUgdGhlIHNlcmlhbGl6ZWQgbW9kdWxlIG5hbWUgaW4gbWluaWZpZWQgZW52aXJvbm1lbnRzLlxuICAgICAqXG4gICAgICogSW1wbGVtZW50ZWQgYXMgYSBzdGF0aWMgbWV0aG9kIHRvIHN1cHBvcnQgbG9hZGluZyBsb2dpYy5cbiAgICAgKi9cbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGZpbmFsIHNlcmlhbGl6ZWQgaWRlbnRpZmllciBmb3IgdGhlIG1vZHVsZS5cbiAgICAgKi9cbiAgICBnZXQgbGNfaWQoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi50aGlzLmxjX25hbWVzcGFjZSxcbiAgICAgICAgICAgIGdldF9sY191bmlxdWVfbmFtZSh0aGlzLmNvbnN0cnVjdG9yKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfa3dhcmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlnbm9yZUxMTVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlnbm9yZUNoYWluXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaWdub3JlQWdlbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpZ25vcmVSZXRyaWV2ZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhd2FpdEhhbmRsZXJzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgICAgID8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb2Nlc3MtZW52XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Py5MQU5HQ0hBSU5fQ0FMTEJBQ0tTX0JBQ0tHUk9VTkQgIT09IFwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxjX2t3YXJncyA9IGlucHV0IHx8IHt9O1xuICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuaWdub3JlTExNID0gaW5wdXQuaWdub3JlTExNID8/IHRoaXMuaWdub3JlTExNO1xuICAgICAgICAgICAgdGhpcy5pZ25vcmVDaGFpbiA9IGlucHV0Lmlnbm9yZUNoYWluID8/IHRoaXMuaWdub3JlQ2hhaW47XG4gICAgICAgICAgICB0aGlzLmlnbm9yZUFnZW50ID0gaW5wdXQuaWdub3JlQWdlbnQgPz8gdGhpcy5pZ25vcmVBZ2VudDtcbiAgICAgICAgICAgIHRoaXMuaWdub3JlUmV0cmlldmVyID0gaW5wdXQuaWdub3JlUmV0cmlldmVyID8/IHRoaXMuaWdub3JlUmV0cmlldmVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvcHkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4gU2VyaWFsaXphYmxlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgdG9KU09OTm90SW1wbGVtZW50ZWQoKSB7XG4gICAgICAgIHJldHVybiBTZXJpYWxpemFibGUucHJvdG90eXBlLnRvSlNPTk5vdEltcGxlbWVudGVkLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tTWV0aG9kcyhtZXRob2RzKSB7XG4gICAgICAgIGNsYXNzIEhhbmRsZXIgZXh0ZW5kcyBCYXNlQ2FsbGJhY2tIYW5kbGVyIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1dWlkLnY0KClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIG1ldGhvZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSGFuZGxlcigpO1xuICAgIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgQU5TSV9CQUNLR1JPVU5EX09GRlNFVCA9IDEwO1xuXG5jb25zdCB3cmFwQW5zaTI1NiA9IChvZmZzZXQgPSAwKSA9PiBjb2RlID0+IGBcXHUwMDFCWyR7MzggKyBvZmZzZXR9OzU7JHtjb2RlfW1gO1xuXG5jb25zdCB3cmFwQW5zaTE2bSA9IChvZmZzZXQgPSAwKSA9PiAocmVkLCBncmVlbiwgYmx1ZSkgPT4gYFxcdTAwMUJbJHszOCArIG9mZnNldH07Mjske3JlZH07JHtncmVlbn07JHtibHVlfW1gO1xuXG5mdW5jdGlvbiBhc3NlbWJsZVN0eWxlcygpIHtcblx0Y29uc3QgY29kZXMgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IHN0eWxlcyA9IHtcblx0XHRtb2RpZmllcjoge1xuXHRcdFx0cmVzZXQ6IFswLCAwXSxcblx0XHRcdC8vIDIxIGlzbid0IHdpZGVseSBzdXBwb3J0ZWQgYW5kIDIyIGRvZXMgdGhlIHNhbWUgdGhpbmdcblx0XHRcdGJvbGQ6IFsxLCAyMl0sXG5cdFx0XHRkaW06IFsyLCAyMl0sXG5cdFx0XHRpdGFsaWM6IFszLCAyM10sXG5cdFx0XHR1bmRlcmxpbmU6IFs0LCAyNF0sXG5cdFx0XHRvdmVybGluZTogWzUzLCA1NV0sXG5cdFx0XHRpbnZlcnNlOiBbNywgMjddLFxuXHRcdFx0aGlkZGVuOiBbOCwgMjhdLFxuXHRcdFx0c3RyaWtldGhyb3VnaDogWzksIDI5XVxuXHRcdH0sXG5cdFx0Y29sb3I6IHtcblx0XHRcdGJsYWNrOiBbMzAsIDM5XSxcblx0XHRcdHJlZDogWzMxLCAzOV0sXG5cdFx0XHRncmVlbjogWzMyLCAzOV0sXG5cdFx0XHR5ZWxsb3c6IFszMywgMzldLFxuXHRcdFx0Ymx1ZTogWzM0LCAzOV0sXG5cdFx0XHRtYWdlbnRhOiBbMzUsIDM5XSxcblx0XHRcdGN5YW46IFszNiwgMzldLFxuXHRcdFx0d2hpdGU6IFszNywgMzldLFxuXG5cdFx0XHQvLyBCcmlnaHQgY29sb3Jcblx0XHRcdGJsYWNrQnJpZ2h0OiBbOTAsIDM5XSxcblx0XHRcdHJlZEJyaWdodDogWzkxLCAzOV0sXG5cdFx0XHRncmVlbkJyaWdodDogWzkyLCAzOV0sXG5cdFx0XHR5ZWxsb3dCcmlnaHQ6IFs5MywgMzldLFxuXHRcdFx0Ymx1ZUJyaWdodDogWzk0LCAzOV0sXG5cdFx0XHRtYWdlbnRhQnJpZ2h0OiBbOTUsIDM5XSxcblx0XHRcdGN5YW5CcmlnaHQ6IFs5NiwgMzldLFxuXHRcdFx0d2hpdGVCcmlnaHQ6IFs5NywgMzldXG5cdFx0fSxcblx0XHRiZ0NvbG9yOiB7XG5cdFx0XHRiZ0JsYWNrOiBbNDAsIDQ5XSxcblx0XHRcdGJnUmVkOiBbNDEsIDQ5XSxcblx0XHRcdGJnR3JlZW46IFs0MiwgNDldLFxuXHRcdFx0YmdZZWxsb3c6IFs0MywgNDldLFxuXHRcdFx0YmdCbHVlOiBbNDQsIDQ5XSxcblx0XHRcdGJnTWFnZW50YTogWzQ1LCA0OV0sXG5cdFx0XHRiZ0N5YW46IFs0NiwgNDldLFxuXHRcdFx0YmdXaGl0ZTogWzQ3LCA0OV0sXG5cblx0XHRcdC8vIEJyaWdodCBjb2xvclxuXHRcdFx0YmdCbGFja0JyaWdodDogWzEwMCwgNDldLFxuXHRcdFx0YmdSZWRCcmlnaHQ6IFsxMDEsIDQ5XSxcblx0XHRcdGJnR3JlZW5CcmlnaHQ6IFsxMDIsIDQ5XSxcblx0XHRcdGJnWWVsbG93QnJpZ2h0OiBbMTAzLCA0OV0sXG5cdFx0XHRiZ0JsdWVCcmlnaHQ6IFsxMDQsIDQ5XSxcblx0XHRcdGJnTWFnZW50YUJyaWdodDogWzEwNSwgNDldLFxuXHRcdFx0YmdDeWFuQnJpZ2h0OiBbMTA2LCA0OV0sXG5cdFx0XHRiZ1doaXRlQnJpZ2h0OiBbMTA3LCA0OV1cblx0XHR9XG5cdH07XG5cblx0Ly8gQWxpYXMgYnJpZ2h0IGJsYWNrIGFzIGdyYXkgKGFuZCBncmV5KVxuXHRzdHlsZXMuY29sb3IuZ3JheSA9IHN0eWxlcy5jb2xvci5ibGFja0JyaWdodDtcblx0c3R5bGVzLmJnQ29sb3IuYmdHcmF5ID0gc3R5bGVzLmJnQ29sb3IuYmdCbGFja0JyaWdodDtcblx0c3R5bGVzLmNvbG9yLmdyZXkgPSBzdHlsZXMuY29sb3IuYmxhY2tCcmlnaHQ7XG5cdHN0eWxlcy5iZ0NvbG9yLmJnR3JleSA9IHN0eWxlcy5iZ0NvbG9yLmJnQmxhY2tCcmlnaHQ7XG5cblx0Zm9yIChjb25zdCBbZ3JvdXBOYW1lLCBncm91cF0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVzKSkge1xuXHRcdGZvciAoY29uc3QgW3N0eWxlTmFtZSwgc3R5bGVdIG9mIE9iamVjdC5lbnRyaWVzKGdyb3VwKSkge1xuXHRcdFx0c3R5bGVzW3N0eWxlTmFtZV0gPSB7XG5cdFx0XHRcdG9wZW46IGBcXHUwMDFCWyR7c3R5bGVbMF19bWAsXG5cdFx0XHRcdGNsb3NlOiBgXFx1MDAxQlske3N0eWxlWzFdfW1gXG5cdFx0XHR9O1xuXG5cdFx0XHRncm91cFtzdHlsZU5hbWVdID0gc3R5bGVzW3N0eWxlTmFtZV07XG5cblx0XHRcdGNvZGVzLnNldChzdHlsZVswXSwgc3R5bGVbMV0pO1xuXHRcdH1cblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsIGdyb3VwTmFtZSwge1xuXHRcdFx0dmFsdWU6IGdyb3VwLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0XHR9KTtcblx0fVxuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsICdjb2RlcycsIHtcblx0XHR2YWx1ZTogY29kZXMsXG5cdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0fSk7XG5cblx0c3R5bGVzLmNvbG9yLmNsb3NlID0gJ1xcdTAwMUJbMzltJztcblx0c3R5bGVzLmJnQ29sb3IuY2xvc2UgPSAnXFx1MDAxQls0OW0nO1xuXG5cdHN0eWxlcy5jb2xvci5hbnNpMjU2ID0gd3JhcEFuc2kyNTYoKTtcblx0c3R5bGVzLmNvbG9yLmFuc2kxNm0gPSB3cmFwQW5zaTE2bSgpO1xuXHRzdHlsZXMuYmdDb2xvci5hbnNpMjU2ID0gd3JhcEFuc2kyNTYoQU5TSV9CQUNLR1JPVU5EX09GRlNFVCk7XG5cdHN0eWxlcy5iZ0NvbG9yLmFuc2kxNm0gPSB3cmFwQW5zaTE2bShBTlNJX0JBQ0tHUk9VTkRfT0ZGU0VUKTtcblxuXHQvLyBGcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9RaXgtL2NvbG9yLWNvbnZlcnQvYmxvYi8zZjBlMGQ0ZTkyZTIzNTc5NmNjYjE3ZjZlODVjNzIwOTRhNjUxZjQ5L2NvbnZlcnNpb25zLmpzXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHN0eWxlcywge1xuXHRcdHJnYlRvQW5zaTI1Njoge1xuXHRcdFx0dmFsdWU6IChyZWQsIGdyZWVuLCBibHVlKSA9PiB7XG5cdFx0XHRcdC8vIFdlIHVzZSB0aGUgZXh0ZW5kZWQgZ3JleXNjYWxlIHBhbGV0dGUgaGVyZSwgd2l0aCB0aGUgZXhjZXB0aW9uIG9mXG5cdFx0XHRcdC8vIGJsYWNrIGFuZCB3aGl0ZS4gbm9ybWFsIHBhbGV0dGUgb25seSBoYXMgNCBncmV5c2NhbGUgc2hhZGVzLlxuXHRcdFx0XHRpZiAocmVkID09PSBncmVlbiAmJiBncmVlbiA9PT0gYmx1ZSkge1xuXHRcdFx0XHRcdGlmIChyZWQgPCA4KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gMTY7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHJlZCA+IDI0OCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIDIzMTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gTWF0aC5yb3VuZCgoKHJlZCAtIDgpIC8gMjQ3KSAqIDI0KSArIDIzMjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiAxNiArXG5cdFx0XHRcdFx0KDM2ICogTWF0aC5yb3VuZChyZWQgLyAyNTUgKiA1KSkgK1xuXHRcdFx0XHRcdCg2ICogTWF0aC5yb3VuZChncmVlbiAvIDI1NSAqIDUpKSArXG5cdFx0XHRcdFx0TWF0aC5yb3VuZChibHVlIC8gMjU1ICogNSk7XG5cdFx0XHR9LFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0XHR9LFxuXHRcdGhleFRvUmdiOiB7XG5cdFx0XHR2YWx1ZTogaGV4ID0+IHtcblx0XHRcdFx0Y29uc3QgbWF0Y2hlcyA9IC8oPzxjb2xvclN0cmluZz5bYS1mXFxkXXs2fXxbYS1mXFxkXXszfSkvaS5leGVjKGhleC50b1N0cmluZygxNikpO1xuXHRcdFx0XHRpZiAoIW1hdGNoZXMpIHtcblx0XHRcdFx0XHRyZXR1cm4gWzAsIDAsIDBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IHtjb2xvclN0cmluZ30gPSBtYXRjaGVzLmdyb3VwcztcblxuXHRcdFx0XHRpZiAoY29sb3JTdHJpbmcubGVuZ3RoID09PSAzKSB7XG5cdFx0XHRcdFx0Y29sb3JTdHJpbmcgPSBjb2xvclN0cmluZy5zcGxpdCgnJykubWFwKGNoYXJhY3RlciA9PiBjaGFyYWN0ZXIgKyBjaGFyYWN0ZXIpLmpvaW4oJycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgaW50ZWdlciA9IE51bWJlci5wYXJzZUludChjb2xvclN0cmluZywgMTYpO1xuXG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0KGludGVnZXIgPj4gMTYpICYgMHhGRixcblx0XHRcdFx0XHQoaW50ZWdlciA+PiA4KSAmIDB4RkYsXG5cdFx0XHRcdFx0aW50ZWdlciAmIDB4RkZcblx0XHRcdFx0XTtcblx0XHRcdH0sXG5cdFx0XHRlbnVtZXJhYmxlOiBmYWxzZVxuXHRcdH0sXG5cdFx0aGV4VG9BbnNpMjU2OiB7XG5cdFx0XHR2YWx1ZTogaGV4ID0+IHN0eWxlcy5yZ2JUb0Fuc2kyNTYoLi4uc3R5bGVzLmhleFRvUmdiKGhleCkpLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbi8vIE1ha2UgdGhlIGV4cG9ydCBpbW11dGFibGVcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsICdleHBvcnRzJywge1xuXHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRnZXQ6IGFzc2VtYmxlU3R5bGVzXG59KTtcbiIsImltcG9ydCB7IEJhc2VDYWxsYmFja0hhbmRsZXIsIH0gZnJvbSBcIi4uL2Jhc2UuanNcIjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiBfY29lcmNlVG9EaWN0KHZhbHVlLCBkZWZhdWx0S2V5KSB7XG4gICAgcmV0dXJuIHZhbHVlICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCJcbiAgICAgICAgPyB2YWx1ZVxuICAgICAgICA6IHsgW2RlZmF1bHRLZXldOiB2YWx1ZSB9O1xufVxuZXhwb3J0IGNsYXNzIEJhc2VUcmFjZXIgZXh0ZW5kcyBCYXNlQ2FsbGJhY2tIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihfZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJ1bk1hcFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogbmV3IE1hcCgpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb3B5KCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX2FkZENoaWxkUnVuKHBhcmVudFJ1biwgY2hpbGRSdW4pIHtcbiAgICAgICAgcGFyZW50UnVuLmNoaWxkX3J1bnMucHVzaChjaGlsZFJ1bik7XG4gICAgfVxuICAgIGFzeW5jIF9zdGFydFRyYWNlKHJ1bikge1xuICAgICAgICBpZiAocnVuLnBhcmVudF9ydW5faWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50UnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bi5wYXJlbnRfcnVuX2lkKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRSdW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRDaGlsZFJ1bihwYXJlbnRSdW4sIHJ1bik7XG4gICAgICAgICAgICAgICAgcGFyZW50UnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlciA9IE1hdGgubWF4KHBhcmVudFJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIsIHJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucnVuTWFwLnNldChydW4uaWQsIHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMub25SdW5DcmVhdGU/LihydW4pO1xuICAgIH1cbiAgICBhc3luYyBfZW5kVHJhY2UocnVuKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudFJ1biA9IHJ1bi5wYXJlbnRfcnVuX2lkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5ydW5NYXAuZ2V0KHJ1bi5wYXJlbnRfcnVuX2lkKTtcbiAgICAgICAgaWYgKHBhcmVudFJ1bikge1xuICAgICAgICAgICAgcGFyZW50UnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlciA9IE1hdGgubWF4KHBhcmVudFJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIsIHJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wZXJzaXN0UnVuKHJ1bik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ydW5NYXAuZGVsZXRlKHJ1bi5pZCk7XG4gICAgICAgIGF3YWl0IHRoaXMub25SdW5VcGRhdGU/LihydW4pO1xuICAgIH1cbiAgICBfZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50UnVuID0gcGFyZW50UnVuSWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnJ1bk1hcC5nZXQocGFyZW50UnVuSWQpO1xuICAgICAgICAvLyBJZiBhIHJ1biBoYXMgbm8gcGFyZW50IHRoZW4gZXhlY3V0aW9uIG9yZGVyIGlzIDFcbiAgICAgICAgaWYgKCFwYXJlbnRSdW4pIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnRSdW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyICsgMTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTExNU3RhcnQobGxtLCBwcm9tcHRzLCBydW5JZCwgcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0YWdzLCBtZXRhZGF0YSwgbmFtZSkge1xuICAgICAgICBjb25zdCBleGVjdXRpb25fb3JkZXIgPSB0aGlzLl9nZXRFeGVjdXRpb25PcmRlcihwYXJlbnRSdW5JZCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0X3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCBmaW5hbEV4dHJhUGFyYW1zID0gbWV0YWRhdGFcbiAgICAgICAgICAgID8geyAuLi5leHRyYVBhcmFtcywgbWV0YWRhdGEgfVxuICAgICAgICAgICAgOiBleHRyYVBhcmFtcztcbiAgICAgICAgY29uc3QgcnVuID0ge1xuICAgICAgICAgICAgaWQ6IHJ1bklkLFxuICAgICAgICAgICAgbmFtZTogbmFtZSA/PyBsbG0uaWRbbGxtLmlkLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgcGFyZW50X3J1bl9pZDogcGFyZW50UnVuSWQsXG4gICAgICAgICAgICBzdGFydF90aW1lLFxuICAgICAgICAgICAgc2VyaWFsaXplZDogbGxtLFxuICAgICAgICAgICAgZXZlbnRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKHN0YXJ0X3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBpbnB1dHM6IHsgcHJvbXB0cyB9LFxuICAgICAgICAgICAgZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIHJ1bl90eXBlOiBcImxsbVwiLFxuICAgICAgICAgICAgZXh0cmE6IGZpbmFsRXh0cmFQYXJhbXMgPz8ge30sXG4gICAgICAgICAgICB0YWdzOiB0YWdzIHx8IFtdLFxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCB0aGlzLl9zdGFydFRyYWNlKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMub25MTE1TdGFydD8uKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYXRNb2RlbFN0YXJ0KGxsbSwgbWVzc2FnZXMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGlvbl9vcmRlciA9IHRoaXMuX2dldEV4ZWN1dGlvbk9yZGVyKHBhcmVudFJ1bklkKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGZpbmFsRXh0cmFQYXJhbXMgPSBtZXRhZGF0YVxuICAgICAgICAgICAgPyB7IC4uLmV4dHJhUGFyYW1zLCBtZXRhZGF0YSB9XG4gICAgICAgICAgICA6IGV4dHJhUGFyYW1zO1xuICAgICAgICBjb25zdCBydW4gPSB7XG4gICAgICAgICAgICBpZDogcnVuSWQsXG4gICAgICAgICAgICBuYW1lOiBuYW1lID8/IGxsbS5pZFtsbG0uaWQubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWUsXG4gICAgICAgICAgICBzZXJpYWxpemVkOiBsbG0sXG4gICAgICAgICAgICBldmVudHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoc3RhcnRfdGltZSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGlucHV0czogeyBtZXNzYWdlcyB9LFxuICAgICAgICAgICAgZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIHJ1bl90eXBlOiBcImxsbVwiLFxuICAgICAgICAgICAgZXh0cmE6IGZpbmFsRXh0cmFQYXJhbXMgPz8ge30sXG4gICAgICAgICAgICB0YWdzOiB0YWdzIHx8IFtdLFxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCB0aGlzLl9zdGFydFRyYWNlKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMub25MTE1TdGFydD8uKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUxMTUVuZChvdXRwdXQsIHJ1bklkKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG4gICAgICAgIGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwibGxtXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIExMTSBydW4gdG8gZW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBydW4ub3V0cHV0cyA9IG91dHB1dDtcbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiZW5kXCIsXG4gICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLm9uTExNRW5kPy4ocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTExNRXJyb3IoZXJyb3IsIHJ1bklkKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG4gICAgICAgIGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwibGxtXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIExMTSBydW4gdG8gZW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBydW4uZXJyb3IgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgdGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5vbkxMTUVycm9yPy4ocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlQ2hhaW5TdGFydChjaGFpbiwgaW5wdXRzLCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBydW5UeXBlLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGlvbl9vcmRlciA9IHRoaXMuX2dldEV4ZWN1dGlvbk9yZGVyKHBhcmVudFJ1bklkKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IHJ1biA9IHtcbiAgICAgICAgICAgIGlkOiBydW5JZCxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUgPz8gY2hhaW4uaWRbY2hhaW4uaWQubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWUsXG4gICAgICAgICAgICBzZXJpYWxpemVkOiBjaGFpbixcbiAgICAgICAgICAgIGV2ZW50czogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShzdGFydF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgaW5wdXRzLFxuICAgICAgICAgICAgZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgY2hpbGRfZXhlY3V0aW9uX29yZGVyOiBleGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICBydW5fdHlwZTogcnVuVHlwZSA/PyBcImNoYWluXCIsXG4gICAgICAgICAgICBjaGlsZF9ydW5zOiBbXSxcbiAgICAgICAgICAgIGV4dHJhOiBtZXRhZGF0YSA/IHsgbWV0YWRhdGEgfSA6IHt9LFxuICAgICAgICAgICAgdGFnczogdGFncyB8fCBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgdGhpcy5fc3RhcnRUcmFjZShydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLm9uQ2hhaW5TdGFydD8uKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYWluRW5kKG91dHB1dHMsIHJ1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBrd2FyZ3MpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGNoYWluIHJ1biB0byBlbmQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHJ1bi5vdXRwdXRzID0gX2NvZXJjZVRvRGljdChvdXRwdXRzLCBcIm91dHB1dFwiKTtcbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiZW5kXCIsXG4gICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoa3dhcmdzPy5pbnB1dHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcnVuLmlucHV0cyA9IF9jb2VyY2VUb0RpY3Qoa3dhcmdzLmlucHV0cywgXCJpbnB1dFwiKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLm9uQ2hhaW5FbmQ/LihydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuICAgICAgICByZXR1cm4gcnVuO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVDaGFpbkVycm9yKGVycm9yLCBydW5JZCwgX3BhcmVudFJ1bklkLCBfdGFncywga3dhcmdzKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG4gICAgICAgIGlmICghcnVuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjaGFpbiBydW4gdG8gZW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBydW4uZXJyb3IgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgdGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGt3YXJncz8uaW5wdXRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJ1bi5pbnB1dHMgPSBfY29lcmNlVG9EaWN0KGt3YXJncy5pbnB1dHMsIFwiaW5wdXRcIik7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5vbkNoYWluRXJyb3I/LihydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuICAgICAgICByZXR1cm4gcnVuO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVUb29sU3RhcnQodG9vbCwgaW5wdXQsIHJ1bklkLCBwYXJlbnRSdW5JZCwgdGFncywgbWV0YWRhdGEsIG5hbWUpIHtcbiAgICAgICAgY29uc3QgZXhlY3V0aW9uX29yZGVyID0gdGhpcy5fZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgcnVuID0ge1xuICAgICAgICAgICAgaWQ6IHJ1bklkLFxuICAgICAgICAgICAgbmFtZTogbmFtZSA/PyB0b29sLmlkW3Rvb2wuaWQubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWUsXG4gICAgICAgICAgICBzZXJpYWxpemVkOiB0b29sLFxuICAgICAgICAgICAgZXZlbnRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKHN0YXJ0X3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBpbnB1dHM6IHsgaW5wdXQgfSxcbiAgICAgICAgICAgIGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIGNoaWxkX2V4ZWN1dGlvbl9vcmRlcjogZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgcnVuX3R5cGU6IFwidG9vbFwiLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgICAgICBleHRyYTogbWV0YWRhdGEgPyB7IG1ldGFkYXRhIH0gOiB7fSxcbiAgICAgICAgICAgIHRhZ3M6IHRhZ3MgfHwgW10sXG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IHRoaXMuX3N0YXJ0VHJhY2UocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5vblRvb2xTdGFydD8uKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVRvb2xFbmQob3V0cHV0LCBydW5JZCkge1xuICAgICAgICBjb25zdCBydW4gPSB0aGlzLnJ1bk1hcC5nZXQocnVuSWQpO1xuICAgICAgICBpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcInRvb2xcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdG9vbCBydW4gdG8gZW5kXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHJ1bi5vdXRwdXRzID0geyBvdXRwdXQgfTtcbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiZW5kXCIsXG4gICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLm9uVG9vbEVuZD8uKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVRvb2xFcnJvcihlcnJvciwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJ0b29sXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHRvb2wgcnVuIHRvIGVuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBydW4uZXJyb3IgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgdGltZTogbmV3IERhdGUocnVuLmVuZF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5vblRvb2xFcnJvcj8uKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUFnZW50QWN0aW9uKGFjdGlvbiwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJjaGFpblwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWdlbnRSdW4gPSBydW47XG4gICAgICAgIGFnZW50UnVuLmFjdGlvbnMgPSBhZ2VudFJ1bi5hY3Rpb25zIHx8IFtdO1xuICAgICAgICBhZ2VudFJ1bi5hY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgICAgYWdlbnRSdW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJhZ2VudF9hY3Rpb25cIixcbiAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGt3YXJnczogeyBhY3Rpb24gfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMub25BZ2VudEFjdGlvbj8uKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUFnZW50RW5kKGFjdGlvbiwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJjaGFpblwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiYWdlbnRfZW5kXCIsXG4gICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBrd2FyZ3M6IHsgYWN0aW9uIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLm9uQWdlbnRFbmQ/LihydW4pO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVSZXRyaWV2ZXJTdGFydChyZXRyaWV2ZXIsIHF1ZXJ5LCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGlvbl9vcmRlciA9IHRoaXMuX2dldEV4ZWN1dGlvbk9yZGVyKHBhcmVudFJ1bklkKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IHJ1biA9IHtcbiAgICAgICAgICAgIGlkOiBydW5JZCxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUgPz8gcmV0cmlldmVyLmlkW3JldHJpZXZlci5pZC5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgIHBhcmVudF9ydW5faWQ6IHBhcmVudFJ1bklkLFxuICAgICAgICAgICAgc3RhcnRfdGltZSxcbiAgICAgICAgICAgIHNlcmlhbGl6ZWQ6IHJldHJpZXZlcixcbiAgICAgICAgICAgIGV2ZW50czogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShzdGFydF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgaW5wdXRzOiB7IHF1ZXJ5IH0sXG4gICAgICAgICAgICBleGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIHJ1bl90eXBlOiBcInJldHJpZXZlclwiLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgICAgICBleHRyYTogbWV0YWRhdGEgPyB7IG1ldGFkYXRhIH0gOiB7fSxcbiAgICAgICAgICAgIHRhZ3M6IHRhZ3MgfHwgW10sXG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IHRoaXMuX3N0YXJ0VHJhY2UocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5vblJldHJpZXZlclN0YXJ0Py4ocnVuKTtcbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlUmV0cmlldmVyRW5kKGRvY3VtZW50cywgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJyZXRyaWV2ZXJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmV0cmlldmVyIHJ1biB0byBlbmRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcnVuLm91dHB1dHMgPSB7IGRvY3VtZW50cyB9O1xuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJlbmRcIixcbiAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMub25SZXRyaWV2ZXJFbmQ/LihydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuICAgICAgICByZXR1cm4gcnVuO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVSZXRyaWV2ZXJFcnJvcihlcnJvciwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJyZXRyaWV2ZXJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmV0cmlldmVyIHJ1biB0byBlbmRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcnVuLmVycm9yID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiZXJyb3JcIixcbiAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMub25SZXRyaWV2ZXJFcnJvcj8uKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVRleHQodGV4dCwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJjaGFpblwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwidGV4dFwiLFxuICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAga3dhcmdzOiB7IHRleHQgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMub25UZXh0Py4ocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTExNTmV3VG9rZW4odG9rZW4sIGlkeCwgcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGZpZWxkcykge1xuICAgICAgICBjb25zdCBydW4gPSB0aGlzLnJ1bk1hcC5nZXQocnVuSWQpO1xuICAgICAgICBpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcImxsbVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgXCJydW5JZFwiIHByb3ZpZGVkIHRvIFwiaGFuZGxlTExNTmV3VG9rZW5cIiBjYWxsYmFjay5gKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogXCJuZXdfdG9rZW5cIixcbiAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGt3YXJnczogeyB0b2tlbiwgaWR4LCBjaHVuazogZmllbGRzPy5jaHVuayB9LFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5vbkxMTU5ld1Rva2VuPy4ocnVuLCB0b2tlbik7XG4gICAgICAgIHJldHVybiBydW47XG4gICAgfVxufVxuIiwiaW1wb3J0IHN0eWxlcyBmcm9tIFwiYW5zaS1zdHlsZXNcIjtcbmltcG9ydCB7IEJhc2VUcmFjZXIgfSBmcm9tIFwiLi90cmFjZXIuanNcIjtcbmZ1bmN0aW9uIHdyYXAoc3R5bGUsIHRleHQpIHtcbiAgICByZXR1cm4gYCR7c3R5bGUub3Blbn0ke3RleHR9JHtzdHlsZS5jbG9zZX1gO1xufVxuZnVuY3Rpb24gdHJ5SnNvblN0cmluZ2lmeShvYmosIGZhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVsYXBzZWQocnVuKSB7XG4gICAgaWYgKCFydW4uZW5kX3RpbWUpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIGNvbnN0IGVsYXBzZWQgPSBydW4uZW5kX3RpbWUgLSBydW4uc3RhcnRfdGltZTtcbiAgICBpZiAoZWxhcHNlZCA8IDEwMDApIHtcbiAgICAgICAgcmV0dXJuIGAke2VsYXBzZWR9bXNgO1xuICAgIH1cbiAgICByZXR1cm4gYCR7KGVsYXBzZWQgLyAxMDAwKS50b0ZpeGVkKDIpfXNgO1xufVxuY29uc3QgeyBjb2xvciB9ID0gc3R5bGVzO1xuLyoqXG4gKiBBIHRyYWNlciB0aGF0IGxvZ3MgYWxsIGV2ZW50cyB0byB0aGUgY29uc29sZS4gSXQgZXh0ZW5kcyBmcm9tIHRoZVxuICogYEJhc2VUcmFjZXJgIGNsYXNzIGFuZCBvdmVycmlkZXMgaXRzIG1ldGhvZHMgdG8gcHJvdmlkZSBjdXN0b20gbG9nZ2luZ1xuICogZnVuY3Rpb25hbGl0eS5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbnNvbGVDYWxsYmFja0hhbmRsZXIgZXh0ZW5kcyBCYXNlVHJhY2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJjb25zb2xlX2NhbGxiYWNrX2hhbmRsZXJcIlxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gcGVyc2lzdCB0aGUgcnVuLiBJbiB0aGlzIGNhc2UsIGl0IHNpbXBseSByZXR1cm5zIGFcbiAgICAgKiByZXNvbHZlZCBwcm9taXNlIGFzIHRoZXJlJ3Mgbm8gcGVyc2lzdGVuY2UgbG9naWMuXG4gICAgICogQHBhcmFtIF9ydW4gVGhlIHJ1biB0byBwZXJzaXN0LlxuICAgICAqIEByZXR1cm5zIEEgcmVzb2x2ZWQgcHJvbWlzZS5cbiAgICAgKi9cbiAgICBwZXJzaXN0UnVuKF9ydW4pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICAvLyB1dGlsaXR5IG1ldGhvZHNcbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBnZXQgYWxsIHRoZSBwYXJlbnQgcnVucyBvZiBhIGdpdmVuIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBydW4gd2hvc2UgcGFyZW50cyBhcmUgdG8gYmUgcmV0cmlldmVkLlxuICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHBhcmVudCBydW5zLlxuICAgICAqL1xuICAgIGdldFBhcmVudHMocnVuKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudHMgPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnRSdW4gPSBydW47XG4gICAgICAgIHdoaWxlIChjdXJyZW50UnVuLnBhcmVudF9ydW5faWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucnVuTWFwLmdldChjdXJyZW50UnVuLnBhcmVudF9ydW5faWQpO1xuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIHBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRSdW4gPSBwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyZW50cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gZ2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBydW4ncyBsaW5lYWdlLCB3aGljaFxuICAgICAqIGlzIHVzZWQgaW4gbG9nZ2luZy5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBydW4gd2hvc2UgbGluZWFnZSBpcyB0byBiZSByZXRyaWV2ZWQuXG4gICAgICogQHJldHVybnMgQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJ1bidzIGxpbmVhZ2UuXG4gICAgICovXG4gICAgZ2V0QnJlYWRjcnVtYnMocnVuKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudHMgPSB0aGlzLmdldFBhcmVudHMocnVuKS5yZXZlcnNlKCk7XG4gICAgICAgIGNvbnN0IHN0cmluZyA9IFsuLi5wYXJlbnRzLCBydW5dXG4gICAgICAgICAgICAubWFwKChwYXJlbnQsIGksIGFycikgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke3BhcmVudC5leGVjdXRpb25fb3JkZXJ9OiR7cGFyZW50LnJ1bl90eXBlfToke3BhcmVudC5uYW1lfWA7XG4gICAgICAgICAgICByZXR1cm4gaSA9PT0gYXJyLmxlbmd0aCAtIDEgPyB3cmFwKHN0eWxlcy5ib2xkLCBuYW1lKSA6IG5hbWU7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbihcIiA+IFwiKTtcbiAgICAgICAgcmV0dXJuIHdyYXAoY29sb3IuZ3JleSwgc3RyaW5nKTtcbiAgICB9XG4gICAgLy8gbG9nZ2luZyBtZXRob2RzXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBzdGFydCBvZiBhIGNoYWluIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBjaGFpbiBydW4gdGhhdCBoYXMgc3RhcnRlZC5cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgb25DaGFpblN0YXJ0KHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW2NoYWluL3N0YXJ0XVwiKX0gWyR7Y3J1bWJzfV0gRW50ZXJpbmcgQ2hhaW4gcnVuIHdpdGggaW5wdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uaW5wdXRzLCBcIltpbnB1dHNdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIGVuZCBvZiBhIGNoYWluIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBjaGFpbiBydW4gdGhhdCBoYXMgZW5kZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uQ2hhaW5FbmQocnVuKSB7XG4gICAgICAgIGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcbiAgICAgICAgY29uc29sZS5sb2coYCR7d3JhcChjb2xvci5jeWFuLCBcIltjaGFpbi9lbmRdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBFeGl0aW5nIENoYWluIHJ1biB3aXRoIG91dHB1dDogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5vdXRwdXRzLCBcIltvdXRwdXRzXVwiKX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gbG9nIGFueSBlcnJvcnMgb2YgYSBjaGFpbiBydW4uXG4gICAgICogQHBhcmFtIHJ1biBUaGUgY2hhaW4gcnVuIHRoYXQgaGFzIGVycm9yZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uQ2hhaW5FcnJvcihydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLnJlZCwgXCJbY2hhaW4vZXJyb3JdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBDaGFpbiBydW4gZXJyb3JlZCB3aXRoIGVycm9yOiAke3RyeUpzb25TdHJpbmdpZnkocnVuLmVycm9yLCBcIltlcnJvcl1cIil9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgc3RhcnQgb2YgYW4gTExNIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBMTE0gcnVuIHRoYXQgaGFzIHN0YXJ0ZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uTExNU3RhcnQocnVuKSB7XG4gICAgICAgIGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcbiAgICAgICAgY29uc3QgaW5wdXRzID0gXCJwcm9tcHRzXCIgaW4gcnVuLmlucHV0c1xuICAgICAgICAgICAgPyB7IHByb21wdHM6IHJ1bi5pbnB1dHMucHJvbXB0cy5tYXAoKHApID0+IHAudHJpbSgpKSB9XG4gICAgICAgICAgICA6IHJ1bi5pbnB1dHM7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW2xsbS9zdGFydF1cIil9IFske2NydW1ic31dIEVudGVyaW5nIExMTSBydW4gd2l0aCBpbnB1dDogJHt0cnlKc29uU3RyaW5naWZ5KGlucHV0cywgXCJbaW5wdXRzXVwiKX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBlbmQgb2YgYW4gTExNIHJ1bi5cbiAgICAgKiBAcGFyYW0gcnVuIFRoZSBMTE0gcnVuIHRoYXQgaGFzIGVuZGVkLlxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBvbkxMTUVuZChydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmN5YW4sIFwiW2xsbS9lbmRdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBFeGl0aW5nIExMTSBydW4gd2l0aCBvdXRwdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4ub3V0cHV0cywgXCJbcmVzcG9uc2VdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgYW55IGVycm9ycyBvZiBhbiBMTE0gcnVuLlxuICAgICAqIEBwYXJhbSBydW4gVGhlIExMTSBydW4gdGhhdCBoYXMgZXJyb3JlZC5cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgb25MTE1FcnJvcihydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLnJlZCwgXCJbbGxtL2Vycm9yXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gTExNIHJ1biBlcnJvcmVkIHdpdGggZXJyb3I6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uZXJyb3IsIFwiW2Vycm9yXVwiKX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBzdGFydCBvZiBhIHRvb2wgcnVuLlxuICAgICAqIEBwYXJhbSBydW4gVGhlIHRvb2wgcnVuIHRoYXQgaGFzIHN0YXJ0ZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uVG9vbFN0YXJ0KHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW3Rvb2wvc3RhcnRdXCIpfSBbJHtjcnVtYnN9XSBFbnRlcmluZyBUb29sIHJ1biB3aXRoIGlucHV0OiBcIiR7cnVuLmlucHV0cy5pbnB1dD8udHJpbSgpfVwiYCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgZW5kIG9mIGEgdG9vbCBydW4uXG4gICAgICogQHBhcmFtIHJ1biBUaGUgdG9vbCBydW4gdGhhdCBoYXMgZW5kZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uVG9vbEVuZChydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmN5YW4sIFwiW3Rvb2wvZW5kXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gRXhpdGluZyBUb29sIHJ1biB3aXRoIG91dHB1dDogXCIke3J1bi5vdXRwdXRzPy5vdXRwdXQ/LnRyaW0oKX1cImApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgYW55IGVycm9ycyBvZiBhIHRvb2wgcnVuLlxuICAgICAqIEBwYXJhbSBydW4gVGhlIHRvb2wgcnVuIHRoYXQgaGFzIGVycm9yZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uVG9vbEVycm9yKHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IucmVkLCBcIlt0b29sL2Vycm9yXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gVG9vbCBydW4gZXJyb3JlZCB3aXRoIGVycm9yOiAke3RyeUpzb25TdHJpbmdpZnkocnVuLmVycm9yLCBcIltlcnJvcl1cIil9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgc3RhcnQgb2YgYSByZXRyaWV2ZXIgcnVuLlxuICAgICAqIEBwYXJhbSBydW4gVGhlIHJldHJpZXZlciBydW4gdGhhdCBoYXMgc3RhcnRlZC5cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgb25SZXRyaWV2ZXJTdGFydChydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmdyZWVuLCBcIltyZXRyaWV2ZXIvc3RhcnRdXCIpfSBbJHtjcnVtYnN9XSBFbnRlcmluZyBSZXRyaWV2ZXIgcnVuIHdpdGggaW5wdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uaW5wdXRzLCBcIltpbnB1dHNdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIGVuZCBvZiBhIHJldHJpZXZlciBydW4uXG4gICAgICogQHBhcmFtIHJ1biBUaGUgcmV0cmlldmVyIHJ1biB0aGF0IGhhcyBlbmRlZC5cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgb25SZXRyaWV2ZXJFbmQocnVuKSB7XG4gICAgICAgIGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcbiAgICAgICAgY29uc29sZS5sb2coYCR7d3JhcChjb2xvci5jeWFuLCBcIltyZXRyaWV2ZXIvZW5kXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gRXhpdGluZyBSZXRyaWV2ZXIgcnVuIHdpdGggb3V0cHV0OiAke3RyeUpzb25TdHJpbmdpZnkocnVuLm91dHB1dHMsIFwiW291dHB1dHNdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgYW55IGVycm9ycyBvZiBhIHJldHJpZXZlciBydW4uXG4gICAgICogQHBhcmFtIHJ1biBUaGUgcmV0cmlldmVyIHJ1biB0aGF0IGhhcyBlcnJvcmVkLlxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBvblJldHJpZXZlckVycm9yKHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IucmVkLCBcIltyZXRyaWV2ZXIvZXJyb3JdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBSZXRyaWV2ZXIgcnVuIGVycm9yZWQgd2l0aCBlcnJvcjogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5lcnJvciwgXCJbZXJyb3JdXCIpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIGFjdGlvbiBzZWxlY3RlZCBieSB0aGUgYWdlbnQuXG4gICAgICogQHBhcmFtIHJ1biBUaGUgcnVuIGluIHdoaWNoIHRoZSBhZ2VudCBhY3Rpb24gb2NjdXJyZWQuXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uQWdlbnRBY3Rpb24ocnVuKSB7XG4gICAgICAgIGNvbnN0IGFnZW50UnVuID0gcnVuO1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuYmx1ZSwgXCJbYWdlbnQvYWN0aW9uXVwiKX0gWyR7Y3J1bWJzfV0gQWdlbnQgc2VsZWN0ZWQgYWN0aW9uOiAke3RyeUpzb25TdHJpbmdpZnkoYWdlbnRSdW4uYWN0aW9uc1thZ2VudFJ1bi5hY3Rpb25zLmxlbmd0aCAtIDFdLCBcIlthY3Rpb25dXCIpfWApO1xuICAgIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gKHByb21pc2UsIG9uRmluYWxseSkgPT4ge1xuXHRvbkZpbmFsbHkgPSBvbkZpbmFsbHkgfHwgKCgpID0+IHt9KTtcblxuXHRyZXR1cm4gcHJvbWlzZS50aGVuKFxuXHRcdHZhbCA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcblx0XHRcdHJlc29sdmUob25GaW5hbGx5KCkpO1xuXHRcdH0pLnRoZW4oKCkgPT4gdmFsKSxcblx0XHRlcnIgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdFx0XHRyZXNvbHZlKG9uRmluYWxseSgpKTtcblx0XHR9KS50aGVuKCgpID0+IHtcblx0XHRcdHRocm93IGVycjtcblx0XHR9KVxuXHQpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcEZpbmFsbHkgPSByZXF1aXJlKCdwLWZpbmFsbHknKTtcblxuY2xhc3MgVGltZW91dEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG5cdFx0c3VwZXIobWVzc2FnZSk7XG5cdFx0dGhpcy5uYW1lID0gJ1RpbWVvdXRFcnJvcic7XG5cdH1cbn1cblxuY29uc3QgcFRpbWVvdXQgPSAocHJvbWlzZSwgbWlsbGlzZWNvbmRzLCBmYWxsYmFjaykgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRpZiAodHlwZW9mIG1pbGxpc2Vjb25kcyAhPT0gJ251bWJlcicgfHwgbWlsbGlzZWNvbmRzIDwgMCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGBtaWxsaXNlY29uZHNgIHRvIGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG5cdH1cblxuXHRpZiAobWlsbGlzZWNvbmRzID09PSBJbmZpbml0eSkge1xuXHRcdHJlc29sdmUocHJvbWlzZSk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRpZiAodHlwZW9mIGZhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXNvbHZlKGZhbGxiYWNrKCkpO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IG1lc3NhZ2UgPSB0eXBlb2YgZmFsbGJhY2sgPT09ICdzdHJpbmcnID8gZmFsbGJhY2sgOiBgUHJvbWlzZSB0aW1lZCBvdXQgYWZ0ZXIgJHttaWxsaXNlY29uZHN9IG1pbGxpc2Vjb25kc2A7XG5cdFx0Y29uc3QgdGltZW91dEVycm9yID0gZmFsbGJhY2sgaW5zdGFuY2VvZiBFcnJvciA/IGZhbGxiYWNrIDogbmV3IFRpbWVvdXRFcnJvcihtZXNzYWdlKTtcblxuXHRcdGlmICh0eXBlb2YgcHJvbWlzZS5jYW5jZWwgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHByb21pc2UuY2FuY2VsKCk7XG5cdFx0fVxuXG5cdFx0cmVqZWN0KHRpbWVvdXRFcnJvcik7XG5cdH0sIG1pbGxpc2Vjb25kcyk7XG5cblx0Ly8gVE9ETzogVXNlIG5hdGl2ZSBgZmluYWxseWAga2V5d29yZCB3aGVuIHRhcmdldGluZyBOb2RlLmpzIDEwXG5cdHBGaW5hbGx5KFxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcm9taXNlL3ByZWZlci1hd2FpdC10by10aGVuXG5cdFx0cHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCksXG5cdFx0KCkgPT4ge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVyKTtcblx0XHR9XG5cdCk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwVGltZW91dDtcbi8vIFRPRE86IFJlbW92ZSB0aGlzIGZvciB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gcFRpbWVvdXQ7XG5cbm1vZHVsZS5leHBvcnRzLlRpbWVvdXRFcnJvciA9IFRpbWVvdXRFcnJvcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gUG9ydCBvZiBsb3dlcl9ib3VuZCBmcm9tIGh0dHBzOi8vZW4uY3BwcmVmZXJlbmNlLmNvbS93L2NwcC9hbGdvcml0aG0vbG93ZXJfYm91bmRcbi8vIFVzZWQgdG8gY29tcHV0ZSBpbnNlcnRpb24gaW5kZXggdG8ga2VlcCBxdWV1ZSBzb3J0ZWQgYWZ0ZXIgaW5zZXJ0aW9uXG5mdW5jdGlvbiBsb3dlckJvdW5kKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIGxldCBmaXJzdCA9IDA7XG4gICAgbGV0IGNvdW50ID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlIChjb3VudCA+IDApIHtcbiAgICAgICAgY29uc3Qgc3RlcCA9IChjb3VudCAvIDIpIHwgMDtcbiAgICAgICAgbGV0IGl0ID0gZmlyc3QgKyBzdGVwO1xuICAgICAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpdF0sIHZhbHVlKSA8PSAwKSB7XG4gICAgICAgICAgICBmaXJzdCA9ICsraXQ7XG4gICAgICAgICAgICBjb3VudCAtPSBzdGVwICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvdW50ID0gc3RlcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmlyc3Q7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBsb3dlckJvdW5kO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBsb3dlcl9ib3VuZF8xID0gcmVxdWlyZShcIi4vbG93ZXItYm91bmRcIik7XG5jbGFzcyBQcmlvcml0eVF1ZXVlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTtcbiAgICB9XG4gICAgZW5xdWV1ZShydW4sIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBwcmlvcml0eTogMCB9LCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHtcbiAgICAgICAgICAgIHByaW9yaXR5OiBvcHRpb25zLnByaW9yaXR5LFxuICAgICAgICAgICAgcnVuXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnNpemUgJiYgdGhpcy5fcXVldWVbdGhpcy5zaXplIC0gMV0ucHJpb3JpdHkgPj0gb3B0aW9ucy5wcmlvcml0eSkge1xuICAgICAgICAgICAgdGhpcy5fcXVldWUucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleCA9IGxvd2VyX2JvdW5kXzEuZGVmYXVsdCh0aGlzLl9xdWV1ZSwgZWxlbWVudCwgKGEsIGIpID0+IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5KTtcbiAgICAgICAgdGhpcy5fcXVldWUuc3BsaWNlKGluZGV4LCAwLCBlbGVtZW50KTtcbiAgICB9XG4gICAgZGVxdWV1ZSgpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIHJldHVybiBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0ucnVuO1xuICAgIH1cbiAgICBmaWx0ZXIob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUuZmlsdGVyKChlbGVtZW50KSA9PiBlbGVtZW50LnByaW9yaXR5ID09PSBvcHRpb25zLnByaW9yaXR5KS5tYXAoKGVsZW1lbnQpID0+IGVsZW1lbnQucnVuKTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5sZW5ndGg7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gUHJpb3JpdHlRdWV1ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50ZW1pdHRlcjNcIik7XG5jb25zdCBwX3RpbWVvdXRfMSA9IHJlcXVpcmUoXCJwLXRpbWVvdXRcIik7XG5jb25zdCBwcmlvcml0eV9xdWV1ZV8xID0gcmVxdWlyZShcIi4vcHJpb3JpdHktcXVldWVcIik7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG5jb25zdCBlbXB0eSA9ICgpID0+IHsgfTtcbmNvbnN0IHRpbWVvdXRFcnJvciA9IG5ldyBwX3RpbWVvdXRfMS5UaW1lb3V0RXJyb3IoKTtcbi8qKlxuUHJvbWlzZSBxdWV1ZSB3aXRoIGNvbmN1cnJlbmN5IGNvbnRyb2wuXG4qL1xuY2xhc3MgUFF1ZXVlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWxDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX2ludGVydmFsRW5kID0gMDtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUVtcHR5ID0gZW1wdHk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVJZGxlID0gZW1wdHk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBjYXJyeW92ZXJDb25jdXJyZW5jeUNvdW50OiBmYWxzZSwgaW50ZXJ2YWxDYXA6IEluZmluaXR5LCBpbnRlcnZhbDogMCwgY29uY3VycmVuY3k6IEluZmluaXR5LCBhdXRvU3RhcnQ6IHRydWUsIHF1ZXVlQ2xhc3M6IHByaW9yaXR5X3F1ZXVlXzEuZGVmYXVsdCB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCEodHlwZW9mIG9wdGlvbnMuaW50ZXJ2YWxDYXAgPT09ICdudW1iZXInICYmIG9wdGlvbnMuaW50ZXJ2YWxDYXAgPj0gMSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFxcYGludGVydmFsQ2FwXFxgIHRvIGJlIGEgbnVtYmVyIGZyb20gMSBhbmQgdXAsIGdvdCBcXGAkeyhfYiA9IChfYSA9IG9wdGlvbnMuaW50ZXJ2YWxDYXApID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b1N0cmluZygpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJ31cXGAgKCR7dHlwZW9mIG9wdGlvbnMuaW50ZXJ2YWxDYXB9KWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmludGVydmFsID09PSB1bmRlZmluZWQgfHwgIShOdW1iZXIuaXNGaW5pdGUob3B0aW9ucy5pbnRlcnZhbCkgJiYgb3B0aW9ucy5pbnRlcnZhbCA+PSAwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgXFxgaW50ZXJ2YWxcXGAgdG8gYmUgYSBmaW5pdGUgbnVtYmVyID49IDAsIGdvdCBcXGAkeyhfZCA9IChfYyA9IG9wdGlvbnMuaW50ZXJ2YWwpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50b1N0cmluZygpKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAnJ31cXGAgKCR7dHlwZW9mIG9wdGlvbnMuaW50ZXJ2YWx9KWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQgPSBvcHRpb25zLmNhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQ7XG4gICAgICAgIHRoaXMuX2lzSW50ZXJ2YWxJZ25vcmVkID0gb3B0aW9ucy5pbnRlcnZhbENhcCA9PT0gSW5maW5pdHkgfHwgb3B0aW9ucy5pbnRlcnZhbCA9PT0gMDtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWxDYXAgPSBvcHRpb25zLmludGVydmFsQ2FwO1xuICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IG9wdGlvbnMuaW50ZXJ2YWw7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gbmV3IG9wdGlvbnMucXVldWVDbGFzcygpO1xuICAgICAgICB0aGlzLl9xdWV1ZUNsYXNzID0gb3B0aW9ucy5xdWV1ZUNsYXNzO1xuICAgICAgICB0aGlzLmNvbmN1cnJlbmN5ID0gb3B0aW9ucy5jb25jdXJyZW5jeTtcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IG9wdGlvbnMudGltZW91dDtcbiAgICAgICAgdGhpcy5fdGhyb3dPblRpbWVvdXQgPSBvcHRpb25zLnRocm93T25UaW1lb3V0ID09PSB0cnVlO1xuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IG9wdGlvbnMuYXV0b1N0YXJ0ID09PSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IF9kb2VzSW50ZXJ2YWxBbGxvd0Fub3RoZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0ludGVydmFsSWdub3JlZCB8fCB0aGlzLl9pbnRlcnZhbENvdW50IDwgdGhpcy5faW50ZXJ2YWxDYXA7XG4gICAgfVxuICAgIGdldCBfZG9lc0NvbmN1cnJlbnRBbGxvd0Fub3RoZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wZW5kaW5nQ291bnQgPCB0aGlzLl9jb25jdXJyZW5jeTtcbiAgICB9XG4gICAgX25leHQoKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdDb3VudC0tO1xuICAgICAgICB0aGlzLl90cnlUb1N0YXJ0QW5vdGhlcigpO1xuICAgICAgICB0aGlzLmVtaXQoJ25leHQnKTtcbiAgICB9XG4gICAgX3Jlc29sdmVQcm9taXNlcygpIHtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUVtcHR5KCk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVFbXB0eSA9IGVtcHR5O1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlSWRsZSgpO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUlkbGUgPSBlbXB0eTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnaWRsZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9vblJlc3VtZUludGVydmFsKCkge1xuICAgICAgICB0aGlzLl9vbkludGVydmFsKCk7XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVJbnRlcnZhbElmTmVlZGVkKCk7XG4gICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgX2lzSW50ZXJ2YWxQYXVzZWQoKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGlmICh0aGlzLl9pbnRlcnZhbElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5faW50ZXJ2YWxFbmQgLSBub3c7XG4gICAgICAgICAgICBpZiAoZGVsYXkgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gQWN0IGFzIHRoZSBpbnRlcnZhbCB3YXMgZG9uZVxuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gcmVzdW1lIGl0IGhlcmUgYmVjYXVzZSBpdCB3aWxsIGJlIHJlc3VtZWQgb24gbGluZSAxNjBcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcnZhbENvdW50ID0gKHRoaXMuX2NhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQpID8gdGhpcy5fcGVuZGluZ0NvdW50IDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFjdCBhcyB0aGUgaW50ZXJ2YWwgaXMgcGVuZGluZ1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90aW1lb3V0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uUmVzdW1lSW50ZXJ2YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIF90cnlUb1N0YXJ0QW5vdGhlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3F1ZXVlLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIC8vIFdlIGNhbiBjbGVhciB0aGUgaW50ZXJ2YWwgKFwicGF1c2VcIilcbiAgICAgICAgICAgIC8vIEJlY2F1c2Ugd2UgY2FuIHJlZG8gaXQgbGF0ZXIgKFwicmVzdW1lXCIpXG4gICAgICAgICAgICBpZiAodGhpcy5faW50ZXJ2YWxJZCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbElkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZVByb21pc2VzKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgICAgICAgY29uc3QgY2FuSW5pdGlhbGl6ZUludGVydmFsID0gIXRoaXMuX2lzSW50ZXJ2YWxQYXVzZWQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kb2VzSW50ZXJ2YWxBbGxvd0Fub3RoZXIgJiYgdGhpcy5fZG9lc0NvbmN1cnJlbnRBbGxvd0Fub3RoZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBqb2IgPSB0aGlzLl9xdWV1ZS5kZXF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFqb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIGpvYigpO1xuICAgICAgICAgICAgICAgIGlmIChjYW5Jbml0aWFsaXplSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZUludGVydmFsSWZOZWVkZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBfaW5pdGlhbGl6ZUludGVydmFsSWZOZWVkZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0ludGVydmFsSWdub3JlZCB8fCB0aGlzLl9pbnRlcnZhbElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25JbnRlcnZhbCgpO1xuICAgICAgICB9LCB0aGlzLl9pbnRlcnZhbCk7XG4gICAgICAgIHRoaXMuX2ludGVydmFsRW5kID0gRGF0ZS5ub3coKSArIHRoaXMuX2ludGVydmFsO1xuICAgIH1cbiAgICBfb25JbnRlcnZhbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2ludGVydmFsQ291bnQgPT09IDAgJiYgdGhpcy5fcGVuZGluZ0NvdW50ID09PSAwICYmIHRoaXMuX2ludGVydmFsSWQpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbElkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludGVydmFsQ291bnQgPSB0aGlzLl9jYXJyeW92ZXJDb25jdXJyZW5jeUNvdW50ID8gdGhpcy5fcGVuZGluZ0NvdW50IDogMDtcbiAgICAgICAgdGhpcy5fcHJvY2Vzc1F1ZXVlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEV4ZWN1dGVzIGFsbCBxdWV1ZWQgZnVuY3Rpb25zIHVudGlsIGl0IHJlYWNoZXMgdGhlIGxpbWl0LlxuICAgICovXG4gICAgX3Byb2Nlc3NRdWV1ZSgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgICAgIHdoaWxlICh0aGlzLl90cnlUb1N0YXJ0QW5vdGhlcigpKSB7IH1cbiAgICB9XG4gICAgZ2V0IGNvbmN1cnJlbmN5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uY3VycmVuY3k7XG4gICAgfVxuICAgIHNldCBjb25jdXJyZW5jeShuZXdDb25jdXJyZW5jeSkge1xuICAgICAgICBpZiAoISh0eXBlb2YgbmV3Q29uY3VycmVuY3kgPT09ICdudW1iZXInICYmIG5ld0NvbmN1cnJlbmN5ID49IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBcXGBjb25jdXJyZW5jeVxcYCB0byBiZSBhIG51bWJlciBmcm9tIDEgYW5kIHVwLCBnb3QgXFxgJHtuZXdDb25jdXJyZW5jeX1cXGAgKCR7dHlwZW9mIG5ld0NvbmN1cnJlbmN5fSlgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb25jdXJyZW5jeSA9IG5ld0NvbmN1cnJlbmN5O1xuICAgICAgICB0aGlzLl9wcm9jZXNzUXVldWUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQWRkcyBhIHN5bmMgb3IgYXN5bmMgdGFzayB0byB0aGUgcXVldWUuIEFsd2F5cyByZXR1cm5zIGEgcHJvbWlzZS5cbiAgICAqL1xuICAgIGFzeW5jIGFkZChmbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBydW4gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50Kys7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWxDb3VudCsrO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9ICh0aGlzLl90aW1lb3V0ID09PSB1bmRlZmluZWQgJiYgb3B0aW9ucy50aW1lb3V0ID09PSB1bmRlZmluZWQpID8gZm4oKSA6IHBfdGltZW91dF8xLmRlZmF1bHQoUHJvbWlzZS5yZXNvbHZlKGZuKCkpLCAob3B0aW9ucy50aW1lb3V0ID09PSB1bmRlZmluZWQgPyB0aGlzLl90aW1lb3V0IDogb3B0aW9ucy50aW1lb3V0KSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudGhyb3dPblRpbWVvdXQgPT09IHVuZGVmaW5lZCA/IHRoaXMuX3Rocm93T25UaW1lb3V0IDogb3B0aW9ucy50aHJvd09uVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh0aW1lb3V0RXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYXdhaXQgb3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX25leHQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9xdWV1ZS5lbnF1ZXVlKHJ1biwgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl90cnlUb1N0YXJ0QW5vdGhlcigpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdhZGQnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFNhbWUgYXMgYC5hZGQoKWAsIGJ1dCBhY2NlcHRzIGFuIGFycmF5IG9mIHN5bmMgb3IgYXN5bmMgZnVuY3Rpb25zLlxuXG4gICAgQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBhbGwgZnVuY3Rpb25zIGFyZSByZXNvbHZlZC5cbiAgICAqL1xuICAgIGFzeW5jIGFkZEFsbChmdW5jdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGZ1bmN0aW9ucy5tYXAoYXN5bmMgKGZ1bmN0aW9uXykgPT4gdGhpcy5hZGQoZnVuY3Rpb25fLCBvcHRpb25zKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBTdGFydCAob3IgcmVzdW1lKSBleGVjdXRpbmcgZW5xdWV1ZWQgdGFza3Mgd2l0aGluIGNvbmN1cnJlbmN5IGxpbWl0LiBObyBuZWVkIHRvIGNhbGwgdGhpcyBpZiBxdWV1ZSBpcyBub3QgcGF1c2VkICh2aWEgYG9wdGlvbnMuYXV0b1N0YXJ0ID0gZmFsc2VgIG9yIGJ5IGAucGF1c2UoKWAgbWV0aG9kLilcbiAgICAqL1xuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wcm9jZXNzUXVldWUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgIFB1dCBxdWV1ZSBleGVjdXRpb24gb24gaG9sZC5cbiAgICAqL1xuICAgIHBhdXNlKCkge1xuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgIENsZWFyIHRoZSBxdWV1ZS5cbiAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9xdWV1ZSA9IG5ldyB0aGlzLl9xdWV1ZUNsYXNzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMuIFVzZWZ1bCBpZiB5b3UgZm9yIGV4YW1wbGUgYWRkIGFkZGl0aW9uYWwgaXRlbXMgYXQgYSBsYXRlciB0aW1lLlxuXG4gICAgQHJldHVybnMgQSBwcm9taXNlIHRoYXQgc2V0dGxlcyB3aGVuIHRoZSBxdWV1ZSBiZWNvbWVzIGVtcHR5LlxuICAgICovXG4gICAgYXN5bmMgb25FbXB0eSgpIHtcbiAgICAgICAgLy8gSW5zdGFudGx5IHJlc29sdmUgaWYgdGhlIHF1ZXVlIGlzIGVtcHR5XG4gICAgICAgIGlmICh0aGlzLl9xdWV1ZS5zaXplID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdSZXNvbHZlID0gdGhpcy5fcmVzb2x2ZUVtcHR5O1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUVtcHR5ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nUmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgZGlmZmVyZW5jZSB3aXRoIGAub25FbXB0eWAgaXMgdGhhdCBgLm9uSWRsZWAgZ3VhcmFudGVlcyB0aGF0IGFsbCB3b3JrIGZyb20gdGhlIHF1ZXVlIGhhcyBmaW5pc2hlZC4gYC5vbkVtcHR5YCBtZXJlbHkgc2lnbmFscyB0aGF0IHRoZSBxdWV1ZSBpcyBlbXB0eSwgYnV0IGl0IGNvdWxkIG1lYW4gdGhhdCBzb21lIHByb21pc2VzIGhhdmVuJ3QgY29tcGxldGVkIHlldC5cblxuICAgIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHNldHRsZXMgd2hlbiB0aGUgcXVldWUgYmVjb21lcyBlbXB0eSwgYW5kIGFsbCBwcm9taXNlcyBoYXZlIGNvbXBsZXRlZDsgYHF1ZXVlLnNpemUgPT09IDAgJiYgcXVldWUucGVuZGluZyA9PT0gMGAuXG4gICAgKi9cbiAgICBhc3luYyBvbklkbGUoKSB7XG4gICAgICAgIC8vIEluc3RhbnRseSByZXNvbHZlIGlmIG5vbmUgcGVuZGluZyBhbmQgaWYgbm90aGluZyBlbHNlIGlzIHF1ZXVlZFxuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0NvdW50ID09PSAwICYmIHRoaXMuX3F1ZXVlLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1Jlc29sdmUgPSB0aGlzLl9yZXNvbHZlSWRsZTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVJZGxlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nUmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBTaXplIG9mIHRoZSBxdWV1ZS5cbiAgICAqL1xuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUuc2l6ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgU2l6ZSBvZiB0aGUgcXVldWUsIGZpbHRlcmVkIGJ5IHRoZSBnaXZlbiBvcHRpb25zLlxuXG4gICAgRm9yIGV4YW1wbGUsIHRoaXMgY2FuIGJlIHVzZWQgdG8gZmluZCB0aGUgbnVtYmVyIG9mIGl0ZW1zIHJlbWFpbmluZyBpbiB0aGUgcXVldWUgd2l0aCBhIHNwZWNpZmljIHByaW9yaXR5IGxldmVsLlxuICAgICovXG4gICAgc2l6ZUJ5KG9wdGlvbnMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vbm8tZm4tcmVmZXJlbmNlLWluLWl0ZXJhdG9yXG4gICAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5maWx0ZXIob3B0aW9ucykubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICBOdW1iZXIgb2YgcGVuZGluZyBwcm9taXNlcy5cbiAgICAqL1xuICAgIGdldCBwZW5kaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50O1xuICAgIH1cbiAgICAvKipcbiAgICBXaGV0aGVyIHRoZSBxdWV1ZSBpcyBjdXJyZW50bHkgcGF1c2VkLlxuICAgICovXG4gICAgZ2V0IGlzUGF1c2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNQYXVzZWQ7XG4gICAgfVxuICAgIGdldCB0aW1lb3V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGltZW91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgU2V0IHRoZSB0aW1lb3V0IGZvciBmdXR1cmUgb3BlcmF0aW9ucy5cbiAgICAqL1xuICAgIHNldCB0aW1lb3V0KG1pbGxpc2Vjb25kcykge1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gbWlsbGlzZWNvbmRzO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFBRdWV1ZTtcbiIsImltcG9ydCBwUmV0cnkgZnJvbSBcInAtcmV0cnlcIjtcbmltcG9ydCBQUXVldWVNb2QgZnJvbSBcInAtcXVldWVcIjtcbmNvbnN0IFNUQVRVU19OT19SRVRSWSA9IFtcbiAgICA0MDAsXG4gICAgNDAxLFxuICAgIDQwMyxcbiAgICA0MDQsXG4gICAgNDA1LFxuICAgIDQwNixcbiAgICA0MDcsXG4gICAgNDA4LFxuICAgIDQwOSwgLy8gQ29uZmxpY3Rcbl07XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBjYW4gYmUgdXNlZCB0byBtYWtlIGFzeW5jIGNhbGxzIHdpdGggY29uY3VycmVuY3kgYW5kIHJldHJ5IGxvZ2ljLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGZvciBtYWtpbmcgY2FsbHMgdG8gYW55IGtpbmQgb2YgXCJleHBlbnNpdmVcIiBleHRlcm5hbCByZXNvdXJjZSxcbiAqIGJlIGl0IGJlY2F1c2UgaXQncyByYXRlLWxpbWl0ZWQsIHN1YmplY3QgdG8gbmV0d29yayBpc3N1ZXMsIGV0Yy5cbiAqXG4gKiBDb25jdXJyZW50IGNhbGxzIGFyZSBsaW1pdGVkIGJ5IHRoZSBgbWF4Q29uY3VycmVuY3lgIHBhcmFtZXRlciwgd2hpY2ggZGVmYXVsdHNcbiAqIHRvIGBJbmZpbml0eWAuIFRoaXMgbWVhbnMgdGhhdCBieSBkZWZhdWx0LCBhbGwgY2FsbHMgd2lsbCBiZSBtYWRlIGluIHBhcmFsbGVsLlxuICpcbiAqIFJldHJpZXMgYXJlIGxpbWl0ZWQgYnkgdGhlIGBtYXhSZXRyaWVzYCBwYXJhbWV0ZXIsIHdoaWNoIGRlZmF1bHRzIHRvIDYuIFRoaXNcbiAqIG1lYW5zIHRoYXQgYnkgZGVmYXVsdCwgZWFjaCBjYWxsIHdpbGwgYmUgcmV0cmllZCB1cCB0byA2IHRpbWVzLCB3aXRoIGFuXG4gKiBleHBvbmVudGlhbCBiYWNrb2ZmIGJldHdlZW4gZWFjaCBhdHRlbXB0LlxuICovXG5leHBvcnQgY2xhc3MgQXN5bmNDYWxsZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhDb25jdXJyZW5jeVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhSZXRyaWVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInF1ZXVlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWF4Q29uY3VycmVuY3kgPSBwYXJhbXMubWF4Q29uY3VycmVuY3kgPz8gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4UmV0cmllcyA9IHBhcmFtcy5tYXhSZXRyaWVzID8/IDY7XG4gICAgICAgIGNvbnN0IFBRdWV1ZSA9IFwiZGVmYXVsdFwiIGluIFBRdWV1ZU1vZCA/IFBRdWV1ZU1vZC5kZWZhdWx0IDogUFF1ZXVlTW9kO1xuICAgICAgICB0aGlzLnF1ZXVlID0gbmV3IFBRdWV1ZSh7IGNvbmN1cnJlbmN5OiB0aGlzLm1heENvbmN1cnJlbmN5IH0pO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNhbGwoY2FsbGFibGUsIC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVldWUuYWRkKCgpID0+IHBSZXRyeSgoKSA9PiBjYWxsYWJsZSguLi5hcmdzKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSwge1xuICAgICAgICAgICAgb25GYWlsZWRBdHRlbXB0KGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aChcIkNhbmNlbFwiKSB8fFxuICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJUaW1lb3V0RXJyb3JcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZS5zdGFydHNXaXRoKFwiQWJvcnRFcnJvclwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3I/LmNvZGUgPT09IFwiRUNPTk5BQk9SVEVEXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gZXJyb3I/LnJlc3BvbnNlPy5zdGF0dXM7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyAmJiBTVEFUVVNfTk9fUkVUUlkuaW5jbHVkZXMoK3N0YXR1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJldHJpZXM6IHRoaXMubWF4UmV0cmllcyxcbiAgICAgICAgICAgIHJhbmRvbWl6ZTogdHJ1ZSxcbiAgICAgICAgICAgIC8vIElmIG5lZWRlZCB3ZSBjYW4gY2hhbmdlIHNvbWUgb2YgdGhlIGRlZmF1bHRzIGhlcmUsXG4gICAgICAgICAgICAvLyBidXQgdGhleSdyZSBxdWl0ZSBzZW5zaWJsZS5cbiAgICAgICAgfSksIHsgdGhyb3dPblRpbWVvdXQ6IHRydWUgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY2FsbFdpdGhPcHRpb25zKG9wdGlvbnMsIGNhbGxhYmxlLCAuLi5hcmdzKSB7XG4gICAgICAgIC8vIE5vdGUgdGhpcyBkb2Vzbid0IGNhbmNlbCB0aGUgdW5kZXJseWluZyByZXF1ZXN0LFxuICAgICAgICAvLyB3aGVuIGF2YWlsYWJsZSBwcmVmZXIgdG8gdXNlIHRoZSBzaWduYWwgb3B0aW9uIG9mIHRoZSB1bmRlcmx5aW5nIGNhbGxcbiAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGwoY2FsbGFibGUsIC4uLmFyZ3MpLFxuICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zaWduYWw/LmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiQWJvcnRFcnJvclwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbChjYWxsYWJsZSwgLi4uYXJncyk7XG4gICAgfVxuICAgIGZldGNoKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgoKSA9PiBmZXRjaCguLi5hcmdzKS50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMgOiBQcm9taXNlLnJlamVjdChyZXMpKSkpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBpc0xhbmdDaGFpbk1lc3NhZ2UobWVzc2FnZSkge1xuICAgIHJldHVybiB0eXBlb2YgbWVzc2FnZT8uX2dldFR5cGUgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0TGFuZ0NoYWluTWVzc2FnZVRvRXhhbXBsZShtZXNzYWdlKSB7XG4gICAgY29uc3QgY29udmVydGVkID0ge1xuICAgICAgICB0eXBlOiBtZXNzYWdlLl9nZXRUeXBlKCksXG4gICAgICAgIGRhdGE6IHsgY29udGVudDogbWVzc2FnZS5jb250ZW50IH0sXG4gICAgfTtcbiAgICAvLyBDaGVjayBmb3IgcHJlc2VuY2Ugb2Yga2V5cyBpbiBhZGRpdGlvbmFsX2t3YXJnc1xuICAgIGlmIChtZXNzYWdlPy5hZGRpdGlvbmFsX2t3YXJncyAmJlxuICAgICAgICBPYmplY3Qua2V5cyhtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnZlcnRlZC5kYXRhLmFkZGl0aW9uYWxfa3dhcmdzID0geyAuLi5tZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzIH07XG4gICAgfVxuICAgIHJldHVybiBjb252ZXJ0ZWQ7XG59XG4iLCJleHBvcnQgY29uc3QgaXNCcm93c2VyID0gKCkgPT4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuZXhwb3J0IGNvbnN0IGlzV2ViV29ya2VyID0gKCkgPT4gdHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIgJiZcbiAgICBnbG9iYWxUaGlzLmNvbnN0cnVjdG9yICYmXG4gICAgZ2xvYmFsVGhpcy5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIkRlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlXCI7XG5leHBvcnQgY29uc3QgaXNKc0RvbSA9ICgpID0+ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5uYW1lID09PSBcIm5vZGVqc1wiKSB8fFxuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIChuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwiTm9kZS5qc1wiKSB8fFxuICAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcyhcImpzZG9tXCIpKSk7XG4vLyBTdXBhYmFzZSBFZGdlIEZ1bmN0aW9uIHByb3ZpZGVzIGEgYERlbm9gIGdsb2JhbCBvYmplY3Rcbi8vIHdpdGhvdXQgYHZlcnNpb25gIHByb3BlcnR5XG5leHBvcnQgY29uc3QgaXNEZW5vID0gKCkgPT4gdHlwZW9mIERlbm8gIT09IFwidW5kZWZpbmVkXCI7XG4vLyBNYXJrIG5vdC1hcy1ub2RlIGlmIGluIFN1cGFiYXNlIEVkZ2UgRnVuY3Rpb25cbmV4cG9ydCBjb25zdCBpc05vZGUgPSAoKSA9PiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICFpc0Rlbm8oKTtcbmV4cG9ydCBjb25zdCBnZXRFbnYgPSAoKSA9PiB7XG4gICAgbGV0IGVudjtcbiAgICBpZiAoaXNCcm93c2VyKCkpIHtcbiAgICAgICAgZW52ID0gXCJicm93c2VyXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTm9kZSgpKSB7XG4gICAgICAgIGVudiA9IFwibm9kZVwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1dlYldvcmtlcigpKSB7XG4gICAgICAgIGVudiA9IFwid2Vid29ya2VyXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzSnNEb20oKSkge1xuICAgICAgICBlbnYgPSBcImpzZG9tXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRGVubygpKSB7XG4gICAgICAgIGVudiA9IFwiZGVub1wiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZW52ID0gXCJvdGhlclwiO1xuICAgIH1cbiAgICByZXR1cm4gZW52O1xufTtcbmxldCBydW50aW1lRW52aXJvbm1lbnQ7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UnVudGltZUVudmlyb25tZW50KCkge1xuICAgIGlmIChydW50aW1lRW52aXJvbm1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbnYgPSBnZXRFbnYoKTtcbiAgICAgICAgY29uc3QgcmVsZWFzZUVudiA9IGdldFNoYXMoKTtcbiAgICAgICAgcnVudGltZUVudmlyb25tZW50ID0ge1xuICAgICAgICAgICAgbGlicmFyeTogXCJsYW5nc21pdGhcIixcbiAgICAgICAgICAgIHJ1bnRpbWU6IGVudixcbiAgICAgICAgICAgIC4uLnJlbGVhc2VFbnYsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBydW50aW1lRW52aXJvbm1lbnQ7XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgTGFuZ0NoYWluLXNwZWNpZmljIGVudmlyb25tZW50IHZhcmlhYmxlcyBmcm9tIHRoZSBjdXJyZW50IHJ1bnRpbWUgZW52aXJvbm1lbnQuXG4gKiBTZW5zaXRpdmUga2V5cyAoY29udGFpbmluZyB0aGUgd29yZCBcImtleVwiKSBoYXZlIHRoZWlyIHZhbHVlcyByZWRhY3RlZCBmb3Igc2VjdXJpdHkuXG4gKlxuICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIHN0cmluZz59XG4gKiAgLSBBIHJlY29yZCBvZiBMYW5nQ2hhaW4tc3BlY2lmaWMgZW52aXJvbm1lbnQgdmFyaWFibGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFuZ0NoYWluRW52VmFycygpIHtcbiAgICBjb25zdCBhbGxFbnZWYXJzID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZXMoKSB8fCB7fTtcbiAgICBjb25zdCBlbnZWYXJzID0ge307XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYWxsRW52VmFycykpIHtcbiAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKFwiTEFOR0NIQUlOX1wiKSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGVudlZhcnNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGVudlZhcnMpIHtcbiAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwia2V5XCIpICYmIHR5cGVvZiBlbnZWYXJzW2tleV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZW52VmFyc1trZXldO1xuICAgICAgICAgICAgZW52VmFyc1trZXldID1cbiAgICAgICAgICAgICAgICB2YWx1ZS5zbGljZSgwLCAyKSArIFwiKlwiLnJlcGVhdCh2YWx1ZS5sZW5ndGggLSA0KSArIHZhbHVlLnNsaWNlKC0yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZW52VmFycztcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgZnJvbSB0aGUgY3VycmVudCBydW50aW1lIGVudmlyb25tZW50LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gb3BlcmF0ZSBpbiBhIHZhcmlldHkgb2YgSlMgZW52aXJvbm1lbnRzLFxuICogaW5jbHVkaW5nIE5vZGUuanMsIERlbm8sIGJyb3dzZXJzLCBldGMuXG4gKlxuICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIHN0cmluZz4gfCB1bmRlZmluZWR9XG4gKiAgLSBBIHJlY29yZCBvZiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgaWYgYXZhaWxhYmxlLlxuICogIC0gYHVuZGVmaW5lZGAgaWYgdGhlIGVudmlyb25tZW50IGRvZXMgbm90IHN1cHBvcnQgb3IgYWxsb3dzIGFjY2VzcyB0byBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlcygpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaGVjayBmb3IgTm9kZS5qcyBlbnZpcm9ubWVudFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MuZW52KSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHByb2Nlc3MuZW52KS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgYWNjW2tleV0gPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIGJyb3dzZXJzIGFuZCBvdGhlciBlbnZpcm9ubWVudHMsIHdlIG1heSBub3QgaGF2ZSBkaXJlY3QgYWNjZXNzIHRvIGVudiB2YXJpYWJsZXNcbiAgICAgICAgLy8gUmV0dXJuIHVuZGVmaW5lZCBvciBhbnkgb3RoZXIgZmFsbGJhY2sgYXMgcmVxdWlyZWQuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIENhdGNoIGFueSBlcnJvcnMgdGhhdCBtaWdodCBvY2N1ciB3aGlsZSB0cnlpbmcgdG8gYWNjZXNzIGVudmlyb25tZW50IHZhcmlhYmxlc1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKG5hbWUpIHtcbiAgICAvLyBDZXJ0YWluIERlbm8gc2V0dXBzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgeW91IHRyeSB0byBhY2Nlc3MgZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2h3Y2hhc2UxNy9sYW5nY2hhaW5qcy9pc3N1ZXMvMTQxMlxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudj8uW25hbWVdXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0RW52aXJvbm1lbnRWYXJpYWJsZShuYW1lLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgcHJvY2Vzcy5lbnZbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG59XG5sZXQgY2FjaGVkQ29tbWl0U0hBcztcbi8qKlxuICogR2V0IHRoZSBHaXQgY29tbWl0IFNIQSBmcm9tIGNvbW1vbiBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAqIHVzZWQgYnkgZGlmZmVyZW50IENJL0NEIHBsYXRmb3Jtcy5cbiAqIEByZXR1cm5zIHtzdHJpbmcgfCB1bmRlZmluZWR9IFRoZSBHaXQgY29tbWl0IFNIQSBvciB1bmRlZmluZWQgaWYgbm90IGZvdW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2hhcygpIHtcbiAgICBpZiAoY2FjaGVkQ29tbWl0U0hBcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWRDb21taXRTSEFzO1xuICAgIH1cbiAgICBjb25zdCBjb21tb25fcmVsZWFzZV9lbnZzID0gW1xuICAgICAgICBcIlZFUkNFTF9HSVRfQ09NTUlUX1NIQVwiLFxuICAgICAgICBcIk5FWFRfUFVCTElDX1ZFUkNFTF9HSVRfQ09NTUlUX1NIQVwiLFxuICAgICAgICBcIkNPTU1JVF9SRUZcIixcbiAgICAgICAgXCJSRU5ERVJfR0lUX0NPTU1JVFwiLFxuICAgICAgICBcIkNJX0NPTU1JVF9TSEFcIixcbiAgICAgICAgXCJDSVJDTEVfU0hBMVwiLFxuICAgICAgICBcIkNGX1BBR0VTX0NPTU1JVF9TSEFcIixcbiAgICAgICAgXCJSRUFDVF9BUFBfR0lUX1NIQVwiLFxuICAgICAgICBcIlNPVVJDRV9WRVJTSU9OXCIsXG4gICAgICAgIFwiR0lUSFVCX1NIQVwiLFxuICAgICAgICBcIlRSQVZJU19DT01NSVRcIixcbiAgICAgICAgXCJHSVRfQ09NTUlUXCIsXG4gICAgICAgIFwiQlVJTERfVkNTX05VTUJFUlwiLFxuICAgICAgICBcImJhbWJvb19wbGFuUmVwb3NpdG9yeV9yZXZpc2lvblwiLFxuICAgICAgICBcIkJ1aWxkLlNvdXJjZVZlcnNpb25cIixcbiAgICAgICAgXCJCSVRCVUNLRVRfQ09NTUlUXCIsXG4gICAgICAgIFwiRFJPTkVfQ09NTUlUX1NIQVwiLFxuICAgICAgICBcIlNFTUFQSE9SRV9HSVRfU0hBXCIsXG4gICAgICAgIFwiQlVJTERLSVRFX0NPTU1JVFwiLFxuICAgIF07XG4gICAgY29uc3Qgc2hhcyA9IHt9O1xuICAgIGZvciAoY29uc3QgZW52IG9mIGNvbW1vbl9yZWxlYXNlX2VudnMpIHtcbiAgICAgICAgY29uc3QgZW52VmFyID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShlbnYpO1xuICAgICAgICBpZiAoZW52VmFyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNoYXNbZW52XSA9IGVudlZhcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWNoZWRDb21taXRTSEFzID0gc2hhcztcbiAgICByZXR1cm4gc2hhcztcbn1cbiIsImltcG9ydCAqIGFzIHV1aWQgZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IEFzeW5jQ2FsbGVyIH0gZnJvbSBcIi4vdXRpbHMvYXN5bmNfY2FsbGVyLmpzXCI7XG5pbXBvcnQgeyBjb252ZXJ0TGFuZ0NoYWluTWVzc2FnZVRvRXhhbXBsZSwgaXNMYW5nQ2hhaW5NZXNzYWdlLCB9IGZyb20gXCIuL3V0aWxzL21lc3NhZ2VzLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlLCBnZXRSdW50aW1lRW52aXJvbm1lbnQgfSBmcm9tIFwiLi91dGlscy9lbnYuanNcIjtcbi8vIHV0aWxpdHkgZnVuY3Rpb25zXG5jb25zdCBpc0xvY2FsaG9zdCA9ICh1cmwpID0+IHtcbiAgICBjb25zdCBzdHJpcHBlZFVybCA9IHVybC5yZXBsYWNlKFwiaHR0cDovL1wiLCBcIlwiKS5yZXBsYWNlKFwiaHR0cHM6Ly9cIiwgXCJcIik7XG4gICAgY29uc3QgaG9zdG5hbWUgPSBzdHJpcHBlZFVybC5zcGxpdChcIi9cIilbMF0uc3BsaXQoXCI6XCIpWzBdO1xuICAgIHJldHVybiAoaG9zdG5hbWUgPT09IFwibG9jYWxob3N0XCIgfHwgaG9zdG5hbWUgPT09IFwiMTI3LjAuMC4xXCIgfHwgaG9zdG5hbWUgPT09IFwiOjoxXCIpO1xufTtcbmNvbnN0IHJhaXNlRm9yU3RhdHVzID0gYXN5bmMgKHJlc3BvbnNlLCBvcGVyYXRpb24pID0+IHtcbiAgICAvLyBjb25zdW1lIHRoZSByZXNwb25zZSBib2R5IHRvIHJlbGVhc2UgdGhlIGNvbm5lY3Rpb25cbiAgICAvLyBodHRwczovL3VuZGljaS5ub2RlanMub3JnLyMvP2lkPWdhcmJhZ2UtY29sbGVjdGlvblxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byAke29wZXJhdGlvbn06ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9ICR7Ym9keX1gKTtcbiAgICB9XG59O1xuYXN5bmMgZnVuY3Rpb24gdG9BcnJheShpdGVyYWJsZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBpdGVyYWJsZSkge1xuICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHRyaW1RdW90ZXMoc3RyKSB7XG4gICAgaWYgKHN0ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBzdHJcbiAgICAgICAgLnRyaW0oKVxuICAgICAgICAucmVwbGFjZSgvXlwiKC4qKVwiJC8sIFwiJDFcIilcbiAgICAgICAgLnJlcGxhY2UoL14nKC4qKSckLywgXCIkMVwiKTtcbn1cbmZ1bmN0aW9uIGhpZGVJbnB1dHMoaW5wdXRzKSB7XG4gICAgaWYgKGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fSElERV9JTlBVVFNcIikgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0cztcbn1cbmZ1bmN0aW9uIGhpZGVPdXRwdXRzKG91dHB1dHMpIHtcbiAgICBpZiAoZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9ISURFX09VVFBVVFNcIikgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dHM7XG59XG5leHBvcnQgY2xhc3MgQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXBpVXJsXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndlYlVybFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjYWxsZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGltZW91dF9tc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGVuYW50SWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRDb25maWcgPSBDbGllbnQuZ2V0RGVmYXVsdENsaWVudENvbmZpZygpO1xuICAgICAgICB0aGlzLmFwaVVybCA9IHRyaW1RdW90ZXMoY29uZmlnLmFwaVVybCA/PyBkZWZhdWx0Q29uZmlnLmFwaVVybCkgPz8gXCJcIjtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSB0cmltUXVvdGVzKGNvbmZpZy5hcGlLZXkgPz8gZGVmYXVsdENvbmZpZy5hcGlLZXkpO1xuICAgICAgICB0aGlzLndlYlVybCA9IHRyaW1RdW90ZXMoY29uZmlnLndlYlVybCA/PyBkZWZhdWx0Q29uZmlnLndlYlVybCk7XG4gICAgICAgIHRoaXMudmFsaWRhdGVBcGlLZXlJZkhvc3RlZCgpO1xuICAgICAgICB0aGlzLnRpbWVvdXRfbXMgPSBjb25maWcudGltZW91dF9tcyA/PyA0MDAwO1xuICAgICAgICB0aGlzLmNhbGxlciA9IG5ldyBBc3luY0NhbGxlcihjb25maWcuY2FsbGVyT3B0aW9ucyA/PyB7fSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0Q2xpZW50Q29uZmlnKCkge1xuICAgICAgICBjb25zdCBhcGlLZXkgPSBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX0FQSV9LRVlcIik7XG4gICAgICAgIGNvbnN0IGFwaVVybCA9IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fRU5EUE9JTlRcIikgPz9cbiAgICAgICAgICAgIChhcGlLZXkgPyBcImh0dHBzOi8vYXBpLnNtaXRoLmxhbmdjaGFpbi5jb21cIiA6IFwiaHR0cDovL2xvY2FsaG9zdDoxOTg0XCIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXBpVXJsOiBhcGlVcmwsXG4gICAgICAgICAgICBhcGlLZXk6IGFwaUtleSxcbiAgICAgICAgICAgIHdlYlVybDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB2YWxpZGF0ZUFwaUtleUlmSG9zdGVkKCkge1xuICAgICAgICBjb25zdCBpc0xvY2FsID0gaXNMb2NhbGhvc3QodGhpcy5hcGlVcmwpO1xuICAgICAgICBpZiAoIWlzTG9jYWwgJiYgIXRoaXMuYXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBUEkga2V5IG11c3QgYmUgcHJvdmlkZWQgd2hlbiB1c2luZyBob3N0ZWQgTGFuZ1NtaXRoIEFQSVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRIb3N0VXJsKCkge1xuICAgICAgICBpZiAodGhpcy53ZWJVcmwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndlYlVybDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0xvY2FsaG9zdCh0aGlzLmFwaVVybCkpIHtcbiAgICAgICAgICAgIHRoaXMud2ViVXJsID0gXCJodHRwOi8vbG9jYWxob3N0XCI7XG4gICAgICAgICAgICByZXR1cm4gXCJodHRwOi8vbG9jYWxob3N0XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hcGlVcmwuc3BsaXQoXCIuXCIsIDEpWzBdLmluY2x1ZGVzKFwiZGV2XCIpKSB7XG4gICAgICAgICAgICB0aGlzLndlYlVybCA9IFwiaHR0cHM6Ly9kZXYuc21pdGgubGFuZ2NoYWluLmNvbVwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiaHR0cHM6Ly9kZXYuc21pdGgubGFuZ2NoYWluLmNvbVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53ZWJVcmwgPSBcImh0dHBzOi8vc21pdGgubGFuZ2NoYWluLmNvbVwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiaHR0cHM6Ly9zbWl0aC5sYW5nY2hhaW4uY29tXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGhlYWRlcnMoKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzW1wieC1hcGkta2V5XCJdID0gYCR7dGhpcy5hcGlLZXl9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVhZGVycztcbiAgICB9XG4gICAgYXN5bmMgX2dldFJlc3BvbnNlKHBhdGgsIHF1ZXJ5UGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtc1N0cmluZyA9IHF1ZXJ5UGFyYW1zPy50b1N0cmluZygpID8/IFwiXCI7XG4gICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYXBpVXJsfSR7cGF0aH0/JHtwYXJhbXNTdHJpbmd9YDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCB1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggJHtwYXRofTogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIGFzeW5jIF9nZXQocGF0aCwgcXVlcnlQYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9nZXRSZXNwb25zZShwYXRoLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGFzeW5jICpfZ2V0UGFnaW5hdGVkKHBhdGgsIHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpKSB7XG4gICAgICAgIGxldCBvZmZzZXQgPSBOdW1iZXIocXVlcnlQYXJhbXMuZ2V0KFwib2Zmc2V0XCIpKSB8fCAwO1xuICAgICAgICBjb25zdCBsaW1pdCA9IE51bWJlcihxdWVyeVBhcmFtcy5nZXQoXCJsaW1pdFwiKSkgfHwgMTAwO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMuc2V0KFwib2Zmc2V0XCIsIFN0cmluZyhvZmZzZXQpKTtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLnNldChcImxpbWl0XCIsIFN0cmluZyhsaW1pdCkpO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5hcGlVcmx9JHtwYXRofT8ke3F1ZXJ5UGFyYW1zfWA7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIHVybCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCAke3BhdGh9OiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5aWVsZCBpdGVtcztcbiAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPCBsaW1pdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2Zmc2V0ICs9IGl0ZW1zLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjcmVhdGVSdW4ocnVuKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7IC4uLnRoaXMuaGVhZGVycywgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfTtcbiAgICAgICAgY29uc3QgZXh0cmEgPSBydW4uZXh0cmEgPz8ge307XG4gICAgICAgIGNvbnN0IHJ1bnRpbWVFbnYgPSBhd2FpdCBnZXRSdW50aW1lRW52aXJvbm1lbnQoKTtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbl9uYW1lID0gcnVuLnByb2plY3RfbmFtZTtcbiAgICAgICAgZGVsZXRlIHJ1bi5wcm9qZWN0X25hbWU7XG4gICAgICAgIGNvbnN0IHJ1bkNyZWF0ZSA9IHtcbiAgICAgICAgICAgIHNlc3Npb25fbmFtZSxcbiAgICAgICAgICAgIC4uLnJ1bixcbiAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgLi4ucnVuLmV4dHJhLFxuICAgICAgICAgICAgICAgIHJ1bnRpbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucnVudGltZUVudixcbiAgICAgICAgICAgICAgICAgICAgLi4uZXh0cmEucnVudGltZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcnVuQ3JlYXRlLmlucHV0cyA9IGhpZGVJbnB1dHMocnVuQ3JlYXRlLmlucHV0cyk7XG4gICAgICAgIGlmIChydW5DcmVhdGUub3V0cHV0cykge1xuICAgICAgICAgICAgcnVuQ3JlYXRlLm91dHB1dHMgPSBoaWRlT3V0cHV0cyhydW5DcmVhdGUub3V0cHV0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCBgJHt0aGlzLmFwaVVybH0vcnVuc2AsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocnVuQ3JlYXRlKSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgcmFpc2VGb3JTdGF0dXMocmVzcG9uc2UsIFwiY3JlYXRlIHJ1blwiKTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlUnVuKHJ1bklkLCBydW4pIHtcbiAgICAgICAgaWYgKHJ1bi5pbnB1dHMpIHtcbiAgICAgICAgICAgIHJ1bi5pbnB1dHMgPSBoaWRlSW5wdXRzKHJ1bi5pbnB1dHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChydW4ub3V0cHV0cykge1xuICAgICAgICAgICAgcnVuLm91dHB1dHMgPSBoaWRlT3V0cHV0cyhydW4ub3V0cHV0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHsgLi4udGhpcy5oZWFkZXJzLCBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9ydW5zLyR7cnVuSWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocnVuKSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgcmFpc2VGb3JTdGF0dXMocmVzcG9uc2UsIFwidXBkYXRlIHJ1blwiKTtcbiAgICB9XG4gICAgYXN5bmMgcmVhZFJ1bihydW5JZCwgeyBsb2FkQ2hpbGRSdW5zIH0gPSB7IGxvYWRDaGlsZFJ1bnM6IGZhbHNlIH0pIHtcbiAgICAgICAgbGV0IHJ1biA9IGF3YWl0IHRoaXMuX2dldChgL3J1bnMvJHtydW5JZH1gKTtcbiAgICAgICAgaWYgKGxvYWRDaGlsZFJ1bnMgJiYgcnVuLmNoaWxkX3J1bl9pZHMpIHtcbiAgICAgICAgICAgIHJ1biA9IGF3YWl0IHRoaXMuX2xvYWRDaGlsZFJ1bnMocnVuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnVuO1xuICAgIH1cbiAgICBhc3luYyBnZXRSdW5VcmwoeyBydW5JZCwgcnVuLCBwcm9qZWN0T3B0cywgfSkge1xuICAgICAgICBpZiAocnVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBzZXNzaW9uSWQ7XG4gICAgICAgICAgICBpZiAocnVuLnNlc3Npb25faWQpIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uSWQgPSBydW4uc2Vzc2lvbl9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHByb2plY3RPcHRzPy5wcm9qZWN0TmFtZSkge1xuICAgICAgICAgICAgICAgIHNlc3Npb25JZCA9IChhd2FpdCB0aGlzLnJlYWRQcm9qZWN0KHsgcHJvamVjdE5hbWU6IHByb2plY3RPcHRzPy5wcm9qZWN0TmFtZSB9KSkuaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwcm9qZWN0T3B0cz8ucHJvamVjdElkKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbklkID0gcHJvamVjdE9wdHM/LnByb2plY3RJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3QgPSBhd2FpdCB0aGlzLnJlYWRQcm9qZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdE5hbWU6IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fUFJPSkVDVFwiKSB8fCBcImRlZmF1bHRcIixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzZXNzaW9uSWQgPSBwcm9qZWN0LmlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGVuYW50SWQgPSBhd2FpdCB0aGlzLl9nZXRUZW5hbnRJZCgpO1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuZ2V0SG9zdFVybCgpfS9vLyR7dGVuYW50SWR9L3Byb2plY3RzL3AvJHtzZXNzaW9uSWR9L3IvJHtydW4uaWR9P3BvbGw9dHJ1ZWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocnVuSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgcnVuXyA9IGF3YWl0IHRoaXMucmVhZFJ1bihydW5JZCk7XG4gICAgICAgICAgICBpZiAoIXJ1bl8uYXBwX3BhdGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJ1biAke3J1bklkfSBoYXMgbm8gYXBwX3BhdGhgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGJhc2VVcmwgPSB0aGlzLmdldEhvc3RVcmwoKTtcbiAgICAgICAgICAgIHJldHVybiBgJHtiYXNlVXJsfSR7cnVuXy5hcHBfcGF0aH1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGVpdGhlciBydW5JZCBvciBydW5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2xvYWRDaGlsZFJ1bnMocnVuKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkUnVucyA9IGF3YWl0IHRvQXJyYXkodGhpcy5saXN0UnVucyh7IGlkOiBydW4uY2hpbGRfcnVuX2lkcyB9KSk7XG4gICAgICAgIGNvbnN0IHRyZWVtYXAgPSB7fTtcbiAgICAgICAgY29uc3QgcnVucyA9IHt9O1xuICAgICAgICAvLyBUT0RPOiBtYWtlIGRvdHRlZCBvcmRlciByZXF1aXJlZCB3aGVuIHRoZSBtaWdyYXRpb24gZmluaXNoZXNcbiAgICAgICAgY2hpbGRSdW5zLnNvcnQoKGEsIGIpID0+IChhPy5kb3R0ZWRfb3JkZXIgPz8gXCJcIikubG9jYWxlQ29tcGFyZShiPy5kb3R0ZWRfb3JkZXIgPz8gXCJcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkUnVuIG9mIGNoaWxkUnVucykge1xuICAgICAgICAgICAgaWYgKGNoaWxkUnVuLnBhcmVudF9ydW5faWQgPT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICBjaGlsZFJ1bi5wYXJlbnRfcnVuX2lkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoaWxkIHJ1biAke2NoaWxkUnVuLmlkfSBoYXMgbm8gcGFyZW50YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIShjaGlsZFJ1bi5wYXJlbnRfcnVuX2lkIGluIHRyZWVtYXApKSB7XG4gICAgICAgICAgICAgICAgdHJlZW1hcFtjaGlsZFJ1bi5wYXJlbnRfcnVuX2lkXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJlZW1hcFtjaGlsZFJ1bi5wYXJlbnRfcnVuX2lkXS5wdXNoKGNoaWxkUnVuKTtcbiAgICAgICAgICAgIHJ1bnNbY2hpbGRSdW4uaWRdID0gY2hpbGRSdW47XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmNoaWxkX3J1bnMgPSB0cmVlbWFwW3J1bi5pZF0gfHwgW107XG4gICAgICAgIGZvciAoY29uc3QgcnVuSWQgaW4gdHJlZW1hcCkge1xuICAgICAgICAgICAgaWYgKHJ1bklkICE9PSBydW4uaWQpIHtcbiAgICAgICAgICAgICAgICBydW5zW3J1bklkXS5jaGlsZF9ydW5zID0gdHJlZW1hcFtydW5JZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgYXN5bmMgKmxpc3RSdW5zKHsgcHJvamVjdElkLCBwcm9qZWN0TmFtZSwgcGFyZW50UnVuSWQsIHJlZmVyZW5jZUV4YW1wbGVJZCwgc3RhcnRUaW1lLCBleGVjdXRpb25PcmRlciwgcnVuVHlwZSwgZXJyb3IsIGlkLCBsaW1pdCwgb2Zmc2V0LCBxdWVyeSwgZmlsdGVyLCB9KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgcHJvamVjdElkXyA9IHByb2plY3RJZDtcbiAgICAgICAgaWYgKHByb2plY3ROYW1lKSB7XG4gICAgICAgICAgICBpZiAocHJvamVjdElkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBvbmUgb2YgcHJvamVjdElkIG9yIHByb2plY3ROYW1lIG1heSBiZSBnaXZlblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb2plY3RJZF8gPSAoYXdhaXQgdGhpcy5yZWFkUHJvamVjdCh7IHByb2plY3ROYW1lIH0pKS5pZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvamVjdElkXykge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwic2Vzc2lvblwiLCBwcm9qZWN0SWRfKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50UnVuSWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcInBhcmVudF9ydW5cIiwgcGFyZW50UnVuSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWZlcmVuY2VFeGFtcGxlSWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcInJlZmVyZW5jZV9leGFtcGxlXCIsIHJlZmVyZW5jZUV4YW1wbGVJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0VGltZSkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwic3RhcnRfdGltZVwiLCBzdGFydFRpbWUudG9JU09TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4ZWN1dGlvbk9yZGVyKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoXCJleGVjdXRpb25fb3JkZXJcIiwgZXhlY3V0aW9uT3JkZXIudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1blR5cGUpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcInJ1bl90eXBlXCIsIHJ1blR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoXCJlcnJvclwiLCBlcnJvci50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZF8gb2YgaWQpIHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoXCJpZFwiLCBpZF8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsaW1pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5hcHBlbmQoXCJsaW1pdFwiLCBsaW1pdC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcIm9mZnNldFwiLCBvZmZzZXQudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHF1ZXJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcInF1ZXJ5XCIsIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChcImZpbHRlclwiLCBmaWx0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgcnVucyBvZiB0aGlzLl9nZXRQYWdpbmF0ZWQoXCIvcnVuc1wiLCBxdWVyeVBhcmFtcykpIHtcbiAgICAgICAgICAgIHlpZWxkKiBydW5zO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHNoYXJlUnVuKHJ1bklkLCB7IHNoYXJlSWQgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBydW5faWQ6IHJ1bklkLFxuICAgICAgICAgICAgc2hhcmVfdG9rZW46IHNoYXJlSWQgfHwgdXVpZC52NCgpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9ydW5zLyR7cnVuSWR9L3NoYXJlYCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCAhKFwic2hhcmVfdG9rZW5cIiBpbiByZXN1bHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIGZyb20gc2VydmVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmdldEhvc3RVcmwoKX0vcHVibGljLyR7cmVzdWx0W1wic2hhcmVfdG9rZW5cIl19L3JgO1xuICAgIH1cbiAgICBhc3luYyB1bnNoYXJlUnVuKHJ1bklkKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L3J1bnMvJHtydW5JZH0vc2hhcmVgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHJhaXNlRm9yU3RhdHVzKHJlc3BvbnNlLCBcInVuc2hhcmUgcnVuXCIpO1xuICAgIH1cbiAgICBhc3luYyByZWFkUnVuU2hhcmVkTGluayhydW5JZCkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9ydW5zLyR7cnVuSWR9L3NoYXJlYCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgIShcInNoYXJlX3Rva2VuXCIgaW4gcmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7dGhpcy5nZXRIb3N0VXJsKCl9L3B1YmxpYy8ke3Jlc3VsdFtcInNoYXJlX3Rva2VuXCJdfS9yYDtcbiAgICB9XG4gICAgYXN5bmMgbGlzdFNoYXJlZFJ1bnMoc2hhcmVUb2tlbiwgeyBydW5JZHMsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgICAgICAgICAgc2hhcmVfdG9rZW46IHNoYXJlVG9rZW4sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocnVuSWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcnVuSWQgb2YgcnVuSWRzKSB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwiaWRcIiwgcnVuSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L3B1YmxpYy8ke3NoYXJlVG9rZW59L3J1bnMke3F1ZXJ5UGFyYW1zfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcnVucyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHJ1bnM7XG4gICAgfVxuICAgIGFzeW5jIHJlYWREYXRhc2V0U2hhcmVkU2NoZW1hKGRhdGFzZXRJZCwgZGF0YXNldE5hbWUpIHtcbiAgICAgICAgaWYgKCFkYXRhc2V0SWQgJiYgIWRhdGFzZXROYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFaXRoZXIgZGF0YXNldElkIG9yIGRhdGFzZXROYW1lIG11c3QgYmUgZ2l2ZW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhc2V0SWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFzZXQgPSBhd2FpdCB0aGlzLnJlYWREYXRhc2V0KHsgZGF0YXNldE5hbWUgfSk7XG4gICAgICAgICAgICBkYXRhc2V0SWQgPSBkYXRhc2V0LmlkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L2RhdGFzZXRzLyR7ZGF0YXNldElkfS9zaGFyZWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2hhcmVTY2hlbWEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNoYXJlU2NoZW1hLnVybCA9IGAke3RoaXMuZ2V0SG9zdFVybCgpfS9wdWJsaWMvJHtzaGFyZVNjaGVtYS5zaGFyZV90b2tlbn0vZGA7XG4gICAgICAgIHJldHVybiBzaGFyZVNjaGVtYTtcbiAgICB9XG4gICAgYXN5bmMgc2hhcmVEYXRhc2V0KGRhdGFzZXRJZCwgZGF0YXNldE5hbWUpIHtcbiAgICAgICAgaWYgKCFkYXRhc2V0SWQgJiYgIWRhdGFzZXROYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFaXRoZXIgZGF0YXNldElkIG9yIGRhdGFzZXROYW1lIG11c3QgYmUgZ2l2ZW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhc2V0SWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFzZXQgPSBhd2FpdCB0aGlzLnJlYWREYXRhc2V0KHsgZGF0YXNldE5hbWUgfSk7XG4gICAgICAgICAgICBkYXRhc2V0SWQgPSBkYXRhc2V0LmlkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBkYXRhc2V0X2lkOiBkYXRhc2V0SWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L2RhdGFzZXRzLyR7ZGF0YXNldElkfS9zaGFyZWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzaGFyZVNjaGVtYSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgc2hhcmVTY2hlbWEudXJsID0gYCR7dGhpcy5nZXRIb3N0VXJsKCl9L3B1YmxpYy8ke3NoYXJlU2NoZW1hLnNoYXJlX3Rva2VufS9kYDtcbiAgICAgICAgcmV0dXJuIHNoYXJlU2NoZW1hO1xuICAgIH1cbiAgICBhc3luYyB1bnNoYXJlRGF0YXNldChkYXRhc2V0SWQpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCBgJHt0aGlzLmFwaVVybH0vZGF0YXNldHMvJHtkYXRhc2V0SWR9L3NoYXJlYCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCByYWlzZUZvclN0YXR1cyhyZXNwb25zZSwgXCJ1bnNoYXJlIGRhdGFzZXRcIik7XG4gICAgfVxuICAgIGFzeW5jIHJlYWRTaGFyZWREYXRhc2V0KHNoYXJlVG9rZW4pIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCBgJHt0aGlzLmFwaVVybH0vcHVibGljLyR7c2hhcmVUb2tlbn0vZGF0YXNldHNgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGRhdGFzZXQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJldHVybiBkYXRhc2V0O1xuICAgIH1cbiAgICBhc3luYyBjcmVhdGVQcm9qZWN0KHsgcHJvamVjdE5hbWUsIHByb2plY3RFeHRyYSwgdXBzZXJ0LCByZWZlcmVuY2VEYXRhc2V0SWQsIH0pIHtcbiAgICAgICAgY29uc3QgdXBzZXJ0XyA9IHVwc2VydCA/IGA/dXBzZXJ0PXRydWVgIDogXCJcIjtcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLmFwaVVybH0vc2Vzc2lvbnMke3Vwc2VydF99YDtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIG5hbWU6IHByb2plY3ROYW1lLFxuICAgICAgICB9O1xuICAgICAgICBpZiAocHJvamVjdEV4dHJhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJvZHlbXCJleHRyYVwiXSA9IHByb2plY3RFeHRyYTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmZXJlbmNlRGF0YXNldElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJvZHlbXCJyZWZlcmVuY2VfZGF0YXNldF9pZFwiXSA9IHJlZmVyZW5jZURhdGFzZXRJZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGVuZHBvaW50LCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi50aGlzLmhlYWRlcnMsIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgc2Vzc2lvbiAke3Byb2plY3ROYW1lfTogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBhc3luYyByZWFkUHJvamVjdCh7IHByb2plY3RJZCwgcHJvamVjdE5hbWUsIH0pIHtcbiAgICAgICAgbGV0IHBhdGggPSBcIi9zZXNzaW9uc1wiO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGlmIChwcm9qZWN0SWQgIT09IHVuZGVmaW5lZCAmJiBwcm9qZWN0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgZWl0aGVyIHByb2plY3ROYW1lIG9yIHByb2plY3RJZCwgbm90IGJvdGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvamVjdElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhdGggKz0gYC8ke3Byb2plY3RJZH1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2plY3ROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJuYW1lXCIsIHByb2plY3ROYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBwcm9qZWN0TmFtZSBvciBwcm9qZWN0SWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9nZXQocGF0aCwgcGFyYW1zKTtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9qZWN0W2lkPSR7cHJvamVjdElkfSwgbmFtZT0ke3Byb2plY3ROYW1lfV0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSByZXNwb25zZVswXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIF9nZXRUZW5hbnRJZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RlbmFudElkICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGVuYW50SWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHsgbGltaXQ6IFwiMVwiIH0pO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHByb2plY3RzIG9mIHRoaXMuX2dldFBhZ2luYXRlZChcIi9zZXNzaW9uc1wiLCBxdWVyeVBhcmFtcykpIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbmFudElkID0gcHJvamVjdHNbMF0udGVuYW50X2lkO1xuICAgICAgICAgICAgcmV0dXJuIHByb2plY3RzWzBdLnRlbmFudF9pZDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBwcm9qZWN0cyBmb3VuZCB0byByZXNvbHZlIHRlbmFudC5cIik7XG4gICAgfVxuICAgIGFzeW5jICpsaXN0UHJvamVjdHMoeyBwcm9qZWN0SWRzLCBuYW1lLCBuYW1lQ29udGFpbnMsIHJlZmVyZW5jZURhdGFzZXRJZCwgcmVmZXJlbmNlRGF0YXNldE5hbWUsIHJlZmVyZW5jZUZyZWUsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGlmIChwcm9qZWN0SWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvamVjdElkIG9mIHByb2plY3RJZHMpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwiaWRcIiwgcHJvamVjdElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwibmFtZVwiLCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZUNvbnRhaW5zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJuYW1lX2NvbnRhaW5zXCIsIG5hbWVDb250YWlucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmVyZW5jZURhdGFzZXRJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwicmVmZXJlbmNlX2RhdGFzZXRcIiwgcmVmZXJlbmNlRGF0YXNldElkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWZlcmVuY2VEYXRhc2V0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhc2V0ID0gYXdhaXQgdGhpcy5yZWFkRGF0YXNldCh7XG4gICAgICAgICAgICAgICAgZGF0YXNldE5hbWU6IHJlZmVyZW5jZURhdGFzZXROYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwicmVmZXJlbmNlX2RhdGFzZXRcIiwgZGF0YXNldC5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmVyZW5jZUZyZWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFyYW1zLmFwcGVuZChcInJlZmVyZW5jZV9mcmVlXCIsIHJlZmVyZW5jZUZyZWUudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBwcm9qZWN0cyBvZiB0aGlzLl9nZXRQYWdpbmF0ZWQoXCIvc2Vzc2lvbnNcIiwgcGFyYW1zKSkge1xuICAgICAgICAgICAgeWllbGQqIHByb2plY3RzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZVByb2plY3QoeyBwcm9qZWN0SWQsIHByb2plY3ROYW1lLCB9KSB7XG4gICAgICAgIGxldCBwcm9qZWN0SWRfO1xuICAgICAgICBpZiAocHJvamVjdElkID09PSB1bmRlZmluZWQgJiYgcHJvamVjdE5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIHByb2plY3ROYW1lIG9yIHByb2plY3RJZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9qZWN0SWQgIT09IHVuZGVmaW5lZCAmJiBwcm9qZWN0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgZWl0aGVyIHByb2plY3ROYW1lIG9yIHByb2plY3RJZCwgbm90IGJvdGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvamVjdElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb2plY3RJZF8gPSAoYXdhaXQgdGhpcy5yZWFkUHJvamVjdCh7IHByb2plY3ROYW1lIH0pKS5pZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb2plY3RJZF8gPSBwcm9qZWN0SWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCBgJHt0aGlzLmFwaVVybH0vc2Vzc2lvbnMvJHtwcm9qZWN0SWRffWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgcmFpc2VGb3JTdGF0dXMocmVzcG9uc2UsIGBkZWxldGUgc2Vzc2lvbiAke3Byb2plY3RJZF99ICgke3Byb2plY3ROYW1lfSlgKTtcbiAgICB9XG4gICAgYXN5bmMgdXBsb2FkQ3N2KHsgY3N2RmlsZSwgZmlsZU5hbWUsIGlucHV0S2V5cywgb3V0cHV0S2V5cywgZGVzY3JpcHRpb24sIGRhdGFUeXBlLCBuYW1lLCB9KSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYXBpVXJsfS9kYXRhc2V0cy91cGxvYWRgO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJmaWxlXCIsIGNzdkZpbGUsIGZpbGVOYW1lKTtcbiAgICAgICAgaW5wdXRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKFwiaW5wdXRfa2V5c1wiLCBrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgb3V0cHV0S2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcIm91dHB1dF9rZXlzXCIsIGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImRlc2NyaXB0aW9uXCIsIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YVR5cGUpIHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImRhdGFfdHlwZVwiLCBkYXRhVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcIm5hbWVcIiwgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCB1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5kZXRhaWwgJiYgcmVzdWx0LmRldGFpbC5pbmNsdWRlcyhcImFscmVhZHkgZXhpc3RzXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEYXRhc2V0ICR7ZmlsZU5hbWV9IGFscmVhZHkgZXhpc3RzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGxvYWQgQ1NWOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlRGF0YXNldChuYW1lLCB7IGRlc2NyaXB0aW9uLCBkYXRhVHlwZSwgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChkYXRhVHlwZSkge1xuICAgICAgICAgICAgYm9keS5kYXRhX3R5cGUgPSBkYXRhVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9kYXRhc2V0c2AsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLnRoaXMuaGVhZGVycywgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0LmRldGFpbCAmJiByZXN1bHQuZGV0YWlsLmluY2x1ZGVzKFwiYWxyZWFkeSBleGlzdHNcIikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERhdGFzZXQgJHtuYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIGRhdGFzZXQgJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIHJlYWREYXRhc2V0KHsgZGF0YXNldElkLCBkYXRhc2V0TmFtZSwgfSkge1xuICAgICAgICBsZXQgcGF0aCA9IFwiL2RhdGFzZXRzXCI7XG4gICAgICAgIC8vIGxpbWl0IHRvIDEgcmVzdWx0XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBsaW1pdDogXCIxXCIgfSk7XG4gICAgICAgIGlmIChkYXRhc2V0SWQgIT09IHVuZGVmaW5lZCAmJiBkYXRhc2V0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgZWl0aGVyIGRhdGFzZXROYW1lIG9yIGRhdGFzZXRJZCwgbm90IGJvdGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YXNldElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhdGggKz0gYC8ke2RhdGFzZXRJZH1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJuYW1lXCIsIGRhdGFzZXROYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBkYXRhc2V0TmFtZSBvciBkYXRhc2V0SWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9nZXQocGF0aCwgcGFyYW1zKTtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEYXRhc2V0W2lkPSR7ZGF0YXNldElkfSwgbmFtZT0ke2RhdGFzZXROYW1lfV0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSByZXNwb25zZVswXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIHJlYWREYXRhc2V0T3BlbmFpRmluZXR1bmluZyh7IGRhdGFzZXRJZCwgZGF0YXNldE5hbWUsIH0pIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IFwiL2RhdGFzZXRzXCI7XG4gICAgICAgIGlmIChkYXRhc2V0SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGFzZXRJZCA9IChhd2FpdCB0aGlzLnJlYWREYXRhc2V0KHsgZGF0YXNldE5hbWUgfSkpLmlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGRhdGFzZXROYW1lIG9yIGRhdGFzZXRJZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuX2dldFJlc3BvbnNlKGAke3BhdGh9LyR7ZGF0YXNldElkfS9vcGVuYWlfZnRgKTtcbiAgICAgICAgY29uc3QgZGF0YXNldFRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnN0IGRhdGFzZXQgPSBkYXRhc2V0VGV4dFxuICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgLnNwbGl0KFwiXFxuXCIpXG4gICAgICAgICAgICAubWFwKChsaW5lKSA9PiBKU09OLnBhcnNlKGxpbmUpKTtcbiAgICAgICAgcmV0dXJuIGRhdGFzZXQ7XG4gICAgfVxuICAgIGFzeW5jICpsaXN0RGF0YXNldHMoeyBsaW1pdCA9IDEwMCwgb2Zmc2V0ID0gMCwgZGF0YXNldElkcywgZGF0YXNldE5hbWUsIGRhdGFzZXROYW1lQ29udGFpbnMsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBwYXRoID0gXCIvZGF0YXNldHNcIjtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgICAgICBsaW1pdDogbGltaXQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0LnRvU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZGF0YXNldElkcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkXyBvZiBkYXRhc2V0SWRzKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmFwcGVuZChcImlkXCIsIGlkXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJuYW1lXCIsIGRhdGFzZXROYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YXNldE5hbWVDb250YWlucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwibmFtZV9jb250YWluc1wiLCBkYXRhc2V0TmFtZUNvbnRhaW5zKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGRhdGFzZXRzIG9mIHRoaXMuX2dldFBhZ2luYXRlZChwYXRoLCBwYXJhbXMpKSB7XG4gICAgICAgICAgICB5aWVsZCogZGF0YXNldHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlRGF0YXNldCh7IGRhdGFzZXRJZCwgZGF0YXNldE5hbWUsIH0pIHtcbiAgICAgICAgbGV0IHBhdGggPSBcIi9kYXRhc2V0c1wiO1xuICAgICAgICBsZXQgZGF0YXNldElkXyA9IGRhdGFzZXRJZDtcbiAgICAgICAgaWYgKGRhdGFzZXRJZCAhPT0gdW5kZWZpbmVkICYmIGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBlaXRoZXIgZGF0YXNldE5hbWUgb3IgZGF0YXNldElkLCBub3QgYm90aFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhc2V0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhc2V0ID0gYXdhaXQgdGhpcy5yZWFkRGF0YXNldCh7IGRhdGFzZXROYW1lIH0pO1xuICAgICAgICAgICAgZGF0YXNldElkXyA9IGRhdGFzZXQuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFzZXRJZF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGF0aCArPSBgLyR7ZGF0YXNldElkX31gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGRhdGFzZXROYW1lIG9yIGRhdGFzZXRJZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIHRoaXMuYXBpVXJsICsgcGF0aCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBkZWxldGUgJHtwYXRofTogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZUV4YW1wbGUoaW5wdXRzLCBvdXRwdXRzLCB7IGRhdGFzZXRJZCwgZGF0YXNldE5hbWUsIGNyZWF0ZWRBdCwgZXhhbXBsZUlkIH0pIHtcbiAgICAgICAgbGV0IGRhdGFzZXRJZF8gPSBkYXRhc2V0SWQ7XG4gICAgICAgIGlmIChkYXRhc2V0SWRfID09PSB1bmRlZmluZWQgJiYgZGF0YXNldE5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGVpdGhlciBkYXRhc2V0TmFtZSBvciBkYXRhc2V0SWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YXNldElkXyAhPT0gdW5kZWZpbmVkICYmIGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBlaXRoZXIgZGF0YXNldE5hbWUgb3IgZGF0YXNldElkLCBub3QgYm90aFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhc2V0SWRfID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFzZXQgPSBhd2FpdCB0aGlzLnJlYWREYXRhc2V0KHsgZGF0YXNldE5hbWUgfSk7XG4gICAgICAgICAgICBkYXRhc2V0SWRfID0gZGF0YXNldC5pZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjcmVhdGVkQXRfID0gY3JlYXRlZEF0IHx8IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBkYXRhc2V0X2lkOiBkYXRhc2V0SWRfLFxuICAgICAgICAgICAgaW5wdXRzLFxuICAgICAgICAgICAgb3V0cHV0cyxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IGNyZWF0ZWRBdF8udG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGlkOiBleGFtcGxlSWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L2V4YW1wbGVzYCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgLi4udGhpcy5oZWFkZXJzLCBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBleGFtcGxlOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlTExNRXhhbXBsZShpbnB1dCwgZ2VuZXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVFeGFtcGxlKHsgaW5wdXQgfSwgeyBvdXRwdXQ6IGdlbmVyYXRpb24gfSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZUNoYXRFeGFtcGxlKGlucHV0LCBnZW5lcmF0aW9ucywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBmaW5hbElucHV0ID0gaW5wdXQubWFwKChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNMYW5nQ2hhaW5NZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRMYW5nQ2hhaW5NZXNzYWdlVG9FeGFtcGxlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmaW5hbE91dHB1dCA9IGlzTGFuZ0NoYWluTWVzc2FnZShnZW5lcmF0aW9ucylcbiAgICAgICAgICAgID8gY29udmVydExhbmdDaGFpbk1lc3NhZ2VUb0V4YW1wbGUoZ2VuZXJhdGlvbnMpXG4gICAgICAgICAgICA6IGdlbmVyYXRpb25zO1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVFeGFtcGxlKHsgaW5wdXQ6IGZpbmFsSW5wdXQgfSwgeyBvdXRwdXQ6IGZpbmFsT3V0cHV0IH0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICBhc3luYyByZWFkRXhhbXBsZShleGFtcGxlSWQpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvZXhhbXBsZXMvJHtleGFtcGxlSWR9YDtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2dldChwYXRoKTtcbiAgICB9XG4gICAgYXN5bmMgKmxpc3RFeGFtcGxlcyh7IGRhdGFzZXRJZCwgZGF0YXNldE5hbWUsIGV4YW1wbGVJZHMsIH0gPSB7fSkge1xuICAgICAgICBsZXQgZGF0YXNldElkXztcbiAgICAgICAgaWYgKGRhdGFzZXRJZCAhPT0gdW5kZWZpbmVkICYmIGRhdGFzZXROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBlaXRoZXIgZGF0YXNldE5hbWUgb3IgZGF0YXNldElkLCBub3QgYm90aFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhc2V0SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YXNldElkXyA9IGRhdGFzZXRJZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhc2V0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhc2V0ID0gYXdhaXQgdGhpcy5yZWFkRGF0YXNldCh7IGRhdGFzZXROYW1lIH0pO1xuICAgICAgICAgICAgZGF0YXNldElkXyA9IGRhdGFzZXQuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgYSBkYXRhc2V0TmFtZSBvciBkYXRhc2V0SWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7IGRhdGFzZXQ6IGRhdGFzZXRJZF8gfSk7XG4gICAgICAgIGlmIChleGFtcGxlSWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWRfIG9mIGV4YW1wbGVJZHMpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwiaWRcIiwgaWRfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV4YW1wbGVzIG9mIHRoaXMuX2dldFBhZ2luYXRlZChcIi9leGFtcGxlc1wiLCBwYXJhbXMpKSB7XG4gICAgICAgICAgICB5aWVsZCogZXhhbXBsZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlRXhhbXBsZShleGFtcGxlSWQpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvZXhhbXBsZXMvJHtleGFtcGxlSWR9YDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCB0aGlzLmFwaVVybCArIHBhdGgsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlICR7cGF0aH06ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVFeGFtcGxlKGV4YW1wbGVJZCwgdXBkYXRlKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgYCR7dGhpcy5hcGlVcmx9L2V4YW1wbGVzLyR7ZXhhbXBsZUlkfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi50aGlzLmhlYWRlcnMsIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1cGRhdGUpLFxuICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMudGltZW91dF9tcyksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgZXhhbXBsZSAke2V4YW1wbGVJZH06ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBhc3luYyBldmFsdWF0ZVJ1bihydW4sIGV2YWx1YXRvciwgeyBzb3VyY2VJbmZvLCBsb2FkQ2hpbGRSdW5zLCB9ID0geyBsb2FkQ2hpbGRSdW5zOiBmYWxzZSB9KSB7XG4gICAgICAgIGxldCBydW5fO1xuICAgICAgICBpZiAodHlwZW9mIHJ1biA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcnVuXyA9IGF3YWl0IHRoaXMucmVhZFJ1bihydW4sIHsgbG9hZENoaWxkUnVucyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgcnVuID09PSBcIm9iamVjdFwiICYmIFwiaWRcIiBpbiBydW4pIHtcbiAgICAgICAgICAgIHJ1bl8gPSBydW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcnVuIHR5cGU6ICR7dHlwZW9mIHJ1bn1gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVmZXJlbmNlRXhhbXBsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHJ1bl8ucmVmZXJlbmNlX2V4YW1wbGVfaWQgIT09IG51bGwgJiZcbiAgICAgICAgICAgIHJ1bl8ucmVmZXJlbmNlX2V4YW1wbGVfaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVmZXJlbmNlRXhhbXBsZSA9IGF3YWl0IHRoaXMucmVhZEV4YW1wbGUocnVuXy5yZWZlcmVuY2VfZXhhbXBsZV9pZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmVlZGJhY2tSZXN1bHQgPSBhd2FpdCBldmFsdWF0b3IuZXZhbHVhdGVSdW4ocnVuXywgcmVmZXJlbmNlRXhhbXBsZSk7XG4gICAgICAgIGxldCBzb3VyY2VJbmZvXyA9IHNvdXJjZUluZm8gPz8ge307XG4gICAgICAgIGlmIChmZWVkYmFja1Jlc3VsdC5ldmFsdWF0b3JJbmZvKSB7XG4gICAgICAgICAgICBzb3VyY2VJbmZvXyA9IHsgLi4uc291cmNlSW5mb18sIC4uLmZlZWRiYWNrUmVzdWx0LmV2YWx1YXRvckluZm8gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jcmVhdGVGZWVkYmFjayhydW5fLmlkLCBmZWVkYmFja1Jlc3VsdC5rZXksIHtcbiAgICAgICAgICAgIHNjb3JlOiBmZWVkYmFja1Jlc3VsdC5zY29yZSxcbiAgICAgICAgICAgIHZhbHVlOiBmZWVkYmFja1Jlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgIGNvbW1lbnQ6IGZlZWRiYWNrUmVzdWx0LmNvbW1lbnQsXG4gICAgICAgICAgICBjb3JyZWN0aW9uOiBmZWVkYmFja1Jlc3VsdC5jb3JyZWN0aW9uLFxuICAgICAgICAgICAgc291cmNlSW5mbzogc291cmNlSW5mb18sXG4gICAgICAgICAgICBmZWVkYmFja1NvdXJjZVR5cGU6IFwibW9kZWxcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZUZlZWRiYWNrKHJ1bklkLCBrZXksIHsgc2NvcmUsIHZhbHVlLCBjb3JyZWN0aW9uLCBjb21tZW50LCBzb3VyY2VJbmZvLCBmZWVkYmFja1NvdXJjZVR5cGUgPSBcImFwaVwiLCBzb3VyY2VSdW5JZCwgZmVlZGJhY2tJZCwgZWFnZXIgPSBmYWxzZSwgfSkge1xuICAgICAgICBjb25zdCBmZWVkYmFja19zb3VyY2UgPSB7XG4gICAgICAgICAgICB0eXBlOiBmZWVkYmFja1NvdXJjZVR5cGUgPz8gXCJhcGlcIixcbiAgICAgICAgICAgIG1ldGFkYXRhOiBzb3VyY2VJbmZvID8/IHt9LFxuICAgICAgICB9O1xuICAgICAgICBpZiAoc291cmNlUnVuSWQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgZmVlZGJhY2tfc291cmNlPy5tZXRhZGF0YSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAhZmVlZGJhY2tfc291cmNlLm1ldGFkYXRhW1wiX19ydW5cIl0pIHtcbiAgICAgICAgICAgIGZlZWRiYWNrX3NvdXJjZS5tZXRhZGF0YVtcIl9fcnVuXCJdID0geyBydW5faWQ6IHNvdXJjZVJ1bklkIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmVlZGJhY2sgPSB7XG4gICAgICAgICAgICBpZDogZmVlZGJhY2tJZCA/PyB1dWlkLnY0KCksXG4gICAgICAgICAgICBydW5faWQ6IHJ1bklkLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgc2NvcmUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNvcnJlY3Rpb24sXG4gICAgICAgICAgICBjb21tZW50LFxuICAgICAgICAgICAgZmVlZGJhY2tfc291cmNlOiBmZWVkYmFja19zb3VyY2UsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYXBpVXJsfS9mZWVkYmFja2AgKyAoZWFnZXIgPyBcIi9lYWdlclwiIDogXCJcIik7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbChmZXRjaCwgdXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi50aGlzLmhlYWRlcnMsIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShmZWVkYmFjayksXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0X21zKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHJhaXNlRm9yU3RhdHVzKHJlc3BvbnNlLCBcImNyZWF0ZSBmZWVkYmFja1wiKTtcbiAgICAgICAgcmV0dXJuIGZlZWRiYWNrO1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVGZWVkYmFjayhmZWVkYmFja0lkLCB7IHNjb3JlLCB2YWx1ZSwgY29ycmVjdGlvbiwgY29tbWVudCwgfSkge1xuICAgICAgICBjb25zdCBmZWVkYmFja1VwZGF0ZSA9IHt9O1xuICAgICAgICBpZiAoc2NvcmUgIT09IHVuZGVmaW5lZCAmJiBzY29yZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZmVlZGJhY2tVcGRhdGVbXCJzY29yZVwiXSA9IHNjb3JlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmZWVkYmFja1VwZGF0ZVtcInZhbHVlXCJdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvcnJlY3Rpb24gIT09IHVuZGVmaW5lZCAmJiBjb3JyZWN0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmZWVkYmFja1VwZGF0ZVtcImNvcnJlY3Rpb25cIl0gPSBjb3JyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21tZW50ICE9PSB1bmRlZmluZWQgJiYgY29tbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZmVlZGJhY2tVcGRhdGVbXCJjb21tZW50XCJdID0gY29tbWVudDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGAke3RoaXMuYXBpVXJsfS9mZWVkYmFjay8ke2ZlZWRiYWNrSWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLnRoaXMuaGVhZGVycywgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGZlZWRiYWNrVXBkYXRlKSxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgcmFpc2VGb3JTdGF0dXMocmVzcG9uc2UsIFwidXBkYXRlIGZlZWRiYWNrXCIpO1xuICAgIH1cbiAgICBhc3luYyByZWFkRmVlZGJhY2soZmVlZGJhY2tJZCkge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9mZWVkYmFjay8ke2ZlZWRiYWNrSWR9YDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9nZXQocGF0aCk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlRmVlZGJhY2soZmVlZGJhY2tJZCkge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9mZWVkYmFjay8ke2ZlZWRiYWNrSWR9YDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCB0aGlzLmFwaVVybCArIHBhdGgsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aGlzLnRpbWVvdXRfbXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlICR7cGF0aH06ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICBhc3luYyAqbGlzdEZlZWRiYWNrKHsgcnVuSWRzLCBmZWVkYmFja0tleXMsIGZlZWRiYWNrU291cmNlVHlwZXMsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgaWYgKHJ1bklkcykge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwicnVuXCIsIHJ1bklkcy5qb2luKFwiLFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZlZWRiYWNrS2V5cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZmVlZGJhY2tLZXlzKSB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwia2V5XCIsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZlZWRiYWNrU291cmNlVHlwZXMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBmZWVkYmFja1NvdXJjZVR5cGVzKSB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKFwic291cmNlXCIsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZmVlZGJhY2tzIG9mIHRoaXMuX2dldFBhZ2luYXRlZChcIi9mZWVkYmFja1wiLCBxdWVyeVBhcmFtcykpIHtcbiAgICAgICAgICAgIHlpZWxkKiBmZWVkYmFja3M7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgaXNCcm93c2VyID0gKCkgPT4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuZXhwb3J0IGNvbnN0IGlzV2ViV29ya2VyID0gKCkgPT4gdHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIgJiZcbiAgICBnbG9iYWxUaGlzLmNvbnN0cnVjdG9yICYmXG4gICAgZ2xvYmFsVGhpcy5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIkRlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlXCI7XG5leHBvcnQgY29uc3QgaXNKc0RvbSA9ICgpID0+ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5uYW1lID09PSBcIm5vZGVqc1wiKSB8fFxuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIChuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwiTm9kZS5qc1wiKSB8fFxuICAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcyhcImpzZG9tXCIpKSk7XG4vLyBTdXBhYmFzZSBFZGdlIEZ1bmN0aW9uIHByb3ZpZGVzIGEgYERlbm9gIGdsb2JhbCBvYmplY3Rcbi8vIHdpdGhvdXQgYHZlcnNpb25gIHByb3BlcnR5XG5leHBvcnQgY29uc3QgaXNEZW5vID0gKCkgPT4gdHlwZW9mIERlbm8gIT09IFwidW5kZWZpbmVkXCI7XG4vLyBNYXJrIG5vdC1hcy1ub2RlIGlmIGluIFN1cGFiYXNlIEVkZ2UgRnVuY3Rpb25cbmV4cG9ydCBjb25zdCBpc05vZGUgPSAoKSA9PiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICFpc0Rlbm8oKTtcbmV4cG9ydCBjb25zdCBnZXRFbnYgPSAoKSA9PiB7XG4gICAgbGV0IGVudjtcbiAgICBpZiAoaXNCcm93c2VyKCkpIHtcbiAgICAgICAgZW52ID0gXCJicm93c2VyXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTm9kZSgpKSB7XG4gICAgICAgIGVudiA9IFwibm9kZVwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1dlYldvcmtlcigpKSB7XG4gICAgICAgIGVudiA9IFwid2Vid29ya2VyXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzSnNEb20oKSkge1xuICAgICAgICBlbnYgPSBcImpzZG9tXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRGVubygpKSB7XG4gICAgICAgIGVudiA9IFwiZGVub1wiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZW52ID0gXCJvdGhlclwiO1xuICAgIH1cbiAgICByZXR1cm4gZW52O1xufTtcbmxldCBydW50aW1lRW52aXJvbm1lbnQ7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UnVudGltZUVudmlyb25tZW50KCkge1xuICAgIGlmIChydW50aW1lRW52aXJvbm1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbnYgPSBnZXRFbnYoKTtcbiAgICAgICAgcnVudGltZUVudmlyb25tZW50ID0ge1xuICAgICAgICAgICAgbGlicmFyeTogXCJsYW5nY2hhaW4tanNcIixcbiAgICAgICAgICAgIHJ1bnRpbWU6IGVudixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bnRpbWVFbnZpcm9ubWVudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKG5hbWUpIHtcbiAgICAvLyBDZXJ0YWluIERlbm8gc2V0dXBzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgeW91IHRyeSB0byBhY2Nlc3MgZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2xhbmdjaGFpbi1haS9sYW5nY2hhaW5qcy9pc3N1ZXMvMTQxMlxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudj8uW25hbWVdXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDbGllbnQgfSBmcm9tIFwibGFuZ3NtaXRoXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlLCBnZXRSdW50aW1lRW52aXJvbm1lbnQsIH0gZnJvbSBcIi4uLy4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4vdHJhY2VyLmpzXCI7XG5leHBvcnQgY2xhc3MgTGFuZ0NoYWluVHJhY2VyIGV4dGVuZHMgQmFzZVRyYWNlciB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzID0ge30pIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJsYW5nY2hhaW5fdHJhY2VyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb2plY3ROYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV4YW1wbGVJZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyBleGFtcGxlSWQsIHByb2plY3ROYW1lLCBjbGllbnQgfSA9IGZpZWxkcztcbiAgICAgICAgdGhpcy5wcm9qZWN0TmFtZSA9XG4gICAgICAgICAgICBwcm9qZWN0TmFtZSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fUFJPSkVDVFwiKSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fU0VTU0lPTlwiKTtcbiAgICAgICAgdGhpcy5leGFtcGxlSWQgPSBleGFtcGxlSWQ7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50ID8/IG5ldyBDbGllbnQoe30pO1xuICAgIH1cbiAgICBhc3luYyBfY29udmVydFRvQ3JlYXRlKHJ1biwgZXhhbXBsZV9pZCA9IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucnVuLFxuICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICAuLi5ydW4uZXh0cmEsXG4gICAgICAgICAgICAgICAgcnVudGltZTogYXdhaXQgZ2V0UnVudGltZUVudmlyb25tZW50KCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hpbGRfcnVuczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2Vzc2lvbl9uYW1lOiB0aGlzLnByb2plY3ROYW1lLFxuICAgICAgICAgICAgcmVmZXJlbmNlX2V4YW1wbGVfaWQ6IHJ1bi5wYXJlbnRfcnVuX2lkID8gdW5kZWZpbmVkIDogZXhhbXBsZV9pZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgcGVyc2lzdFJ1bihfcnVuKSB7IH1cbiAgICBhc3luYyBfcGVyc2lzdFJ1blNpbmdsZShydW4pIHtcbiAgICAgICAgY29uc3QgcGVyc2lzdGVkUnVuID0gYXdhaXQgdGhpcy5fY29udmVydFRvQ3JlYXRlKHJ1biwgdGhpcy5leGFtcGxlSWQpO1xuICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC5jcmVhdGVSdW4ocGVyc2lzdGVkUnVuKTtcbiAgICB9XG4gICAgYXN5bmMgX3VwZGF0ZVJ1blNpbmdsZShydW4pIHtcbiAgICAgICAgY29uc3QgcnVuVXBkYXRlID0ge1xuICAgICAgICAgICAgZW5kX3RpbWU6IHJ1bi5lbmRfdGltZSxcbiAgICAgICAgICAgIGVycm9yOiBydW4uZXJyb3IsXG4gICAgICAgICAgICBvdXRwdXRzOiBydW4ub3V0cHV0cyxcbiAgICAgICAgICAgIGV2ZW50czogcnVuLmV2ZW50cyxcbiAgICAgICAgICAgIGlucHV0czogcnVuLmlucHV0cyxcbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQudXBkYXRlUnVuKHJ1bi5pZCwgcnVuVXBkYXRlKTtcbiAgICB9XG4gICAgYXN5bmMgb25SZXRyaWV2ZXJTdGFydChydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fcGVyc2lzdFJ1blNpbmdsZShydW4pO1xuICAgIH1cbiAgICBhc3luYyBvblJldHJpZXZlckVuZChydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlUnVuU2luZ2xlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIG9uUmV0cmlldmVyRXJyb3IocnVuKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZVJ1blNpbmdsZShydW4pO1xuICAgIH1cbiAgICBhc3luYyBvbkxMTVN0YXJ0KHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl9wZXJzaXN0UnVuU2luZ2xlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIG9uTExNRW5kKHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25MTE1FcnJvcihydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlUnVuU2luZ2xlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIG9uQ2hhaW5TdGFydChydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fcGVyc2lzdFJ1blNpbmdsZShydW4pO1xuICAgIH1cbiAgICBhc3luYyBvbkNoYWluRW5kKHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25DaGFpbkVycm9yKHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25Ub29sU3RhcnQocnVuKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3BlcnNpc3RSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25Ub29sRW5kKHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25Ub29sRXJyb3IocnVuKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZVJ1blNpbmdsZShydW4pO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQWJzdHJhY3QgYmFzZSBjbGFzcyBmb3IgbWVtb3J5IGluIExhbmdDaGFpbidzIENoYWlucy4gTWVtb3J5IHJlZmVycyB0b1xuICogdGhlIHN0YXRlIGluIENoYWlucy4gSXQgY2FuIGJlIHVzZWQgdG8gc3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgcGFzdFxuICogZXhlY3V0aW9ucyBvZiBhIENoYWluIGFuZCBpbmplY3QgdGhhdCBpbmZvcm1hdGlvbiBpbnRvIHRoZSBpbnB1dHMgb2ZcbiAqIGZ1dHVyZSBleGVjdXRpb25zIG9mIHRoZSBDaGFpbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VNZW1vcnkge1xufVxuY29uc3QgZ2V0VmFsdWUgPSAodmFsdWVzLCBrZXkpID0+IHtcbiAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1trZXldO1xuICAgIH1cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmFsdWVzKTtcbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1trZXlzWzBdXTtcbiAgICB9XG59O1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYnkgbWVtb3J5IGNsYXNzZXMgdG8gc2VsZWN0IHRoZSBpbnB1dCB2YWx1ZVxuICogdG8gdXNlIGZvciB0aGUgbWVtb3J5LiBJZiB0aGVyZSBpcyBvbmx5IG9uZSBpbnB1dCB2YWx1ZSwgaXQgaXMgdXNlZC5cbiAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBpbnB1dCB2YWx1ZXMsIHRoZSBpbnB1dEtleSBtdXN0IGJlIHNwZWNpZmllZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldElucHV0VmFsdWUgPSAoaW5wdXRWYWx1ZXMsIGlucHV0S2V5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBnZXRWYWx1ZShpbnB1dFZhbHVlcywgaW5wdXRLZXkpO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGlucHV0VmFsdWVzKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnB1dCB2YWx1ZXMgaGF2ZSAke2tleXMubGVuZ3RofSBrZXlzLCB5b3UgbXVzdCBzcGVjaWZ5IGFuIGlucHV0IGtleSBvciBwYXNzIG9ubHkgMSBrZXkgYXMgaW5wdXRgKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGJ5IG1lbW9yeSBjbGFzc2VzIHRvIHNlbGVjdCB0aGUgb3V0cHV0IHZhbHVlXG4gKiB0byB1c2UgZm9yIHRoZSBtZW1vcnkuIElmIHRoZXJlIGlzIG9ubHkgb25lIG91dHB1dCB2YWx1ZSwgaXQgaXMgdXNlZC5cbiAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBvdXRwdXQgdmFsdWVzLCB0aGUgb3V0cHV0S2V5IG11c3QgYmUgc3BlY2lmaWVkLlxuICogSWYgbm8gb3V0cHV0S2V5IGlzIHNwZWNpZmllZCwgYW4gZXJyb3IgaXMgdGhyb3duLlxuICovXG5leHBvcnQgY29uc3QgZ2V0T3V0cHV0VmFsdWUgPSAob3V0cHV0VmFsdWVzLCBvdXRwdXRLZXkpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGdldFZhbHVlKG91dHB1dFZhbHVlcywgb3V0cHV0S2V5KTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvdXRwdXRWYWx1ZXMpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG91dHB1dCB2YWx1ZXMgaGF2ZSAke2tleXMubGVuZ3RofSBrZXlzLCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dCBrZXkgb3IgcGFzcyBvbmx5IDEga2V5IGFzIG91dHB1dGApO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYnkgbWVtb3J5IGNsYXNzZXMgdG8gZ2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gKiBvZiB0aGUgY2hhdCBtZXNzYWdlIGhpc3RvcnksIGJhc2VkIG9uIHRoZSBtZXNzYWdlIGNvbnRlbnQgYW5kIHJvbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCdWZmZXJTdHJpbmcobWVzc2FnZXMsIGh1bWFuUHJlZml4ID0gXCJIdW1hblwiLCBhaVByZWZpeCA9IFwiQUlcIikge1xuICAgIGNvbnN0IHN0cmluZ19tZXNzYWdlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgbSBvZiBtZXNzYWdlcykge1xuICAgICAgICBsZXQgcm9sZTtcbiAgICAgICAgaWYgKG0uX2dldFR5cGUoKSA9PT0gXCJodW1hblwiKSB7XG4gICAgICAgICAgICByb2xlID0gaHVtYW5QcmVmaXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobS5fZ2V0VHlwZSgpID09PSBcImFpXCIpIHtcbiAgICAgICAgICAgIHJvbGUgPSBhaVByZWZpeDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtLl9nZXRUeXBlKCkgPT09IFwic3lzdGVtXCIpIHtcbiAgICAgICAgICAgIHJvbGUgPSBcIlN5c3RlbVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG0uX2dldFR5cGUoKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByb2xlID0gXCJGdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG0uX2dldFR5cGUoKSA9PT0gXCJnZW5lcmljXCIpIHtcbiAgICAgICAgICAgIHJvbGUgPSBtLnJvbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEdvdCB1bnN1cHBvcnRlZCBtZXNzYWdlIHR5cGU6ICR7bX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYW1lU3RyID0gbS5uYW1lID8gYCR7bS5uYW1lfSwgYCA6IFwiXCI7XG4gICAgICAgIHN0cmluZ19tZXNzYWdlcy5wdXNoKGAke3JvbGV9OiAke25hbWVTdHJ9JHttLmNvbnRlbnR9YCk7XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmdfbWVzc2FnZXMuam9pbihcIlxcblwiKTtcbn1cbi8qKlxuICogRnVuY3Rpb24gdXNlZCBieSBtZW1vcnkgY2xhc3NlcyB0byBnZXQgdGhlIGtleSBvZiB0aGUgcHJvbXB0IGlucHV0LFxuICogZXhjbHVkaW5nIGFueSBrZXlzIHRoYXQgYXJlIG1lbW9yeSB2YXJpYWJsZXMgb3IgdGhlIFwic3RvcFwiIGtleS4gSWZcbiAqIHRoZXJlIGlzIG5vdCBleGFjdGx5IG9uZSBwcm9tcHQgaW5wdXQga2V5LCBhbiBlcnJvciBpcyB0aHJvd24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9tcHRJbnB1dEtleShpbnB1dHMsIG1lbW9yeVZhcmlhYmxlcykge1xuICAgIGNvbnN0IHByb21wdElucHV0S2V5cyA9IE9iamVjdC5rZXlzKGlucHV0cykuZmlsdGVyKChrZXkpID0+ICFtZW1vcnlWYXJpYWJsZXMuaW5jbHVkZXMoa2V5KSAmJiBrZXkgIT09IFwic3RvcFwiKTtcbiAgICBpZiAocHJvbXB0SW5wdXRLZXlzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE9uZSBpbnB1dCBrZXkgZXhwZWN0ZWQsIGJ1dCBnb3QgJHtwcm9tcHRJbnB1dEtleXMubGVuZ3RofWApO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbXB0SW5wdXRLZXlzWzBdO1xufVxuIiwiaW1wb3J0IHsgZ2V0QnVmZmVyU3RyaW5nIH0gZnJvbSBcIi4uLy4uL21lbW9yeS9iYXNlLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uLy4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4vdHJhY2VyLmpzXCI7XG5leHBvcnQgY2xhc3MgTGFuZ0NoYWluVHJhY2VyVjEgZXh0ZW5kcyBCYXNlVHJhY2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJsYW5nY2hhaW5fdHJhY2VyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVuZHBvaW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX0VORFBPSU5UXCIpIHx8IFwiaHR0cDovL2xvY2FsaG9zdDoxOTg0XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhlYWRlcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlc3Npb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYXBpS2V5ID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9BUElfS0VZXCIpO1xuICAgICAgICBpZiAoYXBpS2V5KSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbXCJ4LWFwaS1rZXlcIl0gPSBhcGlLZXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgbmV3U2Vzc2lvbihzZXNzaW9uTmFtZSkge1xuICAgICAgICBjb25zdCBzZXNzaW9uQ3JlYXRlID0ge1xuICAgICAgICAgICAgc3RhcnRfdGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIG5hbWU6IHNlc3Npb25OYW1lLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5wZXJzaXN0U2Vzc2lvbihzZXNzaW9uQ3JlYXRlKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfVxuICAgIGFzeW5jIGxvYWRTZXNzaW9uKHNlc3Npb25OYW1lKSB7XG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7dGhpcy5lbmRwb2ludH0vc2Vzc2lvbnM/bmFtZT0ke3Nlc3Npb25OYW1lfWA7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVTZXNzaW9uUmVzcG9uc2UoZW5kcG9pbnQpO1xuICAgIH1cbiAgICBhc3luYyBsb2FkRGVmYXVsdFNlc3Npb24oKSB7XG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7dGhpcy5lbmRwb2ludH0vc2Vzc2lvbnM/bmFtZT1kZWZhdWx0YDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVNlc3Npb25SZXNwb25zZShlbmRwb2ludCk7XG4gICAgfVxuICAgIGFzeW5jIGNvbnZlcnRWMlJ1blRvUnVuKHJ1bikge1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gdGhpcy5zZXNzaW9uID8/IChhd2FpdCB0aGlzLmxvYWREZWZhdWx0U2Vzc2lvbigpKTtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IHJ1bi5zZXJpYWxpemVkO1xuICAgICAgICBsZXQgcnVuUmVzdWx0O1xuICAgICAgICBpZiAocnVuLnJ1bl90eXBlID09PSBcImxsbVwiKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9tcHRzID0gcnVuLmlucHV0cy5wcm9tcHRzXG4gICAgICAgICAgICAgICAgPyBydW4uaW5wdXRzLnByb21wdHNcbiAgICAgICAgICAgICAgICA6IHJ1bi5pbnB1dHMubWVzc2FnZXMubWFwKCh4KSA9PiBnZXRCdWZmZXJTdHJpbmcoeCkpO1xuICAgICAgICAgICAgY29uc3QgbGxtUnVuID0ge1xuICAgICAgICAgICAgICAgIHV1aWQ6IHJ1bi5pZCxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lOiBydW4uc3RhcnRfdGltZSxcbiAgICAgICAgICAgICAgICBlbmRfdGltZTogcnVuLmVuZF90aW1lLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGlvbl9vcmRlcjogcnVuLmV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IHJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICAgICAgc2VyaWFsaXplZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBydW4ucnVuX3R5cGUsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICBwcm9tcHRzLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBydW4ub3V0cHV0cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBydW5SZXN1bHQgPSBsbG1SdW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocnVuLnJ1bl90eXBlID09PSBcImNoYWluXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkX3J1bnMgPSBhd2FpdCBQcm9taXNlLmFsbChydW4uY2hpbGRfcnVucy5tYXAoKGNoaWxkX3J1bikgPT4gdGhpcy5jb252ZXJ0VjJSdW5Ub1J1bihjaGlsZF9ydW4pKSk7XG4gICAgICAgICAgICBjb25zdCBjaGFpblJ1biA9IHtcbiAgICAgICAgICAgICAgICB1dWlkOiBydW4uaWQsXG4gICAgICAgICAgICAgICAgc3RhcnRfdGltZTogcnVuLnN0YXJ0X3RpbWUsXG4gICAgICAgICAgICAgICAgZW5kX3RpbWU6IHJ1bi5lbmRfdGltZSxcbiAgICAgICAgICAgICAgICBleGVjdXRpb25fb3JkZXI6IHJ1bi5leGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICAgICAgY2hpbGRfZXhlY3V0aW9uX29yZGVyOiBydW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgICAgIHNlcmlhbGl6ZWQsXG4gICAgICAgICAgICAgICAgdHlwZTogcnVuLnJ1bl90eXBlLFxuICAgICAgICAgICAgICAgIHNlc3Npb25faWQ6IHNlc3Npb24uaWQsXG4gICAgICAgICAgICAgICAgaW5wdXRzOiBydW4uaW5wdXRzLFxuICAgICAgICAgICAgICAgIG91dHB1dHM6IHJ1bi5vdXRwdXRzLFxuICAgICAgICAgICAgICAgIGNoaWxkX2xsbV9ydW5zOiBjaGlsZF9ydW5zLmZpbHRlcigoY2hpbGRfcnVuKSA9PiBjaGlsZF9ydW4udHlwZSA9PT0gXCJsbG1cIiksXG4gICAgICAgICAgICAgICAgY2hpbGRfY2hhaW5fcnVuczogY2hpbGRfcnVucy5maWx0ZXIoKGNoaWxkX3J1bikgPT4gY2hpbGRfcnVuLnR5cGUgPT09IFwiY2hhaW5cIiksXG4gICAgICAgICAgICAgICAgY2hpbGRfdG9vbF9ydW5zOiBjaGlsZF9ydW5zLmZpbHRlcigoY2hpbGRfcnVuKSA9PiBjaGlsZF9ydW4udHlwZSA9PT0gXCJ0b29sXCIpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJ1blJlc3VsdCA9IGNoYWluUnVuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJ1bi5ydW5fdHlwZSA9PT0gXCJ0b29sXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkX3J1bnMgPSBhd2FpdCBQcm9taXNlLmFsbChydW4uY2hpbGRfcnVucy5tYXAoKGNoaWxkX3J1bikgPT4gdGhpcy5jb252ZXJ0VjJSdW5Ub1J1bihjaGlsZF9ydW4pKSk7XG4gICAgICAgICAgICBjb25zdCB0b29sUnVuID0ge1xuICAgICAgICAgICAgICAgIHV1aWQ6IHJ1bi5pZCxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lOiBydW4uc3RhcnRfdGltZSxcbiAgICAgICAgICAgICAgICBlbmRfdGltZTogcnVuLmVuZF90aW1lLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGlvbl9vcmRlcjogcnVuLmV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IHJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICAgICAgc2VyaWFsaXplZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBydW4ucnVuX3R5cGUsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICB0b29sX2lucHV0OiBydW4uaW5wdXRzLmlucHV0LFxuICAgICAgICAgICAgICAgIG91dHB1dDogcnVuLm91dHB1dHM/Lm91dHB1dCxcbiAgICAgICAgICAgICAgICBhY3Rpb246IEpTT04uc3RyaW5naWZ5KHNlcmlhbGl6ZWQpLFxuICAgICAgICAgICAgICAgIGNoaWxkX2xsbV9ydW5zOiBjaGlsZF9ydW5zLmZpbHRlcigoY2hpbGRfcnVuKSA9PiBjaGlsZF9ydW4udHlwZSA9PT0gXCJsbG1cIiksXG4gICAgICAgICAgICAgICAgY2hpbGRfY2hhaW5fcnVuczogY2hpbGRfcnVucy5maWx0ZXIoKGNoaWxkX3J1bikgPT4gY2hpbGRfcnVuLnR5cGUgPT09IFwiY2hhaW5cIiksXG4gICAgICAgICAgICAgICAgY2hpbGRfdG9vbF9ydW5zOiBjaGlsZF9ydW5zLmZpbHRlcigoY2hpbGRfcnVuKSA9PiBjaGlsZF9ydW4udHlwZSA9PT0gXCJ0b29sXCIpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJ1blJlc3VsdCA9IHRvb2xSdW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcnVuIHR5cGU6ICR7cnVuLnJ1bl90eXBlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydW5SZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIHBlcnNpc3RSdW4ocnVuKSB7XG4gICAgICAgIGxldCBlbmRwb2ludDtcbiAgICAgICAgbGV0IHYxUnVuO1xuICAgICAgICBpZiAocnVuLnJ1bl90eXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHYxUnVuID0gYXdhaXQgdGhpcy5jb252ZXJ0VjJSdW5Ub1J1bihydW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdjFSdW4gPSBydW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHYxUnVuLnR5cGUgPT09IFwibGxtXCIpIHtcbiAgICAgICAgICAgIGVuZHBvaW50ID0gYCR7dGhpcy5lbmRwb2ludH0vbGxtLXJ1bnNgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHYxUnVuLnR5cGUgPT09IFwiY2hhaW5cIikge1xuICAgICAgICAgICAgZW5kcG9pbnQgPSBgJHt0aGlzLmVuZHBvaW50fS9jaGFpbi1ydW5zYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVuZHBvaW50ID0gYCR7dGhpcy5lbmRwb2ludH0vdG9vbC1ydW5zYDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGVuZHBvaW50LCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodjFSdW4pLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHBlcnNpc3QgcnVuOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHBlcnNpc3RTZXNzaW9uKHNlc3Npb25DcmVhdGUpIHtcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLmVuZHBvaW50fS9zZXNzaW9uc2A7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZW5kcG9pbnQsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShzZXNzaW9uQ3JlYXRlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBwZXJzaXN0IHNlc3Npb246ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9LCB1c2luZyBkZWZhdWx0IHNlc3Npb24uYCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgICAgICAgIC4uLnNlc3Npb25DcmVhdGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkuaWQsXG4gICAgICAgICAgICAuLi5zZXNzaW9uQ3JlYXRlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBfaGFuZGxlU2Vzc2lvblJlc3BvbnNlKGVuZHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZW5kcG9pbnQsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCB0cmFjZXJTZXNzaW9uO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gbG9hZCBzZXNzaW9uOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgdHJhY2VyU2Vzc2lvbiA9IHtcbiAgICAgICAgICAgICAgICBpZDogMSxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IHRyYWNlclNlc3Npb247XG4gICAgICAgICAgICByZXR1cm4gdHJhY2VyU2Vzc2lvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgIGlmIChyZXNwLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdHJhY2VyU2Vzc2lvbiA9IHtcbiAgICAgICAgICAgICAgICBpZDogMSxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IHRyYWNlclNlc3Npb247XG4gICAgICAgICAgICByZXR1cm4gdHJhY2VyU2Vzc2lvbjtcbiAgICAgICAgfVxuICAgICAgICBbdHJhY2VyU2Vzc2lvbl0gPSByZXNwO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSB0cmFjZXJTZXNzaW9uO1xuICAgICAgICByZXR1cm4gdHJhY2VyU2Vzc2lvbjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBMYW5nQ2hhaW5UcmFjZXIgfSBmcm9tIFwiLi90cmFjZXJfbGFuZ2NoYWluLmpzXCI7XG5pbXBvcnQgeyBMYW5nQ2hhaW5UcmFjZXJWMSB9IGZyb20gXCIuL3RyYWNlcl9sYW5nY2hhaW5fdjEuanNcIjtcbi8qKlxuICogRnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGluc3RhbmNlIG9mIGBMYW5nQ2hhaW5UcmFjZXJWMWAuIElmIGEgc2Vzc2lvblxuICogaXMgcHJvdmlkZWQsIGl0IGxvYWRzIHRoYXQgc2Vzc2lvbiBpbnRvIHRoZSB0cmFjZXI7IG90aGVyd2lzZSwgaXQgbG9hZHNcbiAqIGEgZGVmYXVsdCBzZXNzaW9uLlxuICogQHBhcmFtIHNlc3Npb24gT3B0aW9uYWwgc2Vzc2lvbiB0byBsb2FkIGludG8gdGhlIHRyYWNlci5cbiAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIGBMYW5nQ2hhaW5UcmFjZXJWMWAuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUcmFjaW5nQ2FsbGJhY2tIYW5kbGVyKHNlc3Npb24pIHtcbiAgICBjb25zdCB0cmFjZXIgPSBuZXcgTGFuZ0NoYWluVHJhY2VyVjEoKTtcbiAgICBpZiAoc2Vzc2lvbikge1xuICAgICAgICBhd2FpdCB0cmFjZXIubG9hZFNlc3Npb24oc2Vzc2lvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhd2FpdCB0cmFjZXIubG9hZERlZmF1bHRTZXNzaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiB0cmFjZXI7XG59XG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBpbnN0YW5jZSBvZiBgTGFuZ0NoYWluVHJhY2VyYC4gSXQgZG9lcyBub3RcbiAqIGxvYWQgYW55IHNlc3Npb24gZGF0YS5cbiAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIGBMYW5nQ2hhaW5UcmFjZXJgLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VHJhY2luZ1YyQ2FsbGJhY2tIYW5kbGVyKCkge1xuICAgIHJldHVybiBuZXcgTGFuZ0NoYWluVHJhY2VyKCk7XG59XG4iLCJpbXBvcnQgUFF1ZXVlTW9kIGZyb20gXCJwLXF1ZXVlXCI7XG5sZXQgcXVldWU7XG4vKipcbiAqIENyZWF0ZXMgYSBxdWV1ZSB1c2luZyB0aGUgcC1xdWV1ZSBsaWJyYXJ5LiBUaGUgcXVldWUgaXMgY29uZmlndXJlZCB0b1xuICogYXV0by1zdGFydCBhbmQgaGFzIGEgY29uY3VycmVuY3kgb2YgMSwgbWVhbmluZyBpdCB3aWxsIHByb2Nlc3MgdGFza3NcbiAqIG9uZSBhdCBhIHRpbWUuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVF1ZXVlKCkge1xuICAgIGNvbnN0IFBRdWV1ZSA9IFwiZGVmYXVsdFwiIGluIFBRdWV1ZU1vZCA/IFBRdWV1ZU1vZC5kZWZhdWx0IDogUFF1ZXVlTW9kO1xuICAgIHJldHVybiBuZXcgUFF1ZXVlKHtcbiAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgICBjb25jdXJyZW5jeTogMSxcbiAgICB9KTtcbn1cbi8qKlxuICogQ29uc3VtZSBhIHByb21pc2UsIGVpdGhlciBhZGRpbmcgaXQgdG8gdGhlIHF1ZXVlIG9yIHdhaXRpbmcgZm9yIGl0IHRvIHJlc29sdmVcbiAqIEBwYXJhbSBwcm9taXNlIFByb21pc2UgdG8gY29uc3VtZVxuICogQHBhcmFtIHdhaXQgV2hldGhlciB0byB3YWl0IGZvciB0aGUgcHJvbWlzZSB0byByZXNvbHZlIG9yIHJlc29sdmUgaW1tZWRpYXRlbHlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbnN1bWVDYWxsYmFjayhwcm9taXNlRm4sIHdhaXQpIHtcbiAgICBpZiAod2FpdCA9PT0gdHJ1ZSkge1xuICAgICAgICBhd2FpdCBwcm9taXNlRm4oKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgcXVldWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHF1ZXVlID0gY3JlYXRlUXVldWUoKTtcbiAgICAgICAgfVxuICAgICAgICB2b2lkIHF1ZXVlLmFkZChwcm9taXNlRm4pO1xuICAgIH1cbn1cbi8qKlxuICogV2FpdHMgZm9yIGFsbCBwcm9taXNlcyBpbiB0aGUgcXVldWUgdG8gcmVzb2x2ZS4gSWYgdGhlIHF1ZXVlIGlzXG4gKiB1bmRlZmluZWQsIGl0IGltbWVkaWF0ZWx5IHJlc29sdmVzIGEgcHJvbWlzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF3YWl0QWxsQ2FsbGJhY2tzKCkge1xuICAgIHJldHVybiB0eXBlb2YgcXVldWUgIT09IFwidW5kZWZpbmVkXCIgPyBxdWV1ZS5vbklkbGUoKSA6IFByb21pc2UucmVzb2x2ZSgpO1xufVxuIiwiaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IEJhc2VDYWxsYmFja0hhbmRsZXIsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgQ29uc29sZUNhbGxiYWNrSGFuZGxlciB9IGZyb20gXCIuL2hhbmRsZXJzL2NvbnNvbGUuanNcIjtcbmltcG9ydCB7IGdldFRyYWNpbmdDYWxsYmFja0hhbmRsZXIsIGdldFRyYWNpbmdWMkNhbGxiYWNrSGFuZGxlciwgfSBmcm9tIFwiLi9oYW5kbGVycy9pbml0aWFsaXplLmpzXCI7XG5pbXBvcnQgeyBnZXRCdWZmZXJTdHJpbmcgfSBmcm9tIFwiLi4vbWVtb3J5L2Jhc2UuanNcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi4vdXRpbC9lbnYuanNcIjtcbmltcG9ydCB7IExhbmdDaGFpblRyYWNlciwgfSBmcm9tIFwiLi9oYW5kbGVycy90cmFjZXJfbGFuZ2NoYWluLmpzXCI7XG5pbXBvcnQgeyBjb25zdW1lQ2FsbGJhY2sgfSBmcm9tIFwiLi9wcm9taXNlcy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ2FsbGJhY2tDb25maWdBcmcoYXJnKSB7XG4gICAgaWYgKCFhcmcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykgfHwgXCJuYW1lXCIgaW4gYXJnKSB7XG4gICAgICAgIHJldHVybiB7IGNhbGxiYWNrczogYXJnIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYXJnO1xuICAgIH1cbn1cbi8qKlxuICogTWFuYWdlIGNhbGxiYWNrcyBmcm9tIGRpZmZlcmVudCBjb21wb25lbnRzIG9mIExhbmdDaGFpbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VDYWxsYmFja01hbmFnZXIge1xuICAgIHNldEhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRIYW5kbGVycyhbaGFuZGxlcl0pO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgcnVuIG1hbmFnZXIgaW4gTGFuZ0NoYWluLlxuICovXG5jbGFzcyBCYXNlUnVuTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IocnVuSWQsIGhhbmRsZXJzLCBpbmhlcml0YWJsZUhhbmRsZXJzLCB0YWdzLCBpbmhlcml0YWJsZVRhZ3MsIG1ldGFkYXRhLCBpbmhlcml0YWJsZU1ldGFkYXRhLCBfcGFyZW50UnVuSWQpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicnVuSWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHJ1bklkXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJoYW5kbGVyc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogaGFuZGxlcnNcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaGVyaXRhYmxlSGFuZGxlcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGluaGVyaXRhYmxlSGFuZGxlcnNcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRhZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRhZ3NcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaGVyaXRhYmxlVGFnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogaW5oZXJpdGFibGVUYWdzXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXRhZGF0YVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogbWV0YWRhdGFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaGVyaXRhYmxlTWV0YWRhdGFcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGluaGVyaXRhYmxlTWV0YWRhdGFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wYXJlbnRSdW5JZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogX3BhcmVudFJ1bklkXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVUZXh0KHRleHQpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlVGV4dD8uKHRleHQsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVUZXh0OiAke2Vycn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgIH1cbn1cbi8qKlxuICogTWFuYWdlcyBjYWxsYmFja3MgZm9yIHJldHJpZXZlciBydW5zLlxuICovXG5leHBvcnQgY2xhc3MgQ2FsbGJhY2tNYW5hZ2VyRm9yUmV0cmlldmVyUnVuIGV4dGVuZHMgQmFzZVJ1bk1hbmFnZXIge1xuICAgIGdldENoaWxkKHRhZykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHRoaXMucnVuSWQpO1xuICAgICAgICBtYW5hZ2VyLnNldEhhbmRsZXJzKHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyk7XG4gICAgICAgIG1hbmFnZXIuYWRkVGFncyh0aGlzLmluaGVyaXRhYmxlVGFncyk7XG4gICAgICAgIG1hbmFnZXIuYWRkTWV0YWRhdGEodGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhKTtcbiAgICAgICAgaWYgKHRhZykge1xuICAgICAgICAgICAgbWFuYWdlci5hZGRUYWdzKFt0YWddLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hbmFnZXI7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVJldHJpZXZlckVuZChkb2N1bWVudHMpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlUmV0cmlldmVyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVSZXRyaWV2ZXJFbmQ/Lihkb2N1bWVudHMsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVSZXRyaWV2ZXJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlUmV0cmlldmVyRXJyb3IoZXJyKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyLmlnbm9yZVJldHJpZXZlcikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlUmV0cmlldmVyRXJyb3I/LihlcnIsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZVJldHJpZXZlckVycm9yOiAke2Vycm9yfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDYWxsYmFja01hbmFnZXJGb3JMTE1SdW4gZXh0ZW5kcyBCYXNlUnVuTWFuYWdlciB7XG4gICAgYXN5bmMgaGFuZGxlTExNTmV3VG9rZW4odG9rZW4sIGlkeCwgX3J1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBmaWVsZHMpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlTExNKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVMTE1OZXdUb2tlbj8uKHRva2VuLCBpZHggPz8geyBwcm9tcHQ6IDAsIGNvbXBsZXRpb246IDAgfSwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgZmllbGRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlTExNTmV3VG9rZW46ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVMTE1FcnJvcihlcnIpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlTExNKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVMTE1FcnJvcj8uKGVyciwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUxMTUVycm9yOiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTExNRW5kKG91dHB1dCkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVMTE0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUxMTUVuZD8uKG91dHB1dCwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUxMTUVuZDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENhbGxiYWNrTWFuYWdlckZvckNoYWluUnVuIGV4dGVuZHMgQmFzZVJ1bk1hbmFnZXIge1xuICAgIGdldENoaWxkKHRhZykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHRoaXMucnVuSWQpO1xuICAgICAgICBtYW5hZ2VyLnNldEhhbmRsZXJzKHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyk7XG4gICAgICAgIG1hbmFnZXIuYWRkVGFncyh0aGlzLmluaGVyaXRhYmxlVGFncyk7XG4gICAgICAgIG1hbmFnZXIuYWRkTWV0YWRhdGEodGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhKTtcbiAgICAgICAgaWYgKHRhZykge1xuICAgICAgICAgICAgbWFuYWdlci5hZGRUYWdzKFt0YWddLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hbmFnZXI7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYWluRXJyb3IoZXJyLCBfcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGt3YXJncykge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVDaGFpbikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlQ2hhaW5FcnJvcj8uKGVyciwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywga3dhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlQ2hhaW5FcnJvcjogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYWluRW5kKG91dHB1dCwgX3J1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBrd2FyZ3MpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlQ2hhaW4pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYWluRW5kPy4ob3V0cHV0LCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCBrd2FyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVDaGFpbkVuZDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUFnZW50QWN0aW9uKGFjdGlvbikge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlQWdlbnRBY3Rpb24/LihhY3Rpb24sIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVBZ2VudEFjdGlvbjogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUFnZW50RW5kKGFjdGlvbikge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlQWdlbnRFbmQ/LihhY3Rpb24sIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVBZ2VudEVuZDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENhbGxiYWNrTWFuYWdlckZvclRvb2xSdW4gZXh0ZW5kcyBCYXNlUnVuTWFuYWdlciB7XG4gICAgZ2V0Q2hpbGQodGFnKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IG5ldyBDYWxsYmFja01hbmFnZXIodGhpcy5ydW5JZCk7XG4gICAgICAgIG1hbmFnZXIuc2V0SGFuZGxlcnModGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzKTtcbiAgICAgICAgbWFuYWdlci5hZGRUYWdzKHRoaXMuaW5oZXJpdGFibGVUYWdzKTtcbiAgICAgICAgbWFuYWdlci5hZGRNZXRhZGF0YSh0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEpO1xuICAgICAgICBpZiAodGFnKSB7XG4gICAgICAgICAgICBtYW5hZ2VyLmFkZFRhZ3MoW3RhZ10sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFuYWdlcjtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlVG9vbEVycm9yKGVycikge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlVG9vbEVycm9yPy4oZXJyLCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlVG9vbEVycm9yOiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlVG9vbEVuZChvdXRwdXQpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlQWdlbnQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZVRvb2xFbmQ/LihvdXRwdXQsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVUb29sRW5kOiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2FsbGJhY2tNYW5hZ2VyIGV4dGVuZHMgQmFzZUNhbGxiYWNrTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IocGFyZW50UnVuSWQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGFuZGxlcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5oZXJpdGFibGVIYW5kbGVyc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0YWdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5oZXJpdGFibGVUYWdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWV0YWRhdGFcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHt9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbmhlcml0YWJsZU1ldGFkYXRhXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB7fVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJjYWxsYmFja19tYW5hZ2VyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wYXJlbnRSdW5JZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLl9wYXJlbnRSdW5JZCA9IHBhcmVudFJ1bklkO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVMTE1TdGFydChsbG0sIHByb21wdHMsIF9ydW5JZCA9IHVuZGVmaW5lZCwgX3BhcmVudFJ1bklkID0gdW5kZWZpbmVkLCBleHRyYVBhcmFtcyA9IHVuZGVmaW5lZCwgX3RhZ3MgPSB1bmRlZmluZWQsIF9tZXRhZGF0YSA9IHVuZGVmaW5lZCwgcnVuTmFtZSA9IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXB0cy5tYXAoYXN5bmMgKHByb21wdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcnVuSWQgPSB1dWlkdjQoKTtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiBjb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVMTE0pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlTExNU3RhcnQ/LihsbG0sIFtwcm9tcHRdLCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1bk5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVMTE1TdGFydDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvckxMTVJ1bihydW5JZCwgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLnRhZ3MsIHRoaXMuaW5oZXJpdGFibGVUYWdzLCB0aGlzLm1ldGFkYXRhLCB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVDaGF0TW9kZWxTdGFydChsbG0sIG1lc3NhZ2VzLCBfcnVuSWQgPSB1bmRlZmluZWQsIF9wYXJlbnRSdW5JZCA9IHVuZGVmaW5lZCwgZXh0cmFQYXJhbXMgPSB1bmRlZmluZWQsIF90YWdzID0gdW5kZWZpbmVkLCBfbWV0YWRhdGEgPSB1bmRlZmluZWQsIHJ1bk5hbWUgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKG1lc3NhZ2VzLm1hcChhc3luYyAobWVzc2FnZUdyb3VwKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBydW5JZCA9IHV1aWR2NCgpO1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVyLmlnbm9yZUxMTSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIuaGFuZGxlQ2hhdE1vZGVsU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYXRNb2RlbFN0YXJ0Py4obGxtLCBbbWVzc2FnZUdyb3VwXSwgcnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCBleHRyYVBhcmFtcywgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5OYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhbmRsZXIuaGFuZGxlTExNU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlU3RyaW5nID0gZ2V0QnVmZmVyU3RyaW5nKG1lc3NhZ2VHcm91cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVMTE1TdGFydD8uKGxsbSwgW21lc3NhZ2VTdHJpbmddLCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1bk5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVMTE1TdGFydDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvckxMTVJ1bihydW5JZCwgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLnRhZ3MsIHRoaXMuaW5oZXJpdGFibGVUYWdzLCB0aGlzLm1ldGFkYXRhLCB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVDaGFpblN0YXJ0KGNoYWluLCBpbnB1dHMsIHJ1bklkID0gdXVpZHY0KCksIHJ1blR5cGUgPSB1bmRlZmluZWQsIF90YWdzID0gdW5kZWZpbmVkLCBfbWV0YWRhdGEgPSB1bmRlZmluZWQsIHJ1bk5hbWUgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlQ2hhaW4pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYWluU3RhcnQ/LihjaGFpbiwgaW5wdXRzLCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuVHlwZSwgcnVuTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUNoYWluU3RhcnQ6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgICAgICByZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvckNoYWluUnVuKHJ1bklkLCB0aGlzLmhhbmRsZXJzLCB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMsIHRoaXMudGFncywgdGhpcy5pbmhlcml0YWJsZVRhZ3MsIHRoaXMubWV0YWRhdGEsIHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSwgdGhpcy5fcGFyZW50UnVuSWQpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVUb29sU3RhcnQodG9vbCwgaW5wdXQsIHJ1bklkID0gdXVpZHY0KCksIF9wYXJlbnRSdW5JZCA9IHVuZGVmaW5lZCwgX3RhZ3MgPSB1bmRlZmluZWQsIF9tZXRhZGF0YSA9IHVuZGVmaW5lZCwgcnVuTmFtZSA9IHVuZGVmaW5lZCkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlVG9vbFN0YXJ0Py4odG9vbCwgaW5wdXQsIHJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5OYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlVG9vbFN0YXJ0OiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDYWxsYmFja01hbmFnZXJGb3JUb29sUnVuKHJ1bklkLCB0aGlzLmhhbmRsZXJzLCB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMsIHRoaXMudGFncywgdGhpcy5pbmhlcml0YWJsZVRhZ3MsIHRoaXMubWV0YWRhdGEsIHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSwgdGhpcy5fcGFyZW50UnVuSWQpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVSZXRyaWV2ZXJTdGFydChyZXRyaWV2ZXIsIHF1ZXJ5LCBydW5JZCA9IHV1aWR2NCgpLCBfcGFyZW50UnVuSWQgPSB1bmRlZmluZWQsIF90YWdzID0gdW5kZWZpbmVkLCBfbWV0YWRhdGEgPSB1bmRlZmluZWQsIHJ1bk5hbWUgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IGNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlUmV0cmlldmVyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVSZXRyaWV2ZXJTdGFydD8uKHJldHJpZXZlciwgcXVlcnksIHJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5OYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlUmV0cmlldmVyU3RhcnQ6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuICAgICAgICByZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvclJldHJpZXZlclJ1bihydW5JZCwgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLnRhZ3MsIHRoaXMuaW5oZXJpdGFibGVUYWdzLCB0aGlzLm1ldGFkYXRhLCB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICB9XG4gICAgYWRkSGFuZGxlcihoYW5kbGVyLCBpbmhlcml0ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIGlmIChpbmhlcml0KSB7XG4gICAgICAgICAgICB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZmlsdGVyKChfaGFuZGxlcikgPT4gX2hhbmRsZXIgIT09IGhhbmRsZXIpO1xuICAgICAgICB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMgPSB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMuZmlsdGVyKChfaGFuZGxlcikgPT4gX2hhbmRsZXIgIT09IGhhbmRsZXIpO1xuICAgIH1cbiAgICBzZXRIYW5kbGVycyhoYW5kbGVycywgaW5oZXJpdCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIGhhbmRsZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEhhbmRsZXIoaGFuZGxlciwgaW5oZXJpdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkVGFncyh0YWdzLCBpbmhlcml0ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnJlbW92ZVRhZ3ModGFncyk7IC8vIFJlbW92ZSBkdXBsaWNhdGVzXG4gICAgICAgIHRoaXMudGFncy5wdXNoKC4uLnRhZ3MpO1xuICAgICAgICBpZiAoaW5oZXJpdCkge1xuICAgICAgICAgICAgdGhpcy5pbmhlcml0YWJsZVRhZ3MucHVzaCguLi50YWdzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVUYWdzKHRhZ3MpIHtcbiAgICAgICAgdGhpcy50YWdzID0gdGhpcy50YWdzLmZpbHRlcigodGFnKSA9PiAhdGFncy5pbmNsdWRlcyh0YWcpKTtcbiAgICAgICAgdGhpcy5pbmhlcml0YWJsZVRhZ3MgPSB0aGlzLmluaGVyaXRhYmxlVGFncy5maWx0ZXIoKHRhZykgPT4gIXRhZ3MuaW5jbHVkZXModGFnKSk7XG4gICAgfVxuICAgIGFkZE1ldGFkYXRhKG1ldGFkYXRhLCBpbmhlcml0ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0geyAuLi50aGlzLm1ldGFkYXRhLCAuLi5tZXRhZGF0YSB9O1xuICAgICAgICBpZiAoaW5oZXJpdCkge1xuICAgICAgICAgICAgdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhID0geyAuLi50aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIC4uLm1ldGFkYXRhIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMobWV0YWRhdGEpKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5tZXRhZGF0YVtrZXldO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YVtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvcHkoYWRkaXRpb25hbEhhbmRsZXJzID0gW10sIGluaGVyaXQgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHRoaXMuaGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGluaGVyaXRhYmxlID0gdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLmluY2x1ZGVzKGhhbmRsZXIpO1xuICAgICAgICAgICAgbWFuYWdlci5hZGRIYW5kbGVyKGhhbmRsZXIsIGluaGVyaXRhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0aGlzLnRhZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGluaGVyaXRhYmxlID0gdGhpcy5pbmhlcml0YWJsZVRhZ3MuaW5jbHVkZXModGFnKTtcbiAgICAgICAgICAgIG1hbmFnZXIuYWRkVGFncyhbdGFnXSwgaW5oZXJpdGFibGUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMubWV0YWRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBpbmhlcml0YWJsZSA9IE9iamVjdC5rZXlzKHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSkuaW5jbHVkZXMoa2V5KTtcbiAgICAgICAgICAgIG1hbmFnZXIuYWRkTWV0YWRhdGEoeyBba2V5XTogdGhpcy5tZXRhZGF0YVtrZXldIH0sIGluaGVyaXRhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgYWRkaXRpb25hbEhhbmRsZXJzKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAvLyBQcmV2ZW50IG11bHRpcGxlIGNvcGllcyBvZiBjb25zb2xlX2NhbGxiYWNrX2hhbmRsZXJcbiAgICAgICAgICAgIG1hbmFnZXIuaGFuZGxlcnNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChoKSA9PiBoLm5hbWUgPT09IFwiY29uc29sZV9jYWxsYmFja19oYW5kbGVyXCIpXG4gICAgICAgICAgICAgICAgLnNvbWUoKGgpID0+IGgubmFtZSA9PT0gaGFuZGxlci5uYW1lKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFuYWdlci5hZGRIYW5kbGVyKGhhbmRsZXIsIGluaGVyaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYW5hZ2VyO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUhhbmRsZXJzKGhhbmRsZXJzKSB7XG4gICAgICAgIGNsYXNzIEhhbmRsZXIgZXh0ZW5kcyBCYXNlQ2FsbGJhY2tIYW5kbGVyIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1dWlkdjQoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgaGFuZGxlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgdGhpcygpO1xuICAgICAgICBtYW5hZ2VyLmFkZEhhbmRsZXIobmV3IEhhbmRsZXIoKSk7XG4gICAgICAgIHJldHVybiBtYW5hZ2VyO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgY29uZmlndXJlKGluaGVyaXRhYmxlSGFuZGxlcnMsIGxvY2FsSGFuZGxlcnMsIGluaGVyaXRhYmxlVGFncywgbG9jYWxUYWdzLCBpbmhlcml0YWJsZU1ldGFkYXRhLCBsb2NhbE1ldGFkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBjYWxsYmFja01hbmFnZXI7XG4gICAgICAgIGlmIChpbmhlcml0YWJsZUhhbmRsZXJzIHx8IGxvY2FsSGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGluaGVyaXRhYmxlSGFuZGxlcnMpIHx8ICFpbmhlcml0YWJsZUhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tNYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcigpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5zZXRIYW5kbGVycyhpbmhlcml0YWJsZUhhbmRsZXJzPy5tYXAoZW5zdXJlSGFuZGxlcikgPz8gW10sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tNYW5hZ2VyID0gaW5oZXJpdGFibGVIYW5kbGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlciA9IGNhbGxiYWNrTWFuYWdlci5jb3B5KEFycmF5LmlzQXJyYXkobG9jYWxIYW5kbGVycylcbiAgICAgICAgICAgICAgICA/IGxvY2FsSGFuZGxlcnMubWFwKGVuc3VyZUhhbmRsZXIpXG4gICAgICAgICAgICAgICAgOiBsb2NhbEhhbmRsZXJzPy5oYW5kbGVycywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZlcmJvc2VFbmFibGVkID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9WRVJCT1NFXCIpIHx8IG9wdGlvbnM/LnZlcmJvc2U7XG4gICAgICAgIGNvbnN0IHRyYWNpbmdWMkVuYWJsZWQgPSBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX1RSQUNJTkdfVjJcIikgPT09IFwidHJ1ZVwiO1xuICAgICAgICBjb25zdCB0cmFjaW5nRW5hYmxlZCA9IHRyYWNpbmdWMkVuYWJsZWQgfHxcbiAgICAgICAgICAgIChnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX1RSQUNJTkdcIikgPz8gZmFsc2UpO1xuICAgICAgICBpZiAodmVyYm9zZUVuYWJsZWQgfHwgdHJhY2luZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGlmICghY2FsbGJhY2tNYW5hZ2VyKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tNYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZlcmJvc2VFbmFibGVkICYmXG4gICAgICAgICAgICAgICAgIWNhbGxiYWNrTWFuYWdlci5oYW5kbGVycy5zb21lKChoYW5kbGVyKSA9PiBoYW5kbGVyLm5hbWUgPT09IENvbnNvbGVDYWxsYmFja0hhbmRsZXIucHJvdG90eXBlLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uc29sZUhhbmRsZXIgPSBuZXcgQ29uc29sZUNhbGxiYWNrSGFuZGxlcigpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5hZGRIYW5kbGVyKGNvbnNvbGVIYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmFjaW5nRW5hYmxlZCAmJlxuICAgICAgICAgICAgICAgICFjYWxsYmFja01hbmFnZXIuaGFuZGxlcnMuc29tZSgoaGFuZGxlcikgPT4gaGFuZGxlci5uYW1lID09PSBcImxhbmdjaGFpbl90cmFjZXJcIikpIHtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2luZ1YyRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja01hbmFnZXIuYWRkSGFuZGxlcihhd2FpdCBnZXRUcmFjaW5nVjJDYWxsYmFja0hhbmRsZXIoKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9QUk9KRUNUXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX1NFU1NJT05cIik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5hZGRIYW5kbGVyKGF3YWl0IGdldFRyYWNpbmdDYWxsYmFja0hhbmRsZXIoc2Vzc2lvbiksIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5oZXJpdGFibGVUYWdzIHx8IGxvY2FsVGFncykge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrTWFuYWdlcikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5hZGRUYWdzKGluaGVyaXRhYmxlVGFncyA/PyBbXSk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tNYW5hZ2VyLmFkZFRhZ3MobG9jYWxUYWdzID8/IFtdLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluaGVyaXRhYmxlTWV0YWRhdGEgfHwgbG9jYWxNZXRhZGF0YSkge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrTWFuYWdlcikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5hZGRNZXRhZGF0YShpbmhlcml0YWJsZU1ldGFkYXRhID8/IHt9KTtcbiAgICAgICAgICAgICAgICBjYWxsYmFja01hbmFnZXIuYWRkTWV0YWRhdGEobG9jYWxNZXRhZGF0YSA/PyB7fSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWxsYmFja01hbmFnZXI7XG4gICAgfVxufVxuZnVuY3Rpb24gZW5zdXJlSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgaWYgKFwibmFtZVwiIGluIGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXI7XG4gICAgfVxuICAgIHJldHVybiBCYXNlQ2FsbGJhY2tIYW5kbGVyLmZyb21NZXRob2RzKGhhbmRsZXIpO1xufVxuZXhwb3J0IGNsYXNzIFRyYWNlR3JvdXAge1xuICAgIGNvbnN0cnVjdG9yKGdyb3VwTmFtZSwgb3B0aW9ucykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJncm91cE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGdyb3VwTmFtZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3B0aW9uc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9uc1xuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicnVuTWFuYWdlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBnZXRUcmFjZUdyb3VwQ2FsbGJhY2tNYW5hZ2VyKGdyb3VwX25hbWUsIGlucHV0cywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYiA9IG5ldyBMYW5nQ2hhaW5UcmFjZXIob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGNtID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShbY2JdKTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNtPy5oYW5kbGVDaGFpblN0YXJ0KHtcbiAgICAgICAgICAgIGxjOiAxLFxuICAgICAgICAgICAgdHlwZTogXCJub3RfaW1wbGVtZW50ZWRcIixcbiAgICAgICAgICAgIGlkOiBbXCJsYW5nY2hhaW5cIiwgXCJjYWxsYmFja3NcIiwgXCJncm91cHNcIiwgZ3JvdXBfbmFtZV0sXG4gICAgICAgIH0sIGlucHV0cyA/PyB7fSk7XG4gICAgICAgIGlmICghcnVuTWFuYWdlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSBydW4gZ3JvdXAgY2FsbGJhY2sgbWFuYWdlci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1bk1hbmFnZXI7XG4gICAgfVxuICAgIGFzeW5jIHN0YXJ0KGlucHV0cykge1xuICAgICAgICBpZiAoIXRoaXMucnVuTWFuYWdlcikge1xuICAgICAgICAgICAgdGhpcy5ydW5NYW5hZ2VyID0gYXdhaXQgdGhpcy5nZXRUcmFjZUdyb3VwQ2FsbGJhY2tNYW5hZ2VyKHRoaXMuZ3JvdXBOYW1lLCBpbnB1dHMsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucnVuTWFuYWdlci5nZXRDaGlsZCgpO1xuICAgIH1cbiAgICBhc3luYyBlcnJvcihlcnIpIHtcbiAgICAgICAgaWYgKHRoaXMucnVuTWFuYWdlcikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5ydW5NYW5hZ2VyLmhhbmRsZUNoYWluRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHRoaXMucnVuTWFuYWdlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBlbmQob3V0cHV0KSB7XG4gICAgICAgIGlmICh0aGlzLnJ1bk1hbmFnZXIpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucnVuTWFuYWdlci5oYW5kbGVDaGFpbkVuZChvdXRwdXQgPz8ge30pO1xuICAgICAgICAgICAgdGhpcy5ydW5NYW5hZ2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIF9jb2VyY2VUb0RpY3QodmFsdWUsIGRlZmF1bHRLZXkpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIlxuICAgICAgICA/IHZhbHVlXG4gICAgICAgIDogeyBbZGVmYXVsdEtleV06IHZhbHVlIH07XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyYWNlQXNHcm91cChncm91cE9wdGlvbnMsIGVuY2xvc2VkQ29kZSwgLi4uYXJncykge1xuICAgIGNvbnN0IHRyYWNlR3JvdXAgPSBuZXcgVHJhY2VHcm91cChncm91cE9wdGlvbnMubmFtZSwgZ3JvdXBPcHRpb25zKTtcbiAgICBjb25zdCBjYWxsYmFja01hbmFnZXIgPSBhd2FpdCB0cmFjZUdyb3VwLnN0YXJ0KHsgLi4uYXJncyB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlbmNsb3NlZENvZGUoY2FsbGJhY2tNYW5hZ2VyLCAuLi5hcmdzKTtcbiAgICAgICAgYXdhaXQgdHJhY2VHcm91cC5lbmQoX2NvZXJjZVRvRGljdChyZXN1bHQsIFwib3V0cHV0XCIpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBhd2FpdCB0cmFjZUdyb3VwLmVycm9yKGVycik7XG4gICAgICAgIHRocm93IGVycjtcbiAgICB9XG59XG4iLCIvLyBAdHMtbm9jaGVja1xuLy8gSW5saW5lZCBiZWNhdXNlIG9mIEVTTSBpbXBvcnQgaXNzdWVzXG4vKiFcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9TdGFyY291bnRlci1KYWNrL0pTT04tUGF0Y2hcbiAqIChjKSAyMDE3LTIwMjIgSm9hY2hpbSBXZXN0ZXJcbiAqIE1JVCBsaWNlbnNlZFxuICovXG5jb25zdCBfaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuZXhwb3J0IGZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIF9oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfb2JqZWN0S2V5cyhvYmopIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBuZXcgQXJyYXkob2JqLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwga2V5cy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAga2V5c1trXSA9IFwiXCIgKyBrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXlzO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXMpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaik7XG4gICAgfVxuICAgIGxldCBrZXlzID0gW107XG4gICAgZm9yIChsZXQgaSBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KG9iaiwgaSkpIHtcbiAgICAgICAgICAgIGtleXMucHVzaChpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbn1cbi8qKlxuICogRGVlcGx5IGNsb25lIHRoZSBvYmplY3QuXG4gKiBodHRwczovL2pzcGVyZi5jb20vZGVlcC1jb3B5LXZzLWpzb24tc3RyaW5naWZ5LWpzb24tcGFyc2UvMjUgKHJlY3Vyc2l2ZURlZXBDb3B5KVxuICogQHBhcmFtICB7YW55fSBvYmogdmFsdWUgdG8gY2xvbmVcbiAqIEByZXR1cm4ge2FueX0gY2xvbmVkIG9ialxuICovXG5leHBvcnQgZnVuY3Rpb24gX2RlZXBDbG9uZShvYmopIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBvYmopIHtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7IC8vRmFzdGVyIHRoYW4gRVM1IGNsb25lIC0gaHR0cDovL2pzcGVyZi5jb20vZGVlcC1jbG9uaW5nLW9mLW9iamVjdHMvNVxuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDsgLy90aGlzIGlzIGhvdyBKU09OLnN0cmluZ2lmeSBiZWhhdmVzIGZvciBhcnJheSBpdGVtc1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG9iajsgLy9ubyBuZWVkIHRvIGNsb25lIHByaW1pdGl2ZXNcbiAgICB9XG59XG4vLzN4IGZhc3RlciB0aGFuIGNhY2hlZCAvXlxcZCskLy50ZXN0KHN0cilcbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVnZXIoc3RyKSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGxlbiA9IHN0ci5sZW5ndGg7XG4gICAgbGV0IGNoYXJDb2RlO1xuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgIGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjaGFyQ29kZSA+PSA0OCAmJiBjaGFyQ29kZSA8PSA1Nykge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogRXNjYXBlcyBhIGpzb24gcG9pbnRlciBwYXRoXG4gKiBAcGFyYW0gcGF0aCBUaGUgcmF3IHBvaW50ZXJcbiAqIEByZXR1cm4gdGhlIEVzY2FwZWQgcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUGF0aENvbXBvbmVudChwYXRoKSB7XG4gICAgaWYgKHBhdGguaW5kZXhPZihcIi9cIikgPT09IC0xICYmIHBhdGguaW5kZXhPZihcIn5cIikgPT09IC0xKVxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9+L2csIFwifjBcIikucmVwbGFjZSgvXFwvL2csIFwifjFcIik7XG59XG4vKipcbiAqIFVuZXNjYXBlcyBhIGpzb24gcG9pbnRlciBwYXRoXG4gKiBAcGFyYW0gcGF0aCBUaGUgZXNjYXBlZCBwb2ludGVyXG4gKiBAcmV0dXJuIFRoZSB1bmVzY2FwZWQgcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5lc2NhcGVQYXRoQ29tcG9uZW50KHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9+MS9nLCBcIi9cIikucmVwbGFjZSgvfjAvZywgXCJ+XCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9nZXRQYXRoUmVjdXJzaXZlKHJvb3QsIG9iaikge1xuICAgIGxldCBmb3VuZDtcbiAgICBmb3IgKGxldCBrZXkgaW4gcm9vdCkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkocm9vdCwga2V5KSkge1xuICAgICAgICAgICAgaWYgKHJvb3Rba2V5XSA9PT0gb2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVzY2FwZVBhdGhDb21wb25lbnQoa2V5KSArIFwiL1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHJvb3Rba2V5XSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gX2dldFBhdGhSZWN1cnNpdmUocm9vdFtrZXldLCBvYmopO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZCAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlc2NhcGVQYXRoQ29tcG9uZW50KGtleSkgKyBcIi9cIiArIGZvdW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRoKHJvb3QsIG9iaikge1xuICAgIGlmIChyb290ID09PSBvYmopIHtcbiAgICAgICAgcmV0dXJuIFwiL1wiO1xuICAgIH1cbiAgICBjb25zdCBwYXRoID0gX2dldFBhdGhSZWN1cnNpdmUocm9vdCwgb2JqKTtcbiAgICBpZiAocGF0aCA9PT0gXCJcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPYmplY3Qgbm90IGZvdW5kIGluIHJvb3RcIik7XG4gICAgfVxuICAgIHJldHVybiBgLyR7cGF0aH1gO1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBjaGVja3Mgd2hldGhlciBhbiBvYmplY3QgaGFzIGFueSB1bmRlZmluZWQgdmFsdWVzIGluc2lkZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc1VuZGVmaW5lZChvYmopIHtcbiAgICBpZiAob2JqID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChvYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG9iai5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChoYXNVbmRlZmluZWQob2JqW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29uc3Qgb2JqS2V5cyA9IF9vYmplY3RLZXlzKG9iaik7XG4gICAgICAgICAgICBjb25zdCBvYmpLZXlzTGVuZ3RoID0gb2JqS2V5cy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChoYXNVbmRlZmluZWQob2JqW29iaktleXNbaV1dKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gcGF0Y2hFcnJvck1lc3NhZ2VGb3JtYXR0ZXIobWVzc2FnZSwgYXJncykge1xuICAgIGNvbnN0IG1lc3NhZ2VQYXJ0cyA9IFttZXNzYWdlXTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhcmdzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdHlwZW9mIGFyZ3Nba2V5XSA9PT0gXCJvYmplY3RcIlxuICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeShhcmdzW2tleV0sIG51bGwsIDIpXG4gICAgICAgICAgICA6IGFyZ3Nba2V5XTsgLy8gcHJldHR5IHByaW50XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VQYXJ0cy5wdXNoKGAke2tleX06ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2VQYXJ0cy5qb2luKFwiXFxuXCIpO1xufVxuZXhwb3J0IGNsYXNzIFBhdGNoRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgbmFtZSwgaW5kZXgsIG9wZXJhdGlvbiwgdHJlZSkge1xuICAgICAgICBzdXBlcihwYXRjaEVycm9yTWVzc2FnZUZvcm1hdHRlcihtZXNzYWdlLCB7IG5hbWUsIGluZGV4LCBvcGVyYXRpb24sIHRyZWUgfSkpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBuYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbmRleFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogaW5kZXhcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wZXJhdGlvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogb3BlcmF0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0cmVlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cmVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpOyAvLyByZXN0b3JlIHByb3RvdHlwZSBjaGFpbiwgc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80ODM0MjM1OVxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBwYXRjaEVycm9yTWVzc2FnZUZvcm1hdHRlcihtZXNzYWdlLCB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgICB0cmVlLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCIvLyBAdHMtbm9jaGVja1xuaW1wb3J0IHsgUGF0Y2hFcnJvciwgX2RlZXBDbG9uZSwgaXNJbnRlZ2VyLCB1bmVzY2FwZVBhdGhDb21wb25lbnQsIGhhc1VuZGVmaW5lZCwgfSBmcm9tIFwiLi9oZWxwZXJzLmpzXCI7XG5leHBvcnQgY29uc3QgSnNvblBhdGNoRXJyb3IgPSBQYXRjaEVycm9yO1xuZXhwb3J0IGNvbnN0IGRlZXBDbG9uZSA9IF9kZWVwQ2xvbmU7XG4vKiBXZSB1c2UgYSBKYXZhc2NyaXB0IGhhc2ggdG8gc3RvcmUgZWFjaFxuIGZ1bmN0aW9uLiBFYWNoIGhhc2ggZW50cnkgKHByb3BlcnR5KSB1c2VzXG4gdGhlIG9wZXJhdGlvbiBpZGVudGlmaWVycyBzcGVjaWZpZWQgaW4gcmZjNjkwMi5cbiBJbiB0aGlzIHdheSwgd2UgY2FuIG1hcCBlYWNoIHBhdGNoIG9wZXJhdGlvblxuIHRvIGl0cyBkZWRpY2F0ZWQgZnVuY3Rpb24gaW4gZWZmaWNpZW50IHdheS5cbiAqL1xuLyogVGhlIG9wZXJhdGlvbnMgYXBwbGljYWJsZSB0byBhbiBvYmplY3QgKi9cbmNvbnN0IG9iak9wcyA9IHtcbiAgICBhZGQ6IGZ1bmN0aW9uIChvYmosIGtleSwgZG9jdW1lbnQpIHtcbiAgICAgICAgb2JqW2tleV0gPSB0aGlzLnZhbHVlO1xuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQgfTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gKG9iaiwga2V5LCBkb2N1bWVudCkge1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IG9ialtrZXldO1xuICAgICAgICBkZWxldGUgb2JqW2tleV07XG4gICAgICAgIHJldHVybiB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCwgcmVtb3ZlZCB9O1xuICAgIH0sXG4gICAgcmVwbGFjZTogZnVuY3Rpb24gKG9iaiwga2V5LCBkb2N1bWVudCkge1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IG9ialtrZXldO1xuICAgICAgICBvYmpba2V5XSA9IHRoaXMudmFsdWU7XG4gICAgICAgIHJldHVybiB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCwgcmVtb3ZlZCB9O1xuICAgIH0sXG4gICAgbW92ZTogZnVuY3Rpb24gKG9iaiwga2V5LCBkb2N1bWVudCkge1xuICAgICAgICAvKiBpbiBjYXNlIG1vdmUgdGFyZ2V0IG92ZXJ3cml0ZXMgYW4gZXhpc3RpbmcgdmFsdWUsXG4gICAgICAgIHJldHVybiB0aGUgcmVtb3ZlZCB2YWx1ZSwgdGhpcyBjYW4gYmUgdGF4aW5nIHBlcmZvcm1hbmNlLXdpc2UsXG4gICAgICAgIGFuZCBpcyBwb3RlbnRpYWxseSB1bm5lZWRlZCAqL1xuICAgICAgICBsZXQgcmVtb3ZlZCA9IGdldFZhbHVlQnlQb2ludGVyKGRvY3VtZW50LCB0aGlzLnBhdGgpO1xuICAgICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICAgICAgcmVtb3ZlZCA9IF9kZWVwQ2xvbmUocmVtb3ZlZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxWYWx1ZSA9IGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCB7XG4gICAgICAgICAgICBvcDogXCJyZW1vdmVcIixcbiAgICAgICAgICAgIHBhdGg6IHRoaXMuZnJvbSxcbiAgICAgICAgfSkucmVtb3ZlZDtcbiAgICAgICAgYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIHtcbiAgICAgICAgICAgIG9wOiBcImFkZFwiLFxuICAgICAgICAgICAgcGF0aDogdGhpcy5wYXRoLFxuICAgICAgICAgICAgdmFsdWU6IG9yaWdpbmFsVmFsdWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQsIHJlbW92ZWQgfTtcbiAgICB9LFxuICAgIGNvcHk6IGZ1bmN0aW9uIChvYmosIGtleSwgZG9jdW1lbnQpIHtcbiAgICAgICAgY29uc3QgdmFsdWVUb0NvcHkgPSBnZXRWYWx1ZUJ5UG9pbnRlcihkb2N1bWVudCwgdGhpcy5mcm9tKTtcbiAgICAgICAgLy8gZW5mb3JjZSBjb3B5IGJ5IHZhbHVlIHNvIGZ1cnRoZXIgb3BlcmF0aW9ucyBkb24ndCBhZmZlY3Qgc291cmNlIChzZWUgaXNzdWUgIzE3NylcbiAgICAgICAgYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIHtcbiAgICAgICAgICAgIG9wOiBcImFkZFwiLFxuICAgICAgICAgICAgcGF0aDogdGhpcy5wYXRoLFxuICAgICAgICAgICAgdmFsdWU6IF9kZWVwQ2xvbmUodmFsdWVUb0NvcHkpLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgbmV3RG9jdW1lbnQ6IGRvY3VtZW50IH07XG4gICAgfSxcbiAgICB0ZXN0OiBmdW5jdGlvbiAob2JqLCBrZXksIGRvY3VtZW50KSB7XG4gICAgICAgIHJldHVybiB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCwgdGVzdDogX2FyZUVxdWFscyhvYmpba2V5XSwgdGhpcy52YWx1ZSkgfTtcbiAgICB9LFxuICAgIF9nZXQ6IGZ1bmN0aW9uIChvYmosIGtleSwgZG9jdW1lbnQpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQgfTtcbiAgICB9LFxufTtcbi8qIFRoZSBvcGVyYXRpb25zIGFwcGxpY2FibGUgdG8gYW4gYXJyYXkuIE1hbnkgYXJlIHRoZSBzYW1lIGFzIGZvciB0aGUgb2JqZWN0ICovXG52YXIgYXJyT3BzID0ge1xuICAgIGFkZDogZnVuY3Rpb24gKGFyciwgaSwgZG9jdW1lbnQpIHtcbiAgICAgICAgaWYgKGlzSW50ZWdlcihpKSkge1xuICAgICAgICAgICAgYXJyLnNwbGljZShpLCAwLCB0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFycmF5IHByb3BzXG4gICAgICAgICAgICBhcnJbaV0gPSB0aGlzLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMgbWF5IGJlIG5lZWRlZCB3aGVuIHVzaW5nICctJyBpbiBhbiBhcnJheVxuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQsIGluZGV4OiBpIH07XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIChhcnIsIGksIGRvY3VtZW50KSB7XG4gICAgICAgIHZhciByZW1vdmVkTGlzdCA9IGFyci5zcGxpY2UoaSwgMSk7XG4gICAgICAgIHJldHVybiB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCwgcmVtb3ZlZDogcmVtb3ZlZExpc3RbMF0gfTtcbiAgICB9LFxuICAgIHJlcGxhY2U6IGZ1bmN0aW9uIChhcnIsIGksIGRvY3VtZW50KSB7XG4gICAgICAgIHZhciByZW1vdmVkID0gYXJyW2ldO1xuICAgICAgICBhcnJbaV0gPSB0aGlzLnZhbHVlO1xuICAgICAgICByZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQsIHJlbW92ZWQgfTtcbiAgICB9LFxuICAgIG1vdmU6IG9iak9wcy5tb3ZlLFxuICAgIGNvcHk6IG9iak9wcy5jb3B5LFxuICAgIHRlc3Q6IG9iak9wcy50ZXN0LFxuICAgIF9nZXQ6IG9iak9wcy5fZ2V0LFxufTtcbi8qKlxuICogUmV0cmlldmVzIGEgdmFsdWUgZnJvbSBhIEpTT04gZG9jdW1lbnQgYnkgYSBKU09OIHBvaW50ZXIuXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gZG9jdW1lbnQgVGhlIGRvY3VtZW50IHRvIGdldCB0aGUgdmFsdWUgZnJvbVxuICogQHBhcmFtIHBvaW50ZXIgYW4gZXNjYXBlZCBKU09OIHBvaW50ZXJcbiAqIEByZXR1cm4gVGhlIHJldHJpZXZlZCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWVCeVBvaW50ZXIoZG9jdW1lbnQsIHBvaW50ZXIpIHtcbiAgICBpZiAocG9pbnRlciA9PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICB9XG4gICAgdmFyIGdldE9yaWdpbmFsRGVzdGluYXRpb24gPSB7IG9wOiBcIl9nZXRcIiwgcGF0aDogcG9pbnRlciB9O1xuICAgIGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCBnZXRPcmlnaW5hbERlc3RpbmF0aW9uKTtcbiAgICByZXR1cm4gZ2V0T3JpZ2luYWxEZXN0aW5hdGlvbi52YWx1ZTtcbn1cbi8qKlxuICogQXBwbHkgYSBzaW5nbGUgSlNPTiBQYXRjaCBPcGVyYXRpb24gb24gYSBKU09OIGRvY3VtZW50LlxuICogUmV0dXJucyB0aGUge25ld0RvY3VtZW50LCByZXN1bHR9IG9mIHRoZSBvcGVyYXRpb24uXG4gKiBJdCBtb2RpZmllcyB0aGUgYGRvY3VtZW50YCBhbmQgYG9wZXJhdGlvbmAgb2JqZWN0cyAtIGl0IGdldHMgdGhlIHZhbHVlcyBieSByZWZlcmVuY2UuXG4gKiBJZiB5b3Ugd291bGQgbGlrZSB0byBhdm9pZCB0b3VjaGluZyB5b3VyIHZhbHVlcywgY2xvbmUgdGhlbTpcbiAqIGBqc29ucGF0Y2guYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIGpzb25wYXRjaC5fZGVlcENsb25lKG9wZXJhdGlvbikpYC5cbiAqXG4gKiBAcGFyYW0gZG9jdW1lbnQgVGhlIGRvY3VtZW50IHRvIHBhdGNoXG4gKiBAcGFyYW0gb3BlcmF0aW9uIFRoZSBvcGVyYXRpb24gdG8gYXBwbHlcbiAqIEBwYXJhbSB2YWxpZGF0ZU9wZXJhdGlvbiBgZmFsc2VgIGlzIHdpdGhvdXQgdmFsaWRhdGlvbiwgYHRydWVgIHRvIHVzZSBkZWZhdWx0IGpzb25wYXRjaCdzIHZhbGlkYXRpb24sIG9yIHlvdSBjYW4gcGFzcyBhIGB2YWxpZGF0ZU9wZXJhdGlvbmAgY2FsbGJhY2sgdG8gYmUgdXNlZCBmb3IgdmFsaWRhdGlvbi5cbiAqIEBwYXJhbSBtdXRhdGVEb2N1bWVudCBXaGV0aGVyIHRvIG11dGF0ZSB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgb3IgY2xvbmUgaXQgYmVmb3JlIGFwcGx5aW5nXG4gKiBAcGFyYW0gYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyBXaGV0aGVyIHRvIGJhbiBtb2RpZmljYXRpb25zIHRvIGBfX3Byb3RvX19gLCBkZWZhdWx0cyB0byBgdHJ1ZWAuXG4gKiBAcmV0dXJuIGB7bmV3RG9jdW1lbnQsIHJlc3VsdH1gIGFmdGVyIHRoZSBvcGVyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCBvcGVyYXRpb24sIHZhbGlkYXRlT3BlcmF0aW9uID0gZmFsc2UsIG11dGF0ZURvY3VtZW50ID0gdHJ1ZSwgYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyA9IHRydWUsIGluZGV4ID0gMCkge1xuICAgIGlmICh2YWxpZGF0ZU9wZXJhdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIHZhbGlkYXRlT3BlcmF0aW9uID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFsaWRhdGVPcGVyYXRpb24ob3BlcmF0aW9uLCAwLCBkb2N1bWVudCwgb3BlcmF0aW9uLnBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsaWRhdG9yKG9wZXJhdGlvbiwgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogUk9PVCBPUEVSQVRJT05TICovXG4gICAgaWYgKG9wZXJhdGlvbi5wYXRoID09PSBcIlwiKSB7XG4gICAgICAgIGxldCByZXR1cm5WYWx1ZSA9IHsgbmV3RG9jdW1lbnQ6IGRvY3VtZW50IH07XG4gICAgICAgIGlmIChvcGVyYXRpb24ub3AgPT09IFwiYWRkXCIpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gb3BlcmF0aW9uLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJyZXBsYWNlXCIpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gb3BlcmF0aW9uLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlZCA9IGRvY3VtZW50OyAvL2RvY3VtZW50IHdlIHJlbW92ZWRcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwibW92ZVwiIHx8IG9wZXJhdGlvbi5vcCA9PT0gXCJjb3B5XCIpIHtcbiAgICAgICAgICAgIC8vIGl0J3MgYSBtb3ZlIG9yIGNvcHkgdG8gcm9vdFxuICAgICAgICAgICAgcmV0dXJuVmFsdWUubmV3RG9jdW1lbnQgPSBnZXRWYWx1ZUJ5UG9pbnRlcihkb2N1bWVudCwgb3BlcmF0aW9uLmZyb20pOyAvLyBnZXQgdGhlIHZhbHVlIGJ5IGpzb24tcG9pbnRlciBpbiBgZnJvbWAgZmllbGRcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24ub3AgPT09IFwibW92ZVwiKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVwb3J0IHJlbW92ZWQgaXRlbVxuICAgICAgICAgICAgICAgIHJldHVyblZhbHVlLnJlbW92ZWQgPSBkb2N1bWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwidGVzdFwiKSB7XG4gICAgICAgICAgICByZXR1cm5WYWx1ZS50ZXN0ID0gX2FyZUVxdWFscyhkb2N1bWVudCwgb3BlcmF0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZS50ZXN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRlc3Qgb3BlcmF0aW9uIGZhaWxlZFwiLCBcIlRFU1RfT1BFUkFUSU9OX0ZBSUxFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5WYWx1ZS5uZXdEb2N1bWVudCA9IGRvY3VtZW50O1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJyZW1vdmVcIikge1xuICAgICAgICAgICAgLy8gYSByZW1vdmUgb24gcm9vdFxuICAgICAgICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlZCA9IGRvY3VtZW50O1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUubmV3RG9jdW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJfZ2V0XCIpIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbi52YWx1ZSA9IGRvY3VtZW50O1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyogYmFkIG9wZXJhdGlvbiAqL1xuICAgICAgICAgICAgaWYgKHZhbGlkYXRlT3BlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiT3BlcmF0aW9uIGBvcGAgcHJvcGVydHkgaXMgbm90IG9uZSBvZiBvcGVyYXRpb25zIGRlZmluZWQgaW4gUkZDLTY5MDJcIiwgXCJPUEVSQVRJT05fT1BfSU5WQUxJRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IC8qIEVORCBST09UIE9QRVJBVElPTlMgKi9cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFtdXRhdGVEb2N1bWVudCkge1xuICAgICAgICAgICAgZG9jdW1lbnQgPSBfZGVlcENsb25lKGRvY3VtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXRoID0gb3BlcmF0aW9uLnBhdGggfHwgXCJcIjtcbiAgICAgICAgY29uc3Qga2V5cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICAgICAgICBsZXQgb2JqID0gZG9jdW1lbnQ7XG4gICAgICAgIGxldCB0ID0gMTsgLy9za2lwIGVtcHR5IGVsZW1lbnQgLSBodHRwOi8vanNwZXJmLmNvbS90by1zaGlmdC1vci1ub3QtdG8tc2hpZnRcbiAgICAgICAgbGV0IGxlbiA9IGtleXMubGVuZ3RoO1xuICAgICAgICBsZXQgZXhpc3RpbmdQYXRoRnJhZ21lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBrZXk7XG4gICAgICAgIGxldCB2YWxpZGF0ZUZ1bmN0aW9uO1xuICAgICAgICBpZiAodHlwZW9mIHZhbGlkYXRlT3BlcmF0aW9uID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFsaWRhdGVGdW5jdGlvbiA9IHZhbGlkYXRlT3BlcmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsaWRhdGVGdW5jdGlvbiA9IHZhbGlkYXRvcjtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAga2V5ID0ga2V5c1t0XTtcbiAgICAgICAgICAgIGlmIChrZXkgJiYga2V5LmluZGV4T2YoXCJ+XCIpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAga2V5ID0gdW5lc2NhcGVQYXRoQ29tcG9uZW50KGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyAmJlxuICAgICAgICAgICAgICAgIChrZXkgPT0gXCJfX3Byb3RvX19cIiB8fFxuICAgICAgICAgICAgICAgICAgICAoa2V5ID09IFwicHJvdG90eXBlXCIgJiYgdCA+IDAgJiYga2V5c1t0IC0gMV0gPT0gXCJjb25zdHJ1Y3RvclwiKSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSlNPTi1QYXRjaDogbW9kaWZ5aW5nIGBfX3Byb3RvX19gIG9yIGBjb25zdHJ1Y3Rvci9wcm90b3R5cGVgIHByb3AgaXMgYmFubmVkIGZvciBzZWN1cml0eSByZWFzb25zLCBpZiB0aGlzIHdhcyBvbiBwdXJwb3NlLCBwbGVhc2Ugc2V0IGBiYW5Qcm90b3R5cGVNb2RpZmljYXRpb25zYCBmbGFnIGZhbHNlIGFuZCBwYXNzIGl0IHRvIHRoaXMgZnVuY3Rpb24uIE1vcmUgaW5mbyBpbiBmYXN0LWpzb24tcGF0Y2ggUkVBRE1FXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbGlkYXRlT3BlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nUGF0aEZyYWdtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9ialtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUGF0aEZyYWdtZW50ID0ga2V5cy5zbGljZSgwLCB0KS5qb2luKFwiL1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ID09IGxlbiAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUGF0aEZyYWdtZW50ID0gb3BlcmF0aW9uLnBhdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nUGF0aEZyYWdtZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlRnVuY3Rpb24ob3BlcmF0aW9uLCAwLCBkb2N1bWVudCwgZXhpc3RpbmdQYXRoRnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdCsrO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwiLVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IG9iai5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGVPcGVyYXRpb24gJiYgIWlzSW50ZWdlcihrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJFeHBlY3RlZCBhbiB1bnNpZ25lZCBiYXNlLTEwIGludGVnZXIgdmFsdWUsIG1ha2luZyB0aGUgbmV3IHJlZmVyZW5jZWQgdmFsdWUgdGhlIGFycmF5IGVsZW1lbnQgd2l0aCB0aGUgemVyby1iYXNlZCBpbmRleFwiLCBcIk9QRVJBVElPTl9QQVRIX0lMTEVHQUxfQVJSQVlfSU5ERVhcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9IC8vIG9ubHkgcGFyc2Uga2V5IHdoZW4gaXQncyBhbiBpbnRlZ2VyIGZvciBgYXJyLnByb3BgIHRvIHdvcmtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNJbnRlZ2VyKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IH5+a2V5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0ID49IGxlbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGVPcGVyYXRpb24gJiYgb3BlcmF0aW9uLm9wID09PSBcImFkZFwiICYmIGtleSA+IG9iai5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRoZSBzcGVjaWZpZWQgaW5kZXggTVVTVCBOT1QgYmUgZ3JlYXRlciB0aGFuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5XCIsIFwiT1BFUkFUSU9OX1ZBTFVFX09VVF9PRl9CT1VORFNcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHVyblZhbHVlID0gYXJyT3BzW29wZXJhdGlvbi5vcF0uY2FsbChvcGVyYXRpb24sIG9iaiwga2V5LCBkb2N1bWVudCk7IC8vIEFwcGx5IHBhdGNoXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZS50ZXN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiVGVzdCBvcGVyYXRpb24gZmFpbGVkXCIsIFwiVEVTVF9PUEVSQVRJT05fRkFJTEVEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHQgPj0gbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHVyblZhbHVlID0gb2JqT3BzW29wZXJhdGlvbi5vcF0uY2FsbChvcGVyYXRpb24sIG9iaiwga2V5LCBkb2N1bWVudCk7IC8vIEFwcGx5IHBhdGNoXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZS50ZXN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiVGVzdCBvcGVyYXRpb24gZmFpbGVkXCIsIFwiVEVTVF9PUEVSQVRJT05fRkFJTEVEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqID0gb2JqW2tleV07XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG1vcmUga2V5cyBpbiB0aGUgcGF0aCwgYnV0IHRoZSBuZXh0IHZhbHVlIGlzbid0IGEgbm9uLW51bGwgb2JqZWN0LFxuICAgICAgICAgICAgLy8gdGhyb3cgYW4gT1BFUkFUSU9OX1BBVEhfVU5SRVNPTFZBQkxFIGVycm9yIGluc3RlYWQgb2YgaXRlcmF0aW5nIGFnYWluLlxuICAgICAgICAgICAgaWYgKHZhbGlkYXRlT3BlcmF0aW9uICYmIHQgPCBsZW4gJiYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gYXQgdGhlIGRlc2lyZWQgcGF0aFwiLCBcIk9QRVJBVElPTl9QQVRIX1VOUkVTT0xWQUJMRVwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEFwcGx5IGEgZnVsbCBKU09OIFBhdGNoIGFycmF5IG9uIGEgSlNPTiBkb2N1bWVudC5cbiAqIFJldHVybnMgdGhlIHtuZXdEb2N1bWVudCwgcmVzdWx0fSBvZiB0aGUgcGF0Y2guXG4gKiBJdCBtb2RpZmllcyB0aGUgYGRvY3VtZW50YCBvYmplY3QgYW5kIGBwYXRjaGAgLSBpdCBnZXRzIHRoZSB2YWx1ZXMgYnkgcmVmZXJlbmNlLlxuICogSWYgeW91IHdvdWxkIGxpa2UgdG8gYXZvaWQgdG91Y2hpbmcgeW91ciB2YWx1ZXMsIGNsb25lIHRoZW06XG4gKiBganNvbnBhdGNoLmFwcGx5UGF0Y2goZG9jdW1lbnQsIGpzb25wYXRjaC5fZGVlcENsb25lKHBhdGNoKSlgLlxuICpcbiAqIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gcGF0Y2hcbiAqIEBwYXJhbSBwYXRjaCBUaGUgcGF0Y2ggdG8gYXBwbHlcbiAqIEBwYXJhbSB2YWxpZGF0ZU9wZXJhdGlvbiBgZmFsc2VgIGlzIHdpdGhvdXQgdmFsaWRhdGlvbiwgYHRydWVgIHRvIHVzZSBkZWZhdWx0IGpzb25wYXRjaCdzIHZhbGlkYXRpb24sIG9yIHlvdSBjYW4gcGFzcyBhIGB2YWxpZGF0ZU9wZXJhdGlvbmAgY2FsbGJhY2sgdG8gYmUgdXNlZCBmb3IgdmFsaWRhdGlvbi5cbiAqIEBwYXJhbSBtdXRhdGVEb2N1bWVudCBXaGV0aGVyIHRvIG11dGF0ZSB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgb3IgY2xvbmUgaXQgYmVmb3JlIGFwcGx5aW5nXG4gKiBAcGFyYW0gYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyBXaGV0aGVyIHRvIGJhbiBtb2RpZmljYXRpb25zIHRvIGBfX3Byb3RvX19gLCBkZWZhdWx0cyB0byBgdHJ1ZWAuXG4gKiBAcmV0dXJuIEFuIGFycmF5IG9mIGB7bmV3RG9jdW1lbnQsIHJlc3VsdH1gIGFmdGVyIHRoZSBwYXRjaFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlQYXRjaChkb2N1bWVudCwgcGF0Y2gsIHZhbGlkYXRlT3BlcmF0aW9uLCBtdXRhdGVEb2N1bWVudCA9IHRydWUsIGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMgPSB0cnVlKSB7XG4gICAgaWYgKHZhbGlkYXRlT3BlcmF0aW9uKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShwYXRjaCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlBhdGNoIHNlcXVlbmNlIG11c3QgYmUgYW4gYXJyYXlcIiwgXCJTRVFVRU5DRV9OT1RfQU5fQVJSQVlcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFtdXRhdGVEb2N1bWVudCkge1xuICAgICAgICBkb2N1bWVudCA9IF9kZWVwQ2xvbmUoZG9jdW1lbnQpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHRzID0gbmV3IEFycmF5KHBhdGNoLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHBhdGNoLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gcGFzcyBtdXRhdGVEb2N1bWVudCBhcmd1bWVudCBiZWNhdXNlIGlmIGl0IHdhcyB0cnVlLCB3ZSBhbHJlYWR5IGRlZXAgY2xvbmVkIHRoZSBvYmplY3QsIHdlJ2xsIGp1c3QgcGFzcyBgdHJ1ZWBcbiAgICAgICAgcmVzdWx0c1tpXSA9IGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCBwYXRjaFtpXSwgdmFsaWRhdGVPcGVyYXRpb24sIHRydWUsIGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMsIGkpO1xuICAgICAgICBkb2N1bWVudCA9IHJlc3VsdHNbaV0ubmV3RG9jdW1lbnQ7IC8vIGluIGNhc2Ugcm9vdCB3YXMgcmVwbGFjZWRcbiAgICB9XG4gICAgcmVzdWx0cy5uZXdEb2N1bWVudCA9IGRvY3VtZW50O1xuICAgIHJldHVybiByZXN1bHRzO1xufVxuLyoqXG4gKiBBcHBseSBhIHNpbmdsZSBKU09OIFBhdGNoIE9wZXJhdGlvbiBvbiBhIEpTT04gZG9jdW1lbnQuXG4gKiBSZXR1cm5zIHRoZSB1cGRhdGVkIGRvY3VtZW50LlxuICogU3VpdGFibGUgYXMgYSByZWR1Y2VyLlxuICpcbiAqIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gcGF0Y2hcbiAqIEBwYXJhbSBvcGVyYXRpb24gVGhlIG9wZXJhdGlvbiB0byBhcHBseVxuICogQHJldHVybiBUaGUgdXBkYXRlZCBkb2N1bWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlSZWR1Y2VyKGRvY3VtZW50LCBvcGVyYXRpb24sIGluZGV4KSB7XG4gICAgY29uc3Qgb3BlcmF0aW9uUmVzdWx0ID0gYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIG9wZXJhdGlvbik7XG4gICAgaWYgKG9wZXJhdGlvblJlc3VsdC50ZXN0ID09PSBmYWxzZSkge1xuICAgICAgICAvLyBmYWlsZWQgdGVzdFxuICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJUZXN0IG9wZXJhdGlvbiBmYWlsZWRcIiwgXCJURVNUX09QRVJBVElPTl9GQUlMRURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gb3BlcmF0aW9uUmVzdWx0Lm5ld0RvY3VtZW50O1xufVxuLyoqXG4gKiBWYWxpZGF0ZXMgYSBzaW5nbGUgb3BlcmF0aW9uLiBDYWxsZWQgZnJvbSBganNvbnBhdGNoLnZhbGlkYXRlYC4gVGhyb3dzIGBKc29uUGF0Y2hFcnJvcmAgaW4gY2FzZSBvZiBhbiBlcnJvci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcGVyYXRpb24gLSBvcGVyYXRpb24gb2JqZWN0IChwYXRjaClcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIGluZGV4IG9mIG9wZXJhdGlvbiBpbiB0aGUgc2VxdWVuY2VcbiAqIEBwYXJhbSB7b2JqZWN0fSBbZG9jdW1lbnRdIC0gb2JqZWN0IHdoZXJlIHRoZSBvcGVyYXRpb24gaXMgc3VwcG9zZWQgdG8gYmUgYXBwbGllZFxuICogQHBhcmFtIHtzdHJpbmd9IFtleGlzdGluZ1BhdGhGcmFnbWVudF0gLSBjb21lcyBhbG9uZyB3aXRoIGBkb2N1bWVudGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRvcihvcGVyYXRpb24sIGluZGV4LCBkb2N1bWVudCwgZXhpc3RpbmdQYXRoRnJhZ21lbnQpIHtcbiAgICBpZiAodHlwZW9mIG9wZXJhdGlvbiAhPT0gXCJvYmplY3RcIiB8fFxuICAgICAgICBvcGVyYXRpb24gPT09IG51bGwgfHxcbiAgICAgICAgQXJyYXkuaXNBcnJheShvcGVyYXRpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBpcyBub3QgYW4gb2JqZWN0XCIsIFwiT1BFUkFUSU9OX05PVF9BTl9PQkpFQ1RcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmICghb2JqT3BzW29wZXJhdGlvbi5vcF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiT3BlcmF0aW9uIGBvcGAgcHJvcGVydHkgaXMgbm90IG9uZSBvZiBvcGVyYXRpb25zIGRlZmluZWQgaW4gUkZDLTY5MDJcIiwgXCJPUEVSQVRJT05fT1BfSU5WQUxJRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBvcGVyYXRpb24ucGF0aCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJPcGVyYXRpb24gYHBhdGhgIHByb3BlcnR5IGlzIG5vdCBhIHN0cmluZ1wiLCBcIk9QRVJBVElPTl9QQVRIX0lOVkFMSURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChvcGVyYXRpb24ucGF0aC5pbmRleE9mKFwiL1wiKSAhPT0gMCAmJiBvcGVyYXRpb24ucGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIHBhdGhzIHRoYXQgYXJlbid0IGVtcHR5IHN0cmluZyBzaG91bGQgc3RhcnQgd2l0aCBcIi9cIlxuICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoJ09wZXJhdGlvbiBgcGF0aGAgcHJvcGVydHkgbXVzdCBzdGFydCB3aXRoIFwiL1wiJywgXCJPUEVSQVRJT05fUEFUSF9JTlZBTElEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKG9wZXJhdGlvbi5vcCA9PT0gXCJtb3ZlXCIgfHwgb3BlcmF0aW9uLm9wID09PSBcImNvcHlcIikgJiZcbiAgICAgICAgdHlwZW9mIG9wZXJhdGlvbi5mcm9tICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgZnJvbWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYG1vdmVgIGFuZCBgY29weWAgb3BlcmF0aW9ucylcIiwgXCJPUEVSQVRJT05fRlJPTV9SRVFVSVJFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKChvcGVyYXRpb24ub3AgPT09IFwiYWRkXCIgfHxcbiAgICAgICAgb3BlcmF0aW9uLm9wID09PSBcInJlcGxhY2VcIiB8fFxuICAgICAgICBvcGVyYXRpb24ub3AgPT09IFwidGVzdFwiKSAmJlxuICAgICAgICBvcGVyYXRpb24udmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJPcGVyYXRpb24gYHZhbHVlYCBwcm9wZXJ0eSBpcyBub3QgcHJlc2VudCAoYXBwbGljYWJsZSBpbiBgYWRkYCwgYHJlcGxhY2VgIGFuZCBgdGVzdGAgb3BlcmF0aW9ucylcIiwgXCJPUEVSQVRJT05fVkFMVUVfUkVRVUlSRURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmICgob3BlcmF0aW9uLm9wID09PSBcImFkZFwiIHx8XG4gICAgICAgIG9wZXJhdGlvbi5vcCA9PT0gXCJyZXBsYWNlXCIgfHxcbiAgICAgICAgb3BlcmF0aW9uLm9wID09PSBcInRlc3RcIikgJiZcbiAgICAgICAgaGFzVW5kZWZpbmVkKG9wZXJhdGlvbi52YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiT3BlcmF0aW9uIGB2YWx1ZWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYGFkZGAsIGByZXBsYWNlYCBhbmQgYHRlc3RgIG9wZXJhdGlvbnMpXCIsIFwiT1BFUkFUSU9OX1ZBTFVFX0NBTk5PVF9DT05UQUlOX1VOREVGSU5FRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRvY3VtZW50KSB7XG4gICAgICAgIGlmIChvcGVyYXRpb24ub3AgPT0gXCJhZGRcIikge1xuICAgICAgICAgICAgdmFyIHBhdGhMZW4gPSBvcGVyYXRpb24ucGF0aC5zcGxpdChcIi9cIikubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGV4aXN0aW5nUGF0aExlbiA9IGV4aXN0aW5nUGF0aEZyYWdtZW50LnNwbGl0KFwiL1wiKS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAocGF0aExlbiAhPT0gZXhpc3RpbmdQYXRoTGVuICsgMSAmJiBwYXRoTGVuICE9PSBleGlzdGluZ1BhdGhMZW4pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJDYW5ub3QgcGVyZm9ybSBhbiBgYWRkYCBvcGVyYXRpb24gYXQgdGhlIGRlc2lyZWQgcGF0aFwiLCBcIk9QRVJBVElPTl9QQVRIX0NBTk5PVF9BRERcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJyZXBsYWNlXCIgfHxcbiAgICAgICAgICAgIG9wZXJhdGlvbi5vcCA9PT0gXCJyZW1vdmVcIiB8fFxuICAgICAgICAgICAgb3BlcmF0aW9uLm9wID09PSBcIl9nZXRcIikge1xuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbi5wYXRoICE9PSBleGlzdGluZ1BhdGhGcmFnbWVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIkNhbm5vdCBwZXJmb3JtIHRoZSBvcGVyYXRpb24gYXQgYSBwYXRoIHRoYXQgZG9lcyBub3QgZXhpc3RcIiwgXCJPUEVSQVRJT05fUEFUSF9VTlJFU09MVkFCTEVcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJtb3ZlXCIgfHwgb3BlcmF0aW9uLm9wID09PSBcImNvcHlcIikge1xuICAgICAgICAgICAgdmFyIGV4aXN0aW5nVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgb3A6IFwiX2dldFwiLFxuICAgICAgICAgICAgICAgIHBhdGg6IG9wZXJhdGlvbi5mcm9tLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGVycm9yID0gdmFsaWRhdGUoW2V4aXN0aW5nVmFsdWVdLCBkb2N1bWVudCk7XG4gICAgICAgICAgICBpZiAoZXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gXCJPUEVSQVRJT05fUEFUSF9VTlJFU09MVkFCTEVcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIkNhbm5vdCBwZXJmb3JtIHRoZSBvcGVyYXRpb24gZnJvbSBhIHBhdGggdGhhdCBkb2VzIG5vdCBleGlzdFwiLCBcIk9QRVJBVElPTl9GUk9NX1VOUkVTT0xWQUJMRVwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFZhbGlkYXRlcyBhIHNlcXVlbmNlIG9mIG9wZXJhdGlvbnMuIElmIGBkb2N1bWVudGAgcGFyYW1ldGVyIGlzIHByb3ZpZGVkLCB0aGUgc2VxdWVuY2UgaXMgYWRkaXRpb25hbGx5IHZhbGlkYXRlZCBhZ2FpbnN0IHRoZSBvYmplY3QgZG9jdW1lbnQuXG4gKiBJZiBlcnJvciBpcyBlbmNvdW50ZXJlZCwgcmV0dXJucyBhIEpzb25QYXRjaEVycm9yIG9iamVjdFxuICogQHBhcmFtIHNlcXVlbmNlXG4gKiBAcGFyYW0gZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtKc29uUGF0Y2hFcnJvcnx1bmRlZmluZWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZShzZXF1ZW5jZSwgZG9jdW1lbnQsIGV4dGVybmFsVmFsaWRhdG9yKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHNlcXVlbmNlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiUGF0Y2ggc2VxdWVuY2UgbXVzdCBiZSBhbiBhcnJheVwiLCBcIlNFUVVFTkNFX05PVF9BTl9BUlJBWVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIC8vY2xvbmUgZG9jdW1lbnQgYW5kIHNlcXVlbmNlIHNvIHRoYXQgd2UgY2FuIHNhZmVseSB0cnkgYXBwbHlpbmcgb3BlcmF0aW9uc1xuICAgICAgICAgICAgYXBwbHlQYXRjaChfZGVlcENsb25lKGRvY3VtZW50KSwgX2RlZXBDbG9uZShzZXF1ZW5jZSksIGV4dGVybmFsVmFsaWRhdG9yIHx8IHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXh0ZXJuYWxWYWxpZGF0b3IgPSBleHRlcm5hbFZhbGlkYXRvciB8fCB2YWxpZGF0b3I7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlcXVlbmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxWYWxpZGF0b3Ioc2VxdWVuY2VbaV0sIGksIGRvY3VtZW50LCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgSnNvblBhdGNoRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9lcG9iZXJlemtpbi9mYXN0LWRlZXAtZXF1YWxcbi8vIE1JVCBMaWNlbnNlXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTcgRXZnZW55IFBvYmVyZXpraW5cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbi8vIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbi8vIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuLy8gY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbi8vIFNPRlRXQVJFLlxuZXhwb3J0IGZ1bmN0aW9uIF9hcmVFcXVhbHMoYSwgYikge1xuICAgIGlmIChhID09PSBiKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGIgPT0gXCJvYmplY3RcIikge1xuICAgICAgICB2YXIgYXJyQSA9IEFycmF5LmlzQXJyYXkoYSksIGFyckIgPSBBcnJheS5pc0FycmF5KGIpLCBpLCBsZW5ndGgsIGtleTtcbiAgICAgICAgaWYgKGFyckEgJiYgYXJyQikge1xuICAgICAgICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOylcbiAgICAgICAgICAgICAgICBpZiAoIV9hcmVFcXVhbHMoYVtpXSwgYltpXSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcnJBICE9IGFyckIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOylcbiAgICAgICAgICAgIGlmICghYi5oYXNPd25Qcm9wZXJ0eShrZXlzW2ldKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykge1xuICAgICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIGlmICghX2FyZUVxdWFscyhhW2tleV0sIGJba2V5XSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gYSAhPT0gYSAmJiBiICE9PSBiO1xufVxuIiwiLypcbiAqIFN1cHBvcnQgYXN5bmMgaXRlcmF0b3Igc3ludGF4IGZvciBSZWFkYWJsZVN0cmVhbXMgaW4gYWxsIGVudmlyb25tZW50cy5cbiAqIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL01hdHRpYXNCdWVsZW5zL3dlYi1zdHJlYW1zLXBvbHlmaWxsL3B1bGwvMTIyI2lzc3VlY29tbWVudC0xNjI3MzU0NDkwXG4gKi9cbmV4cG9ydCBjbGFzcyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIGV4dGVuZHMgUmVhZGFibGVTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWFkZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW5zdXJlUmVhZGVyKCkge1xuICAgICAgICBpZiAoIXRoaXMucmVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRlciA9IHRoaXMuZ2V0UmVhZGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgbmV4dCgpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVSZWFkZXIoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSlcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWRlci5yZWxlYXNlTG9jaygpOyAvLyByZWxlYXNlIGxvY2sgd2hlbiBzdHJlYW0gYmVjb21lcyBjbG9zZWRcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGVycm9yZWRcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcmV0dXJuKCkge1xuICAgICAgICB0aGlzLmVuc3VyZVJlYWRlcigpO1xuICAgICAgICBjb25zdCBjYW5jZWxQcm9taXNlID0gdGhpcy5yZWFkZXIuY2FuY2VsKCk7IC8vIGNhbmNlbCBmaXJzdCwgYnV0IGRvbid0IGF3YWl0IHlldFxuICAgICAgICB0aGlzLnJlYWRlci5yZWxlYXNlTG9jaygpOyAvLyByZWxlYXNlIGxvY2sgZmlyc3RcbiAgICAgICAgYXdhaXQgY2FuY2VsUHJvbWlzZTsgLy8gbm93IGF3YWl0IGl0XG4gICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTsgLy8gVGhpcyBjYXN0IGZpeGVzIFRTIHR5cGluZywgYW5kIGNvbnZlbnRpb24gaXMgdG8gaWdub3JlIGZpbmFsIGNodW5rIHZhbHVlIGFueXdheVxuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3RhdGljIGZyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pIHtcbiAgICAgICAgLy8gRnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU3RyZWFtc19BUEkvVXNpbmdfcmVhZGFibGVfc3RyZWFtcyNyZWFkaW5nX3RoZV9zdHJlYW1cbiAgICAgICAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwdW1wKCk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcHVtcCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkKCkudGhlbigoeyBkb25lLCB2YWx1ZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIG5vIG1vcmUgZGF0YSBuZWVkcyB0byBiZSBjb25zdW1lZCwgY2xvc2UgdGhlIHN0cmVhbVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5xdWV1ZSB0aGUgbmV4dCBkYXRhIGNodW5rIGludG8gb3VyIHRhcmdldCBzdHJlYW1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHVtcCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21Bc3luY0dlbmVyYXRvcihnZW5lcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IGdlbmVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBubyBtb3JlIGRhdGEgbmVlZHMgdG8gYmUgY29uc3VtZWQsIGNsb3NlIHRoZSBzdHJlYW1cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEZpeDogYGVsc2UgaWYgKHZhbHVlKWAgd2lsbCBoYW5nIHRoZSBzdHJlYW1pbmcgd2hlbiBudWxsaXNoIHZhbHVlIChlLmcuIGVtcHR5IHN0cmluZykgaXMgcHVsbGVkXG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGFwcGx5UGF0Y2gsIH0gZnJvbSBcIi4uLy4uL3V0aWwvZmFzdC1qc29uLXBhdGNoL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4vdHJhY2VyLmpzXCI7XG5pbXBvcnQgeyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIH0gZnJvbSBcIi4uLy4uL3V0aWwvc3RyZWFtLmpzXCI7XG4vKipcbiAqIExpc3Qgb2YganNvbnBhdGNoIEpTT05QYXRjaE9wZXJhdGlvbnMsIHdoaWNoIGRlc2NyaWJlIGhvdyB0byBjcmVhdGUgdGhlIHJ1biBzdGF0ZVxuICogZnJvbSBhbiBlbXB0eSBkaWN0LiBUaGlzIGlzIHRoZSBtaW5pbWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBsb2csIGRlc2lnbmVkIHRvXG4gKiBiZSBzZXJpYWxpemVkIGFzIEpTT04gYW5kIHNlbnQgb3ZlciB0aGUgd2lyZSB0byByZWNvbnN0cnVjdCB0aGUgbG9nIG9uIHRoZSBvdGhlclxuICogc2lkZS4gUmVjb25zdHJ1Y3Rpb24gb2YgdGhlIHN0YXRlIGNhbiBiZSBkb25lIHdpdGggYW55IGpzb25wYXRjaC1jb21wbGlhbnQgbGlicmFyeSxcbiAqIHNlZSBodHRwczovL2pzb25wYXRjaC5jb20gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5Mb2dQYXRjaCB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wcyA9IGZpZWxkcy5vcHM7XG4gICAgfVxuICAgIGNvbmNhdChvdGhlcikge1xuICAgICAgICBjb25zdCBvcHMgPSB0aGlzLm9wcy5jb25jYXQob3RoZXIub3BzKTtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gYXBwbHlQYXRjaCh7fSwgb3BzKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICByZXR1cm4gbmV3IFJ1bkxvZyh7XG4gICAgICAgICAgICBvcHMsXG4gICAgICAgICAgICBzdGF0ZTogc3RhdGVzW3N0YXRlcy5sZW5ndGggLSAxXS5uZXdEb2N1bWVudCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1bkxvZyBleHRlbmRzIFJ1bkxvZ1BhdGNoIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhdGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGZpZWxkcy5zdGF0ZTtcbiAgICB9XG4gICAgY29uY2F0KG90aGVyKSB7XG4gICAgICAgIGNvbnN0IG9wcyA9IHRoaXMub3BzLmNvbmNhdChvdGhlci5vcHMpO1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSBhcHBseVBhdGNoKHRoaXMuc3RhdGUsIG90aGVyLm9wcyk7XG4gICAgICAgIHJldHVybiBuZXcgUnVuTG9nKHsgb3BzLCBzdGF0ZTogc3RhdGVzW3N0YXRlcy5sZW5ndGggLSAxXS5uZXdEb2N1bWVudCB9KTtcbiAgICB9XG59XG4vKipcbiAqIENsYXNzIHRoYXQgZXh0ZW5kcyB0aGUgYEJhc2VUcmFjZXJgIGNsYXNzIGZyb20gdGhlXG4gKiBgbGFuZ2NoYWluLmNhbGxiYWNrcy50cmFjZXJzLmJhc2VgIG1vZHVsZS4gSXQgcmVwcmVzZW50cyBhIGNhbGxiYWNrXG4gKiBoYW5kbGVyIHRoYXQgbG9ncyB0aGUgZXhlY3V0aW9uIG9mIHJ1bnMgYW5kIGVtaXRzIGBSdW5Mb2dgIGluc3RhbmNlcyB0byBhXG4gKiBgUnVuTG9nU3RyZWFtYC5cbiAqL1xuZXhwb3J0IGNsYXNzIExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlciBleHRlbmRzIEJhc2VUcmFjZXIge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhdXRvQ2xvc2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluY2x1ZGVOYW1lc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbmNsdWRlVHlwZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5jbHVkZVRhZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXhjbHVkZU5hbWVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV4Y2x1ZGVUeXBlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleGNsdWRlVGFnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJrZXlNYXBCeVJ1bklkXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB7fVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY291bnRlck1hcEJ5UnVuTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZToge31cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRyYW5zZm9ybVN0cmVhbVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3cml0ZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVjZWl2ZVN0cmVhbVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImxvZ19zdHJlYW1fdHJhY2VyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXV0b0Nsb3NlID0gZmllbGRzPy5hdXRvQ2xvc2UgPz8gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbmNsdWRlTmFtZXMgPSBmaWVsZHM/LmluY2x1ZGVOYW1lcztcbiAgICAgICAgdGhpcy5pbmNsdWRlVHlwZXMgPSBmaWVsZHM/LmluY2x1ZGVUeXBlcztcbiAgICAgICAgdGhpcy5pbmNsdWRlVGFncyA9IGZpZWxkcz8uaW5jbHVkZVRhZ3M7XG4gICAgICAgIHRoaXMuZXhjbHVkZU5hbWVzID0gZmllbGRzPy5leGNsdWRlTmFtZXM7XG4gICAgICAgIHRoaXMuZXhjbHVkZVR5cGVzID0gZmllbGRzPy5leGNsdWRlVHlwZXM7XG4gICAgICAgIHRoaXMuZXhjbHVkZVRhZ3MgPSBmaWVsZHM/LmV4Y2x1ZGVUYWdzO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybVN0cmVhbSA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oKTtcbiAgICAgICAgdGhpcy53cml0ZXIgPSB0aGlzLnRyYW5zZm9ybVN0cmVhbS53cml0YWJsZS5nZXRXcml0ZXIoKTtcbiAgICAgICAgdGhpcy5yZWNlaXZlU3RyZWFtID0gSXRlcmFibGVSZWFkYWJsZVN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0odGhpcy50cmFuc2Zvcm1TdHJlYW0ucmVhZGFibGUpO1xuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWNlaXZlU3RyZWFtO1xuICAgIH1cbiAgICBhc3luYyBwZXJzaXN0UnVuKF9ydW4pIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIGxlZ2FjeSBtZXRob2Qgb25seSBjYWxsZWQgb25jZSBmb3IgYW4gZW50aXJlIHJ1biB0cmVlXG4gICAgICAgIC8vIGFuZCBpcyB0aGVyZWZvcmUgbm90IHVzZWZ1bCBoZXJlXG4gICAgfVxuICAgIF9pbmNsdWRlUnVuKHJ1bikge1xuICAgICAgICBpZiAocnVuLnBhcmVudF9ydW5faWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJ1blRhZ3MgPSBydW4udGFncyA/PyBbXTtcbiAgICAgICAgbGV0IGluY2x1ZGUgPSB0aGlzLmluY2x1ZGVOYW1lcyA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICB0aGlzLmluY2x1ZGVUYWdzID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHRoaXMuaW5jbHVkZVR5cGVzID09PSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmluY2x1ZGVOYW1lcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpbmNsdWRlID0gaW5jbHVkZSB8fCB0aGlzLmluY2x1ZGVOYW1lcy5pbmNsdWRlcyhydW4ubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5jbHVkZVR5cGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGluY2x1ZGUgPSBpbmNsdWRlIHx8IHRoaXMuaW5jbHVkZVR5cGVzLmluY2x1ZGVzKHJ1bi5ydW5fdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5jbHVkZVRhZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5jbHVkZSA9XG4gICAgICAgICAgICAgICAgaW5jbHVkZSB8fFxuICAgICAgICAgICAgICAgICAgICBydW5UYWdzLmZpbmQoKHRhZykgPT4gdGhpcy5pbmNsdWRlVGFncz8uaW5jbHVkZXModGFnKSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5leGNsdWRlTmFtZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5jbHVkZSA9IGluY2x1ZGUgJiYgIXRoaXMuZXhjbHVkZU5hbWVzLmluY2x1ZGVzKHJ1bi5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5leGNsdWRlVHlwZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5jbHVkZSA9IGluY2x1ZGUgJiYgIXRoaXMuZXhjbHVkZVR5cGVzLmluY2x1ZGVzKHJ1bi5ydW5fdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZXhjbHVkZVRhZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5jbHVkZSA9XG4gICAgICAgICAgICAgICAgaW5jbHVkZSAmJiBydW5UYWdzLmV2ZXJ5KCh0YWcpID0+ICF0aGlzLmV4Y2x1ZGVUYWdzPy5pbmNsdWRlcyh0YWcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5jbHVkZTtcbiAgICB9XG4gICAgYXN5bmMgb25SdW5DcmVhdGUocnVuKSB7XG4gICAgICAgIGlmIChydW4ucGFyZW50X3J1bl9pZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLndyaXRlci53cml0ZShuZXcgUnVuTG9nUGF0Y2goe1xuICAgICAgICAgICAgICAgIG9wczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcnVuLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbWVkX291dHB1dDogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxfb3V0cHV0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nczoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9pbmNsdWRlUnVuKHJ1bikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb3VudGVyTWFwQnlSdW5OYW1lW3J1bi5uYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJNYXBCeVJ1bk5hbWVbcnVuLm5hbWVdID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvdW50ZXJNYXBCeVJ1bk5hbWVbcnVuLm5hbWVdICs9IDE7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5jb3VudGVyTWFwQnlSdW5OYW1lW3J1bi5uYW1lXTtcbiAgICAgICAgdGhpcy5rZXlNYXBCeVJ1bklkW3J1bi5pZF0gPVxuICAgICAgICAgICAgY291bnQgPT09IDEgPyBydW4ubmFtZSA6IGAke3J1bi5uYW1lfToke2NvdW50fWA7XG4gICAgICAgIGNvbnN0IGxvZ0VudHJ5ID0ge1xuICAgICAgICAgICAgaWQ6IHJ1bi5pZCxcbiAgICAgICAgICAgIG5hbWU6IHJ1bi5uYW1lLFxuICAgICAgICAgICAgdHlwZTogcnVuLnJ1bl90eXBlLFxuICAgICAgICAgICAgdGFnczogcnVuLnRhZ3MgPz8gW10sXG4gICAgICAgICAgICBtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fSxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWU6IG5ldyBEYXRlKHJ1bi5zdGFydF90aW1lKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgc3RyZWFtZWRfb3V0cHV0X3N0cjogW10sXG4gICAgICAgICAgICBmaW5hbF9vdXRwdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuZF90aW1lOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IHRoaXMud3JpdGVyLndyaXRlKG5ldyBSdW5Mb2dQYXRjaCh7XG4gICAgICAgICAgICBvcHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9wOiBcImFkZFwiLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBgL2xvZ3MvJHt0aGlzLmtleU1hcEJ5UnVuSWRbcnVuLmlkXX1gLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbG9nRW50cnksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgYXN5bmMgb25SdW5VcGRhdGUocnVuKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBydW5OYW1lID0gdGhpcy5rZXlNYXBCeVJ1bklkW3J1bi5pZF07XG4gICAgICAgICAgICBpZiAocnVuTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3BzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L2ZpbmFsX291dHB1dGAsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBydW4ub3V0cHV0cyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmIChydW4uZW5kX3RpbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG9wcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L2VuZF90aW1lYCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhdGNoID0gbmV3IFJ1bkxvZ1BhdGNoKHsgb3BzIH0pO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy53cml0ZXIud3JpdGUocGF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKHJ1bi5wYXJlbnRfcnVuX2lkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRjaCA9IG5ldyBSdW5Mb2dQYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgIG9wczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBcIi9maW5hbF9vdXRwdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcnVuLm91dHB1dHMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud3JpdGVyLndyaXRlKHBhdGNoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdXRvQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53cml0ZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgb25MTE1OZXdUb2tlbihydW4sIHRva2VuKSB7XG4gICAgICAgIGNvbnN0IHJ1bk5hbWUgPSB0aGlzLmtleU1hcEJ5UnVuSWRbcnVuLmlkXTtcbiAgICAgICAgaWYgKHJ1bk5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhdGNoID0gbmV3IFJ1bkxvZ1BhdGNoKHtcbiAgICAgICAgICAgIG9wczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L3N0cmVhbWVkX291dHB1dF9zdHIvLWAsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0b2tlbixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMud3JpdGVyLndyaXRlKHBhdGNoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDYWxsYmFja01hbmFnZXIsIH0gZnJvbSBcIi4uLy4uL2NhbGxiYWNrcy9tYW5hZ2VyLmpzXCI7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcoY29uZmlnKSB7XG4gICAgcmV0dXJuIENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUoY29uZmlnPy5jYWxsYmFja3MsIHVuZGVmaW5lZCwgY29uZmlnPy50YWdzLCB1bmRlZmluZWQsIGNvbmZpZz8ubWV0YWRhdGEpO1xufVxuIiwiaW1wb3J0IHBSZXRyeSBmcm9tIFwicC1yZXRyeVwiO1xuaW1wb3J0IFBRdWV1ZU1vZCBmcm9tIFwicC1xdWV1ZVwiO1xuY29uc3QgU1RBVFVTX05PX1JFVFJZID0gW1xuICAgIDQwMCxcbiAgICA0MDEsXG4gICAgNDAyLFxuICAgIDQwMyxcbiAgICA0MDQsXG4gICAgNDA1LFxuICAgIDQwNixcbiAgICA0MDcsXG4gICAgNDA4LFxuICAgIDQwOSwgLy8gQ29uZmxpY3Rcbl07XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuY29uc3QgZGVmYXVsdEZhaWxlZEF0dGVtcHRIYW5kbGVyID0gKGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aChcIkNhbmNlbFwiKSB8fFxuICAgICAgICBlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJUaW1lb3V0RXJyb3JcIikgfHxcbiAgICAgICAgZXJyb3IubmFtZSA9PT0gXCJUaW1lb3V0RXJyb3JcIiB8fFxuICAgICAgICBlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJBYm9ydEVycm9yXCIpIHx8XG4gICAgICAgIGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGlmIChlcnJvcj8uY29kZSA9PT0gXCJFQ09OTkFCT1JURURcIikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgY29uc3Qgc3RhdHVzID0gXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBlcnJvcj8ucmVzcG9uc2U/LnN0YXR1cyA/PyBlcnJvcj8uc3RhdHVzO1xuICAgIGlmIChzdGF0dXMgJiYgU1RBVFVTX05PX1JFVFJZLmluY2x1ZGVzKCtzdGF0dXMpKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGlmIChlcnJvcj8uZXJyb3I/LmNvZGUgPT09IFwiaW5zdWZmaWNpZW50X3F1b3RhXCIpIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGVycm9yPy5tZXNzYWdlKTtcbiAgICAgICAgZXJyLm5hbWUgPSBcIkluc3VmZmljaWVudFF1b3RhRXJyb3JcIjtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbn07XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBjYW4gYmUgdXNlZCB0byBtYWtlIGFzeW5jIGNhbGxzIHdpdGggY29uY3VycmVuY3kgYW5kIHJldHJ5IGxvZ2ljLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGZvciBtYWtpbmcgY2FsbHMgdG8gYW55IGtpbmQgb2YgXCJleHBlbnNpdmVcIiBleHRlcm5hbCByZXNvdXJjZSxcbiAqIGJlIGl0IGJlY2F1c2UgaXQncyByYXRlLWxpbWl0ZWQsIHN1YmplY3QgdG8gbmV0d29yayBpc3N1ZXMsIGV0Yy5cbiAqXG4gKiBDb25jdXJyZW50IGNhbGxzIGFyZSBsaW1pdGVkIGJ5IHRoZSBgbWF4Q29uY3VycmVuY3lgIHBhcmFtZXRlciwgd2hpY2ggZGVmYXVsdHNcbiAqIHRvIGBJbmZpbml0eWAuIFRoaXMgbWVhbnMgdGhhdCBieSBkZWZhdWx0LCBhbGwgY2FsbHMgd2lsbCBiZSBtYWRlIGluIHBhcmFsbGVsLlxuICpcbiAqIFJldHJpZXMgYXJlIGxpbWl0ZWQgYnkgdGhlIGBtYXhSZXRyaWVzYCBwYXJhbWV0ZXIsIHdoaWNoIGRlZmF1bHRzIHRvIDYuIFRoaXNcbiAqIG1lYW5zIHRoYXQgYnkgZGVmYXVsdCwgZWFjaCBjYWxsIHdpbGwgYmUgcmV0cmllZCB1cCB0byA2IHRpbWVzLCB3aXRoIGFuXG4gKiBleHBvbmVudGlhbCBiYWNrb2ZmIGJldHdlZW4gZWFjaCBhdHRlbXB0LlxuICovXG5leHBvcnQgY2xhc3MgQXN5bmNDYWxsZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhDb25jdXJyZW5jeVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhSZXRyaWVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uRmFpbGVkQXR0ZW1wdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJxdWV1ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1heENvbmN1cnJlbmN5ID0gcGFyYW1zLm1heENvbmN1cnJlbmN5ID8/IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFJldHJpZXMgPSBwYXJhbXMubWF4UmV0cmllcyA/PyA2O1xuICAgICAgICB0aGlzLm9uRmFpbGVkQXR0ZW1wdCA9XG4gICAgICAgICAgICBwYXJhbXMub25GYWlsZWRBdHRlbXB0ID8/IGRlZmF1bHRGYWlsZWRBdHRlbXB0SGFuZGxlcjtcbiAgICAgICAgY29uc3QgUFF1ZXVlID0gXCJkZWZhdWx0XCIgaW4gUFF1ZXVlTW9kID8gUFF1ZXVlTW9kLmRlZmF1bHQgOiBQUXVldWVNb2Q7XG4gICAgICAgIHRoaXMucXVldWUgPSBuZXcgUFF1ZXVlKHsgY29uY3VycmVuY3k6IHRoaXMubWF4Q29uY3VycmVuY3kgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY2FsbChjYWxsYWJsZSwgLi4uYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZS5hZGQoKCkgPT4gcFJldHJ5KCgpID0+IGNhbGxhYmxlKC4uLmFyZ3MpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWluc3RhbmNlb2Yvbm8taW5zdGFuY2VvZlxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCB7XG4gICAgICAgICAgICBvbkZhaWxlZEF0dGVtcHQ6IHRoaXMub25GYWlsZWRBdHRlbXB0LFxuICAgICAgICAgICAgcmV0cmllczogdGhpcy5tYXhSZXRyaWVzLFxuICAgICAgICAgICAgcmFuZG9taXplOiB0cnVlLFxuICAgICAgICAgICAgLy8gSWYgbmVlZGVkIHdlIGNhbiBjaGFuZ2Ugc29tZSBvZiB0aGUgZGVmYXVsdHMgaGVyZSxcbiAgICAgICAgICAgIC8vIGJ1dCB0aGV5J3JlIHF1aXRlIHNlbnNpYmxlLlxuICAgICAgICB9KSwgeyB0aHJvd09uVGltZW91dDogdHJ1ZSB9KTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjYWxsV2l0aE9wdGlvbnMob3B0aW9ucywgY2FsbGFibGUsIC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gTm90ZSB0aGlzIGRvZXNuJ3QgY2FuY2VsIHRoZSB1bmRlcmx5aW5nIHJlcXVlc3QsXG4gICAgICAgIC8vIHdoZW4gYXZhaWxhYmxlIHByZWZlciB0byB1c2UgdGhlIHNpZ25hbCBvcHRpb24gb2YgdGhlIHVuZGVybHlpbmcgY2FsbFxuICAgICAgICBpZiAob3B0aW9ucy5zaWduYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJhY2UoW1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbChjYWxsYWJsZSwgLi4uYXJncyksXG4gICAgICAgICAgICAgICAgbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnNpZ25hbD8uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJBYm9ydEVycm9yXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKGNhbGxhYmxlLCAuLi5hcmdzKTtcbiAgICB9XG4gICAgZmV0Y2goLi4uYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCgpID0+IGZldGNoKC4uLmFyZ3MpLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcyA6IFByb21pc2UucmVqZWN0KHJlcykpKSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHBSZXRyeSBmcm9tIFwicC1yZXRyeVwiO1xuaW1wb3J0IHsgQ2FsbGJhY2tNYW5hZ2VyLCB9IGZyb20gXCIuLi8uLi9jYWxsYmFja3MvbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgTG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyLCBSdW5Mb2dQYXRjaCwgfSBmcm9tIFwiLi4vLi4vY2FsbGJhY2tzL2hhbmRsZXJzL2xvZ19zdHJlYW0uanNcIjtcbmltcG9ydCB7IFNlcmlhbGl6YWJsZSB9IGZyb20gXCIuLi8uLi9sb2FkL3NlcmlhbGl6YWJsZS5qc1wiO1xuaW1wb3J0IHsgSXRlcmFibGVSZWFkYWJsZVN0cmVhbSB9IGZyb20gXCIuLi8uLi91dGlsL3N0cmVhbS5qc1wiO1xuaW1wb3J0IHsgZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcgfSBmcm9tIFwiLi9jb25maWcuanNcIjtcbmltcG9ydCB7IEFzeW5jQ2FsbGVyIH0gZnJvbSBcIi4uLy4uL3V0aWwvYXN5bmNfY2FsbGVyLmpzXCI7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gX2NvZXJjZVRvRGljdCh2YWx1ZSwgZGVmYXVsdEtleSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiXG4gICAgICAgID8gdmFsdWVcbiAgICAgICAgOiB7IFtkZWZhdWx0S2V5XTogdmFsdWUgfTtcbn1cbi8qKlxuICogQSBSdW5uYWJsZSBpcyBhIGdlbmVyaWMgdW5pdCBvZiB3b3JrIHRoYXQgY2FuIGJlIGludm9rZWQsIGJhdGNoZWQsIHN0cmVhbWVkLCBhbmQvb3JcbiAqIHRyYW5zZm9ybWVkLlxuICovXG5leHBvcnQgY2xhc3MgUnVubmFibGUgZXh0ZW5kcyBTZXJpYWxpemFibGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19ydW5uYWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmluZCBhcmd1bWVudHMgdG8gYSBSdW5uYWJsZSwgcmV0dXJuaW5nIGEgbmV3IFJ1bm5hYmxlLlxuICAgICAqIEBwYXJhbSBrd2FyZ3NcbiAgICAgKiBAcmV0dXJucyBBIG5ldyBSdW5uYWJsZUJpbmRpbmcgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIGFwcGx5IHRoZSBib3VuZCBhcmdzLlxuICAgICAqL1xuICAgIGJpbmQoa3dhcmdzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZUJpbmRpbmcoeyBib3VuZDogdGhpcywga3dhcmdzLCBjb25maWc6IHt9IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBuZXcgUnVubmFibGUgdGhhdCBtYXBzIGEgbGlzdCBvZiBpbnB1dHMgdG8gYSBsaXN0IG9mIG91dHB1dHMsXG4gICAgICogYnkgY2FsbGluZyBpbnZva2UoKSB3aXRoIGVhY2ggaW5wdXQuXG4gICAgICovXG4gICAgbWFwKCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVFYWNoKHsgYm91bmQ6IHRoaXMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCByZXRyeSBsb2dpYyB0byBhbiBleGlzdGluZyBydW5uYWJsZS5cbiAgICAgKiBAcGFyYW0ga3dhcmdzXG4gICAgICogQHJldHVybnMgQSBuZXcgUnVubmFibGVSZXRyeSB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgcmV0cnkgYWNjb3JkaW5nIHRvIHRoZSBwYXJhbWV0ZXJzLlxuICAgICAqL1xuICAgIHdpdGhSZXRyeShmaWVsZHMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICByZXR1cm4gbmV3IFJ1bm5hYmxlUmV0cnkoe1xuICAgICAgICAgICAgYm91bmQ6IHRoaXMsXG4gICAgICAgICAgICBrd2FyZ3M6IHt9LFxuICAgICAgICAgICAgY29uZmlnOiB7fSxcbiAgICAgICAgICAgIG1heEF0dGVtcHROdW1iZXI6IGZpZWxkcz8uc3RvcEFmdGVyQXR0ZW1wdCxcbiAgICAgICAgICAgIC4uLmZpZWxkcyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmQgY29uZmlnIHRvIGEgUnVubmFibGUsIHJldHVybmluZyBhIG5ldyBSdW5uYWJsZS5cbiAgICAgKiBAcGFyYW0gY29uZmlnIE5ldyBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgdG8gYXR0YWNoIHRvIHRoZSBuZXcgcnVubmFibGUuXG4gICAgICogQHJldHVybnMgQSBuZXcgUnVubmFibGVCaW5kaW5nIHdpdGggYSBjb25maWcgbWF0Y2hpbmcgd2hhdCdzIHBhc3NlZC5cbiAgICAgKi9cbiAgICB3aXRoQ29uZmlnKGNvbmZpZykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVCaW5kaW5nKHtcbiAgICAgICAgICAgIGJvdW5kOiB0aGlzLFxuICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAga3dhcmdzOiB7fSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBydW5uYWJsZSBmcm9tIHRoZSBjdXJyZW50IG9uZSB0aGF0IHdpbGwgdHJ5IGludm9raW5nXG4gICAgICogb3RoZXIgcGFzc2VkIGZhbGxiYWNrIHJ1bm5hYmxlcyBpZiB0aGUgaW5pdGlhbCBpbnZvY2F0aW9uIGZhaWxzLlxuICAgICAqIEBwYXJhbSBmaWVsZHMuZmFsbGJhY2tzIE90aGVyIHJ1bm5hYmxlcyB0byBjYWxsIGlmIHRoZSBydW5uYWJsZSBlcnJvcnMuXG4gICAgICogQHJldHVybnMgQSBuZXcgUnVubmFibGVXaXRoRmFsbGJhY2tzLlxuICAgICAqL1xuICAgIHdpdGhGYWxsYmFja3MoZmllbGRzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZVdpdGhGYWxsYmFja3Moe1xuICAgICAgICAgICAgcnVubmFibGU6IHRoaXMsXG4gICAgICAgICAgICBmYWxsYmFja3M6IGZpZWxkcy5mYWxsYmFja3MsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfZ2V0T3B0aW9uc0xpc3Qob3B0aW9ucywgbGVuZ3RoID0gMCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zKSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoICE9PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhc3NlZCBcIm9wdGlvbnNcIiBtdXN0IGJlIGFuIGFycmF5IHdpdGggdGhlIHNhbWUgbGVuZ3RoIGFzIHRoZSBpbnB1dHMsIGJ1dCBnb3QgJHtvcHRpb25zLmxlbmd0aH0gb3B0aW9ucyBmb3IgJHtsZW5ndGh9IGlucHV0c2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGggfSwgKCkgPT4gb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIGJhdGNoKGlucHV0cywgb3B0aW9ucywgYmF0Y2hPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZ0xpc3QgPSB0aGlzLl9nZXRPcHRpb25zTGlzdChvcHRpb25zID8/IHt9LCBpbnB1dHMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY2FsbGVyID0gbmV3IEFzeW5jQ2FsbGVyKHtcbiAgICAgICAgICAgIG1heENvbmN1cnJlbmN5OiBiYXRjaE9wdGlvbnM/Lm1heENvbmN1cnJlbmN5LFxuICAgICAgICAgICAgb25GYWlsZWRBdHRlbXB0OiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYmF0Y2hDYWxscyA9IGlucHV0cy5tYXAoKGlucHV0LCBpKSA9PiBjYWxsZXIuY2FsbChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuaW52b2tlKGlucHV0LCBjb25maWdMaXN0W2ldKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmF0Y2hPcHRpb25zPy5yZXR1cm5FeGNlcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChiYXRjaENhbGxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzdHJlYW1pbmcgaW1wbGVtZW50YXRpb24uXG4gICAgICogU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgdGhleSBzdXBwb3J0IHN0cmVhbWluZyBvdXRwdXQuXG4gICAgICogQHBhcmFtIGlucHV0XG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIHlpZWxkIHRoaXMuaW52b2tlKGlucHV0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RyZWFtIG91dHB1dCBpbiBjaHVua3MuXG4gICAgICogQHBhcmFtIGlucHV0XG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyBBIHJlYWRhYmxlIHN0cmVhbSB0aGF0IGlzIGFsc28gYW4gaXRlcmFibGUuXG4gICAgICovXG4gICAgYXN5bmMgc3RyZWFtKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtLmZyb21Bc3luY0dlbmVyYXRvcih0aGlzLl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykpO1xuICAgIH1cbiAgICBfc2VwYXJhdGVSdW5uYWJsZUNvbmZpZ0Zyb21DYWxsT3B0aW9ucyhvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgcnVubmFibGVDb25maWcgPSB7XG4gICAgICAgICAgICBjYWxsYmFja3M6IG9wdGlvbnMuY2FsbGJhY2tzLFxuICAgICAgICAgICAgdGFnczogb3B0aW9ucy50YWdzLFxuICAgICAgICAgICAgbWV0YWRhdGE6IG9wdGlvbnMubWV0YWRhdGEsXG4gICAgICAgICAgICBydW5OYW1lOiBvcHRpb25zLnJ1bk5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNhbGxPcHRpb25zID0geyAuLi5vcHRpb25zIH07XG4gICAgICAgIGRlbGV0ZSBjYWxsT3B0aW9ucy5jYWxsYmFja3M7XG4gICAgICAgIGRlbGV0ZSBjYWxsT3B0aW9ucy50YWdzO1xuICAgICAgICBkZWxldGUgY2FsbE9wdGlvbnMubWV0YWRhdGE7XG4gICAgICAgIGRlbGV0ZSBjYWxsT3B0aW9ucy5ydW5OYW1lO1xuICAgICAgICByZXR1cm4gW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc107XG4gICAgfVxuICAgIGFzeW5jIF9jYWxsV2l0aENvbmZpZyhmdW5jLCBpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIHVuZGVmaW5lZCwgb3B0aW9ucz8ucnVuVHlwZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9wdGlvbnM/LnJ1bk5hbWUpO1xuICAgICAgICBsZXQgb3V0cHV0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0cHV0ID0gYXdhaXQgZnVuYy5iaW5kKHRoaXMpKGlucHV0LCBvcHRpb25zLCBydW5NYW5hZ2VyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChvdXRwdXQsIFwib3V0cHV0XCIpKTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgbWV0aG9kIHRoYXQgaGFuZGxlcyBiYXRjaGluZyBhbmQgY29uZmlndXJhdGlvbiBmb3IgYSBydW5uYWJsZVxuICAgICAqIEl0IHRha2VzIGEgZnVuY3Rpb24sIGlucHV0IHZhbHVlcywgYW5kIG9wdGlvbmFsIGNvbmZpZ3VyYXRpb24sIGFuZFxuICAgICAqIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGZvciBlYWNoIGlucHV0IHZhbHVlLlxuICAgICAqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdmFsdWVzIHRvIGJlIHByb2Nlc3NlZC5cbiAgICAgKiBAcGFyYW0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBmdW5jdGlvbiBleGVjdXRpb24uXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCB2YWx1ZXMuXG4gICAgICovXG4gICAgYXN5bmMgX2JhdGNoV2l0aENvbmZpZyhmdW5jLCBpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucykge1xuICAgICAgICBjb25zdCBvcHRpb25zTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwob3B0aW9uc0xpc3QubWFwKGdldENhbGxiYWNrTWFuZ2VyRm9yQ29uZmlnKSk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwoY2FsbGJhY2tNYW5hZ2Vycy5tYXAoKGNhbGxiYWNrTWFuYWdlciwgaSkgPT4gY2FsbGJhY2tNYW5hZ2VyPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXRzW2ldLCBcImlucHV0XCIpLCB1bmRlZmluZWQsIG9wdGlvbnNMaXN0W2ldLnJ1blR5cGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvcHRpb25zTGlzdFtpXS5ydW5OYW1lKSkpO1xuICAgICAgICBsZXQgb3V0cHV0cztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG91dHB1dHMgPSBhd2FpdCBmdW5jKGlucHV0cywgb3B0aW9uc0xpc3QsIHJ1bk1hbmFnZXJzLCBiYXRjaE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSkpKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChfY29lcmNlVG9EaWN0KG91dHB1dHMsIFwib3V0cHV0XCIpKSkpO1xuICAgICAgICByZXR1cm4gb3V0cHV0cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCB0byB0cmFuc2Zvcm0gYW4gSXRlcmF0b3Igb2YgSW5wdXQgdmFsdWVzIGludG8gYW4gSXRlcmF0b3Igb2ZcbiAgICAgKiBPdXRwdXQgdmFsdWVzLCB3aXRoIGNhbGxiYWNrcy5cbiAgICAgKiBVc2UgdGhpcyB0byBpbXBsZW1lbnQgYHN0cmVhbSgpYCBvciBgdHJhbnNmb3JtKClgIGluIFJ1bm5hYmxlIHN1YmNsYXNzZXMuXG4gICAgICovXG4gICAgYXN5bmMgKl90cmFuc2Zvcm1TdHJlYW1XaXRoQ29uZmlnKGlucHV0R2VuZXJhdG9yLCB0cmFuc2Zvcm1lciwgb3B0aW9ucykge1xuICAgICAgICBsZXQgZmluYWxJbnB1dDtcbiAgICAgICAgbGV0IGZpbmFsSW5wdXRTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICBsZXQgZmluYWxPdXRwdXQ7XG4gICAgICAgIGxldCBmaW5hbE91dHB1dFN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBnZXRDYWxsYmFja01hbmdlckZvckNvbmZpZyhvcHRpb25zKTtcbiAgICAgICAgbGV0IHJ1bk1hbmFnZXI7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRSZXByZXNlbnRhdGlvbiA9IHRoaXMudG9KU09OKCk7XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uKiB3cmFwSW5wdXRGb3JUcmFjaW5nKCkge1xuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBpbnB1dEdlbmVyYXRvcikge1xuICAgICAgICAgICAgICAgIGlmICghcnVuTWFuYWdlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCB0aGUgcnVuIG1hbmFnZXIgQUZURVIgdGhlIGl0ZXJhdG9yIHN0YXJ0cyB0byBwcmVzZXJ2ZVxuICAgICAgICAgICAgICAgICAgICAvLyB0cmFjaW5nIG9yZGVyXG4gICAgICAgICAgICAgICAgICAgIHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHNlcmlhbGl6ZWRSZXByZXNlbnRhdGlvbiwgeyBpbnB1dDogXCJcIiB9LCB1bmRlZmluZWQsIG9wdGlvbnM/LnJ1blR5cGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvcHRpb25zPy5ydW5OYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZpbmFsSW5wdXRTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmFsSW5wdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxJbnB1dCA9IGNodW5rO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsSW5wdXQgPSBmaW5hbElucHV0LmNvbmNhdChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxJbnB1dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbElucHV0U3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeWllbGQgY2h1bms7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd3JhcHBlZElucHV0R2VuZXJhdG9yID0gd3JhcElucHV0Rm9yVHJhY2luZygpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0SXRlcmF0b3IgPSB0cmFuc2Zvcm1lcih3cmFwcGVkSW5wdXRHZW5lcmF0b3IsIHJ1bk1hbmFnZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBvdXRwdXRJdGVyYXRvcikge1xuICAgICAgICAgICAgICAgIHlpZWxkIGNodW5rO1xuICAgICAgICAgICAgICAgIGlmIChmaW5hbE91dHB1dFN1cHBvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmluYWxPdXRwdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxPdXRwdXQgPSBjaHVuaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbE91dHB1dCA9IGZpbmFsT3V0cHV0LmNvbmNhdChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxPdXRwdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxPdXRwdXRTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICAgICAgaW5wdXRzOiBfY29lcmNlVG9EaWN0KGZpbmFsSW5wdXQsIFwiaW5wdXRcIiksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoZmluYWxPdXRwdXQgPz8ge30sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHsgaW5wdXRzOiBfY29lcmNlVG9EaWN0KGZpbmFsSW5wdXQsIFwiaW5wdXRcIikgfSk7XG4gICAgfVxuICAgIF9wYXRjaENvbmZpZyhjb25maWcgPSB7fSwgY2FsbGJhY2tNYW5hZ2VyID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHsgLi4uY29uZmlnIH07XG4gICAgICAgIGlmIChjYWxsYmFja01hbmFnZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSdyZSByZXBsYWNpbmcgY2FsbGJhY2tzIHdlIG5lZWQgdG8gdW5zZXQgcnVuTmFtZVxuICAgICAgICAgICAgICogc2luY2UgdGhhdCBzaG91bGQgYXBwbHkgb25seSB0byB0aGUgc2FtZSBydW4gYXMgdGhlIG9yaWdpbmFsIGNhbGxiYWNrc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBkZWxldGUgbmV3Q29uZmlnLnJ1bk5hbWU7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5uZXdDb25maWcsIGNhbGxiYWNrczogY2FsbGJhY2tNYW5hZ2VyIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0NvbmZpZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHJ1bm5hYmxlIHNlcXVlbmNlIHRoYXQgcnVucyBlYWNoIGluZGl2aWR1YWwgcnVubmFibGUgaW4gc2VyaWVzLFxuICAgICAqIHBpcGluZyB0aGUgb3V0cHV0IG9mIG9uZSBydW5uYWJsZSBpbnRvIGFub3RoZXIgcnVubmFibGUgb3IgcnVubmFibGUtbGlrZS5cbiAgICAgKiBAcGFyYW0gY29lcmNlYWJsZSBBIHJ1bm5hYmxlLCBmdW5jdGlvbiwgb3Igb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgZnVuY3Rpb25zIG9yIHJ1bm5hYmxlcy5cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBydW5uYWJsZSBzZXF1ZW5jZS5cbiAgICAgKi9cbiAgICBwaXBlKGNvZXJjZWFibGUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICByZXR1cm4gbmV3IFJ1bm5hYmxlU2VxdWVuY2Uoe1xuICAgICAgICAgICAgZmlyc3Q6IHRoaXMsXG4gICAgICAgICAgICBsYXN0OiBfY29lcmNlVG9SdW5uYWJsZShjb2VyY2VhYmxlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdHJhbnNmb3JtLCB3aGljaCBidWZmZXJzIGlucHV0IGFuZCB0aGVuIGNhbGxzIHN0cmVhbS5cbiAgICAgKiBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCBpZiB0aGV5IGNhbiBzdGFydCBwcm9kdWNpbmcgb3V0cHV0IHdoaWxlXG4gICAgICogaW5wdXQgaXMgc3RpbGwgYmVpbmcgZ2VuZXJhdGVkLlxuICAgICAqIEBwYXJhbSBnZW5lcmF0b3JcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIGFzeW5jICp0cmFuc2Zvcm0oZ2VuZXJhdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBmaW5hbENodW5rO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGdlbmVyYXRvcikge1xuICAgICAgICAgICAgaWYgKGZpbmFsQ2h1bmsgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZpbmFsQ2h1bmsgPSBjaHVuaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE1ha2UgYSBiZXN0IGVmZm9ydCB0byBnYXRoZXIsIGZvciBhbnkgdHlwZSB0aGF0IHN1cHBvcnRzIGNvbmNhdC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIG1ldGhvZCBzaG91bGQgdGhyb3cgYW4gZXJyb3IgaWYgZ2F0aGVyaW5nIGZhaWxzLlxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgZmluYWxDaHVuayA9IGZpbmFsQ2h1bmsuY29uY2F0KGNodW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB5aWVsZCogdGhpcy5fc3RyZWFtSXRlcmF0b3IoZmluYWxDaHVuaywgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0cmVhbSBhbGwgb3V0cHV0IGZyb20gYSBydW5uYWJsZSwgYXMgcmVwb3J0ZWQgdG8gdGhlIGNhbGxiYWNrIHN5c3RlbS5cbiAgICAgKiBUaGlzIGluY2x1ZGVzIGFsbCBpbm5lciBydW5zIG9mIExMTXMsIFJldHJpZXZlcnMsIFRvb2xzLCBldGMuXG4gICAgICogT3V0cHV0IGlzIHN0cmVhbWVkIGFzIExvZyBvYmplY3RzLCB3aGljaCBpbmNsdWRlIGEgbGlzdCBvZlxuICAgICAqIGpzb25wYXRjaCBvcHMgdGhhdCBkZXNjcmliZSBob3cgdGhlIHN0YXRlIG9mIHRoZSBydW4gaGFzIGNoYW5nZWQgaW4gZWFjaFxuICAgICAqIHN0ZXAsIGFuZCB0aGUgZmluYWwgc3RhdGUgb2YgdGhlIHJ1bi5cbiAgICAgKiBUaGUganNvbnBhdGNoIG9wcyBjYW4gYmUgYXBwbGllZCBpbiBvcmRlciB0byBjb25zdHJ1Y3Qgc3RhdGUuXG4gICAgICogQHBhcmFtIGlucHV0XG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gc3RyZWFtT3B0aW9uc1xuICAgICAqL1xuICAgIGFzeW5jICpzdHJlYW1Mb2coaW5wdXQsIG9wdGlvbnMsIHN0cmVhbU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gbmV3IExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlcih7XG4gICAgICAgICAgICAuLi5zdHJlYW1PcHRpb25zLFxuICAgICAgICAgICAgYXV0b0Nsb3NlOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IG9wdGlvbnMgPz8ge307XG4gICAgICAgIGNvbnN0IHsgY2FsbGJhY2tzIH0gPSBjb25maWc7XG4gICAgICAgIGlmIChjYWxsYmFja3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uZmlnLmNhbGxiYWNrcyA9IFtzdHJlYW1dO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2FsbGJhY2tzKSkge1xuICAgICAgICAgICAgY29uZmlnLmNhbGxiYWNrcyA9IGNhbGxiYWNrcy5jb25jYXQoW3N0cmVhbV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29waWVkQ2FsbGJhY2tzID0gY2FsbGJhY2tzLmNvcHkoKTtcbiAgICAgICAgICAgIGNvcGllZENhbGxiYWNrcy5pbmhlcml0YWJsZUhhbmRsZXJzLnB1c2goc3RyZWFtKTtcbiAgICAgICAgICAgIGNvbmZpZy5jYWxsYmFja3MgPSBjb3BpZWRDYWxsYmFja3M7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcnVubmFibGVTdHJlYW0gPSBhd2FpdCB0aGlzLnN0cmVhbShpbnB1dCwgY29uZmlnKTtcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gY29uc3VtZVJ1bm5hYmxlU3RyZWFtKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHJ1bm5hYmxlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGNoID0gbmV3IFJ1bkxvZ1BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFwiL3N0cmVhbWVkX291dHB1dC8tXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjaHVuayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0cmVhbS53cml0ZXIud3JpdGUocGF0Y2gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHN0cmVhbS53cml0ZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBydW5uYWJsZVN0cmVhbVByb21pc2UgPSBjb25zdW1lUnVubmFibGVTdHJlYW0oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgbG9nIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIGxvZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bm5hYmxlU3RyZWFtUHJvbWlzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHN0YXRpYyBpc1J1bm5hYmxlKHRoaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGluZyA/IHRoaW5nLmxjX3J1bm5hYmxlIDogZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgZGVsZWdhdGVzIGNhbGxzIHRvIGFub3RoZXIgcnVubmFibGUgd2l0aCBhIHNldCBvZiBrd2FyZ3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5uYWJsZUJpbmRpbmcgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlJ1bm5hYmxlQmluZGluZ1wiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJzY2hlbWFcIiwgXCJydW5uYWJsZVwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJib3VuZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25maWdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwia3dhcmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYm91bmQgPSBmaWVsZHMuYm91bmQ7XG4gICAgICAgIHRoaXMua3dhcmdzID0gZmllbGRzLmt3YXJncztcbiAgICAgICAgdGhpcy5jb25maWcgPSBmaWVsZHMuY29uZmlnO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9tZXJnZUNvbmZpZyhvcHRpb25zKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IGNvcHkgPSB7IC4uLnRoaXMuY29uZmlnIH07XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvcHRpb25zKSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwibWV0YWRhdGFcIikge1xuICAgICAgICAgICAgICAgICAgICBjb3B5W2tleV0gPSB7IC4uLmNvcHlba2V5XSwgLi4ub3B0aW9uc1trZXldIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJ0YWdzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29weVtrZXldID0gKGNvcHlba2V5XSA/PyBbXSkuY29uY2F0KG9wdGlvbnNba2V5XSA/PyBbXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb3B5W2tleV0gPSBvcHRpb25zW2tleV0gPz8gY29weVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9XG4gICAgYmluZChrd2FyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3Ioe1xuICAgICAgICAgICAgYm91bmQ6IHRoaXMuYm91bmQsXG4gICAgICAgICAgICBrd2FyZ3M6IHsgLi4udGhpcy5rd2FyZ3MsIC4uLmt3YXJncyB9LFxuICAgICAgICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHdpdGhDb25maWcoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKHtcbiAgICAgICAgICAgIGJvdW5kOiB0aGlzLmJvdW5kLFxuICAgICAgICAgICAga3dhcmdzOiB0aGlzLmt3YXJncyxcbiAgICAgICAgICAgIGNvbmZpZzogeyAuLi50aGlzLmNvbmZpZywgLi4uY29uZmlnIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB3aXRoUmV0cnkoZmllbGRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKHtcbiAgICAgICAgICAgIGJvdW5kOiB0aGlzLmJvdW5kLndpdGhSZXRyeShmaWVsZHMpLFxuICAgICAgICAgICAga3dhcmdzOiB0aGlzLmt3YXJncyxcbiAgICAgICAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm91bmQuaW52b2tlKGlucHV0LCB0aGlzLl9tZXJnZUNvbmZpZyh7IC4uLm9wdGlvbnMsIC4uLnRoaXMua3dhcmdzIH0pKTtcbiAgICB9XG4gICAgYXN5bmMgYmF0Y2goaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IEFycmF5LmlzQXJyYXkob3B0aW9ucylcbiAgICAgICAgICAgID8gb3B0aW9ucy5tYXAoKGluZGl2aWR1YWxPcHRpb24pID0+IHRoaXMuX21lcmdlQ29uZmlnKHtcbiAgICAgICAgICAgICAgICAuLi5pbmRpdmlkdWFsT3B0aW9uLFxuICAgICAgICAgICAgICAgIC4uLnRoaXMua3dhcmdzLFxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICA6IHRoaXMuX21lcmdlQ29uZmlnKHsgLi4ub3B0aW9ucywgLi4udGhpcy5rd2FyZ3MgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmJvdW5kLmJhdGNoKGlucHV0cywgbWVyZ2VkT3B0aW9ucywgYmF0Y2hPcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgKl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICB5aWVsZCogdGhpcy5ib3VuZC5fc3RyZWFtSXRlcmF0b3IoaW5wdXQsIHRoaXMuX21lcmdlQ29uZmlnKHsgLi4ub3B0aW9ucywgLi4udGhpcy5rd2FyZ3MgfSkpO1xuICAgIH1cbiAgICBhc3luYyBzdHJlYW0oaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm91bmQuc3RyZWFtKGlucHV0LCB0aGlzLl9tZXJnZUNvbmZpZyh7IC4uLm9wdGlvbnMsIC4uLnRoaXMua3dhcmdzIH0pKTtcbiAgICB9XG4gICAgYXN5bmMgKnRyYW5zZm9ybShcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGdlbmVyYXRvciwgb3B0aW9ucykge1xuICAgICAgICB5aWVsZCogdGhpcy5ib3VuZC50cmFuc2Zvcm0oZ2VuZXJhdG9yLCB0aGlzLl9tZXJnZUNvbmZpZyh7IC4uLm9wdGlvbnMsIC4uLnRoaXMua3dhcmdzIH0pKTtcbiAgICB9XG4gICAgc3RhdGljIGlzUnVubmFibGVCaW5kaW5nKFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgdGhpbmdcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICkge1xuICAgICAgICByZXR1cm4gdGhpbmcuYm91bmQgJiYgUnVubmFibGUuaXNSdW5uYWJsZSh0aGluZy5ib3VuZCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgZGVsZWdhdGVzIGNhbGxzIHRvIGFub3RoZXIgcnVubmFibGVcbiAqIHdpdGggZWFjaCBlbGVtZW50IG9mIHRoZSBpbnB1dCBzZXF1ZW5jZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bm5hYmxlRWFjaCBleHRlbmRzIFJ1bm5hYmxlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVFYWNoXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwic2NoZW1hXCIsIFwicnVubmFibGVcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJvdW5kXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYm91bmQgPSBmaWVsZHMuYm91bmQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmRzIHRoZSBydW5uYWJsZSB3aXRoIHRoZSBzcGVjaWZpZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gYmluZCB0aGUgcnVubmFibGUgd2l0aC5cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBpbnN0YW5jZSBvZiB0aGUgYFJ1bm5hYmxlRWFjaGAgY2xhc3MgdGhhdCBpcyBib3VuZCB3aXRoIHRoZSBzcGVjaWZpZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGJpbmQoa3dhcmdzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVFYWNoKHtcbiAgICAgICAgICAgIGJvdW5kOiB0aGlzLmJvdW5kLmJpbmQoa3dhcmdzKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIHJ1bm5hYmxlIHdpdGggdGhlIHNwZWNpZmllZCBpbnB1dCBhbmQgY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cbiAgICAgKiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgb3V0cHV0IG9mIHRoZSBydW5uYWJsZS5cbiAgICAgKi9cbiAgICBhc3luYyBpbnZva2UoaW5wdXRzLCBjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKHRoaXMuX2ludm9rZSwgaW5wdXRzLCBjb25maWcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aCB0aGUgc3BlY2lmaWVkIGlucHV0IGFuZCBjb25maWd1cmF0aW9uLlxuICAgICAqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdG8gaW52b2tlIHRoZSBydW5uYWJsZSB3aXRoLlxuICAgICAqIEBwYXJhbSBjb25maWcgVGhlIGNvbmZpZ3VyYXRpb24gdG8gaW52b2tlIHRoZSBydW5uYWJsZSB3aXRoLlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBvdXRwdXQgb2YgdGhlIHJ1bm5hYmxlLlxuICAgICAqL1xuICAgIGFzeW5jIF9pbnZva2UoaW5wdXRzLCBjb25maWcsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm91bmQuYmF0Y2goaW5wdXRzLCB0aGlzLl9wYXRjaENvbmZpZyhjb25maWcsIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpKTtcbiAgICB9XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIHJ1bm5hYmxlcyB0aGF0IGNhbiBiZSByZXRyaWVkIGFcbiAqIHNwZWNpZmllZCBudW1iZXIgb2YgdGltZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5uYWJsZVJldHJ5IGV4dGVuZHMgUnVubmFibGVCaW5kaW5nIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVSZXRyeVwiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJzY2hlbWFcIiwgXCJydW5uYWJsZVwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4QXR0ZW1wdE51bWJlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogM1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib25GYWlsZWRBdHRlbXB0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAoKSA9PiB7IH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWF4QXR0ZW1wdE51bWJlciA9IGZpZWxkcy5tYXhBdHRlbXB0TnVtYmVyID8/IHRoaXMubWF4QXR0ZW1wdE51bWJlcjtcbiAgICAgICAgdGhpcy5vbkZhaWxlZEF0dGVtcHQgPSBmaWVsZHMub25GYWlsZWRBdHRlbXB0ID8/IHRoaXMub25GYWlsZWRBdHRlbXB0O1xuICAgIH1cbiAgICBfcGF0Y2hDb25maWdGb3JSZXRyeShhdHRlbXB0LCBjb25maWcsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgdGFnID0gYXR0ZW1wdCA+IDEgPyBgcmV0cnk6YXR0ZW1wdDoke2F0dGVtcHR9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhdGNoQ29uZmlnKGNvbmZpZywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQodGFnKSk7XG4gICAgfVxuICAgIGFzeW5jIF9pbnZva2UoaW5wdXQsIGNvbmZpZywgcnVuTWFuYWdlcikge1xuICAgICAgICByZXR1cm4gcFJldHJ5KChhdHRlbXB0TnVtYmVyKSA9PiBzdXBlci5pbnZva2UoaW5wdXQsIHRoaXMuX3BhdGNoQ29uZmlnRm9yUmV0cnkoYXR0ZW1wdE51bWJlciwgY29uZmlnLCBydW5NYW5hZ2VyKSksIHtcbiAgICAgICAgICAgIG9uRmFpbGVkQXR0ZW1wdDogdGhpcy5vbkZhaWxlZEF0dGVtcHQsXG4gICAgICAgICAgICByZXRyaWVzOiBNYXRoLm1heCh0aGlzLm1heEF0dGVtcHROdW1iZXIgLSAxLCAwKSxcbiAgICAgICAgICAgIHJhbmRvbWl6ZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0aGF0IGludm9rZXMgdGhlIHJ1bm5hYmxlIHdpdGggdGhlIHNwZWNpZmllZCBpbnB1dCwgcnVuIG1hbmFnZXIsXG4gICAgICogYW5kIGNvbmZpZy4gSXQgaGFuZGxlcyB0aGUgcmV0cnkgbG9naWMgYnkgY2F0Y2hpbmcgYW55IGVycm9ycyBhbmRcbiAgICAgKiByZWN1cnNpdmVseSBpbnZva2luZyBpdHNlbGYgd2l0aCB0aGUgdXBkYXRlZCBjb25maWcgZm9yIHRoZSBuZXh0IHJldHJ5XG4gICAgICogYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IGZvciB0aGUgcnVubmFibGUuXG4gICAgICogQHBhcmFtIHJ1bk1hbmFnZXIgVGhlIHJ1biBtYW5hZ2VyIGZvciB0aGUgcnVubmFibGUuXG4gICAgICogQHBhcmFtIGNvbmZpZyBUaGUgY29uZmlnIGZvciB0aGUgcnVubmFibGUuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCBvZiB0aGUgcnVubmFibGUuXG4gICAgICovXG4gICAgYXN5bmMgaW52b2tlKGlucHV0LCBjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKHRoaXMuX2ludm9rZSwgaW5wdXQsIGNvbmZpZyk7XG4gICAgfVxuICAgIGFzeW5jIF9iYXRjaChpbnB1dHMsIGNvbmZpZ3MsIHJ1bk1hbmFnZXJzLCBiYXRjaE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0c01hcCA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgcFJldHJ5KGFzeW5jIChhdHRlbXB0TnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nSW5kZXhlcyA9IGlucHV0c1xuICAgICAgICAgICAgICAgICAgICAubWFwKChfLCBpKSA9PiBpKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChpKSA9PiByZXN1bHRzTWFwW2kudG9TdHJpbmcoKV0gPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHNNYXBbaS50b1N0cmluZygpXSBpbnN0YW5jZW9mIEVycm9yKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdJbnB1dHMgPSByZW1haW5pbmdJbmRleGVzLm1hcCgoaSkgPT4gaW5wdXRzW2ldKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRjaGVkQ29uZmlncyA9IHJlbWFpbmluZ0luZGV4ZXMubWFwKChpKSA9PiB0aGlzLl9wYXRjaENvbmZpZ0ZvclJldHJ5KGF0dGVtcHROdW1iZXIsIGNvbmZpZ3M/LltpXSwgcnVuTWFuYWdlcnM/LltpXSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBzdXBlci5iYXRjaChyZW1haW5pbmdJbnB1dHMsIHBhdGNoZWRDb25maWdzLCB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmJhdGNoT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuRXhjZXB0aW9uczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3RFeGNlcHRpb247XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdE1hcEluZGV4ID0gcmVtYWluaW5nSW5kZXhlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWluc3RhbmNlb2Yvbm8taW5zdGFuY2VvZlxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdEV4Y2VwdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RFeGNlcHRpb24gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c01hcFtyZXN1bHRNYXBJbmRleC50b1N0cmluZygpXSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0RXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGZpcnN0RXhjZXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBvbkZhaWxlZEF0dGVtcHQ6IHRoaXMub25GYWlsZWRBdHRlbXB0LFxuICAgICAgICAgICAgICAgIHJldHJpZXM6IE1hdGgubWF4KHRoaXMubWF4QXR0ZW1wdE51bWJlciAtIDEsIDApLFxuICAgICAgICAgICAgICAgIHJhbmRvbWl6ZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoYmF0Y2hPcHRpb25zPy5yZXR1cm5FeGNlcHRpb25zICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMocmVzdWx0c01hcClcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBwYXJzZUludChhLCAxMCkgLSBwYXJzZUludChiLCAxMCkpXG4gICAgICAgICAgICAubWFwKChrZXkpID0+IHJlc3VsdHNNYXBbcGFyc2VJbnQoa2V5LCAxMCldKTtcbiAgICB9XG4gICAgYXN5bmMgYmF0Y2goaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JhdGNoV2l0aENvbmZpZyh0aGlzLl9iYXRjaC5iaW5kKHRoaXMpLCBpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucyk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHNlcXVlbmNlIG9mIHJ1bm5hYmxlcywgd2hlcmUgdGhlIG91dHB1dCBvZiBlYWNoIGlzIHRoZSBpbnB1dCBvZiB0aGUgbmV4dC5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bm5hYmxlU2VxdWVuY2UgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlJ1bm5hYmxlU2VxdWVuY2VcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZpcnN0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1pZGRsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW11cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxhc3RcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZpcnN0ID0gZmllbGRzLmZpcnN0O1xuICAgICAgICB0aGlzLm1pZGRsZSA9IGZpZWxkcy5taWRkbGUgPz8gdGhpcy5taWRkbGU7XG4gICAgICAgIHRoaXMubGFzdCA9IGZpZWxkcy5sYXN0O1xuICAgIH1cbiAgICBnZXQgc3RlcHMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5maXJzdCwgLi4udGhpcy5taWRkbGUsIHRoaXMubGFzdF07XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb3B0aW9ucz8ucnVuTmFtZSk7XG4gICAgICAgIGxldCBuZXh0U3RlcElucHV0ID0gaW5wdXQ7XG4gICAgICAgIGxldCBmaW5hbE91dHB1dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxTdGVwcyA9IFt0aGlzLmZpcnN0LCAuLi50aGlzLm1pZGRsZV07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluaXRpYWxTdGVwcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBpbml0aWFsU3RlcHNbaV07XG4gICAgICAgICAgICAgICAgbmV4dFN0ZXBJbnB1dCA9IGF3YWl0IHN0ZXAuaW52b2tlKG5leHRTdGVwSW5wdXQsIHRoaXMuX3BhdGNoQ29uZmlnKG9wdGlvbnMsIHJ1bk1hbmFnZXI/LmdldENoaWxkKGBzZXE6c3RlcDoke2kgKyAxfWApKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUeXBlU2NyaXB0IGNhbid0IGRldGVjdCB0aGF0IHRoZSBsYXN0IG91dHB1dCBvZiB0aGUgc2VxdWVuY2UgcmV0dXJucyBSdW5PdXRwdXQsIHNvIGNhbGwgaXQgb3V0IG9mIHRoZSBsb29wIGhlcmVcbiAgICAgICAgICAgIGZpbmFsT3V0cHV0ID0gYXdhaXQgdGhpcy5sYXN0Lmludm9rZShuZXh0U3RlcElucHV0LCB0aGlzLl9wYXRjaENvbmZpZyhvcHRpb25zLCBydW5NYW5hZ2VyPy5nZXRDaGlsZChgc2VxOnN0ZXA6JHt0aGlzLnN0ZXBzLmxlbmd0aH1gKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGUpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChfY29lcmNlVG9EaWN0KGZpbmFsT3V0cHV0LCBcIm91dHB1dFwiKSk7XG4gICAgICAgIHJldHVybiBmaW5hbE91dHB1dDtcbiAgICB9XG4gICAgYXN5bmMgYmF0Y2goaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY29uZmlnTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwoY29uZmlnTGlzdC5tYXAoZ2V0Q2FsbGJhY2tNYW5nZXJGb3JDb25maWcpKTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChjYWxsYmFja01hbmFnZXJzLm1hcCgoY2FsbGJhY2tNYW5hZ2VyLCBpKSA9PiBjYWxsYmFja01hbmFnZXI/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dHNbaV0sIFwiaW5wdXRcIiksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY29uZmlnTGlzdFtpXS5ydW5OYW1lKSkpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBsZXQgbmV4dFN0ZXBJbnB1dHMgPSBpbnB1dHM7XG4gICAgICAgIGxldCBmaW5hbE91dHB1dHM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpbml0aWFsU3RlcHMgPSBbdGhpcy5maXJzdCwgLi4udGhpcy5taWRkbGVdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbml0aWFsU3RlcHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGVwID0gaW5pdGlhbFN0ZXBzW2ldO1xuICAgICAgICAgICAgICAgIG5leHRTdGVwSW5wdXRzID0gYXdhaXQgc3RlcC5iYXRjaChuZXh0U3RlcElucHV0cywgcnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyLCBqKSA9PiB0aGlzLl9wYXRjaENvbmZpZyhjb25maWdMaXN0W2pdLCBydW5NYW5hZ2VyPy5nZXRDaGlsZChgc2VxOnN0ZXA6JHtpICsgMX1gKSkpLCBiYXRjaE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxPdXRwdXRzID0gYXdhaXQgdGhpcy5sYXN0LmJhdGNoKG5leHRTdGVwSW5wdXRzLCBydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIpID0+IHRoaXMuX3BhdGNoQ29uZmlnKGNvbmZpZ0xpc3RbdGhpcy5zdGVwcy5sZW5ndGggLSAxXSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYHNlcTpzdGVwOiR7dGhpcy5zdGVwcy5sZW5ndGh9YCkpKSwgYmF0Y2hPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGUpKSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlciwgaSkgPT4gcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChmaW5hbE91dHB1dHNbaV0sIFwib3V0cHV0XCIpKSkpO1xuICAgICAgICByZXR1cm4gZmluYWxPdXRwdXRzO1xuICAgIH1cbiAgICBhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBnZXRDYWxsYmFja01hbmdlckZvckNvbmZpZyhvcHRpb25zKTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dCwgXCJpbnB1dFwiKSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvcHRpb25zPy5ydW5OYW1lKTtcbiAgICAgICAgbGV0IG5leHRTdGVwSW5wdXQgPSBpbnB1dDtcbiAgICAgICAgY29uc3Qgc3RlcHMgPSBbdGhpcy5maXJzdCwgLi4udGhpcy5taWRkbGUsIHRoaXMubGFzdF07XG4gICAgICAgIC8vIEZpbmQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHJ1bm5hYmxlIGluIHRoZSBzZXF1ZW5jZSB0aGF0IGRvZXNuJ3QgaGF2ZSBhbiBvdmVycmlkZGVuIC50cmFuc2Zvcm0oKSBtZXRob2RcbiAgICAgICAgLy8gYW5kIHN0YXJ0IHN0cmVhbWluZyBmcm9tIHRoZXJlXG4gICAgICAgIGNvbnN0IHN0cmVhbWluZ1N0YXJ0U3RlcEluZGV4ID0gTWF0aC5taW4oc3RlcHMubGVuZ3RoIC0gMSwgc3RlcHMubGVuZ3RoIC1cbiAgICAgICAgICAgIFsuLi5zdGVwc10ucmV2ZXJzZSgpLmZpbmRJbmRleCgoc3RlcCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzRGVmYXVsdEltcGxlbWVudGF0aW9uID0gc3RlcC50cmFuc2Zvcm0gPT09IFJ1bm5hYmxlLnByb3RvdHlwZS50cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgY29uc3QgYm91bmRSdW5uYWJsZUlzRGVmYXVsdEltcGxlbWVudGF0aW9uID0gUnVubmFibGVCaW5kaW5nLmlzUnVubmFibGVCaW5kaW5nKHN0ZXApICYmXG4gICAgICAgICAgICAgICAgICAgIHN0ZXAuYm91bmQ/LnRyYW5zZm9ybSA9PT0gUnVubmFibGUucHJvdG90eXBlLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGlzRGVmYXVsdEltcGxlbWVudGF0aW9uIHx8IGJvdW5kUnVubmFibGVJc0RlZmF1bHRJbXBsZW1lbnRhdGlvbik7XG4gICAgICAgICAgICB9KSAtXG4gICAgICAgICAgICAxKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGludm9rZVN0ZXBzID0gc3RlcHMuc2xpY2UoMCwgc3RyZWFtaW5nU3RhcnRTdGVwSW5kZXgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnZva2VTdGVwcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBpbnZva2VTdGVwc1tpXTtcbiAgICAgICAgICAgICAgICBuZXh0U3RlcElucHV0ID0gYXdhaXQgc3RlcC5pbnZva2UobmV4dFN0ZXBJbnB1dCwgdGhpcy5fcGF0Y2hDb25maWcob3B0aW9ucywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYHNlcTpzdGVwOiR7aSArIDF9YCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbmNhdFN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIGxldCBmaW5hbE91dHB1dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBmaW5hbEdlbmVyYXRvciA9IGF3YWl0IHN0ZXBzW3N0cmVhbWluZ1N0YXJ0U3RlcEluZGV4XS5fc3RyZWFtSXRlcmF0b3IobmV4dFN0ZXBJbnB1dCwgdGhpcy5fcGF0Y2hDb25maWcob3B0aW9ucywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYHNlcTpzdGVwOiR7c3RyZWFtaW5nU3RhcnRTdGVwSW5kZXggKyAxfWApKSk7XG4gICAgICAgICAgICBjb25zdCBmaW5hbFN0ZXBzID0gc3RlcHMuc2xpY2Uoc3RyZWFtaW5nU3RhcnRTdGVwSW5kZXggKyAxKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmluYWxTdGVwcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBmaW5hbFN0ZXBzW2ldO1xuICAgICAgICAgICAgICAgIGZpbmFsR2VuZXJhdG9yID0gYXdhaXQgc3RlcC50cmFuc2Zvcm0oZmluYWxHZW5lcmF0b3IsIHRoaXMuX3BhdGNoQ29uZmlnKG9wdGlvbnMsIHJ1bk1hbmFnZXI/LmdldENoaWxkKGBzZXE6c3RlcDoke3N0cmVhbWluZ1N0YXJ0U3RlcEluZGV4ICsgaSArIDJ9YCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgZmluYWxHZW5lcmF0b3IpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBjaHVuaztcbiAgICAgICAgICAgICAgICBpZiAoY29uY2F0U3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5hbE91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbE91dHB1dCA9IGNodW5rO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsT3V0cHV0ID0gZmluYWxPdXRwdXQuY29uY2F0KGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxPdXRwdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uY2F0U3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKF9jb2VyY2VUb0RpY3QoZmluYWxPdXRwdXQsIFwib3V0cHV0XCIpKTtcbiAgICB9XG4gICAgcGlwZShjb2VyY2VhYmxlKSB7XG4gICAgICAgIGlmIChSdW5uYWJsZVNlcXVlbmNlLmlzUnVubmFibGVTZXF1ZW5jZShjb2VyY2VhYmxlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZVNlcXVlbmNlKHtcbiAgICAgICAgICAgICAgICBmaXJzdDogdGhpcy5maXJzdCxcbiAgICAgICAgICAgICAgICBtaWRkbGU6IHRoaXMubWlkZGxlLmNvbmNhdChbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdCxcbiAgICAgICAgICAgICAgICAgICAgY29lcmNlYWJsZS5maXJzdCxcbiAgICAgICAgICAgICAgICAgICAgLi4uY29lcmNlYWJsZS5taWRkbGUsXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgbGFzdDogY29lcmNlYWJsZS5sYXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1bm5hYmxlU2VxdWVuY2Uoe1xuICAgICAgICAgICAgICAgIGZpcnN0OiB0aGlzLmZpcnN0LFxuICAgICAgICAgICAgICAgIG1pZGRsZTogWy4uLnRoaXMubWlkZGxlLCB0aGlzLmxhc3RdLFxuICAgICAgICAgICAgICAgIGxhc3Q6IF9jb2VyY2VUb1J1bm5hYmxlKGNvZXJjZWFibGUpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzdGF0aWMgaXNSdW5uYWJsZVNlcXVlbmNlKHRoaW5nKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHRoaW5nLm1pZGRsZSkgJiYgUnVubmFibGUuaXNSdW5uYWJsZSh0aGluZyk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc3RhdGljIGZyb20oW2ZpcnN0LCAuLi5ydW5uYWJsZXNdKSB7XG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVTZXF1ZW5jZSh7XG4gICAgICAgICAgICBmaXJzdDogX2NvZXJjZVRvUnVubmFibGUoZmlyc3QpLFxuICAgICAgICAgICAgbWlkZGxlOiBydW5uYWJsZXMuc2xpY2UoMCwgLTEpLm1hcChfY29lcmNlVG9SdW5uYWJsZSksXG4gICAgICAgICAgICBsYXN0OiBfY29lcmNlVG9SdW5uYWJsZShydW5uYWJsZXNbcnVubmFibGVzLmxlbmd0aCAtIDFdKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgcnVucyBhIG1hcHBpbmcgb2YgcnVubmFibGVzIGluIHBhcmFsbGVsLFxuICogYW5kIHJldHVybnMgYSBtYXBwaW5nIG9mIHRoZWlyIG91dHB1dHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5uYWJsZU1hcCBleHRlbmRzIFJ1bm5hYmxlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVNYXBcIjtcbiAgICB9XG4gICAgZ2V0U3RlcHNLZXlzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5zdGVwcyk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0ZXBzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RlcHMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZmllbGRzLnN0ZXBzKSkge1xuICAgICAgICAgICAgdGhpcy5zdGVwc1trZXldID0gX2NvZXJjZVRvUnVubmFibGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKHN0ZXBzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVNYXAoeyBzdGVwcyB9KTtcbiAgICB9XG4gICAgYXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICApIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IGdldENhbGxiYWNrTWFuZ2VyRm9yQ29uZmlnKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBydW5NYW5hZ2VyID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlQ2hhaW5TdGFydCh0aGlzLnRvSlNPTigpLCB7XG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgfSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvcHRpb25zPy5ydW5OYW1lKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChPYmplY3QuZW50cmllcyh0aGlzLnN0ZXBzKS5tYXAoYXN5bmMgKFtrZXksIHJ1bm5hYmxlXSkgPT4ge1xuICAgICAgICAgICAgICAgIG91dHB1dFtrZXldID0gYXdhaXQgcnVubmFibGUuaW52b2tlKGlucHV0LCB0aGlzLl9wYXRjaENvbmZpZyhvcHRpb25zLCBydW5NYW5hZ2VyPy5nZXRDaGlsZChrZXkpKSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKG91dHB1dCk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgcnVucyBhIGNhbGxhYmxlLlxuICovXG5leHBvcnQgY2xhc3MgUnVubmFibGVMYW1iZGEgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlJ1bm5hYmxlTGFtYmRhXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmdW5jXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZnVuYyA9IGZpZWxkcy5mdW5jO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbShmdW5jKSB7XG4gICAgICAgIHJldHVybiBuZXcgUnVubmFibGVMYW1iZGEoe1xuICAgICAgICAgICAgZnVuYyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIF9pbnZva2UoaW5wdXQsIGNvbmZpZywgcnVuTWFuYWdlcikge1xuICAgICAgICBsZXQgb3V0cHV0ID0gYXdhaXQgdGhpcy5mdW5jKGlucHV0KTtcbiAgICAgICAgaWYgKG91dHB1dCAmJiBSdW5uYWJsZS5pc1J1bm5hYmxlKG91dHB1dCkpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IGF3YWl0IG91dHB1dC5pbnZva2UoaW5wdXQsIHRoaXMuX3BhdGNoQ29uZmlnKGNvbmZpZywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcodGhpcy5faW52b2tlLCBpbnB1dCwgb3B0aW9ucyk7XG4gICAgfVxufVxuLyoqXG4gKiBBIFJ1bm5hYmxlIHRoYXQgY2FuIGZhbGxiYWNrIHRvIG90aGVyIFJ1bm5hYmxlcyBpZiBpdCBmYWlscy5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyBleHRlbmRzIFJ1bm5hYmxlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVXaXRoRmFsbGJhY2tzXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJ1bm5hYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZhbGxiYWNrc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJ1bm5hYmxlID0gZmllbGRzLnJ1bm5hYmxlO1xuICAgICAgICB0aGlzLmZhbGxiYWNrcyA9IGZpZWxkcy5mYWxsYmFja3M7XG4gICAgfVxuICAgICpydW5uYWJsZXMoKSB7XG4gICAgICAgIHlpZWxkIHRoaXMucnVubmFibGU7XG4gICAgICAgIGZvciAoY29uc3QgZmFsbGJhY2sgb2YgdGhpcy5mYWxsYmFja3MpIHtcbiAgICAgICAgICAgIHlpZWxkIGZhbGxiYWNrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShvcHRpb25zPy5jYWxsYmFja3MsIHVuZGVmaW5lZCwgb3B0aW9ucz8udGFncywgdW5kZWZpbmVkLCBvcHRpb25zPy5tZXRhZGF0YSk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb3B0aW9ucz8ucnVuTmFtZSk7XG4gICAgICAgIGxldCBmaXJzdEVycm9yO1xuICAgICAgICBmb3IgKGNvbnN0IHJ1bm5hYmxlIG9mIHRoaXMucnVubmFibGVzKCkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gYXdhaXQgcnVubmFibGUuaW52b2tlKGlucHV0LCB0aGlzLl9wYXRjaENvbmZpZyhvcHRpb25zLCBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpKSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChvdXRwdXQsIFwib3V0cHV0XCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RFcnJvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0RXJyb3IgPSBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RFcnJvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBlcnJvciBzdG9yZWQgYXQgZW5kIG9mIGZhbGxiYWNrLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGZpcnN0RXJyb3IpO1xuICAgICAgICB0aHJvdyBmaXJzdEVycm9yO1xuICAgIH1cbiAgICBhc3luYyBiYXRjaChpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucykge1xuICAgICAgICBpZiAoYmF0Y2hPcHRpb25zPy5yZXR1cm5FeGNlcHRpb25zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbmZpZ0xpc3QgPSB0aGlzLl9nZXRPcHRpb25zTGlzdChvcHRpb25zID8/IHt9LCBpbnB1dHMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tNYW5hZ2VycyA9IGF3YWl0IFByb21pc2UuYWxsKGNvbmZpZ0xpc3QubWFwKChjb25maWcpID0+IENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUoY29uZmlnPy5jYWxsYmFja3MsIHVuZGVmaW5lZCwgY29uZmlnPy50YWdzLCB1bmRlZmluZWQsIGNvbmZpZz8ubWV0YWRhdGEpKSk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwoY2FsbGJhY2tNYW5hZ2Vycy5tYXAoKGNhbGxiYWNrTWFuYWdlciwgaSkgPT4gY2FsbGJhY2tNYW5hZ2VyPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXRzW2ldLCBcImlucHV0XCIpLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbmZpZ0xpc3RbaV0ucnVuTmFtZSkpKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgbGV0IGZpcnN0RXJyb3I7XG4gICAgICAgIGZvciAoY29uc3QgcnVubmFibGUgb2YgdGhpcy5ydW5uYWJsZXMoKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXRzID0gYXdhaXQgcnVubmFibGUuYmF0Y2goaW5wdXRzLCBydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIsIGopID0+IHRoaXMuX3BhdGNoQ29uZmlnKGNvbmZpZ0xpc3Rbal0sIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpKSwgYmF0Y2hPcHRpb25zKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIsIGkpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKF9jb2VyY2VUb0RpY3Qob3V0cHV0c1tpXSwgXCJvdXRwdXRcIikpKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdEVycm9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RFcnJvciA9IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZmlyc3RFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZXJyb3Igc3RvcmVkIGF0IGVuZCBvZiBmYWxsYmFja3MuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihmaXJzdEVycm9yKSkpO1xuICAgICAgICB0aHJvdyBmaXJzdEVycm9yO1xuICAgIH1cbn1cbi8vIFRPRE86IEZpZ3VyZSBvdXQgd2h5IHRoZSBjb21waWxlciBuZWVkcyBoZWxwIGVsaW1pbmF0aW5nIEVycm9yIGFzIGEgUnVuT3V0cHV0IHR5cGVcbmV4cG9ydCBmdW5jdGlvbiBfY29lcmNlVG9SdW5uYWJsZShjb2VyY2VhYmxlKSB7XG4gICAgaWYgKHR5cGVvZiBjb2VyY2VhYmxlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZUxhbWJkYSh7IGZ1bmM6IGNvZXJjZWFibGUgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKFJ1bm5hYmxlLmlzUnVubmFibGUoY29lcmNlYWJsZSkpIHtcbiAgICAgICAgcmV0dXJuIGNvZXJjZWFibGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGNvZXJjZWFibGUpICYmIHR5cGVvZiBjb2VyY2VhYmxlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5hYmxlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjb2VyY2VhYmxlKSkge1xuICAgICAgICAgICAgcnVubmFibGVzW2tleV0gPSBfY29lcmNlVG9SdW5uYWJsZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZU1hcCh7XG4gICAgICAgICAgICBzdGVwczogcnVubmFibGVzLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYSBSdW5uYWJsZSwgZnVuY3Rpb24gb3Igb2JqZWN0Llxcbkluc3RlYWQgZ290IGFuIHVuc3VwcG9ydGVkIHR5cGUuYCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUnVubmFibGUsIFJ1bm5hYmxlTWFwIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgYXNzaWducyBrZXktdmFsdWUgcGFpcnMgdG8gaW5wdXRzIG9mIHR5cGUgYFJlY29yZDxzdHJpbmcsIHVua25vd24+YC5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bm5hYmxlQXNzaWduIGV4dGVuZHMgUnVubmFibGUge1xuICAgIGNvbnN0cnVjdG9yKG1hcHBlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcInJ1bm5hYmxlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXBwZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYXBwZXIgPSBtYXBwZXI7XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBtYXBwZXJSZXN1bHQgPSBhd2FpdCB0aGlzLm1hcHBlci5pbnZva2UoaW5wdXQsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgICAgICAuLi5tYXBwZXJSZXN1bHQsXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBBIHJ1bm5hYmxlIHRoYXQgcGFzc2VzIHRocm91Z2ggdGhlIGlucHV0LlxuICovXG5leHBvcnQgY2xhc3MgUnVubmFibGVQYXNzdGhyb3VnaCBleHRlbmRzIFJ1bm5hYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJzY2hlbWFcIiwgXCJydW5uYWJsZVwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUnVubmFibGVQYXNzdGhyb3VnaFwiO1xuICAgIH1cbiAgICBhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKChpbnB1dCkgPT4gUHJvbWlzZS5yZXNvbHZlKGlucHV0KSwgaW5wdXQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzaWduKG1hcHBpbmcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSdW5uYWJsZUFzc2lnbihuZXcgUnVubmFibGVNYXAoeyBzdGVwczogbWFwcGluZyB9KSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC40LjAnOyAvLyB4LXJlbGVhc2UtcGxlYXNlLXZlcnNpb25cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24ubWpzLm1hcFxuIiwiZXhwb3J0IGNsYXNzIFN0cmVhbSB7XG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlLCBjb250cm9sbGVyKSB7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5kZWNvZGVyID0gbmV3IFNTRURlY29kZXIoKTtcbiAgfVxuICBhc3luYyAqaXRlck1lc3NhZ2VzKCkge1xuICAgIGlmICghdGhpcy5yZXNwb25zZS5ib2R5KSB7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQXR0ZW1wdGVkIHRvIGl0ZXJhdGUgb3ZlciBhIHJlc3BvbnNlIHdpdGggbm8gYm9keWApO1xuICAgIH1cbiAgICBjb25zdCBsaW5lRGVjb2RlciA9IG5ldyBMaW5lRGVjb2RlcigpO1xuICAgIGNvbnN0IGl0ZXIgPSByZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmFibGUodGhpcy5yZXNwb25zZS5ib2R5KTtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGl0ZXIpIHtcbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5kZWNvZGUoY2h1bmspKSB7XG4gICAgICAgIGNvbnN0IHNzZSA9IHRoaXMuZGVjb2Rlci5kZWNvZGUobGluZSk7XG4gICAgICAgIGlmIChzc2UpIHlpZWxkIHNzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmZsdXNoKCkpIHtcbiAgICAgIGNvbnN0IHNzZSA9IHRoaXMuZGVjb2Rlci5kZWNvZGUobGluZSk7XG4gICAgICBpZiAoc3NlKSB5aWVsZCBzc2U7XG4gICAgfVxuICB9XG4gIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgIGZvciBhd2FpdCAoY29uc3Qgc3NlIG9mIHRoaXMuaXRlck1lc3NhZ2VzKCkpIHtcbiAgICAgICAgaWYgKGRvbmUpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoc3NlLmRhdGEuc3RhcnRzV2l0aCgnW0RPTkVdJykpIHtcbiAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3NlLmV2ZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHlpZWxkIEpTT04ucGFyc2Uoc3NlLmRhdGEpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBwYXJzZSBtZXNzYWdlIGludG8gSlNPTjpgLCBzc2UuZGF0YSk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGcm9tIGNodW5rOmAsIHNzZS5yYXcpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIGNhbGxzIGBzdHJlYW0uY29udHJvbGxlci5hYm9ydCgpYCwgd2Ugc2hvdWxkIGV4aXQgd2l0aG91dCB0aHJvd2luZy5cbiAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHJldHVybjtcbiAgICAgIHRocm93IGU7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIGBicmVha2BzLCBhYm9ydCB0aGUgb25nb2luZyByZXF1ZXN0LlxuICAgICAgaWYgKCFkb25lKSB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB9XG4gIH1cbn1cbmNsYXNzIFNTRURlY29kZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmV2ZW50ID0gbnVsbDtcbiAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICB0aGlzLmNodW5rcyA9IFtdO1xuICB9XG4gIGRlY29kZShsaW5lKSB7XG4gICAgaWYgKGxpbmUuZW5kc1dpdGgoJ1xccicpKSB7XG4gICAgICBsaW5lID0gbGluZS5zdWJzdHJpbmcoMCwgbGluZS5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgaWYgKCFsaW5lKSB7XG4gICAgICAvLyBlbXB0eSBsaW5lIGFuZCB3ZSBkaWRuJ3QgcHJldmlvdXNseSBlbmNvdW50ZXIgYW55IG1lc3NhZ2VzXG4gICAgICBpZiAoIXRoaXMuZXZlbnQgJiYgIXRoaXMuZGF0YS5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgICAgY29uc3Qgc3NlID0ge1xuICAgICAgICBldmVudDogdGhpcy5ldmVudCxcbiAgICAgICAgZGF0YTogdGhpcy5kYXRhLmpvaW4oJ1xcbicpLFxuICAgICAgICByYXc6IHRoaXMuY2h1bmtzLFxuICAgICAgfTtcbiAgICAgIHRoaXMuZXZlbnQgPSBudWxsO1xuICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgcmV0dXJuIHNzZTtcbiAgICB9XG4gICAgdGhpcy5jaHVua3MucHVzaChsaW5lKTtcbiAgICBpZiAobGluZS5zdGFydHNXaXRoKCc6JykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgW2ZpZWxkbmFtZSwgXywgdmFsdWVdID0gcGFydGl0aW9uKGxpbmUsICc6Jyk7XG4gICAgaWYgKHZhbHVlLnN0YXJ0c1dpdGgoJyAnKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMSk7XG4gICAgfVxuICAgIGlmIChmaWVsZG5hbWUgPT09ICdldmVudCcpIHtcbiAgICAgIHRoaXMuZXZlbnQgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKGZpZWxkbmFtZSA9PT0gJ2RhdGEnKSB7XG4gICAgICB0aGlzLmRhdGEucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4vKipcbiAqIEEgcmUtaW1wbGVtZW50YXRpb24gb2YgaHR0cHgncyBgTGluZURlY29kZXJgIGluIFB5dGhvbiB0aGF0IGhhbmRsZXMgaW5jcmVtZW50YWxseVxuICogcmVhZGluZyBsaW5lcyBmcm9tIHRleHQuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2VuY29kZS9odHRweC9ibG9iLzkyMDMzM2VhOTgxMThlOWNmNjE3ZjI0NjkwNWQ3YjIwMjUxMDk0MWMvaHR0cHgvX2RlY29kZXJzLnB5I0wyNThcbiAqL1xuY2xhc3MgTGluZURlY29kZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgIHRoaXMudHJhaWxpbmdDUiA9IGZhbHNlO1xuICB9XG4gIGRlY29kZShjaHVuaykge1xuICAgIGxldCB0ZXh0ID0gdGhpcy5kZWNvZGVUZXh0KGNodW5rKTtcbiAgICBpZiAodGhpcy50cmFpbGluZ0NSKSB7XG4gICAgICB0ZXh0ID0gJ1xccicgKyB0ZXh0O1xuICAgICAgdGhpcy50cmFpbGluZ0NSID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0ZXh0LmVuZHNXaXRoKCdcXHInKSkge1xuICAgICAgdGhpcy50cmFpbGluZ0NSID0gdHJ1ZTtcbiAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICB9XG4gICAgaWYgKCF0ZXh0KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IHRyYWlsaW5nTmV3bGluZSA9IExpbmVEZWNvZGVyLk5FV0xJTkVfQ0hBUlMuaGFzKHRleHRbdGV4dC5sZW5ndGggLSAxXSB8fCAnJyk7XG4gICAgbGV0IGxpbmVzID0gdGV4dC5zcGxpdChMaW5lRGVjb2Rlci5ORVdMSU5FX1JFR0VYUCk7XG4gICAgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMSAmJiAhdHJhaWxpbmdOZXdsaW5lKSB7XG4gICAgICB0aGlzLmJ1ZmZlci5wdXNoKGxpbmVzWzBdKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgIGxpbmVzID0gW3RoaXMuYnVmZmVyLmpvaW4oJycpICsgbGluZXNbMF0sIC4uLmxpbmVzLnNsaWNlKDEpXTtcbiAgICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgfVxuICAgIGlmICghdHJhaWxpbmdOZXdsaW5lKSB7XG4gICAgICB0aGlzLmJ1ZmZlciA9IFtsaW5lcy5wb3AoKSB8fCAnJ107XG4gICAgfVxuICAgIHJldHVybiBsaW5lcztcbiAgfVxuICBkZWNvZGVUZXh0KGJ5dGVzKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChieXRlcyA9PSBudWxsKSByZXR1cm4gJyc7XG4gICAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHJldHVybiBieXRlcztcbiAgICAvLyBOb2RlOlxuICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgQnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBieXRlcy50b1N0cmluZygpO1xuICAgICAgfVxuICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oYnl0ZXMpLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBVbmV4cGVjdGVkOiByZWNlaXZlZCBub24tVWludDhBcnJheSAoJHtieXRlcy5jb25zdHJ1Y3Rvci5uYW1lfSkgc3RyZWFtIGNodW5rIGluIGFuIGVudmlyb25tZW50IHdpdGggYSBnbG9iYWwgXCJCdWZmZXJcIiBkZWZpbmVkLCB3aGljaCB0aGlzIGxpYnJhcnkgYXNzdW1lcyB0byBiZSBOb2RlLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCxcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIEJyb3dzZXJcbiAgICBpZiAodHlwZW9mIFRleHREZWNvZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBieXRlcyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIChfYSA9IHRoaXMudGV4dERlY29kZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICh0aGlzLnRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGY4JykpO1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0RGVjb2Rlci5kZWNvZGUoYnl0ZXMpO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVW5leHBlY3RlZDogcmVjZWl2ZWQgbm9uLVVpbnQ4QXJyYXkvQXJyYXlCdWZmZXIgKCR7Ynl0ZXMuY29uc3RydWN0b3IubmFtZX0pIGluIGEgd2ViIHBsYXRmb3JtLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBVbmV4cGVjdGVkOiBuZWl0aGVyIEJ1ZmZlciBub3IgVGV4dERlY29kZXIgYXJlIGF2YWlsYWJsZSBhcyBnbG9iYWxzLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCxcbiAgICApO1xuICB9XG4gIGZsdXNoKCkge1xuICAgIGlmICghdGhpcy5idWZmZXIubGVuZ3RoICYmICF0aGlzLnRyYWlsaW5nQ1IpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgbGluZXMgPSBbdGhpcy5idWZmZXIuam9pbignJyldO1xuICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgdGhpcy50cmFpbGluZ0NSID0gZmFsc2U7XG4gICAgcmV0dXJuIGxpbmVzO1xuICB9XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbkxpbmVEZWNvZGVyLk5FV0xJTkVfQ0hBUlMgPSBuZXcgU2V0KFsnXFxuJywgJ1xccicsICdcXHgwYicsICdcXHgwYycsICdcXHgxYycsICdcXHgxZCcsICdcXHgxZScsICdcXHg4NScsICdcXHUyMDI4JywgJ1xcdTIwMjknXSk7XG5MaW5lRGVjb2Rlci5ORVdMSU5FX1JFR0VYUCA9IC9cXHJcXG58W1xcblxcclxceDBiXFx4MGNcXHgxY1xceDFkXFx4MWVcXHg4NVxcdTIwMjhcXHUyMDI5XS9nO1xuZnVuY3Rpb24gcGFydGl0aW9uKHN0ciwgZGVsaW1pdGVyKSB7XG4gIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoZGVsaW1pdGVyKTtcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIHJldHVybiBbc3RyLnN1YnN0cmluZygwLCBpbmRleCksIGRlbGltaXRlciwgc3RyLnN1YnN0cmluZyhpbmRleCArIGRlbGltaXRlci5sZW5ndGgpXTtcbiAgfVxuICByZXR1cm4gW3N0ciwgJycsICcnXTtcbn1cbi8qKlxuICogTW9zdCBicm93c2VycyBkb24ndCB5ZXQgaGF2ZSBhc3luYyBpdGVyYWJsZSBzdXBwb3J0IGZvciBSZWFkYWJsZVN0cmVhbSxcbiAqIGFuZCBOb2RlIGhhcyBhIHZlcnkgZGlmZmVyZW50IHdheSBvZiByZWFkaW5nIGJ5dGVzIGZyb20gaXRzIFwiUmVhZGFibGVTdHJlYW1cIi5cbiAqXG4gKiBUaGlzIHBvbHlmaWxsIHdhcyBwdWxsZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vTWF0dGlhc0J1ZWxlbnMvd2ViLXN0cmVhbXMtcG9seWZpbGwvcHVsbC8xMjIjaXNzdWVjb21tZW50LTE2MjczNTQ0OTBcbiAqL1xuZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhYmxlKHN0cmVhbSkge1xuICBpZiAoc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSkgcmV0dXJuIHN0cmVhbTtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICByZXR1cm4ge1xuICAgIGFzeW5jIG5leHQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdWx0LmRvbmUpIHJlYWRlci5yZWxlYXNlTG9jaygpOyAvLyByZWxlYXNlIGxvY2sgd2hlbiBzdHJlYW0gYmVjb21lcyBjbG9zZWRcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGVycm9yZWRcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHJldHVybigpIHtcbiAgICAgIGNvbnN0IGNhbmNlbFByb21pc2UgPSByZWFkZXIuY2FuY2VsKCk7XG4gICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICAgIGF3YWl0IGNhbmNlbFByb21pc2U7XG4gICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gICAgfSxcbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbWluZy5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgY2FzdFRvRXJyb3IgfSBmcm9tICcuL2NvcmUubWpzJztcbmV4cG9ydCBjbGFzcyBBUElFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycykge1xuICAgIHN1cGVyKEFQSUVycm9yLm1ha2VNZXNzYWdlKGVycm9yLCBtZXNzYWdlKSk7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcbiAgICBjb25zdCBkYXRhID0gZXJyb3I7XG4gICAgdGhpcy5lcnJvciA9IGRhdGE7XG4gICAgdGhpcy5jb2RlID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhWydjb2RlJ107XG4gICAgdGhpcy5wYXJhbSA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YVsncGFyYW0nXTtcbiAgICB0aGlzLnR5cGUgPSBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGFbJ3R5cGUnXTtcbiAgfVxuICBzdGF0aWMgbWFrZU1lc3NhZ2UoZXJyb3IsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgKFxuICAgICAgICBlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZVxuICAgICAgKSA/XG4gICAgICAgIHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSAnc3RyaW5nJyA/IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgOiBKU09OLnN0cmluZ2lmeShlcnJvci5tZXNzYWdlKVxuICAgICAgOiBlcnJvciA/IEpTT04uc3RyaW5naWZ5KGVycm9yKVxuICAgICAgOiBtZXNzYWdlIHx8ICdVbmtub3duIGVycm9yIG9jY3VycmVkJ1xuICAgICk7XG4gIH1cbiAgc3RhdGljIGdlbmVyYXRlKHN0YXR1cywgZXJyb3JSZXNwb25zZSwgbWVzc2FnZSwgaGVhZGVycykge1xuICAgIGlmICghc3RhdHVzKSB7XG4gICAgICByZXR1cm4gbmV3IEFQSUNvbm5lY3Rpb25FcnJvcih7IGNhdXNlOiBjYXN0VG9FcnJvcihlcnJvclJlc3BvbnNlKSB9KTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3IgPSBlcnJvclJlc3BvbnNlID09PSBudWxsIHx8IGVycm9yUmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yUmVzcG9uc2VbJ2Vycm9yJ107XG4gICAgaWYgKHN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICByZXR1cm4gbmV3IEJhZFJlcXVlc3RFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICByZXR1cm4gbmV3IEF1dGhlbnRpY2F0aW9uRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT09IDQwMykge1xuICAgICAgcmV0dXJuIG5ldyBQZXJtaXNzaW9uRGVuaWVkRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT09IDQwNCkge1xuICAgICAgcmV0dXJuIG5ldyBOb3RGb3VuZEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID09PSA0MDkpIHtcbiAgICAgIHJldHVybiBuZXcgQ29uZmxpY3RFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gNDIyKSB7XG4gICAgICByZXR1cm4gbmV3IFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gNDI5KSB7XG4gICAgICByZXR1cm4gbmV3IFJhdGVMaW1pdEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID49IDUwMCkge1xuICAgICAgcmV0dXJuIG5ldyBJbnRlcm5hbFNlcnZlckVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEFQSUVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICB9XG59XG5leHBvcnQgY2xhc3MgQVBJVXNlckFib3J0RXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9ID0ge30pIHtcbiAgICBzdXBlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWVzc2FnZSB8fCAnUmVxdWVzdCB3YXMgYWJvcnRlZC4nLCB1bmRlZmluZWQpO1xuICAgIHRoaXMuc3RhdHVzID0gdW5kZWZpbmVkO1xuICB9XG59XG5leHBvcnQgY2xhc3MgQVBJQ29ubmVjdGlvbkVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UsIGNhdXNlIH0pIHtcbiAgICBzdXBlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWVzc2FnZSB8fCAnQ29ubmVjdGlvbiBlcnJvci4nLCB1bmRlZmluZWQpO1xuICAgIHRoaXMuc3RhdHVzID0gdW5kZWZpbmVkO1xuICAgIC8vIGluIHNvbWUgZW52aXJvbm1lbnRzIHRoZSAnY2F1c2UnIHByb3BlcnR5IGlzIGFscmVhZHkgZGVjbGFyZWRcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKGNhdXNlKSB0aGlzLmNhdXNlID0gY2F1c2U7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yIGV4dGVuZHMgQVBJQ29ubmVjdGlvbkVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoeyBtZXNzYWdlOiAnUmVxdWVzdCB0aW1lZCBvdXQuJyB9KTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEJhZFJlcXVlc3RFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnN0YXR1cyA9IDQwMDtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0aW9uRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5zdGF0dXMgPSA0MDE7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uRGVuaWVkRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5zdGF0dXMgPSA0MDM7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuc3RhdHVzID0gNDA0O1xuICB9XG59XG5leHBvcnQgY2xhc3MgQ29uZmxpY3RFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnN0YXR1cyA9IDQwOTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnN0YXR1cyA9IDQyMjtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIFJhdGVMaW1pdEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuc3RhdHVzID0gNDI5O1xuICB9XG59XG5leHBvcnQgY2xhc3MgSW50ZXJuYWxTZXJ2ZXJFcnJvciBleHRlbmRzIEFQSUVycm9yIHt9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvci5tanMubWFwXG4iLCIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKlxuICogVGhpcyBpcyBhIHN0dWIgZm9yIG5vbi1ub2RlIGVudmlyb25tZW50cy5cbiAqIEluIG5vZGUgZW52aXJvbm1lbnRzLCBpdCBnZXRzIHJlcGxhY2VkIGFnZW50Lm5vZGUudHMgYnkgdGhlIHBhY2thZ2UgZXhwb3J0IG1hcFxuICovXG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdEFnZW50ID0gKHVybCkgPT4ge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFnZW50Lm1qcy5tYXBcbiIsIi8qKlxuICogRGlzY2xhaW1lcjogbW9kdWxlcyBpbiBfc2hpbXMgYXJlbid0IGludGVuZGVkIHRvIGJlIGltcG9ydGVkIGJ5IFNESyB1c2Vycy5cbiAqL1xuXG4vLyBJZiB3ZSBhY2NpZGVudGFsbHkgY2FsbCBmZXRjaCB3aXRoIHRoZSB3cm9uZyB0aGlzIGJpbmRpbmcsXG4vLyBpbiB0aGUgYnJvd3NlciBpdCB3b3VsZCB0aHJvdzpcbi8vICAgVHlwZUVycm9yOiBGYWlsZWQgdG8gZXhlY3V0ZSAnZmV0Y2gnIG9uICdXaW5kb3cnOiBJbGxlZ2FsIGludm9jYXRpb25cbmNvbnN0IF9mZXRjaCA9IGZldGNoLmJpbmQodW5kZWZpbmVkKTtcbmNvbnN0IF9SZXF1ZXN0ID0gUmVxdWVzdDtcbmNvbnN0IF9SZXNwb25zZSA9IFJlc3BvbnNlO1xuY29uc3QgX0hlYWRlcnMgPSBIZWFkZXJzO1xuXG5leHBvcnQgY29uc3QgaXNQb2x5ZmlsbGVkID0gZmFsc2U7XG5cbmV4cG9ydCB7IF9mZXRjaCBhcyBmZXRjaCwgX1JlcXVlc3QgYXMgUmVxdWVzdCwgX1Jlc3BvbnNlIGFzIFJlc3BvbnNlLCBfSGVhZGVycyBhcyBIZWFkZXJzIH07XG4iLCIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKi9cblxuY29uc3QgX0Zvcm1EYXRhID0gRm9ybURhdGE7XG5jb25zdCBfQmxvYiA9IEJsb2I7XG5cbmNvbnN0IF9GaWxlID1cbiAgdHlwZW9mIEZpbGUgIT09ICd1bmRlZmluZWQnID8gRmlsZSA6IChcbiAgICAvLyBCdW4gZG9lc24ndCBpbXBsZW1lbnQgRmlsZSB5ZXQsIHNvIGp1c3QgbWFrZSBhIHNoaW0gdGhhdCB0aHJvd3MgYSBoZWxwZnVsIGVycm9yIG1lc3NhZ2VcbiAgICBjbGFzcyBGaWxlIGV4dGVuZHMgQmxvYiB7XG4gICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBmaWxlIHVwbG9hZHMgYXJlbid0IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50IHlldCBhcyAnRmlsZScgaXMgbm90IGRlZmluZWRgKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG5cbmV4cG9ydCB7IF9Gb3JtRGF0YSBhcyBGb3JtRGF0YSwgX0ZpbGUgYXMgRmlsZSwgX0Jsb2IgYXMgQmxvYiB9O1xuXG5leHBvcnQgY29uc3QgaXNQb2x5ZmlsbGVkID0gZmFsc2U7XG4iLCIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKi9cbmltcG9ydCB7IE11bHRpcGFydEJvZHkgfSBmcm9tICcuLi91cGxvYWRzLm1qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMoZm9ybSwgb3B0cykge1xuICByZXR1cm4geyAuLi5vcHRzLCBib2R5OiBuZXcgTXVsdGlwYXJ0Qm9keShmb3JtKSB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMubWpzLm1hcFxuIiwiLyoqXG4gKiBEaXNjbGFpbWVyOiBtb2R1bGVzIGluIF9zaGltcyBhcmVuJ3QgaW50ZW5kZWQgdG8gYmUgaW1wb3J0ZWQgYnkgU0RLIHVzZXJzLlxuICpcbiAqIFRoaXMgaXMgYSBzdHViIHRoYXQgZ2V0cyByZXBsYWNlZCBieSBmaWxlRnJvbVBhdGgubm9kZS5qcyBmb3Igbm9kZSBlbnZpcm9ubWVudHNcbiAqIGluIHRoZSBwYWNrYWdlIGV4cG9ydCBtYXBcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbGVGcm9tUGF0aCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICdUaGUgYGZpbGVGcm9tUGF0aGAgZnVuY3Rpb24gaXMgb25seSBzdXBwb3J0ZWQgaW4gTm9kZS4gU2VlIHRoZSBSRUFETUUgZm9yIG1vcmUgZGV0YWlsczogaHR0cHM6Ly93d3cuZ2l0aHViLmNvbS9vcGVuYWkvb3BlbmFpLW5vZGUjZmlsZS11cGxvYWRzJyxcbiAgKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGVGcm9tUGF0aC5tanMubWFwXG4iLCIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ZzUmVhZFN0cmVhbSh2YWx1ZSkge1xuICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub2RlLXJlYWRhYmxlLm1qcy5tYXBcbiIsImltcG9ydCB7IEZvcm1EYXRhLCBGaWxlIH0gZnJvbSAnb3BlbmFpL19zaGltcy9mb3JtZGF0YSc7XG5pbXBvcnQgeyBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJ29wZW5haS9fc2hpbXMvZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMnO1xuaW1wb3J0IHsgZmlsZUZyb21QYXRoIH0gZnJvbSAnb3BlbmFpL19zaGltcy9maWxlRnJvbVBhdGgnO1xuaW1wb3J0IHsgaXNGc1JlYWRTdHJlYW0gfSBmcm9tICdvcGVuYWkvX3NoaW1zL25vZGUtcmVhZGFibGUnO1xuZXhwb3J0IHsgZmlsZUZyb21QYXRoIH07XG5leHBvcnQgY29uc3QgaXNSZXNwb25zZUxpa2UgPSAodmFsdWUpID0+XG4gIHZhbHVlICE9IG51bGwgJiZcbiAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICB0eXBlb2YgdmFsdWUudXJsID09PSAnc3RyaW5nJyAmJlxuICB0eXBlb2YgdmFsdWUuYmxvYiA9PT0gJ2Z1bmN0aW9uJztcbmV4cG9ydCBjb25zdCBpc0ZpbGVMaWtlID0gKHZhbHVlKSA9PlxuICB2YWx1ZSAhPSBudWxsICYmXG4gIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgdHlwZW9mIHZhbHVlLm5hbWUgPT09ICdzdHJpbmcnICYmXG4gIHR5cGVvZiB2YWx1ZS5sYXN0TW9kaWZpZWQgPT09ICdudW1iZXInICYmXG4gIGlzQmxvYkxpa2UodmFsdWUpO1xuLyoqXG4gKiBUaGUgQmxvYkxpa2UgdHlwZSBvbWl0cyBhcnJheUJ1ZmZlcigpIGJlY2F1c2UgQHR5cGVzL25vZGUtZmV0Y2hAXjIuNi40IGxhY2tzIGl0OyBidXQgdGhpcyBjaGVja1xuICogYWRkcyB0aGUgYXJyYXlCdWZmZXIoKSBtZXRob2QgdHlwZSBiZWNhdXNlIGl0IGlzIGF2YWlsYWJsZSBhbmQgdXNlZCBhdCBydW50aW1lXG4gKi9cbmV4cG9ydCBjb25zdCBpc0Jsb2JMaWtlID0gKHZhbHVlKSA9PlxuICB2YWx1ZSAhPSBudWxsICYmXG4gIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgdHlwZW9mIHZhbHVlLnNpemUgPT09ICdudW1iZXInICYmXG4gIHR5cGVvZiB2YWx1ZS50eXBlID09PSAnc3RyaW5nJyAmJlxuICB0eXBlb2YgdmFsdWUudGV4dCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICB0eXBlb2YgdmFsdWUuc2xpY2UgPT09ICdmdW5jdGlvbicgJiZcbiAgdHlwZW9mIHZhbHVlLmFycmF5QnVmZmVyID09PSAnZnVuY3Rpb24nO1xuZXhwb3J0IGNvbnN0IGlzVXBsb2FkYWJsZSA9ICh2YWx1ZSkgPT4ge1xuICByZXR1cm4gaXNGaWxlTGlrZSh2YWx1ZSkgfHwgaXNSZXNwb25zZUxpa2UodmFsdWUpIHx8IGlzRnNSZWFkU3RyZWFtKHZhbHVlKTtcbn07XG4vKipcbiAqIEhlbHBlciBmb3IgY3JlYXRpbmcgYSB7QGxpbmsgRmlsZX0gdG8gcGFzcyB0byBhbiBTREsgdXBsb2FkIG1ldGhvZCBmcm9tIGEgdmFyaWV0eSBvZiBkaWZmZXJlbnQgZGF0YSBmb3JtYXRzXG4gKiBAcGFyYW0gdmFsdWUgdGhlIHJhdyBjb250ZW50IG9mIHRoZSBmaWxlLiAgQ2FuIGJlIGFuIHtAbGluayBVcGxvYWRhYmxlfSwge0BsaW5rIEJsb2JMaWtlUGFydH0sIG9yIHtAbGluayBBc3luY0l0ZXJhYmxlfSBvZiB7QGxpbmsgQmxvYkxpa2VQYXJ0fXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgZmlsZS4gSWYgb21pdHRlZCwgdG9GaWxlIHdpbGwgdHJ5IHRvIGRldGVybWluZSBhIGZpbGUgbmFtZSBmcm9tIGJpdHMgaWYgcG9zc2libGVcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBhZGRpdGlvbmFsIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0aW9ucy50eXBlIHRoZSBNSU1FIHR5cGUgb2YgdGhlIGNvbnRlbnRcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0aW9ucy5sYXN0TW9kaWZpZWQgdGhlIGxhc3QgbW9kaWZpZWQgdGltZXN0YW1wXG4gKiBAcmV0dXJucyBhIHtAbGluayBGaWxlfSB3aXRoIHRoZSBnaXZlbiBwcm9wZXJ0aWVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b0ZpbGUodmFsdWUsIG5hbWUsIG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgLy8gSWYgaXQncyBhIHByb21pc2UsIHJlc29sdmUgaXQuXG4gIHZhbHVlID0gYXdhaXQgdmFsdWU7XG4gIGlmIChpc1Jlc3BvbnNlTGlrZSh2YWx1ZSkpIHtcbiAgICBjb25zdCBibG9iID0gYXdhaXQgdmFsdWUuYmxvYigpO1xuICAgIG5hbWUgfHxcbiAgICAgIChuYW1lID1cbiAgICAgICAgKF9hID0gbmV3IFVSTCh2YWx1ZS51cmwpLnBhdGhuYW1lLnNwbGl0KC9bXFxcXC9dLykucG9wKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgP1xuICAgICAgICAgIF9hXG4gICAgICAgIDogJ3Vua25vd25fZmlsZScpO1xuICAgIHJldHVybiBuZXcgRmlsZShbYmxvYl0sIG5hbWUsIG9wdGlvbnMpO1xuICB9XG4gIGNvbnN0IGJpdHMgPSBhd2FpdCBnZXRCeXRlcyh2YWx1ZSk7XG4gIG5hbWUgfHwgKG5hbWUgPSAoX2IgPSBnZXROYW1lKHZhbHVlKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ3Vua25vd25fZmlsZScpO1xuICBpZiAoIW9wdGlvbnMudHlwZSkge1xuICAgIGNvbnN0IHR5cGUgPSAoX2MgPSBiaXRzWzBdKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudHlwZTtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHRpb25zID0geyAuLi5vcHRpb25zLCB0eXBlIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgRmlsZShiaXRzLCBuYW1lLCBvcHRpb25zKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEJ5dGVzKHZhbHVlKSB7XG4gIHZhciBfYTtcbiAgbGV0IHBhcnRzID0gW107XG4gIGlmIChcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSB8fCAvLyBpbmNsdWRlcyBVaW50OEFycmF5LCBCdWZmZXIsIGV0Yy5cbiAgICB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyXG4gICkge1xuICAgIHBhcnRzLnB1c2godmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzQmxvYkxpa2UodmFsdWUpKSB7XG4gICAgcGFydHMucHVzaChhd2FpdCB2YWx1ZS5hcnJheUJ1ZmZlcigpKTtcbiAgfSBlbHNlIGlmIChcbiAgICBpc0FzeW5jSXRlcmFibGVJdGVyYXRvcih2YWx1ZSkgLy8gaW5jbHVkZXMgUmVhZGFibGUsIFJlYWRhYmxlU3RyZWFtLCBldGMuXG4gICkge1xuICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgdmFsdWUpIHtcbiAgICAgIHBhcnRzLnB1c2goY2h1bmspOyAvLyBUT0RPLCBjb25zaWRlciB2YWxpZGF0aW5nP1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgVW5leHBlY3RlZCBkYXRhIHR5cGU6ICR7dHlwZW9mIHZhbHVlfTsgY29uc3RydWN0b3I6ICR7XG4gICAgICAgIChfYSA9IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS5jb25zdHJ1Y3RvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/XG4gICAgICAgICAgdm9pZCAwXG4gICAgICAgIDogX2EubmFtZVxuICAgICAgfTsgcHJvcHM6ICR7cHJvcHNGb3JFcnJvcih2YWx1ZSl9YCxcbiAgICApO1xuICB9XG4gIHJldHVybiBwYXJ0cztcbn1cbmZ1bmN0aW9uIHByb3BzRm9yRXJyb3IodmFsdWUpIHtcbiAgY29uc3QgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIHJldHVybiBgWyR7cHJvcHMubWFwKChwKSA9PiBgXCIke3B9XCJgKS5qb2luKCcsICcpfV1gO1xufVxuZnVuY3Rpb24gZ2V0TmFtZSh2YWx1ZSkge1xuICB2YXIgX2E7XG4gIHJldHVybiAoXG4gICAgZ2V0U3RyaW5nRnJvbU1heWJlQnVmZmVyKHZhbHVlLm5hbWUpIHx8XG4gICAgZ2V0U3RyaW5nRnJvbU1heWJlQnVmZmVyKHZhbHVlLmZpbGVuYW1lKSB8fFxuICAgIC8vIEZvciBmcy5SZWFkU3RyZWFtXG4gICAgKChfYSA9IGdldFN0cmluZ0Zyb21NYXliZUJ1ZmZlcih2YWx1ZS5wYXRoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KC9bXFxcXC9dLykucG9wKCkpXG4gICk7XG59XG5jb25zdCBnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIgPSAoeCkgPT4ge1xuICBpZiAodHlwZW9mIHggPT09ICdzdHJpbmcnKSByZXR1cm4geDtcbiAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHggaW5zdGFuY2VvZiBCdWZmZXIpIHJldHVybiBTdHJpbmcoeCk7XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuY29uc3QgaXNBc3luY0l0ZXJhYmxlSXRlcmF0b3IgPSAodmFsdWUpID0+XG4gIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xuZXhwb3J0IGNsYXNzIE11bHRpcGFydEJvZHkge1xuICBjb25zdHJ1Y3Rvcihib2R5KSB7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgfVxuICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgcmV0dXJuICdNdWx0aXBhcnRCb2R5JztcbiAgfVxufVxuZXhwb3J0IGNvbnN0IGlzTXVsdGlwYXJ0Qm9keSA9IChib2R5KSA9PlxuICBib2R5ICYmIHR5cGVvZiBib2R5ID09PSAnb2JqZWN0JyAmJiBib2R5LmJvZHkgJiYgYm9keVtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTXVsdGlwYXJ0Qm9keSc7XG4vKipcbiAqIFJldHVybnMgYSBtdWx0aXBhcnQvZm9ybS1kYXRhIHJlcXVlc3QgaWYgYW55IHBhcnQgb2YgdGhlIGdpdmVuIHJlcXVlc3QgYm9keSBjb250YWlucyBhIEZpbGUgLyBCbG9iIHZhbHVlLlxuICogT3RoZXJ3aXNlIHJldHVybnMgdGhlIHJlcXVlc3QgYXMgaXMuXG4gKi9cbmV4cG9ydCBjb25zdCBtYXliZU11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyA9IGFzeW5jIChvcHRzKSA9PiB7XG4gIGlmICghaGFzVXBsb2FkYWJsZVZhbHVlKG9wdHMuYm9keSkpIHJldHVybiBvcHRzO1xuICBjb25zdCBmb3JtID0gYXdhaXQgY3JlYXRlRm9ybShvcHRzLmJvZHkpO1xuICByZXR1cm4gZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMoZm9ybSwgb3B0cyk7XG59O1xuZXhwb3J0IGNvbnN0IG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyA9IGFzeW5jIChvcHRzKSA9PiB7XG4gIGNvbnN0IGZvcm0gPSBhd2FpdCBjcmVhdGVGb3JtKG9wdHMuYm9keSk7XG4gIHJldHVybiBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyhmb3JtLCBvcHRzKTtcbn07XG5leHBvcnQgY29uc3QgY3JlYXRlRm9ybSA9IGFzeW5jIChib2R5KSA9PiB7XG4gIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoT2JqZWN0LmVudHJpZXMoYm9keSB8fCB7fSkubWFwKChba2V5LCB2YWx1ZV0pID0+IGFkZEZvcm1WYWx1ZShmb3JtLCBrZXksIHZhbHVlKSkpO1xuICByZXR1cm4gZm9ybTtcbn07XG5jb25zdCBoYXNVcGxvYWRhYmxlVmFsdWUgPSAodmFsdWUpID0+IHtcbiAgaWYgKGlzVXBsb2FkYWJsZSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZS5zb21lKGhhc1VwbG9hZGFibGVWYWx1ZSk7XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgZm9yIChjb25zdCBrIGluIHZhbHVlKSB7XG4gICAgICBpZiAoaGFzVXBsb2FkYWJsZVZhbHVlKHZhbHVlW2tdKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBhZGRGb3JtVmFsdWUgPSBhc3luYyAoZm9ybSwga2V5LCB2YWx1ZSkgPT4ge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICBgUmVjZWl2ZWQgbnVsbCBmb3IgXCIke2tleX1cIjsgdG8gcGFzcyBudWxsIGluIEZvcm1EYXRhLCB5b3UgbXVzdCB1c2UgdGhlIHN0cmluZyAnbnVsbCdgLFxuICAgICk7XG4gIH1cbiAgLy8gVE9ETzogbWFrZSBuZXN0ZWQgZm9ybWF0cyBjb25maWd1cmFibGVcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgIGZvcm0uYXBwZW5kKGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gIH0gZWxzZSBpZiAoaXNVcGxvYWRhYmxlKHZhbHVlKSkge1xuICAgIGNvbnN0IGZpbGUgPSBhd2FpdCB0b0ZpbGUodmFsdWUpO1xuICAgIGZvcm0uYXBwZW5kKGtleSwgZmlsZSk7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbCh2YWx1ZS5tYXAoKGVudHJ5KSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwga2V5ICsgJ1tdJywgZW50cnkpKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcCgoW25hbWUsIHByb3BdKSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwgYCR7a2V5fVske25hbWV9XWAsIHByb3ApKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICBgSW52YWxpZCB2YWx1ZSBnaXZlbiB0byBmb3JtLCBleHBlY3RlZCBhIHN0cmluZywgbnVtYmVyLCBib29sZWFuLCBvYmplY3QsIEFycmF5LCBGaWxlIG9yIEJsb2IgYnV0IGdvdCAke3ZhbHVlfSBpbnN0ZWFkYCxcbiAgICApO1xuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBsb2Fkcy5tanMubWFwXG4iLCJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZFNldCA9XG4gICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldCkgfHxcbiAgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gJ20nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGUnKTtcbiAgICBpZiAoa2luZCA9PT0gJ2EnICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXInKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSAnZnVuY3Rpb24nID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdCcpO1xuICAgIHJldHVybiAoXG4gICAgICBraW5kID09PSAnYScgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKVxuICAgICAgOiBmID8gKGYudmFsdWUgPSB2YWx1ZSlcbiAgICAgIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSksXG4gICAgICB2YWx1ZVxuICAgICk7XG4gIH07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9XG4gICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHxcbiAgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSAnYScgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlcicpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09ICdmdW5jdGlvbicgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSlcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdCcpO1xuICAgIHJldHVybiAoXG4gICAgICBraW5kID09PSAnbScgPyBmXG4gICAgICA6IGtpbmQgPT09ICdhJyA/IGYuY2FsbChyZWNlaXZlcilcbiAgICAgIDogZiA/IGYudmFsdWVcbiAgICAgIDogc3RhdGUuZ2V0KHJlY2VpdmVyKVxuICAgICk7XG4gIH07XG52YXIgX0Fic3RyYWN0UGFnZV9jbGllbnQ7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi92ZXJzaW9uLm1qcyc7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tICcuL3N0cmVhbWluZy5tanMnO1xuaW1wb3J0IHsgQVBJRXJyb3IsIEFQSUNvbm5lY3Rpb25FcnJvciwgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciwgQVBJVXNlckFib3J0RXJyb3IgfSBmcm9tICcuL2Vycm9yLm1qcyc7XG5pbXBvcnQgeyBnZXREZWZhdWx0QWdlbnQgfSBmcm9tICdvcGVuYWkvX3NoaW1zL2FnZW50JztcbmltcG9ydCB7IGZldGNoLCBpc1BvbHlmaWxsZWQgYXMgZmV0Y2hJc1BvbHlmaWxsZWQgfSBmcm9tICdvcGVuYWkvX3NoaW1zL2ZldGNoJztcbmltcG9ydCB7IGlzTXVsdGlwYXJ0Qm9keSB9IGZyb20gJy4vdXBsb2Fkcy5tanMnO1xuZXhwb3J0IHsgbWF5YmVNdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucywgY3JlYXRlRm9ybSB9IGZyb20gJy4vdXBsb2Fkcy5tanMnO1xuY29uc3QgTUFYX1JFVFJJRVMgPSAyO1xuYXN5bmMgZnVuY3Rpb24gZGVmYXVsdFBhcnNlUmVzcG9uc2UocHJvcHMpIHtcbiAgY29uc3QgeyByZXNwb25zZSB9ID0gcHJvcHM7XG4gIGlmIChwcm9wcy5vcHRpb25zLnN0cmVhbSkge1xuICAgIC8vIE5vdGU6IHRoZXJlIGlzIGFuIGludmFyaWFudCBoZXJlIHRoYXQgaXNuJ3QgcmVwcmVzZW50ZWQgaW4gdGhlIHR5cGUgc3lzdGVtXG4gICAgLy8gdGhhdCBpZiB5b3Ugc2V0IGBzdHJlYW06IHRydWVgIHRoZSByZXNwb25zZSB0eXBlIG11c3QgYWxzbyBiZSBgU3RyZWFtPFQ+YFxuICAgIHJldHVybiBuZXcgU3RyZWFtKHJlc3BvbnNlLCBwcm9wcy5jb250cm9sbGVyKTtcbiAgfVxuICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgaWYgKGNvbnRlbnRUeXBlID09PSBudWxsIHx8IGNvbnRlbnRUeXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250ZW50VHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBkZWJ1ZygncmVzcG9uc2UnLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnVybCwgcmVzcG9uc2UuaGVhZGVycywganNvbik7XG4gICAgcmV0dXJuIGpzb247XG4gIH1cbiAgLy8gVE9ETyBoYW5kbGUgYmxvYiwgYXJyYXlidWZmZXIsIG90aGVyIGNvbnRlbnQgdHlwZXMsIGV0Yy5cbiAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgZGVidWcoJ3Jlc3BvbnNlJywgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS51cmwsIHJlc3BvbnNlLmhlYWRlcnMsIHRleHQpO1xuICByZXR1cm4gdGV4dDtcbn1cbi8qKlxuICogQSBzdWJjbGFzcyBvZiBgUHJvbWlzZWAgcHJvdmlkaW5nIGFkZGl0aW9uYWwgaGVscGVyIG1ldGhvZHNcbiAqIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBTREsuXG4gKi9cbmV4cG9ydCBjbGFzcyBBUElQcm9taXNlIGV4dGVuZHMgUHJvbWlzZSB7XG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlUHJvbWlzZSwgcGFyc2VSZXNwb25zZSA9IGRlZmF1bHRQYXJzZVJlc3BvbnNlKSB7XG4gICAgc3VwZXIoKHJlc29sdmUpID0+IHtcbiAgICAgIC8vIHRoaXMgaXMgbWF5YmUgYSBiaXQgd2VpcmQgYnV0IHRoaXMgaGFzIHRvIGJlIGEgbm8tb3AgdG8gbm90IGltcGxpY2l0bHlcbiAgICAgIC8vIHBhcnNlIHRoZSByZXNwb25zZSBib2R5OyBpbnN0ZWFkIC50aGVuLCAuY2F0Y2gsIC5maW5hbGx5IGFyZSBvdmVycmlkZGVuXG4gICAgICAvLyB0byBwYXJzZSB0aGUgcmVzcG9uc2VcbiAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgfSk7XG4gICAgdGhpcy5yZXNwb25zZVByb21pc2UgPSByZXNwb25zZVByb21pc2U7XG4gICAgdGhpcy5wYXJzZVJlc3BvbnNlID0gcGFyc2VSZXNwb25zZTtcbiAgfVxuICBfdGhlblVud3JhcCh0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gbmV3IEFQSVByb21pc2UodGhpcy5yZXNwb25zZVByb21pc2UsIGFzeW5jIChwcm9wcykgPT4gdHJhbnNmb3JtKGF3YWl0IHRoaXMucGFyc2VSZXNwb25zZShwcm9wcykpKTtcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2UgaW5zdGVhZCBvZiBwYXJzaW5nIHRoZSByZXNwb25zZVxuICAgKiBkYXRhLlxuICAgKlxuICAgKiBJZiB5b3Ugd2FudCB0byBwYXJzZSB0aGUgcmVzcG9uc2UgYm9keSBidXQgc3RpbGwgZ2V0IHRoZSBgUmVzcG9uc2VgXG4gICAqIGluc3RhbmNlLCB5b3UgY2FuIHVzZSB7QGxpbmsgd2l0aFJlc3BvbnNlKCl9LlxuICAgKi9cbiAgYXNSZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZVByb21pc2UudGhlbigocCkgPT4gcC5yZXNwb25zZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIHBhcnNlZCByZXNwb25zZSBkYXRhIGFuZCB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2UuXG4gICAqXG4gICAqIElmIHlvdSBqdXN0IHdhbnQgdG8gZ2V0IHRoZSByYXcgYFJlc3BvbnNlYCBpbnN0YW5jZSB3aXRob3V0IHBhcnNpbmcgaXQsXG4gICAqIHlvdSBjYW4gdXNlIHtAbGluayBhc1Jlc3BvbnNlKCl9LlxuICAgKi9cbiAgYXN5bmMgd2l0aFJlc3BvbnNlKCkge1xuICAgIGNvbnN0IFtkYXRhLCByZXNwb25zZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wYXJzZSgpLCB0aGlzLmFzUmVzcG9uc2UoKV0pO1xuICAgIHJldHVybiB7IGRhdGEsIHJlc3BvbnNlIH07XG4gIH1cbiAgcGFyc2UoKSB7XG4gICAgaWYgKCF0aGlzLnBhcnNlZFByb21pc2UpIHtcbiAgICAgIHRoaXMucGFyc2VkUHJvbWlzZSA9IHRoaXMucmVzcG9uc2VQcm9taXNlLnRoZW4odGhpcy5wYXJzZVJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucGFyc2VkUHJvbWlzZTtcbiAgfVxuICB0aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyc2UoKS50aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKTtcbiAgfVxuICBjYXRjaChvbnJlamVjdGVkKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyc2UoKS5jYXRjaChvbnJlamVjdGVkKTtcbiAgfVxuICBmaW5hbGx5KG9uZmluYWxseSkge1xuICAgIHJldHVybiB0aGlzLnBhcnNlKCkuZmluYWxseShvbmZpbmFsbHkpO1xuICB9XG59XG5leHBvcnQgY2xhc3MgQVBJQ2xpZW50IHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGJhc2VVUkwsXG4gICAgbWF4UmV0cmllcyxcbiAgICB0aW1lb3V0ID0gNjAwMDAwLCAvLyAxMCBtaW51dGVzXG4gICAgaHR0cEFnZW50LFxuICAgIGZldGNoOiBvdmVycmlkZW5GZXRjaCxcbiAgfSkge1xuICAgIHRoaXMuYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgdGhpcy5tYXhSZXRyaWVzID0gdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoXG4gICAgICAnbWF4UmV0cmllcycsXG4gICAgICBtYXhSZXRyaWVzICE9PSBudWxsICYmIG1heFJldHJpZXMgIT09IHZvaWQgMCA/IG1heFJldHJpZXMgOiBNQVhfUkVUUklFUyxcbiAgICApO1xuICAgIHRoaXMudGltZW91dCA9IHZhbGlkYXRlUG9zaXRpdmVJbnRlZ2VyKCd0aW1lb3V0JywgdGltZW91dCk7XG4gICAgdGhpcy5odHRwQWdlbnQgPSBodHRwQWdlbnQ7XG4gICAgdGhpcy5mZXRjaCA9IG92ZXJyaWRlbkZldGNoICE9PSBudWxsICYmIG92ZXJyaWRlbkZldGNoICE9PSB2b2lkIDAgPyBvdmVycmlkZW5GZXRjaCA6IGZldGNoO1xuICB9XG4gIGF1dGhIZWFkZXJzKG9wdHMpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoaXMgdG8gYWRkIHlvdXIgb3duIGRlZmF1bHQgaGVhZGVycywgZm9yIGV4YW1wbGU6XG4gICAqXG4gICAqICB7XG4gICAqICAgIC4uLnN1cGVyLmRlZmF1bHRIZWFkZXJzKCksXG4gICAqICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgMTIzJyxcbiAgICogIH1cbiAgICovXG4gIGRlZmF1bHRIZWFkZXJzKG9wdHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgJ1VzZXItQWdlbnQnOiB0aGlzLmdldFVzZXJBZ2VudCgpLFxuICAgICAgLi4uZ2V0UGxhdGZvcm1IZWFkZXJzKCksXG4gICAgICAuLi50aGlzLmF1dGhIZWFkZXJzKG9wdHMpLFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoaXMgdG8gYWRkIHlvdXIgb3duIGhlYWRlcnMgdmFsaWRhdGlvbjpcbiAgICovXG4gIHZhbGlkYXRlSGVhZGVycyhoZWFkZXJzLCBjdXN0b21IZWFkZXJzKSB7fVxuICBkZWZhdWx0SWRlbXBvdGVuY3lLZXkoKSB7XG4gICAgcmV0dXJuIGBzdGFpbmxlc3Mtbm9kZS1yZXRyeS0ke3V1aWQ0KCl9YDtcbiAgfVxuICBnZXQocGF0aCwgb3B0cykge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ2dldCcsIHBhdGgsIG9wdHMpO1xuICB9XG4gIHBvc3QocGF0aCwgb3B0cykge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ3Bvc3QnLCBwYXRoLCBvcHRzKTtcbiAgfVxuICBwYXRjaChwYXRoLCBvcHRzKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgncGF0Y2gnLCBwYXRoLCBvcHRzKTtcbiAgfVxuICBwdXQocGF0aCwgb3B0cykge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ3B1dCcsIHBhdGgsIG9wdHMpO1xuICB9XG4gIGRlbGV0ZShwYXRoLCBvcHRzKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgnZGVsZXRlJywgcGF0aCwgb3B0cyk7XG4gIH1cbiAgbWV0aG9kUmVxdWVzdChtZXRob2QsIHBhdGgsIG9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFByb21pc2UucmVzb2x2ZShvcHRzKS50aGVuKChvcHRzKSA9PiAoeyBtZXRob2QsIHBhdGgsIC4uLm9wdHMgfSkpKTtcbiAgfVxuICBnZXRBUElMaXN0KHBhdGgsIFBhZ2UsIG9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0QVBJTGlzdChQYWdlLCB7IG1ldGhvZDogJ2dldCcsIHBhdGgsIC4uLm9wdHMgfSk7XG4gIH1cbiAgY2FsY3VsYXRlQ29udGVudExlbmd0aChib2R5KSB7XG4gICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBCdWZmZXIuYnl0ZUxlbmd0aChib2R5LCAndXRmOCcpLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIFRleHRFbmNvZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgIGNvbnN0IGVuY29kZWQgPSBlbmNvZGVyLmVuY29kZShib2R5KTtcbiAgICAgICAgcmV0dXJuIGVuY29kZWQubGVuZ3RoLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGJ1aWxkUmVxdWVzdChvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgY29uc3QgeyBtZXRob2QsIHBhdGgsIHF1ZXJ5LCBoZWFkZXJzOiBoZWFkZXJzID0ge30gfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgYm9keSA9XG4gICAgICBpc011bHRpcGFydEJvZHkob3B0aW9ucy5ib2R5KSA/IG9wdGlvbnMuYm9keS5ib2R5XG4gICAgICA6IG9wdGlvbnMuYm9keSA/IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYm9keSwgbnVsbCwgMilcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5jYWxjdWxhdGVDb250ZW50TGVuZ3RoKGJvZHkpO1xuICAgIGNvbnN0IHVybCA9IHRoaXMuYnVpbGRVUkwocGF0aCwgcXVlcnkpO1xuICAgIGlmICgndGltZW91dCcgaW4gb3B0aW9ucykgdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ3RpbWVvdXQnLCBvcHRpb25zLnRpbWVvdXQpO1xuICAgIGNvbnN0IHRpbWVvdXQgPSAoX2EgPSBvcHRpb25zLnRpbWVvdXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMudGltZW91dDtcbiAgICBjb25zdCBodHRwQWdlbnQgPVxuICAgICAgKFxuICAgICAgICAoX2MgPSAoX2IgPSBvcHRpb25zLmh0dHBBZ2VudCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5odHRwQWdlbnQpICE9PSBudWxsICYmXG4gICAgICAgIF9jICE9PSB2b2lkIDBcbiAgICAgICkgP1xuICAgICAgICBfY1xuICAgICAgOiBnZXREZWZhdWx0QWdlbnQodXJsKTtcbiAgICBjb25zdCBtaW5BZ2VudFRpbWVvdXQgPSB0aW1lb3V0ICsgMTAwMDtcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgKChcbiAgICAgICAgKF9kID0gaHR0cEFnZW50ID09PSBudWxsIHx8IGh0dHBBZ2VudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaHR0cEFnZW50Lm9wdGlvbnMpID09PSBudWxsIHx8XG4gICAgICAgIF9kID09PSB2b2lkIDBcbiAgICAgICkgP1xuICAgICAgICB2b2lkIDBcbiAgICAgIDogX2QudGltZW91dCkgPT09ICdudW1iZXInICYmXG4gICAgICBtaW5BZ2VudFRpbWVvdXQgPiAoKF9lID0gaHR0cEFnZW50Lm9wdGlvbnMudGltZW91dCkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogMClcbiAgICApIHtcbiAgICAgIC8vIEFsbG93IGFueSBnaXZlbiByZXF1ZXN0IHRvIGJ1bXAgb3VyIGFnZW50IGFjdGl2ZSBzb2NrZXQgdGltZW91dC5cbiAgICAgIC8vIFRoaXMgbWF5IHNlZW0gc3RyYW5nZSwgYnV0IGxlYWtpbmcgYWN0aXZlIHNvY2tldHMgc2hvdWxkIGJlIHJhcmUgYW5kIG5vdCBwYXJ0aWN1bGFybHkgcHJvYmxlbWF0aWMsXG4gICAgICAvLyBhbmQgd2l0aG91dCBtdXRhdGluZyBhZ2VudCB3ZSB3b3VsZCBuZWVkIHRvIGNyZWF0ZSBtb3JlIG9mIHRoZW0uXG4gICAgICAvLyBUaGlzIHRyYWRlb2ZmIG9wdGltaXplcyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICBodHRwQWdlbnQub3B0aW9ucy50aW1lb3V0ID0gbWluQWdlbnRUaW1lb3V0O1xuICAgIH1cbiAgICBpZiAodGhpcy5pZGVtcG90ZW5jeUhlYWRlciAmJiBtZXRob2QgIT09ICdnZXQnKSB7XG4gICAgICBpZiAoIW9wdGlvbnMuaWRlbXBvdGVuY3lLZXkpIG9wdGlvbnMuaWRlbXBvdGVuY3lLZXkgPSB0aGlzLmRlZmF1bHRJZGVtcG90ZW5jeUtleSgpO1xuICAgICAgaGVhZGVyc1t0aGlzLmlkZW1wb3RlbmN5SGVhZGVyXSA9IG9wdGlvbnMuaWRlbXBvdGVuY3lLZXk7XG4gICAgfVxuICAgIGNvbnN0IHJlcUhlYWRlcnMgPSB7XG4gICAgICAuLi4oY29udGVudExlbmd0aCAmJiB7ICdDb250ZW50LUxlbmd0aCc6IGNvbnRlbnRMZW5ndGggfSksXG4gICAgICAuLi50aGlzLmRlZmF1bHRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgLi4uaGVhZGVycyxcbiAgICB9O1xuICAgIC8vIGxldCBidWlsdGluIGZldGNoIHNldCB0aGUgQ29udGVudC1UeXBlIGZvciBtdWx0aXBhcnQgYm9kaWVzXG4gICAgaWYgKGlzTXVsdGlwYXJ0Qm9keShvcHRpb25zLmJvZHkpICYmICFmZXRjaElzUG9seWZpbGxlZCkge1xuICAgICAgZGVsZXRlIHJlcUhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddO1xuICAgIH1cbiAgICAvLyBTdHJpcCBhbnkgaGVhZGVycyBiZWluZyBleHBsaWNpdGx5IG9taXR0ZWQgd2l0aCBudWxsXG4gICAgT2JqZWN0LmtleXMocmVxSGVhZGVycykuZm9yRWFjaCgoa2V5KSA9PiByZXFIZWFkZXJzW2tleV0gPT09IG51bGwgJiYgZGVsZXRlIHJlcUhlYWRlcnNba2V5XSk7XG4gICAgY29uc3QgcmVxID0ge1xuICAgICAgbWV0aG9kLFxuICAgICAgLi4uKGJvZHkgJiYgeyBib2R5OiBib2R5IH0pLFxuICAgICAgaGVhZGVyczogcmVxSGVhZGVycyxcbiAgICAgIC4uLihodHRwQWdlbnQgJiYgeyBhZ2VudDogaHR0cEFnZW50IH0pLFxuICAgICAgLy8gQHRzLWlnbm9yZSBub2RlLWZldGNoIHVzZXMgYSBjdXN0b20gQWJvcnRTaWduYWwgdHlwZSB0aGF0IGlzXG4gICAgICAvLyBub3QgY29tcGF0aWJsZSB3aXRoIHN0YW5kYXJkIHdlYiB0eXBlc1xuICAgICAgc2lnbmFsOiAoX2YgPSBvcHRpb25zLnNpZ25hbCkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogbnVsbCxcbiAgICB9O1xuICAgIHRoaXMudmFsaWRhdGVIZWFkZXJzKHJlcUhlYWRlcnMsIGhlYWRlcnMpO1xuICAgIHJldHVybiB7IHJlcSwgdXJsLCB0aW1lb3V0IH07XG4gIH1cbiAgLyoqXG4gICAqIFVzZWQgYXMgYSBjYWxsYmFjayBmb3IgbXV0YXRpbmcgdGhlIGdpdmVuIGBSZXF1ZXN0SW5pdGAgb2JqZWN0LlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY2FzZXMgd2hlcmUgeW91IHdhbnQgdG8gYWRkIGNlcnRhaW4gaGVhZGVycyBiYXNlZCBvZmYgb2ZcbiAgICogdGhlIHJlcXVlc3QgcHJvcGVydGllcywgZS5nLiBgbWV0aG9kYCBvciBgdXJsYC5cbiAgICovXG4gIGFzeW5jIHByZXBhcmVSZXF1ZXN0KHJlcXVlc3QsIHsgdXJsLCBvcHRpb25zIH0pIHt9XG4gIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICFoZWFkZXJzID8ge31cbiAgICAgIDogU3ltYm9sLml0ZXJhdG9yIGluIGhlYWRlcnMgPyBPYmplY3QuZnJvbUVudHJpZXMoQXJyYXkuZnJvbShoZWFkZXJzKS5tYXAoKGhlYWRlcikgPT4gWy4uLmhlYWRlcl0pKVxuICAgICAgOiB7IC4uLmhlYWRlcnMgfVxuICAgICk7XG4gIH1cbiAgbWFrZVN0YXR1c0Vycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpIHtcbiAgICByZXR1cm4gQVBJRXJyb3IuZ2VuZXJhdGUoc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gIH1cbiAgcmVxdWVzdChvcHRpb25zLCByZW1haW5pbmdSZXRyaWVzID0gbnVsbCkge1xuICAgIHJldHVybiBuZXcgQVBJUHJvbWlzZSh0aGlzLm1ha2VSZXF1ZXN0KG9wdGlvbnMsIHJlbWFpbmluZ1JldHJpZXMpKTtcbiAgfVxuICBhc3luYyBtYWtlUmVxdWVzdChvcHRpb25zSW5wdXQsIHJldHJpZXNSZW1haW5pbmcpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgb3B0aW9uc0lucHV0O1xuICAgIGlmIChyZXRyaWVzUmVtYWluaW5nID09IG51bGwpIHtcbiAgICAgIHJldHJpZXNSZW1haW5pbmcgPSAoX2EgPSBvcHRpb25zLm1heFJldHJpZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMubWF4UmV0cmllcztcbiAgICB9XG4gICAgY29uc3QgeyByZXEsIHVybCwgdGltZW91dCB9ID0gdGhpcy5idWlsZFJlcXVlc3Qob3B0aW9ucyk7XG4gICAgYXdhaXQgdGhpcy5wcmVwYXJlUmVxdWVzdChyZXEsIHsgdXJsLCBvcHRpb25zIH0pO1xuICAgIGRlYnVnKCdyZXF1ZXN0JywgdXJsLCBvcHRpb25zLCByZXEuaGVhZGVycyk7XG4gICAgaWYgKChfYiA9IG9wdGlvbnMuc2lnbmFsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYWJvcnRlZCkge1xuICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoV2l0aFRpbWVvdXQodXJsLCByZXEsIHRpbWVvdXQsIGNvbnRyb2xsZXIpLmNhdGNoKGNhc3RUb0Vycm9yKTtcbiAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgaWYgKChfYyA9IG9wdGlvbnMuc2lnbmFsKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYWJvcnRlZCkge1xuICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXRyaWVzUmVtYWluaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXNwb25zZS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBBUElDb25uZWN0aW9uRXJyb3IoeyBjYXVzZTogcmVzcG9uc2UgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGNyZWF0ZVJlc3BvbnNlSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBpZiAocmV0cmllc1JlbWFpbmluZyAmJiB0aGlzLnNob3VsZFJldHJ5KHJlc3BvbnNlKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXRyeVJlcXVlc3Qob3B0aW9ucywgcmV0cmllc1JlbWFpbmluZywgcmVzcG9uc2VIZWFkZXJzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVyclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkuY2F0Y2goKCkgPT4gJ1Vua25vd24nKTtcbiAgICAgIGNvbnN0IGVyckpTT04gPSBzYWZlSlNPTihlcnJUZXh0KTtcbiAgICAgIGNvbnN0IGVyck1lc3NhZ2UgPSBlcnJKU09OID8gdW5kZWZpbmVkIDogZXJyVGV4dDtcbiAgICAgIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgdXJsLCByZXNwb25zZUhlYWRlcnMsIGVyck1lc3NhZ2UpO1xuICAgICAgY29uc3QgZXJyID0gdGhpcy5tYWtlU3RhdHVzRXJyb3IocmVzcG9uc2Uuc3RhdHVzLCBlcnJKU09OLCBlcnJNZXNzYWdlLCByZXNwb25zZUhlYWRlcnMpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4geyByZXNwb25zZSwgb3B0aW9ucywgY29udHJvbGxlciB9O1xuICB9XG4gIHJlcXVlc3RBUElMaXN0KFBhZ2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5tYWtlUmVxdWVzdChvcHRpb25zLCBudWxsKTtcbiAgICByZXR1cm4gbmV3IFBhZ2VQcm9taXNlKHRoaXMsIHJlcXVlc3QsIFBhZ2UpO1xuICB9XG4gIGJ1aWxkVVJMKHBhdGgsIHF1ZXJ5KSB7XG4gICAgY29uc3QgdXJsID1cbiAgICAgIGlzQWJzb2x1dGVVUkwocGF0aCkgP1xuICAgICAgICBuZXcgVVJMKHBhdGgpXG4gICAgICA6IG5ldyBVUkwodGhpcy5iYXNlVVJMICsgKHRoaXMuYmFzZVVSTC5lbmRzV2l0aCgnLycpICYmIHBhdGguc3RhcnRzV2l0aCgnLycpID8gcGF0aC5zbGljZSgxKSA6IHBhdGgpKTtcbiAgICBjb25zdCBkZWZhdWx0UXVlcnkgPSB0aGlzLmRlZmF1bHRRdWVyeSgpO1xuICAgIGlmICghaXNFbXB0eU9iaihkZWZhdWx0UXVlcnkpKSB7XG4gICAgICBxdWVyeSA9IHsgLi4uZGVmYXVsdFF1ZXJ5LCAuLi5xdWVyeSB9O1xuICAgIH1cbiAgICBpZiAocXVlcnkpIHtcbiAgICAgIHVybC5zZWFyY2ggPSB0aGlzLnN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICB9XG4gIHN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHF1ZXJ5KVxuICAgICAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJylcbiAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgcmV0dXJuIGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT0ke2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSl9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9PWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDYW5ub3Qgc3RyaW5naWZ5IHR5cGUgJHt0eXBlb2YgdmFsdWV9OyBFeHBlY3RlZCBzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgb3IgbnVsbC4gSWYgeW91IG5lZWQgdG8gcGFzcyBuZXN0ZWQgcXVlcnkgcGFyYW1ldGVycywgeW91IGNhbiBtYW51YWxseSBlbmNvZGUgdGhlbSwgZS5nLiB7IHF1ZXJ5OiB7ICdmb29ba2V5MV0nOiB2YWx1ZTEsICdmb29ba2V5Ml0nOiB2YWx1ZTIgfSB9LCBhbmQgcGxlYXNlIG9wZW4gYSBHaXRIdWIgaXNzdWUgcmVxdWVzdGluZyBiZXR0ZXIgc3VwcG9ydCBmb3IgeW91ciB1c2UgY2FzZS5gLFxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcmJyk7XG4gIH1cbiAgYXN5bmMgZmV0Y2hXaXRoVGltZW91dCh1cmwsIGluaXQsIG1zLCBjb250cm9sbGVyKSB7XG4gICAgY29uc3QgeyBzaWduYWwsIC4uLm9wdGlvbnMgfSA9IGluaXQgfHwge307XG4gICAgaWYgKHNpZ25hbCkgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIG1zKTtcbiAgICByZXR1cm4gdGhpcy5nZXRSZXF1ZXN0Q2xpZW50KClcbiAgICAgIC5mZXRjaCh1cmwsIHsgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCwgLi4ub3B0aW9ucyB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB9KTtcbiAgfVxuICBnZXRSZXF1ZXN0Q2xpZW50KCkge1xuICAgIHJldHVybiB7IGZldGNoOiB0aGlzLmZldGNoIH07XG4gIH1cbiAgc2hvdWxkUmV0cnkocmVzcG9uc2UpIHtcbiAgICAvLyBOb3RlIHRoaXMgaXMgbm90IGEgc3RhbmRhcmQgaGVhZGVyLlxuICAgIGNvbnN0IHNob3VsZFJldHJ5SGVhZGVyID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtc2hvdWxkLXJldHJ5Jyk7XG4gICAgLy8gSWYgdGhlIHNlcnZlciBleHBsaWNpdGx5IHNheXMgd2hldGhlciBvciBub3QgdG8gcmV0cnksIG9iZXkuXG4gICAgaWYgKHNob3VsZFJldHJ5SGVhZGVyID09PSAndHJ1ZScpIHJldHVybiB0cnVlO1xuICAgIGlmIChzaG91bGRSZXRyeUhlYWRlciA9PT0gJ2ZhbHNlJykgcmV0dXJuIGZhbHNlO1xuICAgIC8vIFJldHJ5IG9uIGxvY2sgdGltZW91dHMuXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBSZXRyeSBvbiByYXRlIGxpbWl0cy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjkpIHJldHVybiB0cnVlO1xuICAgIC8vIFJldHJ5IGludGVybmFsIGVycm9ycy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDUwMCkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGFzeW5jIHJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nLCByZXNwb25zZUhlYWRlcnMpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0cmllc1JlbWFpbmluZyAtPSAxO1xuICAgIC8vIEFib3V0IHRoZSBSZXRyeS1BZnRlciBoZWFkZXI6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvSGVhZGVycy9SZXRyeS1BZnRlclxuICAgIC8vXG4gICAgLy8gVE9ETzogd2UgbWF5IHdhbnQgdG8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSBoZWFkZXIgaXMgdXNpbmcgdGhlIGh0dHAtZGF0ZSBzeW50YXg6IFwiUmV0cnktQWZ0ZXI6IDxodHRwLWRhdGU+XCIuXG4gICAgLy8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvSGVhZGVycy9SZXRyeS1BZnRlciNzeW50YXggZm9yIGRldGFpbHMuXG4gICAgY29uc3QgcmV0cnlBZnRlciA9IHBhcnNlSW50KFxuICAgICAgKHJlc3BvbnNlSGVhZGVycyA9PT0gbnVsbCB8fCByZXNwb25zZUhlYWRlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlSGVhZGVyc1sncmV0cnktYWZ0ZXInXSkgfHxcbiAgICAgICAgJycsXG4gICAgKTtcbiAgICBjb25zdCBtYXhSZXRyaWVzID0gKF9hID0gb3B0aW9ucy5tYXhSZXRyaWVzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLm1heFJldHJpZXM7XG4gICAgY29uc3QgdGltZW91dCA9IHRoaXMuY2FsY3VsYXRlUmV0cnlUaW1lb3V0U2Vjb25kcyhyZXRyaWVzUmVtYWluaW5nLCByZXRyeUFmdGVyLCBtYXhSZXRyaWVzKSAqIDEwMDA7XG4gICAgYXdhaXQgc2xlZXAodGltZW91dCk7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3Qob3B0aW9ucywgcmV0cmllc1JlbWFpbmluZyk7XG4gIH1cbiAgY2FsY3VsYXRlUmV0cnlUaW1lb3V0U2Vjb25kcyhyZXRyaWVzUmVtYWluaW5nLCByZXRyeUFmdGVyLCBtYXhSZXRyaWVzKSB7XG4gICAgY29uc3QgaW5pdGlhbFJldHJ5RGVsYXkgPSAwLjU7XG4gICAgY29uc3QgbWF4UmV0cnlEZWxheSA9IDI7XG4gICAgLy8gSWYgdGhlIEFQSSBhc2tzIHVzIHRvIHdhaXQgYSBjZXJ0YWluIGFtb3VudCBvZiB0aW1lIChhbmQgaXQncyBhIHJlYXNvbmFibGUgYW1vdW50KSxcbiAgICAvLyBqdXN0IGRvIHdoYXQgaXQgc2F5cy5cbiAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihyZXRyeUFmdGVyKSAmJiByZXRyeUFmdGVyIDw9IDYwKSB7XG4gICAgICByZXR1cm4gcmV0cnlBZnRlcjtcbiAgICB9XG4gICAgY29uc3QgbnVtUmV0cmllcyA9IG1heFJldHJpZXMgLSByZXRyaWVzUmVtYWluaW5nO1xuICAgIC8vIEFwcGx5IGV4cG9uZW50aWFsIGJhY2tvZmYsIGJ1dCBub3QgbW9yZSB0aGFuIHRoZSBtYXguXG4gICAgY29uc3Qgc2xlZXBTZWNvbmRzID0gTWF0aC5taW4oaW5pdGlhbFJldHJ5RGVsYXkgKiBNYXRoLnBvdyhudW1SZXRyaWVzIC0gMSwgMiksIG1heFJldHJ5RGVsYXkpO1xuICAgIC8vIEFwcGx5IHNvbWUgaml0dGVyLCBwbHVzLW9yLW1pbnVzIGhhbGYgYSBzZWNvbmQuXG4gICAgY29uc3Qgaml0dGVyID0gTWF0aC5yYW5kb20oKSAtIDAuNTtcbiAgICByZXR1cm4gc2xlZXBTZWNvbmRzICsgaml0dGVyO1xuICB9XG4gIGdldFVzZXJBZ2VudCgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfS9KUyAke1ZFUlNJT059YDtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEFQSVJlc291cmNlIHtcbiAgY29uc3RydWN0b3IoY2xpZW50KSB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgdGhpcy5nZXQgPSBjbGllbnQuZ2V0LmJpbmQoY2xpZW50KTtcbiAgICB0aGlzLnBvc3QgPSBjbGllbnQucG9zdC5iaW5kKGNsaWVudCk7XG4gICAgdGhpcy5wYXRjaCA9IGNsaWVudC5wYXRjaC5iaW5kKGNsaWVudCk7XG4gICAgdGhpcy5wdXQgPSBjbGllbnQucHV0LmJpbmQoY2xpZW50KTtcbiAgICB0aGlzLmRlbGV0ZSA9IGNsaWVudC5kZWxldGUuYmluZChjbGllbnQpO1xuICAgIHRoaXMuZ2V0QVBJTGlzdCA9IGNsaWVudC5nZXRBUElMaXN0LmJpbmQoY2xpZW50KTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEFic3RyYWN0UGFnZSB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpIHtcbiAgICBfQWJzdHJhY3RQYWdlX2NsaWVudC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9BYnN0cmFjdFBhZ2VfY2xpZW50LCBjbGllbnQsICdmJyk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgfVxuICBoYXNOZXh0UGFnZSgpIHtcbiAgICBjb25zdCBpdGVtcyA9IHRoaXMuZ2V0UGFnaW5hdGVkSXRlbXMoKTtcbiAgICBpZiAoIWl0ZW1zLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0aGlzLm5leHRQYWdlSW5mbygpICE9IG51bGw7XG4gIH1cbiAgYXN5bmMgZ2V0TmV4dFBhZ2UoKSB7XG4gICAgY29uc3QgbmV4dEluZm8gPSB0aGlzLm5leHRQYWdlSW5mbygpO1xuICAgIGlmICghbmV4dEluZm8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ05vIG5leHQgcGFnZSBleHBlY3RlZDsgcGxlYXNlIGNoZWNrIGAuaGFzTmV4dFBhZ2UoKWAgYmVmb3JlIGNhbGxpbmcgYC5nZXROZXh0UGFnZSgpYC4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgbmV4dE9wdGlvbnMgPSB7IC4uLnRoaXMub3B0aW9ucyB9O1xuICAgIGlmICgncGFyYW1zJyBpbiBuZXh0SW5mbykge1xuICAgICAgbmV4dE9wdGlvbnMucXVlcnkgPSB7IC4uLm5leHRPcHRpb25zLnF1ZXJ5LCAuLi5uZXh0SW5mby5wYXJhbXMgfTtcbiAgICB9IGVsc2UgaWYgKCd1cmwnIGluIG5leHRJbmZvKSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBbLi4uT2JqZWN0LmVudHJpZXMobmV4dE9wdGlvbnMucXVlcnkgfHwge30pLCAuLi5uZXh0SW5mby51cmwuc2VhcmNoUGFyYW1zLmVudHJpZXMoKV07XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBwYXJhbXMpIHtcbiAgICAgICAgbmV4dEluZm8udXJsLnNlYXJjaFBhcmFtcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBuZXh0T3B0aW9ucy5xdWVyeSA9IHVuZGVmaW5lZDtcbiAgICAgIG5leHRPcHRpb25zLnBhdGggPSBuZXh0SW5mby51cmwudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0UGFnZV9jbGllbnQsICdmJykucmVxdWVzdEFQSUxpc3QoXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yLFxuICAgICAgbmV4dE9wdGlvbnMsXG4gICAgKTtcbiAgfVxuICBhc3luYyAqaXRlclBhZ2VzKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgIGxldCBwYWdlID0gdGhpcztcbiAgICB5aWVsZCBwYWdlO1xuICAgIHdoaWxlIChwYWdlLmhhc05leHRQYWdlKCkpIHtcbiAgICAgIHBhZ2UgPSBhd2FpdCBwYWdlLmdldE5leHRQYWdlKCk7XG4gICAgICB5aWVsZCBwYWdlO1xuICAgIH1cbiAgfVxuICBhc3luYyAqWygoX0Fic3RyYWN0UGFnZV9jbGllbnQgPSBuZXcgV2Vha01hcCgpKSwgU3ltYm9sLmFzeW5jSXRlcmF0b3IpXSgpIHtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IHBhZ2Ugb2YgdGhpcy5pdGVyUGFnZXMoKSkge1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHBhZ2UuZ2V0UGFnaW5hdGVkSXRlbXMoKSkge1xuICAgICAgICB5aWVsZCBpdGVtO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBUaGlzIHN1YmNsYXNzIG9mIFByb21pc2Ugd2lsbCByZXNvbHZlIHRvIGFuIGluc3RhbnRpYXRlZCBQYWdlIG9uY2UgdGhlIHJlcXVlc3QgY29tcGxldGVzLlxuICpcbiAqIEl0IGFsc28gaW1wbGVtZW50cyBBc3luY0l0ZXJhYmxlIHRvIGFsbG93IGF1dG8tcGFnaW5hdGluZyBpdGVyYXRpb24gb24gYW4gdW5hd2FpdGVkIGxpc3QgY2FsbCwgZWc6XG4gKlxuICogICAgZm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIGNsaWVudC5pdGVtcy5saXN0KCkpIHtcbiAqICAgICAgY29uc29sZS5sb2coaXRlbSlcbiAqICAgIH1cbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VQcm9taXNlIGV4dGVuZHMgQVBJUHJvbWlzZSB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgcmVxdWVzdCwgUGFnZSkge1xuICAgIHN1cGVyKFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGFzeW5jIChwcm9wcykgPT4gbmV3IFBhZ2UoY2xpZW50LCBwcm9wcy5yZXNwb25zZSwgYXdhaXQgZGVmYXVsdFBhcnNlUmVzcG9uc2UocHJvcHMpLCBwcm9wcy5vcHRpb25zKSxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBBbGxvdyBhdXRvLXBhZ2luYXRpbmcgaXRlcmF0aW9uIG9uIGFuIHVuYXdhaXRlZCBsaXN0IGNhbGwsIGVnOlxuICAgKlxuICAgKiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgY2xpZW50Lml0ZW1zLmxpc3QoKSkge1xuICAgKiAgICAgIGNvbnNvbGUubG9nKGl0ZW0pXG4gICAqICAgIH1cbiAgICovXG4gIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCB0aGlzO1xuICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBwYWdlKSB7XG4gICAgICB5aWVsZCBpdGVtO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlc3BvbnNlSGVhZGVycyA9IChoZWFkZXJzKSA9PiB7XG4gIHJldHVybiBuZXcgUHJveHkoXG4gICAgT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaGVhZGVycy5lbnRyaWVzKCksXG4gICAgKSxcbiAgICB7XG4gICAgICBnZXQodGFyZ2V0LCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5hbWUudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldFtrZXkudG9Mb3dlckNhc2UoKV0gfHwgdGFyZ2V0W2tleV07XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG59O1xuLy8gVGhpcyBpcyByZXF1aXJlZCBzbyB0aGF0IHdlIGNhbiBkZXRlcm1pbmUgaWYgYSBnaXZlbiBvYmplY3QgbWF0Y2hlcyB0aGUgUmVxdWVzdE9wdGlvbnNcbi8vIHR5cGUgYXQgcnVudGltZS4gV2hpbGUgdGhpcyByZXF1aXJlcyBkdXBsaWNhdGlvbiwgaXQgaXMgZW5mb3JjZWQgYnkgdGhlIFR5cGVTY3JpcHRcbi8vIGNvbXBpbGVyIHN1Y2ggdGhhdCBhbnkgbWlzc2luZyAvIGV4dHJhbmVvdXMga2V5cyB3aWxsIGNhdXNlIGFuIGVycm9yLlxuY29uc3QgcmVxdWVzdE9wdGlvbnNLZXlzID0ge1xuICBtZXRob2Q6IHRydWUsXG4gIHBhdGg6IHRydWUsXG4gIHF1ZXJ5OiB0cnVlLFxuICBib2R5OiB0cnVlLFxuICBoZWFkZXJzOiB0cnVlLFxuICBtYXhSZXRyaWVzOiB0cnVlLFxuICBzdHJlYW06IHRydWUsXG4gIHRpbWVvdXQ6IHRydWUsXG4gIGh0dHBBZ2VudDogdHJ1ZSxcbiAgc2lnbmFsOiB0cnVlLFxuICBpZGVtcG90ZW5jeUtleTogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3QgaXNSZXF1ZXN0T3B0aW9ucyA9IChvYmopID0+IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJlxuICAgIG9iaiAhPT0gbnVsbCAmJlxuICAgICFpc0VtcHR5T2JqKG9iaikgJiZcbiAgICBPYmplY3Qua2V5cyhvYmopLmV2ZXJ5KChrKSA9PiBoYXNPd24ocmVxdWVzdE9wdGlvbnNLZXlzLCBrKSlcbiAgKTtcbn07XG5jb25zdCBnZXRQbGF0Zm9ybVByb3BlcnRpZXMgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCcgJiYgRGVuby5idWlsZCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogbm9ybWFsaXplUGxhdGZvcm0oRGVuby5idWlsZC5vcyksXG4gICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IG5vcm1hbGl6ZUFyY2goRGVuby5idWlsZC5hcmNoKSxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ2Rlbm8nLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IERlbm8udmVyc2lvbixcbiAgICB9O1xuICB9XG4gIGlmICh0eXBlb2YgRWRnZVJ1bnRpbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBgb3RoZXI6JHtFZGdlUnVudGltZX1gLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAnZWRnZScsXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogcHJvY2Vzcy52ZXJzaW9uLFxuICAgIH07XG4gIH1cbiAgLy8gQ2hlY2sgaWYgTm9kZS5qc1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyA/IHByb2Nlc3MgOiAwKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogbm9ybWFsaXplUGxhdGZvcm0ocHJvY2Vzcy5wbGF0Zm9ybSksXG4gICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IG5vcm1hbGl6ZUFyY2gocHJvY2Vzcy5hcmNoKSxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ25vZGUnLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IHByb2Nlc3MudmVyc2lvbixcbiAgICB9O1xuICB9XG4gIGNvbnN0IGJyb3dzZXJJbmZvID0gZ2V0QnJvd3NlckluZm8oKTtcbiAgaWYgKGJyb3dzZXJJbmZvKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiAndW5rbm93bicsXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6IGBicm93c2VyOiR7YnJvd3NlckluZm8uYnJvd3Nlcn1gLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IGJyb3dzZXJJbmZvLnZlcnNpb24sXG4gICAgfTtcbiAgfVxuICAvLyBUT0RPIGFkZCBzdXBwb3J0IGZvciBDbG91ZGZsYXJlIHdvcmtlcnMsIGV0Yy5cbiAgcmV0dXJuIHtcbiAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1BcmNoJzogJ3Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ3Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiAndW5rbm93bicsXG4gIH07XG59O1xuLy8gTm90ZTogbW9kaWZpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vSlMtRGV2VG9vbHMvaG9zdC1lbnZpcm9ubWVudC9ibG9iL2IxYWI3OWVjZGUzN2RiNWQ2ZTE2M2MwNTBlNTRmZTdkMjg3ZDdjOTIvc3JjL2lzb21vcnBoaWMuYnJvd3Nlci50c1xuZnVuY3Rpb24gZ2V0QnJvd3NlckluZm8oKSB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJyB8fCAhbmF2aWdhdG9yKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLy8gTk9URTogVGhlIG9yZGVyIG1hdHRlcnMgaGVyZSFcbiAgY29uc3QgYnJvd3NlclBhdHRlcm5zID0gW1xuICAgIHsga2V5OiAnZWRnZScsIHBhdHRlcm46IC9FZGdlKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdpZScsIHBhdHRlcm46IC9NU0lFKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdpZScsIHBhdHRlcm46IC9UcmlkZW50KD86LipydlxcOihcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdjaHJvbWUnLCBwYXR0ZXJuOiAvQ2hyb21lKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdmaXJlZm94JywgcGF0dGVybjogL0ZpcmVmb3goPzpcXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICB7IGtleTogJ3NhZmFyaScsIHBhdHRlcm46IC8oPzpWZXJzaW9uXFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8oPzpcXFcrTW9iaWxlXFxTKik/XFxXK1NhZmFyaS8gfSxcbiAgXTtcbiAgLy8gRmluZCB0aGUgRklSU1QgbWF0Y2hpbmcgYnJvd3NlclxuICBmb3IgKGNvbnN0IHsga2V5LCBwYXR0ZXJuIH0gb2YgYnJvd3NlclBhdHRlcm5zKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBjb25zdCBtYWpvciA9IG1hdGNoWzFdIHx8IDA7XG4gICAgICBjb25zdCBtaW5vciA9IG1hdGNoWzJdIHx8IDA7XG4gICAgICBjb25zdCBwYXRjaCA9IG1hdGNoWzNdIHx8IDA7XG4gICAgICByZXR1cm4geyBicm93c2VyOiBrZXksIHZlcnNpb246IGAke21ham9yfS4ke21pbm9yfS4ke3BhdGNofWAgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5jb25zdCBub3JtYWxpemVBcmNoID0gKGFyY2gpID0+IHtcbiAgLy8gTm9kZSBkb2NzOlxuICAvLyAtIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NhcmNoXG4gIC8vIERlbm8gZG9jczpcbiAgLy8gLSBodHRwczovL2RvYy5kZW5vLmxhbmQvZGVuby9zdGFibGUvfi9EZW5vLmJ1aWxkXG4gIGlmIChhcmNoID09PSAneDMyJykgcmV0dXJuICd4MzInO1xuICBpZiAoYXJjaCA9PT0gJ3g4Nl82NCcgfHwgYXJjaCA9PT0gJ3g2NCcpIHJldHVybiAneDY0JztcbiAgaWYgKGFyY2ggPT09ICdhcm0nKSByZXR1cm4gJ2FybSc7XG4gIGlmIChhcmNoID09PSAnYWFyY2g2NCcgfHwgYXJjaCA9PT0gJ2FybTY0JykgcmV0dXJuICdhcm02NCc7XG4gIGlmIChhcmNoKSByZXR1cm4gYG90aGVyOiR7YXJjaH1gO1xuICByZXR1cm4gJ3Vua25vd24nO1xufTtcbmNvbnN0IG5vcm1hbGl6ZVBsYXRmb3JtID0gKHBsYXRmb3JtKSA9PiB7XG4gIC8vIE5vZGUgcGxhdGZvcm1zOlxuICAvLyAtIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NwbGF0Zm9ybVxuICAvLyBEZW5vIHBsYXRmb3JtczpcbiAgLy8gLSBodHRwczovL2RvYy5kZW5vLmxhbmQvZGVuby9zdGFibGUvfi9EZW5vLmJ1aWxkXG4gIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2Rlbm9sYW5kL2Rlbm8vaXNzdWVzLzE0Nzk5XG4gIHBsYXRmb3JtID0gcGxhdGZvcm0udG9Mb3dlckNhc2UoKTtcbiAgLy8gTk9URTogdGhpcyBpT1MgY2hlY2sgaXMgdW50ZXN0ZWQgYW5kIG1heSBub3Qgd29ya1xuICAvLyBOb2RlIGRvZXMgbm90IHdvcmsgbmF0aXZlbHkgb24gSU9TLCB0aGVyZSBpcyBhIGZvcmsgYXRcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy1tb2JpbGUvbm9kZWpzLW1vYmlsZVxuICAvLyBob3dldmVyIGl0IGlzIHVua25vd24gYXQgdGhlIHRpbWUgb2Ygd3JpdGluZyBob3cgdG8gZGV0ZWN0IGlmIGl0IGlzIHJ1bm5pbmdcbiAgaWYgKHBsYXRmb3JtLmluY2x1ZGVzKCdpb3MnKSkgcmV0dXJuICdpT1MnO1xuICBpZiAocGxhdGZvcm0gPT09ICdhbmRyb2lkJykgcmV0dXJuICdBbmRyb2lkJztcbiAgaWYgKHBsYXRmb3JtID09PSAnZGFyd2luJykgcmV0dXJuICdNYWNPUyc7XG4gIGlmIChwbGF0Zm9ybSA9PT0gJ3dpbjMyJykgcmV0dXJuICdXaW5kb3dzJztcbiAgaWYgKHBsYXRmb3JtID09PSAnZnJlZWJzZCcpIHJldHVybiAnRnJlZUJTRCc7XG4gIGlmIChwbGF0Zm9ybSA9PT0gJ29wZW5ic2QnKSByZXR1cm4gJ09wZW5CU0QnO1xuICBpZiAocGxhdGZvcm0gPT09ICdsaW51eCcpIHJldHVybiAnTGludXgnO1xuICBpZiAocGxhdGZvcm0pIHJldHVybiBgT3RoZXI6JHtwbGF0Zm9ybX1gO1xuICByZXR1cm4gJ1Vua25vd24nO1xufTtcbmxldCBfcGxhdGZvcm1IZWFkZXJzO1xuY29uc3QgZ2V0UGxhdGZvcm1IZWFkZXJzID0gKCkgPT4ge1xuICByZXR1cm4gX3BsYXRmb3JtSGVhZGVycyAhPT0gbnVsbCAmJiBfcGxhdGZvcm1IZWFkZXJzICE9PSB2b2lkIDAgP1xuICAgICAgX3BsYXRmb3JtSGVhZGVyc1xuICAgIDogKF9wbGF0Zm9ybUhlYWRlcnMgPSBnZXRQbGF0Zm9ybVByb3BlcnRpZXMoKSk7XG59O1xuZXhwb3J0IGNvbnN0IHNhZmVKU09OID0gKHRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufTtcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xOTcwOTg0NlxuY29uc3Qgc3RhcnRzV2l0aFNjaGVtZVJlZ2V4cCA9IG5ldyBSZWdFeHAoJ14oPzpbYS16XSs6KT8vLycsICdpJyk7XG5jb25zdCBpc0Fic29sdXRlVVJMID0gKHVybCkgPT4ge1xuICByZXR1cm4gc3RhcnRzV2l0aFNjaGVtZVJlZ2V4cC50ZXN0KHVybCk7XG59O1xuY29uc3Qgc2xlZXAgPSAobXMpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG5jb25zdCB2YWxpZGF0ZVBvc2l0aXZlSW50ZWdlciA9IChuYW1lLCBuKSA9PiB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgIU51bWJlci5pc0ludGVnZXIobikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7bmFtZX0gbXVzdCBiZSBhbiBpbnRlZ2VyYCk7XG4gIH1cbiAgaWYgKG4gPCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGAke25hbWV9IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyYCk7XG4gIH1cbiAgcmV0dXJuIG47XG59O1xuZXhwb3J0IGNvbnN0IGNhc3RUb0Vycm9yID0gKGVycikgPT4ge1xuICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBlcnI7XG4gIHJldHVybiBuZXcgRXJyb3IoZXJyKTtcbn07XG5leHBvcnQgY29uc3QgZW5zdXJlUHJlc2VudCA9ICh2YWx1ZSkgPT4ge1xuICBpZiAodmFsdWUgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhIHZhbHVlIHRvIGJlIGdpdmVuIGJ1dCByZWNlaXZlZCAke3ZhbHVlfSBpbnN0ZWFkLmApO1xuICByZXR1cm4gdmFsdWU7XG59O1xuLyoqXG4gKiBSZWFkIGFuIGVudmlyb25tZW50IHZhcmlhYmxlLlxuICpcbiAqIFdpbGwgcmV0dXJuIHVuZGVmaW5lZCBpZiB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGUgZG9lc24ndCBleGlzdCBvciBjYW5ub3QgYmUgYWNjZXNzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCByZWFkRW52ID0gKGVudikgPT4ge1xuICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gKF9iID0gKF9hID0gcHJvY2Vzcy5lbnYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtlbnZdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID9cbiAgICAgICAgX2JcbiAgICAgIDogdW5kZWZpbmVkO1xuICB9XG4gIGlmICh0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gKF9kID0gKF9jID0gRGVuby5lbnYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5nZXQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgP1xuICAgICAgICB2b2lkIDBcbiAgICAgIDogX2QuY2FsbChfYywgZW52KTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmV4cG9ydCBjb25zdCBjb2VyY2VJbnRlZ2VyID0gKHZhbHVlKSA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSk7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgY29lcmNlICR7dmFsdWV9ICh0eXBlOiAke3R5cGVvZiB2YWx1ZX0pIGludG8gYSBudW1iZXJgKTtcbn07XG5leHBvcnQgY29uc3QgY29lcmNlRmxvYXQgPSAodmFsdWUpID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHJldHVybiB2YWx1ZTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgY29lcmNlICR7dmFsdWV9ICh0eXBlOiAke3R5cGVvZiB2YWx1ZX0pIGludG8gYSBudW1iZXJgKTtcbn07XG5leHBvcnQgY29uc3QgY29lcmNlQm9vbGVhbiA9ICh2YWx1ZSkgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHJldHVybiB2YWx1ZTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZSA9PT0gJ3RydWUnO1xuICByZXR1cm4gQm9vbGVhbih2YWx1ZSk7XG59O1xuZXhwb3J0IGNvbnN0IG1heWJlQ29lcmNlSW50ZWdlciA9ICh2YWx1ZSkgPT4ge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGNvZXJjZUludGVnZXIodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBtYXliZUNvZXJjZUZsb2F0ID0gKHZhbHVlKSA9PiB7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gY29lcmNlRmxvYXQodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBtYXliZUNvZXJjZUJvb2xlYW4gPSAodmFsdWUpID0+IHtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBjb2VyY2VCb29sZWFuKHZhbHVlKTtcbn07XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzQ0OTEyODdcbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5T2JqKG9iaikge1xuICBpZiAoIW9iaikgcmV0dXJuIHRydWU7XG4gIGZvciAoY29uc3QgX2sgaW4gb2JqKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufVxuLy8gaHR0cHM6Ly9lc2xpbnQub3JnL2RvY3MvbGF0ZXN0L3J1bGVzL25vLXByb3RvdHlwZS1idWlsdGluc1xuZXhwb3J0IGZ1bmN0aW9uIGhhc093bihvYmosIGtleSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1ZyhhY3Rpb24sIC4uLmFyZ3MpIHtcbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVudlsnREVCVUcnXSA9PT0gJ3RydWUnKSB7XG4gICAgY29uc29sZS5sb2coYE9wZW5BSTpERUJVRzoke2FjdGlvbn1gLCAuLi5hcmdzKTtcbiAgfVxufVxuLyoqXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyM1xuICovXG5jb25zdCB1dWlkNCA9ICgpID0+IHtcbiAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgKGMpID0+IHtcbiAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwO1xuICAgIGNvbnN0IHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4O1xuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGlzUnVubmluZ0luQnJvd3NlciA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCdcbiAgKTtcbn07XG5leHBvcnQgY29uc3QgaXNIZWFkZXJzUHJvdG9jb2wgPSAoaGVhZGVycykgPT4ge1xuICByZXR1cm4gdHlwZW9mIChoZWFkZXJzID09PSBudWxsIHx8IGhlYWRlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhlYWRlcnMuZ2V0KSA9PT0gJ2Z1bmN0aW9uJztcbn07XG5leHBvcnQgY29uc3QgZ2V0SGVhZGVyID0gKGhlYWRlcnMsIGtleSkgPT4ge1xuICBjb25zdCBsb3dlcktleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoaXNIZWFkZXJzUHJvdG9jb2woaGVhZGVycykpIHJldHVybiBoZWFkZXJzLmdldChrZXkpIHx8IGhlYWRlcnMuZ2V0KGxvd2VyS2V5KTtcbiAgY29uc3QgdmFsdWUgPSBoZWFkZXJzW2tleV0gfHwgaGVhZGVyc1tsb3dlcktleV07XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIGlmICh2YWx1ZS5sZW5ndGggPD0gMSkgcmV0dXJuIHZhbHVlWzBdO1xuICAgIGNvbnNvbGUud2FybihgUmVjZWl2ZWQgJHt2YWx1ZS5sZW5ndGh9IGVudHJpZXMgZm9yIHRoZSAke2tleX0gaGVhZGVyLCB1c2luZyB0aGUgZmlyc3QgZW50cnkuYCk7XG4gICAgcmV0dXJuIHZhbHVlWzBdO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn07XG4vKipcbiAqIEVuY29kZXMgYSBzdHJpbmcgdG8gQmFzZTY0IGZvcm1hdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvQmFzZTY0ID0gKHN0cikgPT4ge1xuICBpZiAoIXN0cikgcmV0dXJuICcnO1xuICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oc3RyKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBidG9hKHN0cik7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZ2VuZXJhdGUgYjY0IHN0cmluZzsgRXhwZWN0ZWQgYEJ1ZmZlcmAgb3IgYGJ0b2FgIHRvIGJlIGRlZmluZWQnKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5pbXBvcnQgeyBBYnN0cmFjdFBhZ2UgfSBmcm9tICcuL2NvcmUubWpzJztcbi8qKlxuICogTm90ZTogbm8gcGFnaW5hdGlvbiBhY3R1YWxseSBvY2N1cnMgeWV0LCB0aGlzIGlzIGZvciBmb3J3YXJkcy1jb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgUGFnZSBleHRlbmRzIEFic3RyYWN0UGFnZSB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpIHtcbiAgICBzdXBlcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKTtcbiAgICB0aGlzLm9iamVjdCA9IGJvZHkub2JqZWN0O1xuICAgIHRoaXMuZGF0YSA9IGJvZHkuZGF0YTtcbiAgfVxuICBnZXRQYWdpbmF0ZWRJdGVtcygpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhO1xuICB9XG4gIC8vIEBkZXByZWNhdGVkIFBsZWFzZSB1c2UgYG5leHRQYWdlSW5mbygpYCBpbnN0ZWFkXG4gIC8qKlxuICAgKiBUaGlzIHBhZ2UgcmVwcmVzZW50cyBhIHJlc3BvbnNlIHRoYXQgaXNuJ3QgYWN0dWFsbHkgcGFnaW5hdGVkIGF0IHRoZSBBUEkgbGV2ZWxcbiAgICogc28gdGhlcmUgd2lsbCBuZXZlciBiZSBhbnkgbmV4dCBwYWdlIHBhcmFtcy5cbiAgICovXG4gIG5leHRQYWdlUGFyYW1zKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIG5leHRQYWdlSW5mbygpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEN1cnNvclBhZ2UgZXh0ZW5kcyBBYnN0cmFjdFBhZ2Uge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgc3VwZXIoY2xpZW50LCByZXNwb25zZSwgYm9keSwgb3B0aW9ucyk7XG4gICAgdGhpcy5kYXRhID0gYm9keS5kYXRhO1xuICB9XG4gIGdldFBhZ2luYXRlZEl0ZW1zKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGE7XG4gIH1cbiAgLy8gQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBgbmV4dFBhZ2VJbmZvKClgIGluc3RlYWRcbiAgbmV4dFBhZ2VQYXJhbXMoKSB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMubmV4dFBhZ2VJbmZvKCk7XG4gICAgaWYgKCFpbmZvKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoJ3BhcmFtcycgaW4gaW5mbykgcmV0dXJuIGluZm8ucGFyYW1zO1xuICAgIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5mcm9tRW50cmllcyhpbmZvLnVybC5zZWFyY2hQYXJhbXMpO1xuICAgIGlmICghT2JqZWN0LmtleXMocGFyYW1zKS5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cbiAgbmV4dFBhZ2VJbmZvKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKCEoKF9hID0gdGhpcy5kYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG5leHQgPSAoX2IgPSB0aGlzLmRhdGFbdGhpcy5kYXRhLmxlbmd0aCAtIDFdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaWQ7XG4gICAgaWYgKCFuZXh0KSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4geyBwYXJhbXM6IHsgYWZ0ZXI6IG5leHQgfSB9O1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdpbmF0aW9uLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5leHBvcnQgY2xhc3MgQVBJUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3RvcihjbGllbnQpIHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB0aGlzLmdldCA9IGNsaWVudC5nZXQuYmluZChjbGllbnQpO1xuICAgIHRoaXMucG9zdCA9IGNsaWVudC5wb3N0LmJpbmQoY2xpZW50KTtcbiAgICB0aGlzLnBhdGNoID0gY2xpZW50LnBhdGNoLmJpbmQoY2xpZW50KTtcbiAgICB0aGlzLnB1dCA9IGNsaWVudC5wdXQuYmluZChjbGllbnQpO1xuICAgIHRoaXMuZGVsZXRlID0gY2xpZW50LmRlbGV0ZS5iaW5kKGNsaWVudCk7XG4gICAgdGhpcy5nZXRBUElMaXN0ID0gY2xpZW50LmdldEFQSUxpc3QuYmluZChjbGllbnQpO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvdXJjZS5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuaW1wb3J0IHsgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIH0gZnJvbSAnb3BlbmFpL2NvcmUnO1xuZXhwb3J0IGNsYXNzIFRyYW5zY3JpcHRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogVHJhbnNjcmliZXMgYXVkaW8gaW50byB0aGUgaW5wdXQgbGFuZ3VhZ2UuXG4gICAqL1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9hdWRpby90cmFuc2NyaXB0aW9ucycsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMgfSkpO1xuICB9XG59XG4oZnVuY3Rpb24gKFRyYW5zY3JpcHRpb25zKSB7fSkoVHJhbnNjcmlwdGlvbnMgfHwgKFRyYW5zY3JpcHRpb25zID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zY3JpcHRpb25zLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJ29wZW5haS9yZXNvdXJjZSc7XG5pbXBvcnQgeyBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMgfSBmcm9tICdvcGVuYWkvY29yZSc7XG5leHBvcnQgY2xhc3MgVHJhbnNsYXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogVHJhbnNsYXRlcyBhdWRpbyBpbnRvIEVuZ2xpc2guXG4gICAqL1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9hdWRpby90cmFuc2xhdGlvbnMnLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgfVxufVxuKGZ1bmN0aW9uIChUcmFuc2xhdGlvbnMpIHt9KShUcmFuc2xhdGlvbnMgfHwgKFRyYW5zbGF0aW9ucyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2xhdGlvbnMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmltcG9ydCB7IFRyYW5zY3JpcHRpb25zIH0gZnJvbSAnLi90cmFuc2NyaXB0aW9ucy5tanMnO1xuaW1wb3J0IHsgVHJhbnNsYXRpb25zIH0gZnJvbSAnLi90cmFuc2xhdGlvbnMubWpzJztcbmltcG9ydCAqIGFzIEFQSSBmcm9tICcuL2luZGV4Lm1qcyc7XG5leHBvcnQgY2xhc3MgQXVkaW8gZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy50cmFuc2NyaXB0aW9ucyA9IG5ldyBUcmFuc2NyaXB0aW9ucyh0aGlzLmNsaWVudCk7XG4gICAgdGhpcy50cmFuc2xhdGlvbnMgPSBuZXcgVHJhbnNsYXRpb25zKHRoaXMuY2xpZW50KTtcbiAgfVxufVxuKGZ1bmN0aW9uIChBdWRpbykge1xuICBBdWRpby5UcmFuc2NyaXB0aW9ucyA9IEFQSS5UcmFuc2NyaXB0aW9ucztcbiAgQXVkaW8uVHJhbnNsYXRpb25zID0gQVBJLlRyYW5zbGF0aW9ucztcbn0pKEF1ZGlvIHx8IChBdWRpbyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdWRpby5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvY2hhdC9jb21wbGV0aW9ucycsIHtcbiAgICAgIGJvZHksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgc3RyZWFtOiAoX2EgPSBib2R5LnN0cmVhbSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgfSk7XG4gIH1cbn1cbihmdW5jdGlvbiAoQ29tcGxldGlvbnMpIHt9KShDb21wbGV0aW9ucyB8fCAoQ29tcGxldGlvbnMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGxldGlvbnMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmltcG9ydCB7IENvbXBsZXRpb25zIH0gZnJvbSAnLi9jb21wbGV0aW9ucy5tanMnO1xuaW1wb3J0ICogYXMgQVBJIGZyb20gJy4vaW5kZXgubWpzJztcbmV4cG9ydCBjbGFzcyBDaGF0IGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuY29tcGxldGlvbnMgPSBuZXcgQ29tcGxldGlvbnModGhpcy5jbGllbnQpO1xuICB9XG59XG4oZnVuY3Rpb24gKENoYXQpIHtcbiAgQ2hhdC5Db21wbGV0aW9ucyA9IEFQSS5Db21wbGV0aW9ucztcbn0pKENoYXQgfHwgKENoYXQgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhdC5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvY29tcGxldGlvbnMnLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHN0cmVhbTogKF9hID0gYm9keS5zdHJlYW0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgIH0pO1xuICB9XG59XG4oZnVuY3Rpb24gKENvbXBsZXRpb25zKSB7fSkoQ29tcGxldGlvbnMgfHwgKENvbXBsZXRpb25zID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBsZXRpb25zLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJ29wZW5haS9yZXNvdXJjZSc7XG5leHBvcnQgY2xhc3MgRW1iZWRkaW5ncyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZW1iZWRkaW5nIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGlucHV0IHRleHQuXG4gICAqL1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9lbWJlZGRpbmdzJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICB9XG59XG4oZnVuY3Rpb24gKEVtYmVkZGluZ3MpIHt9KShFbWJlZGRpbmdzIHx8IChFbWJlZGRpbmdzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtYmVkZGluZ3MubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmV4cG9ydCBjbGFzcyBFZGl0cyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgZWRpdCBmb3IgdGhlIHByb3ZpZGVkIGlucHV0LCBpbnN0cnVjdGlvbiwgYW5kIHBhcmFtZXRlcnMuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIFRoZSBFZGl0cyBBUEkgaXMgZGVwcmVjYXRlZDsgcGxlYXNlIHVzZSBDaGF0IENvbXBsZXRpb25zIGluc3RlYWQuXG4gICAqXG4gICAqIGh0dHBzOi8vb3BlbmFpLmNvbS9ibG9nL2dwdC00LWFwaS1nZW5lcmFsLWF2YWlsYWJpbGl0eSNkZXByZWNhdGlvbi1vZi10aGUtZWRpdHMtYXBpXG4gICAqL1xuICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9lZGl0cycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxufVxuKGZ1bmN0aW9uIChFZGl0cykge30pKEVkaXRzIHx8IChFZGl0cyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lZGl0cy5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuaW1wb3J0IHsgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIH0gZnJvbSAnb3BlbmFpL2NvcmUnO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gJ29wZW5haS9wYWdpbmF0aW9uJztcbmV4cG9ydCBjbGFzcyBGaWxlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIFVwbG9hZCBhIGZpbGUgdGhhdCBjb250YWlucyBkb2N1bWVudChzKSB0byBiZSB1c2VkIGFjcm9zcyB2YXJpb3VzXG4gICAqIGVuZHBvaW50cy9mZWF0dXJlcy4gQ3VycmVudGx5LCB0aGUgc2l6ZSBvZiBhbGwgdGhlIGZpbGVzIHVwbG9hZGVkIGJ5IG9uZVxuICAgKiBvcmdhbml6YXRpb24gY2FuIGJlIHVwIHRvIDEgR0IuIFBsZWFzZSBjb250YWN0IHVzIGlmIHlvdSBuZWVkIHRvIGluY3JlYXNlIHRoZVxuICAgKiBzdG9yYWdlIGxpbWl0LlxuICAgKi9cbiAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvZmlsZXMnLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBhIHNwZWNpZmljIGZpbGUuXG4gICAqL1xuICByZXRyaWV2ZShmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoYC9maWxlcy8ke2ZpbGVJZH1gLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgZmlsZXMgdGhhdCBiZWxvbmcgdG8gdGhlIHVzZXIncyBvcmdhbml6YXRpb24uXG4gICAqL1xuICBsaXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBUElMaXN0KCcvZmlsZXMnLCBGaWxlT2JqZWN0c1BhZ2UsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgYSBmaWxlLlxuICAgKi9cbiAgZGVsKGZpbGVJZCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmRlbGV0ZShgL2ZpbGVzLyR7ZmlsZUlkfWAsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjb250ZW50cyBvZiB0aGUgc3BlY2lmaWVkIGZpbGVcbiAgICovXG4gIHJldHJpZXZlQ29udGVudChmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoYC9maWxlcy8ke2ZpbGVJZH0vY29udGVudGAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAuLi4ob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmhlYWRlcnMpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufVxuLyoqXG4gKiBOb3RlOiBubyBwYWdpbmF0aW9uIGFjdHVhbGx5IG9jY3VycyB5ZXQsIHRoaXMgaXMgZm9yIGZvcndhcmRzLWNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBGaWxlT2JqZWN0c1BhZ2UgZXh0ZW5kcyBQYWdlIHt9XG4oZnVuY3Rpb24gKEZpbGVzKSB7fSkoRmlsZXMgfHwgKEZpbGVzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGVzLm1qcy5tYXBcbiIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJ29wZW5haS9yZXNvdXJjZSc7XG5pbXBvcnQgeyBQYWdlIH0gZnJvbSAnb3BlbmFpL3BhZ2luYXRpb24nO1xuZXhwb3J0IGNsYXNzIEZpbmVUdW5lcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBqb2IgdGhhdCBmaW5lLXR1bmVzIGEgc3BlY2lmaWVkIG1vZGVsIGZyb20gYSBnaXZlbiBkYXRhc2V0LlxuICAgKlxuICAgKiBSZXNwb25zZSBpbmNsdWRlcyBkZXRhaWxzIG9mIHRoZSBlbnF1ZXVlZCBqb2IgaW5jbHVkaW5nIGpvYiBzdGF0dXMgYW5kIHRoZSBuYW1lXG4gICAqIG9mIHRoZSBmaW5lLXR1bmVkIG1vZGVscyBvbmNlIGNvbXBsZXRlLlxuICAgKlxuICAgKiBbTGVhcm4gbW9yZSBhYm91dCBmaW5lLXR1bmluZ10oL2RvY3MvZ3VpZGVzL2xlZ2FjeS1maW5lLXR1bmluZylcbiAgICovXG4gIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zdCgnL2ZpbmUtdHVuZXMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgaW5mbyBhYm91dCB0aGUgZmluZS10dW5lIGpvYi5cbiAgICpcbiAgICogW0xlYXJuIG1vcmUgYWJvdXQgZmluZS10dW5pbmddKC9kb2NzL2d1aWRlcy9sZWdhY3ktZmluZS10dW5pbmcpXG4gICAqL1xuICByZXRyaWV2ZShmaW5lVHVuZUlkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAvZmluZS10dW5lcy8ke2ZpbmVUdW5lSWR9YCwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3QgeW91ciBvcmdhbml6YXRpb24ncyBmaW5lLXR1bmluZyBqb2JzXG4gICAqL1xuICBsaXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBUElMaXN0KCcvZmluZS10dW5lcycsIEZpbmVUdW5lc1BhZ2UsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBJbW1lZGlhdGVseSBjYW5jZWwgYSBmaW5lLXR1bmUgam9iLlxuICAgKi9cbiAgY2FuY2VsKGZpbmVUdW5lSWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5wb3N0KGAvZmluZS10dW5lcy8ke2ZpbmVUdW5lSWR9L2NhbmNlbGAsIG9wdGlvbnMpO1xuICB9XG4gIGxpc3RFdmVudHMoZmluZVR1bmVJZCwgcXVlcnksIG9wdGlvbnMpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAvZmluZS10dW5lcy8ke2ZpbmVUdW5lSWR9L2V2ZW50c2AsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgdGltZW91dDogODY0MDAwMDAsXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgc3RyZWFtOlxuICAgICAgICAoX2EgPSBxdWVyeSA9PT0gbnVsbCB8fCBxdWVyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcXVlcnkuc3RyZWFtKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID9cbiAgICAgICAgICBfYVxuICAgICAgICA6IGZhbHNlLFxuICAgIH0pO1xuICB9XG59XG4vKipcbiAqIE5vdGU6IG5vIHBhZ2luYXRpb24gYWN0dWFsbHkgb2NjdXJzIHlldCwgdGhpcyBpcyBmb3IgZm9yd2FyZHMtY29tcGF0aWJpbGl0eS5cbiAqL1xuZXhwb3J0IGNsYXNzIEZpbmVUdW5lc1BhZ2UgZXh0ZW5kcyBQYWdlIHt9XG4oZnVuY3Rpb24gKEZpbmVUdW5lcykge30pKEZpbmVUdW5lcyB8fCAoRmluZVR1bmVzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbmUtdHVuZXMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tICdvcGVuYWkvY29yZSc7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSAnb3BlbmFpL3BhZ2luYXRpb24nO1xuZXhwb3J0IGNsYXNzIEpvYnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgam9iIHRoYXQgZmluZS10dW5lcyBhIHNwZWNpZmllZCBtb2RlbCBmcm9tIGEgZ2l2ZW4gZGF0YXNldC5cbiAgICpcbiAgICogUmVzcG9uc2UgaW5jbHVkZXMgZGV0YWlscyBvZiB0aGUgZW5xdWV1ZWQgam9iIGluY2x1ZGluZyBqb2Igc3RhdHVzIGFuZCB0aGUgbmFtZVxuICAgKiBvZiB0aGUgZmluZS10dW5lZCBtb2RlbHMgb25jZSBjb21wbGV0ZS5cbiAgICpcbiAgICogW0xlYXJuIG1vcmUgYWJvdXQgZmluZS10dW5pbmddKC9kb2NzL2d1aWRlcy9maW5lLXR1bmluZylcbiAgICovXG4gIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zdCgnL2ZpbmVfdHVuaW5nL2pvYnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBpbmZvIGFib3V0IGEgZmluZS10dW5pbmcgam9iLlxuICAgKlxuICAgKiBbTGVhcm4gbW9yZSBhYm91dCBmaW5lLXR1bmluZ10oL2RvY3MvZ3VpZGVzL2ZpbmUtdHVuaW5nKVxuICAgKi9cbiAgcmV0cmlldmUoZmluZVR1bmluZ0pvYklkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAvZmluZV90dW5pbmcvam9icy8ke2ZpbmVUdW5pbmdKb2JJZH1gLCBvcHRpb25zKTtcbiAgfVxuICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0QVBJTGlzdCgnL2ZpbmVfdHVuaW5nL2pvYnMnLCBGaW5lVHVuaW5nSm9ic1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEltbWVkaWF0ZWx5IGNhbmNlbCBhIGZpbmUtdHVuZSBqb2IuXG4gICAqL1xuICBjYW5jZWwoZmluZVR1bmluZ0pvYklkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zdChgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSWR9L2NhbmNlbGAsIG9wdGlvbnMpO1xuICB9XG4gIGxpc3RFdmVudHMoZmluZVR1bmluZ0pvYklkLCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0RXZlbnRzKGZpbmVUdW5pbmdKb2JJZCwge30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0QVBJTGlzdChgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSWR9L2V2ZW50c2AsIEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlLCB7XG4gICAgICBxdWVyeSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBGaW5lVHVuaW5nSm9ic1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHt9XG5leHBvcnQgY2xhc3MgRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHt9XG4oZnVuY3Rpb24gKEpvYnMpIHt9KShKb2JzIHx8IChKb2JzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpvYnMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmltcG9ydCB7IEpvYnMgfSBmcm9tICcuL2pvYnMubWpzJztcbmltcG9ydCAqIGFzIEFQSSBmcm9tICcuL2luZGV4Lm1qcyc7XG5leHBvcnQgY2xhc3MgRmluZVR1bmluZyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmpvYnMgPSBuZXcgSm9icyh0aGlzLmNsaWVudCk7XG4gIH1cbn1cbihmdW5jdGlvbiAoRmluZVR1bmluZykge1xuICBGaW5lVHVuaW5nLkpvYnMgPSBBUEkuSm9icztcbiAgRmluZVR1bmluZy5GaW5lVHVuaW5nSm9ic1BhZ2UgPSBBUEkuRmluZVR1bmluZ0pvYnNQYWdlO1xuICBGaW5lVHVuaW5nLkZpbmVUdW5pbmdKb2JFdmVudHNQYWdlID0gQVBJLkZpbmVUdW5pbmdKb2JFdmVudHNQYWdlO1xufSkoRmluZVR1bmluZyB8fCAoRmluZVR1bmluZyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maW5lLXR1bmluZy5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuaW1wb3J0IHsgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIH0gZnJvbSAnb3BlbmFpL2NvcmUnO1xuZXhwb3J0IGNsYXNzIEltYWdlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB2YXJpYXRpb24gb2YgYSBnaXZlbiBpbWFnZS5cbiAgICovXG4gIGNyZWF0ZVZhcmlhdGlvbihib2R5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zdCgnL2ltYWdlcy92YXJpYXRpb25zJywgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucyB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZWRpdGVkIG9yIGV4dGVuZGVkIGltYWdlIGdpdmVuIGFuIG9yaWdpbmFsIGltYWdlIGFuZCBhIHByb21wdC5cbiAgICovXG4gIGVkaXQoYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnBvc3QoJy9pbWFnZXMvZWRpdHMnLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbWFnZSBnaXZlbiBhIHByb21wdC5cbiAgICovXG4gIGdlbmVyYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvaW1hZ2VzL2dlbmVyYXRpb25zJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICB9XG59XG4oZnVuY3Rpb24gKEltYWdlcykge30pKEltYWdlcyB8fCAoSW1hZ2VzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltYWdlcy5tanMubWFwXG4iLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICdvcGVuYWkvcmVzb3VyY2UnO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gJ29wZW5haS9wYWdpbmF0aW9uJztcbmV4cG9ydCBjbGFzcyBNb2RlbHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYSBtb2RlbCBpbnN0YW5jZSwgcHJvdmlkaW5nIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IHRoZSBtb2RlbCBzdWNoIGFzXG4gICAqIHRoZSBvd25lciBhbmQgcGVybWlzc2lvbmluZy5cbiAgICovXG4gIHJldHJpZXZlKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAvbW9kZWxzLyR7bW9kZWx9YCwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3RzIHRoZSBjdXJyZW50bHkgYXZhaWxhYmxlIG1vZGVscywgYW5kIHByb3ZpZGVzIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IGVhY2hcbiAgICogb25lIHN1Y2ggYXMgdGhlIG93bmVyIGFuZCBhdmFpbGFiaWxpdHkuXG4gICAqL1xuICBsaXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBUElMaXN0KCcvbW9kZWxzJywgTW9kZWxzUGFnZSwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGZpbmUtdHVuZWQgbW9kZWwuIFlvdSBtdXN0IGhhdmUgdGhlIE93bmVyIHJvbGUgaW4geW91ciBvcmdhbml6YXRpb24uXG4gICAqL1xuICBkZWwobW9kZWwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5kZWxldGUoYC9tb2RlbHMvJHttb2RlbH1gLCBvcHRpb25zKTtcbiAgfVxufVxuLyoqXG4gKiBOb3RlOiBubyBwYWdpbmF0aW9uIGFjdHVhbGx5IG9jY3VycyB5ZXQsIHRoaXMgaXMgZm9yIGZvcndhcmRzLWNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RlbHNQYWdlIGV4dGVuZHMgUGFnZSB7fVxuKGZ1bmN0aW9uIChNb2RlbHMpIHt9KShNb2RlbHMgfHwgKE1vZGVscyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2RlbHMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlJztcbmV4cG9ydCBjbGFzcyBNb2RlcmF0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENsYXNzaWZpZXMgaWYgdGV4dCB2aW9sYXRlcyBPcGVuQUkncyBDb250ZW50IFBvbGljeVxuICAgKi9cbiAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvbW9kZXJhdGlvbnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbn1cbihmdW5jdGlvbiAoTW9kZXJhdGlvbnMpIHt9KShNb2RlcmF0aW9ucyB8fCAoTW9kZXJhdGlvbnMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kZXJhdGlvbnMubWpzLm1hcFxuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy5cbnZhciBfYTtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi9jb3JlLm1qcyc7XG5pbXBvcnQgKiBhcyBQYWdpbmF0aW9uIGZyb20gJy4vcGFnaW5hdGlvbi5tanMnO1xuaW1wb3J0ICogYXMgQVBJIGZyb20gJy4vcmVzb3VyY2VzL2luZGV4Lm1qcyc7XG5pbXBvcnQgKiBhcyBFcnJvcnMgZnJvbSAnLi9lcnJvci5tanMnO1xuaW1wb3J0ICogYXMgVXBsb2FkcyBmcm9tICcuL3VwbG9hZHMubWpzJztcbi8qKiBBUEkgQ2xpZW50IGZvciBpbnRlcmZhY2luZyB3aXRoIHRoZSBPcGVuQUkgQVBJLiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5BSSBleHRlbmRzIENvcmUuQVBJQ2xpZW50IHtcbiAgLyoqXG4gICAqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIE9wZW5BSSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5hcGlLZXk9cHJvY2Vzcy5lbnZbJ09QRU5BSV9BUElfS0VZJ11dIC0gVGhlIEFQSSBLZXkgdG8gc2VuZCB0byB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuYmFzZVVSTF0gLSBPdmVycmlkZSB0aGUgZGVmYXVsdCBiYXNlIFVSTCBmb3IgdGhlIEFQSS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRpbWVvdXQ9MTAgbWludXRlc10gLSBUaGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0aGUgY2xpZW50IHdpbGwgd2FpdCBmb3IgYSByZXNwb25zZSBiZWZvcmUgdGltaW5nIG91dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmh0dHBBZ2VudF0gLSBBbiBIVFRQIGFnZW50IHVzZWQgdG8gbWFuYWdlIEhUVFAocykgY29ubmVjdGlvbnMuXG4gICAqIEBwYXJhbSB7Q29yZS5GZXRjaH0gW29wdHMuZmV0Y2hdIC0gU3BlY2lmeSBhIGN1c3RvbSBgZmV0Y2hgIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWF4UmV0cmllcz0yXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0aW1lcyB0aGUgY2xpZW50IHdpbGwgcmV0cnkgYSByZXF1ZXN0LlxuICAgKiBAcGFyYW0ge0NvcmUuSGVhZGVyc30gb3B0cy5kZWZhdWx0SGVhZGVycyAtIERlZmF1bHQgaGVhZGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge0NvcmUuRGVmYXVsdFF1ZXJ5fSBvcHRzLmRlZmF1bHRRdWVyeSAtIERlZmF1bHQgcXVlcnkgcGFyYW1ldGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmRhbmdlcm91c2x5QWxsb3dCcm93c2VyPWZhbHNlXSAtIEJ5IGRlZmF1bHQsIGNsaWVudC1zaWRlIHVzZSBvZiB0aGlzIGxpYnJhcnkgaXMgbm90IGFsbG93ZWQsIGFzIGl0IHJpc2tzIGV4cG9zaW5nIHlvdXIgc2VjcmV0IEFQSSBjcmVkZW50aWFscyB0byBhdHRhY2tlcnMuXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbH0gW29wdHMub3JnYW5pemF0aW9uXVxuICAgKi9cbiAgY29uc3RydWN0b3IoX2IpIHtcbiAgICB2YXIgX2MsIF9kO1xuICAgIHZhciB7XG4gICAgICBhcGlLZXkgPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9BUElfS0VZJyksXG4gICAgICBvcmdhbml6YXRpb24gPSAoX2MgPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9PUkdfSUQnKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogbnVsbCxcbiAgICAgIC4uLm9wdHNcbiAgICB9ID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2I7XG4gICAgaWYgKGFwaUtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIE9QRU5BSV9BUElfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG1pc3Npbmcgb3IgZW1wdHk7IGVpdGhlciBwcm92aWRlIGl0LCBvciBpbnN0YW50aWF0ZSB0aGUgT3BlbkFJIGNsaWVudCB3aXRoIGFuIGFwaUtleSBvcHRpb24sIGxpa2UgbmV3IE9wZW5BSSh7IGFwaUtleTogJ215IGFwaUtleScgfSkuXCIsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgYXBpS2V5LFxuICAgICAgb3JnYW5pemF0aW9uLFxuICAgICAgYmFzZVVSTDogYGh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjFgLFxuICAgICAgLi4ub3B0cyxcbiAgICB9O1xuICAgIGlmICghb3B0aW9ucy5kYW5nZXJvdXNseUFsbG93QnJvd3NlciAmJiBDb3JlLmlzUnVubmluZ0luQnJvd3NlcigpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgcnVubmluZyBpbiBhIGJyb3dzZXItbGlrZSBlbnZpcm9ubWVudC5cXG5cXG5UaGlzIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQsIGFzIGl0IHJpc2tzIGV4cG9zaW5nIHlvdXIgc2VjcmV0IEFQSSBjcmVkZW50aWFscyB0byBhdHRhY2tlcnMuXFxuSWYgeW91IHVuZGVyc3RhbmQgdGhlIHJpc2tzIGFuZCBoYXZlIGFwcHJvcHJpYXRlIG1pdGlnYXRpb25zIGluIHBsYWNlLFxcbnlvdSBjYW4gc2V0IHRoZSBgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXJgIG9wdGlvbiB0byBgdHJ1ZWAsIGUuZy4sXFxuXFxubmV3IE9wZW5BSSh7IGFwaUtleSwgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUgfSk7XFxuXFxuaHR0cHM6Ly9oZWxwLm9wZW5haS5jb20vZW4vYXJ0aWNsZXMvNTExMjU5NS1iZXN0LXByYWN0aWNlcy1mb3ItYXBpLWtleS1zYWZldHlcXG5cIixcbiAgICAgICk7XG4gICAgfVxuICAgIHN1cGVyKHtcbiAgICAgIGJhc2VVUkw6IG9wdGlvbnMuYmFzZVVSTCxcbiAgICAgIHRpbWVvdXQ6IChfZCA9IG9wdGlvbnMudGltZW91dCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogNjAwMDAwIC8qIDEwIG1pbnV0ZXMgKi8sXG4gICAgICBodHRwQWdlbnQ6IG9wdGlvbnMuaHR0cEFnZW50LFxuICAgICAgbWF4UmV0cmllczogb3B0aW9ucy5tYXhSZXRyaWVzLFxuICAgICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgfSk7XG4gICAgdGhpcy5jb21wbGV0aW9ucyA9IG5ldyBBUEkuQ29tcGxldGlvbnModGhpcyk7XG4gICAgdGhpcy5jaGF0ID0gbmV3IEFQSS5DaGF0KHRoaXMpO1xuICAgIHRoaXMuZWRpdHMgPSBuZXcgQVBJLkVkaXRzKHRoaXMpO1xuICAgIHRoaXMuZW1iZWRkaW5ncyA9IG5ldyBBUEkuRW1iZWRkaW5ncyh0aGlzKTtcbiAgICB0aGlzLmZpbGVzID0gbmV3IEFQSS5GaWxlcyh0aGlzKTtcbiAgICB0aGlzLmltYWdlcyA9IG5ldyBBUEkuSW1hZ2VzKHRoaXMpO1xuICAgIHRoaXMuYXVkaW8gPSBuZXcgQVBJLkF1ZGlvKHRoaXMpO1xuICAgIHRoaXMubW9kZXJhdGlvbnMgPSBuZXcgQVBJLk1vZGVyYXRpb25zKHRoaXMpO1xuICAgIHRoaXMubW9kZWxzID0gbmV3IEFQSS5Nb2RlbHModGhpcyk7XG4gICAgdGhpcy5maW5lVHVuaW5nID0gbmV3IEFQSS5GaW5lVHVuaW5nKHRoaXMpO1xuICAgIHRoaXMuZmluZVR1bmVzID0gbmV3IEFQSS5GaW5lVHVuZXModGhpcyk7XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgdGhpcy5vcmdhbml6YXRpb24gPSBvcmdhbml6YXRpb247XG4gIH1cbiAgZGVmYXVsdFF1ZXJ5KCkge1xuICAgIHJldHVybiB0aGlzLl9vcHRpb25zLmRlZmF1bHRRdWVyeTtcbiAgfVxuICBkZWZhdWx0SGVhZGVycyhvcHRzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLmRlZmF1bHRIZWFkZXJzKG9wdHMpLFxuICAgICAgJ09wZW5BSS1Pcmdhbml6YXRpb24nOiB0aGlzLm9yZ2FuaXphdGlvbixcbiAgICAgIC4uLnRoaXMuX29wdGlvbnMuZGVmYXVsdEhlYWRlcnMsXG4gICAgfTtcbiAgfVxuICBhdXRoSGVhZGVycyhvcHRzKSB7XG4gICAgcmV0dXJuIHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAgfTtcbiAgfVxufVxuX2EgPSBPcGVuQUk7XG5PcGVuQUkuT3BlbkFJID0gX2E7XG5PcGVuQUkuQVBJRXJyb3IgPSBFcnJvcnMuQVBJRXJyb3I7XG5PcGVuQUkuQVBJQ29ubmVjdGlvbkVycm9yID0gRXJyb3JzLkFQSUNvbm5lY3Rpb25FcnJvcjtcbk9wZW5BSS5BUElDb25uZWN0aW9uVGltZW91dEVycm9yID0gRXJyb3JzLkFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3I7XG5PcGVuQUkuQVBJVXNlckFib3J0RXJyb3IgPSBFcnJvcnMuQVBJVXNlckFib3J0RXJyb3I7XG5PcGVuQUkuTm90Rm91bmRFcnJvciA9IEVycm9ycy5Ob3RGb3VuZEVycm9yO1xuT3BlbkFJLkNvbmZsaWN0RXJyb3IgPSBFcnJvcnMuQ29uZmxpY3RFcnJvcjtcbk9wZW5BSS5SYXRlTGltaXRFcnJvciA9IEVycm9ycy5SYXRlTGltaXRFcnJvcjtcbk9wZW5BSS5CYWRSZXF1ZXN0RXJyb3IgPSBFcnJvcnMuQmFkUmVxdWVzdEVycm9yO1xuT3BlbkFJLkF1dGhlbnRpY2F0aW9uRXJyb3IgPSBFcnJvcnMuQXV0aGVudGljYXRpb25FcnJvcjtcbk9wZW5BSS5JbnRlcm5hbFNlcnZlckVycm9yID0gRXJyb3JzLkludGVybmFsU2VydmVyRXJyb3I7XG5PcGVuQUkuUGVybWlzc2lvbkRlbmllZEVycm9yID0gRXJyb3JzLlBlcm1pc3Npb25EZW5pZWRFcnJvcjtcbk9wZW5BSS5VbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IgPSBFcnJvcnMuVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yO1xuZXhwb3J0IGNvbnN0IHtcbiAgQVBJRXJyb3IsXG4gIEFQSUNvbm5lY3Rpb25FcnJvcixcbiAgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvcixcbiAgQVBJVXNlckFib3J0RXJyb3IsXG4gIE5vdEZvdW5kRXJyb3IsXG4gIENvbmZsaWN0RXJyb3IsXG4gIFJhdGVMaW1pdEVycm9yLFxuICBCYWRSZXF1ZXN0RXJyb3IsXG4gIEF1dGhlbnRpY2F0aW9uRXJyb3IsXG4gIEludGVybmFsU2VydmVyRXJyb3IsXG4gIFBlcm1pc3Npb25EZW5pZWRFcnJvcixcbiAgVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yLFxufSA9IEVycm9ycztcbmV4cG9ydCB2YXIgdG9GaWxlID0gVXBsb2Fkcy50b0ZpbGU7XG5leHBvcnQgdmFyIGZpbGVGcm9tUGF0aCA9IFVwbG9hZHMuZmlsZUZyb21QYXRoO1xuKGZ1bmN0aW9uIChPcGVuQUkpIHtcbiAgLy8gSGVscGVyIGZ1bmN0aW9uc1xuICBPcGVuQUkudG9GaWxlID0gVXBsb2Fkcy50b0ZpbGU7XG4gIE9wZW5BSS5maWxlRnJvbVBhdGggPSBVcGxvYWRzLmZpbGVGcm9tUGF0aDtcbiAgT3BlbkFJLlBhZ2UgPSBQYWdpbmF0aW9uLlBhZ2U7XG4gIE9wZW5BSS5DdXJzb3JQYWdlID0gUGFnaW5hdGlvbi5DdXJzb3JQYWdlO1xuICBPcGVuQUkuQ29tcGxldGlvbnMgPSBBUEkuQ29tcGxldGlvbnM7XG4gIE9wZW5BSS5DaGF0ID0gQVBJLkNoYXQ7XG4gIE9wZW5BSS5FZGl0cyA9IEFQSS5FZGl0cztcbiAgT3BlbkFJLkVtYmVkZGluZ3MgPSBBUEkuRW1iZWRkaW5ncztcbiAgT3BlbkFJLkZpbGVzID0gQVBJLkZpbGVzO1xuICBPcGVuQUkuRmlsZU9iamVjdHNQYWdlID0gQVBJLkZpbGVPYmplY3RzUGFnZTtcbiAgT3BlbkFJLkltYWdlcyA9IEFQSS5JbWFnZXM7XG4gIE9wZW5BSS5BdWRpbyA9IEFQSS5BdWRpbztcbiAgT3BlbkFJLk1vZGVyYXRpb25zID0gQVBJLk1vZGVyYXRpb25zO1xuICBPcGVuQUkuTW9kZWxzID0gQVBJLk1vZGVscztcbiAgT3BlbkFJLk1vZGVsc1BhZ2UgPSBBUEkuTW9kZWxzUGFnZTtcbiAgT3BlbkFJLkZpbmVUdW5pbmcgPSBBUEkuRmluZVR1bmluZztcbiAgT3BlbkFJLkZpbmVUdW5lcyA9IEFQSS5GaW5lVHVuZXM7XG4gIE9wZW5BSS5GaW5lVHVuZXNQYWdlID0gQVBJLkZpbmVUdW5lc1BhZ2U7XG59KShPcGVuQUkgfHwgKE9wZW5BSSA9IHt9KSk7XG5leHBvcnQgZGVmYXVsdCBPcGVuQUk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiB7XG4gIF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbmV4cG9ydCB7IF9fcHVibGljRmllbGQgfTtcbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcbmV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IGZyb21CeXRlQXJyYXlcblxudmFyIGxvb2t1cCA9IFtdXG52YXIgcmV2TG9va3VwID0gW11cbnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblxudmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV1cbiAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpXG59XG5cbi8vIFN1cHBvcnQgZGVjb2RpbmcgVVJMLXNhZmUgYmFzZTY0IHN0cmluZ3MsIGFzIE5vZGUuanMgZG9lcy5cbi8vIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0I1VSTF9hcHBsaWNhdGlvbnNcbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIGdldExlbnMgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyBUcmltIG9mZiBleHRyYSBieXRlcyBhZnRlciBwbGFjZWhvbGRlciBieXRlcyBhcmUgZm91bmRcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvaXNzdWVzLzQyXG4gIHZhciB2YWxpZExlbiA9IGI2NC5pbmRleE9mKCc9JylcbiAgaWYgKHZhbGlkTGVuID09PSAtMSkgdmFsaWRMZW4gPSBsZW5cblxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlblxuICAgID8gMFxuICAgIDogNCAtICh2YWxpZExlbiAlIDQpXG5cbiAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXVxufVxuXG4vLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aCAoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuXG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpXG5cbiAgdmFyIGN1ckJ5dGUgPSAwXG5cbiAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMFxuICAgID8gdmFsaWRMZW4gLSA0XG4gICAgOiB2YWxpZExlblxuXG4gIHZhciBpXG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfFxuICAgICAgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gMTYpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDIpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAxKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgNCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID1cbiAgICAgICgodWludDhbaV0gPDwgMTYpICYgMHhGRjAwMDApICtcbiAgICAgICgodWludDhbaSArIDFdIDw8IDgpICYgMHhGRjAwKSArXG4gICAgICAodWludDhbaSArIDJdICYgMHhGRilcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aFxuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayh1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpKSlcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDJdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl0gK1xuICAgICAgJz09J1xuICAgIClcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAxMF0gK1xuICAgICAgbG9va3VwWyh0bXAgPj4gNCkgJiAweDNGXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCAyKSAmIDB4M0ZdICtcbiAgICAgICc9J1xuICAgIClcbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuIiwiaW1wb3J0IHsgX19wdWJsaWNGaWVsZCB9IGZyb20gJy4vY2h1bmstWFhQR1pIV1ouanMnO1xuaW1wb3J0IGJhc2U2NCBmcm9tICdiYXNlNjQtanMnO1xuXG4vLyBzcmMvdXRpbHMudHNcbmZ1bmN0aW9uIG5ldmVyKF8pIHtcbn1cbmZ1bmN0aW9uIGJ5dGVQYWlyTWVyZ2UocGllY2UsIHJhbmtzKSB7XG4gIGxldCBwYXJ0cyA9IEFycmF5LmZyb20oXG4gICAgeyBsZW5ndGg6IHBpZWNlLmxlbmd0aCB9LFxuICAgIChfLCBpKSA9PiAoeyBzdGFydDogaSwgZW5kOiBpICsgMSB9KVxuICApO1xuICB3aGlsZSAocGFydHMubGVuZ3RoID4gMSkge1xuICAgIGxldCBtaW5SYW5rID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgY29uc3Qgc2xpY2UgPSBwaWVjZS5zbGljZShwYXJ0c1tpXS5zdGFydCwgcGFydHNbaSArIDFdLmVuZCk7XG4gICAgICBjb25zdCByYW5rID0gcmFua3MuZ2V0KHNsaWNlLmpvaW4oXCIsXCIpKTtcbiAgICAgIGlmIChyYW5rID09IG51bGwpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgaWYgKG1pblJhbmsgPT0gbnVsbCB8fCByYW5rIDwgbWluUmFua1swXSkge1xuICAgICAgICBtaW5SYW5rID0gW3JhbmssIGldO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWluUmFuayAhPSBudWxsKSB7XG4gICAgICBjb25zdCBpID0gbWluUmFua1sxXTtcbiAgICAgIHBhcnRzW2ldID0geyBzdGFydDogcGFydHNbaV0uc3RhcnQsIGVuZDogcGFydHNbaSArIDFdLmVuZCB9O1xuICAgICAgcGFydHMuc3BsaWNlKGkgKyAxLCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJ0cztcbn1cbmZ1bmN0aW9uIGJ5dGVQYWlyRW5jb2RlKHBpZWNlLCByYW5rcykge1xuICBpZiAocGllY2UubGVuZ3RoID09PSAxKVxuICAgIHJldHVybiBbcmFua3MuZ2V0KHBpZWNlLmpvaW4oXCIsXCIpKV07XG4gIHJldHVybiBieXRlUGFpck1lcmdlKHBpZWNlLCByYW5rcykubWFwKChwKSA9PiByYW5rcy5nZXQocGllY2Uuc2xpY2UocC5zdGFydCwgcC5lbmQpLmpvaW4oXCIsXCIpKSkuZmlsdGVyKCh4KSA9PiB4ICE9IG51bGwpO1xufVxuZnVuY3Rpb24gZXNjYXBlUmVnZXgoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xcXFxeJCorPy4oKXxbXFxde31dL2csIFwiXFxcXCQmXCIpO1xufVxudmFyIF9UaWt0b2tlbiA9IGNsYXNzIHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzcGVjaWFsVG9rZW5zO1xuICAvKiogQGludGVybmFsICovXG4gIGludmVyc2VTcGVjaWFsVG9rZW5zO1xuICAvKiogQGludGVybmFsICovXG4gIHBhdFN0cjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICB0ZXh0RW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAvKiogQGludGVybmFsICovXG4gIHRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIik7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcmFua01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgdGV4dE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0cnVjdG9yKHJhbmtzLCBleHRlbmRlZFNwZWNpYWxUb2tlbnMpIHtcbiAgICB0aGlzLnBhdFN0ciA9IHJhbmtzLnBhdF9zdHI7XG4gICAgY29uc3QgdW5jb21wcmVzc2VkID0gcmFua3MuYnBlX3JhbmtzLnNwbGl0KFwiXFxuXCIpLmZpbHRlcihCb29sZWFuKS5yZWR1Y2UoKG1lbW8sIHgpID0+IHtcbiAgICAgIGNvbnN0IFtfLCBvZmZzZXRTdHIsIC4uLnRva2Vuc10gPSB4LnNwbGl0KFwiIFwiKTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IE51bWJlci5wYXJzZUludChvZmZzZXRTdHIsIDEwKTtcbiAgICAgIHRva2Vucy5mb3JFYWNoKCh0b2tlbiwgaSkgPT4gbWVtb1t0b2tlbl0gPSBvZmZzZXQgKyBpKTtcbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH0sIHt9KTtcbiAgICBmb3IgKGNvbnN0IFt0b2tlbiwgcmFua10gb2YgT2JqZWN0LmVudHJpZXModW5jb21wcmVzc2VkKSkge1xuICAgICAgY29uc3QgYnl0ZXMgPSBiYXNlNjQudG9CeXRlQXJyYXkodG9rZW4pO1xuICAgICAgdGhpcy5yYW5rTWFwLnNldChieXRlcy5qb2luKFwiLFwiKSwgcmFuayk7XG4gICAgICB0aGlzLnRleHRNYXAuc2V0KHJhbmssIGJ5dGVzKTtcbiAgICB9XG4gICAgdGhpcy5zcGVjaWFsVG9rZW5zID0geyAuLi5yYW5rcy5zcGVjaWFsX3Rva2VucywgLi4uZXh0ZW5kZWRTcGVjaWFsVG9rZW5zIH07XG4gICAgdGhpcy5pbnZlcnNlU3BlY2lhbFRva2VucyA9IE9iamVjdC5lbnRyaWVzKHRoaXMuc3BlY2lhbFRva2VucykucmVkdWNlKChtZW1vLCBbdGV4dCwgcmFua10pID0+IHtcbiAgICAgIG1lbW9bcmFua10gPSB0aGlzLnRleHRFbmNvZGVyLmVuY29kZSh0ZXh0KTtcbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH0sIHt9KTtcbiAgfVxuICBlbmNvZGUodGV4dCwgYWxsb3dlZFNwZWNpYWwgPSBbXSwgZGlzYWxsb3dlZFNwZWNpYWwgPSBcImFsbFwiKSB7XG4gICAgY29uc3QgcmVnZXhlcyA9IG5ldyBSZWdFeHAodGhpcy5wYXRTdHIsIFwidWdcIik7XG4gICAgY29uc3Qgc3BlY2lhbFJlZ2V4ID0gX1Rpa3Rva2VuLnNwZWNpYWxUb2tlblJlZ2V4KFxuICAgICAgT2JqZWN0LmtleXModGhpcy5zcGVjaWFsVG9rZW5zKVxuICAgICk7XG4gICAgY29uc3QgcmV0ID0gW107XG4gICAgY29uc3QgYWxsb3dlZFNwZWNpYWxTZXQgPSBuZXcgU2V0KFxuICAgICAgYWxsb3dlZFNwZWNpYWwgPT09IFwiYWxsXCIgPyBPYmplY3Qua2V5cyh0aGlzLnNwZWNpYWxUb2tlbnMpIDogYWxsb3dlZFNwZWNpYWxcbiAgICApO1xuICAgIGNvbnN0IGRpc2FsbG93ZWRTcGVjaWFsU2V0ID0gbmV3IFNldChcbiAgICAgIGRpc2FsbG93ZWRTcGVjaWFsID09PSBcImFsbFwiID8gT2JqZWN0LmtleXModGhpcy5zcGVjaWFsVG9rZW5zKS5maWx0ZXIoXG4gICAgICAgICh4KSA9PiAhYWxsb3dlZFNwZWNpYWxTZXQuaGFzKHgpXG4gICAgICApIDogZGlzYWxsb3dlZFNwZWNpYWxcbiAgICApO1xuICAgIGlmIChkaXNhbGxvd2VkU3BlY2lhbFNldC5zaXplID4gMCkge1xuICAgICAgY29uc3QgZGlzYWxsb3dlZFNwZWNpYWxSZWdleCA9IF9UaWt0b2tlbi5zcGVjaWFsVG9rZW5SZWdleChbXG4gICAgICAgIC4uLmRpc2FsbG93ZWRTcGVjaWFsU2V0XG4gICAgICBdKTtcbiAgICAgIGNvbnN0IHNwZWNpYWxNYXRjaCA9IHRleHQubWF0Y2goZGlzYWxsb3dlZFNwZWNpYWxSZWdleCk7XG4gICAgICBpZiAoc3BlY2lhbE1hdGNoICE9IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBUaGUgdGV4dCBjb250YWlucyBhIHNwZWNpYWwgdG9rZW4gdGhhdCBpcyBub3QgYWxsb3dlZDogJHtzcGVjaWFsTWF0Y2hbMF19YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgbmV4dFNwZWNpYWwgPSBudWxsO1xuICAgICAgbGV0IHN0YXJ0RmluZCA9IHN0YXJ0O1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgc3BlY2lhbFJlZ2V4Lmxhc3RJbmRleCA9IHN0YXJ0RmluZDtcbiAgICAgICAgbmV4dFNwZWNpYWwgPSBzcGVjaWFsUmVnZXguZXhlYyh0ZXh0KTtcbiAgICAgICAgaWYgKG5leHRTcGVjaWFsID09IG51bGwgfHwgYWxsb3dlZFNwZWNpYWxTZXQuaGFzKG5leHRTcGVjaWFsWzBdKSlcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgc3RhcnRGaW5kID0gbmV4dFNwZWNpYWwuaW5kZXggKyAxO1xuICAgICAgfVxuICAgICAgY29uc3QgZW5kID0gbmV4dFNwZWNpYWw/LmluZGV4ID8/IHRleHQubGVuZ3RoO1xuICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiB0ZXh0LnN1YnN0cmluZyhzdGFydCwgZW5kKS5tYXRjaEFsbChyZWdleGVzKSkge1xuICAgICAgICBjb25zdCBwaWVjZSA9IHRoaXMudGV4dEVuY29kZXIuZW5jb2RlKG1hdGNoWzBdKTtcbiAgICAgICAgY29uc3QgdG9rZW4yID0gdGhpcy5yYW5rTWFwLmdldChwaWVjZS5qb2luKFwiLFwiKSk7XG4gICAgICAgIGlmICh0b2tlbjIgIT0gbnVsbCkge1xuICAgICAgICAgIHJldC5wdXNoKHRva2VuMik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0LnB1c2goLi4uYnl0ZVBhaXJFbmNvZGUocGllY2UsIHRoaXMucmFua01hcCkpO1xuICAgICAgfVxuICAgICAgaWYgKG5leHRTcGVjaWFsID09IG51bGwpXG4gICAgICAgIGJyZWFrO1xuICAgICAgbGV0IHRva2VuID0gdGhpcy5zcGVjaWFsVG9rZW5zW25leHRTcGVjaWFsWzBdXTtcbiAgICAgIHJldC5wdXNoKHRva2VuKTtcbiAgICAgIHN0YXJ0ID0gbmV4dFNwZWNpYWwuaW5kZXggKyBuZXh0U3BlY2lhbFswXS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cbiAgZGVjb2RlKHRva2Vucykge1xuICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgIGxldCBsZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCB0b2tlbnMubGVuZ3RoOyArK2kyKSB7XG4gICAgICBjb25zdCB0b2tlbiA9IHRva2Vuc1tpMl07XG4gICAgICBjb25zdCBieXRlcyA9IHRoaXMudGV4dE1hcC5nZXQodG9rZW4pID8/IHRoaXMuaW52ZXJzZVNwZWNpYWxUb2tlbnNbdG9rZW5dO1xuICAgICAgaWYgKGJ5dGVzICE9IG51bGwpIHtcbiAgICAgICAgcmVzLnB1c2goYnl0ZXMpO1xuICAgICAgICBsZW5ndGggKz0gYnl0ZXMubGVuZ3RoO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBtZXJnZWRBcnJheSA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoY29uc3QgYnl0ZXMgb2YgcmVzKSB7XG4gICAgICBtZXJnZWRBcnJheS5zZXQoYnl0ZXMsIGkpO1xuICAgICAgaSArPSBieXRlcy5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRleHREZWNvZGVyLmRlY29kZShtZXJnZWRBcnJheSk7XG4gIH1cbn07XG52YXIgVGlrdG9rZW4gPSBfVGlrdG9rZW47XG5fX3B1YmxpY0ZpZWxkKFRpa3Rva2VuLCBcInNwZWNpYWxUb2tlblJlZ2V4XCIsICh0b2tlbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBSZWdFeHAodG9rZW5zLm1hcCgoaSkgPT4gZXNjYXBlUmVnZXgoaSkpLmpvaW4oXCJ8XCIpLCBcImdcIik7XG59KTtcbmZ1bmN0aW9uIGdldEVuY29kaW5nTmFtZUZvck1vZGVsKG1vZGVsKSB7XG4gIHN3aXRjaCAobW9kZWwpIHtcbiAgICBjYXNlIFwiZ3B0MlwiOiB7XG4gICAgICByZXR1cm4gXCJncHQyXCI7XG4gICAgfVxuICAgIGNhc2UgXCJjb2RlLWN1c2htYW4tMDAxXCI6XG4gICAgY2FzZSBcImNvZGUtY3VzaG1hbi0wMDJcIjpcbiAgICBjYXNlIFwiY29kZS1kYXZpbmNpLTAwMVwiOlxuICAgIGNhc2UgXCJjb2RlLWRhdmluY2ktMDAyXCI6XG4gICAgY2FzZSBcImN1c2htYW4tY29kZXhcIjpcbiAgICBjYXNlIFwiZGF2aW5jaS1jb2RleFwiOlxuICAgIGNhc2UgXCJ0ZXh0LWRhdmluY2ktMDAyXCI6XG4gICAgY2FzZSBcInRleHQtZGF2aW5jaS0wMDNcIjoge1xuICAgICAgcmV0dXJuIFwicDUwa19iYXNlXCI7XG4gICAgfVxuICAgIGNhc2UgXCJjb2RlLWRhdmluY2ktZWRpdC0wMDFcIjpcbiAgICBjYXNlIFwidGV4dC1kYXZpbmNpLWVkaXQtMDAxXCI6IHtcbiAgICAgIHJldHVybiBcInA1MGtfZWRpdFwiO1xuICAgIH1cbiAgICBjYXNlIFwiYWRhXCI6XG4gICAgY2FzZSBcImJhYmJhZ2VcIjpcbiAgICBjYXNlIFwiY29kZS1zZWFyY2gtYWRhLWNvZGUtMDAxXCI6XG4gICAgY2FzZSBcImNvZGUtc2VhcmNoLWJhYmJhZ2UtY29kZS0wMDFcIjpcbiAgICBjYXNlIFwiY3VyaWVcIjpcbiAgICBjYXNlIFwiZGF2aW5jaVwiOlxuICAgIGNhc2UgXCJ0ZXh0LWFkYS0wMDFcIjpcbiAgICBjYXNlIFwidGV4dC1iYWJiYWdlLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LWN1cmllLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LWRhdmluY2ktMDAxXCI6XG4gICAgY2FzZSBcInRleHQtc2VhcmNoLWFkYS1kb2MtMDAxXCI6XG4gICAgY2FzZSBcInRleHQtc2VhcmNoLWJhYmJhZ2UtZG9jLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNlYXJjaC1jdXJpZS1kb2MtMDAxXCI6XG4gICAgY2FzZSBcInRleHQtc2VhcmNoLWRhdmluY2ktZG9jLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNpbWlsYXJpdHktYWRhLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNpbWlsYXJpdHktYmFiYmFnZS0wMDFcIjpcbiAgICBjYXNlIFwidGV4dC1zaW1pbGFyaXR5LWN1cmllLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNpbWlsYXJpdHktZGF2aW5jaS0wMDFcIjoge1xuICAgICAgcmV0dXJuIFwicjUwa19iYXNlXCI7XG4gICAgfVxuICAgIGNhc2UgXCJncHQtMy41LXR1cmJvLTE2ay0wNjEzXCI6XG4gICAgY2FzZSBcImdwdC0zLjUtdHVyYm8tMTZrXCI6XG4gICAgY2FzZSBcImdwdC0zLjUtdHVyYm8tMDYxM1wiOlxuICAgIGNhc2UgXCJncHQtMy41LXR1cmJvLTAzMDFcIjpcbiAgICBjYXNlIFwiZ3B0LTMuNS10dXJib1wiOlxuICAgIGNhc2UgXCJncHQtNC0zMmstMDYxM1wiOlxuICAgIGNhc2UgXCJncHQtNC0zMmstMDMxNFwiOlxuICAgIGNhc2UgXCJncHQtNC0zMmtcIjpcbiAgICBjYXNlIFwiZ3B0LTQtMDYxM1wiOlxuICAgIGNhc2UgXCJncHQtNC0wMzE0XCI6XG4gICAgY2FzZSBcImdwdC00XCI6XG4gICAgY2FzZSBcInRleHQtZW1iZWRkaW5nLWFkYS0wMDJcIjoge1xuICAgICAgcmV0dXJuIFwiY2wxMDBrX2Jhc2VcIjtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gbW9kZWxcIik7XG4gIH1cbn1cblxuZXhwb3J0IHsgVGlrdG9rZW4sIGdldEVuY29kaW5nTmFtZUZvck1vZGVsLCBuZXZlciB9O1xuIiwiaW1wb3J0IHsgVGlrdG9rZW4sIGdldEVuY29kaW5nTmFtZUZvck1vZGVsLCB9IGZyb20gXCJqcy10aWt0b2tlbi9saXRlXCI7XG5pbXBvcnQgeyBBc3luY0NhbGxlciB9IGZyb20gXCIuL2FzeW5jX2NhbGxlci5qc1wiO1xuY29uc3QgY2FjaGUgPSB7fTtcbmNvbnN0IGNhbGxlciA9IC8qICNfX1BVUkVfXyAqLyBuZXcgQXN5bmNDYWxsZXIoe30pO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEVuY29kaW5nKGVuY29kaW5nLCBvcHRpb25zKSB7XG4gICAgaWYgKCEoZW5jb2RpbmcgaW4gY2FjaGUpKSB7XG4gICAgICAgIGNhY2hlW2VuY29kaW5nXSA9IGNhbGxlclxuICAgICAgICAgICAgLmZldGNoKGBodHRwczovL3Rpa3Rva2VuLnBhZ2VzLmRldi9qcy8ke2VuY29kaW5nfS5qc29uYCwge1xuICAgICAgICAgICAgc2lnbmFsOiBvcHRpb25zPy5zaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgY2FjaGVbZW5jb2RpbmddO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVGlrdG9rZW4oYXdhaXQgY2FjaGVbZW5jb2RpbmddLCBvcHRpb25zPy5leHRlbmRlZFNwZWNpYWxUb2tlbnMpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuY29kaW5nRm9yTW9kZWwobW9kZWwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZ2V0RW5jb2RpbmcoZ2V0RW5jb2RpbmdOYW1lRm9yTW9kZWwobW9kZWwpLCBvcHRpb25zKTtcbn1cbiIsImltcG9ydCB7IGVuY29kaW5nRm9yTW9kZWwgfSBmcm9tIFwiLi4vdXRpbC90aWt0b2tlbi5qc1wiO1xuLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvanMtdGlrdG9rZW5cbmV4cG9ydCBjb25zdCBnZXRNb2RlbE5hbWVGb3JUaWt0b2tlbiA9IChtb2RlbE5hbWUpID0+IHtcbiAgICBpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtMy41LXR1cmJvLTE2a1wiKSkge1xuICAgICAgICByZXR1cm4gXCJncHQtMy41LXR1cmJvLTE2a1wiO1xuICAgIH1cbiAgICBpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtMy41LXR1cmJvLVwiKSkge1xuICAgICAgICByZXR1cm4gXCJncHQtMy41LXR1cmJvXCI7XG4gICAgfVxuICAgIGlmIChtb2RlbE5hbWUuc3RhcnRzV2l0aChcImdwdC00LTMya1wiKSkge1xuICAgICAgICByZXR1cm4gXCJncHQtNC0zMmtcIjtcbiAgICB9XG4gICAgaWYgKG1vZGVsTmFtZS5zdGFydHNXaXRoKFwiZ3B0LTQtXCIpKSB7XG4gICAgICAgIHJldHVybiBcImdwdC00XCI7XG4gICAgfVxuICAgIHJldHVybiBtb2RlbE5hbWU7XG59O1xuZXhwb3J0IGNvbnN0IGdldEVtYmVkZGluZ0NvbnRleHRTaXplID0gKG1vZGVsTmFtZSkgPT4ge1xuICAgIHN3aXRjaCAobW9kZWxOYW1lKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0LWVtYmVkZGluZy1hZGEtMDAyXCI6XG4gICAgICAgICAgICByZXR1cm4gODE5MTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAyMDQ2O1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZ2V0TW9kZWxDb250ZXh0U2l6ZSA9IChtb2RlbE5hbWUpID0+IHtcbiAgICBzd2l0Y2ggKGdldE1vZGVsTmFtZUZvclRpa3Rva2VuKG1vZGVsTmFtZSkpIHtcbiAgICAgICAgY2FzZSBcImdwdC0zLjUtdHVyYm8tMTZrXCI6XG4gICAgICAgICAgICByZXR1cm4gMTYzODQ7XG4gICAgICAgIGNhc2UgXCJncHQtMy41LXR1cmJvXCI6XG4gICAgICAgICAgICByZXR1cm4gNDA5NjtcbiAgICAgICAgY2FzZSBcImdwdC00LTMya1wiOlxuICAgICAgICAgICAgcmV0dXJuIDMyNzY4O1xuICAgICAgICBjYXNlIFwiZ3B0LTRcIjpcbiAgICAgICAgICAgIHJldHVybiA4MTkyO1xuICAgICAgICBjYXNlIFwidGV4dC1kYXZpbmNpLTAwM1wiOlxuICAgICAgICAgICAgcmV0dXJuIDQwOTc7XG4gICAgICAgIGNhc2UgXCJ0ZXh0LWN1cmllLTAwMVwiOlxuICAgICAgICAgICAgcmV0dXJuIDIwNDg7XG4gICAgICAgIGNhc2UgXCJ0ZXh0LWJhYmJhZ2UtMDAxXCI6XG4gICAgICAgICAgICByZXR1cm4gMjA0ODtcbiAgICAgICAgY2FzZSBcInRleHQtYWRhLTAwMVwiOlxuICAgICAgICAgICAgcmV0dXJuIDIwNDg7XG4gICAgICAgIGNhc2UgXCJjb2RlLWRhdmluY2ktMDAyXCI6XG4gICAgICAgICAgICByZXR1cm4gODAwMDtcbiAgICAgICAgY2FzZSBcImNvZGUtY3VzaG1hbi0wMDFcIjpcbiAgICAgICAgICAgIHJldHVybiAyMDQ4O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIDQwOTc7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVNYXhUb2tlbnMgPSBhc3luYyAoeyBwcm9tcHQsIG1vZGVsTmFtZSwgfSkgPT4ge1xuICAgIGxldCBudW1Ub2tlbnM7XG4gICAgdHJ5IHtcbiAgICAgICAgbnVtVG9rZW5zID0gKGF3YWl0IGVuY29kaW5nRm9yTW9kZWwoZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4obW9kZWxOYW1lKSkpLmVuY29kZShwcm9tcHQpLmxlbmd0aDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBjYWxjdWxhdGUgbnVtYmVyIG9mIHRva2VucywgZmFsbGluZyBiYWNrIHRvIGFwcHJveGltYXRlIGNvdW50XCIpO1xuICAgICAgICAvLyBmYWxsYmFjayB0byBhcHByb3hpbWF0ZSBjYWxjdWxhdGlvbiBpZiB0aWt0b2tlbiBpcyBub3QgYXZhaWxhYmxlXG4gICAgICAgIC8vIGVhY2ggdG9rZW4gaXMgfjQgY2hhcmFjdGVyczogaHR0cHM6Ly9oZWxwLm9wZW5haS5jb20vZW4vYXJ0aWNsZXMvNDkzNjg1Ni13aGF0LWFyZS10b2tlbnMtYW5kLWhvdy10by1jb3VudC10aGVtI1xuICAgICAgICBudW1Ub2tlbnMgPSBNYXRoLmNlaWwocHJvbXB0Lmxlbmd0aCAvIDQpO1xuICAgIH1cbiAgICBjb25zdCBtYXhUb2tlbnMgPSBnZXRNb2RlbENvbnRleHRTaXplKG1vZGVsTmFtZSk7XG4gICAgcmV0dXJuIG1heFRva2VucyAtIG51bVRva2Vucztcbn07XG4iLCJpbXBvcnQgeyBTZXJpYWxpemFibGUgfSBmcm9tIFwiLi4vbG9hZC9zZXJpYWxpemFibGUuanNcIjtcbmV4cG9ydCBjb25zdCBSVU5fS0VZID0gXCJfX3J1blwiO1xuLyoqXG4gKiBDaHVuayBvZiBhIHNpbmdsZSBnZW5lcmF0aW9uLiBVc2VkIGZvciBzdHJlYW1pbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBHZW5lcmF0aW9uQ2h1bmsge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZXh0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdlbmVyYXRpb25JbmZvXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGV4dCA9IGZpZWxkcy50ZXh0O1xuICAgICAgICB0aGlzLmdlbmVyYXRpb25JbmZvID0gZmllbGRzLmdlbmVyYXRpb25JbmZvO1xuICAgIH1cbiAgICBjb25jYXQoY2h1bmspIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmF0aW9uQ2h1bmsoe1xuICAgICAgICAgICAgdGV4dDogdGhpcy50ZXh0ICsgY2h1bmsudGV4dCxcbiAgICAgICAgICAgIGdlbmVyYXRpb25JbmZvOiB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5nZW5lcmF0aW9uSW5mbyxcbiAgICAgICAgICAgICAgICAuLi5jaHVuay5nZW5lcmF0aW9uSW5mbyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIHR5cGVzIG9mIG1lc3NhZ2VzIGluIGEgY29udmVyc2F0aW9uLiBJdCBpbmNsdWRlc1xuICogcHJvcGVydGllcyBsaWtlIGBjb250ZW50YCwgYG5hbWVgLCBhbmQgYGFkZGl0aW9uYWxfa3dhcmdzYC4gSXQgYWxzb1xuICogaW5jbHVkZXMgbWV0aG9kcyBsaWtlIGB0b0RpY3QoKWAgYW5kIGBfZ2V0VHlwZSgpYC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VNZXNzYWdlIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIFVzZSB7QGxpbmsgQmFzZU1lc3NhZ2UuY29udGVudH0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBnZXQgdGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCBcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBrd2FyZ3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgZmllbGRzID0geyBjb250ZW50OiBmaWVsZHMsIGFkZGl0aW9uYWxfa3dhcmdzOiBrd2FyZ3MgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIGFkZGl0aW9uYWxfa3dhcmdzIGlzIHBhc3NlZCBpbnRvIHN1cGVyKCkgZm9yIHNlcmlhbGl6YXRpb25cbiAgICAgICAgaWYgKCFmaWVsZHMuYWRkaXRpb25hbF9rd2FyZ3MpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgZmllbGRzLmFkZGl0aW9uYWxfa3dhcmdzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJzY2hlbWFcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgLyoqIFRoZSB0ZXh0IG9mIHRoZSBtZXNzYWdlLiAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb250ZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKiBUaGUgbmFtZSBvZiB0aGUgbWVzc2FnZSBzZW5kZXIgaW4gYSBtdWx0aS11c2VyIGNoYXQuICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqIEFkZGl0aW9uYWwga2V5d29yZCBhcmd1bWVudHMgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYWRkaXRpb25hbF9rd2FyZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gZmllbGRzLm5hbWU7XG4gICAgICAgIHRoaXMuY29udGVudCA9IGZpZWxkcy5jb250ZW50O1xuICAgICAgICB0aGlzLmFkZGl0aW9uYWxfa3dhcmdzID0gZmllbGRzLmFkZGl0aW9uYWxfa3dhcmdzO1xuICAgIH1cbiAgICB0b0RpY3QoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLl9nZXRUeXBlKCksXG4gICAgICAgICAgICBkYXRhOiB0aGlzLnRvSlNPTigpXG4gICAgICAgICAgICAgICAgLmt3YXJncyxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYSBjaHVuayBvZiBhIG1lc3NhZ2UsIHdoaWNoIGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlclxuICogbWVzc2FnZSBjaHVua3MuIEl0IGluY2x1ZGVzIGEgbWV0aG9kIGBfbWVyZ2Vfa3dhcmdzX2RpY3QoKWAgZm9yIG1lcmdpbmdcbiAqIGFkZGl0aW9uYWwga2V5d29yZCBhcmd1bWVudHMgZnJvbSBhbm90aGVyIGBCYXNlTWVzc2FnZUNodW5rYCBpbnRvIHRoaXNcbiAqIG9uZS4gSXQgYWxzbyBvdmVycmlkZXMgdGhlIGBfX2FkZF9fKClgIG1ldGhvZCB0byBzdXBwb3J0IGNvbmNhdGVuYXRpb25cbiAqIG9mIGBCYXNlTWVzc2FnZUNodW5rYCBpbnN0YW5jZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlTWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuICAgIHN0YXRpYyBfbWVyZ2VBZGRpdGlvbmFsS3dhcmdzKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IHsgLi4ubGVmdCB9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhyaWdodCkpIHtcbiAgICAgICAgICAgIGlmIChtZXJnZWRba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtZXJnZWRba2V5XSAhPT0gdHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBhZGRpdGlvbmFsX2t3YXJnc1ske2tleX1dIGFscmVhZHkgZXhpc3RzIGluIHRoZSBtZXNzYWdlIGNodW5rLCBidXQgd2l0aCBhIGRpZmZlcmVudCB0eXBlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1lcmdlZFtrZXldID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2tleV0gPSBtZXJnZWRba2V5XSArIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkobWVyZ2VkW2tleV0pICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIG1lcmdlZFtrZXldID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2tleV0gPSB0aGlzLl9tZXJnZUFkZGl0aW9uYWxLd2FyZ3MobWVyZ2VkW2tleV0sIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgYWRkaXRpb25hbF9rd2FyZ3NbJHtrZXl9XSBhbHJlYWR5IGV4aXN0cyBpbiB0aGlzIG1lc3NhZ2UgY2h1bmsuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICB9XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYSBodW1hbiBtZXNzYWdlIGluIGEgY29udmVyc2F0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgSHVtYW5NZXNzYWdlIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJIdW1hbk1lc3NhZ2VcIjtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImh1bWFuXCI7XG4gICAgfVxufVxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYSBodW1hbiBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGhcbiAqIG90aGVyIGh1bWFuIG1lc3NhZ2UgY2h1bmtzLlxuICovXG5leHBvcnQgY2xhc3MgSHVtYW5NZXNzYWdlQ2h1bmsgZXh0ZW5kcyBCYXNlTWVzc2FnZUNodW5rIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiSHVtYW5NZXNzYWdlQ2h1bmtcIjtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImh1bWFuXCI7XG4gICAgfVxuICAgIGNvbmNhdChjaHVuaykge1xuICAgICAgICByZXR1cm4gbmV3IEh1bWFuTWVzc2FnZUNodW5rKHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuY29udGVudCArIGNodW5rLmNvbnRlbnQsXG4gICAgICAgICAgICBhZGRpdGlvbmFsX2t3YXJnczogSHVtYW5NZXNzYWdlQ2h1bmsuX21lcmdlQWRkaXRpb25hbEt3YXJncyh0aGlzLmFkZGl0aW9uYWxfa3dhcmdzLCBjaHVuay5hZGRpdGlvbmFsX2t3YXJncyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhbiBBSSBtZXNzYWdlIGluIGEgY29udmVyc2F0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQUlNZXNzYWdlIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJBSU1lc3NhZ2VcIjtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImFpXCI7XG4gICAgfVxufVxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYW4gQUkgbWVzc2FnZSwgd2hpY2ggY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoXG4gKiBvdGhlciBBSSBtZXNzYWdlIGNodW5rcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFJTWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2VDaHVuayB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkFJTWVzc2FnZUNodW5rXCI7XG4gICAgfVxuICAgIF9nZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJhaVwiO1xuICAgIH1cbiAgICBjb25jYXQoY2h1bmspIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBSU1lc3NhZ2VDaHVuayh7XG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQgKyBjaHVuay5jb250ZW50LFxuICAgICAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3M6IEFJTWVzc2FnZUNodW5rLl9tZXJnZUFkZGl0aW9uYWxLd2FyZ3ModGhpcy5hZGRpdGlvbmFsX2t3YXJncywgY2h1bmsuYWRkaXRpb25hbF9rd2FyZ3MpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYSBzeXN0ZW0gbWVzc2FnZSBpbiBhIGNvbnZlcnNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFN5c3RlbU1lc3NhZ2UgZXh0ZW5kcyBCYXNlTWVzc2FnZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlN5c3RlbU1lc3NhZ2VcIjtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcInN5c3RlbVwiO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIGNodW5rIG9mIGEgc3lzdGVtIG1lc3NhZ2UsIHdoaWNoIGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aFxuICogb3RoZXIgc3lzdGVtIG1lc3NhZ2UgY2h1bmtzLlxuICovXG5leHBvcnQgY2xhc3MgU3lzdGVtTWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2VDaHVuayB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlN5c3RlbU1lc3NhZ2VDaHVua1wiO1xuICAgIH1cbiAgICBfZ2V0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwic3lzdGVtXCI7XG4gICAgfVxuICAgIGNvbmNhdChjaHVuaykge1xuICAgICAgICByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2VDaHVuayh7XG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQgKyBjaHVuay5jb250ZW50LFxuICAgICAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3M6IFN5c3RlbU1lc3NhZ2VDaHVuay5fbWVyZ2VBZGRpdGlvbmFsS3dhcmdzKHRoaXMuYWRkaXRpb25hbF9rd2FyZ3MsIGNodW5rLmFkZGl0aW9uYWxfa3dhcmdzKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogVXNlIHtAbGluayBCYXNlTWVzc2FnZX0gaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGNvbnN0IEJhc2VDaGF0TWVzc2FnZSA9IEJhc2VNZXNzYWdlO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogVXNlIHtAbGluayBIdW1hbk1lc3NhZ2V9IGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjb25zdCBIdW1hbkNoYXRNZXNzYWdlID0gSHVtYW5NZXNzYWdlO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogVXNlIHtAbGluayBBSU1lc3NhZ2V9IGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjb25zdCBBSUNoYXRNZXNzYWdlID0gQUlNZXNzYWdlO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogVXNlIHtAbGluayBTeXN0ZW1NZXNzYWdlfSBpbnN0ZWFkLlxuICovXG5leHBvcnQgY29uc3QgU3lzdGVtQ2hhdE1lc3NhZ2UgPSBTeXN0ZW1NZXNzYWdlO1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgZnVuY3Rpb24gbWVzc2FnZSBpbiBhIGNvbnZlcnNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uTWVzc2FnZSBleHRlbmRzIEJhc2VNZXNzYWdlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiRnVuY3Rpb25NZXNzYWdlXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgbmFtZSkge1xuICAgICAgICBpZiAodHlwZW9mIGZpZWxkcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICBmaWVsZHMgPSB7IGNvbnRlbnQ6IGZpZWxkcywgbmFtZTogbmFtZSB9O1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgfVxuICAgIF9nZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJmdW5jdGlvblwiO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIGNodW5rIG9mIGEgZnVuY3Rpb24gbWVzc2FnZSwgd2hpY2ggY2FuIGJlIGNvbmNhdGVuYXRlZFxuICogd2l0aCBvdGhlciBmdW5jdGlvbiBtZXNzYWdlIGNodW5rcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uTWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2VDaHVuayB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkZ1bmN0aW9uTWVzc2FnZUNodW5rXCI7XG4gICAgfVxuICAgIF9nZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJmdW5jdGlvblwiO1xuICAgIH1cbiAgICBjb25jYXQoY2h1bmspIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbk1lc3NhZ2VDaHVuayh7XG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQgKyBjaHVuay5jb250ZW50LFxuICAgICAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3M6IEZ1bmN0aW9uTWVzc2FnZUNodW5rLl9tZXJnZUFkZGl0aW9uYWxLd2FyZ3ModGhpcy5hZGRpdGlvbmFsX2t3YXJncywgY2h1bmsuYWRkaXRpb25hbF9rd2FyZ3MpLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lID8/IFwiXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIGNoYXQgbWVzc2FnZSBpbiBhIGNvbnZlcnNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIENoYXRNZXNzYWdlIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJDaGF0TWVzc2FnZVwiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMsIHJvbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbiwgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgZmllbGRzID0geyBjb250ZW50OiBmaWVsZHMsIHJvbGU6IHJvbGUgfTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyb2xlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucm9sZSA9IGZpZWxkcy5yb2xlO1xuICAgIH1cbiAgICBfZ2V0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiZ2VuZXJpY1wiO1xuICAgIH1cbiAgICBzdGF0aWMgaXNJbnN0YW5jZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwiZ2VuZXJpY1wiO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Jhc2VNZXNzYWdlKG1lc3NhZ2VMaWtlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBtZXNzYWdlTGlrZT8uX2dldFR5cGUgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZShtZXNzYWdlTGlrZSkge1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZUxpa2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIdW1hbk1lc3NhZ2UobWVzc2FnZUxpa2UpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Jhc2VNZXNzYWdlKG1lc3NhZ2VMaWtlKSkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZUxpa2U7XG4gICAgfVxuICAgIGNvbnN0IFt0eXBlLCBjb250ZW50XSA9IG1lc3NhZ2VMaWtlO1xuICAgIGlmICh0eXBlID09PSBcImh1bWFuXCIgfHwgdHlwZSA9PT0gXCJ1c2VyXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIdW1hbk1lc3NhZ2UoeyBjb250ZW50IH0pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSBcImFpXCIgfHwgdHlwZSA9PT0gXCJhc3Npc3RhbnRcIikge1xuICAgICAgICByZXR1cm4gbmV3IEFJTWVzc2FnZSh7IGNvbnRlbnQgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwic3lzdGVtXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTeXN0ZW1NZXNzYWdlKHsgY29udGVudCB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNvZXJjZSBtZXNzYWdlIGZyb20gYXJyYXk6IG9ubHkgaHVtYW4sIEFJLCBvciBzeXN0ZW0gbWVzc2FnZSBjb2VyY2lvbiBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLmApO1xuICAgIH1cbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIGNodW5rIG9mIGEgY2hhdCBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGhcbiAqIG90aGVyIGNoYXQgbWVzc2FnZSBjaHVua3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGF0TWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2VDaHVuayB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkNoYXRNZXNzYWdlQ2h1bmtcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCByb2xlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZmllbGRzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24sIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIGZpZWxkcyA9IHsgY29udGVudDogZmllbGRzLCByb2xlOiByb2xlIH07XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicm9sZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJvbGUgPSBmaWVsZHMucm9sZTtcbiAgICB9XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImdlbmVyaWNcIjtcbiAgICB9XG4gICAgY29uY2F0KGNodW5rKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdE1lc3NhZ2VDaHVuayh7XG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQgKyBjaHVuay5jb250ZW50LFxuICAgICAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3M6IENoYXRNZXNzYWdlQ2h1bmsuX21lcmdlQWRkaXRpb25hbEt3YXJncyh0aGlzLmFkZGl0aW9uYWxfa3dhcmdzLCBjaHVuay5hZGRpdGlvbmFsX2t3YXJncyksXG4gICAgICAgICAgICByb2xlOiB0aGlzLnJvbGUsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDaGF0R2VuZXJhdGlvbkNodW5rIGV4dGVuZHMgR2VuZXJhdGlvbkNodW5rIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWVzc2FnZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBmaWVsZHMubWVzc2FnZTtcbiAgICB9XG4gICAgY29uY2F0KGNodW5rKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdEdlbmVyYXRpb25DaHVuayh7XG4gICAgICAgICAgICB0ZXh0OiB0aGlzLnRleHQgKyBjaHVuay50ZXh0LFxuICAgICAgICAgICAgZ2VuZXJhdGlvbkluZm86IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmdlbmVyYXRpb25JbmZvLFxuICAgICAgICAgICAgICAgIC4uLmNodW5rLmdlbmVyYXRpb25JbmZvLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZS5jb25jYXQoY2h1bmsubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogTWFwcyBtZXNzYWdlcyBmcm9tIGFuIG9sZGVyIGZvcm1hdCAoVjEpIHRvIHRoZSBjdXJyZW50IGBTdG9yZWRNZXNzYWdlYFxuICogZm9ybWF0LiBJZiB0aGUgbWVzc2FnZSBpcyBhbHJlYWR5IGluIHRoZSBgU3RvcmVkTWVzc2FnZWAgZm9ybWF0LCBpdCBpc1xuICogcmV0dXJuZWQgYXMgaXMuIE90aGVyd2lzZSwgaXQgdHJhbnNmb3JtcyB0aGUgVjEgbWVzc2FnZSBpbnRvIGFcbiAqIGBTdG9yZWRNZXNzYWdlYC4gVGhpcyBmdW5jdGlvbiBpcyBpbXBvcnRhbnQgZm9yIG1haW50YWluaW5nXG4gKiBjb21wYXRpYmlsaXR5IHdpdGggb2xkZXIgbWVzc2FnZSBmb3JtYXRzLlxuICovXG5mdW5jdGlvbiBtYXBWMU1lc3NhZ2VUb1N0b3JlZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzIG1hcHBlciB3aGVuIHdlIGRlcHJlY2F0ZSB0aGUgb2xkIG1lc3NhZ2UgZm9ybWF0LlxuICAgIGlmIChtZXNzYWdlLmRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHYxTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB2MU1lc3NhZ2UudHlwZSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiB2MU1lc3NhZ2UudGV4dCxcbiAgICAgICAgICAgICAgICByb2xlOiB2MU1lc3NhZ2Uucm9sZSxcbiAgICAgICAgICAgICAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXBTdG9yZWRNZXNzYWdlVG9DaGF0TWVzc2FnZShtZXNzYWdlKSB7XG4gICAgY29uc3Qgc3RvcmVkTWVzc2FnZSA9IG1hcFYxTWVzc2FnZVRvU3RvcmVkTWVzc2FnZShtZXNzYWdlKTtcbiAgICBzd2l0Y2ggKHN0b3JlZE1lc3NhZ2UudHlwZSkge1xuICAgICAgICBjYXNlIFwiaHVtYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSHVtYW5NZXNzYWdlKHN0b3JlZE1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIGNhc2UgXCJhaVwiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBSU1lc3NhZ2Uoc3RvcmVkTWVzc2FnZS5kYXRhKTtcbiAgICAgICAgY2FzZSBcInN5c3RlbVwiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTeXN0ZW1NZXNzYWdlKHN0b3JlZE1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgaWYgKHN0b3JlZE1lc3NhZ2UuZGF0YS5uYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOYW1lIG11c3QgYmUgZGVmaW5lZCBmb3IgZnVuY3Rpb24gbWVzc2FnZXNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uTWVzc2FnZShzdG9yZWRNZXNzYWdlLmRhdGEpO1xuICAgICAgICBjYXNlIFwiY2hhdFwiOiB7XG4gICAgICAgICAgICBpZiAoc3RvcmVkTWVzc2FnZS5kYXRhLnJvbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJvbGUgbXVzdCBiZSBkZWZpbmVkIGZvciBjaGF0IG1lc3NhZ2VzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGF0TWVzc2FnZShzdG9yZWRNZXNzYWdlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEdvdCB1bmV4cGVjdGVkIHR5cGU6ICR7c3RvcmVkTWVzc2FnZS50eXBlfWApO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBQcm9tcHRWYWx1ZSBjbGFzcy4gQWxsIHByb21wdCB2YWx1ZXMgc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZVByb21wdFZhbHVlIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIGNoYXQgbWVzc2FnZSBoaXN0b3JpZXMuIEFsbCBjaGF0IG1lc3NhZ2UgaGlzdG9yaWVzXG4gKiBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlQ2hhdE1lc3NhZ2VIaXN0b3J5IGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIGxpc3QgY2hhdCBtZXNzYWdlIGhpc3Rvcmllcy4gQWxsIGxpc3QgY2hhdCBtZXNzYWdlXG4gKiBoaXN0b3JpZXMgc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZUxpc3RDaGF0TWVzc2FnZUhpc3RvcnkgZXh0ZW5kcyBTZXJpYWxpemFibGUge1xuICAgIGFkZFVzZXJNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTWVzc2FnZShuZXcgSHVtYW5NZXNzYWdlKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgYWRkQUlDaGF0TWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE1lc3NhZ2UobmV3IEFJTWVzc2FnZShtZXNzYWdlKSk7XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgY2FjaGVzLiBBbGwgY2FjaGVzIHNob3VsZCBleHRlbmQgdGhpcyBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VDYWNoZSB7XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGFsbCBmaWxlIHN0b3Jlcy4gQWxsIGZpbGUgc3RvcmVzIHNob3VsZCBleHRlbmQgdGhpc1xuICogY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlRmlsZVN0b3JlIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIGVudGl0eSBzdG9yZXMuIEFsbCBlbnRpdHkgc3RvcmVzIHNob3VsZCBleHRlbmQgdGhpc1xuICogY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlRW50aXR5U3RvcmUgZXh0ZW5kcyBTZXJpYWxpemFibGUge1xufVxuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyBmb3IgYSBkb2N1bWVudCBzdG9yZS4gQWxsIGRvY3VtZW50IHN0b3JlcyBzaG91bGQgZXh0ZW5kXG4gKiB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgRG9jc3RvcmUge1xufVxuIiwiLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGdlbmVyYXRlcyBhbiBlbmRwb2ludCBVUkwgZm9yIChBenVyZSkgT3BlbkFJXG4gKiBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHByb3ZpZGVkLlxuICpcbiAqIEBwYXJhbSB7T3BlbkFJRW5kcG9pbnRDb25maWd9IGNvbmZpZyAtIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBmb3IgdGhlIChBenVyZSkgZW5kcG9pbnQuXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvbmZpZy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lIC0gVGhlIGRlcGxveW1lbnQgbmFtZSBvZiBBenVyZSBPcGVuQUkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lIC0gVGhlIGluc3RhbmNlIG5hbWUgb2YgQXp1cmUgT3BlbkFJLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvbmZpZy5henVyZU9wZW5BSUFwaUtleSAtIFRoZSBBUEkgS2V5IGZvciBBenVyZSBPcGVuQUkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmF6dXJlT3BlbkFJQmFzZVBhdGggLSBUaGUgYmFzZSBwYXRoIGZvciBBenVyZSBPcGVuQUkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY29uZmlnLmJhc2VVUkwgLSBTb21lIG90aGVyIGN1c3RvbSBiYXNlIHBhdGggVVJMLlxuICpcbiAqIFRoZSBmdW5jdGlvbiBvcGVyYXRlcyBhcyBmb2xsb3dzOlxuICogLSBJZiBib3RoIGBhenVyZU9wZW5BSUJhc2VQYXRoYCBhbmQgYGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVgIChwbHVzIGBhenVyZU9wZW5BSUFwaUtleWApIGFyZSBwcm92aWRlZCwgaXQgcmV0dXJucyBhbiBVUkwgY29tYmluaW5nIHRoZXNlIHR3byBwYXJhbWV0ZXJzIChgJHthenVyZU9wZW5BSUJhc2VQYXRofS8ke2F6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWV9YCkuXG4gKiAtIElmIGBhenVyZU9wZW5BSUFwaUtleWAgaXMgcHJvdmlkZWQsIGl0IGNoZWNrcyBmb3IgYGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lYCBhbmQgYGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVgIGFuZCB0aHJvd3MgYW4gZXJyb3IgaWYgYW55IG9mIHRoZXNlIGlzIG1pc3NpbmcuIElmIGJvdGggYXJlIHByb3ZpZGVkLCBpdCBnZW5lcmF0ZXMgYW4gVVJMIGluY29ycG9yYXRpbmcgdGhlc2UgcGFyYW1ldGVycy5cbiAqIC0gSWYgbm9uZSBvZiB0aGUgYWJvdmUgY29uZGl0aW9ucyBhcmUgbWV0LCByZXR1cm4gYW55IGN1c3RvbSBgYmFzZVVSTGAuXG4gKiAtIFRoZSBmdW5jdGlvbiByZXR1cm5zIHRoZSBnZW5lcmF0ZWQgVVJMIGFzIGEgc3RyaW5nLCBvciB1bmRlZmluZWQgaWYgbm8gY3VzdG9tIHBhdGhzIGFyZSBzcGVjaWZpZWQuXG4gKlxuICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBuZWNlc3NhcnkgcGFyYW1ldGVycyBmb3IgZ2VuZXJhdGluZyB0aGUgVVJMIGFyZSBtaXNzaW5nLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmcgfCB1bmRlZmluZWR9IFRoZSBnZW5lcmF0ZWQgKEF6dXJlKSBPcGVuQUkgZW5kcG9pbnQgVVJMLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5kcG9pbnQoY29uZmlnKSB7XG4gICAgY29uc3QgeyBhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lLCBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSwgYXp1cmVPcGVuQUlBcGlLZXksIGF6dXJlT3BlbkFJQmFzZVBhdGgsIGJhc2VVUkwsIH0gPSBjb25maWc7XG4gICAgaWYgKGF6dXJlT3BlbkFJQXBpS2V5ICYmXG4gICAgICAgIGF6dXJlT3BlbkFJQmFzZVBhdGggJiZcbiAgICAgICAgYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkge1xuICAgICAgICByZXR1cm4gYCR7YXp1cmVPcGVuQUlCYXNlUGF0aH0vJHthenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lfWA7XG4gICAgfVxuICAgIGlmIChhenVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICBpZiAoIWF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSBpcyByZXF1aXJlZCB3aGVuIHVzaW5nIGF6dXJlT3BlbkFJQXBpS2V5XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSBpcyBhIHJlcXVpcmVkIHBhcmFtZXRlciB3aGVuIHVzaW5nIGF6dXJlT3BlbkFJQXBpS2V5XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgaHR0cHM6Ly8ke2F6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lfS5vcGVuYWkuYXp1cmUuY29tL29wZW5haS9kZXBsb3ltZW50cy8ke2F6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWV9YDtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2VVUkw7XG59XG4iLCJleHBvcnQgY29uc3QgY2h1bmtBcnJheSA9IChhcnIsIGNodW5rU2l6ZSkgPT4gYXJyLnJlZHVjZSgoY2h1bmtzLCBlbGVtLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGNodW5rSW5kZXggPSBNYXRoLmZsb29yKGluZGV4IC8gY2h1bmtTaXplKTtcbiAgICBjb25zdCBjaHVuayA9IGNodW5rc1tjaHVua0luZGV4XSB8fCBbXTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBjaHVua3NbY2h1bmtJbmRleF0gPSBjaHVuay5jb25jYXQoW2VsZW1dKTtcbiAgICByZXR1cm4gY2h1bmtzO1xufSwgW10pO1xuIiwiLy8gRGVmYXVsdCBnZW5lcmljIFwiYW55XCIgdmFsdWVzIGFyZSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4vLyBSZXBsYWNlIHdpdGggXCJzdHJpbmdcIiB3aGVuIHdlIGFyZSBjb21mb3J0YWJsZSB3aXRoIGEgYnJlYWtpbmcgY2hhbmdlLlxuaW1wb3J0IHsgQmFzZVByb21wdFZhbHVlLCBIdW1hbk1lc3NhZ2UsIH0gZnJvbSBcIi4uL3NjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgU2VyaWFsaXphYmxlIH0gZnJvbSBcIi4uL2xvYWQvc2VyaWFsaXphYmxlLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuLi9zY2hlbWEvcnVubmFibGUvaW5kZXguanNcIjtcbi8qKlxuICogUmVwcmVzZW50cyBhIHByb21wdCB2YWx1ZSBhcyBhIHN0cmluZy4gSXQgZXh0ZW5kcyB0aGUgQmFzZVByb21wdFZhbHVlXG4gKiBjbGFzcyBhbmQgb3ZlcnJpZGVzIHRoZSB0b1N0cmluZyBhbmQgdG9DaGF0TWVzc2FnZXMgbWV0aG9kcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmluZ1Byb21wdFZhbHVlIGV4dGVuZHMgQmFzZVByb21wdFZhbHVlIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInByb21wdHNcIiwgXCJiYXNlXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2YWx1ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgdG9DaGF0TWVzc2FnZXMoKSB7XG4gICAgICAgIHJldHVybiBbbmV3IEh1bWFuTWVzc2FnZSh0aGlzLnZhbHVlKV07XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBwcm9tcHQgdGVtcGxhdGVzLiBFeHBvc2VzIGEgZm9ybWF0IG1ldGhvZCB0aGF0IHJldHVybnMgYVxuICogc3RyaW5nIHByb21wdCBnaXZlbiBhIHNldCBvZiBpbnB1dCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlUHJvbXB0VGVtcGxhdGUgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgZ2V0IGxjX2F0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXJ0aWFsVmFyaWFibGVzOiB1bmRlZmluZWQsIC8vIHB5dGhvbiBkb2Vzbid0IHN1cHBvcnQgdGhpcyB5ZXRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoaW5wdXQpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwicHJvbXB0c1wiLCB0aGlzLl9nZXRQcm9tcHRUeXBlKCldXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dFZhcmlhYmxlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvdXRwdXRQYXJzZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGFydGlhbFZhcmlhYmxlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB7IGlucHV0VmFyaWFibGVzIH0gPSBpbnB1dDtcbiAgICAgICAgaWYgKGlucHV0VmFyaWFibGVzLmluY2x1ZGVzKFwic3RvcFwiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGhhdmUgYW4gaW5wdXQgdmFyaWFibGUgbmFtZWQgJ3N0b3AnLCBhcyBpdCBpcyB1c2VkIGludGVybmFsbHksIHBsZWFzZSByZW5hbWUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgaW5wdXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgcGFydGlhbCB2YXJpYWJsZXMgYW5kIHVzZXIgdmFyaWFibGVzLlxuICAgICAqIEBwYXJhbSB1c2VyVmFyaWFibGVzIFRoZSB1c2VyIHZhcmlhYmxlcyB0byBtZXJnZSB3aXRoIHRoZSBwYXJ0aWFsIHZhcmlhYmxlcy5cbiAgICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgbWVyZ2VkIHZhcmlhYmxlcy5cbiAgICAgKi9cbiAgICBhc3luYyBtZXJnZVBhcnRpYWxBbmRVc2VyVmFyaWFibGVzKHVzZXJWYXJpYWJsZXMpIHtcbiAgICAgICAgY29uc3QgcGFydGlhbFZhcmlhYmxlcyA9IHRoaXMucGFydGlhbFZhcmlhYmxlcyA/PyB7fTtcbiAgICAgICAgY29uc3QgcGFydGlhbFZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJ0aWFsVmFyaWFibGVzKSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxWYWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbFZhbHVlc1trZXldID0gYXdhaXQgdmFsdWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbGxLd2FyZ3MgPSB7XG4gICAgICAgICAgICAuLi5wYXJ0aWFsVmFsdWVzLFxuICAgICAgICAgICAgLi4udXNlclZhcmlhYmxlcyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGFsbEt3YXJncztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgcHJvbXB0IHRlbXBsYXRlIHdpdGggdGhlIGdpdmVuIGlucHV0IGFuZCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdG8gaW52b2tlIHRoZSBwcm9tcHQgdGVtcGxhdGUgd2l0aC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgY2FsbGJhY2suXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCBvZiB0aGUgcHJvbXB0IHRlbXBsYXRlLlxuICAgICAqL1xuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoKGlucHV0KSA9PiB0aGlzLmZvcm1hdFByb21wdFZhbHVlKGlucHV0KSwgaW5wdXQsIHsgLi4ub3B0aW9ucywgcnVuVHlwZTogXCJwcm9tcHRcIiB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEganNvbi1saWtlIG9iamVjdCByZXByZXNlbnRpbmcgdGhpcyBwcm9tcHQgdGVtcGxhdGUuXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZSAudG9KU09OKCkgaW5zdGVhZFwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBMb2FkIGEgcHJvbXB0IHRlbXBsYXRlIGZyb20gYSBqc29uLWxpa2Ugb2JqZWN0IGRlc2NyaWJpbmcgaXQuXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIERlc2VyaWFsaXppbmcgbmVlZHMgdG8gYmUgYXN5bmMgYmVjYXVzZSB0ZW1wbGF0ZXMgKGUuZy4ge0BsaW5rIEZld1Nob3RQcm9tcHRUZW1wbGF0ZX0pIGNhblxuICAgICAqIHJlZmVyZW5jZSByZW1vdGUgcmVzb3VyY2VzIHRoYXQgd2UgcmVhZCBhc3luY2hyb25vdXNseSB3aXRoIGEgd2ViXG4gICAgICogcmVxdWVzdC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBzd2l0Y2ggKGRhdGEuX3R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwcm9tcHRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgUHJvbXB0VGVtcGxhdGUgfSA9IGF3YWl0IGltcG9ydChcIi4vcHJvbXB0LmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9tcHRUZW1wbGF0ZS5kZXNlcmlhbGl6ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBQcm9tcHRUZW1wbGF0ZSB9ID0gYXdhaXQgaW1wb3J0KFwiLi9wcm9tcHQuanNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21wdFRlbXBsYXRlLmRlc2VyaWFsaXplKHsgLi4uZGF0YSwgX3R5cGU6IFwicHJvbXB0XCIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiZmV3X3Nob3RcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgRmV3U2hvdFByb21wdFRlbXBsYXRlIH0gPSBhd2FpdCBpbXBvcnQoXCIuL2Zld19zaG90LmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBGZXdTaG90UHJvbXB0VGVtcGxhdGUuZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwcm9tcHQgdHlwZSBpbiBjb25maWc6ICR7ZGF0YS5fdHlwZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3Igc3RyaW5nIHByb21wdCB0ZW1wbGF0ZXMuIEl0IGV4dGVuZHMgdGhlXG4gKiBCYXNlUHJvbXB0VGVtcGxhdGUgY2xhc3MgYW5kIG92ZXJyaWRlcyB0aGUgZm9ybWF0UHJvbXB0VmFsdWUgbWV0aG9kIHRvXG4gKiByZXR1cm4gYSBTdHJpbmdQcm9tcHRWYWx1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VQcm9tcHRUZW1wbGF0ZSB7XG4gICAgLyoqXG4gICAgICogRm9ybWF0cyB0aGUgcHJvbXB0IGdpdmVuIHRoZSBpbnB1dCB2YWx1ZXMgYW5kIHJldHVybnMgYSBmb3JtYXR0ZWRcbiAgICAgKiBwcm9tcHQgdmFsdWUuXG4gICAgICogQHBhcmFtIHZhbHVlcyBUaGUgaW5wdXQgdmFsdWVzIHRvIGZvcm1hdCB0aGUgcHJvbXB0LlxuICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgZm9ybWF0dGVkIHByb21wdCB2YWx1ZS5cbiAgICAgKi9cbiAgICBhc3luYyBmb3JtYXRQcm9tcHRWYWx1ZSh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkUHJvbXB0ID0gYXdhaXQgdGhpcy5mb3JtYXQodmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTdHJpbmdQcm9tcHRWYWx1ZShmb3JtYXR0ZWRQcm9tcHQpO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgZXhhbXBsZSBzZWxlY3RvcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlRXhhbXBsZVNlbGVjdG9yIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJwcm9tcHRzXCIsIFwic2VsZWN0b3JzXCJdXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBwYXJzZUZTdHJpbmcgPSAodGVtcGxhdGUpID0+IHtcbiAgICAvLyBDb3JlIGxvZ2ljIHJlcGxpY2F0ZWQgZnJvbSBpbnRlcm5hbHMgb2YgcHl0aG9ucyBidWlsdCBpbiBGb3JtYXR0ZXIgY2xhc3MuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3B5dGhvbi9jcHl0aG9uL2Jsb2IvMTM1ZWM3Y2VmYmFmZmQ1MTZiNzczNjJhZDJiMmFkMTAyNWFmNDYyZS9PYmplY3RzL3N0cmluZ2xpYi91bmljb2RlX2Zvcm1hdC5oI0w3MDAtTDcwNlxuICAgIGNvbnN0IGNoYXJzID0gdGVtcGxhdGUuc3BsaXQoXCJcIik7XG4gICAgY29uc3Qgbm9kZXMgPSBbXTtcbiAgICBjb25zdCBuZXh0QnJhY2tldCA9IChicmFja2V0LCBzdGFydCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGFycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKGJyYWNrZXQuaW5jbHVkZXMoY2hhcnNbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgY2hhcnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChjaGFyc1tpXSA9PT0gXCJ7XCIgJiYgaSArIDEgPCBjaGFycy5sZW5ndGggJiYgY2hhcnNbaSArIDFdID09PSBcIntcIikge1xuICAgICAgICAgICAgbm9kZXMucHVzaCh7IHR5cGU6IFwibGl0ZXJhbFwiLCB0ZXh0OiBcIntcIiB9KTtcbiAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFyc1tpXSA9PT0gXCJ9XCIgJiZcbiAgICAgICAgICAgIGkgKyAxIDwgY2hhcnMubGVuZ3RoICYmXG4gICAgICAgICAgICBjaGFyc1tpICsgMV0gPT09IFwifVwiKSB7XG4gICAgICAgICAgICBub2Rlcy5wdXNoKHsgdHlwZTogXCJsaXRlcmFsXCIsIHRleHQ6IFwifVwiIH0pO1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoYXJzW2ldID09PSBcIntcIikge1xuICAgICAgICAgICAgY29uc3QgaiA9IG5leHRCcmFja2V0KFwifVwiLCBpKTtcbiAgICAgICAgICAgIGlmIChqIDwgMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuY2xvc2VkICd7JyBpbiB0ZW1wbGF0ZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2Rlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInZhcmlhYmxlXCIsXG4gICAgICAgICAgICAgICAgbmFtZTogY2hhcnMuc2xpY2UoaSArIDEsIGopLmpvaW4oXCJcIiksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGkgPSBqICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFyc1tpXSA9PT0gXCJ9XCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNpbmdsZSAnfScgaW4gdGVtcGxhdGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5leHRCcmFja2V0KFwie31cIiwgaSk7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gKG5leHQgPCAwID8gY2hhcnMuc2xpY2UoaSkgOiBjaGFycy5zbGljZShpLCBuZXh0KSkuam9pbihcIlwiKTtcbiAgICAgICAgICAgIG5vZGVzLnB1c2goeyB0eXBlOiBcImxpdGVyYWxcIiwgdGV4dCB9KTtcbiAgICAgICAgICAgIGkgPSBuZXh0IDwgMCA/IGNoYXJzLmxlbmd0aCA6IG5leHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVzO1xufTtcbmV4cG9ydCBjb25zdCBpbnRlcnBvbGF0ZUZTdHJpbmcgPSAodGVtcGxhdGUsIHZhbHVlcykgPT4gcGFyc2VGU3RyaW5nKHRlbXBsYXRlKS5yZWR1Y2UoKHJlcywgbm9kZSkgPT4ge1xuICAgIGlmIChub2RlLnR5cGUgPT09IFwidmFyaWFibGVcIikge1xuICAgICAgICBpZiAobm9kZS5uYW1lIGluIHZhbHVlcykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcyArIHZhbHVlc1tub2RlLm5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyB2YWx1ZSBmb3IgaW5wdXQgJHtub2RlLm5hbWV9YCk7XG4gICAgfVxuICAgIHJldHVybiByZXMgKyBub2RlLnRleHQ7XG59LCBcIlwiKTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HID0ge1xuICAgIFwiZi1zdHJpbmdcIjogaW50ZXJwb2xhdGVGU3RyaW5nLFxufTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1BBUlNFUl9NQVBQSU5HID0ge1xuICAgIFwiZi1zdHJpbmdcIjogcGFyc2VGU3RyaW5nLFxufTtcbmV4cG9ydCBjb25zdCByZW5kZXJUZW1wbGF0ZSA9ICh0ZW1wbGF0ZSwgdGVtcGxhdGVGb3JtYXQsIGlucHV0VmFsdWVzKSA9PiBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HW3RlbXBsYXRlRm9ybWF0XSh0ZW1wbGF0ZSwgaW5wdXRWYWx1ZXMpO1xuZXhwb3J0IGNvbnN0IHBhcnNlVGVtcGxhdGUgPSAodGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0KSA9PiBERUZBVUxUX1BBUlNFUl9NQVBQSU5HW3RlbXBsYXRlRm9ybWF0XSh0ZW1wbGF0ZSk7XG5leHBvcnQgY29uc3QgY2hlY2tWYWxpZFRlbXBsYXRlID0gKHRlbXBsYXRlLCB0ZW1wbGF0ZUZvcm1hdCwgaW5wdXRWYXJpYWJsZXMpID0+IHtcbiAgICBpZiAoISh0ZW1wbGF0ZUZvcm1hdCBpbiBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HKSkge1xuICAgICAgICBjb25zdCB2YWxpZEZvcm1hdHMgPSBPYmplY3Qua2V5cyhERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRlbXBsYXRlIGZvcm1hdC4gR290IFxcYCR7dGVtcGxhdGVGb3JtYXR9XFxgO1xuICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZCBiZSBvbmUgb2YgJHt2YWxpZEZvcm1hdHN9YCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGR1bW15SW5wdXRzID0gaW5wdXRWYXJpYWJsZXMucmVkdWNlKChhY2MsIHYpID0+IHtcbiAgICAgICAgICAgIGFjY1t2XSA9IFwiZm9vXCI7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHJlbmRlclRlbXBsYXRlKHRlbXBsYXRlLCB0ZW1wbGF0ZUZvcm1hdCwgZHVtbXlJbnB1dHMpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcHJvbXB0IHNjaGVtYTogJHtlLm1lc3NhZ2V9YCk7XG4gICAgfVxufTtcbiIsIi8vIERlZmF1bHQgZ2VuZXJpYyBcImFueVwiIHZhbHVlcyBhcmUgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuLy8gUmVwbGFjZSB3aXRoIFwic3RyaW5nXCIgd2hlbiB3ZSBhcmUgY29tZm9ydGFibGUgd2l0aCBhIGJyZWFraW5nIGNoYW5nZS5cbmltcG9ydCB7IEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSwgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBjaGVja1ZhbGlkVGVtcGxhdGUsIHBhcnNlVGVtcGxhdGUsIHJlbmRlclRlbXBsYXRlLCB9IGZyb20gXCIuL3RlbXBsYXRlLmpzXCI7XG4vKipcbiAqIFNjaGVtYSB0byByZXByZXNlbnQgYSBiYXNpYyBwcm9tcHQgZm9yIGFuIExMTS5cbiAqIEBhdWdtZW50cyBCYXNlUHJvbXB0VGVtcGxhdGVcbiAqIEBhdWdtZW50cyBQcm9tcHRUZW1wbGF0ZUlucHV0XG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCJsYW5nY2hhaW4vcHJvbXB0c1wiO1xuICpcbiAqIGNvbnN0IHByb21wdCA9IG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gKiAgIGlucHV0VmFyaWFibGVzOiBbXCJmb29cIl0sXG4gKiAgIHRlbXBsYXRlOiBcIlNheSB7Zm9vfVwiLFxuICogfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFByb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUHJvbXB0VGVtcGxhdGVcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoaW5wdXQpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZW1wbGF0ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZW1wbGF0ZUZvcm1hdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJmLXN0cmluZ1wiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2YWxpZGF0ZVRlbXBsYXRlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGlucHV0KTtcbiAgICAgICAgaWYgKHRoaXMudmFsaWRhdGVUZW1wbGF0ZSkge1xuICAgICAgICAgICAgbGV0IHRvdGFsSW5wdXRWYXJpYWJsZXMgPSB0aGlzLmlucHV0VmFyaWFibGVzO1xuICAgICAgICAgICAgaWYgKHRoaXMucGFydGlhbFZhcmlhYmxlcykge1xuICAgICAgICAgICAgICAgIHRvdGFsSW5wdXRWYXJpYWJsZXMgPSB0b3RhbElucHV0VmFyaWFibGVzLmNvbmNhdChPYmplY3Qua2V5cyh0aGlzLnBhcnRpYWxWYXJpYWJsZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoZWNrVmFsaWRUZW1wbGF0ZSh0aGlzLnRlbXBsYXRlLCB0aGlzLnRlbXBsYXRlRm9ybWF0LCB0b3RhbElucHV0VmFyaWFibGVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZ2V0UHJvbXB0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwicHJvbXB0XCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcm1hdHMgdGhlIHByb21wdCB0ZW1wbGF0ZSB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIGJlIHVzZWQgdG8gZm9ybWF0IHRoZSBwcm9tcHQgdGVtcGxhdGUuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBzdHJpbmcgd2hpY2ggaXMgdGhlIGZvcm1hdHRlZCBwcm9tcHQuXG4gICAgICovXG4gICAgYXN5bmMgZm9ybWF0KHZhbHVlcykge1xuICAgICAgICBjb25zdCBhbGxWYWx1ZXMgPSBhd2FpdCB0aGlzLm1lcmdlUGFydGlhbEFuZFVzZXJWYXJpYWJsZXModmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMudGVtcGxhdGVGb3JtYXQsIGFsbFZhbHVlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRha2UgZXhhbXBsZXMgaW4gbGlzdCBmb3JtYXQgd2l0aCBwcmVmaXggYW5kIHN1ZmZpeCB0byBjcmVhdGUgYSBwcm9tcHQuXG4gICAgICpcbiAgICAgKiBJbnRlbmRlZCB0byBiZSB1c2VkIGEgYSB3YXkgdG8gZHluYW1pY2FsbHkgY3JlYXRlIGEgcHJvbXB0IGZyb20gZXhhbXBsZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXhhbXBsZXMgLSBMaXN0IG9mIGV4YW1wbGVzIHRvIHVzZSBpbiB0aGUgcHJvbXB0LlxuICAgICAqIEBwYXJhbSBzdWZmaXggLSBTdHJpbmcgdG8gZ28gYWZ0ZXIgdGhlIGxpc3Qgb2YgZXhhbXBsZXMuIFNob3VsZCBnZW5lcmFsbHkgc2V0IHVwIHRoZSB1c2VyJ3MgaW5wdXQuXG4gICAgICogQHBhcmFtIGlucHV0VmFyaWFibGVzIC0gQSBsaXN0IG9mIHZhcmlhYmxlIG5hbWVzIHRoZSBmaW5hbCBwcm9tcHQgdGVtcGxhdGUgd2lsbCBleHBlY3RcbiAgICAgKiBAcGFyYW0gZXhhbXBsZVNlcGFyYXRvciAtIFRoZSBzZXBhcmF0b3IgdG8gdXNlIGluIGJldHdlZW4gZXhhbXBsZXNcbiAgICAgKiBAcGFyYW0gcHJlZml4IC0gU3RyaW5nIHRoYXQgc2hvdWxkIGdvIGJlZm9yZSBhbnkgZXhhbXBsZXMuIEdlbmVyYWxseSBpbmNsdWRlcyBleGFtcGxlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBmaW5hbCBwcm9tcHQgdGVtcGxhdGUgZ2VuZXJhdGVkLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tRXhhbXBsZXMoZXhhbXBsZXMsIHN1ZmZpeCwgaW5wdXRWYXJpYWJsZXMsIGV4YW1wbGVTZXBhcmF0b3IgPSBcIlxcblxcblwiLCBwcmVmaXggPSBcIlwiKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gW3ByZWZpeCwgLi4uZXhhbXBsZXMsIHN1ZmZpeF0uam9pbihleGFtcGxlU2VwYXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgICAgICAgICBpbnB1dFZhcmlhYmxlcyxcbiAgICAgICAgICAgIHRlbXBsYXRlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZCBwcm9tcHQgdGVtcGxhdGUgZnJvbSBhIHRlbXBsYXRlIGYtc3RyaW5nXG4gICAgICovXG4gICAgc3RhdGljIGZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgeyB0ZW1wbGF0ZUZvcm1hdCA9IFwiZi1zdHJpbmdcIiwgLi4ucmVzdCB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgbmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHBhcnNlVGVtcGxhdGUodGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0KS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAobm9kZS50eXBlID09PSBcInZhcmlhYmxlXCIpIHtcbiAgICAgICAgICAgICAgICBuYW1lcy5hZGQobm9kZS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuICAgICAgICAgICAgLy8gUmVseSBvbiBleHRyYWN0ZWQgdHlwZXNcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBpbnB1dFZhcmlhYmxlczogWy4uLm5hbWVzXSxcbiAgICAgICAgICAgIHRlbXBsYXRlRm9ybWF0LFxuICAgICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFydGlhbGx5IGFwcGxpZXMgdmFsdWVzIHRvIHRoZSBwcm9tcHQgdGVtcGxhdGUuXG4gICAgICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkIHRvIHRoZSBwcm9tcHQgdGVtcGxhdGUuXG4gICAgICogQHJldHVybnMgQSBuZXcgaW5zdGFuY2Ugb2YgUHJvbXB0VGVtcGxhdGUgd2l0aCB0aGUgcGFydGlhbGx5IGFwcGxpZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGFzeW5jIHBhcnRpYWwodmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IG5ld0lucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcy5maWx0ZXIoKGl2KSA9PiAhKGl2IGluIHZhbHVlcykpO1xuICAgICAgICBjb25zdCBuZXdQYXJ0aWFsVmFyaWFibGVzID0ge1xuICAgICAgICAgICAgLi4uKHRoaXMucGFydGlhbFZhcmlhYmxlcyA/PyB7fSksXG4gICAgICAgICAgICAuLi52YWx1ZXMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHByb21wdERpY3QgPSB7XG4gICAgICAgICAgICAuLi50aGlzLFxuICAgICAgICAgICAgaW5wdXRWYXJpYWJsZXM6IG5ld0lucHV0VmFyaWFibGVzLFxuICAgICAgICAgICAgcGFydGlhbFZhcmlhYmxlczogbmV3UGFydGlhbFZhcmlhYmxlcyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9tcHRUZW1wbGF0ZShwcm9tcHREaWN0KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICBpZiAodGhpcy5vdXRwdXRQYXJzZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNlcmlhbGl6ZSBhIHByb21wdCB0ZW1wbGF0ZSB3aXRoIGFuIG91dHB1dCBwYXJzZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9nZXRQcm9tcHRUeXBlKCksXG4gICAgICAgICAgICBpbnB1dF92YXJpYWJsZXM6IHRoaXMuaW5wdXRWYXJpYWJsZXMsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlX2Zvcm1hdDogdGhpcy50ZW1wbGF0ZUZvcm1hdCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhLnRlbXBsYXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm9tcHQgdGVtcGxhdGUgbXVzdCBoYXZlIGEgdGVtcGxhdGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzID0gbmV3IFByb21wdFRlbXBsYXRlKHtcbiAgICAgICAgICAgIGlucHV0VmFyaWFibGVzOiBkYXRhLmlucHV0X3ZhcmlhYmxlcyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBkYXRhLnRlbXBsYXRlLFxuICAgICAgICAgICAgdGVtcGxhdGVGb3JtYXQ6IGRhdGEudGVtcGxhdGVfZm9ybWF0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG59XG4iLCIvLyBEZWZhdWx0IGdlbmVyaWMgXCJhbnlcIiB2YWx1ZXMgYXJlIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbi8vIFJlcGxhY2Ugd2l0aCBcInN0cmluZ1wiIHdoZW4gd2UgYXJlIGNvbWZvcnRhYmxlIHdpdGggYSBicmVha2luZyBjaGFuZ2UuXG5pbXBvcnQgeyBnZXRCdWZmZXJTdHJpbmcgfSBmcm9tIFwiLi4vbWVtb3J5L2Jhc2UuanNcIjtcbmltcG9ydCB7IEFJTWVzc2FnZSwgQmFzZU1lc3NhZ2UsIEJhc2VQcm9tcHRWYWx1ZSwgQ2hhdE1lc3NhZ2UsIEh1bWFuTWVzc2FnZSwgU3lzdGVtTWVzc2FnZSwgY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UsIGlzQmFzZU1lc3NhZ2UsIH0gZnJvbSBcIi4uL3NjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGUgfSBmcm9tIFwiLi4vc2NoZW1hL3J1bm5hYmxlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYXNlUHJvbXB0VGVtcGxhdGUsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9wcm9tcHQuanNcIjtcbi8qKlxuICogQWJzdHJhY3QgY2xhc3MgdGhhdCBzZXJ2ZXMgYXMgYSBiYXNlIGZvciBjcmVhdGluZyBtZXNzYWdlIHByb21wdFxuICogdGVtcGxhdGVzLiBJdCBkZWZpbmVzIGhvdyB0byBmb3JtYXQgbWVzc2FnZXMgZm9yIGRpZmZlcmVudCByb2xlcyBpbiBhXG4gKiBjb252ZXJzYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlIGV4dGVuZHMgUnVubmFibGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInByb21wdHNcIiwgXCJjaGF0XCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBmb3JtYXRNZXNzYWdlcyBtZXRob2Qgd2l0aCB0aGUgcHJvdmlkZWQgaW5wdXQgYW5kIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIGlucHV0IElucHV0IGZvciB0aGUgZm9ybWF0TWVzc2FnZXMgbWV0aG9kXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgQmFzZUNhbGxiYWNrQ29uZmlnXG4gICAgICogQHJldHVybnMgRm9ybWF0dGVkIG91dHB1dCBtZXNzYWdlc1xuICAgICAqL1xuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoKGlucHV0KSA9PiB0aGlzLmZvcm1hdE1lc3NhZ2VzKGlucHV0KSwgaW5wdXQsIHsgLi4ub3B0aW9ucywgcnVuVHlwZTogXCJwcm9tcHRcIiB9KTtcbiAgICB9XG59XG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIGNoYXQgcHJvbXB0IHZhbHVlLiBJdCBleHRlbmRzIHRoZVxuICogQmFzZVByb21wdFZhbHVlIGFuZCBpbmNsdWRlcyBhbiBhcnJheSBvZiBCYXNlTWVzc2FnZSBpbnN0YW5jZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGF0UHJvbXB0VmFsdWUgZXh0ZW5kcyBCYXNlUHJvbXB0VmFsdWUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJDaGF0UHJvbXB0VmFsdWVcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZpZWxkcykpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgZmllbGRzID0geyBtZXNzYWdlczogZmllbGRzIH07XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJwcm9tcHRzXCIsIFwiY2hhdFwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXNzYWdlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzID0gZmllbGRzLm1lc3NhZ2VzO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGdldEJ1ZmZlclN0cmluZyh0aGlzLm1lc3NhZ2VzKTtcbiAgICB9XG4gICAgdG9DaGF0TWVzc2FnZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VzO1xuICAgIH1cbn1cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgcGxhY2Vob2xkZXIgZm9yIG1lc3NhZ2VzIGluIGEgY2hhdCBwcm9tcHQuIEl0XG4gKiBleHRlbmRzIHRoZSBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgTWVzc2FnZXNQbGFjZWhvbGRlciBleHRlbmRzIEJhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJNZXNzYWdlc1BsYWNlaG9sZGVyXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBpZiAodHlwZW9mIGZpZWxkcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgICBmaWVsZHMgPSB7IHZhcmlhYmxlTmFtZTogZmllbGRzIH07XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmFyaWFibGVOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmFyaWFibGVOYW1lID0gZmllbGRzLnZhcmlhYmxlTmFtZTtcbiAgICB9XG4gICAgZ2V0IGlucHV0VmFyaWFibGVzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMudmFyaWFibGVOYW1lXTtcbiAgICB9XG4gICAgdmFsaWRhdGVJbnB1dE9yVGhyb3coaW5wdXQsIHZhcmlhYmxlTmFtZSkge1xuICAgICAgICBsZXQgaXNJbnB1dEJhc2VNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xuICAgICAgICAgICAgaXNJbnB1dEJhc2VNZXNzYWdlID0gaW5wdXQuZXZlcnkoKG1lc3NhZ2UpID0+IGlzQmFzZU1lc3NhZ2UobWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXNJbnB1dEJhc2VNZXNzYWdlID0gaXNCYXNlTWVzc2FnZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0lucHV0QmFzZU1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWRhYmxlSW5wdXQgPSB0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIgPyBpbnB1dCA6IEpTT04uc3RyaW5naWZ5KGlucHV0LCBudWxsLCAyKTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBFcnJvcjogRmllbGQgXCIke3ZhcmlhYmxlTmFtZX1cIiBpbiBwcm9tcHQgdXNlcyBhIE1lc3NhZ2VzUGxhY2Vob2xkZXIsIHdoaWNoIGV4cGVjdHMgYW4gYXJyYXkgb2YgQmFzZU1lc3NhZ2VzIGFzIGFuIGlucHV0IHZhbHVlLiBSZWNlaXZlZDogJHtyZWFkYWJsZUlucHV0fWApO1xuICAgICAgICAgICAgZXJyb3IubmFtZSA9IFwiSW5wdXRGb3JtYXRFcnJvclwiO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGFzeW5jIGZvcm1hdE1lc3NhZ2VzKHZhbHVlcykge1xuICAgICAgICB0aGlzLnZhbGlkYXRlSW5wdXRPclRocm93KHZhbHVlc1t0aGlzLnZhcmlhYmxlTmFtZV0sIHRoaXMudmFyaWFibGVOYW1lKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1t0aGlzLnZhcmlhYmxlTmFtZV07XG4gICAgfVxufVxuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyB0aGF0IHNlcnZlcyBhcyBhIGJhc2UgZm9yIGNyZWF0aW5nIG1lc3NhZ2Ugc3RyaW5nIHByb21wdFxuICogdGVtcGxhdGVzLiBJdCBleHRlbmRzIHRoZSBCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBpZiAoIShcInByb21wdFwiIGluIGZpZWxkcykpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgZmllbGRzID0geyBwcm9tcHQ6IGZpZWxkcyB9O1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb21wdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb21wdCA9IGZpZWxkcy5wcm9tcHQ7XG4gICAgfVxuICAgIGdldCBpbnB1dFZhcmlhYmxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbXB0LmlucHV0VmFyaWFibGVzO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXRNZXNzYWdlcyh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIFthd2FpdCB0aGlzLmZvcm1hdCh2YWx1ZXMpXTtcbiAgICB9XG59XG4vKipcbiAqIEFic3RyYWN0IGNsYXNzIHRoYXQgc2VydmVzIGFzIGEgYmFzZSBmb3IgY3JlYXRpbmcgY2hhdCBwcm9tcHRcbiAqIHRlbXBsYXRlcy4gSXQgZXh0ZW5kcyB0aGUgQmFzZVByb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZUNoYXRQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VQcm9tcHRUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoaW5wdXQpO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXQodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiAoYXdhaXQgdGhpcy5mb3JtYXRQcm9tcHRWYWx1ZSh2YWx1ZXMpKS50b1N0cmluZygpO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXRQcm9tcHRWYWx1ZSh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0TWVzc2FnZXMgPSBhd2FpdCB0aGlzLmZvcm1hdE1lc3NhZ2VzKHZhbHVlcyk7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdFByb21wdFZhbHVlKHJlc3VsdE1lc3NhZ2VzKTtcbiAgICB9XG59XG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIGNoYXQgbWVzc2FnZSBwcm9tcHQgdGVtcGxhdGUuIEl0IGV4dGVuZHMgdGhlXG4gKiBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgQ2hhdE1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VNZXNzYWdlU3RyaW5nUHJvbXB0VGVtcGxhdGUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgcm9sZSkge1xuICAgICAgICBpZiAoIShcInByb21wdFwiIGluIGZpZWxkcykpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbiwgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgZmllbGRzID0geyBwcm9tcHQ6IGZpZWxkcywgcm9sZTogcm9sZSB9O1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJvbGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yb2xlID0gZmllbGRzLnJvbGU7XG4gICAgfVxuICAgIGFzeW5jIGZvcm1hdCh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGF0TWVzc2FnZShhd2FpdCB0aGlzLnByb21wdC5mb3JtYXQodmFsdWVzKSwgdGhpcy5yb2xlKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgcm9sZSkge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHRlbXBsYXRlKSwgcm9sZSk7XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBodW1hbiBtZXNzYWdlIHByb21wdCB0ZW1wbGF0ZS4gSXQgZXh0ZW5kcyB0aGVcbiAqIEJhc2VNZXNzYWdlU3RyaW5nUHJvbXB0VGVtcGxhdGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VNZXNzYWdlU3RyaW5nUHJvbXB0VGVtcGxhdGUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZVwiO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXQodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgSHVtYW5NZXNzYWdlKGF3YWl0IHRoaXMucHJvbXB0LmZvcm1hdCh2YWx1ZXMpKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHRlbXBsYXRlKSk7XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYW4gQUkgbWVzc2FnZSBwcm9tcHQgdGVtcGxhdGUuIEl0IGV4dGVuZHMgdGhlXG4gKiBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlLlxuICovXG5leHBvcnQgY2xhc3MgQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGUgZXh0ZW5kcyBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGVcIjtcbiAgICB9XG4gICAgYXN5bmMgZm9ybWF0KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gbmV3IEFJTWVzc2FnZShhd2FpdCB0aGlzLnByb21wdC5mb3JtYXQodmFsdWVzKSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSkpO1xuICAgIH1cbn1cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgc3lzdGVtIG1lc3NhZ2UgcHJvbXB0IHRlbXBsYXRlLiBJdCBleHRlbmRzIHRoZVxuICogQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN5c3RlbU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VNZXNzYWdlU3RyaW5nUHJvbXB0VGVtcGxhdGUge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGVcIjtcbiAgICB9XG4gICAgYXN5bmMgZm9ybWF0KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2UoYXdhaXQgdGhpcy5wcm9tcHQuZm9ybWF0KHZhbHVlcykpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUodGVtcGxhdGUpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfaXNCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlKGJhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGVMaWtlKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2VcbiAgICAgICAgLmZvcm1hdE1lc3NhZ2VzID09PSBcImZ1bmN0aW9uXCIpO1xufVxuZnVuY3Rpb24gX2NvZXJjZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2UobWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZSkge1xuICAgIGlmIChfaXNCYXNlTWVzc2FnZVByb21wdFRlbXBsYXRlKG1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2UpIHx8XG4gICAgICAgIGlzQmFzZU1lc3NhZ2UobWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZSkpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VQcm9tcHRUZW1wbGF0ZUxpa2U7XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZShtZXNzYWdlUHJvbXB0VGVtcGxhdGVMaWtlKTtcbiAgICBpZiAobWVzc2FnZS5fZ2V0VHlwZSgpID09PSBcImh1bWFuXCIpIHtcbiAgICAgICAgcmV0dXJuIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShtZXNzYWdlLmNvbnRlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwiYWlcIikge1xuICAgICAgICByZXR1cm4gQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKG1lc3NhZ2UuY29udGVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgICByZXR1cm4gU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShtZXNzYWdlLmNvbnRlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChDaGF0TWVzc2FnZS5pc0luc3RhbmNlKG1lc3NhZ2UpKSB7XG4gICAgICAgIHJldHVybiBDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShtZXNzYWdlLmNvbnRlbnQsIG1lc3NhZ2Uucm9sZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgbWVzc2FnZSBwcm9tcHQgdGVtcGxhdGUgZnJvbSBpbnB1dC4gUmVjZWl2ZWQgbWVzc2FnZSB0eXBlOiBcIiR7bWVzc2FnZS5fZ2V0VHlwZSgpfVwiLmApO1xuICAgIH1cbn1cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgY2hhdCBwcm9tcHQuIEl0IGV4dGVuZHMgdGhlXG4gKiBCYXNlQ2hhdFByb21wdFRlbXBsYXRlIGFuZCB1c2VzIGFuIGFycmF5IG9mIEJhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGVcbiAqIGluc3RhbmNlcyB0byBmb3JtYXQgYSBzZXJpZXMgb2YgbWVzc2FnZXMgZm9yIGEgY29udmVyc2F0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQ2hhdFByb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZUNoYXRQcm9tcHRUZW1wbGF0ZSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkNoYXRQcm9tcHRUZW1wbGF0ZVwiO1xuICAgIH1cbiAgICBnZXQgbGNfYWxpYXNlcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb21wdE1lc3NhZ2VzOiBcIm1lc3NhZ2VzXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHN1cGVyKGlucHV0KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvbXB0TWVzc2FnZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmFsaWRhdGVUZW1wbGF0ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLnZhbGlkYXRlVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0VmFyaWFibGVzTWVzc2FnZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByb21wdE1lc3NhZ2Ugb2YgdGhpcy5wcm9tcHRNZXNzYWdlcykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgICAgICAgICBpZiAocHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIEJhc2VNZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlucHV0VmFyaWFibGUgb2YgcHJvbXB0TWVzc2FnZS5pbnB1dFZhcmlhYmxlcykge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dFZhcmlhYmxlc01lc3NhZ2VzLmFkZChpbnB1dFZhcmlhYmxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0b3RhbElucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcztcbiAgICAgICAgICAgIGNvbnN0IGlucHV0VmFyaWFibGVzSW5zdGFuY2UgPSBuZXcgU2V0KHRoaXMucGFydGlhbFZhcmlhYmxlc1xuICAgICAgICAgICAgICAgID8gdG90YWxJbnB1dFZhcmlhYmxlcy5jb25jYXQoT2JqZWN0LmtleXModGhpcy5wYXJ0aWFsVmFyaWFibGVzKSlcbiAgICAgICAgICAgICAgICA6IHRvdGFsSW5wdXRWYXJpYWJsZXMpO1xuICAgICAgICAgICAgY29uc3QgZGlmZmVyZW5jZSA9IG5ldyBTZXQoWy4uLmlucHV0VmFyaWFibGVzSW5zdGFuY2VdLmZpbHRlcigoeCkgPT4gIWlucHV0VmFyaWFibGVzTWVzc2FnZXMuaGFzKHgpKSk7XG4gICAgICAgICAgICBpZiAoZGlmZmVyZW5jZS5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5wdXQgdmFyaWFibGVzIFxcYCR7W1xuICAgICAgICAgICAgICAgICAgICAuLi5kaWZmZXJlbmNlLFxuICAgICAgICAgICAgICAgIF19XFxgIGFyZSBub3QgdXNlZCBpbiBhbnkgb2YgdGhlIHByb21wdCBtZXNzYWdlcy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG90aGVyRGlmZmVyZW5jZSA9IG5ldyBTZXQoWy4uLmlucHV0VmFyaWFibGVzTWVzc2FnZXNdLmZpbHRlcigoeCkgPT4gIWlucHV0VmFyaWFibGVzSW5zdGFuY2UuaGFzKHgpKSk7XG4gICAgICAgICAgICBpZiAob3RoZXJEaWZmZXJlbmNlLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCB2YXJpYWJsZXMgXFxgJHtbXG4gICAgICAgICAgICAgICAgICAgIC4uLm90aGVyRGlmZmVyZW5jZSxcbiAgICAgICAgICAgICAgICBdfVxcYCBhcmUgdXNlZCBpbiBwcm9tcHQgbWVzc2FnZXMgYnV0IG5vdCBpbiB0aGUgcHJvbXB0IHRlbXBsYXRlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRQcm9tcHRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJjaGF0XCI7XG4gICAgfVxuICAgIGFzeW5jIGZvcm1hdE1lc3NhZ2VzKHZhbHVlcykge1xuICAgICAgICBjb25zdCBhbGxWYWx1ZXMgPSBhd2FpdCB0aGlzLm1lcmdlUGFydGlhbEFuZFVzZXJWYXJpYWJsZXModmFsdWVzKTtcbiAgICAgICAgbGV0IHJlc3VsdE1lc3NhZ2VzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcHJvbXB0TWVzc2FnZSBvZiB0aGlzLnByb21wdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgICAgICBpZiAocHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIEJhc2VNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0TWVzc2FnZXMucHVzaChwcm9tcHRNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0VmFsdWVzID0gcHJvbXB0TWVzc2FnZS5pbnB1dFZhcmlhYmxlcy5yZWR1Y2UoKGFjYywgaW5wdXRWYXJpYWJsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShpbnB1dFZhcmlhYmxlIGluIGFsbFZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyB2YWx1ZSBmb3IgaW5wdXQgdmFyaWFibGUgXFxgJHtpbnB1dFZhcmlhYmxlLnRvU3RyaW5nKCl9XFxgYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYWNjW2lucHV0VmFyaWFibGVdID0gYWxsVmFsdWVzW2lucHV0VmFyaWFibGVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgcHJvbXB0TWVzc2FnZS5mb3JtYXRNZXNzYWdlcyhpbnB1dFZhbHVlcyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0TWVzc2FnZXMgPSByZXN1bHRNZXNzYWdlcy5jb25jYXQobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdE1lc3NhZ2VzO1xuICAgIH1cbiAgICBhc3luYyBwYXJ0aWFsKHZhbHVlcykge1xuICAgICAgICAvLyBUaGlzIGlzIGltcGxlbWVudGVkIGluIGEgd2F5IGl0IGRvZXNuJ3QgcmVxdWlyZSBtYWtpbmdcbiAgICAgICAgLy8gQmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSBhd2FyZSBvZiAucGFydGlhbCgpXG4gICAgICAgIGNvbnN0IG5ld0lucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcy5maWx0ZXIoKGl2KSA9PiAhKGl2IGluIHZhbHVlcykpO1xuICAgICAgICBjb25zdCBuZXdQYXJ0aWFsVmFyaWFibGVzID0ge1xuICAgICAgICAgICAgLi4uKHRoaXMucGFydGlhbFZhcmlhYmxlcyA/PyB7fSksXG4gICAgICAgICAgICAuLi52YWx1ZXMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHByb21wdERpY3QgPSB7XG4gICAgICAgICAgICAuLi50aGlzLFxuICAgICAgICAgICAgaW5wdXRWYXJpYWJsZXM6IG5ld0lucHV0VmFyaWFibGVzLFxuICAgICAgICAgICAgcGFydGlhbFZhcmlhYmxlczogbmV3UGFydGlhbFZhcmlhYmxlcyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGF0UHJvbXB0VGVtcGxhdGUocHJvbXB0RGljdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGNoYXQgbW9kZWwtc3BlY2lmaWMgcHJvbXB0IGZyb20gaW5kaXZpZHVhbCBjaGF0IG1lc3NhZ2VzXG4gICAgICogb3IgbWVzc2FnZS1saWtlIHR1cGxlcy5cbiAgICAgKiBAcGFyYW0gcHJvbXB0TWVzc2FnZXMgTWVzc2FnZXMgdG8gYmUgcGFzc2VkIHRvIHRoZSBjaGF0IG1vZGVsXG4gICAgICogQHJldHVybnMgQSBuZXcgQ2hhdFByb21wdFRlbXBsYXRlXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzdGF0aWMgZnJvbU1lc3NhZ2VzKHByb21wdE1lc3NhZ2VzKSB7XG4gICAgICAgIGNvbnN0IGZsYXR0ZW5lZE1lc3NhZ2VzID0gcHJvbXB0TWVzc2FnZXMucmVkdWNlKChhY2MsIHByb21wdE1lc3NhZ2UpID0+IGFjYy5jb25jYXQoXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgcHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIENoYXRQcm9tcHRUZW1wbGF0ZVxuICAgICAgICAgICAgPyBwcm9tcHRNZXNzYWdlLnByb21wdE1lc3NhZ2VzXG4gICAgICAgICAgICA6IFtfY29lcmNlTWVzc2FnZVByb21wdFRlbXBsYXRlTGlrZShwcm9tcHRNZXNzYWdlKV0pLCBbXSk7XG4gICAgICAgIGNvbnN0IGZsYXR0ZW5lZFBhcnRpYWxWYXJpYWJsZXMgPSBwcm9tcHRNZXNzYWdlcy5yZWR1Y2UoKGFjYywgcHJvbXB0TWVzc2FnZSkgPT4gXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgcHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIENoYXRQcm9tcHRUZW1wbGF0ZVxuICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKGFjYywgcHJvbXB0TWVzc2FnZS5wYXJ0aWFsVmFyaWFibGVzKVxuICAgICAgICAgICAgOiBhY2MsIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAgICBjb25zdCBpbnB1dFZhcmlhYmxlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBwcm9tcHRNZXNzYWdlIG9mIGZsYXR0ZW5lZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgICAgICBpZiAocHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIEJhc2VNZXNzYWdlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpbnB1dFZhcmlhYmxlIG9mIHByb21wdE1lc3NhZ2UuaW5wdXRWYXJpYWJsZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRWYXJpYWJsZSBpbiBmbGF0dGVuZWRQYXJ0aWFsVmFyaWFibGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnB1dFZhcmlhYmxlcy5hZGQoaW5wdXRWYXJpYWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDaGF0UHJvbXB0VGVtcGxhdGUoe1xuICAgICAgICAgICAgaW5wdXRWYXJpYWJsZXM6IFsuLi5pbnB1dFZhcmlhYmxlc10sXG4gICAgICAgICAgICBwcm9tcHRNZXNzYWdlczogZmxhdHRlbmVkTWVzc2FnZXMsXG4gICAgICAgICAgICBwYXJ0aWFsVmFyaWFibGVzOiBmbGF0dGVuZWRQYXJ0aWFsVmFyaWFibGVzLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFJlbmFtZWQgdG8gLmZyb21NZXNzYWdlcyAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc3RhdGljIGZyb21Qcm9tcHRNZXNzYWdlcyhwcm9tcHRNZXNzYWdlcykge1xuICAgICAgICByZXR1cm4gdGhpcy5mcm9tTWVzc2FnZXMocHJvbXB0TWVzc2FnZXMpO1xuICAgIH1cbn1cbiIsIiFmdW5jdGlvbihlKXt2YXIgdDtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKTooXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz90PXdpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP3Q9Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiYodD1zZWxmKSx0Lm9iamVjdEhhc2g9ZSgpKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gcihvLGksdSl7ZnVuY3Rpb24gcyhuLGUpe2lmKCFpW25dKXtpZighb1tuXSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZSYmdClyZXR1cm4gdChuLCEwKTtpZihhKXJldHVybiBhKG4sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbitcIidcIil9ZT1pW25dPXtleHBvcnRzOnt9fTtvW25dWzBdLmNhbGwoZS5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciB0PW9bbl1bMV1bZV07cmV0dXJuIHModHx8ZSl9LGUsZS5leHBvcnRzLHIsbyxpLHUpfXJldHVybiBpW25dLmV4cG9ydHN9Zm9yKHZhciBhPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsZT0wO2U8dS5sZW5ndGg7ZSsrKXModVtlXSk7cmV0dXJuIHN9KHsxOltmdW5jdGlvbih3LGIsbSl7IWZ1bmN0aW9uKGUsbixzLGMsZCxoLHAsZyx5KXtcInVzZSBzdHJpY3RcIjt2YXIgcj13KFwiY3J5cHRvXCIpO2Z1bmN0aW9uIHQoZSx0KXt0PXUoZSx0KTt2YXIgbjtyZXR1cm4gdm9pZCAwPT09KG49XCJwYXNzdGhyb3VnaFwiIT09dC5hbGdvcml0aG0/ci5jcmVhdGVIYXNoKHQuYWxnb3JpdGhtKTpuZXcgbCkud3JpdGUmJihuLndyaXRlPW4udXBkYXRlLG4uZW5kPW4udXBkYXRlKSxmKHQsbikuZGlzcGF0Y2goZSksbi51cGRhdGV8fG4uZW5kKFwiXCIpLG4uZGlnZXN0P24uZGlnZXN0KFwiYnVmZmVyXCI9PT10LmVuY29kaW5nP3ZvaWQgMDp0LmVuY29kaW5nKTooZT1uLnJlYWQoKSxcImJ1ZmZlclwiIT09dC5lbmNvZGluZz9lLnRvU3RyaW5nKHQuZW5jb2RpbmcpOmUpfShtPWIuZXhwb3J0cz10KS5zaGExPWZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfSxtLmtleXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSx7ZXhjbHVkZVZhbHVlczohMCxhbGdvcml0aG06XCJzaGExXCIsZW5jb2Rpbmc6XCJoZXhcIn0pfSxtLk1ENT1mdW5jdGlvbihlKXtyZXR1cm4gdChlLHthbGdvcml0aG06XCJtZDVcIixlbmNvZGluZzpcImhleFwifSl9LG0ua2V5c01ENT1mdW5jdGlvbihlKXtyZXR1cm4gdChlLHthbGdvcml0aG06XCJtZDVcIixlbmNvZGluZzpcImhleFwiLGV4Y2x1ZGVWYWx1ZXM6ITB9KX07dmFyIG89ci5nZXRIYXNoZXM/ci5nZXRIYXNoZXMoKS5zbGljZSgpOltcInNoYTFcIixcIm1kNVwiXSxpPShvLnB1c2goXCJwYXNzdGhyb3VnaFwiKSxbXCJidWZmZXJcIixcImhleFwiLFwiYmluYXJ5XCIsXCJiYXNlNjRcIl0pO2Z1bmN0aW9uIHUoZSx0KXt2YXIgbj17fTtpZihuLmFsZ29yaXRobT0odD10fHx7fSkuYWxnb3JpdGhtfHxcInNoYTFcIixuLmVuY29kaW5nPXQuZW5jb2Rpbmd8fFwiaGV4XCIsbi5leGNsdWRlVmFsdWVzPSEhdC5leGNsdWRlVmFsdWVzLG4uYWxnb3JpdGhtPW4uYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCksbi5lbmNvZGluZz1uLmVuY29kaW5nLnRvTG93ZXJDYXNlKCksbi5pZ25vcmVVbmtub3duPSEwPT09dC5pZ25vcmVVbmtub3duLG4ucmVzcGVjdFR5cGU9ITEhPT10LnJlc3BlY3RUeXBlLG4ucmVzcGVjdEZ1bmN0aW9uTmFtZXM9ITEhPT10LnJlc3BlY3RGdW5jdGlvbk5hbWVzLG4ucmVzcGVjdEZ1bmN0aW9uUHJvcGVydGllcz0hMSE9PXQucmVzcGVjdEZ1bmN0aW9uUHJvcGVydGllcyxuLnVub3JkZXJlZEFycmF5cz0hMD09PXQudW5vcmRlcmVkQXJyYXlzLG4udW5vcmRlcmVkU2V0cz0hMSE9PXQudW5vcmRlcmVkU2V0cyxuLnVub3JkZXJlZE9iamVjdHM9ITEhPT10LnVub3JkZXJlZE9iamVjdHMsbi5yZXBsYWNlcj10LnJlcGxhY2VyfHx2b2lkIDAsbi5leGNsdWRlS2V5cz10LmV4Y2x1ZGVLZXlzfHx2b2lkIDAsdm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJPYmplY3QgYXJndW1lbnQgcmVxdWlyZWQuXCIpO2Zvcih2YXIgcj0wO3I8by5sZW5ndGg7KytyKW9bcl0udG9Mb3dlckNhc2UoKT09PW4uYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkmJihuLmFsZ29yaXRobT1vW3JdKTtpZigtMT09PW8uaW5kZXhPZihuLmFsZ29yaXRobSkpdGhyb3cgbmV3IEVycm9yKCdBbGdvcml0aG0gXCInK24uYWxnb3JpdGhtKydcIiAgbm90IHN1cHBvcnRlZC4gc3VwcG9ydGVkIHZhbHVlczogJytvLmpvaW4oXCIsIFwiKSk7aWYoLTE9PT1pLmluZGV4T2Yobi5lbmNvZGluZykmJlwicGFzc3Rocm91Z2hcIiE9PW4uYWxnb3JpdGhtKXRocm93IG5ldyBFcnJvcignRW5jb2RpbmcgXCInK24uZW5jb2RpbmcrJ1wiICBub3Qgc3VwcG9ydGVkLiBzdXBwb3J0ZWQgdmFsdWVzOiAnK2kuam9pbihcIiwgXCIpKTtyZXR1cm4gbn1mdW5jdGlvbiBhKGUpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpcmV0dXJuIG51bGwhPS9eZnVuY3Rpb25cXHMrXFx3KlxccypcXChcXHMqXFwpXFxzKntcXHMrXFxbbmF0aXZlIGNvZGVcXF1cXHMrfSQvaS5leGVjKEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKX1mdW5jdGlvbiBmKG8sdCxpKXtpPWl8fFtdO2Z1bmN0aW9uIHUoZSl7cmV0dXJuIHQudXBkYXRlP3QudXBkYXRlKGUsXCJ1dGY4XCIpOnQud3JpdGUoZSxcInV0ZjhcIil9cmV0dXJue2Rpc3BhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzW1wiX1wiKyhudWxsPT09KGU9by5yZXBsYWNlcj9vLnJlcGxhY2VyKGUpOmUpP1wibnVsbFwiOnR5cGVvZiBlKV0oZSl9LF9vYmplY3Q6ZnVuY3Rpb24odCl7dmFyIG4sZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkscj0vXFxbb2JqZWN0ICguKilcXF0vaS5leGVjKGUpO3I9KHI9cj9yWzFdOlwidW5rbm93bjpbXCIrZStcIl1cIikudG9Mb3dlckNhc2UoKTtpZigwPD0oZT1pLmluZGV4T2YodCkpKXJldHVybiB0aGlzLmRpc3BhdGNoKFwiW0NJUkNVTEFSOlwiK2UrXCJdXCIpO2lmKGkucHVzaCh0KSx2b2lkIDAhPT1zJiZzLmlzQnVmZmVyJiZzLmlzQnVmZmVyKHQpKXJldHVybiB1KFwiYnVmZmVyOlwiKSx1KHQpO2lmKFwib2JqZWN0XCI9PT1yfHxcImZ1bmN0aW9uXCI9PT1yfHxcImFzeW5jZnVuY3Rpb25cIj09PXIpcmV0dXJuIGU9T2JqZWN0LmtleXModCksby51bm9yZGVyZWRPYmplY3RzJiYoZT1lLnNvcnQoKSksITE9PT1vLnJlc3BlY3RUeXBlfHxhKHQpfHxlLnNwbGljZSgwLDAsXCJwcm90b3R5cGVcIixcIl9fcHJvdG9fX1wiLFwiY29uc3RydWN0b3JcIiksby5leGNsdWRlS2V5cyYmKGU9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIW8uZXhjbHVkZUtleXMoZSl9KSksdShcIm9iamVjdDpcIitlLmxlbmd0aCtcIjpcIiksbj10aGlzLGUuZm9yRWFjaChmdW5jdGlvbihlKXtuLmRpc3BhdGNoKGUpLHUoXCI6XCIpLG8uZXhjbHVkZVZhbHVlc3x8bi5kaXNwYXRjaCh0W2VdKSx1KFwiLFwiKX0pO2lmKCF0aGlzW1wiX1wiK3JdKXtpZihvLmlnbm9yZVVua25vd24pcmV0dXJuIHUoXCJbXCIrcitcIl1cIik7dGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG9iamVjdCB0eXBlIFwiJytyKydcIicpfXRoaXNbXCJfXCIrcl0odCl9LF9hcnJheTpmdW5jdGlvbihlLHQpe3Q9dm9pZCAwIT09dD90OiExIT09by51bm9yZGVyZWRBcnJheXM7dmFyIG49dGhpcztpZih1KFwiYXJyYXk6XCIrZS5sZW5ndGgrXCI6XCIpLCF0fHxlLmxlbmd0aDw9MSlyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmRpc3BhdGNoKGUpfSk7dmFyIHI9W10sdD1lLm1hcChmdW5jdGlvbihlKXt2YXIgdD1uZXcgbCxuPWkuc2xpY2UoKTtyZXR1cm4gZihvLHQsbikuZGlzcGF0Y2goZSkscj1yLmNvbmNhdChuLnNsaWNlKGkubGVuZ3RoKSksdC5yZWFkKCkudG9TdHJpbmcoKX0pO3JldHVybiBpPWkuY29uY2F0KHIpLHQuc29ydCgpLHRoaXMuX2FycmF5KHQsITEpfSxfZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gdShcImRhdGU6XCIrZS50b0pTT04oKSl9LF9zeW1ib2w6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJzeW1ib2w6XCIrZS50b1N0cmluZygpKX0sX2Vycm9yOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiZXJyb3I6XCIrZS50b1N0cmluZygpKX0sX2Jvb2xlYW46ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJib29sOlwiK2UudG9TdHJpbmcoKSl9LF9zdHJpbmc6ZnVuY3Rpb24oZSl7dShcInN0cmluZzpcIitlLmxlbmd0aCtcIjpcIiksdShlLnRvU3RyaW5nKCkpfSxfZnVuY3Rpb246ZnVuY3Rpb24oZSl7dShcImZuOlwiKSxhKGUpP3RoaXMuZGlzcGF0Y2goXCJbbmF0aXZlXVwiKTp0aGlzLmRpc3BhdGNoKGUudG9TdHJpbmcoKSksITEhPT1vLnJlc3BlY3RGdW5jdGlvbk5hbWVzJiZ0aGlzLmRpc3BhdGNoKFwiZnVuY3Rpb24tbmFtZTpcIitTdHJpbmcoZS5uYW1lKSksby5yZXNwZWN0RnVuY3Rpb25Qcm9wZXJ0aWVzJiZ0aGlzLl9vYmplY3QoZSl9LF9udW1iZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJudW1iZXI6XCIrZS50b1N0cmluZygpKX0sX3htbDpmdW5jdGlvbihlKXtyZXR1cm4gdShcInhtbDpcIitlLnRvU3RyaW5nKCkpfSxfbnVsbDpmdW5jdGlvbigpe3JldHVybiB1KFwiTnVsbFwiKX0sX3VuZGVmaW5lZDpmdW5jdGlvbigpe3JldHVybiB1KFwiVW5kZWZpbmVkXCIpfSxfcmVnZXhwOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwicmVnZXg6XCIrZS50b1N0cmluZygpKX0sX3VpbnQ4YXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJ1aW50OGFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX3VpbnQ4Y2xhbXBlZGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwidWludDhjbGFtcGVkYXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfaW50OGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiaW50OGFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX3VpbnQxNmFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwidWludDE2YXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfaW50MTZhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gdShcImludDE2YXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfdWludDMyYXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJ1aW50MzJhcnJheTpcIiksdGhpcy5kaXNwYXRjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSl9LF9pbnQzMmFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiaW50MzJhcnJheTpcIiksdGhpcy5kaXNwYXRjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSl9LF9mbG9hdDMyYXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJmbG9hdDMyYXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfZmxvYXQ2NGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiZmxvYXQ2NGFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX2FycmF5YnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiYXJyYXlidWZmZXI6XCIpLHRoaXMuZGlzcGF0Y2gobmV3IFVpbnQ4QXJyYXkoZSkpfSxfdXJsOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwidXJsOlwiK2UudG9TdHJpbmcoKSl9LF9tYXA6ZnVuY3Rpb24oZSl7dShcIm1hcDpcIik7ZT1BcnJheS5mcm9tKGUpO3JldHVybiB0aGlzLl9hcnJheShlLCExIT09by51bm9yZGVyZWRTZXRzKX0sX3NldDpmdW5jdGlvbihlKXt1KFwic2V0OlwiKTtlPUFycmF5LmZyb20oZSk7cmV0dXJuIHRoaXMuX2FycmF5KGUsITEhPT1vLnVub3JkZXJlZFNldHMpfSxfZmlsZTpmdW5jdGlvbihlKXtyZXR1cm4gdShcImZpbGU6XCIpLHRoaXMuZGlzcGF0Y2goW2UubmFtZSxlLnNpemUsZS50eXBlLGUubGFzdE1vZGZpZWRdKX0sX2Jsb2I6ZnVuY3Rpb24oKXtpZihvLmlnbm9yZVVua25vd24pcmV0dXJuIHUoXCJbYmxvYl1cIik7dGhyb3cgRXJyb3IoJ0hhc2hpbmcgQmxvYiBvYmplY3RzIGlzIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkXFxuKHNlZSBodHRwczovL2dpdGh1Yi5jb20vcHVsZW9zL29iamVjdC1oYXNoL2lzc3Vlcy8yNilcXG5Vc2UgXCJvcHRpb25zLnJlcGxhY2VyXCIgb3IgXCJvcHRpb25zLmlnbm9yZVVua25vd25cIlxcbicpfSxfZG9td2luZG93OmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJkb213aW5kb3dcIil9LF9iaWdpbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJiaWdpbnQ6XCIrZS50b1N0cmluZygpKX0sX3Byb2Nlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInByb2Nlc3NcIil9LF90aW1lcjpmdW5jdGlvbigpe3JldHVybiB1KFwidGltZXJcIil9LF9waXBlOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJwaXBlXCIpfSxfdGNwOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJ0Y3BcIil9LF91ZHA6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInVkcFwiKX0sX3R0eTpmdW5jdGlvbigpe3JldHVybiB1KFwidHR5XCIpfSxfc3RhdHdhdGNoZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInN0YXR3YXRjaGVyXCIpfSxfc2VjdXJlY29udGV4dDpmdW5jdGlvbigpe3JldHVybiB1KFwic2VjdXJlY29udGV4dFwiKX0sX2Nvbm5lY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdShcImNvbm5lY3Rpb25cIil9LF96bGliOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJ6bGliXCIpfSxfY29udGV4dDpmdW5jdGlvbigpe3JldHVybiB1KFwiY29udGV4dFwiKX0sX25vZGVzY3JpcHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdShcIm5vZGVzY3JpcHRcIil9LF9odHRwcGFyc2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJodHRwcGFyc2VyXCIpfSxfZGF0YXZpZXc6ZnVuY3Rpb24oKXtyZXR1cm4gdShcImRhdGF2aWV3XCIpfSxfc2lnbmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJzaWduYWxcIil9LF9mc2V2ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJmc2V2ZW50XCIpfSxfdGxzd3JhcDpmdW5jdGlvbigpe3JldHVybiB1KFwidGxzd3JhcFwiKX19fWZ1bmN0aW9uIGwoKXtyZXR1cm57YnVmOlwiXCIsd3JpdGU6ZnVuY3Rpb24oZSl7dGhpcy5idWYrPWV9LGVuZDpmdW5jdGlvbihlKXt0aGlzLmJ1Zis9ZX0scmVhZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1Zn19fW0ud3JpdGVUb1N0cmVhbT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPXQsdD17fSksZih0PXUoZSx0KSxuKS5kaXNwYXRjaChlKX19LmNhbGwodGhpcyx3KFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sdyhcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL2Zha2VfOWE1YWE0OWQuanNcIixcIi9cIil9LHtidWZmZXI6MyxjcnlwdG86NSxsWXBvSTI6MTF9XSwyOltmdW5jdGlvbihlLHQsZil7IWZ1bmN0aW9uKGUsdCxuLHIsbyxpLHUscyxhKXshZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSx0PVwiK1wiLmNoYXJDb2RlQXQoMCksbj1cIi9cIi5jaGFyQ29kZUF0KDApLHI9XCIwXCIuY2hhckNvZGVBdCgwKSxvPVwiYVwiLmNoYXJDb2RlQXQoMCksaT1cIkFcIi5jaGFyQ29kZUF0KDApLHU9XCItXCIuY2hhckNvZGVBdCgwKSxzPVwiX1wiLmNoYXJDb2RlQXQoMCk7ZnVuY3Rpb24gZihlKXtlPWUuY2hhckNvZGVBdCgwKTtyZXR1cm4gZT09PXR8fGU9PT11PzYyOmU9PT1ufHxlPT09cz82MzplPHI/LTE6ZTxyKzEwP2UtcisyNisyNjplPGkrMjY/ZS1pOmU8bysyNj9lLW8rMjY6dm9pZCAwfWUudG9CeXRlQXJyYXk9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZigwPGUubGVuZ3RoJTQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTt2YXIgcj1lLmxlbmd0aCxyPVwiPVwiPT09ZS5jaGFyQXQoci0yKT8yOlwiPVwiPT09ZS5jaGFyQXQoci0xKT8xOjAsbz1uZXcgYSgzKmUubGVuZ3RoLzQtciksaT0wPHI/ZS5sZW5ndGgtNDplLmxlbmd0aCx1PTA7ZnVuY3Rpb24gcyhlKXtvW3UrK109ZX1mb3IodD0wO3Q8aTt0Kz00LDApcygoMTY3MTE2ODAmKG49ZihlLmNoYXJBdCh0KSk8PDE4fGYoZS5jaGFyQXQodCsxKSk8PDEyfGYoZS5jaGFyQXQodCsyKSk8PDZ8ZihlLmNoYXJBdCh0KzMpKSkpPj4xNikscygoNjUyODAmbik+PjgpLHMoMjU1Jm4pO3JldHVybiAyPT1yP3MoMjU1JihuPWYoZS5jaGFyQXQodCkpPDwyfGYoZS5jaGFyQXQodCsxKSk+PjQpKToxPT1yJiYocygobj1mKGUuY2hhckF0KHQpKTw8MTB8ZihlLmNoYXJBdCh0KzEpKTw8NHxmKGUuY2hhckF0KHQrMikpPj4yKT4+OCYyNTUpLHMoMjU1Jm4pKSxvfSxlLmZyb21CeXRlQXJyYXk9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saT1lLmxlbmd0aCUzLHU9XCJcIjtmdW5jdGlvbiBzKGUpe3JldHVyblwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLmNoYXJBdChlKX1mb3IodD0wLHI9ZS5sZW5ndGgtaTt0PHI7dCs9MyluPShlW3RdPDwxNikrKGVbdCsxXTw8OCkrZVt0KzJdLHUrPXMoKG89bik+PjE4JjYzKStzKG8+PjEyJjYzKStzKG8+PjYmNjMpK3MoNjMmbyk7c3dpdGNoKGkpe2Nhc2UgMTp1PSh1Kz1zKChuPWVbZS5sZW5ndGgtMV0pPj4yKSkrcyhuPDw0JjYzKStcIj09XCI7YnJlYWs7Y2FzZSAyOnU9KHU9KHUrPXMoKG49KGVbZS5sZW5ndGgtMl08PDgpK2VbZS5sZW5ndGgtMV0pPj4xMCkpK3Mobj4+NCY2MykpK3Mobjw8MiY2MykrXCI9XCJ9cmV0dXJuIHV9fSh2b2lkIDA9PT1mP3RoaXMuYmFzZTY0anM9e306Zil9LmNhbGwodGhpcyxlKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9saWIvYjY0LmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2xpYlwiKX0se2J1ZmZlcjozLGxZcG9JMjoxMX1dLDM6W2Z1bmN0aW9uKE8sZSxIKXshZnVuY3Rpb24oZSxuLGYscixoLHAsZyx5LHcpe3ZhciBhPU8oXCJiYXNlNjQtanNcIiksaT1PKFwiaWVlZTc1NFwiKTtmdW5jdGlvbiBmKGUsdCxuKXtpZighKHRoaXMgaW5zdGFuY2VvZiBmKSlyZXR1cm4gbmV3IGYoZSx0LG4pO3ZhciByLG8saSx1LHM9dHlwZW9mIGU7aWYoXCJiYXNlNjRcIj09PXQmJlwic3RyaW5nXCI9PXMpZm9yKGU9KHU9ZSkudHJpbT91LnRyaW0oKTp1LnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIik7ZS5sZW5ndGglNCE9MDspZSs9XCI9XCI7aWYoXCJudW1iZXJcIj09cylyPWooZSk7ZWxzZSBpZihcInN0cmluZ1wiPT1zKXI9Zi5ieXRlTGVuZ3RoKGUsdCk7ZWxzZXtpZihcIm9iamVjdFwiIT1zKXRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG5lZWRzIHRvIGJlIGEgbnVtYmVyLCBhcnJheSBvciBzdHJpbmcuXCIpO3I9aihlLmxlbmd0aCl9aWYoZi5fdXNlVHlwZWRBcnJheXM/bz1mLl9hdWdtZW50KG5ldyBVaW50OEFycmF5KHIpKTooKG89dGhpcykubGVuZ3RoPXIsby5faXNCdWZmZXI9ITApLGYuX3VzZVR5cGVkQXJyYXlzJiZcIm51bWJlclwiPT10eXBlb2YgZS5ieXRlTGVuZ3RoKW8uX3NldChlKTtlbHNlIGlmKEModT1lKXx8Zi5pc0J1ZmZlcih1KXx8dSYmXCJvYmplY3RcIj09dHlwZW9mIHUmJlwibnVtYmVyXCI9PXR5cGVvZiB1Lmxlbmd0aClmb3IoaT0wO2k8cjtpKyspZi5pc0J1ZmZlcihlKT9vW2ldPWUucmVhZFVJbnQ4KGkpOm9baV09ZVtpXTtlbHNlIGlmKFwic3RyaW5nXCI9PXMpby53cml0ZShlLDAsdCk7ZWxzZSBpZihcIm51bWJlclwiPT1zJiYhZi5fdXNlVHlwZWRBcnJheXMmJiFuKWZvcihpPTA7aTxyO2krKylvW2ldPTA7cmV0dXJuIG99ZnVuY3Rpb24gYihlLHQsbixyKXtyZXR1cm4gZi5fY2hhcnNXcml0dGVuPWMoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoO24rKyl0LnB1c2goMjU1JmUuY2hhckNvZGVBdChuKSk7cmV0dXJuIHR9KHQpLGUsbixyKX1mdW5jdGlvbiBtKGUsdCxuLHIpe3JldHVybiBmLl9jaGFyc1dyaXR0ZW49YyhmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPVtdLG89MDtvPGUubGVuZ3RoO28rKyluPWUuY2hhckNvZGVBdChvKSx0PW4+Pjgsbj1uJTI1NixyLnB1c2gobiksci5wdXNoKHQpO3JldHVybiByfSh0KSxlLG4scil9ZnVuY3Rpb24gdihlLHQsbil7dmFyIHI9XCJcIjtuPU1hdGgubWluKGUubGVuZ3RoLG4pO2Zvcih2YXIgbz10O288bjtvKyspcis9U3RyaW5nLmZyb21DaGFyQ29kZShlW29dKTtyZXR1cm4gcn1mdW5jdGlvbiBvKGUsdCxuLHIpe3J8fChkKFwiYm9vbGVhblwiPT10eXBlb2YgbixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT10LFwibWlzc2luZyBvZmZzZXRcIiksZCh0KzE8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSk7dmFyIG8scj1lLmxlbmd0aDtpZighKHI8PXQpKXJldHVybiBuPyhvPWVbdF0sdCsxPHImJihvfD1lW3QrMV08PDgpKToobz1lW3RdPDw4LHQrMTxyJiYob3w9ZVt0KzFdKSksb31mdW5jdGlvbiB1KGUsdCxuLHIpe3J8fChkKFwiYm9vbGVhblwiPT10eXBlb2YgbixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT10LFwibWlzc2luZyBvZmZzZXRcIiksZCh0KzM8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSk7dmFyIG8scj1lLmxlbmd0aDtpZighKHI8PXQpKXJldHVybiBuPyh0KzI8ciYmKG89ZVt0KzJdPDwxNiksdCsxPHImJihvfD1lW3QrMV08PDgpLG98PWVbdF0sdCszPHImJihvKz1lW3QrM108PDI0Pj4+MCkpOih0KzE8ciYmKG89ZVt0KzFdPDwxNiksdCsyPHImJihvfD1lW3QrMl08PDgpLHQrMzxyJiYob3w9ZVt0KzNdKSxvKz1lW3RdPDwyND4+PjApLG99ZnVuY3Rpb24gXyhlLHQsbixyKXtpZihyfHwoZChcImJvb2xlYW5cIj09dHlwZW9mIG4sXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9dCxcIm1pc3Npbmcgb2Zmc2V0XCIpLGQodCsxPGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLCEoZS5sZW5ndGg8PXQpKXJldHVybiByPW8oZSx0LG4sITApLDMyNzY4JnI/LTEqKDY1NTM1LXIrMSk6cn1mdW5jdGlvbiBFKGUsdCxuLHIpe2lmKHJ8fChkKFwiYm9vbGVhblwiPT10eXBlb2YgbixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT10LFwibWlzc2luZyBvZmZzZXRcIiksZCh0KzM8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSksIShlLmxlbmd0aDw9dCkpcmV0dXJuIHI9dShlLHQsbiwhMCksMjE0NzQ4MzY0OCZyPy0xKig0Mjk0OTY3Mjk1LXIrMSk6cn1mdW5jdGlvbiBJKGUsdCxuLHIpe3JldHVybiByfHwoZChcImJvb2xlYW5cIj09dHlwZW9mIG4sXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQodCszPGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLGkucmVhZChlLHQsbiwyMyw0KX1mdW5jdGlvbiBBKGUsdCxuLHIpe3JldHVybiByfHwoZChcImJvb2xlYW5cIj09dHlwZW9mIG4sXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQodCs3PGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLGkucmVhZChlLHQsbiw1Miw4KX1mdW5jdGlvbiBzKGUsdCxuLHIsbyl7b3x8KGQobnVsbCE9dCxcIm1pc3NpbmcgdmFsdWVcIiksZChcImJvb2xlYW5cIj09dHlwZW9mIHIsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9bixcIm1pc3Npbmcgb2Zmc2V0XCIpLGQobisxPGUubGVuZ3RoLFwidHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLFkodCw2NTUzNSkpO289ZS5sZW5ndGg7aWYoIShvPD1uKSlmb3IodmFyIGk9MCx1PU1hdGgubWluKG8tbiwyKTtpPHU7aSsrKWVbbitpXT0odCYyNTU8PDgqKHI/aToxLWkpKT4+PjgqKHI/aToxLWkpfWZ1bmN0aW9uIGwoZSx0LG4scixvKXtvfHwoZChudWxsIT10LFwibWlzc2luZyB2YWx1ZVwiKSxkKFwiYm9vbGVhblwiPT10eXBlb2YgcixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT1uLFwibWlzc2luZyBvZmZzZXRcIiksZChuKzM8ZS5sZW5ndGgsXCJ0cnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksWSh0LDQyOTQ5NjcyOTUpKTtvPWUubGVuZ3RoO2lmKCEobzw9bikpZm9yKHZhciBpPTAsdT1NYXRoLm1pbihvLW4sNCk7aTx1O2krKyllW24raV09dD4+PjgqKHI/aTozLWkpJjI1NX1mdW5jdGlvbiBCKGUsdCxuLHIsbyl7b3x8KGQobnVsbCE9dCxcIm1pc3NpbmcgdmFsdWVcIiksZChcImJvb2xlYW5cIj09dHlwZW9mIHIsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9bixcIm1pc3Npbmcgb2Zmc2V0XCIpLGQobisxPGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLEYodCwzMjc2NywtMzI3NjgpKSxlLmxlbmd0aDw9bnx8cyhlLDA8PXQ/dDo2NTUzNSt0KzEsbixyLG8pfWZ1bmN0aW9uIEwoZSx0LG4scixvKXtvfHwoZChudWxsIT10LFwibWlzc2luZyB2YWx1ZVwiKSxkKFwiYm9vbGVhblwiPT10eXBlb2YgcixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT1uLFwibWlzc2luZyBvZmZzZXRcIiksZChuKzM8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksRih0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpKSxlLmxlbmd0aDw9bnx8bChlLDA8PXQ/dDo0Mjk0OTY3Mjk1K3QrMSxuLHIsbyl9ZnVuY3Rpb24gVShlLHQsbixyLG8pe298fChkKG51bGwhPXQsXCJtaXNzaW5nIHZhbHVlXCIpLGQoXCJib29sZWFuXCI9PXR5cGVvZiByLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxkKG51bGwhPW4sXCJtaXNzaW5nIG9mZnNldFwiKSxkKG4rMzxlLmxlbmd0aCxcIlRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxEKHQsMzQwMjgyMzQ2NjM4NTI4ODZlMjIsLTM0MDI4MjM0NjYzODUyODg2ZTIyKSksZS5sZW5ndGg8PW58fGkud3JpdGUoZSx0LG4sciwyMyw0KX1mdW5jdGlvbiB4KGUsdCxuLHIsbyl7b3x8KGQobnVsbCE9dCxcIm1pc3NpbmcgdmFsdWVcIiksZChcImJvb2xlYW5cIj09dHlwZW9mIHIsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9bixcIm1pc3Npbmcgb2Zmc2V0XCIpLGQobis3PGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLEQodCwxNzk3NjkzMTM0ODYyMzE1N2UyOTIsLTE3OTc2OTMxMzQ4NjIzMTU3ZTI5MikpLGUubGVuZ3RoPD1ufHxpLndyaXRlKGUsdCxuLHIsNTIsOCl9SC5CdWZmZXI9ZixILlNsb3dCdWZmZXI9ZixILklOU1BFQ1RfTUFYX0JZVEVTPTUwLGYucG9vbFNpemU9ODE5MixmLl91c2VUeXBlZEFycmF5cz1mdW5jdGlvbigpe3RyeXt2YXIgZT1uZXcgQXJyYXlCdWZmZXIoMCksdD1uZXcgVWludDhBcnJheShlKTtyZXR1cm4gdC5mb289ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9LDQyPT09dC5mb28oKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5zdWJhcnJheX1jYXRjaChlKXtyZXR1cm4hMX19KCksZi5pc0VuY29kaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaChTdHJpbmcoZSkudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJyYXdcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sZi5pc0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4hKG51bGw9PWV8fCFlLl9pc0J1ZmZlcil9LGYuYnl0ZUxlbmd0aD1mdW5jdGlvbihlLHQpe3ZhciBuO3N3aXRjaChlKz1cIlwiLHR8fFwidXRmOFwiKXtjYXNlXCJoZXhcIjpuPWUubGVuZ3RoLzI7YnJlYWs7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6bj1UKGUpLmxlbmd0aDticmVhaztjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcInJhd1wiOm49ZS5sZW5ndGg7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6bj1NKGUpLmxlbmd0aDticmVhaztjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpuPTIqZS5sZW5ndGg7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nXCIpfXJldHVybiBufSxmLmNvbmNhdD1mdW5jdGlvbihlLHQpe2lmKGQoQyhlKSxcIlVzYWdlOiBCdWZmZXIuY29uY2F0KGxpc3QsIFt0b3RhbExlbmd0aF0pXFxubGlzdCBzaG91bGQgYmUgYW4gQXJyYXkuXCIpLDA9PT1lLmxlbmd0aClyZXR1cm4gbmV3IGYoMCk7aWYoMT09PWUubGVuZ3RoKXJldHVybiBlWzBdO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KWZvcihvPXQ9MDtvPGUubGVuZ3RoO28rKyl0Kz1lW29dLmxlbmd0aDtmb3IodmFyIG49bmV3IGYodCkscj0wLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGk9ZVtvXTtpLmNvcHkobixyKSxyKz1pLmxlbmd0aH1yZXR1cm4gbn0sZi5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSx0LG4scil7aXNGaW5pdGUodCk/aXNGaW5pdGUobil8fChyPW4sbj12b2lkIDApOihhPXIscj10LHQ9bixuPWEpLHQ9TnVtYmVyKHQpfHwwO3ZhciBvLGksdSxzLGE9dGhpcy5sZW5ndGgtdDtzd2l0Y2goKCFufHxhPChuPU51bWJlcihuKSkpJiYobj1hKSxyPVN0cmluZyhyfHxcInV0ZjhcIikudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6bz1mdW5jdGlvbihlLHQsbixyKXtuPU51bWJlcihuKXx8MDt2YXIgbz1lLmxlbmd0aC1uOyghcnx8bzwocj1OdW1iZXIocikpKSYmKHI9byksZCgobz10Lmxlbmd0aCklMj09MCxcIkludmFsaWQgaGV4IHN0cmluZ1wiKSxvLzI8ciYmKHI9by8yKTtmb3IodmFyIGk9MDtpPHI7aSsrKXt2YXIgdT1wYXJzZUludCh0LnN1YnN0cigyKmksMiksMTYpO2QoIWlzTmFOKHUpLFwiSW52YWxpZCBoZXggc3RyaW5nXCIpLGVbbitpXT11fXJldHVybiBmLl9jaGFyc1dyaXR0ZW49MippLGl9KHRoaXMsZSx0LG4pO2JyZWFrO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmk9dGhpcyx1PXQscz1uLG89Zi5fY2hhcnNXcml0dGVuPWMoVChlKSxpLHUscyk7YnJlYWs7Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpvPWIodGhpcyxlLHQsbik7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6aT10aGlzLHU9dCxzPW4sbz1mLl9jaGFyc1dyaXR0ZW49YyhNKGUpLGksdSxzKTticmVhaztjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpvPW0odGhpcyxlLHQsbik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nXCIpfXJldHVybiBvfSxmLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLHUscz10aGlzO2lmKGU9U3RyaW5nKGV8fFwidXRmOFwiKS50b0xvd2VyQ2FzZSgpLHQ9TnVtYmVyKHQpfHwwLChuPXZvaWQgMCE9PW4/TnVtYmVyKG4pOnMubGVuZ3RoKT09PXQpcmV0dXJuXCJcIjtzd2l0Y2goZSl7Y2FzZVwiaGV4XCI6cj1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5sZW5ndGg7KCF0fHx0PDApJiYodD0wKTsoIW58fG48MHx8cjxuKSYmKG49cik7Zm9yKHZhciBvPVwiXCIsaT10O2k8bjtpKyspbys9ayhlW2ldKTtyZXR1cm4gb30ocyx0LG4pO2JyZWFrO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVwiXCIsbz1cIlwiO249TWF0aC5taW4oZS5sZW5ndGgsbik7Zm9yKHZhciBpPXQ7aTxuO2krKyllW2ldPD0xMjc/KHIrPU4obykrU3RyaW5nLmZyb21DaGFyQ29kZShlW2ldKSxvPVwiXCIpOm8rPVwiJVwiK2VbaV0udG9TdHJpbmcoMTYpO3JldHVybiByK04obyl9KHMsdCxuKTticmVhaztjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOnI9dihzLHQsbik7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6bz1zLHU9bixyPTA9PT0oaT10KSYmdT09PW8ubGVuZ3RoP2EuZnJvbUJ5dGVBcnJheShvKTphLmZyb21CeXRlQXJyYXkoby5zbGljZShpLHUpKTticmVhaztjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9ZS5zbGljZSh0LG4pLG89XCJcIixpPTA7aTxyLmxlbmd0aDtpKz0yKW8rPVN0cmluZy5mcm9tQ2hhckNvZGUocltpXSsyNTYqcltpKzFdKTtyZXR1cm4gb30ocyx0LG4pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBlbmNvZGluZ1wiKX1yZXR1cm4gcn0sZi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6XCJCdWZmZXJcIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19LGYucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSx0LG4scil7aWYodD10fHwwLChyPXJ8fDA9PT1yP3I6dGhpcy5sZW5ndGgpIT09KG49bnx8MCkmJjAhPT1lLmxlbmd0aCYmMCE9PXRoaXMubGVuZ3RoKXtkKG48PXIsXCJzb3VyY2VFbmQgPCBzb3VyY2VTdGFydFwiKSxkKDA8PXQmJnQ8ZS5sZW5ndGgsXCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzXCIpLGQoMDw9biYmbjx0aGlzLmxlbmd0aCxcInNvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHNcIiksZCgwPD1yJiZyPD10aGlzLmxlbmd0aCxcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpLHI+dGhpcy5sZW5ndGgmJihyPXRoaXMubGVuZ3RoKTt2YXIgbz0ocj1lLmxlbmd0aC10PHItbj9lLmxlbmd0aC10K246ciktbjtpZihvPDEwMHx8IWYuX3VzZVR5cGVkQXJyYXlzKWZvcih2YXIgaT0wO2k8bztpKyspZVtpK3RdPXRoaXNbaStuXTtlbHNlIGUuX3NldCh0aGlzLnN1YmFycmF5KG4sbitvKSx0KX19LGYucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5sZW5ndGg7aWYoZT1TKGUsbiwwKSx0PVModCxuLG4pLGYuX3VzZVR5cGVkQXJyYXlzKXJldHVybiBmLl9hdWdtZW50KHRoaXMuc3ViYXJyYXkoZSx0KSk7Zm9yKHZhciByPXQtZSxvPW5ldyBmKHIsdm9pZCAwLCEwKSxpPTA7aTxyO2krKylvW2ldPXRoaXNbaStlXTtyZXR1cm4gb30sZi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLmxvZyhcIi5nZXQoKSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdXNpbmcgYXJyYXkgaW5kZXhlcyBpbnN0ZWFkLlwiKSx0aGlzLnJlYWRVSW50OChlKX0sZi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNvbnNvbGUubG9nKFwiLnNldCgpIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB1c2luZyBhcnJheSBpbmRleGVzIGluc3RlYWQuXCIpLHRoaXMud3JpdGVVSW50OChlLHQpfSxmLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24oZSx0KXtpZih0fHwoZChudWxsIT1lLFwibWlzc2luZyBvZmZzZXRcIiksZChlPHRoaXMubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLCEoZT49dGhpcy5sZW5ndGgpKXJldHVybiB0aGlzW2VdfSxmLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyh0aGlzLGUsITAsdCl9LGYucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbihlLHQpe3JldHVybiBvKHRoaXMsZSwhMSx0KX0sZi5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUodGhpcyxlLCEwLHQpfSxmLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdSh0aGlzLGUsITEsdCl9LGYucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGUsdCl7aWYodHx8KGQobnVsbCE9ZSxcIm1pc3Npbmcgb2Zmc2V0XCIpLGQoZTx0aGlzLmxlbmd0aCxcIlRyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpKSwhKGU+PXRoaXMubGVuZ3RoKSlyZXR1cm4gMTI4JnRoaXNbZV0/LTEqKDI1NS10aGlzW2VdKzEpOnRoaXNbZV19LGYucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF8odGhpcyxlLCEwLHQpfSxmLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbihlLHQpe3JldHVybiBfKHRoaXMsZSwhMSx0KX0sZi5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRSh0aGlzLGUsITAsdCl9LGYucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEUodGhpcyxlLCExLHQpfSxmLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbihlLHQpe3JldHVybiBJKHRoaXMsZSwhMCx0KX0sZi5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSSh0aGlzLGUsITEsdCl9LGYucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbihlLHQpe3JldHVybiBBKHRoaXMsZSwhMCx0KX0sZi5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEEodGhpcyxlLCExLHQpfSxmLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKGUsdCxuKXtufHwoZChudWxsIT1lLFwibWlzc2luZyB2YWx1ZVwiKSxkKG51bGwhPXQsXCJtaXNzaW5nIG9mZnNldFwiKSxkKHQ8dGhpcy5sZW5ndGgsXCJ0cnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksWShlLDI1NSkpLHQ+PXRoaXMubGVuZ3RofHwodGhpc1t0XT1lKX0sZi5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbihlLHQsbil7cyh0aGlzLGUsdCwhMCxuKX0sZi5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbihlLHQsbil7cyh0aGlzLGUsdCwhMSxuKX0sZi5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbihlLHQsbil7bCh0aGlzLGUsdCwhMCxuKX0sZi5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbihlLHQsbil7bCh0aGlzLGUsdCwhMSxuKX0sZi5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKGUsdCxuKXtufHwoZChudWxsIT1lLFwibWlzc2luZyB2YWx1ZVwiKSxkKG51bGwhPXQsXCJtaXNzaW5nIG9mZnNldFwiKSxkKHQ8dGhpcy5sZW5ndGgsXCJUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksRihlLDEyNywtMTI4KSksdD49dGhpcy5sZW5ndGh8fCgwPD1lP3RoaXMud3JpdGVVSW50OChlLHQsbik6dGhpcy53cml0ZVVJbnQ4KDI1NStlKzEsdCxuKSl9LGYucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbihlLHQsbil7Qih0aGlzLGUsdCwhMCxuKX0sZi5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxuKXtCKHRoaXMsZSx0LCExLG4pfSxmLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24oZSx0LG4pe0wodGhpcyxlLHQsITAsbil9LGYucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbihlLHQsbil7TCh0aGlzLGUsdCwhMSxuKX0sZi5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKGUsdCxuKXtVKHRoaXMsZSx0LCEwLG4pfSxmLnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24oZSx0LG4pe1UodGhpcyxlLHQsITEsbil9LGYucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oZSx0LG4pe3godGhpcyxlLHQsITAsbil9LGYucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24oZSx0LG4pe3godGhpcyxlLHQsITEsbil9LGYucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24oZSx0LG4pe2lmKHQ9dHx8MCxuPW58fHRoaXMubGVuZ3RoLGQoXCJudW1iZXJcIj09dHlwZW9mKGU9XCJzdHJpbmdcIj09dHlwZW9mKGU9ZXx8MCk/ZS5jaGFyQ29kZUF0KDApOmUpJiYhaXNOYU4oZSksXCJ2YWx1ZSBpcyBub3QgYSBudW1iZXJcIiksZCh0PD1uLFwiZW5kIDwgc3RhcnRcIiksbiE9PXQmJjAhPT10aGlzLmxlbmd0aCl7ZCgwPD10JiZ0PHRoaXMubGVuZ3RoLFwic3RhcnQgb3V0IG9mIGJvdW5kc1wiKSxkKDA8PW4mJm48PXRoaXMubGVuZ3RoLFwiZW5kIG91dCBvZiBib3VuZHNcIik7Zm9yKHZhciByPXQ7cjxuO3IrKyl0aGlzW3JdPWV9fSxmLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9dGhpcy5sZW5ndGgsbj0wO248dDtuKyspaWYoZVtuXT1rKHRoaXNbbl0pLG49PT1ILklOU1BFQ1RfTUFYX0JZVEVTKXtlW24rMV09XCIuLi5cIjticmVha31yZXR1cm5cIjxCdWZmZXIgXCIrZS5qb2luKFwiIFwiKStcIj5cIn0sZi5wcm90b3R5cGUudG9BcnJheUJ1ZmZlcj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBVaW50OEFycmF5KXRocm93IG5ldyBFcnJvcihcIkJ1ZmZlci50b0FycmF5QnVmZmVyIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO2lmKGYuX3VzZVR5cGVkQXJyYXlzKXJldHVybiBuZXcgZih0aGlzKS5idWZmZXI7Zm9yKHZhciBlPW5ldyBVaW50OEFycmF5KHRoaXMubGVuZ3RoKSx0PTAsbj1lLmxlbmd0aDt0PG47dCs9MSllW3RdPXRoaXNbdF07cmV0dXJuIGUuYnVmZmVyfTt2YXIgdD1mLnByb3RvdHlwZTtmdW5jdGlvbiBTKGUsdCxuKXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgZT9uOnQ8PShlPX5+ZSk/dDowPD1lfHwwPD0oZSs9dCk/ZTowfWZ1bmN0aW9uIGooZSl7cmV0dXJuKGU9fn5NYXRoLmNlaWwoK2UpKTwwPzA6ZX1mdW5jdGlvbiBDKGUpe3JldHVybihBcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9KShlKX1mdW5jdGlvbiBrKGUpe3JldHVybiBlPDE2P1wiMFwiK2UudG9TdHJpbmcoMTYpOmUudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIFQoZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZS5jaGFyQ29kZUF0KG4pO2lmKHI8PTEyNyl0LnB1c2goZS5jaGFyQ29kZUF0KG4pKTtlbHNlIGZvcih2YXIgbz1uLGk9KDU1Mjk2PD1yJiZyPD01NzM0MyYmbisrLGVuY29kZVVSSUNvbXBvbmVudChlLnNsaWNlKG8sbisxKSkuc3Vic3RyKDEpLnNwbGl0KFwiJVwiKSksdT0wO3U8aS5sZW5ndGg7dSsrKXQucHVzaChwYXJzZUludChpW3VdLDE2KSl9cmV0dXJuIHR9ZnVuY3Rpb24gTShlKXtyZXR1cm4gYS50b0J5dGVBcnJheShlKX1mdW5jdGlvbiBjKGUsdCxuLHIpe2Zvcih2YXIgbz0wO288ciYmIShvK24+PXQubGVuZ3RofHxvPj1lLmxlbmd0aCk7bysrKXRbbytuXT1lW29dO3JldHVybiBvfWZ1bmN0aW9uIE4oZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9Y2F0Y2goZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzMpfX1mdW5jdGlvbiBZKGUsdCl7ZChcIm51bWJlclwiPT10eXBlb2YgZSxcImNhbm5vdCB3cml0ZSBhIG5vbi1udW1iZXIgYXMgYSBudW1iZXJcIiksZCgwPD1lLFwic3BlY2lmaWVkIGEgbmVnYXRpdmUgdmFsdWUgZm9yIHdyaXRpbmcgYW4gdW5zaWduZWQgdmFsdWVcIiksZChlPD10LFwidmFsdWUgaXMgbGFyZ2VyIHRoYW4gbWF4aW11bSB2YWx1ZSBmb3IgdHlwZVwiKSxkKE1hdGguZmxvb3IoZSk9PT1lLFwidmFsdWUgaGFzIGEgZnJhY3Rpb25hbCBjb21wb25lbnRcIil9ZnVuY3Rpb24gRihlLHQsbil7ZChcIm51bWJlclwiPT10eXBlb2YgZSxcImNhbm5vdCB3cml0ZSBhIG5vbi1udW1iZXIgYXMgYSBudW1iZXJcIiksZChlPD10LFwidmFsdWUgbGFyZ2VyIHRoYW4gbWF4aW11bSBhbGxvd2VkIHZhbHVlXCIpLGQobjw9ZSxcInZhbHVlIHNtYWxsZXIgdGhhbiBtaW5pbXVtIGFsbG93ZWQgdmFsdWVcIiksZChNYXRoLmZsb29yKGUpPT09ZSxcInZhbHVlIGhhcyBhIGZyYWN0aW9uYWwgY29tcG9uZW50XCIpfWZ1bmN0aW9uIEQoZSx0LG4pe2QoXCJudW1iZXJcIj09dHlwZW9mIGUsXCJjYW5ub3Qgd3JpdGUgYSBub24tbnVtYmVyIGFzIGEgbnVtYmVyXCIpLGQoZTw9dCxcInZhbHVlIGxhcmdlciB0aGFuIG1heGltdW0gYWxsb3dlZCB2YWx1ZVwiKSxkKG48PWUsXCJ2YWx1ZSBzbWFsbGVyIHRoYW4gbWluaW11bSBhbGxvd2VkIHZhbHVlXCIpfWZ1bmN0aW9uIGQoZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IodHx8XCJGYWlsZWQgYXNzZXJ0aW9uXCIpfWYuX2F1Z21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX2lzQnVmZmVyPSEwLGUuX2dldD1lLmdldCxlLl9zZXQ9ZS5zZXQsZS5nZXQ9dC5nZXQsZS5zZXQ9dC5zZXQsZS53cml0ZT10LndyaXRlLGUudG9TdHJpbmc9dC50b1N0cmluZyxlLnRvTG9jYWxlU3RyaW5nPXQudG9TdHJpbmcsZS50b0pTT049dC50b0pTT04sZS5jb3B5PXQuY29weSxlLnNsaWNlPXQuc2xpY2UsZS5yZWFkVUludDg9dC5yZWFkVUludDgsZS5yZWFkVUludDE2TEU9dC5yZWFkVUludDE2TEUsZS5yZWFkVUludDE2QkU9dC5yZWFkVUludDE2QkUsZS5yZWFkVUludDMyTEU9dC5yZWFkVUludDMyTEUsZS5yZWFkVUludDMyQkU9dC5yZWFkVUludDMyQkUsZS5yZWFkSW50OD10LnJlYWRJbnQ4LGUucmVhZEludDE2TEU9dC5yZWFkSW50MTZMRSxlLnJlYWRJbnQxNkJFPXQucmVhZEludDE2QkUsZS5yZWFkSW50MzJMRT10LnJlYWRJbnQzMkxFLGUucmVhZEludDMyQkU9dC5yZWFkSW50MzJCRSxlLnJlYWRGbG9hdExFPXQucmVhZEZsb2F0TEUsZS5yZWFkRmxvYXRCRT10LnJlYWRGbG9hdEJFLGUucmVhZERvdWJsZUxFPXQucmVhZERvdWJsZUxFLGUucmVhZERvdWJsZUJFPXQucmVhZERvdWJsZUJFLGUud3JpdGVVSW50OD10LndyaXRlVUludDgsZS53cml0ZVVJbnQxNkxFPXQud3JpdGVVSW50MTZMRSxlLndyaXRlVUludDE2QkU9dC53cml0ZVVJbnQxNkJFLGUud3JpdGVVSW50MzJMRT10LndyaXRlVUludDMyTEUsZS53cml0ZVVJbnQzMkJFPXQud3JpdGVVSW50MzJCRSxlLndyaXRlSW50OD10LndyaXRlSW50OCxlLndyaXRlSW50MTZMRT10LndyaXRlSW50MTZMRSxlLndyaXRlSW50MTZCRT10LndyaXRlSW50MTZCRSxlLndyaXRlSW50MzJMRT10LndyaXRlSW50MzJMRSxlLndyaXRlSW50MzJCRT10LndyaXRlSW50MzJCRSxlLndyaXRlRmxvYXRMRT10LndyaXRlRmxvYXRMRSxlLndyaXRlRmxvYXRCRT10LndyaXRlRmxvYXRCRSxlLndyaXRlRG91YmxlTEU9dC53cml0ZURvdWJsZUxFLGUud3JpdGVEb3VibGVCRT10LndyaXRlRG91YmxlQkUsZS5maWxsPXQuZmlsbCxlLmluc3BlY3Q9dC5pbnNwZWN0LGUudG9BcnJheUJ1ZmZlcj10LnRvQXJyYXlCdWZmZXIsZX19LmNhbGwodGhpcyxPKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sTyhcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2J1ZmZlci9pbmRleC5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2J1ZmZlclwiKX0se1wiYmFzZTY0LWpzXCI6MixidWZmZXI6MyxpZWVlNzU0OjEwLGxZcG9JMjoxMX1dLDQ6W2Z1bmN0aW9uKGMsZCxlKXshZnVuY3Rpb24oZSx0LGEsbixyLG8saSx1LHMpe3ZhciBhPWMoXCJidWZmZXJcIikuQnVmZmVyLGY9NCxsPW5ldyBhKGYpO2wuZmlsbCgwKTtkLmV4cG9ydHM9e2hhc2g6ZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBvPXQoZnVuY3Rpb24oZSx0KXtlLmxlbmd0aCVmIT0wJiYobj1lLmxlbmd0aCsoZi1lLmxlbmd0aCVmKSxlPWEuY29uY2F0KFtlLGxdLG4pKTtmb3IodmFyIG4scj1bXSxvPXQ/ZS5yZWFkSW50MzJCRTplLnJlYWRJbnQzMkxFLGk9MDtpPGUubGVuZ3RoO2krPWYpci5wdXNoKG8uY2FsbChlLGkpKTtyZXR1cm4gcn0oZT1hLmlzQnVmZmVyKGUpP2U6bmV3IGEoZSksciksOCplLmxlbmd0aCksdD1yLGk9bmV3IGEobiksdT10P2kud3JpdGVJbnQzMkJFOmkud3JpdGVJbnQzMkxFLHM9MDtzPG8ubGVuZ3RoO3MrKyl1LmNhbGwoaSxvW3NdLDQqcywhMCk7cmV0dXJuIGl9fX0uY2FsbCh0aGlzLGMoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSxjKFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvaGVscGVycy5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5XCIpfSx7YnVmZmVyOjMsbFlwb0kyOjExfV0sNTpbZnVuY3Rpb24odixlLF8peyFmdW5jdGlvbihsLGMsdSxkLGgscCxnLHksdyl7dmFyIHU9dihcImJ1ZmZlclwiKS5CdWZmZXIsZT12KFwiLi9zaGFcIiksdD12KFwiLi9zaGEyNTZcIiksbj12KFwiLi9ybmdcIiksYj17c2hhMTplLHNoYTI1Njp0LG1kNTp2KFwiLi9tZDVcIil9LHM9NjQsYT1uZXcgdShzKTtmdW5jdGlvbiByKGUsbil7dmFyIHI9YltlPWV8fFwic2hhMVwiXSxvPVtdO3JldHVybiByfHxpKFwiYWxnb3JpdGhtOlwiLGUsXCJpcyBub3QgeWV0IHN1cHBvcnRlZFwiKSx7dXBkYXRlOmZ1bmN0aW9uKGUpe3JldHVybiB1LmlzQnVmZmVyKGUpfHwoZT1uZXcgdShlKSksby5wdXNoKGUpLGUubGVuZ3RoLHRoaXN9LGRpZ2VzdDpmdW5jdGlvbihlKXt2YXIgdD11LmNvbmNhdChvKSx0PW4/ZnVuY3Rpb24oZSx0LG4pe3UuaXNCdWZmZXIodCl8fCh0PW5ldyB1KHQpKSx1LmlzQnVmZmVyKG4pfHwobj1uZXcgdShuKSksdC5sZW5ndGg+cz90PWUodCk6dC5sZW5ndGg8cyYmKHQ9dS5jb25jYXQoW3QsYV0scykpO2Zvcih2YXIgcj1uZXcgdShzKSxvPW5ldyB1KHMpLGk9MDtpPHM7aSsrKXJbaV09NTRedFtpXSxvW2ldPTkyXnRbaV07cmV0dXJuIG49ZSh1LmNvbmNhdChbcixuXSkpLGUodS5jb25jYXQoW28sbl0pKX0ocixuLHQpOnIodCk7cmV0dXJuIG89bnVsbCxlP3QudG9TdHJpbmcoZSk6dH19fWZ1bmN0aW9uIGkoKXt2YXIgZT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbihcIiBcIik7dGhyb3cgbmV3IEVycm9yKFtlLFwid2UgYWNjZXB0IHB1bGwgcmVxdWVzdHNcIixcImh0dHA6Ly9naXRodWIuY29tL2RvbWluaWN0YXJyL2NyeXB0by1icm93c2VyaWZ5XCJdLmpvaW4oXCJcXG5cIikpfWEuZmlsbCgwKSxfLmNyZWF0ZUhhc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSl9LF8uY3JlYXRlSG1hYz1yLF8ucmFuZG9tQnl0ZXM9ZnVuY3Rpb24oZSx0KXtpZighdHx8IXQuY2FsbClyZXR1cm4gbmV3IHUobihlKSk7dHJ5e3QuY2FsbCh0aGlzLHZvaWQgMCxuZXcgdShuKGUpKSl9Y2F0Y2goZSl7dChlKX19O3ZhciBvLGY9W1wiY3JlYXRlQ3JlZGVudGlhbHNcIixcImNyZWF0ZUNpcGhlclwiLFwiY3JlYXRlQ2lwaGVyaXZcIixcImNyZWF0ZURlY2lwaGVyXCIsXCJjcmVhdGVEZWNpcGhlcml2XCIsXCJjcmVhdGVTaWduXCIsXCJjcmVhdGVWZXJpZnlcIixcImNyZWF0ZURpZmZpZUhlbGxtYW5cIixcInBia2RmMlwiXSxtPWZ1bmN0aW9uKGUpe19bZV09ZnVuY3Rpb24oKXtpKFwic29ycnksXCIsZSxcImlzIG5vdCBpbXBsZW1lbnRlZCB5ZXRcIil9fTtmb3IobyBpbiBmKW0oZltvXSxvKX0uY2FsbCh0aGlzLHYoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSx2KFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvaW5kZXguanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeVwiKX0se1wiLi9tZDVcIjo2LFwiLi9ybmdcIjo3LFwiLi9zaGFcIjo4LFwiLi9zaGEyNTZcIjo5LGJ1ZmZlcjozLGxZcG9JMjoxMX1dLDY6W2Z1bmN0aW9uKHcsYixlKXshZnVuY3Rpb24oZSxyLG8saSx1LGEsZixsLHkpe3ZhciB0PXcoXCIuL2hlbHBlcnNcIik7ZnVuY3Rpb24gbihlLHQpe2VbdD4+NV18PTEyODw8dCUzMixlWzE0Kyh0KzY0Pj4+OTw8NCldPXQ7Zm9yKHZhciBuPTE3MzI1ODQxOTMscj0tMjcxNzMzODc5LG89LTE3MzI1ODQxOTQsaT0yNzE3MzM4NzgsdT0wO3U8ZS5sZW5ndGg7dSs9MTYpe3ZhciBzPW4sYT1yLGY9byxsPWksbj1jKG4scixvLGksZVt1KzBdLDcsLTY4MDg3NjkzNiksaT1jKGksbixyLG8sZVt1KzFdLDEyLC0zODk1NjQ1ODYpLG89YyhvLGksbixyLGVbdSsyXSwxNyw2MDYxMDU4MTkpLHI9YyhyLG8saSxuLGVbdSszXSwyMiwtMTA0NDUyNTMzMCk7bj1jKG4scixvLGksZVt1KzRdLDcsLTE3NjQxODg5NyksaT1jKGksbixyLG8sZVt1KzVdLDEyLDEyMDAwODA0MjYpLG89YyhvLGksbixyLGVbdSs2XSwxNywtMTQ3MzIzMTM0MSkscj1jKHIsbyxpLG4sZVt1KzddLDIyLC00NTcwNTk4Myksbj1jKG4scixvLGksZVt1KzhdLDcsMTc3MDAzNTQxNiksaT1jKGksbixyLG8sZVt1KzldLDEyLC0xOTU4NDE0NDE3KSxvPWMobyxpLG4scixlW3UrMTBdLDE3LC00MjA2Mykscj1jKHIsbyxpLG4sZVt1KzExXSwyMiwtMTk5MDQwNDE2Miksbj1jKG4scixvLGksZVt1KzEyXSw3LDE4MDQ2MDM2ODIpLGk9YyhpLG4scixvLGVbdSsxM10sMTIsLTQwMzQxMTAxKSxvPWMobyxpLG4scixlW3UrMTRdLDE3LC0xNTAyMDAyMjkwKSxuPWQobixyPWMocixvLGksbixlW3UrMTVdLDIyLDEyMzY1MzUzMjkpLG8saSxlW3UrMV0sNSwtMTY1Nzk2NTEwKSxpPWQoaSxuLHIsbyxlW3UrNl0sOSwtMTA2OTUwMTYzMiksbz1kKG8saSxuLHIsZVt1KzExXSwxNCw2NDM3MTc3MTMpLHI9ZChyLG8saSxuLGVbdSswXSwyMCwtMzczODk3MzAyKSxuPWQobixyLG8saSxlW3UrNV0sNSwtNzAxNTU4NjkxKSxpPWQoaSxuLHIsbyxlW3UrMTBdLDksMzgwMTYwODMpLG89ZChvLGksbixyLGVbdSsxNV0sMTQsLTY2MDQ3ODMzNSkscj1kKHIsbyxpLG4sZVt1KzRdLDIwLC00MDU1Mzc4NDgpLG49ZChuLHIsbyxpLGVbdSs5XSw1LDU2ODQ0NjQzOCksaT1kKGksbixyLG8sZVt1KzE0XSw5LC0xMDE5ODAzNjkwKSxvPWQobyxpLG4scixlW3UrM10sMTQsLTE4NzM2Mzk2MSkscj1kKHIsbyxpLG4sZVt1KzhdLDIwLDExNjM1MzE1MDEpLG49ZChuLHIsbyxpLGVbdSsxM10sNSwtMTQ0NDY4MTQ2NyksaT1kKGksbixyLG8sZVt1KzJdLDksLTUxNDAzNzg0KSxvPWQobyxpLG4scixlW3UrN10sMTQsMTczNTMyODQ3Myksbj1oKG4scj1kKHIsbyxpLG4sZVt1KzEyXSwyMCwtMTkyNjYwNzczNCksbyxpLGVbdSs1XSw0LC0zNzg1NTgpLGk9aChpLG4scixvLGVbdSs4XSwxMSwtMjAyMjU3NDQ2Myksbz1oKG8saSxuLHIsZVt1KzExXSwxNiwxODM5MDMwNTYyKSxyPWgocixvLGksbixlW3UrMTRdLDIzLC0zNTMwOTU1Niksbj1oKG4scixvLGksZVt1KzFdLDQsLTE1MzA5OTIwNjApLGk9aChpLG4scixvLGVbdSs0XSwxMSwxMjcyODkzMzUzKSxvPWgobyxpLG4scixlW3UrN10sMTYsLTE1NTQ5NzYzMikscj1oKHIsbyxpLG4sZVt1KzEwXSwyMywtMTA5NDczMDY0MCksbj1oKG4scixvLGksZVt1KzEzXSw0LDY4MTI3OTE3NCksaT1oKGksbixyLG8sZVt1KzBdLDExLC0zNTg1MzcyMjIpLG89aChvLGksbixyLGVbdSszXSwxNiwtNzIyNTIxOTc5KSxyPWgocixvLGksbixlW3UrNl0sMjMsNzYwMjkxODkpLG49aChuLHIsbyxpLGVbdSs5XSw0LC02NDAzNjQ0ODcpLGk9aChpLG4scixvLGVbdSsxMl0sMTEsLTQyMTgxNTgzNSksbz1oKG8saSxuLHIsZVt1KzE1XSwxNiw1MzA3NDI1MjApLG49cChuLHI9aChyLG8saSxuLGVbdSsyXSwyMywtOTk1MzM4NjUxKSxvLGksZVt1KzBdLDYsLTE5ODYzMDg0NCksaT1wKGksbixyLG8sZVt1KzddLDEwLDExMjY4OTE0MTUpLG89cChvLGksbixyLGVbdSsxNF0sMTUsLTE0MTYzNTQ5MDUpLHI9cChyLG8saSxuLGVbdSs1XSwyMSwtNTc0MzQwNTUpLG49cChuLHIsbyxpLGVbdSsxMl0sNiwxNzAwNDg1NTcxKSxpPXAoaSxuLHIsbyxlW3UrM10sMTAsLTE4OTQ5ODY2MDYpLG89cChvLGksbixyLGVbdSsxMF0sMTUsLTEwNTE1MjMpLHI9cChyLG8saSxuLGVbdSsxXSwyMSwtMjA1NDkyMjc5OSksbj1wKG4scixvLGksZVt1KzhdLDYsMTg3MzMxMzM1OSksaT1wKGksbixyLG8sZVt1KzE1XSwxMCwtMzA2MTE3NDQpLG89cChvLGksbixyLGVbdSs2XSwxNSwtMTU2MDE5ODM4MCkscj1wKHIsbyxpLG4sZVt1KzEzXSwyMSwxMzA5MTUxNjQ5KSxuPXAobixyLG8saSxlW3UrNF0sNiwtMTQ1NTIzMDcwKSxpPXAoaSxuLHIsbyxlW3UrMTFdLDEwLC0xMTIwMjEwMzc5KSxvPXAobyxpLG4scixlW3UrMl0sMTUsNzE4Nzg3MjU5KSxyPXAocixvLGksbixlW3UrOV0sMjEsLTM0MzQ4NTU1MSksbj1nKG4scykscj1nKHIsYSksbz1nKG8sZiksaT1nKGksbCl9cmV0dXJuIEFycmF5KG4scixvLGkpfWZ1bmN0aW9uIHMoZSx0LG4scixvLGkpe3JldHVybiBnKCh0PWcoZyh0LGUpLGcocixpKSkpPDxvfHQ+Pj4zMi1vLG4pfWZ1bmN0aW9uIGMoZSx0LG4scixvLGksdSl7cmV0dXJuIHModCZufH50JnIsZSx0LG8saSx1KX1mdW5jdGlvbiBkKGUsdCxuLHIsbyxpLHUpe3JldHVybiBzKHQmcnxuJn5yLGUsdCxvLGksdSl9ZnVuY3Rpb24gaChlLHQsbixyLG8saSx1KXtyZXR1cm4gcyh0Xm5ecixlLHQsbyxpLHUpfWZ1bmN0aW9uIHAoZSx0LG4scixvLGksdSl7cmV0dXJuIHMobl4odHx+ciksZSx0LG8saSx1KX1mdW5jdGlvbiBnKGUsdCl7dmFyIG49KDY1NTM1JmUpKyg2NTUzNSZ0KTtyZXR1cm4oZT4+MTYpKyh0Pj4xNikrKG4+PjE2KTw8MTZ8NjU1MzUmbn1iLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFzaChlLG4sMTYpfX0uY2FsbCh0aGlzLHcoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSx3KFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbWQ1LmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnlcIil9LHtcIi4vaGVscGVyc1wiOjQsYnVmZmVyOjMsbFlwb0kyOjExfV0sNzpbZnVuY3Rpb24oZSxsLHQpeyFmdW5jdGlvbihlLHQsbixyLG8saSx1LHMsZil7dmFyIGE7bC5leHBvcnRzPWF8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKykwPT0oMyZyKSYmKHQ9NDI5NDk2NzI5NipNYXRoLnJhbmRvbSgpKSxuW3JdPXQ+Pj4oKDMmcik8PDMpJjI1NTtyZXR1cm4gbn19LmNhbGwodGhpcyxlKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L3JuZy5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5XCIpfSx7YnVmZmVyOjMsbFlwb0kyOjExfV0sODpbZnVuY3Rpb24oYyxkLGUpeyFmdW5jdGlvbihlLHQsbixyLG8scyxhLGYsbCl7dmFyIGk9YyhcIi4vaGVscGVyc1wiKTtmdW5jdGlvbiB1KGwsYyl7bFtjPj41XXw9MTI4PDwyNC1jJTMyLGxbMTUrKGMrNjQ+Pjk8PDQpXT1jO2Zvcih2YXIgZSx0LG4scj1BcnJheSg4MCksbz0xNzMyNTg0MTkzLGk9LTI3MTczMzg3OSx1PS0xNzMyNTg0MTk0LHM9MjcxNzMzODc4LGQ9LTEwMDk1ODk3NzYsaD0wO2g8bC5sZW5ndGg7aCs9MTYpe2Zvcih2YXIgcD1vLGc9aSx5PXUsdz1zLGI9ZCxhPTA7YTw4MDthKyspe3JbYV09YTwxNj9sW2grYV06dihyW2EtM11eclthLThdXnJbYS0xNF1eclthLTE2XSwxKTt2YXIgZj1tKG0odihvLDUpLChmPWksdD11LG49cywoZT1hKTwyMD9mJnR8fmYmbjohKGU8NDApJiZlPDYwP2YmdHxmJm58dCZuOmZedF5uKSksbShtKGQsclthXSksKGU9YSk8MjA/MTUxODUwMDI0OTplPDQwPzE4NTk3NzUzOTM6ZTw2MD8tMTg5NDAwNzU4ODotODk5NDk3NTE0KSksZD1zLHM9dSx1PXYoaSwzMCksaT1vLG89Zn1vPW0obyxwKSxpPW0oaSxnKSx1PW0odSx5KSxzPW0ocyx3KSxkPW0oZCxiKX1yZXR1cm4gQXJyYXkobyxpLHUscyxkKX1mdW5jdGlvbiBtKGUsdCl7dmFyIG49KDY1NTM1JmUpKyg2NTUzNSZ0KTtyZXR1cm4oZT4+MTYpKyh0Pj4xNikrKG4+PjE2KTw8MTZ8NjU1MzUmbn1mdW5jdGlvbiB2KGUsdCl7cmV0dXJuIGU8PHR8ZT4+PjMyLXR9ZC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpLmhhc2goZSx1LDIwLCEwKX19LmNhbGwodGhpcyxjKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sYyhcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L3NoYS5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5XCIpfSx7XCIuL2hlbHBlcnNcIjo0LGJ1ZmZlcjozLGxZcG9JMjoxMX1dLDk6W2Z1bmN0aW9uKGMsZCxlKXshZnVuY3Rpb24oZSx0LG4scix1LHMsYSxmLGwpe2Z1bmN0aW9uIGIoZSx0KXt2YXIgbj0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufWZ1bmN0aW9uIG8oZSxsKXt2YXIgYyxkPW5ldyBBcnJheSgxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOTgpLHQ9bmV3IEFycmF5KDE3NzkwMzM3MDMsMzE0NDEzNDI3NywxMDEzOTA0MjQyLDI3NzM0ODA3NjIsMTM1OTg5MzExOSwyNjAwODIyOTI0LDUyODczNDYzNSwxNTQxNDU5MjI1KSxuPW5ldyBBcnJheSg2NCk7ZVtsPj41XXw9MTI4PDwyNC1sJTMyLGVbMTUrKGwrNjQ+Pjk8PDQpXT1sO2Zvcih2YXIgcixvLGg9MDtoPGUubGVuZ3RoO2grPTE2KXtmb3IodmFyIGk9dFswXSx1PXRbMV0scz10WzJdLHA9dFszXSxhPXRbNF0sZz10WzVdLHk9dFs2XSx3PXRbN10sZj0wO2Y8NjQ7ZisrKW5bZl09ZjwxNj9lW2YraF06YihiKGIoKG89bltmLTJdLG0obywxNylebShvLDE5KV52KG8sMTApKSxuW2YtN10pLChvPW5bZi0xNV0sbShvLDcpXm0obywxOCledihvLDMpKSksbltmLTE2XSksYz1iKGIoYihiKHcsbShvPWEsNilebShvLDExKV5tKG8sMjUpKSxhJmdefmEmeSksZFtmXSksbltmXSkscj1iKG0ocj1pLDIpXm0ociwxMylebShyLDIyKSxpJnVeaSZzXnUmcyksdz15LHk9ZyxnPWEsYT1iKHAsYykscD1zLHM9dSx1PWksaT1iKGMscik7dFswXT1iKGksdFswXSksdFsxXT1iKHUsdFsxXSksdFsyXT1iKHMsdFsyXSksdFszXT1iKHAsdFszXSksdFs0XT1iKGEsdFs0XSksdFs1XT1iKGcsdFs1XSksdFs2XT1iKHksdFs2XSksdFs3XT1iKHcsdFs3XSl9cmV0dXJuIHR9dmFyIGk9YyhcIi4vaGVscGVyc1wiKSxtPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj50fGU8PDMyLXR9LHY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+PnR9O2QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaS5oYXNoKGUsbywzMiwhMCl9fS5jYWxsKHRoaXMsYyhcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGMoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9zaGEyNTYuanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeVwiKX0se1wiLi9oZWxwZXJzXCI6NCxidWZmZXI6MyxsWXBvSTI6MTF9XSwxMDpbZnVuY3Rpb24oZSx0LGYpeyFmdW5jdGlvbihlLHQsbixyLG8saSx1LHMsYSl7Zi5yZWFkPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksdSxsPTgqby1yLTEsYz0oMTw8bCktMSxkPWM+PjEscz0tNyxhPW4/by0xOjAsZj1uPy0xOjEsbz1lW3QrYV07Zm9yKGErPWYsaT1vJigxPDwtcyktMSxvPj49LXMscys9bDswPHM7aT0yNTYqaStlW3QrYV0sYSs9ZixzLT04KTtmb3IodT1pJigxPDwtcyktMSxpPj49LXMscys9cjswPHM7dT0yNTYqdStlW3QrYV0sYSs9ZixzLT04KTtpZigwPT09aSlpPTEtZDtlbHNle2lmKGk9PT1jKXJldHVybiB1P05hTjoxLzAqKG8/LTE6MSk7dSs9TWF0aC5wb3coMixyKSxpLT1kfXJldHVybihvPy0xOjEpKnUqTWF0aC5wb3coMixpLXIpfSxmLndyaXRlPWZ1bmN0aW9uKGUsdCxsLG4scixjKXt2YXIgbyxpLHU9OCpjLXItMSxzPSgxPDx1KS0xLGE9cz4+MSxkPTIzPT09cj9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsZj1uPzA6Yy0xLGg9bj8xOi0xLGM9dDwwfHwwPT09dCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhpPWlzTmFOKHQpPzE6MCxvPXMpOihvPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKG49TWF0aC5wb3coMiwtbykpPDEmJihvLS0sbio9MiksMjw9KHQrPTE8PW8rYT9kL246ZCpNYXRoLnBvdygyLDEtYSkpKm4mJihvKyssbi89Miksczw9bythPyhpPTAsbz1zKToxPD1vK2E/KGk9KHQqbi0xKSpNYXRoLnBvdygyLHIpLG8rPWEpOihpPXQqTWF0aC5wb3coMixhLTEpKk1hdGgucG93KDIsciksbz0wKSk7ODw9cjtlW2wrZl09MjU1JmksZis9aCxpLz0yNTYsci09OCk7Zm9yKG89bzw8cnxpLHUrPXI7MDx1O2VbbCtmXT0yNTUmbyxmKz1oLG8vPTI1Nix1LT04KTtlW2wrZi1oXXw9MTI4KmN9fS5jYWxsKHRoaXMsZShcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvaWVlZTc1NFwiKX0se2J1ZmZlcjozLGxZcG9JMjoxMX1dLDExOltmdW5jdGlvbihlLGgsdCl7IWZ1bmN0aW9uKGUsdCxuLHIsbyxmLGwsYyxkKXt2YXIgaSx1LHM7ZnVuY3Rpb24gYSgpe30oZT1oLmV4cG9ydHM9e30pLm5leHRUaWNrPSh1PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5zZXRJbW1lZGlhdGUscz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucG9zdE1lc3NhZ2UmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyLHU/ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5zZXRJbW1lZGlhdGUoZSl9OnM/KGk9W10sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zb3VyY2U7dCE9PXdpbmRvdyYmbnVsbCE9PXR8fFwicHJvY2Vzcy10aWNrXCIhPT1lLmRhdGF8fChlLnN0b3BQcm9wYWdhdGlvbigpLDA8aS5sZW5ndGgmJmkuc2hpZnQoKSgpKX0sITApLGZ1bmN0aW9uKGUpe2kucHVzaChlKSx3aW5kb3cucG9zdE1lc3NhZ2UoXCJwcm9jZXNzLXRpY2tcIixcIipcIil9KTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsMCl9KSxlLnRpdGxlPVwiYnJvd3NlclwiLGUuYnJvd3Nlcj0hMCxlLmVudj17fSxlLmFyZ3Y9W10sZS5vbj1hLGUuYWRkTGlzdGVuZXI9YSxlLm9uY2U9YSxlLm9mZj1hLGUucmVtb3ZlTGlzdGVuZXI9YSxlLnJlbW92ZUFsbExpc3RlbmVycz1hLGUuZW1pdD1hLGUuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sZS5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0sZS5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9fS5jYWxsKHRoaXMsZShcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzXCIpfSx7YnVmZmVyOjMsbFlwb0kyOjExfV19LHt9LFsxXSkoMSl9KTsiLCJpbXBvcnQgaGFzaCBmcm9tIFwib2JqZWN0LWhhc2hcIjtcbmltcG9ydCB7IG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlLCB9IGZyb20gXCIuLi9zY2hlbWEvaW5kZXguanNcIjtcbi8qKlxuICogVGhpcyBjYWNoZSBrZXkgc2hvdWxkIGJlIGNvbnNpc3RlbnQgYWNyb3NzIGFsbCB2ZXJzaW9ucyBvZiBsYW5nY2hhaW4uXG4gKiBJdCBpcyBjdXJyZW50bHkgTk9UIGNvbnNpc3RlbnQgYWNyb3NzIHZlcnNpb25zIG9mIGxhbmdjaGFpbi5cbiAqXG4gKiBBIGh1Z2UgYmVuZWZpdCBvZiBoYXZpbmcgYSByZW1vdGUgY2FjaGUgKGxpa2UgcmVkaXMpIGlzIHRoYXQgeW91IGNhblxuICogYWNjZXNzIHRoZSBjYWNoZSBmcm9tIGRpZmZlcmVudCBwcm9jZXNzZXMvbWFjaGluZXMuIFRoZSBhbGxvd3MgeW91IHRvXG4gKiBzZXBlcmF0ZSBjb25jZXJucyBhbmQgc2NhbGUgaG9yaXpvbnRhbGx5LlxuICpcbiAqIFRPRE86IE1ha2UgY2FjaGUga2V5IGNvbnNpc3RlbnQgYWNyb3NzIHZlcnNpb25zIG9mIGxhbmdjaGFpbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldENhY2hlS2V5ID0gKC4uLnN0cmluZ3MpID0+IGhhc2goc3RyaW5ncy5qb2luKFwiX1wiKSk7XG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVTdG9yZWRHZW5lcmF0aW9uKHN0b3JlZEdlbmVyYXRpb24pIHtcbiAgICBpZiAoc3RvcmVkR2VuZXJhdGlvbi5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRleHQ6IHN0b3JlZEdlbmVyYXRpb24udGV4dCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlKHN0b3JlZEdlbmVyYXRpb24ubWVzc2FnZSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyB0ZXh0OiBzdG9yZWRHZW5lcmF0aW9uLnRleHQgfTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplR2VuZXJhdGlvbihnZW5lcmF0aW9uKSB7XG4gICAgY29uc3Qgc2VyaWFsaXplZFZhbHVlID0ge1xuICAgICAgICB0ZXh0OiBnZW5lcmF0aW9uLnRleHQsXG4gICAgfTtcbiAgICBpZiAoZ2VuZXJhdGlvbi5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2VyaWFsaXplZFZhbHVlLm1lc3NhZ2UgPSBnZW5lcmF0aW9uLm1lc3NhZ2UudG9EaWN0KCk7XG4gICAgfVxuICAgIHJldHVybiBzZXJpYWxpemVkVmFsdWU7XG59XG4iLCJpbXBvcnQgeyBnZXRDYWNoZUtleSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IEJhc2VDYWNoZSB9IGZyb20gXCIuLi9zY2hlbWEvaW5kZXguanNcIjtcbmNvbnN0IEdMT0JBTF9NQVAgPSBuZXcgTWFwKCk7XG4vKipcbiAqIEEgY2FjaGUgZm9yIHN0b3JpbmcgTExNIGdlbmVyYXRpb25zIHRoYXQgc3RvcmVzIGRhdGEgaW4gbWVtb3J5LlxuICovXG5leHBvcnQgY2xhc3MgSW5NZW1vcnlDYWNoZSBleHRlbmRzIEJhc2VDYWNoZSB7XG4gICAgY29uc3RydWN0b3IobWFwKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNhY2hlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBtYXAgPz8gbmV3IE1hcCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgZGF0YSBmcm9tIHRoZSBjYWNoZSB1c2luZyBhIHByb21wdCBhbmQgYW4gTExNIGtleS4gSWYgdGhlXG4gICAgICogZGF0YSBpcyBub3QgZm91bmQsIGl0IHJldHVybnMgbnVsbC5cbiAgICAgKiBAcGFyYW0gcHJvbXB0IFRoZSBwcm9tcHQgdXNlZCB0byBmaW5kIHRoZSBkYXRhLlxuICAgICAqIEBwYXJhbSBsbG1LZXkgVGhlIExMTSBrZXkgdXNlZCB0byBmaW5kIHRoZSBkYXRhLlxuICAgICAqIEByZXR1cm5zIFRoZSBkYXRhIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb21wdCBhbmQgTExNIGtleSwgb3IgbnVsbCBpZiBub3QgZm91bmQuXG4gICAgICovXG4gICAgbG9va3VwKHByb21wdCwgbGxtS2V5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jYWNoZS5nZXQoZ2V0Q2FjaGVLZXkocHJvbXB0LCBsbG1LZXkpKSA/PyBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY2FjaGUgd2l0aCBuZXcgZGF0YSB1c2luZyBhIHByb21wdCBhbmQgYW4gTExNIGtleS5cbiAgICAgKiBAcGFyYW0gcHJvbXB0IFRoZSBwcm9tcHQgdXNlZCB0byBzdG9yZSB0aGUgZGF0YS5cbiAgICAgKiBAcGFyYW0gbGxtS2V5IFRoZSBMTE0ga2V5IHVzZWQgdG8gc3RvcmUgdGhlIGRhdGEuXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSBkYXRhIHRvIGJlIHN0b3JlZC5cbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGUocHJvbXB0LCBsbG1LZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY2FjaGUuc2V0KGdldENhY2hlS2V5KHByb21wdCwgbGxtS2V5KSwgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZ2xvYmFsIGluc3RhbmNlIG9mIEluTWVtb3J5Q2FjaGUgdXNpbmcgYSBwcmVkZWZpbmVkIGdsb2JhbFxuICAgICAqIG1hcCBhcyB0aGUgaW5pdGlhbCBjYWNoZS5cbiAgICAgKiBAcmV0dXJucyBBIGdsb2JhbCBpbnN0YW5jZSBvZiBJbk1lbW9yeUNhY2hlLlxuICAgICAqL1xuICAgIHN0YXRpYyBnbG9iYWwoKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW5NZW1vcnlDYWNoZShHTE9CQUxfTUFQKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSwgfSBmcm9tIFwiLi4vc2NoZW1hL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBBc3luY0NhbGxlciB9IGZyb20gXCIuLi91dGlsL2FzeW5jX2NhbGxlci5qc1wiO1xuaW1wb3J0IHsgZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4gfSBmcm9tIFwiLi9jb3VudF90b2tlbnMuanNcIjtcbmltcG9ydCB7IGVuY29kaW5nRm9yTW9kZWwgfSBmcm9tIFwiLi4vdXRpbC90aWt0b2tlbi5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGUgfSBmcm9tIFwiLi4vc2NoZW1hL3J1bm5hYmxlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBTdHJpbmdQcm9tcHRWYWx1ZSB9IGZyb20gXCIuLi9wcm9tcHRzL2Jhc2UuanNcIjtcbmltcG9ydCB7IENoYXRQcm9tcHRWYWx1ZSB9IGZyb20gXCIuLi9wcm9tcHRzL2NoYXQuanNcIjtcbmltcG9ydCB7IEluTWVtb3J5Q2FjaGUgfSBmcm9tIFwiLi4vY2FjaGUvaW5kZXguanNcIjtcbmNvbnN0IGdldFZlcmJvc2l0eSA9ICgpID0+IGZhbHNlO1xuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBsYW5ndWFnZSBtb2RlbHMsIGNoYWlucywgdG9vbHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlTGFuZ0NoYWluIGV4dGVuZHMgUnVubmFibGUge1xuICAgIGdldCBsY19hdHRyaWJ1dGVzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FsbGJhY2tzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB2ZXJib3NlOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBzdXBlcihwYXJhbXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0byBwcmludCBvdXQgcmVzcG9uc2UgdGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZlcmJvc2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FsbGJhY2tzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRhZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWV0YWRhdGFcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZXJib3NlID0gcGFyYW1zLnZlcmJvc2UgPz8gZ2V0VmVyYm9zaXR5KCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gcGFyYW1zLmNhbGxiYWNrcztcbiAgICAgICAgdGhpcy50YWdzID0gcGFyYW1zLnRhZ3MgPz8gW107XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBwYXJhbXMubWV0YWRhdGEgPz8ge307XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBsYW5ndWFnZSBtb2RlbHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlTGFuZ3VhZ2VNb2RlbCBleHRlbmRzIEJhc2VMYW5nQ2hhaW4ge1xuICAgIC8qKlxuICAgICAqIEtleXMgdGhhdCB0aGUgbGFuZ3VhZ2UgbW9kZWwgYWNjZXB0cyBhcyBjYWxsIG9wdGlvbnMuXG4gICAgICovXG4gICAgZ2V0IGNhbGxLZXlzKCkge1xuICAgICAgICByZXR1cm4gW1wic3RvcFwiLCBcInRpbWVvdXRcIiwgXCJzaWduYWxcIiwgXCJ0YWdzXCIsIFwibWV0YWRhdGFcIiwgXCJjYWxsYmFja3NcIl07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHsgY2FsbGJhY2tzLCBjYWxsYmFja01hbmFnZXIsIC4uLnBhcmFtcyB9KSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGNhbGxiYWNrczogY2FsbGJhY2tzID8/IGNhbGxiYWNrTWFuYWdlcixcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXN5bmMgY2FsbGVyIHNob3VsZCBiZSB1c2VkIGJ5IHN1YmNsYXNzZXMgdG8gbWFrZSBhbnkgYXN5bmMgY2FsbHMsXG4gICAgICAgICAqIHdoaWNoIHdpbGwgdGh1cyBiZW5lZml0IGZyb20gdGhlIGNvbmN1cnJlbmN5IGFuZCByZXRyeSBsb2dpYy5cbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNhbGxlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjYWNoZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZW5jb2RpbmdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMuY2FjaGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUgPSBwYXJhbXMuY2FjaGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW1zLmNhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlID0gSW5NZW1vcnlDYWNoZS5nbG9iYWwoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWxsZXIgPSBuZXcgQXN5bmNDYWxsZXIocGFyYW1zID8/IHt9KTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TnVtVG9rZW5zKHRleHQpIHtcbiAgICAgICAgLy8gZmFsbGJhY2sgdG8gYXBwcm94aW1hdGUgY2FsY3VsYXRpb24gaWYgdGlrdG9rZW4gaXMgbm90IGF2YWlsYWJsZVxuICAgICAgICBsZXQgbnVtVG9rZW5zID0gTWF0aC5jZWlsKHRleHQubGVuZ3RoIC8gNCk7XG4gICAgICAgIGlmICghdGhpcy5fZW5jb2RpbmcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5jb2RpbmcgPSBhd2FpdCBlbmNvZGluZ0Zvck1vZGVsKFwibW9kZWxOYW1lXCIgaW4gdGhpc1xuICAgICAgICAgICAgICAgICAgICA/IGdldE1vZGVsTmFtZUZvclRpa3Rva2VuKHRoaXMubW9kZWxOYW1lKVxuICAgICAgICAgICAgICAgICAgICA6IFwiZ3B0MlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBjYWxjdWxhdGUgbnVtYmVyIG9mIHRva2VucywgZmFsbGluZyBiYWNrIHRvIGFwcHJveGltYXRlIGNvdW50XCIsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZW5jb2RpbmcpIHtcbiAgICAgICAgICAgIG51bVRva2VucyA9IHRoaXMuX2VuY29kaW5nLmVuY29kZSh0ZXh0KS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bVRva2VucztcbiAgICB9XG4gICAgc3RhdGljIF9jb252ZXJ0SW5wdXRUb1Byb21wdFZhbHVlKGlucHV0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyaW5nUHJvbXB0VmFsdWUoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENoYXRQcm9tcHRWYWx1ZShpbnB1dC5tYXAoY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2UpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGlkZW50aWZ5aW5nIHBhcmFtZXRlcnMgb2YgdGhlIExMTS5cbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9pZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB1bmlxdWUgY2FjaGUga2V5IGZvciBhIHNwZWNpZmljIGNhbGwgdG8gYSBzcGVjaWZpYyBsYW5ndWFnZSBtb2RlbC5cbiAgICAgKiBAcGFyYW0gY2FsbE9wdGlvbnMgQ2FsbCBvcHRpb25zIGZvciB0aGUgbW9kZWxcbiAgICAgKiBAcmV0dXJucyBBIHVuaXF1ZSBjYWNoZSBrZXkuXG4gICAgICovXG4gICAgX2dldFNlcmlhbGl6ZWRDYWNoZUtleVBhcmFtZXRlcnNGb3JDYWxsKGNhbGxPcHRpb25zKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCksXG4gICAgICAgICAgICAuLi5jYWxsT3B0aW9ucyxcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9sbG1UeXBlKCksXG4gICAgICAgICAgICBfbW9kZWw6IHRoaXMuX21vZGVsVHlwZSgpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBmaWx0ZXJlZEVudHJpZXMgPSBPYmplY3QuZW50cmllcyhwYXJhbXMpLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRFbnRyaWVzID0gZmlsdGVyZWRFbnRyaWVzXG4gICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IGAke2tleX06JHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9YClcbiAgICAgICAgICAgIC5zb3J0KClcbiAgICAgICAgICAgIC5qb2luKFwiLFwiKTtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZWRFbnRyaWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIFJldHVybiBhIGpzb24tbGlrZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoaXMgTExNLlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCksXG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fbGxtVHlwZSgpLFxuICAgICAgICAgICAgX21vZGVsOiB0aGlzLl9tb2RlbFR5cGUoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBMb2FkIGFuIExMTSBmcm9tIGEganNvbi1saWtlIG9iamVjdCBkZXNjcmliaW5nIGl0LlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgX3R5cGUsIF9tb2RlbCwgLi4ucmVzdCB9ID0gZGF0YTtcbiAgICAgICAgaWYgKF9tb2RlbCAmJiBfbW9kZWwgIT09IFwiYmFzZV9jaGF0X21vZGVsXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGxvYWQgTExNIHdpdGggbW9kZWwgJHtfbW9kZWx9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgQ2xzID0ge1xuICAgICAgICAgICAgb3BlbmFpOiAoYXdhaXQgaW1wb3J0KFwiLi4vY2hhdF9tb2RlbHMvb3BlbmFpLmpzXCIpKS5DaGF0T3BlbkFJLFxuICAgICAgICB9W190eXBlXTtcbiAgICAgICAgaWYgKENscyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBsb2FkIExMTSB3aXRoIHR5cGUgJHtfdHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENscyhyZXN0KTtcbiAgICB9XG59XG4vKlxuICogRXhwb3J0IHV0aWxpdHkgZnVuY3Rpb25zIGZvciB0b2tlbiBjYWxjdWxhdGlvbnM6XG4gKiAtIGNhbGN1bGF0ZU1heFRva2VuczogQ2FsY3VsYXRlIG1heCB0b2tlbnMgZm9yIGEgZ2l2ZW4gbW9kZWwgYW5kIHByb21wdCAodGhlIG1vZGVsIGNvbnRleHQgc2l6ZSAtIHRva2VucyBpbiBwcm9tcHQpLlxuICogLSBnZXRNb2RlbENvbnRleHRTaXplOiBHZXQgdGhlIGNvbnRleHQgc2l6ZSBmb3IgYSBzcGVjaWZpYyBtb2RlbC5cbiAqL1xuZXhwb3J0IHsgY2FsY3VsYXRlTWF4VG9rZW5zLCBnZXRNb2RlbENvbnRleHRTaXplIH0gZnJvbSBcIi4vY291bnRfdG9rZW5zLmpzXCI7XG4iLCJpbXBvcnQgeyBBSU1lc3NhZ2UsIEdlbmVyYXRpb25DaHVuaywgUlVOX0tFWSwgfSBmcm9tIFwiLi4vc2NoZW1hL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYXNlTGFuZ3VhZ2VNb2RlbCwgfSBmcm9tIFwiLi4vYmFzZV9sYW5ndWFnZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgQ2FsbGJhY2tNYW5hZ2VyLCB9IGZyb20gXCIuLi9jYWxsYmFja3MvbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgZ2V0QnVmZmVyU3RyaW5nIH0gZnJvbSBcIi4uL21lbW9yeS9iYXNlLmpzXCI7XG4vKipcbiAqIExMTSBXcmFwcGVyLiBQcm92aWRlcyBhbiB7QGxpbmsgY2FsbH0gKGFuIHtAbGluayBnZW5lcmF0ZX0pIGZ1bmN0aW9uIHRoYXQgdGFrZXMgaW4gYSBwcm9tcHQgKG9yIHByb21wdHMpIGFuZCByZXR1cm5zIGEgc3RyaW5nLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZUxMTSBleHRlbmRzIEJhc2VMYW5ndWFnZU1vZGVsIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGNvbmN1cnJlbmN5LCAuLi5yZXN0IH0pIHtcbiAgICAgICAgc3VwZXIoY29uY3VycmVuY3kgPyB7IG1heENvbmN1cnJlbmN5OiBjb25jdXJyZW5jeSwgLi4ucmVzdCB9IDogcmVzdCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwibGxtc1wiLCB0aGlzLl9sbG1UeXBlKCldXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB0YWtlcyBhbiBpbnB1dCBhbmQgb3B0aW9ucywgYW5kIHJldHVybnMgYSBzdHJpbmcuIEl0XG4gICAgICogY29udmVydHMgdGhlIGlucHV0IHRvIGEgcHJvbXB0IHZhbHVlIGFuZCBnZW5lcmF0ZXMgYSByZXN1bHQgYmFzZWQgb25cbiAgICAgKiB0aGUgcHJvbXB0LlxuICAgICAqIEBwYXJhbSBpbnB1dCBJbnB1dCBmb3IgdGhlIExMTS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgTExNIGNhbGwuXG4gICAgICogQHJldHVybnMgQSBzdHJpbmcgcmVzdWx0IGJhc2VkIG9uIHRoZSBwcm9tcHQuXG4gICAgICovXG4gICAgYXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHByb21wdFZhbHVlID0gQmFzZUxMTS5fY29udmVydElucHV0VG9Qcm9tcHRWYWx1ZShpbnB1dCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVQcm9tcHQoW3Byb21wdFZhbHVlXSwgb3B0aW9ucywgb3B0aW9ucz8uY2FsbGJhY2tzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5nZW5lcmF0aW9uc1swXVswXS50ZXh0O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVxdWlyZS15aWVsZFxuICAgIGFzeW5jICpfc3RyZWFtUmVzcG9uc2VDaHVua3MoX2lucHV0LCBfb3B0aW9ucywgX3J1bk1hbmFnZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gICAgX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBjb25zdCBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXSA9IHN1cGVyLl9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBpZiAoY2FsbE9wdGlvbnM/LnRpbWVvdXQgJiYgIWNhbGxPcHRpb25zLnNpZ25hbCkge1xuICAgICAgICAgICAgY2FsbE9wdGlvbnMuc2lnbmFsID0gQWJvcnRTaWduYWwudGltZW91dChjYWxsT3B0aW9ucy50aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc107XG4gICAgfVxuICAgIGFzeW5jICpfc3RyZWFtSXRlcmF0b3IoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gU3ViY2xhc3MgY2hlY2sgcmVxdWlyZWQgdG8gYXZvaWQgZG91YmxlIGNhbGxiYWNrcyB3aXRoIGRlZmF1bHQgaW1wbGVtZW50YXRpb25cbiAgICAgICAgaWYgKHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzID09PSBCYXNlTExNLnByb3RvdHlwZS5fc3RyZWFtUmVzcG9uc2VDaHVua3MpIHtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuaW52b2tlKGlucHV0LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IEJhc2VMTE0uX2NvbnZlcnRJbnB1dFRvUHJvbXB0VmFsdWUoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc10gPSB0aGlzLl9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUocnVubmFibGVDb25maWcuY2FsbGJhY2tzLCB0aGlzLmNhbGxiYWNrcywgcnVubmFibGVDb25maWcudGFncywgdGhpcy50YWdzLCBydW5uYWJsZUNvbmZpZy5tZXRhZGF0YSwgdGhpcy5tZXRhZGF0YSwgeyB2ZXJib3NlOiB0aGlzLnZlcmJvc2UgfSk7XG4gICAgICAgICAgICBjb25zdCBleHRyYSA9IHtcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBjYWxsT3B0aW9ucyxcbiAgICAgICAgICAgICAgICBpbnZvY2F0aW9uX3BhcmFtczogdGhpcz8uaW52b2NhdGlvblBhcmFtcyhjYWxsT3B0aW9ucyksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVMTE1TdGFydCh0aGlzLnRvSlNPTigpLCBbcHJvbXB0LnRvU3RyaW5nKCldLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZXh0cmEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBydW5uYWJsZUNvbmZpZy5ydW5OYW1lKTtcbiAgICAgICAgICAgIGxldCBnZW5lcmF0aW9uID0gbmV3IEdlbmVyYXRpb25DaHVuayh7XG4gICAgICAgICAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKGlucHV0LnRvU3RyaW5nKCksIGNhbGxPcHRpb25zLCBydW5NYW5hZ2Vycz8uWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdlbmVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb24gPSBjaHVuaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb24gPSBnZW5lcmF0aW9uLmNvbmNhdChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaHVuay50ZXh0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCBjaHVuay50ZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKChydW5NYW5hZ2VycyA/PyBbXSkubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVMTE1FcnJvcihlcnIpKSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoKHJ1bk1hbmFnZXJzID8/IFtdKS5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTUVuZCh7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnM6IFtbZ2VuZXJhdGlvbl1dLFxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB0YWtlcyBwcm9tcHQgdmFsdWVzLCBvcHRpb25zLCBhbmQgY2FsbGJhY2tzLCBhbmQgZ2VuZXJhdGVzXG4gICAgICogYSByZXN1bHQgYmFzZWQgb24gdGhlIHByb21wdHMuXG4gICAgICogQHBhcmFtIHByb21wdFZhbHVlcyBQcm9tcHQgdmFsdWVzIGZvciB0aGUgTExNLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgZm9yIHRoZSBMTE0gY2FsbC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIENhbGxiYWNrcyBmb3IgdGhlIExMTSBjYWxsLlxuICAgICAqIEByZXR1cm5zIEFuIExMTVJlc3VsdCBiYXNlZCBvbiB0aGUgcHJvbXB0cy5cbiAgICAgKi9cbiAgICBhc3luYyBnZW5lcmF0ZVByb21wdChwcm9tcHRWYWx1ZXMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICBjb25zdCBwcm9tcHRzID0gcHJvbXB0VmFsdWVzLm1hcCgocHJvbXB0VmFsdWUpID0+IHByb21wdFZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZShwcm9tcHRzLCBvcHRpb25zLCBjYWxsYmFja3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBhcmFtZXRlcnMgdXNlZCB0byBpbnZva2UgdGhlIG1vZGVsXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBpbnZvY2F0aW9uUGFyYW1zKF9vcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgX2ZsYXR0ZW5MTE1SZXN1bHQobGxtUmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IGxsbVJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsbG1SZXN1bHQuZ2VuZXJhdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGdlbkxpc3QgPSBsbG1SZXN1bHQuZ2VuZXJhdGlvbnNbaV07XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGxsbVJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb25zOiBbZ2VuTGlzdF0sXG4gICAgICAgICAgICAgICAgICAgIGxsbU91dHB1dDogbGxtUmVzdWx0LmxsbU91dHB1dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxsbU91dHB1dCA9IGxsbVJlc3VsdC5sbG1PdXRwdXRcbiAgICAgICAgICAgICAgICAgICAgPyB7IC4uLmxsbVJlc3VsdC5sbG1PdXRwdXQsIHRva2VuVXNhZ2U6IHt9IH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbGxtUmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnM6IFtnZW5MaXN0XSxcbiAgICAgICAgICAgICAgICAgICAgbGxtT3V0cHV0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsbG1SZXN1bHRzO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9nZW5lcmF0ZVVuY2FjaGVkKHByb21wdHMsIHBhcnNlZE9wdGlvbnMsIGhhbmRsZWRPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBDYWxsYmFja01hbmFnZXIuY29uZmlndXJlKGhhbmRsZWRPcHRpb25zLmNhbGxiYWNrcywgdGhpcy5jYWxsYmFja3MsIGhhbmRsZWRPcHRpb25zLnRhZ3MsIHRoaXMudGFncywgaGFuZGxlZE9wdGlvbnMubWV0YWRhdGEsIHRoaXMubWV0YWRhdGEsIHsgdmVyYm9zZTogdGhpcy52ZXJib3NlIH0pO1xuICAgICAgICBjb25zdCBleHRyYSA9IHtcbiAgICAgICAgICAgIG9wdGlvbnM6IHBhcnNlZE9wdGlvbnMsXG4gICAgICAgICAgICBpbnZvY2F0aW9uX3BhcmFtczogdGhpcz8uaW52b2NhdGlvblBhcmFtcyhwYXJzZWRPcHRpb25zKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVMTE1TdGFydCh0aGlzLnRvSlNPTigpLCBwcm9tcHRzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZXh0cmEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBoYW5kbGVkT3B0aW9ucz8ucnVuTmFtZSk7XG4gICAgICAgIGxldCBvdXRwdXQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBhd2FpdCB0aGlzLl9nZW5lcmF0ZShwcm9tcHRzLCBwYXJzZWRPcHRpb25zLCBydW5NYW5hZ2Vycz8uWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCgocnVuTWFuYWdlcnMgPz8gW10pLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlTExNRXJyb3IoZXJyKSkpO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZsYXR0ZW5lZE91dHB1dHMgPSB0aGlzLl9mbGF0dGVuTExNUmVzdWx0KG91dHB1dCk7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKChydW5NYW5hZ2VycyA/PyBbXSkubWFwKChydW5NYW5hZ2VyLCBpKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVMTE1FbmQoZmxhdHRlbmVkT3V0cHV0c1tpXSkpKTtcbiAgICAgICAgY29uc3QgcnVuSWRzID0gcnVuTWFuYWdlcnM/Lm1hcCgobWFuYWdlcikgPT4gbWFuYWdlci5ydW5JZCkgfHwgdW5kZWZpbmVkO1xuICAgICAgICAvLyBUaGlzIGRlZmluZXMgUlVOX0tFWSBhcyBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IG9uIHRoZSBvdXRwdXQgb2JqZWN0XG4gICAgICAgIC8vIHNvIHRoYXQgaXQgaXMgbm90IHNlcmlhbGl6ZWQgd2hlbiB0aGUgb3V0cHV0IGlzIHN0cmluZ2lmaWVkLCBhbmQgc28gdGhhdFxuICAgICAgICAvLyBpdCBpc250IGluY2x1ZGVkIHdoZW4gbGlzdGluZyB0aGUga2V5cyBvZiB0aGUgb3V0cHV0IG9iamVjdC5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG91dHB1dCwgUlVOX0tFWSwge1xuICAgICAgICAgICAgdmFsdWU6IHJ1bklkcyA/IHsgcnVuSWRzIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW4gdGhlIExMTSBvbiB0aGUgZ2l2ZW4gcHJvbXB0cyBhbmQgaW5wdXQsIGhhbmRsaW5nIGNhY2hpbmcuXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGUocHJvbXB0cywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9tcHRzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgJ3Byb21wdHMnIGlzIGV4cGVjdGVkIHRvIGJlIGEgc3RyaW5nW11cIik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhcnNlZE9wdGlvbnM7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0geyBzdG9wOiBvcHRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXSA9IHRoaXMuX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnMocGFyc2VkT3B0aW9ucyk7XG4gICAgICAgIHJ1bm5hYmxlQ29uZmlnLmNhbGxiYWNrcyA9IHJ1bm5hYmxlQ29uZmlnLmNhbGxiYWNrcyA/PyBjYWxsYmFja3M7XG4gICAgICAgIGlmICghdGhpcy5jYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dlbmVyYXRlVW5jYWNoZWQocHJvbXB0cywgY2FsbE9wdGlvbnMsIHJ1bm5hYmxlQ29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGNhY2hlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBsbG1TdHJpbmdLZXkgPSB0aGlzLl9nZXRTZXJpYWxpemVkQ2FjaGVLZXlQYXJhbWV0ZXJzRm9yQ2FsbChjYWxsT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG1pc3NpbmdQcm9tcHRJbmRpY2VzID0gW107XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbXB0cy5tYXAoYXN5bmMgKHByb21wdCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhY2hlLmxvb2t1cChwcm9tcHQsIGxsbVN0cmluZ0tleSk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIG1pc3NpbmdQcm9tcHRJbmRpY2VzLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSkpO1xuICAgICAgICBsZXQgbGxtT3V0cHV0ID0ge307XG4gICAgICAgIGlmIChtaXNzaW5nUHJvbXB0SW5kaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5fZ2VuZXJhdGVVbmNhY2hlZChtaXNzaW5nUHJvbXB0SW5kaWNlcy5tYXAoKGkpID0+IHByb21wdHNbaV0pLCBjYWxsT3B0aW9ucywgcnVubmFibGVDb25maWcpO1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocmVzdWx0cy5nZW5lcmF0aW9ucy5tYXAoYXN5bmMgKGdlbmVyYXRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbXB0SW5kZXggPSBtaXNzaW5nUHJvbXB0SW5kaWNlc1tpbmRleF07XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnNbcHJvbXB0SW5kZXhdID0gZ2VuZXJhdGlvbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGUudXBkYXRlKHByb21wdHNbcHJvbXB0SW5kZXhdLCBsbG1TdHJpbmdLZXksIGdlbmVyYXRpb24pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgbGxtT3V0cHV0ID0gcmVzdWx0cy5sbG1PdXRwdXQgPz8ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZ2VuZXJhdGlvbnMsIGxsbU91dHB1dCB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSB3cmFwcGVyIGZvciB7QGxpbmsgZ2VuZXJhdGV9IHRoYXQgdGFrZXMgaW4gYSBzaW5nbGUgc3RyaW5nIHByb21wdCBhbmQgcmV0dXJucyBhIHNpbmdsZSBzdHJpbmcgb3V0cHV0LlxuICAgICAqL1xuICAgIGFzeW5jIGNhbGwocHJvbXB0LCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgY29uc3QgeyBnZW5lcmF0aW9ucyB9ID0gYXdhaXQgdGhpcy5nZW5lcmF0ZShbcHJvbXB0XSwgb3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRpb25zWzBdWzBdLnRleHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHNpbWlsYXIgdG8gYGNhbGxgLCBidXQgaXQncyB1c2VkIGZvciBtYWtpbmcgcHJlZGljdGlvbnNcbiAgICAgKiBiYXNlZCBvbiB0aGUgaW5wdXQgdGV4dC5cbiAgICAgKiBAcGFyYW0gdGV4dCBJbnB1dCB0ZXh0IGZvciB0aGUgcHJlZGljdGlvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgTExNIGNhbGwuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrcyBDYWxsYmFja3MgZm9yIHRoZSBMTE0gY2FsbC5cbiAgICAgKiBAcmV0dXJucyBBIHByZWRpY3Rpb24gYmFzZWQgb24gdGhlIGlucHV0IHRleHQuXG4gICAgICovXG4gICAgYXN5bmMgcHJlZGljdCh0ZXh0LCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCh0ZXh0LCBvcHRpb25zLCBjYWxsYmFja3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB0YWtlcyBhIGxpc3Qgb2YgbWVzc2FnZXMsIG9wdGlvbnMsIGFuZCBjYWxsYmFja3MsIGFuZFxuICAgICAqIHJldHVybnMgYSBwcmVkaWN0ZWQgbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZXMgQSBsaXN0IG9mIG1lc3NhZ2VzIGZvciB0aGUgcHJlZGljdGlvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgTExNIGNhbGwuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrcyBDYWxsYmFja3MgZm9yIHRoZSBMTE0gY2FsbC5cbiAgICAgKiBAcmV0dXJucyBBIHByZWRpY3RlZCBtZXNzYWdlIGJhc2VkIG9uIHRoZSBsaXN0IG9mIG1lc3NhZ2VzLlxuICAgICAqL1xuICAgIGFzeW5jIHByZWRpY3RNZXNzYWdlcyhtZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBnZXRCdWZmZXJTdHJpbmcobWVzc2FnZXMpO1xuICAgICAgICBjb25zdCBwcmVkaWN0aW9uID0gYXdhaXQgdGhpcy5jYWxsKHRleHQsIG9wdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgICAgIHJldHVybiBuZXcgQUlNZXNzYWdlKHByZWRpY3Rpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGlkZW50aWZ5aW5nIHBhcmFtZXRlcnMgb2YgdGhlIExMTS5cbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9pZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIFJldHVybiBhIGpzb24tbGlrZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoaXMgTExNLlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCksXG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fbGxtVHlwZSgpLFxuICAgICAgICAgICAgX21vZGVsOiB0aGlzLl9tb2RlbFR5cGUoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX21vZGVsVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiYmFzZV9sbG1cIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBMb2FkIGFuIExMTSBmcm9tIGEganNvbi1saWtlIG9iamVjdCBkZXNjcmliaW5nIGl0LlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgX3R5cGUsIF9tb2RlbCwgLi4ucmVzdCB9ID0gZGF0YTtcbiAgICAgICAgaWYgKF9tb2RlbCAmJiBfbW9kZWwgIT09IFwiYmFzZV9sbG1cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgbG9hZCBMTE0gd2l0aCBtb2RlbCAke19tb2RlbH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBDbHMgPSB7XG4gICAgICAgICAgICBvcGVuYWk6IChhd2FpdCBpbXBvcnQoXCIuL29wZW5haS5qc1wiKSkuT3BlbkFJLFxuICAgICAgICB9W190eXBlXTtcbiAgICAgICAgaWYgKENscyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBsb2FkICBMTE0gd2l0aCB0eXBlICR7X3R5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDbHMocmVzdCk7XG4gICAgfVxufVxuLyoqXG4gKiBMTE0gY2xhc3MgdGhhdCBwcm92aWRlcyBhIHNpbXBsZXIgaW50ZXJmYWNlIHRvIHN1YmNsYXNzIHRoYW4ge0BsaW5rIEJhc2VMTE19LlxuICpcbiAqIFJlcXVpcmVzIG9ubHkgaW1wbGVtZW50aW5nIGEgc2ltcGxlciB7QGxpbmsgX2NhbGx9IG1ldGhvZCBpbnN0ZWFkIG9mIHtAbGluayBfZ2VuZXJhdGV9LlxuICpcbiAqIEBhdWdtZW50cyBCYXNlTExNXG4gKi9cbmV4cG9ydCBjbGFzcyBMTE0gZXh0ZW5kcyBCYXNlTExNIHtcbiAgICBhc3luYyBfZ2VuZXJhdGUocHJvbXB0cywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCBnZW5lcmF0aW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21wdHMubWFwKChwcm9tcHQsIHByb21wdEluZGV4KSA9PiB0aGlzLl9jYWxsKHByb21wdCwgeyAuLi5vcHRpb25zLCBwcm9tcHRJbmRleCB9LCBydW5NYW5hZ2VyKS50aGVuKCh0ZXh0KSA9PiBbeyB0ZXh0IH1dKSkpO1xuICAgICAgICByZXR1cm4geyBnZW5lcmF0aW9ucyB9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IsIEFQSVVzZXJBYm9ydEVycm9yIH0gZnJvbSBcIm9wZW5haVwiO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiB3cmFwT3BlbkFJQ2xpZW50RXJyb3IoZSkge1xuICAgIGxldCBlcnJvcjtcbiAgICBpZiAoZS5jb25zdHJ1Y3Rvci5uYW1lID09PSBBUElDb25uZWN0aW9uVGltZW91dEVycm9yLm5hbWUpIHtcbiAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgZXJyb3IubmFtZSA9IFwiVGltZW91dEVycm9yXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGUuY29uc3RydWN0b3IubmFtZSA9PT0gQVBJVXNlckFib3J0RXJyb3IubmFtZSkge1xuICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihlLm1lc3NhZ2UpO1xuICAgICAgICBlcnJvci5uYW1lID0gXCJBYm9ydEVycm9yXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlcnJvciA9IGU7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcjtcbn1cbiIsImltcG9ydCB7IE9wZW5BSSBhcyBPcGVuQUlDbGllbnQgfSBmcm9tIFwib3BlbmFpXCI7XG5pbXBvcnQgeyBHZW5lcmF0aW9uQ2h1bmsgfSBmcm9tIFwiLi4vc2NoZW1hL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBnZXRFbmRwb2ludCB9IGZyb20gXCIuLi91dGlsL2F6dXJlLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgeyBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCB9IGZyb20gXCIuLi91dGlsL3Byb21wdC1sYXllci5qc1wiO1xuaW1wb3J0IHsgTExNIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgd3JhcE9wZW5BSUNsaWVudEVycm9yIH0gZnJvbSBcIi4uL3V0aWwvb3BlbmFpLmpzXCI7XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIE9wZW5BSSBsYXJnZSBsYW5ndWFnZSBtb2RlbHMgdGhhdCB1c2UgdGhlIENoYXQgZW5kcG9pbnQuXG4gKlxuICogVG8gdXNlIHlvdSBzaG91bGQgaGF2ZSB0aGUgYG9wZW5haWAgcGFja2FnZSBpbnN0YWxsZWQsIHdpdGggdGhlXG4gKiBgT1BFTkFJX0FQSV9LRVlgIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBUbyB1c2Ugd2l0aCBBenVyZSB5b3Ugc2hvdWxkIGhhdmUgdGhlIGBvcGVuYWlgIHBhY2thZ2UgaW5zdGFsbGVkLCB3aXRoIHRoZVxuICogYEFaVVJFX09QRU5BSV9BUElfS0VZYCxcbiAqIGBBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVgLFxuICogYEFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FYFxuICogYW5kIGBBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05gIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBAcmVtYXJrc1xuICogQW55IHBhcmFtZXRlcnMgdGhhdCBhcmUgdmFsaWQgdG8gYmUgcGFzc2VkIHRvIHtAbGlua1xuICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9jaGF0L2NyZWF0ZSB8XG4gKiBgb3BlbmFpLmNyZWF0ZUNvbXBsZXRpb25gfSBjYW4gYmUgcGFzc2VkIHRocm91Z2gge0BsaW5rIG1vZGVsS3dhcmdzfSwgZXZlblxuICogaWYgbm90IGV4cGxpY2l0bHkgYXZhaWxhYmxlIG9uIHRoaXMgY2xhc3MuXG4gKlxuICogQGF1Z21lbnRzIEJhc2VMTE1cbiAqIEBhdWdtZW50cyBPcGVuQUlJbnB1dFxuICogQGF1Z21lbnRzIEF6dXJlT3BlbkFJQ2hhdElucHV0XG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuQUlDaGF0IGV4dGVuZHMgTExNIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiT3BlbkFJQ2hhdFwiO1xuICAgIH1cbiAgICBnZXQgY2FsbEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbLi4uc3VwZXIuY2FsbEtleXMsIFwib3B0aW9uc1wiLCBcInByb21wdEluZGV4XCJdO1xuICAgIH1cbiAgICBnZXQgbGNfc2VjcmV0cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wZW5BSUFwaUtleTogXCJPUEVOQUlfQVBJX0tFWVwiLFxuICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlLZXk6IFwiQVpVUkVfT1BFTkFJX0FQSV9LRVlcIixcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogXCJPUEVOQUlfT1JHQU5JWkFUSU9OXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCBsY19hbGlhc2VzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWxOYW1lOiBcIm1vZGVsXCIsXG4gICAgICAgICAgICBvcGVuQUlBcGlLZXk6IFwib3BlbmFpX2FwaV9rZXlcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpVmVyc2lvbjogXCJhenVyZV9vcGVuYWlfYXBpX3ZlcnNpb25cIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpS2V5OiBcImF6dXJlX29wZW5haV9hcGlfa2V5XCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTogXCJhenVyZV9vcGVuYWlfYXBpX2luc3RhbmNlX25hbWVcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IFwiYXp1cmVfb3BlbmFpX2FwaV9kZXBsb3ltZW50X25hbWVcIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCBcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyA/PyB7fSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGVtcGVyYXR1cmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcFBcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyZXF1ZW5jeVBlbmFsdHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByZXNlbmNlUGVuYWx0eVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibG9naXRCaWFzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heFRva2Vuc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiZ3B0LTMuNS10dXJib1wiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcmVmaXhNZXNzYWdlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbEt3YXJnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aW1lb3V0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJlYW1pbmdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcGVuQUlBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlWZXJzaW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpS2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlCYXNlUGF0aFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcmdhbml6YXRpb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudENvbmZpZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wZW5BSUFwaUtleSA9XG4gICAgICAgICAgICBmaWVsZHM/Lm9wZW5BSUFwaUtleSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkgPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaUtleSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0tFWVwiKTtcbiAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ICYmICF0aGlzLm9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3BlbkFJIG9yIEF6dXJlIE9wZW5BSSBBUEkga2V5IG5vdCBmb3VuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lID1cbiAgICAgICAgICAgIGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9JTlNUQU5DRV9OQU1FXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgPVxuICAgICAgICAgICAgKGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlDb21wbGV0aW9uc0RlcGxveW1lbnROYW1lIHx8XG4gICAgICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSA/P1xuICAgICAgICAgICAgICAgIChnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9DT01QTEVUSU9OU19ERVBMT1lNRU5UX05BTUVcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FXCIpKTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24gPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaVZlcnNpb24gPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9WRVJTSU9OXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGggPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUJhc2VQYXRoID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9CQVNFX1BBVEhcIik7XG4gICAgICAgIHRoaXMub3JnYW5pemF0aW9uID1cbiAgICAgICAgICAgIGZpZWxkcz8uY29uZmlndXJhdGlvbj8ub3JnYW5pemF0aW9uID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9PUkdBTklaQVRJT05cIik7XG4gICAgICAgIHRoaXMubW9kZWxOYW1lID0gZmllbGRzPy5tb2RlbE5hbWUgPz8gdGhpcy5tb2RlbE5hbWU7XG4gICAgICAgIHRoaXMucHJlZml4TWVzc2FnZXMgPSBmaWVsZHM/LnByZWZpeE1lc3NhZ2VzID8/IHRoaXMucHJlZml4TWVzc2FnZXM7XG4gICAgICAgIHRoaXMubW9kZWxLd2FyZ3MgPSBmaWVsZHM/Lm1vZGVsS3dhcmdzID8/IHt9O1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBmaWVsZHM/LnRpbWVvdXQ7XG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgPSBmaWVsZHM/LnRlbXBlcmF0dXJlID8/IHRoaXMudGVtcGVyYXR1cmU7XG4gICAgICAgIHRoaXMudG9wUCA9IGZpZWxkcz8udG9wUCA/PyB0aGlzLnRvcFA7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5UGVuYWx0eSA9IGZpZWxkcz8uZnJlcXVlbmN5UGVuYWx0eSA/PyB0aGlzLmZyZXF1ZW5jeVBlbmFsdHk7XG4gICAgICAgIHRoaXMucHJlc2VuY2VQZW5hbHR5ID0gZmllbGRzPy5wcmVzZW5jZVBlbmFsdHkgPz8gdGhpcy5wcmVzZW5jZVBlbmFsdHk7XG4gICAgICAgIHRoaXMubiA9IGZpZWxkcz8ubiA/PyB0aGlzLm47XG4gICAgICAgIHRoaXMubG9naXRCaWFzID0gZmllbGRzPy5sb2dpdEJpYXM7XG4gICAgICAgIHRoaXMubWF4VG9rZW5zID0gZmllbGRzPy5tYXhUb2tlbnM7XG4gICAgICAgIHRoaXMuc3RvcCA9IGZpZWxkcz8uc3RvcDtcbiAgICAgICAgdGhpcy51c2VyID0gZmllbGRzPy51c2VyO1xuICAgICAgICB0aGlzLnN0cmVhbWluZyA9IGZpZWxkcz8uc3RyZWFtaW5nID8/IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5uID4gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBuID4gMSBpbiBPcGVuQUlDaGF0IExMTS4gVXNlIENoYXRPcGVuQUkgQ2hhdCBNb2RlbCBpbnN0ZWFkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lICYmICF0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGluc3RhbmNlIG5hbWUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGRlcGxveW1lbnQgbmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIEFQSSB2ZXJzaW9uIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3BlbkFJQXBpS2V5ID0gdGhpcy5vcGVuQUlBcGlLZXkgPz8gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsaWVudENvbmZpZyA9IHtcbiAgICAgICAgICAgIGFwaUtleTogdGhpcy5vcGVuQUlBcGlLZXksXG4gICAgICAgICAgICBvcmdhbml6YXRpb246IHRoaXMub3JnYW5pemF0aW9uLFxuICAgICAgICAgICAgYmFzZVVSTDogY29uZmlndXJhdGlvbj8uYmFzZVBhdGggPz8gZmllbGRzPy5jb25maWd1cmF0aW9uPy5iYXNlUGF0aCxcbiAgICAgICAgICAgIGRhbmdlcm91c2x5QWxsb3dCcm93c2VyOiB0cnVlLFxuICAgICAgICAgICAgZGVmYXVsdEhlYWRlcnM6IGNvbmZpZ3VyYXRpb24/LmJhc2VPcHRpb25zPy5oZWFkZXJzID8/XG4gICAgICAgICAgICAgICAgZmllbGRzPy5jb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIGRlZmF1bHRRdWVyeTogY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LnBhcmFtcyA/P1xuICAgICAgICAgICAgICAgIGZpZWxkcz8uY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LnBhcmFtcyxcbiAgICAgICAgICAgIC4uLmNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAuLi5maWVsZHM/LmNvbmZpZ3VyYXRpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGFyYW1ldGVycyB1c2VkIHRvIGludm9rZSB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICBpbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIHRlbXBlcmF0dXJlOiB0aGlzLnRlbXBlcmF0dXJlLFxuICAgICAgICAgICAgdG9wX3A6IHRoaXMudG9wUCxcbiAgICAgICAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiB0aGlzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICBwcmVzZW5jZV9wZW5hbHR5OiB0aGlzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgIG46IHRoaXMubixcbiAgICAgICAgICAgIGxvZ2l0X2JpYXM6IHRoaXMubG9naXRCaWFzLFxuICAgICAgICAgICAgbWF4X3Rva2VuczogdGhpcy5tYXhUb2tlbnMgPT09IC0xID8gdW5kZWZpbmVkIDogdGhpcy5tYXhUb2tlbnMsXG4gICAgICAgICAgICBzdG9wOiBvcHRpb25zPy5zdG9wID8/IHRoaXMuc3RvcCxcbiAgICAgICAgICAgIHVzZXI6IHRoaXMudXNlcixcbiAgICAgICAgICAgIHN0cmVhbTogdGhpcy5zdHJlYW1pbmcsXG4gICAgICAgICAgICAuLi50aGlzLm1vZGVsS3dhcmdzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF9pZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsX25hbWU6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgLi4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpZGVudGlmeWluZyBwYXJhbWV0ZXJzIGZvciB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICBpZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsX25hbWU6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgLi4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9ybWF0cyB0aGUgbWVzc2FnZXMgZm9yIHRoZSBPcGVuQUkgQVBJLlxuICAgICAqIEBwYXJhbSBwcm9tcHQgVGhlIHByb21wdCB0byBiZSBmb3JtYXR0ZWQuXG4gICAgICogQHJldHVybnMgQXJyYXkgb2YgZm9ybWF0dGVkIG1lc3NhZ2VzLlxuICAgICAqL1xuICAgIGZvcm1hdE1lc3NhZ2VzKHByb21wdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgICBjb250ZW50OiBwcm9tcHQsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLnByZWZpeE1lc3NhZ2VzID8gWy4uLnRoaXMucHJlZml4TWVzc2FnZXMsIG1lc3NhZ2VdIDogW21lc3NhZ2VdO1xuICAgIH1cbiAgICBhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKHByb21wdCwgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmludm9jYXRpb25QYXJhbXMob3B0aW9ucyksXG4gICAgICAgICAgICBtZXNzYWdlczogdGhpcy5mb3JtYXRNZXNzYWdlcyhwcm9tcHQpLFxuICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkocGFyYW1zLCBvcHRpb25zKTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBkYXRhIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgY29uc3QgY2hvaWNlID0gZGF0YT8uY2hvaWNlc1swXTtcbiAgICAgICAgICAgIGlmICghY2hvaWNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGRlbHRhIH0gPSBjaG9pY2U7XG4gICAgICAgICAgICBjb25zdCBnZW5lcmF0aW9uQ2h1bmsgPSBuZXcgR2VuZXJhdGlvbkNodW5rKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBkZWx0YS5jb250ZW50ID8/IFwiXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHlpZWxkIGdlbmVyYXRpb25DaHVuaztcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rva2VuSW5kaWNlcyA9IHtcbiAgICAgICAgICAgICAgICBwcm9tcHQ6IG9wdGlvbnMucHJvbXB0SW5kZXggPz8gMCxcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uOiBjaG9pY2UuaW5kZXggPz8gMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdm9pZFxuICAgICAgICAgICAgdm9pZCBydW5NYW5hZ2VyPy5oYW5kbGVMTE1OZXdUb2tlbihnZW5lcmF0aW9uQ2h1bmsudGV4dCA/PyBcIlwiLCBuZXdUb2tlbkluZGljZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWJvcnRFcnJvclwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9jYWxsKHByb21wdCwgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB0aGlzLmludm9jYXRpb25QYXJhbXMob3B0aW9ucyk7XG4gICAgICAgIGlmIChwYXJhbXMuc3RyZWFtKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyhwcm9tcHQsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpO1xuICAgICAgICAgICAgbGV0IGZpbmFsQ2h1bms7XG4gICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIGlmIChmaW5hbENodW5rID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDaHVuayA9IGNodW5rO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDaHVuayA9IGZpbmFsQ2h1bmsuY29uY2F0KGNodW5rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmluYWxDaHVuaz8udGV4dCA/PyBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiB0aGlzLmZvcm1hdE1lc3NhZ2VzKHByb21wdCksXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgc2lnbmFsOiBvcHRpb25zLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLm9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZT8uY2hvaWNlc1swXT8ubWVzc2FnZT8uY29udGVudCA/PyBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHRoaXMuX2dldENsaWVudE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gd3JhcE9wZW5BSUNsaWVudEVycm9yKGUpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBfZ2V0Q2xpZW50T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wZW5BSUVuZHBvaW50Q29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTogdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaUtleTogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUJhc2VQYXRoOiB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgYmFzZVVSTDogdGhpcy5jbGllbnRDb25maWcuYmFzZVVSTCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGdldEVuZHBvaW50KG9wZW5BSUVuZHBvaW50Q29uZmlnKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgICAgICBiYXNlVVJMOiBlbmRwb2ludCxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXG4gICAgICAgICAgICAgICAgbWF4UmV0cmllczogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXBhcmFtcy5iYXNlVVJMKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcmFtcy5iYXNlVVJMO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJQ2xpZW50KHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgICAgICAgIFwiYXBpLWtleVwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3RPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMucXVlcnkgPSB7XG4gICAgICAgICAgICAgICAgXCJhcGktdmVyc2lvblwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0T3B0aW9ucy5xdWVyeSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcXVlc3RPcHRpb25zO1xuICAgIH1cbiAgICBfbGxtVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwib3BlbmFpXCI7XG4gICAgfVxufVxuLyoqXG4gKiBQcm9tcHRMYXllciB3cmFwcGVyIHRvIE9wZW5BSUNoYXRcbiAqL1xuZXhwb3J0IGNsYXNzIFByb21wdExheWVyT3BlbkFJQ2hhdCBleHRlbmRzIE9wZW5BSUNoYXQge1xuICAgIGdldCBsY19zZWNyZXRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvbXB0TGF5ZXJBcGlLZXk6IFwiUFJPTVBUTEFZRVJfQVBJX0tFWVwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvbXB0TGF5ZXJBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGxUYWdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHVyblByb21wdExheWVySWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wbFRhZ3MgPSBmaWVsZHM/LnBsVGFncyA/PyBbXTtcbiAgICAgICAgdGhpcy5yZXR1cm5Qcm9tcHRMYXllcklkID0gZmllbGRzPy5yZXR1cm5Qcm9tcHRMYXllcklkID8/IGZhbHNlO1xuICAgICAgICB0aGlzLnByb21wdExheWVyQXBpS2V5ID1cbiAgICAgICAgICAgIGZpZWxkcz8ucHJvbXB0TGF5ZXJBcGlLZXkgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiUFJPTVBUTEFZRVJfQVBJX0tFWVwiKTtcbiAgICAgICAgaWYgKCF0aGlzLnByb21wdExheWVyQXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIFByb21wdExheWVyIEFQSSBrZXlcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgbGV0IGNob2ljZTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGlvbnMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9tcHRzLm1hcChhc3luYyAocHJvbXB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLl9jYWxsKHByb21wdCwgb3B0aW9ucywgcnVuTWFuYWdlcik7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0RW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjaG9pY2UgPSBbeyB0ZXh0IH1dO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkUmVzcCA9IHtcbiAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdExheWVyUmVzcEJvZHkgPSBhd2FpdCBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCh0aGlzLmNhbGxlciwgXCJsYW5nY2hhaW4uUHJvbXB0TGF5ZXJPcGVuQUlDaGF0XCIsIFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIHsgLi4udGhpcy5faWRlbnRpZnlpbmdQYXJhbXMoKSwgcHJvbXB0IH0sIHRoaXMucGxUYWdzLCBwYXJzZWRSZXNwLCByZXF1ZXN0U3RhcnRUaW1lLCByZXF1ZXN0RW5kVGltZSwgdGhpcy5wcm9tcHRMYXllckFwaUtleSk7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXR1cm5Qcm9tcHRMYXllcklkID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgcHJvbXB0TGF5ZXJSZXNwQm9keS5zdWNjZXNzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY2hvaWNlWzBdLmdlbmVyYXRpb25JbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBwcm9tcHRMYXllclJlcXVlc3RJZDogcHJvbXB0TGF5ZXJSZXNwQm9keS5yZXF1ZXN0X2lkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hvaWNlO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiB7IGdlbmVyYXRpb25zIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgT3BlbkFJIGFzIE9wZW5BSUNsaWVudCB9IGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZU1heFRva2VucyB9IGZyb20gXCIuLi9iYXNlX2xhbmd1YWdlL2NvdW50X3Rva2Vucy5qc1wiO1xuaW1wb3J0IHsgR2VuZXJhdGlvbkNodW5rIH0gZnJvbSBcIi4uL3NjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnQgfSBmcm9tIFwiLi4vdXRpbC9henVyZS5qc1wiO1xuaW1wb3J0IHsgY2h1bmtBcnJheSB9IGZyb20gXCIuLi91dGlsL2NodW5rLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgeyBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCB9IGZyb20gXCIuLi91dGlsL3Byb21wdC1sYXllci5qc1wiO1xuaW1wb3J0IHsgQmFzZUxMTSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IE9wZW5BSUNoYXQgfSBmcm9tIFwiLi9vcGVuYWktY2hhdC5qc1wiO1xuaW1wb3J0IHsgd3JhcE9wZW5BSUNsaWVudEVycm9yIH0gZnJvbSBcIi4uL3V0aWwvb3BlbmFpLmpzXCI7XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIE9wZW5BSSBsYXJnZSBsYW5ndWFnZSBtb2RlbHMuXG4gKlxuICogVG8gdXNlIHlvdSBzaG91bGQgaGF2ZSB0aGUgYG9wZW5haWAgcGFja2FnZSBpbnN0YWxsZWQsIHdpdGggdGhlXG4gKiBgT1BFTkFJX0FQSV9LRVlgIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBUbyB1c2Ugd2l0aCBBenVyZSB5b3Ugc2hvdWxkIGhhdmUgdGhlIGBvcGVuYWlgIHBhY2thZ2UgaW5zdGFsbGVkLCB3aXRoIHRoZVxuICogYEFaVVJFX09QRU5BSV9BUElfS0VZYCxcbiAqIGBBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVgLFxuICogYEFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FYFxuICogYW5kIGBBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05gIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBAcmVtYXJrc1xuICogQW55IHBhcmFtZXRlcnMgdGhhdCBhcmUgdmFsaWQgdG8gYmUgcGFzc2VkIHRvIHtAbGlua1xuICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9jb21wbGV0aW9ucy9jcmVhdGUgfFxuICogYG9wZW5haS5jcmVhdGVDb21wbGV0aW9uYH0gY2FuIGJlIHBhc3NlZCB0aHJvdWdoIHtAbGluayBtb2RlbEt3YXJnc30sIGV2ZW5cbiAqIGlmIG5vdCBleHBsaWNpdGx5IGF2YWlsYWJsZSBvbiB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgT3BlbkFJIGV4dGVuZHMgQmFzZUxMTSB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIk9wZW5BSVwiO1xuICAgIH1cbiAgICBnZXQgY2FsbEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbLi4uc3VwZXIuY2FsbEtleXMsIFwib3B0aW9uc1wiXTtcbiAgICB9XG4gICAgZ2V0IGxjX3NlY3JldHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcGVuQUlBcGlLZXk6IFwiT1BFTkFJX0FQSV9LRVlcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpS2V5OiBcIkFaVVJFX09QRU5BSV9BUElfS0VZXCIsXG4gICAgICAgICAgICBvcmdhbml6YXRpb246IFwiT1BFTkFJX09SR0FOSVpBVElPTlwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgbGNfYWxpYXNlcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsTmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgb3BlbkFJQXBpS2V5OiBcIm9wZW5haV9hcGlfa2V5XCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaVZlcnNpb246IFwiYXp1cmVfb3BlbmFpX2FwaV92ZXJzaW9uXCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaUtleTogXCJhenVyZV9vcGVuYWlfYXBpX2tleVwiLFxuICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWU6IFwiYXp1cmVfb3BlbmFpX2FwaV9pbnN0YW5jZV9uYW1lXCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lOiBcImF6dXJlX29wZW5haV9hcGlfZGVwbG95bWVudF9uYW1lXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgY29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoKGZpZWxkcz8ubW9kZWxOYW1lPy5zdGFydHNXaXRoKFwiZ3B0LTMuNS10dXJib1wiKSB8fFxuICAgICAgICAgICAgZmllbGRzPy5tb2RlbE5hbWU/LnN0YXJ0c1dpdGgoXCJncHQtNFwiKSkgJiZcbiAgICAgICAgICAgICFmaWVsZHM/Lm1vZGVsTmFtZT8uaW5jbHVkZXMoXCItaW5zdHJ1Y3RcIikpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdHJ1Y3Rvci1yZXR1cm5cbiAgICAgICAgICAgIHJldHVybiBuZXcgT3BlbkFJQ2hhdChmaWVsZHMsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGZpZWxkcyA/PyB7fSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGVtcGVyYXR1cmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDAuN1xuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4VG9rZW5zXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAyNTZcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcFBcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyZXF1ZW5jeVBlbmFsdHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByZXNlbmNlUGVuYWx0eVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYmVzdE9mXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvZ2l0Qmlhc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwidGV4dC1kYXZpbmNpLTAwM1wiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbEt3YXJnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJiYXRjaFNpemVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDIwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aW1lb3V0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJlYW1pbmdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcGVuQUlBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlWZXJzaW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpS2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlCYXNlUGF0aFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcmdhbml6YXRpb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudENvbmZpZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wZW5BSUFwaUtleSA9XG4gICAgICAgICAgICBmaWVsZHM/Lm9wZW5BSUFwaUtleSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkgPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaUtleSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0tFWVwiKTtcbiAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ICYmICF0aGlzLm9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3BlbkFJIG9yIEF6dXJlIE9wZW5BSSBBUEkga2V5IG5vdCBmb3VuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lID1cbiAgICAgICAgICAgIGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9JTlNUQU5DRV9OQU1FXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgPVxuICAgICAgICAgICAgKGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlDb21wbGV0aW9uc0RlcGxveW1lbnROYW1lIHx8XG4gICAgICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSA/P1xuICAgICAgICAgICAgICAgIChnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9DT01QTEVUSU9OU19ERVBMT1lNRU5UX05BTUVcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FXCIpKTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24gPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaVZlcnNpb24gPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9WRVJTSU9OXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGggPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUJhc2VQYXRoID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9CQVNFX1BBVEhcIik7XG4gICAgICAgIHRoaXMub3JnYW5pemF0aW9uID1cbiAgICAgICAgICAgIGZpZWxkcz8uY29uZmlndXJhdGlvbj8ub3JnYW5pemF0aW9uID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIk9QRU5BSV9PUkdBTklaQVRJT05cIik7XG4gICAgICAgIHRoaXMubW9kZWxOYW1lID0gZmllbGRzPy5tb2RlbE5hbWUgPz8gdGhpcy5tb2RlbE5hbWU7XG4gICAgICAgIHRoaXMubW9kZWxLd2FyZ3MgPSBmaWVsZHM/Lm1vZGVsS3dhcmdzID8/IHt9O1xuICAgICAgICB0aGlzLmJhdGNoU2l6ZSA9IGZpZWxkcz8uYmF0Y2hTaXplID8/IHRoaXMuYmF0Y2hTaXplO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBmaWVsZHM/LnRpbWVvdXQ7XG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgPSBmaWVsZHM/LnRlbXBlcmF0dXJlID8/IHRoaXMudGVtcGVyYXR1cmU7XG4gICAgICAgIHRoaXMubWF4VG9rZW5zID0gZmllbGRzPy5tYXhUb2tlbnMgPz8gdGhpcy5tYXhUb2tlbnM7XG4gICAgICAgIHRoaXMudG9wUCA9IGZpZWxkcz8udG9wUCA/PyB0aGlzLnRvcFA7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5UGVuYWx0eSA9IGZpZWxkcz8uZnJlcXVlbmN5UGVuYWx0eSA/PyB0aGlzLmZyZXF1ZW5jeVBlbmFsdHk7XG4gICAgICAgIHRoaXMucHJlc2VuY2VQZW5hbHR5ID0gZmllbGRzPy5wcmVzZW5jZVBlbmFsdHkgPz8gdGhpcy5wcmVzZW5jZVBlbmFsdHk7XG4gICAgICAgIHRoaXMubiA9IGZpZWxkcz8ubiA/PyB0aGlzLm47XG4gICAgICAgIHRoaXMuYmVzdE9mID0gZmllbGRzPy5iZXN0T2YgPz8gdGhpcy5iZXN0T2Y7XG4gICAgICAgIHRoaXMubG9naXRCaWFzID0gZmllbGRzPy5sb2dpdEJpYXM7XG4gICAgICAgIHRoaXMuc3RvcCA9IGZpZWxkcz8uc3RvcDtcbiAgICAgICAgdGhpcy51c2VyID0gZmllbGRzPy51c2VyO1xuICAgICAgICB0aGlzLnN0cmVhbWluZyA9IGZpZWxkcz8uc3RyZWFtaW5nID8/IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5zdHJlYW1pbmcgJiYgdGhpcy5iZXN0T2YgJiYgdGhpcy5iZXN0T2YgPiAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc3RyZWFtIHJlc3VsdHMgd2hlbiBiZXN0T2YgPiAxXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgJiYgIXRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkgaW5zdGFuY2UgbmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkgZGVwbG95bWVudCBuYW1lIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIHZlcnNpb24gbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vcGVuQUlBcGlLZXkgPSB0aGlzLm9wZW5BSUFwaUtleSA/PyBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xpZW50Q29uZmlnID0ge1xuICAgICAgICAgICAgYXBpS2V5OiB0aGlzLm9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogdGhpcy5vcmdhbml6YXRpb24sXG4gICAgICAgICAgICBiYXNlVVJMOiBjb25maWd1cmF0aW9uPy5iYXNlUGF0aCA/PyBmaWVsZHM/LmNvbmZpZ3VyYXRpb24/LmJhc2VQYXRoLFxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUsXG4gICAgICAgICAgICBkZWZhdWx0SGVhZGVyczogY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LmhlYWRlcnMgPz9cbiAgICAgICAgICAgICAgICBmaWVsZHM/LmNvbmZpZ3VyYXRpb24/LmJhc2VPcHRpb25zPy5oZWFkZXJzLFxuICAgICAgICAgICAgZGVmYXVsdFF1ZXJ5OiBjb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8ucGFyYW1zID8/XG4gICAgICAgICAgICAgICAgZmllbGRzPy5jb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8ucGFyYW1zLFxuICAgICAgICAgICAgLi4uY29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIC4uLmZpZWxkcz8uY29uZmlndXJhdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwYXJhbWV0ZXJzIHVzZWQgdG8gaW52b2tlIHRoZSBtb2RlbFxuICAgICAqL1xuICAgIGludm9jYXRpb25QYXJhbXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWw6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgdGVtcGVyYXR1cmU6IHRoaXMudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICBtYXhfdG9rZW5zOiB0aGlzLm1heFRva2VucyxcbiAgICAgICAgICAgIHRvcF9wOiB0aGlzLnRvcFAsXG4gICAgICAgICAgICBmcmVxdWVuY3lfcGVuYWx0eTogdGhpcy5mcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgICAgICAgcHJlc2VuY2VfcGVuYWx0eTogdGhpcy5wcmVzZW5jZVBlbmFsdHksXG4gICAgICAgICAgICBuOiB0aGlzLm4sXG4gICAgICAgICAgICBiZXN0X29mOiB0aGlzLmJlc3RPZixcbiAgICAgICAgICAgIGxvZ2l0X2JpYXM6IHRoaXMubG9naXRCaWFzLFxuICAgICAgICAgICAgc3RvcDogb3B0aW9ucz8uc3RvcCA/PyB0aGlzLnN0b3AsXG4gICAgICAgICAgICB1c2VyOiB0aGlzLnVzZXIsXG4gICAgICAgICAgICBzdHJlYW06IHRoaXMuc3RyZWFtaW5nLFxuICAgICAgICAgICAgLi4udGhpcy5tb2RlbEt3YXJncyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBfaWRlbnRpZnlpbmdQYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtb2RlbF9uYW1lOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIC4uLnRoaXMuaW52b2NhdGlvblBhcmFtcygpLFxuICAgICAgICAgICAgLi4udGhpcy5jbGllbnRDb25maWcsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaWRlbnRpZnlpbmcgcGFyYW1ldGVycyBmb3IgdGhlIG1vZGVsXG4gICAgICovXG4gICAgaWRlbnRpZnlpbmdQYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIG91dCB0byBPcGVuQUkncyBlbmRwb2ludCB3aXRoIGsgdW5pcXVlIHByb21wdHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBbcHJvbXB0c10gLSBUaGUgcHJvbXB0cyB0byBwYXNzIGludG8gdGhlIG1vZGVsLlxuICAgICAqIEBwYXJhbSBbb3B0aW9uc10gLSBPcHRpb25hbCBsaXN0IG9mIHN0b3Agd29yZHMgdG8gdXNlIHdoZW4gZ2VuZXJhdGluZy5cbiAgICAgKiBAcGFyYW0gW3J1bk1hbmFnZXJdIC0gT3B0aW9uYWwgY2FsbGJhY2sgbWFuYWdlciB0byB1c2Ugd2hlbiBnZW5lcmF0aW5nLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGZ1bGwgTExNIG91dHB1dC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBpbXBvcnQgeyBPcGVuQUkgfSBmcm9tIFwibGFuZ2NoYWluL2xsbXMvb3BlbmFpXCI7XG4gICAgICogY29uc3Qgb3BlbmFpID0gbmV3IE9wZW5BSSgpO1xuICAgICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3BlbmFpLmdlbmVyYXRlKFtcIlRlbGwgbWUgYSBqb2tlLlwiXSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgYXN5bmMgX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3Qgc3ViUHJvbXB0cyA9IGNodW5rQXJyYXkocHJvbXB0cywgdGhpcy5iYXRjaFNpemUpO1xuICAgICAgICBjb25zdCBjaG9pY2VzID0gW107XG4gICAgICAgIGNvbnN0IHRva2VuVXNhZ2UgPSB7fTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy5pbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpO1xuICAgICAgICBpZiAocGFyYW1zLm1heF90b2tlbnMgPT09IC0xKSB7XG4gICAgICAgICAgICBpZiAocHJvbXB0cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYXhfdG9rZW5zIHNldCB0byAtMSBub3Qgc3VwcG9ydGVkIGZvciBtdWx0aXBsZSBpbnB1dHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJhbXMubWF4X3Rva2VucyA9IGF3YWl0IGNhbGN1bGF0ZU1heFRva2Vucyh7XG4gICAgICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHRzWzBdLFxuICAgICAgICAgICAgICAgIC8vIENhc3QgaGVyZSB0byBhbGxvdyBmb3Igb3RoZXIgbW9kZWxzIHRoYXQgbWF5IG5vdCBmaXQgdGhlIHVuaW9uXG4gICAgICAgICAgICAgICAgbW9kZWxOYW1lOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ViUHJvbXB0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHBhcmFtcy5zdHJlYW1cbiAgICAgICAgICAgICAgICA/IGF3YWl0IChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNob2ljZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBzdWJQcm9tcHRzW2ldLFxuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBtZXNzYWdlIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhlIGZpcnN0IG1lc3NhZ2Ugc2V0IHRoZSByZXNwb25zZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IG1lc3NhZ2Uub2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkOiBtZXNzYWdlLmNyZWF0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiBtZXNzYWdlLm1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbiBhbGwgbWVzc2FnZXMsIHVwZGF0ZSBjaG9pY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBtZXNzYWdlLmNob2ljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNob2ljZXNbcGFydC5pbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlc1twYXJ0LmluZGV4XSA9IHBhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaG9pY2UgPSBjaG9pY2VzW3BhcnQuaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2UudGV4dCArPSBwYXJ0LnRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5maW5pc2hfcmVhc29uID0gcGFydC5maW5pc2hfcmVhc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2UubG9ncHJvYnMgPSBwYXJ0LmxvZ3Byb2JzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkIHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKHBhcnQudGV4dCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IE1hdGguZmxvb3IocGFydC5pbmRleCAvIHRoaXMubiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb246IHBhcnQuaW5kZXggJSB0aGlzLm4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBYm9ydEVycm9yXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLCBjaG9pY2VzIH07XG4gICAgICAgICAgICAgICAgfSkoKVxuICAgICAgICAgICAgICAgIDogYXdhaXQgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IHN1YlByb21wdHNbaV0sXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzaWduYWw6IG9wdGlvbnMuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjaG9pY2VzLnB1c2goLi4uZGF0YS5jaG9pY2VzKTtcbiAgICAgICAgICAgIGNvbnN0IHsgY29tcGxldGlvbl90b2tlbnM6IGNvbXBsZXRpb25Ub2tlbnMsIHByb21wdF90b2tlbnM6IHByb21wdFRva2VucywgdG90YWxfdG9rZW5zOiB0b3RhbFRva2VucywgfSA9IGRhdGEudXNhZ2VcbiAgICAgICAgICAgICAgICA/IGRhdGEudXNhZ2VcbiAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvbl90b2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0X3Rva2VuczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbF90b2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRpb25Ub2tlbnMpIHtcbiAgICAgICAgICAgICAgICB0b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPVxuICAgICAgICAgICAgICAgICAgICAodG9rZW5Vc2FnZS5jb21wbGV0aW9uVG9rZW5zID8/IDApICsgY29tcGxldGlvblRva2VucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9tcHRUb2tlbnMpIHtcbiAgICAgICAgICAgICAgICB0b2tlblVzYWdlLnByb21wdFRva2VucyA9ICh0b2tlblVzYWdlLnByb21wdFRva2VucyA/PyAwKSArIHByb21wdFRva2VucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b3RhbFRva2Vucykge1xuICAgICAgICAgICAgICAgIHRva2VuVXNhZ2UudG90YWxUb2tlbnMgPSAodG9rZW5Vc2FnZS50b3RhbFRva2VucyA/PyAwKSArIHRvdGFsVG9rZW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gY2h1bmtBcnJheShjaG9pY2VzLCB0aGlzLm4pLm1hcCgocHJvbXB0Q2hvaWNlcykgPT4gcHJvbXB0Q2hvaWNlcy5tYXAoKGNob2ljZSkgPT4gKHtcbiAgICAgICAgICAgIHRleHQ6IGNob2ljZS50ZXh0ID8/IFwiXCIsXG4gICAgICAgICAgICBnZW5lcmF0aW9uSW5mbzoge1xuICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogY2hvaWNlLmZpbmlzaF9yZWFzb24sXG4gICAgICAgICAgICAgICAgbG9ncHJvYnM6IGNob2ljZS5sb2dwcm9icyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZW5lcmF0aW9ucyxcbiAgICAgICAgICAgIGxsbU91dHB1dDogeyB0b2tlblVzYWdlIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFRPRE8oamFjb2JsZWUpOiBSZWZhY3RvciB3aXRoIF9nZW5lcmF0ZSguLi4sIHtzdHJlYW06IHRydWV9KSBpbXBsZW1lbnRhdGlvbj9cbiAgICBhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKGlucHV0LCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuaW52b2NhdGlvblBhcmFtcyhvcHRpb25zKSxcbiAgICAgICAgICAgIHByb21wdDogaW5wdXQsXG4gICAgICAgICAgICBzdHJlYW06IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IHRoaXMuY29tcGxldGlvbldpdGhSZXRyeShwYXJhbXMsIG9wdGlvbnMpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGRhdGEgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBjb25zdCBjaG9pY2UgPSBkYXRhPy5jaG9pY2VzWzBdO1xuICAgICAgICAgICAgaWYgKCFjaG9pY2UpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNodW5rID0gbmV3IEdlbmVyYXRpb25DaHVuayh7XG4gICAgICAgICAgICAgICAgdGV4dDogY2hvaWNlLnRleHQsXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbkluZm86IHtcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiBjaG9pY2UuZmluaXNoX3JlYXNvbixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB5aWVsZCBjaHVuaztcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12b2lkXG4gICAgICAgICAgICB2b2lkIHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKGNodW5rLnRleHQgPz8gXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBYm9ydEVycm9yXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHRoaXMuX2dldENsaWVudE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuY29tcGxldGlvbnMuY3JlYXRlKHJlcXVlc3QsIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IHdyYXBPcGVuQUlDbGllbnRFcnJvcihlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBPcGVuQUkgQVBJIHdpdGggcmV0cnkgbG9naWMgaW4gY2FzZSBvZiBmYWlsdXJlcy5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdCBUaGUgcmVxdWVzdCB0byBzZW5kIHRvIHRoZSBPcGVuQUkgQVBJLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBBUEkgY2FsbC5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgT3BlbkFJIEFQSS5cbiAgICAgKi9cbiAgICBfZ2V0Q2xpZW50T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wZW5BSUVuZHBvaW50Q29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTogdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaUtleTogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUJhc2VQYXRoOiB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgYmFzZVVSTDogdGhpcy5jbGllbnRDb25maWcuYmFzZVVSTCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGdldEVuZHBvaW50KG9wZW5BSUVuZHBvaW50Q29uZmlnKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgICAgICBiYXNlVVJMOiBlbmRwb2ludCxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXG4gICAgICAgICAgICAgICAgbWF4UmV0cmllczogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXBhcmFtcy5iYXNlVVJMKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcmFtcy5iYXNlVVJMO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJQ2xpZW50KHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgICAgICAgIFwiYXBpLWtleVwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3RPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMucXVlcnkgPSB7XG4gICAgICAgICAgICAgICAgXCJhcGktdmVyc2lvblwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0T3B0aW9ucy5xdWVyeSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcXVlc3RPcHRpb25zO1xuICAgIH1cbiAgICBfbGxtVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwib3BlbmFpXCI7XG4gICAgfVxufVxuLyoqXG4gKiBQcm9tcHRMYXllciB3cmFwcGVyIHRvIE9wZW5BSVxuICogQGF1Z21lbnRzIE9wZW5BSVxuICovXG5leHBvcnQgY2xhc3MgUHJvbXB0TGF5ZXJPcGVuQUkgZXh0ZW5kcyBPcGVuQUkge1xuICAgIGdldCBsY19zZWNyZXRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvbXB0TGF5ZXJBcGlLZXk6IFwiUFJPTVBUTEFZRVJfQVBJX0tFWVwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvbXB0TGF5ZXJBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGxUYWdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHVyblByb21wdExheWVySWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wbFRhZ3MgPSBmaWVsZHM/LnBsVGFncyA/PyBbXTtcbiAgICAgICAgdGhpcy5wcm9tcHRMYXllckFwaUtleSA9XG4gICAgICAgICAgICBmaWVsZHM/LnByb21wdExheWVyQXBpS2V5ID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIlBST01QVExBWUVSX0FQSV9LRVlcIik7XG4gICAgICAgIHRoaXMucmV0dXJuUHJvbXB0TGF5ZXJJZCA9IGZpZWxkcz8ucmV0dXJuUHJvbXB0TGF5ZXJJZDtcbiAgICAgICAgaWYgKCF0aGlzLnByb21wdExheWVyQXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIFByb21wdExheWVyIEFQSSBrZXlcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdFN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gYXdhaXQgc3VwZXIuX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlbmVyYXRpb25zLmdlbmVyYXRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0RW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRSZXNwID0ge1xuICAgICAgICAgICAgICAgIHRleHQ6IGdlbmVyYXRpb25zLmdlbmVyYXRpb25zW2ldWzBdLnRleHQsXG4gICAgICAgICAgICAgICAgbGxtX291dHB1dDogZ2VuZXJhdGlvbnMubGxtT3V0cHV0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdExheWVyUmVzcEJvZHkgPSBhd2FpdCBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCh0aGlzLmNhbGxlciwgXCJsYW5nY2hhaW4uUHJvbXB0TGF5ZXJPcGVuQUlcIiwgXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgeyAuLi50aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpLCBwcm9tcHQ6IHByb21wdHNbaV0gfSwgdGhpcy5wbFRhZ3MsIHBhcnNlZFJlc3AsIHJlcXVlc3RTdGFydFRpbWUsIHJlcXVlc3RFbmRUaW1lLCB0aGlzLnByb21wdExheWVyQXBpS2V5KTtcbiAgICAgICAgICAgIGxldCBwcm9tcHRMYXllclJlcXVlc3RJZDtcbiAgICAgICAgICAgIGlmICh0aGlzLnJldHVyblByb21wdExheWVySWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvbXB0TGF5ZXJSZXNwQm9keSAmJiBwcm9tcHRMYXllclJlc3BCb2R5LnN1Y2Nlc3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0TGF5ZXJSZXF1ZXN0SWQgPSBwcm9tcHRMYXllclJlc3BCb2R5LnJlcXVlc3RfaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb25zLmdlbmVyYXRpb25zW2ldWzBdLmdlbmVyYXRpb25JbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5nZW5lcmF0aW9ucy5nZW5lcmF0aW9uc1tpXVswXS5nZW5lcmF0aW9uSW5mbyxcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0TGF5ZXJSZXF1ZXN0SWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2VuZXJhdGlvbnM7XG4gICAgfVxufVxuZXhwb3J0IHsgT3BlbkFJQ2hhdCwgUHJvbXB0TGF5ZXJPcGVuQUlDaGF0IH0gZnJvbSBcIi4vb3BlbmFpLWNoYXQuanNcIjtcbiIsIi8qKlxuICogSW50ZXJmYWNlIGZvciBpbnRlcmFjdGluZyB3aXRoIGEgZG9jdW1lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEb2N1bWVudCB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBhZ2VDb250ZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1ldGFkYXRhXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGFnZUNvbnRlbnQgPSBmaWVsZHMucGFnZUNvbnRlbnRcbiAgICAgICAgICAgID8gZmllbGRzLnBhZ2VDb250ZW50LnRvU3RyaW5nKClcbiAgICAgICAgICAgIDogdGhpcy5wYWdlQ29udGVudDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IGZpZWxkcy5tZXRhZGF0YSA/PyB7fTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlU3RyaW5nUHJvbXB0VGVtcGxhdGUsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgY2hlY2tWYWxpZFRlbXBsYXRlLCByZW5kZXJUZW1wbGF0ZSwgfSBmcm9tIFwiLi90ZW1wbGF0ZS5qc1wiO1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9wcm9tcHQuanNcIjtcbi8qKlxuICogUHJvbXB0IHRlbXBsYXRlIHRoYXQgY29udGFpbnMgZmV3LXNob3QgZXhhbXBsZXMuXG4gKiBAYXVnbWVudHMgQmFzZVByb21wdFRlbXBsYXRlXG4gKiBAYXVnbWVudHMgRmV3U2hvdFByb21wdFRlbXBsYXRlSW5wdXRcbiAqL1xuZXhwb3J0IGNsYXNzIEZld1Nob3RQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoaW5wdXQpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleGFtcGxlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleGFtcGxlU2VsZWN0b3JcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXhhbXBsZVByb21wdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdWZmaXhcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV4YW1wbGVTZXBhcmF0b3JcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiXFxuXFxuXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByZWZpeFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGVtcGxhdGVGb3JtYXRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiZi1zdHJpbmdcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmFsaWRhdGVUZW1wbGF0ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLmV4YW1wbGVzICE9PSB1bmRlZmluZWQgJiYgdGhpcy5leGFtcGxlU2VsZWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBvbmUgb2YgJ2V4YW1wbGVzJyBhbmQgJ2V4YW1wbGVfc2VsZWN0b3InIHNob3VsZCBiZSBwcm92aWRlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5leGFtcGxlcyA9PT0gdW5kZWZpbmVkICYmIHRoaXMuZXhhbXBsZVNlbGVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9uZSBvZiAnZXhhbXBsZXMnIGFuZCAnZXhhbXBsZV9zZWxlY3Rvcicgc2hvdWxkIGJlIHByb3ZpZGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZhbGlkYXRlVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGxldCB0b3RhbElucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcztcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcnRpYWxWYXJpYWJsZXMpIHtcbiAgICAgICAgICAgICAgICB0b3RhbElucHV0VmFyaWFibGVzID0gdG90YWxJbnB1dFZhcmlhYmxlcy5jb25jYXQoT2JqZWN0LmtleXModGhpcy5wYXJ0aWFsVmFyaWFibGVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGVja1ZhbGlkVGVtcGxhdGUodGhpcy5wcmVmaXggKyB0aGlzLnN1ZmZpeCwgdGhpcy50ZW1wbGF0ZUZvcm1hdCwgdG90YWxJbnB1dFZhcmlhYmxlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2dldFByb21wdFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImZld19zaG90XCI7XG4gICAgfVxuICAgIGFzeW5jIGdldEV4YW1wbGVzKGlucHV0VmFyaWFibGVzKSB7XG4gICAgICAgIGlmICh0aGlzLmV4YW1wbGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV4YW1wbGVzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmV4YW1wbGVTZWxlY3RvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5leGFtcGxlU2VsZWN0b3Iuc2VsZWN0RXhhbXBsZXMoaW5wdXRWYXJpYWJsZXMpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9uZSBvZiAnZXhhbXBsZXMnIGFuZCAnZXhhbXBsZV9zZWxlY3Rvcicgc2hvdWxkIGJlIHByb3ZpZGVkXCIpO1xuICAgIH1cbiAgICBhc3luYyBwYXJ0aWFsKHZhbHVlcykge1xuICAgICAgICBjb25zdCBuZXdJbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXMuZmlsdGVyKChpdikgPT4gIShpdiBpbiB2YWx1ZXMpKTtcbiAgICAgICAgY29uc3QgbmV3UGFydGlhbFZhcmlhYmxlcyA9IHtcbiAgICAgICAgICAgIC4uLih0aGlzLnBhcnRpYWxWYXJpYWJsZXMgPz8ge30pLFxuICAgICAgICAgICAgLi4udmFsdWVzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwcm9tcHREaWN0ID0ge1xuICAgICAgICAgICAgLi4udGhpcyxcbiAgICAgICAgICAgIGlucHV0VmFyaWFibGVzOiBuZXdJbnB1dFZhcmlhYmxlcyxcbiAgICAgICAgICAgIHBhcnRpYWxWYXJpYWJsZXM6IG5ld1BhcnRpYWxWYXJpYWJsZXMsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgRmV3U2hvdFByb21wdFRlbXBsYXRlKHByb21wdERpY3QpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3JtYXRzIHRoZSBwcm9tcHQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzLlxuICAgICAqIEBwYXJhbSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBmb3JtYXQgdGhlIHByb21wdCB3aXRoLlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZm9ybWF0dGVkIHByb21wdC5cbiAgICAgKi9cbiAgICBhc3luYyBmb3JtYXQodmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IGFsbFZhbHVlcyA9IGF3YWl0IHRoaXMubWVyZ2VQYXJ0aWFsQW5kVXNlclZhcmlhYmxlcyh2YWx1ZXMpO1xuICAgICAgICBjb25zdCBleGFtcGxlcyA9IGF3YWl0IHRoaXMuZ2V0RXhhbXBsZXMoYWxsVmFsdWVzKTtcbiAgICAgICAgY29uc3QgZXhhbXBsZVN0cmluZ3MgPSBhd2FpdCBQcm9taXNlLmFsbChleGFtcGxlcy5tYXAoKGV4YW1wbGUpID0+IHRoaXMuZXhhbXBsZVByb21wdC5mb3JtYXQoZXhhbXBsZSkpKTtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBbdGhpcy5wcmVmaXgsIC4uLmV4YW1wbGVTdHJpbmdzLCB0aGlzLnN1ZmZpeF0uam9pbih0aGlzLmV4YW1wbGVTZXBhcmF0b3IpO1xuICAgICAgICByZXR1cm4gcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHRoaXMudGVtcGxhdGVGb3JtYXQsIGFsbFZhbHVlcyk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZXhhbXBsZVNlbGVjdG9yIHx8ICF0aGlzLmV4YW1wbGVzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXJpYWxpemluZyBhbiBleGFtcGxlIHNlbGVjdG9yIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFBhcnNlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXJpYWxpemluZyBhbiBvdXRwdXQgcGFyc2VyIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fZ2V0UHJvbXB0VHlwZSgpLFxuICAgICAgICAgICAgaW5wdXRfdmFyaWFibGVzOiB0aGlzLmlucHV0VmFyaWFibGVzLFxuICAgICAgICAgICAgZXhhbXBsZV9wcm9tcHQ6IHRoaXMuZXhhbXBsZVByb21wdC5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgIGV4YW1wbGVfc2VwYXJhdG9yOiB0aGlzLmV4YW1wbGVTZXBhcmF0b3IsXG4gICAgICAgICAgICBzdWZmaXg6IHRoaXMuc3VmZml4LFxuICAgICAgICAgICAgcHJlZml4OiB0aGlzLnByZWZpeCxcbiAgICAgICAgICAgIHRlbXBsYXRlX2Zvcm1hdDogdGhpcy50ZW1wbGF0ZUZvcm1hdCxcbiAgICAgICAgICAgIGV4YW1wbGVzOiB0aGlzLmV4YW1wbGVzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBjb25zdCB7IGV4YW1wbGVfcHJvbXB0IH0gPSBkYXRhO1xuICAgICAgICBpZiAoIWV4YW1wbGVfcHJvbXB0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGV4YW1wbGUgcHJvbXB0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4YW1wbGVQcm9tcHQgPSBhd2FpdCBQcm9tcHRUZW1wbGF0ZS5kZXNlcmlhbGl6ZShleGFtcGxlX3Byb21wdCk7XG4gICAgICAgIGxldCBleGFtcGxlcztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YS5leGFtcGxlcykpIHtcbiAgICAgICAgICAgIGV4YW1wbGVzID0gZGF0YS5leGFtcGxlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZXhhbXBsZXMgZm9ybWF0LiBPbmx5IGxpc3Qgb3Igc3RyaW5nIGFyZSBzdXBwb3J0ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRmV3U2hvdFByb21wdFRlbXBsYXRlKHtcbiAgICAgICAgICAgIGlucHV0VmFyaWFibGVzOiBkYXRhLmlucHV0X3ZhcmlhYmxlcyxcbiAgICAgICAgICAgIGV4YW1wbGVQcm9tcHQsXG4gICAgICAgICAgICBleGFtcGxlcyxcbiAgICAgICAgICAgIGV4YW1wbGVTZXBhcmF0b3I6IGRhdGEuZXhhbXBsZV9zZXBhcmF0b3IsXG4gICAgICAgICAgICBwcmVmaXg6IGRhdGEucHJlZml4LFxuICAgICAgICAgICAgc3VmZml4OiBkYXRhLnN1ZmZpeCxcbiAgICAgICAgICAgIHRlbXBsYXRlRm9ybWF0OiBkYXRhLnRlbXBsYXRlX2Zvcm1hdCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFNURU1NRVJTID0ge1xuICAgIGFyYWJpYzogJ2FyJyxcbiAgICBhcm1lbmlhbjogJ2FtJyxcbiAgICBidWxnYXJpYW46ICdiZycsXG4gICAgZGFuaXNoOiAnZGsnLFxuICAgIGR1dGNoOiAnbmwnLFxuICAgIGVuZ2xpc2g6ICdlbicsXG4gICAgZmlubmlzaDogJ2ZpJyxcbiAgICBmcmVuY2g6ICdmcicsXG4gICAgZ2VybWFuOiAnZGUnLFxuICAgIGdyZWVrOiAnZ3InLFxuICAgIGh1bmdhcmlhbjogJ2h1JyxcbiAgICBpbmRpYW46ICdpbicsXG4gICAgaW5kb25lc2lhbjogJ2lkJyxcbiAgICBpcmlzaDogJ2llJyxcbiAgICBpdGFsaWFuOiAnaXQnLFxuICAgIGxpdGh1YW5pYW46ICdsdCcsXG4gICAgbmVwYWxpOiAnbnAnLFxuICAgIG5vcndlZ2lhbjogJ25vJyxcbiAgICBwb3J0dWd1ZXNlOiAncHQnLFxuICAgIHJvbWFuaWFuOiAncm8nLFxuICAgIHJ1c3NpYW46ICdydScsXG4gICAgc2VyYmlhbjogJ3JzJyxcbiAgICBzbG92ZW5pYW46ICdydScsXG4gICAgc3BhbmlzaDogJ2VzJyxcbiAgICBzd2VkaXNoOiAnc2UnLFxuICAgIHRhbWlsOiAndGEnLFxuICAgIHR1cmtpc2g6ICd0cicsXG4gICAgdWtyYWluaWFuOiAndWsnLFxuICAgIHNhbnNrcml0OiAnc2snXG59O1xuZXhwb3J0IGNvbnN0IFNQTElUVEVSUyA9IHtcbiAgICBkdXRjaDogL1teQS1aYS16w6DDqMOpw6zDssOzw7kwLTlfJy1dKy9naW0sXG4gICAgZW5nbGlzaDogL1teQS1aYS16w6DDqMOpw6zDssOzw7kwLTlfJy1dKy9naW0sXG4gICAgZnJlbmNoOiAvW15hLXowLTnDpMOiw6DDqcOow6vDqsOvw67DtsO0w7nDvMO7xZPDpy1dKy9naW0sXG4gICAgaXRhbGlhbjogL1teQS1aYS16w6DDqMOpw6zDssOzw7kwLTlfJy1dKy9naW0sXG4gICAgbm9yd2VnaWFuOiAvW15hLXowLTlfw6bDuMOlw4bDmMOFw6TDhMO2w5bDvMOcXSsvZ2ltLFxuICAgIHBvcnR1Z3Vlc2U6IC9bXmEtejAtOcOgLcO6w4Atw5pdL2dpbSxcbiAgICBydXNzaWFuOiAvW15hLXowLTnQsC3Rj9CQLdCv0ZHQgV0rL2dpbSxcbiAgICBzcGFuaXNoOiAvW15hLXowLTlBLVrDoS3DusOBLcOaw7HDkcO8w5xdKy9naW0sXG4gICAgc3dlZGlzaDogL1teYS16MC05X8Olw4XDpMOEw7bDlsO8w5wtXSsvZ2ltLFxuICAgIGdlcm1hbjogL1teYS16MC05QS1aw6TDtsO8w4TDlsOcw59dKy9naW0sXG4gICAgZmlubmlzaDogL1teYS16MC05w6TDtsOEw5ZdKy9naW0sXG4gICAgZGFuaXNoOiAvW15hLXowLTnDpsO4w6XDhsOYw4VdKy9naW0sXG4gICAgaHVuZ2FyaWFuOiAvW15hLXowLTnDocOpw63Ds8O2xZHDusO8xbHDgcOJw43Dk8OWxZDDmsOcxbBdKy9naW0sXG4gICAgcm9tYW5pYW46IC9bXmEtejAtOcSDw6LDrsiZyJvEgsOCw47ImMiaXSsvZ2ltLFxuICAgIHNlcmJpYW46IC9bXmEtejAtOcSNxIfFvsWhxJHEjMSGxb3FoMSQXSsvZ2ltLFxuICAgIHR1cmtpc2g6IC9bXmEtejAtOcOnw4fEn8SexLHEsMO2w5bFn8Wew7zDnF0rL2dpbSxcbiAgICBsaXRodWFuaWFuOiAvW15hLXowLTnEhcSNxJnEl8SvxaHFs8Wrxb7EhMSMxJjElsSuxaDFssWqxb1dKy9naW0sXG4gICAgYXJhYmljOiAvW15hLXowLTnYoy3Zil0rL2dpbSxcbiAgICBuZXBhbGk6IC9bXmEtejAtOeCkhS3gpLldKy9naW0sXG4gICAgaXJpc2g6IC9bXmEtejAtOcOhw6nDrcOzw7rDgcOJw43Dk8OaXSsvZ2ltLFxuICAgIGluZGlhbjogL1teYS16MC054KSFLeCkuV0rL2dpbSxcbiAgICBhcm1lbmlhbjogL1teYS16MC051aEt1oZdKy9naW0sXG4gICAgZ3JlZWs6IC9bXmEtejAtOc6xLc+Jzqwtz45dKy9naW0sXG4gICAgaW5kb25lc2lhbjogL1teYS16MC05XSsvZ2ltLFxuICAgIHVrcmFpbmlhbjogL1teYS16MC050LAt0Y/QkC3Qr9GW0ZfRlNCG0IfQhF0rL2dpbSxcbiAgICBzbG92ZW5pYW46IC9bXmEtejAtOcSNxb7FocSMxb3FoF0rL2dpbSxcbiAgICBidWxnYXJpYW46IC9bXmEtejAtOdCwLdGP0JAt0K9dKy9naW0sXG4gICAgdGFtaWw6IC9bXmEtejAtOeCuhS3grrldKy9naW0sXG4gICAgc2Fuc2tyaXQ6IC9bXmEtejAtOUEtWsSBxKvFq+G5m+G4t+G5g+G5geG4pcWb4bmj4bmt4biN4bmH4bmFw7HhuLvhuLnhuZ1dKy9naW1cbn07XG5leHBvcnQgY29uc3QgU1VQUE9SVEVEX0xBTkdVQUdFUyA9IE9iamVjdC5rZXlzKFNURU1NRVJTKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFuZ3VhZ2VzLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi9lcnJvcnMuanMnO1xuY29uc3QgYmFzZUlkID0gRGF0ZS5ub3coKS50b1N0cmluZygpLnNsaWNlKDUpO1xubGV0IGxhc3RJZCA9IDA7XG5jb25zdCBrID0gMTAyNDtcbmNvbnN0IG5hbm8gPSBCaWdJbnQoMWUzKTtcbmNvbnN0IG1pbGxpID0gQmlnSW50KDFlNik7XG5jb25zdCBzZWNvbmQgPSBCaWdJbnQoMWU5KTtcbmV4cG9ydCBjb25zdCBpc1NlcnZlciA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnO1xuLyoqXG4gKiBUaGlzIHZhbHVlIGNhbiBiZSBpbmNyZWFzZWQgdXAgdG8gMTAwXzAwMFxuICogQnV0IGkgZG9uJ3Qga25vdyBpZiB0aGlzIHZhbHVlIGNoYW5nZSBmcm9tIG5vZGVqcyB0byBub2RlanNcbiAqIFNvIEkgd2lsbCBrZWVwIGEgc2FmZXIgdmFsdWUgaGVyZS5cbiAqLyBleHBvcnQgY29uc3QgTUFYX0FSR1VNRU5UX0ZPUl9TVEFDSyA9IDY1NTM1O1xuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBuZWVkZWQgdG8gdXNlZCBiZWNhdXNlIG9mIGlzc3VlcyBsaWtlOiBodHRwczovL2dpdGh1Yi5jb20vb3JhbWFzZWFyY2gvb3JhbWEvaXNzdWVzLzMwMVxuICogdGhhdCBpc3N1ZSBpcyBjYXVzZWQgYmVjYXVzZSB0aGUgYXJyYXkgdGhhdCBpcyBwdXNoZWQgaXMgaHVnZSAoPjEwMGspXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBzYWZlQXJyYXlQdXNoKG15QXJyYXksIFsxLCAyXSlcbiAqIGBgYFxuICovIGV4cG9ydCBmdW5jdGlvbiBzYWZlQXJyYXlQdXNoKGFyciwgbmV3QXJyKSB7XG4gICAgaWYgKG5ld0Fyci5sZW5ndGggPCBNQVhfQVJHVU1FTlRfRk9SX1NUQUNLKSB7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGFyciwgbmV3QXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbmV3QXJyLmxlbmd0aDsgaSArPSBNQVhfQVJHVU1FTlRfRk9SX1NUQUNLKXtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGFyciwgbmV3QXJyLnNsaWNlKGksIGkgKyBNQVhfQVJHVU1FTlRfRk9SX1NUQUNLKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc3ByaW50Zih0ZW1wbGF0ZSwgLi4uYXJncykge1xuICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC8lKD86KD88cG9zaXRpb24+XFxkKylcXCQpPyg/PHdpZHRoPi0/XFxkKlxcLj9cXGQqKSg/PHR5cGU+W2Rmc10pL2csIGZ1bmN0aW9uKC4uLnJlcGxhY2VBcmdzKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwcyA9IHJlcGxhY2VBcmdzW3JlcGxhY2VBcmdzLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCB7IHdpZHRoOiByYXdXaWR0aCAsIHR5cGUgLCBwb3NpdGlvbiAgfSA9IGdyb3VwcztcbiAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBwb3NpdGlvbiA/IGFyZ3NbTnVtYmVyLnBhcnNlSW50KHBvc2l0aW9uKSAtIDFdIDogYXJncy5zaGlmdCgpO1xuICAgICAgICBjb25zdCB3aWR0aCA9IHJhd1dpZHRoID09PSAnJyA/IDAgOiBOdW1iZXIucGFyc2VJbnQocmF3V2lkdGgpO1xuICAgICAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnQudG9TdHJpbmcoKS5wYWRTdGFydCh3aWR0aCwgJzAnKTtcbiAgICAgICAgICAgIGNhc2UgJ2YnOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtwYWRkaW5nLCBwcmVjaXNpb25dID0gcmF3V2lkdGguc3BsaXQoJy4nKS5tYXAoKHcpPT5OdW1iZXIucGFyc2VGbG9hdCh3KSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJlY2lzaW9uID09PSAnbnVtYmVyJyAmJiBwcmVjaXNpb24gPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0ZpeGVkKHByZWNpc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBwYWRkaW5nID09PSAnbnVtYmVyJyAmJiBwYWRkaW5nID49IDAgPyB2YWx1ZS50b1N0cmluZygpLnBhZFN0YXJ0KHdpZHRoLCAnMCcpIDogdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGggPCAwID8gcmVwbGFjZW1lbnQudG9TdHJpbmcoKS5wYWRFbmQoLXdpZHRoLCAnICcpIDogcmVwbGFjZW1lbnQudG9TdHJpbmcoKS5wYWRTdGFydCh3aWR0aCwgJyAnKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50O1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZm9ybWF0Qnl0ZXMoYnl0ZXMsIGRlY2ltYWxzID0gMikge1xuICAgIGlmIChieXRlcyA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJzAgQnl0ZXMnO1xuICAgIH1cbiAgICBjb25zdCBkbSA9IGRlY2ltYWxzIDwgMCA/IDAgOiBkZWNpbWFscztcbiAgICBjb25zdCBzaXplcyA9IFtcbiAgICAgICAgJ0J5dGVzJyxcbiAgICAgICAgJ0tCJyxcbiAgICAgICAgJ01CJyxcbiAgICAgICAgJ0dCJyxcbiAgICAgICAgJ1RCJyxcbiAgICAgICAgJ1BCJyxcbiAgICAgICAgJ0VCJyxcbiAgICAgICAgJ1pCJyxcbiAgICAgICAgJ1lCJ1xuICAgIF07XG4gICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpO1xuICAgIHJldHVybiBgJHtwYXJzZUZsb2F0KChieXRlcyAvIE1hdGgucG93KGssIGkpKS50b0ZpeGVkKGRtKSl9ICR7c2l6ZXNbaV19YDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmb3JtYXROYW5vc2Vjb25kcyh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhbHVlID0gQmlnSW50KHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlIDwgbmFubykge1xuICAgICAgICByZXR1cm4gYCR7dmFsdWV9bnNgO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPCBtaWxsaSkge1xuICAgICAgICByZXR1cm4gYCR7dmFsdWUgLyBuYW5vfc68c2A7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA8IHNlY29uZCkge1xuICAgICAgICByZXR1cm4gYCR7dmFsdWUgLyBtaWxsaX1tc2A7XG4gICAgfVxuICAgIHJldHVybiBgJHt2YWx1ZSAvIHNlY29uZH1zYDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXROYW5vc2Vjb25kc1RpbWUoKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmhydGltZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzLmhydGltZS5iaWdpbnQoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIEJpZ0ludChNYXRoLmZsb29yKHBlcmZvcm1hbmNlLm5vdygpICogMWU2KSk7XG4gICAgfVxuICAgIC8vIEB0b2RvOiBmYWxsYmFjayB0byBWOCBuYXRpdmUgbWV0aG9kIHRvIGdldCBtaWNyb3RpbWVcbiAgICByZXR1cm4gQmlnSW50KDApO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuICAgIHJldHVybiBgJHtiYXNlSWR9LSR7bGFzdElkKyt9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgLy8gQ2hlY2tzIGlmIGBoYXNPd25gIG1ldGhvZCBpcyBkZWZpbmVkIGF2b2lkaW5nIGVycm9ycyB3aXRoIG9sZGVyIE5vZGUuanMgdmVyc2lvbnNcbiAgICBpZiAoT2JqZWN0Lmhhc093biA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkgPyBvYmplY3RbcHJvcGVydHldIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0Lmhhc093bihvYmplY3QsIHByb3BlcnR5KSA/IG9iamVjdFtwcm9wZXJ0eV0gOiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9rZW5GcmVxdWVuY3kodG9rZW4sIHRva2Vucykge1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChjb25zdCB0IG9mIHRva2Vucyl7XG4gICAgICAgIGlmICh0ID09PSB0b2tlbikge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY291bnQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0U29ydGVkVmFsdWUoYXJyLCBlbCwgY29tcGFyZUZuID0gc29ydFRva2VuU2NvcmVQcmVkaWNhdGUpIHtcbiAgICBsZXQgbG93ID0gMDtcbiAgICBsZXQgaGlnaCA9IGFyci5sZW5ndGg7XG4gICAgbGV0IG1pZDtcbiAgICB3aGlsZShsb3cgPCBoaWdoKXtcbiAgICAgICAgbWlkID0gbG93ICsgaGlnaCA+Pj4gMTtcbiAgICAgICAgaWYgKGNvbXBhcmVGbihlbCwgYXJyW21pZF0pIDwgMCkge1xuICAgICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXJyLnNwbGljZShsb3csIDAsIGVsKTtcbiAgICByZXR1cm4gYXJyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRUb2tlblNjb3JlUHJlZGljYXRlKGEsIGIpIHtcbiAgICBpZiAoYlsxXSA9PT0gYVsxXSkge1xuICAgICAgICByZXR1cm4gYVswXSAtIGJbMF07XG4gICAgfVxuICAgIHJldHVybiBiWzFdIC0gYVsxXTtcbn1cbi8vIEludGVyc2VjdGlvbiBmdW5jdGlvbiB0YWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9sb3Zhc29hL2Zhc3RfYXJyYXlfaW50ZXJzZWN0LlxuLy8gTUlUIExpY2Vuc2VkIGF0IHRoZSB0aW1lIG9mIHdyaXRpbmcuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0KGFycmF5cykge1xuICAgIGlmIChhcnJheXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9IGVsc2UgaWYgKGFycmF5cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5c1swXTtcbiAgICB9XG4gICAgZm9yKGxldCBpID0gMTsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmIChhcnJheXNbaV0ubGVuZ3RoIDwgYXJyYXlzWzBdLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdG1wID0gYXJyYXlzWzBdO1xuICAgICAgICAgICAgYXJyYXlzWzBdID0gYXJyYXlzW2ldO1xuICAgICAgICAgICAgYXJyYXlzW2ldID0gdG1wO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNldCA9IG5ldyBNYXAoKTtcbiAgICBmb3IgKGNvbnN0IGVsZW0gb2YgYXJyYXlzWzBdKXtcbiAgICAgICAgc2V0LnNldChlbGVtLCAxKTtcbiAgICB9XG4gICAgZm9yKGxldCBpID0gMTsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGxldCBmb3VuZCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbSBvZiBhcnJheXNbaV0pe1xuICAgICAgICAgICAgY29uc3QgY291bnQgPSBzZXQuZ2V0KGVsZW0pO1xuICAgICAgICAgICAgaWYgKGNvdW50ID09PSBpKSB7XG4gICAgICAgICAgICAgICAgc2V0LnNldChlbGVtLCBjb3VudCArIDEpO1xuICAgICAgICAgICAgICAgIGZvdW5kKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvdW5kID09PSAwKSByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBhcnJheXNbMF0uZmlsdGVyKChlKT0+e1xuICAgICAgICBjb25zdCBjb3VudCA9IHNldC5nZXQoZSk7XG4gICAgICAgIGlmIChjb3VudCAhPT0gdW5kZWZpbmVkKSBzZXQuc2V0KGUsIDApO1xuICAgICAgICByZXR1cm4gY291bnQgPT09IGFycmF5cy5sZW5ndGg7XG4gICAgfSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzKGRvYywgcGF0aHMpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG4gICAgY29uc3QgcGF0aHNMZW5ndGggPSBwYXRocy5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHBhdGhzTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBwYXRoID0gcGF0aHNbaV07XG4gICAgICAgIGNvbnN0IHBhdGhUb2tlbnMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgICAgIGxldCBjdXJyZW50ID0gZG9jO1xuICAgICAgICBjb25zdCBwYXRoVG9rZW5zTGVuZ3RoID0gcGF0aFRva2Vucy5sZW5ndGg7XG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBwYXRoVG9rZW5zTGVuZ3RoOyBqKyspe1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGF0aFRva2Vuc1tqXV07XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCBhbiBvYmplY3QgYnV0IHdlIHdlcmUgc3VwcG9zZWQgdG8gYmUgZG9uZVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsICYmICdsYXQnIGluIGN1cnJlbnQgJiYgJ2xvbicgaW4gY3VycmVudCAmJiB0eXBlb2YgY3VycmVudC5sYXQgPT09ICdudW1iZXInICYmIHR5cGVvZiBjdXJyZW50LmxvbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHByb3BlcnRpZXNbcGF0aF0gPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGN1cnJlbnQpICYmIGN1cnJlbnQgIT09IG51bGwgJiYgaiA9PT0gcGF0aFRva2Vuc0xlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICgoY3VycmVudCA9PT0gbnVsbCB8fCB0eXBlb2YgY3VycmVudCAhPT0gJ29iamVjdCcpICYmIGogPCBwYXRoVG9rZW5zTGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGNhbid0IHJlY3Vyc2UgYW55bW9yZSBidXQgd2Ugd2VyZSBzdXBwb3NlZCB0b1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcHJvcGVydGllc1twYXRoXSA9IGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TmVzdGVkKG9iaiwgcGF0aCkge1xuICAgIGNvbnN0IHByb3BzID0gYXdhaXQgZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzKG9iaiwgW1xuICAgICAgICBwYXRoXG4gICAgXSk7XG4gICAgcmV0dXJuIHByb3BzW3BhdGhdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5PYmplY3Qob2JqLCBwcmVmaXggPSAnJykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvcihjb25zdCBrZXkgaW4gb2JqKXtcbiAgICAgICAgY29uc3QgcHJvcCA9IGAke3ByZWZpeH0ke2tleX1gO1xuICAgICAgICBjb25zdCBvYmpLZXkgPSBvYmpba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmpLZXkgPT09ICdvYmplY3QnICYmIG9iaktleSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXN1bHQsIGZsYXR0ZW5PYmplY3Qob2JqS2V5LCBgJHtwcm9wfS5gKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRbcHJvcF0gPSBvYmpLZXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IG1hcERpc3RhbmNlVG9NZXRlcnMgPSB7XG4gICAgY206IDAuMDEsXG4gICAgbTogMSxcbiAgICBrbTogMTAwMCxcbiAgICBmdDogMC4zMDQ4LFxuICAgIHlkOiAwLjkxNDQsXG4gICAgbWk6IDE2MDkuMzQ0XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnREaXN0YW5jZVRvTWV0ZXJzKGRpc3RhbmNlLCB1bml0KSB7XG4gICAgY29uc3QgcmF0aW8gPSBtYXBEaXN0YW5jZVRvTWV0ZXJzW3VuaXRdO1xuICAgIGlmIChyYXRpbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihjcmVhdGVFcnJvcignSU5WQUxJRF9ESVNUQU5DRV9TVUZGSVgnLCBkaXN0YW5jZSkubWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiBkaXN0YW5jZSAqIHJhdGlvO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiLCJpbXBvcnQgeyBTVVBQT1JURURfTEFOR1VBR0VTIH0gZnJvbSAnLi9jb21wb25lbnRzL3Rva2VuaXplci9sYW5ndWFnZXMuanMnO1xuaW1wb3J0IHsgc3ByaW50ZiB9IGZyb20gJy4vdXRpbHMuanMnO1xuY29uc3QgYWxsTGFuZ3VhZ2VzID0gU1VQUE9SVEVEX0xBTkdVQUdFUy5qb2luKCdcXG4gLSAnKTtcbmNvbnN0IGVycm9ycyA9IHtcbiAgICBOT19MQU5HVUFHRV9XSVRIX0NVU1RPTV9UT0tFTklaRVI6ICdEbyBub3QgcGFzcyB0aGUgbGFuZ3VhZ2Ugb3B0aW9uIHRvIGNyZWF0ZSB3aGVuIHVzaW5nIGEgY3VzdG9tIHRva2VuaXplci4nLFxuICAgIExBTkdVQUdFX05PVF9TVVBQT1JURUQ6IGBMYW5ndWFnZSBcIiVzXCIgaXMgbm90IHN1cHBvcnRlZC5cXG5TdXBwb3J0ZWQgbGFuZ3VhZ2VzIGFyZTpcXG4gLSAke2FsbExhbmd1YWdlc31gLFxuICAgIElOVkFMSURfU1RFTU1FUl9GVU5DVElPTl9UWVBFOiBgY29uZmlnLnN0ZW1tZXIgcHJvcGVydHkgbXVzdCBiZSBhIGZ1bmN0aW9uLmAsXG4gICAgTUlTU0lOR19TVEVNTUVSOiBgQXMgb2YgdmVyc2lvbiAxLjAuMCBAb3JhbWEvb3JhbWEgZG9lcyBub3Qgc2hpcCBub24gRW5nbGlzaCBzdGVtbWVycyBieSBkZWZhdWx0LiBUbyBzb2x2ZSB0aGlzLCBwbGVhc2UgZXhwbGljaXRseSBpbXBvcnQgYW5kIHNwZWNpZnkgdGhlIFwiJXNcIiBzdGVtbWVyIGZyb20gdGhlIHBhY2thZ2UgQG9yYW1hL3N0ZW1tZXJzLiBTZWUgaHR0cHM6Ly9kb2NzLm9yYW1hc2VhcmNoLmNvbS9vcGVuLXNvdXJjZS90ZXh0LWFuYWx5c2lzL3N0ZW1taW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLmAsXG4gICAgQ1VTVE9NX1NUT1BfV09SRFNfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWTogJ0N1c3RvbSBzdG9wIHdvcmRzIGFycmF5IG11c3Qgb25seSBjb250YWluIHN0cmluZ3MuJyxcbiAgICBVTlNVUFBPUlRFRF9DT01QT05FTlQ6IGBVbnN1cHBvcnRlZCBjb21wb25lbnQgXCIlc1wiLmAsXG4gICAgQ09NUE9ORU5UX01VU1RfQkVfRlVOQ1RJT046IGBUaGUgY29tcG9uZW50IFwiJXNcIiBtdXN0IGJlIGEgZnVuY3Rpb24uYCxcbiAgICBDT01QT05FTlRfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWV9GVU5DVElPTlM6IGBUaGUgY29tcG9uZW50IFwiJXNcIiBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgYW4gYXJyYXkgb2YgZnVuY3Rpb25zLmAsXG4gICAgSU5WQUxJRF9TQ0hFTUFfVFlQRTogYFVuc3VwcG9ydGVkIHNjaGVtYSB0eXBlIFwiJXNcIiBhdCBcIiVzXCIuIEV4cGVjdGVkIFwic3RyaW5nXCIsIFwiYm9vbGVhblwiIG9yIFwibnVtYmVyXCIgb3IgYXJyYXkgb2YgdGhlbS5gLFxuICAgIERPQ1VNRU5UX0lEX01VU1RfQkVfU1RSSU5HOiBgRG9jdW1lbnQgaWQgbXVzdCBiZSBvZiB0eXBlIFwic3RyaW5nXCIuIEdvdCBcIiVzXCIgaW5zdGVhZC5gLFxuICAgIERPQ1VNRU5UX0FMUkVBRFlfRVhJU1RTOiBgQSBkb2N1bWVudCB3aXRoIGlkIFwiJXNcIiBhbHJlYWR5IGV4aXN0cy5gLFxuICAgIERPQ1VNRU5UX0RPRVNfTk9UX0VYSVNUOiBgQSBkb2N1bWVudCB3aXRoIGlkIFwiJXNcIiBkb2VzIG5vdCBleGlzdHMuYCxcbiAgICBNSVNTSU5HX0RPQ1VNRU5UX1BST1BFUlRZOiBgTWlzc2luZyBzZWFyY2hhYmxlIHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfRE9DVU1FTlRfUFJPUEVSVFk6IGBJbnZhbGlkIGRvY3VtZW50IHByb3BlcnR5IFwiJXNcIjogZXhwZWN0ZWQgXCIlc1wiLCBnb3QgXCIlc1wiYCxcbiAgICBVTktOT1dOX0lOREVYOiBgSW52YWxpZCBwcm9wZXJ0eSBuYW1lIFwiJXNcIi4gRXhwZWN0ZWQgYSB3aWxkY2FyZCBzdHJpbmcgKFwiKlwiKSBvciBhcnJheSBjb250YWluaW5nIG9uZSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6ICVzYCxcbiAgICBJTlZBTElEX0JPT1NUX1ZBTFVFOiBgQm9vc3QgdmFsdWUgbXVzdCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4sIG9yIGxlc3MgdGhhbiAwLmAsXG4gICAgSU5WQUxJRF9GSUxURVJfT1BFUkFUSU9OOiBgWW91IGNhbiBvbmx5IHVzZSBvbmUgb3BlcmF0aW9uIHBlciBmaWx0ZXIsIHlvdSByZXF1ZXN0ZWQgJWQuYCxcbiAgICBTQ0hFTUFfVkFMSURBVElPTl9GQUlMVVJFOiBgQ2Fubm90IGluc2VydCBkb2N1bWVudCBkdWUgc2NoZW1hIHZhbGlkYXRpb24gZmFpbHVyZSBvbiBcIiVzXCIgcHJvcGVydHkuYCxcbiAgICBJTlZBTElEX1NPUlRfU0NIRU1BX1RZUEU6IGBVbnN1cHBvcnRlZCBzb3J0IHNjaGVtYSB0eXBlIFwiJXNcIiBhdCBcIiVzXCIuIEV4cGVjdGVkIFwic3RyaW5nXCIgb3IgXCJudW1iZXJcIi5gLFxuICAgIENBTk5PVF9TT1JUX0JZX0FSUkFZOiBgQ2Fubm90IGNvbmZpZ3VyZSBzb3J0IGZvciBcIiVzXCIgYmVjYXVzZSBpdCBpcyBhbiBhcnJheSAoJXMpLmAsXG4gICAgVU5BQkxFX1RPX1NPUlRfT05fVU5LTk9XTl9GSUVMRDogYFVuYWJsZSB0byBzb3J0IG9uIHVua25vd24gZmllbGQgXCIlc1wiLiBBbGxvd2VkIGZpZWxkczogJXNgLFxuICAgIFNPUlRfRElTQUJMRUQ6IGBTb3J0IGlzIGRpc2FibGVkLiBQbGVhc2UgcmVhZCB0aGUgZG9jdW1lbnRhdGlvbiBhdCBodHRwczovL2RvY3Mub3JhbWFzZWFyY2ggZm9yIG1vcmUgaW5mb3JtYXRpb24uYCxcbiAgICBVTktOT1dOX0dST1VQX0JZX1BST1BFUlRZOiBgVW5rbm93biBncm91cEJ5IHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfR1JPVVBfQllfUFJPUEVSVFk6IGBJbnZhbGlkIGdyb3VwQnkgcHJvcGVydHkgXCIlc1wiLiBBbGxvd2VkIHR5cGVzOiBcIiVzXCIsIGJ1dCBnaXZlbiBcIiVzXCIuYCxcbiAgICBVTktOT1dOX0ZJTFRFUl9QUk9QRVJUWTogYFVua25vd24gZmlsdGVyIHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfVkVDVE9SX1NJWkU6IGBWZWN0b3Igc2l6ZSBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwLiBHb3QgXCIlc1wiIGluc3RlYWQuYCxcbiAgICBJTlZBTElEX1ZFQ1RPUl9WQUxVRTogYFZlY3RvciB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwLiBHb3QgXCIlc1wiIGluc3RlYWQuYCxcbiAgICBJTlZBTElEX0lOUFVUX1ZFQ1RPUjogYFByb3BlcnR5IFwiJXNcIiB3YXMgZGVjbGFyZWQgYXMgYSAlcy1kaW1lbnNpb25hbCB2ZWN0b3IsIGJ1dCBnb3QgYSAlcy1kaW1lbnNpb25hbCB2ZWN0b3IgaW5zdGVhZC5cXG5JbnB1dCB2ZWN0b3JzIG11c3QgYmUgb2YgdGhlIHNpemUgZGVjbGFyZWQgaW4gdGhlIHNjaGVtYSwgYXMgY2FsY3VsYXRpbmcgc2ltaWxhcml0eSBiZXR3ZWVuIHZlY3RvcnMgb2YgZGlmZmVyZW50IHNpemVzIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgcmVzdWx0cy5gLFxuICAgIFdST05HX1NFQVJDSF9QUk9QRVJUWV9UWVBFOiBgUHJvcGVydHkgXCIlc1wiIGlzIG5vdCBzZWFyY2hhYmxlLiBPbmx5IFwic3RyaW5nXCIgcHJvcGVydGllcyBhcmUgc2VhcmNoYWJsZS5gLFxuICAgIEZBQ0VUX05PVF9TVVBQT1JURUQ6IGBGYWNldCBkb2Vucyd0IHN1cHBvcnQgdGhlIHR5cGUgXCIlc1wiLmAsXG4gICAgSU5WQUxJRF9ESVNUQU5DRV9TVUZGSVg6IGBJbnZhbGlkIGRpc3RhbmNlIHN1ZmZpeCBcIiVzXCIuIFZhbGlkIHN1ZmZpeGVzIGFyZTogY20sIG0sIGttLCBtaSwgeWQsIGZ0LmBcbn07XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXJyb3IoY29kZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHNwcmludGYoZXJyb3JzW2NvZGVdID8/IGBVbnN1cHBvcnRlZCBPcmFtYSBFcnJvciBjb2RlOiAke2NvZGV9YCwgLi4uYXJncykpO1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICAgIGlmICgnY2FwdHVyZVN0YWNrVHJhY2UnIGluIEVycm9yLnByb3RvdHlwZSkge1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcjtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JzLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGZvcm1hdE5hbm9zZWNvbmRzLCB1bmlxdWVJZCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmV4cG9ydCB7IGdldERvY3VtZW50UHJvcGVydGllcyB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmb3JtYXRFbGFwc2VkVGltZShuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmF3OiBOdW1iZXIobiksXG4gICAgICAgIGZvcm1hdHRlZDogYXdhaXQgZm9ybWF0TmFub3NlY29uZHMobilcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERvY3VtZW50SW5kZXhJZChkb2MpIHtcbiAgICBpZiAoZG9jLmlkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZG9jLmlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0RPQ1VNRU5UX0lEX01VU1RfQkVfU1RSSU5HJywgdHlwZW9mIGRvYy5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvYy5pZDtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHVuaXF1ZUlkKCk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVTY2hlbWEoZG9jLCBzY2hlbWEpIHtcbiAgICBmb3IgKGNvbnN0IFtwcm9wLCB0eXBlXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEpKXtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkb2NbcHJvcF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2dlb3BvaW50JyAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS5sb24gPT09ICdudW1iZXInICYmIHR5cGVvZiB2YWx1ZS5sYXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2VudW0nICYmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2VudW1bXScgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlTGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHZhbHVlTGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gIT09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZVtpXSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3AgKyAnLicgKyBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1ZlY3RvclR5cGUodHlwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZlY3RvclNpemUgPSBnZXRWZWN0b3JTaXplKHR5cGUpO1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggIT09IHZlY3RvclNpemUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9JTlBVVF9WRUNUT1InLCBwcm9wLCB2ZWN0b3JTaXplLCB2YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlUeXBlKHR5cGUpKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBnZXRJbm5lclR5cGUodHlwZSk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB2YWx1ZUxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3AgKyAnLicgKyBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXNpbmcgYXMgUmVzdWx0RG9jdW1lbnQgaXMgbm90IGV4YWN0bHkgcmlnaHQgYnV0IHRyeWluZyB0byBiZSB0eXBlLXNhZmUgaGVyZSBpcyBub3QgdXNlZnVsXG4gICAgICAgICAgICBjb25zdCBzdWJQcm9wID0gYXdhaXQgdmFsaWRhdGVTY2hlbWEodmFsdWUsIHR5cGUpO1xuICAgICAgICAgICAgaWYgKHN1YlByb3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcCArICcuJyArIHN1YlByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSB0eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuY29uc3QgSVNfQVJSQVlfVFlQRSA9IHtcbiAgICBzdHJpbmc6IGZhbHNlLFxuICAgIG51bWJlcjogZmFsc2UsXG4gICAgYm9vbGVhbjogZmFsc2UsXG4gICAgZW51bTogZmFsc2UsXG4gICAgZ2VvcG9pbnQ6IGZhbHNlLFxuICAgICdzdHJpbmdbXSc6IHRydWUsXG4gICAgJ251bWJlcltdJzogdHJ1ZSxcbiAgICAnYm9vbGVhbltdJzogdHJ1ZSxcbiAgICAnZW51bVtdJzogdHJ1ZVxufTtcbmNvbnN0IElOTkVSX1RZUEUgPSB7XG4gICAgJ3N0cmluZ1tdJzogJ3N0cmluZycsXG4gICAgJ251bWJlcltdJzogJ251bWJlcicsXG4gICAgJ2Jvb2xlYW5bXSc6ICdib29sZWFuJyxcbiAgICAnZW51bVtdJzogJ2VudW0nXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGlzR2VvUG9pbnRUeXBlKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2dlb3BvaW50Jztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ZlY3RvclR5cGUodHlwZSkge1xuICAgIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgJiYgL152ZWN0b3JcXFtcXGQrXFxdJC8udGVzdCh0eXBlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5VHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyAmJiBJU19BUlJBWV9UWVBFW3R5cGVdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldElubmVyVHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIElOTkVSX1RZUEVbdHlwZV07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VmVjdG9yU2l6ZSh0eXBlKSB7XG4gICAgY29uc3Qgc2l6ZSA9IE51bWJlcih0eXBlLnNsaWNlKDcsIC0xKSk7XG4gICAgc3dpdGNoKHRydWUpe1xuICAgICAgICBjYXNlIGlzTmFOKHNpemUpOlxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfVkVDVE9SX1ZBTFVFJywgdHlwZSk7XG4gICAgICAgIGNhc2Ugc2l6ZSA8PSAwOlxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfVkVDVE9SX1NJWkUnLCB0eXBlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdHMuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludGVybmFsRG9jdW1lbnRJRFN0b3JlKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkVG9JbnRlcm5hbElkOiBuZXcgTWFwKCksXG4gICAgICAgIGludGVybmFsSWRUb0lkOiBbXSxcbiAgICAgICAgc2F2ZSxcbiAgICAgICAgbG9hZFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2F2ZShzdG9yZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGludGVybmFsSWRUb0lkOiBzdG9yZS5pbnRlcm5hbElkVG9JZFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbG9hZChvcmFtYSwgcmF3KSB7XG4gICAgY29uc3QgeyBpbnRlcm5hbElkVG9JZCAgfSA9IHJhdztcbiAgICBvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZS5pZFRvSW50ZXJuYWxJZC5jbGVhcigpO1xuICAgIG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLmludGVybmFsSWRUb0lkID0gW107XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGludGVybmFsSWRUb0lkLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgb3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUuaWRUb0ludGVybmFsSWQuc2V0KGludGVybmFsSWRUb0lkW2ldLCBpICsgMSk7XG4gICAgICAgIG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLmludGVybmFsSWRUb0lkLnB1c2goaW50ZXJuYWxJZFRvSWRbaV0pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcm5hbERvY3VtZW50SWQoc3RvcmUsIGlkKSB7XG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZCA9IHN0b3JlLmlkVG9JbnRlcm5hbElkLmdldChpZCk7XG4gICAgICAgIGlmIChpbnRlcm5hbElkKSB7XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJuYWxJZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50SWQgPSBzdG9yZS5pZFRvSW50ZXJuYWxJZC5zaXplICsgMTtcbiAgICAgICAgc3RvcmUuaWRUb0ludGVybmFsSWQuc2V0KGlkLCBjdXJyZW50SWQpO1xuICAgICAgICBzdG9yZS5pbnRlcm5hbElkVG9JZC5wdXNoKGlkKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRJZDtcbiAgICB9XG4gICAgaWYgKGlkID4gc3RvcmUuaW50ZXJuYWxJZFRvSWQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnRlcm5hbERvY3VtZW50SWQoc3RvcmUsIGlkLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICByZXR1cm4gaWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkKHN0b3JlLCBpbnRlcm5hbElkKSB7XG4gICAgaWYgKHN0b3JlLmludGVybmFsSWRUb0lkLmxlbmd0aCA8IGludGVybmFsSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGludGVybmFsSWQgJHtpbnRlcm5hbElkfWApO1xuICAgIH1cbiAgICByZXR1cm4gc3RvcmUuaW50ZXJuYWxJZFRvSWRbaW50ZXJuYWxJZCAtIDFdO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcy5tYXAiLCJpbXBvcnQgeyBnZXRJbnRlcm5hbERvY3VtZW50SWQgfSBmcm9tICcuL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGUoXywgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICBkb2NzOiB7fSxcbiAgICAgICAgY291bnQ6IDBcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldChzdG9yZSwgaWQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHN0b3JlLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIHJldHVybiBzdG9yZS5kb2NzW2ludGVybmFsSWRdO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE11bHRpcGxlKHN0b3JlLCBpZHMpIHtcbiAgICBjb25zdCBmb3VuZCA9IEFycmF5LmZyb20oe1xuICAgICAgICBsZW5ndGg6IGlkcy5sZW5ndGhcbiAgICB9KTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChzdG9yZS5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkc1tpXSk7XG4gICAgICAgIGZvdW5kW2ldID0gc3RvcmUuZG9jc1tpbnRlcm5hbElkXTtcbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbChzdG9yZSkge1xuICAgIHJldHVybiBzdG9yZS5kb2NzO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0b3JlKHN0b3JlLCBpZCwgZG9jKSB7XG4gICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChzdG9yZS5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBpZiAodHlwZW9mIHN0b3JlLmRvY3NbaW50ZXJuYWxJZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3RvcmUuZG9jc1tpbnRlcm5hbElkXSA9IGRvYztcbiAgICBzdG9yZS5jb3VudCsrO1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZShzdG9yZSwgaWQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHN0b3JlLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGlmICh0eXBlb2Ygc3RvcmUuZG9jc1tpbnRlcm5hbElkXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkZWxldGUgc3RvcmUuZG9jc1tpbnRlcm5hbElkXTtcbiAgICBzdG9yZS5jb3VudC0tO1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvdW50KHN0b3JlKSB7XG4gICAgcmV0dXJuIHN0b3JlLmNvdW50O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWQoc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCByYXcpIHtcbiAgICBjb25zdCByYXdEb2N1bWVudCA9IHJhdztcbiAgICByZXR1cm4ge1xuICAgICAgICBkb2NzOiByYXdEb2N1bWVudC5kb2NzLFxuICAgICAgICBjb3VudDogcmF3RG9jdW1lbnQuY291bnQsXG4gICAgICAgIHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZVxuICAgIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZShzdG9yZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRvY3M6IHN0b3JlLmRvY3MsXG4gICAgICAgIGNvdW50OiBzdG9yZS5jb3VudFxuICAgIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnRzU3RvcmUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlLFxuICAgICAgICBnZXQsXG4gICAgICAgIGdldE11bHRpcGxlLFxuICAgICAgICBnZXRBbGwsXG4gICAgICAgIHN0b3JlLFxuICAgICAgICByZW1vdmUsXG4gICAgICAgIGNvdW50LFxuICAgICAgICBsb2FkLFxuICAgICAgICBzYXZlXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9jdW1lbnRzLXN0b3JlLmpzLm1hcCIsImV4cG9ydCBjb25zdCBBVkFJTEFCTEVfUExVR0lOX0hPT0tTID0gW1xuICAgICdiZWZvcmVJbnNlcnQnLFxuICAgICdhZnRlckluc2VydCcsXG4gICAgJ2JlZm9yZVJlbW92ZScsXG4gICAgJ2FmdGVyUmVtb3ZlJyxcbiAgICAnYmVmb3JlVXBkYXRlJyxcbiAgICAnYWZ0ZXJVcGRhdGUnLFxuICAgICdiZWZvcmVTZWFyY2gnLFxuICAgICdhZnRlclNlYXJjaCcsXG4gICAgJ2JlZm9yZUluc2VydE11bHRpcGxlJyxcbiAgICAnYWZ0ZXJJbnNlcnRNdWx0aXBsZScsXG4gICAgJ2JlZm9yZVJlbW92ZU11bHRpcGxlJyxcbiAgICAnYWZ0ZXJSZW1vdmVNdWx0aXBsZScsXG4gICAgJ2JlZm9yZVVwZGF0ZU11bHRpcGxlJyxcbiAgICAnYWZ0ZXJVcGRhdGVNdWx0aXBsZScsXG4gICAgJ2JlZm9yZUxvYWQnLFxuICAgICdhZnRlckxvYWQnXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFBsdWdpbnNCeUhvb2sob3JhbWEsIGhvb2spIHtcbiAgICB2YXIgX29yYW1hX3BsdWdpbnM7XG4gICAgY29uc3QgcGx1Z2luc1RvUnVuID0gW107XG4gICAgY29uc3QgcGx1Z2luc0xlbmd0aCA9IChfb3JhbWFfcGx1Z2lucyA9IG9yYW1hLnBsdWdpbnMpID09PSBudWxsIHx8IF9vcmFtYV9wbHVnaW5zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3JhbWFfcGx1Z2lucy5sZW5ndGg7XG4gICAgaWYgKCFwbHVnaW5zTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW5zVG9SdW47XG4gICAgfVxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwbHVnaW5zTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBwbHVnaW4gPSBvcmFtYS5wbHVnaW5zW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHBsdWdpbltob29rXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcGx1Z2luc1RvUnVuLnB1c2gocGx1Z2luW2hvb2tdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGx1Z2luc1RvUnVuO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbHVnaW5zLmpzLm1hcCIsImV4cG9ydCBjb25zdCBPQkpFQ1RfQ09NUE9ORU5UUyA9IFtcbiAgICAndG9rZW5pemVyJyxcbiAgICAnaW5kZXgnLFxuICAgICdkb2N1bWVudHNTdG9yZScsXG4gICAgJ3NvcnRlcidcbl07XG5leHBvcnQgY29uc3QgRlVOQ1RJT05fQ09NUE9ORU5UUyA9IFtcbiAgICAndmFsaWRhdGVTY2hlbWEnLFxuICAgICdnZXREb2N1bWVudEluZGV4SWQnLFxuICAgICdnZXREb2N1bWVudFByb3BlcnRpZXMnLFxuICAgICdmb3JtYXRFbGFwc2VkVGltZSdcbl07XG5leHBvcnQgY29uc3QgU0lOR0xFX09SX0FSUkFZX0NPTVBPTkVOVFMgPSBbXTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5TaW5nbGVIb29rKGhvb2tzLCBvcmFtYSwgaWQsIGRvYykge1xuICAgIGNvbnN0IGhvb2tzTGVuZ3RoID0gaG9va3MubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBob29rc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgaG9va3NbaV0ob3JhbWEsIGlkLCBkb2MpO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5NdWx0aXBsZUhvb2soaG9va3MsIG9yYW1hLCBkb2NzT3JJZHMpIHtcbiAgICBjb25zdCBob29rc0xlbmd0aCA9IGhvb2tzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgaG9va3NMZW5ndGg7IGkrKyl7XG4gICAgICAgIGF3YWl0IGhvb2tzW2ldKG9yYW1hLCBkb2NzT3JJZHMpO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5BZnRlclNlYXJjaChob29rcywgZGIsIHBhcmFtcywgbGFuZ3VhZ2UsIHJlc3VsdHMpIHtcbiAgICBjb25zdCBob29rc0xlbmd0aCA9IGhvb2tzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgaG9va3NMZW5ndGg7IGkrKyl7XG4gICAgICAgIGF3YWl0IGhvb2tzW2ldKGRiLCBwYXJhbXMsIGxhbmd1YWdlLCByZXN1bHRzKTtcbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuQmVmb3JlU2VhcmNoKGhvb2tzLCBkYiwgcGFyYW1zLCBsYW5ndWFnZSkge1xuICAgIGNvbnN0IGhvb2tzTGVuZ3RoID0gaG9va3MubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBob29rc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgaG9va3NbaV0oZGIsIHBhcmFtcywgbGFuZ3VhZ2UpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9va3MuanMubWFwIiwiaW1wb3J0IHsgc2FmZUFycmF5UHVzaCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmNvbnN0IEJBTEFOQ0VfU1RBVEUgPSB7XG4gICAgVU5CQUxBTkNFRF9SSUdIVDogLTIsXG4gICAgU0xJR0hUTFlfVU5CQUxBTkNFRF9SSUdIVDogLTEsXG4gICAgQkFMQU5DRUQ6IDAsXG4gICAgU0xJR0hUTFlfVU5CQUxBTkNFRF9MRUZUOiAxLFxuICAgIFVOQkFMQU5DRURfTEVGVDogMlxufTtcbmZ1bmN0aW9uIGdldEhlaWdodChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUgIT0gbnVsbCA/IG5vZGUuaCA6IC0xO1xufVxuZnVuY3Rpb24gcm90YXRlTGVmdChub2RlKSB7XG4gICAgY29uc3QgcmlnaHQgPSBub2RlLnI7XG4gICAgbm9kZS5yID0gcmlnaHQubDtcbiAgICByaWdodC5sID0gbm9kZTtcbiAgICBub2RlLmggPSBNYXRoLm1heChnZXRIZWlnaHQobm9kZS5sKSwgZ2V0SGVpZ2h0KG5vZGUucikpICsgMTtcbiAgICByaWdodC5oID0gTWF0aC5tYXgoZ2V0SGVpZ2h0KHJpZ2h0LmwpLCBnZXRIZWlnaHQocmlnaHQucikpICsgMTtcbiAgICByZXR1cm4gcmlnaHQ7XG59XG5mdW5jdGlvbiByb3RhdGVSaWdodChub2RlKSB7XG4gICAgY29uc3QgbGVmdCA9IG5vZGUubDtcbiAgICBub2RlLmwgPSBsZWZ0LnI7XG4gICAgbGVmdC5yID0gbm9kZTtcbiAgICBub2RlLmggPSBNYXRoLm1heChnZXRIZWlnaHQobm9kZS5sKSwgZ2V0SGVpZ2h0KG5vZGUucikpICsgMTtcbiAgICBsZWZ0LmggPSBNYXRoLm1heChnZXRIZWlnaHQobGVmdC5sKSwgZ2V0SGVpZ2h0KGxlZnQucikpICsgMTtcbiAgICByZXR1cm4gbGVmdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWlucyhub2RlLCBrZXkpIHtcbiAgICByZXR1cm4gISFmaW5kKG5vZGUsIGtleSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6ZShyb290KSB7XG4gICAgbGV0IHNpemUgPSAwO1xuICAgIGNvbnN0IHF1ZXVlID0gW107XG4gICAgaWYgKHJvb3QgIT09IG51bGwpIHtcbiAgICAgICAgcXVldWUucHVzaChyb290KTtcbiAgICB9XG4gICAgd2hpbGUocXVldWUubGVuZ3RoID4gMCl7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICBzaXplKys7XG4gICAgICAgIGlmIChub2RlLmwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2gobm9kZS5sKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5yICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKG5vZGUucik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNpemU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCYWxhbmNlZChyb290KSB7XG4gICAgaWYgKHJvb3QgPT09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGNvbnN0IHN0YWNrID0gW1xuICAgICAgICByb290XG4gICAgXTtcbiAgICB3aGlsZShzdGFjay5sZW5ndGggPiAwKXtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc3QgaGVpZ2h0RGlmZiA9IGdldEhlaWdodChub2RlLmwpIC0gZ2V0SGVpZ2h0KG5vZGUucik7XG4gICAgICAgIGlmIChoZWlnaHREaWZmID4gMSB8fCBoZWlnaHREaWZmIDwgLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5yICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUucik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUubCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhY2sucHVzaChub2RlLmwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlU2VhcmNoKG5vZGUsIG1pbiwgbWF4KSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZnVuY3Rpb24gdHJhdmVyc2Uobm9kZSkge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5rID4gbWluKSB7XG4gICAgICAgICAgICB0cmF2ZXJzZShub2RlLmwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmsgPj0gbWluICYmIG5vZGUuayA8PSBtYXgpIHtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBub2RlLnYpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmsgPCBtYXgpIHtcbiAgICAgICAgICAgIHRyYXZlcnNlKG5vZGUucik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHJhdmVyc2Uobm9kZSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBncmVhdGVyVGhhbihub2RlLCBrZXksIGluY2x1c2l2ZSA9IGZhbHNlKSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZnVuY3Rpb24gdHJhdmVyc2Uobm9kZSkge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVzaXZlICYmIG5vZGUuayA+PSBrZXkpIHtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBub2RlLnYpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW5jbHVzaXZlICYmIG5vZGUuayA+IGtleSkge1xuICAgICAgICAgICAgc2FmZUFycmF5UHVzaChyZXN1bHQsIG5vZGUudik7XG4gICAgICAgIH1cbiAgICAgICAgdHJhdmVyc2Uobm9kZS5sKTtcbiAgICAgICAgdHJhdmVyc2Uobm9kZS5yKTtcbiAgICB9XG4gICAgdHJhdmVyc2Uobm9kZSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsZXNzVGhhbihub2RlLCBrZXksIGluY2x1c2l2ZSA9IGZhbHNlKSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZnVuY3Rpb24gdHJhdmVyc2Uobm9kZSkge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVzaXZlICYmIG5vZGUuayA8PSBrZXkpIHtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBub2RlLnYpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW5jbHVzaXZlICYmIG5vZGUuayA8IGtleSkge1xuICAgICAgICAgICAgc2FmZUFycmF5UHVzaChyZXN1bHQsIG5vZGUudik7XG4gICAgICAgIH1cbiAgICAgICAgdHJhdmVyc2Uobm9kZS5sKTtcbiAgICAgICAgdHJhdmVyc2Uobm9kZS5yKTtcbiAgICB9XG4gICAgdHJhdmVyc2Uobm9kZSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldE5vZGVCeUtleShub2RlLCBrZXkpIHtcbiAgICB3aGlsZShub2RlICE9PSBudWxsKXtcbiAgICAgICAgaWYgKGtleSA8IG5vZGUuaykge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUubDtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPiBub2RlLmspIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGs6IGtleSxcbiAgICAgICAgdjogdmFsdWUsXG4gICAgICAgIGw6IG51bGwsXG4gICAgICAgIHI6IG51bGwsXG4gICAgICAgIGg6IDBcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydChyb290LCBrZXksIHZhbHVlKSB7XG4gICAgbGV0IHBhcmVudCA9IG51bGw7XG4gICAgbGV0IGN1cnJlbnQgPSByb290O1xuICAgIHdoaWxlKGN1cnJlbnQgIT09IG51bGwpe1xuICAgICAgICBwYXJlbnQgPSBjdXJyZW50O1xuICAgICAgICBpZiAoa2V5IDwgY3VycmVudC5rKSB7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5sO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA+IGN1cnJlbnQuaykge1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIHZhbHVlIGlzIGFuIGFycmF5IGhlcmVcbiAgICAgICAgICAgIGN1cnJlbnQudiA9IGN1cnJlbnQudi5jb25jYXQodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV3Tm9kZSA9IGNyZWF0ZShrZXksIHZhbHVlKTtcbiAgICBpZiAocGFyZW50ID09IG51bGwpIHtcbiAgICAgICAgcm9vdCA9IG5ld05vZGUgLy8gdHJlZSB3YXMgZW1wdHlcbiAgICAgICAgO1xuICAgIH0gZWxzZSBpZiAoa2V5IDwgcGFyZW50LmspIHtcbiAgICAgICAgcGFyZW50LmwgPSBuZXdOb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudC5yID0gbmV3Tm9kZTtcbiAgICB9XG4gICAgY3VycmVudCA9IG5ld05vZGU7XG4gICAgd2hpbGUocGFyZW50ICE9IG51bGwpe1xuICAgICAgICBjb25zdCBiYWxhbmNlRmFjdG9yID0gZ2V0SGVpZ2h0KHBhcmVudC5sKSAtIGdldEhlaWdodChwYXJlbnQucik7XG4gICAgICAgIGlmIChiYWxhbmNlRmFjdG9yID09PSBCQUxBTkNFX1NUQVRFLlVOQkFMQU5DRURfTEVGVCkge1xuICAgICAgICAgICAgaWYgKGtleSA+IHBhcmVudC5sLmspIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQubCA9IHJvdGF0ZUxlZnQocGFyZW50LmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcm90YXRlUmlnaHQocGFyZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFsYW5jZUZhY3RvciA9PT0gQkFMQU5DRV9TVEFURS5VTkJBTEFOQ0VEX1JJR0hUKSB7XG4gICAgICAgICAgICBpZiAoa2V5IDwgcGFyZW50LnIuaykge1xuICAgICAgICAgICAgICAgIHBhcmVudC5yID0gcm90YXRlUmlnaHQocGFyZW50LnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcm90YXRlTGVmdChwYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnQgPT09IHJvb3QpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHBhcmVudCA9IGdldE5vZGVQYXJlbnQocm9vdCwgY3VycmVudC5rKTtcbiAgICB9XG4gICAgcmV0dXJuIHJvb3Q7XG59XG5mdW5jdGlvbiBnZXROb2RlUGFyZW50KHJvb3QsIGtleSkge1xuICAgIGxldCBjdXJyZW50ID0gcm9vdDtcbiAgICBsZXQgcGFyZW50ID0gbnVsbDtcbiAgICB3aGlsZShjdXJyZW50ICE9PSBudWxsKXtcbiAgICAgICAgaWYgKGtleSA8IGN1cnJlbnQuaykge1xuICAgICAgICAgICAgcGFyZW50ID0gY3VycmVudDtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lmw7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID4gY3VycmVudC5rKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSBjdXJyZW50O1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZChyb290LCBrZXkpIHtcbiAgICBjb25zdCBub2RlID0gZ2V0Tm9kZUJ5S2V5KHJvb3QsIGtleSk7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGUudjtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUocm9vdCwga2V5KSB7XG4gICAgbGV0IG5vZGUgPSByb290O1xuICAgIGxldCBwYXJlbnROb2RlID0gbnVsbDtcbiAgICB3aGlsZShub2RlICE9IG51bGwgJiYgbm9kZS5rICE9PSBrZXkpe1xuICAgICAgICBwYXJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgaWYgKGtleSA8IG5vZGUuaykge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUubDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKG5vZGUubCA9PSBudWxsICYmIG5vZGUuciA9PSBudWxsKSB7XG4gICAgICAgIGlmIChwYXJlbnROb2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIE5vZGUgdG8gYmUgZGVsZXRlZCBpcyByb290XG4gICAgICAgICAgICByb290ID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlLmwgPT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmwgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlLmwgIT0gbnVsbCAmJiBub2RlLnIgIT0gbnVsbCkge1xuICAgICAgICBsZXQgbWluVmFsdWVOb2RlID0gbm9kZS5yO1xuICAgICAgICBsZXQgbWluVmFsdWVQYXJlbnQgPSBub2RlO1xuICAgICAgICB3aGlsZShtaW5WYWx1ZU5vZGUubCAhPSBudWxsKXtcbiAgICAgICAgICAgIG1pblZhbHVlUGFyZW50ID0gbWluVmFsdWVOb2RlO1xuICAgICAgICAgICAgbWluVmFsdWVOb2RlID0gbWluVmFsdWVOb2RlLmw7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5rID0gbWluVmFsdWVOb2RlLms7XG4gICAgICAgIGlmIChtaW5WYWx1ZVBhcmVudCA9PT0gbm9kZSkge1xuICAgICAgICAgICAgbWluVmFsdWVQYXJlbnQuciA9IG1pblZhbHVlTm9kZS5yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWluVmFsdWVQYXJlbnQubCA9IG1pblZhbHVlTm9kZS5yO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY2hpbGROb2RlID0gbm9kZS5sICE9IG51bGwgPyBub2RlLmwgOiBub2RlLnI7XG4gICAgICAgIGlmIChwYXJlbnROb2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJvb3QgPSBjaGlsZE5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocGFyZW50Tm9kZS5sID09PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5sID0gY2hpbGROb2RlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnIgPSBjaGlsZE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJvb3Q7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRG9jdW1lbnQocm9vdCwgaWQsIGtleSkge1xuICAgIGNvbnN0IG5vZGUgPSBnZXROb2RlQnlLZXkocm9vdCwga2V5KTtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobm9kZS52Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZW1vdmUocm9vdCwga2V5KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBub2RlLnYuc3BsaWNlKG5vZGUudi5pbmRleE9mKGlkKSwgMSk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF2bC5qcy5tYXAiLCJpbXBvcnQgeyBpbnRlcnNlY3QsIHNhZmVBcnJheVB1c2ggfSBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbnVtYmVyVG9Eb2N1bWVudElkOiBuZXcgTWFwKClcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydChyb290LCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmhhcyhrZXkpKSB7XG4gICAgICAgIHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmdldChrZXkpLnB1c2godmFsdWUpO1xuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG4gICAgcm9vdC5udW1iZXJUb0RvY3VtZW50SWQuc2V0KGtleSwgW1xuICAgICAgICB2YWx1ZVxuICAgIF0pO1xuICAgIHJldHVybiByb290O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmQocm9vdCwga2V5KSB7XG4gICAgcmV0dXJuIHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmdldChrZXkpID8/IG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHJvb3QsIGtleSkge1xuICAgIGlmIChyb290ICE9IG51bGwpIHtcbiAgICAgICAgcm9vdC5udW1iZXJUb0RvY3VtZW50SWQuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIHJldHVybiByb290O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZURvY3VtZW50KHJvb3QsIGlkLCBrZXkpIHtcbiAgICB2YXIgX3Jvb3RfbnVtYmVyVG9Eb2N1bWVudElkX2dldCwgX3Jvb3RfbnVtYmVyVG9Eb2N1bWVudElkX2dldDE7XG4gICAgcm9vdCA9PT0gbnVsbCB8fCByb290ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb290Lm51bWJlclRvRG9jdW1lbnRJZC5zZXQoa2V5LCAoKF9yb290X251bWJlclRvRG9jdW1lbnRJZF9nZXQgPSByb290ID09PSBudWxsIHx8IHJvb3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmdldChrZXkpKSA9PT0gbnVsbCB8fCBfcm9vdF9udW1iZXJUb0RvY3VtZW50SWRfZ2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcm9vdF9udW1iZXJUb0RvY3VtZW50SWRfZ2V0LmZpbHRlcigodik9PnYgIT09IGlkKSkgPz8gW10pO1xuICAgIGlmICgoKF9yb290X251bWJlclRvRG9jdW1lbnRJZF9nZXQxID0gcm9vdCA9PT0gbnVsbCB8fCByb290ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb290Lm51bWJlclRvRG9jdW1lbnRJZC5nZXQoa2V5KSkgPT09IG51bGwgfHwgX3Jvb3RfbnVtYmVyVG9Eb2N1bWVudElkX2dldDEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yb290X251bWJlclRvRG9jdW1lbnRJZF9nZXQxLmxlbmd0aCkgPT09IDApIHtcbiAgICAgICAgcm9vdCA9PT0gbnVsbCB8fCByb290ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb290Lm51bWJlclRvRG9jdW1lbnRJZC5kZWxldGUoa2V5KTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnMobm9kZSwga2V5KSB7XG4gICAgcmV0dXJuICEoZmluZChub2RlLCBrZXkpID09IG51bGwpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFNpemUocm9vdCkge1xuICAgIGxldCBzaXplID0gMDtcbiAgICBmb3IgKGNvbnN0IFssIHZhbHVlXSBvZiAocm9vdCA9PT0gbnVsbCB8fCByb290ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb290Lm51bWJlclRvRG9jdW1lbnRJZCkgPz8gW10pe1xuICAgICAgICBzaXplICs9IHZhbHVlLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHNpemU7XG59XG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyKHJvb3QsIG9wZXJhdGlvbikge1xuICAgIGNvbnN0IG9wZXJhdGlvbktleXMgPSBPYmplY3Qua2V5cyhvcGVyYXRpb24pO1xuICAgIGlmIChvcGVyYXRpb25LZXlzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb3BlcmF0aW9uJyk7XG4gICAgfVxuICAgIGNvbnN0IG9wZXJhdGlvblR5cGUgPSBvcGVyYXRpb25LZXlzWzBdO1xuICAgIHN3aXRjaChvcGVyYXRpb25UeXBlKXtcbiAgICAgICAgY2FzZSAnZXEnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gb3BlcmF0aW9uW29wZXJhdGlvblR5cGVdO1xuICAgICAgICAgICAgICAgIHJldHVybiByb290Lm51bWJlclRvRG9jdW1lbnRJZC5nZXQodmFsdWUpID8/IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdpbic6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcGVyYXRpb25bb3BlcmF0aW9uVHlwZV07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB2IG9mIHZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWRzID0gcm9vdC5udW1iZXJUb0RvY3VtZW50SWQuZ2V0KHYpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWRzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBpZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ25pbic6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcGVyYXRpb25bb3BlcmF0aW9uVHlwZV07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmtleXMoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkcyA9IHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmdldChrZXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWRzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBpZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBvcGVyYXRpb24nKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJBcnIocm9vdCwgb3BlcmF0aW9uKSB7XG4gICAgY29uc3Qgb3BlcmF0aW9uS2V5cyA9IE9iamVjdC5rZXlzKG9wZXJhdGlvbik7XG4gICAgaWYgKG9wZXJhdGlvbktleXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBvcGVyYXRpb24nKTtcbiAgICB9XG4gICAgY29uc3Qgb3BlcmF0aW9uVHlwZSA9IG9wZXJhdGlvbktleXNbMF07XG4gICAgc3dpdGNoKG9wZXJhdGlvblR5cGUpe1xuICAgICAgICBjYXNlICdjb250YWluc0FsbCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gb3BlcmF0aW9uW29wZXJhdGlvblR5cGVdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkcyA9IHZhbHVlcy5tYXAoKHZhbHVlKT0+cm9vdC5udW1iZXJUb0RvY3VtZW50SWQuZ2V0KHZhbHVlKSA/PyBbXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGludGVyc2VjdChpZHMpO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb3BlcmF0aW9uJyk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZsYXQuanMubWFwIiwiLyoqXG4gKiBJbnNwaXJlZCBieTpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Zb21ndWl0aGVyZWFsL3RhbGlzbWFuL2Jsb2IvODZhZTU1Y2JkMDQwZmYwMjFkMDVlMjgyZTBlNmM3MWYyZGRlMjFmOC9zcmMvbWV0cmljcy9sZXZlbnNodGVpbi5qcyNMMjE4LUwzNDBcbiAqLyBmdW5jdGlvbiBfYm91bmRlZExldmVuc2h0ZWluKGEsIGIsIHRvbGVyYW5jZSkge1xuICAgIC8vIHRoZSBzdHJpbmdzIGFyZSB0aGUgc2FtZVxuICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAvLyBhIHNob3VsZCBiZSB0aGUgc2hvcnRlc3Qgc3RyaW5nXG4gICAgY29uc3Qgc3dhcCA9IGE7XG4gICAgaWYgKGEubGVuZ3RoID4gYi5sZW5ndGgpIHtcbiAgICAgICAgYSA9IGI7XG4gICAgICAgIGIgPSBzd2FwO1xuICAgIH1cbiAgICBsZXQgbGVuQSA9IGEubGVuZ3RoO1xuICAgIGxldCBsZW5CID0gYi5sZW5ndGg7XG4gICAgLy8gaWdub3JlIGNvbW1vbiBzdWZmaXhcbiAgICAvLyBub3RlOiBgfi1gIGRlY3JlYXNlcyBieSBhIHVuaXQgaW4gYSBiaXR3aXNlIGZhc2hpb25cbiAgICB3aGlsZShsZW5BID4gMCAmJiBhLmNoYXJDb2RlQXQofi1sZW5BKSA9PT0gYi5jaGFyQ29kZUF0KH4tbGVuQikpe1xuICAgICAgICBsZW5BLS07XG4gICAgICAgIGxlbkItLTtcbiAgICB9XG4gICAgLy8gZWFybHkgcmV0dXJuIHdoZW4gdGhlIHNtYWxsZXN0IHN0cmluZyBpcyBlbXB0eVxuICAgIGlmICghbGVuQSkge1xuICAgICAgICByZXR1cm4gbGVuQiA+IHRvbGVyYW5jZSA/IC0xIDogbGVuQjtcbiAgICB9XG4gICAgLy8gaWdub3JlIGNvbW1vbiBwcmVmaXhcbiAgICBsZXQgc3RhcnRJZHggPSAwO1xuICAgIHdoaWxlKHN0YXJ0SWR4IDwgbGVuQSAmJiBhLmNoYXJDb2RlQXQoc3RhcnRJZHgpID09PSBiLmNoYXJDb2RlQXQoc3RhcnRJZHgpKXtcbiAgICAgICAgc3RhcnRJZHgrKztcbiAgICB9XG4gICAgbGVuQSAtPSBzdGFydElkeDtcbiAgICBsZW5CIC09IHN0YXJ0SWR4O1xuICAgIC8vIGVhcmx5IHJldHVybiB3aGVuIHRoZSBzbWFsbGVzdCBzdHJpbmcgaXMgZW1wdHlcbiAgICBpZiAobGVuQSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbGVuQiA+IHRvbGVyYW5jZSA/IC0xIDogbGVuQjtcbiAgICB9XG4gICAgY29uc3QgZGVsdGEgPSBsZW5CIC0gbGVuQTtcbiAgICBpZiAodG9sZXJhbmNlID4gbGVuQikge1xuICAgICAgICB0b2xlcmFuY2UgPSBsZW5CO1xuICAgIH0gZWxzZSBpZiAoZGVsdGEgPiB0b2xlcmFuY2UpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3Qgcm93ID0gW107XG4gICAgY29uc3QgY2hhcmFjdGVyQ29kZUNhY2hlID0gW107XG4gICAgd2hpbGUoaSA8IHRvbGVyYW5jZSl7XG4gICAgICAgIGNoYXJhY3RlckNvZGVDYWNoZVtpXSA9IGIuY2hhckNvZGVBdChzdGFydElkeCArIGkpO1xuICAgICAgICByb3dbaV0gPSArK2k7XG4gICAgfVxuICAgIHdoaWxlKGkgPCBsZW5CKXtcbiAgICAgICAgY2hhcmFjdGVyQ29kZUNhY2hlW2ldID0gYi5jaGFyQ29kZUF0KHN0YXJ0SWR4ICsgaSk7XG4gICAgICAgIHJvd1tpKytdID0gdG9sZXJhbmNlICsgMTtcbiAgICB9XG4gICAgY29uc3Qgb2Zmc2V0ID0gdG9sZXJhbmNlIC0gZGVsdGE7XG4gICAgY29uc3QgaGF2ZU1heCA9IHRvbGVyYW5jZSA8IGxlbkI7XG4gICAgbGV0IGpTdGFydCA9IDA7XG4gICAgbGV0IGpFbmQgPSB0b2xlcmFuY2U7XG4gICAgbGV0IGN1cnJlbnQgPSAwO1xuICAgIGxldCBsZWZ0ID0gMDtcbiAgICBsZXQgYWJvdmUgPSAwO1xuICAgIGxldCBjaGFyQSA9IDA7XG4gICAgbGV0IGogPSAwO1xuICAgIC8vIFN0YXJ0aW5nIHRoZSBuZXN0ZWQgbG9vcHNcbiAgICBmb3IoaSA9IDA7IGkgPCBsZW5BOyBpKyspe1xuICAgICAgICBsZWZ0ID0gaTtcbiAgICAgICAgY3VycmVudCA9IGkgKyAxO1xuICAgICAgICBjaGFyQSA9IGEuY2hhckNvZGVBdChzdGFydElkeCArIGkpO1xuICAgICAgICBqU3RhcnQgKz0gaSA+IG9mZnNldCA/IDEgOiAwO1xuICAgICAgICBqRW5kICs9IGpFbmQgPCBsZW5CID8gMSA6IDA7XG4gICAgICAgIGZvcihqID0galN0YXJ0OyBqIDwgakVuZDsgaisrKXtcbiAgICAgICAgICAgIGFib3ZlID0gY3VycmVudDtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBsZWZ0O1xuICAgICAgICAgICAgbGVmdCA9IHJvd1tqXTtcbiAgICAgICAgICAgIGlmIChjaGFyQSAhPT0gY2hhcmFjdGVyQ29kZUNhY2hlW2pdKSB7XG4gICAgICAgICAgICAgICAgLy8gaW5zZXJ0IGN1cnJlbnRcbiAgICAgICAgICAgICAgICBpZiAobGVmdCA8IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBjdXJyZW50XG4gICAgICAgICAgICAgICAgaWYgKGFib3ZlIDwgY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gYWJvdmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvd1tqXSA9IGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhdmVNYXggJiYgcm93W2kgKyBkZWx0YV0gPiB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3VycmVudCA8PSB0b2xlcmFuY2UgPyBjdXJyZW50IDogLTE7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBMZXZlbnNodGVpbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBzdHJpbmdzIChhLCBiKSwgcmV0dXJuaW5nIGVhcmx5IHdpdGggLTEgaWYgdGhlIGRpc3RhbmNlXG4gKiBpcyBncmVhdGVyIHRoYW4gdGhlIGdpdmVuIHRvbGVyYW5jZS5cbiAqIEl0IGFzc3VtZXMgdGhhdDpcbiAqIC0gdG9sZXJhbmNlID49IHx8YXwgLSB8Ynx8ID49IDBcbiAqLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gYm91bmRlZExldmVuc2h0ZWluKGEsIGIsIHRvbGVyYW5jZSkge1xuICAgIGNvbnN0IGRpc3RhbmNlID0gX2JvdW5kZWRMZXZlbnNodGVpbihhLCBiLCB0b2xlcmFuY2UpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRpc3RhbmNlLFxuICAgICAgICBpc0JvdW5kZWQ6IGRpc3RhbmNlID49IDBcbiAgICB9O1xufVxuLy8gVGhpcyBpcyBvbmx5IHVzZWQgaW50ZXJuYWxseSwga2VlcCBpbiBzeW5jIHdpdGggdGhlIHByZXZpb3VzIG9uZVxuZXhwb3J0IGZ1bmN0aW9uIHN5bmNCb3VuZGVkTGV2ZW5zaHRlaW4oYSwgYiwgdG9sZXJhbmNlKSB7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBfYm91bmRlZExldmVuc2h0ZWluKGEsIGIsIHRvbGVyYW5jZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgIGlzQm91bmRlZDogZGlzdGFuY2UgPj0gMFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbGV2ZW5zaHRlaW4oYSwgYikge1xuICAgIC8qIGM4IGlnbm9yZSBuZXh0IDMgKi8gaWYgKCFhLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYi5sZW5ndGg7XG4gICAgfVxuICAgIC8qIGM4IGlnbm9yZSBuZXh0IDMgKi8gaWYgKCFiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYS5sZW5ndGg7XG4gICAgfVxuICAgIGNvbnN0IHN3YXAgPSBhO1xuICAgIGlmIChhLmxlbmd0aCA+IGIubGVuZ3RoKSB7XG4gICAgICAgIGEgPSBiO1xuICAgICAgICBiID0gc3dhcDtcbiAgICB9XG4gICAgY29uc3Qgcm93ID0gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogYS5sZW5ndGggKyAxXG4gICAgfSwgKF8sIGkpPT5pKTtcbiAgICBsZXQgdmFsID0gMDtcbiAgICBmb3IobGV0IGkgPSAxOyBpIDw9IGIubGVuZ3RoOyBpKyspe1xuICAgICAgICBsZXQgcHJldiA9IGk7XG4gICAgICAgIGZvcihsZXQgaiA9IDE7IGogPD0gYS5sZW5ndGg7IGorKyl7XG4gICAgICAgICAgICBpZiAoYltpIC0gMV0gPT09IGFbaiAtIDFdKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gcm93W2ogLSAxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsID0gTWF0aC5taW4ocm93W2ogLSAxXSArIDEsIE1hdGgubWluKHByZXYgKyAxLCByb3dbal0gKyAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3dbaiAtIDFdID0gcHJldjtcbiAgICAgICAgICAgIHByZXYgPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcm93W2EubGVuZ3RoXSA9IHByZXY7XG4gICAgfVxuICAgIHJldHVybiByb3dbYS5sZW5ndGhdO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZXZlbnNodGVpbi5qcy5tYXAiLCJpbXBvcnQgeyBzeW5jQm91bmRlZExldmVuc2h0ZWluIH0gZnJvbSAnLi4vY29tcG9uZW50cy9sZXZlbnNodGVpbi5qcyc7XG5pbXBvcnQgeyBnZXRPd25Qcm9wZXJ0eSB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmV4cG9ydCBjbGFzcyBOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihrZXksIHN1YldvcmQsIGVuZCl7XG4gICAgICAgIHRoaXMuayA9IGtleTtcbiAgICAgICAgdGhpcy5zID0gc3ViV29yZDtcbiAgICAgICAgdGhpcy5lID0gZW5kO1xuICAgIH1cbiAgICAvLyBOb2RlIGNoaWxkcmVuXG4gICAgYyA9IHt9O1xuICAgIC8vIE5vZGUgZG9jdW1lbnRzXG4gICAgZCA9IFtdO1xuICAgIC8vIE5vZGUgd29yZFxuICAgIHcgPSAnJztcbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3OiB0aGlzLncsXG4gICAgICAgICAgICBzOiB0aGlzLnMsXG4gICAgICAgICAgICBjOiB0aGlzLmMsXG4gICAgICAgICAgICBkOiB0aGlzLmQsXG4gICAgICAgICAgICBlOiB0aGlzLmVcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVQYXJlbnQobm9kZSwgcGFyZW50KSB7XG4gICAgbm9kZS53ID0gcGFyZW50LncgKyBub2RlLnM7XG59XG5mdW5jdGlvbiBhZGREb2N1bWVudChub2RlLCBkb2NJRCkge1xuICAgIG5vZGUuZC5wdXNoKGRvY0lEKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZURvY3VtZW50KG5vZGUsIGRvY0lEKSB7XG4gICAgY29uc3QgaW5kZXggPSBub2RlLmQuaW5kZXhPZihkb2NJRCk7XG4gICAgLyogYzggaWdub3JlIG5leHQgMyAqLyBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbm9kZS5kLnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBmaW5kQWxsV29yZHMobm9kZSwgb3V0cHV0LCB0ZXJtLCBleGFjdCwgdG9sZXJhbmNlKSB7XG4gICAgaWYgKG5vZGUuZSkge1xuICAgICAgICBjb25zdCB7IHcgLCBkOiBkb2NJRHMgIH0gPSBub2RlO1xuICAgICAgICBpZiAoZXhhY3QgJiYgdyAhPT0gdGVybSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsd2F5cyBjaGVjayBpbiBvd24gcHJvcGVydHkgdG8gcHJldmVudCBhY2Nlc3MgdG8gaW5oZXJpdGVkIHByb3BlcnRpZXNcbiAgICAgICAgLy8gZml4IGh0dHBzOi8vZ2l0aHViLmNvbS9PcmFtYVNlYXJjaC9vcmFtYS9pc3N1ZXMvMTM3XG4gICAgICAgIGlmIChnZXRPd25Qcm9wZXJ0eShvdXRwdXQsIHcpID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICAvLyBjb21wdXRpbmcgdGhlIGFic29sdXRlIGRpZmZlcmVuY2Ugb2YgbGV0dGVycyBiZXR3ZWVuIHRoZSB0ZXJtIGFuZCB0aGUgd29yZFxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2UgPSBNYXRoLmFicyh0ZXJtLmxlbmd0aCAtIHcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdG9sZXJhbmNlIGlzIHNldCwgY2hlY2sgd2hldGhlciB0aGUgZWRpdCBkaXN0YW5jZSBpcyB3aXRoaW4gdG9sZXJhbmNlLlxuICAgICAgICAgICAgICAgIC8vIEluIHRoYXQgY2FzZSwgd2UgZG9uJ3QgbmVlZCB0byBhZGQgdGhlIHdvcmQgdG8gdGhlIG91dHB1dFxuICAgICAgICAgICAgICAgIGlmIChkaWZmZXJlbmNlIDw9IHRvbGVyYW5jZSAmJiBzeW5jQm91bmRlZExldmVuc2h0ZWluKHRlcm0sIHcsIHRvbGVyYW5jZSkuaXNCb3VuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFt3XSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcHJldmVudCBkZWZhdWx0IHRvbGVyYW5jZSBub3Qgc2V0XG4gICAgICAgICAgICAgICAgb3V0cHV0W3ddID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgX291dHB1dFt3XSBleGlzdHMgYW5kIHRoZW4gYWRkIHRoZSBkb2MgdG8gaXRcbiAgICAgICAgLy8gYWx3YXlzIGNoZWNrIGluIG93biBwcm9wZXJ0eSB0byBwcmV2ZW50IGFjY2VzcyB0byBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAgICAvLyBmaXggaHR0cHM6Ly9naXRodWIuY29tL09yYW1hU2VhcmNoL29yYW1hL2lzc3Vlcy8xMzdcbiAgICAgICAgaWYgKGdldE93blByb3BlcnR5KG91dHB1dCwgdykgIT0gbnVsbCAmJiBkb2NJRHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZG9jcyA9IG5ldyBTZXQob3V0cHV0W3ddKTtcbiAgICAgICAgICAgIGNvbnN0IGRvY0lEc0xlbmd0aCA9IGRvY0lEcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZG9jSURzTGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGRvY3MuYWRkKGRvY0lEc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRwdXRbd10gPSBBcnJheS5mcm9tKGRvY3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCB0aGUgY2hpbGRyZW5cbiAgICBmb3IgKGNvbnN0IGNoYXJhY3RlciBvZiBPYmplY3Qua2V5cyhub2RlLmMpKXtcbiAgICAgICAgZmluZEFsbFdvcmRzKG5vZGUuY1tjaGFyYWN0ZXJdLCBvdXRwdXQsIHRlcm0sIGV4YWN0LCB0b2xlcmFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuZnVuY3Rpb24gZ2V0Q29tbW9uUHJlZml4KGEsIGIpIHtcbiAgICBsZXQgY29tbW9uUHJlZml4ID0gJyc7XG4gICAgY29uc3QgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1vblByZWZpeDtcbiAgICAgICAgfVxuICAgICAgICBjb21tb25QcmVmaXggKz0gYVtpXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbW1vblByZWZpeDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoZW5kID0gZmFsc2UsIHN1YldvcmQgPSAnJywga2V5ID0gJycpIHtcbiAgICByZXR1cm4gbmV3IE5vZGUoa2V5LCBzdWJXb3JkLCBlbmQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydChyb290LCB3b3JkLCBkb2NJZCkge1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB3b3JkLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgY3VycmVudENoYXJhY3RlciA9IHdvcmRbaV07XG4gICAgICAgIGNvbnN0IHdvcmRBdEluZGV4ID0gd29yZC5zdWJzdHJpbmcoaSk7XG4gICAgICAgIGNvbnN0IHJvb3RDaGlsZEN1cnJlbnRDaGFyID0gcm9vdC5jW2N1cnJlbnRDaGFyYWN0ZXJdO1xuICAgICAgICBpZiAocm9vdENoaWxkQ3VycmVudENoYXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVkZ2VMYWJlbCA9IHJvb3RDaGlsZEN1cnJlbnRDaGFyLnM7XG4gICAgICAgICAgICBjb25zdCBlZGdlTGFiZWxMZW5ndGggPSBlZGdlTGFiZWwubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4ID0gZ2V0Q29tbW9uUHJlZml4KGVkZ2VMYWJlbCwgd29yZEF0SW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4TGVuZ3RoID0gY29tbW9uUHJlZml4Lmxlbmd0aDtcbiAgICAgICAgICAgIC8vIHRoZSB3b3JkQXRJbmRleCBtYXRjaGVzIGV4YWN0bHkgd2l0aCBhbiBleGlzdGluZyBjaGlsZCBub2RlXG4gICAgICAgICAgICBpZiAoZWRnZUxhYmVsID09PSB3b3JkQXRJbmRleCkge1xuICAgICAgICAgICAgICAgIGFkZERvY3VtZW50KHJvb3RDaGlsZEN1cnJlbnRDaGFyLCBkb2NJZCk7XG4gICAgICAgICAgICAgICAgcm9vdENoaWxkQ3VycmVudENoYXIuZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZWRnZUxhYmVsQXRDb21tb25QcmVmaXggPSBlZGdlTGFiZWxbY29tbW9uUHJlZml4TGVuZ3RoXTtcbiAgICAgICAgICAgIC8vIHRoZSB3b3JkQXRJbmRleCBpcyBjb21wbGV0ZWx5IGNvbnRhaW5lZCBpbiB0aGUgY2hpbGQgbm9kZSBzdWJ3b3JkXG4gICAgICAgICAgICBpZiAoY29tbW9uUHJlZml4TGVuZ3RoIDwgZWRnZUxhYmVsTGVuZ3RoICYmIGNvbW1vblByZWZpeExlbmd0aCA9PT0gd29yZEF0SW5kZXgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Tm9kZSA9IGNyZWF0ZSh0cnVlLCB3b3JkQXRJbmRleCwgY3VycmVudENoYXJhY3RlcikgLy8gQ3JlYXRlIGEgbmV3IG5vZGUgd2l0aCBlbmQgc2V0IHRvIHRydWVcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgbmV3Tm9kZS5jW2VkZ2VMYWJlbEF0Q29tbW9uUHJlZml4XSA9IHJvb3RDaGlsZEN1cnJlbnRDaGFyO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGVDaGlsZCA9IG5ld05vZGUuY1tlZGdlTGFiZWxBdENvbW1vblByZWZpeF07XG4gICAgICAgICAgICAgICAgbmV3Tm9kZUNoaWxkLnMgPSBlZGdlTGFiZWwuc3Vic3RyaW5nKGNvbW1vblByZWZpeExlbmd0aCk7XG4gICAgICAgICAgICAgICAgbmV3Tm9kZUNoaWxkLmsgPSBlZGdlTGFiZWxBdENvbW1vblByZWZpeDtcbiAgICAgICAgICAgICAgICByb290LmNbY3VycmVudENoYXJhY3Rlcl0gPSBuZXdOb2RlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVBhcmVudChuZXdOb2RlLCByb290KTtcbiAgICAgICAgICAgICAgICB1cGRhdGVQYXJlbnQobmV3Tm9kZUNoaWxkLCBuZXdOb2RlKTtcbiAgICAgICAgICAgICAgICBhZGREb2N1bWVudChuZXdOb2RlLCBkb2NJZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhlIHdvcmRBdEluZGV4IGlzIHBhcnRpYWxseSBjb250YWluZWQgaW4gdGhlIGNoaWxkIG5vZGUgc3Vid29yZFxuICAgICAgICAgICAgaWYgKGNvbW1vblByZWZpeExlbmd0aCA8IGVkZ2VMYWJlbExlbmd0aCAmJiBjb21tb25QcmVmaXhMZW5ndGggPCB3b3JkQXRJbmRleC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmJldHdlZW5Ob2RlID0gY3JlYXRlKGZhbHNlLCBjb21tb25QcmVmaXgsIGN1cnJlbnRDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgICAgIGluYmV0d2Vlbk5vZGUuY1tlZGdlTGFiZWxBdENvbW1vblByZWZpeF0gPSByb290Q2hpbGRDdXJyZW50Q2hhcjtcbiAgICAgICAgICAgICAgICByb290LmNbY3VycmVudENoYXJhY3Rlcl0gPSBpbmJldHdlZW5Ob2RlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluYmV0d2Vlbk5vZGVDaGlsZCA9IGluYmV0d2Vlbk5vZGUuY1tlZGdlTGFiZWxBdENvbW1vblByZWZpeF07XG4gICAgICAgICAgICAgICAgaW5iZXR3ZWVuTm9kZUNoaWxkLnMgPSBlZGdlTGFiZWwuc3Vic3RyaW5nKGNvbW1vblByZWZpeExlbmd0aCk7XG4gICAgICAgICAgICAgICAgaW5iZXR3ZWVuTm9kZUNoaWxkLmsgPSBlZGdlTGFiZWxBdENvbW1vblByZWZpeDtcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JkQXRDb21tb25QcmVmaXggPSB3b3JkQXRJbmRleFtjb21tb25QcmVmaXhMZW5ndGhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSBjcmVhdGUodHJ1ZSwgd29yZC5zdWJzdHJpbmcoaSArIGNvbW1vblByZWZpeExlbmd0aCksIHdvcmRBdENvbW1vblByZWZpeCk7XG4gICAgICAgICAgICAgICAgYWRkRG9jdW1lbnQobmV3Tm9kZSwgZG9jSWQpO1xuICAgICAgICAgICAgICAgIGluYmV0d2Vlbk5vZGUuY1t3b3JkQXRDb21tb25QcmVmaXhdID0gbmV3Tm9kZTtcbiAgICAgICAgICAgICAgICB1cGRhdGVQYXJlbnQoaW5iZXR3ZWVuTm9kZSwgcm9vdCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlUGFyZW50KG5ld05vZGUsIGluYmV0d2Vlbk5vZGUpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVBhcmVudChpbmJldHdlZW5Ob2RlQ2hpbGQsIGluYmV0d2Vlbk5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNraXAgdG8gdGhlIG5leHQgZGl2ZXJnZW50IGNoYXJhY3RlclxuICAgICAgICAgICAgaSArPSBlZGdlTGFiZWxMZW5ndGggLSAxO1xuICAgICAgICAgICAgLy8gbmF2aWdhdGUgaW4gdGhlIGNoaWxkIG5vZGVcbiAgICAgICAgICAgIHJvb3QgPSByb290Q2hpbGRDdXJyZW50Q2hhcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBub2RlIGZvciB0aGUgY3VycmVudCBjaGFyYWN0ZXIgZG9lc24ndCBleGlzdCBjcmVhdGUgbmV3IG5vZGVcbiAgICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSBjcmVhdGUodHJ1ZSwgd29yZEF0SW5kZXgsIGN1cnJlbnRDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgYWRkRG9jdW1lbnQobmV3Tm9kZSwgZG9jSWQpO1xuICAgICAgICAgICAgcm9vdC5jW2N1cnJlbnRDaGFyYWN0ZXJdID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIHVwZGF0ZVBhcmVudChuZXdOb2RlLCByb290KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIF9maW5kTGV2ZW5zaHRlaW4obm9kZSwgdGVybSwgaW5kZXgsIHRvbGVyYW5jZSwgb3JpZ2luYWxUb2xlcmFuY2UsIG91dHB1dCkge1xuICAgIGlmICh0b2xlcmFuY2UgPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5vZGUuZSkge1xuICAgICAgICBjb25zdCB7IHcgLCBkOiBkb2NJRHMgIH0gPSBub2RlO1xuICAgICAgICBpZiAodykge1xuICAgICAgICAgICAgY29uc3QgZGlmZmVyZW5jZSA9IE1hdGguYWJzKHRlcm0ubGVuZ3RoIC0gdy5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKGRpZmZlcmVuY2UgPD0gb3JpZ2luYWxUb2xlcmFuY2UgJiYgc3luY0JvdW5kZWRMZXZlbnNodGVpbih0ZXJtLCB3LCBvcmlnaW5hbFRvbGVyYW5jZSkuaXNCb3VuZGVkKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W3ddID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2V0T3duUHJvcGVydHkob3V0cHV0LCB3KSAhPSBudWxsICYmIGRvY0lEcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9jcyA9IG5ldyBTZXQob3V0cHV0W3ddKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb2NJRHNMZW5ndGggPSBkb2NJRHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBkb2NJRHNMZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgIGRvY3MuYWRkKGRvY0lEc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dFt3XSA9IEFycmF5LmZyb20oZG9jcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluZGV4ID49IHRlcm0ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gTWF0Y2ggY3VycmVudCBjaGFyYWN0ZXIgd2l0aG91dCBjb25zdW1pbmcgdG9sZXJhbmNlXG4gICAgaWYgKHRlcm1baW5kZXhdIGluIG5vZGUuYykge1xuICAgICAgICBfZmluZExldmVuc2h0ZWluKG5vZGUuY1t0ZXJtW2luZGV4XV0sIHRlcm0sIGluZGV4ICsgMSwgdG9sZXJhbmNlLCBvcmlnaW5hbFRvbGVyYW5jZSwgb3V0cHV0KTtcbiAgICB9XG4gICAgLy8gSWYgdG9sZXJhbmNlIGlzIHN0aWxsIGF2YWlsYWJsZSwgY29uc2lkZXIgb3RoZXIgYnJhbmNoZXM6XG4gICAgLy8gMS4gRGVsZXRpb24gKHNraXAgdGhlIGN1cnJlbnQgdGVybSBjaGFyYWN0ZXIpXG4gICAgX2ZpbmRMZXZlbnNodGVpbihub2RlLCB0ZXJtLCBpbmRleCArIDEsIHRvbGVyYW5jZSAtIDEsIG9yaWdpbmFsVG9sZXJhbmNlLCBvdXRwdXQpO1xuICAgIC8vIDIuIEluc2VydGlvbiAoc2tpcCB0aGUgY3VycmVudCB0cmVlIG5vZGUgY2hhcmFjdGVyKVxuICAgIGZvcihjb25zdCBjaGFyYWN0ZXIgaW4gbm9kZS5jKXtcbiAgICAgICAgX2ZpbmRMZXZlbnNodGVpbihub2RlLmNbY2hhcmFjdGVyXSwgdGVybSwgaW5kZXgsIHRvbGVyYW5jZSAtIDEsIG9yaWdpbmFsVG9sZXJhbmNlLCBvdXRwdXQpO1xuICAgIH1cbiAgICAvLyAzLiBTdWJzdGl0dXRpb24gKHNraXAgYm90aCBjdXJyZW50IHRlcm0gY2hhcmFjdGVyIGFuZCB0cmVlIG5vZGUgY2hhcmFjdGVyKVxuICAgIGZvcihjb25zdCBjaGFyYWN0ZXIgaW4gbm9kZS5jKXtcbiAgICAgICAgaWYgKGNoYXJhY3RlciAhPT0gdGVybVtpbmRleF0pIHtcbiAgICAgICAgICAgIF9maW5kTGV2ZW5zaHRlaW4obm9kZS5jW2NoYXJhY3Rlcl0sIHRlcm0sIGluZGV4ICsgMSwgdG9sZXJhbmNlIC0gMSwgb3JpZ2luYWxUb2xlcmFuY2UsIG91dHB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZChyb290LCB7IHRlcm0gLCBleGFjdCAsIHRvbGVyYW5jZSAgfSkge1xuICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3Qgbm9kZSB0byB0aGUgdGVybVxuICAgIC8vIFVzZSBgaWZgIGNvbmRpdGlvbiBiZWNhdXNlIHRvbGVyYW5jZSBgMGAgaXMgc3VwcG9zZWQgdG8gbWF0Y2ggb25seSBwcmVmaXguXG4gICAgLy8gKGFsbG93cyBpbmZpbml0ZSBpbnNlcnRpb25zIGF0IGVuZCwgd2hpY2ggaXMgYWdhaW5zdCBub3JtYWwgbGV2ZW5zaHRlaW4gbG9naWMpLlxuICAgIC8vIChuZXcgX2ZpbmRMZXZlbnNodGVpbiBvbmx5IGhhbmRsZXMgbm90IGV4YWN0IGFuZCB0b2xlcmFuY2U+MCBjb25kaXRpb24pXG4gICAgaWYgKHRvbGVyYW5jZSAmJiAhZXhhY3QpIHtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgICAgIHRvbGVyYW5jZSA9IHRvbGVyYW5jZSB8fCAwO1xuICAgICAgICBfZmluZExldmVuc2h0ZWluKHJvb3QsIHRlcm0sIDAsIHRvbGVyYW5jZSB8fCAwLCB0b2xlcmFuY2UsIG91dHB1dCk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRlcm0ubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gdGVybVtpXTtcbiAgICAgICAgICAgIGlmIChjaGFyYWN0ZXIgaW4gcm9vdC5jKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdENoaWxkQ3VycmVudENoYXIgPSByb290LmNbY2hhcmFjdGVyXTtcbiAgICAgICAgICAgICAgICBjb25zdCBlZGdlTGFiZWwgPSByb290Q2hpbGRDdXJyZW50Q2hhci5zO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1TdWJzdHJpbmcgPSB0ZXJtLnN1YnN0cmluZyhpKTtcbiAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBjb21tb24gcHJlZml4IGJldHdlZW4gdHdvIHdvcmRzIGV4OiBwcmltZSBhbmQgcHJpbWF0ZSA9IHByaW1cbiAgICAgICAgICAgICAgICBjb25zdCBjb21tb25QcmVmaXggPSBnZXRDb21tb25QcmVmaXgoZWRnZUxhYmVsLCB0ZXJtU3Vic3RyaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21tb25QcmVmaXhMZW5ndGggPSBjb21tb25QcmVmaXgubGVuZ3RoO1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBjb21tb24gcHJlZml4IGxlbmd0aCBpcyBlcXVhbCB0byBlZGdlTGFiZWwgbGVuZ3RoICh0aGUgbm9kZSBzdWJ3b3JkKSBpdCBtZWFucyB0aGV5IGFyZSBhIG1hdGNoXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGNvbW1vbiBwcmVmaXggaXMgZXF1YWwgdG8gdGhlIHRlcm0gbWVhbnMgaXQgaXMgY29udGFpbmVkIGluIHRoZSBub2RlXG4gICAgICAgICAgICAgICAgaWYgKGNvbW1vblByZWZpeExlbmd0aCAhPT0gZWRnZUxhYmVsLmxlbmd0aCAmJiBjb21tb25QcmVmaXhMZW5ndGggIT09IHRlcm1TdWJzdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRvbGVyYW5jZSBpcyBzZXQgd2UgdGFrZSB0aGUgY3VycmVudCBub2RlIGFzIHRoZSBjbG9zZXN0XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2xlcmFuY2UpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHNraXAgdGhlIHN1YndvcmQgbGVuZ3RoIGFuZCBjaGVjayB0aGUgbmV4dCBkaXZlcmdlbnQgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgaSArPSByb290Q2hpbGRDdXJyZW50Q2hhci5zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgLy8gbmF2aWdhdGUgaW50byB0aGUgY2hpbGQgbm9kZVxuICAgICAgICAgICAgICAgIHJvb3QgPSByb290Q2hpbGRDdXJyZW50Q2hhcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHt9O1xuICAgICAgICAvLyBmb3VuZCB0aGUgY2xvc2VzdCBub2RlIHdlIHJlY3Vyc2l2ZWx5IHNlYXJjaCB0aHJvdWdoIGNoaWxkcmVuXG4gICAgICAgIGZpbmRBbGxXb3Jkcyhyb290LCBvdXRwdXQsIHRlcm0sIGV4YWN0LCB0b2xlcmFuY2UpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWlucyhyb290LCB0ZXJtKSB7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRlcm0ubGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXIgPSB0ZXJtW2ldO1xuICAgICAgICBpZiAoY2hhcmFjdGVyIGluIHJvb3QuYykge1xuICAgICAgICAgICAgY29uc3Qgcm9vdENoaWxkcmVuQ2hhciA9IHJvb3QuY1tjaGFyYWN0ZXJdO1xuICAgICAgICAgICAgY29uc3QgZWRnZUxhYmVsID0gcm9vdENoaWxkcmVuQ2hhci5zO1xuICAgICAgICAgICAgY29uc3QgdGVybVN1YnN0cmluZyA9IHRlcm0uc3Vic3RyaW5nKGkpO1xuICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4ID0gZ2V0Q29tbW9uUHJlZml4KGVkZ2VMYWJlbCwgdGVybVN1YnN0cmluZyk7XG4gICAgICAgICAgICBjb25zdCBjb21tb25QcmVmaXhMZW5ndGggPSBjb21tb25QcmVmaXgubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGNvbW1vblByZWZpeExlbmd0aCAhPT0gZWRnZUxhYmVsLmxlbmd0aCAmJiBjb21tb25QcmVmaXhMZW5ndGggIT09IHRlcm1TdWJzdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSArPSByb290Q2hpbGRyZW5DaGFyLnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHJvb3QgPSByb290Q2hpbGRyZW5DaGFyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVdvcmQocm9vdCwgdGVybSkge1xuICAgIGlmICghdGVybSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0ZXJtLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gdGVybVtpXTtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gcm9vdDtcbiAgICAgICAgaWYgKGNoYXJhY3RlciBpbiByb290LmMpIHtcbiAgICAgICAgICAgIGkgKz0gcm9vdC5jW2NoYXJhY3Rlcl0ucy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgcm9vdCA9IHJvb3QuY1tjaGFyYWN0ZXJdO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJvb3QuYykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcmVudC5jW3Jvb3Qua107XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZURvY3VtZW50QnlXb3JkKHJvb3QsIHRlcm0sIGRvY0lELCBleGFjdCA9IHRydWUpIHtcbiAgICBpZiAoIXRlcm0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0ZXJtLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gdGVybVtpXTtcbiAgICAgICAgaWYgKGNoYXJhY3RlciBpbiByb290LmMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3RDaGlsZEN1cnJlbnRDaGFyID0gcm9vdC5jW2NoYXJhY3Rlcl07XG4gICAgICAgICAgICBpICs9IHJvb3RDaGlsZEN1cnJlbnRDaGFyLnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHJvb3QgPSByb290Q2hpbGRDdXJyZW50Q2hhcjtcbiAgICAgICAgICAgIGlmIChleGFjdCAmJiByb290LncgIT09IHRlcm0pIHtcbiAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIGV4YWN0IGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1vdmVEb2N1bWVudChyb290LCBkb2NJRCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhZGl4LmpzLm1hcCIsImNvbnN0IEsgPSAyIC8vIDJEIHBvaW50c1xuO1xuY29uc3QgRUFSVEhfUkFESVVTID0gNjM3MWUzIC8vIEVhcnRoIHJhZGl1cyBpbiBtZXRlcnNcbjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcm9vdDogbnVsbFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0KHRyZWUsIHBvaW50LCBkb2NJRHMpIHtcbiAgICBjb25zdCBuZXdOb2RlID0ge1xuICAgICAgICBwb2ludCxcbiAgICAgICAgZG9jSURzXG4gICAgfTtcbiAgICBpZiAodHJlZS5yb290ID09IG51bGwpIHtcbiAgICAgICAgdHJlZS5yb290ID0gbmV3Tm9kZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbm9kZSA9IHRyZWUucm9vdDtcbiAgICBsZXQgZGVwdGggPSAwO1xuICAgIHdoaWxlKG5vZGUgIT09IG51bGwpe1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY3VycmVudCBub2RlJ3MgcG9pbnQgbWF0Y2hlcyB0aGUgbmV3IHBvaW50XG4gICAgICAgIGlmIChub2RlLnBvaW50LmxvbiA9PT0gcG9pbnQubG9uICYmIG5vZGUucG9pbnQubGF0ID09PSBwb2ludC5sYXQpIHtcbiAgICAgICAgICAgIC8vIE1lcmdlIHRoZSBuZXcgZG9jSURzIHdpdGggdGhlIGV4aXN0aW5nIG9uZXMgYW5kIHJlbW92ZSBkdXBsaWNhdGVzXG4gICAgICAgICAgICBjb25zdCBuZXdEb2NJRHMgPSBub2RlLmRvY0lEcyA/PyBbXTtcbiAgICAgICAgICAgIG5vZGUuZG9jSURzID0gQXJyYXkuZnJvbShuZXcgU2V0KFtcbiAgICAgICAgICAgICAgICAuLi5uZXdEb2NJRHMsXG4gICAgICAgICAgICAgICAgLi4uZG9jSURzIHx8IFtdXG4gICAgICAgICAgICBdKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXhpcyA9IGRlcHRoICUgSztcbiAgICAgICAgLy8gQ29tcGFyZSBieSBsb25naXR1ZGVcbiAgICAgICAgaWYgKGF4aXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwb2ludC5sb24gPCBub2RlLnBvaW50Lmxvbikge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmxlZnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmxlZnQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLnJpZ2h0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5yaWdodCA9IG5ld05vZGU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIC8vIENvbXBhcmUgYnkgbGF0aXR1ZGVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwb2ludC5sYXQgPCBub2RlLnBvaW50LmxhdCkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmxlZnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmxlZnQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLnJpZ2h0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5yaWdodCA9IG5ld05vZGU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVwdGgrKztcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnModHJlZSwgcG9pbnQpIHtcbiAgICBsZXQgbm9kZSA9IHRyZWUucm9vdDtcbiAgICBsZXQgZGVwdGggPSAwO1xuICAgIHdoaWxlKG5vZGUgIT0gbnVsbCl7XG4gICAgICAgIGlmICgobm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLnBvaW50LmxvbikgPT09IHBvaW50LmxvbiAmJiBub2RlLnBvaW50LmxhdCA9PT0gcG9pbnQubGF0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBheGlzID0gZGVwdGggJSBLO1xuICAgICAgICAvLyBDb21wYXJlIGJ5IGxvbmdpdHVkZVxuICAgICAgICBpZiAoYXhpcyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBvaW50LmxvbiA8IG5vZGUucG9pbnQubG9uKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAvLyBDb21wYXJlIGJ5IGxhdGl0dWRlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocG9pbnQubGF0IDwgbm9kZS5wb2ludC5sYXQpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVwdGgrKztcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8gQHRvZG86IHRoaXMgaXMgdmVyeSBpbmVmZmljaWVudC4gRml4IHRoaXMgbGF0ZXIuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRG9jQnlJRCh0cmVlLCBwb2ludCwgZG9jSUQpIHtcbiAgICBsZXQgbm9kZSA9IHRyZWUucm9vdDtcbiAgICBsZXQgZGVwdGggPSAwO1xuICAgIGxldCBwYXJlbnROb2RlID0gbnVsbDtcbiAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcbiAgICB3aGlsZShub2RlICE9PSBudWxsKXtcbiAgICAgICAgaWYgKChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUucG9pbnQubG9uKSA9PT0gcG9pbnQubG9uICYmIG5vZGUucG9pbnQubGF0ID09PSBwb2ludC5sYXQpIHtcbiAgICAgICAgICAgIHZhciBfbm9kZV9kb2NJRHM7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IChfbm9kZV9kb2NJRHMgPSBub2RlLmRvY0lEcykgPT09IG51bGwgfHwgX25vZGVfZG9jSURzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZV9kb2NJRHMuaW5kZXhPZihkb2NJRCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCAmJiBpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFyIC8vIFJlbW92ZSB0aGUgZG9jSUQgZnJvbSB0aGUgYXJyYXlcbiAgICAgICAgICAgICAgICBfbm9kZV9kb2NJRHMxO1xuICAgICAgICAgICAgICAgIChfbm9kZV9kb2NJRHMxID0gbm9kZS5kb2NJRHMpID09PSBudWxsIHx8IF9ub2RlX2RvY0lEczEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ub2RlX2RvY0lEczEuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kb2NJRHMgPT0gbnVsbCB8fCBub2RlLmRvY0lEcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIG5vZGUgZG9lc24ndCBoYXZlIGFueSBtb3JlIGRvY0lEcywgcmVtb3ZlIHRoZSBub2RlXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnROb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUubGVmdCA9IG5vZGUubGVmdCAhPT0gbnVsbCA/IG5vZGUubGVmdCA6IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUucmlnaHQgPSBub2RlLnJpZ2h0ICE9PSBudWxsID8gbm9kZS5yaWdodCA6IG5vZGUubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBub2RlIHRvIGJlIHJlbW92ZWQgaXMgdGhlIHJvb3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyZWUucm9vdCA9IG5vZGUubGVmdCAhPT0gbnVsbCA/IG5vZGUubGVmdCA6IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF4aXMgPSBkZXB0aCAlIEs7XG4gICAgICAgIHBhcmVudE5vZGUgPSBub2RlO1xuICAgICAgICAvLyBDb21wYXJlIGJ5IGxvbmdpdHVkZVxuICAgICAgICBpZiAoYXhpcyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBvaW50LmxvbiA8IG5vZGUucG9pbnQubG9uKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5sZWZ0O1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5yaWdodDtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAvLyBDb21wYXJlIGJ5IGxhdGl0dWRlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocG9pbnQubGF0IDwgbm9kZS5wb2ludC5sYXQpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLmxlZnQ7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVwdGgrKztcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jSURzQnlDb29yZGluYXRlcyh0cmVlLCBwb2ludCkge1xuICAgIGxldCBub2RlID0gdHJlZS5yb290O1xuICAgIGxldCBkZXB0aCA9IDA7XG4gICAgd2hpbGUobm9kZSAhPT0gbnVsbCl7XG4gICAgICAgIGlmIChub2RlLnBvaW50LmxvbiA9PT0gcG9pbnQubG9uICYmIG5vZGUucG9pbnQubGF0ID09PSBwb2ludC5sYXQpIHtcbiAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuZG9jSURzID8/IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXhpcyA9IGRlcHRoICUgSztcbiAgICAgICAgLy8gQ29tcGFyZSBieSBsb25naXR1ZGVcbiAgICAgICAgaWYgKGF4aXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwb2ludC5sb24gPCBub2RlLnBvaW50Lmxvbikge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAvLyBDb21wYXJlIGJ5IGxhdGl0dWRlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocG9pbnQubGF0IDwgbm9kZS5wb2ludC5sYXQpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZXB0aCsrO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hCeVJhZGl1cyhub2RlLCBjZW50ZXIsIHJhZGl1cywgaW5jbHVzaXZlID0gdHJ1ZSwgc29ydCA9ICdhc2MnLCBoaWdoUHJlY2lzaW9uID0gZmFsc2UpIHtcbiAgICBjb25zdCBkaXN0YW5jZUZuID0gaGlnaFByZWNpc2lvbiA/IHZpbmNlbnR5RGlzdGFuY2UgOiBoYXZlcnNpbmVEaXN0YW5jZTtcbiAgICBjb25zdCBzdGFjayA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIGRlcHRoOiAwXG4gICAgICAgIH1cbiAgICBdO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIHdoaWxlKHN0YWNrLmxlbmd0aCA+IDApe1xuICAgICAgICBjb25zdCB7IG5vZGUgLCBkZXB0aCAgfSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IGRpc3QgPSBkaXN0YW5jZUZuKGNlbnRlciwgbm9kZS5wb2ludCk7XG4gICAgICAgIGlmIChpbmNsdXNpdmUgPyBkaXN0IDw9IHJhZGl1cyA6IGRpc3QgPiByYWRpdXMpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBwb2ludDogbm9kZS5wb2ludCxcbiAgICAgICAgICAgICAgICBkb2NJRHM6IG5vZGUuZG9jSURzID8/IFtdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5sZWZ0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICAgIG5vZGU6IG5vZGUubGVmdCxcbiAgICAgICAgICAgICAgICBkZXB0aDogZGVwdGggKyAxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5yaWdodCAhPSBudWxsKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKHtcbiAgICAgICAgICAgICAgICBub2RlOiBub2RlLnJpZ2h0LFxuICAgICAgICAgICAgICAgIGRlcHRoOiBkZXB0aCArIDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzb3J0KSB7XG4gICAgICAgIHJlc3VsdC5zb3J0KChhLCBiKT0+e1xuICAgICAgICAgICAgY29uc3QgZGlzdEEgPSBkaXN0YW5jZUZuKGNlbnRlciwgYS5wb2ludCk7XG4gICAgICAgICAgICBjb25zdCBkaXN0QiA9IGRpc3RhbmNlRm4oY2VudGVyLCBiLnBvaW50KTtcbiAgICAgICAgICAgIHJldHVybiBzb3J0LnRvTG93ZXJDYXNlKCkgPT09ICdhc2MnID8gZGlzdEEgLSBkaXN0QiA6IGRpc3RCIC0gZGlzdEE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaEJ5UG9seWdvbihyb290LCBwb2x5Z29uLCBpbmNsdXNpdmUgPSB0cnVlLCBzb3J0ID0gbnVsbCwgaGlnaFByZWNpc2lvbiA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc3RhY2sgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5vZGU6IHJvb3QsXG4gICAgICAgICAgICBkZXB0aDogMFxuICAgICAgICB9XG4gICAgXTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICB3aGlsZShzdGFjay5sZW5ndGggPiAwKXtcbiAgICAgICAgY29uc3QgdGFzayA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAodGFzayA9PSBudWxsIHx8IHRhc2subm9kZSA9PSBudWxsKSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgeyBub2RlICwgZGVwdGggIH0gPSB0YXNrO1xuICAgICAgICBjb25zdCBuZXh0RGVwdGggPSBkZXB0aCArIDE7XG4gICAgICAgIGlmIChub2RlLmxlZnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgbm9kZTogbm9kZS5sZWZ0LFxuICAgICAgICAgICAgICAgIGRlcHRoOiBuZXh0RGVwdGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnJpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICAgIG5vZGU6IG5vZGUucmlnaHQsXG4gICAgICAgICAgICAgICAgZGVwdGg6IG5leHREZXB0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNJbnNpZGVQb2x5Z29uID0gaXNQb2ludEluUG9seWdvbihwb2x5Z29uLCBub2RlLnBvaW50KTtcbiAgICAgICAgaWYgKGlzSW5zaWRlUG9seWdvbiAmJiBpbmNsdXNpdmUpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBwb2ludDogbm9kZS5wb2ludCxcbiAgICAgICAgICAgICAgICBkb2NJRHM6IG5vZGUuZG9jSURzID8/IFtdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICghaXNJbnNpZGVQb2x5Z29uICYmICFpbmNsdXNpdmUpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBwb2ludDogbm9kZS5wb2ludCxcbiAgICAgICAgICAgICAgICBkb2NJRHM6IG5vZGUuZG9jSURzID8/IFtdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjZW50cm9pZCA9IGNhbGN1bGF0ZVBvbHlnb25DZW50cm9pZChwb2x5Z29uKTtcbiAgICBpZiAoc29ydCkge1xuICAgICAgICBjb25zdCBzb3J0Rm4gPSBoaWdoUHJlY2lzaW9uID8gdmluY2VudHlEaXN0YW5jZSA6IGhhdmVyc2luZURpc3RhbmNlO1xuICAgICAgICByZXN1bHQuc29ydCgoYSwgYik9PntcbiAgICAgICAgICAgIGNvbnN0IGRpc3RBID0gc29ydEZuKGNlbnRyb2lkLCBhLnBvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RCID0gc29ydEZuKGNlbnRyb2lkLCBiLnBvaW50KTtcbiAgICAgICAgICAgIHJldHVybiBzb3J0LnRvTG93ZXJDYXNlKCkgPT09ICdhc2MnID8gZGlzdEEgLSBkaXN0QiA6IGRpc3RCIC0gZGlzdEE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlUG9seWdvbkNlbnRyb2lkKHBvbHlnb24pIHtcbiAgICBsZXQgdG90YWxBcmVhID0gMDtcbiAgICBsZXQgY2VudHJvaWRYID0gMDtcbiAgICBsZXQgY2VudHJvaWRZID0gMDtcbiAgICBmb3IobGV0IGkgPSAwLCBqID0gcG9seWdvbi5sZW5ndGggLSAxOyBpIDwgcG9seWdvbi5sZW5ndGg7IGogPSBpKyspe1xuICAgICAgICBjb25zdCB4aSA9IHBvbHlnb25baV0ubG9uO1xuICAgICAgICBjb25zdCB5aSA9IHBvbHlnb25baV0ubGF0O1xuICAgICAgICBjb25zdCB4aiA9IHBvbHlnb25bal0ubG9uO1xuICAgICAgICBjb25zdCB5aiA9IHBvbHlnb25bal0ubGF0O1xuICAgICAgICBjb25zdCBhcmVhU2VnbWVudCA9IHhpICogeWogLSB4aiAqIHlpO1xuICAgICAgICB0b3RhbEFyZWEgKz0gYXJlYVNlZ21lbnQ7XG4gICAgICAgIGNlbnRyb2lkWCArPSAoeGkgKyB4aikgKiBhcmVhU2VnbWVudDtcbiAgICAgICAgY2VudHJvaWRZICs9ICh5aSArIHlqKSAqIGFyZWFTZWdtZW50O1xuICAgIH1cbiAgICB0b3RhbEFyZWEgLz0gMjtcbiAgICBjZW50cm9pZFggLz0gNiAqIHRvdGFsQXJlYTtcbiAgICBjZW50cm9pZFkgLz0gNiAqIHRvdGFsQXJlYTtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb246IGNlbnRyb2lkWCxcbiAgICAgICAgbGF0OiBjZW50cm9pZFlcbiAgICB9O1xufVxuZnVuY3Rpb24gaXNQb2ludEluUG9seWdvbihwb2x5Z29uLCBwb2ludCkge1xuICAgIGxldCBpc0luc2lkZSA9IGZhbHNlO1xuICAgIGNvbnN0IHggPSBwb2ludC5sb247XG4gICAgY29uc3QgeSA9IHBvaW50LmxhdDtcbiAgICBmb3IobGV0IGkgPSAwLCBqID0gcG9seWdvbi5sZW5ndGggLSAxOyBpIDwgcG9seWdvbi5sZW5ndGg7IGogPSBpKyspe1xuICAgICAgICBjb25zdCB4aSA9IHBvbHlnb25baV0ubG9uO1xuICAgICAgICBjb25zdCB5aSA9IHBvbHlnb25baV0ubGF0O1xuICAgICAgICBjb25zdCB4aiA9IHBvbHlnb25bal0ubG9uO1xuICAgICAgICBjb25zdCB5aiA9IHBvbHlnb25bal0ubGF0O1xuICAgICAgICBjb25zdCBpbnRlcnNlY3QgPSB5aSA+IHkgIT09IHlqID4geSAmJiB4IDwgKHhqIC0geGkpICogKHkgLSB5aSkgLyAoeWogLSB5aSkgKyB4aTtcbiAgICAgICAgaWYgKGludGVyc2VjdCkgaXNJbnNpZGUgPSAhaXNJbnNpZGU7XG4gICAgfVxuICAgIHJldHVybiBpc0luc2lkZTtcbn1cbmZ1bmN0aW9uIGhhdmVyc2luZURpc3RhbmNlKGNvb3JkMSwgY29vcmQyKSB7XG4gICAgY29uc3QgUCA9IE1hdGguUEkgLyAxODA7XG4gICAgY29uc3QgbGF0MSA9IGNvb3JkMS5sYXQgKiBQO1xuICAgIGNvbnN0IGxhdDIgPSBjb29yZDIubGF0ICogUDtcbiAgICBjb25zdCBkZWx0YUxhdCA9IChjb29yZDIubGF0IC0gY29vcmQxLmxhdCkgKiBQO1xuICAgIGNvbnN0IGRlbHRhTG9uID0gKGNvb3JkMi5sb24gLSBjb29yZDEubG9uKSAqIFA7XG4gICAgY29uc3QgYSA9IE1hdGguc2luKGRlbHRhTGF0IC8gMikgKiBNYXRoLnNpbihkZWx0YUxhdCAvIDIpICsgTWF0aC5jb3MobGF0MSkgKiBNYXRoLmNvcyhsYXQyKSAqIE1hdGguc2luKGRlbHRhTG9uIC8gMikgKiBNYXRoLnNpbihkZWx0YUxvbiAvIDIpO1xuICAgIGNvbnN0IGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xuICAgIHJldHVybiBFQVJUSF9SQURJVVMgKiBjO1xufVxuZnVuY3Rpb24gdmluY2VudHlEaXN0YW5jZShjb29yZDEsIGNvb3JkMikge1xuICAgIC8vIENvbnN0YW50cyBmb3IgV0dTIDg0IGVsbGlwc29pZGFsIEVhcnRoIG1vZGVsIChodHRwczovL2Vwc2cub3JnL2VsbGlwc29pZF83MDMwL1dHUy04NC5odG1sKVxuICAgIC8vIFNlbWktbWFqb3IgYXhpcyBvZiB0aGUgRWFydGggaW4gbWV0ZXJzXG4gICAgY29uc3QgYSA9IDYzNzgxMzc7XG4gICAgLy8gRmxhdHRlbmluZyBvZiB0aGUgZWxsaXBzb2lkXG4gICAgY29uc3QgZiA9IDEgLyAyOTguMjU3MjIzNTYzO1xuICAgIC8vIFNlbWktbWlub3IgYXhpc1xuICAgIGNvbnN0IGIgPSAoMSAtIGYpICogYTtcbiAgICAvLyBDb252ZXJ0IGRlZ3JlZXMgdG8gcmFkaWFucyBmb3IgY2FsY3VsYXRpb25zXG4gICAgY29uc3QgUCA9IE1hdGguUEkgLyAxODA7XG4gICAgY29uc3QgbGF0MSA9IGNvb3JkMS5sYXQgKiBQO1xuICAgIGNvbnN0IGxhdDIgPSBjb29yZDIubGF0ICogUDtcbiAgICBjb25zdCBkZWx0YUxvbiA9IChjb29yZDIubG9uIC0gY29vcmQxLmxvbikgKiBQO1xuICAgIC8vIFJlZHVjZWQgbGF0aXR1ZGVzIC0gYWNjb3VudCBmb3IgZmxhdHRlbmluZyBieSB0cmFuc2Zvcm1pbmcgZnJvbSBnZW9kZXRpYyB0byBhdXhpbGlhcnkgbGF0aXR1ZGVcbiAgICBjb25zdCBVMSA9IE1hdGguYXRhbigoMSAtIGYpICogTWF0aC50YW4obGF0MSkpO1xuICAgIGNvbnN0IFUyID0gTWF0aC5hdGFuKCgxIC0gZikgKiBNYXRoLnRhbihsYXQyKSk7XG4gICAgY29uc3Qgc2luVTEgPSBNYXRoLnNpbihVMSk7XG4gICAgY29uc3QgY29zVTEgPSBNYXRoLmNvcyhVMSk7XG4gICAgY29uc3Qgc2luVTIgPSBNYXRoLnNpbihVMik7XG4gICAgY29uc3QgY29zVTIgPSBNYXRoLmNvcyhVMik7XG4gICAgLy8gSW5pdGlhbCBhcHByb3hpbWF0aW9uIGZvciB0aGUgbG9uZ2l0dWRlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvIHBvaW50c1xuICAgIGxldCBsYW1iZGEgPSBkZWx0YUxvbjtcbiAgICBsZXQgcHJldkxhbWJkYTtcbiAgICAvLyBMaW1pdCB0aGUgaXRlcmF0aW9ucyB0byBlbnN1cmUgd2UgZG9uJ3QgZ2V0IHN0dWNrIGluIGFuIGluZmluaXRlIGxvb3BcbiAgICBsZXQgaXRlcmF0aW9uTGltaXQgPSAxMDAwO1xuICAgIGxldCBzaW5BbHBoYTtcbiAgICBsZXQgY29zMkFscGhhO1xuICAgIGxldCBzaW5TaWdtYTtcbiAgICBsZXQgY29zU2lnbWE7XG4gICAgbGV0IHNpZ21hO1xuICAgIC8vIFJlZmluZSB0aGUgdmFsdWUgb2YgbGFtYmRhIChsb25naXR1ZGUgZGlmZmVyZW5jZSlcbiAgICBkbyB7XG4gICAgICAgIGNvbnN0IHNpbkxhbWJkYSA9IE1hdGguc2luKGxhbWJkYSk7XG4gICAgICAgIGNvbnN0IGNvc0xhbWJkYSA9IE1hdGguY29zKGxhbWJkYSk7XG4gICAgICAgIC8vIENvbXB1dGUgdGhlIHRyaWdvbm9tZXRyaWMgdmFsdWVzIHJlcXVpcmVkIGZvciBWaW5jZW50eSBmb3JtdWxhZVxuICAgICAgICBzaW5TaWdtYSA9IE1hdGguc3FydChjb3NVMiAqIHNpbkxhbWJkYSAqIChjb3NVMiAqIHNpbkxhbWJkYSkgKyAoY29zVTEgKiBzaW5VMiAtIHNpblUxICogY29zVTIgKiBjb3NMYW1iZGEpICogKGNvc1UxICogc2luVTIgLSBzaW5VMSAqIGNvc1UyICogY29zTGFtYmRhKSk7XG4gICAgICAgIGNvc1NpZ21hID0gc2luVTEgKiBzaW5VMiArIGNvc1UxICogY29zVTIgKiBjb3NMYW1iZGE7XG4gICAgICAgIHNpZ21hID0gTWF0aC5hdGFuMihzaW5TaWdtYSwgY29zU2lnbWEpO1xuICAgICAgICAvLyBBbmd1bGFyIHNlcGFyYXRpb24gYmV0d2VlbiB0aGUgdHdvIHBvaW50cyBhbmQgdGhlIGVxdWF0b3JcbiAgICAgICAgc2luQWxwaGEgPSBjb3NVMSAqIGNvc1UyICogc2luTGFtYmRhIC8gc2luU2lnbWE7XG4gICAgICAgIGNvczJBbHBoYSA9IDEgLSBzaW5BbHBoYSAqIHNpbkFscGhhO1xuICAgICAgICBjb25zdCBjb3MyU2lnbWFNID0gY29zU2lnbWEgLSAyICogc2luVTEgKiBzaW5VMiAvIGNvczJBbHBoYTtcbiAgICAgICAgLy8gQ29tcGVuc2F0aW9uIGZhY3RvciBmb3IgdGhlIEVhcnRoJ3Mgc2hhcGVcbiAgICAgICAgY29uc3QgQyA9IGYgLyAxNiAqIGNvczJBbHBoYSAqICg0ICsgZiAqICg0IC0gMyAqIGNvczJBbHBoYSkpO1xuICAgICAgICAvLyBTdG9yZSBwcmV2aW91cyBsYW1iZGEgdG8gY2hlY2sgZm9yIGNvbnZlcmdlbmNlXG4gICAgICAgIHByZXZMYW1iZGEgPSBsYW1iZGE7XG4gICAgICAgIC8vIFJlZmluZSB0aGUgZXN0aW1hdGUgb2YgbGFtYmRhIHVzaW5nIHRoZSBWaW5jZW50eSBmb3JtdWxhXG4gICAgICAgIGxhbWJkYSA9IGRlbHRhTG9uICsgKDEgLSBDKSAqIGYgKiBzaW5BbHBoYSAqIChzaWdtYSArIEMgKiBzaW5TaWdtYSAqIChjb3MyU2lnbWFNICsgQyAqIGNvc1NpZ21hICogKC0xICsgMiAqIGNvczJTaWdtYU0gKiBjb3MyU2lnbWFNKSkpO1xuICAgIH13aGlsZSAoTWF0aC5hYnMobGFtYmRhIC0gcHJldkxhbWJkYSkgPiAxZS0xMiAmJiAtLWl0ZXJhdGlvbkxpbWl0ID4gMClcbiAgICAvLyBDb21wdXRlIGZhY3RvcnMgdGhhdCBkZXBlbmQgb24gdGhlIHNoYXBlIG9mIHRoZSBFYXJ0aCBhbmQgYW5ndWxhciBkaXN0YW5jZXNcbiAgICBjb25zdCB1MiA9IGNvczJBbHBoYSAqIChhICogYSAtIGIgKiBiKSAvIChiICogYik7XG4gICAgY29uc3QgQSA9IDEgKyB1MiAvIDE2Mzg0ICogKDQwOTYgKyB1MiAqICgtNzY4ICsgdTIgKiAoMzIwIC0gMTc1ICogdTIpKSk7XG4gICAgY29uc3QgQiA9IHUyIC8gMTAyNCAqICgyNTYgKyB1MiAqICgtMTI4ICsgdTIgKiAoNzQgLSA0NyAqIHUyKSkpO1xuICAgIC8vIENvbXB1dGUgdGhlIGNvcnJlY3Rpb24gZmFjdG9yIGZvciB0aGUgZWxsaXBzb2lkYWwgc2hhcGUgb2YgdGhlIEVhcnRoXG4gICAgY29uc3QgZGVsdGFTaWdtYSA9IEIgKiBzaW5TaWdtYSAqIChjb3NTaWdtYSAtIDIgKiBzaW5VMSAqIHNpblUyIC8gY29zMkFscGhhICsgQiAvIDQgKiAoY29zU2lnbWEgKiAoLTEgKyAyICogc2luU2lnbWEgKiBzaW5TaWdtYSkgLSBCIC8gNiAqIHNpZ21hICogKC0zICsgNCAqIHNpblNpZ21hICogc2luU2lnbWEpICogKC0zICsgNCAqIHNpZ21hICogc2lnbWEpKSk7XG4gICAgLy8gRmluYWwgY2FsY3VsYXRpb24gb2YgZGlzdGFuY2UgdXNpbmcgVmluY2VudHkgZm9ybXVsYVxuICAgIGNvbnN0IHMgPSBiICogQSAqIChzaWdtYSAtIGRlbHRhU2lnbWEpO1xuICAgIHJldHVybiBzO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1ia2QuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIHByaW9yaXRpemVUb2tlblNjb3JlcyhhcnJheXMsIGJvb3N0LCB0aHJlc2hvbGQgPSAxLCBrZXl3b3Jkc0NvdW50KSB7XG4gICAgaWYgKGJvb3N0ID09PSAwKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX0JPT1NUX1ZBTFVFJyk7XG4gICAgfVxuICAgIGNvbnN0IHRva2VuU2NvcmVzTWFwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHRva2VuS2V5d29yZHNDb3VudE1hcCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBtYXBzTGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbWFwc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgYXJyID0gYXJyYXlzW2ldO1xuICAgICAgICBjb25zdCBlbnRyaWVzTGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IGVudHJpZXNMZW5ndGg7IGorKyl7XG4gICAgICAgICAgICBjb25zdCBbdG9rZW4sIHNjb3JlXSA9IGFycltqXTtcbiAgICAgICAgICAgIGNvbnN0IGJvb3N0U2NvcmUgPSBzY29yZSAqIGJvb3N0O1xuICAgICAgICAgICAgY29uc3Qgb2xkU2NvcmUgPSB0b2tlblNjb3Jlc01hcC5nZXQodG9rZW4pO1xuICAgICAgICAgICAgaWYgKG9sZFNjb3JlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0b2tlblNjb3Jlc01hcC5zZXQodG9rZW4sIG9sZFNjb3JlICogMS41ICsgYm9vc3RTY29yZSk7XG4gICAgICAgICAgICAgICAgdG9rZW5LZXl3b3Jkc0NvdW50TWFwLnNldCh0b2tlbiwgdG9rZW5LZXl3b3Jkc0NvdW50TWFwLmdldCh0b2tlbikgKyAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9rZW5TY29yZXNNYXAuc2V0KHRva2VuLCBib29zdFNjb3JlKTtcbiAgICAgICAgICAgICAgICB0b2tlbktleXdvcmRzQ291bnRNYXAuc2V0KHRva2VuLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0b2tlblNjb3JlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgdG9rZW5TY29yZUVudHJ5IG9mIHRva2VuU2NvcmVzTWFwLmVudHJpZXMoKSl7XG4gICAgICAgIHRva2VuU2NvcmVzLnB1c2godG9rZW5TY29yZUVudHJ5KTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IHRva2VuU2NvcmVzLnNvcnQoKGEsIGIpPT5iWzFdIC0gYVsxXSk7XG4gICAgLy8gSWYgdGhyZXNob2xkIGlzIDEsIGl0IG1lYW5zIHdlIHdpbGwgcmV0dXJuIGFsbCB0aGUgcmVzdWx0cyB3aXRoIGF0IGxlYXN0IG9uZSBzZWFyY2ggdGVybSxcbiAgICAvLyBwcmlvcml0aXppZyB0aGUgb25lcyB0aGF0IGNvbnRhaW5zIG1vcmUgc2VhcmNoIHRlcm1zIChmdXp6eSBtYXRjaClcbiAgICBpZiAodGhyZXNob2xkID09PSAxKSB7XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cbiAgICAvLyBQcmVwYXJlIGtleXdvcmRzIGNvdW50IHRyYWNraW5nIGZvciB0aHJlc2hvbGQgaGFuZGxpbmdcbiAgICBjb25zdCBhbGxSZXN1bHRzID0gcmVzdWx0cy5sZW5ndGg7XG4gICAgY29uc3QgdG9rZW5LZXl3b3Jkc0NvdW50ID0gW107XG4gICAgZm9yIChjb25zdCB0b2tlbktleXdvcmRzQ291bnRFbnRyeSBvZiB0b2tlbktleXdvcmRzQ291bnRNYXAuZW50cmllcygpKXtcbiAgICAgICAgdG9rZW5LZXl3b3Jkc0NvdW50LnB1c2godG9rZW5LZXl3b3Jkc0NvdW50RW50cnkpO1xuICAgIH1cbiAgICAvLyBGaW5kIHRoZSBpbmRleCBvZiB0aGUgbGFzdCByZXN1bHQgd2l0aCBhbGwga2V5d29yZHMuXG4gICAgLy8gTm90ZSB0aGF0IHNpbmNlIHNjb3JlIGlzIG11bHRpcGxlZCBieSAxLjUgYW55IHRpbWUgdGhlIHRva2VuIGlzIGVuY291bnRlcmVkIGluIHJlc3VsdHMgaXQgbWVhbnNcbiAgICAvLyB0aGF0IHRva2VuU2NvcmVzIGFuZCB0b2tlbktleXdvcmRzQ291bnQgc2hvdWxkIGFsd2F5cyBoYXZlIHRoZSBzYW1lIG9yZGVyLlxuICAgIGNvbnN0IGtleXdvcmRzUGVyVG9rZW4gPSB0b2tlbktleXdvcmRzQ291bnQuc29ydCgoYSwgYik9PmJbMV0gLSBhWzFdKTtcbiAgICBsZXQgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID0gdW5kZWZpbmVkO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhbGxSZXN1bHRzOyBpKyspe1xuICAgICAgICBpZiAoa2V5d29yZHNQZXJUb2tlbltpXVsxXSA9PT0ga2V5d29yZHNDb3VudCkge1xuICAgICAgICAgICAgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID0gaTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIElmIG5vIHJlc3VsdHMgaGFkIGFsbCB0aGUga2V5d29yZHMsIGVpdGhlciBiYWlsIG91dCBlYXJsaWVyIG9yIG5vcm1hbGl6ZVxuICAgIGlmICh0eXBlb2YgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAodGhyZXNob2xkID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID0gMDtcbiAgICB9XG4gICAgLy8gSWYgdGhyZXNob2xkIGlzIDAsIGl0IG1lYW5zIHdlIHdpbGwgb25seSByZXR1cm4gYWxsIHRoZSByZXN1bHRzIHRoYXQgY29udGFpbnMgQUxMIHRoZSBzZWFyY2ggdGVybXMgKGV4YWN0IG1hdGNoKVxuICAgIGlmICh0aHJlc2hvbGQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHMuc2xpY2UoMCwgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzICsgMSk7XG4gICAgfVxuICAgIC8vIElmIHRoZSB0aHJlc2hvbGQgaXMgYmV0d2VlbiAwIGFuZCAxLCB3ZSB3aWxsIHJldHVybiBhbGwgdGhlIHJlc3VsdHMgdGhhdCBjb250YWlucyBhdCBsZWFzdCB0aGUgdGhyZXNob2xkIG9mIHNlYXJjaCB0ZXJtc1xuICAgIC8vIEZvciBleGFtcGxlLCBpZiB0aHJlc2hvbGQgaXMgMC41LCB3ZSB3aWxsIHJldHVybiBhbGwgdGhlIHJlc3VsdHMgdGhhdCBjb250YWlucyBhdCBsZWFzdCA1MCUgb2YgdGhlIHNlYXJjaCB0ZXJtc1xuICAgIC8vIChmdXp6eSBtYXRjaCB3aXRoIGEgbWluaW11bSB0aHJlc2hvbGQpXG4gICAgY29uc3QgdGhyZXNob2xkTGVuZ3RoID0gbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzICsgTWF0aC5jZWlsKHRocmVzaG9sZCAqIDEwMCAqIChyZXN1bHRzLmxlbmd0aCAtIGxhc3RUb2tlbldpdGhBbGxLZXl3b3JkcykgLyAxMDApO1xuICAgIHJldHVybiByZXN1bHRzLnNsaWNlKDAsIHJlc3VsdHMubGVuZ3RoICsgdGhyZXNob2xkTGVuZ3RoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBCTTI1KHRmLCBtYXRjaGluZ0NvdW50LCBkb2NzQ291bnQsIGZpZWxkTGVuZ3RoLCBhdmVyYWdlRmllbGRMZW5ndGgsIEJNMjVQYXJhbXMpIHtcbiAgICBjb25zdCB7IGsgLCBiICwgZCAgfSA9IEJNMjVQYXJhbXM7XG4gICAgY29uc3QgaWRmID0gTWF0aC5sb2coMSArIChkb2NzQ291bnQgLSBtYXRjaGluZ0NvdW50ICsgMC41KSAvIChtYXRjaGluZ0NvdW50ICsgMC41KSk7XG4gICAgcmV0dXJuIGlkZiAqIChkICsgdGYgKiAoayArIDEpKSAvICh0ZiArIGsgKiAoMSAtIGIgKyBiICogZmllbGRMZW5ndGggLyBhdmVyYWdlRmllbGRMZW5ndGgpKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWxnb3JpdGhtcy5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gZ2V0TWFnbml0dWRlKHZlY3RvciwgdmVjdG9yTGVuZ3RoKSB7XG4gICAgbGV0IG1hZ25pdHVkZSA9IDA7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHZlY3Rvckxlbmd0aDsgaSsrKXtcbiAgICAgICAgbWFnbml0dWRlICs9IHZlY3RvcltpXSAqIHZlY3RvcltpXTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGguc3FydChtYWduaXR1ZGUpO1xufVxuLy8gQHRvZG86IFdyaXRlIHBsdWdpbnMgZm9yIE5vZGUgYW5kIEJyb3dzZXJzIHRvIHVzZSBwYXJhbGxlbCBjb21wdXRhdGlvbiBmb3IgdGhpcyBmdW5jdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRTaW1pbGFyVmVjdG9ycyh0YXJnZXRWZWN0b3IsIHZlY3RvcnMsIGxlbmd0aCwgdGhyZXNob2xkID0gMC44KSB7XG4gICAgY29uc3QgdGFyZ2V0TWFnbml0dWRlID0gZ2V0TWFnbml0dWRlKHRhcmdldFZlY3RvciwgbGVuZ3RoKTtcbiAgICBjb25zdCBzaW1pbGFyVmVjdG9ycyA9IFtdO1xuICAgIGZvciAoY29uc3QgW3ZlY3RvcklkLCBbbWFnbml0dWRlLCB2ZWN0b3JdXSBvZiBPYmplY3QuZW50cmllcyh2ZWN0b3JzKSl7XG4gICAgICAgIGxldCBkb3RQcm9kdWN0ID0gMDtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGRvdFByb2R1Y3QgKz0gdGFyZ2V0VmVjdG9yW2ldICogdmVjdG9yW2ldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNpbWlsYXJpdHkgPSBkb3RQcm9kdWN0IC8gKHRhcmdldE1hZ25pdHVkZSAqIG1hZ25pdHVkZSk7XG4gICAgICAgIGlmIChzaW1pbGFyaXR5ID49IHRocmVzaG9sZCkge1xuICAgICAgICAgICAgc2ltaWxhclZlY3RvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHZlY3RvcklkLFxuICAgICAgICAgICAgICAgIHNjb3JlOiBzaW1pbGFyaXR5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2ltaWxhclZlY3RvcnMuc29ydCgoYSwgYik9PmIuc2NvcmUgLSBhLnNjb3JlKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29zaW5lLXNpbWlsYXJpdHkuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgY3JlYXRlIGFzIGF2bENyZWF0ZSwgZmluZCBhcyBhdmxGaW5kLCBncmVhdGVyVGhhbiBhcyBhdmxHcmVhdGVyVGhhbiwgaW5zZXJ0IGFzIGF2bEluc2VydCwgbGVzc1RoYW4gYXMgYXZsTGVzc1RoYW4sIHJhbmdlU2VhcmNoIGFzIGF2bFJhbmdlU2VhcmNoLCByZW1vdmVEb2N1bWVudCBhcyBhdmxSZW1vdmVEb2N1bWVudCB9IGZyb20gJy4uL3RyZWVzL2F2bC5qcyc7XG5pbXBvcnQgeyBjcmVhdGUgYXMgZmxhdENyZWF0ZSwgZmlsdGVyIGFzIGZsYXRGaWx0ZXIsIGZpbHRlckFyciBhcyBmbGF0RmlsdGVyQXJyLCBpbnNlcnQgYXMgZmxhdEluc2VydCwgcmVtb3ZlRG9jdW1lbnQgYXMgZmxhdFJlbW92ZURvY3VtZW50IH0gZnJvbSAnLi4vdHJlZXMvZmxhdC5qcyc7XG5pbXBvcnQgeyBjcmVhdGUgYXMgcmFkaXhDcmVhdGUsIGZpbmQgYXMgcmFkaXhGaW5kLCBpbnNlcnQgYXMgcmFkaXhJbnNlcnQsIHJlbW92ZURvY3VtZW50QnlXb3JkIGFzIHJhZGl4UmVtb3ZlRG9jdW1lbnQgfSBmcm9tICcuLi90cmVlcy9yYWRpeC5qcyc7XG5pbXBvcnQgeyBjcmVhdGUgYXMgYmtkQ3JlYXRlLCBpbnNlcnQgYXMgYmtkSW5zZXJ0LCByZW1vdmVEb2NCeUlEIGFzIGJrZFJlbW92ZURvY0J5SUQsIHNlYXJjaEJ5UmFkaXVzLCBzZWFyY2hCeVBvbHlnb24gfSBmcm9tICcuLi90cmVlcy9ia2QuanMnO1xuaW1wb3J0IHsgY29udmVydERpc3RhbmNlVG9NZXRlcnMsIGludGVyc2VjdCwgc2FmZUFycmF5UHVzaCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IEJNMjUgfSBmcm9tICcuL2FsZ29yaXRobXMuanMnO1xuaW1wb3J0IHsgZ2V0TWFnbml0dWRlIH0gZnJvbSAnLi9jb3NpbmUtc2ltaWxhcml0eS5qcyc7XG5pbXBvcnQgeyBnZXRJbm5lclR5cGUsIGdldFZlY3RvclNpemUsIGlzQXJyYXlUeXBlLCBpc1ZlY3RvclR5cGUgfSBmcm9tICcuL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IGdldEludGVybmFsRG9jdW1lbnRJZCB9IGZyb20gJy4vaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydERvY3VtZW50U2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCBpZCwgdG9rZW5zLCBkb2NzQ291bnQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGluZGV4LmF2Z0ZpZWxkTGVuZ3RoW3Byb3BdID0gKChpbmRleC5hdmdGaWVsZExlbmd0aFtwcm9wXSA/PyAwKSAqIChkb2NzQ291bnQgLSAxKSArIHRva2Vucy5sZW5ndGgpIC8gZG9jc0NvdW50O1xuICAgIGluZGV4LmZpZWxkTGVuZ3Roc1twcm9wXVtpbnRlcm5hbElkXSA9IHRva2Vucy5sZW5ndGg7XG4gICAgaW5kZXguZnJlcXVlbmNpZXNbcHJvcF1baW50ZXJuYWxJZF0gPSB7fTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnNlcnRUb2tlblNjb3JlUGFyYW1ldGVycyhpbmRleCwgcHJvcCwgaWQsIHRva2VucywgdG9rZW4pIHtcbiAgICBsZXQgdG9rZW5GcmVxdWVuY3kgPSAwO1xuICAgIGZvciAoY29uc3QgdCBvZiB0b2tlbnMpe1xuICAgICAgICBpZiAodCA9PT0gdG9rZW4pIHtcbiAgICAgICAgICAgIHRva2VuRnJlcXVlbmN5Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChpbmRleC5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBjb25zdCB0ZiA9IHRva2VuRnJlcXVlbmN5IC8gdG9rZW5zLmxlbmd0aDtcbiAgICBpbmRleC5mcmVxdWVuY2llc1twcm9wXVtpbnRlcm5hbElkXVt0b2tlbl0gPSB0ZjtcbiAgICBpZiAoISh0b2tlbiBpbiBpbmRleC50b2tlbk9jY3VycmVuY2VzW3Byb3BdKSkge1xuICAgICAgICBpbmRleC50b2tlbk9jY3VycmVuY2VzW3Byb3BdW3Rva2VuXSA9IDA7XG4gICAgfVxuICAgIC8vIGluY3JlYXNlIGEgdG9rZW4gY291bnRlciB0aGF0IG1heSBub3QgeWV0IGV4aXN0XG4gICAgaW5kZXgudG9rZW5PY2N1cnJlbmNlc1twcm9wXVt0b2tlbl0gPSAoaW5kZXgudG9rZW5PY2N1cnJlbmNlc1twcm9wXVt0b2tlbl0gPz8gMCkgKyAxO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZURvY3VtZW50U2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCBpZCwgZG9jc0NvdW50KSB7XG4gICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChpbmRleC5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBpbmRleC5hdmdGaWVsZExlbmd0aFtwcm9wXSA9IChpbmRleC5hdmdGaWVsZExlbmd0aFtwcm9wXSAqIGRvY3NDb3VudCAtIGluZGV4LmZpZWxkTGVuZ3Roc1twcm9wXVtpbnRlcm5hbElkXSkgLyAoZG9jc0NvdW50IC0gMSk7XG4gICAgaW5kZXguZmllbGRMZW5ndGhzW3Byb3BdW2ludGVybmFsSWRdID0gdW5kZWZpbmVkO1xuICAgIGluZGV4LmZyZXF1ZW5jaWVzW3Byb3BdW2ludGVybmFsSWRdID0gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZVRva2VuU2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCB0b2tlbikge1xuICAgIGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcHJvcF1bdG9rZW5dLS07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FsY3VsYXRlUmVzdWx0U2NvcmVzKGNvbnRleHQsIGluZGV4LCBwcm9wLCB0ZXJtLCBpZHMpIHtcbiAgICBjb25zdCBkb2N1bWVudElEcyA9IEFycmF5LmZyb20oaWRzKTtcbiAgICAvLyBFeGFjdCBmaWVsZHMgZm9yIFRGLUlERlxuICAgIGNvbnN0IGF2Z0ZpZWxkTGVuZ3RoID0gaW5kZXguYXZnRmllbGRMZW5ndGhbcHJvcF07XG4gICAgY29uc3QgZmllbGRMZW5ndGhzID0gaW5kZXguZmllbGRMZW5ndGhzW3Byb3BdO1xuICAgIGNvbnN0IG9yYW1hT2NjdXJyZW5jZXMgPSBpbmRleC50b2tlbk9jY3VycmVuY2VzW3Byb3BdO1xuICAgIGNvbnN0IG9yYW1hRnJlcXVlbmNpZXMgPSBpbmRleC5mcmVxdWVuY2llc1twcm9wXTtcbiAgICAvLyBvcmFtYU9jY3VycmVuY2VzW3Rlcm1dIGNhbiBiZSB1bmRlZmluZWQsIDAsIHN0cmluZywgb3IgeyBbazogc3RyaW5nXTogbnVtYmVyIH1cbiAgICBjb25zdCB0ZXJtT2NjdXJyZW5jZXMgPSB0eXBlb2Ygb3JhbWFPY2N1cnJlbmNlc1t0ZXJtXSA9PT0gJ251bWJlcicgPyBvcmFtYU9jY3VycmVuY2VzW3Rlcm1dID8/IDAgOiAwO1xuICAgIGNvbnN0IHNjb3JlTGlzdCA9IFtdO1xuICAgIC8vIENhbGN1bGF0ZSBURi1JREYgdmFsdWUgZm9yIGVhY2ggdGVybSwgaW4gZWFjaCBkb2N1bWVudCwgZm9yIGVhY2ggaW5kZXguXG4gICAgY29uc3QgZG9jdW1lbnRJRHNMZW5ndGggPSBkb2N1bWVudElEcy5sZW5ndGg7XG4gICAgZm9yKGxldCBrID0gMDsgayA8IGRvY3VtZW50SURzTGVuZ3RoOyBrKyspe1xuICAgICAgICB2YXIgX29yYW1hRnJlcXVlbmNpZXNfaW50ZXJuYWxJZDtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChpbmRleC5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGRvY3VtZW50SURzW2tdKTtcbiAgICAgICAgY29uc3QgdGYgPSAob3JhbWFGcmVxdWVuY2llcyA9PT0gbnVsbCB8fCBvcmFtYUZyZXF1ZW5jaWVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29yYW1hRnJlcXVlbmNpZXNfaW50ZXJuYWxJZCA9IG9yYW1hRnJlcXVlbmNpZXNbaW50ZXJuYWxJZF0pID09PSBudWxsIHx8IF9vcmFtYUZyZXF1ZW5jaWVzX2ludGVybmFsSWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcmFtYUZyZXF1ZW5jaWVzX2ludGVybmFsSWRbdGVybV0pID8/IDA7XG4gICAgICAgIGNvbnN0IGJtMjUgPSBCTTI1KHRmLCB0ZXJtT2NjdXJyZW5jZXMsIGNvbnRleHQuZG9jc0NvdW50LCBmaWVsZExlbmd0aHNbaW50ZXJuYWxJZF0sIGF2Z0ZpZWxkTGVuZ3RoLCBjb250ZXh0LnBhcmFtcy5yZWxldmFuY2UpO1xuICAgICAgICBzY29yZUxpc3QucHVzaChbXG4gICAgICAgICAgICBpbnRlcm5hbElkLFxuICAgICAgICAgICAgYm0yNVxuICAgICAgICBdKTtcbiAgICB9XG4gICAgcmV0dXJuIHNjb3JlTGlzdDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGUob3JhbWEsIHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgc2NoZW1hLCBpbmRleCwgcHJlZml4ID0gJycpIHtcbiAgICBpZiAoIWluZGV4KSB7XG4gICAgICAgIGluZGV4ID0ge1xuICAgICAgICAgICAgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICAgICAgaW5kZXhlczoge30sXG4gICAgICAgICAgICB2ZWN0b3JJbmRleGVzOiB7fSxcbiAgICAgICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzOiBbXSxcbiAgICAgICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzOiB7fSxcbiAgICAgICAgICAgIGZyZXF1ZW5jaWVzOiB7fSxcbiAgICAgICAgICAgIHRva2VuT2NjdXJyZW5jZXM6IHt9LFxuICAgICAgICAgICAgYXZnRmllbGRMZW5ndGg6IHt9LFxuICAgICAgICAgICAgZmllbGRMZW5ndGhzOiB7fVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtwcm9wLCB0eXBlXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEpKXtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAke3ByZWZpeH0ke3ByZWZpeCA/ICcuJyA6ICcnfSR7cHJvcH1gO1xuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICAgICAgICAvLyBOZXN0ZWRcbiAgICAgICAgICAgIGNyZWF0ZShvcmFtYSwgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCB0eXBlLCBpbmRleCwgcGF0aCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNWZWN0b3JUeXBlKHR5cGUpKSB7XG4gICAgICAgICAgICBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllcy5wdXNoKHBhdGgpO1xuICAgICAgICAgICAgaW5kZXguc2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXNbcGF0aF0gPSB0eXBlO1xuICAgICAgICAgICAgaW5kZXgudmVjdG9ySW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICBzaXplOiBnZXRWZWN0b3JTaXplKHR5cGUpLFxuICAgICAgICAgICAgICAgIHZlY3RvcnM6IHt9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaXNBcnJheSA9IC9cXFsvLnRlc3QodHlwZSk7XG4gICAgICAgICAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbltdJzpcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguaW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdCb29sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZTogW11cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyW10nOlxuICAgICAgICAgICAgICAgICAgICBpbmRleC5pbmRleGVzW3BhdGhdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0FWTCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiBhdmxDcmVhdGUoMCwgW10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcnJheVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZ1tdJzpcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguaW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdSYWRpeCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiByYWRpeENyZWF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcnJheVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpbmRleC5hdmdGaWVsZExlbmd0aFtwYXRoXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LmZyZXF1ZW5jaWVzW3BhdGhdID0ge307XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcGF0aF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguZmllbGRMZW5ndGhzW3BhdGhdID0ge307XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW0nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW1bXSc6XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LmluZGV4ZXNbcGF0aF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnRmxhdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiBmbGF0Q3JlYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2dlb3BvaW50JzpcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguaW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdCS0QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogYmtkQ3JlYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX1NDSEVNQV9UWVBFJywgQXJyYXkuaXNBcnJheSh0eXBlKSA/ICdhcnJheScgOiB0eXBlLCBwYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4LnNlYXJjaGFibGVQcm9wZXJ0aWVzLnB1c2gocGF0aCk7XG4gICAgICAgICAgICBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlc1twYXRoXSA9IHR5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xufVxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0U2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGNvbnN0IHsgdHlwZSAsIG5vZGUgIH0gPSBpbmRleC5pbmRleGVzW3Byb3BdO1xuICAgIHN3aXRjaCh0eXBlKXtcbiAgICAgICAgY2FzZSAnQm9vbCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbm9kZVt2YWx1ZSA/ICd0cnVlJyA6ICdmYWxzZSddLnB1c2goaW50ZXJuYWxJZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0FWTCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXZsSW5zZXJ0KG5vZGUsIHZhbHVlLCBbXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsSWRcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnUmFkaXgnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IHRva2VuaXplci50b2tlbml6ZSh2YWx1ZSwgbGFuZ3VhZ2UsIHByb3ApO1xuICAgICAgICAgICAgICAgIGF3YWl0IGltcGxlbWVudGF0aW9uLmluc2VydERvY3VtZW50U2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCBpbnRlcm5hbElkLCB0b2tlbnMsIGRvY3NDb3VudCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiB0b2tlbnMpe1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBpbXBsZW1lbnRhdGlvbi5pbnNlcnRUb2tlblNjb3JlUGFyYW1ldGVycyhpbmRleCwgcHJvcCwgaW50ZXJuYWxJZCwgdG9rZW5zLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHJhZGl4SW5zZXJ0KG5vZGUsIHRva2VuLCBpbnRlcm5hbElkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0ZsYXQnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZsYXRJbnNlcnQobm9kZSwgdmFsdWUsIGludGVybmFsSWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdCS0QnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJrZEluc2VydChub2RlLCB2YWx1ZSwgW1xuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbElkXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydChpbXBsZW1lbnRhdGlvbiwgaW5kZXgsIHByb3AsIGlkLCB2YWx1ZSwgc2NoZW1hVHlwZSwgbGFuZ3VhZ2UsIHRva2VuaXplciwgZG9jc0NvdW50KSB7XG4gICAgaWYgKGlzVmVjdG9yVHlwZShzY2hlbWFUeXBlKSkge1xuICAgICAgICByZXR1cm4gaW5zZXJ0VmVjdG9yKGluZGV4LCBwcm9wLCB2YWx1ZSwgaWQpO1xuICAgIH1cbiAgICBpZiAoIWlzQXJyYXlUeXBlKHNjaGVtYVR5cGUpKSB7XG4gICAgICAgIHJldHVybiBpbnNlcnRTY2FsYXIoaW1wbGVtZW50YXRpb24sIGluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIHNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxuICAgIGNvbnN0IGlubmVyU2NoZW1hVHlwZSA9IGdldElubmVyVHlwZShzY2hlbWFUeXBlKTtcbiAgICBjb25zdCBlbGVtZW50cyA9IHZhbHVlO1xuICAgIGNvbnN0IGVsZW1lbnRzTGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBlbGVtZW50c0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgaW5zZXJ0U2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIGVsZW1lbnRzW2ldLCBpbm5lclNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5zZXJ0VmVjdG9yKGluZGV4LCBwcm9wLCB2YWx1ZSwgaWQpIHtcbiAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkpIHtcbiAgICAgICAgdmFsdWUgPSBuZXcgRmxvYXQzMkFycmF5KHZhbHVlKTtcbiAgICB9XG4gICAgY29uc3Qgc2l6ZSA9IGluZGV4LnZlY3RvckluZGV4ZXNbcHJvcF0uc2l6ZTtcbiAgICBjb25zdCBtYWduaXR1ZGUgPSBnZXRNYWduaXR1ZGUodmFsdWUsIHNpemUpO1xuICAgIGluZGV4LnZlY3RvckluZGV4ZXNbcHJvcF0udmVjdG9yc1tpZF0gPSBbXG4gICAgICAgIG1hZ25pdHVkZSxcbiAgICAgICAgdmFsdWVcbiAgICBdO1xufVxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlU2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGlmIChpc1ZlY3RvclR5cGUoc2NoZW1hVHlwZSkpIHtcbiAgICAgICAgZGVsZXRlIGluZGV4LnZlY3RvckluZGV4ZXNbcHJvcF0udmVjdG9yc1tpZF07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB7IHR5cGUgLCBub2RlICB9ID0gaW5kZXguaW5kZXhlc1twcm9wXTtcbiAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgIGNhc2UgJ0FWTCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXZsUmVtb3ZlRG9jdW1lbnQobm9kZSwgaW50ZXJuYWxJZCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdCb29sJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib29sZWFuS2V5ID0gdmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gbm9kZVtib29sZWFuS2V5XS5pbmRleE9mKGludGVybmFsSWQpO1xuICAgICAgICAgICAgICAgIG5vZGVbdmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnXS5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdSYWRpeCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gYXdhaXQgdG9rZW5pemVyLnRva2VuaXplKHZhbHVlLCBsYW5ndWFnZSwgcHJvcCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgaW1wbGVtZW50YXRpb24ucmVtb3ZlRG9jdW1lbnRTY29yZVBhcmFtZXRlcnMoaW5kZXgsIHByb3AsIGlkLCBkb2NzQ291bnQpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKXtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaW1wbGVtZW50YXRpb24ucmVtb3ZlVG9rZW5TY29yZVBhcmFtZXRlcnMoaW5kZXgsIHByb3AsIHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgcmFkaXhSZW1vdmVEb2N1bWVudChub2RlLCB0b2tlbiwgaW50ZXJuYWxJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdGbGF0JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmbGF0UmVtb3ZlRG9jdW1lbnQobm9kZSwgaW50ZXJuYWxJZCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdCS0QnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJrZFJlbW92ZURvY0J5SUQobm9kZSwgdmFsdWUsIGludGVybmFsSWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQpIHtcbiAgICBpZiAoIWlzQXJyYXlUeXBlKHNjaGVtYVR5cGUpKSB7XG4gICAgICAgIHJldHVybiByZW1vdmVTY2FsYXIoaW1wbGVtZW50YXRpb24sIGluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIHNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxuICAgIGNvbnN0IGlubmVyU2NoZW1hVHlwZSA9IGdldElubmVyVHlwZShzY2hlbWFUeXBlKTtcbiAgICBjb25zdCBlbGVtZW50cyA9IHZhbHVlO1xuICAgIGNvbnN0IGVsZW1lbnRzTGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBlbGVtZW50c0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgcmVtb3ZlU2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIGVsZW1lbnRzW2ldLCBpbm5lclNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaChjb250ZXh0LCBpbmRleCwgcHJvcCwgdGVybSkge1xuICAgIGlmICghKHByb3AgaW4gaW5kZXgudG9rZW5PY2N1cnJlbmNlcykpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCB7IG5vZGUgLCB0eXBlICB9ID0gaW5kZXguaW5kZXhlc1twcm9wXTtcbiAgICBpZiAodHlwZSAhPT0gJ1JhZGl4Jykge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignV1JPTkdfU0VBUkNIX1BST1BFUlRZX1RZUEUnLCBwcm9wKTtcbiAgICB9XG4gICAgY29uc3QgeyBleGFjdCAsIHRvbGVyYW5jZSAgfSA9IGNvbnRleHQucGFyYW1zO1xuICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHJhZGl4RmluZChub2RlLCB7XG4gICAgICAgIHRlcm0sXG4gICAgICAgIGV4YWN0LFxuICAgICAgICB0b2xlcmFuY2VcbiAgICB9KTtcbiAgICBjb25zdCBpZHMgPSBuZXcgU2V0KCk7XG4gICAgZm9yKGNvbnN0IGtleSBpbiBzZWFyY2hSZXN1bHQpe1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHNlYXJjaFJlc3VsdFtrZXldKXtcbiAgICAgICAgICAgIGlkcy5hZGQoaWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LmluZGV4LmNhbGN1bGF0ZVJlc3VsdFNjb3Jlcyhjb250ZXh0LCBpbmRleCwgcHJvcCwgdGVybSwgQXJyYXkuZnJvbShpZHMpKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hCeVdoZXJlQ2xhdXNlKGNvbnRleHQsIGluZGV4LCBmaWx0ZXJzKSB7XG4gICAgY29uc3QgZmlsdGVyS2V5cyA9IE9iamVjdC5rZXlzKGZpbHRlcnMpO1xuICAgIGNvbnN0IGZpbHRlcnNNYXAgPSBmaWx0ZXJLZXlzLnJlZHVjZSgoYWNjLCBrZXkpPT4oe1xuICAgICAgICAgICAgW2tleV06IFtdLFxuICAgICAgICAgICAgLi4uYWNjXG4gICAgICAgIH0pLCB7fSk7XG4gICAgZm9yIChjb25zdCBwYXJhbSBvZiBmaWx0ZXJLZXlzKXtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gZmlsdGVyc1twYXJhbV07XG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXguaW5kZXhlc1twYXJhbV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5LTk9XTl9GSUxURVJfUFJPUEVSVFknLCBwYXJhbSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBub2RlICwgdHlwZSAsIGlzQXJyYXkgIH0gPSBpbmRleC5pbmRleGVzW3BhcmFtXTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdCb29sJykge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gbm9kZTtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkSURzID0gaWR4W29wZXJhdGlvbi50b1N0cmluZygpXTtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2goZmlsdGVyc01hcFtwYXJhbV0sIGZpbHRlcmVkSURzKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnQktEJykge1xuICAgICAgICAgICAgbGV0IHJlcU9wZXJhdGlvbjtcbiAgICAgICAgICAgIGlmICgncmFkaXVzJyBpbiBvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXFPcGVyYXRpb24gPSAncmFkaXVzJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJ3BvbHlnb24nIGluIG9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHJlcU9wZXJhdGlvbiA9ICdwb2x5Z29uJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG9wZXJhdGlvbiAke29wZXJhdGlvbn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXFPcGVyYXRpb24gPT09ICdyYWRpdXMnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSAsIGNvb3JkaW5hdGVzICwgdW5pdCA9J20nICwgaW5zaWRlID10cnVlICwgaGlnaFByZWNpc2lvbiA9ZmFsc2UgIH0gPSBvcGVyYXRpb25bcmVxT3BlcmF0aW9uXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZUluTWV0ZXJzID0gY29udmVydERpc3RhbmNlVG9NZXRlcnModmFsdWUsIHVuaXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkcyA9IHNlYXJjaEJ5UmFkaXVzKG5vZGUucm9vdCwgY29vcmRpbmF0ZXMsIGRpc3RhbmNlSW5NZXRlcnMsIGluc2lkZSwgdW5kZWZpbmVkLCBoaWdoUHJlY2lzaW9uKTtcbiAgICAgICAgICAgICAgICAvLyBAdG9kbzogY29udmVydCB0aGlzIGludG8gYSBmb3IgbG9vcFxuICAgICAgICAgICAgICAgIHNhZmVBcnJheVB1c2goZmlsdGVyc01hcFtwYXJhbV0sIGlkcy5tYXAoKHsgZG9jSURzICB9KT0+ZG9jSURzKS5mbGF0KCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvb3JkaW5hdGVzICwgaW5zaWRlID10cnVlICwgaGlnaFByZWNpc2lvbiA9ZmFsc2UgIH0gPSBvcGVyYXRpb25bcmVxT3BlcmF0aW9uXTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZHMgPSBzZWFyY2hCeVBvbHlnb24obm9kZS5yb290LCBjb29yZGluYXRlcywgaW5zaWRlLCB1bmRlZmluZWQsIGhpZ2hQcmVjaXNpb24pO1xuICAgICAgICAgICAgICAgIC8vIEB0b2RvOiBjb252ZXJ0IHRoaXMgaW50byBhIGZvciBsb29wXG4gICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChmaWx0ZXJzTWFwW3BhcmFtXSwgaWRzLm1hcCgoeyBkb2NJRHMgIH0pPT5kb2NJRHMpLmZsYXQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ1JhZGl4JyAmJiAodHlwZW9mIG9wZXJhdGlvbiA9PT0gJ3N0cmluZycgfHwgQXJyYXkuaXNBcnJheShvcGVyYXRpb24pKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCByYXcgb2YgW1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvblxuICAgICAgICAgICAgXS5mbGF0KCkpe1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlcm0gPSBhd2FpdCBjb250ZXh0LnRva2VuaXplci50b2tlbml6ZShyYXcsIGNvbnRleHQubGFuZ3VhZ2UsIHBhcmFtKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdGVybSl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkSURzUmVzdWx0cyA9IHJhZGl4RmluZChub2RlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtOiB0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNhZmVBcnJheVB1c2goZmlsdGVyc01hcFtwYXJhbV0sIE9iamVjdC52YWx1ZXMoZmlsdGVyZWRJRHNSZXN1bHRzKS5mbGF0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbktleXMgPSBPYmplY3Qua2V5cyhvcGVyYXRpb24pO1xuICAgICAgICBpZiAob3BlcmF0aW9uS2V5cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9GSUxURVJfT1BFUkFUSU9OJywgb3BlcmF0aW9uS2V5cy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnRmxhdCcpIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChmaWx0ZXJzTWFwW3BhcmFtXSwgZmxhdEZpbHRlckFycihub2RlLCBvcGVyYXRpb24pKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChmaWx0ZXJzTWFwW3BhcmFtXSwgZmxhdEZpbHRlcihub2RlLCBvcGVyYXRpb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnQVZMJykge1xuICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uT3B0ID0gb3BlcmF0aW9uS2V5c1swXTtcbiAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvblZhbHVlID0gb3BlcmF0aW9uW29wZXJhdGlvbk9wdF07XG4gICAgICAgICAgICBsZXQgZmlsdGVyZWRJRHMgPSBbXTtcbiAgICAgICAgICAgIHN3aXRjaChvcGVyYXRpb25PcHQpe1xuICAgICAgICAgICAgICAgIGNhc2UgJ2d0JzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRJRHMgPSBhdmxHcmVhdGVyVGhhbihub2RlLCBvcGVyYXRpb25WYWx1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdndGUnOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZElEcyA9IGF2bEdyZWF0ZXJUaGFuKG5vZGUsIG9wZXJhdGlvblZhbHVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnbHQnOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZElEcyA9IGF2bExlc3NUaGFuKG5vZGUsIG9wZXJhdGlvblZhbHVlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2x0ZSc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkSURzID0gYXZsTGVzc1RoYW4obm9kZSwgb3BlcmF0aW9uVmFsdWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdlcSc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkSURzID0gYXZsRmluZChub2RlLCBvcGVyYXRpb25WYWx1ZSkgPz8gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2JldHdlZW4nOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbbWluLCBtYXhdID0gb3BlcmF0aW9uVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZElEcyA9IGF2bFJhbmdlU2VhcmNoKG5vZGUsIG1pbiwgbWF4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYWZlQXJyYXlQdXNoKGZpbHRlcnNNYXBbcGFyYW1dLCBmaWx0ZXJlZElEcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQU5EIG9wZXJhdGlvbjogY2FsY3VsYXRlIHRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhbGwgdGhlIElEcyBpbiBmaWx0ZXJNYXBcbiAgICBjb25zdCByZXN1bHQgPSBpbnRlcnNlY3QoT2JqZWN0LnZhbHVlcyhmaWx0ZXJzTWFwKSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZWFyY2hhYmxlUHJvcGVydGllcyhpbmRleCkge1xuICAgIHJldHVybiBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllcztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyhpbmRleCkge1xuICAgIHJldHVybiBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcztcbn1cbmZ1bmN0aW9uIGxvYWRSYWRpeE5vZGUobm9kZSkge1xuICAgIGNvbnN0IGNvbnZlcnRlZE5vZGUgPSByYWRpeENyZWF0ZShub2RlLmUsIG5vZGUucywgbm9kZS5rKTtcbiAgICBjb252ZXJ0ZWROb2RlLmQgPSBub2RlLmQ7XG4gICAgY29udmVydGVkTm9kZS53ID0gbm9kZS53O1xuICAgIGZvciAoY29uc3QgY2hpbGRyZW5LZXkgb2YgT2JqZWN0LmtleXMobm9kZS5jKSl7XG4gICAgICAgIGNvbnZlcnRlZE5vZGUuY1tjaGlsZHJlbktleV0gPSBsb2FkUmFkaXhOb2RlKG5vZGUuY1tjaGlsZHJlbktleV0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udmVydGVkTm9kZTtcbn1cbmZ1bmN0aW9uIGxvYWRGbGF0Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbnVtYmVyVG9Eb2N1bWVudElkOiBuZXcgTWFwKG5vZGUpXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNhdmVGbGF0Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20obm9kZS5udW1iZXJUb0RvY3VtZW50SWQuZW50cmllcygpKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkKHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgcmF3KSB7XG4gICAgY29uc3QgeyBpbmRleGVzOiByYXdJbmRleGVzICwgdmVjdG9ySW5kZXhlczogcmF3VmVjdG9ySW5kZXhlcyAsIHNlYXJjaGFibGVQcm9wZXJ0aWVzICwgc2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMgLCBmcmVxdWVuY2llcyAsIHRva2VuT2NjdXJyZW5jZXMgLCBhdmdGaWVsZExlbmd0aCAsIGZpZWxkTGVuZ3RocyAgfSA9IHJhdztcbiAgICBjb25zdCBpbmRleGVzID0ge307XG4gICAgY29uc3QgdmVjdG9ySW5kZXhlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBPYmplY3Qua2V5cyhyYXdJbmRleGVzKSl7XG4gICAgICAgIGNvbnN0IHsgbm9kZSAsIHR5cGUgLCBpc0FycmF5ICB9ID0gcmF3SW5kZXhlc1twcm9wXTtcbiAgICAgICAgc3dpdGNoKHR5cGUpe1xuICAgICAgICAgICAgY2FzZSAnUmFkaXgnOlxuICAgICAgICAgICAgICAgIGluZGV4ZXNbcHJvcF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdSYWRpeCcsXG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IGxvYWRSYWRpeE5vZGUobm9kZSksXG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRmxhdCc6XG4gICAgICAgICAgICAgICAgaW5kZXhlc1twcm9wXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0ZsYXQnLFxuICAgICAgICAgICAgICAgICAgICBub2RlOiBsb2FkRmxhdE5vZGUobm9kZSksXG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpbmRleGVzW3Byb3BdID0gcmF3SW5kZXhlc1twcm9wXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGlkeCBvZiBPYmplY3Qua2V5cyhyYXdWZWN0b3JJbmRleGVzKSl7XG4gICAgICAgIGNvbnN0IHZlY3RvcnMgPSByYXdWZWN0b3JJbmRleGVzW2lkeF0udmVjdG9ycztcbiAgICAgICAgZm9yKGNvbnN0IHZlYyBpbiB2ZWN0b3JzKXtcbiAgICAgICAgICAgIHZlY3RvcnNbdmVjXSA9IFtcbiAgICAgICAgICAgICAgICB2ZWN0b3JzW3ZlY11bMF0sXG4gICAgICAgICAgICAgICAgbmV3IEZsb2F0MzJBcnJheSh2ZWN0b3JzW3ZlY11bMV0pXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHZlY3RvckluZGV4ZXNbaWR4XSA9IHtcbiAgICAgICAgICAgIHNpemU6IHJhd1ZlY3RvckluZGV4ZXNbaWR4XS5zaXplLFxuICAgICAgICAgICAgdmVjdG9yc1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsXG4gICAgICAgIGluZGV4ZXMsXG4gICAgICAgIHZlY3RvckluZGV4ZXMsXG4gICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzLFxuICAgICAgICBzZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgZnJlcXVlbmNpZXMsXG4gICAgICAgIHRva2VuT2NjdXJyZW5jZXMsXG4gICAgICAgIGF2Z0ZpZWxkTGVuZ3RoLFxuICAgICAgICBmaWVsZExlbmd0aHNcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmUoaW5kZXgpIHtcbiAgICBjb25zdCB7IGluZGV4ZXMgLCB2ZWN0b3JJbmRleGVzICwgc2VhcmNoYWJsZVByb3BlcnRpZXMgLCBzZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyAsIGZyZXF1ZW5jaWVzICwgdG9rZW5PY2N1cnJlbmNlcyAsIGF2Z0ZpZWxkTGVuZ3RoICwgZmllbGRMZW5ndGhzICB9ID0gaW5kZXg7XG4gICAgY29uc3QgdmVjdG9ySW5kZXhlc0FzQXJyYXlzID0ge307XG4gICAgZm9yIChjb25zdCBpZHggb2YgT2JqZWN0LmtleXModmVjdG9ySW5kZXhlcykpe1xuICAgICAgICBjb25zdCB2ZWN0b3JzID0gdmVjdG9ySW5kZXhlc1tpZHhdLnZlY3RvcnM7XG4gICAgICAgIGZvcihjb25zdCB2ZWMgaW4gdmVjdG9ycyl7XG4gICAgICAgICAgICB2ZWN0b3JzW3ZlY10gPSBbXG4gICAgICAgICAgICAgICAgdmVjdG9yc1t2ZWNdWzBdLFxuICAgICAgICAgICAgICAgIEFycmF5LmZyb20odmVjdG9yc1t2ZWNdWzFdKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICB2ZWN0b3JJbmRleGVzQXNBcnJheXNbaWR4XSA9IHtcbiAgICAgICAgICAgIHNpemU6IHZlY3RvckluZGV4ZXNbaWR4XS5zaXplLFxuICAgICAgICAgICAgdmVjdG9yc1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHNhdmVkSW5kZXhlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3Qua2V5cyhpbmRleGVzKSl7XG4gICAgICAgIGNvbnN0IHsgdHlwZSAsIG5vZGUgLCBpc0FycmF5ICB9ID0gaW5kZXhlc1tuYW1lXTtcbiAgICAgICAgaWYgKHR5cGUgIT09ICdGbGF0Jykge1xuICAgICAgICAgICAgc2F2ZWRJbmRleGVzW25hbWVdID0gaW5kZXhlc1tuYW1lXTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHNhdmVkSW5kZXhlc1tuYW1lXSA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdGbGF0JyxcbiAgICAgICAgICAgIG5vZGU6IHNhdmVGbGF0Tm9kZShub2RlKSxcbiAgICAgICAgICAgIGlzQXJyYXlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5kZXhlczogc2F2ZWRJbmRleGVzLFxuICAgICAgICB2ZWN0b3JJbmRleGVzOiB2ZWN0b3JJbmRleGVzQXNBcnJheXMsXG4gICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzLFxuICAgICAgICBzZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgZnJlcXVlbmNpZXMsXG4gICAgICAgIHRva2VuT2NjdXJyZW5jZXMsXG4gICAgICAgIGF2Z0ZpZWxkTGVuZ3RoLFxuICAgICAgICBmaWVsZExlbmd0aHNcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUluZGV4KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZSxcbiAgICAgICAgaW5zZXJ0LFxuICAgICAgICByZW1vdmUsXG4gICAgICAgIGluc2VydERvY3VtZW50U2NvcmVQYXJhbWV0ZXJzLFxuICAgICAgICBpbnNlcnRUb2tlblNjb3JlUGFyYW1ldGVycyxcbiAgICAgICAgcmVtb3ZlRG9jdW1lbnRTY29yZVBhcmFtZXRlcnMsXG4gICAgICAgIHJlbW92ZVRva2VuU2NvcmVQYXJhbWV0ZXJzLFxuICAgICAgICBjYWxjdWxhdGVSZXN1bHRTY29yZXMsXG4gICAgICAgIHNlYXJjaCxcbiAgICAgICAgc2VhcmNoQnlXaGVyZUNsYXVzZSxcbiAgICAgICAgZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXMsXG4gICAgICAgIGdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzLFxuICAgICAgICBsb2FkLFxuICAgICAgICBzYXZlXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgaXNWZWN0b3JUeXBlIH0gZnJvbSAnLi9kZWZhdWx0cy5qcyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbERvY3VtZW50SWQgfSBmcm9tICcuL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzJztcbmltcG9ydCB7IHNhZmVBcnJheVB1c2ggfSBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmZ1bmN0aW9uIGlubmVyQ3JlYXRlKG9yYW1hLCBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSwgc29ydGFibGVEZW5pZWRQcm9wZXJ0aWVzLCBwcmVmaXgpIHtcbiAgICBjb25zdCBzb3J0ZXIgPSB7XG4gICAgICAgIGxhbmd1YWdlOiBvcmFtYS50b2tlbml6ZXIubGFuZ3VhZ2UsXG4gICAgICAgIHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSxcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgaXNTb3J0ZWQ6IHRydWUsXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllczogW10sXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlczoge30sXG4gICAgICAgIHNvcnRzOiB7fVxuICAgIH07XG4gICAgZm9yIChjb25zdCBbcHJvcCwgdHlwZV0gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hKSl7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgJHtwcmVmaXh9JHtwcmVmaXggPyAnLicgOiAnJ30ke3Byb3B9YDtcbiAgICAgICAgaWYgKHNvcnRhYmxlRGVuaWVkUHJvcGVydGllcy5pbmNsdWRlcyhwYXRoKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICAgICAgLy8gTmVzdGVkXG4gICAgICAgICAgICBjb25zdCByZXQgPSBpbm5lckNyZWF0ZShvcmFtYSwgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCB0eXBlLCBzb3J0YWJsZURlbmllZFByb3BlcnRpZXMsIHBhdGgpO1xuICAgICAgICAgICAgc2FmZUFycmF5UHVzaChzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzLCByZXQuc29ydGFibGVQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIHNvcnRlci5zb3J0cyA9IHtcbiAgICAgICAgICAgICAgICAuLi5zb3J0ZXIuc29ydHMsXG4gICAgICAgICAgICAgICAgLi4ucmV0LnNvcnRzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc29ydGVyLnNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlcyA9IHtcbiAgICAgICAgICAgICAgICAuLi5zb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzLFxuICAgICAgICAgICAgICAgIC4uLnJldC5zb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVmVjdG9yVHlwZSh0eXBlKSkge1xuICAgICAgICAgICAgc3dpdGNoKHR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgc29ydGVyLnNvcnRhYmxlUHJvcGVydGllcy5wdXNoKHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzW3BhdGhdID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgc29ydGVyLnNvcnRzW3BhdGhdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jczogbmV3IE1hcCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJlZERvY3NUb1JlbW92ZTogbmV3IE1hcCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJlZERvY3M6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdnZW9wb2ludCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZW51bSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW1bXSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbltdJzpcbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXJbXSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nW10nOlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9TT1JUX1NDSEVNQV9UWVBFJywgQXJyYXkuaXNBcnJheSh0eXBlKSA/ICdhcnJheScgOiB0eXBlLCBwYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc29ydGVyO1xufVxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlKG9yYW1hLCBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSwgY29uZmlnKSB7XG4gICAgY29uc3QgaXNTb3J0RW5hYmxlZCA9IChjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcuZW5hYmxlZCkgIT09IGZhbHNlO1xuICAgIGlmICghaXNTb3J0RW5hYmxlZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGlubmVyQ3JlYXRlKG9yYW1hLCBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSwgKGNvbmZpZyB8fCB7fSkudW5zb3J0YWJsZVByb3BlcnRpZXMgfHwgW10sICcnKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGluc2VydChzb3J0ZXIsIHByb3AsIGlkLCB2YWx1ZSkge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzb3J0ZXIuaXNTb3J0ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHNvcnRlci5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBjb25zdCBzID0gc29ydGVyLnNvcnRzW3Byb3BdO1xuICAgIHMuZG9jcy5zZXQoaW50ZXJuYWxJZCwgcy5vcmRlcmVkRG9jcy5sZW5ndGgpO1xuICAgIHMub3JkZXJlZERvY3MucHVzaChbXG4gICAgICAgIGludGVybmFsSWQsXG4gICAgICAgIHZhbHVlXG4gICAgXSk7XG59XG5mdW5jdGlvbiBlbnN1cmVJc1NvcnRlZChzb3J0ZXIpIHtcbiAgICBpZiAoc29ydGVyLmlzU29ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzb3J0ZXIuZW5hYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBPYmplY3Qua2V5cyhzb3J0ZXIuc29ydHMpO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBwcm9wZXJ0aWVzKXtcbiAgICAgICAgZW5zdXJlUHJvcGVydHlJc1NvcnRlZChzb3J0ZXIsIHByb3ApO1xuICAgIH1cbiAgICBzb3J0ZXIuaXNTb3J0ZWQgPSB0cnVlO1xufVxuZnVuY3Rpb24gc3RyaW5nU29ydChsYW5ndWFnZSwgdmFsdWUsIGQpIHtcbiAgICByZXR1cm4gdmFsdWVbMV0ubG9jYWxlQ29tcGFyZShkWzFdLCBsYW5ndWFnZSk7XG59XG5mdW5jdGlvbiBudW1iZXJTb3J0KHZhbHVlLCBkKSB7XG4gICAgcmV0dXJuIHZhbHVlWzFdIC0gZFsxXTtcbn1cbmZ1bmN0aW9uIGJvb2xlYW5Tb3J0KHZhbHVlLCBkKSB7XG4gICAgcmV0dXJuIGRbMV0gPyAtMSA6IDE7XG59XG5mdW5jdGlvbiBlbnN1cmVQcm9wZXJ0eUlzU29ydGVkKHNvcnRlciwgcHJvcCkge1xuICAgIGNvbnN0IHMgPSBzb3J0ZXIuc29ydHNbcHJvcF07XG4gICAgbGV0IHByZWRpY2F0ZTtcbiAgICBzd2l0Y2gocy50eXBlKXtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IHN0cmluZ1NvcnQuYmluZChudWxsLCBzb3J0ZXIubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBudW1iZXJTb3J0LmJpbmQobnVsbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBib29sZWFuU29ydC5iaW5kKG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHMub3JkZXJlZERvY3Muc29ydChwcmVkaWNhdGUpO1xuICAgIC8vIEluY3JlbWVudCBwb3NpdGlvbiBmb3IgdGhlIGdyZWF0aGVyIGRvY3VtZW50c1xuICAgIGNvbnN0IG9yZGVyZWREb2NzTGVuZ3RoID0gcy5vcmRlcmVkRG9jcy5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG9yZGVyZWREb2NzTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBkb2NJZCA9IHMub3JkZXJlZERvY3NbaV1bMF07XG4gICAgICAgIHMuZG9jcy5zZXQoZG9jSWQsIGkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVuc3VyZU9yZGVyZWREb2NzQXJlRGVsZXRlZChzb3J0ZXIpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gT2JqZWN0LmtleXMoc29ydGVyLnNvcnRzKTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcGVydGllcyl7XG4gICAgICAgIGVuc3VyZU9yZGVyZWREb2NzQXJlRGVsZXRlZEJ5UHJvcGVydHkoc29ydGVyLCBwcm9wKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWRCeVByb3BlcnR5KHNvcnRlciwgcHJvcCkge1xuICAgIGNvbnN0IHMgPSBzb3J0ZXIuc29ydHNbcHJvcF07XG4gICAgaWYgKCFzLm9yZGVyZWREb2NzVG9SZW1vdmUuc2l6ZSkgcmV0dXJuO1xuICAgIHMub3JkZXJlZERvY3MgPSBzLm9yZGVyZWREb2NzLmZpbHRlcigoZG9jKT0+IXMub3JkZXJlZERvY3NUb1JlbW92ZS5oYXMoZG9jWzBdKSk7XG4gICAgcy5vcmRlcmVkRG9jc1RvUmVtb3ZlLmNsZWFyKCk7XG59XG5hc3luYyBmdW5jdGlvbiByZW1vdmUoc29ydGVyLCBwcm9wLCBpZCkge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzID0gc29ydGVyLnNvcnRzW3Byb3BdO1xuICAgIGNvbnN0IGludGVybmFsSWQgPSBnZXRJbnRlcm5hbERvY3VtZW50SWQoc29ydGVyLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGNvbnN0IGluZGV4ID0gcy5kb2NzLmdldChpbnRlcm5hbElkKTtcbiAgICBpZiAoIWluZGV4KSByZXR1cm47XG4gICAgcy5kb2NzLmRlbGV0ZShpbnRlcm5hbElkKTtcbiAgICBzLm9yZGVyZWREb2NzVG9SZW1vdmUuc2V0KGludGVybmFsSWQsIHRydWUpO1xufVxuYXN5bmMgZnVuY3Rpb24gc29ydEJ5KHNvcnRlciwgZG9jSWRzLCBieSkge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1NPUlRfRElTQUJMRUQnKTtcbiAgICB9XG4gICAgY29uc3QgcHJvcGVydHkgPSBieS5wcm9wZXJ0eTtcbiAgICBjb25zdCBpc0Rlc2MgPSBieS5vcmRlciA9PT0gJ0RFU0MnO1xuICAgIGNvbnN0IHMgPSBzb3J0ZXIuc29ydHNbcHJvcGVydHldO1xuICAgIGlmICghcykge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5BQkxFX1RPX1NPUlRfT05fVU5LTk9XTl9GSUVMRCcsIHByb3BlcnR5LCBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzLmpvaW4oJywgJykpO1xuICAgIH1cbiAgICBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWRCeVByb3BlcnR5KHNvcnRlciwgcHJvcGVydHkpO1xuICAgIGVuc3VyZUlzU29ydGVkKHNvcnRlcik7XG4gICAgZG9jSWRzLnNvcnQoKGEsIGIpPT57XG4gICAgICAgIC8vIFRoaXMgc29ydCBhbGdvcml0aG0gd29ya3MgbGV2ZXJhZ2luZyBvblxuICAgICAgICAvLyB0aGF0IHMuZG9jcyBpcyBhIG1hcCBvZiBkb2NJZCAtPiBwb3NpdGlvblxuICAgICAgICAvLyBJZiBhIGRvY3VtZW50IGlzIG5vdCBpbmRleGVkLCBpdCB3aWxsIGJlIG5vdCBwcmVzZW50IGluIHRoZSBtYXBcbiAgICAgICAgY29uc3QgaW5kZXhPZkEgPSBzLmRvY3MuZ2V0KGdldEludGVybmFsRG9jdW1lbnRJZChzb3J0ZXIuc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCBhWzBdKSk7XG4gICAgICAgIGNvbnN0IGluZGV4T2ZCID0gcy5kb2NzLmdldChnZXRJbnRlcm5hbERvY3VtZW50SWQoc29ydGVyLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgYlswXSkpO1xuICAgICAgICBjb25zdCBpc0FJbmRleGVkID0gdHlwZW9mIGluZGV4T2ZBICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgY29uc3QgaXNCSW5kZXhlZCA9IHR5cGVvZiBpbmRleE9mQiAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgIGlmICghaXNBSW5kZXhlZCAmJiAhaXNCSW5kZXhlZCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdW5pbmRleGVkIGRvY3VtZW50cyBhcmUgYWx3YXlzIGF0IHRoZSBlbmRcbiAgICAgICAgaWYgKCFpc0FJbmRleGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQkluZGV4ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNEZXNjID8gaW5kZXhPZkIgLSBpbmRleE9mQSA6IGluZGV4T2ZBIC0gaW5kZXhPZkI7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRvY0lkcztcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFNvcnRhYmxlUHJvcGVydGllcyhzb3J0ZXIpIHtcbiAgICBpZiAoIXNvcnRlci5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHNvcnRlci5zb3J0YWJsZVByb3BlcnRpZXM7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRTb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMoc29ydGVyKSB7XG4gICAgaWYgKCFzb3J0ZXIuZW5hYmxlZCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHJldHVybiBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWQoc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCByYXcpIHtcbiAgICBjb25zdCByYXdEb2N1bWVudCA9IHJhdztcbiAgICBpZiAoIXJhd0RvY3VtZW50LmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHNvcnRzID0gT2JqZWN0LmtleXMocmF3RG9jdW1lbnQuc29ydHMpLnJlZHVjZSgoYWNjLCBwcm9wKT0+e1xuICAgICAgICBjb25zdCB7IGRvY3MgLCBvcmRlcmVkRG9jcyAsIHR5cGUgIH0gPSByYXdEb2N1bWVudC5zb3J0c1twcm9wXTtcbiAgICAgICAgYWNjW3Byb3BdID0ge1xuICAgICAgICAgICAgZG9jczogbmV3IE1hcChPYmplY3QuZW50cmllcyhkb2NzKS5tYXAoKFtrLCB2XSk9PltcbiAgICAgICAgICAgICAgICAgICAgK2ssXG4gICAgICAgICAgICAgICAgICAgIHZcbiAgICAgICAgICAgICAgICBdKSksXG4gICAgICAgICAgICBvcmRlcmVkRG9jc1RvUmVtb3ZlOiBuZXcgTWFwKCksXG4gICAgICAgICAgICBvcmRlcmVkRG9jcyxcbiAgICAgICAgICAgIHR5cGVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICBsYW5ndWFnZTogcmF3RG9jdW1lbnQubGFuZ3VhZ2UsXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllczogcmF3RG9jdW1lbnQuc29ydGFibGVQcm9wZXJ0aWVzLFxuICAgICAgICBzb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXM6IHJhd0RvY3VtZW50LnNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgc29ydHMsXG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGlzU29ydGVkOiByYXdEb2N1bWVudC5pc1NvcnRlZFxuICAgIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZShzb3J0ZXIpIHtcbiAgICBpZiAoIXNvcnRlci5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWQoc29ydGVyKTtcbiAgICBlbnN1cmVJc1NvcnRlZChzb3J0ZXIpO1xuICAgIGNvbnN0IHNvcnRzID0gT2JqZWN0LmtleXMoc29ydGVyLnNvcnRzKS5yZWR1Y2UoKGFjYywgcHJvcCk9PntcbiAgICAgICAgY29uc3QgeyBkb2NzICwgb3JkZXJlZERvY3MgLCB0eXBlICB9ID0gc29ydGVyLnNvcnRzW3Byb3BdO1xuICAgICAgICBhY2NbcHJvcF0gPSB7XG4gICAgICAgICAgICBkb2NzOiBPYmplY3QuZnJvbUVudHJpZXMoZG9jcy5lbnRyaWVzKCkpLFxuICAgICAgICAgICAgb3JkZXJlZERvY3MsXG4gICAgICAgICAgICB0eXBlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGxhbmd1YWdlOiBzb3J0ZXIubGFuZ3VhZ2UsXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllczogc29ydGVyLnNvcnRhYmxlUHJvcGVydGllcyxcbiAgICAgICAgc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzOiBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzLFxuICAgICAgICBzb3J0cyxcbiAgICAgICAgZW5hYmxlZDogc29ydGVyLmVuYWJsZWQsXG4gICAgICAgIGlzU29ydGVkOiBzb3J0ZXIuaXNTb3J0ZWRcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNvcnRlcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGUsXG4gICAgICAgIGluc2VydCxcbiAgICAgICAgcmVtb3ZlLFxuICAgICAgICBzYXZlLFxuICAgICAgICBsb2FkLFxuICAgICAgICBzb3J0QnksXG4gICAgICAgIGdldFNvcnRhYmxlUHJvcGVydGllcyxcbiAgICAgICAgZ2V0U29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c29ydGVyLmpzLm1hcCIsImNvbnN0IERJQUNSSVRJQ1NfQ0hBUkNPREVfU1RBUlQgPSAxOTI7XG5jb25zdCBESUFDUklUSUNTX0NIQVJDT0RFX0VORCA9IDM4MztcbmNvbnN0IENIQVJDT0RFX1JFUExBQ0VfTUFQUElORyA9IFtcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NSxcbiAgICA2NyxcbiAgICA2OSxcbiAgICA2OSxcbiAgICA2OSxcbiAgICA2OSxcbiAgICA3MyxcbiAgICA3MyxcbiAgICA3MyxcbiAgICA3MyxcbiAgICA2OSxcbiAgICA3OCxcbiAgICA3OSxcbiAgICA3OSxcbiAgICA3OSxcbiAgICA3OSxcbiAgICA3OSxcbiAgICBudWxsLFxuICAgIDc5LFxuICAgIDg1LFxuICAgIDg1LFxuICAgIDg1LFxuICAgIDg1LFxuICAgIDg5LFxuICAgIDgwLFxuICAgIDExNSxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5NyxcbiAgICA5OSxcbiAgICAxMDEsXG4gICAgMTAxLFxuICAgIDEwMSxcbiAgICAxMDEsXG4gICAgMTA1LFxuICAgIDEwNSxcbiAgICAxMDUsXG4gICAgMTA1LFxuICAgIDEwMSxcbiAgICAxMTAsXG4gICAgMTExLFxuICAgIDExMSxcbiAgICAxMTEsXG4gICAgMTExLFxuICAgIDExMSxcbiAgICBudWxsLFxuICAgIDExMSxcbiAgICAxMTcsXG4gICAgMTE3LFxuICAgIDExNyxcbiAgICAxMTcsXG4gICAgMTIxLFxuICAgIDExMixcbiAgICAxMjEsXG4gICAgNjUsXG4gICAgOTcsXG4gICAgNjUsXG4gICAgOTcsXG4gICAgNjUsXG4gICAgOTcsXG4gICAgNjcsXG4gICAgOTksXG4gICAgNjcsXG4gICAgOTksXG4gICAgNjcsXG4gICAgOTksXG4gICAgNjcsXG4gICAgOTksXG4gICAgNjgsXG4gICAgMTAwLFxuICAgIDY4LFxuICAgIDEwMCxcbiAgICA2OSxcbiAgICAxMDEsXG4gICAgNjksXG4gICAgMTAxLFxuICAgIDY5LFxuICAgIDEwMSxcbiAgICA2OSxcbiAgICAxMDEsXG4gICAgNjksXG4gICAgMTAxLFxuICAgIDcxLFxuICAgIDEwMyxcbiAgICA3MSxcbiAgICAxMDMsXG4gICAgNzEsXG4gICAgMTAzLFxuICAgIDcxLFxuICAgIDEwMyxcbiAgICA3MixcbiAgICAxMDQsXG4gICAgNzIsXG4gICAgMTA0LFxuICAgIDczLFxuICAgIDEwNSxcbiAgICA3MyxcbiAgICAxMDUsXG4gICAgNzMsXG4gICAgMTA1LFxuICAgIDczLFxuICAgIDEwNSxcbiAgICA3MyxcbiAgICAxMDUsXG4gICAgNzMsXG4gICAgMTA1LFxuICAgIDc0LFxuICAgIDEwNixcbiAgICA3NSxcbiAgICAxMDcsXG4gICAgMTA3LFxuICAgIDc2LFxuICAgIDEwOCxcbiAgICA3NixcbiAgICAxMDgsXG4gICAgNzYsXG4gICAgMTA4LFxuICAgIDc2LFxuICAgIDEwOCxcbiAgICA3NixcbiAgICAxMDgsXG4gICAgNzgsXG4gICAgMTEwLFxuICAgIDc4LFxuICAgIDExMCxcbiAgICA3OCxcbiAgICAxMTAsXG4gICAgMTEwLFxuICAgIDc4LFxuICAgIDExMCxcbiAgICA3OSxcbiAgICAxMTEsXG4gICAgNzksXG4gICAgMTExLFxuICAgIDc5LFxuICAgIDExMSxcbiAgICA3OSxcbiAgICAxMTEsXG4gICAgODIsXG4gICAgMTE0LFxuICAgIDgyLFxuICAgIDExNCxcbiAgICA4MixcbiAgICAxMTQsXG4gICAgODMsXG4gICAgMTE1LFxuICAgIDgzLFxuICAgIDExNSxcbiAgICA4MyxcbiAgICAxMTUsXG4gICAgODMsXG4gICAgMTE1LFxuICAgIDg0LFxuICAgIDExNixcbiAgICA4NCxcbiAgICAxMTYsXG4gICAgODQsXG4gICAgMTE2LFxuICAgIDg1LFxuICAgIDExNyxcbiAgICA4NSxcbiAgICAxMTcsXG4gICAgODUsXG4gICAgMTE3LFxuICAgIDg1LFxuICAgIDExNyxcbiAgICA4NSxcbiAgICAxMTcsXG4gICAgODUsXG4gICAgMTE3LFxuICAgIDg3LFxuICAgIDExOSxcbiAgICA4OSxcbiAgICAxMjEsXG4gICAgODksXG4gICAgOTAsXG4gICAgMTIyLFxuICAgIDkwLFxuICAgIDEyMixcbiAgICA5MCxcbiAgICAxMjIsXG4gICAgMTE1XG5dO1xuZnVuY3Rpb24gcmVwbGFjZUNoYXIoY2hhckNvZGUpIHtcbiAgICBpZiAoY2hhckNvZGUgPCBESUFDUklUSUNTX0NIQVJDT0RFX1NUQVJUIHx8IGNoYXJDb2RlID4gRElBQ1JJVElDU19DSEFSQ09ERV9FTkQpIHJldHVybiBjaGFyQ29kZTtcbiAgICAvKiBjOCBpZ25vcmUgbmV4dCAgKi8gcmV0dXJuIENIQVJDT0RFX1JFUExBQ0VfTUFQUElOR1tjaGFyQ29kZSAtIERJQUNSSVRJQ1NfQ0hBUkNPREVfU1RBUlRdIHx8IGNoYXJDb2RlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VEaWFjcml0aWNzKHN0cikge1xuICAgIGNvbnN0IHN0cmluZ0NoYXJDb2RlID0gW107XG4gICAgZm9yKGxldCBpZHggPSAwOyBpZHggPCBzdHIubGVuZ3RoOyBpZHgrKyl7XG4gICAgICAgIHN0cmluZ0NoYXJDb2RlW2lkeF0gPSByZXBsYWNlQ2hhcihzdHIuY2hhckNvZGVBdChpZHgpKTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoLi4uc3RyaW5nQ2hhckNvZGUpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaWFjcml0aWNzLmpzLm1hcCIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbi8vIEB0cy1ub2NoZWNrXG5jb25zdCBzdGVwMkxpc3QgPSB7XG4gICAgYXRpb25hbDogJ2F0ZScsXG4gICAgdGlvbmFsOiAndGlvbicsXG4gICAgZW5jaTogJ2VuY2UnLFxuICAgIGFuY2k6ICdhbmNlJyxcbiAgICBpemVyOiAnaXplJyxcbiAgICBibGk6ICdibGUnLFxuICAgIGFsbGk6ICdhbCcsXG4gICAgZW50bGk6ICdlbnQnLFxuICAgIGVsaTogJ2UnLFxuICAgIG91c2xpOiAnb3VzJyxcbiAgICBpemF0aW9uOiAnaXplJyxcbiAgICBhdGlvbjogJ2F0ZScsXG4gICAgYXRvcjogJ2F0ZScsXG4gICAgYWxpc206ICdhbCcsXG4gICAgaXZlbmVzczogJ2l2ZScsXG4gICAgZnVsbmVzczogJ2Z1bCcsXG4gICAgb3VzbmVzczogJ291cycsXG4gICAgYWxpdGk6ICdhbCcsXG4gICAgaXZpdGk6ICdpdmUnLFxuICAgIGJpbGl0aTogJ2JsZScsXG4gICAgbG9naTogJ2xvZydcbn07XG5jb25zdCBzdGVwM0xpc3QgPSB7XG4gICAgaWNhdGU6ICdpYycsXG4gICAgYXRpdmU6ICcnLFxuICAgIGFsaXplOiAnYWwnLFxuICAgIGljaXRpOiAnaWMnLFxuICAgIGljYWw6ICdpYycsXG4gICAgZnVsOiAnJyxcbiAgICBuZXNzOiAnJ1xufTtcbi8vIENvbnNvbmFudFxuY29uc3QgYyA9ICdbXmFlaW91XSc7XG4vLyBWb3dlbFxuY29uc3QgdiA9ICdbYWVpb3V5XSc7XG4vLyBDb25zb25hbnQgc2VxdWVuY2VcbmNvbnN0IEMgPSBjICsgJ1teYWVpb3V5XSonO1xuLy8gVm93ZWwgc2VxdWVuY2VcbmNvbnN0IFYgPSB2ICsgJ1thZWlvdV0qJztcbi8vIFtDXVZDLi4uIGlzIG0+MFxuY29uc3QgbWdyMCA9ICdeKCcgKyBDICsgJyk/JyArIFYgKyBDO1xuLy8gW0NdVkNbVl0gaXMgbT0xXG5jb25zdCBtZXExID0gJ14oJyArIEMgKyAnKT8nICsgViArIEMgKyAnKCcgKyBWICsgJyk/JCc7XG4vLyBbQ11WQ1ZDLi4uIGlzIG0+MVxuY29uc3QgbWdyMSA9ICdeKCcgKyBDICsgJyk/JyArIFYgKyBDICsgViArIEM7XG4vLyB2b3dlbCBpbiBzdGVtXG5jb25zdCBzX3YgPSAnXignICsgQyArICcpPycgKyB2O1xuZXhwb3J0IGZ1bmN0aW9uIHN0ZW1tZXIodykge1xuICAgIGxldCBzdGVtO1xuICAgIGxldCBzdWZmaXg7XG4gICAgbGV0IHJlO1xuICAgIGxldCByZTI7XG4gICAgbGV0IHJlMztcbiAgICBsZXQgcmU0O1xuICAgIGlmICh3Lmxlbmd0aCA8IDMpIHtcbiAgICAgICAgcmV0dXJuIHc7XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0Y2ggPSB3LnN1YnN0cmluZygwLCAxKTtcbiAgICBpZiAoZmlyc3RjaCA9PSAneScpIHtcbiAgICAgICAgdyA9IGZpcnN0Y2gudG9VcHBlckNhc2UoKSArIHcuc3Vic3RyaW5nKDEpO1xuICAgIH1cbiAgICByZSA9IC9eKC4rPykoc3N8aSllcyQvO1xuICAgIHJlMiA9IC9eKC4rPykoW15zXSlzJC87XG4gICAgaWYgKHJlLnRlc3QodykpIHtcbiAgICAgICAgdyA9IHcucmVwbGFjZShyZSwgJyQxJDInKTtcbiAgICB9IGVsc2UgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICAgIHcgPSB3LnJlcGxhY2UocmUyLCAnJDEkMicpO1xuICAgIH1cbiAgICByZSA9IC9eKC4rPyllZWQkLztcbiAgICByZTIgPSAvXiguKz8pKGVkfGluZykkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChtZ3IwKTtcbiAgICAgICAgaWYgKHJlLnRlc3QoZnBbMV0pKSB7XG4gICAgICAgICAgICByZSA9IC8uJC87XG4gICAgICAgICAgICB3ID0gdy5yZXBsYWNlKHJlLCAnJyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICAgIGNvbnN0IGZwID0gcmUyLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcFsxXTtcbiAgICAgICAgcmUyID0gbmV3IFJlZ0V4cChzX3YpO1xuICAgICAgICBpZiAocmUyLnRlc3Qoc3RlbSkpIHtcbiAgICAgICAgICAgIHcgPSBzdGVtO1xuICAgICAgICAgICAgcmUyID0gLyhhdHxibHxpeikkLztcbiAgICAgICAgICAgIHJlMyA9IG5ldyBSZWdFeHAoJyhbXmFlaW91eWxzel0pXFxcXDEkJyk7XG4gICAgICAgICAgICByZTQgPSBuZXcgUmVnRXhwKCdeJyArIEMgKyB2ICsgJ1teYWVpb3V3eHldJCcpO1xuICAgICAgICAgICAgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICAgICAgICAgICAgdyA9IHcgKyAnZSc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlMy50ZXN0KHcpKSB7XG4gICAgICAgICAgICAgICAgcmUgPSAvLiQvO1xuICAgICAgICAgICAgICAgIHcgPSB3LnJlcGxhY2UocmUsICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmU0LnRlc3QodykpIHtcbiAgICAgICAgICAgICAgICB3ID0gdyArICdlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZSA9IC9eKC4rPyl5JC87XG4gICAgaWYgKHJlLnRlc3QodykpIHtcbiAgICAgICAgY29uc3QgZnAgPSByZS5leGVjKHcpO1xuICAgICAgICBzdGVtID0gZnAgPT09IG51bGwgfHwgZnAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZwWzFdO1xuICAgICAgICByZSA9IG5ldyBSZWdFeHAoc192KTtcbiAgICAgICAgaWYgKHN0ZW0gJiYgcmUudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgdyA9IHN0ZW0gKyAnaSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmUgPSAvXiguKz8pKGF0aW9uYWx8dGlvbmFsfGVuY2l8YW5jaXxpemVyfGJsaXxhbGxpfGVudGxpfGVsaXxvdXNsaXxpemF0aW9ufGF0aW9ufGF0b3J8YWxpc218aXZlbmVzc3xmdWxuZXNzfG91c25lc3N8YWxpdGl8aXZpdGl8YmlsaXRpfGxvZ2kpJC87XG4gICAgaWYgKHJlLnRlc3QodykpIHtcbiAgICAgICAgY29uc3QgZnAgPSByZS5leGVjKHcpO1xuICAgICAgICBzdGVtID0gZnAgPT09IG51bGwgfHwgZnAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZwWzFdO1xuICAgICAgICBzdWZmaXggPSBmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMl07XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChtZ3IwKTtcbiAgICAgICAgaWYgKHN0ZW0gJiYgcmUudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdyA9IHN0ZW0gKyBzdGVwMkxpc3Rbc3VmZml4XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZSA9IC9eKC4rPykoaWNhdGV8YXRpdmV8YWxpemV8aWNpdGl8aWNhbHxmdWx8bmVzcykkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMV07XG4gICAgICAgIHN1ZmZpeCA9IGZwID09PSBudWxsIHx8IGZwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcFsyXTtcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKG1ncjApO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKHN0ZW0gJiYgcmUudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdyA9IHN0ZW0gKyBzdGVwM0xpc3Rbc3VmZml4XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZSA9IC9eKC4rPykoYWx8YW5jZXxlbmNlfGVyfGljfGFibGV8aWJsZXxhbnR8ZW1lbnR8bWVudHxlbnR8b3V8aXNtfGF0ZXxpdGl8b3VzfGl2ZXxpemUpJC87XG4gICAgcmUyID0gL14oLis/KShzfHQpKGlvbikkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMV07XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChtZ3IxKTtcbiAgICAgICAgaWYgKHN0ZW0gJiYgcmUudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgdyA9IHN0ZW07XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICAgIGNvbnN0IGZwID0gcmUyLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSAoZnAgPT09IG51bGwgfHwgZnAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZwWzFdKSA/PyAnJyArIChmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMl0pID8/ICcnO1xuICAgICAgICByZTIgPSBuZXcgUmVnRXhwKG1ncjEpO1xuICAgICAgICBpZiAocmUyLnRlc3Qoc3RlbSkpIHtcbiAgICAgICAgICAgIHcgPSBzdGVtO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlID0gL14oLis/KWUkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMV07XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChtZ3IxKTtcbiAgICAgICAgcmUyID0gbmV3IFJlZ0V4cChtZXExKTtcbiAgICAgICAgcmUzID0gbmV3IFJlZ0V4cCgnXicgKyBDICsgdiArICdbXmFlaW91d3h5XSQnKTtcbiAgICAgICAgaWYgKHN0ZW0gJiYgKHJlLnRlc3Qoc3RlbSkgfHwgcmUyLnRlc3Qoc3RlbSkgJiYgIXJlMy50ZXN0KHN0ZW0pKSkge1xuICAgICAgICAgICAgdyA9IHN0ZW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmUgPSAvbGwkLztcbiAgICByZTIgPSBuZXcgUmVnRXhwKG1ncjEpO1xuICAgIGlmIChyZS50ZXN0KHcpICYmIHJlMi50ZXN0KHcpKSB7XG4gICAgICAgIHJlID0gLy4kLztcbiAgICAgICAgdyA9IHcucmVwbGFjZShyZSwgJycpO1xuICAgIH1cbiAgICBpZiAoZmlyc3RjaCA9PSAneScpIHtcbiAgICAgICAgdyA9IGZpcnN0Y2gudG9Mb3dlckNhc2UoKSArIHcuc3Vic3RyaW5nKDEpO1xuICAgIH1cbiAgICByZXR1cm4gdztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5nbGlzaC1zdGVtbWVyLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IHJlcGxhY2VEaWFjcml0aWNzIH0gZnJvbSAnLi9kaWFjcml0aWNzLmpzJztcbmltcG9ydCB7IFNQTElUVEVSUywgU1VQUE9SVEVEX0xBTkdVQUdFUyB9IGZyb20gJy4vbGFuZ3VhZ2VzLmpzJztcbmltcG9ydCB7IHN0ZW1tZXIgYXMgZW5nbGlzaCB9IGZyb20gJy4vZW5nbGlzaC1zdGVtbWVyLmpzJztcbmZ1bmN0aW9uIG5vcm1hbGl6ZVRva2VuKHByb3AsIHRva2VuKSB7XG4gICAgdmFyIF90aGlzX3N0b3BXb3JkcztcbiAgICBjb25zdCBrZXkgPSBgJHt0aGlzLmxhbmd1YWdlfToke3Byb3B9OiR7dG9rZW59YDtcbiAgICBpZiAodGhpcy5ub3JtYWxpemF0aW9uQ2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXphdGlvbkNhY2hlLmdldChrZXkpO1xuICAgIH1cbiAgICAvLyBSZW1vdmUgc3RvcHdvcmRzIGlmIGVuYWJsZWRcbiAgICBpZiAoKF90aGlzX3N0b3BXb3JkcyA9IHRoaXMuc3RvcFdvcmRzKSA9PT0gbnVsbCB8fCBfdGhpc19zdG9wV29yZHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzX3N0b3BXb3Jkcy5pbmNsdWRlcyh0b2tlbikpIHtcbiAgICAgICAgdGhpcy5ub3JtYWxpemF0aW9uQ2FjaGUuc2V0KGtleSwgJycpO1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIC8vIEFwcGx5IHN0ZW1taW5nIGlmIGVuYWJsZWRcbiAgICBpZiAodGhpcy5zdGVtbWVyICYmICF0aGlzLnN0ZW1tZXJTa2lwUHJvcGVydGllcy5oYXMocHJvcCkpIHtcbiAgICAgICAgdG9rZW4gPSB0aGlzLnN0ZW1tZXIodG9rZW4pO1xuICAgIH1cbiAgICB0b2tlbiA9IHJlcGxhY2VEaWFjcml0aWNzKHRva2VuKTtcbiAgICB0aGlzLm5vcm1hbGl6YXRpb25DYWNoZS5zZXQoa2V5LCB0b2tlbik7XG4gICAgcmV0dXJuIHRva2VuO1xufVxuLyogYzggaWdub3JlIG5leHQgMTAgKi8gZnVuY3Rpb24gdHJpbSh0ZXh0KSB7XG4gICAgd2hpbGUodGV4dFt0ZXh0Lmxlbmd0aCAtIDFdID09PSAnJyl7XG4gICAgICAgIHRleHQucG9wKCk7XG4gICAgfVxuICAgIHdoaWxlKHRleHRbMF0gPT09ICcnKXtcbiAgICAgICAgdGV4dC5zaGlmdCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbn1cbmZ1bmN0aW9uIHRva2VuaXplKGlucHV0LCBsYW5ndWFnZSwgcHJvcCkge1xuICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZSAhPT0gdGhpcy5sYW5ndWFnZSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignTEFOR1VBR0VfTk9UX1NVUFBPUlRFRCcsIGxhbmd1YWdlKTtcbiAgICB9XG4gICAgLyogYzggaWdub3JlIG5leHQgMyAqLyBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgaW5wdXRcbiAgICAgICAgXTtcbiAgICB9XG4gICAgbGV0IHRva2VucztcbiAgICBpZiAocHJvcCAmJiB0aGlzLnRva2VuaXplU2tpcFByb3BlcnRpZXMuaGFzKHByb3ApKSB7XG4gICAgICAgIHRva2VucyA9IFtcbiAgICAgICAgICAgIHRoaXMubm9ybWFsaXplVG9rZW4uYmluZCh0aGlzLCBwcm9wID8/ICcnKShpbnB1dClcbiAgICAgICAgXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzcGxpdFJ1bGUgPSBTUExJVFRFUlNbdGhpcy5sYW5ndWFnZV07XG4gICAgICAgIHRva2VucyA9IGlucHV0LnRvTG93ZXJDYXNlKCkuc3BsaXQoc3BsaXRSdWxlKS5tYXAodGhpcy5ub3JtYWxpemVUb2tlbi5iaW5kKHRoaXMsIHByb3AgPz8gJycpKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgfVxuICAgIGNvbnN0IHRyaW1Ub2tlbnMgPSB0cmltKHRva2Vucyk7XG4gICAgaWYgKCF0aGlzLmFsbG93RHVwbGljYXRlcykge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KHRyaW1Ub2tlbnMpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyaW1Ub2tlbnM7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVG9rZW5pemVyKGNvbmZpZyA9IHt9KSB7XG4gICAgaWYgKCFjb25maWcubGFuZ3VhZ2UpIHtcbiAgICAgICAgY29uZmlnLmxhbmd1YWdlID0gJ2VuZ2xpc2gnO1xuICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRFRF9MQU5HVUFHRVMuaW5jbHVkZXMoY29uZmlnLmxhbmd1YWdlKSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignTEFOR1VBR0VfTk9UX1NVUFBPUlRFRCcsIGNvbmZpZy5sYW5ndWFnZSk7XG4gICAgfVxuICAgIC8vIEhhbmRsZSBzdGVtbWluZyAtIEl0IGlzIGRpc2FibGVkIGJ5IGRlZmF1bHRcbiAgICBsZXQgc3RlbW1lcjtcbiAgICBpZiAoY29uZmlnLnN0ZW1taW5nIHx8IGNvbmZpZy5zdGVtbWVyICYmICEoJ3N0ZW1taW5nJyBpbiBjb25maWcpKSB7XG4gICAgICAgIGlmIChjb25maWcuc3RlbW1lcikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcuc3RlbW1lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX1NURU1NRVJfRlVOQ1RJT05fVFlQRScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RlbW1lciA9IGNvbmZpZy5zdGVtbWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5sYW5ndWFnZSA9PT0gJ2VuZ2xpc2gnKSB7XG4gICAgICAgICAgICAgICAgc3RlbW1lciA9IGVuZ2xpc2g7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdNSVNTSU5HX1NURU1NRVInLCBjb25maWcubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEhhbmRsZSBzdG9wd29yZHNcbiAgICBsZXQgc3RvcFdvcmRzO1xuICAgIGlmIChjb25maWcuc3RvcFdvcmRzICE9PSBmYWxzZSkge1xuICAgICAgICBzdG9wV29yZHMgPSBbXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29uZmlnLnN0b3BXb3JkcykpIHtcbiAgICAgICAgICAgIHN0b3BXb3JkcyA9IGNvbmZpZy5zdG9wV29yZHM7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZy5zdG9wV29yZHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN0b3BXb3JkcyA9IGF3YWl0IGNvbmZpZy5zdG9wV29yZHMoc3RvcFdvcmRzKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcuc3RvcFdvcmRzKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignQ1VTVE9NX1NUT1BfV09SRFNfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1ha2Ugc3VyZSBzdG9wV29yZHMgaXMganVzdCBhbiBhcnJheSBvZiBzdHJpbmdzXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdG9wV29yZHMpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignQ1VTVE9NX1NUT1BfV09SRFNfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWScpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiBzdG9wV29yZHMpe1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdDVVNUT01fU1RPUF9XT1JEU19NVVNUX0JFX0ZVTkNUSU9OX09SX0FSUkFZJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQ3JlYXRlIHRoZSB0b2tlbml6ZXJcbiAgICBjb25zdCB0b2tlbml6ZXIgPSB7XG4gICAgICAgIHRva2VuaXplLFxuICAgICAgICBsYW5ndWFnZTogY29uZmlnLmxhbmd1YWdlLFxuICAgICAgICBzdGVtbWVyLFxuICAgICAgICBzdGVtbWVyU2tpcFByb3BlcnRpZXM6IG5ldyBTZXQoY29uZmlnLnN0ZW1tZXJTa2lwUHJvcGVydGllcyA/IFtcbiAgICAgICAgICAgIGNvbmZpZy5zdGVtbWVyU2tpcFByb3BlcnRpZXNcbiAgICAgICAgXS5mbGF0KCkgOiBbXSksXG4gICAgICAgIHRva2VuaXplU2tpcFByb3BlcnRpZXM6IG5ldyBTZXQoY29uZmlnLnRva2VuaXplU2tpcFByb3BlcnRpZXMgPyBbXG4gICAgICAgICAgICBjb25maWcudG9rZW5pemVTa2lwUHJvcGVydGllc1xuICAgICAgICBdLmZsYXQoKSA6IFtdKSxcbiAgICAgICAgc3RvcFdvcmRzLFxuICAgICAgICBhbGxvd0R1cGxpY2F0ZXM6IEJvb2xlYW4oY29uZmlnLmFsbG93RHVwbGljYXRlcyksXG4gICAgICAgIG5vcm1hbGl6ZVRva2VuLFxuICAgICAgICBub3JtYWxpemF0aW9uQ2FjaGU6IG5ldyBNYXAoKVxuICAgIH07XG4gICAgdG9rZW5pemVyLnRva2VuaXplID0gdG9rZW5pemUuYmluZCh0b2tlbml6ZXIpO1xuICAgIHRva2VuaXplci5ub3JtYWxpemVUb2tlbiA9IG5vcm1hbGl6ZVRva2VuO1xuICAgIHJldHVybiB0b2tlbml6ZXI7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IGZvcm1hdEVsYXBzZWRUaW1lLCBnZXREb2N1bWVudEluZGV4SWQsIGdldERvY3VtZW50UHJvcGVydGllcywgdmFsaWRhdGVTY2hlbWEgfSBmcm9tICcuLi9jb21wb25lbnRzL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IGNyZWF0ZURvY3VtZW50c1N0b3JlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9kb2N1bWVudHMtc3RvcmUuanMnO1xuaW1wb3J0IHsgQVZBSUxBQkxFX1BMVUdJTl9IT09LUywgZ2V0QWxsUGx1Z2luc0J5SG9vayB9IGZyb20gJy4uL2NvbXBvbmVudHMvcGx1Z2lucy5qcyc7XG5pbXBvcnQgeyBGVU5DVElPTl9DT01QT05FTlRTLCBPQkpFQ1RfQ09NUE9ORU5UUyB9IGZyb20gJy4uL2NvbXBvbmVudHMvaG9va3MuanMnO1xuaW1wb3J0IHsgY3JlYXRlSW5kZXggfSBmcm9tICcuLi9jb21wb25lbnRzL2luZGV4LmpzJztcbmltcG9ydCB7IGNyZWF0ZUludGVybmFsRG9jdW1lbnRJRFN0b3JlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTb3J0ZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL3NvcnRlci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVUb2tlbml6ZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL3Rva2VuaXplci9pbmRleC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyB1bmlxdWVJZCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50cyhjb21wb25lbnRzKSB7XG4gICAgY29uc3QgZGVmYXVsdENvbXBvbmVudHMgPSB7XG4gICAgICAgIGZvcm1hdEVsYXBzZWRUaW1lLFxuICAgICAgICBnZXREb2N1bWVudEluZGV4SWQsXG4gICAgICAgIGdldERvY3VtZW50UHJvcGVydGllcyxcbiAgICAgICAgdmFsaWRhdGVTY2hlbWFcbiAgICB9O1xuICAgIGZvciAoY29uc3QgcmF3S2V5IG9mIEZVTkNUSU9OX0NPTVBPTkVOVFMpe1xuICAgICAgICBjb25zdCBrZXkgPSByYXdLZXk7XG4gICAgICAgIGlmIChjb21wb25lbnRzW2tleV0pIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50c1trZXldICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0NPTVBPTkVOVF9NVVNUX0JFX0ZVTkNUSU9OJywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVFNDIGlzIHVuYWJsZSB0byByZXNvbHZlIHRoaXNcbiAgICAgICAgICAgIGNvbXBvbmVudHNba2V5XSA9IGRlZmF1bHRDb21wb25lbnRzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCByYXdLZXkgb2YgT2JqZWN0LmtleXMoY29tcG9uZW50cykpe1xuICAgICAgICBpZiAoIU9CSkVDVF9DT01QT05FTlRTLmluY2x1ZGVzKHJhd0tleSkgJiYgIUZVTkNUSU9OX0NPTVBPTkVOVFMuaW5jbHVkZXMocmF3S2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1VOU1VQUE9SVEVEX0NPTVBPTkVOVCcsIHJhd0tleSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlKHsgc2NoZW1hICwgc29ydCAsIGxhbmd1YWdlICwgY29tcG9uZW50cyAsIGlkICwgcGx1Z2lucyAgfSkge1xuICAgIGlmICghY29tcG9uZW50cykge1xuICAgICAgICBjb21wb25lbnRzID0ge307XG4gICAgfVxuICAgIGlmICghaWQpIHtcbiAgICAgICAgaWQgPSBhd2FpdCB1bmlxdWVJZCgpO1xuICAgIH1cbiAgICBsZXQgdG9rZW5pemVyID0gY29tcG9uZW50cy50b2tlbml6ZXI7XG4gICAgbGV0IGluZGV4ID0gY29tcG9uZW50cy5pbmRleDtcbiAgICBsZXQgZG9jdW1lbnRzU3RvcmUgPSBjb21wb25lbnRzLmRvY3VtZW50c1N0b3JlO1xuICAgIGxldCBzb3J0ZXIgPSBjb21wb25lbnRzLnNvcnRlcjtcbiAgICBpZiAoIXRva2VuaXplcikge1xuICAgICAgICAvLyBVc2UgdGhlIGRlZmF1bHQgdG9rZW5pemVyXG4gICAgICAgIHRva2VuaXplciA9IGF3YWl0IGNyZWF0ZVRva2VuaXplcih7XG4gICAgICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UgPz8gJ2VuZ2xpc2gnXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIXRva2VuaXplci50b2tlbml6ZSkge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyB0b2tlbml6ZXIgZnVuY3Rpb24sIHdlIGFzc3VtZSB0aGlzIGlzIGEgVG9rZW5pemVyQ29uZmlnXG4gICAgICAgIHRva2VuaXplciA9IGF3YWl0IGNyZWF0ZVRva2VuaXplcih0b2tlbml6ZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbVRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICAgICAgdG9rZW5pemVyID0gY3VzdG9tVG9rZW5pemVyO1xuICAgIH1cbiAgICBpZiAoY29tcG9uZW50cy50b2tlbml6ZXIgJiYgbGFuZ3VhZ2UpIHtcbiAgICAgICAgLy8gQWNjZXB0IGxhbmd1YWdlIG9ubHkgaWYgYSB0b2tlbml6ZXIgaXMgbm90IHByb3ZpZGVkXG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdOT19MQU5HVUFHRV9XSVRIX0NVU1RPTV9UT0tFTklaRVInKTtcbiAgICB9XG4gICAgY29uc3QgaW50ZXJuYWxEb2N1bWVudFN0b3JlID0gY3JlYXRlSW50ZXJuYWxEb2N1bWVudElEU3RvcmUoKTtcbiAgICBpbmRleCB8fD0gYXdhaXQgY3JlYXRlSW5kZXgoKTtcbiAgICBzb3J0ZXIgfHw9IGF3YWl0IGNyZWF0ZVNvcnRlcigpO1xuICAgIGRvY3VtZW50c1N0b3JlIHx8PSBhd2FpdCBjcmVhdGVEb2N1bWVudHNTdG9yZSgpO1xuICAgIC8vIFZhbGlkYXRlIGFsbCBvdGhlciBjb21wb25lbnRzXG4gICAgdmFsaWRhdGVDb21wb25lbnRzKGNvbXBvbmVudHMpO1xuICAgIC8vIEFzc2lnbiBvbmx5IHJlY29nbml6ZWQgY29tcG9uZW50cyBhbmQgaG9va3NcbiAgICBjb25zdCB7IGdldERvY3VtZW50UHJvcGVydGllcyAsIGdldERvY3VtZW50SW5kZXhJZCAsIHZhbGlkYXRlU2NoZW1hICwgZm9ybWF0RWxhcHNlZFRpbWUgIH0gPSBjb21wb25lbnRzO1xuICAgIGNvbnN0IG9yYW1hID0ge1xuICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgY2FjaGVzOiB7fSxcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICB0b2tlbml6ZXIsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBzb3J0ZXIsXG4gICAgICAgIGRvY3VtZW50c1N0b3JlLFxuICAgICAgICBpbnRlcm5hbERvY3VtZW50SURTdG9yZTogaW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICBnZXREb2N1bWVudFByb3BlcnRpZXMsXG4gICAgICAgIGdldERvY3VtZW50SW5kZXhJZCxcbiAgICAgICAgdmFsaWRhdGVTY2hlbWEsXG4gICAgICAgIGJlZm9yZUluc2VydDogW10sXG4gICAgICAgIGFmdGVySW5zZXJ0OiBbXSxcbiAgICAgICAgYmVmb3JlUmVtb3ZlOiBbXSxcbiAgICAgICAgYWZ0ZXJSZW1vdmU6IFtdLFxuICAgICAgICBiZWZvcmVVcGRhdGU6IFtdLFxuICAgICAgICBhZnRlclVwZGF0ZTogW10sXG4gICAgICAgIGJlZm9yZVNlYXJjaDogW10sXG4gICAgICAgIGFmdGVyU2VhcmNoOiBbXSxcbiAgICAgICAgYmVmb3JlSW5zZXJ0TXVsdGlwbGU6IFtdLFxuICAgICAgICBhZnRlckluc2VydE11bHRpcGxlOiBbXSxcbiAgICAgICAgYmVmb3JlUmVtb3ZlTXVsdGlwbGU6IFtdLFxuICAgICAgICBhZnRlclJlbW92ZU11bHRpcGxlOiBbXSxcbiAgICAgICAgYWZ0ZXJVcGRhdGVNdWx0aXBsZTogW10sXG4gICAgICAgIGJlZm9yZVVwZGF0ZU11bHRpcGxlOiBbXSxcbiAgICAgICAgZm9ybWF0RWxhcHNlZFRpbWUsXG4gICAgICAgIGlkLFxuICAgICAgICBwbHVnaW5zXG4gICAgfTtcbiAgICBvcmFtYS5kYXRhID0ge1xuICAgICAgICBpbmRleDogYXdhaXQgb3JhbWEuaW5kZXguY3JlYXRlKG9yYW1hLCBpbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSksXG4gICAgICAgIGRvY3M6IGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmNyZWF0ZShvcmFtYSwgaW50ZXJuYWxEb2N1bWVudFN0b3JlKSxcbiAgICAgICAgc29ydGluZzogYXdhaXQgb3JhbWEuc29ydGVyLmNyZWF0ZShvcmFtYSwgaW50ZXJuYWxEb2N1bWVudFN0b3JlLCBzY2hlbWEsIHNvcnQpXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGhvb2sgb2YgQVZBSUxBQkxFX1BMVUdJTl9IT09LUyl7XG4gICAgICAgIG9yYW1hW2hvb2tdID0gKG9yYW1hW2hvb2tdID8/IFtdKS5jb25jYXQoZ2V0QWxsUGx1Z2luc0J5SG9vayhvcmFtYSwgaG9vaykpO1xuICAgIH1cbiAgICByZXR1cm4gb3JhbWE7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS5qcy5tYXAiLCJleHBvcnQgY29uc3Qga0luc2VydGlvbnMgPSBTeW1ib2woJ29yYW1hLmluc2VydGlvbnMnKTtcbmV4cG9ydCBjb25zdCBrUmVtb3ZhbHMgPSBTeW1ib2woJ29yYW1hLnJlbW92YWxzJyk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCIsInZhciBfZ2xvYmFsVGhpc19wcm9jZXNzO1xuaW1wb3J0IHsga0luc2VydGlvbnMsIGtSZW1vdmFscyB9IGZyb20gJy4uL3R5cGVzLmpzJztcbi8vIFdlYiBwbGF0Zm9ybXMgZG9uJ3QgaGF2ZSBwcm9jZXNzLiBSZWFjdC1OYXRpdmUgZG9lc24ndCBoYXZlIHByb2Nlc3MuZW1pdFdhcm5pbmcuXG5jb25zdCB3YXJuID0gKChfZ2xvYmFsVGhpc19wcm9jZXNzID0gZ2xvYmFsVGhpcy5wcm9jZXNzKSA9PT0gbnVsbCB8fCBfZ2xvYmFsVGhpc19wcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZ2xvYmFsVGhpc19wcm9jZXNzLmVtaXRXYXJuaW5nKSA/PyBmdW5jdGlvbiBlbWl0V2FybmluZyhtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgY29uc29sZS53YXJuKGBbV0FSTklOR10gWyR7b3B0aW9ucy5jb2RlfV0gJHttZXNzYWdlfWApO1xufTtcbmV4cG9ydCBmdW5jdGlvbiB0cmFja0luc2VydGlvbihvcmFtYSkge1xuICAgIGlmICh0eXBlb2Ygb3JhbWFba0luc2VydGlvbnNdICE9PSAnbnVtYmVyJykge1xuICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKT0+e1xuICAgICAgICAgICAgb3JhbWFba0luc2VydGlvbnNdID0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICAgICAgb3JhbWFba0luc2VydGlvbnNdID0gMDtcbiAgICB9XG4gICAgaWYgKG9yYW1hW2tJbnNlcnRpb25zXSA+IDEwMDApIHtcbiAgICAgICAgd2FybihcIk9yYW1hJ3MgaW5zZXJ0IG9wZXJhdGlvbiBpcyBzeW5jaHJvbm91cy4gUGxlYXNlIGF2b2lkIGluc2VydGluZyBhIGxhcmdlIG51bWJlciBvZiBkb2N1bWVudCBpbiBhIHNpbmdsZSBvcGVyYXRpb24gaW4gb3JkZXIgbm90IHRvIGJsb2NrIHRoZSBtYWluIHRocmVhZCBvciwgaW4gYWx0ZXJuYXRpdmUsIHBsZWFzZSB1c2UgaW5zZXJ0TXVsdGlwbGUuXCIsIHtcbiAgICAgICAgICAgIGNvZGU6ICdPUkFNQTAwMDEnXG4gICAgICAgIH0pO1xuICAgICAgICBvcmFtYVtrSW5zZXJ0aW9uc10gPSAtMTtcbiAgICB9IGVsc2UgaWYgKG9yYW1hW2tJbnNlcnRpb25zXSA+PSAwKSB7XG4gICAgICAgIG9yYW1hW2tJbnNlcnRpb25zXSsrO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmFja1JlbW92YWwob3JhbWEpIHtcbiAgICBpZiAodHlwZW9mIG9yYW1hW2tSZW1vdmFsc10gIT09ICdudW1iZXInKSB7XG4gICAgICAgIHF1ZXVlTWljcm90YXNrKCgpPT57XG4gICAgICAgICAgICBvcmFtYVtrUmVtb3ZhbHNdID0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICAgICAgb3JhbWFba1JlbW92YWxzXSA9IDA7XG4gICAgfVxuICAgIGlmIChvcmFtYVtrUmVtb3ZhbHNdID4gMTAwMCkge1xuICAgICAgICB3YXJuKFwiT3JhbWEncyByZW1vdmUgb3BlcmF0aW9uIGlzIHN5bmNocm9ub3VzLiBQbGVhc2UgYXZvaWQgcmVtb3ZpbmcgYSBsYXJnZSBudW1iZXIgb2YgZG9jdW1lbnQgaW4gYSBzaW5nbGUgb3BlcmF0aW9uIGluIG9yZGVyIG5vdCB0byBibG9jayB0aGUgbWFpbiB0aHJlYWQsIGluIGFsdGVybmF0aXZlLCBwbGVhc2UgdXNlIHVwZGF0ZU11bHRpcGxlLlwiLCB7XG4gICAgICAgICAgICBjb2RlOiAnT1JBTUEwMDAyJ1xuICAgICAgICB9KTtcbiAgICAgICAgb3JhbWFba1JlbW92YWxzXSA9IC0xO1xuICAgIH0gZWxzZSBpZiAob3JhbWFba1JlbW92YWxzXSA+PSAwKSB7XG4gICAgICAgIG9yYW1hW2tSZW1vdmFsc10rKztcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN5bmMtYmxvY2tpbmctY2hlY2tlci5qcy5tYXAiLCJpbXBvcnQgeyBpc0FycmF5VHlwZSwgaXNHZW9Qb2ludFR5cGUsIGlzVmVjdG9yVHlwZSB9IGZyb20gJy4uL2NvbXBvbmVudHMuanMnO1xuaW1wb3J0IHsgcnVuTXVsdGlwbGVIb29rLCBydW5TaW5nbGVIb29rIH0gZnJvbSAnLi4vY29tcG9uZW50cy9ob29rcy5qcyc7XG5pbXBvcnQgeyB0cmFja0luc2VydGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvc3luYy1ibG9ja2luZy1jaGVja2VyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnNlcnQob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcykge1xuICAgIGNvbnN0IGVycm9yUHJvcGVydHkgPSBhd2FpdCBvcmFtYS52YWxpZGF0ZVNjaGVtYShkb2MsIG9yYW1hLnNjaGVtYSk7XG4gICAgaWYgKGVycm9yUHJvcGVydHkpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1NDSEVNQV9WQUxJREFUSU9OX0ZBSUxVUkUnLCBlcnJvclByb3BlcnR5KTtcbiAgICB9XG4gICAgcmV0dXJuIGlubmVySW5zZXJ0KG9yYW1hLCBkb2MsIGxhbmd1YWdlLCBza2lwSG9va3MpO1xufVxuYXN5bmMgZnVuY3Rpb24gaW5uZXJJbnNlcnQob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcykge1xuICAgIGNvbnN0IHsgaW5kZXggLCBkb2NzICB9ID0gb3JhbWEuZGF0YTtcbiAgICBjb25zdCBpZCA9IGF3YWl0IG9yYW1hLmdldERvY3VtZW50SW5kZXhJZChkb2MpO1xuICAgIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdET0NVTUVOVF9JRF9NVVNUX0JFX1NUUklORycsIHR5cGVvZiBpZCk7XG4gICAgfVxuICAgIGlmICghYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUuc3RvcmUoZG9jcywgaWQsIGRvYykpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0RPQ1VNRU5UX0FMUkVBRFlfRVhJU1RTJywgaWQpO1xuICAgIH1cbiAgICBjb25zdCBkb2NzQ291bnQgPSBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5jb3VudChkb2NzKTtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBhd2FpdCBydW5TaW5nbGVIb29rKG9yYW1hLmJlZm9yZUluc2VydCwgb3JhbWEsIGlkLCBkb2MpO1xuICAgIH1cbiAgICBjb25zdCBpbmRleGFibGVQcm9wZXJ0aWVzID0gYXdhaXQgb3JhbWEuaW5kZXguZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXMoaW5kZXgpO1xuICAgIGNvbnN0IGluZGV4YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMgPSBhd2FpdCBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyhpbmRleCk7XG4gICAgY29uc3QgaW5kZXhhYmxlVmFsdWVzID0gYXdhaXQgb3JhbWEuZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzKGRvYywgaW5kZXhhYmxlUHJvcGVydGllcyk7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaW5kZXhhYmxlVmFsdWVzKSl7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY3R1YWxUeXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBpbmRleGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzW2tleV07XG4gICAgICAgIGlmIChpc0dlb1BvaW50VHlwZShleHBlY3RlZFR5cGUpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLmxvbiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbHVlLmxhdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1ZlY3RvclR5cGUoZXhwZWN0ZWRUeXBlKSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlUeXBlKGV4cGVjdGVkVHlwZSkgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZXhwZWN0ZWRUeXBlID09PSAnZW51bScgfHwgZXhwZWN0ZWRUeXBlID09PSAnZW51bVtdJykgJiYgKGFjdHVhbFR5cGUgPT09ICdzdHJpbmcnIHx8IGFjdHVhbFR5cGUgPT09ICdudW1iZXInKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdHVhbFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfRE9DVU1FTlRfUFJPUEVSVFknLCBrZXksIGV4cGVjdGVkVHlwZSwgYWN0dWFsVHlwZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIGluZGV4YWJsZVByb3BlcnRpZXMpe1xuICAgICAgICB2YXIgX29yYW1hX2luZGV4LCBfb3JhbWFfaW5kZXhfYmVmb3JlSW5zZXJ0LCBfb3JhbWFfaW5kZXgxLCBfb3JhbWFfaW5kZXhfYWZ0ZXJJbnNlcnQ7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaW5kZXhhYmxlVmFsdWVzW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gaW5kZXhhYmxlUHJvcGVydGllc1dpdGhUeXBlc1twcm9wXTtcbiAgICAgICAgYXdhaXQgKChfb3JhbWFfaW5kZXhfYmVmb3JlSW5zZXJ0ID0gKF9vcmFtYV9pbmRleCA9IG9yYW1hLmluZGV4KS5iZWZvcmVJbnNlcnQpID09PSBudWxsIHx8IF9vcmFtYV9pbmRleF9iZWZvcmVJbnNlcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcmFtYV9pbmRleF9iZWZvcmVJbnNlcnQuY2FsbChfb3JhbWFfaW5kZXgsIG9yYW1hLmRhdGEuaW5kZXgsIHByb3AsIGlkLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlLCBsYW5ndWFnZSwgb3JhbWEudG9rZW5pemVyLCBkb2NzQ291bnQpKTtcbiAgICAgICAgYXdhaXQgb3JhbWEuaW5kZXguaW5zZXJ0KG9yYW1hLmluZGV4LCBvcmFtYS5kYXRhLmluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIGV4cGVjdGVkVHlwZSwgbGFuZ3VhZ2UsIG9yYW1hLnRva2VuaXplciwgZG9jc0NvdW50KTtcbiAgICAgICAgYXdhaXQgKChfb3JhbWFfaW5kZXhfYWZ0ZXJJbnNlcnQgPSAoX29yYW1hX2luZGV4MSA9IG9yYW1hLmluZGV4KS5hZnRlckluc2VydCkgPT09IG51bGwgfHwgX29yYW1hX2luZGV4X2FmdGVySW5zZXJ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3JhbWFfaW5kZXhfYWZ0ZXJJbnNlcnQuY2FsbChfb3JhbWFfaW5kZXgxLCBvcmFtYS5kYXRhLmluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIGV4cGVjdGVkVHlwZSwgbGFuZ3VhZ2UsIG9yYW1hLnRva2VuaXplciwgZG9jc0NvdW50KSk7XG4gICAgfVxuICAgIGNvbnN0IHNvcnRhYmxlUHJvcGVydGllcyA9IGF3YWl0IG9yYW1hLnNvcnRlci5nZXRTb3J0YWJsZVByb3BlcnRpZXMob3JhbWEuZGF0YS5zb3J0aW5nKTtcbiAgICBjb25zdCBzb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMgPSBhd2FpdCBvcmFtYS5zb3J0ZXIuZ2V0U29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKG9yYW1hLmRhdGEuc29ydGluZyk7XG4gICAgY29uc3Qgc29ydGFibGVWYWx1ZXMgPSBhd2FpdCBvcmFtYS5nZXREb2N1bWVudFByb3BlcnRpZXMoZG9jLCBzb3J0YWJsZVByb3BlcnRpZXMpO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBzb3J0YWJsZVByb3BlcnRpZXMpe1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHNvcnRhYmxlVmFsdWVzW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzW3Byb3BdO1xuICAgICAgICBhd2FpdCBvcmFtYS5zb3J0ZXIuaW5zZXJ0KG9yYW1hLmRhdGEuc29ydGluZywgcHJvcCwgaWQsIHZhbHVlLCBleHBlY3RlZFR5cGUsIGxhbmd1YWdlKTtcbiAgICB9XG4gICAgaWYgKCFza2lwSG9va3MpIHtcbiAgICAgICAgYXdhaXQgcnVuU2luZ2xlSG9vayhvcmFtYS5hZnRlckluc2VydCwgb3JhbWEsIGlkLCBkb2MpO1xuICAgIH1cbiAgICB0cmFja0luc2VydGlvbihvcmFtYSk7XG4gICAgcmV0dXJuIGlkO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydE11bHRpcGxlKG9yYW1hLCBkb2NzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MsIHRpbWVvdXQpIHtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBhd2FpdCBydW5NdWx0aXBsZUhvb2sob3JhbWEuYmVmb3JlSW5zZXJ0TXVsdGlwbGUsIG9yYW1hLCBkb2NzKTtcbiAgICB9XG4gICAgLy8gVmFsaWRhdGUgYWxsIGRvY3VtZW50cyBiZWZvcmUgdGhlIGluc2VydGlvblxuICAgIGNvbnN0IGRvY3NMZW5ndGggPSBkb2NzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZG9jc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgZXJyb3JQcm9wZXJ0eSA9IGF3YWl0IG9yYW1hLnZhbGlkYXRlU2NoZW1hKGRvY3NbaV0sIG9yYW1hLnNjaGVtYSk7XG4gICAgICAgIGlmIChlcnJvclByb3BlcnR5KSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignU0NIRU1BX1ZBTElEQVRJT05fRkFJTFVSRScsIGVycm9yUHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbm5lckluc2VydE11bHRpcGxlKG9yYW1hLCBkb2NzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MsIHRpbWVvdXQpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlubmVySW5zZXJ0TXVsdGlwbGUob3JhbWEsIGRvY3MsIGJhdGNoU2l6ZSwgbGFuZ3VhZ2UsIHNraXBIb29rcywgdGltZW91dCkge1xuICAgIGlmICghYmF0Y2hTaXplKSB7XG4gICAgICAgIGJhdGNoU2l6ZSA9IDEwMDA7XG4gICAgfVxuICAgIHRpbWVvdXQgPSB0aW1lb3V0IHx8IDA7XG4gICAgY29uc3QgaWRzID0gW107XG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBhc3luYyBmdW5jdGlvbiBfaW5zZXJ0TXVsdGlwbGUoKSB7XG4gICAgICAgICAgICBjb25zdCBiYXRjaCA9IGRvY3Muc2xpY2UoaSAqIGJhdGNoU2l6ZSwgKGkgKyAxKSAqIGJhdGNoU2l6ZSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBpZiAoIWJhdGNoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRvYyBvZiBiYXRjaCl7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSBhd2FpdCBpbnNlcnQob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcyk7XG4gICAgICAgICAgICAgICAgICAgIGlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0VGltZW91dChfaW5zZXJ0TXVsdGlwbGUsIHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoX2luc2VydE11bHRpcGxlLCB0aW1lb3V0KTtcbiAgICB9KTtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBhd2FpdCBydW5NdWx0aXBsZUhvb2sob3JhbWEuYWZ0ZXJJbnNlcnRNdWx0aXBsZSwgb3JhbWEsIGRvY3MpO1xuICAgIH1cbiAgICByZXR1cm4gaWRzO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnNlcnQuanMubWFwIiwiaW1wb3J0IHsgcnVuTXVsdGlwbGVIb29rLCBydW5TaW5nbGVIb29rIH0gZnJvbSAnLi4vY29tcG9uZW50cy9ob29rcy5qcyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudElkRnJvbUludGVybmFsSWQsIGdldEludGVybmFsRG9jdW1lbnRJZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuaW1wb3J0IHsgdHJhY2tSZW1vdmFsIH0gZnJvbSAnLi4vY29tcG9uZW50cy9zeW5jLWJsb2NraW5nLWNoZWNrZXIuanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZShvcmFtYSwgaWQsIGxhbmd1YWdlLCBza2lwSG9va3MpIHtcbiAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcbiAgICBjb25zdCB7IGluZGV4ICwgZG9jcyAgfSA9IG9yYW1hLmRhdGE7XG4gICAgY29uc3QgZG9jID0gYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUuZ2V0KGRvY3MsIGlkKTtcbiAgICBpZiAoIWRvYykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGRvY0lkID0gZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCBnZXRJbnRlcm5hbERvY3VtZW50SWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIGlkKSk7XG4gICAgY29uc3QgZG9jc0NvdW50ID0gYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUuY291bnQoZG9jcyk7XG4gICAgaWYgKCFza2lwSG9va3MpIHtcbiAgICAgICAgYXdhaXQgcnVuU2luZ2xlSG9vayhvcmFtYS5iZWZvcmVSZW1vdmUsIG9yYW1hLCBkb2NJZCk7XG4gICAgfVxuICAgIGNvbnN0IGluZGV4YWJsZVByb3BlcnRpZXMgPSBhd2FpdCBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllcyhpbmRleCk7XG4gICAgY29uc3QgaW5kZXhhYmxlUHJvcGVydGllc1dpdGhUeXBlcyA9IGF3YWl0IG9yYW1hLmluZGV4LmdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKGluZGV4KTtcbiAgICBjb25zdCB2YWx1ZXMgPSBhd2FpdCBvcmFtYS5nZXREb2N1bWVudFByb3BlcnRpZXMoZG9jLCBpbmRleGFibGVQcm9wZXJ0aWVzKTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgaW5kZXhhYmxlUHJvcGVydGllcyl7XG4gICAgICAgIHZhciBfb3JhbWFfaW5kZXgsIF9vcmFtYV9pbmRleF9iZWZvcmVSZW1vdmUsIF9vcmFtYV9pbmRleDEsIF9vcmFtYV9pbmRleF9hZnRlclJlbW92ZTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNbcHJvcF07XG4gICAgICAgIC8vIFRoZSBkb2N1bWVudCBkb2Vzbid0IGNvbnRhaW4gdGhlIGtleVxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NoZW1hVHlwZSA9IGluZGV4YWJsZVByb3BlcnRpZXNXaXRoVHlwZXNbcHJvcF07XG4gICAgICAgIGF3YWl0ICgoX29yYW1hX2luZGV4X2JlZm9yZVJlbW92ZSA9IChfb3JhbWFfaW5kZXggPSBvcmFtYS5pbmRleCkuYmVmb3JlUmVtb3ZlKSA9PT0gbnVsbCB8fCBfb3JhbWFfaW5kZXhfYmVmb3JlUmVtb3ZlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3JhbWFfaW5kZXhfYmVmb3JlUmVtb3ZlLmNhbGwoX29yYW1hX2luZGV4LCBvcmFtYS5kYXRhLmluZGV4LCBwcm9wLCBkb2NJZCwgdmFsdWUsIHNjaGVtYVR5cGUsIGxhbmd1YWdlLCBvcmFtYS50b2tlbml6ZXIsIGRvY3NDb3VudCkpO1xuICAgICAgICBpZiAoIWF3YWl0IG9yYW1hLmluZGV4LnJlbW92ZShvcmFtYS5pbmRleCwgb3JhbWEuZGF0YS5pbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgb3JhbWEudG9rZW5pemVyLCBkb2NzQ291bnQpKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCAoKF9vcmFtYV9pbmRleF9hZnRlclJlbW92ZSA9IChfb3JhbWFfaW5kZXgxID0gb3JhbWEuaW5kZXgpLmFmdGVyUmVtb3ZlKSA9PT0gbnVsbCB8fCBfb3JhbWFfaW5kZXhfYWZ0ZXJSZW1vdmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcmFtYV9pbmRleF9hZnRlclJlbW92ZS5jYWxsKF9vcmFtYV9pbmRleDEsIG9yYW1hLmRhdGEuaW5kZXgsIHByb3AsIGRvY0lkLCB2YWx1ZSwgc2NoZW1hVHlwZSwgbGFuZ3VhZ2UsIG9yYW1hLnRva2VuaXplciwgZG9jc0NvdW50KSk7XG4gICAgfVxuICAgIGNvbnN0IHNvcnRhYmxlUHJvcGVydGllcyA9IGF3YWl0IG9yYW1hLnNvcnRlci5nZXRTb3J0YWJsZVByb3BlcnRpZXMob3JhbWEuZGF0YS5zb3J0aW5nKTtcbiAgICBjb25zdCBzb3J0YWJsZVZhbHVlcyA9IGF3YWl0IG9yYW1hLmdldERvY3VtZW50UHJvcGVydGllcyhkb2MsIHNvcnRhYmxlUHJvcGVydGllcyk7XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIHNvcnRhYmxlUHJvcGVydGllcyl7XG4gICAgICAgIC8vIFRoZSBkb2N1bWVudCBkb2Vzbid0IGNvbnRhaW4gdGhlIGtleVxuICAgICAgICBpZiAodHlwZW9mIHNvcnRhYmxlVmFsdWVzW3Byb3BdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgb3JhbWEuc29ydGVyLnJlbW92ZShvcmFtYS5kYXRhLnNvcnRpbmcsIHByb3AsIGlkKTtcbiAgICB9XG4gICAgaWYgKCFza2lwSG9va3MpIHtcbiAgICAgICAgYXdhaXQgcnVuU2luZ2xlSG9vayhvcmFtYS5hZnRlclJlbW92ZSwgb3JhbWEsIGRvY0lkKTtcbiAgICB9XG4gICAgYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUucmVtb3ZlKG9yYW1hLmRhdGEuZG9jcywgaWQpO1xuICAgIHRyYWNrUmVtb3ZhbChvcmFtYSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmVNdWx0aXBsZShvcmFtYSwgaWRzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MpIHtcbiAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICBpZiAoIWJhdGNoU2l6ZSkge1xuICAgICAgICBiYXRjaFNpemUgPSAxMDAwO1xuICAgIH1cbiAgICBjb25zdCBkb2NJZHNGb3JIb29rcyA9IHNraXBIb29rcyA/IFtdIDogaWRzLm1hcCgoaWQpPT5nZXREb2N1bWVudElkRnJvbUludGVybmFsSWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIGdldEludGVybmFsRG9jdW1lbnRJZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgaWQpKSk7XG4gICAgaWYgKCFza2lwSG9va3MpIHtcbiAgICAgICAgYXdhaXQgcnVuTXVsdGlwbGVIb29rKG9yYW1hLmJlZm9yZVJlbW92ZU11bHRpcGxlLCBvcmFtYSwgZG9jSWRzRm9ySG9va3MpO1xuICAgIH1cbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIF9pbnNlcnRNdWx0aXBsZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gaWRzLnNsaWNlKGkgKiBiYXRjaFNpemUsIChpICsgMSkgKiBiYXRjaFNpemUpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgaWYgKCFiYXRjaC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBkb2Mgb2YgYmF0Y2gpe1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhd2FpdCByZW1vdmUob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFRpbWVvdXQoX2luc2VydE11bHRpcGxlLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KF9pbnNlcnRNdWx0aXBsZSwgMCk7XG4gICAgfSk7XG4gICAgaWYgKCFza2lwSG9va3MpIHtcbiAgICAgICAgYXdhaXQgcnVuTXVsdGlwbGVIb29rKG9yYW1hLmFmdGVyUmVtb3ZlTXVsdGlwbGUsIG9yYW1hLCBkb2NJZHNGb3JIb29rcyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlbW92ZS5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBnZXROZXN0ZWQgfSBmcm9tICcuLi91dGlscy5qcyc7XG5mdW5jdGlvbiBzb3J0aW5nUHJlZGljYXRlKG9yZGVyID0gJ2Rlc2MnLCBhLCBiKSB7XG4gICAgaWYgKG9yZGVyLnRvTG93ZXJDYXNlKCkgPT09ICdhc2MnKSB7XG4gICAgICAgIHJldHVybiBhWzFdIC0gYlsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYlsxXSAtIGFbMV07XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZhY2V0cyhvcmFtYSwgcmVzdWx0cywgZmFjZXRzQ29uZmlnKSB7XG4gICAgY29uc3QgZmFjZXRzID0ge307XG4gICAgY29uc3QgYWxsSURzID0gcmVzdWx0cy5tYXAoKFtpZF0pPT5pZCk7XG4gICAgY29uc3QgYWxsRG9jcyA9IGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmdldE11bHRpcGxlKG9yYW1hLmRhdGEuZG9jcywgYWxsSURzKTtcbiAgICBjb25zdCBmYWNldEtleXMgPSBPYmplY3Qua2V5cyhmYWNldHNDb25maWcpO1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBhd2FpdCBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyhvcmFtYS5kYXRhLmluZGV4KTtcbiAgICBmb3IgKGNvbnN0IGZhY2V0IG9mIGZhY2V0S2V5cyl7XG4gICAgICAgIGxldCB2YWx1ZXMgPSB7fTtcbiAgICAgICAgLy8gSGFjayB0byBndWFyYW50ZWUgdGhlIHNhbWUgb3JkZXIgb2YgcmFuZ2VzIGFzIHNwZWNpZmllZCBieSB0aGUgdXNlclxuICAgICAgICAvLyBUT0RPOiBSZXZpc2l0IHRoaXMgb25jZSBjb21wb25lbnRzIGxhbmRcbiAgICAgICAgaWYgKHByb3BlcnRpZXNbZmFjZXRdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29uc3QgeyByYW5nZXMgIH0gPSBmYWNldHNDb25maWdbZmFjZXRdO1xuICAgICAgICAgICAgY29uc3QgdG1wID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJhbmdlIG9mIHJhbmdlcyl7XG4gICAgICAgICAgICAgICAgdG1wLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICBgJHtyYW5nZS5mcm9tfS0ke3JhbmdlLnRvfWAsXG4gICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlcyA9IE9iamVjdC5mcm9tRW50cmllcyh0bXApO1xuICAgICAgICB9XG4gICAgICAgIGZhY2V0c1tmYWNldF0gPSB7XG4gICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgIHZhbHVlc1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBhbGxEb2NzTGVuZ3RoID0gYWxsRG9jcy5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGFsbERvY3NMZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IGRvYyA9IGFsbERvY3NbaV07XG4gICAgICAgIGZvciAoY29uc3QgZmFjZXQgb2YgZmFjZXRLZXlzKXtcbiAgICAgICAgICAgIGNvbnN0IGZhY2V0VmFsdWUgPSBmYWNldC5pbmNsdWRlcygnLicpID8gYXdhaXQgZ2V0TmVzdGVkKGRvYywgZmFjZXQpIDogZG9jW2ZhY2V0XTtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5VHlwZSA9IHByb3BlcnRpZXNbZmFjZXRdO1xuICAgICAgICAgICAgc3dpdGNoKHByb3BlcnR5VHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZ2VzID0gZmFjZXRzQ29uZmlnW2ZhY2V0XS5yYW5nZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVOdW1iZXJGYWNldChyYW5nZXMsIGZhY2V0c1tmYWNldF0udmFsdWVzLCBmYWNldFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyW10nOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZXMgPSBmYWNldHNDb25maWdbZmFjZXRdLnJhbmdlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiBmYWNldFZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVOdW1iZXJGYWNldChyYW5nZXMsIGZhY2V0c1tmYWNldF0udmFsdWVzLCB2LCBhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgICAgICBjYXNlICdlbnVtJzpcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVCb29sZWFuU3RyaW5nT3JFbnVtRmFjZXQoZmFjZXRzW2ZhY2V0XS52YWx1ZXMsIGZhY2V0VmFsdWUsIHByb3BlcnR5VHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW5bXSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZW51bVtdJzpcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmdbXSc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFscmVhZHlJbnNlcnRlZFZhbHVlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyVHlwZSA9IHByb3BlcnR5VHlwZSA9PT0gJ2Jvb2xlYW5bXScgPyAnYm9vbGVhbicgOiAnc3RyaW5nJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiBmYWNldFZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVCb29sZWFuU3RyaW5nT3JFbnVtRmFjZXQoZmFjZXRzW2ZhY2V0XS52YWx1ZXMsIHYsIGlubmVyVHlwZSwgYWxyZWFkeUluc2VydGVkVmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0ZBQ0VUX05PVF9TVVBQT1JURUQnLCBwcm9wZXJ0eVR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgZmFjZXQgb2YgZmFjZXRLZXlzKXtcbiAgICAgICAgLy8gQ291bnQgdGhlIG51bWJlciBvZiB2YWx1ZXMgZm9yIGVhY2ggZmFjZXRcbiAgICAgICAgZmFjZXRzW2ZhY2V0XS5jb3VudCA9IE9iamVjdC5rZXlzKGZhY2V0c1tmYWNldF0udmFsdWVzKS5sZW5ndGg7XG4gICAgICAgIC8vIFNvcnQgb25seSBzdHJpbmctYmFzZWQgZmFjZXRzXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzW2ZhY2V0XSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmluZ0ZhY2V0RGVmaW5pdGlvbiA9IGZhY2V0c0NvbmZpZztcbiAgICAgICAgICAgIGZhY2V0c1tmYWNldF0udmFsdWVzID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGZhY2V0c1tmYWNldF0udmFsdWVzKS5zb3J0KChhLCBiKT0+c29ydGluZ1ByZWRpY2F0ZShzdHJpbmdGYWNldERlZmluaXRpb24uc29ydCwgYSwgYikpLnNsaWNlKHN0cmluZ0ZhY2V0RGVmaW5pdGlvbi5vZmZzZXQgPz8gMCwgc3RyaW5nRmFjZXREZWZpbml0aW9uLmxpbWl0ID8/IDEwKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhY2V0cztcbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZU51bWJlckZhY2V0KHJhbmdlcywgdmFsdWVzLCBmYWNldFZhbHVlLCBhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMpIHtcbiAgICBmb3IgKGNvbnN0IHJhbmdlIG9mIHJhbmdlcyl7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYCR7cmFuZ2UuZnJvbX0tJHtyYW5nZS50b31gO1xuICAgICAgICBpZiAoYWxyZWFkeUluc2VydGVkVmFsdWVzICYmIGFscmVhZHlJbnNlcnRlZFZhbHVlcy5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmFjZXRWYWx1ZSA+PSByYW5nZS5mcm9tICYmIGZhY2V0VmFsdWUgPD0gcmFuZ2UudG8pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbdmFsdWVdID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzW3ZhbHVlXSsrO1xuICAgICAgICAgICAgICAgIGlmIChhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxyZWFkeUluc2VydGVkVmFsdWVzLmFkZCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY2FsY3VsYXRlQm9vbGVhblN0cmluZ09yRW51bUZhY2V0KHZhbHVlcywgZmFjZXRWYWx1ZSwgcHJvcGVydHlUeXBlLCBhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMpIHtcbiAgICAvLyBTdHJpbmcgb3IgYm9vbGVhbiBiYXNlZCBmYWNldHNcbiAgICBjb25zdCB2YWx1ZSA9IChmYWNldFZhbHVlID09PSBudWxsIHx8IGZhY2V0VmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZhY2V0VmFsdWUudG9TdHJpbmcoKSkgPz8gKHByb3BlcnR5VHlwZSA9PT0gJ2Jvb2xlYW4nID8gJ2ZhbHNlJyA6ICcnKTtcbiAgICBpZiAoYWxyZWFkeUluc2VydGVkVmFsdWVzICYmIGFscmVhZHlJbnNlcnRlZFZhbHVlcy5oYXModmFsdWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFsdWVzW3ZhbHVlXSA9ICh2YWx1ZXNbdmFsdWVdID8/IDApICsgMTtcbiAgICBpZiAoYWxyZWFkeUluc2VydGVkVmFsdWVzKSB7XG4gICAgICAgIGFscmVhZHlJbnNlcnRlZFZhbHVlcy5hZGQodmFsdWUpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmFjZXRzLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RGaWx0ZXJlZElEcyhmaWx0ZXJlZCwgbG9va2VkVXApIHtcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZm9yIChjb25zdCBpZCBvZiBmaWx0ZXJlZCl7XG4gICAgICAgIG1hcC5zZXQoaWQsIHRydWUpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtpZCwgc2NvcmVdIG9mIGxvb2tlZFVwKXtcbiAgICAgICAgaWYgKG1hcC5oYXMoaWQpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChbXG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgc2NvcmVcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgbWFwLmRlbGV0ZShpZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVycy5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBnZXROZXN0ZWQsIGludGVyc2VjdCwgc2FmZUFycmF5UHVzaCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IGdldERvY3VtZW50SWRGcm9tSW50ZXJuYWxJZCB9IGZyb20gJy4vaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuY29uc3QgREVGQVVMVF9SRURVQ0UgPSB7XG4gICAgcmVkdWNlcjogKF8sIGFjYywgcmVzLCBpbmRleCk9PntcbiAgICAgICAgYWNjW2luZGV4XSA9IHJlcztcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LFxuICAgIGdldEluaXRpYWxWYWx1ZTogKGxlbmd0aCk9PkFycmF5LmZyb20oe1xuICAgICAgICAgICAgbGVuZ3RoXG4gICAgICAgIH0pXG59O1xuY29uc3QgQUxMT1dFRF9UWVBFUyA9IFtcbiAgICAnc3RyaW5nJyxcbiAgICAnbnVtYmVyJyxcbiAgICAnYm9vbGVhbidcbl07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0R3JvdXBzKG9yYW1hLCByZXN1bHRzLCBncm91cEJ5KSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IGdyb3VwQnkucHJvcGVydGllcztcbiAgICBjb25zdCBwcm9wZXJ0aWVzTGVuZ3RoID0gcHJvcGVydGllcy5sZW5ndGg7XG4gICAgY29uc3Qgc2NoZW1hUHJvcGVydGllcyA9IGF3YWl0IG9yYW1hLmluZGV4LmdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKG9yYW1hLmRhdGEuaW5kZXgpO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hUHJvcGVydGllc1twcm9wZXJ0eV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5LTk9XTl9HUk9VUF9CWV9QUk9QRVJUWScsIHByb3BlcnR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUFMTE9XRURfVFlQRVMuaW5jbHVkZXMoc2NoZW1hUHJvcGVydGllc1twcm9wZXJ0eV0pKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9HUk9VUF9CWV9QUk9QRVJUWScsIHByb3BlcnR5LCBBTExPV0VEX1RZUEVTLmpvaW4oJywgJyksIHNjaGVtYVByb3BlcnRpZXNbcHJvcGVydHldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhbGxJRHMgPSByZXN1bHRzLm1hcCgoW2lkXSk9PmdldERvY3VtZW50SWRGcm9tSW50ZXJuYWxJZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgaWQpKTtcbiAgICAvLyBhbGxEb2NzIGlzIGFscmVhZHkgc29ydGVkIGJ5IHRoZSBzb3J0QnkgYWxnb3JpdGhtXG4gICAgLy8gV2UgbGV2ZXJhZ2Ugb24gdGhhdCB0byBsaW1pdCB0aGUgbnVtYmVyIG9mIGRvY3VtZW50cyByZXR1cm5lZFxuICAgIGNvbnN0IGFsbERvY3MgPSBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5nZXRNdWx0aXBsZShvcmFtYS5kYXRhLmRvY3MsIGFsbElEcyk7XG4gICAgY29uc3QgYWxsRG9jc0xlbmd0aCA9IGFsbERvY3MubGVuZ3RoO1xuICAgIGNvbnN0IHJldHVybmVkQ291bnQgPSBncm91cEJ5Lm1heFJlc3VsdCB8fCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICBjb25zdCBsaXN0T2ZWYWx1ZXMgPSBbXTtcbiAgICAvLyBXZSB3YW50IHRvIHVuZGVyc3RhbmQgd2hpY2ggZG9jdW1lbnRzIGhhdmUgd2hpY2ggdmFsdWVzXG4gICAgLy8gYW5kIGdyb3VwIHRoZW0gYnkgdGhlIHByb3BlcnR5IGFuZCB2YWx1ZXNcbiAgICBjb25zdCBnID0ge307XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHByb3BlcnRpZXNMZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IGdyb3VwQnlLZXkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgICAgICBjb25zdCBncm91cCA9IHtcbiAgICAgICAgICAgIHByb3BlcnR5OiBncm91cEJ5S2V5LFxuICAgICAgICAgICAgcGVyVmFsdWU6IHt9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IGFsbERvY3NMZW5ndGg7IGorKyl7XG4gICAgICAgICAgICBjb25zdCBkb2MgPSBhbGxEb2NzW2pdO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBnZXROZXN0ZWQoZG9jLCBncm91cEJ5S2V5KTtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gY29uc2lkZXIgdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGtleVZhbHVlID0gdHlwZW9mIHZhbHVlICE9PSAnYm9vbGVhbicgPyB2YWx1ZSA6ICcnICsgdmFsdWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGdyb3VwLnBlclZhbHVlW2tleVZhbHVlXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBncm91cC5wZXJWYWx1ZVtrZXlWYWx1ZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogMFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ3JvdXAucGVyVmFsdWVba2V5VmFsdWVdLmNvdW50ID49IHJldHVybmVkQ291bnQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdlIHVzZSB0aGUgaW5kZXggdG8ga2VlcCB0cmFjayBvZiB0aGUgb3JpZ2luYWwgb3JkZXJcbiAgICAgICAgICAgIGdyb3VwLnBlclZhbHVlW2tleVZhbHVlXS5pbmRleGVzLnB1c2goaik7XG4gICAgICAgICAgICBncm91cC5wZXJWYWx1ZVtrZXlWYWx1ZV0uY291bnQrKztcbiAgICAgICAgICAgIHZhbHVlcy5hZGQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGxpc3RPZlZhbHVlcy5wdXNoKEFycmF5LmZyb20odmFsdWVzKSk7XG4gICAgICAgIGdbZ3JvdXBCeUtleV0gPSBncm91cDtcbiAgICB9XG4gICAgY29uc3QgY29tYmluYXRpb25zID0gY2FsY3VsYXRlQ29tYmluYXRpb24obGlzdE9mVmFsdWVzKTtcbiAgICBjb25zdCBjb21iaW5hdGlvbnNMZW5ndGggPSBjb21iaW5hdGlvbnMubGVuZ3RoO1xuICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjb21iaW5hdGlvbnNMZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IGNvbWJpbmF0aW9uID0gY29tYmluYXRpb25zW2ldO1xuICAgICAgICBjb25zdCBjb21iaW5hdGlvbkxlbmd0aCA9IGNvbWJpbmF0aW9uLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSB7XG4gICAgICAgICAgICB2YWx1ZXM6IFtdLFxuICAgICAgICAgICAgaW5kZXhlczogW11cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW5kZXhlcyA9IFtdO1xuICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgY29tYmluYXRpb25MZW5ndGg7IGorKyl7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbWJpbmF0aW9uW2pdO1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2pdO1xuICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGdbcHJvcGVydHldLnBlclZhbHVlW3R5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nID8gdmFsdWUgOiAnJyArIHZhbHVlXS5pbmRleGVzKTtcbiAgICAgICAgICAgIGdyb3VwLnZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBsZXZlcmFnZSBvbiB0aGUgaW5kZXggdG8gc29ydCB0aGUgcmVzdWx0cyBieSB0aGUgb3JpZ2luYWwgb3JkZXJcbiAgICAgICAgZ3JvdXAuaW5kZXhlcyA9IGludGVyc2VjdChpbmRleGVzKS5zb3J0KChhLCBiKT0+YSAtIGIpO1xuICAgICAgICAvLyBkb24ndCBnZW5lcmF0ZSBlbXB0eSBncm91cHNcbiAgICAgICAgaWYgKGdyb3VwLmluZGV4ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBncm91cHMucHVzaChncm91cCk7XG4gICAgfVxuICAgIGNvbnN0IGdyb3Vwc0xlbmd0aCA9IGdyb3Vwcy5sZW5ndGg7XG4gICAgY29uc3QgcmVzID0gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogZ3JvdXBzTGVuZ3RoXG4gICAgfSk7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGdyb3Vwc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgICAgIGNvbnN0IHJlZHVjZSA9IGdyb3VwQnkucmVkdWNlIHx8IERFRkFVTFRfUkVEVUNFO1xuICAgICAgICBjb25zdCBkb2NzID0gZ3JvdXAuaW5kZXhlcy5tYXAoKGluZGV4KT0+e1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogYWxsSURzW2luZGV4XSxcbiAgICAgICAgICAgICAgICBzY29yZTogcmVzdWx0c1tpbmRleF1bMV0sXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQ6IGFsbERvY3NbaW5kZXhdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZnVuYyA9IHJlZHVjZS5yZWR1Y2VyLmJpbmQobnVsbCwgZ3JvdXAudmFsdWVzKTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZhbHVlID0gcmVkdWNlLmdldEluaXRpYWxWYWx1ZShncm91cC5pbmRleGVzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGFnZ3JlZ2F0aW9uVmFsdWUgPSBkb2NzLnJlZHVjZShmdW5jLCBpbml0aWFsVmFsdWUpO1xuICAgICAgICByZXNbaV0gPSB7XG4gICAgICAgICAgICB2YWx1ZXM6IGdyb3VwLnZhbHVlcyxcbiAgICAgICAgICAgIHJlc3VsdDogYWdncmVnYXRpb25WYWx1ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlQ29tYmluYXRpb24oYXJycywgaW5kZXggPSAwKSB7XG4gICAgaWYgKGluZGV4ICsgMSA9PT0gYXJycy5sZW5ndGgpIHJldHVybiBhcnJzW2luZGV4XS5tYXAoKGl0ZW0pPT5bXG4gICAgICAgICAgICBpdGVtXG4gICAgICAgIF0pO1xuICAgIGNvbnN0IGhlYWQgPSBhcnJzW2luZGV4XTtcbiAgICBjb25zdCBjID0gY2FsY3VsYXRlQ29tYmluYXRpb24oYXJycywgaW5kZXggKyAxKTtcbiAgICBjb25zdCBjb21iaW5hdGlvbnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGhlYWQpe1xuICAgICAgICBmb3IgKGNvbnN0IGNvbWJpbmF0aW9uIG9mIGMpe1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gW1xuICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgc2FmZUFycmF5UHVzaChyZXN1bHQsIGNvbWJpbmF0aW9uKTtcbiAgICAgICAgICAgIGNvbWJpbmF0aW9ucy5wdXNoKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbWJpbmF0aW9ucztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JvdXBzLmpzLm1hcCIsImltcG9ydCB7IHByaW9yaXRpemVUb2tlblNjb3JlcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvYWxnb3JpdGhtcy5qcyc7XG5pbXBvcnQgeyBnZXRGYWNldHMgfSBmcm9tICcuLi9jb21wb25lbnRzL2ZhY2V0cy5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RGaWx0ZXJlZElEcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvZmlsdGVycy5qcyc7XG5pbXBvcnQgeyBnZXRHcm91cHMgfSBmcm9tICcuLi9jb21wb25lbnRzL2dyb3Vwcy5qcyc7XG5pbXBvcnQgeyBydW5BZnRlclNlYXJjaCwgcnVuQmVmb3JlU2VhcmNoIH0gZnJvbSAnLi4vY29tcG9uZW50cy9ob29rcy5qcyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudElkRnJvbUludGVybmFsSWQsIGdldEludGVybmFsRG9jdW1lbnRJZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgZ2V0TmFub3NlY29uZHNUaW1lLCBnZXROZXN0ZWQsIHNvcnRUb2tlblNjb3JlUHJlZGljYXRlLCBzYWZlQXJyYXlQdXNoIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuY29uc3QgZGVmYXVsdEJNMjVQYXJhbXMgPSB7XG4gICAgazogMS4yLFxuICAgIGI6IDAuNzUsXG4gICAgZDogMC41XG59O1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlU2VhcmNoQ29udGV4dCh0b2tlbml6ZXIsIGluZGV4LCBkb2N1bWVudHNTdG9yZSwgbGFuZ3VhZ2UsIHBhcmFtcywgcHJvcGVydGllcywgdG9rZW5zLCBkb2NzQ291bnQsIHRpbWVTdGFydCkge1xuICAgIC8vIElmIGZpbHRlcnMgYXJlIGVuYWJsZWQsIHdlIG5lZWQgdG8gZ2V0IHRoZSBJRHMgb2YgdGhlIGRvY3VtZW50cyB0aGF0IG1hdGNoIHRoZSBmaWx0ZXJzLlxuICAgIC8vIGNvbnN0IGhhc0ZpbHRlcnMgPSBPYmplY3Qua2V5cyhwYXJhbXMud2hlcmUgPz8ge30pLmxlbmd0aCA+IDA7XG4gICAgLy8gbGV0IHdoZXJlRmlsdGVyc0lEczogc3RyaW5nW10gPSBbXTtcbiAgICAvLyBpZiAoaGFzRmlsdGVycykge1xuICAgIC8vICAgd2hlcmVGaWx0ZXJzSURzID0gZ2V0V2hlcmVGaWx0ZXJzSURzKHBhcmFtcy53aGVyZSEsIG9yYW1hKTtcbiAgICAvLyB9XG4gICAgLy8gaW5kZXhNYXAgaXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBpbmRleGVzIGNvbnNpZGVyZWQgZm9yIHRoZSBjdXJyZW50IHNlYXJjaCxcbiAgICAvLyBhbmQgYW4gYXJyYXkgb2YgZG9jIElEcyBmb3IgZWFjaCB0b2tlbiBpbiBhbGwgdGhlIGluZGljZXMuXG4gICAgLy9cbiAgICAvLyBHaXZlbiB0aGUgc2VhcmNoIHRlcm0gXCJxdWljayBicm93biBmb3hcIiBvbiB0aGUgXCJkZXNjcmlwdGlvblwiIGluZGV4LFxuICAgIC8vIGluZGV4TWFwIHdpbGwgbG9vayBsaWtlIHRoaXM6XG4gICAgLy9cbiAgICAvLyB7XG4gICAgLy8gICBkZXNjcmlwdGlvbjoge1xuICAgIC8vICAgICBxdWljazogW2RvYzEsIGRvYzIsIGRvYzNdLFxuICAgIC8vICAgICBicm93bjogW2RvYzIsIGRvYzRdLFxuICAgIC8vICAgICBmb3g6ICAgW2RvYzJdXG4gICAgLy8gICB9XG4gICAgLy8gfVxuICAgIGNvbnN0IGluZGV4TWFwID0ge307XG4gICAgLy8gQWZ0ZXIgd2UgY3JlYXRlIHRoZSBpbmRleE1hcCwgd2UgbmVlZCB0byBjYWxjdWxhdGUgdGhlIGludGVyc2VjdGlvblxuICAgIC8vIGJldHdlZW4gYWxsIHRoZSBwb3N0aW5ncyBsaXN0cyBmb3IgZWFjaCB0b2tlbi5cbiAgICAvLyBHaXZlbiB0aGUgZXhhbXBsZSBhYm92ZSwgZG9jc0ludGVyc2VjdGlvbiB3aWxsIGxvb2sgbGlrZSB0aGlzOlxuICAgIC8vXG4gICAgLy8ge1xuICAgIC8vICAgZGVzY3JpcHRpb246IFtkb2MyXVxuICAgIC8vIH1cbiAgICAvL1xuICAgIC8vIGFzIGRvYzIgaXMgdGhlIG9ubHkgZG9jdW1lbnQgcHJlc2VudCBpbiBhbGwgdGhlIHBvc3RpbmdzIGxpc3RzIGZvciB0aGUgXCJkZXNjcmlwdGlvblwiIGluZGV4LlxuICAgIGNvbnN0IGRvY3NJbnRlcnNlY3Rpb24gPSB7fTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcGVydGllcyl7XG4gICAgICAgIGNvbnN0IHRva2Vuc01hcCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2Vucyl7XG4gICAgICAgICAgICB0b2tlbnNNYXBbdG9rZW5dID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXhNYXBbcHJvcF0gPSB0b2tlbnNNYXA7XG4gICAgICAgIGRvY3NJbnRlcnNlY3Rpb25bcHJvcF0gPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGltZVN0YXJ0LFxuICAgICAgICB0b2tlbml6ZXIsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBkb2N1bWVudHNTdG9yZSxcbiAgICAgICAgbGFuZ3VhZ2UsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgZG9jc0NvdW50LFxuICAgICAgICB1bmlxdWVEb2NzSURzOiB7fSxcbiAgICAgICAgaW5kZXhNYXAsXG4gICAgICAgIGRvY3NJbnRlcnNlY3Rpb25cbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaChvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSkge1xuICAgIGNvbnN0IHRpbWVTdGFydCA9IGF3YWl0IGdldE5hbm9zZWNvbmRzVGltZSgpO1xuICAgIHBhcmFtcy5yZWxldmFuY2UgPSBPYmplY3QuYXNzaWduKHBhcmFtcy5yZWxldmFuY2UgPz8ge30sIGRlZmF1bHRCTTI1UGFyYW1zKTtcbiAgICBjb25zdCBzaG91bGRDYWxjdWxhdGVGYWNldHMgPSBwYXJhbXMuZmFjZXRzICYmIE9iamVjdC5rZXlzKHBhcmFtcy5mYWNldHMpLmxlbmd0aCA+IDA7XG4gICAgY29uc3QgeyBsaW1pdCA9MTAgLCBvZmZzZXQgPTAgLCB0ZXJtICwgcHJvcGVydGllcyAsIHRocmVzaG9sZCA9MSAsIGRpc3RpbmN0T24gIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgaXNQcmVmbGlnaHQgPSBwYXJhbXMucHJlZmxpZ2h0ID09PSB0cnVlO1xuICAgIGNvbnN0IHsgaW5kZXggLCBkb2NzICB9ID0gb3JhbWEuZGF0YTtcbiAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCBvcmFtYS50b2tlbml6ZXIudG9rZW5pemUodGVybSA/PyAnJywgbGFuZ3VhZ2UpO1xuICAgIC8vIEdldCBzZWFyY2hhYmxlIHN0cmluZyBwcm9wZXJ0aWVzXG4gICAgbGV0IHByb3BlcnRpZXNUb1NlYXJjaCA9IG9yYW1hLmNhY2hlc1sncHJvcGVydGllc1RvU2VhcmNoJ107XG4gICAgaWYgKCFwcm9wZXJ0aWVzVG9TZWFyY2gpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydGllc1RvU2VhcmNoV2l0aFR5cGVzID0gYXdhaXQgb3JhbWEuaW5kZXguZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMoaW5kZXgpO1xuICAgICAgICBwcm9wZXJ0aWVzVG9TZWFyY2ggPSBhd2FpdCBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllcyhpbmRleCk7XG4gICAgICAgIHByb3BlcnRpZXNUb1NlYXJjaCA9IHByb3BlcnRpZXNUb1NlYXJjaC5maWx0ZXIoKHByb3ApPT5wcm9wZXJ0aWVzVG9TZWFyY2hXaXRoVHlwZXNbcHJvcF0uc3RhcnRzV2l0aCgnc3RyaW5nJykpO1xuICAgICAgICBvcmFtYS5jYWNoZXNbJ3Byb3BlcnRpZXNUb1NlYXJjaCddID0gcHJvcGVydGllc1RvU2VhcmNoO1xuICAgIH1cbiAgICBpZiAocHJvcGVydGllcyAmJiBwcm9wZXJ0aWVzICE9PSAnKicpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9wIG9mIHByb3BlcnRpZXMpe1xuICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzVG9TZWFyY2guaW5jbHVkZXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5LTk9XTl9JTkRFWCcsIHByb3AsIHByb3BlcnRpZXNUb1NlYXJjaC5qb2luKCcsICcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0aWVzVG9TZWFyY2ggPSBwcm9wZXJ0aWVzVG9TZWFyY2guZmlsdGVyKChwcm9wKT0+cHJvcGVydGllcy5pbmNsdWRlcyhwcm9wKSk7XG4gICAgfVxuICAgIC8vIENyZWF0ZSB0aGUgc2VhcmNoIGNvbnRleHQgYW5kIHRoZSByZXN1bHRzXG4gICAgY29uc3QgY29udGV4dCA9IGF3YWl0IGNyZWF0ZVNlYXJjaENvbnRleHQob3JhbWEudG9rZW5pemVyLCBvcmFtYS5pbmRleCwgb3JhbWEuZG9jdW1lbnRzU3RvcmUsIGxhbmd1YWdlLCBwYXJhbXMsIHByb3BlcnRpZXNUb1NlYXJjaCwgdG9rZW5zLCBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5jb3VudChkb2NzKSwgdGltZVN0YXJ0KTtcbiAgICAvLyBJZiBmaWx0ZXJzIGFyZSBlbmFibGVkLCB3ZSBuZWVkIHRvIGdldCB0aGUgSURzIG9mIHRoZSBkb2N1bWVudHMgdGhhdCBtYXRjaCB0aGUgZmlsdGVycy5cbiAgICBjb25zdCBoYXNGaWx0ZXJzID0gT2JqZWN0LmtleXMocGFyYW1zLndoZXJlID8/IHt9KS5sZW5ndGggPiAwO1xuICAgIGxldCB3aGVyZUZpbHRlcnNJRHMgPSBbXTtcbiAgICBpZiAoaGFzRmlsdGVycykge1xuICAgICAgICB3aGVyZUZpbHRlcnNJRHMgPSBhd2FpdCBvcmFtYS5pbmRleC5zZWFyY2hCeVdoZXJlQ2xhdXNlKGNvbnRleHQsIGluZGV4LCBwYXJhbXMud2hlcmUpO1xuICAgIH1cbiAgICBjb25zdCB0b2tlbnNMZW5ndGggPSB0b2tlbnMubGVuZ3RoO1xuICAgIGlmICh0b2tlbnNMZW5ndGggfHwgcHJvcGVydGllcyAmJiBwcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gTm93IGl0J3MgdGltZSB0byBsb29wIG92ZXIgYWxsIHRoZSBpbmRpY2VzIGFuZCBnZXQgdGhlIGRvY3VtZW50cyBJRHMgZm9yIGV2ZXJ5IHNpbmdsZSB0ZXJtXG4gICAgICAgIGNvbnN0IGluZGV4ZXNMZW5ndGggPSBwcm9wZXJ0aWVzVG9TZWFyY2gubGVuZ3RoO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgaW5kZXhlc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIHZhciBfcGFyYW1zX2Jvb3N0O1xuICAgICAgICAgICAgY29uc3QgcHJvcCA9IHByb3BlcnRpZXNUb1NlYXJjaFtpXTtcbiAgICAgICAgICAgIGlmICh0b2tlbnNMZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgdG9rZW5zTGVuZ3RoOyBqKyspe1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtID0gdG9rZW5zW2pdO1xuICAgICAgICAgICAgICAgICAgICAvLyBMb29rdXBcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcmVMaXN0ID0gYXdhaXQgb3JhbWEuaW5kZXguc2VhcmNoKGNvbnRleHQsIGluZGV4LCBwcm9wLCB0ZXJtKTtcbiAgICAgICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChjb250ZXh0LmluZGV4TWFwW3Byb3BdW3Rlcm1dLCBzY29yZUxpc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5pbmRleE1hcFtwcm9wXVsnJ10gPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZUxpc3QgPSBhd2FpdCBvcmFtYS5pbmRleC5zZWFyY2goY29udGV4dCwgaW5kZXgsIHByb3AsICcnKTtcbiAgICAgICAgICAgICAgICBzYWZlQXJyYXlQdXNoKGNvbnRleHQuaW5kZXhNYXBbcHJvcF1bJyddLCBzY29yZUxpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZG9jSWRzID0gY29udGV4dC5pbmRleE1hcFtwcm9wXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHMgPSBPYmplY3QudmFsdWVzKGRvY0lkcyk7XG4gICAgICAgICAgICBjb250ZXh0LmRvY3NJbnRlcnNlY3Rpb25bcHJvcF0gPSBwcmlvcml0aXplVG9rZW5TY29yZXModmFscywgKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcGFyYW1zX2Jvb3N0ID0gcGFyYW1zLmJvb3N0KSA9PT0gbnVsbCB8fCBfcGFyYW1zX2Jvb3N0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGFyYW1zX2Jvb3N0W3Byb3BdKSA/PyAxLCB0aHJlc2hvbGQsIHRva2Vuc0xlbmd0aCk7XG4gICAgICAgICAgICBjb25zdCB1bmlxdWVEb2NzID0gY29udGV4dC5kb2NzSW50ZXJzZWN0aW9uW3Byb3BdO1xuICAgICAgICAgICAgY29uc3QgdW5pcXVlRG9jc0xlbmd0aCA9IHVuaXF1ZURvY3MubGVuZ3RoO1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHVuaXF1ZURvY3NMZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgY29uc3QgW2lkLCBzY29yZV0gPSB1bmlxdWVEb2NzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZTY29yZSA9IGNvbnRleHQudW5pcXVlRG9jc0lEc1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKHByZXZTY29yZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnVuaXF1ZURvY3NJRHNbaWRdID0gcHJldlNjb3JlICsgc2NvcmUgKyAwLjU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC51bmlxdWVEb2NzSURzW2lkXSA9IHNjb3JlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCAmJiB0ZXJtKSB7XG4gICAgICAgIC8vIFRoaXMgY2FzZSBpcyBoYXJkIHRvIGhhbmRsZSBjb3JyZWN0bHkuXG4gICAgICAgIC8vIEZvciB0aGUgdGltZSBiZWluZywgaWYgdG9rZW5pemVyIHJldHVybnMgZW1wdHkgYXJyYXkgYnV0IHRoZSB0ZXJtIGlzIG5vdCBlbXB0eSxcbiAgICAgICAgLy8gd2UgcmV0dXJucyBhbiBlbXB0eSByZXN1bHQgc2V0XG4gICAgICAgIGNvbnRleHQudW5pcXVlRG9jc0lEcyA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHQudW5pcXVlRG9jc0lEcyA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3Qua2V5cyhhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5nZXRBbGwob3JhbWEuZGF0YS5kb2NzKSkubWFwKChrKT0+W1xuICAgICAgICAgICAgICAgIGssXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgXSkpO1xuICAgIH1cbiAgICAvLyBHZXQgdW5pcXVlIGRvYyBJRHMgZnJvbSB1bmlxdWVEb2NzSURzIG1hcFxuICAgIGxldCB1bmlxdWVEb2NzQXJyYXkgPSBPYmplY3QuZW50cmllcyhjb250ZXh0LnVuaXF1ZURvY3NJRHMpLm1hcCgoW2lkLCBzY29yZV0pPT5bXG4gICAgICAgICAgICAraWQsXG4gICAgICAgICAgICBzY29yZVxuICAgICAgICBdKTtcbiAgICAvLyBJZiBmaWx0ZXJzIGFyZSBlbmFibGVkLCB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgSURzIG9mIHRoZSBkb2N1bWVudHMgdGhhdCBkb24ndCBtYXRjaCB0aGUgZmlsdGVycy5cbiAgICBpZiAoaGFzRmlsdGVycykge1xuICAgICAgICB1bmlxdWVEb2NzQXJyYXkgPSBpbnRlcnNlY3RGaWx0ZXJlZElEcyh3aGVyZUZpbHRlcnNJRHMsIHVuaXF1ZURvY3NBcnJheSk7XG4gICAgfVxuICAgIGlmIChwYXJhbXMuc29ydEJ5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1zLnNvcnRCeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgaWRzID0gdW5pcXVlRG9jc0FycmF5Lm1hcCgoW2lkXSk9PmlkKTtcbiAgICAgICAgICAgIGNvbnN0IGRvY3MgPSBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5nZXRNdWx0aXBsZShvcmFtYS5kYXRhLmRvY3MsIGlkcyk7XG4gICAgICAgICAgICBjb25zdCBkb2NzV2l0aElkQW5kU2NvcmUgPSBkb2NzLm1hcCgoZCwgaSk9PltcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlRG9jc0FycmF5W2ldWzBdLFxuICAgICAgICAgICAgICAgICAgICB1bmlxdWVEb2NzQXJyYXlbaV1bMV0sXG4gICAgICAgICAgICAgICAgICAgIGRcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGRvY3NXaXRoSWRBbmRTY29yZS5zb3J0KHBhcmFtcy5zb3J0QnkpO1xuICAgICAgICAgICAgdW5pcXVlRG9jc0FycmF5ID0gZG9jc1dpdGhJZEFuZFNjb3JlLm1hcCgoW2lkLCBzY29yZV0pPT5bXG4gICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICBzY29yZVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5pcXVlRG9jc0FycmF5ID0gYXdhaXQgb3JhbWEuc29ydGVyLnNvcnRCeShvcmFtYS5kYXRhLnNvcnRpbmcsIHVuaXF1ZURvY3NBcnJheSwgcGFyYW1zLnNvcnRCeSkudGhlbigocmVzdWx0cyk9PnJlc3VsdHMubWFwKChbaWQsIHNjb3JlXSk9PltcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEludGVybmFsRG9jdW1lbnRJZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVcbiAgICAgICAgICAgICAgICAgICAgXSkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdW5pcXVlRG9jc0FycmF5ID0gdW5pcXVlRG9jc0FycmF5LnNvcnQoc29ydFRva2VuU2NvcmVQcmVkaWNhdGUpO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0cztcbiAgICBpZiAoIWlzUHJlZmxpZ2h0ICYmIGRpc3RpbmN0T24pIHtcbiAgICAgICAgcmVzdWx0cyA9IGF3YWl0IGZldGNoRG9jdW1lbnRzV2l0aERpc3RpbmN0KG9yYW1hLCB1bmlxdWVEb2NzQXJyYXksIG9mZnNldCwgbGltaXQsIGRpc3RpbmN0T24pO1xuICAgIH0gZWxzZSBpZiAoIWlzUHJlZmxpZ2h0KSB7XG4gICAgICAgIHJlc3VsdHMgPSBhd2FpdCBmZXRjaERvY3VtZW50cyhvcmFtYSwgdW5pcXVlRG9jc0FycmF5LCBvZmZzZXQsIGxpbWl0KTtcbiAgICB9XG4gICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0ge1xuICAgICAgICBlbGFwc2VkOiB7XG4gICAgICAgICAgICBmb3JtYXR0ZWQ6ICcnLFxuICAgICAgICAgICAgcmF3OiAwXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFdlIGtlZXAgdGhlIGhpdHMgYXJyYXkgZW1wdHkgaWYgaXQncyBhIHByZWZsaWdodCByZXF1ZXN0LlxuICAgICAgICBoaXRzOiBbXSxcbiAgICAgICAgY291bnQ6IHVuaXF1ZURvY3NBcnJheS5sZW5ndGhcbiAgICB9O1xuICAgIGlmICh0eXBlb2YgcmVzdWx0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VhcmNoUmVzdWx0LmhpdHMgPSByZXN1bHRzLmZpbHRlcihCb29sZWFuKTtcbiAgICB9XG4gICAgaWYgKHNob3VsZENhbGN1bGF0ZUZhY2V0cykge1xuICAgICAgICAvLyBQb3B1bGF0ZSBmYWNldHMgaWYgbmVlZGVkXG4gICAgICAgIGNvbnN0IGZhY2V0cyA9IGF3YWl0IGdldEZhY2V0cyhvcmFtYSwgdW5pcXVlRG9jc0FycmF5LCBwYXJhbXMuZmFjZXRzKTtcbiAgICAgICAgc2VhcmNoUmVzdWx0LmZhY2V0cyA9IGZhY2V0cztcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5ncm91cEJ5KSB7XG4gICAgICAgIHNlYXJjaFJlc3VsdC5ncm91cHMgPSBhd2FpdCBnZXRHcm91cHMob3JhbWEsIHVuaXF1ZURvY3NBcnJheSwgcGFyYW1zLmdyb3VwQnkpO1xuICAgIH1cbiAgICBpZiAob3JhbWEuYmVmb3JlU2VhcmNoKSB7XG4gICAgICAgIGF3YWl0IHJ1bkJlZm9yZVNlYXJjaChvcmFtYS5iZWZvcmVTZWFyY2gsIG9yYW1hLCBwYXJhbXMsIGxhbmd1YWdlKTtcbiAgICB9XG4gICAgaWYgKG9yYW1hLmFmdGVyU2VhcmNoKSB7XG4gICAgICAgIGF3YWl0IHJ1bkFmdGVyU2VhcmNoKG9yYW1hLmFmdGVyU2VhcmNoLCBvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSwgc2VhcmNoUmVzdWx0KTtcbiAgICB9XG4gICAgLy8gQ2FsY3VsYXRlIGVsYXBzZWQgdGltZSBvbmx5IGF0IHRoZSBlbmQgb2YgdGhlIGZ1bmN0aW9uXG4gICAgc2VhcmNoUmVzdWx0LmVsYXBzZWQgPSBhd2FpdCBvcmFtYS5mb3JtYXRFbGFwc2VkVGltZShhd2FpdCBnZXROYW5vc2Vjb25kc1RpbWUoKSAtIGNvbnRleHQudGltZVN0YXJ0KTtcbiAgICByZXR1cm4gc2VhcmNoUmVzdWx0O1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hEb2N1bWVudHNXaXRoRGlzdGluY3Qob3JhbWEsIHVuaXF1ZURvY3NBcnJheSwgb2Zmc2V0LCBsaW1pdCwgZGlzdGluY3RPbikge1xuICAgIGNvbnN0IGRvY3MgPSBvcmFtYS5kYXRhLmRvY3M7XG4gICAgLy8gS2VlcCB0cmFjayB3aGljaCB2YWx1ZXMgd2UgYWxyZWFkeSBzZWVuXG4gICAgY29uc3QgdmFsdWVzID0gbmV3IE1hcCgpO1xuICAgIC8vIFdlIGNhbm5vdCBrbm93IGhvdyBtYW55IHJlc3VsdHMgd2Ugd2lsbCBoYXZlIGluIHRoZSBlbmQsXG4gICAgLy8gc28gd2UgbmVlZCBjYW5ub3QgcHJlLWFsbG9jYXRlIHRoZSBhcnJheS5cbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgY29uc3QgcmVzdWx0SURzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHVuaXF1ZURvY3NBcnJheUxlbmd0aCA9IHVuaXF1ZURvY3NBcnJheS5sZW5ndGg7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdW5pcXVlRG9jc0FycmF5TGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBpZEFuZFNjb3JlID0gdW5pcXVlRG9jc0FycmF5W2ldO1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gbW9yZSByZXN1bHRzLCBqdXN0IGJyZWFrIHRoZSBsb29wXG4gICAgICAgIGlmICh0eXBlb2YgaWRBbmRTY29yZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtpZCwgc2NvcmVdID0gaWRBbmRTY29yZTtcbiAgICAgICAgaWYgKHJlc3VsdElEcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkb2MgPSBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5nZXQoZG9jcywgaWQpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGdldE5lc3RlZChkb2MsIGRpc3RpbmN0T24pO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyB8fCB2YWx1ZXMuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzLnNldCh2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICAgIC8vIFdlIHNob3VsZG4ndCBjb25zaWRlciB0aGUgZG9jdW1lbnQgaWYgaXQncyBub3QgaW4gdGhlIG9mZnNldCByYW5nZVxuICAgICAgICBpZiAoY291bnQgPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IGdldERvY3VtZW50SWRGcm9tSW50ZXJuYWxJZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgaWQpLFxuICAgICAgICAgICAgc2NvcmUsXG4gICAgICAgICAgICBkb2N1bWVudDogZG9jXG4gICAgICAgIH0pO1xuICAgICAgICByZXN1bHRJRHMuYWRkKGlkKTtcbiAgICAgICAgLy8gcmVhY2hlZCB0aGUgbGltaXQsIGJyZWFrIHRoZSBsb29wXG4gICAgICAgIGlmIChjb3VudCA+PSBvZmZzZXQgKyBsaW1pdCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaERvY3VtZW50cyhvcmFtYSwgdW5pcXVlRG9jc0FycmF5LCBvZmZzZXQsIGxpbWl0KSB7XG4gICAgY29uc3QgZG9jcyA9IG9yYW1hLmRhdGEuZG9jcztcbiAgICBjb25zdCByZXN1bHRzID0gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogbGltaXRcbiAgICB9KTtcbiAgICBjb25zdCByZXN1bHRJRHMgPSBuZXcgU2V0KCk7XG4gICAgLy8gV2UgYWxyZWFkeSBoYXZlIHRoZSBsaXN0IG9mIEFMTCB0aGUgZG9jdW1lbnQgSURzIGNvbnRhaW5pbmcgdGhlIHNlYXJjaCB0ZXJtcy5cbiAgICAvLyBXZSBsb29wIG92ZXIgdGhlbSBzdGFydGluZyBmcm9tIGEgcG9zaXRpb25hbCB2YWx1ZSBcIm9mZnNldFwiIGFuZCBlbmRpbmcgYXQgXCJvZmZzZXQgKyBsaW1pdFwiXG4gICAgLy8gdG8gcHJvdmlkZSBwYWdpbmF0aW9uIGNhcGFiaWxpdGllcyB0byB0aGUgc2VhcmNoLlxuICAgIGZvcihsZXQgaSA9IG9mZnNldDsgaSA8IGxpbWl0ICsgb2Zmc2V0OyBpKyspe1xuICAgICAgICBjb25zdCBpZEFuZFNjb3JlID0gdW5pcXVlRG9jc0FycmF5W2ldO1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gbW9yZSByZXN1bHRzLCBqdXN0IGJyZWFrIHRoZSBsb29wXG4gICAgICAgIGlmICh0eXBlb2YgaWRBbmRTY29yZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtpZCwgc2NvcmVdID0gaWRBbmRTY29yZTtcbiAgICAgICAgaWYgKCFyZXN1bHRJRHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgLy8gV2UgcmV0cmlldmUgdGhlIGZ1bGwgZG9jdW1lbnQgb25seSBBRlRFUiBtYWtpbmcgc3VyZSB0aGF0IHdlIHJlYWxseSB3YW50IGl0LlxuICAgICAgICAgICAgLy8gV2UgbmV2ZXIgcmV0cmlldmUgdGhlIGZ1bGwgZG9jdW1lbnQgcHJldmVudGl2ZWx5LlxuICAgICAgICAgICAgY29uc3QgZnVsbERvYyA9IGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmdldChkb2NzLCBpZCk7XG4gICAgICAgICAgICByZXN1bHRzW2ldID0ge1xuICAgICAgICAgICAgICAgIGlkOiBnZXREb2N1bWVudElkRnJvbUludGVybmFsSWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIGlkKSxcbiAgICAgICAgICAgICAgICBzY29yZSxcbiAgICAgICAgICAgICAgICBkb2N1bWVudDogZnVsbERvY1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlc3VsdElEcy5hZGQoaWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZWFyY2guanMubWFwIiwiaW1wb3J0IHsgZmluZFNpbWlsYXJWZWN0b3JzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb3NpbmUtc2ltaWxhcml0eS5qcyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbERvY3VtZW50SWQgfSBmcm9tICcuLi9jb21wb25lbnRzL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGZvcm1hdE5hbm9zZWNvbmRzLCBnZXROYW5vc2Vjb25kc1RpbWUgfSBmcm9tICcuLi91dGlscy5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoVmVjdG9yKG9yYW1hLCBwYXJhbXMpIHtcbiAgICBjb25zdCB0aW1lU3RhcnQgPSBhd2FpdCBnZXROYW5vc2Vjb25kc1RpbWUoKTtcbiAgICBsZXQgeyB2ZWN0b3IgIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgeyBwcm9wZXJ0eSAsIGxpbWl0ID0xMCAsIG9mZnNldCA9MCAsIGluY2x1ZGVWZWN0b3JzID1mYWxzZSAgfSA9IHBhcmFtcztcbiAgICBjb25zdCB2ZWN0b3JJbmRleCA9IG9yYW1hLmRhdGEuaW5kZXgudmVjdG9ySW5kZXhlc1twcm9wZXJ0eV07XG4gICAgY29uc3QgdmVjdG9yU2l6ZSA9IHZlY3RvckluZGV4LnNpemU7XG4gICAgY29uc3QgdmVjdG9ycyA9IHZlY3RvckluZGV4LnZlY3RvcnM7XG4gICAgaWYgKHZlY3Rvci5sZW5ndGggIT09IHZlY3RvclNpemUpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfSU5QVVRfVkVDVE9SJywgcHJvcGVydHksIHZlY3RvclNpemUsIHZlY3Rvci5sZW5ndGgpO1xuICAgIH1cbiAgICBpZiAoISh2ZWN0b3IgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpKSB7XG4gICAgICAgIHZlY3RvciA9IG5ldyBGbG9hdDMyQXJyYXkodmVjdG9yKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IGZpbmRTaW1pbGFyVmVjdG9ycyh2ZWN0b3IsIHZlY3RvcnMsIHZlY3RvclNpemUsIHBhcmFtcy5zaW1pbGFyaXR5KTtcbiAgICBjb25zdCBkb2NzID0gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogbGltaXRcbiAgICB9KTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGltaXQ7IGkrKyl7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdHNbaSArIG9mZnNldF07XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcmlnaW5hbElEID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCByZXN1bHQuaWQpO1xuICAgICAgICBjb25zdCBkb2MgPSBvcmFtYS5kYXRhLmRvY3MuZG9jc1tvcmlnaW5hbElEXTtcbiAgICAgICAgaWYgKGRvYykge1xuICAgICAgICAgICAgaWYgKCFpbmNsdWRlVmVjdG9ycykge1xuICAgICAgICAgICAgICAgIGRvY1twcm9wZXJ0eV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmV3RG9jID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXN1bHQuaWQsXG4gICAgICAgICAgICAgICAgc2NvcmU6IHJlc3VsdC5zY29yZSxcbiAgICAgICAgICAgICAgICBkb2N1bWVudDogZG9jXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZG9jc1tpXSA9IG5ld0RvYztcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0aW1lRW5kID0gYXdhaXQgZ2V0TmFub3NlY29uZHNUaW1lKCk7XG4gICAgY29uc3QgZWxhcHNlZFRpbWUgPSB0aW1lRW5kIC0gdGltZVN0YXJ0O1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvdW50OiByZXN1bHRzLmxlbmd0aCxcbiAgICAgICAgaGl0czogZG9jcy5maWx0ZXIoQm9vbGVhbiksXG4gICAgICAgIGVsYXBzZWQ6IHtcbiAgICAgICAgICAgIHJhdzogTnVtYmVyKGVsYXBzZWRUaW1lKSxcbiAgICAgICAgICAgIGZvcm1hdHRlZDogYXdhaXQgZm9ybWF0TmFub3NlY29uZHMoZWxhcHNlZFRpbWUpXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZWFyY2gtdmVjdG9yLmpzLm1hcCIsImV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkKG9yYW1hLCByYXcpIHtcbiAgICBvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZS5sb2FkKG9yYW1hLCByYXcuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUpO1xuICAgIG9yYW1hLmRhdGEuaW5kZXggPSBhd2FpdCBvcmFtYS5pbmRleC5sb2FkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCByYXcuaW5kZXgpO1xuICAgIG9yYW1hLmRhdGEuZG9jcyA9IGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmxvYWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIHJhdy5kb2NzKTtcbiAgICBvcmFtYS5kYXRhLnNvcnRpbmcgPSBhd2FpdCBvcmFtYS5zb3J0ZXIubG9hZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgcmF3LnNvcnRpbmcpO1xuICAgIG9yYW1hLnRva2VuaXplci5sYW5ndWFnZSA9IHJhdy5sYW5ndWFnZTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlKG9yYW1hKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW50ZXJuYWxEb2N1bWVudElEU3RvcmU6IG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLnNhdmUob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUpLFxuICAgICAgICBpbmRleDogYXdhaXQgb3JhbWEuaW5kZXguc2F2ZShvcmFtYS5kYXRhLmluZGV4KSxcbiAgICAgICAgZG9jczogYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUuc2F2ZShvcmFtYS5kYXRhLmRvY3MpLFxuICAgICAgICBzb3J0aW5nOiBhd2FpdCBvcmFtYS5zb3J0ZXIuc2F2ZShvcmFtYS5kYXRhLnNvcnRpbmcpLFxuICAgICAgICBsYW5ndWFnZTogb3JhbWEudG9rZW5pemVyLmxhbmd1YWdlXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VyaWFsaXphdGlvbi5qcy5tYXAiLCIvLyBJbnRlZ2VyIFV0aWxpdHlcbmV4cG9ydCB2YXIgVUlOVDMyX01BWCA9IDQyOTQ5NjcyOTU7XG4vLyBEYXRhVmlldyBleHRlbnNpb24gdG8gaGFuZGxlIGludDY0IC8gdWludDY0LFxuLy8gd2hlcmUgdGhlIGFjdHVhbCByYW5nZSBpcyA1My1iaXRzIGludGVnZXIgKGEuay5hLiBzYWZlIGludGVnZXIpXG5leHBvcnQgZnVuY3Rpb24gc2V0VWludDY0KHZpZXcsIG9mZnNldCwgdmFsdWUpIHtcbiAgICB2YXIgaGlnaCA9IHZhbHVlIC8gNDI5NDk2NzI5NjtcbiAgICB2YXIgbG93ID0gdmFsdWU7IC8vIGhpZ2ggYml0cyBhcmUgdHJ1bmNhdGVkIGJ5IERhdGFWaWV3XG4gICAgdmlldy5zZXRVaW50MzIob2Zmc2V0LCBoaWdoKTtcbiAgICB2aWV3LnNldFVpbnQzMihvZmZzZXQgKyA0LCBsb3cpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldEludDY0KHZpZXcsIG9mZnNldCwgdmFsdWUpIHtcbiAgICB2YXIgaGlnaCA9IE1hdGguZmxvb3IodmFsdWUgLyA0Mjk0OTY3Mjk2KTtcbiAgICB2YXIgbG93ID0gdmFsdWU7IC8vIGhpZ2ggYml0cyBhcmUgdHJ1bmNhdGVkIGJ5IERhdGFWaWV3XG4gICAgdmlldy5zZXRVaW50MzIob2Zmc2V0LCBoaWdoKTtcbiAgICB2aWV3LnNldFVpbnQzMihvZmZzZXQgKyA0LCBsb3cpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEludDY0KHZpZXcsIG9mZnNldCkge1xuICAgIHZhciBoaWdoID0gdmlldy5nZXRJbnQzMihvZmZzZXQpO1xuICAgIHZhciBsb3cgPSB2aWV3LmdldFVpbnQzMihvZmZzZXQgKyA0KTtcbiAgICByZXR1cm4gaGlnaCAqIDQyOTQ5NjcyOTYgKyBsb3c7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VWludDY0KHZpZXcsIG9mZnNldCkge1xuICAgIHZhciBoaWdoID0gdmlldy5nZXRVaW50MzIob2Zmc2V0KTtcbiAgICB2YXIgbG93ID0gdmlldy5nZXRVaW50MzIob2Zmc2V0ICsgNCk7XG4gICAgcmV0dXJuIGhpZ2ggKiA0Mjk0OTY3Mjk2ICsgbG93O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50Lm1qcy5tYXAiLCJ2YXIgX2EsIF9iLCBfYztcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS1jb25kaXRpb24gKi9cbmltcG9ydCB7IFVJTlQzMl9NQVggfSBmcm9tIFwiLi9pbnQubWpzXCI7XG52YXIgVEVYVF9FTkNPRElOR19BVkFJTEFCTEUgPSAodHlwZW9mIHByb2Nlc3MgPT09IFwidW5kZWZpbmVkXCIgfHwgKChfYSA9IHByb2Nlc3MgPT09IG51bGwgfHwgcHJvY2VzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvY2Vzcy5lbnYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtcIlRFWFRfRU5DT0RJTkdcIl0pICE9PSBcIm5ldmVyXCIpICYmXG4gICAgdHlwZW9mIFRleHRFbmNvZGVyICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIFRleHREZWNvZGVyICE9PSBcInVuZGVmaW5lZFwiO1xuZXhwb3J0IGZ1bmN0aW9uIHV0ZjhDb3VudChzdHIpIHtcbiAgICB2YXIgc3RyTGVuZ3RoID0gc3RyLmxlbmd0aDtcbiAgICB2YXIgYnl0ZUxlbmd0aCA9IDA7XG4gICAgdmFyIHBvcyA9IDA7XG4gICAgd2hpbGUgKHBvcyA8IHN0ckxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBzdHIuY2hhckNvZGVBdChwb3MrKyk7XG4gICAgICAgIGlmICgodmFsdWUgJiAweGZmZmZmZjgwKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gMS1ieXRlXG4gICAgICAgICAgICBieXRlTGVuZ3RoKys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgodmFsdWUgJiAweGZmZmZmODAwKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gMi1ieXRlc1xuICAgICAgICAgICAgYnl0ZUxlbmd0aCArPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaGFuZGxlIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICAgICAgICBpZiAodmFsdWUgPj0gMHhkODAwICYmIHZhbHVlIDw9IDB4ZGJmZikge1xuICAgICAgICAgICAgICAgIC8vIGhpZ2ggc3Vycm9nYXRlXG4gICAgICAgICAgICAgICAgaWYgKHBvcyA8IHN0ckxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0cmEgPSBzdHIuY2hhckNvZGVBdChwb3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKGV4dHJhICYgMHhmYzAwKSA9PT0gMHhkYzAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3BvcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gKCh2YWx1ZSAmIDB4M2ZmKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNmZikgKyAweDEwMDAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4ZmZmZjAwMDApID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gMy1ieXRlXG4gICAgICAgICAgICAgICAgYnl0ZUxlbmd0aCArPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gNC1ieXRlXG4gICAgICAgICAgICAgICAgYnl0ZUxlbmd0aCArPSA0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBieXRlTGVuZ3RoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHV0ZjhFbmNvZGVKcyhzdHIsIG91dHB1dCwgb3V0cHV0T2Zmc2V0KSB7XG4gICAgdmFyIHN0ckxlbmd0aCA9IHN0ci5sZW5ndGg7XG4gICAgdmFyIG9mZnNldCA9IG91dHB1dE9mZnNldDtcbiAgICB2YXIgcG9zID0gMDtcbiAgICB3aGlsZSAocG9zIDwgc3RyTGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHN0ci5jaGFyQ29kZUF0KHBvcysrKTtcbiAgICAgICAgaWYgKCh2YWx1ZSAmIDB4ZmZmZmZmODApID09PSAwKSB7XG4gICAgICAgICAgICAvLyAxLWJ5dGVcbiAgICAgICAgICAgIG91dHB1dFtvZmZzZXQrK10gPSB2YWx1ZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCh2YWx1ZSAmIDB4ZmZmZmY4MDApID09PSAwKSB7XG4gICAgICAgICAgICAvLyAyLWJ5dGVzXG4gICAgICAgICAgICBvdXRwdXRbb2Zmc2V0KytdID0gKCh2YWx1ZSA+PiA2KSAmIDB4MWYpIHwgMHhjMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBzdXJyb2dhdGUgcGFpclxuICAgICAgICAgICAgaWYgKHZhbHVlID49IDB4ZDgwMCAmJiB2YWx1ZSA8PSAweGRiZmYpIHtcbiAgICAgICAgICAgICAgICAvLyBoaWdoIHN1cnJvZ2F0ZVxuICAgICAgICAgICAgICAgIGlmIChwb3MgPCBzdHJMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dHJhID0gc3RyLmNoYXJDb2RlQXQocG9zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChleHRyYSAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKytwb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICgodmFsdWUgJiAweDNmZikgPDwgMTApICsgKGV4dHJhICYgMHgzZmYpICsgMHgxMDAwMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodmFsdWUgJiAweGZmZmYwMDAwKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIDMtYnl0ZVxuICAgICAgICAgICAgICAgIG91dHB1dFtvZmZzZXQrK10gPSAoKHZhbHVlID4+IDEyKSAmIDB4MGYpIHwgMHhlMDtcbiAgICAgICAgICAgICAgICBvdXRwdXRbb2Zmc2V0KytdID0gKCh2YWx1ZSA+PiA2KSAmIDB4M2YpIHwgMHg4MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIDQtYnl0ZVxuICAgICAgICAgICAgICAgIG91dHB1dFtvZmZzZXQrK10gPSAoKHZhbHVlID4+IDE4KSAmIDB4MDcpIHwgMHhmMDtcbiAgICAgICAgICAgICAgICBvdXRwdXRbb2Zmc2V0KytdID0gKCh2YWx1ZSA+PiAxMikgJiAweDNmKSB8IDB4ODA7XG4gICAgICAgICAgICAgICAgb3V0cHV0W29mZnNldCsrXSA9ICgodmFsdWUgPj4gNikgJiAweDNmKSB8IDB4ODA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0W29mZnNldCsrXSA9ICh2YWx1ZSAmIDB4M2YpIHwgMHg4MDtcbiAgICB9XG59XG52YXIgc2hhcmVkVGV4dEVuY29kZXIgPSBURVhUX0VOQ09ESU5HX0FWQUlMQUJMRSA/IG5ldyBUZXh0RW5jb2RlcigpIDogdW5kZWZpbmVkO1xuZXhwb3J0IHZhciBURVhUX0VOQ09ERVJfVEhSRVNIT0xEID0gIVRFWFRfRU5DT0RJTkdfQVZBSUxBQkxFXG4gICAgPyBVSU5UMzJfTUFYXG4gICAgOiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiAoKF9iID0gcHJvY2VzcyA9PT0gbnVsbCB8fCBwcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9jZXNzLmVudikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iW1wiVEVYVF9FTkNPRElOR1wiXSkgIT09IFwiZm9yY2VcIlxuICAgICAgICA/IDIwMFxuICAgICAgICA6IDA7XG5mdW5jdGlvbiB1dGY4RW5jb2RlVEVlbmNvZGUoc3RyLCBvdXRwdXQsIG91dHB1dE9mZnNldCkge1xuICAgIG91dHB1dC5zZXQoc2hhcmVkVGV4dEVuY29kZXIuZW5jb2RlKHN0ciksIG91dHB1dE9mZnNldCk7XG59XG5mdW5jdGlvbiB1dGY4RW5jb2RlVEVlbmNvZGVJbnRvKHN0ciwgb3V0cHV0LCBvdXRwdXRPZmZzZXQpIHtcbiAgICBzaGFyZWRUZXh0RW5jb2Rlci5lbmNvZGVJbnRvKHN0ciwgb3V0cHV0LnN1YmFycmF5KG91dHB1dE9mZnNldCkpO1xufVxuZXhwb3J0IHZhciB1dGY4RW5jb2RlVEUgPSAoc2hhcmVkVGV4dEVuY29kZXIgPT09IG51bGwgfHwgc2hhcmVkVGV4dEVuY29kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNoYXJlZFRleHRFbmNvZGVyLmVuY29kZUludG8pID8gdXRmOEVuY29kZVRFZW5jb2RlSW50byA6IHV0ZjhFbmNvZGVURWVuY29kZTtcbnZhciBDSFVOS19TSVpFID0gNDA5NjtcbmV4cG9ydCBmdW5jdGlvbiB1dGY4RGVjb2RlSnMoYnl0ZXMsIGlucHV0T2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gICAgdmFyIG9mZnNldCA9IGlucHV0T2Zmc2V0O1xuICAgIHZhciBlbmQgPSBvZmZzZXQgKyBieXRlTGVuZ3RoO1xuICAgIHZhciB1bml0cyA9IFtdO1xuICAgIHZhciByZXN1bHQgPSBcIlwiO1xuICAgIHdoaWxlIChvZmZzZXQgPCBlbmQpIHtcbiAgICAgICAgdmFyIGJ5dGUxID0gYnl0ZXNbb2Zmc2V0KytdO1xuICAgICAgICBpZiAoKGJ5dGUxICYgMHg4MCkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIDEgYnl0ZVxuICAgICAgICAgICAgdW5pdHMucHVzaChieXRlMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGJ5dGUxICYgMHhlMCkgPT09IDB4YzApIHtcbiAgICAgICAgICAgIC8vIDIgYnl0ZXNcbiAgICAgICAgICAgIHZhciBieXRlMiA9IGJ5dGVzW29mZnNldCsrXSAmIDB4M2Y7XG4gICAgICAgICAgICB1bml0cy5wdXNoKCgoYnl0ZTEgJiAweDFmKSA8PCA2KSB8IGJ5dGUyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoYnl0ZTEgJiAweGYwKSA9PT0gMHhlMCkge1xuICAgICAgICAgICAgLy8gMyBieXRlc1xuICAgICAgICAgICAgdmFyIGJ5dGUyID0gYnl0ZXNbb2Zmc2V0KytdICYgMHgzZjtcbiAgICAgICAgICAgIHZhciBieXRlMyA9IGJ5dGVzW29mZnNldCsrXSAmIDB4M2Y7XG4gICAgICAgICAgICB1bml0cy5wdXNoKCgoYnl0ZTEgJiAweDFmKSA8PCAxMikgfCAoYnl0ZTIgPDwgNikgfCBieXRlMyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGJ5dGUxICYgMHhmOCkgPT09IDB4ZjApIHtcbiAgICAgICAgICAgIC8vIDQgYnl0ZXNcbiAgICAgICAgICAgIHZhciBieXRlMiA9IGJ5dGVzW29mZnNldCsrXSAmIDB4M2Y7XG4gICAgICAgICAgICB2YXIgYnl0ZTMgPSBieXRlc1tvZmZzZXQrK10gJiAweDNmO1xuICAgICAgICAgICAgdmFyIGJ5dGU0ID0gYnl0ZXNbb2Zmc2V0KytdICYgMHgzZjtcbiAgICAgICAgICAgIHZhciB1bml0ID0gKChieXRlMSAmIDB4MDcpIDw8IDB4MTIpIHwgKGJ5dGUyIDw8IDB4MGMpIHwgKGJ5dGUzIDw8IDB4MDYpIHwgYnl0ZTQ7XG4gICAgICAgICAgICBpZiAodW5pdCA+IDB4ZmZmZikge1xuICAgICAgICAgICAgICAgIHVuaXQgLT0gMHgxMDAwMDtcbiAgICAgICAgICAgICAgICB1bml0cy5wdXNoKCgodW5pdCA+Pj4gMTApICYgMHgzZmYpIHwgMHhkODAwKTtcbiAgICAgICAgICAgICAgICB1bml0ID0gMHhkYzAwIHwgKHVuaXQgJiAweDNmZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bml0cy5wdXNoKHVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdW5pdHMucHVzaChieXRlMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuaXRzLmxlbmd0aCA+PSBDSFVOS19TSVpFKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIHVuaXRzKTtcbiAgICAgICAgICAgIHVuaXRzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVuaXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCB1bml0cyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG52YXIgc2hhcmVkVGV4dERlY29kZXIgPSBURVhUX0VOQ09ESU5HX0FWQUlMQUJMRSA/IG5ldyBUZXh0RGVjb2RlcigpIDogbnVsbDtcbmV4cG9ydCB2YXIgVEVYVF9ERUNPREVSX1RIUkVTSE9MRCA9ICFURVhUX0VOQ09ESU5HX0FWQUlMQUJMRVxuICAgID8gVUlOVDMyX01BWFxuICAgIDogdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgKChfYyA9IHByb2Nlc3MgPT09IG51bGwgfHwgcHJvY2VzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvY2Vzcy5lbnYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1tcIlRFWFRfREVDT0RFUlwiXSkgIT09IFwiZm9yY2VcIlxuICAgICAgICA/IDIwMFxuICAgICAgICA6IDA7XG5leHBvcnQgZnVuY3Rpb24gdXRmOERlY29kZVREKGJ5dGVzLCBpbnB1dE9mZnNldCwgYnl0ZUxlbmd0aCkge1xuICAgIHZhciBzdHJpbmdCeXRlcyA9IGJ5dGVzLnN1YmFycmF5KGlucHV0T2Zmc2V0LCBpbnB1dE9mZnNldCArIGJ5dGVMZW5ndGgpO1xuICAgIHJldHVybiBzaGFyZWRUZXh0RGVjb2Rlci5kZWNvZGUoc3RyaW5nQnl0ZXMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRmOC5tanMubWFwIiwiLyoqXG4gKiBFeHREYXRhIGlzIHVzZWQgdG8gaGFuZGxlIEV4dGVuc2lvbiBUeXBlcyB0aGF0IGFyZSBub3QgcmVnaXN0ZXJlZCB0byBFeHRlbnNpb25Db2RlYy5cbiAqL1xudmFyIEV4dERhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXh0RGF0YSh0eXBlLCBkYXRhKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuICAgIHJldHVybiBFeHREYXRhO1xufSgpKTtcbmV4cG9ydCB7IEV4dERhdGEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV4dERhdGEubWpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgRGVjb2RlRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlY29kZUVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlY29kZUVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSkgfHwgdGhpcztcbiAgICAgICAgLy8gZml4IHRoZSBwcm90b3R5cGUgY2hhaW4gaW4gYSBjcm9zcy1wbGF0Zm9ybSB3YXlcbiAgICAgICAgdmFyIHByb3RvID0gT2JqZWN0LmNyZWF0ZShEZWNvZGVFcnJvci5wcm90b3R5cGUpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIHByb3RvKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogRGVjb2RlRXJyb3IubmFtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIERlY29kZUVycm9yO1xufShFcnJvcikpO1xuZXhwb3J0IHsgRGVjb2RlRXJyb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlY29kZUVycm9yLm1qcy5tYXAiLCIvLyBodHRwczovL2dpdGh1Yi5jb20vbXNncGFjay9tc2dwYWNrL2Jsb2IvbWFzdGVyL3NwZWMubWQjdGltZXN0YW1wLWV4dGVuc2lvbi10eXBlXG5pbXBvcnQgeyBEZWNvZGVFcnJvciB9IGZyb20gXCIuL0RlY29kZUVycm9yLm1qc1wiO1xuaW1wb3J0IHsgZ2V0SW50NjQsIHNldEludDY0IH0gZnJvbSBcIi4vdXRpbHMvaW50Lm1qc1wiO1xuZXhwb3J0IHZhciBFWFRfVElNRVNUQU1QID0gLTE7XG52YXIgVElNRVNUQU1QMzJfTUFYX1NFQyA9IDB4MTAwMDAwMDAwIC0gMTsgLy8gMzItYml0IHVuc2lnbmVkIGludFxudmFyIFRJTUVTVEFNUDY0X01BWF9TRUMgPSAweDQwMDAwMDAwMCAtIDE7IC8vIDM0LWJpdCB1bnNpZ25lZCBpbnRcbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVUaW1lU3BlY1RvVGltZXN0YW1wKF9hKSB7XG4gICAgdmFyIHNlYyA9IF9hLnNlYywgbnNlYyA9IF9hLm5zZWM7XG4gICAgaWYgKHNlYyA+PSAwICYmIG5zZWMgPj0gMCAmJiBzZWMgPD0gVElNRVNUQU1QNjRfTUFYX1NFQykge1xuICAgICAgICAvLyBIZXJlIHNlYyA+PSAwICYmIG5zZWMgPj0gMFxuICAgICAgICBpZiAobnNlYyA9PT0gMCAmJiBzZWMgPD0gVElNRVNUQU1QMzJfTUFYX1NFQykge1xuICAgICAgICAgICAgLy8gdGltZXN0YW1wIDMyID0geyBzZWMzMiAodW5zaWduZWQpIH1cbiAgICAgICAgICAgIHZhciBydiA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcocnYuYnVmZmVyKTtcbiAgICAgICAgICAgIHZpZXcuc2V0VWludDMyKDAsIHNlYyk7XG4gICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0aW1lc3RhbXAgNjQgPSB7IG5zZWMzMCAodW5zaWduZWQpLCBzZWMzNCAodW5zaWduZWQpIH1cbiAgICAgICAgICAgIHZhciBzZWNIaWdoID0gc2VjIC8gMHgxMDAwMDAwMDA7XG4gICAgICAgICAgICB2YXIgc2VjTG93ID0gc2VjICYgMHhmZmZmZmZmZjtcbiAgICAgICAgICAgIHZhciBydiA9IG5ldyBVaW50OEFycmF5KDgpO1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcocnYuYnVmZmVyKTtcbiAgICAgICAgICAgIC8vIG5zZWMzMCB8IHNlY0hpZ2gyXG4gICAgICAgICAgICB2aWV3LnNldFVpbnQzMigwLCAobnNlYyA8PCAyKSB8IChzZWNIaWdoICYgMHgzKSk7XG4gICAgICAgICAgICAvLyBzZWNMb3czMlxuICAgICAgICAgICAgdmlldy5zZXRVaW50MzIoNCwgc2VjTG93KTtcbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gdGltZXN0YW1wIDk2ID0geyBuc2VjMzIgKHVuc2lnbmVkKSwgc2VjNjQgKHNpZ25lZCkgfVxuICAgICAgICB2YXIgcnYgPSBuZXcgVWludDhBcnJheSgxMik7XG4gICAgICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KHJ2LmJ1ZmZlcik7XG4gICAgICAgIHZpZXcuc2V0VWludDMyKDAsIG5zZWMpO1xuICAgICAgICBzZXRJbnQ2NCh2aWV3LCA0LCBzZWMpO1xuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZURhdGVUb1RpbWVTcGVjKGRhdGUpIHtcbiAgICB2YXIgbXNlYyA9IGRhdGUuZ2V0VGltZSgpO1xuICAgIHZhciBzZWMgPSBNYXRoLmZsb29yKG1zZWMgLyAxZTMpO1xuICAgIHZhciBuc2VjID0gKG1zZWMgLSBzZWMgKiAxZTMpICogMWU2O1xuICAgIC8vIE5vcm1hbGl6ZXMgeyBzZWMsIG5zZWMgfSB0byBlbnN1cmUgbnNlYyBpcyB1bnNpZ25lZC5cbiAgICB2YXIgbnNlY0luU2VjID0gTWF0aC5mbG9vcihuc2VjIC8gMWU5KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWM6IHNlYyArIG5zZWNJblNlYyxcbiAgICAgICAgbnNlYzogbnNlYyAtIG5zZWNJblNlYyAqIDFlOSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVRpbWVzdGFtcEV4dGVuc2lvbihvYmplY3QpIHtcbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICB2YXIgdGltZVNwZWMgPSBlbmNvZGVEYXRlVG9UaW1lU3BlYyhvYmplY3QpO1xuICAgICAgICByZXR1cm4gZW5jb2RlVGltZVNwZWNUb1RpbWVzdGFtcCh0aW1lU3BlYyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlVGltZXN0YW1wVG9UaW1lU3BlYyhkYXRhKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICAvLyBkYXRhIG1heSBiZSAzMiwgNjQsIG9yIDk2IGJpdHNcbiAgICBzd2l0Y2ggKGRhdGEuYnl0ZUxlbmd0aCkge1xuICAgICAgICBjYXNlIDQ6IHtcbiAgICAgICAgICAgIC8vIHRpbWVzdGFtcCAzMiA9IHsgc2VjMzIgfVxuICAgICAgICAgICAgdmFyIHNlYyA9IHZpZXcuZ2V0VWludDMyKDApO1xuICAgICAgICAgICAgdmFyIG5zZWMgPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgc2VjOiBzZWMsIG5zZWM6IG5zZWMgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDg6IHtcbiAgICAgICAgICAgIC8vIHRpbWVzdGFtcCA2NCA9IHsgbnNlYzMwLCBzZWMzNCB9XG4gICAgICAgICAgICB2YXIgbnNlYzMwQW5kU2VjSGlnaDIgPSB2aWV3LmdldFVpbnQzMigwKTtcbiAgICAgICAgICAgIHZhciBzZWNMb3czMiA9IHZpZXcuZ2V0VWludDMyKDQpO1xuICAgICAgICAgICAgdmFyIHNlYyA9IChuc2VjMzBBbmRTZWNIaWdoMiAmIDB4MykgKiAweDEwMDAwMDAwMCArIHNlY0xvdzMyO1xuICAgICAgICAgICAgdmFyIG5zZWMgPSBuc2VjMzBBbmRTZWNIaWdoMiA+Pj4gMjtcbiAgICAgICAgICAgIHJldHVybiB7IHNlYzogc2VjLCBuc2VjOiBuc2VjIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAxMjoge1xuICAgICAgICAgICAgLy8gdGltZXN0YW1wIDk2ID0geyBuc2VjMzIgKHVuc2lnbmVkKSwgc2VjNjQgKHNpZ25lZCkgfVxuICAgICAgICAgICAgdmFyIHNlYyA9IGdldEludDY0KHZpZXcsIDQpO1xuICAgICAgICAgICAgdmFyIG5zZWMgPSB2aWV3LmdldFVpbnQzMigwKTtcbiAgICAgICAgICAgIHJldHVybiB7IHNlYzogc2VjLCBuc2VjOiBuc2VjIH07XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBEZWNvZGVFcnJvcihcIlVucmVjb2duaXplZCBkYXRhIHNpemUgZm9yIHRpbWVzdGFtcCAoZXhwZWN0ZWQgNCwgOCwgb3IgMTIpOiBcIi5jb25jYXQoZGF0YS5sZW5ndGgpKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlVGltZXN0YW1wRXh0ZW5zaW9uKGRhdGEpIHtcbiAgICB2YXIgdGltZVNwZWMgPSBkZWNvZGVUaW1lc3RhbXBUb1RpbWVTcGVjKGRhdGEpO1xuICAgIHJldHVybiBuZXcgRGF0ZSh0aW1lU3BlYy5zZWMgKiAxZTMgKyB0aW1lU3BlYy5uc2VjIC8gMWU2KTtcbn1cbmV4cG9ydCB2YXIgdGltZXN0YW1wRXh0ZW5zaW9uID0ge1xuICAgIHR5cGU6IEVYVF9USU1FU1RBTVAsXG4gICAgZW5jb2RlOiBlbmNvZGVUaW1lc3RhbXBFeHRlbnNpb24sXG4gICAgZGVjb2RlOiBkZWNvZGVUaW1lc3RhbXBFeHRlbnNpb24sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZXN0YW1wLm1qcy5tYXAiLCIvLyBFeHRlbnNpb25Db2RlYyB0byBoYW5kbGUgTWVzc2FnZVBhY2sgZXh0ZW5zaW9uc1xuaW1wb3J0IHsgRXh0RGF0YSB9IGZyb20gXCIuL0V4dERhdGEubWpzXCI7XG5pbXBvcnQgeyB0aW1lc3RhbXBFeHRlbnNpb24gfSBmcm9tIFwiLi90aW1lc3RhbXAubWpzXCI7XG52YXIgRXh0ZW5zaW9uQ29kZWMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXh0ZW5zaW9uQ29kZWMoKSB7XG4gICAgICAgIC8vIGJ1aWx0LWluIGV4dGVuc2lvbnNcbiAgICAgICAgdGhpcy5idWlsdEluRW5jb2RlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5idWlsdEluRGVjb2RlcnMgPSBbXTtcbiAgICAgICAgLy8gY3VzdG9tIGV4dGVuc2lvbnNcbiAgICAgICAgdGhpcy5lbmNvZGVycyA9IFtdO1xuICAgICAgICB0aGlzLmRlY29kZXJzID0gW107XG4gICAgICAgIHRoaXMucmVnaXN0ZXIodGltZXN0YW1wRXh0ZW5zaW9uKTtcbiAgICB9XG4gICAgRXh0ZW5zaW9uQ29kZWMucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB0eXBlID0gX2EudHlwZSwgZW5jb2RlID0gX2EuZW5jb2RlLCBkZWNvZGUgPSBfYS5kZWNvZGU7XG4gICAgICAgIGlmICh0eXBlID49IDApIHtcbiAgICAgICAgICAgIC8vIGN1c3RvbSBleHRlbnNpb25zXG4gICAgICAgICAgICB0aGlzLmVuY29kZXJzW3R5cGVdID0gZW5jb2RlO1xuICAgICAgICAgICAgdGhpcy5kZWNvZGVyc1t0eXBlXSA9IGRlY29kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGJ1aWx0LWluIGV4dGVuc2lvbnNcbiAgICAgICAgICAgIHZhciBpbmRleCA9IDEgKyB0eXBlO1xuICAgICAgICAgICAgdGhpcy5idWlsdEluRW5jb2RlcnNbaW5kZXhdID0gZW5jb2RlO1xuICAgICAgICAgICAgdGhpcy5idWlsdEluRGVjb2RlcnNbaW5kZXhdID0gZGVjb2RlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFeHRlbnNpb25Db2RlYy5wcm90b3R5cGUudHJ5VG9FbmNvZGUgPSBmdW5jdGlvbiAob2JqZWN0LCBjb250ZXh0KSB7XG4gICAgICAgIC8vIGJ1aWx0LWluIGV4dGVuc2lvbnNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJ1aWx0SW5FbmNvZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGVuY29kZUV4dCA9IHRoaXMuYnVpbHRJbkVuY29kZXJzW2ldO1xuICAgICAgICAgICAgaWYgKGVuY29kZUV4dCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBlbmNvZGVFeHQob2JqZWN0LCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gLTEgLSBpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEV4dERhdGEodHlwZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGN1c3RvbSBleHRlbnNpb25zXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lbmNvZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGVuY29kZUV4dCA9IHRoaXMuZW5jb2RlcnNbaV07XG4gICAgICAgICAgICBpZiAoZW5jb2RlRXh0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGVuY29kZUV4dChvYmplY3QsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEV4dERhdGEodHlwZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBFeHREYXRhKSB7XG4gICAgICAgICAgICAvLyB0byBrZWVwIEV4dERhdGEgYXMgaXNcbiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBFeHRlbnNpb25Db2RlYy5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGRhdGEsIHR5cGUsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGRlY29kZUV4dCA9IHR5cGUgPCAwID8gdGhpcy5idWlsdEluRGVjb2RlcnNbLTEgLSB0eXBlXSA6IHRoaXMuZGVjb2RlcnNbdHlwZV07XG4gICAgICAgIGlmIChkZWNvZGVFeHQpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWNvZGVFeHQoZGF0YSwgdHlwZSwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBkZWNvZGUoKSBkb2VzIG5vdCBmYWlsLCByZXR1cm5zIEV4dERhdGEgaW5zdGVhZC5cbiAgICAgICAgICAgIHJldHVybiBuZXcgRXh0RGF0YSh0eXBlLCBkYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRXh0ZW5zaW9uQ29kZWMuZGVmYXVsdENvZGVjID0gbmV3IEV4dGVuc2lvbkNvZGVjKCk7XG4gICAgcmV0dXJuIEV4dGVuc2lvbkNvZGVjO1xufSgpKTtcbmV4cG9ydCB7IEV4dGVuc2lvbkNvZGVjIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FeHRlbnNpb25Db2RlYy5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVVpbnQ4QXJyYXkoYnVmZmVyKSB7XG4gICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGJ1ZmZlcikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGJ1ZmZlci5idWZmZXIsIGJ1ZmZlci5ieXRlT2Zmc2V0LCBidWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQXJyYXlMaWtlPG51bWJlcj5cbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShidWZmZXIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEYXRhVmlldyhidWZmZXIpIHtcbiAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhVmlldyhidWZmZXIpO1xuICAgIH1cbiAgICB2YXIgYnVmZmVyVmlldyA9IGVuc3VyZVVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICByZXR1cm4gbmV3IERhdGFWaWV3KGJ1ZmZlclZpZXcuYnVmZmVyLCBidWZmZXJWaWV3LmJ5dGVPZmZzZXQsIGJ1ZmZlclZpZXcuYnl0ZUxlbmd0aCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlZEFycmF5cy5tanMubWFwIiwiaW1wb3J0IHsgdXRmOEVuY29kZUpzLCB1dGY4Q291bnQsIFRFWFRfRU5DT0RFUl9USFJFU0hPTEQsIHV0ZjhFbmNvZGVURSB9IGZyb20gXCIuL3V0aWxzL3V0ZjgubWpzXCI7XG5pbXBvcnQgeyBFeHRlbnNpb25Db2RlYyB9IGZyb20gXCIuL0V4dGVuc2lvbkNvZGVjLm1qc1wiO1xuaW1wb3J0IHsgc2V0SW50NjQsIHNldFVpbnQ2NCB9IGZyb20gXCIuL3V0aWxzL2ludC5tanNcIjtcbmltcG9ydCB7IGVuc3VyZVVpbnQ4QXJyYXkgfSBmcm9tIFwiLi91dGlscy90eXBlZEFycmF5cy5tanNcIjtcbmV4cG9ydCB2YXIgREVGQVVMVF9NQVhfREVQVEggPSAxMDA7XG5leHBvcnQgdmFyIERFRkFVTFRfSU5JVElBTF9CVUZGRVJfU0laRSA9IDIwNDg7XG52YXIgRW5jb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFbmNvZGVyKGV4dGVuc2lvbkNvZGVjLCBjb250ZXh0LCBtYXhEZXB0aCwgaW5pdGlhbEJ1ZmZlclNpemUsIHNvcnRLZXlzLCBmb3JjZUZsb2F0MzIsIGlnbm9yZVVuZGVmaW5lZCwgZm9yY2VJbnRlZ2VyVG9GbG9hdCkge1xuICAgICAgICBpZiAoZXh0ZW5zaW9uQ29kZWMgPT09IHZvaWQgMCkgeyBleHRlbnNpb25Db2RlYyA9IEV4dGVuc2lvbkNvZGVjLmRlZmF1bHRDb2RlYzsgfVxuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSB1bmRlZmluZWQ7IH1cbiAgICAgICAgaWYgKG1heERlcHRoID09PSB2b2lkIDApIHsgbWF4RGVwdGggPSBERUZBVUxUX01BWF9ERVBUSDsgfVxuICAgICAgICBpZiAoaW5pdGlhbEJ1ZmZlclNpemUgPT09IHZvaWQgMCkgeyBpbml0aWFsQnVmZmVyU2l6ZSA9IERFRkFVTFRfSU5JVElBTF9CVUZGRVJfU0laRTsgfVxuICAgICAgICBpZiAoc29ydEtleXMgPT09IHZvaWQgMCkgeyBzb3J0S2V5cyA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChmb3JjZUZsb2F0MzIgPT09IHZvaWQgMCkgeyBmb3JjZUZsb2F0MzIgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoaWdub3JlVW5kZWZpbmVkID09PSB2b2lkIDApIHsgaWdub3JlVW5kZWZpbmVkID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKGZvcmNlSW50ZWdlclRvRmxvYXQgPT09IHZvaWQgMCkgeyBmb3JjZUludGVnZXJUb0Zsb2F0ID0gZmFsc2U7IH1cbiAgICAgICAgdGhpcy5leHRlbnNpb25Db2RlYyA9IGV4dGVuc2lvbkNvZGVjO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLm1heERlcHRoID0gbWF4RGVwdGg7XG4gICAgICAgIHRoaXMuaW5pdGlhbEJ1ZmZlclNpemUgPSBpbml0aWFsQnVmZmVyU2l6ZTtcbiAgICAgICAgdGhpcy5zb3J0S2V5cyA9IHNvcnRLZXlzO1xuICAgICAgICB0aGlzLmZvcmNlRmxvYXQzMiA9IGZvcmNlRmxvYXQzMjtcbiAgICAgICAgdGhpcy5pZ25vcmVVbmRlZmluZWQgPSBpZ25vcmVVbmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZm9yY2VJbnRlZ2VyVG9GbG9hdCA9IGZvcmNlSW50ZWdlclRvRmxvYXQ7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcih0aGlzLmluaXRpYWxCdWZmZXJTaXplKSk7XG4gICAgICAgIHRoaXMuYnl0ZXMgPSBuZXcgVWludDhBcnJheSh0aGlzLnZpZXcuYnVmZmVyKTtcbiAgICB9XG4gICAgRW5jb2Rlci5wcm90b3R5cGUucmVpbml0aWFsaXplU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYWxtb3N0IGVxdWl2YWxlbnQgdG8ge0BsaW5rIEVuY29kZXIjZW5jb2RlfSwgYnV0IGl0IHJldHVybnMgYW4gcmVmZXJlbmNlIG9mIHRoZSBlbmNvZGVyJ3MgaW50ZXJuYWwgYnVmZmVyIGFuZCB0aHVzIG11Y2ggZmFzdGVyIHRoYW4ge0BsaW5rIEVuY29kZXIjZW5jb2RlfS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEVuY29kZXMgdGhlIG9iamVjdCBhbmQgcmV0dXJucyBhIHNoYXJlZCByZWZlcmVuY2UgdGhlIGVuY29kZXIncyBpbnRlcm5hbCBidWZmZXIuXG4gICAgICovXG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlU2hhcmVkUmVmID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICB0aGlzLnJlaW5pdGlhbGl6ZVN0YXRlKCk7XG4gICAgICAgIHRoaXMuZG9FbmNvZGUob2JqZWN0LCAxKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZXMuc3ViYXJyYXkoMCwgdGhpcy5wb3MpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgRW5jb2RlcyB0aGUgb2JqZWN0IGFuZCByZXR1cm5zIGEgY29weSBvZiB0aGUgZW5jb2RlcidzIGludGVybmFsIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIHRoaXMucmVpbml0aWFsaXplU3RhdGUoKTtcbiAgICAgICAgdGhpcy5kb0VuY29kZShvYmplY3QsIDEpO1xuICAgICAgICByZXR1cm4gdGhpcy5ieXRlcy5zbGljZSgwLCB0aGlzLnBvcyk7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5kb0VuY29kZSA9IGZ1bmN0aW9uIChvYmplY3QsIGRlcHRoKSB7XG4gICAgICAgIGlmIChkZXB0aCA+IHRoaXMubWF4RGVwdGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvbyBkZWVwIG9iamVjdHMgaW4gZGVwdGggXCIuY29uY2F0KGRlcHRoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZU5pbCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZUJvb2xlYW4ob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZU51bWJlcihvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZW5jb2RlU3RyaW5nKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZU9iamVjdChvYmplY3QsIGRlcHRoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5zdXJlQnVmZmVyU2l6ZVRvV3JpdGUgPSBmdW5jdGlvbiAoc2l6ZVRvV3JpdGUpIHtcbiAgICAgICAgdmFyIHJlcXVpcmVkU2l6ZSA9IHRoaXMucG9zICsgc2l6ZVRvV3JpdGU7XG4gICAgICAgIGlmICh0aGlzLnZpZXcuYnl0ZUxlbmd0aCA8IHJlcXVpcmVkU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNpemVCdWZmZXIocmVxdWlyZWRTaXplICogMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLnJlc2l6ZUJ1ZmZlciA9IGZ1bmN0aW9uIChuZXdTaXplKSB7XG4gICAgICAgIHZhciBuZXdCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIobmV3U2l6ZSk7XG4gICAgICAgIHZhciBuZXdCeXRlcyA9IG5ldyBVaW50OEFycmF5KG5ld0J1ZmZlcik7XG4gICAgICAgIHZhciBuZXdWaWV3ID0gbmV3IERhdGFWaWV3KG5ld0J1ZmZlcik7XG4gICAgICAgIG5ld0J5dGVzLnNldCh0aGlzLmJ5dGVzKTtcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3VmlldztcbiAgICAgICAgdGhpcy5ieXRlcyA9IG5ld0J5dGVzO1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTmlsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndyaXRlVTgoMHhjMCk7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVCb29sZWFuID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4YzIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4YzMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVOdW1iZXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIGlmIChOdW1iZXIuaXNTYWZlSW50ZWdlcihvYmplY3QpICYmICF0aGlzLmZvcmNlSW50ZWdlclRvRmxvYXQpIHtcbiAgICAgICAgICAgIGlmIChvYmplY3QgPj0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChvYmplY3QgPCAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aXZlIGZpeGludFxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlVTgob2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqZWN0IDwgMHgxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdWludCA4XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGNjKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KG9iamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9iamVjdCA8IDB4MTAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdWludCAxNlxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhjZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVMTYob2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqZWN0IDwgMHgxMDAwMDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdWludCAzMlxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhjZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVMzIob2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVpbnQgNjRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4Y2YpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlVTY0KG9iamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdCA+PSAtMHgyMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBuZWdhdGl2ZSBmaXhpbnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZTAgfCAob2JqZWN0ICsgMHgyMCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvYmplY3QgPj0gLTB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50IDhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlSTgob2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqZWN0ID49IC0weDgwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50IDE2XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZUkxNihvYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvYmplY3QgPj0gLTB4ODAwMDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50IDMyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZUkzMihvYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50IDY0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZUk2NChvYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vbi1pbnRlZ2VyIG51bWJlcnNcbiAgICAgICAgICAgIGlmICh0aGlzLmZvcmNlRmxvYXQzMikge1xuICAgICAgICAgICAgICAgIC8vIGZsb2F0IDMyXG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4Y2EpO1xuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVGMzIob2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGZsb2F0IDY0XG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4Y2IpO1xuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVGNjQob2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUud3JpdGVTdHJpbmdIZWFkZXIgPSBmdW5jdGlvbiAoYnl0ZUxlbmd0aCkge1xuICAgICAgICBpZiAoYnl0ZUxlbmd0aCA8IDMyKSB7XG4gICAgICAgICAgICAvLyBmaXhzdHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGEwICsgYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYnl0ZUxlbmd0aCA8IDB4MTAwKSB7XG4gICAgICAgICAgICAvLyBzdHIgOFxuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZDkpO1xuICAgICAgICAgICAgdGhpcy53cml0ZVU4KGJ5dGVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJ5dGVMZW5ndGggPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAvLyBzdHIgMTZcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGRhKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMTYoYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYnl0ZUxlbmd0aCA8IDB4MTAwMDAwMDAwKSB7XG4gICAgICAgICAgICAvLyBzdHIgMzJcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGRiKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMzIoYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbG9uZyBzdHJpbmc6IFwiLmNvbmNhdChieXRlTGVuZ3RoLCBcIiBieXRlcyBpbiBVVEYtOFwiKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLmVuY29kZVN0cmluZyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgdmFyIG1heEhlYWRlclNpemUgPSAxICsgNDtcbiAgICAgICAgdmFyIHN0ckxlbmd0aCA9IG9iamVjdC5sZW5ndGg7XG4gICAgICAgIGlmIChzdHJMZW5ndGggPiBURVhUX0VOQ09ERVJfVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICB2YXIgYnl0ZUxlbmd0aCA9IHV0ZjhDb3VudChvYmplY3QpO1xuICAgICAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZShtYXhIZWFkZXJTaXplICsgYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLndyaXRlU3RyaW5nSGVhZGVyKGJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgdXRmOEVuY29kZVRFKG9iamVjdCwgdGhpcy5ieXRlcywgdGhpcy5wb3MpO1xuICAgICAgICAgICAgdGhpcy5wb3MgKz0gYnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBieXRlTGVuZ3RoID0gdXRmOENvdW50KG9iamVjdCk7XG4gICAgICAgICAgICB0aGlzLmVuc3VyZUJ1ZmZlclNpemVUb1dyaXRlKG1heEhlYWRlclNpemUgKyBieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVTdHJpbmdIZWFkZXIoYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICB1dGY4RW5jb2RlSnMob2JqZWN0LCB0aGlzLmJ5dGVzLCB0aGlzLnBvcyk7XG4gICAgICAgICAgICB0aGlzLnBvcyArPSBieXRlTGVuZ3RoO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVPYmplY3QgPSBmdW5jdGlvbiAob2JqZWN0LCBkZXB0aCkge1xuICAgICAgICAvLyB0cnkgdG8gZW5jb2RlIG9iamVjdHMgd2l0aCBjdXN0b20gY29kZWMgZmlyc3Qgb2Ygbm9uLXByaW1pdGl2ZXNcbiAgICAgICAgdmFyIGV4dCA9IHRoaXMuZXh0ZW5zaW9uQ29kZWMudHJ5VG9FbmNvZGUob2JqZWN0LCB0aGlzLmNvbnRleHQpO1xuICAgICAgICBpZiAoZXh0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZW5jb2RlRXh0ZW5zaW9uKGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZUFycmF5KG9iamVjdCwgZGVwdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhvYmplY3QpKSB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZUJpbmFyeShvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHRoaXMuZW5jb2RlTWFwKG9iamVjdCwgZGVwdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3ltYm9sLCBmdW5jdGlvbiBhbmQgb3RoZXIgc3BlY2lhbCBvYmplY3QgY29tZSBoZXJlIHVubGVzcyBleHRlbnNpb25Db2RlYyBoYW5kbGVzIHRoZW0uXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgb2JqZWN0OiBcIi5jb25jYXQoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShvYmplY3QpKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLmVuY29kZUJpbmFyeSA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgdmFyIHNpemUgPSBvYmplY3QuYnl0ZUxlbmd0aDtcbiAgICAgICAgaWYgKHNpemUgPCAweDEwMCkge1xuICAgICAgICAgICAgLy8gYmluIDhcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGM0KTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOChzaXplKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplIDwgMHgxMDAwMCkge1xuICAgICAgICAgICAgLy8gYmluIDE2XG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhjNSk7XG4gICAgICAgICAgICB0aGlzLndyaXRlVTE2KHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwMDAwMCkge1xuICAgICAgICAgICAgLy8gYmluIDMyXG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhjNik7XG4gICAgICAgICAgICB0aGlzLndyaXRlVTMyKHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG9vIGxhcmdlIGJpbmFyeTogXCIuY29uY2F0KHNpemUpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnl0ZXMgPSBlbnN1cmVVaW50OEFycmF5KG9iamVjdCk7XG4gICAgICAgIHRoaXMud3JpdGVVOGEoYnl0ZXMpO1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlQXJyYXkgPSBmdW5jdGlvbiAob2JqZWN0LCBkZXB0aCkge1xuICAgICAgICB2YXIgc2l6ZSA9IG9iamVjdC5sZW5ndGg7XG4gICAgICAgIGlmIChzaXplIDwgMTYpIHtcbiAgICAgICAgICAgIC8vIGZpeGFycmF5XG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHg5MCArIHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAvLyBhcnJheSAxNlxuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZGMpO1xuICAgICAgICAgICAgdGhpcy53cml0ZVUxNihzaXplKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplIDwgMHgxMDAwMDAwMDApIHtcbiAgICAgICAgICAgIC8vIGFycmF5IDMyXG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhkZCk7XG4gICAgICAgICAgICB0aGlzLndyaXRlVTMyKHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG9vIGxhcmdlIGFycmF5OiBcIi5jb25jYXQoc2l6ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgb2JqZWN0XzEgPSBvYmplY3Q7IF9pIDwgb2JqZWN0XzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IG9iamVjdF8xW19pXTtcbiAgICAgICAgICAgIHRoaXMuZG9FbmNvZGUoaXRlbSwgZGVwdGggKyAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuY291bnRXaXRob3V0VW5kZWZpbmVkID0gZnVuY3Rpb24gKG9iamVjdCwga2V5cykge1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGtleXNfMSA9IGtleXM7IF9pIDwga2V5c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNfMVtfaV07XG4gICAgICAgICAgICBpZiAob2JqZWN0W2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTWFwID0gZnVuY3Rpb24gKG9iamVjdCwgZGVwdGgpIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuICAgICAgICBpZiAodGhpcy5zb3J0S2V5cykge1xuICAgICAgICAgICAga2V5cy5zb3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLmlnbm9yZVVuZGVmaW5lZCA/IHRoaXMuY291bnRXaXRob3V0VW5kZWZpbmVkKG9iamVjdCwga2V5cykgOiBrZXlzLmxlbmd0aDtcbiAgICAgICAgaWYgKHNpemUgPCAxNikge1xuICAgICAgICAgICAgLy8gZml4bWFwXG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHg4MCArIHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAvLyBtYXAgMTZcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGRlKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMTYoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwMDAwMDAwKSB7XG4gICAgICAgICAgICAvLyBtYXAgMzJcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGRmKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMzIoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbGFyZ2UgbWFwIG9iamVjdDogXCIuY29uY2F0KHNpemUpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGtleXNfMiA9IGtleXM7IF9pIDwga2V5c18yLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNfMltfaV07XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgICAgICAgIGlmICghKHRoaXMuaWdub3JlVW5kZWZpbmVkICYmIHZhbHVlID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmNvZGVTdHJpbmcoa2V5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRvRW5jb2RlKHZhbHVlLCBkZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVFeHRlbnNpb24gPSBmdW5jdGlvbiAoZXh0KSB7XG4gICAgICAgIHZhciBzaXplID0gZXh0LmRhdGEubGVuZ3RoO1xuICAgICAgICBpZiAoc2l6ZSA9PT0gMSkge1xuICAgICAgICAgICAgLy8gZml4ZXh0IDFcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplID09PSAyKSB7XG4gICAgICAgICAgICAvLyBmaXhleHQgMlxuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4ZDUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPT09IDQpIHtcbiAgICAgICAgICAgIC8vIGZpeGV4dCA0XG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhkNik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA9PT0gOCkge1xuICAgICAgICAgICAgLy8gZml4ZXh0IDhcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGQ3KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplID09PSAxNikge1xuICAgICAgICAgICAgLy8gZml4ZXh0IDE2XG4gICAgICAgICAgICB0aGlzLndyaXRlVTgoMHhkOCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwKSB7XG4gICAgICAgICAgICAvLyBleHQgOFxuICAgICAgICAgICAgdGhpcy53cml0ZVU4KDB4YzcpO1xuICAgICAgICAgICAgdGhpcy53cml0ZVU4KHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAvLyBleHQgMTZcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGM4KTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMTYoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwMDAwMDAwKSB7XG4gICAgICAgICAgICAvLyBleHQgMzJcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCgweGM5KTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVMzIoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbGFyZ2UgZXh0ZW5zaW9uIG9iamVjdDogXCIuY29uY2F0KHNpemUpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndyaXRlSTgoZXh0LnR5cGUpO1xuICAgICAgICB0aGlzLndyaXRlVThhKGV4dC5kYXRhKTtcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlVTggPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSgxKTtcbiAgICAgICAgdGhpcy52aWV3LnNldFVpbnQ4KHRoaXMucG9zLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMucG9zKys7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS53cml0ZVU4YSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgdmFyIHNpemUgPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLmVuc3VyZUJ1ZmZlclNpemVUb1dyaXRlKHNpemUpO1xuICAgICAgICB0aGlzLmJ5dGVzLnNldCh2YWx1ZXMsIHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gc2l6ZTtcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlSTggPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSgxKTtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDgodGhpcy5wb3MsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5wb3MrKztcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlVTE2ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlQnVmZmVyU2l6ZVRvV3JpdGUoMik7XG4gICAgICAgIHRoaXMudmlldy5zZXRVaW50MTYodGhpcy5wb3MsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gMjtcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlSTE2ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlQnVmZmVyU2l6ZVRvV3JpdGUoMik7XG4gICAgICAgIHRoaXMudmlldy5zZXRJbnQxNih0aGlzLnBvcywgdmFsdWUpO1xuICAgICAgICB0aGlzLnBvcyArPSAyO1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUud3JpdGVVMzIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSg0KTtcbiAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMih0aGlzLnBvcywgdmFsdWUpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUud3JpdGVJMzIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSg0KTtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDMyKHRoaXMucG9zLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS53cml0ZUYzMiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmVuc3VyZUJ1ZmZlclNpemVUb1dyaXRlKDQpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0RmxvYXQzMih0aGlzLnBvcywgdmFsdWUpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH07XG4gICAgRW5jb2Rlci5wcm90b3R5cGUud3JpdGVGNjQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVCdWZmZXJTaXplVG9Xcml0ZSg4KTtcbiAgICAgICAgdGhpcy52aWV3LnNldEZsb2F0NjQodGhpcy5wb3MsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICB9O1xuICAgIEVuY29kZXIucHJvdG90eXBlLndyaXRlVTY0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlQnVmZmVyU2l6ZVRvV3JpdGUoOCk7XG4gICAgICAgIHNldFVpbnQ2NCh0aGlzLnZpZXcsIHRoaXMucG9zLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgfTtcbiAgICBFbmNvZGVyLnByb3RvdHlwZS53cml0ZUk2NCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmVuc3VyZUJ1ZmZlclNpemVUb1dyaXRlKDgpO1xuICAgICAgICBzZXRJbnQ2NCh0aGlzLnZpZXcsIHRoaXMucG9zLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgfTtcbiAgICByZXR1cm4gRW5jb2Rlcjtcbn0oKSk7XG5leHBvcnQgeyBFbmNvZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FbmNvZGVyLm1qcy5tYXAiLCJpbXBvcnQgeyBFbmNvZGVyIH0gZnJvbSBcIi4vRW5jb2Rlci5tanNcIjtcbnZhciBkZWZhdWx0RW5jb2RlT3B0aW9ucyA9IHt9O1xuLyoqXG4gKiBJdCBlbmNvZGVzIGB2YWx1ZWAgaW4gdGhlIE1lc3NhZ2VQYWNrIGZvcm1hdCBhbmRcbiAqIHJldHVybnMgYSBieXRlIGJ1ZmZlci5cbiAqXG4gKiBUaGUgcmV0dXJuZWQgYnVmZmVyIGlzIGEgc2xpY2Ugb2YgYSBsYXJnZXIgYEFycmF5QnVmZmVyYCwgc28geW91IGhhdmUgdG8gdXNlIGl0cyBgI2J5dGVPZmZzZXRgIGFuZCBgI2J5dGVMZW5ndGhgIGluIG9yZGVyIHRvIGNvbnZlcnQgaXQgdG8gYW5vdGhlciB0eXBlZCBhcnJheXMgaW5jbHVkaW5nIE5vZGVKUyBgQnVmZmVyYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZSh2YWx1ZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IGRlZmF1bHRFbmNvZGVPcHRpb25zOyB9XG4gICAgdmFyIGVuY29kZXIgPSBuZXcgRW5jb2RlcihvcHRpb25zLmV4dGVuc2lvbkNvZGVjLCBvcHRpb25zLmNvbnRleHQsIG9wdGlvbnMubWF4RGVwdGgsIG9wdGlvbnMuaW5pdGlhbEJ1ZmZlclNpemUsIG9wdGlvbnMuc29ydEtleXMsIG9wdGlvbnMuZm9yY2VGbG9hdDMyLCBvcHRpb25zLmlnbm9yZVVuZGVmaW5lZCwgb3B0aW9ucy5mb3JjZUludGVnZXJUb0Zsb2F0KTtcbiAgICByZXR1cm4gZW5jb2Rlci5lbmNvZGVTaGFyZWRSZWYodmFsdWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5jb2RlLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gcHJldHR5Qnl0ZShieXRlKSB7XG4gICAgcmV0dXJuIFwiXCIuY29uY2F0KGJ5dGUgPCAwID8gXCItXCIgOiBcIlwiLCBcIjB4XCIpLmNvbmNhdChNYXRoLmFicyhieXRlKS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZXR0eUJ5dGUubWpzLm1hcCIsImltcG9ydCB7IHV0ZjhEZWNvZGVKcyB9IGZyb20gXCIuL3V0aWxzL3V0ZjgubWpzXCI7XG52YXIgREVGQVVMVF9NQVhfS0VZX0xFTkdUSCA9IDE2O1xudmFyIERFRkFVTFRfTUFYX0xFTkdUSF9QRVJfS0VZID0gMTY7XG52YXIgQ2FjaGVkS2V5RGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDYWNoZWRLZXlEZWNvZGVyKG1heEtleUxlbmd0aCwgbWF4TGVuZ3RoUGVyS2V5KSB7XG4gICAgICAgIGlmIChtYXhLZXlMZW5ndGggPT09IHZvaWQgMCkgeyBtYXhLZXlMZW5ndGggPSBERUZBVUxUX01BWF9LRVlfTEVOR1RIOyB9XG4gICAgICAgIGlmIChtYXhMZW5ndGhQZXJLZXkgPT09IHZvaWQgMCkgeyBtYXhMZW5ndGhQZXJLZXkgPSBERUZBVUxUX01BWF9MRU5HVEhfUEVSX0tFWTsgfVxuICAgICAgICB0aGlzLm1heEtleUxlbmd0aCA9IG1heEtleUxlbmd0aDtcbiAgICAgICAgdGhpcy5tYXhMZW5ndGhQZXJLZXkgPSBtYXhMZW5ndGhQZXJLZXk7XG4gICAgICAgIHRoaXMuaGl0ID0gMDtcbiAgICAgICAgdGhpcy5taXNzID0gMDtcbiAgICAgICAgLy8gYXZvaWQgYG5ldyBBcnJheShOKWAsIHdoaWNoIG1ha2VzIGEgc3BhcnNlIGFycmF5LFxuICAgICAgICAvLyBiZWNhdXNlIGEgc3BhcnNlIGFycmF5IGlzIHR5cGljYWxseSBzbG93ZXIgdGhhbiBhIG5vbi1zcGFyc2UgYXJyYXkuXG4gICAgICAgIHRoaXMuY2FjaGVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tYXhLZXlMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jYWNoZXMucHVzaChbXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQ2FjaGVkS2V5RGVjb2Rlci5wcm90b3R5cGUuY2FuQmVDYWNoZWQgPSBmdW5jdGlvbiAoYnl0ZUxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYnl0ZUxlbmd0aCA+IDAgJiYgYnl0ZUxlbmd0aCA8PSB0aGlzLm1heEtleUxlbmd0aDtcbiAgICB9O1xuICAgIENhY2hlZEtleURlY29kZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoYnl0ZXMsIGlucHV0T2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gICAgICAgIHZhciByZWNvcmRzID0gdGhpcy5jYWNoZXNbYnl0ZUxlbmd0aCAtIDFdO1xuICAgICAgICBGSU5EX0NIVU5LOiBmb3IgKHZhciBfaSA9IDAsIHJlY29yZHNfMSA9IHJlY29yZHM7IF9pIDwgcmVjb3Jkc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHJlY29yZCA9IHJlY29yZHNfMVtfaV07XG4gICAgICAgICAgICB2YXIgcmVjb3JkQnl0ZXMgPSByZWNvcmQuYnl0ZXM7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJ5dGVMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmRCeXRlc1tqXSAhPT0gYnl0ZXNbaW5wdXRPZmZzZXQgKyBqXSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBGSU5EX0NIVU5LO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZWNvcmQuc3RyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgQ2FjaGVkS2V5RGVjb2Rlci5wcm90b3R5cGUuc3RvcmUgPSBmdW5jdGlvbiAoYnl0ZXMsIHZhbHVlKSB7XG4gICAgICAgIHZhciByZWNvcmRzID0gdGhpcy5jYWNoZXNbYnl0ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciByZWNvcmQgPSB7IGJ5dGVzOiBieXRlcywgc3RyOiB2YWx1ZSB9O1xuICAgICAgICBpZiAocmVjb3Jkcy5sZW5ndGggPj0gdGhpcy5tYXhMZW5ndGhQZXJLZXkpIHtcbiAgICAgICAgICAgIC8vIGByZWNvcmRzYCBhcmUgZnVsbCFcbiAgICAgICAgICAgIC8vIFNldCBgcmVjb3JkYCB0byBhbiBhcmJpdHJhcnkgcG9zaXRpb24uXG4gICAgICAgICAgICByZWNvcmRzWyhNYXRoLnJhbmRvbSgpICogcmVjb3Jkcy5sZW5ndGgpIHwgMF0gPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWNvcmRzLnB1c2gocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2FjaGVkS2V5RGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCBpbnB1dE9mZnNldCwgYnl0ZUxlbmd0aCkge1xuICAgICAgICB2YXIgY2FjaGVkVmFsdWUgPSB0aGlzLmZpbmQoYnl0ZXMsIGlucHV0T2Zmc2V0LCBieXRlTGVuZ3RoKTtcbiAgICAgICAgaWYgKGNhY2hlZFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0Kys7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taXNzKys7XG4gICAgICAgIHZhciBzdHIgPSB1dGY4RGVjb2RlSnMoYnl0ZXMsIGlucHV0T2Zmc2V0LCBieXRlTGVuZ3RoKTtcbiAgICAgICAgLy8gRW5zdXJlIHRvIGNvcHkgYSBzbGljZSBvZiBieXRlcyBiZWNhdXNlIHRoZSBieXRlIG1heSBiZSBOb2RlSlMgQnVmZmVyIGFuZCBCdWZmZXIjc2xpY2UoKSByZXR1cm5zIGEgcmVmZXJlbmNlIHRvIGl0cyBpbnRlcm5hbCBBcnJheUJ1ZmZlci5cbiAgICAgICAgdmFyIHNsaWNlZENvcHlPZkJ5dGVzID0gVWludDhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChieXRlcywgaW5wdXRPZmZzZXQsIGlucHV0T2Zmc2V0ICsgYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRoaXMuc3RvcmUoc2xpY2VkQ29weU9mQnl0ZXMsIHN0cik7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FjaGVkS2V5RGVjb2Rlcjtcbn0oKSk7XG5leHBvcnQgeyBDYWNoZWRLZXlEZWNvZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYWNoZWRLZXlEZWNvZGVyLm1qcy5tYXAiLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9fYXN5bmNWYWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fYXN5bmNWYWx1ZXMpIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxufTtcbnZhciBfX2F3YWl0ID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0KSB8fCBmdW5jdGlvbiAodikgeyByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTsgfVxudmFyIF9fYXN5bmNHZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fYXN5bmNHZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cbn07XG5pbXBvcnQgeyBwcmV0dHlCeXRlIH0gZnJvbSBcIi4vdXRpbHMvcHJldHR5Qnl0ZS5tanNcIjtcbmltcG9ydCB7IEV4dGVuc2lvbkNvZGVjIH0gZnJvbSBcIi4vRXh0ZW5zaW9uQ29kZWMubWpzXCI7XG5pbXBvcnQgeyBnZXRJbnQ2NCwgZ2V0VWludDY0LCBVSU5UMzJfTUFYIH0gZnJvbSBcIi4vdXRpbHMvaW50Lm1qc1wiO1xuaW1wb3J0IHsgdXRmOERlY29kZUpzLCBURVhUX0RFQ09ERVJfVEhSRVNIT0xELCB1dGY4RGVjb2RlVEQgfSBmcm9tIFwiLi91dGlscy91dGY4Lm1qc1wiO1xuaW1wb3J0IHsgY3JlYXRlRGF0YVZpZXcsIGVuc3VyZVVpbnQ4QXJyYXkgfSBmcm9tIFwiLi91dGlscy90eXBlZEFycmF5cy5tanNcIjtcbmltcG9ydCB7IENhY2hlZEtleURlY29kZXIgfSBmcm9tIFwiLi9DYWNoZWRLZXlEZWNvZGVyLm1qc1wiO1xuaW1wb3J0IHsgRGVjb2RlRXJyb3IgfSBmcm9tIFwiLi9EZWNvZGVFcnJvci5tanNcIjtcbnZhciBpc1ZhbGlkTWFwS2V5VHlwZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIga2V5VHlwZSA9IHR5cGVvZiBrZXk7XG4gICAgcmV0dXJuIGtleVR5cGUgPT09IFwic3RyaW5nXCIgfHwga2V5VHlwZSA9PT0gXCJudW1iZXJcIjtcbn07XG52YXIgSEVBRF9CWVRFX1JFUVVJUkVEID0gLTE7XG52YXIgRU1QVFlfVklFVyA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMCkpO1xudmFyIEVNUFRZX0JZVEVTID0gbmV3IFVpbnQ4QXJyYXkoRU1QVFlfVklFVy5idWZmZXIpO1xuLy8gSUUxMTogSGFjayB0byBzdXBwb3J0IElFMTEuXG4vLyBJRTExOiBEcm9wIHRoaXMgaGFjayBhbmQganVzdCB1c2UgUmFuZ2VFcnJvciB3aGVuIElFMTEgaXMgb2Jzb2xldGUuXG5leHBvcnQgdmFyIERhdGFWaWV3SW5kZXhPdXRPZkJvdW5kc0Vycm9yID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBJRTExOiBUaGUgc3BlYyBzYXlzIGl0IHNob3VsZCB0aHJvdyBSYW5nZUVycm9yLFxuICAgICAgICAvLyBJRTExOiBidXQgaW4gSUUxMSBpdCB0aHJvd3MgVHlwZUVycm9yLlxuICAgICAgICBFTVBUWV9WSUVXLmdldEludDgoMCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBlLmNvbnN0cnVjdG9yO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJuZXZlciByZWFjaGVkXCIpO1xufSkoKTtcbnZhciBNT1JFX0RBVEEgPSBuZXcgRGF0YVZpZXdJbmRleE91dE9mQm91bmRzRXJyb3IoXCJJbnN1ZmZpY2llbnQgZGF0YVwiKTtcbnZhciBzaGFyZWRDYWNoZWRLZXlEZWNvZGVyID0gbmV3IENhY2hlZEtleURlY29kZXIoKTtcbnZhciBEZWNvZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlY29kZXIoZXh0ZW5zaW9uQ29kZWMsIGNvbnRleHQsIG1heFN0ckxlbmd0aCwgbWF4QmluTGVuZ3RoLCBtYXhBcnJheUxlbmd0aCwgbWF4TWFwTGVuZ3RoLCBtYXhFeHRMZW5ndGgsIGtleURlY29kZXIpIHtcbiAgICAgICAgaWYgKGV4dGVuc2lvbkNvZGVjID09PSB2b2lkIDApIHsgZXh0ZW5zaW9uQ29kZWMgPSBFeHRlbnNpb25Db2RlYy5kZWZhdWx0Q29kZWM7IH1cbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gdW5kZWZpbmVkOyB9XG4gICAgICAgIGlmIChtYXhTdHJMZW5ndGggPT09IHZvaWQgMCkgeyBtYXhTdHJMZW5ndGggPSBVSU5UMzJfTUFYOyB9XG4gICAgICAgIGlmIChtYXhCaW5MZW5ndGggPT09IHZvaWQgMCkgeyBtYXhCaW5MZW5ndGggPSBVSU5UMzJfTUFYOyB9XG4gICAgICAgIGlmIChtYXhBcnJheUxlbmd0aCA9PT0gdm9pZCAwKSB7IG1heEFycmF5TGVuZ3RoID0gVUlOVDMyX01BWDsgfVxuICAgICAgICBpZiAobWF4TWFwTGVuZ3RoID09PSB2b2lkIDApIHsgbWF4TWFwTGVuZ3RoID0gVUlOVDMyX01BWDsgfVxuICAgICAgICBpZiAobWF4RXh0TGVuZ3RoID09PSB2b2lkIDApIHsgbWF4RXh0TGVuZ3RoID0gVUlOVDMyX01BWDsgfVxuICAgICAgICBpZiAoa2V5RGVjb2RlciA9PT0gdm9pZCAwKSB7IGtleURlY29kZXIgPSBzaGFyZWRDYWNoZWRLZXlEZWNvZGVyOyB9XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uQ29kZWMgPSBleHRlbnNpb25Db2RlYztcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5tYXhTdHJMZW5ndGggPSBtYXhTdHJMZW5ndGg7XG4gICAgICAgIHRoaXMubWF4QmluTGVuZ3RoID0gbWF4QmluTGVuZ3RoO1xuICAgICAgICB0aGlzLm1heEFycmF5TGVuZ3RoID0gbWF4QXJyYXlMZW5ndGg7XG4gICAgICAgIHRoaXMubWF4TWFwTGVuZ3RoID0gbWF4TWFwTGVuZ3RoO1xuICAgICAgICB0aGlzLm1heEV4dExlbmd0aCA9IG1heEV4dExlbmd0aDtcbiAgICAgICAgdGhpcy5rZXlEZWNvZGVyID0ga2V5RGVjb2RlcjtcbiAgICAgICAgdGhpcy50b3RhbFBvcyA9IDA7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgdGhpcy52aWV3ID0gRU1QVFlfVklFVztcbiAgICAgICAgdGhpcy5ieXRlcyA9IEVNUFRZX0JZVEVTO1xuICAgICAgICB0aGlzLmhlYWRCeXRlID0gSEVBRF9CWVRFX1JFUVVJUkVEO1xuICAgICAgICB0aGlzLnN0YWNrID0gW107XG4gICAgfVxuICAgIERlY29kZXIucHJvdG90eXBlLnJlaW5pdGlhbGl6ZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRvdGFsUG9zID0gMDtcbiAgICAgICAgdGhpcy5oZWFkQnl0ZSA9IEhFQURfQllURV9SRVFVSVJFRDtcbiAgICAgICAgdGhpcy5zdGFjay5sZW5ndGggPSAwO1xuICAgICAgICAvLyB2aWV3LCBieXRlcywgYW5kIHBvcyB3aWxsIGJlIHJlLWluaXRpYWxpemVkIGluIHNldEJ1ZmZlcigpXG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5zZXRCdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIHRoaXMuYnl0ZXMgPSBlbnN1cmVVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIHRoaXMudmlldyA9IGNyZWF0ZURhdGFWaWV3KHRoaXMuYnl0ZXMpO1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5hcHBlbmRCdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmhlYWRCeXRlID09PSBIRUFEX0JZVEVfUkVRVUlSRUQgJiYgIXRoaXMuaGFzUmVtYWluaW5nKDEpKSB7XG4gICAgICAgICAgICB0aGlzLnNldEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbWFpbmluZ0RhdGEgPSB0aGlzLmJ5dGVzLnN1YmFycmF5KHRoaXMucG9zKTtcbiAgICAgICAgICAgIHZhciBuZXdEYXRhID0gZW5zdXJlVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgLy8gY29uY2F0IHJlbWFpbmluZ0RhdGEgKyBuZXdEYXRhXG4gICAgICAgICAgICB2YXIgbmV3QnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkocmVtYWluaW5nRGF0YS5sZW5ndGggKyBuZXdEYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICBuZXdCdWZmZXIuc2V0KHJlbWFpbmluZ0RhdGEpO1xuICAgICAgICAgICAgbmV3QnVmZmVyLnNldChuZXdEYXRhLCByZW1haW5pbmdEYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnNldEJ1ZmZlcihuZXdCdWZmZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5oYXNSZW1haW5pbmcgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmJ5dGVMZW5ndGggLSB0aGlzLnBvcyA+PSBzaXplO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuY3JlYXRlRXh0cmFCeXRlRXJyb3IgPSBmdW5jdGlvbiAocG9zVG9TaG93KSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHZpZXcgPSBfYS52aWV3LCBwb3MgPSBfYS5wb3M7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2VFcnJvcihcIkV4dHJhIFwiLmNvbmNhdCh2aWV3LmJ5dGVMZW5ndGggLSBwb3MsIFwiIG9mIFwiKS5jb25jYXQodmlldy5ieXRlTGVuZ3RoLCBcIiBieXRlKHMpIGZvdW5kIGF0IGJ1ZmZlcltcIikuY29uY2F0KHBvc1RvU2hvdywgXCJdXCIpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEB0aHJvd3Mge0BsaW5rIERlY29kZUVycm9yfVxuICAgICAqIEB0aHJvd3Mge0BsaW5rIFJhbmdlRXJyb3J9XG4gICAgICovXG4gICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICB0aGlzLnJlaW5pdGlhbGl6ZVN0YXRlKCk7XG4gICAgICAgIHRoaXMuc2V0QnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIHZhciBvYmplY3QgPSB0aGlzLmRvRGVjb2RlU3luYygpO1xuICAgICAgICBpZiAodGhpcy5oYXNSZW1haW5pbmcoMSkpIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMuY3JlYXRlRXh0cmFCeXRlRXJyb3IodGhpcy5wb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVNdWx0aSA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWluaXRpYWxpemVTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVtYWluaW5nKDEpKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5kb0RlY29kZVN5bmMoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDFdO1xuICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmRlY29kZUFzeW5jID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICB2YXIgc3RyZWFtXzEsIHN0cmVhbV8xXzE7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGVjb2RlZCwgb2JqZWN0LCBidWZmZXIsIGVfMV8xLCBfYiwgaGVhZEJ5dGUsIHBvcywgdG90YWxQb3M7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNvZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnRyeXMucHVzaChbMSwgNiwgNywgMTJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbV8xID0gX19hc3luY1ZhbHVlcyhzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbNCAvKnlpZWxkKi8sIHN0cmVhbV8xLm5leHQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHN0cmVhbV8xXzEgPSBfYy5zZW50KCksICFzdHJlYW1fMV8xLmRvbmUpKSByZXR1cm4gWzMgLypicmVhayovLCA1XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlciA9IHN0cmVhbV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVjb2RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHRoaXMuY3JlYXRlRXh0cmFCeXRlRXJyb3IodGhpcy50b3RhbFBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRvRGVjb2RlU3luYygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY29kZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgRGF0YVZpZXdJbmRleE91dE9mQm91bmRzRXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7IC8vIHJldGhyb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmFsbHRocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxQb3MgKz0gdGhpcy5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzFfMSA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxMl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnRyeXMucHVzaChbNywgLCAxMCwgMTFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHN0cmVhbV8xXzEgJiYgIXN0cmVhbV8xXzEuZG9uZSAmJiAoX2EgPSBzdHJlYW1fMS5yZXR1cm4pKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBfYS5jYWxsKHN0cmVhbV8xKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gOTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OiByZXR1cm4gWzMgLypicmVhayovLCAxMV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExOiByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlY29kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNSZW1haW5pbmcoMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgdGhpcy5jcmVhdGVFeHRyYUJ5dGVFcnJvcih0aGlzLnRvdGFsUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG9iamVjdF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfYiA9IHRoaXMsIGhlYWRCeXRlID0gX2IuaGVhZEJ5dGUsIHBvcyA9IF9iLnBvcywgdG90YWxQb3MgPSBfYi50b3RhbFBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5zdWZmaWNpZW50IGRhdGEgaW4gcGFyc2luZyBcIi5jb25jYXQocHJldHR5Qnl0ZShoZWFkQnl0ZSksIFwiIGF0IFwiKS5jb25jYXQodG90YWxQb3MsIFwiIChcIikuY29uY2F0KHBvcywgXCIgaW4gdGhlIGN1cnJlbnQgYnVmZmVyKVwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQXJyYXlTdHJlYW0gPSBmdW5jdGlvbiAoc3RyZWFtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlY29kZU11bHRpQXN5bmMoc3RyZWFtLCB0cnVlKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmRlY29kZVN0cmVhbSA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlTXVsdGlBc3luYyhzdHJlYW0sIGZhbHNlKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmRlY29kZU11bHRpQXN5bmMgPSBmdW5jdGlvbiAoc3RyZWFtLCBpc0FycmF5KSB7XG4gICAgICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gZGVjb2RlTXVsdGlBc3luY18xKCkge1xuICAgICAgICAgICAgdmFyIGlzQXJyYXlIZWFkZXJSZXF1aXJlZCwgYXJyYXlJdGVtc0xlZnQsIHN0cmVhbV8yLCBzdHJlYW1fMl8xLCBidWZmZXIsIGVfMiwgZV8zXzE7XG4gICAgICAgICAgICB2YXIgZV8zLCBfYTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJyYXlIZWFkZXJSZXF1aXJlZCA9IGlzQXJyYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheUl0ZW1zTGVmdCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDEzLCAxNCwgMTldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbV8yID0gX19hc3luY1ZhbHVlcyhzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbNCAvKnlpZWxkKi8sIF9fYXdhaXQoc3RyZWFtXzIubmV4dCgpKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHN0cmVhbV8yXzEgPSBfYi5zZW50KCksICFzdHJlYW1fMl8xLmRvbmUpKSByZXR1cm4gWzMgLypicmVhayovLCAxMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBzdHJlYW1fMl8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkgJiYgYXJyYXlJdGVtc0xlZnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyB0aGlzLmNyZWF0ZUV4dHJhQnl0ZUVycm9yKHRoaXMudG90YWxQb3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRCdWZmZXIoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5SGVhZGVyUmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheUl0ZW1zTGVmdCA9IHRoaXMucmVhZEFycmF5U2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJyYXlIZWFkZXJSZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFs0LCA5LCAsIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDU7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdHJ1ZSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBfX2F3YWl0KHRoaXMuZG9EZWNvZGVTeW5jKCkpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzQgLyp5aWVsZCovLCBfYi5zZW50KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoLS1hcnJheUl0ZW1zTGVmdCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszIC8qYnJlYWsqLywgMTBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzIgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlXzIgaW5zdGFuY2VvZiBEYXRhVmlld0luZGV4T3V0T2ZCb3VuZHNFcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlXzI7IC8vIHJldGhyb3dcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDEwXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxQb3MgKz0gdGhpcy5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDExO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExOiByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjogcmV0dXJuIFszIC8qYnJlYWsqLywgMTldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICAgICAgZV8zXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzMgPSB7IGVycm9yOiBlXzNfMSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxNCwgLCAxNywgMThdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHN0cmVhbV8yXzEgJiYgIXN0cmVhbV8yXzEuZG9uZSAmJiAoX2EgPSBzdHJlYW1fMi5yZXR1cm4pKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgX19hd2FpdChfYS5jYWxsKHN0cmVhbV8yKSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxNjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNjogcmV0dXJuIFszIC8qYnJlYWsqLywgMThdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxODogcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmRvRGVjb2RlU3luYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgREVDT0RFOiB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgdmFyIGhlYWRCeXRlID0gdGhpcy5yZWFkSGVhZEJ5dGUoKTtcbiAgICAgICAgICAgIHZhciBvYmplY3QgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoaGVhZEJ5dGUgPj0gMHhlMCkge1xuICAgICAgICAgICAgICAgIC8vIG5lZ2F0aXZlIGZpeGludCAoMTExeCB4eHh4KSAweGUwIC0gMHhmZlxuICAgICAgICAgICAgICAgIG9iamVjdCA9IGhlYWRCeXRlIC0gMHgxMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA8IDB4YzApIHtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aXZlIGZpeGludCAoMHh4eCB4eHh4KSAweDAwIC0gMHg3ZlxuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBoZWFkQnl0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPCAweDkwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpeG1hcCAoMTAwMCB4eHh4KSAweDgwIC0gMHg4ZlxuICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGhlYWRCeXRlIC0gMHg4MDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaE1hcFN0YXRlKHNpemUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgREVDT0RFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPCAweGEwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpeGFycmF5ICgxMDAxIHh4eHgpIDB4OTAgLSAweDlmXG4gICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gaGVhZEJ5dGUgLSAweDkwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoQXJyYXlTdGF0ZShzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIERFQ09ERTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaXhzdHIgKDEwMXggeHh4eCkgMHhhMCAtIDB4YmZcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ5dGVMZW5ndGggPSBoZWFkQnl0ZSAtIDB4YTA7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMuZGVjb2RlVXRmOFN0cmluZyhieXRlTGVuZ3RoLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhjMCkge1xuICAgICAgICAgICAgICAgIC8vIG5pbFxuICAgICAgICAgICAgICAgIG9iamVjdCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhjMikge1xuICAgICAgICAgICAgICAgIC8vIGZhbHNlXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhjMykge1xuICAgICAgICAgICAgICAgIC8vIHRydWVcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4Y2EpIHtcbiAgICAgICAgICAgICAgICAvLyBmbG9hdCAzMlxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZEYzMigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4Y2IpIHtcbiAgICAgICAgICAgICAgICAvLyBmbG9hdCA2NFxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZEY2NCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4Y2MpIHtcbiAgICAgICAgICAgICAgICAvLyB1aW50IDhcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLnJlYWRVOCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4Y2QpIHtcbiAgICAgICAgICAgICAgICAvLyB1aW50IDE2XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5yZWFkVTE2KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhjZSkge1xuICAgICAgICAgICAgICAgIC8vIHVpbnQgMzJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLnJlYWRVMzIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGNmKSB7XG4gICAgICAgICAgICAgICAgLy8gdWludCA2NFxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZFU2NCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4ZDApIHtcbiAgICAgICAgICAgICAgICAvLyBpbnQgOFxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZEk4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkMSkge1xuICAgICAgICAgICAgICAgIC8vIGludCAxNlxuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucmVhZEkxNigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4ZDIpIHtcbiAgICAgICAgICAgICAgICAvLyBpbnQgMzJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLnJlYWRJMzIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQzKSB7XG4gICAgICAgICAgICAgICAgLy8gaW50IDY0XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5yZWFkSTY0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkOSkge1xuICAgICAgICAgICAgICAgIC8vIHN0ciA4XG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVMZW5ndGggPSB0aGlzLmxvb2tVOCgpO1xuICAgICAgICAgICAgICAgIG9iamVjdCA9IHRoaXMuZGVjb2RlVXRmOFN0cmluZyhieXRlTGVuZ3RoLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGRhKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RyIDE2XG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVMZW5ndGggPSB0aGlzLmxvb2tVMTYoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZVV0ZjhTdHJpbmcoYnl0ZUxlbmd0aCwgMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkYikge1xuICAgICAgICAgICAgICAgIC8vIHN0ciAzMlxuICAgICAgICAgICAgICAgIHZhciBieXRlTGVuZ3RoID0gdGhpcy5sb29rVTMyKCk7XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5kZWNvZGVVdGY4U3RyaW5nKGJ5dGVMZW5ndGgsIDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4ZGMpIHtcbiAgICAgICAgICAgICAgICAvLyBhcnJheSAxNlxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5yZWFkVTE2KCk7XG4gICAgICAgICAgICAgICAgaWYgKHNpemUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoQXJyYXlTdGF0ZShzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBERUNPREU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkZCkge1xuICAgICAgICAgICAgICAgIC8vIGFycmF5IDMyXG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLnJlYWRVMzIoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2hBcnJheVN0YXRlKHNpemUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIERFQ09ERTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGRlKSB7XG4gICAgICAgICAgICAgICAgLy8gbWFwIDE2XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLnJlYWRVMTYoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2hNYXBTdGF0ZShzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBERUNPREU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkQnl0ZSA9PT0gMHhkZikge1xuICAgICAgICAgICAgICAgIC8vIG1hcCAzMlxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5yZWFkVTMyKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNpemUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoTWFwU3RhdGUoc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWUgREVDT0RFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4YzQpIHtcbiAgICAgICAgICAgICAgICAvLyBiaW4gOFxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5sb29rVTgoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUJpbmFyeShzaXplLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGM1KSB7XG4gICAgICAgICAgICAgICAgLy8gYmluIDE2XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmxvb2tVMTYoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUJpbmFyeShzaXplLCAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGM2KSB7XG4gICAgICAgICAgICAgICAgLy8gYmluIDMyXG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmxvb2tVMzIoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUJpbmFyeShzaXplLCA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ0KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDFcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbigxLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ1KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbigyLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ2KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDRcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbig0LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ3KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDhcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbig4LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGQ4KSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZXh0IDE2XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5kZWNvZGVFeHRlbnNpb24oMTYsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVhZEJ5dGUgPT09IDB4YzcpIHtcbiAgICAgICAgICAgICAgICAvLyBleHQgOFxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5sb29rVTgoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbihzaXplLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGM4KSB7XG4gICAgICAgICAgICAgICAgLy8gZXh0IDE2XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmxvb2tVMTYoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbihzaXplLCAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRCeXRlID09PSAweGM5KSB7XG4gICAgICAgICAgICAgICAgLy8gZXh0IDMyXG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmxvb2tVMzIoKTtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSB0aGlzLmRlY29kZUV4dGVuc2lvbihzaXplLCA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBEZWNvZGVFcnJvcihcIlVucmVjb2duaXplZCB0eXBlIGJ5dGU6IFwiLmNvbmNhdChwcmV0dHlCeXRlKGhlYWRCeXRlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgdmFyIHN0YWNrID0gdGhpcy5zdGFjaztcbiAgICAgICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gYXJyYXlzIGFuZCBtYXBzXG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLnR5cGUgPT09IDAgLyogU3RhdGUuQVJSQVkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuYXJyYXlbc3RhdGUucG9zaXRpb25dID0gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wb3NpdGlvbisrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLnNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0ID0gc3RhdGUuYXJyYXk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBERUNPREU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUudHlwZSA9PT0gMSAvKiBTdGF0ZS5NQVBfS0VZICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZE1hcEtleVR5cGUob2JqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IERlY29kZUVycm9yKFwiVGhlIHR5cGUgb2Yga2V5IG11c3QgYmUgc3RyaW5nIG9yIG51bWJlciBidXQgXCIgKyB0eXBlb2Ygb2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0ID09PSBcIl9fcHJvdG9fX1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGVjb2RlRXJyb3IoXCJUaGUga2V5IF9fcHJvdG9fXyBpcyBub3QgYWxsb3dlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5rZXkgPSBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnR5cGUgPSAyIC8qIFN0YXRlLk1BUF9WQUxVRSAqLztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWUgREVDT0RFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQgbXVzdCBiZSBgc3RhdGUudHlwZSA9PT0gU3RhdGUuTUFQX1ZBTFVFYCBoZXJlXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLm1hcFtzdGF0ZS5rZXldID0gb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5yZWFkQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLnJlYWRDb3VudCA9PT0gc3RhdGUuc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBzdGF0ZS5tYXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5rZXkgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUudHlwZSA9IDEgLyogU3RhdGUuTUFQX0tFWSAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIERFQ09ERTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnJlYWRIZWFkQnl0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGVhZEJ5dGUgPT09IEhFQURfQllURV9SRVFVSVJFRCkge1xuICAgICAgICAgICAgdGhpcy5oZWFkQnl0ZSA9IHRoaXMucmVhZFU4KCk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImhlYWRCeXRlXCIsIHByZXR0eUJ5dGUodGhpcy5oZWFkQnl0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmhlYWRCeXRlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaGVhZEJ5dGUgPSBIRUFEX0JZVEVfUkVRVUlSRUQ7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkQXJyYXlTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGVhZEJ5dGUgPSB0aGlzLnJlYWRIZWFkQnl0ZSgpO1xuICAgICAgICBzd2l0Y2ggKGhlYWRCeXRlKSB7XG4gICAgICAgICAgICBjYXNlIDB4ZGM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZFUxNigpO1xuICAgICAgICAgICAgY2FzZSAweGRkOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRVMzIoKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZEJ5dGUgPCAweGEwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoZWFkQnl0ZSAtIDB4OTA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGVjb2RlRXJyb3IoXCJVbnJlY29nbml6ZWQgYXJyYXkgdHlwZSBieXRlOiBcIi5jb25jYXQocHJldHR5Qnl0ZShoZWFkQnl0ZSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnB1c2hNYXBTdGF0ZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIGlmIChzaXplID4gdGhpcy5tYXhNYXBMZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBEZWNvZGVFcnJvcihcIk1heCBsZW5ndGggZXhjZWVkZWQ6IG1hcCBsZW5ndGggKFwiLmNvbmNhdChzaXplLCBcIikgPiBtYXhNYXBMZW5ndGhMZW5ndGggKFwiKS5jb25jYXQodGhpcy5tYXhNYXBMZW5ndGgsIFwiKVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFjay5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IDEgLyogU3RhdGUuTUFQX0tFWSAqLyxcbiAgICAgICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgICAgICBrZXk6IG51bGwsXG4gICAgICAgICAgICByZWFkQ291bnQ6IDAsXG4gICAgICAgICAgICBtYXA6IHt9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnB1c2hBcnJheVN0YXRlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgaWYgKHNpemUgPiB0aGlzLm1heEFycmF5TGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRGVjb2RlRXJyb3IoXCJNYXggbGVuZ3RoIGV4Y2VlZGVkOiBhcnJheSBsZW5ndGggKFwiLmNvbmNhdChzaXplLCBcIikgPiBtYXhBcnJheUxlbmd0aCAoXCIpLmNvbmNhdCh0aGlzLm1heEFycmF5TGVuZ3RoLCBcIilcIikpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhY2sucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiAwIC8qIFN0YXRlLkFSUkFZICovLFxuICAgICAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgICAgIGFycmF5OiBuZXcgQXJyYXkoc2l6ZSksXG4gICAgICAgICAgICBwb3NpdGlvbjogMCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVVdGY4U3RyaW5nID0gZnVuY3Rpb24gKGJ5dGVMZW5ndGgsIGhlYWRlck9mZnNldCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChieXRlTGVuZ3RoID4gdGhpcy5tYXhTdHJMZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBEZWNvZGVFcnJvcihcIk1heCBsZW5ndGggZXhjZWVkZWQ6IFVURi04IGJ5dGUgbGVuZ3RoIChcIi5jb25jYXQoYnl0ZUxlbmd0aCwgXCIpID4gbWF4U3RyTGVuZ3RoIChcIikuY29uY2F0KHRoaXMubWF4U3RyTGVuZ3RoLCBcIilcIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJ5dGVzLmJ5dGVMZW5ndGggPCB0aGlzLnBvcyArIGhlYWRlck9mZnNldCArIGJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IE1PUkVfREFUQTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5wb3MgKyBoZWFkZXJPZmZzZXQ7XG4gICAgICAgIHZhciBvYmplY3Q7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlSXNNYXBLZXkoKSAmJiAoKF9hID0gdGhpcy5rZXlEZWNvZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuQmVDYWNoZWQoYnl0ZUxlbmd0aCkpKSB7XG4gICAgICAgICAgICBvYmplY3QgPSB0aGlzLmtleURlY29kZXIuZGVjb2RlKHRoaXMuYnl0ZXMsIG9mZnNldCwgYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYnl0ZUxlbmd0aCA+IFRFWFRfREVDT0RFUl9USFJFU0hPTEQpIHtcbiAgICAgICAgICAgIG9iamVjdCA9IHV0ZjhEZWNvZGVURCh0aGlzLmJ5dGVzLCBvZmZzZXQsIGJ5dGVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqZWN0ID0gdXRmOERlY29kZUpzKHRoaXMuYnl0ZXMsIG9mZnNldCwgYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3MgKz0gaGVhZGVyT2Zmc2V0ICsgYnl0ZUxlbmd0aDtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnN0YXRlSXNNYXBLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS50eXBlID09PSAxIC8qIFN0YXRlLk1BUF9LRVkgKi87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVMZW5ndGgsIGhlYWRPZmZzZXQpIHtcbiAgICAgICAgaWYgKGJ5dGVMZW5ndGggPiB0aGlzLm1heEJpbkxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IERlY29kZUVycm9yKFwiTWF4IGxlbmd0aCBleGNlZWRlZDogYmluIGxlbmd0aCAoXCIuY29uY2F0KGJ5dGVMZW5ndGgsIFwiKSA+IG1heEJpbkxlbmd0aCAoXCIpLmNvbmNhdCh0aGlzLm1heEJpbkxlbmd0aCwgXCIpXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaGFzUmVtYWluaW5nKGJ5dGVMZW5ndGggKyBoZWFkT2Zmc2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgTU9SRV9EQVRBO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLnBvcyArIGhlYWRPZmZzZXQ7XG4gICAgICAgIHZhciBvYmplY3QgPSB0aGlzLmJ5dGVzLnN1YmFycmF5KG9mZnNldCwgb2Zmc2V0ICsgYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRoaXMucG9zICs9IGhlYWRPZmZzZXQgKyBieXRlTGVuZ3RoO1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlRXh0ZW5zaW9uID0gZnVuY3Rpb24gKHNpemUsIGhlYWRPZmZzZXQpIHtcbiAgICAgICAgaWYgKHNpemUgPiB0aGlzLm1heEV4dExlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IERlY29kZUVycm9yKFwiTWF4IGxlbmd0aCBleGNlZWRlZDogZXh0IGxlbmd0aCAoXCIuY29uY2F0KHNpemUsIFwiKSA+IG1heEV4dExlbmd0aCAoXCIpLmNvbmNhdCh0aGlzLm1heEV4dExlbmd0aCwgXCIpXCIpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXh0VHlwZSA9IHRoaXMudmlldy5nZXRJbnQ4KHRoaXMucG9zICsgaGVhZE9mZnNldCk7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5kZWNvZGVCaW5hcnkoc2l6ZSwgaGVhZE9mZnNldCArIDEgLyogZXh0VHlwZSAqLyk7XG4gICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbkNvZGVjLmRlY29kZShkYXRhLCBleHRUeXBlLCB0aGlzLmNvbnRleHQpO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUubG9va1U4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldFVpbnQ4KHRoaXMucG9zKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmxvb2tVMTYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDE2KHRoaXMucG9zKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLmxvb2tVMzIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDMyKHRoaXMucG9zKTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnJlYWRVOCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52aWV3LmdldFVpbnQ4KHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MrKztcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUucmVhZEk4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZpZXcuZ2V0SW50OCh0aGlzLnBvcyk7XG4gICAgICAgIHRoaXMucG9zKys7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIERlY29kZXIucHJvdG90eXBlLnJlYWRVMTYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmlldy5nZXRVaW50MTYodGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSAyO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkSTE2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZpZXcuZ2V0SW50MTYodGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSAyO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkVTMyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZpZXcuZ2V0VWludDMyKHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUucmVhZEkzMiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52aWV3LmdldEludDMyKHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUucmVhZFU2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gZ2V0VWludDY0KHRoaXMudmlldywgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkSTY0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBnZXRJbnQ2NCh0aGlzLnZpZXcsIHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUucmVhZEYzMiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52aWV3LmdldEZsb2F0MzIodGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBEZWNvZGVyLnByb3RvdHlwZS5yZWFkRjY0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZpZXcuZ2V0RmxvYXQ2NCh0aGlzLnBvcyk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIHJldHVybiBEZWNvZGVyO1xufSgpKTtcbmV4cG9ydCB7IERlY29kZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlY29kZXIubWpzLm1hcCIsImltcG9ydCB7IERlY29kZXIgfSBmcm9tIFwiLi9EZWNvZGVyLm1qc1wiO1xuZXhwb3J0IHZhciBkZWZhdWx0RGVjb2RlT3B0aW9ucyA9IHt9O1xuLyoqXG4gKiBJdCBkZWNvZGVzIGEgc2luZ2xlIE1lc3NhZ2VQYWNrIG9iamVjdCBpbiBhIGJ1ZmZlci5cbiAqXG4gKiBUaGlzIGlzIGEgc3luY2hyb25vdXMgZGVjb2RpbmcgZnVuY3Rpb24uXG4gKiBTZWUgb3RoZXIgdmFyaWFudHMgZm9yIGFzeW5jaHJvbm91cyBkZWNvZGluZzoge0BsaW5rIGRlY29kZUFzeW5jKCl9LCB7QGxpbmsgZGVjb2RlU3RyZWFtKCl9LCBvciB7QGxpbmsgZGVjb2RlQXJyYXlTdHJlYW0oKX0uXG4gKlxuICogQHRocm93cyB7QGxpbmsgUmFuZ2VFcnJvcn0gaWYgdGhlIGJ1ZmZlciBpcyBpbmNvbXBsZXRlLCBpbmNsdWRpbmcgdGhlIGNhc2Ugd2hlcmUgdGhlIGJ1ZmZlciBpcyBlbXB0eS5cbiAqIEB0aHJvd3Mge0BsaW5rIERlY29kZUVycm9yfSBpZiB0aGUgYnVmZmVyIGNvbnRhaW5zIGludmFsaWQgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZShidWZmZXIsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBkZWZhdWx0RGVjb2RlT3B0aW9uczsgfVxuICAgIHZhciBkZWNvZGVyID0gbmV3IERlY29kZXIob3B0aW9ucy5leHRlbnNpb25Db2RlYywgb3B0aW9ucy5jb250ZXh0LCBvcHRpb25zLm1heFN0ckxlbmd0aCwgb3B0aW9ucy5tYXhCaW5MZW5ndGgsIG9wdGlvbnMubWF4QXJyYXlMZW5ndGgsIG9wdGlvbnMubWF4TWFwTGVuZ3RoLCBvcHRpb25zLm1heEV4dExlbmd0aCk7XG4gICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKGJ1ZmZlcik7XG59XG4vKipcbiAqIEl0IGRlY29kZXMgbXVsdGlwbGUgTWVzc2FnZVBhY2sgb2JqZWN0cyBpbiBhIGJ1ZmZlci5cbiAqIFRoaXMgaXMgY29ycmVzcG9uZGluZyB0byB7QGxpbmsgZGVjb2RlTXVsdGlTdHJlYW0oKX0uXG4gKlxuICogQHRocm93cyB7QGxpbmsgUmFuZ2VFcnJvcn0gaWYgdGhlIGJ1ZmZlciBpcyBpbmNvbXBsZXRlLCBpbmNsdWRpbmcgdGhlIGNhc2Ugd2hlcmUgdGhlIGJ1ZmZlciBpcyBlbXB0eS5cbiAqIEB0aHJvd3Mge0BsaW5rIERlY29kZUVycm9yfSBpZiB0aGUgYnVmZmVyIGNvbnRhaW5zIGludmFsaWQgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZU11bHRpKGJ1ZmZlciwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IGRlZmF1bHREZWNvZGVPcHRpb25zOyB9XG4gICAgdmFyIGRlY29kZXIgPSBuZXcgRGVjb2RlcihvcHRpb25zLmV4dGVuc2lvbkNvZGVjLCBvcHRpb25zLmNvbnRleHQsIG9wdGlvbnMubWF4U3RyTGVuZ3RoLCBvcHRpb25zLm1heEJpbkxlbmd0aCwgb3B0aW9ucy5tYXhBcnJheUxlbmd0aCwgb3B0aW9ucy5tYXhNYXBMZW5ndGgsIG9wdGlvbnMubWF4RXh0TGVuZ3RoKTtcbiAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGVNdWx0aShidWZmZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVjb2RlLm1qcy5tYXAiLCJcInVzZSBzdHJpY3RcIlxyXG4vLyB0aGVzZSBhcmUgdGhlIGNvZGVzIHRoYXQgYXJlIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBydWRpbWVudGFyeSB0eXBlIG9mIG51bWJlcnNcclxudmFyIFBST1BFUlRZX0NPREUgPSAwXHJcbnZhciBUWVBFX0NPREUgPSAzXHJcbnZhciBTVFJJTkdfQ09ERSA9IDJcclxudmFyIE5VTUJFUl9DT0RFID0gMVxyXG52YXIgU0VRVUVOQ0VfQ09ERSA9IDdcclxuXHJcbi8vIGNvbnN0YW50IGNvZGVzXHJcbnZhciBOVUxMID0gMCAvLyBwXHJcbnZhciBGQUxTRSA9IDMgLy8gc1xyXG52YXIgVFJVRSA9IDQgLy8gdFxyXG52YXIgVU5ERUZJTkVEID0gNSAvLyB1XHJcblxyXG4vLyB0aGVzZSBhcmUgdGhlIHN0YXJ0aW5nIGNvZGVzIChzdHJ1Y3R1cmVzIGFsc28gdXNlIHRoaXMgc3BhY2UpIGZvciBjb21wbGV0ZSB0eXBlc1xyXG52YXIgREVGQVVMVF9UWVBFID0gNlxyXG52YXIgQVJSQVlfVFlQRSA9IDdcclxudmFyIFJFRkVSRU5DSU5HX1RZUEUgPSA4XHJcbnZhciBOVU1CRVJfVFlQRSA9IDlcclxudmFyIEVYVEVOU0lPTlMgPSAxMFxyXG52YXIgTUVUQURBVEFfVFlQRSA9IDExXHJcbnZhciBDT1BZX1BST1BFUlRZID0gMTIgIC8vIGZvciBkZWZpbmluZyBhIHR5cGVkIG9iamVjdCB3aXRob3V0IHJldHVybmluZyB0aGUgdmFsdWVcclxudmFyIFJFRkVSRU5DSU5HX1BPU0lUSU9OID0gMTNcclxudmFyIFRZUEVfREVGSU5JVElPTiA9IDE0ICAvLyBmb3IgZGVmaW5pbmcgYSB0eXBlZCBvYmplY3Qgd2l0aG91dCByZXR1cm5pbmcgdGhlIHZhbHVlXHJcblxyXG52YXIgRVJST1JfTUVUQURBVEEgPSA1MDBcclxuXHJcbi8vIHNlcXVlbmNlIGNvZGVzXHJcbnZhciBPUEVOX1NFUVVFTkNFID0gMTIgLy8gPFxyXG52YXIgUEFSVElBTF9ERUZFUlJFRF9SRUZFUkVOQ0UgPSAxMiAvLyA8XHJcbnZhciBFTkRfU0VRVUVOQ0UgPSAxNCAvLyA+XHJcbnZhciBERUZFUlJFRF9SRUZFUkVOQ0UgPSAxNSAvLyA/XHJcbnZhciBuZXh0SWQgPSAxXHJcbnZhciBpdGVyYXRvclN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnID8gU3ltYm9sLml0ZXJhdG9yIDogJ19faXRlcmF0b3Jfc3ltYm9sX18nXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTZXJpYWxpemVyKG9wdGlvbnMpIHtcclxuXHRpZiAoIW9wdGlvbnMpXHJcblx0XHRvcHRpb25zID0ge31cclxuXHR2YXIgZXh0ZW5kZWRUeXBlcyA9IG9wdGlvbnMuY29udmVydGVyQnlDb25zdHJ1Y3RvclxyXG5cdGlmICghZXh0ZW5kZWRUeXBlcykge1xyXG5cdFx0ZXh0ZW5kZWRUeXBlcyA9IG5ldyBNYXAoKVxyXG5cdH1cclxuXHRleHRlbmRlZFR5cGVzLnNldChNYXAsIHtcclxuXHRcdG5hbWU6ICdNYXAnLFxyXG5cdFx0dG9WYWx1ZTogd3JpdGVNYXBcclxuXHR9KVxyXG5cdGV4dGVuZGVkVHlwZXMuc2V0KFNldCwge1xyXG5cdFx0bmFtZTogJ1NldCcsXHJcblx0XHR0b1ZhbHVlOiB3cml0ZVNldFxyXG5cdH0pXHJcblx0ZXh0ZW5kZWRUeXBlcy5zZXQoRGF0ZSwge1xyXG5cdFx0bmFtZTogJ0RhdGUnLFxyXG5cdFx0dG9WYWx1ZTogd3JpdGVEYXRlXHJcblx0fSlcclxuXHR2YXIgYXZvaWRTaGFyZVVwZGF0ZSA9IG9wdGlvbnMub3V0bGV0IHx8IG9wdGlvbnMuYXZvaWRTaGFyZVVwZGF0ZVxyXG5cdHZhciBjaGFyRW5jb2RlciA9ICh0eXBlb2YgZ2xvYmFsICE9ICd1bmRlZmluZWQnICYmIGdsb2JhbC5CdWZmZXIgJiYgIShvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RpbmcgPT09ICd1dGYxNmxlJykpID8gZXhwb3J0cy5ub2RlQ2hhckVuY29kZXIob3B0aW9ucykgOiBicm93c2VyQ2hhckVuY29kZXIob3B0aW9ucylcclxuXHR2YXIgd3JpdGVTdHJpbmcgPSBjaGFyRW5jb2Rlci53cml0ZVN0cmluZ1xyXG5cdHZhciB3cml0ZVRva2VuID0gY2hhckVuY29kZXIud3JpdGVUb2tlblxyXG5cdHZhciBzdGFydFNlcXVlbmNlID0gY2hhckVuY29kZXIuc3RhcnRTZXF1ZW5jZVxyXG5cdHZhciBlbmRTZXF1ZW5jZSA9IGNoYXJFbmNvZGVyLmVuZFNlcXVlbmNlXHJcblx0dmFyIHdyaXRlQnVmZmVyID0gY2hhckVuY29kZXIud3JpdGVCdWZmZXJcclxuXHR2YXIgZm9yUHJvcGVydHkgPSBvcHRpb25zLmZvclByb3BlcnR5XHJcblx0dmFyIHByb3BlcnR5VXNlZFxyXG5cdHZhciB2YWx1ZVVzZWRcclxuXHRpZiAob3B0aW9ucy5zaGFyZWQpIHtcclxuXHRcdHByb3BlcnR5VXNlZCA9IG9wdGlvbnMuc2hhcmVkLnByb3BlcnR5VXNlZFxyXG5cdFx0dmFsdWVVc2VkID0gb3B0aW9ucy5zaGFyZWQucHJvcGVydHlVc2VkXHJcblx0fVxyXG5cdHZhciBwZW5kaW5nRW5jb2RpbmdzID0gW11cclxuXHR2YXIgbmV4dFByb3BlcnR5SW5kZXggPSA4XHJcblx0dmFyIHByb3BlcnR5XHJcblx0dmFyIGJ1ZmZlclN5bWJvbCA9IGV4cG9ydHMuYnVmZmVyU3ltYm9sIHx8ICdfYnVmZmVyU3ltYm9sXydcclxuXHR2YXIgdGFyZ2V0U3ltYm9sID0gZXhwb3J0cy50YXJnZXRTeW1ib2wgfHwgJ190YXJnZXRTeW1ib2xfJ1xyXG5cdHZhciBwcm9wZXJ0eUNvbXBhcmlzb25zID0gMFxyXG5cdHZhciBzZXJpYWxpemVySWQgPSBuZXh0SWQrK1xyXG5cclxuXHR2YXIgd3JpdGVycyA9IFtcclxuXHRcdDAsIDEsIDIsIDMsIDQgLCA1LFxyXG5cdFx0d3JpdGVBc0RlZmF1bHQsXHJcblx0XHR3cml0ZUFzQXJyYXksXHJcblx0XHR3cml0ZUFzUmVmZXJlbmNpbmcsXHJcblx0XHR3cml0ZUFzTnVtYmVyLFxyXG5cdFx0d3JpdGVPbmx5TnVsbFxyXG5cdF1cclxuXHQvLyB3cml0ZSBhIHJ1ZGltZW50YXJ5IG51bWJlclxyXG5cdGZ1bmN0aW9uIHdyaXRlTnVtYmVyKG51bWJlcikge1xyXG5cdFx0d3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgbnVtYmVyKVxyXG5cdH1cclxuXHQvLyB3cml0ZSBhIHJ1ZGltZW50YXJ5IHN0cmluZ1xyXG5cdGZ1bmN0aW9uIHdyaXRlSW5saW5lU3RyaW5nKHN0cmluZykge1xyXG5cdFx0d3JpdGVUb2tlbihTVFJJTkdfQ09ERSwgc3RyaW5nLmxlbmd0aClcclxuXHRcdHdyaXRlU3RyaW5nKHN0cmluZylcclxuXHR9XHJcblxyXG5cdC8vIHdyaXRpbmcgYW55IHZhbHVlIGluIHJlZmVyZW5jaW5nIHNlcmlhbGl6YXRpb24gdHlwZSBtb2RlXHJcblx0ZnVuY3Rpb24gd3JpdGVBc1JlZmVyZW5jaW5nKHZhbHVlKSB7XHJcblx0XHR2YXIgdHlwZSwgdmFsdWVzID0gcHJvcGVydHkudmFsdWVzXHJcblx0XHRpZiAodmFsdWVzKSB7XHJcblx0XHRcdGlmICh2YWx1ZXMucmVzZXRUbyA+IC0xICYmIHZhbHVlcy5zZXJpYWxpemVyICE9PSBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0XHQvLyBpZiB0aGlzIGlzIGEgc2hhcmVkIHZhbHVlcywgbmVlZCB0byByZXNldCBvbiBlYWNoIHNlcmlhbGl6YXRpb25cclxuXHRcdFx0XHR2YWx1ZXMuc2VyaWFsaXplciA9IHNlcmlhbGl6ZXJJZFxyXG5cdFx0XHRcdGlmICh2YWx1ZXMucmVzZXRUbyA8IHZhbHVlcy5sZW5ndGgpXHJcblx0XHRcdFx0XHR2YWx1ZXMubGVuZ3RoID0gdmFsdWVzLnJlc2V0VG9cclxuXHRcdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgUkVGRVJFTkNJTkdfUE9TSVRJT04pXHJcblx0XHRcdFx0d3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgdmFsdWVzLnJlc2V0VG8pXHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHJlZmVyZW5jZSA9IHZhbHVlcy5pbmRleE9mKHZhbHVlKVxyXG5cdFx0XHRpZiAocmVmZXJlbmNlID4gLTEpIHtcclxuXHRcdFx0XHRyZXR1cm4gd3JpdGVOdW1iZXIocmVmZXJlbmNlKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAoKHR5cGUgPSB0eXBlb2YgdmFsdWUpID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSdvYmplY3QnICYmIHZhbHVlKSB7XHJcblx0XHRcdGlmIChwcm9wZXJ0eS53cml0ZVNoYXJlZFZhbHVlKSB7XHJcblx0XHRcdFx0aWYgKHByb3BlcnR5LndyaXRlU2hhcmVkVmFsdWUodmFsdWUsIHdyaXRlVG9rZW4sIHNlcmlhbGl6ZXJJZCkpXHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0fSBlbHNlIGlmICh2YWx1ZXMpIHtcclxuXHRcdFx0XHR2YXIgaW5kZXggPSB2YWx1ZXMubGVuZ3RoXHJcblx0XHRcdFx0aWYgKGluZGV4IDwgMTIpXHJcblx0XHRcdFx0XHR2YWx1ZXNbaW5kZXhdID0gdmFsdWVcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdHdyaXRlSW5saW5lU3RyaW5nKHZhbHVlKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0d3JpdGVBc0RlZmF1bHQodmFsdWUpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyB3cml0aW5nIGFueSB2YWx1ZSBpbiBudW1iZXIgc2VyaWFsaXphdGlvbiB0eXBlIG1vZGVcclxuXHRmdW5jdGlvbiB3cml0ZUFzTnVtYmVyKG51bWJlcikge1xyXG5cdFx0dmFyIHR5cGUgPSB0eXBlb2YgbnVtYmVyXHJcblx0XHRpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0aWYgKG51bWJlciA+Pj4gMCA9PT0gbnVtYmVyIHx8IChudW1iZXIgPiAwICYmIG51bWJlciA8IDB4NDAwMDAwMDAwMDAwICYmIG51bWJlciAlIDEgPT09IDApKSB7XHJcblx0XHRcdFx0Ly8gNDYgYml0IHVuc2lnbmVkIGludGVnZXJcclxuXHRcdFx0XHR3cml0ZVRva2VuKE5VTUJFUl9DT0RFLCBudW1iZXIpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gZGVjaW1hbCBudW1iZXIgc2VyaWFsaXplZCBhcyBhIHN0cmluZ1xyXG5cdFx0XHRcdHZhciBhc1N0cmluZyA9IG51bWJlci50b1N0cmluZygpXHJcblx0XHRcdFx0d3JpdGVJbmxpbmVTdHJpbmcoYXNTdHJpbmcpXHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0d3JpdGVBc0RlZmF1bHQobnVtYmVyKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0d3JpdGVUeXBlZFZhbHVlKG51bWJlcilcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHdyaXRlVHlwZWRWYWx1ZSh2YWx1ZSkge1xyXG5cdFx0aWYgKHZhbHVlID09PSBudWxsKVxyXG5cdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTlVMTClcclxuXHRcdGVsc2UgaWYgKHZhbHVlID09PSBmYWxzZSlcclxuXHRcdFx0d3JpdGVUb2tlbihUWVBFX0NPREUsIEZBTFNFKVxyXG5cdFx0ZWxzZSBpZiAodmFsdWUgPT09IHRydWUpXHJcblx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBUUlVFKVxyXG5cdFx0ZWxzZSBpZiAodmFsdWUgPT09IHVuZGVmaW5lZClcclxuXHRcdFx0d3JpdGVUb2tlbihUWVBFX0NPREUsIFVOREVGSU5FRClcclxuXHRcdGVsc2Uge1xyXG5cdFx0XHR3cml0ZVR5cGVkTm9uQ29uc3RhbnQodmFsdWUpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB3cml0ZVR5cGVkTm9uQ29uc3RhbnQodmFsdWUpIHtcclxuXHRcdHZhciB0eXBlID0gdHlwZW9mIHZhbHVlXHJcblx0XHR2YXIgZXh0ZW5kZWRUeXBlXHJcblx0XHRpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0aWYgKHZhbHVlKSB7XHJcblx0XHRcdFx0dmFyIGNvbnN0cnVjdG9yID0gdmFsdWUuY29uc3RydWN0b3JcclxuXHRcdFx0XHRpZiAoY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xyXG5cdFx0XHRcdFx0Ly8gbGVhdmUgdHlwZSBhcyBpc1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblx0XHRcdFx0XHR0eXBlID0gJ2FycmF5J1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRleHRlbmRlZFR5cGUgPSBleHRlbmRlZFR5cGVzLmdldChjb25zdHJ1Y3RvcilcclxuXHRcdFx0XHRcdGlmIChleHRlbmRlZFR5cGUgJiYgZXh0ZW5kZWRUeXBlLnRvVmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0dmFsdWUgPSBleHRlbmRlZFR5cGUudG9WYWx1ZSh2YWx1ZSlcclxuXHRcdFx0XHRcdFx0dHlwZSA9IHR5cGVvZiB2YWx1ZSAvLyBnbyB0aHJvdWdoIHRoZSBzYW1lIGxvZ2ljIGFkanVzdG1lbnQgaGVyZVxyXG5cdFx0XHRcdFx0XHRpZiAodmFsdWUgJiYgdHlwZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblx0XHRcdFx0XHRcdFx0dHlwZSA9ICdhcnJheSdcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAocHJvcGVydHkudHlwZSA9PT0gdHlwZSkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIGlmIHdlIGFyZSB0aGUgcmlnaHQgdHlwZSBhZnRlciBkb2luZyB0aGUgY29udmVyc2lvbiwgZ28gYmFjayB0byB0aGUgb3JpZ2luYWwgcHJvcGVydHkgdG8gc2VyaWFsaXplXHJcblx0XHRcdFx0XHRcdFx0aWYgKHByb3BlcnR5LmV4dGVuZGVkVHlwZSAhPT0gZXh0ZW5kZWRUeXBlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5leHRlbmRlZFR5cGUgPSBleHRlbmRlZFR5cGVcclxuXHRcdFx0XHRcdFx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBNRVRBREFUQV9UWVBFKVxyXG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVJbmxpbmVTdHJpbmcoZXh0ZW5kZWRUeXBlLm5hbWUpXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB3cml0ZXJzW3Byb3BlcnR5LmNvZGVdKHZhbHVlKVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRleHRlbmRlZFR5cGUgPSBmYWxzZVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7IC8vIG51bGxcclxuXHRcdFx0XHR0eXBlID0gJ3VuZGVmaW5lZCcgLy8gdHJlYXQgbnVsbCBhcyBzYW1lIHR5cGUgYXMgdW5kZWZpbmVkLCBib3RoIGNvbnN0YW50c1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09ICdib29sZWFuJykge1xyXG5cdFx0XHR0eXBlID0gJ3VuZGVmaW5lZCdcclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHR2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKClcclxuXHRcdFx0dHlwZSA9ICdzdHJpbmcnXHJcblx0XHR9XHJcblx0XHRwcm9wZXJ0eSA9IHdyaXRlUHJvcGVydHkobnVsbCwgdHlwZSwgZXh0ZW5kZWRUeXBlKVxyXG5cdFx0d3JpdGVyc1twcm9wZXJ0eS5jb2RlXSh2YWx1ZSlcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHdyaXRlT25seU51bGwoKSB7XHJcblx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTlVMTClcclxuXHR9XHJcblxyXG5cdC8vIHdyaXRpbmcgYW55IHZhbHVlIGluIGRlZmF1bHQgc2VyaWFsaXphdGlvbiB0eXBlIG1vZGVcclxuXHRmdW5jdGlvbiB3cml0ZUFzRGVmYXVsdCh2YWx1ZSwgaXNSb290KSB7XHJcblx0XHR2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZVxyXG5cdFx0aWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdGlmICghdmFsdWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gd3JpdGVUb2tlbihUWVBFX0NPREUsIE5VTEwpXHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gZWxzZSBjb250aW51ZSB3aXRoIHRoZSBvYmplY3QgY29kZVxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRyZXR1cm4gd3JpdGVJbmxpbmVTdHJpbmcodmFsdWUpXHJcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmICh2YWx1ZSA+Pj4gMCA9PT0gdmFsdWUgfHwgKHZhbHVlID4gMCAmJiB2YWx1ZSA8IDB4NDAwMDAwMDAwMDAwICYmIHZhbHVlICUgMSA9PT0gMCkpKSB7XHJcblx0XHRcdC8vIDQ2IGJpdCB1bnNpZ25lZCBpbnRlZ2VyXHJcblx0XHRcdHJldHVybiB3cml0ZVRva2VuKE5VTUJFUl9DT0RFLCB2YWx1ZSlcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiB3cml0ZVR5cGVkVmFsdWUodmFsdWUpXHJcblx0XHR9XHJcblx0XHR2YXIgb2JqZWN0ID0gdmFsdWVcclxuXHRcdHZhciBjb25zdHJ1Y3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvclxyXG5cdFx0dmFyIG5vdFBsYWluT2JqZWN0XHJcblx0XHRpZiAob2JqZWN0W3RhcmdldFN5bWJvbF0pIHtcclxuXHRcdFx0cmV0dXJuIHdyaXRlQmxvY2tSZWZlcmVuY2UodmFsdWUpXHJcblx0XHR9IGVsc2UgaWYgKGNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcclxuXHRcdFx0bm90UGxhaW5PYmplY3QgPSBmYWxzZVxyXG5cdFx0fSBlbHNlIGlmIChjb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHRcdFx0cHJvcGVydHkgPSB3cml0ZVByb3BlcnR5KHByb3BlcnR5LmtleSwgJ2FycmF5JylcclxuXHRcdFx0cmV0dXJuIHdyaXRlcnNbcHJvcGVydHkuY29kZV0odmFsdWUpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAob2JqZWN0LnRoZW4pIHtcclxuXHRcdFx0XHRyZXR1cm4gd3JpdGVCbG9ja1JlZmVyZW5jZSh2YWx1ZSlcclxuXHRcdFx0fVxyXG5cdFx0XHRleHRlbmRlZFR5cGUgPSBleHRlbmRlZFR5cGVzLmdldChjb25zdHJ1Y3RvcilcclxuXHRcdFx0aWYgKGV4dGVuZGVkVHlwZSkge1xyXG5cdFx0XHRcdGlmIChleHRlbmRlZFR5cGUudG9WYWx1ZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHdyaXRlVHlwZWRWYWx1ZShvYmplY3QpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChvYmplY3RbaXRlcmF0b3JTeW1ib2xdKSB7XHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IHdyaXRlUHJvcGVydHkocHJvcGVydHkua2V5LCAnYXJyYXknKVxyXG5cdFx0XHRcdFx0cmV0dXJuIHdyaXRlQXNJdGVyYWJsZShvYmplY3QsIGlzUm9vdClcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZXh0ZW5kZWRUeXBlcy5zZXQoY29uc3RydWN0b3IsIGV4dGVuZGVkVHlwZSA9IHtcclxuXHRcdFx0XHRcdG5hbWU6IGNvbnN0cnVjdG9yLm5hbWVcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChwcm9wZXJ0eS5jb25zdHJ1Y3RzICE9PSBjb25zdHJ1Y3Rvcikge1xyXG5cdFx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBNRVRBREFUQV9UWVBFKVxyXG5cdFx0XHRcdHdyaXRlSW5saW5lU3RyaW5nKGV4dGVuZGVkVHlwZS5uYW1lKVxyXG5cdFx0XHRcdHByb3BlcnR5LmNvbnN0cnVjdHMgPSBjb25zdHJ1Y3RvclxyXG5cdFx0XHR9XHJcblx0XHRcdG5vdFBsYWluT2JqZWN0ID0gdHJ1ZVxyXG5cdFx0fVxyXG5cdFx0dmFyIHRoaXNQcm9wZXJ0eSA9IHByb3BlcnR5XHJcblx0XHRpZiAodGhpc1Byb3BlcnR5LnJlc2V0VG8gPCB0aGlzUHJvcGVydHkubGVuZ3RoICYmIHRoaXNQcm9wZXJ0eS5zZXJpYWxpemVyICE9IHNlcmlhbGl6ZXJJZCkge1xyXG5cdFx0XHR0aGlzUHJvcGVydHkubGVuZ3RoID0gdGhpc1Byb3BlcnR5LnJlc2V0VG9cclxuXHRcdFx0dGhpc1Byb3BlcnR5LnNlcmlhbGl6ZXIgPSBzZXJpYWxpemVySWRcclxuXHRcdH1cclxuXHRcdHN0YXJ0U2VxdWVuY2UoKVxyXG5cdFx0dmFyIGkgPSAwXHJcblx0XHQvL3ZhciBzcGFyc2UgPSBmYWxzZSAvLyBkZW5zZWx5IHBhY2tlZCBwcm9wZXJ0eSByZWZlcmVuY2VzIGNhbiBiZSBzZWFyY2hlZCBtb3JlIHF1aWNrbHlcclxuXHRcdHZhciByZXN1bWVJbmRleCA9IC0yIC8vIC0yIGRlbm90ZXMgZGVuc2VseSBwYWNrZWQgcHJvcGVydHkgcmVmZXJlbmNlcyBcclxuXHRcdHZhciBwcm9wZXJ0eUluZGV4ID0gMFxyXG5cdFx0Zm9yICh2YXIga2V5IGluIG9iamVjdCkge1xyXG5cdFx0XHRpZiAobm90UGxhaW5PYmplY3QgJiYgIW9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpKVxyXG5cdFx0XHRcdGNvbnRpbnVlXHJcblx0XHRcdHZhciB2YWx1ZSA9IG9iamVjdFtrZXldXHJcblx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWVcclxuXHRcdFx0cHJvcGVydHkgPSB0aGlzUHJvcGVydHlbcHJvcGVydHlJbmRleF1cclxuXHRcdFx0dmFyIGNvbnN0cnVjdG9yXHJcblx0XHRcdHZhciBleHRlbmRlZFR5cGUgPSBmYWxzZVxyXG5cdFx0XHRpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRpZiAodmFsdWUpIHtcclxuXHRcdFx0XHRcdGNvbnN0cnVjdG9yID0gdmFsdWUuY29uc3RydWN0b3JcclxuXHRcdFx0XHRcdGlmIChjb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XHJcblx0XHRcdFx0XHRcdC8vIGxlYXZlIHR5cGUgYXMgaXNcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblx0XHRcdFx0XHRcdHR5cGUgPSAnYXJyYXknXHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRleHRlbmRlZFR5cGUgPSBleHRlbmRlZFR5cGVzLmdldChjb25zdHJ1Y3RvcilcclxuXHRcdFx0XHRcdFx0aWYgKGV4dGVuZGVkVHlwZSAmJiBleHRlbmRlZFR5cGUudG9WYWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gZXh0ZW5kZWRUeXBlLnRvVmFsdWUodmFsdWUpXHJcblx0XHRcdFx0XHRcdFx0dHlwZSA9IHR5cGVvZiB2YWx1ZSAvLyBnbyB0aHJvdWdoIHRoZSBzYW1lIGxvZ2ljIGFkanVzdG1lbnQgaGVyZVxyXG5cdFx0XHRcdFx0XHRcdGlmICh2YWx1ZSAmJiB0eXBlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHR5cGUgPSAnYXJyYXknXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHZhbHVlW2l0ZXJhdG9yU3ltYm9sXSAmJiAhdmFsdWUudGhlbikge1xyXG5cdFx0XHRcdFx0XHRcdHR5cGUgPSAnYXJyYXknXHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZXh0ZW5kZWRUeXBlID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7IC8vIG51bGxcclxuXHRcdFx0XHRcdHR5cGUgPSAndW5kZWZpbmVkJyAvLyB0cmVhdCBudWxsIGFzIHNhbWUgdHlwZSBhcyB1bmRlZmluZWQgKGFuZCBib29sZWFuKSwgYm90aCBjb25zdGFudHMgdGhhdCBjYW4gZ28gaW4gYW55IHR5cGVcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFwcm9wZXJ0eSB8fCBwcm9wZXJ0eS5rZXkgIT09IGtleSB8fFxyXG5cdFx0XHRcdChwcm9wZXJ0eS50eXBlICE9PSB0eXBlICYmIHR5cGUgIT09ICdib29sZWFuJyAmJiB0eXBlICE9PSAndW5kZWZpbmVkJyAmJiAhKHR5cGUgPT09ICdzdHJpbmcnICYmIHByb3BlcnR5LnR5cGUgIT09ICdudW1iZXInKSkgfHxcclxuXHRcdFx0XHQoZXh0ZW5kZWRUeXBlICYmIHByb3BlcnR5LmV4dGVuZGVkVHlwZSAhPT0gY29uc3RydWN0b3IpKSB7XHJcblx0XHRcdFx0dmFyIGxhc3RQcm9wZXJ0eUluZGV4ID0gcHJvcGVydHlJbmRleFxyXG5cdFx0XHRcdC8vIHByb3BlcnR5IGRvZXNuJ3QgbWF0Y2gsIHNlYXJjaCBmb3IgaXQgdGhyb3VnaCBleGlzdGluZyBwcm9wZXJ0aWVzXHJcblx0XHRcdFx0Ly8gbm90ZSB0aGF0IHdlIGFyZSBzdGFydGluZyBhdCB0aGUgY3VycmVudCBwcm9wZXJ0eUluZGV4LCBzbyB0aGlzIG1ha2VzIHRoZSBhc3N1bXB0aW9uIHRoYXRcclxuXHRcdFx0XHQvLyBwcm9wZXJ0aWVzIGFyZSByYXJlbHkgZXZlciBzd2FwcGVkLCBzbyBwb3NzaWJsZSBwcm9wZXJ0eSBzbG90cyBhcmUgYWx3YXlzIGZvcndhcmRcclxuXHRcdFx0XHRpZiAocmVzdW1lSW5kZXggPiAtMilcclxuXHRcdFx0XHRcdHByb3BlcnR5SW5kZXggPSByZXN1bWVJbmRleFxyXG5cdFx0XHRcdGRvIHtcclxuXHRcdFx0XHRcdHByb3BlcnR5ID0gdGhpc1Byb3BlcnR5WysrcHJvcGVydHlJbmRleF1cclxuXHRcdFx0XHR9IHdoaWxlKHByb3BlcnR5ICYmIChwcm9wZXJ0eS5rZXkgIT09IGtleSB8fFxyXG5cdFx0XHRcdFx0XHQocHJvcGVydHkudHlwZSAhPT0gdHlwZSAmJiB0eXBlICE9PSAnYm9vbGVhbicgJiYgdHlwZSAhPT0gJ3VuZGVmaW5lZCcgJiYgISh0eXBlID09PSAnc3RyaW5nJyAmJiBwcm9wZXJ0eS50eXBlICE9PSAnbnVtYmVyJykpIHx8XHJcblx0XHRcdFx0XHRcdChleHRlbmRlZFR5cGUgJiYgcHJvcGVydHkuZXh0ZW5kZWRUeXBlICE9PSBjb25zdHJ1Y3RvcikpKVxyXG5cdFx0XHRcdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdFx0Ly8gZm91bmQgYSBtYXRjaCwgcmVmZXJlbmNlIGl0XHJcblx0XHRcdFx0XHR3cml0ZVRva2VuKFBST1BFUlRZX0NPREUsIHByb3BlcnR5SW5kZXgpXHJcblx0XHRcdFx0XHRpZiAocmVzdW1lSW5kZXggPT09IC0yKSB7XHJcblx0XHRcdFx0XHRcdHJlc3VtZUluZGV4ID0gbGFzdFByb3BlcnR5SW5kZXggLSAxXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzUHJvcGVydHkuZ2V0UHJvcGVydHkpIHtcclxuXHRcdFx0XHRcdC8vIGEgc2hhcmVkIHByb3BlcnR5LCBsZXQgaXQgYWxsb2NhdGUgaWRzXHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IHRoaXNQcm9wZXJ0eS5nZXRQcm9wZXJ0eSh2YWx1ZSwga2V5LCB0eXBlLCBleHRlbmRlZFR5cGUsIHdyaXRlUHJvcGVydHksIHdyaXRlVG9rZW4sIGxhc3RQcm9wZXJ0eUluZGV4KVxyXG5cdFx0XHRcdFx0cHJvcGVydHlJbmRleCA9IHByb3BlcnR5LmluZGV4XHJcblx0XHRcdFx0XHRpZiAobGFzdFByb3BlcnR5SW5kZXggIT09IHByb3BlcnR5SW5kZXggJiYgcmVzdW1lSW5kZXggPT09IC0yKSB7XHJcblx0XHRcdFx0XHRcdHJlc3VtZUluZGV4ID0gbGFzdFByb3BlcnR5SW5kZXggLSAxXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGlmIChsYXN0UHJvcGVydHlJbmRleCA9PT0gdGhpc1Byb3BlcnR5Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4ID0gbGFzdFByb3BlcnR5SW5kZXhcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHdyaXRlVG9rZW4oUFJPUEVSVFlfQ09ERSwgcHJvcGVydHlJbmRleCA9IHRoaXNQcm9wZXJ0eS5sZW5ndGgpXHJcblx0XHRcdFx0XHRcdGlmIChyZXN1bWVJbmRleCA9PT0gLTIpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXN1bWVJbmRleCA9IGxhc3RQcm9wZXJ0eUluZGV4IC0gMVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAocHJvcGVydHlJbmRleCA8IHRoaXNQcm9wZXJ0eS5yZXNldFRvKSB7XHJcblx0XHRcdFx0XHRcdGRlYnVnZ2VyXHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignb3ZlcndyaXRpbmcgZnJvemVuIHByb3BlcnR5JylcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IHRoaXNQcm9wZXJ0eVtwcm9wZXJ0eUluZGV4XSA9IHdyaXRlUHJvcGVydHkoa2V5LCB0eXBlLCBleHRlbmRlZFR5cGUpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChwcm9wZXJ0eVVzZWQpXHJcblx0XHRcdFx0cHJvcGVydHlVc2VkKHByb3BlcnR5LCBvYmplY3QsIHNlcmlhbGl6ZXJJZCwgaSlcclxuLy9cdFx0XHRpZiAocHJvcGVydHkucmVzdW1lSW5kZXgpIC8vIFRPRE86IGFkZCBhIGZsYWcgdG8gZW5hYmxlIHRoaXMgd2hlbiBwcm9wZXJ0eSBvcmRlcmluZyBjYW4gYmUgYXNzdW1lZFxyXG4vL1x0XHRcdFx0cmVzdW1lSW5kZXggPSBwcm9wZXJ0eS5yZXN1bWVJbmRleFxyXG5cdFx0XHR2YXIgY29kZSA9IHByb3BlcnR5LmNvZGVcclxuXHRcdFx0aWYgKGNvZGUgPiA3KSB7XHJcblx0XHRcdFx0aWYgKGNvZGUgPT09IDgpXHJcblx0XHRcdFx0XHR3cml0ZUFzUmVmZXJlbmNpbmcodmFsdWUpXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0d3JpdGVBc051bWJlcih2YWx1ZSlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAoY29kZSA9PT0gNikgXHJcblx0XHRcdFx0XHR3cml0ZUFzRGVmYXVsdCh2YWx1ZSlcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR3cml0ZUFzQXJyYXkodmFsdWUpXHJcblx0XHRcdH1cclxuXHRcdFx0cHJvcGVydHlJbmRleCsrXHJcblx0XHRcdGkrK1xyXG5cdFx0fVxyXG5cdFx0cHJvcGVydHkgPSB0aGlzUHJvcGVydHlcclxuXHRcdGVuZFNlcXVlbmNlKGkpXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB3cml0ZVByb3BlcnR5KGtleSwgdHlwZSwgZXh0ZW5kZWRUeXBlKSB7XHJcblx0XHR2YXIgcHJvcGVydHlcclxuXHRcdHByb3BlcnR5ID0gW11cclxuXHRcdHByb3BlcnR5LmtleSA9IGtleVxyXG5cdFx0cHJvcGVydHkudHlwZSA9IHR5cGVcclxuXHRcdGlmICh0eXBlID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgUkVGRVJFTkNJTkdfVFlQRSlcclxuXHRcdFx0cHJvcGVydHkudmFsdWVzID0gW11cclxuXHRcdFx0cHJvcGVydHkuY29kZSA9IFJFRkVSRU5DSU5HX1RZUEVcclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0d3JpdGVUb2tlbihUWVBFX0NPREUsIE5VTUJFUl9UWVBFKVxyXG5cdFx0XHRwcm9wZXJ0eS5jb2RlID0gTlVNQkVSX1RZUEVcclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0d3JpdGVUb2tlbihUWVBFX0NPREUsIERFRkFVTFRfVFlQRSlcclxuXHRcdFx0cHJvcGVydHkuY29kZSA9IERFRkFVTFRfVFlQRVxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnYXJyYXknKSB7XHJcblx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBBUlJBWV9UWVBFKVxyXG5cdFx0XHRwcm9wZXJ0eS5jb2RlID0gQVJSQVlfVFlQRVxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnYm9vbGVhbicgfHwgdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0cHJvcGVydHkudHlwZSA9ICdvYmplY3QnXHJcblx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBERUZBVUxUX1RZUEUpXHJcblx0XHRcdHByb3BlcnR5LmNvZGUgPSBERUZBVUxUX1RZUEVcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdyaXRlVG9rZW4oVFlQRV9DT0RFLCBERUZBVUxUX1RZUEUpXHJcblx0XHRcdHByb3BlcnR5LmNvZGUgPSAxMFxyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gd3JpdGUgdmFsdWUgb2YgdHlwZSAnICsgdHlwZSlcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0d3JpdGVJbmxpbmVTdHJpbmcoa2V5KVxyXG5cdFx0fSBlbHNlIGlmICghKGtleSA9PT0gbnVsbCAmJiAodHlwZSA9PT0gJ29iamVjdCcgfHwgdHlwZSA9PT0gJ2FycmF5JykpKSB7IC8vIGlmIGtleSBpcyBudWxsIGZvbGxvd2VkIGJ5IHNlcXVlbmNlLCB3ZSBjYW4gZWxpZGUgdGhlIGtleVxyXG5cdFx0XHR3cml0ZUFzRGVmYXVsdChrZXkpXHJcblx0XHR9XHJcblx0XHRpZiAoZXh0ZW5kZWRUeXBlKSB7XHJcblx0XHRcdHByb3BlcnR5LmV4dGVuZGVkVHlwZSA9IGV4dGVuZGVkVHlwZVxyXG5cdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTUVUQURBVEFfVFlQRSlcclxuXHRcdFx0d3JpdGVJbmxpbmVTdHJpbmcoZXh0ZW5kZWRUeXBlLm5hbWUpXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcHJvcGVydHlcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHdyaXRlQXNJdGVyYWJsZShpdGVyYWJsZSwgaXNSb290LCBpdGVyYXRvcikge1xyXG5cdFx0Ly8gVE9ETzogV2l0aCB0b3AgbGV2ZWwgaXRlcmFibGVzIHdlIGNvdWxkIHBhdXNlIGZvciBiYWNrLXByZXNzdXJlXHJcblx0XHR0cnkge1xyXG5cdFx0XHRpZiAoIWl0ZXJhdG9yKSB7XHJcblx0XHRcdFx0d3JpdGVUb2tlbihTRVFVRU5DRV9DT0RFLCBPUEVOX1NFUVVFTkNFKVxyXG5cdFx0XHRcdGl0ZXJhdG9yID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdKClcclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgYXJyYXlQcm9wZXJ0eSA9IHByb3BlcnR5XHJcblx0XHRcdHByb3BlcnR5ID0gYXJyYXlQcm9wZXJ0eS5jaGlsZCB8fCAoYXJyYXlQcm9wZXJ0eS5jaGlsZCA9IGFycmF5UHJvcGVydHkpIC8vIHNldCB0aGUgY3VycmVudCBwcm9wZXJ0eSB0byB0aGUgY2hpbGQgcHJvcGVydHlcclxuXHRcdFx0Ly8gd3JpdGUgb3V0IHRoZSBlbGVtZW50c1xyXG5cdFx0XHR2YXIgcmVzdWx0XHJcblx0XHRcdHdoaWxlKCEocmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XHJcblx0XHRcdFx0d3JpdGVyc1twcm9wZXJ0eS5jb2RlXShyZXN1bHQudmFsdWUsIGFycmF5UHJvcGVydHkpXHJcblx0XHRcdFx0aWYgKGlzUm9vdCAmJiBjaGFyRW5jb2Rlci5oYXNXcml0dGVuKSB7XHJcblx0XHRcdFx0XHRjaGFyRW5jb2Rlci5oYXNXcml0dGVuID0gZmFsc2UgLy8gcmVzZXQgdGhpcyBwcm9wZXJ0eVxyXG5cdFx0XHRcdFx0cHJvcGVydHkgPSBhcnJheVByb3BlcnR5IC8vIHJlc3RvcmUgY3VycmVudCBwcm9wZXJ0eVxyXG5cdFx0XHRcdFx0cGVuZGluZ0VuY29kaW5ncy51bnNoaWZ0KHtcclxuXHRcdFx0XHRcdFx0dGhlbjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuXHRcdFx0XHRcdFx0XHR3cml0ZUFzSXRlcmFibGUobnVsbCwgdHJ1ZSwgaXRlcmF0b3IpXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKClcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaChlcnJvcikge1xyXG5cdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTUVUQURBVEFfVFlQRSlcclxuXHRcdFx0d3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgRVJST1JfTUVUQURBVEEpXHJcblx0XHRcdHdyaXRlQXNEZWZhdWx0KE9iamVjdC5hc3NpZ24obmV3ICgodHlwZW9mIGVycm9yID09ICdvYmplY3QnICYmIGVycm9yKSA/IGVycm9yLmNvbnN0cnVjdG9yIDogRXJyb3IpKCksIHtcclxuXHRcdFx0XHRuYW1lOiBlcnJvciAmJiBlcnJvci5uYW1lLCAvLyBtYWtlIHRoZXNlIGVudW1lcmFibGUgc28gdGhleSB3aWxsIHNlcmlhbGl6ZVxyXG5cdFx0XHRcdG1lc3NhZ2U6IGVycm9yICYmIGVycm9yLm1lc3NhZ2UgfHwgZXJyb3JcclxuXHRcdFx0fSkpXHJcblx0XHRcdHRocm93IGVycm9yXHJcblx0XHR9XHJcblx0XHRpZiAocHJvcGVydHkgIT09IGFycmF5UHJvcGVydHkuY2hpbGQpIHtcclxuXHRcdFx0Ly8gVE9ETzogVGhpcyByZWFsbHkgbmVlZHMgdG8gaGFwcGVuIGltbWVkaWF0ZWx5IHdoZW4gYSBwcm9wZXJ0eSBjaGFuZ2VzLCB0byBtYXRjaCB0aGUgcGFyc2luZyBiZWhhdmlvclxyXG5cdFx0XHRhcnJheVByb3BlcnR5LmNoaWxkID0gcHJvcGVydHlcclxuXHRcdH1cclxuXHRcdHByb3BlcnR5ID0gYXJyYXlQcm9wZXJ0eSAvLyByZXN0b3JlIGN1cnJlbnQgcHJvcGVydHlcclxuXHRcdHdyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgRU5EX1NFUVVFTkNFKSAvLyBlbmQgc2VxdWVuY2VcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHdyaXRlQXNBcnJheShhcnJheSkge1xyXG5cdFx0aWYgKCFhcnJheSkge1xyXG5cdFx0XHR3cml0ZVR5cGVkVmFsdWUoYXJyYXkpXHJcblx0XHR9IGVsc2UgaWYgKGFycmF5W3RhcmdldFN5bWJvbF0pIHtcclxuXHRcdFx0cmV0dXJuIHdyaXRlQmxvY2tSZWZlcmVuY2UoYXJyYXkpXHJcblx0XHR9IGVsc2UgaWYgKGFycmF5LmNvbnN0cnVjdG9yID09PSBBcnJheSkgeyAvLyBjaGVjayB0byBtYWtlIHN1cmUgaXQgaXMgYW4gYXJyYXlcclxuXHRcdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aFxyXG5cdFx0XHR2YXIgbmVlZHNDbG9zaW5nXHJcblx0XHRcdGlmIChsZW5ndGggPiAxMSkge1xyXG5cdFx0XHRcdHdyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgT1BFTl9TRVFVRU5DRSkgLy8gc3RhcnQgc2VxdWVuY2UgPFxyXG5cdFx0XHRcdG5lZWRzQ2xvc2luZyA9IHRydWVcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR3cml0ZVRva2VuKFNFUVVFTkNFX0NPREUsIGxlbmd0aCkgLy8gd3JpdGUgb3V0IHRoZSBoZWFkZXIgdG9rZW5cclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgYXJyYXlQcm9wZXJ0eSA9IHByb3BlcnR5XHJcblx0XHRcdHByb3BlcnR5ID0gYXJyYXlQcm9wZXJ0eVswXSAvLyBzZXQgdGhlIGN1cnJlbnQgcHJvcGVydHkgdG8gdGhlIGNoaWxkIHByb3BlcnR5XHJcblx0XHRcdC8vIGNoZWNrIHRvIHNlZSBpZiBuZWVkcyB0byBiZSByZXNldCBiZWZvcmUgc3RhcnRpbmdcclxuXHRcdFx0aWYgKGFycmF5UHJvcGVydHkucmVzZXRUbyA8IGFycmF5UHJvcGVydHkubGVuZ3RoICYmIGFycmF5UHJvcGVydHkuc2VyaWFsaXplciAhPSBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0XHRhcnJheVByb3BlcnR5Lmxlbmd0aCA9IGFycmF5UHJvcGVydHkucmVzZXRUb1xyXG5cdFx0XHRcdGFycmF5UHJvcGVydHkuc2VyaWFsaXplciA9IHNlcmlhbGl6ZXJJZFxyXG5cdFx0XHR9XHJcblx0XHRcdHZhciBwcm9wZXJ0eUluZGV4ID0gMFxyXG5cdFx0XHQvLyB3cml0ZSBvdXQgdGhlIGVsZW1lbnRzXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgdmFsdWUgPSBhcnJheVtpXVxyXG5cdFx0XHRcdHZhciB0eXBlID0gdHlwZW9mIHZhbHVlXHJcblx0XHRcdFx0aWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0XHRpZiAodmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGNvbnN0cnVjdG9yID0gdmFsdWUuY29uc3RydWN0b3JcclxuXHRcdFx0XHRcdFx0aWYgKGNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBsZWF2ZSB0eXBlIGFzIGlzXHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblx0XHRcdFx0XHRcdFx0dHlwZSA9ICdhcnJheSdcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZXh0ZW5kZWRUeXBlID0gZXh0ZW5kZWRUeXBlcy5nZXQoY29uc3RydWN0b3IpXHJcblx0XHRcdFx0XHRcdFx0aWYgKGV4dGVuZGVkVHlwZSAmJiBleHRlbmRlZFR5cGUudG9WYWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBleHRlbmRlZFR5cGUudG9WYWx1ZSh2YWx1ZSlcclxuXHRcdFx0XHRcdFx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWUgLy8gZ28gdGhyb3VnaCB0aGUgc2FtZSBsb2dpYyBhZGp1c3RtZW50IGhlcmVcclxuXHRcdFx0XHRcdFx0XHRcdGlmICh2YWx1ZSAmJiB0eXBlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZSA9ICdhcnJheSdcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZXh0ZW5kZWRUeXBlID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2UgeyAvLyBudWxsXHJcblx0XHRcdFx0XHRcdHR5cGUgPSAndW5kZWZpbmVkJyAvLyB0cmVhdCBudWxsIGFzIHNhbWUgdHlwZSBhcyB1bmRlZmluZWQsIGJvdGggY29uc3RhbnRzXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICghcHJvcGVydHkpIHtcclxuXHRcdFx0XHRcdGlmIChhcnJheVByb3BlcnR5LmdldFByb3BlcnR5KSB7XHJcblx0XHRcdFx0XHRcdC8vIGEgc2hhcmVkIHByb3BlcnR5XHJcblx0XHRcdFx0XHRcdHByb3BlcnR5ID0gYXJyYXlQcm9wZXJ0eS5nZXRQcm9wZXJ0eSh2YWx1ZSwgbnVsbCwgdHlwZSwgZXh0ZW5kZWRUeXBlLCB3cml0ZVByb3BlcnR5LCB3cml0ZVRva2VuLCAwKVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0aWYgKHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGUgPT09ICdudW1iZXInIHx8IHR5cGUgPT09ICdhcnJheScpXHJcblx0XHRcdFx0XHRcdFx0cHJvcGVydHkgPSB3cml0ZVByb3BlcnR5KG51bGwsIHR5cGUsIGV4dGVuZGVkVHlwZSlcclxuXHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gZGVmYXVsdCBkb2Vzbid0IGhhdmUgdG8gYmUgd3JpdHRlblxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5ID0gW11cclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS50eXBlID0gdHlwZVxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5LmtleSA9IG51bGxcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5jb2RlID0gREVGQVVMVF9UWVBFXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0YXJyYXlQcm9wZXJ0eVswXSA9IHByb3BlcnR5XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmICgocHJvcGVydHkudHlwZSAhPT0gdHlwZSAmJiB0eXBlICE9PSAnYm9vbGVhbicgJiYgdHlwZSAhPT0gJ3VuZGVmaW5lZCcgJiYgISh0eXBlID09PSAnc3RyaW5nJyAmJiBwcm9wZXJ0eS50eXBlICE9PSAnbnVtYmVyJykpIHx8XHJcblx0XHRcdFx0XHQoZXh0ZW5kZWRUeXBlICYmIHByb3BlcnR5LmV4dGVuZGVkVHlwZSAhPT0gY29uc3RydWN0b3IpKSB7XHJcblx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4ID0gLTFcclxuXHRcdFx0XHRcdGRvIHtcclxuXHRcdFx0XHRcdFx0cHJvcGVydHkgPSBhcnJheVByb3BlcnR5WysrcHJvcGVydHlJbmRleF1cclxuXHRcdFx0XHRcdH0gd2hpbGUocHJvcGVydHkgJiYgKChwcm9wZXJ0eS50eXBlICE9PSB0eXBlICYmIHR5cGUgIT09ICdib29sZWFuJyAmJiB0eXBlICE9PSAndW5kZWZpbmVkJyAmJiAhKHR5cGUgPT09ICdzdHJpbmcnICYmIHByb3BlcnR5LnR5cGUgIT09ICdudW1iZXInKSkgfHxcclxuXHRcdFx0XHRcdFx0XHQoZXh0ZW5kZWRUeXBlICYmIHByb3BlcnR5LmV4dGVuZGVkVHlwZSAhPT0gY29uc3RydWN0b3IpKSlcclxuXHRcdFx0XHRcdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdFx0XHR3cml0ZVRva2VuKFBST1BFUlRZX0NPREUsIHByb3BlcnR5SW5kZXgpXHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGFycmF5UHJvcGVydHkuZ2V0UHJvcGVydHkpIHtcclxuXHRcdFx0XHRcdFx0Ly8gYSBzaGFyZWQgcHJvcGVydHlcclxuXHRcdFx0XHRcdFx0cHJvcGVydHkgPSBhcnJheVByb3BlcnR5LmdldFByb3BlcnR5KHZhbHVlLCBudWxsLCB0eXBlLCBleHRlbmRlZFR5cGUsIHdyaXRlUHJvcGVydHksIHdyaXRlVG9rZW4sIC0xKVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0d3JpdGVUb2tlbihQUk9QRVJUWV9DT0RFLCBwcm9wZXJ0eUluZGV4KVxyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eSA9IHdyaXRlUHJvcGVydHkobnVsbCwgdHlwZSwgZXh0ZW5kZWRUeXBlKVxyXG5cdFx0XHRcdFx0XHRhcnJheVByb3BlcnR5W3Byb3BlcnR5SW5kZXhdID0gcHJvcGVydHlcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHByb3BlcnR5VXNlZClcclxuXHRcdFx0XHRcdHByb3BlcnR5VXNlZChwcm9wZXJ0eSwgYXJyYXksIHNlcmlhbGl6ZXJJZCwgaSlcclxuXHRcdFx0XHR2YXIgY29kZSA9IHByb3BlcnR5LmNvZGVcclxuXHRcdFx0XHRpZiAoY29kZSA+IDcpIHtcclxuXHRcdFx0XHRcdGlmIChjb2RlID09PSA4KVxyXG5cdFx0XHRcdFx0XHR3cml0ZUFzUmVmZXJlbmNpbmcodmFsdWUpXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHdyaXRlQXNOdW1iZXIodmFsdWUpXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGlmIChjb2RlID09PSA2KSBcclxuXHRcdFx0XHRcdFx0d3JpdGVBc0RlZmF1bHQodmFsdWUpXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHdyaXRlQXNBcnJheSh2YWx1ZSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKG5lZWRzQ2xvc2luZykge1xyXG5cdFx0XHRcdHdyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgRU5EX1NFUVVFTkNFKSAvLyBlbmQgc2VxdWVuY2VcclxuXHRcdFx0fVxyXG5cdFx0XHRwcm9wZXJ0eSA9IGFycmF5UHJvcGVydHkgLy8gcmVzdG9yZSBjdXJyZW50IHByb3BlcnR5XHJcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBhcnJheSA9PSAnb2JqZWN0JyAmJiBhcnJheVtpdGVyYXRvclN5bWJvbF0pIHtcclxuXHRcdFx0cmV0dXJuIHdyaXRlQXNJdGVyYWJsZShhcnJheSlcclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0cmV0dXJuIHdyaXRlSW5saW5lU3RyaW5nKHZhbHVlKVxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiAodmFsdWUgPj4+IDAgPT09IHZhbHVlIHx8ICh2YWx1ZSA+IDAgJiYgdmFsdWUgPCAweDQwMDAwMDAwMDAwMCAmJiB2YWx1ZSAlIDEgPT09IDApKSkge1xyXG5cdFx0XHRyZXR1cm4gd3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgdmFsdWUpXHJcblx0XHR9IGVsc2UgeyAvLyBiYWlsIHRvIGRlZmF1bHQgbW9kZSBiZWhhdmlvclxyXG5cdFx0XHR3cml0ZVR5cGVkVmFsdWUoYXJyYXkpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2YXIgYmxvY2tQcm9wZXJ0eVxyXG5cclxuXHRmdW5jdGlvbiB3cml0ZUJsb2NrUmVmZXJlbmNlKGJsb2NrLCB3cml0ZXIpIHtcclxuXHRcdHdyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgREVGRVJSRURfUkVGRVJFTkNFKVxyXG5cdFx0dmFyIGJsb2NrUHJvcGVydHkgPSBwcm9wZXJ0eVxyXG5cdFx0dmFyIGxhenlQcm9taXNlID0gYmxvY2tbdGFyZ2V0U3ltYm9sXSA/IHtcclxuXHRcdFx0dGhlbjogdGhlblxyXG5cdFx0fSA6IHtcclxuXHRcdFx0dGhlbjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuXHRcdFx0XHRyZXR1cm4gYmxvY2sudGhlbihmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0YmxvY2sgPSB2YWx1ZVxyXG5cdFx0XHRcdFx0dGhlbihjYWxsYmFjaylcclxuXHRcdFx0XHR9LCBmdW5jdGlvbihlcnJvcikge1xyXG5cdFx0XHRcdFx0YmxvY2sgPSBPYmplY3QuYXNzaWduKG5ldyAoKHR5cGVvZiBlcnJvciA9PSAnb2JqZWN0JyAmJiBlcnJvcikgPyBlcnJvci5jb25zdHJ1Y3RvciA6IEVycm9yKSgpLCB7XHJcblx0XHRcdFx0XHRcdG5hbWU6IGVycm9yICYmIGVycm9yLm5hbWUsIC8vIG1ha2UgdGhlc2UgZW51bWVyYWJsZSBzbyB0aGV5IHdpbGwgc2VyaWFsaXplXHJcblx0XHRcdFx0XHRcdG1lc3NhZ2U6IGVycm9yICYmIGVycm9yLm1lc3NhZ2UgfHwgZXJyb3JcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRpZiAoIWJsb2NrUHJvcGVydHkudXBncmFkZSkge1xyXG5cdFx0XHRcdFx0XHR3cml0ZVRva2VuKFRZUEVfQ09ERSwgTUVUQURBVEFfVFlQRSlcclxuXHRcdFx0XHRcdFx0d3JpdGVUb2tlbihOVU1CRVJfQ09ERSwgRVJST1JfTUVUQURBVEEpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGVuKGNhbGxiYWNrKVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIHRoZW4oY2FsbGJhY2spIHtcclxuXHRcdFx0aWYgKG9wdGlvbnMuZm9yQmxvY2sgJiYgYmxvY2spIHtcclxuXHRcdFx0XHQvLyB0aGlzIGlzIHVzZWQgYnkgdGhlIHNpemVUYWJsZSBzZXJpYWxpemVyIHRvIHJlY29yZCB0aGUgc2l6ZSBvZiBlYWNoIGJsb2NrXHJcblx0XHRcdFx0b3B0aW9ucy5mb3JCbG9jayhibG9jaywgYmxvY2tQcm9wZXJ0eSlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgYnVmZmVyID0gYmxvY2sgJiYgYmxvY2tbYnVmZmVyU3ltYm9sXSAmJiBibG9ja1tidWZmZXJTeW1ib2xdKGJsb2NrUHJvcGVydHkpXHJcblx0XHRcdFx0aWYgKGJ1ZmZlcikge1xyXG5cdFx0XHRcdFx0d3JpdGVCdWZmZXIoYnVmZmVyKVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IGJsb2NrUHJvcGVydHlcclxuXHRcdFx0XHRcdHZhciBsYXN0UGVuZGluZ0VuY29kaW5ncyA9IHBlbmRpbmdFbmNvZGluZ3NcclxuXHRcdFx0XHRcdHBlbmRpbmdFbmNvZGluZ3MgPSBbXSAvLyByZWNvcmQgYW55IG5lc3RlZCBwZW5kaW5nIGVuY29kaW5nIHNlcGFyYXRlbHlcclxuXHRcdFx0XHRcdHdyaXRlQXNEZWZhdWx0KGJsb2NrLCB0cnVlKSAvLyB3cml0ZSBpdCBvdXQgYXMgdGhlIG5leHQgYmxvY2tcclxuXHRcdFx0XHRcdGxhc3RQZW5kaW5nRW5jb2RpbmdzLnVuc2hpZnQuYXBwbHkobGFzdFBlbmRpbmdFbmNvZGluZ3MsIHBlbmRpbmdFbmNvZGluZ3MpIC8vIGFuZCBzcGxpY2UgdGhlbSBpbiBmcm9udFxyXG5cdFx0XHRcdFx0cGVuZGluZ0VuY29kaW5ncyA9IGxhc3RQZW5kaW5nRW5jb2RpbmdzXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGNhbGxiYWNrKClcclxuXHRcdH1cclxuXHRcdHBlbmRpbmdFbmNvZGluZ3MucHVzaChsYXp5UHJvbWlzZSlcclxuXHR9XHJcblxyXG5cdHZhciBzZXJpYWxpemVyID0ge1xyXG5cdFx0c2VyaWFsaXplOiBmdW5jdGlvbih2YWx1ZSwgc2hhcmVkUHJvcGVydHkpIHtcclxuXHRcdFx0dmFyIGJ1ZmZlciA9IHZhbHVlICYmIHZhbHVlW2J1ZmZlclN5bWJvbF0gJiYgdmFsdWVbYnVmZmVyU3ltYm9sXShzaGFyZWRQcm9wZXJ0eSlcclxuXHJcblx0XHRcdGlmIChidWZmZXIpIHtcclxuXHRcdFx0XHRjaGFyRW5jb2Rlci53cml0ZUJ1ZmZlcihidWZmZXIpXHJcblx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHNoYXJlZFByb3BlcnR5KSB7XHJcblx0XHRcdFx0cHJvcGVydHkgPSBzaGFyZWRQcm9wZXJ0eVxyXG5cdFx0XHRcdHdyaXRlcnNbcHJvcGVydHkuY29kZV0odmFsdWUpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cHJvcGVydHkgPSBbXVxyXG5cdFx0XHRcdHByb3BlcnR5LmtleSA9IG51bGxcclxuXHRcdFx0XHR3cml0ZUFzRGVmYXVsdCh2YWx1ZSwgdHJ1ZSlcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGdldFNlcmlhbGl6ZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAocGVuZGluZ0VuY29kaW5ncy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0dmFyIHByb21pc2VzID0gW11cclxuXHRcdFx0XHR3aGlsZSAocGVuZGluZ0VuY29kaW5ncy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHR2YXIgZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0XHRcdFx0dmFyIHByb21pc2UgPSBwZW5kaW5nRW5jb2RpbmdzLnNoaWZ0KCkudGhlbihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0ZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0aWYgKCFmaW5pc2hlZCkge1xyXG5cdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHByb21pc2UpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChwcm9taXNlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBzZXJpYWxpemVyLmdldFNlcmlhbGl6ZWQoKVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5lbmNvZGluZyA9PT0gJ3V0ZjE2bGUnKSB7XHJcblx0XHRcdFx0cmV0dXJuIEJ1ZmZlci5mcm9tKGNoYXJFbmNvZGVyLmdldFNlcmlhbGl6ZWQoKSwgJ3V0ZjE2bGUnKVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBjaGFyRW5jb2Rlci5nZXRTZXJpYWxpemVkKClcclxuXHRcdH0sXHJcblx0XHRmbHVzaDogY2hhckVuY29kZXIuZmx1c2gsXHJcblx0XHRzZXRPZmZzZXQ6IGNoYXJFbmNvZGVyLnNldE9mZnNldCxcclxuXHRcdGZpbmlzaDogY2hhckVuY29kZXIuZmluaXNoLFxyXG5cdFx0cGVuZGluZ0VuY29kaW5nczogcGVuZGluZ0VuY29kaW5ncyxcclxuXHRcdGdldFdyaXRlcnM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHdyaXRlUHJvcGVydHk6IHdyaXRlUHJvcGVydHksXHJcblx0XHRcdFx0d3JpdGVUb2tlbjogd3JpdGVUb2tlbixcclxuXHRcdFx0XHR3cml0ZUFzRGVmYXVsdDogd3JpdGVBc0RlZmF1bHQsXHJcblx0XHRcdFx0d3JpdGVCdWZmZXI6IHdyaXRlQnVmZmVyXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIHNlcmlhbGl6ZXJcclxufVxyXG5mdW5jdGlvbiBzZXJpYWxpemUodmFsdWUsIG9wdGlvbnMpIHtcclxuXHR2YXIgc2VyaWFsaXplciA9IGNyZWF0ZVNlcmlhbGl6ZXIob3B0aW9ucylcclxuXHR2YXIgc2hhcmVkUHJvcGVydHkgPSBvcHRpb25zICYmIG9wdGlvbnMuc2hhcmVkXHJcblx0dmFyIGJ1ZmZlclxyXG5cdGlmIChzaGFyZWRQcm9wZXJ0eSAmJiBzaGFyZWRQcm9wZXJ0eS5zdGFydFdyaXRlKSB7XHJcblx0XHQvLyByZWNvcmQgdGhlIHN0YXJ0IG9mIGVhY2ggd3JpdGVcclxuXHRcdHNoYXJlZFByb3BlcnR5LnN0YXJ0V3JpdGUob3B0aW9ucy5hdm9pZFNoYXJlVXBkYXRlLCB2YWx1ZSlcclxuXHR9XHJcblx0c2VyaWFsaXplci5zZXJpYWxpemUodmFsdWUsIHNoYXJlZFByb3BlcnR5KVxyXG5cdGJ1ZmZlciA9IHNlcmlhbGl6ZXIuZ2V0U2VyaWFsaXplZCgpXHJcblx0aWYgKHNoYXJlZFByb3BlcnR5ICYmIHNoYXJlZFByb3BlcnR5LmVuZFdyaXRlKSB7XHJcblx0XHQvLyByZWNvcmQgdGhlIGVuZCBvZiBlYWNoIHdyaXRlXHJcblx0XHRzaGFyZWRQcm9wZXJ0eS5lbmRXcml0ZShvcHRpb25zLmF2b2lkU2hhcmVVcGRhdGUsIHZhbHVlKVxyXG5cdH1cclxuXHRpZiAoc2VyaWFsaXplci5maW5pc2gpXHJcblx0XHRzZXJpYWxpemVyLmZpbmlzaCgpXHJcblx0dmFyIHNpemVUYWJsZSA9IHZhbHVlICYmIHZhbHVlW2V4cG9ydHMuc2l6ZVRhYmxlU3ltYm9sXVxyXG5cdGlmIChzaXplVGFibGUpIHtcclxuXHRcdGJ1ZmZlci5zaXplVGFibGUgPSBzaXplVGFibGVcclxuXHR9XHJcblxyXG5cdGlmIChvcHRpb25zICYmIG9wdGlvbnMubGF6eSkge1xyXG5cdFx0cmV0dXJuIEJ1ZmZlci5jb25jYXQoW3ZhbHVlW2V4cG9ydHMuc2l6ZVRhYmxlU3ltYm9sXSwgYnVmZmVyXSlcclxuXHR9XHJcblx0cmV0dXJuIGJ1ZmZlclxyXG59XHJcbmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplXHJcbmV4cG9ydHMuY3JlYXRlU2VyaWFsaXplciA9IGNyZWF0ZVNlcmlhbGl6ZXJcclxuZnVuY3Rpb24gYnJvd3NlckNoYXJFbmNvZGVyKCkge1xyXG5cdHZhciBzZXJpYWxpemVkID0gJydcclxuXHRmdW5jdGlvbiB3cml0ZVRva2VuKHR5cGUsIG51bWJlcikge1xyXG5cdFx0dmFyIHNlcmlhbGl6ZWRUb2tlblxyXG5cdFx0aWYgKG51bWJlciA8IDB4MTApIHsgLy8gNCBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRzZXJpYWxpemVkVG9rZW4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgodHlwZSA8PCA0KSB8IG51bWJlcikgXiAweDQwKVxyXG5cdFx0fSBlbHNlIGlmIChudW1iZXIgPCAweDQwMCkgeyAvLyAxMCBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRzZXJpYWxpemVkVG9rZW4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxyXG5cdFx0XHRcdCh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gNiksXHJcblx0XHRcdFx0KG51bWJlciAmIDB4M2YpICsgMHg0MClcclxuXHRcdH0gZWxzZSBpZiAobnVtYmVyIDwgMHgxMDAwMCkgeyAvLyAxNiBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRzZXJpYWxpemVkVG9rZW4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxyXG5cdFx0XHRcdCh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gMTIpLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDYpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyICYgMHgzZikgKyAweDQwKVxyXG5cdFx0fSBlbHNlIGlmIChudW1iZXIgPCAweDQwMDAwMCkgeyAvLyAyMiBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRzZXJpYWxpemVkVG9rZW4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxyXG5cdFx0XHRcdCh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gMTgpLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4MTAwMDAwMDApIHsgLy8gMjggYml0cyBvZiBudW1iZXJcclxuXHRcdFx0c2VyaWFsaXplZFRva2VuID0gU3RyaW5nLmZyb21DaGFyQ29kZShcclxuXHRcdFx0XHQodHlwZSA8PCA0KSArIChudW1iZXIgPj4+IDI0KSxcclxuXHRcdFx0XHQobnVtYmVyID4+PiAxOCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4MTAwMDAwMDAwKSB7IC8vIDMyIGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdHNlcmlhbGl6ZWRUb2tlbiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcblx0XHRcdFx0KHR5cGUgPDwgNCkgKyAobnVtYmVyID4+PiAzMCksXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gMjQpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiAxOCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4NDAwMDAwMDAwKSB7IC8vIDM0IGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdHNlcmlhbGl6ZWRUb2tlbiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoXHJcblx0XHRcdFx0KHR5cGUgPDwgNCkgKyAobnVtYmVyIC8gMHg0MDAwMDAwMCA+Pj4gMCksXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gMjQpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiAxOCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4MTAwMDAwMDAwMDApIHsgLy8gNDAgYml0cyBvZiBudW1iZXJcclxuXHRcdFx0c2VyaWFsaXplZFRva2VuID0gU3RyaW5nLmZyb21DaGFyQ29kZShcclxuXHRcdFx0XHQodHlwZSA8PCA0KSArIChudW1iZXIgLyAweDEwMDAwMDAwMDAgPj4+IDApLFxyXG5cdFx0XHRcdChudW1iZXIgLyAweDQwMDAwMDAwKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gMjQpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiAxOCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDEyKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gNikgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgJiAweDNmKSArIDB4NDApXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4NDAwMDAwMDAwMDAwKSB7IC8vIDQ2IGJpdHMgb2YgbnVtYmVyIChuZWVkZWQgZm9yIGRhdGVzISlcclxuXHRcdFx0c2VyaWFsaXplZFRva2VuID0gU3RyaW5nLmZyb21DaGFyQ29kZShcclxuXHRcdFx0XHQodHlwZSA8PCA0KSArIChudW1iZXIgLyAweDQwMDAwMDAwMDAwID4+PiAwKSxcclxuXHRcdFx0XHQobnVtYmVyIC8gMHgxMDAwMDAwMDAwKSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciAvIDB4NDAwMDAwMDApICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiAyNCkgJiAweDNmLFxyXG5cdFx0XHRcdChudW1iZXIgPj4+IDE4KSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciA+Pj4gMTIpICYgMHgzZixcclxuXHRcdFx0XHQobnVtYmVyID4+PiA2KSAmIDB4M2YsXHJcblx0XHRcdFx0KG51bWJlciAmIDB4M2YpICsgMHg0MClcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignVG9vIGJpZyBvZiBudW1iZXInKVxyXG5cdFx0fVxyXG5cdFx0c2VyaWFsaXplZCArPSBzZXJpYWxpemVkVG9rZW5cclxuXHR9XHJcblx0ZnVuY3Rpb24gd3JpdGVTdHJpbmcoc3RyaW5nKSB7XHJcblx0XHRzZXJpYWxpemVkICs9IHN0cmluZ1xyXG5cdH1cclxuXHRmdW5jdGlvbiBnZXRTZXJpYWxpemVkKCkge1xyXG5cdFx0cmV0dXJuIHNlcmlhbGl6ZWRcclxuXHR9XHJcblx0cmV0dXJuIHtcclxuXHRcdHdyaXRlVG9rZW46IHdyaXRlVG9rZW4sXHJcblx0XHR3cml0ZVN0cmluZzogd3JpdGVTdHJpbmcsXHJcblx0XHQvL3dyaXRlQnVmZmVyLFxyXG5cdFx0Z2V0U2VyaWFsaXplZDogZ2V0U2VyaWFsaXplZCxcclxuXHRcdC8vaW5zZXJ0QnVmZmVyLFxyXG5cdFx0Ly9mbHVzaCxcclxuXHRcdHN0YXJ0U2VxdWVuY2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR3cml0ZVRva2VuKFNFUVVFTkNFX0NPREUsIE9QRU5fU0VRVUVOQ0UpXHJcblx0XHR9LFxyXG5cdFx0ZW5kU2VxdWVuY2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR3cml0ZVRva2VuKFNFUVVFTkNFX0NPREUsIEVORF9TRVFVRU5DRSlcclxuXHRcdH0sXHJcblx0XHRnZXRPZmZzZXQ6IGZ1bmN0aW9uKCkgey8vIHVuc3VwcG9ydGVkXHJcblx0XHRcdHJldHVybiAtMVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG52YXIgQXJyYXlGcm9tID0gQXJyYXkuZnJvbSB8fCBmdW5jdGlvbihpdGVyYWJsZSwga2V5VmFsdWUpIHtcclxuXHR2YXIgYXJyYXkgPSBbXVxyXG5cdHZhciBrZXlWYWx1ZSA9IGl0ZXJhYmxlLmNvbnN0cnVjdG9yID09PSBNYXBcclxuXHRpdGVyYWJsZS5mb3JFYWNoKGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuXHRcdGlmIChrZXlWYWx1ZSkge1xyXG5cdFx0XHRhcnJheS5wdXNoKFt2YWx1ZSwga2V5XSlcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGFycmF5LnB1c2goa2V5KVxyXG5cdFx0fVxyXG5cdH0pXHJcblx0cmV0dXJuIGFycmF5XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdyaXRlTWFwKG1hcCkge1xyXG5cdHZhciBrZXlWYWx1ZXMgPSBBcnJheUZyb20obWFwKVxyXG5cdGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlWYWx1ZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBrZXlWYWx1ZSA9IGtleVZhbHVlc1tpXVxyXG5cdFx0a2V5VmFsdWVzW2ldID0ge1xyXG5cdFx0XHRrZXk6IGtleVZhbHVlWzBdLFxyXG5cdFx0XHR2YWx1ZToga2V5VmFsdWVbMV1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIGtleVZhbHVlc1xyXG59XHJcbmZ1bmN0aW9uIHdyaXRlU2V0KHNldCkge1xyXG5cdHJldHVybiBBcnJheUZyb20oc2V0KVxyXG59XHJcbmZ1bmN0aW9uIHdyaXRlRGF0ZShkYXRlKSB7XHJcblx0cmV0dXJuIGRhdGUuZ2V0VGltZSgpXHJcbn0iLCJcInVzZSBzdHJpY3RcIlxyXG5cclxuLy8gdHlwZSBjb2RlczpcclxuLy8gdGhlc2UgYXJlIHRoZSBjb2RlcyB0aGF0IGFyZSB1c2VkIHRvIGRldGVybWluZSB0aGUgcnVkaW1lbnRhcnkgdHlwZSBvZiBudW1iZXJzXHJcbnZhciBQUk9QRVJUWV9DT0RFID0gMFxyXG52YXIgVFlQRV9DT0RFID0gM1xyXG52YXIgU1RSSU5HX0NPREUgPSAyXHJcbnZhciBOVU1CRVJfQ09ERSA9IDFcclxudmFyIFNFUVVFTkNFX0NPREUgPSA3XHJcblxyXG4vLyBjb25zdGFudCBjb2Rlc1xyXG52YXIgTlVMTCA9IDAgLy8gcFxyXG52YXIgRkFMU0UgPSAzIC8vIHNcclxudmFyIFRSVUUgPSA0IC8vIHRcclxudmFyIFVOREVGSU5FRCA9IDUgLy8gdVxyXG5cclxuLy8gdGhlc2UgYXJlIHRoZSBzdGFydGluZyBjb2RlcyAoc3RydWN0dXJlcyBhbHNvIHVzZSB0aGlzIHNwYWNlKSBmb3IgY29tcGxldGUgdHlwZXNcclxudmFyIERFRkFVTFRfVFlQRSA9IDZcclxudmFyIEFSUkFZX1RZUEUgPSA3XHJcbnZhciBSRUZFUkVOQ0lOR19UWVBFID0gOFxyXG52YXIgTlVNQkVSX1RZUEUgPSA5XHJcbnZhciBFWFRFTlNJT05TID0gMTBcclxudmFyIE1FVEFEQVRBX1RZUEUgPSAxMVxyXG52YXIgQ09QWV9QUk9QRVJUWSA9IDEyICAvLyBmb3IgZGVmaW5pbmcgYSB0eXBlZCBvYmplY3Qgd2l0aG91dCByZXR1cm5pbmcgdGhlIHZhbHVlXHJcbnZhciBSRUZFUkVOQ0lOR19QT1NJVElPTiA9IDEzXHJcbnZhciBUWVBFX0RFRklOSVRJT04gPSAxNCAgLy8gZm9yIGRlZmluaW5nIGEgdHlwZWQgb2JqZWN0IHdpdGhvdXQgcmV0dXJuaW5nIHRoZSB2YWx1ZVxyXG5cclxudmFyIEVSUk9SX01FVEFEQVRBID0gNTAwXHJcbi8vIHNlcXVlbmNlIGNvZGVzXHJcbnZhciBPUEVOX1NFUVVFTkNFID0gMTIgLy8gPFxyXG52YXIgUEFSVElBTF9ERUZFUlJFRF9SRUZFUkVOQ0UgPSAxMiAvLyA8XHJcbnZhciBFTkRfU0VRVUVOQ0UgPSAxNCAvLyA+XHJcbnZhciBERUZFUlJFRF9SRUZFUkVOQ0UgPSAxNSAvLyA/XHJcblxyXG52YXIgTUFYX0xFTkdUSCA9IDEwMjQqMTAyNCoxNlxyXG52YXIgUEFVU0VEID0ge31cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVBhcnNlcihvcHRpb25zKSB7XHJcblx0aWYgKCFvcHRpb25zKVxyXG5cdFx0b3B0aW9ucyA9IHt9XHJcblx0dmFyIG9mZnNldFxyXG5cdHZhciBzb3VyY2VcclxuXHR2YXIgaXNQYXJ0aWFsXHJcblx0dmFyIGNsYXNzQnlOYW1lID0gb3B0aW9ucy5jbGFzc0J5TmFtZSB8fCBuZXcgTWFwKClcclxuXHRjbGFzc0J5TmFtZS5zZXQoJ01hcCcsIHJlYWRNYXApXHJcblx0Y2xhc3NCeU5hbWUuc2V0KCdTZXQnLCByZWFkU2V0KVxyXG5cdGNsYXNzQnlOYW1lLnNldCgnRGF0ZScsIHJlYWREYXRlKVxyXG5cdHZhciBwYXVzZWRTdGF0ZVxyXG5cdHZhciBkZWZlcnJlZFJlYWRzXHJcblxyXG5cdGZ1bmN0aW9uIHBhdXNlKHN0YXRlLCBsYXN0UmVhZCkge1xyXG5cdFx0c3RhdGUucHJldmlvdXMgPSBwYXVzZWRTdGF0ZVxyXG5cdFx0c3RhdGUucmVzdW1lID0gdHJ1ZVxyXG5cdFx0cGF1c2VkU3RhdGUgPSBzdGF0ZVxyXG5cdFx0aWYgKCFpc1BhcnRpYWwpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBlbmQgb2YgZHBhY2sgc3RyZWFtJylcclxuXHJcblx0XHRpZiAoIXBhcnNlci5vblJlc3VtZSkgLy8gb25seSBpZiBub3QgYWxyZWFkeSBkZWZpbmVkLCBvdGhlcndpc2Ugd2UganVzdCB3YW50IHRvIHVzZSB0aGUgb25lIGZyb20gdGhlIHRvcCBvZiB0aGUgY2FsbCBzdGFja1xyXG5cdFx0XHRwYXJzZXIub25SZXN1bWUgPSBmdW5jdGlvbihuZXh0U3RyaW5nLCBpc1BhcnRpYWxTdHJpbmcsIHJlYnVpbGRTdHJpbmcpIHtcclxuXHRcdFx0XHQvLyB0b3Agb2YgdGhlIHJlc3VtZSBzdGFja1xyXG5cdFx0XHRcdHZhciByZXN1bWVTdGF0ZSA9IHBhdXNlZFN0YXRlXHJcblx0XHRcdFx0cGF1c2VkU3RhdGUgPSBudWxsXHJcblx0XHRcdFx0cGFyc2VyLm9uUmVzdW1lID0gbnVsbFxyXG5cdFx0XHRcdC8vIHdlIHNsaWNlIGFuZCBhZGQgdGhlc2UgdG9nZXRoZXIgdG8gZ2VuZXJhdGUgYW4gZW50aXJlbHkgbmV3IHN0cmluZ1xyXG5cdFx0XHRcdC8vIHNvIHdlIGRvbid0IGNhdXNlIGEgbWVtb3J5IGxlYWsgd2l0aCByZWR1bmRhbnQgc3RyaW5ncyB0aGF0IGEgcmV0YWluZWQgYSBzbGljZSBwYXJlbnRzXHJcblx0XHRcdFx0aWYgKGxhc3RSZWFkIDwgc291cmNlLmxlbmd0aClcclxuXHRcdFx0XHRcdHNvdXJjZSA9IHNvdXJjZS5zbGljZShsYXN0UmVhZCkgKyBuZXh0U3RyaW5nXHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRpZiAocmVidWlsZFN0cmluZykgLy8gaWYgd2UgaGF2ZSByZWFkIGFsbCBvZiBzb3VyY2UsIHdlIHdhbnQgdG8gc2xpY2UgYW5kIHJlLWNvbmNhdGVuYXRlIHRvIGVsaW1pbmF0ZSB0aGUgc2xpY2UgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQsIHdlIHJlYWxseSBkb24ndCB3YW50IHRoYXQgcmV0YWluZWQgaW4gbWVtb3J5XHJcblx0XHRcdFx0XHRcdHNvdXJjZSA9IG5leHRTdHJpbmcuc2xpY2UoMCwgMSkgKyBuZXh0U3RyaW5nLnNsaWNlKDEpXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHNvdXJjZSA9IG5leHRTdHJpbmdcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aXNQYXJ0aWFsID0gaXNQYXJ0aWFsU3RyaW5nXHJcblx0XHRcdFx0ZGlzcG9zZWRDaGFycyArPSBsYXN0UmVhZFxyXG5cdFx0XHRcdG9mZnNldCA9IDBcclxuXHRcdFx0XHRyZXR1cm4gcmVzdW1lU3RhdGUucmVhZGVyID8gcmVzdW1lU3RhdGUucmVhZGVyKHJlc3VtZVN0YXRlKSA6IHJlYWRTZXF1ZW5jZShyZXN1bWVTdGF0ZS5sZW5ndGgsIHJlc3VtZVN0YXRlKVxyXG5cdFx0XHR9XHJcblx0XHRyZXR1cm4gc3RhdGUub2JqZWN0XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZWFkU2VxdWVuY2UobGVuZ3RoLCB0aGlzUHJvcGVydHkpIHtcclxuXHRcdC8qIHByb3BlcnR5U3RhdGVzOlxyXG5cdFx0MCAtIHN0YXJ0aW5nIG5leHQgcHJvcGVydHkgc2xvdFxyXG5cdFx0MSAtIHByb3BlcnR5IGNyZWF0ZWQsIHN1Y2NlZWRpbmcgdmFsdWUgc2hvdWxkIGJlIHZhbHVlIG9mIHByb3BlcnR5XHJcblx0XHQyIC0gcHJvcGVydHkgY3JlYXRpb24gaW4gcHJvZ3Jlc3MsIG5leHQgdmFsdWUgc2hvdWxkIGRlZmluZSBrZXlcclxuXHRcdDExKyAtIG1vZGlmeWluZyBwcm9wZXJ0eSwgbmV4dCB2YWx1ZSBtb2RpZmllcyBwcm9wZXJ0eSAoYWRkcyBtZXRhZGF0YSwgcG9zaXRpb24sIHR5cGUsIGV0Yy4pXHJcblx0XHQqL1xyXG5cdFx0dmFyIHByb3BlcnR5U3RhdGUgPSAwXHJcblx0XHR0aGlzUHJvcGVydHkgPSB0aGlzUHJvcGVydHkgfHwgW11cclxuXHRcdHZhciBwcm9wZXJ0eSwgaXNBcnJheSwgb2JqZWN0LCB2YWx1ZSwgaSA9IDAsIHByb3BlcnR5SW5kZXggPSAwXHJcblx0XHRpZiAodGhpc1Byb3BlcnR5LnJlc3VtZSkgeyAvLyByZXN1bWluZywgdGhpc1Byb3BlcnR5IGlzIHRoZSByZXN1bWUgc3RhdGUuXHJcblx0XHRcdHByb3BlcnR5ID0gdGhpc1Byb3BlcnR5LnByZXZpb3VzXHJcblx0XHRcdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdC8vIGRvIHRoZSBwcmV2aW91cy91cHBlciBzdGFjayBmcmFtZSBmaXJzdFxyXG5cdFx0XHRcdHZhciB2YWx1ZSA9IHByb3BlcnR5LnJlYWRlciA/IHByb3BlcnR5LnJlYWRlcihwcm9wZXJ0eSkgOiByZWFkU2VxdWVuY2UocHJvcGVydHkubGVuZ3RoLCBwcm9wZXJ0eSlcclxuXHRcdFx0XHR2YXIgdmFsdWVzID0gcHJvcGVydHkudmFsdWVzXHJcblx0XHRcdFx0aWYgKHZhbHVlcykge1xyXG5cdFx0XHRcdFx0Ly8gd2UgaGF2ZSBhbiBhc3NpZ25tZW50IHRvIHJlZmVyZW5jaW5nIHZhbHVlcyB0aGF0IGlzIHdhaXRpbmcgZm9yIHBhdXNpbmcgdG8gY29tcGxldGVcclxuXHRcdFx0XHRcdGlmIChwYXVzZWRTdGF0ZSkge1xyXG5cdFx0XHRcdFx0XHQvLyBpZiBzdGlsbCBwYXVzZWQsIHBhc3Mgb24gdG8gbmV4dCBwYXVzZWRTdGF0ZVxyXG5cdFx0XHRcdFx0XHRwYXVzZWRTdGF0ZS52YWx1ZXMgPSB2YWx1ZXNcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGlmICh2YWx1ZS5uZXh0UG9zaXRpb24gPiAtMSkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIHdlIHVzZSB0aGlzIHBhdGggZm9yIGZ1bGZpbGxpbmcgZm9yd2FyZCByZWZlcmVuY2VzLCBhbmQgd2hlbiB0aGUgcG9zaXRpb24gaXMgcmVzZXRcclxuXHRcdFx0XHRcdFx0XHR2YWx1ZXNbdmFsdWVzLm5leHRQb3NpdGlvbisrXSA9IHZhbHVlXHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0dmFsdWVzLnB1c2godmFsdWUpXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXNQcm9wZXJ0eS5jb2RlICYmIHRoaXNQcm9wZXJ0eS5jb2RlICE9PSB0aGlzUHJvcGVydHkudGhpc1Byb3BlcnR5LmNvZGUpIHtcclxuXHRcdFx0XHR0aGlzUHJvcGVydHkucmVzdW1lID0gZmFsc2UgLy8gaWYgdGhlIHJlc3VtZSBwcm9wZXJ0eSBoYXMgYmVlbiByZWFzc2lnbmVkIHRvIGFuIGluY29tcGF0aWJsZSB0eXBlLCBjYW4ndCBzd2l0Y2hcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRpID0gdGhpc1Byb3BlcnR5LmkgfHwgMFxyXG5cdFx0XHRcdG9iamVjdCA9IHRoaXNQcm9wZXJ0eS5vYmplY3RcclxuXHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gdGhpc1Byb3BlcnR5LnByb3BlcnR5U3RhdGUgfHwgMFxyXG5cdFx0XHRcdHByb3BlcnR5SW5kZXggPSB0aGlzUHJvcGVydHkucHJvcGVydHlJbmRleCB8fCAwXHJcblx0XHRcdFx0dGhpc1Byb3BlcnR5ID0gdGhpc1Byb3BlcnR5LnRoaXNQcm9wZXJ0eVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpc0FycmF5ID0gdGhpc1Byb3BlcnR5LmNvZGUgPT09IEFSUkFZX1RZUEUvKkFSUkFZX1RZUEUqL1xyXG5cdFx0b2JqZWN0ID0gb2JqZWN0IHx8ICh0aGlzUHJvcGVydHkuY29uc3RydWN0cyA/IG5ldyB0aGlzUHJvcGVydHkuY29uc3RydWN0cygpIDogaXNBcnJheSA/IFtdIDoge30pIC8vIFRPRE86IHdlIGNvdWxkIHByb2JhYmx5IGNvbnN0cnVjdCBhIG5ldyByZWFkZXIgdGhhdCBkb2VzIHRoaXMgYSBsaXR0bGUgZmFzdGVyXHJcblx0XHRmb3IgKDsgaSA8IGxlbmd0aDspIHtcclxuXHRcdFx0dmFyIHR5cGUsIG51bWJlclxyXG5cdFx0XHR2YXIgbGFzdFJlYWQgPSBvZmZzZXRcclxuXHRcdFx0dmFyIHRva2VuID0gc291cmNlLmNoYXJDb2RlQXQob2Zmc2V0KyspXHJcblx0XHRcdGlmICh0b2tlbiA+PSAweDMwKSB7IC8vIGZhc3QgcGF0aCBmb3Igb25lIGJ5dGUgd2l0aCBzdG9wIGJpdFxyXG5cdFx0XHRcdGlmICh0b2tlbiA+IDB4MzAwMCkgeyAvLyBsb25nLXRva2VuIGhhbmRsaW5nXHJcblx0XHRcdFx0XHR0eXBlID0gKHRva2VuID4+PiAxMikgXiA0XHJcblx0XHRcdFx0XHRudW1iZXIgPSB0b2tlbiAmIDB4ZmZmXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHR5cGUgPSAodG9rZW4gPj4+IDQpIF4gNFxyXG5cdFx0XHRcdFx0bnVtYmVyID0gdG9rZW4gJiAweGZcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dHlwZSA9ICh0b2tlbiA+Pj4gNCkgJiAxMSAvLyBzaGlmdCBhbmQgb21pdCB0aGUgc3RvcCBiaXQgKGJpdCAzKVxyXG5cdFx0XHRcdG51bWJlciA9IHRva2VuICYgMHhmXHJcblx0XHRcdFx0dG9rZW4gPSBzb3VyY2UuY2hhckNvZGVBdChvZmZzZXQrKylcclxuXHRcdFx0XHRudW1iZXIgPSAobnVtYmVyIDw8IDYpICsgKHRva2VuICYgMHgzZikgLy8gMTAgYml0IG51bWJlclxyXG5cdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHR0b2tlbiA9IHNvdXJjZS5jaGFyQ29kZUF0KG9mZnNldCsrKVxyXG5cdFx0XHRcdFx0bnVtYmVyID0gKG51bWJlciA8PCA2KSArICh0b2tlbiAmIDB4M2YpIC8vIDE2IGJpdCBudW1iZXJcclxuXHRcdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHRcdHRva2VuID0gc291cmNlLmNoYXJDb2RlQXQob2Zmc2V0KyspXHJcblx0XHRcdFx0XHRcdG51bWJlciA9IChudW1iZXIgPDwgNikgKyAodG9rZW4gJiAweDNmKSAvLyAyMiBiaXQgbnVtYmVyXHJcblx0XHRcdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHRcdFx0dG9rZW4gPSBzb3VyY2UuY2hhckNvZGVBdChvZmZzZXQrKylcclxuXHRcdFx0XHRcdFx0XHRudW1iZXIgPSAobnVtYmVyIDw8IDYpICsgKHRva2VuICYgMHgzZikgLy8gMjggYml0IG51bWJlclxyXG5cdFx0XHRcdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0b2tlbiA9IHNvdXJjZS5jaGFyQ29kZUF0KG9mZnNldCsrKVxyXG5cdFx0XHRcdFx0XHRcdFx0bnVtYmVyID0gKG51bWJlciAqIDB4NDApICsgKHRva2VuICYgMHgzZikgLy8gMzQgYml0IG51bWJlciAod2UgY2FuJ3QgdXNlIDMyLWJpdCBzaGlmdGluZyBvcGVyYXRvcnMgYW55bW9yZSlcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghKHRva2VuID49IDB4NDApKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRva2VuID0gc291cmNlLmNoYXJDb2RlQXQob2Zmc2V0KyspXHJcblx0XHRcdFx0XHRcdFx0XHRcdG51bWJlciA9IChudW1iZXIgKiAweDQwKSArICh0b2tlbiAmIDB4M2YpIC8vIDQwIGJpdCBudW1iZXJcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEodG9rZW4gPj0gMHg0MCkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0b2tlbiA9IHNvdXJjZS5jaGFyQ29kZUF0KG9mZnNldCsrKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG51bWJlciA9IChudW1iZXIgKiAweDQwKSArICh0b2tlbiAmIDB4M2YpIC8vIDQ2IGJpdCBudW1iZXIsIHdlIGRvbid0IGdvIGJleW9uZCB0aGlzXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEodG9rZW4gPj0gMCkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChvZmZzZXQgPiBzb3VyY2UubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBwYXVzZSh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGVuZ3RoOiBsZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpc1Byb3BlcnR5OiB0aGlzUHJvcGVydHksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aTogaSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvYmplY3Q6IG9iamVjdCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4OiBwcm9wZXJ0eUluZGV4LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHByb3BlcnR5U3RhdGU6IHByb3BlcnR5U3RhdGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGxhc3RSZWFkKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodHlwZSA9PT0gMCkgeyAvKlBST1BFUlRZX0NPREUqL1xyXG5cdFx0XHRcdHByb3BlcnR5SW5kZXggPSBudW1iZXJcclxuXHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gMFxyXG5cdFx0XHRcdGNvbnRpbnVlXHJcblx0XHRcdH1cclxuXHRcdFx0cHJvcGVydHkgPSB0aGlzUHJvcGVydHlbcHJvcGVydHlJbmRleF1cclxuXHRcdFx0aWYgKHR5cGUgPT09IDMpIHsgLypUWVBFX0NPREUqL1xyXG5cdFx0XHRcdC8vIHdlIHN0b3JlIHRoZSBwcmV2aW91cyBwcm9wZXJ0eSBzdGF0ZSBpbiB0b2tlbiwgc28gd2UgY2FuIGFzc2lnbiB0aGUgbmV4dCBvbmVcclxuXHRcdFx0XHRpZiAobnVtYmVyIDwgNikge1xyXG5cdFx0XHRcdFx0Ly8gc3BlY2lhbCB2YWx1ZXMgKGNvbnN0YW50cywgZGVmZXJyZWRzKVxyXG5cdFx0XHRcdFx0aWYgKG51bWJlciA8IDMpIHtcclxuXHRcdFx0XHRcdFx0aWYgKG51bWJlciA9PT0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gbnVsbFxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gJ1Vua25vd24gdG9rZW4sIHR5cGU6ICcgKyB0eXBlICsgJyBudW1iZXI6ICcgKyBudW1iZXJcclxuXHRcdFx0XHRcdFx0fSBcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGlmIChudW1iZXIgPT09IFRSVUUpIHtcclxuXHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHRydWVcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChudW1iZXIgPT09IEZBTFNFKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYgKG51bWJlciA8PSBOVU1CRVJfVFlQRSkge1xyXG5cdFx0XHRcdFx0XHQvLyBwcm9wZXJ0eSBkZWZpbml0aW9uXHJcblx0XHRcdFx0XHRcdGlmIChwcm9wZXJ0eVN0YXRlID09PSAxKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gd2Ugd2VyZSBpbiBwcm9wZXJ0eSB2YWx1ZSBwb3NpdGlvbiwgYnV0IG5vIHZhbHVlLCBzbyB3ZSBpbmNyZW1lbnQgcG9zaXRpb24gaGVyZVxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5SW5kZXgrK1xyXG5cdFx0XHRcdFx0XHRcdGkrK1xyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5ID0gdGhpc1Byb3BlcnR5W3Byb3BlcnR5SW5kZXhdXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKHByb3BlcnR5SW5kZXggPCB0aGlzUHJvcGVydHkucmVzZXRUbykge1xyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignT3ZlcndyaXRpbmcgZnJvemVuIHByb3BlcnR5JylcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAocHJvcGVydHkpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXByb3BlcnR5LnJlc3VtZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBwcm9wZXJ0eS5rZXkgLy8gaW5oZXJpdCB0aGUgZXhpc3Rpbmcga2V5XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eSA9IHRoaXNQcm9wZXJ0eVtwcm9wZXJ0eUluZGV4XSA9IFtdXHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5rZXkgPSB2YWx1ZVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSBlbHNlIHsgLy8gbm8gcHJvcGVydHkgZXhpc3RlZCBpbiBzbG90LCBzdGFydCB3aXRoIGRlZmF1bHQga2V5IG9mIG51bGxcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eSA9IHRoaXNQcm9wZXJ0eVtwcm9wZXJ0eUluZGV4XSA9IFtdXHJcblx0XHRcdFx0XHRcdFx0cHJvcGVydHkua2V5ID0gbnVsbFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHByb3BlcnR5LmNvZGUgPSBudW1iZXJcclxuXHRcdFx0XHRcdFx0cHJvcGVydHkucGFyZW50ID0gdGhpc1Byb3BlcnR5XHJcblx0XHRcdFx0XHRcdC8vcHJvcGVydHkua2V5ID0gbnVsbFxyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gMiAvLyByZWFkIG5leHQgdmFsdWUgYXMgdGhlIGtleVxyXG5cdFx0XHRcdFx0XHRpZiAobnVtYmVyID09PSBSRUZFUkVOQ0lOR19UWVBFLypSRUZFUkVOQ0lOR19UWVBFKi8pIHtcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS52YWx1ZXMgPSBbXVxyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKG51bWJlciA9PT0gQVJSQVlfVFlQRSkge1xyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5WzBdID0gW11cclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eVswXS5rZXkgPSBudWxsXHJcblx0XHRcdFx0XHRcdFx0cHJvcGVydHlbMF0uY29kZSA9IERFRkFVTFRfVFlQRVxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5WzBdLnBhcmVudCA9IHByb3BlcnR5XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdC8vIHByb3BlcnR5IG1vZGlmaWNhdGlvblxyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gbnVtYmVyXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjb250aW51ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAodHlwZSA9PT0gMiAvKlNUUklOR19DT0RFKi8pIHtcclxuXHRcdFx0XHRcdHZhbHVlID0gc291cmNlLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICs9IG51bWJlcilcclxuXHRcdFx0XHRcdGlmIChvZmZzZXQgPiBzb3VyY2UubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBwYXVzZSh7XHJcblx0XHRcdFx0XHRcdFx0bGVuZ3RoOiBsZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0dGhpc1Byb3BlcnR5OiB0aGlzUHJvcGVydHksXHJcblx0XHRcdFx0XHRcdFx0aTogaSxcclxuXHRcdFx0XHRcdFx0XHRvYmplY3Q6IG9iamVjdCxcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4OiBwcm9wZXJ0eUluZGV4LFxyXG5cdFx0XHRcdFx0XHRcdHByb3BlcnR5U3RhdGU6IHByb3BlcnR5U3RhdGVcclxuXHRcdFx0XHRcdFx0fSwgbGFzdFJlYWQpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAocHJvcGVydHlTdGF0ZSA8IDIpIHtcclxuXHRcdFx0XHRcdFx0aWYgKHByb3BlcnR5LmNvZGUgPT09IE5VTUJFUl9UWVBFLypOVU1CRVJfVFlQRSovKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSArdmFsdWVcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gMSkgeyAvKk5VTUJFUl9DT0RFKi9cclxuXHRcdFx0XHRcdHZhbHVlID0gbnVtYmVyXHJcblx0XHRcdFx0fSBlbHNlIHsgLyppZiB0eXBlID09IDcgU0VRVUVOQ0VfQ09ERSovXHJcblx0XHRcdFx0XHRpZiAobnVtYmVyID4gMTMpIHtcclxuXHRcdFx0XHRcdFx0aWYgKG51bWJlciA9PT0gRU5EX1NFUVVFTkNFKVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBvYmplY3RcclxuXHRcdFx0XHRcdFx0ZWxzZSBpZiAobnVtYmVyID09PSBERUZFUlJFRF9SRUZFUkVOQ0UpIHtcclxuXHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHJlYWRTZXF1ZW5jZSgwLCBwcm9wZXJ0eSlcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gMFxyXG5cdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLmZvckRlZmVycmVkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG9wdGlvbnMuZm9yRGVmZXJyZWQodmFsdWUsIHByb3BlcnR5KVxyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHQoZGVmZXJyZWRSZWFkcyB8fCAoZGVmZXJyZWRSZWFkcyA9IFtdKSkucHVzaCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHByb3BlcnR5OiBwcm9wZXJ0eSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlXHJcblx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0aWYgKG51bWJlciA+PSBPUEVOX1NFUVVFTkNFKSB7XHJcblx0XHRcdFx0XHRcdFx0bnVtYmVyID0gMjAwMDAwMDAwMFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmIChwcm9wZXJ0eVN0YXRlID4gMSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChwcm9wZXJ0eVN0YXRlID09PSAyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlID0gMCAvLyBpZiB0aGUgcHJvcGVydHkga2V5IHdhcyBza2lwcGVkLCBnbyBkaXJlY3RseSBpbnRvIHZhbHVlIG1vZGVcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gcmVhZFNlcXVlbmNlKG51bWJlciwgcHJvcGVydHkpXHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmIChwcm9wZXJ0eVN0YXRlID09PSBNRVRBREFUQV9UWVBFKVxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSByZWFkU2VxdWVuY2UobnVtYmVyLCBbeyBrZXk6IG51bGwsIGNvZGU6IDYgfV0pXHJcblx0XHRcdFx0XHRcdFx0ZWxzZSBpZiAocHJvcGVydHkucmVzdW1lICYmIChwcm9wZXJ0eS5jb2RlIHx8IERFRkFVTFRfVFlQRSkgPT09IHByb3BlcnR5LnRoaXNQcm9wZXJ0eS5jb2RlKVxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSByZWFkU2VxdWVuY2UobnVtYmVyLCBwcm9wZXJ0eS50aGlzUHJvcGVydHkpXHJcblx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSByZWFkU2VxdWVuY2UobnVtYmVyLCBwcm9wZXJ0eSlcclxuXHRcdFx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSByZWFkU2VxdWVuY2UobnVtYmVyLCBwcm9wZXJ0eSlcclxuXHRcdFx0XHRcdFx0aWYgKHBhdXNlZFN0YXRlKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsgLy8gb3IgYSBQQVVTRUQgb2JqZWN0XHJcblx0XHRcdFx0XHRcdFx0XHRwYXVzZWRTdGF0ZSA9IG51bGwgLy8gZXJhc2UgYW55dGhpbmcgZnVydGhlciB1cCBpbiB0aGUgc3RhY2ssIGFzIHRoaXMgbWVhbnMgdGhlIHNlcXVlbmNlIGNvdWxkbid0IHN0YXJ0LCBzbyB3ZSBuZWVkIHRvIHJlLXBhcnNlIGZyb20gaGVyZVxyXG5cdFx0XHRcdFx0XHRcdFx0cGFyc2VyLm9uUmVzdW1lID0gbnVsbFxyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHBhdXNlKHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bGVuZ3RoOiBsZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXNQcm9wZXJ0eTogdGhpc1Byb3BlcnR5LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpOiBpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRvYmplY3Q6IG9iamVjdCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0cHJvcGVydHk6IHByb3BlcnR5LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eUluZGV4OiBwcm9wZXJ0eUluZGV4LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRwcmV2aW91c1Byb3BlcnR5OiBwcmV2aW91c1Byb3BlcnR5LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eVN0YXRlOiBwcm9wZXJ0eVN0YXRlLFxyXG5cdFx0XHRcdFx0XHRcdFx0fSwgbGFzdFJlYWQpXHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIG5lZWQgdG8gYXNzaWduIHRoZSB2YWx1ZXMgKmFmdGVyKiB0aGUgY29tcGxldGlvbiBvZiB0aGUgc2VxdWVuY2UgaWYgaXQgaXMgYSBmb3J3YXJkIHJlZmVyZW5jZVxyXG5cdFx0XHRcdFx0XHRcdFx0cGF1c2VkU3RhdGUudmFsdWVzID0gcHJvcGVydHkudmFsdWVzIGluc3RhbmNlb2YgQXJyYXkgPyBwcm9wZXJ0eS52YWx1ZXMgOiB1bmRlZmluZWRcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0vKmVsc2UgaWYgKHZhbHVlcykge1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR9Ki9cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignTm8gcHJvcGVydHkgZGVmaW5lZCBmb3Igc2xvdCcgKyAodGhpc1Byb3BlcnR5LmtleSA/ICcgaW4gJyArIHRoaXNQcm9wZXJ0eS5rZXkgOiAnJykpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHByb3BlcnR5U3RhdGUgPCAyICYmIHByb3BlcnR5ICYmIHByb3BlcnR5LmNvZGUgPT09IFJFRkVSRU5DSU5HX1RZUEUvKlJFRkVSRU5DSU5HX1RZUEUqLykge1xyXG5cdFx0XHRcdHZhciB2YWx1ZXMgPSBwcm9wZXJ0eS52YWx1ZXNcclxuXHRcdFx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZXNbbnVtYmVyXVxyXG5cdFx0XHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgISgobnVtYmVyKSBpbiB2YWx1ZXMpKSB7XHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignUmVmZXJlbmNpbmcgdmFsdWUgdGhhdCBoYXMgbm90IGJlZW4gcmVhZCB5ZXQnKVxyXG5cdFx0XHRcdFx0fVx0XHRcdFx0XHRcclxuXHRcdFx0XHR9IGVsc2UgaWYgKCh0eXBlID09PSAyIHx8IHR5cGUgPT09IDcpICYmIHZhbHVlcykgeyAvLyBvbmx5IHN0cmluZ3MgYW5kIHNlcXVlbmNlc1xyXG5cdFx0XHRcdFx0aWYgKHZhbHVlcy5uZXh0UG9zaXRpb24gPiAtMSkge1xyXG5cdFx0XHRcdFx0XHQvLyB3ZSB1c2UgdGhpcyBwYXRoIGZvciBmdWxmaWxsaW5nIGZvcndhcmQgcmVmZXJlbmNlc1xyXG5cdFx0XHRcdFx0XHRpZiAocHJvcGVydHkucmVjb3JkVmFsdWVSZWZlcmVuY2UpIHtcclxuXHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5yZWNvcmRWYWx1ZVJlZmVyZW5jZSh2YWx1ZXMpXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0dmFsdWVzW3ZhbHVlcy5uZXh0UG9zaXRpb24rK10gPSB2YWx1ZVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0dmFsdWVzLnB1c2godmFsdWUpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAocHJvcGVydHlTdGF0ZSA+IDEpIHtcclxuXHRcdFx0XHQvLyAwLCAxOiB2YWx1ZXMgYXJlIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHlcclxuXHRcdFx0XHRpZiAocHJvcGVydHlTdGF0ZSA9PT0gMikgeyAvLyBwcm9wZXJ0eSBrZXlcclxuXHRcdFx0XHRcdHByb3BlcnR5LmtleSA9IHZhbHVlXHJcblx0XHRcdFx0fSBlbHNlIGlmIChwcm9wZXJ0eVN0YXRlID09PSBNRVRBREFUQV9UWVBFKSB7IC8vIDM6IG1ldGFkYXRhIHBhcmFtYXRlclxyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGV4dGVuZGVkVHlwZSA9IGNsYXNzQnlOYW1lLmdldCh2YWx1ZSlcclxuXHRcdFx0XHRcdFx0aWYgKGV4dGVuZGVkVHlwZSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChleHRlbmRlZFR5cGUuZnJvbVZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9wZXJ0eS5mcm9tVmFsdWUgPSBleHRlbmRlZFR5cGUuZnJvbVZhbHVlXHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdHByb3BlcnR5LmNvbnN0cnVjdHMgPSBleHRlbmRlZFR5cGVcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvck9uVW5rbm93bkNsYXNzKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0IHRvIGRlc2VyaWFsaXplIHRvIHVua25vd24gY2xhc3MgJyArIHBhcmFtZXRlcilcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBpZiBubyB3YXJuaW5nLCBqdXN0IHBhcnNlIGFzIGEgcGxhaW4gdmFsdWUvb2JqZWN0XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0cHJvcGVydHkuZXh0ZW5kZWRUeXBlID0gZXh0ZW5kZWRUeXBlIC8vIGlmIHRoaXMgZ2V0cyB1c2VkIGZvciBzZXJpYWxpemF0aW9uLCB0aGlzIGlzIG5lZWRlZFxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Ly8gZXh0ZW5kZWQgbWV0YWRhdGEgYXNzaWdubWVudCAodXNlZCBieSBzaGFyZWQgc3RydWN0dXJlcyB0byBtYXJrIG9iamVjdHMgYXMgdW5zdHJ1Y3R1cmVkKVxyXG5cdFx0XHRcdFx0XHRwcm9wZXJ0eS5tZXRhZGF0YSA9IHZhbHVlXHJcblx0XHRcdFx0XHRcdGlmICh2YWx1ZSA9PT0gRVJST1JfTUVUQURBVEEpXHJcblx0XHRcdFx0XHRcdFx0cHJvcGVydHkuZnJvbVZhbHVlID0gb25FcnJvclxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAocHJvcGVydHlTdGF0ZSA9PT0gUkVGRVJFTkNJTkdfUE9TSVRJT04pIHtcclxuXHRcdFx0XHRcdHZhciB2YWx1ZXMgPSBwcm9wZXJ0eS52YWx1ZXMgfHwgKHByb3BlcnR5LnZhbHVlcyA9IFtdKVxyXG5cdFx0XHRcdFx0Ly92YWx1ZXMuc3BsaWNlKHZhbHVlLCB2YWx1ZXMubGVuZ3RoKVxyXG5cdFx0XHRcdFx0dmFsdWVzLm5leHRQb3NpdGlvbiA9IHZhbHVlXHJcblx0XHRcdFx0fSBlbHNlIGlmIChwcm9wZXJ0eVN0YXRlID09PSBUWVBFX0RFRklOSVRJT04pIHsgLy8gZm9yIHR5cGUtb25seSBzdGF0ZVxyXG5cdFx0XHRcdFx0Ly8gdGhyb3cgYXdheSB0aGlzIHZhbHVlIGFuZCByZWFkIG5leHQgdmFsdWUgYXMgdGhlIHJlYWwgdmFsdWVcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHByb3BlcnR5IHR5cGUgJyArIHByb3BlcnR5U3RhdGUpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHByb3BlcnR5U3RhdGUgPSAxIC8vIHByb3BlcnR5IHZhbHVlIGFmdGVyIGRlZmluaXRpb24gcG9zaXRpb25cclxuXHRcdFx0XHRjb250aW51ZSAvLyByZWFkIG5leHQgdmFsdWUgYXMgdGhlIHByb3BlcnR5IHZhbHVlXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cHJvcGVydHlTdGF0ZSA9IDBcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAocHJvcGVydHkuZnJvbVZhbHVlKSB7XHJcblx0XHRcdFx0dmFsdWUgPSBwcm9wZXJ0eS5mcm9tVmFsdWUodmFsdWUpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGlzQXJyYXkgJiYgcHJvcGVydHkua2V5ID09PSBudWxsKSB7XHJcblx0XHRcdFx0b2JqZWN0LnB1c2godmFsdWUpXHJcblx0XHRcdH0gZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdG9iamVjdFtwcm9wZXJ0eS5rZXldID0gdmFsdWVcclxuXHRcdFx0fVxyXG5cdFx0XHRpKytcclxuXHRcdFx0aWYgKCFpc0FycmF5KVxyXG5cdFx0XHRcdHByb3BlcnR5SW5kZXgrK1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG9iamVjdFxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gdW5rbm93blR5cGUobnVtYmVyKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdHlwZSAnICsgbnVtYmVyKVxyXG5cdH1cclxuXHR2YXIgbm9uUGFyc2luZ0Vycm9yXHJcblx0ZnVuY3Rpb24gb25FcnJvcihlcnJvcikge1xyXG5cdFx0dmFyIGcgPSB0eXBlb2YgZ2xvYmFsICE9ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93XHJcblx0XHRpZiAoZXJyb3IgJiYgZXJyb3IubmFtZSAmJiBnW2Vycm9yLm5hbWVdKVxyXG5cdFx0XHRlcnJvciA9IG5ldyBnW2Vycm9yLm5hbWVdKGVycm9yLm1lc3NhZ2UpXHJcblx0XHRlbHNlIGlmICh0eXBlb2YgZXJyb3IgPT0gJ3N0cmluZycpXHJcblx0XHRcdGVycm9yID0gbmV3IEVycm9yKGVycm9yKVxyXG5cdFx0aWYgKG9wdGlvbnMub25FcnJvcilcclxuXHRcdFx0b3B0aW9ucy5vbkVycm9yKGVycm9yKVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdG5vblBhcnNpbmdFcnJvciA9IHRydWVcclxuXHRcdFx0dGhyb3cgZXJyb3JcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBkaXNwb3NlZENoYXJzID0gMFxyXG5cdGZ1bmN0aW9uIHJlYWQocHJvcGVydHkpIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGlmIChwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5yZXN1bWUpIHtcclxuXHRcdFx0XHR2YXIgcHJldmlvdXMgPSBwcm9wZXJ0eS5wcmV2aW91c1xyXG5cdFx0XHRcdHZhbHVlID0gcmVhZFNlcXVlbmNlKHByZXZpb3VzLmxlbmd0aCwgcHJldmlvdXMpXHJcblx0XHRcdFx0Ly8gb25jZSB3ZSBnZXQgdGhlIHZhbHVlLCB3ZSBkb24ndCBrbm93IHdoaWNoIHBvaW50IGluIHRoZSBzdGFjayBjb3VsZCBzdGlsbCBiZSByZXNvbHZpbmdcclxuXHRcdFx0XHR2YWx1ZSA9IHByb3BlcnR5Lm9iamVjdCB8fCB2YWx1ZVxyXG5cdFx0XHRcdHByb3BlcnR5ID0gcHJvcGVydHkucHJvcGVydHlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRwcm9wZXJ0eSA9IHByb3BlcnR5IHx8IFtvcHRpb25zICYmIG9wdGlvbnMuc2hhcmVkIHx8IHtcclxuXHRcdFx0XHRcdGtleTogbnVsbCxcclxuXHRcdFx0XHRcdGNvZGU6IDZcclxuXHRcdFx0XHR9XVxyXG5cdFx0XHRcdHZhciB2YWx1ZSA9IHJlYWRTZXF1ZW5jZSgxLCBwcm9wZXJ0eSlbcHJvcGVydHlbMF0ua2V5XVxyXG5cdFx0XHR9XHJcblx0XHRcdHdoaWxlICh0cnVlKSB7XHJcblx0XHRcdFx0aWYgKHBhdXNlZFN0YXRlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcGF1c2Uoe1xyXG5cdFx0XHRcdFx0XHRyZWFkZXI6IHJlYWQsXHJcblx0XHRcdFx0XHRcdG9iamVjdDogdmFsdWUsXHJcblx0XHRcdFx0XHRcdHByb3BlcnR5OiBwcm9wZXJ0eVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCFkZWZlcnJlZFJlYWRzKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIGluZGV4ID0gZGVmZXJyZWRSZWFkcy5pbmRleCB8fCAwXHJcblx0XHRcdFx0dmFyIGRlZmVycmVkUmVhZCA9IGRlZmVycmVkUmVhZHNbaW5kZXhdXHJcblx0XHRcdFx0ZGVmZXJyZWRSZWFkcy5pbmRleCA9IGluZGV4ICsgMVxyXG5cdFx0XHRcdGlmICghZGVmZXJyZWRSZWFkKSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZFJlYWRzID0gZGVmZXJyZWRSZWFkcy5wYXJlbnRcclxuXHRcdFx0XHRcdGNvbnRpbnVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciB0YXJnZXQgPSBkZWZlcnJlZFJlYWQudmFsdWVcclxuXHRcdFx0XHR2YXIgcGFyZW50RGVmZXJyZWRSZWFkcyA9IGRlZmVycmVkUmVhZHNcclxuXHRcdFx0XHRkZWZlcnJlZFJlYWRzID0gW11cclxuXHRcdFx0XHRkZWZlcnJlZFJlYWRzLnBhcmVudCA9IHBhcmVudERlZmVycmVkUmVhZHNcclxuXHRcdFx0XHR2YXIgdGFyZ2V0UHJvcGVydHkgPSBkZWZlcnJlZFJlYWQucHJvcGVydHlcclxuXHRcdFx0XHR2YXIgcmVzdWx0ID0gcmVhZFNlcXVlbmNlKDEsIHByb3BlcnR5ID0gW3tcclxuXHRcdFx0XHRcdHJlc3VtZTogdHJ1ZSxcclxuXHRcdFx0XHRcdGtleTogbnVsbCxcclxuXHRcdFx0XHRcdHRoaXNQcm9wZXJ0eTogdGFyZ2V0UHJvcGVydHksXHJcblx0XHRcdFx0XHRvYmplY3Q6IHRhcmdldFxyXG5cdFx0XHRcdH1dKVxyXG5cdFx0XHRcdHJlc3VsdCA9IHJlc3VsdC5udWxsIHx8IHJlc3VsdFt0YXJnZXRQcm9wZXJ0eS5rZXldIC8vIEJsb2NrcyBzaG91bGQgdXNlIG51bGwgYXMgdGhlIHJvb3Qga2V5LCBidXQgY291bGQgaGF2ZSB0aGUgdGFyZ2V0IHByb3BlcnR5IGtleSBhcyB3ZWxsXHJcblx0XHRcdFx0aWYgKHJlc3VsdCAhPSB0YXJnZXQpIHsgLy8gVGhpcyBzaG91bGQgb25seSBvY2N1ciB3aXRoIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgZGlmZmVyZW50IHR5cGUsIGFuIGFycmF5XHJcblx0XHRcdFx0XHQvLyBvYmplY3Qgd2FzIHJlcGxhY2VkIHdpdGggc29tZXRoaW5nIGVsc2UgKGFuIGFycmF5LCBwcmVzdW1hYmx5KVxyXG5cdFx0XHRcdFx0T2JqZWN0LmFzc2lnbih0YXJnZXQsIHJlc3VsdClcclxuXHRcdFx0XHRcdGlmIChwYXVzZWRTdGF0ZSAmJiBwYXVzZWRTdGF0ZS5vYmplY3QgPT09IHJlc3VsdCkge1xyXG5cdFx0XHRcdFx0XHRwYXVzZWRTdGF0ZS5vYmplY3QgPSB0YXJnZXRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmIChyZXN1bHQgJiYgcmVzdWx0LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG5cdFx0XHRcdFx0XHR0YXJnZXQubGVuZ3RoID0gcmVzdWx0Lmxlbmd0aFxyXG5cdFx0XHRcdFx0XHRPYmplY3Quc2V0UHJvdG90eXBlT2YodGFyZ2V0LCBPYmplY3QuZ2V0UHJvdG90eXBlT2YocmVzdWx0KSkgLy8gZG8gb3VyIGJlc3QgdG8gbWFrZSBpdCBhcnJheSBsaWtlXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoKGVycm9yKSB7XHJcblx0XHRcdGlmICghbm9uUGFyc2luZ0Vycm9yKVxyXG5cdFx0XHRcdGVycm9yLm1lc3NhZ2UgPSAnRFBhY2sgcGFyc2luZyBlcnJvcjogJyArIGVycm9yLm1lc3NhZ2UgKyAnIGF0IHBvc2l0aW9uOiAnICsgKG9mZnNldCArIGRpc3Bvc2VkQ2hhcnMpICsgJyBuZWFyOiAnICsgc291cmNlLnNsaWNlKG9mZnNldCAtIDEwLCBvZmZzZXQgKyAxMClcclxuXHRcdFx0dGhyb3cgZXJyb3JcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBwYXJzZXIgPSB7XHJcblx0XHRzZXRTb3VyY2U6IGZ1bmN0aW9uKHN0cmluZywgc3RhcnRPZmZzZXQsIGlzUGFydGlhbFN0cmluZykge1xyXG5cdFx0XHRzb3VyY2UgPSBzdHJpbmdcclxuXHRcdFx0b2Zmc2V0ID0gc3RhcnRPZmZzZXQgfHwgMFxyXG5cdFx0XHRkaXNwb3NlZENoYXJzID0gMFxyXG5cdFx0XHRpc1BhcnRpYWwgPSBpc1BhcnRpYWxTdHJpbmdcclxuXHRcdFx0cmV0dXJuIHRoaXNcclxuXHRcdH0sXHJcblx0XHRoYXNNb3JlRGF0YTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiBzb3VyY2UubGVuZ3RoID4gb2Zmc2V0XHJcblx0XHR9LFxyXG5cdFx0aXNQYXVzZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gcGF1c2VkU3RhdGVcclxuXHRcdH0sXHJcblx0XHRoYXNVbmZ1bGZpbGxlZFJlZmVyZW5jZXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gZGVmZXJyZWRSZWFkcyAmJiBkZWZlcnJlZFJlYWRzLmxlbmd0aCA+IGRlZmVycmVkUmVhZHMuaW5kZXhcclxuXHRcdH0sXHJcblx0XHRnZXRPZmZzZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gb2Zmc2V0ICsgZGlzcG9zZWRDaGFyc1xyXG5cdFx0fSxcclxuXHRcdHJlYWQ6IHJlYWRcclxuXHR9XHJcblx0cmV0dXJuIHBhcnNlclxyXG59XHJcbmV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbihzdHJpbmdPckJ1ZmZlciwgb3B0aW9ucykge1xyXG5cdHZhciBzb3VyY2VcclxuXHRpZiAodHlwZW9mIHN0cmluZ09yQnVmZmVyID09PSAnc3RyaW5nJykge1xyXG5cdFx0c291cmNlID0gc3RyaW5nT3JCdWZmZXJcclxuXHR9IGVsc2UgaWYgKHN0cmluZ09yQnVmZmVyICYmIHN0cmluZ09yQnVmZmVyLnRvU3RyaW5nKSB7XHJcblx0XHRzb3VyY2UgPSBzdHJpbmdPckJ1ZmZlci50b1N0cmluZyhvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RpbmcgfHwgJ3V0ZjgnKVxyXG5cdH0gZWxzZSB7IC8vIHdoYXRldmVyICh1bmRlZmluZWQgb3IgbnVsbCBvciB3aGF0ZXZlciksIGp1c3QgcmV0dXJuIGl0XHJcblx0XHRyZXR1cm4gc3RyaW5nT3JCdWZmZXJcclxuXHR9XHJcblx0dmFyIHBhcnNlciA9IGNyZWF0ZVBhcnNlcihvcHRpb25zKS5zZXRTb3VyY2Uoc291cmNlKVxyXG5cdGlmIChvcHRpb25zICYmIG9wdGlvbnMuc2hhcmVkKVxyXG5cdFx0cmV0dXJuIHBhcnNlci5yZWFkKFtvcHRpb25zLnNoYXJlZF0pXHJcblx0cmV0dXJuIHBhcnNlci5yZWFkKClcclxufVxyXG5leHBvcnRzLmNyZWF0ZVBhcnNlciA9IGNyZWF0ZVBhcnNlclxyXG5cclxudmFyIHJlYWRNYXAgPSB7XHJcblx0ZnJvbVZhbHVlOiBmdW5jdGlvbihlbnRyaWVzKSB7XHJcblx0XHR2YXIgbWFwID0gbmV3IE1hcCgpXHJcblx0XHRmb3IgKHZhciBpID0gMCwgbCA9IGVudHJpZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRcdHZhciBlbnRyeSA9IGVudHJpZXNbaV1cclxuXHRcdFx0bWFwLnNldChlbnRyeS5rZXksIGVudHJ5LnZhbHVlKVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1hcFxyXG5cdH1cclxufVxyXG52YXIgcmVhZFNldCA9IHtcclxuXHRmcm9tVmFsdWU6IGZ1bmN0aW9uKHZhbHVlcykge1xyXG5cdFx0dmFyIHNldCA9IG5ldyBTZXQodmFsdWVzKVxyXG5cdFx0aWYgKHNldC5zaXplID09PSAwICYmIHZhbHVlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0XHRcdHNldC5hZGQodmFsdWVzW2ldKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc2V0XHJcblx0fVxyXG59XHJcbnZhciByZWFkRGF0ZSA9IHtcclxuXHRmcm9tVmFsdWU6IGZ1bmN0aW9uKHRpbWUpIHtcclxuXHRcdHJldHVybiBuZXcgRGF0ZSh0aW1lKVxyXG5cdH1cclxufVxyXG5cclxuIiwiXCJ1c2Ugc3RyaWN0XCJcclxudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJ3N0cmVhbScpLlRyYW5zZm9ybVxyXG52YXIgY3JlYXRlUGFyc2VyID0gcmVxdWlyZSgnLi9wYXJzZScpLmNyZWF0ZVBhcnNlclxyXG52YXIgREVGQVVMVF9PUFRJT05TID0ge29iamVjdE1vZGU6IHRydWV9XHJcblxyXG5jbGFzcyBEUGFja1BhcnNlU3RyZWFtIGV4dGVuZHMgVHJhbnNmb3JtIHtcclxuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcblx0XHRpZiAob3B0aW9ucykge1xyXG5cdFx0XHRvcHRpb25zLm9iamVjdE1vZGUgPSB0cnVlXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRvcHRpb25zID0gREVGQVVMVF9PUFRJT05TXHJcblx0XHR9XHJcblx0XHRzdXBlcihvcHRpb25zKVxyXG5cdFx0dGhpcy5wYXJzZXIgPSBjcmVhdGVQYXJzZXIob3B0aW9ucylcclxuXHRcdHRoaXMud2FpdGluZ1ZhbHVlcyA9IFtdXHJcblx0fVxyXG5cdF90cmFuc2Zvcm0oY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjaykge1xyXG5cdFx0dmFyIHZhbHVlXHJcblx0XHR0cnkge1xyXG5cdFx0XHR2YXIgc291cmNlU3RyaW5nID0gY2h1bmsudG9TdHJpbmcoKVxyXG5cdFx0XHR2YXIgcGFyc2VyID0gdGhpcy5wYXJzZXJcclxuXHRcdFx0aWYgKHBhcnNlci5vblJlc3VtZSkge1xyXG5cdFx0XHRcdHZhbHVlID0gcGFyc2VyLm9uUmVzdW1lKHNvdXJjZVN0cmluZywgdHJ1ZSlcclxuXHRcdFx0XHRpZiAoIXBhcnNlci5pc1BhdXNlZCgpKVxyXG5cdFx0XHRcdFx0dGhpcy5zZW5kVmFsdWUodmFsdWUpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cGFyc2VyLnNldFNvdXJjZShzb3VyY2VTdHJpbmcsIDAsIHRydWUpXHJcblx0XHRcdH1cclxuXHRcdFx0d2hpbGUgKHBhcnNlci5oYXNNb3JlRGF0YSgpKSB7XHJcblx0XHRcdFx0dmFsdWUgPSBwYXJzZXIucmVhZCgpXHJcblx0XHRcdFx0aWYgKHBhcnNlci5pc1BhdXNlZCgpKVxyXG5cdFx0XHRcdFx0YnJlYWtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0aGlzLnNlbmRWYWx1ZSh2YWx1ZSlcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHsgLy8gbXVzdCBjYXRjaCBlcnJvcnMgaGVyZSwgYW5kIHN0aWxsIGNhbGwgY2FsbGJhY2tcclxuXHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcilcclxuXHRcdH1cclxuXHRcdGlmIChjYWxsYmFjaykgY2FsbGJhY2soKVxyXG5cdH1cclxuXHRzZW5kVmFsdWUodmFsdWUpIHtcclxuXHRcdGlmICh0aGlzLnBhcnNlci5oYXNVbmZ1bGZpbGxlZFJlZmVyZW5jZXMoKSkge1xyXG5cdFx0XHRpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHRoaXMud2FpdGluZ1ZhbHVlcy5wdXNoKHZhbHVlKVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR3aGlsZSAodGhpcy53YWl0aW5nVmFsdWVzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHR0aGlzLnB1c2godGhpcy53YWl0aW5nVmFsdWVzLnNoaWZ0KCkpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHR0aGlzLnB1c2godmFsdWUpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydHMuY3JlYXRlUGFyc2VTdHJlYW0gPSAoKSA9PiBuZXcgRFBhY2tQYXJzZVN0cmVhbSgpXHJcbiIsInZhciBQUkVGRVJSRURfTUFYX0JVRkZFUl9TSVpFID0gMHg4MDAwXHJcbnZhciBhdmFpbGFibGVCdWZmZXJzID0gW11cclxuZnVuY3Rpb24gbm9kZUNoYXJFbmNvZGVyKG9wdGlvbnMpIHtcclxuXHR2YXIgb2Zmc2V0ID0gb3B0aW9ucy5zdGFydE9mZnNldCB8fCAwXHJcblx0dmFyIGJ1ZmZlclNpemVcclxuXHR2YXIgb3V0bGV0ID0gb3B0aW9ucy5vdXRsZXRcclxuXHR2YXIgYnVmZmVyID0gYXZhaWxhYmxlQnVmZmVycy5wb3AoKVxyXG5cdGlmIChidWZmZXIgJiYgYnVmZmVyLmxlbmd0aCA+IG9mZnNldCArIDB4ODApIHtcclxuXHRcdC8vIHJldXNlIGV4aXN0aW5nIGJ1ZmZlciBpZiB3ZSBjYW5cclxuXHRcdGJ1ZmZlclNpemUgPSBidWZmZXIubGVuZ3RoXHJcblx0fSBlbHNlIHtcclxuXHRcdGJ1ZmZlclNpemUgPSAob2Zmc2V0ID4+IDEyIDw8IDEyKSArIDB4MjAwMFxyXG5cdFx0YnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyhidWZmZXJTaXplKVxyXG5cdH1cclxuXHR2YXIgZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nXHJcblx0dmFyIHNlcXVlbmNlcyA9IFtdXHJcblx0ZnVuY3Rpb24gbWFrZVJvb20oYnl0ZXNOZWVkZWQpIHtcclxuXHRcdGlmIChvdXRsZXQpIHtcclxuXHRcdFx0b3V0bGV0LndyaXRlQnl0ZXMoYnVmZmVyLnNsaWNlKDAsIG9mZnNldCkpXHJcblx0XHRcdGlmIChidWZmZXJTaXplIDwgUFJFRkVSUkVEX01BWF9CVUZGRVJfU0laRSB8fCBieXRlc05lZWRlZCA+IFBSRUZFUlJFRF9NQVhfQlVGRkVSX1NJWkUpIHtcclxuXHRcdFx0XHRidWZmZXJTaXplID0gTWF0aC5tYXgoYnVmZmVyU2l6ZSAqIDQsIGJ5dGVzTmVlZGVkKVxyXG5cdFx0XHR9XHJcblx0XHRcdGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3coYnVmZmVyU2l6ZSlcclxuXHRcdFx0b2Zmc2V0ID0gMFxyXG5cdFx0XHRzZXF1ZW5jZXMgPSBbXSAvLyBjbGVhciBpbnNlcnRpb24gcG9pbnRzXHJcblx0XHRcdGVuY29kZXIuaGFzV3JpdHRlbiA9IHRydWVcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGJ1ZmZlclNpemUgPSBNYXRoLm1heChidWZmZXJTaXplICogNCwgYnVmZmVyU2l6ZSArIGJ5dGVzTmVlZGVkLCAweDIwMDApXHJcblx0XHRcdHZhciBvbGRCdWZmZXIgPSBidWZmZXJcclxuXHRcdFx0YnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyhidWZmZXJTaXplKVxyXG5cdFx0XHRvbGRCdWZmZXIuY29weShidWZmZXIsIDAsIDAsIG9mZnNldClcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gZmx1c2goc3BlY2lmaWVkT3V0bGV0KSB7XHJcblx0XHQoc3BlY2lmaWVkT3V0bGV0IHx8IG91dGxldCkud3JpdGVCeXRlcyhidWZmZXIuc2xpY2UoMCwgb2Zmc2V0KSlcclxuXHRcdGlmIChvZmZzZXQgKyAweDgwID4gYnVmZmVyLmxlbmd0aClcclxuXHRcdFx0YnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyhidWZmZXJTaXplID0gTWF0aC5taW4oTWF0aC5tYXgoKG9mZnNldCA+PiAxMCA8PCAxMCkgKyAweDIwMDAsIGJ1ZmZlclNpemUpLCAweDgwMDApKSAvLyBhbGxvY2F0ZSBhIG5ldyBidWZmZXIsIGRvbid0IHdhbnQgdG8gb3ZlcndyaXRlIHRoZSBieXRlcyBpbiB0aGUgb2xkIG9uZSB3aGlsZSB0aGV5IGFyZSBpbiB1c2UhXHJcblx0XHRlbHNlIHsvLyBvciBjb250aW51ZSB0byB1c2UgdGhlIHJlbWFpbmluZyBzcGFjZSBpbiB0aGlzIGJ1ZmZlciwgaWYgdGhlcmUgaXMgYSBsb3Qgb2Ygcm9vbSBsZWZ0XHJcblx0XHRcdGJ1ZmZlciA9IGJ1ZmZlci5zbGljZShvZmZzZXQpXHJcblx0XHRcdGJ1ZmZlclNpemUgPSBidWZmZXIubGVuZ3RoXHJcblx0XHR9XHJcblx0XHRvZmZzZXQgPSAwXHJcblx0XHRzZXF1ZW5jZXMgPSBbXSAvLyBjbGVhciBpbnNlcnRpb24gcG9pbnRzXHJcblx0fVxyXG5cdGZ1bmN0aW9uIHdyaXRlVG9rZW4odHlwZSwgbnVtYmVyKSB7XHJcblx0XHRpZiAobnVtYmVyIDwgMHgxMCkgeyAvLyA0IGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAoKHR5cGUgPDwgNCkgKyBudW1iZXIpIF4gMHg0MFxyXG5cdFx0fSBlbHNlIGlmIChudW1iZXIgPCAweDQwMCkgeyAvLyAxMCBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKHR5cGUgPDwgNCkgKyAobnVtYmVyID4+PiA2KVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciAmIDB4M2YpICsgMHg0MFxyXG5cdFx0fSBlbHNlIGlmIChudW1iZXIgPCAweDEwMDAwKSB7IC8vIDE2IGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAodHlwZSA8PCA0KSArIChudW1iZXIgPj4+IDEyKVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gNikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyICYgMHgzZikgKyAweDQwXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4NDAwMDAwKSB7IC8vIDIyIGJpdHMgb2YgbnVtYmVyXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAodHlwZSA8PCA0KSArIChudW1iZXIgPj4+IDE4KVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gMTIpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gNikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyICYgMHgzZikgKyAweDQwXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4MTAwMDAwMDApIHsgLy8gMjggYml0cyBvZiBudW1iZXJcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9ICh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gMjQpXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxOCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxMikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiA2KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgJiAweDNmKSArIDB4NDBcclxuXHRcdH0gZWxzZSBpZiAobnVtYmVyIDwgMHgxMDAwMDAwMDApIHsgLy8gMzIgYml0cyBvZiBudW1iZXJcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9ICh0eXBlIDw8IDQpICsgKG51bWJlciA+Pj4gMzApXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAyNCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxOCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxMikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiA2KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgJiAweDNmKSArIDB4NDBcclxuXHRcdH0gZWxzZSBpZiAobnVtYmVyIDwgMHg0MDAwMDAwMDApIHsgLy8gMzQgYml0cyBvZiBudW1iZXJcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9ICh0eXBlIDw8IDQpICsgKG51bWJlciAvIDB4NDAwMDAwMDAgPj4+IDApXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAyNCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxOCkgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiAxMikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyID4+PiA2KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgJiAweDNmKSArIDB4NDBcclxuXHRcdH0gZWxzZSBpZiAobnVtYmVyIDwgMHgxMDAwMDAwMDAwMCkgeyAvLyA0MCBiaXRzIG9mIG51bWJlclxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKHR5cGUgPDwgNCkgKyAobnVtYmVyIC8gMHgxMDAwMDAwMDAwID4+PiAwKVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciAvIDB4NDAwMDAwMDApICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gMjQpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gMTgpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gMTIpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciA+Pj4gNikgJiAweDNmXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyICYgMHgzZikgKyAweDQwXHJcblx0XHR9IGVsc2UgaWYgKG51bWJlciA8IDB4NDAwMDAwMDAwMDAwKSB7IC8vIDQ2IGJpdHMgb2YgbnVtYmVyIChuZWVkZWQgZm9yIGRhdGVzISlcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9ICh0eXBlIDw8IDQpICsgKG51bWJlciAvIDB4NDAwMDAwMDAwMDAgPj4+IDApXHJcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSAobnVtYmVyIC8gMHgxMDAwMDAwMDAwKSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgLyAweDQwMDAwMDAwKSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgPj4+IDI0KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgPj4+IDE4KSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgPj4+IDEyKSAmIDB4M2ZcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IChudW1iZXIgPj4+IDYpICYgMHgzZlxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gKG51bWJlciAmIDB4M2YpICsgMHg0MFxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG51bWJlciAnICsgbnVtYmVyKVxyXG5cdFx0fVxyXG5cdFx0aWYgKG9mZnNldCA+IGJ1ZmZlclNpemUgLSAxMCkge1xyXG5cdFx0XHRtYWtlUm9vbSgwKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gd3JpdGVCdWZmZXIoc291cmNlKSB7XHJcblx0XHR2YXIgc291cmNlTGVuZ3RoID0gc291cmNlLmxlbmd0aFxyXG5cdFx0aWYgKHNvdXJjZUxlbmd0aCArIG9mZnNldCArIDEwID4gYnVmZmVyU2l6ZSkge1xyXG5cdFx0XHRtYWtlUm9vbShzb3VyY2VMZW5ndGggKyAxMClcclxuXHRcdH1cclxuXHRcdHNvdXJjZS5jb3B5KGJ1ZmZlciwgb2Zmc2V0KVxyXG5cdFx0b2Zmc2V0ICs9IHNvdXJjZUxlbmd0aFxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gd3JpdGVTdHJpbmcoc3RyaW5nKSB7XHJcblx0XHR2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxyXG5cdFx0dmFyIG1heFN0cmluZ0xlbmd0aCA9IGxlbmd0aCAqIDMgKyAxMFxyXG5cdFx0aWYgKG9mZnNldCArIG1heFN0cmluZ0xlbmd0aCA+IGJ1ZmZlclNpemUpIHtcclxuXHRcdFx0bWFrZVJvb20obWF4U3RyaW5nTGVuZ3RoICsgMTApXHJcblx0XHR9XHJcblx0XHR2YXIgYnl0ZXNXcml0dGVuID0gZW5jb2RpbmcgPyBidWZmZXIud3JpdGUoc3RyaW5nLCBvZmZzZXQsIGJ1ZmZlci5sZW5ndGgsIGVuY29kaW5nKSA6XHJcblx0XHRcdGJ1ZmZlci51dGY4V3JpdGUoc3RyaW5nLCBvZmZzZXQsIGJ1ZmZlci5sZW5ndGgpXHJcblx0XHRvZmZzZXQgKz0gYnl0ZXNXcml0dGVuXHJcblx0fVxyXG5cdGZ1bmN0aW9uIGdldFNlcmlhbGl6ZWQoKSB7XHJcblx0XHRyZXR1cm4gYnVmZmVyLnNsaWNlKDAsIG9mZnNldClcclxuXHR9XHJcblx0ZnVuY3Rpb24gaW5zZXJ0QnVmZmVyKGhlYWRlckJ1ZmZlciwgcG9zaXRpb24pIHtcclxuXHRcdHZhciBoZWFkZXJMZW5ndGggPSBoZWFkZXJCdWZmZXIubGVuZ3RoXHJcblx0XHRpZiAob2Zmc2V0ICsgaGVhZGVyTGVuZ3RoICsgMTAgPiBidWZmZXJTaXplKSB7XHJcblx0XHRcdG1ha2VSb29tKGhlYWRlckxlbmd0aCArIDEwKVxyXG5cdFx0fVxyXG5cdFx0YnVmZmVyLmNvcHkoYnVmZmVyLCBoZWFkZXJMZW5ndGggKyBwb3NpdGlvbiwgcG9zaXRpb24sIG9mZnNldClcclxuXHRcdGhlYWRlckJ1ZmZlci5jb3B5KGJ1ZmZlciwgcG9zaXRpb24pXHJcblx0XHRvZmZzZXQgKz0gaGVhZGVyTGVuZ3RoXHJcblx0fVxyXG5cclxuXHR2YXIgZW5jb2RlciA9IHtcclxuXHRcdHdyaXRlVG9rZW4sXHJcblx0XHR3cml0ZVN0cmluZyxcclxuXHRcdHdyaXRlQnVmZmVyLFxyXG5cdFx0Z2V0U2VyaWFsaXplZCxcclxuXHRcdGluc2VydEJ1ZmZlcixcclxuXHRcdGZsdXNoLFxyXG5cdFx0c3RhcnRTZXF1ZW5jZSgpIHtcclxuXHRcdFx0dmFyIGN1cnJlbnRPZmZzZXQgPSBvZmZzZXRcclxuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IDYwXHJcblx0XHRcdHNlcXVlbmNlcy5wdXNoKGN1cnJlbnRPZmZzZXQpXHJcblx0XHRcdGlmIChvZmZzZXQgPiBidWZmZXJTaXplIC0gMTApIHtcclxuXHRcdFx0XHRtYWtlUm9vbSgwKVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0ZW5kU2VxdWVuY2UobGVuZ3RoKSB7XHJcblx0XHRcdHZhciBzdGFydE9mZnNldCA9IHNlcXVlbmNlcy5wb3AoKVxyXG5cdFx0XHRpZiAobGVuZ3RoIDwgMTIgJiYgc3RhcnRPZmZzZXQgPiAtMSkgeyAvLyBpZiBpdCBpcyBzaG9ydCBlbm91Z2gsIGFuZCBoYXNuJ3QgYmVlbiBjbGVhcmVkLCB3ZSBjYW4gc2V0IHRoZSBiZWdpbm5pbmcgYnl0ZSBsZW5ndGhcclxuXHRcdFx0XHRidWZmZXJbc3RhcnRPZmZzZXRdID0gNDggKyBsZW5ndGhcclxuXHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0fVxyXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gNjIgLy8gZWxzZSB3ZSBuZWVkIHRvIHB1dCBhbiBlbmQgc2VxdWVuY2UgdG9rZW4gaW5cclxuXHRcdH0sXHJcblx0XHRmaW5pc2goKSB7XHJcblx0XHRcdGlmIChidWZmZXIubGVuZ3RoIC0gb2Zmc2V0ID4gMHg5MClcclxuXHRcdFx0XHRhdmFpbGFibGVCdWZmZXJzLnB1c2goYnVmZmVyLnNsaWNlKG9mZnNldCkpXHJcblx0XHR9LFxyXG5cdFx0Z2V0T2Zmc2V0KCkge1xyXG5cdFx0XHRyZXR1cm4gb2Zmc2V0XHJcblx0XHR9LFxyXG5cdFx0c2V0T2Zmc2V0KG5ld09mZnNldCkge1xyXG5cdFx0XHRvZmZzZXQgPSBuZXdPZmZzZXRcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKGZhbHNlKSB7XHJcblx0XHRnbG9iYWwudHlwZUNvdW50ID0gW11cclxuXHRcdGVuY29kZXIud3JpdGVUb2tlbiA9IGZ1bmN0aW9uKHR5cGUsIG51bWJlcikge1xyXG5cdFx0XHR0eXBlQ291bnRbdHlwZV0gPSAodHlwZUNvdW50W3R5cGVdIHx8IDApICsgMVxyXG5cdFx0XHR3cml0ZVRva2VuKHR5cGUsIG51bWJlcilcclxuXHRcdH1cclxuXHRcdGdsb2JhbC5zdHJpbmdDb3VudCA9IG5ldyBNYXAoKVxyXG5cdFx0ZW5jb2Rlci53cml0ZVN0cmluZyA9IGZ1bmN0aW9uKHN0cmluZykge1xyXG5cdFx0XHRzdHJpbmdDb3VudC5zZXQoc3RyaW5nLCAoc3RyaW5nQ291bnQuZ2V0KHN0cmluZykgfHwgMCkgKyAxKVxyXG5cdFx0XHR3cml0ZVN0cmluZyhzdHJpbmcpXHJcblx0XHR9XHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc3RyaW5nRHVwbGljYXRpb25Db3VudCA9IDBcclxuXHRcdFx0Y29uc29sZS5sb2coJ3N0cmluZ0NvdW50JywgQXJyYXkuZnJvbShzdHJpbmdDb3VudCkuZmlsdGVyKChbc3RyaW5nLCBjb3VudF0pID0+IHtcclxuXHRcdFx0XHRpZiAoY291bnQgPiAxICYgc3RyaW5nLmxlbmd0aCA+IDMpIHtcclxuXHRcdFx0XHRcdHN0cmluZ0R1cGxpY2F0aW9uQ291bnQgKz0gKGNvdW50IC0gMSkgKiBzdHJpbmcubGVuZ3RoXHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkpXHJcblx0XHRcdGNvbnNvbGUubG9nKCdzdHJpbmdEdXBsaWNhdGlvbkNvdW50Jywgc3RyaW5nRHVwbGljYXRpb25Db3VudClcclxuXHRcdFx0Y29uc29sZS5sb2coJ3R5cGVDb3VudCcsIHR5cGVDb3VudClcclxuXHRcdH0pXHJcblx0fVxyXG5cdHJldHVybiBlbmNvZGVyXHJcbn1cclxuZXhwb3J0cy5ub2RlQ2hhckVuY29kZXIgPSBub2RlQ2hhckVuY29kZXJcclxuIiwiXCJ1c2Ugc3RyaWN0XCJcclxuZnVuY3Rpb24gT3B0aW9ucygpIHtcclxuXHR2YXIgY2xhc3NCeU5hbWUgPSB0aGlzLmNsYXNzQnlOYW1lID0gbmV3IE1hcCgpXHJcblx0dGhpcy5jb252ZXJ0ZXJCeUNvbnN0cnVjdG9yID0gbmV3IE1hcCgpXHJcblx0Ly93cml0ZXJCeUNvbnN0cnVjdG9yLnNldChNYXAsIHdyaXRlTWFwKVxyXG5cdC8vd3JpdGVyQnlDb25zdHJ1Y3Rvci5zZXQoU2V0LCB3cml0ZVNldClcclxufVxyXG5PcHRpb25zLnByb3RvdHlwZS5hZGRFeHRlbnNpb24gPSBmdW5jdGlvbihDbGFzcywgbmFtZSwgb3B0aW9ucykge1xyXG5cdGlmIChuYW1lICYmIENsYXNzLm5hbWUgIT09IG5hbWUpIHtcclxuXHRcdENsYXNzLm5hbWUgPSBuYW1lXHJcblx0fVxyXG5cdHRoaXMuY2xhc3NCeU5hbWUuc2V0KENsYXNzLm5hbWUsIChvcHRpb25zICYmIG9wdGlvbnMuZnJvbUFycmF5KSA/IG9wdGlvbnMgOiBDbGFzcylcclxuXHR0aGlzLmNvbnZlcnRlckJ5Q29uc3RydWN0b3Iuc2V0KENsYXNzLCAob3B0aW9ucyAmJiBvcHRpb25zLnRvQXJyYXkpID8gb3B0aW9ucyA6IENsYXNzKVxyXG59XHJcbmV4cG9ydHMuT3B0aW9ucyA9IE9wdGlvbnNcclxuIiwiY29uc3QgY3JlYXRlU2VyaWFsaXplciA9IHJlcXVpcmUoJy4vc2VyaWFsaXplJykuY3JlYXRlU2VyaWFsaXplclxyXG5jb25zdCBzZXJpYWxpemUgPSByZXF1aXJlKCcuL3NlcmlhbGl6ZScpLnNlcmlhbGl6ZVxyXG5jb25zdCBjcmVhdGVQYXJzZXIgPSByZXF1aXJlKCcuL3BhcnNlJykuY3JlYXRlUGFyc2VyXHJcbmNvbnN0IE9wdGlvbnMgPSByZXF1aXJlKCcuL09wdGlvbnMnKS5PcHRpb25zXHJcbmNvbnN0IFNUUklOR19DT0RFID0gMlxyXG52YXIgUFJPUEVSVFlfQ09ERSA9IDBcclxudmFyIE5VTUJFUl9DT0RFID0gMVxyXG52YXIgVFlQRV9DT0RFID0gM1xyXG52YXIgU0VRVUVOQ0VfQ09ERSA9IDdcclxuXHJcbnZhciBERUZBVUxUX1RZUEUgPSA2XHJcbnZhciBBUlJBWV9UWVBFID0gN1xyXG52YXIgUkVGRVJFTkNJTkdfVFlQRSA9IDhcclxudmFyIE5VTUJFUl9UWVBFID0gOVxyXG5cclxudmFyIE5VTEwgPSAwIC8vIHBcclxuXHJcbnZhciBNRVRBREFUQV9UWVBFID0gMTFcclxudmFyIFJFRkVSRU5DSU5HX1BPU0lUSU9OID0gMTNcclxudmFyIFRZUEVfREVGSU5JVElPTiA9IDE0IC8vIH4gIC8vIGZvciBkZWZpbmluZyBhIHR5cGVkIG9iamVjdCB3aXRob3V0IHJldHVybmluZyB0aGUgdmFsdWVcclxudmFyIFVOU1RSVUNUVVJFRF9NQVJLRVIgPSAxMVxyXG5cclxudmFyIE9QRU5fU0VRVUVOQ0UgPSAxMiAvLyA8XHJcbnZhciBFTkRfU0VRVUVOQ0UgPSAxNCAvLyA+XHJcblxyXG52YXIgQ09VTlRfVEhSRVNIT0xEID0gMlxyXG5cclxuZXhwb3J0cy5jcmVhdGVTaGFyZWRTdHJ1Y3R1cmUgPSBjcmVhdGVTaGFyZWRTdHJ1Y3R1cmVcclxuZXhwb3J0cy5yZWFkU2hhcmVkU3RydWN0dXJlID0gcmVhZFNoYXJlZFN0cnVjdHVyZVxyXG5mdW5jdGlvbiByZWFkU2hhcmVkU3RydWN0dXJlKGZyb20pIHtcclxuXHR2YXIgcGFyc2VyID0gY3JlYXRlUGFyc2VyKClcclxuXHR2YXIgc2hhcmVkUHJvcGVydHkgPSBbXVxyXG5cdHNoYXJlZFByb3BlcnR5LmNvZGUgPSA2XHJcblx0c2hhcmVkUHJvcGVydHkua2V5ID0gbnVsbFxyXG5cdC8vIGVuZCB3aXRoIHdpdGggTlVMTCAocCkgdmFsdWUgdG8gcmV0dXJuIHNvbWV0aGluZyBmcm9tIHR5cGUgZGVmaW5pdGlvblxyXG5cdHBhcnNlci5zZXRTb3VyY2UoZnJvbSArICdwJykucmVhZChbc2hhcmVkUHJvcGVydHldKVxyXG5cdHNldHVwU2hhcmVkKHNoYXJlZFByb3BlcnR5KVxyXG5cdHNoYXJlZFByb3BlcnR5LnNlcmlhbGl6ZWQgPSBmcm9tXHJcblx0cmV0dXJuIHNoYXJlZFByb3BlcnR5XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldHVwU2hhcmVkKHByb3BlcnR5KSB7XHJcblx0cHJvcGVydHkucmVzZXRUbyA9IHByb3BlcnR5Lmxlbmd0aFxyXG5cdHByb3BlcnR5LnVwZ3JhZGUgPSB1cGdyYWRlXHJcblx0cHJvcGVydHkudHlwZSA9IHR5cGVzW3Byb3BlcnR5LmNvZGVdXHJcblx0cHJvcGVydHkuaXNGcm96ZW4gPSB0cnVlXHJcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BlcnR5LCAnc2VyaWFsaXplZCcsIHtcclxuXHRcdGdldCgpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX3NlcmlhbGl6ZWQgfHwgKHRoaXMuX3NlcmlhbGl6ZWQgPSBzZXJpYWxpemVTaGFyZWRTdHJ1Y3R1cmUodGhpcykpXHJcblx0XHR9XHJcblx0fSlcclxuXHJcblx0aWYgKHR5cGVvZiBwcm9wZXJ0eS52YWx1ZXMgPT09ICdvYmplY3QnICYmIHByb3BlcnR5LnZhbHVlcykge1xyXG5cdFx0cHJvcGVydHkudmFsdWVzLnJlc2V0VG8gPSBwcm9wZXJ0eS52YWx1ZXMubGVuZ3RoXHJcblx0XHRwcm9wZXJ0eS5sYXN0SW5kZXggPSBwcm9wZXJ0eS52YWx1ZXMubGVuZ3RoXHJcblx0fVxyXG5cdGZvciAodmFyIGkgPSAwLCBsID0gcHJvcGVydHkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRwcm9wZXJ0eVtpXS5pbmRleCA9IGlcclxuXHRcdHByb3BlcnR5W2ldLnJlc3VtZUluZGV4ID0gaVxyXG5cdFx0c2V0dXBTaGFyZWQocHJvcGVydHlbaV0pXHJcblx0fVxyXG59XHJcbmZ1bmN0aW9uIHN0YXJ0V3JpdGUoKSB7XHJcblx0Zm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0c3RhcnRXcml0ZS5jYWxsKHRoaXNbaV0pXHJcblx0fVxyXG5cdHRoaXMubGVuZ3RoID0gdGhpcy5yZXNldFRvIHx8IDBcclxuXHRpZiAodHlwZW9mIHRoaXMudmFsdWVzID09PSAnb2JqZWN0JyAmJiB0aGlzLnZhbHVlcykge1xyXG5cdFx0dGhpcy52YWx1ZXMubGVuZ3RoID0gdGhpcy52YWx1ZXMucmVzZXRUbyB8fCAwXHJcblx0fVxyXG59XHJcblxyXG5cclxuXHJcblx0XHQvLyB1cGdyYWRlcyB0aGUgcHJvcGVydHkgdG8gb3V0cHV0IHRoaXMgYmxvY2tcclxuXHRcdC8vIHJldHVybiAwIGlmIHRoZSBwcm9wZXJ0eSB3YXMgdXBncmFkZWQsIG9yIGlzIGNvbXBhdGlibGUsXHJcblx0XHQvLyAxIGlmIHRoZSBzaGFyZWQgaW5mb3JtYXRpb24gbmVlZHMgdG8gYmUgd3JpdHRlbiBvdXQsIGJ1dCB0aGUgcHJvcGVydHkgd2FzIHVwZ3JhZGVkXHJcblx0XHQvLyAyIGlmIHRoZSBzaGFyZWQgaW5mb3JtYXRpb24gbmVlZHMgdG8gYmUgcmVzZXJpYWxpemVkXHJcbmZ1bmN0aW9uIHVwZ3JhZGUocHJvcGVydHkpIHtcclxuXHRpZiAoIXByb3BlcnR5KSB7XHJcblx0XHRyZXR1cm4gMVxyXG5cdH1cclxuXHR2YXIgY29tcGF0aWJpbGl0eVxyXG5cdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0Ly8gc2FtZSBibG9jayB3YXMgc2VyaWFsaXplZCBsYXN0IHRpbWUsIGZhc3QgcGF0aCB0byBjb21wYXRpbGl0eVxyXG5cdFx0aWYgKHByb3BlcnR5Lmluc2VydGVkRnJvbSA9PT0gdGhpcyAmJiBwcm9wZXJ0eS5pbnNlcnRlZFZlcnNpb24gPT09IHRoaXMudmVyc2lvbiAmJiAoXHJcblx0XHRcdFx0cHJvcGVydHkucmVjb3JkVXBkYXRlIHx8IHByb3BlcnR5LmlzRnJvemVuIHx8IChwcm9wZXJ0eS5sZW5ndGggPT0gMCAmJiBwcm9wZXJ0eS5jb2RlID09IHRoaXMuY29kZSAmJiBwcm9wZXJ0eS52YWx1ZXMgPT0gbnVsbClcclxuXHRcdFx0KSkge1xyXG5cdFx0XHQvLyBidXQgaWYgdGhlIHZlcnNpb24gaW5jcmVtZW50ZWQsIHdlIG5lZWQgdG8gdXBkYXRlXHJcblx0XHRcdHJldHVybiAwXHJcblx0XHR9XHJcblx0XHR2YXIgY2hhbmdlZENvZGVcclxuXHRcdGlmICh0aGlzLmNvZGUgIT09IHByb3BlcnR5LmNvZGUpXHJcblx0XHRcdGNoYW5nZWRDb2RlID0gdHJ1ZVxyXG5cdFx0aWYgKHByb3BlcnR5LnVwZ3JhZGUpIHtcclxuXHRcdFx0dmFyIGNvbXBhdGliaWxpdHkgPSBjb3B5UHJvcGVydHkodGhpcywgcHJvcGVydHkpXHJcblx0XHRcdGlmIChjaGFuZ2VkQ29kZSlcclxuXHRcdFx0XHRjb21wYXRpYmlsaXR5ID0gMlxyXG5cdFx0XHRpZiAocHJvcGVydHkuaXNGcm96ZW4gJiYgY29tcGF0aWJpbGl0eSA+IDApIHtcclxuXHRcdFx0XHRyZXR1cm4gMlxyXG5cdFx0XHR9XHJcblx0XHRcdHByb3BlcnR5Lmluc2VydGVkRnJvbSA9IHRoaXNcclxuXHRcdFx0cHJvcGVydHkuaW5zZXJ0ZWRWZXJzaW9uID0gdGhpcy52ZXJzaW9uXHJcblx0XHRcdGlmIChjb21wYXRpYmlsaXR5ID09PSAyKSB7XHJcblx0XHRcdFx0ZGVidWdnZXJcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdJbnNlcnRpbmcgaW5jb21wYXRpYmxlIGJsb2NrIGludG8gcHJvcGVydHknKVxyXG5cdFx0XHRcdHJldHVybiAyXHJcblx0XHRcdH0gZWxzZSBcclxuXHRcdFx0cmV0dXJuIDBcclxuXHRcdH0gZWxzZSB7IC8vIHVwZ3JhZGluZyBpbnRvIG5vbi1zaGFyZWQgcHJvcGVydHksXHJcblx0XHRcdHByb3BlcnR5Lmluc2VydGVkRnJvbSA9IHRoaXNcclxuXHRcdFx0cHJvcGVydHkuaW5zZXJ0ZWRWZXJzaW9uID0gdGhpcy52ZXJzaW9uXHJcblx0XHRcdC8vIGlmIHRoaXMgaXMgbm90IGEgc2hhcmVkIHByb3BlcnR5IHRoYXQgdHJhY2tzIGNoYW5nZXMsIHdlIGhhdmUgcmVzZXQgYW5kIGVuc3VyZSB0aGF0IGl0IGRvZXNuJ3QgY2hhbmdlIHdoZW4gd2UgcmV1c2UgaXRcclxuXHRcdFx0cHJvcGVydHkubGVuZ3RoID0gMFxyXG5cdFx0XHRwcm9wZXJ0eS52YWx1ZXMgPSBudWxsXHJcblx0XHRcdGlmIChwcm9wZXJ0eS5mcm9tVmFsdWUpXHJcblx0XHRcdFx0cHJvcGVydHkuZnJvbVZhbHVlID0gbnVsbFxyXG5cdFx0XHRyZXR1cm4gMVxyXG5cdFx0fVxyXG5cdH0gZWxzZSB7XHJcblx0XHRpZiAodGhpcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdC8vIG5vIHByb3BlcnR5LCAoYnV0IGJsb2NrIGlzIHNoYXJlZCkgc28ganVzdCB3cml0ZSB0aGUgYnVmZmVyIHdpdGggaXRzIHNoYXJlZCBwYXJ0IChpZiB0aGVyZSBpcyBvbmUpXHJcblx0XHRcdGJsb2NrQnVmZmVyID0gQnVmZmVyLmNvbmNhdChbdGhpcy5zZXJpYWxpemVkLCBibG9ja0J1ZmZlcl0pXHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiAxXHJcbn1cclxuXHJcbnZhciB0eXBlVG9Db2RlID0ge1xyXG5cdHN0cmluZzogUkVGRVJFTkNJTkdfVFlQRSxcclxuXHRudW1iZXI6IE5VTUJFUl9UWVBFLFxyXG5cdG9iamVjdDogREVGQVVMVF9UWVBFLFxyXG5cdGJvb2xlYW46IERFRkFVTFRfVFlQRSxcclxuXHR1bmRlZmluZWQ6IERFRkFVTFRfVFlQRSxcclxuXHRhcnJheTogQVJSQVlfVFlQRVxyXG59XHJcblxyXG52YXIgbGFzdFByb3BlcnR5T25PYmplY3QgPSBuZXcgV2Vha01hcCgpXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTaGFyZWRTdHJ1Y3R1cmUoZnJvbSwgb3B0aW9ucykge1xyXG5cdHZhciBpbnN0YW5jZVByb3BlcnR5ID0gW11cclxuXHRpbnN0YW5jZVByb3BlcnR5LmtleSA9IG51bGxcclxuXHRpbnN0YW5jZVByb3BlcnR5LmNvZGUgPSA2XHJcblx0aW5zdGFuY2VQcm9wZXJ0eS50eXBlID0gJ29iamVjdCdcclxuXHRsZXQgYWN0aXZlTGlzdCA9IFtdXHJcblx0bGV0IG5lZWRzQ2xlYW51cCA9IFtdXHJcblx0YWN0aXZlTGlzdC5pdGVyYXRpb24gPSAwXHJcblx0dmFyIHByZXZpb3VzQXZvaWRTaGFyZVVwZGF0ZVxyXG5cclxuLy8gcHJvcGVydHkgaWQgcmFuZ2VzOlxyXG4vLyBzaGFyZWQ6IDAgLSA1MTFcclxuLy8gaW5zdGFuY2U6IDUxMitcclxuLy8gc2hhcmVkOiBcclxuXHJcblx0Y2xhc3MgU2hhcmVkIGV4dGVuZHMgQXJyYXkge1xyXG5cdFx0Y29uc3RydWN0b3IoaW5zdGFuY2VQcm9wZXJ0eSkge1xyXG5cdFx0XHRzdXBlcigpXHJcblx0XHRcdGxldCBoYXNVcGRhdGVzXHJcblx0XHRcdHRoaXMua2V5ID0gdHlwZW9mIGluc3RhbmNlUHJvcGVydHkua2V5ID09ICdzdHJpbmcnID8gaXNvbGF0ZVN0cmluZyhpbnN0YW5jZVByb3BlcnR5LmtleSkgOiBpbnN0YW5jZVByb3BlcnR5LmtleVxyXG5cdFx0XHR0aGlzLnR5cGUgPSBpbnN0YW5jZVByb3BlcnR5LnR5cGVcclxuXHRcdFx0dGhpcy5jb2RlID0gaW5zdGFuY2VQcm9wZXJ0eS5jb2RlXHJcblx0XHRcdHRoaXMuY291bnQgPSAwXHJcblx0XHRcdHRoaXMuY29tZXNBZnRlciA9IFtdXHJcblx0XHRcdGlmICh0aGlzLmNvZGUgPT0gUkVGRVJFTkNJTkdfVFlQRSkge1xyXG5cdFx0XHRcdHRoaXMudmFsdWVzID0gW11cclxuXHRcdFx0XHR0aGlzLnZhbHVlcy5yZXNldFRvID0gNTEyXHJcblx0XHRcdFx0dGhpcy52YWx1ZXMubmV4dFBvc2l0aW9uID0gNTEyXHJcblx0XHRcdFx0dGhpcy5wcmV2aW91c1ZhbHVlcyA9IG5ldyBNYXAoKVxyXG5cdFx0XHRcdHRoaXMubGFzdEluZGV4ID0gMFxyXG5cdFx0XHRcdHRoaXMucmVwZXRpdGlvbnMgPSAwXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdG5ld1Byb3BlcnR5KGluc3RhbmNlKSB7XHJcblx0XHRcdHJldHVybiBuZXcgU2hhcmVkKGluc3RhbmNlKVxyXG5cclxuXHRcdH1cclxuXHRcdGdldFByb3BlcnR5KHZhbHVlLCBrZXksIHR5cGUsIGV4dGVuZGVkVHlwZSwgd3JpdGVQcm9wZXJ0eSwgd3JpdGVUb2tlbiwgbGFzdFByb3BlcnR5SW5kZXgpIHtcclxuXHRcdFx0bGV0IHByb3BlcnR5XHJcblx0XHRcdGlmICh0aGlzLmluc2VydGVkRnJvbSkge1xyXG5cdFx0XHRcdHByb3BlcnR5U2VhcmNoKHRoaXMuaW5zZXJ0ZWRGcm9tKVxyXG5cdFx0XHRcdGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdFx0aWYgKGxhc3RQcm9wZXJ0eUluZGV4ICE9PSBwcm9wZXJ0eS5pbmRleCkge1xyXG5cdFx0XHRcdFx0XHR3cml0ZVRva2VuKFBST1BFUlRZX0NPREUsIHByb3BlcnR5SW5kZXgpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gcHJvcGVydHlcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHRoaXMuaW5zZXJ0ZWRGcm9tLmdldFByb3BlcnR5KSB7XHJcblx0XHRcdFx0XHQvL3RoaXMucmVjb3JkVXBkYXRlKClcclxuXHRcdFx0XHRcdHJldHVybiB0aGlzLmluc2VydGVkRnJvbS5nZXRQcm9wZXJ0eSh2YWx1ZSwga2V5LCB0eXBlLCBleHRlbmRlZFR5cGUsIHdyaXRlUHJvcGVydHksIHdyaXRlVG9rZW4sIGxhc3RQcm9wZXJ0eUluZGV4KVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRkZWJ1Z2dlclxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLnJlY29yZFVwZGF0ZSgpXHJcblx0XHRcdGxldCBwcm9wZXJ0eUluZGV4ID0gdGhpcy5sZW5ndGhcclxuXHRcdFx0aWYgKGxhc3RQcm9wZXJ0eUluZGV4ICE9PSBwcm9wZXJ0eUluZGV4KSB7XHJcblx0XHRcdFx0d3JpdGVUb2tlbihQUk9QRVJUWV9DT0RFLCBwcm9wZXJ0eUluZGV4KVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0eXBlID09PSAnYm9vbGVhbicgfHwgdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHR0eXBlID0gJ29iamVjdCdcclxuXHRcdFx0fVxyXG5cdFx0XHRwcm9wZXJ0eSA9IHRoaXNbcHJvcGVydHlJbmRleF0gPSBuZXcgU2hhcmVkKHtcclxuXHRcdFx0XHRrZXksXHJcblx0XHRcdFx0dHlwZSxcclxuXHRcdFx0XHRjb2RlOiB0eXBlVG9Db2RlW3R5cGVdXHJcblx0XHRcdH0pXHJcblx0XHRcdHByb3BlcnR5LnBhcmVudCA9IHRoaXNcclxuXHRcdFx0cHJvcGVydHkuaW5kZXggPSBwcm9wZXJ0eUluZGV4XHJcblx0XHRcdHJldHVybiBwcm9wZXJ0eVxyXG5cdFx0XHRmdW5jdGlvbiBwcm9wZXJ0eVNlYXJjaChwYXJlbnRQcm9wZXJ0eSkge1xyXG5cdFx0XHRcdGxldCBwcm9wZXJ0eUluZGV4ID0gLTFcclxuXHRcdFx0XHRkbyB7XHJcblx0XHRcdFx0XHRwcm9wZXJ0eSA9IHBhcmVudFByb3BlcnR5WysrcHJvcGVydHlJbmRleF1cclxuXHRcdFx0XHR9IHdoaWxlKHByb3BlcnR5ICYmIChwcm9wZXJ0eS5rZXkgIT09IGtleSB8fFxyXG5cdFx0XHRcdFx0XHQocHJvcGVydHkudHlwZSAhPT0gdHlwZSAmJiB0eXBlICE9PSAnYm9vbGVhbicgJiYgdHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHx8XHJcblx0XHRcdFx0XHRcdChleHRlbmRlZFR5cGUgJiYgcHJvcGVydHkuZXh0ZW5kZWRUeXBlICE9PSBjb25zdHJ1Y3RvcikpKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHR3cml0ZVNoYXJlZFZhbHVlKHZhbHVlLCB3cml0ZVRva2VuLCBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0Ly8gdGhlcmUgYXJlIHNldmVyYWwgcG9zc2libGUgc3RhdGVzIG9mIGEgcHJvcGVydHk6XHJcblx0XHRcdC8vIDEpIE5vbi1yZWZlcmVuY2luZyBzdGF0ZSAoaW5pdGlhbCBzdGF0ZSkgLSBXZSBkb24ndCByZXNldCBwb3NpdGlvbiBpbmRpY2VzLCBhbmQgd2UgbmV2ZXIgcmVmZXJlbmNlIHByZXZpb3VzIHZhbHVlc1xyXG5cdFx0XHQvLyAyKSBTaGFyZWQvcmVwZXRpdGl2ZSBzdGF0ZSAtIFdlIGNhbiBoYXZlIHNoYXJlZCB2YWx1ZXMgKDwxMiBwb3NpdGlvbikgYW5kIHdlIGNhbiByZWZlcmVuY2UgcHJvcGVydGllcyBpbiBhbiBpbnN0YW5jZSAoPj0xMiBwb3NpdGlvbilcclxuXHRcdFx0Ly8gMykgTm9uLXJlcGV0aXRpdmUgLSBJZiByZXBldGl0aW9uIGlzIHJhcmUsIGdvZXMgdG8gZGVmYXVsdCB0eXBlXHJcblx0XHRcdGxldCB2YWx1ZUVudHJ5ID0gdGhpcy5wcmV2aW91c1ZhbHVlcy5nZXQodmFsdWUpXHJcblx0XHRcdGlmICh2YWx1ZUVudHJ5KSB7XHJcblx0XHRcdFx0aWYgKHZhbHVlRW50cnkuc2VyaWFsaXplciA9PSBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0XHRcdHRoaXMucmVwZXRpdGlvbnMrK1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR2YWx1ZUVudHJ5LnNlcmlhbGl6YXRpb25zKytcclxuXHRcdFx0XHRcdHZhbHVlRW50cnkuc2VyaWFsaXplciA9IHNlcmlhbGl6ZXJJZFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnByZXZpb3VzVmFsdWVzLnNldCh2YWx1ZSwgdmFsdWVFbnRyeSA9IHtcclxuXHRcdFx0XHRcdHNlcmlhbGl6YXRpb25zOiAxLFxyXG5cdFx0XHRcdFx0c2VyaWFsaXplcjogc2VyaWFsaXplcklkXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIXRoaXMuYWN0aXZlKSB7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmUgPSAyXHJcblx0XHRcdFx0YWN0aXZlTGlzdC5wdXNoKHRoaXMpXHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdC8qdmFyIGluZGV4ID0gdGhpcy52YWx1ZXMubGVuZ3RoXHJcblx0XHRcdGlmIChpbmRleCA8IDEyKVxyXG5cdFx0XHRcdHRoaXMudmFsdWVzW2luZGV4XSA9IHZhbHVlKi9cclxuXHRcdH1cclxuXHRcdHByb3BlcnR5VXNlZChwcm9wZXJ0eSwgb2JqZWN0LCBzZXJpYWxpemVySWQsIGkpIHtcclxuXHRcdFx0aWYgKHByb3BlcnR5Lmxhc3RTZXJpYWxpemVyICE9PSBzZXJpYWxpemVySWQpIHtcclxuXHRcdFx0XHRwcm9wZXJ0eS5sYXN0U2VyaWFsaXplciA9IHNlcmlhbGl6ZXJJZFxyXG5cdFx0XHRcdHByb3BlcnR5LmNvdW50KytcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaSAhPT0gMCkge1xyXG5cdFx0XHRcdGxldCBsYXN0UHJvcGVydHkgPSBsYXN0UHJvcGVydHlPbk9iamVjdC5nZXQob2JqZWN0KVxyXG5cdFx0XHRcdC8vIHJlY29yZCB3aGF0IGhhcyBjb21lIGJlZm9yZSBzbyB3ZSBjYW4gb3JkZXIgdGhlbSB3aGVuIGNyZWF0aW5nIGEgY29tbW9uIHN0cnVjdHVyZVxyXG5cdFx0XHRcdGlmIChsYXN0UHJvcGVydHkgJiYgcHJvcGVydHkuY29tZXNBZnRlci5pbmRleE9mKGxhc3RQcm9wZXJ0eSkgPT09IC0xKVxyXG5cdFx0XHRcdFx0cHJvcGVydHkuY29tZXNBZnRlci5wdXNoKGxhc3RQcm9wZXJ0eSlcclxuXHRcdFx0fVxyXG5cdFx0XHRsYXN0UHJvcGVydHlPbk9iamVjdC5zZXQob2JqZWN0LCBwcm9wZXJ0eSlcclxuXHRcdH1cclxuXHRcdHJlY29yZFVwZGF0ZSgpIHtcclxuXHRcdFx0dmFyIHByb3BlcnR5ID0gdGhpc1xyXG5cdFx0XHRkbyB7XHJcblx0XHRcdFx0cHJvcGVydHkudmVyc2lvbiA9IChwcm9wZXJ0eS52ZXJzaW9uIHx8IDApICsgMVxyXG5cdFx0XHRcdGlmIChwcm9wZXJ0eS5pbnNlcnRlZEZyb20pIHtcclxuXHRcdFx0XHRcdC8vIG9yIHdlIGNvdWxkIHRyeSB0byB1cGdyYWRlIHRoZSBsYXRlc3QgaW5zZXJ0ZWQgcHJvcGVydHk/XHJcblx0XHRcdFx0XHRwcm9wZXJ0eS5pbnNlcnRlZEZyb20gPSBudWxsXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChwcm9wZXJ0eS5fc2VyaWFsaXplZClcclxuXHRcdFx0XHRcdHByb3BlcnR5Ll9zZXJpYWxpemVkID0gbnVsbFxyXG5cdFx0XHR9IHdoaWxlKHByb3BlcnR5ID0gcHJvcGVydHkucGFyZW50KVxyXG5cdFx0fVxyXG5cclxuXHRcdHJlYWRpbmdCbG9jayhwYXJzZSkge1xyXG5cdFx0XHQvL3ZhciBibG9ja1N0cnVjdHVyZSA9IHRoaXMuYXNCbG9ja1N0cnVjdHVyZSgpXHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0cmV0dXJuIHBhcnNlKClcclxuXHRcdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0XHR0aGlzLnJlYWRSZXNldCgpXHJcblx0XHRcdFx0aWYgKHRoaXMubGVuZ3RoID4gNTAwKSB7XHJcblx0XHRcdFx0XHRkZWJ1Z2dlclxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Ly9hY3RpdmU6XHJcblx0XHQvLyAwIC0gbm90LWFjdGl2ZWx5IGJlaW5nIG1vbml0b3JlZFxyXG5cdFx0Ly8gMSAtIGJlaW5nIG1vbml0b3JlZCwgYnV0IGFuIGl0ZXJhdGlvbiBoYXNuJ3Qgc3RhcnRlZCBmb3IgdGhpc1xyXG5cdFx0Ly8gMiAtIGJlaW5nIG1vbml0b3JlZCwgYW5kIGFuIGl0ZXJhdGlvbiBoYXMgc3RhcnRlZFxyXG5cdFx0c3RhcnRXcml0ZShhdm9pZFNoYXJlVXBkYXRlLCB2YWx1ZSkge1xyXG5cdFx0XHRhY3RpdmVMaXN0Lml0ZXJhdGlvbisrXHJcblx0XHRcdGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5jb2RlICE9PSBBUlJBWV9UWVBFICYmIHRoaXMudmVyc2lvbiA+IDApIHtcclxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCBjaGFuZ2UgdGhlIHJvb3QgdHlwZSBvZiBhIHNoYXJlZCBvYmplY3QgdG8gYW4gYXJyYXknKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAodGhpcy5jb2RlICE9IEFSUkFZX1RZUEUpXHJcblx0XHRcdFx0XHR0aGlzLnJlY29yZFVwZGF0ZSgpXHJcblx0XHRcdFx0dGhpcy5jb2RlID0gQVJSQVlfVFlQRVxyXG5cdFx0XHRcdHRoaXMudHlwZSA9ICdhcnJheSdcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGhpcy53cml0aW5nKVxyXG5cdFx0XHRcdHJldHVyblxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dGhpcy53cml0aW5nID0gdHJ1ZVxyXG5cdFx0XHRyZXR1cm5cclxuXHRcdFx0cHJldmlvdXNBdm9pZFNoYXJlVXBkYXRlID0gY3VycmVudEF2b2lkU2hhcmVVcGRhdGVcclxuXHRcdFx0aWYgKGF2b2lkU2hhcmVVcGRhdGUpXHJcblx0XHRcdFx0Y3VycmVudEF2b2lkU2hhcmVVcGRhdGUgPSB0cnVlXHJcblx0XHR9XHJcblx0XHRlbmRXcml0ZSgpIHtcclxuXHRcdFx0aWYgKHRoaXMud3JpdGluZylcclxuXHRcdFx0XHR0aGlzLndyaXRpbmcgPSBmYWxzZVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0XHRsZXQgaXRlcmF0aW9ucyA9IHRoaXMuaXRlcmF0aW9ucyA9ICh0aGlzLml0ZXJhdGlvbnMgfHwgMCkgKyAxXHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlTGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGxldCBhY3RpdmVTaGFyZWRQcm9wZXJ0eSA9IGFjdGl2ZUxpc3RbaV1cclxuXHRcdFx0XHRsZXQgcHJldmlvdXNWYWx1ZXMgPSBhY3RpdmVTaGFyZWRQcm9wZXJ0eS5wcmV2aW91c1ZhbHVlc1xyXG5cdFx0XHRcdGlmIChwcmV2aW91c1ZhbHVlcyAmJiBwcmV2aW91c1ZhbHVlcy5zaXplICYmICFhY3RpdmVTaGFyZWRQcm9wZXJ0eS5pc0Zyb3plbikge1xyXG5cdFx0XHRcdFx0aWYgKCFjdXJyZW50QXZvaWRTaGFyZVVwZGF0ZSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoYWN0aXZlU2hhcmVkUHJvcGVydHkudmFsdWVzLmxlbmd0aCA9PSAwICYmXHJcblx0XHRcdFx0XHRcdFx0aXRlcmF0aW9ucyA+ICgoYWN0aXZlU2hhcmVkUHJvcGVydHkucmVwZXRpdGlvbnMgfHwgMCkgKyAxMCkgKiA1KSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gbW92ZSB0byBwZXJtYW5lbnRseSBub24tcmVwZXRpdGl2ZVxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdjaGFuZ2luZyByZWZlcmVuY2VhYmxlIHRvIGRlZmF1bHQnLCBhY3RpdmVTaGFyZWRQcm9wZXJ0eS5rZXkpXHJcblx0XHRcdFx0XHRcdFx0YWN0aXZlU2hhcmVkUHJvcGVydHkucHJldmlvdXNWYWx1ZXMgPSBudWxsXHJcblx0XHRcdFx0XHRcdFx0YWN0aXZlU2hhcmVkUHJvcGVydHkuY29kZSA9IERFRkFVTFRfVFlQRVxyXG5cdFx0XHRcdFx0XHRcdGFjdGl2ZVNoYXJlZFByb3BlcnR5LnR5cGUgPSAnb2JqZWN0J1xyXG5cdFx0XHRcdFx0XHRcdGFjdGl2ZVNoYXJlZFByb3BlcnR5LnJlY29yZFVwZGF0ZSgpXHJcblx0XHRcdFx0XHRcdFx0YWN0aXZlTGlzdC5zcGxpY2UoaS0tLCAxKVxyXG5cdFx0XHRcdFx0XHRcdHByZXZpb3VzVmFsdWVzID0gW11cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Zm9yIChsZXQgW3ZhbHVlLCBlbnRyeV0gb2YgcHJldmlvdXNWYWx1ZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgdmFsdWVzID0gYWN0aXZlU2hhcmVkUHJvcGVydHkudmFsdWVzXHJcblx0XHRcdFx0XHRcdFx0aWYgKChlbnRyeS5zZXJpYWxpemF0aW9ucyArIDMpICogOCA8IGl0ZXJhdGlvbnMgLSAoZW50cnkuc3RhcnRpbmdJdGVyYXRpb24gfHwgKGVudHJ5LnN0YXJ0aW5nSXRlcmF0aW9uID0gaXRlcmF0aW9ucykpIHx8IHZhbHVlcy5sZW5ndGggPiA1MDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHByZXZpb3VzVmFsdWVzLmRlbGV0ZSh2YWx1ZSlcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0aWYgKGVudHJ5LnNlcmlhbGl6YXRpb25zID4gNTAgJiYgZW50cnkuc2VyaWFsaXphdGlvbnMgKiAzID4gaXRlcmF0aW9ucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWVzW2FjdGl2ZVNoYXJlZFByb3BlcnR5Lmxhc3RJbmRleCsrXSA9IHZhbHVlXHJcblx0XHRcdFx0XHRcdFx0XHRhY3RpdmVTaGFyZWRQcm9wZXJ0eS5yZWNvcmRVcGRhdGUoKVxyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2FkZGluZyB2YWx1ZScsIHZhbHVlLCAndG8nLCBhY3RpdmVTaGFyZWRQcm9wZXJ0eS5rZXkpXHJcblx0XHRcdFx0XHRcdFx0XHRwcmV2aW91c1ZhbHVlcy5kZWxldGUodmFsdWUpIC8vIGRvbmUgd2l0aCB0cmFja2luZywgaXQgaGFzIGJlZW4gYWNjZXB0ZWQgYXMgYSBjb21tb24gdmFsdWVcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0YWN0aXZlU2hhcmVkUHJvcGVydHkuYWN0aXZlID0gMFxyXG5cdFx0XHRcdFx0YWN0aXZlTGlzdC5zcGxpY2UoaS0tLCAxKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoYWN0aXZlTGlzdC5oYXNVcGRhdGVzKSB7XHJcblx0XHRcdFx0YWN0aXZlTGlzdC5oYXNVcGRhdGVzID0gZmFsc2VcclxuXHRcdFx0XHR0aGlzLnZlcnNpb24rK1xyXG5cdFx0XHRcdGlmICghdGhpcy5fc2VyaWFsaXplZClcclxuXHRcdFx0XHRcdHRoaXMuX3NlcmlhbGl6ZWQgPSBudWxsXHJcblx0XHRcdFx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5vblVwZGF0ZSlcclxuXHRcdFx0XHRcdG9wdGlvbnMub25VcGRhdGUoKVxyXG5cdFx0XHR9XHJcblx0XHRcdGN1cnJlbnRBdm9pZFNoYXJlVXBkYXRlID0gcHJldmlvdXNBdm9pZFNoYXJlVXBkYXRlXHJcblx0XHR9XHJcblxyXG5cdFx0dXBncmFkZShwcm9wZXJ0eSkge1xyXG5cdFx0XHRyZXR1cm4gdXBncmFkZS5jYWxsKHRoaXMsIHByb3BlcnR5KVxyXG5cdFx0fVxyXG5cclxuXHRcdGdldCBzZXJpYWxpemVkKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5fc2VyaWFsaXplZCB8fCAodGhpcy5fc2VyaWFsaXplZCA9IHNlcmlhbGl6ZVNoYXJlZFN0cnVjdHVyZSh0aGlzKSlcclxuXHRcdH1cclxuXHRcdHNlcmlhbGl6ZUNvbW1vblN0cnVjdHVyZShlbWJlZGRlZCkge1xyXG5cdFx0XHR2YXIgdXNhZ2VUaHJlc2hvbGQgPSBNYXRoLnNxcnQoYWN0aXZlTGlzdC5pdGVyYXRpb24pXHJcblx0XHRcdHJldHVybiBzZXJpYWxpemVTaGFyZWRTdHJ1Y3R1cmUodGhpcywgY2hpbGRQcm9wZXJ0eSA9PiBjaGlsZFByb3BlcnR5LmNvdW50ID49IHVzYWdlVGhyZXNob2xkLCBlbWJlZGRlZClcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBzaGFyZWRTdHJ1Y3R1cmUgPSBuZXcgU2hhcmVkKGluc3RhbmNlUHJvcGVydHkpXHJcblx0c2hhcmVkU3RydWN0dXJlLnZlcnNpb24gPSAwXHJcblxyXG5cdHNoYXJlZFN0cnVjdHVyZS5mcmVlemUgPSBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuaXNGcm96ZW4gPSB0cnVlXHJcblx0XHR0aGlzLnJlc2V0KClcclxuXHR9XHJcblxyXG5cdGlmIChmcm9tKSB7XHJcblx0XHR2YXIgcGFyc2VyID0gY3JlYXRlUGFyc2VyKHtcclxuXHRcdFx0Zm9yRGVmZXJyZWQoYmxvY2ssIHByb3BlcnR5KSB7XHJcblx0XHRcdFx0cHJvcGVydHkuaXNCbG9jayA9IHRydWVcclxuXHRcdFx0XHRyZXR1cm4gYmxvY2tcclxuXHRcdFx0fSxcclxuXHRcdFx0cGFyc2VEZWZlcnJlZHM6IHRydWVcclxuXHRcdH0pXHJcblx0XHQvLyBjb25jYXRlbmF0ZSBzaGFyZWQgc3RydWN0dXJlIHdpdGggbnVsbCBzbyB0aGVyZSBpcyBhIHZhbHVlIHRvIHBhcnNlXHJcblx0XHR2YXIgcmVhZFByb3BlcnR5ID0gW11cclxuXHRcdHJlYWRQcm9wZXJ0eS5jb2RlID0gNlxyXG5cdFx0cmVhZFByb3BlcnR5LmtleSA9IG51bGxcclxuXHRcdC8vIGVuZCB3aXRoIHdpdGggTlVMTCAocCkgdmFsdWUgdG8gcmV0dXJuIHNvbWV0aGluZyBmcm9tIHR5cGUgZGVmaW5pdGlvblxyXG5cdFx0cGFyc2VyLnNldFNvdXJjZShmcm9tICsgJ3AnKS5yZWFkKFtyZWFkUHJvcGVydHldKVxyXG5cdFx0Y29weVByb3BlcnR5KHJlYWRQcm9wZXJ0eSwgc2hhcmVkU3RydWN0dXJlKVxyXG5cdFx0YWN0aXZlTGlzdC5oYXNVcGRhdGVzID0gZmFsc2VcclxuXHRcdHNoYXJlZFN0cnVjdHVyZS52ZXJzaW9uID0gMVxyXG5cdH1cclxuXHRzaGFyZWRTdHJ1Y3R1cmUua2V5ID0gbnVsbCAvLyByb290IG11c3QgYmUgbnVsbCAoZm9yIHRoZSBwYXJzZXIgdG8gd29yayBwcm9wZXJseSlcclxuXHJcblx0cmV0dXJuIHNoYXJlZFN0cnVjdHVyZVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc0Rlc2NlbmRhbnQocHJvcGVydHksIHBvc3NpYmxlUGFyZW50KSB7XHJcblx0ZG8ge1xyXG5cdFx0aWYgKHByb3BlcnR5ID09PSBwb3NzaWJsZVBhcmVudClcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHR9IHdoaWxlIChwcm9wZXJ0eSA9IHByb3BlcnR5LnBhcmVudClcclxufVxyXG4vLyBkZWZhdWx0IHR5cGUgZm9yIGVhY2ggY29kZVxyXG52YXIgdHlwZXMgPSB7XHJcblx0Ni8qREVGQVVMVF9UWVBFKi86ICdvYmplY3QnLFxyXG5cdDcvKkFSUkFZX1RZUEUqLzogJ2FycmF5JyxcclxuXHQ4LypSRUZFUkVOQ0lOR19UWVBFKi86ICdzdHJpbmcnLFxyXG5cdDkvKk5VTUJFUl9UWVBFKi86ICdudW1iZXInXHJcbn1cclxuXHJcbnZhciBjdXJyZW50QXZvaWRTaGFyZVVwZGF0ZVxyXG5mdW5jdGlvbiBzZXJpYWxpemVTaGFyZWRTdHJ1Y3R1cmUocHJvcGVydHksIGNvbmRpdGlvbiwgZW1iZWRkZWQpIHtcclxuXHR2YXIgc2VyaWFsaXplciA9IGNyZWF0ZVNlcmlhbGl6ZXIoKVxyXG5cdHZhciB3cml0ZXJzID0gc2VyaWFsaXplci5nZXRXcml0ZXJzKClcclxuXHRzZXJpYWxpemVTaGFyZWRQcm9wZXJ0eShwcm9wZXJ0eSwgIWVtYmVkZGVkLCAhZW1iZWRkZWQpXHJcblx0ZnVuY3Rpb24gc2VyaWFsaXplU2hhcmVkUHJvcGVydHkocHJvcGVydHksIGV4cGVjdHNPYmplY3RXaXRoTnVsbEtleSwgaXNSb290KSB7XHJcblx0XHRpZiAocHJvcGVydHkuaW5zZXJ0ZWRGcm9tICYmIHByb3BlcnR5Lmluc2VydGVkRnJvbS5zZXJpYWxpemVDb21tb25TdHJ1Y3R1cmUpIHtcclxuXHRcdFx0cHJvcGVydHkgPSBwcm9wZXJ0eS5pbnNlcnRlZEZyb21cclxuXHRcdFx0cmV0dXJuIHdyaXRlcnMud3JpdGVCdWZmZXIocHJvcGVydHkuc2VyaWFsaXplQ29tbW9uU3RydWN0dXJlKCFpc1Jvb3QpKVxyXG5cdFx0fVxyXG5cdFx0dmFyIGlzQXJyYXkgPSBwcm9wZXJ0eS5jb2RlID09PSBBUlJBWV9UWVBFXHJcblx0XHR2YXIgY29tbW9uUHJvcGVydGllcyA9IGNvbmRpdGlvbiA/IG9yZGVyUHJvcGVydGllcyhwcm9wZXJ0eS5maWx0ZXIoY29uZGl0aW9uKSkgOiBwcm9wZXJ0eVxyXG5cdFx0dmFyIGxlbmd0aCA9IGNvbW1vblByb3BlcnRpZXMubGVuZ3RoXHJcblx0XHRpZiAoIShleHBlY3RzT2JqZWN0V2l0aE51bGxLZXkgJiYgcHJvcGVydHkuY29kZSA9PT0gREVGQVVMVF9UWVBFKSkge1xyXG5cdFx0XHRsZXQga2V5ID0gaXNSb290ID8gbnVsbCA6IHByb3BlcnR5LmtleVxyXG5cdFx0XHR3cml0ZXJzLndyaXRlUHJvcGVydHkoa2V5LCB0eXBlc1twcm9wZXJ0eS5jb2RlXSlcclxuXHRcdFx0aWYgKGxlbmd0aCA9PT0gMCAmJiBrZXkgPT09IG51bGwgJiYgKHByb3BlcnR5LmNvZGUgPT09IERFRkFVTFRfVFlQRSB8fCBwcm9wZXJ0eS5jb2RlID09PSBBUlJBWV9UWVBFKSkge1xyXG5cdFx0XHRcdC8vIHRoZSBrZXkgd2FzIGVsaWRlZCwgYnV0IHdvbid0IGJlIGZvbGxvd2VkIGJ5IHNlcXVlbmNlLCBzbyB3cml0ZSBvbmUgbm93XHJcblx0XHRcdFx0d3JpdGVycy53cml0ZVRva2VuKFNFUVVFTkNFX0NPREUsIDApXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmIChpc1Jvb3QgJiYgbGVuZ3RoID4gMCkge1xyXG5cdFx0XHR3cml0ZXJzLndyaXRlVG9rZW4oVFlQRV9DT0RFLCBUWVBFX0RFRklOSVRJT04pXHJcblx0XHR9XHJcblx0XHRpZiAobGVuZ3RoID4gMCkge1xyXG5cdFx0XHQvLyB3ZSBhbHdheXMgdXNlIG9wZW4gc2VxdWVuY2UsIGJlY2F1c2Ugd3JpdGluZyBtdWx0aXBsZSB2YWx1ZXMgb2YgYSBwcm9wZXJ0eSB1c2UgZXh0cmEgcHJvcGVydHkgY291bnRzLFxyXG5cdFx0XHQvLyBwbHVzIGl0IGlzIGVhc2llciB0byBkZWFsIHdpdGggcHJvcGVydGllcyB3aXRob3V0IHZhbHVlc1xyXG5cdFx0XHR3cml0ZXJzLndyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgT1BFTl9TRVFVRU5DRSlcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBjaGlsZFByb3BlcnR5ID0gY29tbW9uUHJvcGVydGllc1tpXVxyXG5cdFx0XHRcdGNoaWxkUHJvcGVydHkuaW5kZXggPSBpXHJcblx0XHRcdFx0aWYgKGlzQXJyYXkgJiYgaSA+IDApIHtcclxuXHRcdFx0XHRcdHdyaXRlcnMud3JpdGVUb2tlbihQUk9QRVJUWV9DT0RFLCBpKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZXJpYWxpemVTaGFyZWRQcm9wZXJ0eShjaGlsZFByb3BlcnR5LCBjb21tb25Qcm9wZXJ0aWVzLmNvZGUgPT09IEFSUkFZX1RZUEUgJiYgaSA9PT0gMCwgZmFsc2UsIGNvbmRpdGlvbilcclxuXHRcdFx0fVxyXG5cdFx0XHR3cml0ZXJzLndyaXRlVG9rZW4oU0VRVUVOQ0VfQ09ERSwgRU5EX1NFUVVFTkNFKVxyXG5cdFx0fVxyXG5cdFx0dmFyIGZpcnN0ID0gdHJ1ZVxyXG4vKlx0XHRpZiAocHJvcGVydHkucHJldmlvdXNWYWx1ZXMpIHtcclxuXHRcdFx0Zm9yIChsZXQgW3ZhbHVlLCBjb3VudF0gb2YgcHJvcGVydHkucHJldmlvdXNWYWx1ZXMpIHtcclxuXHRcdFx0XHRpZiAoY291bnQgPj0gdXNhZ2VUaHJlc2hvbGQgKiAyKSB7XHJcblx0XHRcdFx0XHRpZiAoZmlyc3QpXHJcblx0XHRcdFx0XHRcdGZpcnN0ID0gZmFsc2VcclxuXHRcdFx0XHRcdGVsc2UgLy8gcmVzZXQgcHJvcGVydHkgY29kZSBmb3IgZWFjaCBzdWJzZXF1ZW50IHZhbHVlIHNvIHdlIGRvbid0IG1vdmUgb24gdG8gdGhlIG5leHQgcHJvcGVydHkgaW4gcGFyc2luZ1xyXG5cdFx0XHRcdFx0XHR3cml0ZXJzLndyaXRlVG9rZW4oUFJPUEVSVFlfQ09ERSwgcHJvcGVydHkuaW5kZXgpXHJcblx0XHRcdFx0XHR3cml0ZXJzLndyaXRlQXNEZWZhdWx0KHZhbHVlKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlICovXHJcblx0XHRpZiAocHJvcGVydHkubGFzdEluZGV4ID4gMCkge1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbCA9IHByb3BlcnR5Lmxhc3RJbmRleDsgaSA8IGw7IGkrKykge1xyXG5cdFx0XHRcdHZhciB2YWx1ZSA9IHByb3BlcnR5LnZhbHVlc1tpXVxyXG5cdFx0XHRcdGlmIChmaXJzdClcclxuXHRcdFx0XHRcdGZpcnN0ID0gZmFsc2VcclxuXHRcdFx0XHRlbHNlIC8vIHJlc2V0IHByb3BlcnR5IGNvZGUgZm9yIGVhY2ggc3Vic2VxdWVudCB2YWx1ZSBzbyB3ZSBkb24ndCBtb3ZlIG9uIHRvIHRoZSBuZXh0IHByb3BlcnR5IGluIHBhcnNpbmdcclxuXHRcdFx0XHRcdHdyaXRlcnMud3JpdGVUb2tlbihQUk9QRVJUWV9DT0RFLCBwcm9wZXJ0eS5pbmRleClcclxuXHRcdFx0XHR3cml0ZXJzLndyaXRlQXNEZWZhdWx0KHZhbHVlKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHRsZXQgc2VyaWFsaXplZCA9IHNlcmlhbGl6ZXIuZ2V0U2VyaWFsaXplZCgpXHJcblx0cmV0dXJuIHNlcmlhbGl6ZWRcclxufVxyXG5mdW5jdGlvbiBjb3B5UHJvcGVydHkoc291cmNlLCB0YXJnZXQsIGZyZWV6ZVRhcmdldCwgc3RhcnRpbmdJbmRleCkge1xyXG5cdHZhciBjb21wYXRpYmlsaXR5ID0gMFxyXG5cdHRhcmdldC5jb2RlID0gc291cmNlLmNvZGVcclxuXHR0YXJnZXQudHlwZSA9IHNvdXJjZS50eXBlIHx8IHR5cGVzW3NvdXJjZS5jb2RlXVxyXG5cdGlmIChmcmVlemVUYXJnZXQpIHtcclxuXHRcdHRhcmdldC5pc0Zyb3plbiA9IHRydWVcclxuXHRcdGlmICh0YXJnZXQucHJldmlvdXNWYWx1ZXMpXHJcblx0XHRcdHRhcmdldC5wcmV2aW91c1ZhbHVlcyA9IG51bGxcclxuXHR9XHJcblx0bGV0IHNvdXJjZUxlbmd0aCA9IHNvdXJjZS5yZXNldFRvID4gLTEgPyBzb3VyY2UucmVzZXRUbyA6IHNvdXJjZS5sZW5ndGhcclxuXHRpZiAodGFyZ2V0LnJlc2V0VG8gPiAtMSAmJiB0YXJnZXQucmVzZXRUbyA8IHRhcmdldC5sZW5ndGgpXHJcblx0XHR0YXJnZXQubGVuZ3RoID0gdGFyZ2V0LnJlc2V0VG9cclxuXHRmb3IgKHZhciBpID0gc3RhcnRpbmdJbmRleCB8fCAwOyBpIDwgc291cmNlTGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciB0YXJnZXRDaGlsZCA9IHRhcmdldFtpXVxyXG5cdFx0dmFyIGNoaWxkUHJvcGVydHkgPSBzb3VyY2VbaV1cclxuXHRcdGlmICh0YXJnZXRDaGlsZCAmJiAodGFyZ2V0Q2hpbGQua2V5ICE9IGNoaWxkUHJvcGVydHkua2V5IHx8IHRhcmdldENoaWxkLmV4dGVuZGVkVHlwZSAhPSBjaGlsZFByb3BlcnR5LmV4dGVuZGVkVHlwZSB8fFxyXG5cdFx0XHR0YXJnZXRDaGlsZC5jb2RlICE9IGNoaWxkUHJvcGVydHkuY29kZSAmJlxyXG5cdFx0XHRcdCEodGFyZ2V0Q2hpbGQuY29kZSA9PSA4ICYmIGNoaWxkUHJvcGVydHkuY29kZSA9PT0gNiAmJiAoIXRhcmdldENoaWxkLnZhbHVlcyB8fCAhdGFyZ2V0Q2hpbGQudmFsdWVzLmxlbmd0aCkpKSkgeyAvLyBvayB0byB1cGdyYWRlIGZyb20gc3RyaW5nIHRvIGRlZmF1bHRcclxuXHRcdFx0aWYgKHRhcmdldC5pc0Zyb3plbilcclxuXHRcdFx0XHRyZXR1cm4gMlxyXG5cdFx0XHRjb21wYXRpYmlsaXR5ID0gMlxyXG5cdFx0fVxyXG5cdFx0aWYgKCF0YXJnZXRDaGlsZCkge1xyXG5cdFx0XHRpZiAodGFyZ2V0LmlzRnJvemVuKVxyXG5cdFx0XHRcdHJldHVybiAyXHJcblx0XHRcdHZhciB0YXJnZXRDaGlsZCA9IFtdXHJcblx0XHRcdHRhcmdldENoaWxkLmNvZGUgPSBjaGlsZFByb3BlcnR5LmNvZGVcclxuXHRcdFx0aWYgKHRhcmdldC5uZXdQcm9wZXJ0eSkge1xyXG5cdFx0XHRcdHRhcmdldENoaWxkID0gdGFyZ2V0Lm5ld1Byb3BlcnR5KHRhcmdldENoaWxkKVxyXG5cdFx0XHR9XHJcblx0XHRcdHRhcmdldFtpXSA9IHRhcmdldENoaWxkXHJcblx0XHRcdGlmIChjaGlsZFByb3BlcnR5Lm1ldGFkYXRhKVxyXG5cdFx0XHRcdHRhcmdldENoaWxkLm1ldGFkYXRhID0gY2hpbGRQcm9wZXJ0eS5tZXRhZGF0YVxyXG5cdFx0XHRpZiAoY2hpbGRQcm9wZXJ0eS5pbnNlcnRlZEZyb20pIHtcclxuXHRcdFx0XHR0YXJnZXRDaGlsZC5pbnNlcnRlZEZyb20gPSBjaGlsZFByb3BlcnR5Lmluc2VydGVkRnJvbVxyXG5cdFx0XHRcdHRhcmdldENoaWxkLmluc2VydGVkVmVyc2lvbiA9IGNoaWxkUHJvcGVydHkuaW5zZXJ0ZWRWZXJzaW9uXHJcblx0XHRcdH1cclxuXHRcdFx0dGFyZ2V0Q2hpbGQucGFyZW50ID0gdGFyZ2V0XHJcblx0XHR9XHJcblx0XHR0YXJnZXRDaGlsZC5rZXkgPSBjaGlsZFByb3BlcnR5LmtleVxyXG5cclxuLy8gVE9ETzogQ2hlY2sgdG8gbWFrZSBzdXJlIHRoZSB2YWx1ZXMgYXJlIGNvbXBhdGlibGVcclxuXHRcdGlmIChjaGlsZFByb3BlcnR5LnZhbHVlcyAmJiBjaGlsZFByb3BlcnR5LnZhbHVlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGlmIChjaGlsZFByb3BlcnR5LnZhbHVlcy5yZXNldFRvID4gLTEpIHtcclxuXHRcdFx0XHRjaGlsZFByb3BlcnR5LnZhbHVlcy5sZW5ndGggPSBjaGlsZFByb3BlcnR5LnZhbHVlcy5yZXNldFRvXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCF0YXJnZXRDaGlsZC52YWx1ZXMgfHwgY2hpbGRQcm9wZXJ0eS52YWx1ZXMubGVuZ3RoID4gKHRhcmdldENoaWxkLnZhbHVlcy5yZXNldFRvID4gLTEgPyB0YXJnZXRDaGlsZC52YWx1ZXMucmVzZXRUbyA6IHRhcmdldENoaWxkLnZhbHVlcy5sZW5ndGgpKSB7XHJcblx0XHRcdFx0dGFyZ2V0Q2hpbGQudmFsdWVzID0gY2hpbGRQcm9wZXJ0eS52YWx1ZXMuc2xpY2UoMClcclxuXHRcdFx0XHR0YXJnZXRDaGlsZC52YWx1ZXMubmV4dFBvc2l0aW9uID0gY2hpbGRQcm9wZXJ0eS52YWx1ZXMubGVuZ3RoXHJcblx0XHRcdFx0aWYgKHRhcmdldENoaWxkLnZhbHVlcy5sZW5ndGggPj0gMTIpIHtcclxuXHRcdFx0XHRcdHRhcmdldENoaWxkLnByZXZpb3VzVmFsdWVzID0gbnVsbFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoY29tcGF0aWJpbGl0eSA9PSAwKSB7XHJcblx0XHRcdFx0XHRjb21wYXRpYmlsaXR5ID0gMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0dmFyIGNoaWxkQ29tcGF0aWJpbGl0eSA9IGNvcHlQcm9wZXJ0eShjaGlsZFByb3BlcnR5LCB0YXJnZXRDaGlsZCwgZnJlZXplVGFyZ2V0KVxyXG5cdFx0aWYgKGNoaWxkQ29tcGF0aWJpbGl0eSA+IGNvbXBhdGliaWxpdHkpXHJcblx0XHRcdGNvbXBhdGliaWxpdHkgPSBjaGlsZENvbXBhdGliaWxpdHlcclxuXHR9XHJcblx0bGV0IHRhcmdldExlbmd0aCA9IHRhcmdldC5yZXNldFRvID4gLTEgPyB0YXJnZXQucmVzZXRUbyA6IHRhcmdldC5sZW5ndGhcclxuXHRpZiAodGFyZ2V0TGVuZ3RoID4gc291cmNlTGVuZ3RoKSB7XHJcblx0XHRpZiAodGFyZ2V0LnJlY29yZFVwZGF0ZSkge1xyXG5cdFx0XHQvLyByZXZlcnNlIGZyZWV6ZSBpZiB0aGUgdGFyZ2V0IGhhcyBtb3JlIHZhbHVlcywgd2UgZG9uJ3Qgd2FudCB0aGUgc291cmNlIGJlY29taW5nIGluY29tcGF0aWJsZVxyXG5cdFx0XHRzb3VyY2UubWV0YWRhdGEgPSBVTlNUUlVDVFVSRURfTUFSS0VSXHJcblx0XHRcdHNvdXJjZS5yZWNvcmRVcGRhdGUoKVxyXG5cdFx0fSBlbHNlIGlmICh0YXJnZXQuaXNGcm96ZW4pIHtcclxuXHRcdFx0cmV0dXJuIDJcclxuXHRcdH1cclxuXHRcdC8vIG1lcmdlIGJhY2sgdG8gdGhlIHNvdXJjZSBpZiB0aGVyZSBhcmUgZXh0cmEgcHJvcGVydGllcyBvbiB0aGUgdGFyZ2V0XHJcblx0XHQvL2NvcHlQcm9wZXJ0eSh0YXJnZXQsIHNvdXJjZSwgaSlcclxuXHRcdC8vc291cmNlLnJlY29yZFVwZGF0ZSgpXHJcblx0fVxyXG5cdC8qaWYgKHRhcmdldC5wcmV2aW91c1ZhbHVlcykge1xyXG5cdFx0dGFyZ2V0LnZhbHVlcyA9IHRhcmdldC5wcmV2aW91c1ZhbHVlc1xyXG5cdFx0dGFyZ2V0LnByZXZpb3VzVmFsdWVzID0gW11cclxuXHR9Ki9cclxuXHQvL3RhcmdldC5sZW5ndGggPSBzb3VyY2UubGVuZ3RoXHJcblx0cmV0dXJuIGNvbXBhdGliaWxpdHlcclxufVxyXG5cclxuLy8gcmV0dXJuIHZhbHVlczpcclxuLy8gMDogaWRlbnRpY2FsIHByb3BlcnR5IHN0cnVjdHVyZXNcclxuLy8gLTE6IGEgaGFzIGxlc3MgcHJvcGVydGllcywgYnV0IGNhbiBiZSBzYWZlbHkgdXBncmFkZWQgdG8gYiBhbmQgc3RpbGwgYmUgY29tcGF0aWJsZSB3aXRoIGFcclxuLy8gMTogYSBoYXMgbW9yZSBwcm9wZXJ0aWVzLCBidXQgaXMgY29tcGF0aWJsZSBhbmQgY2FuIGJlIHVzZWQgdG8gZGVjb2RlIGJcclxuLy8gLTI6IGluY29tcGF0aWJsZSBwcm9wZXJ0eSBzdHJ1Y3R1cmVzLCBjYW4gbm90IGJlIHVzZWRcclxuZnVuY3Rpb24gaXNDb21wYXRpYmxlUHJvcGVydHkoYSwgYikge1xyXG5cdGlmIChhLmJsb2NrU3RydWN0dXJlID09PSBiKSB7XHJcblx0XHRyZXR1cm4gYS52ZXJzaW9uID4gYi52ZXJzaW9uID8gMSA6IDBcclxuXHR9XHJcblx0aWYgKGEuY29kZSA9PT0gYi5jb2RlICYmIGEuZXh0ZW5kZWRUeXBlID09PSBiLmV4dGVuZGVkVHlwZSkge1xyXG5cdFx0dmFyIHNoYXJlZExlbmd0aCA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aClcclxuXHRcdHZhciBjb21wYXRpYmlsaXR5ID0gMFxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzaGFyZWRMZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoYVtpXS5rZXkgIT09IGJbaV0ua2V5KVxyXG5cdFx0XHRcdHJldHVybiAtMlxyXG5cdFx0XHR2YXIgY2hpbGRDb21wYXRpYmlsaXR5ID0gaXNDb21wYXRpYmxlUHJvcGVydHkoYVtpXSwgYltpXSlcclxuXHRcdFx0aWYgKGNoaWxkQ29tcGF0aWJpbGl0eSA9PT0gLTIpXHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdGlmIChjaGlsZENvbXBhdGliaWxpdHkgPT09IC0xKSB7XHJcblx0XHRcdFx0aWYgKGNvbXBhdGliaWxpdHkgPT09IDEpXHJcblx0XHRcdFx0XHRyZXR1cm4gLTJcclxuXHRcdFx0XHRjb21wYXRpYmlsaXR5ID0gLTFcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoY2hpbGRDb21wYXRpYmlsaXR5ID09PSAxKSB7XHJcblx0XHRcdFx0aWYgKGNvbXBhdGliaWxpdHkgPT09IC0xKVxyXG5cdFx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdFx0Y29tcGF0aWJpbGl0eSA9IDFcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0dmFyIHNoYXJlZFZhbHVlc0xlbmd0aCA9IE1hdGgubWluKGEudmFsdWVzID8gYS52YWx1ZXMubGVuZ3RoIDogMCwgYi52YWx1ZXMgPyBiLnZhbHVlcy5sZW5ndGggOiAwKVxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzaGFyZWRWYWx1ZXNMZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoYS52YWx1ZXNbaV0gIT09IGIudmFsdWVzW2ldKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmIChhLmxlbmd0aCA8IGIubGVuZ3RoKSB7XHJcblx0XHRcdGlmIChjb21wYXRpYmlsaXR5ID09PSAxKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdH1cclxuXHRcdFx0Y29tcGF0aWJpbGl0eSA9IC0xXHJcblx0XHR9IGVsc2UgaWYgKGEubGVuZ3RoIDwgYi5sZW5ndGgpIHtcclxuXHRcdFx0aWYgKGNvbXBhdGliaWxpdHkgPT09IC0xKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdH1cclxuXHRcdFx0Y29tcGF0aWJpbGl0eSA9IDFcclxuXHRcdH1cclxuXHRcdC8qaWYgKGEudmFsdWVzLmxlbmd0aCA8IGIudmFsdWVzLmxlbmd0aCkge1xyXG5cdFx0XHRpZiAoY29tcGF0aWJpbGl0eSA9PT0gMSkge1xyXG5cdFx0XHRcdHJldHVybiAtMlxyXG5cdFx0XHR9XHJcblx0XHRcdGNvbXBhdGliaWxpdHkgPSAtMVxyXG5cdFx0fSBlbHNlIGlmIChhLnZhbHVlcy5sZW5ndGggPCBiLnZhbHVlcy5sZW5ndGgpIHtcclxuXHRcdFx0aWYgKGNvbXBhdGliaWxpdHkgPT09IC0xKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0yXHJcblx0XHRcdH1cclxuXHRcdFx0Y29tcGF0aWJpbGl0eSA9IDFcclxuXHRcdH0qL1xyXG5cdFx0cmV0dXJuIGNvbXBhdGliaWxpdHlcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIC0yXHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc29sYXRlU3RyaW5nKHN0cmluZykge1xyXG5cdC8vIHRoaXMgaXMgYSB0ZWNobmlxdWUgdG8gZm9yY2VmdWxseSByZWNyZWF0ZSBhIHN0cmluZyBzbyBpdCBpc24ndCBhIHNsaWNlIG9mIGEgbGFyZ2VyIHN0cmluZy4gQmVjYXVzZSBzaGFyZWRcclxuXHQvLyBzdHJ1Y3R1cmVzIGFyZSBsb25nLWxpdmVkIGFuZCBjcmVhdGVkIGZyb20gaW5zdGFuY2Ugc3RydWN0dXJlcyB0aGF0IGFyZSBzaG9ydC1saXZlZCwgdGhlIGxvbmctbGl2ZWQgc21hbGxcclxuXHQvLyBzbGljZWQgc3RyaW5ncyBjYW4gZW5kIHVwIHBpbm5pbmcgKG90aGVyd2lzZSBzaG9ydC1saXZlZCkgbGFyZ2Ugc3RyaW5ncyBpbiBtZW1vcnkuXHJcblx0cmV0dXJuIHN0cmluZy5zbGljZSgwLCAxKSArIHN0cmluZy5zbGljZSgxKVxyXG59XHJcblxyXG4vLyBvcmRlciBwcm9wZXJ0aWVzIGJ5IHRoZWlyIGNvbWVzQWZ0ZXIgbGlzdCwgdG8gZW5zdXJlIGVhY2ggcHJvcGVydGllcyBjb21lcyBhZnRlciBldmVyeXRoaW5nIGluIHRoZWlyIGNvbWVzQWZ0ZXIgbGlzdFxyXG5mdW5jdGlvbiBvcmRlclByb3BlcnRpZXMocHJvcGVydGllcykge1xyXG5cdHZhciBvcmRlcmVkID0gW11cclxuXHR2YXIgdHJhdmVyc2VkID0gbmV3IFNldCgpXHJcblx0ZnVuY3Rpb24gYWRkUHJvcGVydHkocHJvcGVydHkpIHtcclxuXHRcdGlmICh0cmF2ZXJzZWQuaGFzKHByb3BlcnR5KSkgLy8gZG8gdGhpcyBmaXJzdCBpbiBjYXNlIG9mIGNpcmN1bGFyIG9yZGVyaW5nXHJcblx0XHRcdHJldHVyblxyXG5cdFx0dHJhdmVyc2VkLmFkZChwcm9wZXJ0eSlcclxuXHRcdGZvciAodmFyIHByb3BlcnR5QmVmb3JlIG9mIHByb3BlcnR5LmNvbWVzQWZ0ZXIpIHtcclxuXHRcdFx0YWRkUHJvcGVydHkocHJvcGVydHlCZWZvcmUpXHJcblx0XHR9XHJcblx0XHRvcmRlcmVkLnB1c2gocHJvcGVydHkpXHJcblx0fVxyXG5cdGZvciAobGV0IHByb3BlcnR5IG9mIHByb3BlcnRpZXMpIHtcclxuXHRcdGFkZFByb3BlcnR5KHByb3BlcnR5KVxyXG5cdH1cclxuXHRyZXR1cm4gb3JkZXJlZFxyXG59IiwiXCJ1c2Ugc3RyaWN0XCJcclxuY29uc3QgQkxPQ0tfVFlQRSA9IDVcclxudmFyIG1ha2VTeW1ib2wgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyA/IFN5bWJvbCA6IGZ1bmN0aW9uKG5hbWUpIHtcclxuXHRyZXR1cm4gJ3N5bWJvbC0nICsgbmFtZVxyXG59XHJcblxyXG4vKlxyXG5Ud28gdHlwZXMgb2YgYmxvY2tzLCBmcm96ZW4gYW5kIGNvcHktb24td3JpdGVcclxuRnJvemVuIC0gb3JpZ2luYXRpbmcgZnJvbSBKUyBvYmplY3RzXHJcblx0T2JqZWN0LmZyZWV6ZSgpIGpzIG9iamVjdHMgYW5kIHVzZSBzeW1ib2wgZm9yIHNlcmlhbGl6ZWQgcmVwcmVzZW50YXRpb25cclxuRnJvemVuIC0gb3JpZ2luYXRpbmcgZnJvbSBkcGFjaywgbGF6eSBldmFsdWF0aW9uXHJcblx0UHJveHkgLSBnZXQsaGFzLGV0Yy4gdHJpZ2dlcnMgcGFyc2UsIHNldCB0aHJvd3NcclxuQ29weS1vbi13cml0ZSBmcm9tIEpTIG9iamVjdHNcclxuXHRQcm94eSAtIGdldCxoYXMsZXRjLiByZXRyaWV2ZXMgZnJvbSBzb3VyY2UgSlMgb2JqZWN0LCBzZXQgY29waWVzXHJcbkNvcHktb24td3JpdGUgb3JpZ2luYXRpbmcgZnJvbSBkcGFja1xyXG5cdFNhbWVcclxuKi9cclxuXHJcbnZhciBuZXh0VmVyc2lvbiA9IDFcclxudmFyIGJ1ZmZlclN5bWJvbCA9IG1ha2VTeW1ib2woJ2J1ZmZlcicpXHJcbnZhciBzaXplVGFibGVTeW1ib2wgPSBtYWtlU3ltYm9sKCdzaXplVGFibGUnKVxyXG52YXIgaGVhZGVyU3ltYm9sID0gbWFrZVN5bWJvbCgnaGVhZGVyJylcclxudmFyIHBhcnNlZFN5bWJvbCA9IG1ha2VTeW1ib2woJ3BhcnNlZCcpXHJcbnZhciBzaGFyZWRTeW1ib2wgPSBtYWtlU3ltYm9sKCdzaGFyZWQnKVxyXG52YXIgdGFyZ2V0U3ltYm9sID0gbWFrZVN5bWJvbCgndGFyZ2V0JylcclxuY29uc3QgZnJlZXplT2JqZWN0cyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9ICdwcm9kdWN0aW9uJ1xyXG5cclxudmFyIERFRkFVTFRfVFlQRSA9IDZcclxudmFyIEFSUkFZX1RZUEUgPSA3XHJcblxyXG4vKlxyXG5zaXplIHRhYmxlIHNpemUgdHlwZXMgaW4gZmlyc3QgMiBiaXRzOlxyXG5cclxuZmlyc3QgYnl0ZVxyXG4wIC0gbGVhZiBtb2RlLCA2IGJpdCBsZW5ndGhcclxuMSAtIGxlYWYgbW9kZSwgMTQgYml0IGxlbmd0aFxyXG4yIC0gYnJhbmNoL2xlYWYgbW9kZSwgMTQsIDE2LCAxNiBiaXQgb3VyLXNpemUgbGVuZ3RoXHJcbjMgLSBicmFuY2gvbGVhZiBtb2RlLCAzMCwgNDgsIDQ4IGJpdCBvdXItc2l6ZSBsZW5ndGhcclxuKi9cclxuZnVuY3Rpb24gQmxvY2soKSB7fVxyXG52YXIgc2VyaWFsaXplTW9kdWxlID0gcmVxdWlyZSgnLi9zZXJpYWxpemUnKVxyXG5cclxuZXhwb3J0cy5CbG9jayA9IEJsb2NrXHJcbmV4cG9ydHMuYnVmZmVyU3ltYm9sID0gc2VyaWFsaXplTW9kdWxlLmJ1ZmZlclN5bWJvbCA9IGJ1ZmZlclN5bWJvbFxyXG5leHBvcnRzLnBhcnNlZFN5bWJvbCA9IHBhcnNlZFN5bWJvbFxyXG5leHBvcnRzLnNoYXJlZFN5bWJvbCA9IHNoYXJlZFN5bWJvbFxyXG5leHBvcnRzLnRhcmdldFN5bWJvbCA9IHNlcmlhbGl6ZU1vZHVsZS50YXJnZXRTeW1ib2wgPSB0YXJnZXRTeW1ib2xcclxuZXhwb3J0cy5zaXplVGFibGVTeW1ib2wgPSBzZXJpYWxpemVNb2R1bGUuc2l6ZVRhYmxlU3ltYm9sID0gc2l6ZVRhYmxlU3ltYm9sXHJcbnZhciBzZXJpYWxpemUgPSBzZXJpYWxpemVNb2R1bGUuc2VyaWFsaXplXHJcbnZhciBjcmVhdGVTZXJpYWxpemVyID0gc2VyaWFsaXplTW9kdWxlLmNyZWF0ZVNlcmlhbGl6ZXJcclxuZXhwb3J0cy5hc0Jsb2NrID0gYXNCbG9ja1xyXG5mdW5jdGlvbiBhc0Jsb2NrKG9iamVjdCwgc2hhcmVkKSB7XHJcblx0aWYgKG9iamVjdCAmJiBvYmplY3RbdGFyZ2V0U3ltYm9sXSkge1xyXG5cdFx0cmV0dXJuIG9iamVjdCAvLyBhbHJlYWR5IGEgYmxvY2tcclxuXHR9XHJcblx0aWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xyXG5cdFx0Ly8gaWYgdGhlIG9iamVjdCBpcyBhbiBhcnJheSwgbWFrZSB0aGUgdGFnZXQgYW4gYXJyYXkgc28gaXQgcGFzc2VzIEFycmF5LmlzQXJyYXkgY2hlY2tzXHJcblx0XHRsZXQgdGFyZ2V0ID0gW11cclxuXHRcdHRhcmdldC5wYXJzZWQgPSBvYmplY3RcclxuXHRcdHRhcmdldC5zaGFyZWQgPSBzaGFyZWRcclxuXHRcdHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCBvbkRlbWFuZEhhbmRsZXIpXHJcblx0fVxyXG5cdHJldHVybiBuZXcgUHJveHkoe1xyXG5cdFx0cGFyc2VkOiBvYmplY3QsXHJcblx0XHRzaGFyZWQ6IHNoYXJlZFxyXG5cdH0sIG9uRGVtYW5kSGFuZGxlcilcclxufVxyXG5leHBvcnRzLmlzQmxvY2sgPSBpc0Jsb2NrXHJcbmZ1bmN0aW9uIGlzQmxvY2sob2JqZWN0KSB7XHJcblx0cmV0dXJuIG9iamVjdCAmJiBvYmplY3RbdGFyZ2V0U3ltYm9sXVxyXG59XHJcblxyXG5leHBvcnRzLm1ha2VCbG9ja0Zyb21CdWZmZXIgPSBtYWtlQmxvY2tGcm9tQnVmZmVyXHJcbmZ1bmN0aW9uIG1ha2VCbG9ja0Zyb21CdWZmZXIoYnVmZmVyLCBzaGFyZWQpIHtcclxuXHR2YXIgZHBhY2tCdWZmZXIsIHNpemVUYWJsZUJ1ZmZlclxyXG5cdGlmIChidWZmZXJbMF0gPCAweDgwKSB7XHJcblx0XHRkcGFja0J1ZmZlciA9IGJ1ZmZlclxyXG5cdH0gZWxzZSB7IC8vIGEgYnJhbmNoIHR5cGUgd2lsbCBhbHdheXMgYmUgZ3JlYXRlciB0aGFuIDB4ODBcclxuXHRcdHZhciB0eXBlID0gYnVmZmVyWzBdID4+IDZcclxuXHRcdHZhciBkcGFja09mZnNldFxyXG5cdFx0aWYgKHR5cGUgPT09IDIpIHtcclxuXHRcdFx0ZHBhY2tPZmZzZXQgPSBidWZmZXIucmVhZFVJbnQxNkJFKDApICYgMHgzZmZmXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRkcGFja09mZnNldCA9IGJ1ZmZlci5yZWFkVUludDMyQkUoMCkgJiAweDNmZmZmZmZmXHJcblx0XHR9XHJcblx0XHRkcGFja0J1ZmZlciA9IGJ1ZmZlci5zbGljZShkcGFja09mZnNldClcclxuXHRcdHNpemVUYWJsZUJ1ZmZlciA9IGJ1ZmZlci5zbGljZSgwLCBkcGFja09mZnNldClcclxuXHR9XHJcblxyXG5cdHZhciB0YXJnZXQgPSB7XHJcblx0XHRkcGFja0J1ZmZlcjogZHBhY2tCdWZmZXIsXHJcblx0XHRzaXplVGFibGVCdWZmZXI6IHNpemVUYWJsZUJ1ZmZlcixcclxuXHRcdHNoYXJlZDogc2hhcmVkLFxyXG5cdFx0cmVhc3NpZ246IGZ1bmN0aW9uKGJ1ZmZlcikgeyAvLyBUT0RPOiBkb24ndCBjcmVhdGUgZWFjaCB0aW1lXHJcblx0XHRcdHRoaXMuYnVmZmVyID0gYnVmZmVyXHJcblx0XHR9XHJcblx0fVxyXG5cdGJ1ZmZlci5vd25lciA9IHRhcmdldFxyXG5cdHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCBvbkRlbWFuZEhhbmRsZXIpXHJcbn1cclxuXHJcbmV4cG9ydHMuZ2V0TGF6eUhlYWRlciA9IGZ1bmN0aW9uKGJsb2NrKSB7XHJcblx0cmV0dXJuIGJsb2NrW3NpemVUYWJsZVN5bWJvbF1cclxufVxyXG5cclxudmFyIG9uRGVtYW5kSGFuZGxlciA9IHtcclxuXHRnZXQ6IGZ1bmN0aW9uKHRhcmdldCwga2V5KSB7XHJcblx0XHRpZiAoc3BlY2lhbEdldHRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRyZXR1cm4gc3BlY2lhbEdldHRlcnNba2V5XS5jYWxsKHRhcmdldClcclxuXHRcdH1cclxuXHRcdHZhciBwYXJzZWQgPSB0YXJnZXQucGFyc2VkXHJcblx0XHRpZiAoIXBhcnNlZCkge1xyXG5cdFx0XHRwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHBhcnNlZFtrZXldXHJcblx0fSxcclxuXHRzZXQ6IGZ1bmN0aW9uKHRhcmdldCwga2V5LCB2YWx1ZSkge1xyXG5cdFx0Ly8gd2UgYWxsb3cgc3ltYm9scyB0byBzZXQgYXMgYSBmb3JtIG9mIG1ldGFkYXRhIG9iamVjdHMgZXZlbiB0aG91Z2ggdGhlIG1haW4gc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgYXJlIGZyb3plblxyXG5cdFx0aWYgKHR5cGVvZiBrZXkgPT09ICdzeW1ib2wnKSB7XHJcblx0XHRcdHRhcmdldFtrZXldID0gdmFsdWVcclxuXHRcdFx0bWFrZVN5bWJvbEdldHRlcihrZXkpXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHR9XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ05vIGNoYW5nZXMgYXJlIGFsbG93ZWQgb24gZnJvemVuIHBhcnNlZCBvYmplY3QsIFVzZSBkcGFjayBjb3B5KCkgZnVuY3Rpb24gdG8gbW9kaWZ5JylcclxuXHR9LFxyXG5cdGRlbGV0ZVByb3BlcnR5OiBmdW5jdGlvbigpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignTm8gY2hhbmdlcyBhcmUgYWxsb3dlZCBvbiBmcm96ZW4gcGFyc2VkIG9iamVjdCwgVXNlIGRwYWNrIGNvcHkoKSBmdW5jdGlvbiB0byBtb2RpZnknKVxyXG5cdH0sXHJcblx0Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiBmdW5jdGlvbih0YXJnZXQsIGtleSkge1xyXG5cdFx0dmFyIHBhcnNlZCA9IGdldFBhcnNlZCh0YXJnZXQpXHJcblx0XHRyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwYXJzZWQsIGtleSlcclxuXHR9LFxyXG5cdGhhczogZnVuY3Rpb24odGFyZ2V0LCBrZXkpIHtcclxuXHRcdHZhciBwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIGtleSBpbiBwYXJzZWRcclxuXHR9LFxyXG5cdG93bktleXM6IGZ1bmN0aW9uKHRhcmdldCkge1xyXG5cdFx0dmFyIHBhcnNlZCA9IGdldFBhcnNlZCh0YXJnZXQpXHJcblx0XHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKHBhcnNlZClcclxuXHRcdGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcclxuXHRcdFx0a2V5cy5wdXNoKCdsZW5ndGgnKVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGtleXNcclxuXHR9LFxyXG5cdGdldFByb3RvdHlwZU9mOiBmdW5jdGlvbih0YXJnZXQpIHtcclxuXHRcdHZhciBwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJzZWQpXHJcblx0fVxyXG59XHJcblxyXG5leHBvcnRzLnJlYXNzaWduQnVmZmVycyA9IHJlYXNzaWduQnVmZmVyc1xyXG5mdW5jdGlvbiByZWFzc2lnbkJ1ZmZlcnMoYmxvY2ssIG5ld1BhcmVudE5vZGVCdWZmZXIsIHBhcmVudEFycmF5QnVmZmVyKSB7XHJcblx0XHQvLyBpZiBhIGJ1ZmZlciBuZWVkcyB0byBiZSBtb3ZlZCB0byBhIG5ldyBidWZmZXIgZHVlIHRvIGl0IHNvb24gYmVpbmcgbm8gbG9uZ2VyIHJlZmVyZW5jZWFibGUsIHdlIGNhbiByZWZlcmVuY2UgdGhlIG5ldyBjb3B5XHJcblx0XHR2YXIgdGFyZ2V0ID0gYmxvY2tbdGFyZ2V0U3ltYm9sXVxyXG5cdFx0dmFyIGJ1ZmZlciA9IHRhcmdldC5kcGFja0J1ZmZlclxyXG5cdFx0aWYgKCFwYXJlbnRBcnJheUJ1ZmZlcilcclxuXHRcdFx0cGFyZW50QXJyYXlCdWZmZXIgPSBidWZmZXIuYnVmZmVyXHJcblx0XHRpZiAoYnVmZmVyICYmIGJ1ZmZlci5idWZmZXIgPT09IHBhcmVudEFycmF5QnVmZmVyKSB7XHJcblx0XHRcdHZhciBieXRlT2Zmc2V0ID0gYnVmZmVyLmJ5dGVPZmZzZXRcclxuXHRcdFx0dGFyZ2V0LmRwYWNrQnVmZmVyID0gbmV3UGFyZW50Tm9kZUJ1ZmZlci5zbGljZShieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgYnVmZmVyLmxlbmd0aClcclxuXHRcdH1cclxuXHRcdHZhciBidWZmZXIgPSB0YXJnZXQuc2l6ZVRhYmxlQnVmZmVyXHJcblx0XHRpZiAoYnVmZmVyICYmIGJ1ZmZlci5idWZmZXIgPT09IHBhcmVudEFycmF5QnVmZmVyKSB7XHJcblx0XHRcdHZhciBieXRlT2Zmc2V0ID0gYnVmZmVyLmJ5dGVPZmZzZXRcclxuXHRcdFx0dGFyZ2V0LnNpemVUYWJsZUJ1ZmZlciA9IG5ld1BhcmVudE5vZGVCdWZmZXIuc2xpY2UoYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGJ1ZmZlci5sZW5ndGgpXHJcblx0XHR9XHJcblx0XHRpZiAodGFyZ2V0LnBhcnNlZCkge1xyXG5cdFx0XHR2YXIgcGFyc2VkID0gdGFyZ2V0LnBhcnNlZFxyXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gcGFyc2VkKSB7XHJcblx0XHRcdFx0dmFyIHZhbHVlID0gcGFyc2VkW2tleV1cclxuXHRcdFx0XHRpZiAoaXNCbG9jayh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdHJlYXNzaWduQnVmZmVycyh2YWx1ZSwgbmV3UGFyZW50Tm9kZUJ1ZmZlciwgcGFyZW50QXJyYXlCdWZmZXIpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxudmFyIGNvcHlPbldyaXRlSGFuZGxlciA9IHtcclxuXHRnZXQ6IGZ1bmN0aW9uKHRhcmdldCwga2V5KSB7XHJcblx0XHRpZiAoc3BlY2lhbEdldHRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRyZXR1cm4gc3BlY2lhbEdldHRlcnNba2V5XS5jYWxsKHRhcmdldClcclxuXHRcdH1cclxuXHRcdHZhciBjYWNoZWRQYXJzZWQgPSB0YXJnZXQuY2FjaGVkUGFyc2VkXHJcblx0XHRpZiAoY2FjaGVkUGFyc2VkICYmIGNhY2hlZFBhcnNlZC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICEoa2V5ID09ICdsZW5ndGgnICYmIEFycmF5LmlzQXJyYXkoY2FjaGVkUGFyc2VkKSkpIHtcclxuXHRcdFx0cmV0dXJuIGNhY2hlZFBhcnNlZFtrZXldXHJcblx0XHR9XHJcblx0XHR2YXIgcGFyc2VkID0gdGFyZ2V0LnBhcnNlZFxyXG5cdFx0aWYgKCFwYXJzZWQpIHtcclxuXHRcdFx0cGFyc2VkID0gZ2V0UGFyc2VkKHRhcmdldClcclxuXHRcdH1cclxuXHRcdHZhciB2YWx1ZSA9IHBhcnNlZFtrZXldXHJcblx0XHQvKmlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcclxuXHRcdFx0aWYgKCFjYWNoZWRQYXJzZWQpIHtcclxuXHRcdFx0XHR0YXJnZXQuY2FjaGVkUGFyc2VkID0gY2FjaGVkUGFyc2VkID0gcGFyc2VkIGluc3RhbmNlb2YgQXJyYXkgPyBbXSA6IHt9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHZhbHVlIGluc3RhbmNlb2YgTWFwKVxyXG5cdFx0XHRcdGNhY2hlZFBhcnNlZFtrZXldID0gdmFsdWVcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGNhY2hlZFBhcnNlZFtrZXldID0gdmFsdWUgPSBjb3B5V2l0aFBhcmVudCh2YWx1ZSwgdGFyZ2V0KVxyXG5cdFx0fSovXHJcblx0XHRpZiAodmFsdWUgJiYgdmFsdWVbdGFyZ2V0U3ltYm9sXSkge1xyXG5cdFx0XHRpZiAoIWNhY2hlZFBhcnNlZCkge1xyXG5cdFx0XHRcdHRhcmdldC5jYWNoZWRQYXJzZWQgPSBjYWNoZWRQYXJzZWQgPSBwYXJzZWQgaW5zdGFuY2VvZiBBcnJheSA/IFtdIDoge31cclxuXHRcdFx0fVxyXG5cdFx0XHRjYWNoZWRQYXJzZWRba2V5XSA9IHZhbHVlID0gY29weVdpdGhQYXJlbnQodmFsdWUsIHRhcmdldClcclxuXHRcdH1cclxuXHRcdHJldHVybiB2YWx1ZVxyXG5cdH0sXHJcblx0Y2hhbmdlZDogZnVuY3Rpb24odGFyZ2V0KSB7XHJcblx0XHR0YXJnZXQuZHBhY2tCdWZmZXIgPSBudWxsXHJcblx0XHR0YXJnZXQuc2l6ZVRhYmxlQnVmZmVyID0gbnVsbFxyXG5cdFx0dGFyZ2V0LnNoYXJlZCA9IG51bGxcclxuXHRcdHZhciBwYXJzZWQgPSB0YXJnZXQucGFyc2VkXHJcblx0XHRpZiAoIXBhcnNlZCkge1xyXG5cdFx0XHRwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0fVxyXG5cdFx0aWYgKCF0YXJnZXQuY29waWVkKSB7XHJcblx0XHRcdHZhciBjYWNoZWRQYXJzZWQgPSB0YXJnZXQuY2FjaGVkUGFyc2VkXHJcblx0XHRcdHZhciBjb3BpZWQgPSB0YXJnZXQucGFyc2VkID0gdGFyZ2V0LmNhY2hlZFBhcnNlZCA9IHBhcnNlZCBpbnN0YW5jZW9mIEFycmF5ID8gW10gOiB7fVxyXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gcGFyc2VkKSB7XHJcblx0XHRcdFx0dmFyIHZhbHVlID0gY2FjaGVkUGFyc2VkICYmIGNhY2hlZFBhcnNlZFtrZXldXHJcblx0XHRcdFx0aWYgKCF2YWx1ZSkge1xyXG5cdFx0XHRcdFx0dmFsdWUgPSBwYXJzZWRba2V5XVxyXG5cdFx0XHRcdFx0aWYgKHZhbHVlICYmIHZhbHVlW3RhcmdldFN5bWJvbF0pIHtcclxuXHRcdFx0XHRcdFx0dmFsdWUgPSBjb3B5V2l0aFBhcmVudCh2YWx1ZSwgdGFyZ2V0KVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjb3BpZWRba2V5XSA9IHZhbHVlXHJcblx0XHRcdH1cclxuXHRcdFx0cGFyc2VkID0gY29waWVkXHJcblx0XHRcdHRhcmdldC5jb3BpZWQgPSB0cnVlXHJcblx0XHR9XHJcblx0XHR0YXJnZXQudmVyc2lvbiA9IG5leHRWZXJzaW9uKytcclxuXHRcdHJldHVybiBwYXJzZWRcclxuXHR9LFxyXG5cdGNoZWNrVmVyc2lvbjogZnVuY3Rpb24odGFyZ2V0KSB7XHJcblx0XHR2YXIgY2FjaGVkUGFyc2VkID0gdGFyZ2V0LmNhY2hlZFBhcnNlZFxyXG5cdFx0bGV0IHZlcnNpb24gPSB0YXJnZXQudmVyc2lvbiB8fCAwXHJcblx0XHRpZiAoY2FjaGVkUGFyc2VkKSB7XHJcblx0XHRcdGZvciAobGV0IGtleSBpbiBjYWNoZWRQYXJzZWQpIHtcclxuXHRcdFx0XHR2YXIgdmFsdWUgPSBjYWNoZWRQYXJzZWRba2V5XVxyXG5cdFx0XHRcdGlmICh2YWx1ZSAmJiB2YWx1ZVt0YXJnZXRTeW1ib2xdKSB7XHJcblx0XHRcdFx0XHR2ZXJzaW9uID0gTWF0aC5tYXgodmVyc2lvbiwgdGhpcy5jaGVja1ZlcnNpb24odmFsdWVbdGFyZ2V0U3ltYm9sXSkpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAodmVyc2lvbiAhPSAodGFyZ2V0LnZlcnNpb24gfHwgMCkpIHtcclxuXHRcdFx0dGhpcy5jaGFuZ2VkKHRhcmdldClcclxuXHRcdFx0dGFyZ2V0LnZlcnNpb24gPSB2ZXJzaW9uXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdmVyc2lvblxyXG5cdH0sXHJcblx0c2V0OiBmdW5jdGlvbih0YXJnZXQsIGtleSwgdmFsdWUsIHByb3h5KSB7XHJcblx0XHRpZiAoc3BlY2lhbFNldHRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRzcGVjaWFsU2V0dGVyc1trZXldLmNhbGwodGFyZ2V0LCB2YWx1ZSlcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdH1cclxuXHRcdHZhciBwYXJzZWQgPSBjb3B5T25Xcml0ZUhhbmRsZXIuY2hhbmdlZCh0YXJnZXQpXHJcblx0XHRwYXJzZWRba2V5XSA9IHZhbHVlXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cdH0sXHJcblx0ZGVsZXRlUHJvcGVydHk6IGZ1bmN0aW9uKHRhcmdldCwga2V5KSB7XHJcblx0XHR2YXIgcGFyc2VkID0gY29weU9uV3JpdGVIYW5kbGVyLmNoYW5nZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIGRlbGV0ZSBwYXJzZWRba2V5XVxyXG5cdH0sXHJcblx0Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiBmdW5jdGlvbih0YXJnZXQsIGtleSkge1xyXG5cdFx0dmFyIHBhcnNlZCA9IGdldFBhcnNlZCh0YXJnZXQpXHJcblx0XHRyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwYXJzZWQsIGtleSlcclxuXHR9LFxyXG5cdGhhczogZnVuY3Rpb24odGFyZ2V0LCBrZXkpIHtcclxuXHRcdHZhciBwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIGtleSBpbiBwYXJzZWRcclxuXHR9LFxyXG5cdG93bktleXM6IGZ1bmN0aW9uKHRhcmdldCkge1xyXG5cdFx0dmFyIHBhcnNlZCA9IGdldFBhcnNlZCh0YXJnZXQpXHJcblx0XHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKHBhcnNlZClcclxuXHRcdGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcclxuXHRcdFx0a2V5cy5wdXNoKCdsZW5ndGgnKVxyXG5cdFx0fVxyXG5cdFx0aWYgKHRhcmdldC5jb3BpZWQpIHtcclxuXHRcdFx0Zm9yICh2YXIga2V5IGluIHRhcmdldC5jb3BpZWQpIHtcclxuXHRcdFx0XHRpZiAoa2V5cy5pbmRleE9mKGtleSkgPT09IC0xKSB7XHJcblx0XHRcdFx0XHRrZXlzLnB1c2goa2V5KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGtleXNcclxuXHR9LFxyXG5cdGdldFByb3RvdHlwZU9mOiBmdW5jdGlvbih0YXJnZXQpIHtcclxuXHRcdHZhciBwYXJzZWQgPSBnZXRQYXJzZWQodGFyZ2V0KVxyXG5cdFx0cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJzZWQpXHJcblx0fVxyXG59XHJcblxyXG52YXIgc3BlY2lhbEdldHRlcnMgPSB7XHJcbn1cclxuc3BlY2lhbEdldHRlcnNbYnVmZmVyU3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiBmdW5jdGlvbihwcm9wZXJ0eSwgcmFuZG9tQWNjZXNzKSB7XHJcblx0XHR2YXIgcHJvcGVydHlJc1NoYXJlZCA9IHByb3BlcnR5ICYmIHByb3BlcnR5LnVwZ3JhZGVcclxuXHRcdHZhciBidWZmZXJcclxuXHJcblx0XHRpZiAodGhpcy5jYWNoZWRQYXJzZWQgJiYgdGhpcy5kcGFja0J1ZmZlcikge1xyXG5cdFx0XHRjb3B5T25Xcml0ZUhhbmRsZXIuY2hlY2tWZXJzaW9uKHRoaXMpXHJcblx0XHR9XHJcblx0XHRpZiAoISh0aGlzLnNoYXJlZCAmJiB0aGlzLnNoYXJlZC51cGdyYWRlKSAmJiBwcm9wZXJ0eUlzU2hhcmVkKSB7XHJcblx0XHRcdGlmICh0aGlzLmRwYWNrQnVmZmVyKSB7XHJcblx0XHRcdFx0Ly8gaWYgdGhlIGJsb2NrIGhhcyBiZWVuIHNlcmlhbGl6ZWQgd2l0aG91dCBhIHNoYXJlZCBzdHJ1Y3R1cmUsIGFuZCBpdCB3aWxsIGJlIHVzZWQgaW4gYSBzaGFyZWQgc3RydWN0dXJlLFxyXG5cdFx0XHRcdC8vIHdlIHB1dCBpdCBpbiBhIHNlcGFyYXRlIHByb3BlcnR5XHJcblx0XHRcdFx0dGhpcy5zaXplVGFibGVCdWZmZXIgPSBudWxsXHJcblx0XHRcdFx0cmV0dXJuIGluU2VwYXJhdGVQcm9wZXJ0eSh0aGlzLmRwYWNrQnVmZmVyLCB0cnVlKVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBnZXRTZXJpYWxpemVkKHRoaXMsIHRoaXMuc2hhcmVkID0gcHJvcGVydHkpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmICghdGhpcy5kcGFja0J1ZmZlcikge1xyXG5cdFx0XHRnZXRTZXJpYWxpemVkKHRoaXMsIHRoaXMuc2hhcmVkKVxyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuc2hhcmVkICYmIHRoaXMuc2hhcmVkLnVwZ3JhZGUgJiYgdGhpcy5zaGFyZWQgIT09IHByb3BlcnR5KSB7XHJcblx0XHRcdHZhciBjb21wYXRpYmlsaXR5ID0gdGhpcy5zaGFyZWQudXBncmFkZShwcm9wZXJ0eSwgcmFuZG9tQWNjZXNzKVxyXG5cdFx0XHRpZiAoY29tcGF0aWJpbGl0eSA+IDApIHtcclxuXHRcdFx0XHQvLyBpZiB0aGUgcHJvcGVydHkgdXBncmFkZSB3YXMgaW5jb21wYXRpYmxlLCB3ZSBoYXZlIHRvIGluY2x1ZGVkIHRoZSBzaGFyZWQgc3RydWN0dXJlLCBhbmQgZm9yY2Ugc2VxdWVudGlhbCByZWFkaW5nXHJcblx0XHRcdFx0dGhpcy5zaXplVGFibGVCdWZmZXIgPSBudWxsXHJcblx0XHRcdFx0dmFyIHNoYXJlZEJ1ZmZlciA9IHRoaXMuc2hhcmVkLnNlcmlhbGl6ZWRcclxuXHRcdFx0XHRpZiAoc2hhcmVkQnVmZmVyLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdGlmIChjb21wYXRpYmlsaXR5ID09IDIgJiYgIShwcm9wZXJ0eS5pc0Zyb3plbiAmJiBwcm9wZXJ0eS5yZXNldFRvID09PSAwKSlcclxuXHRcdFx0XHRcdFx0c2hhcmVkQnVmZmVyID0gaW5TZXBhcmF0ZVByb3BlcnR5KHNoYXJlZEJ1ZmZlcilcclxuXHRcdFx0XHRcdGJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoW3NoYXJlZEJ1ZmZlciwgdGhpcy5kcGFja0J1ZmZlcl0pXHJcblx0XHRcdFx0XHRidWZmZXIubXVzdFNlcXVlbmNlID0gdHJ1ZVxyXG5cdFx0XHRcdFx0cmV0dXJuIGJ1ZmZlclxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIGlmIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRpZiAoIXByb3BlcnR5SXNTaGFyZWQpIHtcclxuXHRcdFx0XHQvLyBuZWVkIHRvIHJlc2V0IHRoaXMgcHJvcGVydHksIGlmIGl0IGlzIGEgcGxhaW4gc2VxdWVudGlhbCBwcm9wZXJ0eVxyXG5cdFx0XHRcdHByb3BlcnR5Lmxlbmd0aCA9IDBcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAocHJvcGVydHkuaW5zZXJ0ZWRGcm9tKVxyXG5cdFx0XHRcdHByb3BlcnR5Lmluc2VydGVkRnJvbSA9IG51bGxcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLmRwYWNrQnVmZmVyXHJcblxyXG5cdFx0ZnVuY3Rpb24gaW5TZXBhcmF0ZVByb3BlcnR5KGRwYWNrQnVmZmVyKSB7XHJcblx0XHRcdHZhciBzZXJpYWxpemVyID0gY3JlYXRlU2VyaWFsaXplcigpXHJcblx0XHRcdHZhciBpc0FycmF5ID0gZHBhY2tCdWZmZXJbMF0gPT09IDExOVxyXG5cdFx0XHR2YXIgd3JpdGVUb2tlbiA9IHNlcmlhbGl6ZXIuZ2V0V3JpdGVycygpLndyaXRlVG9rZW5cclxuXHRcdFx0aWYgKGlzQXJyYXkpIHtcclxuXHRcdFx0XHRkcGFja0J1ZmZlciA9IGRwYWNrQnVmZmVyLnNsaWNlKDEpIC8vIHJlcGxhY2luZyB0aGUgcHJvcGVydHkgZGVjbGFyYXRpb25cclxuXHRcdFx0fVxyXG5cdFx0XHR3cml0ZVRva2VuKDAsIDEwMDApLy8gdXNlIGEgaG9wZWZ1bGx5IHVudXNlZCBzbG90IChzaG91bGQgYmUgdW51c2VkLCBibG9jayBhbHdheXMgaGFzIGEgc2luZ2xlIGluaXRpYWwgc3RhcnRpbmcgc2xvdClcclxuXHRcdFx0d3JpdGVUb2tlbigzLCBpc0FycmF5ID8gQVJSQVlfVFlQRSA6IERFRkFVTFRfVFlQRSkgLy8gcHJvcGVydHkgdHlwZVxyXG5cdFx0XHRpZiAocHJvcGVydHkgJiYgcHJvcGVydHkua2V5ICE9PSBudWxsKVxyXG5cdFx0XHRcdHNlcmlhbGl6ZXIuc2VyaWFsaXplKHByb3BlcnR5LmtleSlcclxuXHRcdFx0ZHBhY2tCdWZmZXIgPSBCdWZmZXIuY29uY2F0KFtzZXJpYWxpemVyLmdldFNlcmlhbGl6ZWQoKSwgZHBhY2tCdWZmZXJdKVxyXG5cdFx0XHRkcGFja0J1ZmZlci5tdXN0U2VxdWVuY2UgPSB0cnVlXHJcblx0XHRcdHJldHVybiBkcGFja0J1ZmZlclxyXG5cdFx0fVxyXG5cclxuXHR9LmJpbmQodGhpcylcclxufVxyXG5zcGVjaWFsR2V0dGVyc1t0YXJnZXRTeW1ib2xdID0gZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXNcclxufVxyXG5zcGVjaWFsR2V0dGVyc1tzaGFyZWRTeW1ib2xdID0gZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXMuc2hhcmVkXHJcbn1cclxuc3BlY2lhbEdldHRlcnNbcGFyc2VkU3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzLnBhcnNlZCB8fCBnZXRQYXJzZWQodGhpcylcclxufVxyXG5zcGVjaWFsR2V0dGVyc1tzaXplVGFibGVTeW1ib2xdID0gZnVuY3Rpb24oKSB7XHJcblx0aWYgKCF0aGlzLmRwYWNrQnVmZmVyKSB7XHJcblx0XHRnZXRTZXJpYWxpemVkKHRoaXMpXHJcblx0fVxyXG5cdHJldHVybiB0aGlzLnNpemVUYWJsZUJ1ZmZlclxyXG59XHJcbnNwZWNpYWxHZXR0ZXJzLnRoZW4gPSBmdW5jdGlvbigpIHtcclxuXHQvLyByZXR1cm4gdW5kZWZpbmVkLCB0aGlzIGlzIG5vdCBhIHByb21pc2VcclxufVxyXG5zcGVjaWFsR2V0dGVycy50b0pTT04gPSBmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdmFsdWVPZlxyXG59XHJcblxyXG5zcGVjaWFsR2V0dGVycy52YWx1ZU9mID0gZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHZhbHVlT2ZcclxufVxyXG5zcGVjaWFsR2V0dGVycy5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIGVudHJpZXNcclxufVxyXG5mdW5jdGlvbiBlbnRyaWVzKCkge1xyXG5cdHJldHVybiB0aGlzW3BhcnNlZFN5bWJvbF0uZW50cmllcygpXHJcbn1cclxuc3BlY2lhbEdldHRlcnNbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xyXG5cdHZhciBwYXJzZWQgPSB0aGlzLnBhcnNlZCB8fCBnZXRQYXJzZWQodGhpcylcclxuXHRyZXR1cm4gcGFyc2VkICYmIHBhcnNlZFtTeW1ib2wuaXRlcmF0b3JdICYmIGl0ZXJhdG9yXHJcbn1cclxuZnVuY3Rpb24gaXRlcmF0b3IoKSB7XHJcblx0dmFyIHBhcnNlZCA9IHRoaXNbcGFyc2VkU3ltYm9sXVxyXG5cdHJldHVybiBwYXJzZWQgJiYgcGFyc2VkW1N5bWJvbC5pdGVyYXRvcl0gPyBwYXJzZWRbU3ltYm9sLml0ZXJhdG9yXSgpIDogW11bU3ltYm9sLml0ZXJhdG9yXSgpXHJcbn1cclxuc3BlY2lhbEdldHRlcnMuY29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcclxuXHRpZiAodGhpcy5wYXJzZWQpIHtcclxuXHRcdHJldHVybiB0aGlzLnBhcnNlZC5jb25zdHJ1Y3RvclxyXG5cdH1cclxuXHQvLyB0aGlzIGlzIGEgZmFzdCBwYXRoIGZvciBnZXR0aW5nIHRoZSBjb25zdHJ1Y3RvciB3aXRob3V0IGhhdmluZyB0byBwYXJzZS4gdGhpcyBpcyBpbXBvcnRhbnRcclxuXHQvLyBhcyBpdCBlbmFibGVzIGJsb2NrcyB0byBiZSBnbyB0aHJvdWdoIHRoZSBzZXJpYWxpemVyLCBoYXZlIGl0IGNoZWNrIHRoZSBjb25zdHJ1Y3Rvciwgd2l0aG91dFxyXG5cdC8vIHJlcXVpcmluZyBwYXJzaW5nLCBhbmQgdGhlbiB0aGV5IGNhbiBiZSBkaXJlY3RseSB3cml0dGVuIGZyb20gdGhlaXIgYmluYXJ5IGJ1ZmZlclxyXG5cdGlmICh0aGlzLmRwYWNrQnVmZmVyKSB7XHJcblx0XHRsZXQgZmlyc3RCeXRlID0gdGhpcy5kcGFja0J1ZmZlclswXVxyXG5cdFx0aWYgKGZpcnN0Qnl0ZSA+PSA0OCAmJiBmaXJzdEJ5dGUgPD0gNjApIHtcclxuXHRcdFx0Ly8gc2VxdWVuY2VcclxuXHRcdFx0aWYgKHRoaXMuc2hhcmVkKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMuc2hhcmVkLmNvZGUgPT0gREVGQVVMVF9UWVBFKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gT2JqZWN0XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnNoYXJlZC5jb2RlID09IEFSUkFZX1RZUEUpIHtcclxuXHRcdFx0XHRcdHJldHVybiBBcnJheVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gT2JqZWN0XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAoZmlyc3RCeXRlID09PSAxMTkpIHtcclxuXHRcdFx0cmV0dXJuIEFycmF5XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBnZXRQYXJzZWQodGhpcykuY29uc3RydWN0b3JcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIG1ha2VTeW1ib2xHZXR0ZXIoc3ltYm9sKSB7XHJcblx0aWYgKCFzcGVjaWFsR2V0dGVyc1tzeW1ib2xdKVxyXG5cdFx0c3BlY2lhbEdldHRlcnNbc3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpc1tzeW1ib2xdXHJcblx0XHR9XHJcbn1cclxuZnVuY3Rpb24gdmFsdWVPZigpIHtcclxuXHRyZXR1cm4gdGhpc1twYXJzZWRTeW1ib2xdXHJcbn1cclxuZnVuY3Rpb24gY29weShzb3VyY2UpIHtcclxuXHRyZXR1cm4gY29weVdpdGhQYXJlbnQoc291cmNlKVxyXG59XHJcbmZ1bmN0aW9uIGNvcHlXaXRoUGFyZW50KHNvdXJjZSwgcGFyZW50KSB7XHJcblx0aWYgKCFpc0Jsb2NrKHNvdXJjZSkpIHtcclxuXHRcdC8qaWYgKHNvdXJjZSAmJiB0eXBlb2Ygc291cmNlID09ICdvYmplY3QnKVxyXG5cdFx0XHRzb3VyY2UgPSBhc0Jsb2NrKHNvdXJjZSlcclxuXHRcdGVsc2UqL1xyXG5cdFx0XHRyZXR1cm4gc291cmNlXHJcblx0fVxyXG5cdGxldCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShzb3VyY2UpXHJcblx0bGV0IHRhcmdldCA9IGlzQXJyYXkgPyBbXSA6IHt9XHJcblx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCB7XHJcblx0XHRwYXJzZWQ6IHtcclxuXHRcdFx0Z2V0KCkge1xyXG5cdFx0XHRcdHJldHVybiBzb3VyY2VbcGFyc2VkU3ltYm9sXVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzZXQodmFsdWUpIHtcclxuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3BhcnNlZCcsIHtcclxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcclxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0sXHJcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHRcdH0sXHJcblx0XHRzaGFyZWQ6IHtcclxuXHRcdFx0Z2V0KCkge1xyXG5cdFx0XHRcdHJldHVybiBzb3VyY2Vbc2hhcmVkU3ltYm9sXVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzZXQodmFsdWUpIHtcclxuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3NoYXJlZCcsIHtcclxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcclxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0dGhpcy5kcGFja0J1ZmZlciA9IG51bGxcclxuXHRcdFx0XHR0aGlzLnNpemVUYWJsZUJ1ZmZlciA9IG51bGxcclxuXHRcdFx0fSxcclxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxyXG5cdFx0fSxcclxuXHRcdGRwYWNrQnVmZmVyOiB7XHJcblx0XHRcdGdldCgpIHtcclxuXHRcdFx0XHRyZXR1cm4gc291cmNlW3RhcmdldFN5bWJvbF0uZHBhY2tCdWZmZXJcclxuXHRcdFx0fSxcclxuXHRcdFx0c2V0KHZhbHVlKSB7XHJcblx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdkcGFja0J1ZmZlcicsIHtcclxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcclxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0sXHJcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHRcdH0sXHJcblx0XHRzaXplVGFibGVCdWZmZXI6IHtcclxuXHRcdFx0Z2V0KCkge1xyXG5cdFx0XHRcdHJldHVybiBzb3VyY2Vbc2l6ZVRhYmxlU3ltYm9sXVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzZXQodmFsdWUpIHtcclxuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3NpemVUYWJsZUJ1ZmZlcicsIHtcclxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcclxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0sXHJcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHRcdH1cclxuXHR9KVxyXG5cdGlmIChpc0FycmF5KSB7XHJcblx0XHRPYmplY3QuZGVmaW5lXHJcblx0fVxyXG5cdHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCBjb3B5T25Xcml0ZUhhbmRsZXIpXHJcbn1cclxuZXhwb3J0cy5jb3B5ID0gY29weVxyXG5cclxudmFyIHNwZWNpYWxTZXR0ZXJzID0ge1xyXG59XHJcbi8qc3BlY2lhbFNldHRlcnNbc2hhcmVkU3ltYm9sXSA9IGZ1bmN0aW9uKHNoYXJlZCkge1xyXG5cdHJldHVybiB0aGlzLnNoYXJlZCA9IHNoYXJlZFxyXG59Ki9cclxuXHJcbmZ1bmN0aW9uIGdldFBhcnNlZCh0YXJnZXQpIHtcclxuXHR2YXIgcGFyc2VkID0gdGFyZ2V0LnBhcnNlZFxyXG5cdGlmIChwYXJzZWQpXHJcblx0XHRyZXR1cm4gcGFyc2VkXHJcblx0Ly8gd2UgY2hlY2sgdG8gc2VlIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBibG9ja3MgdGhhdCBzaG91bGQgYmUgZGVmZXJyZWQgaW50byBzZXBhcmF0ZSBibG9ja3NcclxuXHR2YXIgc2l6ZVRhYmxlQnVmZmVyID0gdGFyZ2V0LnNpemVUYWJsZUJ1ZmZlclxyXG5cdHZhciBkcGFja0J1ZmZlciA9IHRhcmdldC5kcGFja0J1ZmZlclxyXG5cdGlmICghc2l6ZVRhYmxlQnVmZmVyKSB7XHJcblx0XHQvLyBubyBjaGlsZCBibG9ja3MsIGp1c3QgZHBhY2ssIHNvIGRpcmVjdGx5IHBhcnNlXHJcblx0XHRyZXR1cm4gdGFyZ2V0LnBhcnNlZCA9IHBhcnNlKGRwYWNrQnVmZmVyLCB7XHJcblx0XHRcdGZyZWV6ZU9iamVjdHM6IGZyZWV6ZU9iamVjdHMsXHJcblx0XHRcdHNoYXJlZDogdGFyZ2V0LnNoYXJlZFxyXG5cdFx0fSlcclxuXHR9XHJcblx0dmFyIHRvdGFsU2l6ZVRhYmxlTGVuZ3RoID0gc2l6ZVRhYmxlQnVmZmVyLmxlbmd0aFxyXG5cdHZhciB0b3RhbERQYWNrTGVuZ3RoXHJcblx0dmFyIHJvb3RCbG9ja0xlbmd0aFxyXG5cdHZhciB0eXBlID0gc2l6ZVRhYmxlQnVmZmVyWzBdID4+IDZcclxuXHR2YXIgb2Zmc2V0XHJcblx0aWYgKHR5cGUgPT09IDIpIHtcclxuXHRcdHJvb3RCbG9ja0xlbmd0aCA9IHNpemVUYWJsZUJ1ZmZlci5yZWFkVUludDE2QkUoNClcclxuXHRcdG9mZnNldCA9IDZcclxuXHR9IGVsc2Uge1xyXG5cdFx0cm9vdEJsb2NrTGVuZ3RoID0gc2l6ZVRhYmxlQnVmZmVyLnJlYWRVSW50QkUoMTAsIDYpXHJcblx0XHRvZmZzZXQgPSAxNlxyXG5cdH1cclxuXHQvLyByZWFkIGNoaWxkIGJsb2NrIGxlbmd0aHM6IChjb3VsZCBkZWZlciB0aGlzIHVudGlsIGNoaWxkIGFjY2VzcylcclxuXHR2YXIgY2hpbGRTaXplVGFibGVzID0gW11cclxuXHR2YXIgY2hpbGREcGFja0Jsb2NrcyA9IFtdXHJcblx0dmFyIGRwYWNrQ2hpbGRPZmZzZXQgPSByb290QmxvY2tMZW5ndGhcclxuXHR3aGlsZSAob2Zmc2V0IDwgdG90YWxTaXplVGFibGVMZW5ndGgpIHtcclxuXHRcdHZhciB0eXBlID0gc2l6ZVRhYmxlQnVmZmVyW29mZnNldF0gPj4gNlxyXG5cdFx0dmFyIHNpemVUYWJsZUxlbmd0aFxyXG5cdFx0dmFyIGRwYWNrTGVuZ3RoXHJcblx0XHRpZiAodHlwZSA8IDIpIHsgLy8gbGVhZiBub2RlXHJcblx0XHRcdGlmICh0eXBlID09IDApIHtcclxuXHRcdFx0XHQvLyA2IGJpdFxyXG5cdFx0XHRcdHNpemVUYWJsZUxlbmd0aCA9IDFcclxuXHRcdFx0XHRkcGFja0xlbmd0aCA9IHNpemVUYWJsZUJ1ZmZlcltvZmZzZXRdXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gMTQgYml0XHJcblx0XHRcdFx0c2l6ZVRhYmxlTGVuZ3RoID0gMlxyXG5cdFx0XHRcdGRwYWNrTGVuZ3RoID0gc2l6ZVRhYmxlQnVmZmVyLnJlYWRVSW50MTZCRShvZmZzZXQpICYgMHgzZmZmXHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gMikge1xyXG5cdFx0XHRzaXplVGFibGVMZW5ndGggPSBzaXplVGFibGVCdWZmZXIucmVhZFVJbnQxNkJFKG9mZnNldCkgJiAweDNmZmZcclxuXHRcdFx0ZHBhY2tMZW5ndGggPSBzaXplVGFibGVCdWZmZXIucmVhZFVJbnQxNkJFKG9mZnNldCArIDIpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzaXplVGFibGVMZW5ndGggPSBzaXplVGFibGVCdWZmZXIucmVhZFVJbnQzMkJFKG9mZnNldCkgJiAweDNmZmZmZmZmXHJcblx0XHRcdGRwYWNrTGVuZ3RoID0gc2l6ZVRhYmxlQnVmZmVyLnJlYWRVSW50QkUob2Zmc2V0ICsgNCwgNilcclxuXHRcdH1cclxuXHRcdGNoaWxkU2l6ZVRhYmxlcy5wdXNoKHR5cGUgPCAyIHx8XHJcblx0XHRcdCh0eXBlID09IDMgJiYgc2l6ZVRhYmxlTGVuZ3RoID09IDE2KSA/IC8vIHR5cGUgMyB3aXRoIGEgbGVuZ3RoIG9mIDE2IGlzIGEgbG9uZyBsZWFmIG5vZGVcclxuXHRcdFx0dW5kZWZpbmVkIDogc2l6ZVRhYmxlQnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgc2l6ZVRhYmxlTGVuZ3RoKSlcclxuXHRcdG9mZnNldCArPSBzaXplVGFibGVMZW5ndGhcclxuXHRcdGNoaWxkRHBhY2tCbG9ja3MucHVzaChkcGFja0J1ZmZlci5zbGljZShkcGFja0NoaWxkT2Zmc2V0LCBkcGFja0NoaWxkT2Zmc2V0ICs9IGRwYWNrTGVuZ3RoKSlcclxuXHR9XHJcblx0dmFyIGJsb2NrSW5kZXggPSAwXHJcblx0dmFyIHJvb3RCbG9jayA9IHRhcmdldC5kcGFja0J1ZmZlci5zbGljZSgwLCByb290QmxvY2tMZW5ndGgpXHJcblx0cmV0dXJuIHRhcmdldC5wYXJzZWQgPSBwYXJzZShyb290QmxvY2ssIGNoaWxkRHBhY2tCbG9ja3MubGVuZ3RoID4gMCA/IHsgLy8gaWYgbm8gY2hpbGQgYmxvY2tzLCB1c2Ugbm9ybWFsIGRlZmVycmVkIHBhcnNpbmdcclxuXHRcdHNoYXJlZDogdGFyZ2V0LnNoYXJlZCxcclxuXHRcdGZvckRlZmVycmVkOiBmdW5jdGlvbih2YWx1ZSwgcHJvcGVydHkpIHtcclxuXHRcdFx0bGV0IHRhcmdldCA9IG5ldyB2YWx1ZS5jb25zdHJ1Y3RvclxyXG5cdFx0XHR0YXJnZXQuZHBhY2tCdWZmZXIgPSBjaGlsZERwYWNrQmxvY2tzW2Jsb2NrSW5kZXhdXHJcblx0XHRcdHRhcmdldC5zaXplVGFibGVCdWZmZXIgPSBjaGlsZFNpemVUYWJsZXNbYmxvY2tJbmRleCsrXVxyXG5cdFx0XHR0YXJnZXQuc2hhcmVkID0gcHJvcGVydHkgP1xyXG5cdFx0XHRcdFx0cHJvcGVydHkudXBncmFkZSA/XHJcblx0XHRcdFx0XHRcdHByb3BlcnR5IDpcclxuXHRcdFx0XHRcdFx0eyBjb2RlOiBwcm9wZXJ0eS5jb2RlLCBrZXk6IG51bGwsIHR5cGU6IHByb3BlcnR5LnR5cGUgfSA6XHJcblx0XHRcdFx0XHRudWxsXHJcblx0XHRcdHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCBvbkRlbWFuZEhhbmRsZXIpXHJcblx0XHR9LFxyXG5cdFx0ZnJlZXplT2JqZWN0czogZnJlZXplT2JqZWN0c1xyXG5cdH0gOiB7XHJcblx0XHRzaGFyZWQ6IHRhcmdldC5zaGFyZWRcclxuXHR9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTZXJpYWxpemVkKHRhcmdldCwgc2hhcmVQcm9wZXJ0eSkge1xyXG5cdHZhciBjaGlsZEJsb2NrcyA9IFtdXHJcblx0dmFyIGNoaWxkU2l6ZVRhYmxlcyA9IFtdXHJcblx0dmFyIGNoaWxkRHBhY2tTaXplcyA9IDBcclxuXHR2YXIgbXVzdFNlcXVlbmNlIC8vIG11c3RTZXF1ZW5jZSBpcyBhbiBpbmRpY2F0aW9uIHRoYXQgdGhlIGJsb2NrcyBtdXN0IGJlIHJlYWQgaW4gc2VxdWVuY2UgYW5kIGNhbid0IGJlIHJhbmRvbWx5IGFjY2Vzc2VkXHJcblx0dmFyIHNlcmlhbGl6ZXJPcHRpb25zID0ge1xyXG5cdFx0Zm9yQmxvY2s6IGZ1bmN0aW9uKGJsb2NrLCBwcm9wZXJ0eSkge1xyXG5cdFx0XHR2YXIgZHBhY2tCdWZmZXIgPSBibG9ja1tidWZmZXJTeW1ib2xdKHByb3BlcnR5LCB0cnVlKVxyXG5cdFx0XHRpZiAoZHBhY2tCdWZmZXIubXVzdFNlcXVlbmNlKSB7XHJcblx0XHRcdFx0bXVzdFNlcXVlbmNlID0gdHJ1ZVxyXG5cdFx0XHRcdGNoaWxkQmxvY2tzLnB1c2goZHBhY2tCdWZmZXIpXHJcblx0XHRcdFx0cmV0dXJuIGRwYWNrQnVmZmVyXHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHNpemVUYWJsZUJ1ZmZlciA9IGJsb2NrW3NpemVUYWJsZVN5bWJvbF1cclxuXHRcdFx0aWYgKCFzaXplVGFibGVCdWZmZXIpIHtcclxuXHRcdFx0XHQvLyBpZiB0aGlzIGNoaWxkIGhhcyBubyBjaGlsZHJlbiwgaXQgd29uJ3QgaGF2ZSBoYXZlIHNpemUgdGFibGUsIGp1c3QgY3JlYXRlIGEgbGVhZiBicmFuY2ggYnVmZmVyXHJcblx0XHRcdFx0dmFyIGJ1ZmZlckxlbmd0aCA9IGRwYWNrQnVmZmVyLmxlbmd0aFxyXG5cdFx0XHRcdGlmIChidWZmZXJMZW5ndGggPCA2NCkge1xyXG5cdFx0XHRcdFx0Ly8gb25lIGJ5dGUgbGVhZiBub2RlXHJcblx0XHRcdFx0XHRzaXplVGFibGVCdWZmZXIgPSBCdWZmZXIuZnJvbShbYnVmZmVyTGVuZ3RoXSlcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGJ1ZmZlckxlbmd0aCA8IDB4NDAwMCkge1xyXG5cdFx0XHRcdFx0Ly8gYmluYXJ5LTEwIGFuZCB0aGVuIDE0IGJpdHNcclxuXHRcdFx0XHRcdHNpemVUYWJsZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKFsoYnVmZmVyTGVuZ3RoID4+IDgpIHwgMHg0MCwgYnVmZmVyTGVuZ3RoICYgMHhmZl0pXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHNpemVUYWJsZUJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgxNilcclxuXHRcdFx0XHRcdHNpemVUYWJsZUJ1ZmZlci53cml0ZVVJbnQzMkJFKDB4YzAwMDAwMTApIC8vIGJpbmFyeS0xMSBhbmQgdGhlbiBpbmRpY2F0ZSBhIHNpemUgb2YgMTZcclxuXHRcdFx0XHRcdHNpemVUYWJsZUJ1ZmZlci53cml0ZVVJbnRCRShidWZmZXJMZW5ndGgsIDQsIDYpXHJcblx0XHRcdFx0XHRzaXplVGFibGVCdWZmZXIud3JpdGVVSW50QkUoYnVmZmVyTGVuZ3RoLCAxMCwgNilcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Y2hpbGRTaXplVGFibGVzLnB1c2goc2l6ZVRhYmxlQnVmZmVyKVxyXG5cdFx0XHRjaGlsZERwYWNrU2l6ZXMgKz0gZHBhY2tCdWZmZXIubGVuZ3RoXHJcblx0XHRcdGNoaWxkQmxvY2tzLnB1c2goZHBhY2tCdWZmZXIpXHJcblx0XHRcdHJldHVybiBkcGFja0J1ZmZlclxyXG5cdFx0fSxcclxuXHRcdHNoYXJlZDogc2hhcmVQcm9wZXJ0eSxcclxuXHRcdGZyZWV6ZU9iamVjdHM6IGZyZWV6ZU9iamVjdHNcclxuXHR9XHJcblx0dmFyIHJvb3RCbG9jayA9IHNlcmlhbGl6ZSh0YXJnZXQucGFyc2VkLCBzZXJpYWxpemVyT3B0aW9ucylcclxuXHRpZiAoY2hpbGRCbG9ja3MubGVuZ3RoID09IDApIHtcclxuXHRcdC8vIG5vIGNoaWxkIGJsb2NrcywganVzdCB1c2UgdGhlIHJvb3QgYmxvY2tcclxuXHRcdHJldHVybiB0YXJnZXQuZHBhY2tCdWZmZXIgPSByb290QmxvY2tcclxuXHR9XHJcblx0Y2hpbGRCbG9ja3MudW5zaGlmdChyb290QmxvY2spXHJcblx0Ly8gVE9ETzogRG8gd29yZCBhbGlnbWVudCB3aXRoIGFueSBidWZmZXIgY29weWluZywgdG8gbWFrZSBzdXJlIENQVSBjYW4gY29weSB3b3JkcyBpbnN0ZWFkIG9mIGJ5dGVzXHJcblx0dmFyIGRwYWNrQnVmZmVyID0gdGFyZ2V0LmRwYWNrQnVmZmVyID0gQnVmZmVyLmNvbmNhdChjaGlsZEJsb2NrcylcclxuXHRpZiAobXVzdFNlcXVlbmNlKSB7XHJcblx0XHRyZXR1cm4gZHBhY2tCdWZmZXJcclxuXHR9XHJcblx0dmFyIG91clNpemVCbG9jayA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShkcGFja0J1ZmZlci5sZW5ndGggPj0gMHgxMDAwMCA/IDE2IDogNilcclxuXHRjaGlsZFNpemVUYWJsZXMudW5zaGlmdChvdXJTaXplQmxvY2spXHJcblx0Ly8gVE9ETzogQWRkIGxlbmd0aCBwYXJhbWV0ZXIgdG8gY29uY2F0IHNvIGl0IGlzIGxlbmd0aCAlIDggPSAwXHJcblx0b3VyU2l6ZUJsb2NrID0gdGFyZ2V0LnNpemVUYWJsZUJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoY2hpbGRTaXplVGFibGVzKVxyXG5cdGlmIChkcGFja0J1ZmZlci5sZW5ndGggPj0gMHgxMDAwMCkgeyAvLyB8fCBvdXJTaXplQmxvY2subGVuZ3RoID4gMHg0MDAwXHJcblx0XHRvdXJTaXplQmxvY2sud3JpdGVVSW50MzJCRShvdXJTaXplQmxvY2subGVuZ3RoICsgMHhjMDAwMDAwMCwgMCkgLy8gYmluYXJ5LTExIGFuZCB0aGVuIDMwIGJpdHNcclxuXHRcdG91clNpemVCbG9jay53cml0ZVVJbnRCRShkcGFja0J1ZmZlci5sZW5ndGgsIDQsIDYpIC8vIDQ4IGJpdHNcclxuXHRcdG91clNpemVCbG9jay53cml0ZVVJbnRCRShyb290QmxvY2subGVuZ3RoLCAxMCwgNikgLy8gNDggYml0c1xyXG5cdH0gZWxzZSB7XHJcblx0XHRvdXJTaXplQmxvY2sud3JpdGVVSW50MTZCRShvdXJTaXplQmxvY2subGVuZ3RoIHwgMHg4MDAwLCAwKSAvLyBiaW5hcnktMTAgYW5kIHRoZW4gMTQgYml0c1xyXG5cdFx0b3VyU2l6ZUJsb2NrLndyaXRlVUludDE2QkUoZHBhY2tCdWZmZXIubGVuZ3RoLCAyKSAvLyAxNiBiaXRzXHJcblx0XHRvdXJTaXplQmxvY2sud3JpdGVVSW50MTZCRShyb290QmxvY2subGVuZ3RoLCA0KSAvLyAxNiBiaXRzXHJcblxyXG5cdH1cclxuXHRyZXR1cm4gZHBhY2tCdWZmZXJcclxufVxyXG5cclxuZnVuY3Rpb24gZGVlcENvcHkoc291cmNlKSB7XHJcblx0bGV0IHRhcmdldCA9IG5ldyBzb3VyY2UuY29uc3RydWN0b3IoKVxyXG5cdGZvciAobGV0IGtleSBpbiBzb3VyY2UpIHtcclxuXHRcdGxldCB2YWx1ZSA9IHNvdXJjZVtrZXldXHJcblx0XHRpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnKVxyXG5cdFx0XHR2YWx1ZSA9IGRlZXBDb3B5KHZhbHVlKVxyXG5cdFx0dGFyZ2V0W2tleV0gPSB2YWx1ZVxyXG5cdH1cclxuXHRyZXR1cm4gdGFyZ2V0XHJcbn1cclxudmFyIHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpLnBhcnNlXHJcbnZhciBzZXJpYWxpemVTaGFyZWRCbG9jayA9IHJlcXVpcmUoJy4vc2hhcmVkJykuc2VyaWFsaXplU2hhcmVkQmxvY2tcclxuXHJcbmV4cG9ydHMucGFyc2VMYXp5ID0gZnVuY3Rpb24oYnVmZmVyLCBvcHRpb25zKSB7XHJcblx0aWYgKChidWZmZXJbMF0gJiAweDgwKSB8fCAvLyBzdGFydHMgd2l0aCBzaXplIHRhYmxlXHJcblx0XHQoYnVmZmVyWzBdID4+IDQgPT09IDMpIHx8IC8vIHNlcXVlbmNlIChvYmplY3QpXHJcblx0XHQoYnVmZmVyWzBdID09PSAweDc3KSkgeyAvLyBhcnJheSB0eXBlXHJcblx0XHRyZXR1cm4gbWFrZUJsb2NrRnJvbUJ1ZmZlcihidWZmZXIsIG9wdGlvbnMgJiYgb3B0aW9ucy5zaGFyZWQpXHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBwYXJzZShidWZmZXIsIG9wdGlvbnMpXHJcblx0fVxyXG59XHJcbiIsIi8qXHJcbkRQYWNrIC0gRmFzdCwgY29tcGFjdCBvYmplY3Qgc3RydWN0dXJlIGVuY29kaW5nLlxyXG4qL1xyXG5cclxuZXhwb3J0cy5jcmVhdGVTZXJpYWxpemVTdHJlYW0gPSByZXF1aXJlKCcuL2xpYi9zZXJpYWxpemUtc3RyZWFtJykuY3JlYXRlU2VyaWFsaXplU3RyZWFtXHJcbmV4cG9ydHMuY3JlYXRlUGFyc2VTdHJlYW0gPSByZXF1aXJlKCcuL2xpYi9wYXJzZS1zdHJlYW0nKS5jcmVhdGVQYXJzZVN0cmVhbVxyXG5jb25zdCBzZXJpYWxpemUgPSByZXF1aXJlKCcuL2xpYi9zZXJpYWxpemUnKVxyXG5zZXJpYWxpemUubm9kZUNoYXJFbmNvZGVyID0gcmVxdWlyZSgnLi9saWIvbm9kZS1lbmNvZGVyJykubm9kZUNoYXJFbmNvZGVyXHJcbmNvbnN0IHBhcnNlID0gcmVxdWlyZSgnLi9saWIvcGFyc2UnKVxyXG5jb25zdCBPcHRpb25zID0gcmVxdWlyZSgnLi9saWIvT3B0aW9ucycpLk9wdGlvbnNcclxuXHJcbmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplLnNlcmlhbGl6ZVxyXG5leHBvcnRzLnBhcnNlID0gcGFyc2UucGFyc2VcclxuZXhwb3J0cy5jcmVhdGVTZXJpYWxpemVyID0gc2VyaWFsaXplLmNyZWF0ZVNlcmlhbGl6ZXJcclxuZXhwb3J0cy5jcmVhdGVQYXJzZXIgPSBwYXJzZS5jcmVhdGVQYXJzZXJcclxuY29uc3QgQmxvY2sgPSByZXF1aXJlKCcuL2xpYi9CbG9jaycpXHJcbmV4cG9ydHMucGFyc2VMYXp5ID0gQmxvY2sucGFyc2VMYXp5XHJcbmV4cG9ydHMuYXNCbG9jayA9IEJsb2NrLmFzQmxvY2tcclxuZXhwb3J0cy5pc0Jsb2NrID0gQmxvY2suaXNCbG9ja1xyXG5leHBvcnRzLmNvcHkgPSBCbG9jay5jb3B5XHJcbmV4cG9ydHMucmVhc3NpZ25CdWZmZXJzID0gQmxvY2sucmVhc3NpZ25CdWZmZXJzXHJcbmV4cG9ydHMuT3B0aW9ucyA9IE9wdGlvbnNcclxuZXhwb3J0cy5jcmVhdGVTaGFyZWRTdHJ1Y3R1cmUgPSByZXF1aXJlKCcuL2xpYi9zaGFyZWQnKS5jcmVhdGVTaGFyZWRTdHJ1Y3R1cmVcclxuZXhwb3J0cy5yZWFkU2hhcmVkU3RydWN0dXJlID0gcmVxdWlyZSgnLi9saWIvc2hhcmVkJykucmVhZFNoYXJlZFN0cnVjdHVyZVxyXG4iLCJmdW5jdGlvbiBjYXBpdGFsaXplKHdvcmQpIHtcbiAgICByZXR1cm4gYCR7d29yZC5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpfSR7d29yZC5zbGljZSgxKS50b0xvd2VyQ2FzZSgpfWA7XG59XG5leHBvcnQgZnVuY3Rpb24gVU5TVVBQT1JURURfRk9STUFUKGZvcm1hdCkge1xuICAgIHJldHVybiBgVW5zdXBwb3J0ZWQgc2VyaWFsaXphdGlvbiBmb3JtYXQ6ICR7Zm9ybWF0fWA7XG59XG5leHBvcnQgZnVuY3Rpb24gRklMRVNZU1RFTV9OT1RfU1VQUE9SVEVEX09OX1JVTlRJTUUocnVudGltZSkge1xuICAgIHJldHVybiBgRmlsZXN5c3RlbSBhY2Nlc3MgaXMgbm90IHN1cHBvcnRlZCBvbiAke2NhcGl0YWxpemUocnVudGltZSl9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBNRVRIT0RfTU9WRUQobWV0aG9kKSB7XG4gICAgcmV0dXJuIGBGdW5jdGlvbiAke21ldGhvZH0gaGFzIGJlZW4gbW92ZWQgdG8gdGhlIFwiL3NlcnZlclwiIG1vZHVsZS4gXFxuXFxuSW1wb3J0IGl0IHZpYSBcImltcG9ydCB7ICR7bWV0aG9kfSB9IGZyb20gJ29yYW1hL3BsdWdpbi1kYXRhLXBlcnNpc3RlbmNlL3NlcnZlcidcIi4gXFxuXFxuUmVhZCBtb3JlIGF0IGh0dHBzOi8vZG9jcy5vcmFtYXNlYXJjaC5jb20vb3Blbi1zb3VyY2UvcGx1Z2lucy9wbHVnaW4tZGF0YS1wZXJzaXN0ZW5jZS5gO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGRldGVjdFJ1bnRpbWUoKSB7XG4gICAgLyogYzggaWdub3JlIG5leHQgMTEgKi8gaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLnZlcnNpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuICdub2RlJztcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFwiRGVub1wiIGdsb2JhbCB2YXJpYWJsZSBpcyBkZWZpbmVkIGluIERlbm8gb25seVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIERlbm8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiAnZGVubyc7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBcIkJ1blwiIGdsb2JhbCB2YXJpYWJsZSBpcyBkZWZpbmVkIGluIEJ1biBvbmx5XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgQnVuICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gJ2J1bic7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gJ2Jyb3dzZXInO1xuICAgIH1cbiAgICByZXR1cm4gJ3Vua25vd24nO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiLCJpbXBvcnQgeyBkZWNvZGUsIGVuY29kZSB9IGZyb20gJ0Btc2dwYWNrL21zZ3BhY2snO1xuaW1wb3J0IHsgY3JlYXRlLCBsb2FkLCBzYXZlIH0gZnJvbSAnQG9yYW1hL29yYW1hJztcbi8vIEB0cy1leHBlY3QtZXJyb3IgZHBhY2sgZG9lcyBub3QgZXhwb3NlIHR5cGVzXG5pbXBvcnQgKiBhcyBkcGFjayBmcm9tICdkcGFjayc7XG5pbXBvcnQgeyBNRVRIT0RfTU9WRUQsIFVOU1VQUE9SVEVEX0ZPUk1BVCB9IGZyb20gJy4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGRldGVjdFJ1bnRpbWUgfSBmcm9tICcuL3V0aWxzLmpzJztcbmNvbnN0IGhleEZyb21NYXAgPSB7XG4gICAgMDogMCxcbiAgICAxOiAxLFxuICAgIDI6IDIsXG4gICAgMzogMyxcbiAgICA0OiA0LFxuICAgIDU6IDUsXG4gICAgNjogNixcbiAgICA3OiA3LFxuICAgIDg6IDgsXG4gICAgOTogOSxcbiAgICBhOiAxMCxcbiAgICBiOiAxMSxcbiAgICBjOiAxMixcbiAgICBkOiAxMyxcbiAgICBlOiAxNCxcbiAgICBmOiAxNVxufTtcbmNvbnN0IGhleFRvTWFwID0gT2JqZWN0LmtleXMoaGV4RnJvbU1hcCk7XG4vKiBjOCBpZ25vcmUgbmV4dCAxMyAqLyBmdW5jdGlvbiBzbG93SGV4VG9CdWZmZXIoaGV4KSB7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShNYXRoLmZsb29yKGhleC5sZW5ndGggLyAyKSk7XG4gICAgaGV4ID0gaGV4LnRvTG93ZXJDYXNlKCk7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGhleC5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IGEgPSBoZXhGcm9tTWFwW2hleFtpICogMl1dO1xuICAgICAgICBjb25zdCBiID0gaGV4RnJvbU1hcFtoZXhbaSAqIDIgKyAxXV07XG4gICAgICAgIGlmIChhID09PSB1bmRlZmluZWQgfHwgYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBieXRlc1tpXSA9IGEgPDwgNCB8IGI7XG4gICAgfVxuICAgIHJldHVybiBieXRlcztcbn1cbi8qIGM4IGlnbm9yZSBuZXh0IDUgKi8gZnVuY3Rpb24gc2xvd0hleFRvU3RyaW5nKGJ5dGVzKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYnl0ZXMgfHwgW10pLm1hcCgoYik9PmhleFRvTWFwW2IgPj4gNF0gKyBoZXhUb01hcFtiICYgMTVdKS5qb2luKCcnKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwZXJzaXN0KGRiLCBmb3JtYXQgPSAnYmluYXJ5JywgcnVudGltZSkge1xuICAgIGlmICghcnVudGltZSkge1xuICAgICAgICBydW50aW1lID0gZGV0ZWN0UnVudGltZSgpO1xuICAgIH1cbiAgICBjb25zdCBkYkV4cG9ydCA9IGF3YWl0IHNhdmUoZGIpO1xuICAgIGxldCBzZXJpYWxpemVkO1xuICAgIHN3aXRjaChmb3JtYXQpe1xuICAgICAgICBjYXNlICdqc29uJzpcbiAgICAgICAgICAgIHNlcmlhbGl6ZWQgPSBKU09OLnN0cmluZ2lmeShkYkV4cG9ydCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZHBhY2snOlxuICAgICAgICAgICAgc2VyaWFsaXplZCA9IGRwYWNrLnNlcmlhbGl6ZShkYkV4cG9ydCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtc2dwYWNrID0gZW5jb2RlKGRiRXhwb3J0KTtcbiAgICAgICAgICAgICAgICBpZiAocnVudGltZSA9PT0gJ25vZGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlcmlhbGl6ZWQgPSBCdWZmZXIuZnJvbShtc2dwYWNrLmJ1ZmZlciwgbXNncGFjay5ieXRlT2Zmc2V0LCBtc2dwYWNrLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemVkID0gc2VyaWFsaXplZC50b1N0cmluZygnaGV4Jyk7XG4gICAgICAgICAgICAgICAgLyogYzggaWdub3JlIG5leHQgMyAqLyB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemVkID0gc2xvd0hleFRvU3RyaW5nKG1zZ3BhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFVOU1VQUE9SVEVEX0ZPUk1BVChmb3JtYXQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzdG9yZShmb3JtYXQsIGRhdGEsIHJ1bnRpbWUpIHtcbiAgICBpZiAoIXJ1bnRpbWUpIHtcbiAgICAgICAgcnVudGltZSA9IGRldGVjdFJ1bnRpbWUoKTtcbiAgICB9XG4gICAgY29uc3QgZGIgPSBhd2FpdCBjcmVhdGUoe1xuICAgICAgICBzY2hlbWE6IHtcbiAgICAgICAgICAgIF9fcGxhY2Vob2xkZXI6ICdzdHJpbmcnXG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgZGVzZXJpYWxpemVkO1xuICAgIHN3aXRjaChmb3JtYXQpe1xuICAgICAgICBjYXNlICdqc29uJzpcbiAgICAgICAgICAgIGRlc2VyaWFsaXplZCA9IEpTT04ucGFyc2UoZGF0YS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkcGFjayc6XG4gICAgICAgICAgICBkZXNlcmlhbGl6ZWQgPSBkcGFjay5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICAgICAgaWYgKHJ1bnRpbWUgPT09ICdub2RlJykge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBCdWZmZXIuZnJvbShkYXRhLnRvU3RyaW5nKCksICdoZXgnKTtcbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBuZXh0IDMgKi8gfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gc2xvd0hleFRvQnVmZmVyKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVzZXJpYWxpemVkID0gZGVjb2RlKGRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoVU5TVVBQT1JURURfRk9STUFUKGZvcm1hdCkpO1xuICAgIH1cbiAgICBhd2FpdCBsb2FkKGRiLCBkZXNlcmlhbGl6ZWQpO1xuICAgIHJldHVybiBkYjtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwZXJzaXN0VG9GaWxlKGRiLCBmb3JtYXQgPSAnYmluYXJ5JywgcGF0aCwgcnVudGltZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihNRVRIT0RfTU9WRUQoJ3BlcnNpc3RUb0ZpbGUnKSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzdG9yZUZyb21GaWxlKGZvcm1hdCA9ICdiaW5hcnknLCBwYXRoLCBydW50aW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKE1FVEhPRF9NT1ZFRCgncmVzdG9yZUZyb21GaWxlJykpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBDYWxsYmFja01hbmFnZXIsIHBhcnNlQ2FsbGJhY2tDb25maWdBcmcsIH0gZnJvbSBcIi4uL2NhbGxiYWNrcy9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuL3J1bm5hYmxlL2luZGV4LmpzXCI7XG4vKipcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIGEgRG9jdW1lbnQgcmV0cmlldmFsIHN5c3RlbS4gQSByZXRyaWV2YWwgc3lzdGVtXG4gKiBpcyBkZWZpbmVkIGFzIHNvbWV0aGluZyB0aGF0IGNhbiB0YWtlIHN0cmluZyBxdWVyaWVzIGFuZCByZXR1cm4gdGhlXG4gKiBtb3N0ICdyZWxldmFudCcgRG9jdW1lbnRzIGZyb20gc29tZSBzb3VyY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlUmV0cmlldmVyIGV4dGVuZHMgUnVubmFibGUge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjYWxsYmFja3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGFnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXRhZGF0YVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2ZXJib3NlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gZmllbGRzPy5jYWxsYmFja3M7XG4gICAgICAgIHRoaXMudGFncyA9IGZpZWxkcz8udGFncyA/PyBbXTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IGZpZWxkcz8ubWV0YWRhdGEgPz8ge307XG4gICAgICAgIHRoaXMudmVyYm9zZSA9IGZpZWxkcz8udmVyYm9zZSA/PyBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVE9ETzogVGhpcyBzaG91bGQgYmUgYW4gYWJzdHJhY3QgbWV0aG9kLCBidXQgd2UnZCBsaWtlIHRvIGF2b2lkIGJyZWFraW5nXG4gICAgICogY2hhbmdlcyB0byBwZW9wbGUgY3VycmVudGx5IHVzaW5nIHN1YmNsYXNzZWQgY3VzdG9tIHJldHJpZXZlcnMuXG4gICAgICogQ2hhbmdlIGl0IG9uIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICAgKi9cbiAgICBfZ2V0UmVsZXZhbnREb2N1bWVudHMoX3F1ZXJ5LCBfY2FsbGJhY2tzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZCFcIik7XG4gICAgfVxuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZWxldmFudERvY3VtZW50cyhpbnB1dCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1haW4gbWV0aG9kIHVzZWQgdG8gcmV0cmlldmUgcmVsZXZhbnQgZG9jdW1lbnRzLiBJdCB0YWtlcyBhIHF1ZXJ5XG4gICAgICogc3RyaW5nIGFuZCBhbiBvcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdCwgYW5kIHJldHVybnMgYSBwcm9taXNlIHRoYXRcbiAgICAgKiByZXNvbHZlcyB0byBhbiBhcnJheSBvZiBgRG9jdW1lbnRgIG9iamVjdHMuIFRoaXMgbWV0aG9kIGhhbmRsZXMgdGhlXG4gICAgICogcmV0cmlldmFsIHByb2Nlc3MsIGluY2x1ZGluZyBzdGFydGluZyBhbmQgZW5kaW5nIGNhbGxiYWNrcywgYW5kIGVycm9yXG4gICAgICogaGFuZGxpbmcuXG4gICAgICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSBzdHJpbmcgdG8gcmV0cmlldmUgcmVsZXZhbnQgZG9jdW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciB0aGUgcmV0cmlldmFsIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXJyYXkgb2YgYERvY3VtZW50YCBvYmplY3RzLlxuICAgICAqL1xuICAgIGFzeW5jIGdldFJlbGV2YW50RG9jdW1lbnRzKHF1ZXJ5LCBjb25maWcpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkQ29uZmlnID0gcGFyc2VDYWxsYmFja0NvbmZpZ0FyZyhjb25maWcpO1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShwYXJzZWRDb25maWcuY2FsbGJhY2tzLCB0aGlzLmNhbGxiYWNrcywgcGFyc2VkQ29uZmlnLnRhZ3MsIHRoaXMudGFncywgcGFyc2VkQ29uZmlnLm1ldGFkYXRhLCB0aGlzLm1ldGFkYXRhLCB7IHZlcmJvc2U6IHRoaXMudmVyYm9zZSB9KTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZVJldHJpZXZlclN0YXJ0KHRoaXMudG9KU09OKCksIHF1ZXJ5LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHBhcnNlZENvbmZpZy5ydW5OYW1lKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLl9nZXRSZWxldmFudERvY3VtZW50cyhxdWVyeSwgcnVuTWFuYWdlcik7XG4gICAgICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVSZXRyaWV2ZXJFbmQocmVzdWx0cyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZVJldHJpZXZlckVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZVJldHJpZXZlciB9IGZyb20gXCIuLi9zY2hlbWEvcmV0cmlldmVyLmpzXCI7XG5pbXBvcnQgeyBTZXJpYWxpemFibGUgfSBmcm9tIFwiLi4vbG9hZC9zZXJpYWxpemFibGUuanNcIjtcbi8qKlxuICogQ2xhc3MgZm9yIHBlcmZvcm1pbmcgZG9jdW1lbnQgcmV0cmlldmFsIGZyb20gYSBWZWN0b3JTdG9yZS4gQ2FuIHBlcmZvcm1cbiAqIHNpbWlsYXJpdHkgc2VhcmNoIG9yIG1heGltYWwgbWFyZ2luYWwgcmVsZXZhbmNlIHNlYXJjaC5cbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvclN0b3JlUmV0cmlldmVyIGV4dGVuZHMgQmFzZVJldHJpZXZlciB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlZlY3RvclN0b3JlUmV0cmlldmVyXCI7XG4gICAgfVxuICAgIGdldCBsY19uYW1lc3BhY2UoKSB7XG4gICAgICAgIHJldHVybiBbXCJsYW5nY2hhaW5cIiwgXCJyZXRyaWV2ZXJzXCIsIFwiYmFzZVwiXTtcbiAgICB9XG4gICAgX3ZlY3RvcnN0b3JlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVjdG9yU3RvcmUuX3ZlY3RvcnN0b3JlVHlwZSgpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmVjdG9yU3RvcmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwia1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogNFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2VhcmNoVHlwZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJzaW1pbGFyaXR5XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlYXJjaEt3YXJnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmaWx0ZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZWN0b3JTdG9yZSA9IGZpZWxkcy52ZWN0b3JTdG9yZTtcbiAgICAgICAgdGhpcy5rID0gZmllbGRzLmsgPz8gdGhpcy5rO1xuICAgICAgICB0aGlzLnNlYXJjaFR5cGUgPSBmaWVsZHMuc2VhcmNoVHlwZSA/PyB0aGlzLnNlYXJjaFR5cGU7XG4gICAgICAgIHRoaXMuZmlsdGVyID0gZmllbGRzLmZpbHRlcjtcbiAgICAgICAgaWYgKGZpZWxkcy5zZWFyY2hUeXBlID09PSBcIm1tclwiKSB7XG4gICAgICAgICAgICB0aGlzLnNlYXJjaEt3YXJncyA9IGZpZWxkcy5zZWFyY2hLd2FyZ3M7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2dldFJlbGV2YW50RG9jdW1lbnRzKHF1ZXJ5LCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGlmICh0aGlzLnNlYXJjaFR5cGUgPT09IFwibW1yXCIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy52ZWN0b3JTdG9yZS5tYXhNYXJnaW5hbFJlbGV2YW5jZVNlYXJjaCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgdmVjdG9yIHN0b3JlIGJhY2tpbmcgdGhpcyByZXRyaWV2ZXIsICR7dGhpcy5fdmVjdG9yc3RvcmVUeXBlKCl9IGRvZXMgbm90IHN1cHBvcnQgbWF4IG1hcmdpbmFsIHJlbGV2YW5jZSBzZWFyY2guYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52ZWN0b3JTdG9yZS5tYXhNYXJnaW5hbFJlbGV2YW5jZVNlYXJjaChxdWVyeSwge1xuICAgICAgICAgICAgICAgIGs6IHRoaXMuayxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHRoaXMuZmlsdGVyLFxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2VhcmNoS3dhcmdzLFxuICAgICAgICAgICAgfSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoXCJ2ZWN0b3JzdG9yZVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmVjdG9yU3RvcmUuc2ltaWxhcml0eVNlYXJjaChxdWVyeSwgdGhpcy5rLCB0aGlzLmZpbHRlciwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoXCJ2ZWN0b3JzdG9yZVwiKSk7XG4gICAgfVxuICAgIGFzeW5jIGFkZERvY3VtZW50cyhkb2N1bWVudHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVjdG9yU3RvcmUuYWRkRG9jdW1lbnRzKGRvY3VtZW50cywgb3B0aW9ucyk7XG4gICAgfVxufVxuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyByZXByZXNlbnRpbmcgYSBzdG9yZSBvZiB2ZWN0b3JzLiBQcm92aWRlcyBtZXRob2RzIGZvclxuICogYWRkaW5nIHZlY3RvcnMgYW5kIGRvY3VtZW50cywgZGVsZXRpbmcgZnJvbSB0aGUgc3RvcmUsIGFuZCBzZWFyY2hpbmdcbiAqIHRoZSBzdG9yZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvclN0b3JlIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0cnVjdG9yKGVtYmVkZGluZ3MsIGRiQ29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGRiQ29uZmlnKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJ2ZWN0b3JzdG9yZXNcIiwgdGhpcy5fdmVjdG9yc3RvcmVUeXBlKCldXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJlbWJlZGRpbmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZW1iZWRkaW5ncyA9IGVtYmVkZGluZ3M7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgYXN5bmMgZGVsZXRlKF9wYXJhbXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gICAgYXN5bmMgc2ltaWxhcml0eVNlYXJjaChxdWVyeSwgayA9IDQsIGZpbHRlciA9IHVuZGVmaW5lZCwgX2NhbGxiYWNrcyA9IHVuZGVmaW5lZCAvLyBpbXBsZW1lbnQgcGFzc2luZyB0byBlbWJlZFF1ZXJ5IGxhdGVyXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLnNpbWlsYXJpdHlTZWFyY2hWZWN0b3JXaXRoU2NvcmUoYXdhaXQgdGhpcy5lbWJlZGRpbmdzLmVtYmVkUXVlcnkocXVlcnkpLCBrLCBmaWx0ZXIpO1xuICAgICAgICByZXR1cm4gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gcmVzdWx0WzBdKTtcbiAgICB9XG4gICAgYXN5bmMgc2ltaWxhcml0eVNlYXJjaFdpdGhTY29yZShxdWVyeSwgayA9IDQsIGZpbHRlciA9IHVuZGVmaW5lZCwgX2NhbGxiYWNrcyA9IHVuZGVmaW5lZCAvLyBpbXBsZW1lbnQgcGFzc2luZyB0byBlbWJlZFF1ZXJ5IGxhdGVyXG4gICAgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpbWlsYXJpdHlTZWFyY2hWZWN0b3JXaXRoU2NvcmUoYXdhaXQgdGhpcy5lbWJlZGRpbmdzLmVtYmVkUXVlcnkocXVlcnkpLCBrLCBmaWx0ZXIpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVRleHRzKF90ZXh0cywgX21ldGFkYXRhcywgX2VtYmVkZGluZ3MsIFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgX2RiQ29uZmlnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInRoZSBMYW5nY2hhaW4gdmVjdG9yc3RvcmUgaW1wbGVtZW50YXRpb24geW91IGFyZSB1c2luZyBmb3Jnb3QgdG8gb3ZlcnJpZGUgdGhpcywgcGxlYXNlIHJlcG9ydCBhIGJ1Z1wiKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21Eb2N1bWVudHMoX2RvY3MsIF9lbWJlZGRpbmdzLCBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9kYkNvbmZpZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0aGUgTGFuZ2NoYWluIHZlY3RvcnN0b3JlIGltcGxlbWVudGF0aW9uIHlvdSBhcmUgdXNpbmcgZm9yZ290IHRvIG92ZXJyaWRlIHRoaXMsIHBsZWFzZSByZXBvcnQgYSBidWdcIik7XG4gICAgfVxuICAgIGFzUmV0cmlldmVyKGtPckZpZWxkcywgZmlsdGVyLCBjYWxsYmFja3MsIHRhZ3MsIG1ldGFkYXRhLCB2ZXJib3NlKSB7XG4gICAgICAgIGlmICh0eXBlb2Yga09yRmllbGRzID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZlY3RvclN0b3JlUmV0cmlldmVyKHtcbiAgICAgICAgICAgICAgICB2ZWN0b3JTdG9yZTogdGhpcyxcbiAgICAgICAgICAgICAgICBrOiBrT3JGaWVsZHMsXG4gICAgICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgICAgIHRhZ3M6IFsuLi4odGFncyA/PyBbXSksIHRoaXMuX3ZlY3RvcnN0b3JlVHlwZSgpXSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB2ZXJib3NlLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHZlY3RvclN0b3JlOiB0aGlzLFxuICAgICAgICAgICAgICAgIGs6IGtPckZpZWxkcz8uayxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IGtPckZpZWxkcz8uZmlsdGVyLFxuICAgICAgICAgICAgICAgIHRhZ3M6IFsuLi4oa09yRmllbGRzPy50YWdzID8/IFtdKSwgdGhpcy5fdmVjdG9yc3RvcmVUeXBlKCldLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBrT3JGaWVsZHM/Lm1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIHZlcmJvc2U6IGtPckZpZWxkcz8udmVyYm9zZSxcbiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IGtPckZpZWxkcz8uY2FsbGJhY2tzLFxuICAgICAgICAgICAgICAgIHNlYXJjaFR5cGU6IGtPckZpZWxkcz8uc2VhcmNoVHlwZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoa09yRmllbGRzPy5zZWFyY2hUeXBlID09PSBcIm1tclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3JTdG9yZVJldHJpZXZlcih7XG4gICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoS3dhcmdzOiBrT3JGaWVsZHMuc2VhcmNoS3dhcmdzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3JTdG9yZVJldHJpZXZlcih7IC4uLnBhcmFtcyB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQWJzdHJhY3QgY2xhc3MgZXh0ZW5kaW5nIFZlY3RvclN0b3JlIHdpdGggZnVuY3Rpb25hbGl0eSBmb3Igc2F2aW5nIGFuZFxuICogbG9hZGluZyB0aGUgdmVjdG9yIHN0b3JlLlxuICovXG5leHBvcnQgY2xhc3MgU2F2ZWFibGVWZWN0b3JTdG9yZSBleHRlbmRzIFZlY3RvclN0b3JlIHtcbiAgICBzdGF0aWMgbG9hZChfZGlyZWN0b3J5LCBfZW1iZWRkaW5ncykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQXN5bmNDYWxsZXIgfSBmcm9tIFwiLi4vdXRpbC9hc3luY19jYWxsZXIuanNcIjtcbi8qKlxuICogQW4gYWJzdHJhY3QgY2xhc3MgdGhhdCBwcm92aWRlcyBtZXRob2RzIGZvciBlbWJlZGRpbmcgZG9jdW1lbnRzIGFuZFxuICogcXVlcmllcyB1c2luZyBMYW5nQ2hhaW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBFbWJlZGRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhc3luYyBjYWxsZXIgc2hvdWxkIGJlIHVzZWQgYnkgc3ViY2xhc3NlcyB0byBtYWtlIGFueSBhc3luYyBjYWxscyxcbiAgICAgICAgICogd2hpY2ggd2lsbCB0aHVzIGJlbmVmaXQgZnJvbSB0aGUgY29uY3VycmVuY3kgYW5kIHJldHJ5IGxvZ2ljLlxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FsbGVyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2FsbGVyID0gbmV3IEFzeW5jQ2FsbGVyKHBhcmFtcyA/PyB7fSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgT3BlbkFJIGFzIE9wZW5BSUNsaWVudCB9IGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi4vdXRpbC9lbnYuanNcIjtcbmltcG9ydCB7IGNodW5rQXJyYXkgfSBmcm9tIFwiLi4vdXRpbC9jaHVuay5qc1wiO1xuaW1wb3J0IHsgRW1iZWRkaW5ncyB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IGdldEVuZHBvaW50IH0gZnJvbSBcIi4uL3V0aWwvYXp1cmUuanNcIjtcbmltcG9ydCB7IHdyYXBPcGVuQUlDbGllbnRFcnJvciB9IGZyb20gXCIuLi91dGlsL29wZW5haS5qc1wiO1xuLyoqXG4gKiBDbGFzcyBmb3IgZ2VuZXJhdGluZyBlbWJlZGRpbmdzIHVzaW5nIHRoZSBPcGVuQUkgQVBJLiBFeHRlbmRzIHRoZVxuICogRW1iZWRkaW5ncyBjbGFzcyBhbmQgaW1wbGVtZW50cyBPcGVuQUlFbWJlZGRpbmdzUGFyYW1zIGFuZFxuICogQXp1cmVPcGVuQUlJbnB1dC5cbiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5BSUVtYmVkZGluZ3MgZXh0ZW5kcyBFbWJlZGRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgY29uc3QgZmllbGRzV2l0aERlZmF1bHRzID0geyBtYXhDb25jdXJyZW5jeTogMiwgLi4uZmllbGRzIH07XG4gICAgICAgIHN1cGVyKGZpZWxkc1dpdGhEZWZhdWx0cyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1vZGVsTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJ0ZXh0LWVtYmVkZGluZy1hZGEtMDAyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJhdGNoU2l6ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogNTEyXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJpcE5ld0xpbmVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aW1lb3V0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpVmVyc2lvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaUtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQmFzZVBhdGhcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudENvbmZpZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgYXBpS2V5ID0gZmllbGRzV2l0aERlZmF1bHRzPy5vcGVuQUlBcGlLZXkgPz9cbiAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJPUEVOQUlfQVBJX0tFWVwiKTtcbiAgICAgICAgY29uc3QgYXp1cmVBcGlLZXkgPSBmaWVsZHNXaXRoRGVmYXVsdHM/LmF6dXJlT3BlbkFJQXBpS2V5ID8/XG4gICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIGlmICghYXp1cmVBcGlLZXkgJiYgIWFwaUtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3BlbkFJIG9yIEF6dXJlIE9wZW5BSSBBUEkga2V5IG5vdCBmb3VuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhenVyZUFwaUluc3RhbmNlTmFtZSA9IGZpZWxkc1dpdGhEZWZhdWx0cz8uYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPz9cbiAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVcIik7XG4gICAgICAgIGNvbnN0IGF6dXJlQXBpRGVwbG95bWVudE5hbWUgPSAoZmllbGRzV2l0aERlZmF1bHRzPy5henVyZU9wZW5BSUFwaUVtYmVkZGluZ3NEZXBsb3ltZW50TmFtZSB8fFxuICAgICAgICAgICAgZmllbGRzV2l0aERlZmF1bHRzPy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSA/P1xuICAgICAgICAgICAgKGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0VNQkVERElOR1NfREVQTE9ZTUVOVF9OQU1FXCIpIHx8XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FXCIpKTtcbiAgICAgICAgY29uc3QgYXp1cmVBcGlWZXJzaW9uID0gZmllbGRzV2l0aERlZmF1bHRzPy5henVyZU9wZW5BSUFwaVZlcnNpb24gPz9cbiAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05cIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aCA9XG4gICAgICAgICAgICBmaWVsZHNXaXRoRGVmYXVsdHM/LmF6dXJlT3BlbkFJQmFzZVBhdGggPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0JBU0VfUEFUSFwiKTtcbiAgICAgICAgdGhpcy5tb2RlbE5hbWUgPSBmaWVsZHNXaXRoRGVmYXVsdHM/Lm1vZGVsTmFtZSA/PyB0aGlzLm1vZGVsTmFtZTtcbiAgICAgICAgdGhpcy5iYXRjaFNpemUgPVxuICAgICAgICAgICAgZmllbGRzV2l0aERlZmF1bHRzPy5iYXRjaFNpemUgPz8gKGF6dXJlQXBpS2V5ID8gMSA6IHRoaXMuYmF0Y2hTaXplKTtcbiAgICAgICAgdGhpcy5zdHJpcE5ld0xpbmVzID1cbiAgICAgICAgICAgIGZpZWxkc1dpdGhEZWZhdWx0cz8uc3RyaXBOZXdMaW5lcyA/PyB0aGlzLnN0cmlwTmV3TGluZXM7XG4gICAgICAgIHRoaXMudGltZW91dCA9IGZpZWxkc1dpdGhEZWZhdWx0cz8udGltZW91dDtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24gPSBhenVyZUFwaVZlcnNpb247XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkgPSBhenVyZUFwaUtleTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSA9IGF6dXJlQXBpSW5zdGFuY2VOYW1lO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgPSBhenVyZUFwaURlcGxveW1lbnROYW1lO1xuICAgICAgICBpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lICYmICF0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGluc3RhbmNlIG5hbWUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGRlcGxveW1lbnQgbmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIEFQSSB2ZXJzaW9uIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFwaUtleSA9IGFwaUtleSA/PyBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xpZW50Q29uZmlnID0ge1xuICAgICAgICAgICAgYXBpS2V5LFxuICAgICAgICAgICAgYmFzZVVSTDogY29uZmlndXJhdGlvbj8uYmFzZVBhdGgsXG4gICAgICAgICAgICBkYW5nZXJvdXNseUFsbG93QnJvd3NlcjogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmF1bHRIZWFkZXJzOiBjb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIGRlZmF1bHRRdWVyeTogY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LnBhcmFtcyxcbiAgICAgICAgICAgIC4uLmNvbmZpZ3VyYXRpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBnZW5lcmF0ZSBlbWJlZGRpbmdzIGZvciBhbiBhcnJheSBvZiBkb2N1bWVudHMuIFNwbGl0cyB0aGVcbiAgICAgKiBkb2N1bWVudHMgaW50byBiYXRjaGVzIGFuZCBtYWtlcyByZXF1ZXN0cyB0byB0aGUgT3BlbkFJIEFQSSB0byBnZW5lcmF0ZVxuICAgICAqIGVtYmVkZGluZ3MuXG4gICAgICogQHBhcmFtIHRleHRzIEFycmF5IG9mIGRvY3VtZW50cyB0byBnZW5lcmF0ZSBlbWJlZGRpbmdzIGZvci5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSAyRCBhcnJheSBvZiBlbWJlZGRpbmdzIGZvciBlYWNoIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGFzeW5jIGVtYmVkRG9jdW1lbnRzKHRleHRzKSB7XG4gICAgICAgIGNvbnN0IGJhdGNoZXMgPSBjaHVua0FycmF5KHRoaXMuc3RyaXBOZXdMaW5lcyA/IHRleHRzLm1hcCgodCkgPT4gdC5yZXBsYWNlKC9cXG4vZywgXCIgXCIpKSA6IHRleHRzLCB0aGlzLmJhdGNoU2l6ZSk7XG4gICAgICAgIGNvbnN0IGJhdGNoUmVxdWVzdHMgPSBiYXRjaGVzLm1hcCgoYmF0Y2gpID0+IHRoaXMuZW1iZWRkaW5nV2l0aFJldHJ5KHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIGlucHV0OiBiYXRjaCxcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBiYXRjaFJlc3BvbnNlcyA9IGF3YWl0IFByb21pc2UuYWxsKGJhdGNoUmVxdWVzdHMpO1xuICAgICAgICBjb25zdCBlbWJlZGRpbmdzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmF0Y2hSZXNwb25zZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogYmF0Y2hSZXNwb25zZSB9ID0gYmF0Y2hSZXNwb25zZXNbaV07XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJhdGNoLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgZW1iZWRkaW5ncy5wdXNoKGJhdGNoUmVzcG9uc2Vbal0uZW1iZWRkaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW1iZWRkaW5ncztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdlbmVyYXRlIGFuIGVtYmVkZGluZyBmb3IgYSBzaW5nbGUgZG9jdW1lbnQuIENhbGxzIHRoZVxuICAgICAqIGVtYmVkZGluZ1dpdGhSZXRyeSBtZXRob2Qgd2l0aCB0aGUgZG9jdW1lbnQgYXMgdGhlIGlucHV0LlxuICAgICAqIEBwYXJhbSB0ZXh0IERvY3VtZW50IHRvIGdlbmVyYXRlIGFuIGVtYmVkZGluZyBmb3IuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIGVtYmVkZGluZyBmb3IgdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGFzeW5jIGVtYmVkUXVlcnkodGV4dCkge1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuZW1iZWRkaW5nV2l0aFJldHJ5KHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIGlucHV0OiB0aGlzLnN0cmlwTmV3TGluZXMgPyB0ZXh0LnJlcGxhY2UoL1xcbi9nLCBcIiBcIikgOiB0ZXh0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRhdGFbMF0uZW1iZWRkaW5nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcml2YXRlIG1ldGhvZCB0byBtYWtlIGEgcmVxdWVzdCB0byB0aGUgT3BlbkFJIEFQSSB0byBnZW5lcmF0ZVxuICAgICAqIGVtYmVkZGluZ3MuIEhhbmRsZXMgdGhlIHJldHJ5IGxvZ2ljIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZSBmcm9tIHRoZVxuICAgICAqIEFQSS5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdCBSZXF1ZXN0IHRvIHNlbmQgdG8gdGhlIE9wZW5BSSBBUEkuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gICAgICovXG4gICAgYXN5bmMgZW1iZWRkaW5nV2l0aFJldHJ5KHJlcXVlc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgY29uc3Qgb3BlbkFJRW5kcG9pbnRDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZTogdGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lLFxuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lOiB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lLFxuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpS2V5OiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQmFzZVBhdGg6IHRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aCxcbiAgICAgICAgICAgICAgICBiYXNlVVJMOiB0aGlzLmNsaWVudENvbmZpZy5iYXNlVVJMLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50ID0gZ2V0RW5kcG9pbnQob3BlbkFJRW5kcG9pbnRDb25maWcpO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuY2xpZW50Q29uZmlnLFxuICAgICAgICAgICAgICAgIGJhc2VVUkw6IGVuZHBvaW50LFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IHRoaXMudGltZW91dCxcbiAgICAgICAgICAgICAgICBtYXhSZXRyaWVzOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICghcGFyYW1zLmJhc2VVUkwpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW1zLmJhc2VVUkw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNsaWVudCA9IG5ldyBPcGVuQUlDbGllbnQocGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHt9O1xuICAgICAgICBpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgICBcImFwaS1rZXlcIjogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0T3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLnF1ZXJ5ID0ge1xuICAgICAgICAgICAgICAgIFwiYXBpLXZlcnNpb25cIjogdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24sXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdE9wdGlvbnMucXVlcnksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxlci5jYWxsKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZW1iZWRkaW5ncy5jcmVhdGUocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gd3JhcE9wZW5BSUNsaWVudEVycm9yKGUpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCIuL3J1bm5hYmxlL2luZGV4LmpzXCI7XG4vKipcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIHBhcnNpbmcgdGhlIG91dHB1dCBvZiBhIExhcmdlIExhbmd1YWdlIE1vZGVsXG4gKiAoTExNKSBjYWxsLiBJdCBwcm92aWRlcyBtZXRob2RzIGZvciBwYXJzaW5nIHRoZSByZXN1bHQgb2YgYW4gTExNIGNhbGxcbiAqIGFuZCBpbnZva2luZyB0aGUgcGFyc2VyIHdpdGggYSBnaXZlbiBpbnB1dC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VMTE1PdXRwdXRQYXJzZXIgZXh0ZW5kcyBSdW5uYWJsZSB7XG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRoZSByZXN1bHQgb2YgYW4gTExNIGNhbGwgd2l0aCBhIGdpdmVuIHByb21wdC4gQnkgZGVmYXVsdCwgaXRcbiAgICAgKiBzaW1wbHkgY2FsbHMgYHBhcnNlUmVzdWx0YC5cbiAgICAgKiBAcGFyYW0gZ2VuZXJhdGlvbnMgVGhlIGdlbmVyYXRpb25zIGZyb20gYW4gTExNIGNhbGwuXG4gICAgICogQHBhcmFtIF9wcm9tcHQgVGhlIHByb21wdCB1c2VkIGluIHRoZSBMTE0gY2FsbC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIE9wdGlvbmFsIGNhbGxiYWNrcy5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIHBhcnNlZCBvdXRwdXQuXG4gICAgICovXG4gICAgcGFyc2VSZXN1bHRXaXRoUHJvbXB0KGdlbmVyYXRpb25zLCBfcHJvbXB0LCBjYWxsYmFja3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VSZXN1bHQoZ2VuZXJhdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBwYXJzZXIgd2l0aCBhIGdpdmVuIGlucHV0IGFuZCBvcHRpb25hbCBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAgICogSWYgdGhlIGlucHV0IGlzIGEgc3RyaW5nLCBpdCBjcmVhdGVzIGEgZ2VuZXJhdGlvbiB3aXRoIHRoZSBpbnB1dCBhc1xuICAgICAqIHRleHQgYW5kIGNhbGxzIGBwYXJzZVJlc3VsdGAuIElmIHRoZSBpbnB1dCBpcyBhIGBCYXNlTWVzc2FnZWAsIGl0XG4gICAgICogY3JlYXRlcyBhIGdlbmVyYXRpb24gd2l0aCB0aGUgaW5wdXQgYXMgYSBtZXNzYWdlIGFuZCB0aGUgY29udGVudCBvZiB0aGVcbiAgICAgKiBpbnB1dCBhcyB0ZXh0LCBhbmQgdGhlbiBjYWxscyBgcGFyc2VSZXN1bHRgLlxuICAgICAqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdG8gdGhlIHBhcnNlciwgd2hpY2ggY2FuIGJlIGEgc3RyaW5nIG9yIGEgYEJhc2VNZXNzYWdlYC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBwYXJzZWQgb3V0cHV0LlxuICAgICAqL1xuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcoYXN5bmMgKGlucHV0KSA9PiB0aGlzLnBhcnNlUmVzdWx0KFt7IHRleHQ6IGlucHV0IH1dKSwgaW5wdXQsIHsgLi4ub3B0aW9ucywgcnVuVHlwZTogXCJwYXJzZXJcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWxsV2l0aENvbmZpZyhhc3luYyAoaW5wdXQpID0+IHRoaXMucGFyc2VSZXN1bHQoW3sgbWVzc2FnZTogaW5wdXQsIHRleHQ6IGlucHV0LmNvbnRlbnQgfV0pLCBpbnB1dCwgeyAuLi5vcHRpb25zLCBydW5UeXBlOiBcInBhcnNlclwiIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyB0byBwYXJzZSB0aGUgb3V0cHV0IG9mIGFuIExMTSBjYWxsLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZU91dHB1dFBhcnNlciBleHRlbmRzIEJhc2VMTE1PdXRwdXRQYXJzZXIge1xuICAgIHBhcnNlUmVzdWx0KGdlbmVyYXRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2UoZ2VuZXJhdGlvbnNbMF0udGV4dCwgY2FsbGJhY2tzKTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VXaXRoUHJvbXB0KHRleHQsIF9wcm9tcHQsIGNhbGxiYWNrcykge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZSh0ZXh0LCBjYWxsYmFja3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHN0cmluZyB0eXBlIGtleSB1bmlxdWVseSBpZGVudGlmeWluZyB0aGlzIGNsYXNzIG9mIHBhcnNlclxuICAgICAqL1xuICAgIF90eXBlKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJfdHlwZSBub3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyB0byBwYXJzZSB0aGUgb3V0cHV0IG9mIGFuIExMTSBjYWxsIHRoYXQgYWxzbyBhbGxvd3Mgc3RyZWFtaW5nIGlucHV0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXIgZXh0ZW5kcyBCYXNlT3V0cHV0UGFyc2VyIHtcbiAgICBhc3luYyAqX3RyYW5zZm9ybShpbnB1dEdlbmVyYXRvcikge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGlucHV0R2VuZXJhdG9yKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNodW5rID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5wYXJzZVJlc3VsdChbeyB0ZXh0OiBjaHVuayB9XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLnBhcnNlUmVzdWx0KFt7IG1lc3NhZ2U6IGNodW5rLCB0ZXh0OiBjaHVuay5jb250ZW50IH1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGFuIGFzeW5jaHJvbm91cyBnZW5lcmF0b3Igb2YgaW5wdXQgaW50byBhbiBhc3luY2hyb25vdXNcbiAgICAgKiBnZW5lcmF0b3Igb2YgcGFyc2VkIG91dHB1dC5cbiAgICAgKiBAcGFyYW0gaW5wdXRHZW5lcmF0b3IgQW4gYXN5bmNocm9ub3VzIGdlbmVyYXRvciBvZiBpbnB1dC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBBIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIEFuIGFzeW5jaHJvbm91cyBnZW5lcmF0b3Igb2YgcGFyc2VkIG91dHB1dC5cbiAgICAgKi9cbiAgICBhc3luYyAqdHJhbnNmb3JtKGlucHV0R2VuZXJhdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIHlpZWxkKiB0aGlzLl90cmFuc2Zvcm1TdHJlYW1XaXRoQ29uZmlnKGlucHV0R2VuZXJhdG9yLCB0aGlzLl90cmFuc2Zvcm0uYmluZCh0aGlzKSwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIHJ1blR5cGU6IFwicGFyc2VyXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogT3V0cHV0UGFyc2VyIHRoYXQgcGFyc2VzIExMTVJlc3VsdCBpbnRvIHRoZSB0b3AgbGlrZWx5IHN0cmluZy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmluZ091dHB1dFBhcnNlciBleHRlbmRzIEJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInNjaGVtYVwiLCBcIm91dHB1dF9wYXJzZXJcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlN0ck91dHB1dFBhcnNlclwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBzdHJpbmcgb3V0cHV0IGZyb20gYW4gTExNIGNhbGwuIFRoaXMgbWV0aG9kIGlzIG1lYW50IHRvIGJlXG4gICAgICogaW1wbGVtZW50ZWQgYnkgc3ViY2xhc3NlcyB0byBkZWZpbmUgaG93IGEgc3RyaW5nIG91dHB1dCBmcm9tIGFuIExMTVxuICAgICAqIHNob3VsZCBiZSBwYXJzZWQuXG4gICAgICogQHBhcmFtIHRleHQgVGhlIHN0cmluZyBvdXRwdXQgZnJvbSBhbiBMTE0gY2FsbC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIE9wdGlvbmFsIGNhbGxiYWNrcy5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIHBhcnNlZCBvdXRwdXQuXG4gICAgICovXG4gICAgcGFyc2UodGV4dCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRleHQpO1xuICAgIH1cbiAgICBnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbn1cbi8qKlxuICogT3V0cHV0UGFyc2VyIHRoYXQgcGFyc2VzIExMTVJlc3VsdCBpbnRvIHRoZSB0b3AgbGlrZWx5IHN0cmluZyBhbmRcbiAqIGVuY29kZXMgaXQgaW50byBieXRlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJ5dGVzT3V0cHV0UGFyc2VyIGV4dGVuZHMgQmFzZVRyYW5zZm9ybU91dHB1dFBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwic2NoZW1hXCIsIFwib3V0cHV0X3BhcnNlclwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZXh0RW5jb2RlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogbmV3IFRleHRFbmNvZGVyKClcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJCeXRlc091dHB1dFBhcnNlclwiO1xuICAgIH1cbiAgICBwYXJzZSh0ZXh0KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy50ZXh0RW5jb2Rlci5lbmNvZGUodGV4dCkpO1xuICAgIH1cbiAgICBnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbn1cbi8qKlxuICogRXhjZXB0aW9uIHRoYXQgb3V0cHV0IHBhcnNlcnMgc2hvdWxkIHJhaXNlIHRvIHNpZ25pZnkgYSBwYXJzaW5nIGVycm9yLlxuICpcbiAqIFRoaXMgZXhpc3RzIHRvIGRpZmZlcmVudGlhdGUgcGFyc2luZyBlcnJvcnMgZnJvbSBvdGhlciBjb2RlIG9yIGV4ZWN1dGlvbiBlcnJvcnNcbiAqIHRoYXQgYWxzbyBtYXkgYXJpc2UgaW5zaWRlIHRoZSBvdXRwdXQgcGFyc2VyLiBPdXRwdXRQYXJzZXJFeGNlcHRpb25zIHdpbGwgYmVcbiAqIGF2YWlsYWJsZSB0byBjYXRjaCBhbmQgaGFuZGxlIGluIHdheXMgdG8gZml4IHRoZSBwYXJzaW5nIGVycm9yLCB3aGlsZSBvdGhlclxuICogZXJyb3JzIHdpbGwgYmUgcmFpc2VkLlxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIC0gVGhlIGVycm9yIHRoYXQncyBiZWluZyByZS1yYWlzZWQgb3IgYW4gZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSBsbG1PdXRwdXQgLSBTdHJpbmcgbW9kZWwgb3V0cHV0IHdoaWNoIGlzIGVycm9yLWluZy5cbiAqIEBwYXJhbSBvYnNlcnZhdGlvbiAtIFN0cmluZyBleHBsYW5hdGlvbiBvZiBlcnJvciB3aGljaCBjYW4gYmUgcGFzc2VkIHRvIGFcbiAqICAgICBtb2RlbCB0byB0cnkgYW5kIHJlbWVkaWF0ZSB0aGUgaXNzdWUuXG4gKiBAcGFyYW0gc2VuZFRvTExNIC0gV2hldGhlciB0byBzZW5kIHRoZSBvYnNlcnZhdGlvbiBhbmQgbGxtX291dHB1dCBiYWNrIHRvIGFuIEFnZW50XG4gKiAgICAgYWZ0ZXIgYW4gT3V0cHV0UGFyc2VyRXhjZXB0aW9uIGhhcyBiZWVuIHJhaXNlZC4gVGhpcyBnaXZlcyB0aGUgdW5kZXJseWluZ1xuICogICAgIG1vZGVsIGRyaXZpbmcgdGhlIGFnZW50IHRoZSBjb250ZXh0IHRoYXQgdGhlIHByZXZpb3VzIG91dHB1dCB3YXMgaW1wcm9wZXJseVxuICogICAgIHN0cnVjdHVyZWQsIGluIHRoZSBob3BlcyB0aGF0IGl0IHdpbGwgdXBkYXRlIHRoZSBvdXRwdXQgdG8gdGhlIGNvcnJlY3RcbiAqICAgICBmb3JtYXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBPdXRwdXRQYXJzZXJFeGNlcHRpb24gZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgbGxtT3V0cHV0LCBvYnNlcnZhdGlvbiwgc2VuZFRvTExNID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxsbU91dHB1dFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvYnNlcnZhdGlvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZW5kVG9MTE1cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sbG1PdXRwdXQgPSBsbG1PdXRwdXQ7XG4gICAgICAgIHRoaXMub2JzZXJ2YXRpb24gPSBvYnNlcnZhdGlvbjtcbiAgICAgICAgdGhpcy5zZW5kVG9MTE0gPSBzZW5kVG9MTE07XG4gICAgICAgIGlmIChzZW5kVG9MTE0pIHtcbiAgICAgICAgICAgIGlmIChvYnNlcnZhdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGxsbU91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnRzICdvYnNlcnZhdGlvbicgJiAnbGxtT3V0cHV0JyBhcmUgcmVxdWlyZWQgaWYgJ3NlbmRUb0xsbScgaXMgdHJ1ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIHNyYy9TZWNvbmRCcmFpbi50c1xuaW1wb3J0IHsgUnVubmFibGVQYXNzdGhyb3VnaCwgUnVubmFibGVTZXF1ZW5jZSB9IGZyb20gXCJsYW5nY2hhaW4vc2NoZW1hL3J1bm5hYmxlXCI7XG5pbXBvcnQgeyBPcGVuQUlDaGF0IH0gZnJvbSBcImxhbmdjaGFpbi9sbG1zL29wZW5haVwiO1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwibGFuZ2NoYWluL3Byb21wdHNcIjtcblxuLy8gc3JjL1ZlY3RvclN0b3JlLnRzXG5pbXBvcnQgeyBjcmVhdGUsIGluc2VydE11bHRpcGxlLCByZW1vdmVNdWx0aXBsZSwgc2VhcmNoLCBzZWFyY2hWZWN0b3IgfSBmcm9tIFwiQG9yYW1hL29yYW1hXCI7XG5pbXBvcnQgeyBwZXJzaXN0LCByZXN0b3JlIH0gZnJvbSBcIkBvcmFtYS9wbHVnaW4tZGF0YS1wZXJzaXN0ZW5jZVwiO1xuaW1wb3J0IHsgVmVjdG9yU3RvcmUgfSBmcm9tIFwibGFuZ2NoYWluL3ZlY3RvcnN0b3Jlcy9iYXNlXCI7XG5pbXBvcnQgeyBEb2N1bWVudCB9IGZyb20gXCJsYW5nY2hhaW4vZG9jdW1lbnRcIjtcbnZhciB2ZWN0b3JTdG9yZVNjaGVtYSA9IHtcbiAgaWQ6IFwic3RyaW5nXCIsXG4gIGZpbGVuYW1lOiBcInN0cmluZ1wiLFxuICBjb250ZW50OiBcInN0cmluZ1wiLFxuICBlbWJlZGRpbmc6IFwidmVjdG9yWzE1MzZdXCJcbn07XG52YXIgT3JhbWFTdG9yZSA9IGNsYXNzIGV4dGVuZHMgVmVjdG9yU3RvcmUge1xuICBjb25zdHJ1Y3RvcihlbWJlZGRpbmdzLCBhcmdzKSB7XG4gICAgc3VwZXIoZW1iZWRkaW5ncywgYXJncyk7XG4gICAgdGhpcy5lbWJlZGRpbmdzID0gZW1iZWRkaW5ncztcbiAgICB0aGlzLmRiID0gY3JlYXRlKHtcbiAgICAgIHNjaGVtYTogdmVjdG9yU3RvcmVTY2hlbWEsXG4gICAgICBpZDogYXJncy5pbmRleE5hbWVcbiAgICB9KTtcbiAgfVxuICBfdmVjdG9yc3RvcmVUeXBlKCkge1xuICAgIHJldHVybiBcIk9yYW1hU3RvcmVcIjtcbiAgfVxuICBhc3luYyByZW1vdmVEb2N1bWVudHMoZG9jdW1lbnRzKSB7XG4gICAgY29uc29sZS5sb2coXCJSZW1vdmluZyBkb2N1bWVudHNcIiwgZG9jdW1lbnRzKTtcbiAgICBjb25zdCBpZHMgPSBhd2FpdCByZW1vdmVNdWx0aXBsZShcbiAgICAgIGF3YWl0IHRoaXMuZGIsXG4gICAgICBkb2N1bWVudHMubWFwKChkb2N1bWVudCkgPT4gZG9jdW1lbnQubWV0YWRhdGEuaWQpXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhcIlJlbW92ZWQgZG9jdW1lbnRzIHdpdGggaWRzXCIsIGlkcyk7XG4gIH1cbiAgYXN5bmMgYWRkVmVjdG9ycyh2ZWN0b3JzLCBkb2N1bWVudHMpIHtcbiAgICBjb25zdCBmaWxlbmFtZXMgPSBkb2N1bWVudHMubWFwKChkb2N1bWVudCkgPT4gZG9jdW1lbnQubWV0YWRhdGEuZmlsZW5hbWUpO1xuICAgIGNvbnN0IGZpbGVuYW1lc1RvVXBkYXRlID0gZmlsZW5hbWVzLmZpbHRlcigodmFsdWUsIGluZGV4LCBhcnJheSkgPT4gYXJyYXkuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4KTtcbiAgICBmb3IgKGNvbnN0IGZpbGVuYW1lIG9mIGZpbGVuYW1lc1RvVXBkYXRlKSB7XG4gICAgICBjb25zdCB2ZWN0b3JzVG9VcGRhdGUgPSBhd2FpdCBzZWFyY2goYXdhaXQgdGhpcy5kYiwgeyBwcm9wZXJ0aWVzOiBbXCJmaWxlbmFtZVwiXSwgdGVybTogZmlsZW5hbWUsIGV4YWN0OiB0cnVlLCBsaW1pdDogMWU0IH0pO1xuICAgICAgY29uc29sZS5sb2coXCJSZW1vdmVkIGRvY3VtZW50c1wiLCB2ZWN0b3JzVG9VcGRhdGUsIFwiZm9yIGZpbGVuYW1lXCIsIGZpbGVuYW1lKTtcbiAgICAgIGF3YWl0IHJlbW92ZU11bHRpcGxlKFxuICAgICAgICBhd2FpdCB0aGlzLmRiLFxuICAgICAgICB2ZWN0b3JzVG9VcGRhdGUuaGl0cy5tYXAoKGhpdCkgPT4gaGl0LmRvY3VtZW50LmlkKVxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgZG9jcyA9IGRvY3VtZW50cy5tYXAoKGRvY3VtZW50LCBpbmRleCkgPT4gKHtcbiAgICAgIGlkOiBkb2N1bWVudC5tZXRhZGF0YS5pZCxcbiAgICAgIGZpbGVuYW1lOiBkb2N1bWVudC5tZXRhZGF0YS5maWxlbmFtZSxcbiAgICAgIGNvbnRlbnQ6IGRvY3VtZW50LnBhZ2VDb250ZW50LFxuICAgICAgZW1iZWRkaW5nOiB2ZWN0b3JzW2luZGV4XVxuICAgIH0pKTtcbiAgICBjb25zdCBpZHMgPSBhd2FpdCBpbnNlcnRNdWx0aXBsZShhd2FpdCB0aGlzLmRiLCBkb2NzKTtcbiAgICBjb25zb2xlLmxvZyhcIkluc2VydGVkIGRvY3VtZW50cyB3aXRoIGlkc1wiLCBpZHMpO1xuICAgIHJldHVybiBpZHM7XG4gIH1cbiAgYXN5bmMgYWRkRG9jdW1lbnRzKGRvY3VtZW50cykge1xuICAgIGF3YWl0IHRoaXMuYWRkVmVjdG9ycyhhd2FpdCB0aGlzLmVtYmVkZGluZ3MuZW1iZWREb2N1bWVudHMoZG9jdW1lbnRzLm1hcCgoZG9jdW1lbnQpID0+IGRvY3VtZW50LnBhZ2VDb250ZW50KSksIGRvY3VtZW50cyk7XG4gICAgY29uc29sZS5sb2coKGF3YWl0IHRoaXMuZGIpLmRhdGEuZG9jcyk7XG4gIH1cbiAgc3RhdGljIGFzeW5jIGZyb21Eb2N1bWVudHMoZG9jdW1lbnRzLCBlbWJlZGRpbmdzLCBhcmdzKSB7XG4gICAgY29uc3Qgc3RvcmUgPSBuZXcgdGhpcyhlbWJlZGRpbmdzLCBhcmdzKTtcbiAgICBhd2FpdCBzdG9yZS5hZGREb2N1bWVudHMoZG9jdW1lbnRzKTtcbiAgICByZXR1cm4gc3RvcmU7XG4gIH1cbiAgYXN5bmMgc2ltaWxhcml0eVNlYXJjaFZlY3RvcldpdGhTY29yZShxdWVyeSwgaykge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBzZWFyY2hWZWN0b3IoYXdhaXQgdGhpcy5kYiwgeyB2ZWN0b3I6IHF1ZXJ5LCBwcm9wZXJ0eTogXCJlbWJlZGRpbmdcIiwgbGltaXQ6IGssIHNpbWlsYXJpdHk6IDAuMyB9KTtcbiAgICByZXR1cm4gcmVzdWx0cy5oaXRzLm1hcCgocmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gW25ldyBEb2N1bWVudCh7IHBhZ2VDb250ZW50OiByZXN1bHQuZG9jdW1lbnQuY29udGVudCB9KSwgcmVzdWx0LnNjb3JlXTtcbiAgICB9KTtcbiAgfVxuICBhc3luYyBnZXRKc29uKCkge1xuICAgIHJldHVybiBhd2FpdCBwZXJzaXN0KGF3YWl0IHRoaXMuZGIsIFwianNvblwiKTtcbiAgfVxuICBhc3luYyBsb2FkRnJvbUpzb24odmVjdG9yU3RvcmVKc29uKSB7XG4gICAgdGhpcy5kYiA9IHJlc3RvcmUoXCJqc29uXCIsIHZlY3RvclN0b3JlSnNvbik7XG4gICAgY29uc29sZS5sb2coXCJMb2FkZWQgdmVjdG9yIHN0b3JlIGZyb20gSlNPTlwiLCBhd2FpdCB0aGlzLmRiKTtcbiAgfVxufTtcblxuLy8gc3JjL1NlY29uZEJyYWluLnRzXG5pbXBvcnQgeyBPcGVuQUlFbWJlZGRpbmdzIH0gZnJvbSBcImxhbmdjaGFpbi9lbWJlZGRpbmdzL29wZW5haVwiO1xuaW1wb3J0IHsgU3RyaW5nT3V0cHV0UGFyc2VyIH0gZnJvbSBcImxhbmdjaGFpbi9zY2hlbWEvb3V0cHV0X3BhcnNlclwiO1xudmFyIFNlY29uZEJyYWluID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgaWYgKCFkYXRhLm9wZW5BSUFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gT3BlbkFJIEFQSSBrZXkgcHJvdmlkZWRcIik7XG4gICAgfVxuICAgIHRoaXMudmVjdG9yU3RvcmUgPSBuZXcgT3JhbWFTdG9yZShuZXcgT3BlbkFJRW1iZWRkaW5ncyh7IG9wZW5BSUFwaUtleTogZGF0YS5vcGVuQUlBcGlLZXksIGJhdGNoU2l6ZTogMjA0OCB9KSwge1xuICAgICAgaW5kZXhOYW1lOiBcIm9ic2lkaWFuZGJcIlxuICAgIH0pO1xuICAgIGlmIChkYXRhLnZlY3RvclN0b3JlSnNvbikge1xuICAgICAgdGhpcy52ZWN0b3JTdG9yZS5sb2FkRnJvbUpzb24oZGF0YS52ZWN0b3JTdG9yZUpzb24pO1xuICAgIH1cbiAgICB0aGlzLnJldHJpZXZlciA9IHRoaXMudmVjdG9yU3RvcmUuYXNSZXRyaWV2ZXIoeyBrOiA3IH0pO1xuICAgIGNvbnN0IG1vZGVsID0gbmV3IE9wZW5BSUNoYXQoeyBvcGVuQUlBcGlLZXk6IGRhdGEub3BlbkFJQXBpS2V5IH0pO1xuICAgIGNvbnN0IHByb21wdCA9IFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShgQW50d29ydGUgYWxzIG1laW4gQXNzaXN0ZW50IGF1ZiBtZWluZSBGcmFnZSBhdXNzY2hsaWVcXHhERmxpY2ggYmFzaWVyZW5kIGF1ZiBtZWluZW0gV2lzc2VuIGltIGZvbGdlbmRlbiBNYXJrZG93biBmb3JtYXRpZXJ0ZW4gS29udGV4dC4gQml0dGUgZXJzdGVsbGUgbGlua3MgaW0gZm9sZ2VuZGVuIGZvcm1hdCBbWzxOb3RlbmFtZT4jPEhlYWRlcjE+IyM8SGVhZGVyMj4jIyMuLi5dXSBhdXMgZGVuIE5vdGUgSGVhZGVybiB1bmQgZlxceEZDZ2Ugc2llIGRlaW5lciBBbnR3b3J0IGFscyBSZWZlcmVueiBiZWk6XG4gICAgICAgIHtjb250ZXh0fVxuXG4gICAgICAgIEZyYWdlOiB7cXVlc3Rpb259YCk7XG4gICAgdGhpcy5yYWdDaGFpbiA9IFJ1bm5hYmxlU2VxdWVuY2UuZnJvbShbXG4gICAgICB7XG4gICAgICAgIGNvbnRleHQ6IHRoaXMucmV0cmlldmVyLnBpcGUoKGRvY3VtZW50cykgPT4gZG9jdW1lbnRzLm1hcCgoZG9jKSA9PiBkb2MucGFnZUNvbnRlbnQpLmpvaW4oXCJcXG5cXG5cIikpLFxuICAgICAgICBxdWVzdGlvbjogbmV3IFJ1bm5hYmxlUGFzc3Rocm91Z2goKVxuICAgICAgfSxcbiAgICAgIHByb21wdCxcbiAgICAgIG1vZGVsLFxuICAgICAgbmV3IFN0cmluZ091dHB1dFBhcnNlcigpXG4gICAgXSk7XG4gIH1cbiAgYXN5bmMgZW1iZWREb2N1bWVudHMoZG9jdW1lbnRzKSB7XG4gICAgY29uc29sZS5sb2coXCJFbWJlZGRpbmcgZG9jdW1lbnRzLi4uXCIpO1xuICAgIGF3YWl0IHRoaXMudmVjdG9yU3RvcmUuYWRkRG9jdW1lbnRzKGRvY3VtZW50cyk7XG4gICAgY29uc29sZS5sb2coXCJEb25lIGVtYmVkZGluZyBkb2N1bWVudHNcIik7XG4gIH1cbiAgYXN5bmMgcmVtb3ZlRG9jdW1lbnRzKGRvY3VtZW50cykge1xuICAgIGF3YWl0IHRoaXMudmVjdG9yU3RvcmUucmVtb3ZlRG9jdW1lbnRzKGRvY3VtZW50cyk7XG4gIH1cbiAgYXN5bmMgcnVuUkFHKHF1ZXJ5KSB7XG4gICAgY29uc29sZS5sb2coXCJSdW5uaW5nIFJBRy4uLlwiKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJhZ0NoYWluLmludm9rZShxdWVyeSwge1xuICAgICAgY2FsbGJhY2tzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBoYW5kbGVSZXRyaWV2ZXJFbmQ6IGFzeW5jIChkb2N1bWVudHMpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRvY3VtZW50cywgbnVsbCwgMikpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGFuZGxlTExNU3RhcnQ6IGFzeW5jIChsbG0sIHByb21wdHMpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHByb21wdHMsIG51bGwsIDIpKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGhhbmRsZUxMTUVuZDogYXN5bmMgKG91dHB1dCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkob3V0cHV0LCBudWxsLCAyKSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBoYW5kbGVMTE1FcnJvcjogYXN5bmMgKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgYXN5bmMgcmV0cmlldmVEb2N1bWVudHMocXVlcnkpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy52ZWN0b3JTdG9yZS5zaW1pbGFyaXR5U2VhcmNoKHF1ZXJ5LCAzKTtcbiAgfVxuICBhc3luYyBnZXRWZWN0b3JTdG9yZUpzb24oKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudmVjdG9yU3RvcmUuZ2V0SnNvbigpO1xuICB9XG4gIHN0YXRpYyBhc3luYyBsb2FkRnJvbURhdGEoZGF0YSkge1xuICAgIHJldHVybiBuZXcgdGhpcyhkYXRhKTtcbiAgfVxufTtcblxuLy8gc3JjL09ic2lkaWFuRG9jdW1lbnRMb2FkZXIudHNcbmFzeW5jIGZ1bmN0aW9uIG9ic2lkaWFuRG9jdW1lbnRMb2FkZXIob2JzaWRpYW5BcHAsIGZpbGVzKSB7XG4gIGxldCBkb2NzID0gW107XG4gIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgIGNvbnN0IGZpbGVNZXRhZGF0YSA9IG9ic2lkaWFuQXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgIGlmICghZmlsZU1ldGFkYXRhKVxuICAgICAgY29udGludWU7XG4gICAgZG9jcy5wdXNoKHtcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGlkOiBmaWxlLmJhc2VuYW1lICsgXCIgbWV0YWRhdGFcIixcbiAgICAgICAgZmlsZW5hbWU6IGZpbGUuYmFzZW5hbWVcbiAgICAgIH0sXG4gICAgICBwYWdlQ29udGVudDogXCJOb3RlOiBcIiArIGZpbGUuYmFzZW5hbWUgKyBcIlxcbkVyc3RlbGx0IGFtOiBcIiArIG5ldyBEYXRlKGZpbGUuc3RhdC5jdGltZSkgKyBcIlxcbk1ldGFkYXRlbjogXCIgKyBKU09OLnN0cmluZ2lmeShmaWxlTWV0YWRhdGEuZnJvbnRtYXR0ZXIgfHwge30pXG4gICAgfSk7XG4gICAgY29uc3QgcGFnZUNvbnRlbnQgPSBhd2FpdCBvYnNpZGlhbkFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xuICAgIGxldCBoZWFkZXJDb3VudCA9IDA7XG4gICAgbGV0IG5vdGVDb3VudCA9IDA7XG4gICAgbGV0IGhlYWRpbmdUcmVlID0gW107XG4gICAgaGVhZGluZ1RyZWUucHVzaChmaWxlLmJhc2VuYW1lKTtcbiAgICBsZXQgY3VycmVudEhlYWRpbmdMZXZlbCA9IDA7XG4gICAgZm9yIChjb25zdCBzZWN0aW9uIG9mIGZpbGVNZXRhZGF0YS5zZWN0aW9ucyB8fCBbXSkge1xuICAgICAgaWYgKHNlY3Rpb24udHlwZSA9PT0gXCJoZWFkaW5nXCIpIHtcbiAgICAgICAgY29uc3QgY3VycmVudEhlYWRpbmcgPSBmaWxlTWV0YWRhdGEuaGVhZGluZ3NbaGVhZGVyQ291bnRdO1xuICAgICAgICBpZiAoY3VycmVudEhlYWRpbmcubGV2ZWwgPiBjdXJyZW50SGVhZGluZ0xldmVsKSB7XG4gICAgICAgICAgaGVhZGluZ1RyZWUucHVzaChwYWdlQ29udGVudC5zbGljZShjdXJyZW50SGVhZGluZy5wb3NpdGlvbi5zdGFydC5vZmZzZXQsIGN1cnJlbnRIZWFkaW5nLnBvc2l0aW9uLmVuZC5vZmZzZXQpKTtcbiAgICAgICAgICBjdXJyZW50SGVhZGluZ0xldmVsID0gY3VycmVudEhlYWRpbmcubGV2ZWw7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEhlYWRpbmcubGV2ZWwgPCBjdXJyZW50SGVhZGluZ0xldmVsKSB7XG4gICAgICAgICAgaGVhZGluZ1RyZWUucG9wKCk7XG4gICAgICAgICAgaGVhZGluZ1RyZWUucG9wKCk7XG4gICAgICAgICAgaGVhZGluZ1RyZWUucHVzaChwYWdlQ29udGVudC5zbGljZShjdXJyZW50SGVhZGluZy5wb3NpdGlvbi5zdGFydC5vZmZzZXQsIGN1cnJlbnRIZWFkaW5nLnBvc2l0aW9uLmVuZC5vZmZzZXQpKTtcbiAgICAgICAgICBjdXJyZW50SGVhZGluZ0xldmVsID0gY3VycmVudEhlYWRpbmcubGV2ZWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGVhZGluZ1RyZWUucG9wKCk7XG4gICAgICAgICAgaGVhZGluZ1RyZWUucHVzaChwYWdlQ29udGVudC5zbGljZShjdXJyZW50SGVhZGluZy5wb3NpdGlvbi5zdGFydC5vZmZzZXQsIGN1cnJlbnRIZWFkaW5nLnBvc2l0aW9uLmVuZC5vZmZzZXQpKTtcbiAgICAgICAgfVxuICAgICAgICBub3RlQ291bnQgPSAwO1xuICAgICAgICBoZWFkZXJDb3VudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jcy5wdXNoKHtcbiAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgaWQ6IGhlYWRpbmdUcmVlLmpvaW4oXCJcIikgKyBcIiBJRFwiICsgbm90ZUNvdW50LFxuICAgICAgICAgICAgZmlsZW5hbWU6IGZpbGUuYmFzZW5hbWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBhZ2VDb250ZW50OiBcIk5vdGVuYW1lOiBcIiArIGhlYWRpbmdUcmVlLmpvaW4oXCJcXG5cIikgKyBcIlxcblwiICsgcGFnZUNvbnRlbnQuc2xpY2Uoc2VjdGlvbi5wb3NpdGlvbi5zdGFydC5vZmZzZXQsIHNlY3Rpb24ucG9zaXRpb24uZW5kLm9mZnNldClcbiAgICAgICAgfSk7XG4gICAgICAgIG5vdGVDb3VudCsrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zb2xlLmxvZyhcIkxvYWRlZCBcIiArIGRvY3MubGVuZ3RoICsgXCIgZG9jdW1lbnRzIGZyb20gT2JzaWRpYW5cIiwgZG9jcyk7XG4gIHJldHVybiBkb2NzO1xufVxuZXhwb3J0IHtcbiAgU2Vjb25kQnJhaW4sXG4gIG9ic2lkaWFuRG9jdW1lbnRMb2FkZXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyB3cml0YWJsZSB9IGZyb20gJ3N2ZWx0ZS9zdG9yZSc7XG5pbXBvcnQgeyBTZWNvbmRCcmFpbiB9IGZyb20gJ3NlY29uZC1icmFpbi10cyc7XG5pbXBvcnQgdHlwZSBCcmFpblBsdWdpbiBmcm9tICcuL21haW4nO1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlID0ge1xuICAgIHJvbGU6ICdzeXN0ZW0nIHwgJ2Fzc2lzdGFudCcgfCAndXNlcic7XG4gICAgY29udGVudDogc3RyaW5nO1xuICAgIGNvbnRleHQ/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgbGV0IG1lc3NhZ2VzID0gd3JpdGFibGU8TWVzc2FnZVtdPihbeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogJ0hpLCB0aGlzIGlzIHlvdXIgU2Vjb25kIEJyYWluIScsIGNvbnRleHQ6IG51bGwgfV0pO1xuXG5leHBvcnQgbGV0IHNlY29uZEJyYWluID0gd3JpdGFibGU8U2Vjb25kQnJhaW4+KCk7XG5cbmV4cG9ydCBjb25zdCBwbHVnaW4gPSB3cml0YWJsZTxCcmFpblBsdWdpbj4oKTtcbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gICAgaW1wb3J0IE1kU2VuZCBmcm9tICdzdmVsdGUtaWNvbnMvbWQvTWRTZW5kLnN2ZWx0ZSc7XG4gICAgaW1wb3J0IHsgc2Vjb25kQnJhaW4gfSBmcm9tICcuLi9zdG9yZSc7XG4gICAgaW1wb3J0IHsgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuICAgIGltcG9ydCB7IG1lc3NhZ2VzLCB0eXBlIE1lc3NhZ2UgfSBmcm9tICcuLi9zdG9yZSc7XG4gICAgaW1wb3J0IHR5cGUgeyBLZXlib2FyZEV2ZW50SGFuZGxlciB9IGZyb20gJ3N2ZWx0ZS9lbGVtZW50cyc7XG4gICAgaW1wb3J0IHsgRmlsZVNlbGVjdE1vZGFsIH0gZnJvbSAnLi4vbWFpbic7XG5cbiAgICBsZXQgaW5wdXRQbGFjZWhvbGRlciA9ICdDaGF0IHdpdGggeW91ciBzZWNvbmQgQnJhaW4uLi4nO1xuICAgIGxldCBtZXNzYWdlVGV4dCA9ICcnO1xuICAgIGxldCBpc1Byb2Nlc2NjaW5nOiBib29sZWFuO1xuXG4gICAgYXN5bmMgZnVuY3Rpb24gc2VuZE1lc3NhZ2UoKSB7XG4gICAgICAgIGlmIChpc1Byb2Nlc2NjaW5nKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdQbGVhc2Ugd2FpdCB3aGlsZSB5b3VyIFNlY29uZCBCcmFpbiBpcyB0aGlua2luZy4uLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlzUHJvY2VzY2NpbmcgPSB0cnVlO1xuICAgICAgICAvL1RPRE8gZGFzIGlzIGtha2FcbiAgICAgICAgY29uc3QgdGVzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0LXZpZXctdXNlci1pbnB1dC1lbGVtZW50JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgLy9tZXNzYWdlVGV4dCA9IHRlc3QudmFsdWU7XG5cbiAgICAgICAgaWYgKG1lc3NhZ2VUZXh0LnRyaW0oKSAhPT0gJycpIHtcbiAgICAgICAgICAgIC8vIGxldCBtZXNzYWdlOiBNZXNzYWdlID0geyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IG1lc3NhZ2VUZXh0IH07XG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9IG1lc3NhZ2VUZXh0O1xuICAgICAgICAgICAgbWVzc2FnZVRleHQgPSAnJztcbiAgICAgICAgICAgIG1lc3NhZ2VzLnVwZGF0ZSgobWVzc2FnZXMpID0+IFsuLi5tZXNzYWdlcywgeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IG1lc3NhZ2UgfV0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJG1lc3NhZ2VzKTtcbiAgICAgICAgICAgIHNlY29uZEJyYWluLnN1YnNjcmliZShhc3luYyAoc2Vjb25kQnJhaW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBzZWNvbmRCcmFpbi5ydW5SQUcobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy51cGRhdGUoKG1lc3NhZ2VzKSA9PiBbLi4ubWVzc2FnZXMsIHsgcm9sZTogJ2Fzc2lzdGFudCcsIGNvbnRlbnQ6IHJlcyB9XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdZb3VyIFNlY29uZCBCcmFpbiBkb2VzIG5vdCB1bmRlcnN0YW5kIGVtcHR5IG1lc3NhZ2VzIScpO1xuICAgICAgICB9XG4gICAgICAgIGlzUHJvY2VzY2NpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5qZWN0Q29udGV4dChldmVudDogS2V5Ym9hcmRFdmVudCk6IEtleWJvYXJkRXZlbnRIYW5kbGVyPEhUTUxJbnB1dEVsZW1lbnQ+IHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSAhPT0gJ1snKSByZXR1cm47XG4gICAgICAgIG5ldyBGaWxlU2VsZWN0TW9kYWwoYXBwKS5vcGVuKCk7XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxmb3JtIG9uOnN1Ym1pdHxwcmV2ZW50RGVmYXVsdD17c2VuZE1lc3NhZ2V9IGNsYXNzPVwic3RpY2t5IGZsZXggdy1mdWxsIGdhcC0xXCI+XG4gICAgPGlucHV0IGlkPVwiY2hhdC12aWV3LXVzZXItaW5wdXQtZWxlbWVudFwiIHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmbGV4LTFcIiBwbGFjZWhvbGRlcj17aW5wdXRQbGFjZWhvbGRlcn0gYmluZDp2YWx1ZT17bWVzc2FnZVRleHR9IG9uOmtleXVwPXtpbmplY3RDb250ZXh0fSAvPlxuICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwicHgtNCBweS0yIHJvdW5kZWQtci1tZCBob3ZlcjpiZy1wcmltYXJ5IHRyYW5zaXRpb24gZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0XCI+XG4gICAgICAgIDxNZFNlbmQgLz5cbiAgICA8L2J1dHRvbj5cbjwvZm9ybT5cbiIsImltcG9ydCB7IEFwcCwgTW9kYWwgfSBmcm9tICdvYnNpZGlhbic7XG5cbmltcG9ydCBJbnB1dENvbXBvbmVudCBmcm9tICcuLi9jb21wb25lbnRzL0lucHV0LnN2ZWx0ZSc7XG5cbmV4cG9ydCBjbGFzcyBDaGF0TW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gICAgY29tcG9uZW50OiBJbnB1dENvbXBvbmVudDtcblxuICAgIG9uU3VibWl0OiAocmVzdWx0OiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgLy9vblN1Ym1pdDogKHJlc3VsdDogc3RyaW5nKSA9PiB2b2lkXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcbiAgICB9XG5cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gbmV3IElucHV0Q29tcG9uZW50KHtcbiAgICAgICAgICAgIHRhcmdldDogdGhpcy5jb250ZW50RWwsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIG9uQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LiRkZXN0cm95KCk7XG4gICAgfVxufVxuIiwiPHNjcmlwdD5cbiAgICAgICAgaW1wb3J0IEljb25CYXNlIGZyb20gJy4uL2NvbXBvbmVudHMvSWNvbkJhc2Uuc3ZlbHRlJztcbiAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgIDxJY29uQmFzZSB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgey4uLiQkcHJvcHN9PlxuICAgICAgICAgIDxwYXRoIGQ9XCJNMTYgMUg0Yy0xLjEgMC0yIC45LTIgMnYxNGgyVjNoMTJWMXptMyA0SDhjLTEuMSAwLTIgLjktMiAydjE0YzAgMS4xLjkgMiAyIDJoMTFjMS4xIDAgMi0uOSAyLTJWN2MwLTEuMS0uOS0yLTItMnptMCAxNkg4VjdoMTF2MTR6XCIgLz5cbiAgICAgICAgPC9JY29uQmFzZT5cbiAgICAgICIsIjxzY3JpcHQ+XG4gICAgICAgIGltcG9ydCBJY29uQmFzZSBmcm9tICcuLi9jb21wb25lbnRzL0ljb25CYXNlLnN2ZWx0ZSc7XG4gICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8SWNvbkJhc2Ugdmlld0JveD1cIjAgMCAyNCAyNFwiIHsuLi4kJHByb3BzfT5cbiAgICAgICAgICA8cGF0aCBkPVwiTTQgNkgydjE0YzAgMS4xLjkgMiAyIDJoMTR2LTJINFY2em0xNi00SDhjLTEuMSAwLTIgLjktMiAydjEyYzAgMS4xLjkgMiAyIDJoMTJjMS4xIDAgMi0uOSAyLTJWNGMwLTEuMS0uOS0yLTItMnptLTEgOUg5VjloMTB2MnptLTQgNEg5di0yaDZ2MnptNC04SDlWNWgxMHYyelwiIC8+XG4gICAgICAgIDwvSWNvbkJhc2U+XG4gICAgICAiLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICAgIGltcG9ydCB7IG1lc3NhZ2VzIH0gZnJvbSAnLi4vc3RvcmUnO1xuICAgIGltcG9ydCBNZENvbnRlbnRDb3B5IGZyb20gJ3N2ZWx0ZS1pY29ucy9tZC9NZENvbnRlbnRDb3B5LnN2ZWx0ZSc7XG4gICAgaW1wb3J0IE1kTGlicmFyeUJvb2tzIGZyb20gJ3N2ZWx0ZS1pY29ucy9tZC9NZExpYnJhcnlCb29rcy5zdmVsdGUnO1xuICAgIGltcG9ydCBFbGVjdHJvbiBmcm9tICdlbGVjdHJvbic7XG4gICAgaW1wb3J0IHR5cGUgeyBNb3VzZUV2ZW50SGFuZGxlciB9IGZyb20gJ3N2ZWx0ZS9lbGVtZW50cyc7XG4gICAgaW1wb3J0IHsgTWFya2Rvd25SZW5kZXJlciwgTm90aWNlLCBodG1sVG9NYXJrZG93biB9IGZyb20gJ29ic2lkaWFuJztcbiAgICBpbXBvcnQgeyBwbHVnaW4gfSBmcm9tICcuLi9zdG9yZSc7XG5cbiAgICBjb25zdCBnZXRUaGVtZUNvbG9yID0gKG5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpO1xuICAgIH07XG5cbiAgICBjb25zdCBBSWNvbG9yID0gZ2V0VGhlbWVDb2xvcignLS1jb2xvci1hY2NlbnQnKTtcbiAgICBjb25zdCBVc2VyQ29sb3IgPSAgZ2V0VGhlbWVDb2xvcignLS1jb2xvci1iYXNlLTQwJyk7XG5cbiAgICBmdW5jdGlvbiB0b0NsaXBib2FyZChtZXNzYWdlVGV4dDogc3RyaW5nKTogTW91c2VFdmVudEhhbmRsZXI8SFRNTEJ1dHRvbkVsZW1lbnQ+IHtcbiAgICAgICAgaWYgKCFtZXNzYWdlVGV4dCkge1xuICAgICAgICAgICAgbmV3IE5vdGljZSgnT25seSBmb3IgVmFsaWQgTWVzc2FnZXMhIEltcGxlbWVudCB0aGF0IHlvdSBsYXp5IGZ1Y2shJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgRWxlY3Ryb24uY2xpcGJvYXJkLndyaXRlVGV4dChtZXNzYWdlVGV4dCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNvbHV0ZVBhdGgoZmlsZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHZhdWx0TmFtZSA9IHRoaXMuYXBwLnZhdWx0LmdldE5hbWUoKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIFwib2JzaWRpYW46Ly9vcGVuP3ZhdWx0PVwiICtcbiAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudCh2YXVsdE5hbWUpICtcbiAgICAgICAgICAgIFN0cmluZy5yYXdgJmZpbGU9YCArXG4gICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoZmlsZSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgIGNvbnN0IGh0bWwgPSAobm9kZTogSFRNTEVsZW1lbnQsIGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgICAgICBNYXJrZG93blJlbmRlcmVyLnJlbmRlcigkcGx1Z2luLmFwcCwgaHRtbFRvTWFya2Rvd24oY29udGVudCksIG5vZGUsICcnLCAkcGx1Z2luKTtcbiAgICB9XG4gICAgXG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImNoYXQtd2luZG93IGZsZXgtZ3JvdyB3LWZ1bGwgb3ZlcmZsb3ctc2Nyb2xsIGJvcmRlci0yIGJvcmRlci1zb2xpZCByb3VuZGVkLW1kIGJvcmRlci1zbGF0ZS0zMCBtYi0xIHAtNFwiPlxuICAgIHsjZWFjaCAkbWVzc2FnZXMgYXMgbWVzc2FnZSAobWVzc2FnZS5jb250ZW50KX1cbiAgICAgICAgeyNpZiBtZXNzYWdlLnJvbGUgPT09ICd1c2VyJ31cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktZW5kIG1iLTNcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInAtMiBicmVhay13b3JkcyByb3VuZGVkLXQtbWQgcm91bmRlZC1ibC1tZCBtYXgtdy1bODAlXSB0ZXh0LXNsYXRlLTBcIiBzdHlsZT1cImJhY2tncm91bmQ6IHtVc2VyQ29sb3J9O1wiIHVzZTpodG1sPXttZXNzYWdlLmNvbnRlbnR9PjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ0ZXN0XCIgY2xhc3M9XCJwLTIgYnJlYWstd29yZHMgcm91bmRlZC10LW1kIHJvdW5kZWQtYnItbWQgdy1maXQgbWF4LXctWzgwJV1cIiBzdHlsZT1cImJhY2tncm91bmQ6IHtBSWNvbG9yfTtcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNsYXRlLTBcIiB1c2U6aHRtbD17bWVzc2FnZS5jb250ZW50fT48L3A+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcIiBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17dG9DbGlwYm9hcmQobWVzc2FnZS5jb250ZW50KX0+PE1kQ29udGVudENvcHkgLz48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1wiIG9uOmNsaWNrfHByZXZlbnREZWZhdWx0PXt0b0NsaXBib2FyZChtZXNzYWdlLmNvbnRleHQpfT48TWRMaWJyYXJ5Qm9va3MgLz48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICB7L2lmfVxuICAgIHsvZWFjaH1cbjwvZGl2PlxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgICBpbXBvcnQgSW5wdXRDb21wb25lbnQgZnJvbSAnLi9JbnB1dC5zdmVsdGUnO1xuICAgIGltcG9ydCBNZXNzYWdlc0NvbXBvbmVudCBmcm9tICcuL01lc3NhZ2VzLnN2ZWx0ZSc7XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cImgtZnVsbCBmbGV4IGZsZXgtY29sIC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXJcIj5cbiAgICA8aDE+U2Vjb25kIEJyYWluIEludGVyZmFjZTwvaDE+XG4gICAgPE1lc3NhZ2VzQ29tcG9uZW50Lz5cbiAgICA8SW5wdXRDb21wb25lbnQvPlxuPC9kaXY+XG4iLCJpbXBvcnQgeyBBcHAsIEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG5pbXBvcnQgQ2hhdFZpZXdDb21wb25lbnQgZnJvbSAnLi4vY29tcG9uZW50cy9DaGF0Vmlldy5zdmVsdGUnO1xuXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0NIQVQgPSAnY2hhdC12aWV3JztcblxuZXhwb3J0IGNsYXNzIENoYXRWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuICAgIGNvbXBvbmVudDogQ2hhdFZpZXdDb21wb25lbnQ7XG4gICAgQWlCdWJibGVDb2xvcjogc3RyaW5nO1xuICAgIFVzZXJCdWJibGVDb2xvcjogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZikge1xuICAgICAgICBzdXBlcihsZWFmKTtcbiAgICAgICAgdGhpcy5pY29uID0gJ21lc3NhZ2Utc3F1YXJlJztcbiAgICB9XG5cbiAgICBnZXRWaWV3VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFZJRVdfVFlQRV9DSEFUO1xuICAgIH1cblxuICAgIGdldERpc3BsYXlUZXh0KCkge1xuICAgICAgICByZXR1cm4gJ0NoYXQgdmlldyc7XG4gICAgfVxuXG4gICAgYXN5bmMgb25PcGVuKCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IG5ldyBDaGF0Vmlld0NvbXBvbmVudCh7XG4gICAgICAgICAgICB0YXJnZXQ6IHRoaXMuY29udGVudEVsLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBvbkNsb3NlKCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC4kZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2VhcmNoQ29tcG9uZW50LCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gJy4uL21haW4nO1xuaW1wb3J0IHR5cGUgQnJhaW5QbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gICAgcGx1Z2luOiBCcmFpblBsdWdpbjtcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEJyYWluUGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgfVxuXG4gICAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICAgICAgbGV0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cbiAgICAgICAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdBSSBDb2xvcicpXG4gICAgICAgICAgICAuYWRkRXh0cmFCdXR0b24oKHZhbHVlKSA9PlxuICAgICAgICAgICAgICAgIHZhbHVlLnNldEljb24oJ3Jlc2V0Jykub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmRhdGEuQUljb2xvciA9IERFRkFVTFRfU0VUVElOR1MuQUljb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5hZGRDb2xvclBpY2tlcigoY29sb3IpID0+XG4gICAgICAgICAgICAgICAgY29sb3Iuc2V0VmFsdWUodGhpcy5wbHVnaW4uZGF0YS5BSWNvbG9yKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uZGF0YS5BSWNvbG9yID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ1VzZXIgQ29sb3InKVxuICAgICAgICAgICAgLmFkZEV4dHJhQnV0dG9uKCh2YWx1ZSkgPT4gdmFsdWUuc2V0SWNvbigncmVzZXQnKS5vbkNsaWNrKCgpID0+ICh0aGlzLnBsdWdpbi5kYXRhLlVzZXJDb2xvciA9IERFRkFVTFRfU0VUVElOR1MuVXNlckNvbG9yKSkpXG4gICAgICAgICAgICAuYWRkQ29sb3JQaWNrZXIoKGNvbG9yKSA9PlxuICAgICAgICAgICAgICAgIGNvbG9yLnNldFZhbHVlKHRoaXMucGx1Z2luLmRhdGEuVXNlckNvbG9yKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uZGF0YS5Vc2VyQ29sb3IgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoJ0xMTScpLmFkZERyb3Bkb3duKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgICAgIExMYW1hOiAnTExhbWEnLFxuICAgICAgICAgICAgICAgICAgICBBbnRocm9waWM6ICdBbnRocm9waWMnLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLmRhdGEubGxtKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uZGF0YS5sbG0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKCdPcGVuQUkgQVBJIEtleScpLmFkZFRleHQoKHRleHQpID0+XG4gICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdPcGVuQUkgQVBJIEtleScpXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLmRhdGEuc2Vjb25kQnJhaW4ub3BlbkFJQXBpS2V5IHx8ICcnKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uZGF0YS5zZWNvbmRCcmFpbi5vcGVuQUlBcGlLZXkgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgJy4vc3R5bGVzLmNzcyc7XG5pbXBvcnQgeyBDaGF0TW9kYWwgfSBmcm9tICcuL3ZpZXdzL0NoYXRNb2RhbCc7XG5pbXBvcnQgeyBDaGF0VmlldywgVklFV19UWVBFX0NIQVQgfSBmcm9tICcuL3ZpZXdzL0NoYXRWaWV3JztcbmltcG9ydCBTZXR0aW5nc1RhYiBmcm9tICcuL3ZpZXdzL1NldHRpbmdzJztcbmltcG9ydCB7IEZ1enp5U3VnZ2VzdE1vZGFsLCBURmlsZSwgQXBwLCBQbHVnaW4gfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBzZWNvbmRCcmFpbiB9IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IHsgU2Vjb25kQnJhaW4sIG9ic2lkaWFuRG9jdW1lbnRMb2FkZXIsIHR5cGUgU2Vjb25kQnJhaW5EYXRhIH0gZnJvbSAnc2Vjb25kLWJyYWluLXRzJztcbmltcG9ydCB7IHBsdWdpbiB9IGZyb20gJy4vc3RvcmUnO1xuXG5pbnRlcmZhY2UgUGx1Z2luRGF0YSB7XG4gICAgbGxtOiBzdHJpbmc7XG4gICAgZW1iZWRkZWRBbGxPbmNlOiBib29sZWFuO1xuICAgIHNlY29uZEJyYWluOiBTZWNvbmRCcmFpbkRhdGE7XG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBQYXJ0aWFsPFBsdWdpbkRhdGE+ID0ge1xuICAgIHNlY29uZEJyYWluOiB7XG4gICAgICAgIG9wZW5BSUFwaUtleTogJ1lvdXIga2V5JyxcbiAgICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhaW5QbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICAgIGRhdGE6IFBsdWdpbkRhdGE7XG5cbiAgICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuZGF0YSk7XG4gICAgfVxuXG4gICAgYXN5bmMgb25sb2FkKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuICAgICAgICBzZWNvbmRCcmFpbi5zZXQoYXdhaXQgU2Vjb25kQnJhaW4ubG9hZEZyb21EYXRhKHRoaXMuZGF0YS5zZWNvbmRCcmFpbikpO1xuXG4gICAgICAgIHBsdWdpbi5zZXQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5hcHAudmF1bHQub24oJ21vZGlmeScsIChmaWxlOiBURmlsZSkgPT4ge1xuICAgICAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2Vjb25kQnJhaW4uc3Vic2NyaWJlKGFzeW5jIChzZWNvbmRCcmFpbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2NzID0gYXdhaXQgb2JzaWRpYW5Eb2N1bWVudExvYWRlcih0aGlzLmFwcCwgW2ZpbGVdKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2Vjb25kQnJhaW4uZW1iZWREb2N1bWVudHMoZG9jcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zZWNvbmRCcmFpbi52ZWN0b3JTdG9yZUpzb24gPSBhd2FpdCBzZWNvbmRCcmFpbi5nZXRWZWN0b3JTdG9yZUpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hcHAudmF1bHQub24oJ2RlbGV0ZScsIChmaWxlOiBURmlsZSkgPT4ge1xuICAgICAgICAgICAgc2Vjb25kQnJhaW4uc3Vic2NyaWJlKGFzeW5jIChzZWNvbmRCcmFpbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvY3MgPSBhd2FpdCBvYnNpZGlhbkRvY3VtZW50TG9hZGVyKHRoaXMuYXBwLCBbZmlsZV0pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHNlY29uZEJyYWluLnJlbW92ZURvY3VtZW50cyhkb2NzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc2Vjb25kQnJhaW4udmVjdG9yU3RvcmVKc29uID0gYXdhaXQgc2Vjb25kQnJhaW4uZ2V0VmVjdG9yU3RvcmVKc29uKCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyVmlldyhWSUVXX1RZUEVfQ0hBVCwgKGxlYWYpID0+IG5ldyBDaGF0VmlldyhsZWFmKSk7XG5cbiAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKCdicmFpbi1jaXJjdWl0JywgJ1NtYXJ0IFNlY29uZCBCcmFpbicsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVWaWV3KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2V0dGluZ3NUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgaWQ6ICdjaGF0LW1vZGFsJyxcbiAgICAgICAgICAgIG5hbWU6ICdDaGF0IHdpdGggQUknLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBuZXcgQ2hhdE1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgaWQ6ICdmaW5kLWZpbGVzJyxcbiAgICAgICAgICAgIG5hbWU6ICdmZicsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIG5ldyBGaWxlU2VsZWN0TW9kYWwodGhpcy5hcHApLm9wZW4oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghdGhpcy5kYXRhLmVtYmVkZGVkQWxsT25jZSkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2Vjb25kQnJhaW4uc3Vic2NyaWJlKGFzeW5jIChzZWNvbmRCcmFpbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2NzID0gYXdhaXQgb2JzaWRpYW5Eb2N1bWVudExvYWRlcih0aGlzLmFwcCwgdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2Vjb25kQnJhaW4uZW1iZWREb2N1bWVudHMoZG9jcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zZWNvbmRCcmFpbi52ZWN0b3JTdG9yZUpzb24gPSBhd2FpdCBzZWNvbmRCcmFpbi5nZXRWZWN0b3JTdG9yZUpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgdGhpcy5kYXRhLmVtYmVkZGVkQWxsT25jZSA9IHRydWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb251bmxvYWQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCd1bmxvYWRpbmcgcGx1Z2luJyk7XG4gICAgfVxuXG4gICAgYXN5bmMgYWN0aXZhdGVWaWV3KCkge1xuICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UuZGV0YWNoTGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9DSEFUKTtcblxuICAgICAgICBhd2FpdCB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKS5zZXRWaWV3U3RhdGUoe1xuICAgICAgICAgICAgdHlwZTogVklFV19UWVBFX0NIQVQsXG4gICAgICAgICAgICBhY3RpdmU6IHRydWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX0NIQVQpWzBdKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWxlU2VsZWN0TW9kYWwgZXh0ZW5kcyBGdXp6eVN1Z2dlc3RNb2RhbDxURmlsZT4ge1xuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLnNldFBsYWNlaG9sZGVyKCdUeXBlIHRoZSBuYW1lIG9mIGEgZmlsZS4uLicpO1xuICAgIH1cbiAgICBnZXRJdGVtcygpOiBURmlsZVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKS5zb3J0KChhLCBiKSA9PiBhLmJhc2VuYW1lLmxvY2FsZUNvbXBhcmUoYi5iYXNlbmFtZSkpO1xuICAgIH1cbiAgICBnZXRJdGVtVGV4dChpdGVtOiBURmlsZSk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBpdGVtLmJhc2VuYW1lO1xuICAgIH1cbiAgICBvbkNob29zZUl0ZW0oZmlsZTogVEZpbGUpIHtcbiAgICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0LXZpZXctdXNlci1pbnB1dC1lbGVtZW50JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgZWxlbS52YWx1ZSA9IGVsZW0udmFsdWUgKyBgWyR7ZmlsZS5iYXNlbmFtZX1dXWA7XG4gICAgfVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldFBhcnNlZFR5cGUgPSBleHBvcnRzLlpvZFBhcnNlZFR5cGUgPSBleHBvcnRzLm9iamVjdFV0aWwgPSBleHBvcnRzLnV0aWwgPSB2b2lkIDA7XG52YXIgdXRpbDtcbihmdW5jdGlvbiAodXRpbCkge1xuICAgIHV0aWwuYXNzZXJ0RXF1YWwgPSAodmFsKSA9PiB2YWw7XG4gICAgZnVuY3Rpb24gYXNzZXJ0SXMoX2FyZykgeyB9XG4gICAgdXRpbC5hc3NlcnRJcyA9IGFzc2VydElzO1xuICAgIGZ1bmN0aW9uIGFzc2VydE5ldmVyKF94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICB1dGlsLmFzc2VydE5ldmVyID0gYXNzZXJ0TmV2ZXI7XG4gICAgdXRpbC5hcnJheVRvRW51bSA9IChpdGVtcykgPT4ge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBvYmpbaXRlbV0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyA9IChvYmopID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKG9iaikuZmlsdGVyKChrKSA9PiB0eXBlb2Ygb2JqW29ialtrXV0gIT09IFwibnVtYmVyXCIpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGsgb2YgdmFsaWRLZXlzKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RWYWx1ZXMoZmlsdGVyZWQpO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RWYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdEtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmpbZV07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RLZXlzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSBcImZ1bmN0aW9uXCIgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgID8gKG9iaikgPT4gT2JqZWN0LmtleXMob2JqKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgOiAob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgfTtcbiAgICB1dGlsLmZpbmQgPSAoYXJyLCBjaGVja2VyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnIpIHtcbiAgICAgICAgICAgIGlmIChjaGVja2VyKGl0ZW0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICB1dGlsLmlzSW50ZWdlciA9IHR5cGVvZiBOdW1iZXIuaXNJbnRlZ2VyID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyAodmFsKSA9PiBOdW1iZXIuaXNJbnRlZ2VyKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgIDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiAmJiBpc0Zpbml0ZSh2YWwpICYmIE1hdGguZmxvb3IodmFsKSA9PT0gdmFsO1xuICAgIGZ1bmN0aW9uIGpvaW5WYWx1ZXMoYXJyYXksIHNlcGFyYXRvciA9IFwiIHwgXCIpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5XG4gICAgICAgICAgICAubWFwKCh2YWwpID0+ICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiID8gYCcke3ZhbH0nYCA6IHZhbCkpXG4gICAgICAgICAgICAuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cbiAgICB1dGlsLmpvaW5WYWx1ZXMgPSBqb2luVmFsdWVzO1xuICAgIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyID0gKF8sIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xufSkodXRpbCA9IGV4cG9ydHMudXRpbCB8fCAoZXhwb3J0cy51dGlsID0ge30pKTtcbnZhciBvYmplY3RVdGlsO1xuKGZ1bmN0aW9uIChvYmplY3RVdGlsKSB7XG4gICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyA9IChmaXJzdCwgc2Vjb25kKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5maXJzdCxcbiAgICAgICAgICAgIC4uLnNlY29uZCwgLy8gc2Vjb25kIG92ZXJ3cml0ZXMgZmlyc3RcbiAgICAgICAgfTtcbiAgICB9O1xufSkob2JqZWN0VXRpbCA9IGV4cG9ydHMub2JqZWN0VXRpbCB8fCAoZXhwb3J0cy5vYmplY3RVdGlsID0ge30pKTtcbmV4cG9ydHMuWm9kUGFyc2VkVHlwZSA9IHV0aWwuYXJyYXlUb0VudW0oW1xuICAgIFwic3RyaW5nXCIsXG4gICAgXCJuYW5cIixcbiAgICBcIm51bWJlclwiLFxuICAgIFwiaW50ZWdlclwiLFxuICAgIFwiZmxvYXRcIixcbiAgICBcImJvb2xlYW5cIixcbiAgICBcImRhdGVcIixcbiAgICBcImJpZ2ludFwiLFxuICAgIFwic3ltYm9sXCIsXG4gICAgXCJmdW5jdGlvblwiLFxuICAgIFwidW5kZWZpbmVkXCIsXG4gICAgXCJudWxsXCIsXG4gICAgXCJhcnJheVwiLFxuICAgIFwib2JqZWN0XCIsXG4gICAgXCJ1bmtub3duXCIsXG4gICAgXCJwcm9taXNlXCIsXG4gICAgXCJ2b2lkXCIsXG4gICAgXCJuZXZlclwiLFxuICAgIFwibWFwXCIsXG4gICAgXCJzZXRcIixcbl0pO1xuY29uc3QgZ2V0UGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZDtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5zdHJpbmc7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBpc05hTihkYXRhKSA/IGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5uYW4gOiBleHBvcnRzLlpvZFBhcnNlZFR5cGUubnVtYmVyO1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5ib29sZWFuO1xuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuZnVuY3Rpb247XG4gICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuYmlnaW50O1xuICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLnN5bWJvbDtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLmFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLm51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS50aGVuICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGRhdGEudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAgICAgZGF0YS5jYXRjaCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBkYXRhLmNhdGNoID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLnByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIE1hcCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5tYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIFNldCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5zZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIERhdGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLmRhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLm9iamVjdDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUudW5rbm93bjtcbiAgICB9XG59O1xuZXhwb3J0cy5nZXRQYXJzZWRUeXBlID0gZ2V0UGFyc2VkVHlwZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ab2RFcnJvciA9IGV4cG9ydHMucXVvdGVsZXNzSnNvbiA9IGV4cG9ydHMuWm9kSXNzdWVDb2RlID0gdm9pZCAwO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vaGVscGVycy91dGlsXCIpO1xuZXhwb3J0cy5ab2RJc3N1ZUNvZGUgPSB1dGlsXzEudXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJpbnZhbGlkX3R5cGVcIixcbiAgICBcImludmFsaWRfbGl0ZXJhbFwiLFxuICAgIFwiY3VzdG9tXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3JcIixcbiAgICBcImludmFsaWRfZW51bV92YWx1ZVwiLFxuICAgIFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICBcImludmFsaWRfYXJndW1lbnRzXCIsXG4gICAgXCJpbnZhbGlkX3JldHVybl90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2RhdGVcIixcbiAgICBcImludmFsaWRfc3RyaW5nXCIsXG4gICAgXCJ0b29fc21hbGxcIixcbiAgICBcInRvb19iaWdcIixcbiAgICBcImludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzXCIsXG4gICAgXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICBcIm5vdF9maW5pdGVcIixcbl0pO1xuY29uc3QgcXVvdGVsZXNzSnNvbiA9IChvYmopID0+IHtcbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkob2JqLCBudWxsLCAyKTtcbiAgICByZXR1cm4ganNvbi5yZXBsYWNlKC9cIihbXlwiXSspXCI6L2csIFwiJDE6XCIpO1xufTtcbmV4cG9ydHMucXVvdGVsZXNzSnNvbiA9IHF1b3RlbGVzc0pzb247XG5jbGFzcyBab2RFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcihpc3N1ZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZSA9IChzdWIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCBzdWJdO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZElzc3VlcyA9IChzdWJzID0gW10pID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCAuLi5zdWJzXTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYWN0dWFsUHJvdG8gPSBuZXcudGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGJhbi9iYW5cbiAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBhY3R1YWxQcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fcHJvdG9fXyA9IGFjdHVhbFByb3RvO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZSA9IFwiWm9kRXJyb3JcIjtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBpc3N1ZXM7XG4gICAgfVxuICAgIGdldCBlcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzc3VlcztcbiAgICB9XG4gICAgZm9ybWF0KF9tYXBwZXIpIHtcbiAgICAgICAgY29uc3QgbWFwcGVyID0gX21hcHBlciB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGlzc3VlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzc3VlLm1lc3NhZ2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgY29uc3QgcHJvY2Vzc0Vycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGVycm9yLmlzc3Vlcykge1xuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfdW5pb25cIikge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZS51bmlvbkVycm9ycy5tYXAocHJvY2Vzc0Vycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3JldHVybl90eXBlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKGlzc3VlLnJldHVyblR5cGVFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9hcmd1bWVudHNcIikge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoaXNzdWUuYXJndW1lbnRzRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5wYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZEVycm9ycy5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyciA9IGZpZWxkRXJyb3JzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgaXNzdWUucGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gaXNzdWUucGF0aFtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFsID0gaSA9PT0gaXNzdWUucGF0aC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmICh0eXBlb2YgZWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSBpZiAodHlwZW9mIGVsID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjb25zdCBlcnJvckFycmF5OiBhbnkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGVycm9yQXJyYXkuX2Vycm9ycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCBlcnJvckFycmF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIgPSBjdXJyW2VsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcHJvY2Vzc0Vycm9yKHRoaXMpO1xuICAgICAgICByZXR1cm4gZmllbGRFcnJvcnM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xuICAgIH1cbiAgICBnZXQgbWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuaXNzdWVzLCB1dGlsXzEudXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICAgIH1cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgZmxhdHRlbihtYXBwZXIgPSAoaXNzdWUpID0+IGlzc3VlLm1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7fTtcbiAgICAgICAgY29uc3QgZm9ybUVycm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiB0aGlzLmlzc3Vlcykge1xuICAgICAgICAgICAgaWYgKHN1Yi5wYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gPSBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gfHwgW107XG4gICAgICAgICAgICAgICAgZmllbGRFcnJvcnNbc3ViLnBhdGhbMF1dLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9ybUVycm9ycy5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmb3JtRXJyb3JzLCBmaWVsZEVycm9ycyB9O1xuICAgIH1cbiAgICBnZXQgZm9ybUVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdHRlbigpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kRXJyb3IgPSBab2RFcnJvcjtcblpvZEVycm9yLmNyZWF0ZSA9IChpc3N1ZXMpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcihpc3N1ZXMpO1xuICAgIHJldHVybiBlcnJvcjtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3V0aWxcIik7XG5jb25zdCBab2RFcnJvcl8xID0gcmVxdWlyZShcIi4uL1pvZEVycm9yXCIpO1xuY29uc3QgZXJyb3JNYXAgPSAoaXNzdWUsIF9jdHgpID0+IHtcbiAgICBsZXQgbWVzc2FnZTtcbiAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGU6XG4gICAgICAgICAgICBpZiAoaXNzdWUucmVjZWl2ZWQgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlJlcXVpcmVkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEV4cGVjdGVkICR7aXNzdWUuZXhwZWN0ZWR9LCByZWNlaXZlZCAke2lzc3VlLnJlY2VpdmVkfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWw6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgbGl0ZXJhbCB2YWx1ZSwgZXhwZWN0ZWQgJHtKU09OLnN0cmluZ2lmeShpc3N1ZS5leHBlY3RlZCwgdXRpbF8xLnV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYFVucmVjb2duaXplZCBrZXkocykgaW4gb2JqZWN0OiAke3V0aWxfMS51dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3I6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGlzY3JpbWluYXRvciB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsXzEudXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZW51bSB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsXzEudXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfSwgcmVjZWl2ZWQgJyR7aXNzdWUucmVjZWl2ZWR9J2A7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50czpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBmdW5jdGlvbiBhcmd1bWVudHNgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9yZXR1cm5fdHlwZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBmdW5jdGlvbiByZXR1cm4gdHlwZWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2RhdGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGF0ZWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZzpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUudmFsaWRhdGlvbiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChcImluY2x1ZGVzXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3QgaW5jbHVkZSBcIiR7aXNzdWUudmFsaWRhdGlvbi5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGAke21lc3NhZ2V9IGF0IG9uZSBvciBtb3JlIHBvc2l0aW9ucyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gJHtpc3N1ZS52YWxpZGF0aW9uLnBvc2l0aW9ufWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJzdGFydHNXaXRoXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3Qgc3RhcnQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5zdGFydHNXaXRofVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJlbmRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGVuZCB3aXRoIFwiJHtpc3N1ZS52YWxpZGF0aW9uLmVuZHNXaXRofVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWxfMS51dGlsLmFzc2VydE5ldmVyKGlzc3VlLnZhbGlkYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnZhbGlkYXRpb24gIT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCAke2lzc3VlLnZhbGlkYXRpb259YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbDpcbiAgICAgICAgICAgIGlmIChpc3N1ZS50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBBcnJheSBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IFwiZXhhY3RseVwiIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IGxlYXN0YCA6IGBtb3JlIHRoYW5gfSAke2lzc3VlLm1pbmltdW19IGVsZW1lbnQocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFN0cmluZyBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IFwiZXhhY3RseVwiIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IGxlYXN0YCA6IGBvdmVyYH0gJHtpc3N1ZS5taW5pbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgPyBgZXhhY3RseSBlcXVhbCB0byBgXG4gICAgICAgICAgICAgICAgICAgIDogaXNzdWUuaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgZ3JlYXRlciB0aGFuIGB9JHtpc3N1ZS5taW5pbXVtfWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImRhdGVcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYERhdGUgbXVzdCBiZSAke2lzc3VlLmV4YWN0XG4gICAgICAgICAgICAgICAgICAgID8gYGV4YWN0bHkgZXF1YWwgdG8gYFxuICAgICAgICAgICAgICAgICAgICA6IGlzc3VlLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYGdyZWF0ZXIgdGhhbiBgfSR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1pbmltdW0pKX1gO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWc6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbW9zdGAgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbW9zdGAgOiBgdW5kZXJgfSAke2lzc3VlLm1heGltdW19IGNoYXJhY3RlcihzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgJHtpc3N1ZS5leGFjdFxuICAgICAgICAgICAgICAgICAgICA/IGBleGFjdGx5YFxuICAgICAgICAgICAgICAgICAgICA6IGlzc3VlLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgbGVzcyB0aGFuIG9yIGVxdWFsIHRvYFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImJpZ2ludFwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQmlnSW50IG11c3QgYmUgJHtpc3N1ZS5leGFjdFxuICAgICAgICAgICAgICAgICAgICA/IGBleGFjdGx5YFxuICAgICAgICAgICAgICAgICAgICA6IGlzc3VlLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgbGVzcyB0aGFuIG9yIGVxdWFsIHRvYFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImRhdGVcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYERhdGUgbXVzdCBiZSAke2lzc3VlLmV4YWN0XG4gICAgICAgICAgICAgICAgICAgID8gYGV4YWN0bHlgXG4gICAgICAgICAgICAgICAgICAgIDogaXNzdWUuaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGBzbWFsbGVyIHRoYW4gb3IgZXF1YWwgdG9gXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGBzbWFsbGVyIHRoYW5gfSAke25ldyBEYXRlKE51bWJlcihpc3N1ZS5tYXhpbXVtKSl9YDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5jdXN0b206XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludGVyc2VjdGlvbiByZXN1bHRzIGNvdWxkIG5vdCBiZSBtZXJnZWRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSBhIG11bHRpcGxlIG9mICR7aXNzdWUubXVsdGlwbGVPZn1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUubm90X2Zpbml0ZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIk51bWJlciBtdXN0IGJlIGZpbml0ZVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gX2N0eC5kZWZhdWx0RXJyb3I7XG4gICAgICAgICAgICB1dGlsXzEudXRpbC5hc3NlcnROZXZlcihpc3N1ZSk7XG4gICAgfVxuICAgIHJldHVybiB7IG1lc3NhZ2UgfTtcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBlcnJvck1hcDtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRFcnJvck1hcCA9IGV4cG9ydHMuc2V0RXJyb3JNYXAgPSBleHBvcnRzLmRlZmF1bHRFcnJvck1hcCA9IHZvaWQgMDtcbmNvbnN0IGVuXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbG9jYWxlcy9lblwiKSk7XG5leHBvcnRzLmRlZmF1bHRFcnJvck1hcCA9IGVuXzEuZGVmYXVsdDtcbmxldCBvdmVycmlkZUVycm9yTWFwID0gZW5fMS5kZWZhdWx0O1xuZnVuY3Rpb24gc2V0RXJyb3JNYXAobWFwKSB7XG4gICAgb3ZlcnJpZGVFcnJvck1hcCA9IG1hcDtcbn1cbmV4cG9ydHMuc2V0RXJyb3JNYXAgPSBzZXRFcnJvck1hcDtcbmZ1bmN0aW9uIGdldEVycm9yTWFwKCkge1xuICAgIHJldHVybiBvdmVycmlkZUVycm9yTWFwO1xufVxuZXhwb3J0cy5nZXRFcnJvck1hcCA9IGdldEVycm9yTWFwO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzQXN5bmMgPSBleHBvcnRzLmlzVmFsaWQgPSBleHBvcnRzLmlzRGlydHkgPSBleHBvcnRzLmlzQWJvcnRlZCA9IGV4cG9ydHMuT0sgPSBleHBvcnRzLkRJUlRZID0gZXhwb3J0cy5JTlZBTElEID0gZXhwb3J0cy5QYXJzZVN0YXR1cyA9IGV4cG9ydHMuYWRkSXNzdWVUb0NvbnRleHQgPSBleHBvcnRzLkVNUFRZX1BBVEggPSBleHBvcnRzLm1ha2VJc3N1ZSA9IHZvaWQgMDtcbmNvbnN0IGVycm9yc18xID0gcmVxdWlyZShcIi4uL2Vycm9yc1wiKTtcbmNvbnN0IGVuXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL2xvY2FsZXMvZW5cIikpO1xuY29uc3QgbWFrZUlzc3VlID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgcGF0aCwgZXJyb3JNYXBzLCBpc3N1ZURhdGEgfSA9IHBhcmFtcztcbiAgICBjb25zdCBmdWxsUGF0aCA9IFsuLi5wYXRoLCAuLi4oaXNzdWVEYXRhLnBhdGggfHwgW10pXTtcbiAgICBjb25zdCBmdWxsSXNzdWUgPSB7XG4gICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgfTtcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gXCJcIjtcbiAgICBjb25zdCBtYXBzID0gZXJyb3JNYXBzXG4gICAgICAgIC5maWx0ZXIoKG0pID0+ICEhbSlcbiAgICAgICAgLnNsaWNlKClcbiAgICAgICAgLnJldmVyc2UoKTtcbiAgICBmb3IgKGNvbnN0IG1hcCBvZiBtYXBzKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IG1hcChmdWxsSXNzdWUsIHsgZGF0YSwgZGVmYXVsdEVycm9yOiBlcnJvck1lc3NhZ2UgfSkubWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICAgICAgbWVzc2FnZTogaXNzdWVEYXRhLm1lc3NhZ2UgfHwgZXJyb3JNZXNzYWdlLFxuICAgIH07XG59O1xuZXhwb3J0cy5tYWtlSXNzdWUgPSBtYWtlSXNzdWU7XG5leHBvcnRzLkVNUFRZX1BBVEggPSBbXTtcbmZ1bmN0aW9uIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgaXNzdWVEYXRhKSB7XG4gICAgY29uc3QgaXNzdWUgPSAoMCwgZXhwb3J0cy5tYWtlSXNzdWUpKHtcbiAgICAgICAgaXNzdWVEYXRhOiBpc3N1ZURhdGEsXG4gICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCxcbiAgICAgICAgICAgICgwLCBlcnJvcnNfMS5nZXRFcnJvck1hcCkoKSxcbiAgICAgICAgICAgIGVuXzEuZGVmYXVsdCwgLy8gdGhlbiBnbG9iYWwgZGVmYXVsdCBtYXBcbiAgICAgICAgXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgfSk7XG4gICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaChpc3N1ZSk7XG59XG5leHBvcnRzLmFkZElzc3VlVG9Db250ZXh0ID0gYWRkSXNzdWVUb0NvbnRleHQ7XG5jbGFzcyBQYXJzZVN0YXR1cyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcInZhbGlkXCI7XG4gICAgfVxuICAgIGRpcnR5KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gXCJ2YWxpZFwiKVxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiZGlydHlcIjtcbiAgICB9XG4gICAgYWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImFib3J0ZWRcIjtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHRzKSB7XG4gICAgICAgIGNvbnN0IGFycmF5VmFsdWUgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzIG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgYXJyYXlWYWx1ZS5wdXNoKHMudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogYXJyYXlWYWx1ZSB9O1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgbWVyZ2VPYmplY3RBc3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IHN5bmNQYWlycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IGF3YWl0IHBhaXIua2V5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBhd2FpdCBwYWlyLnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBmaW5hbE9iamVjdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsga2V5LCB2YWx1ZSB9ID0gcGFpcjtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5JTlZBTElEO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBpZiAodmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBpZiAoa2V5LnZhbHVlICE9PSBcIl9fcHJvdG9fX1wiICYmXG4gICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZS52YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiB8fCBwYWlyLmFsd2F5c1NldCkpIHtcbiAgICAgICAgICAgICAgICBmaW5hbE9iamVjdFtrZXkudmFsdWVdID0gdmFsdWUudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE9iamVjdCB9O1xuICAgIH1cbn1cbmV4cG9ydHMuUGFyc2VTdGF0dXMgPSBQYXJzZVN0YXR1cztcbmV4cG9ydHMuSU5WQUxJRCA9IE9iamVjdC5mcmVlemUoe1xuICAgIHN0YXR1czogXCJhYm9ydGVkXCIsXG59KTtcbmNvbnN0IERJUlRZID0gKHZhbHVlKSA9PiAoeyBzdGF0dXM6IFwiZGlydHlcIiwgdmFsdWUgfSk7XG5leHBvcnRzLkRJUlRZID0gRElSVFk7XG5jb25zdCBPSyA9ICh2YWx1ZSkgPT4gKHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlIH0pO1xuZXhwb3J0cy5PSyA9IE9LO1xuY29uc3QgaXNBYm9ydGVkID0gKHgpID0+IHguc3RhdHVzID09PSBcImFib3J0ZWRcIjtcbmV4cG9ydHMuaXNBYm9ydGVkID0gaXNBYm9ydGVkO1xuY29uc3QgaXNEaXJ0eSA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJkaXJ0eVwiO1xuZXhwb3J0cy5pc0RpcnR5ID0gaXNEaXJ0eTtcbmNvbnN0IGlzVmFsaWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwidmFsaWRcIjtcbmV4cG9ydHMuaXNWYWxpZCA9IGlzVmFsaWQ7XG5jb25zdCBpc0FzeW5jID0gKHgpID0+IHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHggaW5zdGFuY2VvZiBQcm9taXNlO1xuZXhwb3J0cy5pc0FzeW5jID0gaXNBc3luYztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmVycm9yVXRpbCA9IHZvaWQgMDtcbnZhciBlcnJvclV0aWw7XG4oZnVuY3Rpb24gKGVycm9yVXRpbCkge1xuICAgIGVycm9yVXRpbC5lcnJUb09iaiA9IChtZXNzYWdlKSA9PiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZSB9IDogbWVzc2FnZSB8fCB7fTtcbiAgICBlcnJvclV0aWwudG9TdHJpbmcgPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlIDogbWVzc2FnZSA9PT0gbnVsbCB8fCBtZXNzYWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZXNzYWdlLm1lc3NhZ2U7XG59KShlcnJvclV0aWwgPSBleHBvcnRzLmVycm9yVXRpbCB8fCAoZXhwb3J0cy5lcnJvclV0aWwgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRhdGUgPSBleHBvcnRzLmJvb2xlYW4gPSBleHBvcnRzLmJpZ2ludCA9IGV4cG9ydHMuYXJyYXkgPSBleHBvcnRzLmFueSA9IGV4cG9ydHMuY29lcmNlID0gZXhwb3J0cy5ab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSBleHBvcnRzLmxhdGUgPSBleHBvcnRzLlpvZFNjaGVtYSA9IGV4cG9ydHMuU2NoZW1hID0gZXhwb3J0cy5jdXN0b20gPSBleHBvcnRzLlpvZFJlYWRvbmx5ID0gZXhwb3J0cy5ab2RQaXBlbGluZSA9IGV4cG9ydHMuWm9kQnJhbmRlZCA9IGV4cG9ydHMuQlJBTkQgPSBleHBvcnRzLlpvZE5hTiA9IGV4cG9ydHMuWm9kQ2F0Y2ggPSBleHBvcnRzLlpvZERlZmF1bHQgPSBleHBvcnRzLlpvZE51bGxhYmxlID0gZXhwb3J0cy5ab2RPcHRpb25hbCA9IGV4cG9ydHMuWm9kVHJhbnNmb3JtZXIgPSBleHBvcnRzLlpvZEVmZmVjdHMgPSBleHBvcnRzLlpvZFByb21pc2UgPSBleHBvcnRzLlpvZE5hdGl2ZUVudW0gPSBleHBvcnRzLlpvZEVudW0gPSBleHBvcnRzLlpvZExpdGVyYWwgPSBleHBvcnRzLlpvZExhenkgPSBleHBvcnRzLlpvZEZ1bmN0aW9uID0gZXhwb3J0cy5ab2RTZXQgPSBleHBvcnRzLlpvZE1hcCA9IGV4cG9ydHMuWm9kUmVjb3JkID0gZXhwb3J0cy5ab2RUdXBsZSA9IGV4cG9ydHMuWm9kSW50ZXJzZWN0aW9uID0gZXhwb3J0cy5ab2REaXNjcmltaW5hdGVkVW5pb24gPSBleHBvcnRzLlpvZFVuaW9uID0gZXhwb3J0cy5ab2RPYmplY3QgPSBleHBvcnRzLlpvZEFycmF5ID0gZXhwb3J0cy5ab2RWb2lkID0gZXhwb3J0cy5ab2ROZXZlciA9IGV4cG9ydHMuWm9kVW5rbm93biA9IGV4cG9ydHMuWm9kQW55ID0gZXhwb3J0cy5ab2ROdWxsID0gZXhwb3J0cy5ab2RVbmRlZmluZWQgPSBleHBvcnRzLlpvZFN5bWJvbCA9IGV4cG9ydHMuWm9kRGF0ZSA9IGV4cG9ydHMuWm9kQm9vbGVhbiA9IGV4cG9ydHMuWm9kQmlnSW50ID0gZXhwb3J0cy5ab2ROdW1iZXIgPSBleHBvcnRzLlpvZFN0cmluZyA9IGV4cG9ydHMuWm9kVHlwZSA9IHZvaWQgMDtcbmV4cG9ydHMuTkVWRVIgPSBleHBvcnRzLnZvaWQgPSBleHBvcnRzLnVua25vd24gPSBleHBvcnRzLnVuaW9uID0gZXhwb3J0cy51bmRlZmluZWQgPSBleHBvcnRzLnR1cGxlID0gZXhwb3J0cy50cmFuc2Zvcm1lciA9IGV4cG9ydHMuc3ltYm9sID0gZXhwb3J0cy5zdHJpbmcgPSBleHBvcnRzLnN0cmljdE9iamVjdCA9IGV4cG9ydHMuc2V0ID0gZXhwb3J0cy5yZWNvcmQgPSBleHBvcnRzLnByb21pc2UgPSBleHBvcnRzLnByZXByb2Nlc3MgPSBleHBvcnRzLnBpcGVsaW5lID0gZXhwb3J0cy5vc3RyaW5nID0gZXhwb3J0cy5vcHRpb25hbCA9IGV4cG9ydHMub251bWJlciA9IGV4cG9ydHMub2Jvb2xlYW4gPSBleHBvcnRzLm9iamVjdCA9IGV4cG9ydHMubnVtYmVyID0gZXhwb3J0cy5udWxsYWJsZSA9IGV4cG9ydHMubnVsbCA9IGV4cG9ydHMubmV2ZXIgPSBleHBvcnRzLm5hdGl2ZUVudW0gPSBleHBvcnRzLm5hbiA9IGV4cG9ydHMubWFwID0gZXhwb3J0cy5saXRlcmFsID0gZXhwb3J0cy5sYXp5ID0gZXhwb3J0cy5pbnRlcnNlY3Rpb24gPSBleHBvcnRzLmluc3RhbmNlb2YgPSBleHBvcnRzLmZ1bmN0aW9uID0gZXhwb3J0cy5lbnVtID0gZXhwb3J0cy5lZmZlY3QgPSBleHBvcnRzLmRpc2NyaW1pbmF0ZWRVbmlvbiA9IHZvaWQgMDtcbmNvbnN0IGVycm9yc18xID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xuY29uc3QgZXJyb3JVdGlsXzEgPSByZXF1aXJlKFwiLi9oZWxwZXJzL2Vycm9yVXRpbFwiKTtcbmNvbnN0IHBhcnNlVXRpbF8xID0gcmVxdWlyZShcIi4vaGVscGVycy9wYXJzZVV0aWxcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi9oZWxwZXJzL3V0aWxcIik7XG5jb25zdCBab2RFcnJvcl8xID0gcmVxdWlyZShcIi4vWm9kRXJyb3JcIik7XG5jbGFzcyBQYXJzZUlucHV0TGF6eVBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgdmFsdWUsIHBhdGgsIGtleSkge1xuICAgICAgICB0aGlzLl9jYWNoZWRQYXRoID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuX2tleSA9IGtleTtcbiAgICB9XG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVkUGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9rZXkgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCAuLi50aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkUGF0aC5wdXNoKC4uLnRoaXMuX3BhdGgsIHRoaXMuX2tleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFBhdGg7XG4gICAgfVxufVxuY29uc3QgaGFuZGxlUmVzdWx0ID0gKGN0eCwgcmVzdWx0KSA9PiB7XG4gICAgaWYgKCgwLCBwYXJzZVV0aWxfMS5pc1ZhbGlkKShyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdC52YWx1ZSB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFjdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZhbGlkYXRpb24gZmFpbGVkIGJ1dCBubyBpc3N1ZXMgZGV0ZWN0ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcl8xLlpvZEVycm9yKGN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufTtcbmZ1bmN0aW9uIHByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBjb25zdCB7IGVycm9yTWFwLCBpbnZhbGlkX3R5cGVfZXJyb3IsIHJlcXVpcmVkX2Vycm9yLCBkZXNjcmlwdGlvbiB9ID0gcGFyYW1zO1xuICAgIGlmIChlcnJvck1hcCAmJiAoaW52YWxpZF90eXBlX2Vycm9yIHx8IHJlcXVpcmVkX2Vycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHVzZSBcImludmFsaWRfdHlwZV9lcnJvclwiIG9yIFwicmVxdWlyZWRfZXJyb3JcIiBpbiBjb25qdW5jdGlvbiB3aXRoIGN1c3RvbSBlcnJvciBtYXAuYCk7XG4gICAgfVxuICAgIGlmIChlcnJvck1hcClcbiAgICAgICAgcmV0dXJuIHsgZXJyb3JNYXA6IGVycm9yTWFwLCBkZXNjcmlwdGlvbiB9O1xuICAgIGNvbnN0IGN1c3RvbU1hcCA9IChpc3MsIGN0eCkgPT4ge1xuICAgICAgICBpZiAoaXNzLmNvZGUgIT09IFwiaW52YWxpZF90eXBlXCIpXG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIGlmICh0eXBlb2YgY3R4LmRhdGEgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IHJlcXVpcmVkX2Vycm9yICE9PSBudWxsICYmIHJlcXVpcmVkX2Vycm9yICE9PSB2b2lkIDAgPyByZXF1aXJlZF9lcnJvciA6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBpbnZhbGlkX3R5cGVfZXJyb3IgIT09IG51bGwgJiYgaW52YWxpZF90eXBlX2Vycm9yICE9PSB2b2lkIDAgPyBpbnZhbGlkX3R5cGVfZXJyb3IgOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgfTtcbiAgICByZXR1cm4geyBlcnJvck1hcDogY3VzdG9tTWFwLCBkZXNjcmlwdGlvbiB9O1xufVxuY2xhc3MgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoZGVmKSB7XG4gICAgICAgIC8qKiBBbGlhcyBvZiBzYWZlUGFyc2VBc3luYyAqL1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc2FmZVBhcnNlQXN5bmM7XG4gICAgICAgIHRoaXMuX2RlZiA9IGRlZjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IHRoaXMucGFyc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2UgPSB0aGlzLnNhZmVQYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBhcnNlQXN5bmMgPSB0aGlzLnBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2VBc3luYyA9IHRoaXMuc2FmZVBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zcGEgPSB0aGlzLnNwYS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZmluZSA9IHRoaXMucmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lbWVudCA9IHRoaXMucmVmaW5lbWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnN1cGVyUmVmaW5lID0gdGhpcy5zdXBlclJlZmluZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9wdGlvbmFsID0gdGhpcy5vcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxhYmxlID0gdGhpcy5udWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxpc2ggPSB0aGlzLm51bGxpc2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hcnJheSA9IHRoaXMuYXJyYXkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gdGhpcy5wcm9taXNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3IgPSB0aGlzLm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYW5kID0gdGhpcy5hbmQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJyYW5kID0gdGhpcy5icmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSB0aGlzLmRlZmF1bHQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jYXRjaCA9IHRoaXMuY2F0Y2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXNjcmliZSA9IHRoaXMuZGVzY3JpYmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5waXBlID0gdGhpcy5waXBlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVhZG9ubHkgPSB0aGlzLnJlYWRvbmx5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNOdWxsYWJsZSA9IHRoaXMuaXNOdWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSB0aGlzLmlzT3B0aW9uYWwuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBfZ2V0VHlwZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gKDAsIHV0aWxfMS5nZXRQYXJzZWRUeXBlKShpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpIHtcbiAgICAgICAgcmV0dXJuIChjdHggfHwge1xuICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6ICgwLCB1dGlsXzEuZ2V0UGFyc2VkVHlwZSkoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBuZXcgcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMoKSxcbiAgICAgICAgICAgIGN0eDoge1xuICAgICAgICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhcnNlZFR5cGU6ICgwLCB1dGlsXzEuZ2V0UGFyc2VkVHlwZSkoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3BhcnNlU3luYyhpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGlmICgoMCwgcGFyc2VVdGlsXzEuaXNBc3luYykocmVzdWx0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3luY2hyb25vdXMgcGFyc2UgZW5jb3VudGVyZWQgcHJvbWlzZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgX3BhcnNlQXN5bmMoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2UoaW5wdXQpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgfVxuICAgIHBhcnNlKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNhZmVQYXJzZShkYXRhLCBwYXJhbXMpO1xuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICB9XG4gICAgc2FmZVBhcnNlKGRhdGEsIHBhcmFtcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGN0eCA9IHtcbiAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgYXN5bmM6IChfYSA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5hc3luYykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29udGV4dHVhbEVycm9yTWFwOiBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuZXJyb3JNYXAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5wYXRoKSB8fCBbXSxcbiAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGFyc2VkVHlwZTogKDAsIHV0aWxfMS5nZXRQYXJzZWRUeXBlKShkYXRhKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2VTeW5jKHsgZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVzdWx0KGN0eCwgcmVzdWx0KTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpO1xuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICB9XG4gICAgYXN5bmMgc2FmZVBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHtcbiAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgY29udGV4dHVhbEVycm9yTWFwOiBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuZXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5wYXRoKSB8fCBbXSxcbiAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGFyc2VkVHlwZTogKDAsIHV0aWxfMS5nZXRQYXJzZWRUeXBlKShkYXRhKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbWF5YmVBc3luY1Jlc3VsdCA9IHRoaXMuX3BhcnNlKHsgZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoKDAsIHBhcnNlVXRpbF8xLmlzQXN5bmMpKG1heWJlQXN5bmNSZXN1bHQpXG4gICAgICAgICAgICA/IG1heWJlQXN5bmNSZXN1bHRcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKG1heWJlQXN5bmNSZXN1bHQpKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChjdHgsIHJlc3VsdCk7XG4gICAgfVxuICAgIHJlZmluZShjaGVjaywgbWVzc2FnZSkge1xuICAgICAgICBjb25zdCBnZXRJc3N1ZVByb3BlcnRpZXMgPSAodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG1lc3NhZ2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UodmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNoZWNrKHZhbCk7XG4gICAgICAgICAgICBjb25zdCBzZXRFcnJvciA9ICgpID0+IGN0eC5hZGRJc3N1ZSh7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuY3VzdG9tLFxuICAgICAgICAgICAgICAgIC4uLmdldElzc3VlUHJvcGVydGllcyh2YWwpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIFByb21pc2UgIT09IFwidW5kZWZpbmVkXCIgJiYgcmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVmaW5lbWVudChjaGVjaywgcmVmaW5lbWVudERhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQoKHZhbCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNoZWNrKHZhbCkpIHtcbiAgICAgICAgICAgICAgICBjdHguYWRkSXNzdWUodHlwZW9mIHJlZmluZW1lbnREYXRhID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgPyByZWZpbmVtZW50RGF0YSh2YWwsIGN0eClcbiAgICAgICAgICAgICAgICAgICAgOiByZWZpbmVtZW50RGF0YSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfcmVmaW5lbWVudChyZWZpbmVtZW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJyZWZpbmVtZW50XCIsIHJlZmluZW1lbnQgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN1cGVyUmVmaW5lKHJlZmluZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQocmVmaW5lbWVudCk7XG4gICAgfVxuICAgIG9wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gWm9kTnVsbGFibGUuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxpc2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm51bGxhYmxlKCkub3B0aW9uYWwoKTtcbiAgICB9XG4gICAgYXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBab2RBcnJheS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgcHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZFByb21pc2UuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG9yKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gWm9kVW5pb24uY3JlYXRlKFt0aGlzLCBvcHRpb25dLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBhbmQoaW5jb21pbmcpIHtcbiAgICAgICAgcmV0dXJuIFpvZEludGVyc2VjdGlvbi5jcmVhdGUodGhpcywgaW5jb21pbmcsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIHRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInRyYW5zZm9ybVwiLCB0cmFuc2Zvcm0gfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlZmF1bHQoZGVmKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBpbm5lclR5cGU6IHRoaXMsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBicmFuZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCcmFuZGVkKHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChkZWYpIHtcbiAgICAgICAgY29uc3QgY2F0Y2hWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgY2F0Y2hWYWx1ZTogY2F0Y2hWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVzY3JpYmUoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29uc3QgVGhpcyA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHJldHVybiBuZXcgVGhpcyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBpcGUodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBab2RQaXBlbGluZS5jcmVhdGUodGhpcywgdGFyZ2V0KTtcbiAgICB9XG4gICAgcmVhZG9ubHkoKSB7XG4gICAgICAgIHJldHVybiBab2RSZWFkb25seS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIGlzT3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZSh1bmRlZmluZWQpLnN1Y2Nlc3M7XG4gICAgfVxuICAgIGlzTnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZShudWxsKS5zdWNjZXNzO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kVHlwZSA9IFpvZFR5cGU7XG5leHBvcnRzLlNjaGVtYSA9IFpvZFR5cGU7XG5leHBvcnRzLlpvZFNjaGVtYSA9IFpvZFR5cGU7XG5jb25zdCBjdWlkUmVnZXggPSAvXmNbXlxccy1dezgsfSQvaTtcbmNvbnN0IGN1aWQyUmVnZXggPSAvXlthLXpdW2EtejAtOV0qJC87XG5jb25zdCB1bGlkUmVnZXggPSAvXlswLTlBLUhKS01OUC1UVi1aXXsyNn0kLztcbi8vIGNvbnN0IHV1aWRSZWdleCA9XG4vLyAgIC9eKFthLWYwLTldezh9LVthLWYwLTldezR9LVsxLTVdW2EtZjAtOV17M30tW2EtZjAtOV17NH0tW2EtZjAtOV17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7XG5jb25zdCB1dWlkUmVnZXggPSAvXlswLTlhLWZBLUZdezh9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezEyfSQvaTtcbi8vIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ2MTgxLzE1NTAxNTVcbi8vIG9sZCB2ZXJzaW9uOiB0b28gc2xvdywgZGlkbid0IHN1cHBvcnQgdW5pY29kZVxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKCgoW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKyhcXC4oW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKykqKXwoKFxceDIyKSgoKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KChbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHg3Zl18XFx4MjF8W1xceDIzLVxceDViXXxbXFx4NWQtXFx4N2VdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoXFxcXChbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGQtXFx4N2ZdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpKSooKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KFxceDIyKSkpQCgoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4pKygoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSQvaTtcbi8vb2xkIGVtYWlsIHJlZ2V4XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID0gL14oKFtePD4oKVtcXF0uLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXS4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKCg/IS0pKFtePD4oKVtcXF0uLDs6XFxzQFwiXStcXC4pK1tePD4oKVtcXF0uLDs6XFxzQFwiXXsxLH0pW14tPD4oKVtcXF0uLDs6XFxzQFwiXSQvaTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcWygoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcXSl8KFxcW0lQdjY6KChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKVxcXSl8KFtBLVphLXowLTldKFtBLVphLXowLTktXSpbQS1aYS16MC05XSkqKFxcLltBLVphLXpdezIsfSkrKSkkLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXlthLXpBLVowLTlcXC5cXCFcXCNcXCRcXCVcXCZcXCdcXCpcXCtcXC9cXD1cXD9cXF5cXF9cXGBcXHtcXHxcXH1cXH5cXC1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvO1xuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eKD86W2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKyg/OlxcLlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSspKnxcIig/OltcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDIxXFx4MjMtXFx4NWJcXHg1ZC1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKlwiKUAoPzooPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XFwuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/fFxcWyg/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/fFthLXowLTktXSpbYS16MC05XTooPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMS1cXHg1YVxceDUzLVxceDdmXXxcXFxcW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBlLVxceDdmXSkrKVxcXSkkL2k7XG5jb25zdCBlbWFpbFJlZ2V4ID0gL14oPyFcXC4pKD8hLipcXC5cXC4pKFtBLVowLTlfKy1cXC5dKilbQS1aMC05XystXUAoW0EtWjAtOV1bQS1aMC05XFwtXSpcXC4pK1tBLVpdezIsfSQvaTtcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXlthLXowLTkuISMkJSbigJkqKy89P15fYHt8fX4tXStAW2EtejAtOS1dKyg/OlxcLlthLXowLTlcXC1dKykqJC9pO1xuLy8gZnJvbSBodHRwczovL3RoZWtldmluc2NvdHQuY29tL2Vtb2ppcy1pbi1qYXZhc2NyaXB0LyN3cml0aW5nLWEtcmVndWxhci1leHByZXNzaW9uXG5jb25zdCBfZW1vamlSZWdleCA9IGBeKFxcXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY318XFxcXHB7RW1vamlfQ29tcG9uZW50fSkrJGA7XG5sZXQgZW1vamlSZWdleDtcbmNvbnN0IGlwdjRSZWdleCA9IC9eKCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpJC87XG5jb25zdCBpcHY2UmVnZXggPSAvXigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSkkLztcbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzE0MzIzMVxuY29uc3QgZGF0ZXRpbWVSZWdleCA9IChhcmdzKSA9PiB7XG4gICAgaWYgKGFyZ3MucHJlY2lzaW9uKSB7XG4gICAgICAgIGlmIChhcmdzLm9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF5cXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfVRcXFxcZHsyfTpcXFxcZHsyfTpcXFxcZHsyfVxcXFwuXFxcXGR7JHthcmdzLnByZWNpc2lvbn19KChbKy1dXFxcXGR7Mn0oOj9cXFxcZHsyfSk/KXxaKSRgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKGBeXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1UXFxcXGR7Mn06XFxcXGR7Mn06XFxcXGR7Mn1cXFxcLlxcXFxkeyR7YXJncy5wcmVjaXNpb259fVokYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYXJncy5wcmVjaXNpb24gPT09IDApIHtcbiAgICAgICAgaWYgKGFyZ3Mub2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXlxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9VFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9KChbKy1dXFxcXGR7Mn0oOj9cXFxcZHsyfSk/KXxaKSRgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKGBeXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1UXFxcXGR7Mn06XFxcXGR7Mn06XFxcXGR7Mn1aJGApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoYXJncy5vZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKGBeXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1UXFxcXGR7Mn06XFxcXGR7Mn06XFxcXGR7Mn0oXFxcXC5cXFxcZCspPygoWystXVxcXFxkezJ9KDo/XFxcXGR7Mn0pPyl8WikkYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXlxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9VFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9KFxcXFwuXFxcXGQrKT9aJGApO1xuICAgICAgICB9XG4gICAgfVxufTtcbmZ1bmN0aW9uIGlzVmFsaWRJUChpcCwgdmVyc2lvbikge1xuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NlwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY2UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmNsYXNzIFpvZFN0cmluZyBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IFN0cmluZyhpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zdHJpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zdHJpbmcsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPiBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJsZW5ndGhcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGlucHV0LmRhdGEubGVuZ3RoID4gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBpbnB1dC5kYXRhLmxlbmd0aCA8IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcgfHwgdG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVtYWlsXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVtYWlsUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1vamlcIikge1xuICAgICAgICAgICAgICAgIGlmICghZW1vamlSZWdleCkge1xuICAgICAgICAgICAgICAgICAgICBlbW9qaVJlZ2V4ID0gbmV3IFJlZ0V4cChfZW1vamlSZWdleCwgXCJ1XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWVtb2ppUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1vamlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXVpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1dWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXVpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1aWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjdWlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImN1aWQyXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1aWQyUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZDJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1bGlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidWxpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1cmxcIikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBVUkwoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICBjaGVjay5yZWdleC5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RSZXN1bHQgPSBjaGVjay5yZWdleC50ZXN0KGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgICAgIGlmICghdGVzdFJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwicmVnZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidHJpbVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpbmNsdWRlc1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLmluY2x1ZGVzKGNoZWNrLnZhbHVlLCBjaGVjay5wb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgaW5jbHVkZXM6IGNoZWNrLnZhbHVlLCBwb3NpdGlvbjogY2hlY2sucG9zaXRpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvTG93ZXJDYXNlXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b1VwcGVyQ2FzZVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwic3RhcnRzV2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLnN0YXJ0c1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IHN0YXJ0c1dpdGg6IGNoZWNrLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbmRzV2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLmVuZHNXaXRoKGNoZWNrLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBlbmRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImRhdGV0aW1lXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IGRhdGV0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiaXBcIikge1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZElQKGlucHV0LmRhdGEsIGNoZWNrLnZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJpcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbF8xLnV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBfcmVnZXgocmVnZXgsIHZhbGlkYXRpb24sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmaW5lbWVudCgoZGF0YSkgPT4gcmVnZXgudGVzdChkYXRhKSwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbixcbiAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVtYWlsKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbWFpbFwiLCAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHVybChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidXJsXCIsIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgZW1vamkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImVtb2ppXCIsIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdXVpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidXVpZFwiLCAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGN1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImN1aWRcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBjdWlkMihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZDJcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1bGlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1bGlkXCIsIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgaXAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImlwXCIsIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgZGF0ZXRpbWUob3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAgICAgICAgIG9mZnNldDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogb3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICBwcmVjaXNpb246IHR5cGVvZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbikgPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbixcbiAgICAgICAgICAgIG9mZnNldDogKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm9mZnNldCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVnZXgocmVnZXgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwicmVnZXhcIixcbiAgICAgICAgICAgIHJlZ2V4OiByZWdleCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGluY2x1ZGVzKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImluY2x1ZGVzXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBwb3NpdGlvbjogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnBvc2l0aW9uLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXJ0c1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwic3RhcnRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW5kc1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZW5kc1dpdGhcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1pbihtaW5MZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluTGVuZ3RoLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBtYXhMZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImxlbmd0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IGxlbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB6LnN0cmluZygpLm1pbigxKSBpbnN0ZWFkLlxuICAgICAqIEBzZWUge0BsaW5rIFpvZFN0cmluZy5taW59XG4gICAgICovXG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgdHJpbSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRyaW1cIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRvTG93ZXJDYXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9Mb3dlckNhc2VcIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRvVXBwZXJDYXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9VcHBlckNhc2VcIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBpc0RhdGV0aW1lKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImRhdGV0aW1lXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbWFpbCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJlbWFpbFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVVJMKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVybFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1vamkoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1vamlcIik7XG4gICAgfVxuICAgIGdldCBpc1VVSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidXVpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ1VJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjdWlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEMigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjdWlkMlwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVUxJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1bGlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNJUCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpcFwiKTtcbiAgICB9XG4gICAgZ2V0IG1pbkxlbmd0aCgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4TGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RTdHJpbmcgPSBab2RTdHJpbmc7XG5ab2RTdHJpbmcuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nLFxuICAgICAgICBjb2VyY2U6IChfYSA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5jb2VyY2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzk2NjQ4NC93aHktZG9lcy1tb2R1bHVzLW9wZXJhdG9yLXJldHVybi1mcmFjdGlvbmFsLW51bWJlci1pbi1qYXZhc2NyaXB0LzMxNzExMDM0IzMxNzExMDM0XG5mdW5jdGlvbiBmbG9hdFNhZmVSZW1haW5kZXIodmFsLCBzdGVwKSB7XG4gICAgY29uc3QgdmFsRGVjQ291bnQgPSAodmFsLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBjb25zdCBzdGVwRGVjQ291bnQgPSAoc3RlcC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3QgZGVjQ291bnQgPSB2YWxEZWNDb3VudCA+IHN0ZXBEZWNDb3VudCA/IHZhbERlY0NvdW50IDogc3RlcERlY0NvdW50O1xuICAgIGNvbnN0IHZhbEludCA9IHBhcnNlSW50KHZhbC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgY29uc3Qgc3RlcEludCA9IHBhcnNlSW50KHN0ZXAudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIHJldHVybiAodmFsSW50ICUgc3RlcEludCkgLyBNYXRoLnBvdygxMCwgZGVjQ291bnQpO1xufVxuY2xhc3MgWm9kTnVtYmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWluID0gdGhpcy5ndGU7XG4gICAgICAgIHRoaXMubWF4ID0gdGhpcy5sdGU7XG4gICAgICAgIHRoaXMuc3RlcCA9IHRoaXMubXVsdGlwbGVPZjtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gTnVtYmVyKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm51bWJlcixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcImludFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1dGlsXzEudXRpbC5pc0ludGVnZXIoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJpbnRlZ2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlZDogXCJmbG9hdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGNoZWNrLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICA/IGlucHV0LmRhdGEgPCBjaGVjay52YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6IGlucHV0LmRhdGEgPD0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGNoZWNrLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICA/IGlucHV0LmRhdGEgPiBjaGVjay52YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6IGlucHV0LmRhdGEgPj0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIGlmIChmbG9hdFNhZmVSZW1haW5kZXIoaW5wdXQuZGF0YSwgY2hlY2sudmFsdWUpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJmaW5pdGVcIikge1xuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUubm90X2Zpbml0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsXzEudXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGludChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImludFwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25wb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZpbml0ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImZpbml0ZVwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2FmZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KS5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5WYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG4gICAgZ2V0IGlzSW50KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImludFwiIHx8XG4gICAgICAgICAgICAoY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIgJiYgdXRpbF8xLnV0aWwuaXNJbnRlZ2VyKGNoLnZhbHVlKSkpO1xuICAgIH1cbiAgICBnZXQgaXNGaW5pdGUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsLCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcImZpbml0ZVwiIHx8XG4gICAgICAgICAgICAgICAgY2gua2luZCA9PT0gXCJpbnRcIiB8fFxuICAgICAgICAgICAgICAgIGNoLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShtaW4pICYmIE51bWJlci5pc0Zpbml0ZShtYXgpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kTnVtYmVyID0gWm9kTnVtYmVyO1xuWm9kTnVtYmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVtYmVyLFxuICAgICAgICBjb2VyY2U6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSB8fCBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEJpZ0ludCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBCaWdJbnQoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuYmlnaW50KSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUuYmlnaW50LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGNoZWNrLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICA/IGlucHV0LmRhdGEgPCBjaGVjay52YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6IGlucHV0LmRhdGEgPD0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGNoZWNrLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICA/IGlucHV0LmRhdGEgPiBjaGVjay52YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6IGlucHV0LmRhdGEgPj0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhICUgY2hlY2sudmFsdWUgIT09IEJpZ0ludCgwKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZixcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlT2Y6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWxfMS51dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ3RlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ucG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibXVsdGlwbGVPZlwiLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RCaWdJbnQgPSBab2RCaWdJbnQ7XG5ab2RCaWdJbnQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQmlnSW50LFxuICAgICAgICBjb2VyY2U6IChfYSA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5jb2VyY2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kQm9vbGVhbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IEJvb2xlYW4oaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuYm9vbGVhbikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmJvb2xlYW4sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZEJvb2xlYW4gPSBab2RCb29sZWFuO1xuWm9kQm9vbGVhbi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RCb29sZWFuKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCb29sZWFuLFxuICAgICAgICBjb2VyY2U6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSB8fCBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZERhdGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBuZXcgRGF0ZShpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5kYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUuZGF0ZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05hTihpbnB1dC5kYXRhLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9kYXRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEuZ2V0VGltZSgpID4gY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsXzEudXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLnZhbHVlLFxuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKGlucHV0LmRhdGEuZ2V0VGltZSgpKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtaW4obWluRGF0ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBtaW5EYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhEYXRlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IG1heERhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pbkRhdGUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbiAhPSBudWxsID8gbmV3IERhdGUobWluKSA6IG51bGw7XG4gICAgfVxuICAgIGdldCBtYXhEYXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXggIT0gbnVsbCA/IG5ldyBEYXRlKG1heCkgOiBudWxsO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kRGF0ZSA9IFpvZERhdGU7XG5ab2REYXRlLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICBjb2VyY2U6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSB8fCBmYWxzZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kU3ltYm9sIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnN5bWJvbCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnN5bWJvbCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kU3ltYm9sID0gWm9kU3ltYm9sO1xuWm9kU3ltYm9sLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFN5bWJvbCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3ltYm9sLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kVW5kZWZpbmVkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kVW5kZWZpbmVkID0gWm9kVW5kZWZpbmVkO1xuWm9kVW5kZWZpbmVkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuZGVmaW5lZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5kZWZpbmVkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kTnVsbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5udWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUubnVsbCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kTnVsbCA9IFpvZE51bGw7XG5ab2ROdWxsLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGwoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RBbnkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLy8gdG8gcHJldmVudCBpbnN0YW5jZXMgb2Ygb3RoZXIgY2xhc3NlcyBmcm9tIGV4dGVuZGluZyBab2RBbnkuIHRoaXMgY2F1c2VzIGlzc3VlcyB3aXRoIGNhdGNoYWxsIGluIFpvZE9iamVjdC5cbiAgICAgICAgdGhpcy5fYW55ID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kQW55ID0gWm9kQW55O1xuWm9kQW55LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEFueSh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kVW5rbm93biBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvLyByZXF1aXJlZFxuICAgICAgICB0aGlzLl91bmtub3duID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kVW5rbm93biA9IFpvZFVua25vd247XG5ab2RVbmtub3duLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVua25vd24oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVua25vd24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2ROZXZlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUubmV2ZXIsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICB9XG59XG5leHBvcnRzLlpvZE5ldmVyID0gWm9kTmV2ZXI7XG5ab2ROZXZlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROZXZlcih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXIsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RWb2lkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnZvaWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZFZvaWQgPSBab2RWb2lkO1xuWm9kVm9pZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RWb2lkKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RWb2lkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kQXJyYXkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHgsIHN0YXR1cyB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLmV4YWN0TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjdHguZGF0YS5sZW5ndGggPiBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICAgIGlmICh0b29CaWcgfHwgdG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiB0b29CaWcgPyBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnIDogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiAodG9vU21hbGwgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiAodG9vQmlnID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1pbkxlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5taW5MZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5MZW5ndGgudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5MZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1heExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA+IGRlZi5tYXhMZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4TGVuZ3RoLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWF4TGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VBc3luYyhuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKTtcbiAgICAgICAgICAgIH0pKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZVN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdCk7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxuICAgIG1pbihtaW5MZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtaW5MZW5ndGg6IHsgdmFsdWU6IG1pbkxlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWF4TGVuZ3RoOiB7IHZhbHVlOiBtYXhMZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGVuZ3RoKGxlbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGV4YWN0TGVuZ3RoOiB7IHZhbHVlOiBsZW4sIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgbWVzc2FnZSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RBcnJheSA9IFpvZEFycmF5O1xuWm9kQXJyYXkuY3JlYXRlID0gKHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgIHR5cGU6IHNjaGVtYSxcbiAgICAgICAgbWluTGVuZ3RoOiBudWxsLFxuICAgICAgICBtYXhMZW5ndGg6IG51bGwsXG4gICAgICAgIGV4YWN0TGVuZ3RoOiBudWxsLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFycmF5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZnVuY3Rpb24gZGVlcFBhcnRpYWxpZnkoc2NoZW1hKSB7XG4gICAgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9iamVjdCkge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEuc2hhcGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gc2NoZW1hLnNoYXBlW2tleV07XG4gICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gWm9kT3B0aW9uYWwuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KGZpZWxkU2NoZW1hKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4uc2NoZW1hLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RBcnJheSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgdHlwZTogZGVlcFBhcnRpYWxpZnkoc2NoZW1hLmVsZW1lbnQpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShzY2hlbWEudW53cmFwKCkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kTnVsbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIFpvZE51bGxhYmxlLmNyZWF0ZShkZWVwUGFydGlhbGlmeShzY2hlbWEudW53cmFwKCkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kVHVwbGUpIHtcbiAgICAgICAgcmV0dXJuIFpvZFR1cGxlLmNyZWF0ZShzY2hlbWEuaXRlbXMubWFwKChpdGVtKSA9PiBkZWVwUGFydGlhbGlmeShpdGVtKSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG59XG5jbGFzcyBab2RPYmplY3QgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIEluIG1vc3QgY2FzZXMsIHRoaXMgaXMgbm8gbG9uZ2VyIG5lZWRlZCAtIHVua25vd24gcHJvcGVydGllcyBhcmUgbm93IHNpbGVudGx5IHN0cmlwcGVkLlxuICAgICAgICAgKiBJZiB5b3Ugd2FudCB0byBwYXNzIHRocm91Z2ggdW5rbm93biBwcm9wZXJ0aWVzLCB1c2UgYC5wYXNzdGhyb3VnaCgpYCBpbnN0ZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ub25zdHJpY3QgPSB0aGlzLnBhc3N0aHJvdWdoO1xuICAgICAgICAvLyBleHRlbmQ8XG4gICAgICAgIC8vICAgQXVnbWVudGF0aW9uIGV4dGVuZHMgWm9kUmF3U2hhcGUsXG4gICAgICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMgdXRpbC5mbGF0dGVuPHtcbiAgICAgICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIE91dHB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gICAgICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIE91dHB1dFxuICAgICAgICAvLyAgICAgICA/IE91dHB1dFtrXVxuICAgICAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgICAgICAvLyAgIH0+LFxuICAgICAgICAvLyAgIE5ld0lucHV0IGV4dGVuZHMgdXRpbC5mbGF0dGVuPHtcbiAgICAgICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIElucHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgICAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgICAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBJbnB1dFxuICAgICAgICAvLyAgICAgICA/IElucHV0W2tdXG4gICAgICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgICAgIC8vICAgfT5cbiAgICAgICAgLy8gPihcbiAgICAgICAgLy8gICBhdWdtZW50YXRpb246IEF1Z21lbnRhdGlvblxuICAgICAgICAvLyApOiBab2RPYmplY3Q8XG4gICAgICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgQXVnbWVudGF0aW9uPixcbiAgICAgICAgLy8gICBVbmtub3duS2V5cyxcbiAgICAgICAgLy8gICBDYXRjaGFsbCxcbiAgICAgICAgLy8gICBOZXdPdXRwdXQsXG4gICAgICAgIC8vICAgTmV3SW5wdXRcbiAgICAgICAgLy8gPiB7XG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAvLyAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAvLyAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgIC8vICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAvLyAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgICAgIC8vICAgICB9KSxcbiAgICAgICAgLy8gICB9KSBhcyBhbnk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFVzZSBgLmV4dGVuZGAgaW5zdGVhZFxuICAgICAgICAgKiAgKi9cbiAgICAgICAgdGhpcy5hdWdtZW50ID0gdGhpcy5leHRlbmQ7XG4gICAgfVxuICAgIF9nZXRDYWNoZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZWQgIT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkO1xuICAgICAgICBjb25zdCBzaGFwZSA9IHRoaXMuX2RlZi5zaGFwZSgpO1xuICAgICAgICBjb25zdCBrZXlzID0gdXRpbF8xLnV0aWwub2JqZWN0S2V5cyhzaGFwZSk7XG4gICAgICAgIHJldHVybiAodGhpcy5fY2FjaGVkID0geyBzaGFwZSwga2V5cyB9KTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IHsgc2hhcGUsIGtleXM6IHNoYXBlS2V5cyB9ID0gdGhpcy5fZ2V0Q2FjaGVkKCk7XG4gICAgICAgIGNvbnN0IGV4dHJhS2V5cyA9IFtdO1xuICAgICAgICBpZiAoISh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlciAmJlxuICAgICAgICAgICAgdGhpcy5fZGVmLnVua25vd25LZXlzID09PSBcInN0cmlwXCIpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICghc2hhcGVLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcGVLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlWYWxpZGF0b3IgPSBzaGFwZVtrZXldO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IGtleVZhbGlkYXRvci5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHVua25vd25LZXlzID0gdGhpcy5fZGVmLnVua25vd25LZXlzO1xuICAgICAgICAgICAgaWYgKHVua25vd25LZXlzID09PSBcInBhc3N0aHJvdWdoXCIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogY3R4LmRhdGFba2V5XSB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChleHRyYUtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBleHRyYUtleXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpcFwiKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludGVybmFsIFpvZE9iamVjdCBlcnJvcjogaW52YWxpZCB1bmtub3duS2V5cyB2YWx1ZS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJ1biBjYXRjaGFsbCB2YWxpZGF0aW9uXG4gICAgICAgICAgICBjb25zdCBjYXRjaGFsbCA9IHRoaXMuX2RlZi5jYXRjaGFsbDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGV4dHJhS2V5cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjYXRjaGFsbC5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSAvLywgY3R4LmNoaWxkKGtleSksIHZhbHVlLCBnZXRQYXJzZWRUeXBlKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN5bmNQYWlycyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICAgICAgc3luY1BhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGF3YWl0IHBhaXIudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IHBhaXIuYWx3YXlzU2V0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN5bmNQYWlycztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHN5bmNQYWlycykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBzeW5jUGFpcnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zaGFwZSgpO1xuICAgIH1cbiAgICBzdHJpY3QobWVzc2FnZSkge1xuICAgICAgICBlcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmo7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInN0cmljdFwiLFxuICAgICAgICAgICAgLi4uKG1lc3NhZ2UgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1hcDogKGlzc3VlLCBjdHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRFcnJvciA9IChfYyA9IChfYiA9IChfYSA9IHRoaXMuX2RlZikuZXJyb3JNYXApID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBpc3N1ZSwgY3R4KS5tZXNzYWdlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBjdHguZGVmYXVsdEVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwidW5yZWNvZ25pemVkX2tleXNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAoX2QgPSBlcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkubWVzc2FnZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogZGVmYXVsdEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZmF1bHRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RyaXAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwYXNzdGhyb3VnaCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwicGFzc3Rocm91Z2hcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGNvbnN0IEF1Z21lbnRGYWN0b3J5ID1cbiAgICAvLyAgIDxEZWYgZXh0ZW5kcyBab2RPYmplY3REZWY+KGRlZjogRGVmKSA9PlxuICAgIC8vICAgPEF1Z21lbnRhdGlvbiBleHRlbmRzIFpvZFJhd1NoYXBlPihcbiAgICAvLyAgICAgYXVnbWVudGF0aW9uOiBBdWdtZW50YXRpb25cbiAgICAvLyAgICk6IFpvZE9iamVjdDxcbiAgICAvLyAgICAgZXh0ZW5kU2hhcGU8UmV0dXJuVHlwZTxEZWZbXCJzaGFwZVwiXT4sIEF1Z21lbnRhdGlvbj4sXG4gICAgLy8gICAgIERlZltcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgICBEZWZbXCJjYXRjaGFsbFwiXVxuICAgIC8vICAgPiA9PiB7XG4gICAgLy8gICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgICAuLi5kZWYsXG4gICAgLy8gICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgLy8gICAgICAgICAuLi5kZWYuc2hhcGUoKSxcbiAgICAvLyAgICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAvLyAgICAgICB9KSxcbiAgICAvLyAgICAgfSkgYXMgYW55O1xuICAgIC8vICAgfTtcbiAgICBleHRlbmQoYXVnbWVudGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJpb3IgdG8gem9kQDEuMC4xMiB0aGVyZSB3YXMgYSBidWcgaW4gdGhlXG4gICAgICogaW5mZXJyZWQgdHlwZSBvZiBtZXJnZWQgb2JqZWN0cy4gUGxlYXNlXG4gICAgICogdXBncmFkZSBpZiB5b3UgYXJlIGV4cGVyaWVuY2luZyBpc3N1ZXMuXG4gICAgICovXG4gICAgbWVyZ2UobWVyZ2luZykge1xuICAgICAgICBjb25zdCBtZXJnZWQgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgICAgICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICAgICAgLi4ubWVyZ2luZy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICB9XG4gICAgLy8gbWVyZ2U8XG4gICAgLy8gICBJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdCxcbiAgICAvLyAgIEF1Z21lbnRhdGlvbiBleHRlbmRzIEluY29taW5nW1wic2hhcGVcIl0sXG4gICAgLy8gICBOZXdPdXRwdXQgZXh0ZW5kcyB7XG4gICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIE91dHB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9vdXRwdXRcIl1cbiAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBPdXRwdXRcbiAgICAvLyAgICAgICA/IE91dHB1dFtrXVxuICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgLy8gICB9LFxuICAgIC8vICAgTmV3SW5wdXQgZXh0ZW5kcyB7XG4gICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIElucHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX2lucHV0XCJdXG4gICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgSW5wdXRcbiAgICAvLyAgICAgICA/IElucHV0W2tdXG4gICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAvLyAgIH1cbiAgICAvLyA+KFxuICAgIC8vICAgbWVyZ2luZzogSW5jb21pbmdcbiAgICAvLyApOiBab2RPYmplY3Q8XG4gICAgLy8gICBleHRlbmRTaGFwZTxULCBSZXR1cm5UeXBlPEluY29taW5nW1wiX2RlZlwiXVtcInNoYXBlXCJdPj4sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcImNhdGNoYWxsXCJdLFxuICAgIC8vICAgTmV3T3V0cHV0LFxuICAgIC8vICAgTmV3SW5wdXRcbiAgICAvLyA+IHtcbiAgICAvLyAgIGNvbnN0IG1lcmdlZDogYW55ID0gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgLy8gICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgLy8gICAgIHNoYXBlOiAoKSA9PlxuICAgIC8vICAgICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXModGhpcy5fZGVmLnNoYXBlKCksIG1lcmdpbmcuX2RlZi5zaGFwZSgpKSxcbiAgICAvLyAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgLy8gICB9KSBhcyBhbnk7XG4gICAgLy8gICByZXR1cm4gbWVyZ2VkO1xuICAgIC8vIH1cbiAgICBzZXRLZXkoa2V5LCBzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXVnbWVudCh7IFtrZXldOiBzY2hlbWEgfSk7XG4gICAgfVxuICAgIC8vIG1lcmdlPEluY29taW5nIGV4dGVuZHMgQW55Wm9kT2JqZWN0PihcbiAgICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gICAgLy8gKTogLy9ab2RPYmplY3Q8VCAmIEluY29taW5nW1wiX3NoYXBlXCJdLCBVbmtub3duS2V5cywgQ2F0Y2hhbGw+ID0gKG1lcmdpbmcpID0+IHtcbiAgICAvLyBab2RPYmplY3Q8XG4gICAgLy8gICBleHRlbmRTaGFwZTxULCBSZXR1cm5UeXBlPEluY29taW5nW1wiX2RlZlwiXVtcInNoYXBlXCJdPj4sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcImNhdGNoYWxsXCJdXG4gICAgLy8gPiB7XG4gICAgLy8gICAvLyBjb25zdCBtZXJnZWRTaGFwZSA9IG9iamVjdFV0aWwubWVyZ2VTaGFwZXMoXG4gICAgLy8gICAvLyAgIHRoaXMuX2RlZi5zaGFwZSgpLFxuICAgIC8vICAgLy8gICBtZXJnaW5nLl9kZWYuc2hhcGUoKVxuICAgIC8vICAgLy8gKTtcbiAgICAvLyAgIGNvbnN0IG1lcmdlZDogYW55ID0gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgLy8gICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgLy8gICAgIHNoYXBlOiAoKSA9PlxuICAgIC8vICAgICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXModGhpcy5fZGVmLnNoYXBlKCksIG1lcmdpbmcuX2RlZi5zaGFwZSgpKSxcbiAgICAvLyAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgLy8gICB9KSBhcyBhbnk7XG4gICAgLy8gICByZXR1cm4gbWVyZ2VkO1xuICAgIC8vIH1cbiAgICBjYXRjaGFsbChpbmRleCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjYXRjaGFsbDogaW5kZXgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaWNrKG1hc2spIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICAgICAgdXRpbF8xLnV0aWwub2JqZWN0S2V5cyhtYXNrKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChtYXNrW2tleV0gJiYgdGhpcy5zaGFwZVtrZXldKSB7XG4gICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9taXQobWFzaykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IHt9O1xuICAgICAgICB1dGlsXzEudXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICBkZWVwUGFydGlhbCgpIHtcbiAgICAgICAgcmV0dXJuIGRlZXBQYXJ0aWFsaWZ5KHRoaXMpO1xuICAgIH1cbiAgICBwYXJ0aWFsKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgdXRpbF8xLnV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYS5vcHRpb25hbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVxdWlyZWQobWFzaykge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICB1dGlsXzEudXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3RmllbGQgPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV3RmllbGQgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdGaWVsZCA9IG5ld0ZpZWxkLl9kZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gbmV3RmllbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBrZXlvZigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVpvZEVudW0odXRpbF8xLnV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RPYmplY3QgPSBab2RPYmplY3Q7XG5ab2RPYmplY3QuY3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZE9iamVjdC5zdHJpY3RDcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZE9iamVjdC5sYXp5Y3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kVW5pb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLl9kZWYub3B0aW9ucztcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlUmVzdWx0cyhyZXN1bHRzKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gZmlyc3QgaXNzdWUtZnJlZSB2YWxpZGF0aW9uIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgaXNzdWVzIGZyb20gZGlydHkgb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4ucmVzdWx0LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmV0dXJuIGludmFsaWRcbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IocmVzdWx0LmN0eC5jb21tb24uaXNzdWVzKSk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgICAgICAgdW5pb25FcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwob3B0aW9ucy5tYXAoYXN5bmMgKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogYXdhaXQgb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgY3R4OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkpLnRoZW4oaGFuZGxlUmVzdWx0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgZGlydHkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBpc3N1ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIiAmJiAhZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlydHkgPSB7IHJlc3VsdCwgY3R4OiBjaGlsZEN0eCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRDdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVzLnB1c2goY2hpbGRDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpcnR5KSB7XG4gICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5kaXJ0eS5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcnR5LnJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gaXNzdWVzLm1hcCgoaXNzdWVzKSA9PiBuZXcgWm9kRXJyb3JfMS5ab2RFcnJvcihpc3N1ZXMpKTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgICAgICAgICB1bmlvbkVycm9ycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICB9XG59XG5leHBvcnRzLlpvZFVuaW9uID0gWm9kVW5pb247XG5ab2RVbmlvbi5jcmVhdGUgPSAodHlwZXMsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5pb24oe1xuICAgICAgICBvcHRpb25zOiB0eXBlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICBab2REaXNjcmltaW5hdGVkVW5pb24gICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5jb25zdCBnZXREaXNjcmltaW5hdG9yID0gKHR5cGUpID0+IHtcbiAgICBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExhenkpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5zY2hlbWEpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRWZmZWN0cykge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLmlubmVyVHlwZSgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExpdGVyYWwpIHtcbiAgICAgICAgcmV0dXJuIFt0eXBlLnZhbHVlXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVudW0pIHtcbiAgICAgICAgcmV0dXJuIHR5cGUub3B0aW9ucztcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE5hdGl2ZUVudW0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGJhbi9iYW5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHR5cGUuZW51bSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2REZWZhdWx0KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuX2RlZi5pbm5lclR5cGUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kVW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn07XG5jbGFzcyBab2REaXNjcmltaW5hdGVkVW5pb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvciA9IHRoaXMuZGlzY3JpbWluYXRvcjtcbiAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvclZhbHVlID0gY3R4LmRhdGFbZGlzY3JpbWluYXRvcl07XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMub3B0aW9uc01hcC5nZXQoZGlzY3JpbWluYXRvclZhbHVlKTtcbiAgICAgICAgaWYgKCFvcHRpb24pIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFycmF5LmZyb20odGhpcy5vcHRpb25zTWFwLmtleXMoKSksXG4gICAgICAgICAgICAgICAgcGF0aDogW2Rpc2NyaW1pbmF0b3JdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZGlzY3JpbWluYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5kaXNjcmltaW5hdG9yO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zO1xuICAgIH1cbiAgICBnZXQgb3B0aW9uc01hcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zTWFwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY29uc3RydWN0b3Igb2YgdGhlIGRpc2NyaW1pbmF0ZWQgdW5pb24gc2NoZW1hLiBJdHMgYmVoYXZpb3VyIGlzIHZlcnkgc2ltaWxhciB0byB0aGF0IG9mIHRoZSBub3JtYWwgei51bmlvbigpIGNvbnN0cnVjdG9yLlxuICAgICAqIEhvd2V2ZXIsIGl0IG9ubHkgYWxsb3dzIGEgdW5pb24gb2Ygb2JqZWN0cywgYWxsIG9mIHdoaWNoIG5lZWQgdG8gc2hhcmUgYSBkaXNjcmltaW5hdG9yIHByb3BlcnR5LiBUaGlzIHByb3BlcnR5IG11c3RcbiAgICAgKiBoYXZlIGEgZGlmZmVyZW50IHZhbHVlIGZvciBlYWNoIG9iamVjdCBpbiB0aGUgdW5pb24uXG4gICAgICogQHBhcmFtIGRpc2NyaW1pbmF0b3IgdGhlIG5hbWUgb2YgdGhlIGRpc2NyaW1pbmF0b3IgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gdHlwZXMgYW4gYXJyYXkgb2Ygb2JqZWN0IHNjaGVtYXNcbiAgICAgKiBAcGFyYW0gcGFyYW1zXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShkaXNjcmltaW5hdG9yLCBvcHRpb25zLCBwYXJhbXMpIHtcbiAgICAgICAgLy8gR2V0IGFsbCB0aGUgdmFsaWQgZGlzY3JpbWluYXRvciB2YWx1ZXNcbiAgICAgICAgY29uc3Qgb3B0aW9uc01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gdHJ5IHtcbiAgICAgICAgZm9yIChjb25zdCB0eXBlIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZXMgPSBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2hhcGVbZGlzY3JpbWluYXRvcl0pO1xuICAgICAgICAgICAgaWYgKCFkaXNjcmltaW5hdG9yVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIGRpc2NyaW1pbmF0b3IgdmFsdWUgZm9yIGtleSBcXGAke2Rpc2NyaW1pbmF0b3J9XFxgIGNvdWxkIG5vdCBiZSBleHRyYWN0ZWQgZnJvbSBhbGwgc2NoZW1hIG9wdGlvbnNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgZGlzY3JpbWluYXRvclZhbHVlcykge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zTWFwLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEaXNjcmltaW5hdG9yIHByb3BlcnR5ICR7U3RyaW5nKGRpc2NyaW1pbmF0b3IpfSBoYXMgZHVwbGljYXRlIHZhbHVlICR7U3RyaW5nKHZhbHVlKX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9uc01hcC5zZXQodmFsdWUsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGlzY3JpbWluYXRlZFVuaW9uKHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGlzY3JpbWluYXRlZFVuaW9uLFxuICAgICAgICAgICAgZGlzY3JpbWluYXRvcixcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBvcHRpb25zTWFwLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlpvZERpc2NyaW1pbmF0ZWRVbmlvbiA9IFpvZERpc2NyaW1pbmF0ZWRVbmlvbjtcbmZ1bmN0aW9uIG1lcmdlVmFsdWVzKGEsIGIpIHtcbiAgICBjb25zdCBhVHlwZSA9ICgwLCB1dGlsXzEuZ2V0UGFyc2VkVHlwZSkoYSk7XG4gICAgY29uc3QgYlR5cGUgPSAoMCwgdXRpbF8xLmdldFBhcnNlZFR5cGUpKGIpO1xuICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QgJiYgYlR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICBjb25zdCBiS2V5cyA9IHV0aWxfMS51dGlsLm9iamVjdEtleXMoYik7XG4gICAgICAgIGNvbnN0IHNoYXJlZEtleXMgPSB1dGlsXzEudXRpbFxuICAgICAgICAgICAgLm9iamVjdEtleXMoYSlcbiAgICAgICAgICAgIC5maWx0ZXIoKGtleSkgPT4gYktleXMuaW5kZXhPZihrZXkpICE9PSAtMSk7XG4gICAgICAgIGNvbnN0IG5ld09iaiA9IHsgLi4uYSwgLi4uYiB9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFyZWRLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGFba2V5XSwgYltrZXldKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld09ialtrZXldID0gc2hhcmVkVmFsdWUuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3T2JqIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5hcnJheSAmJiBiVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3QXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtQSA9IGFbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgaXRlbUIgPSBiW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoaXRlbUEsIGl0ZW1CKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0FycmF5LnB1c2goc2hhcmVkVmFsdWUuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld0FycmF5IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5kYXRlICYmXG4gICAgICAgIGJUeXBlID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5kYXRlICYmXG4gICAgICAgICthID09PSArYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgfVxufVxuY2xhc3MgWm9kSW50ZXJzZWN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGhhbmRsZVBhcnNlZCA9IChwYXJzZWRMZWZ0LCBwYXJzZWRSaWdodCkgPT4ge1xuICAgICAgICAgICAgaWYgKCgwLCBwYXJzZVV0aWxfMS5pc0Fib3J0ZWQpKHBhcnNlZExlZnQpIHx8ICgwLCBwYXJzZVV0aWxfMS5pc0Fib3J0ZWQpKHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gbWVyZ2VWYWx1ZXMocGFyc2VkTGVmdC52YWx1ZSwgcGFyc2VkUmlnaHQudmFsdWUpO1xuICAgICAgICAgICAgaWYgKCFtZXJnZWQudmFsaWQpIHtcbiAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoMCwgcGFyc2VVdGlsXzEuaXNEaXJ0eSkocGFyc2VkTGVmdCkgfHwgKDAsIHBhcnNlVXRpbF8xLmlzRGlydHkpKHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBtZXJnZWQuZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWYubGVmdC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0pLnRoZW4oKFtsZWZ0LCByaWdodF0pID0+IGhhbmRsZVBhcnNlZChsZWZ0LCByaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVBhcnNlZCh0aGlzLl9kZWYubGVmdC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pLCB0aGlzLl9kZWYucmlnaHQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlpvZEludGVyc2VjdGlvbiA9IFpvZEludGVyc2VjdGlvbjtcblpvZEludGVyc2VjdGlvbi5jcmVhdGUgPSAobGVmdCwgcmlnaHQsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kSW50ZXJzZWN0aW9uKHtcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgcmlnaHQ6IHJpZ2h0LFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEludGVyc2VjdGlvbixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFR1cGxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5hcnJheSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPCB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICBtaW5pbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN0ID0gdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgIGlmICghcmVzdCAmJiBjdHguZGF0YS5sZW5ndGggPiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgbWF4aW11bTogdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlbXMgPSBbLi4uY3R4LmRhdGFdXG4gICAgICAgICAgICAubWFwKChpdGVtLCBpdGVtSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMuX2RlZi5pdGVtc1tpdGVtSW5kZXhdIHx8IHRoaXMuX2RlZi5yZXN0O1xuICAgICAgICAgICAgaWYgKCFzY2hlbWEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1hLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGl0ZW1JbmRleCkpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcigoeCkgPT4gISF4KTsgLy8gZmlsdGVyIG51bGxzXG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoaXRlbXMpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIGl0ZW1zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgaXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaXRlbXM7XG4gICAgfVxuICAgIHJlc3QocmVzdCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHJlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kVHVwbGUgPSBab2RUdXBsZTtcblpvZFR1cGxlLmNyZWF0ZSA9IChzY2hlbWFzLCBwYXJhbXMpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgcGFzcyBhbiBhcnJheSBvZiBzY2hlbWFzIHRvIHoudHVwbGUoWyAuLi4gXSlcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICBpdGVtczogc2NoZW1hcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RUdXBsZSxcbiAgICAgICAgcmVzdDogbnVsbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFJlY29yZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBrZXlTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiBrZXlUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwga2V5LCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGN0eC5kYXRhW2tleV0sIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RBc3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGZpcnN0LCBzZWNvbmQsIHRoaXJkKSB7XG4gICAgICAgIGlmIChzZWNvbmQgaW5zdGFuY2VvZiBab2RUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgICAgICAgICAga2V5VHlwZTogZmlyc3QsXG4gICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBzZWNvbmQsXG4gICAgICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQsXG4gICAgICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlyZCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgICAgICBrZXlUeXBlOiBab2RTdHJpbmcuY3JlYXRlKCksXG4gICAgICAgICAgICB2YWx1ZVR5cGU6IGZpcnN0LFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHNlY29uZCksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kUmVjb3JkID0gWm9kUmVjb3JkO1xuY2xhc3MgWm9kTWFwIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5tYXApIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5tYXAsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGNvbnN0IHBhaXJzID0gWy4uLmN0eC5kYXRhLmVudHJpZXMoKV0ubWFwKChba2V5LCB2YWx1ZV0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIFtpbmRleCwgXCJrZXlcIl0pKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBbaW5kZXgsIFwidmFsdWVcIl0pKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgY29uc3QgZmluYWxNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxNYXAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZmluYWxNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsTWFwLnNldChrZXkudmFsdWUsIHZhbHVlLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxNYXAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuWm9kTWFwID0gWm9kTWFwO1xuWm9kTWFwLmNyZWF0ZSA9IChrZXlUeXBlLCB2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTWFwKHtcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICBrZXlUeXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE1hcCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFNldCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnNldCkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnNldCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuX2RlZjtcbiAgICAgICAgaWYgKGRlZi5taW5TaXplICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEuc2l6ZSA8IGRlZi5taW5TaXplLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluU2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5TaXplLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5tYXhTaXplICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEuc2l6ZSA+IGRlZi5tYXhTaXplLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heFNpemUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWF4U2l6ZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGZ1bmN0aW9uIGZpbmFsaXplU2V0KGVsZW1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgcGFyc2VkU2V0LmFkZChlbGVtZW50LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcGFyc2VkU2V0IH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBbLi4uY3R4LmRhdGEudmFsdWVzKCldLm1hcCgoaXRlbSwgaSkgPT4gdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKSk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZWxlbWVudHMpLnRoZW4oKGVsZW1lbnRzKSA9PiBmaW5hbGl6ZVNldChlbGVtZW50cykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZpbmFsaXplU2V0KGVsZW1lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtaW4obWluU2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtaW5TaXplOiB7IHZhbHVlOiBtaW5TaXplLCBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhTaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1heFNpemU6IHsgdmFsdWU6IG1heFNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2l6ZShzaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbihzaXplLCBtZXNzYWdlKS5tYXgoc2l6ZSwgbWVzc2FnZSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kU2V0ID0gWm9kU2V0O1xuWm9kU2V0LmNyZWF0ZSA9ICh2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICBtaW5TaXplOiBudWxsLFxuICAgICAgICBtYXhTaXplOiBudWxsLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFNldCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEZ1bmN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudmFsaWRhdGUgPSB0aGlzLmltcGxlbWVudDtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUuZnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlQXJnc0lzc3VlKGFyZ3MsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLm1ha2VJc3N1ZSkoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGFyZ3MsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgICAgICAgICAgICBjdHguc2NoZW1hRXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvcnNfMS5nZXRFcnJvck1hcCkoKSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzXzEuZGVmYXVsdEVycm9yTWFwLFxuICAgICAgICAgICAgICAgIF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgICAgICAgICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzRXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlUmV0dXJuc0lzc3VlKHJldHVybnMsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLm1ha2VJc3N1ZSkoe1xuICAgICAgICAgICAgICAgIGRhdGE6IHJldHVybnMsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgICAgICAgICAgICBjdHguc2NoZW1hRXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvcnNfMS5nZXRFcnJvck1hcCkoKSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzXzEuZGVmYXVsdEVycm9yTWFwLFxuICAgICAgICAgICAgICAgIF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgICAgICAgICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlLFxuICAgICAgICAgICAgICAgICAgICByZXR1cm5UeXBlRXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7IGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCB9O1xuICAgICAgICBjb25zdCBmbiA9IGN0eC5kYXRhO1xuICAgICAgICBpZiAodGhpcy5fZGVmLnJldHVybnMgaW5zdGFuY2VvZiBab2RQcm9taXNlKSB7XG4gICAgICAgICAgICAvLyBXb3VsZCBsb3ZlIGEgd2F5IHRvIGF2b2lkIGRpc2FibGluZyB0aGlzIHJ1bGUsIGJ1dCB3ZSBuZWVkXG4gICAgICAgICAgICAvLyBhbiBhbGlhcyAodXNpbmcgYW4gYXJyb3cgZnVuY3Rpb24gd2FzIHdoYXQgY2F1c2VkIDI2NTEpLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgICAgICBjb25zdCBtZSA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShhc3luYyBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IoW10pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBhd2FpdCBtZS5fZGVmLmFyZ3NcbiAgICAgICAgICAgICAgICAgICAgLnBhcnNlQXN5bmMoYXJncywgcGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZUFyZ3NJc3N1ZShhcmdzLCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJlZmxlY3QuYXBwbHkoZm4sIHRoaXMsIHBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBhd2FpdCBtZS5fZGVmLnJldHVybnMuX2RlZi50eXBlXG4gICAgICAgICAgICAgICAgICAgIC5wYXJzZUFzeW5jKHJlc3VsdCwgcGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdvdWxkIGxvdmUgYSB3YXkgdG8gYXZvaWQgZGlzYWJsaW5nIHRoaXMgcnVsZSwgYnV0IHdlIG5lZWRcbiAgICAgICAgICAgIC8vIGFuIGFsaWFzICh1c2luZyBhbiBhcnJvdyBmdW5jdGlvbiB3YXMgd2hhdCBjYXVzZWQgMjY1MSkuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IG1lLl9kZWYuYXJncy5zYWZlUGFyc2UoYXJncywgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZEFyZ3Muc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3JfMS5ab2RFcnJvcihbbWFrZUFyZ3NJc3N1ZShhcmdzLCBwYXJzZWRBcmdzLmVycm9yKV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmFwcGx5KGZuLCB0aGlzLCBwYXJzZWRBcmdzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBtZS5fZGVmLnJldHVybnMuc2FmZVBhcnNlKHJlc3VsdCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZFJldHVybnMuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3JfMS5ab2RFcnJvcihbbWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIHBhcnNlZFJldHVybnMuZXJyb3IpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWRSZXR1cm5zLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJhbWV0ZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmFyZ3M7XG4gICAgfVxuICAgIHJldHVyblR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYucmV0dXJucztcbiAgICB9XG4gICAgYXJncyguLi5pdGVtcykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGFyZ3M6IFpvZFR1cGxlLmNyZWF0ZShpdGVtcykucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybnMocmV0dXJuVHlwZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVyblR5cGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbXBsZW1lbnQoZnVuYykge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgfVxuICAgIHN0cmljdEltcGxlbWVudChmdW5jKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShhcmdzLCByZXR1cm5zLCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICBhcmdzOiAoYXJnc1xuICAgICAgICAgICAgICAgID8gYXJnc1xuICAgICAgICAgICAgICAgIDogWm9kVHVwbGUuY3JlYXRlKFtdKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpKSxcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVybnMgfHwgWm9kVW5rbm93bi5jcmVhdGUoKSxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb24sXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kRnVuY3Rpb24gPSBab2RGdW5jdGlvbjtcbmNsYXNzIFpvZExhenkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmdldHRlcigpO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGxhenlTY2hlbWEgPSB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgICAgIHJldHVybiBsYXp5U2NoZW1hLl9wYXJzZSh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RMYXp5ID0gWm9kTGF6eTtcblpvZExhenkuY3JlYXRlID0gKGdldHRlciwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RMYXp5KHtcbiAgICAgICAgZ2V0dGVyOiBnZXR0ZXIsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGF6eSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZExpdGVyYWwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKGlucHV0LmRhdGEgIT09IHRoaXMuX2RlZi52YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9saXRlcmFsLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB0aGlzLl9kZWYudmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWU7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RMaXRlcmFsID0gWm9kTGl0ZXJhbDtcblpvZExpdGVyYWwuY3JlYXRlID0gKHZhbHVlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExpdGVyYWwoe1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGl0ZXJhbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVpvZEVudW0odmFsdWVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuY2xhc3MgWm9kRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0LmRhdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdGhpcy5fZGVmLnZhbHVlcztcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS51dGlsLmpvaW5WYWx1ZXMoZXhwZWN0ZWRWYWx1ZXMpLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9kZWYudmFsdWVzLmluZGV4T2YoaW5wdXQuZGF0YSkgPT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgfVxuICAgIGdldCBlbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IFZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGdldCBFbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZXh0cmFjdCh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIFpvZEVudW0uY3JlYXRlKHZhbHVlcyk7XG4gICAgfVxuICAgIGV4Y2x1ZGUodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBab2RFbnVtLmNyZWF0ZSh0aGlzLm9wdGlvbnMuZmlsdGVyKChvcHQpID0+ICF2YWx1ZXMuaW5jbHVkZXMob3B0KSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kRW51bSA9IFpvZEVudW07XG5ab2RFbnVtLmNyZWF0ZSA9IGNyZWF0ZVpvZEVudW07XG5jbGFzcyBab2ROYXRpdmVFbnVtIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUVudW1WYWx1ZXMgPSB1dGlsXzEudXRpbC5nZXRWYWxpZEVudW1WYWx1ZXModGhpcy5fZGVmLnZhbHVlcyk7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zdHJpbmcgJiZcbiAgICAgICAgICAgIGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5udW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbF8xLnV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLnV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hdGl2ZUVudW1WYWx1ZXMuaW5kZXhPZihpbnB1dC5kYXRhKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbF8xLnV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cGVjdGVkVmFsdWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kTmF0aXZlRW51bSA9IFpvZE5hdGl2ZUVudW07XG5ab2ROYXRpdmVFbnVtLmNyZWF0ZSA9ICh2YWx1ZXMsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmF0aXZlRW51bSh7XG4gICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RQcm9taXNlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5wcm9taXNlICYmXG4gICAgICAgICAgICBjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnByb21pc2UsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9taXNpZmllZCA9IGN0eC5wYXJzZWRUeXBlID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5wcm9taXNlXG4gICAgICAgICAgICA/IGN0eC5kYXRhXG4gICAgICAgICAgICA6IFByb21pc2UucmVzb2x2ZShjdHguZGF0YSk7XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKHByb21pc2lmaWVkLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5wYXJzZUFzeW5jKGRhdGEsIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kUHJvbWlzZSA9IFpvZFByb21pc2U7XG5ab2RQcm9taXNlLmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kUHJvbWlzZSh7XG4gICAgICAgIHR5cGU6IHNjaGVtYSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQcm9taXNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kRWZmZWN0cyBleHRlbmRzIFpvZFR5cGUge1xuICAgIGlubmVyVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWE7XG4gICAgfVxuICAgIHNvdXJjZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzXG4gICAgICAgICAgICA/IHRoaXMuX2RlZi5zY2hlbWEuc291cmNlVHlwZSgpXG4gICAgICAgICAgICA6IHRoaXMuX2RlZi5zY2hlbWE7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBlZmZlY3QgPSB0aGlzLl9kZWYuZWZmZWN0IHx8IG51bGw7XG4gICAgICAgIGNvbnN0IGNoZWNrQ3R4ID0ge1xuICAgICAgICAgICAgYWRkSXNzdWU6IChhcmcpID0+IHtcbiAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwgYXJnKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJnLmZhdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwYXRoKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdHgucGF0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNoZWNrQ3R4LmFkZElzc3VlID0gY2hlY2tDdHguYWRkSXNzdWUuYmluZChjaGVja0N0eCk7XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJwcmVwcm9jZXNzXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGVmZmVjdC50cmFuc2Zvcm0oY3R4LmRhdGEsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwiZGlydHlcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocHJvY2Vzc2VkKS50aGVuKChwcm9jZXNzZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInJlZmluZW1lbnRcIikge1xuICAgICAgICAgICAgY29uc3QgZXhlY3V0ZVJlZmluZW1lbnQgPSAoYWNjXG4gICAgICAgICAgICAvLyBlZmZlY3Q6IFJlZmluZW1lbnRFZmZlY3Q8YW55PlxuICAgICAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnJlZmluZW1lbnQoYWNjLCBjaGVja0N0eCk7XG4gICAgICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBc3luYyByZWZpbmVtZW50IGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lciA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHZhbHVlIGlzIGlnbm9yZWRcbiAgICAgICAgICAgICAgICBleGVjdXRlUmVmaW5lbWVudChpbm5lci52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbm5lci52YWx1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWFcbiAgICAgICAgICAgICAgICAgICAgLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoaW5uZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleGVjdXRlUmVmaW5lbWVudChpbm5lci52YWx1ZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyLnZhbHVlIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCEoMCwgcGFyc2VVdGlsXzEuaXNWYWxpZCkoYmFzZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVmZmVjdC50cmFuc2Zvcm0oYmFzZS52YWx1ZSwgY2hlY2tDdHgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQXN5bmNocm9ub3VzIHRyYW5zZm9ybSBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiByZXN1bHQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hXG4gICAgICAgICAgICAgICAgICAgIC5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGJhc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoMCwgcGFyc2VVdGlsXzEuaXNWYWxpZCkoYmFzZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KSkudGhlbigocmVzdWx0KSA9PiAoeyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHJlc3VsdCB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXRpbF8xLnV0aWwuYXNzZXJ0TmV2ZXIoZWZmZWN0KTtcbiAgICB9XG59XG5leHBvcnRzLlpvZEVmZmVjdHMgPSBab2RFZmZlY3RzO1xuZXhwb3J0cy5ab2RUcmFuc2Zvcm1lciA9IFpvZEVmZmVjdHM7XG5ab2RFZmZlY3RzLmNyZWF0ZSA9IChzY2hlbWEsIGVmZmVjdCwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgIGVmZmVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3MgPSAocHJlcHJvY2Vzcywgc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInByZXByb2Nlc3NcIiwgdHJhbnNmb3JtOiBwcmVwcm9jZXNzIH0sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE9wdGlvbmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kT3B0aW9uYWwgPSBab2RPcHRpb25hbDtcblpvZE9wdGlvbmFsLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9wdGlvbmFsKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kTnVsbGFibGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5leHBvcnRzLlpvZE51bGxhYmxlID0gWm9kTnVsbGFibGU7XG5ab2ROdWxsYWJsZS5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsYWJsZSh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZERlZmF1bHQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGxldCBkYXRhID0gY3R4LmRhdGE7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkYXRhID0gdGhpcy5fZGVmLmRlZmF1bHRWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZURlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kRGVmYXVsdCA9IFpvZERlZmF1bHQ7XG5ab2REZWZhdWx0LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdCxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB0eXBlb2YgcGFyYW1zLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyBwYXJhbXMuZGVmYXVsdFxuICAgICAgICAgICAgOiAoKSA9PiBwYXJhbXMuZGVmYXVsdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZENhdGNoIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICAvLyBuZXdDdHggaXMgdXNlZCB0byBub3QgY29sbGVjdCBpc3N1ZXMgZnJvbSBpbm5lciB0eXBlcyBpbiBjdHhcbiAgICAgICAgY29uc3QgbmV3Q3R4ID0ge1xuICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YTogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICBwYXRoOiBuZXdDdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDoge1xuICAgICAgICAgICAgICAgIC4uLm5ld0N0eCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoKDAsIHBhcnNlVXRpbF8xLmlzQXN5bmMpKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3JfMS5ab2RFcnJvcihuZXdDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCJcbiAgICAgICAgICAgICAgICAgICAgPyByZXN1bHQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RFcnJvcl8xLlpvZEVycm9yKG5ld0N0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVDYXRjaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RDYXRjaCA9IFpvZENhdGNoO1xuWm9kQ2F0Y2guY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2gsXG4gICAgICAgIGNhdGNoVmFsdWU6IHR5cGVvZiBwYXJhbXMuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5jYXRjaCA6ICgpID0+IHBhcmFtcy5jYXRjaCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE5hTiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5uYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5uYW4sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG59XG5leHBvcnRzLlpvZE5hTiA9IFpvZE5hTjtcblpvZE5hTi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROYU4oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hTixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydHMuQlJBTkQgPSBTeW1ib2woXCJ6b2RfYnJhbmRcIik7XG5jbGFzcyBab2RCcmFuZGVkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBkYXRhID0gY3R4LmRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG59XG5leHBvcnRzLlpvZEJyYW5kZWQgPSBab2RCcmFuZGVkO1xuY2xhc3MgWm9kUGlwZWxpbmUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUFzeW5jID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluUmVzdWx0ID0gYXdhaXQgdGhpcy5fZGVmLmluLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLkRJUlRZKShpblJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQXN5bmMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGluUmVzdWx0ID0gdGhpcy5fZGVmLmluLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJkaXJ0eVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoYSwgYikge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFBpcGVsaW5lKHtcbiAgICAgICAgICAgIGluOiBhLFxuICAgICAgICAgICAgb3V0OiBiLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQaXBlbGluZSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RQaXBlbGluZSA9IFpvZFBpcGVsaW5lO1xuY2xhc3MgWm9kUmVhZG9ubHkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgICAgICBpZiAoKDAsIHBhcnNlVXRpbF8xLmlzVmFsaWQpKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IE9iamVjdC5mcmVlemUocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kUmVhZG9ubHkgPSBab2RSZWFkb25seTtcblpvZFJlYWRvbmx5LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFJlYWRvbmx5KHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlYWRvbmx5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY29uc3QgY3VzdG9tID0gKGNoZWNrLCBwYXJhbXMgPSB7fSwgXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKlxuICogUGFzcyBgZmF0YWxgIGludG8gdGhlIHBhcmFtcyBvYmplY3QgaW5zdGVhZDpcbiAqXG4gKiBgYGB0c1xuICogei5zdHJpbmcoKS5jdXN0b20oKHZhbCkgPT4gdmFsLmxlbmd0aCA+IDUsIHsgZmF0YWw6IGZhbHNlIH0pXG4gKiBgYGBcbiAqXG4gKi9cbmZhdGFsKSA9PiB7XG4gICAgaWYgKGNoZWNrKVxuICAgICAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpLnN1cGVyUmVmaW5lKChkYXRhLCBjdHgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBpZiAoIWNoZWNrKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IHR5cGVvZiBwYXJhbXMgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgICAgICAgICA/IHBhcmFtcyhkYXRhKVxuICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiBwYXJhbXMgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8geyBtZXNzYWdlOiBwYXJhbXMgfVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwYXJhbXM7XG4gICAgICAgICAgICAgICAgY29uc3QgX2ZhdGFsID0gKF9iID0gKF9hID0gcC5mYXRhbCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmF0YWwpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgcDIgPSB0eXBlb2YgcCA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZTogcCB9IDogcDtcbiAgICAgICAgICAgICAgICBjdHguYWRkSXNzdWUoeyBjb2RlOiBcImN1c3RvbVwiLCAuLi5wMiwgZmF0YWw6IF9mYXRhbCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKTtcbn07XG5leHBvcnRzLmN1c3RvbSA9IGN1c3RvbTtcbmV4cG9ydHMubGF0ZSA9IHtcbiAgICBvYmplY3Q6IFpvZE9iamVjdC5sYXp5Y3JlYXRlLFxufTtcbnZhciBab2RGaXJzdFBhcnR5VHlwZUtpbmQ7XG4oZnVuY3Rpb24gKFpvZEZpcnN0UGFydHlUeXBlS2luZCkge1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFN0cmluZ1wiXSA9IFwiWm9kU3RyaW5nXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVtYmVyXCJdID0gXCJab2ROdW1iZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROYU5cIl0gPSBcIlpvZE5hTlwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJpZ0ludFwiXSA9IFwiWm9kQmlnSW50XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQm9vbGVhblwiXSA9IFwiWm9kQm9vbGVhblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERhdGVcIl0gPSBcIlpvZERhdGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTeW1ib2xcIl0gPSBcIlpvZFN5bWJvbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuZGVmaW5lZFwiXSA9IFwiWm9kVW5kZWZpbmVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVsbFwiXSA9IFwiWm9kTnVsbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEFueVwiXSA9IFwiWm9kQW55XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5rbm93blwiXSA9IFwiWm9kVW5rbm93blwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5ldmVyXCJdID0gXCJab2ROZXZlclwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFZvaWRcIl0gPSBcIlpvZFZvaWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RBcnJheVwiXSA9IFwiWm9kQXJyYXlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RPYmplY3RcIl0gPSBcIlpvZE9iamVjdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuaW9uXCJdID0gXCJab2RVbmlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiXSA9IFwiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kSW50ZXJzZWN0aW9uXCJdID0gXCJab2RJbnRlcnNlY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RUdXBsZVwiXSA9IFwiWm9kVHVwbGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RSZWNvcmRcIl0gPSBcIlpvZFJlY29yZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE1hcFwiXSA9IFwiWm9kTWFwXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU2V0XCJdID0gXCJab2RTZXRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RGdW5jdGlvblwiXSA9IFwiWm9kRnVuY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RMYXp5XCJdID0gXCJab2RMYXp5XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTGl0ZXJhbFwiXSA9IFwiWm9kTGl0ZXJhbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEVudW1cIl0gPSBcIlpvZEVudW1cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RFZmZlY3RzXCJdID0gXCJab2RFZmZlY3RzXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmF0aXZlRW51bVwiXSA9IFwiWm9kTmF0aXZlRW51bVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE9wdGlvbmFsXCJdID0gXCJab2RPcHRpb25hbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bGxhYmxlXCJdID0gXCJab2ROdWxsYWJsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERlZmF1bHRcIl0gPSBcIlpvZERlZmF1bHRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RDYXRjaFwiXSA9IFwiWm9kQ2F0Y2hcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RQcm9taXNlXCJdID0gXCJab2RQcm9taXNlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQnJhbmRlZFwiXSA9IFwiWm9kQnJhbmRlZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFBpcGVsaW5lXCJdID0gXCJab2RQaXBlbGluZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFJlYWRvbmx5XCJdID0gXCJab2RSZWFkb25seVwiO1xufSkoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kID0gZXhwb3J0cy5ab2RGaXJzdFBhcnR5VHlwZUtpbmQgfHwgKGV4cG9ydHMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kID0ge30pKTtcbi8vIHJlcXVpcmVzIFRTIDQuNCtcbmNsYXNzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvciguLi5fKSB7IH1cbn1cbmNvbnN0IGluc3RhbmNlT2ZUeXBlID0gKFxuLy8gY29uc3QgaW5zdGFuY2VPZlR5cGUgPSA8VCBleHRlbmRzIG5ldyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXG5jbHMsIHBhcmFtcyA9IHtcbiAgICBtZXNzYWdlOiBgSW5wdXQgbm90IGluc3RhbmNlIG9mICR7Y2xzLm5hbWV9YCxcbn0pID0+ICgwLCBleHBvcnRzLmN1c3RvbSkoKGRhdGEpID0+IGRhdGEgaW5zdGFuY2VvZiBjbHMsIHBhcmFtcyk7XG5leHBvcnRzLmluc3RhbmNlb2YgPSBpbnN0YW5jZU9mVHlwZTtcbmNvbnN0IHN0cmluZ1R5cGUgPSBab2RTdHJpbmcuY3JlYXRlO1xuZXhwb3J0cy5zdHJpbmcgPSBzdHJpbmdUeXBlO1xuY29uc3QgbnVtYmVyVHlwZSA9IFpvZE51bWJlci5jcmVhdGU7XG5leHBvcnRzLm51bWJlciA9IG51bWJlclR5cGU7XG5jb25zdCBuYW5UeXBlID0gWm9kTmFOLmNyZWF0ZTtcbmV4cG9ydHMubmFuID0gbmFuVHlwZTtcbmNvbnN0IGJpZ0ludFR5cGUgPSBab2RCaWdJbnQuY3JlYXRlO1xuZXhwb3J0cy5iaWdpbnQgPSBiaWdJbnRUeXBlO1xuY29uc3QgYm9vbGVhblR5cGUgPSBab2RCb29sZWFuLmNyZWF0ZTtcbmV4cG9ydHMuYm9vbGVhbiA9IGJvb2xlYW5UeXBlO1xuY29uc3QgZGF0ZVR5cGUgPSBab2REYXRlLmNyZWF0ZTtcbmV4cG9ydHMuZGF0ZSA9IGRhdGVUeXBlO1xuY29uc3Qgc3ltYm9sVHlwZSA9IFpvZFN5bWJvbC5jcmVhdGU7XG5leHBvcnRzLnN5bWJvbCA9IHN5bWJvbFR5cGU7XG5jb25zdCB1bmRlZmluZWRUeXBlID0gWm9kVW5kZWZpbmVkLmNyZWF0ZTtcbmV4cG9ydHMudW5kZWZpbmVkID0gdW5kZWZpbmVkVHlwZTtcbmNvbnN0IG51bGxUeXBlID0gWm9kTnVsbC5jcmVhdGU7XG5leHBvcnRzLm51bGwgPSBudWxsVHlwZTtcbmNvbnN0IGFueVR5cGUgPSBab2RBbnkuY3JlYXRlO1xuZXhwb3J0cy5hbnkgPSBhbnlUeXBlO1xuY29uc3QgdW5rbm93blR5cGUgPSBab2RVbmtub3duLmNyZWF0ZTtcbmV4cG9ydHMudW5rbm93biA9IHVua25vd25UeXBlO1xuY29uc3QgbmV2ZXJUeXBlID0gWm9kTmV2ZXIuY3JlYXRlO1xuZXhwb3J0cy5uZXZlciA9IG5ldmVyVHlwZTtcbmNvbnN0IHZvaWRUeXBlID0gWm9kVm9pZC5jcmVhdGU7XG5leHBvcnRzLnZvaWQgPSB2b2lkVHlwZTtcbmNvbnN0IGFycmF5VHlwZSA9IFpvZEFycmF5LmNyZWF0ZTtcbmV4cG9ydHMuYXJyYXkgPSBhcnJheVR5cGU7XG5jb25zdCBvYmplY3RUeXBlID0gWm9kT2JqZWN0LmNyZWF0ZTtcbmV4cG9ydHMub2JqZWN0ID0gb2JqZWN0VHlwZTtcbmNvbnN0IHN0cmljdE9iamVjdFR5cGUgPSBab2RPYmplY3Quc3RyaWN0Q3JlYXRlO1xuZXhwb3J0cy5zdHJpY3RPYmplY3QgPSBzdHJpY3RPYmplY3RUeXBlO1xuY29uc3QgdW5pb25UeXBlID0gWm9kVW5pb24uY3JlYXRlO1xuZXhwb3J0cy51bmlvbiA9IHVuaW9uVHlwZTtcbmNvbnN0IGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUgPSBab2REaXNjcmltaW5hdGVkVW5pb24uY3JlYXRlO1xuZXhwb3J0cy5kaXNjcmltaW5hdGVkVW5pb24gPSBkaXNjcmltaW5hdGVkVW5pb25UeXBlO1xuY29uc3QgaW50ZXJzZWN0aW9uVHlwZSA9IFpvZEludGVyc2VjdGlvbi5jcmVhdGU7XG5leHBvcnRzLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvblR5cGU7XG5jb25zdCB0dXBsZVR5cGUgPSBab2RUdXBsZS5jcmVhdGU7XG5leHBvcnRzLnR1cGxlID0gdHVwbGVUeXBlO1xuY29uc3QgcmVjb3JkVHlwZSA9IFpvZFJlY29yZC5jcmVhdGU7XG5leHBvcnRzLnJlY29yZCA9IHJlY29yZFR5cGU7XG5jb25zdCBtYXBUeXBlID0gWm9kTWFwLmNyZWF0ZTtcbmV4cG9ydHMubWFwID0gbWFwVHlwZTtcbmNvbnN0IHNldFR5cGUgPSBab2RTZXQuY3JlYXRlO1xuZXhwb3J0cy5zZXQgPSBzZXRUeXBlO1xuY29uc3QgZnVuY3Rpb25UeXBlID0gWm9kRnVuY3Rpb24uY3JlYXRlO1xuZXhwb3J0cy5mdW5jdGlvbiA9IGZ1bmN0aW9uVHlwZTtcbmNvbnN0IGxhenlUeXBlID0gWm9kTGF6eS5jcmVhdGU7XG5leHBvcnRzLmxhenkgPSBsYXp5VHlwZTtcbmNvbnN0IGxpdGVyYWxUeXBlID0gWm9kTGl0ZXJhbC5jcmVhdGU7XG5leHBvcnRzLmxpdGVyYWwgPSBsaXRlcmFsVHlwZTtcbmNvbnN0IGVudW1UeXBlID0gWm9kRW51bS5jcmVhdGU7XG5leHBvcnRzLmVudW0gPSBlbnVtVHlwZTtcbmNvbnN0IG5hdGl2ZUVudW1UeXBlID0gWm9kTmF0aXZlRW51bS5jcmVhdGU7XG5leHBvcnRzLm5hdGl2ZUVudW0gPSBuYXRpdmVFbnVtVHlwZTtcbmNvbnN0IHByb21pc2VUeXBlID0gWm9kUHJvbWlzZS5jcmVhdGU7XG5leHBvcnRzLnByb21pc2UgPSBwcm9taXNlVHlwZTtcbmNvbnN0IGVmZmVjdHNUeXBlID0gWm9kRWZmZWN0cy5jcmVhdGU7XG5leHBvcnRzLmVmZmVjdCA9IGVmZmVjdHNUeXBlO1xuZXhwb3J0cy50cmFuc2Zvcm1lciA9IGVmZmVjdHNUeXBlO1xuY29uc3Qgb3B0aW9uYWxUeXBlID0gWm9kT3B0aW9uYWwuY3JlYXRlO1xuZXhwb3J0cy5vcHRpb25hbCA9IG9wdGlvbmFsVHlwZTtcbmNvbnN0IG51bGxhYmxlVHlwZSA9IFpvZE51bGxhYmxlLmNyZWF0ZTtcbmV4cG9ydHMubnVsbGFibGUgPSBudWxsYWJsZVR5cGU7XG5jb25zdCBwcmVwcm9jZXNzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3M7XG5leHBvcnRzLnByZXByb2Nlc3MgPSBwcmVwcm9jZXNzVHlwZTtcbmNvbnN0IHBpcGVsaW5lVHlwZSA9IFpvZFBpcGVsaW5lLmNyZWF0ZTtcbmV4cG9ydHMucGlwZWxpbmUgPSBwaXBlbGluZVR5cGU7XG5jb25zdCBvc3RyaW5nID0gKCkgPT4gc3RyaW5nVHlwZSgpLm9wdGlvbmFsKCk7XG5leHBvcnRzLm9zdHJpbmcgPSBvc3RyaW5nO1xuY29uc3Qgb251bWJlciA9ICgpID0+IG51bWJlclR5cGUoKS5vcHRpb25hbCgpO1xuZXhwb3J0cy5vbnVtYmVyID0gb251bWJlcjtcbmNvbnN0IG9ib29sZWFuID0gKCkgPT4gYm9vbGVhblR5cGUoKS5vcHRpb25hbCgpO1xuZXhwb3J0cy5vYm9vbGVhbiA9IG9ib29sZWFuO1xuZXhwb3J0cy5jb2VyY2UgPSB7XG4gICAgc3RyaW5nOiAoKGFyZykgPT4gWm9kU3RyaW5nLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBudW1iZXI6ICgoYXJnKSA9PiBab2ROdW1iZXIuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIGJvb2xlYW46ICgoYXJnKSA9PiBab2RCb29sZWFuLmNyZWF0ZSh7XG4gICAgICAgIC4uLmFyZyxcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgIH0pKSxcbiAgICBiaWdpbnQ6ICgoYXJnKSA9PiBab2RCaWdJbnQuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIGRhdGU6ICgoYXJnKSA9PiBab2REYXRlLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbn07XG5leHBvcnRzLk5FVkVSID0gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZXJyb3JzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9oZWxwZXJzL3BhcnNlVXRpbFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaGVscGVycy90eXBlQWxpYXNlc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaGVscGVycy91dGlsXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi90eXBlc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vWm9kRXJyb3JcIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnogPSB2b2lkIDA7XG5jb25zdCB6ID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL2V4dGVybmFsXCIpKTtcbmV4cG9ydHMueiA9IHo7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZXh0ZXJuYWxcIiksIGV4cG9ydHMpO1xuZXhwb3J0cy5kZWZhdWx0ID0gejtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZUFueURlZiA9IHZvaWQgMDtcbmZ1bmN0aW9uIHBhcnNlQW55RGVmKCkge1xuICAgIHJldHVybiB7fTtcbn1cbmV4cG9ydHMucGFyc2VBbnlEZWYgPSBwYXJzZUFueURlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzID0gZXhwb3J0cy5hZGRFcnJvck1lc3NhZ2UgPSB2b2lkIDA7XG5mdW5jdGlvbiBhZGRFcnJvck1lc3NhZ2UocmVzLCBrZXksIGVycm9yTWVzc2FnZSwgcmVmcykge1xuICAgIGlmICghKHJlZnMgPT09IG51bGwgfHwgcmVmcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVmcy5lcnJvck1lc3NhZ2VzKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgcmVzLmVycm9yTWVzc2FnZSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzLmVycm9yTWVzc2FnZSksIHsgW2tleV06IGVycm9yTWVzc2FnZSB9KTtcbiAgICB9XG59XG5leHBvcnRzLmFkZEVycm9yTWVzc2FnZSA9IGFkZEVycm9yTWVzc2FnZTtcbmZ1bmN0aW9uIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBrZXksIHZhbHVlLCBlcnJvck1lc3NhZ2UsIHJlZnMpIHtcbiAgICByZXNba2V5XSA9IHZhbHVlO1xuICAgIGFkZEVycm9yTWVzc2FnZShyZXMsIGtleSwgZXJyb3JNZXNzYWdlLCByZWZzKTtcbn1cbmV4cG9ydHMuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyA9IHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VBcnJheURlZiA9IHZvaWQgMDtcbmNvbnN0IHpvZF8xID0gcmVxdWlyZShcInpvZFwiKTtcbmNvbnN0IGVycm9yTWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9lcnJvck1lc3NhZ2VzXCIpO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmZ1bmN0aW9uIHBhcnNlQXJyYXlEZWYoZGVmLCByZWZzKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICB9O1xuICAgIGlmICgoKF9iID0gKF9hID0gZGVmLnR5cGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5fZGVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudHlwZU5hbWUpICE9PSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55KSB7XG4gICAgICAgIHJlcy5pdGVtcyA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYudHlwZS5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJpdGVtc1wiXSB9KSk7XG4gICAgfVxuICAgIGlmIChkZWYubWluTGVuZ3RoKSB7XG4gICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1pbkl0ZW1zXCIsIGRlZi5taW5MZW5ndGgudmFsdWUsIGRlZi5taW5MZW5ndGgubWVzc2FnZSwgcmVmcyk7XG4gICAgfVxuICAgIGlmIChkZWYubWF4TGVuZ3RoKSB7XG4gICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1heEl0ZW1zXCIsIGRlZi5tYXhMZW5ndGgudmFsdWUsIGRlZi5tYXhMZW5ndGgubWVzc2FnZSwgcmVmcyk7XG4gICAgfVxuICAgIGlmIChkZWYuZXhhY3RMZW5ndGgpIHtcbiAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWluSXRlbXNcIiwgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlLCBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1heEl0ZW1zXCIsIGRlZi5leGFjdExlbmd0aC52YWx1ZSwgZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZXhwb3J0cy5wYXJzZUFycmF5RGVmID0gcGFyc2VBcnJheURlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZUJpZ2ludERlZiA9IHZvaWQgMDtcbmNvbnN0IGVycm9yTWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9lcnJvck1lc3NhZ2VzXCIpO1xuZnVuY3Rpb24gcGFyc2VCaWdpbnREZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiBcImludGVnZXJcIixcbiAgICAgICAgZm9ybWF0OiBcImludDY0XCIsXG4gICAgfTtcbiAgICBpZiAoIWRlZi5jaGVja3MpXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgY2FzZSBcIm1pblwiOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwiZXhjbHVzaXZlTWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWluaW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1heFwiOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwiZXhjbHVzaXZlTWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWF4aW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlT2ZcIjpcbiAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtdWx0aXBsZU9mXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZXhwb3J0cy5wYXJzZUJpZ2ludERlZiA9IHBhcnNlQmlnaW50RGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlQm9vbGVhbkRlZiA9IHZvaWQgMDtcbmZ1bmN0aW9uIHBhcnNlQm9vbGVhbkRlZigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICB9O1xufVxuZXhwb3J0cy5wYXJzZUJvb2xlYW5EZWYgPSBwYXJzZUJvb2xlYW5EZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VCcmFuZGVkRGVmID0gdm9pZCAwO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmZ1bmN0aW9uIHBhcnNlQnJhbmRlZERlZihfZGVmLCByZWZzKSB7XG4gICAgcmV0dXJuICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShfZGVmLnR5cGUuX2RlZiwgcmVmcyk7XG59XG5leHBvcnRzLnBhcnNlQnJhbmRlZERlZiA9IHBhcnNlQnJhbmRlZERlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZUNhdGNoRGVmID0gdm9pZCAwO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmNvbnN0IHBhcnNlQ2F0Y2hEZWYgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgcmV0dXJuICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xufTtcbmV4cG9ydHMucGFyc2VDYXRjaERlZiA9IHBhcnNlQ2F0Y2hEZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VEYXRlRGVmID0gdm9pZCAwO1xuY29uc3QgZXJyb3JNZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL2Vycm9yTWVzc2FnZXNcIik7XG5mdW5jdGlvbiBwYXJzZURhdGVEZWYoZGVmLCByZWZzKSB7XG4gICAgaWYgKHJlZnMuZGF0ZVN0cmF0ZWd5ID09IFwiaW50ZWdlclwiKSB7XG4gICAgICAgIHJldHVybiBpbnRlZ2VyRGF0ZVBhcnNlcihkZWYsIHJlZnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBmb3JtYXQ6IFwiZGF0ZS10aW1lXCIsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5wYXJzZURhdGVEZWYgPSBwYXJzZURhdGVEZWY7XG5jb25zdCBpbnRlZ2VyRGF0ZVBhcnNlciA9IChkZWYsIHJlZnMpID0+IHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6IFwiaW50ZWdlclwiLFxuICAgICAgICBmb3JtYXQ6IFwidW5peC10aW1lXCIsXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwibWluXCI6XG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgLy8gVGhpcyBpcyBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgICAgICAgICAgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1heFwiOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIC8vIFRoaXMgaXMgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZURlZmF1bHREZWYgPSB2b2lkIDA7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuZnVuY3Rpb24gcGFyc2VEZWZhdWx0RGVmKF9kZWYsIHJlZnMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoX2RlZi5pbm5lclR5cGUuX2RlZiwgcmVmcykpLCB7IGRlZmF1bHQ6IF9kZWYuZGVmYXVsdFZhbHVlKCkgfSk7XG59XG5leHBvcnRzLnBhcnNlRGVmYXVsdERlZiA9IHBhcnNlRGVmYXVsdERlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZUVmZmVjdHNEZWYgPSB2b2lkIDA7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuZnVuY3Rpb24gcGFyc2VFZmZlY3RzRGVmKF9kZWYsIHJlZnMpIHtcbiAgICByZXR1cm4gcmVmcy5lZmZlY3RTdHJhdGVneSA9PT0gXCJpbnB1dFwiXG4gICAgICAgID8gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKF9kZWYuc2NoZW1hLl9kZWYsIHJlZnMpXG4gICAgICAgIDoge307XG59XG5leHBvcnRzLnBhcnNlRWZmZWN0c0RlZiA9IHBhcnNlRWZmZWN0c0RlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZUVudW1EZWYgPSB2b2lkIDA7XG5mdW5jdGlvbiBwYXJzZUVudW1EZWYoZGVmKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZW51bTogZGVmLnZhbHVlcyxcbiAgICB9O1xufVxuZXhwb3J0cy5wYXJzZUVudW1EZWYgPSBwYXJzZUVudW1EZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VJbnRlcnNlY3Rpb25EZWYgPSB2b2lkIDA7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuY29uc3QgaXNKc29uU2NoZW1hN0FsbE9mVHlwZSA9ICh0eXBlKSA9PiB7XG4gICAgaWYgKFwidHlwZVwiIGluIHR5cGUgJiYgdHlwZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIFwiYWxsT2ZcIiBpbiB0eXBlO1xufTtcbmZ1bmN0aW9uIHBhcnNlSW50ZXJzZWN0aW9uRGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IGFsbE9mID0gW1xuICAgICAgICAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmxlZnQuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWxsT2ZcIiwgXCIwXCJdIH0pKSxcbiAgICAgICAgKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5yaWdodC5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhbGxPZlwiLCBcIjFcIl0gfSkpLFxuICAgIF0uZmlsdGVyKCh4KSA9PiAhIXgpO1xuICAgIGxldCB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSByZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hMjAxOS0wOVwiXG4gICAgICAgID8geyB1bmV2YWx1YXRlZFByb3BlcnRpZXM6IGZhbHNlIH1cbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgbWVyZ2VkQWxsT2YgPSBbXTtcbiAgICAvLyBJZiBlaXRoZXIgb2YgdGhlIHNjaGVtYXMgaXMgYW4gYWxsT2YsIG1lcmdlIHRoZW0gaW50byBhIHNpbmdsZSBhbGxPZlxuICAgIGFsbE9mLmZvckVhY2goKHNjaGVtYSkgPT4ge1xuICAgICAgICBpZiAoaXNKc29uU2NoZW1hN0FsbE9mVHlwZShzY2hlbWEpKSB7XG4gICAgICAgICAgICBtZXJnZWRBbGxPZi5wdXNoKC4uLnNjaGVtYS5hbGxPZik7XG4gICAgICAgICAgICBpZiAoc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgb25lIG9mIHRoZSBzY2hlbWFzIGhhcyBubyB1bmV2YWx1YXRlZFByb3BlcnRpZXMgc2V0LFxuICAgICAgICAgICAgICAgIC8vIHRoZSBtZXJnZWQgc2NoZW1hIHNob3VsZCBhbHNvIGhhdmUgbm8gdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzIHNldFxuICAgICAgICAgICAgICAgIHVuZXZhbHVhdGVkUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBuZXN0ZWRTY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgICAgICBpZiAoXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiIGluIHNjaGVtYSAmJlxuICAgICAgICAgICAgICAgIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGFkZGl0aW9uYWxQcm9wZXJ0aWVzIH0gPSBzY2hlbWEsIHJlc3QgPSBfX3Jlc3Qoc2NoZW1hLCBbXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXSk7XG4gICAgICAgICAgICAgICAgbmVzdGVkU2NoZW1hID0gcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFzIHNvb24gYXMgb25lIG9mIHRoZSBzY2hlbWFzIGhhcyBhZGRpdGlvbmFsUHJvcGVydGllcyBzZXQgbm90IHRvIGZhbHNlLCB3ZSBhbGxvdyB1bmV2YWx1YXRlZFByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXJnZWRBbGxPZi5wdXNoKG5lc3RlZFNjaGVtYSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbWVyZ2VkQWxsT2YubGVuZ3RoXG4gICAgICAgID8gT2JqZWN0LmFzc2lnbih7IGFsbE9mOiBtZXJnZWRBbGxPZiB9LCB1bmV2YWx1YXRlZFByb3BlcnRpZXMpIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0cy5wYXJzZUludGVyc2VjdGlvbkRlZiA9IHBhcnNlSW50ZXJzZWN0aW9uRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlTGl0ZXJhbERlZiA9IHZvaWQgMDtcbmZ1bmN0aW9uIHBhcnNlTGl0ZXJhbERlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCBwYXJzZWRUeXBlID0gdHlwZW9mIGRlZi52YWx1ZTtcbiAgICBpZiAocGFyc2VkVHlwZSAhPT0gXCJiaWdpbnRcIiAmJlxuICAgICAgICBwYXJzZWRUeXBlICE9PSBcIm51bWJlclwiICYmXG4gICAgICAgIHBhcnNlZFR5cGUgIT09IFwiYm9vbGVhblwiICYmXG4gICAgICAgIHBhcnNlZFR5cGUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IEFycmF5LmlzQXJyYXkoZGVmLnZhbHVlKSA/IFwiYXJyYXlcIiA6IFwib2JqZWN0XCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBwYXJzZWRUeXBlID09PSBcImJpZ2ludFwiID8gXCJpbnRlZ2VyXCIgOiBwYXJzZWRUeXBlLFxuICAgICAgICAgICAgZW51bTogW2RlZi52YWx1ZV0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHBhcnNlZFR5cGUgPT09IFwiYmlnaW50XCIgPyBcImludGVnZXJcIiA6IHBhcnNlZFR5cGUsXG4gICAgICAgIGNvbnN0OiBkZWYudmFsdWUsXG4gICAgfTtcbn1cbmV4cG9ydHMucGFyc2VMaXRlcmFsRGVmID0gcGFyc2VMaXRlcmFsRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlTWFwRGVmID0gdm9pZCAwO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmZ1bmN0aW9uIHBhcnNlTWFwRGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IGtleXMgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmtleVR5cGUuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIiwgXCJpdGVtc1wiLCBcIjBcIl0gfSkpIHx8IHt9O1xuICAgIGNvbnN0IHZhbHVlcyA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYudmFsdWVUeXBlLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIml0ZW1zXCIsIFwiaXRlbXNcIiwgXCIxXCJdIH0pKSB8fCB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgIG1heEl0ZW1zOiAxMjUsXG4gICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICBpdGVtczogW2tleXMsIHZhbHVlc10sXG4gICAgICAgICAgICBtaW5JdGVtczogMixcbiAgICAgICAgICAgIG1heEl0ZW1zOiAyLFxuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnRzLnBhcnNlTWFwRGVmID0gcGFyc2VNYXBEZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VOYXRpdmVFbnVtRGVmID0gdm9pZCAwO1xuZnVuY3Rpb24gcGFyc2VOYXRpdmVFbnVtRGVmKGRlZikge1xuICAgIGNvbnN0IG9iamVjdCA9IGRlZi52YWx1ZXM7XG4gICAgY29uc3QgYWN0dWFsS2V5cyA9IE9iamVjdC5rZXlzKGRlZi52YWx1ZXMpLmZpbHRlcigoa2V5KSA9PiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0W29iamVjdFtrZXldXSAhPT0gXCJudW1iZXJcIjtcbiAgICB9KTtcbiAgICBjb25zdCBhY3R1YWxWYWx1ZXMgPSBhY3R1YWxLZXlzLm1hcCgoa2V5KSA9PiBvYmplY3Rba2V5XSk7XG4gICAgY29uc3QgcGFyc2VkVHlwZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQoYWN0dWFsVmFsdWVzLm1hcCgodmFsdWVzKSA9PiB0eXBlb2YgdmFsdWVzKSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHBhcnNlZFR5cGVzLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgPyBwYXJzZWRUeXBlc1swXSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgID8gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIDogXCJudW1iZXJcIlxuICAgICAgICAgICAgOiBbXCJzdHJpbmdcIiwgXCJudW1iZXJcIl0sXG4gICAgICAgIGVudW06IGFjdHVhbFZhbHVlcyxcbiAgICB9O1xufVxuZXhwb3J0cy5wYXJzZU5hdGl2ZUVudW1EZWYgPSBwYXJzZU5hdGl2ZUVudW1EZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VOZXZlckRlZiA9IHZvaWQgMDtcbmZ1bmN0aW9uIHBhcnNlTmV2ZXJEZWYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbm90OiB7fSxcbiAgICB9O1xufVxuZXhwb3J0cy5wYXJzZU5ldmVyRGVmID0gcGFyc2VOZXZlckRlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZU51bGxEZWYgPSB2b2lkIDA7XG5mdW5jdGlvbiBwYXJzZU51bGxEZWYocmVmcykge1xuICAgIHJldHVybiByZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiXG4gICAgICAgID8ge1xuICAgICAgICAgICAgZW51bTogW1wibnVsbFwiXSxcbiAgICAgICAgICAgIG51bGxhYmxlOiB0cnVlLFxuICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgdHlwZTogXCJudWxsXCIsXG4gICAgICAgIH07XG59XG5leHBvcnRzLnBhcnNlTnVsbERlZiA9IHBhcnNlTnVsbERlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZVVuaW9uRGVmID0gZXhwb3J0cy5wcmltaXRpdmVNYXBwaW5ncyA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5leHBvcnRzLnByaW1pdGl2ZU1hcHBpbmdzID0ge1xuICAgIFpvZFN0cmluZzogXCJzdHJpbmdcIixcbiAgICBab2ROdW1iZXI6IFwibnVtYmVyXCIsXG4gICAgWm9kQmlnSW50OiBcImludGVnZXJcIixcbiAgICBab2RCb29sZWFuOiBcImJvb2xlYW5cIixcbiAgICBab2ROdWxsOiBcIm51bGxcIixcbn07XG5mdW5jdGlvbiBwYXJzZVVuaW9uRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKVxuICAgICAgICByZXR1cm4gYXNBbnlPZihkZWYsIHJlZnMpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBkZWYub3B0aW9ucyBpbnN0YW5jZW9mIE1hcCA/IEFycmF5LmZyb20oZGVmLm9wdGlvbnMudmFsdWVzKCkpIDogZGVmLm9wdGlvbnM7XG4gICAgLy8gVGhpcyBibG9ja3MgdHJpZXMgdG8gbG9vayBhaGVhZCBhIGJpdCB0byBwcm9kdWNlIG5pY2VyIGxvb2tpbmcgc2NoZW1hcyB3aXRoIHR5cGUgYXJyYXkgaW5zdGVhZCBvZiBhbnlPZi5cbiAgICBpZiAob3B0aW9ucy5ldmVyeSgoeCkgPT4geC5fZGVmLnR5cGVOYW1lIGluIGV4cG9ydHMucHJpbWl0aXZlTWFwcGluZ3MgJiZcbiAgICAgICAgKCF4Ll9kZWYuY2hlY2tzIHx8ICF4Ll9kZWYuY2hlY2tzLmxlbmd0aCkpKSB7XG4gICAgICAgIC8vIGFsbCB0eXBlcyBpbiB1bmlvbiBhcmUgcHJpbWl0aXZlIGFuZCBsYWNrIGNoZWNrcywgc28gbWlnaHQgYXMgd2VsbCBzcXVhc2ggaW50byB7dHlwZTogWy4uLl19XG4gICAgICAgIGNvbnN0IHR5cGVzID0gb3B0aW9ucy5yZWR1Y2UoKHR5cGVzLCB4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gZXhwb3J0cy5wcmltaXRpdmVNYXBwaW5nc1t4Ll9kZWYudHlwZU5hbWVdOyAvL0NhbiBiZSBzYWZlbHkgY2FzdGVkIGR1ZSB0byByb3cgNDNcbiAgICAgICAgICAgIHJldHVybiB0eXBlICYmICF0eXBlcy5pbmNsdWRlcyh0eXBlKSA/IFsuLi50eXBlcywgdHlwZV0gOiB0eXBlcztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogdHlwZXMubGVuZ3RoID4gMSA/IHR5cGVzIDogdHlwZXNbMF0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSA9PT0gXCJab2RMaXRlcmFsXCIgJiYgIXguZGVzY3JpcHRpb24pKSB7XG4gICAgICAgIC8vIGFsbCBvcHRpb25zIGxpdGVyYWxzXG4gICAgICAgIGNvbnN0IHR5cGVzID0gb3B0aW9ucy5yZWR1Y2UoKGFjYywgeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiB4Ll9kZWYudmFsdWU7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCB0eXBlXTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCBcImludGVnZXJcIl07XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoeC5fZGVmLnZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIFwibnVsbFwiXTtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgaWYgKHR5cGVzLmxlbmd0aCA9PT0gb3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGFsbCB0aGUgbGl0ZXJhbHMgYXJlIHByaW1pdGl2ZSwgYXMgZmFyIGFzIG51bGwgY2FuIGJlIGNvbnNpZGVyZWQgcHJpbWl0aXZlXG4gICAgICAgICAgICBjb25zdCB1bmlxdWVUeXBlcyA9IHR5cGVzLmZpbHRlcigoeCwgaSwgYSkgPT4gYS5pbmRleE9mKHgpID09PSBpKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogdW5pcXVlVHlwZXMubGVuZ3RoID4gMSA/IHVuaXF1ZVR5cGVzIDogdW5pcXVlVHlwZXNbMF0sXG4gICAgICAgICAgICAgICAgZW51bTogb3B0aW9ucy5yZWR1Y2UoKGFjYywgeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjLmluY2x1ZGVzKHguX2RlZi52YWx1ZSkgPyBhY2MgOiBbLi4uYWNjLCB4Ll9kZWYudmFsdWVdO1xuICAgICAgICAgICAgICAgIH0sIFtdKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAob3B0aW9ucy5ldmVyeSgoeCkgPT4geC5fZGVmLnR5cGVOYW1lID09PSBcIlpvZEVudW1cIikpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBlbnVtOiBvcHRpb25zLnJlZHVjZSgoYWNjLCB4KSA9PiBbXG4gICAgICAgICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgICAgICAgIC4uLnguX2RlZi52YWx1ZXMuZmlsdGVyKCh4KSA9PiAhYWNjLmluY2x1ZGVzKHgpKSxcbiAgICAgICAgICAgIF0sIFtdKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGFzQW55T2YoZGVmLCByZWZzKTtcbn1cbmV4cG9ydHMucGFyc2VVbmlvbkRlZiA9IHBhcnNlVW5pb25EZWY7XG5jb25zdCBhc0FueU9mID0gKGRlZiwgcmVmcykgPT4ge1xuICAgIGNvbnN0IGFueU9mID0gKGRlZi5vcHRpb25zIGluc3RhbmNlb2YgTWFwXG4gICAgICAgID8gQXJyYXkuZnJvbShkZWYub3B0aW9ucy52YWx1ZXMoKSlcbiAgICAgICAgOiBkZWYub3B0aW9ucylcbiAgICAgICAgLm1hcCgoeCwgaSkgPT4gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKHguX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYW55T2ZcIiwgYCR7aX1gXSB9KSkpXG4gICAgICAgIC5maWx0ZXIoKHgpID0+ICEheCAmJlxuICAgICAgICAoIXJlZnMuc3RyaWN0VW5pb25zIHx8XG4gICAgICAgICAgICAodHlwZW9mIHggPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmtleXMoeCkubGVuZ3RoID4gMCkpKTtcbiAgICByZXR1cm4gYW55T2YubGVuZ3RoID8geyBhbnlPZiB9IDogdW5kZWZpbmVkO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZU51bGxhYmxlRGVmID0gdm9pZCAwO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmNvbnN0IHVuaW9uXzEgPSByZXF1aXJlKFwiLi91bmlvblwiKTtcbmZ1bmN0aW9uIHBhcnNlTnVsbGFibGVEZWYoZGVmLCByZWZzKSB7XG4gICAgaWYgKFtcIlpvZFN0cmluZ1wiLCBcIlpvZE51bWJlclwiLCBcIlpvZEJpZ0ludFwiLCBcIlpvZEJvb2xlYW5cIiwgXCJab2ROdWxsXCJdLmluY2x1ZGVzKGRlZi5pbm5lclR5cGUuX2RlZi50eXBlTmFtZSkgJiZcbiAgICAgICAgKCFkZWYuaW5uZXJUeXBlLl9kZWYuY2hlY2tzIHx8ICFkZWYuaW5uZXJUeXBlLl9kZWYuY2hlY2tzLmxlbmd0aCkpIHtcbiAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogdW5pb25fMS5wcmltaXRpdmVNYXBwaW5nc1tkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWVdLFxuICAgICAgICAgICAgICAgIG51bGxhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogW1xuICAgICAgICAgICAgICAgIHVuaW9uXzEucHJpbWl0aXZlTWFwcGluZ3NbZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lXSxcbiAgICAgICAgICAgICAgICBcIm51bGxcIixcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSB7XG4gICAgICAgIGNvbnN0IGJhc2UgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmlubmVyVHlwZS5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aF0gfSkpO1xuICAgICAgICByZXR1cm4gYmFzZSAmJiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGJhc2UpLCB7IG51bGxhYmxlOiB0cnVlIH0pO1xuICAgIH1cbiAgICBjb25zdCBiYXNlID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5pbm5lclR5cGUuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYW55T2ZcIiwgXCIwXCJdIH0pKTtcbiAgICByZXR1cm4gYmFzZSAmJiB7IGFueU9mOiBbYmFzZSwgeyB0eXBlOiBcIm51bGxcIiB9XSB9O1xufVxuZXhwb3J0cy5wYXJzZU51bGxhYmxlRGVmID0gcGFyc2VOdWxsYWJsZURlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZU51bWJlckRlZiA9IHZvaWQgMDtcbmNvbnN0IGVycm9yTWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9lcnJvck1lc3NhZ2VzXCIpO1xuZnVuY3Rpb24gcGFyc2VOdW1iZXJEZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIH07XG4gICAgaWYgKCFkZWYuY2hlY2tzKVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgICAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnRcIjpcbiAgICAgICAgICAgICAgICByZXMudHlwZSA9IFwiaW50ZWdlclwiO1xuICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuYWRkRXJyb3JNZXNzYWdlKShyZXMsIFwidHlwZVwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtaW5cIjpcbiAgICAgICAgICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcImV4Y2x1c2l2ZU1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1pbmltdW0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtYXhcIjpcbiAgICAgICAgICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcImV4Y2x1c2l2ZU1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1heGltdW0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZU9mXCI6XG4gICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibXVsdGlwbGVPZlwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmV4cG9ydHMucGFyc2VOdW1iZXJEZWYgPSBwYXJzZU51bWJlckRlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZU9iamVjdERlZiA9IGV4cG9ydHMucGFyc2VPYmplY3REZWZYID0gdm9pZCAwO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmZ1bmN0aW9uIHBhcnNlT2JqZWN0RGVmWChkZWYsIHJlZnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIE9iamVjdC5rZXlzKGRlZi5zaGFwZSgpKS5yZWR1Y2UoKHNjaGVtYSwga2V5KSA9PiB7XG4gICAgICAgIGxldCBwcm9wID0gZGVmLnNoYXBlKClba2V5XTtcbiAgICAgICAgY29uc3QgaXNPcHRpb25hbCA9IHByb3AuaXNPcHRpb25hbCgpO1xuICAgICAgICBpZiAoIWlzT3B0aW9uYWwpIHtcbiAgICAgICAgICAgIHByb3AgPSBPYmplY3QuYXNzaWduKHt9LCBwcm9wLl9kZWYuaW5uZXJTY2hlbWEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb3BTY2hlbWEgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikocHJvcC5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJwcm9wZXJ0aWVzXCIsIGtleV0sIHByb3BlcnR5UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwicHJvcGVydGllc1wiLCBrZXldIH0pKTtcbiAgICAgICAgaWYgKHByb3BTY2hlbWEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2NoZW1hLnByb3BlcnRpZXNba2V5XSA9IHByb3BTY2hlbWE7XG4gICAgICAgICAgICBpZiAoIWlzT3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjaGVtYS5yZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgICAgICBzY2hlbWEucmVxdWlyZWQgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2NoZW1hLnJlcXVpcmVkLnB1c2goa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH0sIHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBkZWYuY2F0Y2hhbGwuX2RlZi50eXBlTmFtZSA9PT0gXCJab2ROZXZlclwiXG4gICAgICAgICAgICA/IGRlZi51bmtub3duS2V5cyA9PT0gXCJwYXNzdGhyb3VnaFwiXG4gICAgICAgICAgICA6IChfYSA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYuY2F0Y2hhbGwuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0gfSkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0cnVlLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IHR5cGU6IFwib2JqZWN0XCIgfSwgT2JqZWN0LmVudHJpZXMoZGVmLnNoYXBlKCkpLnJlZHVjZSgoYWNjLCBbcHJvcE5hbWUsIHByb3BEZWZdKSA9PiB7XG4gICAgICAgIGlmIChwcm9wRGVmID09PSB1bmRlZmluZWQgfHwgcHJvcERlZi5fZGVmID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICBjb25zdCBwYXJzZWREZWYgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikocHJvcERlZi5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJwcm9wZXJ0aWVzXCIsIHByb3BOYW1lXSwgcHJvcGVydHlQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJwcm9wZXJ0aWVzXCIsIHByb3BOYW1lXSB9KSk7XG4gICAgICAgIGlmIChwYXJzZWREZWYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGFjYy5wcm9wZXJ0aWVzKSwgeyBbcHJvcE5hbWVdOiBwYXJzZWREZWYgfSksXG4gICAgICAgICAgICByZXF1aXJlZDogcHJvcERlZi5pc09wdGlvbmFsKClcbiAgICAgICAgICAgICAgICA/IGFjYy5yZXF1aXJlZFxuICAgICAgICAgICAgICAgIDogWy4uLmFjYy5yZXF1aXJlZCwgcHJvcE5hbWVdLFxuICAgICAgICB9O1xuICAgIH0sIHsgcHJvcGVydGllczoge30sIHJlcXVpcmVkOiBbXSB9KSksIHsgYWRkaXRpb25hbFByb3BlcnRpZXM6IGRlZi5jYXRjaGFsbC5fZGVmLnR5cGVOYW1lID09PSBcIlpvZE5ldmVyXCJcbiAgICAgICAgICAgID8gZGVmLnVua25vd25LZXlzID09PSBcInBhc3N0aHJvdWdoXCJcbiAgICAgICAgICAgIDogKF9iID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5jYXRjaGFsbC5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXSB9KSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRydWUgfSk7XG4gICAgaWYgKCFyZXN1bHQucmVxdWlyZWQubGVuZ3RoKVxuICAgICAgICBkZWxldGUgcmVzdWx0LnJlcXVpcmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLnBhcnNlT2JqZWN0RGVmWCA9IHBhcnNlT2JqZWN0RGVmWDtcbmZ1bmN0aW9uIHBhcnNlT2JqZWN0RGVmKGRlZiwgcmVmcykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByZXN1bHQgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyB0eXBlOiBcIm9iamVjdFwiIH0sIE9iamVjdC5lbnRyaWVzKGRlZi5zaGFwZSgpKS5yZWR1Y2UoKGFjYywgW3Byb3BOYW1lLCBwcm9wRGVmXSkgPT4ge1xuICAgICAgICBpZiAocHJvcERlZiA9PT0gdW5kZWZpbmVkIHx8IHByb3BEZWYuX2RlZiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgY29uc3QgcGFyc2VkRGVmID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKHByb3BEZWYuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwicHJvcGVydGllc1wiLCBwcm9wTmFtZV0sIHByb3BlcnR5UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwicHJvcGVydGllc1wiLCBwcm9wTmFtZV0gfSkpO1xuICAgICAgICBpZiAocGFyc2VkRGVmID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvcGVydGllczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhY2MucHJvcGVydGllcyksIHsgW3Byb3BOYW1lXTogcGFyc2VkRGVmIH0pLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHByb3BEZWYuaXNPcHRpb25hbCgpXG4gICAgICAgICAgICAgICAgPyBhY2MucmVxdWlyZWRcbiAgICAgICAgICAgICAgICA6IFsuLi5hY2MucmVxdWlyZWQsIHByb3BOYW1lXSxcbiAgICAgICAgfTtcbiAgICB9LCB7IHByb3BlcnRpZXM6IHt9LCByZXF1aXJlZDogW10gfSkpLCB7IGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBkZWYuY2F0Y2hhbGwuX2RlZi50eXBlTmFtZSA9PT0gXCJab2ROZXZlclwiXG4gICAgICAgICAgICA/IGRlZi51bmtub3duS2V5cyA9PT0gXCJwYXNzdGhyb3VnaFwiXG4gICAgICAgICAgICA6IChfYSA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYuY2F0Y2hhbGwuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0gfSkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0cnVlIH0pO1xuICAgIGlmICghcmVzdWx0LnJlcXVpcmVkLmxlbmd0aClcbiAgICAgICAgZGVsZXRlIHJlc3VsdC5yZXF1aXJlZDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5wYXJzZU9iamVjdERlZiA9IHBhcnNlT2JqZWN0RGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlT3B0aW9uYWxEZWYgPSB2b2lkIDA7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuY29uc3QgcGFyc2VPcHRpb25hbERlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHJlZnMuY3VycmVudFBhdGgudG9TdHJpbmcoKSA9PT0gKChfYSA9IHJlZnMucHJvcGVydHlQYXRoKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xuICAgIH1cbiAgICBjb25zdCBpbm5lclNjaGVtYSA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYuaW5uZXJUeXBlLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFueU9mXCIsIFwiMVwiXSB9KSk7XG4gICAgcmV0dXJuIGlubmVyU2NoZW1hXG4gICAgICAgID8ge1xuICAgICAgICAgICAgYW55T2Y6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5vdDoge30sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbm5lclNjaGVtYSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH1cbiAgICAgICAgOiB7fTtcbn07XG5leHBvcnRzLnBhcnNlT3B0aW9uYWxEZWYgPSBwYXJzZU9wdGlvbmFsRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlUGlwZWxpbmVEZWYgPSB2b2lkIDA7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuY29uc3QgcGFyc2VQaXBlbGluZURlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICBpZiAocmVmcy5waXBlU3RyYXRlZ3kgPT09IFwiaW5wdXRcIikge1xuICAgICAgICByZXR1cm4gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5pbi5fZGVmLCByZWZzKTtcbiAgICB9XG4gICAgY29uc3QgYSA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYuaW4uX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWxsT2ZcIiwgXCIwXCJdIH0pKTtcbiAgICBjb25zdCBiID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5vdXQuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWxsT2ZcIiwgYSA/IFwiMVwiIDogXCIwXCJdIH0pKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhbGxPZjogW2EsIGJdLmZpbHRlcigoeCkgPT4geCAhPT0gdW5kZWZpbmVkKSxcbiAgICB9O1xufTtcbmV4cG9ydHMucGFyc2VQaXBlbGluZURlZiA9IHBhcnNlUGlwZWxpbmVEZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VQcm9taXNlRGVmID0gdm9pZCAwO1xuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcbmZ1bmN0aW9uIHBhcnNlUHJvbWlzZURlZihkZWYsIHJlZnMpIHtcbiAgICByZXR1cm4gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi50eXBlLl9kZWYsIHJlZnMpO1xufVxuZXhwb3J0cy5wYXJzZVByb21pc2VEZWYgPSBwYXJzZVByb21pc2VEZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VTdHJpbmdEZWYgPSBleHBvcnRzLmVtb2ppUGF0dGVybiA9IGV4cG9ydHMudWxpZFBhdHRlcm4gPSBleHBvcnRzLmN1aWQyUGF0dGVybiA9IGV4cG9ydHMuY3VpZFBhdHRlcm4gPSBleHBvcnRzLmVtYWlsUGF0dGVybiA9IHZvaWQgMDtcbmNvbnN0IGVycm9yTWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9lcnJvck1lc3NhZ2VzXCIpO1xuZXhwb3J0cy5lbWFpbFBhdHRlcm4gPSAnXigoW148PigpW1xcXFxdXFxcXFxcXFwuLDs6XFxcXHNAXFxcXFwiXSsoXFxcXC5bXjw+KClbXFxcXF1cXFxcXFxcXC4sOzpcXFxcc0BcXFxcXCJdKykqKXwoXFxcXFwiLitcXFxcXCIpKUAoKFxcXFxbKCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFxcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXFxcXSl8KFxcXFxbSVB2NjooKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXFxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSlcXFxcXSl8KFtBLVphLXowLTldKFtBLVphLXowLTktXSpbQS1aYS16MC05XSkqKFxcXFwuW0EtWmEtel17Mix9KSspKSQnO1xuZXhwb3J0cy5jdWlkUGF0dGVybiA9IFwiXmNbXlxcXFxzLV17OCx9JFwiO1xuZXhwb3J0cy5jdWlkMlBhdHRlcm4gPSBcIl5bYS16XVthLXowLTldKiRcIjtcbmV4cG9ydHMudWxpZFBhdHRlcm4gPSBcIi9bMC05QS1ISktNTlAtVFYtWl17MjZ9L1wiO1xuZXhwb3J0cy5lbW9qaVBhdHRlcm4gPSBcIi9eKHB7RXh0ZW5kZWRfUGljdG9ncmFwaGljfXxwe0Vtb2ppX0NvbXBvbmVudH0pKyQvdVwiO1xuZnVuY3Rpb24gcGFyc2VTdHJpbmdEZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIH07XG4gICAgaWYgKGRlZi5jaGVja3MpIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwibWluXCI6XG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1pbkxlbmd0aFwiLCB0eXBlb2YgcmVzLm1pbkxlbmd0aCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBNYXRoLm1heChyZXMubWluTGVuZ3RoLCBjaGVjay52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibWF4XCI6XG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1heExlbmd0aFwiLCB0eXBlb2YgcmVzLm1heExlbmd0aCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBNYXRoLm1pbihyZXMubWF4TGVuZ3RoLCBjaGVjay52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW1haWxcIjpcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZWZzLmVtYWlsU3RyYXRlZ3kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmb3JtYXQ6ZW1haWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCBcImVtYWlsXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZvcm1hdDppZG4tZW1haWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCBcImlkbi1lbWFpbFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwYXR0ZXJuOnpvZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBleHBvcnRzLmVtYWlsUGF0dGVybiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInVybFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCBcInVyaVwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInV1aWRcIjpcbiAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgXCJ1dWlkXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVnZXhcIjpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIGNoZWNrLnJlZ2V4LnNvdXJjZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjdWlkXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBleHBvcnRzLmN1aWRQYXR0ZXJuLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImN1aWQyXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBleHBvcnRzLmN1aWQyUGF0dGVybiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdGFydHNXaXRoXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBcIl5cIiArIGVzY2FwZU5vbkFscGhhTnVtZXJpYyhjaGVjay52YWx1ZSksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW5kc1dpdGhcIjpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIGVzY2FwZU5vbkFscGhhTnVtZXJpYyhjaGVjay52YWx1ZSkgKyBcIiRcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRldGltZVwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCBcImRhdGUtdGltZVwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImxlbmd0aFwiOlxuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtaW5MZW5ndGhcIiwgdHlwZW9mIHJlcy5taW5MZW5ndGggPT09IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gTWF0aC5tYXgocmVzLm1pbkxlbmd0aCwgY2hlY2sudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWF4TGVuZ3RoXCIsIHR5cGVvZiByZXMubWF4TGVuZ3RoID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWluKHJlcy5tYXhMZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJpbmNsdWRlc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBlc2NhcGVOb25BbHBoYU51bWVyaWMoY2hlY2sudmFsdWUpLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJpcFwiOiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSBcInY2XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiaXB2NFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2sudmVyc2lvbiAhPT0gXCJ2NFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCBcImlwdjZcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJlbW9qaVwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgZXhwb3J0cy5lbW9qaVBhdHRlcm4sIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwidWxpZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBleHBvcnRzLnVsaWRQYXR0ZXJuLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0b0xvd2VyQ2FzZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0b1VwcGVyQ2FzZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0cmltXCI6XG4gICAgICAgICAgICAgICAgICAgIC8vIEkgaGF2ZSBubyBpZGVhIHdoeSB0aGVzZSBhcmUgY2hlY2tzIGluIFpvZCDwn6S3XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICgoXykgPT4geyB9KShjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmV4cG9ydHMucGFyc2VTdHJpbmdEZWYgPSBwYXJzZVN0cmluZ0RlZjtcbmNvbnN0IGVzY2FwZU5vbkFscGhhTnVtZXJpYyA9ICh2YWx1ZSkgPT4gQXJyYXkuZnJvbSh2YWx1ZSlcbiAgICAubWFwKChjKSA9PiAoL1thLXpBLVowLTldLy50ZXN0KGMpID8gYyA6IGBcXFxcJHtjfWApKVxuICAgIC5qb2luKFwiXCIpO1xuY29uc3QgYWRkRm9ybWF0ID0gKHNjaGVtYSwgdmFsdWUsIG1lc3NhZ2UsIHJlZnMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHNjaGVtYS5mb3JtYXQgfHwgKChfYSA9IHNjaGVtYS5hbnlPZikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNvbWUoKHgpID0+IHguZm9ybWF0KSkpIHtcbiAgICAgICAgaWYgKCFzY2hlbWEuYW55T2YpIHtcbiAgICAgICAgICAgIHNjaGVtYS5hbnlPZiA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEuZm9ybWF0KSB7XG4gICAgICAgICAgICBzY2hlbWEuYW55T2YucHVzaChPYmplY3QuYXNzaWduKHsgZm9ybWF0OiBzY2hlbWEuZm9ybWF0IH0sIChzY2hlbWEuZXJyb3JNZXNzYWdlICYmXG4gICAgICAgICAgICAgICAgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHtcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IHsgZm9ybWF0OiBzY2hlbWEuZXJyb3JNZXNzYWdlLmZvcm1hdCB9LFxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZm9ybWF0O1xuICAgICAgICAgICAgaWYgKHNjaGVtYS5lcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZS5mb3JtYXQ7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNjaGVtYS5lcnJvck1lc3NhZ2UpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2NoZW1hLmFueU9mLnB1c2goT2JqZWN0LmFzc2lnbih7IGZvcm1hdDogdmFsdWUgfSwgKG1lc3NhZ2UgJiZcbiAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBmb3JtYXQ6IG1lc3NhZ2UgfSB9KSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShzY2hlbWEsIFwiZm9ybWF0XCIsIHZhbHVlLCBtZXNzYWdlLCByZWZzKTtcbiAgICB9XG59O1xuY29uc3QgYWRkUGF0dGVybiA9IChzY2hlbWEsIHZhbHVlLCBtZXNzYWdlLCByZWZzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChzY2hlbWEucGF0dGVybiB8fCAoKF9hID0gc2NoZW1hLmFsbE9mKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc29tZSgoeCkgPT4geC5wYXR0ZXJuKSkpIHtcbiAgICAgICAgaWYgKCFzY2hlbWEuYWxsT2YpIHtcbiAgICAgICAgICAgIHNjaGVtYS5hbGxPZiA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEucGF0dGVybikge1xuICAgICAgICAgICAgc2NoZW1hLmFsbE9mLnB1c2goT2JqZWN0LmFzc2lnbih7IHBhdHRlcm46IHNjaGVtYS5wYXR0ZXJuIH0sIChzY2hlbWEuZXJyb3JNZXNzYWdlICYmXG4gICAgICAgICAgICAgICAgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHtcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IHsgcGF0dGVybjogc2NoZW1hLmVycm9yTWVzc2FnZS5wYXR0ZXJuIH0sXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5wYXR0ZXJuO1xuICAgICAgICAgICAgaWYgKHNjaGVtYS5lcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZS5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhzY2hlbWEuZXJyb3JNZXNzYWdlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjaGVtYS5hbGxPZi5wdXNoKE9iamVjdC5hc3NpZ24oeyBwYXR0ZXJuOiB2YWx1ZSB9LCAobWVzc2FnZSAmJlxuICAgICAgICAgICAgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHsgZXJyb3JNZXNzYWdlOiB7IHBhdHRlcm46IG1lc3NhZ2UgfSB9KSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShzY2hlbWEsIFwicGF0dGVyblwiLCB2YWx1ZSwgbWVzc2FnZSwgcmVmcyk7XG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZVJlY29yZERlZiA9IHZvaWQgMDtcbmNvbnN0IHpvZF8xID0gcmVxdWlyZShcInpvZFwiKTtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5jb25zdCBzdHJpbmdfMSA9IHJlcXVpcmUoXCIuL3N0cmluZ1wiKTtcbmZ1bmN0aW9uIHBhcnNlUmVjb3JkRGVmKGRlZiwgcmVmcykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIgJiZcbiAgICAgICAgKChfYSA9IGRlZi5rZXlUeXBlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuX2RlZi50eXBlTmFtZSkgPT09IHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGRlZi5rZXlUeXBlLl9kZWYudmFsdWVzLFxuICAgICAgICAgICAgcHJvcGVydGllczogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYWNjKSwgeyBba2V5XTogKF9hID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi52YWx1ZVR5cGUuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwicHJvcGVydGllc1wiLCBrZXldIH0pKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge30gfSkpO1xuICAgICAgICAgICAgfSwge30pLFxuICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBzY2hlbWEgPSB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiAoX2IgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLnZhbHVlVHlwZS5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXSB9KSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHt9LFxuICAgIH07XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG4gICAgaWYgKCgoX2MgPSBkZWYua2V5VHlwZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLl9kZWYudHlwZU5hbWUpID09PSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nICYmXG4gICAgICAgICgoX2QgPSBkZWYua2V5VHlwZS5fZGVmLmNoZWNrcykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmxlbmd0aCkpIHtcbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IE9iamVjdC5lbnRyaWVzKCgwLCBzdHJpbmdfMS5wYXJzZVN0cmluZ0RlZikoZGVmLmtleVR5cGUuX2RlZiwgcmVmcykpLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+IChrZXkgPT09IFwidHlwZVwiID8gYWNjIDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhY2MpLCB7IFtrZXldOiB2YWx1ZSB9KSksIHt9KTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc2NoZW1hKSwgeyBwcm9wZXJ0eU5hbWVzOiBrZXlUeXBlIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmICgoKF9lID0gZGVmLmtleVR5cGUpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5fZGVmLnR5cGVOYW1lKSA9PT0gem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc2NoZW1hKSwgeyBwcm9wZXJ0eU5hbWVzOiB7XG4gICAgICAgICAgICAgICAgZW51bTogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMsXG4gICAgICAgICAgICB9IH0pO1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hO1xufVxuZXhwb3J0cy5wYXJzZVJlY29yZERlZiA9IHBhcnNlUmVjb3JkRGVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlU2V0RGVmID0gdm9pZCAwO1xuY29uc3QgZXJyb3JNZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL2Vycm9yTWVzc2FnZXNcIik7XG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xuZnVuY3Rpb24gcGFyc2VTZXREZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgaXRlbXMgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLnZhbHVlVHlwZS5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJpdGVtc1wiXSB9KSk7XG4gICAgY29uc3Qgc2NoZW1hID0ge1xuICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgIHVuaXF1ZUl0ZW1zOiB0cnVlLFxuICAgICAgICBpdGVtcyxcbiAgICB9O1xuICAgIGlmIChkZWYubWluU2l6ZSkge1xuICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHNjaGVtYSwgXCJtaW5JdGVtc1wiLCBkZWYubWluU2l6ZS52YWx1ZSwgZGVmLm1pblNpemUubWVzc2FnZSwgcmVmcyk7XG4gICAgfVxuICAgIGlmIChkZWYubWF4U2l6ZSkge1xuICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHNjaGVtYSwgXCJtYXhJdGVtc1wiLCBkZWYubWF4U2l6ZS52YWx1ZSwgZGVmLm1heFNpemUubWVzc2FnZSwgcmVmcyk7XG4gICAgfVxuICAgIHJldHVybiBzY2hlbWE7XG59XG5leHBvcnRzLnBhcnNlU2V0RGVmID0gcGFyc2VTZXREZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VUdXBsZURlZiA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XG5mdW5jdGlvbiBwYXJzZVR1cGxlRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChkZWYucmVzdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgbWluSXRlbXM6IGRlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICBpdGVtczogZGVmLml0ZW1zXG4gICAgICAgICAgICAgICAgLm1hcCgoeCwgaSkgPT4gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKHguX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIiwgYCR7aX1gXSB9KSkpXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCB4KSA9PiAoeCA9PT0gdW5kZWZpbmVkID8gYWNjIDogWy4uLmFjYywgeF0pLCBbXSksXG4gICAgICAgICAgICBhZGRpdGlvbmFsSXRlbXM6ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYucmVzdC5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhZGRpdGlvbmFsSXRlbXNcIl0gfSkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgbWF4SXRlbXM6IGRlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICBpdGVtczogZGVmLml0ZW1zXG4gICAgICAgICAgICAgICAgLm1hcCgoeCwgaSkgPT4gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKHguX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIiwgYCR7aX1gXSB9KSkpXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCB4KSA9PiAoeCA9PT0gdW5kZWZpbmVkID8gYWNjIDogWy4uLmFjYywgeF0pLCBbXSksXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5wYXJzZVR1cGxlRGVmID0gcGFyc2VUdXBsZURlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZVVuZGVmaW5lZERlZiA9IHZvaWQgMDtcbmZ1bmN0aW9uIHBhcnNlVW5kZWZpbmVkRGVmKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5vdDoge30sXG4gICAgfTtcbn1cbmV4cG9ydHMucGFyc2VVbmRlZmluZWREZWYgPSBwYXJzZVVuZGVmaW5lZERlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZVVua25vd25EZWYgPSB2b2lkIDA7XG5mdW5jdGlvbiBwYXJzZVVua25vd25EZWYoKSB7XG4gICAgcmV0dXJuIHt9O1xufVxuZXhwb3J0cy5wYXJzZVVua25vd25EZWYgPSBwYXJzZVVua25vd25EZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VEZWYgPSB2b2lkIDA7XG5jb25zdCB6b2RfMSA9IHJlcXVpcmUoXCJ6b2RcIik7XG5jb25zdCBhbnlfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvYW55XCIpO1xuY29uc3QgYXJyYXlfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvYXJyYXlcIik7XG5jb25zdCBiaWdpbnRfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvYmlnaW50XCIpO1xuY29uc3QgYm9vbGVhbl8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9ib29sZWFuXCIpO1xuY29uc3QgYnJhbmRlZF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9icmFuZGVkXCIpO1xuY29uc3QgY2F0Y2hfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvY2F0Y2hcIik7XG5jb25zdCBkYXRlXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2RhdGVcIik7XG5jb25zdCBkZWZhdWx0XzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2RlZmF1bHRcIik7XG5jb25zdCBlZmZlY3RzXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2VmZmVjdHNcIik7XG5jb25zdCBlbnVtXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2VudW1cIik7XG5jb25zdCBpbnRlcnNlY3Rpb25fMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvaW50ZXJzZWN0aW9uXCIpO1xuY29uc3QgbGl0ZXJhbF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9saXRlcmFsXCIpO1xuY29uc3QgbWFwXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL21hcFwiKTtcbmNvbnN0IG5hdGl2ZUVudW1fMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvbmF0aXZlRW51bVwiKTtcbmNvbnN0IG5ldmVyXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL25ldmVyXCIpO1xuY29uc3QgbnVsbF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9udWxsXCIpO1xuY29uc3QgbnVsbGFibGVfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvbnVsbGFibGVcIik7XG5jb25zdCBudW1iZXJfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvbnVtYmVyXCIpO1xuY29uc3Qgb2JqZWN0XzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL29iamVjdFwiKTtcbmNvbnN0IG9wdGlvbmFsXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL29wdGlvbmFsXCIpO1xuY29uc3QgcGlwZWxpbmVfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvcGlwZWxpbmVcIik7XG5jb25zdCBwcm9taXNlXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL3Byb21pc2VcIik7XG5jb25zdCByZWNvcmRfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvcmVjb3JkXCIpO1xuY29uc3Qgc2V0XzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL3NldFwiKTtcbmNvbnN0IHN0cmluZ18xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9zdHJpbmdcIik7XG5jb25zdCB0dXBsZV8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy90dXBsZVwiKTtcbmNvbnN0IHVuZGVmaW5lZF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy91bmRlZmluZWRcIik7XG5jb25zdCB1bmlvbl8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy91bmlvblwiKTtcbmNvbnN0IHVua25vd25fMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvdW5rbm93blwiKTtcbmZ1bmN0aW9uIHBhcnNlRGVmKGRlZiwgcmVmcywgZm9yY2VSZXNvbHV0aW9uID0gZmFsc2UgLy8gRm9yY2VzIGEgbmV3IHNjaGVtYSB0byBiZSBpbnN0YW50aWF0ZWQgZXZlbiB0aG91Z2ggaXRzIGRlZiBoYXMgYmVlbiBzZWVuLiBVc2VkIGZvciBpbXByb3ZpbmcgcmVmcyBpbiBkZWZpbml0aW9ucy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9TdGVmYW5UZXJkZWxsL3pvZC10by1qc29uLXNjaGVtYS9wdWxsLzYxLlxuKSB7XG4gICAgY29uc3Qgc2Vlbkl0ZW0gPSByZWZzLnNlZW4uZ2V0KGRlZik7XG4gICAgaWYgKHNlZW5JdGVtICYmICFmb3JjZVJlc29sdXRpb24pIHtcbiAgICAgICAgY29uc3Qgc2VlblNjaGVtYSA9IGdldCRyZWYoc2Vlbkl0ZW0sIHJlZnMpO1xuICAgICAgICBpZiAoc2VlblNjaGVtYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VlblNjaGVtYTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBuZXdJdGVtID0geyBkZWYsIHBhdGg6IHJlZnMuY3VycmVudFBhdGgsIGpzb25TY2hlbWE6IHVuZGVmaW5lZCB9O1xuICAgIHJlZnMuc2Vlbi5zZXQoZGVmLCBuZXdJdGVtKTtcbiAgICBjb25zdCBqc29uU2NoZW1hID0gc2VsZWN0UGFyc2VyKGRlZiwgZGVmLnR5cGVOYW1lLCByZWZzKTtcbiAgICBpZiAoanNvblNjaGVtYSkge1xuICAgICAgICBhZGRNZXRhKGRlZiwgcmVmcywganNvblNjaGVtYSk7XG4gICAgfVxuICAgIG5ld0l0ZW0uanNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG4gICAgcmV0dXJuIGpzb25TY2hlbWE7XG59XG5leHBvcnRzLnBhcnNlRGVmID0gcGFyc2VEZWY7XG5jb25zdCBnZXQkcmVmID0gKGl0ZW0sIHJlZnMpID0+IHtcbiAgICBzd2l0Y2ggKHJlZnMuJHJlZlN0cmF0ZWd5KSB7XG4gICAgICAgIGNhc2UgXCJyb290XCI6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICRyZWY6IGl0ZW0ucGF0aC5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgPyBcIlwiXG4gICAgICAgICAgICAgICAgICAgIDogaXRlbS5wYXRoLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgJHtpdGVtLnBhdGhbMF19L2BcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5wYXRoLmpvaW4oXCIvXCIpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBcInJlbGF0aXZlXCI6XG4gICAgICAgICAgICByZXR1cm4geyAkcmVmOiBnZXRSZWxhdGl2ZVBhdGgocmVmcy5jdXJyZW50UGF0aCwgaXRlbS5wYXRoKSB9O1xuICAgICAgICBjYXNlIFwibm9uZVwiOiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5wYXRoLmxlbmd0aCA8IHJlZnMuY3VycmVudFBhdGgubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgaXRlbS5wYXRoLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHJlZnMuY3VycmVudFBhdGhbaW5kZXhdID09PSB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFJlY3Vyc2l2ZSByZWZlcmVuY2UgZGV0ZWN0ZWQgYXQgJHtyZWZzLmN1cnJlbnRQYXRoLmpvaW4oXCIvXCIpfSEgRGVmYXVsdGluZyB0byBhbnlgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzZWVuXCI6IHtcbiAgICAgICAgICAgIGlmIChpdGVtLnBhdGgubGVuZ3RoIDwgcmVmcy5jdXJyZW50UGF0aC5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICBpdGVtLnBhdGguZXZlcnkoKHZhbHVlLCBpbmRleCkgPT4gcmVmcy5jdXJyZW50UGF0aFtpbmRleF0gPT09IHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgUmVjdXJzaXZlIHJlZmVyZW5jZSBkZXRlY3RlZCBhdCAke3JlZnMuY3VycmVudFBhdGguam9pbihcIi9cIil9ISBEZWZhdWx0aW5nIHRvIGFueWApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmpzb25TY2hlbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgZ2V0UmVsYXRpdmVQYXRoID0gKHBhdGhBLCBwYXRoQikgPT4ge1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKDsgaSA8IHBhdGhBLmxlbmd0aCAmJiBpIDwgcGF0aEIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHBhdGhBW2ldICE9PSBwYXRoQltpXSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gWyhwYXRoQS5sZW5ndGggLSBpKS50b1N0cmluZygpLCAuLi5wYXRoQi5zbGljZShpKV0uam9pbihcIi9cIik7XG59O1xuY29uc3Qgc2VsZWN0UGFyc2VyID0gKGRlZiwgdHlwZU5hbWUsIHJlZnMpID0+IHtcbiAgICBzd2l0Y2ggKHR5cGVOYW1lKSB7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZzpcbiAgICAgICAgICAgIHJldHVybiAoMCwgc3RyaW5nXzEucGFyc2VTdHJpbmdEZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcjpcbiAgICAgICAgICAgIHJldHVybiAoMCwgbnVtYmVyXzEucGFyc2VOdW1iZXJEZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgb2JqZWN0XzEucGFyc2VPYmplY3REZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgYmlnaW50XzEucGFyc2VCaWdpbnREZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJvb2xlYW46XG4gICAgICAgICAgICByZXR1cm4gKDAsIGJvb2xlYW5fMS5wYXJzZUJvb2xlYW5EZWYpKCk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGU6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGRhdGVfMS5wYXJzZURhdGVEZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgdW5kZWZpbmVkXzEucGFyc2VVbmRlZmluZWREZWYpKCk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGw6XG4gICAgICAgICAgICByZXR1cm4gKDAsIG51bGxfMS5wYXJzZU51bGxEZWYpKHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheTpcbiAgICAgICAgICAgIHJldHVybiAoMCwgYXJyYXlfMS5wYXJzZUFycmF5RGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbjpcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGlzY3JpbWluYXRlZFVuaW9uOlxuICAgICAgICAgICAgcmV0dXJuICgwLCB1bmlvbl8xLnBhcnNlVW5pb25EZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEludGVyc2VjdGlvbjpcbiAgICAgICAgICAgIHJldHVybiAoMCwgaW50ZXJzZWN0aW9uXzEucGFyc2VJbnRlcnNlY3Rpb25EZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFR1cGxlOlxuICAgICAgICAgICAgcmV0dXJuICgwLCB0dXBsZV8xLnBhcnNlVHVwbGVEZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgcmVjb3JkXzEucGFyc2VSZWNvcmREZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExpdGVyYWw6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGxpdGVyYWxfMS5wYXJzZUxpdGVyYWxEZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW06XG4gICAgICAgICAgICByZXR1cm4gKDAsIGVudW1fMS5wYXJzZUVudW1EZWYpKGRlZik7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW06XG4gICAgICAgICAgICByZXR1cm4gKDAsIG5hdGl2ZUVudW1fMS5wYXJzZU5hdGl2ZUVudW1EZWYpKGRlZik7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGxhYmxlOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBudWxsYWJsZV8xLnBhcnNlTnVsbGFibGVEZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBvcHRpb25hbF8xLnBhcnNlT3B0aW9uYWxEZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE1hcDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgbWFwXzEucGFyc2VNYXBEZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFNldDpcbiAgICAgICAgICAgIHJldHVybiAoMCwgc2V0XzEucGFyc2VTZXREZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExhenk6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmdldHRlcigpLl9kZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQcm9taXNlOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBwcm9taXNlXzEucGFyc2VQcm9taXNlRGVmKShkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU46XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5ldmVyOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBuZXZlcl8xLnBhcnNlTmV2ZXJEZWYpKCk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHM6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGVmZmVjdHNfMS5wYXJzZUVmZmVjdHNEZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueTpcbiAgICAgICAgICAgIHJldHVybiAoMCwgYW55XzEucGFyc2VBbnlEZWYpKCk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVua25vd246XG4gICAgICAgICAgICByZXR1cm4gKDAsIHVua25vd25fMS5wYXJzZVVua25vd25EZWYpKCk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGRlZmF1bHRfMS5wYXJzZURlZmF1bHREZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQ6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGJyYW5kZWRfMS5wYXJzZUJyYW5kZWREZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBjYXRjaF8xLnBhcnNlQ2F0Y2hEZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFBpcGVsaW5lOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBwaXBlbGluZV8xLnBhcnNlUGlwZWxpbmVEZWYpKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEZ1bmN0aW9uOlxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RWb2lkOlxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTeW1ib2w6XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICgoXykgPT4gdW5kZWZpbmVkKSh0eXBlTmFtZSk7XG4gICAgfVxufTtcbmNvbnN0IGFkZE1ldGEgPSAoZGVmLCByZWZzLCBqc29uU2NoZW1hKSA9PiB7XG4gICAgaWYgKGRlZi5kZXNjcmlwdGlvbikge1xuICAgICAgICBqc29uU2NoZW1hLmRlc2NyaXB0aW9uID0gZGVmLmRlc2NyaXB0aW9uO1xuICAgICAgICBpZiAocmVmcy5tYXJrZG93bkRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBqc29uU2NoZW1hLm1hcmtkb3duRGVzY3JpcHRpb24gPSBkZWYuZGVzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGpzb25TY2hlbWE7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldERlZmF1bHRPcHRpb25zID0gZXhwb3J0cy5kZWZhdWx0T3B0aW9ucyA9IHZvaWQgMDtcbmV4cG9ydHMuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgbmFtZTogdW5kZWZpbmVkLFxuICAgICRyZWZTdHJhdGVneTogXCJyb290XCIsXG4gICAgYmFzZVBhdGg6IFtcIiNcIl0sXG4gICAgZWZmZWN0U3RyYXRlZ3k6IFwiaW5wdXRcIixcbiAgICBwaXBlU3RyYXRlZ3k6IFwiYWxsXCIsXG4gICAgZGF0ZVN0cmF0ZWd5OiBcInN0cmluZ1wiLFxuICAgIGRlZmluaXRpb25QYXRoOiBcImRlZmluaXRpb25zXCIsXG4gICAgdGFyZ2V0OiBcImpzb25TY2hlbWE3XCIsXG4gICAgc3RyaWN0VW5pb25zOiBmYWxzZSxcbiAgICBkZWZpbml0aW9uczoge30sXG4gICAgZXJyb3JNZXNzYWdlczogZmFsc2UsXG4gICAgbWFya2Rvd25EZXNjcmlwdGlvbjogZmFsc2UsXG4gICAgZW1haWxTdHJhdGVneTogXCJmb3JtYXQ6ZW1haWxcIixcbn07XG5jb25zdCBnZXREZWZhdWx0T3B0aW9ucyA9IChvcHRpb25zKSA9PiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCJcbiAgICA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZXhwb3J0cy5kZWZhdWx0T3B0aW9ucyksIHsgbmFtZTogb3B0aW9ucyB9KSA6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZXhwb3J0cy5kZWZhdWx0T3B0aW9ucyksIG9wdGlvbnMpKTtcbmV4cG9ydHMuZ2V0RGVmYXVsdE9wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRSZWZzID0gdm9pZCAwO1xuY29uc3QgT3B0aW9uc18xID0gcmVxdWlyZShcIi4vT3B0aW9uc1wiKTtcbmNvbnN0IGdldFJlZnMgPSAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IF9vcHRpb25zID0gKDAsIE9wdGlvbnNfMS5nZXREZWZhdWx0T3B0aW9ucykob3B0aW9ucyk7XG4gICAgY29uc3QgY3VycmVudFBhdGggPSBfb3B0aW9ucy5uYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBbLi4uX29wdGlvbnMuYmFzZVBhdGgsIF9vcHRpb25zLmRlZmluaXRpb25QYXRoLCBfb3B0aW9ucy5uYW1lXVxuICAgICAgICA6IF9vcHRpb25zLmJhc2VQYXRoO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIF9vcHRpb25zKSwgeyBjdXJyZW50UGF0aDogY3VycmVudFBhdGgsIHByb3BlcnR5UGF0aDogdW5kZWZpbmVkLCBzZWVuOiBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKF9vcHRpb25zLmRlZmluaXRpb25zKS5tYXAoKFtuYW1lLCBkZWZdKSA9PiBbXG4gICAgICAgICAgICBkZWYuX2RlZixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZWY6IGRlZi5fZGVmLFxuICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5fb3B0aW9ucy5iYXNlUGF0aCwgX29wdGlvbnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdLFxuICAgICAgICAgICAgICAgIC8vIFJlc29sdXRpb24gb2YgcmVmZXJlbmNlcyB3aWxsIGJlIGZvcmNlZCBldmVuIHRob3VnaCBzZWVuLCBzbyBpdCdzIG9rIHRoYXQgdGhlIHNjaGVtYSBpcyB1bmRlZmluZWQgaGVyZSBmb3Igbm93LlxuICAgICAgICAgICAgICAgIGpzb25TY2hlbWE6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0pKSB9KTtcbn07XG5leHBvcnRzLmdldFJlZnMgPSBnZXRSZWZzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnpvZFRvSnNvblNjaGVtYSA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi9wYXJzZURlZlwiKTtcbmNvbnN0IFJlZnNfMSA9IHJlcXVpcmUoXCIuL1JlZnNcIik7XG5jb25zdCB6b2RUb0pzb25TY2hlbWEgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJlZnMgPSAoMCwgUmVmc18xLmdldFJlZnMpKG9wdGlvbnMpO1xuICAgIGNvbnN0IGRlZmluaXRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5kZWZpbml0aW9uc1xuICAgICAgICA/IE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuZGVmaW5pdGlvbnMpLnJlZHVjZSgoYWNjLCBbbmFtZSwgc2NoZW1hXSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGFjYyksIHsgW25hbWVdOiAoX2EgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoc2NoZW1hLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmJhc2VQYXRoLCByZWZzLmRlZmluaXRpb25QYXRoLCBuYW1lXSB9KSwgdHJ1ZSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9IH0pKTtcbiAgICAgICAgfSwge30pXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IG5hbWUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/IG9wdGlvbnMgOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubmFtZTtcbiAgICBjb25zdCBtYWluID0gKF9hID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKHNjaGVtYS5fZGVmLCBuYW1lID09PSB1bmRlZmluZWRcbiAgICAgICAgPyByZWZzXG4gICAgICAgIDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuYmFzZVBhdGgsIHJlZnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdIH0pLCBmYWxzZSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9O1xuICAgIGNvbnN0IGNvbWJpbmVkID0gbmFtZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gZGVmaW5pdGlvbnNcbiAgICAgICAgICAgID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBtYWluKSwgeyBbcmVmcy5kZWZpbml0aW9uUGF0aF06IGRlZmluaXRpb25zIH0pIDogbWFpblxuICAgICAgICA6IHtcbiAgICAgICAgICAgICRyZWY6IFtcbiAgICAgICAgICAgICAgICAuLi4ocmVmcy4kcmVmU3RyYXRlZ3kgPT09IFwicmVsYXRpdmVcIiA/IFtdIDogcmVmcy5iYXNlUGF0aCksXG4gICAgICAgICAgICAgICAgcmVmcy5kZWZpbml0aW9uUGF0aCxcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgXS5qb2luKFwiL1wiKSxcbiAgICAgICAgICAgIFtyZWZzLmRlZmluaXRpb25QYXRoXTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZpbml0aW9ucyksIHsgW25hbWVdOiBtYWluIH0pLFxuICAgICAgICB9O1xuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSB7XG4gICAgICAgIGNvbWJpbmVkLiRzY2hlbWEgPSBcImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hI1wiO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hMjAxOS0wOVwiKSB7XG4gICAgICAgIGNvbWJpbmVkLiRzY2hlbWEgPSBcImh0dHBzOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LzIwMTktMDkvc2NoZW1hI1wiO1xuICAgIH1cbiAgICByZXR1cm4gY29tYmluZWQ7XG59O1xuZXhwb3J0cy56b2RUb0pzb25TY2hlbWEgPSB6b2RUb0pzb25TY2hlbWE7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuem9kVG9Kc29uU2NoZW1hID0gdm9pZCAwO1xuY29uc3Qgem9kVG9Kc29uU2NoZW1hXzEgPSByZXF1aXJlKFwiLi9zcmMvem9kVG9Kc29uU2NoZW1hXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiem9kVG9Kc29uU2NoZW1hXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB6b2RUb0pzb25TY2hlbWFfMS56b2RUb0pzb25TY2hlbWE7IH0gfSk7XG5leHBvcnRzLmRlZmF1bHQgPSB6b2RUb0pzb25TY2hlbWFfMS56b2RUb0pzb25TY2hlbWE7XG4iLCJpbXBvcnQgeyB6b2RUb0pzb25TY2hlbWEgfSBmcm9tIFwiem9kLXRvLWpzb24tc2NoZW1hXCI7XG4vKipcbiAqIEZvcm1hdHMgYSBgU3RydWN0dXJlZFRvb2xgIGluc3RhbmNlIGludG8gYSBmb3JtYXQgdGhhdCBpcyBjb21wYXRpYmxlXG4gKiB3aXRoIE9wZW5BSSdzIENoYXRDb21wbGV0aW9uRnVuY3Rpb25zLiBJdCB1c2VzIHRoZSBgem9kVG9Kc29uU2NoZW1hYFxuICogZnVuY3Rpb24gdG8gY29udmVydCB0aGUgc2NoZW1hIG9mIHRoZSBgU3RydWN0dXJlZFRvb2xgIGludG8gYSBKU09OXG4gKiBzY2hlbWEsIHdoaWNoIGlzIHRoZW4gdXNlZCBhcyB0aGUgcGFyYW1ldGVycyBmb3IgdGhlIE9wZW5BSSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFRvT3BlbkFJRnVuY3Rpb24odG9vbCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IHRvb2wubmFtZSxcbiAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgIHBhcmFtZXRlcnM6IHpvZFRvSnNvblNjaGVtYSh0b29sLnNjaGVtYSksXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IEFJTWVzc2FnZSwgSHVtYW5NZXNzYWdlLCBSVU5fS0VZLCBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSwgfSBmcm9tIFwiLi4vc2NoZW1hL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYXNlTGFuZ3VhZ2VNb2RlbCwgfSBmcm9tIFwiLi4vYmFzZV9sYW5ndWFnZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgQ2FsbGJhY2tNYW5hZ2VyLCB9IGZyb20gXCIuLi9jYWxsYmFja3MvbWFuYWdlci5qc1wiO1xuLyoqXG4gKiBDcmVhdGVzIGEgdHJhbnNmb3JtIHN0cmVhbSBmb3IgZW5jb2RpbmcgY2hhdCBtZXNzYWdlIGNodW5rcy5cbiAqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgQnl0ZXNPdXRwdXRQYXJzZXJ9IGluc3RlYWRcbiAqIEByZXR1cm5zIEEgVHJhbnNmb3JtU3RyZWFtIGluc3RhbmNlIHRoYXQgZW5jb2RlcyBjaGF0IG1lc3NhZ2UgY2h1bmtzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2hhdE1lc3NhZ2VDaHVua0VuY29kZXJTdHJlYW0oKSB7XG4gICAgY29uc3QgdGV4dEVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHRleHRFbmNvZGVyLmVuY29kZShjaHVuay5jb250ZW50KSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGNoYXQgbW9kZWxzLiBJdCBleHRlbmRzIHRoZSBCYXNlTGFuZ3VhZ2VNb2RlbCBjbGFzcyBhbmRcbiAqIHByb3ZpZGVzIG1ldGhvZHMgZm9yIGdlbmVyYXRpbmcgY2hhdCBiYXNlZCBvbiBpbnB1dCBtZXNzYWdlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VDaGF0TW9kZWwgZXh0ZW5kcyBCYXNlTGFuZ3VhZ2VNb2RlbCB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwiY2hhdF9tb2RlbHNcIiwgdGhpcy5fbGxtVHlwZSgpXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBjb25zdCBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXSA9IHN1cGVyLl9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBpZiAoY2FsbE9wdGlvbnM/LnRpbWVvdXQgJiYgIWNhbGxPcHRpb25zLnNpZ25hbCkge1xuICAgICAgICAgICAgY2FsbE9wdGlvbnMuc2lnbmFsID0gQWJvcnRTaWduYWwudGltZW91dChjYWxsT3B0aW9ucy50aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3J1bm5hYmxlQ29uZmlnLCBjYWxsT3B0aW9uc107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIGNoYXQgbW9kZWwgd2l0aCBhIHNpbmdsZSBpbnB1dC5cbiAgICAgKiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IGZvciB0aGUgbGFuZ3VhZ2UgbW9kZWwuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgVGhlIGNhbGwgb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIEJhc2VNZXNzYWdlQ2h1bmsuXG4gICAgICovXG4gICAgYXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHByb21wdFZhbHVlID0gQmFzZUNoYXRNb2RlbC5fY29udmVydElucHV0VG9Qcm9tcHRWYWx1ZShpbnB1dCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVQcm9tcHQoW3Byb21wdFZhbHVlXSwgb3B0aW9ucywgb3B0aW9ucz8uY2FsbGJhY2tzKTtcbiAgICAgICAgY29uc3QgY2hhdEdlbmVyYXRpb24gPSByZXN1bHQuZ2VuZXJhdGlvbnNbMF1bMF07XG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBjYXN0IGFmdGVyIGZpZ3VyaW5nIG91dCBpbmhlcml0YW5jZVxuICAgICAgICByZXR1cm4gY2hhdEdlbmVyYXRpb24ubWVzc2FnZTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlcXVpcmUteWllbGRcbiAgICBhc3luYyAqX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKF9tZXNzYWdlcywgX29wdGlvbnMsIF9ydW5NYW5hZ2VyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuICAgIGFzeW5jICpfc3RyZWFtSXRlcmF0b3IoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gU3ViY2xhc3MgY2hlY2sgcmVxdWlyZWQgdG8gYXZvaWQgZG91YmxlIGNhbGxiYWNrcyB3aXRoIGRlZmF1bHQgaW1wbGVtZW50YXRpb25cbiAgICAgICAgaWYgKHRoaXMuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzID09PVxuICAgICAgICAgICAgQmFzZUNoYXRNb2RlbC5wcm90b3R5cGUuX3N0cmVhbVJlc3BvbnNlQ2h1bmtzKSB7XG4gICAgICAgICAgICB5aWVsZCB0aGlzLmludm9rZShpbnB1dCwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwcm9tcHQgPSBCYXNlQ2hhdE1vZGVsLl9jb252ZXJ0SW5wdXRUb1Byb21wdFZhbHVlKGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gcHJvbXB0LnRvQ2hhdE1lc3NhZ2VzKCk7XG4gICAgICAgICAgICBjb25zdCBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXSA9IHRoaXMuX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShydW5uYWJsZUNvbmZpZy5jYWxsYmFja3MsIHRoaXMuY2FsbGJhY2tzLCBydW5uYWJsZUNvbmZpZy50YWdzLCB0aGlzLnRhZ3MsIHJ1bm5hYmxlQ29uZmlnLm1ldGFkYXRhLCB0aGlzLm1ldGFkYXRhLCB7IHZlcmJvc2U6IHRoaXMudmVyYm9zZSB9KTtcbiAgICAgICAgICAgIGNvbnN0IGV4dHJhID0ge1xuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGNhbGxPcHRpb25zLFxuICAgICAgICAgICAgICAgIGludm9jYXRpb25fcGFyYW1zOiB0aGlzPy5pbnZvY2F0aW9uUGFyYW1zKGNhbGxPcHRpb25zKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBydW5NYW5hZ2VycyA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYXRNb2RlbFN0YXJ0KHRoaXMudG9KU09OKCksIFttZXNzYWdlc10sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBleHRyYSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHJ1bm5hYmxlQ29uZmlnLnJ1bk5hbWUpO1xuICAgICAgICAgICAgbGV0IGdlbmVyYXRpb25DaHVuaztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiB0aGlzLl9zdHJlYW1SZXNwb25zZUNodW5rcyhtZXNzYWdlcywgY2FsbE9wdGlvbnMsIHJ1bk1hbmFnZXJzPy5bMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGNodW5rLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZ2VuZXJhdGlvbkNodW5rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uQ2h1bmsgPSBjaHVuaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb25DaHVuayA9IGdlbmVyYXRpb25DaHVuay5jb25jYXQoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKChydW5NYW5hZ2VycyA/PyBbXSkubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVMTE1FcnJvcihlcnIpKSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoKHJ1bk1hbmFnZXJzID8/IFtdKS5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTUVuZCh7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3QgYWZ0ZXIgZmlndXJpbmcgb3V0IGluaGVyaXRhbmNlXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnM6IFtbZ2VuZXJhdGlvbkNodW5rXV0sXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2dlbmVyYXRlVW5jYWNoZWQobWVzc2FnZXMsIHBhcnNlZE9wdGlvbnMsIGhhbmRsZWRPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGJhc2VNZXNzYWdlcyA9IG1lc3NhZ2VzLm1hcCgobWVzc2FnZUxpc3QpID0+IG1lc3NhZ2VMaXN0Lm1hcChjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSkpO1xuICAgICAgICAvLyBjcmVhdGUgY2FsbGJhY2sgbWFuYWdlciBhbmQgc3RhcnQgcnVuXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBDYWxsYmFja01hbmFnZXIuY29uZmlndXJlKGhhbmRsZWRPcHRpb25zLmNhbGxiYWNrcywgdGhpcy5jYWxsYmFja3MsIGhhbmRsZWRPcHRpb25zLnRhZ3MsIHRoaXMudGFncywgaGFuZGxlZE9wdGlvbnMubWV0YWRhdGEsIHRoaXMubWV0YWRhdGEsIHsgdmVyYm9zZTogdGhpcy52ZXJib3NlIH0pO1xuICAgICAgICBjb25zdCBleHRyYSA9IHtcbiAgICAgICAgICAgIG9wdGlvbnM6IHBhcnNlZE9wdGlvbnMsXG4gICAgICAgICAgICBpbnZvY2F0aW9uX3BhcmFtczogdGhpcz8uaW52b2NhdGlvblBhcmFtcyhwYXJzZWRPcHRpb25zKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGF0TW9kZWxTdGFydCh0aGlzLnRvSlNPTigpLCBiYXNlTWVzc2FnZXMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBleHRyYSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGhhbmRsZWRPcHRpb25zLnJ1bk5hbWUpO1xuICAgICAgICAvLyBnZW5lcmF0ZSByZXN1bHRzXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoYmFzZU1lc3NhZ2VzLm1hcCgobWVzc2FnZUxpc3QsIGkpID0+IHRoaXMuX2dlbmVyYXRlKG1lc3NhZ2VMaXN0LCB7IC4uLnBhcnNlZE9wdGlvbnMsIHByb21wdEluZGV4OiBpIH0sIHJ1bk1hbmFnZXJzPy5baV0pKSk7XG4gICAgICAgIC8vIGhhbmRsZSByZXN1bHRzXG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gW107XG4gICAgICAgIGNvbnN0IGxsbU91dHB1dHMgPSBbXTtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocmVzdWx0cy5tYXAoYXN5bmMgKHBSZXN1bHQsIGkpID0+IHtcbiAgICAgICAgICAgIGlmIChwUmVzdWx0LnN0YXR1cyA9PT0gXCJmdWxmaWxsZWRcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHBSZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnNbaV0gPSByZXN1bHQuZ2VuZXJhdGlvbnM7XG4gICAgICAgICAgICAgICAgbGxtT3V0cHV0c1tpXSA9IHJlc3VsdC5sbG1PdXRwdXQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ1bk1hbmFnZXJzPy5baV0/LmhhbmRsZUxMTUVuZCh7XG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb25zOiBbcmVzdWx0LmdlbmVyYXRpb25zXSxcbiAgICAgICAgICAgICAgICAgICAgbGxtT3V0cHV0OiByZXN1bHQubGxtT3V0cHV0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc3RhdHVzID09PSBcInJlamVjdGVkXCJcbiAgICAgICAgICAgICAgICBhd2FpdCBydW5NYW5hZ2Vycz8uW2ldPy5oYW5kbGVMTE1FcnJvcihwUmVzdWx0LnJlYXNvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHBSZXN1bHQucmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICAvLyBjcmVhdGUgY29tYmluZWQgb3V0cHV0XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHtcbiAgICAgICAgICAgIGdlbmVyYXRpb25zLFxuICAgICAgICAgICAgbGxtT3V0cHV0OiBsbG1PdXRwdXRzLmxlbmd0aFxuICAgICAgICAgICAgICAgID8gdGhpcy5fY29tYmluZUxMTU91dHB1dD8uKC4uLmxsbU91dHB1dHMpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvdXRwdXQsIFJVTl9LRVksIHtcbiAgICAgICAgICAgIHZhbHVlOiBydW5NYW5hZ2Vyc1xuICAgICAgICAgICAgICAgID8geyBydW5JZHM6IHJ1bk1hbmFnZXJzPy5tYXAoKG1hbmFnZXIpID0+IG1hbmFnZXIucnVuSWQpIH1cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBjaGF0IGJhc2VkIG9uIHRoZSBpbnB1dCBtZXNzYWdlcy5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZXMgQW4gYXJyYXkgb2YgYXJyYXlzIG9mIEJhc2VNZXNzYWdlIGluc3RhbmNlcy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgY2FsbCBvcHRpb25zIG9yIGFuIGFycmF5IG9mIHN0b3Agc2VxdWVuY2VzLlxuICAgICAqIEBwYXJhbSBjYWxsYmFja3MgVGhlIGNhbGxiYWNrcyBmb3IgdGhlIGxhbmd1YWdlIG1vZGVsLlxuICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIExMTVJlc3VsdC5cbiAgICAgKi9cbiAgICBhc3luYyBnZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIC8vIHBhcnNlIGNhbGwgb3B0aW9uc1xuICAgICAgICBsZXQgcGFyc2VkT3B0aW9ucztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgICAgICAgIHBhcnNlZE9wdGlvbnMgPSB7IHN0b3A6IG9wdGlvbnMgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlZE9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJhc2VNZXNzYWdlcyA9IG1lc3NhZ2VzLm1hcCgobWVzc2FnZUxpc3QpID0+IG1lc3NhZ2VMaXN0Lm1hcChjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSkpO1xuICAgICAgICBjb25zdCBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXSA9IHRoaXMuX3NlcGFyYXRlUnVubmFibGVDb25maWdGcm9tQ2FsbE9wdGlvbnMocGFyc2VkT3B0aW9ucyk7XG4gICAgICAgIHJ1bm5hYmxlQ29uZmlnLmNhbGxiYWNrcyA9IHJ1bm5hYmxlQ29uZmlnLmNhbGxiYWNrcyA/PyBjYWxsYmFja3M7XG4gICAgICAgIGlmICghdGhpcy5jYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dlbmVyYXRlVW5jYWNoZWQoYmFzZU1lc3NhZ2VzLCBjYWxsT3B0aW9ucywgcnVubmFibGVDb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgY2FjaGUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGxsbVN0cmluZ0tleSA9IHRoaXMuX2dldFNlcmlhbGl6ZWRDYWNoZUtleVBhcmFtZXRlcnNGb3JDYWxsKGNhbGxPcHRpb25zKTtcbiAgICAgICAgY29uc3QgbWlzc2luZ1Byb21wdEluZGljZXMgPSBbXTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGlvbnMgPSBhd2FpdCBQcm9taXNlLmFsbChiYXNlTWVzc2FnZXMubWFwKGFzeW5jIChiYXNlTWVzc2FnZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vIEpvaW4gYWxsIGNvbnRlbnQgaW50byBvbmUgc3RyaW5nIGZvciB0aGUgcHJvbXB0IGluZGV4XG4gICAgICAgICAgICBjb25zdCBwcm9tcHQgPSBCYXNlQ2hhdE1vZGVsLl9jb252ZXJ0SW5wdXRUb1Byb21wdFZhbHVlKGJhc2VNZXNzYWdlKS50b1N0cmluZygpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FjaGUubG9va3VwKHByb21wdCwgbGxtU3RyaW5nS2V5KTtcbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgbWlzc2luZ1Byb21wdEluZGljZXMucHVzaChpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KSk7XG4gICAgICAgIGxldCBsbG1PdXRwdXQgPSB7fTtcbiAgICAgICAgaWYgKG1pc3NpbmdQcm9tcHRJbmRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLl9nZW5lcmF0ZVVuY2FjaGVkKG1pc3NpbmdQcm9tcHRJbmRpY2VzLm1hcCgoaSkgPT4gYmFzZU1lc3NhZ2VzW2ldKSwgY2FsbE9wdGlvbnMsIHJ1bm5hYmxlQ29uZmlnKTtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHJlc3VsdHMuZ2VuZXJhdGlvbnMubWFwKGFzeW5jIChnZW5lcmF0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb21wdEluZGV4ID0gbWlzc2luZ1Byb21wdEluZGljZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRpb25zW3Byb21wdEluZGV4XSA9IGdlbmVyYXRpb247XG4gICAgICAgICAgICAgICAgLy8gSm9pbiBhbGwgY29udGVudCBpbnRvIG9uZSBzdHJpbmcgZm9yIHRoZSBwcm9tcHQgaW5kZXhcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9tcHQgPSBCYXNlQ2hhdE1vZGVsLl9jb252ZXJ0SW5wdXRUb1Byb21wdFZhbHVlKGJhc2VNZXNzYWdlc1twcm9tcHRJbmRleF0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlLnVwZGF0ZShwcm9tcHQsIGxsbVN0cmluZ0tleSwgZ2VuZXJhdGlvbik7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBsbG1PdXRwdXQgPSByZXN1bHRzLmxsbU91dHB1dCA/PyB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBnZW5lcmF0aW9ucywgbGxtT3V0cHV0IH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGFyYW1ldGVycyB1c2VkIHRvIGludm9rZSB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGludm9jYXRpb25QYXJhbXMoX29wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBfbW9kZWxUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJiYXNlX2NoYXRfbW9kZWxcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBSZXR1cm4gYSBqc29uLWxpa2Ugb2JqZWN0IHJlcHJlc2VudGluZyB0aGlzIExMTS5cbiAgICAgKi9cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi50aGlzLmludm9jYXRpb25QYXJhbXMoKSxcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9sbG1UeXBlKCksXG4gICAgICAgICAgICBfbW9kZWw6IHRoaXMuX21vZGVsVHlwZSgpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBwcm9tcHQgYmFzZWQgb24gdGhlIGlucHV0IHByb21wdCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHByb21wdFZhbHVlcyBBbiBhcnJheSBvZiBCYXNlUHJvbXB0VmFsdWUgaW5zdGFuY2VzLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIFRoZSBjYWxsIG9wdGlvbnMgb3IgYW4gYXJyYXkgb2Ygc3RvcCBzZXF1ZW5jZXMuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrcyBUaGUgY2FsbGJhY2tzIGZvciB0aGUgbGFuZ3VhZ2UgbW9kZWwuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gTExNUmVzdWx0LlxuICAgICAqL1xuICAgIGFzeW5jIGdlbmVyYXRlUHJvbXB0KHByb21wdFZhbHVlcywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IHByb21wdE1lc3NhZ2VzID0gcHJvbXB0VmFsdWVzLm1hcCgocHJvbXB0VmFsdWUpID0+IHByb21wdFZhbHVlLnRvQ2hhdE1lc3NhZ2VzKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZShwcm9tcHRNZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgYSBzaW5nbGUgY2FsbCB0byB0aGUgY2hhdCBtb2RlbC5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZXMgQW4gYXJyYXkgb2YgQmFzZU1lc3NhZ2UgaW5zdGFuY2VzLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIFRoZSBjYWxsIG9wdGlvbnMgb3IgYW4gYXJyYXkgb2Ygc3RvcCBzZXF1ZW5jZXMuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrcyBUaGUgY2FsbGJhY2tzIGZvciB0aGUgbGFuZ3VhZ2UgbW9kZWwuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBCYXNlTWVzc2FnZS5cbiAgICAgKi9cbiAgICBhc3luYyBjYWxsKG1lc3NhZ2VzLCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5nZW5lcmF0ZShbbWVzc2FnZXMubWFwKGNvZXJjZU1lc3NhZ2VMaWtlVG9NZXNzYWdlKV0sIG9wdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gcmVzdWx0LmdlbmVyYXRpb25zO1xuICAgICAgICByZXR1cm4gZ2VuZXJhdGlvbnNbMF1bMF0ubWVzc2FnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgYSBzaW5nbGUgY2FsbCB0byB0aGUgY2hhdCBtb2RlbCB3aXRoIGEgcHJvbXB0IHZhbHVlLlxuICAgICAqIEBwYXJhbSBwcm9tcHRWYWx1ZSBUaGUgdmFsdWUgb2YgdGhlIHByb21wdC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgY2FsbCBvcHRpb25zIG9yIGFuIGFycmF5IG9mIHN0b3Agc2VxdWVuY2VzLlxuICAgICAqIEBwYXJhbSBjYWxsYmFja3MgVGhlIGNhbGxiYWNrcyBmb3IgdGhlIGxhbmd1YWdlIG1vZGVsLlxuICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgQmFzZU1lc3NhZ2UuXG4gICAgICovXG4gICAgYXN5bmMgY2FsbFByb21wdChwcm9tcHRWYWx1ZSwgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IHByb21wdE1lc3NhZ2VzID0gcHJvbXB0VmFsdWUudG9DaGF0TWVzc2FnZXMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbChwcm9tcHRNZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJlZGljdHMgdGhlIG5leHQgbWVzc2FnZSBiYXNlZCBvbiB0aGUgaW5wdXQgbWVzc2FnZXMuXG4gICAgICogQHBhcmFtIG1lc3NhZ2VzIEFuIGFycmF5IG9mIEJhc2VNZXNzYWdlIGluc3RhbmNlcy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgY2FsbCBvcHRpb25zIG9yIGFuIGFycmF5IG9mIHN0b3Agc2VxdWVuY2VzLlxuICAgICAqIEBwYXJhbSBjYWxsYmFja3MgVGhlIGNhbGxiYWNrcyBmb3IgdGhlIGxhbmd1YWdlIG1vZGVsLlxuICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgQmFzZU1lc3NhZ2UuXG4gICAgICovXG4gICAgYXN5bmMgcHJlZGljdE1lc3NhZ2VzKG1lc3NhZ2VzLCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbChtZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJlZGljdHMgdGhlIG5leHQgbWVzc2FnZSBiYXNlZCBvbiBhIHRleHQgaW5wdXQuXG4gICAgICogQHBhcmFtIHRleHQgVGhlIHRleHQgaW5wdXQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgVGhlIGNhbGwgb3B0aW9ucyBvciBhbiBhcnJheSBvZiBzdG9wIHNlcXVlbmNlcy5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIFRoZSBjYWxsYmFja3MgZm9yIHRoZSBsYW5ndWFnZSBtb2RlbC5cbiAgICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIHN0cmluZy5cbiAgICAgKi9cbiAgICBhc3luYyBwcmVkaWN0KHRleHQsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gbmV3IEh1bWFuTWVzc2FnZSh0ZXh0KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jYWxsKFttZXNzYWdlXSwgb3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jb250ZW50O1xuICAgIH1cbn1cbi8qKlxuICogQW4gYWJzdHJhY3QgY2xhc3MgdGhhdCBleHRlbmRzIEJhc2VDaGF0TW9kZWwgYW5kIHByb3ZpZGVzIGEgc2ltcGxlXG4gKiBpbXBsZW1lbnRhdGlvbiBvZiBfZ2VuZXJhdGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaW1wbGVDaGF0TW9kZWwgZXh0ZW5kcyBCYXNlQ2hhdE1vZGVsIHtcbiAgICBhc3luYyBfZ2VuZXJhdGUobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHRoaXMuX2NhbGwobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gbmV3IEFJTWVzc2FnZSh0ZXh0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdlbmVyYXRpb25zOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBtZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgT3BlbkFJIGFzIE9wZW5BSUNsaWVudCB9IGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCB7IGdldE1vZGVsTmFtZUZvclRpa3Rva2VuIH0gZnJvbSBcIi4uL2Jhc2VfbGFuZ3VhZ2UvY291bnRfdG9rZW5zLmpzXCI7XG5pbXBvcnQgeyBBSU1lc3NhZ2UsIEFJTWVzc2FnZUNodW5rLCBDaGF0R2VuZXJhdGlvbkNodW5rLCBDaGF0TWVzc2FnZSwgQ2hhdE1lc3NhZ2VDaHVuaywgRnVuY3Rpb25NZXNzYWdlQ2h1bmssIEh1bWFuTWVzc2FnZSwgSHVtYW5NZXNzYWdlQ2h1bmssIFN5c3RlbU1lc3NhZ2UsIFN5c3RlbU1lc3NhZ2VDaHVuaywgfSBmcm9tIFwiLi4vc2NoZW1hL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBmb3JtYXRUb09wZW5BSUZ1bmN0aW9uIH0gZnJvbSBcIi4uL3Rvb2xzL2NvbnZlcnRfdG9fb3BlbmFpLmpzXCI7XG5pbXBvcnQgeyBnZXRFbmRwb2ludCB9IGZyb20gXCIuLi91dGlsL2F6dXJlLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgeyBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCB9IGZyb20gXCIuLi91dGlsL3Byb21wdC1sYXllci5qc1wiO1xuaW1wb3J0IHsgQmFzZUNoYXRNb2RlbCB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IHdyYXBPcGVuQUlDbGllbnRFcnJvciB9IGZyb20gXCIuLi91dGlsL29wZW5haS5qc1wiO1xuZnVuY3Rpb24gZXh0cmFjdEdlbmVyaWNNZXNzYWdlQ3VzdG9tUm9sZShtZXNzYWdlKSB7XG4gICAgaWYgKG1lc3NhZ2Uucm9sZSAhPT0gXCJzeXN0ZW1cIiAmJlxuICAgICAgICBtZXNzYWdlLnJvbGUgIT09IFwiYXNzaXN0YW50XCIgJiZcbiAgICAgICAgbWVzc2FnZS5yb2xlICE9PSBcInVzZXJcIiAmJlxuICAgICAgICBtZXNzYWdlLnJvbGUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjb25zb2xlLndhcm4oYFVua25vd24gbWVzc2FnZSByb2xlOiAke21lc3NhZ2Uucm9sZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2Uucm9sZTtcbn1cbmZ1bmN0aW9uIG1lc3NhZ2VUb09wZW5BSVJvbGUobWVzc2FnZSkge1xuICAgIGNvbnN0IHR5cGUgPSBtZXNzYWdlLl9nZXRUeXBlKCk7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJzeXN0ZW1cIjpcbiAgICAgICAgICAgIHJldHVybiBcInN5c3RlbVwiO1xuICAgICAgICBjYXNlIFwiYWlcIjpcbiAgICAgICAgICAgIHJldHVybiBcImFzc2lzdGFudFwiO1xuICAgICAgICBjYXNlIFwiaHVtYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBcInVzZXJcIjtcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJmdW5jdGlvblwiO1xuICAgICAgICBjYXNlIFwiZ2VuZXJpY1wiOiB7XG4gICAgICAgICAgICBpZiAoIUNoYXRNZXNzYWdlLmlzSW5zdGFuY2UobWVzc2FnZSkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBnZW5lcmljIGNoYXQgbWVzc2FnZVwiKTtcbiAgICAgICAgICAgIHJldHVybiBleHRyYWN0R2VuZXJpY01lc3NhZ2VDdXN0b21Sb2xlKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gbWVzc2FnZSB0eXBlOiAke3R5cGV9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gb3BlbkFJUmVzcG9uc2VUb0NoYXRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICBzd2l0Y2ggKG1lc3NhZ2Uucm9sZSkge1xuICAgICAgICBjYXNlIFwidXNlclwiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBIdW1hbk1lc3NhZ2UobWVzc2FnZS5jb250ZW50IHx8IFwiXCIpO1xuICAgICAgICBjYXNlIFwiYXNzaXN0YW50XCI6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFJTWVzc2FnZShtZXNzYWdlLmNvbnRlbnQgfHwgXCJcIiwge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uX2NhbGw6IG1lc3NhZ2UuZnVuY3Rpb25fY2FsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBjYXNlIFwic3lzdGVtXCI6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2UobWVzc2FnZS5jb250ZW50IHx8IFwiXCIpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGF0TWVzc2FnZShtZXNzYWdlLmNvbnRlbnQgfHwgXCJcIiwgbWVzc2FnZS5yb2xlID8/IFwidW5rbm93blwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfY29udmVydERlbHRhVG9NZXNzYWdlQ2h1bmsoXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZGVsdGEsIGRlZmF1bHRSb2xlKSB7XG4gICAgY29uc3Qgcm9sZSA9IGRlbHRhLnJvbGUgPz8gZGVmYXVsdFJvbGU7XG4gICAgY29uc3QgY29udGVudCA9IGRlbHRhLmNvbnRlbnQgPz8gXCJcIjtcbiAgICBsZXQgYWRkaXRpb25hbF9rd2FyZ3M7XG4gICAgaWYgKGRlbHRhLmZ1bmN0aW9uX2NhbGwpIHtcbiAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3MgPSB7XG4gICAgICAgICAgICBmdW5jdGlvbl9jYWxsOiBkZWx0YS5mdW5jdGlvbl9jYWxsLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYWRkaXRpb25hbF9rd2FyZ3MgPSB7fTtcbiAgICB9XG4gICAgaWYgKHJvbGUgPT09IFwidXNlclwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgSHVtYW5NZXNzYWdlQ2h1bmsoeyBjb250ZW50IH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChyb2xlID09PSBcImFzc2lzdGFudFwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgQUlNZXNzYWdlQ2h1bmsoeyBjb250ZW50LCBhZGRpdGlvbmFsX2t3YXJncyB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAocm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgICByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2VDaHVuayh7IGNvbnRlbnQgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJvbGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uTWVzc2FnZUNodW5rKHtcbiAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICBhZGRpdGlvbmFsX2t3YXJncyxcbiAgICAgICAgICAgIG5hbWU6IGRlbHRhLm5hbWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGF0TWVzc2FnZUNodW5rKHsgY29udGVudCwgcm9sZSB9KTtcbiAgICB9XG59XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIE9wZW5BSSBsYXJnZSBsYW5ndWFnZSBtb2RlbHMgdGhhdCB1c2UgdGhlIENoYXQgZW5kcG9pbnQuXG4gKlxuICogVG8gdXNlIHlvdSBzaG91bGQgaGF2ZSB0aGUgYG9wZW5haWAgcGFja2FnZSBpbnN0YWxsZWQsIHdpdGggdGhlXG4gKiBgT1BFTkFJX0FQSV9LRVlgIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBUbyB1c2Ugd2l0aCBBenVyZSB5b3Ugc2hvdWxkIGhhdmUgdGhlIGBvcGVuYWlgIHBhY2thZ2UgaW5zdGFsbGVkLCB3aXRoIHRoZVxuICogYEFaVVJFX09QRU5BSV9BUElfS0VZYCxcbiAqIGBBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVgLFxuICogYEFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FYFxuICogYW5kIGBBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05gIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqIGBBWlVSRV9PUEVOQUlfQkFTRV9QQVRIYCBpcyBvcHRpb25hbCBhbmQgd2lsbCBvdmVycmlkZSBgQVpVUkVfT1BFTkFJX0FQSV9JTlNUQU5DRV9OQU1FYCBpZiB5b3UgbmVlZCB0byB1c2UgYSBjdXN0b20gZW5kcG9pbnQuXG4gKlxuICogQHJlbWFya3NcbiAqIEFueSBwYXJhbWV0ZXJzIHRoYXQgYXJlIHZhbGlkIHRvIGJlIHBhc3NlZCB0byB7QGxpbmtcbiAqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvY2hhdC9jcmVhdGUgfFxuICogYG9wZW5haS5jcmVhdGVDaGF0Q29tcGxldGlvbmB9IGNhbiBiZSBwYXNzZWQgdGhyb3VnaCB7QGxpbmsgbW9kZWxLd2FyZ3N9LCBldmVuXG4gKiBpZiBub3QgZXhwbGljaXRseSBhdmFpbGFibGUgb24gdGhpcyBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIENoYXRPcGVuQUkgZXh0ZW5kcyBCYXNlQ2hhdE1vZGVsIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiQ2hhdE9wZW5BSVwiO1xuICAgIH1cbiAgICBnZXQgY2FsbEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi5zdXBlci5jYWxsS2V5cyxcbiAgICAgICAgICAgIFwib3B0aW9uc1wiLFxuICAgICAgICAgICAgXCJmdW5jdGlvbl9jYWxsXCIsXG4gICAgICAgICAgICBcImZ1bmN0aW9uc1wiLFxuICAgICAgICAgICAgXCJ0b29sc1wiLFxuICAgICAgICAgICAgXCJwcm9tcHRJbmRleFwiLFxuICAgICAgICBdO1xuICAgIH1cbiAgICBnZXQgbGNfc2VjcmV0cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wZW5BSUFwaUtleTogXCJPUEVOQUlfQVBJX0tFWVwiLFxuICAgICAgICAgICAgYXp1cmVPcGVuQUlBcGlLZXk6IFwiQVpVUkVfT1BFTkFJX0FQSV9LRVlcIixcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogXCJPUEVOQUlfT1JHQU5JWkFUSU9OXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCBsY19hbGlhc2VzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWxOYW1lOiBcIm1vZGVsXCIsXG4gICAgICAgICAgICBvcGVuQUlBcGlLZXk6IFwib3BlbmFpX2FwaV9rZXlcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpVmVyc2lvbjogXCJhenVyZV9vcGVuYWlfYXBpX3ZlcnNpb25cIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpS2V5OiBcImF6dXJlX29wZW5haV9hcGlfa2V5XCIsXG4gICAgICAgICAgICBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTogXCJhenVyZV9vcGVuYWlfYXBpX2luc3RhbmNlX25hbWVcIixcbiAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IFwiYXp1cmVfb3BlbmFpX2FwaV9kZXBsb3ltZW50X25hbWVcIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCBcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyA/PyB7fSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGVtcGVyYXR1cmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcFBcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyZXF1ZW5jeVBlbmFsdHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByZXNlbmNlUGVuYWx0eVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibG9naXRCaWFzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1vZGVsTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJncHQtMy41LXR1cmJvXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1vZGVsS3dhcmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aW1lb3V0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0cmVhbWluZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heFRva2Vuc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcGVuQUlBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlWZXJzaW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpS2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlCYXNlUGF0aFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcmdhbml6YXRpb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudENvbmZpZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wZW5BSUFwaUtleSA9XG4gICAgICAgICAgICBmaWVsZHM/Lm9wZW5BSUFwaUtleSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkgPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaUtleSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0tFWVwiKTtcbiAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ICYmICF0aGlzLm9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3BlbkFJIG9yIEF6dXJlIE9wZW5BSSBBUEkga2V5IG5vdCBmb3VuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lID1cbiAgICAgICAgICAgIGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9JTlNUQU5DRV9OQU1FXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUgPVxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lID8/XG4gICAgICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FXCIpO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbiA9XG4gICAgICAgICAgICBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpVmVyc2lvbiA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05cIik7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aCA9XG4gICAgICAgICAgICBmaWVsZHM/LmF6dXJlT3BlbkFJQmFzZVBhdGggPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0JBU0VfUEFUSFwiKTtcbiAgICAgICAgdGhpcy5vcmdhbml6YXRpb24gPVxuICAgICAgICAgICAgZmllbGRzPy5jb25maWd1cmF0aW9uPy5vcmdhbml6YXRpb24gPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiT1BFTkFJX09SR0FOSVpBVElPTlwiKTtcbiAgICAgICAgdGhpcy5tb2RlbE5hbWUgPSBmaWVsZHM/Lm1vZGVsTmFtZSA/PyB0aGlzLm1vZGVsTmFtZTtcbiAgICAgICAgdGhpcy5tb2RlbEt3YXJncyA9IGZpZWxkcz8ubW9kZWxLd2FyZ3MgPz8ge307XG4gICAgICAgIHRoaXMudGltZW91dCA9IGZpZWxkcz8udGltZW91dDtcbiAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSA9IGZpZWxkcz8udGVtcGVyYXR1cmUgPz8gdGhpcy50ZW1wZXJhdHVyZTtcbiAgICAgICAgdGhpcy50b3BQID0gZmllbGRzPy50b3BQID8/IHRoaXMudG9wUDtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3lQZW5hbHR5ID0gZmllbGRzPy5mcmVxdWVuY3lQZW5hbHR5ID8/IHRoaXMuZnJlcXVlbmN5UGVuYWx0eTtcbiAgICAgICAgdGhpcy5wcmVzZW5jZVBlbmFsdHkgPSBmaWVsZHM/LnByZXNlbmNlUGVuYWx0eSA/PyB0aGlzLnByZXNlbmNlUGVuYWx0eTtcbiAgICAgICAgdGhpcy5tYXhUb2tlbnMgPSBmaWVsZHM/Lm1heFRva2VucztcbiAgICAgICAgdGhpcy5uID0gZmllbGRzPy5uID8/IHRoaXMubjtcbiAgICAgICAgdGhpcy5sb2dpdEJpYXMgPSBmaWVsZHM/LmxvZ2l0QmlhcztcbiAgICAgICAgdGhpcy5zdG9wID0gZmllbGRzPy5zdG9wO1xuICAgICAgICB0aGlzLnVzZXIgPSBmaWVsZHM/LnVzZXI7XG4gICAgICAgIHRoaXMuc3RyZWFtaW5nID0gZmllbGRzPy5zdHJlYW1pbmcgPz8gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgJiYgIXRoaXMuYXp1cmVPcGVuQUlCYXNlUGF0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkgaW5zdGFuY2UgbmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkgZGVwbG95bWVudCBuYW1lIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIHZlcnNpb24gbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vcGVuQUlBcGlLZXkgPSB0aGlzLm9wZW5BSUFwaUtleSA/PyBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xpZW50Q29uZmlnID0ge1xuICAgICAgICAgICAgYXBpS2V5OiB0aGlzLm9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogdGhpcy5vcmdhbml6YXRpb24sXG4gICAgICAgICAgICBiYXNlVVJMOiBjb25maWd1cmF0aW9uPy5iYXNlUGF0aCA/PyBmaWVsZHM/LmNvbmZpZ3VyYXRpb24/LmJhc2VQYXRoLFxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUsXG4gICAgICAgICAgICBkZWZhdWx0SGVhZGVyczogY29uZmlndXJhdGlvbj8uYmFzZU9wdGlvbnM/LmhlYWRlcnMgPz9cbiAgICAgICAgICAgICAgICBmaWVsZHM/LmNvbmZpZ3VyYXRpb24/LmJhc2VPcHRpb25zPy5oZWFkZXJzLFxuICAgICAgICAgICAgZGVmYXVsdFF1ZXJ5OiBjb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8ucGFyYW1zID8/XG4gICAgICAgICAgICAgICAgZmllbGRzPy5jb25maWd1cmF0aW9uPy5iYXNlT3B0aW9ucz8ucGFyYW1zLFxuICAgICAgICAgICAgLi4uY29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIC4uLmZpZWxkcz8uY29uZmlndXJhdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwYXJhbWV0ZXJzIHVzZWQgdG8gaW52b2tlIHRoZSBtb2RlbFxuICAgICAqL1xuICAgIGludm9jYXRpb25QYXJhbXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWw6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgdGVtcGVyYXR1cmU6IHRoaXMudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICB0b3BfcDogdGhpcy50b3BQLFxuICAgICAgICAgICAgZnJlcXVlbmN5X3BlbmFsdHk6IHRoaXMuZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgICAgIHByZXNlbmNlX3BlbmFsdHk6IHRoaXMucHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICAgICAgbWF4X3Rva2VuczogdGhpcy5tYXhUb2tlbnMgPT09IC0xID8gdW5kZWZpbmVkIDogdGhpcy5tYXhUb2tlbnMsXG4gICAgICAgICAgICBuOiB0aGlzLm4sXG4gICAgICAgICAgICBsb2dpdF9iaWFzOiB0aGlzLmxvZ2l0QmlhcyxcbiAgICAgICAgICAgIHN0b3A6IG9wdGlvbnM/LnN0b3AgPz8gdGhpcy5zdG9wLFxuICAgICAgICAgICAgdXNlcjogdGhpcy51c2VyLFxuICAgICAgICAgICAgc3RyZWFtOiB0aGlzLnN0cmVhbWluZyxcbiAgICAgICAgICAgIGZ1bmN0aW9uczogb3B0aW9ucz8uZnVuY3Rpb25zID8/XG4gICAgICAgICAgICAgICAgKG9wdGlvbnM/LnRvb2xzXG4gICAgICAgICAgICAgICAgICAgID8gb3B0aW9ucz8udG9vbHMubWFwKGZvcm1hdFRvT3BlbkFJRnVuY3Rpb24pXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgIGZ1bmN0aW9uX2NhbGw6IG9wdGlvbnM/LmZ1bmN0aW9uX2NhbGwsXG4gICAgICAgICAgICAuLi50aGlzLm1vZGVsS3dhcmdzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF9pZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsX25hbWU6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgLi4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgKl9zdHJlYW1SZXNwb25zZUNodW5rcyhtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCBtZXNzYWdlc01hcHBlZCA9IG1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gKHtcbiAgICAgICAgICAgIHJvbGU6IG1lc3NhZ2VUb09wZW5BSVJvbGUobWVzc2FnZSksXG4gICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICBuYW1lOiBtZXNzYWdlLm5hbWUsXG4gICAgICAgICAgICBmdW5jdGlvbl9jYWxsOiBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzXG4gICAgICAgICAgICAgICAgLmZ1bmN0aW9uX2NhbGwsXG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgLi4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKG9wdGlvbnMpLFxuICAgICAgICAgICAgbWVzc2FnZXM6IG1lc3NhZ2VzTWFwcGVkLFxuICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgZGVmYXVsdFJvbGU7XG4gICAgICAgIGNvbnN0IHN0cmVhbUl0ZXJhYmxlID0gYXdhaXQgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHBhcmFtcywgb3B0aW9ucyk7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZGF0YSBvZiBzdHJlYW1JdGVyYWJsZSkge1xuICAgICAgICAgICAgY29uc3QgY2hvaWNlID0gZGF0YT8uY2hvaWNlc1swXTtcbiAgICAgICAgICAgIGlmICghY2hvaWNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGRlbHRhIH0gPSBjaG9pY2U7XG4gICAgICAgICAgICBjb25zdCBjaHVuayA9IF9jb252ZXJ0RGVsdGFUb01lc3NhZ2VDaHVuayhkZWx0YSwgZGVmYXVsdFJvbGUpO1xuICAgICAgICAgICAgZGVmYXVsdFJvbGUgPSBkZWx0YS5yb2xlID8/IGRlZmF1bHRSb2xlO1xuICAgICAgICAgICAgY29uc3QgbmV3VG9rZW5JbmRpY2VzID0ge1xuICAgICAgICAgICAgICAgIHByb21wdDogb3B0aW9ucy5wcm9tcHRJbmRleCA/PyAwLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb246IGNob2ljZS5pbmRleCA/PyAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRpb25DaHVuayA9IG5ldyBDaGF0R2VuZXJhdGlvbkNodW5rKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaHVuayxcbiAgICAgICAgICAgICAgICB0ZXh0OiBjaHVuay5jb250ZW50LFxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb25JbmZvOiBuZXdUb2tlbkluZGljZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHlpZWxkIGdlbmVyYXRpb25DaHVuaztcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12b2lkXG4gICAgICAgICAgICB2b2lkIHJ1bk1hbmFnZXI/LmhhbmRsZUxMTU5ld1Rva2VuKGdlbmVyYXRpb25DaHVuay50ZXh0ID8/IFwiXCIsIG5ld1Rva2VuSW5kaWNlcywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgeyBjaHVuazogZ2VuZXJhdGlvbkNodW5rIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWJvcnRFcnJvclwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGlkZW50aWZ5aW5nIHBhcmFtZXRlcnMgZm9yIHRoZSBtb2RlbFxuICAgICAqL1xuICAgIGlkZW50aWZ5aW5nUGFyYW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWRlbnRpZnlpbmdQYXJhbXMoKTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfZ2VuZXJhdGUobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgdG9rZW5Vc2FnZSA9IHt9O1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB0aGlzLmludm9jYXRpb25QYXJhbXMob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzTWFwcGVkID0gbWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiAoe1xuICAgICAgICAgICAgcm9sZTogbWVzc2FnZVRvT3BlbkFJUm9sZShtZXNzYWdlKSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgIG5hbWU6IG1lc3NhZ2UubmFtZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uX2NhbGw6IG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3NcbiAgICAgICAgICAgICAgICAuZnVuY3Rpb25fY2FsbCxcbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAocGFyYW1zLnN0cmVhbSkge1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgdGhpcy5fc3RyZWFtUmVzcG9uc2VDaHVua3MobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpO1xuICAgICAgICAgICAgY29uc3QgZmluYWxDaHVua3MgPSB7fTtcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjaHVuay5nZW5lcmF0aW9uSW5mbz8uY29tcGxldGlvbiA/PyAwO1xuICAgICAgICAgICAgICAgIGlmIChmaW5hbENodW5rc1tpbmRleF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBmaW5hbENodW5rc1tpbmRleF0gPSBjaHVuaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsQ2h1bmtzW2luZGV4XSA9IGZpbmFsQ2h1bmtzW2luZGV4XS5jb25jYXQoY2h1bmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gT2JqZWN0LmVudHJpZXMoZmluYWxDaHVua3MpXG4gICAgICAgICAgICAgICAgLnNvcnQoKFthS2V5XSwgW2JLZXldKSA9PiBwYXJzZUludChhS2V5LCAxMCkgLSBwYXJzZUludChiS2V5LCAxMCkpXG4gICAgICAgICAgICAgICAgLm1hcCgoW18sIHZhbHVlXSkgPT4gdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZ2VuZXJhdGlvbnMgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlc01hcHBlZCxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBzaWduYWw6IG9wdGlvbnM/LnNpZ25hbCxcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zPy5vcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB7IGNvbXBsZXRpb25fdG9rZW5zOiBjb21wbGV0aW9uVG9rZW5zLCBwcm9tcHRfdG9rZW5zOiBwcm9tcHRUb2tlbnMsIHRvdGFsX3Rva2VuczogdG90YWxUb2tlbnMsIH0gPSBkYXRhPy51c2FnZSA/PyB7fTtcbiAgICAgICAgICAgIGlmIChjb21wbGV0aW9uVG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5Vc2FnZS5jb21wbGV0aW9uVG9rZW5zID1cbiAgICAgICAgICAgICAgICAgICAgKHRva2VuVXNhZ2UuY29tcGxldGlvblRva2VucyA/PyAwKSArIGNvbXBsZXRpb25Ub2tlbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvbXB0VG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5Vc2FnZS5wcm9tcHRUb2tlbnMgPSAodG9rZW5Vc2FnZS5wcm9tcHRUb2tlbnMgPz8gMCkgKyBwcm9tcHRUb2tlbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG90YWxUb2tlbnMpIHtcbiAgICAgICAgICAgICAgICB0b2tlblVzYWdlLnRvdGFsVG9rZW5zID0gKHRva2VuVXNhZ2UudG90YWxUb2tlbnMgPz8gMCkgKyB0b3RhbFRva2VucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgZGF0YT8uY2hvaWNlcyA/PyBbXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBwYXJ0Lm1lc3NhZ2U/LmNvbnRlbnQgPz8gXCJcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBnZW5lcmF0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcGVuQUlSZXNwb25zZVRvQ2hhdE1lc3NhZ2UocGFydC5tZXNzYWdlID8/IHsgcm9sZTogXCJhc3Npc3RhbnRcIiB9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0LmZpbmlzaF9yZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGlvbi5nZW5lcmF0aW9uSW5mbyA9IHsgZmluaXNoX3JlYXNvbjogcGFydC5maW5pc2hfcmVhc29uIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb25zLnB1c2goZ2VuZXJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGdlbmVyYXRpb25zLFxuICAgICAgICAgICAgICAgIGxsbU91dHB1dDogeyB0b2tlblVzYWdlIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGdldE51bVRva2Vuc0Zyb21NZXNzYWdlcyhtZXNzYWdlcykge1xuICAgICAgICBsZXQgdG90YWxDb3VudCA9IDA7XG4gICAgICAgIGxldCB0b2tlbnNQZXJNZXNzYWdlID0gMDtcbiAgICAgICAgbGV0IHRva2Vuc1Blck5hbWUgPSAwO1xuICAgICAgICAvLyBGcm9tOiBodHRwczovL2dpdGh1Yi5jb20vb3BlbmFpL29wZW5haS1jb29rYm9vay9ibG9iL21haW4vZXhhbXBsZXMvSG93X3RvX2Zvcm1hdF9pbnB1dHNfdG9fQ2hhdEdQVF9tb2RlbHMuaXB5bmJcbiAgICAgICAgaWYgKGdldE1vZGVsTmFtZUZvclRpa3Rva2VuKHRoaXMubW9kZWxOYW1lKSA9PT0gXCJncHQtMy41LXR1cmJvXCIpIHtcbiAgICAgICAgICAgIHRva2Vuc1Blck1lc3NhZ2UgPSA0O1xuICAgICAgICAgICAgdG9rZW5zUGVyTmFtZSA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdldE1vZGVsTmFtZUZvclRpa3Rva2VuKHRoaXMubW9kZWxOYW1lKS5zdGFydHNXaXRoKFwiZ3B0LTRcIikpIHtcbiAgICAgICAgICAgIHRva2Vuc1Blck1lc3NhZ2UgPSAzO1xuICAgICAgICAgICAgdG9rZW5zUGVyTmFtZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY291bnRQZXJNZXNzYWdlID0gYXdhaXQgUHJvbWlzZS5hbGwobWVzc2FnZXMubWFwKGFzeW5jIChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0Q291bnQgPSBhd2FpdCB0aGlzLmdldE51bVRva2VucyhtZXNzYWdlLmNvbnRlbnQpO1xuICAgICAgICAgICAgY29uc3Qgcm9sZUNvdW50ID0gYXdhaXQgdGhpcy5nZXROdW1Ub2tlbnMobWVzc2FnZVRvT3BlbkFJUm9sZShtZXNzYWdlKSk7XG4gICAgICAgICAgICBjb25zdCBuYW1lQ291bnQgPSBtZXNzYWdlLm5hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gdG9rZW5zUGVyTmFtZSArIChhd2FpdCB0aGlzLmdldE51bVRva2VucyhtZXNzYWdlLm5hbWUpKVxuICAgICAgICAgICAgICAgIDogMDtcbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gdGV4dENvdW50ICsgdG9rZW5zUGVyTWVzc2FnZSArIHJvbGVDb3VudCArIG5hbWVDb3VudDtcbiAgICAgICAgICAgIHRvdGFsQ291bnQgKz0gY291bnQ7XG4gICAgICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdG90YWxDb3VudCArPSAzOyAvLyBldmVyeSByZXBseSBpcyBwcmltZWQgd2l0aCA8fHN0YXJ0fD5hc3Npc3RhbnQ8fG1lc3NhZ2V8PlxuICAgICAgICByZXR1cm4geyB0b3RhbENvdW50LCBjb3VudFBlck1lc3NhZ2UgfTtcbiAgICB9XG4gICAgYXN5bmMgY29tcGxldGlvbldpdGhSZXRyeShyZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0gdGhpcy5fZ2V0Q2xpZW50T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbGVyLmNhbGwoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZShyZXF1ZXN0LCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSB3cmFwT3BlbkFJQ2xpZW50RXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfZ2V0Q2xpZW50T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wZW5BSUVuZHBvaW50Q29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWU6IHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZTogdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUFwaUtleTogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgICAgICBhenVyZU9wZW5BSUJhc2VQYXRoOiB0aGlzLmF6dXJlT3BlbkFJQmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgYmFzZVVSTDogdGhpcy5jbGllbnRDb25maWcuYmFzZVVSTCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGdldEVuZHBvaW50KG9wZW5BSUVuZHBvaW50Q29uZmlnKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgICAgICBiYXNlVVJMOiBlbmRwb2ludCxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXG4gICAgICAgICAgICAgICAgbWF4UmV0cmllczogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXBhcmFtcy5iYXNlVVJMKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcmFtcy5iYXNlVVJMO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJQ2xpZW50KHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgICAgICAgIFwiYXBpLWtleVwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5LFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3RPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMucXVlcnkgPSB7XG4gICAgICAgICAgICAgICAgXCJhcGktdmVyc2lvblwiOiB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbixcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0T3B0aW9ucy5xdWVyeSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcXVlc3RPcHRpb25zO1xuICAgIH1cbiAgICBfbGxtVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwib3BlbmFpXCI7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgX2NvbWJpbmVMTE1PdXRwdXQoLi4ubGxtT3V0cHV0cykge1xuICAgICAgICByZXR1cm4gbGxtT3V0cHV0cy5yZWR1Y2UoKGFjYywgbGxtT3V0cHV0KSA9PiB7XG4gICAgICAgICAgICBpZiAobGxtT3V0cHV0ICYmIGxsbU91dHB1dC50b2tlblVzYWdlKSB7XG4gICAgICAgICAgICAgICAgYWNjLnRva2VuVXNhZ2UuY29tcGxldGlvblRva2VucyArPVxuICAgICAgICAgICAgICAgICAgICBsbG1PdXRwdXQudG9rZW5Vc2FnZS5jb21wbGV0aW9uVG9rZW5zID8/IDA7XG4gICAgICAgICAgICAgICAgYWNjLnRva2VuVXNhZ2UucHJvbXB0VG9rZW5zICs9IGxsbU91dHB1dC50b2tlblVzYWdlLnByb21wdFRva2VucyA/PyAwO1xuICAgICAgICAgICAgICAgIGFjYy50b2tlblVzYWdlLnRvdGFsVG9rZW5zICs9IGxsbU91dHB1dC50b2tlblVzYWdlLnRvdGFsVG9rZW5zID8/IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlblVzYWdlOiB7XG4gICAgICAgICAgICAgICAgY29tcGxldGlvblRva2VuczogMCxcbiAgICAgICAgICAgICAgICBwcm9tcHRUb2tlbnM6IDAsXG4gICAgICAgICAgICAgICAgdG90YWxUb2tlbnM6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUHJvbXB0TGF5ZXJDaGF0T3BlbkFJIGV4dGVuZHMgQ2hhdE9wZW5BSSB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb21wdExheWVyQXBpS2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBsVGFnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXR1cm5Qcm9tcHRMYXllcklkXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucHJvbXB0TGF5ZXJBcGlLZXkgPVxuICAgICAgICAgICAgZmllbGRzPy5wcm9tcHRMYXllckFwaUtleSA/P1xuICAgICAgICAgICAgICAgICh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgICAgICAgICA/IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm9jZXNzLWVudlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnY/LlBST01QVExBWUVSX0FQSV9LRVlcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLnBsVGFncyA9IGZpZWxkcz8ucGxUYWdzID8/IFtdO1xuICAgICAgICB0aGlzLnJldHVyblByb21wdExheWVySWQgPSBmaWVsZHM/LnJldHVyblByb21wdExheWVySWQgPz8gZmFsc2U7XG4gICAgfVxuICAgIGFzeW5jIF9nZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCByZXF1ZXN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgbGV0IHBhcnNlZE9wdGlvbnM7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0geyBzdG9wOiBvcHRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucz8udGltZW91dCAmJiAhb3B0aW9ucy5zaWduYWwpIHtcbiAgICAgICAgICAgIHBhcnNlZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQob3B0aW9ucy50aW1lb3V0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0gb3B0aW9ucyA/PyB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBnZW5lcmF0ZWRSZXNwb25zZXMgPSBhd2FpdCBzdXBlci5fZ2VuZXJhdGUobWVzc2FnZXMsIHBhcnNlZE9wdGlvbnMsIHJ1bk1hbmFnZXIpO1xuICAgICAgICBjb25zdCByZXF1ZXN0RW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IF9jb252ZXJ0TWVzc2FnZVRvRGljdCA9IChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgbGV0IG1lc3NhZ2VEaWN0O1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJodW1hblwiKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZURpY3QgPSB7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJhaVwiKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZURpY3QgPSB7IHJvbGU6IFwiYXNzaXN0YW50XCIsIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5fZ2V0VHlwZSgpID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlRGljdCA9IHsgcm9sZTogXCJhc3Npc3RhbnRcIiwgY29udGVudDogbWVzc2FnZS5jb250ZW50IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwic3lzdGVtXCIpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlRGljdCA9IHsgcm9sZTogXCJzeXN0ZW1cIiwgY29udGVudDogbWVzc2FnZS5jb250ZW50IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwiZ2VuZXJpY1wiKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZURpY3QgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEdvdCB1bmtub3duIHR5cGUgJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2VEaWN0O1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBfY3JlYXRlTWVzc2FnZURpY3RzID0gKG1lc3NhZ2VzLCBjYWxsT3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuaW52b2NhdGlvblBhcmFtcygpLFxuICAgICAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY2FsbE9wdGlvbnM/LnN0b3ApIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocGFyYW1zKS5pbmNsdWRlcyhcInN0b3BcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYHN0b3BgIGZvdW5kIGluIGJvdGggdGhlIGlucHV0IGFuZCBkZWZhdWx0IHBhcmFtcy5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZURpY3RzID0gbWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiBfY29udmVydE1lc3NhZ2VUb0RpY3QobWVzc2FnZSkpO1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2VEaWN0cztcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZW5lcmF0ZWRSZXNwb25zZXMuZ2VuZXJhdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRpb24gPSBnZW5lcmF0ZWRSZXNwb25zZXMuZ2VuZXJhdGlvbnNbaV07XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlRGljdHMgPSBfY3JlYXRlTWVzc2FnZURpY3RzKG1lc3NhZ2VzLCBwYXJzZWRPcHRpb25zKTtcbiAgICAgICAgICAgIGxldCBwcm9tcHRMYXllclJlcXVlc3RJZDtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJlc3AgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBnZW5lcmF0aW9uLnRleHQsXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IG1lc3NhZ2VUb09wZW5BSVJvbGUoZ2VuZXJhdGlvbi5tZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdExheWVyUmVzcEJvZHkgPSBhd2FpdCBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCh0aGlzLmNhbGxlciwgXCJsYW5nY2hhaW4uUHJvbXB0TGF5ZXJDaGF0T3BlbkFJXCIsIHsgLi4udGhpcy5faWRlbnRpZnlpbmdQYXJhbXMoKSwgbWVzc2FnZXM6IG1lc3NhZ2VEaWN0cywgc3RyZWFtOiBmYWxzZSB9LCB0aGlzLnBsVGFncywgcGFyc2VkUmVzcCwgcmVxdWVzdFN0YXJ0VGltZSwgcmVxdWVzdEVuZFRpbWUsIHRoaXMucHJvbXB0TGF5ZXJBcGlLZXkpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmV0dXJuUHJvbXB0TGF5ZXJJZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9tcHRMYXllclJlc3BCb2R5LnN1Y2Nlc3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0TGF5ZXJSZXF1ZXN0SWQgPSBwcm9tcHRMYXllclJlc3BCb2R5LnJlcXVlc3RfaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZ2VuZXJhdGlvbi5nZW5lcmF0aW9uSW5mbyB8fFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZ2VuZXJhdGlvbi5nZW5lcmF0aW9uSW5mbyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uLmdlbmVyYXRpb25JbmZvID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb24uZ2VuZXJhdGlvbkluZm8ucHJvbXB0TGF5ZXJSZXF1ZXN0SWQgPSBwcm9tcHRMYXllclJlcXVlc3RJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVkUmVzcG9uc2VzO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJub29wIiwiYXNzaWduIiwidGFyIiwic3JjIiwiayIsInJ1biIsImZuIiwiYmxhbmtfb2JqZWN0IiwicnVuX2FsbCIsImZucyIsImlzX2Z1bmN0aW9uIiwidGhpbmciLCJzYWZlX25vdF9lcXVhbCIsImEiLCJiIiwiaXNfZW1wdHkiLCJvYmoiLCJzdWJzY3JpYmUiLCJzdG9yZSIsImNhbGxiYWNrcyIsImNhbGxiYWNrIiwidW5zdWIiLCJjb21wb25lbnRfc3Vic2NyaWJlIiwiY29tcG9uZW50IiwiY3JlYXRlX3Nsb3QiLCJkZWZpbml0aW9uIiwiY3R4IiwiJCRzY29wZSIsInNsb3RfY3R4IiwiZ2V0X3Nsb3RfY29udGV4dCIsImdldF9zbG90X2NoYW5nZXMiLCJkaXJ0eSIsImxldHMiLCJtZXJnZWQiLCJsZW4iLCJpIiwidXBkYXRlX3Nsb3RfYmFzZSIsInNsb3QiLCJzbG90X2RlZmluaXRpb24iLCJzbG90X2NoYW5nZXMiLCJnZXRfc2xvdF9jb250ZXh0X2ZuIiwic2xvdF9jb250ZXh0IiwiZ2V0X2FsbF9kaXJ0eV9mcm9tX3Njb3BlIiwibGVuZ3RoIiwiZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyIsInByb3BzIiwicmVzdWx0IiwiYWN0aW9uX2Rlc3Ryb3llciIsImFjdGlvbl9yZXN1bHQiLCJhcHBlbmQiLCJ0YXJnZXQiLCJub2RlIiwiaW5zZXJ0IiwiYW5jaG9yIiwiZGV0YWNoIiwiZWxlbWVudCIsIm5hbWUiLCJzdmdfZWxlbWVudCIsInRleHQiLCJkYXRhIiwic3BhY2UiLCJlbXB0eSIsImxpc3RlbiIsImV2ZW50IiwiaGFuZGxlciIsIm9wdGlvbnMiLCJwcmV2ZW50X2RlZmF1bHQiLCJhdHRyIiwiYXR0cmlidXRlIiwidmFsdWUiLCJjaGlsZHJlbiIsInNldF9kYXRhIiwic2V0X2lucHV0X3ZhbHVlIiwiaW5wdXQiLCJzZXRfc3R5bGUiLCJrZXkiLCJpbXBvcnRhbnQiLCJjdXJyZW50X2NvbXBvbmVudCIsInNldF9jdXJyZW50X2NvbXBvbmVudCIsImRpcnR5X2NvbXBvbmVudHMiLCJiaW5kaW5nX2NhbGxiYWNrcyIsInJlbmRlcl9jYWxsYmFja3MiLCJmbHVzaF9jYWxsYmFja3MiLCJyZXNvbHZlZF9wcm9taXNlIiwidXBkYXRlX3NjaGVkdWxlZCIsInNjaGVkdWxlX3VwZGF0ZSIsImZsdXNoIiwiYWRkX3JlbmRlcl9jYWxsYmFjayIsInNlZW5fY2FsbGJhY2tzIiwiZmx1c2hpZHgiLCJzYXZlZF9jb21wb25lbnQiLCJ1cGRhdGUiLCIkJCIsImZsdXNoX3JlbmRlcl9jYWxsYmFja3MiLCJmaWx0ZXJlZCIsInRhcmdldHMiLCJjIiwib3V0cm9pbmciLCJvdXRyb3MiLCJncm91cF9vdXRyb3MiLCJjaGVja19vdXRyb3MiLCJ0cmFuc2l0aW9uX2luIiwiYmxvY2siLCJsb2NhbCIsInRyYW5zaXRpb25fb3V0IiwiZW5zdXJlX2FycmF5X2xpa2UiLCJhcnJheV9saWtlX29yX2l0ZXJhdG9yIiwib3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2siLCJsb29rdXAiLCJ1cGRhdGVfa2V5ZWRfZWFjaCIsIm9sZF9ibG9ja3MiLCJnZXRfa2V5IiwiZHluYW1pYyIsImxpc3QiLCJkZXN0cm95IiwiY3JlYXRlX2VhY2hfYmxvY2siLCJuZXh0IiwiZ2V0X2NvbnRleHQiLCJvIiwibiIsIm9sZF9pbmRleGVzIiwibmV3X2Jsb2NrcyIsIm5ld19sb29rdXAiLCJkZWx0YXMiLCJ1cGRhdGVzIiwiY2hpbGRfY3R4Iiwid2lsbF9tb3ZlIiwiZGlkX21vdmUiLCJuZXdfYmxvY2siLCJvbGRfYmxvY2siLCJuZXdfa2V5Iiwib2xkX2tleSIsImdldF9zcHJlYWRfdXBkYXRlIiwibGV2ZWxzIiwidG9fbnVsbF9vdXQiLCJhY2NvdW50ZWRfZm9yIiwiZ2V0X3NwcmVhZF9vYmplY3QiLCJzcHJlYWRfcHJvcHMiLCJjcmVhdGVfY29tcG9uZW50IiwibW91bnRfY29tcG9uZW50IiwiZnJhZ21lbnQiLCJhZnRlcl91cGRhdGUiLCJuZXdfb25fZGVzdHJveSIsImRlc3Ryb3lfY29tcG9uZW50IiwiZGV0YWNoaW5nIiwibWFrZV9kaXJ0eSIsImluaXQiLCJpbnN0YW5jZSIsImNyZWF0ZV9mcmFnbWVudCIsIm5vdF9lcXVhbCIsImFwcGVuZF9zdHlsZXMiLCJwYXJlbnRfY29tcG9uZW50IiwicmVhZHkiLCJyZXQiLCJyZXN0Iiwibm9kZXMiLCJTdmVsdGVDb21wb25lbnQiLCJfX3B1YmxpY0ZpZWxkIiwidHlwZSIsImluZGV4IiwiUFVCTElDX1ZFUlNJT04iLCJ0aXRsZV8xIiwiY3JlYXRlX2lmX2Jsb2NrIiwic3ZnIiwidGl0bGUiLCIkJHByb3BzIiwidmlld0JveCIsInBhdGgiLCJzdWJzY3JpYmVyX3F1ZXVlIiwid3JpdGFibGUiLCJzdGFydCIsInN0b3AiLCJzdWJzY3JpYmVycyIsInNldCIsIm5ld192YWx1ZSIsInJ1bl9xdWV1ZSIsInN1YnNjcmliZXIiLCJpbnZhbGlkYXRlIiwiUmV0cnlPcGVyYXRpb24iLCJ0aW1lb3V0cyIsInJldHJ5X29wZXJhdGlvbiIsImVyciIsImN1cnJlbnRUaW1lIiwidGltZW91dCIsInNlbGYiLCJ0aW1lb3V0T3BzIiwiY291bnRzIiwibWFpbkVycm9yIiwibWFpbkVycm9yQ291bnQiLCJlcnJvciIsIm1lc3NhZ2UiLCJjb3VudCIsInJlcXVpcmUkJDAiLCJleHBvcnRzIiwib3B0cyIsImF0dGVtcHQiLCJyYW5kb20iLCJtZXRob2RzIiwibWV0aG9kIiwib3JpZ2luYWwiLCJvcCIsImFyZ3MiLCJyZXRyeSIsIm5ldHdvcmtFcnJvck1zZ3MiLCJBYm9ydEVycm9yIiwiZGVjb3JhdGVFcnJvcldpdGhDb3VudHMiLCJhdHRlbXB0TnVtYmVyIiwicmV0cmllc0xlZnQiLCJpc05ldHdvcmtFcnJvciIsImVycm9yTWVzc2FnZSIsInBSZXRyeSIsInJlc29sdmUiLCJyZWplY3QiLCJvcGVyYXRpb24iLCJwUmV0cnlNb2R1bGUiLCJnZXRSYW5kb21WYWx1ZXMiLCJybmRzOCIsInJuZyIsImJ5dGVUb0hleCIsInVuc2FmZVN0cmluZ2lmeSIsImFyciIsIm9mZnNldCIsInJhbmRvbVVVSUQiLCJuYXRpdmUiLCJ2NCIsImJ1ZiIsInJuZHMiLCJkZWNhbWVsaXplIiwic3RyIiwic2VwIiwiVVBQRVJDQVNFIiwiTE9XRVJDQVNFIiwiTEVBRElOR19DQVBJVEFMIiwiSURFTlRJRklFUiIsIlNFUEFSQVRPUlMiLCJMRUFESU5HX1NFUEFSQVRPUlMiLCJTRVBBUkFUT1JTX0FORF9JREVOVElGSUVSIiwiTlVNQkVSU19BTkRfSURFTlRJRklFUiIsInByZXNlcnZlQ2FtZWxDYXNlIiwic3RyaW5nIiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsImlzTGFzdENoYXJMb3dlciIsImlzTGFzdENoYXJVcHBlciIsImlzTGFzdExhc3RDaGFyVXBwZXIiLCJjaGFyYWN0ZXIiLCJwcmVzZXJ2ZUNvbnNlY3V0aXZlVXBwZXJjYXNlIiwibTEiLCJwb3N0UHJvY2VzcyIsIl8iLCJpZGVudGlmaWVyIiwibSIsImNhbWVsQ2FzZSIsIngiLCJjYW1lbGNhc2VNb2R1bGUiLCJrZXlUb0pzb24iLCJtYXAiLCJzbmFrZUNhc2UiLCJtYXBLZXlzIiwiZmllbGRzIiwibWFwcGVyIiwibWFwcGVkIiwic2hhbGxvd0NvcHkiLCJyZXBsYWNlU2VjcmV0cyIsInJvb3QiLCJzZWNyZXRzTWFwIiwic2VjcmV0SWQiLCJsYXN0IiwicGFydHNSZXZlcnNlIiwiY3VycmVudCIsInBhcnQiLCJnZXRfbGNfdW5pcXVlX25hbWUiLCJzZXJpYWxpemFibGVDbGFzcyIsInBhcmVudENsYXNzIiwiU2VyaWFsaXphYmxlIiwia3dhcmdzIiwiX2FyZ3MiLCJhbGlhc2VzIiwic2VjcmV0cyIsImFjYyIsImtleVBhdGgiLCJyZWFkIiwid3JpdGUiLCJCYXNlQ2FsbGJhY2tIYW5kbGVyTWV0aG9kc0NsYXNzIiwiQmFzZUNhbGxiYWNrSGFuZGxlciIsIl9hIiwiSGFuZGxlciIsInV1aWQudjQiLCJ3cmFwQW5zaTI1NiIsImNvZGUiLCJ3cmFwQW5zaTE2bSIsInJlZCIsImdyZWVuIiwiYmx1ZSIsImFzc2VtYmxlU3R5bGVzIiwiY29kZXMiLCJzdHlsZXMiLCJncm91cE5hbWUiLCJncm91cCIsInN0eWxlTmFtZSIsInN0eWxlIiwiaGV4IiwibWF0Y2hlcyIsImNvbG9yU3RyaW5nIiwiaW50ZWdlciIsIm1vZHVsZSIsIl9jb2VyY2VUb0RpY3QiLCJkZWZhdWx0S2V5IiwiQmFzZVRyYWNlciIsIl9maWVsZHMiLCJwYXJlbnRSdW4iLCJjaGlsZFJ1biIsInBhcmVudFJ1bklkIiwibGxtIiwicHJvbXB0cyIsInJ1bklkIiwiZXh0cmFQYXJhbXMiLCJ0YWdzIiwibWV0YWRhdGEiLCJleGVjdXRpb25fb3JkZXIiLCJzdGFydF90aW1lIiwiZmluYWxFeHRyYVBhcmFtcyIsIm1lc3NhZ2VzIiwib3V0cHV0IiwiY2hhaW4iLCJpbnB1dHMiLCJydW5UeXBlIiwib3V0cHV0cyIsIl9wYXJlbnRSdW5JZCIsIl90YWdzIiwidG9vbCIsImFjdGlvbiIsImFnZW50UnVuIiwicmV0cmlldmVyIiwicXVlcnkiLCJkb2N1bWVudHMiLCJ0b2tlbiIsImlkeCIsIndyYXAiLCJ0cnlKc29uU3RyaW5naWZ5IiwiZmFsbGJhY2siLCJlbGFwc2VkIiwiY29sb3IiLCJDb25zb2xlQ2FsbGJhY2tIYW5kbGVyIiwiX3J1biIsInBhcmVudHMiLCJjdXJyZW50UnVuIiwicGFyZW50IiwiY3J1bWJzIiwicCIsIl9iIiwiaGFzIiwicHJlZml4IiwiRXZlbnRzIiwiRUUiLCJjb250ZXh0Iiwib25jZSIsImFkZExpc3RlbmVyIiwiZW1pdHRlciIsImxpc3RlbmVyIiwiZXZ0IiwiY2xlYXJFdmVudCIsIkV2ZW50RW1pdHRlciIsIm5hbWVzIiwiZXZlbnRzIiwiaGFuZGxlcnMiLCJsIiwiZWUiLCJsaXN0ZW5lcnMiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwiaiIsInBGaW5hbGx5IiwicHJvbWlzZSIsIm9uRmluYWxseSIsInZhbCIsIlRpbWVvdXRFcnJvciIsInBUaW1lb3V0IiwibWlsbGlzZWNvbmRzIiwidGltZXIiLCJ0aW1lb3V0RXJyb3IiLCJwVGltZW91dE1vZHVsZSIsImxvd2VyQm91bmRfMSIsImxvd2VyQm91bmQiLCJhcnJheSIsImNvbXBhcmF0b3IiLCJmaXJzdCIsInN0ZXAiLCJpdCIsInByaW9yaXR5UXVldWUiLCJsb3dlcl9ib3VuZF8xIiwiUHJpb3JpdHlRdWV1ZSIsIml0ZW0iLCJkaXN0IiwicF90aW1lb3V0XzEiLCJyZXF1aXJlJCQxIiwicHJpb3JpdHlfcXVldWVfMSIsInJlcXVpcmUkJDIiLCJQUXVldWUiLCJfYyIsIl9kIiwibm93IiwiZGVsYXkiLCJjYW5Jbml0aWFsaXplSW50ZXJ2YWwiLCJqb2IiLCJuZXdDb25jdXJyZW5jeSIsImZ1bmN0aW9ucyIsImZ1bmN0aW9uXyIsImV4aXN0aW5nUmVzb2x2ZSIsIl9kZWZhdWx0IiwiU1RBVFVTX05PX1JFVFJZIiwiQXN5bmNDYWxsZXIkMSIsInBhcmFtcyIsIlBRdWV1ZU1vZCIsImNhbGxhYmxlIiwic3RhdHVzIiwicmVzIiwiaXNMYW5nQ2hhaW5NZXNzYWdlIiwiY29udmVydExhbmdDaGFpbk1lc3NhZ2VUb0V4YW1wbGUiLCJjb252ZXJ0ZWQiLCJpc0Jyb3dzZXIiLCJpc1dlYldvcmtlciIsImlzSnNEb20iLCJpc0Rlbm8iLCJpc05vZGUiLCJnZXRFbnYiLCJlbnYiLCJydW50aW1lRW52aXJvbm1lbnQiLCJnZXRSdW50aW1lRW52aXJvbm1lbnQiLCJyZWxlYXNlRW52IiwiZ2V0U2hhcyIsImdldEVudmlyb25tZW50VmFyaWFibGUiLCJjYWNoZWRDb21taXRTSEFzIiwiY29tbW9uX3JlbGVhc2VfZW52cyIsInNoYXMiLCJlbnZWYXIiLCJpc0xvY2FsaG9zdCIsInVybCIsImhvc3RuYW1lIiwicmFpc2VGb3JTdGF0dXMiLCJyZXNwb25zZSIsImJvZHkiLCJ0b0FycmF5IiwiaXRlcmFibGUiLCJ0cmltUXVvdGVzIiwiaGlkZUlucHV0cyIsImhpZGVPdXRwdXRzIiwiQ2xpZW50IiwiY29uZmlnIiwiZGVmYXVsdENvbmZpZyIsIkFzeW5jQ2FsbGVyIiwiYXBpS2V5IiwiaGVhZGVycyIsInF1ZXJ5UGFyYW1zIiwicGFyYW1zU3RyaW5nIiwibGltaXQiLCJpdGVtcyIsImV4dHJhIiwicnVudGltZUVudiIsInNlc3Npb25fbmFtZSIsInJ1bkNyZWF0ZSIsImxvYWRDaGlsZFJ1bnMiLCJwcm9qZWN0T3B0cyIsInNlc3Npb25JZCIsInRlbmFudElkIiwicnVuXyIsImNoaWxkUnVucyIsInRyZWVtYXAiLCJydW5zIiwicHJvamVjdElkIiwicHJvamVjdE5hbWUiLCJyZWZlcmVuY2VFeGFtcGxlSWQiLCJzdGFydFRpbWUiLCJleGVjdXRpb25PcmRlciIsImlkIiwiZmlsdGVyIiwicHJvamVjdElkXyIsImlkXyIsInNoYXJlSWQiLCJzaGFyZVRva2VuIiwicnVuSWRzIiwiZGF0YXNldElkIiwiZGF0YXNldE5hbWUiLCJzaGFyZVNjaGVtYSIsInByb2plY3RFeHRyYSIsInVwc2VydCIsInJlZmVyZW5jZURhdGFzZXRJZCIsInVwc2VydF8iLCJlbmRwb2ludCIsInByb2plY3RzIiwicHJvamVjdElkcyIsIm5hbWVDb250YWlucyIsInJlZmVyZW5jZURhdGFzZXROYW1lIiwicmVmZXJlbmNlRnJlZSIsImRhdGFzZXQiLCJjc3ZGaWxlIiwiZmlsZU5hbWUiLCJpbnB1dEtleXMiLCJvdXRwdXRLZXlzIiwiZGVzY3JpcHRpb24iLCJkYXRhVHlwZSIsImZvcm1EYXRhIiwibGluZSIsImRhdGFzZXRJZHMiLCJkYXRhc2V0TmFtZUNvbnRhaW5zIiwiZGF0YXNldHMiLCJkYXRhc2V0SWRfIiwiY3JlYXRlZEF0IiwiZXhhbXBsZUlkIiwiZ2VuZXJhdGlvbiIsImdlbmVyYXRpb25zIiwiZmluYWxJbnB1dCIsImZpbmFsT3V0cHV0IiwiZXhhbXBsZUlkcyIsImV4YW1wbGVzIiwiZXZhbHVhdG9yIiwic291cmNlSW5mbyIsInJlZmVyZW5jZUV4YW1wbGUiLCJmZWVkYmFja1Jlc3VsdCIsInNvdXJjZUluZm9fIiwic2NvcmUiLCJjb3JyZWN0aW9uIiwiY29tbWVudCIsImZlZWRiYWNrU291cmNlVHlwZSIsInNvdXJjZVJ1bklkIiwiZmVlZGJhY2tJZCIsImVhZ2VyIiwiZmVlZGJhY2tfc291cmNlIiwiZmVlZGJhY2siLCJmZWVkYmFja1VwZGF0ZSIsImZlZWRiYWNrS2V5cyIsImZlZWRiYWNrU291cmNlVHlwZXMiLCJmZWVkYmFja3MiLCJMYW5nQ2hhaW5UcmFjZXIiLCJjbGllbnQiLCJleGFtcGxlX2lkIiwicGVyc2lzdGVkUnVuIiwicnVuVXBkYXRlIiwiZ2V0QnVmZmVyU3RyaW5nIiwiaHVtYW5QcmVmaXgiLCJhaVByZWZpeCIsInN0cmluZ19tZXNzYWdlcyIsInJvbGUiLCJuYW1lU3RyIiwiTGFuZ0NoYWluVHJhY2VyVjEiLCJzZXNzaW9uTmFtZSIsInNlc3Npb25DcmVhdGUiLCJzZXNzaW9uIiwic2VyaWFsaXplZCIsInJ1blJlc3VsdCIsImNoaWxkX3J1bnMiLCJjaGlsZF9ydW4iLCJ2MVJ1biIsInRyYWNlclNlc3Npb24iLCJyZXNwIiwiZ2V0VHJhY2luZ0NhbGxiYWNrSGFuZGxlciIsInRyYWNlciIsImdldFRyYWNpbmdWMkNhbGxiYWNrSGFuZGxlciIsInF1ZXVlIiwiY3JlYXRlUXVldWUiLCJjb25zdW1lQ2FsbGJhY2siLCJwcm9taXNlRm4iLCJ3YWl0IiwicGFyc2VDYWxsYmFja0NvbmZpZ0FyZyIsImFyZyIsIkJhc2VDYWxsYmFja01hbmFnZXIiLCJCYXNlUnVuTWFuYWdlciIsImluaGVyaXRhYmxlSGFuZGxlcnMiLCJpbmhlcml0YWJsZVRhZ3MiLCJpbmhlcml0YWJsZU1ldGFkYXRhIiwiQ2FsbGJhY2tNYW5hZ2VyRm9yUmV0cmlldmVyUnVuIiwidGFnIiwibWFuYWdlciIsIkNhbGxiYWNrTWFuYWdlciIsIkNhbGxiYWNrTWFuYWdlckZvckxMTVJ1biIsIl9ydW5JZCIsIkNhbGxiYWNrTWFuYWdlckZvckNoYWluUnVuIiwiQ2FsbGJhY2tNYW5hZ2VyRm9yVG9vbFJ1biIsIl9tZXRhZGF0YSIsInJ1bk5hbWUiLCJwcm9tcHQiLCJ1dWlkdjQiLCJtZXNzYWdlR3JvdXAiLCJtZXNzYWdlU3RyaW5nIiwiaW5oZXJpdCIsIl9oYW5kbGVyIiwiYWRkaXRpb25hbEhhbmRsZXJzIiwiaW5oZXJpdGFibGUiLCJoIiwibG9jYWxIYW5kbGVycyIsImxvY2FsVGFncyIsImxvY2FsTWV0YWRhdGEiLCJjYWxsYmFja01hbmFnZXIiLCJlbnN1cmVIYW5kbGVyIiwidmVyYm9zZUVuYWJsZWQiLCJ0cmFjaW5nVjJFbmFibGVkIiwidHJhY2luZ0VuYWJsZWQiLCJjb25zb2xlSGFuZGxlciIsIl9oYXNPd25Qcm9wZXJ0eSIsImhhc093blByb3BlcnR5IiwiX29iamVjdEtleXMiLCJrZXlzIiwiX2RlZXBDbG9uZSIsImlzSW50ZWdlciIsImNoYXJDb2RlIiwidW5lc2NhcGVQYXRoQ29tcG9uZW50IiwiaGFzVW5kZWZpbmVkIiwib2JqS2V5cyIsIm9iaktleXNMZW5ndGgiLCJwYXRjaEVycm9yTWVzc2FnZUZvcm1hdHRlciIsIm1lc3NhZ2VQYXJ0cyIsIlBhdGNoRXJyb3IiLCJ0cmVlIiwiSnNvblBhdGNoRXJyb3IiLCJvYmpPcHMiLCJkb2N1bWVudCIsInJlbW92ZWQiLCJnZXRWYWx1ZUJ5UG9pbnRlciIsIm9yaWdpbmFsVmFsdWUiLCJhcHBseU9wZXJhdGlvbiIsInZhbHVlVG9Db3B5IiwiX2FyZUVxdWFscyIsImFyck9wcyIsInJlbW92ZWRMaXN0IiwicG9pbnRlciIsImdldE9yaWdpbmFsRGVzdGluYXRpb24iLCJ2YWxpZGF0ZU9wZXJhdGlvbiIsIm11dGF0ZURvY3VtZW50IiwiYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyIsInZhbGlkYXRvciIsInJldHVyblZhbHVlIiwidCIsImV4aXN0aW5nUGF0aEZyYWdtZW50IiwidmFsaWRhdGVGdW5jdGlvbiIsImFwcGx5UGF0Y2giLCJwYXRjaCIsInJlc3VsdHMiLCJwYXRoTGVuIiwiZXhpc3RpbmdQYXRoTGVuIiwiZXhpc3RpbmdWYWx1ZSIsInZhbGlkYXRlIiwic2VxdWVuY2UiLCJleHRlcm5hbFZhbGlkYXRvciIsImUiLCJhcnJBIiwiYXJyQiIsIkl0ZXJhYmxlUmVhZGFibGVTdHJlYW0iLCJjYW5jZWxQcm9taXNlIiwic3RyZWFtIiwicmVhZGVyIiwiY29udHJvbGxlciIsInB1bXAiLCJkb25lIiwiZ2VuZXJhdG9yIiwiUnVuTG9nUGF0Y2giLCJvdGhlciIsIm9wcyIsInN0YXRlcyIsIlJ1bkxvZyIsIkxvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlciIsInJ1blRhZ3MiLCJpbmNsdWRlIiwibG9nRW50cnkiLCJnZXRDYWxsYmFja01hbmdlckZvckNvbmZpZyIsImRlZmF1bHRGYWlsZWRBdHRlbXB0SGFuZGxlciIsIlJ1bm5hYmxlIiwiUnVubmFibGVCaW5kaW5nIiwiUnVubmFibGVFYWNoIiwiUnVubmFibGVSZXRyeSIsIlJ1bm5hYmxlV2l0aEZhbGxiYWNrcyIsImJhdGNoT3B0aW9ucyIsImNvbmZpZ0xpc3QiLCJjYWxsZXIiLCJiYXRjaENhbGxzIiwicnVubmFibGVDb25maWciLCJjYWxsT3B0aW9ucyIsImZ1bmMiLCJjYWxsYmFja01hbmFnZXJfIiwicnVuTWFuYWdlciIsIm9wdGlvbnNMaXN0IiwiY2FsbGJhY2tNYW5hZ2VycyIsInJ1bk1hbmFnZXJzIiwiaW5wdXRHZW5lcmF0b3IiLCJ0cmFuc2Zvcm1lciIsImZpbmFsSW5wdXRTdXBwb3J0ZWQiLCJmaW5hbE91dHB1dFN1cHBvcnRlZCIsInNlcmlhbGl6ZWRSZXByZXNlbnRhdGlvbiIsIndyYXBJbnB1dEZvclRyYWNpbmciLCJjaHVuayIsIndyYXBwZWRJbnB1dEdlbmVyYXRvciIsIm91dHB1dEl0ZXJhdG9yIiwibmV3Q29uZmlnIiwiY29lcmNlYWJsZSIsIlJ1bm5hYmxlU2VxdWVuY2UiLCJfY29lcmNlVG9SdW5uYWJsZSIsImZpbmFsQ2h1bmsiLCJzdHJlYW1PcHRpb25zIiwiY29waWVkQ2FsbGJhY2tzIiwicnVubmFibGVTdHJlYW0iLCJjb25zdW1lUnVubmFibGVTdHJlYW0iLCJydW5uYWJsZVN0cmVhbVByb21pc2UiLCJsb2ciLCJjb3B5IiwibWVyZ2VkT3B0aW9ucyIsImluZGl2aWR1YWxPcHRpb24iLCJjb25maWdzIiwicmVzdWx0c01hcCIsInJlbWFpbmluZ0luZGV4ZXMiLCJyZW1haW5pbmdJbnB1dHMiLCJwYXRjaGVkQ29uZmlncyIsImZpcnN0RXhjZXB0aW9uIiwicmVzdWx0TWFwSW5kZXgiLCJuZXh0U3RlcElucHV0IiwiaW5pdGlhbFN0ZXBzIiwibmV4dFN0ZXBJbnB1dHMiLCJmaW5hbE91dHB1dHMiLCJzdGVwcyIsInN0cmVhbWluZ1N0YXJ0U3RlcEluZGV4IiwiaXNEZWZhdWx0SW1wbGVtZW50YXRpb24iLCJib3VuZFJ1bm5hYmxlSXNEZWZhdWx0SW1wbGVtZW50YXRpb24iLCJpbnZva2VTdGVwcyIsImNvbmNhdFN1cHBvcnRlZCIsImZpbmFsR2VuZXJhdG9yIiwiZmluYWxTdGVwcyIsInJ1bm5hYmxlcyIsIlJ1bm5hYmxlTWFwIiwicnVubmFibGUiLCJSdW5uYWJsZUxhbWJkYSIsImZpcnN0RXJyb3IiLCJSdW5uYWJsZUFzc2lnbiIsIm1hcHBlclJlc3VsdCIsIlJ1bm5hYmxlUGFzc3Rocm91Z2giLCJtYXBwaW5nIiwiVkVSU0lPTiIsIlN0cmVhbSIsIlNTRURlY29kZXIiLCJsaW5lRGVjb2RlciIsIkxpbmVEZWNvZGVyIiwiaXRlciIsInJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYWJsZSIsInNzZSIsImZpZWxkbmFtZSIsInBhcnRpdGlvbiIsInRyYWlsaW5nTmV3bGluZSIsImxpbmVzIiwiYnl0ZXMiLCJkZWxpbWl0ZXIiLCJBUElFcnJvciIsImVycm9yUmVzcG9uc2UiLCJBUElDb25uZWN0aW9uRXJyb3IiLCJjYXN0VG9FcnJvciIsIkJhZFJlcXVlc3RFcnJvciIsIkF1dGhlbnRpY2F0aW9uRXJyb3IiLCJQZXJtaXNzaW9uRGVuaWVkRXJyb3IiLCJOb3RGb3VuZEVycm9yIiwiQ29uZmxpY3RFcnJvciIsIlVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciIsIlJhdGVMaW1pdEVycm9yIiwiSW50ZXJuYWxTZXJ2ZXJFcnJvciIsImNhdXNlIiwiZ2V0RGVmYXVsdEFnZW50IiwiX2ZldGNoIiwiaXNQb2x5ZmlsbGVkIiwiX0Zvcm1EYXRhIiwiX0ZpbGUiLCJnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyIsImZvcm0iLCJNdWx0aXBhcnRCb2R5IiwiZmlsZUZyb21QYXRoIiwiaXNGc1JlYWRTdHJlYW0iLCJpc1Jlc3BvbnNlTGlrZSIsImlzRmlsZUxpa2UiLCJpc0Jsb2JMaWtlIiwiaXNVcGxvYWRhYmxlIiwidG9GaWxlIiwiYmxvYiIsIkZpbGUiLCJiaXRzIiwiZ2V0Qnl0ZXMiLCJnZXROYW1lIiwicGFydHMiLCJpc0FzeW5jSXRlcmFibGVJdGVyYXRvciIsInByb3BzRm9yRXJyb3IiLCJnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIiLCJpc011bHRpcGFydEJvZHkiLCJtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMiLCJjcmVhdGVGb3JtIiwiRm9ybURhdGEiLCJhZGRGb3JtVmFsdWUiLCJmaWxlIiwiZW50cnkiLCJwcm9wIiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsInRoaXMiLCJyZWNlaXZlciIsInN0YXRlIiwia2luZCIsImYiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwiX0Fic3RyYWN0UGFnZV9jbGllbnQiLCJNQVhfUkVUUklFUyIsImRlZmF1bHRQYXJzZVJlc3BvbnNlIiwiY29udGVudFR5cGUiLCJqc29uIiwiZGVidWciLCJBUElQcm9taXNlIiwicmVzcG9uc2VQcm9taXNlIiwicGFyc2VSZXNwb25zZSIsInRyYW5zZm9ybSIsIm9uZnVsZmlsbGVkIiwib25yZWplY3RlZCIsIm9uZmluYWxseSIsIkFQSUNsaWVudCIsImJhc2VVUkwiLCJtYXhSZXRyaWVzIiwiaHR0cEFnZW50Iiwib3ZlcnJpZGVuRmV0Y2giLCJ2YWxpZGF0ZVBvc2l0aXZlSW50ZWdlciIsImZldGNoIiwiZ2V0UGxhdGZvcm1IZWFkZXJzIiwiY3VzdG9tSGVhZGVycyIsInV1aWQ0IiwiUGFnZSIsIl9lIiwiX2YiLCJjb250ZW50TGVuZ3RoIiwibWluQWdlbnRUaW1lb3V0IiwicmVxSGVhZGVycyIsImZldGNoSXNQb2x5ZmlsbGVkIiwicmVxIiwicmVxdWVzdCIsImhlYWRlciIsInJlbWFpbmluZ1JldHJpZXMiLCJvcHRpb25zSW5wdXQiLCJyZXRyaWVzUmVtYWluaW5nIiwiQVBJVXNlckFib3J0RXJyb3IiLCJBUElDb25uZWN0aW9uVGltZW91dEVycm9yIiwicmVzcG9uc2VIZWFkZXJzIiwiY3JlYXRlUmVzcG9uc2VIZWFkZXJzIiwiZXJyVGV4dCIsImVyckpTT04iLCJzYWZlSlNPTiIsImVyck1lc3NhZ2UiLCJQYWdlUHJvbWlzZSIsImlzQWJzb2x1dGVVUkwiLCJkZWZhdWx0UXVlcnkiLCJpc0VtcHR5T2JqIiwibXMiLCJzaWduYWwiLCJzaG91bGRSZXRyeUhlYWRlciIsInJldHJ5QWZ0ZXIiLCJzbGVlcCIsIm51bVJldHJpZXMiLCJzbGVlcFNlY29uZHMiLCJqaXR0ZXIiLCJBYnN0cmFjdFBhZ2UiLCJuZXh0SW5mbyIsIm5leHRPcHRpb25zIiwicGFnZSIsInJlcXVlc3RPcHRpb25zS2V5cyIsImlzUmVxdWVzdE9wdGlvbnMiLCJoYXNPd24iLCJnZXRQbGF0Zm9ybVByb3BlcnRpZXMiLCJub3JtYWxpemVQbGF0Zm9ybSIsIm5vcm1hbGl6ZUFyY2giLCJicm93c2VySW5mbyIsImdldEJyb3dzZXJJbmZvIiwiYnJvd3NlclBhdHRlcm5zIiwicGF0dGVybiIsIm1hdGNoIiwibWFqb3IiLCJtaW5vciIsImFyY2giLCJwbGF0Zm9ybSIsIl9wbGF0Zm9ybUhlYWRlcnMiLCJzdGFydHNXaXRoU2NoZW1lUmVnZXhwIiwicmVhZEVudiIsIl9rIiwiciIsImlzUnVubmluZ0luQnJvd3NlciIsIkN1cnNvclBhZ2UiLCJpbmZvIiwiQVBJUmVzb3VyY2UiLCJUcmFuc2NyaXB0aW9ucyIsIlRyYW5zbGF0aW9ucyIsIkF1ZGlvIiwiQVBJLlRyYW5zY3JpcHRpb25zIiwiQVBJLlRyYW5zbGF0aW9ucyIsIkNvbXBsZXRpb25zIiwiQ2hhdCIsIkFQSS5Db21wbGV0aW9ucyIsIkVtYmVkZGluZ3MiLCJFZGl0cyIsIkZpbGVzIiwiZmlsZUlkIiwiRmlsZU9iamVjdHNQYWdlIiwiRmluZVR1bmVzIiwiZmluZVR1bmVJZCIsIkZpbmVUdW5lc1BhZ2UiLCJKb2JzIiwiZmluZVR1bmluZ0pvYklkIiwiRmluZVR1bmluZ0pvYnNQYWdlIiwiRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UiLCJGaW5lVHVuaW5nIiwiQVBJLkpvYnMiLCJBUEkuRmluZVR1bmluZ0pvYnNQYWdlIiwiQVBJLkZpbmVUdW5pbmdKb2JFdmVudHNQYWdlIiwiSW1hZ2VzIiwiTW9kZWxzIiwibW9kZWwiLCJNb2RlbHNQYWdlIiwiTW9kZXJhdGlvbnMiLCJDb3JlLkFQSUNsaWVudCIsIkNvcmUucmVhZEVudiIsIm9yZ2FuaXphdGlvbiIsIkNvcmUuaXNSdW5uaW5nSW5Ccm93c2VyIiwiQVBJLkNoYXQiLCJBUEkuRWRpdHMiLCJBUEkuRW1iZWRkaW5ncyIsIkFQSS5GaWxlcyIsIkFQSS5JbWFnZXMiLCJBUEkuQXVkaW8iLCJBUEkuTW9kZXJhdGlvbnMiLCJBUEkuTW9kZWxzIiwiQVBJLkZpbmVUdW5pbmciLCJBUEkuRmluZVR1bmVzIiwiT3BlbkFJIiwiRXJyb3JzLkFQSUVycm9yIiwiRXJyb3JzLkFQSUNvbm5lY3Rpb25FcnJvciIsIkVycm9ycy5BUElDb25uZWN0aW9uVGltZW91dEVycm9yIiwiRXJyb3JzLkFQSVVzZXJBYm9ydEVycm9yIiwiRXJyb3JzLk5vdEZvdW5kRXJyb3IiLCJFcnJvcnMuQ29uZmxpY3RFcnJvciIsIkVycm9ycy5SYXRlTGltaXRFcnJvciIsIkVycm9ycy5CYWRSZXF1ZXN0RXJyb3IiLCJFcnJvcnMuQXV0aGVudGljYXRpb25FcnJvciIsIkVycm9ycy5JbnRlcm5hbFNlcnZlckVycm9yIiwiRXJyb3JzLlBlcm1pc3Npb25EZW5pZWRFcnJvciIsIkVycm9ycy5VbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IiLCJFcnJvcnMiLCJVcGxvYWRzLnRvRmlsZSIsIlVwbG9hZHMuZmlsZUZyb21QYXRoIiwiUGFnaW5hdGlvbi5QYWdlIiwiUGFnaW5hdGlvbi5DdXJzb3JQYWdlIiwiQVBJLkZpbGVPYmplY3RzUGFnZSIsIkFQSS5Nb2RlbHNQYWdlIiwiQVBJLkZpbmVUdW5lc1BhZ2UiLCJfX2RlZlByb3AiLCJfX2RlZk5vcm1hbFByb3AiLCJiYXNlNjRKcyIsImJ5dGVMZW5ndGgiLCJ0b0J5dGVBcnJheSIsImZyb21CeXRlQXJyYXkiLCJyZXZMb29rdXAiLCJBcnIiLCJnZXRMZW5zIiwiYjY0IiwidmFsaWRMZW4iLCJwbGFjZUhvbGRlcnNMZW4iLCJsZW5zIiwiX2J5dGVMZW5ndGgiLCJ0bXAiLCJjdXJCeXRlIiwidHJpcGxldFRvQmFzZTY0IiwibnVtIiwiZW5jb2RlQ2h1bmsiLCJ1aW50OCIsImVuZCIsImV4dHJhQnl0ZXMiLCJtYXhDaHVua0xlbmd0aCIsImxlbjIiLCJieXRlUGFpck1lcmdlIiwicGllY2UiLCJyYW5rcyIsIm1pblJhbmsiLCJzbGljZSIsInJhbmsiLCJieXRlUGFpckVuY29kZSIsImVzY2FwZVJlZ2V4IiwiX1Rpa3Rva2VuIiwiZXh0ZW5kZWRTcGVjaWFsVG9rZW5zIiwidW5jb21wcmVzc2VkIiwibWVtbyIsIm9mZnNldFN0ciIsInRva2VucyIsImJhc2U2NCIsImFsbG93ZWRTcGVjaWFsIiwiZGlzYWxsb3dlZFNwZWNpYWwiLCJyZWdleGVzIiwic3BlY2lhbFJlZ2V4IiwiYWxsb3dlZFNwZWNpYWxTZXQiLCJkaXNhbGxvd2VkU3BlY2lhbFNldCIsImRpc2FsbG93ZWRTcGVjaWFsUmVnZXgiLCJzcGVjaWFsTWF0Y2giLCJuZXh0U3BlY2lhbCIsInN0YXJ0RmluZCIsInRva2VuMiIsImkyIiwibWVyZ2VkQXJyYXkiLCJUaWt0b2tlbiIsImdldEVuY29kaW5nTmFtZUZvck1vZGVsIiwiY2FjaGUiLCJnZXRFbmNvZGluZyIsImVuY29kaW5nIiwiZW5jb2RpbmdGb3JNb2RlbCIsImdldE1vZGVsTmFtZUZvclRpa3Rva2VuIiwibW9kZWxOYW1lIiwiZ2V0TW9kZWxDb250ZXh0U2l6ZSIsImNhbGN1bGF0ZU1heFRva2VucyIsIm51bVRva2VucyIsIlJVTl9LRVkiLCJHZW5lcmF0aW9uQ2h1bmsiLCJCYXNlTWVzc2FnZSIsIkJhc2VNZXNzYWdlQ2h1bmsiLCJsZWZ0IiwicmlnaHQiLCJIdW1hbk1lc3NhZ2UiLCJIdW1hbk1lc3NhZ2VDaHVuayIsIkFJTWVzc2FnZSIsIkFJTWVzc2FnZUNodW5rIiwiU3lzdGVtTWVzc2FnZSIsIlN5c3RlbU1lc3NhZ2VDaHVuayIsIkZ1bmN0aW9uTWVzc2FnZUNodW5rIiwiQ2hhdE1lc3NhZ2UiLCJpc0Jhc2VNZXNzYWdlIiwibWVzc2FnZUxpa2UiLCJjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSIsImNvbnRlbnQiLCJDaGF0TWVzc2FnZUNodW5rIiwiQ2hhdEdlbmVyYXRpb25DaHVuayIsIkJhc2VQcm9tcHRWYWx1ZSIsIkJhc2VDYWNoZSIsImdldEVuZHBvaW50IiwiYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSIsImF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lIiwiYXp1cmVPcGVuQUlBcGlLZXkiLCJhenVyZU9wZW5BSUJhc2VQYXRoIiwiY2h1bmtBcnJheSIsImNodW5rU2l6ZSIsImNodW5rcyIsImVsZW0iLCJjaHVua0luZGV4IiwiU3RyaW5nUHJvbXB0VmFsdWUiLCJCYXNlUHJvbXB0VGVtcGxhdGUiLCJpbnB1dFZhcmlhYmxlcyIsInVzZXJWYXJpYWJsZXMiLCJwYXJ0aWFsVmFyaWFibGVzIiwicGFydGlhbFZhbHVlcyIsIlByb21wdFRlbXBsYXRlIiwiRmV3U2hvdFByb21wdFRlbXBsYXRlIiwiQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlIiwidmFsdWVzIiwiZm9ybWF0dGVkUHJvbXB0IiwicGFyc2VGU3RyaW5nIiwidGVtcGxhdGUiLCJjaGFycyIsIm5leHRCcmFja2V0IiwiYnJhY2tldCIsImludGVycG9sYXRlRlN0cmluZyIsIkRFRkFVTFRfRk9STUFUVEVSX01BUFBJTkciLCJERUZBVUxUX1BBUlNFUl9NQVBQSU5HIiwicmVuZGVyVGVtcGxhdGUiLCJ0ZW1wbGF0ZUZvcm1hdCIsImlucHV0VmFsdWVzIiwicGFyc2VUZW1wbGF0ZSIsImNoZWNrVmFsaWRUZW1wbGF0ZSIsInZhbGlkRm9ybWF0cyIsImR1bW15SW5wdXRzIiwidiIsInRvdGFsSW5wdXRWYXJpYWJsZXMiLCJhbGxWYWx1ZXMiLCJzdWZmaXgiLCJleGFtcGxlU2VwYXJhdG9yIiwibmV3SW5wdXRWYXJpYWJsZXMiLCJpdiIsIm5ld1BhcnRpYWxWYXJpYWJsZXMiLCJwcm9tcHREaWN0IiwiQ2hhdFByb21wdFZhbHVlIiwidSIsInMiLCJyZXF1aXJlIiwidyIsImQiLCJnIiwieSIsIk8iLCJIIiwiQyIsIkUiLCJJIiwiWSIsIkIiLCJGIiwiTCIsIlUiLCJEIiwiVCIsIk0iLCJOIiwiUyIsImdldENhY2hlS2V5Iiwic3RyaW5ncyIsImhhc2giLCJHTE9CQUxfTUFQIiwiSW5NZW1vcnlDYWNoZSIsImxsbUtleSIsImdldFZlcmJvc2l0eSIsIkJhc2VMYW5nQ2hhaW4iLCJCYXNlTGFuZ3VhZ2VNb2RlbCIsIl90eXBlIiwiX21vZGVsIiwiQ2xzIiwib3BlbmFpIiwiQmFzZUxMTSIsImNvbmN1cnJlbmN5IiwicHJvbXB0VmFsdWUiLCJfaW5wdXQiLCJfb3B0aW9ucyIsIl9ydW5NYW5hZ2VyIiwicHJvbXB0VmFsdWVzIiwibGxtUmVzdWx0IiwibGxtUmVzdWx0cyIsImdlbkxpc3QiLCJsbG1PdXRwdXQiLCJwYXJzZWRPcHRpb25zIiwiaGFuZGxlZE9wdGlvbnMiLCJmbGF0dGVuZWRPdXRwdXRzIiwibGxtU3RyaW5nS2V5IiwibWlzc2luZ1Byb21wdEluZGljZXMiLCJwcm9tcHRJbmRleCIsInByZWRpY3Rpb24iLCJvcGVuYWkkMSIsIkxMTSIsIndyYXBPcGVuQUlDbGllbnRFcnJvciIsIk9wZW5BSUNoYXQiLCJjb25maWd1cmF0aW9uIiwiX2giLCJfZyIsImNob2ljZSIsImRlbHRhIiwiZ2VuZXJhdGlvbkNodW5rIiwibmV3VG9rZW5JbmRpY2VzIiwicmVxdWVzdE9wdGlvbnMiLCJvcGVuQUlFbmRwb2ludENvbmZpZyIsIk9wZW5BSUNsaWVudCIsIl9pIiwiX2oiLCJzdWJQcm9tcHRzIiwiY2hvaWNlcyIsInRva2VuVXNhZ2UiLCJjb21wbGV0aW9uVG9rZW5zIiwicHJvbXB0VG9rZW5zIiwidG90YWxUb2tlbnMiLCJwcm9tcHRDaG9pY2VzIiwiRG9jdW1lbnQiLCJleGFtcGxlU3RyaW5ncyIsImV4YW1wbGUiLCJleGFtcGxlX3Byb21wdCIsImV4YW1wbGVQcm9tcHQiLCJTVEVNTUVSUyIsIlNQTElUVEVSUyIsIlNVUFBPUlRFRF9MQU5HVUFHRVMiLCJiYXNlSWQiLCJsYXN0SWQiLCJuYW5vIiwibWlsbGkiLCJzZWNvbmQiLCJNQVhfQVJHVU1FTlRfRk9SX1NUQUNLIiwic2FmZUFycmF5UHVzaCIsIm5ld0FyciIsInNwcmludGYiLCJyZXBsYWNlQXJncyIsImdyb3VwcyIsInJhd1dpZHRoIiwicG9zaXRpb24iLCJyZXBsYWNlbWVudCIsIndpZHRoIiwicGFkZGluZyIsInByZWNpc2lvbiIsImZvcm1hdE5hbm9zZWNvbmRzIiwiZ2V0TmFub3NlY29uZHNUaW1lIiwidW5pcXVlSWQiLCJnZXRPd25Qcm9wZXJ0eSIsIm9iamVjdCIsInByb3BlcnR5Iiwic29ydFRva2VuU2NvcmVQcmVkaWNhdGUiLCJpbnRlcnNlY3QiLCJhcnJheXMiLCJmb3VuZCIsImdldERvY3VtZW50UHJvcGVydGllcyIsImRvYyIsInBhdGhzIiwicHJvcGVydGllcyIsInBhdGhzTGVuZ3RoIiwicGF0aFRva2VucyIsInBhdGhUb2tlbnNMZW5ndGgiLCJnZXROZXN0ZWQiLCJtYXBEaXN0YW5jZVRvTWV0ZXJzIiwiY29udmVydERpc3RhbmNlVG9NZXRlcnMiLCJkaXN0YW5jZSIsInVuaXQiLCJyYXRpbyIsImNyZWF0ZUVycm9yIiwiYWxsTGFuZ3VhZ2VzIiwiZXJyb3JzIiwiZm9ybWF0RWxhcHNlZFRpbWUiLCJnZXREb2N1bWVudEluZGV4SWQiLCJ2YWxpZGF0ZVNjaGVtYSIsInNjaGVtYSIsInZhbHVlTGVuZ3RoIiwiaXNWZWN0b3JUeXBlIiwidmVjdG9yU2l6ZSIsImdldFZlY3RvclNpemUiLCJpc0FycmF5VHlwZSIsImV4cGVjdGVkVHlwZSIsImdldElubmVyVHlwZSIsInN1YlByb3AiLCJJU19BUlJBWV9UWVBFIiwiSU5ORVJfVFlQRSIsImlzR2VvUG9pbnRUeXBlIiwic2l6ZSIsImNyZWF0ZUludGVybmFsRG9jdW1lbnRJRFN0b3JlIiwic2F2ZSIsImxvYWQiLCJvcmFtYSIsInJhdyIsImludGVybmFsSWRUb0lkIiwiZ2V0SW50ZXJuYWxEb2N1bWVudElkIiwiaW50ZXJuYWxJZCIsImN1cnJlbnRJZCIsImdldERvY3VtZW50SWRGcm9tSW50ZXJuYWxJZCIsImNyZWF0ZSIsInNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSIsImdldCIsImdldE11bHRpcGxlIiwiaWRzIiwiZ2V0QWxsIiwicmVtb3ZlIiwicmF3RG9jdW1lbnQiLCJjcmVhdGVEb2N1bWVudHNTdG9yZSIsIkFWQUlMQUJMRV9QTFVHSU5fSE9PS1MiLCJnZXRBbGxQbHVnaW5zQnlIb29rIiwiaG9vayIsIl9vcmFtYV9wbHVnaW5zIiwicGx1Z2luc1RvUnVuIiwicGx1Z2luc0xlbmd0aCIsInBsdWdpbiIsIk9CSkVDVF9DT01QT05FTlRTIiwiRlVOQ1RJT05fQ09NUE9ORU5UUyIsInJ1blNpbmdsZUhvb2siLCJob29rcyIsImhvb2tzTGVuZ3RoIiwicnVuTXVsdGlwbGVIb29rIiwiZG9jc09ySWRzIiwicnVuQWZ0ZXJTZWFyY2giLCJkYiIsImxhbmd1YWdlIiwicnVuQmVmb3JlU2VhcmNoIiwiQkFMQU5DRV9TVEFURSIsImdldEhlaWdodCIsInJvdGF0ZUxlZnQiLCJyb3RhdGVSaWdodCIsInJhbmdlU2VhcmNoIiwibWluIiwibWF4IiwidHJhdmVyc2UiLCJncmVhdGVyVGhhbiIsImluY2x1c2l2ZSIsImxlc3NUaGFuIiwiZ2V0Tm9kZUJ5S2V5IiwibmV3Tm9kZSIsImJhbGFuY2VGYWN0b3IiLCJnZXROb2RlUGFyZW50IiwiZmluZCIsInBhcmVudE5vZGUiLCJtaW5WYWx1ZU5vZGUiLCJtaW5WYWx1ZVBhcmVudCIsImNoaWxkTm9kZSIsInJlbW92ZURvY3VtZW50IiwiX3Jvb3RfbnVtYmVyVG9Eb2N1bWVudElkX2dldCIsIl9yb290X251bWJlclRvRG9jdW1lbnRJZF9nZXQxIiwib3BlcmF0aW9uS2V5cyIsIm9wZXJhdGlvblR5cGUiLCJmaWx0ZXJBcnIiLCJfYm91bmRlZExldmVuc2h0ZWluIiwidG9sZXJhbmNlIiwic3dhcCIsImxlbkEiLCJsZW5CIiwic3RhcnRJZHgiLCJyb3ciLCJjaGFyYWN0ZXJDb2RlQ2FjaGUiLCJoYXZlTWF4IiwialN0YXJ0IiwiakVuZCIsImFib3ZlIiwiY2hhckEiLCJzeW5jQm91bmRlZExldmVuc2h0ZWluIiwiTm9kZSIsInN1YldvcmQiLCJ1cGRhdGVQYXJlbnQiLCJhZGREb2N1bWVudCIsImRvY0lEIiwiZmluZEFsbFdvcmRzIiwidGVybSIsImV4YWN0IiwiZG9jSURzIiwiZG9jcyIsImRvY0lEc0xlbmd0aCIsImdldENvbW1vblByZWZpeCIsImNvbW1vblByZWZpeCIsIndvcmQiLCJkb2NJZCIsImN1cnJlbnRDaGFyYWN0ZXIiLCJ3b3JkQXRJbmRleCIsInJvb3RDaGlsZEN1cnJlbnRDaGFyIiwiZWRnZUxhYmVsIiwiZWRnZUxhYmVsTGVuZ3RoIiwiY29tbW9uUHJlZml4TGVuZ3RoIiwiZWRnZUxhYmVsQXRDb21tb25QcmVmaXgiLCJuZXdOb2RlQ2hpbGQiLCJpbmJldHdlZW5Ob2RlIiwiaW5iZXR3ZWVuTm9kZUNoaWxkIiwid29yZEF0Q29tbW9uUHJlZml4IiwiX2ZpbmRMZXZlbnNodGVpbiIsIm9yaWdpbmFsVG9sZXJhbmNlIiwidGVybVN1YnN0cmluZyIsInJlbW92ZURvY3VtZW50QnlXb3JkIiwiSyIsIkVBUlRIX1JBRElVUyIsInBvaW50IiwiZGVwdGgiLCJuZXdEb2NJRHMiLCJyZW1vdmVEb2NCeUlEIiwiZGlyZWN0aW9uIiwiX25vZGVfZG9jSURzIiwiX25vZGVfZG9jSURzMSIsImF4aXMiLCJzZWFyY2hCeVJhZGl1cyIsImNlbnRlciIsInJhZGl1cyIsInNvcnQiLCJoaWdoUHJlY2lzaW9uIiwiZGlzdGFuY2VGbiIsInZpbmNlbnR5RGlzdGFuY2UiLCJoYXZlcnNpbmVEaXN0YW5jZSIsInN0YWNrIiwiZGlzdEEiLCJkaXN0QiIsInNlYXJjaEJ5UG9seWdvbiIsInBvbHlnb24iLCJ0YXNrIiwibmV4dERlcHRoIiwiaXNJbnNpZGVQb2x5Z29uIiwiaXNQb2ludEluUG9seWdvbiIsImNlbnRyb2lkIiwiY2FsY3VsYXRlUG9seWdvbkNlbnRyb2lkIiwic29ydEZuIiwidG90YWxBcmVhIiwiY2VudHJvaWRYIiwiY2VudHJvaWRZIiwieGkiLCJ5aSIsInhqIiwieWoiLCJhcmVhU2VnbWVudCIsImlzSW5zaWRlIiwiY29vcmQxIiwiY29vcmQyIiwiUCIsImxhdDEiLCJsYXQyIiwiZGVsdGFMYXQiLCJkZWx0YUxvbiIsIlUxIiwiVTIiLCJzaW5VMSIsImNvc1UxIiwic2luVTIiLCJjb3NVMiIsImxhbWJkYSIsInByZXZMYW1iZGEiLCJpdGVyYXRpb25MaW1pdCIsInNpbkFscGhhIiwiY29zMkFscGhhIiwic2luU2lnbWEiLCJjb3NTaWdtYSIsInNpZ21hIiwic2luTGFtYmRhIiwiY29zTGFtYmRhIiwiY29zMlNpZ21hTSIsInUyIiwiQSIsImRlbHRhU2lnbWEiLCJwcmlvcml0aXplVG9rZW5TY29yZXMiLCJib29zdCIsInRocmVzaG9sZCIsImtleXdvcmRzQ291bnQiLCJ0b2tlblNjb3Jlc01hcCIsInRva2VuS2V5d29yZHNDb3VudE1hcCIsIm1hcHNMZW5ndGgiLCJlbnRyaWVzTGVuZ3RoIiwiYm9vc3RTY29yZSIsIm9sZFNjb3JlIiwidG9rZW5TY29yZXMiLCJ0b2tlblNjb3JlRW50cnkiLCJhbGxSZXN1bHRzIiwidG9rZW5LZXl3b3Jkc0NvdW50IiwidG9rZW5LZXl3b3Jkc0NvdW50RW50cnkiLCJrZXl3b3Jkc1BlclRva2VuIiwibGFzdFRva2VuV2l0aEFsbEtleXdvcmRzIiwidGhyZXNob2xkTGVuZ3RoIiwiQk0yNSIsInRmIiwibWF0Y2hpbmdDb3VudCIsImRvY3NDb3VudCIsImZpZWxkTGVuZ3RoIiwiYXZlcmFnZUZpZWxkTGVuZ3RoIiwiQk0yNVBhcmFtcyIsImdldE1hZ25pdHVkZSIsInZlY3RvciIsInZlY3Rvckxlbmd0aCIsIm1hZ25pdHVkZSIsImZpbmRTaW1pbGFyVmVjdG9ycyIsInRhcmdldFZlY3RvciIsInZlY3RvcnMiLCJ0YXJnZXRNYWduaXR1ZGUiLCJzaW1pbGFyVmVjdG9ycyIsInZlY3RvcklkIiwiZG90UHJvZHVjdCIsInNpbWlsYXJpdHkiLCJpbnNlcnREb2N1bWVudFNjb3JlUGFyYW1ldGVycyIsImluc2VydFRva2VuU2NvcmVQYXJhbWV0ZXJzIiwidG9rZW5GcmVxdWVuY3kiLCJyZW1vdmVEb2N1bWVudFNjb3JlUGFyYW1ldGVycyIsInJlbW92ZVRva2VuU2NvcmVQYXJhbWV0ZXJzIiwiY2FsY3VsYXRlUmVzdWx0U2NvcmVzIiwiZG9jdW1lbnRJRHMiLCJhdmdGaWVsZExlbmd0aCIsImZpZWxkTGVuZ3RocyIsIm9yYW1hT2NjdXJyZW5jZXMiLCJvcmFtYUZyZXF1ZW5jaWVzIiwidGVybU9jY3VycmVuY2VzIiwic2NvcmVMaXN0IiwiZG9jdW1lbnRJRHNMZW5ndGgiLCJfb3JhbWFGcmVxdWVuY2llc19pbnRlcm5hbElkIiwiYm0yNSIsImlzQXJyYXkiLCJhdmxDcmVhdGUiLCJyYWRpeENyZWF0ZSIsImZsYXRDcmVhdGUiLCJia2RDcmVhdGUiLCJpbnNlcnRTY2FsYXIiLCJpbXBsZW1lbnRhdGlvbiIsInNjaGVtYVR5cGUiLCJ0b2tlbml6ZXIiLCJhdmxJbnNlcnQiLCJyYWRpeEluc2VydCIsImZsYXRJbnNlcnQiLCJia2RJbnNlcnQiLCJpbnNlcnRWZWN0b3IiLCJpbm5lclNjaGVtYVR5cGUiLCJlbGVtZW50cyIsImVsZW1lbnRzTGVuZ3RoIiwicmVtb3ZlU2NhbGFyIiwiYXZsUmVtb3ZlRG9jdW1lbnQiLCJyYWRpeFJlbW92ZURvY3VtZW50IiwiZmxhdFJlbW92ZURvY3VtZW50IiwiYmtkUmVtb3ZlRG9jQnlJRCIsInNlYXJjaCIsInNlYXJjaFJlc3VsdCIsInJhZGl4RmluZCIsInNlYXJjaEJ5V2hlcmVDbGF1c2UiLCJmaWx0ZXJzIiwiZmlsdGVyS2V5cyIsImZpbHRlcnNNYXAiLCJwYXJhbSIsImZpbHRlcmVkSURzIiwicmVxT3BlcmF0aW9uIiwiY29vcmRpbmF0ZXMiLCJpbnNpZGUiLCJkaXN0YW5jZUluTWV0ZXJzIiwiZmlsdGVyZWRJRHNSZXN1bHRzIiwiZmxhdEZpbHRlckFyciIsImZsYXRGaWx0ZXIiLCJvcGVyYXRpb25PcHQiLCJvcGVyYXRpb25WYWx1ZSIsImF2bEdyZWF0ZXJUaGFuIiwiYXZsTGVzc1RoYW4iLCJhdmxGaW5kIiwiYXZsUmFuZ2VTZWFyY2giLCJnZXRTZWFyY2hhYmxlUHJvcGVydGllcyIsImdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzIiwibG9hZFJhZGl4Tm9kZSIsImNvbnZlcnRlZE5vZGUiLCJjaGlsZHJlbktleSIsImxvYWRGbGF0Tm9kZSIsInNhdmVGbGF0Tm9kZSIsInJhd0luZGV4ZXMiLCJyYXdWZWN0b3JJbmRleGVzIiwic2VhcmNoYWJsZVByb3BlcnRpZXMiLCJzZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyIsImZyZXF1ZW5jaWVzIiwidG9rZW5PY2N1cnJlbmNlcyIsImluZGV4ZXMiLCJ2ZWN0b3JJbmRleGVzIiwidmVjIiwidmVjdG9ySW5kZXhlc0FzQXJyYXlzIiwic2F2ZWRJbmRleGVzIiwiY3JlYXRlSW5kZXgiLCJpbm5lckNyZWF0ZSIsInNvcnRhYmxlRGVuaWVkUHJvcGVydGllcyIsInNvcnRlciIsImVuc3VyZUlzU29ydGVkIiwiZW5zdXJlUHJvcGVydHlJc1NvcnRlZCIsInN0cmluZ1NvcnQiLCJudW1iZXJTb3J0IiwiYm9vbGVhblNvcnQiLCJwcmVkaWNhdGUiLCJvcmRlcmVkRG9jc0xlbmd0aCIsImVuc3VyZU9yZGVyZWREb2NzQXJlRGVsZXRlZCIsImVuc3VyZU9yZGVyZWREb2NzQXJlRGVsZXRlZEJ5UHJvcGVydHkiLCJzb3J0QnkiLCJkb2NJZHMiLCJieSIsImlzRGVzYyIsImluZGV4T2ZBIiwiaW5kZXhPZkIiLCJpc0FJbmRleGVkIiwiaXNCSW5kZXhlZCIsImdldFNvcnRhYmxlUHJvcGVydGllcyIsImdldFNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlcyIsInNvcnRzIiwib3JkZXJlZERvY3MiLCJjcmVhdGVTb3J0ZXIiLCJESUFDUklUSUNTX0NIQVJDT0RFX1NUQVJUIiwiRElBQ1JJVElDU19DSEFSQ09ERV9FTkQiLCJDSEFSQ09ERV9SRVBMQUNFX01BUFBJTkciLCJyZXBsYWNlQ2hhciIsInJlcGxhY2VEaWFjcml0aWNzIiwic3RyaW5nQ2hhckNvZGUiLCJzdGVwMkxpc3QiLCJzdGVwM0xpc3QiLCJWIiwibWdyMCIsIm1lcTEiLCJtZ3IxIiwic192Iiwic3RlbW1lciIsInN0ZW0iLCJyZSIsInJlMiIsInJlMyIsInJlNCIsImZpcnN0Y2giLCJmcCIsIm5vcm1hbGl6ZVRva2VuIiwiX3RoaXNfc3RvcFdvcmRzIiwidHJpbSIsInRva2VuaXplIiwic3BsaXRSdWxlIiwidHJpbVRva2VucyIsImNyZWF0ZVRva2VuaXplciIsImVuZ2xpc2giLCJzdG9wV29yZHMiLCJ2YWxpZGF0ZUNvbXBvbmVudHMiLCJjb21wb25lbnRzIiwiZGVmYXVsdENvbXBvbmVudHMiLCJyYXdLZXkiLCJwbHVnaW5zIiwiZG9jdW1lbnRzU3RvcmUiLCJpbnRlcm5hbERvY3VtZW50U3RvcmUiLCJrSW5zZXJ0aW9ucyIsImtSZW1vdmFscyIsIl9nbG9iYWxUaGlzX3Byb2Nlc3MiLCJ3YXJuIiwidHJhY2tJbnNlcnRpb24iLCJ0cmFja1JlbW92YWwiLCJza2lwSG9va3MiLCJlcnJvclByb3BlcnR5IiwiaW5uZXJJbnNlcnQiLCJpbmRleGFibGVQcm9wZXJ0aWVzIiwiaW5kZXhhYmxlUHJvcGVydGllc1dpdGhUeXBlcyIsImluZGV4YWJsZVZhbHVlcyIsImFjdHVhbFR5cGUiLCJfb3JhbWFfaW5kZXgiLCJfb3JhbWFfaW5kZXhfYmVmb3JlSW5zZXJ0IiwiX29yYW1hX2luZGV4MSIsIl9vcmFtYV9pbmRleF9hZnRlckluc2VydCIsInNvcnRhYmxlUHJvcGVydGllcyIsInNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlcyIsInNvcnRhYmxlVmFsdWVzIiwiaW5zZXJ0TXVsdGlwbGUiLCJiYXRjaFNpemUiLCJkb2NzTGVuZ3RoIiwiaW5uZXJJbnNlcnRNdWx0aXBsZSIsIl9pbnNlcnRNdWx0aXBsZSIsImJhdGNoIiwiX29yYW1hX2luZGV4X2JlZm9yZVJlbW92ZSIsIl9vcmFtYV9pbmRleF9hZnRlclJlbW92ZSIsInJlbW92ZU11bHRpcGxlIiwiZG9jSWRzRm9ySG9va3MiLCJzb3J0aW5nUHJlZGljYXRlIiwib3JkZXIiLCJnZXRGYWNldHMiLCJmYWNldHNDb25maWciLCJmYWNldHMiLCJhbGxJRHMiLCJhbGxEb2NzIiwiZmFjZXRLZXlzIiwiZmFjZXQiLCJyYW5nZXMiLCJyYW5nZSIsImFsbERvY3NMZW5ndGgiLCJmYWNldFZhbHVlIiwicHJvcGVydHlUeXBlIiwiY2FsY3VsYXRlTnVtYmVyRmFjZXQiLCJhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMiLCJjYWxjdWxhdGVCb29sZWFuU3RyaW5nT3JFbnVtRmFjZXQiLCJpbm5lclR5cGUiLCJzdHJpbmdGYWNldERlZmluaXRpb24iLCJpbnRlcnNlY3RGaWx0ZXJlZElEcyIsImxvb2tlZFVwIiwiREVGQVVMVF9SRURVQ0UiLCJBTExPV0VEX1RZUEVTIiwiZ2V0R3JvdXBzIiwiZ3JvdXBCeSIsInByb3BlcnRpZXNMZW5ndGgiLCJzY2hlbWFQcm9wZXJ0aWVzIiwicmV0dXJuZWRDb3VudCIsImxpc3RPZlZhbHVlcyIsImdyb3VwQnlLZXkiLCJrZXlWYWx1ZSIsImNvbWJpbmF0aW9ucyIsImNhbGN1bGF0ZUNvbWJpbmF0aW9uIiwiY29tYmluYXRpb25zTGVuZ3RoIiwiY29tYmluYXRpb24iLCJjb21iaW5hdGlvbkxlbmd0aCIsImdyb3Vwc0xlbmd0aCIsInJlZHVjZSIsImluaXRpYWxWYWx1ZSIsImFnZ3JlZ2F0aW9uVmFsdWUiLCJhcnJzIiwiaGVhZCIsImRlZmF1bHRCTTI1UGFyYW1zIiwiY3JlYXRlU2VhcmNoQ29udGV4dCIsInRpbWVTdGFydCIsImluZGV4TWFwIiwiZG9jc0ludGVyc2VjdGlvbiIsInRva2Vuc01hcCIsInNob3VsZENhbGN1bGF0ZUZhY2V0cyIsImRpc3RpbmN0T24iLCJpc1ByZWZsaWdodCIsInByb3BlcnRpZXNUb1NlYXJjaCIsInByb3BlcnRpZXNUb1NlYXJjaFdpdGhUeXBlcyIsImhhc0ZpbHRlcnMiLCJ3aGVyZUZpbHRlcnNJRHMiLCJ0b2tlbnNMZW5ndGgiLCJpbmRleGVzTGVuZ3RoIiwiX3BhcmFtc19ib29zdCIsInZhbHMiLCJ1bmlxdWVEb2NzIiwidW5pcXVlRG9jc0xlbmd0aCIsInByZXZTY29yZSIsInVuaXF1ZURvY3NBcnJheSIsImRvY3NXaXRoSWRBbmRTY29yZSIsImZldGNoRG9jdW1lbnRzV2l0aERpc3RpbmN0IiwiZmV0Y2hEb2N1bWVudHMiLCJyZXN1bHRJRHMiLCJ1bmlxdWVEb2NzQXJyYXlMZW5ndGgiLCJpZEFuZFNjb3JlIiwiZnVsbERvYyIsInNlYXJjaFZlY3RvciIsImluY2x1ZGVWZWN0b3JzIiwidmVjdG9ySW5kZXgiLCJvcmlnaW5hbElEIiwibmV3RG9jIiwiZWxhcHNlZFRpbWUiLCJVSU5UMzJfTUFYIiwic2V0VWludDY0IiwidmlldyIsImhpZ2giLCJsb3ciLCJzZXRJbnQ2NCIsImdldEludDY0IiwiZ2V0VWludDY0IiwiVEVYVF9FTkNPRElOR19BVkFJTEFCTEUiLCJ1dGY4Q291bnQiLCJzdHJMZW5ndGgiLCJwb3MiLCJ1dGY4RW5jb2RlSnMiLCJvdXRwdXRPZmZzZXQiLCJzaGFyZWRUZXh0RW5jb2RlciIsIlRFWFRfRU5DT0RFUl9USFJFU0hPTEQiLCJ1dGY4RW5jb2RlVEVlbmNvZGUiLCJ1dGY4RW5jb2RlVEVlbmNvZGVJbnRvIiwidXRmOEVuY29kZVRFIiwiQ0hVTktfU0laRSIsInV0ZjhEZWNvZGVKcyIsImlucHV0T2Zmc2V0IiwidW5pdHMiLCJieXRlMSIsImJ5dGUyIiwiYnl0ZTMiLCJieXRlNCIsInNoYXJlZFRleHREZWNvZGVyIiwiVEVYVF9ERUNPREVSX1RIUkVTSE9MRCIsInV0ZjhEZWNvZGVURCIsInN0cmluZ0J5dGVzIiwiRXh0RGF0YSIsIl9fZXh0ZW5kcyIsImV4dGVuZFN0YXRpY3MiLCJfXyIsIkRlY29kZUVycm9yIiwiX3N1cGVyIiwiX3RoaXMiLCJwcm90byIsIkVYVF9USU1FU1RBTVAiLCJUSU1FU1RBTVAzMl9NQVhfU0VDIiwiVElNRVNUQU1QNjRfTUFYX1NFQyIsImVuY29kZVRpbWVTcGVjVG9UaW1lc3RhbXAiLCJzZWMiLCJuc2VjIiwicnYiLCJzZWNIaWdoIiwic2VjTG93IiwiZW5jb2RlRGF0ZVRvVGltZVNwZWMiLCJkYXRlIiwibXNlYyIsIm5zZWNJblNlYyIsImVuY29kZVRpbWVzdGFtcEV4dGVuc2lvbiIsInRpbWVTcGVjIiwiZGVjb2RlVGltZXN0YW1wVG9UaW1lU3BlYyIsIm5zZWMzMEFuZFNlY0hpZ2gyIiwic2VjTG93MzIiLCJkZWNvZGVUaW1lc3RhbXBFeHRlbnNpb24iLCJ0aW1lc3RhbXBFeHRlbnNpb24iLCJFeHRlbnNpb25Db2RlYyIsImVuY29kZSIsImRlY29kZSIsImVuY29kZUV4dCIsImRlY29kZUV4dCIsImVuc3VyZVVpbnQ4QXJyYXkiLCJidWZmZXIiLCJjcmVhdGVEYXRhVmlldyIsImJ1ZmZlclZpZXciLCJERUZBVUxUX01BWF9ERVBUSCIsIkRFRkFVTFRfSU5JVElBTF9CVUZGRVJfU0laRSIsIkVuY29kZXIiLCJleHRlbnNpb25Db2RlYyIsIm1heERlcHRoIiwiaW5pdGlhbEJ1ZmZlclNpemUiLCJzb3J0S2V5cyIsImZvcmNlRmxvYXQzMiIsImlnbm9yZVVuZGVmaW5lZCIsImZvcmNlSW50ZWdlclRvRmxvYXQiLCJzaXplVG9Xcml0ZSIsInJlcXVpcmVkU2l6ZSIsIm5ld1NpemUiLCJuZXdCdWZmZXIiLCJuZXdCeXRlcyIsIm5ld1ZpZXciLCJtYXhIZWFkZXJTaXplIiwiZXh0Iiwib2JqZWN0XzEiLCJrZXlzXzEiLCJrZXlzXzIiLCJkZWZhdWx0RW5jb2RlT3B0aW9ucyIsImVuY29kZXIiLCJwcmV0dHlCeXRlIiwiYnl0ZSIsIkRFRkFVTFRfTUFYX0tFWV9MRU5HVEgiLCJERUZBVUxUX01BWF9MRU5HVEhfUEVSX0tFWSIsIkNhY2hlZEtleURlY29kZXIiLCJtYXhLZXlMZW5ndGgiLCJtYXhMZW5ndGhQZXJLZXkiLCJyZWNvcmRzIiwiRklORF9DSFVOSyIsInJlY29yZHNfMSIsInJlY29yZCIsInJlY29yZEJ5dGVzIiwiY2FjaGVkVmFsdWUiLCJzbGljZWRDb3B5T2ZCeXRlcyIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiYWRvcHQiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsIl9fZ2VuZXJhdG9yIiwidmVyYiIsIl9fYXN5bmNWYWx1ZXMiLCJzZXR0bGUiLCJfX2F3YWl0IiwiX19hc3luY0dlbmVyYXRvciIsInEiLCJyZXN1bWUiLCJmdWxmaWxsIiwiaXNWYWxpZE1hcEtleVR5cGUiLCJrZXlUeXBlIiwiSEVBRF9CWVRFX1JFUVVJUkVEIiwiRU1QVFlfVklFVyIsIkVNUFRZX0JZVEVTIiwiRGF0YVZpZXdJbmRleE91dE9mQm91bmRzRXJyb3IiLCJNT1JFX0RBVEEiLCJzaGFyZWRDYWNoZWRLZXlEZWNvZGVyIiwiRGVjb2RlciIsIm1heFN0ckxlbmd0aCIsIm1heEJpbkxlbmd0aCIsIm1heEFycmF5TGVuZ3RoIiwibWF4TWFwTGVuZ3RoIiwibWF4RXh0TGVuZ3RoIiwia2V5RGVjb2RlciIsInJlbWFpbmluZ0RhdGEiLCJuZXdEYXRhIiwicG9zVG9TaG93Iiwic3RyZWFtXzEiLCJzdHJlYW1fMV8xIiwiZV8xIiwiZGVjb2RlZCIsImVfMV8xIiwiaGVhZEJ5dGUiLCJ0b3RhbFBvcyIsImlzQXJyYXlIZWFkZXJSZXF1aXJlZCIsImFycmF5SXRlbXNMZWZ0Iiwic3RyZWFtXzIiLCJzdHJlYW1fMl8xIiwiZV8yIiwiZV8zXzEiLCJlXzMiLCJERUNPREUiLCJoZWFkZXJPZmZzZXQiLCJoZWFkT2Zmc2V0IiwiZXh0VHlwZSIsImRlZmF1bHREZWNvZGVPcHRpb25zIiwiZGVjb2RlciIsIlBST1BFUlRZX0NPREUiLCJUWVBFX0NPREUiLCJTVFJJTkdfQ09ERSIsIk5VTUJFUl9DT0RFIiwiU0VRVUVOQ0VfQ09ERSIsIk5VTEwiLCJGQUxTRSIsIlRSVUUiLCJVTkRFRklORUQiLCJERUZBVUxUX1RZUEUiLCJBUlJBWV9UWVBFIiwiUkVGRVJFTkNJTkdfVFlQRSIsIk5VTUJFUl9UWVBFIiwiTUVUQURBVEFfVFlQRSIsIlJFRkVSRU5DSU5HX1BPU0lUSU9OIiwiRVJST1JfTUVUQURBVEEiLCJPUEVOX1NFUVVFTkNFIiwiRU5EX1NFUVVFTkNFIiwiREVGRVJSRURfUkVGRVJFTkNFIiwibmV4dElkIiwiaXRlcmF0b3JTeW1ib2wiLCJjcmVhdGVTZXJpYWxpemVyIiwiZXh0ZW5kZWRUeXBlcyIsIndyaXRlTWFwIiwid3JpdGVTZXQiLCJ3cml0ZURhdGUiLCJjaGFyRW5jb2RlciIsImdsb2JhbCIsImJyb3dzZXJDaGFyRW5jb2RlciIsIndyaXRlU3RyaW5nIiwid3JpdGVUb2tlbiIsInN0YXJ0U2VxdWVuY2UiLCJlbmRTZXF1ZW5jZSIsIndyaXRlQnVmZmVyIiwicHJvcGVydHlVc2VkIiwicGVuZGluZ0VuY29kaW5ncyIsImJ1ZmZlclN5bWJvbCIsInRhcmdldFN5bWJvbCIsInNlcmlhbGl6ZXJJZCIsIndyaXRlcnMiLCJ3cml0ZUFzRGVmYXVsdCIsIndyaXRlQXNBcnJheSIsIndyaXRlQXNSZWZlcmVuY2luZyIsIndyaXRlQXNOdW1iZXIiLCJ3cml0ZU9ubHlOdWxsIiwid3JpdGVOdW1iZXIiLCJudW1iZXIiLCJ3cml0ZUlubGluZVN0cmluZyIsInJlZmVyZW5jZSIsImFzU3RyaW5nIiwid3JpdGVUeXBlZFZhbHVlIiwid3JpdGVUeXBlZE5vbkNvbnN0YW50IiwiZXh0ZW5kZWRUeXBlIiwiY29uc3RydWN0b3IiLCJ3cml0ZVByb3BlcnR5IiwiaXNSb290Iiwibm90UGxhaW5PYmplY3QiLCJ3cml0ZUJsb2NrUmVmZXJlbmNlIiwid3JpdGVBc0l0ZXJhYmxlIiwidGhpc1Byb3BlcnR5IiwicmVzdW1lSW5kZXgiLCJwcm9wZXJ0eUluZGV4IiwibGFzdFByb3BlcnR5SW5kZXgiLCJpdGVyYXRvciIsImFycmF5UHJvcGVydHkiLCJuZWVkc0Nsb3NpbmciLCJ3cml0ZXIiLCJibG9ja1Byb3BlcnR5IiwibGF6eVByb21pc2UiLCJ0aGVuIiwibGFzdFBlbmRpbmdFbmNvZGluZ3MiLCJzZXJpYWxpemVyIiwic2hhcmVkUHJvcGVydHkiLCJwcm9taXNlcyIsImZpbmlzaGVkIiwic2VyaWFsaXplIiwic2l6ZVRhYmxlIiwic2VyaWFsaXplZFRva2VuIiwiZ2V0U2VyaWFsaXplZCIsIkFycmF5RnJvbSIsImtleVZhbHVlcyIsIlRZUEVfREVGSU5JVElPTiIsImNyZWF0ZVBhcnNlciIsInNvdXJjZSIsImlzUGFydGlhbCIsImNsYXNzQnlOYW1lIiwicmVhZE1hcCIsInJlYWRTZXQiLCJyZWFkRGF0ZSIsInBhdXNlZFN0YXRlIiwiZGVmZXJyZWRSZWFkcyIsInBhdXNlIiwibGFzdFJlYWQiLCJwYXJzZXIiLCJuZXh0U3RyaW5nIiwiaXNQYXJ0aWFsU3RyaW5nIiwicmVidWlsZFN0cmluZyIsInJlc3VtZVN0YXRlIiwiZGlzcG9zZWRDaGFycyIsInJlYWRTZXF1ZW5jZSIsInByb3BlcnR5U3RhdGUiLCJvbkVycm9yIiwibm9uUGFyc2luZ0Vycm9yIiwicHJldmlvdXMiLCJkZWZlcnJlZFJlYWQiLCJwYXJlbnREZWZlcnJlZFJlYWRzIiwidGFyZ2V0UHJvcGVydHkiLCJzdGFydE9mZnNldCIsInBhcnNlIiwic3RyaW5nT3JCdWZmZXIiLCJlbnRyaWVzIiwidGltZSIsIlBSRUZFUlJFRF9NQVhfQlVGRkVSX1NJWkUiLCJhdmFpbGFibGVCdWZmZXJzIiwibm9kZUNoYXJFbmNvZGVyIiwiYnVmZmVyU2l6ZSIsIm91dGxldCIsInNlcXVlbmNlcyIsIm1ha2VSb29tIiwiYnl0ZXNOZWVkZWQiLCJvbGRCdWZmZXIiLCJzcGVjaWZpZWRPdXRsZXQiLCJzb3VyY2VMZW5ndGgiLCJtYXhTdHJpbmdMZW5ndGgiLCJieXRlc1dyaXR0ZW4iLCJpbnNlcnRCdWZmZXIiLCJoZWFkZXJCdWZmZXIiLCJoZWFkZXJMZW5ndGgiLCJjdXJyZW50T2Zmc2V0IiwibmV3T2Zmc2V0Iiwibm9kZUVuY29kZXIiLCJPcHRpb25zIiwiQ2xhc3MiLCJtYWtlU3ltYm9sIiwic2l6ZVRhYmxlU3ltYm9sIiwic2VyaWFsaXplTW9kdWxlIiwicmVxdWlyZSQkMyIsInJlcXVpcmUkJDQiLCJzZXJpYWxpemVfMSIsInBhcnNlXzEiLCJVTlNVUFBPUlRFRF9GT1JNQVQiLCJmb3JtYXQiLCJkZXRlY3RSdW50aW1lIiwiaGV4RnJvbU1hcCIsImhleFRvTWFwIiwic2xvd0hleFRvQnVmZmVyIiwic2xvd0hleFRvU3RyaW5nIiwicGVyc2lzdCIsInJ1bnRpbWUiLCJkYkV4cG9ydCIsImRwYWNrLnNlcmlhbGl6ZSIsIm1zZ3BhY2siLCJyZXN0b3JlIiwiZGVzZXJpYWxpemVkIiwiZHBhY2sucGFyc2UiLCJCYXNlUmV0cmlldmVyIiwiX3F1ZXJ5IiwiX2NhbGxiYWNrcyIsInBhcnNlZENvbmZpZyIsIlZlY3RvclN0b3JlUmV0cmlldmVyIiwiVmVjdG9yU3RvcmUiLCJlbWJlZGRpbmdzIiwiZGJDb25maWciLCJfcGFyYW1zIiwiX3RleHRzIiwiX21ldGFkYXRhcyIsIl9lbWJlZGRpbmdzIiwiX2RiQ29uZmlnIiwiX2RvY3MiLCJrT3JGaWVsZHMiLCJ2ZXJib3NlIiwiT3BlbkFJRW1iZWRkaW5ncyIsImZpZWxkc1dpdGhEZWZhdWx0cyIsImF6dXJlQXBpS2V5IiwiYXp1cmVBcGlJbnN0YW5jZU5hbWUiLCJhenVyZUFwaURlcGxveW1lbnROYW1lIiwiYXp1cmVBcGlWZXJzaW9uIiwidGV4dHMiLCJiYXRjaGVzIiwiYmF0Y2hSZXF1ZXN0cyIsImJhdGNoUmVzcG9uc2VzIiwiYmF0Y2hSZXNwb25zZSIsIkJhc2VMTE1PdXRwdXRQYXJzZXIiLCJfcHJvbXB0IiwiQmFzZU91dHB1dFBhcnNlciIsIkJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXIiLCJTdHJpbmdPdXRwdXRQYXJzZXIiLCJ2ZWN0b3JTdG9yZVNjaGVtYSIsIk9yYW1hU3RvcmUiLCJmaWxlbmFtZXNUb1VwZGF0ZSIsImZpbGVuYW1lIiwidmVjdG9yc1RvVXBkYXRlIiwiaGl0IiwidmVjdG9yU3RvcmVKc29uIiwiU2Vjb25kQnJhaW4iLCJvYnNpZGlhbkRvY3VtZW50TG9hZGVyIiwib2JzaWRpYW5BcHAiLCJmaWxlcyIsImZpbGVNZXRhZGF0YSIsInBhZ2VDb250ZW50IiwiaGVhZGVyQ291bnQiLCJub3RlQ291bnQiLCJoZWFkaW5nVHJlZSIsImN1cnJlbnRIZWFkaW5nTGV2ZWwiLCJzZWN0aW9uIiwiY3VycmVudEhlYWRpbmciLCJzZWNvbmRCcmFpbiIsImlucHV0UGxhY2Vob2xkZXIiLCJidXR0b24iLCJtZXNzYWdlVGV4dCIsImlzUHJvY2VzY2NpbmciLCJzZW5kTWVzc2FnZSIsIk5vdGljZSIsIiRtZXNzYWdlcyIsImluamVjdENvbnRleHQiLCJGaWxlU2VsZWN0TW9kYWwiLCJDaGF0TW9kYWwiLCJNb2RhbCIsImFwcCIsIklucHV0Q29tcG9uZW50IiwiZGl2MSIsImRpdjAiLCJidXR0b24wIiwiYnV0dG9uMSIsImh0bWxfYWN0aW9uIiwiZGl2IiwiZGlzcG9zZSIsImdldFRoZW1lQ29sb3IiLCJBSWNvbG9yIiwiVXNlckNvbG9yIiwidG9DbGlwYm9hcmQiLCJFbGVjdHJvbiIsIk1hcmtkb3duUmVuZGVyZXIiLCIkcGx1Z2luIiwiaHRtbFRvTWFya2Rvd24iLCJoMSIsIlZJRVdfVFlQRV9DSEFUIiwiQ2hhdFZpZXciLCJJdGVtVmlldyIsImxlYWYiLCJDaGF0Vmlld0NvbXBvbmVudCIsIlNldHRpbmdzVGFiIiwiUGx1Z2luU2V0dGluZ1RhYiIsImNvbnRhaW5lckVsIiwiU2V0dGluZyIsIkRFRkFVTFRfU0VUVElOR1MiLCJCcmFpblBsdWdpbiIsIlBsdWdpbiIsIkZ1enp5U3VnZ2VzdE1vZGFsIiwidXRpbCIsImFzc2VydElzIiwiX2FyZyIsImFzc2VydE5ldmVyIiwiX3giLCJ2YWxpZEtleXMiLCJjaGVja2VyIiwiam9pblZhbHVlcyIsInNlcGFyYXRvciIsIm9iamVjdFV0aWwiLCJnZXRQYXJzZWRUeXBlIiwiWm9kRXJyb3JfMSIsInV0aWxfMSIsInF1b3RlbGVzc0pzb24iLCJab2RFcnJvciIsImlzc3VlcyIsInN1YiIsInN1YnMiLCJhY3R1YWxQcm90byIsIl9tYXBwZXIiLCJpc3N1ZSIsImZpZWxkRXJyb3JzIiwicHJvY2Vzc0Vycm9yIiwiY3VyciIsImVsIiwiZm9ybUVycm9ycyIsImVuIiwiZXJyb3JNYXAiLCJfY3R4IiwiX19pbXBvcnREZWZhdWx0IiwibW9kIiwiZW5fMSIsIm92ZXJyaWRlRXJyb3JNYXAiLCJzZXRFcnJvck1hcCIsImdldEVycm9yTWFwIiwiZXJyb3JzXzEiLCJtYWtlSXNzdWUiLCJlcnJvck1hcHMiLCJpc3N1ZURhdGEiLCJmdWxsUGF0aCIsImZ1bGxJc3N1ZSIsIm1hcHMiLCJhZGRJc3N1ZVRvQ29udGV4dCIsIlBhcnNlU3RhdHVzIiwiYXJyYXlWYWx1ZSIsInBhaXJzIiwic3luY1BhaXJzIiwicGFpciIsImZpbmFsT2JqZWN0IiwiRElSVFkiLCJPSyIsImlzQWJvcnRlZCIsImlzRGlydHkiLCJpc1ZhbGlkIiwiaXNBc3luYyIsInR5cGVBbGlhc2VzIiwiZXJyb3JVdGlsIiwiZXJyb3JVdGlsXzEiLCJwYXJzZVV0aWxfMSIsIlBhcnNlSW5wdXRMYXp5UGF0aCIsImhhbmRsZVJlc3VsdCIsInByb2Nlc3NDcmVhdGVQYXJhbXMiLCJpbnZhbGlkX3R5cGVfZXJyb3IiLCJyZXF1aXJlZF9lcnJvciIsImlzcyIsIlpvZFR5cGUiLCJkZWYiLCJtYXliZUFzeW5jUmVzdWx0IiwiY2hlY2siLCJnZXRJc3N1ZVByb3BlcnRpZXMiLCJzZXRFcnJvciIsInJlZmluZW1lbnREYXRhIiwicmVmaW5lbWVudCIsIlpvZEVmZmVjdHMiLCJab2RGaXJzdFBhcnR5VHlwZUtpbmQiLCJab2RPcHRpb25hbCIsIlpvZE51bGxhYmxlIiwiWm9kQXJyYXkiLCJab2RQcm9taXNlIiwib3B0aW9uIiwiWm9kVW5pb24iLCJpbmNvbWluZyIsIlpvZEludGVyc2VjdGlvbiIsImRlZmF1bHRWYWx1ZUZ1bmMiLCJab2REZWZhdWx0IiwiWm9kQnJhbmRlZCIsImNhdGNoVmFsdWVGdW5jIiwiWm9kQ2F0Y2giLCJUaGlzIiwiWm9kUGlwZWxpbmUiLCJab2RSZWFkb25seSIsImN1aWRSZWdleCIsImN1aWQyUmVnZXgiLCJ1bGlkUmVnZXgiLCJ1dWlkUmVnZXgiLCJlbWFpbFJlZ2V4IiwiX2Vtb2ppUmVnZXgiLCJlbW9qaVJlZ2V4IiwiaXB2NFJlZ2V4IiwiaXB2NlJlZ2V4IiwiZGF0ZXRpbWVSZWdleCIsImlzVmFsaWRJUCIsImlwIiwidmVyc2lvbiIsIlpvZFN0cmluZyIsInRvb0JpZyIsInRvb1NtYWxsIiwicmVnZXgiLCJ2YWxpZGF0aW9uIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwiY2giLCJmbG9hdFNhZmVSZW1haW5kZXIiLCJ2YWxEZWNDb3VudCIsInN0ZXBEZWNDb3VudCIsImRlY0NvdW50IiwidmFsSW50Iiwic3RlcEludCIsIlpvZE51bWJlciIsIlpvZEJpZ0ludCIsIlpvZEJvb2xlYW4iLCJab2REYXRlIiwibWluRGF0ZSIsIm1heERhdGUiLCJab2RTeW1ib2wiLCJab2RVbmRlZmluZWQiLCJab2ROdWxsIiwiWm9kQW55IiwiWm9kVW5rbm93biIsIlpvZE5ldmVyIiwiWm9kVm9pZCIsImRlZXBQYXJ0aWFsaWZ5IiwiWm9kT2JqZWN0IiwibmV3U2hhcGUiLCJmaWVsZFNjaGVtYSIsIlpvZFR1cGxlIiwic2hhcGUiLCJzaGFwZUtleXMiLCJleHRyYUtleXMiLCJrZXlWYWxpZGF0b3IiLCJ1bmtub3duS2V5cyIsImNhdGNoYWxsIiwiZGVmYXVsdEVycm9yIiwiYXVnbWVudGF0aW9uIiwibWVyZ2luZyIsIm1hc2siLCJuZXdGaWVsZCIsImNyZWF0ZVpvZEVudW0iLCJoYW5kbGVSZXN1bHRzIiwidW5pb25FcnJvcnMiLCJjaGlsZEN0eCIsInR5cGVzIiwiZ2V0RGlzY3JpbWluYXRvciIsIlpvZExhenkiLCJab2RMaXRlcmFsIiwiWm9kRW51bSIsIlpvZE5hdGl2ZUVudW0iLCJab2REaXNjcmltaW5hdGVkVW5pb24iLCJkaXNjcmltaW5hdG9yIiwiZGlzY3JpbWluYXRvclZhbHVlIiwib3B0aW9uc01hcCIsImRpc2NyaW1pbmF0b3JWYWx1ZXMiLCJtZXJnZVZhbHVlcyIsImFUeXBlIiwiYlR5cGUiLCJiS2V5cyIsInNoYXJlZEtleXMiLCJuZXdPYmoiLCJzaGFyZWRWYWx1ZSIsIm5ld0FycmF5IiwiaXRlbUEiLCJpdGVtQiIsImhhbmRsZVBhcnNlZCIsInBhcnNlZExlZnQiLCJwYXJzZWRSaWdodCIsIml0ZW1JbmRleCIsInNjaGVtYXMiLCJab2RSZWNvcmQiLCJ2YWx1ZVR5cGUiLCJ0aGlyZCIsIlpvZE1hcCIsImZpbmFsTWFwIiwiWm9kU2V0IiwiZmluYWxpemVTZXQiLCJwYXJzZWRTZXQiLCJtaW5TaXplIiwibWF4U2l6ZSIsIlpvZEZ1bmN0aW9uIiwibWFrZUFyZ3NJc3N1ZSIsIm1ha2VSZXR1cm5zSXNzdWUiLCJyZXR1cm5zIiwibWUiLCJwYXJzZWRBcmdzIiwicGFyc2VkUmV0dXJucyIsInJldHVyblR5cGUiLCJnZXR0ZXIiLCJleHBlY3RlZFZhbHVlcyIsImVudW1WYWx1ZXMiLCJvcHQiLCJuYXRpdmVFbnVtVmFsdWVzIiwicHJvbWlzaWZpZWQiLCJlZmZlY3QiLCJjaGVja0N0eCIsInByb2Nlc3NlZCIsImV4ZWN1dGVSZWZpbmVtZW50IiwiaW5uZXIiLCJiYXNlIiwicHJlcHJvY2VzcyIsIm5ld0N0eCIsIlpvZE5hTiIsImluUmVzdWx0IiwiY3VzdG9tIiwiZmF0YWwiLCJfZmF0YWwiLCJwMiIsImluc3RhbmNlT2ZUeXBlIiwiY2xzIiwic3RyaW5nVHlwZSIsIm51bWJlclR5cGUiLCJuYW5UeXBlIiwiYmlnSW50VHlwZSIsImJvb2xlYW5UeXBlIiwiZGF0ZVR5cGUiLCJzeW1ib2xUeXBlIiwidW5kZWZpbmVkVHlwZSIsIm51bGxUeXBlIiwiYW55VHlwZSIsInVua25vd25UeXBlIiwibmV2ZXJUeXBlIiwidm9pZFR5cGUiLCJhcnJheVR5cGUiLCJvYmplY3RUeXBlIiwic3RyaWN0T2JqZWN0VHlwZSIsInVuaW9uVHlwZSIsImRpc2NyaW1pbmF0ZWRVbmlvblR5cGUiLCJpbnRlcnNlY3Rpb25UeXBlIiwidHVwbGVUeXBlIiwicmVjb3JkVHlwZSIsIm1hcFR5cGUiLCJzZXRUeXBlIiwiZnVuY3Rpb25UeXBlIiwibGF6eVR5cGUiLCJsaXRlcmFsVHlwZSIsImVudW1UeXBlIiwibmF0aXZlRW51bVR5cGUiLCJwcm9taXNlVHlwZSIsImVmZmVjdHNUeXBlIiwib3B0aW9uYWxUeXBlIiwibnVsbGFibGVUeXBlIiwicHJlcHJvY2Vzc1R5cGUiLCJwaXBlbGluZVR5cGUiLCJvc3RyaW5nIiwib251bWJlciIsIm9ib29sZWFuIiwiX19jcmVhdGVCaW5kaW5nIiwiazIiLCJfX2V4cG9ydFN0YXIiLCJyZXF1aXJlJCQ1IiwiX19zZXRNb2R1bGVEZWZhdWx0IiwiX19pbXBvcnRTdGFyIiwieiIsImFueSIsInBhcnNlQW55RGVmIiwiZXJyb3JNZXNzYWdlcyIsImFkZEVycm9yTWVzc2FnZSIsInJlZnMiLCJzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIiwiem9kXzEiLCJlcnJvck1lc3NhZ2VzXzEiLCJwYXJzZURlZl8xIiwicGFyc2VBcnJheURlZiIsImJpZ2ludCIsInBhcnNlQmlnaW50RGVmIiwiYm9vbGVhbiIsInBhcnNlQm9vbGVhbkRlZiIsImJyYW5kZWQiLCJwYXJzZUJyYW5kZWREZWYiLCJfZGVmIiwiX2NhdGNoIiwicGFyc2VDYXRjaERlZiIsInBhcnNlRGF0ZURlZiIsImludGVnZXJEYXRlUGFyc2VyIiwicGFyc2VEZWZhdWx0RGVmIiwiZWZmZWN0cyIsInBhcnNlRWZmZWN0c0RlZiIsIl9lbnVtIiwicGFyc2VFbnVtRGVmIiwiX19yZXN0IiwiaW50ZXJzZWN0aW9uIiwiaXNKc29uU2NoZW1hN0FsbE9mVHlwZSIsInBhcnNlSW50ZXJzZWN0aW9uRGVmIiwiYWxsT2YiLCJ1bmV2YWx1YXRlZFByb3BlcnRpZXMiLCJtZXJnZWRBbGxPZiIsIm5lc3RlZFNjaGVtYSIsImxpdGVyYWwiLCJwYXJzZUxpdGVyYWxEZWYiLCJwYXJzZWRUeXBlIiwicGFyc2VNYXBEZWYiLCJuYXRpdmVFbnVtIiwicGFyc2VOYXRpdmVFbnVtRGVmIiwiYWN0dWFsVmFsdWVzIiwicGFyc2VkVHlwZXMiLCJuZXZlciIsInBhcnNlTmV2ZXJEZWYiLCJfbnVsbCIsInBhcnNlTnVsbERlZiIsInBhcnNlVW5pb25EZWYiLCJhc0FueU9mIiwidW5pcXVlVHlwZXMiLCJhbnlPZiIsIm51bGxhYmxlIiwidW5pb25fMSIsInBhcnNlTnVsbGFibGVEZWYiLCJwYXJzZU51bWJlckRlZiIsInBhcnNlT2JqZWN0RGVmWCIsImlzT3B0aW9uYWwiLCJwcm9wU2NoZW1hIiwicHJvcE5hbWUiLCJwcm9wRGVmIiwicGFyc2VkRGVmIiwicGFyc2VPYmplY3REZWYiLCJvcHRpb25hbCIsInBhcnNlT3B0aW9uYWxEZWYiLCJpbm5lclNjaGVtYSIsInBpcGVsaW5lIiwicGFyc2VQaXBlbGluZURlZiIsInBhcnNlUHJvbWlzZURlZiIsInBhcnNlU3RyaW5nRGVmIiwiYWRkRm9ybWF0IiwiYWRkUGF0dGVybiIsImVzY2FwZU5vbkFscGhhTnVtZXJpYyIsInN0cmluZ18xIiwicGFyc2VSZWNvcmREZWYiLCJwYXJzZVNldERlZiIsInR1cGxlIiwicGFyc2VUdXBsZURlZiIsIl91bmRlZmluZWQiLCJwYXJzZVVuZGVmaW5lZERlZiIsInVua25vd24iLCJwYXJzZVVua25vd25EZWYiLCJhbnlfMSIsImFycmF5XzEiLCJiaWdpbnRfMSIsImJvb2xlYW5fMSIsImJyYW5kZWRfMSIsImNhdGNoXzEiLCJyZXF1aXJlJCQ2IiwiZGF0ZV8xIiwicmVxdWlyZSQkNyIsImRlZmF1bHRfMSIsInJlcXVpcmUkJDgiLCJlZmZlY3RzXzEiLCJyZXF1aXJlJCQ5IiwiZW51bV8xIiwicmVxdWlyZSQkMTAiLCJpbnRlcnNlY3Rpb25fMSIsInJlcXVpcmUkJDExIiwibGl0ZXJhbF8xIiwicmVxdWlyZSQkMTIiLCJtYXBfMSIsInJlcXVpcmUkJDEzIiwibmF0aXZlRW51bV8xIiwicmVxdWlyZSQkMTQiLCJuZXZlcl8xIiwicmVxdWlyZSQkMTUiLCJudWxsXzEiLCJyZXF1aXJlJCQxNiIsIm51bGxhYmxlXzEiLCJyZXF1aXJlJCQxNyIsIm51bWJlcl8xIiwicmVxdWlyZSQkMTgiLCJyZXF1aXJlJCQxOSIsIm9wdGlvbmFsXzEiLCJyZXF1aXJlJCQyMCIsInBpcGVsaW5lXzEiLCJyZXF1aXJlJCQyMSIsInByb21pc2VfMSIsInJlcXVpcmUkJDIyIiwicmVjb3JkXzEiLCJyZXF1aXJlJCQyMyIsInNldF8xIiwicmVxdWlyZSQkMjQiLCJyZXF1aXJlJCQyNSIsInR1cGxlXzEiLCJyZXF1aXJlJCQyNiIsInVuZGVmaW5lZF8xIiwicmVxdWlyZSQkMjciLCJyZXF1aXJlJCQyOCIsInVua25vd25fMSIsInJlcXVpcmUkJDI5IiwicGFyc2VEZWYiLCJmb3JjZVJlc29sdXRpb24iLCJzZWVuSXRlbSIsInNlZW5TY2hlbWEiLCJnZXQkcmVmIiwibmV3SXRlbSIsImpzb25TY2hlbWEiLCJzZWxlY3RQYXJzZXIiLCJhZGRNZXRhIiwiZ2V0UmVsYXRpdmVQYXRoIiwicGF0aEEiLCJwYXRoQiIsInR5cGVOYW1lIiwiZ2V0RGVmYXVsdE9wdGlvbnMiLCJSZWZzIiwiT3B0aW9uc18xIiwiZ2V0UmVmcyIsImN1cnJlbnRQYXRoIiwiem9kVG9Kc29uU2NoZW1hXzEiLCJSZWZzXzEiLCJ6b2RUb0pzb25TY2hlbWEiLCJkZWZpbml0aW9ucyIsIm1haW4iLCJjb21iaW5lZCIsImZvcm1hdFRvT3BlbkFJRnVuY3Rpb24iLCJCYXNlQ2hhdE1vZGVsIiwiX21lc3NhZ2VzIiwiYmFzZU1lc3NhZ2VzIiwibWVzc2FnZUxpc3QiLCJsbG1PdXRwdXRzIiwicFJlc3VsdCIsImJhc2VNZXNzYWdlIiwicHJvbXB0TWVzc2FnZXMiLCJleHRyYWN0R2VuZXJpY01lc3NhZ2VDdXN0b21Sb2xlIiwibWVzc2FnZVRvT3BlbkFJUm9sZSIsIm9wZW5BSVJlc3BvbnNlVG9DaGF0TWVzc2FnZSIsIl9jb252ZXJ0RGVsdGFUb01lc3NhZ2VDaHVuayIsImRlZmF1bHRSb2xlIiwiYWRkaXRpb25hbF9rd2FyZ3MiLCJDaGF0T3BlbkFJIiwibWVzc2FnZXNNYXBwZWQiLCJzdHJlYW1JdGVyYWJsZSIsImZpbmFsQ2h1bmtzIiwiYUtleSIsImJLZXkiLCJ0b3RhbENvdW50IiwidG9rZW5zUGVyTWVzc2FnZSIsInRva2Vuc1Blck5hbWUiLCJjb3VudFBlck1lc3NhZ2UiLCJ0ZXh0Q291bnQiLCJyb2xlQ291bnQiLCJuYW1lQ291bnQiXSwibWFwcGluZ3MiOiJrV0FDTyxTQUFTQSxJQUFPLENBQUUsQ0FXbEIsU0FBU0MsR0FBT0MsRUFBS0MsRUFBSyxDQUVoQyxVQUFXQyxLQUFLRCxFQUFLRCxFQUFJRSxDQUFDLEVBQUlELEVBQUlDLENBQUMsRUFDbkMsT0FBNkJGLENBQzlCLENBdUJPLFNBQVNHLEdBQUlDLEVBQUksQ0FDdkIsT0FBT0EsRUFBRSxDQUNWLENBRU8sU0FBU0MsSUFBZSxDQUM5QixPQUFPLE9BQU8sT0FBTyxJQUFJLENBQzFCLENBTU8sU0FBU0MsR0FBUUMsRUFBSyxDQUM1QkEsRUFBSSxRQUFRSixFQUFHLENBQ2hCLENBTU8sU0FBU0ssR0FBWUMsRUFBTyxDQUNsQyxPQUFPLE9BQU9BLEdBQVUsVUFDekIsQ0FHTyxTQUFTQyxHQUFlQyxFQUFHQyxFQUFHLENBQ3BDLE9BQU9ELEdBQUtBLEVBQUlDLEdBQUtBLEVBQUlELElBQU1DLEdBQU1ELEdBQUssT0FBT0EsR0FBTSxVQUFhLE9BQU9BLEdBQU0sVUFDbEYsQ0FzRE8sU0FBU0UsR0FBU0MsRUFBSyxDQUM3QixPQUFPLE9BQU8sS0FBS0EsQ0FBRyxFQUFFLFNBQVcsQ0FDcEMsQ0FTTyxTQUFTQyxHQUFVQyxLQUFVQyxFQUFXLENBQzlDLEdBQUlELEdBQVMsS0FBTSxD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LEVBQUUsS0FBSyxTQUFTLE1BQU0sVUFBVSxNQUFNLEtBQUtuYixDQUFDLENBQUMsQ0FBQyxFQUFFLFdBQVcsU0FBU0EsRUFBRSxDQUFDLE9BQU9tYixFQUFFLFlBQVksRUFBRSxLQUFLLFNBQVMsTUFBTSxVQUFVLE1BQU0sS0FBS25iLENBQUMsQ0FBQyxDQUFDLEVBQUUsYUFBYSxTQUFTQSxFQUFFLENBQUMsT0FBT21iLEVBQUUsY0FBYyxFQUFFLEtBQUssU0FBUyxNQUFNLFVBQVUsTUFBTSxLQUFLbmIsQ0FBQyxDQUFDLENBQUMsRUFBRSxZQUFZLFNBQVNBLEVBQUUsQ0FBQyxPQUFPbWIsRUFBRSxhQUFhLEVBQUUsS0FBSyxTQUFTLE1BQU0sVUFBVSxNQUFNLEtBQUtuYixDQUFDLENBQUMsQ0FBQyxFQUFFLGFBQWEsU0FBU0EsRUFBRSxDQUFDLE9BQU9tYixFQUFFLGNBQWMsRUFBRSxLQUFLLFNBQVMsTUFBTSxVQUFVLE1BQU0sS0FBS25iLENBQUMsQ0FBQyxDQUFDLEVBQUUsWUFBWSxTQUFTQSxFQUFFLENBQUMsT0FBT21iLEVBQUUsYUFBYSxFQUFFLEtBQUssU0FBUyxNQUFNLFVBQVUsTUFBTSxLQUFLbmIsQ0FBQyxDQUFDLENBQUMsRUFBRSxjQUFjLFNBQVNBLEVBQUUsQ0FBQyxPQUFPbWIsRUFBRSxlQUFlLEVBQUUsS0FBSyxTQUFTLE1BQU0sVUFBVSxNQUFNLEtBQUtuYixDQUFDLENBQUMsQ0FBQyxFQUFFLGNBQWMsU0FBU0EsRUFBRSxDQUFDLE9BQU9tYixFQUFFLGVBQWUsRUFBRSxLQUFLLFNBQVMsTUFBTSxVQUFVLE1BQU0sS0FBS25iLENBQUMsQ0FBQyxDQUFDLEVBQUUsYUFBYSxTQUFTQSxFQUFFLENBQUMsT0FBT21iLEVBQUUsY0FBYyxFQUFFLEtBQUssU0FBUyxJQUFJLFdBQVduYixDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssU0FBU0EsRUFBRSxDQUFDLE9BQU9tYixFQUFFLE9BQU9uYixFQUFFLFNBQVUsQ0FBQSxDQUFDLEVBQUUsS0FBSyxTQUFTQSxFQUFFLENBQUMsT0FBQW1i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QU1aLEdBQUcsa0JBQWtCLENBQUMsQ0FBQ3NLLEVBQUUsU0FBUyxTQUFTMUosRUFBRSxDQUFDLE9BQU9BLEVBQUUsVUFBVSxHQUFHQSxFQUFFLEtBQUtBLEVBQUUsSUFBSUEsRUFBRSxLQUFLQSxFQUFFLElBQUlBLEVBQUUsSUFBSVosRUFBRSxJQUFJWSxFQUFFLElBQUlaLEVBQUUsSUFBSVksRUFBRSxNQUFNWixFQUFFLE1BQU1ZLEVBQUUsU0FBU1osRUFBRSxTQUFTWSxFQUFFLGVBQWVaLEVBQUUsU0FBU1ksRUFBRSxPQUFPWixFQUFFLE9BQU9ZLEVBQUUsS0FBS1osRUFBRSxLQUFLWSxFQUFFLE1BQU1aLEVBQUUsTUFBTVksRUFBRSxVQUFVWixFQUFFLFVBQVVZLEVBQUUsYUFBYVosRUFBRSxhQUFhWSxFQUFFLGFBQWFaLEVBQUUsYUFBYVksRUFBRSxhQUFhWixFQUFFLGFBQWFZLEVBQUUsYUFBYVosRUFBRSxhQUFhWSxFQUFFLFNBQVNaLEVBQUUsU0FBU1ksRUFBRSxZQUFZWixFQUFFLFlBQVlZLEVBQUUsWUFBWVosRUFBRSxZQUFZWSxFQUFFLFlBQVlaLEVBQUUsWUFBWVksRUFBRSxZQUFZWixFQUFFLFlBQVlZLEVBQUUsWUFBWVosRUFBRSxZQUFZWSxFQUFFLFlBQVlaLEVBQUUsWUFBWVksRUFBRSxhQUFhWixFQUFFLGFBQWFZLEVBQUUsYUFBYVosRUFBRSxhQUFhWSxFQUFFLFdBQVdaLEVBQUUsV0FBV1ksRUFBRSxjQUFjWixFQUFFLGNBQWNZLEVBQUUsY0FBY1osRUFBRSxjQUFjWSxFQUFFLGNBQWNaLEVBQUUsY0FBY1ksRUFBRSxjQUFjWixFQUFFLGNBQWNZLEVBQUUsVUFBVVosRUFBRSxVQUFVWSxFQUFFLGFBQWFaLEVBQUUsYUFBYVksRUFBRSxhQUFhWixFQUFFLGFBQWFZLEVBQUUsYUFBYVosRUFBRSxhQUFhWSxFQUFFLGFBQWFaLEVBQUUsYUFBYVksRUFBRSxhQUFhWixFQUFFLGFBQWFZLEVBQUUsYUFBYVosRUFBRSxhQUFhWSxFQUFFLGNBQWNaLEVBQUUsY0FBY1ksRUFBRSxjQUFj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cUJtMUMsRUFBWSxDQUM3QixPQUFPQSxFQUFXLE9BQU8sQ0FBQ3JyRSxFQUFLKzBCLEtBQ3ZCQSxHQUFhQSxFQUFVLGFBQ3ZCLzBCLEVBQUksV0FBVyxrQkFDWCswQixFQUFVLFdBQVcsa0JBQW9CLEVBQzdDLzBCLEVBQUksV0FBVyxjQUFnQiswQixFQUFVLFdBQVcsY0FBZ0IsRUFDcEUvMEIsRUFBSSxXQUFXLGFBQWUrMEIsRUFBVSxXQUFXLGFBQWUsR0FFL0QvMEIsR0FDUixDQUNDLFdBQVksQ0FDUixpQkFBa0IsRUFDbEIsYUFBYyxFQUNkLFlBQWEsQ0FDaEIsQ0FDYixDQUFTLENBQ0osQ0FDTCIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDQ5LDUwLDUxLDUyLDUzLDU0LDU1LDU2LDU3LDU4LDU5LDYwLDYxLDYyLDYzLDY0LDY1LDY2LDY3LDY4LDY5LDcwLDcxLDcyLDczLDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgxLDgyLDgzLDg0LDg1LDg2LDg3LDg4LDg5LDkwLDkxLDkyLDkzLDk0LDk1LDk2LDk3LDk4LDk5LDEwMCwxMDEsMTAyLDEwMywxMDQsMTA1LDEwNiwxMDcsMTA4LDEwOSwxMTAsMTExLDExMiwxMTMsMTE0LDExNSwxMTYsMTE3LDExOCwxMTksMTIwLDEyMSwxMjIsMTIzLDEyNCwxMjUsMTI2LDEyNywxMjgsMTI5LDEzMCwxMzEsMTMyLDEzMywxMzQsMTM1LDEzNiwxMzcsMTM4LDEzOSwxNDAsMTQxLDE0MiwxNDMsMTQ0LDE0NSwxNDYsMTQ3LDE0OCwxNDksMTUwLDE1MSwxNTIsMTUzLDE1NCwxNTUsMTU2LDE1NywxNTgsMTU5LDE2MCwxNjEsMTYyLDE2MywxNjQsMTY5LDE3MCwxNzYsMTc3LDE3OCwxNzksMTgwLDE4MSwxODIsMTgzLDE4NCwxODUsMTg2LDE4NywxODgsMTg5LDE5MCwxOTEsMTkyLDE5MywxOTQsMTk1LDE5NiwxOTcsMTk4LDE5OSwyMDAsMjAxLDIwMiwyMDMsMjA0LDIwNSwyMDYsMjA3LDIwOCwyMDksMjEwLDIxMSwyMTIsMjEzLDIxNCwyMTUsMjE2LDIxNywyMTgsMjE5LDIyMCwyMjEsMjIyLDIyM119
